var ToggleAudio=function(_video,_params){var _this=this,player,control={},handler={};function onLoaded(e){console.log("onLoaded"),onVolumeChange(e)}function onVolumeChange(e){player.muted?(control.mute.style.display="block",control.unmute.style.display="none",control.randomEffect&&(clearInterval(control.interval),control.interval=setInterval((function(){for(var i=0;i<document.getElementById("sound_bar").children.length;i++){var randomPercentage=util.getRandomInt(0,control.maxRandomPercentage);document.getElementById("sound_bar").children[i].style.top=randomPercentage+"%"}}),120))):(clearInterval(control.interval),control.mute.style.display="none",control.unmute.style.display="block")}function onClick(e){player.muted=!player.muted,handler.onclick instanceof Function&&handler.onclick()}function onRoll(e){switch(handler.onroll instanceof Function&&handler.onroll(),console.log(control.colorOn),control.type){case"equalizer":for(var idx=0;idx<control.mute.children.length;idx++)control.mute.children[idx].style.backgroundColor=control.colorOn;break;case"normal":if(gsap)gsap.to(".mute_icon",{duration:.2,fill:control.colorOn}),gsap.to("#mauline1",{duration:.2,x:10,y:10,opacity:0,scale:.5,transformOrigin:"50% 50%",onComplete:function(){gsap.fromTo("#mauline1",{x:-5,y:-5,opacity:0,scale:.5},{duration:.2,x:0,y:0,opacity:1,scale:1,ease:"back.out"})}}),gsap.to("#mauline2",{duration:.2,x:10,y:-10,opacity:0,scale:.5,transformOrigin:"50% 50%",onComplete:function(){gsap.fromTo("#mauline2",{x:-5,y:5,opacity:0,scale:.5},{duration:.2,x:0,y:0,opacity:1,scale:1,ease:"back.out"})}});else for(var elements=document.querySelectorAll(".unmute_icon"),i=0;i<elements.length;i++)elements[i].setAttribute("fill",control.colorOn)}if(gsap)gsap.to(".unmute_icon",{duration:.2,fill:control.colorOn}),gsap.to(["#unauline2","#unauline1"],{duration:.2,x:2,scale:1.3,opacity:0,transformOrigin:"50% 50%",stagger:.1,onComplete:function(){gsap.fromTo(["#unauline2","#unauline1"],{x:-2,opacity:0,scale:1},{duration:.2,x:0,opacity:1,scale:1,stagger:.1})}});else for(var elements=document.querySelectorAll(".unmute_icon"),i=0;i<elements.length;i++)elements[i].setAttribute("fill",control.colorOn)}function onOut(e){switch(handler.onout instanceof Function&&handler.onout(),control.type){case"equalizer":for(var idx=0;idx<control.mute.children.length;idx++)control.mute.children[idx].style.backgroundColor=control.colorOff;break;case"normal":gsap.to(".mute_icon",{duration:.2,fill:control.colorOff})}if(gsap)gsap.to(".unmute_icon",{duration:.2,fill:control.colorOff});else for(var elements=document.querySelectorAll(".unmute_icon"),i=0;i<elements.length;i++)elements[i].setAttribute("fill",control.colorOff)}this.init=function(video,params){if("VIDEO"==(player=document.getElementById(video)||video).nodeName){if(control.wrapper=document.getElementById(_params.wrapper)||_params.wrapper,control.type=_params.type,control.mute=document.getElementById(_params.mute)||_params.mute,control.unmute=document.getElementById(_params.unmute)||_params.unmute,control.colorOff=_params.colorOff||"white",control.colorOn=_params.colorOn,control.randomEffect=_params.randomEffect||!0,control.maxRandomPercentage=_params.maxRandomPercentage||60,control.interval="",handler.onclick=_params.handler.onclick,handler.onroll=_params.handler.onroll,handler.onout=_params.handler.onout,player.addEventListener("volumechange",onVolumeChange),player.addEventListener("loadedmetadata",onLoaded),control.wrapper&&control.mute&&control.unmute&&(control.wrapper.addEventListener("click",onClick),control.wrapper.addEventListener("mouseenter",onRoll),control.wrapper.addEventListener("mouseleave",onOut),control.wrapper.addEventListener("touchstart",onRoll),control.wrapper.addEventListener("touchend",onOut),control.randomEffect))for(var idx=0;idx<control.mute.children.length;idx++)control.mute.children[idx].style.animationName="no-name",console.log(control.mute.children[idx].style.animationName);"normal"==control.type?document.getElementById("sound_bar").style.display="none":document.getElementById("sound_mute").style.display="none",onOut()}},this.init(_video,_params)};
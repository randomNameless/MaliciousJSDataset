(self.webpackChunkgiantbomb=self.webpackChunkgiantbomb||[]).push([[1179],{963:(t,e,i)=>{var s=i(9755);s((function(){"use strict";var t=function(){s(".js-autocompleter-checkbox-span").each((function(){var t=s(this);if(!t.data("initialized")){var e=t.parent().find(".js-autocompleter-checkbox").find("input").first();t.on("click",(function(i){e.prop("checked")?(e.prop("checked",!1),t.text("Click to match all above")):(e.prop("checked",!0),t.text("Click to match individually above")),i.preventDefault()})),t.data("initialized",!0)}}))};t(),s(document).ajaxStop((function(){t()}))}))},6361:(t,e,i)=>{var s=i(9755);!function(t){"use strict";t.fn.autocomplete=function(e){var i=e||{},s=t();if("string"==typeof e)throw new Error("Please pass options as an object.");return this.each((function(){if(!t(this).data().autocompleter){var e=t(this).data(),o=t.extend({},t.fn.autocomplete.defaults,i,e);if("string"==typeof o.enableForMedia&&window.matchMedia&&!window.matchMedia(o.enableForMedia).matches)return!1;!1===o.multiple&&(o.podLimit=1),s.add(new c(t(this),o))}}))},t.fn.autocomplete.defaults={selectClass:"selected",queryParamName:"q",extraParams:{},url:"/jsonsearch/",makeUrlFunction:null,minChars:1,maxItemsToShow:10,delay:300,useCache:!1,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,preventDefaultReturn:!0,preventDefaultTab:!1,filterResults:!1,sortResults:!1,sortFunction:null,matchStringConverter:null,autoWidth:"min-width",useDelimiter:!1,delimiterChar:",",delimiterKeyCode:188,autoRedirect:!1,emptyText:"'tis but a barren wasteland",showEmptyText:!0,podInputName:null,podInputNoIndex:!1,searchIndex:null,searchField:null,searchFilter:null,extendResultPodData:!1,podLimit:5,inputRequired:null,showNotificationBar:!1,parentModal:null,extraClasses:null,sortable:!1,sortableOrderFieldName:null,multiple:!0,notificationText:null,notificationClass:null,notificationBarSearch:!1,notificationSearchUrl:null,afterShowResults:null,finishOnBlur:!0,showMore:!0,flexboxAutocomplete:!1,bodyOnClickFilter:[],enableForMedia:null,podClass:"resultPod",embargoedClass:"embargoed",advancedOptions:!1,limitOptions:!1,selectFiltering:!1,advancedFiltering:!1,staffOnlyOption:!1,externalAnchor:!1};t.extend(t.fn.autocomplete.defaults,{onActivate:null,onFetchRemoteData:null,onItemSelect:null,onNoMatch:null,onFinish:null,onRequestComplete:null,onError:null,onDisplayResults:null,onHideResults:null,onNotificationBarClick:null});var e,i=t(window),o=".js-autocomplete-notification-bar",a=function(t,e,i){var s=parseInt(t,10);return i=i||{},(isNaN(s)||i.min&&s<i.min)&&(s=e),s},n=function(e,i){var s=[];return t.each(i,(function(t,e){s.push(function(t,e){return[t,encodeURIComponent(e)].join("=")}(t,e))})),s.length&&(e+=-1===e.indexOf("?")?"?":"&",e+=s.join("&")),e},r=function(t){var e=i.scrollTop()+i.height()-t.offset().top;t.css("max-height",e+"px")},l=(e={},function(i,s,o){var a,n,r=s;if(o&&(r=s+"-legacy"),!(a=e[r])&&(0===(n=t("#"+r)).length&&(n=t("#"+s)),n.length>0))try{a=e[r]=_.template(n.html(),{variable:"data"})}catch(t){}return a?a(i):"ERROR: Invalid Template"}),h=function(t){return l({direction:t},"js-template-autocomplete-pagination")},c=function(e,s){if(!(e&&e instanceof t&&1===e.length&&"INPUT"===e.get(0).tagName.toUpperCase()))throw new Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT tag expected.");var n,c,d,u=this;if(this.options=s,this.cacheData_={},this.cacheLength_=0,this.selectClass_=this.options.selectClass,this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1,this.finishOnBlur_=this.options.finishOnBlur,this.paginationOffset_=0,this.pageNumber_=1,this.maxOffset_=0,this.extraParams_=t.extend({},this.options.extraParams)||{},this.podCount_=0,this.curJQXHR_=null,this.resultsShowing=!1,this.resultsPaginating_=!1,this.isLoading=!1,this.options.minChars=a(this.options.minChars,t.fn.autocomplete.defaults.minChars,{min:0}),this.options.maxItemsToShow=a(this.options.maxItemsToShow,t.fn.autocomplete.defaults.maxItemsToShow,{min:0}),this.options.maxCacheLength=a(this.options.maxCacheLength,t.fn.autocomplete.defaults.maxCacheLength,{min:1}),this.options.delay=a(this.options.delay,t.fn.autocomplete.defaults.delay,{min:0}),this.dom={},this.dom.$elem=e,this.dom.$parent=e.parent(".autocomplete"),this.dom.$first=null,this.dom.$notificationBar=null,!this.options.autoRedirect&&this.dom.$parent&&(this.dom.$existingPods=this.dom.$parent.find(".resultPod"),this.podCount_=this.dom.$existingPods.length),this.overrideValue=null,this.lastProcessedLimit=null,this.lastProcessedIndexArray=[],this.options.inputRequired=!!e.attr("required"),this.options.podInputName=this.options.podInputName||this.dom.$elem.attr("name"),this.dom.$elem.attr("autocomplete","off"),this.dom.$results=t((n={showNotificationBar:s.showNotificationBar},c=s.flexboxAutocomplete,l(n,"js-template-autocomplete-results",!c))).addClass(this.options.extraClasses).hide(),this.dom.$loader=this.dom.$results.find(".js-loader"),this.options.showMore&&(this.dom.$prev=t(h("prev")),this.dom.$next=t(h("next")),this.dom.$results.on("click goto",".js-autocomplete-page",(function(e){u.paginate(t(this).data("direction"))}))),u.onResizeHandler=function(){var t=u.dom.$results;if(u.options.flexboxAutocomplete)"absolute"===t.css("position")&&r(t);else{var e=u.dom.$elem.outerWidth();e>0&&u.dom.$results.css("width",e+"px"),u.position(),r(t)}},i.on("resize",this.onResizeHandler),this.dom.$resultList=this.dom.$results.find(".js-autocomplete-list"),this.dom.$container=this.options.parentModal?t(this.options.parentModal):Phoenix.jQuery.getBody(),this.options.showNotificationBar){var m=this.dom.$resultList.find(o);this.options.notificationClass&&m.addClass(this.options.notificationClass),this.dom.$first=m,this.dom.$notificationTerm=this.dom.$results.find(".js-autocomplete-notification-term"),this.dom.$notificationText=this.dom.$results.find(".js-autocomplete-notification-text"),this.dom.$notificationBar=m;var p=this;this.options.notificationBarSearch?m.click((function(t){var e=p.dom.$elem.val(),i=p.makeUrl(e,p.options.notificationSearchUrl);window.location=i})):this.options.onNotificationBarClick&&m.click((function(t){p.options.onNotificationBarClick(t,p)}))}e.keydown((function(t,e){switch(u.lastKeyPressed_=t.keyCode,u.lastKeyPressed_){case u.options.delimiterKeyCode:u.options.useDelimiter&&u.active_&&u.selectCurrent();break;case 35:case 36:case 16:case 17:case 18:case 37:case 39:break;case 38:return t.preventDefault(),u.active_?u.focusPrev():u.activate(),!1;case 40:return t.preventDefault(),u.active_?u.focusNext():u.activate(),!1;case 9:if(u.active_&&(u.deactivate(!0),u.options.preventDefaultTab))return t.preventDefault(),!1;break;case 8:if(0===t.target.selectionEnd||t.target.value.length<=0)u.dom.$parent.find(".resultPod:last").addClass("selected");else u.removeExtraParam("page"),u.pageNumber_=1,u.activate();break;case 13:if(!0===e)return u.removeExtraParam("page"),u.pageNumber_=1,u.activateNow(!0),t.preventDefault(),!1;if(u.active_)return u.selectCurrent(),t.preventDefault(),!1;if(u.options.preventDefaultReturn)return t.preventDefault(),!1;break;case 27:if(u.active_||e)return t.preventDefault(),u.deactivate(!0),!1;break;default:u.dom.$parent.find(".resultPod:last").removeClass("selected"),u.removeExtraParam("page"),u.pageNumber_=1,u.activate()}})).click((function(){u.activateNow()})),this.bodyClickEvent=null,this.onClickHandler=function(i){var s=!1,o=t(i.target);if(t.each(u.options.bodyOnClickFilter,(function(e,i){if(s=o.is(i)||0!==t(i).find(o).length&&!o.hasClass("js-autocomplete-list-close"))return!1})),!s){if(i.target==e[0]||o.hasClass("next")||o.hasClass("prev"))return i.preventDefault(),!1;u.resultsPaginating_=!1,u.deactivate()}},this.dom.$body=t("body"),this.checkRequiredAttribute=function(){this.options.inputRequired&&(this.podCount_>0?e.removeAttr("required"):e.attr("required","required"))},this.removeResult=function(t){this.dom.$elem.trigger("removeResultPod",t),t.remove(),u.podCount_--,u.checkRequiredAttribute(),(null===u.options.podLimit||u.podCount_<u.options.podLimit)&&u.dom.$elem.removeClass("hide"),this.dom.$elem.trigger("removeResultPodComplete",t)},this.dom.$parent.length>0&&this.dom.$parent.on("click",".resultPod i:has(svg.symbol-remove)",(function(e){e.preventDefault(),e.stopPropagation(),u.removeResult(t(this).parent(".resultPod"))})),null!==this.options.podLimit&&this.podCount_>=this.options.podLimit&&this.dom.$elem.addClass("hide"),this.options.sortable&&(d=this.dom.$parent,Sortable?Sortable.create(d[0],{ghostClass:"resultPod-placeholder"}):Phoenix.Core.debug("autocompleter: Wanted to make sortable but required SortableJS is not present.")),this.checkRequiredAttribute(),i.on("scroll",(function(t){u.checkScroll(t)})),e.data("autocompleter",!0),e.data("autocompleterObject",this);var f=this.dom.$parent.attr("data-seed-value");if(f){var g={guid:f.split(":")[0],name:f.substring(f.indexOf(":")+1)};this.addResultPodFromTemplate(g)}var v=function(){if(e.val().length){var i=t.Event("keydown");i.keyCode=13,e.trigger(i,!0)}},b=t("input[name=advanced-indexes-"+this.dom.$elem.attr("id")+"]"),x=t("input[name=limit-"+this.dom.$elem.attr("id")+"]");return e.parent().find(".js-filter-search").change((function(){v()})),b.click((function(){event.stopPropagation(),v()})),x.click((function(){event.stopPropagation(),v()})),t("input[name=advanced-indexes-"+this.dom.$elem.attr("id")+"-check-all]").click((function(t){t.preventDefault(),b.prop("checked",!0),t.stopPropagation(),v()})),t("input[name=advanced-indexes-"+this.dom.$elem.attr("id")+"-uncheck-all]").click((function(t){t.preventDefault(),b.prop("checked",!1),t.stopPropagation(),v()})),t("#staff-option-"+this.dom.$elem.attr("id")).click((function(t){t.stopPropagation(),v()})),this.dom.$results},d=c.prototype;d.position=function(){if(!this.options.flexboxAutocomplete){var t=this.dom.$elem.offset(),e={top:t.top+this.dom.$elem.outerHeight(),left:t.left};this.dom.$results.css(e)}},d.checkScroll=function(t){this.resultsShowing&&this.position()},d.cacheRead=function(t){var e,i,s,o,a;if(this.options.useCache)for(e=(t=String(t)).length,i=this.options.matchSubset?1:e;i<=e;){for(o=this.options.matchInside?e-i:0,a=0;a<=o;){if(s=t.substr(0,i),void 0!==this.cacheData_[s])return this.cacheData_[s];a++}i++}return!1},d.cacheWrite=function(t,e){return!!this.options.useCache&&(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),t=String(t),void 0!==this.cacheData_[t]&&this.cacheLength_++,this.cacheData_[t]=e,this.cacheData_[t])},d.cacheFlush=function(){this.cacheData_={},this.cacheLength_=0},d.callHook=function(e,i){var s=this.options[e];return!(!s||!t.isFunction(s))&&s(i,this)},d.debounce=function(t,e){let i=null;return function(...s){const o=this;window.clearTimeout(i),i=window.setTimeout((function(){t.apply(o,s)}),e)}},d.activate=d.debounce((function(){this.maxOffset_=0,this.activateNow()}),400),d.activateNow=function(t){var e=null;this.options.onActivate&&(e=this.options.onActivate.call(this)),null===this.bodyClickEvent&&(this.bodyClickEvent=this.onClickHandler,this.dom.$body.on("click.autocomplete",this.bodyClickEvent)),this.checkSearchIndex(),this.checkSearchField(),this.abandonAJAX();var i=this.dom.$elem.val().trim();e&&(i=e),this.overrideValue&&(i=this.overrideValue),i?(t||i!==this.lastProcessedValue_&&i!==this.lastSelectedValue_?(this.options.showNotificationBar&&this.showNotificationBar(i),this.fetchData(i)):i===this.lastProcessedValue_&&this.displayResults(),this.dom.$elem.data("searchActivated",!0)):this.deactivate(!1)},d.abandonAJAX=function(){return!(!this.curJQXHR_||4==this.curJQXHR_.readyState)&&(this.curJQXHR_.abort(),this.toggleLoader(!1),!0)},d.fetchData=function(e){var i=this,s=function(t,e){i.showResults(i.filterResults(t,e),e)};if(this.lastProcessedValue_=e,e.length<this.options.minChars)return!1;this.options.data?"function"==typeof this.options.data?s(this.options.data(),e):s(this.options.data,e):this.fetchRemoteData(e,(function(o){t.isFunction(i.options.onRequestComplete)&&i.options.onRequestComplete(o,e),s(o,e)}))},d.fetchRemoteData=function(e,i){var s,a=this.cacheRead(e),n=this,r=this.dom.$resultList;this.curJQXHR_=null,this.dom.$container.append(this.dom.$results),a?i(a):(s=function(t){var s=!1;n.toggleLoader(!1),!1!==t&&(s=n.parseRemoteData(t),n.cacheWrite(e,s),i(s))},r.find("li:not("+o+")").remove(),this.toggleLoader(!0),t.isFunction(n.options.onFetchRemoteData)&&n.options.onFetchRemoteData(this),this.curJQXHR_=t.ajax({url:this.makeUrl(e),success:s,error:function(e,i,o){"abort"!==o&&0!==this.readyState&&(t.isFunction(n.options.onError)?n.options.onError(e,i,o):s(!1))},dataType:"json"}))},d.setExtraParam=function(e,i){var s=t.trim(String(e));s&&(this.extraParams_||(this.extraParams_={}),this.extraParams_[s]!==i&&(this.extraParams_[s]=i,this.cacheFlush()))},d.removeExtraParam=function(t){this.extraParams_[t]&&(delete this.extraParams_[t],this.cacheFlush())},d.checkSearchIndex=function(){var e=this.options.parentModal,i=this.options.selectFiltering?e.find("select").val():this.options.searchIndex,s=1;void 0!==this.extraParams_.page&&(s=parseInt(this.extraParams_.page,10),isNaN(s)&&(this.pageNumber_=s=1,this.paginationOffset_=0));var o=this.dom.$elem.val();this.overrideValue&&(o=this.overrideValue),o!==this.lastProcessedValue_&&o!==this.lastSelectedValue_&&(this.pageNumber_=s=1,this.paginationOffset_=0),i?("array"!==t.type(i)&&(i=i.split(",")),i.length&&this.setExtraParam("i",i.join(",")),1!==s&&this.setExtraParam("page",s)):this.removeExtraParam("i")},d.checkStaffOnly=function(){t("#staff-option-"+this.dom.$elem.attr("id")).is(":checked")?this.setExtraParam("filters","staff"):this.removeExtraParam("filters")},d.checkSearchField=function(){var e=this.options.searchField,i=0,s=this;e&&("array"!==t.type(e)&&(e=e.split(",")),t.each(e,(function(t,e){s.setExtraParam("fields["+i+"]",e),i++})));var o=this.options.searchFilter;null!==o&&s.setExtraParam("filters",o)},d.checkLimit=function(){var e=t("input[name=limit-"+this.dom.$elem.attr("id")+"]:checked").val();this.lastProcessedLimit!==e&&(this.pageNumber_=1,this.setExtraParam("page",1)),this.lastProcessedLimit=e,this.options.maxItemsToShow=e,this.setExtraParam("limit",e)},d.checkadvancedFilters=function(){var e=t("input[name=advanced-indexes-"+this.dom.$elem.attr("id")+"]"),i=this.dom.$parent.find(".js-filter-search"),s=[];if(i.length>0){var o=i.val();this.removeExtraParam("i"),""!==o&&(s=o.split(","))}else 0!==e.filter(":checked").length&&this.removeExtraParam("i"),e.filter(":checked").each((function(e){s.push(t(this).val())}));s.length&&this.setExtraParam("i",s.join(",")),s.length==this.lastProcessedIndexArray.length&&s.toString()==this.lastProcessedIndexArray.toString()||(this.pageNumber_=1,this.setExtraParam("page",1)),this.lastProcessedIndexArray=s},d.makeUrl=function(e,i){if(this.options.makeUrlFunction)return this.options.makeUrlFunction(e,i);this.options.advancedOptions&&(this.options.limitOptions&&this.checkLimit(),this.options.advancedFiltering&&!this.overrideValue&&this.checkadvancedFilters()),this.options.staffOnlyOption&&this.checkStaffOnly();var s=this.options.url,o=t.extend({},this.extraParams_);return void 0===i?o.module="autocomplete":s=i,!1===this.options.queryParamName?s+=encodeURIComponent(e):o[this.options.queryParamName]=e,n(s,o)},d.parseRemoteData=function(t){var e,i=t;switch(e=typeof t){case"object":i=t;break;case"string":i=JSON.parse(t);break;default:throw new Error("Unexpected remote data type: "+e)}return i},d.filterResult=function(t,e){if(!t.name)return!1;if(this.options.filterResults){var i=this.matchStringConverter(e),s=this.matchStringConverter(t.name)+"";this.options.matchCase||(i=i.toLowerCase(),s=s.toLowerCase());var o=s.indexOf(i);return this.options.matchInside?o>-1:0===o}return!0},d.filterResults=function(e,i){var s,o=[],a=this;return e.results&&(t.each(e.results,(function(e,n){return s=function(e){var i={},s=t.type(e);return"string"===s?(i.name=e.name,i.url=e.url,i.id=e.id):"object"===s&&(i.name=e.title||e.name,i.type=e.typeName||e.index_name||e.bundle||e.type||e.label,i.id=e.native_id||e.id,i.contentTypeId=e.typeId||e.content_type_id,i.image=e.image,i.url=e.url,i.fullName=e.fullName,i.label=e.label,i.engineId=e.engineId,i.engineKey=e.engineKey,i.slug=e.slug,i.dataStore=e.dataStore,i.embargoed=e.embargoed),i}(n),a.filterResult(s,i)&&o.push(s),a.options.sortResults&&(o=a.sortResults(o,i)),e<a.options.maxItemsToShow-1})),this.calculateMaxOffset(e)),o},d.calculateMaxOffset=function(t){var e=this.options.maxItemsToShow;this.maxOffset_=Math.floor(t.count/e)*e,t.count%e==0&&(this.maxOffset_-=e)},d.sortResults=function(e,i){var s=this,o=this.options.sortFunction;return t.isFunction(o)||(o=function(t,e){return function(t,e,i){return t=String(t.id),e=String(e.id),i||(t=t.toLowerCase(),e=e.toLowerCase()),t>e?1:t<e?-1:0}(t,e,s.options.matchCase)}),e.sort((function(t,e){return o(t,e,i,s.options)})),e},d.matchStringConverter=function(e,i,s){var o=this.options.matchStringConverter;return t.isFunction(o)&&(e=o(e,i,s)),e},d.enableFinishOnBlur=function(){this.finishOnBlur_=!0},d.disableFinishOnBlur=function(){this.finishOnBlur_=!1},d.showNotificationBar=function(t){(t=t||this.getValue()).length>=this.options.minChars&&(this.dom.$notificationTerm.text(t),this.options.notificationText?this.dom.$notificationText.text(this.options.notificationText):this.dom.$notificationText.text("Search for"),this.position(),this.displayResults(),this.focusItem(this.dom.$first))},d.toggleLoader=function(t){t?this.dom.$loader.show():this.dom.$loader.hide(),this.isLoading=t},d.createItemFromResult=function(e){var i,s=this,o=s.options,a=function(t,e){var i,s,o,a,n,r,l,h,c,d,u,m,p=e.options;return t?(p.textOnly||(s=t.image),t.label?a=t.label:t.type&&(a=t.type),(i=e.dom.$elem.data("display-field"))&&(o=t[i]),o?t.name=o:o=t.name,p.externalAnchor?(r=t.id,c=t.url,h="anchor"):p.autoRedirect&&(n=t.url,r=t.id,l=t.engineKey,t.type&&(h=t.type.toLowerCase())),t.dataStore&&(d=t.dataStore),u=!!t.embargoed&&t.embargoed,m={hasResult:!0,textOnly:p.textOnly,resultImage:s,resultName:o,resultType:a,resultUrl:n,resultUrlDataId:r,resultUrlDataKey:l,resultUrlDataType:h,resultExternalUrl:c,resultDataStore:d,resultEmbargoed:u}):(m={hasResult:!1},p.showEmptyText&&(m.emptyText=p.emptyText)),m}(e,s);return i=t(function(t,e){return l(t,"js-template-autocomplete-result-item",!e)}(a,o.flexboxAutocomplete)),o.autoRedirect||i.click((function(){i.find(".noResults").length>0||s.selectItem(i)})),i.data(e||{}).mousedown(s.disableFinishOnBlur).mouseup(s.enableFinishOnBlur),i},d.getItems=function(){return this.dom.$resultList.find(">li")},d.showResults=function(t){t||(t=[]);var e,i,s,a,n=t.length,r=this,l=this.dom.$results,h=this.dom.$resultList,c=[];if(n>0){for(this.pageNumber_>1&&this.options.showMore&&c.push(this.dom.$prev),e=0;e<n;e++)i=t[e],s=this.createItemFromResult(i),c.push(s),this.dom.$first||(this.dom.$first=s),e===n-1&&s.addClass(this.options.lastItemClass);this.paginationOffset_<this.maxOffset_&&this.options.showMore&&c.push(this.dom.$next)}else c.push(this.createItemFromResult(i));h.find("li:not("+o+")").remove(),h.append(c),this.options.afterShowResults&&this.options.afterShowResults(t,h,this),this.displayResults(),this.position(),this.options.autoWidth&&(a=this.dom.$elem.outerWidth()-l.outerWidth()+l.width(),l.css(this.options.autoWidth,a)),this.getItems().hover((function(){r.focusItem(this)}),(function(){})),(this.options.selectFirst||this.options.selectOnly&&1===n)&&this.focusItem(this.dom.$first),this.active_=!0},d.paginate=function(t){if(this.isLoading)this.resultsPaginating_=!0;else if(this.pageNumber_<=1&&"prev"===t)this.resultsPaginating_=!1;else if(this.paginationOffset_>=this.maxOffset_&&"next"==t)this.resultsPaginating_=!1;else{var e=Number(this.options.maxItemsToShow);"next"===t?(this.paginationOffset_+=e,this.pageNumber_++):"prev"===t&&(this.paginationOffset_-=e,this.pageNumber_--),this.setExtraParam("page",this.pageNumber_),this.activateNow(!0)}},d.focusNext=function(){this.focusMove(1)},d.focusPrev=function(){this.focusMove(-1)},d.focusMove=function(e){var i,s=this.getItems();if(e=a(e,0))for(i=0;i<s.length;i++)if(t(s[i]).hasClass(this.selectClass_))return void this.focusItem(i+e);this.focusItem(0)},d.focusItem=function(e){var i,s=this.getItems();s.length&&(s.removeClass(this.selectClass_),"number"==typeof e?(e<0?(e=0,this.paginate("prev")):e>=s.length&&(e=s.length-1,this.paginate("next")),i=t(s[e])):i=t(e),i&&i.addClass(this.selectClass_))},d.selectCurrent=function(){var e=t("li."+this.selectClass_,this.dom.$results);if(e&&1===e.length)if(e.hasClass("js-autocomplete-page"))e.trigger("goto");else if(this.dom.$notificationBar instanceof s&&e.get(0)===this.dom.$notificationBar.get(0))if(this.options.notificationBarSearch){var i=this.dom.$elem.val(),o=this.makeUrl(i,this.options.notificationSearchUrl);window.location=o}else this.options.onNotificationBarClick&&this.options.onNotificationBarClick(event,this);else this.selectItem(e);else this.deactivate(!1)},d.selectItem=function(e){if(this.options.onItemSelect&&!this.callHook("onItemSelect",e.data()))return this.dom.$elem.focus(),this.deactivate(!0),void this.hideResults();var i=this.getValue(),s=e.data("paginate");if(this.lastProcessedValue_=i,this.lastSelectedValue_=i,s)this.paginate(s);else if(this.options.autoRedirect)e.get(0)===t(this.dom.$first).get(0)?this.dom.$elem.closest("form").submit():window.location.href=e.data("url");else if(null===this.options.podLimit||this.podCount_<this.options.podLimit){!0===e.data("embargoed")&&!0===this.options.enableEmbargoWarning?confirm("This content is embargoed. Confirm to continue.")&&this.addResultPodFromTemplate(e.data()):this.addResultPodFromTemplate(e.data())}else Phoenix.Ui.showErrorMessage("You've exceeded the limit."),this.setValue("");this.deactivate(!0),this.hideResults()},d.addResultPodFromTemplate=function(t){var e,i=this.dom.$elem;return t.guid||(t.guid=t.contentTypeId+"-"+t.id),(e=this.buildResultPod(t)).insertBefore(i),this.podCount_++,this.checkRequiredAttribute(),this.setValue(""),i.focus(),null!==this.options.podLimit&&this.podCount_===this.options.podLimit&&i.addClass("hide"),i.trigger("addResultPod",[t,e]),e},d.buildResultPod=function(e){var i,s,o=this.dom.$parent.find('input[type="hidden"]').length,a=this.options.podInputName+(this.options.podInputNoIndex||/\[\]$/.test(this.options.podInputName)?"":"["+o+"]");if(s=void 0!==e.guid?e.guid:e.contentTypeId+"-"+e.id,i={resultPodClass:void 0!==e.embargoed&&e.embargoed?this.options.podClass+" "+this.options.embargoedClass:this.options.podClass,resultDisplayName:e.name||e.title,resultInputName:a,resultInputValue:s},t.isFunction(this.options.extendResultPodData)&&(i=this.options.extendResultPodData.call(this,e,i)),i.resultInputName)return t(l(i,"js-template-autocomplete-result-pod"));throw new Error("Missing required option: podInputName.")},d.hideResults=function(){this.dom.$results.hide(),t(".js-autocomplete-list-close").hide(),this.resultsShowing=!1,this.options.onHideResults&&this.options.onHideResults(this.dom.$results)},d.displayResults=function(){this.dom.$results.show(),t(".js-autocomplete-list-close").show(),this.dom.$results.addClass("visible"),this.resultsShowing=!0,this.options.onDisplayResults&&this.options.onDisplayResults(this.dom.$results),this.onResizeHandler()},d.deactivate=function(t){this.dom.$elem.data("searchActivated",!1),this.abandonAJAX()&&(t=!0),null!==this.bodyClickEvent&&(this.dom.$body.off("click.autocomplete",this.bodyClickEvent),this.bodyClickEvent=null),this.resultsPaginating_||(t&&(this.lastProcessedValue_!==this.lastSelectedValue_&&(this.options.mustMatch&&this.setValue(""),this.callHook("onNoMatch")),this.active_&&this.callHook("onFinish"),this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1,this.pageNumber_=1,this.paginationOffset_=0),this.hideResults())},d.getCaret=function(){var t=this.dom.$elem;return{start:t[0].selectionStart,end:t[0].selectionEnd}},d.setValue=function(t){if(this.options.useDelimiter){var e=this.dom.$elem.val(),i=this.getDelimiterOffsets();t=e.substring(0,i.start)+t+e.substring(i.end)}this.dom.$elem.val(t)},d.getValue=function(){var t=this.dom.$elem.val();if(this.options.useDelimiter){var e=this.getDelimiterOffsets();return t.substring(e.start,e.end).trim()}return t},d.getDelimiterOffsets=function(){var t,e,i=this.dom.$elem.val();this.options.useDelimiter?(t=i.substring(0,this.getCaret().start).lastIndexOf(this.options.delimiterChar)+1,-1===(e=i.substring(this.getCaret().start).indexOf(this.options.delimiterChar))&&(e=i.length),e+=this.getCaret().start):(t=0,e=i.length);return{start:t,end:e}},d.getValueForReal=function(){var e=this.dom.$parent.find('input[type="hidden"]');if(e.length){if(1==e.length)return t(e[0]).val();var i=[];return e.each((function(e){i.push(t(e).val())})),i}return null},d.setValueForReal=function(e,i){void 0===i&&(i=!1),t.isArray(e)||(e=[e]),i||this.dom.$elem.empty();var s=this;t.each(e,(function(t){s.addResultPodFromTemplate(t)}))},t((function(){var e=t(".autoCompleteSSContainer");t(".autoCompleteSSCommit").click((function(){e.find(".js-ac-needs-hacks").each((function(e,i){var s=t(i).find(".js-ac-needs-hacks-name");s.data().autocompleterObject.getValueForReal()&&s.removeAttr("name")}))}))}))}(i(9755))},6978:(t,e,i)=>{var s=i(9755);s((function(){"use strict";s(".board-selector a").on("click",(function(){var t=s(this).parent().parent(),e=t.parent(),i=e.find(".board-autocomplete-li");return t.addClass("hide"),t.find(":input").attr("disabled","disabled"),t.hasClass("board-main-li")?(i.removeClass("hide"),i.find(":input").removeAttr("disabled")):((i=e.find(".board-main-li")).removeClass("hide"),i.find(":input").removeAttr("disabled")),!1}))}))},364:function(t,e,i){var s=i(9755);!function(){"use strict";var t=s(window),e=s(document),i=".js-select-dropdown",o=".js-dropdown-content",a=".js-dropdown-element",n=!1,r=function(){var e=t.width();s(".js-dropdown--main").each((function(){var t=s(this),a=t.width(),n=t.children(i),r=n.siblings(o),l=r.width();r.data("dropdown-initial-width",l),t.hasClass("set-width")&&e>768&&a<l?(n.width(l),t.removeClass("set-width")):e<768&&(n.width("auto"),t.addClass("set-width"))}))};r(),t.on("resize",(function(){n||r()})),e.on("click",i,(function(t){t.stopPropagation();var r,l=s(t.target).closest(i),h=l.siblings(o),c=h.hasClass("inline-block");s(o).addClass("hide-element").removeClass("inline-block"),r=h,c?(r.addClass("hide-element").removeClass("inline-block"),e.off("click.selectDropdown")):r.addClass("inline-block").removeClass("hide-element"),l.data("update-selector")&&h.on("click",a,(function(t){var e=s(t.target).closest(a),i=l.siblings(o).data("dropdown-initial-width");n=!0,l.width("auto"),l.html(e.html()),l.outerWidth()<i&&l.css({width:i},0,(function(){n=!1})),h.off("click")})),e.on("click.selectDropdown",(function(t){var i=s(t.target),a=s(o);!i.closest(o).length&&a.hasClass("inline-block"),a.addClass("hide-element").removeClass("inline-block"),e.off("click.selectDropdown")}))}))}()},6902:(t,e,i)=>{var s=i(9755);s((function(){"use strict";var t,e=(t="event-tracking",function(e,i){var o,a=e.data(t);"string"==typeof a&&(o=a,a=void 0),void 0===a&&(a={},o&&(a.clickGenericText=o),i.eventTracking&&s.extend(a,i.eventTracking),s.isEmptyObject(a)||e.attr("data-event-tracking",JSON.stringify(a))),void 0===a||s.isEmptyObject(a)||e.trigger("followEventTracking")}),i=function(){s(".btn-toggle").each((function(){var t=s(this);t.data("btn-toggle-initialized")||(t.on("click",(function(i){if((!0===s(this).is("a")||1==s(this).is("button"))&&""!==s(this).attr("href")){var o,a=s(this);if(a.hasClass("super-action"))return a.siblings(".super-action").toggleClass("active",!1),a.siblings(".sub-action:not('."+a.attr("rel")+"')").toggleClass("hide",!0),a.toggleClass("active"),o=a.siblings("."+a.attr("rel")).toggleClass("hide"),s("body").bind("click",(function(t){s.contains(o.get(0),t.target)||(a.removeClass("active"),o.addClass("hide"),s(this).unbind(t))})),!1;if(a.hasClass("has-input")&&a.attr("rel").length&&a.siblings(":input[name='"+a.attr("rel")+"']").val().length)a.attr("href",a.attr("href")+"reason="+encodeURIComponent(a.siblings(":input[name='"+a.attr("rel")+"']").val()));else if(a.parents(".sub-action").find("a:contains('Flagged')").length>0)return!1;var n=a.attr("data-verify-statement");if(void 0!==n&&n)if(!window.confirm(n))return!1;if(t.hasClass("js-btn-spam"))if(!window.confirm("Are you sure you want to mark this as spam? Associated user will be nuked!"))return i.preventDefault(),void i.stopPropagation();AjaxApiRequest.makeApiRequest(s(this).attr("href"),null,!0,(function(t){var i=[];if(t.hasOwnProperty("hideDelay")&&(i.hideDelay=t.hideDelay),t.hasOwnProperty("redirect"))Phoenix.Ui.showErrorMessage(t.error,i),window.location.href=t.redirect+"?redirect_url="+document.URL;else if(t.hasOwnProperty("success")&&!t.success)Phoenix.Ui.showErrorMessage(t.message,i);else{1===t.success&&e(a,t);var s=t.message||"Setting saved.";Phoenix.Ui.showSuccessMessage(s,i),function(t){const e={container:"js-symbol-text-toggle",text:"js-symbol-text-toggle-text",icon:"js-symbol-text-icon",iconActive:"js-symbol-text-icon-active"},i="hide-element";if(t.attr("data-remove-parent"))return void t.closest(t.attr("data-remove-parent")).remove();t.attr("data-update-color")&&(t.removeClass((function(t,e){return(e.match(/\sbtn-(?!toggle)\S+/g)||[]).join(" ")})),t.addClass(t.attr("data-update-color")));let s=t.children("i.icon"),o=t.attr("data-toggle-value");if(o&&t.hasClass(e.container)){const{text:s,icon:a,iconActive:n}=e;t.attr("data-toggle-value",t.text()),t.find(`.${s}`).text(o),t.find(`.${a}`).toggleClass(i),t.find(`.${n}`).toggleClass(i)}else if(o)t.attr("data-toggle-value",t.text()),t.text(o),t.prepend(s);else{var a=t.find(".toggle-follow"),n=t.find(".toggle-unfollow"),r=t.attr("data-toggle-following");0===parseInt(r)&&(t.attr("data-toggle-following",1),n.show(),a.hide()),1===parseInt(r)&&(t.attr("data-toggle-following",0),n.hide(),a.show())}if(t.attr("data-toogle-tooltip")){var l=t.attr("data-tooltip-toggle-value"),h=t.attr("data-tooltip-title");t.attr("data-tooltip-toggle-value",h),t.attr("data-tooltip-title",l),t.data("tooltip").options.title=l,t.attr("data-original-title",l)}t.attr("data-remove-toggle")&&t.removeAttr("data-toggle-value").removeAttr("data-toggle-icon").removeClass("btn-toggle")}(a)}}),(function(){Phoenix.Ui.showErrorMessage("Woops! Something happened and we are working on it!")})),i.preventDefault()}})),t.data("btn-toggle-initialized",!0))})),s(".js-form-toggle").each((function(){var t,i=s(this);i.data("btn-toggle-initialized")||(i.find('[type="submit"]').on("click",(function(e){t=s(this)})),i.on("submit",(function(s){AjaxApiRequest.makeApiRequest(i.attr("action"),i.serialize()+"&"+t.attr("name")+"="+t.attr("value"),"post"===i.attr("method"),(function(t){var s=[];if(t.hasOwnProperty("hideDelay")&&(s.hideDelay=t.hideDelay),t.hasOwnProperty("redirect"))Phoenix.Ui.showErrorMessage(t.error,s),window.location.href=t.redirect+"?redirect_url="+document.URL;else if(t.hasOwnProperty("success")&&!t.success){var o=t.message||t.reason||t.error||"Feature broken. Do not worry. Fix in pipeline.";Phoenix.Ui.showErrorMessage(t.message,s)}else{e(i,t);o=t.message||"Setting saved.";Phoenix.Ui.showSuccessMessage(o,s)}t.hasOwnProperty("html")&&i.replaceWith(t.html)}),(function(){Phoenix.Ui.showErrorMessage("Woops! Something happened and we are working on it!")})),s.preventDefault()})),i.data("btn-toggle-initialized",!0))}))};i(),s(document).ajaxSuccess((function(){i()}))}))},4580:(t,e,i)=>{"use strict";i(6361),i(963);var s=i(2023),o=i(722),a=i(9755);window.PhoenixDatePicker={initializeDatePickers(){const t="America/Los_Angeles",e="MM/dd/yyyy hh:mm aa zzz",i="No date/time selected";a(".datepicker-input").each((function(){const t=a(this);t.data("initialized")||(t.datepicker({autoclose:!0,todayHighlight:!0,zIndexOffset:5000060}).on("changeDate",(function(e){t.parent().find(".timepicker").trigger("changeTime")})),t.data("initialized",!0))})),a(".timepicker").each((function(){const n=a(this);n.data("initialized")||(n.timepicker({step:15,timeFormat:"H:i"}),n.on("changeTime",(function(r){const l=n.parent().find(".js-time-display");if(0===l.length)return;const h=Intl.DateTimeFormat().resolvedOptions().timeZone,c=n.parent().find(".datepicker-input"),d=n.val()?`${n.val()}:00`:"00:00:00",u=new Date(`${c.val()} ${d}`);let m;if((0,s.Z)(u)){m=(0,o.zonedTimeToUtc)(u,t);const i=(0,o.format)((0,o.utcToZonedTime)(m,t),e,{timeZone:t});l.find(".js-site-time").text(i)}else l.find(".js-site-time").text(i);if(t!==h&&(0,s.Z)(u)){const t=(0,o.format)((0,o.utcToZonedTime)(m,h),e,{timeZone:h});a(".js-local-time-container").removeClass("hide"),l.find(".js-local-time").text(t)}else l.find(".js-local-time").text(i)})),n.trigger("changeTime"),n.data("initialized",!0))})),a(".datetime-now-button").on("click",(function(e){e.preventDefault();const i=a(this),s=i.parent().find(".datepicker-input"),n=i.parent().find(".timepicker"),r=Date.now(),l=(0,o.utcToZonedTime)(r,t),h=(0,o.format)(l,"M/d/yyyy",{timeZone:t}),c=(0,o.format)(l,"HH:mm",{timeZone:t});s.val(h),n.val(c),s.datepicker("update"),n.trigger("changeTime"),a(document).trigger("phoenix_date_picker_now_done")}))}},PhoenixDatePicker.initializeDatePickers(),a(document).on("ajaxStop",PhoenixDatePicker.initializeDatePickers);i(364),i(6902),i(6978);const n=document.querySelectorAll(".js-time-convert"),r=document.querySelectorAll(".js-lazy-load-image"),l=document.querySelectorAll(".js-lazy-load-video"),h=document.querySelectorAll(".js-extra-lazy-load-video"),c=Array.from(n);c.length>0&&i.e(6798).then(i.bind(i,6798)).then((({adjustDateTimes:t})=>{t(c)})),(r.length>0||l.length>0||h.length>0)&&i.e(7354).then(i.bind(i,7354)).then((({handleLazyLoad:t})=>{t()}))}},t=>{t.O(0,[9755,2067],(()=>{return e=4580,t(t.s=e);var e}));t.O()}]);
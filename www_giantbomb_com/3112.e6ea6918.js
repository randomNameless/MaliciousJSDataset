(self.webpackChunkgiantbomb=self.webpackChunkgiantbomb||[]).push([[3112],{6906:(t,e,n)=>{var i=n(9755);!function(t){"use strict";var e,n,a=t.$||i,r=a(t.document),s=t.siteAdsLogger||{push:function(){}},o=!1,d=!1,c=!1,u=a("<div></div>"),l=function(t,e){r&&r.trigger(t,e)},g=function(i){if(i&&(n=void 0),void 0!==n)return n;if((e=a("#ad-settings"))&&e.length){n=e.attr("content");try{n=t.JSON.parse(n)}catch(t){try{n=JSON.parse(n)}catch(t){n=null}}return n}n=null},f=function(t,e){var n,i,a,r,o,d,c=t.data("ad-type"),g=e[c],f=t.find(".ad-wrap").attr("id")||c,p=!1;g&&g.guilt&&(i=g.guilt),i?(n=u.clone(),r="guilt_"+f,o=!0,(a=function(t){var e,n,i=t.get(0),a={};if(window.getComputedStyle){var r=function(t,e){return e.toUpperCase()};if(e=window.getComputedStyle(i,null))for(var s=0;s<e.length;s++){var o=(n=e[s]).replace(/\-([a-z])/g,r),d=e.getPropertyValue(n);a[o]=d}return a}if(i.currentStyle){for(n in e=i.currentStyle)e.hasOwnProperty(n)&&(a[n]=e[n]);return a}return t.css()}(t)).display="block",n.attr({id:r,class:null}),n.css(a),n.html('<img src="'+i+'" alt="Please disable adblock" />'),t.replaceWith(n)):(r=f,o=!1,t.is(":hidden")&&(p=!0)),d={divId:r,isBlocked:!0,isGuilt:o,isHidden:p},s.push("GUILT RENDERED for ["+f+"]: ",d),l("guilt_rendered",d)};(function(){var t=g();return!!t&&t.enable_guilt})()&&(r.one("ads_initialized",(function(){d=!0,r.on("ad_rendered",(function(t,e){c||(c=!0),o||e.adData.isBlocked}))})),r.one("guilt_detected",(function(){var t,e="GUILT DETECTED ",n=" ads rendered";o=!0,d?(e+="after",n=c?" after"+n:" before"+n):(e+="before",n=" before"+n),e+=" ad service initialized"+n,s.push(e),t=g().mapped_units,a(".js-mapped-ad").each((function(){f(a(this),t)})),l("guilt_processed")})))}(window)},394:(t,e,n)=>{"use strict";var i=n(4339);!function(t){const e=document.getElementById("ad-settings");if(!e)return;const n=t.siteAdsDebugLog||function(){};!function(){let t;if(!e.dataset.settings)return;t=JSON.parse(e.dataset.settings);let a=i.Z.getUserVar("dartAbTestLabel");a?t.target_params.test=a:delete t.target_params.test,e.dataset.settings=JSON.stringify(t),n("Updated settings with esiPreloadMeta data: ",t)}()}(window)},685:()=>{!function(t){if(!document.getElementById("ad-settings"))return;const{$:e,Phoenix:n=function(){},PhoenixLoader:i,siteAdsDebugLog:a=function(){},waitForBidBarrel:r=(t=>{window.BidBarrel.queue.push((function(e){t(),e()}))})}=window,{Events:s=null}=n,o={},d=5e3,c={},u="data-settings",l={},g={},f="data-ad-type",p={},m={},h="pageLoad",b="ad-settings",w=document.body,y={};let v=!0,E=!1;const _=function(t){try{r((function(){if(!1===o[t])return;const e=N(t),n=window.BidBarrel;v||(n.resetTargeting(null,null,!0),n.resetTargeting(null,e,!0),n.setConfig(L(t))),v=!1,Array.isArray(e)?(P("pre_ad_refresh",{adSlotIdsForAdContext:e,adUnits:m,bidbarrelAdUnits:n.UNITS}),g[t]=0,S(t,!1),a(`REQUEST ads: [${e.join(", ")}]`),n.auction(I(t,e)),P("ad_refresh",{adSlotIdsForAdContext:e})):a(`No ads to load for [${t}]`)}))}catch(t){a("error","Failed to load ads")}},S=function(){const t=function(t){t&&(clearTimeout(t.id),t.id=null)};return function(e,n){e||(e=h);let i=o[e],r=y[e];if(!0===n&&i!==n){if(r&&null!==r.id)return void a(`Refresh will be re-enabled for [${e}] in ${r.start+d-Date.now()} milliseconds`);a(`RE-ENABLE REFRESH for [${e}] in 5000 milliseconds`),r={id:null,start:Date.now()},r.id=setTimeout((function(){a(`RE-ENABLE REFRESH for [${e}] now`),o[e]=!0,t(r)}),d)}else!0===n&&t(r),i=n;o[e]=i,y[e]=r}}(),B=function(t,e){let n=t;return e>1&&(n=t+"-"+e),a(`Generate ad div id: ${n}`),n},A=function(){const t="data-ad-event",e=function(e){let n;return n=e.hasAttribute(t)?e.getAttribute(t):h,n};return function(t,n){n||(n=document.body),P("process_ad_divs",{adContextElement:n});const i=n.querySelectorAll(".js-mapped-ad");if(!(i.length<1))for(let n=0;n<i.length;n++){const r=i[n],s=r.firstElementChild;if(s.id||!r.hasAttribute(f)||!r.getAttribute(f))continue;const o=r.getAttribute(f),d=x(o,!0),c=B(o,d);s.id=c;let u=t;u||(u=e(s));let g=l[u];g||(l[u]=g=[],E||u===h||(E=!0)),g.push(c),m[c]={el:s,type:o,instanceNumber:d,wrapper:r,context:u},a("Processed ad div: ",m[c])}}}(),P=function(t,e){s&&s.trigger(t,e)},O=function(t,e){const n=t.code,i=m[n];P("ad_load_"+n,{adData:{adEvent:i.context,divId:n},adUnit:i,bbUnitConfig:t,gptEventObj:e})},C=function(t,e){const n=t.code,i=m[n],a="none"===i.el.style.display||0===i.el.style.height.indexOf("0"),r={adData:{adEvent:i.context,divId:n,isBlank:a||e.isEmpty,adUnit:i},bbUnitConfig:t,gptEventObj:e};P("ad_rendered",r),P("ad_rendered_"+i.type,r);const s=i.context;g[s]++,g[s]===l[s].length&&S(s,!0)},T=function(t){let e;t||(t=h),e=t===h?b:t+"-"+b;let n=c[t];if(void 0===n){const i=document.getElementById(e);if(i&&i.hasAttribute(u))try{n=JSON.parse(i.getAttribute(u))}catch(t){n={}}else n={};$(t,n)}return n},N=function(t){return t||(t=h),l[t]},U=function(t,e){const n=T(t),i=e.type,a=function(t){const e=window.BidBarrel;return e&&e.UNITS&&e.UNITS[t]?e.UNITS[t]:{}}(i),r=Object.assign({},a.targeting);if(i&&n&&n.mapped_units){const t=n.mapped_units[i];t&&t.target&&Object.assign(r,t.target)}return isNaN(r.pos)||(r.pos=parseInt(r.pos)),!a.incremental||"inc"!==r.pos&&1!==r.pos||(r.pos=e.instanceNumber),r},x=function(t,e){let n=p[t];return void 0===n&&(n=0),e&&(n+=1,p[t]=n),n},I=function(t,e){const n=[];return e.forEach((function(e){const i=m[e],r=i.type,s=i.instanceNumber,o=U(t,i),d=window.BidBarrel;d.adUnitsObj&&d.adUnitsObj[r]&&d.adUnitsObj[r].incremental&&s?n.push([r,s,o]):(n.push(r),a(`SET SLOT [${e}] TARGETING: ${JSON.stringify(o)}`),d.setTargeting(o,e))})),a("Auction config: ",n),n},L=function(t){const e={dfpPath:R(t),generateIncrementalUnitCode:B,pageTargeting:D(t),targeting:{auto:!0,cookie:{consolidate:!0}}};return a(`BidBarrel config for [${t}]: `,e),e},R=function(t){const e=T(t);let n=e.unit_name;if(!n&&t!==h){const t=T(h);n=e.unit_name=t.unit_name}return n},j=function(){const t={vguid:V()};return Object.assign({},n&&n.CampaignParams&&"function"==typeof n.CampaignParams.getParams?n.CampaignParams.getParams({queryParamKeys:["vndid"]}):null,t)},D=function(t){const e=T(t),n=j();let i=e.target_params;if(!i&&t!==h){const t=T(h);i=e.target_params=t.target_params}return Object.assign({},i,n)},V=function(){const t=document.getElementById("view-guid-meta"),e="content";let n;try{t&&t.hasAttribute(e)&&(n=t.getAttribute(e))}catch(t){}return n},$=function(t,e){c[t]=e,a(`Storing ad settings for [${t}]: `,e)},k=function(){if(!e)return function(){};let t=!1;const n={on_page_event(t){const{eventName:e}=t.detail;e&&(a(`ASYNC AD EVENT [${e}]`),_(e))},remove_page_event(t,e){e&&(a(`REMOVE AD EVENT [${e}]`),function(t,e){try{r((function(){const n=N(t),i=window.BidBarrel;e?t?(a("Page is requesting to permanently destroy select ad units:",n),i.destroySlots(n)):(a("Page is requesting to permanently destroy ALL ad units"),i.destroyAllSlots()):(a("Page is requesting to clear select ad units:",n),i.clearSlots(n))}))}catch(t){a("error","Failed to remove ads")}}(e),S(e,!0))},on_ad_event(t){const{adContext:e="",adContextOverrides:n={}}=t.detail;if(!e)return;let r;if(a(`ASYNC AD EVENT [${e}]: `,n),n.adContextElement&&A(e,n.adContextElement),n.slotIdsToLoad&&function(t,e){t||(t=h),l[t]}(e,n.slotIdsToLoad),Object.prototype.hasOwnProperty.call(c,e))r=T(e);else{const t=n.extendsAdContext||h;r=Object.assign({},T(t))}"object"==typeof n.newTargeting&&(r.target_params=n.newTargeting),i(r,n.adSlotTargetingMap),$(e,r),_(e)}},i=function(t,e){if(e){const n=t.mapped_units,i=Object.keys(n);for(let t=0;t<i.length;t++){const a=i[t],r=n[a].target;let s=e[a];void 0===s&&(s=e.default),n[a].target=Object.assign({},r,s)}}};return function(){t||(t=!0,(E||w.className.includes("has-page-events"))&&(a("page event listeners initialized"),e(document).on(n)))}}(),F=[],q={PhoenixLoaderReady:void 0===i},z=()=>{a(`[ROADBLOCKS] ${JSON.stringify(q)}`)};z();q.PhoenixLoaderReady||F.push(new Promise((t=>{i.gdprConsentCallback("bidbarrel",(function(){q.PhoenixLoaderReady=!0,a("[ROADBLOCKS] PhoenixLoader onAdsReady"),z(),t()}))}))),Promise.all(F).then((function(){a("Initializing ad manager w/ bidbarrel"),window.BidBarrel||(window.BidBarrel={},window.BidBarrel.queue=[]),A(),P("page_load_ad_divs_processed",{adContextSettings:T(),adUnits:m}),r((function(){window.BidBarrel.initialize(L(h)),function(){const t=window.BidBarrel;t.on("rendered",C),t.on("loaded",O)}(),_(h),k(),P("ads_initialized")}))}))}(window)},4339:(t,e,n)=>{"use strict";n.d(e,{D:()=>i,Z:()=>a});const i=new class{constructor(){const{sitePageVars:t}=window;this.sitePageVars=t}getFeatureFlags(){return this.sitePageVars?this.sitePageVars.featureFlags:null}getTrackingSettings(){return this.sitePageVars&&this.sitePageVars.trackingSettings?this.sitePageVars.trackingSettings:null}getUserVar(t){return this.sitePageVars&&this.sitePageVars.user?this.sitePageVars.user[t]:null}},a=i}}]);
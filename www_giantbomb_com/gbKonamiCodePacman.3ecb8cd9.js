(self.webpackChunkgiantbomb=self.webpackChunkgiantbomb||[]).push([[376],{5996:(t,s,i)=>{var o=i(9755),e=i(9755);(()=>{const t=o(document),s=[38,38,40,40,37,39,37,39,66,65];let i=0;const n=()=>{let t=0,s=0;let i=0,e=0,n=0,h=0;let a=0,p=0,c=0,l=0,d=0;const y=Date.now();r(),o("body").append('<div id="pac-player"></div>'),o("body").append('<div id="pac-score"><div class="pactimer">Timer: <span></span></div><div class="pacchomped">Chomped: <span></span></div><div class="pacscore">Score: <span></span></div></div>');const u=o("#pac-score"),x=o("#pac-player");x.html(o("#js-loading-html").attr("content")),o("#wrapper .content-item--card-item").addClass("breakable"),p=o(".breakable").length,i=o(document).height(),e=o(document).width(),h=x.height()+50,n=x.width()+50,setInterval((function(){(o=>{if(Date.now()-a<10)return;0===s&&0===t&&(s=1),a=Date.now();const r=o.position();r.top<0?r.top=i-h:r.top>i-h&&(r.top=0),r.left<0?r.left=e-n:r.left>e-n&&(r.left=0);const p=2*t,c=2*s;o.css({top:r.top+p,left:r.left+c}),window.scrollTo(0,o.position().top-150)})(x)}),1),setInterval((function(){(t=>{t.collision(".breakable").css("visibility","hidden").removeClass("breakable"),c=p-o(".breakable").length;const s=Math.floor((Date.now()-y)/1e3);d+=(c-l)*(s>=1e3?1:1e3-s),l=c,u.find(".pactimer span").text(Phoenix.Ui.convertTime(s)),u.find(".pacscore span").text(d),u.find(".pacchomped span").text(c+"/"+p)})(x)}),100),o(window).on("keydown",(function(i){37===i.which?(t=0,x.removeClass("up down right").addClass("left"),s=-1):40===i.which?(s=0,x.removeClass("up left right").addClass("down"),t=1):39===i.which?(t=0,x.removeClass("up down left").addClass("right"),s=1):38===i.which&&(s=0,x.removeClass("left down right").addClass("up"),t=-1)}))},r=()=>{!function(t){function s(t,s){if(t)if("offset"in t){const i=t.data("jquery-collision-coordinates");if(i)this.x1=i.x1,this.y1=i.y1,this.x2=i.x2,this.y2=i.y2;else if(s&&s.length&&s.length>=4)this.x1=s[0],this.y1=s[1],this.x2=s[2]+t.outerWidth(!0),this.y2=s[3]+t.outerHeight(!0);else if(t.parent().length<=0)this.x1=parseInt(t.css("left"))||0,this.y1=parseInt(t.css("top"))||0,this.x2=parseInt(t.css("width"))||0,this.y2=parseInt(t.css("height"))||0,this.x2+=this.x1,this.x2+=(parseInt(t.css("margin-left"))||0)+(parseInt(t.css("border-left"))||0)+(parseInt(t.css("padding-left"))||0)+(parseInt(t.css("padding-right"))||0)+(parseInt(t.css("border-right"))||0)+(parseInt(t.css("margin-right"))||0),this.y2+=this.y1,this.y2+=(parseInt(t.css("margin-top"))||0)+(parseInt(t.css("border-top"))||0)+(parseInt(t.css("padding-top"))||0)+(parseInt(t.css("padding-bottom"))||0)+(parseInt(t.css("border-bottom"))||0)+(parseInt(t.css("margin-bottom"))||0);else{const s=t.offset();this.x1=s.left-(parseInt(t.css("margin-left"))||0),this.y1=s.top-(parseInt(t.css("margin-top"))||0),this.x2=this.x1+t.outerWidth(!0),this.y2=this.y1+t.outerHeight(!0)}this.proto=t}else"x1"in t&&(this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2,this.proto=t);else this.x1=this.y1=this.x2=this.y2=0,this.proto=null;"dir"in t&&(this.dir=t.dir)}function i(t,s,i,o){this.target=t,this.obstacle=s,this.overlap=i,this.overlapType=o}function o(t,s,i){this.targets=t,this.obstacles=s,this.collisions=null,this.cache=null,this.containment=i||null}s.prototype.innerContainer=function(){const t=new s(this);return this.proto.css&&(t.x1+=parseInt(this.proto.css("margin-left"))||0,t.x1+=parseInt(this.proto.css("border-left"))||0,t.x1+=parseInt(this.proto.css("padding-left"))||0,t.x2-=parseInt(this.proto.css("padding-right"))||0,t.x2-=parseInt(this.proto.css("border-right"))||0,t.x2-=parseInt(this.proto.css("margin-right"))||0,t.y1+=parseInt(this.proto.css("margin-top"))||0,t.y1+=parseInt(this.proto.css("border-top"))||0,t.y1+=parseInt(this.proto.css("padding-top"))||0,t.y2-=parseInt(this.proto.css("padding-bottom"))||0,t.y2-=parseInt(this.proto.css("border-bottom"))||0,t.y2-=parseInt(this.proto.css("margin-bottom"))||0),t},s.prototype.move=function(t,s){return this.x1+=t,this.x2+=t,this.y1+=s,this.y2+=s,this},s.prototype.update=function(t){if("x1"in t&&(this.x1=t.x1),"x2"in t&&(this.x1=t.x2),"y1"in t&&(this.x1=t.y1),"y2"in t&&(this.x1=t.y2),"left"in t){const s=this.x2-this.x1;this.x1=t.left,this.x2=this.x1+s}if("top"in t){const s=this.y2-this.y1;this.y1=t.top,this.y2=this.y1+s}if("offset"in t){const s=t.offset();this.update(s),this.x2=this.x1+t.width(),this.y2=this.y1+t.height()}return"dir"in t&&(this.x1=t.dir),this},s.prototype.width=function(){return this.x2-this.x1},s.prototype.height=function(){return this.y2-this.y1},s.prototype.centerx=function(){return(this.x1+this.x2)/2},s.prototype.centery=function(){return(this.y1+this.y2)/2},s.prototype.toString=function(){return(this.proto.get?"#"+this.proto.get(0).id:"")+"["+[this.x1,this.y1,this.x2,this.y2].join(",")+"]"},s.EPSILON=.001,s.prototype.containsPoint=function(t,i,o){o||(o=!1);const e=(o?-1:1)*s.EPSILON;return t>this.x1+e&&t<this.x2-e&&i>this.y1+e&&i<this.y2-e},s.prototype.overlaps=function(t,s){let i=this._overlaps(t,s);return i.length>0?i:(i=t._overlaps(this,s),i.length>0&&(i[0].dir="Inside"===i[0].dir?"Outside":"Outside"===i[0].dir?"Inside":"N"===i[0].dir?"S":"S"===i[0].dir?"N":"W"===i[0].dir?"E":"E"===i[0].dir?"W":"NE"===i[0].dir?"SW":"SW"===i[0].dir?"NE":"SE"===i[0].dir?"NW":"NW"===i[0].dir?"SE":void 0),i||[])},s.prototype._overlaps=function(t,i){const o=t,e=this;i||(i=!1);const n=o.centerx(),r=o.centery(),h=[[o.x1,o.y1,"SE"],[o.x2,o.y1,"SW"],[o.x2,o.y2,"NW"],[o.x1,o.y2,"NE"],[n,o.y1,"S"],[o.x2,r,"W"],[n,o.y2,"N"],[o.x1,r,"E"],[n,r,void 0]];let a=null;const p={NW:!1,N:!1,NE:!1,E:!1,SE:!1,S:!1,SW:!1,W:!1};for(let t=0;t<h.length;t++)if(this.containsPoint(h[t][0],h[t][1],i)){if(h[t][2]&&(p[h[t][2]]=!0),a)continue;a=[new s({x1:Math.max(o.x1,e.x1),y1:Math.max(o.y1,e.y1),x2:Math.min(o.x2,e.x2),y2:Math.min(o.y2,e.y2),dir:h[t][2]})]}return a&&(p.NW&&p.NE&&(a[0].dir="N"),p.NE&&p.SE&&(a[0].dir="E"),p.SE&&p.SW&&(a[0].dir="S"),p.SW&&p.NW&&(a[0].dir="W"),p.NW&&p.NE&&p.SE&&p.SW&&(a[0].dir="Outside"),p.NW||p.NE||p.SE||p.SW||p.N||p.E||p.S||p.W||(a[0].dir="Inside")),a||[]},s.prototype._protrusion=function(t,i,o){const e=this.overlaps(new s(t),!1);return e.length<=0||(e[0].dir=i,o.push(e[0])),o},s.prototype.protrusions=function(t){let s=[];const i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,e=t.x1,n=t.x2,r=t.y1,h=t.y2;return s=this._protrusion({x1:e,y1:i,x2:n,y2:r},"N",s),s=this._protrusion({x1:n,y1:i,x2:o,y2:r},"NE",s),s=this._protrusion({x1:n,y1:r,x2:o,y2:h},"E",s),s=this._protrusion({x1:n,y1:h,x2:o,y2:o},"SE",s),s=this._protrusion({x1:e,y1:h,x2:n,y2:o},"S",s),s=this._protrusion({x1:i,y1:h,x2:e,y2:o},"SW",s),s=this._protrusion({x1:i,y1:r,x2:e,y2:h},"W",s),s=this._protrusion({x1:i,y1:i,x2:e,y2:r},"NW",s),s},i.prototype.distance=function(t){const s=c.target,i=c.overlap;return Math.sqrt((s.centerx()-i.centerx())*(s.centerx()-i.centerx())+(s.centery()-i.centery())*(s.centery()-i.centery()))},o.prototype.getCollisions=function(t){if(null!==this.collisions)return this.collisions;if(this.cache={},this.collisions=[],t||(t="collision"),"collision"!==t&&"protrusion"!==t)return[];const s=[],o=this.targets,e=this.obstacles;for(let n=0;n<o.length;n++){const r=o[n];for(let h=0;h<e.length;h++){const a=e[h],p="collision"===t?r.overlaps(a):r.protrusions(a.innerContainer());for(let r=0;r<p.length;r++)s.push(new i(o[n],e[h],p[r],t))}}return this.collisions=s,s};const e=i=>t(i).get().map((function(i,o,e){return new s(t(i))}));t.fn.collision=function(s,i){i||(i={});let n="collision",r=null,h=null,a=null,p=null,c="body";"protrusion"===i.mode&&(n=i.mode),i.as&&(r=i.as),i.colliderData&&(h=i.colliderData),i.obstacleData&&(a=i.obstacleData),i.directionData&&(p=i.directionData),i.relative&&(c=i.relative);const l=new o(e(this),e(s)).getCollisions(n);let d;return d=r?t.map(l,(function(s,i,o){let e=s.overlap.x1,n=s.overlap.y1;if(c&&"body"!==c){const i=t("collider"===c?s.target.proto:"obstacle"===c?s.obstacle.proto:c);if(i.length>0){const t=i.offset();e-=t.left,n-=t.top}}const l=t(r).offset({left:e,top:n}).width(s.overlap.width()).height(s.overlap.height());return h&&l.data(h,t(s.target.proto)),a&&l.data(a,t(s.obstacle.proto)),p&&s.overlap.dir&&l.data(p,s.overlap.dir),l})):t.map(l,(function(t,s,i){return t.obstacle.proto})),(s=>{let i=t();for(let t=0;t<s.length;t++)i=i.add(s[t]);return i})(d)}}(e)};o((function(){const e=o("#kCode");if(!e||e.length<1)return;const r=e.attr("content");r&&0===r.indexOf("/")&&t.on("keydown",(function(t){t.keyCode===s[i]?(i++,i===s.length&&n()):i=0}))}))})()}},t=>{t.O(0,[9755],(()=>{return s=5996,t(t.s=s);var s}));t.O()}]);
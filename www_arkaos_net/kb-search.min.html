<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kb-search.min.html</title>
</head>
<body>

<script>
var hsSearch=function(_form){var func,wait,immediate,timeout,searchForm=_form,searchField=_form.querySelector(".kb-search__input"),searchTerm="",searchResults=_form.querySelector(".kb-search__suggestions"),searchCloseButton=_form.querySelector(".kb-search__close"),emptySearchResults=function(){searchResults.innerHTML="",searchField.focus(),searchForm.classList.remove("kb-search--open")},getSearchResults=function(){var kbLanguageTag=document.querySelector(".kb-search").getAttribute("kb-language-tag"),kbGroupId=document.querySelector(".kb-search").getAttribute("kb-group-id"),shouldSkipCache=window.location.search.includes("hsSkipCache=true"),searchUrl="/_hcms/search?portalId="+encodeURIComponent(hsVars.portal_id)+"&term="+encodeURIComponent(searchTerm)+"&language="+encodeURIComponent(kbLanguageTag)+"&type=KNOWLEDGE_ARTICLE&requestSource=LIVE_PAGE&analytics=true&autocomplete=true&limit=5&hsSkipCache="+shouldSkipCache;kbGroupId&&(searchUrl=searchUrl+"&groupId="+kbGroupId),kbDom.getJSON(searchUrl,(function(data){var results,items;data.results.length>0?(results=data.results,items=results.map((function(result,index){var title=result.title,category=result.category,subcategory=result.subcategory,resultUrl=result.url;return result.description,'<li id="result'+index+'"><a href="'+resultUrl+'"><div class="kb-search__suggestions__article-title">'+title+"</div>"+(category?'<div class="kb-search__suggestions__breadcrumb kb__text-link">'+category+(subcategory?"&nbsp;&nbsp;>&nbsp;&nbsp;"+subcategory:"")+"</div>":"")+"</a></li>"})),searchResults.innerHTML=DOMPurify.sanitize(items.join("")),searchForm.classList.add("kb-search--open"),trapFocus()):emptySearchResults()}))},trapFocus=function(){var tabbable=[];tabbable.push(searchField[0]),searchResults.querySelectorAll("a").forEach((function(anchor){tabbable.push(anchor)}));var firstTabbable=tabbable[0],lastTabbable=tabbable[tabbable.length-1];searchForm.addEventListener("keydown",(function(e){switch(e.which){case 9:!function(e){e.target!=lastTabbable||e.shiftKey?e.target==firstTabbable&&e.shiftKey&&(e.preventDefault(),lastTabbable.focus()):(e.preventDefault(),firstTabbable.focus())}(e);break;case 27:emptySearchResults();break;case 38:!function(e){e.preventDefault(),e.target==firstTabbable?lastTabbable.focus():tabbable.forEach((function(el){el==e.target&&tabbable[tabbable.indexOf(el)-1].focus()}))}(e);break;case 40:!function(e){e.preventDefault(),e.target==lastTabbable?firstTabbable.focus():tabbable.forEach((function(el){el==e.target&&tabbable[tabbable.indexOf(el)+1].focus()}))}(e)}})),searchCloseButton.addEventListener("click",(function(){emptySearchResults()}))},db=(func=function(){(searchTerm=searchField.value).length>0?getSearchResults():0==searchTerm.length&&emptySearchResults()},wait=250,function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout((function(){timeout=null,immediate||func.apply(context,args)}),wait||200),callNow&&func.apply(context,args)});searchField.addEventListener("keyup",(function(e){9!=e.which&&40!=e.which&&38!=e.which&&27!=e.which&&searchTerm!=searchField.value&&db()}))};kbDom.whenReady((function(){document.querySelectorAll(".kb-search").forEach((function(el){hsSearch(el)}))})),document.addEventListener("invalid",(function(e){e.preventDefault(),document.getElementById("searchInput").focus()}),!0);
//# sourceURL=https://7052064.fs1.hubspotusercontent-na1.net/hub/7052064/hub_generated/template_assets/1733307814403/hubspot/themes/knowledge/assets/kb-search.js
</script>

</body>
</html>

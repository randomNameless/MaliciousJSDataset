"use strict";(self.webpackChunk_amzn_stores_content_rendering_server=self.webpackChunk_amzn_stores_content_rendering_server||[]).push([[4466],{97463:function(e,t,n){n(8578),n(10963),n(28751),n(30800),n(45864),n(20148),n(21442),n(56750),n(81892),n(42955),n(19643),n(27678),n(76308),n(60277),n(19324),n(43452),n(67237),n(68064),n(69898),n(17965),n(72281),n(74354),n(74181),n(65036),n(63748),n(27268),n(13156),n(37192);var r=n(8330),o=n.n(r),a=n(31823),i=n.n(a),s=n(30064),c=n.n(s),l=n(12634),h=n.n(l),u=n(1473),d=n(46481),f=n(40502),v=n(34346),p=n(71368),g=n(91927),y=n(40549),b=n(20911),m=n(44235),x=n(21938),S=n(62366),j=n(18217),w=n(28946),N=n(36770),O=n(34680),k=n(11557),I=n(42899),C=n(86571),A=n(40845),L=n(72769),Z=n(22313),_=n(99362),E=n(89178),P=(n(40753),n(74359),n(24390),n(69403),n(11298),n(96095),n(46504),n(25266));function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}(this,n)}}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function F(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=i().bind(E.Z),q=function(e){var t=e.nav,n=e.pageContext,r=e.translations,o=void 0===r?{}:r,a=n.rootPageId;return n.isSearchEnabled?function(e,t,n){var r;return n&&n[e]&&n[e].children?W(W({},n),{},(G(r={},t.pageId,t),G(r,e,W(W({},n[e]),{},{children:[].concat(F(n[e].children),[t.pageId])})),r)):n}(a,{parent:a,level:2,children:[],title:o.STORES_WIDGET_SearchResults||"Search Results",pageId:"search"},t):t},K=function(e){return(0,P.jsx)("div",{className:z("author-logo"),children:(0,P.jsx)("a",{href:e.href,onClick:e.onClick,children:(0,P.jsx)(k.Z,W(W({},e),{},{authorName:e.brandName,maxSize:450,authorImageType:k.m.HOME_PAGE_LOGO}))})})},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(a,e);var t,n,r,o=R(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).bodyScroll=d.Z.getInstance(),n.stickyNavListener={start:function(){window.addEventListener("scroll",n.handleScroll),n.handleScroll()},stop:function(){return window.removeEventListener("scroll",n.handleScroll)}},n.getNavOffset=function(){var e=H(n).navArea;if(!e)return null;if("function"==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(t)return t.top+window.scrollY}return e.offsetTop},n.handleScroll=function(){var e=n.state,t=e.sticky,r=e.navAreaOffset,o=window.scrollY,a=H(n),i=a.getNavOffset,s=a.isFollowButtonEnabled,c=a.showNav;!t&&o>i()&&(s||c)?n.stick():t&&o<=r&&!n.bodyScroll.isDisabled()&&n.unstick()},n.stick=function(){var e=H(n),t=e.getNavOffset,r=e.navArea.clientHeight,o=t();n.setState({sticky:!0,navAreaHeight:r,navAreaOffset:o})},n.unstick=function(){n.setState({sticky:!1})},n.componentDidMount=function(){var e=H(n),t=e.getNavOffset,r=e.navArea;r&&n.setState({navAreaOffset:t(),navAreaHeight:r.clientHeight},(function(){n.isBuilder||n.stickyNavListener.start()}))},n.componentWillUnmount=function(){n.isBuilder||n.stickyNavListener.stop()},n.logSearchInteraction=function(e){var t=n.context.pageContext,r=(t=void 0===t?{}:t).rootPageId,o=t.storeId;r===o?g.Z.log("Header","".concat(e,":fromRoot"),"LOG","Search from root page"):"search"===o?g.Z.log("Header","".concat(e,":fromSearch"),"LOG","Search from Search results"):g.Z.log("Header","".concat(e,":fromSubpage"),"LOG","Search from subpage")},n.handleSearchSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n.context,r=t.widgetId,o=t.widgetType,a=t.pageContext,i=a.rootPageId,s=a.storeId,c=e.trim();if(c){var l=(0,p.nM)(a,c);window.location.assign(l),n.logSearchInteraction(_.K.SUBMIT),g.Z.logToNexus({widgetId:r,widgetType:o,eventType:f.fT.search,message:'Search store for "'.concat(c,'"'),others:{storeId:i,pageId:s,keywords:c}})}},n.logCSMSearchInputFieldFocus=function(){g.Z.log("SearchInput",_.K.FOCUS,g.Z.LOG,"User focused on search input field")},n.logCSMLogoClick=function(){g.Z.log("Logo",_.s.LOGO_CLICK,g.Z.LOG,"User clicked on header logo")},n.state={sticky:!1,navAreaHeight:null,navAreaOffset:null};var r=n.context.isMobile;return n.weblabChecker=new b.ZP(n.context),n.isMobileSearchImprovementsWeblabOn=r&&(n.weblabChecker.isT1ActiveAndTrigger(f.Cq.MOBILE_NAV_EXPERIMENT_2)||n.weblabChecker.isT1Active(f.Cq.STATIC_MOBILE_NAV)),n.isBondSearchWeblabOn=n.weblabChecker.isT1Active(f.Cq.BOND_STORES_SEARCH),n}return t=a,(n=[{key:"classes",get:function(){var e=this.hasLogo,t=this.hasIntroSplashVideo,n=this.layout,r=this.showNav,o=this.context.pageContext,a=(void 0===o?{}:o).isSearchEnabled,i=this.state.sticky;return z("header",n,{hasLogo:e,hasIntroSplashVideo:t,sticky:i,noNav:!r,search:a})}},{key:"href",get:function(){var e=this.props.content,t=this.context.pageContext;if(t){var n=t.rootPageId;return c()("nav[".concat(n,"].href"))(e)}return null}},{key:"isBuilder",get:function(){return this.context.caller===f.Qd.BUILDER}},{key:"isFollowButtonEnabled",get:function(){var e=this.context,t=e.pageContext,n=void 0===t?{}:t,r=e.themeContext;return!!(void 0===r?{}:r).showFollowButton&&(n.bfid||n.afid)}},{key:"isSinglePageStore",get:function(){var e=this.props.content.nav;return e&&1===Object.keys(e).length}},{key:"layout",get:function(){var e=this.props.layout,t=this.context.themeContext;return e||(void 0===t?{}:t).headerLayout||"left"}},{key:"hasBlackLivesMatterBanner",get:function(){var e=this.props.content,t=(void 0===e?{}:e).showBlackLivesMatterBanner;return!0===(void 0!==t&&t)}},{key:"hasHero",get:function(){var e=this.props,t=e.layout,n=e.content,r=void 0===n?{}:n,o=this.context.themeContext,a=void 0===o?{}:o;return!!r.image&&"center"!==t&&(void 0===a.showHeroImage||a.showHeroImage)}},{key:"hasLogo",get:function(){var e=this.context.pageContext,t=(void 0===e?{}:e).brandLogo;return!(!t||t.hideBrandLogo||!t.image)}},{key:"hasIntroSplashVideo",get:function(){var e=this.context.pageContext,t=(void 0===e?{}:e).introSplashVideo;return!(!t||t.hideIntroSplashVideo||!t.video&&!t.videoUrl)}},{key:"hasNav",get:function(){var e=this.props.content;return void 0!==(void 0===e?{}:e).nav}},{key:"showNav",get:function(){var e=this.hasNav,t=this.props.content,n=void 0===t?{}:t;return e&&Object.keys(n.nav).length>1}},{key:"hideHeader",get:function(){var e=this.context.themeContext,t=void 0===e?{}:e;return!(!t||void 0===t.hideHeader)&&t.hideHeader}},{key:"searchInput",get:function(){var e,t=this.context,n=t.requestContext.queryParameterMap,r=t.pageContext;if(!(r=void 0===r?{}:r).isSearchEnabled)return null;var o=(null!==(e=null==n?void 0:n.terms)&&void 0!==e?e:[]).join(" "),a=(0,v.U)(o);return this.logSearchInteraction(_.K.RENDER),(0,P.jsx)("div",{className:z("searchArea"),children:(0,P.jsx)(m.Z,{onSubmit:this.handleSearchSubmit,onFocus:this.logCSMSearchInputFieldFocus,initialText:a,enableCancel:!1,isRioSearchVariation:this.isMobileSearchImprovementsWeblabOn})})}},{key:"dynamicMobileNav",get:function(){var e=this.props.content,t=e.nav,n=e.personalizedNav;return(0,P.jsx)(I.y,{nav:t,personalizedNav:n})}},{key:"shouldShowDescription",get:function(){var e=this.context,t=e.isSLP,n=e.pageContext,r=(void 0===n?{}:n).description;return t&&r}},{key:"render",value:function(){var e=this,t=this.context,n=t.pageContext,r=void 0===n?{}:n,o=t.isMobile,a=t.translations,i=r.brandName,s=r.description,c=this.classes,l=this.href,h=this.isFollowButtonEnabled,u=this.isSinglePageStore,d=this.layout,v=this.hasBlackLivesMatterBanner,p=this.hasHero,g=this.hasIntroSplashVideo,y=this.hasLogo,b=this.hasNav,m=this.hideHeader,k=this.shouldShowDescription,I=this.showNav,_=this.stickyNavListener,E=this.logCSMLogoClick,B=this.isMobileSearchImprovementsWeblabOn,M=this.state,T=M.navAreaHeight,R=M.sticky,H=W(W({},this.props),{},{href:l,layout:d,hasLogo:y,hasIntroSplashVideo:g,showNav:I}),D=H.content.nav,F={nav:D,pageContext:r,translations:a},V=W(W({},H),{},{content:W(W({},H.content),{},{nav:q(F)})}),U=W(W({},H),{},{content:W(W({},H.content),{},{nav:D})}),G=W(W(W({className:z("logo"),onClick:E},H),r.brandLogo),{},{brandName:i}),Y=W({},r.introSplashVideo);if(m)return g?(0,P.jsx)(j.Z,W({},Y)):null;if("left"===d){var Q="author"===r.theme;return(0,P.jsxs)("div",{className:c,children:[g&&(0,P.jsx)(j.Z,W({},Y)),p&&(0,P.jsx)(S.Z,W(W({},H),{},{hasLogo:!1})),(0,P.jsx)("div",{className:z("placeholder"),style:{height:T}}),(0,P.jsxs)("div",{className:z("navArea",{"search--rio-upgrade":B}),id:f.C6.NAV_AREA,ref:function(t){e.navArea=t},children:[(0,P.jsxs)("div",{className:z("navAreaHorizontalLayout"),"data-testid":"header-nav-area",children:[y&&(0,P.jsx)("div",{className:z("leftColumn"),"data-testid":"header-logo-section",children:Q?K(G):(0,P.jsx)(N.Z,W({},G))}),b&&(0,P.jsxs)("div",{className:z("rightColumn"),children:[y&&(Q?K(G):(0,P.jsx)(N.Z,W({},G))),(0,P.jsxs)("div",{className:z("navigationArea",{isSinglePageStore:u,hasLogo:y}),children:[(0,P.jsx)(x.Z,W({className:z("breadcrumbsWithFollowButton",{isSinglePageStore:u,hasLogo:y})},V)),(0,P.jsxs)("div",{className:z("menuArea"),children:[h&&(0,P.jsx)(O.Z,{className:z("followButton"),showTooltipIcon:Q}),(0,P.jsx)(L.Z,{className:z("socialShare")}),(0,P.jsx)(w.Z,W(W({className:z("navigationWithFollowButton",{hasLogo:y}),stickyNavListener:_},U),{},{hasFollowButton:!0})),!o&&this.searchInput]})]})]})]}),o&&(0,P.jsxs)(Z.Z,{enabled:R,navAreaRef:this.navArea,children:[this.dynamicMobileNav,this.searchInput]})]}),o&&(0,P.jsxs)(P.Fragment,{children:[this.dynamicMobileNav,this.searchInput]}),v&&(0,P.jsx)(A.Z,{brandName:i}),k&&(0,P.jsx)("div",{className:z("description"),children:(0,P.jsx)("h2",{className:z("description__text"),children:s})})]})}var X=r.theme,$=r.externalWidgetIds,J=X===f.np.PREMIUM_BEAUTY,ee=X===f.np.BOND,te=J||ee&&this.isBondSearchWeblabOn;return(0,P.jsxs)("div",{className:c,children:[b&&"center"!==d&&(0,P.jsx)(x.Z,W({className:z("breadcrumbs")},V)),g&&(0,P.jsx)(j.Z,W({},Y)),(p||y)&&(0,P.jsxs)("div",{className:z("imageArea"),children:[p&&(0,P.jsx)(S.Z,W({},H)),y&&(0,P.jsx)(N.Z,W(W({className:z("logo")},H),r.brandLogo))]}),b&&(0,P.jsx)("div",{className:z("placeholder"),style:{height:T}}),b&&(0,P.jsxs)("div",{className:z("navArea"),id:f.C6.NAV_AREA,ref:function(t){e.navArea=t},children:[(0,P.jsxs)("div",{className:z("navAreaHorizontalLayout"),children:[h&&(0,P.jsx)(O.Z,{className:z("followButton")}),J&&(0,P.jsx)(C.Z,{externalWidgetIds:$,isMobile:o}),(0,P.jsx)(L.Z,{className:z("socialShare")}),(0,P.jsx)(w.Z,W({className:z("navigation"),stickyNavListener:_},U)),!o&&te&&this.searchInput]}),o&&te&&(0,P.jsx)(Z.Z,{enabled:R,navAreaRef:this.navArea,children:this.searchInput})]}),o&&te&&this.searchInput,b&&"center"===d&&(0,P.jsx)(x.Z,W({className:z("breadcrumbs")},V))]})}}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o().Component);Y.propTypes={content:h().shape({nav:h().object,personalizedNav:u.oK}),layout:h().oneOf(["left","center"]),children:h().node},Y.contextTypes={caller:h().string,pageContext:u.pn,requestContext:u.ci,themeContext:u.iR,translations:h().objectOf(h().string),widgetId:h().string,widgetType:h().string,isMobile:h().bool,isSLP:h().bool},Y.defaultProps={content:{},layout:void 0,children:void 0};(0,y.Z)(Y,"headerV1",!0);t.Z=Y}}]);
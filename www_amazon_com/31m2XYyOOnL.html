<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31m2XYyOOnL.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_amzn_stores_content_rendering_server=self.webpackChunk_amzn_stores_content_rendering_server||[]).push([[7659],{94682:function(t,e,o){o(83084),o(96661),o(8578),o(46001),o(42955),o(20075),o(45864),o(21442),o(81892),o(19643),o(27678),o(76308),o(72281),o(74354),o(74181),o(56750),o(60277),o(19324),o(43452),o(67237),o(68064),o(69898),o(17965),o(28751),o(37192),o(27268),o(13156),o(63748);var n=o(8330),r=o.n(n),a=o(56421),i=o(12634),s=o.n(i),d=o(30064),u=o.n(d),l=o(43628),c=o.n(l),p=o(59733),f=o(40502),y=o(71368),C=o(91927),T=o(1473),h=o(22569),b=o(16427),v=o(40120),g=o(97918),A=o(52409),m=o(11670),S=o(25266);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function O(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return P(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function E(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=I(t);if(e){var r=I(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}(this,o)}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function D(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function j(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var _=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?D(Object(o),!0).forEach((function(e){j(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({className:s().string,buttonSkin:s().string,buttonClassName:s().string,buttonTextClassName:s().string,buttonText:s().string,href:s().string.isRequired,onLoading:s().func,onResponse:s().func,fixedMobileSize:s().bool,secondary:s().bool,small:s().bool,widgetFrom:s().string,autoChangeButtonText:s().bool,onAddToCartSuccess:s().func,onDetailPageClick:s().func,overrideCanAddToCartForCoupons:s().bool,refTagAdditionalParams:s().shape({shouldAddProductShowcase:s().bool}),overrideClass:s().string,orderQuantity:s().number},T.dw),Q={pageContext:T.pn,requestContext:T.ci,configOverride:T.Yj,caller:s().string,translations:s().objectOf(s().string),isSLP:s().bool,themeContext:T.iR,widgetType:s().string,widgetId:s().string},B={className:void 0,buttonClassName:void 0,buttonTextClassName:void 0,buttonSkin:void 0,onLoading:function(){},onResponse:function(){},onAddToCartSuccess:void 0,onDetailPageClick:void 0,fixedMobileSize:!1,secondary:!1,small:!1,buttonText:void 0,widgetFrom:"",autoChangeButtonText:!0,overrideCanAddToCartForCoupons:!1,refTagAdditionalParams:{shouldAddProductShowcase:!1},overrideClass:void 0,orderQuantity:1},G=1,M=0,N=-2,F=-3,L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(a,t);var e,o,n,r=R(a);function a(t,e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(o=r.call(this,t,e)).handleClaimAndAddToCartSuccess=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o.props.orderQuantity,n=u()("data.entity.claimed")(t),r=u()("data.entity.msUntilExpiration")(t)||0,a=Date.now()+r;n?((0,p.rC)(o.currentCartQuantity+e),o.setState({expiryTime:a,canAddToCartQuantity:o.maxItemsQuantity-e},(function(){0===o.state.canAddToCartQuantity&&o.setButtonTypeToGoDetailPage(o.props),o.handleResponse(G,e),o.logSuccessfulAddToCart()}))):o.handleResponse(F,e)},o.handleAjaxSuccessfulCallAAPI=function(t){var e=u()("data.entity.items[0].quantity")(t),n=c()(o.currentCartQuantity+1)("data.entity.count.items")(t);(0,p.rC)(n),o.setState({canAddToCartQuantity:o.maxItemsQuantity-e}),o.handleResponse(G,n),o.logSuccessfulAddToCart()},o.handleAjaxErrorCall=function(t,e){var n,r,a,i,s=o.props.asin;if(g.m.includes(null==t||null===(n=t.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.errorInformation)||void 0===a?void 0:a.errorType)){var d,u,l,c=null==t||null===(d=t.response)||void 0===d||null===(u=d.data)||void 0===u||null===(l=u.errorInformation)||void 0===l?void 0:l.errorMessage;o.handleResponse(e,void 0,c)}else o.handleResponse(e);var p=null==t||null===(i=t.response)||void 0===i?void 0:i.status,f="Error adding to cart for asin: ".concat(s," statusCode=").concat(p," errorMessage=").concat(null==t?void 0:t.message," error=").concat(t),y="AddToCart:Error:Unknown",T=C.Z.ERROR;null==p?(y="AddToCart:Error:StatusCodeMissing",T=C.Z.ERROR):p>=500?(y="AddToCart:Error:5xx",T=C.Z.FATAL):422===p?(y="AddToCart:Error:422",T=C.Z.ERROR):p<500&&(y="AddToCart:Error:4xx",T=C.Z.ERROR),o.logEvent(y,T,f)},o.handleGoDetailPageClick=function(t){var e=o.props,n=e.widgetFrom,r=e.onDetailPageClick,a=e.stopPropagation,i=e.asin;a&&t.stopPropagation(),r&&r(),o.logEvent("ClickToDetailPage",C.Z.LOG,"click to detail page from widget=".concat(n," on ASIN=").concat(i))},o.handleAjaxSuccessfulCallFreshCart=function(t){var e;if(null!=t&&t.addSuccessful&&null!=t&&null!==(e=t.clientResponseModel)&&void 0!==e&&e.items){var n=t.clientResponseModel,r=n.items.find((function(t){var e;return t.ASIN===(null==n||null===(e=n.addToCartRequest)||void 0===e?void 0:e.asin)})),a=r?r.quantity:0,i=o.currentCartQuantity+1;(0,p.rC)(i),o.setState({canAddToCartQuantity:o.maxItemsQuantity-a}),o.handleResponse(G,i),o.logSuccessfulAddToCart()}},o.setButtonTypeToAddToCart=function(t){o.setState({canAddToCartQuantity:o.maxOrderQuantity(t),buttonType:(0,p.zR)(t)?"preOrderAddToCart":"addToCart",buttonText:o.addToCartText((0,p.zR)(t)),buttonIcon:null,buttonHref:null,buttonDisabled:!1,onButtonClick:o.addToCartCall})},o.setButtonTypeToGoDetailPage=function(t){var e=o.props.autoChangeButtonText,n=o.state.buttonText,r=o.context.translations,a=t.href,i=t.buttonText;i||!e&&""!==n?i||(i=o.state.buttonText):(i="See buying options",r&&(i=r.STORES_WIDGET_SeeBuyingOptions||i)),o.setState({buttonType:"goToDetailPage",onButtonClick:o.handleGoDetailPageClick,buttonIcon:null,buttonText:i,buttonHref:a,buttonDisabled:!e&&""!==n})},o.logEvent=function(t,e,n){var r=o.props,a=r.widgetFrom,i=r.buyability,s=(0,b.Y)(o.context),d=i.canAddLightningDealsToStandardCart?":ClaimAndAddToCart":"";C.Z.log(s,t,e,n),C.Z.log("".concat(s,":AddToCart").concat(d),t,e,n),a&&C.Z.log("".concat(s,":AddToCart:").concat(a).concat(d),t,e,n)},o.addToCartCall=o.addToCartCall.bind(k(o)),o.handleResponse=o.handleResponse.bind(k(o)),o.maxItemsQuantity=o.maxOrderQuantity(o.props),o.state={canAddToCartQuantity:o.maxOrderQuantity(o.props),buttonType:(0,p.zR)(t)?"preOrderAddToCart":"addToCart",buttonText:"",buttonIcon:null,buttonHref:null,onButtonClick:o.addToCartCall,buttonDisabled:!1,expiryTime:void 0},o.configuration=(0,m.Z)(e),o}return e=a,(o=[{key:"UNSAFE_componentWillMount",value:function(){var t=this.props.overrideCanAddToCartForCoupons,e=this.context.requestContext.obfuscatedMarketplaceId,o=void 0===e?"":e;(0,p.qr)(this.props,o,t)?(this.setState({buttonText:this.addToCartText((0,p.zR)(this.props))}),this.logEvent("ShowAddToCartButton",C.Z.LOG,"Show add to cart button")):(this.setButtonTypeToGoDetailPage(this.props),this.logEvent("ShowSeeBuyingOptionsButton",C.Z.LOG,"Show see buying options button"))}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this.context.requestContext.obfuscatedMarketplaceId,o=void 0===e?"":e,n=this.props,r=n.href,a=n.overrideCanAddToCartForCoupons;r!==t.href&&((0,p.qr)(t,o,a)?this.setButtonTypeToAddToCart(t):this.setButtonTypeToGoDetailPage(t))}},{key:"handleResponse",value:function(t,e,o){var n=this.state,r=n.canAddToCartQuantity,a=n.expiryTime,i=this.context.translations,s=void 0===i?{}:i,d="";switch(t){case G:d="Added to Cart",s&&(d=s.STORES_WIDGET_AddedToCart||d),this.handleAddToCartMessage(d,!0);break;case M:d="You already have the max quantity available from this seller in your cart.",s&&(d=s.STORES_WIDGET_AllStockAdded||d),r>0&&this.setState({canAddToCartQuantity:0}),this.handleAddToCartMessage(d,!1);break;case F:this.setButtonTypeToGoDetailPage(this.props),this.setState({canAddToCartQuantity:0}),d="Problem Adding To Cart",s&&(d=s.STORES_WIDGET_AddToCartError||d),this.handleAddToCartMessage(d,!1);break;default:d="Problem Adding To Cart",s&&(d=s.STORES_WIDGET_AddToCartError||d),o&&(d=o||d),this.handleAddToCartMessage(d,!1)}(0,this.props.onResponse)({expiryTime:a,message:d,exitCode:t,cartCount:e})}},{key:"handleAddToCartMessage",value:function(t,e){var o=this.context.widgetId,n=this.props,r=n.asin,a=n.title,i=n.dispatchAddToCartSuccessEvent,s=n.dispatchAddToCartFailureEvent,d=n.price,u={widgetId:o,asin:r,title:a,message:t,currency:null==d?void 0:d.currency};e?i(u):s(u)}},{key:"buttonStyles",get:function(){return{zIndex:this.context.caller===f.Qd.BUILDER?0:1}}},{key:"currentCartQuantity",get:function(){var t=document.querySelector(".nav-cart-count"),e=t&&t.textContent||"0";return e=parseInt(e,10)}},{key:"ariaLabel",get:function(){var t=this.props.title,e=this.state.buttonText;return t?"".concat(e,", ").concat(t):e}},{key:"shouldExecuteAddToCartCall",value:function(){var t=this.context.caller,e=this.state.canAddToCartQuantity;return!(t===f.Qd.BUILDER||e<=0&&(this.logEvent("addToCart:canAddToCartQuantity<=0",C.Z.LOG,"UserClicked on AddToCart but canAddToCartQuantity <= 0"),this.setButtonTypeToGoDetailPage(this.props),this.handleResponse(M),1))}},{key:"addToCartText",value:function(t){var e="Add To Cart",o="STORES_WIDGET_AddToCart";!0===t&&(e=this.configuration.preOrderTranslationText,o=this.configuration.preOrderTranslationKey);var n=this.context.translations;return n&&(e=n[o]||e),e}},{key:"logSuccessfulAddToCart",value:function(){var t=this.props,e=t.asin,o=t.widgetFrom,n=t.onAddToCartSuccess;if("function"==typeof n&&n(),this.logEvent("AddedToCart",C.Z.LOG,"AddedToCart successful on ASIN=".concat(e,";")),"fromVariation"===o||"ProductDetailsShowcase"===o){var r=this.context,a=r.widgetId,i=r.widgetType,s="".concat((0,b.Y)(this.context),":AddToCart:").concat(o);C.Z.logToNexus({widgetId:a,widgetType:i,widgetSubType:s,eventSubType:"AddedToCart",eventType:f.fT.click,message:"AddedToCart successful on ASIN=".concat(e,";"),others:{asin:e}})}}},{key:"maxOrderQuantity",value:function(t){var e=t.asin,o=t.quantity,n=u()("maxOrderQuantity")(o);return n&&e?n:100}},{key:"addToCartCallAAPI",value:function(){var t=this,e=this.props,o=e.asin,n=e.buyability,r=void 0===n?{}:n,a=e.refTagAdditionalParams,i=void 0===a?{}:a,s=e.orderQuantity,d=void 0===s?1:s,u=e.additionalRefTag,l=void 0===u?[]:u,c=i.shouldAddProductShowcase,p=void 0!==c&&c?[y.Am.PRODUCT_SHOWCASE].concat(O(l)):O(l);(0,h.Xq)(this.context,o,r.offerListingId,d,{},p).then((function(e){t.handleAjaxSuccessfulCallAAPI(e)}),(function(e){t.handleAjaxErrorCall(e,N)}))}},{key:"claimAndAddToCartCallAAPI",value:function(){var t=this,e=this.props,o=e.asin,n=e.refTagAdditionalParams,r=void 0===n?{}:n,a=e.orderQuantity,i=void 0===a?1:a,s=e.additionalRefTag,d=void 0===s?[]:s,u=e.buyability,l=r.shouldAddProductShowcase,c=void 0!==l&&l?[y.Am.PRODUCT_SHOWCASE].concat(O(d)):O(d);(0,h.OW)(u.addToCartUrl,this.context,o,i,c).then((function(e){return t.handleClaimAndAddToCartSuccess(e)}),(function(e){var o;return 400===(null==e||null===(o=e.response)||void 0===o?void 0:o.status)&&(t.setButtonTypeToGoDetailPage(t.props),t.setState({canAddToCartQuantity:0})),t.handleAjaxErrorCall(e,N)}))}},{key:"addToFreshCartCall",value:function(){var t=this,e=this.props,o=e.asin,n=e.buyability,r={asin:o,buyability:void 0===n?{}:n};(0,g.D)(r,this.context).then((function(e){t.handleAjaxSuccessfulCallFreshCart(e.data)}),(function(e){t.handleAjaxErrorCall(e,N)}))}},{key:"addToCartCall",value:function(t){var e,o=this.props,n=o.stopPropagation,r=o.onLoading,a=o.buyability;if(n&&t.stopPropagation(),this.shouldExecuteAddToCartCall()){r();var i=this.context.requestContext;null!=i&&null!==(e=i.queryParameterMap)&&void 0!==e&&e.isRequestALMRegionalized||a.almBrandId?this.addToFreshCartCall():a.canAddLightningDealsToStandardCart?this.claimAndAddToCartCallAAPI():this.addToCartCallAAPI()}}},{key:"render",value:function(){var t=this.props,e=t.className,o=t.buttonClassName,n=t.buttonTextClassName,r=t.buttonSkin,a=t.fixedMobileSize,i=t.price,s=t.widgetFrom,d=t.secondary,u=t.small,l=t.overrideClass,c=this.state,p=c.buttonText,f=c.buttonHref,y=c.buttonType,C=c.buttonIcon,T=c.buttonDisabled,h=c.onButtonClick,b=this.context.themeContext;return null!=b.showAddToCartOverride&&!b.showAddToCartOverride||"fromVariation"!==s&&!i?null:(0,S.jsx)("div",{className:e,style:this.buttonStyles,"data-testid":"add-to-cart",children:(0,S.jsx)(A.Z,{text:p,href:f,type:y,icon:C,onClick:h,fixedMobileSize:a,secondary:d,overrideType:l,disabled:T,disableInternalPointerEvents:!0,small:u,className:e,buttonClassName:o,buttonTextClassName:n,skin:r,ariaLabel:this.ariaLabel})})}}])&&E(e.prototype,o),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r().Component);L.propTypes=_,L.contextTypes=Q,L.defaultProps=B;e.Z=(0,a.connect)(null,(function(t){return{dispatchAddToCartSuccessEvent:function(e){return t((0,v.K$)(e))},dispatchAddToCartFailureEvent:function(e){return t((0,v._B)(e))}}}))(L)}}]);
</script>

</body>
</html>

"use strict";(self.webpackChunk_amzn_stores_content_rendering_server=self.webpackChunk_amzn_stores_content_rendering_server||[]).push([[4520],{41971:function(e,t,i){i.d(t,{Z:function(){return M}});i(8578),i(72281),i(74354),i(42955),i(74181),i(21442),i(56750),i(60277),i(19324),i(43452),i(67237),i(45864),i(81892),i(19643),i(27678),i(76308),i(37192),i(27268),i(13156);var r=i(8330),n=i.n(r),o=i(12634),l=i.n(o),a=i(51473),s=i(31823),u=i.n(s),c=i(76637),f=i.n(c),y=i(4831),d=i(40502),p=i(79098),h=i(1473),m=i(20911),g=i(69830),_=i(68606),b=i(262),T=i(25266);function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){L(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function w(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=C(e);if(t){var n=C(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,i)}}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var S=u().bind({container:"TextTileLayer__container__P7h6N",textTileLayer:"TextTileLayer__textTileLayer__uN507",large:"TextTileLayer__large__pgHei",medium:"TextTileLayer__medium__uBUo3",miniCenter:"TextTileLayer__miniCenter__V__ad",outOfBounds:"TextTileLayer__outOfBounds__R_VNM","padding-small":"TextTileLayer__padding-small___R6VW","padding-medium":"TextTileLayer__padding-medium__LE2sU","padding-large":"TextTileLayer__padding-large__NFUvg","padding-small-full-width":"TextTileLayer__padding-small-full-width__RWhYR","padding-medium-full-width":"TextTileLayer__padding-medium-full-width__dJloD","padding-large-full-width":"TextTileLayer__padding-large-full-width__riupt","margin-small":"TextTileLayer__margin-small__zt0aM","margin-medium":"TextTileLayer__margin-medium__Hkmcl","margin-large":"TextTileLayer__margin-large__jBSLU"}),E={tileId:l().string.isRequired,tileHeight:l().number,tileSize:l().oneOf(["mini","small","medium","large"]).isRequired,tileLayer:l().shape({content:l().object,colorPalette:l().string.isRequired,opacity:l().number,type:l().oneOf(["text"]).isRequired,coverTile:l().bool,position:l().shape({x:l().oneOfType([l().string,l().number]),y:l().oneOfType([l().string,l().number])}).isRequired,margin:l().oneOf(["none","small","medium","large"]).isRequired,padding:l().oneOf(["small","medium","large"]).isRequired}).isRequired,tileType:l().string},R={tileHeight:0,tileType:void 0},z={caller:l().string,themeContext:h.iR,requestContext:h.ci,pageContext:h.pn},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(l,e);var t,i,r,o=k(l);function l(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(i=o.call(this,e,t)).resizeListener=f()((function(){var e=(0,y.tq)(i.context);i.state.isMobile!==e&&i.setState({isMobile:e})}),150),i.positionMap={x:{left:"flex-start",center:"center",right:"flex-end"},y:{top:"flex-start",middle:"center",bottom:"flex-end"}},i.minTileSizes={mini:.5,small:.58,medium:.45,large:.55},i.componentDidMount=function(){window.addEventListener("resize",i.resizeListener),i.setState({isMobile:(0,y.tq)(i.context)}),"object"===("undefined"==typeof P?"undefined":O(P))&&P.when("builder-event-emitter").execute((function(e){i.eventEmitter=e}))},i.componentWillUnmount=function(){window.removeEventListener("resize",i.resizeListener)},i.handleMeasureResize=function(e){return i.setState({height:e.bounds.height})},i.state={isMobile:void 0,height:0},i.weblabChecker=new m.ZP(t),i}return t=l,(i=[{key:"href",get:function(){var e=this.tileLayer,t=(void 0===e?{}:e).content,i=void 0===t?{}:t;return(0,p.wS)(i,this.context)}},{key:"isTileLayerOutOfBounds",get:function(){var e=this.state.height,t=this.props,i=t.tileHeight,r=t.tileSize;if(i>0){if(e>i*this.minTileSizes[r])return this.triggerTileEvent(!0),!0;this.triggerTileEvent(!1)}return!1}},{key:"isCallerBuilder",get:function(){return this.context.caller===d.Qd.BUILDER}},{key:"colorPalette",get:function(){var e=this.tileLayer,t=this.context.themeContext;return(0,b.Z)(e.colorPalette,t)}},{key:"flowTileLayer",get:function(){var e=this.props.tileSize,t=this.state.isMobile,i=this.context.themeContext;return t&&("large"===e||i&&i.isMediumTileFlowTileLayer&&"medium"===e)}},{key:"containerStyles",get:function(){var e=this.tileLayer,t=this.flowTileLayer,i=this.positionMap;return{alignItems:i.y[e.position.y],backgroundColor:e.coverTile?this.backgroundColor:null,justifyContent:i.x[e.position.x],position:t?"static":null}}},{key:"backgroundColor",get:function(){var e=this.tileLayer.opacity;return(0,_.a7)(this.colorPalette.backgroundColor,this.flowTileLayer?1:e)}},{key:"tileLayerStyles",get:function(){var e=this.flowTileLayer;return{backgroundColor:this.tileLayer.coverTile?null:this.backgroundColor,margin:e?0:""}}},{key:"tileLayerClasses",get:function(){var e=this.props.tileSize,t=this.tileLayer,i=t.padding,r="large"===e?"-full-width":"";return S("textTileLayer",e,"margin-".concat(t.margin),"padding-".concat(i).concat(r),{outOfBounds:this.isCallerBuilder&&this.isTileLayerOutOfBounds,miniCenter:"mini"===e&&"center"===t.position.x})}},{key:"richTextProps",get:function(){var e=this.props,t=e.tileSize,i=e.tileType,r=this.tileLayer,n=this.context.themeContext;return v(v(v(v({tileSize:t,tileType:i},r.content),this.colorPalette.textColorPalette),(this.flowTileLayer||n.setExplicitTextStyling)&&{tileTextAlignment:n.flowTileLayerTileTextAlignment}),{},{href:this.href})}},{key:"tileLayerElement",get:function(){return(0,T.jsx)("div",{className:this.tileLayerClasses,style:this.tileLayerStyles,children:(0,T.jsx)(g.Z,v({},this.richTextProps))})}},{key:"measuredTileLayerElement",get:function(){var e=this;return(0,T.jsx)(a.Z,{bounds:!0,onResize:this.handleMeasureResize,children:function(t){var i=t.measureRef;return n().cloneElement(e.tileLayerElement,{className:e.tileLayerClasses,ref:i})}})}},{key:"tileLayer",get:function(){var e=this.props.tileLayer,t=this.context.themeContext;return t&&t.setExplicitTextStyling&&e&&e.position&&(e.position.x="center",e.position.y="bottom"),e}},{key:"triggerTileEvent",value:function(e){var t=this.props.tileId;this.eventEmitter&&this.eventEmitter.trigger("stores:textTileLayer:outOfBounds",[e,t])}},{key:"render",value:function(){return(0,T.jsx)("div",{className:S(["container"]),style:this.containerStyles,"data-testid":"text-tile-layer",children:this.isCallerBuilder?this.measuredTileLayerElement:this.tileLayerElement})}}])&&w(t.prototype,i),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(n().Component);B.propTypes=E,B.defaultProps=R,B.contextTypes=z;var M=B}}]);
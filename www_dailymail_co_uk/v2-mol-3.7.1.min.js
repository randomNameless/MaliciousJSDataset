!function(){var define=function(){function e(e){console.error("Cannot require ",e)}var t={},n={};return function(i,r,o){var a=r.slice(2),s=a.map(function(e){return t[e].exports});s.some(function(e){return!e})?n[i]={factory:o,requires:a}:(t[i]={factory:o,requires:s},function i(r,o){t[r].factory.apply(void 0,[e,t[r].exports={}].concat(o)),Object.keys(n).forEach(function(e){var o,a;if(((null===(a=null===(o=n[e])||void 0===o?void 0:o.requires)||void 0===a?void 0:a.indexOf(r))||-1)>=0){var s=n[e].requires.map(function(e){return t[e].exports});s.some(function(e){return!e})||(t[e]={factory:n[e].factory,requires:s},delete n[e],i(e,s))}})}(i,s))}}(),__createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&("get"in r?t.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),__exportStar=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||__createBinding(t,e,n)},__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};define("rta3",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("rta3-server",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("web-report",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("version",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="3.7.1"}),define("base-3.0",["require","exports","version"],function(e,t,n){"use strict";function i(e,t,i,r,o,a){var s;void 0===r&&(r=document.referrer),void 0===o&&(o=window.location.href),void 0===a&&(a=void 0);var c,u=function(){},l=new Promise(function(e){return c=e}),d={events:function(){},event:function(){},ids:l,rta3host:""};if(!e)return console.warn("RTA3 configuration error"),d;var f=void 0;if(!(f=null===(s=e.match(/https?:\/\/([^\/]+).*/))||void 0===s?void 0:s[1]))return console.warn("RTA3 configuration error"),d;d.rta3host=f;var v=a;if(!a)try{var p=localStorage.getItem("rta3|"+f)||void 0;v=p&&JSON.parse(p)}catch(e){return v=void 0,console.warn("RTA3 ID error"),d}var m=new XMLHttpRequest;m.open("POST",e+"/s/3",!0),m.onreadystatechange=function(){4==m.readyState&&(200===m.status?(v=JSON.parse(m.responseText),!a&&v&&(u=function(){localStorage.setItem("rta3|"+f,JSON.stringify(v))},u(),v.d&&(b.events=d.events),c(v))):(b.events=d.events,c(null)))};var g={id:v,p:o,r:r,e:i,t:t,v:n.version};m.send(JSON.stringify(g));var b={events:function(n){l.then(function(i){if(i){u();var r={id:i,t:t,f:n};navigator.sendBeacon(e+"/s/3",JSON.stringify(r))}})},event:function(e){b.events([e])},ids:l,rta3host:f};return b}Object.defineProperty(t,"__esModule",{value:!0}),t.RTA3=void 0,t.RTA3=i}),define("web-vitals/src/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("web-vitals/src/lib/generateUniqueID",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUniqueID=void 0;var n=function(){return"v2-".concat(Date.now(),"-").concat(Math.floor(Math.random()*(9e12-1))+1e12)};t.generateUniqueID=n}),define("web-vitals/src/lib/initMetric",["require","exports","web-vitals/src/lib/generateUniqueID"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMetric=void 0;var i=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:(0,n.generateUniqueID)()}};t.initMetric=i}),define("web-vitals/src/lib/observe",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observe=void 0;var n=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}};t.observe=n}),define("web-vitals/src/lib/onHidden",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onHidden=void 0;var n=function(e,t){var n=function(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};t.onHidden=n}),define("web-vitals/src/lib/onBFCacheRestore",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onBFCacheRestore=void 0;var n=function(e){addEventListener("pageshow",function(t){t.persisted&&e(t)},!0)};t.onBFCacheRestore=n}),define("web-vitals/src/lib/bindReporter",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindReporter=void 0;var n=function(e,t,n){var i;return function(r){t.value>=0&&(r||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}};t.bindReporter=n}),define("web-vitals/src/lib/getVisibilityWatcher",["require","exports","web-vitals/src/lib/onBFCacheRestore","web-vitals/src/lib/onHidden"],function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisibilityWatcher=void 0;var r=-1,o=function(){return"hidden"===document.visibilityState?0:1/0},a=function(){(0,i.onHidden)(function(e){var t=e.timeStamp;r=t},!0)},s=function(){return r<0&&(window.__WEB_VITALS_POLYFILL__?(r=window.webVitals.firstHiddenTime)===1/0&&a():(r=o(),a()),(0,n.onBFCacheRestore)(function(){setTimeout(function(){r=o(),a()},0)})),{get firstHiddenTime(){return r}}};t.getVisibilityWatcher=s}),define("web-vitals/src/getFCP",["require","exports","web-vitals/src/lib/bindReporter","web-vitals/src/lib/getVisibilityWatcher","web-vitals/src/lib/initMetric","web-vitals/src/lib/observe","web-vitals/src/lib/onBFCacheRestore"],function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFCP=void 0;var s=function(e,t){var s,c=(0,i.getVisibilityWatcher)(),u=(0,r.initMetric)("FCP"),l=function(e){"first-contentful-paint"===e.name&&(f&&f.disconnect(),e.startTime<c.firstHiddenTime&&(u.value=e.startTime,u.entries.push(e),s(!0)))},d=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],f=d?null:(0,o.observe)("paint",l);(d||f)&&(s=(0,n.bindReporter)(e,u,t),d&&l(d),(0,a.onBFCacheRestore)(function(i){u=(0,r.initMetric)("FCP"),s=(0,n.bindReporter)(e,u,t),requestAnimationFrame(function(){requestAnimationFrame(function(){u.value=performance.now()-i.timeStamp,s(!0)})})}))};t.getFCP=s}),define("web-vitals/src/getCLS",["require","exports","web-vitals/src/lib/initMetric","web-vitals/src/lib/observe","web-vitals/src/lib/onHidden","web-vitals/src/lib/onBFCacheRestore","web-vitals/src/lib/bindReporter","web-vitals/src/getFCP"],function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCLS=void 0;var c=!1,u=-1,l=function(e,t){c||((0,s.getFCP)(function(e){u=e.value}),c=!0);var l,d=function(t){u>-1&&e(t)},f=(0,n.initMetric)("CLS",0),v=0,p=[],m=function(e){if(!e.hadRecentInput){var t=p[0],n=p[p.length-1];v&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(v+=e.value,p.push(e)):(v=e.value,p=[e]),v>f.value&&(f.value=v,f.entries=p,l())}},g=(0,i.observe)("layout-shift",m);g&&(l=(0,a.bindReporter)(d,f,t),(0,r.onHidden)(function(){g.takeRecords().map(m),l(!0)}),(0,o.onBFCacheRestore)(function(){v=0,u=-1,f=(0,n.initMetric)("CLS",0),l=(0,a.bindReporter)(d,f,t)}))};t.getCLS=l}),define("web-vitals/src/lib/polyfills/firstInputPolyfill",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetFirstInputPolyfill=t.firstInputPolyfill=void 0;var n,i,r,o,a={passive:!0,capture:!0},s=new Date,c=function(e){o.push(e),d()};t.firstInputPolyfill=c;var u=function(){o=[],i=-1,n=null,p(addEventListener)};t.resetFirstInputPolyfill=u;var l=function(e,t){n||(n=t,i=e,r=new Date,p(removeEventListener),d())},d=function(){if(i>=0&&i<r-s){var e={entryType:"first-input",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+i};o.forEach(function(t){t(e)}),o=[]}},f=function(e,t){var n=function(){l(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,a),removeEventListener("pointercancel",i,a)};addEventListener("pointerup",n,a),addEventListener("pointercancel",i,a)},v=function(e){if(e.cancelable){var t=e.timeStamp>1e12,n=t?new Date:performance.now(),i=n-e.timeStamp;"pointerdown"==e.type?f(i,e):l(i,e)}},p=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,v,a)})}}),define("web-vitals/src/getFID",["require","exports","web-vitals/src/lib/bindReporter","web-vitals/src/lib/getVisibilityWatcher","web-vitals/src/lib/initMetric","web-vitals/src/lib/observe","web-vitals/src/lib/onBFCacheRestore","web-vitals/src/lib/onHidden","web-vitals/src/lib/polyfills/firstInputPolyfill"],function(e,t,n,i,r,o,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFID=void 0;var u=function(e,t){var u,l=(0,i.getVisibilityWatcher)(),d=(0,r.initMetric)("FID"),f=function(e){e.startTime<l.firstHiddenTime&&(d.value=e.processingStart-e.startTime,d.entries.push(e),u(!0))},v=(0,o.observe)("first-input",f);u=(0,n.bindReporter)(e,d,t),v&&(0,s.onHidden)(function(){v.takeRecords().map(f),v.disconnect()},!0),window.__WEB_VITALS_POLYFILL__?(v||window.webVitals.firstInputPolyfill(f),(0,a.onBFCacheRestore)(function(){d=(0,r.initMetric)("FID"),u=(0,n.bindReporter)(e,d,t),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(f)})):v&&(0,a.onBFCacheRestore)(function(){d=(0,r.initMetric)("FID"),u=(0,n.bindReporter)(e,d,t),(0,c.resetFirstInputPolyfill)(),(0,c.firstInputPolyfill)(f)})};t.getFID=u}),define("web-vitals/src/getLCP",["require","exports","web-vitals/src/lib/bindReporter","web-vitals/src/lib/getVisibilityWatcher","web-vitals/src/lib/initMetric","web-vitals/src/lib/observe","web-vitals/src/lib/onBFCacheRestore","web-vitals/src/lib/onHidden"],function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLCP=void 0;var c={},u=function(e,t){var u,l=(0,i.getVisibilityWatcher)(),d=(0,r.initMetric)("LCP"),f=function(e){var t=e.startTime;t<l.firstHiddenTime&&(d.value=t,d.entries.push(e),u())},v=(0,o.observe)("largest-contentful-paint",f);if(v){u=(0,n.bindReporter)(e,d,t);var p=function(){c[d.id]||(v.takeRecords().map(f),v.disconnect(),c[d.id]=!0,u(!0))};["keydown","click"].forEach(function(e){addEventListener(e,p,{once:!0,capture:!0})}),(0,s.onHidden)(p,!0),(0,a.onBFCacheRestore)(function(i){d=(0,r.initMetric)("LCP"),u=(0,n.bindReporter)(e,d,t),requestAnimationFrame(function(){requestAnimationFrame(function(){d.value=performance.now()-i.timeStamp,c[d.id]=!0,u(!0)})})})}};t.getLCP=u}),define("web-vitals/src/getTTFB",["require","exports","web-vitals/src/lib/initMetric"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTTFB=void 0;var i=function(e){"complete"===document.readyState?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})},r=function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t},o=function(e){var t=(0,n.initMetric)("TTFB");i(function(){try{var n=performance.getEntriesByType("navigation")[0]||r();if(t.value=t.delta=n.responseStart,t.value<0||t.value>performance.now())return;t.entries=[n],e(t)}catch(e){}})};t.getTTFB=o}),define("web-vitals/src/index",["require","exports","web-vitals/src/getCLS","web-vitals/src/getFCP","web-vitals/src/getFID","web-vitals/src/getLCP","web-vitals/src/getTTFB","web-vitals/src/types"],function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTTFB=t.getLCP=t.getFID=t.getFCP=t.getCLS=void 0,Object.defineProperty(t,"getCLS",{enumerable:!0,get:function(){return n.getCLS}}),Object.defineProperty(t,"getFCP",{enumerable:!0,get:function(){return i.getFCP}}),Object.defineProperty(t,"getFID",{enumerable:!0,get:function(){return r.getFID}}),Object.defineProperty(t,"getLCP",{enumerable:!0,get:function(){return o.getLCP}}),Object.defineProperty(t,"getTTFB",{enumerable:!0,get:function(){return a.getTTFB}}),__exportStar(s,t)}),define("base-web-report",["require","exports","base-3.0","web-vitals/src/index"],function(require,exports,base_3_0_1,index_1){"use strict";function scriptedRtaParams(elt){var _a;if(!(elt&&"SCRIPT"===elt.tagName&&elt instanceof HTMLScriptElement))throw new Error("RTA2: config error (no element)");var rtaConfig=elt.textContent&&eval("("+elt.textContent+")")||{};"function"==typeof rtaConfig&&(rtaConfig=rtaConfig()),rtaConfig.hosts=asStringArray(rtaConfig.hosts||[null===(_a=elt.src.match(/(https?:\/\/)([^/]+)/))||void 0===_a?void 0:_a[2]]);var r={page:rtaConfig.page||{}};return Object.keys(rtaConfig).forEach(function(e){return void 0!==rtaConfig[e]?r[e]=rtaConfig[e]:void 0}),Array.isArray(r.imgSelectors)&&(r.imgSelectors=r.imgSelectors.reduce(function(e,t){return e[t]=t,e},{})),r}function sendInitialReport(e,t){function n(e){P.latency[e.name]=e.value}function i(){var e=v(E,M);C.forEach(function(t){return t.event(e)})}function r(){var t=e.pageSelector&&document.querySelector(e.pageSelector)||document.body,n=p(E,t,i),r=e.imgSelectors?h(t,e.imgSelectors):function(){};return function(){n(),r()}}function o(){var e=window,t={};if(e.adverts&&(t.adverts=e.adverts.version),e.PageCriteria&&(t.cljNode=e.PageCriteria.cljNode,t.cljVersion=e.PageCriteria.cljVersion),e.fbiaHtmlVersion&&(t.fbiaHtmlVersion=e.fbiaHtmlVersion),e.DM&&"function"==typeof e.DM.getPageMetadata){var n=e.DM.getPageMetadata();n&&(t.bundle=n.bundleVersion,t.syncBundle=n.syncBundleVersion,t.asyncBundle=n.asyncBundleVersion,t.videoBundle=n.videoBundleVersion)}return t}function a(e){for(var t,n=e.entries(),i=[];t=n.next();)if(void 0!==t.value&&i.push(t.value),t.done)return i;return i}function s(e){return"object"==typeof e&&e?Array.isArray(e)?e.map(function(e){return s(e)}):Object.keys(e).reduce(function(t,n){return t[n]=s(e[n]),t},{}):e}function c(e,t){var n={};return Object.keys(e).forEach(function(i){var r=i,o=e[r],a=t[r];if(void 0!==o)if(typeof a!=typeof o)n[r]=t[r]=s(o);else if("object"!=typeof o)a!==o&&(n[r]=t[r]=o);else if(Array.isArray(o))a&&Array.isArray(a)&&o.every(function(e,t){return e===a[t]})||(n[r]=t[r]=s(o));else if(null===o)null!==t[r]&&(n[r]=t[r]=o);else if(a||null===o){var u=c(o,a);Object.keys(u).length&&(n[r]=u)}else n[r]=t[r]=o}),n}function u(e){if(!e[0]||1==e.length)return e[0]||"";for(var t=0;e[0][t]&&e.every(function(n){return n[t]===e[0][t]});)t++;return e[0].substr(0,t)}function l(e){var t=e.width*e.height;return(Math.min(e.bottom,window.innerHeight)-Math.max(e.top,0))*(Math.min(e.right,window.innerWidth)-Math.max(e.left,0))/t>=_}function d(e){var t=e.width*e.height;return window.innerWidth*window.innerWidth/t>20}function f(){var e={},t=-1;if(P.scrollDepth)for(var n in P.scrollDepth)P.scrollDepth[n]>0&&(t=Math.max(t,parseInt(n,36)),e[n]=10*Math.log(P.scrollDepth[n]||1)+.5|0);return{scrollDepth:e,scrollDepthMax:t>=0?t:void 0}}function v(t,n){function i(e){return 1024*Math.round(e/1024)}var r,o,v,p,m,g,h,_,T=performance.memory||console.memory,E=performance.timing,R=Date.now(),C=P.imageTiming&&a(P.imageTiming).map(function(t){var n=t[0],i=t[1],r=n.getBoundingClientRect();if(!d(r)){var o=e.imgSelectors&&Object.keys(e.imgSelectors).filter(function(e){return n.matches(e)});if(o&&!(o.length<1)){var a=b(n);if(a&&(!w||a.match(w))){return!P.hiddenTime&&l(r)&&(i[1]+=R-i[0],i[0]=R),{e:n.nodeName,i:null===a||void 0===a?void 0:a.split("?")[0],t:Math.min(Math.floor(i[1]/100)/10,300),y:r.top+y.scrollTop,css:o.map(function(t){return e.imgSelectors[t]||o})}}}}}).filter(function(e){return Boolean(e&&e.e&&e.i&&e.t>.5)}),M=C?u(C.map(function(e){return e.i})):void 0;M&&C&&(C.forEach(function(e){return e.i=e.i.substring(M.length)}),C.push({i:M,t:0,y:0,e:"",css:[]}));var x=__assign(__assign({pageEvents:n?__assign({},n):void 0,perf:P.latency,exitMemory:T&&t.startMemory?{jsHeapSizeLimit:i(T.jsHeapSizeLimit),totalJSHeapSize:i(T.totalJSHeapSize),usedJSHeapSize:i(T.usedJSHeapSize),jsHeapSizeLimitDelta:i(T.jsHeapSizeLimit-t.startMemory.jsHeapSizeLimit),totalJSHeapSizeDelta:i(T.totalJSHeapSize-t.startMemory.totalJSHeapSize),usedJSHeapSizeDelta:i(T.usedJSHeapSize-t.startMemory.usedJSHeapSize)}:void 0,dwell:Date.now()-t.ts,requestTime:(null===E||void 0===E?void 0:E.requestStart)?E.requestStart-E.navigationStart:void 0,domInteractive:(null===E||void 0===E?void 0:E.domInteractive)?E.domInteractive-E.requestStart:void 0,domLoaded:(null===E||void 0===E?void 0:E.domContentLoadedEventEnd)?E.domContentLoadedEventEnd-E.requestStart:void 0,domComplete:(null===E||void 0===E?void 0:E.domComplete)?E.domComplete-E.requestStart:void 0,load:(null===E||void 0===E?void 0:E.loadEventEnd)?E.loadEventEnd-E.requestStart:void 0,lastEvent:P.lastEvent,selectedText:P.selectedText,unattended:!P.lastInteraction,imgDwell:C,click:P.click,lastHref:(null===(r=P.lastHref)||void 0===r?void 0:r.length)?P.lastHref:void 0},f()),{adReportData:null===(v=null===(o=window.adverts)||void 0===o?void 0:o.getRtaReport)||void 0===v?void 0:v.call(o),revenue:null===(m=null===(p=window.adverts)||void 0===p?void 0:p.getRevenueSummary)||void 0===m?void 0:m.call(p),impressions:null===(_=null===(h=null===(g=window.adverts)||void 0===g?void 0:g.getRendered)||void 0===h?void 0:h.call(g))||void 0===_?void 0:_.length}),O=S.get(t);if(O){var L=c(x,O);return L.dwell=x.dwell,L}return S.set(t,s(x)),x}function p(e,t,n){function i(e){return function(t){P.lastInteraction={type:t.type,ts:Date.now()},e(t)}}function r(e){e&&l(e);var t=Date.now(),n=Math.floor(Math.min(18e5,t-P.lastTime)/50);if(n){var i=y.scrollTop/T|0,r=(P.lastPos||0)+(window.innerHeight/T|0);P.scrollDepth=P.scrollDepth||{};for(var o=P.lastPos||0;o!=r;o+=1){var a=void 0;a=o>500?"dw":o.toString(36),P.scrollDepth[a]=(P.scrollDepth[a]||0)+n}P.lastTime=t,P.lastPos=i}}function o(){if(P.hiddenTime){var t=Date.now()-P.hiddenTime;e.ts+=t,P.imageTiming&&a(P.imageTiming).forEach(function(e){e[1][0]+=t})}P.unloaded=!1,P.hiddenTime=void 0}function s(e){u(e),P.hiddenTime=Date.now()}function c(e){document[v]?s(e):o()}function u(e){var t;if(!P.unloaded){r(e),P.lastEvent=e.type,P.unloaded=!0,n(),P.hiddenTime=Date.now();var i=null===(t=P.lastHref[P.lastHref.length-1])||void 0===t?void 0:t[1];i?localStorage.setItem("trackSrcRta",JSON.stringify([Date.now(),i])):localStorage.removeItem("trackSrcRta")}}function l(e){var t=(e.timeStamp>=1e12?Date.now():performance.now())-e.timeStamp|0;if(t){var n=P.latency;n["first_"+e.type]?n["max_"+e.type]<t&&(n["max_"+e.type]=t):n["max_"+e.type]=n["first_"+e.type]=t}}function d(e){var n,i,r,o;l(e);for(var a,s=e.composedPath(),c=void 0,u=0,d=s;u<d.length;u++){var f=d[u];if(!c&&f instanceof HTMLAnchorElement&&f.href&&(c=f,a=f.getAttribute("data-track")||f.getAttribute("data-track-module")),c&&!a&&(a=null===(i=(n=f).getAttribute)||void 0===i?void 0:i.call(n,"data-track-module")))break}var v=null===c||void 0===c?void 0:c.href;if(v){var p=void 0;try{p=JSON.parse((null===(o=null===(r=__spreadArray([],s,!0).find(function(e){var t;return e instanceof HTMLElement&&(null===(t=e.dataset)||void 0===t?void 0:t.trackRta)}))||void 0===r?void 0:r.dataset)||void 0===o?void 0:o.trackRta)||"null")}catch(e){p=null}var m=P.lastHref.findIndex(function(e){return e[0]==v});m>=0&&P.lastHref.splice(m,1);var g=c.getBoundingClientRect(),b=(g.top+g.bottom)/2+y.scrollTop;P.lastHref.push([v,a||null,Math.floor(b/T),p])}var h=s.find(function(e){var t;return e instanceof Element&&"fixed"===(null===(t=window.getComputedStyle(e))||void 0===t?void 0:t.position)}),w=h||s.find(function(e){return e instanceof Element&&(e===y||e===t||e===document.body)});if(w){var _=w.getBoundingClientRect();P.click={x:e.clientX-_.left,y:e.clientY-_.top,top:function(e){var t=e.getAttribute("data-track");return t?'[data-track="'+t+'"]':e.id?e.tagName.toLowerCase()+"#"+e.id:e.tagName.toLowerCase()+(e.className?"."+e.className.toString().split(/\s+/)[0]:"")}(w)},h||!y.contains(w)&&y!==w||(P.click.y+=y.scrollTop)}}function f(e){(e.target instanceof Element||e.target instanceof Document)&&(g.forEach(function(e){return e()}),g=[],y=e.target===document?document.documentElement:e.target,m.push(addListener(e.target,"scroll",i(r))))}var v,p=void 0;void 0!==document.hidden?(v="hidden",p="visibilitychange"):void 0!==document.msHidden?(v="msHidden",p="msvisibilitychange"):void 0!==document.webkitHidden&&(v="webkitHidden",p="webkitvisibilitychange");var m=[addListener(document,"mousemove",i(l)),addListener(document,"click",i(d)),addListener(document,"contextmenu",i(d)),addListener(document,"selectstart",i(function(){P.selectedText=!0})),addListener(window,"pagehide",s),addListener(window,"pageshow",o),addListener(window,"beforeunload",u)];p&&m.push(addListener(document,p,c));var g=[addListener(document,"scroll",f)];document.querySelectorAll("*").forEach(function(e){return g.push(addListener(e,"scroll",f))});var b;return function e(t){b=setTimeout(function(){r(),n(),e(1.4*t)},t)}(7500),function(){clearTimeout(b),g.forEach(function(e){return e()}),m.forEach(function(e){return e()})}}function m(e){return"getBoundingClientRect"in e&&"IMG"===e.nodeName}function g(e){return"getBoundingClientRect"in e&&"VIDEO"===e.nodeName}function b(e){var t;return m(e)?e.dataset.src||e.src:g(e)?e.src||(null===(t=e.querySelector("source"))||void 0===t?void 0:t.src):void 0}function h(e,t){function n(e){var t;return Boolean(null===(t=b(e))||void 0===t?void 0:t.startsWith("http"))}if(e){var i=new Map;try{var r=new IntersectionObserver(function(e){var t=Date.now();e.forEach(function(e){if(n(e.target)){var r=i.get(e.target);r&&(e.isIntersecting&&e.intersectionRatio>=_?r[0]=t+(e.time-performance.now()):(r[1]+=t-r[0],r[0]=t))}})},{threshold:_}),o=Date.now();Object.keys(t).forEach(function(t){e.querySelectorAll(t).forEach(function(e){n(e)&&(i.set(e,[o,0]),r.observe(e))})});var a=new MutationObserver(function(e){e.forEach(function(e){var t;"childList"===e.type?e.addedNodes.forEach(function(e){var t=n(e)&&e;t&&(i.set(t,[Date.now(),0]),r.observe(t))}):"attributes"!==e.type||!n(e.target)||i.has(e.target)||"src"!==e.attributeName||(null===(t=e.oldValue)||void 0===t?void 0:t.startsWith("http"))||(i.set(e.target,[Date.now(),0]),r.observe(e.target))})});return a.observe(document.body,{subtree:!0,childList:!0,attributeOldValue:!0,attributeFilter:["src"]}),P.imageTiming=i,function(){r.disconnect(),a.disconnect()}}catch(e){P.imageTiming=void 0}}return function(){}}if(!e.hosts.length)throw new Error("RTA2: config error (no host)");var y=document.scrollingElement||document.documentElement,w=e.imgSrcRegex&&new RegExp(e.imgSrcRegex,"i"),_=.8,S=new Map,T=100,P={scrollDepth:{},lastTime:Date.now(),latency:{},lastHref:[]},E=function(e){var t,n=navigator.connection||navigator.mozConnection||navigator.webkitConnection,i=performance.memory||console.memory,r=(null===e||void 0===e?void 0:e.title)||document.title,a=document.querySelector("meta[name=news_keywords]")||document.querySelector("meta[name=keywords]"),s=__spreadArray(__spreadArray(__spreadArray([],asStringArray(null===e||void 0===e?void 0:e.tags),!0),(null===a||void 0===a?void 0:a.content.split(","))||[],!0),r.match(/(^|\W)(demi rose|rita ora|nudity|nude|sex|sexual|bikini|lingerie|busty|naked|boobs|skimpy|topless|thong|porn|orgasm|racy)(\W|$)/i)?["Commercially sensitive"]:[],!0),c=Object.assign(o(),null===e||void 0===e?void 0:e.swVersions),u=asStringArray((null===e||void 0===e?void 0:e.molABTest)||window.molABTest||function(){try{return JSON.parse(decodeURIComponent(document.cookie.split(/; ?/).filter(function(e){return 0==e.indexOf("molABTest")})[0].split("=")[1]))}catch(e){}}()),l=void 0;try{var d=JSON.parse(localStorage.getItem("trackSrcRta"));Date.now()-d[0]<9876&&"string"==typeof d[1]&&d[1]&&(l=d[1])}catch(e){}return localStorage.removeItem("trackSrcRta"),__assign(__assign({},Object.keys(e).reduce(function(t,n){return e[n]&&!["tags","title","autoRefresh","swVersions","molABTest","authors","clientSegment"].includes(n)&&(t[n]=e[n]),t},{})),{ts:Date.now(),trackSrc:l,authors:asStringArray(null===e||void 0===e?void 0:e.authors),rp:(null===e||void 0===e?void 0:e.rp)||"other",tags:s.length?s:void 0,title:r,autoRefresh:null===e||void 0===e?void 0:e.autoRefresh,swVersions:c,molABTest:u,notificationPermissions:null===(t=window.Notification)||void 0===t?void 0:t.permission,connection:n?{type:n.type,downlink:n.downlink,downlinkMax:n.downlinkMax,effectiveType:n.effectiveType,rtt:n.rtt}:void 0,startMemory:i?{jsHeapSizeLimit:i.jsHeapSizeLimit,totalJSHeapSize:i.totalJSHeapSize,usedJSHeapSize:i.usedJSHeapSize}:void 0})}(e.page),R=window.location.protocol.startsWith("http")?window.location.protocol:"https:",C=e.hosts.map(function(n){return(0,base_3_0_1.RTA3)(R+"//"+n,e.reporter||"GenericJS",E,"string"==typeof e.referrerOverride&&e.referrerOverride?e.referrerOverride:document.referrer,t||e.overridePageUrl||window.location.href)}),M={},x={sendEvent:function(e){C.forEach(function(t){return t.event(e)})},pageEvent:function(e){e&&"object"==typeof e&&Object.assign(M,e)},videoEvent:function(e){if(e.id&&(null===e||void 0===e?void 0:e.action.startsWith("video.")))if("video.progress"===e.action||"video.content-completed"===e.action)e.unattended=!P.lastInteraction,x.sendEvent(e);else{var t=__assign(__assign({},E),e);x.sendEvent(t)}},forceNextExit:function(e,t,n){P.lastHref.push([e,t||null,Math.floor(n/T),null])},_:{flush:function(){},stopTrackingThisPage:function(){},pages:C}};(0,index_1.getCLS)(n,!0),(0,index_1.getFCP)(n,!0),(0,index_1.getFID)(n,!0),(0,index_1.getLCP)(n,!0),(0,index_1.getTTFB)(n),x._.flush=i,x._.stopTrackingThisPage=function(){O(),i(),x._.flush=x._.stopTrackingThisPage=function(){}};var O=function(){};return O=(e.pageSelector?document.querySelector(e.pageSelector):document.body)?r():addListener(window,"DOMContentLoaded",function(){O(),O=r()}),x}function asStringArray(e){return"string"==typeof e?[e]:Array.isArray(e)?e.filter(function(e){return"string"==typeof e}):[]}function addListener(e,t,n){return e.addEventListener(t,n,listenOpts),function(){return e.removeEventListener(t,n,listenOpts)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendInitialReport=exports.scriptedRtaParams=void 0,exports.scriptedRtaParams=scriptedRtaParams,exports.sendInitialReport=sendInitialReport;var listenOpts={capture:!0,passive:!0}}),define("rta-v2-adapter",["require","exports","base-web-report"],function(e,t,n){"use strict";function i(e,t){function i(t,i){switch(t){case"cview":case"view":case"report":l&&(u.then(function(e){return e._.stopTrackingThisPage()}),c={},u=new Promise(function(e){return s=e})),l=!0,"string"==typeof(null===i||void 0===i?void 0:i.tags)&&(i.tags=(null===i||void 0===i?void 0:i.tags).split(",")),i.authors||"string"!=typeof(null===i||void 0===i?void 0:i.author)||(i.authors=[null===i||void 0===i?void 0:i.author],delete i.author);var r=void 0;if("channel"in i&&"string"==typeof i.channel&&window.location.pathname!==i.channel+"/index.html"&&(r=i.channel.match(/\/((us|au)?home)\/(.*)/))&&(null===r||void 0===r?void 0:r[1])&&(null===r||void 0===r?void 0:r[3])){var o=window.location.href.replace("/"+r[1],i.channel);s((0,n.sendInitialReport)(__assign(__assign({},e),{page:i,hosts:a}),o))}else s((0,n.sendInitialReport)(__assign(__assign({},e),{page:i,hosts:a})));break;case"page_event":var d=i;switch(d.action){case"increment":c[d.name]=(Number(c[d.name])||0)+1;break;default:c[d.name]=d.value}u.then(function(e){var t;return e.pageEvent((t={},t[d.name]=c[d.name],t))});break;case"video-event":u.then(function(e){return e.videoEvent(i)});break;case"push":case"share":u.then(function(e){return e.sendEvent(i)});break;case"fff-view":u.then(function(e){return e.sendEvent({legacyEventName:t,legacyEvent:i})});break;default:t.startsWith("fff-buy")&&u.then(function(e){return e.sendEvent({legacyEventName:t,legacyEvent:i})})}}var r,o;if(void 0===t&&(t=document.currentScript),!t||"SCRIPT"!=t.nodeName)return void console.warn("RTA: Bad configuration");var a=e.hosts||(null===(r=t.getAttribute("data-hosts"))||void 0===r?void 0:r.split(","))||[null===(o=t.src.match(/(https?:\/\/)([^/]+)/))||void 0===o?void 0:o[2]];if(!a[0])return void console.warn("RTA: Bad configuration");var s,c={},u=new Promise(function(e){return s=e}),l=!1,d={ito:function(e){},geo:function(e){},tedEvent:i,tedFinalEvent:function(e,t){d.tedEvent(e,t),u.then(function(e){return e._.flush()})},forceNextExit:function(e,t,n){u.then(function(i){return i.forceNextExit(e,t,n)})},get hosts(){return function(){return a}},get ruids(){return u.then(function(e){return Promise.all(e._.pages.map(function(e){return e.ids})).then(function(t){return t.reduce(function(t,n,i){return t[e._.pages[i].rta3host]=n,t},{})})})},get ids(){return u.then(function(e){return e._.pages[0].ids.then(function(e){var t;return e&&{user:String(e.u.id),created:e.u.ts,page:e.phid,visit:String(e.v.id)+".",loyalty:Math.min((null===(t=e.l)||void 0===t?void 0:t.length)||0,9)}})})}};window.RTA=d}Object.defineProperty(t,"__esModule",{value:!0}),t.v2adapter=void 0,t.v2adapter=i}),define("bundle.v2-mol",["require","exports","rta-v2-adapter"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n.v2adapter)({pageSelector:"#page-container,#mobile-content > .scrollable-content",imgSelectors:{"#infinite-list .article img":"infinite-list",".related-with-thumbs img":"related-with-thumbs",".article img:not([data-mol-fe-video-preview])":"desktop-channel-preview",'img[id^="i-"]':"article-image",".beta .puff li img":"desktop-puff",".article-preview .article-preview-image img":"mobile-channel-preview",".article-preview video":"mobile-channel-preview-video","#mobile-content .puff li img":"mobile-puff"},imgSrcRegex:"^https://(i\\.dailymail\\.co\\.uk/1s|video\\.dailymail\\.co\\.uk)"})})}();
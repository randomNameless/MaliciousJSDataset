<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>desktop.html</title>
</head>
<body>

<script>
/*! For license information please see desktop.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://scripts.dailymail.co.uk/static/mol-fe/static/mol-fe-sync-bundle/13.9.4/",n(n.s=219)}([function(e,t,n){"use strict";n.r(t),n.d(t,"log",(function(){return f})),n.d(t,"getLogger",(function(){return p}));var r=n(1),o=n(6),i=n.n(o);n.d(t,"logger",(function(){return i.a}));var a=n(100),s=n.n(a);const c=Object.keys(i.a.levels),l=c.reduce(((e,t)=>(e[i.a.levels[t]]=t,e)),{}),u=function(e){const t=window.location.href,n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t)||[];try{return n&&n.length>1?decodeURIComponent(n[2].replace(/\+/g," ")):"object"==typeof localStorage?localStorage[e]:null}catch(e){}return null}("logLevel")||"",d=Object(r.getPageCriteria)().logLevel||"";s.a.apply(i.a,{nameFormatter:e=>e||"mol-fe",template:"[%n] %l:"}),i.a.setDefaultLevel(i.a.levels.ERROR),i.a.setLevel(i.a.levels.ERROR),c.includes(u.toUpperCase())?i.a.setLevel(u,!1):c.includes(d.toUpperCase())&&i.a.setLevel(d,!1),console.info(`Current log level: ${l[i.a.getLevel()]}`),i.a.log=i.a.debug;const f=i.a.log.bind(i.a),p=(...e)=>{const t=i.a.getLogger(...e);return t.setLevel(i.a.getLevel()),t};t.default=i.a},function(e,t,n){"use strict";n.r(t),n.d(t,"getPaywallGeo",(function(){return f})),n.d(t,"getPageCriteria",(function(){return d})),n.d(t,"getPageMetadata",(function(){return l})),n.d(t,"getArticleFeatures",(function(){return p})),n.d(t,"setPageMetadata",(function(){return u}));var r=n(2);let o={};const i="AU",a="US",s="CA",c="NZ",l=function(e){return Object.assign({},o,e)},u=function(e){o=e,r.later.go("PAGE_METADATA_SET")},d=function(){return Object.assign({},window.PageCriteria)},f=()=>{const{geo:e}=d();return[i,c].includes(e)?i:[a,s].includes(e)?a:"GB"},p=function(){const e=[],{liveBlog:t,hasLiveBlogHeaderXpmodule:n,hasVideoHeroXpmodule:r}=window.PageCriteria;return t&&e.push("liveBlog"),n&&e.push("hasLiveBlogHeaderXpmodule"),r&&e.push("hasVideoHeroXpmodule"),e.join(",")}},function(e,t,n){"use strict";n.r(t),n.d(t,"Deferred",(function(){return o.a})),n.d(t,"later",(function(){return d})),n.d(t,"bus",(function(){return f})),n.d(t,"PubSub",(function(){return r}));var r=class{constructor(){this.listeners=new Map}subscribe(e,t){if(!e)throw new Error('Missing required parameter "eventName"');if("function"!=typeof t)throw new Error('Parameter "handler" is not a function');return this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t),{unsubscribe:()=>this.unsubscribe(e,t)}}unsubscribe(e,t){if(!e)throw new Error('Missing required parameter "eventName"');if("function"!=typeof t)throw new Error('Parameter "handler" is not a function');if(this.listeners.has(e)){const n=this.listeners.get(e).filter((e=>e!==t));this.listeners.set(e,n)}}publish(e,...t){if(!e)throw new Error('Missing required parameter "eventName"');this.listeners.has(e)&&setTimeout((()=>{this.listeners.get(e).forEach((n=>n(e,...t)))}),0)}},o=n(20);var i=function(e,t){return e.has(t)||e.set(t,new o.a),e.get(t)};const a=new Promise((e=>{const t=document.querySelector("#mobile-content .scrollable-content article img");window.PageCriteria&&"article"===window.PageCriteria.pageType&&t?t.complete?e():(t.addEventListener("load",(()=>{e()})),t.addEventListener("error",e)):e()})),s=new Map,c=()=>{},l=function(e,t=c){if("function"!=typeof t)throw new Error('Parameter "callback" is not a function');if(!e)throw new Error('Missing required parameter "eventNames"');let n;if(n=Array.isArray(e)?e:[e],n.some((e=>"string"!=typeof e)))throw new Error('Required parameter "events" is not a string or an array of strings');const r=n.map((e=>i(s,e).promise));return Promise.all([...r,a]).then(t)},u=function(e){i(s,e).resolve()};if(l.go=u,window.DMPlaceholder&&window.DMPlaceholder.laterQueue&&window.DMPlaceholder.laterQueue.length)for(const e of window.DMPlaceholder.laterQueue)l(e.eventNames,e.callback);u("ads");var d=l;const f=new r},function(e,t,n){"use strict";n.r(t),n.d(t,"moduleTracking",(function(){return d.a})),n.d(t,"nielsen",(function(){return f.a})),n.d(t,"pageEvents",(function(){return a.a})),n.d(t,"ted",(function(){return p.a})),n.d(t,"config",(function(){return m.a})),n.d(t,"googleAnalytics",(function(){return Xn})),n.d(t,"fireBidmaxTrackingEvent",(function(){return Jn}));var r=n(105),o=n(106),i=n(0);var a=n(5);var s=n(21);const c=()=>{window.adverts&&window.adverts.queue&&window.adverts.queue.push((()=>{window.fbq&&window.fbq("track","Subscribe",{currency:"GBP",value:"1.99"})}))},l=()=>{window.adverts&&window.adverts.queue&&window.adverts.queue.push((()=>{window.fbq&&window.fbq("trackCustom","SubscribeButtonClicked")}))},u=[{PAYWALL_CONVERSION:c,PAYWALL_CONVERSION_BANNER:c,PAYWALL_CONVERSION_PROFILE:c,PAYWALL_MASTHEAD_SIGNUP_CLICK:l,PAYWALL_PROFILE_SIGNUP_CLICK:l,PAYWALL_SIGN_UP:l}];for(const e of u)Object(s.a)("googleAnalytics",e);var d=n(104),f=n(103),p=n(102),m=n(13),h=n(2),_=n(9),g=n(1),E=n(24),v=n(11);const y="G-C9F47K6NW6",b=`https://www.googletagmanager.com/gtag/js?id=${y}&l=molFeDataLayer`,w="http://fbia.facebook.com/";var O=n(4),I=n.n(O),S=n(35),A=n(23),T=n(49),C=n(34);const L=Object(E.createLocalStorage)("mol-fe-tracking-"),{getHostname:P,getPathname:R}=S.b,N="lastNonInternalReferrer",M="referrer-session",D="referrer-external-session",k=e=>{if(!e)return!1;const t=P(e);return!(!t||!t.match(/^www\d?\.(thisismoney|dailymail|thisismoneyint|dailymailint)\./i))||P(location.href)===t},x=()=>{const e=document.referrer;if(k(e))return L.getItem(N)||null;const t=e||"undefined";return L.setItem(N,t),t},B=()=>{const e=document.referrer;if(!k(e))return;return R(e).split("/")[1]||void 0},U="google",j=["duckduckgo","yahoo","bing"],F=[U,...j],W=["instagram","reddit","pinterest","/t.co/","facebook","snapchat"],V=["dailymail","thisismoney","mailonsunday","mymailaccount","mailsubscriptions"],G="news.google",K="com.google",H=["drudgereport","upday","newsnow","flipboard","msn"],$="Direct",Y="Internal Traffic",q="Other Websites",X={bing:"bing",duckduckgo:"duckduckgo",google:"google websearch",googleApp:"google app",googleNews:"google news",pushNotifications:"push notifications",widgetNotifications:"widget notifications",yahoo:"yahoo"},z={"/t.co/":"twitter",facebook:"facebook",instagram:"instagram",pinterest:"pinterest",reddit:"reddit",snapchat:"snapchat"},J=e=>e?e.includes("windows-widget")?X.widgetNotifications:e.includes("push-notif")?X.pushNotifications:null:null,Z=(e,t,n)=>t.includes(e)||n.includes(e),Q=e=>{const t=document.referrer||"",n=x()||"",r=((e,t)=>{let n=null;return j.some((r=>!!Z(r,e,t)&&(n=X[r],!0))),n||(Z(K,e,t)?X.googleApp:Z(G,e,t)?X.googleNews:Z(U,e,t)&&![K,G].some((n=>Z(n,e,t)))?X.google:n)})(n,t),o=((e,t)=>{let n=null;return W.some((r=>!!Z(r,e,t)&&(n=z[r],!0))),n})(n,t),i=J(e);return i||(r||(o||(V.some((e=>t.includes(e)))?Y:document.referrer||e?((e,t)=>{for(const n of H)if(Z(n,e,t))return n;return q})(n,t):$)))},ee=e=>{const t=(()=>{const e=L.getItem(M);if(!e)return null;const{updatedAt:t}=e;return Date.now()-t>18e5?null:e})(),n=(()=>{const e=L.getItem(D);if(!e)return null;const{updatedAt:t}=e;return Date.now()-t>15552e6?null:e})();if(t){if(t.updatedAt=Date.now(),L.setItem(M,t),![Y,$].includes(t.referrerType)||!n)return L.setItem(D,{...n||{createdAt:Date.now()},referrerGroup:t.referrerGroup,referrerType:t.referrerType,updatedAt:Date.now()}),{referrerGroup:t.referrerGroup,referrerType:t.referrerType};if(n)return{referrerGroup:n.referrerGroup,referrerType:n.referrerType}}const r=Q(e),o=(e=>{const t=document.referrer||"",n=x()||"",r=e=>Z(e,n,t);return J(e)?"Push Channels":F.some(r)?"Search":W.some(r)?"Social":V.some((e=>t.includes(e)))?Y:document.referrer||e?q:$})(e),i=Date.now();return L.setItem(M,{createdAt:i,referrerGroup:r,referrerType:o,updatedAt:i}),[Y,$].includes(o)&&n?{referrerGroup:n.referrerGroup,referrerType:n.referrerType}:(L.setItem(D,{...n||{createdAt:Date.now()},referrerGroup:r,referrerType:o,updatedAt:i}),{referrerGroup:r,referrerType:o})},te="mol-fe-previous-render-platform";let ne=null;const re=()=>{if(ne)return ne;ne=k(document.referrer)?(()=>{try{return window.localStorage.getItem(te)}catch(e){}return null})():null;const e=navigator.userAgent.match(/snapchat/i),t=navigator.userAgent.match(/BytedanceWebview/i);let{renderPlatform:n}=Object(g.getPageMetadata)();return e&&(n="snapchat"),t&&(n="tiktok"),(e=>{try{window.localStorage.setItem(te,e)}catch(e){}})(n),ne};var oe=n(16),ie=n(27),ae=n(50);const se=(e,t=[])=>{if("object"!=typeof e||null===e||Array.isArray(e))return"string"==typeof e?e.toLowerCase():e;const n={};let r=t=>{n[t]=se(e[t])};return Array.isArray(t)&&t.length&&(r=r=>{t.includes(r)?n[r]=e[r]:n[r]=se(e[r])}),Object.keys(e).forEach(r),n},ce=e=>"string"!=typeof e||e.startsWith("/")?e:`/${e.trim()}`,le=()=>{const e=new Date,t=("0"+e.getDate()).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2);return`${e.getFullYear()}-${n}-${t} ${("0"+e.getHours()).slice(-2)}:${("0"+e.getMinutes()).slice(-2)}:${("0"+e.getSeconds()).slice(-2)}`};var ue=n(52);const de=()=>{if(ue.Register.isWebPushSupported())switch(Notification.permission){case"default":return"eligible";case"denied":return"denied";case"granted":return"subscribed"}return"not_supported"},fe="FB Logged-In User",pe="FB Logged-out User",me="FB Registering User",he="Google Logged-In User",_e="Google Logged-out User",ge="Google Registering User",Ee="Guest",ve="Twitter Logged-In User",ye="Twitter Logged-out User",be="Twitter Registering User",we=function(){return I.a.get("_as")||Ee},Oe=function(){switch(we()){case fe:case pe:case me:return"facebook";case he:case _e:case ge:return"google";case ve:case ye:case be:return"twitter";default:return"default"}},Ie=()=>`${we()}|${I.a.get("_rs")||""}`,Se="mol-fe-last-user-id",Ae=()=>{let e=null;return window.DM&&window.DM.userId?(e=window.DM.userId,((e,t)=>{try{"localStorage"in window&&window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}})(Se,e)):e=(e=>{let t=null;try{"localStorage"in window&&(t=JSON.parse(window.localStorage.getItem(e)))}catch(e){}return t})(Se),e},Te=e=>{if(e){const{asyncBundleVersion:t,bundleVersion:n,feTag:r,syncBundleVersion:o,videoBundleVersion:i,renderPlatform:a}=e,s="mobile"===a;return`${s?"":n}:${o}:${t}:${i}:${r}:${s?n:""}`}return":::::"},Ce=e=>{if(e instanceof Date)return e.toISOString().split("T")[0]},Le=e=>{if(e instanceof Date)return e.toISOString().split("T")[1].split(":")[0]};var Pe=n(47),Re=n.n(Pe);const Ne=()=>{try{const e=new URLSearchParams(window.location.search).get("searchPhrase");if("string"==typeof e)return e.toLowerCase()}catch(e){}},Me=(e,t)=>{if(t<0)throw new RangeError("Exponent must be positive");if(!t)return t+window.BigInt(1);let n=e,r=t;for(;--r;)n*=e;return n},De=e=>{let t=e;const n=(e=>e.includes(":")?6:e.includes(".")?4:null)(t);let r=window.BigInt(0),o=window.BigInt(0);if(4===n){for(const e of t.split(".").map(Number).reverse())r+=window.BigInt(e)*Me(window.BigInt(2),window.BigInt(o)),o+=window.BigInt(8);return{number:r,version:n}}if(6===n){const e={};if(t.includes(".")&&(e.ipv4mapped=!0,t=t.split(":").map((e=>{if(e.includes(".")){const t=e.split(".").map((e=>Number(e).toString(16).padStart(2,"0")));return`${t[0]}${t[1]}:${t[2]}${t[3]}`}return e})).join(":")),t.includes("%")){let n;[,t,n]=/(.+)%(.+)/.exec(t),e.scopeid=n}const i=t.split(":"),a=i.indexOf("");if(-1!==a)for(;i.length<8;)i.splice(a,0,"");for(const e of i.map((e=>e?`0x${e}`:"0")).map(Number).reverse())r+=window.BigInt(e)*Me(window.BigInt(2),window.BigInt(o)),o+=window.BigInt(16);return e.number=r,e.version=n,e}return null},ke=[["8.27.67.23","223"],["104.28.4.1","33623"],["146.75.128.0","32256"],["172.224.224.0","97285"],["2606:54c0:180::","425542349672951312235364352"],["2606:54c0:400::","425541906951093543206125568"],["2606:54c0:680::","6615242103377994917701746688"],["2606:54c0:1d00::","14507110001396246759860076544"],["2606:54c0:4d80::","14042882486664229156772904960"],["2a02:26f7:b3c0:4000::","22370038001675620477608919040"],["2a04:4e41:0000:0000::","94298445985973994482827264"]],xe=()=>{const{clientIP:e}=Object(g.getPageCriteria)();return(e=>{try{if(!("BigInt"in window))return!1;const{number:t,version:n}=De(e)||{};if(!t)return!1;for(const e of ke.filter((([e])=>e.includes(":")===(6===n)))){const[n,r]=e,{number:o}=De(n),i=o+window.BigInt(r);if(t>o&&t<i)return!0}}catch(e){}return!1})(e)},Be=()=>{try{const e=new URLSearchParams(window.location.search),t=e.get("trackingPagePath"),n=e.get("trackingPageTitle");if(!t&&!n||window.parent===window||!document.referrer)return null;const r={};return t&&(r.page_location=`${document.referrer}${t.replace(/^\//,"")}`),n&&(r.page_title=n),r}catch(e){}return null},Ue=()=>{try{return Object.entries(window.adsMVTResults.selectedScenarios).map((([e,t])=>`${e}=${t}`)).join(",")}catch(e){i.logger.error("Error getting ads test scenario for GA",e)}return null},je=async()=>{if("cookieDeprecationLabel"in navigator){return await navigator.cookieDeprecationLabel.getValue()}},{getHostname:Fe}=S.b,We=async()=>{const e=Object(g.getPageMetadata)(),{articleId:t,articleTitle:n,authorName:r,channel:o,contentType:i,domain:a,loggedInStatus:s,partnerSite:c,publishedDate:l,subChannel:u,subChannel2:d,subChannel3:f,topics:p}=e,{openwebEnabled:m,pageType:h,sponsored:_,sponsorLabel:E,sponsorName:v}=Object(g.getPageCriteria)();let y=e.renderPlatform;const b=navigator.userAgent.match(/snapchat/i),O=navigator.userAgent.match(/BytedanceWebview/i);y=location.href.includes("/embed/gamp-video/")?"mobile amp":y,y=location.href.includes("/embed/fbia-video/")?"mobile fbia":y,b&&(y="snapchat"),O&&(y="tiktok");const S="true"===_||!0===_,P=y&&"mobile fbia"===y.toLowerCase(),R=P?w:document.referrer,N=P&&w||x()||R,{ico:D,ito:k,utm_source:U}=(()=>{try{const e=location.href;return new Re.a(e,!0).query||{}}catch(e){return{}}})();let j,F;k&&!U&&(j={medium:"ito",source:k});const W=xe();window.applePrivateRelay=W;const{moduleName:V,moduleTracking:G,moduleListPosition:K}=Object(ae.a)(),{referrerType:H,referrerGroup:$}=ee(k),Y=L.getItem(M),q=Object(A.getExperiments)();try{if("channel"===h&&o===u&&["/home","/ushome","/auhome"].includes(o)&&"mobile"===y){F=I.a.get("mol-home")||"news";const e=document.querySelector(".home-tabs-container");e&&"showbiz"===e.dataset.selectedHpTab&&(F="showbiz")}}catch(e){}const X=m||"article"!==h,z={ads_mvt_test_scenario:Ue(),article_status:Object(oe.a)(),article_features:Object(g.getArticleFeatures)(),article_id:t,article_title:n,author_name:r,bundle_version:Te(e),campaign:j,url_channel:ce(o),chrome_sandbox_label:await je(),content_group1:i,content_type:i,domain:a,ico_internal_hit:D,internal_search_terms:Ne(),ito_external_hit:k,last_referrer_group:Y&&Y.referrerGroup||"undefined",last_referrer_type:Y&&Y.referrerType||"undefined",logged_in_status:(J=s,J&&J.replace(/\s+/g,"")),icoInternalHit:D,icoInternalSession:D,itoExternalHit:k,itoExternalSession:k,mobile_home_tab_active:F,mobile_home_tab_choice:Object(C.a)()||"undefined",module_click_list_position:K,module_name:V,module_tracking:G,multivariant_experiments:q&&q.length?q.join(","):"undefined",openweb_enabled:X?"true":"false",page_url:location.href||"",partner_site:c||void 0,previous_page_rendered_platform:re()||"undefined",article_published_date:Ce(l),article_published_hour:Le(l),puzzle_user_type:Object(ie.a)(),referrer:R,referrer_type:H,referrer_group:$,referring_channel:B()?ce(B()):"undefined",registration_id:Ae()||"undefined",rendered_platform:y,sponsor_name:v||E||S&&"sponsored"||void 0,url_subchannel_level_1:ce(u),url_subchannel_level_2:ce(d),url_subchannel_level_3:ce(f),referringDomain:"undefined"===N?N:Fe(N),referringUrl:N,subscription_entitlements:Object(oe.b)()||"undefined",swipe_funnel_status:Object(T.a)()||"undefined",article_tags:p&&p.length>0?p.sort(((e,t)=>e.localeCompare(t))).join(","):void 0,user_type:Object(oe.c)(),user_agent:navigator.userAgent,user_login_details:Ie(),user_local_server_date:le(),push_notification_status:de(),...Be()||{}};var J;for(const e of["ito_external_hit","ito_external_session","referring_url","referring_domain","itoExternalHit","itoExternalSession","referringUrl","referringDomain"])z[e]||(z[e]="undefined");return(e=>{for(const t of Object.keys(e))e[t]||delete e[t];return e})(z)},Ve=e=>new Promise((t=>{Ke("get",e,"client_id",(e=>{t(e)}))})),Ge=()=>{const e=navigator.userAgent.match(/snapchat/i),t=navigator.userAgent.match(/BytedanceWebview/i);return e||t?{ga4Id:"G-K7GKTZV547"}:{ga4Id:y,ga4IdInDigital:"AW-670087309"}},Ke=function(){window.molFeDataLayer.push(arguments)},He=e=>{Ke("set","user_properties",e)},$e=async()=>{const{ga4Id:e,ga4IdInDigital:t}=Ge(),n=await We(),r=se(n,["referrer_type","last_referrer_type"]),{environment:o}=Object(g.getPageMetadata)(),a="production"===o?["dailymail.co.uk","thisismoney.co.uk","mailsubscriptions.co.uk","themailsubscriptions.co.uk","mymailaccount.co.uk"]:["dailymailint.co.uk","thisismoneyint.co.uk","stagingmailplussubs.coderush.io","uat-dlv.nonprod-mailsubscriptions.gcpp.io","main-mma-preprod.coderush.io"],{registration_id:s,puzzle_user_type:c,...l}=r,u=await(e=>{try{return Promise.race([Ve(e),(t=1e3,new Promise((e=>setTimeout(e,t))))])}catch(e){return void i.logger.error("Error getting client id",e)}var t})(e),d=(()=>{try{const e=Object(E.getItem)("MOL-FE-WEB-PUSH_SUBSCRIPTION_STATUS");if(e){const{state:t,metadata:{crossOrgUserIds:n}}=e;if("ready"===t&&Array.isArray(n)&&n.length)return n[n.length-1]}return null}catch(e){return i.logger.error("Error getting cross org user id",e),null}})();Ke("config",e,{clientId:u,linker:{accept_incoming:!0,domains:a},send_page_view:!1,user_properties:{client_id:u,puzzle_user_type:c,registration_id:s,...d?{push_notif_user_id:d}:{}},...l}),Object(_.setConfig)("molFeGAProps",r),t&&Ke("config",t),r.puzzle_user_type&&He({puzzle_user_type:r.puzzleUserType})};let Ye=null;const qe=()=>(Ye||(Ye=$e()),Ye),Xe=async e=>{const{ga4Id:t}=Ge();await qe(),Ke("event","page_view",{...se(e),send_to:t})},ze=async(e,t,n,r)=>{const{ga4Id:o}=Ge();await qe();let i=n;if(!i){const n=t&&t.event_category||"unknown";i=`${n}_${e}`.replace(/\s/g,"_"),i.length>40&&(i=i.substring(0,40))}i&&(r?Ke("event",i,{...se(t),send_to:o}):setTimeout((()=>{Ke("event",i,{...se(t),send_to:o})}),500))};var Je=n(48);const Ze=()=>{try{return"visibilityState"in document?document.visibilityState:"unsupported"}catch(e){return"unsupported"}},Qe=(e,t)=>{const n=Object(Je.a)(),{contentType:r}=Object(g.getPageMetadata)(),{pageType:o}=Object(g.getPageCriteria)(),i="article"===o||"article"===r?1:void 0,a=(()=>{const{pageType:e}=Object(g.getPageCriteria)();if("article"!==e)return;return{hasBeenPaywalled:"has_been_paywalled_article_views",isPaywalled:"paywall_article_views",isPaywalledForOthers:"is_paywalled_for_others_article_views",none:"free_article_views"}[Object(oe.a)()]})();if(n){const e={auto_refreshes:1,event_category:"auto refresh",visibility_state:Ze()};ze(`auto refresh ${n}`,e,`auto_refresh_${n}`)}else Xe({article_views:i,mobile_home_tab_active:t&&t.mobileHomeTabActive,...a?{[a]:1}:{}})},et={PAGE_MOBILE_TAB_CHANGE:Qe,PAGE_RENDER_STARTED:Qe},tt={SOCIAL_SHARE_CLICKED:function(e,t){const n=Object(g.getPageMetadata)(),r=t.pageMetadata||{},o=t.site+"_share_article-"+t.placement,i=r.articleTitle||t.articleTitle,a=r.articleId||t.articleId,s=r.channel||n.channel,c=r.channel||n.subChannel;let l,u,d,f,p;if(t.version&&"videoplayer"===t.placement&&(l="videoplayer_"+t.version),t.id&&t.nthPosition&&(u="image "+(t.nthPosition-1)+" image share",d=t.id),t.videoTitle&&(f=t.videoTitle),t.videoId&&(p=t.videoId),"video-lead"===t.placement&&!f&&!p)try{const e=document.querySelector(".video-lead-info .video-headline"),t=e&&e.querySelector("a"),n=t?t.getAttribute("href"):window.location.href;f=e.innerText.trim().replace("Video: ",""),p=n&&n.match(/video-(\d+)/)[1]}catch(e){}ze("click",{article_id:a,article_title:i,channel:s,event_category:"social share",event_label:o,gallery_image_action:u,gallery_image_id:d,non_interaction:!1,social_share_clicks:1,social_share_type:o,url_channel:s,url_subchannel_level_1:c,video_internal_id:p,video_player_version:l,video_title:f},"social_share")}},nt=e=>{let t=`${e.playerType} ${e.playerId}`;e.fullscreen&&(t+="-fullscreen");const n=e.autoplay?"autoplay":"click to play",r=e.displayName,o=e.referenceId,i=e.videoId,a=e.adsEnabled?"true":"false";let s,c,l,u,d,f,p;const m=e.animatedPreviewEnabled?"withpreview":"nopreview",h=e.initialVideo?"inline":"related",_=e.pageMetadata.articleId?"article":"non-article";return"gampembedded"===e.playerId&&(s="mobile amp"),"fbiaembedded"===e.trackingType&&(s="mobile fbia",c=w),e.version&&(l="videoplayer_"+e.version),"thirdPartyEmbedded"===e.trackingType?(u="video_module^embedded^"+h+"^offsite",d="offsite^"+h,c=document.referrer,s="Offsite"):"image_gallery"===e.trackingType?(d=e.pageMetadata.channel+"^"+e.pageMetadata.articleId,u="video_module^"+_+"^"+e.trackingType+"^"+e.pageMetadata.subChannel):e.playlist||"commercialVideoPlayer"===e.trackingType||"editorialVideoPlayer"===e.trackingType||"autoplayInlineVideoPlayer"===e.trackingType?(d=e.pageMetadata.channel+"^"+e.trackingType,u="video_module^"+e.trackingType+"^"+e.channelShortName+"^"+e.pageMetadata.subChannel):(d=e.pageMetadata.channel+"^"+(""===e.pageMetadata.articleId?h:e.pageMetadata.articleId),u="video_module^"+_+"^"+h+"^"+e.pageMetadata.subChannel),u?u.includes("^"+m)||(u+="^"+m):u="video_module^"+m,"dmtv-promo-xp-module"!==e.trackingType||u.includes("^dmtv-promo-xp-module")||(u+="^dmtv-promo-xp-module"),e.pageMetadata.articleId&&("embedded"===e.trackingType||u.match(/\^article\^(inline|image_gallery)\^/))?(f=e.pageMetadata.articleId,p=e.pageMetadata.articleTitle):(f="video not embedded within the article",p="video not embedded within the article"),{article_id:f,article_title:p,content_type:"video",event_category:"video",event_label:n,non_interaction:!0,play_method:n,referrer:c,rendered_platform:s,video_ads_enabled:a,video_channel_article_id:d,video_external_id:i,video_internal_id:o,video_module:u,video_player_type:t,video_player_version:l,video_title:r}},rt={"M:25-50":"25","M:50-100":"50"},ot={"M:25-50":"video_25_views","M:50-100":"video_50_views"},it={"M:25-50":"video25Increase","M:50-100":"video50Increase"},at=["M:25-50","M:50-100"],st=(e=>{const t={};for(const n of Object.keys(e))t[n]=(t,r)=>{"string"==typeof r.trackingType&&r.trackingType.includes("chromeless")||e[n](t,r)};return t})({VIDEO_ADVERT_ABORTED:function(e,t){const n=nt(t);ze("advert abort",n)},VIDEO_ADVERT_COMPLETED:function(e,t){const n=nt(t);ze("advert complete",n)},VIDEO_ADVERT_STARTED:function(e,t){const n=nt(t);ze("advert start",{...n,video_advert_starts:1})},VIDEO_CONTENT_ABORTED:function(e,t){const n=nt(t);ze("abort",n)},VIDEO_CONTENT_COMPLETED:function(e,t){const n=nt(t);ze("content complete",{...n,video_completes:1})},VIDEO_CONTENT_STARTED:function(e,t){const n=nt(t);ze("content start",n)},VIDEO_PROGRESS:function(e,t){if(!t.segment||!at.includes(t.segment))return;const n=rt[t.segment],r=nt(t),o=ot[t.segment],i=it[t.segment];ze(n,{...r,[o]:1,[i]:1})},VIDEO_STREAM_STARTED:function(e,t){const n=t.continuePlayList?"stream continuous play":"stream start",r=nt(t);ze(n,{...r,non_interaction:!t.autoplay,video_views:1})}}),ct=e=>(t,n={})=>{const r={event_category:"video",non_interaction:!1},{videoPlayerType:o,videoPosition:i}=n;o&&(r.video_player_type=o),i&&(r.module_click_list_position=Number(i)),ze(e,r)},lt={VIDEO_CAROUSEL_CLICK:ct("carousel click"),VIDEO_CAROUSEL_SWIPE:ct("carousel swipe"),VIDEO_THUMBNAIL_CLICK:ct("thumbnail click")},ut=function(){if(ue.Register.isWebPushSupported())switch(Notification.permission){case"default":return"eligible";case"denied":return"denied";case"granted":return"subscribed"}return"not_supported"},dt=e=>{const t={...e,event_category:"push notif",push_notification_status:ut()};return delete t.__numberOfAttempts,delete t.channel,delete t.subChannel,JSON.parse(JSON.stringify(t))},ft={WEB_PULL_NOTIFICATION_CLICK:function(e,t){const n={...t,event_category:"pull notif"};delete n.__numberOfAttempts,delete n.channel,delete n.subChannel,ze("click",{...n,event_label:`${t.campaignId}:${t.crossOrgUserId}`,non_interaction:!1,pull_notification_campaign_id:t.campaignId})},WEB_PUSH_NOTIFICATION_CLICK:function(e,t){const n=`${t.campaignId}:${t.subscriptionId}`;ze("click",{...dt(t),event_label:n,non_interaction:!1,push_notification_campaign_id:t.campaignId,push_notification_id:n})},WEB_PUSH_PRE_PROMPT_CLICK:function(e,t){const n="granted"===t.permission?"granted":"closed";ze("pre prompt choice",{...dt(t),event_label:n,non_interaction:!1,pre_prompt_choice:n})},WEB_PUSH_PRE_PROMPT_IMPRESSION:function(e,t){ze("pre prompt impression",{...dt(t),non_interaction:!0})},WEB_PUSH_PROMPT_CLICK:function(e,t){const n="default"===t.permission?"closed":t.permission;ze("prompt choice",{...dt(t),event_label:n,non_interaction:!1,prompt_choice:n})},WEB_PUSH_PROMPT_IMPRESSION:function(e,t){ze("prompt impression",{...dt(t),non_interaction:!0})}},pt={AFFILIATE_CAROUSEL_CLICK:(mt="affiliate click",(e,t)=>{ze(t.hrefTxt,{event_category:mt,event_label:t.hrefUrl,link_text:t.hrefTxt,link_url:t.hrefUrl,non_interaction:!1},"affiliate_click")})};var mt;const ht=(e,t)=>{var n;return{fff_actions:["BF",t,e.bfSource||"",(n=e.position,parseFloat(n)||0),"",e.mainProductId||"",e.relatedProductId||"",e.category||"","","",""].join("^").replace(/\^+$/,""),fff_layout:["inline",e.bfSource||"",e.articleId||""].join("^").replace(/\^+$/,"")}},_t=(e,t,n)=>(r,o)=>{ze(t,{event_category:e,non_interaction:Boolean(n),...ht(o,t)})},gt={BF_BUY_NOW_CAROUSEL_CLICKED:_t("bf","alternative product buynow clicked"),BF_BUY_NOW_HEADER_CLICKED:_t("bf","main product buynow click"),BF_CAROUSEL_IN_VIEW:_t("bf","product view",!0),BF_CAROUSEL_ROTATE_CLICKED:_t("bf","carousel use"),BF_IMPRESSION:_t("bf","product impression",!0),BF_SHOW_MORE_CLICKED:_t("bf","showmore click")},Et=(e,t)=>{const n=(e=>e&&e.articleId?e.articleId:"fff-hub")(e.pageMetaData);var r;return{fff_actions:["FFF",t,e.fffSource||"",(r=e.position,parseFloat(r)||0),e.celebrity||"",e.mainProduct||"",e.relatedProduct||e.accessoryProduct||"",e.items||"",e.trends||"",e.affiliate||"",e.depth||""].join("^"),fff_layout:[e.fffType||"",e.fffSource||"",n||""].join("^")}},vt=(e,t)=>(n,r)=>{ze(t,{event_category:e,...Et(r,t)})},yt={FFF_BUY_ACCESSORY_CLICKED:vt("fff","accessory product click"),FFF_BUY_MAIN_CLICKED:vt("fff","main product click"),FFF_BUY_RELATED_CLICKED:vt("fff","related product click"),FFF_BUY_TRENDING_CLICKED:vt("fff","trending product click"),FFF_CAROUSEL_CLICKED:vt("fff","carousel click"),FFF_CONTENT_VIEWED:vt("fff","product view"),FFF_HUB_SEARCHED:vt("fff","search"),FFF_LINK_TO_AFFILIATE_CLICKED:vt("fff","affiliate link click"),FFF_LINK_TO_ARTICLE_CLICKED:vt("fff","click to article"),FFF_LINK_TO_HUB_CLICKED:vt("fff","hub click"),FFF_SOCIAL_CLICKED:(e,t,n)=>{const r="social share";ze(r,{event_category:"fff",event_label:t.socialSite,non_interaction:Boolean(n),social_network:t.socialSite,...Et(t,r)})}},bt={AD_BILLBOARD_CLOSED:((e,t)=>()=>{ze(t,{event_category:e,non_interaction:!1})})("billboard ad","close")},wt={FIDELITY_CAMPAIGN_EVENT:(e=>(t,n)=>{const r=n.name.replace("fidelity-campaign-","").replaceAll("_"," ").replaceAll("-"," ");ze(r,{event_category:e,event_label:n.value,non_interaction:!1,type_of_fidelity_campaign:n.value},"fidelity_campaign_click")})("fidelity campaign click")},Ot={SCREENSAVER_DOWNLOADED:((e,t)=>()=>{ze(t,{event_category:e,non_interaction:!1})})("screensaver","download click")},It=(e,t)=>(n,r)=>{let o={event_category:e,event_label:r.searchTerm,non_interaction:!1,search_term:r.searchTerm};"site search"===e&&(o={...o,internal_search_terms:r.searchTerm,internal_searches:1}),ze(e,o,t)},St={SITE_SEARCH:It("site search","site_search"),WEB_SEARCH:It("web search","web_search")},At=(e,t,n)=>()=>{ze(t,{event_category:e,non_interaction:Boolean(n)})},Tt={REMIXD_COMPLETE:At("remixd audio player","complete",!0),REMIXD_ERROR:At("remixd audio player","error",!0),REMIXD_IMPRESSION:At("remixd audio player","present on page",!0),REMIXD_MUTE:At("remixd audio player","mute"),REMIXD_PAUSE:At("remixd audio player","pause"),REMIXD_PLAY:At("remixd audio player","play")},Ct=(e,t,n,r)=>(o,i)=>{ze(t,{event_category:e,event_label:i&&i.newsletterName||n,non_interaction:Boolean(r),type_of_newsletter:i&&i.newsletterName||n})},Lt={NEWSLETTER_ERROR:Ct("newsletter","submit error","generic newsletter"),NEWSLETTER_POPUP_SHOW:Ct("newsletter","impression","newsletter popup",!0),NEWSLETTER_POPUP_SUBMIT:Ct("newsletter","submit success","newsletter popup"),NEWSLETTER_PRIVACY_CLICK:Ct("newsletter","privacy click","generic newsletter"),NEWSLETTER_SHOW:Ct("newsletter","impression","generic newsletter",!0),NEWSLETTER_SUBMIT:Ct("newsletter","submit success","generic newsletter"),SAFARI_NEWSLETTER_SHOW:Ct("newsletter","impression","safari popup",!0),SAFARI_NEWSLETTER_SUBMIT:Ct("newsletter","submit success","safari popup")},Pt={PAGE_MODULE_CLICKED:(e,t)=>{if(!("localStorage"in window))return;const{element:n,moduleName:r,position:o,interaction:i,linkType:a,listPosition:s,trackingType:c,videoId:l}=t,u=[],d=Object(g.getPageMetadata)(),f=c||"ck";if(u.push(r,o,d.channel),u.push(d.subChannel||""),u.push(d.subChannel2||""),u.push(d.pageName),u.push(s||""),u.push(a||""),u.push(d.contentType||""),u.push(l?"video":d.articleId||""),u.push(i||""),"el"!==f){const e=n.href.split("/");u.push(e.slice(3,6).join("/"))}else n&&n.href?u.push(n.href):u.push("");window.localStorage.setItem("module_tracking",u.join("^")),window.localStorage.setItem("module_tracking_name",r),s&&window.localStorage.setItem("module_tracking_list_position",s)}},Rt=(e,t)=>(n,r)=>{const o={event_category:r.contentType,gallery_image_action:r.galleryTitle,gallery_image_id:r.threadId,gallery_image_swipe_count:r.galleryId,non_interaction:!1};"image"===r.contentType&&(o.image_views=1);const i="videoimage"===r.contentType?"video_image":r.contentType;ze(e,o,`gallery_${i}_${t||e}`)},Nt={GALLERY_IMAGE_VIEWED:Rt("view",null),GALLERY_OPENED:Rt("start view","view_start")},Mt=(e,t)=>()=>{ze(t,{event_category:e,non_interaction:!1})},Dt={NEWZIT_NOTIFICATION_PROMO_CLOSE:Mt("newzit promo","close"),NEWZIT_NOTIFICATION_PROMO_OPEN:Mt("newzit promo","open")},kt=(e,t,n=!1)=>()=>{ze(t,{event_category:e,non_interaction:n})},xt={DESKTOP_HOME_PAGE_OVERLAY:kt("desktop homepage overlay","display",!0),MOBILE_HOME_PAGE_NAV:(e,t)=>{const{action:n,label:r}=t;ze(n,{event_category:"mobile homepage nav",event_label:r,non_interaction:!1,selected_value:r},"bell icon click"===t.action&&"mobile_bell_icon_click"),"bell icon click"===n&&Xe({mobile_home_tab_active:"alerts-overlay"})},MOBILE_HOME_PAGE_OVERLAY:kt("mobile homepage overlay","display",!0),MOBILE_HOME_PAGE_SIGNPOST_CLICK:kt("mobile homepage signpost","click"),MOBILE_HOME_PAGE_SIGNPOST_DISMISS:kt("mobile homepage signpost","dismiss"),MOBILE_HOME_PAGE_SIGNPOST_DISPLAY:kt("mobile homepage signpost","display",!0),MOBILE_HOME_PAGE_SWIPE:(e,t)=>{const{action:n,label:r}=t;ze("choice",{event_action:n,event_category:"mobile homepage nav",event_label:r,non_interaction:!1,selected_value:r},"mobile_homepage_nav_choice_"+("news"===r?"news":"showbiz"))},MOBILE_HOME_PAGE_VIEW:(e,t)=>{const n=t.swipe||I.a.get("mol-home"),r=I.a.get("mol-home-default-channel");let o="Mobile Landing Homepage";switch(n){case"news":o="Just the News";break;case"showbiz":o="Just the Showbiz";break;case"desktop":o="Full Homepage",r&&(o+=` ${r}-CA`)}t.actionSource&&(o+=` ${t.actionSource}`),ze("choice",{event_category:"mobile homepage overlay",event_label:o,mobile_home_preference:o,non_interaction:!1,selected_value:o})}},Bt="Successfully Logged In",Ut="Registration Activated",jt="Registration Started",Ft="Registration Submitted",Wt={PAGE_RENDER_STARTED:()=>{const e=Object(g.getPageMetadata)(),t=Oe(),n={event_category:"account",event_label:t,non_interaction:!1,registration_method:t};switch(e.registrationEntry){case Ut:ze("activate registration",n);break;case jt:ze("new registration",n);break;case Ft:ze("submit registration",n);break;case Bt:ze("login success",n)}},USER_AUTH_SITE_REG_ERROR_ONCE:((e,t)=>()=>{ze(t,{event_category:e,event_label:Oe(),non_interaction:!1})})("account","registration error")},Vt=(e,t,n=!1)=>(r,o)=>{const i={event_category:e,event_label:o&&o.tab||o&&o.label||void 0,non_interaction:n,selected_value:o&&o.tab||o&&o.label||void 0};o&&void 0!==o.value&&(i.value=o.value,"load time"===t&&(i.load_time=o.value)),ze(t,i)},Gt={COMMENTS_ADD_COMMENT_CLICK:Vt("comment","add comment click"),COMMENTS_CLEAR:Vt("comment","clear"),COMMENTS_DOWNVOTE:Vt("comment","downvote"),COMMENTS_IMPRESSION:Vt("comment","impression",!0),COMMENTS_LOAD_TIME:Vt("comment","load time",!0),COMMENTS_LOGIN_REDIRECT:Vt("comment","login redirect"),COMMENTS_NEW_COMMENT_CLICK:Vt("comment","new comment click"),COMMENTS_OVERLAY_CLOSE:Vt("comment","overlay close"),COMMENTS_OVERLAY_OPEN:Vt("comment","overlay open"),COMMENTS_PAGINATION_CLICK:Vt("comment","pagination click"),COMMENTS_PROFILE_CLICK:Vt("comment","profile click"),COMMENTS_REPLY_CLICK:Vt("comment","reply click"),COMMENTS_REPLY_SUBMIT:Vt("comment","reply submit"),COMMENTS_REPORT_CLICK:Vt("comment","report abuse"),COMMENTS_SHOW_MORE_CLICK:Vt("comment","show more"),COMMENTS_SUBMIT_COMMENT:Vt("comment","submit"),COMMENTS_SUBMIT_SUCCESS:Vt("comment","submit success"),COMMENTS_UPVOTE:Vt("comment","upvote"),COMMENTS_VIEW_ALL:Vt("comment","view all click"),PAGE_COMMENT_TAB_SWAPPED:Vt("comment tab","view"),SOCIAL_SHARE_COMMENTS:Vt("comment","added")},Kt={PAGE_EXTERNAL_LINK_CLICKED_GA:(e,t)=>{ze(t.innerText,{event_category:"outbound click",event_label:t.href,link_text:t.innerText,link_url:t.href,non_interaction:!1},"outbound_click")}},Ht=(e,t,n)=>(t,r)=>{const{productName:o,location:i}=r;ze("bar"===i?"product bar click":"product click",{event_category:e,event_label:o,non_interaction:Boolean(n)})},$t={PRODUCT_BUTTON_LINK:Ht("product",0,!1),PRODUCT_IMAGE_LINK:Ht("product",0,!1),PRODUCT_PRICE_LINK:Ht("product",0,!1),PRODUCT_TITLE_LINK:Ht("product",0,!1)},Yt={PAGE_RENDER_STARTED:()=>{const{betwayBannerPresent:e}=Object(g.getPageMetadata)();e&&ze("display betway breaking news",{event_category:"banner",non_interaction:!0})}},qt=(e,t,n)=>(r,o)=>{ze(t,{event_category:e,event_label:o.type,non_interaction:Boolean(n),type_of_smart_banner:o.type})},Xt={SMART_BANNER_CLICKED:qt("smart banner","click"),SMART_BANNER_SHOWN:qt("smart banner","impression",!0)},zt=(e,t,n)=>(r,o)=>{const{campaignId:i}=o;ze(t,{campaign_id:i,event_category:e,event_label:i,non_interaction:Boolean(n)})},Jt={GUESTBOOK_IMPRESSION:zt("guestbook","impression",!0),GUESTBOOK_LOADING_ERROR:zt("guestbook","load error",!0),GUESTBOOK_SUBMIT_ERROR:zt("guestbook","submit error"),GUESTBOOK_SUBMIT_SUCCESS:zt("guestbook","submit success")},Zt=(e,t,n,r)=>(o,i)=>{const a={event_category:e,non_interaction:Boolean(n)};i&&void 0!==i.value&&(a.value=i.value,"load time"===t&&(a.load_time=i.value)),i&&i.label&&(a.event_label=i.label,a.selected_value=i.label),i&&i.moduleType&&(a.openweb_module_type=i.moduleType),ze(t,a,r)},Qt={OPENWEB_DELETE_MESSAGE:Zt("openweb","comment delete"),OPENWEB_DOWNVOTE:Zt("openweb","downvote"),OPENWEB_EDIT_MESSAGE:Zt("openweb","edit message",!1,"openweb_comment_edit"),OPENWEB_FLOATING_CLICK:Zt("openweb","floating click"),OPENWEB_FLOATING_DISMISS:Zt("openweb","floating dismiss"),OPENWEB_IMPRESSION:Zt("openweb","impression",!0),OPENWEB_LOAD_ERROR:Zt("openweb","load error",!0),OPENWEB_LOAD_TIME:Zt("openweb","load time",!0),OPENWEB_LOGIN_START:Zt("openweb","login start"),OPENWEB_OPEN_PROFILE:Zt("openweb","open profile",!1,"openweb_open_profile_user"),OPENWEB_POST_LOGIN_SUCCESS:Zt("openweb","login success"),OPENWEB_SEND_FAIL:Zt("openweb","submit error"),OPENWEB_SEND_SUCCESS:Zt("openweb","submit success"),OPENWEB_SHARE_TYPE:Zt("openweb","share type",!1,"openweb_comment_share"),OPENWEB_SORT_OPEN:Zt("openweb","sort open"),OPENWEB_SORT_SELECT:Zt("openweb","sort select"),OPENWEB_UPVOTE:Zt("openweb","upvote"),OPENWEB_VIEWABLE:Zt("openweb","view",!0)},en=["click","viewable"],tn=["impression","viewable"],nn={PROMOTIONAL_SLOT_EVENT:(e,t)=>{const{eventName:n,xpModuleName:r,campaignId:o}=t;if(tn.includes(n))return;const i=`${r}${o?`|${o}`:""}`;ze(n,{event_category:"promotional slot click",event_label:i,non_interaction:Boolean(!en.includes(n)),type_of_promotional_slot:i})}},rn=(e,t,n)=>(r,o)=>{const{promotion:i,urlClicked:a,articlePosition:s}=o;ze(t,{article_position:s,event_category:e,event_label:i,non_interaction:Boolean(n),type_of_promotions_module:i,url_clicked:a})},on={PROMOTIONS_XP_CLICK:rn("promotions module","click"),PROMOTIONS_XP_VIEW_MORE:rn("promotions module","view more")},an=(e,t,n,r)=>(o,i)=>{const{company:a,headline:s}=i;ze(t,{event_category:e,event_label:r||"impression"===t?s:a,non_interaction:Boolean(n),type_of_tim_affiliate:r||"impression"===t?s:a})},sn={TIM_AFFILIATE_BOTTOM_LINK_CLICKED:an("timAffiliate","click",!1,!0),TIM_AFFILIATE_IMPRESSION:an("timAffiliate","impression",!0),TIM_AFFILIATE_LEARN_MORE_CLICKED:an("timAffiliate","click",!1)},cn=(e,t,n)=>(r,o)=>{const{company:i}=o;ze(t,{company_name:i,event_category:e,event_label:i,non_interaction:Boolean(n)})},ln={COMPANY_REVIEW_IMPRESSION:cn("companyReview","impression",!0),COMPANY_REVIEW_LEARN_MORE_CLICKED:cn("companyReview","click"),COMPANY_REVIEW_LESS_CONTENT_CLICKED:cn("companyReview","click"),COMPANY_REVIEW_MORE_CONTENT_CLICKED:cn("companyReview","click")},un=(e,t,n)=>(r,o)=>{const{label:i}=o;ze(t,{event_category:e,event_label:i,non_interaction:Boolean(n),type_of_article_hero:i})},dn={ARTICLE_HERO_AUTHOR_TWITTER_LINK_CLICK:un("articleHero","click"),ARTICLE_HERO_LOZENGE_LINK_CLICK:un("articleHero","click")},fn=(e,t,n)=>(r,o)=>{const{label:i,value:a,modulePixelDepth:s}=o||{};ze(t,{event_category:e,event_label:i,module_pixel_depth:s,non_interaction:Boolean(n),value:a})},pn={COMMERCE_XP_CLICK:fn("commercexp","click"),COMMERCE_XP_IMPRESSION:fn("commercexp","impression",!0),COMMERCE_XP_VIEW_MORE:fn("commercexp","view more"),COMMERCE_XP_VIEWABLE:fn("commercexp","view",!0)},mn=(e,t,n)=>(r,o)=>{const{channel:i,urlClicked:a,articlePosition:s}=o;ze(t,{article_position:s,event_category:e,event_label:i,non_interaction:Boolean(n),url_clicked:a})},hn={TOP_STORIES_XP_CLICK:mn("top stories module","click"),TOP_STORIES_XP_IMPRESSION:mn("top stories module","impression",!0),TOP_STORIES_XP_VIEW_MORE:mn("top stories module","view more"),TOP_STORIES_XP_VIEWABLE:mn("top stories module","view",!0)},_n={AD_SLOT_LOADED_ON_PAGE:((e,t,n)=>(r,o)=>{const{slotType:i}=o;ze(t,{event_category:e,event_label:i,non_interaction:Boolean(n)})})("ad slot","load",!0)},gn=(e,t,n)=>()=>{ze(t,{event_category:e,non_interaction:Boolean(n)})},En={SWIPE_TUTORIAL_CLOSE:gn("swipe tutorial","dismiss"),SWIPE_TUTORIAL_SHOWN:gn("swipe tutorial","impression",!0)},vn={TIM_ANCHOR_LINK_CLICKED:((e,t)=>(n,r)=>{const{linkText:o}=r;ze(t,{event_category:e,event_label:o,link_text:o,non_interaction:!1})})("decisionary anchor","click")},yn=(e,t,n)=>()=>{ze(t,{event_category:e,non_interaction:Boolean(n)})},bn={COMMENT_CTA_CLICK:yn("comment cta","click"),COMMENT_CTA_IMPRESSION:yn("comment cta","impression",!0)},wn=(e,t,n)=>()=>{ze(t,{event_category:e,non_interaction:Boolean(n)})},On={MOBILE_MENU_COMMENT:wn("mobile menu","comment click"),MOBILE_MENU_DESKTOP_SITE:wn("mobile menu","desktop site")},In={PAGE_FURNITURE_CLICKED:(e,t)=>{const n=t&&t.furnitureName;if(!n)return;ze(n,{event_category:"furniture",furniture_name:n,non_interaction:!1})}},Sn=(e,t,n)=>(r,o)=>{const{urlClicked:i,articlePosition:a}=o;ze(t,{article_position:a,event_category:e,non_interaction:Boolean(n),url_clicked:i})},An={ARTICLE_RECOMMENDATION_XP_CLICK:Sn("article recommendation module","click"),ARTICLE_RECOMMENDATION_XP_IMPRESSION:Sn("article recommendation module","impression",!0),ARTICLE_RECOMMENDATION_XP_VIEWABLE:Sn("article recommendation module","view",!0)},Tn=(e,t,n)=>(r,o)=>{let i=t;"ineligible"===t&&o&&o.reason&&(i=`${t} ${o.reason}`),ze(i,{event_category:e,non_interaction:Boolean(n)})},Cn={ARTICLE_TRUNCATION_EXPAND:Tn("article truncation","expand"),ARTICLE_TRUNCATION_INELIGIBLE:Tn("article truncation","ineligible",!0),ARTICLE_TRUNCATION_READ_NEXT:Tn("article truncation","read next",!1),ARTICLE_TRUNCATION_TRUNCATE:Tn("article truncation","truncate",!0),ARTICLE_TRUNCATION_VIEWABLE:Tn("article truncation","view",!0)},Ln=(e,t,n)=>(r,o)=>{const{pollId:i,question:a,answer:s,href:c,channel:l}=o||{};ze(t,{answer:s,channel:l,event_category:e,event_label:"newsletter"===e?"poll":a,href:c,non_interaction:Boolean(n),poll_id:i?String(i):i,poll_name:a,url_channel:l},"newsletter"===e?"newsletter_poll_submit_success":void 0)},Pn={XP_POLLS_CLICK:Ln("poll","click"),XP_POLLS_IMPRESSION:Ln("poll","impression",!0),XP_POLLS_SUBSCRIBED:Ln("newsletter","successful submits"),XP_POLLS_VIEW:Ln("poll","view",!0),XP_POLLS_VOTED:Ln("poll","submit success")},Rn=(e,t,n)=>(r,o)=>{const{channel:i,clickUrl:a,position:s}=o;ze(t,{click_url:a,event_category:e,event_label:i,non_interaction:Boolean(n),position:s})},Nn={GEO_TARGETED_HOMEPAGE_XP_CLICK:Rn("scotland section","click"),GEO_TARGETED_HOMEPAGE_XP_IMPRESSION:Rn("scotland section","impression",!0),GEO_TARGETED_HOMEPAGE_XP_VIEWABLE:Rn("scotland section","view",!0)},Mn=(e,t,n)=>(r,o)=>{He({puzzle_user_type:Object(ie.a)()}),ze(t,{event_category:e,event_label:o&&o.puzzleName,non_interaction:Boolean(n),puzzle_name:o&&o.puzzleName,puzzle_user_type:Object(ie.a)()})},Dn={PUZZLE_COMPLETE:Mn("puzzle","complete"),PUZZLE_STARTED:Mn("puzzle","started")},kn=(e,t,n)=>(r,o)=>{ze(t,{event_category:e,module_name:o&&o.moduleName||void 0,non_interaction:Boolean(n)})},xn={MODULE_IMPRESSION:kn("module","impression",!0),MODULE_INTERACT:kn("module","interact"),MODULE_VIEW:kn("module","view",!0)},Bn=(e,t,n)=>(r,o)=>{const{label:i,value:a,modulePixelDepth:s}=o||{};ze(t,{event_category:e,event_label:i,module_pixel_depth:s,non_interaction:Boolean(n),value:a})},Un={ARTICLE_PREVIEW_XP_CLICK:Bn("article preview xp","click"),ARTICLE_PREVIEW_XP_IMPRESSION:Bn("article preview xp","impression",!0),ARTICLE_PREVIEW_XP_VIEWABLE:Bn("article preview xp","viewable",!0)},jn=(e,t,n,r)=>(o,i)=>{const{paywallOutcomeLabel:a,referringModule:s,referringPageType:c,flowVariant:l,productType:u}=i||{},d={event_category:e,non_interaction:Boolean(n)};a&&(d.paywall_variant=a),s&&(d.referring_module=s),c&&(d.referring_page_type=c),l&&(d.flow_variant=l),u&&(d.product_type=u),"paywall impression"===t&&(d.paywall_impressions=1),"paywall viewable"===t&&(d.paywall_views=1),"paywall click"===t&&(d.paywall_clicks=1),"paywall conversion"===t&&(d.paywall_conversions=1),"account conversion"===t&&(d.account_conversions=1),"banner conversion"===t&&(d.banner_conversions=1),"module"===e&&(d.product_type="mailplus",d.referring_module="homemodule"),ze(t,d,r,"module"===e)},Fn={PAYWALL_ACCOUNT_LINK_COMPLETE:jn("mailplus","account link complete"),PAYWALL_ACCOUNT_LINK_HELP:jn("mailplus","account link help click"),PAYWALL_ACCOUNT_LINK_PROMPT:jn("mailplus","account link prompt"),PAYWALL_ACCOUNT_LINK_RESEND:jn("mailplus","account link resend email click"),PAYWALL_CONVERSION:jn("mailplus","paywall conversion"),PAYWALL_CONVERSION_BANNER:jn("mailplus","banner conversion"),PAYWALL_CONVERSION_PROFILE:jn("mailplus","account conversion"),PAYWALL_HOMEMODULE_ARTICLE_CLICK:jn("module","article click"),PAYWALL_HOMEMODULE_ARTICLE_COMMENTS_CLICK:jn("module","article comments click"),PAYWALL_HOMEMODULE_CHANNEL_CLICK:jn("module","channel click"),PAYWALL_HOMEMODULE_SIGNUP_CLICK:jn("module","masthead click"),PAYWALL_IMPRESSION:jn("mailplus","paywall impression",!0),PAYWALL_LOGIN_CLICK:jn("mailplus","paywall login click"),PAYWALL_MASTHEAD_SIGNUP_CLICK:jn("mailplus","masthead click"),PAYWALL_PROFILE_SIGNUP_CLICK:jn("mailplus","profile click"),PAYWALL_RESTORE_PURCHASE_CLICK:jn("mailplus","restore purchase click"),PAYWALL_SIGN_UP:jn("mailplus","paywall click"),PAYWALL_VIEWABLE:jn("mailplus","paywall viewable",!0),PAYWALL_ZEPHR_FAIL_OPEN:jn("mailplus","zephr fail open",!0)},Wn=()=>{(async(e,t,n=null)=>{const{ga4IdInDigital:r}=Ge();r&&(await qe(),Ke("event",e,{...t,send_to:`${r}${n||""}`}))})("conversion",{currency:"GBP",non_interaction:!1,value:1.99},"/MGkxCJf_5sQZEI3xwr8C")},Vn={PAYWALL_CONVERSION:Wn,PAYWALL_CONVERSION_BANNER:Wn,PAYWALL_CONVERSION_PROFILE:Wn},Gn=(e,t)=>(n,r)=>{const{productType:o}=r||{},i={event_category:"cmp",non_interaction:!1};o&&(i.product_type=o),ze(e,i,e.replace(/\s/g,"_"),t)},Kn={...{CMP_LEVEL_ONE_ACCEPT:Gn("cmp level 1 accept"),CMP_LEVEL_ONE_CONVERSION:Gn("cmp level 1 conversion"),CMP_LEVEL_ONE_LOGIN:Gn("cmp level 1 login",!0),CMP_LEVEL_ONE_PRIVACY_SETTINGS:Gn("cmp level 1 privacy settings"),CMP_LEVEL_ONE_SUBSCRIBE:Gn("cmp level 1 subscribe",!0),CMP_LEVEL_TWO_CONVERSION:Gn("cmp level 2 conversion"),CMP_LEVEL_TWO_SAVE_EXIT:Gn("cmp level 2 save exit",!0),CMP_LEVEL_TWO_SUBSCRIBE:Gn("cmp level 2 subscribe",!0)},...{ESSENTIAL_ACCOUNT_LINK_COMPLETE:Gn("essential account link complete"),ESSENTIAL_ACCOUNT_LINK_HELP_CLICK:Gn("essential account link help click"),ESSENTIAL_ACCOUNT_LINK_PROMPT:Gn("essential account link prompt"),ESSENTIAL_ACCOUNT_LINK_RESEND:Gn("essential account link resend email click"),ESSENTIAL_RESTORE_PURCHASE_CLICK:Gn("essential restore purchase click")}},Hn={FOR_YOU_SAVE_PREFERENCES_CLICK:((e,t,n,r)=>()=>{ze(t,{event_category:e,event_label:n,non_interaction:!1},r)})("for you","click","save preferences","for_you_save_preferences_click")},$n=(e,t)=>()=>{ze(t,{event_category:e,non_interaction:!1})},Yn=[pt,Un,gt,Yt,bt,yt,wt,Nt,Pt,Lt,Dt,Qt,Gt,Kt,et,xt,$t,Tt,Ot,St,Xt,tt,{TOAST_OVERLAY_CLICK:$n("toast overlay","click"),TOAST_OVERLAY_DISMISS:$n("toast overlay","dismiss"),TOAST_OVERLAY_VIEW:$n("toast overlay","view")},Wt,st,lt,ft,Jt,nn,on,sn,dn,ln,pn,hn,_n,En,vn,bn,On,In,An,Cn,Pn,Nn,Dn,xn,Fn,Vn,Kn,Hn],qn=(e,t,n,r)=>{let o=e;for(;o&&o!==t;){const e=o.getAttribute(n);if(e)return e;o=o.parentElement}return o&&o.getAttribute(n)||r};(async()=>{window.molFeDataLayer=window.molFeDataLayer||[],window.gtag=Ke,Ke("js",new Date);try{await Object(v.loadScript)(b)}catch(e){i.logger.error("Error loading gtag JS",e)}})().catch();for(const e of Yn)Object(s.a)("googleAnalytics",e);document.addEventListener("click",(e=>{const t=e.Element||e.srcElement,n=t&&(e=>{let t=e;for(;t&&"A"!==t.tagName.toUpperCase()&&"BODY"!==t.tagName.toUpperCase();)t=t.parentElement;return t&&"A"===t.tagName.toUpperCase()?t:null})(t);if(n){const e=qn(t,n,"data-tracking-href",n.href),r=qn(t,n,"data-tracking-inner-text",n.innerText);(e=>{try{return new URL(e).hostname!==window.location.hostname}catch(e){return!1}})(e)&&a.a.fireEvent(a.a.PAGE_EXTERNAL_LINK_CLICKED_GA,{href:e,innerText:r})}}),!1);const Xn={gtag:Ke};Object(h.later)("PAGE_METADATA_SET",(async()=>{const e=await We();Object(_.setConfig)("GA_CONFIG_PROPS",e),h.later.go("GA_CONFIG_READY")}));const zn=["impression","click","viewable"],Jn=(e,t,n={})=>{if(zn.includes(e))if(t&&"string"==typeof t)try{const{environment:r,renderPlatform:o}=Object(g.getPageMetadata)(),i={environment:r,event:e,module:t,renderPlatform:o,...n};window.postMessage(`__bidmax\n${JSON.stringify(i)}`,"*")}catch(e){i.logger.error(`[mol-fe-tracking] Unable to fire bidmax tracking for ${t}`,e)}else i.logger.error("[mol-fe-tracking] Module name is required ");else i.logger.error(`[mol-fe-tracking] Event name has to be one of 'impression', 'click', 'viewable', event name provided: ${e}`)};Object(r.a)(),Object(o.a)(),(()=>{try{const e=new URLSearchParams(location.search);if("tiktok-comments"!==e.get("ito"))return;!function(e,t,n){e.TiktokAnalyticsObject=n;var r=e[n]=e[n]||[];r.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],r.setAndDefer=function(e,t){e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}};for(var o=0;o<r.methods.length;o++)r.setAndDefer(r,r.methods[o]);r.instance=function(e){for(var t=r._i[e]||[],n=0;n<r.methods.length;n++)r.setAndDefer(t,r.methods[n]);return t},r.load=function(e,t){var o="https://analytics.tiktok.com/i18n/pixel/events.js";r._i=r._i||{},r._i[e]=[],r._i[e]._u=o,r._t=r._t||{},r._t[e]=+new Date,r._o=r._o||{},r._o[e]=t||{};var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=o+"?sdkid="+e+"&lib="+n;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a)},r.load("CP67633C77U51CVDQIUG"),r.page()}(window,document,"ttq")}catch(e){i.logger.error("Error loading Tiktok Pixel",e)}})(),(()=>{try{window.addEventListener("message",(e=>{if(!e.data||"object"!=typeof e.data)return;const t=e.data;if("@mol-fe/mol-fe-cmp"===t.ns)switch(t.action){case"cmp_level_1_accept":a.a.publish(a.a.CMP_LEVEL_ONE_ACCEPT);break;case"cmp_level_2_save_exit":a.a.publish(a.a.CMP_LEVEL_TWO_SAVE_EXIT);break;case"cmp_level_1_privacy_settings":a.a.publish(a.a.CMP_LEVEL_ONE_PRIVACY_SETTINGS);break;case"cmp_level_1_login":a.a.publish(a.a.CMP_LEVEL_ONE_LOGIN);break;case"cmp_level_1_subscribe":a.a.publish(a.a.CMP_LEVEL_ONE_SUBSCRIBE);break;case"cmp_level_2_subscribe":a.a.publish(a.a.CMP_LEVEL_TWO_SUBSCRIBE)}}))}catch(e){i.logger.error("Error initialising mol-fe-cmp tracking",e)}})()},function(e,t,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(e,t,n){"use strict";var r=n(2),o=n(0);class i extends r.PubSub{constructor(e={}){super(),Object.assign(this,e),this.eventsMap=Object.keys(e).reduce(((t,n)=>(t[e[n]]?o.logger.warn(`Conflicting event value for events "${n}" and "map[events[key]]"`):t[e[n]]=n,t)),{})}subscribe(e,t){return e&&!this.eventsMap[e]&&o.logger.warn(`Subscribing to non-standard event "${e}"`),super.subscribe(e,t)}publish(e,t){if(!e)throw new Error('Missing required parameter "eventName"');e&&!this.eventsMap[e]&&o.logger.warn(`Publishing non-standard event "${e}"`),o.logger.trace(`Published PageEvent "${e}"`,t),this.listeners.get(e)&&this.listeners.get(e).forEach((n=>{try{n(e,t)}catch(e){o.logger.error(e)}}))}listen(e,t,n){o.logger.warn('"pageEvents.listen(eventName, function(observable, eventName, data) {...}, context)" has been deprecated.\n  Please use "pageEvents.subscribe(eventName, (eventName, data) => {...})" instead');return this.subscribe(e,((...e)=>{t.call(n,this,...e)}))}fireEvent(e,t){return o.logger.warn('"pageEvents.fireEvent(eventName, data)" has been deprecated. Please use "pageEvents.publish(eventName, data)" instead'),this.publish(e,t)}}const a=new i(n(28).a);t.a=a},function(e,t,n){var r,o;!function(i,a){"use strict";r=function(){var e=function(){},t="undefined",n=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(n){return"debug"===n&&(n="log"),typeof console!==t&&(void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):e)}function i(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function a(e,n,r){return function(){typeof console!==t&&(i.call(this,n,r),this[e].apply(this,arguments))}}function s(e,t,n){return o(e)||a.apply(this,arguments)}function c(e,r,o){var a,c=this,l="loglevel";function u(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}function d(){var e;if(typeof window!==t){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(l+=":"+e),c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=o||s,c.getLevel=function(){return a},c.setLevel=function(n,r){if("string"==typeof n&&void 0!==c.levels[n.toUpperCase()]&&(n=c.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&u(n),i.call(c,n,e),typeof console===t&&n<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){d()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var f=d();null==f&&(f=null==r?"WARN":r),c.setLevel(f,!1)}var l=new c,u={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new c(e,l.getLevel(),l.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=d),l},l},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},function(e,t,n){"use strict";var r,o=n(86),i=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var u=s("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function f(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=s("Date"),m=s("File"),h=s("Blob"),_=s("FileList");function g(e){return"[object Function]"===i.call(e)}var E=s("URLSearchParams");function v(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var y,b=(y="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return y&&e instanceof y});e.exports={isArray:c,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:f,isUndefined:l,isDate:p,isFile:m,isBlob:h,isFunction:g,isStream:function(e){return d(e)&&g(e.pipe)},isURLSearchParams:E,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:v,merge:function e(){var t={};function n(n,r){f(t[r])&&f(n)?t[r]=e(t[r],n):f(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)v(arguments[r],n);return t},extend:function(e,t,n){return v(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,a={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=r[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:b,isFileList:_}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(189);Object.defineProperty(t,"disableWindowScrollMethods",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}});var o=n(45);Object.defineProperty(t,"createInteractionMethod",{enumerable:!0,get:function(){return o.createInteractionMethod}}),Object.defineProperty(t,"getScrollLeft",{enumerable:!0,get:function(){return o.getScrollLeft}}),Object.defineProperty(t,"getScrollTop",{enumerable:!0,get:function(){return o.getScrollTop}}),Object.defineProperty(t,"setHash",{enumerable:!0,get:function(){return o.setHash}}),Object.defineProperty(t,"setScrollLeft",{enumerable:!0,get:function(){return o.setScrollLeft}}),Object.defineProperty(t,"setScrollTop",{enumerable:!0,get:function(){return o.setScrollTop}}),Object.defineProperty(t,"scroll",{enumerable:!0,get:function(){return o.scroll}}),Object.defineProperty(t,"scrollBy",{enumerable:!0,get:function(){return o.scrollBy}}),Object.defineProperty(t,"scrollByLines",{enumerable:!0,get:function(){return o.scrollByLines}}),Object.defineProperty(t,"scrollByPages",{enumerable:!0,get:function(){return o.scrollByPages}}),Object.defineProperty(t,"scrollTo",{enumerable:!0,get:function(){return o.scrollTo}}),Object.defineProperty(t,"scrollToElement",{enumerable:!0,get:function(){return o.scrollToElement}}),Object.defineProperty(t,"scrollToElementIfNeeded",{enumerable:!0,get:function(){return o.scrollToElementIfNeeded}})},function(e,t,n){"use strict";n.r(t),n.d(t,"getConfig",(function(){return s})),n.d(t,"setConfig",(function(){return c})),n.d(t,"addInstance",(function(){return _})),n.d(t,"getInstances",(function(){return f})),n.d(t,"onAddInstance",(function(){return p})),n.d(t,"onRemoveInstance",(function(){return m})),n.d(t,"removeInstance",(function(){return h}));var r=n(20);var o=function(e,t){return e[t]||(e[t]=new r.a),e[t]};var i=function(e,t,n){if(typeof t!==n)throw new Error(`Missing or invalid param ${e}`)};const a={},s=function(e){return i("projectName",e,"string"),o(a,e).promise},c=function(e,t){t&&o(a,e).resolve(t)};const l=new(n(2).PubSub),u={},d=[],f=function(e){return i("componentName",e,"string"),u[e]||(u[e]=[]),u[e]},p=function(e,t){i("componentName",e,"string"),i("cb",t,"function");const n=l.subscribe(`${e}.add`,((e,n)=>t(n)));return d.push(n),n},m=function(e,t){i("componentName",e,"string"),i("cb",t,"function");const n=l.subscribe(`${e}.remove`,((e,n)=>t(n)));return d.push(n),n},h=function(e,t){i("componentName",e,"string"),t&&u[e]&&(u[e]=u[e].filter((e=>e!==t)),l.publish(`${e}.remove`,t))},_=function(e,t){return i("componentName",e,"string"),u[e]||(u[e]=[]),t&&!u[e].includes(t)&&(u[e].push(t),l.publish(`${e}.add`,t)),{remove:()=>h(e,t)}}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"loadDeferredImgs",(function(){return f})),n.d(t,"loadScript",(function(){return p})),n.d(t,"loadStyle",(function(){return s})),n.d(t,"onDocReady",(function(){return m})),n.d(t,"scrollUtils",(function(){return E}));var r=n(2);const o=()=>{(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?r.later.go("DOM_READY"):(document.addEventListener("DOMContentLoaded",(()=>r.later.go("DOM_READY"))),window.addEventListener("load",(()=>r.later.go("DOM_READY"))))},i=()=>{document.body?r.later.go("BODY_READY"):setTimeout(i,5)};var a=n(0);o(),i();var s=function(e,t={}){if(!e)throw new Error('loadStyle: Missing required "href" parameter');const n=function(e,t="all"){return Array.from(document.styleSheets).find((({href:n,ownerNode:r})=>n===e&&r.media===t))}(e,t.media);return n?Promise.resolve(n.ownerNode):new Promise(((n,o)=>{const i=document.createElement("link"),a=t.before||document.querySelector("script");i.media="only x",i.rel="stylesheet",i.href=e;const s=()=>{Array.from(document.styleSheets).some((({ownerNode:e})=>e===i))?n(i):setTimeout(s,10)};i.onload=()=>n(i),i.onerror=()=>o(new URIError(`The stylesheet "${e}" is not accessible.`)),Object(r.later)("BODY_READY",(()=>{a.parentNode.insertBefore(i,a)})),s()})).then((e=>(e.media=t.media||"all",e)))};const c=()=>{Array.from(document.querySelectorAll("link[rel=preload][as=style]")).forEach((e=>{e.rel=null,s(e.href,{before:e}).then((()=>e.parentNode.removeChild(e))).catch((e=>a.logger.error(e)))}))};var l=()=>{if((()=>{try{return document.createElement("link").relList.supports("preload")}catch(e){return!1}})())return a.logger.debug('"Resource Hints: preload" is supported'),!1;if(a.logger.debug('Polyfilling "Resource Hints: preload"'),c(),"complete"!==document.readyState){const e=setInterval(c,100);window.addEventListener("load",(()=>clearInterval(e)))}return!0};const u=function(e){a.logger.warn(`${e} has been deprecated`)},d=function(){u("loadDeferredImgs")};d.pause=function(){u("loadDeferredImgs.pause")},d.resume=function(){u("loadDeferredImgs.resume")},d.load=function(){u("loadDeferredImgs.load")},d.imagesCache={getImages(){u("loadDeferredImgs.imagesCache.getImages")},popImages(){u("loadDeferredImgs.imagesCache.popImages")},resetCache(){u("loadDeferredImgs.imagesCache.resetCache")}};var f=d;var p=function(e,t={}){if(!e)throw new Error('loadScript: Missing required "src" parameter');return new Promise(((n,r)=>{const o=document.createElement("script");let i;o.type=t.type||"text/javascript",t.async&&(o.async=!0),t.defer&&(o.defer=!0),o.onerror=()=>r(new URIError(`The script ${e} is not accessible.`)),o.onload=()=>n(o),i=t.beforeCurrentScript&&document.currentScript?document.currentScript:document.querySelector("script"),i.parentNode.insertBefore(o,i),o.src=e}))};o(),i();var m=e=>(a.logger.warn('"onDocReady" has been deprecated. please use "later(\'DOM_READY\', callback);" instead'),Object(r.later)("DOM_READY",e)),h=n(9),_=n(8);let g=()=>{};Promise.all([Object(h.getConfig)("molFeDomHelperScroll"),Object(r.later)("DOM_READY")]).then((([e])=>{e.enableTracking&&(g=Object(_.disableWindowScrollMethods)())})).catch((e=>{throw new Error(e)}));var E={createInteractionMethod:_.createInteractionMethod,createLegacyInteractionMethod:async e=>{try{g(),await e;const{enableTracking:t}=await Object(h.getConfig)("molFeDomHelperScroll");t&&(g=Object(_.disableWindowScrollMethods)())}catch(e){throw new Error(e)}},getScrollLeft:_.getScrollLeft,getScrollTop:_.getScrollTop,reenableWindowScrollMethods:g,scroll:_.scroll,scrollBy:_.scrollBy,scrollByLines:_.scrollByLines,scrollByPages:_.scrollByPages,scrollTo:_.scrollTo,scrollToElement:_.scrollToElement,scrollToElementIfNeeded:_.scrollToElementIfNeeded,setHash:_.setHash,setScrollLeft:_.setScrollLeft,setScrollTop:_.setScrollTop};o(),i(),l()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(1);const o="javascript:,dmgt.net,dailymail.co.uk,mailonsunday.co.uk,mailonline.co.uk,localhost,"+location.hostname,i=new RegExp(o.replace(/\./g,"\\.").replace(/,/g,"|"),"i"),a=Object(r.getPageCriteria)(),s=a.isTablet,c=a.isMobile&&!s,l={geo:a.geo,internalDomains:o,internalDomainsRegex:i,isMobile:c,isTablet:s};t.a=l},function(e,t,n){"use strict";n.r(t),n.d(t,"deviceData",(function(){return o})),n.d(t,"disableScroll",(function(){return S})),n.d(t,"enableScroll",(function(){return I})),n.d(t,"getMobileVersion",(function(){return v})),n.d(t,"getZoom",(function(){return y})),n.d(t,"isAndroid",(function(){return d})),n.d(t,"isAndroidPhone",(function(){return h})),n.d(t,"isAndroidStock",(function(){return E})),n.d(t,"isAndroidTablet",(function(){return _})),n.d(t,"isChrome",(function(){return f})),n.d(t,"isFirefox",(function(){return p})),n.d(t,"isIDevice",(function(){return c})),n.d(t,"isIPad",(function(){return u})),n.d(t,"isIPhone",(function(){return l})),n.d(t,"isKindleSilk",(function(){return m})),n.d(t,"isLandscape",(function(){return w})),n.d(t,"isMobile",(function(){return g})),n.d(t,"isPortrait",(function(){return O})),n.d(t,"isWindows",(function(){return s})),n.d(t,"isZoomed",(function(){return b})),n.d(t,"onTouchEnd",(function(){return T})),n.d(t,"parseUserAgent",(function(){return a})),n.d(t,"setupMobileClass",(function(){return A}));var r=n(0);const o={},i=(e,t)=>{let n=(e.match(t)||[])[1]||"";return n=n.split(/[._]/g),{build:parseInt(n[2]||-1,10),major:parseInt(n[0]||-1,10),minor:parseInt(n[1]||-1,10)}},a=()=>{const e=navigator.userAgent;o.ua=e,o.isWindows=Boolean(e.match(/Windows Phone|iemobile|WPDesktop/i));try{o.isIPad=(Boolean(e.match(/iPad/i))||"iPad"===navigator.platform||"MacIntel"===navigator.platform&&"ontouchend"in document)&&!o.isWindows}catch(e){o.isIPad=!1}o.isIDevice=(Boolean(e.match(/(iPad|iPhone|iPod)/i))||o.isIPad)&&!o.isWindows,o.isIPhone=Boolean(e.match(/iPhone/i))&&!o.isWindows,o.isAndroid=Boolean(e.match(/Android/i))&&!o.isWindows,o.isChrome=Boolean(e.match(/Chrome/i)),o.isFirefox=Boolean(e.match(/Firefox/i)),o.isKindleSilk=Boolean(e.match(/Silk|Kindle/i)),o.isAndroidPhone=o.isAndroid&&Boolean(e.match(/Mobile/i)),o.isAndroidTablet=o.isAndroid&&!Boolean(e.match(/Mobile/i)),o.isMobile=o.isIDevice||o.isAndroid||o.isWindows,o.isAndroidStock=o.isAndroid&&!o.isChrome&&!o.isFirefox&&!o.isKindleSilk;try{o.isIDevice?(o.mobileName=e.match(/(iPad|iPhone|iPod)/i)?e.match(/(iPad|iPhone|iPod)/i)[0]:"iPad",o.mobileVersion=i(e,/OS ((?:\d+[._]?)+)/i)):o.isAndroid?(o.mobileName="Android",o.mobileVersion=i(e,/Android ((?:\d+[._]?)+)/i)):o.isWindows?(o.mobileName="Windows Phone",o.mobileVersion=i(e,/Windows Phone ((?:\d+[._]?)+)/i)):(o.mobileName=null,o.mobileVersion={build:-1,major:-1,minor:-1})}catch(e){r.logger.error("Failed to parse mobile name and version",e),o.mobileName="unknown"}},s=()=>o.isWindows,c=()=>o.isIDevice,l=()=>o.isIPhone,u=()=>o.isIPad,d=()=>o.isAndroid,f=()=>o.isChrome,p=()=>o.isFirefox,m=()=>o.isKindleSilk,h=()=>o.isAndroidPhone,_=()=>o.isAndroidTablet,g=()=>o.isMobile,E=()=>o.isAndroidStock,v=()=>o.mobileVersion,y=()=>{if(r.logger.warn('"getZoom" function has been deprecated as it does not provide reliable values'),screen.deviceXDPI&&screen.logicalXDPI)return screen.deviceXDPI/screen.logicalXDPI;if(document.width)return document.width/window.innerWidth;if(screen.width&&window.innerWidth)return screen.width/window.innerWidth;return Math.max(document.documentElement.clientWidth,document.body.offsetWidth,document.body.scrollWidth)/(window.innerWidth||document.documentElement.clientWidth)},b=()=>y()>1,w=()=>window.matchMedia?window.matchMedia("(orientation:landscape)").matches:(window.innerWidth||document.documentElement.clientWidth)>(window.innerHeight||document.documentElement.clientHeight),O=()=>!w(),I=()=>{document.body.style.overflow="auto",document.ontouchmove=()=>!0},S=()=>{document.body.style.overflow="hidden",document.ontouchmove=e=>e.preventDefault()},A=()=>{if(r.logger.warn('"setupMobileClass" has been deprecated and "features detection" should be prefered over "device detection"'),o.mobileName){const e=o.mobileName.toLowerCase().replace(/ /,"-");document.body.classList.add(e)}},T=e=>(setTimeout(e,400),e());try{a(),o.isAndroidStock&&(r.logger.debug("Executing Android Stock browser Orientation bug fix"),window.addEventListener("orientationchange",(()=>{const e=document.querySelector("meta[name=viewport]");if(e){const t=e.getAttribute("content");e.setAttribute("content","width=10000, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"),setTimeout((()=>{e.setAttribute("content",t)}),0)}})))}catch(e){r.logger.error("Error parsing user agent",e)}const C={deviceData:o,disableScroll:S,enableScroll:I,getMobileVersion:v,getZoom:y,isAndroid:d,isAndroidPhone:h,isAndroidStock:E,isAndroidTablet:_,isChrome:f,isFirefox:p,isIDevice:c,isIPad:u,isIPhone:l,isKindleSilk:m,isLandscape:w,isMobile:g,isPortrait:O,isWindows:s,isZoomed:b,onTouchEnd:T,parseUserAgent:a,setupMobileClass:A};t.default=C},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(1),o=n(0);const i=()=>{const{isPaywalled:e,hasBeenPaywalled:t,pageType:n}=Object(r.getPageCriteria)(),o=window.getIsPaywallEligible&&window.getIsPaywallEligible();if("article"===n)return e||t?!e&&t?"hasBeenPaywalled":e&&!o?"isPaywalledForOthers":e&&o?"isPaywalled":"invalid":"none"},a=()=>{try{if(window.getIsPaywallSubscriber&&window.getIsPaywallSubscriber())return"subscriber";if(window.DM.isLoggedIn)return"registered"}catch(e){o.logger.error("Error determining user paywall status",e)}return"none"},s=()=>{try{return window.getPaywallEntitlements&&window.getPaywallEntitlements()||null}catch(e){o.logger.error("Error determining user paywall entitlements",e)}return null}},function(e,t,n){var r=n(59),o=n(37);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?o(n,l,u):r(n,l,u)}return n}},function(e,t,n){var r=n(30)(Object.keys,Object);e.exports=r},function(e,t,n){"use strict";var r=n(7);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,a,s,c){var l=Object.create(i);return r.toFlatObject(e,l,(function(e){return e!==Error.prototype})),o.call(l,e.message,t,n,a,s),l.name=e.name,c&&Object.assign(l,c),l},e.exports=o},function(e,t,n){"use strict";t.a=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(28);t.a=function(e,t){const n=Object.keys(t).filter((n=>{let a=!1;return i.a[n]?(o.a.subscribe(i.a[n],t[n]),a=!0):r.logger.error(`${e}: Subscribing to invalid event ${n}`),a}));r.logger.debug(`${e}: successfully loaded`,n)}},function(e,t,n){e.exports=n(166)},function(e,t,n){"use strict";n.r(t),n.d(t,"getExperiments",(function(){return d})),n.d(t,"getStickyNumber",(function(){return l}));const r={articleTruncationReadNext:{criteriaCheck:e=>!["US","GB","AU"].includes(e.geo)||location.search.includes("debugSkipArticleTruncationReadNextGeoCheck=true"),percentage:.5},morePaywalledRelatedReplace:{criteriaCheck:()=>window.getIsPaywallEligible&&window.getIsPaywallEligible(),percentage:.05}},o="mol-fe-multivariant-",i=e=>{try{if(!("localStorage"in window))return null;const t=window.localStorage.getItem(`${o}${e}`);if(t)return JSON.parse(t)}catch(e){}return null},a=1e6,s="numbers",c=(e,t)=>{let n=i(s);n&&"object"==typeof n||(n={}),n[e]=t,((e,t)=>{try{if(!("localStorage"in window))return;window.localStorage.setItem(`${o}${e}`,JSON.stringify(t))}catch(e){}})(s,n)},l=e=>{if(!e)return console.error("[mol-fe-multivariant]","Tried to get sticky number for falsy experimentName"),null;const t=(e=>{try{const t=new URLSearchParams(location.search),n=`debugMV_${e}`,r=t.get(n);if(r)return Number(r)}catch(e){}return null})(e);if("number"==typeof t)return c(e,t),t;const n=(e=>{const t=i(s);return t&&"object"==typeof t&&"number"==typeof t[e]?t[e]:null})(e);if("number"==typeof n)return n;const r=Math.floor(Math.random()*a);return c(e,r),r};let u=null;const d=(e=null)=>{const{renderPlatform:t}=e||window.DM.getPageMetadata(),{geo:n}=e||window.PageCriteria,o={geo:n,renderPlatform:t};if(!u){u=[];const e=Object.keys(r);for(const t of e){const{criteriaCheck:e,percentage:n,subSegments:i}=r[t];if(!e||Boolean(e(o))){const e=l(t),r=i?i.length:1,o=a*n*r;if(e<o)if(i){const n=i[Math.floor(e/o*i.length)];u.push(`${t}${n}`)}else u.push(t);else e>=o&&e<a*n*(r+1)&&u.push(`${t}Control`)}}}return u||null}},function(e,t,n){"use strict";n.r(t),n.d(t,"getItem",(function(){return o})),n.d(t,"setItem",(function(){return i})),n.d(t,"removeItem",(function(){return a})),n.d(t,"createLocalStorage",(function(){return c})),n.d(t,"LocalStorage",(function(){return s}));var r=n(0);const o=e=>{try{if(!("localStorage"in window))return null;const t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){r.logger.error(e)}return null},i=(e,t)=>{try{if(!("localStorage"in window))return;window.localStorage.setItem(e,JSON.stringify(t))}catch(e){r.logger.error(e)}},a=e=>{try{if(!("localStorage"in window))return;window.localStorage.removeItem(e)}catch(e){r.logger.error(e)}};class s{constructor(e){this.namespace=e,this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this),this.removeItem=this.removeItem.bind(this),this.clear=this.clear.bind(this)}getItem(e){return o(`${this.namespace}${e}`)}setItem(e,t){return i(`${this.namespace}${e}`,t)}removeItem(e){return a(`${this.namespace}${e}`)}clear(){try{if(!("localStorage"in window))return;Object.keys(window.localStorage).filter((e=>e.startsWith(this.namespace))).forEach((e=>window.localStorage.removeItem(e)))}catch(e){r.logger.error(e)}}}const c=e=>new s(e)},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(68),o=n(136);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const r="mol-fe-puzzle-tracking",o=()=>{try{return JSON.parse(window.localStorage.getItem(r))}catch(e){}return null},i=e=>{try{window.localStorage.setItem(r,JSON.stringify(e))}catch(e){}},a=()=>{try{const e=o();if(!e)return void i({first:Date.now(),last:Date.now()});i({...e,last:Date.now()})}catch(e){}},s=()=>{try{const e=o();if(!e)return"undefined";return e.last-e.first>=72e5?"repeat player":"first time player"}catch(e){}return"undefined"}},function(e,t,n){"use strict";t.a={AD_BILLBOARD_CLOSED:"ad_billboard-closed",AD_SLOT_LOADED_ON_PAGE:"adslot.loaded_on_page",AFFILIATE_CAROUSEL_CLICK:"affiliate.carousel_click",AFFILIATE_CAROUSEL_IMPRESSION:"affiliate.carousel_impression",AFFILIATE_CAROUSEL_VIEWABLE:"affiliate.carousel_viewable",ARTICLE_HERO_AUTHOR_TWITTER_LINK_CLICK:"article_hero.author_twitter_link_click",ARTICLE_HERO_LOZENGE_LINK_CLICK:"article_hero.lozenge_link_click",ARTICLE_PREVIEW_XP_CLICK:"article.preview.xp.click",ARTICLE_PREVIEW_XP_IMPRESSION:"article.preview.xp.impression",ARTICLE_PREVIEW_XP_VIEWABLE:"article.preview.xp.viewable",ARTICLE_RECOMMENDATION_XP_CLICK:"article.recommendation.xp.click",ARTICLE_RECOMMENDATION_XP_IMPRESSION:"article.recommendation.xp.impression",ARTICLE_RECOMMENDATION_XP_VIEWABLE:"article.recommendation.xp.viewable",ARTICLE_TRUNCATION_EXPAND:"article.truncation.expand",ARTICLE_TRUNCATION_INELIGIBLE:"article.truncation.ineligible",ARTICLE_TRUNCATION_READ_NEXT:"article.truncation.read_next",ARTICLE_TRUNCATION_TRUNCATE:"article.truncation.truncate",ARTICLE_TRUNCATION_VIEWABLE:"article.truncation.viewable",BF_BUY_NOW_CAROUSEL_CLICKED:"bf.buy_now_carousel_clicked",BF_BUY_NOW_HEADER_CLICKED:"bf.buy_now_header_clicked",BF_CAROUSEL_IN_VIEW:"bf.carousel_in_view",BF_CAROUSEL_ROTATE_CLICKED:"bf.carousel_clicked",BF_IMPRESSION:"bf.impression",BF_SHOW_MORE_CLICKED:"bf.show_more_clicked",CMP_LEVEL_ONE_ACCEPT:"cmp.cmp_level_1_accept",CMP_LEVEL_ONE_CONVERSION:"cmp.cmp_level_1_conversion",CMP_LEVEL_ONE_LOGIN:"cmp.cmp_level_1_login",CMP_LEVEL_ONE_PRIVACY_SETTINGS:"cmp.cmp_level_1_privacy_settings",CMP_LEVEL_ONE_SUBSCRIBE:"cmp.cmp_level_1_subscribe",CMP_LEVEL_TWO_CONVERSION:"cmp.cmp_level_2_conversion",CMP_LEVEL_TWO_SAVE_EXIT:"cmp.cmp_level_2_save_exit",CMP_LEVEL_TWO_SUBSCRIBE:"cmp.cmp_level_2_subscribe",COMMENT_CTA_CLICK:"commentcta.click",COMMENT_CTA_IMPRESSION:"commentcta.impression",COMMENTS_ADD_COMMENT_CLICK:"comments.add-comment-click",COMMENTS_CLEAR:"comments.clear",COMMENTS_DOWNVOTE:"comments.downvote",COMMENTS_IMPRESSION:"comments.impression",COMMENTS_LOAD_TIME:"comments.load-time",COMMENTS_LOGIN_REDIRECT:"comments.login-redirect",COMMENTS_NEW_COMMENT_CLICK:"comments.new-comment-click",COMMENTS_OVERLAY_CLOSE:"comments.overlay-close",COMMENTS_OVERLAY_OPEN:"page.comments-overlay-open",COMMENTS_PAGINATION_CLICK:"comments.pagination-click",COMMENTS_PROFILE_CLICK:"comments.profile-click",COMMENTS_REPLY_CLICK:"comments.reply-click",COMMENTS_REPLY_SUBMIT:"comments.reply-submit",COMMENTS_REPORT_CLICK:"comments.report-click",COMMENTS_SHOW_MORE_CLICK:"comments.show-more-click",COMMENTS_SUBMIT_COMMENT:"comments.submit-comment",COMMENTS_SUBMIT_SUCCESS:"comments.submit-success",COMMENTS_UPVOTE:"comments.upvote",COMMENTS_VIEW_ALL:"comments.view-all",COMMERCE_XP_CLICK:"commerce_xp.click",COMMERCE_XP_IMPRESSION:"commerce_xp.impression",COMMERCE_XP_VIEW_MORE:"commerce_xp.view_more",COMMERCE_XP_VIEWABLE:"commerce_xp.viewable",COMPANY_REVIEW_IMPRESSION:"company_review.impression",COMPANY_REVIEW_LEARN_MORE_CLICKED:"company_review.learn_more_clicked",COMPANY_REVIEW_LESS_CONTENT_CLICKED:"company_review.less_content_clicked",COMPANY_REVIEW_MORE_CONTENT_CLICKED:"company_review.more_content_clicked",CONTACT_FORM_CAPTCHA_VALID:"mol_fe_contact_form.captcha-valid",CONTACT_FORM_FILE_ADDED:"mol_fe_contact_form.file-added",CONTACT_FORM_FILE_ERROR_CLIENT:"mol_fe_contact_form.file-error-client",CONTACT_FORM_FILE_ERROR_SERVER:"mol_fe_contact_form.file-error-server",CONTACT_FORM_SUBMIT_CLICK:"mol_fe_contact_form.submit-click",CONTACT_FORM_SUBMIT_ERROR:"mol_fe_contact_form.submit-error",CONTACT_FORM_SUBMIT_SUCCESS:"mol_fe_contact_form.submit-success",DESKTOP_HOME_PAGE_OVERLAY:"page.desktop_home_page_overlay",ERROR_RENDER_STARTED:"error-page.render-started",ESSENTIAL_ACCOUNT_LINK_COMPLETE:"cmp.essential_account_link_complete",ESSENTIAL_ACCOUNT_LINK_HELP_CLICK:"cmp.essential_account_link_help_click",ESSENTIAL_ACCOUNT_LINK_PROMPT:"cmp.essential_account_link_prompt",ESSENTIAL_ACCOUNT_LINK_RESEND:"cmp.essential_account_link_resend_email_click",ESSENTIAL_RESTORE_PURCHASE_CLICK:"cmp.essential_restore_purchase_click",FACTBOX_READ_MORE_CLICK:"factbox.read-more-click",FEATURE_ARTICLE:"page.feature_article",FFF_BUY_ACCESSORY_CLICKED:"fff.buy-accessory-clicked",FFF_BUY_MAIN_CLICKED:"fff.buy-main-clicked",FFF_BUY_RELATED_CLICKED:"fff.buy-related-clicked",FFF_BUY_TRENDING_CLICKED:"fff.buy-trending-clicked",FFF_CAROUSEL_CLICKED:"fff.carousel-clicked",FFF_CONTENT_VIEWED:"fff.content-viewed",FFF_HUB_SEARCHED:"fff.hub-searched",FFF_LINK_TO_AFFILIATE_CLICKED:"fff.affiliate-clicked",FFF_LINK_TO_ARTICLE_CLICKED:"fff.link-to-article-clicked",FFF_LINK_TO_HUB_CLICKED:"fff.link-to-hub-clicked",FFF_OVERLAY_CLOSED:"fff.overlay-closed",FFF_SOCIAL_CLICKED:"fff.social-clicked",FIDELITY_CAMPAIGN_EVENT:"fidelity-campaign.event",FIREWORK_VIDEO_CAROUSEL_ERROR:"firework-video-carousel.error",FIREWORK_VIDEO_CAROUSEL_IMPRESSION:"firework-video-carousel.impression",FIREWORK_VIDEO_CAROUSEL_PLAYER_NAVIGATION:"firework-video-carousel.player-navigation",FIREWORK_VIDEO_CAROUSEL_PLAYER_QUIT:"firework-video-carousel.player-quit",FIREWORK_VIDEO_CAROUSEL_PLAYER_TRANSITION:"firework-video-carousel.player-transition",FIREWORK_VIDEO_CAROUSEL_READY:"firework-video-carousel.ready",FIREWORK_VIDEO_CAROUSEL_THUMBNAIL_CLICK:"firework-video-carousel.thumbnail-click",FIREWORK_VIDEO_CAROUSEL_VIDEO_CLICK_CTA:"firework-video-carousel.video-click-cta",FIREWORK_VIDEO_CAROUSEL_VIDEO_CLICK_SHARE:"firework-video-carousel.video-click-share",FIREWORK_VIDEO_CAROUSEL_VIDEO_COMPLETE:"firework-video-carousel.video-complete",FIREWORK_VIDEO_CAROUSEL_VIDEO_FIRST_QUARTILE:"firework-video-carousel.video-first-quartile",FIREWORK_VIDEO_CAROUSEL_VIDEO_IMPRESSION:"firework-video-carousel.video-impression",FIREWORK_VIDEO_CAROUSEL_VIDEO_MID_POINT:"firework-video-carousel.video-mid-point",FIREWORK_VIDEO_CAROUSEL_VIDEO_SESSION:"firework-video-carousel.video-session",FIREWORK_VIDEO_CAROUSEL_VIDEO_START:"firework-video-carousel.video-start",FIREWORK_VIDEO_CAROUSEL_VIDEO_THIRD_QUARTILE:"firework-video-carousel.video-third-quartile",FLOATING_BUTTONS_BACK_TO_TOP:"back-to-top",FOR_YOU_SAVE_PREFERENCES_CLICK:"for-you.save_preferences_click",FRAGMENT_LOADED:"page.fragment-loaded",GALLERY_ADVERT_STATS:"gallery.advert-stats",GALLERY_ADVERT_VIEWED:"gallery.advert.viewed",GALLERY_CLOSED:"gallery.closed",GALLERY_IMAGE_VIEWED:"gallery.image-viewed",GALLERY_OPENED:"gallery.opened",GDPR_EMBEDDED_VIDEO_ACCEPTED:"gdpr.embedded_video_accepted",GDPR_EMBEDDED_VIDEO_DISPLAYED:"gdpr.embedded_video_displayed",GDPR_EMBEDDED_VIDEO_SETTINGS:"gdpr.embedded_video_settings",GDPR_MOBILE_HOME_ACCEPTED:"gdpr.mobile_home_accepted",GDPR_MOBILE_HOME_DISPLAYED:"gdpr.mobile_home_displayed",GDPR_MOBILE_HOME_SETTINGS:"gdpr.mobile_home_settings",GDPR_OVERLAY_ACCEPT_BY_CLICK_SITE:"gdpr.overlay_accept_by_click_site",GDPR_OVERLAY_ACCEPTED:"gdpr.overlay_accepted",GDPR_OVERLAY_DISPLAYED:"gdpr.overlay_displayed",GDPR_OVERLAY_PRIVACY:"gdpr.overlay_privacy",GDPR_SETTINGS_ADVERTISING_ALLOW_ALL:"gdpr.settings_advertising_allow_all",GDPR_SETTINGS_ADVERTISING_LINK_CLICKED:"gdpr.settings_advertising_link_clicked",GDPR_SETTINGS_ADVERTISING_TAB_CLICKED:"gdpr.settings_advertising_tab_clicked",GDPR_SETTINGS_CONFIRMATION_ALLOW:"gdpr.settings_confirmation_allow",GDPR_SETTINGS_CONFIRMATION_DISALLOW:"gdpr.settings_confirmation_disallow",GDPR_SETTINGS_DISALLOW_ADVERTISING_PARTNERS:"gdpr.settings_disallow_advertising_partners",GDPR_SETTINGS_FUNCTION_ALLOW_ALL:"gdpr.settings_function_allow_all",GDPR_SETTINGS_FUNCTION_TAB_CLICKED:"gdpr.settings_function_tab_clicked",GDPR_SETTINGS_POLICY_LINK_CLICKED:"gdpr.settings_policy_link_clicked",GEO_TARGETED_HOMEPAGE_XP_CLICK:"geo.targeted.homepage.xp.click",GEO_TARGETED_HOMEPAGE_XP_IMPRESSION:"geo.targeted.homepage.xp.impression",GEO_TARGETED_HOMEPAGE_XP_VIEWABLE:"geo.targeted.homepage.xp.viewable",GUESTBOOK_IMPRESSION:"guestbook.impression",GUESTBOOK_LOADING_ERROR:"guestbook.loading_error",GUESTBOOK_SUBMIT_ERROR:"guestbook.submit_error",GUESTBOOK_SUBMIT_SUCCESS:"guestbook.submit_success",IFRAME_EMAIL_IMPRESSION:"iframe.email.impression",IFRAME_EMAIL_SUBMIT:"iframe.email.submit",IFRAME_EMAIL_SUBMIT_NO_EMAIL:"iframe.email.submit_no_email",IFRAME_EMAIL_VIEWABLE:"iframe.email.viewable",LINK_CLICK:"link.click",MASTHEAD_CLICK:"masthead_click",MOBILE_HOME_PAGE_NAV:"page.mobile_home_page_nav",MOBILE_HOME_PAGE_OVERLAY:"page.mobile_home_page_overlay",MOBILE_HOME_PAGE_SIGNPOST_CLICK:"page.mobile_home_page_signpost_click",MOBILE_HOME_PAGE_SIGNPOST_DISMISS:"page.mobile_home_page_signpost_dismiss",MOBILE_HOME_PAGE_SIGNPOST_DISPLAY:"page.mobile_home_page_signpost_display",MOBILE_HOME_PAGE_SWIPE:"page.mobile_home_page_swipe",MOBILE_HOME_PAGE_VIEW:"page.mobile_home_page_view",MOBILE_MENU_COMMENT:"menu.mobile_menu_comment",MOBILE_MENU_DESKTOP_SITE:"menu.mobile_menu_desktop_site",MODULE_IMPRESSION:"module.impression",MODULE_INTERACT:"module.interact",MODULE_VIEW:"module.view",MOST_COMMENTED_ARTICLE_CLICKED:"page.most_commented_article_clicked",MOST_COMMENTED_CLOSE_CLICKED:"page.most_commented_close_clicked",MOST_COMMENTED_RADIO_CLICKED:"page.most_commented_radio_clicked",MOST_COMMENTED_SHOWMORE_CLICKED:"page.most_commented_showmore_clicked",NEWSLETTER_ERROR:"newsletter.error",NEWSLETTER_POPUP_SHOW:"newsletter-popup.show",NEWSLETTER_POPUP_SUBMIT:"newsletter-popup.submit",NEWSLETTER_PRIVACY_CLICK:"newsletter-privacy.click",NEWSLETTER_SHOW:"newsletter.show",NEWSLETTER_SUBMIT:"newsletter.submit",NEWZIT_NOTIFICATION_PROMO_CLOSE:"newzit-notification-promo.close",NEWZIT_NOTIFICATION_PROMO_OPEN:"newzit-notification-promo.open",OPENWEB_DELETE_MESSAGE:"openweb.delete_message",OPENWEB_DOWNVOTE:"openweb.downvote",OPENWEB_EDIT_MESSAGE:"openweb.edit_message",OPENWEB_FLOATING_CLICK:"openweb.floating_click",OPENWEB_FLOATING_DISMISS:"openweb.floating_dismiss",OPENWEB_IMPRESSION:"openweb.impression",OPENWEB_LOAD_ERROR:"openweb.load_error",OPENWEB_LOAD_TIME:"openweb.load_time",OPENWEB_LOGIN_START:"openweb.login_start",OPENWEB_OPEN_PROFILE:"openweb.open_profile",OPENWEB_POST_LOGIN_SUCCESS:"openweb.post_login_success",OPENWEB_SEND_FAIL:"openweb.send_fail",OPENWEB_SEND_SUCCESS:"openweb.send_success",OPENWEB_SHARE_TYPE:"openweb.share_type",OPENWEB_SORT_OPEN:"openweb.sort_open",OPENWEB_SORT_SELECT:"openweb.sort_select",OPENWEB_UPVOTE:"openweb.upvote",OPENWEB_VIEWABLE:"openweb.viewable",PAGE_AD_DISPLAYED:"page.ad-displayed",PAGE_AD_ERRORS:"page.ad-errors",PAGE_AD_STATS:"page.ad-stats",PAGE_AUTOREFRESH_EVENT:"page.autorefresh-event",PAGE_COMMENT_FUNNEL_PROGRESSED:"page.comment-funnel-progressed",PAGE_COMMENT_TAB_SWAPPED:"page.comment-tab-swapped",PAGE_EXTERNAL_LINK_CLICKED:"page.external-link-clicked",PAGE_EXTERNAL_LINK_CLICKED_GA:"page.external-link-clicked-ga",PAGE_FOOTBALL_FIXTURES_TAB_SWAPPED:"page.football-fixtures-tab-swapped",PAGE_FURNITURE_CLICKED:"page.furniture-clicked",PAGE_IMAGE_ENLARGED:"page.image-enlarged",PAGE_LOGIN_BUTTON_CLICKED:"page.login-button-clicked",PAGE_LOGIN_OPENED:"page.login-opened",PAGE_MOBILE_TAB_CHANGE:"page.mobile.tab.change",PAGE_MODULE_CLICKED:"page.module-clicked",PAGE_NEWSLETTERS_OPENED:"page.newsletters-opened",PAGE_RENDER_STARTED:"page.render-started",PAYWALL_ACCOUNT_LINK_COMPLETE:"paywall.account-link-complete",PAYWALL_ACCOUNT_LINK_HELP:"paywall.account-link-help",PAYWALL_ACCOUNT_LINK_PROMPT:"paywall.account-link-prompt",PAYWALL_ACCOUNT_LINK_RESEND:"paywall.account-link-resend",PAYWALL_CONVERSION:"paywall.conversion",PAYWALL_CONVERSION_BANNER:"paywall.conversion-banner",PAYWALL_CONVERSION_PROFILE:"paywall.conversion-profile",PAYWALL_HOMEMODULE_ARTICLE_CLICK:"paywall.homemodule-article-click",PAYWALL_HOMEMODULE_ARTICLE_COMMENTS_CLICK:"paywall.homemodule-article-comments-click",PAYWALL_HOMEMODULE_CHANNEL_CLICK:"paywall.homemodule-channel-click",PAYWALL_HOMEMODULE_SIGNUP_CLICK:"paywall.homemodule-signup-click",PAYWALL_IMPRESSION:"paywall.impression",PAYWALL_LOGIN_CLICK:"paywall.login-click",PAYWALL_MASTHEAD_ARTICLE_CLICK:"paywall.masthead-article-click",PAYWALL_MASTHEAD_SIGNUP_CLICK:"paywall.masthead-signup-click",PAYWALL_MASTHEAD_SUBSCRIBED_CLICK:"paywall.masthead-subscribed-click",PAYWALL_PROFILE_SIGNUP_CLICK:"paywall.profile-signup",PAYWALL_RESTORE_PURCHASE_CLICK:"paywall.restore-purchase-click",PAYWALL_SIGN_UP:"paywall.signup",PAYWALL_VIEWABLE:"paywall.viewable",PAYWALL_ZEPHR_FAIL_OPEN:"paywall.zephr-fail-open",PRODUCT_BUTTON_LINK:"product.button-link",PRODUCT_IMAGE_LINK:"product.image-link",PRODUCT_PRICE_LINK:"product.price-link",PRODUCT_TITLE_LINK:"product.title-link",PROMOTIONAL_SLOT_EVENT:"promotional.slot-event",PROMOTIONS_XP_CLICK:"promotions.xp.click",PROMOTIONS_XP_IMPRESSION:"promotions.xp.impressions",PROMOTIONS_XP_VIEW_MORE:"promotions.xp.view.more",PROMOTIONS_XP_VIEWABLE:"promotions.xp.viewable",PUZZLE_COMPLETE:"puzzle.complete",PUZZLE_STARTED:"puzzle.started",RC_TAB_SELECT:"rc.tab_select",RELATED_REPLACE_CLICK:"related-replace.click",RELATED_REPLACE_IMPRESSION:"related-replace.impression",RELATED_REPLACE_VIEWABLE:"related-replace.viewable",REMIXD_COMPLETE:"remixd.complete",REMIXD_ERROR:"remixd.error",REMIXD_IMPRESSION:"remixd.impression",REMIXD_MUTE:"remixd.mute",REMIXD_PAUSE:"remixd.pause",REMIXD_PLAY:"remixd.play",SAFARI_NEWSLETTER_BAD_SUBMIT:"safari-newsletter.bad-submit",SAFARI_NEWSLETTER_CONFIRM:"safari-newsletter.confirm",SAFARI_NEWSLETTER_DISMISS:"safari-newsletter.dismiss",SAFARI_NEWSLETTER_SHOW:"safari-newsletter.show",SAFARI_NEWSLETTER_SUBMIT:"safari-newsletter.submit",SCREENSAVER_DOWNLOADED:"page.screensaver_downloaded",SITE_SEARCH:"site-search",SMART_BANNER_CLICKED:"smart-banner.clicked",SMART_BANNER_SHOWN:"smart-banner.shown",SOCIAL_BUTTON_CLICKED:"social.button-clicked",SOCIAL_LIGHTBOX_BUTTON_CLICKED:"social.lightbox-button-clicked",SOCIAL_SHARE_CLICKED:"social.share-clicked",SOCIAL_SHARE_COMMENTS:"social_share.comments",SWIPE_BAR_SHOWN:"swipe_bar.shown",SWIPE_TUTORIAL_CLOSE:"swipe_tutorial.close",SWIPE_TUTORIAL_SHOWN:"swipe_tutorial.shown",SYNDSHARE_POST:"page.syndshare_post",TIM_AFFILIATE_BOTTOM_LINK_CLICKED:"timAffiliate.bottom_link_clicked",TIM_AFFILIATE_IMPRESSION:"timAffiliate.impression",TIM_AFFILIATE_LEARN_MORE_CLICKED:"timAffiliate.learn_more_clicked",TIM_ANCHOR_LINK_CLICKED:"tim.anchor.link-clicked",TOAST_OVERLAY_CLICK:"toast-overlay.click",TOAST_OVERLAY_DISMISS:"toast-overlay.dismiss",TOAST_OVERLAY_VIEW:"toast-overlay.view",TOP_STORIES_XP_CLICK:"top.stories.xp.click",TOP_STORIES_XP_IMPRESSION:"top.stories.xp.impression",TOP_STORIES_XP_VIEW_MORE:"top.stories.xp.view.more",TOP_STORIES_XP_VIEWABLE:"top.stories.xp.viewable",USER_AUTH_SITE_REG_ERROR_ONCE:"user_auth.site-reg-error-once",VIDEO_ADVERT_ABORTED:"video.advert-aborted",VIDEO_ADVERT_COMPLETED:"video.advert-completed",VIDEO_ADVERT_FAILED:"video.advert-failed",VIDEO_ADVERT_IMPRESSION:"video.ad-impression",VIDEO_ADVERT_NOT_SHOWN:"video.no-ad-shown",VIDEO_ADVERT_STARTED:"video.advert-started",VIDEO_BRANDED_CONTENT_PROGRESS:"video.branded-content.progress",VIDEO_CAROUSEL_CLICK:"video.carousel-click",VIDEO_CAROUSEL_CLICKED:"video.carousel-clicked",VIDEO_CAROUSEL_SWIPE:"video.carousel-swipe",VIDEO_CLICKED:"video.clicked",VIDEO_CONFIG_CHANGE:"page.video-config-change",VIDEO_CONTENT_ABORTED:"video.content-aborted",VIDEO_CONTENT_COMPLETED:"video.content-completed",VIDEO_CONTENT_STARTED:"video.content-started",VIDEO_DATA_READY:"video.data-ready",VIDEO_EXTRA:"extra",VIDEO_FULLSCREEN_CHANGE:"video.fullscreen-change",VIDEO_PAUSED:"video.paused",VIDEO_PLAYER_READY:"video.player-ready",VIDEO_PROGRESS:"video.progress",VIDEO_RESUMED:"video.resumed",VIDEO_STREAM_FAILED:"video.stream-failed",VIDEO_STREAM_STARTED:"video.stream-started",VIDEO_THUMBNAIL_CLICK:"video.thumbnail-click",VIDEO_VOLUME_CHANGE:"video.volume-change",WEB_PULL_NOTIFICATION_CLICK:"web-pull.notification-click",WEB_PUSH_NOTIFICATION_CLICK:"web-push.notification-click",WEB_PUSH_PRE_PROMPT_CLICK:"web-push.pre-prompt-click",WEB_PUSH_PRE_PROMPT_IMPRESSION:"web-push.pre-prompt-impression",WEB_PUSH_PROMPT_CLICK:"web-push.prompt-click",WEB_PUSH_PROMPT_IMPRESSION:"web-push.prompt-impression",WEB_SEARCH:"web-search",XP_POLLS_CLICK:"xp.polls.click",XP_POLLS_IMPRESSION:"xp.polls.impression",XP_POLLS_SUBSCRIBED:"xp.polls.subscribed",XP_POLLS_VIEW:"xp.polls.show",XP_POLLS_VOTED:"xp.polls.voted"}},function(e,t,n){var r=n(36);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";var r=n(19);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(7).inherits(o,r,{__CANCEL__:!0}),e.exports=o},function(e,t,n){var r=n(10),o=n(140),i=n(141),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,f,p,m=0,h=!1,_=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var n=c,r=l;return c=l=void 0,m=t,d=e.apply(r,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||_&&e-m>=u}function y(){var e=o();if(v(e))return b(e);f=setTimeout(y,function(e){var n=t-(e-p);return _?s(n,u-(e-m)):n}(e))}function b(e){return f=void 0,g&&c?E(e):(c=l=void 0,d)}function w(){var e=o(),n=v(e);if(c=arguments,l=this,p=e,n){if(void 0===f)return function(e){return m=e,f=setTimeout(y,t),h?E(e):d}(p);if(_)return clearTimeout(f),f=setTimeout(y,t),E(p)}return void 0===f&&(f=setTimeout(y,t)),d}return t=i(t)||0,r(n)&&(h=!!n.leading,u=(_="maxWait"in n)?a(i(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==f&&clearTimeout(f),m=0,c=p=l=f=void 0},w.flush=function(){return void 0===f?d:b(o())},w}},function(e,t,n){"use strict";n.r(t);var r=n(54),o=n.n(r);n.d(t,"after",(function(){return o.a}));var i=n(56),a=n.n(i);n.d(t,"clone",(function(){return a.a}));var s=n(66),c=n.n(s);n.d(t,"compact",(function(){return c.a}));var l=n(67),u=n.n(l);n.d(t,"contains",(function(){return u.a}));var d=n(32),f=n.n(d);n.d(t,"debounce",(function(){return f.a}));var p=n(70),m=n.n(p);n.d(t,"each",(function(){return m.a}));var h=n(72),_=n.n(h);n.d(t,"extend",(function(){return _.a}));var g=n(74),E=n.n(g);n.d(t,"filter",(function(){return E.a}));var v=n(42),y=n.n(v);n.d(t,"forEach",(function(){return y.a}));var b=n(76),w=n.n(b);n.d(t,"has",(function(){return w.a}));var O=n(77),I=n.n(O);n.d(t,"get",(function(){return I.a}));var S=n(78),A=n.n(S);n.d(t,"isEmpty",(function(){return A.a}));var T=n(10),C=n.n(T);n.d(t,"isObject",(function(){return C.a}));var L=n(18),P=n.n(L);n.d(t,"keys",(function(){return P.a}));var R=n(81),N=n.n(R);n.d(t,"map",(function(){return N.a}));var M=n(82),D=n.n(M);n.d(t,"throttle",(function(){return D.a}));var k=n(83),x=n.n(k);n.d(t,"merge",(function(){return x.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(4),o=n.n(r),i=n(1);const a=()=>{const e=o.a.get("mol-home"),{renderPlatform:t}=Object(i.getPageMetadata)();return"mobile"===t||e?"-no-overlay":""},s=()=>{const e=a();try{const t=o.a.get("mol-home");if(t)return`${t}${e}`}catch(e){}return e?`undefined${e}`:null},c=e=>{try{if(!("localStorage"in window))return null;const t=window.localStorage.getItem(`mol-fe-home-channel-${e}`);if(t)return JSON.parse(t)}catch(e){}return null},l=()=>c("signpost-last")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={};n.r(r),n.d(r,"getConfig",(function(){return s}));var o=n(51),i=n(2),a=n(9);const s=()=>new Promise((e=>{Object(i.later)("GA_CONFIG_READY",(()=>{e(Object(a.getConfig)("GA_CONFIG_PROPS"))}))}))},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(118);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(123),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(58),o=n(43),i=n(145),a=n(15);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){var r=n(142),o=n(144)(r);e.exports=o},function(e,t,n){"use strict";(function(t){var r=n(7),o=n(172),i=n(19),a=n(88),s=n(89),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,d={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(u=n(90)),u),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===a){var c=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,c&&new c)}return i||"application/json"===a?(l(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(184)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(c)})),e.exports=d}).call(this,n(171))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.goBack=t.setHash=t.scrollByPages=t.scrollByLines=t.scrollBy=t.scroll=t.doScroll=t.setScrollLeft=t.getScrollLeft=t.setScrollTop=t.getScrollTop=t.scrollToElementIfNeeded=t.scrollToElement=t.scrollTo=t.createInteractionMethod=void 0;var r=n(95),o=n(46);var i=e,a=i.Element,s=(a=void 0===a?{}:a).prototype,c=(s=void 0===s?{}:s).scrollIntoView,l=s.scrollIntoViewIfNeeded,u=s.doScroll,d=i.scroll,f=i.scrollBy,p=i.scrollByLines,m=i.scrollByPages,h=i.scrollTo,_=function(t){var n=e.document;return[n.body,n.documentElement].includes(t)},g=t.createInteractionMethod=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return(0,r.startInteraction)(),Promise.resolve(e.apply(t,i)).then((function(){return(0,o.nextTick)((function(){(0,r.updatePosition)(),(0,r.endInteraction)()}))}))}},E=t.scrollTo=g(h,e);t.scrollToElement=g((function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=c||e.scrollIntoView).call.apply(t,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))})),t.scrollToElementIfNeeded=g((function(e,t){return l.call(e,t)})),t.getScrollTop=function(e){return _(e)?(0,r.getScrollTop)():e.scrollTop},t.setScrollTop=function(e,t){_(e)?E((0,r.getScrollLeft)(),t):e.scrollTop=t},t.getScrollLeft=function(e){return _(e)?(0,r.getScrollLeft)():e.scrollLeft},t.setScrollLeft=function(e,t){_(e)?E(t,(0,r.getScrollTop)()):e.scrollLeft=t},t.doScroll=function(e,t){u.call(e,t)},t.scroll=g(d,e),t.scrollBy=g(f,e),t.scrollByLines=g(p,e),t.scrollByPages=g(m,e),t.setHash=g((function(t){e.location.hash=t})),t.goBack=g((function(){e.history.replaceState({},e.document.title,e.location.pathname+(0,r.getHash)())}))}).call(this,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.T=function(){return!0},a=t.noop=function(){};t.nextTick=function(e){return new Promise((function(t){setTimeout((function(){e(),t()}))}))},t.Debouncer=function(){function e(t){var n=t.fn,r=t.ms,o=t.head,s=void 0!==o&&o,c=t.filter,l=void 0===c?i:c,u=t.tail,d=void 0===u?!s:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ms=r,this.filter=l,this.head=s?n:a,this.tail=d?n:a,this.call=this.call.bind(this),this.cancel=this.cancel.bind(this)}return r(e,null,[{key:"debounce",value:function(t,n){return new e({fn:t,ms:n}).call}}]),r(e,[{key:"call",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.filter.apply(this,o(n))&&(this.id?this.cancel():this.head.apply(this,o(n)),this.id=setTimeout((function(){return e.tail.apply(e,o(n))}),this.ms))}},{key:"force",value:function(){this.cancel(),this.head.apply(this,arguments),this.tail.apply(this,arguments)}},{key:"cancel",value:function(){this.id=this.id&&clearTimeout(this.id)}}]),e}()},function(e,t,n){"use strict";(function(t){var r=n(201),o=n(202),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(i,"")}var f=[["#","hash"],["?","query"],function(e,t){return h(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function m(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(e=e||r);if("blob:"===e.protocol)o=new g(unescape(e.pathname),{});else if("string"===i)for(n in o=new g(e,{}),p)delete o[n];else if("object"===i){for(n in e)n in p||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function h(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function _(e,t){e=(e=d(e)).replace(a,""),t=t||{};var n,r=l.exec(e),o=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],c=0;return i?s?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):s?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===o?c>=2&&(n=n.slice(2)):h(o)?n=r[4]:o?i&&(n=n.slice(2)):c>=2&&h(t.protocol)&&(n=r[4]),{protocol:o,slashes:i||h(o),slashesCount:c,rest:n}}function g(e,t,n){if(e=(e=d(e)).replace(a,""),!(this instanceof g))return new g(e,t,n);var i,s,c,l,p,E,v=f.slice(),y=typeof t,b=this,w=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),i=!(s=_(e||"",t=m(t))).protocol&&!s.slashes,b.slashes=s.slashes||i&&t.slashes,b.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||u.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!h(b.protocol)))&&(v[3]=[/(.*)/,"pathname"]);w<v.length;w++)"function"!=typeof(l=v[w])?(c=l[0],E=l[1],c!=c?b[E]=e:"string"==typeof c?~(p="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof l[2]?(b[E]=e.slice(0,p),e=e.slice(p+l[2])):(b[E]=e.slice(p),e=e.slice(0,p))):(p=c.exec(e))&&(b[E]=p[1],e=e.slice(0,p.index)),b[E]=b[E]||i&&l[3]&&t[E]||"",l[4]&&(b[E]=b[E].toLowerCase())):e=l(e,b);n&&(b.query=n(b.query)),i&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(b.pathname,t.pathname)),"/"!==b.pathname.charAt(0)&&h(b.protocol)&&(b.pathname="/"+b.pathname),r(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(~(p=b.auth.indexOf(":"))?(b.username=b.auth.slice(0,p),b.username=encodeURIComponent(decodeURIComponent(b.username)),b.password=b.auth.slice(p+1),b.password=encodeURIComponent(decodeURIComponent(b.password))):b.username=encodeURIComponent(decodeURIComponent(b.auth)),b.auth=b.password?b.username+":"+b.password:b.username),b.origin="file:"!==b.protocol&&h(b.protocol)&&b.host?b.protocol+"//"+b.host:"null",b.href=b.toString()}g.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,c.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(i.username=t.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<f.length;l++){var u=f[l];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&h(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.protocol&&n.slashes||h(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&h(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},g.extractProtocol=_,g.location=m,g.trimLeft=d,g.qs=o,e.exports=g}).call(this,n(12))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n.n(r);const i=o.a.get("autorefresh");o.a.remove("autorefresh");const a=()=>i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=()=>{try{if("localStorage"in window){const e=window.localStorage.getItem("mol-fe-swipe-funnel-status");if(e){const t=JSON.parse(e);if(t&&"string"==typeof t)return t}}}catch(e){}return null}},function(e,t,n){"use strict";let r,o,i;n.d(t,"a",(function(){return s}));let a=!1;const s=()=>{try{"localStorage"in window&&!a&&(r=window.localStorage.getItem("module_tracking"),o=window.localStorage.getItem("module_tracking_name"),i=window.localStorage.getItem("module_tracking_list_position"),a=!0,r&&window.localStorage.removeItem("module_tracking"),o&&window.localStorage.removeItem("module_tracking_name"),i&&window.localStorage.removeItem("module_tracking_list_position"))}catch(e){}return{moduleListPosition:i,moduleName:o,moduleTracking:r}}},function(e,t,n){"use strict";n.r(t),n.d(t,"getHostname",(function(){return o})),n.d(t,"getPathname",(function(){return i}));var r=n(0);const o=e=>{try{if("string"==typeof e){return new URL(e).hostname}}catch(e){r.logger.error("Failed to get hostname",e)}},i=e=>{try{if("string"==typeof e){return new URL(e).pathname}}catch(e){r.logger.error("Failed to get pathname",e)}}},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=24)}([function(e,t,n){var r,o,i;i=function(){return function(){return function(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var o=e[r];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(r>0&&(o=o.replace(/^[\/]+/,"")),o=r<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/"),a=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fRetry=t.FetchError=void 0;var l=c(n(10)),u=c(n(14)),d=n(5),f=function(e){function t(n,r,o,i,a){var s=e.call(this,n)||this;return Object.setPrototypeOf?Object.setPrototypeOf(s,t.prototype):s.__proto__=t.prototype,s.url=r,s.method=o,s.requestBody=i,s.responseStatus=a,s}return o(t,e),t}(Error);t.FetchError=f,t.fRetry=function(e){return function(t,n,r,o){return void 0===r&&(r=!0),a(void 0,void 0,void 0,(function(){var c,p;return s(this,(function(m){return c=(0,u.default)(d.trackClientErrors,500),p=function(e){return a(void 0,void 0,void 0,(function(){var a,l,u,d,p,m,h,_,g,E,v,y,b,w,O;return s(this,(function(s){switch(s.label){case 0:return n&&n.method&&"GET"!==n.method.toUpperCase()&&n.headers&&"string"==typeof n.body&&(a=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("content-type"===r.toLowerCase())return e[r]}return null}(n.headers),a&&"application/json"===a.toLowerCase()&&"object"==typeof(l=JSON.parse(n.body))&&(n.body=JSON.stringify(i({__numberOfAttempts:e},l)))),u="string"==typeof t?t:t.url,d=n&&n.method||"string"!=typeof t&&t.method||"get",h=(m=JSON).parse,(_=n&&n.body)?[3,3]:(g="string"!=typeof t)?[4,t.clone().text()]:[3,2];case 1:g=s.sent(),s.label=2;case 2:_=g,s.label=3;case 3:p=h.apply(m,[_.toString()])||void 0,s.label=4;case 4:return s.trys.push([4,8,9,10]),[4,fetch(t,i(i({},n),{credentials:(null==n?void 0:n.credentials)||"omit"}))];case 5:return E=s.sent(),(y=o)?[4,o(E)]:[3,7];case 6:y=!s.sent(),s.label=7;case 7:if(v=y,!E.ok||v)throw b=v?"Failed response validation":E.statusText,new f(b,u,d,p,E.status);return[2,E];case 8:if((w=s.sent())instanceof f)throw w;throw new f(w.message||"Unexpected fetch error",u,d,p);case 9:return r&&c(null===(O=null==n?void 0:n.headers)||void 0===O?void 0:O.Authorization),[7];case 10:return[2]}}))}))},[2,(0,l.default)(p,e)]}))}))}};var p=(0,t.fRetry)({retries:5});t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===t&&(t=localStorage),this.name=e,this.storage=t}return e.prototype.get=function(){try{var e=this.storage.getItem(this.name);if(null!==e)return JSON.parse(e)}catch(e){console.error(e)}return null},e.prototype.set=function(e){try{this.storage.setItem(this.name,JSON.stringify(e))}catch(e){console.error(e)}},e.prototype.clear=function(){try{this.storage.removeItem(this.name)}catch(e){console.error(e)}},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.clearStatus=t.getStatus=t.setStatus=void 0;var o=new(r(n(2)).default)("MOL-FE-WEB-PUSH_SUBSCRIPTION_STATUS");t.setStatus=function(e,t){o.set({metadata:t,state:e})},t.getStatus=function(){return o.get()},t.clearStatus=function(){return o.clear()}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function c(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var l,u,d=typeof e;if("string"===d&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(e);if("number"===d&&isFinite(e))return t.long?(l=e,(u=Math.abs(l))>=i?c(l,u,i,"day"):u>=o?c(l,u,o,"hour"):u>=r?c(l,u,r,"minute"):u>=n?c(l,u,n,"second"):l+" ms"):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackClientErrors=t.clear=t.addError=t.getErrors=t.setBaseEndpoint=void 0;var c,l=n(7),u=s(n(0)),d=s(n(2)),f=s(n(1)),p=new d.default("MOL-FE-WEB-PUSH_CLIENT_SUBSCRIPTION_ERRORS",sessionStorage);t.setBaseEndpoint=function(e){return c=e},t.getErrors=function(){return p.get()},t.addError=function(e){var n=(0,l.serializeError)(e),r=(0,t.getErrors)();(null==r?void 0:r.find((function(e){return JSON.stringify(e)===JSON.stringify(n)})))||p.set(a(a([],r||[],!0),[n],!1))},t.clear=function(){return p.clear()},t.trackClientErrors=function(e){return o(void 0,void 0,void 0,(function(){var n,o,a,s,l;return i(this,(function(i){switch(i.label){case 0:if(!(n=(0,t.getErrors)())||0===n.length)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),o=(0,u.default)(c,"analytics/client/error"),a={body:JSON.stringify({errors:n}),headers:{"Content-type":"application/json"},method:"post"},e&&(a.headers=r(r({},a.headers),{Authorization:e})),[4,(0,f.default)(o,a,!1)];case 2:if(!(s=i.sent()).ok)throw new Error(s.statusText);return(0,t.clear)(),[3,4];case 3:return l=i.sent(),console.error("Track Client Errors",l),[3,4];case 4:return[2]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.replaceSubscription=t.updatePushSubscription=t.requestPushPermissionAndSubscribe=t.requestPushNotificationPermission=t.subscribePushNotifications=t.registerPushSubscription=t.willExpireSoon=t.needsMigration=t.isWebPushSupported=void 0;var s=a(n(15)),c=a(n(1)),l=a(n(8));t.isWebPushSupported=function(){return"serviceWorker"in navigator&&"PushManager"in window},t.needsMigration=function(e,t){return e.options.applicationServerKey instanceof ArrayBuffer&&!(0,s.default)(t,new Uint8Array(e.options.applicationServerKey,0))},t.willExpireSoon=function(e){return!!e.expirationTime&&e.expirationTime<Date.now()+6048e5},t.registerPushSubscription=function(e,t,n){var a=t.subscription,s=t.metadata;return o(void 0,void 0,void 0,(function(){var t,o;return i(this,(function(i){return function(e){var t,n;try{t=e.getKey("auth"),n=e.getKey("p256dh")}catch(t){return console.error("Unable to get auth and p256dh keys, subscription ".concat(JSON.stringify(e,null,2))),!1}return null!==t&&null!==n}(a)?(t={metadata:r(r({},s),{browserLanguage:navigator.language,subscribedUrl:location.href}),subscription:a},o={body:JSON.stringify(t),headers:{"Content-type":"application/json"},method:"POST",mode:"cors"},n&&(o.headers=r(r({},o.headers),{Authorization:"ApiKey ".concat(n)})),[2,(0,c.default)(e,o)]):[2,void 0]}))}))},t.subscribePushNotifications=function(e){var n=e.apiKey,r=e.appServerKey,a=e.metadata,s=e.subscriptionEndpoint,c=e.registration;return o(void 0,void 0,void 0,(function(){var e,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,c.pushManager.subscribe({applicationServerKey:r,userVisibleOnly:!0})];case 1:return e=i.sent(),[4,(0,t.registerPushSubscription)(s,{metadata:a,subscription:e},n)];case 2:return i.sent(),[2,e];case 3:throw o=i.sent(),new l.default(o.message,"register",o);case 4:return[2]}}))}))},t.requestPushNotificationPermission=function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e,t){var n=Notification.requestPermission((function(t){e(t)}));n instanceof Promise&&n.then(e,t)}))]}))}))},t.requestPushPermissionAndSubscribe=function(e){return o(void 0,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return[4,(0,t.requestPushNotificationPermission)()];case 1:return"granted"!==(n=o.sent())?[3,3]:[4,(0,t.subscribePushNotifications)(r({},e))];case 2:o.sent(),o.label=3;case 3:return[2,n]}}))}))},t.updatePushSubscription=function(e,t,n){var a=t.subscription,s=t.metadata;return o(void 0,void 0,void 0,(function(){var t,o,u;return i(this,(function(i){switch(i.label){case 0:t={metadata:r(r({},s),{browserLanguage:navigator.language,subscribedUrl:location.href}),subscription:a},o={body:JSON.stringify(t),headers:{"Content-type":"application/json"},method:"PATCH",mode:"cors"},n&&(o.headers=r(r({},o.headers),{Authorization:"ApiKey ".concat(n)})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,c.default)(e,o)];case 2:return i.sent(),[3,4];case 3:throw u=i.sent(),new l.default(u.message,"update",u);case 4:return[2]}}))}))},t.replaceSubscription=function(e){var n=e.apiKey,r=e.appServerKey,a=e.metadata,s=e.registration,c=e.subscription,l=e.subscriptionEndpoint;return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,c.unsubscribe()];case 1:return e.sent(),[2,(0,t.subscribePushNotifications)({apiKey:n,appServerKey:r,metadata:a,registration:s,subscriptionEndpoint:l})]}}))}))}},function(e,t,n){"use strict";class r extends Error{constructor(e){super(r._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,r)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch(t){return String(e)}}}const o=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],i=({from:e,seen:t,to_:n,forceEnumerable:r})=>{const a=n||(Array.isArray(e)?[]:{});t.push(e);for(const[n,o]of Object.entries(e))"function"!=typeof o&&(o&&"object"==typeof o?t.includes(e[n])?a[n]="[Circular]":a[n]=i({from:e[n],seen:t.slice(),forceEnumerable:r}):a[n]=o);for(const{property:t,enumerable:n}of o)"string"==typeof e[t]&&Object.defineProperty(a,t,{value:e[t],enumerable:!!r||n,configurable:!0,writable:!0});return a};e.exports={serializeError:e=>"object"==typeof e&&null!==e?i({from:e,seen:[],forceEnumerable:!0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e,deserializeError:e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return i({from:e,seen:[],to_:t}),t}return new r(e)}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,r,o){var i=e.call(this,n)||this;return Object.setPrototypeOf?Object.setPrototypeOf(i,t.prototype):i.__proto__=t.prototype,i.type=r,i.cause=o,i}return o(t,e),t}(Error);t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(29));t.default=function(e,t,n){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,a.default)(e,t,n)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),console.error("TrackEvent Error",r),[3,3];case 3:return[2]}}))}))}},function(e,t,n){"use strict";const r=n(11);class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const i=(e,t)=>new Promise(((n,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};const a=r.operation(t);a.attempt((async r=>{try{n(await e(r))}catch(e){if(!(e instanceof Error))return void i(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof o)a.stop(),i(e.originalError);else if(e instanceof TypeError)a.stop(),i(e);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(e,r,t);try{await t.onFailedAttempt(e)}catch(e){return void i(e)}a.retry(e)||i(a.mainError())}}}))}));e.exports=i,e.exports.default=i,e.exports.AbortError=o},function(e,t,n){e.exports=n(12)},function(e,t,n){var r=n(13);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],o=0;o<t.retries;o++)r.push(this.createTimeout(o,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(o,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var o in r=[],e)"function"==typeof e[o]&&r.push(o);for(var i=0;i<r.length;i++){var a=r[i],s=e[a];e[a]=function(r){var o=t.operation(n),i=Array.prototype.slice.call(arguments,1),a=i.pop();i.push((function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),a.apply(this,arguments))})),o.attempt((function(){r.apply(e,i)}))}.bind(e,s),e[a].options=n}}},function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,o=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n);return this._options.unref&&o.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],i=o.message,a=(e[i]||0)+1;e[i]=a,a>=n&&(t=o,n=a)}return t}},function(e,t,n){"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,o=void 0,i=void 0,a=[];return function(){var c=function(e){return"function"==typeof e?e():e}(t),l=(new Date).getTime(),u=!r||l-r>c;r=l;for(var d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];if(u&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[f])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(f)));if(o?clearTimeout(i):o=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}(),a.push(f),i=setTimeout(s.bind(this),c),n.accumulate){var m=a.length-1;return o.promise.then((function(e){return e[m]}))}return o.promise};function s(){var t=o;clearTimeout(i),Promise.resolve(n.accumulate?e.call(this,a):e.apply(this,a[a.length-1])).then(t.resolve,t.reject),a=[],o=null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n!==e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegisterError=void 0;var o=n(7),i=n(5);t.handleRegisterError=function(e,t){var n=t.emit,a=t.metadata,s=t.rawAppServerKey,c=r(r({},(0,o.serializeError)(e)),{organisation:null==a?void 0:a.organisation,rawAppServerKey:s,userAgent:navigator.userAgent});(0,i.addError)(c),n("error",c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case"production":return"https://hulkprod.anm.co.uk/api/web-push-notification";case"integration":return"https://hulkint.anm.co.uk/api/web-push-notification";default:return"/public"}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(37),t),o(n(38),t),o(n(39),t),o(n(40),t),o(n(41),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e){"interactive"===document.readyState&&Boolean(document.body)||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",(function(){e()}))}))]}))}));t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),i=n(3),a=n(16);t.default=function(e,t){if(e instanceof o.default){var n=t.metadata;"register"===e.type?(0,i.setStatus)("register_pending",n):"update"===e.type&&(0,i.setStatus)("update_pending",n)}(0,a.handleRegisterError)(e,t)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SetIntervalAsyncTimer=void 0;var a=function(){function e(){this.timeout=void 0,this.promise=void 0,this.stopped=!1}return e.startTimer=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=Math.min(Math.max(Math.trunc(n),10),2147483647),s=new e;return s.scheduleTimeout.apply(s,i([t,a,a],r,!1)),s},e.stopTimer=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return e.stopped=!0,e.timeout&&clearTimeout(e.timeout),e.promise?[4,e.promise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.scheduleTimeout=function(e,t,n){for(var a=this,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];this.timeout=setTimeout((function(){return r(a,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this.timeout=void 0,this.promise=this.runHandlerAndScheduleTimeout.apply(this,i([e,t],s,!1)),[4,this.promise];case 1:return n.sent(),this.promise=void 0,[2]}}))}))}),n)},e.prototype.runHandlerAndScheduleTimeout=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,e.apply(void 0,n)];case 1:case 2:return r.sent(),[3,4];case 3:return this.stopped||this.scheduleTimeout.apply(this,i([e,t,t],n,!1)),[7];case 4:return[2]}}))}))},e}();t.SetIntervalAsyncTimer=a},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteOldClickRecords=t.getAll=t.clear=t.wasTrackedBefore=t.markAsTracked=t.storage=void 0;var i=o(n(4)),a=o(n(2));t.storage=new a.default("MOL-FE-WEB-PULL_NOTIFICATION_CLICKS"),t.markAsTracked=function(e,n){var o=t.storage.get()||[];return t.storage.set(r(r([],o,!0),[{campaignId:e,crossOrgUserId:n,epoch:Date.now()}],!1))},t.wasTrackedBefore=function(e,n){return(t.storage.get()||[]).some((function(t){return t.campaignId===e&&t.crossOrgUserId===n}))},t.clear=function(){return t.storage.clear()},t.getAll=function(){return t.storage.get()||[]},t.deleteOldClickRecords=function(){var e=t.storage.get()||[];t.storage.set(e.filter((function(e){var t=e.epoch;return Date.now()-t<(0,i.default)("24h")})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44);t.default=function(e){var t=(0,r.getISOStringParts)(e).map((function(e){return parseInt(e,10)})),n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6];return new Date(Date.UTC(n,o-1,i,a,s,c,l||0))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Register=void 0;var l=c(n(0)),u=c(n(25)),d=c(n(26)),f=c(n(28)),p=c(n(31)),m=c(n(17)),h=n(6),_=c(n(32)),g=n(33),E=n(55),v=function(e){function t(t){var n=e.call(this)||this;n.appServerKey=null,n.registration=null;var r=t.environment?(0,m.default)(t.environment):t.baseEndpoint||"";return n.options=(0,_.default)(i({},t)),n.baseEndpoint=(0,l.default)(r,"/v1/organisation",n.options.metadata.organisation),n.subscriptionEndpoint=(0,l.default)(n.baseEndpoint,"subscription"),n}return o(t,e),t.isWebPushSupported=function(){return(0,h.isWebPushSupported)()},t.prototype.getAppServerKey=function(e){return void 0===e&&(e=!1),a(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return null===this.appServerKey||e?(t=this,[4,(0,d.default)((0,l.default)(this.subscriptionEndpoint,"publicKey"),this.options.apiKey)]):[3,2];case 1:t.appServerKey=n.sent(),n.label=2;case 2:return[2,this.appServerKey]}}))}))},t.prototype.getCrossOrgUserId=function(){return a(this,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:return this.crossOrguserId?[3,2]:(e=this,[4,(0,E.getCrossOrgUserId)(this.options.metadata,(function(e,n){return t.emit(e,n)}))]);case 1:e.crossOrguserId=n.sent(),n.label=2;case 2:return[2,this.crossOrguserId]}}))}))},t.prototype.init=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,o,a,c,l=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.getAppServerKey()];case 1:return e=s.sent()||{},t=e.parsed,n=e.raw,r=this,o=f.default,a=[i({},this.options)],c={appServerKey:t,baseEndpoint:this.baseEndpoint},[4,this.getCrossOrgUserId()];case 2:return[4,o.apply(void 0,[i.apply(void 0,a.concat([(c.crossOrgUserId=s.sent(),c.emit=function(e,t){return l.emit(e,t)},c.rawAppServerKey=n,c.subscriptionEndpoint=this.subscriptionEndpoint,c)]))])];case 3:return r.registration=s.sent(),[2,this.registration]}}))}))},t.prototype.initPullNotifications=function(e){var t=e.renderPullNotification,n=e.canRender;return a(this,void 0,void 0,(function(){var e,r,o=this;return s(this,(function(a){switch(a.label){case 0:if("function"!=typeof t)throw new TypeError("Missing required option `renderPullNotification` function");if(n&&"function"!=typeof n)throw new TypeError("Optional `canRender` option must be a function");return e=g.init,r={apiKey:this.options.apiKey,baseEndpoint:this.baseEndpoint,canRender:n},[4,this.getCrossOrgUserId()];case 1:return[4,e.apply(void 0,[(r.crossOrgUserId=a.sent(),r.emit=function(e,t){return o.emit(e,t)},r.metadata=i({geo:"ALL"},this.options.metadata),r.renderPullNotification=t,r)])];case 2:return a.sent(),[2,this]}}))}))},t.prototype.showPrompt=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o=this;return s(this,(function(a){switch(a.label){case 0:return[4,this.getAppServerKey()];case 1:if(t=a.sent()||{},n=t.parsed,r=t.raw,null===this.registration)throw new Error("Init must be called before attempting to call showPrompt");return[2,(0,p.default)(this.registration,i(i({},this.options),{appServerKey:n,baseEndpoint:this.baseEndpoint,emit:function(e,t){return o.emit(e,t)},rawAppServerKey:r,renderPrePrompt:e,subscriptionEndpoint:this.subscriptionEndpoint}))]}}))}))},t}(u.default);t.Register=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.events={},this.logger=e||console}return e.prototype.on=function(e,t){var n=this.events;return(n[e]||(n[e]=[])).push(t),this},e.prototype.removeListener=function(e,t){var n=this.events,r=n[e]||(n[e]=[]);return n[e]=r.filter((function(e){return e!==t})),this},e.prototype.removeAllListeners=function(e){return e?this.events[e]=null:this.events={},this},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.events,i=o[e]||(o[e]=[]),a=i.length>0,s=n;try{s=JSON.parse(JSON.stringify(n))}catch(e){}return i.forEach((function(e){try{e.apply(void 0,s)}catch(e){t.logger.error(e,e.stack)}})),a},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(27)),s=i(n(1));t.default=function(e,t){return r(void 0,void 0,void 0,(function(){var n,i;return o(this,(function(c){switch(c.label){case 0:return n={mode:"cors"},t&&(n.headers={Authorization:"ApiKey ".concat(t)}),[4,(0,s.default)(e,n,!0,(function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,e.clone().text()];case 1:return[2,""!==t.sent().trim()]}}))}))}))];case 1:return[4,c.sent().text()];case 2:return i=c.sent(),[2,{parsed:(0,a.default)(i),raw:i}]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=function(){try{return window.atob(),!0}catch(e){return!1}}()?function(e){var t,n,r,o={},i=0,a=0,s="",c=e.length;for(t=0;t<64;t++)o["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(n=0;n<c;n++)for(i=(i<<6)+(t=o[e.charAt(n)]),a+=6;a>=8;)((r=255&i>>>(a-=8))||c-2>n)&&(s+=String.fromCharCode(r));return s}(t):window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(19)),l=n(6),u=n(3),d=s(n(20)),f=n(5),p=s(n(9)),m=n(30),h=function(e){var t;if(e&&"object"==typeof e&&0!==Object.keys(e).length)return{impression:null===(t=e.impression)||void 0===t?void 0:t.filter((function(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]}))}};t.default=function(e){return o(void 0,void 0,void 0,(function(){var t,n,o,s,_,g,E,v,y,b,w,O,I,S,A,T,C,L,P,R,N,M,D,k,x,B,U,j,F,W,V,G;return i(this,(function(i){switch(i.label){case 0:t=e.apiKey,n=e.appServerKey,o=e.notificationMacros,s=e.emit,_=e.metadata,g=e.baseEndpoint,E=e.swUrl,v=e.subscriptionEndpoint,y=e.rawAppServerKey,b=e.crossOrgUserId,w=Array.isArray(_.visitorIds)?_.visitorIds[0]:void 0,O=_.userAgent,i.label=1;case 1:return i.trys.push([1,20,,21]),[4,c.default];case 2:return i.sent(),(0,m.deleteOldClickRecords)(),I=new URLSearchParams(window.location.search),S=I.get("ito"),(0,f.setBaseEndpoint)(g),A=(0,u.getStatus)(),T=b?[b]:void 0,_.crossOrgUserIds=T,"push-notification"!==S?[3,4]:(C=I.get("ci"),L=I.get("cri")||"",P=I.get("si"),R=I.get("ai"),N=I.get("xi"),C&&P?(M=function(e){var t=e.sharedCrossOrgUserId,n=e.crossOrgUserId,r=e.campaignId,o=e.subscriptionId;return t?n!==t?"click_page_share":(0,m.wasTrackedBefore)(r,o)?"click_page_refresh":"click":"click"}({campaignId:C,crossOrgUserId:b,sharedCrossOrgUserId:N,subscriptionId:P}),D={action:M,campaignId:C,campaignRunId:L,crossOrgUserId:b,organisation:_.organisation,platform:_.platform,subscriptionId:P,type:"notification",userAgent:O,visitorId:w},R&&(D.assetId=R),s("notification_click",D),[4,(0,p.default)(g,r(r({},D),{action:"click"===M?"click_page_load":M}),t)]):[3,4]);case 3:i.sent(),(0,m.markAsTracked)(C,P),i.label=4;case 4:if(!E)return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,navigator.serviceWorker.register(E,{scope:"/"})];case 6:return i.sent(),[3,8];case 7:return k=i.sent(),console.error("ServiceWorker registration failed: ",k),[3,8];case 8:return[4,navigator.serviceWorker.ready];case 9:return[4,(x=i.sent()).pushManager.getSubscription()];case 10:return B=i.sent(),U=!!B&&(0,l.needsMigration)(B,n),A=(0,u.getStatus)(),j={apiKey:t,baseEndpoint:g,crossOrgUserId:b,navigatorPlatform:window.navigator.platform,notificationMacros:h(o),organisation:_.organisation,permission:Notification.permission,subscription:U?null:B,type:"web-push-sw-init-data",userAgent:_.userAgent,visitorId:w},x.active.postMessage(JSON.stringify(j)),A&&"undecided"===A.state&&"granted"===Notification.permission&&((0,u.setStatus)("register_pending",A.metadata),A=(0,u.getStatus)()),A&&"undecided"!==A.state&&A.metadata&&(A.metadata.userAgent!==_.userAgent||A.metadata.profilingAllowed!==_.profilingAllowed||(A.metadata.visitorIds||[]).join(",")!==(_.visitorIds||[]).join(",")||(A.metadata.crossOrgUserIds||[]).join(",")!==(T||[]).join(",")||"push-notification"===S)&&(W=r(r({},A.metadata),{crossOrgUserIds:Array.from(new Set(a(a([],A.metadata.crossOrgUserIds||[],!0),T||[],!0))),keywords:Array.from(new Set(a(a([],A.metadata.keywords||[],!0),_.keywords||[],!0))),profilingAllowed:_.profilingAllowed,userAgent:_.userAgent,visitorIds:Array.from(new Set(a(a([],A.metadata.visitorIds||[],!0),_.visitorIds||[],!0)))}),F="ready"===A.state?"update_pending":A.state,(0,u.setStatus)(F,W),A=(0,u.getStatus)()),B?(W=A?A.metadata:_,U||(0,l.willExpireSoon)(B)?[4,(0,l.replaceSubscription)({apiKey:t,appServerKey:n,metadata:r(r({},_),{migrated:U,migratedSubscriptionEndpoint:U?B.endpoint:void 0}),registration:x,subscription:B,subscriptionEndpoint:v})]:[3,12]):[3,17];case 11:return i.sent(),[3,16];case 12:return A&&"register_pending"===A.state?[4,(0,l.registerPushSubscription)(v,{metadata:W,subscription:B},t)]:[3,14];case 13:return i.sent(),[3,16];case 14:return A&&"update_pending"===A.state||!A?[4,(0,l.updatePushSubscription)(v,{metadata:W,subscription:B},t)]:[3,16];case 15:i.sent(),i.label=16;case 16:return(0,u.setStatus)("ready",_),[3,19];case 17:return"granted"!==Notification.permission?[3,19]:(V=A?A.metadata:_,[4,(0,l.subscribePushNotifications)({apiKey:t,appServerKey:n,metadata:V,registration:x,subscriptionEndpoint:v})]);case 18:i.sent(),(0,u.setStatus)("ready",V),i.label=19;case 19:return[2,x];case 20:return G=i.sent(),(0,d.default)(G,{emit:s,metadata:_,rawAppServerKey:y}),[3,21];case 21:return[2,null]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),c=a(n(1));t.default=function(e,t,n){return o(void 0,void 0,void 0,(function(){var o,a,l,u;return i(this,(function(i){return o=t.type,a=t.action,l=(0,s.default)(e,"analytics/track",o,a),u={body:JSON.stringify(t),headers:{"Content-type":"application/json"},method:"post",mode:"cors"},n&&(u.headers=r(r({},u.headers),{Authorization:"ApiKey ".concat(n)})),[2,(0,c.default)(l,u)]}))}))}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteOldClickRecords=t.getAll=t.clear=t.wasTrackedBefore=t.markAsTracked=t.storage=void 0;var i=o(n(4)),a=o(n(2));t.storage=new a.default("MOL-FE-WEB-PUSH_NOTIFICATION_CLICKS"),t.markAsTracked=function(e,n){var o=t.storage.get()||[];return t.storage.set(r(r([],o,!0),[{campaignId:e,epoch:Date.now(),subscriptionId:n}],!1))},t.wasTrackedBefore=function(e,n){return(t.storage.get()||[]).some((function(t){return t.campaignId===e&&t.subscriptionId===n}))},t.clear=function(){return t.storage.clear()},t.getAll=function(){return t.storage.get()||[]},t.deleteOldClickRecords=function(){var e=t.storage.get()||[];t.storage.set(e.filter((function(e){var t=e.epoch;return Date.now()-t<(0,i.default)("24h")})))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LAST_PROMPT_EPOCH=void 0;var s=a(n(4)),c=n(6),l=n(3),u=a(n(9)),d=a(n(20));t.LAST_PROMPT_EPOCH="mol-fe-browser-notifications-last-prompt-epoch",t.default=function(e,n){return o(void 0,void 0,void 0,(function(){var a,f,p,m,h,_,g,E,v,y,b,w,O,I,S,A,T,C,L,P,R,N,M,D,k;return i(this,(function(x){switch(x.label){case 0:a=n.apiKey,f=n.appServerKey,p=n.emit,m=n.metadata,h=n.baseEndpoint,_=n.subscriptionEndpoint,g=n.promptFrequency,E=n.rawAppServerKey,v=n.renderPrePrompt,x.label=1;case 1:return x.trys.push([1,12,,13]),y=m.channels,b=m.crossOrgUserIds,w=m.platform,O=m.subChannels,I=m.userAgent,S=m.visitorIds,A=Array.isArray(S)?S[0]:void 0,T=Array.isArray(b)?b[0]:void 0,C=Array.isArray(y)?y[0]:void 0,L=Array.isArray(O)?O[0]:void 0,P=function(e){return r({channel:C,crossOrgUserId:T,organisation:m.organisation,platform:w,subChannel:L,type:"prompt",userAgent:I,visitorId:A},e)},R=function(e){return o(void 0,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=e.action,n=P(e),p("".concat("prompt","_").concat(t),n),[4,(0,u.default)(h,n,a)];case 1:return r.sent(),[2]}}))}))},function(e){if(!e)return!0;var n=(0,s.default)(e);if("number"!=typeof n)throw new TypeError("Prompt frequency must be a valid string like `1d` or `1h`");if(!("localStorage"in window))return!0;var r=JSON.parse(window.localStorage.getItem(t.LAST_PROMPT_EPOCH)||"0");return Date.now()-r>=n}(g)?[3,2]:(p("prompt_discarded",P({action:"discarded",permission:Notification.permission,type:"prompt"})),[3,11]);case 2:return"default"!==Notification.permission?[3,8]:(N=function(){return o(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,R({action:"impression",permission:Notification.permission})];case 1:return n.sent(),[4,(0,c.requestPushPermissionAndSubscribe)({apiKey:a,appServerKey:f,metadata:m,registration:e,subscriptionEndpoint:_})];case 2:return t=n.sent(),[4,R({action:"click",permission:t})];case 3:return n.sent(),[2]}}))}))},"function"!=typeof v?[3,5]:[4,R({action:"pre_prompt_impression",permission:Notification.permission})]);case 3:return x.sent(),[4,new Promise((function(e){v((function(t){return o(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,R({action:"pre_prompt_click",permission:t?"granted":"denied"})];case 1:return n.sent(),t?[4,N()]:[3,3];case 2:n.sent(),n.label=3;case 3:return e(t),[2]}}))}))}))}))];case 4:return x.sent(),[3,7];case 5:return[4,N()];case 6:x.sent(),x.label=7;case 7:"localStorage"in window&&window.localStorage.setItem(t.LAST_PROMPT_EPOCH,JSON.stringify(Date.now())),x.label=8;case 8:return"granted"!==Notification.permission?[3,10]:[4,e.pushManager.getSubscription()];case 9:return M=x.sent(),D={subscription:M,type:"web-push-sw-subscription-ready"},e.active.postMessage(JSON.stringify(D)),(0,l.setStatus)("ready",m),[3,11];case 10:"default"===Notification.permission?(0,l.setStatus)("undecided",m):(0,l.clearStatus)(),x.label=11;case 11:return[3,13];case 12:return k=x.sent(),(0,d.default)(k,{emit:p,metadata:m,rawAppServerKey:E}),[3,13];case 13:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===e.length||t&&t<e.length},o=function(e){return!Array.isArray(e)||e.length&&e.map(r).every(Boolean)},i=["organisation","platform","profilingAllowed","userAgent"];t.default=function(e){var t,n,a,s,c,l,u,d,f,p,m,h,_,g;if(function(e,t){if(null!==e&&"object"==typeof e){var n=Object.keys(e),r=t&&t.map((function(e){return n.includes(e)})).filter(Boolean).length===t.length;return!n.length||!r}return!0}(e.metadata,i))throw new Error("metadata is required and must be object containing the following required fields ".concat(i.join(", "),"."));if(r(null===(t=e.metadata)||void 0===t?void 0:t.organisation))throw new Error("metadata.organisation is required and must be a non empty string.");if(r(null===(n=e.metadata)||void 0===n?void 0:n.platform))throw new Error("metadata.platform is required and must be a non empty string.");if("boolean"!=typeof(null===(a=e.metadata)||void 0===a?void 0:a.profilingAllowed))throw new Error("metadata.profilingAllowed is required and must be a boolean.");if(r(null===(s=e.metadata)||void 0===s?void 0:s.userAgent))throw new Error("metadata.userAgent is required and must be a non empty string.");if(void 0!==e.swUrl&&r(e.swUrl))throw new Error("swUrl is optional but must be non empty string when provided.");if(void 0!==(null===(c=e.metadata)||void 0===c?void 0:c.visitorIds)&&o(null===(l=e.metadata)||void 0===l?void 0:l.visitorIds))throw new Error("metadata.visitorIds is optional but must be a non empty string array.");if(void 0!==(null===(u=e.metadata)||void 0===u?void 0:u.crossOrgUserIds)&&o(null===(d=e.metadata)||void 0===d?void 0:d.crossOrgUserIds))throw new Error("metadata.crossOrgUserIds is optional but must be a non empty string array.");if(void 0!==(null===(f=e.metadata)||void 0===f?void 0:f.keywords)&&o(null===(p=e.metadata)||void 0===p?void 0:p.keywords))throw new Error("metadata.keywords is optional but must be a non empty string array when provided.");if(void 0!==(null===(m=e.metadata)||void 0===m?void 0:m.channels)&&o(null===(h=e.metadata)||void 0===h?void 0:h.channels))throw new Error("metadata.channels is optional but must be a non empty string array when provided.");if(void 0!==(null===(_=e.metadata)||void 0===_?void 0:_.subChannels)&&o(null===(g=e.metadata)||void 0===g?void 0:g.subChannels))throw new Error("metadata.subChannels is optional but must be a non empty string array when provided.");return e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var a=i(n(4)),s=i(n(19)),c=n(34),l=n(16),u=n(22),d=n(36),f=n(54);t.init=function(e){return r(void 0,void 0,void 0,(function(){var t,n,i,p,m,h,_,g;return o(this,(function(E){switch(E.label){case 0:t=(0,d.pullNotifierFactory)(e).showPullNotification,n=null,i=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,t()];case 1:return e.sent(),n=(0,c.setIntervalAsync)(t,(0,a.default)("30s")),[2]}}))}))},p=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return n?[4,(0,c.clearIntervalAsync)(n)]:[3,2];case 1:e.sent(),n=null,e.label=2;case 2:return[2]}}))}))},m=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return"hidden"!==document.visibilityState?[3,2]:[4,p()];case 1:e.sent(),e.label=2;case 2:return"visible"!==document.visibilityState||n?[3,4]:[4,i()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},h=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return document.removeEventListener("visibilitychange",m),[4,p()];case 1:return e.sent(),[2]}}))}))},E.label=1;case 1:return E.trys.push([1,7,,8]),[4,s.default];case 2:return E.sent(),(0,u.deleteOldClickRecords)(),"pull-notification"!==(_=new URLSearchParams(window.location.search)).get("ito")?[3,4]:[4,(0,f.trackPullNotificationClickLoad)(_,e)];case 3:E.sent(),E.label=4;case 4:return"visible"!==document.visibilityState?[3,6]:[4,i()];case 5:E.sent(),E.label=6;case 6:return document.addEventListener("visibilitychange",m),[3,8];case 7:return g=E.sent(),(0,l.handleRegisterError)(g,{emit:e.emit,metadata:e.metadata}),[3,8];case 8:return[2,{cleanup:h}]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.setIntervalAsync=t.clearIntervalAsync=void 0;var o=n(35);Object.defineProperty(t,"clearIntervalAsync",{enumerable:!0,get:function(){return o.clearIntervalAsync}});var i=n(21);t.setIntervalAsync=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if("function"!=typeof e)throw new TypeError("First argument is not a function");if("number"!=typeof t)throw new TypeError("Second argument is not a number");return i.SetIntervalAsyncTimer.startTimer.apply(i.SetIntervalAsyncTimer,r([e,t],n,!1))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.clearIntervalAsync=void 0;var i=n(21);t.clearIntervalAsync=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if(!(e instanceof i.SetIntervalAsyncTimer))throw new TypeError("First argument is not an instance of SetIntervalAsyncTimer");return[4,i.SetIntervalAsyncTimer.stopTimer(e)];case 1:return t.sent(),[2]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pullNotifierFactory=void 0;var a=n(18),s=i(n(4)),c=n(42),l=i(n(9)),u=n(43),d=n(53),f=function(e,t,n,i,s){return function(){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return r={action:e,campaignId:s.campaignId,crossOrgUserId:s.crossOrgUserId,organisation:s.organisation,platform:s.platform,type:"pull-notification",userAgent:navigator.userAgent},e!==a.PullNotificationEventAction.CLICK?[3,2]:[4,(0,l.default)(n,r,i)];case 1:o.sent(),o.label=2;case 2:return t("pull_notification_".concat(e),r),[2]}}))}))}};t.pullNotifierFactory=function(e){var t=e.apiKey,n=e.baseEndpoint,i=e.metadata,l=e.crossOrgUserId,p=e.renderPullNotification,m=e.emit,h=e.canRender,_=void 0===h?function(){return!0}:h,g=new c.HashStorage("hulk_pull-notification_shown_campaigns",(0,s.default)("24h"),1e3);return{showPullNotification:function(){return r(void 0,void 0,void 0,(function(){var e,r,c,h;return o(this,(function(o){switch(o.label){case 0:return[4,(0,u.getLatestPullCampaign)(n,i,t)];case 1:return(e=o.sent())&&!g.get(e.id)&&"visible"===document.visibilityState&&_(e)?(r=(0,d.getPullNotificationData)(i,e,l),c=f(a.PullNotificationEventAction.IMPRESSION,m,n,t,r),h=f(a.PullNotificationEventAction.CLICK,m,n,t,r),[4,p(r,{onClick:h})]):[3,4];case 2:return o.sent(),[4,c()];case 3:o.sent(),g.set(e.id,!0,(0,s.default)("24h")),o.label=4;case 4:return[2]}}))}))},storage:g}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedisDB=void 0,function(e){e[e.MAIN=0]="MAIN",e[e.REDLOCK=1]="REDLOCK",e[e.SESSION=2]="SESSION"}(t.RedisDB||(t.RedisDB={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsLogLevel=void 0,function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(t.MetricsLogLevel||(t.MetricsLogLevel={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullNotificationEventAction=t.PullCampaignStatus=t.PullCampaignType=void 0,function(e){e.DEFAULT="DEFAULT",e.SCHEDULED="SCHEDULED"}(t.PullCampaignType||(t.PullCampaignType={})),function(e){e.SCHEDULED="SCHEDULED",e.ACTIVE="ACTIVE",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(t.PullCampaignStatus||(t.PullCampaignStatus={})),function(e){e.IMPRESSION="impression",e.CLICK="click",e.CLICK_PAGE_LOAD="click_page_load",e.CLICK_PAGE_SHARE="click_page_share",e.CLICK_PAGE_REFRESH="click_page_refresh"}(t.PullNotificationEventAction||(t.PullNotificationEventAction={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pipeline=t.CampaignRunType=t.CampaignType=t.CampaignStatus=t.SubscriptionStatus=t.SubscriptionMigrationStatus=void 0,function(e){e[e.PENDING=1]="PENDING",e[e.PARTIAL=2]="PARTIAL",e[e.DONE=3]="DONE"}(t.SubscriptionMigrationStatus||(t.SubscriptionMigrationStatus={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.ZOMBIE="ZOMBIE"}(t.SubscriptionStatus||(t.SubscriptionStatus={})),function(e){e.READY="READY",e.STARTED="STARTED",e.CANCELED="CANCELED",e.SEARCHING="SEARCHING",e.DELIVERING="DELIVERING",e.FINISHED="FINISHED",e.SCHEDULED="SCHEDULED",e.SAMPLE_PROBING="SAMPLE_PROBING",e.AB_TESTING="AB_TESTING",e.WAITING="WAITING",e.CANCELED_BY_PROBE="CANCELED_BY_PROBE"}(t.CampaignStatus||(t.CampaignStatus={})),function(e){e.DEFAULT="DEFAULT",e.SCHEDULED_SAMPLE_PROBING="SCHEDULED_SAMPLE_PROBING",e.SAMPLE_PROBING="SAMPLE_PROBING",e.SCHEDULED_AB_TESTING="SCHEDULED_AB_TESTING",e.SCHEDULED_AB_TESTING_SAMPLE_PROBING="SCHEDULED_AB_TESTING_SAMPLE_PROBING",e.AB_TESTING_SAMPLE_PROBING="AB_TESTING_SAMPLE_PROBING",e.AB_TESTING="AB_TESTING",e.SCHEDULED="SCHEDULED",e.PING="PING"}(t.CampaignType||(t.CampaignType={})),function(e){e.DEFAULT="DEFAULT",e.SAMPLE_PROBE="SAMPLE_PROBE",e.AB_PROBE="AB_PROBE",e.PING="PING"}(t.CampaignRunType||(t.CampaignRunType={})),function(e){e.USER_AGENT="USER_AGENT"}(t.Pipeline||(t.Pipeline={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HashStorage=void 0;var o=r(n(4)),i=r(n(2)),a=function(){function e(e,t,n){void 0===t&&(t=(0,o.default)("24h")),void 0===n&&(n=1e3),this.name=e,this.storage=new i.default(e),this.defaultTTL=t,this.entriesLimit=n,this.syncHash()}return e.prototype.getHash=function(){return this.storage.get()||{}},e.prototype.syncHash=function(){for(var e=this.getHash(),t={},n=0,r=0,o=Object.entries(e).sort((function(e,t){return t[1].epoch-e[1].epoch}));r<o.length;r++){var i=o[r],a=i[0],s=i[1];Date.now()-s.epoch<s.ttl&&n<this.entriesLimit&&(t[a]=s,n+=1)}this.storage.set(t)},e.prototype.get=function(e){var t=this.getHash()[e];return t?t.data:null},e.prototype.set=function(e,t,n){var r=this.getHash(),o={data:t,epoch:Date.now(),ttl:n};r[e]=o,this.storage.set(r),this.syncHash()},e.prototype.clear=function(){this.storage.clear()},e}();t.HashStorage=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLatestPullCampaign=void 0;var a=i(n(23)),s=n(45);t.getLatestPullCampaign=function(e,t,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,(0,s.fetchSegmentedPullCampaigns)(e,t,n)];case 1:return[2,r.sent().sort((function(e,t){var n=(0,a.default)(e.triggerTime||e.creationTimestamp).getTime();return(0,a.default)(t.triggerTime||t.creationTimestamp).getTime()-n}))[0]]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getISOStringParts=void 0,t.getISOStringParts=function(e){return e.split(/\D+/)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSegmentedPullCampaigns=void 0;var i=n(46),a=n(48),s=n(49);t.fetchSegmentedPullCampaigns=function(e,t,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,(0,i.fetchPullCampaigns)(e,t,n)];case 1:return[2,r.sent().filter((function(e){return(0,a.isActive)(t.platform,e)&&(0,s.matchesSegments)(t,e.segments)}))]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPullCampaigns=void 0;var a=i(n(1)),s=n(47);t.fetchPullCampaigns=function(e,t,n){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return r={mode:"cors"},n&&(r.headers={Authorization:"ApiKey ".concat(n)}),[4,(0,a.default)((0,s.buildPullCampaignsEndpoint)(e,t),r,!0)];case 1:return[2,o.sent().json()||[]]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.buildPullCampaignsEndpoint=void 0;var o=r(n(0));t.buildPullCampaignsEndpoint=function(e,t){var n=t.geo,r=t.channels,i=t.subChannels;if(!n)throw new TypeError("Missing required `geo` to generate PullCampaigns request endpoint");var a=(0,o.default)(e,"pull-campaign");return a=(0,o.default)(a,n),r&&1===r.length&&(a=(0,o.default)(a,r[0]),i&&1===i.length&&(a=(0,o.default)(a,i[0]))),a}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isActive=void 0;var o=n(18),i=r(n(23));t.isActive=function(e,t){if(!t.ttl)return!1;var n=1e3*("desktop"===e?t.ttl.desktop:t.ttl.mobile),r=t.type===o.PullCampaignType.SCHEDULED?t.triggerTime:t.creationTimestamp,a=(0,i.default)(r).getTime(),s=new Date(a+n).getTime();return Date.now()<=s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSegments=void 0;var r=n(50);t.matchesSegments=function(e,t){var n=t.exclude,o=t.include;if(n)for(var i=0,a=n;i<a.length;i++){var s=a[i];if((0,r.matchesSegment)(e,s))return!1}for(var c=0,l=o;c<l.length;c++)if(s=l[c],(0,r.matchesSegment)(e,s))return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSegment=void 0;var r=n(51);t.matchesSegment=function(e,t){for(var n=0,o=t.criteria.and;n<o.length;n++){var i=o[n];if(!(0,r.matchesAndCriteria)(e,i))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchesAndCriteria=void 0;var r=n(52);t.matchesAndCriteria=function(e,t){return t.or.some((function(t){return(0,r.matchesCriterion)(e,t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchesCriterion=void 0;var r=function(e){switch(e){case"channel":return"channels";case"subchannel":return"subChannels";case"geo":return"geo";case"keyword":return"keywords";case"platform":return"platform"}},o=function(e,t){var n=e[r(t.property)];return n?(Array.isArray(n)?n:[n]).some((function(e){return e===t.value})):"ALL"===t.value},i=function(e,t){var n=e[r(t.property)];if(!n)return!1;var o=Array.isArray(n)?n:[n],i=Array.isArray(t.value)?t.value:[t.value];return o.some((function(e){return i.includes(e)}))},a={eq:o,neq:function(e,t){return!o(e,t)},not_one_of:function(e,t){return!i(e,t)},one_of:i};t.matchesCriterion=function(e,t){return(0,a[t.operator])(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPullNotificationData=void 0,t.getPullNotificationData=function(e,t,n){var r=t.assetId,o=t.body,i=t.clickThroughUrl,a=t.id,s=t.organisation,c=t.title,l=t.image,u=e.geo,d=e.platform,f=new URL(i);return f.searchParams.has("ito")||f.searchParams.append("ito","pull-notification"),f.searchParams.append("ci","".concat(t.id)),n&&f.searchParams.append("xi","".concat(n)),r&&f.searchParams.append("ai","".concat(r)),{assetId:r,body:o,campaignId:a,clickThroughUrl:f.href,geo:u,image:l,organisation:s,platform:d,title:c,type:"pull-notification",userAgent:navigator.userAgent}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackPullNotificationClickLoad=void 0;var a=n(18),s=n(22),c=i(n(9));t.trackPullNotificationClickLoad=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,i,l,u,d,f,p,m,h;return o(this,(function(o){switch(o.label){case 0:return n=t.crossOrgUserId,r=t.metadata,i=t.emit,l=t.baseEndpoint,u=t.apiKey,d=e.get("ci"),f=e.get("ai"),p=e.get("xi"),d?(m=function(e){var t=e.sharedCrossOrgUserId,n=e.crossOrgUserId,r=e.campaignId;return t?n!==t?a.PullNotificationEventAction.CLICK_PAGE_SHARE:(0,s.wasTrackedBefore)(r,t)?a.PullNotificationEventAction.CLICK_PAGE_REFRESH:a.PullNotificationEventAction.CLICK_PAGE_LOAD:a.PullNotificationEventAction.CLICK_PAGE_LOAD}({campaignId:d,crossOrgUserId:n,sharedCrossOrgUserId:p}),h={action:m,campaignId:d,crossOrgUserId:n,organisation:r.organisation,platform:r.platform,type:"pull-notification",userAgent:navigator.userAgent},f&&(h.assetId=f),[4,(0,c.default)(l,h,u)]):[3,2];case 1:o.sent(),i("pull_notification_click",h),(0,s.markAsTracked)(d,n||"unknown"),o.label=2;case 2:return[2]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCrossOrgUserId=void 0;var i=n(56),a=n(16),s=n(3);t.getCrossOrgUserId=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,c,l;return o(this,(function(o){switch(o.label){case 0:n=(0,s.getStatus)(),r=e.organisation,c=n&&Array.isArray(n.metadata.crossOrgUserIds)?n.metadata.crossOrgUserIds:[],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,i.getCrossOrgUserIdFromCentral)(r)];case 2:return[2,o.sent()||void 0];case 3:return l=o.sent(),(0,a.handleRegisterError)(l,{emit:t,metadata:e}),[3,4];case 4:return[2,c[c.length-1]]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCrossOrgUserIdFromCentral=t.API_ROOT_BY_ENV=void 0;var i=n(57);t.API_ROOT_BY_ENV={development:{central:"".concat(location.protocol,"//").concat(location.host,"/public/v1/static/latest/mol-fe-web-push-browser-register")},integration:{central:"https://hulkint.anm.co.uk/api/web-push-notification/v1/static/latest/mol-fe-web-push-browser-register"},production:{central:"https://hulkprod.anm.co.uk/api/web-push-notification/v1/static/latest/mol-fe-web-push-browser-register"}};var a={inews:["inews.co.uk"],metro:["metro.co.uk"],mol:["www.dailymail.co.uk","a.dailymail.co.uk","b.dailymail.co.uk","c.dailymail.co.uk"],newzit:["www.newzit.com"]};t.getCrossOrgUserIdFromCentral=function(e){return r(void 0,void 0,void 0,(function(){var n,r,s;return o(this,(function(o){switch(o.label){case 0:return n=function(e,t){var n=new URL(t).hostname;if("localhost"===n||n.endsWith("ngrok.io"))return"development";if(!a[e])throw new Error("No hostnames for organisation: ".concat(e));return a[e].includes(n)?"production":"integration"}(e,location.href),r="".concat(t.API_ROOT_BY_ENV[n].central,"/crossOrgInlinedMin.html?command=getCrossOrgUserId"),[4,(0,i.loadIframeAndWaitForMessage)(r,"mol-fe-web-push-cross-org-user-id")];case 1:return[2,(s=o.sent())&&s.crossOrgUserId]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadIframeAndWaitForMessage=void 0,t.loadIframeAndWaitForMessage=function(e,t){return r(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){return n=new URL(e).origin,[2,new Promise((function(r,o){var i,a=null,s=function(e){e.data.scope===t&&e.origin===n&&(window.removeEventListener("message",s),i&&clearTimeout(i),void 0!==e.data.data?r(e.data.data):o(new Error("Invalid data posted back from crossOrg iframe")),a&&a.remove())};window.addEventListener("message",s),(a=document.createElement("iframe")).style.width="0px",a.style.height="0px",a.style.border="none",a.src=e,document.body.appendChild(a),i=window.setTimeout((function(){window.removeEventListener("message",s),o(new Error("crossOrg iframe timed out")),a&&a.remove()}),1e4)}))]}))}))}}])},e.exports=r()},function(e,t,n){"use strict";n.r(t),n.d(t,"manager",(function(){return b})),n.d(t,"reader",(function(){return h}));var r=n(2);var o={cookieClientSegment:"dm_clientsegment",DMPageMetadataKey:"clientSegmentation",queryOverrideClientSegment:"segment",storageKey:"mol-fe-segmentation.data"},i=n(4),a=n.n(i);var s={getItem:e=>a.a.get(e),removeItem:e=>a.a.remove(e),setItem:(e,t,n)=>a.a.set(e,t,n)};let c={getItem:()=>null,removeItem:()=>null,setItem:()=>null};try{c=window.localStorage}catch(e){}var l={getItem:e=>function(e){try{return JSON.parse(e)}catch(t){return e}}(c.getItem(e)),removeItem:e=>c.removeItem(e),setItem:(e,t)=>c.setItem(e,function(e){return JSON.stringify(e)}(t))};var u=function(){try{const e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}()?l:s;var d=function(e,t){const n=new RegExp("[?&]"+e.replace(/[[\]]/g,"\\$&")+"(=([^&#]*)|&|#|$)").exec(t||window.location.href);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};let f;const p=function(e){return d(o.queryOverrideClientSegment,e)||null},m=function(){return f=p()||s.getItem(o.cookieClientSegment),f};var h={getActiveSegment:function(){return f||m()},getSegmentOverride:p,setActiveSegment:m},_=n(1);var g=function(){return Object(_.getPageMetadata)()[o.DMPageMetadataKey]||{}};const E=function(e={}){const t=Object.keys(e).reduce(((t,n)=>t+e[n].weight),0);return Math.random()*t},v=function(e={}){const t=e.segments;let n;if(t){const e=E(t);let r;r=0,n=Object.keys(t).find((n=>(r+=t[n].weight,e<r)))}return n},y=function(e,t){return e.shuffleNumber!==t.shuffleNumber&&(Number(e.shuffleNumber)||-1/0)<(Number(t.shuffleNumber)||1/0)};var b={getRandomSegmentFromConfig:v,getRandomSegmentWeight:E,run:function(){const e=h.getActiveSegment(),t=s.getItem(o.cookieClientSegment),n=u.getItem(o.storageKey)||{},r=g(),i=y(n,r),a=e!==t;if(i||a||!t){const t=i?r:n,c=a?e:v(t);c?s.setItem(o.cookieClientSegment,c,{expires:1e3}):s.removeItem(o.cookieClientSegment),t!==n&&u.setItem(o.storageKey,t)}},storedConfigIsOutdated:y};Object(r.later)("PAGE_METADATA_SET",(()=>b.run()))},function(e,t,n){var r=n(55);e.exports=function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){if(--e<1)return t.apply(this,arguments)}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(112);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(113),o=n(114),i=n(115),a=n(116),s=n(117);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(37),o=n(36),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){(function(e){var r=n(38),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(122)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(132),o=n(64),i=n(65);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(30)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}},function(e,t,n){var r=n(135),o=n(26),i=n(137),a=n(55),s=n(138),c=Math.max;e.exports=function(e,t,n,l){e=o(e)?e:s(e),n=n&&!l?a(n):0;var u=e.length;return n<0&&(n=c(u+n,0)),i(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&r(e,t,n)>-1}},function(e,t,n){var r=n(40),o=n(10);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){e.exports=n(42)},function(e,t,n){var r=n(143)();e.exports=r},function(e,t,n){e.exports=n(146)},function(e,t,n){var r=n(147),o=n(152);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}},function(e,t,n){var r=n(153),o=n(154),i=n(75),a=n(15);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(155);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(156),o=n(62),i=n(79),a=n(15),s=n(26),c=n(39),l=n(65),u=n(80),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(69),o=n(75),i=n(157),a=n(15);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(32),o=n(10);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,n){var r=n(158),o=n(73)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){var r=n(37),o=n(36);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(7);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,n){"use strict";(function(t){var r=n(7);e.exports=function(e,n){n=n||new FormData;var o=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):t.from(e):e}return function e(t,a){if(r.isPlainObject(t)||r.isArray(t)){if(-1!==o.indexOf(t))throw Error("Circular reference detected in "+a);o.push(t),r.forEach(t,(function(t,o){if(!r.isUndefined(t)){var s,c=a?a+"."+o:o;if(t&&!a&&"object"==typeof t)if(r.endsWith(o,"{}"))t=JSON.stringify(t);else if(r.endsWith(o,"[]")&&(s=r.toArray(t)))return void s.forEach((function(e){!r.isUndefined(e)&&n.append(c,i(e))}));e(t,c)}})),o.pop()}else n.append(a,i(t))}(e),n}}).call(this,n(173).Buffer)},function(e,t,n){"use strict";var r=n(7),o=n(177),i=n(178),a=n(87),s=n(91),c=n(181),l=n(182),u=n(88),d=n(19),f=n(31),p=n(183);e.exports=function(e){return new Promise((function(t,n){var m,h=e.data,_=e.headers,g=e.responseType;function E(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}r.isFormData(h)&&r.isStandardBrowserEnv()&&delete _["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";_.Authorization="Basic "+btoa(y+":"+b)}var w=s(e.baseURL,e.url);function O(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};o((function(e){t(e),E()}),(function(e){n(e),E()}),i),v=null}}if(v.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=O:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(O)},v.onabort=function(){v&&(n(new d("Request aborted",d.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,v,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,v)),v=null},r.isStandardBrowserEnv()){var I=(e.withCredentials||l(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;I&&(_[e.xsrfHeaderName]=I)}"setRequestHeader"in v&&r.forEach(_,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete _[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&"json"!==g&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(m=function(e){v&&(n(!e||e&&e.type?new f:e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m))),h||(h=null);var S=p(w);S&&-1===["http","https","file"].indexOf(S)?n(new d("Unsupported protocol "+S+":",d.ERR_BAD_REQUEST,e)):v.send(h)}))}},function(e,t,n){"use strict";var r=n(179),o=n(180);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},function(e,t){e.exports={version:"0.27.2"}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.goingBack=t.resetScroll=t.setClientPosition=t.setPosition=t.updatePosition=t.updateMouseOverIframe=t.updateScrollDirection=t.getScrollLeft=t.getScrollTop=t.endInteraction=t.startInteraction=t.isMouseOverIframe=t.isInteracting=t.getHash=t.setHash=t.setHoveringOverIframe=void 0;var r=n(45),o=n(46),i={clientX:0,clientY:0,history:[],interacting:!1,loading:!0,mouseOverIframe:!1,scrollXDirection:0,scrollYDirection:0,scrollLeft:0,scrollTop:0},a=t.setHoveringOverIframe=function(e){i.mouseOverIframe=e},s=(t.setHash=function(e){i.history.push(e)},t.getHash=function(){return i.history[i.history.length-1]},t.isInteracting=function(){return i.interacting||i.loading},t.isMouseOverIframe=function(){return i.mouseOverIframe}),c=(t.startInteraction=function(){i.interacting=!0},t.endInteraction=function(){i.interacting=!1},t.getScrollTop=function(){return i.scrollTop},t.getScrollLeft=function(){return i.scrollLeft},function(e,t){switch(t){case 1:return e-1;case-1:return e+1;default:return e}}),l=function(e,t){return e>t?1:e<t?-1:0},u=(t.updateScrollDirection=function(){i.scrollXDirection=l(e.pageXOffset,i.scrollLeft),i.scrollYDirection=l(e.pageYOffset,i.scrollTop)},new o.Debouncer({ms:400,fn:function(){c(i.clientX,i.scrollXDirection),c(i.clientY,i.scrollYDirection);var t=e.document.elementFromPoint(i.clientX-1,i.clientY-1),n=e.document.elementFromPoint(i.clientX+1,i.clientY+1),r=t&&"IFRAME"===t.nodeName||n&&"IFRAME"===n.nodeName;a(r)}})),d=(t.updateMouseOverIframe=function(){s()?u.call():u.force()},t.updatePosition=function(){d(e.pageXOffset,e.pageYOffset)},t.setPosition=function(e,t){i.scrollLeft=e,i.scrollTop=t});t.setClientPosition=function(e,t){i.clientX=e,i.clientY=t},t.resetScroll=function(){(0,r.scrollTo)(i.scrollLeft,i.scrollTop)},t.goingBack=function(){return i.history[i.history.length-2]===e.location.hash};e.addEventListener("load",(function(){(0,o.nextTick)((function(){i.loading=!1}))}))}).call(this,n(12))},function(e,t,n){"use strict";n.r(t),n.d(t,"retrieveXpModuleHeadJson",(function(){return l})),n.d(t,"retrieveXpModuleBody",(function(){return d}));var r=n(22),o=n.n(r);const i="www.dailymail.co.uk",a="mol-fe-xp-module-data-utils",s=window.location.hostname===i?i:"www.dailymailint.co.uk",c="retrieveXpModuleHeadJson";var l=async({name:e,env:t,values:n})=>{let r;const i=`https://${s}/xpmodules/${e}/renderHeadJson?data=`,l={env:t,values:n};try{r=`${i}${encodeURIComponent(JSON.stringify(l))}`}catch(t){return console.error(`[${a}] ${c}.urlError`,{error:t,hostname:s,name:e,...l}),null}try{const e=(await o.a.get(r,{timeout:1e4})).data;return e?(Array.isArray(e.scripts)||(e.scripts=[]),Array.isArray(e.styles)||(e.styles=[]),e):{scripts:[],styles:[]}}catch(e){return console.error(`[${a}] ${c}.thrownError`,{error:e,url:r}),null}};const u="retrieveXpModuleBody";var d=async({name:e,env:t,values:n})=>{let r;const i=`https://${s}/xpmodules/${e}/renderBody?data=`,c={env:t,values:n};try{r=`${i}${encodeURIComponent(JSON.stringify(c))}`}catch(t){return console.error(`[${a}] ${u}.urlError`,{error:t,hostname:s,name:e,...c}),null}try{const{data:e}=await o.a.get(r,{timeout:1e4});return"string"!=typeof e||""===e?(console.error(`[${a}] ${u}.invalidBody`,{body:e,url:r}),null):e}catch(e){return console.error(`[${a}] ${u}.thrownError`,{error:e,url:r}),null}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){var r,o;r=function(e){"use strict";var t,n,r,o,i=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e},a={template:"[%t] %l:",timestampFormatter:function(e){return e.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},levelFormatter:function(e){return e.toUpperCase()},nameFormatter:function(e){return e||"root"}},s=function(e,o){if(!e||!e.getLogger)throw new TypeError("Argument is not a root loglevel object");if(t&&r!==e.methodFactory)throw new Error("You can't reassign a plugin after appling another plugin");return t=e,o=i({},a,o),n=n||e.methodFactory,r=function(e,t,r){var i=n(e,t,r),a=-1!==o.template.indexOf("%t"),s=-1!==o.template.indexOf("%l"),c=-1!==o.template.indexOf("%n");return function(){for(var t=o.template,n=arguments.length,l=Array(n),u=0;u<n;u++)l[u]=arguments[u];a&&(t=t.replace(/%t/,o.timestampFormatter(new Date))),s&&(t=t.replace(/%l/,o.levelFormatter(e))),c&&(t=t.replace(/%n/,o.nameFormatter(r))),l.length&&"string"==typeof l[0]?l[0]=t+" "+l[0]:l.unshift(t),i.apply(void 0,l)}},e.methodFactory=r,e.setLevel(e.getLevel()),e},c={apply:s,disable:function(){if(!t)throw new Error("You can't disable a not appled plugin");if(r!==t.methodFactory)throw new Error("You can't disable a plugin after appling another plugin");t.methodFactory=n,t.setLevel(t.getLevel()),n=void 0,t=void 0}};return e&&(o=e.prefix,c.noConflict=function(){return e.prefix===c&&(e.prefix=o),c}),c},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));const r=e=>{try{if("localStorage"in window){const t=window.localStorage.getItem(`mol-fe-paywall-${e}`);return t?JSON.parse(t):null}}catch(e){}return null},o=2592e5,i=()=>{const e=r("entitlement");if(!e)return!1;const{allow_access:t,storedAt:n,registeredUserId:i}=e;return!(Date.now()-n>o||"DM"in window&&"isLoggedIn"in window.DM&&i!==window.DM.userId)&&(t||!1)},a=["US","IN","IR","CU","KP","SY","VE","AF","BY","BI","CF","CN","HK","CD","EG","ER","ET","IQ","LB","LY","ML","MM","NI","GN","GW","RU","SO","SS","SD","TN","TR","UA","YE","ZW"],s=()=>{try{return window.PageCriteria&&window.PageCriteria.geo&&!a.includes(window.PageCriteria.geo)||(()=>{try{if(location.hostname&&location.hostname.startsWith("cc"))return!0;if("about:srcdoc"===location.href)return!0}catch(e){}return!1})()}catch(e){}return!1},c=()=>{const e=r("entitlement");return e&&e.entitlements||null},l=()=>{const e=r("entitlement"),t=s(),n=window.mailplusPurchaseOutcome||location.search.includes("mailplusPurchaseOutcome"),i="DM"in window&&"isLoggedIn"in window.DM&&window.DM.isLoggedIn||location.search.includes("login"),a="DM"in window&&"userId"in window.DM&&e&&e.registeredUserId!==window.DM.userId;return!!t&&(!!n||(!!(i&&!e||a)||!!(e&&Date.now()-e.storedAt>o)))},u=()=>{const e=c(),t=i(),n=e&&e.includes("mailplus-ad-lite");return t?n?"subscriber-ad-lite":"subscriber":"none"},d=()=>{try{window.getIsPaywallEligible=s,window.getIsPaywallSubscriber=i,window.getPaywallEntitlements=c,window.getPaywallEntitlementsMightChange=l,window.getPaywallSubscriberType=u,window.paywallSubscriberType=u()}catch(e){}}},function(e,t,n){"use strict";var r=n(21),o=n(1),i=n(53);var a=function(){return i.reader.getActiveSegment()||"default"};var s={geo(){},ito:window.RTA?window.RTA.ito:function(){},tedEvent(e,t={}){t.clientSegment=a(),this.i&&(t.ito=this.i),Object.assign(t,function(){const e={},t=Object(o.getPageMetadata)(),n=t&&t.authorName&&t.authorName.split(";");return n&&n.length&&(e.authors=n),e}()),Object.assign(t,function(){const e={},t=Object(o.getPageMetadata)();return e.rp=t.renderPlatform,e}()),t.title||Object.assign(t,function(){const e={},t=Object(o.getPageMetadata)();if(t.articleId){const n=document.head.querySelector('meta[property="twitter:title"]')||document.head.querySelector('meta[property="og:title"]');e.title=n?n.getAttribute("content"):t.articleTitle}return e}()),function(e,t){window.RTA&&window.RTA.tedEvent(e,t)}(e,t)}};const c=function(e){return function(t,n){s.tedEvent("page_event",{action:"store",name:e,value:n})}};var l={CONTACT_FORM_CAPTCHA_VALID:c("mol-fe-contact-form-captcha-valid"),CONTACT_FORM_FILE_ADDED:c("mol-fe-contact-form-file-added"),CONTACT_FORM_FILE_ERROR_CLIENT:c("mol-fe-contact-form-file-error-client"),CONTACT_FORM_FILE_ERROR_SERVER:c("mol-fe-contact-form-file-error-server"),CONTACT_FORM_SUBMIT_CLICK:c("mol-fe-contact-form-submit-click"),CONTACT_FORM_SUBMIT_ERROR:c("mol-fe-contact-form-submit-error"),CONTACT_FORM_SUBMIT_SUCCESS:c("mol-fe-contact-form-submit-success")};var u={FIDELITY_CAMPAIGN_EVENT:function(e,t,n){s.tedEvent("page_event",{action:n.action,name:n.name,value:n.value})}};var d={FLOATING_BUTTONS_BACK_TO_TOP:function(e,t){s.tedEvent("page_event",{action:"set",name:"backToTop",value:t.value})}};const f=function(e){s.tedEvent("page_event",{action:"store",name:e,value:!0})};var p={GDPR_EMBEDDED_VIDEO_ACCEPTED:f,GDPR_EMBEDDED_VIDEO_DISPLAYED:f,GDPR_EMBEDDED_VIDEO_SETTINGS:f,GDPR_MOBILE_HOME_ACCEPTED:f,GDPR_MOBILE_HOME_DISPLAYED:f,GDPR_MOBILE_HOME_SETTINGS:f,GDPR_OVERLAY_ACCEPT_BY_CLICK_SITE:f,GDPR_OVERLAY_ACCEPTED:f,GDPR_OVERLAY_DISPLAYED:f,GDPR_OVERLAY_PRIVACY:f,GDPR_SETTINGS_ADVERTISING_ALLOW_ALL:f,GDPR_SETTINGS_ADVERTISING_LINK_CLICKED:f,GDPR_SETTINGS_ADVERTISING_TAB_CLICKED:f,GDPR_SETTINGS_CONFIRMATION_ALLOW:f,GDPR_SETTINGS_CONFIRMATION_DISALLOW:f,GDPR_SETTINGS_DISALLOW_ADVERTISING_PARTNERS:f,GDPR_SETTINGS_FUNCTION_ALLOW_ALL:f,GDPR_SETTINGS_FUNCTION_TAB_CLICKED:f,GDPR_SETTINGS_POLICY_LINK_CLICKED:f},m=n(4),h=n.n(m),_=n(23),g=n(13);const E=function(e){const t=document.referrer,n=Object(o.getPageMetadata)(),r=new RegExp(`#${e}(\\?.*)?$`);if(/.html([?#].*)?$/.test(t)&&r.test(window.location.hash)&&"article"===n.contentType){const e=t.split("/");return e[e.length-2]}return null};var v=n(48),y=n(49),b=n(34),w=n(16),O=n(50);let I=!1;const S=()=>{try{if("visibilityState"in document&&"visible"===document.visibilityState)return 1}catch(e){}return 2},A=function(e,t){const n=Object(o.getPageMetadata)(),r=n.dmtvEpisode||null;let i={};Object(v.a)()&&!I&&(I=!0,i={autoRefresh:S()});const a=[],c=Object(_.getExperiments)();if(c&&c.length)for(const e of c)a.push(`track:${e}`);n.feTag&&a.push(`feTag:${n.feTag}`);const l=Object(y.a)();l&&a.push(`swipe:${l}`);const u=Object(b.a)();u&&a.push(`track:mobilehometab${u}`);Object(b.b)()&&a.push("track:signpost-shown");const{geo:d,region:f}=Object(o.getPageCriteria)();"GB"===d&&"SC"===f&&a.push("region:scotland");const p=Object(w.c)();if("home"===n.contentType||"topic"===n.contentType){let e=n.subChannel;if(n.channel===n.subChannel&&["/home","/ushome","/auhome"].includes(n.channel)&&"mobile"===n.renderPlatform){e+="showbiz"===(t&&t.mobileHomeTabActive||h.a.get("mol-home")||"news")?"/tvshowbiz":""}s.tedEvent("cview",{channel:e,dmtvEpisode:r,tags:a.join(","),userStatus:p,...i})}else if("article"===n.contentType){const e=g.a.isMobile||g.a.isTablet?null:E("video"),{articleType:t,liveBlog:c,openwebEnabled:l,sources:u,sponsored:d}=Object(o.getPageCriteria)(),f="true"===d||!0===d,m=Object(w.a)();n.isFeatureArticle?a.push("feature-article"):"permabox"===t?a.push("permabox"):c?a.push("live-blog"):a.push("normal-article"),a.push(e?"videos-link":"no-links"),l&&a.push("track:openwebEnabled"),f&&a.push("sponsored");const h=(()=>{try{const{moduleTracking:e}=Object(O.a)(),t=e&&e.match(/\^(swipe(bar|tutorial)?)\^/);return t&&t[1]||null}catch(e){return null}})();h&&a.push(`track:${h}`),s.tedEvent("view",{dmtvEpisode:r,openwebEnabled:l?1:0,paywallStatus:m,tags:a.join(","),userStatus:p,...i,...u?{sources:u}:{}})}else"profile"!==n.contentType&&"login"!==n.contentType||(a.push(n.contentType),s.tedEvent("cview",{authors:[n.authorName],tags:a,...i}))};var T={FEATURE_ARTICLE:function(e,t){s.tedEvent("page_event",{actions:[{action:"max",name:"feature-article-page",value:Number(t.pageNumber.split("/")[0])},{action:"set",name:"feature-article-length",value:Number(t.pageNumber.split("/")[1])}]})},FFF_BUY_MAIN_CLICKED:function(e,t){s.tedEvent("fff-buy-main",t)},FFF_BUY_RELATED_CLICKED:function(e,t){s.tedEvent("fff-buy-related",t)},FFF_CONTENT_VIEWED:function(e,t){s.tedEvent("fff-view",t)},GALLERY_ADVERT_STATS:function(e,t){s.tedEvent("ad-tracking",{adverts:t.stats,type:t.type})},PAGE_AUTOREFRESH_EVENT:()=>{s.tedEvent("page_event",{action:"store",name:"autorefresh",value:"event"})},PAGE_COMMENT_TAB_SWAPPED:function(e,t){s.tedEvent("page_event",{action:"store",name:"rc_tab_select",value:{tab:t.tab}})},PAGE_MOBILE_TAB_CHANGE:A,PAGE_RENDER_STARTED:A},C=n(0);var L={PAGE_AD_DISPLAYED(e,t){s.tedEvent("ad-tracking",{type:t.type})},PAGE_AD_ERRORS(e,t){C.logger.debug("TED Ad Error Event",t),s.tedEvent("ad-errors",{errorMsg:JSON.stringify(t),type:"ad-errors"})},PAGE_AD_STATS(e,t){s.tedEvent("ad-stats",{stats:JSON.stringify(t),type:"ad-stats"})}};const P=function(e){return(e||"").replace(/[\W_]+/g,"").toLowerCase()},R=function(e){return e&&!isNaN(e)?e:null},N=function(e){return{googleplus:"google",gplus:"google",plusone:"google"}[e]||P(e)};var M={FFF_SOCIAL_CLICKED(e,t){s.tedEvent("share",{article:R(t.pageMetaData.articleId),loc:"fff",on:N(t.socialSite)})},SOCIAL_BUTTON_CLICKED(e,t){s.tedEvent("social-event",{"social-event":t.type})},SOCIAL_SHARE_CLICKED(e,t){const n={article:R(t.articleId),loc:P(t.placement),on:N(t.site)};t.videoId&&(n.videoId=t.videoId),t.referenceId&&(n.referenceId=t.referenceId),s.tedEvent("share",n)},SYNDSHARE_POST(e,t){s.tedEvent("share",{article:R(t.article),loc:"syndshare",on:"synd_"+t.on})}};const D=function(e,t){const n=t.dmtvEpisode||null;"chromeless"!==t.trackingType&&s.tedEvent("video-event",{action:e,adBlockStatus:t.adBlockStatus||"UNKNOWN",adErrorCode:t.adErrorCode,adErrorData:t.adErrorData,adSdk:t.adSDK,autoplay:t.autoplay,currentSrc:t.currentSrc,currentType:t.currentType,dmtvEpisode:n,duration:t.offset,errorMessage:t.errorMessage,id:t.videoId,initial:t.initialVideo,ito:t.ito,module:t.trackingType,percent:0===t.duration?0:t.offset/t.duration*100,play:t.play,recommendationModel:t.recommendationModel,referenceId:t.referenceId,title:t.displayName,version:t.version,videoChannel:t.videoChannel,videoPlayerType:t.playerId})};var k={VIDEO_ADVERT_ABORTED:D,VIDEO_ADVERT_COMPLETED:D,VIDEO_ADVERT_FAILED:D,VIDEO_ADVERT_STARTED:D,VIDEO_BRANDED_CONTENT_PROGRESS:D,VIDEO_CONFIG_CHANGE:function(e,t){"chromeless"!==t.trackingType&&s.tedEvent("page_event",{action:"set",name:e,play:t.play,value:t.value})},VIDEO_CONTENT_ABORTED:D,VIDEO_CONTENT_COMPLETED:D,VIDEO_CONTENT_STARTED:D,VIDEO_EXTRA:function(e,t){"chromeless"!==t.trackingType&&s.tedEvent("video-event",{action:e,adBlockStatus:t.adBlockStatus||"UNKNOWN",adSdk:t.adSDK,autoplay:t.autoplay,currentSrc:t.currentSrc,currentType:t.currentType,duration:t.offset,extra:{advertPlaying:t.advertPlaying,articleLinkClicked:t.articleLinkClicked,articleLinkHovered:t.articleLinkHovered,articleUrl:t.articleUrl,contentPlaying:t.contentPlaying,expand:t.fullscreen,mute:t.muted,playerClosed:t.playerClosed,timeSinceStartOfPlayer:t.timeSinceStartOfPlayer},id:t.videoId,initial:t.initialVideo,module:t.trackingType,percent:0===t.duration?0:t.offset/t.duration*100,play:t.play,referenceId:t.referenceId,title:t.displayName,version:t.version,videoChannel:t.videoChannel,videoPlayerType:t.playerId})},VIDEO_PROGRESS:function(e,t){"chromeless"!==t.trackingType&&t&&0!==t.ratio&&s.tedEvent("video-event",{action:e,duration:t.offset,id:t.videoId,ito:t.ito,module:t.trackingType,percent:100*t.ratio,play:t.play,recommendationModel:t.recommendationModel,title:t.displayName,version:t.version,videoPlayerType:t.playerId})},VIDEO_STREAM_FAILED:D,VIDEO_STREAM_STARTED:D};const x={},B="carousel_swipe",U=(e,t)=>(n,r)=>{x[t]||(x[t]=0),x[t]++;const o={video_player_type:"mobile up next"};t===B?o.swipes=x[t]:(r&&r.videoPosition&&(o.module_click_list_position=Number(r.videoPosition)),o.clicks=x[t]),s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:o})};var j={VIDEO_CAROUSEL_CLICK:U("video","carousel_click"),VIDEO_CAROUSEL_SWIPE:U("video",B),VIDEO_THUMBNAIL_CLICK:U("video","thumbnail_click")};const F=function(e,t){s.tedEvent("push",t)};var W={WEB_PULL_NOTIFICATION_CLICK:function(e,t){s.tedEvent("pull",t)},WEB_PUSH_NOTIFICATION_CLICK:F,WEB_PUSH_PRE_PROMPT_CLICK:F,WEB_PUSH_PRE_PROMPT_IMPRESSION:F,WEB_PUSH_PROMPT_CLICK:F,WEB_PUSH_PROMPT_IMPRESSION:F};const V=e=>{s.tedEvent("page_event",{action:"set",name:`remixd_${e}`,value:Date.now()})};var G={REMIXD_COMPLETE:()=>V("complete"),REMIXD_ERROR:()=>V("error"),REMIXD_IMPRESSION:()=>V("impression"),REMIXD_MUTE:()=>V("mute"),REMIXD_PAUSE:()=>V("pause"),REMIXD_PLAY:()=>V("play")};const K=(e,t)=>(n,r)=>{const{campaignId:o}=r;s.tedEvent("page_event",{action:"set",name:`${e}_${o}_${t}`,value:Date.now()})};var H={GUESTBOOK_IMPRESSION:K("guestbook","impression"),GUESTBOOK_LOADING_ERROR:K("guestbook","loading_error"),GUESTBOOK_SUBMIT_ERROR:K("guestbook","submit_error"),GUESTBOOK_SUBMIT_SUCCESS:K("guestbook","submit_success")};const $={},Y=e=>(t,n)=>((e,t)=>{$[e]||($[e]=0),$[e]++,s.tedEvent("page_event",{action:"set",name:`openweb_${e}`,value:t&&void 0!==t.value?t.value:$[e]})})(e,n);var q={OPENWEB_DELETE_MESSAGE:Y("delete_message"),OPENWEB_DOWNVOTE:Y("downvote"),OPENWEB_EDIT_MESSAGE:Y("edit_message"),OPENWEB_FLOATING_CLICK:Y("floating_click"),OPENWEB_FLOATING_DISMISS:Y("floating_dismiss"),OPENWEB_IMPRESSION:Y("impression"),OPENWEB_LOAD_ERROR:Y("load_error"),OPENWEB_LOAD_TIME:Y("load_time"),OPENWEB_LOGIN_START:Y("login_start"),OPENWEB_OPEN_PROFILE:Y("open_profile"),OPENWEB_POST_LOGIN_SUCCESS:Y("post_login_success"),OPENWEB_SEND_FAIL:Y("send_fail"),OPENWEB_SEND_SUCCESS:Y("submit_success"),OPENWEB_SHARE_TYPE:Y("share_type"),OPENWEB_SORT_OPEN:Y("sort_open"),OPENWEB_SORT_SELECT:Y("sort_select"),OPENWEB_UPVOTE:Y("upvote"),OPENWEB_VIEWABLE:Y("viewable")};var X={PROMOTIONAL_SLOT_EVENT:(e,t)=>{if(!t||"string"!=typeof t.xpModuleName||"string"!=typeof t.eventName)return C.logger.error("[mol-fe/mol-fe-tracking] ted.promotionalSlot.createHandler.invalidProps",t),null;const n=t.xpModuleName.substring(0,t.xpModuleName.indexOf("@")),{eventName:r}=t;return s.tedEvent("page_event",{action:"set",name:`promotional_slot_${n}_${r}`,value:Date.now()}),!0}};const z=(e,t)=>()=>{s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:Date.now()})};var J={SWIPE_BAR_SHOWN:z("swipe_bar","shown"),SWIPE_TUTORIAL_CLOSE:z("swipe_tutorial","close"),SWIPE_TUTORIAL_SHOWN:z("swipe_tutorial","shown")};const Z={},Q=e=>(t,n)=>((e,t)=>{Z[e]||(Z[e]=0),Z[e]++,s.tedEvent("page_event",{action:"set",name:`comments_${e}`,value:t&&void 0!==t.value?t.value:Z[e]})})(e,n);var ee={COMMENTS_ADD_COMMENT_CLICK:Q("add_comment_click"),COMMENTS_CLEAR:Q("clear"),COMMENTS_DOWNVOTE:Q("downvote"),COMMENTS_IMPRESSION:Q("impression"),COMMENTS_LOAD_TIME:Q("load_time"),COMMENTS_LOGIN_REDIRECT:Q("login_redirect"),COMMENTS_NEW_COMMENT_CLICK:Q("new_comment_click"),COMMENTS_OVERLAY_CLOSE:Q("overlay_close"),COMMENTS_OVERLAY_OPEN:Q("overlay_open"),COMMENTS_PAGINATION_CLICK:Q("pagination_click"),COMMENTS_PROFILE_CLICK:Q("profile_click"),COMMENTS_REPLY_CLICK:Q("reply_click"),COMMENTS_REPLY_SUBMIT:Q("reply_submit"),COMMENTS_REPORT_CLICK:Q("report_abuse"),COMMENTS_SHOW_MORE_CLICK:Q("show_more"),COMMENTS_SUBMIT_COMMENT:Q("submit"),COMMENTS_SUBMIT_SUCCESS:Q("submit_success"),COMMENTS_UPVOTE:Q("upvote"),COMMENTS_VIEW_ALL:Q("view_all"),SOCIAL_SHARE_COMMENTS:Q("added")};var te,ne,re={MASTHEAD_CLICK:(te="masthead",ne="click",(e,t)=>{const{mastheadName:n}=t;s.tedEvent("page_event",{action:"set",name:`${te}_${n}_${ne}`,value:Date.now()})})};const oe=(e,t)=>(n,r)=>{const{value:o}=r||{};s.tedEvent("page_event",{action:"set",name:`${e}_${t}${o?`_${o}`:""}`,value:Date.now()})};var ie={COMMERCE_XP_CLICK:oe("commerce_xp","click"),COMMERCE_XP_IMPRESSION:oe("commerce_xp","impression"),COMMERCE_XP_VIEW_MORE:oe("commerce_xp","view_more"),COMMERCE_XP_VIEWABLE:oe("commerce_xp","viewable")};const ae=(e,t)=>()=>{s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:Date.now()})};var se={COMMENT_CTA_CLICK:ae("commentcta","click"),COMMENT_CTA_IMPRESSION:ae("commentcta","impression")};const ce={},le=e=>(t,n)=>{return ce[r=e]||(ce[r]=0),ce[r]++,void s.tedEvent("page_event",{action:"set",name:`mobile_menu_${r}`,value:ce[r]});var r};var ue={MOBILE_MENU_COMMENT:le("comment"),MOBILE_MENU_DESKTOP_SITE:le("desktop_site")};const de={};var fe={PAGE_FURNITURE_CLICKED:(e,t)=>{const n=t&&t.furnitureName;if(!n)return;const r=n.replace(/\s/g,"_");de[r]||(de[r]=0),de[r]++,s.tedEvent("page_event",{action:"set",name:`furniture_${r}`,value:de[r]})}};const pe={},me=(e,t)=>(n,r)=>{pe[t]||(pe[t]=0),pe[t]++;let o=t;"ineligible"===t&&r&&r.reason&&(o=`${t}_${r.reason.replace(/ /g,"_")}`),s.tedEvent("page_event",{action:"set",name:`${e}_${o}`,value:pe[t]})};var he={ARTICLE_TRUNCATION_EXPAND:me("article_truncation","expand"),ARTICLE_TRUNCATION_INELIGIBLE:me("article_truncation","ineligible"),ARTICLE_TRUNCATION_READ_NEXT:me("article_truncation","read_next"),ARTICLE_TRUNCATION_TRUNCATE:me("article_truncation","truncate"),ARTICLE_TRUNCATION_VIEWABLE:me("article_truncation","viewable")};const _e={},ge=e=>{_e[e]||(_e[e]=0),_e[e]++,s.tedEvent("page_event",{action:"set",name:`mobile_homepage_${e}`,value:_e[e]})},Ee={MOBILE_HOME_PAGE_NAV:(e,t)=>{const{action:n}=t;ge(`puff_module_${n.replace(/\s/g,"_")}`)},MOBILE_HOME_PAGE_OVERLAY:()=>ge("overlay_display"),MOBILE_HOME_PAGE_SIGNPOST_CLICK:()=>ge("signpost_click"),MOBILE_HOME_PAGE_SIGNPOST_DISMISS:()=>ge("signpost_dismiss"),MOBILE_HOME_PAGE_SIGNPOST_DISPLAY:()=>ge("signpost_display"),MOBILE_HOME_PAGE_SWIPE:(e,t)=>{const{action:n,label:r}=t;ge(`${n}_${r}`)},MOBILE_HOME_PAGE_VIEW:(e,t)=>{const{actionSource:n}=t,r=h.a.get("mol-home"),o=h.a.get("mol-home-default-channel");ge(`${n||"overlay"}_choice_${r}${o?`_geo_${o.toLowerCase()}`:""}`)}};var ve=Ee;const ye={},be=e=>(t,n)=>((e,t)=>{ye[e]||(ye[e]=0),ye[e]++,s.tedEvent("page_event",{...t,action:"set",name:`firework_video_carousel_${e}`,value:ye[e]})})(e,n);var we={FIREWORK_VIDEO_CAROUSEL_ERROR:be("error"),FIREWORK_VIDEO_CAROUSEL_IMPRESSION:be("carousel_impression"),FIREWORK_VIDEO_CAROUSEL_PLAYER_NAVIGATION:be("player_navigation"),FIREWORK_VIDEO_CAROUSEL_PLAYER_QUIT:be("player_quit"),FIREWORK_VIDEO_CAROUSEL_PLAYER_TRANSITION:be("player_transition"),FIREWORK_VIDEO_CAROUSEL_READY:be("carousel_ready"),FIREWORK_VIDEO_CAROUSEL_THUMBNAIL_CLICK:be("thumbnail_click"),FIREWORK_VIDEO_CAROUSEL_VIDEO_CLICK_CTA:be("video_click_cta"),FIREWORK_VIDEO_CAROUSEL_VIDEO_CLICK_SHARE:be("video_click_share"),FIREWORK_VIDEO_CAROUSEL_VIDEO_COMPLETE:be("video_complete"),FIREWORK_VIDEO_CAROUSEL_VIDEO_FIRST_QUARTILE:be("video_first_quartile"),FIREWORK_VIDEO_CAROUSEL_VIDEO_IMPRESSION:be("video_impression"),FIREWORK_VIDEO_CAROUSEL_VIDEO_MID_POINT:be("video_mid_point"),FIREWORK_VIDEO_CAROUSEL_VIDEO_SESSION:be("video_session"),FIREWORK_VIDEO_CAROUSEL_VIDEO_START:be("video_start"),FIREWORK_VIDEO_CAROUSEL_VIDEO_THIRD_QUARTILE:be("video_third_quartile")};const Oe={},Ie=(e,t)=>()=>{Oe[t]||(Oe[t]=0),Oe[t]++,s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:Oe[t]})};var Se={PUZZLE_COMPLETE:Ie("puzzle","complete"),PUZZLE_STARTED:Ie("puzzle","started")};const Ae=(e,t)=>(n,r)=>{const{value:o}=r||{};s.tedEvent("page_event",{action:"set",name:`${e}_${t}${o?`_${o}`:""}`,value:Date.now()})};var Te={ARTICLE_PREVIEW_XP_CLICK:Ae("article_preview_xp","click"),ARTICLE_PREVIEW_XP_IMPRESSION:Ae("article_preview_xp","impression"),ARTICLE_PREVIEW_XP_VIEWABLE:Ae("article_preview_xp","viewable")};const Ce={},Le=(e,t)=>(n,r)=>{Ce[t]||(Ce[t]=0),Ce[t]++,s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:r||Ce[t]})};var Pe={RELATED_REPLACE_CLICK:Le("related_replace","click"),RELATED_REPLACE_IMPRESSION:Le("related_replace","impression"),RELATED_REPLACE_VIEWABLE:Le("related_replace","viewable")};const Re={},Ne=e=>()=>{Re[e]||(Re[e]=0),Re[e]++,s.tedEvent("page_event",{action:"set",name:e,value:Re[e]})};var Me={...{CMP_LEVEL_ONE_ACCEPT:Ne("cmp_level_1_accept"),CMP_LEVEL_ONE_CONVERSION:Ne("cmp_level_1_conversion"),CMP_LEVEL_ONE_LOGIN:Ne("cmp_level_1_login"),CMP_LEVEL_ONE_PRIVACY_SETTINGS:Ne("cmp_level_1_privacy_settings"),CMP_LEVEL_ONE_SUBSCRIBE:Ne("cmp_level_1_subscribe"),CMP_LEVEL_TWO_CONVERSION:Ne("cmp_level_2_conversion"),CMP_LEVEL_TWO_SAVE_EXIT:Ne("cmp_level_2_save_exit"),CMP_LEVEL_TWO_SUBSCRIBE:Ne("cmp_level_2_subscribe")},...{ESSENTIAL_ACCOUNT_LINK_COMPLETE:Ne("essential_account_link_complete"),ESSENTIAL_ACCOUNT_LINK_HELP_CLICK:Ne("essential_account_link_help_click"),ESSENTIAL_ACCOUNT_LINK_PROMPT:Ne("essential_account_link_prompt"),ESSENTIAL_ACCOUNT_LINK_RESEND:Ne("essential_account_link_resend_email_click"),ESSENTIAL_RESTORE_PURCHASE_CLICK:Ne("essential_restore_purchase_click")}};const De={},ke=(e,t)=>()=>{De[t]||(De[t]=0),De[t]++,s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:De[t]})};var xe={PAYWALL_ACCOUNT_LINK_COMPLETE:ke("paywall","account_link_complete"),PAYWALL_ACCOUNT_LINK_HELP:ke("paywall","account_link_help"),PAYWALL_ACCOUNT_LINK_PROMPT:ke("paywall","account_link_prompt"),PAYWALL_ACCOUNT_LINK_RESEND:ke("paywall","account_link_resend"),PAYWALL_CONVERSION:ke("paywall","conversion"),PAYWALL_CONVERSION_BANNER:ke("paywall","conversion"),PAYWALL_CONVERSION_PROFILE:ke("paywall","conversion"),PAYWALL_HOMEMODULE_ARTICLE_CLICK:ke("paywall","article_click"),PAYWALL_HOMEMODULE_ARTICLE_COMMENTS_CLICK:ke("paywall","article_comments_click"),PAYWALL_HOMEMODULE_CHANNEL_CLICK:ke("paywall","channel_click"),PAYWALL_HOMEMODULE_SIGNUP_CLICK:ke("paywall","signup_homemodule"),PAYWALL_IMPRESSION:ke("paywall","impression"),PAYWALL_LOGIN_CLICK:ke("paywall","login_click"),PAYWALL_MASTHEAD_SIGNUP_CLICK:ke("paywall","signup_masthead"),PAYWALL_PROFILE_SIGNUP_CLICK:ke("paywall","signup_profile"),PAYWALL_RESTORE_PURCHASE_CLICK:ke("paywall","restore_purchase_click"),PAYWALL_SIGN_UP:ke("paywall","signup_article"),PAYWALL_VIEWABLE:ke("paywall","viewable"),PAYWALL_ZEPHR_FAIL_OPEN:ke("paywall","zephr_fail_open")};const Be={},Ue={FACTBOX_READ_MORE_CLICK:((e,t)=>(n,r)=>{Be[t]||(Be[t]=0),Be[t]++,s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:r||Be[t]})})("factbox","read_more_click")};var je=Ue;const Fe={},We=(e,t)=>(n,r)=>{Fe[t]||(Fe[t]=0),Fe[t]++,s.tedEvent("page_event",{action:"set",name:`${e}_${t}`,value:r||Fe[t]})};var Ve={IFRAME_EMAIL_IMPRESSION:We("iframe_email","impression"),IFRAME_EMAIL_SUBMIT:We("iframe_email","submit"),IFRAME_EMAIL_SUBMIT_NO_EMAIL:We("iframe_email","submit_no_email"),IFRAME_EMAIL_VIEWABLE:We("iframe_email","viewable")};var Ge=Object.assign({},l,u,d,we,p,T,L,M,k,j,W,G,H,q,X,re,ie,J,ee,se,ue,fe,he,ve,Se,Te,xe,Pe,Me,je,Ve);Object(r.a)("TED",Ge);t.a=s},function(e,t,n){"use strict";var r=n(0),o=n(21);const i=function(e,t){window.trac.slideEvent(t.contentType+"-"+t.threadId)};var a={GALLERY_ADVERT_VIEWED:i,GALLERY_CLOSED:i,GALLERY_IMAGE_VIEWED:i,GALLERY_OPENED:i};var s={PAGE_COMMENT_TAB_SWAPPED:function(e,t){window.trac.slideEvent(t.contentType+"-"+t.tab)}};var c=Object.assign({},a,s);const l={init:function(){window.trac?Object(o.a)("Nielsen",c):r.logger.error('Nielsen: trying to load nielsen tracking but "trac" global is not present')}};t.a=l},function(e,t,n){"use strict";var r=n(0),o=n(13),i=n(5),a=n(1);const s=e=>{let t=e.offsetTop,n=e.offsetParent;for(;n;)Number.isNaN(n.offsetTop)||(t+=n.offsetTop),n=n.offsetParent;return t},c=["alpha","beta","gamma"],l=c.map((e=>`.${e}`)).join(","),u=function(e){const t=e.hostname||window.location.hostname;return o.a.internalDomainsRegex.test(t)},d=function(e){return!u(e)},f=function(e){if(!e||1!==e.nodeType)return null;const t=c.find((t=>e.classList.contains(t)));if(!t)return"other";return`${t}-${Array.from(document.querySelectorAll("."+t)).indexOf(e)+1}`},p=function({interaction:e,link:t,moduleElement:n,target:r,trackAs:o,trackLinks:i}){const c=n.closest(l),u={element:t,fromLink:t,interaction:e,linkType:"IMG"===r.nodeName?"image":"text",listPosition:i.indexOf(t)+1,moduleName:n.getAttribute("data-track-module"),position:n.getAttribute("data-track-pos")||f(c)||"other",trackingType:o||t.getAttribute("data-track-type")||n.getAttribute("data-track-type")||"ck",videoId:t.getAttribute("data-videoid")};return r.closest(".sponsored")&&(u.moduleName=u.moduleName.replace("^","_sponsored^")),(e=>{if("article"!==Object(a.getPageCriteria)().pageType||"desktop"!==Object(a.getPageMetadata)().renderPlatform||!e||!e.closest(".puff"))return!1;const t=document.querySelector(".article-text .shareArticles"),n=s(t);return s(e)>n})(r)&&(u.moduleName+="AfterArticle"),u},m=function(e){const{moduleElement:t,shouldProceed:n,target:o}=e,a=t.getAttribute("data-track-selector")||"a",s=Array.from(t.querySelectorAll(a)),c=s.find((e=>e===o||e.contains(o)));if(c&&n(c)){const t=p(Object.assign({link:c,trackLinks:s},e));r.logger.debug("moduleTracking",t),i.a.publish(i.a.PAGE_MODULE_CLICKED,t)}};document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".mol-para-with-font a, .imageCaption a");if(e){const t=[...e].map((e=>e.getAttribute("href").startsWith("/")?e:null)).filter(Boolean);if(t.length>0)for(const e of t)e.outerHTML=`<span data-track-module="internal-body-link">${e.outerHTML}</span>`}})),document.addEventListener("click",(e=>{const t=e.target.closest("[data-track-module]");if(t){const n=t.getAttribute("data-track-external")?d:u;m({interaction:"link-click",moduleElement:t,shouldProceed:n,target:e.target})}}));const h={externalLinkTracker:function(e,t="el"){const n=document.getElementById(e);Array.from(n.querySelectorAll("a.js-tl")).forEach((e=>e.addEventListener("click",(e=>m({interaction:"link-click",moduleElement:n,shouldProceed:d,target:e.target,trackAs:t})))))},trackSwipe:function(e,t){m({interaction:"swipe",moduleElement:e,shouldProceed:u,target:t})}};t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(5);const i={".mol-desktop #addCommentButton, .mol-desktop #addCommentNarrowButton":"bottom add comment",".mol-desktop #articleIconLinksContainer .comments-count":"top comments click",".mol-desktop #floating-share-bar-container .comments-count":"floating comments click",".mol-mobile .social.bottom .comments-count":"bottom comment click",".mol-mobile .social.top .comments-count":"top comment click"},a=()=>{try{document.addEventListener("click",(e=>{const t=Object.keys(i).find((t=>e.target.closest(t)));if(!t)return;const n=i[t];o.a.publish(o.a.PAGE_FURNITURE_CLICKED,{furnitureName:n})}))}catch(e){r.logger.error("Error initialising furniture tracking",e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(5),i=n(27);const a={PuzzleComplete:o.a.PUZZLE_COMPLETE,PuzzleStarted:o.a.PUZZLE_STARTED},s=()=>{try{window.addEventListener("message",(e=>{if(!e||!e.data||"object"!=typeof e.data||"puzzles track event"!==e.data.msg)return;const{eventData:t,eventName:n}=e.data,s=t&&t.PuzzleName||"unknown",c=a[n];c?("PuzzleStarted"===n&&Object(i.b)(),o.a.publish(c,{puzzleName:s})):r.logger.warn("Unknown puzzle event name",n)}))}catch(e){r.logger.error("Error initialising puzzle tracking",e)}}},,function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"addArticleRead",(function(){return d})),n.d(t,"isArticleInRead",(function(){return f})),n.d(t,"addChannelCount",(function(){return m})),n.d(t,"getChannelCounts",(function(){return h}));var r=n(2),o=n(0),i=n(1),a=n(24);const s=Object(a.createLocalStorage)("mol-fe-article-read-"),c=e=>s.getItem(e),l=(e,t)=>s.setItem(e,t),u="articles",d=e=>{const t=Number(e),n=c(u)||[];if(n.includes(t))return;let r=[...n,t];r.length>100&&(r=r.slice(r.length-100)),l(u,r)},f=e=>Boolean((c(u)||[]).includes(Number(e))),p="channels",m=e=>{const t=c(p)||{};t[e]=(t[e]||0)+1,l(p,t)},h=()=>c(p)||{},_="topics",g=e=>{const t=((e,t)=>{const n=new Set(t),r=Object.entries(e).map((([e,t])=>{const r=n.has(e)?1:0;n.delete(e);const o=t*(1-(e.startsWith("commerce")?.05:.1))+r;return[e,Math.floor(1e3*o)/1e3]}));return n.forEach((e=>{r.push([e,1])})),r.sort(((e,t)=>t[1]-e[1])).slice(0,1e3).reduce(((e,[t,n])=>(e[t]=n,e)),{})})(c(_)||{},e);l(_,t)},E=()=>{try{const e=Object(i.getPageCriteria)();if("article"!==e.pageType)return;const{articleId:t,channel:n}=e,{topics:r}=Object(i.getPageMetadata)();d(Number(t)),m(n),g(r)}catch(e){o.logger.error("Error initialising mol-fe-article-read",e)}};try{Object(r.later)("PAGE_METADATA_SET",E)}catch(e){o.logger.error("Error initialising mol-fe-article-read",e)}},function(e,t,n){"use strict";n.r(t);n(111)},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",l="object"==typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=y;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",h={},_={};_[a]=function(){return this};var g=Object.getPrototypeOf,E=g&&g(g(R([])));E&&E!==r&&o.call(E,a)&&(_=E);var v=I.prototype=w.prototype=Object.create(_);O.prototype=v.constructor=I,I.constructor=O,I[c]=O.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(v),e},u.awrap=function(e){return{__await:e}},S(A.prototype),A.prototype[s]=function(){return this},u.AsyncIterator=A,u.async=function(e,t,n,r){var o=new A(y(e,t,n,r));return u.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(v),v[c]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function y(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=b(e,t,n);if("normal"===c.type){if(r=n.done?m:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function O(){}function I(){}function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e){function t(n,r,i,a){var s=b(e[n],e,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(l).then((function(e){c.value=e,i(c)}),a)}a(s.arg)}var n;this._invoke=function(e,r){function o(){return new Promise((function(n,o){t(e,r,n,o)}))}return n=n?n.then(o,o):o()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=b(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){var r=n(57),o=n(58),i=n(59),a=n(120),s=n(121),c=n(60),l=n(61),u=n(124),d=n(126),f=n(128),p=n(129),m=n(62),h=n(130),_=n(131),g=n(63),E=n(15),v=n(39),y=n(133),b=n(10),w=n(134),O=n(18),I=n(25),S="[object Arguments]",A="[object Function]",T="[object Object]",C={};C[S]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[A]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,L,P,R,N){var M,D=1&n,k=2&n,x=4&n;if(L&&(M=R?L(t,P,R,N):L(t)),void 0!==M)return M;if(!b(t))return t;var B=E(t);if(B){if(M=h(t),!D)return l(t,M)}else{var U=m(t),j=U==A||"[object GeneratorFunction]"==U;if(v(t))return c(t,D);if(U==T||U==S||j&&!R){if(M=k||j?{}:g(t),!D)return k?d(t,s(M,t)):u(t,a(M,t))}else{if(!C[U])return R?t:{};M=_(t,U,D)}}N||(N=new r);var F=N.get(t);if(F)return F;N.set(t,M),w(t)?t.forEach((function(r){M.add(e(r,n,L,r,t,N))})):y(t)&&t.forEach((function(r,o){M.set(o,e(r,n,L,o,t,N))}));var W=B?void 0:(x?k?p:f:k?I:O)(t);return o(W||t,(function(r,o){W&&(r=t[o=r]),i(M,o,e(r,n,L,o,t,N))})),M}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(29),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(29);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(29);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(29);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(119),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(17),o=n(18);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(17),o=n(25);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(12))},function(e,t,n){var r=n(17),o=n(125);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(17),o=n(127);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(30)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(10),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(40),o=n(15),i=n(41);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(139),o=n(18);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(69);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(38);e.exports=function(){return r.Date.now()}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(71),o=n(18);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}},function(e,t,n){var r=n(26);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(17),o=n(73),i=n(25),a=o((function(e,t){r(t,i(t),e)}));e.exports=a},function(e,t,n){var r=n(148),o=n(149),i=n(151);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(150),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(c),r(e,this,l)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(43);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(30)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(43),o=n(26);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},function(e,t,n){var r=n(57),o=n(84),i=n(71),a=n(159),s=n(10),c=n(25),l=n(85);e.exports=function e(t,n,u,d,f){t!==n&&i(n,(function(i,c){if(f||(f=new r),s(i))a(t,n,c,u,e,d,f);else{var p=d?d(l(t,c),i,c+"",t,n,f):void 0;void 0===p&&(p=i),o(t,c,p)}}),c)}},function(e,t,n){var r=n(84),o=n(60),i=n(160),a=n(61),s=n(63),c=n(79),l=n(15),u=n(163),d=n(39),f=n(68),p=n(10),m=n(164),h=n(80),_=n(85),g=n(165);e.exports=function(e,t,n,E,v,y,b){var w=_(e,n),O=_(t,n),I=b.get(O);if(I)r(e,n,I);else{var S=y?y(w,O,n+"",e,t,b):void 0,A=void 0===S;if(A){var T=l(O),C=!T&&d(O),L=!T&&!C&&h(O);S=O,T||C||L?l(w)?S=w:u(w)?S=a(w):C?(A=!1,S=o(O,!0)):L?(A=!1,S=i(O,!0)):S=[]:m(O)||c(O)?(S=w,c(w)?S=g(w):p(w)&&!f(w)||(S=s(O))):A=!1}A&&(b.set(O,S),v(S,O,E,y,b),b.delete(O)),r(e,n,S)}}},function(e,t,n){var r=n(161);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(38).Uint8Array;e.exports=r},function(e,t,n){var r=n(26),o=n(41);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(40),o=n(64),i=n(41),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},function(e,t,n){var r=n(17),o=n(25);e.exports=function(e){return r(e,o(e))}},function(e,t,n){"use strict";var r=n(7),o=n(86),i=n(167),a=n(93);var s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(44));s.Axios=i,s.CanceledError=n(31),s.CancelToken=n(186),s.isCancel=n(92),s.VERSION=n(94).version,s.toFormData=n(89),s.AxiosError=n(19),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(187),s.isAxiosError=n(188),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(7),o=n(87),i=n(168),a=n(169),s=n(93),c=n(91),l=n(185),u=l.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(c),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var f=t;r.length;){var p=r.shift(),m=r.shift();try{f=p(f)}catch(e){m(e);break}}try{i=a(f)}catch(e){return Promise.reject(e)}for(;c.length;)i=i.then(c.shift(),c.shift());return i},d.prototype.getUri=function(e){e=s(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},function(e,t,n){"use strict";var r=n(7);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(7),o=n(170),i=n(92),a=n(44),s=n(31);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(7),o=n(44);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";(function(e){var r=n(174),o=n(175),i=n(176);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n);e=s(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var d=!0,f=0;f<c;f++)if(l(e,i+f)!==l(t,f)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function b(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return b(e,t,n,r)}function O(e,t,n,r){return G(V(t),e,n,r)}function I(e,t,n,r){return G(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,l=e[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){i=l[d],a=u[d];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function x(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return i||x(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||x(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:W(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(12))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=16383,s=0,c=n-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=l}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=m,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+p]=255&a,p+=m,a/=256,l-=8);e[n+p-m]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(7);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(7),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(7);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},function(e,t){e.exports=null},function(e,t,n){"use strict";var r=n(94).version,o=n(19),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],s=t[a];if(s){var c=e[a],l=void 0===c||s(c,a,e);if(!0!==l)throw new o("option "+a+" must be "+l,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}},validators:i}},function(e,t,n){"use strict";var r=n(31);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(95),i=n(45),a=n(46),s=n(190),c=n(191),l=(r=c)&&r.__esModule?r:{default:r},u=n(192);var d=e,f=d.Element,p=(f=void 0===f?{}:f).prototype,m=(p=void 0===p?{}:p).scrollIntoView,h=p.scrollIntoViewIfNeeded,_=d.scroll,g=d.scrollBy,E=d.scrollByLines,v=d.scrollByPages,y=d.scrollTo,b=function(){(0,s.dispatchCustomEvent)("scrollutilsblock")},w=function(e){(0,o.setClientPosition)(e.clientX,e.clientY),(0,o.updateMouseOverIframe)()},O=function(e,t){var n=function(){e.resetJudgement(),(0,o.updatePosition)()};(0,o.isInteracting)()?n():((0,o.updateScrollDirection)(),(0,o.updateMouseOverIframe)(),(0,o.isMouseOverIframe)()?n():(e.notify(),b(),(0,o.resetScroll)()))},I=function(){(0,o.isInteracting)()||(0,o.goingBack)()?(0,o.setHash)(e.location.hash):(b(),(0,i.goBack)(),(0,o.resetScroll)())};t.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.recursiveConsideration,r=(n=void 0===n?{}:n).frequency,c=void 0===r?2:r,d=n.timeout,f=void 0===d?500:d,p=t.recursiveInterventionThreshold,S=void 0===p?5:p,A=t.wheelInteractionTimeout,T=void 0===A?30:A,C=t.mouseupInteractionTimeout,L=void 0===C?30:C;if(void 0===e.pageYOffset||u.IS_SAFARI)return a.noop;var P=new l.default({intervene:function(){return(0,s.dispatchCustomEvent)("scrollutilsintervention")},interventionThreshold:S,frequency:c,timeout:f}),R=O.bind(null,P),N=a.Debouncer.debounce(o.endInteraction,T),M=a.Debouncer.debounce(o.endInteraction,L),D=function(t){var n=t.endWheelInteraction,r=t.endKeyMouseUpInteraction,i=t.monitoredScrollHandler,a=e.document,s=a.body,c=a.documentElement,l=[s,c],u=s.doScroll;return function t(){s.doScroll=u,e.Element.prototype.scrollIntoView=m,e.Element.prototype.scrollIntoViewIfNeeded=h,e.scroll=_,e.scrollBy=g,e.scrollByLines=E,e.scrollByPages=v,e.scrollTo=y,e.removeEventListener("scrollutilsintervention",t),e.removeEventListener("wheel",o.startInteraction,!0),e.removeEventListener("wheel",n,!1),e.removeEventListener("keydown",o.startInteraction,!0),e.removeEventListener("keyup",r,!0),e.removeEventListener("mousedown",o.startInteraction,!0),e.removeEventListener("mouseup",r,!0),e.removeEventListener("dragstart",o.startInteraction,!0),e.removeEventListener("dragend",o.endInteraction,!0),e.removeEventListener("scroll",i,!0),e.removeEventListener("touchstart",o.startInteraction,!0),e.removeEventListener("touchend",o.endInteraction,!0),e.removeEventListener("touchmove",i,!0),e.removeEventListener("mousemove",w,!1),e.removeEventListener("hashchange",I,!1);var a=!0,c=!1,d=void 0;try{for(var f,p=l[Symbol.iterator]();!(a=(f=p.next()).done);a=!0){var b=f.value;delete b.scrollTop,delete b.scrollLeft,b.scrollTop=(0,o.getScrollTop)(),b.scrollLeft=(0,o.getScrollLeft)()}}catch(e){c=!0,d=e}finally{try{!a&&p.return&&p.return()}finally{if(c)throw d}}}}({endWheelInteraction:N,endKeyMouseUpInteraction:M,monitoredScrollHandler:R});return(0,o.setHash)(e.location.hash),(0,o.updatePosition)(),function(t){var n=t.endWheelInteraction,r=t.endKeyMouseUpInteraction,a=t.monitoredScrollHandler,s=t.reenableWindowScrollMethods,c=e.document,l=c.body,u=[l,c.documentElement];l.doScroll=b,e.Element.prototype.scrollIntoView=b,e.Element.prototype.scrollIntoViewIfNeeded=b,e.scroll=_&&b,e.scrollBy=g&&b,e.scrollByLines=E&&b,e.scrollByPages=v&&b,e.scrollTo=b,e.addEventListener("scrollutilsintervention",s),e.addEventListener("wheel",o.startInteraction,!0),e.addEventListener("wheel",n,!1),e.addEventListener("keydown",o.startInteraction,!0),e.addEventListener("keyup",r,!0),e.addEventListener("mousedown",o.startInteraction,!0),e.addEventListener("mouseup",r,!0),e.addEventListener("dragstart",o.startInteraction,!0),e.addEventListener("dragend",o.endInteraction,!0),e.addEventListener("scroll",a,!0),e.addEventListener("touchstart",o.startInteraction,!0),e.addEventListener("touchend",o.endInteraction,!0),e.addEventListener("touchmove",a,!0),e.addEventListener("mousemove",w,!1),e.addEventListener("hashchange",I,!1);var d=function(e){Object.defineProperty(e,"scrollTop",{configurable:!0,get:function(){return(0,i.getScrollTop)(e)},set:b}),Object.defineProperty(e,"scrollLeft",{configurable:!0,get:function(){return(0,i.getScrollLeft)(e)},set:b})},f=!0,p=!1,m=void 0;try{for(var h,y=u[Symbol.iterator]();!(f=(h=y.next()).done);f=!0)d(h.value)}catch(e){p=!0,m=e}finally{try{!f&&y.return&&y.return()}finally{if(p)throw m}}}({endWheelInteraction:N,endKeyMouseUpInteraction:M,monitoredScrollHandler:R,reenableWindowScrollMethods:D}),D}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.dispatchCustomEvent=e.dispatchEvent?function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=new e.CustomEvent(t);n.dispatchEvent(r)}:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=e.createEventObject();n.fireEvent("on"+r,r)}}).call(this,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){var n=t.intervene,r=t.timeout,o=t.frequency,i=t.interventionThreshold;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.intervene=n,this.timeout=r,this.frequency=o,this.interventionThreshold=i,this.makeJudgement=this.makeJudgement.bind(this),this.calls=0,this.resetNum=0}return r(e,[{key:"notify",value:function(){this.calls++,this.id||(this.id=setTimeout(this.makeJudgement,this.timeout))}},{key:"makeJudgement",value:function(){this.calls>=this.frequency?this.resetJudgement():this.stopTimer(),this.resetNum>=this.interventionThreshold&&(this.startOver(),this.intervene())}},{key:"stopTimer",value:function(){this.id=clearTimeout(this.id)}},{key:"resetJudgement",value:function(){this.id=clearTimeout(this.id),this.calls=0,this.resetNum++}},{key:"startOver",value:function(){this.resetJudgement(),this.resetNum=0}}]),e}();t.default=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.IS_SAFARI=/^((?!chrome|android).)*safari/i.test(e.navigator.userAgent)}).call(this,n(12))},,function(e,t,n){"use strict";n(98),n(99),n(97)},function(e,t,n){"use strict";var r=()=>{const e=document.head,t=document.createElement("link");t.rel="preconnect",t.href="https://fonts.googleapis.com";const n=document.createElement("link");n.rel="preconnect",n.href="https://fonts.gstatic.com",n.crossOrigin=!0;const r=document.createElement("link");r.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",r.rel="stylesheet",e.appendChild(t),e.appendChild(n),e.appendChild(r)};(()=>{r()})()},function(e,t,n){"use strict";n.r(t),n.d(t,"molFeArticleRead",(function(){return oe})),n.d(t,"molFeAsync",(function(){return u})),n.d(t,"molFeClientLogger",(function(){return d})),n.d(t,"molFeComponents",(function(){return f})),n.d(t,"molFeCookieReinforcer",(function(){return r})),n.d(t,"molFeDomHelpers",(function(){return b})),n.d(t,"molFeLoadingSpinner",(function(){return ln})),n.d(t,"molFeMiniLodash",(function(){return w})),n.d(t,"molFeMobileutils",(function(){return O})),n.d(t,"molFeMultivariant",(function(){return I})),n.d(t,"molFePageMetadata",(function(){return S})),n.d(t,"molFeRelatedReplace",(function(){return i})),n.d(t,"molFeRemixd",(function(){return a})),n.d(t,"molFeSegmentation",(function(){return A})),n.d(t,"molFeSmartBanner",(function(){return o})),n.d(t,"molFeTracking",(function(){return T})),n.d(t,"molFeWebVitals",(function(){return s})),n.d(t,"molFeArticleTruncation",(function(){return c})),n.d(t,"molFePaywallMasthead",(function(){return l})),n.d(t,"molFeLocalStorage",(function(){return Rn})),n.d(t,"molFeXpModuleDataUtils",(function(){return Nn})),n.d(t,"externalLinkTracker",(function(){return lr.c})),n.d(t,"trackSwipe",(function(){return lr.m})),n.d(t,"later",(function(){return lr.e})),n.d(t,"Log",(function(){return lr.a})),n.d(t,"log",(function(){return lr.h})),n.d(t,"loadCSS",(function(){return lr.f})),n.d(t,"loadDeferredImgs",(function(){return lr.g})),n.d(t,"onDocReady",(function(){return lr.i})),n.d(t,"getPageMetadata",(function(){return lr.d})),n.d(t,"setPageMetadata",(function(){return lr.k})),n.d(t,"Nielsen60",(function(){return lr.b})),n.d(t,"ted",(function(){return lr.l})),n.d(t,"pageEvents",(function(){return lr.j}));var r={};n.r(r),n.d(r,"addCookieToReinforce",(function(){return _})),n.d(r,"stopReinforcingCookie",(function(){return g})),n.d(r,"reinforceCookies",(function(){return y})),n.d(r,"removeCookieAndStopReinforcing",(function(){return v})),n.d(r,"setCookieAndReinforce",(function(){return E}));var o={};n.r(o),n.d(o,"loaded",(function(){return te})),n.d(o,"smartBanner",(function(){return Q}));var i={};n.r(i),n.d(i,"replaceRelatedElement",(function(){return be}));var a={};n.r(a),n.d(a,"listenToEvents",(function(){return Ae}));var s={};n.r(s),n.d(s,"getStandard",(function(){return Xt})),n.d(s,"getUpdated",(function(){return zt})),n.d(s,"webVitals",(function(){return Jt})),n.d(s,"getLCPEntries",(function(){return Zt})),n.d(s,"getCLSEntries",(function(){return Qt}));var c={};n.r(c),n.d(c,"truncateArticle",(function(){return sn})),n.d(c,"expandArticle",(function(){return on}));var l={};n.r(l),n.d(l,"init",(function(){return Ln})),n.d(l,"paywallUtils",(function(){return Pn}));n(194),n(206);var u=n(2),d=n(0),f=n(9),p=n(4),m=n.n(p);const h="mol-fe-cookie-reinforcer",_=(e,t,n=null)=>{try{if(!("localStorage"in window))return;const r=JSON.parse(window.localStorage.getItem(h)||"{}");r[e]={expireDate:n,value:t},window.localStorage.setItem(h,JSON.stringify(r))}catch(e){d.logger.error("Error adding cookie to reinforce",e)}},g=e=>{try{if(!("localStorage"in window))return;const t=JSON.parse(window.localStorage.getItem(h)||"{}");delete t[e],window.localStorage.setItem(h,JSON.stringify(t))}catch(e){d.logger.error("Error removing cookie from reinforcer",e)}},E=(e,t,n=null)=>{try{m.a.set(e,t,{expires:n,path:"/"}),_(e,t,n)}catch(e){d.logger.error("Error setting cookie and adding to reinforce list",e)}},v=e=>{try{m.a.remove(e),g(e),"mol-home"===e&&window.localStorage.setItem("mol-fe-home-channel-actioned-last",Date.now())}catch(e){d.logger.error("Error removing cookie and stopping reinforcement",e)}},y=()=>{try{if(!("localStorage"in window))return;const e=JSON.parse(window.localStorage.getItem(h)||"{}"),t={};for(const n of Object.keys(e)){const{expireDate:r,value:o}=e[n],i=r&&new Date(r);"mol-home"===n&&"desktop"===o||(!i||i.getTime()>Date.now())&&(m.a.set(n,o,{expires:i,path:"/"}),t[n]={expireDate:i,value:o})}window.localStorage.setItem(h,JSON.stringify(t))}catch(e){d.logger.error("Error reinforcing cookies",e)}};y();var b=n(11),w=n(33),O=n(14),I=n(23),S=n(1),A=n(53),T=n(3),C=n(32),L="smartBanner--3aLjh",P="view--WZ4E3",R="timLogo--1Kd7a logo--RkTHJ",N="molLogo--3i9R7 logo--RkTHJ",M="molffLogo--3Fm7_ logo--RkTHJ",D="close--3IkWD",k="info--2IYpC",x="ratings--Uqyb7",B="starFull--2PKzW rating--1jNVS",U="starHalf--3l-Dg rating--1jNVS",j="starEmpty--23EjB rating--1jNVS",F="name--UJIe_",W="price--3PIaQ";const V=function(){const e=/(Windows *[a-zA-Z]*) ([^; )]+)/i.exec(navigator.userAgent);return e&&e.length>1&&"windows nt"===e[1].toLowerCase()&&parseFloat(e[2])>=6.4},G=function(){return document.body.classList.contains("mol-desktop")},K="fantasyfootball",H="tim",$="smart-banner",Y={inited:!1},q=function(){try{return(V()?"windows10":O.deviceData.mobileName.toLowerCase())+" banner"}catch(e){return"unknown banner"}},X=function(){d.logger.debug("smartBanner: hiding"),document.body.classList.remove("smart-banner")},z=function(){(m.a.get($)||!V()&&Object(O.isLandscape)())&&document.body.classList.contains("smart-banner")&&X(),m.a.get($)||!V()&&Object(O.isLandscape)()||document.body.classList.contains("smart-banner")||(d.logger.debug("smartBanner: showing"),document.body.classList.add("smart-banner-shown"),document.body.classList.add("smart-banner"),T.pageEvents.publish(T.pageEvents.SMART_BANNER_SHOWN,{type:q()}))},J=n.n(C)()(z,50),Z=function(e){if(!e)return null;if(window.location.search&&window.location.search.match(/[?&]source=newzit\.app/))return null;const t=(V()?"windows10":O.deviceData.mobileName.toLowerCase())+"_banner",n=`\n<a data-google-interstitial="false" class="${D}"></a>\n<div class="${(e=>{let t;switch(e){case K:t=M;break;case H:t=R;break;default:t=N}return t})(e.app)}"></div>\n<div class="${k}">\n  <div class="${F}">${e.trackCensoredName}</div>\n  <div class="${x}">${function(e){if(e.averageUserRating>=3){const t=Math.floor(e.averageUserRating),n=e.averageUserRating%1>=.25?1:0;return[{class:B,count:t},{class:U,count:n},{class:j,count:5-(t+n)}].reduce(((e,t)=>e+`<span class="${t.class}"></span>`.repeat(t.count)),"")}return""}(e)}</div>\n  <div class="${W}">${e.formattedPrice}</div>\n</div>\n<a href="${e.storeUrl}" rel="noskim" data-google-interstitial="false" class="${P} js-tl">View</a>`,r=document.createElement("div");let o;return r.setAttribute("id","smartBanner"),r.setAttribute("data-track-module",t+"^smart-banner"),r.setAttribute("data-track-pos","static"),r.setAttribute("data-track-type","cl"),r.setAttribute("data-track-selector",`a.${P}`),r.classList.add(L),r.innerHTML=n,document.body.appendChild(r),T.moduleTracking.externalLinkTracker("smartBanner"),Y.banner=r,Y.bannerName=t,Y.inited=!0,Y.banner=r,G()&&(o=setInterval(z,1e3)),r.querySelector(`.${D}`).addEventListener("click",(e=>{e.preventDefault(),function(){const e=new Date(Date.now()+2592e6);E($,"closed",e)}(),X(),o&&(clearInterval(o),o=null)})),r.querySelector(`.${P}`).addEventListener("click",(()=>{T.pageEvents.publish(T.pageEvents.SMART_BANNER_CLICKED,{type:q()})})),window.addEventListener("orientationchange",J),z(),d.logger.info("###### SMARTBANNER RENDERED"),Y.banner};Y.init=function(e){return d.logger.info("###### INIT SMARTBANNER",e),Y.initPromise||(Y.initPromise=Object(u.later)("BODY_READY").then((()=>Z(e)))),Y.initPromise};var Q=Y;const ee=/^https?:\/\/t\.co(\/.*)?$/.test(document.referrer),te=Object(f.getConfig)("molFeSmartBanner").then((e=>O.deviceData.isMobile&&ee?null:Q.init(e)));var ne=n(22),re=n.n(ne),oe=n(109);const ie={AU:"/auhome",GB:"/home",US:"/ushome"},ae=["sport"];let se=[];const ce=e=>Boolean(e.url&&e.imgUrl&&e.headline),le=(e,t)=>String(e.articleId)!==String(t),ue=e=>{const{articleId:t}=Object(S.getPageCriteria)();return le(e,t)&&ce(e)&&!Object(oe.isArticleInRead)(e.articleId)&&!se.includes(e.articleId)},de=async({useSimilarArticles:e=!1,topicGroup:t=null,paywalled:n=!1})=>{const{articleId:r,geo:o,channel:i}=Object(S.getPageCriteria)(),{topics:a}=Object(S.getPageMetadata)(),s=a&&a.length?"hasTopics":"noTopics";let c=`/api/mol-fe-feeds/v2/articles/rankedByChannelReferrer${ie[o]||ie.GB}`;const l=ae.includes(i);n?c=`/api/mol-fe-feeds/v2/articles/rankedPaywalled/geo/${Object(S.getPaywallGeo)()}`:e?c=`/api/mol-fe-feeds/v2/articles/rankedSimilar/${r}/${s}${l?`/${i}`:""}`:t?c=`/api/mol-fe-feeds/v2/articles/rankedByTopicGroup/${encodeURIComponent(t)}`:l&&(c=`/api/mol-fe-feeds/v2/articles/rankedByChannel/${i}`);const u=await re.a.get(c);if(!u||!u.data||!u.data.articles)throw new Error("[mol-fe-related-replace] Invalid ranked articles response");const{articles:d}=u.data,f=d.filter((e=>e.url.startsWith(`/${i}`))),p=d.filter((e=>!e.url.startsWith(`/${i}`))),m=f.concat(p).filter(ue).slice(0,5);if(m.length<5&&(e||t)&&!n){const e=m.map((e=>e.articleId)),t=await de({topicGroup:null,useSimilarArticles:!1});for(let n=0;m.length<5&&n<t.length;n++){const r=t[n];e.includes(r.articleId)||m.push(r)}}return m.length<1&&n?f.concat(p).filter((e=>le(e,r)&&ce(e))).slice(0,5):m},fe="mol-fe-related-replace";let pe=!1;const me=()=>{const{renderPlatform:e}=Object(S.getPageMetadata)(),{articleStyle:t}=Object(S.getPageCriteria)();return"desktop"===e&&"extraWide"===t?5:3},he=e=>{e&&e.classList.contains("related-replace-placeholder")&&e.remove()},_e=({relatedElement:e,articles:t,instanceIndex:n=0,topicGroup:r=null,isInlinePaywall:o=!1})=>{const i=me();if(!e||!t||!t.length||t.length<i)return void he(e);const a=(({articles:e,instanceIndex:t=0,topicGroup:n=null,isInlinePaywall:r=!1})=>{const o=me(),i=document.createElement("div"),a=document.createElement("div");let s="related-replace"+(t>0?`-${t+1}`:"");a.classList.add("mol-fe-related-replace"),a.classList.add("ccox"),a.dataset.trackModule=s,5===o&&a.classList.add("related-replace-desktop-xwide"),"royals"===n&&i.classList.add("royal_wedding"),r&&(s="related-replace-paywall",i.classList.add("home"),i.classList.add("related-replace-paywall"));const c=e.slice(0,o).map((e=>(({article:e,trackId:t})=>{const{imgUrl:n,url:r,headline:o,viewCountTrending:i,isPaywalled:a}=e,s=`${r}?ico=${t}`,c=[];return a&&c.push('<span class="is-paywalled"></span>'),`\n    <a class="related-replace-article" href="${s}">\n      <div class="related-replace-image">\n        <img src="${n}" alt="" width="636" height="382" loading="lazy" />\n      </div>\n      <div class="related-replace-info">\n        <div class="related-replace-headline">${c.join("")}${o}</div>\n        ${i?`\n        <div class="related-replace-count-wrap">\n          <div class="related-replace-count wocc">${l=i,l<1e3?l:`${(l/1e3).toFixed(1).replace(/\.0$/,"")}k`} viewing now</div>\n        </div>\n        `:""}\n      </div>\n    </a>\n  `;var l})({article:e,trackId:s}))).join("");return a.innerHTML=`\n    <div class="related-replace-title wocc">${t>0?"MORE ":""}TRENDING</div>\n    <div class="related-replace-articles">\n      ${c}\n    </div>\n  `,Array.from(a.children[1].children).forEach(((e,t)=>{e.addEventListener("click",(()=>{const n={clickUrl:e.href,position:t+1};Object(T.fireBidmaxTrackingEvent)("click",fe,n),T.pageEvents.publish(T.pageEvents.RELATED_REPLACE_CLICK,n)}))})),i.appendChild(a),new IntersectionObserver(((e,t)=>{for(const n of e)n.isIntersecting&&(pe||(Object(T.fireBidmaxTrackingEvent)("viewable",fe),T.pageEvents.publish(T.pageEvents.RELATED_REPLACE_VIEWABLE),pe=!0),t.unobserve(a))})).observe(a),i})({articles:t,instanceIndex:n,isInlinePaywall:o,topicGroup:r});var s;e.replaceWith(a),s=t.slice(0,i).map((e=>e.articleId)),se=se.concat(s)},ge=(e=null)=>{const t=document.querySelector('#mobile-content .scrollable-content > article, #page-container .article-text [itemprop="articleBody"]');if(!t)return null;const{renderPlatform:n}=Object(S.getPageMetadata)(),r="mobile"===n;let o=0,i=r&&!e?-1:0,a=null,s=Array.from(t.children);if(e){const t=s.findIndex((t=>t===e||t.contains(e)));-1!==t&&(s=s.slice(t+1))}const c=document.documentElement.classList.contains("fb-webview")&&!e;let l=0;for(const e of s){const t=e.matches("figure, .image-wrap, .mol-img, .mol-img-group"),n=e.matches("p, .mol-para-with-font"),s=!r&&e.matches(".floatRHS, .floatLHS, .halfRHS, .halfLHS, .floatXWHalfRHS, .floatXWHalfLHS"),u=e.querySelector(".vjs-video-container")||e.matches(".vjs-video-container"),d=e.matches(":empty")&&!e.id&&(!e.className||"clear"===e.className);if(s&&(l=e.offsetHeight+32),t&&c&&i>=0)return a;if(o>=4&&i>=1&&!t&&!u&&!d&&a&&l<=0)return a;n&&o++,t&&i++,l>0&&!s&&(l-=e.offsetHeight+(t?4:16)),a=e}return null},Ee=(e=null,t=null)=>{const n=t||ge(e);if(!n)return null;const r=document.createElement("div");return r.classList.add("related-replace-placeholder"),n.after(r),r},ve=(e,t,n=!1)=>{let r=0,o=t;for(let i=t;n?i>0:i<e.length;n?i--:i++){if(e[i].matches("p, .mol-para-with-font")&&(r++,o=i),r>=4)break}return o},ye=e=>{const t=(()=>{const{renderPlatform:e}=Object(S.getPageMetadata)(),{articleStyle:t,geo:n}=Object(S.getPageCriteria)(),r=["US","AU"].includes(n)?`_${n.toLowerCase()}`:"",o=document.createElement("div");o.dataset.trackModule="royals-promo-related";let i=358,a=465,s="mobile";"desktop"===e&&("wide"===t&&(i=636,a=184,s="wide"),"extraWide"===t&&(i=964,a=184,s="xwide"));const c=`https://i.dailymail.co.uk/static/mol-fe/static/royals/promo/${s}${r}.jpg`;return o.innerHTML=`\n    <a class="royals-promo-related" href="/news/royals/index.html">\n      <img width="${i}" height="${a}" loading="lazy" src="${c}">\n    </a>\n  `,o})();e.replaceWith(t)},be=async({relatedElement:e,useSimilarArticles:t=!1,instanceIndex:n=0,topicGroup:r=null,isInlinePaywall:o=!1})=>{if("royals"===r&&1===n)return void ye(e);const i=await(async({useSimilarArticles:e=!1,topicGroup:t=null})=>{const n=window.getIsPaywallEligible&&window.getIsPaywallEligible(),{isPaywalled:r,articleStyle:o}=Object(S.getPageCriteria)(),{renderPlatform:i}=Object(S.getPageMetadata)(),a=Object(I.getExperiments)(),s="desktop"===i&&"extraWide"===o?5:3,c=r&&a&&a.includes("morePaywalledRelatedReplace"),l=c?"desktop"===i&&"extraWide"===o?3:2:1,u=c,d=[n?de({paywalled:!0}).catch((()=>[])):[]];d.unshift(de({topicGroup:t,useSimilarArticles:e}));const[f,p]=await Promise.all(d);if(!f.length)return p;if(!p.length)return f;const m=[];let h=p.slice(),_=f.slice(),g=0;for(let e=0;e<s;e++){const t=(u?e%2==0:e%2!=0)&&h.length&&g<l,n=t?h.shift():_.shift();if(t&&g++,!n)break;m.push(n);const r=m.map((e=>e.articleId));h=h.filter((e=>!r.includes(e.articleId))),_=_.filter((e=>!r.includes(e.articleId)))}return m})({topicGroup:r,useSimilarArticles:t});_e({articles:i,instanceIndex:n,isInlinePaywall:o,relatedElement:e,topicGroup:r})},we=["Mail Best","Mail Best US"],Oe=["sportsbets"],Ie=async()=>{try{const{articleType:e,pageType:t,channel:n,sponsored:r,subchannel:o}=Object(S.getPageCriteria)(),{domain:i,topics:a,publishedDate:s}=Object(S.getPageMetadata)();if("article"!==t||"feature"===e||"thisismoney"===i||"money"===n||"true"===r||!0===r)return;if(Oe.includes(o))return;if(a&&we.some((e=>a.includes(e))))return;if("home"===n&&"home"===o)return;await Object(u.later)("DOM_READY");const c=((e=2,t=[])=>{const n=t||[];for(let t=n.length;t<e;t++){const e=Ee(n[t-1]||null);if(!e)break;n.push(e)}return n})(1,Array.from(document.querySelectorAll(".related-with-thumbs, .related-carousel")));if(!c.length)return;const l=s&&s.getTime()||0,d=Date.now()-l<2592e6,f=a&&a.includes("Royals")?"royals":null,p=!f&&d&&a&&a.length;c.forEach(((e,t)=>{if(t>0&&(e=>{const t=document.querySelector('#mobile-content .scrollable-content > article, #page-container .article-text [itemprop="articleBody"]');if(!t)return!1;const n=t.querySelector(".molad_mpu_mobile_promotions");if(!n)return!1;const r=Array.from(t.children),o=r.indexOf(n.parentNode),i=r.indexOf(e),a=ve(r,o,!1);return i>ve(r,o,!0)&&i<a})(e))return void he(e);Object(T.fireBidmaxTrackingEvent)("impression",fe),T.pageEvents.publish(T.pageEvents.RELATED_REPLACE_IMPRESSION);const n=p&&0===t;new IntersectionObserver(((r,o)=>{for(const i of r)if(i.isIntersecting)return be({instanceIndex:t,relatedElement:e,topicGroup:f,useSimilarArticles:n}),void o.unobserve(e)}),{rootMargin:"2000px"}).observe(e)}))}catch(e){d.logger.error("[mol-fe-related-replace] Error initialising ",e)}};try{Object(u.later)("PAGE_METADATA_SET",Ie)}catch(e){d.logger.error("Error initialising mol-fe-related-replace",e)}const Se={"remixd-player-complete":T.pageEvents.REMIXD_COMPLETE,"remixd-player-error":T.pageEvents.REMIXD_ERROR,"remixd-player-impression":T.pageEvents.REMIXD_IMPRESSION,"remixd-player-mute":T.pageEvents.REMIXD_MUTE,"remixd-player-pause":T.pageEvents.REMIXD_PAUSE,"remixd-player-play":T.pageEvents.REMIXD_PLAY},Ae=()=>{try{window.addEventListener("message",(e=>{if(!e.data||"remixd"!==e.data.scope||!e.data.data)return;const t=e.data.data,n=t&&String(t.event),r=t&&String(t.error),o=Se[n];o&&T.pageEvents.publish(o,{errorMessage:r})}))}catch(e){d.logger.error("Error initialising Remixd event listener",e)}};Ae();var Te,Ce,Le,Pe,Re,Ne=-1,Me=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Ne=t.timeStamp,e(t))}),!0)},De=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},ke=function(){var e=De();return e&&e.activationStart||0},xe=function(e,t){var n=De(),r="navigate";return Ne>=0?r="back-forward-cache":n&&(document.prerendering||ke()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Be=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Ue=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},je=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Fe=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},We=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Ve=-1,Ge=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ke=function(e){"hidden"===document.visibilityState&&Ve>-1&&(Ve="visibilitychange"===e.type?e.timeStamp:0,$e())},He=function(){addEventListener("visibilitychange",Ke,!0),addEventListener("prerenderingchange",Ke,!0)},$e=function(){removeEventListener("visibilitychange",Ke,!0),removeEventListener("prerenderingchange",Ke,!0)},Ye=function(){return Ve<0&&(Ve=Ge(),He(),Me((function(){setTimeout((function(){Ve=Ge(),He()}),0)}))),{get firstHiddenTime(){return Ve}}},qe=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Xe=[1800,3e3],ze=function(e,t){t=t||{},qe((function(){var n,r=Ye(),o=xe("FCP"),i=Be("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-ke(),0),o.entries.push(e),n(!0)))}))}));i&&(n=Ue(e,o,Xe,t.reportAllChanges),Me((function(r){o=xe("FCP"),n=Ue(e,o,Xe,t.reportAllChanges),je((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},Je=[.1,.25],Ze=function(e,t){t=t||{},ze(We((function(){var n,r=xe("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},s=Be("layout-shift",a);s&&(n=Ue(e,r,Je,t.reportAllChanges),Fe((function(){a(s.takeRecords()),n(!0)})),Me((function(){o=0,r=xe("CLS",0),n=Ue(e,r,Je,t.reportAllChanges),je((function(){return n()}))})),setTimeout(n,0))})))},Qe={passive:!0,capture:!0},et=new Date,tt=function(e,t){Te||(Te=t,Ce=e,Le=new Date,ot(removeEventListener),nt())},nt=function(){if(Ce>=0&&Ce<Le-et){var e={entryType:"first-input",name:Te.type,target:Te.target,cancelable:Te.cancelable,startTime:Te.timeStamp,processingStart:Te.timeStamp+Ce};Pe.forEach((function(t){t(e)})),Pe=[]}},rt=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){tt(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,Qe),removeEventListener("pointercancel",r,Qe)};addEventListener("pointerup",n,Qe),addEventListener("pointercancel",r,Qe)}(t,e):tt(t,e)}},ot=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,rt,Qe)}))},it=[100,300],at=function(e,t){t=t||{},qe((function(){var n,r=Ye(),o=xe("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},s=Be("first-input",a);n=Ue(e,o,it,t.reportAllChanges),s&&Fe(We((function(){a(s.takeRecords()),s.disconnect()}))),s&&Me((function(){var r;o=xe("FID"),n=Ue(e,o,it,t.reportAllChanges),Pe=[],Ce=-1,Te=null,ot(addEventListener),r=i,Pe.push(r),nt()}))}))},st=0,ct=1/0,lt=0,ut=function(e){e.forEach((function(e){e.interactionId&&(ct=Math.min(ct,e.interactionId),lt=Math.max(lt,e.interactionId),st=lt?(lt-ct)/7+1:0)}))},dt=function(){return Re?st:performance.interactionCount||0},ft=function(){"interactionCount"in performance||Re||(Re=Be("event",ut,{type:"event",buffered:!0,durationThreshold:0}))},pt=[200,500],mt=0,ht=function(){return dt()-mt},_t=[],gt={},Et=function(e){var t=_t[_t.length-1],n=gt[e.interactionId];if(n||_t.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};gt[r.id]=r,_t.push(r)}_t.sort((function(e,t){return t.latency-e.latency})),_t.splice(10).forEach((function(e){delete gt[e.id]}))}},vt=function(e,t){t=t||{},qe((function(){var n;ft();var r,o=xe("INP"),i=function(e){e.forEach((function(e){e.interactionId&&Et(e),"first-input"===e.entryType&&!_t.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Et(e)}));var t,n=(t=Math.min(_t.length-1,Math.floor(ht()/50)),_t[t]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())},a=Be("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=Ue(e,o,pt,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),Fe((function(){i(a.takeRecords()),o.value<0&&ht()>0&&(o.value=0,o.entries=[]),r(!0)})),Me((function(){_t=[],mt=dt(),o=xe("INP"),r=Ue(e,o,pt,t.reportAllChanges)})))}))},yt=[2500,4e3],bt={},wt=function(e,t){t=t||{},qe((function(){var n,r=Ye(),o=xe("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-ke(),0),o.entries=[t],n())},a=Be("largest-contentful-paint",i);if(a){n=Ue(e,o,yt,t.reportAllChanges);var s=We((function(){bt[o.id]||(i(a.takeRecords()),a.disconnect(),bt[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),Fe(s),Me((function(r){o=xe("LCP"),n=Ue(e,o,yt,t.reportAllChanges),je((function(){o.value=performance.now()-r.timeStamp,bt[o.id]=!0,n(!0)}))}))}}))},Ot=[800,1800],It=function e(t){document.prerendering?qe((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},St=function(e,t){t=t||{};var n=xe("TTFB"),r=Ue(e,n,Ot,t.reportAllChanges);It((function(){var o=De();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-ke(),0),n.entries=[o],r(!0),Me((function(){n=xe("TTFB",0),(r=Ue(e,n,Ot,t.reportAllChanges))(!0)}))}}))};const At=e=>{try{"adverts"in window&&"DM"in window&&(e=>{const t={...e,module:"webVitalsCls"};window.postMessage("__bidmax\n"+JSON.stringify(t),"*")})(e)}catch(e){}},Tt={CLS:null,FCP:null,FID:null,INP:null,LCP:null,TTFB:null},Ct={CLS:null,FCP:null,FID:null,INP:null,LCP:null,TTFB:null},Lt=["CLS","LCP"];let Pt=!1,Rt=!1;const Nt=({name:e,value:t})=>{Ct[e]=t,Rt||(!Pt&&Lt.includes(e)&&(Pt=!0,u.later.go("mol-fe-web-vitals-partial")),Tt[e]=t)},Mt=e=>{const t=e.id?`#${e.id.substr(0,15)}`:"",n=Array.from(e.classList),r=n.length?`.${n.join(".")}`:"";return`${e.tagName.toLowerCase()}${t}${r}`.substr(0,30)};let Dt=!1;const kt=({name:e,value:t,entries:n})=>{Nt({name:e,value:t});try{const e=n&&n[0]&&n[0].target;if(t&&t>=100&&!Dt&&e){Dt=!0;const t=`${e.parentNode?Mt(e.parentNode):"null"} > ${Mt(e)}`;At({event:"fidElement",fidElementSelector:t,fidValue:Ct.FID})}}catch(e){}};let xt=!1;const Bt=({name:e,value:t,entries:n})=>{Nt({name:e,value:t});try{const e=n&&n[0]&&n[0].target;if(t&&!xt&&e){xt=!0;const t=`${e.parentNode?Mt(e.parentNode):"null"} > ${Mt(e)}`;At({event:"inpElement",inpElementSelector:t,inpValue:Ct.INP})}}catch(e){}};let Ut=[];const jt=({name:e,value:t,entries:n})=>{Nt({name:e,value:t}),Ut=n};let Ft=0,Wt=0;const Vt=()=>{try{return window.location.hash||"none"}catch(e){return"none"}},Gt=()=>{if(!(Ft>=2))try{const e=.08;if(Ct.CLS&&Ct.CLS>e&&Ct.CLS>Wt&&Ct.CLS-Wt>.1){Wt=Ct.CLS;const e=.01;for(const t of Ut.filter((t=>t.value>=e&&!t.hadRecentInput))){const e=t.sources.slice(0,2).map((e=>Mt(e.node))).join(",");At({clsElementSelector:e,clsElementValue:t.value,clsHash:Vt(),clsSendCount:Ft,clsTotal:Ct.CLS,event:"clsElement"})}Ft++}}catch(e){}};let Kt=[];const Ht=({name:e,value:t,entries:n})=>{Nt({name:e,value:t}),Kt=n};let $t=0,Yt=0;const qt=()=>{if(!($t>=2))try{const e=2400;if(Ct.LCP&&Ct.LCP>e&&Ct.LCP>Yt&&Ct.LCP-Yt>1e3){Yt=Ct.LCP;const e=Kt[Kt.length-1];if(!e)return;const t=e.element&&Mt(e.element)||e.url||"unknown";At({event:"lcpElement",lcpElementSelector:t,lcpSendCount:$t,lcpValue:Ct.LCP}),$t++}}catch(e){}},Xt=()=>Tt,zt=()=>Ct,Jt={getCLS:Ze,getFCP:ze,getFID:at,getLCP:wt,getTTFB:St,onCLS:Ze,onFCP:ze,onFID:at,onINP:vt,onLCP:wt,onTTFB:St},Zt=()=>Kt,Qt=()=>Ut;(async()=>{try{Ze(jt,{reportAllChanges:!0}),at(kt,{reportAllChanges:!0}),wt(Ht,{reportAllChanges:!0}),vt(Bt,{reportAllChanges:!0}),St(Nt,{reportAllChanges:!0}),ze(Nt,{reportAllChanges:!0}),await Object(u.later)("DOM_READY"),setInterval(Gt,1e4),setInterval(qt,1e4),await(e=1e4,new Promise((t=>{setTimeout(t,e)}))),Rt=!0,u.later.go("mol-fe-web-vitals-standard")}catch(e){d.logger.error("Error initialising mol-fe-web-vitals",e)}var e})();const en=()=>document.querySelector('#mobile-content .scrollable-content > article, #page-container .article-text [itemprop="articleBody"]'),tn="mol-fe-article-truncation-",nn=new IntersectionObserver(((e,t)=>{for(const n of e)if(n.isIntersecting){const e=n.target;T.pageEvents.publish(T.pageEvents.ARTICLE_TRUNCATION_VIEWABLE),t.unobserve(e)}}),{threshold:.5});let rn=!1;const on=({nonInteraction:e=!1}={})=>{const t=en();if(!t||!t.classList.contains("article-truncated"))return;t.style.maxHeight="",t.classList.remove("article-truncated");const n=document.querySelector(".article-truncation-box");n&&(nn.unobserve(n),n.remove()),T.pageEvents.publish(T.pageEvents.ARTICLE_TRUNCATION_EXPAND),e||(rn=!0)},an=async()=>{const{renderPlatform:e}=Object(S.getPageMetadata)(),t="mobile"===e;try{if(t){const e=document.querySelector('#next-stories li[data-idx="1"] > a'),t=document.querySelector("#next-stories li > a");return e&&e.href||t&&t.href}{const e=await Object(f.getConfig)("molFePrevNextNavigation");return e&&e.nextArticle&&e.nextArticle.url}}catch(e){return null}},sn=({nonInteraction:e=!1}={})=>{const t=en();if(!t)return;if(rn&&e)return;const n=t.classList.contains("article-truncated"),{renderPlatform:r}=Object(S.getPageMetadata)(),o=(()=>{try{const e=en();if(!e)return null;const{renderPlatform:t}=Object(S.getPageMetadata)(),n=4500;let r=n;const o=Array.from(e.children),i=o.findIndex((e=>e.offsetTop>=r)),a=e.scrollHeight;if(!i)return null;let s=0;const c=o.slice(i);for(const e of c)if(e.matches("p, .mol-para-with-font")){s++;const t=e.offsetTop+Math.floor(e.offsetHeight/2);if(t+1e3<=a&&t<=n+2e3&&(r=t,s>=3))return r}if(s&&r+1e3<=a&&r<=n+2e3)return r}catch(e){}return null})()||4500;t.style.maxHeight=`${o}px`,t.classList.add("article-truncated");let i=document.querySelector(".article-truncation-box");if(!i){i=document.createElement("div"),i.classList.add("article-truncation-box"),i.innerHTML='<div class="article-truncation-box__button-wrap">\n      <button class="article-truncation-box__button" data-article-truncation-expand-button>Continue Reading</button>\n      </div>';i.querySelector("[data-article-truncation-expand-button]").addEventListener("click",(()=>on())),t.appendChild(i),nn.observe(i),(async e=>{const{renderPlatform:t}=Object(S.getPageMetadata)(),n="mobile"===t,r=Object(I.getExperiments)();if(!r||!r.includes("articleTruncationReadNext"))return;const o=document.createElement("a"),i=await an();if(!i)return;o.classList.add("article-truncation-next-story__button"),o.innerHTML="Read Next Article >>",o.addEventListener("click",(()=>{T.pageEvents.publish(T.pageEvents.ARTICLE_TRUNCATION_READ_NEXT)})),o.href=i;const a=e.querySelector(".article-truncation-box__button-wrap");a.dataset.trackModule="article-truncation-read-next",a.appendChild(o),n&&setInterval((async()=>{const e=await an();e&&(o.href=e)}),2e3)})(i).catch((()=>{}))}n||(((e,t)=>{try{if(!("localStorage"in window))return;window.localStorage.setItem(`${tn}${e}`,JSON.stringify(t))}catch(e){}})("last",Date.now()),T.pageEvents.publish(T.pageEvents.ARTICLE_TRUNCATION_TRUNCATE))},cn=()=>{try{const{geo:e,articleType:t,pageType:n,sponsored:r,channel:o}=Object(S.getPageCriteria)(),{renderPlatform:i}=Object(S.getPageMetadata)();location.search.match(/debugSkipArticleTruncationGeoCheck=true/);return void 0}catch(e){d.logger.error("Error initialising mol-fe-article-truncation",e)}};try{Object(u.later)("DOM_READY",cn)}catch(e){d.logger.error("Error initialising mol-fe-article-truncation",e)}var ln=n(197);const un="mol-fe-paywall-",dn=(e,t)=>{try{"localStorage"in window&&window.localStorage.setItem(`${un}${e}`,JSON.stringify(t))}catch(e){}},fn=()=>"/snippet/money/investing/header.html"===location.pathname,pn=()=>{const{domain:e}=Object(S.getPageMetadata)();return"thisismoney"===e||fn()},mn={default:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/109171/get-more-from-the-mail",production:"https://www.mailsubscriptions.co.uk/info/348361/get-more-from-the-mail"},AU:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/110515/get-more-from-the-mail",production:"https://www.mailsubscriptions.co.uk/info/372352/get-more-from-the-mail"},GB:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/products/107245/read-more-see-more-enjoy-more",production:"https://www.mailsubscriptions.co.uk/info/357853/get-more-from-the-mail"},IE:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/109873/get-more-from-the-mail",production:"https://www.mailsubscriptions.co.uk/info/365671/get-more-from-the-mail"},NZ:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/110515/get-more-from-the-mail",production:"https://www.mailsubscriptions.co.uk/info/372352/get-more-from-the-mail"}},hn={default:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/109173/first-month-free-then-4.99",production:"https://www.mailsubscriptions.co.uk/info/348363/first-month-free-then-4.99"},AU:{integration:null,production:null},GB:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/products/107260/the-best-financial-articles-with-all-the-mails-best-content",production:"https://www.mailsubscriptions.co.uk/info/362596/1.99-per-month-for-your-first-year-then-4.99-per-month"},IE:{integration:"https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/109874/first-month-free-then-4.99",production:"https://www.mailsubscriptions.co.uk/info/365672/get-more-from-this-is-money-with-mail"},NZ:{integration:null,production:null}},_n=()=>{const{environment:e}=Object(S.getPageMetadata)(),{geo:t}=Object(S.getPageCriteria)(),n=pn()?hn:mn,r=n[t]||n.default;return r[e]||r.production},gn=()=>{const{geo:e}=Object(S.getPageCriteria)();return pn()?"/money/mailplus/index.html":["AU","NZ"].includes(e)?"/mailplus/au/index.html":"/mailplus/index.html"},En=()=>{const{pageType:e,channel:t,subchannel:n}=Object(S.getPageCriteria)(),r=["aumailplus","mailplus"];return"channel"===e&&(r.includes(t)||r.includes(n)||"mailplusmoney"===n)},vn=({referringModule:e,referringPageType:t,returnUrl:n})=>{dn("return-url",n||`${location.origin}${gn()}`),dn("purchase-meta",{referringModule:e,referringPageType:t})},yn=e=>{const{pageType:t,channel:n,subchannel:r}=Object(S.getPageCriteria)();if("channel"!==t||n!==r||!["auhome","home"].includes(n)||location.pathname.startsWith("/registration"))return;if(window.getIsPaywallSubscriber&&window.getIsPaywallSubscriber()){const t=document.querySelector("[data-paywall-home-masthead]");return void(t&&(t.remove(),e.style.backgroundImage=""))}const o=(()=>{const e=_n();return e&&`${e}?molclicksource=banner`})();if(!o)return;const i=document.querySelector("[data-paywall-home-masthead]")||document.createElement("a");i.href=o,i.dataset.paywallHomeMasthead=!0,i.addEventListener("click",(()=>{T.pageEvents.publish(T.pageEvents.PAYWALL_MASTHEAD_SIGNUP_CLICK),vn({referringModule:"masthead",referringPageType:"home"})})),e.appendChild(i)},bn=e=>{const t=window.getIsPaywallEligible&&window.getIsPaywallEligible(),{pageType:n,isPaywalled:r,geo:o}=Object(S.getPageCriteria)(),i=pn(),a="article"===n&&r,s=En();if(!a&&!s||!s&&!t)return;let c="https://i.dailymail.co.uk/static/mol-fe/static/configs/mol-fe-paywall/mastheads/mailplus_article_masthead_v2.png";"AU"!==o&&"NZ"!==o||(c="https://i.dailymail.co.uk/static/mol-fe/static/configs/mol-fe-paywall/mastheads/mailplus-masthead-au-2.png"),i&&(c="https://i.dailymail.co.uk/static/mol-fe/static/configs/mol-fe-paywall/mastheads/mailplus_article_masthead_tim.jpg");const l="cover",u=(()=>{if(En())return null;const e=gn(),t=document.querySelector("[data-paywall-article-masthead]")||document.createElement("a");return t.href=e,t.dataset.paywallArticleMasthead=!0,t.style.position="absolute",t.style.zIndex=10,t.style.top="0px",t.style.right="0px",t.style.height="91px",t.style.width="300px",t.addEventListener("click",(()=>{T.pageEvents.publish(T.pageEvents.PAYWALL_MASTHEAD_ARTICLE_CLICK)})),t})();u&&e.appendChild(u),e.style.backgroundImage=`url(${c})`,l&&(e.style.backgroundSize=l),e.classList.add("masthead-paywalled"),document.documentElement.classList.add(i?"has-mailplus-masthead-tim":"has-mailplus-masthead"),i||document.documentElement.classList.add("has-mailplus-theme")},wn=({isSelected:e=!1,topNav:t=!1}={})=>{const n=document.createElement("li");return n.classList.add("mailplus-nav"),n.innerHTML=`\n    <span class="${e&&t?"link-wocc linkro-wocc":"link-gr6ox linkro-ccox"} ${e?"selected":""}">\n      <a class="${e&&t?"no-border":""}" href="${gn()}">\n        Mail+\n      </a>\n    </span>\n  `,n},On=({isSelected:e=!1,topNav:t=!1}={})=>{const n=document.createElement("li");return n.classList.add("mailplus-nav"),n.innerHTML=`\n      <a class="${e&&t?"current bdrcc":""}" href="${gn()}">\n        Mail+\n      </a>\n  `,n},In=()=>document.querySelector(".page-header .masthead"),Sn=async()=>{try{const e=pn();let t=In();if(t||await Object(u.later)("DOM_READY"),t=In(),!t)return;if(!(window.getIsPaywallEligible&&window.getIsPaywallEligible()))return void bn(t);yn(t),bn(t),e?(async()=>{const{pageType:e,isPaywalled:t,subchannel:n}=Object(S.getPageCriteria)(),r="article"===e&&t||"channel"===e&&"mailplusmoney"===n,o=document.querySelector(".page-header >.money.nav-secondary-container .nav-secondary ul.float-l"),i=o.querySelector("li:first-child a");i&&"Money Home"===i.textContent&&(i.textContent="Home"),o.appendChild(On({isSelected:r,topNav:!0})),await Object(u.later)("DOM_READY");const a=document.querySelector(".footer .nav-secondary");if(a){const e=a.querySelector("li:first-child a");e&&"Money Home"===e.textContent&&(e.textContent="Home"),a.appendChild(On({isSelected:r,topNav:!1}))}})():(async()=>{const{pageType:e,isPaywalled:t,channel:n,geo:r}=Object(S.getPageCriteria)(),o="article"===e&&t||"channel"===e&&["mailplus","aumailplus"].includes(n),i=document.querySelector(".page-header .nav-primary"),a=document.querySelector(".page-header > .nav-secondary-container");if(o){const e=i.querySelector("span.selected"),t=i.querySelector("li:not(:first-child) .no-border");if(e&&(e.classList.remove("link-wocc","linkro-wocc","selected"),e.classList.add("link-gr6ox","linkro-ccox")),t&&t.classList.remove("no-border"),a){const e=a.querySelector("ul");e&&e.remove(),a.classList.add("mailplus")}}if("CA"===r){const e=i.querySelector('a[href="/puzzles/index.html"]'),t=e&&e.closest("li");t&&t.remove();const r=i.querySelector('a[href="/wellness-us/index.html"]'),o=r&&r.closest("li"),a=o&&o.querySelector("span"),s="podcasts"===n,c=o&&o.nextElementSibling.querySelector("a");o&&(r.innerHTML="Podcasts",r.setAttribute("href","/podcasts/index.html"),o.classList.remove("wellness"),o.classList.add("podcasts"),s&&(a.classList.remove("link-gr6ox","linkro-ccox"),a.classList.add("link-wocc","linkro-wocc"),a.classList.add("selected"),c&&c.classList.add("no-border")))}i.appendChild(wn({isSelected:o,topNav:!0})),await Object(u.later)("DOM_READY");const s=document.querySelector(".footer .nav-primary");if(s){if("CA"===r){const e=s.querySelector('a[href="/puzzles/index.html"]'),t=e&&e.closest("li");t&&t.remove();const r=s.querySelector('a[href="/wellness-us/index.html"]'),o=r&&r.closest("li"),i=o&&o.querySelector("span"),a="podcasts"===n,c=o&&o.nextElementSibling.querySelector("a");o&&(r.innerHTML="Podcasts",r.setAttribute("href","/podcasts/index.html"),o.classList.remove("wellness"),o.classList.add("podcasts"),a&&(i.classList.remove("link-gr6ox","linkro-ccox"),i.classList.add("link-wocc","linkro-wocc"),i.classList.add("selected"),c&&c.classList.add("no-border")))}s.appendChild(wn({isSelected:o,topNav:!1}))}})();const n=window.getIsPaywallSubscriber&&window.getIsPaywallSubscriber();await Object(u.later)("REFRESHED_PAYWALL_ENTITLEMENT");n!==(window.getIsPaywallSubscriber&&window.getIsPaywallSubscriber())&&yn(t)}catch(e){d.logger.error("Error initialising paywall masthead desktop",e)}},An=e=>{const t=window.getIsPaywallEligible&&window.getIsPaywallEligible(),{pageType:n,isPaywalled:r}=Object(S.getPageCriteria)(),o=pn(),i="article"===n&&r,a=En();if(!i&&!a||!a&&!t)return;e.classList.add(o?"mailplus-menubar-tim":"mailplus-menubar"),o||document.documentElement.classList.add("has-mailplus-theme");const s=e.querySelector('[data-track-module*="masthead-channel"] span'),c=e.querySelector('[data-track-module*="masthead-channel"] a')||document.createElement("a");c.setAttribute("href",gn()),c.innerHTML="Mail+",c.classList.add("mailplus-channel-link"),s&&s.replaceWith(c),(()=>{const e=document.querySelector('meta[name="theme-color"]')||document.createElement("meta");e.setAttribute("name","theme-color"),e.setAttribute("content","#1e3264"),document.head.appendChild(e)})()},Tn=()=>document.querySelector("#mobile-content > header"),Cn=async()=>{try{let e=Tn();if(e||await Object(u.later)("DOM_READY"),e=Tn(),!e)return;if(!(window.getIsPaywallEligible&&window.getIsPaywallEligible()))return void An(e);An(e),(()=>{const e=document.querySelector("#nav"),t=document.createElement("li"),n=e.querySelector("li:first-child");pn()&&t.classList.add("full-width"),t.classList.add("mailplus-nav"),t.innerHTML=`\n    <span>\n      <a class="main-nav home" href="${gn()}" data-google-interstitial="false">\n        Mail+\n      </a>\n    </span>\n  `,n.after(t)})()}catch(e){d.logger.error("Error initialising paywall masthead mobile",e)}},Ln=async()=>{try{if(window.getPaywallPurchaseUrl=_n,fn())return await Sn(),void document.body.classList.add("mailplus-tim");await Object(u.later)("PAGE_METADATA_SET");const{renderPlatform:e}=Object(S.getPageMetadata)();"desktop"===e?await Sn():"mobile"===e&&await Cn(),pn()&&(await Object(u.later)("DOM_READY"),document.body.classList.add("mailplus-tim"))}catch(e){d.logger.error("Error initialising paywall masthead",e)}},Pn={getMailplusChannelUrl:gn,getPurchaseUrl:_n,setPaywallPurchaseMeta:vn};Ln().catch((()=>{}));var Rn=n(24),Nn=n(96),Mn="notificationWrapper--2O3S5",Dn="notificationClose--3PvD8",kn="notificationBody--2Lnye",xn="notificationBanner--3Ye_a",Bn="notificationBreakingNews--2GwiK",Un="notificationSecondWord--3hC1e",jn="notificationTitle--ksDjQ";const Fn=()=>{const e=document.body.querySelectorAll(`.${Mn}`);if(e.length>0)for(const t of Array.from(e))document.body.removeChild(t)},Wn=(e,t,n)=>{Fn();const r=`\n      <div class="${kn}">\n        <div class="${xn}">\n          <span class="${Bn}">\n            BREAKING <span class="${Un}">NEWS</span>\n          </span>\n        </div>\n        <span class="${jn}">\n          ${t.title}\n        </span>\n      </div>\n      <div class="${Dn}">\n      </div>`,o=setTimeout(Fn,e),i=document.createElement("div");i.classList.add(Mn),i.innerHTML=r;const a=()=>{document.body.contains(i)&&(document.body.removeChild(i),clearTimeout(o))},s=i.querySelector(`.${kn}`),c=i.querySelector(`.${Dn}`);s.onclick=()=>{window.open(t.clickThroughUrl,"_blank").focus(),n&&"function"==typeof n.onClick&&n.onClick(),a()},c.onclick=a,document.body.appendChild(i)};var Vn="prePrompt--1Aq77",Gn="prePromptWrapper--DFcqf",Kn="prePromptLogo--dtxr0",Hn="prePromptCloseBtn--1wm3v",$n="prePromptMain--2a1p6",Yn="prePromptBell--30MEY",qn="prePromptText--ELZiV",Xn="prePromptConfirmBtn--zqKKE";const zn={femail:"Femail",health:"Health",money:"Money",news:"Breaking",royals:"Royal",sciencetech:"Science",shoppinguk:"Shopping",shoppingus:"Shopping",sport:"Sport",travel:"Travel",tvshowbiz:"Showbiz"},Jn="pre-prompt",Zn=()=>{const e=document.getElementById(Jn);e&&document.body.contains(e)&&document.body.removeChild(e)},Qn=(e,t)=>{if(document.getElementById(Jn))return;const n=`Sign up to ${zn[e]||"Breaking"} News notifications`,r=document.createElement("div");r.id=Jn,r.classList.add(Vn),r.dataset.channelColor=e,r.innerHTML=`<div class="${Gn}">\n    <button class="${Hn}"></button>\n    <div class="${Kn}">\n      <svg xmlns="http://www.w3.org/2000/svg" width="120" height="20" viewBox="0 0 120 20" fill="none">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.661 0.194706C20.0835 -0.158707 20.1989 0.0769828 20.1989 0.0769828L24.5423 2.67059C24.888 2.90632 24.7343 2.98518 24.7343 2.98518V15.0093C24.888 16.503 26.1178 17.0921 26.1178 17.0921C26.4638 17.367 26.3104 17.5635 26.3104 17.5635L22.9663 20C20.0835 19.0177 19.8144 16.6207 19.8144 16.6207V5.1068C19.7378 4.55684 19.469 4.6351 19.469 4.6351L17.2405 3.46051L17.2544 8.56647L19.6438 8.56712L17.2645 12.0905L17.2758 16.3186L18.9308 17.4846C19.1613 17.76 18.8154 17.7995 18.8154 17.7995L15.3564 20L10.2059 17.2098C9.7448 16.8955 10.0905 16.699 10.0905 16.699L11.2052 15.9921V12.298H8.77015L8.78292 17.0448L9.59081 17.5635C9.85994 17.8389 9.55256 18.0355 9.55256 18.0355L6.13185 20L1.63472 17.6029C1.25048 17.3281 1.67329 17.1315 1.67329 17.1315L2.94171 16.3847V5.73595L0.482 3.92798L0.366577 3.88855C-0.325048 3.49604 0.174337 3.29917 0.174337 3.29917L3.71043 0.980963C3.90243 0.823525 4.0561 1.05921 4.0561 1.05921L7.28485 2.98518C7.28485 2.98518 11.6405 0.606634 11.9357 0.425838C12.1277 0.307831 12.2813 0.465269 12.2813 0.465269L15.9712 2.55262L19.661 0.194706ZM45.5663 5.85334C45.5663 5.85334 45.7968 5.57851 46.1036 5.85334C46.2328 5.96872 47.0581 6.43656 47.9729 6.94096L48.3993 7.1752C49.5415 7.80064 50.678 8.40785 50.678 8.40785C50.678 8.40785 50.9856 8.60411 50.6394 8.8398C50.2935 9.07581 49.8712 9.18865 49.8712 9.18865C49.8712 9.18865 49.7168 9.03638 49.6022 9.50776C49.4748 10.0265 49.6404 15.9921 49.6404 15.9921C49.6404 15.9921 49.5636 16.2276 49.794 16.3452C50.0245 16.463 51.3546 17.2492 51.3546 17.2492C51.3546 17.2492 51.6237 17.4846 51.3546 17.6029C51.2391 17.6534 50.6042 18.1009 49.9162 18.5958L49.57 18.8456C48.7619 19.4302 47.9874 20 47.9874 20L43.4139 17.6424C43.4139 17.6424 43.1751 17.3687 43.4903 17.0921C43.7598 16.8561 44.264 16.455 44.264 16.455C44.264 16.455 44.2979 16.0309 44.2593 15.8738L44.1824 9.82207C44.1824 9.82207 44.2979 9.62609 43.9516 9.50776C43.6057 9.39008 42.3377 8.56467 42.3377 8.56467C42.3377 8.56467 42.1454 8.40785 42.3759 8.05382C42.6067 7.70074 45.5663 5.85334 45.5663 5.85334ZM35.6883 5.30339C36.1494 4.98908 36.342 5.26391 36.342 5.26391C36.342 5.26391 41.2996 7.77899 41.5687 8.0933C41.8378 8.40785 41.6841 8.64354 41.6841 8.64354L40.877 9.31122C40.6847 9.35126 40.7229 9.62609 40.7229 9.62609V15.5596L42.8376 17.0138C43.068 17.2887 42.914 17.5635 42.914 17.5635L39.8779 20L34.8813 17.5246C34.6505 17.2887 34.4968 17.5635 34.4968 17.5635L31.5371 20C27.4821 19.4637 26.821 16.4866 26.7344 15.9521L26.7317 15.9357C26.7255 15.8939 26.7225 15.869 26.7225 15.869C26.4487 11.499 28.1168 10.4117 28.1168 10.4117C30.269 7.5433 35.6883 5.30339 35.6883 5.30339ZM58.2498 0.941533L58.2493 0.987414C58.2428 1.60758 58.173 8.37283 58.1685 12.6091L58.1686 13.4949C58.1707 14.8924 58.1828 15.8664 58.2111 15.9921C58.3266 16.503 58.557 16.3847 58.557 16.3847C58.557 16.3847 58.8454 16.591 59.1674 16.812L59.4112 16.9776C59.6534 17.14 59.8786 17.2838 59.9795 17.3281C60.2482 17.4458 60.0945 17.7207 60.0945 17.7207L57.2886 19.9605C57.2886 19.9605 56.1395 19.4426 54.9453 18.8938L54.4975 18.6876C53.4577 18.2073 52.489 17.7501 52.3309 17.6424C51.8692 17.3281 52.1769 17.1315 52.1769 17.1315L52.9837 16.3064L52.9842 16.2619C52.9888 15.8954 53.0203 13.3209 53.0307 10.6013L53.0335 9.61948L53.0335 8.3279C53.029 6.0054 52.9978 4.0178 52.9072 3.77087C52.6764 3.14201 51.9461 2.90632 51.9461 2.90632C51.7924 2.63149 51.9847 2.59206 51.9847 2.59206C51.9847 2.59206 56.9809 0.941533 57.6348 0.784704C58.2884 0.627266 58.2498 0.941533 58.2498 0.941533ZM68.6932 1.98611C72.9117 1.98611 75.0542 4.87652 75.0542 10.1606V11.0639C75.0542 16.4834 72.7573 19.1254 68.6932 19.1254C64.9164 19.1254 62.3322 16.5963 62.3322 11.109V10.1606C62.3322 4.85398 64.6733 1.98611 68.6932 1.98611ZM114.721 5.89269C118.034 5.89269 120 8.24117 120 12.0575V12.9607H110.635C110.635 16.4609 112.491 17.9963 115.097 17.9963C117.085 17.9963 118.454 17.4093 119.139 17.0254V18.1319C118.277 18.7641 116.621 19.1029 114.854 19.1029C112.314 19.1029 109.31 17.635 109.31 13.0059V12.1026C109.31 8.17346 111.607 5.89269 114.721 5.89269ZM103.457 5.91532C105.732 5.91532 107.212 7.20242 107.212 9.5961V18.8545H105.909V9.34768C105.909 7.97024 104.849 6.9992 103.082 6.9992C101.315 6.9992 99.6803 8.01537 98.9293 9.70898V18.8545H97.6262V6.32175H98.8409L98.8851 8.62506C99.4153 7.31534 101.094 5.91532 103.457 5.91532ZM94.8433 6.18629V18.8545H93.5402V6.18629H94.8433ZM83.0053 5.91532C85.2803 5.91532 86.7601 7.20242 86.7601 9.5961V18.8545H85.457V9.34768C85.457 7.97024 84.3967 6.9992 82.6299 6.9992C80.8628 6.9992 79.2285 8.01537 78.4775 9.70898V18.8545H77.1744V6.32175H78.3891L78.4333 8.62506C78.9635 7.31534 80.6419 5.91532 83.0053 5.91532ZM90.6912 2.21195V18.8545H89.4105V2.21195H90.6912ZM68.6932 3.07003C65.4685 3.07003 63.7017 5.26046 63.7017 10.3864V10.7929C63.7017 15.806 65.4904 18.019 68.6932 18.019C71.9179 18.019 73.6846 16.1221 73.6846 10.838V10.3864C73.6846 5.44109 72.1165 3.07003 68.6932 3.07003ZM32.5747 8.01468C30.6536 8.87927 30.5767 10.5689 30.5767 10.5689C30.1857 12.0753 30.7343 13.4816 30.9921 14.024C32.0083 15.8168 33.9592 16.8173 33.9592 16.8173C34.8041 17.2098 35.1501 16.6207 35.1501 16.6207L35.1884 9.8075L32.5747 8.01468ZM8.4384 3.52847C7.90716 3.54071 7.80621 3.85449 7.78821 3.94389L7.78451 3.96746L7.7459 16.3847C7.78451 16.6595 7.93818 16.503 7.93818 16.503L8.47522 16.8476L8.4384 3.52847ZM16.9574 12.298H16.3939V15.7167C16.4708 15.9921 16.7014 15.9133 16.7014 15.9133L16.9681 16.1013L16.9574 12.298ZM114.765 7.04437C112.468 7.04437 110.679 8.62506 110.635 11.922H118.675C118.675 8.62506 117.173 7.04437 114.765 7.04437ZM8.74611 3.59736L8.76808 11.6348L10.7824 8.56467L11.2052 8.56529V5.1068C11.1078 4.67454 10.9549 4.72076 10.9102 4.74522L10.8975 4.75339L8.74611 3.59736ZM16.9328 3.31402C16.2504 3.09863 16.3554 3.53486 16.3554 3.53486L16.3939 8.21155V8.56647H16.9473L16.9328 3.31402ZM47.2193 0.548689C47.2193 0.548689 47.9297 0.0769828 48.8718 0.666412C48.8718 0.666412 49.948 1.13779 49.4863 2.86689C49.4863 2.86689 48.756 4.6351 46.9502 5.38192C46.9502 5.38192 46.5271 5.46082 46.3731 5.0677C46.3731 5.0677 45.5663 3.84973 45.8354 2.31689C45.8354 2.31689 46.1231 1.15781 47.2193 0.548689ZM94.9981 2.84423V4.76364H93.3416V2.84423H94.9981Z" fill="currentColor"/>\n      </svg>\n    </div>\n    <div class="${$n}">\n      <div class="${Yn}">\n        <svg xmlns="http://www.w3.org/2000/svg" width="42" height="40" viewBox="0 0 42 40" fill="none">\n          <path fill-rule="evenodd" clip-rule="evenodd" d="M33.8463 32.9194C26.2075 24.5494 29.2825 16.1195 29.2825 13.6621C29.2825 7.89756 24.6365 3.16072 18.6631 2.51017V1.24872C18.6631 0.558908 18.0662 0 17.3287 0C16.591 0 15.9944 0.559189 15.9944 1.24872V2.49743C8.9082 3.17806 4.09318 9.64216 5.50295 15.8725C5.50295 16.0688 7.87153 25.0485 0.81895 32.9067C0.0850103 33.7185 0.698998 34.9548 1.83334 34.9548C5.13431 34.9486 31.6524 34.9666 32.8467 34.9672C33.9807 34.9672 34.5935 33.7188 33.8463 32.9194ZM13.322 36.2412C13.322 38.318 15.1194 40 17.3385 40C19.5577 40 21.3551 38.318 21.3551 36.2412V36.2131L13.322 36.2036V36.2412Z" fill="currentColor"/>\n          <path d="M32.4912 19.5833C36.9143 19.5833 40.5 16.0389 40.5 11.6667C40.5 7.29441 36.9143 3.75 32.4912 3.75C28.068 3.75 24.4823 7.29441 24.4823 11.6667C24.4823 16.0389 28.068 19.5833 32.4912 19.5833Z" fill="var(--pre-prompt-bell-fill-color)" stroke="white" stroke-width="2.5"/>\n        </svg>\n      </div>\n      <div class="${qn}">${n}</div>\n    </div>\n    <button class="${Xn}">Sign up</button>\n  </div>`;const o=r.querySelector(`.${Hn}`),i=r.querySelector(`.${Xn}`);o&&o.addEventListener("click",(()=>{Zn(),t(!1)})),i&&i.addEventListener("click",(()=>{Zn(),t(!0)})),document.body.append(r)};var er=async()=>{const{webPush:{baseEndpoint:e}}=Object(S.getPageMetadata)();if(!window.hulk)try{await Object(b.loadScript)(`${e}v1/static/latest/mol-fe-web-push-browser-register/register.js`,{beforeCurrentScript:!0,defer:!0})}catch(e){d.logger.error("There was a problem attempting to loading register.js",e)}return window.hulk};var tr=()=>{try{return decodeURIComponent(document.cookie.match(/s_(m|v|a|f)id\%3D(.+?)\%3B/)[2]).split("|")[0]}catch(e){d.logger.error("could not find Omniture visitor ID")}};var nr=(e,t)=>{const n=document.querySelector('meta[name="keywords"]'),r=n&&n.content?n.content.split(","):[],o=location.host.split(".")[1];return r.filter((n=>n!==e&&n!==t&&n!==o))};var rr=({isMobile:e,isTablet:t}={})=>{switch(!0){case t:return"tablet";case e:return"mobile"}return"desktop"};var or=async()=>{const{environment:e,webPush:{promptFrequency:t},syncBundleLocation:n}=Object(S.getPageMetadata)(),{isMobile:r,isTablet:o,channel:i,geo:a,subchannel:s}=Object(S.getPageCriteria)(),c=new URL(document.location).searchParams,l=i?[i]:[],u=s?[s]:[],d="push-notification"===(c&&c.get("ito"))?nr(l[0],u[0]):void 0,f=tr(),p=f?[f]:[],m=!0;return{environment:e,metadata:{channels:l,geo:a,keywords:d,organisation:"mol",platform:rr({isMobile:r,isTablet:o}),profilingAllowed:m,subChannels:u,userAgent:navigator.userAgent,visitorIds:p},notificationMacros:{impression:[]},promptFrequency:t,swUrl:`${n}/sw.js`}};const ir=e=>e.scrollTop||document.documentElement.scrollTop||document.body.scrollTop,ar=5e3;var sr=async()=>{try{const{webPush:e,articleId:t,contentType:n}=Object(S.getPageMetadata)(),{channel:r,isMobile:o,subchannel:i}=Object(S.getPageCriteria)(),{hostname:a,prePromptDelayTTL:s=ar,promptEnabled:c,pullNotificationEnabled:l,pullNotificationTTL:f=3e5,pullNotificationScrollThreshold:p}=e||{},{Register:m}=await er(),h=await or();if(a&&location.hostname.includes(a)){const e=new m(h);if(e.on("error",d.logger.error),m.isWebPushSupported()&&(e.on("notification_click",(e=>T.pageEvents.publish(T.pageEvents.WEB_PUSH_NOTIFICATION_CLICK,e))),e.on("prompt_pre_prompt_impression",(e=>T.pageEvents.publish(T.pageEvents.WEB_PUSH_PRE_PROMPT_IMPRESSION,e))),e.on("prompt_pre_prompt_click",(e=>T.pageEvents.publish(T.pageEvents.WEB_PUSH_PRE_PROMPT_CLICK,e))),e.on("prompt_impression",(e=>T.pageEvents.publish(T.pageEvents.WEB_PUSH_PROMPT_IMPRESSION,e))),e.on("prompt_click",(e=>T.pageEvents.publish(T.pageEvents.WEB_PUSH_PROMPT_CLICK,e))),await e.init(),c)){const t=!o&&(()=>{const e=/Version\/([0-9.]+) ?Safari\/[0-9.]+/.exec(navigator.userAgent);if(e){const t=parseFloat(e[1]);return!isNaN(t)&&t>=16}return!1})();setTimeout((()=>{e.showPrompt(t?Qn.bind(null,r):void 0)}),s)}!l||"home"===n&&r===i&&["home","ushome","auhome"].includes(r)||(e.on("pull_notification_click",(e=>T.pageEvents.publish(T.pageEvents.WEB_PULL_NOTIFICATION_CLICK,e))),await Object(u.later)("DOM_READY"),"number"==typeof p&&p>0&&await((e,t)=>{if(!e||"number"!=typeof e)throw new TypeError("missing or wrong required threshold number");return new Promise((n=>{if(ir(t)>=e)return void n();const r=()=>{ir(t)>=e&&(n(),t.removeEventListener("scroll",r))};t.addEventListener("scroll",r)}))})(p,document),await e.initPullNotifications({canRender:e=>"object"==typeof e&&(!e.assetId||e.assetId!==t),renderPullNotification:Wn.bind(null,f)}))}}catch(e){d.logger.error(`Error initializing web push: ${e}`)}};const{ccRender:cr}=Object(S.getPageCriteria)();Object(u.later)("PAGE_METADATA_SET",(()=>{cr||sr()}));var lr=n(199)},function(e,t,n){"use strict";n.r(t),n.d(t,"showSpinner",(function(){return a})),n.d(t,"hideSpinner",(function(){return i})),n.d(t,"initLoadingSpinner",(function(){return c}));var r=n(1);const o="mol-fe-loading-spinner",i=()=>{const e=document.getElementById(o);e&&e.remove()},a=e=>{let t=document.getElementById(o);t||(t=document.createElement("div"),t.id=o,t.className=o,document.body.appendChild(t),"number"==typeof e&&setTimeout((()=>i()),e))},s=["travel","femail"],c=()=>{const{channel:e}=Object(r.getPageCriteria)();s.includes(e)&&document.addEventListener("click",(e=>{e.target.closest('.article a[href*="/article-"],.article-preview a[href*="/article-"],.puff a[href*="/article-"],.mol-fe-related-replace a[href*="/article-')&&a(3e3)}))}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"m",(function(){return l}));var r=n(0),o=n(1),i=n(3),a=n(2);n.d(t,"e",(function(){return a.later})),n.d(t,"a",(function(){return r.logger})),n.d(t,"h",(function(){return r.log}));var s=n(11);n.d(t,"f",(function(){return s.loadStyle})),n.d(t,"g",(function(){return s.loadDeferredImgs})),n.d(t,"i",(function(){return s.onDocReady})),n.d(t,"d",(function(){return o.getPageMetadata})),n.d(t,"k",(function(){return o.setPageMetadata})),n.d(t,"b",(function(){return i.nielsen})),n.d(t,"l",(function(){return i.ted})),n.d(t,"j",(function(){return i.pageEvents}));const{externalLinkTracker:c,trackSwipe:l}=i.moduleTracking,{pageEvents:u}=i;u.getPageMetadata=(...e)=>(r.logger.warn('"pageEvents.getPageMetadata" has been deprecated. Please use "DM.molFePageMetadata.getPageMetadata" instead'),o.getPageMetadata(...e))},,function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(r.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=i(o),n=i(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(e,t,n){},,,function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(35),a=n(51);const s=e=>{if(!e.href)return!1;try{const t=new URL(e.href),n=/.*amazon./;return Boolean(t.hostname.match(n)&&t.searchParams.has("tag"))}catch(e){return!1}},c=(e,t,n)=>{const r=new URLSearchParams(e),o=((e,t)=>Boolean(e&&e.startsWith(t)))(t,n),i=o?"internal":"external",s=r.get("ico"),c=r.get("ito"),l=r.get("utm_source");if(s)return`${i}_ico_${s}`;if(c)return`${i}_ito_${c}`;if(l)return`${i}_${l}`;if(t){if(n&&o){return`${i}_${new URL(t).pathname}`}return`${i}_${Object(a.getHostname)(t)}`}return"direct"},l=(e,t)=>{const{referrer:n}=t;return{asc_campaign:(r=e,r&&r.tagName&&"a"===r.tagName.toLowerCase()&&Boolean(r.closest(".mol-product"))?"product":"standard"),asc_refurl:location.href,asc_source:c(location.search,n,location.origin)};var r},{getConfig:u}=i.a;var d=n(1);Object(r.later)("DOM_READY",(async()=>{try{const e=Array.from(document.getElementsByTagName("a")).filter(s),t=await u();for(const n of e){const e=await l(n,t),r=new URL(n.href);for(const t in e)e[t]&&!r.searchParams.has(t)&&r.searchParams.set(t,e[t]);n.href=r.href}}catch(e){o.logger.error("Error adding asc params to the amazon links",e)}})),(()=>{try{window.OBREvents=window.OBREvents||[],window.OBREvents.push({callback:e=>{requestAnimationFrame((()=>(e=>{const{element:t}=e,{renderPlatform:n}=Object(d.getPageMetadata)(),r=document.getElementById("reader-comments");if(!((window.location.hash&&window.location.hash.startsWith("#comments")||window.location.search&&window.location.search.match(/openWebLoggedIn/)||window.location.search&&window.location.search.match(/spot_im_scroll_to_comments=true/)||window.location.search&&window.location.search.match(/spot_im_highlight_immediate=true/))&&t&&t.parentNode&&r&&"desktop"===n))return;const{top:o,height:i}=t.getBoundingClientRect();if(o>window.innerHeight)return;const{top:a}=r.getBoundingClientRect();if(o>a)return;const s=i+24;s>a||(window.scrollTo(0,window.pageYOffset+s),requestAnimationFrame((()=>{const{bottom:e,top:t}=r.getBoundingClientRect();(e<300||t>window.innerHeight-300)&&(r.scrollIntoView(),window.scrollTo(0,window.pageYOffset-100))})))})(e)))},name:"rendered",widgetId:"all"})}catch(e){o.logger.error("Error initialising outbrain comments scroll fix",e)}})()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(0),i=n(23);const a=()=>{Object(r.later)("PAGE_METADATA_SET",(()=>{try{const e=Object(i.getExperiments)();e&&e.length&&(window.molMVTest=(window.molMVTest?window.molMVTest+",":"")+e.join(","))}catch(e){o.logger.error("Error setting multivariant experiments to ads MVT",e)}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=()=>!1},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),o=n.n(r),i=n(3),a=n(1);let s=1;const c=()=>{document.addEventListener("click",(e=>{const t=e.target.closest("[data-social-first-article-links] .facebook, [data-social-first-article-links] .twitter");if(t){e.preventDefault();const n=t.classList.contains("twitter")?"twitter":"facebook",r=t.classList.contains("twitter")?"tw":"fb",c=t.querySelector("button").getAttribute("data-url"),l=Object(a.getPageMetadata)(),u=t.closest(".article").querySelector("a"),d=u.textContent,f=u.getAttribute("href").match(/\/(article|fb)-(\d+)\//)[2],p=o.a.get("social-share-platform");let m="";t.querySelector("button").hasAttribute("data-preferred-shared-network-enabled")&&("twitter"===p?m="twitter_preferred-":"facebook"===p&&(m="facebook_preferred-")),window.open(c,"share-article-"+r+"-"+s++,"resizable=1,scrollbars=1,status=1,width=1050,height=650"),"twitter"===n?p||o.a.set("social-share-platform",n,{path:"/"}):"facebook"===n&&o.a.set("social-share-platform",n,{path:"/"}),i.pageEvents.publish(i.pageEvents.SOCIAL_SHARE_CLICKED,{articleId:f,articleTitle:d,pageMetadata:l,placement:m+"home",site:n,type:n+"-type"})}}))}},function(e,t,n){"use strict";var r=n(2),o=n(1);Object(r.later)("DOM_READY",(()=>{const{geo:e=""}=Object(o.getPageCriteria)()||{},t=e&&`data-href-geo-${e.toLowerCase()}`,n=t&&document.querySelectorAll(`a[${t}]`);n&&n.forEach((e=>{const n=e.getAttribute(t);n&&e.setAttribute("href",n)}))}))},function(e,t,n){"use strict";var r=n(2),o=n(0);Object(r.later)("DOM_READY").then((()=>{const e=document.body.querySelectorAll('a[href="#top"]:not(.back-to-top)');return Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),window.scrollTo(0,0)}))})),null})).catch((e=>o.logger.error("There was an error loading scrollToTop extension",e)))},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(1),a=n(47),s=n.n(a);const c="mol-fe-came-from-mol-session",l=()=>(e=>{try{if(!("localStorage"in window))return null;const t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){}return null})(c),u=e=>((e,t)=>{try{if(!("localStorage"in window))return;window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}})(c,e),d=()=>{const{renderPlatform:e}=Object(i.getPageMetadata)(),{subchannel:t}=Object(i.getPageCriteria)();return`tim_${e}_${t}`},f=(e,t)=>{const n=new s.a(e,!0),r=n.query||{};return r.ico=t,n.set("query",r),n.href},p=/dailymail(int)?\.(co\.uk|com)/,m=async e=>{const{renderPlatform:t}=Object(i.getPageMetadata)(),n=document.querySelector(".page-header .masthead, .tim-mobile header");window.timCameFromMolUrl=(e=>{try{return f(e,d())}catch(t){return e}})(e),document.documentElement.classList.add("came-from-mol"),window.adverts||(window.adverts={}),window.adverts.queue||(window.adverts.queue=[]),window.adverts.queue.push({data:{referrer:"dailymail"},scope:"metadata"}),n||await Object(r.later)("DOM_READY"),"mobile"===t?(e=>{const t=Array.from(document.querySelectorAll(".tim-mobile header nav ul li"));if(!t||!t[1])return;const n=t[1],r=document.createElement("li"),o=f(e,d()),{geo:a}=Object(i.getPageCriteria)(),s=a&&["us","au"].includes(a.toLowerCase());r.classList.add("back-to-mol-button"),r.innerHTML=`<a href="${o}"></a>`,s&&r.classList.add("back-to-mol-dm"),n.after(r)})(e):"desktop"===t&&(e=>{const t=document.querySelector(".page-header .masthead");if(!t)return;const n=document.createElement("li"),r=f(e,d()),{geo:o}=Object(i.getPageCriteria)(),a=o&&["us","au"].includes(o.toLowerCase());n.classList.add("back-to-mol-button"),n.innerHTML=`<a href="${r}"></a>`,a&&n.classList.add("back-to-mol-dm"),t.append(n)})(e)},h=()=>{const e=Array.from(document.querySelectorAll(['a[href*="www.thisismoney"][href*="ico=mol_"]:not([data-mutated-tim-url-param])','a[href*="www.thisismoney"][href*="ico=topics_pagination_"]:not([data-mutated-tim-url-param])','a[href*="www.thisismoney"][href*="ico=authors_pagination_"]:not([data-mutated-tim-url-param])'].join(", ")));for(const t of e){const e=t.getAttribute("href"),n=new s.a(e,!0),r=n.query,o=`${r.ico}-newtab`;r.ico=o,r.molReferrerUrl=location.href,n.set("query",r),t.setAttribute("href",n.href),t.dataset.mutatedTimUrlParam=!0,t.target="_blank";const i=t.parentNode.querySelector(".comments-count > a:not([data-mutated-tim-url-param])");if(i){const e=i.getAttribute("href").split("#")[1];i.setAttribute("href",`${n.href}#${e}`),i.dataset.mutatedTimUrlParam=!0,i.target="_blank"}}setTimeout(h,1e3)},_=()=>{const{domain:e}=Object(i.getPageMetadata)();"thisismoney"!==e&&h()},g=()=>{const{domain:e}=Object(i.getPageMetadata)();if("thisismoney"!==e)return;const t=l(),{updated:n,referrers:r,origin:o}=t||{},a=r&&document.referrer&&r.includes(document.referrer),c=r&&r.includes(location.href),d=o&&document.referrer&&document.referrer===o;if((a||c||d)&&n&&Date.now()-n<18e5){m(o);const e=c?r:[...r,location.href].slice(-50);return void u({...t,referrers:e,updated:Date.now()})}const f=new s.a(window.location.href,!0),h=f&&f.query&&f.query.molReferrerUrl||document.referrer,_=h?new s.a(h,!0):null,g=f&&f.query?f.query.ico:null;_&&_.hostname.match(p)&&g&&(g.startsWith("mol_")||g.startsWith("topics_pagination_")||g.startsWith("authors_pagination_"))&&(u({origin:h,referrers:[location.href],updated:Date.now()}),m(h))};try{Object(r.later)("PAGE_METADATA_SET",g),Object(r.later)("DOM_READY",_)}catch(e){o.logger.error("Error initialising came-from-mol",e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){n(110),e.exports=n(229)},,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"molFeArticleRead",(function(){return j.molFeArticleRead})),n.d(t,"molFeAsync",(function(){return j.molFeAsync})),n.d(t,"molFeClientLogger",(function(){return j.molFeClientLogger})),n.d(t,"molFeComponents",(function(){return j.molFeComponents})),n.d(t,"molFeCookieReinforcer",(function(){return j.molFeCookieReinforcer})),n.d(t,"molFeDomHelpers",(function(){return j.molFeDomHelpers})),n.d(t,"molFeLoadingSpinner",(function(){return j.molFeLoadingSpinner})),n.d(t,"molFeMiniLodash",(function(){return j.molFeMiniLodash})),n.d(t,"molFeMobileutils",(function(){return j.molFeMobileutils})),n.d(t,"molFeMultivariant",(function(){return j.molFeMultivariant})),n.d(t,"molFePageMetadata",(function(){return j.molFePageMetadata})),n.d(t,"molFeRelatedReplace",(function(){return j.molFeRelatedReplace})),n.d(t,"molFeRemixd",(function(){return j.molFeRemixd})),n.d(t,"molFeSegmentation",(function(){return j.molFeSegmentation})),n.d(t,"molFeSmartBanner",(function(){return j.molFeSmartBanner})),n.d(t,"molFeTracking",(function(){return j.molFeTracking})),n.d(t,"molFeWebVitals",(function(){return j.molFeWebVitals})),n.d(t,"molFeArticleTruncation",(function(){return j.molFeArticleTruncation})),n.d(t,"molFePaywallMasthead",(function(){return j.molFePaywallMasthead})),n.d(t,"molFeLocalStorage",(function(){return j.molFeLocalStorage})),n.d(t,"molFeXpModuleDataUtils",(function(){return j.molFeXpModuleDataUtils})),n.d(t,"externalLinkTracker",(function(){return j.externalLinkTracker})),n.d(t,"trackSwipe",(function(){return j.trackSwipe})),n.d(t,"later",(function(){return j.later})),n.d(t,"Log",(function(){return j.Log})),n.d(t,"log",(function(){return j.log})),n.d(t,"loadCSS",(function(){return j.loadCSS})),n.d(t,"loadDeferredImgs",(function(){return j.loadDeferredImgs})),n.d(t,"onDocReady",(function(){return j.onDocReady})),n.d(t,"getPageMetadata",(function(){return j.getPageMetadata})),n.d(t,"setPageMetadata",(function(){return j.setPageMetadata})),n.d(t,"Nielsen60",(function(){return j.Nielsen60})),n.d(t,"ted",(function(){return j.ted})),n.d(t,"pageEvents",(function(){return j.pageEvents}));var r=n(2),o=n(0);let i=null,a=null,s=null;const c=e=>{if(clearTimeout(i),i=null,s&&(s.style.display="none",s=null),a=e.currentTarget,!a)return void o.logger.error("No currentTarget on menuHover with event: ",e);a.children[0].classList.add("link-ccox");const t=a.querySelector(".nav-secondary-container");t?t.style.display="block":o.logger.error("No secondary nav container on menuHover for currentTarget: ",a)},l=e=>{a=e.currentTarget,a?(a.children[0].classList.remove("link-ccox"),s=a.querySelector(".nav-secondary-container"),s?i=setTimeout((()=>{s.style.display="none",s=null,a=null}),500):o.logger.error("No secondary nav container on menuUnHover for currentTarget: ",a)):o.logger.error("No currentTarget on menuUnHover")};n(203);Object(r.later)("DOM_READY",(()=>{const e=document.querySelector("div.page-header");if(window.DM.isLoggedIn){const t=e.querySelectorAll("ul[data-logout-comp]"),n=e.querySelectorAll("ul[data-login-comp]");t.forEach((e=>{e.style.display="block"})),n.forEach((e=>{e.style.display="none"}))}const t=e.querySelector("ul.nav-primary");if(!t)return;t.querySelectorAll("li[data-has-menu-on-hover]").forEach((e=>{e.addEventListener("mouseover",c,!1),e.addEventListener("mouseout",l,!1),e.addEventListener("touchstart",c,!1),e.addEventListener("touchend",l,!1)}))}));n(213),n(108),n(214),n(215),n(212);var u=n(1),d=n(109),f=n(22),p=n.n(f);const m="/api/mol-fe-feeds/v2/articles/rankedForAutoPuff",h={AU:"/auhome",GB:"/home",US:"/ushome"},_=async({channel:e=null,isUKHome:t=!1}={})=>{try{let n=e&&"string"==typeof e?(e=>`/api/mol-fe-feeds/v2/articles/rankedPaywalled/channel/${e}/withXpModules/true`)(e):`/api/mol-fe-feeds/v2/articles/rankedPaywalled/withXpModules/true/geo/${Object(u.getPaywallGeo)()}`;t&&(n=`${m}/geo/gb/paywalledOnly/true`);const r=await p.a.get(n);if(!r||!r.data||!r.data.articles)return[];const{articles:o}=r.data,i=o.filter((e=>!Object(d.isArticleInRead)(e.articleId)));return i.length>=15?i:o}catch(e){o.logger.error("Error fetching paywalled articles for autopuff",e)}return[]},g=async()=>{const{articleId:e,geo:t}=Object(u.getPageCriteria)(),n=`/api/mol-fe-feeds/v2/articles/rankedByChannel/sport/geo/${Object(u.getPaywallGeo)()}/period/30/size/150`,r=await p.a.get(n);if(!r||!r.data||!r.data.articles)throw new Error("[mol-fe-auto-puff] Invalid sports ranked articles response");const{articles:o}=r.data;return o.filter((n=>!Object(d.isArticleInRead)(n.articleId)&&n.articleId!==e&&!((e,t)=>t.subChannel&&"AFL"===t.subChannel&&"AU"!==e)(t,n)))},E=async({isUKHome:e=!1}={})=>{const{articleId:t,geo:n}=Object(u.getPageCriteria)(),{domain:r,environment:o}=Object(u.getPageMetadata)(),i="thisismoney"===r?`https://www.dailymail${"production"===o?"":"int"}.co.uk`:"";let a=`${i}/api/mol-fe-feeds/v2/articles/rankedByChannelReferrer${`${h[n]||h.GB}/withXpModules/true`}`;e&&(a=`${i}${m}/geo/gb`);const s=await p.a.get(a);if(!s||!s.data||!s.data.articles)throw new Error("[mol-fe-auto-puff] Invalid ranked articles response");const{articles:c}=s.data;return c.filter((e=>!Object(d.isArticleInRead)(e.articleId)&&e.articleId!==t)).slice(0,e?100:50)},v=(e,{headlineMaxLength:t=160,useSocialHeadline:n=!1}={},r)=>{const{domain:o,environment:i,renderPlatform:a}=Object(u.getPageMetadata)(),{channel:s}=Object(u.getPageCriteria)(),c=r?document.createElement("li",{is:"ad-marker-li"}):document.createElement("li");r&&(c.dataset.adMarkerGroup="puff-list"),c.dataset.autoPuffItem=!0,Array.isArray(e.xpModulesUsed)&&e.xpModulesUsed.some((e=>e.startsWith("mol-fe-xpmodule-video-hero")))&&c.classList.add("video-led");let l=n?e.headline:e.fullHeadline||e.headline;l.length>t&&(l=l.substring(0,t)+"...");let d=e.url;if("money"===e.channel&&"thisismoney"!==o){d=`https://www.thisismoney${"integration"===i?"int":""}.co.uk${d}?ico=${`mol_${a}_${s}`}`}if("money"!==e.channel&&"thisismoney"===o){d=`https://www.dailymail${"integration"===i?"int":""}.co.uk${d}?ico=${`tim_autopuff_${a}_${s}`}`}return c.innerHTML=`\n    <a href="${d}">\n      <img src="${e.puffImage||e.imgUrl}" height="115" width="154" alt="" loading="lazy">\n      <span class="pufftext">\n        <span class="arrow-small-r"></span>\n        <strong>\n          ${e.isPaywalled?'<span class="is-paywalled"></span>':""}${l}\n        </strong>\n      </span>\n    </a>\n  `,e.isPaywalled&&(c.dataset.isPaywalled=!0),c},y=e=>{try{const t=e.querySelector("a");if(!t)return null;const n=t.href.match(/\/article-(\d+)\//)[1];return Number(n)||null}catch(e){return null}};let b=!1;const w={sport:"STARS OF SPORT"},O=(e,t,n=!1)=>{if(!b){b=!0;try{if(e.dataset.trackModule=e.dataset.trackModule.replace(/\^puff/,"^autopuff"),n)return;e.parentNode.classList.remove("femail"),e.parentNode.classList.remove("travel"),e.parentNode.classList.add(t||"home"),e.parentNode.dataset.channelColor=t||"home",e.querySelector("h3").innerHTML=t&&w[t]||"TOP STORIES";const r=document.querySelectorAll(".puff ul")[1];r&&r.parentNode.parentNode.classList.contains("tvshowbiz")&&(r.parentNode.parentNode.classList.remove("tvshowbiz"),r.parentNode.parentNode.classList.add("femail"),r.parentNode.parentNode.dataset.channelColor="femail",r.parentNode.querySelector("h3").innerHTML="DON'T MISS")}catch(e){}}},I=e=>{const t=e.cloneNode(!0);try{const e=t.querySelector("img");e.dataset.src&&(e.loading="lazy",e.src=e.dataset.src,delete e.dataset.src)}catch(e){}return t},S=["news","property","health","sciencetech","travel","sport"],A=["property"],T=async()=>{try{const{articleStyle:e,channel:t,pageType:n,subchannel:o}=Object(u.getPageCriteria)(),{renderPlatform:i,domain:a}=Object(u.getPageMetadata)(),s="channel"===n&&"home"===t&&"home"===o&&"desktop"===i&&!1;if(!s&&("article"!==n||"desktop"!==i||"wide"!==e))return;if("thisismoney"===a){if("moneycars"!==o)return;if(!document.referrer||!document.referrer.match(/^https:\/\/(www|a|b)\d?\.dailymail(int)?\.co\.uk/i))return}else if(!s&&!S.includes(t)&&!A.includes(o))return;const c=window.getIsPaywallEligible&&window.getIsPaywallEligible();let l;l="sport"===t?[g(),c?_({channel:t}):[]]:[E({isUKHome:s}),c?_({isUKHome:s}):[]],l.push(Object(r.later)("DOM_READY"));const[d,f]=await Promise.all(l);if(!d||!d.length)return;((e,t=[],n,r=!1)=>{if(!e||!e.length)return;const o=document.querySelectorAll(".puff ul li:not([data-is-sponsored]):not(.exclusive):not(:has(.is-exclusive,.is-breaking-news))"),i=document.querySelectorAll(".puff ul li[data-is-sponsored],.puff ul li.exclusive,.puff ul li:has(.is-exclusive,.is-breaking-news)"),a=Array.from(o).filter((e=>!(e.closest(".royal_wedding")||r&&e.closest(".sport")))).filter((e=>e&&e.children&&e.children[0]&&"A"===e.children[0].tagName));if(!a.length)return;const s=Array.from(i).map(y).filter(Boolean),c=e.slice().filter((e=>!s.includes(e.articleId))),l=c.map((e=>e.articleId)),u=a.map(y).filter(Boolean),d=[],f=t.filter((e=>!s.includes(e.articleId))).filter((e=>!l.includes(e.articleId)));let p=1;for(const e of a){const t=(p-3)%4==0&&c.length>0&&f.length>0?f.shift():c.shift(),o=y(e),i=t&&Number(t.articleId);if(!e.dataset.autoPuffReorder)if(t&&i!==o){const s=v(t);if(!b){const t=e.closest(".puff");O(t,n,r)}if(u.includes(i)){const n=a.find((e=>e.querySelector("a").getAttribute("href")===t.url));if(n){const t=I(n);n.dataset.autoPuffReorderSource=!0,t.dataset.autoPuffReorderTarget=!0,e.dataset.autoPuffReorderSource||l.includes(o)||d.push(e),e.replaceWith(t)}}else e.dataset.autoPuffReorderSource||l.includes(o)||d.push(e),e.replaceWith(s)}else if(d.length&&!t){const t=d.shift();t.dataset.autoPuffMoved=!0,e.dataset.autoPuffReorderSource||d.push(e),e.replaceWith(t)}p++}})(d,f,"sport"===t?t:null,s)}catch(e){o.logger.error("Error initialising mol-fe-auto-puff",e)}},C=async({iteration:e=1,topic:t,exclude:n=[]}={})=>{const r=e>1?`/api/mol-fe-feeds/v2/articles/topicArticles/puff/${t}/page/${e-1}/size/200/withXpModules/true`:`/api/mol-fe-feeds/v2/articles/rankedByTopicGroup/${t}/size/200/withXpModules/true`,{domain:o,environment:i}=Object(u.getPageMetadata)(),a=`${"thisismoney"===o?`https://www.dailymail${"production"===i?"":"int"}.co.uk`:""}${r}`,s=await p.a.get(a);if(!s||!s.data||!s.data.articles)throw new Error("Invalid topic puff articles response");const{articles:c}=s.data;return c.filter((e=>!n.includes(e.articleId)))},L=[{puffSelectorsByEnv:{integration:['.puff[data-track-module="llg-115099675^puff"]','.puff[data-track-module="llg-115970151^puff"]'],production:['.puff[data-track-module="llg-115970151^puff"]']},topic:"royals"}],P=async()=>{try{const{environment:e,renderPlatform:t}=Object(u.getPageMetadata)(),{pageType:n}=Object(u.getPageCriteria)();if("desktop"!==t)return;for(const{puffSelectorsByEnv:t,topic:r}of L){const o=t[e]||t.production,i=Array.from(document.querySelectorAll(o.join(",")));let a=[],s=1,c=await C({iteration:s,topic:r});a=a.concat(c.map((e=>e.articleId)));let l=0;for(const e of i){const t=e.closest(".beta"),o=t.parentNode.querySelector(".alpha"),i=Array.from(e.querySelectorAll(0===l?"ul li:not([data-is-sponsored]):not(.exclusive)":"ul li")).filter((e=>e&&e.children&&e.children[0]&&"A"===e.children[0].tagName)),u=o?o.offsetHeight-t.offsetHeight:0;let d=Math.min(Math.ceil(u/120)+i.length,1e3);for("article"===n&&(d=Math.max(d,200));d>c.length;){s++;const e=await C({exclude:a,iteration:s,topic:r});if(!e||!e.length||s>10)break;a=a.concat(e.map((e=>e.articleId))),c=c.concat(e)}if(i.length>d)for(let e=i.length-1;e>=d;e--)i[e].remove();let f=!0,p=0;for(;d>0;){const r=c.shift();if(i[p]){const e=v(r,{headlineMaxLength:90,useSocialHeadline:!0},!1);i[p].replaceWith(e)}else if("article"===n||t.offsetHeight<o.offsetHeight+100){const n=v(r,{headlineMaxLength:90,useSocialHeadline:!0},f);e.querySelector("ul").appendChild(n);const i=o?o.offsetHeight-t.offsetHeight:0;d=i<=0?0:Math.min(Math.ceil(i/120),1e3),i<625&&(f=!1)}p++}l++}}}catch(e){o.logger.error("Error initialising mol-fe-auto-puff royals",e)}};try{Object(r.later)("PAGE_METADATA_SET",T),Object(r.later)("DOM_READY",P)}catch(e){o.logger.error("Error initialising mol-fe-auto-puff",e)}n(210),n(211);var R=n(209),N=n(197),M=n(33),D=n(14),k=n(207),x=(n(195),n(208)),B=n(3);var U=n(101),j=n(196);const{isLoggedIn:F,userData:W,userId:V}=window.DM||{};window.DM={...j,isLoggedIn:F,userData:W,userId:V},window._=M,window.MobileUtils=D,window.isAdFreeEntitled=x.a,Object.freeze(window.DM.pageEvents),Object(R.a)(),Object(N.initLoadingSpinner)(),(async()=>{try{await Object(r.later)("PAGE_METADATA_SET");const{pageType:e,channel:t,subchannel:n,geo:o}=Object(u.getPageCriteria)(),{environment:i}=Object(u.getPageMetadata)();if("channel"!==e||t!==n||location.pathname.startsWith("/registration"))return;const a=window.getIsPaywallEligible&&window.getIsPaywallEligible();if(a&&"home"===t)return;const s=document.querySelector(".page-header .masthead");if(!s)return;let c=null,l=null,d="masthead",f="400px",p="masthead",m=null,h=null;const _="_blank";if(["GB","US"].includes(o)&&"home"===t){const e=`https://i.dailymail.co.uk/static/mol-fe/static/configs/mol-fe-mailplus-masthead${"integration"===i?"-int":""}/`;c="https://www.mailplus.co.uk/newspaper?utm_source=mailonline&utm_medium=banner&utm_campaign=homepage",l=`${e}/mailplus_masthead_uk.png`,d="mailplus masthead",f="430px",p="mailplus",m="nofollow noopener",h="500px 91px","US"===o&&(c="https://www.mailplus.co.uk/newspaper?utm_source=mailonline&utm_medium=banner&utm_campaign=homepage_us",l=`${e}/mailplus_masthead_us.png`,d="mailplus us masthead",p="mailplus_us",h="496px 91px")}if(!c||!l)return;const g=document.createElement("a");g.href=c,_&&(g.target=_),g.style.position="absolute",g.style.zIndex=10,g.style.top="0px",g.style.right="0px",g.style.height="91px",g.style.width=f,d&&(g.dataset.trackingInnerText=d),m&&(g.rel=m),p&&g.addEventListener("click",(()=>{B.pageEvents.publish(B.pageEvents.MASTHEAD_CLICK,{mastheadName:p})})),s.appendChild(g),s.style.backgroundImage=`url(${l})`,h&&(s.style.backgroundSize=h)}catch(e){}})(),Object(k.a)();try{Object(U.b)();Object(U.a)()||document.documentElement.classList.add("paywall-ineligible")}catch(e){}}]);
//# sourceMappingURL=desktop.js.map
</script>

</body>
</html>

var $j=jQuery.noConflict();$j(function(){var a=function(a,b){var c=$j.extend({},$j.fn.nivoSlider.defaults,b);var d={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false};var e=$j(a);e.data("nivo:vars",d);e.css("position","relative");e.addClass("nivoSlider");var f=e.children();f.each(function(){var a=$j(this);var b="";if(!a.is("img")){if(a.is("a")){a.addClass("nivo-imageLink");b=a}a=a.find("img:first")}var c=a.width();if(c==0)c=a.attr("width");var f=a.height();if(f==0)f=a.attr("height");if(c>e.width()){e.width(c)}if(f>e.height()){e.height(f)}if(b!=""){b.css("display","none")}a.css("display","none");d.totalSlides++});if(c.startSlide>0){if(c.startSlide>=d.totalSlides)c.startSlide=d.totalSlides-1;d.currentSlide=c.startSlide}if($j(f[d.currentSlide]).is("img")){d.currentImage=$j(f[d.currentSlide])}else{d.currentImage=$j(f[d.currentSlide]).find("img:first")}if($j(f[d.currentSlide]).is("a")){$j(f[d.currentSlide]).css("display","block")}e.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat');e.append($j('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:c.captionOpacity}));var g=function(a){var b=$j(".nivo-caption",e);if(d.currentImage.attr("title")!=""&&d.currentImage.attr("title")!=undefined){var c=d.currentImage.attr("title");if(c.substr(0,1)=="#")c=$j(c).html();if(b.css("display")=="block"){b.find("p").fadeOut(a.animSpeed,function(){$j(this).html(c);$j(this).fadeIn(a.animSpeed)})}else{b.find("p").html(c)}b.fadeIn(a.animSpeed)}else{b.fadeOut(a.animSpeed)}};g(c);var h=0;if(!c.manualAdvance&&f.length>1){h=setInterval(function(){n(e,f,c,false)},c.pauseTime)}if(c.directionNav){e.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+c.prevText+'</a><a class="nivo-nextNav">'+c.nextText+"</a></div>");if(c.directionNavHide){$j(".nivo-directionNav",e).hide();e.hover(function(){$j(".nivo-directionNav",e).show()},function(){$j(".nivo-directionNav",e).hide()})}$j("a.nivo-prevNav",e).live("click",function(){if(d.running)return false;clearInterval(h);h="";d.currentSlide-=2;n(e,f,c,"prev")});$j("a.nivo-nextNav",e).live("click",function(){if(d.running)return false;clearInterval(h);h="";n(e,f,c,"next")})}if(c.controlNav){var i=$j('<div class="nivo-controlNav"></div>');e.append(i);for(var j=0;j<f.length;j++){if(c.controlNavThumbs){var k=f.eq(j);if(!k.is("img")){k=k.find("img:first")}if(c.controlNavThumbsFromRel){i.append('<a class="nivo-control" rel="'+j+'"><img src="'+k.attr("rel")+'" alt="" /></a>')}else{i.append('<a class="nivo-control" rel="'+j+'"><img src="'+k.attr("src").replace(c.controlNavThumbsSearch,c.controlNavThumbsReplace)+'" alt="" /></a>')}}else{i.append('<a class="nivo-control" rel="'+j+'">'+(j+1)+"</a>")}}$j(".nivo-controlNav a:eq("+d.currentSlide+")",e).addClass("active");$j(".nivo-controlNav a",e).live("click",function(){if(d.running)return false;if($j(this).hasClass("active"))return false;clearInterval(h);h="";e.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat');d.currentSlide=$j(this).attr("rel")-1;n(e,f,c,"control")})}if(c.keyboardNav){$j(window).keypress(function(a){if(a.keyCode=="37"){if(d.running)return false;clearInterval(h);h="";d.currentSlide-=2;n(e,f,c,"prev")}if(a.keyCode=="39"){if(d.running)return false;clearInterval(h);h="";n(e,f,c,"next")}})}if(c.pauseOnHover){e.hover(function(){d.paused=true;clearInterval(h);h=""},function(){d.paused=false;if(h==""&&!c.manualAdvance){h=setInterval(function(){n(e,f,c,false)},c.pauseTime)}})}e.bind("nivo:animFinished",function(){d.running=false;$j(f).each(function(){if($j(this).is("a")){$j(this).css("display","none")}});if($j(f[d.currentSlide]).is("a")){$j(f[d.currentSlide]).css("display","block")}if(h==""&&!d.paused&&!c.manualAdvance){h=setInterval(function(){n(e,f,c,false)},c.pauseTime)}c.afterChange.call(this)});var l=function(a,b,c){for(var d=0;d<b.slices;d++){var e=Math.round(a.width()/b.slices);if(d==b.slices-1){a.append($j('<div class="nivo-slice"></div>').css({left:e*d+"px",width:a.width()-e*d+"px",height:"0px",opacity:"0",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(e+d*e-e)+"px 0%"}))}else{a.append($j('<div class="nivo-slice"></div>').css({left:e*d+"px",width:e+"px",height:"0px",opacity:"0",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(e+d*e-e)+"px 0%"}))}}};var m=function(a,b,c){var d=Math.round(a.width()/b.boxCols);var e=Math.round(a.height()/b.boxRows);for(var f=0;f<b.boxRows;f++){for(var g=0;g<b.boxCols;g++){if(g==b.boxCols-1){a.append($j('<div class="nivo-box"></div>').css({opacity:0,left:d*g+"px",top:e*f+"px",width:a.width()-d*g+"px",height:e+"px",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(d+g*d-d)+"px -"+(e+f*e-e)+"px"}))}else{a.append($j('<div class="nivo-box"></div>').css({opacity:0,left:d*g+"px",top:e*f+"px",width:d+"px",height:e+"px",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(d+g*d-d)+"px -"+(e+f*e-e)+"px"}))}}}};var n=function(a,b,c,d){var e=a.data("nivo:vars");if(e&&e.currentSlide==e.totalSlides-1){c.lastSlide.call(this)}if((!e||e.stop)&&!d)return false;c.beforeChange.call(this);if(!d){a.css("background",'url("'+e.currentImage.attr("src")+'") no-repeat')}else{if(d=="prev"){a.css("background",'url("'+e.currentImage.attr("src")+'") no-repeat')}if(d=="next"){a.css("background",'url("'+e.currentImage.attr("src")+'") no-repeat')}}e.currentSlide++;if(e.currentSlide==e.totalSlides){e.currentSlide=0;c.slideshowEnd.call(this)}if(e.currentSlide<0)e.currentSlide=e.totalSlides-1;if($j(b[e.currentSlide]).is("img")){e.currentImage=$j(b[e.currentSlide])}else{e.currentImage=$j(b[e.currentSlide]).find("img:first")}if(c.controlNav){$j(".nivo-controlNav a",a).removeClass("active");$j(".nivo-controlNav a:eq("+e.currentSlide+")",a).addClass("active")}g(c);$j(".nivo-slice",a).remove();$j(".nivo-box",a).remove();if(c.effect=="random"){var f=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");e.randAnim=f[Math.floor(Math.random()*(f.length+1))];if(e.randAnim==undefined)e.randAnim="fade"}if(c.effect.indexOf(",")!=-1){var f=c.effect.split(",");e.randAnim=f[Math.floor(Math.random()*f.length)];if(e.randAnim==undefined)e.randAnim="fade"}e.running=true;if(c.effect=="sliceDown"||c.effect=="sliceDownRight"||e.randAnim=="sliceDownRight"||c.effect=="sliceDownLeft"||e.randAnim=="sliceDownLeft"){l(a,c,e);var h=0;var i=0;var j=$j(".nivo-slice",a);if(c.effect=="sliceDownLeft"||e.randAnim=="sliceDownLeft")j=$j(".nivo-slice",a)._reverse();j.each(function(){var b=$j(this);b.css({top:"0px"});if(i==c.slices-1){setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+h)}else{setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+h)}h+=50;i++})}else if(c.effect=="sliceUp"||c.effect=="sliceUpRight"||e.randAnim=="sliceUpRight"||c.effect=="sliceUpLeft"||e.randAnim=="sliceUpLeft"){l(a,c,e);var h=0;var i=0;var j=$j(".nivo-slice",a);if(c.effect=="sliceUpLeft"||e.randAnim=="sliceUpLeft")j=$j(".nivo-slice",a)._reverse();j.each(function(){var b=$j(this);b.css({bottom:"0px"});if(i==c.slices-1){setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+h)}else{setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+h)}h+=50;i++})}else if(c.effect=="sliceUpDown"||c.effect=="sliceUpDownRight"||e.randAnim=="sliceUpDown"||c.effect=="sliceUpDownLeft"||e.randAnim=="sliceUpDownLeft"){l(a,c,e);var h=0;var i=0;var k=0;var j=$j(".nivo-slice",a);if(c.effect=="sliceUpDownLeft"||e.randAnim=="sliceUpDownLeft")j=$j(".nivo-slice",a)._reverse();j.each(function(){var b=$j(this);if(i==0){b.css("top","0px");i++}else{b.css("bottom","0px");i=0}if(k==c.slices-1){setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+h)}else{setTimeout(function(){b.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+h)}h+=50;k++})}else if(c.effect=="fold"||e.randAnim=="fold"){l(a,c,e);var h=0;var i=0;$j(".nivo-slice",a).each(function(){var b=$j(this);var d=b.width();b.css({top:"0px",height:"100%",width:"0px"});if(i==c.slices-1){setTimeout(function(){b.animate({width:d,opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+h)}else{setTimeout(function(){b.animate({width:d,opacity:"1.0"},c.animSpeed)},100+h)}h+=50;i++})}else if(c.effect=="fade"||e.randAnim=="fade"){l(a,c,e);var n=$j(".nivo-slice:first",a);n.css({height:"100%",width:a.width()+"px"});n.animate({opacity:"1.0"},c.animSpeed*2,"",function(){a.trigger("nivo:animFinished")})}else if(c.effect=="slideInRight"||e.randAnim=="slideInRight"){l(a,c,e);var n=$j(".nivo-slice:first",a);n.css({height:"100%",width:"0px",opacity:"1"});n.animate({width:a.width()+"px"},c.animSpeed*2,"",function(){a.trigger("nivo:animFinished")})}else if(c.effect=="slideInLeft"||e.randAnim=="slideInLeft"){l(a,c,e);var n=$j(".nivo-slice:first",a);n.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"});n.animate({width:a.width()+"px"},c.animSpeed*2,"",function(){n.css({left:"0px",right:""});a.trigger("nivo:animFinished")})}else if(c.effect=="boxRandom"||e.randAnim=="boxRandom"){m(a,c,e);var p=c.boxCols*c.boxRows;var i=0;var h=0;var q=o($j(".nivo-box",a));q.each(function(){var b=$j(this);if(i==p-1){setTimeout(function(){b.animate({opacity:"1"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+h)}else{setTimeout(function(){b.animate({opacity:"1"},c.animSpeed)},100+h)}h+=20;i++})}else if(c.effect=="boxRain"||e.randAnim=="boxRain"||c.effect=="boxRainReverse"||e.randAnim=="boxRainReverse"||c.effect=="boxRainGrow"||e.randAnim=="boxRainGrow"||c.effect=="boxRainGrowReverse"||e.randAnim=="boxRainGrowReverse"){m(a,c,e);var p=c.boxCols*c.boxRows;var i=0;var h=0;var r=0;var s=0;var t=new Array;t[r]=new Array;var q=$j(".nivo-box",a);if(c.effect=="boxRainReverse"||e.randAnim=="boxRainReverse"||c.effect=="boxRainGrowReverse"||e.randAnim=="boxRainGrowReverse"){q=$j(".nivo-box",a)._reverse()}q.each(function(){t[r][s]=$j(this);s++;if(s==c.boxCols){r++;s=0;t[r]=new Array}});for(var u=0;u<c.boxCols*2;u++){var v=u;for(var w=0;w<c.boxRows;w++){if(v>=0&&v<c.boxCols){(function(b,d,f,g,h){var i=$j(t[b][d]);var j=i.width();var k=i.height();if(c.effect=="boxRainGrow"||e.randAnim=="boxRainGrow"||c.effect=="boxRainGrowReverse"||e.randAnim=="boxRainGrowReverse"){i.width(0).height(0)}if(g==h-1){setTimeout(function(){i.animate({opacity:"1",width:j,height:k},c.animSpeed/1.3,"",function(){a.trigger("nivo:animFinished")})},100+f)}else{setTimeout(function(){i.animate({opacity:"1",width:j,height:k},c.animSpeed/1.3)},100+f)}})(w,v,h,i,p);i++}v--}h+=100}}};var o=function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a};var p=function(a){if(this.console&&typeof console.log!="undefined")console.log(a)};this.stop=function(){if(!$j(a).data("nivo:vars").stop){$j(a).data("nivo:vars").stop=true;p("Stop Slider")}};this.start=function(){if($j(a).data("nivo:vars").stop){$j(a).data("nivo:vars").stop=false;p("Start Slider")}};c.afterLoad.call(this);return this};$j.fn.nivoSlider=function(b){return this.each(function(c,d){var e=$j(this);if(e.data("nivoslider"))return e.data("nivoslider");var f=new a(this,b);e.data("nivoslider",f)})};$j.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,controlNavThumbsFromRel:false,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:true,pauseOnHover:true,manualAdvance:false,captionOpacity:.8,prevText:"Prev",nextText:"Next",beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};$j.fn._reverse=[].reverse})
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>richtext.min.html</title>
</head>
<body>

<script>
rteLinkValidation=function(b){var a=!0,c=b.form.findField("./anchorlabel").getValue();b=b.form.findField("./anchortext").getValue();"displaylabel"===c&&""===b&&(a=!1,CQ.Ext.Msg.show({title:"Mandatory",msg:"Provide Anchor Label",icon:CQ.Ext.MessageBox.WARNING,buttons:CQ.Ext.Msg.OK}));return a};
rteRemoveBullet=function(b){var a=b.getField("./content").getRawValue();a=$("\x3cdiv\x3e").html(a);a.find("span.no-bullet-rte").closest("ul").addClass("listitem-without-bullet-rte");a.find("span.no-bullet-rte").closest("ol").addClass("listitem-without-bullet-rte");b.getField("./content").setValue(a.html())};
$.fn.replaceWithTag=function(b){var a=[];this.each(function(){for(var c=$("\x3c"+b+"\x3e").get(0),d=0;d<this.attributes.length;d++)c.setAttribute(this.attributes[d].name,this.attributes[d].value);c=$(this).wrapInner(c).children(0).unwrap().get(0);a.push(c)});return $(a)};
$(function(){$("span.quotation_blockquote").replaceWithTag("blockquote");$.each($(".rich-text-content p \x3e span.link-cta"),function(b,a){$p=$(this).parent();$p.replaceWithTag("div")});$.each($(".rich-text-content p \x3e a span.link-cta"),function(b,a){$p=$(this).parent().parent();$p.replaceWithTag("div")});$.each($(".rich-text-content p \x3e img, .rich-text-content h4 \x3e img"),function(b,a){$p=$(this).parent();$p.replaceWithTag("div")});$.each($(".rich-text-content p \x3e a \x3e img"),function(b,
a){$p=$(this).parent().parent();$p.replaceWithTag("div")});$.each($(".rich-text-content p \x3e a"),function(b,a){$p=$(this).parent();0===$p.html().indexOf("\x3ca")&&$p.html().length-4===$p.html().indexOf("\x3c/a\x3e")&&$p.replaceWithTag("div")});$.each($(".rich-text-content p \x3e strong \x3e a"),function(b,a){$p=$(this).closest("p");pHtml=$p.html().replace(/\s/g,"");0===pHtml.indexOf("\x3cstrong\x3e\x3ca")&&0<pHtml.indexOf("\x3c/a\x3e\x3c/strong\x3e")&&$p.replaceWithTag("div")})});
$(function(){$.each($(".rich-text-content a"),function(b,a){0<$(a).find("img").length||(void 0!==$(a).attr("href")&&0===$(a).attr("href").indexOf("mailto:")?(swapLinkIcon($(a),"new-window-link"),updateAriaLabel($(a),"new-window-link")):isExternalLink($(a))?"_blank"===$(a).attr("target")?(swapLinkIcon($(a),"new-window-link"),updateAriaLabel($(a),"both")):(swapLinkIcon($(a),"external-link"),updateAriaLabel($(a),"external-link")):"_blank"===$(a).attr("target")&&(swapLinkIcon($(a),"new-window-link"),
updateAriaLabel($(a),"new-window-link")))})});function swapLinkIcon(b,a){0<b.find("span.link-cta").length?b.find("span.link-cta").removeClass("link-cta").addClass(a):(b.parent().hasClass("link-cta")&&b.parent().removeClass("link-cta"),b.addClass(a))}function isExternalLink(b){var a=!1;b=b.attr("href");if(void 0===b)return a;-1===b.indexOf(".visa")&&0!==b.indexOf("/")&&0!==b.indexOf("#")&&(a=!0);-1!==b.indexOf("globalclient.visa")&&(a=!0);return a}
function updateAriaLabel(b,a){var c="",d=b.text();"external-link"===a?c=d+" (external link)":"new-window-link"===a?c=d+" (open new window)":"both"===a?c=d+" (open new window, external link)":"mailto-link"===a&&(c=d+" (open email application)");""!==c&&b.attr("aria-label",c)};
</script>

</body>
</html>

(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8823],{43356:function(e,t,a){"use strict";var r=a(35944),i=a(9826),n=a.n(i),s=function(){return(0,r.tZ)("span",{className:n().Card__LabelDivider,children:"|"})};t.Z=s},52292:function(e,t,a){"use strict";a.d(t,{DZ:function(){return r},GN:function(){return l}});var r,i,n=a(14924),s=a(35944),o=a(94184),c=a.n(o),d=a(27823);function l(e){var t,a=(t={},(0,n.Z)(t,r.xxs,18),(0,n.Z)(t,r.xs,20),(0,n.Z)(t,r.small,28),(0,n.Z)(t,r.base,32),(0,n.Z)(t,r.md,36),(0,n.Z)(t,r.lg,64),(0,n.Z)(t,r.xl,96),t);return a[e]||a.base}(i=r||(r={})).xxs="xxs",i.xs="xs",i.small="small",i.base="base",i.md="md",i.lg="lg",i.xl="xl";var u=function(e){var t,a=e.imageUrl,r=e.name,i=e.size,o=e.className;if(!a){var u=i?"avatar-icon--".concat(i):null;return(0,s.tZ)("i",{className:c()(["fa","fa-user-circle","avatar-icon",(0,n.Z)({},u,i),],o)})}var g=r?"".concat(r,"'s profile picture"):"User profile picture",f=2*l(i);return t=a.toLowerCase().includes("patch")?"".concat(a,"?width=").concat(f):a,(0,s.tZ)(d.Z,{alt:g,className:"avatar-img avatar-img--".concat(i),lazy:!0,src:t})};t.ZP=u},46944:function(e,t,a){"use strict";a.d(t,{O:function(){return r},Z:function(){return y}});var r,i,n=a(14924),s=a(35944),o=a(94184),c=a.n(o),d=a(62918),l=a(60913),u=a(95944),g=a(27823),f=a(81837),h=a.n(f),m=function(){return(0,s.tZ)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,s.BX)(l.Z,{id:"popover-positioned-verified_user",children:[(0,s.tZ)(l.Z.Title,{as:"h3",children:"Verified Patch Staff"}),(0,s.tZ)(l.Z.Content,{children:"This author is a verified staff member or freelancer for Patch Media."})]}),children:(0,s.tZ)(g.Z,{alt:"Verified Patch Staff Badge",className:h().Badge,src:d.BadgeImage.verifiedPatchStaff,lazy:!0})})},p=a(81919),Z=function(){return(0,s.tZ)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,s.BX)(l.Z,{id:"popover-positioned-verified_local_official",children:[(0,s.tZ)(l.Z.Title,{as:"h3",children:"Verified Local Official"}),(0,s.BX)(l.Z.Content,{children:["Patch has verified this neighbor as a public official in your community."," ",(0,s.tZ)(p.Z,{href:"https://support.patch.com/hc/en-us/articles/360052941232-How-can-I-contribute-as-a-local-official-on-Patch",target:"_blank",children:"Learn more"})," ","about our ",(0,s.tZ)("em",{children:"Local Official"})," program."]})]}),children:(0,s.tZ)(g.Z,{alt:"Verified Local Official Badge",className:h().Badge,src:d.BadgeImage.verifiedLocalOfficial,lazy:!0})})},v=function(){return(0,s.tZ)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,s.BX)(l.Z,{id:"popover-positioned-verified_national_official",children:[(0,s.tZ)(l.Z.Title,{as:"h3",children:"Verified National Official"}),(0,s.BX)(l.Z.Content,{children:["Patch has verified this neighbor as a public official for the U.S. government."," ",(0,s.tZ)(p.Z,{href:"https://support.patch.com/hc/en-us/articles/360052941232-How-can-I-contribute-as-a-local-official-on-Patch",target:"_blank",children:"Learn more"})," ","about our public official program."]})]}),children:(0,s.tZ)(g.Z,{alt:"Verified National Official Badge",className:h().Badge,src:d.BadgeImage.verifiedNationalOfficial,lazy:!0})})},_=function(){return(0,s.tZ)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,s.BX)(l.Z,{id:"popover-positioned-verified_user",children:[(0,s.tZ)(l.Z.Title,{as:"h3",children:"Verified Neighbor"}),(0,s.BX)(l.Z.Content,{children:["Patch has verified this neighbor as a member of your community."," ",(0,s.tZ)(p.Z,{href:"/us/across-america/how-get-verified-patch",target:"_blank",children:"Learn how"})," ","you can verify your Patch account."]})]}),children:(0,s.tZ)(g.Z,{alt:"Verified User Badge",className:h().Badge,src:d.BadgeImage.verifiedUser,lazy:!0})})},b=function(e){switch(e){case d.BadgeType.verifiedUser:return(0,s.tZ)(_,{},e);case d.BadgeType.verifiedLocalOfficial:return(0,s.tZ)(Z,{},e);case d.BadgeType.verifiedNationalOfficial:return(0,s.tZ)(v,{},e);default:return null}};(i=r||(r={})).small="small",i.base="base",i.large="large";var y=function(e){var t,a=e.badges,i=void 0===a?[]:a,o=e.roleId,l=e.size,u=void 0===l?r.base:l,g=e.className;return(0,d.isStaff)(o)||(null==i?void 0:i.length)?(0,s.BX)("span",{className:c()(g,[h().Badges,(t={},(0,n.Z)(t,h()["Badges--large"],u===r.large),(0,n.Z)(t,h()["Badges--small"],u===r.small),t),]),children:[(0,d.isStaff)(o)&&(0,s.tZ)(m,{}),(null==i?void 0:i.length)>0&&i.map(function(e){return b(e.type)})]}):null}},71196:function(e,t,a){"use strict";a.d(t,{Z:function(){return F}});var r=a(35944),i=a(11163),n=a(67294),s=a(81187),o=a(29324),c=a(79608),d=a(96974),l=a(67237),u=a(21410),g=a(57574),f=a(81641),h=a(73142),m=function(e){var t=parseInt(e);if(t>90)return"90";if(t>80)return"80";if(t>70)return"70";if(t>60)return"60";if(t>50)return"50";else if(t>40)return"40";else if(t>30)return"30";else if(t>20)return"20";else if(t>10)return"10";else return"0"},p=function(e){if(e){var t,a=e.confidence,r=e.scoreTag,i=m(a);return"".concat("P+"===r?"PP":"N+"===r?"NN":r,":").concat(i)}return""},Z=a(47568),v=a(70655),_=a(26042),b=a(69396),y=a(73071),w=(0,s.Z)().ADTECH.AD_LOAD_SCRIPTS_DELAY,B=function(e){return(0,r.tZ)(y.Z,(0,b.Z)((0,_.Z)({},e),{delay:w}))},E=a(2568),A=a.n(E),S=a(89072),T=a.n(S),C=function(e){if("string"!=typeof e)return console.error("normalizeAndValidateEmail() requires a string argument."),!1;var t,a,r=e.trim().toLowerCase().replace(/\+[^@]*@/g,"@");return 1===(r.match(/@/g)||[]).length?r:(console.error(e+"is not a valid email."),!1)},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha256",a=C(e);if(!a)return console.error("Invalid email address: ",e),"";switch(t){case"md5":return A()(a);case"sha256":return T()("sha256").update(a).digest("hex");default:throw Error("Unsupported hash algorithm: ".concat(t))}},N=a(9229),P=(0,s.Z)().ADTECH,D=P.PREBID_UPDATE_VERSION_NUMBER,x=P.PREBID_UPDATE_ENABLED,L=P.PUBMATIC_ID_HUB_ENABLED,U=function(e){var t=e.logStartTime,s=e.adtechDebug,o=(0,l.Z)(),c=o.status,d=(0,h.Z)(t,s,"InitiateFetchAds");d("<Component/> render");var f,m,p,_,b,y,w,E,A,S,T,C,P,U=(0,u.Z)(),R=U.loadGoogleAdManagerFailed,O=U.filledAdSlots,k=U.registerAdImpression;return(m=(f={logStartTime:t,adtechDebug:s}).logStartTime,p=f.adtechDebug,_=(0,i.useRouter)().query,b=(0,N.Z)(),(y=(0,h.Z)(m,p,"useUserEmailTargeting"))("initialize"),w=(0,Z.Z)(function(e){var t;return(0,v.__generator)(this,function(a){return window.pbjs.que.push(function(){window.pbjs.setBidderConfig({bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:"patch.com",uids:[{id:e.hashedEmails.md5||"",atype:3,ext:{stype:"hemmd5"}},{id:e.hashedEmails.sha256||"",atype:3,ext:{stype:"hemsha256"}},]},]}}}}}}),y("userTargeting sent to criteo",e)}),y("setting window.patchAds.user_email_sha256",e.hashedEmails.sha256),window.patchAds.user_email_sha256=e.hashedEmails.sha256,t={gdpr:{enabled:!1},hashedRecords:[{type:"email",record:e.hashedEmails.sha256}]},window.apstag.rpa(t),[2]})}),E=function(e){return w.apply(this,arguments)},A=(0,n.useMemo)(function(){return(null==b?void 0:b.email)||""},[b]),S=(0,n.useMemo)(function(){var e;return null===(e=_.user_email)||void 0===e?void 0:e.toString()},[]),C=(T=(0,n.useState)({hashedEmails:{md5:"",sha256:S||""}}))[0],P=T[1],y("on-render userTargeting",C),S&&null===b&&!C.hashedEmails.md5&&(y("user_email in querystring but no user yet. Setting userTargeting for only querystring",S),E(C)),(0,n.useEffect)(function(){if(""===A&&!S){y("no user email available. Not changing userTargeting");return}if(A){var e={hashedEmails:{md5:I(A,"md5"),sha256:I(A,"sha256")}};C.hashedEmails.md5!==e.hashedEmails.md5&&(y("user changed or user loaded. Updating userTargeting",e),E(e),P(e))}},[A]),(0,n.useEffect)(function(){if(d("status in startFetchingAds Hook: ",c),d("adState in startFetchingAds Hook: ",o),c===g.sq.adtechReady){var e,t=(e=(0,Z.Z)(function(){var e,t;return(0,v.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),d("trying to startFetchingAds. adState: ",o),[4,a.e(8456).then(a.bind(a,68456))];case 1:return(0,e.sent().default)(o,O,k),[3,3];case 2:return d("startFetchingAds error",e.sent()),R(),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)});d("startFetchingAds"),t()}},[c]),d("status before loading scripts: ",c),c!==g.sq.adtechReady)?null:(0,r.BX)(r.HY,{children:[L&&x&&(0,r.tZ)(B,{id:"prebid-script",src:"/assets/js/prebid".concat(D,".js")}),L&&!x&&(0,r.tZ)(B,{id:"prebid-script",src:"/assets/js/prebid7.54.5.js"})]})},R=function(e){var t=e.logStartTime,a=e.adtechDebug,r=(0,l.Z)(),i=(0,h.Z)(t,a,"<InitiateAditude/>");i("<Component/> render, adState: ",r);var s=(0,u.Z)().registerAdImpression,o=function(e){var t=e.slot.getSlotElementId();i("".concat(t,": Impression viewable.")),setTimeout(function(){s(t)},500)};return(0,n.useEffect)(function(){r.status===g.sq.adtechReady&&(i("adtechReady, proceeding: ",r),window.tude=window.tude||{cmd:[]},window.googletag=window.googletag||{cmd:[]},window.tude.cmd.push(function(){i("Setting page targeting: ",r.adTargeting),window.tude.setPageTargeting(r.adTargeting),i("Setting GAM ad unit path: ",r.adUnitPath),window.tude.setAdUnitPath(r.adUnitPath),i("adState.adUnitPath: ",r.adUnitPath),window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("impressionViewable",o)})}))},[r.status]),null},O=a(34330),k=(0,s.Z)(),V=k.ADTECH,H=k.URLS,q=V.PATCH_CONFIG_ADTECH,X=H.ORIGIN,j=new Date().getTime(),z=q?(0,f.N)(q):"ae0:c0",M=function(e){var t=e.adsEnabled,a=e.authorId,s=e.category,f=e.contentSource,m=e.itemId,Z=e.itemType,v=e.pageName,_=e.pcount,b=e.tags,y=e.contentKeywords,w=e.contentIABCategories,B=void 0===w?[]:w,E=e.contentSentiment,A=(0,l.Z)(),S=A.adtechDebug,T=A.status,C=(0,h.Z)(j,S,"AdtechLoader");C("<Component/> render, adState:",A);var I=(0,i.useRouter)().query,N=(0,u.Z)().setupPageAdtechConfig,P=(0,o.Z)(),D=(0,c.Z)(),x=(void 0===y?[]:y).join("|"),L=B.map(function(e){return e.id}).join("|");C("contentIABCategories",B),C("contentIABCategoryIdsStringified",L);var k=(void 0===b?[]:b).join("|"),V=p(E);if(C("contentSentiment",E),I.patch_config_adtech&&(z=I.patch_config_adtech.toString()),(0,n.useEffect)(function(){var e=(0,d.iy)(),r={adsEnabled:t&&!D&&window.location.origin===X,authorId:a,category:s,contentKeywords:x.split("|"),contentIABCategoryIds:L.split("|"),contentSentimentScore:V,contentSource:f,experiments:e,itemId:m,itemType:Z,pageName:v,patch:P,pcount:_,query:I,patchConfigAdtechVariant:z,tags:k.split("|")};C("setupPageAdtechConfig",r),N(r)},[t,a,s,x,L,V,f,D,m,Z,v,_,I,N,k,]),T!==g.sq.adtechReady)return null;var H=A.slotTargeting.experiments.includes(O.S.variantOne);return(C("aditudeEnabled",H),H)?(0,r.tZ)(R,{logStartTime:j,adtechDebug:S}):(0,r.tZ)(U,{logStartTime:j,adtechDebug:S})},F=(0,n.memo)(M)},9826:function(e){e.exports={Card__LabelDivider:"styles_Card__LabelDivider__wRVKo"}},81837:function(e){e.exports={Badge:"styles_Badge__PNwMX",Badges:"styles_Badges__lhHGg","Badges--large":"styles_Badges--large__AM0xS","Badges--small":"styles_Badges--small__t9shf"}}}]);
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mv.html</title>
</head>
<body>

<script>
/* R:\actions-runner\_work\azeroth\azeroth\Source\Curse.Azeroth.Web\..\..\..\Cobalt\Source\Curse.Cobalt.Web\Content\js\Cobalt\Cobalt.JQuery.Center.js */
(function(a,b){a.fn.center=function(f){var f=f||{};if(f.paddingWidth==b){f.paddingWidth=150}function d(){var i=a(this);var h=parseInt(i.css("zIndex"));i.css({position:f.absolute?"absolute":"fixed",left:"50%",top:"50%",zIndex:h+1}).css({marginLeft:"-"+(i.outerWidth()/2)+"px",marginTop:"-"+(i.outerHeight()/2)+"px"});if(f.absolute){i.css({marginTop:parseInt(i.css("marginTop"),10)+jQuery(window).scrollTop(),marginLeft:parseInt(i.css("marginLeft"),10)+jQuery(window).scrollLeft()})}}function g(){var j=a(this);var i=a(window).width()-f.paddingWidth;var h=a(window).height()-f.paddingWidth;if(f.maxWidth&&i>f.maxWidth){i=f.maxWidth}else{if(f.minWidth&&i<f.minWidth){i=f.minWidth}}if(f.autoHeight){h="auto"}else{if(f.maxHeight&&h>f.maxHeight){h=f.maxHeight}if(f.minHeight&&h<f.minHeight){h=f.minHeight}}j.css("width",i);j.css("height",h)}function c(){var h=a(this);if(h[0]._centerEventsBound){return}a(window).on("resize",function(){if(f.sizeToWindow){h.each(g)}if(!f.fixed){h.each(d)}});a(window).on("scroll",function(){if(!f.fixed){h.each(d)}});h[0]._centerEventsBound=true}var e=this;if(f.sizeToWindow){e.each(g)}e.each(d);e.each(c);return e}})(jQuery);

/* R:\actions-runner\_work\azeroth\azeroth\Source\Curse.Azeroth.Web\Content\js\Azeroth\Azeroth.ModelViewer.js */
$(document).ready(function(){Azeroth.ModelViewer.initializeReal()});if(typeof Cobalt=="undefined"){Cobalt={}}if(typeof Azeroth=="undefined"){Azeroth={}}if(typeof Cobalt.Constants=="undefined"){Cobalt.Constants={StaticURL:"https://static.wowdb.com/current/",MediaURL:"https://media.wowdb.com",AvatarURL:"https://media.wowdb.com/avatars",AttachmentURL:"https://media.wowdb.com/attachments",ActiveConfiguration:"development",}}if(typeof Cobalt.triggerHtmlInsert=="undefined"){Cobalt.triggerHtmlInsert=function(){}}if(typeof Cobalt.runOnHtmlInsert=="undefined"){Cobalt.runOnHtmlInsert=function(){}}(function(a,b,c){Azeroth.ModelViewer={initialize:function(){},initializeReal:function(){var d=this;a(document).on("click",".model-view-link",function(){d.logGA();var e=a(this);d.showModel(a(this).data());a(".ui-dialog").addClass("ui-dialog-override").css({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",})});if(location.hash=="#model-viewer"||location.hash=="#modelviewer"){a(".model-view-link").click()}a(document).on("click",".mv-ph",function(){d.logGA();d.showModel(a(this).data())})},loaded:function(){},logGA:function(){if(window.ga!==c){ga("create","UA-26524418-18","auto","mvTracker");ga("mvTracker.send","event","Modelviewer","Open",null,{nonInteraction:true,})}},mv:null,entity:null,mountEntity:null,loadStarted:false,loadComplete:false,loadParams:null,ShowConfigButtons:false,ShowFullScreenButton:true,ShowCustomTextures:false,allCustomTextures:{0:"-",},WithEntity:function(d){},Destroy:function(){if(this.entity){this.entity=null}if(this.mv){this.mv.Destroy();this.mv=null}},SetCharacterBase:function(e,d){var f=this;f.WithEntity(function(g){f.mv.SetCharacterBase(g,+e,+d)})},SetRotation:function(d){var e=this;e.WithEntity(function(f){e.mv.SetRotation(f,d)})},showModel:function(d){var f=this;if(f.loadComplete){f.showModelImpl(d);return}if(f.loadStarted){f.loadParams=d;return}f.loadStarted=true;f.loadParams=d;var e=document.createElement("script");e.type="module";e.src="https://mv-media.wowdb.com/dist/modelviewer.js";e.onload=function(){f.loadComplete=true;f.showModelImpl(f.loadParams)};document.head.appendChild(e);var g=document.createElement("link");g.rel="stylesheet";g.href="https://mv-media.wowdb.com/dist/style.css";document.head.appendChild(g)},showModelImpl:function(q){if(b&&b.Achievement){b.Achievement.trigger("UseModelViewer")}if(window.ga!==c){ga("create","UA-26524418-18","auto","mvTracker");ga("mvTracker.send","event","modelviewer","open",location.href,{nonInteraction:true,})}var s=this;document.body.style.overflow="hidden";var m=q.height;var x=q.width;var e=q.$el;if(e!==c){m=e.height();x=e.width()}if(m==null&&x==null){var y=a(window).height();var z=a(window).width();if(y<=z){m=y-200;x=Math.round(m*1.33)}else{x=z-200;m=Math.round(x*0.75)}}var w=a("<div>").addClass("model-viewer").css("padding",0).css("overflow","hidden").css("height",m+"px").css("width",x+"px");var d=a("<canvas>").attr("id","model-viewer-canvas").css("height",m+"px").css("width",x+"px");w.append(d);var i=a.cookie("DefaultCharacterRace");var h=a.cookie("DefaultCharacterGender");if(i==null){i="1"}if(h==null){h="0"}var f=[];var p=function(j){s.entity=j;for(var A=0;A<f.length;A++){f[A](j)}};s.WithEntity=function(j){if(s.entity){j(s.entity)}else{f.push(j)}};s.mv=CreateModelViewer(d[0]);var g=0;d.on("resize",function(){if(g+100>Date.now()){return}g=Date.now();s.mv.Resize()});var n=false;if(q.modelType){if(q.modelType=="items"){q.items=q.modelId}else{if(q.modelType=="creatures"){q.creature=q.modelId}else{if(q.modelType=="mounts"){q.mount=q.modelId}else{if(q.modelType=="itemsets"){q.items=q.modelId}else{if(q.modelType=="npc"){q.creature=q.modelId}else{if(q.modelType=="player"){var v=q.modelId.split(",");var r=v.shift();var l=v.shift();q.items=v.join(",")}else{if(q.modelType=="item"){q.items=q.modelId}}}}}}}}if(q.creature){s.mv.LoadCreatureDisplay(q.creature,p,true)}else{if(q.mount){s.mv.LoadCreatureDisplay(q.mount,p,true)}else{if(q.model||q.filedataId){p(s.mv.CreateModel(q.model||q.filedataId))}else{if(q.items){var r=parseInt(q.race);if(!isNaN(r)){i=r}var l=parseInt(q.gender);if(!isNaN(l)){h=l}s.WithEntity(function(j){s.SetCharacterBase(+i,+h)});var t=q.items.toString().split(",");for(var o=0;o<t.length;o++){(function(A){var B=t[A].split(":");var C=+B[0];var j=+B[1];if(!j){j=C;C=-1}s.WithEntity(function(D){s.mv.SetCharacterItemDisplay(D,C,j)})})(o)}n=true}}}}if(q.rotation){s.SetRotation(+q.rotation)}if(n){p(s.mv.CreateCharacter())}s.WithEntity(function(j){s.mv.Target(j)});if(!e){var k=w.dialog({draggable:false,title:"Model Viewer (double-click to fullscreen)",width:x+2,height:m+48,modal:true,resizable:false,dialogClass:"modal",close:function(j,A){document.body.style.overflow="";s.Destroy();w.dialog("destroy");w.remove()},})}else{e.replaceWith(w);s.ShowConfigButtons=false;s.ShowFullScreenButton=false}s.mv.Resize();var u;if(s.ShowConfigButtons){u=a("<input>").attr("type","button").attr("value","Rotate").on("click",function(){s.SetRotation(15)});w.append(u);u=a("<input>").attr("type","button").attr("value","Stop Rotate").on("click",function(){s.SetRotation(0)});w.append(u);u=a("<input>").attr("type","button").attr("value","Remove Model").on("click",function(){s.mv.DestroyEntity(s.entity)});w.append(u)}b.triggerHtmlInsert(w);a(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){var A=Azeroth.ModelViewer.getFullscreenElement(),j=a("#model-viewer-canvas");if(A){setTimeout(function(){j.width(screen.width).height(screen.height);s.mv.Resize()},1)}else{j.width(j.data("old-width")).height(j.data("old-height"));j.removeData("old-width old-height");if(j[0].mozRequestFullScreen){setTimeout(s.mv.Resize,200)}else{s.mv.Resize()}}});a("#model-viewer-canvas").on("dblclick",function(){var B=Azeroth.ModelViewer.getFullscreenElement(),A=this,j=a(this);if(B){if(A.webkitRequestFullscreen){setTimeout(Azeroth.ModelViewer.exitFullscreen,1)}else{Azeroth.ModelViewer.exitFullscreen()}}else{j.data("old-width",j.width()).data("old-height",j.height());if(A.webkitRequestFullscreen){setTimeout(function(){Azeroth.ModelViewer.enterFullscreen(A.parentElement)},1)}else{Azeroth.ModelViewer.enterFullscreen(A.parentElement)}}})},getFullscreenElement:function(){return(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},enterFullscreen:function(d){if(d.requestFullscreen){d.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{if(d.mozRequestFullScreen){d.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else{if(d.webkitRequestFullscreen){d.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{if(d.msRequestFullscreen){d.msRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{console.log("awful browser with no request fullscreen??");return}}}}},exitFullscreen:function(){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}},}})(jQuery,Cobalt);


</script>

</body>
</html>

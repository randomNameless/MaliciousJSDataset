console.log("%cAKFN - Auray - 2019","color:#fff; background-color:#000; padding:5px 10px; font-size:14px;"),function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=144)}({12:function(e,t,i){"use strict";(function(e){var n=i(25),o=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function s(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void h(t.promise,e)}c(t.promise,n)}else(1===e._state?c:h)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof i)return void f((n=i,o=t,function(){n.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){h(e,t)}var n,o}function h(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)l(e,e._deferreds[t]);e._deferreds=null}function d(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function f(e,t){var i=!1;try{e((function(e){i||(i=!0,c(t,e))}),(function(e){i||(i=!0,h(t,e))}))}catch(e){if(i)return;i=!0,h(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var i=new this.constructor(s);return l(this,new d(e,t,i)),i},a.prototype.finally=n.a,a.all=function(e){return new a((function(t,i){if(!r(e))return i(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var o=n.length;function s(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){s(e,t)}),i)}n[e]=r,0==--o&&t(n)}catch(e){i(e)}}for(var a=0;a<n.length;a++)s(a,n[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,i){i(e)}))},a.race=function(e){return new a((function(t,i){if(!r(e))return i(new TypeError("Promise.race accepts an array"));for(var n=0,o=e.length;n<o;n++)a.resolve(e[n]).then(t,i)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,i(43).setImmediate)},144:function(e,t,i){i(145),e.exports=i(146)},145:function(e,t,i){(function(t){!function(t){"use strict";var i,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",c="object"==typeof e,h=t.regeneratorRuntime;if(h)c&&(e.exports=h);else{(h=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var u="suspendedStart",d="suspendedYield",f="executing",p="completed",y={},v={};v[s]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(A([])));g&&g!==n&&o.call(g,s)&&(v=g);var b=E.prototype=S.prototype=Object.create(v);k.prototype=b.constructor=E,E.constructor=k,E[l]=k.displayName="GeneratorFunction",h.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},h.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},h.awrap=function(e){return{__await:e}},O(_.prototype),_.prototype[a]=function(){return this},h.AsyncIterator=_,h.async=function(e,t,i,n){var o=new _(w(e,t,i,n));return h.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},h.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},h.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=i),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),L(i),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var o=n.arg;L(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),y}}}function w(e,t,i,n){var o=t&&t.prototype instanceof S?t:S,r=Object.create(o.prototype),s=new P(n||[]);return r._invoke=function(e,t,i){var n=u;return function(o,r){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw r;return C()}for(i.method=o,i.arg=r;;){var s=i.delegate;if(s){var a=x(s,i);if(a){if(a===y)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=$(e,t,i);if("normal"===l.type){if(n=i.done?p:d,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=p,i.method="throw",i.arg=l.arg)}}}(e,i,s),r}function $(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function S(){}function k(){}function E(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){function i(t,n,r,s){var a=$(e[t],e,n);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(e){i("next",e,r,s)}),(function(e){i("throw",e,r,s)})):Promise.resolve(c).then((function(e){l.value=e,r(l)}),s)}s(a.arg)}var n;"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i)),this._invoke=function(e,t){function o(){return new Promise((function(n,o){i(e,t,n,o)}))}return n=n?n.then(o,o):o()}}function x(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,x(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=$(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,y;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,y):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:i,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,i(19))},146:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.r(t);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.views=[],this.timer=-1,this.debounceTime=t}var t,i,o;return t=e,o=[{key:"start",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.instance||(e.instance=new e(i)),window.NSFW.isResizeManagerStarted=!0,window.addEventListener("resize",t?e.debounceResize:e.resize),e.resize()}},{key:"bind",value:function(t,i){e.instance.views.push({id:t,fn:i})}},{key:"unbind",value:function(t){for(var i=e.instance,n=0,o=i.views.length;n<o;n++)if(i.views[n].id===t){i.views.splice(n,1);break}}},{key:"debounceResize",value:function(){window.clearTimeout(e.instance.timer),e.instance.timer=window.setTimeout(e.resize,e.instance.debounceTime)}},{key:"resize",value:function(){var t=e.instance.views;NSFW.w=document.documentElement.clientWidth,NSFW.h=document.documentElement.clientHeight;for(var i=0,n=t.length;i<n;i++)t[i].fn(NSFW.w,NSFW.h)}}],(i=null)&&n(t.prototype,i),o&&n(t,o),e}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return null!=e}))}(t);return n.length<1?{}:1===n.length?t[0]:n.reduce((function(e,t){return Object.keys(t).forEach((function(i){"object"===r(e[i])&&"object"===r(t[i])&&void 0===t[i].length?e[i]=s(e[i],t[i]):e[i]=t[i]})),e}),{})}function a(){return"_"+Math.random().toString(36).substr(2,9)}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=s({verbose:!0},t);this.canvas=document.createElement("canvas"),this.canvas.width=1,this.canvas.height=1,document.body.appendChild(this.canvas);var n=this.canvas.getContext("webgl",{stencil:!0});n||(n=this.canvas.getContext("experimental-webgl",{stencil:!0}));var o=!!n;this.gl=n,this.report={contextName:o,glVersion:n.getParameter(n.VERSION),shadingLanguageVersion:n.getParameter(n.SHADING_LANGUAGE_VERSION),vendor:n.getParameter(n.VENDOR),renderer:n.getParameter(n.RENDERER),unMaskedVendor:this.getUnmaskedInfo(n).vendor,unMaskedRenderer:this.getUnmaskedInfo(n).renderer,antialias:n.getContextAttributes().antialias?"Available":"Not available",angle:this.getAngle(n),majorPerformanceCaveat:this.getMajorPerformanceCaveat(o),maxColorBuffers:this.getMaxColorBuffers(n),redBits:n.getParameter(n.RED_BITS),greenBits:n.getParameter(n.GREEN_BITS),blueBits:n.getParameter(n.BLUE_BITS),alphaBits:n.getParameter(n.ALPHA_BITS),depthBits:n.getParameter(n.DEPTH_BITS),stencilBits:n.getParameter(n.STENCIL_BITS),maxRenderBufferSize:n.getParameter(n.MAX_RENDERBUFFER_SIZE),maxCombinedTextureImageUnits:n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxCubeMapTextureSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxFragmentUniformVectors:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),maxTextureImageUnits:n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxVaryingVectors:n.getParameter(n.MAX_VARYING_VECTORS),maxVertexAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexTextureImageUnits:n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexUniformVectors:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),aliasedLineWidthRange:n.getParameter(n.ALIASED_LINE_WIDTH_RANGE),aliasedPointSizeRange:n.getParameter(n.ALIASED_POINT_SIZE_RANGE),maxViewportDimensions:n.getParameter(n.MAX_VIEWPORT_DIMS),maxAnisotropy:this.getMaxAnisotropy(),vertexShaderBestPrecision:this.getBestFloatPrecision(n.VERTEX_SHADER),fragmentShaderBestPrecision:this.getBestFloatPrecision(n.FRAGMENT_SHADER),fragmentShaderFloatIntPrecision:this.getFloatIntPrecision(n),extensions:n.getSupportedExtensions(),draftExtensionsInstructions:this.getDraftExtensionsInstructions()},this.report.platform=navigator.platform,this.report.userAgent=navigator.userAgent,this.report.webglVersion=1,this.canvas.parentNode.removeChild(this.canvas),this.canvas=null;var r=!0;this.report.aliasedPointSizeRange[1]>300||(r=!1),NSFW.goodGPU=r,i.verbose&&this.logReport()}var t,i,n;return t=e,(i=[{key:"logReport",value:function(){console.log("%cWebGL report","background-color:#888; padding:0px 10px; color:#fff;"),console.log(this.report),console.log("%cGPU status: ".concat(NSFW.goodGPU?"good":"not good"),"color:#888;")}},{key:"describeRange",value:function(e){return"["+e[0]+", "+e[1]+"]"}},{key:"getMaxAnisotropy",value:function(){var e=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===t&&(t=2),t}return"n/a"}},{key:"formatPower",value:function(e,t){return t?""+Math.pow(2,e):"2<sup>"+e+"</sup>"}},{key:"getPrecisionDescription",value:function(e,t){var i=t?" bit mantissa":"";return"[-"+this.formatPower(e.rangeMin,t)+", "+this.formatPower(e.rangeMax,t)+"] ("+e.precision+i+")"}},{key:"getBestFloatPrecision",value:function(e){var t=this.gl.getShaderPrecisionFormat(e,this.gl.HIGH_FLOAT),i=this.gl.getShaderPrecisionFormat(e,this.gl.MEDIUM_FLOAT),n=this.gl.getShaderPrecisionFormat(e,this.gl.LOW_FLOAT),o=t;return 0===t.precision&&(o=i),"High: "+this.getPrecisionDescription(t,!0)+" | Medium: "+this.getPrecisionDescription(i,!0)+" | Low: "+this.getPrecisionDescription(n,!0)+'">'+this.getPrecisionDescription(o,!1)}},{key:"getFloatIntPrecision",value:function(e){var t=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_FLOAT),i=0!==t.precision?"highp/":"mediump/";return i+=0!==(t=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_INT)).rangeMax?"highp":"lowp"}},{key:"isPowerOfTwo",value:function(e){return 0!==e&&0==(e&e-1)}},{key:"getAngle",value:function(e){var t=this.describeRange(this.gl.getParameter(this.gl.ALIASED_LINE_WIDTH_RANGE));return"Win32"!==navigator.platform&&"Win64"!==navigator.platform||"Internet Explorer"===this.gl.getParameter(this.gl.RENDERER)||"Microsoft Edge"===this.gl.getParameter(this.gl.RENDERER)||t!==this.describeRange([1,1])?"No":this.isPowerOfTwo(this.gl.getParameter(this.gl.MAX_VERTEX_UNIFORM_VECTORS))&&this.isPowerOfTwo(this.gl.getParameter(this.gl.MAX_FRAGMENT_UNIFORM_VECTORS))?"Yes, D3D11":"Yes, D3D9"}},{key:"getMajorPerformanceCaveat",value:function(e){return this.canvas.parentNode||document.body.append(this.canavas),this.canvas.getContext(e,{failIfMajorPerformanceCaveat:!0})?void 0===this.gl.getContextAttributes().failIfMajorPerformanceCaveat?"Not implemented":"No":"Yes"}},{key:"getDraftExtensionsInstructions",value:function(){return-1!==navigator.userAgent.indexOf("Chrome")?'To see draft extensions in Chrome, browse to about:flags, enable the "Enable WebGL Draft Extensions" option, and relaunch.':-1!==navigator.userAgent.indexOf("Firefox")?"To see draft extensions in Firefox, browse to about:config and set web.gl.enable-draft-extensions to true.":""}},{key:"getMaxColorBuffers",value:function(e){var t=1,i=this.gl.getExtension("WEBGL_draw_buffers");return null!=i&&(t=this.gl.getParameter(i.MAX_DRAW_BUFFERS_WEBGL)),t}},{key:"getUnmaskedInfo",value:function(e){var t={renderer:"",vendor:""},i=this.gl.getExtension("WEBGL_debug_renderer_info");return null!=i&&(t.renderer=this.gl.getParameter(i.UNMASKED_RENDERER_WEBGL),t.vendor=this.gl.getParameter(i.UNMASKED_VENDOR_WEBGL)),t}},{key:"showNull",value:function(e){return null===e?"n/a":e}}])&&l(t.prototype,i),n&&l(t,n),e}();function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=s({limit:10,workerPath:"js/worker.js",verbose:!0,callback:null},t);if(NSFW.goodCPU=!1,this.time=1e4,!window.Worker||void 0===window.Worker)return console.warn("CPUTest: Web workers are not available."),void(i.callback&&i.callback());this.callback=i.callback,this.verbose=i.verbose,this.limit=i.limit,this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this),this.worker=new Worker(i.workerPath),this.worker.addEventListener("message",this.onMessage),this.worker.addEventListener("error",this.onError)}var t,i,n;return t=e,(i=[{key:"run",value:function(){this.worker&&this.worker.postMessage({id:Date.now(),message:{fn:"calculate"}})}},{key:"onError",value:function(e){console.error("CPUTest :: Error:",e),this.callback&&this.callback()}},{key:"onMessage",value:function(e){e&&(this.time=e.data.message.time),NSFW.goodCPU=this.time<this.limit,this.verbose&&this.logReport(),this.callback&&this.callback(this.time),this.dispose()}},{key:"logReport",value:function(){console.log("%cCPU status: ".concat(NSFW.goodCPU?"good":"not good"," (").concat(this.time,"ms)"),"color:#888")}},{key:"dispose",value:function(){this.worker.removeEventListener("message",this.onMessage),this.worker.removeEventListener("error",this.onError),this.worker.terminate(),this.worker=null,this.callback=null,this.onMessage=null,this.onError=null}}])&&h(t.prototype,i),n&&h(t,n),e}();function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,i){return t&&d(e.prototype,t),i&&d(e,i),e}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.options=s({verbose:!0,cpu:!1,gpu:!1,callback:null},t);var i=new MobileDetect(window.navigator.userAgent);NSFW.isMobile=null!==i.phone(),NSFW.isTablet=null!==i.tablet(),NSFW.isDesktop=!NSFW.isTablet&&!NSFW.isMobile,NSFW.whatOS=i.os(),this.device=NSFW.isMobile?"mobile":NSFW.isTablet?"tablet":"desktop",document.body.classList.add(this.device),document.body.classList.add(NSFW.whatOS);var n=window.navigator.userAgent.toLowerCase();NSFW.isIE=-1!==this.getInternetExplorerVersion(),NSFW.isEdge=n.indexOf("edge")>-1,NSFW.isOpera=n.indexOf("opr/")>-1,NSFW.isChrome=!NSFW.isEdge&&!NSFW.isOpera&&(n.indexOf("chrome")>-1||n.indexOf("crios")>-1),NSFW.isSafari=!NSFW.isEdge&&!NSFW.isOpera&&!NSFW.isChrome&&n.indexOf("safari")>-1,NSFW.isFirefox=n.indexOf("firefox")>-1,this.browser=this.getBrowser(),document.body.classList.add(this.browser),NSFW.isWebGL=this.webGLAvailability(),NSFW.isWebGL&&this.options.gpu&&(this.gpu=new c({verbose:!1})),this.options.cpu&&(this.cpu=new u({verbose:!1,callback:this.report.bind(this)}),this.cpu.run()),!this.options.cpu&&this.options.verbose&&this.report()}return f(e,null,[{key:"check",value:function(t){e.instance||(e.instance=new e(t))}}]),f(e,[{key:"report",value:function(){this.options.verbose&&(console.groupCollapsed("Device Info"),console.log("Device: ",this.device),console.log("Browser: ",this.browser),console.log("WebGL: ",NSFW.isWebGL),this.gpu&&this.gpu.logReport(),this.cpu&&this.cpu.logReport(),console.groupEnd(),this.options.callback&&this.options.callback())}},{key:"getInternetExplorerVersion",value:function(){var e=-1,t=window.navigator.userAgent,i=window.navigator.appName;return"Microsoft Internet Explorer"===i?null!==new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)):"Netscape"===i&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e}},{key:"getBrowser",value:function(){var e={ie:NSFW.isIE,opera:NSFW.isOpera,chrome:NSFW.isChrome,safari:NSFW.isSafari,firefox:NSFW.isFirefox,edge:NSFW.isEdge};for(var t in e)if(Boolean(e[t]))return t;return"unknown"}},{key:"webGLAvailability",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}}]),e}();function y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=[{file:"".concat("/app/themes/Auray/js","/fetch.polyfill.js"),supported:"fetch"in window,name:"fetch"},{file:"".concat("/app/themes/Auray/js","/promise.polyfill.js"),supported:"Promise"in window,name:"Promise"},{file:"".concat("/app/themes/Auray/js","/intersectionObserver.polyfill.js"),supported:"IntersectionObserver"in window,name:"IntersectionObserver"},{file:"".concat("/app/themes/Auray/js","/array.polyfill.js"),supported:Array.from,name:"Array"},{file:"".concat("/app/themes/Auray/js","/string.polyfill.js"),supported:String.prototype.includes,name:"String"}],m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"add",value:function(e,t,i){v.push({file:t,supported:e,name:i})}},{key:"check",value:function(t){if("function"==typeof t){var i=v.reduce((function(e,t){var i=t.supported,n=t.file,o=t.name;return i||e.push({file:n,name:o}),e}),[]);i.length<=0&&t();for(var n=0,o=function(){++n===i.length&&t()},r=0;r<i.length;r++)e.load(i[r].file,o,i[r].name)}else console.error("Polyfill :: you need to provide a callback function parameter to check()")}},{key:"load",value:function(t,i,n){var o=document.createElement("script");o.onload=function(){n&&(e["".concat(n)]=!0),i()},o.onerror=function(e){console.error(e)},o.src=t,document.body.appendChild(o)}}],(i=null)&&y(t.prototype,i),n&&y(t,n),e}();function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"start",value:function(e){window.NSFW={},window.NSFW.PUBLIC_PATH="/app/themes/Auray",window.NSFW.PUBLIC_PATH_JS="/app/themes/Auray/js",window.NSFW.PUBLIC_PATH_CSS="/app/themes/Auray/css",document.body?e():document.addEventListener("DOMContentLoaded",e)}}],(i=null)&&g(t.prototype,i),n&&g(t,n),e}().start;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function S(e){return"/"===e.charAt(0)}function k(e,t){for(var i=t,n=i+1,o=e.length;n<o;i+=1,n+=1)e[i]=e[n];e.pop()}var E=function(e,t){void 0===t&&(t="");var i,n=e&&e.split("/")||[],o=t&&t.split("/")||[],r=e&&S(e),s=t&&S(t),a=r||s;if(e&&S(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";if(o.length){var l=o[o.length-1];i="."===l||".."===l||""===l}else i=!1;for(var c=0,h=o.length;h>=0;h--){var u=o[h];"."===u?k(o,h):".."===u?(k(o,h),c++):c&&(k(o,h),c--)}if(!a)for(;c--;c)o.unshift("..");!a||""===o[0]||o[0]&&S(o[0])||o.unshift("");var d=o.join("/");return i&&"/"!==d.substr(-1)&&(d+="/"),d};var O=!0,_="Invariant failed";var x=function(e,t){if(!e)throw O?new Error(_):new Error(_+": "+(t||""))};function T(e){return"/"===e.charAt(0)?e:"/"+e}function L(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function P(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function A(e){var t=e.pathname,i=e.search,n=e.hash,o=t||"/";return i&&"?"!==i&&(o+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function C(e,t,i,n){var o;"string"==typeof e?(o=function(e){var t=e||"/",i="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(i=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===i?"":i,hash:"#"===n?"":n}}(e)).state=t:(void 0===(o=w({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return i&&(o.key=i),n?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=E(o.pathname,n.pathname)):o.pathname=n.pathname:o.pathname||(o.pathname="/"),o}function j(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,i,n,o){if(null!=e){var r="function"==typeof e?e(t,i):e;"string"==typeof r?"function"==typeof n?n(r,o):o(!0):o(!1!==r)}else o(!0)},appendListener:function(e){var i=!0;function n(){i&&e.apply(void 0,arguments)}return t.push(n),function(){i=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,i)}))}}}var R=!("undefined"==typeof window||!window.document||!window.document.createElement);function N(e,t){t(window.confirm(e))}var I="popstate",D="hashchange";function M(){try{return window.history.state||{}}catch(e){return{}}}function W(e){void 0===e&&(e={}),R||x(!1);var t,i=window.history,n=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,s=r.forceRefresh,a=void 0!==s&&s,l=r.getUserConfirmation,c=void 0===l?N:l,h=r.keyLength,u=void 0===h?6:h,d=e.basename?P(T(e.basename)):"";function f(e){var t=e||{},i=t.key,n=t.state,o=window.location,r=o.pathname+o.search+o.hash;return d&&(r=L(r,d)),C(r,n,i)}function p(){return Math.random().toString(36).substr(2,u)}var y=j();function v(e){w(q,e),q.length=i.length,y.notifyListeners(q.location,q.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||$(f(e.state))}function g(){$(f(M()))}var b=!1;function $(e){if(b)b=!1,v();else{y.confirmTransitionTo(e,"POP",c,(function(t){t?v({action:"POP",location:e}):function(e){var t=q.location,i=k.indexOf(t.key);-1===i&&(i=0);var n=k.indexOf(e.key);-1===n&&(n=0);var o=i-n;o&&(b=!0,O(o))}(e)}))}}var S=f(M()),k=[S.key];function E(e){return d+A(e)}function O(e){i.go(e)}var _=0;function W(e){1===(_+=e)&&1===e?(window.addEventListener(I,m),o&&window.addEventListener(D,g)):0===_&&(window.removeEventListener(I,m),o&&window.removeEventListener(D,g))}var F=!1;var q={length:i.length,action:"POP",location:S,createHref:E,push:function(e,t){var o=C(e,t,p(),q.location);y.confirmTransitionTo(o,"PUSH",c,(function(e){if(e){var t=E(o),r=o.key,s=o.state;if(n)if(i.pushState({key:r,state:s},null,t),a)window.location.href=t;else{var l=k.indexOf(q.location.key),c=k.slice(0,l+1);c.push(o.key),k=c,v({action:"PUSH",location:o})}else window.location.href=t}}))},replace:function(e,t){var o=C(e,t,p(),q.location);y.confirmTransitionTo(o,"REPLACE",c,(function(e){if(e){var t=E(o),r=o.key,s=o.state;if(n)if(i.replaceState({key:r,state:s},null,t),a)window.location.replace(t);else{var l=k.indexOf(q.location.key);-1!==l&&(k[l]=o.key),v({action:"REPLACE",location:o})}else window.location.replace(t)}}))},go:O,goBack:function(){O(-1)},goForward:function(){O(1)},block:function(e){void 0===e&&(e=!1);var t=y.setPrompt(e);return F||(W(1),F=!0),function(){return F&&(F=!1,W(-1)),t()}},listen:function(e){var t=y.appendListener(e);return W(1),function(){W(-1),t()}}};return q}var F={Router:{VIEW_ADD:"@navigator / VIEW_ADD",VIEW_ADDED:"@navigator / VIEW_ADDED",VIEW_REMOVE:"@navigator / VIEW_REMOVE",VIEW_REMOVED:"@navigator / VIEW_REMOVED",VIEW_ENTER:"@navigator / VIEW_ENTER",VIEW_ENTERED:"@navigator / VIEW_ENTERED",VIEW_LEAVE:"@navigator / VIEW_LEAVE",VIEW_LEFT:"@navigator / VIEW_LEFT",VIEW_LOAD:"@navigator / VIEW_LOAD",VIEW_LOADING:"@navigator / VIEW_LOADING",VIEW_LOADED:"@navigator / VIEW_LOADED"},Sound:{ADD:"@sound / ADD",MUTE:"@sound / MUTE",UNMUTE:"@sound / UNMUTE",TOGGLE_MUTE:"@sound / TOGGLE_MUTE",PLAY:"@sound / PLAY",STOP:"@sound / STOP",CROSSFADE:"@sound / CROSSFADE"},GoogleMap:{CLOSE_ALL_INFOBOX:"@infobox / CLOSE"},VimeoPlayer:{LOADED:"@vimeo / LOADED",PLAY:"@vimeo / PLAY",PAUSE:"@vimeo / PAUSE",STOP:"@vimeo / STOP",END:"@vimeo / END",MUTE:"@vimeo / MUTE",TRACKING:"@vimeo / TRACKING"},YoutubePlayer:{LOADED:"@youtube / LOADED",PLAY:"@youtube / PLAY",PAUSE:"@youtube / PAUSE",STOP:"@youtube / STOP",END:"@youtube / END",MUTE:"@youtube / MUTE",TRACKING:"@youtube / TRACKING"},HTML5VideoPlayer:{LOADED:"@HTML5VideoPlayer / LOADED",PLAY:"@HTML5VideoPlayer / PLAY",PAUSE:"@HTML5VideoPlayer / PAUSE",STOP:"@HTML5VideoPlayer / STOP",END:"@HTML5VideoPlayer / END",MUTE:"@HTML5VideoPlayer / MUTE",TRACKING:"@HTML5VideoPlayer / TRACKING"}};function q(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"emit",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.eventsList[t];if(n)for(var o=0,r=n.length;o<r;o++)n[o].fn(i);else e.debug&&console.warn("EventsManager :: Emit :: Currently no listeners for this event : ",t)}},{key:"on",value:function(t,i){t&&""!==t||(e.debug?console.warn("EventsManager :: EMPTY EVENT ::",t):e.debug&&console.log("%cEventsManager :: ON :: ".concat(t),"color:#BBB;")),e.eventsList[t]||(e.eventsList[t]=[]),e.eventsList[t].push({fn:i})}},{key:"once",value:function(t,i){var n=function n(o){e.off(t,n),i(o)};n._=i,e.on(t,n)}},{key:"off",value:function(t,i){var n=e.eventsList[t];if(n)if(i){e.debug&&console.log("%cEventsManager :: OFF :: ".concat(t),"color:#BBB;");for(var o=[],r=0,s=n.length;r<s;r++){var a=n[r];a.fn!==i&&a.fn._!==i&&o.push(a)}o.length>0?e.eventsList[t]=o:delete e.eventsList[t]}else e.debug&&console.warn("EventsManager :: Off :: Callback is undefined",t);else e.debug&&console.warn("EventsManager :: Off :: Currently no listeners for this event : ",t)}},{key:"verbose",value:function(t){e.debug=t}}],(i=null)&&q(t.prototype,i),n&&q(t,n),e}();V.eventsList={},V.debug=!1;var H=V,B={LOADER_DISPLAY:"@router / LOADER_DISPLAY",LOADER_HIDE:"@router / LOADER_HIDE",LOADER_PRE_DISPLAY:"@router / LOADER_PRE_DISPLAY",HOME_ANIM:"@header / HOME_ANIM",HOME_ANIM_DONE:"@header / HOME_ANIM_DONE",START_STICKY_BOX:"@header / START_STICKY_BOX",SLIDER_INIT_DONE:"@header / SLIDER_INIT_DONE",POSTER_ADDED:"@header / POSTER_ADDED",POSTER_REMOVED:"@header / POSTER_REMOVED",SLIDER_RESIZE:"@header / SLIDER_RESIZE",SLIDER_RESIZE_READY:"@header / SLIDER_RESIZE_READY",FORM_READY:"@header / FORM_READY",YT_MANAGER_STARTED:"@header / YT_MANAGER_STARTED",CHANGE_LANG_URLS:"@header / CHANGE_LANG_URLS"};function Y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.verbose=!1}var t,i,n;return t=e,(i=[{key:"setView",value:function(){this.verbose&&console.log("View ".concat(this.id," :: setView")),this.$view=document.querySelector(".view--".concat(this.id))}},{key:"enter",value:function(e,t){this.setView(),this.beforeDisplay(e),this.display(e,t)}},{key:"beforeDisplay",value:function(e){this.verbose&&console.log("View ".concat(this.id," :: beforeDisplay"))}},{key:"display",value:function(e,t){t()}},{key:"willLeave",value:function(e,t){H.emit(B.LOADER_PRE_DISPLAY),t()}},{key:"leave",value:function(e,t){this.hide(e,t)}},{key:"hide",value:function(e,t){t(),this.afterHide(e)}},{key:"afterHide",value:function(e){this.verbose&&console.log("View ".concat(this.id," :: afterHide")),this.dispose(e)}},{key:"dispose",value:function(e){this.verbose&&console.log("View ".concat(this.id," :: dispose")),this.$view=null}}])&&Y(t.prototype,i),n&&Y(t,n),e}(),z=i(12);function G(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var X=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.leavePrevView=this.leavePrevView.bind(this),this.enterNextView=this.enterNextView.bind(this),this.appendNextView=this.appendNextView.bind(this),this.removePrevView=this.removePrevView.bind(this),this.prevView=t,this.nextView=i,this.reverse=n}var t,i,n;return t=e,(i=[{key:"delay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return function(){return new z.a((function(t,i){setTimeout((function(){t()}),e)}))}}},{key:"appendNextView",value:function(){return this.prevViewExists()&&H.emit(F.Router.VIEW_ADD),z.a.resolve()}},{key:"enterNextView",value:function(){var e=this;return new z.a((function(t,i){H.emit(F.Router.VIEW_ENTER,{id:e.nextView.id}),e.nextView.enter(e.prevView.id,(function(){H.emit(F.Router.VIEW_ENTERED,{id:e.nextView.id}),t()}))})).catch((function(e){throw e}))}},{key:"leavePrevView",value:function(){var e=this;return this.prevViewExists()?new z.a((function(t,i){H.emit(F.Router.VIEW_LEAVE,{id:e.prevView.id}),e.prevView.leave(e.nextView.id,(function(){H.emit(F.Router.VIEW_LEFT,{id:e.prevView.id}),t()}))})).catch((function(e){throw e})):z.a.resolve()}},{key:"removePrevView",value:function(){return this.prevViewExists()&&H.emit(F.Router.VIEW_REMOVE,{id:this.prevView.id}),z.a.resolve()}},{key:"play",value:function(){return this.leavePrevView().then(this.appendNextView).then(this.removePrevView).then(this.enterNextView).catch(this.onError)}},{key:"prevViewExists",value:function(){return this.prevView instanceof U}},{key:"onError",value:function(e){if(e)throw e;throw new Error("Router :: error happened during transition.")}}])&&G(t.prototype,i),n&&G(t,n),e}();function K(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultTransition=t,this.transitions=[]}var t,i,n;return t=e,(i=[{key:"addTransition",value:function(e){if(!(e instanceof X))throw new Error("TransitionManager :: add :: not an instance of Transition");this.transitions.push(e)}},{key:"getTransition",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0;i<this.transitions.length;i++){var n=this.transitions[i],o=n.prevView.id===e.id,r=n.nextView.id===t.id;if(o&&r)return n;if(n.reverse){var s=n.prevView.id===t.id,a=n.nextView.id===e.id;if(s&&a){var l=n.prevView;return n.prevView=n.nextView,n.nextView=l,n}}}var c=new this.defaultTransition(e,t);return this.addTransition(c),c}}])&&K(t.prototype,i),n&&K(t,n),e}();function J(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Q=function(){function e(t,i,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapperClass=t,this.containerClass=i,this.ignoreClass=n,this.$wrapper=document.body.querySelector(this.wrapperClass),!this.$wrapper)throw new Error("Router :: cannot find a wrapper with class: ".concat(this.wrapperClass));this.$prevContainer=this.$wrapper.querySelector(this.containerClass),this.$nextContainer=null,this.appendContainer=this.appendContainer.bind(this),this.removeContainer=this.removeContainer.bind(this)}var t,i,n;return t=e,(i=[{key:"appendContainer",value:function(){this.$nextContainer&&(this.$wrapper.appendChild(this.$nextContainer),H.emit(F.Router.VIEW_ADDED))}},{key:"removeContainer",value:function(){this.$prevContainer&&this.$prevContainer.parentNode&&(this.$prevContainer.parentNode.removeChild(this.$prevContainer),H.emit(F.Router.VIEW_REMOVED))}},{key:"getWrapper",value:function(){return this.$wrapper}},{key:"getContainer",value:function(){return document.querySelector(this.containerClass)}},{key:"handleHTML",value:function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.querySelector("title");i&&(document.title=i.textContent),this.$nextContainer&&(this.$prevContainer=this.$nextContainer);var n=t.querySelector(this.containerClass);if(!n)throw new Error("Router :: Cannot find a container with class: ".concat(this.containerClass));this.$nextContainer=n;var o=this.$nextContainer.dataset.routerNamespace;H.emit(F.Router.VIEW_LOADED,{id:o})}}])&&J(t.prototype,i),n&&J(t,n),e}();function ee(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var te=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.views=[],this.namespaces=[],this.currentView=void 0,this.verbose=t,i?(this.defaultView=new i,this.addView(this.defaultView)):console.warn("ViewManager :: you need to provide a default view.")}var t,i,n;return t=e,(i=[{key:"addView",value:function(e){if(!(e instanceof U))throw new Error("ViewManager :: add :: not an instance of View");e.verbose=this.verbose,this.namespaces.push(e.id),this.views.push(e)}},{key:"getView",value:function(e){this.verbose&&console.log("ViewManager :: getView",e,this.views);for(var t=0;t<this.views.length;t++){var i=this.views[t];if(i.id===e)return i}return this.defaultView}},{key:"viewExists",value:function(e){return this.namespaces.includes(e)}},{key:"setCurrentView",value:function(e){this.currentView=e}},{key:"getCurrentView",value:function(){return this.currentView}}])&&ee(t.prototype,i),n&&ee(t,n),e}();function ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={}}var t,i,n;return t=e,(i=[{key:"set",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}},{key:"reset",value:function(){this.data={}}}])&&ie(t.prototype,i),n&&ie(t,n),e}();function oe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[],this.create=t}var t,i,n;return t=e,(i=[{key:"get",value:function(){return 0===this.list.length?this.create():this.list.pop()}},{key:"release",value:function(e){this.list.push(e)}}])&&oe(t.prototype,i),n&&oe(t,n),e}(),se=i(64),ae=i.n(se);function le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ce(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?le(Object(i),!0).forEach((function(t){he(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):le(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ue=function(){return!1},de=new re((function(){return new ae.a})),fe=function(e,t,i){return i?new Promise((function(n,o){var r=document.createElement(e);r.addEventListener(t,(function e(){r.removeEventListener(t,e),n(r)})),r.addEventListener("error",(function(e){return o(e)})),r.src=i})):null},pe=function(e){return Array.isArray(e)?Promise.all(e.map((function(e){return fe("img","load",e)}))):fe("img","load",e)},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canplay";return Array.isArray(e)?Promise.all(e.map((function(e){return fe("video",t,e)}))):fe("video",t,e)},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canplaythrough";return Array.isArray(e)?Promise.all(e.map((function(e){return fe("audio",t,e)}))):fe("audio",t,e)},me=function(e){var t,i,n=arguments;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{},i=Array.isArray(e),o.abrupt("return",new Promise((function(n,o){var r=t.worker?new t.worker:de.get(),s=function(e){o(e)},l=a(),c=ce({},t);c.worker&&delete c.worker;r.addEventListener("message",(function e(a){if(r.removeEventListener("message",e),r.removeEventListener("error",s),t.worker||de.release(r),l===a.data.id){var c=i?a.data.result:a.data.result[0];n(c)}else console.error("AssetsLoader :: not matching ids on worker."),o("AssetsLoader :: not matching ids on worker.")})),r.addEventListener("error",s),r.postMessage({id:l,items:i?e:[e],verbose:!1,options:c})})));case 3:case"end":return o.stop()}}))},ge=function(e,t){var i,n,o,r;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(fetch(e,{mode:t.mode?t.mode:"cors",headers:t.headers?t.headers:{}}));case 2:if((i=s.sent).ok){s.next=6;break}return console.error("".concat(i.url," ").concat(i.status," (").concat(i.statusText,")")),s.abrupt("return",null);case 6:if(!t.json){s.next=8;break}return s.abrupt("return",i.json());case 8:if(!t.text){s.next=10;break}return s.abrupt("return",i.text());case 10:if(!t.buffer){s.next=12;break}return s.abrupt("return",i.arrayBuffer());case 12:if(!(i.url.indexOf(".svg")>-1)){s.next=19;break}return s.next=15,regeneratorRuntime.awrap(i.text());case 15:o=s.sent,n=new Blob([o],{type:"image/svg+xml"}),s.next=22;break;case 19:return s.next=21,regeneratorRuntime.awrap(i.blob());case 21:n=s.sent;case 22:return r=URL.createObjectURL(n),s.abrupt("return",r);case 24:case"end":return s.stop()}}))},be=function(e,t,i){var n,o,r;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(null==e||e&&e.length<1)){s.next=2;break}return s.abrupt("return",Promise.resolve(e));case 2:n=t.blob||t.json||t.text||t.buffer,s.next=14;break;case 6:if(o=s.sent,!n){s.next=9;break}return s.abrupt("return",o);case 9:if("function"==typeof i){s.next=11;break}throw new Error("AssetsLoader :: you need to provide a loader function.");case 11:return s.abrupt("return",i(o));case 14:return s.next=16,regeneratorRuntime.awrap(Array.isArray(e)?Promise.all(e.map((function(e){return ge(e,t)}))):ge(e,t));case 16:if(r=s.sent,!n){s.next=19;break}return s.abrupt("return",r);case 19:if("function"==typeof i){s.next=21;break}throw new Error("AssetsLoader :: you need to provide a loader function.");case 21:return s.abrupt("return",i(r));case 22:case"end":return s.stop()}}))},we={loadImage:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",be(e,t,pe));case 2:case"end":return n.stop()}}))},createImage:pe,loadVideo:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",be(e,t,ye));case 2:case"end":return n.stop()}}))},createVideo:ye,loadAudio:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",be(e,t,ve));case 2:case"end":return n.stop()}}))},createAudio:ve,loadFile:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",be(e,ce({},t,{text:!0})));case 2:case"end":return n.stop()}}))},loadJSON:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",be(e,ce({},t,{json:!0})));case 2:case"end":return n.stop()}}))},load:be,loadOnMainThread:ge,loadOnWorker:me,isWorkerSupported:ue};function $e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Se(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(i),!0).forEach((function(t){ke(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$e(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ke(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ee(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oe=function(){function e(t){var i=t.wrapperClass,n=t.containerClass,o=t.ignoreClass,r=t.defaultTransition,s=t.defaultView,a=t.enableCache,l=t.lang,c=t.verbose;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transitionManager=new Z(r),this.domManager=new Q(i,n,o),this.viewManager=new te(c,s),this.cache=new ne,this.cacheEnabled=a,this.lang=l,this.verbose=c,this.isTransitioning=!1,this.router=W(),this.nextLocation="",this.bindListeners()}var t,i,n;return t=e,n=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={wrapperClass:".wrapper",containerClass:".view",ignoreClass:"no-router",defaultTransition:X,enableCache:!0,verbose:!0,lang:document.querySelector("html").getAttribute("lang"),defaultView:null},n=Se({},i,{},t);e.instance||(e.instance=new e(n))}},{key:"start",value:function(){e.apply()}},{key:"push",value:function(t){var i=e.instance,n=i.router;if(!i.isTransitioning){var o=t.replace(window.location.origin,"");o!==window.location.pathname&&n.push(o)}}},{key:"apply",value:function(){var t=e.instance,i=t.viewManager,n=t.transitionManager,o=t.domManager,r=i.getCurrentView(),s=(void 0===r?o.$prevContainer:o.$nextContainer).dataset.routerNamespace,a=(i.viewExists(s),i.getView(s));if(!a)throw new Error("Router :: No view found");var l=n.getTransition(r,a);e.instance.isTransitioning=!0,l.play().then((function(){e.instance.isTransitioning=!1,i.setCurrentView(a)})).catch((function(e){throw e}))}},{key:"addTransition",value:function(t){e.instance.transitionManager.addTransition(t)}},{key:"load",value:function(t){var i=e.instance,n=i.cache,o=i.cacheEnabled,r=(i.lang,t.pathname.replace(/\/$/,""));e.setNextLocation(r);var s=e.getNextLocation(),a=!!o&&n.get(s);return e.leaveCurrentView(r).then((function(){return H.emit(F.Router.VIEW_LOAD,{pathname:r}),o&&a?Promise.resolve(e.handleHTML(a)):e.fetch(s).then((function(t){return o&&n.set(s,t),e.handleHTML(t)})).catch((function(e){throw new Error(e)}))}))}},{key:"fetch",value:function(e){return we.loadFile(e,{headers:{"X-Requested-With":"XMLHttpRequest"}})}},{key:"handleHTML",value:function(t){var i=e.instance.domManager;return i.handleHTML(t),i.$nextContainer}},{key:"getContainer",value:function(){return e.instance.domManager.getContainer()}},{key:"getViewByID",value:function(t){return e.instance.viewManager.getView(t)}},{key:"getNextLocation",value:function(){return e.instance.nextLocation}},{key:"setNextLocation",value:function(t){e.instance.nextLocation=window.location.origin+t}},{key:"leaveCurrentView",value:function(t){var i=e.instance.viewManager.getCurrentView();return new Promise((function(e,n){i.willLeave(t,e)})).catch((function(e){throw e}))}},{key:"getLang",value:function(){return e.instance.lang}},{key:"addView",value:function(t){e.instance.viewManager.addView(t)}},{key:"getView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,i=t.pathname.replace(/\/$/,""),n=e.instance.viewManager;return n.getViewByUrl(i,e.getLang())}}],(i=[{key:"bindListeners",value:function(){H.on(F.Router.VIEW_ADD,this.domManager.appendContainer),H.on(F.Router.VIEW_REMOVE,this.domManager.removeContainer),this.router.listen((function(t,i){""==t.hash&&e.load(t).then(e.apply)})),document.addEventListener("click",this.onDocumentClick.bind(this))}},{key:"onDocumentClick",value:function(t){for(var i=t.target;i&&!this.retrieveHref(i);)i=i.parentNode;if(i&&this.preventClick(t,i)){t.preventDefault(),t.stopPropagation();var n=this.retrieveHref(i);e.push(n)}}},{key:"retrieveHref",value:function(e){if(e){var t=e.getAttribute&&e.getAttribute("xlink:href");if("string"==typeof t)return t;var i=e.href;if(i)return i}return!1}},{key:"preventClick",value:function(e,t){var i=this.retrieveHref(t),n=e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey,o=t.target&&"_blank"===t.target,r=window.location.protocol!==t.protocol||window.location.hostname!==t.hostname,s="string"===t.getAttribute("download"),a=t.classList.contains(this.domManager.ignoreClass),l=i&&i.includes("mailto:");return!(n||o||r||s||a||l)}}])&&Ee(t.prototype,i),n&&Ee(t,n),e}();function _e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.binders=[],this.raf=null,this.now=Date.now(),this.time=this.now,this.deltaTime=0,window.NSFW.RafDebug=e.debug}var t,i,n;return t=e,n=[{key:"start",value:function(){e.INSTANCE||(e.INSTANCE=new e),window.NSFW.isRafManagerStarted=!0,e.INSTANCE.update()}},{key:"stop",value:function(){window.cancelAnimationFrame(e.INSTANCE.raf),window.NSFW.isRafManagerStarted=!1}},{key:"bind",value:function(t,i){var n=e.INSTANCE;if("string"==typeof t)if("function"==typeof i){for(var o=0,r=n.binders.length;o<r;o++)if(n.binders[o].id===t)return void console.warn("RafManager :: Bind :: ID already used !",t);e.INSTANCE.binders.push({id:t,fn:i})}else console.error("RafManager :: Bind :: Invalid Function",i);else console.error("RafManager :: Bind :: Invalid ID",t)}},{key:"unbind",value:function(t){for(var i=e.INSTANCE,n=0,o=i.binders.length;n<o;n++)if(i.binders[n].id===t){i.binders.splice(n,1);break}}},{key:"debug",value:function(){console.table(e.INSTANCE.binders)}}],(i=[{key:"update",value:function(){this.now=Date.now(),this.deltaTime=this.now-this.time,this.time=this.now;for(var e=0,t=this.binders.length;e<t;e++)this.binders[e].fn(this.deltaTime);this.raf=window.requestAnimationFrame(this.update)}}])&&_e(t.prototype,i),n&&_e(t,n),e}();function Te(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.views={},this.watchers={}}var t,i,n;return t=e,n=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"bind",value:function(t,i){var n=e.instance,o=n.watchers;if(n.views[t]=i,i){var r=i.options.root,s=String(i.options.rootMargin),a=i.options.threshold;o[t]=new IntersectionObserver(n.update,{root:r,rootMargin:s,threshold:a}),o[t].observe(i.view)}}},{key:"unbind",value:function(t,i){var n=e.instance,o=n.watchers[t];o&&(delete n.views[t],i&&o.unobserve(i.view))}}],(i=[{key:"update",value:function(e){for(var t,i=0,n=e.length;i<n;i++)(t=this.views[e[i].target.dataset.intersectionId])&&t.update(e[i])}}])&&Te(t.prototype,i),n&&Te(t,n),e}();function Pe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this}var t,i,n;return t=e,(i=[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return isFinite(e)?(this.x*=scalar,this.y*=scalar):(this.x=0,this.y=0),this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"setLength",value:function(e){return this.multiplyScalar(e/this.length())}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"angle",value:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"rotateAround",value:function(e,t){var i=Math.cos(t),n=Math.sin(t),o=this.x-e.x,r=this.y-e.y;return this.x=o*i-r*n+e.x,this.y=o*n+r*i+e.y,this}}])&&Pe(t.prototype,i),n&&Pe(t,n),e}();function Ce(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.checkMouseDirection=t,NSFW.mouseSpeed=new Ae,NSFW.mouseLast=new Ae,NSFW.mouseDirection=new Ae,NSFW.mouse=new Ae,i&&window.setInterval(e.getSpeed,30),window.addEventListener("mousemove",e.move)}},{key:"move",value:function(t){e.checkMouseDirection&&e.getDirection(t),NSFW.mouse.set(t.clientX,t.clientY)}},{key:"getDirection",value:function(e){NSFW.mouse.x<e.pageX?NSFW.mouseDirection.x=1:NSFW.mouse.x>e.pageX?NSFW.mouseDirection.x=-1:NSFW.mouseDirection.x=0,NSFW.mouse.y<e.pageY?NSFW.mouseDirection.y=1:NSFW.mouse.y>e.pageY?NSFW.mouseDirection.y=-1:NSFW.mouseDirection.y=0}},{key:"getSpeed",value:function(){NSFW.mouseSpeed.x=NSFW.mouse.x-NSFW.mouseLast.x,NSFW.mouseSpeed.y=NSFW.mouse.y-NSFW.mouseLast.y,NSFW.mouseLast.copy(NSFW.mouse)}}],(i=null)&&Ce(t.prototype,i),n&&Ce(t,n),e}(),Re=i(65);function Ne(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$view=t,this.scrollDirection=this.$view.getAttribute("scroll-direction")||"vertical",NSFW.currentScrollTop=NSFW.currentScrollLeft=0,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){NSFW.locoScroll=new Re.a({el:this.$view,smooth:!0,getDirection:!0,direction:this.scrollDirection,lerp:.075}),NSFW.locoScroll.on("scroll",(function(e){NSFW.currentScrollTop=e.scroll.y,NSFW.currentScrollLeft=e.scroll.x,NSFW.currentScrollDirection=e.direction})),NSFW.locoScroll.on("call",(function(e){H.emit(B.START_STICKY_BOX,e)})),document.addEventListener("lazyloaded",(function(e){NSFW.locoScroll.update()})),gsap.delayedCall(.5,(function(){NSFW.locoScroll.update()}))}},{key:"dispose",value:function(){NSFW.locoScroll.destroy()}}])&&Ne(t.prototype,i),n&&Ne(t,n),e}();function De(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Me(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function We(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Fe=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&""!==t)if(i){this.id=t,this.view=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?De(Object(i),!0).forEach((function(t){Me(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):De(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{root:null,intersectionRatio:0,rootMargin:"0px",threshold:0},{},n),this.options.intersectionRatio&&"number"==typeof this.options.intersectionRatio||(this.options.intersectionRatio=0),this.visibility=!1,this.visible=!1,this.view.dataset.intersectionId=t,Le.bind(t,this)}else console.error("SmartView :: View is undefined");else console.error("SmartView :: Invalid ID")}var t,i,n;return t=e,(i=[{key:"update",value:function(e){this.visibility=e.intersectionRatio>this.options.intersectionRatio}},{key:"locate",value:function(){this.viewBounds=this.view.getBoundingClientRect(),this.offsetTop=NSFW.currentScrollTop+this.viewBounds.top,this.offsetBottom=this.offsetTop+this.viewBounds.height}},{key:"dispose",value:function(){Le.unbind(this.id,this),this.view=null,this.visibility=!1}}])&&We(t.prototype,i),n&&We(t,n),e}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e,t,i){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ye(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=function(e){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),He(this,Ye(t).call(this,e,i,n))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,e),i=t,(n=[{key:"update",value:function(e){Be(Ye(t.prototype),"update",this).call(this,e),this.visibility&&!this.visible?this.display():!this.visibility&&this.visible&&this.hide()}},{key:"display",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}}])&&Ve(i.prototype,n),o&&Ve(i,o),t}(Fe);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ke(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e,t,i){return(Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Je(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Ke(this,Je(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o.$svg=o.$view.getElementsByTagName("svg")[0],o.$paths=o.$svg.getElementsByTagName("path"),o.$view.classList.contains("more-to-reveal")?o.more=!0:o.more=!1,o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){var e=this;if(Ze(Je(t.prototype),"display",this).call(this),document.body.classList.contains("safari"))for(var i=0;i<this.$paths.length;i++)this.$paths[i].classList.add("add-clip-path-css");else this.more?gsap.to(this.$paths,{scaleY:1,duration:1.2,ease:"power3.out",stagger:.06}):setTimeout((function(){gsap.to(e.$paths,{scaleY:1,duration:1.2,ease:"power3.out",stagger:-.16})}),400)}},{key:"hide",value:function(){}},{key:"dispose",value:function(){Ze(Je(t.prototype),"dispose",this).call(this),this.$view=this.$svg=this.more=this.$paths=null}}])&&Xe(i.prototype,n),o&&Xe(i,o),t}(ze);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e,t,i){return(ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rt(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=nt(this,rt(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){ot(rt(t.prototype),"display",this).call(this),this.$view.classList.add("put-line")}},{key:"hide",value:function(){}},{key:"dispose",value:function(){ot(rt(t.prototype),"dispose",this).call(this),this.$view=null}}])&&it(i.prototype,n),o&&it(i,o),t}(ze);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e,t,i){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dt(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=ht(this,dt(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o.$links=o.$view.querySelectorAll(".news-link-js"),o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){var e=this;ut(dt(t.prototype),"display",this).call(this),setTimeout((function(){e.$view.classList.add("add-lines-top");for(var t=function(t){e.delay="50",e.delay=parseInt(t+1+e.delay),setTimeout((function(){e.$links[t].classList.add("add-lines")}),e.delay)},i=0;i<e.$links.length;i++)t(i);gsap.to(e.$links,{opacity:1,x:0,duration:1.25,ease:"power3.out",stagger:.25})}),400)}},{key:"hide",value:function(){}},{key:"dispose",value:function(){ut(dt(t.prototype),"dispose",this).call(this),this.$view=this.delay=this.$links=null}}])&&ct(i.prototype,n),o&&ct(i,o),t}(ze);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e,t,i){return(gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bt(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $t=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=mt(this,bt(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o.$links=o.$view.querySelector(".news-cat-component__wrapper"),o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){var e=this;gt(bt(t.prototype),"display",this).call(this),setTimeout((function(){gsap.to(e.$links,{opacity:1,y:0,duration:1.25,ease:"power3.out"})}),400)}},{key:"hide",value:function(){}},{key:"dispose",value:function(){gt(bt(t.prototype),"dispose",this).call(this),this.$view=this.delay=this.$links=null}}])&&vt(i.prototype,n),o&&vt(i,o),t}(ze);function St(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var kt=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.resetSlider=this.resetSlider.bind(this),this.initSlider=this.initSlider.bind(this),this.readyForReinit=this.readyForReinit.bind(this),this.$view=t,this.index=i,this.$slides=this.$view.querySelectorAll(".swiper-slide"),this.$el=this.$view.querySelector(".swiper"),this.next=this.$view.querySelector(".swiper-button-next"),this.prev=this.$view.querySelector(".swiper-button-prev"),this.heightOffset=0,this.atit=!1,this.initWidth=window.innerWidth,this.newWidth=0,this.initSlider(),o.bind("resize-slider-"+this.index,this.resetSlider),H.on(B.SLIDER_RESIZE_READY,this.readyForReinit)}var t,i,n;return t=e,(i=[{key:"readyForReinit",value:function(){this.swiper&&(this.swiper.destroy(),this.swiper=null),this.initSlider()}},{key:"resetSlider",value:function(){this.newWidth=window.innerWidth,this.newWidth!==this.initWidth&&H.emit(B.SLIDER_RESIZE),this.initWidth=this.newWidth}},{key:"initSlider",value:function(){var e=this;this.$slides.length>1?(window.innerWidth,this.swiper=new Swiper(this.$el,{loop:!0,loopedSlides:2,allowTouchMove:!1,navigation:{nextEl:this.next,prevEl:this.prev},effect:"fade",fadeEffect:{crossFade:!1},speed:800,autoplay:{delay:5e3,disableOnInteraction:!1}}),this.$view.querySelector(".swiper-slide-active").classList.add("add-clip-path"),this.$slides=this.$view.querySelectorAll(".swiper-slide"),this.swiper.on("slidePrevTransitionStart",(function(){if(!1===e.atit)for(var t=function(t){e.$slides[t].classList.contains("add-clip-path")?gsap.delayedCall(.4,(function(){e.$slides[t].classList.remove("add-clip-path")})):(gsap.set(e.$slides[t],{opacity:1}),parseInt(e.$slides[t].getAttribute("data-swiper-slide-index"))===e.swiper.realIndex&&(gsap.set(e.$slides[t],{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"}),e.$slides[t].classList.add("add-clip-path")))},i=0;i<e.$slides.length;i++)t(i)})),this.swiper.on("slideNextTransitionStart",(function(){if(!1===e.atit)for(var t=function(t){e.$slides[t].classList.contains("add-clip-path")?(e.$slides[t].classList.add("remove-transiton"),e.$slides[t].classList.remove("add-clip-path"),e.$slides[t].classList.remove("remove-transiton"),e.$slides[t].classList.add("add-transiton"),gsap.set(e.$slides[t],{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"})):(gsap.set(e.$slides[t],{opacity:1}),e.$slides[t].classList.add("remove-transiton"),parseInt(e.$slides[t].getAttribute("data-swiper-slide-index"))===e.swiper.realIndex&&(gsap.set(e.$slides[t],{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"}),e.$slides[t].classList.add("add-clip-path")),gsap.delayedCall(.4,(function(){e.$slides[t].classList.remove("remove-transiton")})))},i=0;i<e.$slides.length;i++)t(i)}))):(this.$slides[0].style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",this.$slides[0].style.opacity=1),H.emit(B.SLIDER_INIT_DONE)}},{key:"dispose",value:function(){o.unbind("resize-slider-"+this.index),H.off(B.SLIDER_RESIZE_READY,this.readyForReinit),this.$view=this.index=this.$slides=this.prev=this.next=this.$el=null,this.heightOffset=null,this.swiper.destroy(),this.swiper=null}}])&&St(t.prototype,i),n&&St(t,n),e}();function Et(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ot=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.initSlider=this.initSlider.bind(this),this.$view=t,this.index=i,this.$slides=this.$view.querySelectorAll(".swiper-slide"),this.$el=this.$view.querySelector(".swiper"),this.swiper=null,setTimeout((function(){n.initSlider(),o.bind("LogoCarrousel"+n.index,n.initSlider)}),1e3)}var t,i,n;return t=e,(i=[{key:"initSlider",value:function(){this.swiper&&(this.swiper.destroy(),this.swiper=null);var e=0;if(this.$slides){var t=!0,i=!1,n=void 0;try{for(var o,r=this.$slides[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)e+=o.value.offsetWidth+64}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}}e>window.innerWidth-64&&!this.swiper&&(this.swiper=new Swiper(this.$el,{loop:!0,slidesPerView:"auto",speed:1050,autoplay:{delay:3e3,disableOnInteraction:!1}}))}},{key:"dispose",value:function(){o.unbind("LogoCarrousel"+this.index,this.initSlider),this.$view=this.$slides=null,this.swiper&&(this.swiper.destroy(),this.swiper=null)}}])&&Et(t.prototype,i),n&&Et(t,n),e}();function _t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t||console.error("DisplayObject :: view is not valid."),this.click=this.click.bind(this),this.over=this.over.bind(this),this.out=this.out.bind(this),this.view=t,this.position={x:0,y:0,z:0},this.rotation={x:0,y:0,z:0},this.scale={x:1,y:1},this.alpha=1}var t,i,n;return t=e,(i=[{key:"render",value:function(){this.view.style.transform=this.view.style.webkitTransform="translate3d(".concat(this.position.x,"px,").concat(this.position.y,"px,").concat(this.position.z,"px) scale(").concat(this.scale.x,",").concat(this.scale.y,") rotateX(").concat(this.rotation.x,"deg) rotateY(").concat(this.rotation.y,"deg) rotateZ(").concat(this.rotation.z,"deg)"),this.view.style.opacity=this.alpha}},{key:"click",value:function(e){}},{key:"over",value:function(e){}},{key:"out",value:function(e){}},{key:"interactive",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.view.addEventListener("click",this.click),this.view.addEventListener("mouseover",this.over),this.view.addEventListener("mouseout",this.out)):(this.view.removeEventListener("click",this.click),this.view.removeEventListener("mouseover",this.over),this.view.removeEventListener("mouseout",this.out))}},{key:"buttonMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.view.style.cursor=e?"pointer":null}},{key:"pivot",value:function(e){var t=e.x,i=void 0===t?0:t,n=e.y,o=void 0===n?0:n;this.view.style.transformOrigin="".concat(i,"% ").concat(o,"%")}},{key:"move",value:function(e){var t=e.x,i=void 0===t?0:t,n=e.y,o=void 0===n?0:n;this.view.style.left="".concat(i,"px"),this.view.style.top="".concat(o,"px")}},{key:"dispose",value:function(){this.interactive(!1),this.click=this.over=this.out=null}}])&&_t(t.prototype,i),n&&_t(t,n),e}();function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Pt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function At(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ct(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e,t,i){return(jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rt(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var It=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=new xt(i);return(o=Ct(this,Rt(t).call(this,e,s.view,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(i),!0).forEach((function(t){Pt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Lt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{amplitude:200,smooth:.1,depth:1},{},r)))).displayObject=s,o.interpolation=0,xe.bind(o.id,(n=o).render.bind(n)),o.locate(),o.computeRatio(),o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(t,e),i=t,(n=[{key:"parallax",value:function(){this.visibility&&this.computeRatio(),this.interpolation=this.ratio*-this.options.amplitude,this.displayObject.position.y+=(this.interpolation-this.displayObject.position.y)*this.options.smooth}},{key:"computeRatio",value:function(){this.distance=NSFW.currentScrollTop+window.innerHeight-this.offsetTop,this.ratio=(Math.max(0,Math.min(this.distance/(window.innerHeight+this.viewHeight),1))-.5)*this.options.depth}},{key:"render",value:function(){this.parallax(),this.displayObject.render()}},{key:"locate",value:function(){jt(Rt(t.prototype),"locate",this).call(this),this.viewHeight=this.view.offsetHeight}},{key:"dispose",value:function(){xe.unbind(this.id),jt(Rt(t.prototype),"dispose",this).call(this)}}])&&At(i.prototype,n),o&&At(i,o),t}(Fe);function Dt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Mt=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.openCloseDrawer=this.openCloseDrawer.bind(this),this.calcHeight=this.calcHeight.bind(this),this.openNoClose=this.openNoClose.bind(this),this.$drawer=t,this.index=i,this.$question=this.$drawer.querySelector(".question-js"),this.$answer=this.$drawer.querySelector(".answer-js"),this.isOpened=!1,this.topMaxHeight=0,this.initHeight=this.$drawer.offsetHeight,this.wontClose=!1,this.addListeners(),this.$question.classList.contains("not-actual-question")&&1===this.$question.parentNode.parentNode.querySelectorAll(".question-js").length?(this.wontClose=!0,this.topMaxHeight="9999999",this.openNoClose()):(this.calcHeight(),o.bind("resize-qa-drawer-"+this.index,this.calcHeight))}var t,i,n;return t=e,(i=[{key:"openNoClose",value:function(){this.openCloseDrawer(),this.$question.removeEventListener("click",this.openCloseDrawer),this.$drawer.classList.add("drawer-opened-no-close")}},{key:"calcHeight",value:function(){document.body.classList.contains("mobile")||document.body.classList.contains("tablet")||window.innerWidth<=768?this.initMax=80:this.initMax=106,this.isOpened||(this.initHeight-11<this.$question.offsetHeight&&(this.initMax=this.$question.offsetHeight),this.$drawer.style.maxHeight=this.initMax+"px",this.topMaxHeight=this.$drawer.offsetHeight+this.$answer.offsetHeight+100)}},{key:"addListeners",value:function(){this.$question.addEventListener("click",this.openCloseDrawer)}},{key:"openCloseDrawer",value:function(){var e=this;!1===this.isOpened?(this.isOpened=!0,this.$drawer.classList.add("drawer-opened"),document.body.classList.contains("mobile")||document.body.classList.contains("tablet")?(gsap.fromTo(this.$answer,{opacity:0},{opacity:1,duration:1,ease:"power4.out"}),gsap.to(this.$drawer,{maxHeight:this.topMaxHeight+"px",duration:.5,ease:"power3.out",onComplete:function(){NSFW.locoScroll.update()}})):gsap.to(this.$drawer,{maxHeight:this.topMaxHeight+"px",duration:.5,ease:"power3.out",onComplete:function(){NSFW.locoScroll.update()}})):(this.$drawer.classList.remove("drawer-opened"),gsap.to(this.$drawer,{maxHeight:this.initMax+"px",duration:.5,ease:"power3.out",onComplete:function(){e.isOpened=!1,NSFW.locoScroll.update()}}))}},{key:"dispose",value:function(){this.$question.removeEventListener("click",this.openCloseDrawer),o.unbind("resize-qa-drawer-"+this.index),this.index=this.$drawer=this.$question=this.$answer=null,this.isOpened=this.initMax=this.topMaxHeight=null}}])&&Dt(t.prototype,i),n&&Dt(t,n),e}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qt=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.players=[],this.isLoadedApi=!1;var i="https://www.youtube.com/iframe_api";if(!(document.querySelectorAll('[src="'+i+'"]').length>0))new Promise((function(e,t){var n=document.createElement("script");n.onload=e,n.onerror=t,n.src=i,document.getElementsByTagName("head")[0].appendChild(n)})).then((function(){window.onYouTubeIframeAPIReady=function(){window.YTIsLoaded=!0,t.isLoadedApi=!0}}))}var t,i,n;return t=e,n=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"bind",value:function(t,i){var n=e.instance.players;if("string"==typeof t)if("object"===Wt(i)){for(var o=0;o<n.length;o++)if(t===n[o].id)return void console.warn("YoutubeManager :: Bind :: ID already used !",t);n.push(i)}else console.error("YoutubeManager :: Bind :: object",i);else console.error("YoutubeManager :: Bind :: Invalid ID",t)}},{key:"pauseAllPlayersExceptOneIsPlaying",value:function(t){for(var i=e.instance.players,n=t,o=0;o<i.length;o++)i[o].id!=n?(i[o].stop(),i[o].hasPoster&&i[o].displayPoster(),i[o].isPlaying=!1):(i[o].isPlaying=!0,!i[o].checkPercentView&&i[o].hasTracking&&i[o].percentViewed())}},{key:"stopAllPlayers",value:function(){for(var t=e.instance.players,i=0;i<t.length;i++)t[i].stop(),t[i].hasPoster&&t[i].displayPoster(),t[i].playerInfos.isPlaying=!1}},{key:"unbind",value:function(t){var i=e.instance.players;if("string"==typeof t)for(var n=0;n<i.length;n++)t===i[n].id&&i.splice(n,1);else console.error("YoutubeManager :: unBind :: Invalid ID",t)}}],(i=null)&&Ft(t.prototype,i),n&&Ft(t,n),e}();function Vt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ht(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Yt=function(){function e(t,i,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPlayerReady=this.onPlayerReady.bind(this),this.onPlayerStateChange=this.onPlayerStateChange.bind(this),this.onCreatePlayer=this.onCreatePlayer.bind(this),this.onClickPoster=this.onClickPoster.bind(this),this.addListeners=this.addListeners.bind(this),this.pause=this.pause.bind(this),this.play=this.play.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.onEnd=this.onEnd.bind(this),this.clearPercentCheck=this.clearPercentCheck.bind(this),this.checkVolume=this.checkVolume.bind(this),this.clearCheckVolume=this.clearCheckVolume.bind(this),this.$playerContainer=t,this.$player=this.$playerContainer.querySelector(".player"),this.$poster=this.$playerContainer.querySelector(".poster"),this.$videoPoster=this.$playerContainer.querySelector(".video-poster");this.ytID=n,this.id=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(i),!0).forEach((function(t){Ht(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{autoplay:!1,loop:!1,mute:!1,playsinline:1,poster:!1,tracking:!1,controls:2},{},r),this.hasControls=this.options.controls?1:0,this.hasAutoplay=this.options.autoplay?1:0,this.hasLoop=this.options.loop,this.muted=this.options.mute,this.hasPoster=1!==this.hasAutoplay&&this.options.poster,this.hasTracking=this.options.tracking,this.hasPlayInline=this.options.playsinline?1:0,this.done=!1,this.canCreatePlayer=!1,this.checkPercentView=null,this.checkSoundInterval=null,this.playerVolume=this.muted?0:1,this.playerInfos={id:this.id,isPlaying:!1,isLoaded:!1,isMuted:this.muted,tracking:0},this.$poster&&!this.hasPoster&&(this.$poster.style.display="none"),this.canCreatePlayer=setInterval((function(){window.YT&&window.YT.loaded&&o.onCreatePlayer()}),200)}var t,i,n;return t=e,(i=[{key:"onCreatePlayer",value:function(){clearInterval(this.canCreatePlayer),this.player=new YT.Player(this.$player,{height:"390",width:"640",videoId:this.ytID,playerVars:{rel:0,controls:this.hasControls,disablekb:0,showinfo:0,modestbranding:0,autoplay:this.hasAutoplay,playsinline:this.hasPlayInline,cc_load_policy:0,iv_load_policy:3},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})}},{key:"onPlayerReady",value:function(e){qt.bind(this.id,this),this.addListeners(),this.muted&&(e.target.mute(),this.player.setVolume(0)),this.playerInfos.isLoaded=!0,H.emit(F.YoutubePlayer.LOADED,this.playerInfos)}},{key:"onPlayerStateChange",value:function(e){e.data===YT.PlayerState.PAUSED&&(this.playerInfos.isPlaying=!1,this.hasTracking&&this.clearPercentCheck(),this.clearCheckVolume(),H.emit(F.YoutubePlayer.PAUSE,this.playerInfos)),e.data!=YT.PlayerState.PLAYING||this.done||(qt.pauseAllPlayersExceptOneIsPlaying(this.id),H.emit(F.YoutubePlayer.PLAY,this.playerInfos)),e.data==YT.PlayerState.ENDED&&(this.done=!0,this.stop(),this.onEnd(),this.hasLoop?this.player.playVideo():this.hasPoster&&this.displayPoster())}},{key:"addListeners",value:function(){this.hasPoster&&this.$poster.addEventListener("click",this.onClickPoster)}},{key:"onClickPoster",value:function(){this.hidePoster(),this.play()}},{key:"hidePoster",value:function(){H.emit(B.POSTER_REMOVED,this.id),this.$poster.style.display="none",this.$videoPoster&&(this.$videoPoster.currentTime=0,this.$videoPoster.pause())}},{key:"displayPoster",value:function(){H.emit(B.POSTER_ADDED,this.id),this.$poster.style.display="block",this.$videoPoster&&this.$videoPoster.play()}},{key:"play",value:function(){this.player&&(this.playerInfos.isPlaying=!0,this.player.playVideo())}},{key:"pause",value:function(){this.player.pauseVideo(),this.playerInfos.isPlaying=!1}},{key:"stop",value:function(){var e=this;this.playerInfos.isPlaying=!1,this.hasTracking&&this.clearPercentCheck(),this.player.seekTo(0),this.player.stopVideo(),!this.hasLoop&&this.hasPoster&&this.$poster&&this.displayPoster(),setTimeout((function(){e.done=!1}),200),H.emit(F.YoutubePlayer.STOP,this.playerInfos)}},{key:"checkVolume",value:function(){var e=this;this.player&&(this.checkSoundInterval=setInterval((function(){e.player.isMuted()&&!e.playerInfos.isMuted?(e.playerInfos.isMuted=!0,H.emit(F.YoutubePlayer.MUTE,e.playerInfos)):!e.player.isMuted()&&e.playerInfos.isMuted&&(e.playerInfos.isMuted=!1,H.emit(F.YoutubePlayer.MUTE,e.playerInfos))}),50))}},{key:"clearCheckVolume",value:function(){clearInterval(this.checkSoundInterval),this.checkSoundInterval=null}},{key:"toggleMute",value:function(){this.player.isMuted()?this.player.unMute():this.player.mute(),H.emit(F.YoutubePlayer.MUTE,this.playerInfos)}},{key:"unMute",value:function(){this.player.unMute()}},{key:"mute",value:function(){this.player.mute()}},{key:"percentViewed",value:function(){var e=this;this.checkPercentView||(this.checkPercentView=setInterval((function(){var t=e.player.getCurrentTime()/e.player.getDuration()*100;e.savePercentView(t)}),1e3))}},{key:"savePercentView",value:function(e){100!==this.playerInfos.tracking&&(e>25&&e<50&&25!=this.playerInfos.tracking?(this.playerInfos.tracking=25,H.emit(F.YoutubePlayer.TRACKING,this.playerInfos)):e>50&&e<75&&50!=this.playerInfos.tracking?(this.playerInfos.tracking=50,H.emit(F.YoutubePlayer.TRACKING,this.playerInfos)):e>75&&e<100&&75!=this.playerInfos.tracking&&(this.playerInfos.tracking=75,H.emit(F.YoutubePlayer.TRACKING,this.playerInfos)))}},{key:"clearPercentCheck",value:function(){clearInterval(this.checkPercentView),this.checkPercentView=null}},{key:"onEnd",value:function(){this.playerInfos.tracking&&this.hasTracking&&100!=this.playerInfos.tracking&&(this.playerInfos.tracking=100,H.emit(F.YoutubePlayer.END,this.playerInfos))}},{key:"dispose",value:function(){qt.unbind(this.id),this.$poster.removeEventListener("click",this.onClickPoster),this.player.destroy(),this.player=null,this.onPlayerReady=this.onPlayerStateChange=this.onCreatePlayer=this.onClickPoster=this.pause=this.play=this.addListeners=this.onEnd=this.checkVolume=this.clearPercentCheck=null,this.$playerContainer=this.$player=this.$poster=null,this.checkSoundInterval=null,this.ytID=this.id=null,this.options=this.hasAutoplay=this.hasLoop=this.muted=this.hasPoster=this.hasTracking=null,this.done=this.isPlaying=this.canCreatePlayer=this.checkPercentView=null}}])&&Bt(t.prototype,i),n&&Bt(t,n),e}();function Ut(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var zt=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.initPlayer=this.initPlayer.bind(this),this.removeLightBox=this.removeLightBox.bind(this),this.addLightBox=this.addLightBox.bind(this),this.startPlaying=this.startPlaying.bind(this),this.stop=this.stop.bind(this),this.makeReady=this.makeReady.bind(this),this.$view=t,this.index=i,this.$player=this.$view.querySelector(".player"),this.$poster=this.$view.querySelector(".poster"),this.videoId=this.$player.getAttribute("data-video-id"),this.$next=document.querySelector(".swiper-button-next"),this.$prev=document.querySelector(".swiper-button-prev"),this.wasPlaying=!1,this.playerParent=this.$player.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode,this.$blackBg=this.playerParent.querySelector(".video-overlay"),this.$title=document.querySelectorAll(".slider__slide-title"),this.tl=new TimelineMax({paused:!0,onReverseComplete:function(){gsap.set(n.$title,{backgroundColor:"#F1EFED"})}}),this.tl.fromTo(this.$blackBg,{display:"none",pointerEvents:"none"},{display:"block",pointerEvents:"all"}),this.tl.to(this.$blackBg,{duration:.5,opacity:1}),H.on(B.POSTER_ADDED,this.removeLightBox),H.on(B.POSTER_REMOVED,this.addLightBox),H.on(F.YoutubePlayer.PLAY,this.startPlaying),H.on(F.YoutubePlayer.LOADED,this.makeReady),this.initPlayer()}var t,i,n;return t=e,(i=[{key:"makeReady",value:function(){var e=this;this.$play=this.$view.querySelector(".poster__image-container-play").getElementsByTagName("span")[0],this.$loader=this.$view.querySelector(".loader"),setTimeout((function(){gsap.to(e.$loader,{opacity:0,duration:.3,onComplete:function(){e.$loader.style.display="none",e.$play.style.display="block",gsap.to(e.$play,{opacity:1,duration:.6})}})}),500)}},{key:"startPlaying",value:function(e){e.id==="youtube-player-"+this.index&&(this.wasPlaying=!0)}},{key:"addLightBox",value:function(e){}},{key:"removeLightBox",value:function(e){this.wasPlaying&&this.youtubePlayer.id===e&&(NSFW.locoScroll.start(),document.body.classList.contains("mobile")||document.body.classList.contains("tablet")||(this.tl.timeScale(1.1),this.tl.reverse(),this.wasPlaying=!1))}},{key:"stop",value:function(){this.youtubePlayer.stop()}},{key:"initPlayer",value:function(){-1!==this.videoId.search("&")&&(this.videoId=this.videoId.substring(0,this.videoId.indexOf("&"))),this.youtubePlayer=new Yt(this.$view,"youtube-player-"+this.index,this.videoId,{autoplay:!1,muted:!1,playsinline:!0,loop:!1,tracking:!1,poster:!0}),this.$blackBg.addEventListener("click",this.stop),this.$next&&(this.$next.addEventListener("click",this.stop),this.$prev.addEventListener("click",this.stop)),H.emit(B.YT_MANAGER_STARTED)}},{key:"dispose",value:function(){this.$blackBg.removeEventListener("click",this.stop),this.$next&&(this.$next.removeEventListener("click",this.stop),this.$prev.removeEventListener("click",this.stop)),H.off(B.POSTER_ADDED,this.removeLightBox),H.off(B.POSTER_REMOVED,this.addLightBox),H.off(F.YoutubePlayer.LOADED,this.makeReady),this.youtubePlayer&&this.youtubePlayer.dispose(),this.youtubePlayer=null,this.$view=null,this.index=null,this.$player=null,this.$poster=null,this.$blackBg=null,this.$prev=null,this.$next=null,this.wasPlaying=null,this.playerParent=null,this.tl=null,this.videoId=null}}])&&Ut(t.prototype,i),n&&Ut(t,n),e}();function Gt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Xt=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.resizeBtn=this.resizeBtn.bind(this),this.resetSlider=this.resetSlider.bind(this),this.initSlider=this.initSlider.bind(this),this.readyForReinit=this.readyForReinit.bind(this),this.$view=t,this.index=i,this.$slides=this.$view.querySelectorAll(".swiper-slide"),this.$el=this.$view.querySelector(".swiper-container"),this.next=this.$view.querySelector(".swiper-button-next"),this.prev=this.$view.querySelector(".swiper-button-prev"),this.heightOffset=0,this.atit=!1,this.initWidth=window.innerWidth,this.newWidth=0,this.initSlider(),o.bind("resize-slider-"+this.index,this.resetSlider),H.on(B.SLIDER_RESIZE_READY,this.readyForReinit)}var t,i,n;return t=e,(i=[{key:"readyForReinit",value:function(){this.swiper&&(this.swiper.destroy(),this.swiper=null),this.initSlider()}},{key:"resetSlider",value:function(){this.newWidth=window.innerWidth,this.newWidth!==this.initWidth&&H.emit(B.SLIDER_RESIZE),this.initWidth=this.newWidth}},{key:"resizeBtn",value:function(){this.heightOffset=this.$view.querySelector(".slider__slide-title").offsetHeight,window.innerWidth>768?(this.prev.style.top="calc(50% + "+this.heightOffset/2+"px)",this.next.style.top="calc(50% + "+this.heightOffset/2+"px)"):(this.prev.style.top="unset",this.next.style.top="unset")}},{key:"initSlider",value:function(){var e=this;this.$slides.length>1?(window.innerWidth>768?this.swiper=new Swiper(this.$el,{loop:!0,loopedSlides:1,allowTouchMove:!1,navigation:{nextEl:this.next,prevEl:this.prev},effect:"fade",fadeEffect:{crossFade:!1},speed:800}):this.swiper=new Swiper(this.$el,{loop:!0,loopedSlides:1,allowTouchMove:!1,navigation:{nextEl:this.next,prevEl:this.prev},speed:800,effect:"fade",fadeEffect:{crossFade:!1}}),this.next.style.display="block",this.prev.style.display="block",this.$view.querySelector(".swiper-slide-active").classList.add("add-clip-path"),this.$slides=this.$view.querySelectorAll(".swiper-slide"),document.body.classList.contains("mobile")||document.body.classList.contains("tablet")||(this.resizeBtn(),o.bind("resize-slider-btn-"+this.index,this.resizeBtn)),this.swiper.on("slidePrevTransitionStart",(function(){if(!1===e.atit)for(var t=function(t){e.$slides[t].classList.contains("add-clip-path")?gsap.delayedCall(.4,(function(){e.$slides[t].classList.remove("add-clip-path")})):(gsap.set(e.$slides[t],{opacity:1}),parseInt(e.$slides[t].getAttribute("data-swiper-slide-index"))===e.swiper.realIndex&&(gsap.set(e.$slides[t],{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"}),e.$slides[t].classList.add("add-clip-path")))},i=0;i<e.$slides.length;i++)t(i)})),this.swiper.on("slideNextTransitionStart",(function(){if(!1===e.atit)for(var t=function(t){e.$slides[t].classList.contains("add-clip-path")?(e.$slides[t].classList.add("remove-transiton"),e.$slides[t].classList.remove("add-clip-path"),e.$slides[t].classList.remove("remove-transiton"),e.$slides[t].classList.add("add-transiton"),gsap.set(e.$slides[t],{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"})):(gsap.set(e.$slides[t],{opacity:1}),e.$slides[t].classList.add("remove-transiton"),parseInt(e.$slides[t].getAttribute("data-swiper-slide-index"))===e.swiper.realIndex&&(gsap.set(e.$slides[t],{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"}),e.$slides[t].classList.add("add-clip-path")),gsap.delayedCall(.4,(function(){e.$slides[t].classList.remove("remove-transiton")})))},i=0;i<e.$slides.length;i++)t(i)}))):(this.$slides[0].style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",this.$slides[0].style.opacity=1),H.emit(B.SLIDER_INIT_DONE)}},{key:"dispose",value:function(){o.unbind("resize-slider-btn-"+this.index),o.unbind("resize-slider-"+this.index),H.off(B.SLIDER_RESIZE_READY,this.readyForReinit),this.$view=this.index=this.$slides=this.prev=this.next=this.$el=null,this.heightOffset=null,this.swiper.destroy(),this.swiper=null}}])&&Gt(t.prototype,i),n&&Gt(t,n),e}();function Kt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&t&&t(o)},NSFW.isIE&&(e+="?d="+Date.now()),o.open(i,e),"POST"===i?o.setRequestHeader("Content-type","application/x-www-form-urlencoded"):o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(n)}}],(i=null)&&Kt(t.prototype,i),n&&Kt(t,n),e}();function Jt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Qt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.windowClick=this.windowClick.bind(this),this.dispose=this.dispose.bind(this),this.init=this.init.bind(this),this.sendDataClick=this.sendDataClick.bind(this),this.initGForm=this.initGForm.bind(this),this.$element=t,this.confirmationLoaded=!1,this.isShowing=!1,this.reRender=!1,this.currentLanguage=document.querySelector("html").getAttribute("lang"),this.ajaxActionName="gf_get_form",this.hasSentData=!1,this.consent=!1,this.validationAttempted=!1,this.oneClicked=1,this.first,this.justLoaded=!0,this.formId=this.$element.getAttribute("data-form-id"),this.formSource=this.$element.getAttribute("data-form-source"),this.init(),window.addEventListener("click",this.windowClick)}var t,i,n;return t=e,(i=[{key:"windowClick",value:function(e){var t=document.querySelector(".chosen-results");t&&e.target!==document.querySelector(".chosen-search-input")&&(t.style.display="none",NSFW.locoScroll.start(),this.isShowing=!1)}},{key:"init",value:function(){var e=this,t={action:this.ajaxActionName,form_id:this.formId,lang:this.currentLanguage};this.formSource&&(t.source=this.formSource);var i=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");Zt.load("//".concat(window.location.hostname,"/wp/wp-admin/admin-ajax.php?")+i,(function(t){var i=JSON.parse(t.response),n=e;$.getMultiScripts(i.scripts).done((function(){H.emit(B.FORM_READY),jQuery(n.$element).html(i.form),setTimeout((function(){n.reRender=!0}),500),NSFW.locoScroll.update();var e=n.$element.getElementsByTagName("form")[0];if(!1===n.hasSentData)if(1==n.formId||3==n.formId){var t=e.getElementsByTagName("input")[0];n.hasSentData=!0,t.addEventListener("click",n.sendDataClick)}else n.hasSentData=!0,e.addEventListener("click",n.sendDataClick);jQuery(document).bind("gform_post_render",(function(e,t){NSFW.locoScroll.update();var i=n.$element.getElementsByTagName("form")[0];setTimeout((function(){if(!0===n.validationAttempted)if(n.validationAttempted=!1,1==n.formId||3==n.formId){var e=i.querySelector(".ginput_container_consent").getElementsByTagName("input")[0].checked;window.dataLayer.push({event:"newsletter",form:"submission failed",consent:e})}else 2==n.formId&&window.dataLayer.push({event:"lead_form",form:"submission failed"})}),200),!0===n.justLoaded?(n.justLoaded=!1,n.initGForm(!0)):n.initGForm(!1)})),jQuery(document).bind("gform_confirmation_loaded",(function(e,t){if(n.validationAttempted=!1,!1===n.confirmationLoaded){if(n.confirmationLoaded=!0,1===n.oneClicked&&""!==n.first&&void 0!==n.first)return n.first="",void window.dataLayer.push({event:"newsletter",form:"submission",consent:n.consent});if(2===n.oneClicked&&""!==n.first&&void 0!==n.first)return n.confirmationLoaded=!0,n.first="",void window.dataLayer.push({event:"lead_form",form:"submission"});setTimeout((function(){n.confirmationLoaded=!1}),500)}}))}))}),"GET")}},{key:"sendDataClick",value:function(e){1==this.formId||3==this.formId?window.dataLayer.push({event:"newsletter",form:"interaction"}):window.dataLayer.push({event:"lead_form",form:"interaction"}),1==this.formId||3==this.formId?e.target.removeEventListener("click",this.sendDataClick):this.$element.getElementsByTagName("form")[0].removeEventListener("click",this.sendDataClick)}},{key:"initGForm",value:function(e){var t=this,i=this.$element.getElementsByTagName("form")[0];i&&i.addEventListener("keypress",(function(e){"Enter"!==e.key||e.target.classList.contains("textarea")||(1==t.formId||3==t.formId?(t.consent=i.querySelector(".ginput_container_consent").getElementsByTagName("input")[0].checked,t.oneClicked=1):t.oneClicked=2,t.first="ok",i.submit(),t.validationAttempted=!0)})),i&&i.querySelector(".gform_footer").querySelector(".gform_button").addEventListener("click",(function(e){if(1==t.formId||3==t.formId?(t.consent=i.querySelector(".ginput_container_consent").getElementsByTagName("input")[0].checked,t.oneClicked=1):t.oneClicked=2,t.first="ok",6==t.formId){var n=document.querySelector(".newsletter-sub__form").offsetTop;NSFW.locoScroll.scrollTo(n)}i.submit(),t.validationAttempted=!0})),this.searchInput=document.querySelector(".chosen-search-input"),this.searchInput&&(document.querySelector(".chosen-single").style.opacity=e?.5:1,document.body.classList.contains("tablet")?this.searchInput.addEventListener("touchstart",(function(e){setTimeout((function(){var e=document.querySelector(".chosen-results"),n=document.querySelector(".chosen-single").getElementsByTagName("span")[0],o=e.getElementsByTagName("li");t.isShowing||(e.style.display="block",e.scrollTop=0,t.isShowing=!0,NSFW.locoScroll.stop()),n.innerHTML="";for(var r=0;r<o.length;r++)o[r].addEventListener("touchstart",(function(o){t.scroll=0,o.target.addEventListener("touchmove",(function(){t.scroll++})),o.target.addEventListener("touchend",(function(){0===t.scroll&&(e.style.display="none",t.isShowing=!1,NSFW.locoScroll.start(),n.parentNode.style.opacity=1,setTimeout((function(){i.getElementsByTagName("input")[4].focus()}),100))}))}),!1)}),100)})):(this.searchInput.addEventListener("keydown",(function(e){setTimeout((function(){var i=document.querySelector(".chosen-results"),n=document.querySelector(".chosen-single").getElementsByTagName("span")[0],o=i.getElementsByTagName("li");t.isShowing||(i.style.display="block",t.isShowing=!0,NSFW.locoScroll.stop()),"Enter"===e.key?(i.style.display="none",t.isShowing=!1,NSFW.locoScroll.start(),n.parentNode.style.opacity=1):n.innerHTML="";for(var r=0;r<o.length;r++)o[r].addEventListener("click",(function(){i.style.display="none",t.isShowing=!1,NSFW.locoScroll.start(),n.parentNode.style.opacity=1}),!1)}),100)})),this.searchInput.addEventListener("click",(function(){var e=document.querySelector(".chosen-results"),i=e.getElementsByTagName("li"),n=document.querySelector(".chosen-single").getElementsByTagName("span")[0];n.innerHTML="",e.scrollTop=0,t.isShowing||(e.style.display="block",t.isShowing=!0,NSFW.locoScroll.stop());for(var o=0;o<i.length;o++)i[o].addEventListener("click",(function(){e.style.display="none",NSFW.locoScroll.start(),t.isShowing=!1,n.parentNode.style.opacity=1}),!1)}),!1)))}},{key:"dispose",value:function(){jQuery(document).unbind("gform_post_render"),window.removeEventListener("click",this.windowClick),this.$element=this.confirmationLoaded=this.isShowing=this.reRender=null}}])&&Jt(t.prototype,i),n&&Jt(t,n),e}();$.getMultiScripts=function(e,t){var i=$.map(e,(function(e){return $.getScript((t||"")+e)}));return i.push($.Deferred((function(e){$(e.resolve)}))),$.when.apply($,i)};var ei=Qt;function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ii(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ni(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oi(e,t,i){return(oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ri(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ai=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=ni(this,ri(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){oi(ri(t.prototype),"display",this).call(this),gsap.set(this.$view,{opacity:1}),document.body.classList.contains("iOS")||document.body.classList.contains("iPadOS")?this.$view.classList.contains("left-image")?this.$view.classList.add("left-image-reveal-css"):this.$view.classList.add("image-reveal-css"):this.$view.classList.contains("left-image")?gsap.fromTo(this.$view,{clipPath:"polygon(100% 0%, 100% 0, 100% 100%, 100% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:1,ease:"power4.out"}):gsap.fromTo(this.$view,{clipPath:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:1,ease:"power4.out"})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){oi(ri(t.prototype),"dispose",this).call(this),this.$view=null}}])&&ii(i.prototype,n),o&&ii(i,o),t}(ze);function li(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ci=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.watchsize=this.watchsize.bind(this),this.$view=t,this.index=i,this.$image=this.$view.querySelector(".push-size-image-js"),this.$content=this.$view.querySelector(".push-size-wrapper-js"),this.$title=this.$view.querySelector(".push-size-title-js"),this.imgHeight=0,this.contentHeight=0,this.watchsize(),o.bind("resize-program-sizes-"+this.index,this.watchsize)}var t,i,n;return t=e,(i=[{key:"watchsize",value:function(){this.imgHeight=this.$image.offsetHeight,this.contentHeight=this.$content.offsetHeight,window.innerWidth>768?this.imgHeight>this.contentHeight?(this.$view.style.alignItems="center",this.$title.style.marginTop="0"):(this.$view.style.alignItems="flex-start",this.$title.style.marginTop="-12px"):this.$view.style.alignItems="flex-start"}},{key:"dispose",value:function(){o.unbind("resize-program-sizes-"+this.index),this.$view=this.index=this.$image=this.$content=null,this.imgHeight=this.contentHeight=null}}])&&li(t.prototype,i),n&&li(t,n),e}();function hi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ui=function(){function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$el=this.$view.querySelectorAll(".programms-home__element-content"),this.animate()}var t,i,n;return t=e,(i=[{key:"animate",value:function(){if(window.innerWidth>768&&this.$el)for(var e=0;e<this.$el.length;e++)this.$el[e].addEventListener("pointerenter",(function(e){var t=e.target.querySelector(".programms-home__element-content-text");gsap.to(t,{height:"auto"})})),this.$el[e].addEventListener("pointerleave",(function(e){var t=e.target.querySelector(".programms-home__element-content-text");gsap.to(t,{height:"0px"})}))}},{key:"dispose",value:function(){this.$view=this.$el=null}}])&&hi(t.prototype,i),n&&hi(t,n),e}();function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yi(e,t,i){return(yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gi=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=pi(this,vi(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o.$svg=o.$view.getElementsByTagName("svg")[0],o.$paths=o.$svg.getElementsByTagName("path"),o.options=o.options,o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){yi(vi(t.prototype),"display",this).call(this),this.options.reverse?gsap.to(this.$paths,{scaleY:0,duration:.3,ease:"power3.out",stagger:.03}):gsap.to(this.$paths,{scaleY:1,duration:.3,ease:"power3.out",stagger:.03})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){yi(vi(t.prototype),"dispose",this).call(this),this.$view=this.$svg=this.$paths=null}}])&&fi(i.prototype,n),o&&fi(i,o),t}(ze);function bi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$el=this.$view.querySelectorAll(".jobs-component__bottom-link"),this.animate()}var t,i,n;return t=e,(i=[{key:"animate",value:function(){var e=this;if(window.innerWidth>768&&this.$el)for(var t=function(t){e.$el[t].addEventListener("pointerenter",(function(e){var i=e.target.querySelector(".sun-reveal-hover-js");new gi("sun-reveal-hover-"+t,i,{reverse:!1})})),e.$el[t].addEventListener("pointerleave",(function(e){var i=e.target.querySelector(".sun-reveal-hover-js");new gi("sun-reveal-hover-"+t,i,{reverse:!0})}))},i=0;i<this.$el.length;i++)t(i)}},{key:"dispose",value:function(){this.$view=this.$el=null}}])&&bi(t.prototype,i),n&&bi(t,n),e}();function $i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Si=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toggleSelect=this.toggleSelect.bind(this),this.updateFilters=this.updateFilters.bind(this),this.$view=t,this.$cats=this.$view.querySelectorAll(".select-filter__item"),this.$title=this.$view.querySelector(".select-filter__button--text"),this.isOpened=!1,this.currentFilter=null,this.addListners(),this.onInit()}var t,i,n;return t=e,(i=[{key:"toggleSelect",value:function(){if(this.$view.classList.contains("filter-opened"))this.$view.classList.remove("filter-opened");else{for(var e=document.querySelectorAll(".filter-opened"),t=0;t<e.length;t++)e[t].classList.remove("filter-opened");this.$view.classList.add("filter-opened")}this.$view.classList.contains("filter-opened")?NSFW.locoScroll.scroll.stop=!0:NSFW.locoScroll.scroll.stop=!1}},{key:"addListners",value:function(){this.$view.addEventListener("click",this.toggleSelect);for(var e=0;e<this.$cats.length;e++)this.$cats[e].addEventListener("click",this.updateFilters)}},{key:"updateFilters",value:function(e){var t=e.target.getAttribute("data-slug"),i=e.target.innerHTML;this.currentFilter&&this.currentFilter.classList.remove("selected"),this.currentFilter=e.target,this.currentFilter.classList.add("selected"),this.$title.innerHTML=i,"all"===t&&(this.currentFilter.classList.remove("selected"),this.currentFilter=null,this.$title.innerHTML=this.$title.getAttribute("data-default"))}},{key:"onInit",value:function(){var e=this.$view.querySelector(".select-filter__item.selected");e&&(this.currentFilter=e,this.$title.innerHTML=e.innerHTML)}}])&&$i(t.prototype,i),n&&$i(t,n),e}();function ki(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.copyUrl=this.copyUrl.bind(this),this.$view=t,this.addListners()}var t,i,n;return t=e,(i=[{key:"addListners",value:function(){this.$view.addEventListener("click",this.copyUrl)}},{key:"copyUrl",value:function(){var e=this,t=window.location.href;t&&(this.$view.classList.add("is-copied"),navigator.clipboard.writeText(t).then((function(){e.isActive=!0}),(function(){console.log("fail")})),setTimeout((function(){e.$view.classList.remove("is-copied")}),2e3))}}])&&ki(t.prototype,i),n&&ki(t,n),e}();function Oi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _i=function(){function e(t,i){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=this.dispose,this.dispose).bind(n),this.loadEmbed=this.loadEmbed.bind(this),this.initObserver=this.initObserver.bind(this),this.$view=t,this.$pageName=t.getAttribute("data-page-name"),this.$source=t.getAttribute("data-source"),this.$site=t.getAttribute("data-site"),this.$emptyMsg=t.getAttribute("data-empty-msg"),this.$id=t.getAttribute("id"),this.$observer=null,this.loadEmbed(),this.initObserver()}var t,i,n;return t=e,(i=[{key:"loadEmbed",value:function(){rec_embed_js&&this.$pageName&&this.$source&&this.$site&&(rec_embed_js.load({widget_id:this.$id,page_name:this.$pageName,source:this.$source,site:this.$site,empty_job_msg:"No current Openings"}),setTimeout((function(){NSFW.locoScroll.update()}),100))}},{key:"initObserver",value:function(){this.$observer=new MutationObserver((function(e){NSFW.locoScroll.update()})),this.$observer.observe(this.$view,{attributes:!0,childList:!0,characterData:!0})}},{key:"dispose",value:function(){this.$observer.disconnect(),this.$view=this.$pageName=this.$source=this.$site=this.$emptyMsg=this.$id=null}}])&&Oi(t.prototype,i),n&&Oi(t,n),e}();function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Li(e,t){return!t||"object"!==xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pi(e,t,i){return(Pi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ai(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Li(this,Ai(t).call(this,e))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Pi(Ai(t.prototype),"beforeDisplay",this).call(this),this.initReveals=this.initReveals.bind(this),this.initVideos=this.initVideos.bind(this),this.initParallax=this.initParallax.bind(this),this.reInitVideos=this.reInitVideos.bind(this),this.needParallax=this.needParallax.bind(this),this.dispose=this.dispose.bind(this),this.paraInit=this.paraInit.bind(this),this.jobsTracking=this.jobsTracking.bind(this),this.init=this.init.bind(this),this.$view=document.querySelector(".view"),this.defaultColor="#3C495C",this.capitalMainColor="#4F5158",this.capitalSecondColor="#3F4047",this.sourcingMainColor="#343C5A",this.sourcingSecondColor="#282E49",this.leadershipMainColor="#D8D8D8",this.leadershipSecondColor="#D8D8D8",this.leadershipTextColor="#171717",this.defaultTextColor="#F1EFED",this.parallaxed=!1,this.playersInitedOnce=!1,this.initWidth=window.innerWidth,this.newWidth=0,this.event="",this.locoScroll=new Ie(this.$view),H.on(B.HOME_ANIM,this.initReveals),H.on(B.HOME_ANIM,this.initParallax),H.on(B.SLIDER_INIT_DONE,this.initVideos),H.on(B.SLIDER_RESIZE,this.reInitVideos),o.bind("resize-paralax-bv",this.needParallax),this.init(),this.$view.classList.contains("home")||(this.blockQuoteBs(),this.contactQuickFix())}},{key:"contactQuickFix",value:function(){var e=document.getElementsByTagName("footer")[0];e.previousElementSibling.classList.contains("contact")&&(e.previousElementSibling.style.top=0)}},{key:"blockQuoteBs",value:function(){var e=this.$view.getElementsByTagName("blockquote");if(e)for(var t=0;t<e.length;t++)e[t].getElementsByTagName("p")[0].textContent="“"+e[t].getElementsByTagName("p")[0].textContent+"”"}},{key:"paraInit",value:function(){if(this.$parallaxes=this.$view.querySelectorAll(".parallax-js"),this.$parallaxes){if(this.parallaxes=[],document.body.classList.contains("tablet")||document.body.classList.contains("mobile")){this.parallaxed=!0;for(var e=0;e<this.$parallaxes.length;e++){var t=this.$parallaxes[e],i={amplitude:t.getAttribute("data-amplitude")};this.parallaxes.push(new It("parallax"+e,t,i))}}else if(this.$view.querySelector(".mobile-parallax-problem-solver")&&window.innerWidth<=1024){this.parallaxes=[],this.parallaxed=!0;var n=this.$view.querySelector(".mobile-parallax-problem-solver"),o={amplitude:n.getAttribute("data-amplitude")};this.parallaxes.push(new It("parallax",n,o))}NSFW.locoScroll.update()}}},{key:"needParallax",value:function(){if(this.newWidth=window.innerWidth,this.newWidth!==this.initWidth)if(!1===this.parallaxed)this.paraInit();else if(this.parallaxes)if(document.body.classList.contains("tablet")||document.body.classList.contains("mobile")){for(var e=0;e<this.parallaxes.length;e++)this.parallaxes[e].dispose();this.parallaxes=this.$parallaxes=null,this.paraInit()}else this.$view.querySelector(".mobile-parallax-problem-solver")&&window.innerWidth<=1024&&(this.parallaxes[0].dispose(),this.parallaxes=this.$parallaxes=null,this.paraInit());this.initWidth=this.newWidth}},{key:"reInitVideos",value:function(){if(this.playersInitedOnce){if(NSFW.locoScroll.start(),this.$players)for(var e=0;e<this.$players.length;e++)this.players[e].dispose();this.players=null,H.emit(B.SLIDER_RESIZE_READY)}}},{key:"initVideos",value:function(){var e=this;if(this.$players=this.$view.querySelectorAll(".video-component__slider-container--slide"),this.$players)if(this.playersInitedOnce){this.players=[];for(var t=0;t<this.$players.length;t++)this.players[t]=new zt(this.$players[t],t)}else gsap.delayedCall(3,(function(){e.playersInitedOnce=!0,e.players=[];for(var t=0;t<e.$players.length;t++)e.players[t]=new zt(e.$players[t],t)}))}},{key:"init",value:function(){if("sourcing"===this.$view.getAttribute("data-page-color")?(document.documentElement.style.setProperty("--mainColor",this.sourcingMainColor),document.documentElement.style.setProperty("--secondColor",this.sourcingSecondColor),document.documentElement.style.setProperty("--textColor",this.defaultTextColor),document.documentElement.style.setProperty("--strokeColor",this.defaultTextColor)):"capital"===this.$view.getAttribute("data-page-color")?(document.documentElement.style.setProperty("--mainColor",this.capitalMainColor),document.documentElement.style.setProperty("--secondColor",this.capitalSecondColor),document.documentElement.style.setProperty("--textColor",this.defaultTextColor),document.documentElement.style.setProperty("--strokeColor",this.defaultTextColor)):"leadership"===this.$view.getAttribute("data-page-color")?(document.documentElement.style.setProperty("--mainColor",this.leadershipMainColor),document.documentElement.style.setProperty("--secondColor",this.leadershipSecondColor),document.documentElement.style.setProperty("--textColor",this.leadershipTextColor),document.documentElement.style.setProperty("--strokeColor",this.defaultTextColor)):"default"===this.$view.getAttribute("data-page-color")?(document.documentElement.style.setProperty("--mainColor",this.defaultColor),document.documentElement.style.setProperty("--secondColor","#2e3a47"),document.documentElement.style.setProperty("--textColor",this.defaultTextColor),document.documentElement.style.setProperty("--strokeColor",this.defaultTextColor)):(document.documentElement.style.setProperty("--mainColor",this.$view.getAttribute("data-page-color")),document.documentElement.style.setProperty("--secondColor","#2e3a47"),document.documentElement.style.setProperty("--textColor",this.defaultTextColor),document.documentElement.style.setProperty("--strokeColor",this.defaultTextColor)),this.$logoCarrousel=this.$view.querySelectorAll(".logo-carrousel"),this.$logoCarrousel){this.logoCarrousel=[];for(var e=0;e<this.$logoCarrousel.length;e++)this.logoCarrousel[e]=new Ot(this.$logoCarrousel[e],e)}if(!this.$view.classList.contains("home")){if(this.$questions=this.$view.querySelectorAll(".bloc-qa__question-container"),this.$questions){this.question=[];for(var t=0;t<this.$questions.length;t++)this.question[t]=new Mt(this.$questions[t],t)}if(this.$mobileDrawer=this.$view.querySelectorAll(".tab-component--mobile__element"),this.$mobileDrawer){this.mobileDrawer=[];for(var i=0;i<this.$mobileDrawer.length;i++)this.mobileDrawer[i]=new Mt(this.$mobileDrawer[i],i)}if(this.$sliderVideo=this.$view.querySelectorAll(".video-component"),this.$sliderVideo){this.sliderVideo=[];for(var n=0;n<this.$sliderVideo.length;n++)this.sliderVideo[n]=new Xt(this.$sliderVideo[n],n)}if(this.$jobLinks=this.$view.querySelectorAll(".jobs-component__bottom-link"),this.$jobLinks)for(var o=0;o<this.$jobLinks.length;o++)this.$jobLinks[o].addEventListener("click",this.jobsTracking)}if(this.$carrousel=this.$view.querySelectorAll(".carrousel"),this.$carrousel){this.carrousel=[];for(var r=0;r<this.$carrousel.length;r++)this.carrousel[r]=new kt(this.$carrousel[r],r)}if(this.$form=this.$view.querySelectorAll(".js-form"),this.$form){this.form=[];for(var s=0;s<this.$form.length;s++)this.form[s]=new ei(this.$form[s])}if(this.$wyzs=this.$view.querySelectorAll(".wyz-js"),this.$wyzs)for(var a=0;a<this.$wyzs.length;a++)if(this.$wyzs[a].getElementsByTagName("iframe").length>0){var l=this.$wyzs[a].getElementsByTagName("iframe");if(window.innerWidth<=768?(this.margins="40px 0",this.padding="100%"):(this.margins="70px 0",this.padding="56.25%"),l)for(var c=0;c<l.length;c++)l[c].parentNode.style.margin=this.margins,l[c].parentNode.style.paddingBottom=this.padding}if(this.$pushResize=this.$view.querySelectorAll(".push-size-js"),this.$pushResize){this.pushResize=[];for(var h=0;h<this.$pushResize.length;h++)this.pushResize[h]=new ci(this.$pushResize[h],h)}if(this.$programsHome=this.$view.querySelectorAll(".programms-home"),this.$programsHome){this.programsHome=[];for(var u=0;u<this.$programsHome.length;u++)this.programsHome[u]=new ui(this.$programsHome[u],u)}if(this.$jobsComponent=this.$view.querySelectorAll(".jobs-component"),this.$jobsComponent){this.jobsComponent=[];for(var d=0;d<this.$jobsComponent.length;d++)this.jobsComponent[d]=new wi(this.$jobsComponent[d],d)}if(this.$filterComponent=this.$view.querySelectorAll(".select-filter"),this.$filterComponent){this.filterComponent=[];for(var f=0;f<this.$filterComponent.length;f++)this.filterComponent[f]=new Si(this.$filterComponent[f],f)}if(this.$copyToClipboard=this.$view.querySelectorAll(".copy-to-clipboard"),this.$copyToClipboard){this.copyToClipboard=[];for(var p=0;p<this.$copyToClipboard.length;p++)this.copyToClipboard[p]=new Ei(this.$copyToClipboard[p],p)}if(this.$embedZohoForm=this.$view.querySelectorAll(".embed-zoho-js"),this.$embedZohoForm){this.embedZohoForm=[];for(var y=0;y<this.$embedZohoForm.length;y++)this.embedZohoForm[y]=new _i(this.$embedZohoForm[y],y)}}},{key:"jobsTracking",value:function(e){e.target.classList.contains("talent_bank")?this.event="talent_bank_view":this.event="open_post_view",window.dataLayer.push({event:this.event,job_post:e.target.getAttribute("data-job"),job_province:e.target.getAttribute("data-province"),job_salary:e.target.getAttribute("data-salary")})}},{key:"initParallax",value:function(){(window.innerWidth<=1024||document.body.classList.contains("tablet")||document.body.classList.contains("mobile"))&&this.paraInit()}},{key:"initReveals",value:function(){if(this.$sunReveals=this.$view.querySelectorAll(".sun-reveal-js"),this.sunReveals=[],this.$sunReveals)for(var e=0;e<this.$sunReveals.length;e++)this.sunReveals[e]=new et("sun-reveal-"+e,this.$sunReveals[e],e);if(this.$lineReveal=this.$view.querySelectorAll(".line-reveal-js"),this.lineReveal=[],this.$lineReveal)for(var t=0;t<this.$lineReveal.length;t++)this.lineReveal[t]=new at("line-reveal-"+t,this.$lineReveal[t],t);if(this.$newsCatReveal=this.$view.querySelectorAll(".news-cat-reveal-js"),this.$newsCatReveal){this.newsCatReveal=[];for(var i=0;i<this.$newsCatReveal.length;i++)this.newsCatReveal[i]=new $t("news-cat-reveal-"+i,this.$newsCatReveal[i],i)}if(this.$newsReveal=this.$view.querySelectorAll(".news-reveal-js"),this.$newsReveal){this.newsReveal=[];for(var n=0;n<this.$newsReveal.length;n++)this.newsReveal[n]=new pt("news-reveal-"+n,this.$newsReveal[n],n)}if(this.$imageReveals=this.$view.querySelectorAll(".image-reveal-js"),this.$imageReveals){this.imageReveals=[];for(var o=0;o<this.$imageReveals.length;o++)this.imageReveals[o]=new ai("images-reveal-"+o,this.$imageReveals[o],o)}}},{key:"enter",value:function(e,i){Pi(Ai(t.prototype),"enter",this).call(this,e,i),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Pageview",url:window.location.href}),setTimeout((function(){window.dispatchEvent(new Event("resize")),NSFW.locoScroll.update()}),500)}},{key:"dispose",value:function(){if(H.off(B.HOME_ANIM,this.initParallax),H.off(B.HOME_ANIM,this.initReveals),H.off(B.SLIDER_INIT_DONE,this.initVideos),H.off(B.SLIDER_RESIZE,this.reInitVideos),o.unbind("resize-paralax-bv"),Pi(Ai(t.prototype),"dispose",this).call(this),this.$logoCarrousel){for(var e=0;e<this.$logoCarrousel.length;e++)this.logoCarrousel[e].dispose();this.$logoCarrousel=null,this.logoCarrousel=null}if(this.$jobLinks)for(var i=0;i<this.$jobLinks.length;i++)this.$jobLinks[i].removeEventListener("click",this.jobsTracking);if(this.$jobLinks=null,this.$questions)for(var n=0;n<this.$questions.length;n++)this.question[n].dispose();if(this.question=this.$questions=null,this.event=null,this.$players)for(var r=0;r<this.$players.length;r++)this.players[r].dispose();if(this.players=this.$players=null,this.$sliderVideo)for(var s=0;s<this.$sliderVideo.length;s++)this.sliderVideo[s].dispose();if(this.sliderVideo=this.$sliderVideo=null,this.$form)for(var a=0;a<this.$form.length;a++)this.form[a].dispose();if(this.form=this.$form=null,this.locoScroll.dispose(),this.locoScroll=null,this.$sunReveals)for(var l=0;l<this.$sunReveals.length;l++)this.sunReveals[l].dispose();if(this.sunReveals=this.$sunReveals=null,this.$newsReveal)for(var c=0;c<this.$newsReveal.length;c++)this.newsReveal[c].dispose();if(this.newsReveal=this.$newsReveal=null,this.$lineReveal)for(var h=0;h<this.$lineReveal.length;h++)this.lineReveal[h].dispose();if(this.lineReveal=this.$lineReveal=null,this.$parallaxes)if(document.body.classList.contains("tablet")||document.body.classList.contains("mobile"))for(var u=0;u<this.parallaxes.length;u++)this.parallaxes[u].dispose();else this.$view.querySelector(".mobile-parallax-problem-solver")&&window.innerWidth<=1024&&this.parallaxes[0].dispose();if(this.parallaxes=this.$parallaxes=null,this.$imageReveals)for(var d=0;d<this.$imageReveals.length;d++)this.imageReveals[d].dispose();if(this.imageReveals=this.$imageReveals=null,this.$pushResize)for(var f=0;f<this.$pushResize.length;f++)this.pushResize[f].dispose();if(this.pushResize=this.$pushResize=this.playersInitedOnce=this.initWidth=this.newWidth=null,this.$embedZohoForm)for(var p=0;p<this.$embedZohoForm.length;p++)this.embedZohoForm[p].dispose()}}])&&Ti(i.prototype,n),r&&Ti(i,r),t}(U);function Ri(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ni=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.openDropdown=this.openDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.$view=t,this.$select=this.$view.querySelector(".hero-home__bottom-select--title"),this.$wrapper=this.$view.querySelector(".hero-home__bottom-select--choices"),this.$wrapper&&(this.$choices=this.$wrapper.querySelectorAll(".hero-choice"),this.$bottomWrapper=this.$view.querySelector(".hero-home__bottom-wrapper"),this.totalHieght=0,this.addListeners())}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){this.$select.addEventListener("click",this.openDropdown)}},{key:"openDropdown",value:function(){var e=this;gsap.set(this.$bottomWrapper,{zIndex:2}),gsap.set(this.$wrapper,{opacity:1}),gsap.to(this.$wrapper,{scaleY:1,duration:.6,ease:"power3.out"}),setTimeout((function(){gsap.to(e.$choices,{opacity:1,x:0,duration:.45,ease:"power2.out",stagger:{amount:.16,ease:"power3.Out"}})}),250),gsap.to(this.$select,{opacity:0,duration:.4,ease:"power3.out",delay:.3,onComplete:function(){window.addEventListener("click",e.closeDropdown)}})}},{key:"closeDropdown",value:function(){var e=this;gsap.set(this.$bottomWrapper,{zIndex:1}),gsap.to(this.$choices,{opacity:0,x:50,duration:.3,ease:"power2.out"}),gsap.to(this.$wrapper,{opacity:0,duration:.45,delay:.3,ease:"power2.out"}),gsap.to(this.$wrapper,{scaleY:0,duration:.45,delay:.1,ease:"power3.out"}),gsap.to(this.$select,{opacity:.5,duration:.3,delay:.35,ease:"power3.out",onComplete:function(){window.removeEventListener("click",e.closeDropdown),e.$select.style=""}})}},{key:"dispose",value:function(){window.removeEventListener("click",this.closeDropdown),this.$select&&this.$select.removeEventListener("click",this.openDropdown),this.$view=null,this.$select=null,this.$wrapper=null,this.$choices=null,this.totalHieght=null}}])&&Ri(t.prototype,i),n&&Ri(t,n),e}();function Ii(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Di=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.options=i,this.$leftShape=this.$view.querySelector(".hero-home__shape-bg").getElementsByTagName("svg")[0],this.$rightShape=this.$view.querySelector(".hero-home__shape-bg").getElementsByTagName("svg")[1],this.$leftPaths=this.$leftShape.getElementsByTagName("g")[0].getElementsByTagName("g")[0].getElementsByTagName("path"),this.$rightPaths=this.$rightShape.getElementsByTagName("g")[0].getElementsByTagName("g")[0].getElementsByTagName("path"),this.$top=this.$view.querySelector(".hero-home__top__left"),this.$bottom=this.$view.querySelectorAll(".hero-home__bottom-wrapper, .hero-home__top__right"),this.$leftArray=[],this.$rightArray=[],this.$leftArray.push(this.$leftPaths[3]);for(var n=0;n<this.$leftPaths.length;n++)3!==n&&this.$leftArray.push(this.$leftPaths[n]);this.$rightArray.push(this.$rightPaths[3]);for(var o=0;o<this.$rightPaths.length;o++)3!==o&&this.$rightArray.push(this.$rightPaths[o]);this.animate()}var t,i,n;return t=e,(i=[{key:"animate",value:function(){var e=this;if(window.innerWidth<=1024&&document.body.classList.contains("safari")){for(var t=0;t<this.$rightArray.length;t++)this.$rightArray[t].classList.add("add-right-clip-path-css");for(var i=0;i<this.$leftArray.length;i++)this.$leftArray[i].classList.add("add-left-clip-path-css")}else gsap.to(this.$rightArray,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",opacity:1,duration:.96,ease:"power4.out",stagger:.06,delay:.1}),setTimeout((function(){gsap.to(e.$leftArray,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",opacity:1,duration:.96,ease:"power4.out",stagger:{each:-.06,from:"start"}}),setTimeout((function(){H.emit(B.HOME_ANIM_DONE)}),1e3)}),650);gsap.to(this.$top,{opacity:1,x:0,y:0,duration:1.3,ease:"power3.out"}),gsap.to(this.$bottom,{opacity:1,x:0,y:0,duration:1.3,ease:"power3.out"})}},{key:"dispose",value:function(){this.$view=this.$leftShape=this.$rightShape=this.$leftPaths=this.$rightPaths=this.$top=this.$bottom=null}}])&&Ii(t.prototype,i),n&&Ii(t,n),e}();function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fi(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qi(e,t,i){return(qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Vi(e){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fi(this,Vi(t).call(this,"home"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){qi(Vi(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),this.initShapeParallax=this.initShapeParallax.bind(this),this.initRaf=this.initRaf.bind(this),this.$sunHover=this.$view.querySelector(".hero-home__shape-bg"),this.$sunContainer=this.$sunHover.getElementsByTagName("div")[0],this.$leftShape=this.$view.querySelector(".hero-home__shape-bg").getElementsByTagName("svg")[0],this.$rightShape=this.$view.querySelector(".hero-home__shape-bg").getElementsByTagName("svg")[1],this.$leftPaths=this.$leftShape.getElementsByTagName("g")[0].getElementsByTagName("g")[0].getElementsByTagName("path"),this.$rightPaths=this.$rightShape.getElementsByTagName("g")[0].getElementsByTagName("g")[0].getElementsByTagName("path"),this.select,this.initHome(),H.on(B.HOME_ANIM,this.anim),H.on(B.HOME_ANIM_DONE,this.initRaf),H.emit(B.CHANGE_LANG_URLS)}},{key:"initRaf",value:function(){document.body.classList.contains("mobile")||document.body.classList.contains("tablet")||xe.bind("raf-sun-parallax",this.initShapeParallax)}},{key:"initShapeParallax",value:function(){gsap.to(this.$sunContainer,{x:-(NSFW.mouse.x/25-30),y:-NSFW.mouse.y/25,rotateY:(window.innerWidth/2-NSFW.mouse.x)/125,rotateX:-(window.innerWidth/2-NSFW.mouse.y)/125,duration:2.2})}},{key:"anim",value:function(e){this.heroAnim=new Di(this.$view,e)}},{key:"initHome",value:function(){if(this.select=new Ni(this.$view),this.$sliderVideo=this.$view.querySelectorAll(".video-component"),this.$sliderVideo){this.sliderVideo=[];for(var e=0;e<this.$sliderVideo.length;e++)this.sliderVideo[e]=new Xt(this.$sliderVideo[e],e)}}},{key:"dispose",value:function(){if(H.off(B.HOME_ANIM_DONE,this.initShapeParallax),H.off(B.HOME_ANIM,this.anim),xe.unbind("raf-sun-parallax"),qi(Vi(t.prototype),"dispose",this).call(this),this.heroAnim.dispose(),this.heroAnim=null,this.select.dispose(),this.select=null,this.$programs)for(var e=0;e<this.$programs.length;e++)this.programs[e].dispose();this.programs=this.$programs=null,this.sunHover=null,this.$sunHover=null,this.$sunContainer=null}}])&&Wi(i.prototype,n),o&&Wi(i,o),t}(ji);function Yi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ui=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$text=this.$view.querySelector(".hero-flexible__text-container"),this.$content=this.$view.getElementsByTagName("section")[1],this.animate()}var t,i,n;return t=e,(i=[{key:"animate",value:function(){gsap.to(this.$text,{opacity:1,x:0,y:0,duration:1.7,ease:"power3.out"}),this.$content&&gsap.to(this.$content,{opacity:1,duration:1.7,ease:"power3.out"})}},{key:"dispose",value:function(){this.$view=this.$content=this.$text=null}}])&&Yi(t.prototype,i),n&&Yi(t,n),e}();function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xi(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ki(e,t,i){return(Ki="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ji(e,t){return(Ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xi(this,Zi(t).call(this,"generic"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ji(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Ki(Zi(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),H.on(B.HOME_ANIM,this.anim),H.emit(B.CHANGE_LANG_URLS)}},{key:"anim",value:function(){this.heroAnim=new Ui(this.$view)}},{key:"dispose",value:function(){Ki(Zi(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&Gi(i.prototype,n),o&&Gi(i,o),t}(ji);function en(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var tn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$lefElement=this.$view.querySelector(".hero-generic__top-left-content"),this.$rightShape=this.$view.querySelector(".hero-generic__top-right"),this.$bottom=this.$view.querySelector(".hero-generic__bottom-text"),this.animate()}var t,i,n;return t=e,(i=[{key:"animate",value:function(){this.$lefElement&&gsap.to(this.$lefElement,{opacity:1,x:0,y:0,duration:1.7,ease:"power3.out"}),this.$rightShape?(gsap.set(this.$rightShape,{opacity:1}),gsap.to(this.$rightShape,{opacity:1,x:0,y:0,duration:1.7,ease:"power3.out"})):(this.$title=this.$view.querySelector(".hero-flexible__text-container"),gsap.to(this.$title,{opacity:1,x:0,y:0,duration:1.7,ease:"power3.out"})),gsap.to(this.$bottom,{opacity:1,duration:1.7,ease:"power3.out"})}},{key:"dispose",value:function(){this.$view=this.$lefElement=this.$rightShape=this.$bottom=null}}])&&en(t.prototype,i),n&&en(t,n),e}();function nn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var on=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.changeProgram=this.changeProgram.bind(this),this.$view=t,this.$containers=this.$view.querySelectorAll(".tab-component__content"),this.$tabs=this.$view.querySelectorAll(".tab-component__left-tabs--link"),this.$stickyTabs=document.querySelector(".sticky-tabs-nav").querySelectorAll(".tab-component__left-tabs--link"),this.addListeners()}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){for(var e=0;e<this.$tabs.length;e++)this.$tabs[e].addEventListener("click",this.changeProgram),this.$stickyTabs[e].addEventListener("click",this.changeProgram)}},{key:"changeProgram",value:function(e){var t=this;this.index=e.target.getAttribute("data-container-index");for(var i=function(e){t.$containers[e].classList.contains("active-tab")&&gsap.to(t.$containers[e],{opacity:0,x:100,duration:.5,ease:"power4.out",onComplete:function(){t.$containers[e].classList.remove("active-tab"),t.$containers[e].style.display="none";for(var i=function(e){t.$containers[e].getAttribute("data-container-index")===t.index&&(t.$containers[e].style.display="block",gsap.fromTo(t.$containers[e],{opacity:0,x:-100},{opacity:1,x:0,duration:.5,ease:"power3.out",onComplete:function(){t.$containers[e].classList.add("active-tab"),NSFW.locoScroll.update()}}))},n=0;n<t.$containers.length;n++)i(n)}})},n=0;n<this.$containers.length;n++)i(n);for(var o=0;o<this.$tabs.length;o++)this.$tabs[o].classList.contains("active-tab")&&(this.$tabs[o].classList.remove("active-tab"),this.$stickyTabs[o].classList.remove("active-tab"));this.$tabs[e.target.getAttribute("data-container-index")].classList.add("active-tab"),this.$stickyTabs[e.target.getAttribute("data-container-index")].classList.add("active-tab"),NSFW.locoScroll.scrollTo(document.querySelector(".tab-component"),{duration:150})}},{key:"dispose",value:function(){for(var e=0;e<this.$tabs.length;e++)this.$tabs[e].removeEventListener("click",this.changeProgram);this.$containers=this.$tabs=this.$index=this.$view=null}}])&&nn(t.prototype,i),n&&nn(t,n),e}();function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function an(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e,t,i){return(ln="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=function(e){function t(e,i){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=an(this,cn(t).call(this,e,i,r))).dispose=(n=o).dispose.bind(n),o.$view=i,o.$box=o.$view.querySelector(".box"),o.$box&&(o.$box.style.position="relative"),o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){ln(cn(t.prototype),"display",this).call(this),this.$box&&(this.$box.style.position="absolute")}},{key:"hide",value:function(){ln(cn(t.prototype),"hide",this).call(this),(NSFW.currentScrollTop>this.$view.offsetTop+this.$view.offsetHeight-300||NSFW.currentScrollTop<this.$view.offsetTop)&&this.$box&&(this.$box.style.position="relative")}},{key:"dispose",value:function(){ln(cn(t.prototype),"dispose",this).call(this),this.$view=this.$box=null}}])&&sn(i.prototype,n),o&&sn(i,o),t}(ze);function dn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.hideShowStickyNav=this.hideShowStickyNav.bind(this),this.isStickyNeeded=this.isStickyNeeded.bind(this),this.$view=t,this.$tabsNav=this.$view.querySelector(".tab-top__container"),this.$stickyNav=document.createElement("div"),this.$stickyNav.appendChild(this.$tabsNav.cloneNode(!0)),this.$stickyContainer=document.querySelector(".sticky-tabs-nav"),this.$stickyContainer.appendChild(this.$stickyNav),window.innerWidth>768&&(this.hideShowStickyNav(),NSFW.locoScroll.on("scroll",this.hideShowStickyNav)),o.bind("sticky-nav-resize",this.isStickyNeeded)}var t,i,n;return t=e,(i=[{key:"isStickyNeeded",value:function(){window.innerWidth>768&&this.$view.querySelectorAll(".tab-component__left-tabs--link").length>1?NSFW.locoScroll.on("scroll",this.hideShowStickyNav):(NSFW.locoScroll.off("scroll",this.hideShowStickyNav),gsap.to(this.$stickyContainer,{opacity:0,pointerEvents:"none",duration:.3,ease:"power3.out"}))}},{key:"hideShowStickyNav",value:function(){NSFW.currentScrollTop>this.$view.offsetTop+50&&NSFW.currentScrollTop<=this.$view.offsetTop+this.$view.offsetHeight-150?gsap.to(this.$stickyContainer,{opacity:1,pointerEvents:"all",duration:.3,ease:"power3.out"}):(NSFW.currentScrollTop>this.$view.offsetTop+50&&(NSFW.currentScrollTop,this.$view.offsetTop,this.$view.offsetHeight),gsap.to(this.$stickyContainer,{opacity:0,pointerEvents:"none",duration:.3,ease:"power3.out"}))}},{key:"dispose",value:function(){o.unbind("sticky-nav-resize"),NSFW.locoScroll.off("scroll",this.hideShowStickyNav),this.$stickyContainer.removeChild(this.$stickyNav),this.$view=this.$tabsNav=this.$stickyNav=this.$stickyContainer=null}}])&&dn(t.prototype,i),n&&dn(t,n),e}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vn(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mn(e,t,i){return(mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vn(this,gn(t).call(this,"programs"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){mn(gn(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.animate=this.animate.bind(this),this.goToAnchor=this.goToAnchor.bind(this),this.addAnchor=this.addAnchor.bind(this),this.$box=this.$view.querySelector(".box"),this.$content=this.$view.querySelector(".tab-component__content"),this.$talkTo=this.$view.querySelectorAll(".talk-js"),this.$talkToHead=this.$view.querySelector(".hero-generic__top-left-content--btn"),H.on(B.HOME_ANIM,this.animate),H.on(B.FORM_READY,this.addAnchor),this.initProgSwitch(),H.emit(B.CHANGE_LANG_URLS)}},{key:"initProgSwitch",value:function(){this.$tabComponent=this.$view.querySelector(".tab-component"),this.$tabComponent&&(this.stickyTabsNav=new fn(this.$tabComponent),this.progSwitches=new on(this.$tabComponent),document.body.classList.contains("safari")&&(this.safaribox=new un("safari-box",this.$tabComponent,"")))}},{key:"goToAnchor",value:function(){this.$contact&&(this.destination=this.$contact,window.innerWidth>768?NSFW.locoScroll.scrollTo(this.destination,{offset:-200}):NSFW.locoScroll.scrollTo(this.destination,{offset:-400}))}},{key:"addAnchor",value:function(){var e=this;setTimeout((function(){if(e.$contact=e.$view.querySelector(".contact-form--options"),e.$contact){if(e.$talkTo)for(var t=0;t<e.$talkTo.length;t++)e.$talkTo[t].addEventListener("click",e.goToAnchor);e.$talkToHead&&e.$talkToHead.addEventListener("click",e.goToAnchor)}}),10)}},{key:"animate",value:function(){this.heroAnim=new tn(this.$view)}},{key:"dispose",value:function(){if(H.off(B.HOME_ANIM,this.animate),H.off(B.FORM_READY,this.addAnchor),this.$talkTo)for(var e=0;e<this.$talkTo.length;e++)this.$talkTo[e].removeEventListener("click",this.goToAnchor);this.$talkToHead&&this.$talkToHead.removeEventListener("click",this.goToAnchor),this.heroAnim.dispose(),this.heroAnim=null,this.$tabComponent&&(this.progSwitches.dispose(),this.stickyTabsNav.dispose(),document.body.classList.contains("safari")&&this.safaribox.dispose()),this.$tabComponent=this.stickyTabsNav=this.progSwitches=null,this.safaribox=null,mn(gn(t.prototype),"dispose",this).call(this),this.box=null,this.$content=null,this.$talkTo=null}}])&&yn(i.prototype,n),o&&yn(i,o),t}(ji);function $n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Sn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$left=this.$view.querySelector(".contact__left"),this.$right=this.$view.querySelector(".contact__right"),this.animate()}var t,i,n;return t=e,(i=[{key:"animate",value:function(){gsap.to(this.$left,{opacity:1,x:0,y:0,duration:1.7,ease:"power3.out"}),gsap.to(this.$right,{opacity:1,x:0,y:0,duration:1.7,ease:"power3.out"})}},{key:"dispose",value:function(){this.$view=this.$left=this.$right=null}}])&&$n(t.prototype,i),n&&$n(t,n),e}();function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function On(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _n(e,t,i){return(_n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),On(this,xn(t).call(this,"newsletter"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){_n(xn(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),H.emit(B.CHANGE_LANG_URLS),H.on(B.HOME_ANIM,this.anim)}},{key:"anim",value:function(){this.heroAnim=new Sn(this.$view)}},{key:"dispose",value:function(){_n(xn(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&En(i.prototype,n),o&&En(i,o),t}(ji);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jn(e,t,i){return(jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cn(this,Rn(t).call(this,"newsletter-sub"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){jn(Rn(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),H.emit(B.CHANGE_LANG_URLS),H.on(B.HOME_ANIM,this.anim)}},{key:"anim",value:function(){this.heroAnim=new Di(this.$view)}},{key:"dispose",value:function(){jn(Rn(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&An(i.prototype,n),o&&An(i,o),t}(ji);function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wn(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e,t,i){return(Fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wn(this,qn(t).call(this,"news"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){if(Fn(qn(t.prototype),"beforeDisplay",this).call(this),this.ajaxActionName="news_load_more",this.pageNumber=1,this.pageUrl="",this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),this.makeAjaxCall=this.makeAjaxCall.bind(this),this.changeCatAjax=this.changeCatAjax.bind(this),this.$loadMore=this.$view.querySelector(".news__more-btn"),this.$newsContainer=this.$view.querySelector(".news-component__bottom"),this.$loader=this.$view.querySelector(".loader"),this.$links=this.$view.querySelectorAll(".news-component__bottom-link"),this.$cats=this.$view.querySelectorAll(".news__cat-btn"),this.$currentCat=this.$view.querySelector(".news__cat-btn.selected"),this.$cats)for(var e=0;e<this.$cats.length;e++)this.$cats[e].addEventListener("click",this.changeCatAjax);this.$loadMore&&(this.$loadMore.addEventListener("click",this.makeAjaxCall),this.pageNumber=parseInt(this.$loadMore.getAttribute("data-next-page")),this.pageUrl=this.$loadMore.getAttribute("data-url"),this.$currentCat&&(this.pageCat=this.$currentCat.getAttribute("data-cat")),this.$loadMore.removeAttribute("data-next-page"),this.$loadMore.removeAttribute("data-url")),H.on(B.HOME_ANIM,this.anim),H.emit(B.CHANGE_LANG_URLS)}},{key:"makeAjaxCall",value:function(e){var t=this;e&&e.preventDefault();var i={action:this.ajaxActionName,page_number:this.pageNumber};this.pageCat&&(i.cat=this.pageCat);var n=Object.keys(i).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])})).join("&");gsap.to(this.$loader,{duration:.5,opacity:1,ease:"power3.out"}),gsap.to(this.$links,{duration:.5,opacity:.3,ease:"power3.out"}),Zt.load("//"+window.location.hostname+"/wp/wp-admin/admin-ajax.php",(function(e){var i=JSON.parse(e.response);t.pageNumber=t.pageNumber+1,t.$newsContainer.innerHTML=t.$newsContainer.innerHTML+i.html,t.$loader=document.querySelector(".loader"),t.$links=document.querySelectorAll(".news-component__bottom-link"),gsap.to(t.$loader,{duration:.4,opacity:0,ease:"power3.out"}),gsap.to(t.$links,{duration:.2,opacity:1,ease:"power3.out"}),i.load_more?t.$loadMore&&(t.$loadMore.style.display="",t.$loadMore.setAttribute("href",t.pageUrl+"?"+(t.pageCat?"cat="+t.pageCat+"&":"")+"pages=2")):t.$loadMore&&(t.$loadMore.style.display="none"),t.loadMoreReveals(),NSFW.locoScroll.update(),window.history.pushState("page"+t.pageNumber,document.title,t.pageUrl+"?"+(t.pageCat?"cat="+t.pageCat+"&":"")+"pages="+t.pageNumber)}),"POST",n)}},{key:"loadMoreReveals",value:function(){var e=this,t=this.$view.querySelectorAll(".news-link-js:not(.add-lines)");t&&setTimeout((function(){for(var i=function(i){e.delay="50",e.delay=parseInt(i+1+e.delay),setTimeout((function(){t[i].classList.add("add-lines")}),e.delay)},n=0;n<t.length;n++)i(n);gsap.to(t,{opacity:1,x:0,duration:1.25,ease:"power3.out",stagger:.25})}),400)}},{key:"changeCatAjax",value:function(e){var t=this;e&&e.preventDefault();var i=e.target.parentElement,n=i.getAttribute("data-cat");if(n!==this.pageCat){this.$currentCat.classList.remove("selected"),i.classList.add("selected"),this.$currentCat=i,this.pageCat=n;var o={action:this.ajaxActionName,page_number:0,cat:n+""},r=Object.keys(o).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&");gsap.to(this.$loader,{duration:.5,opacity:1,ease:"power3.out"}),gsap.to(this.$links,{duration:.5,opacity:.3,ease:"power3.out"}),Zt.load("//"+window.location.hostname+"/wp/wp-admin/admin-ajax.php",(function(e){var i=JSON.parse(e.response);t.pageNumber=1,t.$newsContainer.innerHTML=i.html,t.$loader=document.querySelector(".loader"),t.$links=document.querySelectorAll(".news-component__bottom-link"),gsap.to(t.$loader,{duration:.4,opacity:0,ease:"power3.out"}),gsap.to(t.$links,{duration:.2,opacity:1,ease:"power3.out"}),i.load_more?t.$loadMore&&(t.$loadMore.style.display="",t.$loadMore.setAttribute("href",t.pageUrl+"?"+(n?"cat="+n+"&":"")+"pages=2")):t.$loadMore&&(t.$loadMore.style.display="none"),t.loadMoreReveals(),NSFW.locoScroll.update(),window.history.pushState("page"+t.pageNumber,document.title,t.pageUrl+(n?"?cat="+n:""))}),"POST",r)}}},{key:"anim",value:function(){this.heroAnim=new Ui(this.$view)}},{key:"dispose",value:function(){Fn(qn(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.$loadMore&&(this.$loadMore.removeEventListener("click",this.makeAjaxCall),this.$loadMore.remove(),this.$loadMore=null),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&Mn(i.prototype,n),o&&Mn(i,o),t}(ji);function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e,t,i){return(zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,Gn(t).call(this,"news-item"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){zn(Gn(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),H.on(B.HOME_ANIM,this.anim),H.emit(B.CHANGE_LANG_URLS)}},{key:"anim",value:function(){this.heroAnim=new Ui(this.$view)}},{key:"dispose",value:function(){zn(Gn(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&Yn(i.prototype,n),o&&Yn(i,o),t}(ji);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qn(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eo(e,t,i){return(eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=to(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var no=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qn(this,to(t).call(this,"jobs"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){eo(to(t.prototype),"beforeDisplay",this).call(this),this.ajaxActionName="jobs_load_more",this.pageNumber=1,this.pageUrl="",this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),this.makeAjaxCall=this.makeAjaxCall.bind(this),this.changeCatAjax=this.changeCatAjax.bind(this),this.$loadMore=this.$view.querySelector(".jobs__more-btn"),this.$jobsContainer=this.$view.querySelector(".listing-jobs__grid"),this.$loader=this.$view.querySelector(".loader"),this.$links=this.$view.querySelectorAll(".jobs-component__bottom-link"),this.$category=this.$view.querySelector(".listing-jobs__grid").getAttribute("data-category"),this.$regions=this.$view.querySelectorAll(".select-filter__item--region"),this.$industries=this.$view.querySelectorAll(".select-filter__item--industry");var e=this.$view.querySelector(".select-filter__item--industry.selected"),i=this.$view.querySelector(".select-filter__item--region.selected");if(this.$currentIndustry=e?e.getAttribute("data-slug"):"",this.$currentRegion=i?i.getAttribute("data-slug"):"",this.$regions)for(var n=0;n<this.$regions.length;n++)this.$regions[n].addEventListener("click",this.changeCatAjax);if(this.$industries)for(var o=0;o<this.$industries.length;o++)this.$industries[o].addEventListener("click",this.changeCatAjax);this.$loadMore&&(this.$loadMore.addEventListener("click",this.makeAjaxCall),this.pageNumber=parseInt(this.$loadMore.getAttribute("data-next-page")),this.pageUrl=this.$loadMore.getAttribute("data-url"),this.$loadMore.removeAttribute("data-next-page"),this.$loadMore.removeAttribute("data-url")),H.on(B.HOME_ANIM,this.anim),H.emit(B.CHANGE_LANG_URLS)}},{key:"anim",value:function(){this.heroAnim=new tn(this.$view)}},{key:"makeAjaxCall",value:function(e){var t=this;e&&e.preventDefault();var i={action:this.ajaxActionName,page_number:this.pageNumber+1,category:this.$category,region:this.$currentRegion,industry:this.$currentIndustry,lang:"fr"},n=Object.keys(i).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])})).join("&");gsap.to(this.$loader,{duration:.5,opacity:1,ease:"power3.out"}),gsap.to(this.$links,{duration:.5,opacity:.3,ease:"power3.out"}),Zt.load("//"+window.location.hostname+"/wp/wp-admin/admin-ajax.php",(function(e){var i=JSON.parse(e.response);t.pageNumber=t.pageNumber+1,t.$jobsContainer.innerHTML=t.$jobsContainer.innerHTML+i.html,t.$loader=document.querySelector(".loader"),t.$links=document.querySelectorAll(".jobs-component__bottom-link"),t.animJobs(),gsap.to(t.$loader,{duration:.5,opacity:0,ease:"power3.out"}),gsap.to(t.$links,{duration:.5,opacity:1,ease:"power3.out"}),i.load_more?t.$loadMore&&(t.$loadMore.style.display="",t.$loadMore.setAttribute("href",t.pageUrl+"?pages="+t.pageNumber)):t.$loadMore&&(t.$loadMore.style.display="none"),t.loadMoreReveals(),NSFW.locoScroll.update();var n="";t.$currentIndustry&&(n="&ind="+t.$currentIndustry),t.$currentRegion&&(n=n+"&reg="+t.$currentRegion),window.history.pushState("page"+t.pageNumber,document.title,t.pageUrl+"?pages="+t.pageNumber+n)}),"POST",n)}},{key:"loadMoreReveals",value:function(){var e=this,t=this.$view.querySelectorAll(".news-link-js:not(.add-lines)");t&&setTimeout((function(){for(var i=function(i){e.delay="50",e.delay=parseInt(i+1+e.delay),setTimeout((function(){t[i].classList.add("add-lines")}),e.delay)},n=0;n<t.length;n++)i(n);gsap.to(t,{opacity:1,x:0,duration:1.25,ease:"power3.out",stagger:.25})}),400)}},{key:"changeCatAjax",value:function(e){var t=this;e&&e.preventDefault();var i=e.currentTarget.getAttribute("data-slug"),n=e.target.closest(".select-filter").getAttribute("data-name");if("region"===n){if(i===this.$currentRegion)return;this.$currentRegion=i,"all"===i&&(this.$currentRegion="")}if("industries"===n){if(i===this.$currentIndustry)return;this.$currentIndustry=i,"all"===i&&(this.$currentIndustry="")}var o={action:this.ajaxActionName,page_number:-1,category:this.$category,region:this.$currentRegion,industry:this.$currentIndustry},r=Object.keys(o).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&");gsap.to(this.$loader,{duration:.5,opacity:1,ease:"power3.out"}),gsap.to(this.$links,{duration:.5,opacity:.3,ease:"power3.out"}),Zt.load("//"+window.location.hostname+"/wp/wp-admin/admin-ajax.php",(function(e){var i=JSON.parse(e.response);t.$jobsContainer.innerHTML=i.html,t.$loader=document.querySelector(".loader"),t.$links=document.querySelectorAll(".jobs-component__bottom-link"),t.animJobs(),gsap.to(t.$loader,{duration:.5,opacity:0,ease:"power3.out"}),gsap.to(t.$links,{duration:.5,opacity:1,ease:"power3.out"}),i.load_more?t.$loadMore&&(t.$loadMore.style.display="",t.$loadMore.setAttribute("href",t.pageUrl+"?pages="+t.pageNumber)):t.$loadMore&&(t.$loadMore.style.display="none"),t.loadMoreReveals(),NSFW.locoScroll.update();var n="";t.$currentIndustry&&(n="&ind="+t.$currentIndustry),t.$currentRegion&&(n=n+"&reg="+t.$currentRegion),t.pageNumber=1,window.history.pushState("page"+t.pageNumber,document.title,t.pageUrl+"?pages="+t.pageNumber+n)}),"POST",r)}},{key:"animJobs",value:function(){if(this.$jobsComponent=this.$view.querySelectorAll(".jobs-component"),this.$jobsComponent){this.jobsComponent=[];for(var e=0;e<this.$jobsComponent.length;e++)this.jobsComponent[e]=new wi(this.$jobsComponent[e],e)}}},{key:"dispose",value:function(){eo(to(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&Jn(i.prototype,n),o&&Jn(i,o),t}(ji);function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e,t){return!t||"object"!==oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e,t,i){return(ao="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function co(e,t){return(co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ho=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),so(this,lo(t).call(this,"jobs-item"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){ao(lo(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),this.initFormData=this.initFormData.bind(this),this.buttonScroll=this.$view.querySelector(".jobs-item__description--links--form"),H.on(B.HOME_ANIM,this.anim),H.emit(B.CHANGE_LANG_URLS),this.buttonScroll.addEventListener("click",this.scrollToForm),this.initFormData()}},{key:"anim",value:function(){this.heroAnim=new Ui(this.$view)}},{key:"scrollToForm",value:function(){var e=document.querySelector(".jobs-item__form");NSFW.locoScroll.scrollTo(e,{duration:150})}},{key:"initFormData",value:function(){setTimeout((function(){var e=document.querySelector(".jobs-item__form .js-form"),t=e.getAttribute("data-form-email-title"),i=e.getAttribute("data-destination-email");t&&document.querySelector(".job_title_input input")&&(document.querySelector(".job_title_input input").value=t,document.querySelector(".job_title_input input").setAttribute("value",t)),i&&document.querySelector(".destination_email_input input")&&(document.querySelector(".destination_email_input input").value=i,document.querySelector(".destination_email_input input").setAttribute("value",i))}),2e3)}},{key:"dispose",value:function(){ao(lo(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&ro(i.prototype,n),o&&ro(i,o),t}(ji);function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function po(e,t){return!t||"object"!==uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yo(e,t,i){return(yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var go=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),po(this,vo(t).call(this,"fourOfour"))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){yo(vo(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.anim=this.anim.bind(this),H.on(B.HOME_ANIM,this.anim)}},{key:"anim",value:function(){this.heroAnim=new Ui(this.$view)}},{key:"dispose",value:function(){yo(vo(t.prototype),"dispose",this).call(this),H.off(B.HOME_ANIM,this.anim),this.heroAnim.dispose(),this.heroAnim=null,this.$view=null}}])&&fo(i.prototype,n),o&&fo(i,o),t}(ji);function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $o(e,t){return!t||"object"!==bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eo=function(e){function t(e,i){var n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=$o(this,So(t).call(this,e,i))).hideLoader=(n=o).hideLoader.bind(n),o.displayLoader=(n=o).displayLoader.bind(n),o.prevView=e,o.nextView=i,o}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(t,e),i=t,(n=[{key:"displayLoader",value:function(){var e=this;return new Promise((function(t,i){H.emit(B.LOADER_DISPLAY,{onComplete:t,nextView:e.nextView}),t()}))}},{key:"hideLoader",value:function(){var e=this;return new Promise((function(t,i){H.emit(B.LOADER_HIDE,{onComplete:t,nextView:e.nextView}),t()}))}},{key:"play",value:function(){return this.displayLoader().then(this.leavePrevView).then(this.load).then(this.appendNextView).then(this.removePrevView).then((function(){return new Promise((function(e,t){e()}))})).then(this.enterNextView).then(this.hideLoader)}}])&&wo(i.prototype,n),o&&wo(i,o),t}(X);function Oo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _o=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.showSubMenu=this.showSubMenu.bind(this),this.closeDd=this.closeDd.bind(this),this.addBG=this.addBG.bind(this),this.initTl=this.initTl.bind(this),this.$view=t,this.$navLinks=this.$view.querySelectorAll(".header-nav__left-link"),this.$dropdowns=this.$view.querySelectorAll(".header-nav__dropdowns-dropdown"),this.$dropdownsContainer=this.$view.querySelector(".header-nav__dropdowns"),this.$dropdownBg=this.$view.querySelector(".header-nav__dropdowns-wrapper"),this.$logo=this.$view.querySelector(".header-nav__left-logo"),this.$rightLinks=this.$view.querySelector(".header-nav__right"),this.realOpenedIndex=0,this.listening=[],this.useIndex=0,this.subIsOpened=!1,this.wasOpenened,this.isOpenened=0,this.isInit=!1,this.wait=!1,this.firstLoad=!0,this.isClosing=!1,this.isOpening=!1,this.fakeActive,this.canClose=!1,this.addListners(),o.bind("resize-for-big-nav",(function(){gsap.set(i.$dropdownBg,{y:"-136%"})})),H.on(B.LOADER_PRE_DISPLAY,(function(){i.$navLinks=document.querySelectorAll(".header-nav__left-link"),i.closeDd("doit");for(var e=0;e<i.$navLinks.length;e++)i.$navLinks[e].style.pointerEvents="none";i.$logo.style.pointerEvents="none",i.$rightLinks.style.pointerEvents="none"})),H.on(B.HOME_ANIM,(function(){i.$navLinks=document.querySelectorAll(".header-nav__left-link"),setTimeout((function(){for(var e=0;e<i.$navLinks.length;e++)i.$navLinks[e].style.pointerEvents="all";i.$logo.style.pointerEvents="all",i.$rightLinks.style.pointerEvents="all",i.wait=!1,i.isClosing=!1,i.isOpening=!1}),100)}))}var t,i,n;return t=e,(i=[{key:"initTl",value:function(){this.tl.fromTo(this.$dropdownBg,{y:"-136%"},{y:"0%",duration:1.2,ease:"power3.out"})}},{key:"addListners",value:function(){for(var e=0;e<this.$navLinks.length;e++)this.$navLinks[e].addEventListener("mouseenter",this.addBG),this.$navLinks[e].addEventListener("mouseenter",this.showSubMenu),this.listening[e]=!0,this.$navLinks[e].setAttribute("data-listener-index",e);this.$logo.addEventListener("mouseenter",this.closeDd),this.$rightLinks.addEventListener("mouseenter",this.closeDd)}},{key:"addBG",value:function(e){for(var t=this,i=!1,n=0;n<this.$dropdowns.length;n++)e.target.getAttribute("data-dropdown-index")===this.$dropdowns[n].getAttribute("data-dropdown-index")&&(i=!0);i&&!this.isClosing?(this.isOpening=!0,this.subIsOpened||(this.tl&&this.tl.kill(),this.tl=new TimelineMax({paused:!0,onComplete:function(){t.isOpening=!1}}),this.initTl(),this.tl.timeScale(1),this.tl.play())):this.subIsOpened&&this.closeDd("doit")}},{key:"showSubMenu",value:function(e){var t=this;if(this.isInit||(this.realOpenedIndex=e.target.getAttribute("data-dropdown-index"),this.isInit=!0),this.useIndex=e.target.getAttribute("data-dropdown-index"),!1===this.wait)if(!1===this.subIsOpened){for(var i=0;i<this.listening.length;i++)!1===this.listening[i]&&(this.listening[i]=!0,this.$navLinks[i].addEventListener("mouseenter",this.showSubMenu));e.target.removeEventListener("mouseenter",this.showSubMenu),this.listening[e.target.getAttribute("data-listener-index")]=!1;for(var n=0;n<this.$dropdowns.length;n++)this.$dropdowns[n].getAttribute("data-dropdown-index")===this.useIndex&&(this.element=this.$dropdowns[n].querySelectorAll(".dropdown-element__image"),this.elementText=this.$dropdowns[n].querySelectorAll(".dropdown-element__links-category"),this.wasOpenened=this.$dropdowns[n],this.subIsOpened=!0,this.contentTl=new TimelineMax({paused:!0}),this.textTl=new TimelineMax({paused:!0}),this.$dropdowns[n].style.display="flex",this.contentTl.fromTo(this.element,{clipPath:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:.6,delay:.6,ease:"power3.out",stagger:.16}),this.textTl.fromTo(this.elementText,{opacity:0,x:-25},{opacity:1,x:0,duration:.6,delay:.85,ease:"power3.out",stagger:.16}),this.textTl.timeScale(1),this.textTl.play(),this.contentTl.timeScale(1),this.contentTl.play(),this.$dropdownBg.style.pointerEvents="all",this.$dropdownBg.addEventListener("mouseleave",this.closeDd),document.body.addEventListener("mouseleave",this.closeDd))}else{for(var o=0;o<this.listening.length;o++)!1===this.listening[o]&&(this.listening[o]=!0,this.$navLinks[o].addEventListener("mouseenter",this.showSubMenu));e.target.removeEventListener("mouseenter",this.showSubMenu),this.listening[e.target.getAttribute("data-listener-index")]=!1,this.element=this.wasOpenened.querySelectorAll(".dropdown-element__image"),this.elementText=this.wasOpenened.querySelectorAll(".dropdown-element__links-category"),gsap.to(this.elementText,{opacity:0,x:-25,duration:.2,ease:"power3.out"}),gsap.to(this.element,{clipPath:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)",duration:.2,ease:"power3.out",onComplete:function(){t.wasOpenened.style.display="none"}}),setTimeout((function(){if(!t.wait){var e;t.textTl.kill(),t.textTl=new TimelineMax({paused:!0}),t.contentTl.kill(),t.contentTl=new TimelineMax({paused:!0});for(var i=0;i<t.$dropdowns.length;i++)t.$dropdowns[i].getAttribute("data-dropdown-index")===t.useIndex&&(e=t.$dropdowns[i]);e.style.display="flex",t.element=e.querySelectorAll(".dropdown-element__image"),t.elementText=e.querySelectorAll(".dropdown-element__links-category"),t.isOpening?(t.textTl.fromTo(t.elementText,{opacity:0,x:-25},{opacity:1,x:0,duration:.6,delay:.2,ease:"power3.out",stagger:.16}),t.contentTl.fromTo(t.element,{clipPath:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:.6,delay:.2,ease:"power3.out",stagger:.16})):(t.textTl.fromTo(t.elementText,{opacity:0,x:-25},{opacity:1,x:0,duration:.6,ease:"power3.out",stagger:.16}),t.contentTl.fromTo(t.element,{clipPath:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:.6,ease:"power3.out",stagger:.16})),t.wasOpenened=e,t.contentTl.timeScale(1),t.contentTl.play(),t.textTl.timeScale(1),t.textTl.play()}}),300)}else this.isClosing||setTimeout((function(){t.wait=!1}),290)}},{key:"closeDd",value:function(e){var t=this;if(this.subIsOpened&&"doit"!==e&&(e.target!==document.body?e.screenY>190?this.canClose=!0:this.canClose=!1:this.canClose=!0,this.canClose)){for(var i=0;i<this.listening.length;i++)!1===this.listening[i]&&(this.listening[i]=!0,this.$navLinks[i].addEventListener("mouseenter",this.showSubMenu));this.isClosing=!0,this.$dropdownBg.style.pointerEvents="none",this.$dropdownBg.removeEventListener("mouseleave",this.closeDd),document.body.removeEventListener("mouseleave",this.closeDd),this.wait=!0;for(var n=0;n<this.$navLinks.length;n++)this.$navLinks[n].style.pointerEvents="none";for(var o=function(e){t.$dropdowns[e].getAttribute("data-dropdown-index")===t.useIndex&&(t.subIsOpened=!1,t.contentTl.timeScale(3),t.contentTl.reverse(),t.textTl.timeScale(3),t.textTl.reverse(),gsap.delayedCall(.65,(function(){t.contentTl.kill(),t.textTl.kill(),t.$dropdowns[e].style.display="none",t.wait=!1,t.isClosing=!1;for(var i=0;i<t.$navLinks.length;i++)t.$navLinks[i].style.pointerEvents="all",t.$navLinks[i].addEventListener("mouseenter",t.addBG)})),t.tl.timeScale(2),t.tl.reverse())},r=0;r<this.$dropdowns.length;r++)o(r)}if(("doit"===e||(e.target===this.$logo||e.target===this.$rightLinks)&&this.subIsOpened)&&window.innerWidth>1024){for(var s=0;s<this.listening.length;s++)!1===this.listening[s]&&(this.listening[s]=!0,this.$navLinks[s].addEventListener("mouseenter",this.showSubMenu));if(this.subIsOpened){this.isClosing=!0,this.$dropdownBg.style.pointerEvents="none",this.$dropdownBg.removeEventListener("mouseleave",this.closeDd),document.body.removeEventListener("mouseleave",this.closeDd),this.wait=!0;for(var a=0;a<this.$navLinks.length;a++)this.$navLinks[a].style.pointerEvents="none";this.contentTl&&(this.contentTl.timeScale(3),this.contentTl.reverse(),this.textTl.timeScale(3),this.textTl.reverse()),this.subIsOpened=!1,gsap.delayedCall(.65,(function(){t.contentTl&&(t.contentTl.kill(),t.textTl.kill());for(var e=0;e<t.$dropdowns.length;e++)t.$dropdowns[e].style.display="none";t.wait=!1,t.isClosing=!1;for(var i=0;i<t.$navLinks.length;i++)t.$navLinks[i].style.pointerEvents="all",t.$navLinks[i].addEventListener("mouseenter",t.addBG)})),this.$dropdownBg.style.pointerEvents="none",gsap.delayedCall(.1,(function(){t.tl.timeScale(2),t.tl.reverse()}))}}}}])&&Oo(t.prototype,i),n&&Oo(t,n),e}();function xo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var To=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openClose=this.openClose.bind(this),this.calcHeight=this.calcHeight.bind(this),this.needClosing=this.needClosing.bind(this),this.$view=t,this.$title=this.$view.querySelector(".link-title__text"),this.$links=this.$view.querySelector(".header--mobile__nav-link-container--links"),this.isOpened=!1,this.initMax=0,this.calcHeight(),this.addListners(),o.bind("resize-size-mobile-inseidelinks",this.calcHeight),H.on(B.LOADER_PRE_DISPLAY,this.needClosing)}var t,i,n;return t=e,(i=[{key:"needClosing",value:function(){this.isOpened&&this.openClose()}},{key:"calcHeight",value:function(){this.initMax=this.$title.offsetHeight,this.biggestMax=this.initMax+this.$links.offsetHeight+60,this.isOpened||(this.$view.style.maxHeight=this.initMax+"px")}},{key:"addListners",value:function(){this.$view.addEventListener("click",this.openClose)}},{key:"openClose",value:function(){var e=this;this.isOpened?(this.$view.classList.remove("sub-menu-opened-mobile"),this.$links.classList.remove("sub-menu-opened-mobile"),gsap.to(this.$view,{maxHeight:this.initMax+"px",duration:.4,ease:"power4.out",onComplete:function(){e.isOpened=!1}})):(this.$view.classList.add("sub-menu-opened-mobile"),this.$links.classList.add("sub-menu-opened-mobile"),gsap.to(this.$view,{maxHeight:this.biggestMax+"px",duration:.65,ease:"power4.out",onComplete:function(){e.isOpened=!0}}))}}])&&xo(t.prototype,i),n&&xo(t,n),e}();function Lo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Po=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.changeUrls=this.changeUrls.bind(this),H.on(B.CHANGE_LANG_URLS,this.changeUrls)}var t,i,n;return t=e,(i=[{key:"changeUrls",value:function(){this.$view=document.querySelector(".view"),this.$switcher=document.querySelector(".header-nav__right-link.no-router"),this.$switcherMobile=document.querySelector(".header--mobile__header-burger-lang"),this.newUrl=this.$view.getAttribute("data-other-lang-url"),this.$switcher.setAttribute("href",this.newUrl),this.$switcherMobile.setAttribute("href",this.newUrl)}}])&&Lo(t.prototype,i),n&&Lo(t,n),e}();function Ao(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Co=function(){function e(){var t=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stickIt=this.stickIt.bind(this),this.openCloseNav=this.openCloseNav.bind(this),this.changeActiveUrl=this.changeActiveUrl.bind(this),this.resizeNav=this.resizeNav.bind(this),this.$nav=document.querySelector(".header-nav__wrapper"),this.$navWrapper=document.querySelector(".header-nav"),this.$logo=document.querySelector(".header-nav__left-logo"),this.$mobileNav=document.querySelector(".header--mobile"),this.$burger=this.$mobileNav.querySelector(".header--mobile__header-burger-lines"),this.$langMobile=this.$mobileNav.querySelector(".header--mobile__header-burger-lang"),this.$mobileWrapper=this.$mobileNav.querySelector(".header--mobile__wrapper"),this.$mobileNavWrapper=this.$mobileNav.querySelector(".header--mobile__header"),this.$logoMobile=this.$mobileNav.querySelector(".header--mobile__header-logo"),this.$mobileTopLinks=this.$mobileNav.querySelectorAll(".animate-link-js"),this.$mobileBottomLinks=this.$mobileNav.querySelectorAll(".header--mobile__bottom-nav-link"),this.scrollBgColor=document.querySelector(".nav-bg-scroll"),this.$allLinksDesktop=document.querySelectorAll(".header-nav__left-link"),this.$dropdownLinks=document.querySelector(".header-nav__dropdowns").getElementsByTagName("a"),this.$allLinksMobile=this.$mobileNav.getElementsByTagName("a"),this.$dropDowns=document.querySelectorAll(".header-nav__dropdowns-dropdown"),this.$balckBgFooter=document.querySelector(".black-bg"),this.$navBGWrapper=document.querySelector(".header-nav__dropdowns-wrapper"),this.$navBGElementDd=document.querySelectorAll(".header-nav__dropdowns-dropdown")[0],this.$navSelect=document.querySelector(".header--mobile .header-nav__right__select"),this.$navSelectHead=document.querySelector(".header--mobile .header-nav__right__select--head"),this.navOpened=!1,this.tl=new TimelineMax({paused:!0,onReverseComplete:function(){t.$mobileNav.classList.remove("add-bg")}}),this.links=[],this.notLoading=!0,this.raffed=!1,this.homeUrl=document.body.getAttribute("data-home-url")+"/",this.ytInited=!1,this.$mobileTopLinks)for(var i=0;i<this.$mobileTopLinks.length;i++)this.links.push(this.$mobileTopLinks[i]);if(this.$mobileBottomLinks)for(var n=0;n<this.$mobileBottomLinks.length;n++)this.links.push(this.$mobileBottomLinks[n]);this.initWidth=window.innerWidth,this.newWidth=0,o.bind("resize-general",(function(){t.newWidth=window.innerWidth,t.newWidth!==t.initWidth&&(-1===document.body.classList.contains("mobile")&&-1===document.body.classList.contains("tablet")&&NSFW.locoScroll.update(),t.resizeNav()),t.calculHeightSelectContent(),t.initWidth=t.newWidth})),this.addListeners(),this.initTl(),H.on(B.YT_MANAGER_STARTED,(function(){t.ytInited||(t.ytInited=!0,qt.start())})),H.on(B.HOME_ANIM,(function(){t.notLoading=!0,!1===t.raffed&&(t.raffed=!0,xe.bind("raf-sticky-nav",t.stickIt))})),H.on(B.LOADER_PRE_DISPLAY,(function(){t.notLoading=!1,t.navOpened&&t.openCloseNav(),gsap.to(t.scrollBgColor,{scaleY:0,duration:1.5,delay:.3,ease:"power3.out"}),t.changeActiveUrl()})),this.changeActiveUrl(),this.changeLangUrls=new Po,this.resizeNav()}var t,i,n;return t=e,(i=[{key:"resizeNav",value:function(){this.$navBGElementDd.style.display="flex",this.wrapperHeight=this.$navBGElementDd.offsetHeight+102,this.wrapperHeight>750&&(this.wrapperHeight=750),this.$navBGWrapper.style.height=this.wrapperHeight+"px",this.$navBGElementDd.style.display="none"}},{key:"calculHeightSelectContent",value:function(){document.querySelectorAll(".header-nav__right__select").forEach((function(e){var t=e.querySelector("ul").offsetHeight;e.style.setProperty("--height-content-select",t+"px")}))}},{key:"changeActiveUrl",value:function(){for(var e=0;e<this.$dropdownLinks.length;e++)this.$dropdownLinks[e].classList.remove("active-nav-item"),window.location.href.length===this.$dropdownLinks[e].getAttribute("href").length&&window.location.href.substring(0,this.$dropdownLinks[e].getAttribute("href").length)===this.$dropdownLinks[e].getAttribute("href")&&window.location.href!==this.homeUrl&&""!==this.$dropdownLinks[e].getAttribute("href")&&this.$dropdownLinks[e].classList.add("active-nav-item");for(var t=0;t<this.$allLinksDesktop.length;t++)if(this.$allLinksDesktop[t].classList.remove("active-nav-item"),-1!==window.location.href.search(this.$allLinksDesktop[t].getAttribute("href"))&&window.location.href!==this.homeUrl&&""!==this.$allLinksDesktop[t].getAttribute("href"))this.$allLinksDesktop[t].classList.add("active-nav-item");else if(this.$dropDowns[this.$allLinksDesktop[t].getAttribute("data-dropdown-index")])for(var i=this.$dropDowns[this.$allLinksDesktop[t].getAttribute("data-dropdown-index")].getElementsByTagName("a"),n=0;n<i.length;n++)if(i[n].classList.contains("active-nav-item")){var o=!0,r=!1,s=void 0;try{for(var a,l=function(){var e=a.value;e.getAttribute("data-dropdown-index")===i[n].parentNode.parentNode.getAttribute("data-dropdown-index")&&setTimeout((function(){e.classList.add("active-nav-item")}),1e3)},c=this.$allLinksDesktop[Symbol.iterator]();!(o=(a=c.next()).done);o=!0)l()}catch(e){r=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw s}}}for(var h=0;h<this.$allLinksMobile.length;h++)this.$allLinksMobile[h].classList.remove("active-nav-item"),this.$allLinksMobile[h].getAttribute("href")&&window.location.href.length===this.$allLinksMobile[h].getAttribute("href").length&&window.location.href.substring(0,this.$allLinksMobile[h].getAttribute("href").length)===this.$allLinksMobile[h].getAttribute("href")&&window.location.href!==this.homeUrl&&""!==this.$allLinksMobile[h].getAttribute("href")&&this.$allLinksMobile[h].classList.add("active-nav-item")}},{key:"initTl",value:function(){var e=this;this.tl.to(this.$mobileWrapper,{scaleY:1,duration:.4,ease:"power4.out",onComplete:function(){gsap.to(e.$langMobile,{opacity:1,pointerEvents:"all",duration:.4,ease:"power4.out"})}}),this.tl.to(this.links,{duration:.3,opacity:1,x:0,ease:"power4.out",stagger:.1})}},{key:"addListeners",value:function(){var e=this;if(this.$burger.addEventListener("click",this.openCloseNav),this.subMenuStuff=new _o(this.$nav),this.$openableLinks=document.querySelectorAll(".header--mobile__nav-link-container"),this.$openableLinks){this.openCloseMobile=[];for(var t=0;t<this.$openableLinks.length;t++)this.openCloseMobile[t]=new To(this.$openableLinks[t])}this.$navSelectHead&&(this.$navSelectHead.addEventListener("click",(function(t){if(e.$navSelect.classList.contains("open")){var i=e.$navSelectHead.dataset.link;i&&(window.location.href=i)}e.$navSelect.classList.toggle("open")})),document.addEventListener("click",(function(t){e.$navSelect.classList.contains("open")&&(t.target.closest(".header--mobile .header-nav__right__select")||e.$navSelect.classList.remove("open"))})),this.$navSelect.addEventListener("click",(function(t){t.target.closest(".header--mobile .header-nav__right__select--content")&&e.$navSelect.classList.remove("open")})))}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"openCloseNav",value:function(){var e=this;!1===this.navOpened?(this.$mobileWrapper.scrollTop=0,this.$mobileNav.classList.add("nav-ex-go"),this.$mobileNav.classList.add("add-bg"),this.navOpened=!0,this.tl.timeScale(1),this.tl.play(),setTimeout((function(){e.$mobileNav.classList.add("nav-opened")}),600)):(this.navOpened=!1,this.$mobileNav.classList.remove("nav-opened"),this.$mobileNav.classList.remove("nav-ex-go"),gsap.to(this.$langMobile,{opacity:0,pointerEvents:"none",duration:.3,ease:"power4.out"}),this.tl.timeScale(2.5),this.tl.reverse())}},{key:"stickIt",value:function(){document.querySelector(".view").classList.contains("home")?this.duration=1.7:this.duration=1.8,NSFW.currentScrollTop>72?this.notLoading?(gsap.to(this.scrollBgColor,{scaleY:1,duration:.5,ease:"power3.out"}),window.innerWidth>1024?(gsap.to(this.$nav,{y:20,duration:1.2,ease:"power3.out"}),gsap.to(this.$navWrapper,{y:-40,duration:1.2,ease:"power3.out"}),gsap.to(this.$logo,{scale:.8,duration:1.2,ease:"power3.out"}),this.$navWrapper.classList.add("sticky"),document.body.classList.contains("tablet")&&(gsap.to(this.$mobileNav,{y:-20,duration:1.2,ease:"power3.out"}),gsap.to(this.$mobileNavWrapper,{y:10,duration:1.2,ease:"power3.out"}),gsap.to(this.$logoMobile,{scale:.8,duration:1.2,ease:"power3.out"}),this.$mobileWrapper.classList.add("sticky"))):(gsap.to(this.$mobileNav,{y:-20,duration:1.2,ease:"power3.out"}),gsap.to(this.$mobileNavWrapper,{y:10,duration:1.2,ease:"power3.out"}),gsap.to(this.$logoMobile,{scale:.8,duration:1.2,ease:"power3.out"}),this.$mobileWrapper.classList.add("sticky"))):window.innerWidth>1024?(gsap.to(this.$navWrapper,{y:"-100%",duration:.5,ease:"power3.out"}),this.$navWrapper.classList.remove("sticky"),document.body.classList.contains("tablet")&&(gsap.to(this.$mobileNav,{y:"-100%",duration:.5,ease:"power3.out"}),this.$mobileWrapper.classList.remove("sticky"))):(gsap.to(this.$mobileNav,{y:"-100%",duration:.5,ease:"power3.out"}),this.$mobileWrapper.classList.remove("sticky")):this.notLoading?(gsap.to(this.scrollBgColor,{scaleY:0,duration:1.5,ease:"power3.out"}),window.innerWidth>1024?(gsap.to(this.$nav,{y:0,duration:this.duration,ease:"power3.out"}),gsap.to(this.$navWrapper,{y:0,duration:1.8,ease:"power3.out"}),gsap.to(this.$logo,{scale:1,duration:1.8,ease:"power3.out"}),this.$navWrapper.classList.remove("sticky"),document.body.classList.contains("tablet")&&(gsap.to(this.$mobileNav,{y:0,duration:1.8,ease:"power3.out"}),gsap.to(this.$mobileNavWrapper,{y:0,duration:this.duration,ease:"power3.out"}),gsap.to(this.$logoMobile,{scale:1,duration:1.8,ease:"power3.out"}),this.$mobileWrapper.classList.remove("sticky"))):(gsap.to(this.$mobileNav,{y:0,duration:1.8,ease:"power3.out"}),gsap.to(this.$mobileNavWrapper,{y:0,duration:this.duration,ease:"power3.out"}),gsap.to(this.$logoMobile,{scale:1,duration:1.8,ease:"power3.out"}),this.$mobileWrapper.classList.remove("sticky"))):window.innerWidth>1024?(gsap.to(this.$navWrapper,{y:"-100%",duration:.5,ease:"power3.out"}),this.$navWrapper.classList.remove("sticky"),document.body.classList.contains("tablet")&&(gsap.to(this.$mobileNav,{y:"-100%",duration:.5,ease:"power3.out"}),this.$mobileWrapper.classList.remove("sticky"))):(gsap.to(this.$mobileNav,{y:"-100%",duration:.5,ease:"power3.out"}),this.$mobileWrapper.classList.remove("sticky")),NSFW.currentScrollTop+window.innerHeight>document.querySelector("#wrap").offsetHeight-150?this.$balckBgFooter.style.display="block":this.$balckBgFooter.style.display="none"}}])&&Ao(t.prototype,i),n&&Ao(t,n),e}();function jo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ro=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.display=this.display.bind(this),this.hide=this.hide.bind(this),this.resize=this.resize.bind(this),this.displayLoader=this.displayLoader.bind(this),this.$view=document.querySelector(".transition"),this.$mobileNav=document.querySelector(".header-nav"),this.$navWrapper=document.querySelector(".header--mobile"),this.alreadyDisplayed=!1,H.on(B.LOADER_DISPLAY,this.display),H.on(B.LOADER_PRE_DISPLAY,this.displayLoader),H.on(B.LOADER_HIDE,this.hide),o.bind("transition",this.resize)}var t,i,n;return t=e,(i=[{key:"displayLoader",value:function(){var e=this;if(this.alreadyDisplayed=!0,this.$videoOverlays=document.querySelectorAll(".video-overlay"),this.$videoOverlays)for(var t=function(t){gsap.to(e.$videoOverlays[t],{duration:.4,opacity:0,onComplete:function(){e.$videoOverlays[t].style.display="none"}})},i=0;i<this.$videoOverlays.length;i++)t(i);gsap.to(this.$view,{y:0,duration:.8,ease:"power3.out"})}},{key:"display",value:function(e){var t=this;if(this.alreadyDisplayed)setTimeout((function(){e.onComplete()}),1e3);else{if(this.$videoOverlays=document.querySelectorAll(".video-overlay"),this.$videoOverlays)for(var i=function(e){gsap.to(t.$videoOverlays[e],{duration:.8,opacity:0,onComplete:function(){t.$videoOverlays[e].style.display="none"}})},n=0;n<this.$videoOverlays.length;n++)i(n);gsap.to(this.$view,{y:0,duration:.4,ease:"power3.out",onComplete:function(){e.onComplete()}})}this.alreadyDisplayed=!1}},{key:"hide",value:function(e){var t=this;gsap.to(this.$view,{y:"-100%",duration:.85,delay:.8,ease:"power4.out",onComplete:function(){e.onComplete(),gsap.set(t.$view,{y:"100%"}),H.emit(B.HOME_ANIM)}})}},{key:"resize",value:function(){gsap.set(this.$view,{y:"100%"})}}])&&jo(t.prototype,i),n&&jo(t,n),e}();function No(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this.prepare.bind(this))}var t,i,n;return t=e,(i=[{key:"prepare",value:function(){m.check(this.init.bind(this))}},{key:"init",value:function(){p.check(),o.start(),xe.start(),Le.start(),je.start(),this.initRouter(),this.transition=new Ro}},{key:"initRouter",value:function(){new Co,Oe.create({wrapperClass:".router-container",defaultTransition:Eo,defaultView:Bi,verbose:!1,lang:"en"});var e=new Bi,t=new Qi,i=new wn,n=new Ln,o=new In,r=new Hn,s=new Kn,a=new no,l=new ho,c=new go;this.views=[e,t,i,r,s,c,n,l,a,o];for(var h=0;h<this.views.length;h++)Oe.addView(this.views[h]);Oe.start()}}])&&No(t.prototype,i),n&&No(t,n),e}())},19:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},25:function(e,t,i){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))}},43:function(e,t,i){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(44),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(19))},44:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,o,r,s,a,l=1,c={},h=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){r.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(o=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var o={callback:e,args:t};return c[l]=o,n(l),l++},d.clearImmediate=f}function f(e){delete c[e]}function p(e){if(h)setTimeout(p,0,e);else{var t=c[e];if(t){h=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{f(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(19),i(45))},45:function(e,t){var i,n,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,c=[],h=!1,u=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!h){var e=a(d);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new p(e,t)),1!==c.length||h||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},64:function(e,t){e.exports=function(){return new Worker("/app/themes/Auray/js/loader.worker.js")}},65:function(e,t,i){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var o=c(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return d(this,i)}}function p(e,t,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var b={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),Object.assign(this,b,t),this.smartphone=b.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=b.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetHeight,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return o(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var e=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){e.resize(),e.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var e=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",e!=this.context)("desktop"==e?this.smooth:this[e].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var e=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(t){t.addEventListener("click",e.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(e){e.preventDefault(),this.scrollTo(e.currentTarget.getAttribute("data-".concat(this.name,"-href"))||e.currentTarget.getAttribute("href"),{offset:e.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(e){var t=this,i=this.instance.scroll.y,n=i+this.windowHeight,o=this.instance.scroll.x,r=o+this.windowWidth;Object.entries(this.els).forEach((function(s){var a=y(s,2),l=a[0],c=a[1];if(!c||c.inView&&!e||("horizontal"===t.direction?r>=c.left&&o<c.right&&t.setInView(c,l):n>=c.top&&i<c.bottom&&t.setInView(c,l)),c&&c.inView)if("horizontal"===t.direction){var h=c.right-c.left;c.progress=(t.instance.scroll.x-(c.left-t.windowWidth))/(h+t.windowWidth),(r<c.left||o>c.right)&&t.setOutOfView(c,l)}else{var u=c.bottom-c.top;c.progress=(t.instance.scroll.y-(c.top-t.windowHeight))/(u+t.windowHeight),(n<c.top||i>c.bottom)&&t.setOutOfView(c,l)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(e,t){this.els[t].inView=!0,e.el.classList.add(e.class),this.currentElements[t]=e,e.call&&this.hasCallEventSet&&(this.dispatchCall(e,"enter"),e.repeat||(this.els[t].call=!1))}},{key:"setOutOfView",value:function(e,t){var i=this;this.els[t].inView=!1,Object.keys(this.currentElements).forEach((function(e){e===t&&delete i.currentElements[e]})),e.call&&this.hasCallEventSet&&this.dispatchCall(e,"exit"),e.repeat&&e.el.classList.remove(e.class)}},{key:"dispatchCall",value:function(e,t){this.callWay=t,this.callValue=e.call.split(",").map((function(e){return e.trim()})),this.callObj=e,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var e=new Event(this.namespace+"scroll");this.el.dispatchEvent(e)}},{key:"setEvents",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]);var i=this.listeners[e];i.push(t),1===i.length&&this.el.addEventListener(this.namespace+e,this.checkEvent,!1),"call"===e&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(e,t){if(this.listeners[e]){var i=this.listeners[e],n=i.indexOf(t);n<0||(i.splice(n,1),0===i.index&&this.el.removeEventListener(this.namespace+e,this.checkEvent,!1))}}},{key:"checkEvent",value:function(e){var t=this,i=e.type.replace(this.namespace,""),n=this.listeners[i];n&&0!==n.length&&n.forEach((function(e){switch(i){case"scroll":return e(t.instance);case"call":return e(t.callValue,t.callWay,t.callObj);default:return e()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(e,t){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var e=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(t){e.el.removeEventListener(e.namespace+t,e.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(t){t.removeEventListener("click",e.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),e}(),$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function S(e,t){return e(t={exports:{}},t.exports),t.exports}var k=S((function(e,t){e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var i,n=e.HTMLElement||e.Element,o=468,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||l,scrollIntoView:n.prototype.scrollIntoView},s=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(i=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?y.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):y.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;y.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var i=f(this),n=i.getBoundingClientRect(),o=this.getBoundingClientRect();i!==t.body?(y.call(this,i,i.scrollLeft+o.left-n.left,i.scrollTop+o.top-n.top),"fixed"!==e.getComputedStyle(i).position&&e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function h(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function u(t,i){var n=e.getComputedStyle(t,null)["overflow"+i];return"auto"===n||"scroll"===n}function d(e){var t=h(e,"Y")&&u(e,"Y"),i=h(e,"X")&&u(e,"X");return t||i}function f(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}function p(t){var i,n,r,a,l=(s()-t.startTime)/o;a=l=l>1?1:l,i=.5*(1-Math.cos(Math.PI*a)),n=t.startX+(t.x-t.startX)*i,r=t.startY+(t.y-t.startY)*i,t.method.call(t.scrollable,n,r),n===t.x&&r===t.y||e.requestAnimationFrame(p.bind(e,t))}function y(i,n,o){var a,c,h,u,d=s();i===t.body?(a=e,c=e.scrollX||e.pageXOffset,h=e.scrollY||e.pageYOffset,u=r.scroll):(a=i,c=i.scrollLeft,h=i.scrollTop,u=l),p({scrollable:a,method:u,startTime:d,startX:c,startY:h,x:n,y:o})}}}})),E=(k.polyfill,function(e){l(n,e);var t=f(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,n),(e=t.call(this,o)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=k,window.smoothscrollPolyfill.polyfill()),e}return o(n,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),p(c(n.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var e=this;p(c(n.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){e.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var e=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(t,i){var n=t.getBoundingClientRect(),o=t.dataset[e.name+"Class"]||e.class,r="string"==typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:i,s=n.top+e.instance.scroll.y,a=n.left,l=n.right,c=s+t.offsetHeight,h="string"==typeof t.dataset[e.name+"Offset"]?t.dataset[e.name+"Offset"].split(","):e.offset,u=t.dataset[e.name+"Repeat"],d=t.dataset[e.name+"Call"];u="false"!=u&&(null!=u||e.repeat);var f=e.getRelativeOffset(h),p={el:t,id:r,class:o,top:s+f[0],bottom:c-f[1],left:a,right:l,offset:h,progress:0,repeat:u,inView:!1,call:d};e.els[r]=p,t.classList.contains(o)&&e.setInView(e.els[r],r)}))}},{key:"updateElements",value:function(){var e=this;Object.entries(this.els).forEach((function(t){var i=y(t,2),n=i[0],o=i[1],r=o.el.getBoundingClientRect().top+e.instance.scroll.y,s=r+o.el.offsetHeight,a=e.getRelativeOffset(o.offset);e.els[n].top=r+a[0],e.els[n].bottom=s-a[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(e){var t=[0,0];if(e)for(var i=0;i<e.length;i++)"string"==typeof e[i]?e[i].includes("%")?t[i]=parseInt(e[i].replace("%","")*this.windowHeight/100):t[i]=parseInt(e[i]):t[i]=e[i];return t}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(t.offset)||0,n=!!t.callback&&t.callback;if("string"==typeof e){if("top"===e)e=this.html;else if("bottom"===e)e=this.html.offsetHeight-window.innerHeight;else if(!(e=document.querySelector(e)))return}else if("number"==typeof e)e=parseInt(e);else if(!e||!e.tagName)return void console.warn("`target` parameter is not valid");if(i="number"!=typeof e?e.getBoundingClientRect().top+i+this.instance.scroll.y:e+i,n){i=i.toFixed();var o=function e(){window.pageYOffset.toFixed()===i&&(window.removeEventListener("scroll",e),n())};window.addEventListener("scroll",o)}window.scrollTo({top:i,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){p(c(n.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),n}(w)),O=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function T(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var L=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,n,o=T(e),r=1;r<arguments.length;r++){for(var s in i=Object(arguments[r]))_.call(i,s)&&(o[s]=i[s]);if(O){n=O(i);for(var a=0;a<n.length;a++)x.call(i,n[a])&&(o[n[a]]=i[n[a]])}}return o};function P(){}P.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function o(){n.off(e,o),t.apply(i,arguments)}return o._=t,this.on(e,o,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],o=[];if(n&&t)for(var r=0,s=n.length;r<s;r++)n[r].fn!==t&&n[r].fn._!==t&&o.push(n[r]);return o.length?i[e]=o:delete i[e],this}};var A=P,C=S((function(e,t){(function(){(null!==t?t:this).Lethargy=function(){function e(e,t,i,n){this.stability=null!=e?Math.abs(e):8,this.sensitivity=null!=t?1+Math.abs(t):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var e,t,i;for(i=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var e,t,i;for(i=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var e,t,i;for(i=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)i.push(null);return i}.call(this)}return e.prototype.check=function(e){var t;return null!=(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:null!=e.deltaY?t=-40*e.deltaY:null==e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))},e.prototype.isInertia=function(e){var t,i,n,o,r,s,a;return null===(t=-1===e?this.lastDownDeltas:this.lastUpDeltas)[0]?e:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])&&(n=t.slice(0,this.stability),i=t.slice(this.stability,2*this.stability),a=n.reduce((function(e,t){return e+t})),r=i.reduce((function(e,t){return e+t})),s=a/n.length,o=r/i.length,Math.abs(s)<Math.abs(o*this.tolerance)&&this.sensitivity<Math.abs(o)&&e)},e.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},e.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}).call($)})),j={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},R=Object.prototype.toString,N=Object.prototype.hasOwnProperty,I=function(e){if(!e)return console.warn("bindAll requires at least one argument.");var t=Array.prototype.slice.call(arguments,1);if(0===t.length)for(var i in e)N.call(e,i)&&"function"==typeof e[i]&&"[object Function]"==R.call(e[i])&&t.push(i);for(var n=0;n<t.length;n++){var o=t[n];e[o]=D(e[o],e)}};function D(e,t){return function(){return e.apply(t,arguments)}}var M=C.Lethargy,W="virtualscroll",F=U,q=37,V=38,H=39,B=40,Y=32;function U(e){I(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,e&&e.el&&(this.el=e.el,delete e.el),this.options=L({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},e),this.options.limitInertia&&(this._lethargy=new M),this._emitter=new A,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function z(e,t,i){return(1-i)*e+i*t}function G(e){var t={};if(window.getComputedStyle){var i=getComputedStyle(e),n=i.transform||i.webkitTransform||i.mozTransform,o=n.match(/^matrix3d\((.+)\)$/);return o?(t.x=o?parseFloat(o[1].split(", ")[12]):0,t.y=o?parseFloat(o[1].split(", ")[13]):0):(o=n.match(/^matrix\((.+)\)$/),t.x=o?parseFloat(o[1].split(", ")[4]):0,t.y=o?parseFloat(o[1].split(", ")[5]):0),t}}function X(e){for(var t=[];e&&e!==document;e=e.parentNode)t.push(e);return t}U.prototype._notify=function(e){var t=this._event;t.x+=t.deltaX,t.y+=t.deltaY,this._emitter.emit(W,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:e})},U.prototype._onWheel=function(e){var t=this.options;if(!this._lethargy||!1!==this._lethargy.check(e)){var i=this._event;i.deltaX=e.wheelDeltaX||-1*e.deltaX,i.deltaY=e.wheelDeltaY||-1*e.deltaY,j.isFirefox&&1==e.deltaMode&&(i.deltaX*=t.firefoxMultiplier,i.deltaY*=t.firefoxMultiplier),i.deltaX*=t.mouseMultiplier,i.deltaY*=t.mouseMultiplier,this._notify(e)}},U.prototype._onMouseWheel=function(e){if(!this.options.limitInertia||!1!==this._lethargy.check(e)){var t=this._event;t.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,t.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,this._notify(e)}},U.prototype._onTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e;this.touchStartX=t.pageX,this.touchStartY=t.pageY},U.prototype._onTouchMove=function(e){var t=this.options;t.preventTouch&&!e.target.classList.contains(t.unpreventTouchClass)&&e.preventDefault();var i=this._event,n=e.targetTouches?e.targetTouches[0]:e;i.deltaX=(n.pageX-this.touchStartX)*t.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*t.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(e)},U.prototype._onKeyDown=function(e){var t=this._event;t.deltaX=t.deltaY=0;var i=window.innerHeight-40;switch(e.keyCode){case q:case V:t.deltaY=this.options.keyStep;break;case H:case B:t.deltaY=-this.options.keyStep;break;case e.shiftKey:t.deltaY=i;break;case Y:t.deltaY=-i;break;default:return}this._notify(e)},U.prototype._bind=function(){j.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),j.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),j.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),j.hasPointer&&j.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),j.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},U.prototype._unbind=function(){j.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),j.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),j.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),j.hasPointer&&j.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),j.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},U.prototype.on=function(e,t){this._emitter.on(W,e,t);var i=this._emitter.e;i&&i[W]&&1===i[W].length&&this._bind()},U.prototype.off=function(e,t){this._emitter.off(W,e,t);var i=this._emitter.e;(!i[W]||i[W].length<=0)&&this._unbind()},U.prototype.reset=function(){var e=this._event;e.x=0,e.y=0},U.prototype.destroy=function(){this._emitter.off(),this._unbind()};var K=4,Z=.001,J=1e-7,Q=10,ee=11,te=1/(ee-1),ie="function"==typeof Float32Array;function ne(e,t){return 1-3*t+3*e}function oe(e,t){return 3*t-6*e}function re(e){return 3*e}function se(e,t,i){return((ne(t,i)*e+oe(t,i))*e+re(t))*e}function ae(e,t,i){return 3*ne(t,i)*e*e+2*oe(t,i)*e+re(t)}function le(e){return e}var ce=function(e,t,i,n){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&i===n)return le;for(var o=ie?new Float32Array(ee):new Array(ee),r=0;r<ee;++r)o[r]=se(r*te,e,i);function s(t){for(var n=0,r=1,s=ee-1;r!==s&&o[r]<=t;++r)n+=te;--r;var a=n+(t-o[r])/(o[r+1]-o[r])*te,l=ae(a,e,i);return l>=Z?function(e,t,i,n){for(var o=0;o<K;++o){var r=ae(t,i,n);if(0===r)return t;t-=(se(t,i,n)-e)/r}return t}(t,a,e,i):0===l?a:function(e,t,i,n,o){var r,s,a=0;do{(r=se(s=t+(i-t)/2,n,o)-e)>0?i=s:t=s}while(Math.abs(r)>J&&++a<Q);return s}(t,n,n+te,e,i)}return function(e){return 0===e?0:1===e?1:se(s(e),t,n)}},he=38,ue=40,de=32,fe=9,pe=33,ye=34,ve=36,me=35,ge=function(e){l(n,e);var t=f(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,n),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=t.call(this,o)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=o.scrollbarContainer,e.checkKey=e.checkKey.bind(u(e)),window.addEventListener("keydown",e.checkKey,!1),e}return o(n,[{key:"init",value:function(){var e=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=a({delta:{x:0,y:0}},this.instance),this.vs=new F({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(t){e.stop||e.isDraggingScrollbar||requestAnimationFrame((function(){e.updateDelta(t),e.isScrolling||e.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),p(c(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var e=0,t=this.el.children,i=0;i<t.length;i++)e+=t[i].offsetWidth;this.instance.limit.x=e-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(e){var t=this;if(this.stop)e.keyCode==fe&&requestAnimationFrame((function(){t.html.scrollTop=0,document.body.scrollTop=0,t.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(e.keyCode){case fe:requestAnimationFrame((function(){t.html.scrollTop=0,document.body.scrollTop=0,t.html.scrollLeft=0,document.body.scrollLeft=0,t.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case he:this.instance.delta[this.directionAxis]-=240;break;case ue:this.instance.delta[this.directionAxis]+=240;break;case pe:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case ye:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case ve:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case me:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case de:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(e.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return e.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),o=Date.now()-this.startScrollTs;if(!this.animatingScroll&&o>100&&(i<.5&&0!=this.instance.delta[this.directionAxis]||i<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(t){var i=y(t,2),n=(i[0],i[1]);n.persistent||e.instance.scroll[e.directionAxis]>n.offset[e.directionAxis]&&e.instance.scroll[e.directionAxis]<n.limit[e.directionAxis]?("horizontal"===e.direction?e.transform(n.el,-e.instance.scroll[e.directionAxis],0):e.transform(n.el,0,-e.instance.scroll[e.directionAxis]),n.inView||(n.inView=!0,n.el.style.opacity=1,n.el.style.pointerEvents="all",n.el.setAttribute("data-".concat(e.name,"-section-inview"),""))):(n.inView&&(n.inView=!1,n.el.style.opacity=0,n.el.style.pointerEvents="none",n.el.removeAttribute("data-".concat(e.name,"-section-inview"))),e.transform(n.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var r=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,r,0):this.transform(this.scrollbarThumb,0,r)}p(c(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(e){var t,i=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;t="both"===i?e.deltaX+e.deltaY:"vertical"===i?e.deltaY:"horizontal"===i?e.deltaX:e.deltaY,this.instance.delta[this.directionAxis]-=t*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(e){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=z(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(e){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(e){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(e){var t=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var i=100*(e.clientX-t.scrollbarBCR.left)/t.scrollbarWidth*t.instance.limit.x/100,n=100*(e.clientY-t.scrollbarBCR.top)/t.scrollbarHeight*t.instance.limit.y/100;n>0&&n<t.instance.limit.y&&(t.instance.delta.y=n),i>0&&i<t.instance.limit.x&&(t.instance.delta.x=i)}))}},{key:"addElements",value:function(){var e=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(t,i){var n,o,r,s=X(t),a=Object.entries(e.sections).map((function(e){var t=y(e,2);t[0];return t[1]})).find((function(e){return s.includes(e.el)})),l=t.dataset[e.name+"Class"]||e.class,c="string"==typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:"el"+i,h=t.dataset[e.name+"Repeat"],u=t.dataset[e.name+"Call"],d=t.dataset[e.name+"Position"],f=t.dataset[e.name+"Delay"],p=t.dataset[e.name+"Direction"],v="string"==typeof t.dataset[e.name+"Sticky"],m=!!t.dataset[e.name+"Speed"]&&parseFloat(t.dataset[e.name+"Speed"])/10,g="string"==typeof t.dataset[e.name+"Offset"]?t.dataset[e.name+"Offset"].split(","):e.offset,b=t.dataset[e.name+"Target"],w=(r=void 0!==b?document.querySelector("".concat(b)):t).getBoundingClientRect();null===a?(n=w.top+e.instance.scroll.y-G(r).y,o=w.left+e.instance.scroll.x-G(r).x):a.inView?(n=w.top+e.instance.scroll.y-G(r).y,o=w.left+e.instance.scroll.x-G(r).x):(n=w.top-G(a.el).y-G(r).y,o=w.left-G(a.el).x-G(r).x);var $=n+r.offsetHeight,S=o+r.offsetWidth,k={x:(S-o)/2+o,y:($-n)/2+n};if(v){var E=t.getBoundingClientRect(),O=E.top,_=E.left,x={x:_-o,y:O-n};n+=window.innerHeight,o+=window.innerWidth,$=O+r.offsetHeight-t.offsetHeight-x[e.directionAxis],k={x:((S=_+r.offsetWidth-t.offsetWidth-x[e.directionAxis])-o)/2+o,y:($-n)/2+n}}h="false"!=h&&(null!=h||e.repeat);var T=[0,0];if(g)if("horizontal"===e.direction){for(var L=0;L<g.length;L++)"string"==typeof g[L]?g[L].includes("%")?T[L]=parseInt(g[L].replace("%","")*e.windowWidth/100):T[L]=parseInt(g[L]):T[L]=g[L];o+=T[0],S-=T[1]}else{for(L=0;L<g.length;L++)"string"==typeof g[L]?g[L].includes("%")?T[L]=parseInt(g[L].replace("%","")*e.windowHeight/100):T[L]=parseInt(g[L]):T[L]=g[L];n+=T[0],$-=T[1]}var P={el:t,id:c,class:l,section:a,top:n,middle:k,bottom:$,left:o,right:S,offset:g,progress:0,repeat:h,inView:!1,call:u,speed:m,delay:f,position:d,target:r,direction:p,sticky:v};e.els[c]=P,t.classList.contains(l)&&e.setInView(e.els[c],c),(!1!==m||v)&&(e.parallaxElements[c]=P)}))}},{key:"addSections",value:function(){var e=this;this.sections={};var t=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===t.length&&(t=[this.el]),t.forEach((function(t,i){var n="string"==typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:"section"+i,o=t.getBoundingClientRect(),r={x:o.left-1.5*window.innerWidth-G(t).x,y:o.top-1.5*window.innerHeight-G(t).y},s={x:r.x+o.width+2*window.innerWidth,y:r.y+o.height+2*window.innerHeight},a="string"==typeof t.dataset[e.name+"Persistent"];t.setAttribute("data-scroll-section-id",n);var l={el:t,offset:r,limit:s,inView:!1,persistent:a,id:n};e.sections[n]=l}))}},{key:"transform",value:function(e,t,i,n){var o;if(n){var r=G(e),s=z(r.x,t,n),a=z(r.y,i,n);o="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(s,",").concat(a,",0,1)")}else o="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(t,",").concat(i,",0,1)");e.style.webkitTransform=o,e.style.msTransform=o,e.style.transform=o}},{key:"transformElements",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.instance.scroll.x+this.windowWidth,o=this.instance.scroll.y+this.windowHeight,r={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(s){var a=y(s,2),l=(a[0],a[1]),c=!1;if(e&&(c=0),l.inView||i)switch(l.position){case"top":c=t.instance.scroll[t.directionAxis]*-l.speed;break;case"elementTop":c=(o-l.top)*-l.speed;break;case"bottom":c=(t.instance.limit[t.directionAxis]-o+t.windowHeight)*l.speed;break;case"left":c=t.instance.scroll[t.directionAxis]*-l.speed;break;case"elementLeft":c=(n-l.left)*-l.speed;break;case"right":c=(t.instance.limit[t.directionAxis]-n+t.windowHeight)*l.speed;break;default:c=(r[t.directionAxis]-l.middle[t.directionAxis])*-l.speed}l.sticky&&(c=l.inView?"horizontal"===t.direction?t.instance.scroll.x-l.left+window.innerWidth:t.instance.scroll.y-l.top+window.innerHeight:"horizontal"===t.direction?t.instance.scroll.x<l.left-window.innerWidth&&t.instance.scroll.x<l.left-window.innerWidth/2?0:t.instance.scroll.x>l.right&&t.instance.scroll.x>l.right+100&&l.right-l.left+window.innerWidth:t.instance.scroll.y<l.top-window.innerHeight&&t.instance.scroll.y<l.top-window.innerHeight/2?0:t.instance.scroll.y>l.bottom&&t.instance.scroll.y>l.bottom+100&&l.bottom-l.top+window.innerHeight),!1!==c&&("horizontal"===l.direction||"horizontal"===t.direction&&"vertical"!==l.direction?t.transform(l.el,c,0,!e&&l.delay):t.transform(l.el,0,c,!e&&l.delay))}))}},{key:"scrollTo",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(i.offset)||0,o=i.duration||1e3,r=i.easing||[.25,0,.35,1],s=!!i.disableLerp,a=!!i.callback&&i.callback;if(r=ce.apply(void 0,v(r)),"string"==typeof e){if("top"===e)e=0;else if("bottom"===e)e=this.instance.limit.y;else if("left"===e)e=0;else if("right"===e)e=this.instance.limit.x;else if(!(e=document.querySelector(e)))return}else if("number"==typeof e)e=parseInt(e);else if(!e||!e.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof e){var l=X(e).includes(this.el);if(!l)return;var c=e.getBoundingClientRect(),h=c.top,u=c.left,d=X(e),f=d.find((function(e){return Object.entries(t.sections).map((function(e){var t=y(e,2);t[0];return t[1]})).find((function(t){return t.el==e}))})),p=0;p=f?G(f)[this.directionAxis]:-this.instance.scroll[this.directionAxis],n="horizontal"===this.direction?u+n-p:h+n-p}else n=e+n;var m=parseFloat(this.instance.delta[this.directionAxis]),g=Math.max(0,Math.min(n,this.instance.limit[this.directionAxis])),b=g-m,w=function(e){s?"horizontal"===t.direction?t.setScroll(m+b*e,t.instance.delta.y):t.setScroll(t.instance.delta.x,m+b*e):t.instance.delta[t.directionAxis]=m+b*e};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var $=Date.now(),S=function e(){var i=(Date.now()-$)/o;i>1?(w(1),t.animatingScroll=!1,0==o&&t.update(),a&&a()):(t.scrollToRaf=requestAnimationFrame(e),w(r(i)))};S()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(e,t){this.instance=a(a({},this.instance),{},{scroll:{x:e,y:t},delta:{x:e,y:t},speed:0})}},{key:"destroy",value:function(){p(c(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}(w),be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=t,Object.assign(this,b,t),this.smartphone=b.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=b.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return o(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new ge(this.options):this.scroll=new E(this.options),this.scroll.init(),window.location.hash){var e=window.location.hash.slice(1,window.location.hash.length),t=document.getElementById(e);t&&this.scroll.scrollTo(t)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(e,t){this.scroll.scrollTo(e,t)}},{key:"setScroll",value:function(e,t){this.scroll.setScroll(e,t)}},{key:"on",value:function(e,t){this.scroll.setEvents(e,t)}},{key:"off",value:function(e,t){this.scroll.unsetEvents(e,t)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}();t.a=be}).call(this,i(19))}});
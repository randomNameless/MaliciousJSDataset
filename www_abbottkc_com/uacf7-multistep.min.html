<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uacf7-multistep.min.html</title>
</head>
<body>

<script>
jQuery(document).ready(function(){jQuery('.wpcf7-form').each(function(){var e=jQuery(this).find('.uacf7-repeater-count').val(),a=1,c=jQuery(this).find("input[name=_wpcf7]").val(),f=jQuery(this).find('.uacf7-next[data-form-id="'+c+'"]'),g=jQuery(this).find('.uacf7-prev[data-form-id="'+c+'"]'),d='.uacf7-step-'+c,h=jQuery(d,this).length;jQuery(d,this).each(function(){var b=jQuery(this);b.attr('id',c+'step-'+a),b.attr('step-id',a),a==1&&b.addClass('step-start'),h==a&&b.addClass('step-end'),a++}),g.on('click',function(a){a.preventDefault()}),f.on('click',function(a){a.preventDefault();var f=jQuery(this);b(f,d,c,e)})});function b(g,n,f,m){var b=jQuery(g).closest(n),h=1+parseInt(b.attr('step-id')),a=b.find('.wpcf7-form-control:not(.uacf7-hidden .wpcf7-form-control, span.wpcf7-form-control)').map(function(){var b,a;if(typeof this.name!='undefined')return b=this.name.indexOf('[]'),b!==-1?(a=this.name.replace('[]','')):(a=this.name),a}).get(),q,j,i,e,o,l,p;b.find('.wpcf7-form-control input').length>0&&b.find('.wpcf7-form-control input').each(function(){var c=jQuery('.wpcf7-form-control input[name="'+this.name+'"]:checked').val(),b;jQuery(this).is("input[type='checkbox']")?typeof c=='undefined'&&(b=this.name.replace('[]',''),a.push(b)):typeof c=='undefined'&&(b=this.name,a.push(b))});function k(a,b,c){return c.indexOf(a)===b}a=a.filter(k),q='',j=jQuery(b).find(".wpcf7-form-control").serialize(),jQuery(b).find(".wpcf7-form-control[type='file']").length>0&&jQuery(b).find(".wpcf7-form-control[type='file']").each(function(b,c){if(j+="&"+jQuery(this).attr('name')+"="+jQuery(this).val(),jQuery(this)[0].files.length>0){var a=jQuery(this)[0].files[0].size;j+="&"+jQuery(this).attr('name')+"_size="+a}}),i=[];for(let b=0;b<a.length;b++)a[b]!=''&&(e=jQuery("[name="+a[b]+"]"),typeof e[0]=='undefined'&&(e=jQuery('[name="'+a[b]+'[]"]')),e=e[0].localName,typeof m!='undefined'?(o=jQuery("[name="+a[b]+"]").val(),l=jQuery("[name="+a[b]+"][type='checkbox']"),(o==''||l.length>0)&&i.push(''+e+':'+a[b]+'')):i.push(''+e+':'+a[b]+''));p=j+'&'+'action='+'check_fields_validation'+'&'+'form_id='+f+'&'+'validation_fields='+i+'&'+'current_fields_to_check='+a+'&'+'ajax_nonce='+uacf7_multistep_obj.nonce,jQuery.ajax({url:uacf7_multistep_obj.ajax_url,type:'post',dataType:"json",data:p,beforeSend:function(){jQuery(g).closest(".uacf7-step").find('.uacf7-ajax-loader').addClass('is-active')},success:function(a){var e,j,k,i,l;jQuery(g).closest(".uacf7-step").find('.uacf7-ajax-loader').removeClass('is-active'),e=typeof a=='object'?a:JSON.parse(a),j=jQuery('form'),c(j,b);try{e.is_valid?(k=jQuery(g).closest(".uacf7-step"),i=k.attr("id"),l=jQuery('div.setup-panel div a[href="#'+i+'"]').parent().next().children("a"),jQuery('.steps-step').find('a[data-form-id="'+f+'"]').removeClass('uacf7-btn-active'),b.hide(),b.addClass('completed'),jQuery('#'+f+'step-'+h).show(),jQuery('.steps-step').find('a[href="#'+i+'"]').addClass('completed'),jQuery('.steps-step').find('a[href="#'+f+'step-'+h+'"]').addClass('uacf7-btn-active'),jQuery('.steps-step').find('a[href="#'+f+'step-'+h+'"]').parent().addClass('step-complete'),jQuery('.current-step-title').find('.step-title').hide(),jQuery('.current-step-title').find('.step-title.step-'+h).show()):jQuery.each(e.invalid_fields,function(b,a){jQuery(a.into,'form').each(function(){jQuery('.wpcf7-form-control',this).addClass('wpcf7-not-valid'),jQuery('[aria-invalid]',this).attr('aria-invalid','true'),jQuery(this).append('<span class="wpcf7-not-valid-tip" aria-hidden="true">'+a.message+'</span>')})})}catch(a){console.log("error: "+a)}typeof uacf7_multistep_scroll!='undefined'&&uacf7_multistep_scroll.scroll_top==1&&d(g.parents('form'))},error:function(a){alert('Error ajax load'+a)}})}function c(b,a){b.removeClass('invalid'),jQuery('.wpcf7-response-output',b).removeClass('wpcf7-validation-errors'),jQuery('.wpcf7-form-control',a).removeClass('wpcf7-not-valid'),jQuery('[aria-invalid]',a).attr('aria-invalid','false'),jQuery('.wpcf7-not-valid-tip',a).remove()}function d(a){jQuery([document.documentElement,document.body]).animate({scrollTop:jQuery(a).offset().top-120},500)}function e(b,c,e){var b=b.closest(e),d=b.find('.wpcf7-acceptance');if(d.length==0)return!1;d.each(function(){var d,e;jQuery(this).hasClass('invert')?(d=!0):(d=!1),jQuery(this).hasClass('optional')?(e=!0):(e=!1),a(b,d,e,c,this.checked),jQuery(this).find('input[type="checkbox"]').change(function(){a(b,d,e,c,this.checked)})})}function a(b,d,f,c,e){var a;d==!0&&e==!1?(a=!1):d==!1&&e==!0?(a=!1):(a=!0),a==!0?b.find(c).prop("disabled",!0):b.find(c).prop("disabled",!1),f==!0&&b.find(c).prop("disabled",!1)}})
</script>

</body>
</html>

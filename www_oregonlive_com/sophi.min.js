(()=>{var e={738:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});const r={isTrackerOn:!0,configEndpoint:"ecollector-us-east.sophi.io",enablePagePing:!1,enableClickTracking:!1,enableLinkTracking:!1},o={...r},i={...r,configEndpoint:"ecollector-advancelocal.sophi.io"};var a=n(962),c=n(551),s=n.n(c);const{sophi:u={}}=window,{appId:l=""}=u.settings||{},d=l.split(":")[0],f=s()(d),p=[7094540240863471,6201846901155175,5465283548726153,6781593434852147][a.eq](f)?{wan:o,advancelocal:i,tribune:o,sophi:o}[d]:a.ZH},962:(e,t,n)=>{"use strict";n.d(t,{DO:()=>w,Ku:()=>r,Ml:()=>f,Nz:()=>o,SL:()=>s,Ub:()=>b,W8:()=>i,ZE:()=>y,ZH:()=>c,_K:()=>d,bE:()=>k,ds:()=>T,eq:()=>m,ff:()=>u,iG:()=>S,pi:()=>g,r5:()=>l,rF:()=>j,rT:()=>a,t0:()=>p,u1:()=>h,w0:()=>v,xq:()=>_});const r="Can't determine",o="warning",i=!1,a=!0,c=void 0,s="(not provided)",u="error",l=["ampproject.org","google.com/amp"],d="_sp_duid",f=[],p={},h="",g="length",m="includes",y="type",v="csUserId",w=setTimeout,b="addEventListener",k="00000000-0000-4000-8000-000000000000",_=e=>document.querySelector(e),T=e=>document.querySelectorAll(e),S=e=>[...document.getElementsByTagName(e)],j="sophi";[p,f].forEach((e=>Object.freeze(e)))},896:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(962),o=n(935);const i=(e=r.ZH)=>{if(e&&(0,o.Kg)(e)){if(new RegExp("^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$").test(e))return e}return(()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()+e()+e()}`})()}},861:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(962),o=n(3),i=n(935),a=n(655),c=n(713);let s;const u=(e,t)=>{const n=e||(e=>{let t=e||(o.uV.data.visitor||r.t0).uid;return t=(0,c.As)(t),t})();if(n&&s!==n){const e=(0,c.As)(n);return(e=>{(0,a.M_)("uid",e)})(e),s=e,n}const u=t||(()=>{let e=(0,a.M_)("uid");return e=(0,i.zz)(e)?(0,c.As)(e):r.ZH,e})();return u&&s!==u?(s=u,u):r.ZH}},551:e=>{e.exports=(e,t=0)=>{let n=3735928559^t,r=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}},686:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(962);const o=(e,...t)=>(0,r.DO)(e,0,...t)},935:(e,t,n)=>{"use strict";n.d(t,{B0:()=>s,Et:()=>d,Gv:()=>f,Kg:()=>o,Lm:()=>l,Tn:()=>a,cy:()=>i,y5:()=>u,zz:()=>c});var r=n(962);const o=e=>"string"==typeof e,{isArray:i}=Array,a=e=>"function"==typeof e,c=e=>![null,"false","undefined","{}","null",r.u1,r.Ml,r.t0,r.ZH,r.W8][r.eq](e),s=e=>!!e,u=e=>({elementMaxSize:e}),l=e=>"boolean"==typeof e,d=e=>"number"==typeof e,f=e=>e&&"object"==typeof e&&e.constructor===Object},655:(e,t,n)=>{"use strict";n.d(t,{M_:()=>f,aW:()=>u,n0:()=>l,v8:()=>d});var r=n(962),o=n(829);const{cookieLifeTime:i,sessionDuration:a,trackerName:c}=o.O,s="storeAndLog",u=(e,t,n,o=r.t0,i=r.t0,...a)=>{const c={message:e,type:t,origin:n,errorObject:o,contextData:i,isTrackable:a[0]||r.W8,isFatal:a[1]||r.W8,useWindowLog:a[2]||r.W8,inQ:a[3]||r.rT},s=!!f("debug")||!!f("sendLogData")&&"send";s&&(window[r.rF].logs[c.type].push(c),"send"===s&&window[r.rF].sendEvent({type:"error",data:c}))},l=(e,t,n)=>{try{if(navigator.cookieEnabled){const o=new Date;o.setTime(o.getTime()+1e3*(n?24*n*60*60:i));const a=window.location.hostname.split(".").slice(-2).join(".");return document.cookie=`${e}=${t}; expires=${o.toGMTString()}; path=/; domain=${a}; SameSite=None; secure`,r.rT}}catch(o){window.sophi.log("createCookie() failed",r.Nz,s,o,{name:e,value:t,days:n})}return r.W8},d=e=>{try{return navigator.cookieEnabled?document.cookie.split("; ").map((e=>e.split("="))).filter((([t])=>t===e))[0][1]:r.W8}catch(t){return u("readCookie() failed",r.Nz,s,t,{name:e}),null}},f=(e,t,n=i)=>{try{const o=n<=a?"sessionStorage":"localStorage";let s;const u=`${c}.${e}`;let f=t;const p=window[o],h=((e="localStorage")=>{try{const t=window[e],n="!@#$%^";t.setItem(n,n);const r=!!t.getItem(n);return t.removeItem(n),r}catch(e){return r.W8}})(o);if(f||f===r.W8)return"object"==typeof f&&(f=JSON.stringify(f)),h?p.setItem(u,f):l(u,f.substring(0,256),n===i?n/24/60/60:n),r.rT;if(f===r.ZH){s=h?localStorage.getItem(u)||sessionStorage.getItem(u):d(u);try{s=JSON.parse(s)}catch(e){}return s}if(null===f)return h?(localStorage[u]?localStorage:sessionStorage).removeItem(u):l(u,r.u1,-1),r.rT}catch(o){u("store() failed",r.Nz,s,o,{key:e,value:t,storagePeriod:n})}return r.W8}},713:(e,t,n)=>{"use strict";n.d(t,{As:()=>d,Dk:()=>l,J2:()=>a,J5:()=>s,Yg:()=>u,Yp:()=>i,hI:()=>c});var r=n(962),o=n(935);const i=(e,{elementMaxSize:t=2048}=r.t0)=>e&&(0,o.Kg)(e)&&e.trim()[r.pi]?e.trim().substring(0,t):r.ZH,a=(e,{elementMaxSize:t=2048}=r.t0)=>(i(e,{elementMaxSize:t})||r.u1).toLowerCase()||r.ZH,c=(e,t=128)=>e?a(e,(0,o.y5)(t)):r.ZH,s=(e,t=128)=>i(e,(0,o.y5)(t)),u=e=>{if(!(0,o.Kg)(e))return r.ZH;return e.toLowerCase().replace(/-([a-z])/g,(e=>e[1].toUpperCase()))},l=e=>{const t=e=>e?new Date(e):new Date,n=e=>(null!==e.match(/^\d{4}-\d\d-\d\d\s\d\d:\d\d:\d\d$/)?`${e}.000Z`:e).replace(/^(\d{4}-\d\d-\d\d)(\s)(\d\d:\d\d:\d\d(\.\d{3}(Z)|(-\d\d:\d\d))?)$/,"$1T$3"),o="number"==typeof e?10===(i=e).toString()[r.pi]&&1e3*t(i).getFullYear()>=t().getFullYear()?new Date(1e3*i):t(i):"string"==typeof e&&!Number.isNaN(t(n(e)).getTime())&&t(n(e));var i;return"[object Date]"!==Object.prototype.toString.call(o)||Number.isNaN(o.getTime())?r.ZH:o.toISOString()},d=e=>{if(e&&"number"==typeof e){return e.toString()}return e}},3:(e,t,n)=>{"use strict";n.d(t,{bx:()=>R,YZ:()=>Y,vb:()=>W,cd:()=>q,j0:()=>A,$2:()=>x,LQ:()=>G,Md:()=>U,HZ:()=>N,q$:()=>ae,Tu:()=>$,$f:()=>J,t9:()=>te,uV:()=>m});var r=n(744),o=n.n(r),i=n(962);const a=(e,t=[],n=[])=>{const r=[];t.forEach((t=>{t===e||(-1!==e.indexOf(t)?r.push(`(\\/\\/|\\.)${t}`):-1!==t.indexOf(`.${e}`)||r.push(t))}));return r.concat(n)};var c=n(829),s=n(655),u=n(935),l=n(738),d=n(617),f=n(686);const p=()=>{const{subDomain:e,environment:t}=window.sophi?.data?.environment,n="stg",r="dev";return t===r||/dev|development/.test(e)||/localhost|(127\.0\.0\.1)/.test(document.location.hostname)?r:t===n||/stg|qa|staging/.test(e)?n:"prod"},h="sophi/init.js",g={data:c.B,settings:c.O,contexts:{extract:{itemImpressions:{settings:{shouldTrackLink:e=>{try{if(!e.href)throw e;return!!e.protocol.match(/https?|mailto:/i)}catch(t){window[i.rF].log(`${i.Ku} href of an anchor`,i.Nz,h,t,{element:e})}return i.W8}}},linkProperties:{}},settings:{includeMetaData:i.rT}},itemImpression:{linkData:[],linkProcessed:[]},functions:i.t0,logs:{error:[],warning:[],other:[]},log:s.aW};g.settings.scripts.url=`${g.settings.baseUrl+g.settings.scriptDir}/`,window[i.rF]=window.sophi?o()(g,window.sophi):g;const m=window[i.rF],{settings:y}=window[i.rF];window[i.rF].data.environment.client=y.client,m.data.environment.environment=p();const{environment:v,site:w}=m.data.environment,{stagingEndpoint:b,collectorEndpoint:k}=m.settings,{configEndpoint:_}=l.A||{},T=(({environment:e,stagingEndpoint:t,configEndpoint:n,collectorEndpoint:r})=>["dev","stg"][i.eq](e)&&t?t:n||(r||"collector.sophi.io"))({environment:v,stagingEndpoint:b,configEndpoint:_,collectorEndpoint:k}),{appId:S=i.u1,client:j}=y,O=((e=i.u1)=>{if(e){const t=3===e.split(":")[i.pi],n="website"===e.split("-").pop();if(t||n)return e}return`${e||"no_client_id"}-website`})(S||w||j)||i.u1;if(window[i.rF].settings.discoverRootDomain="string"!=typeof y.cookieDomain,window[i.rF].settings.trackerSettings={appId:O,platform:"web",cookieName:y.trackerName,cookieDomain:y.cookieDomain,discoverRootDomain:y.discoverRootDomain,encodeBase64:y.encodeBase64,pageUnloadTimer:300,post:y.enablePost,respectDoNotTrack:!!y.dnt,forceSecureTracker:y.forceSecureTracker,sessionCookieTimeout:y.sessionDuration,bufferSize:y.bufferSize,cookieSecure:y.cookieSecure,cookieSameSite:y.cookieSameSite,beacon:i.rT},!window[window[i.rF].settings.trackerName]){const e="$OPHI_GN",t=window[i.rF].settings.trackerName;window[e]=window[e]||[],window[e].push(t),window[t]=(...e)=>{(window[t].q=window[t].q||[]).push(e)},window[t].q=window[t].q||[];const{onLoadCallback:n}=window[i.rF].settings;window[t]((()=>{(0,f.d)((()=>{n&&(0,u.Tn)(n)&&n(),(0,d.A)()}))}))}try{const{linkedDomains:e,host:t=window[i.rF].data.environment.host}=window[i.rF].settings;if(Array.isArray(e)){const n=a(t,e,i.r5),r=new RegExp(`(${n.join(")|(").replace(/\./gi,"\\.")})`,"i");window[i.rF].settings.trackerSettings.crossDomainLinker=e=>r.test(e.href)}}catch(e){window[i.rF].log("Cross domain tracking failure",i.Nz,h,e,i.t0,i.rT)}const{data:{page:{breadcrumb:C,title:A,type:x}=i.t0,visitor:{type:E,isLoggedIn:I,uid:D}=i.t0,environment:{host:P}=i.t0,decision:{trace:L}=i.t0,client_session:{userId:N,sessionId:M}=i.t0,pvUUID:H}=i.t0,settings:{sessionDuration:U,onePageApp:Z,trackerName:$,duplicateEndpoint:F,duplicateT:V,client:z,collectorEndpoint:B,trackerSettings:J,enablePagePing:R,pagePing:{start:q,interval:W},pvUUIDName:G,isSPA:Y,cookieLifeTime:K,adCallback:Q,videoCallback:X,videoDisabledList:ee,iframeOriginList:te,plugin:{adblock:ne=i.rT,private:re=i.rT,video:oe,advancedVideo:ie}=i.t0}=i.t0}=window[i.rF]||i.t0,ae=[[$,T],[V,F]]},617:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(962),o=n(686);const i=(e,t)=>{const{addedNodes:n}=e;n[r.pi]&&n.forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&(0,o.d)(t,e)}))},a=(e,t)=>{e.forEach((e=>{(0,o.d)(i,e,t)}))};const c=function(e){this.observe=()=>{new MutationObserver((t=>{(0,o.d)(a,t,e)})).observe(document.body,{childList:r.rT,subtree:r.rT})}};var s=n(935),u=n(713),l=n(434);const d=(e,t=document.location.href)=>new URL(e).hostname===new URL(t).hostname,f=(e,t,n=Date.now())=>{let r;const o=`${t}.${n}`;return r="&"===e.slice(-1)?`${e}_sp=${o}`:e.includes("?")?`${e}&_sp=${o}`:`${e}?_sp=${o}`,r},p=(e,t=(0,l.d)())=>{(0,s.cy)(e)&&!!e[r.pi]&&e.forEach((({attribute:e,cssSelector:n})=>{if(n&&e){[...(0,r.ds)(`${n}[${e}]`)].forEach((n=>{const o=(0,u.Yg)(e.slice(5)),i=document.location.href;if(e.startsWith("data-")&&!d(n.dataset[o],i)){if(!n.dataset[o][r.eq]("_sp=")){const e=n.dataset[o],r=f(e,t);n.dataset[o]=r}}else if(!d(n.getAttribute(e),i)&&!n.getAttribute(e)[r.eq]("_sp")){const r=n.getAttribute(e),o=f(r,t);n.setAttribute(e,o)}}))}}))},h=()=>window.sophi?.settings?.listOfButtonsToDecorate,g=e=>{const t=h();"BUTTON"===e.nodeName&&p(t)};new c((e=>{(0,o.d)(g,e)})).observe();const m=(e=h())=>{(0,s.cy)(e)&&e[r.pi]&&p(e)}},829:(e,t,n)=>{"use strict";n.d(t,{B:()=>l,O:()=>u});var r=n(962),o=n(935),i=n(738);const{enablePagePing:a,enableClickTracking:c,pagePing:s}=i.A||{},u={baseUrl:"https://cdn.sophi.io/",scriptDir:"latest",optOutCookieName:"sophiOptOut",scripts:{timeout:5e3,timeSpent:0,lastTs:Date.now(),interval:2e3,isWaiting4LR:r.W8},trackerName:"sophiTag",duplicateT:"sophi_2",cookieLifeTime:15552e3,sessionDuration:1800,consentExpiry:63072e6,stateStorageStrategy:"cookieAndLocalStorage",cookieSecure:r.rT,cookieSameSite:"None",enablePagePing:(0,o.Lm)(a)?a:r.rT,pagePing:s||{start:5,interval:20},enableClickTracking:(0,o.Lm)(c)?c:r.rT,clickFilter:r.ZH,enablePost:r.rT,forceSecureTracker:r.rT,encodeBase64:r.W8,cookieDomain:r.W8,bufferSize:1,plugin:{video:r.rT},isSPA:"thewest.com.au"===window.location.host},l={page:{},environment:{location:document.location.hostname.split("."),get host(){return this.location.slice(-2).join(".")},get site(){return this.host.split(".")[0]},get subDomain(){return this.location.slice(0,-2).join(".")},trackerVersion:"3.0.4"}}},619:(e,t,n)=>{"use strict";n.d(t,{A:()=>re});var r=n(962),o=n(3),i=n(434),a=n(861),c=n(935),s=n(713);const u=(e,t=r.ZH)=>{let n=(0,c.cy)(e)?[...new Set(e)].filter(Boolean):r.ZH;if((0,c.cy)(n)&&n[0])if(t&&"string"==typeof t){const e=[];n=n.filter((n=>-1===e.indexOf(n[t])?(e.push(n[t]),r.rT):r.W8))}else"object"==typeof n[0]&&(n=n.filter(((e,t)=>{const r=JSON.stringify(e);return t===n.findIndex((e=>JSON.stringify(e)===r))})));return(n||r.Ml)[r.pi]?n:r.ZH},l=(e=[],t=1/0,n=1/0)=>{let o=(0,c.cy)(e)&&e[r.pi]?u(e):r.ZH;try{o&&(o=o.map((e=>(0,s.J2)(e,{elementMaxSize:n}))).filter((e=>e&&e[r.pi]<=n)),o[r.pi]>t&&(o[r.pi]=t))}catch(o){window[r.rF].log("normalizeStringArray() failed",r.Nz,"arrayHelpers",o,{array:e,arrayMaxLength:t,elementMaxSize:n})}return o&&o[r.pi]>0?o:r.ZH},d=(e,t=100,n=128)=>(0,c.cy)(e)&&e[r.pi]?l(e,t,n):r.ZH,f=(e,t=",")=>{let n=e;return n=n&&(0,c.Kg)(n)?e.split(t).map((e=>(e||r.u1).trim())):r.ZH,e&&(0,c.cy)(e)?e:n},p=/^((?:(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}:\d{2}(?:\.\d+)?))(Z|[+-]\d{2}:\d{2})?)$/,h=e=>e&&Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length>0?e:r.ZH,g=e=>{if((0,c.cy)(e)&&e.length>0){const t=e.filter((e=>"object"==typeof e));return t[r.pi]>0?t:r.ZH}return r.ZH};var m=n(655),y=n(896);const v=(e,t=r.ZH)=>{try{const n="getAttribute",o=(0,r.iG)("meta").filter((t=>(t[n]("name")||t[n]("property"))===e))[0].content;return o?o.substring(0,t):r.ZH}catch(e){return r.ZH}},w=e=>[null,r.u1,r.ZH][r.eq](e)||Number.isNaN(e)||"boolean"==typeof e?r.ZH:+e,b=(e,t=0)=>w(e)>t?w(e):r.ZH,k="defaultContexts",_=["facebook","google","linkedin","twitter","microsoft","auth0","auth2","aws","active directory","azure","sharepoint","ip","ldap","yahoo","wordpress","baidu","ping federate","ws-federation","yandex","instagram","weibo","other"],T="version",S="fields",j="vendor",O="dataFunction",C="dataValidator",A="feature",x="action",E="label",I="contentId",D="article",P="string",L="com.snowplowanalytics.snowplow",N="com.sophi",M={defaultValue:r.SL},H={defaultValue:0},U={isRequired:r.rT},Z={[C]:e=>(e=>"string"!=typeof e||0===e.length?r.ZH:e)(e)},$={[C]:e=>(e=>"number"!=typeof e||Number.isNaN(e)||e===1/0?r.ZH:e)(e)},F={[C]:e=>(e=>"boolean"!=typeof e?r.ZH:e)(e)},V={[C]:e=>(e=>!(0,c.cy)(e)||e.length<1?r.ZH:e)(e)},z={[C]:e=>h(e)},B={[C]:e=>(e=>"string"==typeof e&&new RegExp(p).test(e.toUpperCase())?e.toUpperCase():r.ZH)(e)},J=["Anonymous","Registered","Subscribed"],R={defaultValue:J[0]},q=["article","section","account","subscription","game","tool","stock","gallery","slideshow","video","error","utility","page","funnel","conversion","in app web-view","(not provided)"],W=["article","video","audio","image"],G={connector:()=>({[T]:"1-0-4",[S]:{pageViewUUID:{...U,defaultValue:(window.sophi.data.pvUUID=(0,y.j)(window.sophi.data?.pvUUID||window[window.sophi.settings?.pvUUIDName]),window.sophi.data?.pvUUID),...Z}}}),environment:()=>({[T]:"1-0-8",[S]:{state:{[O]:e=>document.hidden?"inactive":e,...U,defaultValue:"active",...Z},environment:{[O]:(e=r.u1)=>(0,s.J2)(["dev","stg"][r.eq](e)?e:"prod"),...U,defaultValue:"prod",...Z},client:{[O]:s.J2,...Z},clientConfigVersion:{...Z},isAdBlock:{[O]:c.B0,...F},[T]:{[O]:s.J2,...Z},trackerVersion:{...Z},screenOrientation:{[O]:e=>e||(window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"),...Z},connectionType:{[O]:e=>{const{mozConnection:t,webkitConnection:n,connection:o}=navigator;return e||(o||t||n||r.t0).effectiveType},...Z}}}),page:()=>({[T]:"1-0-14",[S]:{[r.ZE]:{[O]:e=>q[r.eq](e)?e:W[r.eq]((window.sophi.data?.content||r.t0).type)?D:r.ZH,...U,...M,...Z},breadcrumb:{[O]:e=>{let t=e;t||(t=document?.location?.pathname?.split("/").filter((e=>e&&e.length>0)),(window.sophi.data?.page||r.t0).type===D&&t.splice(-1)),t&&(0,c.Kg)(t)&&/:(section|article)$/i.test(t)&&(t=t.replace(/:(section|article)$/i,""));const n=(0,s.J2)(t,(0,c.y5)(1024));return n?n.replace(/\/|>/g,":").replace(/(^:)|(:$)/g,""):r.ZH},...U,...M,...Z},sectionName:{[O]:e=>(0,s.hI)(e!==r.SL&&e?e:((window.sophi.data?.page||r.t0).breadcrumb||r.u1).split(":")[0]),...U,...M,...Z},keywords:{[O]:(e=r.Ml)=>{let t=e;return e&&e[r.pi]||(t=v("keywords")),"string"==typeof t&&t[r.pi]&&(t=t.split(",").map((e=>e.trim()))),d(t)},...V},topics:{[O]:d,...V},dateCreated:{[O]:s.Dk,...B},dateModified:{[O]:s.Dk,...B},datePublished:{[O]:s.Dk,...B},layout:{[O]:s.hI,...Z},flags:{[O]:e=>d(e,20),...V},isTranslated:{[O]:e=>document.documentElement?/translated-(ltr|rtl)/.test(document.documentElement?.className)&&!!document.documentElement?.getAttribute("lang"):e,...F},rid:{[O]:e=>{const t=(window.sophi.data?.page||r.t0).rid||e;if(t)return t;const{referrer:n}=window?.document,o=(0,m.M_)(`click-rid-${n}`);return o&&(window.sophi.data.page.rid=o,(0,m.M_)(`click-rid-${n}`,null)),o},...Z}}}),metadata:()=>({[T]:"1-0-1",[S]:{canonicalURL:{[O]:e=>(0,s.Yp)(e||((0,r.xq)("link[rel=canonical]")||r.t0).href),...Z},amphtmlURL:{[O]:e=>(0,s.Yp)(e||((0,r.xq)("link[rel=amphtml]")||r.t0).href),...Z},ogSiteName:{[O]:e=>(0,s.J5)(e||v("og:site_name")),...Z},ogTitle:{[O]:e=>(0,s.J5)(e||v("og:title"),512),...Z},ogDescription:{[O]:e=>(0,s.J5)(e||v("og:description"),2048),...Z},ogType:{[O]:e=>(0,s.hI)(e||v("og:type")),...Z},articlePublishedTime:{[O]:e=>(0,s.Dk)(e||v("article:published_time")),...Z,...B},articleTag:{[O]:e=>(0,s.J5)(e||v("article:tag"),512),...Z},articleSection:{[O]:e=>(0,s.J5)(e||v("article:section"),512),...Z}}}),content:()=>({[T]:"1-0-12",[S]:{[r.ZE]:{[O]:e=>e&&W[r.eq](e)?e:r.ZH,...U,defaultValue:D,...Z},[I]:{[O]:e=>(0,s.J5)(e,256),...U,...M,...Z},accessName:{[O]:e=>(0,s.hI)(e,256),...Z},subtype:{[O]:s.hI,...Z},accessCategory:{...U,defaultValue:"free access",...Z},creditLine:{[O]:e=>(0,s.hI)(e,256),...Z},ownership:{[O]:s.hI,...Z},byline:{[O]:e=>{if(e&&e[r.pi]){const t=e.map((e=>(0,s.J5)(e))),n=u(t);return(0,c.cy)(n)&&n[r.pi]>10&&(n[r.pi]=10),n}return r.ZH},...V},contentSize:{[O]:e=>{if("Subscribed"!==(window.sophi.data?.visitor||r.t0).type&&"subscribers only"===(window.sophi.data?.content||r.t0).accessCategory)return r.ZH;let t=e;return Number.isNaN(t)&&(t=0),t>0?t:(t=(((e="article p, .article p")=>{let t=[...document.querySelectorAll(e)];return t=t.filter((e=>{const{right:t,left:n}=e.getBoundingClientRect();return t-n>0})),t[r.pi]?t:r.ZH})()||r.Ml).map((e=>e.innerText)).join().split(/\W+/).filter(Boolean)[r.pi],!Number.isNaN(t)&&t>0?t:r.ZH)},...$},relatedIds:{[O]:e=>{if(e&&e[r.pi]){const t=u(e);return(0,c.cy)(t)&&t[r.pi]>10&&(t[r.pi]=10),t}return r.ZH},[C]:e=>(0,c.cy)(e)?e.map((e=>{return n={id:P,relationship:P},"object"==typeof(t=e)&&h(n)&&Object.entries(n).every((([e,n])=>e in t&&typeof t[e]===n))?t:r.ZH;var t,n})):r.ZH},contentOrder:{[O]:e=>e?(0,s.J5)(String(e),16):r.ZH,...Z}}}),visitor:()=>({[T]:"1-0-8",[S]:{[r.ZE]:{[O]:e=>{const t=J[0],n=(e=>{if(e){if(J[r.eq](e))return e}return r.ZH})((0,m.M_)("vat")),o=e=>{(0,m.M_)("vat",e),(0,m.M_)("vatP",e)};if(e){if(J[r.eq](e)){const i=(window.sophi.data?.visitor||r.t0).type;return e===t&&i&&e!==i?(o(i),i):i===t&&n&&i!==n?n:(e!==n&&o(e),e)}(0,m.aW)(`Unexpected account type, resetting to ${n||t}`,r.Nz,k,r.t0,{type:e},r.rT)}return n||t},...U,...R,...Z},isLoggedIn:{[O]:e=>{const t="boolean"==typeof(n=(0,m.M_)("loggedIn"))?n:r.ZH;var n;return"boolean"==typeof e?(e!==t&&(0,m.M_)("loggedIn",e),e):t||r.W8},...U,defaultValue:!1,...F},postalCode:{[O]:(e=r.u1)=>e&&/^[A-Z0-9-]{2,24}$/.test(e)?`${e}`.toUpperCase():r.ZH,...Z},countryCode:{[O]:(e=r.u1)=>e&&/^[A-Z]{2}$/.test(e)?`${e}`.toUpperCase():r.ZH,...Z},loginProvider:{[O]:e=>{const t=e=>{const t=(0,s.J2)(e);return _[r.eq](t)?t:"in-house"},n=t((0,m.M_)("vlp"));if(e){const r=t(e);return r!==n&&(0,m.M_)("vlp",r),r}return n},...Z},serviceCode:{[O]:e=>(0,s.J5)(e,512),...Z},legacyUserId:{[O]:e=>(0,s.J5)(e,256),...Z},audienceId:{[O]:e=>(0,s.J5)(e,256),...Z},isInternal:{[O]:c.B0,...F},flags:{[C]:g}}}),wall_hit:()=>({[T]:"1-0-9",[S]:{[r.ZE]:{[O]:s.J2,...U,...M,...Z},name:{...Z},isDynamic:{[O]:c.B0,...F},wallReason:{...z},meterCount:{[O]:w,...$},meterLimit:{[O]:w,...$},adsVisible:{[O]:c.B0,...F},countVisibleParagraphs:{[O]:w,...$},viewType:{[O]:s.J2,...Z}}}),payment:()=>({[T]:"1-0-6",[S]:{transactionId:{...U,...M,...Z},revenue:{[O]:w,...U,...H,...$},tax:{[O]:w,...U,...H,...$},currency:{[O]:e=>((0,s.hI)(e,3)||r.u1).toUpperCase()||r.ZH,...Z},paymentType:{[O]:s.J2,...Z}}}),subscription_add:()=>({[T]:"1-0-5",[S]:{transactionId:{...U,...M,...Z},name:{...U,...M,...Z},termPrice:{[O]:w,...$},termPeriod:{...Z},termLength:{[O]:w,...$},startDate:{[O]:s.Dk,...B},endDate:{[O]:s.Dk,...B},funnelName:{[O]:s.hI,...Z},id:{...Z},campaignCode:{...Z},accountType:{...Z},rateType:{...Z},trialTermPrice:{[O]:w,...$},trialTermPeriod:{...Z},trialTermLength:{[O]:w,...$},promotionCode:{...Z},subscriptionType:{[O]:e=>{const t=(0,s.J2)(e);return["digital","print","3rd party"][r.eq](t)?t:((0,m.aW)("Unexpected subscriptionType",r.Nz,k,r.t0,{subscriptionType:e},r.rT),r.ZH)},...U,...M,...Z}}}),link_impressions:()=>({[T]:"1-0-11",[S]:{links:{[O]:e=>{const t=e.map((e=>({uri:e.uri?(0,s.J5)(e.uri,2048):r.SL,[A]:e[A]?(0,s.hI)(e[A]):r.SL})));return u(t)},...U,defaultValue:[{uri:r.SL,[E]:"link_impressions generated with no data supplied"}],...V}}}),newsletter_interaction:()=>({[T]:"1-0-1",[S]:{[x]:{[O]:s.J2,...U,...Z,...M},name:{[O]:s.J2,...Z},isUnsubscribeAll:{[O]:c.B0,...F},frequency:{...Z}}}),account_interaction:()=>({[T]:"1-0-6",[S]:{[r.ZE]:{[O]:e=>{if(e){const t=(0,s.J2)(e);if(["registration","login","account","alert"][r.eq](t))return t}return r.SL},...U,...M,...Z},[x]:{[O]:s.hI,...U,...M,...Z},[E]:{...Z}}}),comment_interaction:()=>({[T]:"1-0-1",[S]:{[x]:{[O]:s.J2,...U,...M,...Z},[A]:{[O]:s.J2,...Z}}}),link_click:()=>({[T]:"1-0-1",[j]:L,[S]:{targetUrl:{[O]:s.Yp,...U,...M,...Z},elementId:{...Z},elementClasses:{...V},elementTarget:{...Z},elementContent:{...Z}}}),click:()=>({[T]:"1-0-14",[S]:{[A]:{[O]:s.hI,...U,...M,...Z},[r.ZE]:{[O]:s.J2,defaultValue:"link",...Z},[E]:{[O]:e=>(0,s.hI)(e,256),...M,...Z},position:{[O]:b,...$},linkCount:{[O]:b,...$},targetContentId:{...Z},presentation:{[O]:e=>l(f(e),10,128),...V},presentationItemIDs:{[O]:e=>l(f(e),10,256),...V},hierarchy:{[O]:e=>b(e,-1),...$},engine:{[O]:s.hI,...Z},engineId:{[O]:e=>(0,s.hI)(e,256),...Z},isSponsored:{[O]:c.B0,...F},tab:{[O]:b,...$},[x]:{[O]:s.hI,...Z},isCurated:{[O]:c.B0,...F}}}),client_session:()=>({[T]:"1-0-1",[j]:L,[S]:{userId:{[O]:e=>{if(e&&e!==r.bE){const t=(0,s.J2)(e);return(0,m.M_)(r.w0,t),t}return(0,m.M_)(r.w0)||r.bE},...U,...M,...Z},sessionId:{[O]:e=>{const t="csSessionId";if(e&&e!==r.bE){const n=(0,s.J2)(e);return(0,m.M_)(t,`${n}|${Date.now()}`,o.Md),n}let n=(0,m.M_)(t);return n?(n=n.split("|"),(Date.now()-n[1])/1e3/60>30?((0,m.M_)(t,`${r.bE}|${Date.now()}`,o.Md),r.bE):n[0]):r.bE},...U,defaultValue:r.bE,...Z},sessionIndex:{[O]:e=>{const t="csSessionIndex";let n=(0,m.M_)(t),r=w(Math.round(+e));return n&&(n=n.split("|"),(n[0]>r||!r)&&([r]=n),(Date.now()-n[1])/1e3/60>30&&(r<=n[0]||!r)&&(r=w(n[0])+1)),r=w(Math.round(+r)),(0,m.M_)(t,`${r}|${Date.now()}`,o.Md),r},...U,defaultValue:0,...$},previousSessionId:{[O]:s.J2,...U,defaultValue:null,[C]:e=>"string"==typeof e&&0===e.length||null===e?e:r.ZH},storageMechanism:{...U,defaultValue:"SQLITE",...Z},firstEventId:{[O]:s.J2,...Z}}}),media_event:()=>({[T]:"1-0-2",[j]:N,[S]:{[r.ZE]:{[O]:s.J2,...U,...M,...Z},[x]:{[O]:s.J2,...U,...M,...Z},id:{[O]:s.J2,...U,...M,...Z},isAutoPlay:{[O]:c.B0,...F},isLiveStream:{[O]:c.B0,...F},duration:{[O]:w,...$},timeElapsed:{[O]:w,...$},playbackRate:{[O]:w,...$},previousPosition:{[O]:w,...$},featureType:{[O]:s.J2,...Z},[A]:{[O]:s.J2,...Z},isFullScreen:{[O]:c.B0,...F},isInView:{[O]:c.B0,...F},isMute:{[O]:c.B0,...F},isPopOut:{[O]:c.B0,...F},platform:{[O]:s.J2,...U,...M,...Z},language:{[O]:s.J2,...Z},voiceOption:{[O]:s.J2,...Z},closedCaptions:{[O]:s.J2,...Z},milestone:{[O]:w,...$}}}),ad_event:()=>({[T]:"1-0-2",[j]:N,[S]:{[r.ZE]:{[O]:s.J2,...U,...M,...Z},[x]:{[O]:s.J2,...U,...M,...Z},id:{[O]:s.J2,...U,...M,...Z},mediaId:{[O]:s.J2,...Z},isMute:{[O]:c.B0,...F},pricingModel:{[O]:s.J2,...Z},cost:{[O]:w,...$},isLinear:{[O]:c.B0,...F},timingType:{[O]:s.J2,...Z},top:{[O]:w,...$},left:{[O]:w,...$},height:{[O]:w,...$},width:{[O]:w,...$},[A]:{[O]:s.J2,...Z}}}),ab_tests:()=>({[T]:"1-0-0",[j]:N,[S]:{tests:{[O]:(e=[])=>{if(!e||!Array.isArray(e))return r.ZH;let t=[];return e[r.pi]>0&&(t=u(e.map((e=>{let{testId:t,engine:n,variantName:i,segmentName:a,duration:c,expiry:u,pageURL:l}=e,d=e.store;if(t=(0,s.J5)(t),t){const e=(new Date).getTime();return n=(0,s.J5)(n)||r.SL,i=(0,s.J5)(i)||r.SL,a=(0,s.J5)(a),["page","visit","visitor","duration"][r.eq](d)||(d=r.ZH),"duration"!==d||Number.isNaN(w(c))?"visit"===d?u=Math.round(e+1e3*o.Md):"page"===d&&(l=document.location.href):(c=w(c),u=Math.round(e+24*c*60*60*1e3)),{testId:t,engine:n,variantName:i,segmentName:a,store:d,duration:c,expiry:u,pageURL:l}}return r.ZH})),"testId")),t},...U,defaultValue:[{testId:r.SL,variantName:r.SL,segmentName:"ab_tests generated with no data supplied"}],[C]:g}}}),error:()=>({[T]:"1-0-2",[S]:{[r.ZE]:{[O]:s.J2,...U,defaultValue:"issue",...Z},origin:{[O]:s.J2,...U,...M,...Z},message:{[O]:s.J2,...U,...M,...Z},errorObject:{...z},contextData:{...z},isFatal:{[O]:c.B0,...F}}}),extra_data:e=>{const t=e&&(0,c.Gv)(e)?Object.keys(e):r.Ml,n=e=>(0,c.Kg)(e)?(0,s.Yp)(e,(0,c.y5)(256)):(0,c.Et)(e)?w(e):(0,c.Lm)(e)?e:r.ZH,o=e=>{if((0,c.cy)(e)){if(e.filter((e=>(0,c.Kg)(e)||(0,c.Lm)(e)||(0,c.Et)(e)))[r.pi]){return e.map(n).filter(Boolean)}return r.ZH}return n(e)},i=e=>(0,c.Kg)(e)||(0,c.Lm)(e)||(0,c.Et)(e)||(0,c.cy)(e)?e:r.ZH,a={};t[r.pi]&&t.forEach((e=>{a[e]={[O]:o,[C]:i}}));return{[T]:"1-0-0",[j]:N,[S]:a}},paywall_decision:()=>({[T]:"1-0-0",[j]:N,[S]:{trace:{[O]:()=>window?.sophi?.data?.decision?.trace?window.sophi.data.decision.trace:window?.sophi?.paywall?.decision?.response?.trace?window.sophi.paywall.decision.response.trace:r.ZH,...Z}}})},Y=(e,t)=>{let n={},o={},i={};try{if(e){const{fields:n,vendor:a,version:s}=G[e](t);if(o=window.sophi.data[e]||{},t&&t.constructor===Object&&Object.keys(t)[r.pi]&&(o={...o,...t}),i={schema:`iglu:${a||"com.globeandmail"}/${e}/jsonschema/${s}`,data:{}},i=(({fields:e,sophiData:t,context:n})=>(Object.entries(e).forEach((([e,{dataFunction:o,dataValidator:i,isRequired:a,defaultValue:s,value:l}])=>{let d=l;if(d="boolean"==typeof t[e]?t[e]:(0,c.cy)(t[e])?u(t[e]):t?t[e]:l,(0,c.Tn)(o)&&(d=o(d)),d=(0,c.Tn)(i)?i(d):r.ZH,d===r.ZH&&s!==r.ZH&&(d=s),n.data[e]=(0,c.cy)(d)&&!d[r.pi]?r.ZH:d,!n.data[e]&&n.data[e]===r.ZH&&a)throw new Error(`Field ${e} is required but not set`)})),n))({fields:n,sophiData:o,context:i}),i=(e=>e.data&&Object.values(e.data).some((e=>(0,c.Lm)(e)||e))?e:r.ZH)(i),i)return i}throw new Error("Context contains no data")}catch(e){n=e}return(0,m.aW)(`Failed to generate ${e} context`,r.ff,"getContexts",n,{contextData:t,sophiData:o,context:i}),r.ZH};var K=n(738);const Q="sendEvent",X=({eventType:e,eventData:t,eventContext:n={},eventConfig:i={},listOfGeneratedContext:a})=>{o.q$.forEach((([s,u])=>{const{schema:l,data:d}=n,{callback:f}=i,p=(0,c.Tn)(f)?()=>{setTimeout(f,0,t)}:null;if(s&&u)if("page_view"===e)o.bx&&!o.YZ&&window[o.Tu](`enableActivityTracking:${s}`,o.cd,o.vb),window[o.Tu](`trackPageView:${s}`,(e=>{let t=(e||v("og:title")||r.u1).trim()||document.title||((0,r.iG)("title")[0]||r.t0).innerText;try{const e=v("og:site_name"),{host:n}=document.location,r=new RegExp(`((\\s*(\\||-|:|~|–)\\s*)*(${e}|${n})$)|(^(${e}|${n})(\\s*(\\||-|:|~|–)\\s*)*)`);if(r.test(t)){const e=t;t=t.replace(r,""),t||(t=e)}}catch(e){}return t})(o.j0),a,null,null,p);else{if(!l)throw new Error(`No schema data provided for ${e}`);if(!d)throw new Error(`No schema data provided for ${d}`);window[o.Tu](`trackSelfDescribingEvent:${s}`,{schema:l,data:d},a,null,p)}}))},ee=e=>{window[o.Tu]("clearGlobalContexts"),window[o.Tu]("addGlobalContexts",(e=>{try{!0===o.uV.settings.isSPA&&"page_view"===e&&(o.uV.data.pvUUID=(0,y.j)(window[o.LQ]));const t=["connector","environment","visitor","page",o.HZ||(0,m.M_)(r.w0)?"client_session":r.ZH].map((e=>!!e&&Y(e))).filter(Boolean);if((t||r.Ml)[r.pi])return t}catch(e){(0,m.aW)("common_contexts() failed",r.ff,Q,e,r.ZH,r.rT)}return r.ZH})(e))},te=(e,t,n,i)=>{let a=[];(0,c.cy)(i)&&i[r.pi]&&a.push(u(i));const s=((e,t)=>{const n="content",i=o.uV.data.page&&o.uV.data.page.type,a=["article","video"][r.eq](i),c={wall_hit:[n,"paywall_decision"],feature_interaction:[n],link_click:["click"],payment:["subscription_add"],page_view:a?[n,"paywall_decision","metadata"]:["metadata"],account_interaction:["visitor"]};return"media_event"===e&&["play","pause"][r.eq](t.action)&&a&&(c.media_event=[n]),c[e]})(e,t);return(0,c.cy)(s)&&s[r.pi]&&(a=u(a.concat(s))),n&&a.push("extra_data"),a},ne=(e,t,n)=>{const i=[];(0,c.cy)(n)&&n[r.pi]&&n.forEach((e=>{const n=Y(e,"extra_data"===e?t:r.ZH);n&&n.data&&n.schema&&i.push(n)}));const{clickElement:a}=e;if(a){const e=(e=>{const t=o.uV.contexts.extract.click;if(e&&(0,c.Tn)(t)){const n=t(e);if(n){const{schema:e,data:t}=n;if(e&&t)return n}}return r.ZH})(a);e&&e.data&&e.schema&&i.push(e)}return i.filter(Boolean)},re=({[r.ZE]:e,data:t={},config:n={},contextsToInclude:c=[],extraData:s}={})=>{if(!e)return r.W8;try{let u;t&&Object.entries(t).forEach(((t,n)=>{t!==e&&(o.uV.data[e]=o.uV.data[e]||{},o.uV.data[e][t]=n)})),"page_view"!==e&&"event"!==e&&(u=Y(e,t)),"page_view"===e&&(setTimeout(a.A,5e3),setTimeout(ee,5e3,e));const l=te(e,t,s,c);let d=ne(n,s,l);d[r.pi]||(d=r.ZH),ee(e);const f=(0,a.A)();if(f&&(0,i.Y)(f),e||u)return(e=>{const t=Math.floor(100*Math.random()+1);if(K.A){const n=["media_event","ad_event"],{throttlePercentage:o}=K.A||{};return n[r.eq](e)&&t>o}return r.W8})(e)?r.W8:(X({eventConfig:n,eventData:t,eventType:e,eventContext:u,listOfGeneratedContext:d}),r.rT);throw new Error(`No event context provided for ${e}`)}catch(n){return(0,m.aW)(`sendEvent() failed for ${e}`,r.ff,Q,n,t,r.rT,r.rT),X({eventType:"error",eventContext:Y("error",{type:"error",origin:Q,errorMessage:`sendEvent() failed for ${e}`,errorObject:n,contextData:t,isFatal:r.rT})}),r.W8}}},434:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a,d:()=>i});var r=n(962),o=n(3);const i=(e=o.Tu)=>{try{const t=new RegExp(`${e}id\\.[a-f0-9]+=([^;]+);?`),n=document.cookie.match(t);return n&&n[1]?n[1].split(".")[0]:r.W8}catch(e){window[r.rF].log("could not get domainUserID",r.Nz,"userIdHelpers",e)}return r.ZH},a=e=>{window[o.Tu](`setUserId:${o.Tu}`,e)}},516:(e,t,n)=>{var r=n(239);e.exports=function(e){var t=null,n=r(e);if(3===e.nodeType){var o=n.createRange();o.selectNodeContents(e),e=o}if("function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect(),e.startContainer&&0===t.left&&0===t.top)){var i=n.createElement("span");i.appendChild(n.createTextNode("​")),e.insertNode(i),t=i.getBoundingClientRect();var a=i.parentNode;a.removeChild(i),a.normalize()}return t}},744:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}function s(e,n,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=r;var a=Array.isArray(n);return a===Array.isArray(e)?a?i.arrayMerge(e,n,i):c(e,n,i):r(n,i)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var u=s;e.exports=u},602:(e,t,n)=>{var r,o=n(485),i=n(516);function a(e){var t=o(e),n=function(e,t,n,r,o){var a=i(e);if(void 0===e.getBoundingClientRect){var u={x:0,y:0};s(e,u);var l={x:0,y:0};return c(e.parentNode,l),{left:t=u.x-l.x,top:n=u.y-l.y,width:r=e.offsetWidth,height:o=e.offsetHeight,right:t+r,bottom:n+o}}if(t=(a=e.getBoundingClientRect()).left,n=a.top,r=a.right-a.left,o=a.bottom-a.top,"microsoft internet explorer"==navigator.appName.toLowerCase()){t-=document.documentElement.clientLeft,n-=document.documentElement.clientTop;var d=function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),n=t.right-t.left,r=document.body.offsetWidth;e=Math.round(n/r*100)/100}return e}();1!=d&&(t=Math.round(t/d),n=Math.round(n/d),r=Math.round(r/d),o=Math.round(o/d)),a={left:t,top:n,width:r,height:o,right:t+r,bottom:n+o}}return a}(e),r=n.bottom-n.top;return{left:t.left,top:t.top,right:n.right,bottom:t.top+r,width:n.right-t.left,height:r}}function c(e,t){e&&(t.x+=e.scrollLeft,t.y+=e.scrollTop,"html"!=e.tagName.toLowerCase()&&c(e.parentNode,t))}function s(e,t){e&&(t.x+=e.offsetLeft,t.y+=e.offsetTop,s(e.offsetParent,t))}void 0!==e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)},485:(e,t,n)=>{var r=n(239),o=n(547);e.exports=function(e){var t=r(e);if(t&&o(e,t)){var n=t.body;if(n===e)return function(e){var t=e.offsetTop,n=e.offsetLeft;1!==document.body.offsetTop&&(t+=parseFloat(e.style.marginTop||0),n+=parseFloat(e.style.marginLeft||0));return{top:t,left:n}}(e);var i={top:0,left:0};if(void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect(),e.collapsed&&0===i.left&&0===i.top)){var a=t.createElement("span");a.appendChild(t.createTextNode("​")),e.insertNode(a),i=a.getBoundingClientRect();var c=a.parentNode;c.removeChild(a),c.normalize()}var s=t.documentElement,u=s.clientTop||n.clientTop||0,l=s.clientLeft||n.clientLeft||0,d=window.pageYOffset||s.scrollTop,f=window.pageXOffset||s.scrollLeft;return{top:i.top+d-u,left:i.left+f-l}}}},509:(e,t,n)=>{var r,o=n(572),i=n(602);function a(e,t){t=t||1;var n=i(e),r=e.ownerDocument,a=Math.max(r.body.clientWidth,r.documentElement.offsetWidth,r.documentElement.scrollWidth),c=Math.max(r.body.clientHeight,r.documentElement.offsetHeight,r.documentElement.scrollHeight),s=o(n,{top:0,left:0,right:a,bottom:c,width:a,height:c}),u=n.left>=0&&n.right<=a&&n.top>=0&&n.bottom<=c,l=s.left>=0&&s.right<=a&&s.top>=0&&s.bottom<=c&&Math.abs(s.width)>0&&Math.abs(s.height)>0,d=0,f=0;return l&&(d=s.width*s.height,l=(+(f=n.width*n.height)?d/f:0)>=t),u||l}void 0!==e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)},319:(e,t,n)=>{var r=n(889);e.exports=function e(t,n,o){if("object"==typeof n){var i=n;for(n in i)e(t,r(n),i[n]);return i}var a=t.ownerDocument,c=a.defaultView||a.parentWindow;return c.getComputedStyle||(c.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,(function(){return arguments[2].toUpperCase()}))),e.currentStyle[t]?e.currentStyle[t]:null},this}),3===arguments.length?(t.style[r.reverse("float"===n?"cssFloat":n)]=o||"",o):c.getComputedStyle(t,null).getPropertyValue(r("cssFloat"===n?"float":n))}},264:(e,t,n)=>{var r,o=n(572),i=n(602),a=n(653),c=n(509),s=n(319);function u(e,t){var n,r,u,l,d,f,p=e;if(t=+t||1,!e||(f=e,!("object"==typeof HTMLElement?f instanceof HTMLElement:f&&"object"==typeof f&&null!==f&&1===f.nodeType&&"string"==typeof f.nodeName)))throw new Error("Element is mandatory");var h=e.ownerDocument;if(t<=0)throw new Error("Threshold value must be greater than 0");do{if("0"===s(p,"opacity")||"none"===s(p,"display")||"hidden"===s(p,"visibility"))return!1}while((p=p.parentNode)!==document&&p);return!!c(e,t)&&(r=i(e),n=a(h.defaultView||h.parentWindow),l=o(r,n),u=r.width*r.height,d=l.width*l.height,(+u?d/u:0)>=t)}void 0!==e.exports?e.exports=u:void 0===(r=function(){return u}.apply(t,[]))||(e.exports=r)},239:e=>{e.exports=function e(t){if(n(t))return t;if(n(t.ownerDocument))return t.ownerDocument;if(n(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)};var t=9;function n(e){return e&&e.nodeType===t}},572:(e,t)=>{var n;function r(){return function(e,t,n){var r=-1,o=e.length;for(!n&&o>0&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}(Array.prototype.slice.call(arguments),(function(e,t){var n={top:Math.max(e.top,t.top),left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n}))}void 0!==e.exports?e.exports=r:void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)},889:(e,t)=>{"use strict";var n=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,r=/-[a-z\u00E0-\u00F6\u00F8-\u00FE]/g;e.exports=t=function(e){return e.replace(n,(function(e){return"-"+e.toLowerCase()}))},t.reverse=function(e){return e.replace(r,(function(e){return e.slice(1).toUpperCase()}))}},653:e=>{e.exports=function(e){var t=(e=e||window).document,n=t.documentElement||t.body.parentNode||t.body,r=n.clientWidth,o=n.clientHeight,i=void 0!==e.pageXOffset?e.pageXOffset:n.scrollLeft,a=void 0!==e.pageYOffset?e.pageYOffset:n.scrollTop;return{top:a,right:i+r,left:i,bottom:a+o,width:r,height:o}}},547:e=>{e.exports=function(e,t){if(!e)return!1;e.commonAncestorContainer?e=e.commonAncestorContainer:e.endContainer&&(e=e.endContainer);for(var n=e;n=n.parentNode;)if(n==t)return!0;return!1}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e=n(738),t=n(935);const{isTrackerOn:r}=e.A||{};if((0,t.Lm)(r)&&!r)throw"Sophi Tracker Aborted"})(),(()=>{"use strict";var e=n(619),t=n(655),r=n(434),o=n(896),i=n(962),a=n(861);window[i.rF].functions={store:t.M_,generateUUID:o.j,getDomainUserID:r.d,getUserID:a.A,createCookie:t.n0,readCookie:t.v8},window[i.rF].sendEvent=e.A})(),(()=>{"use strict";!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){var t=Array.isArray(e)?i(e):void 0;if(t||(t="undefined"!=typeof Symbol&&Symbol.iterator in Object(e)?Array.from(e):void 0),!(e=t||o(e)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function c(e){var t={exports:{}};return e(t,t.exports),t.exports}function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(e){this.size=(this.__data__=new Qe(e)).size}function f(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function p(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;return i.has(o)?i.get(o):(r=e.apply(this,r),n.cache=i.set(o,r)||i,r)};return n.cache=new(p.Cache||dt),n}function h(e){if("string"==typeof e)return e;if(Te(e))return Wt(e,h)+"";if(Ft(e))return Kt?Kt.call(e):"";var t=e+"";return"0"==t&&1/e==-Gt?"-0":t}function g(e){if(!sn(e)){e=e.text||"";var t=fn.getElementsByTagName("title");t&&void 0!==t[0]&&(e=t[0].text)}return e}function m(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function y(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function v(e){var t="",n=b("referrer",dn.location.href)||b("referer",dn.location.href);if(n)return n;if(e)return e;try{t=dn.top.document.referrer}catch(e){if(dn.parent)try{t=dn.parent.document.referrer}catch(e){t=""}}return""===t&&(t=fn.referrer),t}function w(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function b(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function k(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:63072e3;try{var r=Date.now()+1e3*n;return pn.setItem("".concat(e,".expires"),r),pn.setItem(e,t),!0}catch(e){return!1}}function _(e){try{return pn.removeItem(e),pn.removeItem(e+".expires"),!0}catch(e){return!1}}function T(e,t){for(var n="_sp_root_domain_test_"+(new Date).getTime(),r="_test_value_"+(new Date).getTime(),o=dn.location.hostname.split("."),i=o.length-1;0<=i;){var a=o.slice(i,o.length).join(".");if(S(n,r,0,"/",a,e,t),S(n)===r){for(S(n,"",-1,"/",a,e,t),n=fn.cookie.split("; "),r=[],o=0;o<n.length;o++)"_sp_root_domain_test_"===n[o].substring(0,21)&&r.push(n[o]);for(n=r,r=0;r<n.length;r++)S(n[r],"",-1,"/",a,e,t);return a}--i}return dn.location.hostname}function S(e,t,n,r,o,i,a){return 1<arguments.length?fn.cookie=e+"="+encodeURIComponent(t)+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+fn.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function j(e){return e=parseInt(e),isNaN(e)?void 0:e}function O(e){return e=parseFloat(e),isNaN(e)?void 0:e}function C(e,t,n,r,o){function i(){var r;for(r=0;r<arguments.length;r+=1){var i=arguments[r],c=Array.prototype.shift.call(i),s=!(!c||"function"!=typeof c);if(s)try{c.apply(a,i)}catch(e){"Custom callback error - ".concat(e)}finally{continue}if(s=c.split(":"),c=(s=[c=s[0],s=1<s.length?s[1].split(";"):[]])[0],s=s[1],"newTracker"===c)c=i[0],s=i[1],i=(i=i[2])||{},a.hasOwnProperty(c)||(a[c]=new e(o,c,t,n,i),a[c].setCollectorUrl(s));else{var u=[];if(s&&0!==s.length)for(var l=0;l<s.length;l++)a.hasOwnProperty(s[l])?u.push(a[s[l]]):s[l];else u=ln(a);for(u.length,s=0;s<u.length;s++)u[s][c].apply(u[s],i)}}}for(var a={},c=0;c<r.length;c++)i(r[c]);return{push:i}}function A(e,t,n){if("translate.googleusercontent.com"===e)""===n&&(n=t),e=m(t=b("u",(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))[1]));else{var r;if(!(r="cc.bingj.com"===e||"webcache.googleusercontent.com"===e))e:{if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))try{r="You have reached the cached page for"===document.body.children[0].children[0].children[0].children[0].children[0].children[0].innerHTML.slice(0,36);break e}catch(e){r=!1;break e}r=void 0}r&&(e=m(t=document.links[0].href))}return[e,t,n]}function x(){var e=_n,t="inner";"innerWidth"in _n||(t="client",e=jn.documentElement||jn.body);var n=e[t+"Width"];return e=e[t+"Height"],0<=n&&0<=e?n+"x"+e:null}function E(){var e=jn.documentElement,t=jn.body,n=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth);return e=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,t?Math.max(t.offsetHeight,t.scrollHeight):0),isNaN(n)||isNaN(e)?"":n+"x"+e}function I(){var e={};return e.res=Sn.width+"x"+Sn.height,e.cd=Sn.colorDepth,e.cookie=Tn.cookieEnabled?"1":"0",e}function D(e,t,n){function r(t,r){for(var o,i,a,s;null!==(o=t.parentNode)&&void 0!==o&&"A"!==(i=t.tagName.toUpperCase())&&"AREA"!==i;)t=o;if(void 0!==t.href){i=(o=t.hostname||m(t.href)).toLowerCase();var u=t.href.replace(o,i);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(u)||(o=t.id,i=t.className.match(/\S+/g)||[],a=t.target,s=c?t.innerHTML:null,u=unescape(u),e.trackLinkClick(u,o,i,a,s,n(function(e){var t=Array.prototype.slice.call(arguments,1);return cn(ln(e,(function(e){if("function"!=typeof e)return e;try{return e.apply(null,t)}catch(e){}})))}(r,t))))}}function o(e){return function(t){var n=(t=t||window.event).which||t.button,o=t.target||t.srcElement;"click"===t.type?o&&r(o,e):"mousedown"===t.type?1!==n&&2!==n||!o?u=l=null:(u=n,l=o):"mouseup"===t.type&&(n===u&&o===l&&r(o,e),u=l=null)}}var i,a,c,s,u,l;return{configureLinkClickTracking:function(e,t,n,r){c=n,s=r,a=t,i=function(e,t){if(Array.isArray(e)||!Ze(e))return function(){return!0};if(e.hasOwnProperty("filter"))return e.filter;var n=e.hasOwnProperty("whitelist");e=e.whitelist||e.blacklist,Array.isArray(e)||(e=[e]);for(var r={},o=0;o<e.length;o++)r[e[o]]=!0;return t?function(e){e:{var t;for(e=e.className.match(/\S+/g)||[],t=0;t<e.length;t++)if(r[e[t]]){e=!0;break e}e=!1}return e===n}:function(e){return e.name in r===n}}(e,!0)},addClickListeners:function(){var e,n=document.links;for(e=0;e<n.length;e++)if(i(n[e])&&!n[e][t]){var r=n[e];a?(w(r,"mouseup",o(s),!1),w(r,"mousedown",o(s),!1)):w(r,"click",o(s),!1),n[e][t]=!0}}}}function P(t,n,r,o,i,a,c,s,u,l,d,f){function p(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);127>=r?t+=1:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,n++):t=65535>r?t+3:t+4}return t}function h(){for(;D.length&&"string"!=typeof D[0]&&"object"!==e(D[0]);)D.shift();if(1>D.length)T=!1;else{if(!sn(w))throw"No collector configured";T=!0;var t=D[0];if(C){var n=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=s);)t+=1;return t},r=function(e){for(var t=0;t<e;t++)D.shift();o&&k(E,JSON.stringify(D.slice(0,l))),h()};if(O)var i=g(t=v(t),!1),a=1;else i=g(t=w,!0),a=n(D);var c=setTimeout((function(){i.abort(),T=!1}),d);if(i.onreadystatechange=function(){if(4===i.readyState&&200<=i.status&&400>i.status){if(clearTimeout(c),j&&!b)try{hn.setItem(I,!0)}catch(e){}r(a)}else 4===i.readyState&&400<=i.status&&(clearTimeout(c),T=!1)},O)i.send();else if(0<(n=D.slice(0,a)).length){var u;if(!(u=b)&&(u=j))try{u=hn.getItem(I)}catch(e){u=void 0}if(b=u,n=ln(n,(function(e){return e.evt})),b){u=new Blob([m(y(n))],{type:"application/json"});try{var p=navigator.sendBeacon(t,u)}catch(e){p=!1}}!0===p&&r(a),j&&p||i.send(m(y(n)))}}else if(f)T=!1;else{p=new Image(1,1);var _=!0;p.onload=function(){_&&(_=!1,D.shift(),o&&k(E,JSON.stringify(D.slice(0,l))),h())},p.onerror=function(){_&&(T=_=!1)},p.src=v(t),setTimeout((function(){_&&T&&(_=!1,h())}),d)}}}function g(e,t){var n=new XMLHttpRequest;return t?(n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json; charset=UTF-8")):n.open("GET",e,!0),n.withCredentials=!0,f&&n.setRequestHeader("SP-Anonymous","*"),n}function m(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})}function y(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function v(e){return u?w+e.replace("?","?stm="+(new Date).getTime()+"&"):w+e}var w,b,_=window.localStorage,T=!1,S=null===(i=i.toLowerCase?i.toLowerCase():i)||!0===i||"beacon"===i||"true"===i,j=!!(S&&navigator&&navigator.sendBeacon)&&S,O="get"===i,C=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),A=!O&&C&&("post"===i||S),x=A?a:"/i";c=function(){try{var e=!!_n.localStorage}catch(t){e=!0}if(!e)return!1;try{return _n.localStorage.setItem("modernizr","modernizr"),_n.localStorage.removeItem("modernizr"),!0}catch(e){return!1}}()&&o&&A&&c||1;var E="snowplowOutQueue_".concat(t,"_").concat(n,"_").concat(A?"post2":"get"),I="spBeaconPreflight_".concat(t,"_").concat(n);if(o)try{var D=JSON.parse(_.getItem(E))}catch(e){}return Array.isArray(D)||(D=[]),r.outQueues.push(D),C&&1<c&&r.bufferFlushers.push((function(){T||h()})),{enqueueRequest:function(e,t){if(w=t+x,A){if((e=function(e){return{evt:e=In(e,(function(e){return e.toString()})),bytes:p(JSON.stringify(e))}}(e)).bytes>=s)return e.bytes,void g(w,!0).send(m(y([e.evt])));D.push(e)}else D.push(function(e){var t,n="?",r={co:!0,cx:!0},o=!0;for(t in e)e.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(o?o=!1:n+="&",n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));for(var i in r)e.hasOwnProperty(i)&&r.hasOwnProperty(i)&&(n+="&"+i+"="+encodeURIComponent(e[i]));return n}(e));e=!1,o&&(e=k(E,JSON.stringify(D.slice(0,l)))),T||e&&!(D.length>=c)||h()},executeQueue:function(){T||h()},setUseLocalStorage:function(e){o=e},setAnonymousTracking:function(e){f=e},setCollectorUrl:function(e){w=e+x}}}function L(t){var n={};return"object"===e(t)&&null!==t&&Object.getOwnPropertyNames(t).forEach((function(e,r,o){"function"==typeof t[e]&&(n[e]=Dn(t[e]))})),n}function N(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t=0,n=0,r="",o=[];if(!e)return e;e+="";do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(t++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(t++));r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(t++));var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(t++)),s=i<<18|a<<12|r<<6|c;i=s>>16&255,a=s>>8&255,s&=255,o[n++]=64===r?String.fromCharCode(i):64===c?String.fromCharCode(i,a):String.fromCharCode(i,a,s)}while(t<e.length);return function(e){return decodeURIComponent(e.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}((r=o.join("")).replace(/\0+$/,""))}(e=e.replace(/-/g,"+").replace(/_/g,"/"))}function M(e){if(!H(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function H(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function U(e){var t={},n=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:n,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])},addJson:function(t,r,o){if(o&&M(o))if(o=JSON.stringify(o),e){if(o){r=o;var i=o=0,a=[];if(r){r=unescape(encodeURIComponent(r));do{var c=r.charCodeAt(o++),s=r.charCodeAt(o++),u=r.charCodeAt(o++),l=c<<16|s<<8|u;c=l>>18&63,s=l>>12&63,u=l>>6&63,l&=63,a[i++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(u)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}while(o<r.length);o=a.join(""),r=((r=r.length%3)?o.slice(0,r-3):o)+"===".slice(r||3)}r=r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}else r=o;n(t,r)}else n(r,o)},build:function(){return t}}}function Z(){var e=[],n=[];return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return n},addGlobalContexts:function(t){var r,o=[],i=[];t=a(t);try{for(t.s();!(r=t.n()).done;){var c=r.value;G(c)?o.push(c):R(c)&&i.push(c)}}catch(e){t.e(e)}finally{t.f()}e=e.concat(i),n=n.concat(o)},clearGlobalContexts:function(){n=[],e=[]},removeGlobalContexts:function(t){var r;t=a(t);try{var o=function(){var t=r.value;G(t)?n=n.filter((function(e){return!Ut(e,t)})):R(t)&&(e=e.filter((function(e){return!Ut(e,t)})))};for(t.s();!(r=t.n()).done;)o()}catch(e){t.e(e)}finally{t.f()}},getApplicableContexts:function(o){var i=!(!M(o=o.build())||!("e"in o))&&"string"==typeof o.e;if(i){o=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){var n=r[t];t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o);try{null!=o&&on(o,"ue_px",Jn)&&(o.ue_px=JSON.parse(N(nn(o,["ue_px"]))));var a=o}catch(e){a=o}i="string"==typeof nn(o=a,"ue_px.data.schema")?nn(o,"ue_px.data.schema"):"string"==typeof nn(o,"ue_pr.data.schema")?nn(o,"ue_pr.data.schema"):"string"==typeof nn(o,"schema")?nn(o,"schema"):"";var c=nn(o,"e","");a=[];var s=X(e,o,c,i);return a.push.apply(a,r(s)),o=function(e,t,n,o){var i;return e=Q(e),e=ln(e,(function(e){e:{if(q(e)){var r=e[0],i=!1;try{i=r({event:t,eventType:n,eventSchema:o})}catch(e){i=!1}if(!0===i){e=X(e[1],t,n,o);break e}}else if(W(e)&&function(e,t){var n=0,r=0,o=nn(e,"accept");return Array.isArray(o)?e.accept.some((function(e){return Y(e,t)}))&&r++:"string"==typeof o&&Y(o,t)&&r++,o=nn(e,"reject"),Array.isArray(o)?e.reject.some((function(e){return Y(e,t)}))&&n++:"string"==typeof o&&Y(o,t)&&n++,0<r&&0===n}(e[0],o)){e=X(e[1],t,n,o);break e}e=[]}if(e&&0!==e.length)return e})),(i=[]).concat.apply(i,r(Gn(e)))}(n,o,c,i),a.push.apply(a,r(o)),a}return[]}}}function $(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t,n=!1;e=a(e.slice(2));try{for(e.s();!(t=e.n()).done;)if("*"===t.value)n=!0;else if(n)return!1}catch(t){e.e(t)}finally{e.f()}return!0}return 2==e.length}(e)}function F(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&$(e[1]))return e.slice(1,6)}function V(e){if(e=F(e)){var t=e[0];return 5===e.length&&$(t)}return!1}function z(e){return function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}(e)?e.every((function(e){return V(e)})):"string"==typeof e&&V(e)}function B(t){return!!(M(t)&&"schema"in t&&"data"in t)&&("string"==typeof t.schema&&"object"===e(t.data))}function J(e){return"function"==typeof e&&1>=e.length}function R(e){return"function"==typeof e&&1>=e.length||B(e)}function q(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?J(e[0])&&Wn(e[1],R):J(e[0])&&R(e[1]))}function W(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=0;if(ye(e)&&"[object Object]"==me(e)){var n=Yn(e);n=null===n||"function"==typeof(n=Qn.call(n,"constructor")&&n.constructor)&&n instanceof n&&Kn.call(n)==Xn}else n=!1;if(n){if(null!=e&&on(e,"accept",Jn)){if(!z(e.accept))return!1;t+=1}if(null!=e&&on(e,"reject",Jn)){if(!z(e.reject))return!1;t+=1}return 0<t&&2>=t}return!1}(e[0])&&(Array.isArray(e[1])?Wn(e[1],R):R(e[1])))}function G(e){return q(e)||W(e)}function Y(e,t){if(!V(e))return!1;if(e=F(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!K(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!K(e[n],t[n]))return!1;return!0}return!1}function K(e,t){return e&&t&&"*"===e||e===t}function Q(e){return Array.isArray(e)?e:[e]}function X(e,t,n,o){var i;return e=Q(e),e=ln(e,(function(e){e:if(B(e))e=[e];else{if("function"==typeof e&&1>=e.length){t:{var r=void 0;try{if(B(r=e({event:t,eventType:n,eventSchema:o}))||Array.isArray(r)&&Wn(r,B)){var i=r;break t}i=void 0;break t}catch(e){}i=void 0}if(B(i)){e=[i];break e}if(Array.isArray(i)){e=i;break e}}e=void 0}if(e&&0!==e.length)return e})),(i=[]).concat.apply(i,r(Gn(e)))}function ee(e,t){var n=Z(),o={};void 0===e&&(e=!0);var i=function(e,t){var n={};for(var r in t=t||{},e)(t[r]||null!==e[r]&&void 0!==e[r])&&(n[r]=e[r]);return n},a=function(e,i,a,c){e.addDict(o),e.add("eid",zn.v4()),a=null==a?{type:"dtm",value:(new Date).getTime()}:"number"==typeof a?{type:"dtm",value:a}:"ttm"===a.type?{type:"ttm",value:a.value}:{type:"dtm",value:a.value||(new Date).getTime()},e.add(a.type,a.value.toString()),a=n.getApplicableContexts(e);var s=[];i&&i.length&&s.push.apply(s,r(i)),a&&a.length&&s.push.apply(s,r(a)),void 0!==(i=s&&s.length?{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:s}:void 0)&&e.addJson("cx","co",i),"function"==typeof t&&t(e);try{c&&c(e.build())}catch(e){}return e},c=function(t,n,r,o){var i=U(e);return t={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:t},i.add("e","ue"),i.addJson("ue_px","ue_pr",t),a(i,n,r,o)};return{addPayloadPair:function(e,t){o[e]=t},setBase64Encoding:function(t){e=t},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])},resetPayloadPairs:function(e){o=H(e)?e:{}},setTrackerVersion:function(e){o.tv=e},setTrackerNamespace:function(e){o.tna=e},setAppId:function(e){o.aid=e},setPlatform:function(e){o.p=e},setUserId:function(e){o.uid=e},setScreenResolution:function(e,t){o.res=e+"x"+t},setViewport:function(e,t){o.vp=e+"x"+t},setColorDepth:function(e){o.cd=e},setTimezone:function(e){o.tz=e},setLang:function(e){o.lang=e},setIpAddress:function(e){o.ip=e},setUseragent:function(e){o.ua=e},trackUnstructEvent:c,trackSelfDescribingEvent:c,trackPageView:function(t,n,r,o,i,c){var s=U(e);return s.add("e","pv"),s.add("url",t),s.add("page",n),s.add("refr",r),a(s,o,i,c)},trackPagePing:function(t,n,r,o,i,c,s,u,l,d){var f=U(e);return f.add("e","pp"),f.add("url",t),f.add("page",n),f.add("refr",r),f.add("pp_mix",o.toString()),f.add("pp_max",i.toString()),f.add("pp_miy",c.toString()),f.add("pp_may",s.toString()),a(f,u,l,d)},trackStructEvent:function(t,n,r,o,i,c,s,u){var l=U(e);return l.add("e","se"),l.add("se_ca",t),l.add("se_ac",n),l.add("se_la",r),l.add("se_pr",o),l.add("se_va",null==i?void 0:i.toString()),a(l,c,s,u)},trackEcommerceTransaction:function(t,n,r,o,i,c,s,u,l,d,f,p){var h=U(e);return h.add("e","tr"),h.add("tr_id",t),h.add("tr_af",n),h.add("tr_tt",r),h.add("tr_tx",o),h.add("tr_sh",i),h.add("tr_ci",c),h.add("tr_st",s),h.add("tr_co",u),h.add("tr_cu",l),a(h,d,f,p)},trackEcommerceTransactionItem:function(t,n,r,o,i,c,s,u,l,d){var f=U(e);return f.add("e","ti"),f.add("ti_id",t),f.add("ti_sk",n),f.add("ti_nm",r),f.add("ti_ca",o),f.add("ti_pr",i),f.add("ti_qu",c),f.add("ti_cu",s),a(f,u,l,d)},trackScreenView:function(e,t,n,r,o){return c({schema:"iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0",data:i({name:e,id:t})},n,r,o)},trackLinkClick:function(e,t,n,r,o,a,s,u){return e={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:i({targetUrl:e,elementId:t,elementClasses:n,elementTarget:r,elementContent:o})},c(e,a,s,u)},trackAdImpression:function(e,t,n,r,o,a,s,u,l,d,f){return e={schema:"iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0",data:i({impressionId:e,costModel:t,cost:n,targetUrl:r,bannerId:o,zoneId:a,advertiserId:s,campaignId:u})},c(e,l,d,f)},trackAdClick:function(e,t,n,r,o,a,s,u,l,d,f,p){return e={schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:i({targetUrl:e,clickId:t,costModel:n,cost:r,bannerId:o,zoneId:a,impressionId:s,advertiserId:u,campaignId:l})},c(e,d,f,p)},trackAdConversion:function(e,t,n,r,o,a,s,u,l,d,f,p){return e={schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:i({conversionId:e,costModel:t,cost:n,category:r,action:o,property:a,initialValue:s,advertiserId:u,campaignId:l})},c(e,d,f,p)},trackSocialInteraction:function(e,t,n,r,o,a){return e={schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:i({action:e,network:t,target:n})},c(e,r,o,a)},trackAddToCart:function(e,t,n,r,o,a,s,u,l){return c({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",data:i({sku:e,name:t,category:n,unitPrice:r,quantity:o,currency:a})},s,u,l)},trackRemoveFromCart:function(e,t,n,r,o,a,s,u,l){return c({schema:"iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0",data:i({sku:e,name:t,category:n,unitPrice:r,quantity:o,currency:a})},s,u,l)},trackFormFocusOrChange:function(e,t,n,r,o,a,s,u,l,d){var f="";return t={formId:t,elementId:n,nodeName:r,elementClasses:a,value:s},"change_form"===e?(f="iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",t.type=o):"focus_form"===e&&(f="iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0",t.elementType=o),c({schema:f,data:i(t,{value:!0})},u,l,d)},trackFormSubmission:function(e,t,n,r,o,a){return c({schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:i({formId:e,formClasses:t,elements:n})},r,o,a)},trackSiteSearch:function(e,t,n,r,o,a,s){return c({schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:i({terms:e,filters:t,totalResults:n,pageResults:r})},o,a,s)},trackConsentWithdrawn:function(e,t,n,r,o,a,s,u){return t={schema:"iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0",data:i({id:t,version:n,name:r,description:o})},c({schema:"iglu:com.snowplowanalytics.snowplow/consent_withdrawn/jsonschema/1-0-0",data:i({all:e})},t.data&&a?a.concat([t]):a,s,u)},trackConsentGranted:function(e,t,n,r,o,a,s,u){return e={schema:"iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0",data:i({id:e,version:t,name:n,description:r})},c({schema:"iglu:com.snowplowanalytics.snowplow/consent_granted/jsonschema/1-0-0",data:i({expiry:o})},a?a.concat([e]):[e],s,u)},addGlobalContexts:function(e){n.addGlobalContexts(e)},clearGlobalContexts:function(){n.clearGlobalContexts()},removeGlobalContexts:function(e){n.removeGlobalContexts(e)}}}function te(e,t,n,r,o){function i(e){return-1<Et.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())}function a(){(Ue=A(Ne.domain,Me.location.href,v()))[1]!==$e&&(Fe=v($e)),Ze=y(Ue[0]),$e=Ue[1]}function c(){var e=(new Date).getTime();if(this.href){e="_sp="+pe+"."+e;var t=this.href.split("#"),n=t[0].split("?"),r=n.shift();if(n=n.join("?")){for(var o=!0,i=n.split("&"),a=0;a<i.length;a++)if("_sp="===i[a].substr(0,4)){o=!1,i[a]=e,n=i.join("&");break}o&&(n=e+"&"+n)}else n=e;t[0]=r+"?"+n,this.href=t.join("#")}}function s(e){for(var t=0;t<Ne.links.length;t++){var n=Ne.links[t];!n.spDecorationEnabled&&e(n)&&(w(n,"click",c,!0),w(n,"mousedown",c,!0),n.spDecorationEnabled=!0)}}function u(e){if(re){var t=/#.*/;e=e.replace(t,"")}return oe&&(t=/[{}]/g,e=e.replace(t,"")),e}function l(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function d(e){if(e=Ge+e+"."+fe,"localStorage"==ft){e:{try{var t=pn.getItem(e+".expires");if(null===t||+t>Date.now()){var n=pn.getItem(e);break e}pn.removeItem(e),pn.removeItem(e+".expires"),n=void 0;break e}catch(e){}n=void 0}return n}if("cookie"==ft||"cookieAndLocalStorage"==ft)return S(e)}function f(){a(),fe=yt((Ye||Ze)+(Ke||"/")).slice(0,4)}function p(){ce=(new Date).getTime()}function h(){var e=C(),t=e[0];t<se?se=t:t>ue&&(ue=t),(e=e[1])<le?le=e:e>de&&(de=e),p()}function C(){var e=Ne.compatMode&&"BackCompat"!==Ne.compatMode?Ne.documentElement:Ne.body;return[e.scrollLeft||Me.pageXOffset,e.scrollTop||Me.pageYOffset]}function N(){var e=C(),t=e[0];ue=se=t,de=le=e=e[1]}function M(e){if(e=Math.round(e),!isNaN(e))return e}function H(){Z(Ge+"ses."+fe,"*",rt)}function U(e,t,n,r,o,i){Z(Ge+"id."+fe,e+"."+t+"."+n+"."+r+"."+o+"."+i,nt)}function Z(e,t,n){ut&&!ct||("localStorage"==ft?k(e,t,n):("cookie"==ft||"cookieAndLocalStorage"==ft)&&S(e,t,n,Ke,Ye,Qe,Xe))}function $(){var e=Ge+"id."+fe,t=Ge+"ses."+fe;_(e),_(t),S(e,"",-1,"/",Ye,Qe,Xe),S(t,"",-1,"/",Ye,Qe,Xe)}function F(){if(!ut||ct){var e="none"!=ft&&!!d("ses"),t=V();t[1]?pe=t[1]:(pe=ut?"":Fn(),t[1]=pe),he=t[6],e||(t[3]++,he=Fn(),t[6]=he,t[5]=t[4]),"none"!=ft&&(H(),t[4]=Math.round((new Date).getTime()/1e3),t.shift(),U.apply(null,t))}}function V(){if("none"==ft)return[];var e=Math.round((new Date).getTime()/1e3),t=d("id");return t?(e=t.split(".")).unshift("0"):e=["1",pe,e,0,e,""],e[6]||(e[6]=Fn()),e}function z(e){return it?"https://"+e:at?"http://"+e:("https:"===Ne.location.protocol?"https":"http")+"://"+e}function B(e){return e=St.concat(e||[]),Tt.clientHints&&xt&&e.push({schema:"iglu:org.ietf/http_client_hints/jsonschema/1-0-0",data:xt}),e}function J(){Ot&&null!=r.pageViewId||(r.pageViewId=Fn())}function R(){return null==r.pageViewId&&(r.pageViewId=Fn()),r.pageViewId}function q(e,t,n){var r=function(e,t){a(),e({context:t,pageViewId:R(),minXOffset:se,minYOffset:le,maxXOffset:ue,maxYOffset:de}),N()},o=function(){ce+e.configHeartBeatTimer>(new Date).getTime()&&r(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=0!=e.configMinimumVisitLength?setTimeout((function(){ce+e.configMinimumVisitLength>(new Date).getTime()&&r(e.callback,(t||[]).concat(n?n():[])),e.activityInterval=setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength):setInterval(o,e.configHeartBeatTimer)}function W(e,t,n){return"number"==typeof e&&e==kn(e)&&"number"==typeof t&&t==kn(t)?{configMinimumVisitLength:1e3*e,configHeartBeatTimer:1e3*t,activityInterval:null,callback:n}:{}}function G(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset;e=e.maxYOffset;var i=Ne.title;i!==Je&&(Je=i,ne=null),Ie.trackPagePing(u(te||$e),g(ne||Je),u(Q||Fe),M(n),M(o),M(r),M(e),B(t))}function Y(e,t){return""!==e?e+t.charAt(0).toUpperCase()+t.slice(1):t}function K(e){var t,n,r=["","webkit","ms","moz"];if(!ae)for(n=0;n<r.length;n++){var o=r[n];if(Ne[Y(o,"hidden")]){"prerender"===Ne[Y(o,"visibilityState")]&&(t=!0);break}if(!1===Ne[Y(o,"hidden")])break}t?w(Ne,o+"visibilitychange",(function t(){Ne.removeEventListener(o+"visibilitychange",t,!1),e()})):e()}(o=o||{}).hasOwnProperty("post")?o.eventMethod=!0===o.post?"post":"get":o.eventMethod=o.eventMethod||"post",o.hasOwnProperty("useStm")||(o.useStm=!0);var Q,X,te,ne,re,oe,ie,ae,ce,se,ue,le,de,fe,pe,he,ge,me,ye,ve,we,be,ke,_e,Te,Se,je,Oe,Ce=function(e){return e.hasOwnProperty("stateStorageStrategy")?e.stateStorageStrategy:dt||lt?dt&&lt?"cookieAndLocalStorage":dt?"cookie":"localStorage":"none"},Ae=function(e){return!!e.hasOwnProperty("anonymousTracking")&&!0===e.anonymousTracking.withSessionTracking},xe=function(e){return!!e.hasOwnProperty("anonymousTracking")&&!0===e.anonymousTracking.withServerAnonymisation},Ee=Object.freeze({consent:"consent",contract:"contract",legalObligation:"legal_obligation",vitalInterests:"vital_interests",publicTask:"public_task",legitimateInterests:"legitimate_interests"}),Ie=ee(!0,(function(e){var t=Math.round((new Date).getTime()/1e3),n=d("ses"),o=V(),i=o[0],c=o[1],s=o[2],l=o[3],f=o[4],p=o[5];o=o[6];var h=!!ie&&!!S(ie);tt||h?$():("0"===i?(he=o,n||"none"==ft||(l++,p=f,he=Fn()),vt=l):(new Date).getTime()-mt>1e3*rt&&(he=Fn(),vt++),e.add("vp",x()),e.add("ds",E()),e.add("vid",ct?vt:ut?null:vt),e.add("sid",ct?he:ut?null:he),e.add("duid",ut?null:c),e.add("uid",ut?null:ge),a(),e.add("refr",u(Q||Fe)),e.add("url",u(te||$e)),"none"!=ft&&(U(c,s,vt,t,p,he),H()),mt=(new Date).getTime()),t=qe,n=new Date,i=!!ie&&!!S(ie),tt||i||(kt.enqueueRequest(e.build(),X),r.expireDateTime=n.getTime()+t)})),De=!1,Pe={},Le={},Ne=document,Me=window,He=navigator,Ue=A(Ne.domain,Me.location.href,v()),Ze=y(Ue[0]),$e=Ue[1],Fe=Ue[2],Ve=o.hasOwnProperty("platform")?o.platform:"web",ze=o.hasOwnProperty("postPath")?o.postPath:"/com.snowplowanalytics.snowplow/tp2",Be=o.hasOwnProperty("appId")?o.appId:"",Je=Ne.title,qe=o.hasOwnProperty("pageUnloadTimer")?o.pageUnloadTimer:500,We=!o.hasOwnProperty("resetActivityTrackingOnPageView")||o.resetActivityTrackingOnPageView,Ge=o.hasOwnProperty("cookieName")?o.cookieName:"_sp_",Ye=o.hasOwnProperty("cookieDomain")?o.cookieDomain:null,Ke="/",Qe=o.hasOwnProperty("cookieSameSite")?o.cookieSameSite:"None",Xe=!o.hasOwnProperty("cookieSecure")||o.cookieSecure,et=He.doNotTrack||He.msDoNotTrack||Me.doNotTrack,tt=!!o.hasOwnProperty("respectDoNotTrack")&&(o.respectDoNotTrack&&("yes"===et||"1"===et)),nt=o.hasOwnProperty("cookieLifetime")?o.cookieLifetime:63072e3,rt=o.hasOwnProperty("sessionCookieTimeout")?o.sessionCookieTimeout:1800,ot=Ne.characterSet||Ne.charset,it=!!o.hasOwnProperty("forceSecureTracker")&&!0===o.forceSecureTracker,at=!(it||!o.hasOwnProperty("forceUnsecureTracker"))&&!0===o.forceUnsecureTracker,ct=Ae(o),st=xe(o),ut=!!o.anonymousTracking,lt=!o.hasOwnProperty("useLocalStorage")||o.useLocalStorage,dt=!o.hasOwnProperty("useCookies")||o.useCookies,ft=Ce(o),pt=He.userLanguage||He.language,ht=I(),gt=e+"_"+t,mt=(new Date).getTime(),yt=xn,vt=1,wt=[],bt=new D(Ie,gt,B),kt=new P(e,t,r,"localStorage"==ft||"cookieAndLocalStorage"==ft,o.eventMethod,ze,o.bufferSize,o.maxPostBytes||4e4,o.useStm,o.maxLocalStorageQueueSize||1e3,o.connectionTimeout||5e3,st),_t=!1,Tt=o.contexts||{},St=[],jt=[],Ot=!1,Ct=!1,At={enabled:!1,installed:!1,configurations:{}},xt=null;Tt.clientHints&&He.userAgentData&&(xt={isMobile:He.userAgentData.mobile,brands:He.userAgentData.brands},Tt.clientHints.includeHighEntropy&&He.userAgentData.getHighEntropyValues&&He.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","model","uaFullVersion"]).then((function(e){xt.architecture=e.architecture,xt.model=e.model,xt.platform=e.platform,xt.uaFullVersion=e.uaFullVersion,xt.platformVersion=e.platformVersion})));var Et=o.skippedBrowserFeatures||[];for(var It in o.hasOwnProperty("discoverRootDomain")&&o.discoverRootDomain&&(Ye=T(Qe,Xe)),Tt.gaCookies&&St.push(function(){var e={};return Re("__utma __utmb __utmc __utmv __utmz _ga".split(" "),(function(t){var n=S(t);n&&(e[t]=n)})),{schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:e}}()),Ie.setBase64Encoding(!o.hasOwnProperty("encodeBase64")||o.encodeBase64),Ie.setTrackerVersion(n),Ie.setTrackerNamespace(t),Ie.setAppId(Be),Ie.setPlatform(Ve),Ie.setTimezone(function(){var e=void 0;try{e=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}return e}()),Ie.addPayloadPair("lang",pt),Ie.addPayloadPair("cs",ot),ht)Object.prototype.hasOwnProperty.call(ht,It)&&("res"!==It&&"cd"!==It&&"cookie"!==It||i(It)?i(It)||Ie.addPayloadPair("f_"+It,ht[It]):Ie.addPayloadPair(It,ht[It]));return f(),F(),o.crossDomainLinker&&s(o.crossDomainLinker),Pe.getDomainSessionIndex=function(){return vt},Pe.getPageViewId=function(){return R()},Pe.newSession=function(){var e=Math.round((new Date).getTime()/1e3),t=V(),n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],c=t[6];"0"===t[0]?(he=c,"none"!=ft&&(o++,a=i,he=Fn()),vt=o,H()):(he=Fn(),vt++),"none"!=ft&&(U(n,r,vt,e,a,he),H()),mt=(new Date).getTime()},Pe.getCookieName=function(e){return Ge+e+"."+fe},Pe.getUserId=function(){return ge},Pe.getDomainUserId=function(){return V()[1]},Pe.getDomainUserInfo=function(){return V()},Pe.getUserFingerprint=function(){return 0},Pe.setAppId=function(e){Ie.setAppId(e)},Pe.setReferrerUrl=function(e){Q=e},Pe.setCustomUrl=function(e){a();var t,n=$e;l(e)?te=e:"/"===e.slice(0,1)?te=l(n)+"://"+m(n)+e:(0<=(t=(n=u(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),te=n+e)},Pe.setDocumentTitle=function(e){Je=Ne.title,ne=e},Pe.discardHashTag=function(e){re=e},Pe.discardBrace=function(e){oe=e},Pe.setCookieNamePrefix=function(e){Ge=e},Pe.setCookieDomain=function(e){Ye=y(e),f()},Pe.setCookiePath=function(e){Ke=e,f()},Pe.setVisitorCookieTimeout=function(e){nt=e},Pe.setSessionCookieTimeout=function(e){rt=e},Pe.setUserFingerprintSeed=function(){},Pe.enableUserFingerprint=function(){},Pe.respectDoNotTrack=function(e){var t=He.doNotTrack||He.msDoNotTrack;tt=e&&("yes"===t||"1"===t)},Pe.crossDomainLinker=function(e){s(e)},Pe.enableLinkClickTracking=function(e,t,n,o){r.hasLoaded?(bt.configureLinkClickTracking(e,t,n,o),bt.addClickListeners()):r.registeredOnLoadHandlers.push((function(){bt.configureLinkClickTracking(e,t,n,o),bt.addClickListeners()}))},Pe.refreshLinkClickTracking=function(){r.hasLoaded?bt.addClickListeners():r.registeredOnLoadHandlers.push((function(){bt.addClickListeners()}))},Pe.enableActivityTracking=function(e,t){At.enabled=!0,At.configurations.pagePing=W(e,t,G)},Pe.enableActivityTrackingCallback=function(e,t,n){At.enabled=!0,At.configurations.callback=W(e,t,n)},Pe.updatePageActivity=function(){p()},Pe.enableFormTracking=function(e,t){},Pe.killFrame=function(){Me.location!==Me.top.location&&(Me.top.location=Me.location)},Pe.redirectFile=function(e){"file:"===Me.location.protocol&&(Me.location=e)},Pe.setOptOutCookie=function(e){ie=e},Pe.setCountPreRendered=function(e){ae=e},Pe.setUserId=function(e){ge=e},Pe.identifyUser=function(e){Pe.setUserId(e)},Pe.setUserIdFromLocation=function(e){a(),ge=b(e,$e)},Pe.setUserIdFromReferrer=function(e){a(),ge=b(e,Fe)},Pe.setUserIdFromCookie=function(e){ge=S(e)},Pe.setCollectorCf=function(e){X=z(e+".cloudfront.net"),kt.setCollectorUrl(X)},Pe.setCollectorUrl=function(e){X=z(e),kt.setCollectorUrl(X)},Pe.setPlatform=function(e){Ie.setPlatform(e)},Pe.encodeBase64=function(e){Ie.setBase64Encoding(e)},Pe.flushBuffer=function(){kt.executeQueue()},Pe.enableGeolocationContext=function(){!_t&&He.geolocation&&He.geolocation.getCurrentPosition&&(_t=!0,He.geolocation.getCurrentPosition((function(e){var t=e.coords;St.push({schema:"iglu:com.snowplowanalytics.snowplow/geolocation_context/jsonschema/1-1-0",data:{latitude:t.latitude,longitude:t.longitude,latitudeLongitudeAccuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,bearing:t.heading,speed:t.speed,timestamp:Math.round(e.timestamp)}})})))},Pe.trackPageView=function(e,t,n,r,o){K((function(){!function(e,t,n,r,o){if(a(),Ct&&J(),Ct=!0,Je=Ne.title,e=g((ne=e)||Je),Ie.trackPageView(u(te||$e),e,u(Q||Fe),B((t||[]).concat(n?n():[])),r,o),r=new Date,o=!1,At.enabled&&!At.installed){o=At.installed=!0;var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),i.hasSupport=e}}};i.update(),e="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",Object.prototype.hasOwnProperty.call(i,"hasSupport")?w(Ne,e,p,{passive:!0}):w(Ne,e,p),N(),e=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p;return function(e){return w(Ne,e,t)}},Re("click mouseup mousedown mousemove keypress keydown keyup".split(" "),e(Ne)),Re(["resize","focus","blur"],e(Me)),e(Me,h)("scroll")}if(At.enabled&&(We||o))for(var c in ce=r.getTime(),At.configurations)At.configurations.hasOwnProperty(c)&&(r=At.configurations[c],clearInterval(r.activityInterval),q(r,t,n))}(e,t,n,r,o)}))},Pe.trackStructEvent=function(e,t,n,r,o,i,a,c){K((function(){Ie.trackStructEvent(e,t,n,r,o,B(i),a,c)}))},Pe.trackSelfDescribingEvent=function(e,t,n,r){K((function(){Ie.trackSelfDescribingEvent(e,B(t),n,r)}))},Pe.trackUnstructEvent=function(e,t,n){K((function(){Ie.trackSelfDescribingEvent(e,B(t),n)}))},Pe.addTrans=function(e,t,n,r,o,i,a,c,s,u,l){me=e,ye=t,ve=n,we=r,be=o,ke=i,_e=a,Te=c,Se=s,je=u,Oe=l},Pe.addItem=function(e,t,n,r,o,i,a,c,s){wt.push({orderId:e,sku:t,name:n,category:r,price:o,quantity:i,currency:a,context:c,tstamp:s})},Pe.trackTrans=function(){K((function(){var e=Oe;for(Ie.trackEcommerceTransaction(me,ye,ve,we,be,ke,_e,Te,Se,B(je),e),e=0;e<wt.length;e++){var t=wt[e],n=t.tstamp;Ie.trackEcommerceTransactionItem(t.orderId,t.sku,t.name,t.category,t.price,t.quantity,t.currency,B(t.context),n)}Oe=je=Se=Te=_e=ke=be=we=ve=ye=me=void 0,wt=[]}))},Pe.trackLinkClick=function(e,t,n,r,o,i,a){K((function(){Ie.trackLinkClick(e,t,n,r,o,B(i),a)}))},Pe.trackAdImpression=function(e,t,n,r,o,i,a,c,s,u){K((function(){Ie.trackAdImpression(e,t,n,r,o,i,a,c,B(s),u)}))},Pe.trackAdClick=function(e,t,n,r,o,i,a,c,s,u,l){K((function(){Ie.trackAdClick(e,t,n,r,o,i,a,c,s,B(u),l)}))},Pe.trackAdConversion=function(e,t,n,r,o,i,a,c,s,u,l){K((function(){Ie.trackAdConversion(e,t,n,r,o,i,a,c,s,B(u),l)}))},Pe.trackSocialInteraction=function(e,t,n,r,o){K((function(){Ie.trackSocialInteraction(e,t,n,B(r),o)}))},Pe.trackAddToCart=function(e,t,n,r,o,i,a,c){K((function(){Ie.trackAddToCart(e,t,n,r,o,i,B(a),c)}))},Pe.trackRemoveFromCart=function(e,t,n,r,o,i,a,c){K((function(){Ie.trackRemoveFromCart(e,t,n,r,o,i,B(a),c)}))},Pe.trackSiteSearch=function(e,t,n,r,o,i){K((function(){Ie.trackSiteSearch(e,t,n,r,B(o),i)}))},Pe.trackTiming=function(e,t,n,r,o,i){K((function(){Ie.trackSelfDescribingEvent({schema:"iglu:com.snowplowanalytics.snowplow/timing/jsonschema/1-0-0",data:{category:e,variable:t,timing:n,label:r}},B(o),i)}))},Pe.trackConsentWithdrawn=function(e,t,n,r,o,i,a){K((function(){Ie.trackConsentWithdrawn(e,t,n,r,o,B(i),a)}))},Pe.trackConsentGranted=function(e,t,n,r,o,i,a){K((function(){Ie.trackConsentGranted(e,t,n,r,o,B(i),a)}))},Pe.trackEnhancedEcommerceAction=function(e,t,n){var r=jt.concat(t||[]);jt.length=0,K((function(){Ie.trackSelfDescribingEvent({schema:"iglu:com.google.analytics.enhanced-ecommerce/action/jsonschema/1-0-0",data:{action:e}},B(r),n)}))},Pe.addEnhancedEcommerceActionContext=function(e,t,n,r,o,i,a,c,s,u){jt.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/actionFieldObject/jsonschema/1-0-0",data:{id:e,affiliation:t,revenue:O(n),tax:O(r),shipping:O(o),coupon:i,list:a,step:j(c),option:s,currency:u}})},Pe.addEnhancedEcommerceImpressionContext=function(e,t,n,r,o,i,a,c,s){jt.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/impressionFieldObject/jsonschema/1-0-0",data:{id:e,name:t,list:n,brand:r,category:o,variant:i,position:j(a),price:O(c),currency:s}})},Pe.addEnhancedEcommerceProductContext=function(e,t,n,r,o,i,a,c,s,u,l){jt.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/productFieldObject/jsonschema/1-0-0",data:{id:e,name:t,list:n,brand:r,category:o,variant:i,price:O(a),quantity:j(c),coupon:s,position:j(u),currency:l}})},Pe.addEnhancedEcommercePromoContext=function(e,t,n,r,o){jt.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/promoFieldObject/jsonschema/1-0-0",data:{id:e,name:t,creative:n,position:r,currency:o}})},Pe.enableGdprContext=function(e){Ee[e]&&(Tt.gdprBasis=!0)},Pe.addGlobalContexts=function(e){Ie.addGlobalContexts(e)},Pe.removeGlobalContexts=function(e){Ie.removeGlobalContexts(e)},Pe.clearGlobalContexts=function(){Ie.clearGlobalContexts()},Pe.enableErrorTracking=function(e,t){},Pe.trackError=function(e,t,n,r,o,i){},Pe.preservePageViewId=function(){Ot=!0},Pe.disableAnonymousTracking=function(e){e?(o.stateStorageStrategy=e,o.anonymousTracking=!1,ft=Ce(o)):o.anonymousTracking=!1,ut=!!o.anonymousTracking,ct=Ae(o),st=xe(o),kt.setUseLocalStorage("localStorage"==ft||"cookieAndLocalStorage"==ft),kt.setAnonymousTracking(st),F(),kt.executeQueue()},Pe.enableAnonymousTracking=function(e){o.anonymousTracking=e||!0,ut=!!o.anonymousTracking,ct=Ae(o),st=xe(o),ct||J(),kt.setAnonymousTracking(st)},Pe.clearUserData=$,Pe.setDebug=function(e){(De=(!!e).valueOf())?Pe:Le},Le=L(Pe),De?Pe:Le}function ne(e,t){function n(){var e;if(!i.hasLoaded)for(i.hasLoaded=!0,e=0;e<i.registeredOnLoadHandlers.length;e++)i.registeredOnLoadHandlers[e]();return!0}var r=document,o=window,i={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:null};return o.Snowplow={getTrackerCf:function(e){var n=new te(t,"","js-2.17.3",i,{});return n.setCollectorCf(e),n},getTrackerUrl:function(e){var n=new te(t,"","js-2.17.3",i,{});return n.setCollectorUrl(e),n},getAsyncTracker:function(){return new te(t,"","js-2.17.3",i,{})}},w(o,"beforeunload",(function(){if(Re(i.bufferFlushers,(function(e){e()})),i.expireDateTime)do{var e=new Date;if(0===Array.prototype.filter.call(i.outQueues,(function(e){return 0<e.length})).length)break}while(e.getTime()<i.expireDateTime)}),!1),function(){var e;r.addEventListener?w(r,"DOMContentLoaded",(function e(){r.removeEventListener("DOMContentLoaded",e,!1),n()})):r.attachEvent&&(r.attachEvent("onreadystatechange",(function e(){"complete"===r.readyState&&(r.detachEvent("onreadystatechange",e),n())})),r.documentElement.doScroll&&o===o.top&&function e(){if(!i.hasLoaded){try{r.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}n()}}()),/WebKit/.test(navigator.userAgent)&&(e=setInterval((function(){(i.hasLoaded||/loaded|complete/.test(r.readyState))&&(clearInterval(e),n())}),10)),w(o,"load",n,!1)}(),new C(te,"js-2.17.3",i,e,t)}var re=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},oe=function(e,t,n){for(var r=-1,o=Object(e),i=(n=n(e)).length;i--;){var a=n[++r];if(!1===t(o[a],a,o))break}return e},ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ae="object"==e(ie)&&ie&&ie.Object===Object&&ie,ce="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,se=ae||ce||Function("return this")(),ue=se.Symbol,le=Object.prototype,de=le.hasOwnProperty,fe=le.toString,pe=ue?ue.toStringTag:void 0,he=Object.prototype.toString,ge=ue?ue.toStringTag:void 0,me=function(e){if(null==e)e=void 0===e?"[object Undefined]":"[object Null]";else if(ge&&ge in Object(e)){var t=de.call(e,pe),n=e[pe];try{e[pe]=void 0;var r=!0}catch(e){}var o=fe.call(e);r&&(t?e[pe]=n:delete e[pe]),e=o}else e=he.call(e);return e},ye=function(t){return null!=t&&"object"==e(t)},ve=function(e){return ye(e)&&"[object Arguments]"==me(e)},we=Object.prototype,be=we.hasOwnProperty,ke=we.propertyIsEnumerable,_e=ve(function(){return arguments}())?ve:function(e){return ye(e)&&be.call(e,"callee")&&!ke.call(e,"callee")},Te=Array.isArray,Se=function(){return!1},je=c((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?se.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||Se})),Oe=/^(?:0|[1-9]\d*)$/,Ce=function(t,n){var r=e(t);return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&Oe.test(t))&&-1<t&&0==t%1&&t<n},Ae=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Arguments]"]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object Boolean]"]=xe["[object DataView]"]=xe["[object Date]"]=xe["[object Error]"]=xe["[object Function]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object WeakMap]"]=!1;var Ee,Ie=c((function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&ae.process;e:{try{var r=t&&t.require&&t.require("util").types;if(r){var o=r;break e}o=n&&n.binding&&n.binding("util");break e}catch(e){}o=void 0}e.exports=o})),De=Ie&&Ie.isTypedArray,Pe=De?(Ee=De,function(e){return Ee(e)}):function(e){return ye(e)&&Ae(e.length)&&!!xe[me(e)]},Le=Object.prototype.hasOwnProperty,Ne=Object.prototype,Me=function(e,t){return function(n){return e(t(n))}},He=Me(Object.keys,Object),Ue=Object.prototype.hasOwnProperty,Ze=function(t){var n=e(t);return null!=t&&("object"==n||"function"==n)},$e=function(e){return!!Ze(e)&&("[object Function]"==(e=me(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},Fe=function(e){return null!=e&&Ae(e.length)&&!$e(e)},Ve=function(e){if(Fe(e)){var t=Te(e),n=!t&&_e(e),r=!t&&!n&&je(e),o=!t&&!n&&!r&&Pe(e);if(t=t||n||r||o){n=e.length;for(var i=String,a=-1,c=Array(n);++a<n;)c[a]=i(a);n=c}else n=[];for(var s in i=n.length,e)!Le.call(e,s)||t&&("length"==s||r&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ce(s,i))||n.push(s);e=n}else if(e===("function"==typeof(s=e&&e.constructor)&&s.prototype||Ne)){for(r in s=[],Object(e))Ue.call(e,r)&&"constructor"!=r&&s.push(r);e=s}else e=He(e);return e},ze=function(e,t){return e&&oe(e,t,Ve)},Be=function(e,t){return function(t,n){if(null==t)return t;if(!Fe(t))return e(t,n);for(var r=t.length,o=-1,i=Object(t);++o<r&&!1!==n(i[o],o,i););return t}}(ze),Je=function(e){return e},Re=function(e,t){return(Te(e)?re:Be)(e,"function"==typeof t?t:Je)},qe=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},We=function(e,t){var n=[];return Be(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n},Ge=function(e,t){return e===t||e!=e&&t!=t},Ye=function(e,t){for(var n=e.length;n--;)if(Ge(e[n][0],t))return n;return-1},Ke=Array.prototype.splice;s.prototype.clear=function(){this.__data__=[],this.size=0},s.prototype.delete=function(e){var t=this.__data__;return!(0>(e=Ye(t,e)))&&(e==t.length-1?t.pop():Ke.call(t,e,1),--this.size,!0)},s.prototype.get=function(e){var t=this.__data__;return 0>(e=Ye(t,e))?void 0:t[e][1]},s.prototype.has=function(e){return-1<Ye(this.__data__,e)},s.prototype.set=function(e,t){var n=this.__data__,r=Ye(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var Qe=s,Xe=se["__core-js_shared__"],et=function(){var e=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),tt=Function.prototype.toString,nt=function(e){if(null!=e){try{return tt.call(e)}catch(e){}return e+""}return""},rt=/^\[object .+?Constructor\]$/,ot=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=function(e,t){return e=null==e?void 0:e[t],!Ze(e)||et&&et in e||!($e(e)?ot:rt).test(nt(e))?void 0:e},at=it(se,"Map"),ct=it(Object,"create"),st=Object.prototype.hasOwnProperty,ut=Object.prototype.hasOwnProperty;u.prototype.clear=function(){this.__data__=ct?ct(null):{},this.size=0},u.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},u.prototype.get=function(e){var t=this.__data__;return ct?"__lodash_hash_undefined__"===(e=t[e])?void 0:e:st.call(t,e)?t[e]:void 0},u.prototype.has=function(e){var t=this.__data__;return ct?void 0!==t[e]:ut.call(t,e)},u.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ct&&void 0===t?"__lodash_hash_undefined__":t,this};var lt=function(t,n){t=t.__data__;var r=e(n);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?t["string"==typeof n?"string":"hash"]:t.map};l.prototype.clear=function(){this.size=0,this.__data__={hash:new u,map:new(at||Qe),string:new u}},l.prototype.delete=function(e){return e=lt(this,e).delete(e),this.size-=e?1:0,e},l.prototype.get=function(e){return lt(this,e).get(e)},l.prototype.has=function(e){return lt(this,e).has(e)},l.prototype.set=function(e,t){var n=lt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var dt=l;d.prototype.clear=function(){this.__data__=new Qe,this.size=0},d.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},d.prototype.get=function(e){return this.__data__.get(e)},d.prototype.has=function(e){return this.__data__.has(e)},d.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Qe){var r=n.__data__;if(!at||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(r)}return n.set(e,t),this.size=n.size,this};var ft=d;f.prototype.add=f.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},f.prototype.has=function(e){return this.__data__.has(e)};var pt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},ht=function(e,t,n,r,o,i){var a=1&n,c=e.length,s=t.length;if(c!=s&&!(a&&s>c))return!1;s=i.get(e);var u=i.get(t);if(s&&u)return s==t&&u==e;s=-1,u=!0;var l=2&n?new f:void 0;for(i.set(e,t),i.set(t,e);++s<c;){var d=e[s],p=t[s];if(r)var h=a?r(p,d,s,t,e,i):r(d,p,s,e,t,i);if(void 0!==h){if(h)continue;u=!1;break}if(l){if(!pt(t,(function(e,t){if(!l.has(t)&&(d===e||o(d,e,n,r,i)))return l.push(t)}))){u=!1;break}}else if(d!==p&&!o(d,p,n,r,i)){u=!1;break}}return i.delete(e),i.delete(t),u},gt=se.Uint8Array,mt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},yt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},vt=ue?ue.prototype:void 0,wt=vt?vt.valueOf:void 0,bt=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new gt(e),new gt(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Ge(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=mt;case"[object Set]":if(c||(c=yt),e.size!=t.size&&!(1&r))break;return(n=a.get(e))?n==t:(r|=2,a.set(e,t),t=ht(c(e),c(t),r,o,i,a),a.delete(e),t);case"[object Symbol]":if(wt)return wt.call(e)==wt.call(t)}return!1},kt=function(e,t,n){if(t=t(e),!Te(e)){e=n(e),n=-1;for(var r=e.length,o=t.length;++n<r;)t[o+n]=e[n]}return t},_t=Object.prototype.propertyIsEnumerable,Tt=Object.getOwnPropertySymbols,St=Tt?function(e){return null==e?[]:(e=Object(e),qe(Tt(e),(function(t){return _t.call(e,t)})))}:function(){return[]},jt=Object.prototype.hasOwnProperty,Ot=it(se,"DataView"),Ct=it(se,"Promise"),At=it(se,"Set"),xt=it(se,"WeakMap"),Et=nt(Ot),It=nt(at),Dt=nt(Ct),Pt=nt(At),Lt=nt(xt),Nt=me;(Ot&&"[object DataView]"!=Nt(new Ot(new ArrayBuffer(1)))||at&&"[object Map]"!=Nt(new at)||Ct&&"[object Promise]"!=Nt(Ct.resolve())||At&&"[object Set]"!=Nt(new At)||xt&&"[object WeakMap]"!=Nt(new xt))&&(Nt=function(e){var t=me(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?nt(e):"")switch(e){case Et:return"[object DataView]";case It:return"[object Map]";case Dt:return"[object Promise]";case Pt:return"[object Set]";case Lt:return"[object WeakMap]"}return t});var Mt=Nt,Ht=Object.prototype.hasOwnProperty,Ut=function e(t,n,r,o,i){if(t===n)n=!0;else if(null==t||null==n||!ye(t)&&!ye(n))n=t!=t&&n!=n;else e:{var a=Te(t),c=Te(n),s=a?"[object Array]":Mt(t),u=c?"[object Array]":Mt(n),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s);if(c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),(u=s==u)&&je(t)){if(!je(n)){n=!1;break e}a=!0,l=!1}if(u&&!l)i||(i=new ft),n=a||Pe(t)?ht(t,n,r,o,e,i):bt(t,n,s,r,o,e,i);else{if(!(1&r)&&(a=l&&Ht.call(t,"__wrapped__"),s=c&&Ht.call(n,"__wrapped__"),a||s)){t=a?t.value():t,n=s?n.value():n,i||(i=new ft),n=e(t,n,r,o,i);break e}if(u)t:if(i||(i=new ft),a=1&r,s=kt(t,Ve,St),c=s.length,u=kt(n,Ve,St).length,c==u||a){for(u=c;u--;){var d=s[u];if(!(a?d in n:jt.call(n,d))){n=!1;break t}}if(l=i.get(t),d=i.get(n),l&&d)n=l==n&&d==t;else{l=!0,i.set(t,n),i.set(n,t);for(var f=a;++u<c;){var p=t[d=s[u]],h=n[d];if(o)var g=a?o(h,p,d,n,t,i):o(p,h,d,t,n,i);if(void 0===g?p!==h&&!e(p,h,r,o,i):!g){l=!1;break}f||(f="constructor"==d)}l&&!f&&((r=t.constructor)!=(o=n.constructor)&&"constructor"in t&&"constructor"in n&&!("function"==typeof r&&r instanceof r&&"function"==typeof o&&o instanceof o)&&(l=!1)),i.delete(t),i.delete(n),n=l}}else n=!1;else n=!1}}return n},Zt=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},$t=function(e){var t=function(e){for(var t=Ve(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o==o&&!Ze(o)]}return t}(e);return 1==t.length&&t[0][2]?Zt(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var s=(c=n[o])[0],u=e[s],l=c[1];if(a&&c[2]){if(void 0===u&&!(s in e))return!1}else{if(c=new ft,r)var d=r(u,l,s,e,t,c);if(void 0===d?!Ut(l,u,3,r,c):!d)return!1}}return!0}(n,e,t)}},Ft=function(t){return"symbol"==e(t)||ye(t)&&"[object Symbol]"==me(t)},Vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,Bt=function(t,n){if(Te(t))return!1;var r=e(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ft(t))||(zt.test(t)||!Vt.test(t)||null!=n&&t in Object(n))};p.Cache=dt;for(var Jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/\\(\\)?/g,qt=function(e){var t=(e=p(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Jt,(function(e,n,r,o){t.push(r?o.replace(Rt,"$1"):n||e)})),t})),Wt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Gt=1/0,Yt=ue?ue.prototype:void 0,Kt=Yt?Yt.toString:void 0,Qt=function(e,t){return Te(e)?e:Bt(e,t)?[e]:qt(null==e?"":h(e))},Xt=1/0,en=function(e){if("string"==typeof e||Ft(e))return e;var t=e+"";return"0"==t&&1/e==-Xt?"-0":t},tn=function(e,t){for(var n=0,r=(t=Qt(t,e)).length;null!=e&&n<r;)e=e[en(t[n++])];return n&&n==r?e:void 0},nn=function(e,t,n){return void 0===(e=null==e?void 0:tn(e,t))?n:e},rn=function(e,t){return null!=e&&t in Object(e)},on=function(e,t,n){for(var r=-1,o=(t=Qt(t,e)).length,i=!1;++r<o;){var a=en(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ae(o)&&Ce(a,o)&&(Te(e)||_e(e))},an=function(t){return"function"==typeof t?t:null==t?Je:"object"==e(t)?Te(t)?function(e,t){return Bt(e)&&t==t&&!Ze(t)?Zt(en(e),t):function(n){var r=nn(n,e);return void 0===r&&r===t?null!=n&&on(n,e,rn):Ut(t,r,3)}}(t[0],t[1]):$t(t):Bt(t)?function(e){return function(t){return null==t?void 0:t[e]}}(en(t)):function(e){return function(t){return tn(t,e)}}(t)},cn=function(e,t){return(Te(e)?qe:We)(e,an(t))},sn=function(e){return"string"==typeof e||!Te(e)&&ye(e)&&"[object String]"==me(e)},un=function(e,t){var n=-1,r=Fe(e)?Array(e.length):[];return Be(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},ln=function(e,t){return(Te(e)?Wt:un)(e,an(t))},dn=window,fn=document,pn=window.localStorage,hn=window.sessionStorage,gn=/^\s+|\s+$/g,mn=/^[-+]0x[0-9a-f]+$/i,yn=/^0b[01]+$/i,vn=/^0o[0-7]+$/i,wn=parseInt,bn=1/0,kn=function(e){e?(e=function(e){if("number"==typeof e)return e;if(Ft(e))return NaN;if(Ze(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=Ze(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(gn,"");var t=yn.test(e);return t||vn.test(e)?wn(e.slice(2),t?2:8):mn.test(e)?NaN:+e}(e),e=e===bn||e===-bn?17976931348623157e292*(0>e?-1:1):e==e?e:0):e=0===e?e:0;var t=e%1;return e==e?t?e-t:e:0},_n=window,Tn=navigator,Sn=screen,jn=document,On=c((function(e){var t;t={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var n=0;n<e.length;n++)e[n]=t.endian(e[n]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;4>o;o++)8*n+6*o<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*r);return t}},e.exports=t})),Cn={utf8:{stringToBytes:function(e){return Cn.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Cn.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},An=Cn,xn=c((function(e){var t,n,r,o;t=An.utf8,n=An.bin,r=function(e){e.constructor==String&&(e=t.stringToBytes(e));var n=On.bytesToWords(e),r=8*e.length;e=[];var o=1732584193,i=-271733879,a=-1732584194,c=271733878,s=-1009589776;for(n[r>>5]|=128<<24-r%32,n[15+(r+64>>>9<<4)]=r,r=0;r<n.length;r+=16){for(var u=o,l=i,d=a,f=c,p=s,h=0;80>h;h++){if(16>h)e[h]=n[r+h];else{var g=e[h-3]^e[h-8]^e[h-14]^e[h-16];e[h]=g<<1|g>>>31}g=(o<<5|o>>>27)+s+(e[h]>>>0)+(20>h?1518500249+(i&a|~i&c):40>h?1859775393+(i^a^c):60>h?(i&a|i&c|a&c)-1894007588:(i^a^c)-899497514),s=c,c=a,a=i<<30|i>>>2,i=o,o=g}o+=u,i+=l,a+=d,c+=f,s+=p}return[o,i,a,c,s]},o=function(e,t){return e=On.wordsToBytes(r(e)),t&&t.asBytes?e:t&&t.asString?n.bytesToString(e):On.bytesToHex(e)},o._blocksize=16,o._digestsize=20,e.exports=o})),En=function(){try{var e=it(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),In=function(e,t){var n={};return t=an(t),ze(e,(function(e,r,o){e=t(e,r,o),"__proto__"==r&&En?En(n,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[r]=e})),n},Dn=function(e){return function(){try{return e.apply(this,arguments)}catch(e){}}},Pn=c((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;16>t;t++)!(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),Ln=[],Nn=0;256>Nn;++Nn)Ln[Nn]=(Nn+256).toString(16).substr(1);var Mn,Hn,Un=function(e,t){return t=t||0,[Ln[e[t++]],Ln[e[t++]],Ln[e[t++]],Ln[e[t++]],"-",Ln[e[t++]],Ln[e[t++]],"-",Ln[e[t++]],Ln[e[t++]],"-",Ln[e[t++]],Ln[e[t++]],"-",Ln[e[t++]],Ln[e[t++]],Ln[e[t++]],Ln[e[t++]],Ln[e[t++]],Ln[e[t++]]].join("")},Zn=0,$n=0,Fn=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||Pn)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||Un(e)},Vn=Fn;Vn.v1=function(e,t,n){n=t&&n||0;var r=t||[],o=(e=e||{}).node||Mn,i=void 0!==e.clockseq?e.clockseq:Hn;if(null==o||null==i){var a=Pn();null==o&&(o=Mn=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==i&&(i=Hn=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var c=void 0!==e.nsecs?e.nsecs:$n+1,s=a-Zn+(c-$n)/1e4;if(0>s&&void 0===e.clockseq&&(i=i+1&16383),(0>s||a>Zn)&&void 0===e.nsecs&&(c=0),1e4<=c)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Zn=a,$n=c,Hn=i,e=(1e4*(268435455&(a+=122192928e5))+c)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=i>>>8|128,r[n++]=255&i,i=0;6>i;++i)r[n+i]=o[i];return t||Un(r)},Vn.v4=Fn;var zn=Vn,Bn=Object.prototype.hasOwnProperty,Jn=function(e,t){return null!=e&&Bn.call(e,t)},Rn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},qn=function(e,t){var n=!0;return Be(e,(function(e,r,o){return n=!!t(e,r,o)})),n},Wn=function(t,n,r){var o,i=Te(t)?Rn:qn;if(o=r)if(o=n,Ze(r)){var a=e(o);o=!!("number"==a?Fe(r)&&Ce(o,r.length):"string"==a&&o in r)&&Ge(r[o],t)}else o=!1;return o&&(n=void 0),i(t,an(n))},Gn=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Yn=Me(Object.getPrototypeOf,Object),Kn=Function.prototype.toString,Qn=Object.prototype.hasOwnProperty,Xn=Kn.call(Object),er=window;if(er.$OPHI_GN&&0<er.$OPHI_GN.length){var tr=er.$OPHI_GN.shift(),nr=er[tr];nr.q=new ne(nr.q,tr)}else er._snaq=er._snaq||[],er._snaq=new ne(er._snaq,"_snaq")}()})(),(()=>{"use strict";var e=n(962),t=n(3),r=n(619);const o=(n,r,o)=>{if("article"===n)try{const n=document.location;if((n?n.pathname:"").length<2&&r){const{href:o,hostname:i}=(e=>{const t=document.createElement("a");return t.href=e,t})(r),a=n.search||e.u1,c=n.hash||e.u1;if(n.hostname===i&&o){const e=o+a+c;window[t.Tu]("setCustomUrl",e)}}}catch(t){window[e.rF].log("Can't set Custom URL",e.ff,o,t,e.t0,e.rT)}};var i=n(434),a=n(655),c=n(713),s=n(935),u=n(617);t.q$.forEach((([e,n])=>{e&&n&&window[t.Tu]("newTracker",e,n,t.$f)})),o(t.$2,(0,c.Yp)(((0,e.xq)("link[rel=canonical]")||e.t0).href),"sophi/run.js"),(t.uV.q||e.Ml).forEach(r.A);const l=(0,i.d)();if(l&&(0,a.n0)(e._K,l,730),(0,s.cy)(t.t9)){const n=n=>{t.t9[e.eq](n.origin)&&"sophi"===n.data.tracker&&(0,r.A)(n.data)};window[e.Ub]("message",n,!1)}t.uV.getHUDElementDetails=t=>{try{const n=window.sophi.contexts.extract.click;if((0,s.Tn)(n)){const r=n(t,{isHud:e.rT});return r?r.data:e.ZH}}catch(e){}return e.ZH},t.uV.decorateButtons=u.A,t.YZ&&t.bx&&window[t.Tu](`enableActivityTracking:${t.Tu}`,t.cd,t.vb)})(),(()=>{"use strict";var e=n(264),t=n.n(e);const r="data-sophi-link",o="data-sophi-feature",i=!1,a="length",c=!0,s=setTimeout,u=()=>{const{subDomain:e,environment:t}=window.sophi?.data?.environment,n="stg",r="dev";return t===r||/dev|development/.test(e)||/localhost|(127\.0\.0\.1)/.test(document.location.hostname)?r:t===n||/stg|qa|staging/.test(e)?n:"prod"},l=()=>!document.hidden,d=()=>window.sophi?.settings,f=()=>{const e=(()=>{const{trackerName:e}=d();return e})();return window[e]},p=window.requestIdleCallback||s,h=window.addEventListener,g=(e,...t)=>s(e,0,...t),m=()=>"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive",y="online",v="offline";let w=navigator.onLine?y:v;const b=e=>{[y,v].forEach((t=>{h(t,(t=>(({type:e},t)=>{e===y&&e!==w&&t(),w=e})(t,e)))}))},k=e=>{const t={};return t.feature=(e=>e.hasAttribute(r)?e.getAttribute(r):"not-tagged")(e),t.uri=(e=>e.href)(e),t},_={root:null,rootMargin:"0px",threshold:.5},T=(e,t=_)=>{const n=new IntersectionObserver((t=>((e,t)=>{[...e].forEach((e=>{e.isIntersecting&&t(e)}))})(t,e)),t);return n};let S;const j=new Map,O=e=>{const{href:t}=e,n=e.getAttribute(r);return n?`${n}:${t}`:t},C=e=>{(e=>{const t=O(e);return j.size&&j.has(t)?i:c})(e)&&S.observe(e)},A=e=>{S.unobserve(e);const t=O(e);j.set(t,e)},x=e=>(S=T(e),{observe:C,unobserve:A});let E=i;const I=e=>{const t=k(e);delete t.uri;return{schema:"iglu:com.globeandmail/click/jsonschema/1-0-14",data:t}},D=()=>{if(E)return void(()=>{const e=f();e&&e("refreshLinkClickTracking")})();const e=f();e&&(e("enableLinkClickTracking",null,c,c,[I]),E=c)};let P=m();const L=(e,t)=>{P!==e&&(t(),P=e)},N=e=>{(e=>{const t={capture:c};["pageshow","focus","blur","visibilitychange"].forEach((n=>{h(n,(()=>L(m(),e)),t)})),h("freeze",(()=>L("frozen",e)),t);const n="onpagehide"in window?"pagehide":"beforeunload";h(n,(({persisted:t})=>{L(t?"frozen":"terminated",e)}),t)})(e)};let M=[],H=[];const U=["dev","stg"].includes(u()),Z=()=>{window.sophi=window.sophi||{},window.sophi.itemImpression=window.sophi.itemImpression||{}},$=()=>{H=H.concat(M),U&&(Z(),window.sophi.itemImpression.linkProcessed=H),M=[],U&&(window.sophi.itemImpression.linkData=[])},F=()=>M[a];let V=i;const z=()=>{const e=M,t=!!F();window.sophi&&t&&window.sophi.sendEvent({type:"link_impressions",data:{links:e}}),$(),V=i},B=e=>{(e=>{M.push(e),U&&(Z(),window.sophi.itemImpression.linkData=M)})(e);F()>=20&&!V&&(p(z),V=c)},J=()=>{const e=f(),t=d();e&&e("crossDomainLinker",t.crossDomainLinker)},R=new Map,q=()=>{const e=[...document.querySelectorAll(`[${o}]`)];!!e[a]&&e.forEach((e=>{(e=>{if(R.size){const t=e.getAttribute(o),n=R.get(t);if(n)return n===e}return i})(e)||((e=>{const t=e.getAttribute(o);t&&[...e.getElementsByTagName("a")].forEach((e=>{e.setAttribute(r,t)}))})(e),(e=>{const t=e.getAttribute(o);R.set(t,e)})(e))}))};var W=n(738);const{enableLinkTracking:G}=W.A||{},Y=e=>{const n=e.target;if(l()&&(e=>t()(e,.5))(n)){const e=k(n);B(e),K.unobserve(n)}},K=x((e=>{l()&&setTimeout(Y,500,e)})),Q=()=>{[...document.getElementsByTagName("a")].forEach((e=>{K.observe(e)}))},X=()=>{G&&(q(),Q(),D(),J())};window.sophi=window.sophi||{},window.sophi.refreshLinkTracking=()=>g(X),g((()=>{G&&(q(),Q(),D(),N(z),b(z))}))})()})();
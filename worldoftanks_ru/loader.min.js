!function(e){"use strict";var p,t=e.Spinner,o=["webkit","Moz","ms","O"],d={};function h(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function m(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}var g=(a=h("style",{type:"text/css"}),m(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet);function i(e,t){var n,i,s=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<o.length;i++)if(void 0!==s[n=o[i]+t])return n;if(void 0!==s[t])return t}function f(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function n(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)void 0===e[n]&&(e[n]=i[n])}return e}function _(e,t){return"string"==typeof e?e:e[t%e.length]}var s={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function r(e){this.opts=n(e||{},r.defaults,s)}r.defaults={},n(r.prototype,{spin:function(e){this.stop();var n,i,s,o,r,a,l,c=this,u=c.opts,d=c.el=f(h(0,{className:u.className}),{position:u.position,width:0,zIndex:u.zIndex});u.radius,u.length,u.width;return f(d,{left:u.left,top:u.top}),e&&e.insertBefore(d,e.firstChild||null),d.setAttribute("role","progressbar"),c.lines(d,c.opts),p||(n=0,i=(u.lines-1)*(1-u.direction)/2,o=u.fps,r=o/u.speed,a=(1-u.opacity)/(r*u.trail/100),l=r/u.lines,function e(){n++;for(var t=0;t<u.lines;t++)s=Math.max(1-(n+(u.lines-t)*l)%r*a,u.opacity),c.opacity(d,t*u.direction+i,s,u);c.timeout=c.el&&setTimeout(e,~~(1e3/o))}()),c},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,n){var t,i,s,o,r,a,l=0,c=(n.lines-1)*(1-n.direction)/2;function u(e,t){return f(h(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*l+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(;l<n.lines;l++)r=f(h(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:p&&(t=n.opacity,i=n.trail,s=c+l*n.direction,o=n.lines,a=r=void 0,r=["opacity",i,~~(100*t),s,o].join("-"),a=.01+s/o*100,s=Math.max(1-(1-t)/i*(100-a),t),o=p.substring(0,p.indexOf("Animation")).toLowerCase(),d[r]||(g.insertRule("@"+(o&&"-"+o+"-"||"")+"keyframes "+r+"{0%{opacity:"+s+"}"+a+"%{opacity:"+t+"}"+(.01+a)+"%{opacity:1}"+(a+i)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",g.cssRules.length),d[r]=1),r+" "+1/n.speed+"s linear infinite")}),n.shadow&&m(r,f(u("#000","0 0 4px #000"),{top:"2px"})),m(e,m(r,u(_(n.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var a=f(h("group"),{behavior:"url(#default#VML)"});function c(e,t){return h("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}!i(a,"transform")&&a.adj?(g.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(e,i){var s=i.length+i.width,t=2*s;function o(){return f(c("group",{coordsize:t+" "+t,coordorigin:-s+" "+-s}),{width:t,height:t})}var n,r=2*-(i.width+i.length)+"px",a=f(o(),{position:"absolute",top:r,left:r});function l(e,t,n){m(a,m(f(o(),{rotation:360/i.lines*e+"deg",left:~~t}),m(f(c("roundrect",{arcsize:i.corners}),{width:s,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),c("fill",{color:_(i.color,e),opacity:i.opacity}),c("stroke",{opacity:0}))))}if(i.shadow)for(n=1;n<=i.lines;n++)l(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)l(n);return m(e,a)},r.prototype.opacity=function(e,t,n,i){e=e.firstChild;i=i.shadow&&i.lines||0,e&&t+i<e.childNodes.length&&(e=(e=(e=e.childNodes[t+i])&&e.firstChild)&&e.firstChild)&&(e.opacity=n)}):p=i(a,"animation"),r.noConflict=function(){return e.Spinner=t,r},e.Spinner=r}(window),function(window){var WGCM={},Ua,Va,Wa,Xa,Ya,Za,$a,_a,tb,ub,vb,ec,fc,gc,hc,ic,jc,wc,xc,yc,kd,jd,zc,Ac,Bc,Cc,Dc,ud,vd,Zd,$d,d3,r4,s4,t4,u4,v4,g5,h5,w5,x5,y5,z5,A5,F5,dg,eg,fg,gg,hg,Kg,Lg,Mg,Ng,Og,Q6,R6,S6,T6,U6,V6,bh,ch,dh,eh,jh,gh,Qh,Rh,Sh,Th,Uh,Vh,e7,f7,g7,h7,i7,j7,k7,l7,m7,n7,o7,p7,q7,r7,s7,t7,u7,v7,w7,x7,z7,A7,B7,C7,D7,E7,F7,G7,H7,I7;function Ec(e){return(e=zc+e+zc).replace(Ac,zc)}function Fc(e,t,n){var i,s,o,r;if(wc.isElement(e)){for(s=Ec(e.className),r=0,o=(i=(t||"").match(Bc)||[]).length;r<o;r++)s=n(s,i[r]);t=s.replace(Cc,""),e.className!==t&&(e.className=t)}}function hh(e){this.options=ch.extend({},this.defaults,e),this.uid=this.options.uid||hh.uid(),this.element=this.createElement()}function K7(e){var t,n;for(t in e)I7.call(e,t)&&("string"==typeof(n=e[t])&&(0===n.length?E7[t]=n=void 0:n=function(e){if(parseInt(e,10)+""===e)return parseInt(e,10);switch(e){case"true":e=!0;break;case"false":e=!1;break;case"null":e=null}return e}(n)),e[t]=n);E7=o7.extend({},H7,E7,e),G7=o7.extend({},E7,F7)}function M7(e){K7(e),this.clientId="cm"+(new Date).getTime()}WGCM.PLUGINS_NAMES={USER_MENU:"user-menu",GAMES_DROPDOWN:"games-dropdown",SERVICES_DROPDOWN:"services-dropdown",OUTDATED_BROWSERS:"outdated-browsers",SHARED_FRAME:"shared-frame",NOTIFICATIONS:"notifications",INTRO_TOOLTIPS:"intro-tooltips",STATISTICS:"statistics",DESKTOP_NOTIFICATIONS:"desktop-notifications",TAB_CAROUSEL:"tab-carousel",MOMENT:"moment",JSON:"json2",SVG_INJECTOR:"svg-injector"},WGCM.DEFAULT_CLASSES={jsDropdownClass:"js-cm-dropdown",jsGamesDropdownClass:"js-cm-games-dropdown",jsServicesDropdownClass:"js-cm-services-dropdown",jsTabMark:"js-tab-mark",jsSubMenuClass:"js-cm-sub-menu",jsSubMenuFixedBackgroundClass:"cm-sub-menu-fixed-background",jsDropdownLinkClass:"js-cm-dropdown-link",dropdownOpenedClass:"cm-dropdown__opened",jsLayoutClass:"js-cm-layout",jsLayoutContentClass:"js-cm-layout-content",jsUpLinkClass:"js-cm-up_link",jsUserMenuClass:"js-cm-menu__user",jsUserMenuDropdownClass:"js-cm-user-menu-dropdown",jsUserMenuDropdownLink:"js-cm-user-menu-link",jsNotificationsLinkClass:"js-cm-notifications-link",notificationsLinkShowClass:"cm-notifications-link__show",jsNotificationsCounterClass:"js-cm-notifications-counter",jsNotificationsDropdownClass:"js-cm-notifications-dropdown",jsLoginSpinnerClass:"js-cm-login-spinner",jsLoginSpinnerMobileClass:"js-cm-login-spinner-mobile",jsLoginLinkClass:"js-cm-login-link",jsExtraLinkNewText:"js-extra-link-new-text",jsExtraLinkNew:"js-extra-link-new",jsLinkIgnoreTargetClass:"js-cm-link-ignore-target",jsHintClass:"js-cm-hint",jsHintContainerClass:"js-cm-hint-container",notTouchClass:"cm-not-touch",notSVGClass:"cm-not-svg",notificationsCounterTwoDigitsClass:"cm-counter__double",counterHiddenClass:"cm-counter__hidden",titleParagraphClass:"cm-title_paragraph",titleShowClass:"cm-title__show",oldBrowser:"cm-old-browser"},Ua=WGCM.utils={},Va=Array.prototype,Wa=Object.prototype,Xa=Va.forEach,Ya=Va.some,Za=Va.slice,$a=Wa.hasOwnProperty,_a=window.encodeURIComponent,Ua.arrayFrom=function(t,n,i){var s,o,r,a,l,c;try{return Za.call(t,n,i)}catch(e){if(Ua.isArray(t))return Za.call(t,n,i);if(o=[],a=t.length,c=i||a,0<(r=(c=i<0?a+i:c)-(l=0<=(l=n||0)?l:a+l)))for(o=new Array(r),s=0;s<r;s++)o[s]=t[l+s];return o}},Ua.debounce=function(t,n,i){var s,o,r,a,l,c=Date.now||function(){return(new Date).getTime()},u=function(){var e=c()-a;e<n&&0<e?s=setTimeout(u,n-e):(s=null,i||(l=t.apply(r,o),s||(r=o=null)))};return function(){var e=i&&!s;return r=this,o=arguments,a=c(),s=s||setTimeout(u,n),e&&(l=t.apply(r,o),r=o=null),l}},Ua.extend=function(){for(var e,t,n=Za.call(arguments),i=n[0]||{},s=n.length,o=1;o<s;o++)for(t in e=n[o])$a.call(e,t)&&void 0!==e[t]&&(i[t]=e[t]);return i},Ua.forEach=function(e,t,n){var i,s,o;if(e){if(Ua.isArrayLike(e)){if(Xa)return Xa.call(e,t,n);for(o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)}else for(s in e)$a.call(e,s)&&t.call(n,e[s],s,e);return e}},Ua.some=function(e,t,n){var i,s,o=!Ua.isArrayLike(e)&&Ua.keys(e),r=(o||e).length;if(!o&&Ya)return Ya.call(e,t,n);for(s=0;s<r;s++)if(i=o?o[s]:s,$a.call(e,i)&&!0===t.call(n,e[i],i,e))return!0;return!1},Ua.hasAnyProperty=function(e){for(var t in e)if($a.call(e,t))return!0;return!1},Ua.inArray=function(e,t){var n,i=e.length;if(!e||!t)return!1;for(n=0;n<i;n++)if(e[n]===t)return!0;return!1},Ua.isArray=Array.isArray||function(e){return"[object Array]"===Wa.toString.call(e)},Ua.isArrayLike=function(e){var t,n=Math.pow(2,53)-1;return"number"==typeof(t=e&&e.length?e.length:t)&&0<=t&&t<=n},Ua.keys=function(e){var t,n=[];if(!e||"object"!=typeof e||null===typeof e)return[];if(Object.keys)return Object.keys(e);for(t in e)$a.call(e,t)&&n.push(t);return n},Ua.formatString=function(e){var n=Za.call(arguments,1);return e?e.replace(/(?:{(\d)})/g,function(e,t){return t=parseInt(t,10),void 0!==n[t]?n[t]:e}):""},Ua.toQueryString=function(e){var t,n=[];for(t in e)$a.call(e,t)&&n.push(_a(t)+"="+_a(e[t]));return n.join("&")},Ua.addQueryString=function(e,t){var n;return t&&(n=e&&-1!==e.indexOf("?")?"&":"?",e&&-1!==e.indexOf("#")?e=e.substr(0,e.indexOf("#"))+n+t+e.substr(e.indexOf("#")):e+=n+t),e},Ua.escape=function(){function t(e){return i[e]}var e,n,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=[];for(e in i)$a.call(i,e)&&s.push(e);return n=new RegExp("(?:"+s.join("|")+")","g"),function(e){return"string"==typeof e?e.replace(n,t):e}}(),tb=WGCM,ub=WGCM.utils,vb=window.document,tb.LazyLoad=new function(g){var f,_,v=50,w={},C=0,y=parseInt(1e4/v,10),b={css:[],js:[]},n=g.styleSheets;function S(e,t){var n,i=g.createElement(e);for(n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n]);return i}function k(e,i,t,n,s,o){var r,a=w[e];function l(e,t,n){r=n||t.obj,e&&("function"==typeof e?e.call(t.context,r):"object"==typeof e&&("function"==typeof e[i]&&e[i].call(t.context,r),"function"==typeof e.complete&&e.complete.call(t.context,r)))}o&&clearTimeout(o),t&&"js"===e&&(t.parentNode&&t.parentNode.removeChild(t),t.onload=t.onerror=t.onreadystatechange=null),a&&(o=a.callback,t=a.urls,C=0,t.shift(),t.length?s&&l(o,a,n):(l(o,a,n),w[e]=null,b[e].length&&c(e)))}function E(e,t,n,i,s,o){return function(){k(e,t,n,i,s,o)}}function c(i,e,t,n,s,o){var r,a,l,c,u,d,p,h="css"===i,m=[];if(f||(p=navigator.userAgent,((f={async:!0===g.createElement("script").async}).webkit=/AppleWebKit\//.test(p))||(f.ie=/MSIE|Trident/.test(p))||(f.opera=/Opera/.test(p))||(f.gecko=/Gecko\//.test(p))||(f.unknown=!0)),e)if(e="string"==typeof e?[e]:e.concat(),h||f.async||f.gecko||f.opera)b[i].push({urls:e,callback:t,obj:n,context:s});else for(r=0,a=e.length;r<a;++r)b[i].push({urls:[e[r]],callback:r===a-1||o?t:null,obj:n,context:s,timeout:o||0});if(!w[i]&&(c=w[i]=b[i].shift())){for(_=_||(g.head||g.getElementsByTagName("head")[0]),r=0,a=(u=c.urls.concat()).length;r<a;++r)"object"==typeof u[r]?(d=u[r].url,n=u[r].obj):d=u[r],(l=h?f.gecko?S("style"):S("link",{href:d,rel:"stylesheet"}):S("script",{src:d})).className="lazyload",l.setAttribute("charset","utf-8"),f.ie&&!h&&"onreadystatechange"in l&&!("draggable"in l)?l.onreadystatechange=function(){c.timeout&&/loading/.test(l.readyState)&&(c.timeoutID=setTimeout(function(){k(i,"error",l,n,!0)},c.timeout)),/loaded|complete/.test(l.readyState)&&k(i,"success",l,n,!1,c.timeoutID)}:h&&(f.gecko||f.webkit)?f.webkit?(c.urls[r]=l.href,j()):(l.innerHTML='@import "'+d+'";',function t(n){var i;try{i=!!n.sheet.cssRules}catch(e){return void((C+=1)<y?setTimeout(function(){t(n)},v):i&&k("css"))}k("css")}(l)):o?(l.onload=E(i,"success",l,n,!0),l.onerror=E(i,"error",l,n,!0)):(l.onload=E(i,"success",l,n),l.onerror=E(i,"error",l,n)),m.push({node:l,obj:n});for(r=0,a=m.length;r<a;++r)!o||f.ie&&("onreadystatechange"in l||!("draggable"in l))||h||function(e,t){var n=setTimeout(function(){k(i,"error",e,t,!0)},o);e.onload=E(i,"success",e,t,!0,n),e.onerror=E(i,"error",e,t,!0,n)}(m[r].node,m[r].obj),_.appendChild(m[r].node)}}function j(){var e,t=w.css;if(t){for(e=n.length-1;0<=e;){if(n[e].href===t.urls[0]){k("css");break}e--}C+=1,t&&(C<y?setTimeout(j,v):k("css"))}}function e(){}this.css=function(e,t,n,i){c("css",e,t,n,i)},this.js=function(e,t,n,i,s){c("js",e,t,n,i,s)},this.jsonp=function(t){(t=ub.extend({callback_name:"callback",url:"",data:{},success:e,error:e,complete:e,timeout:1e4},t)).data[t.callback_name]||(t.data[t.callback_name]="jsonp_"+function(e){for(var t="";t.length<e;)t+=Math.random().toString(36).charAt(2);return t}(15));var n=t.data[t.callback_name];t.url+=-1===t.url.indexOf("?")?"?":"&",t.url+=function(e){var t,n,i=window.encodeURIComponent,s=[];for(t in e)e.hasOwnProperty(t)&&(n=e[t],s.push(i(t)+"="+i(n)));return s.join("&")}(t.data),window[n]=function(e){t.success(e);try{return delete window[n]}catch(e){return window[n]=!1}},c("js",[t.url],{error:t.error,complete:t.complete})}}(vb),ec=WGCM,fc=WGCM.utils,jc=Object.prototype.hasOwnProperty,ec.i18n={setDictionary:function(e){gc&&gc._filename===WG.CommonMenu.getOptions().language||(e=(gc=e||{})[""]&&gc[""]["plural-forms"]||"",ic=new Function("n",["var plurals,plural;",e,";return plural;"].join("")))},addDictionaryFromConfig:function(e){hc&&hc._filename===WG.CommonMenu.getOptions().language||(hc=e||{})},_:function(e,t){return e?(void 0===t&&(t=e),void 0!==gc&&gc[e]||t):""},_u:function(e,t){return e?(void 0===t&&(t=e),void 0!==hc&&hc[e]||t):""},_n:function(e,t,n){return t=(1===(n=n||1)?e:t)||"",""!==e&&void 0!==gc&&jc.call(gc,e)?(e=gc[e],fc.isArray(e)&&e[ic(n)+1]||t):t}},wc=WGCM.DOM={},xc=WGCM.utils,yc=window.document,zc=" ",Ac=/[\s\t\r\n\f]+/g,Bc=/\S+/g,Cc=/^\s+|\s+$/g,Dc=Object.prototype.hasOwnProperty,wc.handlerId=0,wc.isElement=function(e){return e&&1===e.nodeType},wc.addClass=function(e,t){Fc(e,t,function(e,t){return e.indexOf(t)<0&&(e+=t+zc),e})},wc.removeClass=function(e,t){Fc(e,t,function(e,t){for(t=zc+t+zc;0<=e.indexOf(t);)e=e.replace(t,zc);return e})},wc.hasClass=function(e,t){return!!wc.isElement(e)&&(t=zc+t+zc,0<=Ec(e.className).indexOf(t))},wc.findByClass=function(t,e){var n=[];return(e=e||yc).getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll?e.querySelectorAll("."+t):(xc.forEach(e.getElementsByTagName("*"),function(e){wc.hasClass(e,t)&&n.push(e)}),n)},wc.getElementOffset=function(e){var t={top:0,left:0},n=e&&e.ownerDocument;if(n)return n=n.documentElement,wc.hasParent(e,n)?{top:(t=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():t).top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}:t},wc.inViewport=function(e){var t=wc.getElementOffset(e),n=yc.documentElement,i=window.pageYOffset||n.scrollTop,s=window.pageXOffset||n.scrollLeft;return t.top>=i&&t.left>=s&&t.top+e.offsetHeight<=i+(window.innerHeight||n.clientHeight)&&t.left+e.offsetWidth<=s+(window.innerWidth||n.clientWidth)},wc.findFirstByClass=function(t,e){var n;return(e=e||yc).getElementsByClassName?e.getElementsByClassName(t)[0]:e.querySelectorAll?e.querySelectorAll("."+t)[0]:(xc.some(e.getElementsByTagName("*"),function(e){if(wc.hasClass(e,t))return n=e,!0}),n)},wc.nextSibling=function(e){var t;if(!wc.isElement(e))return null;if(e.nextElementSibling)return e.nextElementSibling;for(t=e.nextSibling;!wc.isElement(t);)t=t.nextSibling;return t},wc.previousSibling=function(e){var t;if(!wc.isElement(e))return null;if(e.previousElementSibling)return e.previousElementSibling;for(t=e.previousSibling;!wc.isElement(t);)t=t.previousSibling;return t},wc.parentByClass=function(e,t){for(;e;){if(wc.hasClass(e,t))return e;e=e.parentNode}return null},wc.hasParent=function(e,t){for(;e=e.parentNode;)if(e===t)return!0;return!1},wc.remove=function(e){wc.isElement(e)&&(e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e))},wc.scrollTo=function(e,t,n,i,s){function o(){l+=15,e.scrollTop=c(l,r,a,n),l<n?setTimeout(o,15):"function"==typeof s&&s()}var r=e.scrollTop,a=t-r,l=0,c=wc.easing[i||"easeInOutCubic"];o()},wc.scrollIntoView=function(e,t,n,i){var s=wc.getElementOffset(e);wc.inViewport(e)?"function"==typeof i&&i():wc.scrollTo(yc.body,s.top,t,n,i)},wc.easing={easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},wc.wrap=function(e,t){return t=t||yc.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},wc.addEventListener=function(s,e,t){s&&(t.handlerId||(t.handlerId=++wc.handlerId),s.commonHandle=function(e){var t,n=new wc.Event(e),i=s.events[e.type];for(t in i)Dc.call(i,t)&&!1===i[t].call(s,n)&&e.stop()},s.events||(s.events={},s.fixedListener=function(e){if("undefined"!=typeof Event)return s.commonHandle.call(s,e)}),xc.forEach(e.split(/\s+/),function(e){s.events[e]||(s.events[e]={},s.addEventListener?s.addEventListener(e,s.fixedListener,!1):s.attachEvent&&s.attachEvent("on"+e,s.fixedListener)),s.events[e][t.handlerId]=t}))},wc.removeEventListener=function(n,e,i){xc.forEach(e.split(/\s+/),function(e){var t=n.events&&n.events[e];if(t&&(delete t[i.handlerId],!xc.hasAnyProperty(t)&&(n.removeEventListener?n.removeEventListener(e,n.fixedListener,!1):n.detachEvent&&n.detachEvent("on"+e,n.fixedListener),delete n.events[e],!xc.hasAnyProperty(n.events))))try{delete n.fixedListener,delete n.events}catch(e){n.removeAttribute("fixedListener"),n.removeAttribute("events")}})},wc.css=function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},wc.supportsCSSTransitions="string"==typeof(jd=(yc.body||yc.documentElement).style).transition||(kd="transition".charAt(0).toUpperCase()+"transition".substr(1),xc.some(["Moz","webkit","Webkit","Khtml","O","ms"],function(e){if("string"==typeof jd[e+kd])return!0})),wc.Event=function(e){this.target=e.target||e.srcElement,this.originalEvent=e},wc.Event.prototype={preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},wc.setInterface=function(e,t){var n=e.getAttribute("data-current-interface"),i=e.getAttribute("data-previous-interface");e&&t!==n&&(""!==(t=void 0===t?i:t)?(n&&(e.setAttribute("data-previous-interface",n),wc.removeClass(e,n)),wc.addClass(e,t)):wc.removeClass(e,n),e.setAttribute("data-current-interface",t))},ud=WGCM.Browser={},vd=WGCM.utils,ud.supportsTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},ud.allowSVG=function(){return!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||this.isOldOpera()||this.isOldNativeAndroid())},ud.allowSharedFrame=function(){return"safari"!==this.getBrowserInfo().name},ud.isOldOpera=function(){return/Opera/.test(navigator.userAgent)},ud.isOldNativeAndroid=function(){var e=0<=navigator.userAgent.indexOf("Android"),t=parseInt((/WebKit\/([0-9]+)/.exec(navigator.appVersion)||0)[1],10)||void 0;return e&&t<=534&&0===navigator.vendor.indexOf("Google")},ud.isIE=function(){var e,t=navigator.userAgent,n=navigator.appName;return"Microsoft Internet Explorer"===n?e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"===n&&(e=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),e&&null!==e.exec(t)},ud.getBrowserInfo=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"ie",version:parseFloat(e[1]||0)}):("msie"===n[1].toLowerCase()&&(n[1]="ie"),"Chrome"===n[1]&&null!==(e=t.match(/\bOPR\/(\d+)/))?{name:"opera",version:parseFloat(e[1])}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].toLowerCase(),version:parseFloat(n[1])}))},ud.isActualBrowser=function(e){var n=this.getBrowserInfo(),i=!0,s=["ie6","ie7","ie8","ie9","opera12"];return e&&e.outdated_browsers&&(e=e.outdated_browsers.split(","),vd.forEach(e,function(e){var t=function(e){e=e.match(/([^\d]+)(\d+)/i);return e[1]&&e[2]?{name:e[1],version:parseFloat(e[2])}:{name:"",version:0}}(e);vd.inArray(s,e)&&t.name===n.name&&t.version>=n.version&&(i=!1)},this)),i},ud.getCookie=function(e){e=(document.cookie?"; "+document.cookie:"").split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()},ud.setCookie=function(e,t,n,i){var s=new Date;n=n||"0",i=i||"/",s.setDate(s.getDate()+n),document.cookie=e+"="+t+"; path="+i+"; expires="+s.toUTCString()+"; SameSite=None; secure"},Zd=WGCM.Viewport={},$d=window,d3=void 0!==$d.matchMedia||void 0!==$d.msMatchMedia,Zd.getWidth=function(){return $d.innerWidth},Zd.isMobile=function(){return d3&&Zd.getWidth()<480},Zd.isBigMobile=function(){return d3&&Zd.getWidth()<640},Zd.isTablet=function(){var e=Zd.getWidth();return d3&&(480<=e&&e<1024)},Zd.isBigTablet=function(){var e=Zd.getWidth();return d3&&(640<=e&&e<1024)},Zd.isDesktop=function(){return!d3||1024<=Zd.getWidth()},Zd.isDeviceUnder768=function(){return d3&&Zd.getWidth()<768},function(e,a,l,c,o){var r="isNotStarted",u="isNew",d="isRead",n="isClicked";e.Dropdowns={initDropdownWindowHandlers:function(){var s=this;a.addEventListener(window,"resize",l.debounce(function(){var e=a.findFirstByClass(c.jsNotificationsDropdownClass),t=a.findFirstByClass(c.jsGamesDropdownClass),n=a.findFirstByClass(c.jsServicesDropdownClass),i="";s.isDropdownShown(e)&&s.updateNotificationsDropdownPosition(),s.isDropdownShown(t)?i=t:s.isDropdownShown(n)&&(i=n),i&&(s.updateImagesSourceAttribute(i),s.updateSubmenu(i))},100)),a.addEventListener(window,"pagehide unload",function(){s.hideDropdowns()})},initDropdownBodyHandlers:function(){var t,n=this.getOptions(),i=this;this.bodyClickHandler=function(e){e=e.target;e===i.menuContainerElement||a.hasParent(e,i.menuContainerElement)||(i.hideDropdown(i.dropdownLinkAll),i.hideDropdowns(),i.hideTooltip(),i.unbindBodyEvents())},this.touchStartHandler=function(e){t=(new Date).getTime(),a.addEventListener(document.body,"touchend",i.touchEndHandler)},this.touchEndHandler=function(e){(new Date).getTime()-t<=n.maxTapTime&&i.bodyClickHandler(e)},this.unbindBodyEvents=function(){a.removeEventListener(document.body,"click",i.bodyClickHandler),a.removeEventListener(document.body,"touchstart",i.touchStartHandler),a.removeEventListener(document.body,"touchend",i.touchEndHandler)},a.addEventListener(document.body,"click",this.bodyClickHandler),a.addEventListener(document.body,"touchstart",i.touchStartHandler)},onDropdownLinkClick:function(e){var t,n=e.currentTarget,i=a.parentByClass(n,c.jsSubMenuClass),s=a.findByClass(c.jsDropdownLinkClass);if(i){if(this.isDropdownShown(n))return void(o.isDeviceUnder768()&&this.toggleDropdown(n));t=a.previousSibling(a.parentByClass(n,c.jsDropdownClass)),i=a.parentByClass(i,c.jsDropdownClass),i=a.findByClass(c.jsSubMenuClass,i),this.hideDropdowns(t,i)}else this.hideDropdowns(n,s);this.toggleDropdown(n),e.preventDefault()},openSubmenuOnDropdownShow:function(e){var t=e.getAttribute("data-dropdown"),n="services"===t||"games"===t,i=a.findFirstByClass(c.jsDropdownLinkClass,e),s=this.getOptions(),e=a.findByClass(c.jsSubMenuClass,e);if(!o.isDeviceUnder768()&&n&&!this.isSomeSubmenuShow(e)&&(t&&"games"===t&&l.forEach(e,function(e){var t=e.getAttribute("data-tab-name");s.project===t&&(i=e)}),i))return this.showDropdown(i),i},isSomeSubmenuShow:function(e){var t=this,n=!1;return l.forEach(e,function(e){t.isDropdownShown(e)&&(n=!0)}),n},onUpLinkClick:function(e){var t=e.currentTarget,n=this.getOptions();this.hideDropdowns(t),this.hideDropdown(this.dropdownLinkAll),a.scrollIntoView(this.layoutElement,n.scrollAnimationSpeed),e.preventDefault()},onLoginLinkClick:function(){this.hideDropdowns()},onNewExtraLinkClick:function(e){var t=e.currentTarget,e=t.getAttribute("data-extralink-hash"),t=a.findFirstByClass(c.jsExtraLinkNewText,t);this.SharedFrame.setSharedOption("extra_link_"+e,n,7),a.remove(t)},isDropdownShown:function(e){return!!e&&a.hasClass(e,e.getAttribute("data-active-class"))},updateNotificationsDropdownPosition:function(){var e=a.findFirstByClass,t=e(c.jsUserMenuClass),n=e(c.jsNotificationsLinkClass),e=e(c.jsNotificationsDropdownClass);n&&e&&(n=t.offsetWidth-n.offsetLeft-n.offsetWidth,e.style.right=n+"px")},hideDropdowns:function(t,e){return e=e||this.dropdownLinks,l.forEach(e,function(e){e!==t&&this.hideDropdown(e)},this),t||this.hideDropdown(this.dropdownLinkAll),this},hideDropdown:function(n){var i=a.nextSibling(n),s=c.dropdownOpenedClass,o=this;return this.isDropdownShown(i)&&(this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationCallback()),a.removeClass(n,n.getAttribute("data-active-class")),a.removeClass(i,i.getAttribute("data-active-class")),this.animationCallback=function(){var e=i.getAttribute("data-dropdown"),t="dropdownhide:"+e;i&&a.removeClass(i,s),o.animationTimeout=void 0,o.trigger(t,n,i),o.trigger("dropdownhide",e,n,i)},a.hasClass(n,c.jsSubMenuClass)?this.animationCallback():this.animationTimeout=setTimeout(this.animationCallback,200)),this},showDropdown:function(n){var i=a.nextSibling(n),e=c.dropdownOpenedClass,s=this;return this.isDropdownShown(i)||(this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationCallback()),i&&a.addClass(i,e),this.animationCallback=function(){var e=i.getAttribute("data-dropdown"),t="dropdownshow:"+e;a.addClass(n,n.getAttribute("data-active-class")),a.addClass(i,i.getAttribute("data-active-class")),a.scrollIntoView(n.parentNode,100),s.animationTimeout=void 0,s.trigger(t,n,i),s.trigger("dropdownshow",e,n,i),s.initDropdownBodyHandlers()},a.hasClass(n,c.jsSubMenuClass)?this.animationCallback():this.animationTimeout=setTimeout(this.animationCallback,100)),this},toggleDropdown:function(e){return a.hasClass(e,e.getAttribute("data-active-class"))?this.hideDropdown(e):this.showDropdown(e),this},updateImagesSourceAttribute:function(e){var t="js-image-lazy-load-desktop";o.isBigTablet()?t="js-image-lazy-load-tablet":o.isBigMobile()&&(t="js-image-lazy-load-mobile"),l.forEach(a.findByClass(t,e),function(e){e.src||(e.src=e.getAttribute("data-src"))})},updateNewTabBubble:function(t,e){var n,i,s=this,o=s.getOptions(),r=t.getAttribute("data-tab-name");s.readTimeout&&(clearTimeout(s.readTimeout),s.readTimeout="",a.removeClass(s.previousTab.tabMarkElement,s.previousTab.activeClass),s.setExtraLinksState(s.previousTab.tab,o,d,s)),l.forEach(e,function(e){e.name===r&&s.isTabHighlighted(e,o)&&(n=a.findFirstByClass(c.jsTabMark,t),i=n?n.getAttribute("data-active-class"):"",s.previousTab={tab:e,tabMarkElement:n,activeClass:i},s.setExtraLinksState(e,o,d,s),s.readTimeout=setTimeout(function(){s.readTimeout="",a.removeClass(n,i)},4e3))})},setExtraLinksState:function(e,t,n,i){var s=this;l.forEach(e.extra_links,function(e){s.getExtraLinkState(e,t)===u&&(t.extraLinksStates[e.notifying_hash]={state:n},i.SharedFrame.setSharedOption("extra_link_"+e.notifying_hash,n,7))})},getExtraLinkState:function(e,t){var n,i,s=r,o=(new Date).getTime()/1e3;return e.notifying_started&&(n=e.notifying_started,i=Math.abs(o-n),n<o&&i<=604800&&(s=u,t.extraLinksStates[e.notifying_hash]&&(s=t.extraLinksStates[e.notifying_hash].state))),s},isTabHighlighted:function(e,t){var n=this,i=!1;return WG.CommonMenu.isSharedFrameReady()&&l.forEach(e.extra_links,function(e){n.getExtraLinkState(e,t)===u&&(i=!0)}),i},isLinkHighlighted:function(e,t){t=this.getExtraLinkState(e,t);return!!WG.CommonMenu.isSharedFrameReady()&&(t!==r&&t!==n)},activateDropdownLink:function(e){e=a.previousSibling(e);e&&a.addClass(e,c.jsDropdownLinkClass)},updateSubmenu:function(e){o.isDeviceUnder768()||this.openSubmenuOnDropdownShow(e)},isSomeSubmenuInDropdownOpened:function(e){var e=a.findByClass(c.jsSubMenuClass,e),t=!1,n=this;return l.forEach(e,function(e){n.isDropdownShown(e)&&(t=!0)}),t}}}(WGCM,WGCM.DOM,WGCM.utils,WGCM.DEFAULT_CLASSES,WGCM.Viewport),r4=WGCM.templateHelpers={},s4=WGCM.utils,t4=WGCM.i18n,u4=WGCM.Browser,v4=WGCM.Dropdowns,r4._=t4._,r4._u=t4._u,r4._n=t4._n,r4.hasAttr=function(e,t){for(var n,i=t.split("."),s=i.length,o=e,r=0;r<s;r++){if(void 0===o[n=i[r]])return!1;o=o[n]}return!0},r4.getAttr=function(e,t,n){for(var i,s=t.split("."),o=s.length,r=e,a=0;a<o;a++){if(void 0===r[i=s[a]])return n||"";r=r[i]}return r},r4.formatNumber=function(e,t){var n=/(\d)(?=(\d{3})+(?!\d))/g;return e?t&&"ar"===t?e:-1===(e=e.toString()).indexOf(".")?e.replace(n,"$1 "):(t=e.indexOf("."),e.substr(0,t).toString().replace(n,"$1 ")+"."+e.substr(t+1)):""},r4.isChineseRealm=function(e){return!(!e||!e.realm)&&s4.inArray(["cn0","cn1","cn2","cn360"],e.realm)},r4.isRtlLanguage=function(e){return!!e&&s4.inArray(["ar"],e.language)},r4.isNeedToShowGameCard=function(e,t){var n;return!!e&&(n=this.isUserGoodsExist(e,t),e[t+"_profile_exists"]||n)},r4.isUserGoodsExist=function(e,t){var n,i=!1,s=!1;return!!e&&(this.hasAttr(e,t+"_premium_expires_at")&&(i=(n=this.timeFromNow(e[t+"_premium_expires_at"]))&&!n.past),this.hasAttr(e,t+"_new_premium_expires_at")&&(s=(n=this.timeFromNow(e[t+"_new_premium_expires_at"]))&&!n.past),i||s||0<e[t+"_gold"])},r4.isAnyUserGoodsExist=function(e){return!!e&&(this.isUserGoodsExist(e,"wot")||this.isUserGoodsExist(e,"wowp")||this.isUserGoodsExist(e,"wotg")||this.isUserGoodsExist(e,"wows"))},r4.getAccountLink=function(e,t){return s4.formatString(e,t.id,t.name)},r4.formatTime=function(e,t,n){var i,s=(new Date).getTime(),e=!isNaN(parseFloat(e))&&isFinite(e)?(i=this.moment(1e3*e),"calendar"===t?1e3*e<s?i.format("LLL"):i.calendar():i.format(t||"LLL")):e;return n?e:'<span class="cm-bold cm-nowrap">'+e+"</span>"},r4.containsSingleItem=function(e){return!!e&&1===s4.keys(e).length},r4.getSingleItem=function(e){var t=s4.keys(e);return 1===t.length?e[t[0]]:""},r4.cropText=function(e,t,n,i){return void 0===i&&(i=""),e.length<=n?s4.escape(e):(e=e.substr(0,n),"word"===t&&(e=e.substr(0,Math.min(n,e.lastIndexOf(" ")))),s4.escape(e+=i))},r4.makeIcon=function(e){return s4.formatString('<span class="cm-currency cm-currency__{0}">{0}</span>',s4.escape(e))},r4.makeLink=function(e,t,n,i){var s="";return void 0!==i&&(s=s4.formatString('style="{0}"',s4.escape(i))),s4.formatString('<a href="{0}" class="cm-{1}-link" {2}>{3}</a>',encodeURI(t),s4.escape(n),s,s4.escape(e))},r4.acronymHof=function(e){var t={global_rating:"PR",battles_count:"GLP",frags_count:"FRG",damage_dealt:"DMG",xp_max:"MXP",wins_ratio:"W/B",hits_ratio:"HR",xp_avg:"E/B",damage_avg:"D/B",survived_ratio:"SR",frags_avg:"F/B",spotted_avg:"S/B",xp_amount:"EXP",spotted_count:"SPT"};return"["+(this.hasAttr(t,e)?t[e]:e)+"]"},r4.timeFromNow=function(e){var t=(new Date).getTime(),n=Math.abs(t-e)/6e4,t=e<t;if(n)return n<60?{unit:"minute",value:Math.ceil(n),past:t}:(n/=60)<24?{unit:"hour",value:Math.ceil(n),past:t}:(n/=24,{unit:"day",value:Math.ceil(n),past:t})},r4.formatPremiumExpiration=function(e,t){var n=this.timeFromNow(e),e="";return n&&!n.past&&(t=t?t4._("units_"+n.unit+"s_name"):t4._n("text_remaining_"+n.unit,"text_remaining_"+n.unit+"s",n.value),e={time:r4.formatNumber(n.value),text:s4.formatString(t,"")}),e},r4.formatGameName=function(e){return s4.formatString(e,'<span class="cm-bold">',"</span>")},r4.forEach=function(){return s4.forEach.apply(s4,arguments)},r4.formatString=function(){return s4.formatString.apply(s4,arguments)},r4.escape=function(){return s4.escape.apply(s4,arguments)},r4.allowSVG=function(){return u4.allowSVG.apply(u4,arguments)},r4.isOldOpera=function(){return u4.isOldOpera.apply(u4,arguments)},r4.isTabHighlighted=function(){return v4.isTabHighlighted.apply(v4,arguments)},r4.isLinkHighlighted=function(){return v4.isLinkHighlighted.apply(v4,arguments)},r4.getUTMCampaign=function(e){var t="all"===(e=e||this.options).project?"":e.project,e={pss:"premium-shop",frm:"forum",ptl:"portal",spt:"support",papidev:"papi",wgq:"wargag"}[e.service]||e.service;return t?t+"-"+e:e},r4.addUtm=function(e,t,n){t=s4.extend({},{utm_source:"global-nav",utm_medium:"link"},t);return t.utm_campaign=this.getUTMCampaign(n),s4.addQueryString(e,s4.toQueryString(t))},r4.addUtmToLinksInHTML=function(e,s){var o=this.options;return e.replace(/(href=(['"]))([^\2]*?)(\2)/gi,function(e,t,n,i){return t+r4.addUtm(i,s,o)+n})},r4.buildImageUrl=function(e,t){var n=/\.svg$/i;return e?!u4.allowSVG()&&n.test(e)?t.images_url+e.replace(n,".png"):t.images_url+e:""},g5=WGCM,h5=Array.prototype.slice,g5.Events={on:function(e,t,n){return this._events=this._events||{},(this._events[e]||(this._events[e]=[])).push({callback:t,context:n}),this},off:function(e){return e?delete this._events[e]:this._events=void 0,this},trigger:function(e){var t,n=h5.call(arguments,1);return this._events&&(t=this._events[e])&&function(e,t){for(var n,i=e.length,s=0;s<i;s++)(n=e[s]).callback.apply(n.context,t)}(t,n),this}},w5=WGCM,x5=WGCM.LazyLoad,y5=WGCM.DOM,z5=WGCM.PLUGINS_NAMES,A5=WGCM.DEFAULT_CLASSES,F5="initialized",w5.Pluginable={plugins:{},definePlugin:function(t,n){var i=this;this.isPluginLoaded(t)?i.pluginInit(t,n):this.on("plugin:loaded",function(e){e===t&&i.pluginInit(t,n)})},pluginInit:function(e,t){t.init(this.getOptions()),this.plugins[e].state=F5,this.trigger("plugin:ready",e,t)},getPluginUrl:function(e){var t=this.getOptions(),n=t.debug?".js":".min.js";return[t.frontend_url,"plugin",e].join("/")+n+"?"+t.version},loadPlugin:function(e){var t=this,n={success:function(e){t.plugins[e].state="loaded",t.trigger("plugin:loaded",e)},error:function(e){t.plugins[e].state="error",t.trigger("plugin:error",e)}};t.plugins[e]||(this.plugins[e]={},this.plugins[e].state="loading",x5.js(this.getPluginUrl(e),n,e))},isPluginInitialized:function(e){return this.plugins[e]&&this.plugins[e].state===F5},isPluginLoaded:function(e){return this.plugins[e]&&"loaded"===this.plugins[e].state},isNotificationsPluginRequired:function(){var e=this.getOptions();return e.user_id&&e.user_name&&e.backend_url&&e.realm&&e.project&&e.notifications_enabled&&!this.isPluginInitialized(z5.NOTIFICATIONS)},isSharedFramePluginRequired:function(){var e=this.getOptions();return e.backend_url&&e.realm&&e.project&&!this.isPluginInitialized(z5.SHARED_FRAME)},isIntroTooltipsPluginRequired:function(){var e=this.getOptions();return this.Browser.allowSharedFrame()&&e.backend_url&&e.realm&&e.project&&e.intro_tooltips_enabled&&!this.isPluginLoaded(z5.INTRO_TOOLTIPS)},isDesktopNotificationsPluginRequired:function(){var e=this.getOptions();return"Notification"in window&&(e.user_id&&e.user_name&&e.backend_url&&e.realm&&e.project&&e.notifications_enabled&&e.desktop_notifications_enabled&&!e.desktop_notifications_refused&&!this.isPluginInitialized(z5.DESKTOP_NOTIFICATIONS))},isUserMenuPluginRequired:function(){var e=this.getOptions();return(e.user_id&&e.user_name||e.ssw_enabled)&&e.backend_url&&e.realm&&e.project&&!this.isPluginInitialized(z5.USER_MENU)},isStatisticsPluginRequired:function(){return!this.isPluginInitialized(z5.STATISTICS)},isOutdatedBrowsersPluginRequired:function(){var e=this.getOptions();return e.backend_url&&e.realm&&e.project&&!this.isPluginInitialized(z5.OUTDATED_BROWSERS)},isGamesDropdownPluginRequired:function(){return y5.findFirstByClass(A5.jsGamesDropdownClass)&&!this.isPluginInitialized(z5.GAMES_DROPDOWN)},isServicesDropdownPluginRequired:function(){return y5.findFirstByClass(A5.jsServicesDropdownClass)&&!this.isPluginInitialized(z5.SERVICES_DROPDOWN)},onPluginReady:function(t,n){this.isPluginInitialized(t)?n():this.on("plugin:ready",function(e){e===t&&n()})}},dg=WGCM,eg=WGCM.DOM,fg=WGCM.Viewport,gg=WGCM.DEFAULT_CLASSES,hg=WGCM.Browser,dg.Hints={initHints:function(){var e=this.layoutElement,n=this;eg.addEventListener(e,"mouseover",function(e){var t=e.target;e.stopPropagation(),fg.isDesktop()&&!hg.supportsTouch()&&(e.currentTarget=eg.parentByClass(t,gg.jsHintClass),e.currentTarget&&!eg.parentByClass(t,"cm-notifications_item-wrapper")&&n.showHint(e))}),eg.addEventListener(e,"mouseout",function(e){var t=e.target;e.stopPropagation(),fg.isDesktop()&&!hg.supportsTouch()&&(e.currentTarget=eg.parentByClass(t,gg.jsHintClass),e.currentTarget&&n.hideHint())})},showHint:function(e){var t=e.currentTarget,n=document.documentElement,p=eg.findFirstByClass(gg.jsHintContainerClass),h=eg.findFirstByClass(gg.jsLayoutClass),m=window.innerWidth||document.documentElement.clientWidth,g=window.innerHeight||document.documentElement.clientHeight,f=window.pageYOffset||n.scrollTop,_=window.pageXOffset||n.scrollLeft,n=t.getAttribute("data-title"),t=document.createTextNode(n);this.setPosition=function(e){var t=p.offsetWidth,n=p.offsetHeight,i=h.getBoundingClientRect(),s=0,o=25,r=e.originalEvent.pageX||e.originalEvent.clientX,a=e.originalEvent.pageY||e.originalEvent.clientY,l={x:0,y:0},c=f,u=_,d=m,e=g;l.x=d+c<r+t?r-t:r+s,l.x-=i.left,l.y=e+u<a+n+o?a-o-n:a+o,p.style.left=l.x+"px",p.style.top=l.y+"px"},n&&(p.innerHTML='<p class="'+gg.titleParagraphClass+'"></p>',p.getElementsByTagName("p")[0].innerText=t.textContent,eg.addClass(p,gg.titleShowClass),this.setPosition(e))},hideHint:function(){var e=eg.findFirstByClass(gg.jsHintContainerClass);eg.removeClass(e,gg.titleShowClass),e.removeAttribute("style")}},Kg=WGCM,Lg=WGCM.i18n,Mg=WGCM.LazyLoad,Ng=WGCM.PLUGINS_NAMES,Og=WGCM.utils,Kg.RequiredResources={loadGamesPluginIfRequired:function(){this.isGamesDropdownPluginRequired()&&this.loadPlugin(Ng.GAMES_DROPDOWN),this.isServicesDropdownPluginRequired()&&this.loadPlugin(Ng.SERVICES_DROPDOWN)},loadRequiredPlugins:function(){this.isSharedFramePluginRequired()&&this.loadPlugin(Ng.SHARED_FRAME),this.isUserMenuPluginRequired()&&this.loadPlugin(Ng.USER_MENU),this.isNotificationsPluginRequired()&&(this.isPluginInitialized(Ng.MOMENT)||this.loadPlugin(Ng.MOMENT),this.loadPlugin(Ng.NOTIFICATIONS)),this.isIntroTooltipsPluginRequired()&&this.loadPlugin(Ng.INTRO_TOOLTIPS),this.isDesktopNotificationsPluginRequired()&&this.loadPlugin(Ng.DESKTOP_NOTIFICATIONS),this.isStatisticsPluginRequired()&&this.loadPlugin(Ng.STATISTICS),this.isOutdatedBrowsersPluginRequired()&&this.loadPlugin(Ng.OUTDATED_BROWSERS)},deliverThirdPartyScripts:function(e,n){function t(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");!i&&n&&(t.type="text/javascript",t.className="cm-third_party_delivered",t.text=n,e.appendChild(t),i=!0)}var e=e.user_id&&e.user_name,i=!1;!e||WG.CommonMenu.isUserLoaded?t():WG.CommonMenu.on("user_update",function(){t()})},loadResources:function(e,t){var n=this.getOptions(),i=[],s=this;return this.getConfigs(e,t),t.language&&(Lg.setDictionary({}),WG.CommonMenu.langs.indexOf(n.language)<0?i.push(this.getResourceUrl([n.frontend_url,"i18n","en"])):i.push(this.getResourceUrl([n.frontend_url,"i18n",n.language]))),t.user_id&&this.SharedFrame?this.SharedFrame.reloadFrame():t.user_id&&!this.SharedFrame&&this.on("sharedframe:init",function(){this.SharedFrame.reloadFrame()},this),this.loadRequiredPlugins(),0<i.length?Mg.js(i,function(){s.onResourcesReady(e,t)},null,this):this.onResourcesReady(e,t),this},loadRequiredResources:function(e,t){var n=this.getOptions(),i=this,n=WG.CommonMenu.langs.indexOf(n.language)<0?[this.getResourceUrl([n.frontend_url,"i18n","en"])]:[this.getResourceUrl([n.frontend_url,"i18n",n.language])];return t?this.onConfigsReady():this.getConfigs(),void 0===window.JSON&&n.push(this.getPluginUrl(Ng.JSON)),Mg.js(n,i.onResourcesReady,null,this),Mg.css(this.getStylesUrl(),function(){e.done=!0,void 0!==this.layoutElement&&setTimeout(function(){i.layoutElement.style.visibility="visible",i.layoutElement.style.height="",i.layoutElement.style.overflow=""},10)},null,this),this},getConfigs:function(t,n){function i(){var e;v+w===_&&(e=0<C,s.trigger("configs:finished",t,n,e))}var e=this.getOptions(),s=this,o=[],r=e.backend_url+"/media/public/config",a=e.frontend_url+"/media/public/config",l=n&&n.realm,c=n&&(n.project||n.realm),u=n&&n.language,d=[r,"realms",e.realm+"_"+e.project],p=[r,"games",e.realm],h=[r,"cards",e.realm],m=[r,"services",e.realm+"_"+e.project],g=[r,"i18n",e.language],f=[r,"i18n","en"],_=0,v=0,w=0,C=0,r={success:function(){v++,i()},error:function(e){for(var t=!0,n=0;n<e.length;n++)g[n]!==e[n]&&(t=!1);t?v++:(C++,e[0]=a,Mg.js(s.getResourceUrl(e),y)),i()}},y={success:function(){v++,i()},error:function(){w++,i()}};(!n&&e.realm||l)&&(_+=2,o.push({url:this.getResourceUrl(p),obj:p}),o.push({url:this.getResourceUrl(h),obj:h})),(!n&&e.project&&e.realm||c)&&(_+=2,o.push({url:this.getResourceUrl(d),obj:d}),o.push({url:this.getResourceUrl(m),obj:m})),(!n&&e.language||u)&&(_++,WG.CommonMenu.langs.indexOf(e.language)<0?o.push({url:this.getResourceUrl(f),obj:f}):o.push({url:this.getResourceUrl(g),obj:g})),0<Og.keys(o).length&&Mg.js(o,r,"",this,4e3)},getStylesUrl:function(){var e=this.getOptions();return[e.frontend_url,"css","style"].join("/")+".css?"+e.version},isLinksConfigAvailable:function(){var e=this.getOptions();return e.project&&e.service&&e.realm},getResourceUrl:function(e){var t=this.getOptions();return e.join("/")+".js?"+t.version}},Q6=WGCM,R6=WGCM.DOM,S6=WGCM.Viewport,T6=WGCM.utils,U6=WGCM.DEFAULT_CLASSES,V6=window.Spinner,Q6.MenuSpinner={spinnerDefaults:{lines:11,length:5,width:3,radius:5,corners:1,rotate:0,direction:1,color:"#707273",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"cm-spinner",zIndex:2e9,top:"50%",left:"50%"},showLoginSpinner:function(){this.activateLoginSpinner()},getTargetElement:function(){var e=S6.isDesktop()?R6.findFirstByClass(U6.jsLoginSpinnerClass):R6.findFirstByClass(U6.jsLoginSpinnerMobileClass);return e},hideLoginSpinner:function(){this.loginSpinner&&(this.loginSpinner.stop(),this.loginSpinner=null)},activateLoginSpinner:function(){var e=this.getTargetElement(),t=this.getSpinnerOptions();this.loginSpinner&&this.loginSpinner.stop(),e&&t&&(this.loginSpinner=new V6(t).spin(e))},getSpinnerOptions:function(){var e=S6.isDesktop()?"-15px":"125%";return T6.extend({},this.spinnerDefaults,{lines:9,length:2,width:2,radius:3,color:"#fff",trail:90,left:e})}},bh=WGCM,ch=WGCM.utils,dh=WGCM.DOM,eh=WGCM.Events,gh=Object.prototype.hasOwnProperty,hh.uid=(jh=1,function(){return"cm-tooltip-"+ ++jh}),hh.TYPE_ERROR="error",hh.TYPE_WARNING="warning",hh.presets={},hh.create=function(e){return gh.call(hh.presets,e)?new hh("function"==typeof(e=hh.presets[e])?e():ch.extend({},e)):null},ch.extend(hh.prototype={defaults:{renderTo:null,target:null,text:"",type:hh.TYPE_WARNING,centering:"auto",className:"cm-tooltip",openedClass:"cm-tooltip__open",alignLeftClass:"cm-tooltip__left",alignRightClass:"cm-tooltip__right",alignCenterClass:"cm-tooltip__center",closeButtonClass:"cm-close",removeDuration:300},createElement:function(){var e=document.createElement("div"),t=this.options.className;return e.setAttribute("id",this.uid),e.className=t,this.options.type&&(e.className+=" "+t+"__"+this.options.type),e.innerHTML=this.options.text,e.appendChild(this.createCloseButton()),e},createCloseButton:function(){var e=document.createElement("a"),t=this.options,n=this;return e.innerHTML="&#x2715;",e.className=t.closeButtonClass,e.setAttribute("href","#"),dh.addEventListener(e,"click touchend",function(e){n.destroy(),"function"==typeof t.onCloseButtonClick&&t.onCloseButtonClick(n),e.preventDefault(),e.stopPropagation()}),e},updatePosition:function(){var e,t=this.element,n=this.options.target,i=this.options.centering,s=n.clientWidth,o=Math.round(s/2),r=dh.getElementOffset(n),a=this.options.renderTo,l=a.clientWidth,c=dh.getElementOffset(a),u=(document.body.clientWidth-l)/2,d=u+r.left-c.left+o,p=r.top-c.top+n.clientHeight,a=t.clientWidth,n=Math.round(a/2);"right"===(i="auto"===i?l<d+a?"right":n<d?"center":"left":i)?(dh.addClass(t,this.options.alignRightClass),e=document.body.clientWidth-c.left-l,e=u+document.body.clientWidth-r.left-s-e+o):"center"===i&&(dh.addClass(t,this.options.alignCenterClass),d-=n),"right"!==i?t.style.left=d+"px":t.style.right=e+"px",t.style.top=p+"px"},render:function(){function e(){n.updatePosition(),dh.addClass(n.element,t.openedClass),n.trigger("render",n)}var t=this.options,n=this;"function"==typeof t.renderTo&&(t.renderTo=t.renderTo()),dh.isElement(t.renderTo)&&dh.isElement(t.target)&&(t.renderTo.appendChild(this.element),dh.supportsCSSTransitions?setTimeout(e,t.removeDuration,0):e())},destroy:function(){function e(){dh.remove(n.element),n.trigger("destroy",n)}var t=this.options,n=this;dh.removeClass(this.element,t.openedClass),dh.supportsCSSTransitions?setTimeout(e,t.removeDuration):e()}},eh),bh.Tooltip=hh,Qh=WGCM,Rh=WGCM.DOM,Sh=WGCM.utils,Th=WGCM.i18n,Uh=WGCM.Tooltip,Vh=WGCM.DEFAULT_CLASSES,Qh.LoginTooltips={showTooltip:function(e){this.hideTooltip(),this.tooltip=Uh.create(e),this.tooltip&&(this.tooltip.options.renderTo=function(){return Rh.findFirstByClass(Vh.jsLayoutContentClass)},this.tooltip.render())},hideTooltip:function(){this.tooltip&&this.tooltip.destroy()},defineTooltip:function(e,t){e&&(Uh.presets[e]=t)},defineTooltips:function(t){function n(){var e=Rh.findFirstByClass(Vh.jsLoginLinkClass),t=Rh.findFirstByClass(Vh.jsUserMenuDropdownLink),e=e;return e=t&&0<t.offsetLeft?t:e}this.defineTooltip("login_error",function(){return{type:Uh.TYPE_ERROR,target:n(),text:Th._("tooltip_login_error")}}),this.defineTooltip("login_error_retry",function(){var e='<a href="'+t.login_url+'"class="cm-link js-cm-event" data-cm-event="login">';return{type:Uh.TYPE_ERROR,target:n(),text:Sh.formatString(Th._("tooltip_login_error_retry"),e,"</a>")}})}},e7=WGCM,f7=WGCM.DOM,g7=WGCM.Browser,h7=WGCM.Events,i7=WGCM.i18n,j7=WGCM.LazyLoad,k7=WGCM.Pluginable,l7=window.Spinner.noConflict(),m7=WGCM.Viewport,n7=WGCM.Tooltip,o7=WGCM.utils,p7=WGCM.PLUGINS_NAMES,q7=WGCM.templateHelpers,r7=WGCM.DEFAULT_CLASSES,s7=WGCM.Hints,t7=WGCM.RequiredResources,u7=WGCM.MenuSpinner,v7=WGCM.LoginTooltips,w7=WGCM.Dropdowns,x7="common_menu",z7=!1,A7=!1,B7=!1,C7={done:!1},D7=!0,E7={},F7={},G7={},H7={version:"0.0.0",service:"",project:"",realm:"",language:"en",incomplete_profile_notification_enabled:!0,maxNotitifcationsCount:30,scrollAnimationSpeed:500,maxTapTime:400,hintOffsetY:25,extraLinksStates:{},relativeTimeThresholds:{s:60,m:60,h:24,d:31,M:12}},I7=Object.prototype.hasOwnProperty,o7.extend(M7.prototype,h7,{configs:{},templates:{},init:function(){var i=this.getOptions(),e=document.getElementById(x7),s=this;WG.CommonMenuCallbacks&&WG.CommonMenuCallbacks.beforeInit&&"function"==typeof WG.CommonMenuCallbacks.beforeInit&&WG.CommonMenuCallbacks.beforeInit(),e&&this.onHolderReady(),this.on("holder_ready",this.onHolderReady,this),this.on("render",this.onRender,this),this.on("dropdownshow:notifications",this.updateNotificationsDropdownPosition,this),this.on("configs:finished",function(e,t,n){n&&s.set("images_url",i.frontend_url),s.onConfigsReady(e,t)},this),this.defineTooltips(i),!1!==E7.preload&&(e=!i.backend_url,this.loadRequiredResources(C7,e)),this.initDropdownWindowHandlers()},getOptions:function(){return G7},render:function(){var e,t=this.menuContainerElement=document.getElementById(x7),n=this.getOptions(),i=g7.getBrowserInfo(),s=this;if(!t)throw new Error('WG.CommonMenu: holder element with id="'+x7+'" was not found');return e=o7.extend({},q7,{options:n,realm:this.configs.realm||{},showServicesDropDown:this.configs.services&&0<this.configs.services.length,showGamesDropDown:this.configs.games&&0<this.configs.games.length,clientId:this.clientId}),t.innerHTML=this.template(e),this.dropdownLinks=f7.findByClass(r7.jsDropdownLinkClass),this.layoutElement=f7.findFirstByClass(r7.jsLayoutClass),this.gamesDropdown=f7.findFirstByClass(r7.jsGamesDropdownClass),this.servicesDropdown=f7.findFirstByClass(r7.jsServicesDropdownClass),this.initDomEvents(),this.updateLinksTargetAttribute(this.layoutElement),g7.supportsTouch()||f7.addClass(this.layoutElement,r7.notTouchClass),g7.allowSVG()&&!g7.isIE()||f7.addClass(this.layoutElement,r7.notSVGClass),"ie"===i.name&&f7.addClass(this.layoutElement,"cm-ie"+i.version),g7.isActualBrowser(n)||f7.addClass(this.layoutElement,r7.oldBrowser),C7.done||(this.layoutElement.style.visibility="hidden",this.layoutElement.style.height=0,this.layoutElement.style.overflow="hidden",setTimeout(function(){s.layoutElement.style.visibility="visible",s.layoutElement.style.height="",s.layoutElement.style.overflow=""},5e3)),this.trigger("render"),this},initDomEvents:function(){var e=this.layoutElement,s=this;f7.addEventListener(e,"click",function(e){var t,n=e.target,i=f7.parentByClass(n,"js-cm-event");i&&"string"==typeof(t=i.getAttribute("data-cm-event"))&&s.trigger(t,e,s),e.currentTarget=f7.parentByClass(n,r7.jsDropdownLinkClass),e.currentTarget?s.onDropdownLinkClick(e):(e.currentTarget=f7.parentByClass(n,r7.jsUpLinkClass),e.currentTarget?s.onUpLinkClick(e):(e.currentTarget=f7.parentByClass(n,r7.jsLoginLinkClass),e.currentTarget?s.onLoginLinkClick(e):(e.currentTarget=f7.parentByClass(n,r7.jsExtraLinkNew),e.currentTarget&&s.onNewExtraLinkClick(e))))}),this.initHints()},get:function(e){return this.getOptions()[e]},set:function(e,t){var n={};n[e]=t,K7(n)},update:function(e){var t=this;if(!e)return this;if(!z7||!A7||!B7)return t.on("resources_ready",function(){t.off("resources_ready"),t.update(e)}),this;var n=this.getOptions(),i=e.language;return i&&(e.language=0<=i.indexOf("-")?i.slice(0,i.indexOf("-"))+"_"+i.slice(i.indexOf("-")+1).toUpperCase():i),K7(e),((n=function(e,t){var n,i={};for(n in t)I7.call(t,n)&&t[n]!==e[n]&&(i[n]=t[n]);return i}(n,i=this.getOptions())).realm||n.project||n.language)&&(B7=!1),0<o7.keys(n).length?(A7=!1,this.loadResources(i,n),this):void 0},updateLinksTargetAttribute:function(e){var t=this.getOptions(),e=e.getElementsByTagName("a");e.length&&o7.forEach(e,function(e){f7.hasClass(e,r7.jsLinkIgnoreTargetClass)||(t.open_links_in_new_tab?e.setAttribute("target","_blank"):e.removeAttribute("target"))})},onHolderReady:function(){z7||(z7=!0,this.onReady())},onResourcesReady:function(e,t){A7||(A7=!0,this.onReady(e,t))},onConfigsReady:function(e,t){B7||(B7=!0,this.onReady(e,t))},filterOverrides:function(e){var t,n=["version","incomplete_profile_notification_enabled","intro_tooltips_enabled","third_party_delivery_enabled","desktop_notifications_enabled","notifications_enabled","chat_enabled"],i={};for(t in e)I7.call(e,t)&&o7.inArray(n,t)&&(i[t]=e[t]);return i},applyOverrides:function(e){e&&(F7=this.filterOverrides(e),K7({}),z7&&A7&&this.update({}))},onReady:function(e,t){var n=this.getOptions();z7&&A7&&B7&&(this.trigger("resources_ready"),this.render(),D7?(D7=!1,this.trigger("first_render"),this.loadRequiredPlugins(),n.third_party_delivery_enabled&&this.deliverThirdPartyScripts(n,this.configs.realm.third_party_js)):this.trigger("update",e,t))},onRender:function(){this.loadGamesPluginIfRequired()},isSharedFrameReady:function(){return!!g7.allowSharedFrame()&&(this.SharedFrame&&this.SharedFrame.ready)},isSharedFrameFailed:function(){return!g7.allowSharedFrame()||this.SharedFrame&&this.SharedFrame.failed}}),o7.extend(M7.prototype,k7,s7,t7,u7,v7,w7),o7.extend(M7.prototype,{DOM:f7,Browser:g7,Viewport:m7,Events:h7,Spinner:l7,Tooltip:n7,i18n:i7,LazyLoad:j7,utils:o7,templateHelpers:q7,PLUGINS_NAMES:p7,DEFAULT_CLASSES:r7}),e7.CommonMenu=M7,function(i,e,t){var n,s,o,r,a,l,c,u=document.getElementById("common_menu_loader"),d=["service","project","realm","language","options_cookie_prefix","ssw_client_id","user_id","user_name","ssw_enabled","incomplete_profile_notification_enabled","notifications_enabled","intro_tooltips_enabled","third_party_delivery_enabled","desktop_notifications_enabled","desktop_notifications_refused","chat_enabled","open_links_in_new_tab","outdated_browsers","no_tel_refused","weak_pass_refused","backend_url","frontend_url","token_url","login_url","logout_url","registration_url","incomplete_profile_url","images_url","debug","preload"];if(!u)throw new Error("WG.CommonMenu: the loader element was not found");n=function(){for(var e,t,n={},i=d.length,s=0;s<i;s++)t=u.getAttribute("data-"+(e=d[s])),null!==(t="language"===e&&0<=t.indexOf("-")?t.slice(0,t.indexOf("-"))+"_"+t.slice(t.indexOf("-")+1).toUpperCase():t)&&""!==t&&(n[e]=t);return n}(),(n=i.extend({},{chat_enabled:!1,incomplete_profile_notification_enabled:!0,ssw_enabled:!1,notifications_enabled:!0,desktop_notifications_enabled:!0,intro_tooltips_enabled:!0,third_party_delivery_enabled:!0,outdated_browsers:"ie9,opera12"},n,(s=n.options_cookie_prefix||"cm.options.",o={},r=document.cookie?document.cookie.split("; "):[],i.forEach(r,function(e){var e=e.split("="),t=e[0],n=e[1];i.some(d,function(e){if(s+e===t)return o[e]=decodeURIComponent(n),!0})}),o))).frontend_url||(n.frontend_url=(a=u.getAttribute("src"),(c=document.createElement("a")).setAttribute("href",a),c.host||(c.href=c.href),(l=(0===c.pathname.indexOf("/")?c.pathname:"/"+c.pathname).split("/")).pop(),a="",(a=c.host?":"===c.protocol?"//"+c.host:c.protocol+"//"+c.host:a)+l.join("/"))),n.images_url=n.backend_url||n.frontend_url,t.WG=t.WG||{},t.WG.CommonMenu=new e(n)}(WGCM.utils,WGCM.CommonMenu,window),WG.CommonMenu.template=function(data){var p=[],tagStart,tagEnd;with(data)p.push('<div class="cm-layout '),isChineseRealm(options)&&p.push(" cm-layout__china "),p.push(" "),isRtlLanguage(options)&&p.push(" cm-layout-rtl "),p.push(' js-cm-layout">'),hasAttr(options,"backend_url")&&options.realm&&options.project?(p.push('<div class="cm-layout_content js-cm-layout-content">'),options.user_id&&options.user_name?(p.push('<div class="cm-menu cm-menu__user js-cm-menu__user">'),options.notifications_enabled&&(p.push(' <a href="#" class="cm-notifications-link js-cm-notifications-link js-cm-dropdown-link js-cm-event" data-cm-event="toggle_notifications" data-active-class="cm-notifications-link__opened"><span class="cm-counter cm-counter__hidden js-cm-notifications-counter">'),options.notifications_count&&p.push(" ",escape(options.notifications_count)," "),p.push(' </span><span class="cm-notifications-link_icon">notification</span></a><div class="cm-notifications js-cm-dropdown js-cm-notifications-dropdown" id="',escape(clientId),'_notifications" data-dropdown="notifications" data-active-class="cm-notifications__opened"></div>')),p.push(' <a href="#" class="cm-user-menu-link js-cm-dropdown-link js-cm-event js-cm-user-menu-link" data-cm-event="toggle_user_menu" data-incomplete-class="cm-user-menu-link__important" data-premium-class="cm-user-menu-link__premium" data-active-class="cm-user-menu-link__opened"><span class="cm-important js-cm-incomplete-profile-icon" data-active-class="cm-important__active">important</span> <span class="cm-premium js-cm-premium-profile-icon" data-active-class="cm-premium__active" data-active-ws-class="cm-premium__active-ws" data-active-plus-class="cm-premium__active-plus">premium</span> <span class="cm-user-menu-link_cutted-text">',escape(options.user_name),'</span> <span class="cm-arrow cm-arrow__mobile-hidden">arrow</span></a><div class="cm-user-menu js-cm-dropdown js-cm-user-menu-dropdown" data-dropdown="user-menu" data-active-class="cm-user-menu__opened"><div class="cm-user-menu_holder js-cm-user-menu-profile-list" id="',escape(clientId),'_user_menu"></div></div></div>')):options.ssw_enabled&&!options.ssw_auth_failed?p.push('<div class="cm-menu cm-menu__user"><div class="js-cm-login-spinner"></div><span class="cm-menu_text-or"></span></div>'):(p.push('<div class="cm-menu cm-menu__user cm-menu__user-unauthorized js-cm-menu__user">'),hasAttr(options,"login_url")&&(p.push('<div class="js-cm-login-spinner"></div><a href="',escape(options.login_url),'" class="cm-link cm-link__register cm-link__no-decoration'),hasAttr(options,"registration_url")||p.push("cm-link__register"),p.push(' js-cm-event js-cm-login-link js-cm-link-ignore-target" data-cm-event="login">',escape(_("link_login")),"</a> ")),p.push(" "),hasAttr(options,"registration_url")&&(p.push(" "),hasAttr(options,"login_url")?p.push(' <span class="cm-menu_text-or">',escape(_("text_or")),'</span> <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account")),"</a> "):p.push(' <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account_capital")),"</a> "),p.push(" ")),p.push(" "),(hasAttr(options,"login_url")||hasAttr(options,"registration_url"))&&(p.push(' <a href="#" class="cm-user-menu-link cm-user-menu-link__unauthorised js-cm-dropdown-link js-cm-event js-cm-user-menu-link" data-tooltip-text="',escape(_("tooltip_user_menu")),'" data-cm-event="toggle_user_menu" data-active-class="cm-user-menu-link__unauthorised-opened"></a><div class="cm-user-unauthorized js-cm-dropdown" data-active-class="cm-user-unauthorized__opened"><h1 class="cm-menu-heading js-menu-heading">',escape(_("text_my_game_profiles")),"</h1><ul>"),hasAttr(options,"login_url")&&p.push('<li class="cm-user-unauthorized_item"><a href="',escape(options.login_url),'" class="cm-nav-link js-cm-event js-cm-login-link js-cm-link-ignore-target" data-cm-event="login"><span class="cm-nav-link_text"><span class="js-cm-login-spinner-mobile"></span> ',escape(_("link_login")),"</span></a></li>"),p.push(" "),hasAttr(options,"registration_url")&&p.push('<li class="cm-user-unauthorized_item"><a href="',escape(addUtm(options.registration_url)),'" class="cm-nav-link js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account_capital")),"</a></li>"),p.push('</ul><div class="cm-up cm-up__bordered"><a class="cm-up_link js-cm-up_link" href="#"><span class="cm-up_arrow">arrow up</span></a></div></div>')),p.push("</div>")),p.push(' <a class="cm-singletons cm-singletons__main cm-singletons__logo" href="',escape(addUtm(realm.main_url)),'">'),realm.main_icon&&p.push(' <span class="cm-singletons_ico-wrapper cm-singletons_ico-wrapper__main cm-singletons_ico-wrapper__logo"><span class="cm-singletons_ico-holder cm-singletons_ico-holder__main cm-singletons_ico-holder__logo"><img class="cm-singletons_ico" src="',escape(buildImageUrl(realm.main_icon,options)),'" alt=""> </span></span>'),p.push(" </a>"),showGamesDropDown&&p.push('<div class="cm-showcase js-cm-li-ptl"><span class="cm-showcase_opener js-cm-tooltip-games" data-active-class="cm-showcase_opener__opened" data-tooltip-text="',escape(_("tooltip_games")),'">',escape(_("link_games")),'<span class="cm-arrow cm-arrow__showcase">arrow</span></span><div class="cm-showcase_dropdown js-cm-dropdown js-cm-games-dropdown" data-active-class="cm-showcase_dropdown__opened" data-dropdown="games"></div></div>'),p.push(" "),showServicesDropDown&&p.push('<div class="cm-showcase js-cm-li-ptl"><span class="cm-showcase_opener js-cm-tooltip-services" data-active-class="cm-showcase_opener__opened" data-tooltip-text="',escape(_("tooltip_services")),'">',escape(_("link_services")),'<span class="cm-arrow cm-arrow__showcase">arrow</span></span><div class="cm-showcase_dropdown js-cm-dropdown js-cm-services-dropdown" data-active-class="cm-showcase_dropdown__opened" data-dropdown="services"></div></div>'),p.push('<div class="cm-menu_static">'),forEach(realm.static_links,function(e,t){p.push(' <a class="cm-singletons cm-singletons__main" style="color: #',escape(e.color),'" href="',escape(addUtm(e.url)),'"><span class="cm-singletons_text cm-singletons_text__main">',escape(_u(e.title_text)),"</span> </a>")}),p.push('</div></div><div class="cm-browsers-alert" style="display:none;"><p><span class="cm-browsers-alert_icon">browsers-alert</span> '),tagStart='<a href="'+options.backend_url+"/public/browser.html?realm="+options.realm+"&service="+options.service+"&project="+options.project+"&language="+options.language+"&frontend_url="+options.frontend_url+'" class="cm-link cm-browsers-alert_link">',p.push(" "),tagEnd="</a>",p.push(" ",formatString(_("browsers_alert"),tagStart,tagEnd),' <a href="#" class="cm-close cm-close__browsers">&#x2715;</a></p></div>')):(p.push('<div class="cm-layout_content js-cm-layout-content">'),options.user_id&&options.user_name?p.push('<div class="cm-menu cm-menu__user js-cm-menu__user"><span class="cm-link__user-name">',escape(options.user_name),'</span> <a href="',escape(options.logout_url),'" class="cm-link cm-link__no-decoration cm-link__logout js-cm-event" data-cm-event="logout">',escape(_("link_logout")),"</a></div>"):(p.push('<div class="cm-menu cm-menu__user cm-menu__user-unauthorized js-cm-menu__user">'),hasAttr(options,"login_url")&&(p.push('<div class="js-cm-login-spinner"></div><a href="',escape(options.login_url),'" class="cm-link cm-link__no-decoration'),hasAttr(options,"registration_url")||p.push("cm-link__register"),p.push(' js-cm-event js-cm-login-link js-cm-link-ignore-target" data-cm-event="login">',escape(_("link_login")),"</a> ")),p.push(" "),hasAttr(options,"registration_url")&&(p.push(" "),hasAttr(options,"login_url")?p.push(' <span class="cm-menu_text-or">',escape(_("text_or")),'</span> <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account")),"</a> "):p.push(' <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account_capital")),"</a> "),p.push(" ")),p.push("</div>")),p.push("</div>")),p.push('<div class="cm-title js-cm-hint-container"></div></div>');return p.join("")},WG&&WG.CommonMenu&&(WG.CommonMenu.langs=["ar","bg","cs","de","el","en","es_AR","es_MX","es","fr","hr","hu","it","ja","kk","ko","ms","pl","pt_BR","pt","ro","ru","sr","th","tr","uk","vi","zh_CN","zh_SG","zh_TW","zu"])}(window);
// note: don't put "true" here!
WG.CommonMenu.applyOverrides({
    chat_enabled: false,
    // incomplete_profile_notification_enabled: false,
    // notifications_enabled: false,
    intro_tooltips_enabled: false,
    // third_party_delivery_enabled: false,
    // desktop_notifications_enabled: false
    version: '1.1.23'
});
WG.CommonMenu.init();
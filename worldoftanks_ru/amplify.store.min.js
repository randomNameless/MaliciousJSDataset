/* 
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
MODIFIED BY Wargaming (removed userData storage for IE 5+) 
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
*/
/*!
 * Amplify Store - Persistent Client-Side Storage 1.1.1
 *
 * Copyright 2011 - 2013 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 *
 * http://amplifyjs.com
 */
(function(e,t){function i(e,i){n.addType(e,function(s,o,u){var a,f,l,c,h=o,p=(new Date).getTime();if(!s){h={};c=[];l=0;try{s=i.length;while(s=i.key(l++)){if(r.test(s)){f=JSON.parse(i.getItem(s));if(f.expires&&f.expires<=p){c.push(s)}else{h[s.replace(r,"")]=f.data}}}while(s=c.pop()){i.removeItem(s)}}catch(d){}return h}s="__amplify__"+s;if(o===t){a=i.getItem(s);f=a?JSON.parse(a):{expires:-1};if(f.expires&&f.expires<=p){i.removeItem(s)}else{return f.data}}else{if(o===null){i.removeItem(s)}else{f=JSON.stringify({data:o,expires:u.expires?p+u.expires:null});try{i.setItem(s,f)}catch(d){n[e]();try{i.setItem(s,f)}catch(d){throw n.error()}}}}return h})}var n=e.store=function(e,t,r){var i=n.type;if(r&&r.type&&r.type in n.types){i=r.type}return n.types[i](e,t,r||{})};n.types={};n.type=null;n.addType=function(e,t){if(!n.type){n.type=e}n.types[e]=t;n[e]=function(t,r,i){i=i||{};i.type=e;return n(t,r,i)}};n.error=function(){return"amplify.store quota exceeded"};var r=/^__amplify__/;for(var s in{localStorage:1,sessionStorage:1}){try{window[s].setItem("__amplify__","x");window[s].removeItem("__amplify__");i(s,window[s])}catch(o){}}if(!n.types.localStorage&&window.globalStorage){try{i("globalStorage",window.globalStorage[window.location.hostname]);if(n.type==="sessionStorage"){n.type="globalStorage"}}catch(o){}}(function(){function i(e){return e===t?t:JSON.parse(JSON.stringify(e))}var e={},r={};n.addType("memory",function(n,s,o){if(!n){return i(e)}if(s===t){return i(e[n])}if(r[n]){clearTimeout(r[n]);delete r[n]}if(s===null){delete e[n];return null}e[n]=s;if(o.expires){r[n]=setTimeout(function(){delete e[n];delete r[n]},o.expires)}return s})})()})(this.amplify=this.amplify||{})
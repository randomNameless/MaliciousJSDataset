<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>menubar_js-295c6ac4bdd9cbf0dbe87333e06fc607.html</title>
</head>
<body>

<script>
const BCMenubarGlobals=function(){"use strict";const e=JSON.parse(document.currentScript.dataset.menubar),t=JSON.parse(document.currentScript.dataset.siteroot),n=JSON.parse(document.currentScript.dataset.siterootImg),a=JSON.parse(document.currentScript.dataset.menubarV3),r=JSON.parse(document.currentScript.dataset.userId);return{menudata:e,siteroot:t,siterootImg:n,menubarV3:a,userId:r,SCROLL_HANDLING_INTERVAL:100,imageURL:function(e,t){const a=e.toString().padStart(10,"0");return n+"/img/"+a+"_"+t+".jpg"},artURL:function(e,t){return n+"/img/a"+e+"_"+t+".jpg"}}}();window.BCMenubarGlobals=BCMenubarGlobals,function(){"use strict";const e=BCMenubarGlobals.siteroot,t=["electronic","metal","rock","alternative",{name:"hip-hop/rap",link:"hip-hop-rap"},"experimental","punk","pop","ambient"],n="Escape",a="ArrowUp",r="ArrowDown",s=100;function o(e,t,n,a,r,o){const l={},c=t.resultsCache[[t.search.value.trim(),t.currentFilter]];let i;switch(e){case"click":l.interaction_type=a,n&&(l.target=n),l.click_type=r,l.selected_index=o;break;case"search_query":if(t.searchForm.classList.contains("has-results")){i=c.auto.results.length<=s?c.auto.results:c.auto.results.slice(0,s-1);const e=[];i.forEach((t=>{return e.push({type:(n=t).type,id:n.id});var n})),l.results=e}t.autocompleteResults.classList.contains("genre-match")&&(t.tagResult.classList.contains("no-show")||(l.genre_result=t.autocompleteResults.classList.contains("genre-match")?c.genre.match.genre:null)),l.tag_result=t.tagResult.classList.contains("no-show")?null:c.tag.matches[0].norm_name}l.feature="search-autocomplete",l.search_backend="Elastic",l.query_text=t.search.value.trim(),l.n_results=c&&c.auto.results?c.auto.results.length:0,l.selected_filter=t.currentFilter?t.currentFilter:"all",window.BCTracker.record(e,l)}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=e?e.resultsCache[[e.search.value.trim(),e.currentFilter]]:null;let r=n;const s=a&&a.genre.match?a.genre.match.subgenre:null;!r&&a.genre.match?r=a.genre.match.genre:!r&&a.tag.matches&&(r=a.tag.matches[0].norm_name);const o={feature:"search-autocomplete",genre:r,subgenre:s,interaction:"discover_"+t};e&&(o.query_text=e.search.value.trim(),o.n_results=a.auto.results.length),BCTracker.record("click",o)}window.BCMenubarSearch=function(){const s=this;s.makeArrow=function(){const e=document.createElement("span");return e.innerHTML='<svg class="arrow" viewBox="0 0 24 24"><use href="#discover-arrow"></svg>',e};const c=e+"/discover/";s.generateGenreList=function(t){t.push({name:TM("browse all"),fulllink:"/discover"});const n=s.genreList;t.forEach((function(t){const a=document.createElement("li");a.className="simple";const r=document.createElement("a"),o=document.createElement("span");"string"==typeof t?(r.href=c+t,o.textContent=t):(r.href=t.fulllink?e+t.fulllink:c+t.link,o.textContent=t.name),r.appendChild(o);const l=s.makeArrow(!0);r.appendChild(l),a.appendChild(r),n.appendChild(a)}))},s.generateFilterList=function(e){const t=s.filterList;e.forEach((function(e){const n=document.createElement("li"),a=e.code?e.code:"x";n.classList.add("filter-link",a),e.code===s.currentFilter&&n.classList.add("selected-filter"),n.textContent=e.label,e.code&&(n.dataset.code=e.code),t.appendChild(n)}))},s.resultTypeString=function(e,t){switch(e){case"t":return TM("Track");case"a":return TM("Album");case"f":return TM("Fan");case"b":return t?TM("Label"):TM("Artist");default:return""}},s.resultImgURL=function(e){return e.img_id?BCMenubarGlobals.imageURL(e.img_id,3):e.art_id?BCMenubarGlobals.artURL(e.art_id,3):e.img?e.img:null},s.makeResultItem=function(e,t){const n="b"===e.type||"f"===e.type,a=s.resultTypeString(e.type,e.is_label),r=e.name,o=e.band_name,l=s.resultImgURL(e),c=s.resultItemTemplate.content.cloneNode(!0),i=c.querySelector("a");let u="?from=search&"+(e.stat_params?e.stat_params:"");i.href=e.item_url_path||e.item_url_root,"undefined"!=typeof Identities&&Identities.user()||"undefined"!=typeof Ident&&Ident.userId?s.narrowView()?u+="&logged_in_mobile_menubar=true":u+="&logged_in_menubar=true":s.narrowView()?u+="&logged_out_mobile_menubar=true":u+="&logged_out_menubar=true",i.href+=u,i.dataset.itemIndex=t,i.dataset.itemID=e.id,i.dataset.itemType=e.type;const d=c.querySelector("a .result-art");n&&d.classList.add("round-art");const m=c.querySelector("a .result-art img");l?m.src=l:m.remove();c.querySelector("a .result-title strong").textContent=r;const h=c.querySelector("a cite");"a"===e.type||"t"===e.type?h.textContent=TM("by {{artist_name}}",{artist_name:o}):h.remove();return c.querySelector("a .result-type").textContent=a,c},s.currentSearchTerm=function(){return s.search.value.trim()},s.updateAutocompleteResults=function(t,n){s.narrowView()&&(s.autocompleteResults.scrollTop=0);if(s.autocompleteResults.querySelectorAll(".result-item").forEach((function(e){e.remove()})),n.genre&&n.genre.match&&!s.narrowView()){const t=n.genre.match.genre,a=n.genre.match.subgenre;s.autocompleteResults.querySelector(".results-genre a").href=e+"/discover/"+t+(a?"?tags="+a:"");s.autocompleteResults.querySelector(".results-genre .msg").textContent=TM("Explore {{genre}} music",{genre:a||t}),s.autocompleteResults.classList.add("genre-match")}else s.autocompleteResults.classList.remove("genre-match");const a=n.auto.results;for(let e=0;e<a.length;e++){const t=s.makeResultItem(a[e],e);s.autocompleteResults.insertBefore(t,s.seeAll),s.autocompleteResults.children[e].addEventListener("click",(function(e){s.handleResults(e)}))}0===a.length?(s.seeAll.classList.add("no-show"),s.noResults.classList.remove("no-show")):(s.seeAll.classList.remove("no-show"),s.noResults.classList.add("no-show"));s.seeAll.querySelector("a").href="/search?q="+encodeURIComponent(t);let r=null;if(n.tag.matches&&n.tag.matches.length>0&&!s.autocompleteResults.classList.contains("genre-match")&&(r=n.tag.matches[0]),r){s.tagResult.classList.remove("no-show"),s.tagResultMobile.classList.remove("no-show");const t=s.autocompleteResults.querySelector(".results-tags a"),a=s.searchForm.querySelector(".mobile-results-tags a");t.href=e+"/discover/"+r.norm_name+"?from=search&"+(n.auto.stat_params_for_tag?n.auto.stat_params_for_tag:""),a.href=e+"/discover/"+r.norm_name+"?from=search&"+(n.auto.stat_params_for_tag?n.auto.stat_params_for_tag:"");const o=t.querySelector(".msg"),l=a.querySelector(".msg");o.textContent=TM("Music tagged with “{{tagname}}”",{tagname:r.display_name.toLowerCase()}),l.textContent=TM("Music tagged with “{{tagname}}”",{tagname:r.display_name.toLowerCase()}),s.autocompleteResults.classList.add("tag-room")}else s.tagResult.classList.add("no-show"),s.tagResultMobile.classList.add("no-show"),s.autocompleteResults.classList.remove("tag-room")},s.resultsCache={};const i=window.ClientID;let u;s.fetch=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.searchForm.classList.add("pending");const n={search_text:e,search_filter:s.currentFilter?s.currentFilter:"",full_page:!1,fan_id:null};BCAPI.call("BCSearchPublicAPI_1","autocomplete_elastic",n).then((function(n){if(!n.auto||"ac_error"===n.auto)return s.searchForm.classList.remove("pending"),void console.log("problem fetching autocomplete data. status: "+n);s.resultsCache[[e,s.currentFilter]]=n;const a=s.currentSearchTerm();if(e===a){if(s.updateAutocompleteResults(e,n),s.searchForm.classList.add("has-results"),s.searchForm.classList.remove("pending"),i&&t){let e="click";"keydown"===t.type&&(e="enter");const n=t.target.innerText;o("click",s,"filter-"+n,e,"filter")}o("search_query",s)}}))},s.allowScroll=function(){window.removeEventListener("wheel",s.allowScroll),window.removeEventListener("touchstart",s.allowScroll),window.removeEventListener("keydown",s.allowScroll),window.removeEventListener("mousemove",s.allowScroll),window.removeEventListener("mousedown",s.allowScroll),s.autocompleteResults.classList.remove("pending"),s.autocompleteResults.scrollTop=0},s.doSearch=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=s.resultsCache[[e,s.currentFilter]];n?(s.narrowView()&&(s.autocompleteResults.classList.add("pending"),s.autocompleteResults.scrollTop=0),s.updateAutocompleteResults(e,n),s.searchForm.classList.add("has-results"),s.narrowView()&&(window.addEventListener("wheel",s.allowScroll),window.addEventListener("touchstart",s.allowScroll),window.addEventListener("keydown",s.allowScroll),window.addEventListener("mousemove",s.allowScroll),window.addEventListener("mousedown",s.allowScroll))):s.fetch(e,t)},s.hideAutocomplete=function(){s.blurred=!0,document.body.classList.remove("search-active")},s.activateAutocomplete=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=s.search.value.trim();s.clearSelection(),s.blurred=!1,t.length>0?(s.narrowView()||"f"!==s.currentFilter||s.resetFilters(),s.doSearch(t,e)):(s.clear(),s.searchForm.classList.remove("pending")),document.body.classList.add("search-active")},s.nextPrevVisible=function(e,t){for(;e;){if("none"!==window.getComputedStyle(e).getPropertyValue("display"))return e;e=t?e.nextElementSibling:e.previousElementSibling}return null},s.selectNext=function(){const e=s.searchForm.querySelector("body.search-active .menubar-search:not(.has-results) .genre-list, body.search-active .has-results .search-autocomplete");if(!e)return;let t=null;const n=e.querySelector("li a.selected");let a=n?n.parentNode.nextElementSibling:e.querySelector("li");a=s.nextPrevVisible(a,!0),t=a&&a.querySelector("a"),t&&(n&&n.classList.remove("selected"),t.classList.add("selected"))},s.selectPrev=function(){const e=s.searchForm.querySelector("body.search-active .menubar-search:not(.has-results) .genre-list, body.search-active .has-results .search-autocomplete");if(!e)return;let t=null;const n=e.querySelector("li a.selected");if(n){let e=n.parentNode.previousElementSibling;e=s.nextPrevVisible(e,!0),n.classList.remove("selected"),t=e&&e.querySelector("a")}t&&t.classList.add("selected")},s.clearSelection=function(){s.searchForm.querySelectorAll("ul li a.selected").forEach((function(e){e.classList.remove("selected")}))},s.keydown=function(e){switch(e.code){case r:s.selectNext(),e.preventDefault();break;case a:s.selectPrev(),e.preventDefault();break;case n:s.clearSelection(),s.hideAutocomplete(),e.preventDefault()}},s.submit=function(e){const t=s.searchForm.querySelector("a.selected");if(s.narrowView())return e.preventDefault(),document.activeElement.blur();t&&(window.location.href=t.href,e.preventDefault()),s.trackSearchSubmit(s,e)},s.resetFilters=function(){s.currentFilter=null,Array.from(s.filterList.children).forEach((e=>{e.dataset.code?e.classList.remove("selected-filter"):e.classList.add("selected-filter")}))},s.clear=function(){s.autocompleteResults.querySelectorAll(".result-item").forEach((function(e){e.remove()})),s.autocompleteResults.classList.remove("genre-match"),s.searchForm.classList.remove("has-results","pending"),s.tagResultMobile.classList.add("no-show"),s.search.value="",s.searchForm.children[0].focus(),s.resetFilters()},s.handleInput=function(){clearTimeout(u),s.search.value.trim().length>0?u=setTimeout(s.activateAutocomplete,500):s.activateAutocomplete()},s.handleFilters=function(e){e.preventDefault();const t=e.target.dataset.code,n=s.currentFilter;!t&&!n||t&&t===n||s.searchForm.classList.contains("pending")||(s.currentFilter=e.target.dataset.code?e.target.dataset.code:null,Array.from(s.filterList.children).forEach((e=>{e.classList.remove("selected-filter")})),e.target.classList.add("selected-filter"),s.search.value.trim().length>0&&s.activateAutocomplete(e))},s.handleResults=function(e){if(s.searchForm.classList.contains("pending"))return e.preventDefault(),void e.stopPropagation();if(document.activeElement.dataset.itemType&&document.activeElement.dataset.itemID&&document.activeElement.dataset.itemIndex){const e={type:document.activeElement.dataset.itemType,id:document.activeElement.dataset.itemID};o("click",s,e,"click","result-item",document.activeElement.dataset.itemIndex)}},s.clickIcon=function(e){e.preventDefault(),s.activateAutocomplete(),s.searchForm.children[0].focus(),e.stopPropagation(),s.handleMobileResultsSize()},s.handleFocus=function(e){const t=s.searchForm.querySelector("body.search-active .menubar-search:not(.has-results) .genre-list, body.search-active .has-results .search-autocomplete"),n=!e.composedPath().some((e=>e.classList&&e.classList.contains("menubar-search")));t&&n&&s.hideAutocomplete(),t&&!n&&s.searchForm.classList.contains("pending")&&!s.narrowView()&&(e.preventDefault(),e.stopPropagation())},s.handleClearSelection=function(){s.search.value.trim()===document.getSelection().toString().trim()&&(document.addEventListener("mouseup",s.handleHighlightedText),document.addEventListener("keyup",s.handleHighlightedText),s.search.addEventListener("input",s.handleHighlightedText))},s.handleHighlightedText=function(e){"input"===e.type?(document.removeEventListener("mouseup",s.handleHighlightedText),document.removeEventListener("keyup",s.handleHighlightedText),s.search.removeEventListener("input",s.handleHighlightedText),s.currentFilter=null,s.resetFilters(),i&&o("click",s,null,"clear-selection","clear")):(document.removeEventListener("mouseup",s.handleHighlightedText),document.removeEventListener("keyup",s.handleHighlightedText),s.search.removeEventListener("input",s.handleHighlightedText))},s.currentFilter=null,s.init=function(){const e=[{label:TM("all"),code:null},{label:TM("artists & labels"),code:"b"},{label:TM("albums"),code:"a"},{label:TM("tracks"),code:"t"},{label:TM("fans"),code:"f"}];window.BCTracker||Log.error("BCMenubar used on page without Tracker_1 page element");const n=document.getElementById("menubar");n.querySelector(".search-box").classList.remove("wide"),s.searchForm=n.querySelector("form.menubar-search"),s.search=n.querySelector("form.menubar-search input"),s.genreList=n.querySelector("form.menubar-search .genre-list"),s.filterList=n.querySelector("form.menubar-search .filter-list"),s.autocompleteResults=n.querySelector("form.menubar-search .search-autocomplete"),s.cancelSearch=n.querySelector(".search-box .cancel-autocomplete"),s.clearSearch=n.querySelector("form.menubar-search .clear-autocomplete"),s.resultItemTemplate=document.getElementById("autocomplete-results-item"),s.searchIcon=n.querySelector(".search-link.narrow"),s.seeAll=s.autocompleteResults.querySelector(".results-see-all"),s.noResults=s.autocompleteResults.querySelector(".autocomplete-no-results"),s.genreResult=s.autocompleteResults.querySelector(".results-genre"),s.tagResult=s.autocompleteResults.querySelector(".results-tags"),s.tagResultMobile=s.searchForm.querySelector(".mobile-results-tags"),s.narrowView=function(){return window.innerWidth<=740},s.blurred=!0,s.narrowView()&&(s.autocompleteResults.scrollTop=0),s.generateGenreList(t),s.generateFilterList(e),s.search.addEventListener("input",s.handleInput),s.search.addEventListener("focus",s.activateAutocomplete),s.search.addEventListener("select",s.handleClearSelection),s.clearSearch.addEventListener("click",s.clear),s.filterList.addEventListener("click",s.handleFilters),s.searchForm.addEventListener("submit",s.submit),s.cancelSearch.addEventListener("click",(function(){s.clear(),s.resetMobileResultsSize(),s.hideAutocomplete(),document.activeElement.blur(),clearTimeout(u)})),s.genreResult.addEventListener("click",(function(){l(s,"genre-link")})),s.tagResult.addEventListener("click",(function(){l(s,"tag-link")})),s.tagResultMobile.addEventListener("click",(function(e){if(s.searchForm.classList.contains("pending"))return e.preventDefault(),void e.stopPropagation();l(s,"tag-link")})),s.search.addEventListener("click",(function(e){s.activateAutocomplete(),e.stopPropagation()})),s.search.addEventListener("keydown",(function(e){if(!e.isComposing)return s.keydown(e)})),s.searchIcon&&s.searchIcon.addEventListener("click",s.clickIcon),document.addEventListener("click",s.handleFocus),s.genreList.addEventListener("click",(function(e){const t=e.target;t&&l(null,"top-level-genre-link",t.textContent)})),s.MobileResultsSize=function(){document.documentElement.style.setProperty("--mobile-results-height","calc("+window.innerHeight.toString()+"px - 91px)"),document.documentElement.style.setProperty("--mobile-results-height-tag","calc("+window.innerHeight.toString()+"px - 142px)")},s.MobileScrollFocus=function(){document.activeElement.blur()},s.handleMobileResultsSize=function(){window.addEventListener("resize",s.MobileResultsSize),window.addEventListener("scroll",s.MobileScrollFocus),s.MobileResultsSize()},s.resetMobileResultsSize=function(){document.documentElement.style.setProperty("--mobile-results-height","calc(100vh - 91px)"),document.documentElement.style.setProperty("--mobile-results-height-tag","calc(100vh - 142px)"),window.removeEventListener("resize",s.MobileResultsSize),window.removeEventListener("scroll",s.MobileScrollFocus)}},s.trackSearchSubmit=function(e,t){const n=!(""===t.target.elements.q.value.trim()||""===s.search.value.trim());return n&&i&&!s.narrowView()&&o("click",e,"submit-search",null,"submit-search"),!s.narrowView()&&n}}}(),function(){"use strict";const e=BCMenubarGlobals.menudata,t=BCMenubarGlobals.siteroot;window.BCUserMenu=function(){const n=this,a=6;let r=null,s=null,o=!1;function l(e){const t=document.createElement("p");return t.className=e,t}function c(e){return i(e,"user-pic")}function i(e,t){const n=document.createElement("div");let r;return n.className=t,n.setAttribute("aria-hidden",!0),e?(r=document.createElement("img"),r.src=BCMenubarGlobals.imageURL(e,a)):(r=document.createElement("div"),r.className="no-img"),n.appendChild(r),n}function u(e,t,n,a,r,s){let o=document.createElement("div"),i=l("username");const u=document.createElement("strong");if(u.textContent=t,i.appendChild(u),o.appendChild(i),i=l("note"),i.textContent=n,i.setAttribute("data-test","submenu-item-view-collection"),o.appendChild(i),e.appendChild(o),a||r){if(o=document.createElement("div"),o.setAttribute("role","presentation"),a){const e=l("pro");e.textContent="PRO",o.appendChild(e)}if(r){const e=c(s);o.appendChild(e)}e.appendChild(o)}}n.buildMenu=function(){const a=n.menucontrol.querySelector(".user-submenu");a.textContent="";const r=n.menucontrol.querySelector("#usermenu-item");let s,o,c;const i=n.menucontrol.querySelector("#close-button").content.cloneNode(!0);if(a.appendChild(i),e.artist&&(s=r.content.cloneNode(!0),o=s.querySelector("a"),o.href=e.artist.url,u(o,e.artist.name,TM("view site"),e.artist.is_pro||e.artist.is_label,!0,e.artist.photo),a.appendChild(s),a.lastChild.className="user-heading",s=r.content.cloneNode(!0),s.querySelector("li").className="profile",o=s.querySelector("a"),o.href=e.artist.url+"/profile",o.textContent=TM("edit profile"),a.appendChild(s),s=r.content.cloneNode(!0),s.querySelector("li").className="tools",o=s.querySelector("a"),o.href=e.artist.url+"/tools",o.textContent=TM("tools"),a.appendChild(s),s=r.content.cloneNode(!0),s.querySelector("li").className="page-design",o=s.querySelector("a"),o.href=e.artist.url+"?launch_edit_design=1",o.textContent=TM("page design"),a.appendChild(s),s=r.content.cloneNode(!0),s.querySelector("li").className="subscription",o=s.querySelector("a"),o.href=t+"/subscriptions?band_id="+e.artist.id,o.textContent=TM("subscription"),a.appendChild(s)),e.fan){const n=t+"/"+e.fan.username;s=r.content.cloneNode(!0),o=s.querySelector("a"),o.href=n,u(o,e.fan.name,TM("view collection"),!1,!0,e.fan.photo),s.querySelector("strong").setAttribute("data-test","fan-username"),a.appendChild(s),a.lastChild.className="user-heading fan",s=r.content.cloneNode(!0),s.querySelector("li").className="purchases",o=s.querySelector("a"),o.href=n+"/purchases",o.textContent=TM("purchases"),o.setAttribute("data-test","submenu-item-purchases"),a.appendChild(s),(!e.artist||(!e.label_bands||e.label_bands.length<1)&&(!e.linked_accounts||e.linked_accounts.length<1))&&(c=l("separator"),a.lastChild.appendChild(c))}if(e.artist&&e.label_bands&&e.label_bands.length>0){a.className="user-submenu label";const t=document.createElement("li");t.className="label-bands-header",t.setAttribute("data-test","label-bands-header");const r=document.createElement("strong"),s=e.number_label_bands;r.textContent=TP("1 Artist","{{count}} Artists",s),t.appendChild(r),a.appendChild(t),a.appendChild(n.buildLabelBandsMenu())}e.artist&&e.linked_accounts&&e.linked_accounts.length>0&&(a.className="user-submenu label",a.appendChild(n.buildLinkedAccountsMenu()));const d=n.menucontrol.querySelector("#app-link");if(e.artist){s=d.content.cloneNode(!0),o=s.querySelector("a"),o.href=e.artist_app_url,e.has_artist_app?o.textContent=TM("open the artist app"):o.textContent=TM("get the artist app");s.querySelector("use").setAttribute("href","#artist-app-icon"),a.appendChild(s)}s=d.content.cloneNode(!0),o=s.querySelector("a"),o.href=e.fan_app_url,e.has_fan_app?o.textContent=e.artist?TM("open the fan app"):TM("open the app"):o.textContent=e.artist?TM("get the fan app"):TM("get the app");s.querySelector("use").setAttribute("href","#fan-app-icon"),a.appendChild(s),s=r.content.cloneNode(!0),s.querySelector("li").className="settings",o=s.querySelector("a"),o.href=t+"/settings",o.textContent=TM("settings"),o.setAttribute("data-test","submenu-item-settings"),a.appendChild(s),e.artist&&(s=r.content.cloneNode(!0),s.querySelector("li").className="guide",o=s.querySelector("a"),o.href=t+"/guide",o.textContent=TM("guide"),a.appendChild(s)),s=r.content.cloneNode(!0),s.querySelector("li").className="help",o=s.querySelector("a"),o.href=e.helpurl,o.textContent=TM("help"),o.setAttribute("data-test","submenu-item-help"),a.appendChild(s),s=r.content.cloneNode(!0),s.querySelector("li").className="log-out",o=s.querySelector("a"),o.href=t+"/logout",o.textContent=TM("log out"),o.setAttribute("data-test","submenu-item-logout"),a.appendChild(s)},n.labelBandSearch=function(){const e=s.value.trim().toLowerCase().replace(/"/g,"&quot;");let t=" li.not-active";e.length&&(t=' :not(li[data-name*="'+e+'"])'),r.selectorText="div.label-bands-container > ol"+t},n.buildLabelBandsMenu=function(){const t=document.createElement("div");if(t.className="label-bands-container",t.setAttribute("data-test","label-bands-container"),e.number_label_bands>10){s=document.createElement("input"),s.className="artist-filter-text",s.setAttribute("placeholder",TM("Search all artists")),s.setAttribute("type","text"),s.setAttribute("data-test","artist-filter-text"),t.appendChild(s),s.addEventListener("input",n.labelBandSearch);const e=document.createElement("div");e.className="no-label-bands",e.textContent=TM("no results"),t.appendChild(e)}const a=document.createElement("ol");if(a.setAttribute("data-test","label-artists"),t.appendChild(a),n.buildLabelBandsList(a,e.label_bands),e.label_bands&&e.label_bands.length<e.number_label_bands){const e=n.menucontrol.querySelector("#loading-more-bands").content.cloneNode(!0);t.classList.add("loading"),t.appendChild(e)}return e.fan&&t.classList.add("fan"),e.linked_accounts&&e.linked_accounts.length>0&&t.classList.add("has-linked-accounts"),t},n.buildLabelBandsList=function(e,t){let a,r,s,o;const l=n.menucontrol.querySelector("#label-band-item"),c=n.menucontrol.querySelector("#label-band-controls-item"),u=n.menucontrol.querySelector("#label-band-show-controls");for(let n=0;n<t.length;n++){const d=t[n];s=l.content.cloneNode(!0),a=s.querySelector("li");const m=d.name.toLowerCase(),h=m.normalize?m.normalize("NFD").replace(/[\u0300-\u036f]/g,""):m;if(a.dataset.name=h,m!==h&&(a.dataset.fullname=m),r=s.querySelector("a"),r.href=d.url,r.prepend(i(d.photo,"label-band-pic")),o=s.querySelector("span.band-name"),o.textContent=d.name,e.appendChild(s),"authed_member_band"===d.linked_account_type){const t=c.content.cloneNode(!0),n=t.querySelector("ol.label-band-controls"),r=n.querySelectorAll("li > a"),s=t.querySelector("button.show-less");r[0].href=d.url+"/profile?from=menubar&id="+d.id,r[1].href=d.url+"/tools?from=menubar&"+d.id,r[2].href=d.url+"?launch_edit_design=1",d.has_subscription?r[3].href=d.url+"/subscribe?from=menubar":r[3].href=d.url+"/subscriptions?from=menubar&"+d.id;const o=u.content.cloneNode(!0);o.querySelector("button").addEventListener("click",(t=>{t.preventDefault();const a="true"===n.getAttribute("aria-expanded"),r=e.querySelector('ol.label-band-controls[aria-expanded="true"]');r&&r.setAttribute("aria-expanded",!1),n.setAttribute("aria-expanded",!a)})),s.addEventListener("click",(e=>{e.preventDefault();const t="true"===n.getAttribute("aria-expanded");n.setAttribute("aria-expanded",!t)})),a.querySelector("div").appendChild(o),a.appendChild(t)}}},n.buildLinkedAccountsMenu=function(){const t=n.menucontrol.querySelector("#usermenu-item"),a=document.createElement("div");a.className="linked-accounts",a.setAttribute("data-test","linked-accounts");const r=t.content.cloneNode(!0);r.querySelector("li").className="linked-accounts-header",r.querySelector("li").setAttribute("data-test","linked-accounts-header");const s=r.querySelector("a"),l=document.createElement("strong"),c=e.number_linked_accounts;l.textContent=TP("1 Connected Account","{{count}} Connected Accounts",c),s.appendChild(l);const i=document.createElement("span");i.className="arrow-right",i.id="linked-accounts-arrow",s.appendChild(i);const u=n.menucontrol.querySelector(".user-submenu");if(r.querySelector("li").addEventListener("click",(()=>{o=!o;let t=null,n=null;e.label_bands&&e.label_bands.length>0&&(t=u.querySelector(".label-bands-header"),n=u.querySelector(".label-bands-container")),o?(i.className="arrow-down",a.className="linked-accounts open",u.classList.add("linked-accounts-open"),t&&t.classList.add("hidden"),n&&n.classList.add("hidden")):(i.className="arrow-right",a.className="linked-accounts",u.classList.remove("linked-accounts-open"),t&&t.classList.remove("hidden"),n&&n.classList.remove("hidden"))})),a.appendChild(r),n.buildLinkedAccountsList(a,e.linked_accounts),e.linked_accounts&&e.linked_accounts.length<e.number_linked_accounts){const e=n.menucontrol.querySelector("#loading-more-bands").content.cloneNode(!0);a.classList.add("loading"),a.appendChild(e)}return a},n.buildLinkedAccountsList=function(e,t){let a,r;const s=n.menucontrol.querySelector("#linked-account-item");for(let n=0;n<t.length;n++){if(r=s.content.cloneNode(!0),a=r.querySelector("a"),a.className="linked-account",a.href=t[n].url,a.prepend(i(t[n].photo,"linked-account-pic")),t[n].is_pro){const e=document.createElement("div");e.setAttribute("role","presentation");const t=l("pro");t.textContent="PRO",e.appendChild(t),a.appendChild(e),r.querySelector("span").className="pro"}r.querySelector("span").textContent=t[n].name,e.appendChild(r)}},n.init=function(){const t=document.getElementById("menubar");if(n.menucontrol=t.querySelector(".user-menu"),n.menubutton=t.querySelector(".user-menu > button[aria-expanded][aria-controls]"),n.header=t.parentElement,n.menucontrol){n.buildMenu();n.menucontrol.querySelectorAll(".user-menu > button[aria-expanded][aria-controls], .user-submenu .menu-close button").forEach((function(a){a.addEventListener("click",(function(){n.header.classList.toggle("user-menu-active");const a="true"===n.menubutton.getAttribute("aria-expanded");n.menubutton.setAttribute("aria-expanded",!a);const r=t.querySelector("li.notifications > button");if(r&&r.setAttribute("aria-expanded",!1),!a){const a=t.querySelectorAll("div.label-bands-container > ol:not(.label-band-controls) > li").length,r=t.querySelectorAll("div.linked-accounts > a.linked-account").length,s=e.label_bands&&a<e.number_label_bands,o=e.linked_accounts&&r<e.number_linked_accounts;(s||o)&&BCAPI.call("BCMenubarPublicAPI_1","get_all_bands",{band_id:e.artist.id}).then((function(a){if(s&&a.label_bands&&a.label_bands.length>0){const r=t.querySelector("div.label-bands-container.loading > ol");n.buildLabelBandsList(r,a.label_bands.slice(e.label_bands.length)),t.querySelector("div.label-bands-container > div.loading-more-bands").remove(),t.querySelector("div.label-bands-container").classList.remove("loading")}if(o&&a.linked_accounts&&a.linked_accounts.length>0){const r=t.querySelector("div.linked-accounts");n.buildLinkedAccountsList(r,a.linked_accounts.slice(e.linked_accounts.length)),t.querySelector("div.linked-accounts > div.loading-more-bands").remove()}}),(function(){Log.error("get_all_bands fetch error")}))}n.menucontrol.querySelector(".user-submenu a").focus()}))})),document.addEventListener("click",(function(e){e.target.closest(".user-submenu")||e.target.closest("button")||(n.menubutton.setAttribute("aria-expanded",!1),n.header.classList.remove("user-menu-active"))}));const a=document.createElement("style");document.head.appendChild(a);const s=a.sheet,o=s.insertRule("div.label-bands-container > ol > li.not-active { display: none; }",s.cssRules.length);r=s.cssRules[o]}}}}(),function(){"use strict";const e=BCMenubarGlobals.menudata,t=BCMenubarGlobals.userId;window.BCNotificationCenter=function(){const n=this;let a,r=!1,s=!1;n.menubarEl=document.querySelector("nav#menubar");const o=n.menubarEl.querySelector("li.notifications > button");n.buildNotificationCenter=function(){if(o&&t){const l=o.querySelector(".unread-messages-indicator");BCEvents.subscribe("community.feed.allCommentsSeen",(function(){l.classList.remove("show")}));const c=n.menubarEl.querySelector("ul#notification-center");let i;c.classList.add("empty"),BCAPI.call("PushNotificationPublicAPI_1","get_menubar_activity",{user_id:t},!0).then((function(e){if(e.activity&&e.activity.length>0){n.buildMessages(e.activity),r=e.has_more,a=e.activity[e.activity.length-1].id;c.querySelector("li.mark-all-as-read").addEventListener("click",(function(){BCAPI.call("PushNotificationPublicAPI_1","mark_menubar_activity_read",{user_id:t},!0).then((function(e){Array.from(document.querySelectorAll("span.unread-indicator")).forEach((e=>e.classList.add("hide")))}),(function(){BCAPI.makeFailureAlert({OopsError:TM("I made an oops.")})}))})),c.classList.remove("empty")}}),(function(){console.log("oops")})),o.addEventListener("click",(function(){const t="true"===o.getAttribute("aria-expanded");o.setAttribute("aria-expanded",!t),t||(l.classList.remove("show"),n.menubarEl.querySelector(".user-menu > button[aria-expanded][aria-controls]").setAttribute("aria-expanded",!1),BCAPI.call("BCMenubarPublicAPI_1","hide_notifications_indicator",{band_id:e.artist.id},!0).then((function(){}),(function(){})),n.addCookie("hide_unseen_notification_indicator"))})),c.addEventListener("scroll",(function(){if(i||(i=n.menubarEl.querySelector("ul#notification-center > li:not(.empty-msg, .mark-all-as-read)")),c.scrollTop>=i.offsetHeight-250&&r&&!s){const e=document.querySelector("#loading-more-notifications").content.cloneNode(!0);c.appendChild(e),c.classList.add("paginating"),s=!0,BCAPI.call("PushNotificationPublicAPI_1","get_menubar_activity",{user_id:t,before_id:a}).then((function(e){e.activity&&e.activity.length>0&&(r=e.has_more,s=!1,a=e.activity[e.activity.length-1].id,c.classList.remove("paginating"),c.removeChild(c.querySelector(".loading-more-notifications")),n.buildMessages(e.activity))}),(function(){r=!1,s=!1,console.log("oops")}))}})),window.addEventListener("scroll",n.scroll)}},n.scroll=function(){n.scrolling||(n.scrolling=!0,setTimeout(n.scrolled,BCMenubarGlobals.SCROLL_HANDLING_INTERVAL))},n.scrolled=function(){n.scrolling=!1,o.setAttribute("aria-expanded",!1)},n.addCookie=function(e){if(window.BCCookies&&BCCookies.isCookieAllowed(e)){const t=location.hostname.split("."),n=t.length,a=1===n?null:"."+t[n-2]+"."+t[n-1],r=new Date((new Date).getTime()+5e3),s=encodeURIComponent,o=s(e)+"="+s(1)+";path=/"+(null!=a?";domain="+a:"")+";expires="+r.toUTCString();document.cookie=o}},n.buildMessages=function(t){n.menubarEl=document.querySelector("nav#menubar");const a=n.menubarEl.querySelector("ul#notification-center"),r=document.querySelector("#message-item");let s,o,l,c,i,u=!1;for(let n=0;n<t.length;n++){const d=t[n];s=r.content.cloneNode(!0),l=s.querySelector("a");const m=new URL(d.data.message_url),h=new URLSearchParams(m.search);h.append("from","com-not"),m.search=h.toString(),l.href=m.toString(),o=s.querySelector("span.unread-indicator"),d.data.unread?u=!0:o.classList.add("hide"),l.appendChild(o),c=s.querySelector("div.message-image"),e.artist.name&&c.classList.add("room-for-recipient-name");const p=document.createElement("div");let b;if(p.className="message-userpic",d.data.fan_image_id?(b=document.createElement("img"),b.src=BCMenubarGlobals.imageURL(d.data.fan_image_id,6)):(b=document.createElement("div"),b.className="no-img"),p.appendChild(b),c.appendChild(p),l.appendChild(c),i=s.querySelector("div.message-text"),e.artist.name){i.classList.add("room-for-recipient-name");const t=document.createElement("div");t.classList.add("recipient-name"),t.textContent=e.artist.name,i.appendChild(t)}const f='<span class="message-sender-name">'.concat(d.data.fan_name,"</span>"),g=TM("{{sender_name}} replied to your message.",{sender_name:f});i.innerHTML+=g;const v=document.createElement("span");v.classList.add("message-time"),v.textContent=Time.relative_time(new Date(1e3*d.date)),i.appendChild(v),l.appendChild(i),a.appendChild(s)}if(u&&!e.hide_unseen_notification_indicator&&!document.cookie.split(";").some((e=>e.trim().startsWith("hide_unseen_notification_indicator=")))){n.menubarEl.querySelector("li.notifications button > .unread-messages-indicator").classList.add("show")}},n.init=function(){document.getElementById("menubar")&&n.buildNotificationCenter()}}}(),function(){"use strict";const e=BCMenubarGlobals.siteroot;window.bcmenubar=new function(){const t=this;function n(){this.numCartItemsDisplay=ko.pureComputed((function(){return Sidecart.ko_num_cart_items()>99?"99+":Sidecart.ko_num_cart_items()})),this.hasCartItems=ko.pureComputed((function(){return Sidecart.ko_num_cart_items()>0}))}t.menubarEl=document.querySelector("nav#menubar"),t.menubarSearch=new BCMenubarSearch,t.usermenu=new BCUserMenu,t.notificationCenter=new BCNotificationCenter,t.scrolling=!1,t.scroll=function(){t.scrolling||(t.scrolling=!0,setTimeout(t.scrolled,BCMenubarGlobals.SCROLL_HANDLING_INTERVAL))},t.prevScrollY=0,t.scrolled=function(){t.scrolling=!1;const e=window.scrollY,n=e-t.prevScrollY,a=t.showHideOnscroll.classList.contains("fixed-hide"),r=t.showHideOnscroll.classList.contains("fixed-show"),s=t.showHideOnscroll.classList.contains("skip-fixed-hide");if(t.showHideOnscroll.classList.remove("skip-fixed-hide"),n>0)n>20&&(t.prevScrollY=e,e>200&&!a&&!s&&(t.showHideOnscroll.classList.remove("fixed-show"),t.showHideOnscroll.classList.add("fixed-hide"),document.body.classList.add("menubar-fixed-hide"),r||(t.showHideOnscroll.style.marginTop="calc(-1 * var(--menubar-height))",setTimeout((function(){t.showHideOnscroll.style.marginTop=""}),500))));else if(-n>20)if(t.prevScrollY=e,e<=200){if(a){if(document.body.classList.value.includes("vue-prevent-scroll"))return;t.showHideOnscroll.classList.add("fixed-show"),t.showHideOnscroll.classList.remove("fixed-hide"),document.body.classList.remove("menubar-fixed-hide")}}else r||(t.showHideOnscroll.classList.add("fixed-show"),t.showHideOnscroll.classList.remove("fixed-hide"),document.body.classList.remove("menubar-fixed-hide"))},t.init=function(){t.menubarSearch.init(),t.usermenu.init(),t.notificationCenter.init();const a=document.querySelector("header > nav#menubar");if(!a||"HEADER"!==a.parentElement.tagName)return void console.log("ERROR - BCMenubar page element needs to be contained within a header element");t.header=a.parentElement,t.showHideOnscroll=a.querySelector(".show-hide-onscroll");const r=t.header.querySelector("#menubar-subnav");r&&(t.showHideOnscroll.appendChild(r),a.classList.add("has-subnav"),r.addEventListener("click",(e=>{e.target.matches('a[href^="#"]')&&t.showHideOnscroll.classList.add("skip-fixed-hide")})));if(document.body.classList.contains("dynamic-cart")){function l(){ko.applyBindings(new n,a)}window.Sidecart?l():BCEvents.subscribe("cart.startup",l);t.menubarEl.querySelector("li.cart button").addEventListener("click",(function(){BCEvents.publish("menubar.toggle_cart")}))}if(t.header.classList.contains("signup-highlight")){const c=t.header.dataset.signupHighlightElement,i=document.querySelector(c);t.signupObserver=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting||window.scrollY>e.target.scrollHeight){const n=t.menubarEl.querySelector("li.signup");n&&!n.classList.contains("emphasize")&&(n.classList.add("emphasize"),t.signupObserver.unobserve(e.target))}}))})),i&&t.signupObserver.observe(i)}let s="?from=menubar";t.header.dataset.signupFrom&&(s="?from="+t.header.dataset.signupFrom);const o=t.menubarEl.querySelector("li.signup a");o&&(t.header.classList.contains("signup-artist")?o.href=e+"/signup"+s:t.header.classList.contains("signup-label")?o.href=e+"/label_signup"+s:o.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector("#bcmenubar-signup-modal").content.cloneNode(!0);t.querySelectorAll("a").forEach((function(e){e.href=e.href+s})),BCModal.open("bcmenubar-signup",{title:TM("Sign up for a Bandcamp account"),size:"lg",content:t,mobileCloseButton:!0})}))),t.header.classList.contains("static")||window.addEventListener("scroll",t.scroll)}}}(),document.addEventListener("DOMContentLoaded",(function(){window.bcmenubar.init()}));

</script>

</body>
</html>

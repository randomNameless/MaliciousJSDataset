function ownKeys(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,a)}return t}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(t),!0).forEach((function(i){_defineProperty(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}function _defineProperty(e,i,t){return(i=_toPropertyKey(i))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function _toPropertyKey(e){var i=_toPrimitive(e,"string");return"symbol"==typeof i?i:String(i)}function _toPrimitive(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,i||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}var __defProp=Object.defineProperty,__defNormalProp=(e,i,t)=>i in e?__defProp(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,__publicField=(e,i,t)=>(__defNormalProp(e,"symbol"!=typeof i?i+"":i,t),t);!function(){"use strict";var e;function i(e){var i;if(!globalThis.document)return void console.info("skipping autoTrackClicks in SSR");JSON.parse((null==(i=document.currentScript)?void 0:i.dataset.autoTrackClicks)||"true")&&document.addEventListener("click",(function(i){const t=i.target;t instanceof HTMLAnchorElement&&"a"===t.localName&&t.host&&t.host!==location.host&&!t.host.endsWith("bandcamp.com")&&e.record({eventType:"click",tag:"external_link",link_url:t.href})}),{capture:!0,passive:!0})}function t(e){if(!globalThis.document)return void console.info("skipping autoTrackErrors in SSR");const i=/\.?bandcamp\.com$|\.bcbits.com$|\.bcdevs.com$|\.?bc.localhost$/i;let t=!1;document.addEventListener("DOMContentLoaded",(()=>{t=!0})),window.addEventListener("error",(a=>{try{const r=a.filename?new URL(a.filename):null;if((null==r?void 0:r.hostname)&&!i.test(r.hostname))return;e.record({eventType:"performance",subtype:"js_error",message:a.message,filename:a.filename,lineno:a.lineno,colno:a.colno,dom_ready:t})}catch(e){console.error(e)}}))}var a=Object.defineProperty,r=(e,i,t)=>(((e,i,t)=>{i in e?a(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t})(e,"symbol"!=typeof i?i+"":i,t),t);function s(e,i){if(!e)throw new Error("CrossFrame is not available in non-browser contexts like SSR");const t=new URL(i),a=e.location;if(t.protocol!==a.protocol||t.port!==a.port||t.hostname!==a.hostname&&!t.hostname.endsWith("."+a.hostname)&&!a.hostname.endsWith("."+t.hostname))throw new Error("Cannot handle cross-frame messages to/from unrelated origin ".concat(t.protocol,"//").concat(t.host,". Current origin: ").concat(a.protocol,"//").concat(a.host))}const o=new class{constructor(){r(this,"roots")}init(e){this.roots=e}ensureRoots(){if(!this.roots)throw new Error("Siteroot.init has not been called yet");return this.roots}get main(){return this.ensureRoots().main}get static(){const e=this.ensureRoots();return e.static||e.main}get image(){const e=this.ensureRoots();return e.image||e.static||e.main}},l=[{id:0,name:"original",resize_algo:"original",file_format:null},{id:1,name:"fullsize",resize_algo:"scrub",file_format:"original"},{id:2,name:"art_thumb",resize_algo:"thumb",width:350,height:350,file_format:"JPEG"},{id:3,name:"art_thumbthumb",resize_algo:"thumb",width:100,height:100,file_format:"JPEG"},{id:4,name:"art_embedded_metadata",resize_algo:"thumb",width:300,height:300,file_format:"JPEG"},{id:5,name:"art_embedded_metadata_large",resize_algo:"thumb",width:700,height:700,file_format:"JPEG"},{id:6,name:"art_embedded_player",resize_algo:"thumb",width:100,height:100,file_format:"JPEG"},{id:7,name:"art_embedded_player_large",resize_algo:"thumb",width:150,height:150,file_format:"JPEG"},{id:8,name:"art_tags",resize_algo:"thumb",width:124,height:124,file_format:"JPEG"},{id:9,name:"art_tags_large",resize_algo:"thumb",width:210,height:210,file_format:"JPEG"},{id:10,name:"screen",resize_algo:"fit",width:1200,height:1200,file_format:"JPEG"},{id:11,name:"art_tag_search",resize_algo:"thumb",width:172,height:172,file_format:"JPEG"},{id:12,name:"art_artist_index",resize_algo:"thumb",width:138,height:138,file_format:"JPEG"},{id:13,name:"art_solo_feature",resize_algo:"thumb",width:380,height:380,file_format:"JPEG"},{id:14,name:"art_feature",resize_algo:"thumb",width:368,height:368,file_format:"JPEG"},{id:15,name:"art_feed_new_release",resize_algo:"thumb",width:135,height:135,file_format:"JPEG"},{id:16,name:"art_app_large",resize_algo:"thumb",width:700,height:700,file_format:"JPEG",quality:70,minsize:{size:3e4,format:5}},{id:20,name:"bio_screen",resize_algo:"fit",width:1024,height:1024,file_format:"JPEG"},{id:21,name:"bio_thumb",resize_algo:"fit",width:120,height:180,file_format:"JPEG"},{id:22,name:"bio_navbar",resize_algo:"thumb",width:25,height:25,file_format:"JPEG"},{id:23,name:"bio_phone",resize_algo:"fit",width:300,height:300,file_format:"JPEG"},{id:24,name:"bio_licensing",resize_algo:"thumb",width:300,height:300,file_format:"JPEG"},{id:25,name:"bio_app",resize_algo:"fit",width:700,height:700,file_format:"JPEG",quality:70},{id:26,name:"bio_subscribe",resize_algo:"thumb",width:800,height:600,file_format:"JPEG"},{id:27,name:"bio_subscribe2",resize_algo:"thumb",width:715,height:402,file_format:"JPEG"},{id:28,name:"bio_featured",resize_algo:"thumb",width:768,height:432,file_format:"JPEG"},{id:29,name:"bio_autocomplete",resize_algo:"thumb",width:100,height:75,file_format:"JPEG"},{id:31,name:"package_screen",resize_algo:"fit",width:1024,height:1024,file_format:"original"},{id:32,name:"package_solo_feature",resize_algo:"thumb",width:380,height:285,file_format:"JPEG"},{id:33,name:"package_feature",resize_algo:"thumb",width:368,height:276,file_format:"JPEG"},{id:36,name:"package_page",resize_algo:"thumb",width:400,height:300,file_format:"JPEG"},{id:37,name:"package_thumb",resize_algo:"thumb",width:168,height:126,file_format:"JPEG"},{id:38,name:"package_thumb_small",resize_algo:"thumb",width:144,height:108,file_format:"JPEG"},{id:41,name:"fan_bio_thumb",resize_algo:"thumb",width:210,height:210,file_format:"JPEG"},{id:42,name:"fan_bio_thumb_small",resize_algo:"thumb",height:50,width:50,file_format:"JPEG"},{id:43,name:"fan_banner",resize_algo:"fit",height:100,width:99999,file_format:"JPEG"},{id:44,name:"fan_banner_2x",resize_algo:"fit",height:200,width:99999,file_format:"JPEG"},{id:50,name:"results_grid",resize_algo:"thumb",width:140,height:140,file_format:"JPEG"},{id:65,name:"tralbum_page_cover_art",resize_algo:"thumb",width:700,height:700,file_format:"JPEG",quality:70,minsize:{size:3e4,format:69},anim_ok:!0},{id:66,name:"tralbum_page_cover_art_popup",resize_algo:"fit",width:1200,height:1200,file_format:"JPEG",anim_ok:!0},{id:67,name:"art_thumb_anim_ok",resize_algo:"thumb",width:350,height:350,file_format:"JPEG",anim_ok:!0},{id:68,name:"art_tags_large_anim_ok",resize_algo:"thumb",width:210,height:210,file_format:"JPEG",anim_ok:!0},{id:69,name:"art_embedded_metadata_large_anim_ok",resize_algo:"thumb",width:700,height:700,file_format:"JPEG",anim_ok:!0},{id:70,name:"tralbum_page_package_small",resize_algo:"fit",width:360,height:270,file_format:"JPEG",mozjpeg:!0},{id:71,name:"tralbum_page_package_large",resize_algo:"fit",width:720,height:540,file_format:"JPEG",mozjpeg:!0},{id:100,name:"custom_header_desktop",resize_algo:"thumb",width:975,max_height:180,file_format:"original",allow_transparency:!0},{id:101,name:"custom_header_paypal",resize_algo:"fit",width:750,height:90,file_format:"JPEG"},{id:120,name:"custom_header_phone",resize_algo:"thumb",width:640,max_height:124,file_format:"JPEG"},{id:130,name:"design_background",resize_algo:"scrub",file_format:"JPEG"},{id:140,name:"subscribe_message",resize_algo:"thumb",width:60,height:45,file_format:"JPEG"},{id:150,name:"video_landscape",resize_algo:"thumb",width:1280,height:720,file_format:"JPEG"},{id:151,name:"video_portrait",resize_algo:"thumb",width:720,height:1280,file_format:"JPEG"},{id:160,name:"buy_full_email_thumb_montage",resize_algo:"thumb_crop",width:60,height:100,left:40,top:0,file_format:"JPEG"},{id:161,name:"buy_full_email_thumb_montage_release",resize_algo:"thumb_crop",width:40,height:80,left:40,top:0,file_format:"JPEG",quality:100},{id:165,name:"ppp_email_gift_thumb",resize_algo:"thumb_composite",overlay_image:"public/img/banner_email.png",x_offset:92,y_offset:0,width:210,height:210,file_format:"JPEG",quality:100},{id:170,name:"weekly_mobile_web",resize_algo:"fit",width:750,height:422,file_format:"JPEG"},{id:171,name:"weekly_desktop",resize_algo:"fit",width:1244,height:646,file_format:"JPEG"},{id:180,name:"bcdaily_homepage_big",resize_algo:"fit",width:1244,height:646,file_format:"JPEG",anim_ok:!0},{id:200,name:"mobile_fan_banner_ios_3x",resize_algo:"fit",width:1125,height:420,file_format:"JPEG"},{id:201,name:"mobile_fan_banner_ios_2x",resize_algo:"fit",width:750,height:280,file_format:"JPEG"},{id:202,name:"mobile_fan_banner_ios_1x",resize_algo:"fit",width:375,height:140,file_format:"JPEG"},{id:203,name:"mobile_fan_banner_android_xxxhdpi",resize_algo:"fit",width:1125,height:420,file_format:"JPEG"},{id:204,name:"mobile_fan_banner_android_xxhdpi",resize_algo:"fit",width:960,height:360,file_format:"JPEG"},{id:205,name:"mobile_fan_banner_android_xhdpi",resize_algo:"fit",width:640,height:240,file_format:"JPEG"},{id:206,name:"mobile_fan_banner_android_hdpi",resize_algo:"fit",width:480,height:180,file_format:"JPEG"},{id:207,name:"mobile_fan_banner_android_mdpi",resize_algo:"fit",width:320,height:120,file_format:"JPEG"},{id:220,name:"newsletter_artist_feature",resize_algo:"thumb",width:900,height:468,file_format:"JPEG"},{id:300,name:"grayscale_thumb",resize_algo:"thumb",width:350,height:350,file_format:"JPEG",filter:"grayscale"}],n={};for(const e of l)n[e.id]=e,n[e.name]=e;Object.freeze(n);const c={USD:{places:2,prefix:"$"},AUD:{places:2,prefix:"$"},GBP:{places:2,prefix:"£"},CAD:{places:2,prefix:"$"},CZK:{places:2,prefix:""},DKK:{places:2,prefix:""},EUR:{places:2,prefix:"€"},HKD:{places:2,prefix:"$"},HUF:{places:0,prefix:""},ILS:{places:2,prefix:"₪"},JPY:{places:0,prefix:"¥"},MXN:{places:2,prefix:"$"},NZD:{places:2,prefix:"$"},NOK:{places:2,prefix:""},PLN:{places:2,prefix:""},SGD:{places:2,prefix:"$"},SEK:{places:2,prefix:""},CHF:{places:2,prefix:""},ALL:{places:2,prefix:""},DZD:{places:2,prefix:""},XCD:{places:2,prefix:""},ARS:{places:2,prefix:""},AWG:{places:2,prefix:""},SHP:{places:2,prefix:""},BSD:{places:2,prefix:""},BHD:{places:2,prefix:""},BDT:{places:2,prefix:""},BBD:{places:2,prefix:""},BZD:{places:2,prefix:""},XOF:{places:2,prefix:""},BMD:{places:2,prefix:""},BTN:{places:2,prefix:""},BOB:{places:2,prefix:""},BWP:{places:2,prefix:""},BRL:{places:2,prefix:""},BND:{places:2,prefix:""},BIF:{places:2,prefix:""},KHR:{places:2,prefix:""},XAF:{places:2,prefix:""},CVE:{places:2,prefix:""},KYD:{places:2,prefix:""},CLP:{places:2,prefix:""},CNY:{places:2,prefix:""},COP:{places:2,prefix:""},KMF:{places:2,prefix:""},CRC:{places:2,prefix:""},HRK:{places:2,prefix:""},ANG:{places:2,prefix:""},DJF:{places:2,prefix:""},DOP:{places:2,prefix:""},EGP:{places:2,prefix:""},ETB:{places:2,prefix:""},FKP:{places:2,prefix:""},XPF:{places:2,prefix:""},GMD:{places:2,prefix:""},GIP:{places:2,prefix:""},GTQ:{places:2,prefix:""},GNF:{places:2,prefix:""},GYD:{places:2,prefix:""},HTG:{places:2,prefix:""},HNL:{places:2,prefix:""},RUP:{places:2,prefix:""},ISK:{places:2,prefix:""},INR:{places:2,prefix:""},IDR:{places:2,prefix:""},IQD:{places:2,prefix:""},JMD:{places:2,prefix:""},JOD:{places:2,prefix:""},KZT:{places:2,prefix:""},KES:{places:2,prefix:""},KWD:{places:2,prefix:""},LAK:{places:2,prefix:""},LBP:{places:2,prefix:""},LSL:{places:2,prefix:""},LRD:{places:2,prefix:""},LYD:{places:2,prefix:""},MOP:{places:2,prefix:""},MKD:{places:2,prefix:""},MWK:{places:2,prefix:""},MYR:{places:2,prefix:""},MVR:{places:2,prefix:""},MRU:{places:2,prefix:""},MUR:{places:2,prefix:""},MDL:{places:2,prefix:""},MNT:{places:2,prefix:""},MAD:{places:2,prefix:""},MMK:{places:2,prefix:""},NAD:{places:2,prefix:""},NPR:{places:2,prefix:""},NIO:{places:2,prefix:""},NGN:{places:2,prefix:""},KPW:{places:2,prefix:""},OMR:{places:2,prefix:""},PKR:{places:2,prefix:""},PAB:{places:2,prefix:""},PGK:{places:2,prefix:""},PYG:{places:2,prefix:""},PEN:{places:2,prefix:""},PHP:{places:2,prefix:""},QAR:{places:2,prefix:""},RUB:{places:2,prefix:""},WST:{places:2,prefix:""},STD:{places:2,prefix:""},SAR:{places:2,prefix:""},SCR:{places:2,prefix:""},SLL:{places:2,prefix:""},SBD:{places:2,prefix:""},SOS:{places:2,prefix:""},ZAR:{places:2,prefix:""},KRW:{places:2,prefix:""},LKR:{places:2,prefix:""},SZL:{places:2,prefix:""},SYP:{places:2,prefix:""},TWD:{places:2,prefix:""},TZS:{places:2,prefix:""},THB:{places:2,prefix:""},TOP:{places:2,prefix:""},TTD:{places:2,prefix:""},TND:{places:2,prefix:""},TRY:{places:2,prefix:""},UGX:{places:2,prefix:""},UAH:{places:2,prefix:""},AED:{places:2,prefix:""},UYU:{places:2,prefix:""},VUV:{places:2,prefix:""},YER:{places:2,prefix:""},ZMW:{places:2,prefix:""}};r(class e{constructor(e,i){r(this,"is_money",!0),r(this,"amount"),r(this,"currency");let t=0;if(i?t=e:(t=e.amount,i=e.currency),"number"!=typeof t||t%1!=0)throw new Error("invalid amount");if("string"!=typeof i||3!==i.length)throw new Error("invalid currency");this.is_money=!0,this.amount=t,this.currency=i}add(i){if(!i.is_money)throw new Error("type mismatch");if(i.currency!==this.currency)throw new Error("currency mismatch");return new e(this.amount+i.amount,this.currency)}subtract(i){if(!i.is_money)throw new Error("type mismatch");if(i.currency!==this.currency)throw new Error("currency mismatch");return new e(this.amount-i.amount,this.currency)}negate(){return new e({amount:-1*this.amount,currency:this.currency})}scaleAndRound(i){const t=c[this.currency].places;return new e(Math.round(Math.pow(10,2-t)*Math.round(i*this.amount*Math.pow(10,t-2))),this.currency)}format(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;const t=this.amount/100,a=this.currency,r=c[a];let s=r.places;t===Math.round(t)?(2===i||7===i||9===i)&&(s=0):0===s&&(s=2);let o=t.toFixed(s);return 5!==i&&8!==i&&9!==i&&(o=e.commafyNumber(o)),4===i&&"-"===o[0]&&(o="("+o.substr(1)+")"),1===i||2===i?o=r.prefix+o:(6===i||7===i)&&(o=r.prefix+" "+o),5===i&&(o=Array(8-o.length).join(" ")+o),o}static commafyNumber(e){const i=this.separators,t=e.split(i.decimal);let a=t[0];const r=t[1]?i.decimal+t[1]:"";let s=!1;if("0"===a&&!r)return"0";"-"===a.substr(0,1)&&(a=a.substr(1),s=!0);const o=a.length;let l="",n=0;for(;(o-n)%3>0;)l+=a.substr(n,1),n++;for(l.length>0&&o-n>0&&(l+=i.thousands);o-n>3;)l+=a.substr(n,3)+i.thousands,n+=3;return o-n>0&&(l+=a.substr(n)),(s?"-":"")+l+r}static get separators(){return this._separators||(1.2.toFixed(1).indexOf(".")>=0?this._separators={decimal:".",thousands:","}:this._separators={decimal:",",thousands:"."}),this._separators}},"_separators");const h={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:["A","AE"],Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:["A","AA"],Ǻ:"A",Ḁ:"A",Ⱥ:"A",Ã:"A",Ꜳ:"AA",Æ:"[AE,E]",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C",Ȼ:"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E",Ɇ:"E",Ẽ:"E",Ḛ:"E",Ꝫ:"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H",Ⱨ:"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",Ꝺ:"D",Ꝼ:"F",Ᵹ:"G",Ꞃ:"R",Ꞅ:"S",Ꞇ:"T",Ꝭ:"IS",Ĵ:"J",Ɉ:"J",Ḱ:"K",Ǩ:"K",Ķ:"K",Ⱪ:"K",Ꝃ:"K",Ḳ:"K",Ƙ:"K",Ḵ:"K",Ꝁ:"K",Ꝅ:"K",Ĺ:"L",Ƚ:"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L",Ⱡ:"L",Ꝉ:"L",Ḻ:"L",Ŀ:"L",Ɫ:"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N",Ƞ:"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:["O","OE"],Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O",Ꝋ:"O",Ꝍ:"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:["O","OE"],Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI",Ꝏ:"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P",Ꝓ:"P",Ƥ:"P",Ꝕ:"P",Ᵽ:"P",Ꝑ:"P",Ꝙ:"Q",Ꝗ:"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꜿ:"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T",Ⱦ:"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T",Ɐ:"A",Ꞁ:"L",Ɯ:"M",Ʌ:"V",Ꜩ:"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:["U","UE"],Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U",Ꝟ:"V",Ṿ:"V",Ʋ:"V",Ṽ:"V",Ꝡ:"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W",Ⱳ:"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y",Ỿ:"Y",Ȳ:"Y",Ɏ:"Y",Ỹ:"Y",Ź:"Z",Ž:"Z",Ẑ:"Z",Ⱬ:"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Ĳ:"IJ",Œ:"OE",ᴀ:"A",ᴁ:"AE",ʙ:"B",ᴃ:"B",ᴄ:"C",ᴅ:"D",ᴇ:"E",ꜰ:"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R",ᴊ:"J",ᴋ:"K",ʟ:"L",ᴌ:"L",ᴍ:"M",ɴ:"N",ᴏ:"O",ɶ:"OE",ᴐ:"O",ᴕ:"OU",ᴘ:"P",ʀ:"R",ᴎ:"N",ᴙ:"R",ꜱ:"S",ᴛ:"T",ⱻ:"E",ᴚ:"R",ᴜ:"U",ᴠ:"V",ᴡ:"W",ʏ:"Y",ᴢ:"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:["a","ae"],ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a",ᶏ:"a",ẚ:"a",å:["a","aa"],ǻ:"a",ḁ:"a",ⱥ:"a",ã:"a",ꜳ:"aa",æ:"[ae,e]",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b",ᵬ:"b",ᶀ:"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c",ȼ:"c",ď:"d",ḑ:"d",ḓ:"d",ȡ:"d",ḋ:"d",ḍ:"d",ɗ:"d",ᶑ:"d",ḏ:"d",ᵭ:"d",ᶁ:"d",đ:"d",ɖ:"d",ƌ:"d",ı:"i",ȷ:"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e",ⱸ:"e",ę:"e",ᶒ:"e",ɇ:"e",ẽ:"e",ḛ:"e",ꝫ:"et",ḟ:"f",ƒ:"f",ᵮ:"f",ᶂ:"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g",ᶃ:"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h",ⱨ:"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i",ᶖ:"i",ɨ:"i",ĩ:"i",ḭ:"i",ꝺ:"d",ꝼ:"f",ᵹ:"g",ꞃ:"r",ꞅ:"s",ꞇ:"t",ꝭ:"is",ǰ:"j",ĵ:"j",ʝ:"j",ɉ:"j",ḱ:"k",ǩ:"k",ķ:"k",ⱪ:"k",ꝃ:"k",ḳ:"k",ƙ:"k",ḵ:"k",ᶄ:"k",ꝁ:"k",ꝅ:"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l",ȴ:"l",ḷ:"l",ḹ:"l",ⱡ:"l",ꝉ:"l",ḻ:"l",ŀ:"l",ɫ:"l",ᶅ:"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s",ẜ:"s",ẛ:"s",ẝ:"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ᵯ:"m",ᶆ:"m",ń:"n",ň:"n",ņ:"n",ṋ:"n",ȵ:"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n",ᵰ:"n",ᶇ:"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:["o","oe"],ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o",ꝋ:"o",ꝍ:"o",ⱺ:"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:["o","oe"],ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi",ꝏ:"oo",ɛ:"e",ᶓ:"e",ɔ:"o",ᶗ:"o",ȣ:"ou",ṕ:"p",ṗ:"p",ꝓ:"p",ƥ:"p",ᵱ:"p",ᶈ:"p",ꝕ:"p",ᵽ:"p",ꝑ:"p",ꝙ:"q",ʠ:"q",ɋ:"q",ꝗ:"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r",ᵳ:"r",ȓ:"r",ṟ:"r",ɼ:"r",ᵲ:"r",ᶉ:"r",ɍ:"r",ɽ:"r",ↄ:"c",ꜿ:"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s",ᵴ:"s",ᶊ:"s",ȿ:"s",ɡ:"g",ᴑ:"o",ᴓ:"o",ᴝ:"u",ť:"t",ţ:"t",ṱ:"t",ț:"t",ȶ:"t",ẗ:"t",ⱦ:"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t",ᵵ:"t",ƫ:"t",ʈ:"t",ŧ:"t",ᵺ:"th",ɐ:"a",ᴂ:"ae",ǝ:"e",ᵷ:"g",ɥ:"h",ʮ:"h",ʯ:"h",ᴉ:"i",ʞ:"k",ꞁ:"l",ɯ:"m",ɰ:"m",ᴔ:"oe",ɹ:"r",ɻ:"r",ɺ:"r",ⱹ:"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y",ꜩ:"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:["u","ue"],ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u",ᶙ:"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u",ᵫ:"ue",ꝸ:"um",ⱴ:"v",ꝟ:"v",ṿ:"v",ʋ:"v",ᶌ:"v",ⱱ:"v",ṽ:"v",ꝡ:"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w",ⱳ:"w",ẘ:"w",ẍ:"x",ẋ:"x",ᶍ:"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y",ỿ:"y",ȳ:"y",ẙ:"y",ɏ:"y",ỹ:"y",ź:"z",ž:"z",ẑ:"z",ʑ:"z",ⱬ:"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z",ᵶ:"z",ᶎ:"z",ʐ:"z",ƶ:"z",ɀ:"z",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st",ₐ:"a",ₑ:"e",ᵢ:"i",ⱼ:"j",ₒ:"o",ᵣ:"r",ᵤ:"u",ᵥ:"v",ₓ:"x"};let f=1;Object.keys(h).forEach((function(e){f=Math.max(f,Array.isArray(h[e])?h[e].length:1)})),new class{constructor(e){r(this,"serial",1),r(this,"methodHandlers",new Map),r(this,"methodCalls",{}),r(this,"eventListeners",new Map),r(this,"listenerInstalled",!1),this.window=e}handleMethod(e,i,t){s(this.window,e.origin),this.installListener();let a=this.methodHandlers.get(e);if(a||this.methodHandlers.set(e,a={}),a[i])throw new Error("duplicate handlers for method "+i);a[i]=t}makeMethodCaller(e,i){return s(this.window,e.origin),this.installListener(),t=>{const a={message:"crossframe_call",name:i,arg:t,serial:this.serial++};return e.postMessage(a,e.origin),new Promise(((e,t)=>{this.methodCalls[a.serial]={resolve:e,reject:t,name:i}}))}}on(e,i,t){s(this.window,e.origin),this.installListener();let a=this.eventListeners.get(e);a||this.eventListeners.set(e,a={}),(a[i]||(a[i]=[])).push(t)}makeEventEmitter(e,i){return s(this.window,e.origin),t=>{const a={message:"crossframe_emit",name:i,arg:t};e.postMessage(a,e.origin)}}installListener(){this.listenerInstalled||(globalThis.__BC_CrossFrame_listener_installed&&console.warn("multiple instances of CrossFrame has been instantiated; this can lead to duplicated and inconsistent results"),this.listenerInstalled=globalThis.__BC_CrossFrame_listener_installed=!0,this.window.addEventListener("message",(e=>{var i;const t=null==(i=e.data)?void 0:i.message,a=e.source;if(a)switch(t){case"crossframe_emit":this.handleEmit(e.data,a);break;case"crossframe_call":this.handleCall(e.data,a);break;case"crossframe_call_fail":this.handleCallFail(e.data);break;case"crossframe_call_result":this.handleCallResult(e.data)}else console.warn("received message event without a source window; ignoring",e)})))}handleEmit(e,i){let{name:t,arg:a}=e;var r,s;null==(s=null==(r=this.eventListeners.get(i))?void 0:r[t])||s.forEach((e=>{e(a)}))}async handleCall(e,i){let{arg:t,name:a,serial:r}=e;var s;const o=null==(s=this.methodHandlers.get(i))?void 0:s[a];try{if(!o)throw new Error("method not found: "+a);{const e={message:"crossframe_call_result",name:a,serial:r,result:await o(t)};i.postMessage(e,i.origin)}}catch(e){const t={message:"crossframe_call_fail",name:a,serial:r,error:e instanceof Error?e.message:String(e)};i.postMessage(t,i.origin)}}handleCallFail(e){let{name:i,serial:t,error:a}=e;const{reject:r}=this.popMethodCall(t,i);r(a)}handleCallResult(e){let{name:i,serial:t,result:a}=e;const{resolve:r}=this.popMethodCall(t,i);r(a)}popMethodCall(e,i){const t=this.methodCalls[e];if(!t)throw new Error("call result handler not found for serial ".concat(e," method name: ").concat(i));if(i!==t.name)throw new Error("call fail for serial ".concat(e," has mismatched method name: ").concat(t.name," vs ").concat(i));return delete this.methodCalls[e],t}}(globalThis.window);const p={CookieAllowlist:{COOKIE_PREF_NAME:"cookie_preferences",DEFAULT:["cookie_preferences","identity","tempidentity","twofactor","BACKENDID","BACKENDID3","gcfm",{pattern:"^_comm_.+$"},"download_encoding","hide_autocancel_warning_one","hide_live_chat_welcome_2","hide_unseen_notification_indicator","logout","js_logged_in","label",{pattern:"^live_onboarding_.+$"},{pattern:"^live_testing_tips_.+$"},"menubar_active_band","mvp","newsletter_invite_dismissed","payments","rock_the_vote_dismissed","stats2_downloads","stats2_embeddedplays","stats2_plays","stats2_map","stats2_visits","tos_dismissed_2022","tos_dismissed_2024","volume","shopify_install_band_id","bc_webapp","bc_webapp3","impersonate_user_id","bc_downloader_disable_test","bc_downloader_force_cdn","irbc-session-cookie","resent_mail_ids","PlayerDebugLog","sharedebug"],ANALYTICAL:["client_id","session","unique_24h","unique_forever","analytics_processed_ids","fan_visits","_ga"]}};for(const[e,i]of Object.entries(p))for(const[e,t]of Object.entries(i))Array.isArray(t)&&t.forEach(((e,i)=>{("object"==typeof e&&"function"!=typeof Object.hasOwn&&e.hasOwnProperty("pattern")||"object"==typeof e&&Object.hasOwn(e,"pattern"))&&(t[i]=new RegExp(e.pattern))}));const m=p.CookieAllowlist;var d=Object.defineProperty,_=(e,i,t)=>(((e,i,t)=>{i in e?d(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t})(e,"symbol"!=typeof i?i+"":i,t),t);function u(e,i){if(!e)throw new Error("CrossFrame is not available in non-browser contexts like SSR");const t=new URL(i),a=e.location;if(t.protocol!==a.protocol||t.port!==a.port||t.hostname!==a.hostname&&!t.hostname.endsWith("."+a.hostname)&&!a.hostname.endsWith("."+t.hostname))throw new Error("Cannot handle cross-frame messages to/from unrelated origin ".concat(t.protocol,"//").concat(t.host,". Current origin: ").concat(a.protocol,"//").concat(a.host))}new class{constructor(){_(this,"roots")}init(e){this.roots=e}ensureRoots(){if(!this.roots)throw new Error("Siteroot.init has not been called yet");return this.roots}get main(){return this.ensureRoots().main}get static(){const e=this.ensureRoots();return e.static||e.main}get image(){const e=this.ensureRoots();return e.image||e.static||e.main}};const g=[{id:0,name:"original",resize_algo:"original",file_format:null},{id:1,name:"fullsize",resize_algo:"scrub",file_format:"original"},{id:2,name:"art_thumb",resize_algo:"thumb",width:350,height:350,file_format:"JPEG"},{id:3,name:"art_thumbthumb",resize_algo:"thumb",width:100,height:100,file_format:"JPEG"},{id:4,name:"art_embedded_metadata",resize_algo:"thumb",width:300,height:300,file_format:"JPEG"},{id:5,name:"art_embedded_metadata_large",resize_algo:"thumb",width:700,height:700,file_format:"JPEG"},{id:6,name:"art_embedded_player",resize_algo:"thumb",width:100,height:100,file_format:"JPEG"},{id:7,name:"art_embedded_player_large",resize_algo:"thumb",width:150,height:150,file_format:"JPEG"},{id:8,name:"art_tags",resize_algo:"thumb",width:124,height:124,file_format:"JPEG"},{id:9,name:"art_tags_large",resize_algo:"thumb",width:210,height:210,file_format:"JPEG"},{id:10,name:"screen",resize_algo:"fit",width:1200,height:1200,file_format:"JPEG"},{id:11,name:"art_tag_search",resize_algo:"thumb",width:172,height:172,file_format:"JPEG"},{id:12,name:"art_artist_index",resize_algo:"thumb",width:138,height:138,file_format:"JPEG"},{id:13,name:"art_solo_feature",resize_algo:"thumb",width:380,height:380,file_format:"JPEG"},{id:14,name:"art_feature",resize_algo:"thumb",width:368,height:368,file_format:"JPEG"},{id:15,name:"art_feed_new_release",resize_algo:"thumb",width:135,height:135,file_format:"JPEG"},{id:16,name:"art_app_large",resize_algo:"thumb",width:700,height:700,file_format:"JPEG",quality:70,minsize:{size:3e4,format:5}},{id:20,name:"bio_screen",resize_algo:"fit",width:1024,height:1024,file_format:"JPEG"},{id:21,name:"bio_thumb",resize_algo:"fit",width:120,height:180,file_format:"JPEG"},{id:22,name:"bio_navbar",resize_algo:"thumb",width:25,height:25,file_format:"JPEG"},{id:23,name:"bio_phone",resize_algo:"fit",width:300,height:300,file_format:"JPEG"},{id:24,name:"bio_licensing",resize_algo:"thumb",width:300,height:300,file_format:"JPEG"},{id:25,name:"bio_app",resize_algo:"fit",width:700,height:700,file_format:"JPEG",quality:70},{id:26,name:"bio_subscribe",resize_algo:"thumb",width:800,height:600,file_format:"JPEG"},{id:27,name:"bio_subscribe2",resize_algo:"thumb",width:715,height:402,file_format:"JPEG"},{id:28,name:"bio_featured",resize_algo:"thumb",width:768,height:432,file_format:"JPEG"},{id:29,name:"bio_autocomplete",resize_algo:"thumb",width:100,height:75,file_format:"JPEG"},{id:31,name:"package_screen",resize_algo:"fit",width:1024,height:1024,file_format:"original"},{id:32,name:"package_solo_feature",resize_algo:"thumb",width:380,height:285,file_format:"JPEG"},{id:33,name:"package_feature",resize_algo:"thumb",width:368,height:276,file_format:"JPEG"},{id:36,name:"package_page",resize_algo:"thumb",width:400,height:300,file_format:"JPEG"},{id:37,name:"package_thumb",resize_algo:"thumb",width:168,height:126,file_format:"JPEG"},{id:38,name:"package_thumb_small",resize_algo:"thumb",width:144,height:108,file_format:"JPEG"},{id:41,name:"fan_bio_thumb",resize_algo:"thumb",width:210,height:210,file_format:"JPEG"},{id:42,name:"fan_bio_thumb_small",resize_algo:"thumb",height:50,width:50,file_format:"JPEG"},{id:43,name:"fan_banner",resize_algo:"fit",height:100,width:99999,file_format:"JPEG"},{id:44,name:"fan_banner_2x",resize_algo:"fit",height:200,width:99999,file_format:"JPEG"},{id:50,name:"results_grid",resize_algo:"thumb",width:140,height:140,file_format:"JPEG"},{id:65,name:"tralbum_page_cover_art",resize_algo:"thumb",width:700,height:700,file_format:"JPEG",quality:70,minsize:{size:3e4,format:69},anim_ok:!0},{id:66,name:"tralbum_page_cover_art_popup",resize_algo:"fit",width:1200,height:1200,file_format:"JPEG",anim_ok:!0},{id:67,name:"art_thumb_anim_ok",resize_algo:"thumb",width:350,height:350,file_format:"JPEG",anim_ok:!0},{id:68,name:"art_tags_large_anim_ok",resize_algo:"thumb",width:210,height:210,file_format:"JPEG",anim_ok:!0},{id:69,name:"art_embedded_metadata_large_anim_ok",resize_algo:"thumb",width:700,height:700,file_format:"JPEG",anim_ok:!0},{id:70,name:"tralbum_page_package_small",resize_algo:"fit",width:360,height:270,file_format:"JPEG",mozjpeg:!0},{id:71,name:"tralbum_page_package_large",resize_algo:"fit",width:720,height:540,file_format:"JPEG",mozjpeg:!0},{id:100,name:"custom_header_desktop",resize_algo:"thumb",width:975,max_height:180,file_format:"original",allow_transparency:!0},{id:101,name:"custom_header_paypal",resize_algo:"fit",width:750,height:90,file_format:"JPEG"},{id:120,name:"custom_header_phone",resize_algo:"thumb",width:640,max_height:124,file_format:"JPEG"},{id:130,name:"design_background",resize_algo:"scrub",file_format:"JPEG"},{id:140,name:"subscribe_message",resize_algo:"thumb",width:60,height:45,file_format:"JPEG"},{id:150,name:"video_landscape",resize_algo:"thumb",width:1280,height:720,file_format:"JPEG"},{id:151,name:"video_portrait",resize_algo:"thumb",width:720,height:1280,file_format:"JPEG"},{id:160,name:"buy_full_email_thumb_montage",resize_algo:"thumb_crop",width:60,height:100,left:40,top:0,file_format:"JPEG"},{id:161,name:"buy_full_email_thumb_montage_release",resize_algo:"thumb_crop",width:40,height:80,left:40,top:0,file_format:"JPEG",quality:100},{id:165,name:"ppp_email_gift_thumb",resize_algo:"thumb_composite",overlay_image:"public/img/banner_email.png",x_offset:92,y_offset:0,width:210,height:210,file_format:"JPEG",quality:100},{id:170,name:"weekly_mobile_web",resize_algo:"fit",width:750,height:422,file_format:"JPEG"},{id:171,name:"weekly_desktop",resize_algo:"fit",width:1244,height:646,file_format:"JPEG"},{id:180,name:"bcdaily_homepage_big",resize_algo:"fit",width:1244,height:646,file_format:"JPEG",anim_ok:!0},{id:200,name:"mobile_fan_banner_ios_3x",resize_algo:"fit",width:1125,height:420,file_format:"JPEG"},{id:201,name:"mobile_fan_banner_ios_2x",resize_algo:"fit",width:750,height:280,file_format:"JPEG"},{id:202,name:"mobile_fan_banner_ios_1x",resize_algo:"fit",width:375,height:140,file_format:"JPEG"},{id:203,name:"mobile_fan_banner_android_xxxhdpi",resize_algo:"fit",width:1125,height:420,file_format:"JPEG"},{id:204,name:"mobile_fan_banner_android_xxhdpi",resize_algo:"fit",width:960,height:360,file_format:"JPEG"},{id:205,name:"mobile_fan_banner_android_xhdpi",resize_algo:"fit",width:640,height:240,file_format:"JPEG"},{id:206,name:"mobile_fan_banner_android_hdpi",resize_algo:"fit",width:480,height:180,file_format:"JPEG"},{id:207,name:"mobile_fan_banner_android_mdpi",resize_algo:"fit",width:320,height:120,file_format:"JPEG"},{id:220,name:"newsletter_artist_feature",resize_algo:"thumb",width:900,height:468,file_format:"JPEG"},{id:300,name:"grayscale_thumb",resize_algo:"thumb",width:350,height:350,file_format:"JPEG",filter:"grayscale"}],b={};for(const e of g)b[e.id]=e,b[e.name]=e;Object.freeze(b);const w={USD:{places:2,prefix:"$"},AUD:{places:2,prefix:"$"},GBP:{places:2,prefix:"£"},CAD:{places:2,prefix:"$"},CZK:{places:2,prefix:""},DKK:{places:2,prefix:""},EUR:{places:2,prefix:"€"},HKD:{places:2,prefix:"$"},HUF:{places:0,prefix:""},ILS:{places:2,prefix:"₪"},JPY:{places:0,prefix:"¥"},MXN:{places:2,prefix:"$"},NZD:{places:2,prefix:"$"},NOK:{places:2,prefix:""},PLN:{places:2,prefix:""},SGD:{places:2,prefix:"$"},SEK:{places:2,prefix:""},CHF:{places:2,prefix:""},ALL:{places:2,prefix:""},DZD:{places:2,prefix:""},XCD:{places:2,prefix:""},ARS:{places:2,prefix:""},AWG:{places:2,prefix:""},SHP:{places:2,prefix:""},BSD:{places:2,prefix:""},BHD:{places:2,prefix:""},BDT:{places:2,prefix:""},BBD:{places:2,prefix:""},BZD:{places:2,prefix:""},XOF:{places:2,prefix:""},BMD:{places:2,prefix:""},BTN:{places:2,prefix:""},BOB:{places:2,prefix:""},BWP:{places:2,prefix:""},BRL:{places:2,prefix:""},BND:{places:2,prefix:""},BIF:{places:2,prefix:""},KHR:{places:2,prefix:""},XAF:{places:2,prefix:""},CVE:{places:2,prefix:""},KYD:{places:2,prefix:""},CLP:{places:2,prefix:""},CNY:{places:2,prefix:""},COP:{places:2,prefix:""},KMF:{places:2,prefix:""},CRC:{places:2,prefix:""},HRK:{places:2,prefix:""},ANG:{places:2,prefix:""},DJF:{places:2,prefix:""},DOP:{places:2,prefix:""},EGP:{places:2,prefix:""},ETB:{places:2,prefix:""},FKP:{places:2,prefix:""},XPF:{places:2,prefix:""},GMD:{places:2,prefix:""},GIP:{places:2,prefix:""},GTQ:{places:2,prefix:""},GNF:{places:2,prefix:""},GYD:{places:2,prefix:""},HTG:{places:2,prefix:""},HNL:{places:2,prefix:""},RUP:{places:2,prefix:""},ISK:{places:2,prefix:""},INR:{places:2,prefix:""},IDR:{places:2,prefix:""},IQD:{places:2,prefix:""},JMD:{places:2,prefix:""},JOD:{places:2,prefix:""},KZT:{places:2,prefix:""},KES:{places:2,prefix:""},KWD:{places:2,prefix:""},LAK:{places:2,prefix:""},LBP:{places:2,prefix:""},LSL:{places:2,prefix:""},LRD:{places:2,prefix:""},LYD:{places:2,prefix:""},MOP:{places:2,prefix:""},MKD:{places:2,prefix:""},MWK:{places:2,prefix:""},MYR:{places:2,prefix:""},MVR:{places:2,prefix:""},MRU:{places:2,prefix:""},MUR:{places:2,prefix:""},MDL:{places:2,prefix:""},MNT:{places:2,prefix:""},MAD:{places:2,prefix:""},MMK:{places:2,prefix:""},NAD:{places:2,prefix:""},NPR:{places:2,prefix:""},NIO:{places:2,prefix:""},NGN:{places:2,prefix:""},KPW:{places:2,prefix:""},OMR:{places:2,prefix:""},PKR:{places:2,prefix:""},PAB:{places:2,prefix:""},PGK:{places:2,prefix:""},PYG:{places:2,prefix:""},PEN:{places:2,prefix:""},PHP:{places:2,prefix:""},QAR:{places:2,prefix:""},RUB:{places:2,prefix:""},WST:{places:2,prefix:""},STD:{places:2,prefix:""},SAR:{places:2,prefix:""},SCR:{places:2,prefix:""},SLL:{places:2,prefix:""},SBD:{places:2,prefix:""},SOS:{places:2,prefix:""},ZAR:{places:2,prefix:""},KRW:{places:2,prefix:""},LKR:{places:2,prefix:""},SZL:{places:2,prefix:""},SYP:{places:2,prefix:""},TWD:{places:2,prefix:""},TZS:{places:2,prefix:""},THB:{places:2,prefix:""},TOP:{places:2,prefix:""},TTD:{places:2,prefix:""},TND:{places:2,prefix:""},TRY:{places:2,prefix:""},UGX:{places:2,prefix:""},UAH:{places:2,prefix:""},AED:{places:2,prefix:""},UYU:{places:2,prefix:""},VUV:{places:2,prefix:""},YER:{places:2,prefix:""},ZMW:{places:2,prefix:""}};_(class e{constructor(e,i){_(this,"is_money",!0),_(this,"amount"),_(this,"currency");let t=0;if(i?t=e:(t=e.amount,i=e.currency),"number"!=typeof t||t%1!=0)throw new Error("invalid amount");if("string"!=typeof i||3!==i.length)throw new Error("invalid currency");this.is_money=!0,this.amount=t,this.currency=i}add(i){if(!i.is_money)throw new Error("type mismatch");if(i.currency!==this.currency)throw new Error("currency mismatch");return new e(this.amount+i.amount,this.currency)}subtract(i){if(!i.is_money)throw new Error("type mismatch");if(i.currency!==this.currency)throw new Error("currency mismatch");return new e(this.amount-i.amount,this.currency)}negate(){return new e({amount:-1*this.amount,currency:this.currency})}scaleAndRound(i){const t=w[this.currency].places;return new e(Math.round(Math.pow(10,2-t)*Math.round(i*this.amount*Math.pow(10,t-2))),this.currency)}format(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;const t=this.amount/100,a=this.currency,r=w[a];let s=r.places;t===Math.round(t)?(2===i||7===i||9===i)&&(s=0):0===s&&(s=2);let o=t.toFixed(s);return 5!==i&&8!==i&&9!==i&&(o=e.commafyNumber(o)),4===i&&"-"===o[0]&&(o="("+o.substr(1)+")"),1===i||2===i?o=r.prefix+o:(6===i||7===i)&&(o=r.prefix+" "+o),5===i&&(o=Array(8-o.length).join(" ")+o),o}static commafyNumber(e){const i=this.separators,t=e.split(i.decimal);let a=t[0];const r=t[1]?i.decimal+t[1]:"";let s=!1;if("0"===a&&!r)return"0";"-"===a.substr(0,1)&&(a=a.substr(1),s=!0);const o=a.length;let l="",n=0;for(;(o-n)%3>0;)l+=a.substr(n,1),n++;for(l.length>0&&o-n>0&&(l+=i.thousands);o-n>3;)l+=a.substr(n,3)+i.thousands,n+=3;return o-n>0&&(l+=a.substr(n)),(s?"-":"")+l+r}static get separators(){return this._separators||(1.2.toFixed(1).indexOf(".")>=0?this._separators={decimal:".",thousands:","}:this._separators={decimal:",",thousands:"."}),this._separators}},"_separators");const x={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:["A","AE"],Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:["A","AA"],Ǻ:"A",Ḁ:"A",Ⱥ:"A",Ã:"A",Ꜳ:"AA",Æ:"[AE,E]",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C",Ȼ:"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E",Ɇ:"E",Ẽ:"E",Ḛ:"E",Ꝫ:"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H",Ⱨ:"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",Ꝺ:"D",Ꝼ:"F",Ᵹ:"G",Ꞃ:"R",Ꞅ:"S",Ꞇ:"T",Ꝭ:"IS",Ĵ:"J",Ɉ:"J",Ḱ:"K",Ǩ:"K",Ķ:"K",Ⱪ:"K",Ꝃ:"K",Ḳ:"K",Ƙ:"K",Ḵ:"K",Ꝁ:"K",Ꝅ:"K",Ĺ:"L",Ƚ:"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L",Ⱡ:"L",Ꝉ:"L",Ḻ:"L",Ŀ:"L",Ɫ:"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N",Ƞ:"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:["O","OE"],Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O",Ꝋ:"O",Ꝍ:"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:["O","OE"],Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI",Ꝏ:"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P",Ꝓ:"P",Ƥ:"P",Ꝕ:"P",Ᵽ:"P",Ꝑ:"P",Ꝙ:"Q",Ꝗ:"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꜿ:"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T",Ⱦ:"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T",Ɐ:"A",Ꞁ:"L",Ɯ:"M",Ʌ:"V",Ꜩ:"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:["U","UE"],Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U",Ꝟ:"V",Ṿ:"V",Ʋ:"V",Ṽ:"V",Ꝡ:"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W",Ⱳ:"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y",Ỿ:"Y",Ȳ:"Y",Ɏ:"Y",Ỹ:"Y",Ź:"Z",Ž:"Z",Ẑ:"Z",Ⱬ:"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Ĳ:"IJ",Œ:"OE",ᴀ:"A",ᴁ:"AE",ʙ:"B",ᴃ:"B",ᴄ:"C",ᴅ:"D",ᴇ:"E",ꜰ:"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R",ᴊ:"J",ᴋ:"K",ʟ:"L",ᴌ:"L",ᴍ:"M",ɴ:"N",ᴏ:"O",ɶ:"OE",ᴐ:"O",ᴕ:"OU",ᴘ:"P",ʀ:"R",ᴎ:"N",ᴙ:"R",ꜱ:"S",ᴛ:"T",ⱻ:"E",ᴚ:"R",ᴜ:"U",ᴠ:"V",ᴡ:"W",ʏ:"Y",ᴢ:"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:["a","ae"],ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a",ᶏ:"a",ẚ:"a",å:["a","aa"],ǻ:"a",ḁ:"a",ⱥ:"a",ã:"a",ꜳ:"aa",æ:"[ae,e]",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b",ᵬ:"b",ᶀ:"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c",ȼ:"c",ď:"d",ḑ:"d",ḓ:"d",ȡ:"d",ḋ:"d",ḍ:"d",ɗ:"d",ᶑ:"d",ḏ:"d",ᵭ:"d",ᶁ:"d",đ:"d",ɖ:"d",ƌ:"d",ı:"i",ȷ:"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e",ⱸ:"e",ę:"e",ᶒ:"e",ɇ:"e",ẽ:"e",ḛ:"e",ꝫ:"et",ḟ:"f",ƒ:"f",ᵮ:"f",ᶂ:"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g",ᶃ:"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h",ⱨ:"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i",ᶖ:"i",ɨ:"i",ĩ:"i",ḭ:"i",ꝺ:"d",ꝼ:"f",ᵹ:"g",ꞃ:"r",ꞅ:"s",ꞇ:"t",ꝭ:"is",ǰ:"j",ĵ:"j",ʝ:"j",ɉ:"j",ḱ:"k",ǩ:"k",ķ:"k",ⱪ:"k",ꝃ:"k",ḳ:"k",ƙ:"k",ḵ:"k",ᶄ:"k",ꝁ:"k",ꝅ:"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l",ȴ:"l",ḷ:"l",ḹ:"l",ⱡ:"l",ꝉ:"l",ḻ:"l",ŀ:"l",ɫ:"l",ᶅ:"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s",ẜ:"s",ẛ:"s",ẝ:"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ᵯ:"m",ᶆ:"m",ń:"n",ň:"n",ņ:"n",ṋ:"n",ȵ:"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n",ᵰ:"n",ᶇ:"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:["o","oe"],ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o",ꝋ:"o",ꝍ:"o",ⱺ:"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:["o","oe"],ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi",ꝏ:"oo",ɛ:"e",ᶓ:"e",ɔ:"o",ᶗ:"o",ȣ:"ou",ṕ:"p",ṗ:"p",ꝓ:"p",ƥ:"p",ᵱ:"p",ᶈ:"p",ꝕ:"p",ᵽ:"p",ꝑ:"p",ꝙ:"q",ʠ:"q",ɋ:"q",ꝗ:"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r",ᵳ:"r",ȓ:"r",ṟ:"r",ɼ:"r",ᵲ:"r",ᶉ:"r",ɍ:"r",ɽ:"r",ↄ:"c",ꜿ:"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s",ᵴ:"s",ᶊ:"s",ȿ:"s",ɡ:"g",ᴑ:"o",ᴓ:"o",ᴝ:"u",ť:"t",ţ:"t",ṱ:"t",ț:"t",ȶ:"t",ẗ:"t",ⱦ:"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t",ᵵ:"t",ƫ:"t",ʈ:"t",ŧ:"t",ᵺ:"th",ɐ:"a",ᴂ:"ae",ǝ:"e",ᵷ:"g",ɥ:"h",ʮ:"h",ʯ:"h",ᴉ:"i",ʞ:"k",ꞁ:"l",ɯ:"m",ɰ:"m",ᴔ:"oe",ɹ:"r",ɻ:"r",ɺ:"r",ⱹ:"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y",ꜩ:"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:["u","ue"],ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u",ᶙ:"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u",ᵫ:"ue",ꝸ:"um",ⱴ:"v",ꝟ:"v",ṿ:"v",ʋ:"v",ᶌ:"v",ⱱ:"v",ṽ:"v",ꝡ:"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w",ⱳ:"w",ẘ:"w",ẍ:"x",ẋ:"x",ᶍ:"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y",ỿ:"y",ȳ:"y",ẙ:"y",ɏ:"y",ỹ:"y",ź:"z",ž:"z",ẑ:"z",ʑ:"z",ⱬ:"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z",ᵶ:"z",ᶎ:"z",ʐ:"z",ƶ:"z",ɀ:"z",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st",ₐ:"a",ₑ:"e",ᵢ:"i",ⱼ:"j",ₒ:"o",ᵣ:"r",ᵤ:"u",ᵥ:"v",ₓ:"x"};let E=1;function P(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var a in t)e[a]=t[a]}return e}Object.keys(x).forEach((function(e){E=Math.max(E,Array.isArray(x[e])?x[e].length:1)})),new class{constructor(e){_(this,"serial",1),_(this,"methodHandlers",new Map),_(this,"methodCalls",{}),_(this,"eventListeners",new Map),_(this,"listenerInstalled",!1),this.window=e}handleMethod(e,i,t){u(this.window,e.origin),this.installListener();let a=this.methodHandlers.get(e);if(a||this.methodHandlers.set(e,a={}),a[i])throw new Error("duplicate handlers for method "+i);a[i]=t}makeMethodCaller(e,i){return u(this.window,e.origin),this.installListener(),t=>{const a={message:"crossframe_call",name:i,arg:t,serial:this.serial++};return e.postMessage(a,e.origin),new Promise(((e,t)=>{this.methodCalls[a.serial]={resolve:e,reject:t,name:i}}))}}on(e,i,t){u(this.window,e.origin),this.installListener();let a=this.eventListeners.get(e);a||this.eventListeners.set(e,a={}),(a[i]||(a[i]=[])).push(t)}makeEventEmitter(e,i){return u(this.window,e.origin),t=>{const a={message:"crossframe_emit",name:i,arg:t};e.postMessage(a,e.origin)}}installListener(){this.listenerInstalled||(globalThis.__BC_CrossFrame_listener_installed&&console.warn("multiple instances of CrossFrame has been instantiated; this can lead to duplicated and inconsistent results"),this.listenerInstalled=globalThis.__BC_CrossFrame_listener_installed=!0,this.window.addEventListener("message",(e=>{var i;const t=null==(i=e.data)?void 0:i.message,a=e.source;if(a)switch(t){case"crossframe_emit":this.handleEmit(e.data,a);break;case"crossframe_call":this.handleCall(e.data,a);break;case"crossframe_call_fail":this.handleCallFail(e.data);break;case"crossframe_call_result":this.handleCallResult(e.data)}else console.warn("received message event without a source window; ignoring",e)})))}handleEmit(e,i){let{name:t,arg:a}=e;var r,s;null==(s=null==(r=this.eventListeners.get(i))?void 0:r[t])||s.forEach((e=>{e(a)}))}async handleCall(e,i){let{arg:t,name:a,serial:r}=e;var s;const o=null==(s=this.methodHandlers.get(i))?void 0:s[a];try{if(!o)throw new Error("method not found: "+a);{const e={message:"crossframe_call_result",name:a,serial:r,result:await o(t)};i.postMessage(e,i.origin)}}catch(e){const t={message:"crossframe_call_fail",name:a,serial:r,error:e instanceof Error?e.message:String(e)};i.postMessage(t,i.origin)}}handleCallFail(e){let{name:i,serial:t,error:a}=e;const{reject:r}=this.popMethodCall(t,i);r(a)}handleCallResult(e){let{name:i,serial:t,result:a}=e;const{resolve:r}=this.popMethodCall(t,i);r(a)}popMethodCall(e,i){const t=this.methodCalls[e];if(!t)throw new Error("call result handler not found for serial ".concat(e," method name: ").concat(i));if(i!==t.name)throw new Error("call fail for serial ".concat(e," has mismatched method name: ").concat(t.name," vs ").concat(i));return delete this.methodCalls[e],t}}(globalThis.window);var y,v=function e(i,t){function a(e,a,r){if(!(typeof document>"u")){"number"==typeof(r=P({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in r)r[o]&&(s+="; "+o,!0!==r[o]&&(s+="="+r[o].split(";")[0]));return document.cookie=e+"="+i.write(a,e)+s}}return Object.create({set:a,get:function(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var t=document.cookie?document.cookie.split("; "):[],a={},r=0;r<t.length;r++){var s=t[r].split("="),o=s.slice(1).join("=");try{var l=decodeURIComponent(s[0]);if(a[l]=i.read(o,l),e===l)break}catch(e){}}return e?a[e]:a}},remove:function(e,i){a(e,"",P({},i,{expires:-1}))},withAttributes:function(i){return e(this.converter,P({},this.attributes,i))},withConverter:function(i){return e(P({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(i)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const O=new URLSearchParams(null==(y=null==globalThis?void 0:globalThis.location)?void 0:y.search).has("debug"),z=function(e){return![...m.DEFAULT,...m.ANALYTICAL].some((i=>J(i,e)))},G=function(e,i){var t,a;const r=[...m.DEFAULT];if(null!==(t=i)&&void 0!==t||(i={}),null!==(a=i.allow)&&void 0!==a||(i.allow=[]),!Array.isArray(i.allow))throw new k("invalid type for allow");return i.allow.forEach((e=>{if("analytics"!==e)throw new k("invalid type of allowed cookie");r.push(...m.ANALYTICAL)})),r.some((i=>J(i,e)))},A=function(){const e=function(e){return v.get(e)}(m.COOKIE_PREF_NAME);if(void 0===e)return;let i;try{i=JSON.parse(null!=e?e:"{}")}catch(e){throw new k("JSON parse error: ".concat(e))}return i};function J(e,i){return e===i||e instanceof RegExp&&e.test(i)}class k extends Error{constructor(e){super("InvalidCookiePreferenceError: "+e),this.msg=e}}const D=null==(e=globalThis.location)?void 0:e.href;let C;class R{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var a,r;__publicField(this,"recordURL"),__publicField(this,"sendDelay"),__publicField(this,"enabled"),__publicField(this,"queue",[]),__publicField(this,"didRecordPageView",!1),__publicField(this,"timeout",null),this.recordURL=e,this.sendDelay=i,this.enabled=t,null==(a=globalThis.document)||a.addEventListener("visibilitychange",(()=>{"visible"!==document.visibilityState&&this.send()})),null==(r=globalThis.window)||r.addEventListener("pagehide",(()=>{this.send()})),this.recordPageViewWhenTheTimeComes()}static get defaultInstance(){return C||(globalThis.BCTracker?C=globalThis.BCTracker:(C=new R(new URL("/api/tracker/1/record",o.main)),i(C),t(C))),C}recordPageViewWhenTheTimeComes(){D?(document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&this.recordPageView()})),"visible"===document.visibilityState&&this.recordPageView()):console.info("skipping Tracker page_view recording in SSR")}recordPageView(){if(this.didRecordPageView)return;const e={eventType:"page_view",referrer_url:document.referrer,screen:{width:window.screen.width,height:window.screen.height,density:window.devicePixelRatio},page_url:D};globalThis.MediaView&&(e.media_mode=globalThis.MediaView.mode);const i=document.head.querySelectorAll('meta[name="bc-page-properties"]');for(const t of i)Object.assign(e,JSON.parse(t.content));this.didRecordPageView=this.record(e)}record(e){!function(e){const i=A();G(e,i)?O&&console.info('COOKIES: Cookie "'+encodeURIComponent(e)+'" is allowed'):O&&(z(e)?console.info('COOKIES: Cookie "'+encodeURIComponent(e)+'" is NOT a recognized cookie'):console.info('COOKIES: Cookie "'+encodeURIComponent(e)+'" is NOT allowed')),O&&console.info("COOKIES: cookie control is disabled, allowing all cookies")}("client_id");const i=e.feature;return i&&"admin"===i?(console.info("admin page: skipping Tracker record."),!1):(this.queue.push({timestamp:Date.now()/1e3,event:Object.assign({page_url:D},e)}),this.timeout||(this.timeout=setTimeout((()=>this.send()),this.sendDelay)),!0)}send(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null);const e=this.queue;if(0===e.length)return void console.info("no events to send");if(!this.enabled)return console.info("Tracker disabled; not sending events:",e),void(e.length=0);console.info("sending "+e.length+" tracking events");const i=e.map((e=>{let{timestamp:i,event:t}=e;const a=t.eventType,r=t;return delete r.eventType,{type:a,timestamp:i,properties:r}})),t=JSON.stringify({send_time:Date.now()/1e3,events:i});navigator.sendBeacon(this.recordURL,t)?e.length=0:console.warn("failed to queue sendBeacon for events",e)}}let T;class U{constructor(e,i){__publicField(this,"tracker"),__publicField(this,"intersectionObserver"),__publicField(this,"elemProps",new Map),this.tracker=e,"IntersectionObserver"in window?this.intersectionObserver=new IntersectionObserver(this.observeIntersections.bind(this),i):console.warn("IntersectionObserver not available")}static track(e,i){this.defaultInstance.track(e,i)}static get defaultInstance(){return T||(T=new U(R.defaultInstance,{threshold:.25})),T}observeIntersections(e){var i;for(const t of e){if(!t.isIntersecting)return;const e=t.target,a=this.elemProps.get(e);a?(this.tracker.record(_objectSpread({eventType:"scroll"},a)),this.elemProps.delete(e),null==(i=this.intersectionObserver)||i.unobserve(e)):console.warn("no scroll props specified for target",e)}}track(e,i){this.intersectionObserver&&(this.elemProps.set(e,i),this.intersectionObserver.observe(e))}}class L extends R{record(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"==typeof e?super.record(e):super.record(Object.assign({eventType:e},i))}}globalThis.BCTracker=function(){if(!document.currentScript)throw new Error("This script cannot be loaded as an ESM module");return function(){var e,a;if(null==(e=globalThis.BCTracker)?void 0:e.recordURL)return globalThis.BCTracker;if(!(null==(a=document.currentScript)?void 0:a.dataset.recordUrl))throw new Error("Legacy BCTracker must specify recordUrl in a script tag data attribute");const r=JSON.parse(document.currentScript.dataset.recordUrl),s=1e3*JSON.parse(document.currentScript.dataset.sendDelay||"5"),o=JSON.parse(document.currentScript.dataset.enabled||"false"),l=new L(r,s,o),n=globalThis.BCTracker,c=(null==n?void 0:n.preloadQueue)||[],h=(null==n?void 0:n.prePageViewCallbacks)||[];i(l),t(l);for(const e of c)Array.isArray(e)?l.record(e[0],e[1]):l.record(e);for(const e of h)e();return l}()}(),globalThis.ScrollDepthTracker=U}();

import{e}from"./chunk-2DNXUWM5.js";var i={ajaxp_:e,csrfUrl_:window.location.protocol+"//"+window.location.host+"/magazine/ajax/csrf",csrfToken_:"",setCSRFHost(n){this.csrfUrl_=n+"/magazine/ajax/csrf"},getCSRFToken(){let n=window.ui.csrfToken;return typeof n<"u"&&n&&(typeof n.local<"u"&&n.local||new Date(n.expires)>=new Date)?n.value:""},async postJSON(n,o,t={}){return this.csrfToken_=this.getCSRFToken(),this.csrfToken_?e.postJSON(n,o,Object.assign(t,{"X-CSRF-TOKEN":this.csrfToken_})):e.getJSON(this.csrfUrl_).then(s=>(this.csrfToken_=s.value,e.postJSON(n,o,Object.assign(t,{"X-CSRF-TOKEN":this.csrfToken_}))))}};export{i as a};
//# sourceMappingURL=chunk-SFD2YNKB.js.map

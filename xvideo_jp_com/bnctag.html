<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bnctag.html</title>
</head>
<body>

<script>
"use strict";(()=>{var at=Object.defineProperty,ht=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var N=(o,t,e)=>t in o?at(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,Z=(o,t)=>{for(var e in t||(t={}))lt.call(t,e)&&N(o,e,t[e]);if(H)for(var e of H(t))ut.call(t,e)&&N(o,e,t[e]);return o},Y=(o,t)=>ht(o,dt(t));var h=(o,t,e)=>(N(o,typeof t!="symbol"?t+"":t,e),e),q=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var n=(o,t,e)=>(q(o,t,"read from private field"),e?e.call(o):t.get(o)),s=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},l=(o,t,e,r)=>(q(o,t,"write to private field"),r?r.call(o,e):t.set(o,e),e);var d=(o,t,e)=>(q(o,t,"access private method"),e);var A,J,y=class y{static toString(t){let e=t<0,r=[];for(e||(t=-t);t<=-this.radix;)r.unshift(this.digits[-parseInt(t%this.radix)]),t=t/this.radix;r.unshift(this.digits[-parseInt(t)]),e&&r.unshift("-");let i=r.join("");return i||"0"}static toLong(t){if(!t||t.length==0)return 0;let e=d(this,A,J).call(this),r=0,i=t[0]=="-";if(!(a=>{for(let p=i?1:0,x=a.length;p<x;p++)if(e[a[p]]==null||e[a[p]]==null)return!1;return!0})(t))return 0;for(let a=i?1:0,p=t.length;a<p;a++){if(t[a]<"0"||t[a]>"z"){if(r>0)break;continue}r*=this.radix,r+=e[t[a]]}return parseInt(i?-r:r)}};A=new WeakSet,J=function(){let t=[];for(let e in Object.keys(this.digits))t[this.digits[e]]=parseInt(e);return t},s(y,A),h(y,"digits","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),h(y,"radix",y.digits.length);var w=y;var D,v,Q,M,X,U=class{constructor(t){s(this,v);s(this,M);s(this,D,void 0);l(this,D,String(t))}createUid(){let t=w.toString(d(this,v,Q).call(this,0,2e5)).padStart(3,0);return"".concat(d(this,M,X).call(this,n(this,D)),"-").concat(t).concat(w.toString(Date.now()))}};D=new WeakMap,v=new WeakSet,Q=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)},M=new WeakSet,X=function(t){let e=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);e=(e<<5)-e+i,e&=e}return new Uint16Array([e])[0].toString(36)};var k,P=class{constructor(){h(this,"Key",Object.freeze({PFPUID:"__bnc_pfpuid__"}));s(this,k,60*60*24*7)}get(t){let e=document.cookie;if(!e)return null;let r=e.split(";");for(let i of r)if(i.trim().startsWith(t+"="))return decodeURIComponent(i.split("=")[1]);return null}set(t,e,r){let i=t+"="+encodeURIComponent(e)+"; max-age="+(r==null?n(this,k):r)+"; path=/";document.cookie=i}};k=new WeakMap;function tt(o,t,e={}){let r=new AbortController,i=setTimeout(()=>r.abort(),t);return fetch(o,Y(Z({},e),{signal:r.signal})).then(c=>{if(clearTimeout(i),c.ok)return c;throw new Error("Invalid Response: ".concat(c.status))}).catch(c=>{throw c instanceof DOMException&&c.name==="AbortError"?new Error("Fetch timeout"):c})}var C,_,S=class{constructor(){s(this,C,"https://bid.ssp.bance.jp/ssp-bid/bid/bnc-bid");s(this,_,5e3)}getAd(t){let e={mode:"cors",credentials:"include",headers:{"Content-Type":"text/plain"}},r=Object.fromEntries(Object.entries(t).filter(([c,a])=>a!==null)),i=n(this,C)+"?"+new URLSearchParams(r);return tt(i,n(this,_),e)}};C=new WeakMap,_=new WeakMap;function et(o){let t=o.document,e=t.location.href||"";var r=t.referrer||"";if(o.top===o.self)return e;try{e=o.top.location.href,r=o.top.document.referrer}catch(i){try{o.frameElement&&!o.frameElement.src?r="":r&&(e=r)}catch(c){e=r||""}}return e}var ft=o=>new Promise(t=>setTimeout(t,o));function V(o,t,e){return new Promise((r,i)=>o().then(r).catch(c=>e>0?ft(t).then(()=>V(o,t,e-1)).then(r).catch(i):i(c)))}function rt(o){let t=document.createElement("tmp");t.innerHTML=o;let e=Array.from(t.querySelectorAll("script"));return e.length>0&&e.forEach(r=>{let i=document.createElement("script");Array.from(r.attributes).forEach(c=>i.setAttribute(c.name,c.value)),i.appendChild(document.createTextNode(r.innerHTML)),r.parentNode.replaceChild(i,r)}),Array.from(t.childNodes)}var mt=o=>new Promise(t=>setTimeout(t,o)),m,g,f,T,R,ot,K,it,L,nt,$,st,O=class{constructor(t,e,r){s(this,R);s(this,K);s(this,L);s(this,$);h(this,"AdType",Object.freeze({BANNER:1,TAG:2,VIDEO:99}));s(this,m,void 0);s(this,g,void 0);s(this,f,void 0);s(this,T,void 0);l(this,m,t),l(this,f,r),l(this,g,e+d(this,K,it).call(this));let i=n(this,m).getElementById(e);i.id=n(this,g)}initializeZone(){let t=n(this,m).getElementById(n(this,g)),e=n(this,f).zone,r=n(this,g)+"_iframe",i=(e.p||"")+d(this,R,ot).call(this,r,e)+(e.a||"")+(n(this,f).cs||"");rt(i).forEach(c=>t.appendChild(c)),l(this,T,n(this,m).getElementById(r))}async applyAd(){return V(d(this,L,nt).bind(this),0,n(this,f).ads.length-1||0)}};m=new WeakMap,g=new WeakMap,f=new WeakMap,T=new WeakMap,R=new WeakSet,ot=function(t,e){return'<iframe id="'.concat(t,'" width="').concat(e.w,'" height="').concat(e.h,'" scrolling="no" frameborder="0" marginwidth="0" marginheight="0" style="overflow: hidden; border: 0; margin: 0 auto; width: ').concat(e.w,"; height: ").concat(e.h,';"></iframe>')},K=new WeakSet,it=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})},L=new WeakSet,nt=async function(){let t=n(this,T),e=n(this,f).ads.shift();if(e!=null){switch(e.type){case this.AdType.BANNER:case this.AdType.TAG:let r=t.contentDocument;r.open(),r.write("<html><body>".concat(e.tag,"</body></html>")),r.close();break;case this.AdType.VIDEO:t.srcdoc='<script async src="'.concat(e.pjs,'"><\/script>'),t.onload=()=>{let i=t.contentWindow;i.bncvp=i.bncvp||{cmd:[]},i.bncvp.cmd.push(function(){i.bncvp.publish(e)})};break;default:break}return mt(2e3).then(()=>{if(!d(this,$,st).call(this,t))throw new Error("The deployment of the ad tag could not be verified.")})}},$=new WeakSet,st=function(t){return t.contentDocument.querySelector("A, IFRAME")!==null};var j,z,B,b=class b{constructor(){s(this,j,"https://dmp.im-apps.net/sdk/im-uid.js");s(this,z,1010549);s(this,B,1e3)}loadScript(t){if(b.scriptLoaded){t(null);return}let e=document.createElement("script");e.async=!0,e.src=n(this,j),e.onload=()=>{b.scriptLoaded=!0,t(null)},e.onerror=()=>t(new Error("Failed to load imuid sdk script")),document.head.appendChild(e)}getImUid(t){this.loadScript(e=>{if(e){t(e,null);return}window.IMUIDRequest=window.IMUIDRequest||[],window.IMUIDRequest.push({customerId:n(this,z),callback:r=>{r.uid?t(null,r.uid):t(null,"")},callbackTimeout:n(this,B)})})}};j=new WeakMap,z=new WeakMap,B=new WeakMap,h(b,"scriptLoaded",!1);var F=b;var I,u,W,ct,E=class{constructor(){s(this,W);h(this,"ConfigKey",Object.freeze({PID:"pid"}));s(this,I,void 0);s(this,u,void 0);h(this,"cmd");this.cmd=[],this.cmd.push=t=>t(),l(this,u,new P)}config(t){l(this,I,t),d(this,W,ct).call(this)}publish(t,e){let r=globalThis,i=r.document;var c={pid:n(this,I)[this.ConfigKey.PID],pfpuid:n(this,u).get(n(this,u).Key.PFPUID),zid:t,loc:et(r),imuid:null,charset:i.characterSet};new F().getImUid((a,p)=>{a&&(p=""),c.imuid=p,new S().getAd(c).then(x=>x.json()).then(x=>{let G=new O(i,e,x);G.initializeZone(),G.applyAd().catch(gt=>{})}).catch(x=>{})})}};I=new WeakMap,u=new WeakMap,W=new WeakSet,ct=function(){if(!n(this,I)[this.ConfigKey.PID])return;n(this,u).get(n(this,u).Key.PFPUID)||n(this,u).set(n(this,u).Key.PFPUID,new U(n(this,I)[this.ConfigKey.PID]).createUid())};(async()=>{if(0)try{}catch(t){}let o=globalThis.bnctag?globalThis.bnctag.cmd:[];globalThis.bnctag=new E;for(let t of o)t()})();})();

</script>

</body>
</html>

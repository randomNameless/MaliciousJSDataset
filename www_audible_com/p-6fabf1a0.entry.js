import{c as t,r as s,h as i,H as e}from"./p-8d3a58ee.js";import{a as n}from"./p-951c1b48.js";import{g as o,s as a,t as r}from"./p-592a6919.js";import{C as c}from"./p-68bd447c.js";const h={bauhaus:{add:"add",attention:"exclamation-filled","caret-left":"caret-left","caret-right":"caret-right",caution:"warning",check:"done",close:"cancel",dolby:"dolby",download:"download",downloaded:"download-complete",exchange:"smart-sensor-motion",info:"information",pause:"pause",play:"play",success:"done-inline"}},l=new Map,d=new DOMParser,p=t=>{if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(let s=0;s<t.attributes.length;s++){const i=t.attributes[s].name;if("string"==typeof i&&0===i.toLowerCase().indexOf("on"))return!1}for(let s=0;s<t.childNodes.length;s++)if(!p(t.childNodes[s]))return!1}return!0};class u{constructor(s,i,e){this.host=s,this.element=i,this.hasConnected=!1,this.host.addController(this);const n=o(e.context);if(!n)throw new Error("Unable to initialize ContextConsumer: invalid context");this._value=n.defaultValue,this.callback=e.callback,this.listener=new a({contextName:n.id,element:t(this.element),attempts:1,onChange:t=>{"Connected"===this.status&&this.updateValue(t)},onStatus:t=>{"Connected"===this.status&&"Connected"!==t&&this.updateValue(n.defaultValue),this.status=t}}),this.status=this.listener.status}hostConnected(){this.hasConnected?this.listener.start():this.hasConnected=!0}hostDisconnected(){this.listener.stop()}get value(){return this._value}updateValue(t){var s;this._value!==t&&(this._value=t,null===(s=this.callback)||void 0===s||s.call(this.element,t),this.host.requestUpdate())}}const m=class{constructor(t){s(this,t),this.controllerHost=new c(this),this.themeConsumer=new u(this.controllerHost,this,{context:r,callback(){this.loadIcon()}}),this.name=void 0,this.size=void 0,this.svg=void 0}connectedCallback(){this.controllerHost.hostConnected()}componentWillLoad(){this.controllerHost.hostConnected(),this.loadIcon()}componentWillUpdate(){this.controllerHost.hostUpdate()}componentDidUpdate(){this.controllerHost.hostUpdated()}disconnectedCallback(){this.controllerHost.hostDisconnected()}loadIcon(){var t;const s=this.name;(async(t,s)=>{if(!t)return Promise.resolve(void 0);const i=((t,s)=>s&&s in h&&t in h[s]?`./${s}/assets/svg/${h[s][t]}.svg`:`./assets/svg/${t}.svg`)(t,s);if(l.has(i))return l.get(i);const e=fetch(n(i)).then((async t=>t.ok?(t=>{const s=d.parseFromString(t,"image/svg+xml").documentElement;if(s&&"svg"===s.nodeName.toLowerCase())return p(s)?t:void 0})(await t.text()):void 0)).catch((()=>{}));return l.set(i,e),e})(this.name,null===(t=this.themeConsumer.value)||void 0===t?void 0:t.system).then((t=>{s===this.name&&(this.svg=t)})).catch((()=>this.svg=void 0))}render(){return i(e,null,i("div",{innerHTML:this.svg}))}static get assetsDirs(){return["assets/svg"]}get element(){return t(this)}static get watchers(){return{name:["loadIcon"]}}};m.style=':host{display:flex;color:var(--adbl-primary-fill)}div{display:flex;width:100%;align-items:center;justify-content:center}svg{height:var(--icon-size, 24px);width:var(--icon-size, 24px)}:host([size="sm"]){--icon-size:16px}:host([size="md"]){--icon-size:24px}:host([size="lg"]){--icon-size:32px}:host([size="xl"]){--icon-size:40px}:host([name="logo-audible-original"]){--icon-size:none}path{fill:currentColor}';export{m as adbl_icon}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sentry.min.927fd913c234.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3326],{38341:(Re,At,se)=>{se.d(At,{Z:()=>Fe,e:()=>ot});function Fe(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ot(){return"npm"}},36284:(Re,At,se)=>{se.d(At,{wD:()=>ot});var Fe=se(38341);Re=se.hmd(Re);function ot(){return!(0,Fe.Z)()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function at(Be,C){return Be.require(C)}function ct(Be){let C;try{C=at(Re,Be)}catch{}try{const{cwd:ut}=at(Re,"process");C=at(Re,`${ut()}/node_modules/${Be}`)}catch{}return C}},95698:(Re,At,se)=>{var Fe={};se.r(Fe),se.d(Fe,{FunctionToString:()=>Yo,InboundFilters:()=>jo,LinkedErrors:()=>pm});var ot={};se.r(ot),se.d(ot,{Breadcrumbs:()=>Ea,Dedupe:()=>Ia,GlobalHandlers:()=>Oa,HttpContext:()=>Fa,LinkedErrors:()=>Wa,TryCatch:()=>za});var at={};se.r(at),se.d(at,{Breadcrumbs:()=>Ea,BrowserClient:()=>ha,BrowserProfilingIntegration:()=>Cv,BrowserTracing:()=>jE,Dedupe:()=>Ia,Feedback:()=>$n,FunctionToString:()=>Yo,GlobalHandlers:()=>Oa,HttpContext:()=>Fa,Hub:()=>rr,InboundFilters:()=>jo,Integrations:()=>xv,LinkedErrors:()=>Wa,ModuleMetadata:()=>Sm,Replay:()=>Hn,ReplayCanvas:()=>db,SDK_VERSION:()=>nr,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>bn,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>Et,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>bt,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>ge,Scope:()=>xe,TryCatch:()=>za,WINDOW:()=>R,addBreadcrumb:()=>We,addEventProcessor:()=>ua,addGlobalEventProcessor:()=>ho,addIntegration:()=>Vf,addTracingExtensions:()=>Ks,breadcrumbsIntegration:()=>Hs,browserApiErrorsIntegration:()=>zs,browserProfilingIntegration:()=>Md,browserTracingIntegration:()=>VE,captureConsoleIntegration:()=>kl,captureEvent:()=>mn,captureException:()=>hn,captureMessage:()=>ir,captureSession:()=>vs,captureUserFeedback:()=>cm,chromeStackLineParser:()=>qa,close:()=>Wf,configureScope:()=>Of,contextLinesIntegration:()=>Cl,continueTrace:()=>Rm,createTransport:()=>Gs,createUserFeedbackEnvelope:()=>pa,debugIntegration:()=>Al,dedupeIntegration:()=>Ol,defaultIntegrations:()=>sc,defaultRequestInstrumentationOptions:()=>Wn,defaultStackLineParsers:()=>Xa,defaultStackParser:()=>Ka,endSession:()=>Es,eventFromException:()=>la,eventFromMessage:()=>da,exceptionFromError:()=>xs,extraErrorDataIntegration:()=>Bl,extractTraceparentData:()=>Em,feedbackIntegration:()=>Wb,flush:()=>Uf,forceLoad:()=>sm,functionToStringIntegration:()=>Is,geckoStackLineParser:()=>Ya,getActiveSpan:()=>En,getActiveTransaction:()=>Oe,getClient:()=>x,getCurrentHub:()=>W,getCurrentScope:()=>Q,getDefaultIntegrations:()=>ic,getHubFromCarrier:()=>pn,getReplay:()=>ZS,getSpanStatusFromHttpCode:()=>Xs,globalHandlersIntegration:()=>$s,httpClientIntegration:()=>$l,httpContextIntegration:()=>Us,inboundFiltersIntegration:()=>Ts,init:()=>oc,instrumentOutgoingRequests:()=>Wi,isInitialized:()=>zf,lastEventId:()=>jf,linkedErrorsIntegration:()=>js,makeBrowserOfflineTransport:()=>av,makeFetchTransport:()=>nc,makeMain:()=>ms,makeMultiplexedTransport:()=>Bm,makeXHRTransport:()=>rc,metrics:()=>Jm,moduleMetadataIntegration:()=>pc,onLoad:()=>im,onProfilingStartRouteTransaction:()=>Rv,opera10StackLineParser:()=>Yh,opera11StackLineParser:()=>Xh,parameterize:()=>Zm,replayCanvasIntegration:()=>pl,replayIntegration:()=>KS,reportingObserverIntegration:()=>Yl,rewriteFramesIntegration:()=>Ql,sendFeedback:()=>Sl,sessionTimingIntegration:()=>td,setContext:()=>Po,setCurrentClient:()=>Vo,setExtra:()=>Df,setExtras:()=>Nf,setHttpStatus:()=>_r,setMeasurement:()=>Ac,setTag:()=>Pf,setTags:()=>Lf,setUser:()=>Ff,showReportDialog:()=>rm,spanStatusfromHttpCode:()=>Mm,startBrowserTracingNavigationSpan:()=>md,startBrowserTracingPageLoadSpan:()=>hd,startInactiveSpan:()=>Vs,startSession:()=>bs,startSpan:()=>wm,startSpanManual:()=>km,startTransaction:()=>$f,trace:()=>Im,winjsStackLineParser:()=>Va,withActiveSpan:()=>Hf,withIsolationScope:()=>Bf,withScope:()=>Ke,wrap:()=>om});const ct=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Be(e){return e&&e.Math==Math?e:void 0}const C=typeof globalThis=="object"&&Be(globalThis)||typeof window=="object"&&Be(window)||typeof self=="object"&&Be(self)||typeof se.g=="object"&&Be(se.g)||function(){return this}()||{};function ut(){return C}function Zi(e,t,n){const r=n||C,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const Fd="Sentry Logger ",Gn=["debug","info","warn","error","log","assert","trace"],qn={};function qe(e){if(!("console"in C))return e();const t=C.console,n={},r=Object.keys(qn);r.forEach(s=>{const i=qn[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Bd(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return ct?Gn.forEach(n=>{t[n]=(...r)=>{e&&qe(()=>{C.console[n](`${Fd}[${n}]:`,...r)})}}):Gn.forEach(n=>{t[n]=()=>{}}),t}const h=Bd(),Qi=Object.prototype.toString;function Mt(e){switch(Qi.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return He(e,Error)}}function Ot(e,t){return Qi.call(e)===`[object ${t}]`}function es(e){return Ot(e,"ErrorEvent")}function eo(e){return Ot(e,"DOMError")}function Hd(e){return Ot(e,"DOMException")}function Ce(e){return Ot(e,"String")}function ts(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ns(e){return e===null||ts(e)||typeof e!="object"&&typeof e!="function"}function lt(e){return Ot(e,"Object")}function Yn(e){return typeof Event<"u"&&He(e,Event)}function $d(e){return typeof Element<"u"&&He(e,Element)}function Ud(e){return Ot(e,"RegExp")}function un(e){return!!(e&&e.then&&typeof e.then=="function")}function Wd(e){return lt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function to(e){return typeof e=="number"&&e!==e}function He(e,t){try{return e instanceof t}catch{return!1}}function no(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Nt=ut(),jd=80;function Ye(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||jd;for(;n&&i++<r&&(u=zd(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function zd(e,t){const n=e,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(Nt.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Ce(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function ro(){try{return Nt.document.location.href}catch{return""}}function so(e){return Nt.document&&Nt.document.querySelector?Nt.document.querySelector(e):null}function io(e){if(!Nt.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}function Dt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function rs(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let i=Math.min(s+140,r);return i>r-5&&(i=r),i===r&&(s=Math.max(i-140,0)),n=n.slice(s,i),s>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Vn(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{no(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Gd(e,t,n=!1){return Ce(e)?Ud(t)?t.test(e):Ce(t)?n?e===t:e.includes(t):!1:!1}function Lt(e,t=[],n=!1){return t.some(r=>Gd(e,r,n))}function ce(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&oo(s,r),e[t]=s}function Ve(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{ct&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function oo(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ve(e,"__sentry_original__",t)}catch{}}function ss(e){return e.__sentry_original__}function qd(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function ao(e){if(Mt(e))return{message:e.message,name:e.name,stack:e.stack,...uo(e)};if(Yn(e)){const t={type:e.type,target:co(e.target),currentTarget:co(e.currentTarget),...uo(e)};return typeof CustomEvent<"u"&&He(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function co(e){try{return $d(e)?Ye(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function uo(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Yd(e,t=40){const n=Object.keys(ao(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Dt(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:Dt(s,t)}return""}function ue(e){return is(e,new Map)}function is(e,t){if(Vd(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=is(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(is(s,t))}),r}return e}function Vd(e){if(!lt(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}function Lv(e){let t;switch(!0){case e==null:t=new String(e);break;case(typeof e=="symbol"||typeof e=="bigint"):t=Object(e);break;case isPrimitive(e):t=new e.constructor(e);break;default:t=e;break}return t}function U(){const e=C,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function lo(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Xe(e){const{message:t,event_id:n}=e;if(t)return t;const r=lo(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function os(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function dt(e,t){const n=lo(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}const Xd=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function Pv(e){const t=e.match(Xd)||[],n=parseInt(t[1],10),r=parseInt(t[2],10),s=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(s)?void 0:s,prerelease:t[4]}}function Kd(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>rs(i,0)),t.context_line=rs(e[Math.min(r-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>rs(i,0))}function fo(e){if(e&&e.__sentry_captured__)return!0;try{Ve(e,"__sentry_captured__",!0)}catch{}return!1}function po(e){return Array.isArray(e)?e:[e]}const v=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var $e;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})($e||($e={}));function Pt(e){return new me(t=>{t(e)})}function as(e){return new me((t,n)=>{n(e)})}class me{constructor(t){me.prototype.__init.call(this),me.prototype.__init2.call(this),me.prototype.__init3.call(this),me.prototype.__init4.call(this),this._state=$e.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new me((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new me((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult($e.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult($e.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===$e.PENDING){if(un(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===$e.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===$e.RESOLVED&&n[1](this._value),this._state===$e.REJECTED&&n[2](this._value),n[0]=!0)})}}}function cs(){return Zi("globalEventProcessors",()=>[])}function ho(e){cs().push(e)}function Xn(e,t,n,r=0){return new me((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);v&&o.id&&a===null&&h.log(`Event processor "${o.id}" dropped event`),un(a)?a.then(c=>Xn(e,c,n,r+1).then(s)).then(null,i):Xn(e,a,n,r+1).then(s).then(null,i)}})}const ln="production",mo=1e3;function dn(){return Date.now()/mo}function Jd(){const{performance:e}=C;if(!e||!e.now)return dn;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/mo}const ft=Jd(),Fv=null;let Kn;const le=(()=>{const{performance:e}=C;if(!e||!e.now){Kn="none";return}const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?(Kn="timeOrigin",e.timeOrigin):(Kn="navigationStart",o):(Kn="dateNow",r)})();function go(e){const t=ft(),n={sid:U(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Zd(n)};return e&&pt(n,e),n}function pt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ft(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:U()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function _o(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),pt(e,n)}function Zd(e){return ue({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Jn(e){return e.transaction}const us="baggage",yo="sentry-",Qd=/^sentry-/,ef=8192;function So(e){if(!Ce(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=Eo(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!e)return;t=Eo(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Qd)){const o=s.slice(yo.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function bo(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${yo}${r}`]=s),n),{});return tf(t)}function Eo(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function tf(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>ef?(ct&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const nf=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ls(e){if(!e)return;const t=e.match(nf);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function rf(e,t){const n=ls(e),r=So(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||U(),parentSpanId:i||U().substring(16),spanId:U().substring(16),sampled:o,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||U(),spanId:U().substring(16)}}}function vo(e,t){const n=ls(e),r=So(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||U(),parentSpanId:i||U().substring(16),spanId:U().substring(16),sampled:o,dsc:r||{}}:{traceId:s||U(),spanId:U().substring(16)}}function ds(e=U(),t=U().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const sf=0,To=1;function fs(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=j(e);return ue({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:c})}function Zn(e){const{traceId:t,spanId:n}=e.spanContext(),r=ps(e);return ds(t,n,r)}function Qn(e){return typeof e=="number"?Io(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Io(e.getTime()):ft()}function Io(e){return e>9999999999?e/1e3:e}function j(e){return of(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function of(e){return typeof e.getSpanJSON=="function"}function ps(e){const{traceFlags:t}=e.spanContext();return!!(t&To)}function er(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=ue({environment:r.environment||ln,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Ft(e){const t=x();if(!t)return{};const n=er(j(e).trace_id||"",t,Q()),r=Jn(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=j(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(ps(r)),t.emit&&t.emit("createDsc",n),n}function wo(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;af(e,t),r&&lf(e,r),df(e,n),cf(e,s),uf(e,i)}function ko(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:m}=t;fn(e,"extra",n),fn(e,"tags",r),fn(e,"user",s),fn(e,"contexts",i),fn(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function fn(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function af(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,c=ue(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=ue(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const l=ue(s);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=ue(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function cf(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function uf(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function lf(e,t){e.contexts={trace:fs(t),...e.contexts};const n=Jn(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ft(t),...e.sdkProcessingMetadata};const r=j(n).description;r&&(e.tags={transaction:r,...e.tags})}}function df(e,t){e.fingerprint=e.fingerprint?po(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const ff=100;let tr;class xe{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ro()}static clone(t){return t?t.clone():new xe}clone(){const t=new xe;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&pt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof xe){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(lt(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ro(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:ff;if(r<=0)return this;const s={timestamp:dn(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:p}}applyToEvent(t,n={},r=[]){wo(t,this.getScopeData());const s=[...r,...cs(),...this._eventProcessors];return Xn(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:U();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:U();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:U();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function pf(){return tr||(tr=new xe),tr}function Bv(e){tr=e}function Ro(){return{traceId:U(),spanId:U().substring(16)}}const nr="7.112.2",hs=parseFloat(nr),hf=100;class rr{constructor(t,n,r,s=hs){this._version=s;let i;n?i=n:(i=new xe,i.setClient(t));let o;r?o=r:(o=new xe,o.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(s){throw this.popScope(),s}return un(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:U(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...n,event_id:r}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:U(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:U();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=hf}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:dn(),...t},u=i?qe(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=ms(this);try{t(this)}finally{ms(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return v&&h.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return v&&!r&&(this.getClient()?h.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):h.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&_o(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=ln}=r&&r.getOptions()||{},{userAgent:o}=C.navigator||{},a=go({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&pt(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const s=ht().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);v&&h.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function ht(){return C.__SENTRY__=C.__SENTRY__||{extensions:{},hub:void 0},C}function ms(e){const t=ht(),n=pn(t);return gs(t,e),n}function W(){const e=ht();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Co(e)}function Ae(){return W().getIsolationScope()}function Co(e=ht()){return(!xo(e)||pn(e).isOlderThan(hs))&&gs(e,new rr),pn(e)}function Hv(e,t=Co()){if(!xo(e)||pn(e).isOlderThan(hs)){const n=t.getClient(),r=t.getScope(),s=t.getIsolationScope();gs(e,new rr(n,r.clone(),s.clone()))}}function $v(e){const t=ht();t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.acs=e}function sr(e,t={}){const n=ht();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function xo(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function pn(e){return Zi("hub",()=>new rr,e)}function gs(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function mf(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}const Ao=50,Mo=/\(error: (.*)\)/,Oo=/captureMessage|captureException/;function No(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=Mo.test(a)?a.replace(Mo,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of t){const l=u(c);if(l){s.push(l);break}}if(s.length>=Ao)break}}return _f(s)}}function gf(e){return Array.isArray(e)?No(...e):e}function _f(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Oo.test(t[t.length-1].function||"")&&(t.pop(),Oo.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Ao).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const _s="<anonymous>";function Ue(e){try{return!e||typeof e!="function"?_s:e.name||_s}catch{return _s}}function Uv(e){return[90,node(e)]}function be(e,t=100,n=1/0){try{return ys("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Do(e,t=3,n=100*1024){const r=be(e,t);return Ef(r)>n?Do(e,t-1,n):r}function ys(e,t,n=1/0,r=1/0,s=mf()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!to(t))return t;const a=yf(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return ys("",p,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const f=ao(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){l[p]="[MaxProperties ~]";break}const m=f[p];l[p]=ys(p,m,c-1,r,s),d++}return o(t),l}function yf(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof se.g<"u"&&t===se.g)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(no(t))return"[VueViewModel]";if(Wd(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ue(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Sf(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Sf(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function bf(e){return~-encodeURI(e).split(/%..|./).length}function Ef(e){return bf(JSON.stringify(e))}function Wv(e,t){const n=t.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let r=e;try{r=decodeURI(e)}catch{}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${n}/*`,"ig"),"app:///")}function Ss(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||U(),timestamp:t.timestamp||dn()},u=n.integrations||e.integrations.map(S=>S.name);vf(c,e),wf(c,u),t.type===void 0&&Tf(c,e.stackParser);const l=Rf(r,n.captureContext);n.mechanism&&dt(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],f=pf().getScopeData();if(i){const S=i.getScopeData();ko(f,S)}if(l){const S=l.getScopeData();ko(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),wo(c,f);const m=[...d,...cs(),...f.eventProcessors];return Xn(m,c,n).then(S=>(S&&If(S),typeof o=="number"&&o>0?kf(S,o,a):S))}function vf(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:ln),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Dt(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Dt(o.value,i));const a=e.request;a&&a.url&&(a.url=Dt(a.url,i))}const Lo=new WeakMap;function Tf(e,t){const n=C._sentryDebugIds;if(!n)return;let r;const s=Lo.get(t);s?r=s:(r=new Map,Lo.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function If(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function wf(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function kf(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:be(s.data,t,n)}}))},...e.user&&{user:be(e.user,t,n)},...e.contexts&&{contexts:be(e.contexts,t,n)},...e.extra&&{extra:be(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=be(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>{const i=j(s).data;return i&&(s.data=be(i,t,n)),s})),r}function Rf(e,t){if(!t)return e;const n=e?e.clone():new xe;return n.update(t),n}function Cf(e){if(e)return xf(e)?{captureContext:e}:Mf(e)?{captureContext:e}:e}function xf(e){return e instanceof xe||typeof e=="function"}const Af=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Mf(e){return Object.keys(e).some(t=>Af.includes(t))}function hn(e,t){return W().captureException(e,Cf(t))}function ir(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return W().captureMessage(e,n,r)}function mn(e,t){return W().captureEvent(e,t)}function Of(e){W().configureScope(e)}function We(e,t){W().addBreadcrumb(e,t)}function Po(e,t){W().setContext(e,t)}function Nf(e){W().setExtras(e)}function Df(e,t){W().setExtra(e,t)}function Lf(e){W().setTags(e)}function Pf(e,t){W().setTag(e,t)}function Ff(e){W().setUser(e)}function Ke(...e){const t=W();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function Bf(e){return sr(()=>e(Ae()))}function Hf(e,t){return Ke(n=>(n.setSpan(e),t(n)))}function $f(e,t){return W().startTransaction({...e},t)}function Fo(e,t){const n=Q(),r=x();if(!r)DEBUG_BUILD&&logger.warn("Cannot capture check-in. No client defined.");else if(!r.captureCheckIn)DEBUG_BUILD&&logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return r.captureCheckIn(e,t,n);return uuid4()}function jv(e,t,n){const r=Fo({monitorSlug:e,status:"in_progress"},n),s=timestampInSeconds();function i(a){Fo({monitorSlug:e,status:a,checkInId:r,duration:timestampInSeconds()-s})}let o;try{o=t()}catch(a){throw i("error"),a}return isThenable(o)?Promise.resolve(o).then(()=>{i("ok")},()=>{i("error")}):i("ok"),o}async function Uf(e){const t=x();return t?t.flush(e):(v&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Wf(e){const t=x();return t?t.close(e):(v&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function jf(){return W().lastEventId()}function x(){return W().getClient()}function zf(){return!!x()}function Q(){return W().getScope()}function bs(e){const t=x(),n=Ae(),r=Q(),{release:s,environment:i=ln}=t&&t.getOptions()||{},{userAgent:o}=C.navigator||{},a=go({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&pt(c,{status:"exited"}),Es(),n.setSession(a),r.setSession(a),a}function Es(){const e=Ae(),t=Q(),n=t.getSession()||e.getSession();n&&_o(n),Bo(),e.setSession(),t.setSession()}function Bo(){const e=Ae(),t=Q(),n=x(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function vs(e=!1){if(e){Es();return}Bo()}const Ho=[];function Gf(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function qf(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=po(n(t)):r=t;const s=Gf(r),i=Xf(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function Yf(e,t){const n={};return t.forEach(r=>{r&&Uo(e,r,n)}),n}function $o(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Uo(e,t,n){if(n[t.name]){v&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ho.indexOf(t.name)===-1&&(t.setupOnce(ho,W),Ho.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}v&&h.log(`Integration installed: ${t.name}`)}function Vf(e){const t=x();if(!t||!t.addIntegration){v&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Xf(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function J(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function zv(e){return e}const Kf=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Jf=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Wo="InboundFilters",Ts=(e={})=>({name:Wo,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=Zf(e,s);return Qf(t,i)?null:t}}),jo=J(Wo,Ts);function Zf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Kf],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Jf],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Qf(e,t){return t.ignoreInternal&&ip(e)?(v&&h.warn(`Event dropped due to being internal Sentry Error.
Event: ${Xe(e)}`),!0):ep(e,t.ignoreErrors)?(v&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Xe(e)}`),!0):tp(e,t.ignoreTransactions)?(v&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Xe(e)}`),!0):np(e,t.denyUrls)?(v&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Xe(e)}.
Url: ${or(e)}`),!0):rp(e,t.allowUrls)?!1:(v&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Xe(e)}.
Url: ${or(e)}`),!0)}function ep(e,t){return e.type||!t||!t.length?!1:sp(e).some(n=>Lt(n,t))}function tp(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Lt(n,t):!1}function np(e,t){if(!t||!t.length)return!1;const n=or(e);return n?Lt(n,t):!1}function rp(e,t){if(!t||!t.length)return!0;const n=or(e);return n?Lt(n,t):!0}function sp(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),v&&t.length===0&&h.error(`Could not extract message for event ${Xe(e)}`),t}function ip(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function op(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function or(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?op(t):null}catch{return v&&h.error(`Cannot extract url for event ${Xe(e)}`),null}}let zo;const Go="FunctionToString",qo=new WeakMap,Is=()=>({name:Go,setupOnce(){zo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ss(this),n=qo.has(x())&&t!==void 0?t:this;return zo.apply(n,e)}}catch{}},setup(e){qo.set(e,!0)}}),Yo=J(Go,Is);function ap(e,t){t.debug===!0&&(v?h.enable():qe(()=>{})),Q().update(t.initialScope);const r=new e(t);Vo(r),cp(r)}function Vo(e){const n=W().getStackTop();n.client=e,n.scope.setClient(e)}function cp(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const up=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function lp(e){return e==="http"||e==="https"}function mt(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Xo(e){const t=up.exec(e);if(!t){qe(()=>{});return}const[n,r,s="",i,o="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Ko({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Ko(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function dp(e){if(!ct)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(h.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?lp(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Jo(e){const t=typeof e=="string"?Xo(e):Ko(e);if(!(!t||!dp(t)))return t}const fp="7";function Zo(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function pp(e){return`${Zo(e)}${e.projectId}/envelope/`}function hp(e,t){return qd({sentry_key:e.publicKey,sentry_version:fp,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Qo(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${pp(e)}?${hp(e,r)}`}function mp(e,t){const n=Jo(e);if(!n)return"";const r=`${Zo(n)}embed/error-page/`;let s=`dsn=${mt(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const ar=ut();function Yv(){try{return new ErrorEvent(""),!0}catch{return!1}}function Vv(){try{return new DOMError(""),!0}catch{return!1}}function Xv(){try{return new DOMException(""),!0}catch{return!1}}function ws(){if(!("fetch"in ar))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ks(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ea(){if(typeof EdgeRuntime=="string")return!0;if(!ws())return!1;if(ks(ar.fetch))return!0;let e=!1;const t=ar.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=ks(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){ct&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function gp(){return"ReportingObserver"in ar}function Kv(){if(!ws())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}const cr=ut();function _p(){const e=cr.chrome,t=e&&e.app&&e.app.runtime,n="history"in cr&&!!cr.history.pushState&&!!cr.history.replaceState;return!t&&n}const Bt={},ta={};function gt(e,t){Bt[e]=Bt[e]||[],Bt[e].push(t)}function Jv(){Object.keys(Bt).forEach(e=>{Bt[e]=void 0})}function _t(e,t){ta[e]||(t(),ta[e]=!0)}function Ee(e,t){const n=e&&Bt[e];if(n)for(const r of n)try{r(t)}catch(s){ct&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ue(r)}
Error:`,s)}}const gn=C;let ur;function _n(e){const t="history";gt(t,e),_t(t,yp)}function yp(){if(!_p())return;const e=gn.onpopstate;gn.onpopstate=function(...n){const r=gn.location.href,s=ur;if(ur=r,Ee("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=ur,o=String(s);ur=o,Ee("history",{from:i,to:o})}return n.apply(this,r)}}ce(gn.history,"pushState",t),ce(gn.history,"replaceState",t)}function Je(e,t=[]){return[e,t]}function Sp(e,t){const[n,r]=e;return[n,[...r,t]]}function Ht(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function bp(e,t){return Ht(e,(n,r)=>t.includes(r))}function Rs(e,t){return(t||new TextEncoder).encode(e)}function na(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[Rs(s,t),o]:s.push(typeof o=="string"?Rs(o,t):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(be(c))}i(u)}}return typeof s=="string"?s:Ep(s)}function Ep(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function vp(e,t,n){let r=typeof e=="string"?t.encode(e):e;function s(c){const u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(s(c)))}const o=i(),a=[];for(;r.length;){const c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?s(u):i()])}return[o,a]}function Tp(e,t){const n=typeof e.data=="string"?Rs(e.data,t):e.data;return[ue({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Ip={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ra(e){return Ip[e]}function Cs(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function sa(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:mt(r)},...s&&{trace:ue({...s})}}}class Me extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function wp(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function kp(e,t,n,r){const s=Cs(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:mt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Je(i,[o])}function ia(e,t,n,r){const s=Cs(n),i=e.type&&e.type!=="replay_event"?e.type:"event";wp(e,n&&n.sdk);const o=sa(e,s,r,t);return delete e.sdkProcessingMetadata,Je(o,[[{type:i},e]])}function Rp(e,t,n,r){const s=Object.entries(ue(r)).sort((i,o)=>i[0].localeCompare(o[0]));return`${e}${t}${n}${s}`}function Cp(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function xp(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Ap(e){return e.replace(/[^\w]+/gi,"_")}function Mp(e){return e.replace(/[^\w\-.]+/gi,"_")}function Op(e){return e.replace(/[^\w\-./]+/gi,"")}const Np=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Dp(e){for(const[t,n]of Np)if(e===t)return n;return e}function Lp(e){return[...e].reduce((t,n)=>t+Dp(n),"")}function Pp(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=Op(n);t[r]=Lp(String(e[n]))}return t}function Fp(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=mt(t));const i=Bp(e);return Je(s,[i])}function Bp(e){const t=xp(e);return[{type:"statsd",length:t.length},t]}const oa="Not capturing exception because it's already been captured.";class Hp{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Jo(t.dsn):v&&h.warn("No DSN provided, client will not send events."),this._dsn){const n=Qo(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(fo(t)){v&&h.log(oa);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=ts(t)?t:String(t),a=ns(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{i=c})),i}captureEvent(t,n,r){if(n&&n.originalException&&fo(n.originalException)){v&&h.log(oa);return}let s=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?v&&h.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),pt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Pt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return v&&h.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];Uo(this,t,this._integrations),n||$o(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=ia(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Sp(r,Tp(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=kp(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=`${t}:${n}`;v&&h.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}captureAggregateMetrics(t){v&&h.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Fp(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Yf(this,t),$o(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(pt(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new me(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=Ae()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),Ss(i,t,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:f,dsc:p}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};const m=p||er(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:m,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(v){const i=s;i.logLevel==="log"?h.log(i.message):h.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=ca(t),a=aa(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),as(new Me(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",l,t),new Me("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const _=Up(s,p,n);return $p(_,u)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",l,t),new Me(`${u} returned \`null\`, will not send event.`,"log");const m=r&&r.getSession();!o&&m&&this._updateSessionFromEvent(m,p);const _=p.transaction_info;if(o&&_&&p.transaction!==t.transaction){const S="custom";p.transaction_info={..._,source:S}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Me?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Me(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{v&&h.error("Error while sending event:",n)});v&&h.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function $p(e,t){const n=`${t} must return \`null\` or a valid event.`;if(un(e))return e.then(r=>{if(!lt(r)&&r!==null)throw new Me(n);return r},r=>{throw new Me(`${t} rejected with ${r}`)});if(!lt(e)&&e!==null)throw new Me(n);return e}function Up(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;return aa(t)&&r?r(t,n):ca(t)&&s?s(t,n):t}function aa(e){return e.type===void 0}function ca(e){return e.type==="transaction"}function ua(e){const t=x();!t||!t.addEventProcessor||t.addEventProcessor(e)}function Wp(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:nr})),version:nr}),e._metadata=s}var jp=se(38341);function zp(e,t,n){const r=[{type:"client_report"},{timestamp:n||dn(),discarded_events:e}];return Je(t?{dsn:t}:{},[r])}const P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function xs(e,t){const n=Ms(e,t),r={type:t&&t.name,value:Vp(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Gp(e,t,n,r){const s=x(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Yn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Xp(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Do(t,i)}};if(n){const a=Ms(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function As(e,t){return{exception:{values:[xs(e,t)]}}}function Ms(e,t){const n=t.stacktrace||t.stack||"",r=Yp(t);try{return e(n,r)}catch{}return[]}const qp=/Minified React error #\d+;/i;function Yp(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(qp.test(e.message))return 1}return 0}function Vp(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function la(e,t,n,r){const s=n&&n.syntheticException||void 0,i=Os(e,t,s,r);return dt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Pt(i)}function da(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=Ns(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Pt(o)}function Os(e,t,n,r,s){let i;if(es(t)&&t.error)return As(e,t.error);if(eo(t)||Hd(t)){const o=t;if("stack"in t)i=As(e,t);else{const a=o.name||(eo(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Ns(e,c,n,r),os(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Mt(t)?As(e,t):lt(t)||Yn(t)?(i=Gp(e,t,n,s),dt(i,{synthetic:!0}),i):(i=Ns(e,t,n,r),os(i,`${t}`,void 0),dt(i,{synthetic:!0}),i)}function Ns(e,t,n,r){const s={};if(r&&n){const i=Ms(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(ts(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function Xp(e,{isUnhandledRejection:t}){const n=Yd(e),r=t?"promise rejection":"exception";return es(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Yn(e)?`Event \`${Kp(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Kp(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}const R=C;let Ds=0;function fa(){return Ds>0}function Jp(){Ds++,setTimeout(()=>{Ds--})}function yt(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return s;if(ss(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(o=>yt(o,t));return e.apply(this,i)}catch(i){throw Jp(),Ke(o=>{o.addEventProcessor(a=>(t.mechanism&&(os(a,void 0,void 0),dt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),hn(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}oo(r,e),Ve(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function pa(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:mt(r)}},i=Zp(e);return Je(s,[i])}function Zp(e){return[{type:"user_report"},e]}class ha extends Hp{constructor(t){const n=R.SENTRY_SDK_SOURCE||(0,jp.e)();Wp(t,"browser",["browser"],n),super(t),t.sendClientReports&&R.document&&R.document.addEventListener("visibilitychange",()=>{R.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return la(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return da(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){P&&h.warn("SDK not enabled, will not capture user feedback.");return}const n=pa(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){P&&h.log("No outcomes to send");return}if(!this._dsn){P&&h.log("No dsn provided, will not send outcomes");return}P&&h.log("Sending outcomes:",t);const n=zp(t,this._options.tunnel&&mt(this._dsn));this._sendEnvelope(n)}}function ma(e){const t="console";gt(t,e),_t(t,Qp)}function Qp(){"console"in C&&Gn.forEach(function(e){e in C.console&&ce(C.console,e,function(t){return qn[e]=t,function(...n){Ee("console",{args:n,level:e});const s=qn[e];s&&s.apply(C.console,n)}})})}const $t=C,eh=1e3;let ga,Ls,Ps;function _a(e){const t="dom";gt(t,e),_t(t,th)}function th(){if(!$t.document)return;const e=Ee.bind(null,"dom"),t=ya(e,!0);$t.document.addEventListener("click",t,!1),$t.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=$t[n]&&$t[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ce(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=ya(e);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),ce(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function nh(e){if(e.type!==Ls)return!1;try{if(!e.target||e.target._sentryId!==Ps)return!1}catch{}return!0}function rh(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function ya(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=sh(n);if(rh(n.type,r))return;Ve(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ve(r,"_sentryId",U());const s=n.type==="keypress"?"input":n.type;nh(n)||(e({event:n,name:s,global:t}),Ls=n.type,Ps=r?r._sentryId:void 0),clearTimeout(ga),ga=$t.setTimeout(()=>{Ps=void 0,Ls=void 0},eh)}}function sh(e){try{return e.target}catch{return null}}const ih=C,je="__sentry_xhr_v3__";function lr(e){const t="xhr";gt(t,e),_t(t,oh)}function oh(){if(!ih.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ce(e,"open",function(t){return function(...n){const r=Date.now(),s=Ce(n[0])?n[0].toUpperCase():void 0,i=ah(n[1]);if(!s||!i)return t.apply(this,n);this[je]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[je];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Ee("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ce(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),ce(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[je];return d&&Ce(u)&&Ce(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,n)}}),ce(e,"send",function(t){return function(...n){const r=this[je];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Ee("xhr",s),t.apply(this,n)}})}function ah(e){if(Ce(e))return e;try{return e.toString()}catch{}}function dr(e){const t="fetch";gt(t,e),_t(t,ch)}function ch(){ea()&&ce(C,"fetch",function(e){return function(...t){const{method:n,url:r}=uh(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Ee("fetch",{...s}),e.apply(C,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Ee("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Ee("fetch",o),i})}})}function Fs(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Sa(e){return typeof e=="string"?e:e?Fs(e,"url")?e.url:e.toString?e.toString():"":""}function uh(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Sa(n),method:Fs(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Sa(t),method:Fs(t,"method")?String(t.method).toUpperCase():"GET"}}const lh=["fatal","error","warning","log","info","debug"];function Zv(e){return Bs(e)}function Bs(e){return e==="warn"?"warning":lh.includes(e)?e:"log"}function St(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function dh(e){return e.split(/[\?#]/,1)[0]}function Qv(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function eT(e){const{protocol:t,host:n,path:r}=e,s=n&&n.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${t?`${t}://`:""}${s}${r}`}const fr=1024,ba="Breadcrumbs",Hs=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ba,setupOnce(){},setup(n){t.console&&ma(hh(n)),t.dom&&_a(ph(n,t.dom)),t.xhr&&lr(mh(n)),t.fetch&&dr(gh(n)),t.history&&_n(_h(n)),t.sentry&&n.on&&n.on("beforeSendEvent",fh(n))}}},Ea=J(ba,Hs);function fh(e){return function(n){x()===e&&We({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Xe(n)},{event:n})}}function ph(e,t){return function(r){if(x()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>fr&&(P&&h.warn(`\`dom.maxStringLength\` cannot exceed ${fr}, but a value of ${a} was configured. Sentry will use ${fr} instead.`),a=fr),typeof o=="string"&&(o=[o]);try{const u=r.event,l=yh(u)?u.target:u;s=Ye(l,{keyAttrs:o,maxStringLength:a}),i=io(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),We(c,{event:r.event,name:r.name,global:r.global})}}function hh(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Bs(n.level),message:Vn(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Vn(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;We(r,{input:n.args,level:n.level})}}function mh(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[je];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};We({category:"xhr",data:l,type:"http"},d)}}function gh(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};We({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};We({category:"fetch",data:o,type:"http"},a)}}}function _h(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const i=St(R.location.href);let o=r?St(r):void 0;const a=St(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),We({category:"navigation",data:{from:r,to:s}})}}function yh(e){return!!e&&!!e.target}const va="Dedupe",Ta=()=>{let e;return{name:va,setupOnce(){},processEvent(t){if(t.type)return t;try{if(Sh(t,e))return P&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Ia=J(va,Ta);function Sh(e,t){return t?!!(bh(e,t)||Eh(e,t)):!1}function bh(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ka(e,t)||!wa(e,t))}function Eh(e,t){const n=Ra(t),r=Ra(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ka(e,t)||!wa(e,t))}function wa(e,t){let n=Ca(e),r=Ca(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function ka(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ra(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ca(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}let pr=null;function xa(e){const t="error";gt(t,e),_t(t,vh)}function vh(){pr=C.onerror,C.onerror=function(e,t,n,r,s){return Ee("error",{column:r,error:s,line:n,msg:e,url:t}),pr&&!pr.__SENTRY_LOADER__?pr.apply(this,arguments):!1},C.onerror.__SENTRY_INSTRUMENTED__=!0}let hr=null;function Aa(e){const t="unhandledrejection";gt(t,e),_t(t,Th)}function Th(){hr=C.onunhandledrejection,C.onunhandledrejection=function(e){return Ee("unhandledrejection",e),hr&&!hr.__SENTRY_LOADER__?hr.apply(this,arguments):!0},C.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ma="GlobalHandlers",$s=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Ma,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Ih(n),Da("onerror")),t.onunhandledrejection&&(wh(n),Da("onunhandledrejection"))}}},Oa=J(Ma,$s);function Ih(e){xa(t=>{const{stackParser:n,attachStacktrace:r}=La();if(x()!==e||fa())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=c===void 0&&Ce(s)?Ch(s,i,o,a):Na(Os(n,c||s,void 0,r,!1),i,o,a);u.level="error",mn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function wh(e){Aa(t=>{const{stackParser:n,attachStacktrace:r}=La();if(x()!==e||fa())return;const s=kh(t),i=ns(s)?Rh(s):Os(n,s,void 0,r,!0);i.level="error",mn(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function kh(e){if(ns(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function Rh(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Ch(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=es(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),Na({exception:{values:[{type:o,value:i}]}},t,n,r)}function Na(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Ce(t)&&t.length>0?t:ro();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Da(e){P&&h.log(`Global Handler attached: ${e}`)}function La(){const e=x();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Pa="HttpContext",Us=()=>({name:Pa,setupOnce(){},preprocessEvent(e){if(!R.navigator&&!R.location&&!R.document)return;const t=e.request&&e.request.url||R.location&&R.location.href,{referrer:n}=R.document||{},{userAgent:r}=R.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),Fa=J(Pa,Us);function Ba(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!He(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=xh(Ws(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function Ws(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(He(r[s],Error)){Ha(o,a);const u=e(t,r[s]),l=c.length;$a(u,s,l,a),c=Ws(e,t,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(He(u,Error)){Ha(o,a);const d=e(t,u),f=c.length;$a(d,`errors[${l}]`,f,a),c=Ws(e,t,n,u,s,[d,...c],d,f)}}),c}function Ha(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function $a(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function xh(e,t){return e.map(n=>(n.value&&(n.value=Dt(n.value,t)),n))}const Ah="cause",Mh=5,Ua="LinkedErrors",js=(e={})=>{const t=e.limit||Mh,n=e.key||Ah;return{name:Ua,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Ba(xs,o.stackParser,o.maxValueLength,n,t,r,s)}}},Wa=J(Ua,js),Oh=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ja="TryCatch",zs=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:ja,setupOnce(){t.setTimeout&&ce(R,"setTimeout",Ga),t.setInterval&&ce(R,"setInterval",Ga),t.requestAnimationFrame&&ce(R,"requestAnimationFrame",Nh),t.XMLHttpRequest&&"XMLHttpRequest"in R&&ce(XMLHttpRequest.prototype,"send",Dh);const n=t.eventTarget;n&&(Array.isArray(n)?n:Oh).forEach(Lh)}}},za=J(ja,zs);function Ga(e){return function(...t){const n=t[0];return t[0]=yt(n,{mechanism:{data:{function:Ue(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Nh(e){return function(t){return e.apply(this,[yt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ue(e)},handled:!1,type:"instrument"}})])}}function Dh(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ce(n,s,function(i){const o={mechanism:{data:{function:s,handler:Ue(i)},handled:!1,type:"instrument"}},a=ss(i);return a&&(o.mechanism.data.handler=Ue(a)),yt(i,o)})}),e.apply(this,t)}}function Lh(e){const t=R,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ce(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=yt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ue(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,yt(i,{mechanism:{data:{function:"addEventListener",handler:Ue(i),target:e},handled:!1,type:"instrument"}}),o])}}),ce(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const Ut="?",Ph=10,Fh=20,Bh=30,Hh=40,$h=50;function yn(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Uh=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Wh=/\((\S*)(?::(\d+))(?::(\d+))\)/,qa=[Bh,e=>{const t=Uh.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=Wh.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=Ja(t[1]||Ut,t[2]);return yn(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],jh=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,zh=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ya=[$h,e=>{const t=jh.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=zh.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Ut;return[s,r]=Ja(s,r),yn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Gh=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Va=[Hh,e=>{const t=Gh.exec(e);return t?yn(t[2],t[1]||Ut,+t[3],t[4]?+t[4]:void 0):void 0}],qh=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Yh=[Ph,e=>{const t=qh.exec(e);return t?yn(t[2],t[3]||Ut,+t[1]):void 0}],Vh=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Xh=[Fh,e=>{const t=Vh.exec(e);return t?yn(t[5],t[3]||t[4]||Ut,+t[1],+t[2]):void 0}],Xa=[qa,Ya,Va],Ka=No(...Xa),Ja=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ut,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Kh(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return as(new Me("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new me((a,c)=>{let u=t.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Pt(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:s,drain:i}}const Jh=60*1e3;function Za(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Jh:r-t}function Zh(e,t){return e[t]||e.all||0}function Qa(e,t,n=Date.now()){return Zh(e,t)>n}function ec(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else o?s.all=r+Za(o,r):t===429&&(s.all=r+60*1e3);return s}const Qh=30;function Gs(e,t,n=Kh(e.bufferSize||Qh)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(Ht(o,(d,f)=>{const p=ra(f);if(Qa(r,p)){const m=tc(d,f);e.recordDroppedEvent("ratelimit_backoff",p,m)}else a.push(d)}),a.length===0)return Pt();const c=Je(o[0],a),u=d=>{Ht(c,(f,p)=>{const m=tc(f,p);e.recordDroppedEvent(d,ra(p),m)})},l=()=>t({body:na(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&v&&h.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=ec(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Me)return v&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Pt();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function tc(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}let Sn;function em(){if(Sn)return Sn;if(ks(R.fetch))return Sn=R.fetch.bind(R);const e=R.document;let t=R.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){P&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Sn=t.bind(R)}function tm(){Sn=void 0}function nc(e,t=em()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return tm(),n-=o,r--,as(c)}}return Gs(e,s)}const nm=4;function rc(e){function t(n){return new me((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===nm&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return Gs(e,t)}const sc=[Ts(),Is(),zs(),Hs(),$s(),js(),Ta(),Us()];function ic(e){return[...sc]}function oc(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=ic()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),R.SENTRY_RELEASE&&R.SENTRY_RELEASE.id&&(e.release=R.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:gf(e.stackParser||Ka),integrations:qf(e),transport:e.transport||(ws()?nc:rc)};ap(ha,t),e.autoSessionTracking&&am()}const rm=(e={},t=W())=>{if(!R.document){P&&h.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){P&&h.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=R.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=mp(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{R.removeEventListener("message",c)}};R.addEventListener("message",c)}const a=R.document.head||R.document.body;a?a.appendChild(i):P&&h.error("Not injecting report dialog. No injection point found in HTML")};function sm(){}function im(e){e()}function om(e){return yt(e)()}function am(){if(typeof R.document>"u"){P&&h.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}bs({ignoreDuration:!0}),vs(),_n(({from:e,to:t})=>{e!==void 0&&e!==t&&(bs({ignoreDuration:!0}),vs())})}function cm(e){const t=x();t&&t.captureUserFeedback(e)}function ac(e,t){return e(t.stack||"",1)}function cc(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=ac(e,t);return r.length&&(n.stacktrace={frames:r}),n}function um(e){if("name"in e&&typeof e.name=="string"){let t=`'${e.name}' captured as exception`;return"message"in e&&typeof e.message=="string"&&(t+=` with message '${e.message}'`),t}else return"message"in e&&typeof e.message=="string"?e.message:`Object captured as exception with keys: ${extractExceptionKeysForMessage(e)}`}function fT(e,t,n,r){const s=typeof e=="function"?e().getClient():e;let i=n;const a=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"};let c;if(!isError(n)){if(isPlainObject(n)){const l=s&&s.getOptions().normalizeDepth;c={__serialized__:normalizeToSize(n,l)};const d=um(n);i=r&&r.syntheticException||new Error(d),i.message=d}else i=r&&r.syntheticException||new Error(n),i.message=n;a.synthetic=!0}const u={exception:{values:[cc(t,i)]}};return c&&(u.extra=c),addExceptionTypeValue(u,void 0,void 0),addExceptionMechanism(u,a),{...u,event_id:r&&r.event_id}}function pT(e,t,n="info",r,s){const i={event_id:r&&r.event_id,level:n};if(s&&r&&r.syntheticException){const o=ac(e,r.syntheticException);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(isParameterizedString(t)){const{__sentry_template_string__:o,__sentry_template_values__:a}=t;return i.logentry={message:o,params:a},i}return i.message=t,i}const lm="cause",dm=5,uc="LinkedErrors",fm=(e={})=>{const t=e.limit||dm,n=e.key||lm;return{name:uc,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Ba(cc,o.stackParser,o.maxValueLength,n,t,r,s)}}},pm=J(uc,fm),hm=Fe,lc=new Map,dc=new Set;function mm(e){if(C._sentryModuleMetadata)for(const t of Object.keys(C._sentryModuleMetadata)){const n=C._sentryModuleMetadata[t];if(dc.has(t))continue;dc.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){lc.set(s.filename,n);break}}}function gm(e,t){return mm(e),lc.get(t)}function _m(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=gm(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function ym(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const fc="ModuleMetadata",pc=()=>({name:fc,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{Ht(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(ym(s),n[1]=s)}})})},processEvent(e,t,n){const r=n.getOptions().stackParser;return _m(r,e),e}}),Sm=J(fc,pc),ge="sentry.source",bt="sentry.sample_rate",bn="sentry.op",Et="sentry.origin",bm="profile_id";function Oe(e){return(e||W()).getScope().getTransaction()}const Em=ls;let hc=!1;function vm(){hc||(hc=!0,xa(qs),Aa(qs))}function qs(){const e=Oe();if(e){const t="internal_error";v&&h.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}qs.tag="sentry_tracingErrorCallback";function Ys(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return Tm(r,t,n)}function Tm(e,t,n){return un(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Wt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=x(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Im(e,t,n=()=>{},r=()=>{}){const s=W(),i=Q(),o=i.getSpan(),a=gr(e),c=mr(s,{parentSpan:o,spanContext:a,forceTransaction:!1,scope:i});return i.setSpan(c),Ys(()=>t(c),u=>{c&&c.setStatus("internal_error"),n(u,c)},()=>{c&&c.end(),i.setSpan(o),r()})}function wm(e,t){const n=gr(e);return sr(()=>Ke(e.scope,r=>{const s=W(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:mr(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Ys(()=>t(a),()=>{if(a){const{status:c}=j(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}const gT=null;function km(e,t){const n=gr(e);return sr(()=>Ke(e.scope,r=>{const s=W(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:mr(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function c(){a&&a.end()}return Ys(()=>t(a,c),()=>{if(a&&a.isRecording()){const{status:u}=j(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function Vs(e){if(!Wt())return;const t=gr(e),n=W(),r=e.scope?e.scope.getSpan():En();if(e.onlyIfParent&&!r)return;const o=(e.scope||Q()).clone();return mr(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function En(){return Q().getSpan()}const Rm=({sentryTrace:e,baggage:t},n)=>{const r=Q(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=rf(e,t);r.setPropagationContext(o),v&&s&&h.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:ue({dynamicSamplingContext:i})};return n?sr(()=>n(a)):a};function mr(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!Wt())return;const i=Ae();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Ft(t),{traceId:c,spanId:u}=t.spanContext(),l=ps(t);o=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),Cm(o,s,i),o}function gr(e){if(e.startTime){const t={...e};return t.startTimestamp=Qn(e.startTime),delete t.startTime,t}return e}const mc="_sentryScope",gc="_sentryIsolationScope";function Cm(e,t,n){e&&(Ve(e,gc,n),Ve(e,mc,t))}function xm(e){return{scope:e[mc],isolationScope:e[gc]}}let vn;function _c(e){return vn?vn.get(e):void 0}function yc(e){const t=_c(e);if(!t)return;const n={};for(const[,[r,s]]of t)n[r]||(n[r]=[]),n[r].push(ue(s));return n}function Am(e,t,n,r,s,i){const o=En();if(o){const a=_c(o)||new Map,c=`${e}:${t}@${r}`,u=a.get(i);if(u){const[,l]=u;a.set(i,[c,{min:Math.min(l.min,n),max:Math.max(l.max,n),count:l.count+=1,sum:l.sum+=n,tags:l.tags}])}else a.set(i,[c,{min:n,max:n,count:1,sum:n,tags:s}]);vn||(vn=new WeakMap),vn.set(o,a)}}var Sc;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const c="unimplemented";e.Unimplemented=c;const u="unavailable";e.Unavailable=u;const l="internal_error";e.InternalError=l;const d="unknown_error";e.UnknownError=d;const f="cancelled";e.Cancelled=f;const p="already_exists";e.AlreadyExists=p;const m="failed_precondition";e.FailedPrecondition=m;const _="aborted";e.Aborted=_;const S="out_of_range";e.OutOfRange=S;const g="data_loss";e.DataLoss=g})(Sc||(Sc={}));function Xs(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const Mm=Xs;function _r(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Xs(t);n!=="unknown_error"&&e.setStatus(n)}class bc{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class yr{constructor(t={}){this._traceId=t.traceId||U(),this._spanId=t.spanId||U().substring(16),this._startTime=t.startTimestamp||ft(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[Et]:t.origin||"manual",[bn]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[bn]}set op(t){this.setAttribute(bn,t)}get origin(){return this._attributes[Et]}set origin(t){this.setAttribute(Et,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?To:sf}}startChild(t){const n=new yr({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Jn(this);if(n.transaction=r,v&&r){const s=t&&t.op||"< unknown op >",i=j(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;h.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return _r(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=Jn(this);if(v&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&h.log(r.replace("Starting","Finishing"))}this._endTime=Qn(t)}toTraceparent(){return Zn(this)}toContext(){return ue({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return fs(this)}getSpanJSON(){return ue({data:this._getData(),description:this._name,op:this._attributes[bn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Et],_metrics_summary:yc(this),profile_id:this._attributes[bm],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...t,...n}:r?t:n}}class Ec extends yr{constructor(t,n){super(t),this._contexts={},this._hub=n||W(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[ge]&&{source:this._attributes[ge]},...this._attributes[bt]&&{sampleRate:this._attributes[bt]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(ge,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new bc(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=Qn(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return ue({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Ft(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(v&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){v&&h.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&j(l).timestamp):[];if(this._trimEnd&&r.length>0){const l=r.map(d=>j(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,f)=>d>f?d:f)}const{scope:s,isolationScope:i}=xm(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:fs(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...ue({dynamicSamplingContext:Ft(this)})},_metrics_summary:yc(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(v&&h.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),v&&h.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const Tn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Om="finishReason",jt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Nm extends bc{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),j(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class Dm extends Ec{constructor(t,n,r=Tn.idleTimeout,s=Tn.finalTimeout,i=Tn.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=jt[4],this._autoFinishAllowed=!a,o&&(v&&h.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=jt[3],this.end())},this._finalTimeout)}end(t){const n=Qn(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Om,this._finishReason),this.spanRecorder){v&&h.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;j(r).timestamp||(r.setStatus("cancelled"),r.end(n),v&&h.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=j(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<a;if(v){const u=JSON.stringify(r,void 0,2);o?c||h.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):h.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&c}),v&&h.log("[Tracing] flushing IdleTransaction")}else v&&h.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Nm(n,r,this.spanContext().spanId,t),v&&h.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=jt[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(v&&h.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=jt[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),v&&h.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,v&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(v&&h.log(`[Tracing] popActivity ${t}`),delete this.activities[t],v&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=ft();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=jt[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(v&&h.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=jt[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){v&&h.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function vc(e,t,n){if(!Wt(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(bt,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(bt,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(bt,Number(r))):(r=1,e.setAttribute(bt,r)),Tc(r)?r?(e.sampled=Math.random()<r,e.sampled?(v&&h.log(`[Tracing] starting ${e.op} transaction - ${j(e).description}`),e):(v&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(v&&h.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(v&&h.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Tc(e){return to(e)||!(typeof e=="number"||typeof e=="boolean")?(v&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(v&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Lm(){const t=this.getScope().getSpan();return t?{"sentry-trace":Zn(t)}:{}}function Pm(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(v&&h.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new Ec(e,this);return o=vc(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Sr(e,t,n,r,s,i,o,a=!1){const c=e.getClient(),u=c&&c.getOptions()||{};let l=new Dm(t,e,n,r,o,s,a);return l=vc(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function Ks(){const e=ht();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Pm),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Lm),vm())}function Ic(e,t){let n;return Ht(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Fm(e,t){return n=>{const r=e(n);return{send:async s=>{const i=Ic(s,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(s)},flush:s=>r.flush(s)}}}function Bm(e,t){return n=>{const r=e(n),s={};function i(c,u){const l=u?`${c}:${u}`:c;if(!s[l]){const d=Xo(c);if(!d)return;const f=Qo(d);s[l]=u?Fm(e,u)({...n,url:f}):e({...n,url:f})}return s[l]}async function o(c){function u(f){const p=f&&f.length?f:["event"];return Ic(c,p)}const l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(r),(await Promise.all(l.map(f=>f.send(c))))[0]}async function a(c){const u=[...Object.keys(s).map(d=>s[d]),r];return(await Promise.all(u.map(d=>d.flush(c)))).every(d=>d)}return{send:o,flush:a}}}const wc="c",kc="g",Js="s",Rc="d",Hm=5e3,_T=1e4,yT=1e4;class $m{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class Um{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class Wm{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class jm{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Cp(t):t).join(":")}}const zm={[wc]:$m,[kc]:Um,[Rc]:Wm,[Js]:jm};class Gm{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Hm)}add(t,n,r,s="none",i={},o=ft()){const a=Math.floor(o),c=Mp(n),u=Pp(i),l=Ap(s),d=Rp(t,c,l,u);let f=this._buckets.get(d);const p=f&&t===Js?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new zm[t](r),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(d,f));const m=typeof r=="string"?f.metric.weight-p:r;Am(t,c,m,l,i,d)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Cc="MetricsAggregator",xc=()=>({name:Cc,setupOnce(){},setup(e){e.metricsAggregator=new Gm(e)}}),qm=J(Cc,xc);function br(e,t,n,r={}){const s=x(),i=Q();if(s){if(!s.metricsAggregator){v&&h.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=i.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=j(d).description||""),v&&h.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,o,{...f,...a},c)}}function Ym(e,t=1,n){br(wc,e,t,n)}function Vm(e,t,n){br(Rc,e,t,n)}function Xm(e,t,n){br(Js,e,t,n)}function Km(e,t,n){br(kc,e,t,n)}const Jm={increment:Ym,distribution:Vm,set:Xm,gauge:Km,MetricsAggregator:qm,metricsAggregatorIntegration:xc};function Zm(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Ac(e,t,n){const r=Oe();r&&r.setMeasurement(e,t,n)}function Qm(e,t){return e??t()}function Er(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function Mc(e,t){const n=t&&ng(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return tg(e,r)||eg(e,s)}function eg(e,t){return t?Oc(e)===Oc(t):!1}function tg(e,t){return t?e.includes(t.host):!1}function Oc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function ng(e){return e.getClient!==void 0}var rg=se(36284);function Zs(){return typeof window<"u"&&(!(0,rg.wD)()||sg())}function sg(){return C.process!==void 0&&C.process.type==="renderer"}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,In=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},w=C,ig=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,og=()=>{const e=w.performance.timing,t=w.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},vr=()=>w.__WEB_VITALS_POLYFILL__?w.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||og()):w.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Qs=()=>{const e=vr();return e&&e.activationStart||0},wn=(e,t)=>{const n=vr();let r="navigate";return n&&(w.document&&w.document.prerendering||Qs()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:ig(),navigationType:r}},zt=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},kn=(e,t)=>{const n=r=>{(r.type==="pagehide"||w.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};w.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},ag=e=>{const t=wn("CLS",0);let n,r=0,s=[];const i=a=>{a.forEach(c=>{if(!c.hadRecentInput){const u=s[0],l=s[s.length-1];r&&s.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,s.push(c)):(r=c.value,s=[c]),r>t.value&&(t.value=r,t.entries=s,n&&n())}})},o=zt("layout-shift",i);if(o){n=In(e,t);const a=()=>{i(o.takeRecords()),n(!0)};return kn(a),a}};let Tr=-1;const cg=()=>{w.document&&w.document.visibilityState&&(Tr=w.document.visibilityState==="hidden"&&!w.document.prerendering?0:1/0)},ug=()=>{kn(({timeStamp:e})=>{Tr=e},!0)},ei=()=>(Tr<0&&(cg(),ug()),{get firstHiddenTime(){return Tr}}),lg=e=>{const t=ei(),n=wn("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=zt("first-input",i);r=In(e,n),o&&kn(()=>{i(o.takeRecords()),o.disconnect()},!0)};let Nc=0,ti=1/0,Ir=0;const dg=e=>{e.forEach(t=>{t.interactionId&&(ti=Math.min(ti,t.interactionId),Ir=Math.max(Ir,t.interactionId),Nc=Ir?(Ir-ti)/7+1:0)})};let ni;const fg=()=>ni?Nc:performance.interactionCount||0,pg=()=>{"interactionCount"in performance||ni||(ni=zt("event",dg,{type:"event",buffered:!0,durationThreshold:0}))},Dc=()=>fg(),Lc=10,ze=[],ri={},Pc=e=>{const t=ze[ze.length-1],n=ri[e.interactionId];if(n||ze.length<Lc||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};ri[r.id]=r,ze.push(r)}ze.sort((r,s)=>s.latency-r.latency),ze.splice(Lc).forEach(r=>{delete ri[r.id]})}},hg=()=>{const e=Math.min(ze.length-1,Math.floor(Dc()/50));return ze[e]},mg=(e,t)=>{t=t||{},pg();const n=wn("INP");let r;const s=o=>{o.forEach(c=>{c.interactionId&&Pc(c),c.entryType==="first-input"&&!ze.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&Pc(c)});const a=hg();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=zt("event",s,{durationThreshold:t.durationThreshold||40});r=In(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),kn(()=>{s(i.takeRecords()),n.value<0&&Dc()>0&&(n.value=0,n.entries=[]),r(!0)}))},Fc={},gg=e=>{const t=ei(),n=wn("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-Qs(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=zt("largest-contentful-paint",s);if(i){r=In(e,n);const o=()=>{Fc[n.id]||(s(i.takeRecords()),i.disconnect(),Fc[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{w.document&&addEventListener(a,o,{once:!0,capture:!0})}),kn(o,!0),o}},si=e=>{w.document&&(w.document.prerendering?addEventListener("prerenderingchange",()=>si(e),!0):w.document.readyState!=="complete"?addEventListener("load",()=>si(e),!0):setTimeout(e,0))},_g=(e,t)=>{t=t||{};const n=wn("TTFB"),r=In(e,n,t.reportAllChanges);si(()=>{const s=vr();if(s){if(n.value=Math.max(s.responseStart-Qs(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},Rn={},wr={};let Bc,Hc,$c,Uc,Wc;function yg(e,t=!1){return Cn("cls",e,vg,Bc,t)}function jc(e,t=!1){return Cn("lcp",e,Ig,$c,t)}function Sg(e){return Cn("ttfb",e,wg,Uc)}function bg(e){return Cn("fid",e,Tg,Hc)}function Eg(e){return Cn("inp",e,kg,Wc)}function Ze(e,t){return zc(e,t),wr[e]||(Rg(e),wr[e]=!0),Gc(e,t)}function Gt(e,t){const n=Rn[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){F&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ue(r)}
Error:`,s)}}function vg(){return ag(e=>{Gt("cls",{metric:e}),Bc=e})}function Tg(){return lg(e=>{Gt("fid",{metric:e}),Hc=e})}function Ig(){return gg(e=>{Gt("lcp",{metric:e}),$c=e})}function wg(){return _g(e=>{Gt("ttfb",{metric:e}),Uc=e})}function kg(){return mg(e=>{Gt("inp",{metric:e}),Wc=e})}function Cn(e,t,n,r,s=!1){zc(e,t);let i;return wr[e]||(i=n(),wr[e]=!0),r&&t({metric:r}),Gc(e,t,s?i:void 0)}function Rg(e){const t={};e==="event"&&(t.durationThreshold=0),zt(e,n=>{Gt(e,{entries:n})},t)}function zc(e,t){Rn[e]=Rn[e]||[],Rn[e].push(t)}function Gc(e,t,n){return()=>{n&&n();const r=Rn[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}const Y=C,ii="sentryReplaySession",Cg="replay_event",oi="Unable to send Replay",xg=3e5,Ag=9e5,Mg=5e3,Og=5500,Ng=6e4,Dg=5e3,Lg=3,qc=15e4,kr=5e3,Pg=3e3,Fg=300,ai=2e7,Bg=4999,Hg=15e3,Yc=36e5;function $g(e,t){return e??t()}function Rr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}var ie;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ie||(ie={}));function Ug(e){return e.nodeType===e.ELEMENT_NODE}function xn(e){const t=Rr([e,"optionalAccess",n=>n.host]);return Rr([t,"optionalAccess",n=>n.shadowRoot])===e}function An(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Wg(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function jg(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Cr(e){try{const t=e.rules||e.cssRules;return t?Wg(Array.from(t,Vc).join("")):null}catch{return null}}function Vc(e){let t;if(Gg(e))try{t=Cr(e.styleSheet)||jg(e)}catch{}else if(qg(e)&&e.selectorText.includes(":"))return zg(e.cssText);return t||e.cssText}function zg(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Gg(e){return"styleSheet"in e}function qg(e){return"selectorText"in e}class Xc{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Rr([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return $g(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Yg(){return new Xc}function xr({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Mn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function qt(e){return e.toLowerCase()}function ci(e){return e.toUpperCase()}const Kc="__rrweb_original__";function Vg(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Kc in i?i[Kc]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ui(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?qt(t):null}function Ar(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let Xg=1;const Kg=new RegExp("[^a-z0-9-_:]"),On=-2;function li(){return Xg++}function Jg(e){if(e instanceof HTMLFormElement)return"form";const t=qt(e.tagName);return Kg.test(t)?"div":t}function Zg(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Yt,Jc;const Qg=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,e_=/^(?:[a-z+]+:)?\/\//i,t_=/^www\..*/i,n_=/^(data:)([^,]*),(.*)/i;function Mr(e,t){return(e||"").replace(Qg,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(e_.test(c)||t_.test(c))return`url(${u}${c}${u})`;if(n_.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Zg(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const r_=/^[^ \t\n\r\u000c]+/,s_=/^[, \t\n\r\u000c]+/;function i_(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(s_),!(n>=t.length);){let i=r(r_);if(i.slice(-1)===",")i=Vt(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Vt(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function Vt(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function o_(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function di(){const e=document.createElement("a");return e.href="",e.href}function Zc(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Vt(e,r):n==="srcset"?i_(e,r):n==="style"?Mr(r,di()):t==="object"&&n==="data"?Vt(e,r):typeof i=="function"?i(n,r,s):r)}function Qc(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function a_(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function c_(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function vt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:vt(e.parentNode,t,n,r+1)}function Xt(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(c_(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Kt(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=vt(o,Xt(r,s)),c<0)return!0;a=vt(o,Xt(t,n),c>=0?c:1/0)}else{if(a=vt(o,Xt(t,n)),a<0)return!1;c=vt(o,Xt(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function u_(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function l_(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function d_(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:_,maskInputFn:S,dataURLOptions:g={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:I,newlyAddedElement:M=!1}=t,k=f_(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ie.Document,childNodes:[],compatMode:e.compatMode}:{type:ie.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ie.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return h_(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:S,dataURLOptions:g,inlineImages:y,recordCanvas:b,keepIframeSrcFn:I,newlyAddedElement:M,rootId:k,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return p_(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:m,maskInputFn:S,rootId:k});case e.CDATA_SECTION_NODE:return{type:ie.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:ie.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function f_(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function p_(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,m=d==="SCRIPT"?!0:void 0,_=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||Rr([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(f=Cr(e.parentNode.sheet))}catch{}f=Mr(f,di())}m&&(f="SCRIPT_PLACEHOLDER");const S=Kt(e,r,i,s,o,n);if(!p&&!m&&!_&&f&&S&&(f=a?a(f):f.replace(/[\S]/g,"*")),_&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const g=xr({type:null,tagName:d,maskInputOptions:c});f=Mn({isMasked:Kt(e,r,i,s,o,g),element:e,value:f,maskInputFn:u})}return{type:ie.Text,textContent:f||"",isStyle:p,rootId:l}}function h_(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:_,maskAllText:S,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:I}=t,M=a_(e,r,s,i),k=Jg(e);let E={};const L=e.attributes.length;for(let T=0;T<L;T++){const A=e.attributes[T];A.name&&!Qc(k,A.name,A.value)&&(E[A.name]=Zc(n,k,qt(A.name),A.value,e,c))}if(k==="link"&&o){const T=Array.from(n.styleSheets).find($=>$.href===e.href);let A=null;T&&(A=Cr(T)),A&&(delete E.rel,delete E.href,E._cssText=Mr(A,T.href))}if(k==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const T=Cr(e.sheet);T&&(E._cssText=Mr(T,di()))}if(k==="input"||k==="textarea"||k==="select"||k==="option"){const T=e,A=ui(T),$=Ar(T,ci(k),A),ee=T.checked;if(A!=="submit"&&A!=="button"&&$){const ae=Kt(T,g,b,y,I,xr({type:A,tagName:ci(k),maskInputOptions:a}));E.value=Mn({isMasked:ae,element:T,value:$,maskInputFn:u})}ee&&(E.checked=ee)}if(k==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),k==="canvas"&&f){if(e.__context==="2d")Vg(e)||(E.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const T=e.toDataURL(l.type,l.quality),A=document.createElement("canvas");A.width=e.width,A.height=e.height;const $=A.toDataURL(l.type,l.quality);T!==$&&(E.rr_dataURL=T)}}if(k==="img"&&d){Yt||(Yt=n.createElement("canvas"),Jc=Yt.getContext("2d"));const T=e,A=T.crossOrigin;T.crossOrigin="anonymous";const $=()=>{T.removeEventListener("load",$);try{Yt.width=T.naturalWidth,Yt.height=T.naturalHeight,Jc.drawImage(T,0,0),E.rr_dataURL=Yt.toDataURL(l.type,l.quality)}catch{}A?E.crossOrigin=A:T.removeAttribute("crossorigin")};T.complete&&T.naturalWidth!==0?$():T.addEventListener("load",$)}if((k==="audio"||k==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),M){const{width:T,height:A}=e.getBoundingClientRect();E={class:E.class,rr_width:`${T}px`,rr_height:`${A}px`}}k==="iframe"&&!p(E.src)&&(e.contentDocument||(E.rr_src=E.src),delete E.src);let X;try{customElements.get(k)&&(X=!0)}catch{}return{type:ie.Element,tagName:k,attributes:E,childNodes:[],isSVG:o_(e)||void 0,needBlock:M,rootId:_,isCustom:X}}function V(e){return e==null?"":e.toLowerCase()}function m_(e,t){if(t.comment&&e.type===ie.Comment)return!0;if(e.type===ie.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(V(e.attributes.name).match(/^msapplication-tile(image|color)$/)||V(e.attributes.name)==="application-name"||V(e.attributes.rel)==="icon"||V(e.attributes.rel)==="apple-touch-icon"||V(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&V(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(V(e.attributes.property).match(/^(og|twitter|fb):/)||V(e.attributes.name).match(/^(og|twitter):/)||V(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(V(e.attributes.name)==="robots"||V(e.attributes.name)==="googlebot"||V(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(V(e.attributes.name)==="author"||V(e.attributes.name)==="generator"||V(e.attributes.name)==="framework"||V(e.attributes.name)==="publisher"||V(e.attributes.name)==="progid"||V(e.attributes.property).match(/^article:/)||V(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(V(e.attributes.name)==="google-site-verification"||V(e.attributes.name)==="yandex-verification"||V(e.attributes.name)==="csrf-token"||V(e.attributes.name)==="p:domain_verify"||V(e.attributes.name)==="verify-v1"||V(e.attributes.name)==="verification"||V(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Jt(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b={},inlineImages:I=!1,recordCanvas:M=!1,onSerialize:k,onIframeLoad:E,iframeLoadTimeout:L=5e3,onStylesheetLoad:X,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:A=()=>!1,newlyAddedElement:$=!1}=t;let{preserveWhiteSpace:ee=!0}=t;const ae=d_(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,dataURLOptions:b,inlineImages:I,recordCanvas:M,keepIframeSrcFn:A,newlyAddedElement:$});if(!ae)return null;let ye;r.hasNode(e)?ye=r.getId(e):m_(ae,y)||!ee&&ae.type===ie.Text&&!ae.isStyle&&!ae.textContent.replace(/^\s+|\s+$/gm,"").length?ye=On:ye=li();const q=Object.assign(ae,{id:ye});if(r.add(e,q),ye===On)return null;k&&k(e);let Se=!f;if(q.type===ie.Element){Se=Se&&!q.needBlock,delete q.needBlock;const te=e.shadowRoot;te&&An(te)&&(q.isShadowHost=!0)}if((q.type===ie.Document||q.type===ie.Element)&&Se){y.headWhitespace&&q.type===ie.Element&&q.tagName==="head"&&(ee=!1);const te={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:I,recordCanvas:M,preserveWhiteSpace:ee,onSerialize:k,onIframeLoad:E,iframeLoadTimeout:L,onStylesheetLoad:X,stylesheetLoadTimeout:T,keepIframeSrcFn:A};for(const he of Array.from(e.childNodes)){const Ie=Jt(he,te);Ie&&q.childNodes.push(Ie)}if(Ug(e)&&e.shadowRoot)for(const he of Array.from(e.shadowRoot.childNodes)){const Ie=Jt(he,te);Ie&&(An(e.shadowRoot)&&(Ie.isShadow=!0),q.childNodes.push(Ie))}}return e.parentNode&&xn(e.parentNode)&&An(e.parentNode)&&(q.isShadow=!0),q.type===ie.Element&&q.tagName==="iframe"&&u_(e,()=>{const te=e.contentDocument;if(te&&E){const he=Jt(te,{doc:te,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:I,recordCanvas:M,preserveWhiteSpace:ee,onSerialize:k,onIframeLoad:E,iframeLoadTimeout:L,onStylesheetLoad:X,stylesheetLoadTimeout:T,keepIframeSrcFn:A});he&&E(e,he)}},L),q.type===ie.Element&&q.tagName==="link"&&q.attributes.rel==="stylesheet"&&l_(e,()=>{if(X){const te=Jt(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:I,recordCanvas:M,preserveWhiteSpace:ee,onSerialize:k,onIframeLoad:E,iframeLoadTimeout:L,onStylesheetLoad:X,stylesheetLoadTimeout:T,keepIframeSrcFn:A});te&&X(e,te)}},T),q}function g_(e,t){const{mirror:n=new Xc,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:I,onSerialize:M,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:L,stylesheetLoadTimeout:X,keepIframeSrcFn:T=()=>!1}=t||{};return Jt(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:I,onSerialize:M,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:L,stylesheetLoadTimeout:X,keepIframeSrcFn:T,newlyAddedElement:!1})}function Qe(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function de(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const bT=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let eu={map:{},getId(){return-1},getNode(){return null},removeNodeFromMap(){},has(){return!1},reset(){}};typeof window<"u"&&window.Proxy&&window.Reflect&&(eu=new Proxy(eu,{get(e,t,n){return Reflect.get(e,t,n)}}));function Nn(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function tu(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>tu(e,t,i||{},!0)}function fi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Or=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Or=()=>new Date().getTime());function nu(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Qe([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Qe([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Qe([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Qe([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Qe([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Qe([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function ru(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function su(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ve(e,t,n,r,s){if(!e)return!1;const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;const o=Xt(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=vt(i,o);let c=-1;return a<0?!1:(r&&(c=vt(i,Xt(null,r))),a>-1&&c<0?!0:a<c)}function __(e,t){return t.getId(e)!==-1}function pi(e,t){return t.getId(e)===On}function iu(e,t){if(xn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?iu(e.parentNode,t):!0:!0}function hi(e){return!!e.changedTouches}function y_(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function ou(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function au(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function mi(e){return!!Qe([e,"optionalAccess",t=>t.shadowRoot])}class S_{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Qm(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function cu(e){let t=null;return Qe([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function b_(e){let t=e,n;for(;n=cu(t);)t=n;return t}function E_(e){const t=e.ownerDocument;if(!t)return!1;const n=b_(e);return t.contains(n)}function uu(e){const t=e.ownerDocument;return t?t.contains(e)||E_(e):!1}let gi;function v_(){if(gi)return gi;const e=window.document;let t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return gi=t.bind(window)}function T_(...e){return v_()(...e)}var N=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(N||{}),D=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(D||{}),fe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(fe||{}),Ge=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ge||{});function I_(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function lu(e){return"__ln"in e}class w_{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=I_([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&lu(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&lu(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const du=(e,t)=>`${e}@${t}`;class k_{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new w_,s=c=>{let u=c,l=On;for(;l===On;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!uu(c))return;const u=xn(c.parentNode)?this.mirror.getId(cu(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Jt(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{ou(f,this.mirror)&&this.iframeManager.addIframe(f),au(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),mi(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)fu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!hu(this.droppedSet,c)&&!fu(this.removes,c,this.mirror)||hu(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(pi(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{const r=t.target.textContent;!ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Kt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let s=t.attributeName,i=t.target.getAttribute(s);if(s==="value"){const a=ui(r),c=r.tagName;i=Ar(r,c,a);const u=xr({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),l=Kt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);i=Mn({isMasked:l,element:r,value:i,maskInputFn:this.maskInputFn})}if(ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let o=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&s==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)s="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),s==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Qc(r.tagName,s)&&(o.attributes[s]=Zc(this.doc,qt(r.tagName),qt(s),i,r,this.maskAttributeFn),s==="style")){const a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(const c of Array.from(r.style)){const u=r.style.getPropertyValue(c),l=r.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||l!==a.style.getPropertyPriority(c)?l===""?o.styleDiff[c]=u:o.styleDiff[c]=[u,l]:o._unchangedStyles[c]=[u,l]}for(const c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const s=this.mirror.getId(r),i=xn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||pi(r,this.mirror)||!__(r,this.mirror)||(this.addedSet.has(r)?(_i(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&s===-1||iu(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[du(s,i)]?_i(this.movedSet,r):this.removes.push({parentId:i,id:s,isShadow:xn(t.target)&&An(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(pi(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[du(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ve(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),mi(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function _i(e,t){e.delete(t),t.childNodes.forEach(n=>_i(e,n))}function fu(e,t,n){return e.length===0?!1:pu(e,t,n)}function pu(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(i=>i.id===s)?!0:pu(e,r,n)}function hu(e,t){return e.size===0?!1:mu(e,t)}function mu(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:mu(e,n):!1}let Dn;function R_(e){Dn=e}function C_(){Dn=void 0}const B=e=>Dn?(...n)=>{try{return e(...n)}catch(r){if(Dn&&Dn(r)===!0)return()=>{};throw r}}:e;function Ne(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const Zt=[];function Ln(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function gu(e,t){const n=new k_;Zt.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Ne([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(B(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function x_({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=Nn(B(d=>{const f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),d),o=[],a=null}),i),u=B(Nn(B(d=>{const f=Ln(d),{clientX:p,clientY:m}=hi(d)?d.changedTouches[0]:d;a||(a=Or()),o.push({x:p,y:m,id:r.getId(f),timeOffset:Or()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?D.Drag:d instanceof MouseEvent?D.MouseMove:D.TouchMove)}),s,{trailing:!1})),l=[de("mousemove",u,n),de("touchmove",u,n),de("drag",u,n)];return B(()=>{l.forEach(d=>d())})}function A_({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const p=Ln(f);if(ve(p,r,s,i,!0))return;let m=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":m=Ge.Mouse;break;case"touch":m=Ge.Touch;break;case"pen":m=Ge.Pen;break}m===Ge.Touch?fe[d]===fe.MouseDown?_="TouchStart":fe[d]===fe.MouseUp&&(_="TouchEnd"):Ge.Pen}else hi(f)&&(m=Ge.Touch);m!==null?(u=m,(_.startsWith("Touch")&&m===Ge.Touch||_.startsWith("Mouse")&&m===Ge.Mouse)&&(m=null)):fe[d]===fe.Click&&(m=u,u=null);const S=hi(f)?f.changedTouches[0]:f;if(!S)return;const g=n.getId(p),{clientX:y,clientY:b}=S;B(e)({type:fe[_],id:g,x:y,y:b,...m!==null&&{pointerType:m}})};return Object.keys(fe).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=qt(d);const p=l(d);if(window.PointerEvent)switch(fe[d]){case fe.MouseDown:case fe.MouseUp:f=f.replace("mouse","pointer");break;case fe.TouchStart:case fe.TouchEnd:return}c.push(de(f,p,t))}),B(()=>{c.forEach(d=>d())})}function _u({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=B(Nn(B(c=>{const u=Ln(c);if(!u||ve(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=nu(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return de("scroll",a,t)}function M_({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=B(Nn(B(()=>{const i=ru(),o=su();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return de("resize",s,t)}const O_=["INPUT","TEXTAREA","SELECT"],yu=new WeakMap;function N_({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:_}){function S(E){let L=Ln(E);const X=E.isTrusted,T=L&&ci(L.tagName);if(T==="OPTION"&&(L=L.parentElement),!L||!T||O_.indexOf(T)<0||ve(L,r,s,i,!0))return;const A=L;if(A.classList.contains(o)||a&&A.matches(a))return;const $=ui(L);let ee=Ar(A,T,$),ae=!1;const ye=xr({maskInputOptions:c,tagName:T,type:$}),q=Kt(L,f,m,p,_,ye);($==="radio"||$==="checkbox")&&(ae=L.checked),ee=Mn({isMasked:q,element:L,value:ee,maskInputFn:u}),g(L,d?{text:ee,isChecked:ae,userTriggered:X}:{text:ee,isChecked:ae});const Se=L.name;$==="radio"&&Se&&ae&&t.querySelectorAll(`input[type="radio"][name="${Se}"]`).forEach(te=>{if(te!==L){const he=Mn({isMasked:q,element:te,value:Ar(te,T,$),maskInputFn:u});g(te,d?{text:he,isChecked:!ae,userTriggered:!1}:{text:he,isChecked:!ae})}})}function g(E,L){const X=yu.get(E);if(!X||X.text!==L.text||X.isChecked!==L.isChecked){yu.set(E,L);const T=n.getId(E);B(e)({...L,id:T})}}const b=(l.input==="last"?["change"]:["input","change"]).map(E=>de(E,B(S),t)),I=t.defaultView;if(!I)return()=>{b.forEach(E=>E())};const M=I.Object.getOwnPropertyDescriptor(I.HTMLInputElement.prototype,"value"),k=[[I.HTMLInputElement.prototype,"value"],[I.HTMLInputElement.prototype,"checked"],[I.HTMLSelectElement.prototype,"value"],[I.HTMLTextAreaElement.prototype,"value"],[I.HTMLSelectElement.prototype,"selectedIndex"],[I.HTMLOptionElement.prototype,"selected"]];return M&&M.set&&b.push(...k.map(E=>tu(E[0],E[1],{set(){B(S)({target:this,isTrusted:!1})}},!1,I))),B(()=>{b.forEach(E=>E())})}function Nr(e){const t=[];function n(r,s){if(Dr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Dr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Dr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Dr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function et(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function D_({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:B((l,d,f)=>{const[p,m]=f,{id:_,styleId:S}=et(d,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,adds:[{rule:p,index:m}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:B((l,d,f)=>{const[p]=f,{id:m,styleId:_}=et(d,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,removes:[{index:p}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:B((l,d,f)=>{const[p]=f,{id:m,styleId:_}=et(d,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replace:p}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:B((l,d,f)=>{const[p]=f,{id:m,styleId:_}=et(d,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replaceSync:p}),l.apply(d,f)})}));const c={};Lr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Lr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Lr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Lr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:B((f,p,m)=>{const[_,S]=m,{id:g,styleId:y}=et(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:_,index:[...Nr(p),S||0]}]}),f.apply(p,m)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:B((f,p,m)=>{const[_]=m,{id:S,styleId:g}=et(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||g&&g!==-1)&&e({id:S,styleId:g,removes:[{index:[...Nr(p),_]}]}),f.apply(p,m)})})}),B(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Su({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Ne([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Ne([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Ne([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Ne([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Ne([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Ne([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),B(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function L_({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:B((a,c,u)=>{const[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);const{id:p,styleId:m}=et(Ne([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:l,value:d,priority:f},index:Nr(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:B((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:f}=et(Ne([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:Nr(c.parentRule)}),a.apply(c,u)})}),B(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function P_({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=B(u=>Nn(B(l=>{const d=Ln(l);if(!d||ve(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:m,playbackRate:_}=d;e({type:u,id:s.getId(d),currentTime:f,volume:p,muted:m,playbackRate:_})}),i.media||500)),c=[de("play",a(0),o),de("pause",a(1),o),de("seeked",a(2),o),de("volumechange",a(3),o),de("ratechange",a(4),o)];return B(()=>{c.forEach(u=>u())})}function F_({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=fi(t.fonts,"add",function(a){return function(c){return setTimeout(B(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),B(()=>{r.forEach(a=>a())})}function B_(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=B(()=>{const u=t.getSelection();if(!u||a&&Ne([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const p=u.getRangeAt(f),{startContainer:m,startOffset:_,endContainer:S,endOffset:g}=p;ve(m,r,s,i,!0)||ve(S,r,s,i,!0)||l.push({start:n.getId(m),startOffset:_,end:n.getId(S),endOffset:g})}o({ranges:l})});return c(),de("selectionchange",c)}function H_({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:fi(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function $_(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=gu(e,e.doc),s=x_(e),i=A_(e),o=_u(e),a=M_(e,{win:n}),c=N_(e),u=P_(e),l=D_(e,{win:n}),d=Su(e,e.doc),f=L_(e,{win:n}),p=e.collectFonts?F_(e):()=>{},m=B_(e),_=H_(e),S=[];for(const g of e.plugins)S.push(g.observer(g.callback,n,g.options));return B(()=>{Zt.forEach(g=>g.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),p(),m(),_(),S.forEach(g=>g())})}function Dr(e){return typeof window[e]<"u"}function Lr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class yi{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function bu(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}class U_{constructor(){this.crossOriginIframeMirror=new yi(li),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class W_{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new yi(li),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new yi(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),bu([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case N.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:N.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case N.Meta:case N.Load:case N.DomContentLoaded:return!1;case N.Plugin:return n;case N.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case N.IncrementalSnapshot:switch(n.data.source){case D.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.Drag:case D.TouchMove:case D.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(n.data,t,["id"]),n;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case D.Font:return n;case D.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case D.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),bu([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ie.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class j_{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class z_{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!An(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=gu({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(_u({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Su({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(fi(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&uu(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Eu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class G_{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new S_,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Vc(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class q_{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){T_(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function re(e){const t=e;return t.timestamp=Or(),t}let Pr;const Te=Yg();function tt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:_,maskInputOptions:S,slimDOMOptions:g,maskAttributeFn:y,maskInputFn:b,maskTextFn:I,maxCanvasSize:M=null,packFn:k,sampling:E={},dataURLOptions:L={},mousemoveWait:X,recordCanvas:T=!1,recordCrossOriginIframes:A=!1,recordAfter:$=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ee=!1,collectFonts:ae=!1,inlineImages:ye=!1,plugins:q,keepIframeSrcFn:Se=()=>!1,ignoreCSSAttributes:te=new Set([]),errorHandler:he,onMutation:Ie,getCanvasManager:Yi}=e;R_(he);const an=A?window.parent===window:!0;let it=!1;if(!an)try{window.parent.document&&(it=!1)}catch{it=!0}if(an&&!t)throw new Error("emit function is required");X!==void 0&&E.mousemove===void 0&&(E.mousemove=X),Te.reset();const cn=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},zn=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};y_();let Vi,Xi=0;const Dd=O=>{for(const we of q||[])we.eventProcessor&&(O=we.eventProcessor(O));return k&&!it&&(O=k(O)),O},ne=(O,we)=>{if(Er([Zt,"access",H=>H[0],"optionalAccess",H=>H.isFrozen,"call",H=>H()])&&O.type!==N.FullSnapshot&&!(O.type===N.IncrementalSnapshot&&O.data.source===D.Mutation)&&Zt.forEach(H=>H.unfreeze()),an)Er([t,"optionalCall",H=>H(Dd(O),we)]);else if(it){const H={type:"rrweb",event:Dd(O),origin:window.location.origin,isCheckout:we};window.parent.postMessage(H,"*")}if(O.type===N.FullSnapshot)Vi=O,Xi=0;else if(O.type===N.IncrementalSnapshot){if(O.data.source===D.Mutation&&O.data.isAttachIframe)return;Xi++;const H=r&&Xi>=r,ke=n&&Vi&&O.timestamp-Vi.timestamp>n;(H||ke)&&Ji(!0)}},Zr=O=>{ne(re({type:N.IncrementalSnapshot,data:{source:D.Mutation,...O}}))},Ld=O=>ne(re({type:N.IncrementalSnapshot,data:{source:D.Scroll,...O}})),Ov=O=>ne(re({type:N.IncrementalSnapshot,data:{source:D.CanvasMutation,...O}})),Nv=O=>ne(re({type:N.IncrementalSnapshot,data:{source:D.AdoptedStyleSheet,...O}})),Rt=new G_({mutationCb:Zr,adoptedStyleSheetCb:Nv}),Ct=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new U_:new W_({mirror:Te,mutationCb:Zr,stylesheetManager:Rt,recordCrossOriginIframes:A,wrappedEmit:ne});for(const O of q||[])O.getMirror&&O.getMirror({nodeMirror:Te,crossOriginIframeMirror:Ct.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ct.crossOriginIframeStyleMirror});const Ki=new q_,Pd=V_(Yi,{mirror:Te,win:window,mutationCb:O=>ne(re({type:N.IncrementalSnapshot,data:{source:D.CanvasMutation,...O}})),recordCanvas:T,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:M,sampling:E.canvas,dataURLOptions:L,errorHandler:he}),Qr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new j_:new z_({mutationCb:Zr,scrollCb:Ld,bypassOptions:{onMutation:Ie,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:cn,dataURLOptions:L,maskAttributeFn:y,maskTextFn:I,maskInputFn:b,recordCanvas:T,inlineImages:ye,sampling:E,slimDOMOptions:zn,iframeManager:Ct,stylesheetManager:Rt,canvasManager:Pd,keepIframeSrcFn:Se,processedNodeManager:Ki},mirror:Te}),Ji=(O=!1)=>{ne(re({type:N.Meta,data:{href:window.location.href,width:su(),height:ru()}}),O),Rt.reset(),Qr.init(),Zt.forEach(H=>H.lock());const we=g_(document,{mirror:Te,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:cn,maskAttributeFn:y,maskInputFn:b,maskTextFn:I,slimDOM:zn,dataURLOptions:L,recordCanvas:T,inlineImages:ye,onSerialize:H=>{ou(H,Te)&&Ct.addIframe(H),au(H,Te)&&Rt.trackLinkElement(H),mi(H)&&Qr.addShadowRoot(H.shadowRoot,document)},onIframeLoad:(H,ke)=>{Ct.attachIframe(H,ke),Qr.observeAttachShadow(H)},onStylesheetLoad:(H,ke)=>{Rt.attachLinkElement(H,ke)},keepIframeSrcFn:Se});we&&(ne(re({type:N.FullSnapshot,data:{node:we,initialOffset:nu(window)}})),Zt.forEach(H=>H.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Rt.adoptStyleSheets(document.adoptedStyleSheets,Te.getId(document)))};Pr=Ji;try{const O=[],we=ke=>B($_)({onMutation:Ie,mutationCb:Zr,mousemoveCb:(z,xt)=>ne(re({type:N.IncrementalSnapshot,data:{source:xt,positions:z}})),mouseInteractionCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.MouseInteraction,...z}})),scrollCb:Ld,viewportResizeCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.ViewportResize,...z}})),inputCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.Input,...z}})),mediaInteractionCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.MediaInteraction,...z}})),styleSheetRuleCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.StyleSheetRule,...z}})),styleDeclarationCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.StyleDeclaration,...z}})),canvasMutationCb:Ov,fontCb:z=>ne(re({type:N.IncrementalSnapshot,data:{source:D.Font,...z}})),selectionCb:z=>{ne(re({type:N.IncrementalSnapshot,data:{source:D.Selection,...z}}))},customElementCb:z=>{ne(re({type:N.IncrementalSnapshot,data:{source:D.CustomElement,...z}}))},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:cn,inlineStylesheet:m,sampling:E,recordCanvas:T,inlineImages:ye,userTriggeredOnInput:ee,collectFonts:ae,doc:ke,maskAttributeFn:y,maskInputFn:b,maskTextFn:I,keepIframeSrcFn:Se,blockSelector:i,unblockSelector:o,slimDOMOptions:zn,dataURLOptions:L,mirror:Te,iframeManager:Ct,stylesheetManager:Rt,shadowDomManager:Qr,processedNodeManager:Ki,canvasManager:Pd,ignoreCSSAttributes:te,plugins:Er([q,"optionalAccess",z=>z.filter,"call",z=>z(xt=>xt.observer),"optionalAccess",z=>z.map,"call",z=>z(xt=>({observer:xt.observer,options:xt.options,callback:Dv=>ne(re({type:N.Plugin,data:{plugin:xt.name,payload:Dv}}))}))])||[]},{});Ct.addLoadListener(ke=>{try{O.push(we(ke.contentDocument))}catch{}});const H=()=>{Ji(),O.push(we(document))};return document.readyState==="interactive"||document.readyState==="complete"?H():(O.push(de("DOMContentLoaded",()=>{ne(re({type:N.DomContentLoaded,data:{}})),$==="DOMContentLoaded"&&H()})),O.push(de("load",()=>{ne(re({type:N.Load,data:{}})),$==="load"&&H()},window))),()=>{O.forEach(ke=>ke()),Ki.destroy(),Pr=void 0,C_()}}catch{}}function Y_(e){if(!Pr)throw new Error("please take full snapshot after start recording");Pr(e)}tt.mirror=Te,tt.takeFullSnapshot=Y_;function V_(e,t){try{return e?e(t):new Eu}catch{return new Eu}}const X_=3,K_=5;function Si(e){return e>9999999999?e:e*1e3}function bi(e){return e>9999999999?e/1e3:e}function Pn(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:N.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:be(t,10,1e3)}}),t.category==="console")))}const J_="button,a";function vu(e){return e.closest(J_)||e}function Tu(e){const t=Iu(e);return!t||!(t instanceof Element)?t:vu(t)}function Iu(e){return Z_(e)?e.target:e}function Z_(e){return typeof e=="object"&&!!e&&"target"in e}let nt;function Q_(e){return nt||(nt=[],ey()),nt.push(e),()=>{const t=nt?nt.indexOf(e):-1;t>-1&&nt.splice(t,1)}}function ey(){ce(Y,"open",function(e){return function(...t){if(nt)try{nt.forEach(n=>n())}catch{}return e.apply(Y,t)}})}function ty(e,t,n){e.handleClick(t,n)}class ny{constructor(t,n,r=Pn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=Q_(()=>{this._lastMutation=wu()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(sy(n,this._ignoreSelector)||!iy(t))return;const r={timestamp:bi(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=bi(t)}registerScroll(t=Date.now()){this._lastScroll=bi(t)}registerClick(t){const n=vu(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=wu();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Y.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Y.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const ry=["A","BUTTON","INPUT"];function sy(e,t){return!!(!ry.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function iy(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function wu(){return Date.now()/1e3}function oy(e,t){try{if(!ay(t))return;const{source:n}=t.data;if(n===D.Mutation&&e.registerMutation(t.timestamp),n===D.Scroll&&e.registerScroll(t.timestamp),cy(t)){const{type:r,id:s}=t.data,i=tt.mirror.getNode(s);i instanceof HTMLElement&&r===fe.Click&&e.registerClick(i)}}catch{}}function ay(e){return e.type===X_}function cy(e){return e.data.source===D.MouseInteraction}function De(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Fr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Fr||(Fr={}));const uy=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ly(e){const t={};for(const n in e)if(uy.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const dy=e=>t=>{if(!e.isEnabled())return;const n=fy(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&ty(e.clickDetector,n,Tu(t.event)),Pn(e,n)};function ku(e,t){const n=tt.mirror.getId(e),r=n&&tt.mirror.getNode(n),s=r&&tt.mirror.getMeta(r),i=s&&hy(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Fr.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:ly(i.attributes)}}:{}}}function fy(e){const{target:t,message:n}=py(e);return De({category:`ui.${e.name}`,...ku(t,n)})}function py(e){const t=e.name==="click";let n,r=null;try{r=t?Tu(e.event):Iu(e.event),n=Ye(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function hy(e){return e.type===Fr.Element}function my(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=gy(t);n&&Pn(e,n)}function gy(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||_y(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=Ye(o,{maxStringLength:200})||"<unknown>",l=ku(o,u);return De({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function _y(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Ru={resource:vy,paint:by,navigation:Ey};function yy(e){return e.map(Sy).filter(Boolean)}function Sy(e){return Ru[e.entryType]?Ru[e.entryType](e):null}function Qt(e){return((le||Y.performance.timeOrigin)+e)/1e3}function by(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=Qt(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Ey(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:m,type:_}=e;return s===0?null:{type:`${t}.${_}`,start:Qt(p),end:Qt(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function vy(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Qt(i),end:Qt(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function Ty(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=Qt(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?tt.mirror.getId(r):void 0}}}function Iy(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Ze(s,n))}),r.push(jc(({metric:s})=>{e.replayPerformanceEntries.push(Ty(s))})),()=>{r.forEach(s=>s())}}const G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wy='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ky(){const e=new Blob([wy]);return URL.createObjectURL(e)}function pe(e,t){G&&(h.info(e),t&&Cu(e))}function en(e,t){G&&(h.info(e),t&&setTimeout(()=>{Cu(e)},0))}function Cu(e){We({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Ei extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ai}.`)}}class xu{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>ai)throw new Ei;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Si(t):null}}class Ry{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){pe("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){G&&h.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Cy{constructor(t){this._worker=new Ry(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Si(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>ai?Promise.reject(new Ei):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{G&&h.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class xy{constructor(t){this._fallback=new xu,this._compression=new Cy(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{pe("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){G&&h.warn("[Replay] Failed to add events when switching buffers.",s)}}}function Ay({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=My(t);if(n)return n}return pe("[Replay] Using simple buffer"),new xu}function My(e){try{const t=e||Oy();if(!t)return;pe(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new xy(n)}catch{pe("[Replay] Failed to create compression worker")}}function Oy(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ky():""}function vi(){try{return"sessionStorage"in Y&&!!Y.sessionStorage}catch{return!1}}function Ny(e){Dy(),e.session=void 0}function Dy(){if(vi())try{Y.sessionStorage.removeItem(ii)}catch{}}function Au(e){return e===void 0?!1:Math.random()<e}function Mu(e){const t=Date.now(),n=e.id||U(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function Ti(e){if(vi())try{Y.sessionStorage.setItem(ii,JSON.stringify(e))}catch{}}function Ly(e,t){return Au(e)?"session":t?"buffer":!1}function Ou({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Ly(e,t),i=Mu({sampled:s,previousSessionId:r});return n&&Ti(i),i}function Py(e){if(!vi())return null;try{const t=Y.sessionStorage.getItem(ii);if(!t)return null;const n=JSON.parse(t);return en("[Replay] Loading existing session",e),Mu(n)}catch{return null}}function Ii(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Nu(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Ii(e.started,t,r)||Ii(e.lastActivity,n,r)}function Du(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Nu(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function wi({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&Py(e);return i?Du(i,{sessionIdleExpire:t,maxReplayDuration:n})?(en("[Replay] Session in sessionStorage is expired, creating new one..."),Ou(s,{previousSessionId:i.id})):i:(en("[Replay] Creating new session",e),Ou(s,{previousSessionId:r}))}function Fy(e){return e.type===N.Custom}function ki(e,t,n){return Pu(e,t)?(Lu(e,t,n),!0):!1}function By(e,t,n){return Pu(e,t)?Lu(e,t,n):Promise.resolve(null)}async function Lu(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=Hy(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof Ei?"addEventSizeExceeded":"addEvent";G&&h.error(r),await e.stop({reason:s});const i=x();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function Pu(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Si(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(pe(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function Hy(e,t){try{if(typeof t=="function"&&Fy(e))return t(e)}catch(n){return G&&h.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Ri(e){return!e.type}function Ci(e){return e.type==="transaction"}function $y(e){return e.type==="replay_event"}function Fu(e){return e.type==="feedback"}function Bu(e){const t=jy();return(n,r)=>{if(!e.isEnabled()||!Ri(n)&&!Ci(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(Ci(n)){Uy(e,n);return}Wy(e,n)}}}function Uy(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Wy(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function jy(){const e=x();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function zy(e){return t=>{!e.isEnabled()||!Ri(t)||Gy(e,t)}}function Gy(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=De({category:"replay.hydrate-error"});Pn(e,r)}}function qy(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Yy(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:N.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Vy(e,t){return e.recordingMode!=="buffer"||t.message===oi||!t.exception||t.type?!1:Au(e.getOptions().errorSampleRate)}function Xy(e,t=!1){const n=t?Bu(e):void 0;return Object.assign((r,s)=>e.isEnabled()?$y(r)?(delete r.breadcrumbs,r):!Ri(r)&&!Ci(r)&&!Fu(r)||!e.checkAndHandleExpiredSession()?r:Fu(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),Yy(e,r),r):qy(r,s)&&!e.getOptions()._experiments.captureExceptions?(G&&h.log("[Replay] Ignoring error from rrweb internals",r),null):((Vy(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function Br(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:N.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function Ky(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Jy(e){return t=>{if(!e.isEnabled())return;const n=Ky(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Br(e,[n]),!1)))}}function Zy(e,t){return G&&e.getOptions()._experiments.traceInternals?!1:Mc(t,x())}function Hr(e,t){e.isEnabled()&&t!==null&&(Zy(e,t.name)||e.addUpdate(()=>(Br(e,[t]),!0)))}function Qy(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function eS(e){return t=>{if(!e.isEnabled())return;const n=Qy(t);Hr(e,n)}}function tS(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[je];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function nS(e){return t=>{if(!e.isEnabled())return;const n=tS(t);Hr(e,n)}}function $r(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Wu(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Hu(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function $u(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Wu(e)];if(!e)return[void 0]}catch{return G&&h.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return G&&h.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ur(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Uu(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:ue({method:i,statusCode:o,request:a,response:c})}}function Fn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function rt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=rS(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function xi(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function Wu(e){return new URLSearchParams(e).toString()}function rS(e){if(!e||typeof e!="string")return{body:e};const t=e.length>qc,n=sS(e);if(t){const r=e.slice(0,qc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function sS(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Wr(e,t){const n=iS(e);return Lt(n,t)}function iS(e,t=Y.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Y.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function oS(e,t,n){try{const r=await cS(e,t,n),s=Uu("resource.fetch",r);Hr(n.replay,s)}catch(r){G&&h.error("[Replay] Failed to capture fetch breadcrumb",r)}}function aS(e,t,n){const{input:r,response:s}=t,i=r?ju(r):void 0,o=$r(i,n.textEncoder),a=s?Hu(s.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function cS(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Wr(o,n.networkDetailAllowUrls)&&!Wr(o,n.networkDetailDenyUrls),f=d?uS(n,t.input,u):Fn(u),p=await lS(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:p}}function uS({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?pS(n,t):{};if(!e)return rt(s,r,void 0);const i=ju(n),[o,a]=$u(i),c=rt(s,r,o);return a?Ur(c,a):c}async function lS(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&i!==void 0)return Fn(i);const o=s?zu(s.headers,r):{};if(!s||!t&&i!==void 0)return rt(o,i,void 0);const[a,c]=await fS(s),u=dS(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});return c?Ur(u,c):u}function dS(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&r===void 0?$r(e,n):r;return s?t?rt(i,o,e):rt(i,o,void 0):Fn(o)}catch(o){return G&&h.warn("[Replay] Failed to serialize response body",o),rt(i,r,void 0)}}async function fS(e){const t=hS(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await mS(t)]}catch(n){return G&&h.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function ju(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function zu(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function pS(e,t){return e.length===1&&typeof e[0]!="string"?Gu(e[0],t):e.length===2?Gu(e[1],t):{}}function Gu(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?zu(n,t):Array.isArray(n)?{}:xi(n,t):{}}function hS(e){try{return e.clone()}catch(t){G&&h.warn("[Replay] Failed to clone response body",t)}}function mS(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);gS(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function gS(e){return await e.text()}async function _S(e,t,n){try{const r=SS(e,t,n),s=Uu("resource.xhr",r);Hr(n.replay,s)}catch(r){G&&h.error("[Replay] Failed to capture xhr breadcrumb",r)}}function yS(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=$r(s,n.textEncoder),o=r.getResponseHeader("content-length")?Hu(r.getResponseHeader("content-length")):TS(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function SS(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!Wr(c,n.networkDetailAllowUrls)||Wr(c,n.networkDetailDenyUrls)){const k=Fn(d),E=Fn(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:k,response:E}}const p=a[je],m=p?xi(p.request_headers,n.networkRequestHeaders):{},_=xi(bS(a),n.networkResponseHeaders),[S,g]=n.networkCaptureBodies?$u(o):[void 0],[y,b]=n.networkCaptureBodies?ES(a):[void 0],I=rt(m,d,S),M=rt(_,f,y);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:g?Ur(I,g):I,response:b?Ur(M,b):M}}function bS(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function ES(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return vS(e.response,e.responseType)}catch(n){t.push(n)}return G&&h.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function vS(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return G&&h.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return G&&h.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function TS(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return $r(r,n)}catch{return}}function IS(e){const t=x();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>wS(c,u,l)):(dr(eS(e)),lr(nS(e)))}catch{}}function wS(e,t,n){if(t.data)try{kS(t)&&CS(n)&&(yS(t,n,e),_S(t,n,e)),RS(t)&&xS(n)&&(aS(t,n,e),oS(t,n,e))}catch{G&&h.warn("Error when enriching network breadcrumb")}}function kS(e){return e.category==="xhr"}function RS(e){return e.category==="fetch"}function CS(e){return e&&e.xhr}function xS(e){return e&&e.response}let qu=null;function AS(e){return!!e.category}const MS=e=>t=>{if(!e.isEnabled())return;const n=OS(t);n&&Pn(e,n)};function OS(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return qu===t||!t||(qu=t,!AS(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?NS(t):De(t)}function NS(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return De(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>kr?(n=!0,`${s.slice(0,kr)}\u2026`):s;if(typeof s=="object")try{const i=be(s,7);return JSON.stringify(i).length>kr?(n=!0,`${JSON.stringify(i,null,2).slice(0,kr)}\u2026`):i}catch{}return s});return De({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function DS(e){const t=Q(),n=x();t.addScopeListener(MS(e)),_a(dy(e)),_n(Jy(e)),IS(e);const r=Xy(e,!Yu(n));n&&n.addEventProcessor?n.addEventProcessor(r):ua(r),Yu(n)&&(n.on("beforeSendEvent",zy(e)),n.on("afterSendEvent",Bu(e)),n.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function Yu(e){return!!(e&&e.on)}async function LS(e){try{return Promise.all(Br(e,[PS(Y.performance.memory)]))}catch{return[]}}function PS(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function FS(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function BS(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){G&&h.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&oy(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!ki(e,n,s))return!0;if(!s)return!1;if($S(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(pe(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&Ti(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function HS(e){const t=e.getOptions();return{type:N.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function $S(e,t){!t||!e.session||e.session.segmentId!==0||ki(e,HS(e),!1)}function US(e,t,n,r){return Je(sa(e,Cs(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function WS({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function jS({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,i);const o=await Ss(e.getOptions(),r,i,t,e,Ae());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function zS({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=WS({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=x(),f=Q(),p=d&&d.getTransport(),m=d&&d.getDsn();if(!d||!p||!m||!i.sampled)return;const _={type:Cg,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},S=await jS({scope:f,client:d,replayId:t,event:_});if(!S){d.recordDroppedEvent("event_processor","replay",_),pe("An event processor returned `null`, will not send event.");return}delete S.sdkProcessingMetadata;const g=US(S,o,m,d.getOptions().tunnel);let y;try{y=await p.send(g)}catch(I){const M=new Error(oi);try{M.cause=I}catch{}throw M}if(!y)return y;if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new Vu(y.statusCode);const b=ec({},y);if(Qa(b,"replay"))throw new Xu(b);return y}class Vu extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Xu extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Ku(e,t={count:0,interval:Dg}){const{recordingData:n,options:r}=e;if(n.length)try{return await zS(e),!0}catch(s){if(s instanceof Vu||s instanceof Xu)throw s;if(Po("Replays",{_retryCount:t.count}),G&&r._experiments&&r._experiments.captureExceptions&&hn(s),t.count>=Lg){const i=new Error(`${oi} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{setTimeout(async()=>{try{await Ku(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const Ju="__THROTTLED",GS="__SKIPPED";function qS(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?GS:Ju}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class st{constructor({options:t,recordingOptions:n}){st.prototype.__init.call(this),st.prototype.__init2.call(this),st.prototype.__init3.call(this),st.prototype.__init4.call(this),st.prototype.__init5.call(this),st.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:xg,sessionIdleExpire:Ag},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=FS(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=qS((o,a)=>By(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(Pg,r),timeout:r,scrollTimeout:Fg,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new ny(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",en(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");en("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=wi({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");en("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=wi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=tt({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Ng},emit:BS(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{pe(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Ny(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pe("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pe("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();pe("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Ii(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Y.location.pathname}${Y.location.hash}${Y.location.search}`,n=`${Y.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Ju){const s=De({category:"replay.throttled"});this.addUpdate(()=>!ki(this,{type:K_,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||Q().getTransaction(),r=(t&&j(t).data||{})[ge];if(!(!t||!r||!["route","custom"].includes(r)))return j(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Ay({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){G&&h.error("[Replay]",t),G&&this._options._experiments&&this._options._experiments.captureExceptions&&hn(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=wi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Du(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Y.document.addEventListener("visibilitychange",this._handleVisibilityChange),Y.addEventListener("blur",this._handleWindowBlur),Y.addEventListener("focus",this._handleWindowFocus),Y.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(DS(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Iy(this)}_removeListeners(){try{Y.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Y.removeEventListener("blur",this._handleWindowBlur),Y.removeEventListener("focus",this._handleWindowFocus),Y.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{Y.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=De({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=De({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{my(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Nu(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pe("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:N.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=yy(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Br(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){G&&h.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await LS(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Ku({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=x();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){G&&h.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){pe(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&pe("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){G&&h.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ti(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=De({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Bn(e,t,n,r){const s=typeof r=="string"?r.split(","):[],i=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),qe(()=>{})),i.join(",")}function YS({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=Bn(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=Bn(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:Bn(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:Bn(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Bn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(p.blockClass=i),a instanceof RegExp&&(p.maskTextClass=a),p}function VS({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Zu='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',XS=["content-length","content-type","accept"];let Qu=!1;const KS=e=>new Hn(e);class Hn{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Mg,flushMaxDelay:n=Og,minReplayDuration:r=Bg,maxReplayDuration:s=Yc,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:m=750,mutationLimit:_=1e4,slowClickTimeout:S=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:b=[],networkCaptureBodies:I=!0,networkRequestHeaders:M=[],networkResponseHeaders:k=[],mask:E=[],maskAttributes:L=["title","placeholder"],unmask:X=[],block:T=[],unblock:A=[],ignore:$=[],maskFn:ee,beforeAddRecordingEvent:ae,beforeErrorSampling:ye,blockClass:q,blockSelector:Se,maskInputOptions:te,maskTextClass:he,maskTextSelector:Ie,ignoreClass:Yi}={}){this.name=Hn.id;const an=YS({mask:E,unmask:X,block:T,unblock:A,ignore:$,blockClass:q,blockSelector:Se,maskTextClass:he,maskTextSelector:Ie,ignoreClass:Yi});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...te||{},password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(it,cn,zn)=>VS({maskAttributes:L,maskAllText:d,privacyOptions:an,key:it,value:cn,el:zn}),...an,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:it=>{try{it.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Hg),maxReplayDuration:Math.min(s,Yc),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:_,slowClickTimeout:S,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:b,networkCaptureBodies:I,networkRequestHeaders:el(M),networkResponseHeaders:el(k),beforeAddRecordingEvent:ae,beforeErrorSampling:ye,_experiments:c},typeof u=="number"&&(this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Zu}`:Zu),this._isInitialized&&Zs())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Qu}set _isInitialized(t){Qu=t}setupOnce(){Zs()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=JS(this._initialOptions);this._replay=new st({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=x().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Hn.__initStatic();function JS(e){const t=x(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ue(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&qe(()=>{}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(qe(()=>{}),r)}function el(e){return[...XS,...e.map(t=>t.toLowerCase())]}function ZS(){const e=x();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}const ET=null,vT=null;class TT extends null{}var tl;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(tl||(tl={}));function QS(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ai(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ai(e.parentNode,t,n,r+1)}function nl(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(QS(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const IT=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let rl={map:{},getId(){return-1},getNode(){return null},removeNodeFromMap(){},has(){return!1},reset(){}};typeof window<"u"&&window.Proxy&&window.Reflect&&(rl=new Proxy(rl,{get(e,t,n){return Reflect.get(e,t,n)}}));function Mi(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Mi(e,t,i||{},!0)}function Oi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function jr(e,t,n,r,s){if(!e)return!1;const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;const o=nl(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=Ai(i,o);let c=-1;return a<0?!1:(r&&(c=Ai(i,nl(null,r))),a>-1&&c<0?!0:a<c)}let Ni;function eb(){if(Ni)return Ni;const e=window.document;let t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return Ni=t.bind(window)}function Tt(...e){return eb()(...e)}var tn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(tn||{});let zr;function tb(e){zr=e}const sl=e=>zr?(...n)=>{try{return e(...n)}catch(r){if(zr&&zr(r)===!0)return()=>{};throw r}}:e;for(var nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nb=typeof Uint8Array>"u"?[]:new Uint8Array(256),Gr=0;Gr<nn.length;Gr++)nb[nn.charCodeAt(Gr)]=Gr;var rb=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=nn[t[n]>>2],s+=nn[(t[n]&3)<<4|t[n+1]>>4],s+=nn[(t[n+1]&15)<<2|t[n+2]>>6],s+=nn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const il=new Map;function sb(e,t){let n=il.get(e);return n||(n=new Map,il.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const ol=(e,t,n)=>{if(!e||!(cl(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=sb(n,r);let i=s.indexOf(e);return i===-1&&(i=s.length,s.push(e)),i};function qr(e,t,n){if(e instanceof Array)return e.map(r=>qr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=rb(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[qr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[qr(e.data,t,n),e.width,e.height]};if(cl(e,t)||typeof e=="object"){const r=e.constructor.name,s=ol(e,t,n);return{rr_type:r,index:s}}}}return e}const al=(e,t,n)=>e.map(r=>qr(r,t,n)),cl=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function ib(e,t,n,r,s){const i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of o)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Oi(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return jr(this.canvas,n,r,s,!0)||setTimeout(()=>{const d=al(l,t,this);e(this.canvas,{type:tn["2D"],property:a,args:d})},0),u.apply(this,l)}});i.push(c)}catch{const u=Mi(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:tn["2D"],property:a,args:[l],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function ob(e){return e==="experimental-webgl"?"webgl":e}function ul(e,t,n,r,s){const i=[];try{const o=Oi(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!jr(this,t,n,r,!0)){const l=ob(c);if("__context"in this||(this.__context=l),s&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){const d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(o)}catch{}return()=>{i.forEach(o=>o())}}function ll(e,t,n,r,s,i,o,a){const c=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;const d=Oi(e,l,function(f){return function(...p){const m=f.apply(this,p);if(ol(m,a,this),"tagName"in this.canvas&&!jr(this.canvas,r,s,i,!0)){const _=al(p,a,this),S={type:t,property:l,args:_};n(this.canvas,S)}return m}});c.push(d)}catch{const f=Mi(e,l,{set(p){n(this.canvas,{type:t,property:l,args:[p],setter:!0})}});c.push(f)}return c}function ab(e,t,n,r,s,i){const o=[];return o.push(...ll(t.WebGLRenderingContext.prototype,tn.WebGL,e,n,r,s,i,t)),typeof t.WebGL2RenderingContext<"u"&&o.push(...ll(t.WebGL2RenderingContext.prototype,tn.WebGL2,e,n,r,s,i,t)),()=>{o.forEach(a=>a())}}var cb='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function ub(){const e=new Blob([cb]);return URL.createObjectURL(e)}class lb{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&tb(l),!t.enableManualSnapshot&&sl(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,s,i,o),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,s,i,o,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,n,r,s,i,o,a){const c=ul(n,r,s,i,!0),u=this.takeSnapshot(!1,t,n,r,s,i,o,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,n,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=ul(t,n,r,s,!1),o=ib(this.processMutation.bind(this),t,n,r,s),a=ab(this.processMutation.bind(this),t,n,r,s,this.mirror);this.resetObservers=()=>{i(),o(),a()}}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,s,i,o,a,c,u){const l=new Map,d=new Worker(ub());d.onmessage=g=>{const y=g.data,{id:b}=y;if(l.set(b,!1),!("base64"in y))return;const{base64:I,type:M,width:k,height:E}=y;this.mutationCb({id:b,type:tn["2D"],commands:[{property:"clearRect",args:[0,0,k,E]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:I}],type:M}]},0,0,k,E]}]})};const f=1e3/n;let p=0,m;const _=g=>{if(g)return[g];const y=[];return r.document.querySelectorAll("canvas").forEach(b=>{jr(b,s,i,o,!0)||y.push(b)}),y},S=g=>{if(p&&g-p<f){m=Tt(S);return}p=g,_(u).forEach(y=>{const b=this.mirror.getId(y);if(!l.get(b)&&!(!y.width||!y.height)){if(l.set(b,!0),!t&&["webgl","webgl2"].includes(y.__context)){const I=y.getContext(y.__context);Er([I,"optionalAccess",M=>M.getContextAttributes,"call",M=>M(),"optionalAccess",M=>M.preserveDrawingBuffer])===!1&&I.clear(I.COLOR_BUFFER_BIT)}createImageBitmap(y).then(I=>{d.postMessage({id:b,bitmap:I,width:y.width,height:y.height,dataURLOptions:c,maxCanvasSize:a},[I])}).catch(I=>{sl(()=>{throw I})()})}}),m=Tt(S)};return m=Tt(S),m}startPendingCanvasMutationFlusher(){Tt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Tt(t)};Tt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Tt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(o=>{const{type:a,...c}=o;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:s}),this.pendingCanvasMutations.delete(t)}}const dl={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},fl="ReplayCanvas",Yr=1280,pl=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Yr):Yr,n?Math.min(n,Yr):Yr]};let s;const i=new Promise(o=>s=o);return{name:fl,setupOnce(){},getOptions(){const{quality:o,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const l=new lb({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:d=>{try{typeof d=="object"&&(d.__rrweb__=!0)}catch{}}});return s(l),l},...dl[o||"medium"]||dl.medium}},async snapshot(o){(await i).snapshot(o)}}},db=J(fl,pl),It=C,Di="#ffffff",hl="inherit",Li="rgba(108, 95, 199, 1)",ml={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Di,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"12px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Li,submitBorder:Li,submitOutlineFocus:"#29232f",submitForeground:Di,submitForegroundHover:Di,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:hl,inputForeground:hl,inputBorder:"var(--border)",inputOutlineFocus:Li,formBorderRadius:"20px",formContentBorderRadius:"6px"},gl={light:ml,dark:{...ml,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},fb="Report a Bug",pb="Cancel",hb="Send Bug Report",mb="Report a Bug",gb="your.email@example.org",_b="Email",yb="What's the bug? What did you expect?",Sb="Description",bb="Your Name",Eb="Name",vb="(required)",Tb="Thank you for your report!",_l="widget",yl="api";async function Ib({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await Ss(e.getOptions(),n,r,t,e,Ae());return s===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function wb({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=x(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return Ke(async l=>{l.clearBreadcrumbs(),[yl,_l].includes(String(r))&&l.setLevel("info");const d=await Ib({scope:l,client:o,event:u});if(!d)return;o.emit&&o.emit("beforeSendFeedback",d,{includeReplay:!!i});const f=ia(d,c,o.getOptions()._metadata,o.getOptions().tunnel);let p;try{p=await a.send(f)}catch(m){const _=new Error("Unable to send Feedback");try{_.cause=m}catch{}throw _}if(p){if(typeof p.statusCode=="number"&&(p.statusCode<200||p.statusCode>=300))throw new Error("Unable to send Feedback");return p}})}function Sl({name:e,email:t,message:n,source:r=yl,url:s=ro()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return wb({feedback:{name:e,email:t,message:n,url:s,source:r}},i)}const wt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function bl(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function kb(e){const t=e.createElement("style");return t.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function Rb(e){const t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function El(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function Cb(e,t,n){const r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${El(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${El(n.dark)}
  }
}`:""}
}`,r}function xb({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=It.document,i=s.createElement("div");i.id=e;const o=i.attachShadow({mode:"open"});return o.appendChild(Cb(s,t,{dark:n,light:r})),o.appendChild(Rb(s)),{shadow:o,host:i}}catch{throw h.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Ab(e,t,n){if(!e)return;const r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await Sl({...t,source:_l},n)}catch(s){wt&&h.error(s),r()}}function _e(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const rn=20,Mb="http://www.w3.org/2000/svg";function Ob(){const e=a=>It.document.createElementNS(Mb,a),t=_e(e("svg"),{class:"feedback-icon",width:`${rn}`,height:`${rn}`,viewBox:`0 0 ${rn} ${rn}`,fill:"none"}),n=_e(e("g"),{clipPath:"url(#clip0_57_80)"}),r=_e(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),i=_e(e("clipPath"),{id:"clip0_57_80"}),o=_e(e("rect"),{width:`${rn}`,height:`${rn}`,fill:"white"});return i.appendChild(o),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(o),{get el(){return t}}}function K(e,t,...n){const s=It.document.createElement(e);t&&Object.entries(t).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)vl(s,i);return s}function vl(e,t){const n=It.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(const r of t)vl(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function Nb({buttonLabel:e,onClick:t}){function n(s){t&&t(s)}const r=K("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},Ob().el,e?K("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function Db({label:e}){return{el:K("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function Pi(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function Lb({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,isRequiredLabel:o,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:f,defaultName:p,defaultEmail:m,onCancel:_,onSubmit:S}){const{el:g}=Db({label:c});function y(A){if(A.preventDefault(),A.target instanceof HTMLFormElement)try{if(S){const $=new FormData(A.target),ee={name:Pi($,"name"),email:Pi($,"email"),message:Pi($,"message")};S(ee)}}catch{}}const b=K("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function I(A){b.textContent=A,b.classList.remove("form__error-container--hidden"),b.setAttribute("aria-hidden","false")}function M(){b.textContent="",b.classList.add("form__error-container--hidden"),b.setAttribute("aria-hidden","true")}const k=K("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:p}),E=K("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:f,className:"form__input",placeholder:r,value:m}),L=K("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),X=K("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:A=>{_&&_(A)}},a),T=K("form",{className:"form",onSubmit:y},[b,u&&K("label",{htmlFor:"name",className:"form__label"},[K("span",{className:"form__label__text"},e,d&&K("span",{className:"form__label__text--required"},` ${o}`)),k]),!u&&k,l&&K("label",{htmlFor:"email",className:"form__label"},[K("span",{className:"form__label__text"},n,f&&K("span",{className:"form__label__text--required"},` ${o}`)),E]),!l&&E,K("label",{htmlFor:"message",className:"form__label"},[K("span",{className:"form__label__text"},s,K("span",{className:"form__label__text--required"},` ${o}`)),L]),K("div",{className:"btn-group"},[g,X])]);return{get el(){return T},showError:I,hideError:M}}const Pb="http://www.w3.org/2000/svg";function Fb({colorScheme:e}){const t=o=>It.document.createElementNS(Pb,o),n=_e(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=_e(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),i=t("style");return i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(i),n.append(s),{get el(){return n}}}function Bb({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let p=null;function m(){_(),u&&u()}function _(){p&&(p.open=!1)}function S(){p&&(p.open=!0)}function g(){return p&&p.open===!0||!1}const{el:y,showError:b,hideError:I}=Lb({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return p=K("dialog",{className:"dialog",open:!0,onClick:m},K("div",{className:"dialog__content",onClick:M=>{M.stopPropagation()}},K("h2",{className:"dialog__header"},e,t&&K("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},Fb({colorScheme:o}).el)),y)),{get el(){return p},showError:b,hideError:I,open:S,close:_,checkIsOpen:g}}const Vr=16,Tl=17,Hb="http://www.w3.org/2000/svg";function $b(){const e=c=>It.document.createElementNS(Hb,c),t=_e(e("svg"),{class:"success-icon",width:`${Vr}`,height:`${Tl}`,viewBox:`0 0 ${Vr} ${Tl}`,fill:"none"}),n=_e(e("g"),{clipPath:"url(#clip0_57_156)"}),r=_e(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=_e(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const i=e("defs"),o=_e(e("clipPath"),{id:"clip0_57_156"}),a=_e(e("rect"),{width:`${Vr}`,height:`${Vr}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),{get el(){return t}}}function Ub({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=K("div",{className:"success-message",onClick:n},$b().el,e);return{el:r,remove:n}}function Il({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,i,o=!1;function a(){if(e)try{const g=Ub({message:n.successMessageText,onRemove:()=>{y&&clearTimeout(y),l()}});if(!g.el)throw new Error("Unable to show success message");e.appendChild(g.el);const y=setTimeout(()=>{g&&g.remove()},5e3)}catch(g){h.error(g)}}async function c(g){if(!i)return;const y=[];if(n.isNameRequired&&!g.name&&y.push(n.nameLabel),n.isEmailRequired&&!g.email&&y.push(n.emailLabel),g.message||y.push(n.messageLabel),y.length>0){i.showError(`Please enter in the following required fields: ${y.join(", ")}`);return}if(!await Ab(i,g)){n.onSubmitError&&n.onSubmitError();return}_(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){const g=x(),y=g&&g.getIntegrationByName&&g.getIntegrationByName("Replay");y&&y.flush().catch(b=>{wt&&h.error(b)})}function l(){s&&s.show()}function d(){s&&s.hide()}function f(){s&&s.el&&s.el.remove()}function p(){try{if(i){i.open(),o=!0,n.onFormOpen&&n.onFormOpen(),u();return}const g=n.useSentryUser,y=Q(),b=y&&y.getUser();if(i=Bb({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:g&&b&&b[g.name]||"",defaultEmail:g&&b&&b[g.email]||"",onClosed:()=>{l(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{m(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(g){h.error(g)}}function m(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function _(){if(i){m();const g=i.el;g&&g.remove(),i=void 0}}function S(){o||p(),d()}return r?r.addEventListener("click",S):t&&(s=Nb({buttonLabel:n.buttonLabel,onClick:S}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:l,hideActor:d,removeActor:f,openDialog:p,closeDialog:m,removeDialog:_}}const Xr=It.document,Wb=e=>new $n(e);class $n{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:i=!0,showEmail:o=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=fb,cancelButtonLabel:p=pb,submitButtonLabel:m=hb,formTitle:_=mb,emailPlaceholder:S=gb,emailLabel:g=_b,messagePlaceholder:y=yb,messageLabel:b=Sb,namePlaceholder:I=bb,nameLabel:M=Eb,isRequiredLabel:k=vb,successMessageText:E=Tb,onFormClose:L,onFormOpen:X,onSubmitError:T,onSubmitSuccess:A}={}){this.name=$n.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:i,id:n,isEmailRequired:r,isNameRequired:s,showEmail:o,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...gl.dark,...u},themeLight:{...gl.light,...l},buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:m,formTitle:_,emailLabel:g,emailPlaceholder:S,messageLabel:b,messagePlaceholder:y,nameLabel:M,namePlaceholder:I,isRequiredLabel:k,successMessageText:E,onFormClose:L,onFormOpen:X,onSubmitError:T,onSubmitSuccess:A}}setupOnce(){if(Zs())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){wt&&h.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{const r=bl(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof t=="string"?Xr.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return wt&&h.error("[Feedback] Unable to attach to target element"),null;const o=Il({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return wt&&h.error(r),null}}createWidget(t){try{return this._createWidget(bl(this.options,t||{}))}catch(n){return wt&&h.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){wt&&h.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=Xr.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{const r=Il({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(kb(Xr)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=xb({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&Xr.body.appendChild(this._host),s}}$n.__initStatic();const wl="CaptureConsole",kl=(e={})=>{const t=e.levels||Gn;return{name:wl,setupOnce(){},setup(n){"console"in C&&ma(({args:r,level:s})=>{x()!==n||!t.includes(s)||jb(r,s)})}}},RT=J(wl,kl);function jb(e,t){const n={level:Bs(t),extra:{arguments:e}};Ke(r=>{if(r.addEventProcessor(o=>(o.logger="console",dt(o,{handled:!1,type:"console"}),o)),t==="assert"&&e[0]===!1){const o=`Assertion failed: ${Vn(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),ir(o,n);return}const s=e.find(o=>o instanceof Error);if(t==="error"&&s){hn(s,n);return}const i=Vn(e," ");ir(i,n)})}const Fi=C,zb=7,Rl="ContextLines",Cl=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:zb;return{name:Rl,setupOnce(){},processEvent(n){return Gb(n,t)}}},xT=J(Rl,Cl);function Gb(e,t){const n=Fi.document,r=Fi.location&&dh(Fi.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const o=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>qb(u,o,r,t)))}),e}function qb(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Kd(t,e,r),e}const xl="Debug",Al=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:xl,setupOnce(){},setup(n){n.on&&n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;qe(()=>{t.stringify,s&&Object.keys(s).length})})}}},MT=J(xl,Al),sn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ml="Dedupe",Ol=()=>{let e;return{name:Ml,setupOnce(){},processEvent(t){if(t.type)return t;try{if(Yb(t,e))return sn&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},NT=J(Ml,Ol);function Yb(e,t){return t?!!(Vb(e,t)||Xb(e,t)):!1}function Vb(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Dl(e,t)||!Nl(e,t))}function Xb(e,t){const n=Ll(t),r=Ll(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Dl(e,t)||!Nl(e,t))}function Nl(e,t){let n=Pl(e),r=Pl(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Dl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ll(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Pl(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Fl="ExtraErrorData",Bl=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:Fl,setupOnce(){},processEvent(r,s){return Kb(r,s,t,n)}}},LT=J(Fl,Bl);function Kb(e,t={},n,r){if(!t.originalException||!Mt(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,i=Jb(t.originalException,r);if(i){const o={...e.contexts},a=be(i,n);return lt(a)&&(Ve(a,"__sentry_skip_normalization__",!0),o[s]=a),{...e,contexts:o}}return e}function Jb(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(e)){if(n.indexOf(s)!==-1)continue;const i=e[s];r[s]=Mt(i)?i.toString():i}if(t&&e.cause!==void 0&&(r.cause=Mt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const s=e.toJSON();for(const i of Object.keys(s)){const o=s[i];r[i]=Mt(o)?o.toString():o}}return r}catch(n){sn&&h.error("Unable to extract extra data from the Error object:",n)}return null}const Hl="HttpClient",$l=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Hl,setupOnce(){},setup(n){iE(n,t),oE(n,t)}}},FT=J(Hl,$l);function Zb(e,t,n,r){if(Wl(e,n.status,n.url)){const s=aE(t,r);let i,o,a,c;zl()&&([{headers:i,cookies:a},{headers:o,cookies:c}]=[{cookieHeader:"Cookie",obj:s},{cookieHeader:"Set-Cookie",obj:n}].map(({cookieHeader:l,obj:d})=>{const f=tE(d.headers);let p;try{const m=f[l]||f[l.toLowerCase()]||void 0;m&&(p=Ul(m))}catch{sn&&h.log(`Could not extract cookies from header ${l}`)}return{headers:f,cookies:p}}));const u=jl({url:s.url,method:s.method,status:n.status,requestHeaders:i,responseHeaders:o,requestCookies:a,responseCookies:c});mn(u)}}function Qb(e,t,n,r){if(Wl(e,t.status,t.responseURL)){let s,i,o;if(zl()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(i=Ul(c))}catch{sn&&h.log("Could not extract cookies from response headers")}try{o=nE(t)}catch{sn&&h.log("Could not extract headers from response")}s=r}const a=jl({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:o,responseCookies:i});mn(a)}}function eE(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Ul(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return t[r]=s,t},{})}function tE(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function nE(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s]=i,n},{}):{}}function rE(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function sE(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function iE(e,t){ea()&&dr(n=>{if(x()!==e)return;const{response:r,args:s}=n,[i,o]=s;r&&Zb(t,i,r,o)})}function oE(e,t){"XMLHttpRequest"in C&&lr(n=>{if(x()!==e)return;const r=n.xhr,s=r[je];if(!s)return;const{method:i,request_headers:o}=s;try{Qb(t,r,i,o)}catch(a){sn&&h.warn("Error while extracting response event form XHR response",a)}})}function Wl(e,t,n){return sE(e.failedRequestStatusCodes,t)&&rE(e.failedRequestTargets,n)&&!Mc(n,x())}function jl(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:eE(e.responseHeaders)}}};return dt(n,{type:"http.client",handled:!1}),n}function aE(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function zl(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const cE=C,Gl="ReportingObserver",ql=new WeakMap,Yl=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(ql.has(x()))for(const s of r)Ke(i=>{i.setExtra("url",s.url);const o=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(i.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}ir(`${o}: ${a}`)})}return{name:Gl,setupOnce(){if(!gp())return;new cE.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){ql.set(r,!0)}}},HT=J(Gl,Yl);function Vl(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const uE=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Xl(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=uE.exec(t);return n?n.slice(1):[]}function Kl(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=Vl(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Jl(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function lE(e,t){e=Kl(e).slice(1),t=Kl(t).slice(1);const n=Jl(e.split("/")),r=Jl(t.split("/")),s=Math.min(n.length,r.length);let i=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){i=a;break}let o=[];for(let a=i;a<n.length;a++)o.push("..");return o=o.concat(r.slice(i)),o.join("/")}function dE(e){const t=fE(e),n=e.slice(-1)==="/";let r=Vl(e.split("/").filter(s=>!!s),!t).join("/");return!r&&!t&&(r="."),r&&n&&(r+="/"),(t?"/":"")+r}function fE(e){return e.charAt(0)==="/"}function $T(...e){return dE(e.join("/"))}function UT(e){const t=Xl(e),n=t[0];let r=t[1];return!n&&!r?".":(r&&(r=r.slice(0,r.length-1)),n+r)}function pE(e,t){let n=Xl(e)[2];return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}const Zl="RewriteFrames",Ql=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(o=>{if(!o.filename)return o;const a=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),c=/^\//.test(o.filename);if(a||c){const u=a?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,l=t?lE(t,u):pE(u);o.filename=`${n}${l}`}return o});function s(o){try{return{...o,exception:{...o.exception,values:o.exception.values.map(a=>({...a,...a.stacktrace&&{stacktrace:i(a.stacktrace)}}))}}}catch{return o}}function i(o){return{...o,frames:o&&o.frames&&o.frames.map(a=>r(a))}}return{name:Zl,setupOnce(){},processEvent(o){let a=o;return o.exception&&Array.isArray(o.exception.values)&&(a=s(a)),a}}},jT=J(Zl,Ql),ed="SessionTiming",td=()=>{const e=Date.now();return{name:ed,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},GT=J(ed,td);function nd(){w.document?w.document.addEventListener("visibilitychange",()=>{const e=Oe();if(w.document.hidden&&e){const t="cancelled",{op:n,status:r}=j(e);F&&h.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):F&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}function hE(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=mt(t));const r=e.map(mE);return Je(n,r)}function mE(e){return[{type:"span"},e]}function Bi(e){return typeof e=="number"&&isFinite(e)}function on(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const gE=2147483647;function oe(e){return e/1e3}function Hi(){return w&&w.addEventListener&&w.performance}let rd=0,Z={},Le,Un;function sd(){const e=Hi();if(e&&le){e.mark&&w.performance.mark("sentry-tracing-init");const t=SE(),n=_E(),r=yE(),s=bE();return()=>{t(),n(),r(),s()}}return()=>{}}function id(){Ze("longtask",({entries:e})=>{for(const t of e){const n=Oe();if(!n)return;const r=oe(le+t.startTime),s=oe(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function od(){Ze("event",({entries:e})=>{for(const t of e){const n=Oe();if(!n)return;if(t.name==="click"){const r=oe(le+t.startTime),s=oe(t.duration),i={description:Ye(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=io(t.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function ad(e,t){if(Hi()&&le){const r=EE(e,t);return()=>{r()}}return()=>{}}function _E(){return yg(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(F&&h.log("[Measurements] Adding CLS"),Z.cls={value:e.value,unit:""},Un=t)},!0)}function yE(){return jc(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(F&&h.log("[Measurements] Adding LCP"),Z.lcp={value:e.value,unit:"millisecond"},Le=t)},!0)}function SE(){return bg(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=oe(le),r=oe(t.startTime);F&&h.log("[Measurements] Adding FID"),Z.fid={value:e.value,unit:"millisecond"},Z["mark.fid"]={value:n+r,unit:"second"}})}function bE(){return Sg(({metric:e})=>{e.entries[e.entries.length-1]&&(F&&h.log("[Measurements] Adding TTFB"),Z.ttfb={value:e.value,unit:"millisecond"})})}const cd={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function EE(e,t){return Eg(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&cd[b.name]!==void 0),s=x();if(!r||!s)return;const i=cd[r.name],o=s.getOptions(),a=oe(le+r.startTime),c=oe(n.value),u=r.interactionId!==void 0?e[r.interactionId]:void 0;if(u===void 0)return;const{routeName:l,parentContext:d,activeTransaction:f,user:p,replayId:m}=u,_=p!==void 0?p.email||p.id||p.ip_address:void 0,S=f!==void 0?f.getProfileId():void 0,g=new yr({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:Ye(r.target),attributes:{release:o.release,environment:o.environment,transaction:l,..._!==void 0&&_!==""?{user:_}:{},...S!==void 0?{profile_id:S}:{},...m!==void 0?{replay_id:m}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=xE(d,o,t);if(y&&Math.random()<y){const b=g?hE([g],s.getDsn()):void 0,I=s&&s.getTransport();I&&b&&I.send(b).then(null,M=>{F&&h.error("Error while sending interaction:",M)});return}})}function ud(e){const t=Hi();if(!t||!w.performance.getEntries||!le)return;F&&h.log("[Tracing] Adding & adjusting spans using Performance API");const n=oe(le),r=t.getEntries(),{op:s,start_timestamp:i}=j(e);if(r.slice(rd).forEach(o=>{const a=oe(o.startTime),c=oe(o.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{TE(e,o,n);break}case"mark":case"paint":case"measure":{vE(e,o,a,c,n);const u=ei(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(F&&h.log("[Measurements] Adding FP"),Z.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(F&&h.log("[Measurements] Adding FCP"),Z.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{wE(e,o,o.name,a,c,n);break}}}),rd=Math.max(r.length-1,0),kE(e),s==="pageload"){CE(Z),["fcp","fp","lcp"].forEach(a=>{if(!Z[a]||!i||n>=i)return;const c=Z[a].value,u=n+oe(c),l=Math.abs((u-i)*1e3),d=l-c;F&&h.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),Z[a].value=l});const o=Z["mark.fid"];o&&Z.fid&&(on(e,{description:"first input delay",endTimestamp:o.value+oe(Z.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete Z["mark.fid"]),"fcp"in Z||delete Z.cls,Object.keys(Z).forEach(a=>{Ac(a,Z[a].value,Z[a].unit)}),RE(e)}Le=void 0,Un=void 0,Z={}}function vE(e,t,n,r,s){const i=s+n,o=i+r;return on(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function TE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Kr(e,t,r,n)}),Kr(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Kr(e,t,"fetch",n,"cache","domainLookupStart"),Kr(e,t,"domainLookup",n,"DNS"),IE(e,t,n)}function Kr(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||on(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+oe(a),endTimestamp:r+oe(o)})}function IE(e,t,n){t.responseEnd&&(on(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+oe(t.requestStart),endTimestamp:n+oe(t.responseEnd)}),on(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+oe(t.responseStart),endTimestamp:n+oe(t.responseEnd)}))}function wE(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=St(n),a={};$i(a,t,"transferSize","http.response_transfer_size"),$i(a,t,"encodedBodySize","http.response_content_length"),$i(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(w.location.origin);const c=i+r,u=c+s;on(e,{description:n.replace(w.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function kE(e){const t=w.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Bi(n.rtt)&&(Z["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Bi(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Bi(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function RE(e){Le&&(F&&h.log("[Measurements] Adding LCP Data"),Le.element&&e.setTag("lcp.element",Ye(Le.element)),Le.id&&e.setTag("lcp.id",Le.id),Le.url&&e.setTag("lcp.url",Le.url.trim().slice(0,200)),e.setTag("lcp.size",Le.size)),Un&&Un.sources&&(F&&h.log("[Measurements] Adding CLS Data"),Un.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Ye(t.node))))}function $i(e,t,n,r){const s=t[n];s!=null&&s<gE&&(e[r]=s)}function CE(e){const t=vr();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(F&&h.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function xE(e,t,n){if(!Wt(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:w.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,Tc(r)?r===!0?n:r===!1?0:r*n:(F&&h.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function AE(e,t,n,r,s="auto.http.browser"){if(!Wt()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const p=e.fetchData.__span;if(!p)return;const m=r[p];m&&(NE(m,e),delete r[p]);return}const o=Q(),a=x(),{method:c,url:u}=e.fetchData,l=OE(u),d=l?St(l).host:void 0,f=i?Vs({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[Et]:s},op:"http.client"}):void 0;if(f&&(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=ME(p,a,o,m,f)}return f}function ME(e,t,n,r,s){const i=s||n.getSpan(),o=Ae(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Zn(i):ds(a,c,u),f=bo(l||(i?Ft(i):er(a,t,n))),p=r.headers||(typeof Request<"u"&&He(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&He(p,Headers)){const m=new Headers(p);return m.append("sentry-trace",d),f&&m.append(us,f),m}else if(Array.isArray(p)){const m=[...p,["sentry-trace",d]];return f&&m.push([us,f]),m}else{const m="baggage"in p?p.baggage:void 0,_=[];return Array.isArray(m)?_.push(...m):m&&_.push(m),f&&_.push(f),{...p,"sentry-trace":d,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}function OE(e){try{return new URL(e).href}catch{return}}function NE(e,t){if(t.response){_r(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const Ui=["localhost",/^\/(?!\/)/],Wn={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Ui,tracePropagationTargets:Ui};function Wi(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Wn.traceFetch,traceXHR:Wn.traceXHR,...e},a=typeof i=="function"?i:l=>!0,c=l=>FE(l,r||s),u={};t&&dr(l=>{const d=AE(l,a,c,u);if(d){const f=dd(l.fetchData.url),p=f?St(f).host:void 0;d.setAttributes({"http.url":f,"server.address":p})}o&&d&&ld(d)}),n&&lr(l=>{const d=BE(l,a,c,u);o&&d&&ld(d)})}function DE(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ld(e){const{url:t}=j(e).data||{};if(!t||typeof t!="string")return;const n=Ze("resource",({entries:r})=>{r.forEach(s=>{DE(s)&&s.name.endsWith(t)&&(PE(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function LE(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Pe(e=0){return((le||performance.timeOrigin)+e)/1e3}function PE(e){const{name:t,version:n}=LE(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),le?[...r,["http.request.redirect_start",Pe(e.redirectStart)],["http.request.fetch_start",Pe(e.fetchStart)],["http.request.domain_lookup_start",Pe(e.domainLookupStart)],["http.request.domain_lookup_end",Pe(e.domainLookupEnd)],["http.request.connect_start",Pe(e.connectStart)],["http.request.secure_connection_start",Pe(e.secureConnectionStart)],["http.request.connection_end",Pe(e.connectEnd)],["http.request.request_start",Pe(e.requestStart)],["http.request.response_start",Pe(e.responseStart)],["http.request.response_end",Pe(e.responseEnd)]]:r}function FE(e,t){return Lt(e,t||Ui)}function BE(e,t,n,r){const s=e.xhr,i=s&&s[je];if(!Wt()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const p=s.__sentry_xhr_span_id__;if(!p)return;const m=r[p];m&&i.status_code!==void 0&&(_r(m,i.status_code),m.end(),delete r[p]);return}const a=Q(),c=Ae(),u=dd(i.url),l=u?St(u).host:void 0,d=o?Vs({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":l,[Et]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const f=x();if(s.setRequestHeader&&n(i.url)&&f){const{traceId:p,spanId:m,sampled:_,dsc:S}={...c.getPropagationContext(),...a.getPropagationContext()},g=d?Zn(d):ds(p,m,_),y=bo(S||(d?Ft(d):er(p,f,a)));HE(s,g,y)}return d}function HE(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(us,n)}catch{}}function dd(e){try{return new URL(e,w.location.origin).href}catch{return}}function $E(e,t=!0,n=!0){if(!w||!w.location){F&&h.warn("Could not initialize routing instrumentation due to invalid location");return}let r=w.location.href,s;t&&(s=e({name:w.location.pathname,startTimestamp:le?le/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&_n(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(F&&h.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=e({name:w.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const UE="BrowserTracing",WE={...Tn,markBackgroundTransactions:!0,routingInstrumentation:$E,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Wn},fd=10;class jE{constructor(t){this.name=UE,this._hasSetTracePropagationTargets=!1,Ks(),F&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...WE,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=sd(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&ad(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&id(),this.options._experiments.enableInteractions&&od(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=this.options,_=i&&i.tracePropagationTargets,S=_||this.options.tracePropagationTargets;F&&this._hasSetTracePropagationTargets&&_&&h.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(g=>{const y=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(y,g,n),y},c,a),u&&nd(),m.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Wi({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(t){if(!this._getCurrentHub){F&&h.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=t.op==="pageload";let c;if(a){const p=a?pd("sentry-trace"):"",m=a?pd("baggage"):void 0,{traceId:_,dsc:S,parentSpanId:g,sampled:y}=vo(p,m);c={traceId:_,parentSpanId:g,parentSampled:y,...t,metadata:{...t.metadata,dynamicSamplingContext:S},trimEnd:!0}}else c={trimEnd:!0,...t};const u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&F&&h.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),F&&h.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:d}=w,f=Sr(n,l,s,i,!0,{location:d},o,a);return a&&w.document&&(w.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(w.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(w.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(p=>{this._collectWebVitals(),ud(p)}),f}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=Oe();if(a&&a.op&&["navigation","pageload"].includes(a.op)){F&&h.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){F&&h.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){F&&h.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=w,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[ge]:this._latestRoute.context?zE(this._latestRoute.context):"url"}};t=Sr(c,l,r,s,!0,{location:u},i)};["click"].forEach(r=>{w.document&&addEventListener(r,n,{once:!1,capture:!0})})}_registerInpInteractionListener(){const t=({entries:n})=>{const r=x(),s=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,o=Oe(),a=Q(),c=a!==void 0?a.getUser():void 0;n.forEach(u=>{if(GE(u)){const l=u.interactionId;if(l===void 0)return;const d=this._interactionIdToRouteNameMapping[l],f=u.duration,p=u.startTime,m=Object.keys(this._interactionIdToRouteNameMapping),_=m.length>0?m.reduce((S,g)=>this._interactionIdToRouteNameMapping[S].duration<this._interactionIdToRouteNameMapping[g].duration?S:g):void 0;if(u.entryType==="first-input"&&m.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===f&&g.startTime===p)||!l)return;if(d)d.duration=Math.max(d.duration,f);else if(m.length<fd||_===void 0||f>this._interactionIdToRouteNameMapping[_].duration){const S=this._latestRoute.name,g=this._latestRoute.context;S&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=fd&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:S,duration:f,parentContext:g,user:c,activeTransaction:o,replayId:i,startTime:p})}}})};Ze("event",t),Ze("first-input",t)}}function pd(e){const t=so(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function zE(e){const t=e.attributes&&e.attributes[ge],n=e.data&&e.data[ge],r=e.metadata&&e.metadata.source;return t||n||r}function GE(e){return"duration"in e}const qE="BrowserTracing",YE={...Tn,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Wn},VE=(e={})=>{const t=F?!!(e.tracePropagationTargets||e.tracingOrigins):!1;Ks(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...YE,...e},r=sd(),s={};n.enableInp&&ad(s,n.interactionsSampleRate),n.enableLongTask&&id(),n._experiments.enableInteractions&&od();const i={name:void 0,context:void 0};function o(a){const c=W(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,p=a.op==="pageload";let m;if(p){const y=p?gd("sentry-trace"):"",b=p?gd("baggage"):void 0,{traceId:I,dsc:M,parentSpanId:k,sampled:E}=vo(y,b);m={traceId:I,parentSpanId:k,parentSampled:E,...a,metadata:{...a.metadata,dynamicSamplingContext:M},trimEnd:!0}}else m={trimEnd:!0,...a};const _=u?u(m):m;_.metadata=_.name!==m.name?{..._.metadata,source:"custom"}:_.metadata,i.name=_.name,i.context=_,_.sampled===!1&&F&&h.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),F&&h.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:S}=w,g=Sr(c,_,l,d,!0,{location:S},f,p);return p&&w.document&&(w.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(w.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(w.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(y=>{r(),ud(y)}),g}return{name:qE,setupOnce:()=>{},afterAllSetup(a){const c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=n,_=c&&c.tracePropagationTargets,S=_||n.tracePropagationTargets;F&&t&&_&&h.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,y=w.location&&w.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{g&&(F&&h.log(`[Tracing] Finishing current transaction with op: ${j(g).op}`),g.end()),g=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{g&&(F&&h.log(`[Tracing] Finishing current transaction with op: ${j(g).op}`),g.end()),g=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&w.location){const b={name:w.location.pathname,startTimestamp:le?le/1e3:void 0,origin:"auto.pageload.browser",attributes:{[ge]:"url"}};hd(a,b)}n.instrumentNavigation&&a.emit&&w.location&&_n(({to:b,from:I})=>{if(I===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(I!==b){y=void 0;const M={name:w.location.pathname,origin:"auto.navigation.browser",attributes:{[ge]:"url"}};md(a,M)}}),u&&nd(),m.enableInteractions&&XE(n,i),n.enableInp&&JE(s,i),Wi({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})},options:n}};function hd(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=En();return(n&&j(n).op)==="pageload"?n:void 0}function md(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=En();return(n&&j(n).op)==="navigation"?n:void 0}function gd(e){const t=so(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function XE(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=e,a="ui.action.click",c=Oe();if(c&&c.op&&["navigation","pageload"].includes(c.op)){F&&h.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){F&&h.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=w,l={name:t.name,op:a,trimEnd:!0,data:{[ge]:t.context?ZE(t.context):"url"}};n=Sr(W(),l,s,i,!0,{location:u},o)};["click"].forEach(s=>{w.document&&addEventListener(s,r,{once:!1,capture:!0})})}function KE(e){return"duration"in e}const _d=10;function JE(e,t){const n=({entries:r})=>{const s=x(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=Oe(),c=Q(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(KE(l)){const d=l.interactionId;if(d===void 0)return;const f=e[d],p=l.duration,m=l.startTime,_=Object.keys(e),S=_.length>0?_.reduce((g,y)=>e[g].duration<e[y].duration?g:y):void 0;if(l.entryType==="first-input"&&_.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===m)||!d)return;if(f)f.duration=Math.max(f.duration,p);else if(_.length<_d||S===void 0||p>e[S].duration){const g=t.name,y=t.context;g&&y&&(S&&Object.keys(e).length>=_d&&delete e[S],e[d]={routeName:g,duration:p,parentContext:y,user:u,activeTransaction:a,replayId:o,startTime:m})}}})};Ze("event",n),Ze("first-input",n)}function ZE(e){const t=e.attributes&&e.attributes[ge],n=e.data&&e.data[ge],r=e.metadata&&e.metadata.source;return t||n||r}const QE=100,yd=5e3,ev=36e5;function ji(e,t){v&&h.info(`[Offline]: ${e}`,t)}function tv(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s=yd,i;function o(l,d,f){return bp(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const d=await r.pop();d&&(ji("Attempting to send previously queued event"),u(d).catch(f=>{ji("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(s),s=Math.min(s*2,ev))}async function u(l){try{const d=await n.send(l);let f=QE;if(d){if(d.headers&&d.headers["retry-after"])f=Za(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),s=yd,d}catch(d){if(r&&await o(l,d,s))return await r.insert(l),c(),ji("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function jn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function nv(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=jn(n);return s=>r.then(i=>s(i.transaction(t,"readwrite").objectStore(t)))}function Sd(e){return jn(e.getAllKeys())}function rv(e,t,n){return e(r=>Sd(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),jn(r.transaction)}))}function sv(e){return e(t=>Sd(t).then(n=>{if(n.length!==0)return jn(t.get(n[0])).then(r=>(t.delete(n[0]),jn(t.transaction).then(()=>r)))}))}function iv(e){let t;function n(){return t==null&&(t=nv(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{const s=await na(r,e.textEncoder);await rv(n(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{const r=await sv(n());if(r)return vp(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function ov(e){return t=>e({...t,createStore:iv})}function av(e){return ov(tv(e))}const bd=1e6,Jr=String(0),cv="main";let Ed="",vd="",Td="",zi=R.navigator&&R.navigator.userAgent||"",Id="";const uv=R.navigator&&R.navigator.language||R.navigator&&R.navigator.languages&&R.navigator.languages[0]||"";function lv(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const wd=R.navigator&&R.navigator.userAgentData;lv(wd)&&wd.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Ed=e.platform||"",Td=e.architecture||"",Id=e.model||"",vd=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];zi=`${t.brand} ${t.version}`}}).catch(e=>{});function dv(e){return!("thread_metadata"in e)}function fv(e){return dv(e)?mv(e):e}function pv(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&P&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function hv(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=pv(r),i=fv(n),o=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||ln,runtime:{name:"javascript",version:R.navigator.userAgent},os:{name:Ed,version:vd,build_number:zi},device:{locale:uv,model:Id,manufacturer:zi,architecture:Td,is_emulator:!1},debug_meta:{images:yv(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||U(),trace_id:s,active_thread_id:Jr,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function kd(e){return e.op==="pageload"}function mv(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Jr]:{name:cv}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:le||0,o=i-(le||i);for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+o-s)*bd).toFixed(0),stack_id:t,thread_id:Jr};continue}let u=e.stacks[c.stackId];const l=[];for(;u;){l.push(u.frameId);const f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}const d={elapsed_since_start_ns:((c.timestamp+o-s)*bd).toFixed(0),stack_id:n,thread_id:Jr};r.stacks[n]=l,r.samples[a]=d,n++}return r}function gv(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function _v(e){const t=[];return Ht(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[s])}}),t}const Rd=new WeakMap;function yv(e){const t=C._sentryDebugIds;if(!t)return[];const n=x(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=Rd.get(s);o?i=o:(i=new Map,Rd.set(s,i));const a=Object.keys(t).reduce((u,l)=>{let d;const f=i.get(l);f?d=f:(d=s(l),i.set(l,d));for(let p=d.length-1;p>=0;p--){const m=d[p],_=m&&m.filename;if(m&&_){u[_]=t[l];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function Sv(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(P&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(P&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function bv(e){return e.samples.length<2?(P&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(P&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Cd=!1;const xd=3e4;function Ev(e){return typeof e=="function"}function vv(){const e=R.Profiler;if(!Ev(e)){P&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(xd/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{P&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),Cd=!0}}function Gi(e){if(Cd)return P&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return P&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t&&t.getOptions();if(!n)return P&&h.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Sv(r)?r?(r===!0?!0:Math.random()<r)?!0:(P&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(P&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(P&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Tv(e,t,n,r){return bv(n)?hv(e,t,n,r):null}const kt=new Map;function Iv(){return kt.size}function wv(e){const t=kt.get(e);return t&&kt.delete(e),t}function kv(e,t){if(kt.set(e,t),kt.size>30){const n=kt.keys().next().value;kt.delete(n)}}function Rv(e){return e?Gi(e)?qi(e):e:(P&&h.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function qi(e){let t;kd(e)&&(t=ft()*1e3);const n=vv();if(!n)return e;P&&h.log(`[Profiling] started profiling transaction: ${j(e).description}`);const r=U();async function s(){return!e||!n?null:n.stop().then(c=>(i&&(R.clearTimeout(i),i=void 0),P&&h.log(`[Profiling] stopped profiling of transaction: ${j(e).description}`),c?(kv(r,c),null):(P&&h.log(`[Profiling] profiler returned null profile for: ${j(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(P&&h.log("[Profiling] error while stopping profiler:",c),null))}let i=R.setTimeout(()=>{P&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",j(e).description),s()},xd);const o=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),o()},()=>{o()}),e):o()}return e.end=a,e}const Ad="BrowserProfiling",Md=()=>({name:Ad,setupOnce(){},setup(e){const n=Q().getTransaction();if(n&&kd(n)&&Gi(n)&&qi(n),typeof e.on!="function"){h.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{Gi(r)&&qi(r)}),e.on("beforeEnvelope",r=>{if(!Iv())return;const s=_v(r);if(!s.length)return;const i=[];for(const o of s){const a=o&&o.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){P&&h.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){P&&h.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;const l=wv(c);if(!l){P&&h.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}const d=Tv(c,u,l,o);d&&i.push(d)}gv(r,i)})}}),Cv=J(Ad,Md);let Od={};R.Sentry&&R.Sentry.Integrations&&(Od=R.Sentry.Integrations);const xv={...Od,...hm,...ot};var Av=(e,t,n)=>new Promise((r,s)=>{var i=c=>{try{a(n.next(c))}catch(u){s(u)}},o=c=>{try{a(n.throw(c))}catch(u){s(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(e,t)).next())});const Nd=[],Mv=e=>Av(void 0,null,function*(){const t=JSON.stringify({blocked_uri:e.blockedURI,source_file:e.sourceFile,violated_directive:e.violatedDirective});Nd.find(r=>r===t)||(Nd.push(t),fetch("/api/v4/csp_report/",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":window.CSRF_TOKEN},mode:"same-origin",body:t}).catch(()=>{}))});try{oc({dsn:window.SENTRY_JS_DSN,release:window.RELEASE,environment:window.ENVIRONMENT,integrations:[],tracesSampleRate:1}),document.addEventListener("securitypolicyviolation",Mv)}catch{}window.Sentry=at}},Re=>{var At=Fe=>Re(Re.s=Fe),se=At(95698)}]);

</script>

</body>
</html>

!function(){"use strict";var s,u,n={91334:function(t,e,n){var i=n(31601),i=n.n(i),o=n(76314),n=n.n(o)()(i());n.push([t.id,".highlightinv-widget-mount .product-list-container .product-list-title{font-size:18px;font-weight:bold;text-align:left;margin-bottom:10px}.highlightinv-widget-mount .product-list-container .product-title{font-size:.875rem}.highlightinv-widget-mount .product-list-container .product-price{font-size:.875rem}",""]),e.A=n},62709:function(t,e,n){n.r(e);var i=n(85072),i=n.n(i),o=n(97825),o=n.n(o),r=n(77659),r=n.n(r),a=n(55056),a=n.n(a),c=n(10540),c=n.n(c),l=n(41113),l=n.n(l),n=n(91334),s={};s.styleTagTransform=l(),s.setAttributes=a(),s.insert=r().bind(null,"head"),s.domAPI=o(),s.insertStyleElement=c(),i()(n.A,s),e.default=n.A&&n.A.locals?n.A.locals:void 0},56233:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.displayConfigurationDefault=e.displayConfigurationsCollectible=e.displayConfigurations=e.sortCodeMappings=e.Sort=e.MAX_ITEMS=e.MIN_ITEMS=void 0,e.MIN_ITEMS=3,e.MAX_ITEMS=5,(i=n=n||{})[i.H=1]="H",i[i.L=17]="L",i[i.R=20]="R",i[i.F=100]="F",i[i.N=101]="N",(i={})[(e.Sort=n).H]="SORT_MODE_PRICE_DESC",i[n.L]="SORT_MODE_PRICE_SHIP_DESTINATION_ASC",i[n.R]="SORT_MODE_RELEVANCE",i[n.F]="SORT_MODE_FEATURED",i[n.N]="SORT_MODE_NBC";e.sortCodeMappings=i,(i={})[n.H]=[((o={})[n.R]=2,o),((o={})[n.F]=1,o),((o={})[n.L]=1,o),((o={})[n.N]=1,o)],i[n.L]=[((o={})[n.R]=2,o),((o={})[n.F]=1,o),((o={})[n.H]=1,o),((o={})[n.N]=1,o)],i[n.R]=[((o={})[n.F]=2,o),((o={})[n.L]=1,o),((o={})[n.H]=1,o),((o={})[n.N]=1,o)],i[n.F]=[((o={})[n.R]=2,o),((o={})[n.L]=1,o),((o={})[n.H]=1,o),((o={})[n.N]=1,o)];var n,i,o=i,o=(e.displayConfigurations=o,(i={})[n.H]=[((o={})[n.F]=3,o),((o={})[n.L]=1,o),((o={})[n.N]=1,o)],i[n.L]=[((o={})[n.F]=3,o),((o={})[n.H]=1,o),((o={})[n.N]=1,o)],i[n.R]=[((o={})[n.F]=2,o),((o={})[n.L]=1,o),((o={})[n.H]=1,o),((o={})[n.N]=1,o)],i[n.F]=[((o={})[n.R]=2,o),((o={})[n.L]=1,o),((o={})[n.H]=1,o),((o={})[n.N]=1,o)],i),o=(e.displayConfigurationsCollectible=o,[((i={})[n.H]=1,i),((o={})[n.L]=1,o),((i={})[n.F]=1,i),((o={})[n.R]=1,o),((i={})[n.N]=1,i)]);e.displayConfigurationDefault=o},22829:function(t,e,n){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__awaiter||function(t,a,c,l){return new(c=c||Promise)(function(n,e){function i(t){try{r(l.next(t))}catch(t){e(t)}}function o(t){try{r(l.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof c?e:new c(function(t){t(e)})).then(i,o)}r((l=l.apply(t,a||[])).next())})},l=this&&this.__generator||function(i,o){var r,a,c,l={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},s={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function t(n){return function(t){var e=[n,t];if(r)throw new TypeError("Generator is already executing.");for(;l=s&&e[s=0]?0:l;)try{if(r=1,a&&(c=2&e[0]?a.return:e[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,e[1])).done)return c;switch(a=0,(e=c?[2&e[0],c.value]:e)[0]){case 0:case 1:c=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,a=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!((c=0<(c=l.trys).length&&c[c.length-1])||6!==e[0]&&2!==e[0])){l=0;continue}if(3===e[0]&&(!c||e[1]>c[0]&&e[1]<c[3]))l.label=e[1];else if(6===e[0]&&l.label<c[1])l.label=c[1],c=e;else{if(!(c&&l.label<c[2])){c[2]&&l.ops.pop(),l.trys.pop();continue}l.label=c[2],l.ops.push(e)}}e=o.call(i,l)}catch(t){e=[6,t],a=0}finally{r=c=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},s=(Object.defineProperty(e,"__esModule",{value:!0}),n(49645)),e=n(90537),a=n(57487),u=n(56233),p=n(82244),d=(n(62709),n(47765));function f(){return null!==o&&o.apply(this,arguments)||this}o=e.ProductWidgetInitializer,r(f,o),f.prototype.getMountSelector=function(){return".highlightinv-widget-mount"},f.prototype.getWidgetData=function(i){return c(this,void 0,void 0,function(){var e,n;return l(this,function(t){switch(t.label){case 0:e=i.dataset.searchQueryString,e="https://".concat(document.domain,"/servlet/HighlightInventory").concat(e),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,fetch(e)];case 2:if((n=t.sent()).ok)return[2,(0,d.legacyFetchResponseToJson)(n)];throw new Error("Highlighted inventory API reponded with status ".concat(n.status));case 3:throw n=t.sent(),new Error("Highlighted inventory fetch failed ".concat(n));case 4:return[2]}})})},f.prototype.getWidgetProps=function(r,a){return c(this,void 0,void 0,function(){var e,n,i,o;return l(this,function(t){return e=r.dataset.searchQueryString,n=+r.dataset.selectedSort,i="true"===r.dataset.hasCollectibleFilters,o=this.getCardProps(a,n,i,e),[2,{id:"highlight-inv",title:a.widgetTitle,layout:s.ProductWidgetLayout.FILMSTRIP,cardProps:o,minCards:u.MIN_ITEMS,csaComponent:"highlight-inventory",csaPainter:"recommendations:search-terms",onMount:function(){return(0,p.doDigitalAnalyticsTagging)(o.length.toString(10))}}]})})},f.prototype.getCardProps=function(i,o,t,r){return(0,p.getItemsToDisplay)(i.highlightedItemsMap,o,t).map(function(t,e){var n=t.item,t={imageAlt:"",title:n.title,author:n.author,badgeLabels:n.bsaCodeLabels,productType:n.productType,priceLabel:i.priceLabel?"".concat(i.priceLabel,": "):void 0,price:n.displayPrice,shippingCostLabel:i.shippingLabel?"".concat(i.shippingLabel," "):void 0,shippingCost:(0,p.isFreeShipping)(n.displayShipping)?0:n.displayShipping,freeShippingLabel:i.freeShippingLabel,imageUrl:n.imageUrl,productUrl:(0,p.getTaggedProductUrl)(t,o,r),lazyLoad:!0,csaItemId:"bi-".concat(n.listingId),index:e+1};return{type:a.ProductCardType.SIMPLE,details:t}})},new f},82244:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getTaggedProductUrl=e.getItemsToDisplay=e.isFreeShipping=e.doDigitalAnalyticsTagging=void 0;var s=n(56233);e.doDigitalAnalyticsTagging=function(t){void 0!==window.DigitalAnalytics&&window.DigitalAnalytics.renderElementTags([{elementId:"displayed",categoryId:"searchrec",productId:"SEARCH RESULTS",productCategory:"highlighted",attributes:{16:"searchrec-widget",17:t}}])},e.isFreeShipping=function(t){return null!=t&&(void 0!==(t=t.split(" "))&&2===t.length?!(0<parseFloat(t[1])):void 0)},e.getItemsToDisplay=function(e,t,n){for(var c=[],l=[],i=0,o=n=void 0===(n=(n?s.displayConfigurationsCollectible:s.displayConfigurations)[t])?s.displayConfigurationDefault:n;i<o.length;i++)!function(o){var r=Object.keys(o)[0],t=e[s.sortCodeMappings[r]];if(!t)return;var a=0;t.forEach(function(t){var e={sortCode:s.Sort[r],item:t},n=e,i=!1;l.forEach(function(t){t.item.listingId===n.item.listingId&&(i=!0)}),i||(a<o[r]?(l.push(e),a++,c=c.filter(function(t){return t.item.listingId!==e.item.listingId})):c.push(e))})}(o[i]);for(var r=0;r<s.MAX_ITEMS-l.length&&r<c.length;r++)l.push(c[r]);return l.sort(function(t,e){return t.item.priceInDomainCurrency>e.item.priceInDomainCurrency?1:-1})},e.getTaggedProductUrl=function(t,e,n){var i="https://".concat(document.domain,"/servlet/BookDetailsPL?bi=").concat(t.item.listingId),e=s.Sort[e]||"O",e=t.sortCode?"SEARCHREC-_-WIDGET-".concat(e,"-_-BDP-").concat(t.sortCode):"srp-_-widget-_-BDP-D",t="".concat(i,"&cm_sp=").concat(e);return n&&"?"===n.charAt(0)&&(n=n.substring(1)),t+"&searchurl="+encodeURIComponent(n)}},41594:function(t){t.exports=React},75206:function(t){t.exports=ReactDOM}},i={};function p(t){var e=i[t];return void 0!==e||(e=i[t]={id:t,exports:{}},n[t].call(e.exports,e,e.exports,p)),e.exports}function t(t,e){var n,i,o,r=e[0],a=e[1],c=e[2],l=0;if(r.some(function(t){return 0!==u[t]})){for(n in a)p.o(a,n)&&(p.m[n]=a[n]);c&&(o=c(p))}for(t&&t(e);l<r.length;l++)i=r[l],p.o(u,i)&&u[i]&&u[i][0](),u[i]=0;return p.O(o)}p.m=n,s=[],p.O=function(t,e,n,i){if(!e){for(var o=1/0,r=0;r<s.length;r++){e=s[r][0],n=s[r][1],i=s[r][2];for(var a,c=!0,l=0;l<e.length;l++)(!1&i||i<=o)&&Object.keys(p.O).every(function(t){return p.O[t](e[l])})?e.splice(l--,1):(c=!1,i<o&&(o=i));c&&(s.splice(r--,1),void 0!==(a=n()))&&(t=a)}return t}i=i||0;for(var r=s.length;0<r&&s[r-1][2]>i;r--)s[r]=s[r-1];s[r]=[e,n,i]},p.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return p.d(e,{a:e}),e},p.d=function(t,e){for(var n in e)p.o(e,n)&&!p.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},p.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p.j=170,u={170:0},p.O.j=function(t){return 0===u[t]},(e=self["abe-components-jsonp"]=self["abe-components-jsonp"]||[]).forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e)),p.nc=void 0;var e=p.O(void 0,[506],function(){return p(22829)});p.O(e)}();
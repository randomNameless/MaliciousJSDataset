!function(e,t,c){function r(e){}function o(e,t,o){for(this.callback=o||r,this.errors=[],this.fields={},this.form=this._formByNameOrNode(e)||{},this.messages={},this.handlers={},e=0,o=t.length;e<o;e++){var i=t[e];if((i.name||i.names)&&i.rules)if(i.names)for(var n=0;n<i.names.length;n++)this._addField(i,i.names[n]);else this._addField(i,i.name)}var a,s=this.form.onsubmit;this.form.onsubmit=(a=this,function(e){try{return a._validateForm(e)&&(s===c||s())}catch(e){}})}function i(e,t){var o;if(!(0<e.length)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[t];for(o=0;o<e.length;o++)if(e[o].checked)return e[o][t]}var p={required:"The %s field is required.",valid_phoneno:"The %s field is not valid.",matches:"The %s field does not match the %s field.",default:"The %s field is still set to default, please change.",valid_email:"The %s field must contain a valid email address.",valid_emails:"The %s field must contain all valid email addresses.",min_length:"The %s field must be at least %s characters in length.",max_length:"The %s field must not exceed %s characters in length.",exact_length:"The %s field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",alpha_numeric_dash_combo:"The %s field must contain only combination of alpha-numeric characters and dashes.",alphanumeric_combo:"The %s field must contain only combination of alpha-numeric characters.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a valid credit card number.",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL.",valid_ca_zip:"The %s field must contain a valid Postal Code."},n=/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/,a=/^(\\+)|(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{1,14}$/,d=/^(.+?)\[(.+)\]$/,s=/^[0-9]+$/,l=/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[-])[A-Za-z\d][A-Za-z\d-]+$/i,u=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/,m=/^\-?[0-9]+$/,g=/^\-?[0-9]*\.?[0-9]+$/,f=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h=/^[a-z]+$/i,y=/^[a-z0-9]+$/i,C=/^[a-z0-9_\-]+$/i,v=/^[0-9]+$/i,T=/^[1-9][0-9]*$/i,w=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,S=/[^a-zA-Z0-9\/\+=]/i,k=/^[\d\-\s]+$/,L=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;o.prototype.setMessage=function(e,t){return this.messages[e]=t,this},o.prototype.registerCallback=function(e,t){return e&&"string"==typeof e&&t&&"function"==typeof t&&(this.handlers[e]=t),this},o.prototype._formByNameOrNode=function(e){return"object"==typeof e?e:t.forms[e]},o.prototype._addField=function(e,t){this.fields[t]={name:t,display:e.display||t,rules:e.rules,id:null,type:null,value:null,checked:null}},o.prototype._validateForm=function(e){for(var t in this.errors=[],this.fields){var o;this.fields.hasOwnProperty(t)&&(t=this.fields[t]||{},o=this.form[t.name])&&o!==c&&(t.id=i(o,"id"),t.type=(0<o.length?o[0]:o).type,t.value=i(o,"value"),t.checked=i(o,"checked"),this._validateField(t))}return"function"==typeof this.callback&&this.callback(this.errors,e),0<this.errors.length&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),!0},o.prototype._validateField=function(e){for(var t=e.rules.split("|"),o=e.rules.indexOf("required"),i=!e.value||""===e.value||e.value===c,n=0,a=t.length;n<a;n++){var s=t[n],r=null,l=!1,u=d.exec(s);if((-1!==o||-1!==s.indexOf("!callback_")||!i)&&(u&&(s=u[1],r=u[2]),"!"===s.charAt(0)&&(s=s.substring(1,s.length)),"function"==typeof this._hooks[s]?this._hooks[s].apply(this,[e,r])||(l=!0):"callback_"===s.substring(0,9)&&(s=s.substring(9,s.length),"function"==typeof this.handlers[s])&&!1===this.handlers[s].apply(this,[e.value,r])&&(l=!0),l)){t=this.messages[s+"#"+e.name]||this.messages[s]||p[s],o="An error has occurred with the "+e.display+" field.",t&&(o=t.replace("%s",e.display),r)&&((cu=0<=r.indexOf("###")&&r.split("###"))?cu[1]&&(o=cu[1]):o=o.replace("%s",this.fields[r]?this.fields[r].display:r)),this.errors.push({Id:e.id,Name:e.name,Message:o,Rule:s});break}}},o.prototype._hooks={required:function(e){var t=e.value.trim();return"checkbox"===e.type||"radio"===e.type?!0===e.checked:null!==t&&""!==t},default:function(e,t){return e.value!==t},matches:function(e,t){t=this.form[t];return!!t&&e.value===t.value},valid_ca_zip:function(e){return n.test(e.value)},valid_email:function(e){return f.test(e.value)},valid_emails:function(e){e=e.value.split(",");for(var t=0;t<e.length;t++)if(!f.test(e[t]))return!1;return!0},min_length:function(e,t){return!!s.test(t)&&e.value.length>=parseInt(t,10)},max_length:function(e,t){return!!s.test(t)&&e.value.length<=parseInt(t,10)},exact_length:function(e,t){return!!s.test(t)&&e.value.length===parseInt(t,10)},greater_than:function(e,t){return!!g.test(e.value)&&parseFloat(e.value)>parseFloat(t)},less_than:function(e,t){return!!g.test(e.value)&&parseFloat(e.value)<parseFloat(t)},alpha:function(e){return h.test(e.value)},alpha_numeric:function(e){return y.test(e.value)},alpha_dash:function(e){return C.test(e.value)},alpha_numeric_dash_combo:function(e){return l.test(e.value)},alphanumeric_combo:function(e){return u.test(e.value)},numeric:function(e){return s.test(e.value)},integer:function(e){return m.test(e.value)},decimal:function(e){return g.test(e.value)},is_natural:function(e){return v.test(e.value)},is_natural_no_zero:function(e){return T.test(e.value)},valid_ip:function(e){return w.test(e.value)},valid_phoneno:function(e){return a.test(e.value)},valid_base64:function(e){return S.test(e.value)},valid_url:function(e){return L.test(e.value)},valid_credit_card:function(e){if(!k.test(e.value))return!1;for(var t=0,o=0,i=!1,n=(e=e.value.replace(/\D/g,"")).length-1;0<=n;n--)o=e.charAt(n),o=parseInt(o,10),i&&9<(o*=2)&&(o-=9),t+=o,i=!i;return 0==t%10},is_file_type:function(e,t){if("file"!==e.type)return!0;for(var o=e.value.substr(e.value.lastIndexOf(".")+1),i=t.split(","),n=!1,a=0,s=i.length;a<s;a++)o==i[a]&&(n=!0);return n}},e.FormValidator=o}(window,document);var LRNameSpace={},LoginRadiusDefaults=(!function(n){n.Storage=function(i,o){return{isLocalStorageNameSupported:function(e){try{if(!window[e])return!1;var t=window[e];try{return t.setItem("test","1"),t.removeItem("test"),!0}catch(e){return!1}}catch(e){return!1}},setBrowserStorage:function(e,t){var o=!0;this.isLocalStorageNameSupported("localStorage")&&(localStorage.setItem(e,t),o=!1),this.isLocalStorageNameSupported("sessionStorage")&&(sessionStorage.setItem(e,t),o=!1),o&&i&&i.options&&n.cookies.setItem(e,t,"",i.options.appPath)},getBrowserStorage:function(e){if(o&&e===o.storedTokenName){var t=this.getBrowserStorage("lr-session-token");if(t)return t=t.replace(/"/g,""),this.setBrowserStorage(o.storedTokenName,t),t}return(this.isLocalStorageNameSupported("localStorage")&&null!==localStorage.getItem(e)&&void 0!==localStorage.getItem(e)&&""!==localStorage.getItem(e)?localStorage:this.isLocalStorageNameSupported("sessionStorage")&&null!==sessionStorage.getItem(e)&&void 0!==sessionStorage.getItem(e)&&""!==sessionStorage.getItem(e)?sessionStorage:n.cookies).getItem(e)},removeBrowserStorage:function(e){var t=!0;this.isLocalStorageNameSupported("localStorage")&&(localStorage.removeItem(e),t=!1),this.isLocalStorageNameSupported("sessionStorage")&&(sessionStorage.removeItem(e),t=!1),t&&i&&i.options&&n.cookies.removeItem(e,i.options.appPath)}}}}(LRNameSpace),LRNameSpace.cookies={intToString:function(e){return e.toString()},stringToInt:function(e){return parseInt(e,10)||0},isSameSiteNoneCompatible:function(e){return!this.isSameSiteNoneIncompatible(e.toString())},isSameSiteNoneIncompatible:function(e){return this.hasWebKitSameSiteBug(e)||this.dropsUnrecognizedSameSiteCookies(e)},hasWebKitSameSiteBug:function(e){return this.isIosVersion(12,e)||this.isMacosxVersion(10,14,e)&&(this.isSafari(e)||this.isMacEmbeddedBrowser(e))},dropsUnrecognizedSameSiteCookies:function(e){return this.isChromiumBased(e)&&this.isChromiumVersionAtLeast(51,e)&&!this.isChromiumVersionAtLeast(67,e)||this.isUcBrowser(e)&&!this.isUcBrowserVersionAtLeast(12,13,2,e)},regexContains:function(e,t){return null!==e.match(t)},extractRegexMatch:function(e,t,o){e=e.match(t);return null!==e&&void 0!==e[o]?e[o]:null},isIosVersion:function(e,t){return this.extractRegexMatch(t,/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//,1)===this.intToString(e)},isMacosxVersion:function(e,t,o){var i=/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//;return this.extractRegexMatch(o,i,1)===this.intToString(e)&&this.extractRegexMatch(o,i,2)===this.intToString(t)},isSafari:function(e){return null!==e.match(/Version\/.* Safari\//)&&!this.isChromiumBased(e)},isMacEmbeddedBrowser:function(e){return this.regexContains(e,/^Mozilla\/[.\d]+ \(Macintosh;.*Mac OS X [_\d]+\) AppleWebKit\/[.\d]+ \(KHTML, like Gecko\)$/)},isChromiumBased:function(e){return this.regexContains(e,/Chrom(e|ium)/)},isChromiumVersionAtLeast:function(e,t){return e<=this.stringToInt(this.extractRegexMatch(t,/Chrom[^ /]+\/(\d+)[.\d]* /,1))},isUcBrowser:function(e){return this.regexContains(e,/UCBrowser\//)},isUcBrowserVersionAtLeast:function(e,t,o,i){var n=/UCBrowser\/(\d+)\.(\d+)\.(\d+)[.\d]* /,a=this.stringToInt(this.extractRegexMatch(i,n,1)),s=this.stringToInt(this.extractRegexMatch(i,n,2)),i=this.stringToInt(this.extractRegexMatch(i,n,3));return a!==e?e<a:s!==t?t<s:o<=i},getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,o,i,n,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="",r=function(e){var t;return e===1/0?"Fri, 31 Dec 9999 23:59:59 GMT":((t=new Date).setTime(t.getTime()+1e3*e),t.toGMTString())};if(o)switch(o.constructor){case Number:s="; expires="+r(o)+o===1/0?"":"; max-age="+o;break;case String:s="; expires="+o;break;case Date:s="; expires="+o.toUTCString()}"lr-user--token"===e&&(a=!0);var l=navigator.userAgent;return"lr-session-token"===e&&this.isSameSiteNoneCompatible(l)?document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+s+(n?"; domain="+n:"")+(i?"; path="+i:"")+";secure;SameSite=None":document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+s+(n?"; domain="+n:"")+(i?"; path="+i:"")+(a?"; secure":""),!0},removeItem:function(e,t,o){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,o=0;o<t;o++)e[o]=decodeURIComponent(e[o]);return e}},LRNameSpace.Utilities=function(){var e=navigator.userAgent.toLowerCase(),s={version:(e.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(e),opera:/opera/.test(e),msie:(/msie/.test(e)||/trident/.test(e))&&!/opera/.test(e),mozilla:/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)},r=!1,l=!1,o=[];function u(){if(!l&&(l=!0,o)){for(var e=0;e<o.length;e++)o[e].call(window,[]);o=[]}}function i(){if(!r){var e,t,o;if(r=!0,document.addEventListener&&!s.opera&&document.addEventListener("DOMContentLoaded",u,!1),s.msie&&window===top&&!function(){if(!l){try{document.documentElement.doScroll("left")}catch(e){return}u()}}(),s.opera&&document.addEventListener("DOMContentLoaded",function(){if(!l){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].disabled)return;u()}},!1),s.safari)if(!l&&("loaded"===document.readyState||"complete"===document.readyState)){if(void 0===e){for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++)"stylesheet"===i[n].getAttribute("rel")&&e++;var a=document.getElementsByTagName("style");e=void 0===e?a.length:e+a.length}document.styleSheets.length===e&&u()}t=u,o=window.onload,"function"!=typeof window.onload?window.onload=t:window.onload=function(){o&&o(),t()}}}return{browser:s,getHashParam:function(e){var t=window.location.hash.match(new RegExp(e+"=([^&]*)")),t=window.location.hash&&null!=t?t[1]:this.getQueryParameterByName(e);return t},keysToLowerCase:function(e){for(var t,o=Object.keys(e),i=o.length,n={};i--;)n[(t=o[i]).toLowerCase()]=e[t],"object"==typeof n[t.toLowerCase()]&&null!=n[t.toLowerCase()]&&(n[t.toLowerCase()]=this.keysToLowerCase(n[t.toLowerCase()]));return n},elementsByClass:function(e,t){if(""!==e){t=t||document.body;for(var o=[],i=new RegExp("(^| )"+e+"( |$)"),n=t.getElementsByTagName("*"),a=0,s=n.length;a<s;a++)i.test(n[a].className)&&o.push(n[a]);return o}},isValidUrl:function(e){return!!/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i.test(e)},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addclass:function(e,t){return!this.hasClass(e,t)&&(e.className+=" "+t,!0)},isSubstring:function(e,t){for(var o in t)if(-1!==t[o].indexOf(e))return o;return!1},isJWT:function(e){try{var[t]=e.split(".");return"object"==typeof JSON.parse(atob(t))}catch(e){return!1}},isJsonString:function(e){try{return JSON.parse(e)}catch(e){return!1}},addEvent:function(e,t,o){var i=[];t instanceof Array?i=t:i.push(t);for(var n=0;n<i.length;n++)i[n]["on"+e]=o},getQueryParameterByName:function(e,t){t="&"+(t||location.search),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==e?null:decodeURIComponent(e[1].replace(/\+/g," "))},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},getQueryStringValue:function(e,t){e=e||window.location.href,t=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(e);return t?t[1]:null},extend:function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},ready:function(e,t){i(),l?e.call(window,[]):o.push(function(){return e.call(window,[])})},parseQueryString:function(e){var t={};if((e||""!==e)&&"string"==typeof e)for(var o=e.split("&"),i=0;i<o.length;i++){var n=o[i].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t},encodedString:function(e){return e=-1===e.indexOf("%2B")?e.replace(/\+/g,"%2B"):e},mergeOptions:function(e,t){var o,i,n={};for(o in e)n[o]=e[o];for(i in t)n[i]=t[i];return n},mergeObjects:function(e,t,o){var i,n,a=[];for(n in e){for(var s in t)i=o?t[s]===e[n]:t[s].name===e[n].name;if(i)break;a.push(e[n])}return a=a.concat(t)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},randomString:function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),o=(e=e||Math.floor(Math.random()*t.length),""),i=0;i<e;i++)o+=t[Math.floor(Math.random()*t.length)];return o},findInSchema:function(e,t,o,i){for(var n=0;n<e.length;n++)if((i?e[n]&&e[n][t].toLowerCase():e[n]&&e[n][t])===o)return e[n];return null},jsonToQueryString:function(t){return Object.keys(t).map(function(e){return t[e]?encodeURIComponent(e)+"="+encodeURIComponent(t[e]):""}).join("&")},insertBefore:function(e,t){t.parentNode.insertBefore(e,t)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},keyslowerToUpperCamelCase:function(e){for(var t,o=Object.keys(e),i=o.length,n={};i--;)n[(t=o[i]).charAt(0).toUpperCase()+t.substr(1)]=e[t];return n},findElementByRegex:function(e,t,o){for(var i=o?document.querySelectorAll(o):document.querySelectorAll("*"),n=[],a=0;a<i.length;a++)t.test(i[a][e])&&n.push(i[a]);return n},isObject:function(e){return e instanceof Object&&e.constructor===Object},parseString:function(e){return void 0!==e&&JSON.parse(e)},containsObject:function(e,t,o){if(o){for(var i=0;i<e.length;i++)if(e[i][o]===t[o])return!0;return!1}},base64UrlDecode:function(e){var t=(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(t){if(1==t)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");e+=new Array(5-t).join("=")}return new Uint8Array(atob(e).split("").map(function(e){return e.charCodeAt(0)}))},base64UrlEncode:function(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}},LRNameSpace.ProgressiveProfiling=function(m,g,f,h){return{fetchSchema:function(e){m.util.ajaxCall("get",h.configApiDomain+"progressiveProfilingSchema?apikey="+m.options.apiKey+"&appName="+m.options.appName,"",e)},execStep:function(s,e){var r,l,u,c,p,d;m.progressiveProfilingSchema&&(r=e.onSuccess||function(){},l=e.onError||function(){},u=e.container||"",c=e.classPrefix||"",p=e.templateName||"",d=m.storage.getBrowserStorage(h.storedTokenName))&&m.util.ajaxCall("get",h.apiDomain+"/auth/socialidentity?apiKey="+m.options.apiKey+"&access_token="+d,"",function(e){var t,o,i,n,a=m.util.findInSchema(m.progressiveProfilingSchema.ProfilingSteps,"Step",s);a?((t={}).Profile=e,t.access_token=d,"email"===(o=e.Provider.toLowerCase())||"raas"===o||m.options.progressiveProfilingTraditional?(m.options.progressiveProfilingTraditional&&"email"!==o&&"raas"!==o&&(e=m.LoggedinSocialProvderProfile),n=a.Schema,i=g.mapSchema(n,e,null,!0),t.Profile=e,0<i.length?g.createForm(i,"progressiveProfiling",u,function(e){f.updateData(t,u,e,r,l,c,i,"progressiveProfiling")},function(e){l(e)},c):g.loginHandleToken(t,"",r,l)):(n=a.Scopes,(e=m.util.findInSchema(n,"Provider",o,!0))?(a="https://"+(m.options.customDomain||m.options.appName+"."+h.hubDomain)+"/RequestHandlor.aspx?apikey="+m.options.apiKey+"&provider="+o+"&scope="+e.Scopes,(n=[]).push({Name:o,Endpoint:a}),g.renderCustomInterface(u,"",p,"","",n),g.socialLogin(u,r,l)):g.loginHandleToken(t,"",r,l))):m.log("Step Schema not found.")})}}},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,o=Number(arguments[1])||0;for((o=o<0?Math.ceil(o):Math.floor(o))<0&&(o+=t);o<t;o++)if(o in this&&this[o]===e)return o;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i,n=[],a=arguments[1],s=0;s<o;s++)s in t&&(i=t[s],e.call(a,i,s,t))&&n.push(i);return n}),!function(n){function i(){for(var e=n.location.hash?n.location.hash.substr(1).split("&"):[],t={},o=0;o<e.length;o++){var i=e[o].split("=");t[i[0]]=decodeURIComponent(i[1])}return t}function a(e){var t,o=[];for(t in e)o.push(t+"="+encodeURIComponent(e[t]));n.location.hash=o.join("&")}n.hash={get:function(e){var t=i();return e?t[e]:t},add:function(e){var t,o=i();for(t in e)o[t]=e[t];a(o)},remove:function(e){e="string"==typeof e?[e]:e;for(var t=i(),o=0;o<e.length;o++)delete t[e[o]];a(t)},clear:function(){a({})}}}(window),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},writable:!0,configurable:!0}),{idPrefix:"loginradius-",classPrefix:"loginradius-",apiDomain:"https://api.loginradius.com/identity/v2",hubDomain:"hub.loginradius.com",cloudApiDomain:"https://cloud-api.loginradius.com/",configApiDomain:"https://config.lrcontent.com/ciam/",socialApiDomain:"https://api.loginradius.com/api/v2/",externalLibrary:"https://auth.lrcontent.com/v2/external-libs/",isRegFormSchemaLock:!1,isSecurityFormSchemaLock:!1,innerHTML:!1,autoFilledFieldforPasswordLesLogin:!1,socialRegFormId:"",lrResponseCounter:0,LRPhoneNo:"",lrCounterJwtResponse:"",lrCounterTokenResponse:"",storedTokenName:"LRTokenKey",storedTwoFAToken:"lr2fatok",storedSessionTokenData:"lrSessionTokenObj",storedOTPAuth:"lrotpauthver",storedGAAuth:"lrgaauthver",storedEmailOTPAuth:"lremailotpauthver",storedPushNotificationAuth:"lrpushnotificationauthver",storedSQAuth:"lrsqauthver",storedUidName:"lr-user-uid",storedDuoAuth:"lrduoauthver",storedPasskeyAuth:"lrpasskeyauthver",tokenCookie:"lr-user--token",fedSessCookie:"lr_fed_sess",storedOrganization:"lrorganization",isSSOInitFired:!1,pingCount:1,messages:{tokenValid:{Message:"Access token is not valid",Description:"LoginRadius Access Token is invalid, please verify the authentication response",ErrorCode:905},twofaTokenValid:{Message:"Token is not valid",Description:"Your session is not valid."},twofaGAAuthDisable:{Message:"Already Disabled",Description:"Authenticator App is already disabled."},twofaOTPAuthDisable:{Message:"Already Disabled",Description:"SMS authenticator is already disabled."},twofaAuthRequired:{Message:"Cannot Disable",Description:"Two factor authentication is required, So atleast one authenticator should be required."},invalidEmail:{Message:"Invalid Email",Description:"The email entered is not a valid email."},invalidPhone:{Message:"Invalid Phone",Description:"The mobile number entered is not valid."},disabledAccountLinking:"Account Linking disabled in your account",noSecurityQuestions:"There are no security questions for this application",invalidSott:"Something went wrong, please try again.",notValidMessage:"Error Message element not valid",passwordStrengthMessage:"Password strength meter configuration is not valid.",otpSent:"Verification Code Sent Successfully",vTokenError:{Message:"Verification token not found in query string."},notFound:"Data not found.",emailNotVerified:{Message:"The email is not verified, please verify the link in your email",Description:"The email is not verified, please verify the link in your email",ErrorCode:970},phoneNotVerified:{Message:"Phone number is not verified",Description:"The provided phone number is not verified, please use a verified phone number for login.",ErrorCode:1066},blockedUser:{Message:"User is blocked",Description:"This user is blocked by site admin",ErrorCode:991},unverifiedUser:{Message:"This Uid have only traditional unverified account",Description:"This Uid have only traditional unverified account",ErrorCode:1028},captchaError:{Message:"The Captcha is required.",Description:"The Captcha is required."}},buttonNames:{login:"Login",socialregistration:"Login",loginrequiredfieldsupdate:"Login",registration:"Register",passkeyregister:"Register with Passkey",registerwithpwd:"Continue with Password",passkeylogin:"Sign In with Passkey",verifyemail:"Verify",resetpassword:"Reset Password",resetpin:"Reset PIN",sociallogin:"Login",otp:"Verify",twofaotp:"Verify",twofaemailotp:"Verify",showqrcode:"Verify",updatephone:"Update",changephone:"Update",forgotpassword:"Send",forgotpin:"Send",forgotpasskey:"Send",securityquestions:"Get",changepassword:"Submit",changepin:"Change PIN",resendemailverification:"Send",addemail:"Send",removeemail:"Send",changeusername:"Submit",profileeditor:"Update Profile",otplogin:"Verification Code",passwordlessloginbuttonlabel:"Email me a link to Sign In",passwordlessloginotpbuttonlabel:"Send Verification Code to Sign In",createtwofactorauthentication:"2-Step Verification",createPasskey:"Add a Passkey",sendotp:"Send Verification Code",resendotp:"Resend via SMS",resendemailotp:"Resend via Email",resendvoiceotp:"Resend via Voice call",changenumber:"Change Number",backupcode:"Login",backupcodebutton:"Try another way to Sign In",backupcodebackbutton:"Back",generatebackupcodebutton:"Generate Backup Codes",disablegoogleauthenticator:"Disable Authenticator App",disablesqauthenticator:"Disable Security Questions",disableemailotpauthenticator:"Disable Email Verification",disableduoauthenticator:"Disable Duo Security",disableotpauthenticator:"Disable SMS Verification",updatesecurityquestion:"Update Security Question",resetpwdbysecq:"Reset Password By SecurityQ",resetpinbysecq:"Reset PIN By SecurityQ",smartlogin:"Smart Login",validatecode:"Validate",onetouchlogin:"Login",progressiveprofiling:"Progressive Profiling",privacypolicyupdate:"Accept",updatephone2fa:"Update",pinsetup:"Set Pin",pinlogin:"Login",pinreauthentication:"Verify",pinloginbackbtn:"Back",consentlogin:"Submit Consent",customeventconsent:"Submit Consent",consenteditor:"Submit Consent",resetBackupCode:"Reset Backup Code",emailotp:"Verify Identity via Email ",duomfa:"Verify Identity via Duo Security",googleauthenticator:"Verify Identity via Authenticator App",securityquestionsauthenticator:"Verify Identity via Security Questions",mfasecurityquestion:"Submit",otpauthenticator:"Verify Identity via SMS",mfaselectemails:"Submit",organization:"Continue",lookupdomain:"Login",sendverificationemail:"Send Verification Email",pushnotification:"Verify Identity via Push Notification",disablepushnotification:"Disable Push Notification",passkeyauthenticator:"Verify Identity via Passkey",disablepasskeyauthenticator:"Disable Passkey Verification"},templates:{consentMainTemplate:"loginradius_consent_custom_tmpl",consentGroupTemplate:"loginradius_consent_group_tmpl",consentOptionTemplate:"loginradius_consent_option_tmpl"},options:{passwordlessLoginEmailTemplate:"",callbackUrl:window.location,callbackInsideSameWindow:"",callbackType:"",scope:"",loginUrl:"",deleteUrl:"",emailTemplate:"",verificationUrl:"",verificationEmailTemplate:"",resetPasswordEmailTemplate:"",resetPassKeyEmailTemplate:"",resetPINEmailTemplate:"",resetPasswordConfirmationEmailTemplate:"",resetPINConfirmationEmailTemplate:"",smartLoginRedirectUrl:"",autoLoginRedirectUrl:"",smartLoginEmailTemplate:"",autoLoginEmailTemplate:"",smsTemplate2FA:"",smsTemplateForgot:"",smsTemplateWelcome:"",smsTemplateOneTouchLoginWelcome:"",smsTemplateOneTouchLogin:"",passwordlessLoginSMSTemplate:"",smsTemplate2FAWelcome:"",smsTemplatePhoneVerification:"",smsTemplateUpdatePhone:"",welcomeEmailTemplate:"",onetouchLoginEmailTemplate:"",deleteUserEmailTemplate:"",onetouchLoginRedirectUrl:"",resetPasswordUrl:"",resetPassKeyUrl:"",resetPINUrl:"",templateName:"",debugMode:!1,tokenType:"lrtoken",integrationName:"",smartLoginPingCount:100,smartLoginPingInterval:5,crossDeviceSSOPingCount:100,crossDeviceSSOPingInterval:5,maskSensitiveInput:!1,enableHeaderSott:!0,accessTokenResponse:!0,rbaOneclickEmailTemplate:"",rbaOTPSmsTemplate:"",rbaCityEmailTemplate:"",rbaCountryEmailTemplate:"",rbaBrowserEmailTemplate:"",rbaIpEmailTemplate:"",rbaDeviceEmailTemplate:"",rbaCitySmsTemplate:"",rbaCountrySmsTemplate:"",rbaBrowserSmsTemplate:"",rbaIpSmsTemplate:"",rbaDeviceSmsTemplate:"",setLRSession:!1,askOptionalFieldsOnProgressiveSteps:!0,disableResendOTPButton:!1,disableResendOTPButtonDelay:5,EmailTemplate2FA:"",authenticatorOptionsOrder:["emailotp","securityquestion","auth","sms","pushnotification","duomfa","passkey"]},regexExpression:{emailRegex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,phoneRegex:/^(\\+)|(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{8,14}$/},_uuidFormat:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,loginURLs:["/auth/login","/auth/email","/auth/onetouchlogin","/auth/password"],captchaActions:["login","passwordlesslogin","onetouchlogin","verifyotp","verifyemail","resetpassword","forgotpassword","changepassword","login##otp","otp","twofaotp","twofaemailotp"]});function LoginRadiusUtility(w,e){var l=LoginRadiusDefaults.buttonNames,S=new LRNameSpace.Utilities,u=this,i=(u.elementById=function(e,t){var o=document.getElementById(e);if(o)return o;t||w.log("Unable to find id: "+e)},u.getThisObjectName=function(){for(var e in w.global)if("frameElement"!==e&&"webkitStorageInfo"!==e&&"webkitIndexedDB"!==e&&"localStorage"!==e&&"sessionStorage"!==e&&w.global[e]===w)return e},u.serialize=function(e,t){if(e&&"FORM"===e.nodeName){for(var o,i=[],n=e.elements.length-1;0<=n;n-=1)if(""!==e.elements[n].name&&(t||""!==e.elements[n].value.trim()))switch("emailid"!==e.elements[n].name||w.options.usernameLogin||w.options.duplicateEmailWithUniqueUsername||(e.elements[n].value=e.elements[n].value.toLowerCase()),e.elements[n].nodeName){case"INPUT":switch(e.elements[n].type){case"text":case"hidden":case"button":case"reset":case"submit":case"email":var a=e.elements[n].name;"emailid"===a&&(a="email"),(!e.elements[n].disabled||"emailid"===e.elements[n].name&&w.util.getQueryParameterByName("email"))&&i.push(a+"="+encodeURIComponent(e.elements[n].value.trim()));break;case"password":i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value));break;case"checkbox":i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].checked));break;case"radio":e.elements[n].checked&&i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value))}break;case"TEXTAREA":i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value.trim()));break;case"SELECT":switch(e.elements[n].type){case"select-one":i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value.trim()));break;case"select-multiple":for(o=e.elements[n].options.length-1;0<=o;o-=1)e.elements[n].options[o].selected&&i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].options[o].value.trim()))}break;case"BUTTON":switch(e.elements[n].type){case"reset":case"submit":case"button":i.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value.trim()))}}return i.join("&")}},u.addJs=function(e,t){var o=(t=t||document).getElementsByTagName("head")[0],t=t.createElement("script");return t.src=e,t.type="text/javascript",o.appendChild(t),t},u.hashTmpl=function e(t,o){t=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<#").join("\t").replace(/((^|#>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)#>/g,"',$1,'").split("\t").join("');").split("#>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[t]=i[t]||(u.elementById(t)?e(u.elementById(t).innerHTML):"");return"function"==typeof t?o?t(o):t:""},{});u.tmpl=function e(t,o){t=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[t]=i[t]||(u.elementById(t)?e(u.elementById(t).innerHTML):"");return"function"==typeof t?o?t(o):t:""},u.jsonpCall=function(e,t,o,i){w.$hooks.call("startProcess",i);o=o||"Loginradius"+Math.floor(1e18*Math.random()+1),window[o]=function(e){t(e),w.$hooks.call("endProcess",i)},e=-1!==e.indexOf("?")?e+"&callback="+o:e+"?callback="+o;u.addJs(e)},u.getButtonAttribute=function(e,t,o,i,n){var a,t=t||LoginRadiusDefaults.idPrefix,o=(w.buttonElements[e]?a=(a=w.buttonElements[e]).cloneNode(!0):((a=document.createElement("input")).type="button",a.value=w.buttonsName[e]||l[e]||i),o&&(a.onclick=o),i&&(a.datavalue=i.trim()),a.id=t+"button-"+e,"");return(o=document.createElement("div")).setAttribute("class",t+"-form-element-content content-"+t+e),o.appendChild(a),o},u.ajaxCall=function(e,o,n,a,s,r){var l=this,u=s;s&&-1!==s.indexOf("##")&&(u=s.split("##")[1]),"pingForPushNotification"!==s&&w.$hooks.call("startProcess",s,n);try{var i,c=new XMLHttpRequest;if(w.options.projectionFields&&s){var p=Object.keys(w.options.projectionFields),d=["verifyOTP","updateData"],m=!1,g=s;if(w.LRCheckRegistration?(m=-1!==d.indexOf(s),g="registration"):w.LRCheckLogin&&(m=-1!==d.indexOf(s),g="login"),-1!==p.indexOf(s)||m){var f=w.options.projectionFields[g];if(f&&0<f.length){for(var h=["ErrorCode","Profile/Uid","Profile/IsDeleted","access_token","Profile/EmailVerified","Profile/PhoneIdVerified","Profile/PhoneId","PhoneId","PhoneIdVerified","EmailVerified","Uid","IsDeleted"],y=((w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&h.push("SecondFactorAuthentication/SecondFactorAuthenticationToken","SecondFactorAuthentication/IsOTPAuthenticatorVerified","SecondFactorAuthentication/IsAuthenticatorVerified","SecondFactorAuthentication/OTPPhoneNo","SecondFactorAuthentication/ManualEntryCode"),f=S.mergeObjects(f,h,!0),"&fields="),C=0;C<f.length;C++)C===f.length-1?y+=f[C]:y=y+f[C]+",";o+=y}}}w.options.clientId&&w.options.clientId.length&&((i=new URL(o)).searchParams.delete("apikey"),i.searchParams.delete("apiKey"),i.searchParams.append("client_id",w.options.clientId),o=i.toString());var v,T=w.util.getQueryParameterByName("access_token",o);w.options.passAccessTokenInHeader&&T&&-1<o.indexOf(LoginRadiusDefaults.apiDomain)||-1!==["setCustomToken","setToken"].indexOf(s)?(o=o.replace("&access_token="+T,"").replace("?access_token="+T+"&","?").replace("?access_token="+T,"?"),c.open(e,o,!0),c.setRequestHeader("Authorization","Bearer "+T)):c.open(e,o,!0),(-1<o.indexOf("/ssologin/")||"setToken"===s)&&(c.withCredentials=!0),-1===o.indexOf("cdn")&&-1===o.indexOf(".json")&&c.setRequestHeader("X-Requested-With","XMLHttpRequest");let t=!1;for(let e=0;e<LoginRadiusDefaults.loginURLs.length;e++)if(-1!==o.indexOf(LoginRadiusDefaults.loginURLs[e])){t=!0;break}t&&void 0!==(v=LRNameSpace.cookies.getItem(LoginRadiusDefaults.fedSessCookie))&&null!=v&&c.setRequestHeader("X-Params",v),n.sottcheck&&(c.setRequestHeader("X-LoginRadius-Sott",w.options.sott),delete n.sottcheck),w.$hooks.call("modifyXhrRequest",s,c,o),n?(n="string"==typeof n||n instanceof String?JSON.stringify(S.parseQueryString(n)):JSON.stringify(n),c.setRequestHeader("Content-Type","application/json"),c.send(n)):c.send(null),c.onreadystatechange=function(){try{var e,t,o,i;4===c.readyState&&((e=c.response)&&(t=JSON.parse(e),-1<Object.keys(t).map(function(e){return e.toLowerCase()}).indexOf("errorcode")?w.$hooks.call("xhrEndWithError",s):w.$hooks.call("xhrEndWithSuccess",s)),"500"==c.status&&((o=JSON.parse(e)).ErrorCode="500",e=JSON.stringify(o),w.$hooks.call("xhrEndWithError",s)),(i=l.isJsonString(e))&&(w.$hooks.call("successCallback",u,i,n),r?a(r,i):a(i)),w.$hooks.call("endProcess",s))}catch(e){w.log(e)}},c.onerror=function(){w.$hooks.call("xhrEndWithError",s)}}catch(e){w.log(e)}},u.openWindow=function(e){var o,t,i,n;if(e=e||u.href,!w.options.isMobile)return(t=document.createElement("a")).href=e,t=S.getQueryParameterByName("provider",t.search),i="",w.options.noCallbackForSocialLogin&&(e+="&nocallback=true&callbackguid="+(i=w.util.randomString(16))),n=t&&"facebook"===t.toLowerCase()?"650":"450",n=w.options.customizeSocialPopup||"menubar=1,resizable=1,width="+n+",height=450,scrollbars=1",window.open(e,"lrpopupchildwindow",n),w.$hooks.call("socialCalls",t,i),!1;n="no",w.options.debugMode&&(n="yes"),(o=window.open(e,"_blank","location="+n)).addEventListener("loadstop",function(t){var e=function(e){e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t.url);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}("token");null!=e&&""!==e&&(o.close(),html5passToken(e))})},u.addHTMLContent=function(e,t,o,i,n){o=o||!1;var a=u.elementById(e);if(a||i)o||(a.innerHTML=""),i?(i=l[i.toLowerCase()],n=n||LoginRadiusDefaults.idPrefix,n=u.elementById(n+"submit-"+i.toLowerCase().replace(/ /g,"-")),S.insertBefore(t,n)):a.appendChild(t);else{var s=S.elementsByClass(e);if(s&&0<s.length)for(var r=0;r<s.length;r++)o||(s[r].innerHTML=""),s[r].appendChild(t)}},u.addRecaptchaJS=function(t){if(!window.hcaptcha&&w.options.hCaptchaSiteKey){let e="https://js.hcaptcha.com/1/api.js";w.options.invisibleRecaptcha||(e+="?render=explicit",w.options.v2RecaptchaLanguage&&(e+="&hl="+w.options.v2RecaptchaLanguage)),u.addJs(e)}else if(!window.grecaptcha){let e="https://www.google.com/recaptcha/api.js";w.options.v2Recaptcha||t?(e+="?render=explicit",w.options.v2RecaptchaLanguage&&(e+="&hl="+w.options.v2RecaptchaLanguage),u.addJs(e)):w.options.invisibleRecaptcha&&u.addJs(e)}(w.options.tencentCaptcha||w.options.tencentCaptchaAsFallback)&&u.addJs("https://ssl.captcha.qq.com/TCaptcha.js")},u.passkeyautofill=function(o){if(w.options.isPassKeysEnabled&&w.options.isPasskeyAutofill){let t={};w.util.isPasskeyAvailable().then(function(e){e?(e=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName))?w.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+w.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode&&906===e.ErrorCode&&w.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/passkey/autofill/begin?apiKey="+w.options.apiKey,"",function(e){e.ErrorCode||w.util.getPassKeyCredentials(e.LoginBeginCredential,!0).then(e=>{t.assertion=e,o(t)}).catch(function(e){t.error=e,o(t)})})}):w.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/passkey/autofill/begin?apiKey="+w.options.apiKey,"",function(e){e.ErrorCode?(t.error=e,o(t)):w.util.getPassKeyCredentials(e.LoginBeginCredential,!0).then(e=>{t.assertion=e,o(t)}).catch(function(e){t.error=e,o(t)})}):w.log("Auto fill not supported")}).catch(function(e){t.error=e,o(t)})}},u.renderV2Recaptcha=function(o,e,i){var n,t,a=u.elementById(o);(w.options.isCaptchaEnabled||w.options.v2Recaptcha||w.options.invisibleRecaptcha||e||w.options.tencentCaptcha||w.options.tencentCaptchaAsFallback)&&(a&&a.innerHTML&&(window.hcaptcha&&w.options.hCaptchaSiteKey?window.hcaptcha.reset(window[o+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&grecaptcha.reset(window[o+"lr_recaptcha_widgets_idprefix"])),t=setInterval(function(){try{n||(n=setInterval(function(){try{var e,t;window.grecaptcha&&grecaptcha.render||window.hcaptcha?a&&""===a.innerHTML&&(e={sitekey:w.options.hCaptchaSiteKey||w.options.v2RecaptchaSiteKey||"6LeAiwITAAAAADlqb06JIGepBs8ZRo3OZ7C0W7U3",theme:w.options.captchaTheme||"light",callback:function(e){a.style.display="block",i&&i(e)}},w.options.invisibleRecaptcha&&(e.size="invisible",e.callback="onCaptchaSubmit"),window.hcaptcha&&w.options.hCaptchaSiteKey?window[o+"lr_recaptcha_widgets_idprefix"]=window.hcaptcha.render(o,e):window[o+"lr_recaptcha_widgets_idprefix"]=grecaptcha.render(o,e),clearInterval(n)):(o+="_tencent",(t=document.getElementById(o))&&(t.style.display="block"),"undefined"!=typeof TencentCaptcha&&new TencentCaptcha(document.getElementById(o)),clearInterval(n))}catch(e){clearInterval(n),w.log(e)}},1e3),clearInterval(t))}catch(e){clearInterval(t),w.log(e)}},1e3))},u.captchaSchema=function(t,o,i,n){if(w.options.hCaptchaSiteKey&&!u.elementById(t))w.options.invisibleRecaptcha?(a={type:"captcha",name:"h-captcha-response",html:'<div id="'+t+'" class="h-captcha" data-sitekey="'+w.options.hCaptchaSiteKey+'" data-size="invisible" data-callback="onCaptchaSubmit"></div>',display:"Captcha",rules:""},o.push(a)):(a={type:"captcha",name:"h-captcha-response",html:'<div id="'+t+'" class="h-captcha" data-sitekey="'+w.options.hCaptchaSiteKey+'"></div>',display:"Captcha",rules:"required"},o.push(a));else if(!w.options.v2Recaptcha&&!i||u.elementById(t)){if(w.options.invisibleRecaptcha&&!u.elementById(t)){var a=w.options.v2RecaptchaSiteKey||"6LeAiwITAAAAADlqb06JIGepBs8ZRo3OZ7C0W7U3";let e="";var a={type:"captcha",name:"g-recaptcha-response",html:'<div id="'+t+'" style="'+(e="hide"===i?"display:none":e)+'" class="g-recaptcha" data-sitekey="'+a+'" data-size="invisible" data-callback="onCaptchaSubmit"></div>',display:"Captcha",rules:""};o.push(a)}}else o.push({type:"captcha",name:"g-recaptcha-response",html:'<div id="'+t+'" class="recaptcha_widget"></div>',display:"Captcha",rules:"required"});u.elementById(t)||!w.options.tencentCaptcha&&!w.options.tencentCaptchaAsFallback||(window.onTencentCaptchaSubmit=function(e){0==e.ret&&(n?n(e):window.onTencentCaptchaSubmitCallback(e))},a={type:"captcha",name:"TencentCaptcha",html:"<div "+(i?"style=display:none; ":"")+' id= "'+t+'_tencent"  class="TencentCaptcha"  data-appid="'+w.options.tencentCaptchaAppid+'" data-cbfn="onTencentCaptchaSubmit"></div>',display:"Captcha",rules:""},o.push(a))},u.checkPhoneOrEmailLogin=function(e){var t=S.parseQueryString(e);return(t.emailid||t.email)&&(w.options.duplicateEmailWithUniqueUsername&&!t.username?e=e.replace("emailid","username").replace("email","username"):(t=t.emailid||t.email,LoginRadiusDefaults.regexExpression.emailRegex.test(t)?e=e.replace("emailid","email"):w.options.phoneLogin&&LoginRadiusDefaults.regexExpression.phoneRegex.test(t)?(e=e.replace("emailid","phone").replace("email","phone"),e+="&phoneApi=1"):w.options.usernameLogin&&(e=e.replace("emailid","username").replace("email","username")))),e},u.disableResendOTPButton=function(e){var t=w.options.disableResendOTPButtonDelay,o=e.target;o&&(o.disabled=!0,setTimeout(function(){o.disabled=!1},1e3*t))},u.getPassKeyCredentials=function(i,n){return new Promise((t,o)=>{i.publicKey.challenge=w.util.base64UrlDecode(i.publicKey.challenge),i.publicKey.allowCredentials=i.publicKey.allowCredentials||[],i.publicKey.allowCredentials.forEach(function(e){e.id=w.util.base64UrlDecode(e.id)});var e={publicKey:i.publicKey,mediation:n?"conditional":"optional"};navigator.credentials.get(e).then(e=>t(e)).catch(e=>o(e))})},u.createPassKeyCredentials=function(i){return new Promise((t,o)=>{if(i.publicKey.challenge=w.util.base64UrlDecode(i.publicKey.challenge),i.publicKey.user.id=w.util.base64UrlDecode(i.publicKey.user.id),i.publicKey.excludeCredentials)for(var e=0;e<i.publicKey.excludeCredentials.length;e++)i.publicKey.excludeCredentials[e].id=w.util.base64UrlDecode(i.publicKey.excludeCredentials[e].id);navigator.credentials.create({publicKey:i.publicKey}).then(e=>t(e)).catch(e=>o(e))})},u.isPasskeyAvailable=function(){return new Promise((t,o)=>{window.PublicKeyCredential&&window.PublicKeyCredential.isConditionalMediationAvailable?window.PublicKeyCredential.isConditionalMediationAvailable().then(e=>{t(!!e)}).catch(e=>{o(e)}):t(!1)})}}function LoginRadiusApiFramework(c,p){var e=this;e.init=function(){c.lrApiFramework=!0},e.login=function(e,t,o){c.getAppConfiguration(function(){p.loginController(c.util.jsonToQueryString(e),null,t,o)})},e.otpLogin=function(e,t,o){c.getAppConfiguration(function(){p.loginOTPController(c.util.jsonToQueryString(e),null,t,o)})},e.twoFALogin=function(e,t,o,i,n,a,s,r){i=i||function(){},s=s||function(){},r=r||function(){},n=n||function(){},a=a||function(){};c.getAppConfiguration(function(){p.login2FAController(c.util.jsonToQueryString(e),null,t,o,"",s,r,i,n,a)})},e.registration=function(e,t,o,i,n,a){n=n||function(){},a=a||function(){};c.getAppConfiguration(function(){p.registrationController(t,null,o,i,"",e,n,a)})},e.forgotPassword=function(e,t,o){c.getAppConfiguration(function(){p.forgotPasswordController(c.util.jsonToQueryString(e),"",t,o)})},e.forgotPIN=function(e,t,o){c.getAppConfiguration(function(){p.forgotPINController(c.util.jsonToQueryString(e),"",t,o)})},e.resetPassword=function(e,t,o){c.getAppConfiguration(function(){p.resetPasswordController(c.util.jsonToQueryString(e),t,o)})},e.duoVerify=function(e,t,o){c.getAppConfiguration(function(){p.duoVerifyController(c.util.jsonToQueryString(e),t,o)})},e.duoVerifyByAccessToken=function(e,t,o){c.getAppConfiguration(function(){p.duoVerifyByAccessTokenController(c.util.jsonToQueryString(e),t,o)})},e.resetPIN=function(e,t,o){c.getAppConfiguration(function(){p.resetPINController(c.util.jsonToQueryString(e),t,o)})},e.emailVerification=function(e,t,o){c.getAppConfiguration(function(){p.emailVerificationController(e.vtoken,t,o)})},e.socialLogin=function(e,t,o,i,n,a){c.getAppConfiguration(function(){c.LoginRadiusHostedPage&&c.SSOinitFired||(i=i||function(){},n=n||function(){},p.socialLoginReceiveToken(e.token,a,t,o,null,i,n))})},e.resendEmailVerification=function(e,t,o){c.getAppConfiguration(function(){p.resendEmailVerificationController(c.util.jsonToQueryString(e),t,o)})},e.twoFAResendOTP=function(e,t,o){c.getAppConfiguration(function(){p.resendOTP2FAController(c.util.jsonToQueryString(e),t,o)})},e.twoFAVerifyOTP=function(e,t,o){c.getAppConfiguration(function(){p.verify2FAOTPController(c.util.jsonToQueryString(e),t,o)})},e.twoFAUpdatePhone=function(e,t,o,i,n,a,s){i=i||function(){},n=n||function(){},a=a||function(){},s=s||function(){};c.getAppConfiguration(function(){p.update2FAPhoneNumberController(e,null,t,o,null,i,n,a,s)})},e.updatePhone=function(e,t,o,i,n,a,s){a=a||function(){},s=s||function(){},i=i||function(){},n=n||function(){};c.getAppConfiguration(function(){p.updatePhoneNumberController(c.util.jsonToQueryString(e),null,t,o,null,a,s,i,n)})},e.verifyOTP=function(e,t,o,i){c.getAppConfiguration(function(){p.verifyOTPController(e,t,o,i)})},e.resendOTP=function(e,t,o){c.getAppConfiguration(function(){p.resendOTPController(c.util.jsonToQueryString(e),t,o)})},e.addEmail=function(e,t,o){c.getAppConfiguration(function(){p.addEmailController(c.util.jsonToQueryString(e),t,o)})},e.removeEmail=function(e,t,o){c.getAppConfiguration(function(){p.removeEmailController(c.util.jsonToQueryString(e),t,o)})},e.changeUsername=function(e,t,o){c.getAppConfiguration(function(){p.changeUsernameController(c.util.jsonToQueryString(e),t,o)})},e.changePassword=function(e,t,o){c.getAppConfiguration(function(){p.changePasswordController(c.util.jsonToQueryString(e),t,o)})},e.changePIN=function(e,t,o){c.getAppConfiguration(function(){p.changePINController(c.util.jsonToQueryString(e),t,o)})},e.checkPhoneNumberAvailability=function(e,t,o){c.getAppConfiguration(function(){p.checkPhoneNumberAvailabilityController(c.util.jsonToQueryString(e),t,o)})},e.resetPasswordByPhone=function(e,t,o){c.getAppConfiguration(function(){p.resetPasswordByPhoneController(c.util.jsonToQueryString(e),t,o)})},e.resetPINByPhone=function(e,t,o){c.getAppConfiguration(function(){p.resetPINByPhoneController(c.util.jsonToQueryString(e),t,o)})},e.forgotPasswordbyPhone=function(e,t,o){c.getAppConfiguration(function(){p.forgotPasswordbyPhoneController(c.util.jsonToQueryString(e),null,t,o)})},e.forgotPINbyPhone=function(e,t,o){c.getAppConfiguration(function(){p.forgotPINbyPhoneController(c.util.jsonToQueryString(e),null,t,o)})},e.updateData=function(e,t,o,i,n,a){var s=i,r=n,l={},u=("object"==typeof i&&(l=i,s=n,r=a),{});u.Profile=l,u.access_token=o;c.getAppConfiguration(function(){p.updateData(u,null,t,s,r,"",e)})},e.checkEmailAvailability=function(e,t,o){c.getAppConfiguration(function(){p.checkEmailAvailabilityController(c.util.jsonToQueryString(e),t,o)})},e.checkUserNameAvailability=function(e,t,o){c.getAppConfiguration(function(){p.checkUserNameAvailabilityController(c.util.jsonToQueryString(e),t,o)})},e.resetPasswordBySecurityQuestion=function(e,t,o){c.getAppConfiguration(function(){p.resetPasswordBySecurityQuestionController(c.util.jsonToQueryString(e),t,o)})},e.resetPINBySecurityQuestion=function(e,t,o){c.getAppConfiguration(function(){p.resetPINBySecurityQuestionController(c.util.jsonToQueryString(e),t,o)})},e.updateSecurityQuestion=function(e,t,o){c.getAppConfiguration(function(){p.updateSecurityQuestionController(c.util.jsonToQueryString(e),t,o)})},e.resetTwoFactor=function(e,t,o){c.getAppConfiguration(function(){p.resetTwoFactorAuthenticationController(e,t,o)})},e.invalidateToken=function(e,t,o){c.getAppConfiguration(function(){p.invalidateToken(e,t,o)})},e.validateToken=function(e,t,o){c.getAppConfiguration(function(){p.validateToken(e,t,o)})},e.getSocialData=function(e,t,o,i,n){c.getAppConfiguration(function(){p.getSocialDataController(e,t,o,i,n)})},e.postSocialData=function(e,t,o,i,n,a){c.getAppConfiguration(function(){p.postSocialDataController(e,t,o,i,n,a)})},e.getCustomObjects=function(e,t,o){c.getAppConfiguration(function(){p.getCustomObjectsController(e,t,o)})},e.createCustomObject=function(e,t,o,i){c.getAppConfiguration(function(){p.createCustomObjectController(e,t,o,i)})},e.getCustomObjectById=function(e,t,o,i){c.getAppConfiguration(function(){p.getCustomObjectByIdController(e,t,o,i)})},e.deleteCustomObjectById=function(e,t,o,i){c.getAppConfiguration(function(){p.deleteCustomObjectController(e,t,o,i)})},e.updateCustomObjectById=function(e,t,o,i,n,a){c.getAppConfiguration(function(){p.updateCustomObjectController(e,t,o,a,i,n)})},e.getBackupCode=function(e,t,o){c.getAppConfiguration(function(){p.getBackupCodeController(e,t,o)})},e.resetBackupCode=function(e,t,o){c.getAppConfiguration(function(){p.resetBackupCodeController(e,t,o)})},e.autoLogin=e.smartLogin=function(e,t,o){c.getAppConfiguration(function(){p.smartLoginController(c.util.jsonToQueryString(e),t,o)})},e.verifyConsent=function(e,t,o){c.getAppConfiguration(function(){p.verifyConsentController(e,t,o)})},e.fetchConsentLogs=function(e,t){c.getAppConfiguration(function(){p.consentLogsController(e,t)})},e.updateConsents=function(e,t,o){c.getAppConfiguration(function(){p.updateConsentController(e,t,o)})},e.submitConsentbyConsentToken=function(e,t,o){var i=e.consentToken||"";i?c.getAppConfiguration(function(){p.submitConsentController(i,e,t,o)}):(o({response:"consentToken is required parameter"}),c.log("consentToken is required parameter"))},e.submitConsentbyAccesToken=function(e,t,o){c.getAppConfiguration(function(){p.customEventConsentController(e,t,o)})},e.oneTouchLogin=function(e,t,o,i,n){c.getAppConfiguration(function(){i=i||function(){},n=n||function(){},p.oneTouchLoginController(e,null,t,o,"",!0,i,n)})},e.oneTouchLoginVerify=function(e,t,o){c.getAppConfiguration(function(){e.verificationtoken&&e.email?p.oneTouchLoginEmailVerification(e.verificationtoken,t,o,e.email):e.verificationtoken?p.oneTouchLoginEmailVerification(e.verificationtoken,t,o):e.otp&&e.phone&&p.verifyOTPController({otp:e.otp,onetouchloginflag:!0},{phone:e.phone},t,o)})}}function setLoginRadiusDefaultSchema(e){e.organizationFormSchema=[{type:"string",name:"organizationname",display:"Organization Name",rules:"required",permission:"r"}],e.lookupFormSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required|valid_email",permission:"r"}],e.loginFormSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required|valid_email",permission:"r"},{type:"password",name:"password",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"}],e.backupCodeFormSchema=[{type:"string",name:"backupcode",display:"Backup Code",rules:"required",permission:"r"}],e.resetPasswordByPhoneSchema=[{type:"string",name:"otp",display:"Verification Code",rules:"required",permission:"r"},{type:"password",name:"password",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"}],e.resetPINByPhoneSchema=[{type:"string",name:"otp",display:"Verification Code",rules:"required",permission:"r"},{type:"password",name:"pin",display:"PIN",rules:"required|min_length[4]|max_length[32]",permission:"w"}],e.checkPhoneNumberSchema=[{type:"string",name:"phone",display:"Phone Number",rules:"required|valid_phoneno",permission:"r"}],e.QRCodeSchema=[{type:"string",name:"AuthenticatorCode",display:"Authenticator Code",rules:"required",permission:"r"}],e.getSecQSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required|valid_email",permission:"r"}],e.otpSchema=[{type:"string",name:"otp",display:"Verification Code",rules:"required",permission:"r"}],e.forgotPasswordFormSchema=[{type:"string",name:"emailid",display:"Email",rules:"required",permission:"r"}],e.forgotPINFormSchema=[{type:"string",name:"emailid",display:"Email",rules:"required",permission:"r"}],e.forgotPassKeyFormSchema=[{type:"string",name:"emailid",display:"Email",rules:"required",permission:"r"}],e.smartLoginSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required",permission:"r"}],e.passwordLessLoginSchema=[{type:"string",name:"emailid",display:"Email",rules:"required",permission:"r"},{type:"string",name:"name",display:"Name",rules:"",permission:"r"}],e.changePasswordFormSchema=[{type:"password",name:"oldpassword",display:"Old Password",rules:"required",permission:"w"},{type:"password",name:"newpassword",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"},{type:"password",name:"confirmnewpassword",display:"Confirm Password",rules:"required|min_length[6]|max_length[32]|matches[newpassword]",permission:"w"}],e.emailSchema=e.forgotPasswordFormSchema,e.addEmailSchema=[{type:"string",name:"emailid",display:"Email",rules:"required|valid_email",permission:"r"},{type:"string",name:"type",display:"Type",rules:"required",permission:"r"}],e.changeUsernameFormSchema=[{type:"string",name:"username",display:"Username",rules:"required",permission:"r"}],e.changePINFormSchema=[{type:"password",name:"oldpin",display:"Old PIN",rules:"required",permission:"w"},{type:"password",name:"newpin",display:"PIN",rules:"required",permission:"w"},{type:"password",name:"confirmnewpin",display:"Confirm PIN",rules:"required|matches[newpin]",permission:"w"}],e.resetPasswordFormSchema=[{type:"password",name:"password",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"},{type:"password",name:"confirmpassword",display:"Confirm Password",rules:"required|matches[password]|min_length[6]|max_length[32]",permission:"w"},{type:"hidden",name:"resettoken",display:"",rules:"required",permission:"w",value:""}],e.resetPINFormSchema=[{type:"password",name:"pin",display:"PIN",rules:"required|min_length[4]|max_length[32]",permission:"w"},{type:"password",name:"confirmpin",display:"Confirm PIN",rules:"required|matches[pin]|min_length[4]|max_length[32]",permission:"w"},{type:"hidden",name:"resettoken",display:"",rules:"required",permission:"w",value:""}],e.pinLoginFormSchema=[{type:"password",name:"pin",display:"PIN",rules:"required",permission:"r"}],e.privacyPolicySchema=[{type:"multi",name:"acceptprivacypolicy",display:"I agree to the terms of service",rules:"",permission:"r"}],e.btnOTPSchema={type:"button",name:"click",display:"click",rules:"",permission:"r",event:"click",eventCallback:function(){}},e.defaultBtnSchema={type:"button",name:"default",display:"default",rules:"",permission:"r",event:"click",eventCallback:function(){}}}function setLoginRadiusModuleFunctions(c,p){var d=LoginRadiusDefaults.options,m=new SetLoginRadiusCommonFunctions(c),e=new LoginRadiusControllers(c,m),g=c.util;c.version="3.28.0",c.LRCheckRegistration=!1,c.passwordlessLoginFlag=!1,c.duoLoginFlag=!1,c.socialLoginFlag=!1,c.LRCheckLogin=!1,c.LRCheck2FA=!1,c.loginAction=!1,c.options={},c.consentOptions="",c.lookupOptions="",c.sessionData={getUid:function(){return c.storage.getBrowserStorage(LoginRadiusDefaults.storedUidName)},getToken:function(){return c.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName)}},c.errorMessages=[],c.validationMessages=[],c.formCustomLabel={},c.formElementsTitle={},c.defaultOptionField={},c.formValidations={},c.formPlaceholder={},c.formElementAttributes={},c.buttonElements={},c.passwordMeterConfiguration=[],c.buttonsName={},c.eventsName={},c.log=function(e){c.options.debugMode&&"undefined"!=typeof console&&console.error(e)},c.customInterface=function(e,t){var o=t.templateName||"";h(function(){m.renderCustomInterface(e,"",o)})},c.clearSession=function(){c.storage.removeBrowserStorage(LoginRadiusDefaults.storedTokenName),c.storage.removeBrowserStorage(LoginRadiusDefaults.storedUidName),c.storage.removeBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),c.storage.removeBrowserStorage(LoginRadiusDefaults.storedOrganization)},c.setSessionToken=function(e){e={session_token:e.session_token,session_expires_in:e.session_expires_in};c.storage.setBrowserStorage(LoginRadiusDefaults.storedSessionTokenData,JSON.stringify(e))},c.getSessionToken=function(){var e=JSON.parse(c.storage.getBrowserStorage(LoginRadiusDefaults.storedSessionTokenData));return e&&e.session_expires_in&&new Date<new Date(e.session_expires_in)?e.session_token:(c.removeSessionToken(),!1)},c.removeSessionToken=function(){c.storage.removeBrowserStorage(LoginRadiusDefaults.storedSessionTokenData)},c.documentCookies=Object.assign({},LRNameSpace.cookies);var f=[];function h(e){try{c.options=g.mergeOptions(c.options,p),c.options.apiCustomDomain&&(t=LoginRadiusDefaults.apiDomain,LoginRadiusDefaults.apiDomain=t.replace(/https:.*\/identity/,"https://"+c.options.apiCustomDomain+"/identity"),o=LoginRadiusDefaults.socialApiDomain,LoginRadiusDefaults.socialApiDomain=o.replace(/https:.*\/api/,"https://"+c.options.apiCustomDomain+"/api")),c.options.cloudApiCustomDomain&&(i=LoginRadiusDefaults.cloudApiDomain,LoginRadiusDefaults.cloudApiDomain=i.replace(/https:.*\.com/,"https://"+c.options.cloudApiCustomDomain));var t,o,i,n,a,s,r=!c.options.isB2BEnabled||!c.options.promptOrganization||c.options.organization;c.isApiCallingStarted||r?!c.isApiCallingStarted&&r?(c.isApiCallingStarted=!0,f.push(e),n=c.storage.getBrowserStorage(LoginRadiusDefaults.storedOrganization),a=c.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),c.LoginRadiusHostedPage&&(a=c.storage.getBrowserStorage("lr-session-token")),s=LoginRadiusDefaults.configApiDomain+"appInfo?apikey="+p.apiKey,c.options.isB2BEnabled&&(c.options.organization?s+="&org_name="+c.options.organization:n&&a&&(s+="&org_name="+n)),a&&(s+="&autolookupproviders=true"),g.ajaxCall("get",s,"",function(o){function i(e){var t,o,i,n,a,s;e.ErrorCode?c.isApiCallingStarted=!1:(c.storage.removeBrowserStorage(LoginRadiusDefaults.storedOrganization),e.Organization&&e.Organization.Name&&c.storage.setBrowserStorage(LoginRadiusDefaults.storedOrganization,e.Organization.Name),t=e,n={},p.organizationObj=t.Organization,p.securityQuestionEnabled=t.IsSecurityQuestion,p.appName=p.appName||t.AppName,p.RegistrationFormSchema=t.RegistrationFormSchema,p.loginLockedType=t.LoginLockedConfiguration&&t.LoginLockedConfiguration.LoginLockedType,p.securityQuestionEnabled&&(p.SecurityQuestions=t.SecurityQuestions.Questions,p.securityQuestionsCount=void 0===p.securityQuestionsCount?t.SecurityQuestions.SecurityQuestionCount:p.securityQuestionsCount),void 0===p.passwordLength&&p.displayPasswordStrength&&p.RegistrationFormSchema&&(o=g.findInSchema(p.RegistrationFormSchema,"name","password").rules.split("|"),a=(a=g.isSubstring("min_length[",Object.keys(o).map(function(e){return o[e]})))?o[a].substring(o[a].lastIndexOf("min_length[")+11,o[a].lastIndexOf("]")):"",s=(s=g.isSubstring("max_length[",Object.keys(o).map(function(e){return o[e]})))?o[s].substring(o[s].lastIndexOf("max_length[")+11,o[s].lastIndexOf("]")):"",i={},a&&(i.min=parseInt(a)),s&&(i.max=parseInt(s)),p.passwordLength=i),p.SocialSchema=t.SocialSchema,p.maskSensitiveInput=p.encryptedAnswer||p.maskSensitiveInput,p.noCallbackForSocialLogin=void 0!==p.noCallback?p.noCallback:p.noCallbackForSocialLogin,t.TwoFactorAuthentication&&t.TwoFactorAuthentication.IsEnabled&&(n.optionalTwoFactorAuthentication=!0,n.twoFactorAuthentication=!1,n.qrCodeAuthentication=t.TwoFactorAuthentication.IsAuthenticator,n.emailOTPAuthentication=t.TwoFactorAuthentication.IsEmailOTPAuthenticator,n.pushNotificationAuthenticator=t.TwoFactorAuthentication.IsPushAuthenticator,n.securityQuestionAuthentication=t.TwoFactorAuthentication.IsSecurityQuestionAuthenticator,n.smsOTPAuthentication=t.TwoFactorAuthentication.IsSmsOTPAuthenticator,n.duoAuthentication=t.TwoFactorAuthentication.IsDuoSecurityAuthenticator,n.passkeyAuthenticator=t.TwoFactorAuthentication.IsPasskeyAuthenticator,t.TwoFactorAuthentication.IsRequired)&&(n.optionalTwoFactorAuthentication=!1,n.twoFactorAuthentication=!0),p.optionalTwoFactorAuthentication=(void 0===p.optionalTwoFactorAuthentication?n:p).optionalTwoFactorAuthentication,p.twoFactorAuthentication=(void 0===p.twoFactorAuthentication?n:p).twoFactorAuthentication,p.qrCodeAuthentication=void 0===p.googleAuthentication?(void 0===p.qrCodeAuthentication?n:p).qrCodeAuthentication:p.googleAuthentication,p.phoneLogin=void 0===p.phoneLogin?t.IsPhoneLogin:p.phoneLogin,p.passwordlessLoginOTP=void 0===p.instantOTPLogin&&void 0===p.passwordlessLoginOTP?t.IsInstantSignin.SmsOtp:p.instantOTPLogin||p.passwordlessLoginOTP,"optional"===t.EmailVerificationFlow?n.optionalEmailVerification=!0:"disabled"===t.EmailVerificationFlow&&(n.disabledEmailVerification=!0),p.optionalEmailVerification=(void 0===p.optionalEmailVerification?n:p).optionalEmailVerification,p.disabledEmailVerification=(void 0===p.disabledEmailVerification?n:p).disabledEmailVerification,p.loginOnEmailVerification=void 0===p.loginOnEmailVerification?t.IsLoginOnEmailVerification:p.loginOnEmailVerification,p.passwordlessLogin=void 0===p.instantLinkLogin&&void 0===p.passwordlessLogin?t.IsInstantSignin.EmailLink:p.instantLinkLogin||p.passwordlessLogin,p.askRequiredFieldForTraditionalLogin=void 0===p.askRequiredFieldForTraditionalLogin?t.AskRequiredFieldsOnTraditionalLogin:p.askRequiredFieldForTraditionalLogin,p.stayLogin=void 0===p.stayLogin?t.IsRememberMe:p.stayLogin,p.disableSignup=void 0===p.disableSignup?t.IsDisabledRegistration:p.disableSignup,p.riskBasedAuthentication=void 0===p.riskBasedAuthentication?t.IsRiskBasedAuthentication:p.riskBasedAuthentication,p.noCallbackForSocialLogin=void 0===p.noCallbackForSocialLogin?t.IsNoCallbackForSocialLogin:p.noCallbackForSocialLogin,p.usernameLogin=void 0===p.usernameLogin?t.IsUserNameLogin:p.usernameLogin,p.promptPasswordOnSocialLogin=void 0===p.promptPasswordOnSocialLogin?t.AskPasswordOnSocialLogin:p.promptPasswordOnSocialLogin,p.askOptionalFieldsOnRegistration=void 0===p.askOptionalFieldsOnRegistration?t.AskOptionalFieldsOnSocialSignup:p.askOptionalFieldsOnRegistration,p.askEmailForUnverifiedProfileAlways=void 0===p.askEmailForUnverifiedProfileAlways?t.AskEmailIdForUnverifiedUserLogin:p.askEmailForUnverifiedProfileAlways,p.logoutOnVerifyEmail=void 0===p.logoutOnVerifyEmail?t.IsLogoutOnEmailVerification:p.logoutOnVerifyEmail,p.disableAccountLinking=t.IsDisabledAccountLinking,p.duplicateEmailWithUniqueUsername=t.DuplicateEmailWithUniqueUsername,p.customDomain=p.customDomain||t.CustomDomain,p.privacyPolicyConfiguration=t.PrivacyPolicyConfiguration,p.isConsentManagementEnabled=(void 0===p.IsConsentManagementEnabled?t:p).IsConsentManagementEnabled,p.loginOnPasswordReset=t.LoginOnPasswordReset,p.optionalRecaptchaConfiguration=t.OptionalRecaptchaConfiguration,p.isVoiceOtp=t.IsVoiceOTP,(p.v2Recaptcha||t.IsV2Recaptcha)&&(p.invisibleRecaptcha=!1,p.v2Recaptcha=!0),(p.invisibleRecaptcha||t.IsInvisibleRecaptcha)&&(p.invisibleRecaptcha=!0,p.v2Recaptcha=!1),p.isCaptchaEnabled=p.v2Recaptcha||p.invisibleRecaptcha,p.v2RecaptchaSiteKey=p.v2RecaptchaSiteKey||t.V2RecaptchaSiteKey,p.tencentCaptchaAppid=p.tencentCaptchaAppid||t.QQTencentCaptchaKey,(a=t.CaptchaConfig)&&a.IsEnabled&&(p.isCaptchaEnabled=!0,a.GoogleRecaptchaV2&&(p.v2RecaptchaSiteKey=a.GoogleRecaptchaV2.PublicKey,p.v2Recaptcha=void 0===p.v2Recaptcha?!a.GoogleRecaptchaV2.IsInvisibleCaptcha:p.v2Recaptcha,p.invisibleRecaptcha=void 0===p.invisibleRecaptcha?a.GoogleRecaptchaV2.IsInvisibleCaptcha:p.invisibleRecaptcha),a.QQTencentCaptcha&&(p.tencentCaptchaAppid=a.QQTencentCaptcha.PublicKey,p.tencentCaptcha=void 0===p.tencentCaptcha||p.tencentCaptcha),a.GoogleRecaptchaV3&&(p.v2RecaptchaSiteKey=a.GoogleRecaptchaV3.PublicKey,p.invisibleRecaptcha=!0,p.v2Recaptcha=!1),a.HCaptcha)&&(p.hCaptchaSiteKey=p.hCaptchaSiteKey||a.HCaptcha.PublicKey,p.captchaTheme=p.captchaTheme||a.HCaptcha.IsDarkTheme?"dark":"light",p.invisibleRecaptcha=a.HCaptcha.IsInvisibleCaptcha),(s=t.PassKeysConfig)&&s.IsEnabled&&(p.isPassKeysEnabled=!0),n.isPINAuthentication=!1,t.PINAuthentication&&t.PINAuthentication.IsEnabled&&(n.isPINAuthentication=!0,n.PINConfiguration=Object.assign({},t.PINAuthentication.Configuration),p.PINConfiguration?p.PINConfiguration=Object.assign({},n.PINConfiguration,p.PINConfiguration):p.PINConfiguration=Object.assign({},n.PINConfiguration)),p.isPINAuthentication=n.isPINAuthentication,p.isPINAuthentication&&(c.pinSchema=[],i=g.findInSchema(p.RegistrationFormSchema,"name","pin"),g.isEmpty(i)?c.log("Pin schema is not defined"):(c.pinSchema.push(i),!p.PINConfiguration.IsRequired||c.pinSchema[0].rules&&-1!==c.pinSchema[0].rules.indexOf("required")||(c.pinSchema[0].rules=c.pinSchema[0].rules?[c.pinSchema[0].rules,"required"].join("|"):"required"),a=g.findInSchema(p.RegistrationFormSchema,"name","confirmpin"),g.isEmpty(a)||c.pinSchema.push(a))),p.isConsentManagementEnabled&&m.setConsentTemplate(),p.emailOTPAuthentication=n.emailOTPAuthentication,p.smsOTPAuthentication=n.smsOTPAuthentication,p.duoAuthentication=n.duoAuthentication,p.securityQuestionAuthentication=n.securityQuestionAuthentication,p.templateVerificationTypes=t.TemplateVerificationTypes,p.pushNotificationAuthentication=n.pushNotificationAuthenticator,p.passkeyAuthentication=n.passkeyAuthenticator,p=g.mergeOptions(d,p)),c.options=p,c.appConfigInfoCalled=!0;for(var r=0;r<f.length;r++)"function"==typeof f[r]&&f[r](e)}var e,t;o.IsAutoLookUpEnabled&&c.currentActionOptions&&c.currentActionOptions.login.container?(i(o),e=c.currentActionOptions.login.container,t=function(e){c.getAutoLookupDomainConfiguration(e.email,function(){var e,t;c.lookupOptions&&c.lookupOptions.Provider&&c.lookupOptions.Provider.Endpoint?(e=m.addSocialEndpointOptions(),t=c.util.getThisObjectName(),window[t].util.openWindow(decodeURIComponent(c.lookupOptions.Provider.Endpoint+e)),c.isLookupApiCallingStarted=!1,c.lookupOptions=""):i(o)})},m.createForm(c.lookupFormSchema,"lookupdomain",e,function(e){var n=c.util.parseQueryString(e);c.$hooks.register("afterFormRender",function(e,t,o,i){"login"===e&&(i.elements[0].value=n.email)}),t(n)})):i(o)},"registrationSchema")):c.isApiCallingStarted&&(c.appConfigInfoCalled?e():"logout"===c.useraction?(c.isApiCallingStarted=!1,h(e)):f.push(e)):(c.isApiCallingStarted=!1,f.push(e),"organization"===c.useraction&&(l=c.currentActionOptions[c.useraction].container,u=function(){h(function(e){var t;e.ErrorCode?(c.isApiCallingStarted=!1,c.currentActionOptions[c.useraction].onError(e)):((t=document.getElementsByName("loginradius-organization")[0])&&t.remove(),c.currentActionOptions[c.useraction].onSuccess(e))})},c.currentActionOptions[c.useraction].classPrefix,m.createForm(c.organizationFormSchema,"organization",l,function(e){e=c.util.parseQueryString(e);c.options.organization=e.organizationname,u()})))}catch(e){c.log(e)}var l,u}var l=[],o=(c.getConsentConfiguration=function(e){c.isConsentApiCallingStarted||""!==c.consentOptions?c.isConsentApiCallingStarted&&(""!==c.consentOptions?e(c.consentOptions):l.push(e)):(c.isConsentApiCallingStarted=!0,l.push(e),g.ajaxCall("get",LoginRadiusDefaults.configApiDomain+"consent?apiKey="+c.options.apiKey,"",function(e){if(e){c.consentOptions={},c.consentsList={};for(var t="",o=0;o<e.length;o++){for(var i=0;i<e[o].Events.length;i++)t=e[o].Events[i].Name,"true"===e[o].Events[i].IsCustom&&(t="custom_"+t),c.consentOptions[t]={},c.consentOptions[t].ConsentForm=e[o].ConsentForm,c.consentOptions[t].TermOfService=e[o].TermOfService,c.consentOptions[t].PrivacyPolicy=e[o].PrivacyPolicy;for(var n=0;n<e[o].ConsentForm.length;n++)for(var a=e[o].ConsentForm[n],s=0;s<a.Consents.length;s++)c.consentsList[a.Consents[s].ConsentId]||(c.consentsList[a.Consents[s].ConsentId]=a.Consents[s])}for(var r=0;r<l.length;r++)l[r](c.consentOptions)}else c.isConsentApiCallingStarted=!1}))},[]);c.getAutoLookupDomainConfiguration=function(e,t){c.isLookupApiCallingStarted||""!==c.lookupOptions?c.isLookupApiCallingStarted&&(""!==c.lookupOptions?t(c.lookupOptions):o.push(t)):(c.isLookupApiCallingStarted=!0,o.push(t),g.ajaxCall("get",LoginRadiusDefaults.configApiDomain+"lookup?apiKey="+c.options.apiKey+"&email="+e,"",function(e){e?(c.lookupOptions=e,o[0](c.lookupOptions)):c.isLookupApiCallingStarted=!1}))},c.getAppConfiguration=h,c.progressiveProfiling=new LRNameSpace.ProgressiveProfiling(c,m,e,LoginRadiusDefaults),c.progressiveProfiling.init=function(){h(function(){c.progressiveProfiling.fetchSchema(function(e){c.progressiveProfilingSchema=e,c.$hooks.register("registrationSchemaFilter",function(e,t){c.options.progressiveProfilingTraditional&&(c.LoggedinSocialProvderProfile=t)})},"progressiveProfilingSchema")})}}function LoginRadiusHooksModel(w){var S=w.util,o=LoginRadiusDefaults.messages;w.$hooks={hooks:[],register:function(e,t,o){void 0===w.$hooks.hooks[e]&&(w.$hooks.hooks[e]=[]),parseInt(o,10)===o&&w.$hooks.hooks[e].length>o+1?w.$hooks.hooks[e].splice(o,0,t):w.$hooks.hooks[e].push(t)},call:function(e){var t=Array.prototype.splice.call(arguments,1);if(void 0!==w.$hooks.hooks[e])for(var o=0,i=w.$hooks.hooks[e].length;o<i;++o)w.$hooks.hooks[e]&&w.$hooks.hooks[e][o]&&w.$hooks.hooks[e][o].apply(null,t)}},w.$hooks.register("addEventOnElement",function(e){S.extend(w.eventsName,e)}),w.$hooks.register("mapErrorMessages",function(e){if(e.code&&e.message)w.errorMessages.push(e);else if(S.isArray(e))for(var t=0;t<e.length;t++)e[t].code&&e[t].message?w.errorMessages.push(e[t]):w.log(o.notValidMessage);else w.log(o.notValidMessage)}),w.$hooks.register("passwordMeterConfiguration",function(e){S.isArray(e)?S.extend(w.passwordMeterConfiguration,e):w.log(o.passwordStrengthMessage)}),w.$hooks.register("setButtonsName",function(e){for(var t,o=Object.keys(e),i=o.length,n={};i--;)n[(t=o[i]).toLowerCase()]=e[t];S.extend(w.buttonsName,n)}),w.$hooks.register("mapValidationMessages",function(e){if(e.rule&&e.message)w.validationMessages.push(e);else if(S.isArray(e))for(var t=0;t<e.length;t++)e[t].rule&&e[t].message?w.validationMessages.push(e[t]):w.log(o.notValidMessage);else w.log(o.notValidMessage)}),w.$hooks.register("customizeFormLabel",function(e){S.extend(w.formCustomLabel,e)}),w.$hooks.register("customizeElementTitle",function(e){S.extend(w.formElementsTitle,e)}),w.$hooks.register("defaultChoiceOption",function(e){S.extend(w.defaultOptionField,e)}),w.$hooks.register("customizeFormPlaceholder",function(e){S.extend(w.formPlaceholder,e)}),w.$hooks.register("formValidationRules",function(e){S.extend(w.formValidations,e)}),w.$hooks.register("formAttributes",function(e){S.extend(w.formElementAttributes,e)}),w.$hooks.register("buttonAttributes",function(e){S.extend(w.buttonElements,e)}),w.$hooks.register("addFormCaptcha",function(n,a,s,r){w.getAppConfiguration(function(){s&&(w.options[s]=!0);var e,t,o=r||n+"recaptcha_widget",i=(S.addRecaptchaJS(),[]);w.util.elementById(o)||(S.captchaSchema(o,i,!1,a),(e=document.createElement("div")).setAttribute("name",i[0].name),w.options.invisibleRecaptcha&&a&&(t=a.toString(),t=/function ([^\(]*)/.exec(t)[1],i[0].html=i[0].html.replace("onCaptchaSubmit",t)),e.innerHTML=i[0].html,S.addHTMLContent(n,e,!0)),S.renderV2Recaptcha(o,!1,a)})}),w.$hooks.register("addFormCaptchaExecute",function(e,t,o){var i,n=t?e:e+"recaptcha_widget",t=S.elementById(n+"_tencent");w.options.invisibleRecaptcha?i=setInterval(function(){try{if(void 0!==window.hcaptcha&&w.options.hCaptchaSiteKey){try{window.hcaptcha.execute(window[n])}catch(e){}clearInterval(i)}else if("undefined"!=typeof grecaptcha){try{grecaptcha.execute(window[n])}catch(e){}clearInterval(i)}}catch(e){clearInterval(i),w.log(e)}},1e3):t&&"none"!==t.style.display&&(w.options.tencentCaptcha||w.options.tencentCaptchaAsFallback&&!window.grecaptcha)?t.click():w.options.isCaptchaEnabled&&(e={error:LoginRadiusDefaults.messages.captchaError},w.options.hCaptchaSiteKey&&(t=document.querySelector("textarea[name*='h-captcha-response']"))&&(t.value?o({success:t.value}):o(e)),w.options.v2RecaptchaSiteKey)&&(t=document.querySelector("textarea[name*='g-recaptcha-response']"))&&(t.value?o({success:t.value}):o(e))}),w.$hooks.register("successCallback",function(n,a,e){var t,o,i,s,r,l,u,c,p,d,m,g,f,h,y,C,v,T="";n&&(w.$hooks.register("setCurrentAction",function(){w.storage.setBrowserStorage("LRSetSafariToken",n)}),T="verifyotp"===n.toLowerCase()?"otp":n.toLowerCase()),"1132"==a.ErrorCode?(w.LRCheckLogin||!w.LRCheck2FA||w.LRCheck2FA&&"twofaotp"===n)&&(w.options.v2Recaptcha||w.options.invisibleRecaptcha||w.options.tencentCaptcha||w.options.tencentCaptchaAsFallback||(w.options.v2Recaptcha=!0),"verifyemail"===T&&(S.elementById("loginradius-submit-verify").style.display="block"),C=w.LRPrefix.replace("##","")+"recaptcha_widget_"+T,C=C,(v=w.util.elementById(C,!0))&&(v.style.display="block"),window.grecaptcha&&v&&""!==v.innerHTML?grecaptcha.reset(window[C+"lr_recaptcha_widgets_idprefix"]):w.util.renderV2Recaptcha(C,!1)):"1148"==a.ErrorCode||"1165"==a.ErrorCode?(v=S.parseString(e))&&!v.hasOwnProperty("securityanswer")&&(C=e,h=T,w.options.securityQuestionEnabled)&&(y=S.jsonToQueryString(JSON.parse(C)),new LoginRadiusControllers(w).getSecurityQuestionsController(y,function(n){if(0<n.length)for(var e=0;e<n.length;e++)-1!==y.indexOf(n[e].name)&&n.splice(e,1);var t,o,i;0<n.length&&(t=document.createElement("div"),o=[],i=w.LRPrefix.split("##"),new SetLoginRadiusCommonFunctions(w).createFormFields(n,t,h,o,i[0],i[1]),new FormValidator(i[1]+h,o,function(e){w.mergeFormErrors={},w.mergeFormErrors=e}),w.$hooks.register("startProcess",function(e,t){for(var o={},i=0;i<n.length;i++)t&&t[n[i].name]&&(o[n[i].name]=t[n[i].name],delete t[n[i].name]);t&&(t.securityanswer=o)}),w.util.addHTMLContent("",t,!0,h,i[0]))})):"1194"==a.ErrorCode?(t=a,e=n,o="",(T=w.privacyPolicySchema.slice())[0].rules="Strict"===w.options.privacyPolicyConfiguration.Mode?"required":"",i=new SetLoginRadiusCommonFunctions(w),s=new LoginRadiusControllers(w,i),w.$hooks.call("getCurrentActionOptions",e),r=function(){},l=function(){},u="",w.currentActionOptions[e]&&(r=w.currentActionOptions[e].onSuccess||r,l=w.currentActionOptions[e].onError||l,u=w.currentActionOptions[e].classPrefix||u),"socialLogin"===e?(o=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),w.$hooks.call("socialLoginFormRender")):o=t.Data.access_token||(t.Data&&t.Data.Data?t.Data.Data.access_token:""),i.createForm(T,"privacyPolicyUpdate",w.currentLRContainer,function(e){s.updatePrivacyPolicy(o,t,r,l,null,w.currentLRContainer,u)},function(e){l(i.setMappedMessage(e))})):"1243"==a.ErrorCode?(e=a,T=n,w.pinSchema&&w.pinSchema.length?(c=e.Data.PINAuthToken,(p=new SetLoginRadiusCommonFunctions(w)).setPINRule(S.findInSchema(w.pinSchema,"name","confirmpin")),d=new LoginRadiusControllers(w,p),w.$hooks.call("getCurrentActionOptions",T),m=function(){},g=function(){},f="",w.currentActionOptions[T]&&(m=w.currentActionOptions[T].onSuccess||m,g=w.currentActionOptions[T].onError||g,f=w.currentActionOptions[T].classPrefix||f),p.createForm(w.pinSchema,"pinSetup",w.currentLRContainer,function(e){d.configurePINController(c,e,m,g,w.currentLRContainer,f)},function(e){g(p.setMappedMessage(e))})):w.log("Pin Schema is not defined in the schema")):1226===a.ErrorCode&&a.Data&&a.Data.ConsentToken&&!w.lrApiFramework&&w.getConsentConfiguration(function(e){var o,t=a,l=n,u=t.Data.ConsentToken;t.Data.ConsentProfile&&t.Data.ConsentProfile.Consents&&t.Data.ConsentProfile.Consents.Options&&(o=t.Data.ConsentProfile.Consents.Options);for(var c=new SetLoginRadiusCommonFunctions(w),p=new LoginRadiusControllers(w,c),d="",m=[],g=[],i=0;i<t.Data.Events.length;i++)m.push(t.Data.Events[i].Name);w.$hooks.call("getCurrentActionOptions",l);var f=function(){},h=function(){},y="",C="";function v(s,r){var e=[],t=c.createConsentInterface(s[r],o);""!==t&&(e.push({html:t,type:"html",name:"consent"}),c.createForm(e,"consentlogin",C,function(e){var t=c.consentValidation(e,r);if(0<t.length)h(c.setMappedMessage(t));else if(d=d?d+"&"+e:e,g.push({Event:r,IsCustom:!1}),m.splice(0,1),0<m.length)v(s,m[0]);else{var o,i=w.util.parseQueryString(d),n=[];for(o in i){var a=o.replace("consent_","");n.push({ConsentOptionId:a,IsAccepted:i[o]})}i={},0<n.length&&(i.Events=g,i.Data=n),p.submitConsentController(u,i,f,h,C,y,l)}},function(e){h(c.setMappedMessage(e))}))}w.currentActionOptions[l]&&(f=w.currentActionOptions[l].onSuccess||f,h=w.currentActionOptions[l].onError||h,y=w.currentActionOptions[l].classPrefix||y,C=w.currentActionOptions[l].container||""),C=C||w.currentLRContainer,"socialLogin"===l&&w.$hooks.call("socialLoginFormRender"),v(e,m[0])})}),w.$hooks.register("afterFormRender",function(e,t,o,i){var n=w.options.RegistrationFormSchema,a=[];if("registration"===e){for(var s,r,l={},u=0;u<n.length;u++)n[u]&&n[u].DataSource&&null!==n[u].DataSource&&(l[n[u].DataSource]=n[u],l[n[u].DataSource].children=[]);for(r in l)l.hasOwnProperty(r)&&((s=l[r]).ParentDataSource&&null!=s.ParentDataSource?l[s.ParentDataSource].children:a).push(s);if(0<a.length)for(var c=t,p=a,d=o,m=[],g=new SetLoginRadiusCommonFunctions(w),f=0;f<p.length;f++)p[f].ParentDataSource||S.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/"+p[f].DataSource+"?apiKey="+w.options.apiKey,"",function(e,t){if(m[e.DataSource]=t,m[e.DataSource])for(var o=0;o<m[e.DataSource].length;o++){var i=document.createElement("option"),n=(i.setAttribute("value",m[e.DataSource][o].Id),i.appendChild(document.createTextNode(m[e.DataSource][o].Key)),document.getElementById(d+"registration-"+e.name));n&&n.appendChild(i)}if(e&&e.children&&0<e.children.length)for(var a=0;a<e.children.length;a++)g.addChangeEventHandler(c,e,e.children[a],d)},"registration",p[f])}if("validatecode"===e)for(var h=e,y=n,C=o,v=0;v<y.length;v++)y[v].DataSource&&w.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/"+y[v].DataSource+"?apiKey="+w.options.apiKey,"",function(e,t){for(var o=0;o<t.length;o++){var i=document.createElement("option");i.setAttribute("value",t[o].Id),i.appendChild(document.createTextNode(t[o].Key)),document.getElementById(C+h+"-"+e.name).appendChild(i)}},"registration",y[v])}),w.$hooks.register("setLocaleBasedInfo",function(e){for(var t in e)if(e.hasOwnProperty(t))switch(t){case"labels":S.extend(w.formCustomLabel,e[t]);break;case"placeholders":S.extend(w.formPlaceholder,e[t]);break;case"validationMessages":w.$hooks.call("mapValidationMessages",e[t]);break;case"errorMessages":w.$hooks.call("mapErrorMessages",e[t]);break;case"passwordMeterConfiguration":w.$hooks.call("passwordMeterConfiguration",e[t]);break;case"buttonsName":w.$hooks.call("setButtonsName",e[t])}})}function SetLoginRadiusCommonFunctions(D){var I=this,h=LoginRadiusDefaults.messages,L=LoginRadiusDefaults.buttonNames,O=new LoginRadiusControllers(D,I);function b(o,i,e,t){var n=D.util.elementById(e+"_tencent"),a=!1,s=("profileeditor"===t&&(a=!0),D.util.elementById(e));D.options.invisibleRecaptcha&&s&&""!==s.innerHTML&&"none"!==s.style.display&&!window.lrpasswordlesslogin&&!window.lrpasswordlessloginotp&&s.closest("form")?window.hcaptcha&&D.options.hCaptchaSiteKey?window.hcaptcha.execute(window[e+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&grecaptcha.execute(window[e+"lr_recaptcha_widgets_idprefix"]):n&&"none"!==n.style.display&&(D.options.tencentCaptcha||D.options.tencentCaptchaAsFallback&&!window.grecaptcha&&!window.hcaptcha)?window.onTencentCaptchaSubmitCallback=function(e){var t=D.util.serialize(o,a),t=(t+="&qq_captcha_ticket="+e.ticket)+("&qq_captcha_randstr="+e.randstr);i(t)}:(i(D.util.serialize(o,a)),I.resetGoogleCaptcha(t,e))}function R(e,t,o,i,n){var a="linksignin",s=("passwordlessLoginOTPButtonLabel"===e&&(a="otpsignin"),document.createElement("input")),r=(s.type="submit",D.buttonsName[e.toLowerCase()]||L[e.toLowerCase()]),l=L[e.toLowerCase()];s.value=r,s.id=i+a+"-"+l.toLowerCase().replace(/ /g,"-"),s.setAttribute("class",n+a+" "+a+"-"+i+l.toLowerCase().replace(/ /g,"-")),D.options.disableButtonOnsubmit&&(D.$hooks.register("startProcess",function(e){("otpsignin"===a&&window.lrpasswordlessloginotp||"linksignin"===a&&window.lrpasswordlesslogin)&&(s.disabled=!0)}),D.$hooks.register("xhrEndWithError",function(e){("otpsignin"===a&&window.lrpasswordlessloginotp||"linksignin"===a&&window.lrpasswordlesslogin)&&(s.disabled=!1)}),D.$hooks.register("xhrEndWithSuccess",function(e){("otpsignin"===a&&window.lrpasswordlessloginotp||"linksignin"===a&&window.lrpasswordlesslogin)&&D.options.enableSubmitOnSuccess&&(s.disabled=!1)})),t.appendChild(s),D.util.addEvent("click",o,function(e){window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1,window.lrpasskeylogin=!1}),"passwordlessLoginOTPButtonLabel"===e?D.util.addEvent("click",s,function(e){window.lrpasswordlessloginotp=!0,window.lrpasswordlesslogin=!1,window.lrpasskeylogin=!1}):D.util.addEvent("click",s,function(e){window.lrpasswordlesslogin=!0,window.lrpasswordlessloginotp=!1,window.lrpasskeylogin=!1})}I.showOTPTemplateForm=function(e){return D.options.templateVerificationTypes&&"OTP"===D.options.templateVerificationTypes[e]},I.addSocialEndpointOptions=function(e){var t=D.util.getQueryParameterByName("scope"),t=(""===D.options.scope&&t&&(D.options.scope=t),"&callback="+D.options.callbackUrl+"&same_window="+D.options.callbackInsideSameWindow+"&is_access_token="+D.options.accessTokenResponse+"&callbacktype="+D.options.callbackType+"&disablesignup="+D.options.disableSignup);return-1===t.indexOf("scope")&&(t+="&scope="+D.options.scope),D.options.isMobile&&(t+="&ismobile=true"),e&&(t+="&ac_linking=true"),D.options.isCustomScope&&(t+="&is_custom_scope=true"),t},I.renderCustomInterface=function(e,w,S,k,L,t){D.options.selector=e;function o(e){for(var t,o=e,i=(D.options.providerCountry&&!D.options.providersList&&(o=function(e,t){for(var o=[{Name:"Facebook",country:"global",except:"china"},{Name:"Google",country:"global",except:"china"},{Name:"Yahoo",country:"global",except:"china"},{Name:"Live",country:"global",except:"china"},{Name:"Twitter",country:"global",except:"china"},{Name:"Linkedin",country:"global",except:"china"},{Name:"Myspace",country:"US"},{Name:"Foursquare",country:"global",except:"china"},{Name:"Vkontakte",country:"Russia"},{Name:"Renren",country:"China"},{Name:"QQ",country:"China"},{Name:"Kaixin",country:"China"},{Name:"Github",country:"global",except:"china"},{Name:"Mailru",country:"Russia"},{Name:"Amazon",country:"US"},{Name:"Paypal",country:"global"},{Name:"Salesforce",country:"global"},{Name:"ODNOKLASSNIKI",country:"Russia"},{Name:"WORDPRESS",country:"global"},{Name:"GOOGLEPLUS",country:"global",except:"china"},{Name:"Disqus",country:"global",except:"china"},{Name:"INSTAGRAM",country:"global",except:"china"},{Name:"SINAWEIBO",country:"China"},{Name:"XING",country:"Germany"},{Name:"PINTEREST",country:"global",except:"china"},{Name:"LINE",country:"global"},{Name:"AOL",country:"US"}],i=0;i<o.length;i++)for(var n=0;n<t.length;n++)!t[n]||t[n].Name.toLowerCase()!==o[i].Name.toLowerCase()||o[i].country.toLowerCase()===e.toLowerCase()||"global"===o[i].country.toLowerCase()&&!o[i].except||o[i].except&&o[i].except.toLowerCase()!==e.toLowerCase()||t.splice(n,1);return t}(D.options.providerCountry,o)),D.$hooks.call("socialInterfaceProviders",o),D.options.providersList&&(t=D.options.providersList),D.options.hashTemplate?D.util.hashTmpl:D.util.tmpl),n=S.split(","),a=I.addSocialEndpointOptions(L),s=D.util.getThisObjectName(),r=0;r<n.length;r++){var l=D.util.elementById(n[r]),u=(l&&-1!==l.innerHTML.indexOf("ac_linking")&&(a=a.replace("&ac_linking=true","")),[]);b[r]="";for(var c=0;c<o.length;c++){o[c].ObjectName=s,-1===o[c].Endpoint.indexOf("callback=")&&(o[c].Endpoint+=a);var p={islinked:!1,providerId:!1},p=(w&&w[o[c].Name.toLowerCase()]&&(p.islinked=!0,p.providerId=w[o[c].Name.toLowerCase()]),o[c].isLinked=p.islinked,o[c].providerId=p.providerId,o[c]);u.push(p)}for(var d=[],m=0;m<u.length;m++)u[m].isLinked&&d.push(u[m]);if(0<d.length){for(var g=0;g<u.length;g++)u[g].isLinked||d.push(u[g]);u=d}for(var f=0;f<u.length;f++)""===n[r]||void 0!==t&&-1===t.indexOf(u[f].Name)&&-1===t.indexOf(u[f].Name.toLowerCase())||(u[f].Name=u[f].DisplayName||u[f].Name,b[r]+=i(n[r],u[f]))}for(var h=D.options.selector.split(","),y=0;y<h.length;y++)if(0===(C=h[y]).indexOf(".")){var C=C.replace(".",""),v=D.util.elementsByClass(C);if(v&&0<v.length)for(var T=0;T<v.length;T++)k?v[T].innerHTML+=b[y]:v[T].innerHTML=b[y]}else""!==C&&(C=D.util.elementById(C))&&(k?C.innerHTML+=b[y]:C.innerHTML=b[y])}var b=[];t?o(t):void 0!==D.options.SocialSchema&&o(D.options.SocialSchema.Providers)},I.mapRegistrationSchema=function(e,t,o){var i,n,a,s=D.util.parseQueryString(t),r={},l={},u={},t=[],c=[];for(i in s)if(-1!==i.indexOf("cf_"))r[i.replace("cf_","")]=s[i],delete s[i];else if(-1!==i.indexOf("consent_")){var p={ConsentOptionId:i.replace("consent_",""),IsAccepted:s[i]};c.push(p),delete s[i]}else if("emailsubscription"===i)s.IsEmailSubscribed=!("on"!==s[i]&&"true"!==s[i]),delete s[i];else if("emailid"===i||"email"===i)l.value=s[i],l.type="Primary";else if("SecurityQuestionAnswer"!==i&&-1!==i.indexOf("securityQuestion")){for(var d={},m=0;m<D.options.securityQuestionsCount;m++)s["securityAnswer"+m]&&s["securityQuestion"+m]&&(d[s["securityQuestion"+m]]=s["securityAnswer"+m]),delete s["securityQuestion"+m],delete s["securityAnswer"+m];0!==Object.keys(d).length&&(s.SecurityQuestionAnswer=d)}else"country"===i?u=-1!==s[i].indexOf("|")?{code:s[i].split("|")[0],name:s[i].split("|")[1]}:{code:"",name:s[i]}:(p=D.util.findInSchema(e,"name",i))&&p.Parent&&(n=-1!==i.indexOf("_")?i.split("_")[1]:i,void 0===s[p.Parent]?(s[p.Parent]=[],(a={})[n]=s[i],"Addresses"===p.Parent?a.type="personal":"PhoneNumbers"!==p.Parent||a.phonetype||(a.phonetype="default"),s[p.Parent].push(a)):("Addresses"!==p.Parent||s[p.Parent][0].type||(s[p.Parent][0].type="personal"),s[p.Parent][0][n]=s[i]),delete s[i]);return 0!==Object.keys(r).length&&(s.CustomFields=r),0!==Object.keys(l).length&&(t.push(l),s.email=t),0!==Object.keys(u).length&&(s.country=u),D.options.isPINAuthentication&&D.options.PINConfiguration.AskOnRegistration&&(s=I.sanitizePinData(s)),0<c.length&&(s.Consents={Events:[{Event:"Register",IsCustom:!1}],Data:c}),s},I.showQRCode=function(e,t,o,i,n,a,s){function r(e,t){var o;e&&c.splice(0,0,{type:"image",name:"qrcode",display:"QR Code",rules:"",permission:"r",value:e}),t&&(o=n||LoginRadiusDefaults.classPrefix,c.splice(1,0,{type:"button",name:"ManualEntryCode",display:"Get Manual Entry Code",rules:"",permission:"r",title:"Use this code when you unable to scan QR code. Tap 'Enter a provided key' then enter the email address of your Account and enter this key in your authenticator app",event:"click",eventCallback:function(e){document.getElementsByClassName("content-"+o+"ManualEntryCode")[0].innerHTML=t}}))}var l,u,c=D.QRCodeSchema.slice();D.options.maskSensitiveInput?c[0].type="password":c[0].type="string";e.SecondFactorAuthentication?(l=e.SecondFactorAuthentication.QRCode,u=e.SecondFactorAuthentication.ManualEntryCode,e.SecondFactorAuthentication.IsAuthenticatorVerified||r(l,u)):(l=e.QRCode,u=e.ManualEntryCode,e.IsAuthenticatorVerified||r(l,u)),I.createForm(c,"showQRcode",t,function(e){O.verify2FAOTPController(e,o,i,a,s)},function(e){i(e)},n)},I.showMFASecurityQuestions=function(o,i,n,a,s,r,l){var e=!0,t="",u=(D.$hooks.register("afterFormRender",function(e,t,o,i){var n;!D.LRCheckLogin&&i&&"loginradius-mfasecurityquestion"===i.name&&(n=D.util.findInSchema(i,"type","submit"),i=D.util.findInSchema(i,"name","setsecurityquestions"),n.style.display=i?"none":"block")}),o&&o.SecurityQuestions&&(t=o.SecurityQuestions,o.haveSecurityQuestionOnProfile=!0),[]);!D.LRCheckLogin&&o.haveSecurityQuestionOnProfile?u.push({type:"button",name:"enablesecurityquestions",display:"Enable Security Questions Authenticator",rules:"",permission:"r",event:"click",eventCallback:function(){O.verifyMFASecurityQuestionsByAccessTokenController("",n,a,!0)}}):u=I.getSecurityQuestionSchema([],!1,t),0<t.length&&o&&!o.IsSecurityQuestionAuthenticatorVerified&&u.push({type:"button",name:"setsecurityquestions",display:"Set Security Questions",rules:"",permission:"r",event:"click",eventCallback:function(e){var t=Object.assign({},o);delete t.SecurityQuestions,LoginRadiusDefaults.innerHTML=!1,e.target.style.display="none",t.haveSecurityQuestionOnProfile=!1,I.showMFASecurityQuestions(t,i,n,a,s,r,l)}}),(e=0<u.length?!1:e)?a([I.setMappedMessage(h.noSecurityQuestions)]):I.createForm(u,"mfasecurityquestion",i,function(e){D.LRCheckLogin?o&&o.IsSecurityQuestionAuthenticatorVerified||t&&0<t.length?O.verifyMFASecurityQuestionsController(e,n,a,r,l):O.submitMFASecurityQuestionsController(e,n,a,r,l):O.verifyMFASecurityQuestionsByAccessTokenController(e,n,a,o.haveSecurityQuestionOnProfile,t)},function(e){a(e)},s)},I.disableMFAOptions=function(e,o,t){var i,n=D.storage.getBrowserStorage(LoginRadiusDefaults.storedGAAuth),a=D.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth),s={authenticator:{field:n,name:"authenticatorcode",defaultKey:"storedGAAuth"},emailotpauthenticator:{field:D.storage.getBrowserStorage(LoginRadiusDefaults.storedEmailOTPAuth),name:"Email authenticator",defaultKey:"storedEmailOTPAuth"},otpauthenticator:{field:a,name:"OTP authenticator",defaultKey:"storedOTPAuth"},sqauthenticator:{field:D.storage.getBrowserStorage(LoginRadiusDefaults.storedSQAuth),name:"Security Questions authenticator",defaultKey:"storedSQAuth"},pushnotificationauthenticator:{field:D.storage.getBrowserStorage(LoginRadiusDefaults.storedPushNotificationAuth),name:"Push Notification authenticator",defaultKey:"storedPushNotificationAuth"},duoauthenticator:{field:D.storage.getBrowserStorage(LoginRadiusDefaults.storedDuoAuth),name:"Duo Security authenticator",defaultKey:"storedDuoAuth"},passkeyauthenticator:{field:D.storage.getBrowserStorage(LoginRadiusDefaults.storedPasskeyAuth),name:"Passkey authenticator",defaultKey:"storedPasskeyAuth"}},r=e.emailotpauthenticator,l=0;for(i in s)i===e?r=s[i]:"false"!==s[i].field&&l++;D.options.twoFactorAuthentication?"false"===r.field?t([{Message:r.name+"has already disabled."}]):0<l?O.resetTwoFactorAuthenticationController(e,function(e,t){D.storage.setBrowserStorage(LoginRadiusDefaults[r.defaultKey],!1),o(e,t)},t):0===l&&t([{Message:"TwoFactorAuthentication is required, So atleast one authenticator should be required."}]):O.resetTwoFactorAuthenticationController(e,o,t)};var s=!(I.getSecurityQuestionSchema=function(e,t,o){var i=[],n=D.options.SecurityQuestions,a=D.options.securityQuestionsCount;if(o&&(a=(n=o).length),n){var s=[],r=[],l=function(e){for(var t=new RegExp("securityQuestion"),o=e.target.id.split("securityQuestion")[1],i=(r[o]=e.target.selectedIndex,D.util.findElementByRegex("id",t,"select")),n=0;n<i.length;n++)for(var a=1;a<i[n].options.length;a++)-1<r.indexOf(i[n].options[a].index)&&i[n].options[a].index!==i[n].options.selectedIndex?i[n].options[a].style.display="none":i[n].options[a].style.display="block"};if(!o)for(var u=0;u<n.length;u++){var c={};c.text=n[u].Question,c.value=n[u].QuestionId,s.push(c),r.push(0)}for(var p=0;p<a;p++){var d={},d=(o?(d.type="html",d.name="securityQuestion"+p,d.html=n[p].Question):(d.type="option",d.options=s,d.name="securityQuestion"+p,d.display="Security Question",d.event="change",d.eventCallback=l),d.rules=t?"optional":"required",d.permission="r",(t?e:i).push(d),{});D.options.maskSensitiveInput?d.type="password":d.type="string",d.name=o?n[p].QuestionId:"securityAnswer"+p,d.display="Answer",d.rules=t?"optional":"required",d.permission="r",(t?e:i).push(d)}}return i});function P(e,t){e=e.toLowerCase();return"changepassword"===e&&t.PutChangePassword||("profileeditor"===e||"loginRequiredFieldsUpdate"===e||"progressiveProfiling"===e||"socialRegistration"===e)&&t.PutUpdateProfile||"forgotpassword"===e&&(D.options.phoneLogin&&t.PostForgotPasswordByPhone&&t.PostForgotPasswordByEmail||!D.options.phoneLogin&&t.PostForgotPasswordByEmail)||"login"===e&&(D.options.usernameLogin&&t.PostLoginByUserNameAndPassword&&D.options.phoneLogin&&t.PostLoginByEmailAndPassword&&t.PostLoginByPhoneAndPassword||D.options.phoneLogin&&t.PostLoginByEmailAndPassword&&t.PostLoginByPhoneAndPassword||!D.options.phoneLogin&&D.options.usernameLogin&&t.PostLoginByUserNameAndPassword||!D.options.usernameLogin&&!D.options.phoneLogin&&t.PostLoginByEmailAndPassword)}I.socialLogin=function(o,i,n,a){window.html5passToken=function(e){var t;s||(s=!0,o=LoginRadiusDefaults.socialRegFormId||o,(t=D.storage.getBrowserStorage("LRSetSafariToken"))&&(D.$hooks.call("getCurrentActionOptions",t),i=window.LRSafarionSuccess||i,n=window.LRSafarionError||n),O.socialLoginReceiveToken(e,o,i,n,a))};var e=D.util.getHashParam("lr-token");e&&window.html5passToken(e),D.loginRadiusHtml5PassToken=window.html5passToken,D.options.isMobile||D.options.noCallbackForSocialLogin?D.$hooks.register("socialCalls",function(e,t){D.currentLRContainer=o,D.options.noCallbackForSocialLogin&&I.pingForSocialLogin(t,function(e){e.access_token?O.socialLoginReceiveToken(e.access_token,o,i,n,a):i(e)},function(){})}):D.util.addEvent("message",window,function(e){-1===e.origin.indexOf(D.options.customDomain)&&-1===e.origin.indexOf(LoginRadiusDefaults.hubDomain)||(o=LoginRadiusDefaults.socialRegFormId||o,"string"==typeof e.data&&(LoginRadiusDefaults._uuidFormat.test(e.data)||D.util.isJWT(e.data))&&O.socialLoginReceiveToken(e.data,o,i,n,a))})},I.resetPassKey=function(t,o,i,n){var e;D.options.isPassKeysEnabled?null==D.util.getHashParam("vtype")?(e=D.forgotPassKeyFormSchema,I.createForm(e,"forgotPassKey",t,function(e){O.forgotPassKeyController(e,t,o,i,n)},function(e){i(e)},n)):(e=D.util.getHashParam("vtoken"))?O.resetPassKeyController(e,t,o,i,n):i([{Message:"Verification Token not found in query string."}]):D.log("please enable pass key from admin console")},I.resetPassword=function(i,n,a,s,o){var r,t,l,e,u,c,p=D.resetPasswordFormSchema.slice();null==D.util.getHashParam("vtype")?(p=D.resetPasswordByPhoneSchema.slice(),I.setPasswordRule(D.util.findInSchema(p,"name","password")),o?(o.email?(e="email",u=o.email):o.username&&(e="username",u=o.username),p.push({type:"hidden",name:e,value:u})):D.options.phoneLogin&&(l="&"+LoginRadiusDefaults.LRPhoneNo,D.util.findInSchema(p,"name","resendotp")||(D.LRPrefix=s+"##"+LoginRadiusDefaults.idPrefix,r=D.LRPrefix.replace("##","")+"recaptcha_widget_resetpassword",t=function(e,o){function t(e){var t={};"string"==typeof e?t.success=e:t=e,t.error?a([I.setMappedMessage(t.error)]):("string"==typeof LoginRadiusDefaults.LRPhoneNo&&(LoginRadiusDefaults.LRPhoneNo=D.util.parseQueryString(LoginRadiusDefaults.LRPhoneNo)),-1!==LoginRadiusDefaults.LRPhoneNo["g-recaptcha-response"]&&(LoginRadiusDefaults.LRPhoneNo["g-recaptcha-response"]=t.success,window.grecaptcha)&&grecaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"]),-1!==LoginRadiusDefaults.LRPhoneNo["h-captcha-response"]&&(LoginRadiusDefaults.LRPhoneNo["h-captcha-response"]=t.success,window.hcaptcha)&&D.options.hCaptchaSiteKey&&window.hcaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"]),O.forgotPasswordbyPhoneController(LoginRadiusDefaults.LRPhoneNo,i,n,a,s,o,function(){}))}D.options.disableResendOTPButton&&D.util.disableResendOTPButton(e);e=D.options.optionalRecaptchaConfiguration;e&&e.IsEnabled&&e.Apis&&P("forgotpassword",e.Apis)?(window.onCaptchaSubmit=t,D.$hooks.call("addFormCaptchaExecute",r,!0,t)):O.forgotPasswordbyPhoneController(LoginRadiusDefaults.LRPhoneNo,i,n,a,s,o,function(){})},e=Object.assign({},D.btnOTPSchema,{name:"resendotp",display:"Resend via SMS",eventCallback:function(e){t(e,!1)}}),p.push(e),D.options.isVoiceOtp&&(u=Object.assign({},D.btnOTPSchema,{name:"resendvoiceotp",display:"Resend via Voice call",eventCallback:function(e){t(e,!0)}}),p.push(u))))):(I.setPasswordRule(D.util.findInSchema(p,"name","password")),I.setPasswordRule(D.util.findInSchema(p,"name","confirmpassword")),(e=D.util.getHashParam("vtoken"))?D.options.verifyEmailByOTP?(u=D.util.getQueryParameterByName("email"),c="&otp="+e,c+="&email="+encodeURIComponent(u.replace(/ /g,"+")),p.splice(2,1)):D.resetPasswordFormSchema[2].value=e:a([{Message:"Verification Token not found in query string."}])),I.createForm(p,"resetpassword",i,function(e){var t;-1===e.indexOf("otp")||o?(c&&(e+=c),O.resetPasswordController(e,n,a,i,s)):(t=D.util.parseQueryString(l),O.resetPasswordByPhoneController(e+"&phone="+t.phone,n,a,i,s))},function(e){a(e)},s,"forgotpassword")},I.resetPIN=function(t,o,i,n,a){var s,e,r,l,u=D.resetPINFormSchema.slice();null==D.util.getHashParam("vtype")?(u=D.resetPINByPhoneSchema.slice(),I.setPINRule(D.util.findInSchema(u,"name","pin")),a?(a.email?(e="email",r=a.email):a.username&&(e="username",r=a.username),u.push({type:"hidden",name:e,value:r})):D.options.phoneLogin&&(s="&"+LoginRadiusDefaults.LRPhoneNo,D.util.findInSchema(u,"name","resendotp")||(e=Object.assign({},D.btnOTPSchema,{name:"resendotp",display:"Resend via SMS",eventCallback:function(e){D.options.disableResendOTPButton&&D.util.disableResendOTPButton(e),O.forgotPINbyPhoneController(LoginRadiusDefaults.LRPhoneNo,t,o,i,n,!1,function(){})}}),u.push(e),D.options.isVoiceOtp&&(r=Object.assign({},D.btnOTPSchema,{name:"resendvoiceotp",display:"Resend via Voice call",eventCallback:function(e){D.options.disableResendOTPButton&&D.util.disableResendOTPButton(e),O.forgotPINbyPhoneController(LoginRadiusDefaults.LRPhoneNo,t,o,i,n,!0,function(){})}}),u.push(r))))):(I.setPINRule(D.util.findInSchema(u,"name","pin")),I.setPINRule(D.util.findInSchema(u,"name","confirmpin")),(e=D.util.getHashParam("vtoken"))?D.options.verifyEmailByOTP?(r=D.util.getQueryParameterByName("email"),l="&otp="+e,l+="&email="+encodeURIComponent(r.replace(/ /g,"+")),u.splice(2,1)):D.resetPINFormSchema[2].value=e:i([{Message:"Verification Token not found in query string."}])),I.createForm(u,"resetpin",t,function(e){-1===e.indexOf("otp")||a?(l&&(e+=l),O.resetPINController(e,o,i,t,n)):O.resetPINByPhoneController(e+s,o,i,t,n)},function(e){i(e)},n)},I.setPasswordRule=function(e,t){D.options.passwordLength=D.options.passwordlength||D.options.passwordLength;var o,i=D.util.findInSchema(D.options.RegistrationFormSchema,"name","password").rules;e&&e.rules&&((o=new RegExp(/matches\[\w*\]/).exec(e.rules))?(o=o[0],e.rules=[i,o].join("|")):e.rules=i,D.options.passwordLength)&&D.options.passwordLength.min&&D.options.passwordLength.max&&(e.rules=e.rules||"",e.rules=e.rules.replace("min_length[6]","min_length["+D.options.passwordLength.min+"]").replace("max_length[32]","max_length["+D.options.passwordLength.max+"]")),(t=t||!1)&&e&&(e.rules="required")},I.setPINRule=function(e){var t,o;D.pinSchema&&D.pinSchema.length&&(t=D.pinSchema[0].rules,e)&&e.rules&&((o=new RegExp(/matches\[\w*\]/).exec(e.rules))?(o=o[0],e.rules=[t,o].join("|")):e.rules=t,D.options.PINConfiguration.IsRequired)&&-1===e.rules.indexOf("required")&&(e.rules=e.rules?[e.rules,"required"].join("|"):"required")},I.changeNumberForm=function(t,e,o,i,n,a,s,r){var l=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),u=D.util.getButtonAttribute("changenumber",n),c=D.util.getButtonAttribute("disableotpauthenticator",n),p=D.storage.getBrowserStorage(LoginRadiusDefaults.storedGAAuth),d=D.storage.getBrowserStorage(LoginRadiusDefaults.storedDuoAuth),m=D.storage.getBrowserStorage(LoginRadiusDefaults.storedSQAuth),g=D.storage.getBrowserStorage(LoginRadiusDefaults.storedEmailOTPAuth),f=D.storage.getBrowserStorage(LoginRadiusDefaults.storedPushNotificationAuth),g="false"!==g||"false"!==p||"false"!==m||"false"!==d||"false"!==f;e?(e.appendChild(u),l&&!D.LRCheckLogin&&(D.options.optionalTwoFactorAuthentication||g&&D.options.twoFactorAuthentication)&&e.appendChild(c)):(D.util.addHTMLContent(t,u,a),l&&!D.LRCheckLogin&&(D.options.optionalTwoFactorAuthentication||g&&D.options.twoFactorAuthentication)&&D.util.addHTMLContent(t,c,!0)),D.util.addEvent("click",c,function(e){I.disableMFAOptions("otpauthenticator",o,i)}),D.util.addEvent("click",u,function(e){document.getElementsByName(n+"changePhone")[0]||(LoginRadiusDefaults.innerHTML=!1,I.updatePhoneNumber(t,o,i,n,"changePhone",s,r))})},I.validateAndCall=function(e){LoginRadiusDefaults.isSSOInitFired?D.options.appName?e():D.log("LoginRadius site name (app name) required to do SSO"):D.log("Init method should be called first then login.")},I.logout=function(i){I.validateAndCall(function(){var e=D.options.tokenExpire?"?tokenExpire=1":"",t=D.options.tokenExpire?"tokenExpire":"logout",o=D.options.customDomain||D.options.appName+"."+LoginRadiusDefaults.hubDomain;D.util.ajaxCall("get","https://"+o+"/ssologin/"+t+e,"",function(e){LRNameSpace.cookies.removeItem(LoginRadiusDefaults.tokenCookie,D.options.appPath),D.clearSession(),i&&i()})})},I.otpEmailVerification=function(o,i,n,a,s){var e=D.otpSchema;I.createForm(e,"otp",o,function(e){var t="";"string"!=typeof(t="string"!=typeof s?(e=D.util.parseQueryString(e),D.util.mergeOptions(s,e)):s+"&"+e)&&t.onetouchlogin?O.oneTouchLoginEmailVerification(t.otp,i,n,t.email):O.emailVerificationController(t,i,n,o,a,!0)},function(e){n(e)},a)},I.passwordlessLoginVerification=function(e,t,o,i,n){var a,s,r;e&&(a="get",s="",r=LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/email/verify?apiKey="+D.options.apiKey+"&verificationtoken="+e+"&welcomeEmailTemplate="+D.options.welcomeEmailTemplate,n&&((s="string"==typeof e?D.util.parseQueryString(e):{email:(n=D.util.getQueryParameterByName("email"))?n.replace(/ /g,"+"):"",otp:e}).welcomeemailtemplate=D.options.welcomeEmailTemplate,a="post",n=s.username?"username":"email",r=LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/"+n+"/verifyotp?apiKey="+D.options.apiKey),D.util.ajaxCall(a,r,s,function(e){e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):I.loginHandleToken(e,"",t,o,i)},"passwordlessLogin##otp"))},I.loginHandleToken=function(e,t,o,i,n,a){var s,r,l,u,c,p,d,m,g,f;LoginRadiusDefaults.lrResponseCounter=0,LoginRadiusDefaults.lrCounterJwtResponse="",LoginRadiusDefaults.lrCounterTokenResponse="",e&&(e.ErrorCode?i(I.loginRadiusErrorTojsError(e)):(e.Data&&e.Data.hasOwnProperty("Profile")&&(delete(e=e.Data).Data,delete e.IsPosted),D.options.privacyPolicyConfiguration.IsEnabled&&e.Profile&&(p=!1,e.Profile.PrivacyPolicy&&e.Profile.PrivacyPolicy.Version&&(p=I.checkForLatestPrivacyPolicy(e.Profile)),e.Profile=Object.assign({},e.Profile,{IsLatestPrivacyPolicy:p})),s=function(){D.LoginRadiusHostedPage&&e.access_token&&LRNameSpace.cookies.setItem("lr-session-token",e.access_token),LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterTokenResponse=e,D.options.tokenType&&"jwt"===D.options.tokenType.toLowerCase()?2===LoginRadiusDefaults.lrResponseCounter&&LoginRadiusDefaults.lrCounterJwtResponse&&LoginRadiusDefaults.lrCounterJwtResponse.signature&&(e.jwttoken=LoginRadiusDefaults.lrCounterJwtResponse.signature,null!=t&&""!==t?o(e,D.util.parseQueryString(t)):o(e)):null!=t&&""!==t?o(e,D.util.parseQueryString(t)):o(e)},p=D.storage.getBrowserStorage("LRSetSafariToken"),D.storage.removeBrowserStorage("LRSetSafariToken"),D.setHostedToken||p?o(e):(p=D.registrationFormSchema&&0<D.registrationFormSchema.length?D.registrationFormSchema:D.options.RegistrationFormSchema,p=(p=D.util.findInSchema(p,"name","phoneid"))&&-1!==p.rules.indexOf("required")&&D.options.phoneLogin,r=e.Profile||e.Data,u=!(D.options.disabledEmailVerification||D.options.optionalEmailVerification),r&&!r.EmailVerified&&u&&!a?i([I.setMappedMessage(h.emailNotVerified)]):p&&r&&!r.PhoneIdVerified&&!a?r.PhoneId?(u={phone:r.PhoneId},l=D.currentLRContainer,O.resendOTPController(u,function(){I.verifyOTP("phone="+r.PhoneId,l,o,i,n),I.resendOTP("phone="+r.PhoneId+"&noPhoneVerified=false",l,o,i,n),D.options.isVoiceOtp&&I.resendOTP("phone="+r.PhoneId+"&noPhoneVerified=false",l,o,i,n,!0)},i,n)):D.log("Phone ID is required field."):(r&&r.Uid&&D.storage.setBrowserStorage(LoginRadiusDefaults.storedUidName,r.Uid),D.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,e.access_token),D.options.isPINAuthentication&&D.options.PINConfiguration.PINLogin&&e&&e.session_token&&D.setSessionToken(e),LoginRadiusDefaults.isSSOInitFired&&e.access_token?(I.setToken(e.access_token),a=!!(-1===(p=navigator.userAgent.toLowerCase()).indexOf("crios")&&-1===p.indexOf("chrome")&&0<=p.indexOf("safari")),u=/ipad|iphone|ipod/.test(p)&&!window.MSStream,c=0<=p.indexOf("ucbrowser"),p=/crios/i.test(p),d=D.options.customDomain||D.options.appName+"."+LoginRadiusDefaults.hubDomain,g=D.util.getQueryParameterByName("vtype"),f=D.util.getQueryParameterByName("vtoken"),m=window.location.href,g&&(m=m.replace("?vtype="+g,"").replace("&vtype="+g,"")),f&&(m=m.replace("&vtoken="+f,"").replace("?vtoken="+f,"")),m=encodeURIComponent(m),a||u&&c||u&&p?(D.options.askRequiredFieldForTraditionalLogin||D.storage.setBrowserStorage("LRTraditionalLogin",!0),D.$hooks.call("setCurrentAction"),D.options.stayLogin?(g=D.storage.getBrowserStorage("lr-rememberme"),D.storage.removeBrowserStorage("lr-rememberme"),window.location="https://"+d+"/ssologin/setCustomSafariToken?token="+e.access_token+"&apiKey="+D.options.apiKey+"&isrememberMe="+g+"&callback="+m):window.location="https://"+d+"/ssologin/setSafariToken?token="+e.access_token+"&apiKey="+D.options.apiKey+"&callback="+m):(f="",a="setToken",D.options.stayLogin&&(f="&isrememberMe="+D.storage.getBrowserStorage("lr-rememberme"),D.storage.removeBrowserStorage("lr-rememberme"),a="setCustomToken"),D.util.ajaxCall("get","https://"+d+"/ssologin/"+a+"?access_token="+e.access_token+"&apiKey="+D.options.apiKey+f,"",function(){s()},"setToken"))):s(),D.options.tokenType&&"jwt"===D.options.tokenType.toLowerCase()&&I.getJwtToken(e.access_token,o,i)))))},I.getJwtToken=function(e,t,o){D.util.ajaxCall("get",LoginRadiusDefaults.cloudApiDomain+"sso/jwt/api/token?apikey="+D.options.apiKey+"&jwtapp="+D.options.integrationName+"&access_token="+e,"",function(e){LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterJwtResponse=e,2===LoginRadiusDefaults.lrResponseCounter&&(e.ErrorCode?o(e):(LoginRadiusDefaults.lrCounterTokenResponse.jwttoken=e.signature,t(LoginRadiusDefaults.lrCounterTokenResponse)))},"JWTToken")},I.mapSchema=function(t,e,o,i){e=D.util.keysToLowerCase(e);var n=[];Object.keys(t).forEach(function(e){n.push(t[e])});for(var a,s,r=0;r<t.length;r++)null!=t[r]&&("emailid"===t[r].name.toLowerCase()&&e.email&&e.email[0]&&e.email[0].value&&""!==e.email[0].value?e.emailverified||(D.options.disabledEmailVerification||D.options.optionalEmailVerification)&&!D.options.askEmailForUnverifiedProfileAlways?(n[r].value=e.email[0].value,t[r]=null):D.options.askEmailForUnverifiedProfileAlways&&!D.setHostedToken||(n[r]=t[r]=null):"country"===t[r].name.toLowerCase()&&""===t[r].Parent&&e.country&&null!=e.country.name&&""!==e.country.name&&"unknown"!==e.country.name.toLowerCase()?(n[r].value=e.country.name,e.country.code&&(n[r].value=e.country.code+"|"+n[r].value),t[r]=null):"emailsubscription"===t[r].name.toLowerCase()&&e.isemailsubscribed&&""!==e.isemailsubscribed?(n[r].value=e.isemailsubscribed,t[r]=null):"phoneid"===t[r].name.toLowerCase()&&e.phoneid&&""!==e.phoneid?(n[r].value=e.phoneid.replace("+",""),t[r]=null):"birthdate"===t[r].name.toLowerCase()&&e.birthdate&&""!==e.birthdate?(a=e.birthdate.replace("-","/").replace("-","/").split("/"))[2]&&""!==a[2]&&(n[r].value=e.birthdate,t[r]=null):"password"===t[r].name.toLowerCase()||"confirmpassword"===t[r].name.toLowerCase()?null==e.password&&(D.options.promptPasswordOnSocialLogin||D.options.promptPasswordOnFirstLoginForSocial)||(n[r]=t[r]=null):"pin"===t[r].name.toLowerCase()||"confirmpin"===t[r].name.toLowerCase()?(e.pin&&e.pin.pin||!D.options.isPINAuthentication)&&(n[r]=t[r]=null):""!==t[r].Parent&&void 0!==t[r].Parent&&null!==t[r].Parent?t[r].Parent&&e[t[r].Parent.toLowerCase()]&&void 0!==e[t[r].Parent.toLowerCase()]&&(a=-1!==t[r].name.indexOf("_")?t[r].name.split("_")[1]:t[r].name,s=Object.keys(e[t[r].Parent.toLowerCase()]).length-1,"object"==typeof e[t[r].Parent.toLowerCase()]&&e[t[r].Parent.toLowerCase()][s]&&e[t[r].Parent.toLowerCase()][s][a.toLowerCase()]?null!=e[t[r].Parent.toLowerCase()][s][a.toLowerCase()]&&void 0!==e[t[r].Parent.toLowerCase()][s][a.toLowerCase()]&&"unknown"!==e[t[r].Parent.toLowerCase()][s][a.toLowerCase()]&&(n[r].value=e[t[r].Parent.toLowerCase()][s][a.toLowerCase()],t[r]=null):(n[r].value=e[t[r].Parent.toLowerCase()][t[r].name.toLowerCase()],t[r]=null)):0===t[r].name.indexOf("cf_")&&e.customfields&&e.customfields[t[r].name.replace("cf_","").toLowerCase()]?(n[r].value=e.customfields[t[r].name.replace("cf_","").toLowerCase()],t[r]=null):t[r].name&&"object"!=typeof e[t[r].name.toLowerCase()]&&null!=e[t[r].name.toLowerCase()]&&""!==e[t[r].name.toLowerCase()]&&void 0!==e[t[r].name.toLowerCase()]&&"unknown"!==e[t[r].name.toLowerCase()]&&(n[r].value=e[t[r].name.toLowerCase()],t[r]=null));if(t=t.filter(function(e){return e}),o&&"profileeditor"===o&&!e.ErrorCode)return n=n.filter(function(e){return e});for(var l=0;l<t.length;l++)if(null!=t[l].rules&&""!==t[l].rules&&-1<t[l].rules.indexOf("required")||D.options.askOptionalFieldsOnRegistration&&!0===e.firstlogin&&"email"!==e.registrationprovider.toLowerCase()||D.options.askOptionalFieldsOnProgressiveSteps&&i||D.askPinOnLogin)return o&&!e.ErrorCode?n=n.filter(function(e){return e}):t;return[]},I.loginRadiusErrorTojsError=function(e){var t=[];return t.push(I.setMappedMessage(e)),t},I.setMappedMessage=function(e){for(var t=0;t<D.errorMessages.length;t++)D.errorMessages[t].code==e.ErrorCode&&(e.Message=D.errorMessages[t].message||e.Message,e.Description=D.errorMessages[t].description||e.Description);return e},I.setCustomLabel=function(e){for(var t=0;t<e.length;t++)e[t]&&D.formCustomLabel[e[t].name]&&(e[t].display=D.formCustomLabel[e[t].name])},I.setCustomTitle=function(e){for(var t=0;t<e.length;t++)e[t]&&D.formElementsTitle[e[t].name]&&(e[t].title=D.formElementsTitle[e[t].name])},I.setPlaceholder=function(e){for(var t=0;t<e.length;t++)e[t]&&D.formPlaceholder[e[t].name]&&(e[t].placeholder=D.formPlaceholder[e[t].name])},I.setValidation=function(e){D.formValidations[e.name]&&(e.rules=D.formValidations[e.name])},I.setAttribute=function(e,t){if(D.formElementAttributes[e.name])for(var o=D.formElementAttributes[e.name].split("&"),i=0;i<o.length;i++){var n=o[i].split("="),a=n.splice(0,1),n=n.join("=");t.setAttribute(a,n)}},I.verifyOTP=function(o,e,i,n,t,a,s){var r,l=!1,u="otp",c="",p=(D.LRCheck2FA&&(D.options.twoFactorAuthentication||D.options.optionalTwoFactorAuthentication)&&!D.LRCheckRegistration&&(l=!0,u="twofaotp"),D.otpSchema);o.mfaEmailToken&&o.EmailId?(c=o.EmailId,u="twofaemailotp",LoginRadiusDefaults.innerHTML=!1,(r=D.util.findInSchema(p,"name","emailid"))?r.value=o.EmailId:p.push({type:"hidden",name:"emailid",value:o.EmailId})):((r=o)&&"string"==typeof o&&(r=JSON.parse(JSON.stringify(o)),r=D.util.parseQueryString(r)),c=r.phone||r.phoneid||r.phoneId||r.phoneNo2FA||""),c&&p&&p[0]&&"otp"===p[0].name&&D.$hooks.register("afterFormRender",function(e,t,o,i){i&&i.name==="loginradius-"+u&&i[0].name===p[0].name&&i[0].labels&&i[0].labels[0].innerText&&-1!==i[0].labels[0].innerText.indexOf("%value")&&(i[0].labels[0].innerText=i[0].labels[0].innerText.replace("%value",c))}),I.createForm(p,u,e,function(e){var t;l||o.phoneNo2FA?(o.mfaEmailToken&&"string"==typeof e&&(e+="&mfaEmailToken=true"),O.verify2FAOTPController(e,i,n,a,s)):(("string"==typeof o||o instanceof String)&&(o=D.util.parseQueryString(o)),e=D.util.parseQueryString(e),o.phone?t={phone:o.phone}:(o.phoneid||o.phoneId)&&(t={phone:o.phoneid||o.phoneId}),o.onetouchloginflag&&(e.onetouchloginflag=!0),o.haveToken&&(e.haveToken=!0),O.verifyOTPController(e,t,i,n,a,s))},function(e){n(e)},t)},I.resendOTP=function(e,t,i,n,o,a,s,r,l){function u(t,o){if(c.isVoice=o,window.onCaptchaSubmit=v,D.options.disableResendOTPButton&&D.util.disableResendOTPButton(t),D.options.isCaptchaEnabled&&!m)D.$hooks.call("addFormCaptchaExecute",p,!0,v);else if(l){t=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);if(t&&I.isValidToken(t,n)){let e=LoginRadiusDefaults.apiDomain+"/auth/phone?apiKey="+D.options.apiKey+"&access_token="+t+"&smsTemplate="+D.options.smsTemplateUpdatePhone;o&&(e+="&isvoiceotp=true"),D.util.ajaxCall("put",e,c,function(e){e.ErrorCode&&n(I.loginRadiusErrorTojsError(e))},"updatePhone")}}else m&&I.resendOTPManually(c,i,n,y,o)}var c={},p=LoginRadiusDefaults.idPrefix+"recaptcha_widget_otp",d=!0,m=!0,g=((e="string"==typeof e||e instanceof String?D.util.parseQueryString(e):e).noPhoneVerified&&(d=!1),!0),f=(e.phoneid||e.phoneId?(g=!1,c={phone:e.phoneid||e.phoneId}):e.phone?(D.socialLoginFlag||(g=!1),c=e):e.phoneNo2FA||e.phoneno2fa?c={phoneno2fa:e.phoneNo2FA||e.phoneno2fa}:e.SecondFactorAuthentication&&e.SecondFactorAuthentication.OTPPhoneNo&&(c={phoneno2fa:e.SecondFactorAuthentication.OTPPhoneNo}),null),h=D.util.getButtonAttribute("resendotp",o),y=(a&&(f=D.util.getButtonAttribute("resendvoiceotp",o)),o||LoginRadiusDefaults.classPrefix),o=g?"twofaotp":"otp",C=document.getElementsByName(y+o)[0],v=((C=C||document.getElementsByName(y+("twofaotp"==o?"otp":"twofaotp"))[0])&&((o=D.util.findInSchema(C,"type","submit"))?(a&&o.parentNode.insertBefore(f,o.nextSibling),o.parentNode.insertBefore(h,o.nextSibling)):(a&&C.appendChild(f),C.appendChild(h))),!D.LRCheckLogin||!g||d&&"false"!==D.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth)||I.changeNumberForm(t,C,i,n,y,"",s,r),function(){});e.onetouchloginflag&&(m=!1,c.onetouchloginflag=!0,v=function(e){var t={};"string"==typeof e?t.success=e:t=e,t.error?n(t.error):(window.grecaptcha&&(c["g-recaptcha-response"]=t.success,grecaptcha.reset(window[p+"lr_recaptcha_widgets_idprefix"])),window.hcaptcha&&D.options.hCaptchaSiteKey&&(c["h-captcha-response"]=t.success,window.hcaptcha.reset(window[p+"lr_recaptcha_widgets_idprefix"])),I.resendOTPManually(c,i,n,y,c.isVoice))},D.$hooks.call("addFormCaptcha",D.currentLRContainer,"","",p)),e.updatePhone&&(c.updatePhone=!0);f&&D.util.addEvent("click",f,function(e){u(e,!0)}),D.util.addEvent("click",h,function(e){u(e,!1)})},I.sendInstantSignInLink=function(e,t,o,i,n){var a,e=D.util.parseQueryString(e),e=e.emailid||e.email;LoginRadiusDefaults.regexExpression.emailRegex.test(e)||D.options.usernameLogin||D.options.duplicateEmailWithUniqueUsername?(LoginRadiusDefaults.regexExpression.emailRegex.test(e)?a="email="+e:(D.options.usernameLogin||D.options.duplicateEmailWithUniqueUsername)&&(a="username="+e),a+="&oneClickSignIn=true",e=D.options.instantLinkLoginEmailTemplate||D.options.passwordlessLoginEmailTemplate,D.util.ajaxCall("GET",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/email?apiKey="+D.options.apiKey+"&verificationUrl="+D.options.verificationUrl+"&passwordlesslogintemplate="+e+"&"+a,"",function(e){window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1,e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):t(e,a)},"passwordlessLogin")):o([I.setMappedMessage(h.invalidEmail)])},I.sendInstantSignInOtp=function(e,i,n,o,a){var s,r,e=D.util.parseQueryString(e),e=e.emailid||e.email;LoginRadiusDefaults.regexExpression.phoneRegex.test(e)?(r=D.options.smsTemplateInstantOTPLogin||D.options.passwordlessLoginSMSTemplate,D.util.ajaxCall("GET",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp?apiKey="+D.options.apiKey+"&"+(s="phone="+e)+"&smsTemplate="+r,"",function(e){window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1,e.ErrorCode?n(I.loginRadiusErrorTojsError(e)):(i(e),e.Data&&e.Data.Sid&&(D.$hooks.register("beforeFormRender",function(e,t){var o;D.util.findInSchema(t,"name","resendotp")||(o=Object.assign({},D.btnOTPSchema,{name:"resendotp",display:"Resend via SMS",eventCallback:function(e){D.options.disableResendOTPButton&&D.util.disableResendOTPButton(e),I.resendOTPHandler({data:s,onsuccess:i,onerror:n,smstemplate:r,action:"sendInstantSignInResendOtp"})}}),t.push(o),D.options.isVoiceOtp&&(o=Object.assign({},D.btnOTPSchema,{name:"resendvoiceotp",display:"Resend via Voice call",eventCallback:function(e){D.options.disableResendOTPButton&&D.util.disableResendOTPButton(e),I.resendOTPHandler({data:s,onsuccess:i,onerror:n,smstemplate:r,voiceotp:!0,action:"sendInstantSignInResendOtp"})}}),t.push(o)))}),e=D.otpSchema,I.createForm(e,"otp",o,function(e){var t=a+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp";O.verifyInstantOTP(e,D.util.parseQueryString(s),i,n,t,o,a)},function(e){n(I.setMappedMessage(e))},a)))},"passwordlessLogin")):n([I.setMappedMessage(h.invalidPhone)])},I.resendOTPManually=function(e,t,o,i,n){var a;D.LRCheck2FA&&(D.options.twoFactorAuthentication||D.options.optionalTwoFactorAuthentication)&&!D.LRCheckRegistration?"false"===D.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth)?(a={data:e,onsuccess:t,onerror:o,smstemplate:D.options.smsTemplate2FA,voiceotp:n,action:"update2FANumberResendOTP"},I.resendOTPHandler(a)):O.resendOTP2FAController(e,t,o,i,n):O.resendOTPController(e,t,o,i,n)},I.updatePhoneNumber=function(t,o,i,n,e,a,s){D.LRCheck2FA&&(D.options.twoFactorAuthentication||D.options.optionalTwoFactorAuthentication)&&(D.checkPhoneNumberSchema[0].name="phoneNo2FA"),n=n||LoginRadiusDefaults.classPrefix,document.getElementsByName(n+"showQRcode")[0]&&(LoginRadiusDefaults.innerHTML=!0),I.createForm(D.checkPhoneNumberSchema,e||"updatePhone",t,function(e){-1===e.indexOf("phone=")&&(D.options.twoFactorAuthentication||D.options.optionalTwoFactorAuthentication)?O.update2FAPhoneNumberController(e,t,o,i,n,a,s):O.updatePhoneNumberController(e,t,o,i,n,a,s)},function(e){i(e)},n)},I.pingForSmartLogin=function(t,o,i){var n=D.options.autoLoginPingInterval||D.options.smartLoginPingInterval,a=D.options.autoLoginPingCount||D.options.smartLoginPingCount;D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/smartlogin/ping?apiKey="+D.options.apiKey+"&clientGuid="+t,"",function(e){1139===e.ErrorCode||1140===e.ErrorCode?setTimeout(function(){LoginRadiusDefaults.pingCount<a&&(I.pingForSmartLogin(t,o,i),LoginRadiusDefaults.pingCount++)},1e3*n):e.ErrorCode&&1139!==e.ErrorCode?(i(e),LoginRadiusDefaults.pingCount=0):(LoginRadiusDefaults.pingCount=0,o(e))},"pingSmartLogin")},I.pingForSocialLogin=function(o,i,n){var a=D.options.autoLoginPingInterval||D.options.smartLoginPingInterval,s=D.options.autoLoginPingCount||D.options.smartLoginPingCount;D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/ping?apiKey="+D.options.apiKey+"&clientGuid="+o+"&verificationUrl="+D.options.verificationUrl+"&emailTemplate="+D.options.verificationEmailTemplate+"&welcomeEmailTemplate="+D.options.welcomeEmailTemplate,"",function(e){var t;1139===e.ErrorCode||1140===e.ErrorCode?setTimeout(function(){LoginRadiusDefaults.pingCount<s&&(I.pingForSocialLogin(o,i,n),LoginRadiusDefaults.pingCount++)},1e3*a):D.options.sendVerificationEmailForUnverifiedSocialLogin&&e.ErrorCode&&1026===e.ErrorCode?(LoginRadiusDefaults.pingCount=0,n(e),(t=D.util.getButtonAttribute("sendverificationemail",LoginRadiusDefaults.classPrefix,()=>{O.sendVerificaionEmailForSocialController(o,D.currentLRContainer,i,n,"clientguid")})).childNodes&&t.childNodes[0].id&&(document.getElementById(t.childNodes[0].id)||(D.util.addHTMLContent(D.currentLRContainer,t,!1),D.$hooks.call("socialLoginFormRender")))):e.ErrorCode&&1139!==e.ErrorCode?(n(e),LoginRadiusDefaults.pingCount=0):(LoginRadiusDefaults.pingCount=0,i(e))},"socialLogin")},I.pingForSocialIdentity=function(t,o,i,n){var a=D.options.autoLoginPingInterval||D.options.smartLoginPingInterval,s=D.options.autoLoginPingCount||D.options.smartLoginPingCount;D.util.ajaxCall("POST",LoginRadiusDefaults.apiDomain+"/auth/socialidentity/ping?apiKey="+D.options.apiKey+"&access_token="+t,{clientGuid:o},function(e){1139===e.ErrorCode||1140===e.ErrorCode?setTimeout(function(){LoginRadiusDefaults.pingCount<s&&(I.pingForSocialIdentity(t,o,i,n),LoginRadiusDefaults.pingCount++)},1e3*a):e.ErrorCode&&1139!==e.ErrorCode?(LoginRadiusDefaults.pingCount=0,n(I.loginRadiusErrorTojsError(e))):(LoginRadiusDefaults.pingCount=0,i(e))},"linkAccount")},I.pingForCrossDeviceSSO=function(t,o,i,n){var a=D.options.crossDeviceSSOPingInterval,s=D.options.crossDeviceSSOPingCount,r=1;D.util.ajaxCall("get",LoginRadiusDefaults.cloudApiDomain+"sso/mobile/token?apiKey="+D.options.apiKey+"&code="+t,"",function(e){e&&null===e.access_token?D.CDSSOPingApiTimeout=setTimeout(function(){r<s&&(I.pingForCrossDeviceSSO(t,o,i,n),r++)},1e3*a):(r=0,n(),o(e))},"pingForCrossDeviceSSO")},I.generateCrossDeviceSSOCode=function(a,e,s,r,l,u){e=e||"60";60<+e?D.log("QR code expiry time should not be more than 60 seconds."):D.util.ajaxCall("get",LoginRadiusDefaults.cloudApiDomain+"sso/mobile/generate?apikey="+D.options.apiKey+"&expiry="+e,"",function(e){var o,t,i,n;e.ErrorCode?r(I.loginRadiusErrorTojsError(e)):e&&e.code&&(o=[],QRCode.toDataURL(e.code,function(e,t){o.push({type:"image",name:"qrcode",display:"QR Code",rules:"",permission:"r",value:t})}),t=l||LoginRadiusDefaults.idPrefix,i=l||LoginRadiusDefaults.classPrefix,(n=document.createElement("div")).setAttribute("name",t+"crossDeviceSSO"),I.createFormFields(o,n,"crossDeviceSSO",[],i,t,r),D.util.addHTMLContent(a,n,LoginRadiusDefaults.innerHTML),I.pingForCrossDeviceSSO(e.code,function(e){I.loginHandleToken(e,"",s,r,"",!0)},r,u))},"crossDeviceSSO")},I.addChangeEventHandler=function(l,e,t,u){D.util.addEvent("change",document.getElementById(u+"registration-"+e.name),function(e){D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/"+t.DataSource+"?apiKey="+D.options.apiKey+"&parentId="+this.value,"",function(e,t){var o=document.getElementById(u+"registration-"+e.name);if(t.ErrorCode)for(var i=1;i<o.options.length;i++)o.options[i]=null;else for(var n=0;n<t.length;n++)if(0===n&&1<o.options.length){for(var a=1;a<o.options.length;a++)o.options[a]=null;var s=document.createElement("option");s.setAttribute("value",t[n].Id),s.appendChild(document.createTextNode(t[n].Key)),o.appendChild(s)}else{s=document.createElement("option");s.setAttribute("value",t[n].Id),s.appendChild(document.createTextNode(t[n].Key)),o.appendChild(s)}for(var r=0;r<e.children.length;r++)I.addChangeEventHandler(l,e,e.children[r],u)},"registration",t)})},I.createFormFields=function(e,t,l,o,i,n,a){function s(e){var t=Math.random(),o=this.value,i=D.util.elementById(l+"-password-strength-meter"),n=D.util.elementById(l+"-password-strength-text"),a=(n.innerHTML="",0),s=(0<o.length&&(a++,o.match(/[a-z]/)&&o.match(/[A-Z]/)&&a++,o.match(/\d+/)&&a++,o.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&a++,12<o.length)&&a++,i.value=a,document.getElementsByClassName(l+"-password"));if(0<s.length)for(var r=0;r<s.length;r++)s[r].parentNode.removeChild(s[r]);(i=D.util.elementById(t)?D.util.elementById(t):document.createElement("style")).type="text/css",i.id=t,i.setAttribute("class",l+"-password"),t=-1!==navigator.userAgent.indexOf("Firefox"),i.innerHTML=t?"#"+l+"-password-strength-meter::-moz-meter-bar { background: "+u[a].color+" !important; }":"#"+l+"-password-strength-meter::-webkit-meter-optimum-value { background: "+u[a].color+" !important; }",document.body.appendChild(i),""!==o&&0<a?(n.innerHTML="Strength: "+u[a].Message,n.style.color=""):""!==o&&(n.innerHTML=u[a].Message,n.style.color=u[a].color)}a=a||function(){};var u,r="cursor:pointer;transform: translateY(-50%);position: absolute;top: 50%;right: 16px;width:24px; height:24px;display:block;";let c=r+'background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWV5ZS1vZmYiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iY3VycmVudENvbG9yIiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMC41ODUgMTAuNTg3YTIgMiAwIDAgMCAyLjgyOSAyLjgyOCIgLz48cGF0aCBkPSJNMTYuNjgxIDE2LjY3M2E4LjcxNyA4LjcxNyAwIDAgMSAtNC42ODEgMS4zMjdjLTMuNiAwIC02LjYgLTIgLTkgLTZjMS4yNzIgLTIuMTIgMi43MTIgLTMuNjc4IDQuMzIgLTQuNjc0bTIuODYgLTEuMTQ2YTkuMDU1IDkuMDU1IDAgMCAxIDEuODIgLS4xOGMzLjYgMCA2LjYgMiA5IDZjLS42NjYgMS4xMSAtMS4zNzkgMi4wNjcgLTIuMTM4IDIuODciIC8+PHBhdGggZD0iTTMgM2wxOCAxOCIgLz48L3N2Zz4=")',p=r+'background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWV5ZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEwIDEyYTIgMiAwIDEgMCA0IDBhMiAyIDAgMCAwIC00IDAiIC8+PHBhdGggZD0iTTIxIDEyYy0yLjQgNCAtNS40IDYgLTkgNmMtMy42IDAgLTYuNiAtMiAtOSAtNmMyLjQgLTQgNS40IC02IDkgLTZjMy42IDAgNi42IDIgOSA2IiAvPjwvc3ZnPg==")';for(var d=function(e){var t,o;e.target.parentNode.childNodes&&e.target.parentNode.childNodes[0].id&&(o="password"===(t=document.getElementById(e.target.parentNode.childNodes[0].id)).getAttribute("type")?"text":"password",t.setAttribute("type",o),"text"==o?e.target.setAttribute("style",c):e.target.setAttribute("style",p))},m=0;m<e.length;m++)if(e[m]){switch(I.setValidation(e[m]),e[m].rules&&""!==e[m].rules&&-1<e[m].rules.indexOf("custom_validation")&&-1===e[m].rules.indexOf("callback_custom_validation")&&(e[m].rules=e[m].rules.replace(/custom_validation\b/g,"callback_custom_validation")),o[m]={},o[m].name=e[m].name,o[m].display=e[m].display,o[m].rules=e[m].rules,e[m].type){case"text":g=document.createElement("textarea");break;case"html":case"captcha":g=document.createElement("div");break;case"password":(g=document.createElement("input")).type="password";break;case"hidden":(g=document.createElement("input")).type="hidden",g.value=e[m].value||"";break;case"option":var g=document.createElement("select"),f=document.createElement("option");if(f.appendChild(document.createTextNode("-- select --")),f.setAttribute("value",""),g.appendChild(f),null==e[m].DataSource&&null!=e[m].options){for(var h=0;h<e[m].options.length;h++){var y=document.createElement("option");y.setAttribute("value",e[m].options[h].value),"country"===e[m].name&&y.setAttribute("value",e[m].options[h].value+"|"+e[m].options[h].text),y.appendChild(document.createTextNode(e[m].options[h].text)),g.appendChild(y)}D.defaultOptionField[e[m].name]&&(g.value=D.defaultOptionField[e[m].name])}break;case"multi":(g=document.createElement("input")).type="checkbox";break;case"email":(g=document.createElement("input")).type="email";break;case"button":(g=document.createElement("input")).type="button",g.value=e[m].display;break;case"image":(g=document.createElement("img")).src=e[m].value,g.type="image";break;default:(g=document.createElement("input")).type="text"}if(e[m].title&&(g.title=e[m].title),e[m].disabled&&(g.disabled=e[m].disabled),I.setAttribute(e[m],g),e[m].placeholder&&(g.placeholder=e[m].placeholder),e[m].value&&("multi"===e[m].type?g.checked=!0:g.value=e[m].value),"html"===e[m].type){var C=document.createElement("div");if(C.setAttribute("class",i+"-form-element-content content-"+n+e[m].name),C.innerHTML=e[m].html,e[m].event&&D.util.addEvent(e[m].event,C,e[m].eventCallback),"consent"===e[m].name)for(var v=C.getElementsByTagName("input"),T=0;T<v.length;T++)v[T].setAttribute("id",n+l+"-"+v[T].name);t.appendChild(C)}else if("captcha"===e[m].type){C=document.createElement("div");C.setAttribute("class",i+"-form-element-content content-"+n+e[m].name),C.innerHTML=e[m].html,D.options.formValidationMessage&&((k=document.createElement("div")).setAttribute("id","validation-"+n+l+"-"+e[m].name),k.setAttribute("class",i+"validation-message validation-"+n+e[m].name),C.appendChild(k)),t.appendChild(C)}else{if(g.setAttribute("name",e[m].name),"registration"===l&&(e[m].name&&("phoneid"===e[m].name.toLowerCase()||"phone"===e[m].name.toLowerCase())&&D.options.existPhoneNumber&&D.util.addEvent("blur",g,function(e){var t,o;o=a,""!==(t=e).target.value.trim()&&O.checkPhoneNumberAvailabilityController("phone="+t.target.value,function(e){e.IsExist?-1!==t.target.parentNode.getAttribute("class").indexOf("phoneid")&&(t.target.parentNode.childNodes[2].innerHTML="phone already exists, enter unique phone number"):-1!==t.target.parentNode.getAttribute("class").indexOf("phoneid")&&(t.target.parentNode.childNodes[2].innerHTML="")},o)}),e[m].name)&&"username"===e[m].name.toLowerCase()&&D.options.existUsername&&D.util.addEvent("blur",g,function(e){var t,o;o=a,""!==(t=e).target.value.trim()&&O.checkUserNameAvailabilityController("username="+t.target.value,function(e){e.IsExist?-1!==t.target.parentNode.getAttribute("class").indexOf("username")&&(t.target.parentNode.childNodes[2].innerHTML="username already exists, enter unique username"):-1!==t.target.parentNode.getAttribute("class").indexOf("username")&&(t.target.parentNode.childNodes[2].innerHTML="")},o)}),"emailid"===e[m].name&&("login"===l&&D.options.isPassKeysEnabled&&D.options.isPasskeyAutofill&&(g.autocomplete="username webauthn"),D.util.addEvent("keyup",g,function(e){32===e.keyCode&&(this.value=this.value.trim())})),g.setAttribute("id",n+l+"-"+e[m].name),e[m].event&&D.util.addEvent(e[m].event,g,e[m].eventCallback),D.eventsName[g.id]){var w=D.eventsName[g.id];if(D.util.isArray(w))for(var S=0;S<w.length;S++)w[S].event&&w[S].eventCallback&&D.util.addEvent(w[S].event,g,w[S].eventCallback);else D.util.addEvent(w.event,g,w.eventCallback)}if("hidden"===e[m].type)t.appendChild(g);else if("button"===e[m].type){var k=document.createElement("div");k.setAttribute("class",i+"-form-element-content content-"+n+e[m].name),k.appendChild(g),t.appendChild(k)}else{var L=document.createElement("label"),b=(L.setAttribute("for",n+l+"-"+e[m].name),L.innerHTML=e[m].display,g.setAttribute("class",i+e[m].type+" "+n+e[m].name),e[m].rules&&-1!==e[m].rules.indexOf("required")&&(g.className+=" lr-required"),document.createElement("div"));if(b.setAttribute("class",i+"-form-element-content content-"+n+e[m].name),"multi"===e[m].type?(b.appendChild(g),b.appendChild(L)):(b.appendChild(L),b.appendChild(g)),e[m].style&&0<e[m].style.length)for(var R=0;R<e[m].style.length;R++)b.style[e[m].style[R].key]=e[m].style[R].value;if(D.options.formValidationMessage&&((L=document.createElement("div")).setAttribute("id","validation-"+n+l+"-"+e[m].name),L.setAttribute("class",i+"validation-message validation-"+n+e[m].name),b.appendChild(L)),D.options.displayPasswordStrength&&("password"===g.name||"newpassword"===g.name)&&("registration"===l||"resetpassword"===l||"setpassword"===l||"changepassword"===l||"socialRegistration"===l||"loginRequiredFieldsUpdate"===l)){D.options.passwordLength&&D.options.passwordLength.min,D.options.passwordLength&&D.options.passwordLength.max;if(e[m].rules)for(var P=e[m].rules.split("|"),E=0;E<P.length;E++)-1<P[E].indexOf("min_length")?P[E].substring(11,P[E].length-1):-1<P[E].indexOf("max_length")&&P[E].substring(11,P[E].length-1);var L=document.createElement("meter"),A=(L.setAttribute("max","4"),L.setAttribute("id",l+"-password-strength-meter"),document.createElement("div"));A.setAttribute("id",l+"-password-strength-text"),g.parentNode.appendChild(L),g.parentNode.appendChild(A),u=function(){var e,t={0:"worst",1:"bad",2:"weak",3:"good",4:"strong",5:"secure"},o={0:"#dd514c",1:"orange",2:"yellow",3:"#5eb95e",4:"blue",5:"violet"},i={0:"Worst",1:"Bad",2:"Weak",3:"Good",4:"Strong",5:"Secure"},n=[],a=D.passwordMeterConfiguration;for(e in t)a[e]&&a[e].case?a[e].case.toLowerCase()===t[e]&&n.push({color:a[e].color||o[e],Message:a[e].message||i[e]}):n.push({color:o[e],Message:i[e]});return n}(),D.util.addEvent("keyup",g,s)}(("password"===g.name||"newpassword"===g.name||"oldpassword"===g.name)&&D.options.passwordVisibilityControl||("confirmpassword"===g.name||"confirmnewpassword"===g.name)&&D.options.confirmPasswordVisibilityControl)&&((L=document.createElement("i")).setAttribute("class","fa-eye"),L.setAttribute("style",p),"password-visibility-wrap"!==g.parentNode.id&&((A=document.createElement("div")).setAttribute("id","password-visibility-wrap"),A.setAttribute("style","position: relative;"),g.parentNode.insertBefore(A,g),A.appendChild(g),A.appendChild(L)),D.util.addEvent("click",L,d)),t.appendChild(b)}}}},I.setToken=function(e){LRNameSpace.cookies.setItem(LoginRadiusDefaults.tokenCookie,e,"",D.options.appPath)},I.resetGoogleCaptcha=function(e,t){D.options.optionalRecaptchaConfiguration&&D.options.optionalRecaptchaConfiguration.IsEnabled&&"registration"!==e&&(e=D.util.elementById(t,!0))&&""!==e.innerHTML&&(window.hcaptcha&&D.options.hCaptchaSiteKey?window.hcaptcha.reset(window[t+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&grecaptcha.reset(window[t+"lr_recaptcha_widgets_idprefix"]))},I.createForm=function(e,c,t,p,d,m,o){var i,n,a,s,r,l,g=m||LoginRadiusDefaults.idPrefix,f=m||LoginRadiusDefaults.classPrefix,o=o||c;if(D.LRPrefix=m+"##"+LoginRadiusDefaults.idPrefix,"registration"!==c&&"oneTouchLogin"!==c&&("Captcha"===D.options.loginLockedType||D.options.optionalRecaptchaConfiguration&&D.options.optionalRecaptchaConfiguration.IsEnabled)&&(n=D.options.optionalRecaptchaConfiguration.Apis,"Captcha"===D.options.loginLockedType&&LoginRadiusDefaults.captchaActions.includes(c.toLowerCase())||n&&P(o,n))&&(i=m+LoginRadiusDefaults.idPrefix+"recaptcha_widget_"+c.toLowerCase(),D.util.addRecaptchaJS(),D.util.captchaSchema(i,e)),D.$hooks.call("beforeFormRender",c,e),LoginRadiusDefaults.isRegFormSchemaLock=!1,LoginRadiusDefaults.isSecurityFormSchemaLock=!1,D.options.apiKey){if(I.setCustomLabel(e),I.setPlaceholder(e),I.setCustomTitle(e),0<e.length){var u,h,y=[],C=document.createElement("form"),v=(C.setAttribute("name",g+c),C.setAttribute("method","POST"),I.createFormFields(e,C,c,y,f,g,d),document.createElement("input")),T=D.buttonsName[c.toLowerCase()]||L[c.toLowerCase()],w=L[c.toLowerCase()].toLowerCase().replace(/ /g,"-"),S=(v.type="submit",D.options.isPINAuthentication&&"loginRequiredFieldsUpdate"===c&&D.util.findInSchema(e,"name","pin")?v.value="Continue":v.value=T,v.id=g+"submit-"+w,v.setAttribute("class",f+"submit submit-"+g+w),D.options.disableButtonOnsubmit&&(D.$hooks.register("eventCalls",function(e){window.lrpasswordlessloginotp||window.lrpasswordlesslogin||(u=e)}),D.$hooks.register("startProcess",function(e){u===c&&(v.disabled=!0)}),D.$hooks.register("xhrEndWithError",function(e){u===c&&(v.disabled=!1)}),D.$hooks.register("xhrEndWithSuccess",function(e){u===c&&D.options.enableSubmitOnSuccess&&(v.disabled=!1)})),C.appendChild(v),D.options.passwordlessLogin&&"login"===c&&R("passwordlessloginbuttonlabel",C,v,g,f),D.options.passwordlessLoginOTP&&"login"===c&&R("passwordlessLoginOTPButtonLabel",C,v,g,f),!D.options.isPassKeysEnabled||"passkeyregister"!==c&&"login"!==c||(a="passkeyregister"===c?"registerwithpwd":"passkeylogin",e=C,T=g,w=f,(s=document.createElement("input")).type="submit",r=D.buttonsName[a.toLowerCase()]||L[a.toLowerCase()],l=L[a.toLowerCase()],s.value=r,s.id=T+"-"+l.toLowerCase().replace(/ /g,"-"),s.name=a,s.setAttribute("class",w+" "+T+l.toLowerCase().replace(/ /g,"-")),s.setAttribute("class",w+" "+l.toLowerCase().replace(/ /g,"-")),e.appendChild(s),D.util.addEvent("click",s,function(e){"registerwithpwd"===a?window.lrpwdregister=!0:(window.lrpasskeylogin=!0,window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1)})),D.util.addHTMLContent(t,C,LoginRadiusDefaults.innerHTML),D.$hooks.call("afterFormRender",c,t,f,C),LoginRadiusDefaults.innerHTML=!1,new FormValidator(g+c,y,function(e,t){var o=document.getElementsByTagName("form"),i="";if(o[g+c])i=o[g+c];else if("object"==typeof o)for(var n=0;n<o.length;n++)if(o[n].name===g+c){i=o[n];break}D.currentLRContainer=i.parentElement.id,D.$hooks.call("eventCalls",c,f),D.mergeFormErrors&&0<D.mergeFormErrors.length&&(e=D.util.mergeObjects(e,D.mergeFormErrors));for(var a=D.util.elementsByClass(f+"validation-message"),s=0;s<a.length;s++)a[s].innerHTML="";var r=m+g+"recaptcha_widget",l=(r+="_"+c.toLowerCase(),D.util.elementById(r+"_tencent"));if(D.options.invisibleRecaptcha&&(window.onCaptchaSubmit=function(e){var t=D.util.serialize(C);window.grecaptcha&&-1===t.indexOf("g-recaptcha-response")&&(t+="&g-recaptcha-response="+e),window.hcaptcha&&D.options.hCaptchaSiteKey&&-1===t.indexOf("h-captcha-response")&&(t+="&h-captcha-response="+e),p(t),window.hcaptcha&&D.options.hCaptchaSiteKey?window.hcaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&grecaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"])}),l&&"none"!==l.style.display&&(D.options.tencentCaptcha||D.options.tencentCaptchaAsFallback&&!window.grecaptcha)&&0==e.length&&l.click(),0<e.length){D.$hooks.call("afterValidation",c);for(var u=0;u<e.length;u++)if("login"===c&&(D.options.isPassKeysEnabled&&window.lrpasskeylogin||D.options.passwordlessLogin&&window.lrpasswordlesslogin||D.options.passwordlessLoginOTP&&window.lrpasswordlessloginotp)){if(1===e.length||D.options.v2Recaptcha||D.options.hCaptchaSiteKey&&!D.options.invisibleRecaptcha){if(e[u].Id===g+""+c+"-password")return b(C,p,r,c),!0;if("g-recaptcha-response"===e[u].Id)return b(C,p,r,c),!0}}else{if("passkeyregister"===c&&D.options.isPassKeysEnabled&&window.lrpwdregister)return b(C,p,r,c),!0;D.options.formValidationMessage&&"resettoken"!==e[u].Name&&(D.util.elementById("validation-"+g+c+"-"+e[u].Name).innerHTML=e[u].Message)}D.options.formValidationMessage||(d(e),I.resetGoogleCaptcha(c,r))}else b(C,p,r,c);t&&t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)}));if(D.validationMessages&&0<D.validationMessages.length)for(var k=0;k<D.validationMessages.length;k++)S.setMessage(D.validationMessages[k].rule,D.validationMessages[k].message),"valid_date"!==D.validationMessages[k].rule&&"callback_valid_date"!==D.validationMessages[k].rule||(h=D.validationMessages[k].message);S.registerCallback("valid_date",function(e){return o=(e=e).split("/"),-1!==e.indexOf("-")&&(o=e.split("-")),e=parseInt(o[1],10),i=parseInt(o[0],10),!((o=parseInt(o[2],10))<1e3||3e3<o||0===i||12<i)&&(t=[31,28,31,30,31,30,31,31,30,31,30,31],(o%400==0||o%100!=0&&o%4==0)&&(t[1]=29),0<e)&&e<=t[i-1];var t,o,i}).setMessage("valid_date",h||"The %s field must contain a valid date."),S.registerCallback("custom_validation",function(e,t){t=(t=t.split("###")[0]).split("or").join("|");try{return new RegExp(t,"g").test(e)?!0:!1}catch(e){return D.log("Invalid custom validation regex expression"),!1}}).setMessage("custom_validation","The %s field is not valid."),D.Validator=S}}else D.log("API key must be set.");D.options.optionalRecaptchaConfiguration&&D.options.optionalRecaptchaConfiguration.IsEnabled&&n&&P(o,n)&&"registration"!==c&&D.util.renderV2Recaptcha(i,!0)},I.createConsentInterface=function(e,t){var o="";if(e){for(var i=0;i<e.ConsentForm.length;i++)if("Group"===e.ConsentForm[i].Type){if(e.ConsentForm[i].Consents.length){var n={consentGroupTitle:e.ConsentForm[i].Title,consentGroupDescription:e.ConsentForm[i].Description};o+=D.util.hashTmpl(LoginRadiusDefaults.templates.consentGroupTemplate,n);for(var a=0;a<e.ConsentForm[i].Consents.length;a++){var s={consentTitle:e.ConsentForm[i].Consents[a].Title,consentDescription:e.ConsentForm[i].Consents[a].Description,consentId:"consent_"+e.ConsentForm[i].Consents[a].ConsentId};o+=D.util.hashTmpl(LoginRadiusDefaults.templates.consentOptionTemplate,s)}}}else if("Consent"===e.ConsentForm[i].Type)for(var r=0;r<e.ConsentForm[i].Consents.length;r++){var l={consentTitle:e.ConsentForm[i].Consents[r].Title,consentDescription:e.ConsentForm[i].Consents[r].Description,consentId:"consent_"+e.ConsentForm[i].Consents[r].ConsentId};o+=D.util.hashTmpl(LoginRadiusDefaults.templates.consentOptionTemplate,l)}if(o+=D.util.hashTmpl(LoginRadiusDefaults.templates.consentMainTemplate,e),t){var u=document.createElement("div");u.innerHTML=o.trim();for(var c=0;c<t.length;c++){var p=u.querySelector('input[name="consent_'+t[c].ConsentOptionId+'"]');p&&p.setAttribute("checked","checked")}o=u.innerHTML||""}}return o},I.createConsentOptionInterface=function(e,t){var o="";if(e){for(var i in e){i={consentTitle:e[i].Title,consentDescription:e[i].Description,consentId:"consent_"+e[i].ConsentId,checked:!!e[i].checked};o+=D.util.hashTmpl(LoginRadiusDefaults.templates.consentOptionTemplate,i)}if(t){var n=document.createElement("div");n.innerHTML=o.trim();for(var a=0;a<t.length;a++)e[t[a].ConsentOptionId]&&n.querySelector('input[name="consent_'+t[a].ConsentOptionId+'"]').setAttribute("checked","checked");o=n.innerHTML||""}}return o},I.setConsentTemplate=function(){var e,t,o,i,n=document.getElementById(LoginRadiusDefaults.templates.consentMainTemplate);n&&((e=document.createElement("div")).innerHTML=n.innerHTML,n.append(e),(t=document.createElement("script")).type="text/html",t.id=LoginRadiusDefaults.templates.consentOptionTemplate,t.innerHTML=this.decodeHtml(document.getElementById(LoginRadiusDefaults.templates.consentOptionTemplate).innerHTML),(o=document.getElementById(LoginRadiusDefaults.templates.consentGroupTemplate))&&(i=o.querySelectorAll("#"+LoginRadiusDefaults.templates.consentOptionTemplate)[0])&&i.remove(),(i=document.createElement("script")).type="text/html",i.id=LoginRadiusDefaults.templates.consentGroupTemplate,i.innerHTML=this.decodeHtml(o.innerHTML),o.remove(),n.innerHTML=this.decodeHtml(e.innerHTML),e.remove(),document.body.append(i),document.body.append(t))},I.consentValidation=function(e,t){var o=D.util.parseQueryString(e),i=[];if(t){if(D.consentOptions[t]&&D.consentOptions[t].ConsentForm)for(var n=D.consentOptions[t].ConsentForm,a=0;a<n.length;a++)var s=n[a],i="Group"===s.Type?I.setConsentValidation(s,o,i,!0):I.setConsentValidation(s,o,i)}else{var r,l={Type:"Consent",Consents:[]};for(r in D.consentsList)l.Consents.push(D.consentsList[r]);i=I.setConsentValidation(l,o,i)}return i},I.setConsentValidation=function(e,t,o,i){var n=!1;if(i&&e.IsRequiredAtleastOne&&0===e.Consents.length)o.push({Id:e.GroupId,Name:e.Title,Message:"In "+e.Title+" group should have at least one consent"});else{for(var a=0;a<e.Consents.length;a++)i&&e.IsRequiredAtleastOne&&"true"===t["consent_"+e.Consents[a].ConsentId]&&(n=!0),e.Consents[a].IsRequired&&"true"!==t["consent_"+e.Consents[a].ConsentId]&&o.push({Id:e.Consents[a].ConsentId,Name:e.Consents[a].Title,Message:e.Consents[a].Title+" consent is required"});e.IsRequiredAtleastOne&&!n&&o.push({Id:e.GroupId,Name:e.Title,Message:"In "+e.Title+" group at least one consent is required"})}return o},I.isValidToken=function(e,t){return!!e||(t([I.setMappedMessage(h.tokenValid)]),!1)},I.decodeHtml=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},I.checkForLatestPrivacyPolicy=function(e){for(var t=D.options.privacyPolicyConfiguration.PrivacyPolicies,o=(new Date).getTime(),i={},n=0;n<t.length;n++)new Date(t[n].StartDateTime).getTime()<o&&(D.util.isEmpty(i)||!D.util.isEmpty(i)&&new Date(i.StartDateTime).getTime()<new Date(t[n].StartDateTime).getTime())&&(i=t[n]);return i.Version===e.PrivacyPolicy.Version},I.sanitizePinData=function(e){var e=Object.assign({},e),t={PIN:"",Skipped:null};return e.hasOwnProperty("pin")&&e.pin?t.PIN=e.pin:t.Skipped=!0,delete e.pin,e.PINInfo=t,e},I.sanitizeSecurityQuesData=function(e){var t,o=D.util.parseQueryString(e),i={},n=["email","username","phone","password","pin","phoneApi"];for(t in o)-1===n.indexOf(t)&&(i[t]=o[t],delete o[t]);return o.securityanswer=i,o},I.loadQRCodeScript=function(e){var t;D.options.isCrossDeviceSSOEnabled&&((t=document.createElement("script")).src=LoginRadiusDefaults.externalLibrary+"qrcode.js",t.type="text/javascript",t.onload=function(){e()},document.getElementsByTagName("head")[0].appendChild(t))},I.createAccountPasskey=function(t,o){let i=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);D.options.isPassKeysEnabled&&D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/register/passkey/begin?apikey="+D.options.apiKey+"&access_token="+i,"",function(e){e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):D.util.createPassKeyCredentials(e.RegisterBeginCredential).then(e=>{e={id:e.id,rawId:D.util.base64UrlEncode(e.rawId),type:e.type,response:{attestationObject:D.util.base64UrlEncode(e.response.attestationObject),clientDataJSON:D.util.base64UrlEncode(e.response.clientDataJSON)}};D.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/account/register/passkey/finish?apiKey="+D.options.apiKey+"&access_token="+i,e,function(e){e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):t(e)},"account-passkey")}).catch(e=>{o(I.loginRadiusErrorTojsError(e))})})},I.removePasskey=function(e,t,o){var i=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);D.options.isPassKeysEnabled&&D.util.ajaxCall("delete",LoginRadiusDefaults.apiDomain+`/auth/account/passkey/${e}?apikey=`+D.options.apiKey+"&access_token="+i,"",function(e){e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):t(e)})},I.resendOTPHandler=function(t){let e="",o,i;t.voiceotp&&(e="&isvoiceotp=true"),"update2FANumberResendOTP"===t.action?(o=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),(i=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName))&&!D.LRCheckLogin?D.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apiKey="+D.options.apiKey+"&access_token="+i+"&smsTemplate="+t.smstemplate+e,t.data,function(e){e.ErrorCode?t.onerror(I.loginRadiusErrorTojsError(e)):t.onsuccess(e,t.data)},"updatePhone"):o?(t.data.phone&&(t.data.phoneno2fa=t.data.phone),D.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/?apiKey="+D.options.apiKey+"&SecondFactorAuthenticationToken="+o+"&smsTemplate2FA="+t.smstemplate+e,t.data,function(e){e.ErrorCode?t.onerror(I.loginRadiusErrorTojsError(e)):t.onsuccess(e,t.data)},"login")):t.onerror([I.setMappedMessage(h.twofaTokenValid)])):"smartLoginResendOTP"===t.action?D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp?apiKey="+D.options.apiKey+"&phone="+t.data+"&smsTemplate="+t.smstemplate+e,"",function(e){e.ErrorCode?t.onerror(I.loginRadiusErrorTojsError(e)):t.onsuccess(e)},"loginOTP"):"sendInstantSignInResendOtp"===t.action&&D.util.ajaxCall("GET",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp?apiKey="+D.options.apiKey+"&"+t.data+"&smsTemplate="+t.smstemplate+e,"",function(e){e.ErrorCode?t.onerror(I.loginRadiusErrorTojsError(e)):t.onsuccess(e)},"passwordlessLogin")},I.addResendOTPBtn=function(s,r,l){D.$hooks.register("afterFormRender",function(e,t,o,i){var n,a;s&&i&&"loginradius-twofaemailotp"===i.name&&(D.util.findInSchema(i,"id","loginradius-button-resendemailotp")||(n=D.util.getButtonAttribute("resendemailotp",o,function(e){D.options.disableResendOTPButton&&D.util.disableResendOTPButton(e),O.sendMFAEmailOTPController({EmailId:i[1].value},r,l,t,o,"resend")}),(a=D.util.findInSchema(i,"type","submit"))?a.parentNode.insertBefore(n,a.nextSibling):i.appendChild(n)))})},I.pingForPushNotification=function(t,o,i){var n=D.options.autoLoginPingInterval||D.options.smartLoginPingInterval,a=D.options.autoLoginPingCount||D.options.smartLoginPingCount,e=D.LRCheckLogin?"/auth/login/2fa/push/ping?secondfactorauthenticationtoken="+t:"/auth/account/2fa/push/ping?access_token="+t;D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+e+"&apiKey="+D.options.apiKey,"",function(e){1295===e.ErrorCode||1313===e.ErrorCode?setTimeout(function(){LoginRadiusDefaults.pingCount<a&&(I.pingForPushNotification(t,o,i),LoginRadiusDefaults.pingCount++)},1e3*n):e.ErrorCode?(i(I.loginRadiusErrorTojsError(e)),LoginRadiusDefaults.pingCount=0):(LoginRadiusDefaults.pingCount=0,o(e))},"pingForPushNotification")},I.resendPushNotification=function(t,o,i){var e=LoginRadiusDefaults.apiDomain+"/auth/login/2fa/push?apiKey="+D.options.apiKey+"&secondfactorauthenticationtoken="+t;D.util.ajaxCall("post",e,{},function(e){e.ErrorCode?i(I.loginRadiusErrorTojsError(e)):(LoginRadiusDefaults.pingCount<=1&&I.pingForPushNotification(t,o,i),o(e))},"resendPushNotification")},I.createAccountMFAPasskey=function(t,o){let i=D.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);D.options.isPassKeysEnabled&&D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2fa/register/passkey/begin?apikey="+D.options.apiKey+"&access_token="+i,"",function(e){e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):D.util.createPassKeyCredentials(e.RegisterBeginCredential).then(e=>{e={PasskeyCredential:{id:e.id,rawId:D.util.base64UrlEncode(e.rawId),type:e.type,response:{attestationObject:D.util.base64UrlEncode(e.response.attestationObject),clientDataJSON:D.util.base64UrlEncode(e.response.clientDataJSON)}}};D.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/account/2fa/register/passkey/finish?apiKey="+D.options.apiKey+"&access_token="+i,e,function(e){e.ErrorCode?o(I.loginRadiusErrorTojsError(e)):t(e)},"account-passkey-mfa")}).catch(e=>{o(I.loginRadiusErrorTojsError(e))})})},I.createMFAPasskey=function(t,o,i){D.options.isPassKeysEnabled&&D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/register/passkey/begin?apikey="+D.options.apiKey+"&secondfactorauthenticationtoken="+t,"",function(e){e.ErrorCode?i(I.loginRadiusErrorTojsError(e)):D.util.createPassKeyCredentials(e.RegisterBeginCredential).then(e=>{e={PasskeyCredential:{id:e.id,rawId:D.util.base64UrlEncode(e.rawId),type:e.type,response:{attestationObject:D.util.base64UrlEncode(e.response.attestationObject),clientDataJSON:D.util.base64UrlEncode(e.response.clientDataJSON)}}};D.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/register/passkey/finish?apiKey="+D.options.apiKey+"&secondfactorauthenticationtoken="+t,e,function(e){e.ErrorCode?i(I.loginRadiusErrorTojsError(e)):O.handleFeatures(e,"","","",o,i,"")},"register-passkey-mfa")}).catch(e=>{i(I.loginRadiusErrorTojsError(e))})})},I.loginMFAPasskey=function(s,r,l){D.options.isPassKeysEnabled&&D.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/passkey/begin?apikey="+D.options.apiKey+"&secondfactorauthenticationtoken="+s,"",function(e){e.ErrorCode?l(I.loginRadiusErrorTojsError(e)):D.util.getPassKeyCredentials(e.LoginBeginCredential,!1).then(e=>{var t=e.response.authenticatorData,o=e.response.clientDataJSON,i=e.rawId,n=e.response.signature,a=e.response.userHandle,i={PasskeyCredential:{id:e.id,rawId:D.util.base64UrlEncode(i),type:e.type,authenticatorAttachment:e.authenticatorAttachment,response:{authenticatorData:D.util.base64UrlEncode(t),clientDataJSON:D.util.base64UrlEncode(o),signature:D.util.base64UrlEncode(n),userHandle:D.util.base64UrlEncode(a)}}};D.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/passkey/finish?apiKey="+D.options.apiKey+"&secondfactorauthenticationtoken="+s,i,function(e){e.ErrorCode?l(I.loginRadiusErrorTojsError(e)):O.handleFeatures(e,"","","",r,l,"")},"login-passkey-mfa")}).catch(e=>{l(I.loginRadiusErrorTojsError(e))})})}}function LoginRadiusControllers(P,E){var h=LoginRadiusDefaults.messages,A=this;function n(e,t,o,i,n){t?P.util.ajaxCall(e,LoginRadiusDefaults.apiDomain+"/auth/customobject/"+o+"?apiKey="+P.options.apiKey+"&access_token="+t+"&objectname="+P.options.customObjectName,"",function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):i(e)},"CustomObject"):n([E.setMappedMessage(h.twofaTokenValid)])}A.handleFeatures=function(e,t,o,i,n,a,s){var r,l,u,c,p=e.Profile;"string"!=typeof t&&(t=P.util.jsonToQueryString(t)),i&&P.options.periodicPasswordReset&&p.PasswordExpirationDate&&new Date(p.PasswordExpirationDate)<=new Date?(E.setPasswordRule(P.changePasswordFormSchema[1]),E.setPasswordRule(P.changePasswordFormSchema[2]),i(p,e)):o&&(P.options.askRequiredFieldForTraditionalLogin||LoginRadiusDefaults.autoFilledFieldforPasswordLesLogin||P.askPinOnLogin)?(i=p,p=e,r=t,o=o,l=n,u=a,P.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,p.access_token),P.options.isPINAuthentication&&P.options.PINConfiguration.PINLogin&&p&&p.session_token&&P.setSessionToken(p),c=P.options,c=JSON.parse(JSON.stringify(c)).RegistrationFormSchema,i.IsDeleted?u(E.loginRadiusErrorTojsError(i)):(P.options.autoFilledFieldForTraditional&&P.$hooks.register("beforeFormRender",function(e,t){"loginRequiredFieldsUpdate"===e&&((e=P.util.findInSchema(t,"name","emailid"))&&e.value&&(e.disabled=!0),e=P.util.findInSchema(t,"name","phoneid"))&&e.value&&(e.disabled=!0)}),P.registrationFormSchema=E.mapSchema(c,i,P.options.autoFilledFieldForTraditional),0<P.registrationFormSchema.length?(E.setPasswordRule(P.util.findInSchema(c,"name","password")),E.setPasswordRule(P.util.findInSchema(c,"name","confirmpassword")),P.$hooks.call("registrationSchemaFilter",c,i),o(i,p,p.access_token,r,l,u)):E.loginHandleToken(p,r,l,u))):E.loginHandleToken(e,t,n,a,s)},A.verifyOTPController=function(t,e,o,i,n,a){var s=LoginRadiusDefaults.apiDomain+"/auth/phone/otp?apiKey="+P.options.apiKey+"&otp="+t.otp+"&smsTemplate="+P.options.smsTemplateWelcome;t.haveToken&&(s+="&access_token="+P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName)),t.onetouchloginflag&&(s=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/phone/verify?apiKey="+P.options.apiKey+"&otp="+t.otp+"&smsTemplate="+P.options.smsTemplateOneTouchLoginWelcome),e={...e,...t},P.util.ajaxCall("put",s,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):t.onetouchloginflag&&!P.options.askRequiredFieldsOnPasswordLessLogin?E.loginHandleToken(e,"",o,i,"",!0):e.access_token?(LoginRadiusDefaults.autoFilledFieldforPasswordLesLogin=!0,A.handleFeatures(e,t,a,n,o,i)):o(e,t)},"verifyOTP")},A.updateSecurityQuestionController=function(e,t,o){for(var i=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),n=P.util.parseQueryString(e),a=0;a<P.options.securityQuestionsCount;a++)n[n["securityQuestion"+a]]=n["securityAnswer"+a],delete n["securityQuestion"+a],delete n["securityAnswer"+a];e={SecurityQuestionAnswer:n};E.isValidToken(i,o)&&P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account?apikey="+P.options.apiKey+"&access_token="+i,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"updateSecurityQuestion")},A.resetTwoFactorAuthenticationController=function(t,o,i){var e,n=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),a={};a[t]=!0,E.isValidToken(n,i)&&(e="/auth/account/2FA/authenticator","emailotpauthenticator"===t?(e="/auth/account/2fa/authenticator/otp/email",a={}):"sqauthenticator"===t?(e="/auth/account/2fa/authenticator/securityquestionanswer",a={}):"pushnotificationauthenticator"===t?(e="/auth/account/2fa/authenticator/push",a={}):"duoauthenticator"===t?(e="/auth/account/2fa/authenticator/duo",a={}):"passkeyauthenticator"===t&&(e="/auth/account/2fa/authenticator/passkey",a={}),P.util.ajaxCall("delete",LoginRadiusDefaults.apiDomain+e+"?apikey="+P.options.apiKey+"&access_token="+n,a,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,t)},"resetTwoFactorAuthentication"))},A.forgotPasswordController=function(o,i,n,a,s){var e=P.options.forgotPasswordUrl||P.options.resetPasswordUrl;P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/password?apiKey="+P.options.apiKey+"&resetPasswordUrl="+e+"&emailTemplate="+P.options.resetPasswordEmailTemplate,o,function(e){var t;e.ErrorCode?a(E.loginRadiusErrorTojsError(e)):(t=P.util.parseQueryString(o),n(e,t),E.showOTPTemplateForm("ForgotPassword")&&E.resetPassword(i,n,a,s,t))},"forgotPassword")},A.forgotPassKeyController=function(o,e,i,n,t){var a=P.options.forgotPassKeyUrl||P.options.resetPassKeyUrl;P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/passkey/forgot?apiKey="+P.options.apiKey+"&resetpasskeyurl="+a+"&emailTemplate="+P.options.resetPassKeyEmailTemplate,o,function(e){var t;e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(t=P.util.parseQueryString(o),i(e,t))},"forgotPassKey")},A.resetPasskeyFinishController=function(e,t,o,i,n,a){e={id:e.id,rawId:P.util.base64UrlEncode(e.rawId),type:e.type,response:{attestationObject:P.util.base64UrlEncode(e.response.attestationObject),clientDataJSON:P.util.base64UrlEncode(e.response.clientDataJSON)}};P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/passkey/reset/finish?apiKey="+P.options.apiKey+"&vtoken="+t,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,{})},"resetPassword")},A.resetPassKeyController=function(t,o,i,n,a){P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/passkey/reset/begin?apiKey="+P.options.apiKey+"&vtoken="+t,"",function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):P.util.createPassKeyCredentials(e.RegisterBeginCredential).then(e=>{A.resetPasskeyFinishController(e,t,i,n,o,a)}).catch(e=>{n(E.loginRadiusErrorTojsError(e))})})},A.forgotPINController=function(o,i,n,a,s){var e=P.util.parseQueryString(o).hasOwnProperty("username")?"username":"email",t=P.options.forgotPINUrl||P.options.resetPINUrl;P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/pin/forgot/"+e+"?apiKey="+P.options.apiKey+"&resetPINUrl="+t+"&emailTemplate="+P.options.resetPINEmailTemplate,o,function(e){var t;e.ErrorCode?a(E.loginRadiusErrorTojsError(e)):(t=P.util.parseQueryString(o),n(e,t),E.showOTPTemplateForm("ForgotPIN")&&E.resetPIN(i,n,a,s,t))},"forgotPIN")},A.loginController=function(o,i,n,a,s,r,l,u,c){P.options.verificationEmailTemplate=P.options.emailTemplate||P.options.verificationEmailTemplate;var e="emailTemplate="+P.options.verificationEmailTemplate+"&verificationUrl="+P.options.verificationUrl,e=(P.options.phoneLogin&&(e+="&smsTemplate="+P.options.smsTemplatePhoneVerification),P.options.riskBasedAuthentication&&(e=(e+="&RbaOneclickEmailTemplate="+P.options.rbaOneclickEmailTemplate+"&RbaOTPSmsTemplate="+P.options.rbaOTPSmsTemplate+"&RbaCityEmailTemplate="+P.options.rbaCityEmailTemplate+"&RbaCountryEmailTemplate="+P.options.rbaCountryEmailTemplate+"&RbaBrowserEmailTemplate="+P.options.rbaBrowserEmailTemplate+"&RbaIpEmailTemplate="+P.options.rbaIpEmailTemplate+"&RbaDeviceEmailTemplate="+P.options.rbaDeviceEmailTemplate+"&RbaCitySmsTemplate="+P.options.rbaCitySmsTemplate+"&RbaCountrySmsTemplate="+P.options.rbaCountrySmsTemplate)+"&RbaBrowserSmsTemplate="+P.options.rbaBrowserSmsTemplate+"&RbaIpSmsTemplate="+P.options.rbaIpSmsTemplate+"&RbaDeviceSmsTemplate="+P.options.rbaDeviceSmsTemplate),("string"==typeof(o=P.util.checkPhoneOrEmailLogin(o))||o instanceof String)&&(o=P.util.parseQueryString(o)),P.options.duplicateEmailWithUniqueUsername&&(delete o.email,delete o.phoneid),P.options.isB2BEnabled&&P.options.organizationObj&&P.options.organizationObj.Id&&(e+="&org_id="+P.options.organizationObj.Id),LoginRadiusDefaults.apiDomain+"/auth/login?apiKey="+P.options.apiKey+"&loginUrl="+P.options.loginUrl+"&"+e);o["g-recaptcha-response"]&&(e+="&g-recaptcha-response="+o["g-recaptcha-response"],delete o["g-recaptcha-response"]),o["h-captcha-response"]&&(e+="&h-captcha-response="+o["h-captcha-response"],delete o["h-captcha-response"]),o.qq_captcha_randstr&&(e+="&qq_captcha_randstr="+o.qq_captcha_randstr,delete o.qq_captcha_randstr),o.qq_captcha_ticket&&(e+="&qq_captcha_ticket="+o.qq_captcha_ticket,delete o.qq_captcha_ticket),P.util.ajaxCall("post",e,o,function(e){var t;P.options.stayLogin&&P.storage.setBrowserStorage("lr-rememberme",o.stayLogin),e.ErrorCode?("970"!=e.ErrorCode||P.options.verifyEmailByOTP?"1167"==e.ErrorCode&&(e.PhoneId||o.phone)?(delete o.email,o.phone=e.PhoneId||o.phone,A.loginOTPController(o,i,n,a,l,"no")):P.options.phoneLogin&&"1066"==e.ErrorCode&&(E.verifyOTP=u||E.verifyOTP,E.resendOTP=c||E.resendOTP,E.verifyOTP(o,i,n,a,l,s,r),E.resendOTP(o,i,n,a,l,P.options.isVoiceOtp,s,r)):E.otpEmailVerification(i,n,a,l,o),a(E.loginRadiusErrorTojsError(e))):(P.askPinOnLogin=!1,t=e.Profile,P.options.isPINAuthentication&&t&&(P.options.PINConfiguration.AskOnlyOnFirstLogin&&t.FirstLogin||P.options.PINConfiguration.AskOnLogin)&&(null!==t.PIN&&t.PIN.PIN||(P.askPinOnLogin=!0)),A.handleFeatures(e,o,r,s,n,a,l))},"login")},A.loginOTPController=function(e,o,i,n,a,t){var s,r,l=e=P.util.checkPhoneOrEmailLogin(e);(l="string"==typeof e||e instanceof String?P.util.parseQueryString(e):l).email||l.username?E.sendInstantSignInLink(e,i,n,o,a):(s=P.options.smsTemplateInstantOTPLogin||P.options.passwordlessLoginSMSTemplate,P.$hooks.register("beforeFormRender",function(e,t){P.util.findInSchema(t,"name","resendotp")||(t.push({type:"button",name:"resendotp",display:"Resend via SMS",rules:"",permission:"r",event:"click",eventCallback:function(e){P.options.disableResendOTPButton&&P.util.disableResendOTPButton(e);e={data:l.phone,onsuccess:i,onerror:n,smstemplate:s,action:"smartLoginResendOTP"};E.resendOTPHandler(e)}}),P.options.isVoiceOtp&&t.push({type:"button",name:"resendvoiceotp",display:"Resend via Voice call",rules:"",permission:"r",event:"click",eventCallback:function(e){P.options.disableResendOTPButton&&P.util.disableResendOTPButton(e);e={data:l.phone,onsuccess:i,onerror:n,smstemplate:s,voiceotp:!0,action:"smartLoginResendOTP"};E.resendOTPHandler(e)}}))}),r=function(){var e=P.otpSchema;E.createForm(e,"otp",o,function(e){var t=a+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp";A.verifyInstantOTP(e,l,i,n,t,o,a)},function(e){n(E.setMappedMessage(e))},a)},t?r():P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp?apiKey="+P.options.apiKey+"&phone="+l.phone+"&smsTemplate="+s,"",function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(i(e),r())},"loginOTP"))},A.loginPINController=function(t,e,o,i,n,a,s,r){P.options.verificationEmailTemplate=P.options.emailTemplate||P.options.verificationEmailTemplate,("string"==typeof t||t instanceof String)&&(t=P.util.parseQueryString(t));r=LoginRadiusDefaults.apiDomain+"/auth/login/pin?apiKey="+P.options.apiKey+"&session_token="+r;P.util.ajaxCall("post",r,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):A.handleFeatures(e,t,s,a,o,i,n)},"login")},A.login2FAController=function(o,f,h,y,C,v,T,w,S,k){P.LRCheck2FA=!0,o=P.util.checkPhoneOrEmailLogin(o);var L=!1,b=!1,R=function(r,e){var t,o,n=e.IsOTPAuthenticatorVerified||"",l=e.IsAuthenticatorVerified||"",u=e.IsDuoAuthenticatorVerified||"",c=e.IsEmailOtpAuthenticatorVerified||"",p=e.IsSecurityQuestionAuthenticatorVerified||"",d=e.IsPushDeviceRegistered||"",m=e.IsPasskeyAuthenticatorVerified||"",i=(null!==e.EmailOTPStatus||n||l||p||d||(b=!0),P.$hooks.register("afterFormRender",function(e,t,o,i){var n=i?P.util.findInSchema(i,"id","loginradius-button-backupcodebackbutton"):P.util.elementById("loginradius-button-backupcodebackbutton");(i=i||P.util.elementById(t))&&P.LRCheck2FA&&(n||(t=P.util.getButtonAttribute("backupcodebackbutton",o,function(){b=!0,R(r,r.SecondFactorAuthentication)}),i.appendChild(t)))}),P.util.getButtonAttribute("otpauthenticator",C)),g=!1,a=P.options.authenticatorOptionsOrder;for(t in a)if(a[t])if("emailotp"===a[t])!function(){var a,s,e;!P.options.emailOTPAuthentication||(l||d||n||p||u||!P.options.twoFactorAuthentication||m)&&!c||r.SecondFactorAuthentication&&r.SecondFactorAuthentication.Email&&r.SecondFactorAuthentication.Email.length&&(L=!0,a=r.SecondFactorAuthentication.Email)&&(s=function(e){E.addResendOTPBtn(L,h,y),b||p||l||n||d?A.sendMFAEmailOTPController({EmailId:e},h,y,f,C):E.verifyOTP({mfaEmailToken:!0,EmailId:e},f,h,y,C)},LoginRadiusDefaults.innerHTML=!0,e=P.util.getButtonAttribute("emailotp",C,function(e){if(1<a.length){LoginRadiusDefaults.innerHTML=!1;for(var t,o=[],i=0;i<a.length;i++)a[i]&&((t={}).text=a[i],t.value=a[i],o.push(t));var n={type:"option"};n.options=o,n.name="sendemailotp",n.rules="required",n.display="Select email to send verification code",E.createForm([n],"mfaselectemails",f,function(e){e=P.util.parseQueryString(e),s(e.sendemailotp)})}else r.SecondFactorAuthentication.Email&&r.SecondFactorAuthentication.Email[0]&&s(r.SecondFactorAuthentication.Email[0])}),P.util.addHTMLContent(f,e,g),g=!0)}();else if("sms"===a[t])o=void 0,!P.options.smsOTPAuthentication||(p||d||c||l||u||m||!P.options.twoFactorAuthentication)&&!n?(p||d||l||c||!P.options.twoFactorAuthentication)&&(!P.options.optionalTwoFactorAuthentication||n||p||d||l||c||""===r.SecondFactorAuthentication.OTPPhoneNo||null==r.SecondFactorAuthentication.OTPPhoneNo)&&!n||(C=C||LoginRadiusDefaults.classPrefix,o=document.getElementsByName(C+"showQRcode")[0],P.options.qrCodeAuthentication&&o&&o.appendChild(i)):r.SecondFactorAuthentication.OTPPhoneNo?(P.util.addHTMLContent(f,i,g),g=!0):P.options.qrCodeAuthentication||P.options.emailOTPAuthentication||P.options.securityQuestionAuthentication||P.options.pushNotificationAuthentication||P.options.duoAuthentication||P.options.passkeyAuthentication?(o=P.util.getButtonAttribute("otpauthenticator",C,function(){LoginRadiusDefaults.innerHTML=!1,E.updatePhoneNumber=w||E.updatePhoneNumber,E.updatePhoneNumber(f,h,y,C,"",v,T)}),P.util.addHTMLContent(f,o,g),g=!0):(E.updatePhoneNumber=w||E.updatePhoneNumber,E.updatePhoneNumber(f,h,y,C,"",v,T));else if("securityquestion"===a[t])o=void 0,P.options.securityQuestionAuthentication&&(!(c||d||l||n||u||m)&&P.options.twoFactorAuthentication||p)&&(o=P.util.getButtonAttribute("securityquestionsauthenticator",C,function(){LoginRadiusDefaults.innerHTML=!1,E.showMFASecurityQuestions(r.SecondFactorAuthentication,f,h,y,C,v,T)}),P.util.addHTMLContent(f,o,g),g=!0);else if("auth"===a[t]||"googleauth"===a[t])s=void 0,P.options.qrCodeAuthentication&&(!(c||d||n||p||u||m)&&P.options.twoFactorAuthentication||l)&&(s=P.util.getButtonAttribute("googleauthenticator",C,function(){LoginRadiusDefaults.innerHTML=!1,E.showQRCode(r,f,h,y,C,v,T)}),P.util.addHTMLContent(f,s,g),g=!0);else if("pushnotification"===a[t])!function(){var e=!p&&!c&&!n&&!l&&!u&&!m&&P.options.twoFactorAuthentication;if(P.options.pushNotificationAuthentication&&(e||d)){let t=r.SecondFactorAuthentication.SecondFactorAuthenticationToken;var o=function(e){E.loginHandleToken(e,"",h,y,"",!0)},i=P.util.getButtonAttribute("pushnotification",C,function(e){P.util.disableResendOTPButton(e),!d&&r.SecondFactorAuthentication&&r.SecondFactorAuthentication.PushQRCode?((e=document.createElement("img")).type="image",e.src=r.SecondFactorAuthentication.PushQRCode,P.util.addHTMLContent(f,e,!1),P.$hooks.call("afterFormRender","login",f,C),LoginRadiusDefaults.innerHTML=!1):E.resendPushNotification(t,o,y),!d&&LoginRadiusDefaults.pingCount<=1&&t&&E.pingForPushNotification(t,o,y)});e&&d&&LoginRadiusDefaults.pingCount<=1&&t&&E.pingForPushNotification(t,o,y),P.util.addHTMLContent(f,i,g),g=!0}}();else if("duomfa"===a[t]){if(s=void 0,P.options.duoAuthentication&&(!l&&!d&&!n&&!p&&!c&&!m&&P.options.twoFactorAuthentication||u)){let t=r.SecondFactorAuthentication.DuoAuthEndpoint;var s=P.util.getButtonAttribute("duomfa",C,function(e){window.location.href=t});P.util.addHTMLContent(f,s,g),g=!0}}else"passkey"===a[t]&&!function(){let t=r.SecondFactorAuthentication.SecondFactorAuthenticationToken,e;P.options.passkeyAuthentication&&(!(l||d||n||p||c||u)&&P.options.twoFactorAuthentication||m)&&(e=P.util.getButtonAttribute("passkeyauthenticator",C),P.util.addHTMLContent(f,e,g),g=!0,P.util.addEvent("click",e,function(e){m?E.loginMFAPasskey(t,h,y):E.createMFAPasskey(t,h,y)}))}();(d||p||c||n||l||u||m)&&(e=P.util.getButtonAttribute("backupcodebutton",C),P.util.addHTMLContent(f,e,g),P.util.addEvent("click",e,function(e){var t,o,i,n,a;LoginRadiusDefaults.innerHTML=!1,t=h,o=y,i=C,n=v,a=T,E.createForm(P.backupCodeFormSchema,"backupcode",f,function(e){A.backupCodeController(e,t,o,n,a)},function(e){o(e)},i)})),P.util.addEvent("click",i,function(e){var t="phoneNo2FA="+r.SecondFactorAuthentication.OTPPhoneNo;LoginRadiusDefaults.innerHTML=!1,L=!1,(p||l||c||d||u||m||b)&&E.resendOTPManually(t,h,y,C,P.options.isVoiceOtp),r.phone=r.SecondFactorAuthentication.OTPPhoneNo,E.verifyOTP=S||E.verifyOTP,E.resendOTP=k||E.resendOTP,E.verifyOTP(r,f,h,y,C,v,T),E.resendOTP(r,f,h,y,C,P.options.isVoiceOtp,v,T)})},e=LoginRadiusDefaults.apiDomain+"/auth/login/2FA/",t=(P.options.verificationEmailTemplate=P.options.emailTemplate||P.options.verificationEmailTemplate,"post"),i=window.lrbackupcode?(e=e+"backupcode?apiKey="+P.options.apiKey+"&"+o,t="get",""):(e=e+"?apiKey="+P.options.apiKey+"&loginUrl="+P.options.loginUrl+"&emailTemplate="+P.options.verificationEmailTemplate+"&verificationUrl="+P.options.verificationUrl+"&smsTemplate="+P.options.smsTemplateWelcome+"&smsTemplate2FA="+P.options.smsTemplate2FA+"&EmailTemplate2FA="+P.options.EmailTemplate2FA,P.options.duoAuthentication&&(e=e+"&duoredirecturi="+encodeURIComponent(P.options.callbackUrl)),P.util.parseQueryString(o));P.util.ajaxCall(t,e,i,function(e){var t;P.options.stayLogin&&P.storage.setBrowserStorage("lr-rememberme",P.util.getQueryParameterByName("stayLogin",o)),e.ErrorCode?(P.options.phoneLogin&&"1066"==e.ErrorCode&&(t="phone="+P.util.getQueryParameterByName("phone",o),t+="&noPhoneVerified=false",P.options.optionalTwoFactorAuthentication=!1,P.options.twoFactorAuthentication=!1,E.verifyOTP=S||E.verifyOTP,E.resendOTP=k||E.resendOTP,E.verifyOTP(t,f,h,y,C,v,T),E.resendOTP(t,f,h,y,C,P.options.isVoiceOtp,v,T)),y(E.loginRadiusErrorTojsError(e))):(e.SecondFactorAuthentication?(P.storage.setBrowserStorage(LoginRadiusDefaults.storedTwoFAToken,e.SecondFactorAuthentication.SecondFactorAuthenticationToken),P.storage.setBrowserStorage(LoginRadiusDefaults.storedOTPAuth,e.SecondFactorAuthentication.IsOTPAuthenticatorVerified),"00000000-0000-0000-0000-000000000000"===e.access_token&&(R(e,e.SecondFactorAuthentication),delete e.access_token,h(e,o))):A.handleFeatures(e,o,T,v,h,y,C),P.lrApiFramework&&h(e))},"login")},A.resendOTPController=function(e,t,o,i,n){let a="";n&&(a="&isvoiceotp=true");var s=e.updatePhone?P.options.smsTemplateUpdatePhone:P.options.smsTemplatePhoneVerification,s=LoginRadiusDefaults.apiDomain+"/auth/phone/otp?apiKey="+P.options.apiKey+"&smsTemplate="+s+a;e.onetouchloginflag&&("string"!=typeof e&&(e=P.util.jsonToQueryString(e)),s=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/phone?apikey="+P.options.apiKey+"&"+e+"&smstemplate="+P.options.smsTemplatePhoneVerification+a),P.util.ajaxCall("post",s,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):(P.log(h.otpSent),t(e))},n?"resendvoiceotp":"resendOTP")},A.resendOTP2FAController=function(e,t,o,i,n){let a=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),s=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),r=n?"&isvoiceotp=true":"";s&&!P.LRCheckLogin?P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apiKey="+P.options.apiKey+"&access_token="+s+"&smsTemplate="+P.options.smsTemplate2FA+r,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):(P.log(h.otpSent),t(e))},n?"resendvoiceotp":"resendOTP"):a?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/resend?apiKey="+P.options.apiKey+"&SecondFactorAuthenticationToken="+a+"&smsTemplate2FA="+P.options.smsTemplate2FA+r,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):P.log(h.otpSent)},n?"resendvoiceotp":"resendOTP"):o([E.setMappedMessage(h.twofaTokenValid)])},A.verify2FAOTPController=function(t,o,i,n,a){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),s=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),r=!1,l=(t&&"string"==typeof t&&(r=-1!==t.indexOf("mfaEmailToken=true")),P.util.parseQueryString(t)),u=r?"twofaemailotp":"twofaotp",c="otp";r?(c="otp/email",l.emailid=l.email,delete l.email):"AuthenticatorCode"in l&&(c="authenticatorcode"),e&&!P.LRCheckLogin?P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2fa/verification/"+c+"?apiKey="+P.options.apiKey+"&access_token="+e,l,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,t)},"verifyOTP##"+u):s?(r="",P.options.riskBasedAuthentication&&(r=(r+="&RbaOneclickEmailTemplate="+P.options.rbaOneclickEmailTemplate+"&RbaOTPSmsTemplate="+P.options.rbaOTPSmsTemplate+"&RbaCityEmailTemplate="+P.options.rbaCityEmailTemplate+"&RbaCountryEmailTemplate="+P.options.rbaCountryEmailTemplate+"&RbaBrowserEmailTemplate="+P.options.rbaBrowserEmailTemplate+"&RbaIpEmailTemplate="+P.options.rbaIpEmailTemplate+"&RbaDeviceEmailTemplate="+P.options.rbaDeviceEmailTemplate+"&RbaCitySmsTemplate="+P.options.rbaCitySmsTemplate+"&RbaCountrySmsTemplate="+P.options.rbaCountrySmsTemplate)+"&RbaBrowserSmsTemplate="+P.options.rbaBrowserSmsTemplate+"&RbaIpSmsTemplate="+P.options.rbaIpSmsTemplate+"&RbaDeviceSmsTemplate="+P.options.rbaDeviceSmsTemplate),"otp"===c&&(r+="&smsTemplate2FA="+P.options.smsTemplate2FAWelcome),P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/verification/"+c+"?apiKey="+P.options.apiKey+"&SecondFactorAuthenticationToken="+s+r,l,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):A.handleFeatures(e,t,a,n,o,i)},"verifyOTP##"+(u="authenticatorcode"===c?"showqrcode":u))):i([E.setMappedMessage(h.twofaTokenValid)])},A.backupCodeController=function(t,o,i,n,a){var e,s,r=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken);r?(e=P.util.parseQueryString(t),s="",P.options.riskBasedAuthentication&&(s=(s+="&RbaOneclickEmailTemplate="+P.options.rbaOneclickEmailTemplate+"&RbaOTPSmsTemplate="+P.options.rbaOTPSmsTemplate+"&RbaCityEmailTemplate="+P.options.rbaCityEmailTemplate+"&RbaCountryEmailTemplate="+P.options.rbaCountryEmailTemplate+"&RbaBrowserEmailTemplate="+P.options.rbaBrowserEmailTemplate+"&RbaIpEmailTemplate="+P.options.rbaIpEmailTemplate+"&RbaDeviceEmailTemplate="+P.options.rbaDeviceEmailTemplate+"&RbaCitySmsTemplate="+P.options.rbaCitySmsTemplate+"&RbaCountrySmsTemplate="+P.options.rbaCountrySmsTemplate)+"&RbaBrowserSmsTemplate="+P.options.rbaBrowserSmsTemplate+"&RbaIpSmsTemplate="+P.options.rbaIpSmsTemplate+"&RbaDeviceSmsTemplate="+P.options.rbaDeviceSmsTemplate),P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/verification/backupcode?apiKey="+P.options.apiKey+"&SecondFactorAuthenticationToken="+r+"&smsTemplate2FA="+P.options.smsTemplate2FAWelcome+s,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):A.handleFeatures(e,t,a,n,o,i)},"login")):i([E.setMappedMessage(h.twofaTokenValid)])},A.passkeyLoginController=function(e,t,o,i,n,a,s){var r=P.util.parseQueryString(e),l=(P.options.verificationEmailTemplate=P.options.emailTemplate||P.options.verificationEmailTemplate,"emailTemplate="+P.options.verificationEmailTemplate+"&verificationUrl="+P.options.verificationUrl);let u="";u=r.autofill?LoginRadiusDefaults.apiDomain+"/auth/login/passkey/autofill/begin?apiKey="+P.options.apiKey:LoginRadiusDefaults.apiDomain+"/auth/login/passkey/begin?apiKey="+P.options.apiKey+"&identifier="+r.email+"&"+l,P.util.ajaxCall("get",u,{},function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):P.util.getPassKeyCredentials(e.LoginBeginCredential,r.autofill).then(e=>{A.passkeyFinishController(e,l,r,t,o,i,n,a,s)}).catch(e=>{i(E.loginRadiusErrorTojsError(e))})})},A.passkeyFinishController=function(e,t,o,i,n,a,s,r,l){var u=e.response.authenticatorData,c=e.response.clientDataJSON,p=e.rawId,d=e.response.signature,m=e.response.userHandle,p={email:o.email,PasskeyCredential:{id:e.id,rawId:P.util.base64UrlEncode(p),type:e.type,authenticatorAttachment:e.authenticatorAttachment,response:{authenticatorData:P.util.base64UrlEncode(u),clientDataJSON:P.util.base64UrlEncode(c),signature:P.util.base64UrlEncode(d),userHandle:P.util.base64UrlEncode(m)}}};P.options.riskBasedAuthentication&&(t=(t+="&RbaOneclickEmailTemplate="+P.options.rbaOneclickEmailTemplate+"&RbaOTPSmsTemplate="+P.options.rbaOTPSmsTemplate+"&RbaCityEmailTemplate="+P.options.rbaCityEmailTemplate+"&RbaCountryEmailTemplate="+P.options.rbaCountryEmailTemplate+"&RbaBrowserEmailTemplate="+P.options.rbaBrowserEmailTemplate+"&RbaIpEmailTemplate="+P.options.rbaIpEmailTemplate+"&RbaDeviceEmailTemplate="+P.options.rbaDeviceEmailTemplate+"&RbaCitySmsTemplate="+P.options.rbaCitySmsTemplate+"&RbaCountrySmsTemplate="+P.options.rbaCountrySmsTemplate)+"&RbaBrowserSmsTemplate="+P.options.rbaBrowserSmsTemplate+"&RbaIpSmsTemplate="+P.options.rbaIpSmsTemplate+"&RbaDeviceSmsTemplate="+P.options.rbaDeviceSmsTemplate);let g=LoginRadiusDefaults.apiDomain+"/auth/login/passkey/finish?apiKey="+P.options.apiKey+"&loginUrl="+P.options.loginUrl+"&"+t;o.autofill&&(g=LoginRadiusDefaults.apiDomain+"/auth/login/passkey/autofill/finish?apiKey="+P.options.apiKey+"&loginUrl="+P.options.loginUrl),P.util.ajaxCall("post",g,p,function(e){P.options.stayLogin&&P.storage.setBrowserStorage("lr-rememberme",o.stayLogin),e.ErrorCode?("970"!=e.ErrorCode||P.options.verifyEmailByOTP||E.otpEmailVerification(i,n,a,l,o),a(E.loginRadiusErrorTojsError(e))):A.handleFeatures(e,o,r,s,n,a,l)},"login")},A.passkeyRegistrationController=function(n,a,s,r,l,i){var e=P.util.getQueryParameterByName("email",n);P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/register/passkey/begin?apiKey="+P.options.apiKey+"&identifier="+e,n,function(e){e.ErrorCode?r(E.loginRadiusErrorTojsError(e)):P.util.createPassKeyCredentials(e.RegisterBeginCredential).then(e=>{let t={};(t=P.lrApiFramework?t:E.mapRegistrationSchema(i,n)).PasskeyCredential={id:e.id,rawId:P.util.base64UrlEncode(e.rawId),type:e.type,response:{attestationObject:P.util.base64UrlEncode(e.response.attestationObject),clientDataJSON:P.util.base64UrlEncode(e.response.clientDataJSON)}};var e=P.options.welcomeEmailTemplate,o=P.util.getHashParam("welcomeemailtemplate"),o="emailTemplate="+P.options.verificationEmailTemplate+"&verificationUrl="+P.options.verificationUrl+"&welcomeEmailTemplate="+(e=o?o:e),e=(P.options.preventVerificationEmail&&(o+="&options=PreventVerificationEmail"),LoginRadiusDefaults.apiDomain+"/auth/register/passkey/finish?apiKey="+P.options.apiKey+"&"+o);P.util.ajaxCall("post",e,t,function(o){let i=P.util.parseQueryString(n);(o=o&&P.util.isObject(o)?P.util.keyslowerToUpperCamelCase(o):o).ErrorCode?r(E.loginRadiusErrorTojsError(o)):P.options.disabledEmailVerification||P.options.optionalEmailVerification?(o.Data&&(delete(o=o.Data).Data,delete o.IsPosted),P.options.askRequiredFieldForTraditionalLogin=!1,!P.options.disabledEmailVerification&&E.showOTPTemplateForm("Registration")?(P.$hooks.register("beforeFormRender",function(e,t){"otp"!==e||P.util.findInSchema(t,"name","skip")||t.push({type:"button",name:"skip",display:"Skip",rules:"",permission:"r",event:"click",eventCallback:function(e){E.loginHandleToken(o,i,s,r)}})}),E.otpEmailVerification(a,function(e){e.access_token||E.loginHandleToken(o,n,s,r)},r,l,i)):E.loginHandleToken(o,n,s,r)):(s(o,i),E.showOTPTemplateForm("Registration")&&E.otpEmailVerification(a,s,r,l,i))},"registration")}).catch(e=>{r(E.loginRadiusErrorTojsError(e))})},"passkeyRegister")},A.checkPhoneNumberAvailabilityController=function(e,t,o){P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/phone?apiKey="+P.options.apiKey+"&"+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"checkPhone")},A.update2FAPhoneNumberController=function(t,o,i,n,a,s,r,l,u){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),c=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);c&&!P.LRCheckLogin?P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apiKey="+P.options.apiKey+"&access_token="+c+"&smsTemplate="+P.options.smsTemplate2FA,t,function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(E.verifyOTP=l||E.verifyOTP,E.resendOTP=u||E.resendOTP,E.verifyOTP(t,o,i,n,a,s,r),E.resendOTP(t,o,i,n,a,P.options.isVoiceOtp,s,r),i(e,t))},"updatePhone"):e?P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/?apiKey="+P.options.apiKey+"&SecondFactorAuthenticationToken="+e+"&smsTemplate2FA="+P.options.smsTemplate2FA,t,function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(i(e,t),E.verifyOTP=l||E.verifyOTP,E.resendOTP=u||E.resendOTP,E.verifyOTP(t,o,i,n,a,s,r),E.resendOTP(t,o,i,n,a,P.options.isVoiceOtp,s,r))},"login"):n([E.setMappedMessage(h.twofaTokenValid)])},A.updatePhoneNumberController=function(t,o,i,n,a,s,r,l,u){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);E.isValidToken(e,n)&&P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/phone?apiKey="+P.options.apiKey+"&access_token="+e+"&smsTemplate="+P.options.smsTemplateUpdatePhone,t,function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(E.verifyOTP=l||E.verifyOTP,E.resendOTP=u||E.resendOTP,E.verifyOTP(t+"&haveToken=true",o,i,n,a,s,r),E.resendOTP(t+"&updatePhone=true",o,i,n,a,P.options.isVoiceOtp,s,r,!0),i(e,t))},"updatePhone")},A.resetPasswordByPhoneController=function(t,o,i,e,n){P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/otp?apiKey="+P.options.apiKey+"&smsTemplate="+P.options.smsTemplateWelcome,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):P.options.loginOnPasswordReset&&e.Data&&e.Data.access_token?E.loginHandleToken(e.Data,"",o,i):o(e,t)},"resetPassword")},A.resetPINByPhoneController=function(t,o,i,e,n){P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/pin/reset/otp/phone?apiKey="+P.options.apiKey+"&smsTemplate="+P.options.smsTemplateWelcome,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,t)},"resetPIN")},A.forgotPasswordbyPhoneController=function(t,o,i,n,a,e,s){let r=e?"&isvoiceotp=true":"";P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/password/otp?apiKey="+P.options.apiKey+"&smsTemplate="+P.options.smsTemplateForgot+r,t,function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(i(e,t),(s||E.resetPassword)(o,i,n,a))},"forgotPassword")},A.forgotPINbyPhoneController=function(t,o,i,n,a,e,s){let r=e?"&isvoiceotp=true":"";P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/pin/forgot/otp?apiKey="+P.options.apiKey+"&smsTemplate="+P.options.smsTemplateForgot+r,t,function(e){e.ErrorCode?n(E.loginRadiusErrorTojsError(e)):(i(e,t),(s||E.resetPIN)(o,i,n,a))},"forgotPIN")},A.registrationController=function(i,n,a,s,r,e,l,u){P.LRCheckRegistration=!0;var t=i,e=(P.lrApiFramework||(t=E.mapRegistrationSchema(e,i)),P.options.welcomeEmailTemplate),o=P.util.getHashParam("welcomeemailtemplate"),o="emailTemplate="+P.options.verificationEmailTemplate+"&verificationUrl="+P.options.verificationUrl+"&welcomeEmailTemplate="+(e=o?o:e),e=(P.options.phoneLogin&&(o+="&smsTemplate="+P.options.smsTemplatePhoneVerification),P.options.preventVerificationEmail&&(o+="&options=PreventVerificationEmail"),P.util.getHashParam("invitation")),c="",e=((c=e&&P.options.isB2BEnabled?e.trim():c)&&(o+="&invitation="+c),"");P.options.isCaptchaEnabled||P.options.v2Recaptcha||P.options.invisibleRecaptcha||P.options.tencentCaptcha?e=LoginRadiusDefaults.apiDomain+"/auth/register/captcha?apiKey="+P.options.apiKey+"&"+o:P.options.sott?(e=LoginRadiusDefaults.apiDomain+"/auth/register?apiKey="+P.options.apiKey+"&"+o,P.options.enableHeaderSott?(P.options.sott=decodeURIComponent(P.options.sott),t.sottcheck=!0):e+="&sott="+P.util.encodedString(P.options.sott)):P.options.vNextUX?P.log("SOTT commonOption is missing in configuration. You can use a static SOTT generated from Admin Console or create it at run-time using the API. For more details on SOTT generation, please refer to https://www.loginradius.com/docs/api/v2/customer-identity-api/sott-usage/."):P.log("url is not set as sott option is not defined"),""!==e&&P.util.ajaxCall("post",e,t,function(t){var o,e;(t=t&&P.util.isObject(t)?P.util.keyslowerToUpperCamelCase(t):t).ErrorCode?1049===t.ErrorCode?(P.options.vNextUX&&(h.invalidSott="An error occurred, please refresh the page to proceed with registration."),s([E.setMappedMessage(h.invalidSott)]),P.log(t.Description)):s(E.loginRadiusErrorTojsError(t)):(o=function(e){e.push({type:"button",name:"skip",display:"Skip",rules:"",permission:"r",event:"click",eventCallback:function(e){E.loginHandleToken(t,i,a,s)}})},P.options.phoneLogin&&("string"==typeof i||i instanceof String)&&-1!==i.indexOf("phoneid")?(-1===P.util.findInSchema(P.registrationFormSchema,"name","phoneid").rules.indexOf("required")&&P.$hooks.register("beforeFormRender",function(e,t){"otp"!==e||P.util.findInSchema(t,"name","skip")||o(t)}),E.verifyOTP=l||E.verifyOTP,E.resendOTP=u||E.resendOTP,E.verifyOTP(i,n,a,s,r),E.resendOTP(i,n,a,s,r,P.options.isVoiceOtp)):(e=P.util.parseQueryString(i),P.options.disabledEmailVerification||P.options.optionalEmailVerification||c?(t.Data&&(delete(t=t.Data).Data,delete t.IsPosted),P.options.askRequiredFieldForTraditionalLogin=!1,!P.options.disabledEmailVerification&&E.showOTPTemplateForm("Registration")?(P.$hooks.register("beforeFormRender",function(e,t){"otp"!==e||P.util.findInSchema(t,"name","skip")||o(t)}),E.otpEmailVerification(n,function(e){e.access_token||E.loginHandleToken(t,i,a,s)},s,r,e)):E.loginHandleToken(t,i,a,s)):(a(t,e),E.showOTPTemplateForm("Registration")&&E.otpEmailVerification(n,a,s,r,e))))},"registration")},A.periodicalPasswordRestController=function(e,t,o,i,n,a){P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/change?apiKey="+P.options.apiKey+"&access_token="+n.access_token,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):E.loginHandleToken(n,a,t,o)},"periodicPassword")},A.changePasswordController=function(t,o,i){P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/change?apiKey="+P.options.apiKey+"&access_token="+P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,P.util.parseQueryString(t))},"changePassword")},A.changePINController=function(t,o,i){P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/pin/change?apiKey="+P.options.apiKey+"&access_token="+P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,P.util.parseQueryString(t))},"changePIN")},A.resendEmailVerificationController=function(t,o,i){P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/register?apiKey="+P.options.apiKey+"&verificationUrl="+P.options.verificationUrl+"&emailTemplate="+P.options.verificationEmailTemplate,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(o(e,P.util.parseQueryString(t)),E.showOTPTemplateForm("Registration")&&P.currentLRContainer&&E.otpEmailVerification(P.currentLRContainer,o,i,"",t))},"resendVerificationEmail")},A.addEmailController=function(t,o,i){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);E.isValidToken(e,i)&&P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+P.options.apiKey+"&access_token="+e+"&verificationUrl="+P.options.verificationUrl+"&emailTemplate="+P.options.addEmailTemplate,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(o(e,P.util.parseQueryString(t)),E.showOTPTemplateForm("AddEmail")&&E.otpEmailVerification(P.currentLRContainer,o,i,"",t))},"addEmail")},A.removeEmailController=function(t,o,i){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);E.isValidToken(e,i)&&P.util.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+P.options.apiKey+"&access_token="+e,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,P.util.parseQueryString(t))},"removeEmail")},A.changeUsernameController=function(t,o,i){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);E.isValidToken(e,i)&&P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/username?apiKey="+P.options.apiKey+"&access_token="+e,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,P.util.parseQueryString(t))},"changeUsername")},A.resetPasswordController=function(t,o,i,e,n){t+="&welcomeEmailTemplate="+P.options.welcomeEmailTemplate+"&ResetPasswordEmailTemplate="+P.options.resetPasswordConfirmationEmailTemplate,P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/reset?apiKey="+P.options.apiKey,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):P.options.loginOnPasswordReset&&e.Data&&e.Data.access_token?E.loginHandleToken(e.Data,"",o,i):o(e,P.util.parseQueryString(t))},"resetPassword")},A.duoVerifyController=function(e,t,o,i,n){var a=LoginRadiusDefaults.apiDomain+"/auth/login/2fa/verification/duo?apiKey="+P.options.apiKey+"&SecondFactorAuthenticationToken="+P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken);P.util.ajaxCall("put",a,e,function(e){P.duoLoginFlag=!1,e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):E.loginHandleToken(e,"",t,o)},"login")},A.duoVerifyByAccessTokenController=function(e,t,o,i,n){var a=LoginRadiusDefaults.apiDomain+"/auth/account/2fa/verification/duo?apiKey="+P.options.apiKey+"&access_token="+P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);P.util.ajaxCall("put",a,e,function(e){P.duoLoginFlag=!1,e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"duoVerifyByAccessToken")},A.resetPINController=function(t,o,i,e,n){var a=P.util.parseQueryString(t),s="";s=a.hasOwnProperty("resettoken")?LoginRadiusDefaults.apiDomain+"/auth/pin/reset/token?apiKey="+P.options.apiKey:(a=a.hasOwnProperty("username")?"username":"email",LoginRadiusDefaults.apiDomain+"/auth/pin/reset/otp/"+a+"?apiKey="+P.options.apiKey),t+="&welcomeEmailTemplate="+P.options.welcomeEmailTemplate+"&ResetPINEmailTemplate="+P.options.resetPINConfirmationEmailTemplate,P.util.ajaxCall("put",s,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,P.util.parseQueryString(t))},"resetPIN")},A.emailVerificationController=function(e,t,o,i,n,a){var s,r,l,u="get";e?(s=LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+P.options.apiKey+"&welcomeEmailTemplate="+P.options.welcomeEmailTemplate,r="",a?(u="put",r=e):s+="&verificationtoken="+e+"&url="+P.options.verificationUrl,(l="##otp")===(l=P.options.verifyEmailByOTP?"":l)&&(P.currentActionOptions||(P.currentActionOptions={}),P.currentActionOptions.otp={},P.currentActionOptions.otp.onSuccess=t||function(){},P.currentActionOptions.otp.onError=o||function(){},P.currentActionOptions.otp.classPrefix=n||""),("string"!=typeof e&&e.oneClickSignIn||"string"==typeof e&&-1!==e.indexOf("oneClickSignIn=true"))&&P.options.templateVerificationTypes&&"OTP"===P.options.templateVerificationTypes.OneClickSignin?E.passwordlessLoginVerification(e,t,o,n,!0):P.util.ajaxCall(u,s,r,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):P.options.loginOnEmailVerification?null==e.Data?t(e):e.Data&&e.Data.access_token?E.loginHandleToken(e.Data,"",t,o):e.Data&&t(e):P.options.logoutOnVerifyEmail?E.logout(t(e)):t(e)},"verifyEmail"+l)):o(a?[h.notFound]:[h.vTokenError])},A.deleteUserConfirmController=function(e,t,o){e?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/delete?apiKey="+P.options.apiKey+"&deletetoken="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"deleteUserConfirm"):o([h.vTokenError])},A.checkEmailAvailabilityController=function(e,t,o){P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+P.options.apiKey+"&"+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"checkEmail")},A.checkUserNameAvailabilityController=function(e,t,o){P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/username?apiKey="+P.options.apiKey+"&"+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"checkUsername")},A.resetPasswordBySecurityQuestionController=function(t,o,i){var e=E.sanitizeSecurityQuesData(t);P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/securityanswer/?apikey="+P.options.apiKey,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):P.options.loginOnPasswordReset&&e.Data&&e.Data.access_token?E.loginHandleToken(e.Data,"",o,i):o(e,t)},"resetPasswordBySecurityQuestion")},A.resetPINBySecurityQuestionController=function(t,o,i){var e=E.sanitizeSecurityQuesData(t),n=e.hasOwnProperty("email")?"email":e.hasOwnProperty("phone")?"phone":"username";P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/pin/reset/securityanswer/"+n+"?apikey="+P.options.apiKey,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,t)},"resetPINBySecurityQuestion")},A.getSecurityQuestionsController=function(e,t,o){var i="/auth/securityquestion/";-1!==e.indexOf("username")?i+="username?apiKey=":-1!==e.indexOf("phone")?i+="phone?apiKey=":i+="email?apiKey=",P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+i+P.options.apiKey+"&"+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(function(e){for(var t=[],o=0;o<e.length;o++){var i={};P.options.maskSensitiveInput?i.type="password":i.type="string",i.name=e[o].QuestionId,i.display=e[o].Question,i.rules="required",i.permission="r",t.push(i)}return t}(e))},"securityQuestion")},A.getBackupCodeController=function(e,t,o){e?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA/backupcode?apikey="+P.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"backupCode"):o([E.setMappedMessage(h.twofaTokenValid)])},A.resetBackupCodeController=function(e,t,o){e?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA/backupcode/reset?apikey="+P.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"backupCode"):o([E.setMappedMessage(h.twofaTokenValid)])},A.getSocialDataController=function(e,t,o,i,n){e?(i+="?access_token="+e,P.util.ajaxCall("get",LoginRadiusDefaults.socialApiDomain+(i=n?i+"&"+n:i),"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"socialAPI")):o([E.setMappedMessage(h.twofaTokenValid)])},A.postSocialDataController=function(e,t,o,i,n,a){e?(i+="?access_token="+e,P.util.ajaxCall("post",LoginRadiusDefaults.socialApiDomain+(i=n?i+"&"+n:i),a,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"socialAPI")):o([E.setMappedMessage(h.twofaTokenValid)])},A.createCustomObjectController=function(e,t,o,i){e?P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/customobject?apiKey="+P.options.apiKey+"&access_token="+e+"&objectname="+P.options.customObjectName,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e)},"createCustomObject"):i([E.setMappedMessage(h.twofaTokenValid)])},A.getCustomObjectByIdController=function(e,t,o,i){n("get",e,t,o,i)},A.getCustomObjectsController=function(e,t,o){e?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/customobject?apiKey="+P.options.apiKey+"&access_token="+e+"&objectname="+P.options.customObjectName,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"getCustomObject"):o([E.setMappedMessage(h.twofaTokenValid)])},A.updateCustomObjectController=function(e,t,o,i,n,a){e?P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/customobject/"+t+"?apiKey="+P.options.apiKey+"&access_token="+e+"&objectname="+P.options.customObjectName+(i?"&updatetype="+i:""),o,function(e){e.ErrorCode?a(E.loginRadiusErrorTojsError(e)):n(e)},"updateCustomObject"):a([E.setMappedMessage(h.twofaTokenValid)])},A.deleteCustomObjectController=function(e,t,o,i){n("delete",e,t,o,i)},A.updateData=function(e,r,l,u,c,p,d,t,o){var m=e.Profile||e.Data,g=l,f=(P.lrApiFramework||(g=E.mapRegistrationSchema(d,l,m)),P.options.isPINAuthentication&&!P.options.PINConfiguration.AskOnRegistration&&(g=E.sanitizePinData(g)),e.access_token);o=o||P.setHostedToken,t=t||"updateData",P.options.verificationEmailTemplate=P.options.emailTemplate||P.options.verificationEmailTemplate,0<Object.keys(g).length?P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+P.options.apiKey+"&access_token="+f+"&verificationUrl="+P.options.verificationUrl+"&emailTemplate="+P.options.verificationEmailTemplate,g,function(s){s.ErrorCode?c(E.loginRadiusErrorTojsError(s)):function(e){var t=g.emailid||g.email,o=g.phone||g.phoneid,i=P.util.findInSchema(d,"name","phoneid"),i=i&&-1!==i.rules.indexOf("required"),n=P.util.findInSchema(d,"name","emailid"),n=n&&-1!==n.rules.indexOf("required"),a=(P.storage.setBrowserStorage(LoginRadiusDefaults.storedUidName,m.Uid),P.util.parseQueryString(window.location.search.replace("?","")));(void 0===o||o)&&m.PhoneIdVerified&&void 0===t||(void 0===t||t)&&m.EmailVerified&&void 0===o||(o&&!i||void 0===o)&&(P.options.disabledEmailVerification||P.options.optionalEmailVerification)?t&&!m.EmailVerified&&a.return_url&&-1!==a.return_url.toLowerCase().indexOf("/saml/")?c([E.setMappedMessage(h.emailNotVerified)]):(delete s.IsPosted,s.access_token=f,e(),LoginRadiusDefaults.isSSOInitFired&&E.setToken(f)):o&&m&&!m.PhoneIdVerified?((i=new SetLoginRadiusCommonFunctions(P)).verifyOTP(l,r,u,c,p),i.resendOTP(l+"&noPhoneVerified=false",r,u,c,p),P.options.isVoiceOtp&&i.resendOTP(l+"&noPhoneVerified=false",r,u,c,p,!0)):!t||!n||m.EmailVerified||P.options.disabledEmailVerification||P.options.optionalEmailVerification?e():c([E.setMappedMessage(h.emailNotVerified)])}(o?function(){e.Data=e.Profile,delete e.Profile,s.Data&&(e.Data=s.Data),E.loginHandleToken(e,l,u,c)}:function(){s.Data&&(s.Profile=s.Data,delete s.Data,delete s.IsPosted),s.access_token?E.loginHandleToken(s,l,u,c):u(s,P.util.parseQueryString(l))})},t):E.loginHandleToken(e,l,u,c)},A.oneTouchLoginController=function(t,s,o,i,r,e,n,a){function l(o,e,i,t,n,a){E.createForm(P.registrationFormSchema,"loginRequiredFieldsUpdate",s,function(e){var t={};t.Profile=o,t.access_token=i,A.updateData(t,s,e,n,a,r,P.registrationFormSchema,"login",!0)},function(e){a(E.setMappedMessage(e))})}var u,c,p=P.util.checkPhoneOrEmailLogin(t),d=p&&"string"!=typeof p?p:P.util.parseQueryString(p),e=(e||P.log("Captcha should be enabled for one touch login"),"");d.phone?(c=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/phone?apikey="+P.options.apiKey+"&smstemplate="+P.options.smsTemplateOneTouchLogin,e=Object.assign({},d),P.util.ajaxCall("POST",c,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(o(e,t),E.verifyOTP=n||E.verifyOTP,E.resendOTP=a||E.resendOTP,E.verifyOTP(p+"&onetouchloginflag=true",s,o,i,r,"",l),E.resendOTP(p+"&onetouchloginflag=true",s,o,i,r,P.options.isVoiceOtp,"",l))},"oneTouchLogin")):(u=P.util.randomString(16),c=P.options.noRegistrationEmailTemplate||P.options.onetouchLoginEmailTemplate,c=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/email?apikey="+P.options.apiKey+"&onetouchloginemailtemplate="+c+"&welcomeemailtemplate="+P.options.welcomeEmailTemplate+"&redirectUrl="+P.options.onetouchLoginRedirectUrl,e=Object.assign({},d,{clientGuid:u}),P.util.ajaxCall("POST",c,e,function(e){var t;e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):e.IsPosted&&(o(e),t=function(e){P.options.askRequiredFieldsOnPasswordLessLogin?(LoginRadiusDefaults.autoFilledFieldforPasswordLesLogin=!0,A.handleFeatures(e,p,l,"",o,i)):E.loginHandleToken(e,"",o,i,"",!0)},E.showOTPTemplateForm("NoRegistrationPasswordlessLogin")?(d.onetouchlogin=!0,E.otpEmailVerification(s,function(){E.pingForSmartLogin(u,t,i)},i,r,d)):E.pingForSmartLogin(u,t,i))},"oneTouchLogin"))},A.smartLoginController=function(e,t,o){var i=P.util.randomString(16),n=P.options.autoLoginRedirectUrl||P.options.smartLoginRedirectUrl,a=P.options.autoLoginEmailTemplate||P.options.smartLoginEmailTemplate;P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/smartlogin?apikey="+P.options.apiKey+"&"+e+"&clientGuid="+i+"&smartloginemailtemplate="+a+"&welcomeemailtemplate="+P.options.welcomeEmailTemplate+"&redirectUrl="+n,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):e.IsPosted&&(t(e),E.pingForSmartLogin(i,function(e){E.loginHandleToken(e,"",t,o)},o))},"smartLogin")},A.verifyInstantOTP=function(t,e,o,i,n,a,s){e="phone="+e.phone+"&"+t;P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp/verify?apiKey="+P.options.apiKey+"&smsTemplate="+P.options.smsTemplateWelcome,e,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):E.loginHandleToken(e,t,o,i)},"login##otp")},A.socialLoginReceiveToken=function(s,r,l,u,c,p,e,t){P.currentLRContainer=r,P.options.verificationEmailTemplate=P.options.emailTemplate||P.options.verificationEmailTemplate,P.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,s);var d,m;function o(e){var t,o,i,n,a;P.LRCheckLogin=!0,e.IsDeleted?u([E.setMappedMessage(h.blockedUser)]):((t={}).Profile=e,t.access_token=s,E.setPasswordRule(P.util.findInSchema(m,"name","password")),E.setPasswordRule(P.util.findInSchema(m,"name","confirmpassword")),o=!1,P.options.autoFilledFieldForSocial&&(o=!0,P.$hooks.register("beforeFormRender",function(e,t){"socialRegistration"===e&&((e=P.util.findInSchema(t,"name","emailid"))&&e.value&&(e.disabled=!0),e=P.util.findInSchema(t,"name","phoneid"))&&e.value&&(e.disabled=!0)})),P.registrationFormSchema=E.mapSchema(m,e,o),P.$hooks.call("registrationSchemaFilter",m,e),o=P.storage.getBrowserStorage("LRTraditionalLogin"),P.storage.removeBrowserStorage("LRTraditionalLogin"),0<P.registrationFormSchema.length&&!o?r?(P.$hooks.call("socialLoginFormRender"),E.createForm(P.registrationFormSchema,"socialRegistration",r,function(e){A.updateData(t,r,e,l,u,c,P.registrationFormSchema,"socialLogin")},function(e){u(e)},c)):p(s,P.registrationFormSchema,e):(i=(o=(o=P.util.findInSchema(d,"name","phoneid"))&&-1!==o.rules.indexOf("required"))?!!e.PhoneIdVerified:e.PhoneIdVerified,a=(n=(n=P.util.findInSchema(d,"name","emailid"))&&-1!==n.rules.indexOf("required"))?!!e.EmailVerified:e.EmailVerified,(!i&&o||!a&&n)&&(!i&&o||!P.options.disabledEmailVerification&&!P.options.optionalEmailVerification)?null==e.Email||e.EmailVerified?(a={phone:e.PhoneId},u([E.setMappedMessage(h.phoneNotVerified)],a),A.resendOTPController(a,function(){P.socialLoginFlag=!0,E.verifyOTP("phone="+e.PhoneId,r,l,u,c),E.resendOTP("phone="+e.PhoneId+"&noPhoneVerified=false",r,l,u,c,P.options.isVoiceOtp)},u,c)):u([E.setMappedMessage(h.emailNotVerified)]):(P.storage.setBrowserStorage(LoginRadiusDefaults.storedUidName,e.Uid),LoginRadiusDefaults.isSSOInitFired&&E.setToken(s),E.loginHandleToken(t,"",l,u))))}e=e&&0<e.length?e:P.options.RegistrationFormSchema,d=e,m=JSON.parse(JSON.stringify(d)),t?o(t):P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+P.options.apiKey+"&access_token="+s+"&verificationUrl="+P.options.verificationUrl+"&emailTemplate="+P.options.verificationEmailTemplate+"&welcomeEmailTemplate="+P.options.welcomeEmailTemplate,"",function(e){var t;e.ErrorCode?(P.storage.removeBrowserStorage(LoginRadiusDefaults.storedOrganization),P.storage.removeBrowserStorage(LoginRadiusDefaults.storedTokenName),u(E.loginRadiusErrorTojsError(e)),P.options.sendVerificationEmailForUnverifiedSocialLogin&&1026===e.ErrorCode&&(t=P.util.getButtonAttribute("sendverificationemail",c,()=>{A.sendVerificaionEmailForSocialController(s,r,l,u)})).childNodes&&t.childNodes[0].id&&(document.getElementById(t.childNodes[0].id)||(P.util.addHTMLContent(r,t,!1),P.$hooks.call("socialLoginFormRender")))):o(e)},"socialLogin")},A.accountLinkingReceiveToken=function(e,t,o){P.options.noCallbackForSocialLogin||P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/socialidentity?apiKey="+P.options.apiKey+"&access_token="+P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),"candidatetoken="+e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"linkAccount")},A.validateToken=function(e,t,o){e?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/access_token/Validate?apikey="+P.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"validateToken"):o([E.setMappedMessage(h.twofaTokenValid)])},A.invalidateToken=function(e,t,o){e?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/access_token/InValidate?apikey="+P.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"invalidateToken"):o([E.setMappedMessage(h.twofaTokenValid)])},A.updatePrivacyPolicy=function(o,i,n,a,s,r,l){P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/privacypolicy/accept?apikey="+P.options.apiKey+"&access_token="+o,"",function(e){var t;e.ErrorCode?a(E.loginRadiusErrorTojsError(e)):(s?t=e:((t=i.Data||{}).access_token=o,t.Profile=e,t.Profile=Object.assign({},t.Profile,{IsLatestPrivacyPolicy:!0})),t.Profile&&("email"===t.Profile.RegistrationProvider.toLowerCase()?E.loginHandleToken(t,"",n,a):A.socialLoginReceiveToken(o,r,n,a,l)))},"updatePrivacyPolicy")},A.configurePINController=function(e,t,o,i,n,a){P.util.ajaxCall("POST",LoginRadiusDefaults.apiDomain+"/auth/pin/set/pinauthtoken?apikey="+P.options.apiKey+"&pinauthtoken="+e,t,function(e){e&&e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):e&&e.Profile&&("email"===e.Profile.RegistrationProvider.toLowerCase()?E.loginHandleToken(e,"",o,i):A.socialLoginReceiveToken(e.access_token,n,o,i,a))},"pinSetup")},A.pinReauthController=function(e,t,o,i){var n=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);n&&P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/reauth/pin?apiKey="+P.options.apiKey+"&access_token="+n,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"pinreauthentication")},A.customEventConsentController=function(e,t,o,i){var n=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);n&&P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/consent/profile?apiKey="+P.options.apiKey+"&access_token="+n,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"customeventconsent")},A.submitConsentController=function(e,t,o,i,s,r,n){e&&P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/consent/?apiKey="+P.options.apiKey+"&consenttoken="+e,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):e&&e.Profile&&("email"===e.Profile.RegistrationProvider.toLowerCase()?A.handleFeatures(e,"",function(o,e,i,t,n,a){E.createForm(P.registrationFormSchema,"loginRequiredFieldsUpdate",s,function(e){var t={};t.Profile=o,t.access_token=i,A.updateData(t,s,e,n,a,r,P.registrationFormSchema,"login",!0)},function(e){a(E.setMappedMessage(e))})},"",o,i,r):A.socialLoginReceiveToken(e.access_token,s,o,i,r,"","",e.Profile))},n=n||"submitconsent")},A.verifyConsentController=function(e,t,o){var i=e.isCustom||!1,n=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);n&&P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/consent/verify?apiKey="+P.options.apiKey+"&access_token="+n+"&event="+e.event+"&isCustom="+i,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"verifyconsent")},A.consentLogsController=function(t,o){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);e&&P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/consent/logs?apiKey="+P.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"cosentlogs")},A.updateConsentController=function(e,t,o){var i=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);i&&P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/consent/?apiKey="+P.options.apiKey+"&access_token="+i,e,function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"updateconsent")},A.sendMFAEmailOTPController=function(t,o,i,n,a,s){var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),r=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);r&&!P.LRCheckLogin?P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2fa/otp/email?apiKey="+P.options.apiKey+"&access_token="+r+"&EmailId="+t.EmailId+"&EmailTemplate2FA="+P.options.EmailTemplate2FA,"",function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(s||(t.mfaEmailToken=!0,E.verifyOTP(t,n,o,i,a)),o(e,t))},"sendMFAEmailOTP"):e?P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/otp/email?apiKey="+P.options.apiKey+"&secondfactorauthenticationtoken="+e+"&EmailTemplate2FA="+P.options.EmailTemplate2FA,t,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(s||(t.mfaEmailToken=!0,E.verifyOTP(t,n,o,i,a)),o(e,t))},"sendMFAEmailOTP"):i([E.setMappedMessage(h.twofaTokenValid)])},A.submitMFASecurityQuestionsController=function(t,o,i,n,a){for(var e=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),s=P.util.parseQueryString(t),r=[],l=0;l<P.options.securityQuestionsCount;l++)r.push({QuestionId:s["securityQuestion"+l],Answer:s["securityAnswer"+l]});P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/securityquestionanswer?apiKey="+P.options.apiKey+"&secondfactorauthenticationtoken="+e,{SecurityQuestionAnswer:r},function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(P.LRCheck2FA=!1,A.handleFeatures(e,t,a,n,o,i))},"submitMFASecurityQuestionsController")},A.verifyMFASecurityQuestionsController=function(t,o,i,n,a){var e,s=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),r=[];for(e in l=P.util.parseQueryString(t))"setsecurityquestions"!==e&&r.push({QuestionId:e,Answer:l[e]});var l={SecurityQuestionAnswer:r},u="";P.options.riskBasedAuthentication&&(u=(u+="&RbaOneclickEmailTemplate="+P.options.rbaOneclickEmailTemplate+"&RbaOTPSmsTemplate="+P.options.rbaOTPSmsTemplate+"&RbaCityEmailTemplate="+P.options.rbaCityEmailTemplate+"&RbaCountryEmailTemplate="+P.options.rbaCountryEmailTemplate+"&RbaBrowserEmailTemplate="+P.options.rbaBrowserEmailTemplate+"&RbaIpEmailTemplate="+P.options.rbaIpEmailTemplate+"&RbaDeviceEmailTemplate="+P.options.rbaDeviceEmailTemplate+"&RbaCitySmsTemplate="+P.options.rbaCitySmsTemplate+"&RbaCountrySmsTemplate="+P.options.rbaCountrySmsTemplate)+"&RbaBrowserSmsTemplate="+P.options.rbaBrowserSmsTemplate+"&RbaIpSmsTemplate="+P.options.rbaIpSmsTemplate+"&RbaDeviceSmsTemplate="+P.options.rbaDeviceSmsTemplate),P.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/login/2fa/verification/securityquestionanswer?apiKey="+P.options.apiKey+"&secondfactorauthenticationtoken="+s+u,l,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(P.LRCheck2FA=!1,A.handleFeatures(e,t,a,n,o,i))},"verifyMFASecurityQuestionsController")},A.verifyMFASecurityQuestionsByAccessTokenController=function(t,o,i,e,n){var a=P.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),s={};if(t){var s=P.util.parseQueryString(t),r=[];if(n)for(var l in s)r.push({QuestionId:l,Answer:s[l]});else for(var u=0;u<P.options.securityQuestionsCount;u++)r.push({QuestionId:s["securityQuestion"+u],Answer:s["securityAnswer"+u]});s={SecurityQuestionAnswer:r}}s.ReplaceSecurityQuestionAnswer=!e,P.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2fa/securityquestionanswer?apiKey="+P.options.apiKey+"&access_token="+a,s,function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):o(e,t)},"verifyMFASecurityQuestionsController")},A.oneTouchLoginVerify=function(e,t,o){var i=LoginRadiusDefaults.apiDomain+"/auth/email/smartlogin?apiKey="+P.options.apiKey+"&welcomeEmailTemplate="+P.options.welcomeEmailTemplate;P.util.ajaxCall("get",i+="&verificationtoken="+e,"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):t(e)},"oneTouchLoginVerify")},A.oneTouchLoginEmailVerification=function(e,t,o,i){e&&P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/email/"+(i?"onetouchlogin":"smartlogin")+"?apiKey="+P.options.apiKey+"&verificationtoken="+e+"&welcomeEmailTemplate="+P.options.welcomeEmailTemplate+(i?"&email="+i:""),"",function(e){e.ErrorCode?o(E.loginRadiusErrorTojsError(e)):i?t(e):E.loginHandleToken(e,"",t,o)},"smartlogin")},A.sendVerificaionEmailForSocialController=function(e,t,o,i,n){P.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/email/sendverificationemail?apiKey="+P.options.apiKey+("clientguid"===n?"&clientguid="+e:"&access_token="+e)+"&verificationUrl="+P.options.verificationUrl+"&emailTemplate="+P.options.verificationEmailTemplate,"",function(e){e.ErrorCode?i(E.loginRadiusErrorTojsError(e)):(LoginRadiusDefaults.isSSOInitFired=!0,E.logout(o(e)),E.showOTPTemplateForm("Registration")&&t&&(e=e.UUID,E.otpEmailVerification(t,o,i,"",{uuid:e})))},"sendVerificationEmail")}}var LoginRadiusV2=function(o){this.global=window;var w=this,S=new SetLoginRadiusCommonFunctions(w),k=new LoginRadiusControllers(w,S),p=LoginRadiusDefaults.buttonNames,h=LoginRadiusDefaults.messages,y=LoginRadiusDefaults._uuidFormat,e=hash.get("lr-token");try{e&&window.opener&&window.opener.html5passToken&&(window.opener.html5passToken(e),document.write("<style type='text/css'>body { display: none !important; } </style>"),hash.remove("lr-token"),window.close())}catch(e){}var e=new LRNameSpace.Utilities,L=(w.util=new LoginRadiusUtility(w,o),w.storage=new LRNameSpace.Storage(w,LoginRadiusDefaults),w.util=Object.assign(e,w.util,w.storage));function a(s,n,a,r){var t,e=L.getHashParam("vtoken"),o=L.getHashParam("vtype"),l=w.getSessionToken();try{var i=L.getQueryParameterByName("duo_code");let e=L.getQueryParameterByName("duo_state");e=e||L.getQueryParameterByName("state"),i&&e&&!w.duoLoginFlag&&(w.duoLoginFlag=!0,k.duoVerifyController({Code:i,State:encodeURIComponent(e)},n,a,s,r))}catch(e){}function u(o,e,i,t,n,a){S.createForm(w.registrationFormSchema,"loginRequiredFieldsUpdate",s,function(e){var t={};t.Profile=o,t.access_token=i,k.updateData(t,s,e,n,a,r,w.registrationFormSchema,"login",!0)},function(e){a(S.setMappedMessage(e))})}function c(e,t){S.createForm(e,t,s,function(i){var e;w.LRCheckLogin=!0,window.lrpasswordlesslogin?S.sendInstantSignInLink(i,(e,t)=>{S.showOTPTemplateForm("OneClickSignin")&&S.otpEmailVerification(s,n,a,r,t),n(e)},a,s,r):window.lrpasswordlessloginotp?S.sendInstantSignInOtp(i,n,a,s,r):(e=function(t,o){S.createForm(w.changePasswordFormSchema,"changepassword",s,function(e){k.periodicalPasswordRestController(e,n,a,t,o,i)},function(e){a(e)})},window.lrpasskeylogin?k.passkeyLoginController(i,s,n,a,e,u,r):w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication?k.login2FAController(i,s,n,a,r,e,u):"pinLogin"===t?k.loginPINController(i,s,n,a,r,e,u,l):k.loginController(i,s,n,a,e,u,r))},function(e){a(S.setMappedMessage(e))},r)}w.currentLRContainer=s,"oneclicksignin"!==o&&"passwordlesslogin"!==o||w.passwordlessLoginFlag||(w.passwordlessLoginFlag=!0,S.passwordlessLoginVerification(e,n,a,r)),t=w.loginFormSchema,w.loginAction=!0,T(t),t=JSON.parse(JSON.stringify(function(e){if(w.options.stayLogin){for(var t=!0,o=0;o<e.length;o++)"stayLogin"===e[o].name&&(t=!1);t&&e.push({type:"multi",name:"stayLogin",display:"Remember me",rules:null,permission:"w"})}return e}(t))),S.setPasswordRule(t[1],w.loginAction),!w.passwordlessLoginFlag&&!w.options.twoFactorAuthentication&&!w.options.optionalTwoFactorAuthentication&&w.options.isPINAuthentication&&w.options.PINConfiguration&&w.options.PINConfiguration.PINLogin&&l?(i=w.pinLoginFormSchema.slice(),o=Object.assign({},w.defaultBtnSchema,{name:"backtologinform",display:LoginRadiusDefaults.buttonNames.pinloginbackbtn,eventCallback:function(e){c(t,"login")}}),i.push(o),w.loginAction=!0,t.rules="required",c(i,"pinLogin")):c(t,"login")}function m(t,o,i,n,a){w.$hooks.call("registrationSchemaFilter",a);var e,s=n+LoginRadiusDefaults.idPrefix+"recaptcha_widget_registration";if(w.options.isConsentManagementEnabled||L.captchaSchema(s,a),w.options.privacyPolicyConfiguration.IsEnabled&&((e=w.privacyPolicySchema.slice())[0].rules="Strict"===w.options.privacyPolicyConfiguration.Mode?"required":"",a.push(e[0])),w.options.isPINAuthentication&&w.options.PINConfiguration.AskOnRegistration)S.setPINRule(L.findInSchema(a,"name","pin")),S.setPINRule(L.findInSchema(a,"name","confirmpin"));else{for(var r=[],l=0;l<a.length;l++)"pin"!==a[l].name&&"confirmpin"!==a[l].name&&r.push(a[l]);a=r}a.push({type:"html",name:"termsandcondition",html:w.options.termsAndConditionHtml||""}),S.setPasswordRule(L.findInSchema(a,"name","password")),S.setPasswordRule(L.findInSchema(a,"name","confirmpassword")),w.registrationFormSchema=a,w.options.isConsentManagementEnabled?w.getConsentConfiguration(function(e){e=S.createConsentInterface(e.Register);""!==e&&a.push({html:e,name:"consent",type:"html"}),L.captchaSchema(s,a),u(a,t,o,i,s,n,!0),L.renderV2Recaptcha(s,!0)}):(u(a,t,o,i,s,n,!1),L.renderV2Recaptcha(s,!0))}function d(t,l,u,c,p,d){S.createForm(t,"passkeyregister",l,function(e){var o=w.util.getQueryParameterByName("email",e);if(window.lrpwdregister){var i=w.util.findInSchema(w.registrationFormSchema,"name","emailid");i&&o&&(i.value=o.trim());let t=JSON.parse(JSON.stringify(w.registrationFormSchema));for(var n,a,s=[],r=0;r<t.length;r++)t[r]&&w.options.showSplitForm&&t[r].DataSource&&null!==t[r].DataSource&&(n=JSON.parse(JSON.stringify(t[r])),a=JSON.parse(JSON.stringify(L.findInSchema(t,"name","cf_"+t[r].DataSource+"Code"))),n.name="recordid",a.name="code",s.push(n),s.push(a));0<s.length&&w.options.showSplitForm?S.createForm(s,"validatecode",l,function(e){L.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/validatecode?apiKey="+w.options.apiKey,e,function(e){1==e.IsValid?m(l,u,c,p,t):c(e)},"registration")}):(w.options.securityQuestionEnabled&&w.options.SecurityQuestions&&S.getSecurityQuestionSchema(t,!0),m(l,u,c,p,t))}else{i=[];0<(i=d?S.consentValidation(e,"Register"):i).length?c(i):k.passkeyRegistrationController(e,l,u,c,p,t)}},function(e){c(e)})}function u(o,i,n,a,s,r,l){var e=w.util.getHashParam("invitation"),t=w.util.getHashParam("email");e&&w.options.isB2BEnabled&&(e=w.util.findInSchema(o,"name","emailid"))&&t&&(e.value=t.trim(),e.disabled=!0),S.createForm(o,"registration",i,function(e){var t=[];0<(t=l?S.consentValidation(e,"Register"):t).length?a(t):k.registrationController(e,i,function(e,t){window.hcaptcha&&w.options.hCaptchaSiteKey&&!w.options.invisibleRecaptcha?window.hcaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&w.options.v2Recaptcha&&grecaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"]),n(e,t)},function(e){window.hcaptcha&&w.options.hCaptchaSiteKey&&!w.options.invisibleRecaptcha?window.hcaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&w.options.v2Recaptcha&&grecaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"]),a(e)},r,o)},function(e){window.hcaptcha&&w.options.hCaptchaSiteKey&&!w.options.invisibleRecaptcha?window.hcaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"]):window.grecaptcha&&w.options.v2Recaptcha&&grecaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"]),a(e)},r)}function s(t,o,i,n){var e,a;if(L.addRecaptchaJS(),w.registrationFormSchema=w.registrationFormSchema&&0<w.registrationFormSchema.length?w.registrationFormSchema:w.options.RegistrationFormSchema,w.options.isPassKeysEnabled)e=w.registrationFormSchema,e=JSON.parse(JSON.stringify(e)),a=[],l=e.findIndex(e=>"emailid"===e.name),a.push(e[l]),w.options.privacyPolicyConfiguration.IsEnabled&&((e=w.privacyPolicySchema.slice())[0].rules="Strict"===w.options.privacyPolicyConfiguration.Mode?"required":"",a.push(e[0])),w.options.isConsentManagementEnabled?w.getConsentConfiguration(function(e){e=S.createConsentInterface(e.Register);""!==e&&a.push({html:e,name:"consent",type:"html"}),d(a,t,o,i,n,!0)}):d(a,t,o,i,n,!1);else{for(var s,r,l=w.registrationFormSchema,u=JSON.parse(JSON.stringify(l)),c=[],p=0;p<u.length;p++)u[p]&&w.options.showSplitForm&&u[p].DataSource&&null!==u[p].DataSource&&(s=JSON.parse(JSON.stringify(u[p])),r=JSON.parse(JSON.stringify(L.findInSchema(u,"name","cf_"+u[p].DataSource+"Code"))),s.name="recordid",r.name="code",c.push(s),c.push(r));0<c.length&&w.options.showSplitForm?S.createForm(c,"validatecode",t,function(e){L.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/validatecode?apiKey="+w.options.apiKey,e,function(e){1==e.IsValid?m(t,o,i,n,u):i(e)},"registration")}):(w.options.securityQuestionEnabled&&w.options.SecurityQuestions&&S.getSecurityQuestionSchema(u,!0),m(t,o,i,n,u))}}function l(i,n,a,s){function t(e){var t=L.getHashParam("vtoken");if(w.options.verifyEmailByOTP){var o={};(o=e?L.mergeOptions(o,L.parseQueryString(e)):o).otp=t;try{o.email=L.getQueryParameterByName("email").replace(/ /g,"+"),k.emailVerificationController(o,i,n,a,s,!0)}catch(e){w.log(e)}}else k.emailVerificationController(t,i,n,a,s)}a&&"Captcha"===w.options.loginLockedType&&(w.$hooks.register("afterFormRender",function(e,t,o,i){i&&"loginradius-verifyemail"===i.name&&"loginradius-submit-verify"===i[0].id&&(i[0].style.display="none")}),S.createForm([],"verifyemail",a,function(e){t(e)},function(e){n(e)},s)),t()}function C(e,t,o){o=o||L.getHashParam("vtoken");k.deleteUserConfirmController(o,e,t)}function v(f,h,y,e){var t=document.createElement("input"),o=(t.setAttribute("type","button"),w.buttonsName["createTwoFactorAuthentication".toLowerCase()]||p.createtwofactorauthentication),C=(t.setAttribute("value",o),e||LoginRadiusDefaults.classPrefix);let v=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);document.getElementsByName(C+"profileeditor")[0]?w.options.showTwoFactorOnProfile&&document.getElementsByName(C+"profileeditor")[0].appendChild(t):(w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&L.addHTMLContent(f,t);try{var i=L.getQueryParameterByName("duo_code");let e=L.getQueryParameterByName("duo_state");e=e||L.getQueryParameterByName("state"),i&&e&&!w.duoLoginFlag&&(w.duoLoginFlag=!0,k.duoVerifyByAccessTokenController({Code:i,State:encodeURIComponent(e)},h,y,f,C))}catch(e){}function T(){var e;w.options.optionalTwoFactorAuthentication||w.options.twoFactorAuthentication?(e=LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apikey="+w.options.apiKey,w.options.duoAuthentication&&(e=e+"&duoredirecturi="+encodeURIComponent(w.options.callbackUrl)),L.ajaxCall("get",e+"&access_token="+v,"",function(r){w.$hooks.register("afterFormRender",function(e,t,o,i){var n=i?w.util.findInSchema(i,"id","loginradius-button-backupcodebackbutton"):w.util.elementById("loginradius-button-backupcodebackbutton");(i=i||w.util.elementById(t))&&w.LRCheck2FA&&(n||(t=w.util.getButtonAttribute("backupcodebackbutton",o,function(){LoginRadiusDefaults.pingCount=0,T()}),i.appendChild(t)))}),w.LRCheck2FA=!0;var e,t,o=w.LRCheckLogin=!1;if(r.ErrorCode)y(S.loginRadiusErrorTojsError(r));else{w.storage.setBrowserStorage(LoginRadiusDefaults.storedOTPAuth,r.IsOTPAuthenticatorVerified),w.storage.setBrowserStorage(LoginRadiusDefaults.storedGAAuth,r.IsAuthenticatorVerified),w.storage.setBrowserStorage(LoginRadiusDefaults.storedEmailOTPAuth,r.IsEmailOtpAuthenticatorVerified),w.storage.setBrowserStorage(LoginRadiusDefaults.storedSQAuth,r.IsSecurityQuestionAuthenticatorVerified),w.storage.setBrowserStorage(LoginRadiusDefaults.storedPushNotificationAuth,r.IsPushDeviceRegistered),w.storage.setBrowserStorage(LoginRadiusDefaults.storedDuoAuth,r.IsDuoAuthenticatorVerified),w.storage.setBrowserStorage(LoginRadiusDefaults.storedPasskeyAuth,r.IsPasskeyAuthenticatorVerified);var i,n=w.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth),l=w.storage.getBrowserStorage(LoginRadiusDefaults.storedGAAuth),u=w.storage.getBrowserStorage(LoginRadiusDefaults.storedSQAuth),a=w.storage.getBrowserStorage(LoginRadiusDefaults.storedEmailOTPAuth),c=w.storage.getBrowserStorage(LoginRadiusDefaults.storedPushNotificationAuth),p=w.storage.getBrowserStorage(LoginRadiusDefaults.storedDuoAuth),d=w.storage.getBrowserStorage(LoginRadiusDefaults.storedPasskeyAuth),s=r.IsOTPAuthenticatorVerified,m=function(e){r=e||r,w.options.pushNotificationAuthentication&&(r.IsPushDeviceRegistered?(("false"!==n||"false"!==a||"false"!==u||"false"!==p||"false"!==l||"false"!==d)&&w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&(e=w.util.getButtonAttribute("disablepushnotification",C),w.util.elementById("loginradius-button-backupcodebackbutton")&&(o=!1),w.util.addHTMLContent(f,e,o),o=!0,w.util.addEvent("click",e,function(e){S.disableMFAOptions("pushnotificationauthenticator",h,y)})):(e=w.util.getButtonAttribute("pushnotification",C,function(){var e;LoginRadiusDefaults.pingCount<=1&&v&&S.pingForPushNotification(v,function(e){h(e),e.IsRegistered&&m(e)},y),(e=document.createElement("img")).type="image",e.src=r.PushQRCode,w.util.addHTMLContent(f,e,!1),w.$hooks.call("afterFormRender","createTwoFactorAuthentication",f,C)}),w.util.addHTMLContent(f,e,o),o=!0))},g=w.options.authenticatorOptionsOrder;for(i in g)g[i]&&("emailotp"===g[i]?function(){var a,s,e;w.options.emailOTPAuthentication&&r.Email&&r.Email.length&&(r.IsEmailOtpAuthenticatorVerified?(("false"!==n||"false"!==l||"false"!==u||"false"!==p||"false"!==c||"false"!==d)&&w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&(e=w.util.getButtonAttribute("disableemailotpauthenticator",C),w.util.addHTMLContent(f,e,o),o=!0,w.util.addEvent("click",e,function(e){S.disableMFAOptions("emailotpauthenticator",h,y)})):(a=r.Email)&&(s=function(e){S.addResendOTPBtn(!w.LRCheckLogin,h,y),k.sendMFAEmailOTPController({EmailId:e},h,y,f,C)},LoginRadiusDefaults.innerHTML=!0,e=w.util.getButtonAttribute("emailotp",C,function(e){if(1<a.length){LoginRadiusDefaults.innerHTML=!1;for(var t,o=[],i=0;i<a.length;i++)a[i]&&((t={}).text=a[i],t.value=a[i],o.push(t));var n={type:"option"};n.options=o,n.name="sendemailotp",n.rules="required",n.display="Select email to send verification code",S.createForm([n],"mfaselectemails",f,function(e){e=w.util.parseQueryString(e),s(e.sendemailotp)})}else r.Email&&r.Email[0]&&s(r.Email[0])}),w.util.addHTMLContent(f,e,o),o=!0))}():"sms"===g[i]?(t=void 0,w.options.smsOTPAuthentication&&(o=(s?(LoginRadiusDefaults.innerHTML=!0,S.changeNumberForm(f,"",h,y,C,LoginRadiusDefaults.innerHTML)):(t=w.util.getButtonAttribute("otpauthenticator",C,function(){LoginRadiusDefaults.innerHTML=!1,S.updatePhoneNumber(f,h,y,C,"updatePhone2FA")}),w.util.addHTMLContent(f,t,o)),!0))):"securityquestion"===g[i]?(t=void 0,w.options.securityQuestionAuthentication&&(r.IsSecurityQuestionAuthenticatorVerified?(("false"!==n||"false"!==a||"false"!==l||"false"!==p||"false"!==c||"false"!==d)&&w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&(t=w.util.getButtonAttribute("disablesqauthenticator",C),w.util.addHTMLContent(f,t,o),o=!0,w.util.addEvent("click",t,function(){S.disableMFAOptions("sqauthenticator",h,y)})):(t=w.util.getButtonAttribute("securityquestionsauthenticator",C,function(){LoginRadiusDefaults.innerHTML=!1,S.showMFASecurityQuestions(r,f,h,y,C)}),w.util.addHTMLContent(f,t,o),o=!0))):"pushnotification"===g[i]?m():"auth"===g[i]||"googleauth"===g[i]?(e=void 0,w.options.qrCodeAuthentication&&(r.IsAuthenticatorVerified?(("false"!==n||"false"!==a||"false"!==p||"false"!==u||"false"!==c||"false"!==d)&&w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&(e=w.util.getButtonAttribute("disablegoogleauthenticator",C),w.util.addHTMLContent(f,e,o),o=!0,w.util.addEvent("click",e,function(e){S.disableMFAOptions("authenticator",h,y)})):(e=w.util.getButtonAttribute("googleauthenticator",C,function(){LoginRadiusDefaults.innerHTML=!1,S.showQRCode(r,f,h,y,C)}),w.util.addHTMLContent(f,e,o),o=!0))):"duomfa"===g[i]?function(){var t,e;w.options.duoAuthentication&&(r.IsDuoAuthenticatorVerified?(("false"!==n||"false"!==a||"false"!==l||"false"!==u||"false"!==c||"false"!==d)&&w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&(e=w.util.getButtonAttribute("disableduoauthenticator",C),w.util.addHTMLContent(f,e,o),o=!0,w.util.addEvent("click",e,function(){S.disableMFAOptions("duoauthenticator",h,y)})):(t=r.DuoAuthEndpoint,e=w.util.getButtonAttribute("duomfa",C,function(e){window.location.href=t}),w.util.addHTMLContent(f,e,o),o=!0))}():"passkey"===g[i]&&(e=void 0,w.options.passkeyAuthentication)&&(r.IsPasskeyAuthenticatorVerified?(("false"!==n||"false"!==l||"false"!==u||"false"!==p||"false"!==c||"false"!==a)&&w.options.twoFactorAuthentication||w.options.optionalTwoFactorAuthentication)&&(e=w.util.getButtonAttribute("disablepasskeyauthenticator",C),w.util.addHTMLContent(f,e,o),o=!0,w.util.addEvent("click",e,function(e){S.disableMFAOptions("passkeyauthenticator",h,y)})):(e=w.util.getButtonAttribute("passkeyauthenticator",C),w.util.addHTMLContent(f,e,o),o=!0,w.util.addEvent("click",e,function(e){S.createAccountMFAPasskey(h,y)}))))}},"createTwoFactorAuthentication")):w.log("Two Factor Authentication will not work, please set in commonOpitons either twoFactorAuthentication or optionalTwoFactorAuthentication")}L.addEvent("click",t,function(e){T(),e.target.parentNode&&e.target.parentNode.removeChild(e.target)})}function T(e){var t,o;w.options.duplicateEmailWithUniqueUsername?((t=L.findInSchema(e,"name","emailid")).display="Username",t.rules="required"):(w.options.usernameLogin&&-1===(o=L.findInSchema(e,"name","emailid")).display.indexOf("/Username")&&(o.display=o.display+"/Username",o.rules="required"),(w.options.phoneLogin||w.options.passwordlessLoginOTP)&&(o||((o=L.findInSchema(e,"name","emailid")).rules="required"),-1===o.display.indexOf("/Phone"))&&(o.display=o.display+"/Phone"))}function b(e,t,o,i){var n,a;w.options.securityQuestionEnabled&&(w.registrationFormSchema=w.registrationFormSchema&&0<w.registrationFormSchema.length?w.registrationFormSchema:w.options.RegistrationFormSchema,n=w.registrationFormSchema,a=!0,n=S.getSecurityQuestionSchema(n),(a=n&&0<n.length?!1:a)?o([S.setMappedMessage(h.noSecurityQuestions)]):S.createForm(n,"updatesecurityquestion",e,function(e){k.updateSecurityQuestionController(e,t,o)},function(e){o(e)},i))}function R(a,s,r,l){var e=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);e?L.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+w.options.apiKey+"&access_token="+e,"",function(n){w.getConsentConfiguration(function(e){var t,o,i;o=[],i="",(t=n)&&t.ConsentProfile&&t.ConsentProfile.Consents&&(t=t.ConsentProfile.Consents,i=S.createConsentOptionInterface(w.consentsList,t)),o.push({html:i,name:"consent",type:"html"}),S.createForm(o,"consenteditor",a,function(e){var t=S.consentValidation(e);if(0<t.length)r(t);else{var o,i=w.util.parseQueryString(e),n=[];for(o in i){var a=o.replace("consent_","");n.push({ConsentOptionId:a,IsAccepted:i[o]})}(i={}).Consents=n,k.updateConsentController(i,s,r)}},function(e){r(e)},l)})}):r([S.setMappedMessage(h.tokenValid)])}function i(n,r){var d=(r=r||{}).onSuccess||function(){},m=r.onError||function(){},g=r.container||"",f=r.classPrefix||"",c=r.templateName||"";w.$hooks.register("getCurrentActionOptions",function(e){n==e&&(window.LRSafarionSuccess=d||function(){},window.LRSafarionError=m||function(){}),w.currentActionOptions||(w.currentActionOptions={}),w.currentActionOptions[n]={},w.currentActionOptions[n].onSuccess=d||function(){},w.currentActionOptions[n].onError=m||function(){},w.currentActionOptions[n].container=g,w.currentActionOptions[n].classPrefix=f||"",w.currentActionOptions[n].templateName=c||""}),w.getAppConfiguration(function(e){var t,o,i;e&&e.ErrorCode||("registration"!==n&&"updateSecurityQuestion"!==n&&w.$hooks.call("beforeInit",n),(e={}).privacyPolicyUpdate=function(){var t,o,i,n,a,e;t=g,o=d,i=m,n=f,w.options.privacyPolicyConfiguration.IsEnabled&&((a=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName))?((e=w.privacyPolicySchema.slice())[0].rules="Strict"===w.options.privacyPolicyConfiguration.Mode?"required":"",S.createForm(e,"privacyPolicyUpdate",t,function(e){k.updatePrivacyPolicy(a,"",o,i,!0,t,n)},function(e){i(S.setMappedMessage(e))})):i([S.setMappedMessage(h.tokenValid)]))},e.login=function(){a(g,d,m,f)},e.registration=function(){var t=setInterval(function(){try{LoginRadiusDefaults.isRegFormSchemaLock||(LoginRadiusDefaults.isRegFormSchemaLock=!0,w.$hooks.call("beforeInit",n),s(g,d,m,f),clearInterval(t))}catch(e){clearInterval(t),w.log(e)}},1e3)},e.resetPassword=function(){S.resetPassword(g,d,m,f)},e.resetPassKey=function(){S.resetPassKey(g,d,m,f)},e.resetPIN=function(){S.resetPIN(g,d,m,f)},e.forgotPassword=function(){var t,o,i,n,e;t=g,o=d,i=m,n=f,T(e=w.forgotPasswordFormSchema),S.createForm(e,"forgotpassword",t,function(e){-1!==(e=L.checkPhoneOrEmailLogin(e)).indexOf("phoneApi=1")?(LoginRadiusDefaults.LRPhoneNo=e,k.forgotPasswordbyPhoneController(e,t,o,i,n)):k.forgotPasswordController(e,t,o,i,n)},function(e){i(e)},n)},e.forgotPIN=function(){var t,o,i,n,e;t=g,o=d,i=m,n=f,T(e=w.forgotPINFormSchema),S.createForm(e,"forgotPIN",t,function(e){-1!==(e=L.checkPhoneOrEmailLogin(e)).indexOf("phoneApi=1")?(LoginRadiusDefaults.LRPhoneNo=e,k.forgotPINbyPhoneController(e,t,o,i,n)):k.forgotPINController(e,t,o,i,n)},function(e){i(e)},n)},e.verifyEmail=function(){l(d,m,g,f)},e.changePassword=function(){var e,t,o,i,n;e=g,t=d,o=m,i=f,n=w.changePasswordFormSchema,S.setPasswordRule(L.findInSchema(n,"name","newpassword")),S.setPasswordRule(L.findInSchema(n,"name","confirmnewpassword")),S.createForm(n,"changepassword",e,function(e){k.changePasswordController(e,t,o)},function(e){o(e)},i)},e.changePIN=function(){var e,t,o,i,n;e=g,t=d,o=m,i=f,n=w.changePINFormSchema.slice(),S.setPINRule(L.findInSchema(n,"name","newpin")),S.setPINRule(L.findInSchema(n,"name","confirmnewpin")),S.createForm(n,"changepin",e,function(e){k.changePINController(e,t,o)},function(e){o(e)},i)},e.crossDeviceSSO=function(){S.loadQRCodeScript(function(){var e,t,o,i,n,a;e=g,t=r.expirytime,o=d,i=m,n=f,w.options.isCrossDeviceSSOEnabled&&(a=setInterval(function(){w.CDSSOPingApiTimeout&&clearTimeout(w.CDSSOPingApiTimeout),S.generateCrossDeviceSSOCode(e,t,o,i,n,function(){clearInterval(a)})},1e3*t),S.generateCrossDeviceSSOCode(e,t,o,i,n,function(){clearInterval(a)}))})},e.socialLogin=function(){var e=L.elementById(g);e&&L.addEvent("click",e,function(){LoginRadiusDefaults.socialRegFormId=this.id}),LoginRadiusDefaults.socialRegFormId=g,S.socialLogin(g,d,m,f)},e.linkAccount=function(){var n,a,s,r,l,u;n=g,a=d,s=m,r=c,w.options.disableAccountLinking?w.log(h.disabledAccountLinking):(l=n.split(","),(u=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName))?L.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+w.options.apiKey+"&access_token="+u,"",function(e){if(e.ErrorCode)s(S.loginRadiusErrorTojsError(e));else if(e.EmailVerified||e.PhoneIdVerified){var t={};if(e.Identities)for(var o=0,i=e.Identities.length;o<i;o++)t[e.Identities[o].Provider]=e.Identities[o].ID;1===l.length?S.renderCustomInterface(n,t,r,"",!0):S.renderCustomInterface(n,t,w.options.linkedAccountsTemplate+","+w.options.notLinkedAccountsTemplate,!0,!0),window.html5passToken=function(e){k.accountLinkingReceiveToken(e,a,s)},w.options.isMobile||w.options.noCallbackForSocialLogin?w.$hooks.register("socialCalls",function(e,t){w.options.noCallbackForSocialLogin&&S.pingForSocialIdentity(u,t,a,s)}):L.addEvent("message",window,function(e){-1===e.origin.indexOf(w.options.customDomain)&&-1===e.origin.indexOf(LoginRadiusDefaults.hubDomain)||"string"==typeof e.data&&(y.test(e.data)||L.isJWT(e.data))&&k.accountLinkingReceiveToken(e.data,a,s)})}else s([S.setMappedMessage(h.unverifiedUser)])},"linkAccount"):s([S.setMappedMessage(h.tokenValid)]))},e.unLinkAccount=function(){var o=L.unLinkAccount;L.unLinkAccount=function(e,t){o(e,t,d,m)}},e.profileEditor=function(){var r,l,u,c,a,p;r=g,l=d,u=m,c=f,(p=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName))?(a=function(s){L.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+w.options.apiKey+"&access_token="+p,"",function(e){var t=JSON.parse(JSON.stringify(s)),t=S.mapSchema(t,e,"profileeditor"),o=[],i=[],n={};n.Profile=e,n.access_token=p;for(var a=0;a<t.length;a++)t[a].name&&-1===t[a].name.indexOf("emailid")&&-1===t[a].name.indexOf("phoneid")&&o.push(t[a]),t[a].permission&&"h"!==t[a].permission&&i.push(t[a]);S.createForm(o,"profileeditor",r,function(e){k.updateData(n,r,e,l,u,c,o,"profileEditor")},function(e){u(e)},c),(w.options.optionalTwoFactorAuthentication||w.options.twoFactorAuthentication)&&v(r,l,u,c),w.$hooks.call("renderProfileEditorHook",e,i)},"profileEditor")},w.registrationFormSchema=w.registrationFormSchema&&0<w.registrationFormSchema.length?w.registrationFormSchema:w.options.RegistrationFormSchema,w.progressiveProfiling.showInEditor?w.progressiveProfiling.fetchSchema(function(e){var t=w.registrationFormSchema.slice();if(e&&e.ProfilingSteps)for(var o=0;o<e.ProfilingSteps.length;o++)for(var i=e.ProfilingSteps[o].Schema,n=0;n<i.length;n++)w.util.containsObject(t,i[n],"name")||t.push(i[n]);a(t)}):a(w.registrationFormSchema)):u([S.setMappedMessage(h.tokenValid)])},e.deleteUser=function(){var t,o,i,e;t=d,o=m,i=g,(e=w.sessionData.getToken())?L.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+w.options.apiKey+"&access_token="+e+"&deleteUrl="+w.options.deleteUrl+"&emailTemplate="+w.options.deleteUserEmailTemplate,{},function(e){e.ErrorCode?o(S.loginRadiusErrorTojsError(e)):(t(e),S.showOTPTemplateForm("DeleteAccount")&&i&&S.createForm(w.otpSchema,"otp",i,function(e){e=w.util.parseQueryString(e);C(t,o,e.otp)},function(e){o(e)}))},"deleteUser"):o([h.vTokenError])},e.deleteUserConfirm=function(){C(d,m)},e.updatePhone=function(){w.LRCheck2FA=!1,S.updatePhoneNumber(g,d,m,f)},e.changeUsername=function(){var t,o;t=d,o=m,S.createForm(w.changeUsernameFormSchema,"changeUsername",g,function(e){k.changeUsernameController(e,t,o)},function(e){o(e)},f)},e.resendVerificationEmail=function(){var t,o;t=d,o=m,S.createForm(w.emailSchema,"resendEmailVerification",g,function(e){k.resendEmailVerificationController(e,t,o)},function(e){o(e)},f)},e.addEmail=function(){var t,o;t=d,o=m,S.createForm(w.addEmailSchema,"addemail",g,function(e){k.addEmailController(e,t,o)},function(e){o(e)},f)},e.removeEmail=function(){var t,o;t=d,o=m,S.createForm(w.emailSchema,"removeemail",g,function(e){k.removeEmailController(e,t,o)},function(e){o(e)},f)},e.createTwoFactorAuthentication=function(){v(g,d,m,f)},e.passkeylogin=function(){var s,r,l,u,e;s=g,r=d,l=m,u=f,w.options.isPassKeysEnabled?(e=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),L.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/passkey?apikey="+w.options.apiKey+"&access_token="+e,"",function(t){var o=u||LoginRadiusDefaults.classPrefix,e=document.createElement("input"),i=(e.setAttribute("type","button"),w.buttonsName["createPasskey".toLowerCase()]||p.createPasskey),n=(e.setAttribute("value",i),w.util.addEvent("click",e,function(e){S.createAccountPasskey(r,l)}),!1);if(t.ErrorCode)1323===t.ErrorCode?L.addHTMLContent(s,e,n):l(S.loginRadiusErrorTojsError(t));else{for(let e of t.Credentials){var a=w.util.getButtonAttribute("passkey_"+e.Id,o,function(){S.removePasskey(e.Id,r,l)},"Disable "+(e.Authenticator||e.Id));w.util.addHTMLContent(s,a,n),n=!0}L.addHTMLContent(s,e,n)}})):w.log("Passkey will not work, please enable pass key from admin console")},e.backupCodeButton=function(){{var o=g,i=d,n=m,a=f;let e=LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apikey="+w.options.apiKey+"&access_token="+w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),t;w.options.duoAuthentication&&(t=encodeURIComponent(w.options.callbackUrl),e=e+"&duoredirecturi="+t),L.ajaxCall("get",e,"",function(e){(e.IsSecurityQuestionAuthenticatorVerified||e.IsEmailOtpAuthenticatorVerified||e.IsOTPAuthenticatorVerified||e.IsAuthenticatorVerified)&&(e=w.util.getButtonAttribute("generatebackupcodebutton",a),L.addHTMLContent(o,e),L.addEvent("click",e,function(e){w.api.getBackupCode(w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),i,n)}))})}},e.resetBackupCodeButton=function(){{var o=g,i=d,n=m;let e=LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apikey="+w.options.apiKey+"&access_token="+w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),t;w.options.duoAuthentication&&(t=encodeURIComponent(w.options.callbackUrl),e=e+"&duoredirecturi="+t),L.ajaxCall("get",e,"",function(e){var t;(e.IsSecurityQuestionAuthenticatorVerified||e.IsEmailOtpAuthenticatorVerified||e.IsOTPAuthenticatorVerified||e.IsAuthenticatorVerified)&&((e=document.createElement("input")).setAttribute("type","button"),t=w.buttonsName["resetBackupCode".toLowerCase()]||p.resetBackupCode,e.setAttribute("value",t),L.addHTMLContent(o,e),L.addEvent("click",e,function(e){w.api.resetBackupCode(w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),i,n)}))})}},e.updateSecurityQuestion=function(){var t=setInterval(function(){try{LoginRadiusDefaults.isSecurityFormSchemaLock||(LoginRadiusDefaults.isSecurityFormSchemaLock=!0,b(g,d,m,f),clearInterval(t))}catch(e){clearInterval(t),w.log(e)}},1e3)},e.resetPasswordBySecurityQuestion=function(){var o,i,n,a,s,e;o=g,i=d,n=m,a=f,w.options.securityQuestionEnabled&&(s=!0,T(e=w.getSecQSchema),S.createForm(e,"securityquestions",o,function(e){e=L.checkPhoneOrEmailLogin(e),k.getSecurityQuestionsController(e,function(e){0<e.length&&(s=!1);var t=w.loginFormSchema.slice(),t=(S.setPasswordRule(w.util.findInSchema(t,"name","password")),S.setPasswordRule(w.util.findInSchema(t,"name","confirmpassword")),L.mergeObjects(t,e));w.loginAction||T(t),s?n([S.setMappedMessage(h.noSecurityQuestions)]):S.createForm(t,"resetpwdbysecq",o,function(e){e=L.checkPhoneOrEmailLogin(e),k.resetPasswordBySecurityQuestionController(e,i,n)},function(e){n(e)},a)},function(e){n(e)})},function(e){n(e)},a))},e.resetPINBySecurityQuestion=function(){var o,i,n,a,s,e;o=g,i=d,n=m,a=f,w.options.securityQuestionEnabled&&(s=!0,T(e=w.getSecQSchema),S.createForm(e,"securityquestions",o,function(e){e=L.checkPhoneOrEmailLogin(e),k.getSecurityQuestionsController(e,function(e){0<e.length&&(s=!1);var t=w.resetPINFormSchema.slice(0,1),t=(t.push(w.loginFormSchema[0]),S.setPINRule(w.util.findInSchema(t,"name","pin")),L.mergeObjects(t,e));w.loginAction||T(t),s?n([S.setMappedMessage(h.noSecurityQuestions)]):S.createForm(t,"resetpinbysecq",o,function(e){e=L.checkPhoneOrEmailLogin(e),k.resetPINBySecurityQuestionController(e,i,n)},function(e){n(e)},a)},function(e){n(e)})},function(e){n(e)},a))},e.ssoLogin=function(){var o;o=d,S.validateAndCall(function(){var e=w.options.customDomain||w.options.appName+"."+LoginRadiusDefaults.hubDomain;L.ajaxCall("get","https://"+e+"/ssologin/login","",function(t){t.isauthenticated&&(w.loginRadiusHtml5PassToken?w.loginRadiusHtml5PassToken(t.token):(w.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,t.token),w.options.tokenType&&"jwt"===w.options.tokenType.toLowerCase()?(LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterTokenResponse={},S.getJwtToken(t.token,function(e){o(t.token,e)})):o(t.token)))})})},e.logout=function(){S.logout(d)},e.ssoNotLoginThenLogout=function(){var o,i;o=m,i=d,S.validateAndCall(function(){var e=w.options.customDomain||w.options.appName+"."+LoginRadiusDefaults.hubDomain;L.ajaxCall("get","https://"+e+"/ssologin/login","",function(t){var e;t.isauthenticated?(void 0!==(e=LRNameSpace.cookies.getItem(LoginRadiusDefaults.tokenCookie))&&null!=e||(S.setToken(t.token),e=LRNameSpace.cookies.getItem(LoginRadiusDefaults.tokenCookie)),e&&e!==t.token?(S.setToken(t.token),i(t.token)):(w.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,t.token),w.options.tokenType&&"jwt"===w.options.tokenType.toLowerCase()?(LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterTokenResponse={},S.getJwtToken(t.token,function(e){i(t.token,e)})):i(t.token))):(LRNameSpace.cookies.removeItem(LoginRadiusDefaults.tokenCookie,w.options.appPath),o())})})},e.pinreauthentication=function(){var e,t,o,i,n;e=g,t=d,o=m,i=f,n=[],w.pinLoginFormSchema&&((n=w.pinLoginFormSchema.slice()).rules="required"),n.length?S.createForm(n,"pinreauthentication",e,function(e){k.pinReauthController(e,t,o)},function(e){o(e)},i):w.log("Pin schema is not defined")},e.customeventconsent=function(){var o,i,n,a,s;o=g,i=r.event,n=d,a=m,s=f,w.getConsentConfiguration(function(e){var t=[],e=S.createConsentInterface(e["custom_"+i]);""!==e&&(t.push({html:e,name:"consent",type:"html"}),S.createForm(t,"customeventconsent",o,function(e){var t=S.consentValidation(e,"custom_"+i);0<t.length?a(t):(t=[],e=S.mapRegistrationSchema(null,e).Consents,t.push({Event:i,IsCustom:!0}),e.Events=t,k.customEventConsentController(e,n,a))},function(e){a(e)},s))})},e.consenteditor=function(){R(g,d,m,f)},o=function(){var t,o,i,n,e,a,s,r;t=g,o=d,i=m,n=f,a=L.getHashParam("vtoken"),s=L.getHashParam("vtype"),!(r=w.options.isCaptchaEnabled||w.options.v2Recaptcha||w.options.invisibleRecaptcha||w.options.tencentCaptcha||w.options.tencentCaptchaAsFallback)&&w.options.privacyPolicyConfiguration.IsEnabled&&w.log("Captcha should be enabled for passwordless login if using with privacy policy"),"noregistration"!==s&&"onetouchlogin"!==s||k.oneTouchLoginEmailVerification(a,o,i),s=w.passwordLessLoginSchema,w.options.phoneLogin&&((a=L.findInSchema(s,"name","emailid")).display=a.display+"/Phone"),r&&(L.addRecaptchaJS(),e=n+LoginRadiusDefaults.idPrefix+"recaptcha_widget_onetouchlogin",L.captchaSchema(e,s)),S.createForm(s,"oneTouchLogin",t,function(e){k.oneTouchLoginController(e,t,o,i,n,r)},function(e){i(e)},n),r&&L.renderV2Recaptcha(e,!0)},i=function(){var t,o,i,n,e;t=g,o=d,i=m,n=f,T(e=w.smartLoginSchema),S.createForm(e,"smartlogin",t,function(e){e=L.checkPhoneOrEmailLogin(e);-1!==e.indexOf("phone")?k.loginOTPController(e,t,o,i,n):k.smartLoginController(e,o,i)},function(e){i(e)},n)},e.instantLinkLogin=t=function(){var e,t,o,i,n;e=d,t=m,o=f,i=L.getHashParam("vtoken"),"oneclicksignin"!==(n=L.getHashParam("vtype"))&&"passwordlesslogin"!==n||w.passwordlessLoginFlag||(w.passwordlessLoginFlag=!0,S.passwordlessLoginVerification(i,e,t,o))},e.passwordlessLoginValidate=t,e.autoLogin=i,e.smartLogin=i,e.noRegistrationPasswordLessLogin=o,e.onetouchLogin=o,e.default=function(){w.log("This action is not valid.")},(e[n]||e.default)())})}return this.trackEvent=function(){w.options.debugMode&&console.warn("Anonymous login feature has been deprecated")},L.unLinkAccount=function(e,t,o,i){var n;o=o||function(){},i=i||function(){},e&&t&&(n={provider:e,providerid:t},(e=w.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName))?L.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/socialIdentity?apiKey="+w.options.apiKey+"&access_token="+e,n,function(e){e.ErrorCode?i(S.loginRadiusErrorTojsError(e)):o(e,n)},"unLinkAccount"):i([S.setMappedMessage(h.tokenValid)]))},LoginRadiusHooksModel(w),setLoginRadiusModuleFunctions(w,o),w.init=function(e,t){w.useraction=e,o.maskSensitiveInput?w.otpSchema=[{type:"password",name:"otp",display:"Verification Code",rules:"required",permission:"r"}]:w.otpSchema=[{type:"string",name:"otp",display:"Verification Code",rules:"required",permission:"r"}],"required"===o.twoFactorAuthentication?(o.twoFactorAuthentication=!0,o.optionalTwoFactorAuthentication=!1):"optional"===o.twoFactorAuthentication&&(o.twoFactorAuthentication=!1,o.optionalTwoFactorAuthentication=!0),"ssoLogin"!==e&&"logout"!==e&&"ssoNotLoginThenLogout"!==e||LoginRadiusDefaults.isSSOInitFired||(LoginRadiusDefaults.isSSOInitFired=!0,w.SSOinitFired=!0),"organization"!==e&&"login"!==e||(w.currentActionOptions||(w.currentActionOptions={}),w.currentActionOptions[e]={},w.currentActionOptions[e].onSuccess=t.onSuccess||function(){},w.currentActionOptions[e].container=t.container||"",w.currentActionOptions[e].onError=t.onError||function(){},w.currentActionOptions[e].classPrefix=t._classPrefix||""),o.appName||w.log("SSO will not work, please set option.appName for SSO"),o.formRenderDelay=o.formRenderDelay||0,o.apiKey?0<o.formRenderDelay?setTimeout(function(){i(e,t)},o.formRenderDelay):i(e,t):w.log("API key must be set.")},setLoginRadiusDefaultSchema(w),w.api=new LoginRadiusApiFramework(w,k),w};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9naW5SYWRpdXNWMi5qcyIsInNvdXJjZXMiOlsiTG9naW5SYWRpdXNWMi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gVmFsaWRhdGlvbiB2YWxpZGF0ZS5qc1xuKGZ1bmN0aW9uKHEsIHIsIG0pIHtcbiAgICB2YXIgcyA9IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIlRoZSAlcyBmaWVsZCBpcyByZXF1aXJlZC5cIixcbiAgICAgICAgICAgIHZhbGlkX3Bob25lbm86ICdUaGUgJXMgZmllbGQgaXMgbm90IHZhbGlkLicsXG4gICAgICAgICAgICBtYXRjaGVzOiBcIlRoZSAlcyBmaWVsZCBkb2VzIG5vdCBtYXRjaCB0aGUgJXMgZmllbGQuXCIsXG4gICAgICAgICAgICBcImRlZmF1bHRcIjogXCJUaGUgJXMgZmllbGQgaXMgc3RpbGwgc2V0IHRvIGRlZmF1bHQsIHBsZWFzZSBjaGFuZ2UuXCIsXG4gICAgICAgICAgICB2YWxpZF9lbWFpbDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIixcbiAgICAgICAgICAgIHZhbGlkX2VtYWlsczogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGFsbCB2YWxpZCBlbWFpbCBhZGRyZXNzZXMuXCIsXG4gICAgICAgICAgICBtaW5fbGVuZ3RoOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGJlIGF0IGxlYXN0ICVzIGNoYXJhY3RlcnMgaW4gbGVuZ3RoLlwiLFxuICAgICAgICAgICAgbWF4X2xlbmd0aDogXCJUaGUgJXMgZmllbGQgbXVzdCBub3QgZXhjZWVkICVzIGNoYXJhY3RlcnMgaW4gbGVuZ3RoLlwiLFxuICAgICAgICAgICAgZXhhY3RfbGVuZ3RoOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGJlIGV4YWN0bHkgJXMgY2hhcmFjdGVycyBpbiBsZW5ndGguXCIsXG4gICAgICAgICAgICBncmVhdGVyX3RoYW46IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhIG51bWJlciBncmVhdGVyIHRoYW4gJXMuXCIsXG4gICAgICAgICAgICBsZXNzX3RoYW46IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhIG51bWJlciBsZXNzIHRoYW4gJXMuXCIsXG4gICAgICAgICAgICBhbHBoYTogXCJUaGUgJXMgZmllbGQgbXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFiZXRpY2FsIGNoYXJhY3RlcnMuXCIsXG4gICAgICAgICAgICBhbHBoYV9udW1lcmljOiBcIlRoZSAlcyBmaWVsZCBtdXN0IG9ubHkgY29udGFpbiBhbHBoYS1udW1lcmljIGNoYXJhY3RlcnMuXCIsXG4gICAgICAgICAgICBhbHBoYV9kYXNoOiBcIlRoZSAlcyBmaWVsZCBtdXN0IG9ubHkgY29udGFpbiBhbHBoYS1udW1lcmljIGNoYXJhY3RlcnMsIHVuZGVyc2NvcmVzLCBhbmQgZGFzaGVzLlwiLFxuICAgICAgICAgICAgYWxwaGFfbnVtZXJpY19kYXNoX2NvbWJvOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gb25seSBjb21iaW5hdGlvbiBvZiBhbHBoYS1udW1lcmljIGNoYXJhY3RlcnMgYW5kIGRhc2hlcy5cIixcbiAgICAgICAgICAgIGFscGhhbnVtZXJpY19jb21ibzogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIG9ubHkgY29tYmluYXRpb24gb2YgYWxwaGEtbnVtZXJpYyBjaGFyYWN0ZXJzLlwiLFxuICAgICAgICAgICAgbnVtZXJpYzogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIG9ubHkgbnVtYmVycy5cIixcbiAgICAgICAgICAgIGludGVnZXI6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhbiBpbnRlZ2VyLlwiLFxuICAgICAgICAgICAgZGVjaW1hbDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgZGVjaW1hbCBudW1iZXIuXCIsXG4gICAgICAgICAgICBpc19uYXR1cmFsOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gb25seSBwb3NpdGl2ZSBudW1iZXJzLlwiLFxuICAgICAgICAgICAgaXNfbmF0dXJhbF9ub196ZXJvOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSBudW1iZXIgZ3JlYXRlciB0aGFuIHplcm8uXCIsXG4gICAgICAgICAgICB2YWxpZF9pcDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgdmFsaWQgSVAuXCIsXG4gICAgICAgICAgICB2YWxpZF9iYXNlNjQ6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhIGJhc2U2NCBzdHJpbmcuXCIsXG4gICAgICAgICAgICB2YWxpZF9jcmVkaXRfY2FyZDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgdmFsaWQgY3JlZGl0IGNhcmQgbnVtYmVyLlwiLFxuICAgICAgICAgICAgaXNfZmlsZV90eXBlOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gb25seSAlcyBmaWxlcy5cIixcbiAgICAgICAgICAgIHZhbGlkX3VybDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgdmFsaWQgVVJMLlwiLFxuICAgICAgICAgICAgdmFsaWRfY2FfemlwOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSB2YWxpZCBQb3N0YWwgQ29kZS5cIlxuICAgICAgICB9LFxuICAgICAgICB0ID0gZnVuY3Rpb24oYSkge30sXG4gICAgICAgIGN6aXAgPSAvXltBQkNFR0hKS0xNTlBSU1RWWFldezF9XFxkezF9W0EtWl17MX0gKlxcZHsxfVtBLVpdezF9XFxkezF9JC8sXG4gICAgICAgIHBOID0gL14oXFxcXCspfCg5Wzk3Nl1cXGR8OFs5ODc1MzBdXFxkfDZbOTg3XVxcZHw1WzkwXVxcZHw0MlxcZHwzWzg3NV1cXGR8Mls5ODY1NDMyMV1cXGR8OVs4NTQzMjEwXXw4WzY0MjFdfDZbNjU0MzIxMF18NVs4NzY1NDMyMV18NFs5ODc2NTQzMTBdfDNbOTY0MzIxMF18Mls3MF18N3wxKVxcZHsxLDE0fSQvLFxuICAgICAgICB1ID0gL14oLis/KVxcWyguKylcXF0kLyxcbiAgICAgICAgaCA9IC9eWzAtOV0rJC8sXG4gICAgICAgIGFOREMgPSAvXig/PS4qW2EtekEtWl0pKD89LipcXGQpKD89LipbLV0pW0EtWmEtelxcZF1bQS1aYS16XFxkLV0rJC9pLFxuICAgICAgICBhTkMgPSAvXig/PS4qWzAtOV0pKD89LipbYS16QS1aXSkoW2EtekEtWjAtOV0rKSQvLFxuICAgICAgICB2ID0gL15cXC0/WzAtOV0rJC8sXG4gICAgICAgIGsgPSAvXlxcLT9bMC05XSpcXC4/WzAtOV0rJC8sXG4gICAgICAgIHAgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLyxcbiAgICAgICAgdyA9IC9eW2Etel0rJC9pLFxuICAgICAgICB4ID0gL15bYS16MC05XSskL2ksXG4gICAgICAgIHkgPSAvXlthLXowLTlfXFwtXSskL2ksXG4gICAgICAgIHogPSAvXlswLTldKyQvaSxcbiAgICAgICAgQSA9IC9eWzEtOV1bMC05XSokL2ksXG4gICAgICAgIEIgPSAvXigoMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzAtOV17MSwyfSlcXC4pezN9KDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFswLTldezEsMn0pJC9pLFxuICAgICAgICBDID0gL1teYS16QS1aMC05XFwvXFwrPV0vaSxcbiAgICAgICAgRCA9IC9eW1xcZFxcLVxcc10rJC8sXG4gICAgICAgIEUgPSAvXigoaHR0cHxodHRwcyk6XFwvXFwvKFxcdys6ezAsMX1cXHcqQCk/KFxcUyspfCkoOlswLTldKyk/KFxcL3xcXC8oW1xcdyMhOi4/Kz0mJUAhXFwtXFwvXSkpPyQvLFxuICAgICAgICBlID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGMgfHwgdDtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgICAgICAgICB0aGlzLmZpZWxkcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5fZm9ybUJ5TmFtZU9yTm9kZShhKSB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgICAgICAgIGEgPSAwO1xuICAgICAgICAgICAgZm9yIChjID0gYi5sZW5ndGg7IGEgPCBjOyBhKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGJbYV07XG4gICAgICAgICAgICAgICAgaWYgKChkLm5hbWUgfHwgZC5uYW1lcykgJiYgZC5ydWxlcylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubmFtZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGQubmFtZXMubGVuZ3RoOyBsKyspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkRmllbGQoZCwgZC5uYW1lc1tsXSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEZpZWxkKGQsIGQubmFtZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBnID0gdGhpcy5mb3JtLm9uc3VibWl0O1xuICAgICAgICAgICAgdGhpcy5mb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5fdmFsaWRhdGVGb3JtKGIpICYmIChnID09PSBtIHx8IGcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGMpIHt9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMpXG4gICAgICAgIH0sXG4gICAgICAgIG4gPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICB2YXIgYztcbiAgICAgICAgICAgIGlmICgwIDwgYS5sZW5ndGggJiYgKFwicmFkaW9cIiA9PT0gYVswXS50eXBlIHx8IFwiY2hlY2tib3hcIiA9PT0gYVswXS50eXBlKSlcbiAgICAgICAgICAgICAgICBmb3IgKGMgPSAwOyBjIDwgYS5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYVtjXS5jaGVja2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbY11bYl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFbYl1cbiAgICAgICAgfTtcbiAgICBlLnByb3RvdHlwZS5zZXRNZXNzYWdlID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICB0aGlzLm1lc3NhZ2VzW2FdID0gYjtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGEgJiYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhICYmIGIgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYikgJiYgKHRoaXMuaGFuZGxlcnNbYV0gPSBiKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLl9mb3JtQnlOYW1lT3JOb2RlID0gZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIGEgPyBhIDogci5mb3Jtc1thXVxuICAgIH07XG4gICAgZS5wcm90b3R5cGUuX2FkZEZpZWxkID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICB0aGlzLmZpZWxkc1tiXSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGIsXG4gICAgICAgICAgICBkaXNwbGF5OiBhLmRpc3BsYXkgfHwgYixcbiAgICAgICAgICAgIHJ1bGVzOiBhLnJ1bGVzLFxuICAgICAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBjaGVja2VkOiBudWxsXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGUucHJvdG90eXBlLl92YWxpZGF0ZUZvcm0gPSBmdW5jdGlvbihhKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgICAgIGZvciAodmFyIGIgaW4gdGhpcy5maWVsZHMpXG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZHMuaGFzT3duUHJvcGVydHkoYikpIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuZmllbGRzW2JdIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICBkID0gdGhpcy5mb3JtW2MubmFtZV07XG4gICAgICAgICAgICAgICAgZCAmJiBkICE9PSBtICYmIChjLmlkID0gbihkLCBcImlkXCIpLCBjLnR5cGUgPSAwIDwgZC5sZW5ndGggPyBkWzBdLnR5cGUgOiBkLnR5cGUsIGMudmFsdWUgPSBuKGQsIFwidmFsdWVcIiksIGMuY2hlY2tlZCA9IG4oZCwgXCJjaGVja2VkXCIpLCB0aGlzLl92YWxpZGF0ZUZpZWxkKGMpKVxuICAgICAgICAgICAgfVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2sodGhpcy5lcnJvcnMsIGEpO1xuICAgICAgICAwIDwgdGhpcy5lcnJvcnMubGVuZ3RoICYmIChhICYmIGEucHJldmVudERlZmF1bHQgPyBhLnByZXZlbnREZWZhdWx0KCkgOiBldmVudCAmJiAoZXZlbnQucmV0dXJuVmFsdWUgPSAhMSkpO1xuICAgICAgICByZXR1cm4gITBcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLl92YWxpZGF0ZUZpZWxkID0gZnVuY3Rpb24oYSkge1xuICAgICAgICBmb3IgKHZhciBiID0gYS5ydWxlcy5zcGxpdChcInxcIiksIGMgPSBhLnJ1bGVzLmluZGV4T2YoXCJyZXF1aXJlZFwiKSwgZCA9ICFhLnZhbHVlIHx8IFwiXCIgPT09IGEudmFsdWUgfHwgYS52YWx1ZSA9PT0gbSwgbCA9IDAsIGcgPSBiLmxlbmd0aDsgbCA8IGc7IGwrKykge1xuICAgICAgICAgICAgdmFyIGYgPSBiW2xdLFxuICAgICAgICAgICAgICAgIGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGggPSAhMSxcbiAgICAgICAgICAgICAgICBrID0gdS5leGVjKGYpO1xuICAgICAgICAgICAgaWYgKC0xICE9PSBjIHx8IC0xICE9PSBmLmluZGV4T2YoXCIhY2FsbGJhY2tfXCIpIHx8ICFkKVxuICAgICAgICAgICAgICAgIGlmIChrICYmIChmID0ga1sxXSwgZSA9IGtbMl0pLCBcIiFcIiA9PT0gZi5jaGFyQXQoMCkgJiYgKGYgPSBmLnN1YnN0cmluZygxLCBmLmxlbmd0aCkpLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0aGlzLl9ob29rc1tmXSA/IHRoaXMuX2hvb2tzW2ZdLmFwcGx5KHRoaXMsIFthLCBlXSkgfHwgKGggPSAhMCkgOiBcImNhbGxiYWNrX1wiID09PSBmLnN1YnN0cmluZygwLCA5KSAmJiAoZiA9IGYuc3Vic3RyaW5nKDksIGYubGVuZ3RoKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdGhpcy5oYW5kbGVyc1tmXSAmJiAhMSA9PT0gdGhpcy5oYW5kbGVyc1tmXS5hcHBseSh0aGlzLCBbYS52YWx1ZSwgZV0pICYmIChoID0gITApKSwgaCkge1xuICAgICAgICAgICAgICAgICAgICBiID0gdGhpcy5tZXNzYWdlc1tmICsgXCIjXCIgKyBhLm5hbWVdIHx8IHRoaXMubWVzc2FnZXNbZl0gfHwgc1tmXTtcbiAgICAgICAgICAgICAgICAgICAgYyA9IFwiQW4gZXJyb3IgaGFzIG9jY3VycmVkIHdpdGggdGhlIFwiICsgYS5kaXNwbGF5ICsgXCIgZmllbGQuXCI7XG4gICAgICAgICAgICAgICAgICAgIGIgJiYgKGMgPSBiLnJlcGxhY2UoXCIlc1wiLCBhLmRpc3BsYXkpLCBlICYmICgoY3UgPSBlLmluZGV4T2YoXCIjIyNcIikgPj0gMCAmJiBlLnNwbGl0KFwiIyMjXCIpKSA/IGN1WzFdICYmIChjID0gY3VbMV0pIDogYyA9IGMucmVwbGFjZShcIiVzXCIsIHRoaXMuZmllbGRzW2VdID8gdGhpcy5maWVsZHNbZV0uZGlzcGxheSA6IGUpKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgSWQ6IGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBOYW1lOiBhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlOiBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgUnVsZTogZlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGUucHJvdG90eXBlLl9ob29rcyA9IHtcbiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHZhciBiID0gYS52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gXCJjaGVja2JveFwiID09PSBhLnR5cGUgfHwgXCJyYWRpb1wiID09PSBhLnR5cGUgPyAhMCA9PT0gYS5jaGVja2VkIDogbnVsbCAhPT0gYiAmJiBcIlwiICE9PSBiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFwiOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS52YWx1ZSAhPT0gYlxuICAgICAgICB9LFxuICAgICAgICBtYXRjaGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZm9ybVtiXTtcbiAgICAgICAgICAgIHJldHVybiBjID8gYS52YWx1ZSA9PT0gYy52YWx1ZSA6ICExXG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkX2NhX3ppcDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIGN6aXAudGVzdChhLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICAvKmN1c3RvbV92YWxpZGF0aW9uOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGIuc3BsaXQoXCIjIyNcIilbMF07XG4gICAgICAgICAgICBjID0gYy5zcGxpdChcIm9yXCIpLmpvaW4oXCJ8XCIpO1xuICAgICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChjLCBcImdcIik7XG4gICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChhLnZhbHVlKVxuICAgICAgICB9LCovXG4gICAgICAgIHZhbGlkX2VtYWlsOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gcC50ZXN0KGEudmFsdWUpXG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkX2VtYWlsczogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgYSA9IGEudmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBhLmxlbmd0aDsgYisrKVxuICAgICAgICAgICAgICAgIGlmICghcC50ZXN0KGFbYl0pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICByZXR1cm4gITBcbiAgICAgICAgfSxcbiAgICAgICAgbWluX2xlbmd0aDogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGgudGVzdChiKSA/IGEudmFsdWUubGVuZ3RoID49IHBhcnNlSW50KGIsIDEwKSA6ICExXG4gICAgICAgIH0sXG4gICAgICAgIG1heF9sZW5ndGg6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBoLnRlc3QoYikgPyBhLnZhbHVlLmxlbmd0aCA8PSBwYXJzZUludChiLCAxMCkgOiAhMVxuICAgICAgICB9LFxuICAgICAgICBleGFjdF9sZW5ndGg6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBoLnRlc3QoYikgPyBhLnZhbHVlLmxlbmd0aCA9PT0gcGFyc2VJbnQoYiwgMTApIDogITFcbiAgICAgICAgfSxcbiAgICAgICAgZ3JlYXRlcl90aGFuOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gay50ZXN0KGEudmFsdWUpID8gcGFyc2VGbG9hdChhLnZhbHVlKSA+IHBhcnNlRmxvYXQoYikgOiAhMVxuICAgICAgICB9LFxuICAgICAgICBsZXNzX3RoYW46IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBrLnRlc3QoYS52YWx1ZSkgPyBwYXJzZUZsb2F0KGEudmFsdWUpIDwgcGFyc2VGbG9hdChiKSA6ICExXG4gICAgICAgIH0sXG4gICAgICAgIGFscGhhOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gdy50ZXN0KGEudmFsdWUpXG4gICAgICAgIH0sXG4gICAgICAgIGFscGhhX251bWVyaWM6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiB4LnRlc3QoYS52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgYWxwaGFfZGFzaDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIHkudGVzdChhLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICBhbHBoYV9udW1lcmljX2Rhc2hfY29tYm86IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBhTkRDLnRlc3QoYS52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgYWxwaGFudW1lcmljX2NvbWJvOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gYU5DLnRlc3QoYS52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgbnVtZXJpYzogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIGgudGVzdChhLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICBpbnRlZ2VyOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gdi50ZXN0KGEudmFsdWUpXG4gICAgICAgIH0sXG4gICAgICAgIGRlY2ltYWw6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBrLnRlc3QoYS52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgaXNfbmF0dXJhbDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIHoudGVzdChhLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICBpc19uYXR1cmFsX25vX3plcm86IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBBLnRlc3QoYS52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRfaXA6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBCLnRlc3QoYS52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRfcGhvbmVubzogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIChwTi50ZXN0KGEudmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRfYmFzZTY0OiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gQy50ZXN0KGEudmFsdWUpXG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkX3VybDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIEUudGVzdChhLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZF9jcmVkaXRfY2FyZDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgaWYgKCFELnRlc3QoYS52YWx1ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgdmFyIGIgPSAwLFxuICAgICAgICAgICAgICAgIGMgPSAwLFxuICAgICAgICAgICAgICAgIGQgPSAhMTtcbiAgICAgICAgICAgIGEgPSBhLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGUgPSBhLmxlbmd0aCAtIDE7IDAgPD0gZTsgZS0tKVxuICAgICAgICAgICAgICAgIGMgPSBhLmNoYXJBdChlKSwgYyA9IHBhcnNlSW50KGMsIDEwKSwgZCAmJiA5IDwgKGMgKj0gMikgJiYgKGMgLT0gOSksIGIgKz0gYywgZCA9ICFkO1xuICAgICAgICAgICAgcmV0dXJuIDAgPT09IGIgJSAxMFxuICAgICAgICB9LFxuICAgICAgICBpc19maWxlX3R5cGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChcImZpbGVcIiAhPT0gYS50eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgIHZhciBjID0gYS52YWx1ZS5zdWJzdHIoYS52YWx1ZS5sYXN0SW5kZXhPZihcIi5cIikgKyAxKSxcbiAgICAgICAgICAgICAgICBkID0gYi5zcGxpdChcIixcIiksXG4gICAgICAgICAgICAgICAgZSA9ICExLFxuICAgICAgICAgICAgICAgIG0gPSAwLFxuICAgICAgICAgICAgICAgIGYgPSBkLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIG07IG0gPCBmOyBtKyspXG4gICAgICAgICAgICAgICAgYyA9PSBkW21dICYmIChlID0gITApO1xuICAgICAgICAgICAgcmV0dXJuIGVcbiAgICAgICAgfVxuICAgIH07XG4gICAgcS5Gb3JtVmFsaWRhdG9yID0gZVxufSkod2luZG93LCBkb2N1bWVudCk7XG5cbi8qKlxuICogQG5hbWVzcGFjZSBMUk5hbWVTcGFjZVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBMUk5hbWVTcGFjZSA9IHt9O1xuXG4oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc3RvcmFnZSBnZXR0ZXIvc2V0dGVyL3JlbW92ZSBtZXRob2RzXG4gICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZVxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbmFtZXNwYWNlIExSTmFtZVNwYWNlLlN0b3JhZ2VcbiAgICovXG4gIGNvbnRleHQuU3RvcmFnZSA9IGZ1bmN0aW9uIChtb2R1bGUsIExvZ2luUmFkaXVzRGVmYXVsdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5TdG9yYWdlI1xuICAgICAgKiBAZnVuY3Rpb24gaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkXG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsc05hbWUgc3RyaW5nXG4gICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUvZmFsc2UgIGJvb2xlYW4gdmFsdWVcbiAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrIGJyb3dzZXIgbG9jYWwgc3RvcmFnZSBuYW1lIHN1cHBvcnRlZCBvciBub3QuXG4gICAgICAqL1xuICAgICAgaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkOiBmdW5jdGlvbiAobHNOYW1lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHdpbmRvd1tsc05hbWVdKSB7XG4gICAgICAgICAgICB2YXIgdGVzdEtleSA9ICd0ZXN0JztcbiAgICAgICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93W2xzTmFtZV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0odGVzdEtleSwgJzEnKTtcbiAgICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlN0b3JhZ2UjXG4gICAqIEBmdW5jdGlvbiBzZXRCcm93c2VyU3RvcmFnZVxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IHN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgc3RyaW5nXG4gICAqIEBkZXNjcmlwdGlvbiBTZXQgb2JqZWN0IGluIGJyb3dzZXIgbG9jYWwgc3RvcmFnZS5cbiAgICovXG4gICAgICBzZXRCcm93c2VyU3RvcmFnZTogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGNvb2tpZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkKCdsb2NhbFN0b3JhZ2UnKSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGNvb2tpZUZhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkKCdzZXNzaW9uU3RvcmFnZScpKSB7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgICBjb29raWVGYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvb2tpZUZhbGxiYWNrICYmIG1vZHVsZSAmJiBtb2R1bGUub3B0aW9ucykge1xuICAgICAgICAgIGNvbnRleHQuY29va2llcy5zZXRJdGVtKGtleSwgdmFsdWUsICcnLCBtb2R1bGUub3B0aW9ucy5hcHBQYXRoKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5TdG9yYWdlI1xuICAgICAgKiBAZnVuY3Rpb24gZ2V0QnJvd3NlclN0b3JhZ2VcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBzdHJpbmdcbiAgICAgICogQHJldHVybiB7T2JqZWN0fSB2YWx1ZSBzdHJpbmdcbiAgICAgICogQGRlc2NyaXB0aW9uIEdldCBzYXZlZCB2YWx1ZXMgZnJvbSBicm93c2VyIGxvY2FsIHN0b3JhZ2UuXG4gICAgICAqL1xuICAgICAgZ2V0QnJvd3NlclN0b3JhZ2U6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMgJiYga2V5ID09PSBMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSkge1xuICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmdldEJyb3dzZXJTdG9yYWdlKCdsci1zZXNzaW9uLXRva2VuJyk7XG4gICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UoL1wiL2csICcnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUsIHZhbCk7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQoJ2xvY2FsU3RvcmFnZScpICYmXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gbnVsbCAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpICE9PSB1bmRlZmluZWQgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gJycpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgnc2Vzc2lvblN0b3JhZ2UnKSAmJlxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gbnVsbCAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09IHVuZGVmaW5lZCAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvb2tpZXMuZ2V0SXRlbShrZXkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5TdG9yYWdlI1xuICAgICAgKiBAZnVuY3Rpb24gcmVtb3ZlQnJvd3NlclN0b3JhZ2VcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBzdHJpbmdcbiAgICAgICogQGRlc2NyaXB0aW9uIFJlbW92ZSBzYXZlIG9iamVjdCBmcm9tIGJyb3dzZXIgbG9jYWwgc3RvcmFnZS5cbiAgICAgICovXG4gICAgICByZW1vdmVCcm93c2VyU3RvcmFnZTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgY29va2llRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQoJ2xvY2FsU3RvcmFnZScpKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICBjb29raWVGYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgnc2Vzc2lvblN0b3JhZ2UnKSkge1xuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICBjb29raWVGYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvb2tpZUZhbGxiYWNrICYmIG1vZHVsZSAmJiBtb2R1bGUub3B0aW9ucykge1xuICAgICAgICAgIGNvbnRleHQuY29va2llcy5yZW1vdmVJdGVtKGtleSwgbW9kdWxlLm9wdGlvbnMuYXBwUGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH07XG4gIH07XG59KShMUk5hbWVTcGFjZSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1tYWdpYy1udW1iZXJzICovXG4oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZG9jdW1lbnQgY29va2llcyBnZXR0ZXIvc2V0dGVyL3JlbW92ZSBtZXRob2RzXG4gICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZVxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbmFtZXNwYWNlIExSTmFtZVNwYWNlLmNvb2tpZXNcbiAgICovXG4gIGNvbnRleHQuY29va2llcyA9IHtcblxuICAgIGludFRvU3RyaW5nOiBmdW5jdGlvbiAoaW50VmFsdWUpIHtcbiAgICAgIHJldHVybiBpbnRWYWx1ZS50b1N0cmluZygpO1xuICAgIH0sXG5cbiAgICBzdHJpbmdUb0ludDogZnVuY3Rpb24gKHN0clZhbHVlKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQoc3RyVmFsdWUsIDEwKSB8fCAwO1xuICAgIH0sXG5cbiAgICAvLyBEb27igJl0IHNlbmQgYFNhbWVTaXRlPU5vbmVgIHRvIGtub3duIGluY29tcGF0aWJsZSBjbGllbnRzLlxuICAgIGlzU2FtZVNpdGVOb25lQ29tcGF0aWJsZTogZnVuY3Rpb24gKHVzZXJhZ2VudCkge1xuICAgICAgcmV0dXJuICF0aGlzLmlzU2FtZVNpdGVOb25lSW5jb21wYXRpYmxlKHVzZXJhZ2VudC50b1N0cmluZygpKTtcbiAgICB9LFxuXG4gICAgLy8gQ2xhc3NlcyBvZiBicm93c2VycyBrbm93biB0byBiZSBpbmNvbXBhdGlibGUuXG4gICAgaXNTYW1lU2l0ZU5vbmVJbmNvbXBhdGlibGU6IGZ1bmN0aW9uICh1c2VyYWdlbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuaGFzV2ViS2l0U2FtZVNpdGVCdWcodXNlcmFnZW50KSB8fFxuICAgICAgdGhpcy5kcm9wc1VucmVjb2duaXplZFNhbWVTaXRlQ29va2llcyh1c2VyYWdlbnQpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBoYXNXZWJLaXRTYW1lU2l0ZUJ1ZzogZnVuY3Rpb24gKHVzZXJhZ2VudCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5pc0lvc1ZlcnNpb24oMTIsIHVzZXJhZ2VudCkgfHxcbiAgICAgICh0aGlzLmlzTWFjb3N4VmVyc2lvbigxMCwgMTQsIHVzZXJhZ2VudCkgJiZcbiAgICAgICAgKHRoaXMuaXNTYWZhcmkodXNlcmFnZW50KSB8fCB0aGlzLmlzTWFjRW1iZWRkZWRCcm93c2VyKHVzZXJhZ2VudCkpKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgZHJvcHNVbnJlY29nbml6ZWRTYW1lU2l0ZUNvb2tpZXM6IGZ1bmN0aW9uICh1c2VyYWdlbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICh0aGlzLmlzQ2hyb21pdW1CYXNlZCh1c2VyYWdlbnQpICYmXG4gICAgICAgIHRoaXMuaXNDaHJvbWl1bVZlcnNpb25BdExlYXN0KDUxLCB1c2VyYWdlbnQpICYmXG4gICAgICAgICF0aGlzLmlzQ2hyb21pdW1WZXJzaW9uQXRMZWFzdCg2NywgdXNlcmFnZW50KSkgfHxcbiAgICAgICh0aGlzLmlzVWNCcm93c2VyKHVzZXJhZ2VudCkgJiYgIXRoaXMuaXNVY0Jyb3dzZXJWZXJzaW9uQXRMZWFzdCgxMiwgMTMsIDIsIHVzZXJhZ2VudCkpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBSZWdleCBwYXJzaW5nIG9mIFVzZXItQWdlbnQgc3RyaW5nLlxuICAgIHJlZ2V4Q29udGFpbnM6IGZ1bmN0aW9uIChzdHJpbmdWYWx1ZSwgcmVnZXgpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gc3RyaW5nVmFsdWUubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIG1hdGNoZXMgIT09IG51bGw7XG4gICAgfSxcblxuICAgIGV4dHJhY3RSZWdleE1hdGNoOiBmdW5jdGlvbiAoc3RyaW5nVmFsdWUsIHJlZ2V4LCBvZmZzZXRJbmRleCkge1xuICAgICAgdmFyIG1hdGNoZXMgPSBzdHJpbmdWYWx1ZS5tYXRjaChyZWdleCk7XG5cbiAgICAgIGlmIChtYXRjaGVzICE9PSBudWxsICYmIG1hdGNoZXNbb2Zmc2V0SW5kZXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNbb2Zmc2V0SW5kZXhdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgaXNJb3NWZXJzaW9uOiBmdW5jdGlvbiAobWFqb3IsIHVzZXJhZ2VudCkge1xuICAgICAgdmFyIHJlZ2V4ID0gL1xcKGlQLis7IENQVSAuKk9TIChcXGQrKVtfXFxkXSouKlxcKSBBcHBsZVdlYktpdFxcLy87XG4gICAgICAvLyBFeHRyYWN0IGRpZ2l0cyBmcm9tIGZpcnN0IGNhcHR1cmluZyBncm91cC5cbiAgICAgIHJldHVybiB0aGlzLmV4dHJhY3RSZWdleE1hdGNoKHVzZXJhZ2VudCwgcmVnZXgsIDEpID09PSB0aGlzLmludFRvU3RyaW5nKG1ham9yKTtcbiAgICB9LFxuXG4gICAgaXNNYWNvc3hWZXJzaW9uOiBmdW5jdGlvbiAobWFqb3IsIG1pbm9yLCB1c2VyYWdlbnQpIHtcbiAgICAgIHZhciByZWdleCA9IC9cXChNYWNpbnRvc2g7LipNYWMgT1MgWCAoXFxkKylfKFxcZCspW19cXGRdKi4qXFwpIEFwcGxlV2ViS2l0XFwvLztcbiAgICAgIC8vIEV4dHJhY3QgZGlnaXRzIGZyb20gZmlyc3QgYW5kIHNlY29uZCBjYXB0dXJpbmcgZ3JvdXBzLlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5leHRyYWN0UmVnZXhNYXRjaCh1c2VyYWdlbnQsIHJlZ2V4LCAxKSA9PT0gdGhpcy5pbnRUb1N0cmluZyhtYWpvcikgJiZcbiAgICAgIHRoaXMuZXh0cmFjdFJlZ2V4TWF0Y2godXNlcmFnZW50LCByZWdleCwgMikgPT09IHRoaXMuaW50VG9TdHJpbmcobWlub3IpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBpc1NhZmFyaTogZnVuY3Rpb24gKHVzZXJhZ2VudCkge1xuICAgICAgdmFyIHNhZmFyaVJlZ2V4ID0gL1ZlcnNpb25cXC8uKiBTYWZhcmlcXC8vO1xuICAgICAgcmV0dXJuIHVzZXJhZ2VudC5tYXRjaChzYWZhcmlSZWdleCkgIT09IG51bGwgJiYgIXRoaXMuaXNDaHJvbWl1bUJhc2VkKHVzZXJhZ2VudCk7XG4gICAgfSxcblxuICAgIGlzTWFjRW1iZWRkZWRCcm93c2VyOiBmdW5jdGlvbiAodXNlcmFnZW50KSB7XG4gICAgICB2YXIgcmVnZXggPSAvXk1vemlsbGFcXC9bLlxcZF0rIFxcKE1hY2ludG9zaDsuKk1hYyBPUyBYIFtfXFxkXStcXCkgQXBwbGVXZWJLaXRcXC9bLlxcZF0rIFxcKEtIVE1MLCBsaWtlIEdlY2tvXFwpJC87XG5cbiAgICAgIHJldHVybiB0aGlzLnJlZ2V4Q29udGFpbnModXNlcmFnZW50LCByZWdleCk7XG4gICAgfSxcblxuICAgIGlzQ2hyb21pdW1CYXNlZDogZnVuY3Rpb24gKHVzZXJhZ2VudCkge1xuICAgICAgdmFyIHJlZ2V4ID0gL0Nocm9tKGV8aXVtKS87XG4gICAgICByZXR1cm4gdGhpcy5yZWdleENvbnRhaW5zKHVzZXJhZ2VudCwgcmVnZXgpO1xuICAgIH0sXG5cbiAgICBpc0Nocm9taXVtVmVyc2lvbkF0TGVhc3Q6IGZ1bmN0aW9uIChtYWpvciwgdXNlcmFnZW50KSB7XG4gICAgICB2YXIgcmVnZXggPSAvQ2hyb21bXiAvXStcXC8oXFxkKylbLlxcZF0qIC87XG4gICAgICAvLyBFeHRyYWN0IGRpZ2l0cyBmcm9tIGZpcnN0IGNhcHR1cmluZyBncm91cC5cbiAgICAgIHZhciB2ZXJzaW9uID0gdGhpcy5zdHJpbmdUb0ludCh0aGlzLmV4dHJhY3RSZWdleE1hdGNoKHVzZXJhZ2VudCwgcmVnZXgsIDEpKTtcbiAgICAgIHJldHVybiB2ZXJzaW9uID49IG1ham9yO1xuICAgIH0sXG5cbiAgICBpc1VjQnJvd3NlcjogZnVuY3Rpb24gKHVzZXJhZ2VudCkge1xuICAgICAgdmFyIHJlZ2V4ID0gL1VDQnJvd3NlclxcLy87XG4gICAgICByZXR1cm4gdGhpcy5yZWdleENvbnRhaW5zKHVzZXJhZ2VudCwgcmVnZXgpO1xuICAgIH0sXG5cbiAgICBpc1VjQnJvd3NlclZlcnNpb25BdExlYXN0OiBmdW5jdGlvbiAobWFqb3IsIG1pbm9yLCBidWlsZCwgdXNlcmFnZW50KSB7XG4gICAgICB2YXIgcmVnZXggPSAvVUNCcm93c2VyXFwvKFxcZCspXFwuKFxcZCspXFwuKFxcZCspWy5cXGRdKiAvO1xuICAgICAgLy8gRXh0cmFjdCBkaWdpdHMgZnJvbSB0aHJlZSBjYXB0dXJpbmcgZ3JvdXBzLlxuICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHRoaXMuc3RyaW5nVG9JbnQodGhpcy5leHRyYWN0UmVnZXhNYXRjaCh1c2VyYWdlbnQsIHJlZ2V4LCAxKSk7XG4gICAgICB2YXIgbWlub3JWZXJzaW9uID0gdGhpcy5zdHJpbmdUb0ludCh0aGlzLmV4dHJhY3RSZWdleE1hdGNoKHVzZXJhZ2VudCwgcmVnZXgsIDIpKTtcbiAgICAgIHZhciBidWlsZFZlcnNpb24gPSB0aGlzLnN0cmluZ1RvSW50KHRoaXMuZXh0cmFjdFJlZ2V4TWF0Y2godXNlcmFnZW50LCByZWdleCwgMykpO1xuICAgICAgaWYgKG1ham9yVmVyc2lvbiAhPT0gbWFqb3IpIHtcbiAgICAgICAgcmV0dXJuIG1ham9yVmVyc2lvbiA+IG1ham9yO1xuICAgICAgfVxuICAgICAgaWYgKG1pbm9yVmVyc2lvbiAhPT0gbWlub3IpIHtcbiAgICAgICAgcmV0dXJuIG1pbm9yVmVyc2lvbiA+IG1pbm9yO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVpbGRWZXJzaW9uID49IGJ1aWxkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybnMgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBkb2N1bWVudCBjb29raWUgT2JqZWN0IGl0ZW0uXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLmNvb2tpZXMjXG4gICAgICogQGZ1bmN0aW9uIGdldEl0ZW1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc0tleSAtIEEgU3RyaW5nIHNwZWNpZnlpbmcgdGhlIG5hbWUgb2YgdGhlIGtleSB5b3Ugd2FudCB0byBnZXQgdGhlIHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm4ge251bGx8T2JqZWN0fSAgcmV0dXJuIHRoZSB2YWx1ZSBvZiBzcGVjaWZpZWQga2V5IGZyb20gY29va2llcy5cbiAgICAgKi9cbiAgICBnZXRJdGVtOiBmdW5jdGlvbiAoc0tleSkge1xuICAgICAgaWYgKCFzS2V5KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyg/Oig/Ol58Lio7KVxcXFxzKicgKyBlbmNvZGVVUklDb21wb25lbnQoc0tleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgJ1xcXFwkJicpICsgJ1xcXFxzKlxcXFw9XFxcXHMqKFteO10qKS4qJCl8Xi4qJCcpLCAnJDEnKSkgfHwgbnVsbDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0cyB0aGUgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBkb2N1bWVuIGNvb2tpZSBzdG9yYWdlIE9iamVjdCBpdGVtXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLmNvb2tpZXMjXG4gICAgICogQGZ1bmN0aW9uIHNldEl0ZW1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc0tleSAtIEEgU3RyaW5nIHNwZWNpZnlpbmcgdGhlIG5hbWUgb2YgdGhlIGtleSB5b3Ugd2FudCB0byBzZXQgdGhlIHZhbHVlIG9mLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzVmFsdWUgLSBzcGVjaWZ5aW5nIHRoZSB2YWx1ZSBvZiB0aGUga2V5IHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUgb2ZcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdkVuZCAtIChOdW1iZXIgLSBmaW5pdGUgb3IgSW5maW5pdHksIFN0cmluZywgRGF0ZSBvYmplY3Qgb3IgbnVsbCk6IHRoZSBtYXgtYWdlIGluIHNlY29uZHMgKGUuZy5cbiAgICAgKiAzMTUzNmUzIGZvciBhIHllYXIpIG9yIHRoZSBleHBpcmVzIGRhdGUgaW4gR01UU3RyaW5nIGZvcm1hdCBvciBpbiBEYXRlIE9iamVjdCBmb3JtYXQ7IGlmIG5vdCBzcGVjaWZpZWQgaXQgd2lsbFxuICAgICAqIGV4cGlyZSBhdCB0aGUgZW5kIG9mIHNlc3Npb247XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNQYXRoIC0gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwYXRoIG9mIHRoZSBjb29raWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNEb21haW4gLSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRvbWFpbiBvZiB0aGUgY29va2llLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiU2VjdXJlIC0gQSBib29sZWFuIHRoYXQgc3BlY2lmaWVzIHdoZXRoZXIgdGhlIGNvb2tpZSBzaG91bGQgYmUgbWFya2VkIGFzIHNlY3VyZSAodHJ1ZSksIG9yIG5vdCAoZmFsc2UpLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGNoZWNrIGtleSBpcyBhbHJlYWR5IHRoZXJlIG9yIG5vdCBpbiBTdG9yYWdlIC5cbiAgICAgKi9cbiAgICBzZXRJdGVtOiBmdW5jdGlvbiAoc0tleSwgc1ZhbHVlLCB2RW5kLCBzUGF0aCwgc0RvbWFpbiwgYlNlY3VyZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICBpZiAoIXNLZXkgfHwgL14oPzpleHBpcmVzfG1heFxcLWFnZXxwYXRofGRvbWFpbnxzZWN1cmUpJC9pLnRlc3Qoc0tleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHNFeHBpcmVzID0gJyc7XG4gICAgICB2YXIgdkV4cGlyeURhdGUgPSB7XG4gICAgICAgIGdldEluU3RyaW5nRm9ybWF0OiBmdW5jdGlvbiAobk1heEFnZSkgeyAvLyBcIm1heC1hZ2VcIiBpbiBzZWNvbmRcbiAgICAgICAgICBpZiAobk1heEFnZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIHJldHVybiAnRnJpLCAzMSBEZWMgOTk5OSAyMzo1OTo1OSBHTVQnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgZERhdGUuc2V0VGltZShkRGF0ZS5nZXRUaW1lKCkgKyAobk1heEFnZSAqIDEwMDApKTtcbiAgICAgICAgICByZXR1cm4gZERhdGUudG9HTVRTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2RW5kKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LWNhc2VcbiAgICAgICAgc3dpdGNoICh2RW5kLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICBzRXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIHZFeHBpcnlEYXRlLmdldEluU3RyaW5nRm9ybWF0KHZFbmQpICsgdkVuZCA9PT0gSW5maW5pdHkgPyAnJyA6ICc7IG1heC1hZ2U9JyArIHZFbmQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgIHNFeHBpcmVzID0gJzsgZXhwaXJlcz0nICsgdkVuZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRGF0ZTpcbiAgICAgICAgICAgIHNFeHBpcmVzID0gJzsgZXhwaXJlcz0nICsgdkVuZC50b1VUQ1N0cmluZygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzS2V5ID09PSAnbHItdXNlci0tdG9rZW4nKSB7XG4gICAgICAgIGJTZWN1cmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICBpZiAoc0tleSA9PT0gJ2xyLXNlc3Npb24tdG9rZW4nICYmICh0aGlzLmlzU2FtZVNpdGVOb25lQ29tcGF0aWJsZSh1c2VyQWdlbnQpKSkge1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoc0tleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoc1ZhbHVlKSArIHNFeHBpcmVzICsgKHNEb21haW4gPyAnOyBkb21haW49JyArIHNEb21haW4gOiAnJykgKyAoc1BhdGggPyAnOyBwYXRoPScgKyBzUGF0aCA6ICcnKSArICc7c2VjdXJlJyArICc7U2FtZVNpdGU9Tm9uZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoc0tleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoc1ZhbHVlKSArIHNFeHBpcmVzICsgKHNEb21haW4gPyAnOyBkb21haW49JyArIHNEb21haW4gOiAnJykgKyAoc1BhdGggPyAnOyBwYXRoPScgKyBzUGF0aCA6ICcnKSArIChiU2VjdXJlID8gJzsgc2VjdXJlJyA6ICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZW1vdmVzIHRoZSBzcGVjaWZpZWQgU3RvcmFnZSBPYmplY3QgaXRlbS4uXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLmNvb2tpZXMjXG4gICAgICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc0tleSAtIEEgU3RyaW5nIHNwZWNpZnlpbmcgdGhlIG5hbWUgb2YgdGhlIGl0ZW0geW91IHdhbnQgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzUGF0aCAtIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgY29va2llLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzRG9tYWluIC0gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb21haW4gb2YgdGhlIGNvb2tpZS5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBpdGVtIGhhcyBiZWVuIHJlbW92ZWQgb3Igbm90LlxuICAgICAqL1xuICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChzS2V5LCBzUGF0aCwgc0RvbWFpbikge1xuICAgICAgaWYgKCF0aGlzLmhhc0l0ZW0oc0tleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuY29va2llID0gZW5jb2RlVVJJQ29tcG9uZW50KHNLZXkpICsgJz07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQnICsgKHNEb21haW4gPyAnOyBkb21haW49JyArIHNEb21haW4gOiAnJykgKyAoc1BhdGggPyAnOyBwYXRoPScgKyBzUGF0aCA6ICcnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBjaGVjayB0aGUgc3BlY2lmaWVkIFN0b3JhZ2UgT2JqZWN0IGl0ZW0gYXZhaWxhYmxlIG9yIG5vdC5cbiAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuY29va2llcyNcbiAgICAgKiBAZnVuY3Rpb24gaGFzSXRlbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzS2V5IC0gQSBTdHJpbmcgc3BlY2lmeWluZyB0aGUgbmFtZSBvZiB0aGUgaXRlbSB5b3Ugd2FudCB0byBmaW5kLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGl0ZW0gaGFzIGJlZW4gcHJlc2VudCBvciBub3QgaW4gc3RvcmFnZS5cbiAgICAgKi9cbiAgICBoYXNJdGVtOiBmdW5jdGlvbiAoc0tleSkge1xuICAgICAgaWYgKCFzS2V5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgcmV0dXJuIChuZXcgUmVnRXhwKCcoPzpefDtcXFxccyopJyArIGVuY29kZVVSSUNvbXBvbmVudChzS2V5KS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgKyAnXFxcXHMqXFxcXD0nKSkudGVzdChkb2N1bWVudC5jb29raWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm5zIGFsbCB0aGUgc2F2ZWQga2V5cyBpbiBTdG9yYWdlIE9iamVjdC5cbiAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuY29va2llcyNcbiAgICAgKiBAZnVuY3Rpb24ga2V5c1xuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbGwgdGhlIGtleXMgdGhhdCBzdG9yZWQgaW4gc3RvcmFnZS5cbiAgICAgKi9cbiAgICBrZXlzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgIHZhciBhS2V5cyA9IGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKC8oKD86XnxcXHMqOylbXlxcPV0rKSg/PTt8JCl8Xlxccyp8XFxzKig/OlxcPVteO10qKT8oPzpcXDF8JCkvZywgJycpLnNwbGl0KC9cXHMqKD86XFw9W147XSopPztcXHMqLyk7XG4gICAgICBmb3IgKHZhciBuTGVuID0gYUtleXMubGVuZ3RoLCBuSWR4ID0gMDsgbklkeCA8IG5MZW47IG5JZHgrKykge1xuICAgICAgICBhS2V5c1tuSWR4XSA9IGRlY29kZVVSSUNvbXBvbmVudChhS2V5c1tuSWR4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYUtleXM7XG4gICAgfVxuXG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxufSkoTFJOYW1lU3BhY2UpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1tYWdpYy1udW1iZXJzICovXG4oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgVXRpbGl0aWVzIG1ldGhvZHNcbiAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBuYW1lc3BhY2UgTFJOYW1lU3BhY2UuVXRpbGl0aWVzXG4gICAqL1xuICBjb250ZXh0LlV0aWxpdGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiAgQGRlc2NyaXB0aW9uIEV2ZXJ5dGhpbmcgdGhhdCBoYXMgdG8gZG8gd2l0aCBwcm9wZXJseSBzdXBwb3J0aW5nIG91ciBkb2N1bWVudCByZWFkeSBldmVudC4gQnJvdWdodCBvdmVyIGZyb20gdGhlIG1vc3QgYXdlc29tZSBqUXVlcnkuXG4gICAgICovXG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAvKipcbiAgICAqICBAZGVzY3JpcHRpb24gRmlndXJlIG91dCB3aGF0IGJyb3dzZXIgaXMgYmVpbmcgdXNlZFxuICAgICovXG4gICAgdmFyIGJyb3dzZXIgPSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgIHZlcnNpb246ICh1c2VyQWdlbnQubWF0Y2goLy4rKD86cnZ8aXR8cmF8aWUpW1xcLzogXShbXFxkLl0rKS8pIHx8IFtdKVsxXSxcbiAgICAgIHNhZmFyaTogL3dlYmtpdC8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgb3BlcmE6IC9vcGVyYS8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgbXNpZTogKC9tc2llLy50ZXN0KHVzZXJBZ2VudCkgfHwgL3RyaWRlbnQvLnRlc3QodXNlckFnZW50KSkgJiYgKCEvb3BlcmEvLnRlc3QodXNlckFnZW50KSksXG4gICAgICBtb3ppbGxhOiAoL21vemlsbGEvLnRlc3QodXNlckFnZW50KSkgJiYgKCEvKGNvbXBhdGlibGV8d2Via2l0KS8udGVzdCh1c2VyQWdlbnQpKVxuICAgIH07XG5cbiAgICB2YXIgcmVhZHlCb3VuZCA9IGZhbHNlO1xuICAgIHZhciBpc1JlYWR5ID0gZmFsc2U7XG4gICAgdmFyIHJlYWR5TGlzdCA9IFtdO1xuICAgIC8qKlxuICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAZnVuY3Rpb24gZG9tUmVhZHlcbiAgICAqIEBkZXNjcmlwdGlvbiBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG4gICAgKi9cbiAgICBmdW5jdGlvbiBkb21SZWFkeSAoKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgRE9NIGlzIG5vdCBhbHJlYWR5IGxvYWRlZFxuICAgICAgaWYgKCFpc1JlYWR5KSB7XG4gICAgICAgIC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuICAgICAgICBpc1JlYWR5ID0gdHJ1ZTtcblxuICAgICAgICBpZiAocmVhZHlMaXN0KSB7XG4gICAgICAgICAgZm9yICh2YXIgZm4gPSAwOyBmbiA8IHJlYWR5TGlzdC5sZW5ndGg7IGZuKyspIHtcbiAgICAgICAgICAgIHJlYWR5TGlzdFtmbl0uY2FsbCh3aW5kb3csIFtdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWFkeUxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQGZ1bmN0aW9uIGFkZExvYWRFdmVudFxuICAgICogQGRlc2NyaXB0aW9uIEZyb20gU2ltb24gV2lsbGlzb24uIEEgc2FmZSB3YXkgdG8gZmlyZSBvbmxvYWQgdy9vIHNjcmV3aW5nIHVwIGV2ZXJ5b25lIGVsc2UuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBhZGRMb2FkRXZlbnQgKGZ1bmMpIHtcbiAgICAgIHZhciBvbGRvbmxvYWQgPSB3aW5kb3cub25sb2FkO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cub25sb2FkICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAob2xkb25sb2FkKSB7XG4gICAgICAgICAgICBvbGRvbmxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuYygpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQGZ1bmN0aW9uIGJpbmRSZWFkeVxuICAgICogQGRlc2NyaXB0aW9uIERvZXMgdGhlIGhlYXZ5IHdvcmsgb2Ygd29ya2luZyB0aHJvdWdoIHRoZSBicm93c2VycyBpZGlvc3luY3JhY2llcyAobGV0J3MgY2FsbCB0aGVtIHRoYXQpIHRvIGhvb2sgb25sb2FkLlxuICAgICovXG4gICAgZnVuY3Rpb24gYmluZFJlYWR5ICgpIHtcbiAgICAgIGlmIChyZWFkeUJvdW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVhZHlCb3VuZCA9IHRydWU7XG5cbiAgICAgIC8vIE1vemlsbGEsIE9wZXJhIChzZWUgZnVydGhlciBiZWxvdyBmb3IgaXQpIGFuZCB3ZWJraXQgbmlnaHRsaWVzIGN1cnJlbnRseSBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICYmICFicm93c2VyLm9wZXJhKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRvbVJlYWR5LCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIElFIGlzIHVzZWQgYW5kIGlzIG5vdCBpbiBhIGZyYW1lXG4gICAgICAvLyBDb250aW51YWxseSBjaGVjayB0byBzZWUgaWYgdGhlIGRvY3VtZW50IGlzIHJlYWR5XG4gICAgICBpZiAoYnJvd3Nlci5tc2llICYmIHdpbmRvdyA9PT0gdG9wKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGlzUmVhZHkpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIElFIGlzIHVzZWQsIHVzZSB0aGUgdHJpY2sgYnkgRGllZ28gUGVyaW5pXG4gICAgICAgICAgICAvLyBodHRwOi8vamF2YXNjcmlwdC5ud2JveC5jb20vSUVDb250ZW50TG9hZGVkL1xuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCdsZWZ0Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGFuZCBleGVjdXRlIGFueSB3YWl0aW5nIGZ1bmN0aW9uc1xuICAgICAgICAgIGRvbVJlYWR5KCk7XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChicm93c2VyLm9wZXJhKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGlzUmVhZHkpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gYW5kIGV4ZWN1dGUgYW55IHdhaXRpbmcgZnVuY3Rpb25zXG4gICAgICAgICAgZG9tUmVhZHkoKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgdmFyIG51bVN0eWxlcztcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoaXNSZWFkeSkgeyByZXR1cm47IH1cbiAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRlZCcgJiYgZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgLy8gc2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG51bVN0eWxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAobGlua3NbaV0uZ2V0QXR0cmlidXRlKCdyZWwnKSA9PT0gJ3N0eWxlc2hlZXQnKSB7XG4gICAgICAgICAgICAgICAgbnVtU3R5bGVzKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKTtcbiAgICAgICAgICAgIC8vIG51bVN0eWxlcyArPSBzdHlsZXMubGVuZ3RoO1xuICAgICAgICAgICAgbnVtU3R5bGVzID0gKG51bVN0eWxlcyA9PT0gdW5kZWZpbmVkKSA/IHN0eWxlcy5sZW5ndGggOiBudW1TdHlsZXMgKyBzdHlsZXMubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoICE9PSBudW1TdHlsZXMpIHtcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gYW5kIGV4ZWN1dGUgYW55IHdhaXRpbmcgZnVuY3Rpb25zXG4gICAgICAgICAgZG9tUmVhZHkoKTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcbiAgICAgIGFkZExvYWRFdmVudChkb21SZWFkeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGJyb3dzZXI6IGJyb3dzZXIsXG4gICAgICAvKipcbiAgICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgICAgKiBAZnVuY3Rpb24gZ2V0SGFzaFBhcmFtXG4gICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgbmFtZVxuICAgICAgICogQHJldHVybiB7U3RyaW5nfSAgdnRva2VuICB0b2tlbiB2YWx1ZVxuICAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHZhbGlkYXRpb24gdG9rZW4gb3IgdHlwZSBmcm9tIGJyb3dzZXIgdXJsXG4gICAgICAgKi9cbiAgICAgIGdldEhhc2hQYXJhbTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHZ0b2tlbjtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5tYXRjaChuZXcgUmVnRXhwKG5hbWUgKyAnPShbXiZdKiknKSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCAmJiBtYXRjaGVzICE9IG51bGwpIHtcbiAgICAgICAgICB2dG9rZW4gPSBtYXRjaGVzWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZ0b2tlbiA9IHRoaXMuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZ0b2tlbjtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGtleXNUb0xvd2VyQ2FzZVxuICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iaiBvYmplY3RcbiAgICAgICogQHJldHVybiB7T2JqZWN0fSAgbmV3b2JqICBuZXcgb2JqZWN0IHdpdGggbG93ZXJjYXNlIGtleXNcbiAgICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnQgb2JqZWN0IGtleXMgdG8gbG93ZXJjYXNlIGxldHRlclxuICAgICAgKi9cbiAgICAgIGtleXNUb0xvd2VyQ2FzZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIHZhciBuID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIHZhciBuZXdvYmogPSB7fTtcbiAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgIGtleSA9IGtleXNbbl07XG4gICAgICAgICAgbmV3b2JqW2tleS50b0xvd2VyQ2FzZSgpXSA9IG9ialtrZXldO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXdvYmpba2V5LnRvTG93ZXJDYXNlKCldID09PSAnb2JqZWN0JyAmJiBuZXdvYmpba2V5LnRvTG93ZXJDYXNlKCldICE9IG51bGwpIHtcbiAgICAgICAgICAgIG5ld29ialtrZXkudG9Mb3dlckNhc2UoKV0gPSB0aGlzLmtleXNUb0xvd2VyQ2FzZShuZXdvYmpba2V5LnRvTG93ZXJDYXNlKCldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuZXdvYmopO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgICAqIEBmdW5jdGlvbiBlbGVtZW50c0J5Q2xhc3NcbiAgICAgICogQHBhcmFtICB7U3RyaW5nfSBjbGFzc25hbWUgbmFtZSBvZiBjbGFzc1xuICAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBub2RlICBET00gZWxlbWVudFxuICAgICAgKiBAcmV0dXJuIHtBcnJheX0gIGEgIERPTSBlbGVtZW50c1xuICAgICAgKiBAZGVzY3JpcHRpb24gR2V0IGh0bWwgZWxlbWVudCBieSB1c2luZyBjbGFzcyBuYW1lIGZyb20gZ2l2ZW4gaHRtbCBET01cbiAgICAgICovXG4gICAgICBlbGVtZW50c0J5Q2xhc3M6IGZ1bmN0aW9uIChjbGFzc25hbWUsIG5vZGUpIHtcbiAgICAgICAgaWYgKGNsYXNzbmFtZSAhPT0gJycpIHtcbiAgICAgICAgICBub2RlID0gbm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NuYW1lICsgJyggfCQpJyk7XG4gICAgICAgICAgdmFyIGVscyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGVscy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZS50ZXN0KGVsc1tpXS5jbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgIGEucHVzaChlbHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgICogQGZ1bmN0aW9uIGlzVmFsaWRVcmxcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHVybFRvVmFsaWRhdGUgdXJsXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gIHRydWUvZmFsc2UgIGJvb2xlYW4gdmFsdWVcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGdpdmVuIHVybCBpcyB2YWlsZCBvciBub3RcbiAgICAgKi9cbiAgICAgIGlzVmFsaWRVcmw6IGZ1bmN0aW9uICh1cmxUb1ZhbGlkYXRlKSB7XG4gICAgICAgIHZhciBteVJlZ0V4cCA9IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hMTAoPzpcXC5cXGR7MSwzfSl7M30pKD8hMTI3KD86XFwuXFxkezEsM30pezN9KSg/ITE2OVxcLjI1NCg/OlxcLlxcZHsxLDN9KXsyfSkoPyExOTJcXC4xNjgoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaTtcbiAgICAgICAgcmV0dXJuICEoIW15UmVnRXhwLnRlc3QodXJsVG9WYWxpZGF0ZSkpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gaGFzQ2xhc3NcbiAgICAgICogQHBhcmFtICB7U3RyaW5nfSBjbHMgY2xhc3MgbmFtZVxuICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZSAgRE9NIG9iamVjdFxuICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgdHJ1ZS9mYWxzZSAgYm9vbGVhbiB2YWx1ZVxuICAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGNsYXNzIG5hbWUgZXhpc3Qgb3Igbm90IGluIGdpdmVuIGh0bWwgZWxlbWVudFxuICAgICAgKi9cbiAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoZWxlLCBjbHMpIHtcbiAgICAgICAgcmV0dXJuIGVsZS5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFxzfF4pJyArIGNscyArICcoXFxcXHN8JCknKSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgKiBAZnVuY3Rpb24gYWRkQ2xhc3NcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNscyBjbGFzcyBuYW1lXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBlbGUgIERPTSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgdHJ1ZS9mYWxzZSAgYm9vbGVhbiB2YWx1ZVxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgYXBwZW5kIG5ldyBjbGFzcyBpbiBnaXZlbiBodG1sIGVsZW1lbnRcbiAgICAgKi9cbiAgICAgIGFkZGNsYXNzOiBmdW5jdGlvbiAoZWxlLCBjbHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NsYXNzKGVsZSwgY2xzKSkge1xuICAgICAgICAgIGVsZS5jbGFzc05hbWUgKz0gJyAnICsgY2xzO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGlzU3Vic3RyaW5nXG4gICAgICAqIEBwYXJhbSAge09iamVjdH0gb2JqICBPYmplY3RcbiAgICAgICogQHJldHVybiB7U3RyaW5nL0Jvb2xlYW59ICBrL2ZhbHNlICBrZXkgb2Ygb2JqZWN0XG4gICAgICAqIEBkZXNjcmlwdGlvbiBDaGVjayBnaXZlbiBzdHJpbmcgZXhpc3RpbmcgaW4gb2JqZWN0IGtleXMgb3Igbm90XG4gICAgICAqL1xuICAgICAgaXNTdWJzdHJpbmc6IGZ1bmN0aW9uICh3LCBvYmopIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICBpZiAob2JqW2tdLmluZGV4T2YodykgIT09IC0xKSB7IHJldHVybiBrOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gaXNTdWJzdHJpbmdcbiAgICAgICogQHBhcmFtICB7U3RyaW5nfSB0IHRva2VuXG4gICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAqIEBkZXNjcmlwdGlvbiBDaGVjayBnaXZlbiBzdHJpbmcgaXMgSldUIHRva2VuIG9yIG5vdFxuICAgICAgKi9cbiAgICAgIGlzSldUOiBmdW5jdGlvbiAodCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IFtoZWFkZXJCNjRdID0gdC5zcGxpdCgnLicpO1xuICAgICAgICAgIGNvbnN0IGhlYWRlciA9IEpTT04ucGFyc2UoYXRvYihoZWFkZXJCNjQpKTtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGhlYWRlciA9PT0gJ29iamVjdCc7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgKiBAZnVuY3Rpb24gaXNKc29uU3RyaW5nXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciAganNvbiBzdHJpbmdcbiAgICAqIEByZXR1cm4ge09iamVjdC9Cb29sZWFufSAgb2JqZWN0L2ZhbHNlICBqc29uIG9iamVjdFxuICAgICogQGRlc2NyaXB0aW9uIENoZWNrIHBhc3Mgc3RyaW5nIGlzIGpzb24gc3RyaW5nIG9yIG5vdFxuICAgICovXG4gICAgICBpc0pzb25TdHJpbmc6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgKiBAZnVuY3Rpb24gYWRkRXZlbnRcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUgIGV2ZW50IHR5cGVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgIG9iamVjdFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gaGFuZGxlICBzdHJpbmdcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkIGphdmFzY3JpcHQgZXZlbnQgb24gZ2l2ZW4gaHRtbCBlbGVtZW50XG4gICAgICovXG4gICAgICBhZGRFdmVudDogZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIGhhbmRsZSkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGVsZW1lbnRzID0gZWxlbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBlbGVtZW50c1tpXVsnb24nICsgdHlwZV0gPSBoYW5kbGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgKiBAZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWVcbiAgICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgdGhlIHF1ZXJ5IHBhcmFtIG5hbWUsIHRvIGJlIHNlcmFjaGVkIGluIHRoZSBVUkxcbiAgICAqIEBwYXJhbSAge1N0cmluZ30gW3NlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaF0gVGhlIFVSTCB3aGVyZSBzZWFyY2ggbmVlZHMgdG8gYmUgZG9uZVxuICAgICogQHJldHVybiB7bnVsbHxTdHJpbmd9ICByZXN1bHRzICByZXR1cm4gdmFsdWVcbiAgICAqIEBkZXNjcmlwdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHNwZWNpZmljIHF1ZXJ5IHBhcmFtZXRlciB2YWx1ZSBpbiB0aGUgZ2l2ZW4gVVJMIG9yIGN1cnJlbnQgYnJvd3NlciBVUkwuXG4gICAgKi9cbiAgICAgIGdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lOiBmdW5jdGlvbiAobmFtZSwgc2VhcmNoKSB7XG4gICAgICAgIHNlYXJjaCA9ICcmJyArIChzZWFyY2ggfHwgbG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxcXFsnKS5yZXBsYWNlKC9bXFxdXS8sICdcXFxcXFxdJyk7XG4gICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJyk7XG4gICAgICAgIHZhciByZXN1bHRzID0gcmVnZXguZXhlYyhzZWFyY2gpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICByZXR1cm4gcmVzdWx0cyA9PSBudWxsID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzFdLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGdldFBhcmFtZXRlckJ5TmFtZVxuICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBxdWVyeSBwYXJhbSBuYW1lLCB0byBiZSBzZXJhY2hlZCBpbiB0aGUgY3VycmVudCB3aW5kb3cgVVJMXG4gICAgICAqIEByZXR1cm4ge251bGx8U3RyaW5nfSAgcmVzdWx0cyByZXR1cm4gcXVlcnkgcGFyYW1ldGVyIHZhbHVlXG4gICAgICAqIEBkZXNjcmlwdGlvbiB0aGUgdmFsdWUgb2Ygc3BlY2lmaWMgcXVlcnkgcGFyYW1ldGVyIHZhbHVlIGluIHRoZSBjdXJyZW50IGJyb3dzZXIgVVJMLlxuICAgICAgKi9cbiAgICAgIGdldFBhcmFtZXRlckJ5TmFtZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnW1xcXFw/Jl0nICsgbmFtZSArICc9KFteJiNdKiknKTtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSByZWdleC5leGVjKGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgIHJldHVybiByZXN1bHRzID09PSBudWxsID8gJycgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgICAqIEBmdW5jdGlvbiBnZXRRdWVyeVN0cmluZ1ZhbHVlXG4gICAgICAqIEBwYXJhbSAge1N0cmluZ30gdXJsICBUaGUgVVJMIGluIHdoaWNoIGtleSBuZWVkcyB0byBiZSBzZWFyY2hlZFxuICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGtleSAgVGhlIGtleSBvciBxdWVyeSBwYXJhbVxuICAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gIHJldHVybiB2YWx1ZSBvZiB0aGUgZGVzaXJlZCBxdWVyeSBwYXJhbVxuICAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHF1ZXJ5IHBhcmFtIHZhbHVlXG4gICAgICAqL1xuICAgICAgZ2V0UXVlcnlTdHJpbmdWYWx1ZTogZnVuY3Rpb24gKHVybCwga2V5KSB7XG4gICAgICAgIHZhciBocmVmID0gdXJsIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnWz8mXScgKyBrZXkgKyAnPShbXiYjXSopJywgJ2knKTtcbiAgICAgICAgdmFyIHN0cmluZyA9IHJlZy5leGVjKGhyZWYpO1xuICAgICAgICByZXR1cm4gc3RyaW5nID8gc3RyaW5nWzFdIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGV4dGVuZFxuICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iajEgIG9iamVjdFxuICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iajIgIG9iamVjdFxuICAgICAgKiBAZGVzY3JpcHRpb24gTWVyZ2UgdGhlIGNvbnRlbnRzIG9mIG9iamVjdCBvYmoyIGludG8gdGhlIGZpcnN0IG9iamVjdCBvYmoxXG4gICAgICAqL1xuICAgICAgZXh0ZW5kOiBmdW5jdGlvbiAob2JqMSwgb2JqMikge1xuICAgICAgICBmb3IgKHZhciBpIGluIG9iajIpIHtcbiAgICAgICAgICBpZiAob2JqMi5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgb2JqMVtpXSA9IG9iajJbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICogQGZ1bmN0aW9uIHJlYWR5XG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBmdW5jdGlvblxuICAgICogQHBhcmFtIHthbnl9IGFyZ3MgIGFueSB0eXBlXG4gICAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyB0aGUgcHVibGljIGZ1bmN0aW9uIHRoYXQgcGVvcGxlIGNhbiB1c2UgdG8gaG9vayB1cCByZWFkeS5cbiAgICAqL1xuICAgICAgcmVhZHk6IGZ1bmN0aW9uIChmbiwgYXJncykge1xuICAgICAgICAvLyBBdHRhY2ggdGhlIGxpc3RlbmVyc1xuICAgICAgICBiaW5kUmVhZHkoKTtcblxuICAgICAgICAvLyBJZiB0aGUgRE9NIGlzIGFscmVhZHkgcmVhZHlcbiAgICAgICAgaWYgKGlzUmVhZHkpIHtcbiAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBmdW5jdGlvbiBpbW1lZGlhdGVseVxuICAgICAgICAgIGZuLmNhbGwod2luZG93LCBbXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIHRoZSBmdW5jdGlvbiB0byB0aGUgd2FpdCBsaXN0XG4gICAgICAgICAgcmVhZHlMaXN0LnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwod2luZG93LCBbXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IHFzIGVuY29kZWQgcXVlcnkgc3RyaW5nXG4gICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqIEpTT04gb2JqZWN0XG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGVpIGZ1bmN0aW9uIGRlY29kZXMgdGhlIGVuZG9jZGVkIFVSSSBzdHJpbmcgdG8gbm9ybWFsIGpzb24gb2JqZWN0XG4gICAgICAqL1xuICAgICAgcGFyc2VRdWVyeVN0cmluZzogZnVuY3Rpb24gKHFzKSB7XG4gICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgaWYgKChxcyB8fCBxcyAhPT0gJycpICYmIHR5cGVvZiBxcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YXIgbm9kZXMgPSBxcy5zcGxpdCgnJicpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IG5vZGVzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KGtleVZhbHVlWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQoa2V5VmFsdWVbMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlZFN0cmluZ1xuICAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIHNpbXBsZSBzdHJpbmdcbiAgICAgICogQHJldHVybiB7U3RyaW5nfSBzdHIgIGVuY29kZWQgc3RyaW5nXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZW5jb2RlIGdpdmVuIHN0cmluZy5cbiAgICAgICovXG4gICAgICBlbmNvZGVkU3RyaW5nOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIGlmIChzdHIuaW5kZXhPZignJTJCJykgPT09IC0xKSB7XG4gICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnJTJCJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIG1lcmdlT3B0aW9uc1xuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqMSBvYmplY3RcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iajIgb2JqZWN0XG4gICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqMyAgb2JqZWN0XG4gICAgICAqIEBkZXNjcmlwdGlvbiBNZXJnZSB0aGUgdHdvIG9iamVjdHMgY29udGVudHMuXG4gICAgICAqL1xuICAgICAgbWVyZ2VPcHRpb25zOiBmdW5jdGlvbiAob2JqMSwgb2JqMikge1xuICAgICAgICB2YXIgb2JqMyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBhdHRybmFtZSBpbiBvYmoxKSB7XG4gICAgICAgICAgb2JqM1thdHRybmFtZV0gPSBvYmoxW2F0dHJuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBhdHRybmFtZTEgaW4gb2JqMikge1xuICAgICAgICAgIG9iajNbYXR0cm5hbWUxXSA9IG9iajJbYXR0cm5hbWUxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqMztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gbWVyZ2VPYmplY3RzXG4gICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycjEgYXJyYXlcbiAgICAgICogQHBhcmFtIHtBcnJheX0gYXJyMiBhcnJheVxuICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZsYWcgdHJ1ZS9mYWxzZVxuICAgICAgKiBAcmV0dXJuIHtBcnJheX0gYXJyMyAgYXJyYXlcbiAgICAgICogQGRlc2NyaXB0aW9uIE1lcmdlIHRoZSB0d28gYXJyYXkgb2Ygb2JqZWN0cy5cbiAgICAgICovXG4gICAgICBtZXJnZU9iamVjdHM6IGZ1bmN0aW9uIChhcnIxLCBhcnIyLCBmbGFnKSB7XG4gICAgICAgIHZhciBhcnIzID0gW107XG4gICAgICAgIHZhciBjaGVjaztcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhcnIxKSB7XG4gICAgICAgICAgZm9yICh2YXIgaiBpbiBhcnIyKSB7IGNoZWNrID0gZmxhZyA/IChhcnIyW2pdID09PSBhcnIxW2ldKSA6IGFycjJbal0ubmFtZSA9PT0gYXJyMVtpXS5uYW1lOyB9XG4gICAgICAgICAgaWYgKGNoZWNrKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYXJyMy5wdXNoKGFycjFbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGFycjMgPSBhcnIzLmNvbmNhdChhcnIyKTtcbiAgICAgICAgcmV0dXJuIGFycjM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGlzQXJyYXlcbiAgICAgICogQHBhcmFtIHtBbnl9IG8gdHlwZSBhbnlcbiAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZS9mYWxzZSBib29lYW4gdmFsdWVcbiAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrIHBhc3NlZCBwYXJhbWV0ZXIgaXMgYXJyYXkgb3Igbm90LlxuICAgICAgKi9cbiAgICAgIGlzQXJyYXk6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIHJhbmRvbVN0cmluZ1xuICAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIHR5cGUgbnVtYmVyXG4gICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3RyIHJhbmRvbSBzdHJpbmdcbiAgICAgICogQGRlc2NyaXB0aW9uIEdlbmVyYXRlIHJhbmRhbSBzdHJpbmcgYWNjb3JkaW5nIGdpdmVuIGxlbmd0aC5cbiAgICAgICovXG4gICAgICByYW5kb21TdHJpbmc6IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGNoYXJzID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hUWmFiY2RlZmdoaWtsbW5vcHFyc3R1dnd4eXonLnNwbGl0KCcnKTtcblxuICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgIGxlbmd0aCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzdHIgKz0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gZmluZEluU2NoZW1hXG4gICAgICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBhcnJheSBvZiBvYmplY3RcbiAgICAgICogQHBhcmFtIHtBbnl9IGtleSBrZXkgb2Ygb2JqZWN0XG4gICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSBvZiBvYmplY3RcbiAgICAgICogQHBhcmFtIHtCb29sZWFufSBjYXNlSW5zZW5zaXRpdmUgZmxhZyBjYXNlSW5zZW5zaXRpdmVcbiAgICAgICogQHJldHVybiB7T2JqZWN0fG51bGx9IHNjaGVtYSBvYmplY3QgZnJvbSBhcnJheSBvZiBvYmplY3RcbiAgICAgICogQGRlc2NyaXB0aW9uIEZpbmQgb2JqZWN0IGZyb20gc2NoZW1hLlxuICAgICAgKi9cbiAgICAgIGZpbmRJblNjaGVtYTogZnVuY3Rpb24gKHNjaGVtYSwga2V5LCB2YWx1ZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleXMgPSBjYXNlSW5zZW5zaXRpdmUgPyBzY2hlbWFbaV0gJiYgc2NoZW1hW2ldW2tleV0udG9Mb3dlckNhc2UoKSA6IHNjaGVtYVtpXSAmJiBzY2hlbWFbaV1ba2V5XTtcbiAgICAgICAgICBpZiAoa2V5cyA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWFbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGpzb25Ub1F1ZXJ5U3RyaW5nXG4gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIGpzb24gb2JqZWN0XG4gICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIHF1ZXJ5IHN0cmluZ1xuICAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIGpzb24gb2JqZWN0IHRvIHVybCBxdWVyeSBzdHJpbmcuXG4gICAgICAqL1xuICAgICAganNvblRvUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhqc29uKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIGlmIChqc29uW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChqc29uW2tleV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5qb2luKCcmJyk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgKiBAZnVuY3Rpb24gaW5zZXJ0QmVmb3JlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsIHNvdXJjZSBodG1sIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVmZXJlbmNlTm9kZSBkZXN0aW5hdGlvbiBodG1sIGVsZW1lbnRcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0IGh0bWwgY29udGVudCBiZWZvcmUgYW55IGdpdmVuIGh0bWwgZWxlbWVudC5cbiAgICAgKi9cbiAgICAgIGluc2VydEJlZm9yZTogZnVuY3Rpb24gKGVsLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgICAgIHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwsIHJlZmVyZW5jZU5vZGUpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gaXNFbXB0eVxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIG9iamVjdFxuICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlL2ZhbHNlIGJvb2xlYW4gdmFsdWVcbiAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBjaGVjayBpcyBvYmplY3QgZW1wdHkuXG4gICAgICAqL1xuICAgICAgaXNFbXB0eTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgICAqIEBmdW5jdGlvbiBrZXlzbG93ZXJUb1VwcGVyQ2FtZWxDYXNlXG4gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogb2JqZWN0XG4gICAgICAqIEByZXR1cm4ge09iamVjdH0gbmV3b2JqIHVwZGF0ZWQgb2JqZWN0XG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBvYmplY3Qga2V5cyBsb3dlcmNhc2UgbGV0dGVycyB0byB1cHBlckNhbWVsQ2FzZSAuXG4gICAgICAqL1xuICAgICAga2V5c2xvd2VyVG9VcHBlckNhbWVsQ2FzZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIga2V5OyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIHZhciBuID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIHZhciBuZXdvYmogPSB7fTtcbiAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgIGtleSA9IGtleXNbbl07XG4gICAgICAgICAgbmV3b2JqW2tleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSldID0gb2JqW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld29iajtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGZpbmRFbGVtZW50QnlSZWdleFxuICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgJ2lkJyBvciAnY2xhc3MnIG9uIHdoaWNoIHlvdSB3YW50IHRvIHRlc3RcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm4gUmVnZXggcGF0dGVybiB0byBpZGVudGlmeSB0aGUgZWxlbWVudFxuICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcXVlcnlDcml0ZXJpYSBlbGVtZW50IHNlbGVjdGluZyBxdWVyeSBlLmcuIFwic2VsZWN0LmN1c3RvbS1zZWxlY3RcIlxuICAgICAgKiBAcmV0dXJuIHtBcnJheX0gcmVxRWxlbXNcbiAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBmaWx0ZXJzIG91dCB0aGUgaHRtbCBlbGVtZW50IGJhc2VkIG9uIHJlZ2V4LlxuICAgICAgKi9cbiAgICAgIGZpbmRFbGVtZW50QnlSZWdleDogZnVuY3Rpb24gKHByb3BlcnR5LCBwYXR0ZXJuLCBxdWVyeUNyaXRlcmlhKSB7XG4gICAgICAgIHZhciBlbGVtcztcbiAgICAgICAgaWYgKHF1ZXJ5Q3JpdGVyaWEpIHtcbiAgICAgICAgICBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnlDcml0ZXJpYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcUVsZW1zID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGF0dGVybi50ZXN0KGVsZW1zW2ldW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgIHJlcUVsZW1zLnB1c2goZWxlbXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxRWxlbXM7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXG4gICAgICAqIEBmdW5jdGlvbiBpc09iamVjdFxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gbyBvYmplY3RcbiAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZS9mYWxzZSBib29sZWFuIHZhbHVlXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgcGFyYW1ldGVyIGhhcyBvYmplY3QgdHlwZS5cbiAgICAgICovXG4gICAgICBpc09iamVjdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gaW5zdGFuY2VvZiBPYmplY3QgJiYgby5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuICAgICAgfSxcbiAgICAgIHBhcnNlU3RyaW5nOiBmdW5jdGlvbiAoc3RyaW5naWZ5VmFsdWUpIHtcbiAgICAgICAgaWYgKHN0cmluZ2lmeVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyaW5naWZ5VmFsdWUpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gY29udGFpbnNPYmplY3RcbiAgICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBhcnJheSBvZiBvYmplY3RzXG4gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogb2JqZWN0XG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgZmllbGQgbmFtZSAoZXguOiAnbmFtZScpXG4gICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgbGlzdChhcnJheSBvZiBvYmplY3RzKSBjb250YWlucyBnaXZlbiBvYmplY3QgYnkgdXNpbmcgb2JqZWN0IGtleS5cbiAgICAgICovXG4gICAgICBjb250YWluc09iamVjdDogZnVuY3Rpb24gKGxpc3QsIG9iaiwga2V5KSB7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsaXN0W2ldW2tleV0gPT09IG9ialtrZXldKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcbiAgICAgICogQGZ1bmN0aW9uIGJhc2U2NFVybERlY29kZVxuICAgICAgKiBAcGFyYW0ge2Jhc2U2NHVybH0gc3RyaW5nIGJhc2U2NHVybCBlbmNvZGVkIHN0cmluZ1xuICAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGRlY29kZSBiYXNlNjR1cmwgZW5jb2RlZCBzdHJpbmcuXG4gICAgICAqL1xuICAgICAgYmFzZTY0VXJsRGVjb2RlOiBmdW5jdGlvbiAoYmFzZTY0dXJsKSB7XG4gICAgICAgIGJhc2U2NHVybCA9IGJhc2U2NHVybC5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgICAgICBjb25zdCBwYWQgPSBiYXNlNjR1cmwubGVuZ3RoICUgNDtcbiAgICAgICAgaWYgKHBhZCkge1xuICAgICAgICAgIGlmIChwYWQgPT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZExlbmd0aEVycm9yOiBJbnB1dCBiYXNlNjR1cmwgc3RyaW5nIGlzIHRoZSB3cm9uZyBsZW5ndGggdG8gZGV0ZXJtaW5lIHBhZGRpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmFzZTY0dXJsICs9IG5ldyBBcnJheSg1IC0gcGFkKS5qb2luKCc9Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF0b2IoYmFzZTY0dXJsKS5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgcmV0dXJuIGMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xuICAgICAgKiBAZnVuY3Rpb24gYmFzZTY0VXJsRW5jb2RlXG4gICAgICAqIEBwYXJhbSB7YnVmZmVyfSBVaW50OEFycmF5XG4gICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBlbmNvZGUgVWludDhBcnJheSB0byBiYXNlNjR1cmwgZW5jb2RlZCBzdHJpbmcuXG4gICAgICAqL1xuICAgICAgYmFzZTY0VXJsRW5jb2RlOiBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSkpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcKy9nLCAnLScpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCAnXycpXG4gICAgICAgICAgLnJlcGxhY2UoLz0rJC8sICcnKTtcbiAgICAgIH1cblxuICAgIH07XG4gIH07XG59KShMUk5hbWVTcGFjZSk7XG5cbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAvKipcbiAgICogUHJvZ3Jlc3NpdmVQcm9maWxpbmcgbW9kdWxlXG4gICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZVxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbmFtZXNwYWNlIExSTmFtZVNwYWNlLlByb2dyZXNzaXZlUHJvZmlsaW5nXG4gICAqL1xuICBjb250ZXh0LlByb2dyZXNzaXZlUHJvZmlsaW5nID0gZnVuY3Rpb24gKG1vZHVsZSwgY29tbW9uRm5zLCBjb250cm9sbGVycywgTG9naW5SYWRpdXNEZWZhdWx0cykge1xuICAgIHJldHVybiB7XG4gICAgICBmZXRjaFNjaGVtYTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmNvbmZpZ0FwaURvbWFpbiArICdwcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYXBwTmFtZT0nICsgbW9kdWxlLm9wdGlvbnMuYXBwTmFtZSwgJycsIGNiKTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICogQGZ1bmN0aW9uIHByb2dyZXNzaXZlUHJvZmlsaW5nLmV4ZWNTdGVwXG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGVwSWQgaWQgb2Ygc3RlcFxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBsciBvcHRpb25zIG9iamVjdFxuICAgICAgKiBAZGVzY3JpcHRpb24gRXhlY3V0aW9uIG9mICBwcm9ncmVzc2l2ZVByb2ZpbGluZyBzdGVwXG4gICAgICAqL1xuICAgICAgZXhlY1N0ZXA6IGZ1bmN0aW9uIChzdGVwSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuICAgICAgICAgIHZhciBvblN1Y2Nlc3MgPSBvcHRpb25zLm9uU3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICAgICAgdmFyIG9uRXJyb3IgPSBvcHRpb25zLm9uRXJyb3IgfHwgZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lciB8fCAnJztcbiAgICAgICAgICB2YXIgY2xhc3NQcmVmaXggPSBvcHRpb25zLmNsYXNzUHJlZml4IHx8ICcnO1xuICAgICAgICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBvcHRpb25zLnRlbXBsYXRlTmFtZSB8fCAnJztcbiAgICAgICAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvc29jaWFsaWRlbnRpdHk/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sICcnLCBmdW5jdGlvbiAodXNlcnByb2ZpbGUpIHtcbiAgICAgICAgICAgICAgdmFyIHN0ZXBzU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYS5Qcm9maWxpbmdTdGVwcywgJ1N0ZXAnLCBzdGVwSWQpO1xuICAgICAgICAgICAgICBpZiAoc3RlcHNTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlcnByb2ZpbGU7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gdXNlcnByb2ZpbGUuUHJvdmlkZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXIgPT09ICdlbWFpbCcgfHwgcHJvdmlkZXIgPT09ICdyYWFzJyB8fCBtb2R1bGUub3B0aW9ucy5wcm9ncmVzc2l2ZVByb2ZpbGluZ1RyYWRpdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJvZ3Jlc3NpdmVQcm9maWxpbmdUcmFkaXRpb25hbCAmJiBwcm92aWRlciAhPT0gJ2VtYWlsJyAmJiBwcm92aWRlciAhPT0gJ3JhYXMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJwcm9maWxlID0gbW9kdWxlLkxvZ2dlZGluU29jaWFsUHJvdmRlclByb2ZpbGU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YXIgc2NoZW1hID0gc3RlcHNTY2hlbWEuU2NoZW1hO1xuICAgICAgICAgICAgICAgICAgdmFyIHNob3dTY2hlbWEgPSBjb21tb25GbnMubWFwU2NoZW1hKHNjaGVtYSwgdXNlcnByb2ZpbGUsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYmplY3QuUHJvZmlsZSA9IHVzZXJwcm9maWxlO1xuICAgICAgICAgICAgICAgICAgaWYgKHNob3dTY2hlbWEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzaG93U2NoZW1hLCAncHJvZ3Jlc3NpdmVQcm9maWxpbmcnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcnMudXBkYXRlRGF0YShyZXNwb25zZU9iamVjdCwgY29udGFpbmVyLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4LCBzaG93U2NoZW1hLCAncHJvZ3Jlc3NpdmVQcm9maWxpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVzcG9uc2VPYmplY3QsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc2NvcGVzTGlzdCA9IHN0ZXBzU2NoZW1hLlNjb3BlcztcbiAgICAgICAgICAgICAgICAgIHZhciBzdGVwc1Byb3ZpZGVyU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjb3Blc0xpc3QsICdQcm92aWRlcicsIHByb3ZpZGVyLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzdGVwc1Byb3ZpZGVyU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb21haW4gPSBtb2R1bGUub3B0aW9ucy5jdXN0b21Eb21haW4gfHwgbW9kdWxlLm9wdGlvbnMuYXBwTmFtZSArICcuJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuaHViRG9tYWluO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kcG9pbnQgPSAnaHR0cHM6Ly8nICsgZG9tYWluICsgJy9SZXF1ZXN0SGFuZGxvci5hc3B4P2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZwcm92aWRlcj0nICsgcHJvdmlkZXIgKyAnJnNjb3BlPScgKyBzdGVwc1Byb3ZpZGVyU2NoZW1hLlNjb3BlcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgJ05hbWUnOiBwcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAnRW5kcG9pbnQnOiBlbmRwb2ludFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnJlbmRlckN1c3RvbUludGVyZmFjZShjb250YWluZXIsICcnLCB0ZW1wbGF0ZU5hbWUsICcnLCAnJywgcHJvdmlkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnNvY2lhbExvZ2luKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlT2JqZWN0LCAnJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmxvZygnU3RlcCBTY2hlbWEgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xufSkoTFJOYW1lU3BhY2UpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy9BZGRlZCBuZXcgZmFsbGJhY2sgbWV0aG9kcyBmb3IgSUU4XG5pZiAodHlwZW9mIFN0cmluZy5wcm90b3R5cGUudHJpbSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpO1xuICAgIH07XG59XG5cbmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGVsdCAvKiwgZnJvbSovICkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGggPj4+IDA7XG4gICAgICAgIHZhciBmcm9tID0gTnVtYmVyKGFyZ3VtZW50c1sxXSkgfHwgMDtcbiAgICAgICAgZnJvbSA9IChmcm9tIDwgMCkgPyBNYXRoLmNlaWwoZnJvbSkgOiBNYXRoLmZsb29yKGZyb20pO1xuICAgICAgICBpZiAoZnJvbSA8IDApXG4gICAgICAgICAgICBmcm9tICs9IGxlbjtcblxuICAgICAgICBmb3IgKDsgZnJvbSA8IGxlbjsgZnJvbSsrKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSBpbiB0aGlzICYmIHRoaXNbZnJvbV0gPT09IGVsdClcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uKGZ1biAvKiwgdGhpc3AgKi8gKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgICAgIGlmICh0aGlzID09PSB2b2lkIDAgfHwgdGhpcyA9PT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblxuICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuICAgICAgICBpZiAodHlwZW9mIGZ1biAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXG4gICAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRbaV07IC8vIGluIGNhc2UgZnVuIG11dGF0ZXMgdGhpc1xuICAgICAgICAgICAgICAgIGlmIChmdW4uY2FsbCh0aGlzcCwgdmFsLCBpLCB0KSlcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxuKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IGEubG9jYXRpb24uaGFzaCA/IGEubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkuc3BsaXQoXCImXCIpIDogW10sXG4gICAgICAgICAgICAgICAgICAgIGMgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGIubGVuZ3RoOyBkKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBiW2RdLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY1tlWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChlWzFdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjID0gZnVuY3Rpb24oYikge1xuICAgICAgICAgICAgICAgIHZhciBjID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZCBpbiBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGMucHVzaChkICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoYltkXSkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGEubG9jYXRpb24uaGFzaCA9IGMuam9pbihcIiZcIilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjW2FdXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBiKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGUgaW4gYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZFtlXSA9IGFbZV1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjKGQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IHR5cGVvZiBhID09IFwic3RyaW5nXCIgPyBbYV0gOiBhO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGIoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCBhLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZFthW2VdXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGMoZClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgYyh7fSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKCk7XG4gICAgYS5oYXNoID0gY1xufSkod2luZG93KVxuXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT0gJ2Z1bmN0aW9uJykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsIFwiYXNzaWduXCIsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCB2YXJBcmdzKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuICBcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gIFxuICAgICAgICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0bztcbiAgICAgIH0sXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4vKipcbiogQGRlZmF1bHQge29iamVjdH1cbiogQGRlc2NyaXB0aW9uIERlZmluZSBMb2dpblJhZGl1c0pzIGRlZmF1bHQgYW5kIGNvbnN0YW50IHZhbHVlcy5cbiovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBMb2dpblJhZGl1c0RlZmF1bHRzID0ge1xuICAvKipcbiAgKiBAY29uc3RhbnRcbiAgKiBAZGVmYXVsdCB7c3RyaW5nL2Jvb2xlYW4vbnVtYmVyfVxuICAqL1xuICBpZFByZWZpeDogJ2xvZ2lucmFkaXVzLScsXG4gIGNsYXNzUHJlZml4OiAnbG9naW5yYWRpdXMtJyxcbiAgYXBpRG9tYWluOiAnaHR0cHM6Ly9hcGkubG9naW5yYWRpdXMuY29tL2lkZW50aXR5L3YyJyxcbiAgaHViRG9tYWluOiAnaHViLmxvZ2lucmFkaXVzLmNvbScsXG4gIGNsb3VkQXBpRG9tYWluOiAnaHR0cHM6Ly9jbG91ZC1hcGkubG9naW5yYWRpdXMuY29tLycsXG4gIGNvbmZpZ0FwaURvbWFpbjogJ2h0dHBzOi8vY29uZmlnLmxyY29udGVudC5jb20vY2lhbS8nLFxuICBzb2NpYWxBcGlEb21haW46ICdodHRwczovL2FwaS5sb2dpbnJhZGl1cy5jb20vYXBpL3YyLycsXG4gIGV4dGVybmFsTGlicmFyeTogJ2h0dHBzOi8vYXV0aC5scmNvbnRlbnQuY29tL3YyL2V4dGVybmFsLWxpYnMvJyxcbiAgaXNSZWdGb3JtU2NoZW1hTG9jazogZmFsc2UsXG4gIGlzU2VjdXJpdHlGb3JtU2NoZW1hTG9jazogZmFsc2UsXG4gIGlubmVySFRNTDogZmFsc2UsXG4gIGF1dG9GaWxsZWRGaWVsZGZvclBhc3N3b3JkTGVzTG9naW46IGZhbHNlLFxuICBzb2NpYWxSZWdGb3JtSWQ6ICcnLFxuICBsclJlc3BvbnNlQ291bnRlcjogMCxcbiAgTFJQaG9uZU5vOiAnJyxcbiAgbHJDb3VudGVySnd0UmVzcG9uc2U6ICcnLFxuICBsckNvdW50ZXJUb2tlblJlc3BvbnNlOiAnJyxcbiAgc3RvcmVkVG9rZW5OYW1lOiAnTFJUb2tlbktleScsXG4gIHN0b3JlZFR3b0ZBVG9rZW46ICdscjJmYXRvaycsXG4gIHN0b3JlZFNlc3Npb25Ub2tlbkRhdGE6ICdsclNlc3Npb25Ub2tlbk9iaicsXG4gIHN0b3JlZE9UUEF1dGg6ICdscm90cGF1dGh2ZXInLFxuICBzdG9yZWRHQUF1dGg6ICdscmdhYXV0aHZlcicsXG4gIHN0b3JlZEVtYWlsT1RQQXV0aDogJ2xyZW1haWxvdHBhdXRodmVyJyxcbiAgc3RvcmVkUHVzaE5vdGlmaWNhdGlvbkF1dGg6ICdscnB1c2hub3RpZmljYXRpb25hdXRodmVyJyxcbiAgc3RvcmVkU1FBdXRoOiAnbHJzcWF1dGh2ZXInLFxuICBzdG9yZWRVaWROYW1lOiAnbHItdXNlci11aWQnLFxuICBzdG9yZWREdW9BdXRoOiAnbHJkdW9hdXRodmVyJyxcbiAgc3RvcmVkUGFzc2tleUF1dGg6ICdscnBhc3NrZXlhdXRodmVyJyxcbiAgdG9rZW5Db29raWU6ICdsci11c2VyLS10b2tlbicsXG4gIGZlZFNlc3NDb29raWU6ICdscl9mZWRfc2VzcycsXG4gIHN0b3JlZE9yZ2FuaXphdGlvbjogJ2xyb3JnYW5pemF0aW9uJyxcbiAgaXNTU09Jbml0RmlyZWQ6IGZhbHNlLFxuICBwaW5nQ291bnQ6IDEsXG4gIG1lc3NhZ2VzOiB7XG4gICAgdG9rZW5WYWxpZDoge1xuICAgICAgJ01lc3NhZ2UnOiAnQWNjZXNzIHRva2VuIGlzIG5vdCB2YWxpZCcsXG4gICAgICAnRGVzY3JpcHRpb24nOiAnTG9naW5SYWRpdXMgQWNjZXNzIFRva2VuIGlzIGludmFsaWQsIHBsZWFzZSB2ZXJpZnkgdGhlIGF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlJyxcbiAgICAgICdFcnJvckNvZGUnOiA5MDVcbiAgICB9LFxuICAgIHR3b2ZhVG9rZW5WYWxpZDoge1xuICAgICAgJ01lc3NhZ2UnOiAnVG9rZW4gaXMgbm90IHZhbGlkJyxcbiAgICAgICdEZXNjcmlwdGlvbic6ICdZb3VyIHNlc3Npb24gaXMgbm90IHZhbGlkLidcblxuICAgIH0sXG4gICAgdHdvZmFHQUF1dGhEaXNhYmxlOiB7XG4gICAgICAnTWVzc2FnZSc6ICdBbHJlYWR5IERpc2FibGVkJyxcbiAgICAgICdEZXNjcmlwdGlvbic6ICdBdXRoZW50aWNhdG9yIEFwcCBpcyBhbHJlYWR5IGRpc2FibGVkLidcbiAgICB9LFxuICAgIHR3b2ZhT1RQQXV0aERpc2FibGU6IHtcbiAgICAgICdNZXNzYWdlJzogJ0FscmVhZHkgRGlzYWJsZWQnLFxuICAgICAgJ0Rlc2NyaXB0aW9uJzogJ1NNUyBhdXRoZW50aWNhdG9yIGlzIGFscmVhZHkgZGlzYWJsZWQuJ1xuICAgIH0sXG4gICAgdHdvZmFBdXRoUmVxdWlyZWQ6IHtcbiAgICAgICdNZXNzYWdlJzogJ0Nhbm5vdCBEaXNhYmxlJyxcbiAgICAgICdEZXNjcmlwdGlvbic6ICdUd28gZmFjdG9yIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkLCBTbyBhdGxlYXN0IG9uZSBhdXRoZW50aWNhdG9yIHNob3VsZCBiZSByZXF1aXJlZC4nXG4gICAgfSxcbiAgICBpbnZhbGlkRW1haWw6IHtcbiAgICAgICdNZXNzYWdlJzogJ0ludmFsaWQgRW1haWwnLFxuICAgICAgJ0Rlc2NyaXB0aW9uJzogJ1RoZSBlbWFpbCBlbnRlcmVkIGlzIG5vdCBhIHZhbGlkIGVtYWlsLidcbiAgICB9LFxuICAgIGludmFsaWRQaG9uZToge1xuICAgICAgJ01lc3NhZ2UnOiAnSW52YWxpZCBQaG9uZScsXG4gICAgICAnRGVzY3JpcHRpb24nOiAnVGhlIG1vYmlsZSBudW1iZXIgZW50ZXJlZCBpcyBub3QgdmFsaWQuJ1xuICAgIH0sXG4gICAgZGlzYWJsZWRBY2NvdW50TGlua2luZzogJ0FjY291bnQgTGlua2luZyBkaXNhYmxlZCBpbiB5b3VyIGFjY291bnQnLFxuICAgIG5vU2VjdXJpdHlRdWVzdGlvbnM6ICdUaGVyZSBhcmUgbm8gc2VjdXJpdHkgcXVlc3Rpb25zIGZvciB0aGlzIGFwcGxpY2F0aW9uJyxcbiAgICBpbnZhbGlkU290dDogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgbm90VmFsaWRNZXNzYWdlOiAnRXJyb3IgTWVzc2FnZSBlbGVtZW50IG5vdCB2YWxpZCcsXG4gICAgcGFzc3dvcmRTdHJlbmd0aE1lc3NhZ2U6ICdQYXNzd29yZCBzdHJlbmd0aCBtZXRlciBjb25maWd1cmF0aW9uIGlzIG5vdCB2YWxpZC4nLFxuICAgIG90cFNlbnQ6ICdWZXJpZmljYXRpb24gQ29kZSBTZW50IFN1Y2Nlc3NmdWxseScsXG4gICAgdlRva2VuRXJyb3I6IHtcbiAgICAgIE1lc3NhZ2U6ICdWZXJpZmljYXRpb24gdG9rZW4gbm90IGZvdW5kIGluIHF1ZXJ5IHN0cmluZy4nXG4gICAgfSxcbiAgICBub3RGb3VuZDogJ0RhdGEgbm90IGZvdW5kLicsXG4gICAgZW1haWxOb3RWZXJpZmllZDoge1xuICAgICAgJ01lc3NhZ2UnOiAnVGhlIGVtYWlsIGlzIG5vdCB2ZXJpZmllZCwgcGxlYXNlIHZlcmlmeSB0aGUgbGluayBpbiB5b3VyIGVtYWlsJyxcbiAgICAgICdEZXNjcmlwdGlvbic6ICdUaGUgZW1haWwgaXMgbm90IHZlcmlmaWVkLCBwbGVhc2UgdmVyaWZ5IHRoZSBsaW5rIGluIHlvdXIgZW1haWwnLFxuICAgICAgJ0Vycm9yQ29kZSc6IDk3MFxuICAgIH0sXG4gICAgcGhvbmVOb3RWZXJpZmllZDoge1xuICAgICAgJ01lc3NhZ2UnOiAnUGhvbmUgbnVtYmVyIGlzIG5vdCB2ZXJpZmllZCcsXG4gICAgICAnRGVzY3JpcHRpb24nOiAnVGhlIHByb3ZpZGVkIHBob25lIG51bWJlciBpcyBub3QgdmVyaWZpZWQsIHBsZWFzZSB1c2UgYSB2ZXJpZmllZCBwaG9uZSBudW1iZXIgZm9yIGxvZ2luLicsXG4gICAgICAnRXJyb3JDb2RlJzogMTA2NlxuICAgIH0sXG4gICAgYmxvY2tlZFVzZXI6IHtcbiAgICAgICdNZXNzYWdlJzogJ1VzZXIgaXMgYmxvY2tlZCcsXG4gICAgICAnRGVzY3JpcHRpb24nOiAnVGhpcyB1c2VyIGlzIGJsb2NrZWQgYnkgc2l0ZSBhZG1pbicsXG4gICAgICAnRXJyb3JDb2RlJzogOTkxXG4gICAgfSxcbiAgICB1bnZlcmlmaWVkVXNlcjoge1xuICAgICAgJ01lc3NhZ2UnOiAnVGhpcyBVaWQgaGF2ZSBvbmx5IHRyYWRpdGlvbmFsIHVudmVyaWZpZWQgYWNjb3VudCcsXG4gICAgICAnRGVzY3JpcHRpb24nOiAnVGhpcyBVaWQgaGF2ZSBvbmx5IHRyYWRpdGlvbmFsIHVudmVyaWZpZWQgYWNjb3VudCcsXG4gICAgICAnRXJyb3JDb2RlJzogMTAyOFxuICAgIH0sXG4gICAgY2FwdGNoYUVycm9yOiB7XG4gICAgICAnTWVzc2FnZSc6ICdUaGUgQ2FwdGNoYSBpcyByZXF1aXJlZC4nLFxuICAgICAgJ0Rlc2NyaXB0aW9uJzogJ1RoZSBDYXB0Y2hhIGlzIHJlcXVpcmVkLidcbiAgICB9XG4gIH0sXG4gIGJ1dHRvbk5hbWVzOiB7XG4gICAgbG9naW46ICdMb2dpbicsXG4gICAgc29jaWFscmVnaXN0cmF0aW9uOiAnTG9naW4nLFxuICAgIGxvZ2lucmVxdWlyZWRmaWVsZHN1cGRhdGU6ICdMb2dpbicsXG4gICAgcmVnaXN0cmF0aW9uOiAnUmVnaXN0ZXInLFxuICAgIHBhc3NrZXlyZWdpc3RlcjogJ1JlZ2lzdGVyIHdpdGggUGFzc2tleScsXG4gICAgcmVnaXN0ZXJ3aXRocHdkOiAnQ29udGludWUgd2l0aCBQYXNzd29yZCcsXG4gICAgcGFzc2tleWxvZ2luOiAnU2lnbiBJbiB3aXRoIFBhc3NrZXknLFxuICAgIHZlcmlmeWVtYWlsOiAnVmVyaWZ5JyxcbiAgICByZXNldHBhc3N3b3JkOiAnUmVzZXQgUGFzc3dvcmQnLFxuICAgIHJlc2V0cGluOiAnUmVzZXQgUElOJyxcbiAgICBzb2NpYWxsb2dpbjogJ0xvZ2luJyxcbiAgICBvdHA6ICdWZXJpZnknLFxuICAgIHR3b2Zhb3RwOiAnVmVyaWZ5JyxcbiAgICB0d29mYWVtYWlsb3RwOiAnVmVyaWZ5JyxcbiAgICBzaG93cXJjb2RlOiAnVmVyaWZ5JyxcbiAgICB1cGRhdGVwaG9uZTogJ1VwZGF0ZScsXG4gICAgY2hhbmdlcGhvbmU6ICdVcGRhdGUnLFxuICAgIGZvcmdvdHBhc3N3b3JkOiAnU2VuZCcsXG4gICAgZm9yZ290cGluOiAnU2VuZCcsXG4gICAgZm9yZ290cGFzc2tleTogJ1NlbmQnLFxuICAgIHNlY3VyaXR5cXVlc3Rpb25zOiAnR2V0JyxcbiAgICBjaGFuZ2VwYXNzd29yZDogJ1N1Ym1pdCcsXG4gICAgY2hhbmdlcGluOiAnQ2hhbmdlIFBJTicsXG4gICAgcmVzZW5kZW1haWx2ZXJpZmljYXRpb246ICdTZW5kJyxcbiAgICBhZGRlbWFpbDogJ1NlbmQnLFxuICAgIHJlbW92ZWVtYWlsOiAnU2VuZCcsXG4gICAgY2hhbmdldXNlcm5hbWU6ICdTdWJtaXQnLFxuICAgIHByb2ZpbGVlZGl0b3I6ICdVcGRhdGUgUHJvZmlsZScsXG4gICAgb3RwbG9naW46ICdWZXJpZmljYXRpb24gQ29kZScsXG4gICAgcGFzc3dvcmRsZXNzbG9naW5idXR0b25sYWJlbDogJ0VtYWlsIG1lIGEgbGluayB0byBTaWduIEluJyxcbiAgICBwYXNzd29yZGxlc3Nsb2dpbm90cGJ1dHRvbmxhYmVsOiAnU2VuZCBWZXJpZmljYXRpb24gQ29kZSB0byBTaWduIEluJyxcbiAgICBjcmVhdGV0d29mYWN0b3JhdXRoZW50aWNhdGlvbjogJzItU3RlcCBWZXJpZmljYXRpb24nLFxuICAgIGNyZWF0ZVBhc3NrZXk6ICdBZGQgYSBQYXNza2V5JyxcbiAgICBzZW5kb3RwOiAnU2VuZCBWZXJpZmljYXRpb24gQ29kZScsXG4gICAgcmVzZW5kb3RwOiAnUmVzZW5kIHZpYSBTTVMnLFxuICAgIHJlc2VuZGVtYWlsb3RwOiAnUmVzZW5kIHZpYSBFbWFpbCcsXG4gICAgcmVzZW5kdm9pY2VvdHA6ICdSZXNlbmQgdmlhIFZvaWNlIGNhbGwnLFxuICAgIGNoYW5nZW51bWJlcjogJ0NoYW5nZSBOdW1iZXInLFxuICAgIGJhY2t1cGNvZGU6ICdMb2dpbicsXG4gICAgYmFja3VwY29kZWJ1dHRvbjogJ1RyeSBhbm90aGVyIHdheSB0byBTaWduIEluJyxcbiAgICBiYWNrdXBjb2RlYmFja2J1dHRvbjogJ0JhY2snLFxuICAgIGdlbmVyYXRlYmFja3VwY29kZWJ1dHRvbjogJ0dlbmVyYXRlIEJhY2t1cCBDb2RlcycsXG4gICAgZGlzYWJsZWdvb2dsZWF1dGhlbnRpY2F0b3I6ICdEaXNhYmxlIEF1dGhlbnRpY2F0b3IgQXBwJyxcbiAgICBkaXNhYmxlc3FhdXRoZW50aWNhdG9yOiAnRGlzYWJsZSBTZWN1cml0eSBRdWVzdGlvbnMnLFxuICAgIGRpc2FibGVlbWFpbG90cGF1dGhlbnRpY2F0b3I6ICdEaXNhYmxlIEVtYWlsIFZlcmlmaWNhdGlvbicsXG4gICAgZGlzYWJsZWR1b2F1dGhlbnRpY2F0b3I6ICdEaXNhYmxlIER1byBTZWN1cml0eScsXG4gICAgZGlzYWJsZW90cGF1dGhlbnRpY2F0b3I6ICdEaXNhYmxlIFNNUyBWZXJpZmljYXRpb24nLFxuICAgIHVwZGF0ZXNlY3VyaXR5cXVlc3Rpb246ICdVcGRhdGUgU2VjdXJpdHkgUXVlc3Rpb24nLFxuICAgIHJlc2V0cHdkYnlzZWNxOiAnUmVzZXQgUGFzc3dvcmQgQnkgU2VjdXJpdHlRJyxcbiAgICByZXNldHBpbmJ5c2VjcTogJ1Jlc2V0IFBJTiBCeSBTZWN1cml0eVEnLFxuICAgIHNtYXJ0bG9naW46ICdTbWFydCBMb2dpbicsXG4gICAgdmFsaWRhdGVjb2RlOiAnVmFsaWRhdGUnLFxuICAgIG9uZXRvdWNobG9naW46ICdMb2dpbicsXG4gICAgcHJvZ3Jlc3NpdmVwcm9maWxpbmc6ICdQcm9ncmVzc2l2ZSBQcm9maWxpbmcnLFxuICAgIHByaXZhY3lwb2xpY3l1cGRhdGU6ICdBY2NlcHQnLFxuICAgIHVwZGF0ZXBob25lMmZhOiAnVXBkYXRlJyxcbiAgICBwaW5zZXR1cDogJ1NldCBQaW4nLFxuICAgIHBpbmxvZ2luOiAnTG9naW4nLFxuICAgIHBpbnJlYXV0aGVudGljYXRpb246ICdWZXJpZnknLFxuICAgIHBpbmxvZ2luYmFja2J0bjogJ0JhY2snLFxuICAgIGNvbnNlbnRsb2dpbjogJ1N1Ym1pdCBDb25zZW50JyxcbiAgICBjdXN0b21ldmVudGNvbnNlbnQ6ICdTdWJtaXQgQ29uc2VudCcsXG4gICAgY29uc2VudGVkaXRvcjogJ1N1Ym1pdCBDb25zZW50JyxcbiAgICByZXNldEJhY2t1cENvZGU6ICdSZXNldCBCYWNrdXAgQ29kZScsXG4gICAgZW1haWxvdHA6ICdWZXJpZnkgSWRlbnRpdHkgdmlhIEVtYWlsICcsXG4gICAgZHVvbWZhOiAnVmVyaWZ5IElkZW50aXR5IHZpYSBEdW8gU2VjdXJpdHknLFxuICAgIGdvb2dsZWF1dGhlbnRpY2F0b3I6ICdWZXJpZnkgSWRlbnRpdHkgdmlhIEF1dGhlbnRpY2F0b3IgQXBwJyxcbiAgICBzZWN1cml0eXF1ZXN0aW9uc2F1dGhlbnRpY2F0b3I6ICdWZXJpZnkgSWRlbnRpdHkgdmlhIFNlY3VyaXR5IFF1ZXN0aW9ucycsXG4gICAgbWZhc2VjdXJpdHlxdWVzdGlvbjogJ1N1Ym1pdCcsXG4gICAgb3RwYXV0aGVudGljYXRvcjogJ1ZlcmlmeSBJZGVudGl0eSB2aWEgU01TJyxcbiAgICBtZmFzZWxlY3RlbWFpbHM6ICdTdWJtaXQnLFxuICAgIG9yZ2FuaXphdGlvbjogJ0NvbnRpbnVlJyxcbiAgICBsb29rdXBkb21haW46ICdMb2dpbicsXG4gICAgc2VuZHZlcmlmaWNhdGlvbmVtYWlsOiAnU2VuZCBWZXJpZmljYXRpb24gRW1haWwnLFxuICAgIHB1c2hub3RpZmljYXRpb246ICdWZXJpZnkgSWRlbnRpdHkgdmlhIFB1c2ggTm90aWZpY2F0aW9uJyxcbiAgICBkaXNhYmxlcHVzaG5vdGlmaWNhdGlvbjogJ0Rpc2FibGUgUHVzaCBOb3RpZmljYXRpb24nLFxuICAgIHBhc3NrZXlhdXRoZW50aWNhdG9yOiAnVmVyaWZ5IElkZW50aXR5IHZpYSBQYXNza2V5JyxcbiAgICBkaXNhYmxlcGFzc2tleWF1dGhlbnRpY2F0b3I6ICdEaXNhYmxlIFBhc3NrZXkgVmVyaWZpY2F0aW9uJ1xuICB9LFxuICB0ZW1wbGF0ZXM6IHtcbiAgICBjb25zZW50TWFpblRlbXBsYXRlOiAnbG9naW5yYWRpdXNfY29uc2VudF9jdXN0b21fdG1wbCcsXG4gICAgY29uc2VudEdyb3VwVGVtcGxhdGU6ICdsb2dpbnJhZGl1c19jb25zZW50X2dyb3VwX3RtcGwnLFxuICAgIGNvbnNlbnRPcHRpb25UZW1wbGF0ZTogJ2xvZ2lucmFkaXVzX2NvbnNlbnRfb3B0aW9uX3RtcGwnXG4gIH0sXG4gIG9wdGlvbnM6IHtcbiAgICBwYXNzd29yZGxlc3NMb2dpbkVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIGNhbGxiYWNrVXJsOiB3aW5kb3cubG9jYXRpb24sXG4gICAgY2FsbGJhY2tJbnNpZGVTYW1lV2luZG93OiAnJyxcbiAgICBjYWxsYmFja1R5cGU6ICcnLFxuICAgIHNjb3BlOiAnJyxcbiAgICBsb2dpblVybDogJycsXG4gICAgZGVsZXRlVXJsOiAnJyxcbiAgICBlbWFpbFRlbXBsYXRlOiAnJyxcbiAgICB2ZXJpZmljYXRpb25Vcmw6ICcnLFxuICAgIHZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHJlc2V0UGFzc3dvcmRFbWFpbFRlbXBsYXRlOiAnJyxcbiAgICByZXNldFBhc3NLZXlFbWFpbFRlbXBsYXRlOiAnJyxcbiAgICByZXNldFBJTkVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHJlc2V0UGFzc3dvcmRDb25maXJtYXRpb25FbWFpbFRlbXBsYXRlOiAnJyxcbiAgICByZXNldFBJTkNvbmZpcm1hdGlvbkVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHNtYXJ0TG9naW5SZWRpcmVjdFVybDogJycsXG4gICAgYXV0b0xvZ2luUmVkaXJlY3RVcmw6ICcnLFxuICAgIHNtYXJ0TG9naW5FbWFpbFRlbXBsYXRlOiAnJyxcbiAgICBhdXRvTG9naW5FbWFpbFRlbXBsYXRlOiAnJyxcbiAgICBzbXNUZW1wbGF0ZTJGQTogJycsXG4gICAgc21zVGVtcGxhdGVGb3Jnb3Q6ICcnLFxuICAgIHNtc1RlbXBsYXRlV2VsY29tZTogJycsXG4gICAgc21zVGVtcGxhdGVPbmVUb3VjaExvZ2luV2VsY29tZTogJycsXG4gICAgc21zVGVtcGxhdGVPbmVUb3VjaExvZ2luOiAnJyxcbiAgICBwYXNzd29yZGxlc3NMb2dpblNNU1RlbXBsYXRlOiAnJyxcbiAgICBzbXNUZW1wbGF0ZTJGQVdlbGNvbWU6ICcnLFxuICAgIHNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb246ICcnLFxuICAgIHNtc1RlbXBsYXRlVXBkYXRlUGhvbmU6ICcnLFxuICAgIHdlbGNvbWVFbWFpbFRlbXBsYXRlOiAnJyxcbiAgICBvbmV0b3VjaExvZ2luRW1haWxUZW1wbGF0ZTogJycsXG4gICAgZGVsZXRlVXNlckVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIG9uZXRvdWNoTG9naW5SZWRpcmVjdFVybDogJycsXG4gICAgcmVzZXRQYXNzd29yZFVybDogJycsXG4gICAgcmVzZXRQYXNzS2V5VXJsOiAnJyxcbiAgICByZXNldFBJTlVybDogJycsXG4gICAgdGVtcGxhdGVOYW1lOiAnJyxcbiAgICBkZWJ1Z01vZGU6IGZhbHNlLFxuICAgIHRva2VuVHlwZTogJ2xydG9rZW4nLFxuICAgIGludGVncmF0aW9uTmFtZTogJycsXG4gICAgc21hcnRMb2dpblBpbmdDb3VudDogMTAwLFxuICAgIHNtYXJ0TG9naW5QaW5nSW50ZXJ2YWw6IDUsXG4gICAgY3Jvc3NEZXZpY2VTU09QaW5nQ291bnQ6IDEwMCxcbiAgICBjcm9zc0RldmljZVNTT1BpbmdJbnRlcnZhbDogNSxcbiAgICBtYXNrU2Vuc2l0aXZlSW5wdXQ6IGZhbHNlLFxuICAgIGVuYWJsZUhlYWRlclNvdHQ6IHRydWUsXG4gICAgYWNjZXNzVG9rZW5SZXNwb25zZTogdHJ1ZSxcbiAgICByYmFPbmVjbGlja0VtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHJiYU9UUFNtc1RlbXBsYXRlOiAnJyxcbiAgICByYmFDaXR5RW1haWxUZW1wbGF0ZTogJycsXG4gICAgcmJhQ291bnRyeUVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlOiAnJyxcbiAgICByYmFJcEVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHJiYURldmljZUVtYWlsVGVtcGxhdGU6ICcnLFxuICAgIHJiYUNpdHlTbXNUZW1wbGF0ZTogJycsXG4gICAgcmJhQ291bnRyeVNtc1RlbXBsYXRlOiAnJyxcbiAgICByYmFCcm93c2VyU21zVGVtcGxhdGU6ICcnLFxuICAgIHJiYUlwU21zVGVtcGxhdGU6ICcnLFxuICAgIHJiYURldmljZVNtc1RlbXBsYXRlOiAnJyxcbiAgICBzZXRMUlNlc3Npb246IGZhbHNlLFxuICAgIGFza09wdGlvbmFsRmllbGRzT25Qcm9ncmVzc2l2ZVN0ZXBzOiB0cnVlLFxuICAgIGRpc2FibGVSZXNlbmRPVFBCdXR0b246IGZhbHNlLFxuICAgIGRpc2FibGVSZXNlbmRPVFBCdXR0b25EZWxheTogNSxcbiAgICBFbWFpbFRlbXBsYXRlMkZBOiAnJyxcbiAgICBhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyOiBbJ2VtYWlsb3RwJywgJ3NlY3VyaXR5cXVlc3Rpb24nLCAnYXV0aCcsICdzbXMnLCAncHVzaG5vdGlmaWNhdGlvbicsICdkdW9tZmEnLCAncGFzc2tleSddXG4gIH0sXG4gIHJlZ2V4RXhwcmVzc2lvbjoge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgIGVtYWlsUmVnZXg6IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvLFxuICAgIHBob25lUmVnZXg6IC9eKFxcXFwrKXwoOVs5NzZdXFxkfDhbOTg3NTMwXVxcZHw2Wzk4N11cXGR8NVs5MF1cXGR8NDJcXGR8M1s4NzVdXFxkfDJbOTg2NTQzMjFdXFxkfDlbODU0MzIxMF18OFs2NDIxXXw2WzY1NDMyMTBdfDVbODc2NTQzMjFdfDRbOTg3NjU0MzEwXXwzWzk2NDMyMTBdfDJbNzBdfDd8MSlcXGR7OCwxNH0kL1xuICB9LFxuICBfdXVpZEZvcm1hdDogL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaSxcbiAgbG9naW5VUkxzOiBbJy9hdXRoL2xvZ2luJywgJy9hdXRoL2VtYWlsJywgJy9hdXRoL29uZXRvdWNobG9naW4nLCAnL2F1dGgvcGFzc3dvcmQnXSxcbiAgY2FwdGNoYUFjdGlvbnM6IFsnbG9naW4nLCAncGFzc3dvcmRsZXNzbG9naW4nLCAnb25ldG91Y2hsb2dpbicsICd2ZXJpZnlvdHAnLCAndmVyaWZ5ZW1haWwnLCAncmVzZXRwYXNzd29yZCcsICdmb3Jnb3RwYXNzd29yZCcsICdjaGFuZ2VwYXNzd29yZCcsICdsb2dpbiMjb3RwJywgJ290cCcsICd0d29mYW90cCcsICd0d29mYWVtYWlsb3RwJ11cbn07XG5cbi8qKlxuKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIGxyIG1vZHVsZSBvYmplY3RcbiogQHBhcmFtIHtPYmplY3R9IGxyT3B0aW9ucyBsciBjb21tb25PcHRpb25zIG9iamVjdFxuKiBAZGVzY3JpcHRpb24gU2V0IGdsb2JhbCBMb2dpblJhZGl1c1V0aWxpdHkuXG4qIEBjb25zdHJ1Y3RvclxuKi9cbmZ1bmN0aW9uIExvZ2luUmFkaXVzVXRpbGl0eSAobW9kdWxlLCBvcHRpb25zTGlzdCkge1xuICAvLyB2YXIgbW9kdWxlLm9wdGlvbnMgPSBtb2R1bGUub3B0aW9ucyA9PSB1bmRlZmluZWQgPyBvcHRpb25zTGlzdCA6IG1vZHVsZS5vcHRpb25zO1xuICB2YXIgZGVmYXVsdEJ1dHRvbnNOYW1lID0gTG9naW5SYWRpdXNEZWZhdWx0cy5idXR0b25OYW1lcztcbiAgdmFyIHV0aWxpdGllcyA9IG5ldyBMUk5hbWVTcGFjZS5VdGlsaXRpZXMoKTtcbiAgdmFyIHV0aWxpdHlNb2R1bGUgPSB0aGlzO1xuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAqIEBmdW5jdGlvbiBlbGVtZW50QnlJZFxuICAqIEBwYXJhbSAge1N0cmluZ30gaWQgSWQgb2YgZWxlbWVudFxuICAqIEByZXR1cm4ge09iamVjdH0gIGNvbnRlbnQgIERPTSBlbGVtZW50XG4gICogQGRlc2NyaXB0aW9uIEdldCBodG1sIGVsZW1lbnQgYnkgZ2l2ZW4gaWRcbiAgKi9cbiAgdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZCA9IGZ1bmN0aW9uIChpZCwgZGVidWcpIHtcbiAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoY29udGVudCkge1xuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZGVidWcpIHsgbW9kdWxlLmxvZygnVW5hYmxlIHRvIGZpbmQgaWQ6ICcgKyBpZCk7IH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIGdldFRoaXNPYmplY3ROYW1lXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gcmV0dXJuIHRoZSBuYW1lIG9mIGN1cnJlbnQgTFIgb2JqZWN0IGluaXRpYWxpemVkIHdpdGggTG9naW5SYWRpdXMgY29uc3RydWN0b3IuXG4gICovXG4gIHV0aWxpdHlNb2R1bGUuZ2V0VGhpc09iamVjdE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBtb2R1bGUuZ2xvYmFsKSB7XG4gICAgICBpZiAobmFtZSAhPT0gJ2ZyYW1lRWxlbWVudCcgJiYgbmFtZSAhPT0gJ3dlYmtpdFN0b3JhZ2VJbmZvJyAmJiBuYW1lICE9PSAnd2Via2l0SW5kZXhlZERCJyAmJiBuYW1lICE9PSAnbG9jYWxTdG9yYWdlJyAmJiBuYW1lICE9PSAnc2Vzc2lvblN0b3JhZ2UnICYmIG1vZHVsZS5nbG9iYWxbbmFtZV0gPT09IG1vZHVsZSkgeyByZXR1cm4gbmFtZTsgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgKiBAZnVuY3Rpb24gc2VyaWFsaXplXG4gICogQHBhcmFtICB7T2JqZWN0fSBmb3JtICBIVE1MIGZyb20gZWxlbWVudFxuICAqIEByZXR1cm4ge1N0cmluZ30gIHEgIFVSTCBlbmNvZGVkIHRleHQgc3RyaW5nIGUuZy4gRmlyc3ROYW1lPXRlc3QmTGFzdE5hbWU9dGVzdDFcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBtZXRob2QgY3JlYXRlcyBhIFVSTCBlbmNvZGVkIHRleHQgc3RyaW5nIGJ5IHNlcmlhbGl6aW5nIGZvcm0gdmFsdWVzLlxuICAqL1xuICB1dGlsaXR5TW9kdWxlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIChmb3JtLCB1c2VFbXB0eUZpZWxkcykge1xuICAgIGlmICghZm9ybSB8fCBmb3JtLm5vZGVOYW1lICE9PSAnRk9STScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGk7XG4gICAgdmFyIGo7XG4gICAgdmFyIHEgPSBbXTtcbiAgICBmb3IgKGkgPSBmb3JtLmVsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSA9IGkgLSAxKSB7XG4gICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS5uYW1lID09PSAnJyB8fCAoIXVzZUVtcHR5RmllbGRzICYmIGZvcm0uZWxlbWVudHNbaV0udmFsdWUudHJpbSgpID09PSAnJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgPT09ICdlbWFpbGlkJyAmJiAhbW9kdWxlLm9wdGlvbnMudXNlcm5hbWVMb2dpbiAmJiAhbW9kdWxlLm9wdGlvbnMuZHVwbGljYXRlRW1haWxXaXRoVW5pcXVlVXNlcm5hbWUpIHtcbiAgICAgICAgZm9ybS5lbGVtZW50c1tpXS52YWx1ZSA9IGZvcm0uZWxlbWVudHNbaV0udmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChmb3JtLmVsZW1lbnRzW2ldLm5vZGVOYW1lKSB7XG4gICAgICAgIGNhc2UgJ0lOUFVUJzpcbiAgICAgICAgICBzd2l0Y2ggKGZvcm0uZWxlbWVudHNbaV0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICBjYXNlICdoaWRkZW4nOlxuICAgICAgICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2V0JzpcbiAgICAgICAgICAgIGNhc2UgJ3N1Ym1pdCc6XG4gICAgICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBmb3JtLmVsZW1lbnRzW2ldLm5hbWU7XG4gICAgICAgICAgICAgIGlmICh2YWwgPT09ICdlbWFpbGlkJykge1xuICAgICAgICAgICAgICAgIHZhbCA9ICdlbWFpbCc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFmb3JtLmVsZW1lbnRzW2ldLmRpc2FibGVkIHx8IChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgPT09ICdlbWFpbGlkJyAmJiBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnZW1haWwnKSkpIHtcbiAgICAgICAgICAgICAgICBxLnB1c2godmFsICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZvcm0uZWxlbWVudHNbaV0udmFsdWUudHJpbSgpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS52YWx1ZSkpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuXG4gICAgICAgICAgICAgIC8vIGlmIChmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgcS5wdXNoKGZvcm0uZWxlbWVudHNbaV0ubmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQpKTtcbiAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgaWYgKGZvcm0uZWxlbWVudHNbaV0uY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS52YWx1ZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gbm8gZGVmYXVsdFxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxuICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS52YWx1ZS50cmltKCkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnU0VMRUNUJzpcbiAgICAgICAgICBzd2l0Y2ggKGZvcm0uZWxlbWVudHNbaV0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0LW9uZSc6XG4gICAgICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS52YWx1ZS50cmltKCkpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWxlY3QtbXVsdGlwbGUnOlxuICAgICAgICAgICAgICBmb3IgKGogPSBmb3JtLmVsZW1lbnRzW2ldLm9wdGlvbnMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqID0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS5vcHRpb25zW2pdLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICBxLnB1c2goZm9ybS5lbGVtZW50c1tpXS5uYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZvcm0uZWxlbWVudHNbaV0ub3B0aW9uc1tqXS52YWx1ZS50cmltKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBubyBkZWZhdWx0XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdCVVRUT04nOlxuICAgICAgICAgIHN3aXRjaCAoZm9ybS5lbGVtZW50c1tpXS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgICAgICBjYXNlICdzdWJtaXQnOlxuICAgICAgICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgICAgICAgcS5wdXNoKGZvcm0uZWxlbWVudHNbaV0ubmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChmb3JtLmVsZW1lbnRzW2ldLnZhbHVlLnRyaW0oKSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIG5vIGRlZmF1bHRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIG5vIGRlZmF1bHRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHEuam9pbignJicpO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAqIEBmdW5jdGlvbiBhZGRKc1xuICAqIEBwYXJhbSAge09iamVjdH0gbW9kdWxlICBET00gZWxlbWVudFxuICAqIEBwYXJhbSAge1N0cmluZ30gdXJsICB1cmwgc3RyaW5nXG4gICogQHJldHVybiB7T2JqZWN0fSAganMgIGpzIHNjcmlwdCBlbGVtZW50XG4gICogQGRlc2NyaXB0aW9uIFRoaXMgbWV0aG9kIHdpbGwgY3JlYXRlIGpzIHNjcmlwdCBlbGVtZW50IGFuZCBhcHBlbmQgaW50byBodG1sIGhlYWQgc2VjdGlvbi5cbiAgKi9cbiAgdXRpbGl0eU1vZHVsZS5hZGRKcyA9IGZ1bmN0aW9uICh1cmwsIF9tb2R1bGUpIHtcbiAgICBfbW9kdWxlID0gX21vZHVsZSB8fCBkb2N1bWVudDtcbiAgICB2YXIgaGVhZCA9IF9tb2R1bGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICB2YXIganMgPSBfbW9kdWxlLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGpzLnNyYyA9IHVybDtcbiAgICBqcy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChqcyk7XG5cbiAgICByZXR1cm4ganM7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIGhhc2hUbXBsXG4gICogQHBhcmFtICB7U3RyaW5nfSBzdHIgIGEgdGVtcGxhdGUgaWRlbnRpZmllciBvciB0aGUgdGVtcGxhdGUgaXRzZWxmXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhICBUaGUgSlNPTiBvYmplY3QgY29udGFpbnMgdGhlIHZhcmliYWxlIGRlZmluZWQgaW4gdGVtcGxhdGUuXG4gICogQHJldHVybiB7bnVsbH1cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyBhIG1pY3JvIHRlbXBsYXRpbmcgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBIVE1MIGNvZGVzIHVzaW5nIHVzZXIgZGVmaW5lZCB0ZW1wbGF0ZXMgY29udGFpbmluZyB2YXJpYWJsZXMsIGhlcmUgdGhlIHZhcmlhYmxlIGFyZSBzdXJyb3VuZGVkIHdpdGggPCMgIz4gaW5zdGVhZCBvZiA8JSAlPlxuICAqL1xuICB1dGlsaXR5TW9kdWxlLmhhc2hUbXBsID0gZnVuY3Rpb24gaGFzaFRtcGwgKHN0ciwgZGF0YSkge1xuICAgIHZhciBmbiA9ICEvXFxXLy50ZXN0KHN0cikgPyBjYWNoZVtzdHJdID0gY2FjaGVbc3RyXSB8fFxuICAgICAgKHV0aWxpdHlNb2R1bGUuZWxlbWVudEJ5SWQoc3RyKSA/IGhhc2hUbXBsKHV0aWxpdHlNb2R1bGUuZWxlbWVudEJ5SWQoc3RyKS5pbm5lckhUTUwpIDogJycpXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgIDogbmV3IEZ1bmN0aW9uKCdvYmonLFxuICAgICAgICAndmFyIHA9W10scHJpbnQ9ZnVuY3Rpb24oKXtwLnB1c2guYXBwbHkocCxhcmd1bWVudHMpO307JyArXG4gICAgICAgIFwid2l0aChvYmope3AucHVzaCgnXCIgK1xuICAgICAgICBzdHIucmVwbGFjZSgvW1xcclxcdFxcbl0vZywgJyAnKS5zcGxpdCgnPCMnKVxuICAgICAgICAgIC5qb2luKCdcXHQnKS5yZXBsYWNlKFxuICAgICAgICAgICAgLygoXnwjPilbXlxcdF0qKScvZywgJyQxXFxyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx0PSguKj8pIz4vZywgXCInLCQxLCdcIilcbiAgICAgICAgICAuc3BsaXQoJ1xcdCcpLmpvaW4oXCInKTtcIilcbiAgICAgICAgICAuc3BsaXQoJyM+Jykuam9pbihcInAucHVzaCgnXCIpXG4gICAgICAgICAgLnNwbGl0KCdcXHInKS5qb2luKFwiXFxcXCdcIikgK1xuICAgICAgICBcIicpO31yZXR1cm4gcC5qb2luKCcnKTtcIik7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGRhdGEgPyBmbihkYXRhKSA6IGZuO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH07XG4gIHZhciBjYWNoZSA9IHt9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAqIEBmdW5jdGlvbiB0bXBsXG4gICogQHBhcmFtICB7U3RyaW5nfSBzdHIgIGEgdGVtcGxhdGUgaWRlbnRpZmllciBvciB0aGUgdGVtcGxhdGUgaXRzZWxmXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhICBUaGUgSlNPTiBvYmplY3QgY29udGFpbnMgdGhlIHZhcmliYWxlIGRlZmluZWQgaW4gdGVtcGxhdGUuXG4gICogQHJldHVybiB7bnVsbH1cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyBhIG1pY3JvIHRlbXBsYXRpbmcgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBIVE1MIGNvZGVzIHVzaW5nIHM9dXNlciBkZWZpbmVkIHRlbXBsYXRlcyBjb250YWluaW5nIHZhcmlhYmxlc1xuICAqL1xuICB1dGlsaXR5TW9kdWxlLnRtcGwgPSBmdW5jdGlvbiB0bXBsIChzdHIsIGRhdGEpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICB2YXIgZm4gPSAhL1xcVy8udGVzdChzdHIpID8gY2FjaGVbc3RyXSA9IGNhY2hlW3N0cl0gfHwgKHV0aWxpdHlNb2R1bGUuZWxlbWVudEJ5SWQoc3RyKSA/IHRtcGwodXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChzdHIpLmlubmVySFRNTCkgOiAnJykgOiBuZXcgRnVuY3Rpb24oJ29iaicsICd2YXIgcD1bXSxwcmludD1mdW5jdGlvbigpe3AucHVzaC5hcHBseShwLGFyZ3VtZW50cyk7fTsnICsgXCJ3aXRoKG9iail7cC5wdXNoKCdcIiArIHN0ci5yZXBsYWNlKC9bXFxyXFx0XFxuXS9nLCAnICcpLnNwbGl0KCc8JScpLmpvaW4oJ1xcdCcpLnJlcGxhY2UoLygoXnwlPilbXlxcdF0qKScvZywgJyQxXFxyJykucmVwbGFjZSgvXFx0PSguKj8pJT4vZywgXCInLCQxLCdcIikuc3BsaXQoJ1xcdCcpLmpvaW4oXCInKTtcIikuc3BsaXQoJyU+Jykuam9pbihcInAucHVzaCgnXCIpLnNwbGl0KCdcXHInKS5qb2luKFwiXFxcXCdcIikgKyBcIicpO31yZXR1cm4gcC5qb2luKCcnKTtcIik7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGRhdGEgPyBmbihkYXRhKSA6IGZuO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIGpzb25wQ2FsbFxuICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgdXJsIHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZSAgYW55IHR5cGVcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uICBhY3Rpb24gdHlwZVxuICAqIEBkZXNjcmlwdGlvbiBBIG1ldGhvZCB0byBtYWtlIEpTT05QIGNhbGwgYW5kIGhhbmRsaW5nIHN1Y2Nlc3MgYW5kIGVycm9yIHJlcG9uc2UgYWNjb3JkaW5nbHkuIChKU09OUCBpcyBhIG1ldGhvZCBmb3Igc2VuZGluZyBKU09OIGRhdGEgd2l0aG91dCB3b3JyeWluZyBhYm91dCBjcm9zcy1kb21haW4gaXNzdWVzKVxuICAqL1xuICB1dGlsaXR5TW9kdWxlLmpzb25wQ2FsbCA9IGZ1bmN0aW9uICh1cmwsIGhhbmRsZSwgY2FsbGFiY2ssIGFjdGlvbikge1xuICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc3RhcnRQcm9jZXNzJywgYWN0aW9uKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgdmFyIGZ1bmMgPSBjYWxsYWJjayB8fCAnTG9naW5yYWRpdXMnICsgTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwMDAwMDAwMDAwMDApICsgMSk7XG4gICAgd2luZG93W2Z1bmNdID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGhhbmRsZShkYXRhKTtcbiAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnZW5kUHJvY2VzcycsIGFjdGlvbik7XG4gICAgfTtcblxuICAgIHZhciBlbmR1cmwgPSB1cmwuaW5kZXhPZignPycpICE9PSAtMSA/IHVybCArICcmY2FsbGJhY2s9JyArIGZ1bmMgOiB1cmwgKyAnP2NhbGxiYWNrPScgKyBmdW5jO1xuICAgIHV0aWxpdHlNb2R1bGUuYWRkSnMoZW5kdXJsKTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgKiBAZnVuY3Rpb24gZ2V0QnV0dG9uQXR0cmlidXRlXG4gICogQHBhcmFtIHtTdHJpbmd9IGJ1dHRvbklkIGlkIG9mIGJ1dHRvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXhOYW1lICBjbGFzcyBwcmVmaXhcbiAgKiBAcmV0dXJuIHtPYmplY3R9IEJ0biAgQnV0dG9uIGVsZW1lbnRcbiAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIGJ1dHRvbiBlbGVtZW50IGFuZCBzZXQgYXR0cmlidXRlcyBsaWtlIGJ0biBpZCwgY2xhc3MgbmFtZS5cbiAgKi9cbiAgdXRpbGl0eU1vZHVsZS5nZXRCdXR0b25BdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYnV0dG9uSWQsIF9jbGFzc1ByZWZpeE5hbWUsIG9uY2xpY2tGbiwgdmFsdWUsIGFwcGVuZFdpdGhEaXYpIHtcbiAgICAvLyBpZiAoYnV0dG9uSWQuaW5kZXhPZignZW1haWxvdHAnKSA9PT0gMCkge1xuICAgIC8vICAgZGVmYXVsdEJ1dHRvbnNOYW1lW2J1dHRvbklkXSA9IGRlZmF1bHRCdXR0b25zTmFtZVsnZW1haWxvdHAnXSArIHZhbHVlO1xuICAgIC8vICAgaWYgKG1vZHVsZS5idXR0b25zTmFtZVsnZW1haWxvdHAnXSkge1xuICAgIC8vICAgICBtb2R1bGUuYnV0dG9uc05hbWVbYnV0dG9uSWRdID0gbW9kdWxlLmJ1dHRvbnNOYW1lWydlbWFpbG90cCddICsgdmFsdWU7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIHZhciBfaWRQcmVmaXggPSBfY2xhc3NQcmVmaXhOYW1lIHx8IExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXg7XG4gICAgdmFyIEJ0bjtcbiAgICBpZiAobW9kdWxlLmJ1dHRvbkVsZW1lbnRzW2J1dHRvbklkXSkge1xuICAgICAgQnRuID0gbW9kdWxlLmJ1dHRvbkVsZW1lbnRzW2J1dHRvbklkXTtcbiAgICAgIEJ0biA9IEJ0bi5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgQnRuLnZhbHVlID0gbW9kdWxlLmJ1dHRvbnNOYW1lW2J1dHRvbklkXSB8fCBkZWZhdWx0QnV0dG9uc05hbWVbYnV0dG9uSWRdIHx8IHZhbHVlO1xuICAgIH1cbiAgICBpZiAob25jbGlja0ZuKSB7XG4gICAgICBCdG4ub25jbGljayA9IG9uY2xpY2tGbjtcbiAgICB9XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBCdG4uZGF0YXZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgIH1cbiAgICBCdG4uaWQgPSBfaWRQcmVmaXggKyAnYnV0dG9uLScgKyBidXR0b25JZDtcbiAgICB2YXIgYnV0dG9uRGl2ID0gJyc7XG4gICAgLy8gIGlmIChhcHBlbmRXaXRoRGl2KSB7XG4gICAgYnV0dG9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfaWRQcmVmaXggKyAnLWZvcm0tZWxlbWVudC1jb250ZW50JyArICcgY29udGVudC0nICsgX2lkUHJlZml4ICsgYnV0dG9uSWQpO1xuICAgIGJ1dHRvbkRpdi5hcHBlbmRDaGlsZChCdG4pO1xuICAgIC8vIH1cbiAgICByZXR1cm4gYnV0dG9uRGl2O1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAqIEBmdW5jdGlvbiBhamF4Q2FsbFxuICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgdXJsXG4gICogQHBhcmFtIHtPYmplY3Q9fSBkYXRhICBpbnB1dCBwYXlsb2FkIGZvciBwb3N0L3B1dCBjYWxsXG4gICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAgbWV0aG9kIHR5cGUoR0VUL1BPU1QvUFVULi4pXG4gICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbiAgbmFtZSBvZiB0aGUgYWN0aW9uIGJlaW5nIHBlcmZvcm1lZCByZWZlcmVuY2VkIHRvIFYySlNcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzSGFuZGxlciAgY2FsbGJhY2sgZnVuY3Rpb24gb24gc3VjY2Vzc2Z1bCBoYW5kbGluZyBvZiBYSFIgY2FsbFxuICAqIEBwYXJhbSB7T2JqZWN0PX0gZHNGbGFnICBJZiBkYXRhIHNvdXJjZSBpcyB0aGVyZSB0aGVuIHRoZSBkYXRhc291cmNlIGlzIHJldHVybmVkIHRvIHN1Y2Nlc2hhbmRsZXIgZnVuY3N0aW9uIGFsb25nIHdpdGggWEhSIHJlc3VsdHNcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbnMgaGFuZGxlcyBhbGwgdGhlIFhIUiBjYWxsIHNlbnQgdGhyb3VnaCB0aGUgY29kZVxuICAqL1xuICB1dGlsaXR5TW9kdWxlLmFqYXhDYWxsID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzSGFuZGxlciwgYWN0aW9uLCBkc0ZsYWcpIHtcbiAgICB2YXIgdXRpbCA9IHRoaXM7XG4gICAgdmFyIG5hbWUgPSBhY3Rpb247XG4gICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24uaW5kZXhPZignIyMnKSAhPT0gLTEpIHtcbiAgICAgIG5hbWUgPSBhY3Rpb24uc3BsaXQoJyMjJylbMV07XG4gICAgfVxuICAgIGlmIChhY3Rpb24gIT09ICdwaW5nRm9yUHVzaE5vdGlmaWNhdGlvbicpIHtcbiAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc3RhcnRQcm9jZXNzJywgYWN0aW9uLCBkYXRhKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wcm9qZWN0aW9uRmllbGRzICYmIGFjdGlvbikge1xuICAgICAgICB2YXIgcHJvamVjdGlvbkZpZWxkc0tleXMgPSBPYmplY3Qua2V5cyhtb2R1bGUub3B0aW9ucy5wcm9qZWN0aW9uRmllbGRzKTtcbiAgICAgICAgdmFyIG1hcEFjdGlvbnMgPSBbJ3ZlcmlmeU9UUCcsICd1cGRhdGVEYXRhJ107XG4gICAgICAgIHZhciBtYXBBY3Rpb25zRXhpc3QgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9hY3Rpb24gPSBhY3Rpb247XG4gICAgICAgIGlmIChtb2R1bGUuTFJDaGVja1JlZ2lzdHJhdGlvbikge1xuICAgICAgICAgIG1hcEFjdGlvbnNFeGlzdCA9IG1hcEFjdGlvbnMuaW5kZXhPZihhY3Rpb24pICE9PSAtMTtcbiAgICAgICAgICBfYWN0aW9uID0gJ3JlZ2lzdHJhdGlvbic7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kdWxlLkxSQ2hlY2tMb2dpbikge1xuICAgICAgICAgIG1hcEFjdGlvbnNFeGlzdCA9IG1hcEFjdGlvbnMuaW5kZXhPZihhY3Rpb24pICE9PSAtMTtcbiAgICAgICAgICBfYWN0aW9uID0gJ2xvZ2luJztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvamVjdGlvbkZpZWxkc0tleXMuaW5kZXhPZihhY3Rpb24pICE9PSAtMSB8fCBtYXBBY3Rpb25zRXhpc3QpIHtcbiAgICAgICAgICB2YXIgYWN0aW9uUHJvamVjdGlvbkZpZWxkcyA9IG1vZHVsZS5vcHRpb25zLnByb2plY3Rpb25GaWVsZHNbX2FjdGlvbl07XG4gICAgICAgICAgaWYgKGFjdGlvblByb2plY3Rpb25GaWVsZHMgJiYgYWN0aW9uUHJvamVjdGlvbkZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgcmVxdWlyZWRQcm9qZWN0ZWRGaWVsZCA9IFsnRXJyb3JDb2RlJywgJ1Byb2ZpbGUvVWlkJywgJ1Byb2ZpbGUvSXNEZWxldGVkJywgJ2FjY2Vzc190b2tlbicsICdQcm9maWxlL0VtYWlsVmVyaWZpZWQnLCAnUHJvZmlsZS9QaG9uZUlkVmVyaWZpZWQnLCAnUHJvZmlsZS9QaG9uZUlkJywgJ1Bob25lSWQnLCAnUGhvbmVJZFZlcmlmaWVkJywgJ0VtYWlsVmVyaWZpZWQnLCAnVWlkJywgJ0lzRGVsZXRlZCddO1xuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgcmVxdWlyZWRQcm9qZWN0ZWRGaWVsZC5wdXNoKCdTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi9TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuJywgJ1NlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uL0lzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkJywgJ1NlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uL0lzQXV0aGVudGljYXRvclZlcmlmaWVkJywgJ1NlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uL09UUFBob25lTm8nLCAnU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24vTWFudWFsRW50cnlDb2RlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzID0gdXRpbGl0aWVzLm1lcmdlT2JqZWN0cyhhY3Rpb25Qcm9qZWN0aW9uRmllbGRzLCByZXF1aXJlZFByb2plY3RlZEZpZWxkLCB0cnVlKTtcblxuICAgICAgICAgICAgdmFyIGZpZWxkc0xpc3QgPSAnJmZpZWxkcz0nO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChpID09PSBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHNMaXN0ID0gZmllbGRzTGlzdCArIGFjdGlvblByb2plY3Rpb25GaWVsZHNbaV07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmllbGRzTGlzdCA9IGZpZWxkc0xpc3QgKyBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzW2ldICsgJywnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cmwgPSB1cmwgKyBmaWVsZHNMaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmNsaWVudElkICYmIG1vZHVsZS5vcHRpb25zLmNsaWVudElkLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBfdXJsID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICBfdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ2FwaWtleScpO1xuICAgICAgICBfdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ2FwaUtleScpO1xuICAgICAgICBfdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2NsaWVudF9pZCcsIG1vZHVsZS5vcHRpb25zLmNsaWVudElkKTtcbiAgICAgICAgdXJsID0gX3VybC50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ2FjY2Vzc190b2tlbicsIHVybCk7XG4gICAgICBpZiAoKG1vZHVsZS5vcHRpb25zLnBhc3NBY2Nlc3NUb2tlbkluSGVhZGVyICYmIGFjY2Vzc1Rva2VuICYmIHVybC5pbmRleE9mKExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluKSA+IC0xKSB8fCBbJ3NldEN1c3RvbVRva2VuJywgJ3NldFRva2VuJ10uaW5kZXhPZihhY3Rpb24pICE9PSAtMSkge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnJmFjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4sICcnKS5yZXBsYWNlKCc/YWNjZXNzX3Rva2VuPScgKyBhY2Nlc3NUb2tlbiArICcmJywgJz8nKS5yZXBsYWNlKCc/YWNjZXNzX3Rva2VuPScgKyBhY2Nlc3NUb2tlbiwgJz8nKTtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwuaW5kZXhPZignL3Nzb2xvZ2luLycpID4gLTEgfHwgYWN0aW9uID09PSAnc2V0VG9rZW4nKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmRleE9mKCdjZG4nKSA9PT0gLTEgJiYgdXJsLmluZGV4T2YoJy5qc29uJykgPT09IC0xKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG4gICAgICB9XG4gICAgICAvLyBTZXQgRmVkLXNlc3MgY29va2llIGlmIHByZXNlbnRcbiAgICAgIGxldCBzZXRGZWRTZXNzaW9uQ29va2llZSA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBMb2dpblJhZGl1c0RlZmF1bHRzLmxvZ2luVVJMcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodXJsLmluZGV4T2YoTG9naW5SYWRpdXNEZWZhdWx0cy5sb2dpblVSTHNbaV0pICE9PSAtMSkge1xuICAgICAgICAgIHNldEZlZFNlc3Npb25Db29raWVlID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNldEZlZFNlc3Npb25Db29raWVlKSB7XG4gICAgICAgIHZhciBjb29raWVmZWRTZXNzID0gTFJOYW1lU3BhY2UuY29va2llcy5nZXRJdGVtKExvZ2luUmFkaXVzRGVmYXVsdHMuZmVkU2Vzc0Nvb2tpZSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgIGlmICh0eXBlb2YgY29va2llZmVkU2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgY29va2llZmVkU2VzcyAhPSBudWxsKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtUGFyYW1zJywgY29va2llZmVkU2Vzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLnNvdHRjaGVjaykge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1Mb2dpblJhZGl1cy1Tb3R0JywgbW9kdWxlLm9wdGlvbnMuc290dCk7XG4gICAgICAgIGRlbGV0ZSBkYXRhLnNvdHRjaGVjaztcbiAgICAgIH1cbiAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnbW9kaWZ5WGhyUmVxdWVzdCcsIGFjdGlvbiwgeGhyLCB1cmwpO1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHV0aWxpdGllcy5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgICAgfSBlbHNlIHsgeGhyLnNlbmQobnVsbCk7IH1cblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciBqc29uUmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlS2V5cyA9IE9iamVjdC5rZXlzKGpzb25SZXNwb25zZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2VLZXlzLmluZGV4T2YoJ2Vycm9yY29kZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3hockVuZFdpdGhFcnJvcicsIGFjdGlvbik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCd4aHJFbmRXaXRoU3VjY2VzcycsIGFjdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09ICc1MDAnKSB7XG4gICAgICAgICAgICAgIHZhciBfcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgX3Jlc3BvbnNlLkVycm9yQ29kZSA9ICc1MDAnO1xuICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04uc3RyaW5naWZ5KF9yZXNwb25zZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgneGhyRW5kV2l0aEVycm9yJywgYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICByZXN1bHQgPSB1dGlsLmlzSnNvblN0cmluZyhyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc3VjY2Vzc0NhbGxiYWNrJywgbmFtZSwgcmVzdWx0LCBkYXRhKTtcbiAgICAgICAgICAgICAgaWYgKGRzRmxhZykge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NIYW5kbGVyKGRzRmxhZywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzSGFuZGxlcihyZXN1bHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ2VuZFByb2Nlc3MnLCBhY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBtb2R1bGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3hockVuZFdpdGhFcnJvcicsIGFjdGlvbik7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBtb2R1bGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIG9wZW5XaW5kb3dcbiAgKiBAcGFyYW0ge1N0cmluZ30gX3VybCBTcGVjaWZpZXMgdGhlIFVSTCBvZiB0aGUgcGFnZSB0byBvcGVuLiBJZiBubyBVUkwgaXMgc3BlY2lmaWVkLCBhIG5ldyB3aW5kb3cvdGFiIHdpdGggYWJvdXQ6YmxhbmsgaXMgb3BlbmVkXG4gICogQHJldHVybiB7Qm9vbGVhbi9TdHJpbmd9IHJlc3VsdHMgIHN0cmluZyBvciBib29sZWFuIHZhbHVlXG4gICogQGRlc2NyaXB0aW9uIE9wZW5zIGEgbmV3IGJyb3dzZXIgd2luZG93LCBvciBhIG5ldyB0YWIsIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuLlxuICAqL1xuICB1dGlsaXR5TW9kdWxlLm9wZW5XaW5kb3cgPSBmdW5jdGlvbiAoX3VybCkge1xuICAgIF91cmwgPSBfdXJsIHx8IHV0aWxpdHlNb2R1bGUuaHJlZjtcblxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc01vYmlsZSkge1xuICAgICAgdmFyIGxvYyA9ICdubyc7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGVidWdNb2RlKSB7XG4gICAgICAgIGxvYyA9ICd5ZXMnO1xuICAgICAgfVxuICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKF91cmwsICdfYmxhbmsnLCAnbG9jYXRpb249JyArIGxvYyk7XG4gICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcignbG9hZHN0b3AnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGdldFBhcmFtVmFsdWUgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFxcXD8mXScgKyBwYXJhbSArICc9KFteJiNdKiknKTtcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMoZXZlbnQudXJsKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/ICcnIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0b2tlbiA9IGdldFBhcmFtVmFsdWUoJ3Rva2VuJyk7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcbiAgICAgICAgaWYgKHRva2VuICE9IG51bGwgJiYgdG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgd2luLmNsb3NlKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgaHRtbDVwYXNzVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHBhcnNlci5ocmVmID0gX3VybDtcbiAgICAgIHZhciBwcm92aWRlciA9IHV0aWxpdGllcy5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgncHJvdmlkZXInLCBwYXJzZXIuc2VhcmNoKTtcbiAgICAgIHZhciBjbGllbnRHdWlkID0gJyc7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgIGNsaWVudEd1aWQgPSBtb2R1bGUudXRpbC5yYW5kb21TdHJpbmcoMTYpO1xuICAgICAgICBfdXJsICs9ICcmbm9jYWxsYmFjaz10cnVlJmNhbGxiYWNrZ3VpZD0nICsgY2xpZW50R3VpZDtcbiAgICAgIH1cbiAgICAgIHZhciBwb3B1cFdpZHRoID0gcHJvdmlkZXIgJiYgcHJvdmlkZXIudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhY2Vib29rJyA/ICc2NTAnIDogJzQ1MCc7XG4gICAgICB2YXIgc29jaWFsUG9wdXBEYXRhID0gbW9kdWxlLm9wdGlvbnMuY3VzdG9taXplU29jaWFsUG9wdXAgfHwgJ21lbnViYXI9MSxyZXNpemFibGU9MSx3aWR0aD0nICsgcG9wdXBXaWR0aCArICcsaGVpZ2h0PTQ1MCxzY3JvbGxiYXJzPTEnO1xuICAgICAgd2luZG93Lm9wZW4oX3VybCwgJ2xycG9wdXBjaGlsZHdpbmRvdycsIHNvY2lhbFBvcHVwRGF0YSk7XG4gICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NvY2lhbENhbGxzJywgcHJvdmlkZXIsIGNsaWVudEd1aWQpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgKiBAZnVuY3Rpb24gYWRkSFRNTENvbnRlbnRcbiAgKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyIGh0bWwgRE9NIGVsZW1lbnRcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBodG1sIGVsZW1lbnRcbiAgKiBAcGFyYW0ge1N0cmluZ30gaW5uZXJIdG1sIHN0cmluZ1xuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIHN0cmluZ1xuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXhOYW1lIHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBBZGQgaHRtbCBjb250ZW50cyBpbnRvIGdpdmVuIGh0bWwgY29udGFpbmVyLlxuICAqL1xuICB1dGlsaXR5TW9kdWxlLmFkZEhUTUxDb250ZW50ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgZGF0YSwgaW5uZXJIdG1sLCBuYW1lLCBfY2xhc3NQcmVmaXhOYW1lKSB7XG4gICAgaW5uZXJIdG1sID0gaW5uZXJIdG1sIHx8IGZhbHNlO1xuICAgIHZhciBjb250YWluZXJFbGVtID0gdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChjb250YWluZXIpO1xuICAgIGlmIChjb250YWluZXJFbGVtIHx8IG5hbWUpIHtcbiAgICAgIGlmICghaW5uZXJIdG1sKSB7XG4gICAgICAgIGNvbnRhaW5lckVsZW0uaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICB2YXIgYnV0dG9uTmFtZSA9IGRlZmF1bHRCdXR0b25zTmFtZVtuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICB2YXIgX2lkUHJlZml4ID0gX2NsYXNzUHJlZml4TmFtZSB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4O1xuICAgICAgICB2YXIgcmVmID0gdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChfaWRQcmVmaXggKyAnc3VibWl0LScgKyBidXR0b25OYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnLScpKTtcbiAgICAgICAgdXRpbGl0aWVzLmluc2VydEJlZm9yZShkYXRhLCByZWYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyRWxlbS5hcHBlbmRDaGlsZChkYXRhKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRhaW5lckVsZW0xID0gdXRpbGl0aWVzLmVsZW1lbnRzQnlDbGFzcyhjb250YWluZXIpO1xuICAgICAgaWYgKGNvbnRhaW5lckVsZW0xICYmIGNvbnRhaW5lckVsZW0xLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb250YWluZXJFbGVtMS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmICghaW5uZXJIdG1sKSB7XG4gICAgICAgICAgICBjb250YWluZXJFbGVtMVtqXS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250YWluZXJFbGVtMVtqXS5hcHBlbmRDaGlsZChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAqIEBmdW5jdGlvbiBhZGRSZWNhcHRjaGFKU1xuICAqIEBwYXJhbSB7Qm9vbGVhbj19IGFkZCBpZiB0cnVlIHRoZW4gaXQgd2lsbCBhZGQgVjJyZWNhcHRjaGEgSlMgdG8gdGhlIGFwcGxpY2F0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb25hIGFkZCB0aGUgSlMgcmVxdWlyZWQgdG8gYWRkIGNhcHRjaGEgc2V0dGluZyBmb3IgaW52aXNpYmxlLCBWMnJlY2FwdGNoYSBvciB0ZW5zY2VudCBjYXB0Y2hhLlxuICAqL1xuICB1dGlsaXR5TW9kdWxlLmFkZFJlY2FwdGNoYUpTID0gZnVuY3Rpb24gKGFkZCkge1xuICAgIGlmICghd2luZG93WydoY2FwdGNoYSddICYmIG1vZHVsZS5vcHRpb25zLmhDYXB0Y2hhU2l0ZUtleSkge1xuICAgICAgbGV0IHNyYyA9ICdodHRwczovL2pzLmhjYXB0Y2hhLmNvbS8xL2FwaS5qcyc7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhKSB7XG4gICAgICAgIHV0aWxpdHlNb2R1bGUuYWRkSnMoc3JjKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNyYyArPSAnP3JlbmRlcj1leHBsaWNpdCc7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYUxhbmd1YWdlKSB7XG4gICAgICAgICAgc3JjICs9ICcmaGw9JyArIG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhTGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdXRpbGl0eU1vZHVsZS5hZGRKcyhzcmMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXdpbmRvd1snZ3JlY2FwdGNoYSddKSB7XG4gICAgICBsZXQgc3JjID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcyc7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEgfHwgYWRkKSB7XG4gICAgICAgIHNyYyArPSAnP3JlbmRlcj1leHBsaWNpdCc7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYUxhbmd1YWdlKSB7XG4gICAgICAgICAgc3JjICs9ICcmaGw9JyArIG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhTGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdXRpbGl0eU1vZHVsZS5hZGRKcyhzcmMpO1xuICAgICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEpIHtcbiAgICAgICAgdXRpbGl0eU1vZHVsZS5hZGRKcyhzcmMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrKSB7XG4gICAgICB1dGlsaXR5TW9kdWxlLmFkZEpzKCdodHRwczovL3NzbC5jYXB0Y2hhLnFxLmNvbS9UQ2FwdGNoYS5qcycpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgICogQGZ1bmN0aW9uIHBhc3NrZXlhdXRvZmlsbFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYWJjayBDcmVkZW50YWlhbHMgb3B0aW9ucyB1c2VkIGluIHBhc3NrZXlzIEFQSVxuICAgKi9cbiAgdXRpbGl0eU1vZHVsZS5wYXNza2V5YXV0b2ZpbGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQgJiYgbW9kdWxlLm9wdGlvbnMuaXNQYXNza2V5QXV0b2ZpbGwpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgIG1vZHVsZS51dGlsLmlzUGFzc2tleUF2YWlsYWJsZSgpLnRoZW4oZnVuY3Rpb24gKGlzQXV0b0ZpbGwpIHtcbiAgICAgICAgaWYgKGlzQXV0b0ZpbGwpIHtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuLCAnJywgZnVuY3Rpb24gKHVzZXJQcm9maWxlKSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgICAgIGlmICh1c2VyUHJvZmlsZS5FcnJvckNvZGUgJiYgdXNlclByb2ZpbGUuRXJyb3JDb2RlID09PSA5MDYpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vcGFzc2tleS9hdXRvZmlsbC9iZWdpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuZ2V0UGFzc0tleUNyZWRlbnRpYWxzKHJlc3BvbnNlLkxvZ2luQmVnaW5DcmVkZW50aWFsLCB0cnVlKS50aGVuKChhc3NlcnRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhWydhc3NlcnRpb24nXSA9IGFzc2VydGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhWydlcnJvciddID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vcGFzc2tleS9hdXRvZmlsbC9iZWdpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgZGF0YVsnZXJyb3InXSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmdldFBhc3NLZXlDcmVkZW50aWFscyhyZXNwb25zZS5Mb2dpbkJlZ2luQ3JlZGVudGlhbCwgdHJ1ZSkudGhlbigoYXNzZXJ0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICBkYXRhWydhc3NlcnRpb24nXSA9IGFzc2VydGlvbjtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhWydlcnJvciddID0gZTtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kdWxlLmxvZygnQXV0byBmaWxsIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZGF0YVsnZXJyb3InXSA9IGU7XG4gICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIHJlbmRlclYyUmVjYXB0Y2hhXG4gICogQHBhcmFtIHtCb29sZWFufSBhZGQgaWYgdHJ1ZSB0aGVuIGl0IHdpbGwgcmVuZGVyIGNhcHRjaGEgaW4gdGhlIERPbSBldmVuIGlmIGFueSBjcGF0Y2hhIGhhcyBiZWVuIGVuYWJsZWQgb3Igbm90IGluIGRhc2hib2FyZCBvciB1c2luZyBjb21tb24gb3B0aW9ucy5cbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgZWxlbWVudCBIVE1MIGlkIHdoZXJlIGNhcHRjaGEgbmVlZGVkIHRvIGJlIHJlbmRlcmVkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gYWZ0ZXIgY2FwdGNoYSBoYXMgYmVlbiByZW5kZXJlZCB0byBET01cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyB0ZWggZnVuY3Rpb24gdG8gcmVuZGVyIGNhcHRjaGEgaW4gRE9NXG4gICovXG4gIHV0aWxpdHlNb2R1bGUucmVuZGVyVjJSZWNhcHRjaGEgPSBmdW5jdGlvbiAocmVjYXB0Y2hhaWQsIGFkZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaW50dmFsO1xuICAgIHZhciBkb21SZWNhcHRjaGEgPSB1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkKTtcbiAgICBsZXQgaXNHb29nbGVDYXB0Y2hFbmFibGVkID0gbW9kdWxlLm9wdGlvbnMuaXNDYXB0Y2hhRW5hYmxlZCB8fCBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSB8fCBtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGE7XG4gICAgaWYgKGlzR29vZ2xlQ2FwdGNoRW5hYmxlZCB8fCBhZGQgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrKSB7XG4gICAgICBpZiAoZG9tUmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYS5pbm5lckhUTUwpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5oY2FwdGNoYSAmJiBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkpIHtcbiAgICAgICAgICB3aW5kb3cuaGNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhKSB7XG4gICAgICAgICAgZ3JlY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBtYWluSW50dmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghaW50dmFsKSB7XG4gICAgICAgICAgICBpbnR2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCh3aW5kb3cuZ3JlY2FwdGNoYSAmJiBncmVjYXB0Y2hhLnJlbmRlcikgfHwgd2luZG93LmhjYXB0Y2hhKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZG9tUmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYS5pbm5lckhUTUwgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWNhcHRjaGFPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgJ3NpdGVrZXknOiBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgfHwgbW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGFTaXRlS2V5IHx8ICc2TGVBaXdJVEFBQUFBRGxxYjA2SklHZXBCczhaUm8zT1o3QzBXN1UzJyxcbiAgICAgICAgICAgICAgICAgICAgICAndGhlbWUnOiBtb2R1bGUub3B0aW9ucy5jYXB0Y2hhVGhlbWUgfHwgJ2xpZ2h0JyxcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGdfcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVJlY2FwdGNoYS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhnX3Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZWNhcHRjaGFPYmpbJ3NpemUnXSA9ICdpbnZpc2libGUnO1xuICAgICAgICAgICAgICAgICAgICAgIHJlY2FwdGNoYU9ialsnY2FsbGJhY2snXSA9ICdvbkNhcHRjaGFTdWJtaXQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaGNhcHRjaGEgJiYgbW9kdWxlLm9wdGlvbnMuaENhcHRjaGFTaXRlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10gPSB3aW5kb3cuaGNhcHRjaGEucmVuZGVyKHJlY2FwdGNoYWlkLCByZWNhcHRjaGFPYmopO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddID0gZ3JlY2FwdGNoYS5yZW5kZXIocmVjYXB0Y2hhaWQsIHJlY2FwdGNoYU9iaik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludHZhbCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJlY2FwdGNoYWlkID0gcmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnQnO1xuICAgICAgICAgICAgICAgICAgLy8gdGVuY2VudFxuXG4gICAgICAgICAgICAgICAgICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQpO1xuICAgICAgICAgICAgICAgICAgaWYgKGVsZSkge1xuICAgICAgICAgICAgICAgICAgICBlbGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFRlbmNlbnRDYXB0Y2hhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3XG4gICAgICAgICAgICAgICAgICAgIG5ldyBUZW5jZW50Q2FwdGNoYShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZWNhcHRjaGFpZCkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnR2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjbGVhckludGVydmFsKGludHZhbCk7IG1vZHVsZS5sb2coZSk7IH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChtYWluSW50dmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgY2xlYXJJbnRlcnZhbChtYWluSW50dmFsKTsgbW9kdWxlLmxvZyhlKTsgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIGNhcHRjaGFTY2hlbWFcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IGFkZCBmbGFnIGZvciBhZGQgdjJSZWNhcHRjaGFcbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgaWQgb2YgdjJSZWNhcHRjaGFcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBhcnJheSBvZiBjYXB0Y2hhIG9iamVjdHNcbiAgKiBAZGVzY3JpcHRpb24gVXBkYXRlIGNhcHRjaGEgc2NoZW1hLlxuICAqL1xuICB1dGlsaXR5TW9kdWxlLmNhcHRjaGFTY2hlbWEgPSBmdW5jdGlvbiAocmVjYXB0Y2hhaWQsIHNjaGVtYSwgYWRkLCBjYWxsYWJjaykge1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgJiYgIXV0aWxpdHlNb2R1bGUuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQpKSB7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhKSB7XG4gICAgICAgIGxldCBpbnZpc2libGVDYXB0Y2hhT2JqID0ge1xuICAgICAgICAgIHR5cGU6ICdjYXB0Y2hhJyxcbiAgICAgICAgICBuYW1lOiAnaC1jYXB0Y2hhLXJlc3BvbnNlJyxcbiAgICAgICAgICBodG1sOiAnPGRpdiBpZD1cIicgKyByZWNhcHRjaGFpZCArICdcIiBjbGFzcz1cImgtY2FwdGNoYVwiIGRhdGEtc2l0ZWtleT1cIicgKyBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgKyAnXCIgZGF0YS1zaXplPVwiaW52aXNpYmxlXCIgZGF0YS1jYWxsYmFjaz1cIm9uQ2FwdGNoYVN1Ym1pdFwiPjwvZGl2PicsXG4gICAgICAgICAgZGlzcGxheTogJ0NhcHRjaGEnLFxuICAgICAgICAgIHJ1bGVzOiAnJ1xuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEucHVzaChpbnZpc2libGVDYXB0Y2hhT2JqKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBjYXB0Y2hhT2JqID0ge1xuICAgICAgICAgIHR5cGU6ICdjYXB0Y2hhJyxcbiAgICAgICAgICBuYW1lOiAnaC1jYXB0Y2hhLXJlc3BvbnNlJyxcbiAgICAgICAgICBodG1sOiAnPGRpdiBpZD1cIicgKyByZWNhcHRjaGFpZCArICdcIiBjbGFzcz1cImgtY2FwdGNoYVwiIGRhdGEtc2l0ZWtleT1cIicgKyBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgKyAnXCI+PC9kaXY+JyxcbiAgICAgICAgICBkaXNwbGF5OiAnQ2FwdGNoYScsXG4gICAgICAgICAgcnVsZXM6ICdyZXF1aXJlZCdcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLnB1c2goY2FwdGNoYU9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgobW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEgfHwgYWRkKSAmJiAhdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCkpIHtcbiAgICAgICAgbGV0IGNhcHRjaGFPYmogPSB7XG4gICAgICAgICAgdHlwZTogJ2NhcHRjaGEnLFxuICAgICAgICAgIG5hbWU6ICdnLXJlY2FwdGNoYS1yZXNwb25zZScsXG4gICAgICAgICAgaHRtbDogJzxkaXYgaWQ9XCInICsgcmVjYXB0Y2hhaWQgKyAnXCIgY2xhc3M9XCJyZWNhcHRjaGFfd2lkZ2V0XCI+PC9kaXY+JyxcbiAgICAgICAgICBkaXNwbGF5OiAnQ2FwdGNoYScsXG4gICAgICAgICAgcnVsZXM6ICdyZXF1aXJlZCdcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLnB1c2goY2FwdGNoYU9iaik7XG4gICAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSAmJiAhdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCkpIHtcbiAgICAgICAgbGV0IHNpdGVrZXkgPSBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYVNpdGVLZXkgfHwgJzZMZUFpd0lUQUFBQUFEbHFiMDZKSUdlcEJzOFpSbzNPWjdDMFc3VTMnO1xuICAgICAgICBsZXQgc3R5bGUgPSAnJztcbiAgICAgICAgaWYgKGFkZCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgICAgc3R5bGUgPSAnZGlzcGxheTpub25lJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW52aXNpYmxlQ2FwdGNoYU9iaiA9IHtcbiAgICAgICAgICB0eXBlOiAnY2FwdGNoYScsXG4gICAgICAgICAgbmFtZTogJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJyxcbiAgICAgICAgICBodG1sOiAnPGRpdiBpZD1cIicgKyByZWNhcHRjaGFpZCArICdcIiBzdHlsZT1cIicgKyBzdHlsZSArICdcIiBjbGFzcz1cImctcmVjYXB0Y2hhXCIgZGF0YS1zaXRla2V5PVwiJyArIHNpdGVrZXkgKyAnXCIgZGF0YS1zaXplPVwiaW52aXNpYmxlXCIgZGF0YS1jYWxsYmFjaz1cIm9uQ2FwdGNoYVN1Ym1pdFwiPjwvZGl2PicsXG4gICAgICAgICAgZGlzcGxheTogJ0NhcHRjaGEnLFxuICAgICAgICAgIHJ1bGVzOiAnJ1xuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEucHVzaChpbnZpc2libGVDYXB0Y2hhT2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkKSAmJiAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrKSkge1xuICAgICAgd2luZG93Lm9uVGVuY2VudENhcHRjaGFTdWJtaXQgPSBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgaWYgKHJlcy5yZXQgPT0gMCkge1xuICAgICAgICAgIGlmIChjYWxsYWJjaykge1xuICAgICAgICAgICAgY2FsbGFiY2socmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93Lm9uVGVuY2VudENhcHRjaGFTdWJtaXRDYWxsYmFjayhyZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHRlbmNlbnRTdHlsZSA9IGFkZCA/ICdzdHlsZT1kaXNwbGF5Om5vbmU7ICcgOiAnJztcbiAgICAgIHZhciB0ZW5jZW50Q2FwdGNoYU9iaiA9IHtcbiAgICAgICAgdHlwZTogJ2NhcHRjaGEnLFxuICAgICAgICBuYW1lOiAnVGVuY2VudENhcHRjaGEnLFxuICAgICAgICBodG1sOiAnPGRpdiAnICsgdGVuY2VudFN0eWxlICsgJyBpZD0gXCInICsgcmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnRcIiAgY2xhc3M9XCJUZW5jZW50Q2FwdGNoYVwiICBkYXRhLWFwcGlkPVwiJyArIG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXBwaWQgKyAnXCIgZGF0YS1jYmZuPVwib25UZW5jZW50Q2FwdGNoYVN1Ym1pdFwiPjwvZGl2PicsXG4gICAgICAgIGRpc3BsYXk6ICdDYXB0Y2hhJyxcbiAgICAgICAgcnVsZXM6ICcnXG4gICAgICB9O1xuICAgICAgc2NoZW1hLnB1c2godGVuY2VudENhcHRjaGFPYmopO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAqIEBmdW5jdGlvbiBjaGVja1Bob25lT3JFbWFpbExvZ2luXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgbG9naW4gY3JlZGVudGlhbHMgb2JqZWN0XG4gICogQHJldHVybiB7T2JqZWN0fSBkYXRhIGxvZ2luIGNyZWRlbnRpYWxzIG9iamVjdFxuICAqIEBkZXNjcmlwdGlvbiBDaGVjayBwaG9uZSBvciBlbWFpbCBsb2dpbi5cbiAgKi9cbiAgdXRpbGl0eU1vZHVsZS5jaGVja1Bob25lT3JFbWFpbExvZ2luID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZm9ybURhdGEgPSB1dGlsaXRpZXMucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICBpZiAoZm9ybURhdGEuZW1haWxpZCB8fCBmb3JtRGF0YS5lbWFpbCkge1xuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lICYmICFmb3JtRGF0YS51c2VybmFtZSkge1xuICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdlbWFpbGlkJywgJ3VzZXJuYW1lJykucmVwbGFjZSgnZW1haWwnLCAndXNlcm5hbWUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzdHIgPSBmb3JtRGF0YS5lbWFpbGlkIHx8IGZvcm1EYXRhLmVtYWlsO1xuICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5yZWdleEV4cHJlc3Npb24uZW1haWxSZWdleC50ZXN0KHN0cikpIHtcbiAgICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdlbWFpbGlkJywgJ2VtYWlsJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBMb2dpblJhZGl1c0RlZmF1bHRzLnJlZ2V4RXhwcmVzc2lvbi5waG9uZVJlZ2V4LnRlc3Qoc3RyKSkge1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ2VtYWlsaWQnLCAncGhvbmUnKS5yZXBsYWNlKCdlbWFpbCcsICdwaG9uZScpO1xuICAgICAgICAgIGRhdGEgKz0gJyZwaG9uZUFwaT0xJztcbiAgICAgICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy51c2VybmFtZUxvZ2luKSB7XG4gICAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnZW1haWxpZCcsICd1c2VybmFtZScpLnJlcGxhY2UoJ2VtYWlsJywgJ3VzZXJuYW1lJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xuICAgKiBAZnVuY3Rpb24gZGlzYWJsZVJlc2VuZE9UUEJ1dHRvblxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgSnMgZXZlbnQgb2JqZWN0XG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZGlzYWJsZSByZXNlbmQgb3RwIGJ1dHRvbiBmb3IgZ2l2ZW4gdGltZSBkdXJhdGlvblxuICAgKi9cbiAgdXRpbGl0eU1vZHVsZS5kaXNhYmxlUmVzZW5kT1RQQnV0dG9uID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGRlbGF5ID0gbW9kdWxlLm9wdGlvbnMuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbkRlbGF5O1xuICAgIHZhciBidG4gPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKGJ0bikge1xuICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgYnRuLmRpc2FibGVkID0gZmFsc2U7IH0sIGRlbGF5ICogMTAwMCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgICogQGZ1bmN0aW9uIGdldFBhc3NLZXlDcmVkZW50aWFsc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDcmVkZW50YWlhbHMgb3B0aW9ucyB1c2VkIGluIHBhc3NrZXlzIEFQSVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQXV0b2ZpbGwgdG8gU3VwcG9ydCBhdXRvZmlsbCBmbG93XG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZGlzYWJsZSByZXNlbmQgb3RwIGJ1dHRvbiBmb3IgZ2l2ZW4gdGltZSBkdXJhdGlvblxuICAgKi9cbiAgdXRpbGl0eU1vZHVsZS5nZXRQYXNzS2V5Q3JlZGVudGlhbHMgPSBmdW5jdGlvbiAob3B0aW9ucywgaXNBdXRvZmlsbCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBvcHRpb25zLnB1YmxpY0tleS5jaGFsbGVuZ2UgPSBtb2R1bGUudXRpbC5iYXNlNjRVcmxEZWNvZGUob3B0aW9ucy5wdWJsaWNLZXkuY2hhbGxlbmdlKTtcbiAgICAgIG9wdGlvbnMucHVibGljS2V5LmFsbG93Q3JlZGVudGlhbHMgPSBvcHRpb25zLnB1YmxpY0tleS5hbGxvd0NyZWRlbnRpYWxzIHx8IFtdO1xuICAgICAgb3B0aW9ucy5wdWJsaWNLZXkuYWxsb3dDcmVkZW50aWFscy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICBsaXN0SXRlbS5pZCA9IG1vZHVsZS51dGlsLmJhc2U2NFVybERlY29kZShsaXN0SXRlbS5pZCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG9wdCA9IHtcbiAgICAgICAgcHVibGljS2V5OiBvcHRpb25zLnB1YmxpY0tleSxcbiAgICAgICAgbWVkaWF0aW9uOiBpc0F1dG9maWxsID8gJ2NvbmRpdGlvbmFsJyA6ICdvcHRpb25hbCdcbiAgICAgIH07XG4gICAgICBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuZ2V0KG9wdCkudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgICogQGZ1bmN0aW9uIGNyZWF0ZVBhc3NLZXlDcmVkZW50aWFsc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDcmVkZW50YWlhbHMgb3B0aW9ucyB1c2VkIGluIHBhc3NrZXlzIEFQSVxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGRpc2FibGUgcmVzZW5kIG90cCBidXR0b24gZm9yIGdpdmVuIHRpbWUgZHVyYXRpb25cbiAgICovXG4gIHV0aWxpdHlNb2R1bGUuY3JlYXRlUGFzc0tleUNyZWRlbnRpYWxzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgb3B0aW9ucy5wdWJsaWNLZXkuY2hhbGxlbmdlID0gbW9kdWxlLnV0aWwuYmFzZTY0VXJsRGVjb2RlKG9wdGlvbnMucHVibGljS2V5LmNoYWxsZW5nZSk7XG4gICAgICBvcHRpb25zLnB1YmxpY0tleS51c2VyLmlkID0gbW9kdWxlLnV0aWwuYmFzZTY0VXJsRGVjb2RlKG9wdGlvbnMucHVibGljS2V5LnVzZXIuaWQpO1xuICAgICAgaWYgKG9wdGlvbnMucHVibGljS2V5LmV4Y2x1ZGVDcmVkZW50aWFscykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMucHVibGljS2V5LmV4Y2x1ZGVDcmVkZW50aWFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG9wdGlvbnMucHVibGljS2V5LmV4Y2x1ZGVDcmVkZW50aWFsc1tpXS5pZCA9IG1vZHVsZS51dGlsLmJhc2U2NFVybERlY29kZShvcHRpb25zLnB1YmxpY0tleS5leGNsdWRlQ3JlZGVudGlhbHNbaV0uaWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuY3JlYXRlKHtcbiAgICAgICAgcHVibGljS2V5OiBvcHRpb25zLnB1YmxpY0tleVxuICAgICAgfSkudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcbiAgICogQGZ1bmN0aW9uIGNyZWF0ZVBhc3NLZXlDcmVkZW50aWFsc1xuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGlmIGF1dG8gZmlsbCBpcyBhdmFpbGFibGUgaW4gYnJvd3NlclxuICAgKi9cbiAgdXRpbGl0eU1vZHVsZS5pc1Bhc3NrZXlBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh3aW5kb3cuUHVibGljS2V5Q3JlZGVudGlhbCAmJlxuICAgICAgICB3aW5kb3cuUHVibGljS2V5Q3JlZGVudGlhbC5pc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlKSB7XG4gICAgICAgIC8vIElzIGNvbmRpdGlvbmFsIFVJIGF2YWlsYWJsZSBpbiB0aGlzIGJyb3dzZXI/XG4gICAgICAgIHdpbmRvdy5QdWJsaWNLZXlDcmVkZW50aWFsLmlzQ29uZGl0aW9uYWxNZWRpYXRpb25BdmFpbGFibGUoKS50aGVuKChjbWEpID0+IHtcbiAgICAgICAgICBpZiAoY21hKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7IHJlamVjdChlKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayBvZnRlbiB0ZXJtZWQgYXMgSlMgZm9ybSBsaWJyYXJ5LCBpcyBhbiBleHBvc2VkIEFQSSBmcmFtZXdvcmsgdG8gdXNlIGFsbCBBUEkgZm9yIENJQU0gZnVuY3Rpb25hbGl0eSAgd2hpbGUgdXNpbmcgb3duIGZvcm1zL2ludGVyZmFjZXNcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IG1vZHVsZSBJbnN0YW5jZSBvZiBMb2dpblJhZGl1cyBPYmplY3QgaW5zdGFuaWF0ZWQgd2l0aCB1c2VyIGdpdmVuIGNvbW1vbiBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gY29udHJvbGxlcnMgSW5zdGFuY2Ugb2YgY29udHJvbGxlcnMgY29uc3RydWN0b3IgdG8gdXNlIHRoZSBjb250cm9sbGVyIGZ1bmN0aW9uc1xuICovXG5mdW5jdGlvbiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayAobW9kdWxlLCBjb250cm9sbGVycykge1xuICB2YXIgYXBpRnJhbWVXb3JrTW9kdWxlID0gdGhpcztcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGluaXRcbiAgKiBAZGVzY3JpcHRpb24gSW50aWFsaXplIHRoZSBBUEkgZnJhbWV3b3JrXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIG1vZHVsZS5sckFwaUZyYW1ld29yayA9IHRydWU7XG4gICAgLy8gbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oZnVuY3Rpb24oKXt9KTtcbiAgICAvLyBtb2R1bGUub3B0aW9ucyA9IG1vZHVsZS51dGlsLm1lcmdlT3B0aW9ucyhsckRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSB8fCB7fTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGxvZ2luXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGlucHV0IHBheWxvYWQgdG8gbG9naW4gIChlLmcuIHsgZW1haWxpZDogXCJleGFtcGxlQGV4YW1wbGUuY29tXCIsIHBhc3N3b3JkOiBcIjEyM3h4eDc4OVwiIH0pIEZvciBtb3JlIGV4YW1wbGUgW2NsaWNrIGhlcmVde0BsaW5rIGh0dHBzOi8vd3d3LmxvZ2lucmFkaXVzLmNvbS9kb2NzL2FwaS92Mi9jdXN0b21lci1pZGVudGl0eS1hcGkvYXV0aGVudGljYXRpb24vYXV0aC1sb2dpbi1ieS1lbWFpbC99XG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyAgdGhpcyBjYWxsYmFjayB3aWxsIGNhbGwgcmVzcG9uc2Ugd2lsbCBiZSB7IGFjY2Vzc190b2tlbiA6XCI8dG9rZW4+XCIsIGV4cGlyZXNfaW4gOlwiPGRhdGUgYW5kIHRpbWU+XCIsIHlvdSBjYW4gdXNlIHRva2VuIHJlc3BvbnNlLmFjY2Vzc190b2tlbiBhbmQgZ2V0IHVzZXIgcHJvZmlsZSB1c2luZyB5b3VyIExvZ2luUmFkaXVzIFNESy5cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBvbiBmYWlsdXJlIHRoaXMgZnVuY3Rpb24gd2lsbCBjYWxsIM6Tw4fDv2Vycm9yc86Tw4fDliB3aGljaCBpcyBhbiBhcnJheSBvZiBlcnJvcnMgd2l0aCBtZXNzYWdlLiAgZXZlcnkga2luZCBvZiBlcnJvciB3aWxsIGJlIHJldHVybmVkIGluIHRoaXMgbWV0aG9kLCB5b3UgY2FuIHJ1biBhIGxvb3Agb24gdGhpcyBhcnJheSB0byBpZGVudGlmeSB0aGUgZGVzY3JpcHRpb24gYW5kIG90aGVyIGFzcGVjdCBvZiBlcnJvci5cbiAgKiBAZGVzY3JpcHRpb24gTG9naW4gc2VydmljZSBtb2R1bGVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmxvZ2luID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmxvZ2luQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBvdHBMb2dpblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSBwaG9uZSBudW1iZXIgb2YgY3VzdG9tZXIgeyBwaG9uZTogzpPDh8KjeHh4eHh4eHh4eHh4eHh4XCJ9XG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIE9uZSBUaW1lIFBhc3Njb2RlIGlzIHN1Y2Nlc3NmdWxseSBzZW50XG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb24gaWYgc2VuZGluZyB0aGUgcGFzc2NvZGUgZmFpbHMuXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgYSBPbmUgVGltZSBQYXNzd29yZCAoT1RQKSwgb24gY3VzdG9tZXIncyBwaG9uZSBudW1iZXIuXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5vdHBMb2dpbiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5sb2dpbk9UUENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG51bGwsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiB0d29GQUxvZ2luXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YW5kYXJkIGZpZWxkcyBmb3IgbG9naW4gbGlrZSB1c2VybmFtZSwgcGFzc3dvcmQgb3IgZW1haWwgYW5kIHBhc3N3b3JkLlxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHVwZGF0ZVBob25lTnVtYmVyIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHZlcmlmeU9UUCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNlbmRPVFAgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gaW5pdGlhdGUgYSB0cmFkaXRpb25hbCBsb2dpbiBpZiB5b3UgaGF2ZSBNRkEgKE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvbikgZW5hYmxlZCBpbiB5b3VyIExvZ2luUmFkaXVzIEFkbWluIENvbnNvbGUuXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS50d29GQUxvZ2luID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgdXBkYXRlUGhvbmVOdW1iZXIsIHZlcmlmeU9UUCwgcmVzZW5kT1RQLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuICAgIHVwZGF0ZVBob25lTnVtYmVyID0gdXBkYXRlUGhvbmVOdW1iZXIgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHBhc3N3b3JkRXhwaXJ5ID0gcGFzc3dvcmRFeHBpcnkgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHJlcXVpcmVkRmllbGQgPSByZXF1aXJlZEZpZWxkIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICB2ZXJpZnlPVFAgPSB2ZXJpZnlPVFAgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHJlc2VuZE9UUCA9IHJlc2VuZE9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMubG9naW4yRkFDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBudWxsLCBvblN1Y2Nlc3MsIG9uRXJyb3IsICcnLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdXBkYXRlUGhvbmVOdW1iZXIsIHZlcmlmeU9UUCwgcmVzZW5kT1RQKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHJlZ2lzdHJhdGlvblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBEYXRhIGlzIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIHVzZXIgcHJvZmlsZSB0aGF0IHlvdSBhcmUgY3JlYXRpbmcuXG4gICogQHBhcmFtICB7T2JqZWN0fSByZWdTY2hlbWEgIFRoZSBzY2hlbWEgZm9yIHRoZSBmaWVsZHMgYmVpbmcgcHJvdmlkZWQuXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gdmVyaWZ5T1RQIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHJlc2VuZE9UUCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBSZWdpc3RyYXRpb24gc2VydmljZSBtb2R1bGVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uIChyZWdTY2hlbWEsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgdmVyaWZ5T1RQLCByZXNlbmRPVFApIHtcbiAgICB2ZXJpZnlPVFAgPSB2ZXJpZnlPVFAgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHJlc2VuZE9UUCA9IHJlc2VuZE9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMucmVnaXN0cmF0aW9uQ29udHJvbGxlcihkYXRhLCBudWxsLCBvblN1Y2Nlc3MsIG9uRXJyb3IsICcnLCByZWdTY2hlbWEsIHZlcmlmeU9UUCwgcmVzZW5kT1RQKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBhc3N3b3JkXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGVtYWlsIG9mIHRoZSBjdXN0b21lciBlLmcuIHtlbWFpbDogXCJ4eHhAeHh4LmNvbVwifVxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzZW5kIGEgZm9yZ290IHBhc3N3b3JkIGVtYWlsIHRvIGEgY3VzdG9tZXIsIHRoZSBlbWFpbCB3aWxsIGNvbnRhaW4gdGhlIHZlcmlmaWNhdGlvbiB0b2tlbiB0byB0aGVuIGJlIGNvbnN1bWVkIHRoZSByZXNldFBhc3N3b3JkIGZ1bmN0aW9uLlxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuZm9yZ290UGFzc3dvcmQgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMuZm9yZ290UGFzc3dvcmRDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCAnJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBJTlxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSBlbWFpbCBvZiB0aGUgY3VzdG9tZXIgZS5nLiB7ZW1haWw6IFwieHh4QHh4eC5jb21cIn1cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc2VuZCBhIGZvcmdvdCBwaW4gZW1haWwgdG8gYSBjdXN0b21lciwgdGhlIGVtYWlsIHdpbGwgY29udGFpbiB0aGUgdmVyaWZpY2F0aW9uIHRva2VuIHRvIHRoZW4gYmUgY29uc3VtZWQgdGhlIHJlc2V0UElOIGZ1bmN0aW9uLlxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuZm9yZ290UElOID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmZvcmdvdFBJTkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZFxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWlucyByZXNldHRva2VuLCBwYXNzd29yZCBhbmQgY29uZmlybXBhc3N3b3JkXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byByZXNldCBhIHBhc3N3b3JkXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UGFzc3dvcmRDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gZHVvVmVyaWZ5XG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5zIHN0YXRlIGFuZCBjb2RlXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byB2ZXJpZnkgZHVvIHN0YXRlIGFuZCBjb2RlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5kdW9WZXJpZnkgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMuZHVvVmVyaWZ5Q29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGR1b1ZlcmlmeUJ5QWNjZXNzVG9rZW5cbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbnMgc3RhdGUgYW5kIGNvZGVcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBVc2VkIHRvIHZlcmlmeSBkdW8gc3RhdGUgYW5kIGNvZGUgYnkgYWNjZXNzX3Rva2VuXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5kdW9WZXJpZnlCeUFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmR1b1ZlcmlmeUJ5QWNjZXNzVG9rZW5Db250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQSU5cbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbnMgcmVzZXR0b2tlbiwgcGFzc3dvcmQgYW5kIGNvbmZpcm1wYXNzd29yZFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFVzZWQgdG8gcmVzZXQgUElOXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNldFBJTiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5yZXNldFBJTkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBlbWFpbFZlcmlmaWNhdGlvblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSB2ZXJpZmljYXRpb250b2tlbiBhcyBpbnB1dCwgb3B0aW9uYWxseSBpdCBjYW4gaGF2ZSB1cmwgb3Igd2VsY29tZWVtYWlsdGVtcGxhdGVcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBBbiBhcGkgZXhwb3NlZCB0byB2ZXJpZnkgdGhlIGVtYWlsXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5lbWFpbFZlcmlmaWNhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5lbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIoZGF0YS52dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBzb2NpYWxMb2dpblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRva2VuIHdoaWNoIGhhcyB0aGUgYWNjZXNzX3Rva2VuIGZvciB0aGUgdmFsdWUueyB0b2tlbjogXCJ4eHh4eHh4eC14eHgtNDMzNy14eHh4LWQ2MjQ3MDNmZmU1NVwiIH1cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBhIHN1Y2Nlc3NmdWwgc29jaWFsIGxvZ2luXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25NaXNzaW5nRmllbGQgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiB0aGUgYXV0b21hdGVkIHByb2Nlc3Mgb2YgZ2V0dGluZyB0aGUgc29jaWFsIHByb2ZpbGUgZGF0YSB3YXMgbm90IGFibGUgdG8gZmlsbCBvdXQgYWxsIG9mIHRoZSByZXF1aXJlZCBmaWVsZHMuXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHJlZ1NjaGVtYSByZWdpc3RyYXRpb24gc2NoZW1hIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjb250YWluZXIgaHRtbCBlbGVtZW50IGNvbnRhaW5lclxuICAqIEBkZXNjcmlwdGlvbiBJbXBsZW1lbnRzIFNvY2lhbCBsb2dpbiA6XG4gICogVG8gaW1wbGVtZW50IFNvY2lhbCBMb2dpbiwgY2FsbCB0aGUgTFJPYmplY3QuYXBpLnNvY2lhbExvZ2luIGZ1bmN0aW9uIGFsb25nIHdpdGggdGhlIHRva2VuLCBpbiB0aGlzIGNhc2UgdGhlIHRva2VuIGNvbWVzXG4gICogZnJvbSB0aGUgY2FsbGJhY2sgcmVzcG9uc2UgYWZ0ZXIgdGhlIHNvY2lhbCBsb2dpbiBwcm9jZXNzLiBUaGlzIHdpbGwgYWxzbyBwcm9tcHQgYSAnbWlzc2luZyByZXF1aXJlZCBmaWVsZCcgZmlsbGluZ1xuICAqIGludGVyZmFjZSBpZiBzb21lIGZpZWxkcyBhcmUgbm90IGZpbGxlZCBhdXRvbWF0aWNhbGx5IGZyb20gdGhlIGRhdGEgb2J0YWluZWQgdmlhIHRoZSBzb2NpYWwgcHJvdmlkZXIuIEJ5IGZpbGxpbmcgaW4gdGhlXG4gICogZm9ybSwgdGhlIGN1c3RvbWVyJ3MgYWNjb3VudCB3aWxsIGJlIGdlbmVyYXRlZC5cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnNvY2lhbExvZ2luID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgb25NaXNzaW5nRmllbGQsIHJlZ1NjaGVtYSwgY29udGFpbmVyKSB7XG4gICAgdmFyIHNvY2lhbExvZ2luQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIShtb2R1bGUuTG9naW5SYWRpdXNIb3N0ZWRQYWdlICYmIG1vZHVsZS5TU09pbml0RmlyZWQpKSB7XG4gICAgICAgIG9uTWlzc2luZ0ZpZWxkID0gb25NaXNzaW5nRmllbGQgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgICByZWdTY2hlbWEgPSByZWdTY2hlbWEgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgICBjb250cm9sbGVycy5zb2NpYWxMb2dpblJlY2VpdmVUb2tlbihkYXRhLnRva2VuLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgbnVsbCwgb25NaXNzaW5nRmllbGQsIHJlZ1NjaGVtYSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihzb2NpYWxMb2dpbkNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGUuZy4ge2VtYWlsOiBcInh4eEB4eHguY29tXCJ9XG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gUmVzZW5kIGVtYWlsIHZlcmlmaWNhdGlvbiBvbiBjdXN0b21lcidzIG1haWwgSURcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHR3b0ZBUmVzZW5kT1RQXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBjdXN0b21lcidzIHBob25lIG51bWJlciB1bmRlciB0aGUgcGhvbmVObzJGQSBwYXJhbWV0ZXIuIGUuZy4geyBwaG9uZU5vMkZBOiBcInh4eHh4eHh4eHhcIiB9XG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBBUEkgaXMgdXNlZCB0byByZXNlbmQgdGhlIE9uZSBUaW1lIFBhc3Njb2RlIChPVFApIGJ5IHBob25lIGlmIG5lZWRlZCBkdXJpbmcgYSBNdWx0aS1GYWN0b3IgQXV0aGVudGljYXRpb24gcHJvY2Vzcy5cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnR3b0ZBUmVzZW5kT1RQID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2VuZE9UUDJGQUNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiB0d29GQVZlcmlmeU9UUFxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCB3aGljaCBoYXZlIG90cCByZWNlaXZlZCBvbiBjdXN0b21lciBwaG9uZSBudW1iZXIgZS5nLiB7IG90cDogXCJ4eHh4XCIgfVxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgQVBJIGlzIHVzZWQgdG8gbG9naW4gdmlhIE11bHRpLWZhY3RvciBhdXRoZW50aWNhdGlvbiBieSBwYXNzaW5nIHRoZSBPbmUgVGltZSBQYXNzd29yZCByZWNlaXZlZCB2aWEgU01TLlxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUudHdvRkFWZXJpZnlPVFAgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMudmVyaWZ5MkZBT1RQQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHR3b0ZBVXBkYXRlUGhvbmVcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHZlcmlmeU9UUCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNlbmRPVFAgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVHdvIHdheSBhdXRoZW50aWNhdGlvbiB1cGRhdGUgcGhvbmUgbnVtYmVyIHNlcnZpY2UgbW9kdWxlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS50d29GQVVwZGF0ZVBob25lID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIHZlcmlmeU9UUCwgcmVzZW5kT1RQKSB7XG4gICAgcGFzc3dvcmRFeHBpcnkgPSBwYXNzd29yZEV4cGlyeSB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgcmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGQgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHZlcmlmeU9UUCA9IHZlcmlmeU9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgcmVzZW5kT1RQID0gcmVzZW5kT1RQIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy51cGRhdGUyRkFQaG9uZU51bWJlckNvbnRyb2xsZXIoZGF0YSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yLCBudWxsLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdmVyaWZ5T1RQLCByZXNlbmRPVFApO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gdXBkYXRlUGhvbmVcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSB2ZXJpZnlPVFAgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcmVzZW5kT1RQIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVXBkYXRlIHBob25lIG51bWJlciBzZXJ2aWNlIG1vZHVsZVxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUudXBkYXRlUGhvbmUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCB2ZXJpZnlPVFAsIHJlc2VuZE9UUCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcbiAgICBwYXNzd29yZEV4cGlyeSA9IHBhc3N3b3JkRXhwaXJ5IHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICByZXF1aXJlZEZpZWxkID0gcmVxdWlyZWRGaWVsZCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgdmVyaWZ5T1RQID0gdmVyaWZ5T1RQIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICByZXNlbmRPVFAgPSByZXNlbmRPVFAgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVBob25lTnVtYmVyQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yLCBudWxsLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdmVyaWZ5T1RQLCByZXNlbmRPVFApO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gdmVyaWZ5T1RQXG4gICogQHBhcmFtICB7U3RyaW5nfSBvdHAgb3RwIG51bWJlclxuICAqIEBwYXJhbSAge1N0cmluZ30gcGhvbmVUb1ZlcmlmeSBzdHJpbmcgdmFsdWVcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBWZXJpZnkgT1RQIHNlcnZpY2UgbW9kdWxlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS52ZXJpZnlPVFAgPSBmdW5jdGlvbiAob3RwLCBwaG9uZVRvVmVyaWZ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy52ZXJpZnlPVFBDb250cm9sbGVyKG90cCwgcGhvbmVUb1ZlcmlmeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHJlc2VuZE9UUFxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFJlc2VuZCBPVFAgc2VydmljZSBtb2R1bGVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2VuZE9UUCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5yZXNlbmRPVFBDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gYWRkRW1haWxcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBBZGQgbmV3IGVtYWlsIHNlcnZpY2UgbW9kdWxlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5hZGRFbWFpbCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5hZGRFbWFpbENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiByZW1vdmVFbWFpbFxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFJlbW92ZSBhY2NvdW50IGVtYWlsIHNlcnZpY2UgbW9kdWxlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZW1vdmVFbWFpbCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5yZW1vdmVFbWFpbENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBjaGFuZ2VVc2VybmFtZVxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIENoYW5nZSBhY2NvdW50IHVzZXJOYW1lIHNlcnZpY2UgbW9kdWxlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5jaGFuZ2VVc2VybmFtZSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5jaGFuZ2VVc2VybmFtZUNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZFxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIENoYW5nZSBhY2NvdW50IHBhc3N3b3JkXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5jaGFuZ2VQYXNzd29yZCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5jaGFuZ2VQYXNzd29yZENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBjaGFuZ2VQSU5cbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBDaGFuZ2UgYWNjb3VudCBwaW5cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmNoYW5nZVBJTiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5jaGFuZ2VQSU5Db250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eVxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIENoZWNrIHBob25lIG51bWJlciBhdmFpbGFiaWxpdHlcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMuY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eUNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiByZXNldFBhc3N3b3JkQnlQaG9uZVxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFJlc2V0IGFjY291bnQgcGFzc3dvcmQgYnkgcGhvbmVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2V0UGFzc3dvcmRCeVBob25lID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UGFzc3dvcmRCeVBob25lQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHJlc2V0UElOQnlQaG9uZVxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFJlc2V0IGFjY291bnQgUElOIGJ5IHBob25lXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNldFBJTkJ5UGhvbmUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMucmVzZXRQSU5CeVBob25lQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBhc3N3b3JkYnlQaG9uZVxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIEZvcmdvdCBhY2NvdW50IHBhc3N3b3JkIGJ5IHBob25lXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5mb3Jnb3RQYXNzd29yZGJ5UGhvbmUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMuZm9yZ290UGFzc3dvcmRieVBob25lQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBJTmJ5UGhvbmVcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBGb3Jnb3QgYWNjb3VudCBQSU4gYnkgcGhvbmVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmZvcmdvdFBJTmJ5UGhvbmUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMuZm9yZ290UElOYnlQaG9uZUNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG51bGwsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiB1cGRhdGVEYXRhXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0XG4gICogQHBhcmFtICB7T2JqZWN0fSBzY2hlbWEgb2JqZWN0XG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhcGl0b2tlbiBpZFxuICAqIEBwYXJhbSAge0Jvb2xlYW59IGZsYWcgdHJ1ZS9mYWxzZSB2YWx1ZVxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFVwYWR0ZSB1c2VyIGRhdGFcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnVwZGF0ZURhdGEgPSBmdW5jdGlvbiAoc2NoZW1hLCBkYXRhLCB0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBmbGFnKSB7XG4gICAgdmFyIG9uVXBkYXRlU3VjY2VzcyA9IG9uU3VjY2VzcztcbiAgICB2YXIgb25VcGRhdGVFcnJvciA9IG9uRXJyb3I7XG4gICAgdmFyIHVzZXJQcm9maWxlID0ge307XG4gICAgaWYgKHR5cGVvZiBvblN1Y2Nlc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICB1c2VyUHJvZmlsZSA9IG9uU3VjY2VzcztcbiAgICAgIG9uVXBkYXRlU3VjY2VzcyA9IG9uRXJyb3I7XG4gICAgICBvblVwZGF0ZUVycm9yID0gZmxhZztcbiAgICB9XG5cbiAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcbiAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XG4gICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gdG9rZW47XG5cbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy51cGRhdGVEYXRhKHJlc3BvbnNlT2JqZWN0LCBudWxsLCBkYXRhLCBvblVwZGF0ZVN1Y2Nlc3MsIG9uVXBkYXRlRXJyb3IsICcnLCBzY2hlbWEpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gY2hlY2tFbWFpbEF2YWlsYWJpbGl0eVxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIENoZWNrIGVtYWlsIGF2YWlsYWJpbGl0eVxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuY2hlY2tFbWFpbEF2YWlsYWJpbGl0eSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5jaGVja0VtYWlsQXZhaWxhYmlsaXR5Q29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGNoZWNrVXNlck5hbWVBdmFpbGFiaWxpdHlcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBDaGVjayB1c2VyIG5hbWUgYXZhaWxhYmlsaXR5XG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5jaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5ID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmNoZWNrVXNlck5hbWVBdmFpbGFiaWxpdHlDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSB2YWx1ZSBvZiBlaXRoZXIgZW1haWwvdXNlcm5hbWUvcGhvbmUgZm9yIHRoZSBhY2NvdW50LCBhbG9uZyB3aXRoIHRoZSBkZXNpcmVkIHBhc3Nzd29yZCBhbmQgdGhlIHF1ZXN0aW9uIGFuZCBhbnN3ZXIuXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gUmVzZXQgcGFzc3dvcmQgYnkgc2VjdXJpdHkgcXVlc3Rpb25cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMucmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiByZXNldFBJTkJ5U2VjdXJpdHlRdWVzdGlvblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSB2YWx1ZSBvZiBlaXRoZXIgZW1haWwvdXNlcm5hbWUvcGhvbmUgZm9yIHRoZSBhY2NvdW50LCBhbG9uZyB3aXRoIHRoZSBkZXNpcmVkIHBpbiBhbmQgdGhlIHF1ZXN0aW9uIGFuZCBhbnN3ZXIuXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gUmVzZXQgUElOIGJ5IHNlY3VyaXR5IHF1ZXN0aW9uXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNldFBJTkJ5U2VjdXJpdHlRdWVzdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5yZXNldFBJTkJ5U2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiB1cGRhdGVTZWN1cml0eVF1ZXN0aW9uXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHF1ZXN0aW9ucyBhcyBrZXkgYW5kIHRoZSBjb3JyZWN0IGFuc3dlciBhcyB2YWx1ZS4gZS5nLiB7XG4gICAgXCI8JXF1ZXN0aW9uaWQlPlwiOiBcIjwlYW5zd2VyJT5cIixcbiAgICBcIjwlcXVlc3Rpb25pZCU+XCI6IFwiPCVhbnN3ZXIlPlwifSxcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gdXBkYXRlIHRoZSBBbnN3ZXIocykgdG8gdGhlIFNlY3VyaXR5IFF1ZXN0aW9uKHMpIG9uIGEgZ2l2ZW4gYWNjb3VudC5cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnVwZGF0ZVNlY3VyaXR5UXVlc3Rpb24gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMudXBkYXRlU2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiByZXNldFR3b0ZhY3RvclxuICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YSBhdXRoZW50aWNhdG9yVHlwZSBlLmcuIFwib3RwYXV0aGVudGljYXRvclwiIG9yIFwiYXV0aGVudGljYXRvclwiXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlc2V0IHRoZSBNRkEgY29uZmlndXJhdGlvbnMgb24gdGhlIGFjY291bnQuXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNldFR3b0ZhY3RvciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5yZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gaW52YWxpZGF0ZVRva2VuXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBJbnZhbGlkYXRlIHRva2Vuc1xuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuaW52YWxpZGF0ZVRva2VuID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5pbnZhbGlkYXRlVG9rZW4odG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHZhbGlkYXRlcyBhbiBhY2Nlc3NfdG9rZW4uXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS52YWxpZGF0ZVRva2VuID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy52YWxpZGF0ZVRva2VuKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gZ2V0U29jaWFsRGF0YVxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gYXBpdG9rZW4gaWRcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge1N0cmluZ30gZW5kcG9pbnQgZW5kcG9pbnQgb2YgcmVxdWVzdCB1cmxcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHBhcmFtUXVlcnlTdHJpbmcgcGFyYW0gb2YgcmVxdWVzdCB1cmwgcXVlcnlcbiAgKiBAZGVzY3JpcHRpb24gR2V0IHNvY2lhbCBkYXRhIHNlcnZpY2UgbW9kdWxlXG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5nZXRTb2NpYWxEYXRhID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGVuZHBvaW50LCBwYXJhbVF1ZXJ5U3RyaW5nKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMuZ2V0U29jaWFsRGF0YUNvbnRyb2xsZXIodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZW5kcG9pbnQsIHBhcmFtUXVlcnlTdHJpbmcpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gcG9zdFNvY2lhbERhdGFcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHRva2VuIGFwaXRva2VuIGlkXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtTdHJpbmd9IGVuZHBvaW50IGVuZHBvaW50IG9mIHJlcXVlc3QgdXJsXG4gICogQHBhcmFtICB7U3RyaW5nfSBwYXJhbVF1ZXJ5U3RyaW5nIHBhcmFtIG9mIHJlcXVlc3QgdXJsIHF1ZXJ5XG4gICogQHBhcmFtICB7T2JqZWN0fSBwb3N0Qm9keUpzb24gcmVxdWVzdCBib2R5IGpzb25cbiAgKiBAZGVzY3JpcHRpb24gUG9zdCBzb2NpYWwgZGF0YSBzZXJ2aWNlIG1vZHVsZVxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUucG9zdFNvY2lhbERhdGEgPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZW5kcG9pbnQsIHBhcmFtUXVlcnlTdHJpbmcsIHBvc3RCb2R5SnNvbikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnBvc3RTb2NpYWxEYXRhQ29udHJvbGxlcih0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBlbmRwb2ludCwgcGFyYW1RdWVyeVN0cmluZywgcG9zdEJvZHlKc29uKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGdldEN1c3RvbU9iamVjdHNcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHRva2VuIGFjY2Vzc190b2tlbiBvZiBjdXN0b21lclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgYWxsIG9mIHRoZSBjdXN0b20gb2JqZWN0cyBhc3NvY2lhdGVkIHRvIGEgY3VzdG9tZXIgYnkgdXNpbmcgdGhlIGFjY2Vzc190b2tlbi5cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmdldEN1c3RvbU9iamVjdHMgPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmdldEN1c3RvbU9iamVjdHNDb250cm9sbGVyKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gY3JlYXRlQ3VzdG9tT2JqZWN0XG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cbiAgKiBAcGFyYW0gIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gT2JqZWN0IGRhdGEgaW4gSlNPTiBmb3JtYXQgd2hpY2ggd2UgbGlrZSB0byBzdG9yZVxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIENyZWF0ZSBjdXN0b20gb2JqZWN0XG4gICovXG4gIGFwaUZyYW1lV29ya01vZHVsZS5jcmVhdGVDdXN0b21PYmplY3QgPSBmdW5jdGlvbiAodG9rZW4sIGN1c3RvbU9iamVjdEpTT04sIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmNyZWF0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXIodG9rZW4sIGN1c3RvbU9iamVjdEpTT04sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuICAqIEBmdW5jdGlvbiBnZXRDdXN0b21PYmplY3RCeUlkXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cbiAgKiBAcGFyYW0gIHtTdHJpbmd9IG9iamVjdHJlY29yZGlkIG9iamVjdCByZWNvcmQgaWRcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBHZXQgY3VzdG9tIG9iamVjdCBieSBJRFxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuZ2V0Q3VzdG9tT2JqZWN0QnlJZCA9IGZ1bmN0aW9uICh0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmdldEN1c3RvbU9iamVjdEJ5SWRDb250cm9sbGVyKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGRlbGV0ZUN1c3RvbU9iamVjdEJ5SWRcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHRva2VuIGFjY2Vzc190b2tlbiBvZiB1c2VyXG4gICogQHBhcmFtICB7U3RyaW5nfSBvYmplY3RyZWNvcmRpZCBvYmplY3QgcmVjb3JkIGlkXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gRGVsZXRlIGN1c3RvbSBvYmplY3QgYnkgIE9iamVjdCBSZWNvcmQgSURcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmRlbGV0ZUN1c3RvbU9iamVjdEJ5SWQgPSBmdW5jdGlvbiAodG9rZW4sIG9iamVjdHJlY29yZGlkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5kZWxldGVDdXN0b21PYmplY3RDb250cm9sbGVyKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbU9iamVjdEJ5SWRcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHRva2VuIGFjY2Vzc190b2tlbiBvZiB1c2VyXG4gICogQHBhcmFtICB7U3RyaW5nfSBvYmplY3RyZWNvcmRpZCBvYmplY3QgcmVjb3JkIGlkXG4gICogQHBhcmFtICB7T2JqZWN0fSBjdXN0b21PYmplY3RKU09OIGN1c3RvbSBqc29uIGRhdGEsIHNoaWNoIHlvdSB3YW50IHRvIHVwZGF0ZVxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtICB7U3RyaW5nfSB1cGRhdGVUeXBlICgncmVwbGFjZScgfCAgJ3BhcnRpYWxyZXBsYWNlJykgY2FuIHBhc3MgZWl0aGVyICdyZXBsYWNlJyAoaXQgd2lsbCBmdWxseSByZXBsYWNlIHRoZSBjdXN0b20gb2JqZWN0IHdpdGggbmV3IHByb3ZpZGVkIGpzb24pIG9yICdwYXJ0aWFscmVwbGFjZScgKGl0IHdpbGwgcGVyZm9ybSBhbiB1cHNlcnQgdHlwZSBvcGVyYXRpb24pLlxuICAqIEBkZXNjcmlwdGlvbiBVc2VkIHRvIHVwZGF0ZSB0aGUgY3VzdG9tIG9iamVjdHMgb2YgdXNlciBieSBwcm92aWRpbmcgdGhlIGFjY2Vzc190b2tlblxuICAqL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUudXBkYXRlQ3VzdG9tT2JqZWN0QnlJZCA9IGZ1bmN0aW9uICh0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIGN1c3RvbU9iamVjdEpTT04sIG9uU3VjY2Vzcywgb25FcnJvciwgdXBkYXRlVHlwZSkge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXIodG9rZW4sIG9iamVjdHJlY29yZGlkLCBjdXN0b21PYmplY3RKU09OLCB1cGRhdGVUeXBlLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gZ2V0QmFja3VwQ29kZVxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBHZXQgYmFja3VwIGNvZGUgc2VydmljZSBtb2R1bGVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmdldEJhY2t1cENvZGUgPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmdldEJhY2t1cENvZGVDb250cm9sbGVyKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiAgKiBAZnVuY3Rpb24gcmVzZXRCYWNrdXBDb2RlXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgQVBJIGNhbiBiZSBzdWVkIHRvIGltcGxtZW50IHRoZSByZXNldCBiYWNrIHVwIGNvZGUgZnVuY3Rpb25hbGl0eS5cbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2V0QmFja3VwQ29kZSA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMucmVzZXRCYWNrdXBDb2RlQ29udHJvbGxlcih0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4gICogQGZ1bmN0aW9uIGF1dG9Mb2dpblxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIEF1dG8gbG9naW4gc2VydmljZSBtb2R1bGVcbiAgKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmF1dG9Mb2dpbiA9IGFwaUZyYW1lV29ya01vZHVsZS5zbWFydExvZ2luID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnNtYXJ0TG9naW5Db250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4qIEBmdW5jdGlvbiB2ZXJpZnlDb25zZW50XG4qIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBoYXZpbmcgdHdvIHByb3BlcnRpZXMgZXZlbnQgYW5kIGlzQ3VzdG9tXG4qIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAZGVzY3JpcHRpb24gVXNlZCB0byBjaGVjayBpZiBjb25zZW50IGZvciBhIHBhcnRpY3VsYXIgZXZlbnQgaGFzIGJlZW4gc3VibWl0dGVkIG9yIG5vdFxuKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnZlcmlmeUNvbnNlbnQgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udHJvbGxlcnMudmVyaWZ5Q29uc2VudENvbnRyb2xsZXIoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuKiBAZnVuY3Rpb24gZmV0Y2hDb25zZW50TG9nc1xuKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiogQGRlc2NyaXB0aW9uIFVzZWQgdG8gZmV0Y2ggY29uc2VudCBsb2dzXG4qL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuZmV0Y2hDb25zZW50TG9ncyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5jb25zZW50TG9nc0NvbnRyb2xsZXIob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9O1xuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xuKiBAZnVuY3Rpb24gdXBkYXRlQ29uc2VudFxuKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEgcmVxdWVzdCBwYXlsb2FkIGhhdmluZyBhbGwgY29uc2VudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgYWNjZXB0ZWQgZmxhZ1xuKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiogQGRlc2NyaXB0aW9uIFRoaXMgQVBJIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdXBkYXRlIHRoZSBjb25zZW50c1xuKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnVwZGF0ZUNvbnNlbnRzID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZUNvbnNlbnRDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4qIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiogQGZ1bmN0aW9uIHN1Ym1pdENvbnNlbnRieUNvbnNlbnRUb2tlblxuKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEgcmVxdWVzdCBwYXlsb2FkIGhhdmluZyBhbGwgY29uc2VudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgYWNjZXB0ZWQgZmxhZ1xuKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiogQGRlc2NyaXB0aW9uIFRoaXMgQVBJIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdXBkYXRlIHRoZSBjb25zZW50c1xuKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnN1Ym1pdENvbnNlbnRieUNvbnNlbnRUb2tlbiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY29uc2VudFRva2VuID0gZGF0YS5jb25zZW50VG9rZW4gPyBkYXRhLmNvbnNlbnRUb2tlbiA6ICcnO1xuICAgIGlmIChjb25zZW50VG9rZW4pIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udHJvbGxlcnMuc3VibWl0Q29uc2VudENvbnRyb2xsZXIoY29uc2VudFRva2VuLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfTtcbiAgICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcih7XG4gICAgICAgICdyZXNwb25zZSc6ICdjb25zZW50VG9rZW4gaXMgcmVxdWlyZWQgcGFyYW1ldGVyJ1xuICAgICAgfSk7XG4gICAgICBtb2R1bGUubG9nKCdjb25zZW50VG9rZW4gaXMgcmVxdWlyZWQgcGFyYW1ldGVyJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4qIEBmdW5jdGlvbiBzdWJtaXRDb25zZW50YnlBY2Nlc1Rva2VuXG4qIEBwYXJhbSAge09iamVjdH0gZGF0YSByZXF1ZXN0IHBheWxvYWQgaGF2aW5nIGFsbCBjb25zZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBhY2NlcHRlZCBmbGFnXG4qIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAZGVzY3JpcHRpb24gVGhpcyBBUEkgZnVuY3Rpb24gaXMgdXNlZCB0byB1cGRhdGUgdGhlIGNvbnNlbnRzXG4qL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUuc3VibWl0Q29uc2VudGJ5QWNjZXNUb2tlbiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9sbGVycy5jdXN0b21FdmVudENvbnNlbnRDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4qIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcbiogQGZ1bmN0aW9uIG9uZVRvdWNoTG9naW5cbiogQHBhcmFtICB7T2JqZWN0fSBkYXRhIHJlcXVlc3QgcGF5bG9hZCBoYXZpbmcgYWxsIGNvbnNlbnRzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGFjY2VwdGVkIGZsYWdcbiogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4qIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4qIEBkZXNjcmlwdGlvbiBUaGlzIEFQSSBmdW5jdGlvbiBpcyB1c2VkIHRvIGxvZ2luIHVzaW5nIG9uZXRvdWNoIGFwaVxuKi9cbiAgYXBpRnJhbWVXb3JrTW9kdWxlLm9uZVRvdWNoTG9naW4gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCB2ZXJpZnlPVFAsIHJlc2VuZE9UUCkge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZlcmlmeU9UUCA9IHZlcmlmeU9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgICByZXNlbmRPVFAgPSByZXNlbmRPVFAgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgY29udHJvbGxlcnMub25lVG91Y2hMb2dpbkNvbnRyb2xsZXIoZGF0YSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgdHJ1ZSwgdmVyaWZ5T1RQLCByZXNlbmRPVFApO1xuICAgIH07XG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXG4qIEBmdW5jdGlvbiBvbmVUb3VjaExvZ2luVmVyaWZ5XG4qIEBwYXJhbSAge09iamVjdH0gZGF0YSByZXF1ZXN0IHBheWxvYWQgaGF2aW5nIGFsbCBjb25zZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBhY2NlcHRlZCBmbGFnXG4qIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAZGVzY3JpcHRpb24gVGhpcyBBUEkgZnVuY3Rpb24gaXMgdXNlZCB0byB2ZXJpZnkgb25lIHRvdWNoIGxvZ25pIHRva2VuXG4qL1xuICBhcGlGcmFtZVdvcmtNb2R1bGUub25lVG91Y2hMb2dpblZlcmlmeSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZGF0YS52ZXJpZmljYXRpb250b2tlbiAmJiBkYXRhLmVtYWlsKSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLm9uZVRvdWNoTG9naW5FbWFpbFZlcmlmaWNhdGlvbihkYXRhLnZlcmlmaWNhdGlvbnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGRhdGEuZW1haWwpO1xuICAgICAgfSBlbHNlIGlmIChkYXRhLnZlcmlmaWNhdGlvbnRva2VuKSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLm9uZVRvdWNoTG9naW5FbWFpbFZlcmlmaWNhdGlvbihkYXRhLnZlcmlmaWNhdGlvbnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChkYXRhLm90cCAmJiBkYXRhLnBob25lKSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeU9UUENvbnRyb2xsZXIoeyBvdHA6IGRhdGEub3RwLCBvbmV0b3VjaGxvZ2luZmxhZzogdHJ1ZSB9LCB7IHBob25lOiBkYXRhLnBob25lIH0sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gIH07XG59XG5cbi8qKlxuKiBAZnVuY3Rpb24gc2V0TG9naW5SYWRpdXNEZWZhdWx0U2NoZW1hXG4qIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgbHIgbW9kdWxlIG9iamVjdFxuKiBAZGVzY3JpcHRpb24gU2V0IGRlZmF1bHQgYW5kIGNvbnN0YW50IHZhbHVlcyBvZiBMb2dpblJhZGl1cyBqcyBmb3JtIFNjaGVtYSBmaWVsZHMgcHJvcGVydGllcy5cbiovXG5mdW5jdGlvbiBzZXRMb2dpblJhZGl1c0RlZmF1bHRTY2hlbWEgKG1vZHVsZSkge1xuICBtb2R1bGUub3JnYW5pemF0aW9uRm9ybVNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ29yZ2FuaXphdGlvbm5hbWUnLFxuICAgIGRpc3BsYXk6ICdPcmdhbml6YXRpb24gTmFtZScsXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH1dO1xuICBtb2R1bGUubG9va3VwRm9ybVNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ2VtYWlsaWQnLFxuICAgIGRpc3BsYXk6ICdFbWFpbCBJZCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZHx2YWxpZF9lbWFpbCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH1dO1xuICBtb2R1bGUubG9naW5Gb3JtU2NoZW1hID0gW3tcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBuYW1lOiAnZW1haWxpZCcsXG4gICAgZGlzcGxheTogJ0VtYWlsIElkJyxcbiAgICBydWxlczogJ3JlcXVpcmVkfHZhbGlkX2VtYWlsJyxcbiAgICBwZXJtaXNzaW9uOiAncidcbiAgfSwge1xuICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgbmFtZTogJ3Bhc3N3b3JkJyxcbiAgICBkaXNwbGF5OiAnUGFzc3dvcmQnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWR8bWluX2xlbmd0aFs2XXxtYXhfbGVuZ3RoWzMyXScsXG4gICAgcGVybWlzc2lvbjogJ3cnXG4gIH1dO1xuICBtb2R1bGUuYmFja3VwQ29kZUZvcm1TY2hlbWEgPSBbe1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIG5hbWU6ICdiYWNrdXBjb2RlJyxcbiAgICBkaXNwbGF5OiAnQmFja3VwIENvZGUnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9XTtcbiAgbW9kdWxlLnJlc2V0UGFzc3dvcmRCeVBob25lU2NoZW1hID0gW3tcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBuYW1lOiAnb3RwJyxcbiAgICBkaXNwbGF5OiAnVmVyaWZpY2F0aW9uIENvZGUnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9LCB7XG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICBuYW1lOiAncGFzc3dvcmQnLFxuICAgIGRpc3BsYXk6ICdQYXNzd29yZCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtaW5fbGVuZ3RoWzZdfG1heF9sZW5ndGhbMzJdJyxcbiAgICBwZXJtaXNzaW9uOiAndydcbiAgfV07XG4gIG1vZHVsZS5yZXNldFBJTkJ5UGhvbmVTY2hlbWEgPSBbe1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIG5hbWU6ICdvdHAnLFxuICAgIGRpc3BsYXk6ICdWZXJpZmljYXRpb24gQ29kZScsXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH0sIHtcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgIG5hbWU6ICdwaW4nLFxuICAgIGRpc3BsYXk6ICdQSU4nLFxuICAgIHJ1bGVzOiAncmVxdWlyZWR8bWluX2xlbmd0aFs0XXxtYXhfbGVuZ3RoWzMyXScsXG4gICAgcGVybWlzc2lvbjogJ3cnXG4gIH1dO1xuICBtb2R1bGUuY2hlY2tQaG9uZU51bWJlclNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ3Bob25lJyxcbiAgICBkaXNwbGF5OiAnUGhvbmUgTnVtYmVyJyxcbiAgICBydWxlczogJ3JlcXVpcmVkfHZhbGlkX3Bob25lbm8nLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9XTtcbiAgbW9kdWxlLlFSQ29kZVNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ0F1dGhlbnRpY2F0b3JDb2RlJyxcbiAgICBkaXNwbGF5OiAnQXV0aGVudGljYXRvciBDb2RlJyxcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcbiAgICBwZXJtaXNzaW9uOiAncidcbiAgfV07XG5cbiAgbW9kdWxlLmdldFNlY1FTY2hlbWEgPSBbe1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIG5hbWU6ICdlbWFpbGlkJyxcbiAgICBkaXNwbGF5OiAnRW1haWwgSWQnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWR8dmFsaWRfZW1haWwnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9XTtcblxuICBtb2R1bGUub3RwU2NoZW1hID0gW3tcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBuYW1lOiAnb3RwJyxcbiAgICBkaXNwbGF5OiAnVmVyaWZpY2F0aW9uIENvZGUnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9XTtcblxuICBtb2R1bGUuZm9yZ290UGFzc3dvcmRGb3JtU2NoZW1hID0gW3tcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBuYW1lOiAnZW1haWxpZCcsXG4gICAgZGlzcGxheTogJ0VtYWlsJyxcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcbiAgICBwZXJtaXNzaW9uOiAncidcbiAgfV07XG4gIG1vZHVsZS5mb3Jnb3RQSU5Gb3JtU2NoZW1hID0gW3tcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBuYW1lOiAnZW1haWxpZCcsXG4gICAgZGlzcGxheTogJ0VtYWlsJyxcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcbiAgICBwZXJtaXNzaW9uOiAncidcbiAgfV07XG4gIG1vZHVsZS5mb3Jnb3RQYXNzS2V5Rm9ybVNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ2VtYWlsaWQnLFxuICAgIGRpc3BsYXk6ICdFbWFpbCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH1dO1xuICBtb2R1bGUuc21hcnRMb2dpblNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ2VtYWlsaWQnLFxuICAgIGRpc3BsYXk6ICdFbWFpbCBJZCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH1dO1xuICBtb2R1bGUucGFzc3dvcmRMZXNzTG9naW5TY2hlbWEgPSBbe1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIG5hbWU6ICdlbWFpbGlkJyxcbiAgICBkaXNwbGF5OiAnRW1haWwnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9LCB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ25hbWUnLFxuICAgIGRpc3BsYXk6ICdOYW1lJyxcbiAgICBydWxlczogJycsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH1dO1xuICBtb2R1bGUuY2hhbmdlUGFzc3dvcmRGb3JtU2NoZW1hID0gW3tcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgIG5hbWU6ICdvbGRwYXNzd29yZCcsXG4gICAgZGlzcGxheTogJ09sZCBQYXNzd29yZCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXG4gICAgcGVybWlzc2lvbjogJ3cnXG4gIH0sIHtcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgIG5hbWU6ICduZXdwYXNzd29yZCcsXG4gICAgZGlzcGxheTogJ1Bhc3N3b3JkJyxcbiAgICBydWxlczogJ3JlcXVpcmVkfG1pbl9sZW5ndGhbNl18bWF4X2xlbmd0aFszMl0nLFxuICAgIHBlcm1pc3Npb246ICd3J1xuICB9LCB7XG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICBuYW1lOiAnY29uZmlybW5ld3Bhc3N3b3JkJyxcbiAgICBkaXNwbGF5OiAnQ29uZmlybSBQYXNzd29yZCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtaW5fbGVuZ3RoWzZdfG1heF9sZW5ndGhbMzJdfG1hdGNoZXNbbmV3cGFzc3dvcmRdJyxcbiAgICBwZXJtaXNzaW9uOiAndydcbiAgfV07XG4gIG1vZHVsZS5lbWFpbFNjaGVtYSA9IG1vZHVsZS5mb3Jnb3RQYXNzd29yZEZvcm1TY2hlbWE7XG4gIG1vZHVsZS5hZGRFbWFpbFNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ2VtYWlsaWQnLFxuICAgIGRpc3BsYXk6ICdFbWFpbCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZHx2YWxpZF9lbWFpbCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH0sIHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBuYW1lOiAndHlwZScsXG4gICAgZGlzcGxheTogJ1R5cGUnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9XTtcbiAgbW9kdWxlLmNoYW5nZVVzZXJuYW1lRm9ybVNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgbmFtZTogJ3VzZXJuYW1lJyxcbiAgICBkaXNwbGF5OiAnVXNlcm5hbWUnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICdyJ1xuICB9XTtcbiAgbW9kdWxlLmNoYW5nZVBJTkZvcm1TY2hlbWEgPSBbe1xuICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgbmFtZTogJ29sZHBpbicsXG4gICAgZGlzcGxheTogJ09sZCBQSU4nLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICd3J1xuICB9LCB7XG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICBuYW1lOiAnbmV3cGluJyxcbiAgICBkaXNwbGF5OiAnUElOJyxcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcbiAgICBwZXJtaXNzaW9uOiAndydcbiAgfSwge1xuICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgbmFtZTogJ2NvbmZpcm1uZXdwaW4nLFxuICAgIGRpc3BsYXk6ICdDb25maXJtIFBJTicsXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtYXRjaGVzW25ld3Bpbl0nLFxuICAgIHBlcm1pc3Npb246ICd3J1xuICB9XTtcbiAgbW9kdWxlLnJlc2V0UGFzc3dvcmRGb3JtU2NoZW1hID0gW3tcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgIG5hbWU6ICdwYXNzd29yZCcsXG4gICAgZGlzcGxheTogJ1Bhc3N3b3JkJyxcbiAgICBydWxlczogJ3JlcXVpcmVkfG1pbl9sZW5ndGhbNl18bWF4X2xlbmd0aFszMl0nLFxuICAgIHBlcm1pc3Npb246ICd3J1xuICB9LCB7XG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICBuYW1lOiAnY29uZmlybXBhc3N3b3JkJyxcbiAgICBkaXNwbGF5OiAnQ29uZmlybSBQYXNzd29yZCcsXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtYXRjaGVzW3Bhc3N3b3JkXXxtaW5fbGVuZ3RoWzZdfG1heF9sZW5ndGhbMzJdJyxcbiAgICBwZXJtaXNzaW9uOiAndydcbiAgfSwge1xuICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgIG5hbWU6ICdyZXNldHRva2VuJyxcbiAgICBkaXNwbGF5OiAnJyxcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcbiAgICBwZXJtaXNzaW9uOiAndycsXG4gICAgdmFsdWU6ICcnXG4gIH1dO1xuICBtb2R1bGUucmVzZXRQSU5Gb3JtU2NoZW1hID0gW3tcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgIG5hbWU6ICdwaW4nLFxuICAgIGRpc3BsYXk6ICdQSU4nLFxuICAgIHJ1bGVzOiAncmVxdWlyZWR8bWluX2xlbmd0aFs0XXxtYXhfbGVuZ3RoWzMyXScsXG4gICAgcGVybWlzc2lvbjogJ3cnXG4gIH0sIHtcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgIG5hbWU6ICdjb25maXJtcGluJyxcbiAgICBkaXNwbGF5OiAnQ29uZmlybSBQSU4nLFxuICAgIHJ1bGVzOiAncmVxdWlyZWR8bWF0Y2hlc1twaW5dfG1pbl9sZW5ndGhbNF18bWF4X2xlbmd0aFszMl0nLFxuICAgIHBlcm1pc3Npb246ICd3J1xuICB9LCB7XG4gICAgdHlwZTogJ2hpZGRlbicsXG4gICAgbmFtZTogJ3Jlc2V0dG9rZW4nLFxuICAgIGRpc3BsYXk6ICcnLFxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgIHBlcm1pc3Npb246ICd3JyxcbiAgICB2YWx1ZTogJydcbiAgfV07XG4gIG1vZHVsZS5waW5Mb2dpbkZvcm1TY2hlbWEgPSBbe1xuICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgbmFtZTogJ3BpbicsXG4gICAgZGlzcGxheTogJ1BJTicsXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXG4gICAgcGVybWlzc2lvbjogJ3InXG4gIH1dO1xuICBtb2R1bGUucHJpdmFjeVBvbGljeVNjaGVtYSA9IFt7XG4gICAgdHlwZTogJ211bHRpJyxcbiAgICBuYW1lOiAnYWNjZXB0cHJpdmFjeXBvbGljeScsXG4gICAgZGlzcGxheTogJ0kgYWdyZWUgdG8gdGhlIHRlcm1zIG9mIHNlcnZpY2UnLFxuICAgIHJ1bGVzOiAnJyxcbiAgICBwZXJtaXNzaW9uOiAncidcbiAgfV07XG4gIG1vZHVsZS5idG5PVFBTY2hlbWEgPSB7XG4gICAgdHlwZTogJ2J1dHRvbicsXG4gICAgbmFtZTogJ2NsaWNrJyxcbiAgICBkaXNwbGF5OiAnY2xpY2snLFxuICAgIHJ1bGVzOiAnJyxcbiAgICBwZXJtaXNzaW9uOiAncicsXG4gICAgZXZlbnQ6ICdjbGljaycsXG4gICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9XG4gIH07XG4gIG1vZHVsZS5kZWZhdWx0QnRuU2NoZW1hID0ge1xuICAgIHR5cGU6ICdidXR0b24nLFxuICAgIG5hbWU6ICdkZWZhdWx0JyxcbiAgICBkaXNwbGF5OiAnZGVmYXVsdCcsXG4gICAgcnVsZXM6ICcnLFxuICAgIHBlcm1pc3Npb246ICdyJyxcbiAgICBldmVudDogJ2NsaWNrJyxcbiAgICBldmVudENhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH1cbiAgfTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgbHIgbW9kdWxlIG9iamVjdFxuKiBAcGFyYW0ge09iamVjdH0gbHJPcHRpb25zIGxyIGNvbW1vbk9wdGlvbnMgb2JqZWN0XG4qIEBkZXNjcmlwdGlvbiBTZXQgZ2xvYmFsIExvZ2luUmFkaXVzRGVmYXVsdHMgYW5kIGZ1bmN0aW9ucy5cbiogQGNvbnN0cnVjdG9yXG4qL1xuZnVuY3Rpb24gc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMgKG1vZHVsZSwgbHJPcHRpb25zKSB7XG4gIHZhciBsckRlZmF1bHRPcHRpb25zID0gTG9naW5SYWRpdXNEZWZhdWx0cy5vcHRpb25zO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGNvbW1vbkZucyA9IG5ldyBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyhtb2R1bGUpO1xuICB2YXIgY29udHJvbGxlcnMgPSBuZXcgTG9naW5SYWRpdXNDb250cm9sbGVycyhtb2R1bGUsIGNvbW1vbkZucyk7XG4gIHZhciB1dGlsID0gbW9kdWxlLnV0aWw7XG4gIG1vZHVsZS52ZXJzaW9uID0gJzMuMjguMCc7XG4gIG1vZHVsZS5MUkNoZWNrUmVnaXN0cmF0aW9uID0gZmFsc2U7XG4gIG1vZHVsZS5wYXNzd29yZGxlc3NMb2dpbkZsYWcgPSBmYWxzZTtcbiAgbW9kdWxlLmR1b0xvZ2luRmxhZyA9IGZhbHNlOyAvLyBUaGlzIGZsYWcgd2lsbCBiZSB1c2VkIHRvIHByZXNlbnQgY2FsbGluZyB2ZXJpZnkgQVBJIGlmIGl0cyBpbiBwcm9jZXNzaW5nXG4gIG1vZHVsZS5zb2NpYWxMb2dpbkZsYWcgPSBmYWxzZTtcbiAgbW9kdWxlLkxSQ2hlY2tMb2dpbiA9IGZhbHNlO1xuICBtb2R1bGUuTFJDaGVjazJGQSA9IGZhbHNlO1xuICBtb2R1bGUubG9naW5BY3Rpb24gPSBmYWxzZTtcbiAgbW9kdWxlLm9wdGlvbnMgPSB7fTtcbiAgbW9kdWxlLmNvbnNlbnRPcHRpb25zID0gJyc7XG4gIG1vZHVsZS5sb29rdXBPcHRpb25zID0gJyc7XG4gIG1vZHVsZS5zZXNzaW9uRGF0YSA9IHtcbiAgICBnZXRVaWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFVpZE5hbWUpO1xuICAgIH0sXG4gICAgZ2V0VG9rZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXJyb3JNZXNzYWdlcyA9IFtdO1xuICBtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzID0gW107XG4gIG1vZHVsZS5mb3JtQ3VzdG9tTGFiZWwgPSB7fTtcbiAgbW9kdWxlLmZvcm1FbGVtZW50c1RpdGxlID0ge307XG4gIG1vZHVsZS5kZWZhdWx0T3B0aW9uRmllbGQgPSB7fTtcbiAgbW9kdWxlLmZvcm1WYWxpZGF0aW9ucyA9IHt9O1xuICBtb2R1bGUuZm9ybVBsYWNlaG9sZGVyID0ge307XG4gIG1vZHVsZS5mb3JtRWxlbWVudEF0dHJpYnV0ZXMgPSB7fTtcbiAgbW9kdWxlLmJ1dHRvbkVsZW1lbnRzID0ge307XG4gIG1vZHVsZS5wYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbiA9IFtdO1xuICBtb2R1bGUuYnV0dG9uc05hbWUgPSB7fTtcbiAgbW9kdWxlLmV2ZW50c05hbWUgPSB7fTtcblxuICAvKipcbiAgKiBAZnVuY3Rpb24gbG9nXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xuICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIG1lc3NhZ2UgdG8gYmUgbG9nZ2VkXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVudGlvbiBpcyB1c2VkIHRvIGxvZyBlcnJvci93YXJuaW5nIG1lc3NhZ2UgaW4gYnJvd3NlciBpZiBkZWJ1ZyBtb2RlIGhhcyBiZWVuIG1hZGUgdHJ1ZS5cbiAgKi9cblxuICBtb2R1bGUubG9nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGVidWdNb2RlKSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2Ygc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGN1c3RvbUludGVyZmFjZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciBjbGFzcyBuYW1lXG4gICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgbHIgb3B0aW9ucyBvYmplY3RcbiAgKiBAZGVzY3JpcHRpb24gUmVuZGVyIGN1c3RvbSBpbnRlcmZhY2VcbiAgKi9cbiAgbW9kdWxlLmN1c3RvbUludGVyZmFjZSA9IGZ1bmN0aW9uIChzZWxlY3Rvciwgb3B0aW9ucykge1xuICAgIC8vIG1vZHVsZS5vcHRpb25zID0gdXRpbC5tZXJnZU9wdGlvbnMobHJEZWZhdWx0T3B0aW9ucywgbHJPcHRpb25zKSB8fCB7fTtcbiAgICB2YXIgdGVtcGxhdGVOYW1lID0gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgfHwgJyc7XG4gICAgdmFyIGNhbGxiYWNrQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29tbW9uRm5zLnJlbmRlckN1c3RvbUludGVyZmFjZShzZWxlY3RvciwgJycsIHRlbXBsYXRlTmFtZSk7XG4gICAgfTtcbiAgICBnZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrQWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2Ygc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGNsZWFyU2Vzc2lvblxuICAqIEBkZXNjcmlwdGlvbiBDbGVhciBicm93c2VyIHNlc3Npb24gc3RvcmFnZVxuICAqL1xuICBtb2R1bGUuY2xlYXJTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIG1vZHVsZS5zdG9yYWdlLnJlbW92ZUJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBtb2R1bGUuc3RvcmFnZS5yZW1vdmVCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFVpZE5hbWUpO1xuICAgIG1vZHVsZS5zdG9yYWdlLnJlbW92ZUJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVHdvRkFUb2tlbik7XG4gICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPcmdhbml6YXRpb24pO1xuICB9O1xuXG4gIC8qKlxuICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xuICogQGZ1bmN0aW9uIHNldFNlc3Npb25Ub2tlblxuICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIExvZ2luIFJlc3BvbnNlIGNvbnRhbmluZyBzZXNzc2lvbiB0b2tlbiBhbmQgZXhwaXJ5IHRpbWVcbiAqIEByZXR1cm4ge251bGx9XG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBzdG9yZXMgdGhlIHNlc3Npb24gdG9rZW4gYWxvbmcgd2l0aCBpdCdzIGV4cGlyYXRpb24gdGltZSBpbnRvIGJyb3dzZXIgc3RvcmFnZS5cbiAqL1xuICBtb2R1bGUuc2V0U2Vzc2lvblRva2VuID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdmFyIHNlc3Npb25Ub2tlbk9iaiA9IHtcbiAgICAgICdzZXNzaW9uX3Rva2VuJzogcmVzcG9uc2Uuc2Vzc2lvbl90b2tlbixcbiAgICAgICdzZXNzaW9uX2V4cGlyZXNfaW4nOiByZXNwb25zZS5zZXNzaW9uX2V4cGlyZXNfaW5cbiAgICB9O1xuICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkU2Vzc2lvblRva2VuRGF0YSwgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvblRva2VuT2JqKSk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBnZXRTZXNzaW9uVG9rZW5cbiAgKiBAcmV0dXJuIHtzZXNzaW9uX3Rva2VufGZhbHNlfVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0aGUgc2Vzc2lvbiB0b2tlbiBhbmQgaXQncyBleHBpcnkgdGltZSBhbmQgaWYgaXQgaGFzIG5vdCBiZWVuIGV4cGlyZWQgeWV0IHRoZW4gaXQgd2lsbCByZXR1cm4gdGhlIHNlc3Npb24gdG9rZW4gb3RoZXJ3aXNlIGZhbHNlXG4gICovXG4gIG1vZHVsZS5nZXRTZXNzaW9uVG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlc3Npb25Ub2tlbkRhdGEgPSBKU09OLnBhcnNlKG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkU2Vzc2lvblRva2VuRGF0YSkpO1xuICAgIGlmIChzZXNzaW9uVG9rZW5EYXRhICYmIHNlc3Npb25Ub2tlbkRhdGEuc2Vzc2lvbl9leHBpcmVzX2luICYmIG5ldyBEYXRlKCkgPCBuZXcgRGF0ZShzZXNzaW9uVG9rZW5EYXRhLnNlc3Npb25fZXhwaXJlc19pbikpIHtcbiAgICAgIHJldHVybiBzZXNzaW9uVG9rZW5EYXRhLnNlc3Npb25fdG9rZW47XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZHVsZS5yZW1vdmVTZXNzaW9uVG9rZW4oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiByZW1vdmVTZXNzaW9uVG9rZW5cbiAgKiBAcmV0dXJuIHtudWxsfVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIHNlc3Npb24gdG9rZW5cbiAgKi9cbiAgbW9kdWxlLnJlbW92ZVNlc3Npb25Ub2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBtb2R1bGUuc3RvcmFnZS5yZW1vdmVCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFNlc3Npb25Ub2tlbkRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAqIEluaXRpYWxpemUgZG9jdW1lbnQgY29va2llcyBnZXR0ZXIvc2V0dGVyL3JlbW92ZSBtZXRob2RzXG4gICogTm90IHVzZWQgaW4gY29kZSBidXQgYWRkZWQgZm9yIGN1c3RvbWVyIHVzZWNhc2UgZmFsbGJhY2suXG4gICogQG1vZHVsZSBkb2N1bWVudENvb2tpZXNcbiAgKiBAbWVtYmVyb2Ygc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMjXG4gICovXG4gIG1vZHVsZS5kb2N1bWVudENvb2tpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBMUk5hbWVTcGFjZS5jb29raWVzKTtcblxuICAvKipcbiAgKiBAZnVuY3Rpb24gbWFwT3B0aW9uc1xuICAqIEBtZW1iZXJvZiBzZXRMb2dpblJhZGl1c01vZHVsZUZ1bmN0aW9ucyNcbiAgKiBAcGFyYW0ge09iamVjdH0gYXBwQ29uZmlnIGxyIGFwcCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAqIEBkZXNjcmlwdGlvbiBTZXQgbWFwcGluZyBvZiB0aGUgbHIgYXBwIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHByb3BlcnRpZXNcbiAgKi9cbiAgZnVuY3Rpb24gbWFwT3B0aW9ucyAoYXBwQ29uZmlnKSB7XG4gICAgdmFyIGFwcERhdGEgPSB7fTtcbiAgICBsck9wdGlvbnMub3JnYW5pemF0aW9uT2JqID0gYXBwQ29uZmlnLk9yZ2FuaXphdGlvbjtcbiAgICBsck9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbkVuYWJsZWQgPSBhcHBDb25maWcuSXNTZWN1cml0eVF1ZXN0aW9uO1xuICAgIGxyT3B0aW9ucy5hcHBOYW1lID0gbHJPcHRpb25zLmFwcE5hbWUgfHwgYXBwQ29uZmlnLkFwcE5hbWU7XG4gICAgbHJPcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgPSBhcHBDb25maWcuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYTtcbiAgICBsck9wdGlvbnMubG9naW5Mb2NrZWRUeXBlID0gYXBwQ29uZmlnLkxvZ2luTG9ja2VkQ29uZmlndXJhdGlvbiAmJiBhcHBDb25maWcuTG9naW5Mb2NrZWRDb25maWd1cmF0aW9uLkxvZ2luTG9ja2VkVHlwZTtcblxuICAgIGlmIChsck9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbkVuYWJsZWQpIHtcbiAgICAgIGxyT3B0aW9ucy5TZWN1cml0eVF1ZXN0aW9ucyA9IGFwcENvbmZpZy5TZWN1cml0eVF1ZXN0aW9ucy5RdWVzdGlvbnM7XG4gICAgICBsck9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbnNDb3VudCA9IGxyT3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uc0NvdW50ID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuU2VjdXJpdHlRdWVzdGlvbnMuU2VjdXJpdHlRdWVzdGlvbkNvdW50IDogbHJPcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25zQ291bnQ7XG4gICAgfVxuICAgIGlmIChsck9wdGlvbnMucGFzc3dvcmRMZW5ndGggPT09IHVuZGVmaW5lZCAmJiBsck9wdGlvbnMuZGlzcGxheVBhc3N3b3JkU3RyZW5ndGggJiYgbHJPcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEpIHtcbiAgICAgIHZhciBmaWVsZCA9IHV0aWwuZmluZEluU2NoZW1hKGxyT3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpO1xuICAgICAgdmFyIHN0ciA9IGZpZWxkLnJ1bGVzO1xuICAgICAgdmFyIHIgPSBzdHIuc3BsaXQoJ3wnKTtcbiAgICAgIHZhciBtaW5TdHIgPSB1dGlsLmlzU3Vic3RyaW5nKCdtaW5fbGVuZ3RoWycsIE9iamVjdC5rZXlzKHIpLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gcltlXTtcbiAgICAgIH0pKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICB2YXIgbWluID0gKG1pblN0cikgPyByW21pblN0cl0uc3Vic3RyaW5nKHJbbWluU3RyXS5sYXN0SW5kZXhPZignbWluX2xlbmd0aFsnKSArIDExLCByW21pblN0cl0ubGFzdEluZGV4T2YoJ10nKSkgOiAnJztcbiAgICAgIHZhciBtYXhTdHIgPSB1dGlsLmlzU3Vic3RyaW5nKCdtYXhfbGVuZ3RoWycsIE9iamVjdC5rZXlzKHIpLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gcltlXTtcbiAgICAgIH0pKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICB2YXIgbWF4ID0gKG1heFN0cikgPyByW21heFN0cl0uc3Vic3RyaW5nKHJbbWF4U3RyXS5sYXN0SW5kZXhPZignbWF4X2xlbmd0aFsnKSArIDExLCByW21heFN0cl0ubGFzdEluZGV4T2YoJ10nKSkgOiAnJztcbiAgICAgIHZhciBwYXNzd29yZGxlbmd0aCA9IHt9O1xuICAgICAgaWYgKG1pbikge1xuICAgICAgICBwYXNzd29yZGxlbmd0aFsnbWluJ10gPSBwYXJzZUludChtaW4pO1xuICAgICAgfVxuICAgICAgaWYgKG1heCkge1xuICAgICAgICBwYXNzd29yZGxlbmd0aFsnbWF4J10gPSBwYXJzZUludChtYXgpO1xuICAgICAgfVxuICAgICAgbHJPcHRpb25zLnBhc3N3b3JkTGVuZ3RoID0gcGFzc3dvcmRsZW5ndGg7XG4gICAgfVxuXG4gICAgbHJPcHRpb25zLlNvY2lhbFNjaGVtYSA9IGFwcENvbmZpZy5Tb2NpYWxTY2hlbWE7XG4gICAgbHJPcHRpb25zLm1hc2tTZW5zaXRpdmVJbnB1dCA9IGxyT3B0aW9ucy5lbmNyeXB0ZWRBbnN3ZXIgfHwgbHJPcHRpb25zLm1hc2tTZW5zaXRpdmVJbnB1dDtcbiAgICBsck9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luID0gbHJPcHRpb25zLm5vQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCA/IGxyT3B0aW9ucy5ub0NhbGxiYWNrIDogbHJPcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbjtcbiAgICBpZiAoYXBwQ29uZmlnLlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uICYmIGFwcENvbmZpZy5Ud29GYWN0b3JBdXRoZW50aWNhdGlvbi5Jc0VuYWJsZWQpIHtcbiAgICAgIGFwcERhdGEub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IHRydWU7XG4gICAgICBhcHBEYXRhLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gZmFsc2U7XG4gICAgICBhcHBEYXRhLnFyQ29kZUF1dGhlbnRpY2F0aW9uID0gYXBwQ29uZmlnLlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uLklzQXV0aGVudGljYXRvcjtcbiAgICAgIGFwcERhdGEuZW1haWxPVFBBdXRoZW50aWNhdGlvbiA9IGFwcENvbmZpZy5Ud29GYWN0b3JBdXRoZW50aWNhdGlvbi5Jc0VtYWlsT1RQQXV0aGVudGljYXRvcjtcbiAgICAgIGFwcERhdGEucHVzaE5vdGlmaWNhdGlvbkF1dGhlbnRpY2F0b3IgPSBhcHBDb25maWcuVHdvRmFjdG9yQXV0aGVudGljYXRpb24uSXNQdXNoQXV0aGVudGljYXRvcjtcbiAgICAgIGFwcERhdGEuc2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0aW9uID0gYXBwQ29uZmlnLlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uLklzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3I7XG4gICAgICBhcHBEYXRhLnNtc09UUEF1dGhlbnRpY2F0aW9uID0gYXBwQ29uZmlnLlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uLklzU21zT1RQQXV0aGVudGljYXRvcjtcbiAgICAgIGFwcERhdGEuZHVvQXV0aGVudGljYXRpb24gPSBhcHBDb25maWcuVHdvRmFjdG9yQXV0aGVudGljYXRpb24uSXNEdW9TZWN1cml0eUF1dGhlbnRpY2F0b3I7XG4gICAgICBhcHBEYXRhLnBhc3NrZXlBdXRoZW50aWNhdG9yID0gYXBwQ29uZmlnLlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uLklzUGFzc2tleUF1dGhlbnRpY2F0b3I7XG4gICAgICBpZiAoYXBwQ29uZmlnLlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uLklzUmVxdWlyZWQpIHtcbiAgICAgICAgYXBwRGF0YS5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gZmFsc2U7XG4gICAgICAgIGFwcERhdGEudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBsck9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IGxyT3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID09PSB1bmRlZmluZWQgPyBhcHBEYXRhLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gOiBsck9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbjtcbiAgICBsck9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSBsck9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcERhdGEudHdvRmFjdG9yQXV0aGVudGljYXRpb24gOiBsck9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb247XG4gICAgbHJPcHRpb25zLnFyQ29kZUF1dGhlbnRpY2F0aW9uID0gbHJPcHRpb25zLmdvb2dsZUF1dGhlbnRpY2F0aW9uID09PSB1bmRlZmluZWQgPyAobHJPcHRpb25zLnFyQ29kZUF1dGhlbnRpY2F0aW9uID09PSB1bmRlZmluZWQgPyBhcHBEYXRhLnFyQ29kZUF1dGhlbnRpY2F0aW9uIDogbHJPcHRpb25zLnFyQ29kZUF1dGhlbnRpY2F0aW9uKSA6IGxyT3B0aW9ucy5nb29nbGVBdXRoZW50aWNhdGlvbjtcbiAgICBsck9wdGlvbnMucGhvbmVMb2dpbiA9IGxyT3B0aW9ucy5waG9uZUxvZ2luID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuSXNQaG9uZUxvZ2luIDogbHJPcHRpb25zLnBob25lTG9naW47XG4gICAgbHJPcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luT1RQID0gbHJPcHRpb25zLmluc3RhbnRPVFBMb2dpbiA9PT0gdW5kZWZpbmVkICYmIGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbk9UUCA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzSW5zdGFudFNpZ25pbi5TbXNPdHAgOiBsck9wdGlvbnMuaW5zdGFudE9UUExvZ2luIHx8IGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbk9UUDtcbiAgICBpZiAoYXBwQ29uZmlnLkVtYWlsVmVyaWZpY2F0aW9uRmxvdyA9PT0gJ29wdGlvbmFsJykge1xuICAgICAgYXBwRGF0YS5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGFwcENvbmZpZy5FbWFpbFZlcmlmaWNhdGlvbkZsb3cgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIGFwcERhdGEuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIGxyT3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uID0gbHJPcHRpb25zLm9wdGlvbmFsRW1haWxWZXJpZmljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcERhdGEub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbiA6IGxyT3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uO1xuICAgIGxyT3B0aW9ucy5kaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uID0gbHJPcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcERhdGEuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiA6IGxyT3B0aW9ucy5kaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uO1xuICAgIGxyT3B0aW9ucy5sb2dpbk9uRW1haWxWZXJpZmljYXRpb24gPSBsck9wdGlvbnMubG9naW5PbkVtYWlsVmVyaWZpY2F0aW9uID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuSXNMb2dpbk9uRW1haWxWZXJpZmljYXRpb24gOiBsck9wdGlvbnMubG9naW5PbkVtYWlsVmVyaWZpY2F0aW9uO1xuICAgIGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbiA9IGxyT3B0aW9ucy5pbnN0YW50TGlua0xvZ2luID09PSB1bmRlZmluZWQgJiYgbHJPcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuSXNJbnN0YW50U2lnbmluLkVtYWlsTGluayA6IGxyT3B0aW9ucy5pbnN0YW50TGlua0xvZ2luIHx8IGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbjtcbiAgICBsck9wdGlvbnMuYXNrUmVxdWlyZWRGaWVsZEZvclRyYWRpdGlvbmFsTG9naW4gPSBsck9wdGlvbnMuYXNrUmVxdWlyZWRGaWVsZEZvclRyYWRpdGlvbmFsTG9naW4gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Bc2tSZXF1aXJlZEZpZWxkc09uVHJhZGl0aW9uYWxMb2dpbiA6IGxyT3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbjtcbiAgICBsck9wdGlvbnMuc3RheUxvZ2luID0gbHJPcHRpb25zLnN0YXlMb2dpbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzUmVtZW1iZXJNZSA6IGxyT3B0aW9ucy5zdGF5TG9naW47XG4gICAgbHJPcHRpb25zLmRpc2FibGVTaWdudXAgPSBsck9wdGlvbnMuZGlzYWJsZVNpZ251cCA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzRGlzYWJsZWRSZWdpc3RyYXRpb24gOiBsck9wdGlvbnMuZGlzYWJsZVNpZ251cDtcbiAgICBsck9wdGlvbnMucmlza0Jhc2VkQXV0aGVudGljYXRpb24gPSBsck9wdGlvbnMucmlza0Jhc2VkQXV0aGVudGljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Jc1Jpc2tCYXNlZEF1dGhlbnRpY2F0aW9uIDogbHJPcHRpb25zLnJpc2tCYXNlZEF1dGhlbnRpY2F0aW9uO1xuICAgIGxyT3B0aW9ucy5ub0NhbGxiYWNrRm9yU29jaWFsTG9naW4gPSBsck9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuSXNOb0NhbGxiYWNrRm9yU29jaWFsTG9naW4gOiBsck9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luO1xuICAgIGxyT3B0aW9ucy51c2VybmFtZUxvZ2luID0gbHJPcHRpb25zLnVzZXJuYW1lTG9naW4gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Jc1VzZXJOYW1lTG9naW4gOiBsck9wdGlvbnMudXNlcm5hbWVMb2dpbjtcbiAgICBsck9wdGlvbnMucHJvbXB0UGFzc3dvcmRPblNvY2lhbExvZ2luID0gbHJPcHRpb25zLnByb21wdFBhc3N3b3JkT25Tb2NpYWxMb2dpbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLkFza1Bhc3N3b3JkT25Tb2NpYWxMb2dpbiA6IGxyT3B0aW9ucy5wcm9tcHRQYXNzd29yZE9uU29jaWFsTG9naW47XG4gICAgbHJPcHRpb25zLmFza09wdGlvbmFsRmllbGRzT25SZWdpc3RyYXRpb24gPSBsck9wdGlvbnMuYXNrT3B0aW9uYWxGaWVsZHNPblJlZ2lzdHJhdGlvbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLkFza09wdGlvbmFsRmllbGRzT25Tb2NpYWxTaWdudXAgOiBsck9wdGlvbnMuYXNrT3B0aW9uYWxGaWVsZHNPblJlZ2lzdHJhdGlvbjtcbiAgICBsck9wdGlvbnMuYXNrRW1haWxGb3JVbnZlcmlmaWVkUHJvZmlsZUFsd2F5cyA9IGxyT3B0aW9ucy5hc2tFbWFpbEZvclVudmVyaWZpZWRQcm9maWxlQWx3YXlzID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuQXNrRW1haWxJZEZvclVudmVyaWZpZWRVc2VyTG9naW4gOiBsck9wdGlvbnMuYXNrRW1haWxGb3JVbnZlcmlmaWVkUHJvZmlsZUFsd2F5cztcbiAgICBsck9wdGlvbnMubG9nb3V0T25WZXJpZnlFbWFpbCA9IGxyT3B0aW9ucy5sb2dvdXRPblZlcmlmeUVtYWlsID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuSXNMb2dvdXRPbkVtYWlsVmVyaWZpY2F0aW9uIDogbHJPcHRpb25zLmxvZ291dE9uVmVyaWZ5RW1haWw7XG4gICAgbHJPcHRpb25zLmRpc2FibGVBY2NvdW50TGlua2luZyA9IGFwcENvbmZpZy5Jc0Rpc2FibGVkQWNjb3VudExpbmtpbmc7XG4gICAgbHJPcHRpb25zLmR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lID0gYXBwQ29uZmlnLkR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lO1xuICAgIGxyT3B0aW9ucy5jdXN0b21Eb21haW4gPSBsck9wdGlvbnMuY3VzdG9tRG9tYWluIHx8IGFwcENvbmZpZy5DdXN0b21Eb21haW47XG4gICAgbHJPcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uID0gYXBwQ29uZmlnLlByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uO1xuICAgIGxyT3B0aW9ucy5pc0NvbnNlbnRNYW5hZ2VtZW50RW5hYmxlZCA9IGxyT3B0aW9ucy5Jc0NvbnNlbnRNYW5hZ2VtZW50RW5hYmxlZCA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzQ29uc2VudE1hbmFnZW1lbnRFbmFibGVkIDogbHJPcHRpb25zLklzQ29uc2VudE1hbmFnZW1lbnRFbmFibGVkO1xuICAgIGxyT3B0aW9ucy5sb2dpbk9uUGFzc3dvcmRSZXNldCA9IGFwcENvbmZpZy5Mb2dpbk9uUGFzc3dvcmRSZXNldDtcbiAgICBsck9wdGlvbnMub3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uID0gYXBwQ29uZmlnLk9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbjtcbiAgICBsck9wdGlvbnMuaXNWb2ljZU90cCA9IGFwcENvbmZpZy5Jc1ZvaWNlT1RQO1xuICAgIGlmIChsck9wdGlvbnMudjJSZWNhcHRjaGEgfHwgYXBwQ29uZmlnLklzVjJSZWNhcHRjaGEpIHtcbiAgICAgIGxyT3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgPSBmYWxzZTtcbiAgICAgIGxyT3B0aW9ucy52MlJlY2FwdGNoYSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChsck9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhIHx8IGFwcENvbmZpZy5Jc0ludmlzaWJsZVJlY2FwdGNoYSkge1xuICAgICAgbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSA9IHRydWU7XG4gICAgICBsck9wdGlvbnMudjJSZWNhcHRjaGEgPSBmYWxzZTtcbiAgICB9XG4gICAgbHJPcHRpb25zLmlzQ2FwdGNoYUVuYWJsZWQgPSBsck9wdGlvbnMudjJSZWNhcHRjaGEgfHwgbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYTtcbiAgICBsck9wdGlvbnMudjJSZWNhcHRjaGFTaXRlS2V5ID0gbHJPcHRpb25zLnYyUmVjYXB0Y2hhU2l0ZUtleSB8fCBhcHBDb25maWcuVjJSZWNhcHRjaGFTaXRlS2V5O1xuICAgIGxyT3B0aW9ucy50ZW5jZW50Q2FwdGNoYUFwcGlkID0gbHJPcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXBwaWQgfHwgYXBwQ29uZmlnLlFRVGVuY2VudENhcHRjaGFLZXk7XG4gICAgLy8gKiBOZXcgQ2FwdGNoYSBDb25maWcgTWFwcGluZ1xuICAgIGNvbnN0IGNhcHRjaGFDb25maWcgPSBhcHBDb25maWcuQ2FwdGNoYUNvbmZpZztcbiAgICBpZiAoY2FwdGNoYUNvbmZpZyAmJiBjYXB0Y2hhQ29uZmlnLklzRW5hYmxlZCkge1xuICAgICAgbHJPcHRpb25zLmlzQ2FwdGNoYUVuYWJsZWQgPSB0cnVlO1xuICAgICAgaWYgKGNhcHRjaGFDb25maWcuR29vZ2xlUmVjYXB0Y2hhVjIpIHtcbiAgICAgICAgbHJPcHRpb25zLnYyUmVjYXB0Y2hhU2l0ZUtleSA9IGNhcHRjaGFDb25maWcuR29vZ2xlUmVjYXB0Y2hhVjIuUHVibGljS2V5O1xuICAgICAgICBsck9wdGlvbnMudjJSZWNhcHRjaGEgPSBsck9wdGlvbnMudjJSZWNhcHRjaGEgPT09IHVuZGVmaW5lZCA/ICFjYXB0Y2hhQ29uZmlnLkdvb2dsZVJlY2FwdGNoYVYyLklzSW52aXNpYmxlQ2FwdGNoYSA6IGxyT3B0aW9ucy52MlJlY2FwdGNoYTtcbiAgICAgICAgbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSA9IGxyT3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgPT09IHVuZGVmaW5lZCA/IGNhcHRjaGFDb25maWcuR29vZ2xlUmVjYXB0Y2hhVjIuSXNJbnZpc2libGVDYXB0Y2hhIDogbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYTtcbiAgICAgIH1cbiAgICAgIGlmIChjYXB0Y2hhQ29uZmlnLlFRVGVuY2VudENhcHRjaGEpIHtcbiAgICAgICAgbHJPcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXBwaWQgPSBjYXB0Y2hhQ29uZmlnLlFRVGVuY2VudENhcHRjaGEuUHVibGljS2V5O1xuICAgICAgICBsck9wdGlvbnMudGVuY2VudENhcHRjaGEgPSBsck9wdGlvbnMudGVuY2VudENhcHRjaGEgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBsck9wdGlvbnMudGVuY2VudENhcHRjaGE7XG4gICAgICB9XG4gICAgICBpZiAoY2FwdGNoYUNvbmZpZy5Hb29nbGVSZWNhcHRjaGFWMykge1xuICAgICAgICBsck9wdGlvbnMudjJSZWNhcHRjaGFTaXRlS2V5ID0gY2FwdGNoYUNvbmZpZy5Hb29nbGVSZWNhcHRjaGFWMy5QdWJsaWNLZXk7XG4gICAgICAgIGxyT3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgPSB0cnVlO1xuICAgICAgICBsck9wdGlvbnMudjJSZWNhcHRjaGEgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYXB0Y2hhQ29uZmlnLkhDYXB0Y2hhKSB7XG4gICAgICAgIGxyT3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgPSBsck9wdGlvbnMuaENhcHRjaGFTaXRlS2V5IHx8IGNhcHRjaGFDb25maWcuSENhcHRjaGEuUHVibGljS2V5O1xuICAgICAgICBsck9wdGlvbnMuY2FwdGNoYVRoZW1lID0gbHJPcHRpb25zLmNhcHRjaGFUaGVtZSB8fCBjYXB0Y2hhQ29uZmlnLkhDYXB0Y2hhLklzRGFya1RoZW1lID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgICAgICAgbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSA9IGNhcHRjaGFDb25maWcuSENhcHRjaGEuSXNJbnZpc2libGVDYXB0Y2hhO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vICogUGFzc2tleXMgQ29uZmlndXJhdGlvblxuICAgIGNvbnN0IHBhc3NLZXlzQ29uZmlnID0gYXBwQ29uZmlnLlBhc3NLZXlzQ29uZmlnO1xuICAgIGlmIChwYXNzS2V5c0NvbmZpZyAmJiBwYXNzS2V5c0NvbmZpZy5Jc0VuYWJsZWQpIHtcbiAgICAgIGxyT3B0aW9ucy5pc1Bhc3NLZXlzRW5hYmxlZCA9IHRydWU7XG4gICAgICAvLyBsck9wdGlvbnMuaXNQYXNza2V5QXV0b2ZpbGwgPSBwYXNzS2V5c0NvbmZpZy5QYXNza2V5U2VsZWN0aW9uID09PSAnQXV0b2ZpbGwnIHx8IHBhc3NLZXlzQ29uZmlnLlBhc3NrZXlTZWxlY3Rpb24gPT09ICdCb3RoJztcbiAgICB9XG5cbiAgICBhcHBEYXRhLmlzUElOQXV0aGVudGljYXRpb24gPSBmYWxzZTtcbiAgICBpZiAoYXBwQ29uZmlnLlBJTkF1dGhlbnRpY2F0aW9uICYmIGFwcENvbmZpZy5QSU5BdXRoZW50aWNhdGlvbi5Jc0VuYWJsZWQpIHtcbiAgICAgIGFwcERhdGEuaXNQSU5BdXRoZW50aWNhdGlvbiA9IHRydWU7XG4gICAgICBhcHBEYXRhLlBJTkNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBhcHBDb25maWcuUElOQXV0aGVudGljYXRpb24uQ29uZmlndXJhdGlvbik7XG4gICAgICBpZiAobHJPcHRpb25zLlBJTkNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgbHJPcHRpb25zLlBJTkNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBhcHBEYXRhLlBJTkNvbmZpZ3VyYXRpb24sIGxyT3B0aW9ucy5QSU5Db25maWd1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxyT3B0aW9ucy5QSU5Db25maWd1cmF0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgYXBwRGF0YS5QSU5Db25maWd1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbHJPcHRpb25zLmlzUElOQXV0aGVudGljYXRpb24gPSBhcHBEYXRhLmlzUElOQXV0aGVudGljYXRpb247XG5cbiAgICBpZiAobHJPcHRpb25zLmlzUElOQXV0aGVudGljYXRpb24pIHtcbiAgICAgIG1vZHVsZS5waW5TY2hlbWEgPSBbXTtcbiAgICAgIHZhciBwaW5TY2hlbWEgPSB1dGlsLmZpbmRJblNjaGVtYShsck9wdGlvbnMuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ25hbWUnLCAncGluJyk7XG4gICAgICBpZiAoIXV0aWwuaXNFbXB0eShwaW5TY2hlbWEpKSB7XG4gICAgICAgIG1vZHVsZS5waW5TY2hlbWEucHVzaChwaW5TY2hlbWEpO1xuICAgICAgICBpZiAobHJPcHRpb25zLlBJTkNvbmZpZ3VyYXRpb24uSXNSZXF1aXJlZCAmJiAoIW1vZHVsZS5waW5TY2hlbWFbMF0ucnVsZXMgfHwgbW9kdWxlLnBpblNjaGVtYVswXS5ydWxlcy5pbmRleE9mKCdyZXF1aXJlZCcpID09PSAtMSkpIHtcbiAgICAgICAgICBtb2R1bGUucGluU2NoZW1hWzBdLnJ1bGVzID0gbW9kdWxlLnBpblNjaGVtYVswXS5ydWxlcyA/IFttb2R1bGUucGluU2NoZW1hWzBdLnJ1bGVzLCAncmVxdWlyZWQnXS5qb2luKCd8JykgOiAncmVxdWlyZWQnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25maXJtUGluU2NoZW1hID0gdXRpbC5maW5kSW5TY2hlbWEobHJPcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsICduYW1lJywgJ2NvbmZpcm1waW4nKTtcbiAgICAgICAgaWYgKCF1dGlsLmlzRW1wdHkoY29uZmlybVBpblNjaGVtYSkpIHtcbiAgICAgICAgICBtb2R1bGUucGluU2NoZW1hLnB1c2goY29uZmlybVBpblNjaGVtYSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS5sb2coJ1BpbiBzY2hlbWEgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxyT3B0aW9ucy5pc0NvbnNlbnRNYW5hZ2VtZW50RW5hYmxlZCkge1xuICAgICAgY29tbW9uRm5zLnNldENvbnNlbnRUZW1wbGF0ZSgpO1xuICAgIH1cbiAgICBsck9wdGlvbnMuZW1haWxPVFBBdXRoZW50aWNhdGlvbiA9IGFwcERhdGEuZW1haWxPVFBBdXRoZW50aWNhdGlvbjtcbiAgICBsck9wdGlvbnMuc21zT1RQQXV0aGVudGljYXRpb24gPSBhcHBEYXRhLnNtc09UUEF1dGhlbnRpY2F0aW9uO1xuICAgIGxyT3B0aW9ucy5kdW9BdXRoZW50aWNhdGlvbiA9IGFwcERhdGEuZHVvQXV0aGVudGljYXRpb247XG4gICAgbHJPcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdGlvbiA9IGFwcERhdGEuc2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0aW9uO1xuICAgIGxyT3B0aW9ucy50ZW1wbGF0ZVZlcmlmaWNhdGlvblR5cGVzID0gYXBwQ29uZmlnLlRlbXBsYXRlVmVyaWZpY2F0aW9uVHlwZXM7XG4gICAgbHJPcHRpb25zLnB1c2hOb3RpZmljYXRpb25BdXRoZW50aWNhdGlvbiA9IGFwcERhdGEucHVzaE5vdGlmaWNhdGlvbkF1dGhlbnRpY2F0b3I7XG4gICAgbHJPcHRpb25zLnBhc3NrZXlBdXRoZW50aWNhdGlvbiA9IGFwcERhdGEucGFzc2tleUF1dGhlbnRpY2F0b3I7XG4gIH1cblxuICB2YXIgY2FsbGJhY2tzID0gW107XG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uIGdldEFwcENvbmZpZ3VyYXRpb25cbiAgKiBAbWVtYmVyb2Ygc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMjXG4gICogQHBhcmFtIHtBcnJheX0gYXBwY2FsbGJhY2tDb25maWcgbG9jYWwgYXJyYXkgdmFyaWFibGVcbiAgKiBAZGVzY3JpcHRpb24gR2V0IGxyIGFwcCBjb25maWd1cmF0aW9uIG9iamVjdCBwcm9wZXJ0aWVzXG4gICovXG4gIGZ1bmN0aW9uIGdldEFwcENvbmZpZ3VyYXRpb24gKGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIG1vZHVsZS5vcHRpb25zID0gdXRpbC5tZXJnZU9wdGlvbnMobW9kdWxlLm9wdGlvbnMsIGxyT3B0aW9ucyk7XG5cbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5hcGlDdXN0b21Eb21haW4pIHtcbiAgICAgICAgdmFyIF9hcGlEb21haW4gPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbjtcbiAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gPSBfYXBpRG9tYWluLnJlcGxhY2UoL2h0dHBzOi4qXFwvaWRlbnRpdHkvLCAnaHR0cHM6Ly8nICsgbW9kdWxlLm9wdGlvbnMuYXBpQ3VzdG9tRG9tYWluICsgJy9pZGVudGl0eScpO1xuXG4gICAgICAgIHZhciBfc29jaWFsQXBpRG9tYWluID0gTG9naW5SYWRpdXNEZWZhdWx0cy5zb2NpYWxBcGlEb21haW47XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuc29jaWFsQXBpRG9tYWluID0gX3NvY2lhbEFwaURvbWFpbi5yZXBsYWNlKC9odHRwczouKlxcL2FwaS8sICdodHRwczovLycgKyBtb2R1bGUub3B0aW9ucy5hcGlDdXN0b21Eb21haW4gKyAnL2FwaScpO1xuICAgICAgfVxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmNsb3VkQXBpQ3VzdG9tRG9tYWluKSB7XG4gICAgICAgIHZhciBfY2xvdWRBcGlEb21haW4gPSBMb2dpblJhZGl1c0RlZmF1bHRzLmNsb3VkQXBpRG9tYWluO1xuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmNsb3VkQXBpRG9tYWluID0gX2Nsb3VkQXBpRG9tYWluLnJlcGxhY2UoL2h0dHBzOi4qXFwuY29tLywgJ2h0dHBzOi8vJyArIG1vZHVsZS5vcHRpb25zLmNsb3VkQXBpQ3VzdG9tRG9tYWluKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb3JnYW5pemF0aW9uRm9ybVJlbmRlciA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9uU3VjY2VzcywgY2xhc3NQcmVmaXgpIHtcbiAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0obW9kdWxlLm9yZ2FuaXphdGlvbkZvcm1TY2hlbWEsICdvcmdhbml6YXRpb24nLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdmFyIHBhcnNlZERhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICAgIG1vZHVsZS5vcHRpb25zLm9yZ2FuaXphdGlvbiA9IHBhcnNlZERhdGEub3JnYW5pemF0aW9ubmFtZTtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgdmFyIHRvUmVuZGVyT3JnYW5pemF0aW9uID0gbW9kdWxlLm9wdGlvbnMuaXNCMkJFbmFibGVkID8gKG1vZHVsZS5vcHRpb25zLnByb21wdE9yZ2FuaXphdGlvbiA/IG1vZHVsZS5vcHRpb25zLm9yZ2FuaXphdGlvbiA6IHRydWUpIDogdHJ1ZTtcbiAgICAgIGlmICghbW9kdWxlLmlzQXBpQ2FsbGluZ1N0YXJ0ZWQgJiYgIXRvUmVuZGVyT3JnYW5pemF0aW9uKSB7XG4gICAgICAvLyBtb2R1bGUub3B0aW9ucyA9IGxyT3B0aW9ucztcbiAgICAgICAgbW9kdWxlLmlzQXBpQ2FsbGluZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBpZiAobW9kdWxlLnVzZXJhY3Rpb24gPT09ICdvcmdhbml6YXRpb24nKSB7XG4gICAgICAgICAgb3JnYW5pemF0aW9uRm9ybVJlbmRlcihtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbbW9kdWxlLnVzZXJhY3Rpb25dLmNvbnRhaW5lciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2V0QXBwQ29uZmlndXJhdGlvbihmdW5jdGlvbiAoYXBwQ29uZmlnKSB7XG4gICAgICAgICAgICAgIGlmICghYXBwQ29uZmlnLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdsb2dpbnJhZGl1cy1vcmdhbml6YXRpb24nKVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbbW9kdWxlLnVzZXJhY3Rpb25dLm9uU3VjY2VzcyhhcHBDb25maWcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5pc0FwaUNhbGxpbmdTdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW21vZHVsZS51c2VyYWN0aW9uXS5vbkVycm9yKGFwcENvbmZpZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1ttb2R1bGUudXNlcmFjdGlvbl0uY2xhc3NQcmVmaXggfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFtb2R1bGUuaXNBcGlDYWxsaW5nU3RhcnRlZCAmJiB0b1JlbmRlck9yZ2FuaXphdGlvbikge1xuICAgICAgICBtb2R1bGUuaXNBcGlDYWxsaW5nU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgdmFyIF9vcmdOYW1lID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPcmdhbml6YXRpb24pO1xuICAgICAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgICAgIGlmIChtb2R1bGUuTG9naW5SYWRpdXNIb3N0ZWRQYWdlKSB7XG4gICAgICAgICAgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZSgnbHItc2Vzc2lvbi10b2tlbicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmNvbmZpZ0FwaURvbWFpbiArICdhcHBJbmZvP2FwaWtleT0nICsgbHJPcHRpb25zLmFwaUtleTtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzQjJCRW5hYmxlZCkge1xuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5vcmdhbml6YXRpb24pIHtcbiAgICAgICAgICAgIHVybCArPSAnJm9yZ19uYW1lPScgKyBtb2R1bGUub3B0aW9ucy5vcmdhbml6YXRpb247XG4gICAgICAgICAgfSBlbHNlIGlmIChfb3JnTmFtZSAmJiB0b2tlbikge1xuICAgICAgICAgICAgdXJsICs9ICcmb3JnX25hbWU9JyArIF9vcmdOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICB1cmwgKz0gJyZhdXRvbG9va3VwcHJvdmlkZXJzPXRydWUnO1xuICAgICAgICB9XG4gICAgICAgIHV0aWwuYWpheENhbGwoJ2dldCcsIHVybCwgJycsIGZ1bmN0aW9uIChhcHBDb25maWcpIHtcbiAgICAgICAgICB2YXIgY29uZmlnSGFuZGxlciA9IGZ1bmN0aW9uIChhcHBDb25maWcpIHtcbiAgICAgICAgICAgIGlmICghYXBwQ29uZmlnLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5yZW1vdmVCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZE9yZ2FuaXphdGlvbik7XG4gICAgICAgICAgICAgIGlmIChhcHBDb25maWcuT3JnYW5pemF0aW9uICYmIGFwcENvbmZpZy5Pcmdhbml6YXRpb24uTmFtZSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkT3JnYW5pemF0aW9uLCBhcHBDb25maWcuT3JnYW5pemF0aW9uLk5hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1hcE9wdGlvbnMoYXBwQ29uZmlnKTtcblxuICAgICAgICAgICAgICBsck9wdGlvbnMgPSB1dGlsLm1lcmdlT3B0aW9ucyhsckRlZmF1bHRPcHRpb25zLCBsck9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmlzQXBpQ2FsbGluZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZHVsZS5vcHRpb25zID0gbHJPcHRpb25zO1xuICAgICAgICAgICAgbW9kdWxlLmFwcENvbmZpZ0luZm9DYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2tzW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldKGFwcENvbmZpZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChhcHBDb25maWcuSXNBdXRvTG9va1VwRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgbG9va3VwRm9ybVJlbmRlciA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUubG9va3VwRm9ybVNjaGVtYSwgJ2xvb2t1cGRvbWFpbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYWZ0ZXJGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIF9jb250YWluZXIsIF9jbGFzc1ByZWZpeCwgZm9ybSkge1xuICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdsb2dpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1swXS52YWx1ZSA9IHBhcnNlZERhdGEuZW1haWw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zICYmIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1snbG9naW4nXVsnY29udGFpbmVyJ10pIHtcbiAgICAgICAgICAgICAgY29uZmlnSGFuZGxlcihhcHBDb25maWcpO1xuICAgICAgICAgICAgICBsb29rdXBGb3JtUmVuZGVyKG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1snbG9naW4nXVsnY29udGFpbmVyJ10sIGZ1bmN0aW9uIChwYXJzZWREYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvb2t1cENhbGxiYWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGUubG9va3VwT3B0aW9ucyAmJiBtb2R1bGUubG9va3VwT3B0aW9ucy5Qcm92aWRlciAmJiBtb2R1bGUubG9va3VwT3B0aW9ucy5Qcm92aWRlci5FbmRwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBjb21tb25GbnMuYWRkU29jaWFsRW5kcG9pbnRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3ROYW1lID0gbW9kdWxlLnV0aWwuZ2V0VGhpc09iamVjdE5hbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93W29iamVjdE5hbWVdLnV0aWwub3BlbldpbmRvdyhkZWNvZGVVUklDb21wb25lbnQobW9kdWxlLmxvb2t1cE9wdGlvbnMuUHJvdmlkZXIuRW5kcG9pbnQgKyBxdWVyeSkpO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuaXNMb29rdXBBcGlDYWxsaW5nU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUubG9va3VwT3B0aW9ucyA9ICcnO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnSGFuZGxlcihhcHBDb25maWcpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBtb2R1bGUuZ2V0QXV0b0xvb2t1cERvbWFpbkNvbmZpZ3VyYXRpb24ocGFyc2VkRGF0YS5lbWFpbCwgbG9va3VwQ2FsbGJhY2tIYW5kbGVyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25maWdIYW5kbGVyKGFwcENvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZ0hhbmRsZXIoYXBwQ29uZmlnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sICdyZWdpc3RyYXRpb25TY2hlbWEnKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kdWxlLmlzQXBpQ2FsbGluZ1N0YXJ0ZWQpIHtcbiAgICAgICAgaWYgKG1vZHVsZS5hcHBDb25maWdJbmZvQ2FsbGVkKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobW9kdWxlLnVzZXJhY3Rpb24gPT09ICdsb2dvdXQnKSB7XG4gICAgICAgICAgICBtb2R1bGUuaXNBcGlDYWxsaW5nU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBtb2R1bGUubG9nKGUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb25zZW50Q2FsbGJhY2tzID0gW107XG4gIC8qKlxuICAqIEBmdW5jdGlvbiBnZXRDb25zZW50Q29uZmlndXJhdGlvblxuICAqIEBtZW1iZXJvZiBzZXRMb2dpblJhZGl1c01vZHVsZUZ1bmN0aW9ucyNcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBHZXQgbHIgY29uc2VudCBjb25maWd1cmF0aW9uIG9iamVjdCBwcm9wZXJ0aWVzXG4gICovXG4gIG1vZHVsZS5nZXRDb25zZW50Q29uZmlndXJhdGlvbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghbW9kdWxlLmlzQ29uc2VudEFwaUNhbGxpbmdTdGFydGVkICYmIG1vZHVsZS5jb25zZW50T3B0aW9ucyA9PT0gJycpIHtcbiAgICAgIG1vZHVsZS5pc0NvbnNlbnRBcGlDYWxsaW5nU3RhcnRlZCA9IHRydWU7XG4gICAgICBjb25zZW50Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5jb25maWdBcGlEb21haW4gKyAnY29uc2VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBtb2R1bGUuY29uc2VudE9wdGlvbnMgPSB7fTtcbiAgICAgICAgICBtb2R1bGUuY29uc2VudHNMaXN0ID0ge307XG4gICAgICAgICAgdmFyIGV2ZW50S2V5ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXNwb25zZVtpXS5FdmVudHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgZXZlbnRLZXkgPSByZXNwb25zZVtpXS5FdmVudHNbal0uTmFtZTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlW2ldLkV2ZW50c1tqXS5Jc0N1c3RvbSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRLZXkgPSAnY3VzdG9tXycgKyBldmVudEtleTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBtb2R1bGUuY29uc2VudE9wdGlvbnNbZXZlbnRLZXldID0ge307XG4gICAgICAgICAgICAgIG1vZHVsZS5jb25zZW50T3B0aW9uc1tldmVudEtleV0uQ29uc2VudEZvcm0gPSByZXNwb25zZVtpXS5Db25zZW50Rm9ybTtcbiAgICAgICAgICAgICAgbW9kdWxlLmNvbnNlbnRPcHRpb25zW2V2ZW50S2V5XS5UZXJtT2ZTZXJ2aWNlID0gcmVzcG9uc2VbaV0uVGVybU9mU2VydmljZTtcbiAgICAgICAgICAgICAgbW9kdWxlLmNvbnNlbnRPcHRpb25zW2V2ZW50S2V5XS5Qcml2YWN5UG9saWN5ID0gcmVzcG9uc2VbaV0uUHJpdmFjeVBvbGljeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzcG9uc2VbaV0uQ29uc2VudEZvcm0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgdmFyIGNvbnNlbnRGb3JtID0gcmVzcG9uc2VbaV0uQ29uc2VudEZvcm1ba107XG4gICAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgY29uc2VudEZvcm0uQ29uc2VudHMubGVuZ3RoOyBtKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1vZHVsZS5jb25zZW50c0xpc3RbY29uc2VudEZvcm0uQ29uc2VudHNbbV0uQ29uc2VudElkXSkge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLmNvbnNlbnRzTGlzdFtjb25zZW50Rm9ybS5Db25zZW50c1ttXS5Db25zZW50SWRdID0gY29uc2VudEZvcm0uQ29uc2VudHNbbV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgY29uc2VudENhbGxiYWNrcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgY29uc2VudENhbGxiYWNrc1tsXShtb2R1bGUuY29uc2VudE9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUuaXNDb25zZW50QXBpQ2FsbGluZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtb2R1bGUuaXNDb25zZW50QXBpQ2FsbGluZ1N0YXJ0ZWQpIHtcbiAgICAgIGlmIChtb2R1bGUuY29uc2VudE9wdGlvbnMgIT09ICcnKSB7XG4gICAgICAgIGNhbGxiYWNrKG1vZHVsZS5jb25zZW50T3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zZW50Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgbG9va3VwQ2FsbGJhY2tzID0gW107XG4gIG1vZHVsZS5nZXRBdXRvTG9va3VwRG9tYWluQ29uZmlndXJhdGlvbiA9IGZ1bmN0aW9uIChlbWFpbCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIW1vZHVsZS5pc0xvb2t1cEFwaUNhbGxpbmdTdGFydGVkICYmIG1vZHVsZS5sb29rdXBPcHRpb25zID09PSAnJykge1xuICAgICAgbW9kdWxlLmlzTG9va3VwQXBpQ2FsbGluZ1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgbG9va3VwQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5jb25maWdBcGlEb21haW4gKyAnbG9va3VwP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZlbWFpbD0nICsgZW1haWwsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgbW9kdWxlLmxvb2t1cE9wdGlvbnMgPSByZXNwb25zZTtcbiAgICAgICAgICBsb29rdXBDYWxsYmFja3NbMF0obW9kdWxlLmxvb2t1cE9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZS5pc0xvb2t1cEFwaUNhbGxpbmdTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobW9kdWxlLmlzTG9va3VwQXBpQ2FsbGluZ1N0YXJ0ZWQpIHtcbiAgICAgIGlmIChtb2R1bGUubG9va3VwT3B0aW9ucyAhPT0gJycpIHtcbiAgICAgICAgY2FsbGJhY2sobW9kdWxlLmxvb2t1cE9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9va3VwQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2Ygc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMjXG4gICogQGRlc2NyaXB0aW9uIFNldCBsciBhcHAgY29uZmlndXJhdGlvbiBvbiBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbiBvYmplY3RcbiAgKi9cbiAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24gPSBnZXRBcHBDb25maWd1cmF0aW9uO1xuXG4gIC8qKlxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgbW9kdWxlLnByb2dyZXNzaXZlUHJvZmlsaW5nIG9iamVjdFxuICAqL1xuICBtb2R1bGUucHJvZ3Jlc3NpdmVQcm9maWxpbmcgPSBuZXcgTFJOYW1lU3BhY2UuUHJvZ3Jlc3NpdmVQcm9maWxpbmcobW9kdWxlLCBjb21tb25GbnMsIGNvbnRyb2xsZXJzLCBMb2dpblJhZGl1c0RlZmF1bHRzKTtcblxuICAvKipcbiAgKiBAZnVuY3Rpb24gcHJvZ3Jlc3NpdmVQcm9maWxpbmcuaW5pdFxuICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplIHByb2dyZXNzaXZlUHJvZmlsaW5nXG4gICovXG4gIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZy5mZXRjaFNjaGVtYShmdW5jdGlvbiAocHNjaGVtYSkge1xuICAgICAgICBtb2R1bGUucHJvZ3Jlc3NpdmVQcm9maWxpbmdTY2hlbWEgPSBwc2NoZW1hO1xuICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdyZWdpc3RyYXRpb25TY2hlbWFGaWx0ZXInLCBmdW5jdGlvbiAocmVnU2NoZW1hLCB1c2VyUHJvZmlsZSkge1xuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wcm9ncmVzc2l2ZVByb2ZpbGluZ1RyYWRpdGlvbmFsKSB7XG4gICAgICAgICAgICBtb2R1bGUuTG9nZ2VkaW5Tb2NpYWxQcm92ZGVyUHJvZmlsZSA9IHVzZXJQcm9maWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAncHJvZ3Jlc3NpdmVQcm9maWxpbmdTY2hlbWEnKTtcbiAgICB9O1xuICAgIGdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xuICB9O1xufVxuXG4vKipcbiogQGZ1bmN0aW9uIExvZ2luUmFkaXVzSG9va3NNb2RlbFxuKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIGxyIG1vZHVsZSBvYmplY3RcbiogQGRlc2NyaXB0aW9uIEluaXRpYWxpemF0aW9uIG9mIExvZ2luUmFkaXVzIEhvb2tzXG4qL1xuZnVuY3Rpb24gTG9naW5SYWRpdXNIb29rc01vZGVsIChtb2R1bGUpIHtcbiAgLy8gc3RhcnQgaG9vayBtb2RlbFxuICB2YXIgdXRpbCA9IG1vZHVsZS51dGlsO1xuICB2YXIgbWVzc2FnZXMgPSBMb2dpblJhZGl1c0RlZmF1bHRzLm1lc3NhZ2VzO1xuXG4gIC8qKlxuICAqIEluaXRpYWxpemUgbHIgaG9va3Mgb2JqZWN0IG1vZHVsZS5cbiAgKiBIb29rcyBwcm92aWRlaW5nIGN1c3RvbWl6YXRpb25zIG9uIExvZ2luUmFkaXVzIFVzZXIgUmVnaXN0cmF0aW9uIEludGVyZmFjZSBjb25maWd1cmVkIG9uIHlvdXIgcGFnZVxuICAqIEBtb2R1bGUgJGhvb2tzXG4gICovXG4gIG1vZHVsZS4kaG9va3MgPSB7XG4gICAgaG9va3M6IFtdLFxuICAgIC8qKlxuICAgICogQG1ldGhvZCByZWdpc3RlclxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgaG9va3MgYWN0aW9uXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvblxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHByaW9yaXR5IHByaW9yaXR5IG9mIGNhbGxpbmcgaG9va3NcbiAgICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplIGxyIGhvb2tzIHJlZ2lzdGVyIGZ1bmN0aW9uXG4gICAgKi9cbiAgICByZWdpc3RlcjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBwcmlvcml0eSkge1xuICAgICAgaWYgKHR5cGVvZiBtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdID0gW107XG4gICAgICB9XG4gICAgICBpZiAocGFyc2VJbnQocHJpb3JpdHksIDEwKSA9PT0gcHJpb3JpdHkpIHsgLy8gc2hvdWxkIGJlIGEgdmFsaWQgaW50ZWdlclxuICAgICAgICBpZiAobW9kdWxlLiRob29rcy5ob29rc1tuYW1lXS5sZW5ndGggPiBwcmlvcml0eSArIDEpIHtcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdLnNwbGljZShwcmlvcml0eSwgMCwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAqIEBtZXRob2QgY2FsbFxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgaG9va3MgYWN0aW9uXG4gICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZSBsciBob29rcyBjYWxsIGZ1bmN0aW9uXG4gICAgKi9cbiAgICBjYWxsOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIGlmICh0eXBlb2YgbW9kdWxlLiRob29rcy5ob29rc1tuYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV0ubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICBpZiAobW9kdWxlLiRob29rcy5ob29rc1tuYW1lXSAmJiBtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdW2ldKSB7XG4gICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdW2ldLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnYWRkRXZlbnRPbkVsZW1lbnQnIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGFueSBvZiB0aGUgZm9ybSBlbGVtZW50cyBnZW5lcmF0ZWQgYnkgTG9naW5SYWRpdXNWMi5qcyBhbmQgYXR0YWNoIHRoZW0gdG8gYW4gZXZlbnQgc28gdGhhdCB5b3UgY2FuIGhhbmRsZSB0aGVtIGZ1cnRoZXIuXG4gICAqL1xuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZGRFdmVudE9uRWxlbWVudCcsIGZ1bmN0aW9uIChldmVudHNPYmopIHtcbiAgICB1dGlsLmV4dGVuZChtb2R1bGUuZXZlbnRzTmFtZSwgZXZlbnRzT2JqKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnbWFwRXJyb3JNZXNzYWdlcycgaG9vay5cbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgaG9vayBhbGxvd3MgeW91IHRvIHdyaXRlIGN1c3RvbSBlcnJvciBtZXNzYWdlcyBhbmQgZGVzY3JpcHRpb25zIGJhc2VkIG9uIHRoZSBlcnJvciBjb2RlIGdlbmVyYXRlZCBieSBMb2dpblJhZGl1cy5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ21hcEVycm9yTWVzc2FnZXMnLFxuICAgIGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgIGlmIChtc2cuY29kZSAmJiBtc2cubWVzc2FnZSkge1xuICAgICAgICBtb2R1bGUuZXJyb3JNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHV0aWwuaXNBcnJheShtc2cpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1zZ1tpXS5jb2RlICYmIG1zZ1tpXS5tZXNzYWdlKSB7XG4gICAgICAgICAgICBtb2R1bGUuZXJyb3JNZXNzYWdlcy5wdXNoKG1zZ1tpXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihtZXNzYWdlcy5ub3RWYWxpZE1lc3NhZ2UpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgICBtb2R1bGUubG9nKG1lc3NhZ2VzLm5vdFZhbGlkTWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXMubm90VmFsaWRNZXNzYWdlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIG1vZHVsZS5sb2cobWVzc2FnZXMubm90VmFsaWRNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAncGFzc3dvcmRNZXRlckNvbmZpZ3VyYXRpb24nIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgd2lsbCBDb25maWd1cmUgdGhlIFBhc3N3b3JkIHN0cmVuZ3RoIHBhcmFtZXRlciB0byBVc2VyIFJlZ2lzdHJhdGlvbiBKUy5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ3Bhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uJyxcbiAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICBpZiAodXRpbC5pc0FycmF5KGNvbmZpZykpIHtcbiAgICAgICAgdXRpbC5leHRlbmQobW9kdWxlLnBhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uLCBjb25maWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKHBhc3N3b3JkU3RyZW5ndGhNZXNzYWdlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIG1vZHVsZS5sb2cobWVzc2FnZXMucGFzc3dvcmRTdHJlbmd0aE1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgJ3NldEJ1dHRvbnNOYW1lJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIHByb3ZpZGVzIHlvdSB3aXRoIHF1aWNrIGFuZCBlYXN5IHdheSB0byBjdXN0b21pemUgdGhlIGJ1dHRvbiBuYW1lIG9mIHlvdXIgZm9ybS5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ3NldEJ1dHRvbnNOYW1lJyxcbiAgICBmdW5jdGlvbiAoYnV0dG9ucykge1xuICAgICAgdmFyIGtleTsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhidXR0b25zKTtcbiAgICAgIHZhciBuID0ga2V5cy5sZW5ndGg7XG4gICAgICB2YXIgYnV0dG9uc09iaiA9IHt9O1xuICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICBrZXkgPSBrZXlzW25dO1xuICAgICAgICBidXR0b25zT2JqW2tleS50b0xvd2VyQ2FzZSgpXSA9IGJ1dHRvbnNba2V5XTtcbiAgICAgIH1cbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5idXR0b25zTmFtZSwgYnV0dG9uc09iaik7XG4gICAgfSk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnbWFwVmFsaWRhdGlvbk1lc3NhZ2VzJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIGFsbG93cyB3cml0aW5nIGN1c3RvbSB2YWxpZGF0aW9uIG1lc3NhZ2UgYnkgcnVsZXMgZ2VuZXJhdGVkIGZyb20gTG9naW5SYWRpdXMuICVzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZmllbGQgbmFtZS5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ21hcFZhbGlkYXRpb25NZXNzYWdlcycsXG4gICAgZnVuY3Rpb24gKG1zZykge1xuICAgICAgaWYgKG1zZy5ydWxlICYmIG1zZy5tZXNzYWdlKSB7XG4gICAgICAgIG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXMucHVzaChtc2cpO1xuICAgICAgfSBlbHNlIGlmICh1dGlsLmlzQXJyYXkobXNnKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChtc2dbaV0ucnVsZSAmJiBtc2dbaV0ubWVzc2FnZSkge1xuICAgICAgICAgICAgbW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlcy5wdXNoKG1zZ1tpXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihtZXNzYWdlcy5ub3RWYWxpZE1lc3NhZ2UpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgICBtb2R1bGUubG9nKG1lc3NhZ2VzLm5vdFZhbGlkTWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXMubm90VmFsaWRNZXNzYWdlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIG1vZHVsZS5sb2cobWVzc2FnZXMubm90VmFsaWRNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlICdjdXN0b21pemVGb3JtTGFiZWwnIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgcHJvdmlkZXMgeW91IHdpdGggcXVpY2sgYW5kIGVhc3kgd2F5IHRvIGFjY2VzcyBhbmQgY3VzdG9taXNlIHRoZSBsYWJlbCBmb3IgeW91ciB1c2VyIHJlZ2lzdHJhdGlvbiBmb3JtLlxuICAgKi9cbiAgbW9kdWxlLiRob29rcy5yZWdpc3RlcihcbiAgICAnY3VzdG9taXplRm9ybUxhYmVsJyxcbiAgICBmdW5jdGlvbiAobGFiZWxzKSB7XG4gICAgICB1dGlsLmV4dGVuZChtb2R1bGUuZm9ybUN1c3RvbUxhYmVsLCBsYWJlbHMpO1xuICAgIH1cbiAgKTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlICdjdXN0b21pemVFbGVtZW50VGl0bGUnIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgcHJvdmlkZXMgeW91IHRvIGN1c3RvbWl6ZSBlbGVtZW50IHRpdGxlLlxuICAgKi9cbiAgbW9kdWxlLiRob29rcy5yZWdpc3RlcihcbiAgICAnY3VzdG9taXplRWxlbWVudFRpdGxlJyxcbiAgICBmdW5jdGlvbiAodGl0bGVzKSB7XG4gICAgICB1dGlsLmV4dGVuZChtb2R1bGUuZm9ybUVsZW1lbnRzVGl0bGUsIHRpdGxlcyk7XG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgJ2RlZmF1bHRDaG9pY2VPcHRpb24nIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgaGVscHMgeW91IHRvIHNldCB0aGUgZGVmYXVsdCB2YWx1ZSBpbiBkcm9wIGRvd24gZmllbGRzIGZvciByZWdpc3RyYXRpb24gc2VydmljZS5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ2RlZmF1bHRDaG9pY2VPcHRpb24nLFxuICAgIGZ1bmN0aW9uIChmaWVsZHMpIHtcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5kZWZhdWx0T3B0aW9uRmllbGQsIGZpZWxkcyk7XG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgJ2N1c3RvbWl6ZUZvcm1QbGFjZWhvbGRlcicgaG9vay5cbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgaG9vayBoZWxwcyB5b3Ugc2V0IHVwIGN1c3RvbWl6ZWQgcGxhY2Vob2xkZXJzIGZvciBmb3JtIGVsZW1lbnRzLlxuICAgKi9cbiAgbW9kdWxlLiRob29rcy5yZWdpc3RlcihcbiAgICAnY3VzdG9taXplRm9ybVBsYWNlaG9sZGVyJyxcbiAgICBmdW5jdGlvbiAocGxhY2Vob2xkZXJzKSB7XG4gICAgICB1dGlsLmV4dGVuZChtb2R1bGUuZm9ybVBsYWNlaG9sZGVyLCBwbGFjZWhvbGRlcnMpO1xuICAgIH1cbiAgKTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlICdmb3JtVmFsaWRhdGlvblJ1bGVzJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIGFsbG93cyB5b3UgdG8gYWRkIHZhbGlkYXRpb25zIHRvIHlvdXIgZm9ybSBmaWVsZHMuXG4gICAqL1xuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxuICAgICdmb3JtVmFsaWRhdGlvblJ1bGVzJyxcbiAgICBmdW5jdGlvbiAodmFsaWRhdGlvbnMpIHtcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtVmFsaWRhdGlvbnMsIHZhbGlkYXRpb25zKTtcbiAgICB9XG4gICk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnZm9ybUF0dHJpYnV0ZXMnIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgYWxsb3dzIHRvIGFwcGVuZCBjdXN0b20gYXR0cmlidXRlcyB0byBMb2dpblJhZGl1cyBmb3JtIGZpZWxkcywgdGhlc2UgYXR0cmlidXRlcyBhcmUgSFRNTCBhdHRyaWJ1dGUgdGhhdCBtb2RpZmllcyBhbiBIVE1MIGVsZW1lbnQgdHlwZS5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ2Zvcm1BdHRyaWJ1dGVzJyxcbiAgICBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgdXRpbC5leHRlbmQobW9kdWxlLmZvcm1FbGVtZW50QXR0cmlidXRlcywgYXR0cmlidXRlcyk7XG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgJ2J1dHRvbkF0dHJpYnV0ZXMnIGhvb2suXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgYWxsb3dzIHlvdSB0byBhZGQgdmFsaWRhdGlvbnMgdG8geW91ciBidXR0b24gZmllbGRzLlxuICAgKi9cbiAgbW9kdWxlLiRob29rcy5yZWdpc3RlcihcbiAgICAnYnV0dG9uQXR0cmlidXRlcycsXG4gICAgZnVuY3Rpb24gKGJ1dHRvbnMpIHtcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5idXR0b25FbGVtZW50cywgYnV0dG9ucyk7XG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgJ2FkZEZvcm1DYXB0Y2hhJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rcyB3aWxsIGluc2VydCB5b3VyIGNhcHRjaGEgaW4gYSBzcGVjaWZpYyBkaXYgYW5kIHBhc3MgaXQgYSBjYWxsIGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxuICAgICdhZGRGb3JtQ2FwdGNoYScsXG4gICAgZnVuY3Rpb24gKGNvbnRhaW5lciwgY2FsbGFiY2ssIHR5cGUsIGNhcHRjaGFJZE5hbWUpIHtcbiAgICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICBtb2R1bGUub3B0aW9uc1t0eXBlXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY2FwdGNoYWlkID0gY2FwdGNoYUlkTmFtZSB8fCBjb250YWluZXIgKyAncmVjYXB0Y2hhX3dpZGdldCc7XG4gICAgICAgIC8vIHZhciBkb21SZWNhcHRjaGEgPSB1dGlsLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkLCB0cnVlKTtcbiAgICAgICAgdXRpbC5hZGRSZWNhcHRjaGFKUygpO1xuICAgICAgICB2YXIgc2NoZW1hID0gW107XG4gICAgICAgIGlmICghbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQpKSB7XG4gICAgICAgICAgdXRpbC5jYXB0Y2hhU2NoZW1hKHJlY2FwdGNoYWlkLCBzY2hlbWEsIGZhbHNlLCBjYWxsYWJjayk7XG4gICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnbmFtZScsIHNjaGVtYVswXS5uYW1lKTtcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhICYmIGNhbGxhYmNrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGNhbGxhYmNrLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgICAgICAgIHZhciByZWcgPSAvZnVuY3Rpb24gKFteXFwoXSopLztcbiAgICAgICAgICAgIG5hbWUgPSByZWcuZXhlYyhuYW1lKVsxXTtcbiAgICAgICAgICAgIHNjaGVtYVswXS5odG1sID0gc2NoZW1hWzBdLmh0bWwucmVwbGFjZSgnb25DYXB0Y2hhU3VibWl0JywgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gc2NoZW1hWzBdLmh0bWw7XG4gICAgICAgICAgdXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGVsZW0sIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHV0aWwucmVuZGVyVjJSZWNhcHRjaGEocmVjYXB0Y2hhaWQsIGZhbHNlLCBjYWxsYWJjayk7XG4gICAgICB9KTtcbiAgICB9XG4gICk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnYWRkRm9ybUNhcHRjaGFFeGVjdXRlJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gV2hlbiB1c2luZyBHb29nbGUncyBJbnZpc2libGUgcmVDQVBUQ0hBIG9yIFRlbmNlbnQgQ2FwdGNoYSB5b3UgYWxzbyBoYXZlIHRvIGV4Y3V0ZSB0aGUgY2FwdGNoYSB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIHdpdGggdGhlIHRoaXMgaG9vay5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXG4gICAgJ2FkZEZvcm1DYXB0Y2hhRXhlY3V0ZScsXG4gICAgZnVuY3Rpb24gKGNvbnRhaW5lciwgdXNlU2FtZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciByZWNhcHRjaGFpZCA9IHVzZVNhbWUgPyBjb250YWluZXIgOiBjb250YWluZXIgKyAncmVjYXB0Y2hhX3dpZGdldCc7XG4gICAgICB2YXIgdGVuY2VudENhcHRjaGFJZCA9IHV0aWwuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnQnKTtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEpIHtcbiAgICAgICAgdmFyIG1haW5JbnR2YWxsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5oY2FwdGNoYSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLm9wdGlvbnMuaENhcHRjaGFTaXRlS2V5KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmhjYXB0Y2hhLmV4ZWN1dGUod2luZG93W3JlY2FwdGNoYWlkXSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIC8vIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1haW5JbnR2YWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGdyZWNhcHRjaGEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZ3JlY2FwdGNoYS5leGVjdXRlKHdpbmRvd1tyZWNhcHRjaGFpZF0pO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChtYWluSW50dmFsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkgeyBjbGVhckludGVydmFsKG1haW5JbnR2YWxsKTsgbW9kdWxlLmxvZyhlKTsgfVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfSBlbHNlIGlmICh0ZW5jZW50Q2FwdGNoYUlkICYmIHRlbmNlbnRDYXB0Y2hhSWQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIChtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYSB8fCAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrICYmICF3aW5kb3cuZ3JlY2FwdGNoYSkpKSB7XG4gICAgICAgIHRlbmNlbnRDYXB0Y2hhSWQuY2xpY2soKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMuaXNDYXB0Y2hhRW5hYmxlZCkge1xuICAgICAgICB2YXIgZVZhbCA9IHsgJ2Vycm9yJzogTG9naW5SYWRpdXNEZWZhdWx0cy5tZXNzYWdlcy5jYXB0Y2hhRXJyb3IgfTtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmhDYXB0Y2hhU2l0ZUtleSkge1xuICAgICAgICAgIHZhciBoVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwidGV4dGFyZWFbbmFtZSo9J2gtY2FwdGNoYS1yZXNwb25zZSddXCIpO1xuICAgICAgICAgIGlmIChoVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChoVmFsdWUudmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIHNWYWwgPSB7ICdzdWNjZXNzJzogaFZhbHVlLnZhbHVlIH07XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHNWYWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZVZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYVNpdGVLZXkpIHtcbiAgICAgICAgICB2YXIgZ1JlVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwidGV4dGFyZWFbbmFtZSo9J2ctcmVjYXB0Y2hhLXJlc3BvbnNlJ11cIik7XG4gICAgICAgICAgaWYgKGdSZVZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZ1JlVmFsdWUudmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIHNnVmFsID0geyAnc3VjY2Vzcyc6IGdSZVZhbHVlLnZhbHVlIH07XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHNnVmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGVWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICBmdW5jdGlvbiBoYW5kbGVTZWN1cml0eVF1ZXN0aW9uTG9ja291dCAoZGF0YSwgbmFtZSkge1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uRW5hYmxlZCkge1xuICAgICAgdmFyIHNlY3FkYXRhID0gdXRpbC5qc29uVG9RdWVyeVN0cmluZyhKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSk7XG4gICAgICBjb250cm9sbGVycy5nZXRTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXIoc2VjcWRhdGEsIGZ1bmN0aW9uIChfc3NjaGVtYSkge1xuICAgICAgICBpZiAoX3NzY2hlbWEubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3NzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzZWNxZGF0YS5pbmRleE9mKF9zc2NoZW1hW2ldLm5hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgICBfc3NjaGVtYS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChfc3NjaGVtYS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIHZhciB2YWxpZGF0ZVNjaGVtYSA9IFtdO1xuICAgICAgICAgIHZhciBwcmVmaXggPSBtb2R1bGUuTFJQcmVmaXguc3BsaXQoJyMjJyk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgdmFyIGNvbW1vbkZucyA9IG5ldyBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyhtb2R1bGUpO1xuICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtRmllbGRzKF9zc2NoZW1hLCBkaXYsIG5hbWUsIHZhbGlkYXRlU2NoZW1hLCBwcmVmaXhbMF0sIHByZWZpeFsxXSk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ld1xuICAgICAgICAgIG5ldyBGb3JtVmFsaWRhdG9yKHByZWZpeFsxXSArIG5hbWUsIHZhbGlkYXRlU2NoZW1hLCBmdW5jdGlvbiAoX2Vycm9ycykge1xuICAgICAgICAgICAgbW9kdWxlLm1lcmdlRm9ybUVycm9ycyA9IHt9O1xuICAgICAgICAgICAgbW9kdWxlLm1lcmdlRm9ybUVycm9ycyA9IF9lcnJvcnM7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc3RhcnRQcm9jZXNzJywgZnVuY3Rpb24gKGFjdGlvbiwgX2RhdGEpIHtcbiAgICAgICAgICAgIHZhciBzZWNBbnMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3NzY2hlbWEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgaWYgKF9kYXRhICYmIF9kYXRhW19zc2NoZW1hW2pdLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgc2VjQW5zW19zc2NoZW1hW2pdLm5hbWVdID0gX2RhdGFbX3NzY2hlbWFbal0ubmFtZV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIF9kYXRhW19zc2NoZW1hW2pdLm5hbWVdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2RhdGEpIHtcbiAgICAgICAgICAgICAgX2RhdGEuc2VjdXJpdHlhbnN3ZXIgPSBzZWNBbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoJycsIGRpdiwgdHJ1ZSwgbmFtZSwgcHJlZml4WzBdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2FwdGNoYUVycm9yUmVzcG9uc2UgKHJlY2FwdGNoYWlkKSB7XG4gICAgdmFyIGRvbVJlY2FwdGNoYSA9IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkLCB0cnVlKTtcbiAgICBpZiAoZG9tUmVjYXB0Y2hhKSB7XG4gICAgICBkb21SZWNhcHRjaGEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuZ3JlY2FwdGNoYSAmJiBkb21SZWNhcHRjaGEgJiYgZG9tUmVjYXB0Y2hhLmlubmVySFRNTCAhPT0gJycpIHtcbiAgICAgIGdyZWNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSA9IHRydWU7XG4gICAgICBtb2R1bGUudXRpbC5yZW5kZXJWMlJlY2FwdGNoYShyZWNhcHRjaGFpZCwgZmFsc2UpO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdzdWNjZXNzQ2FsbGJhY2snLCBmdW5jdGlvbiAoYWN0aW9uLCByZXN1bHQsIGRhdGEpIHtcbiAgICB2YXIgbmFtZSA9ICcnO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3NldEN1cnJlbnRBY3Rpb24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKCdMUlNldFNhZmFyaVRva2VuJywgYWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgbmFtZSA9IGFjdGlvbi50b0xvd2VyQ2FzZSgpID09PSAndmVyaWZ5b3RwJyA/ICdvdHAnIDogYWN0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICBpZiAocmVzdWx0LkVycm9yQ29kZSA9PSAnMTEzMicpIHtcbiAgICAgIGlmIChtb2R1bGUuTFJDaGVja0xvZ2luIHx8ICFtb2R1bGUuTFJDaGVjazJGQSB8fCAobW9kdWxlLkxSQ2hlY2syRkEgJiYgYWN0aW9uID09PSAndHdvZmFvdHAnKSkge1xuICAgICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhICYmICFtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgJiYgIW1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhICYmICFtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYUFzRmFsbGJhY2spIHtcbiAgICAgICAgICBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT09ICd2ZXJpZnllbWFpbCcpIHtcbiAgICAgICAgICB1dGlsLmVsZW1lbnRCeUlkKCdsb2dpbnJhZGl1cy1zdWJtaXQtdmVyaWZ5Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY2FwdGNoYWlkID0gbW9kdWxlLkxSUHJlZml4LnJlcGxhY2UoJyMjJywgJycpICsgJ3JlY2FwdGNoYV93aWRnZXRfJyArIG5hbWU7XG4gICAgICAgIGhhbmRsZUNhcHRjaGFFcnJvclJlc3BvbnNlKHJlY2FwdGNoYWlkKTtcbiAgICAgIH1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5FcnJvckNvZGUgPT0gJzExNDgnIHx8IHJlc3VsdC5FcnJvckNvZGUgPT0gJzExNjUnKSB7XG4gICAgICB2YXIgX2RhdGEgPSB1dGlsLnBhcnNlU3RyaW5nKGRhdGEpO1xuICAgICAgaWYgKF9kYXRhICYmICFfZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc2VjdXJpdHlhbnN3ZXInKSkge1xuICAgICAgICBoYW5kbGVTZWN1cml0eVF1ZXN0aW9uTG9ja291dChkYXRhLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5FcnJvckNvZGUgPT0gJzExOTQnKSB7XG4gICAgICBoYW5kbGVQcml2YWN5UG9saWN5QWNjZXB0KHJlc3VsdCwgYWN0aW9uKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5FcnJvckNvZGUgPT0gJzEyNDMnKSB7XG4gICAgICBoYW5kbGVQSU5Db25maWd1cmF0aW9uKHJlc3VsdCwgYWN0aW9uKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgfSBlbHNlIGlmIChyZXN1bHQuRXJyb3JDb2RlID09PSAxMjI2ICYmIHJlc3VsdC5EYXRhICYmIHJlc3VsdC5EYXRhLkNvbnNlbnRUb2tlbiAmJiAhbW9kdWxlLmxyQXBpRnJhbWV3b3JrKSB7XG4gICAgICBtb2R1bGUuZ2V0Q29uc2VudENvbmZpZ3VyYXRpb24oZnVuY3Rpb24gKGNvbnNlbnRPYmplY3QpIHtcbiAgICAgICAgaGFuZGxlQ29uc2VudENvbmZpZ3VyYXRpb24ocmVzdWx0LCBhY3Rpb24sIGNvbnNlbnRPYmplY3QpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGVDb25zZW50Q29uZmlndXJhdGlvbiAocmVzdWx0LCBhY3Rpb24sIGNvbnNlbnRPYmplY3QpIHtcbiAgICB2YXIgY29uc2VudFRva2VuID0gcmVzdWx0LkRhdGEuQ29uc2VudFRva2VuO1xuICAgIHZhciBhY2NlcHRlZENvbnNlbnRzO1xuICAgIGlmIChyZXN1bHQuRGF0YS5Db25zZW50UHJvZmlsZSAmJiByZXN1bHQuRGF0YS5Db25zZW50UHJvZmlsZS5Db25zZW50cyAmJiByZXN1bHQuRGF0YS5Db25zZW50UHJvZmlsZS5Db25zZW50cy5PcHRpb25zKSB7XG4gICAgICBhY2NlcHRlZENvbnNlbnRzID0gcmVzdWx0LkRhdGEuQ29uc2VudFByb2ZpbGUuQ29uc2VudHMuT3B0aW9ucztcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGNvbW1vbkZucyA9IG5ldyBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyhtb2R1bGUpO1xuICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgY29tbW9uRm5zKTtcbiAgICB2YXIgY29uc2VudERhdGEgPSAnJztcbiAgICB2YXIgZXZlbnRzQXJyYXkgPSBbXTtcbiAgICB2YXIgY29uc2VudEV2ZW50RGF0YSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LkRhdGEuRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBldmVudHNBcnJheS5wdXNoKHJlc3VsdC5EYXRhLkV2ZW50c1tpXS5OYW1lKTtcbiAgICB9XG4gICAgbW9kdWxlLiRob29rcy5jYWxsKCdnZXRDdXJyZW50QWN0aW9uT3B0aW9ucycsIGFjdGlvbik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgdmFyIG9uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICB2YXIgX2NsYXNzUHJlZml4ID0gJyc7XG4gICAgdmFyIF9jb250YWluZXIgPSAnJztcbiAgICBpZiAobW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl0pIHtcbiAgICAgIG9uU3VjY2VzcyA9IG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1thY3Rpb25dLm9uU3VjY2VzcyB8fCBvblN1Y2Nlc3M7XG4gICAgICBvbkVycm9yID0gbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl0ub25FcnJvciB8fCBvbkVycm9yO1xuICAgICAgX2NsYXNzUHJlZml4ID0gbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl0uY2xhc3NQcmVmaXggfHwgX2NsYXNzUHJlZml4O1xuICAgICAgX2NvbnRhaW5lciA9IG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1thY3Rpb25dLmNvbnRhaW5lciB8fCAnJztcbiAgICB9XG4gICAgX2NvbnRhaW5lciA9IF9jb250YWluZXIgfHwgbW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lcjtcblxuICAgIHZhciBzaG93Q29uc2VudEZvcm1zID0gZnVuY3Rpb24gKF9jb25zZW50T2JqZWN0LCBldmVudE5hbWUpIHtcbiAgICAgIHZhciBjb25zZW50U2NoZW1hID0gW107XG4gICAgICB2YXIgY29uc2VudEludGVyZmFjZSA9IGNvbW1vbkZucy5jcmVhdGVDb25zZW50SW50ZXJmYWNlKF9jb25zZW50T2JqZWN0W2V2ZW50TmFtZV0sIGFjY2VwdGVkQ29uc2VudHMpO1xuICAgICAgaWYgKGNvbnNlbnRJbnRlcmZhY2UgIT09ICcnKSB7XG4gICAgICAgIGNvbnNlbnRTY2hlbWEucHVzaCh7XG4gICAgICAgICAgJ2h0bWwnOiBjb25zZW50SW50ZXJmYWNlLFxuICAgICAgICAgICd0eXBlJzogJ2h0bWwnLFxuICAgICAgICAgICduYW1lJzogJ2NvbnNlbnQnXG4gICAgICAgIH0pO1xuICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShjb25zZW50U2NoZW1hLCAnY29uc2VudGxvZ2luJywgX2NvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgZXJyb3JzID0gY29tbW9uRm5zLmNvbnNlbnRWYWxpZGF0aW9uKGRhdGEsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zZW50RGF0YSA9IGNvbnNlbnREYXRhID8gY29uc2VudERhdGEgKyAnJicgKyBkYXRhIDogZGF0YTtcbiAgICAgICAgICAgIGNvbnNlbnRFdmVudERhdGEucHVzaCh7XG4gICAgICAgICAgICAgICdFdmVudCc6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgJ0lzQ3VzdG9tJzogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXZlbnRzQXJyYXkuc3BsaWNlKDAsIDEpO1xuICAgICAgICAgICAgaWYgKGV2ZW50c0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2hvd0NvbnNlbnRGb3JtcyhfY29uc2VudE9iamVjdCwgZXZlbnRzQXJyYXlbMF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIG9iakRhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGNvbnNlbnREYXRhKTtcbiAgICAgICAgICAgICAgdmFyIGNvbnNlbnRPcHRpb25zID0gW107XG4gICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmpEYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0xleSA9IGtleS5yZXBsYWNlKCdjb25zZW50XycsICcnKTtcbiAgICAgICAgICAgICAgICBjb25zZW50T3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICdDb25zZW50T3B0aW9uSWQnOiBuZXdMZXksXG4gICAgICAgICAgICAgICAgICAnSXNBY2NlcHRlZCc6IG9iakRhdGFba2V5XVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9iakRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgaWYgKGNvbnNlbnRPcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBvYmpEYXRhWydFdmVudHMnXSA9IGNvbnNlbnRFdmVudERhdGE7XG4gICAgICAgICAgICAgICAgb2JqRGF0YVsnRGF0YSddID0gY29uc2VudE9wdGlvbnM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udHJvbGxlcnMuc3VibWl0Q29uc2VudENvbnRyb2xsZXIoY29uc2VudFRva2VuLCBvYmpEYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jb250YWluZXIsIF9jbGFzc1ByZWZpeCwgYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChhY3Rpb24gPT09ICdzb2NpYWxMb2dpbicpIHtcbiAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc29jaWFsTG9naW5Gb3JtUmVuZGVyJyk7XG4gICAgfVxuICAgIHNob3dDb25zZW50Rm9ybXMoY29uc2VudE9iamVjdCwgZXZlbnRzQXJyYXlbMF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUElOQ29uZmlndXJhdGlvbiAocmVzdWx0LCBhY3Rpb24pIHtcbiAgICBpZiAobW9kdWxlLnBpblNjaGVtYSAmJiBtb2R1bGUucGluU2NoZW1hLmxlbmd0aCkge1xuICAgICAgdmFyIHBpbkF1dGhUb2tlbiA9IHJlc3VsdC5EYXRhLlBJTkF1dGhUb2tlbjtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgdmFyIGNvbW1vbkZucyA9IG5ldyBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyhtb2R1bGUpO1xuICAgICAgY29tbW9uRm5zLnNldFBJTlJ1bGUodXRpbC5maW5kSW5TY2hlbWEobW9kdWxlLnBpblNjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBpbicpKTtcbiAgICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgY29tbW9uRm5zKTtcbiAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnZ2V0Q3VycmVudEFjdGlvbk9wdGlvbnMnLCBhY3Rpb24pO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICB2YXIgb25TdWNjZXNzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgIHZhciBfY2xhc3NQcmVmaXggPSAnJztcbiAgICAgIGlmIChtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXSkge1xuICAgICAgICBvblN1Y2Nlc3MgPSBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXS5vblN1Y2Nlc3MgfHwgb25TdWNjZXNzO1xuICAgICAgICBvbkVycm9yID0gbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl0ub25FcnJvciB8fCBvbkVycm9yO1xuICAgICAgICBfY2xhc3NQcmVmaXggPSBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXS5jbGFzc1ByZWZpeCB8fCBfY2xhc3NQcmVmaXg7XG4gICAgICB9XG4gICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUucGluU2NoZW1hLCAncGluU2V0dXAnLCBtb2R1bGUuY3VycmVudExSQ29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBjb250cm9sbGVycy5jb25maWd1cmVQSU5Db250cm9sbGVyKHBpbkF1dGhUb2tlbiwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBtb2R1bGUuY3VycmVudExSQ29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZHVsZS5sb2coJ1BpbiBTY2hlbWEgaXMgbm90IGRlZmluZWQgaW4gdGhlIHNjaGVtYScpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVByaXZhY3lQb2xpY3lBY2NlcHQgKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgdmFyIGFjY2Vzc1Rva2VuID0gJyc7XG4gICAgdmFyIHByaXZhY3lTY2hlbWEgPSBtb2R1bGUucHJpdmFjeVBvbGljeVNjaGVtYS5zbGljZSgpO1xuICAgIHByaXZhY3lTY2hlbWFbMF0ucnVsZXMgPSBtb2R1bGUub3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbi5Nb2RlID09PSAnU3RyaWN0JyA/ICdyZXF1aXJlZCcgOiAnJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgY29tbW9uRm5zID0gbmV3IFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zKG1vZHVsZSk7XG4gICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBjb21tb25GbnMpO1xuICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnZ2V0Q3VycmVudEFjdGlvbk9wdGlvbnMnLCBhY3Rpb24pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuICAgIHZhciBvblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgdmFyIF9jbGFzc1ByZWZpeCA9ICcnO1xuICAgIGlmIChtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXSkge1xuICAgICAgb25TdWNjZXNzID0gbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl0ub25TdWNjZXNzIHx8IG9uU3VjY2VzcztcbiAgICAgIG9uRXJyb3IgPSBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXS5vbkVycm9yIHx8IG9uRXJyb3I7XG4gICAgICBfY2xhc3NQcmVmaXggPSBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXS5jbGFzc1ByZWZpeCB8fCBfY2xhc3NQcmVmaXg7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3NvY2lhbExvZ2luJykge1xuICAgICAgYWNjZXNzVG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NvY2lhbExvZ2luRm9ybVJlbmRlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY2Nlc3NUb2tlbiA9IHJlc3VsdC5EYXRhLmFjY2Vzc190b2tlbiB8fCAocmVzdWx0LkRhdGEgJiYgcmVzdWx0LkRhdGEuRGF0YSA/IHJlc3VsdC5EYXRhLkRhdGEuYWNjZXNzX3Rva2VuIDogJycpO1xuICAgIH1cbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShwcml2YWN5U2NoZW1hLCAncHJpdmFjeVBvbGljeVVwZGF0ZScsIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBjb250cm9sbGVycy51cGRhdGVQcml2YWN5UG9saWN5KGFjY2Vzc1Rva2VuLCByZXN1bHQsIG9uU3VjY2Vzcywgb25FcnJvciwgbnVsbCwgbW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wdWxhdGVTcGxpdFZhbGlkYXRlIChuYW1lLCBzY2hlbWEsIF9jbGFzc1ByZWZpeCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2NoZW1hW2ldLkRhdGFTb3VyY2UpIHtcbiAgICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3JlZ2lzdHJhdGlvbmRhdGEvJyArIHNjaGVtYVtpXS5EYXRhU291cmNlICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgJycsIGZ1bmN0aW9uIChkYXRhc291cmNlLCByZXNwb25zZSkge1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVzcG9uc2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcmVzcG9uc2Vbal0uSWQpO1xuICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJlc3BvbnNlW2pdLktleSkpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2NsYXNzUHJlZml4ICsgbmFtZSArICctJyArIGRhdGFzb3VyY2UubmFtZSkuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sICdyZWdpc3RyYXRpb24nLCBzY2hlbWFbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcHVsYXRlQ3VzdG9tUmVnaXN0cmF0aW9uRGF0YSAoY29udGFpbmVyLCB0cmVlLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgcmVzcEFycmF5ID0gW107XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGNvbW1vbkZucyA9IG5ldyBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyhtb2R1bGUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0cmVlW2ldLlBhcmVudERhdGFTb3VyY2UpIHtcbiAgICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcmVnaXN0cmF0aW9uZGF0YS8nICsgdHJlZVtpXS5EYXRhU291cmNlICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgJycsIGZ1bmN0aW9uIChkYXRhc291cmNlLCByZXNwb25zZSkge1xuICAgICAgICAgIHJlc3BBcnJheVtkYXRhc291cmNlLkRhdGFTb3VyY2VdID0gcmVzcG9uc2U7XG4gICAgICAgICAgaWYgKHJlc3BBcnJheVtkYXRhc291cmNlLkRhdGFTb3VyY2VdKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlc3BBcnJheVtkYXRhc291cmNlLkRhdGFTb3VyY2VdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCByZXNwQXJyYXlbZGF0YXNvdXJjZS5EYXRhU291cmNlXVtqXS5JZCk7XG4gICAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyZXNwQXJyYXlbZGF0YXNvdXJjZS5EYXRhU291cmNlXVtqXS5LZXkpKTtcbiAgICAgICAgICAgICAgdmFyIGRhdFNvdXJjZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF9jbGFzc1ByZWZpeCArICdyZWdpc3RyYXRpb24tJyArIGRhdGFzb3VyY2UubmFtZSk7XG4gICAgICAgICAgICAgIGlmIChkYXRTb3VyY2VDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBkYXRTb3VyY2VDb250YWluZXIuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YXNvdXJjZSAmJiBkYXRhc291cmNlLmNoaWxkcmVuICYmIGRhdGFzb3VyY2UuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBkYXRhc291cmNlLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7IGNvbW1vbkZucy5hZGRDaGFuZ2VFdmVudEhhbmRsZXIoY29udGFpbmVyLCBkYXRhc291cmNlLCBkYXRhc291cmNlLmNoaWxkcmVuW2tdLCBfY2xhc3NQcmVmaXgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCAncmVnaXN0cmF0aW9uJywgdHJlZVtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnYWZ0ZXJGb3JtUmVuZGVyJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIGlzIHVzZWQgdG8gcGVyZm9ybSBhbiBhY3Rpb24gQWZ0ZXIgYW55IGZvcm0gcmVuZGVycywgZXhhbXBsZSBsb2dpbiwgcmVnaXN0cmF0aW9uIGV0Yy5cbiAgICovXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ2FmdGVyRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgb2JqKSB7XG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5vcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWE7XG4gICAgdmFyIHRyZWUgPSBbXTtcbiAgICBpZiAobmFtZSA9PT0gJ3JlZ2lzdHJhdGlvbicpIHtcbiAgICAgIHZhciBtYXBwZWRBcnIgPSB7fTtcbiAgICAgIHZhciBtYXBwZWRFbGVtO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNjaGVtYVtpXSAmJiBzY2hlbWFbaV0uRGF0YVNvdXJjZSAmJiBzY2hlbWFbaV0uRGF0YVNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgIG1hcHBlZEFycltzY2hlbWFbaV0uRGF0YVNvdXJjZV0gPSBzY2hlbWFbaV07XG4gICAgICAgICAgbWFwcGVkQXJyW3NjaGVtYVtpXS5EYXRhU291cmNlXVsnY2hpbGRyZW4nXSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBEYXRhU291cmNlIGluIG1hcHBlZEFycikge1xuICAgICAgICBpZiAobWFwcGVkQXJyLmhhc093blByb3BlcnR5KERhdGFTb3VyY2UpKSB7XG4gICAgICAgICAgbWFwcGVkRWxlbSA9IG1hcHBlZEFycltEYXRhU291cmNlXTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICAgIGlmIChtYXBwZWRFbGVtLlBhcmVudERhdGFTb3VyY2UgJiYgbWFwcGVkRWxlbS5QYXJlbnREYXRhU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hcHBlZEFyclttYXBwZWRFbGVtWydQYXJlbnREYXRhU291cmNlJ11dWydjaGlsZHJlbiddLnB1c2gobWFwcGVkRWxlbSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyZWUucHVzaChtYXBwZWRFbGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0cmVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcG9wdWxhdGVDdXN0b21SZWdpc3RyYXRpb25EYXRhKGNvbnRhaW5lciwgdHJlZSwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICd2YWxpZGF0ZWNvZGUnKSB7XG4gICAgICBwb3B1bGF0ZVNwbGl0VmFsaWRhdGUobmFtZSwgc2NoZW1hLCBfY2xhc3NQcmVmaXgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSAnc2V0TG9jYWxlQmFzZWRJbmZvJyBob29rLlxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIHByb3ZpZGVzIHlvdSBhIHdheSB0byBkaXNwbGF5IHRoZSBsYWJlbHMsIHBsYWNlaG9sZGVycywgdmFsaWRhdGlvbiBtZXNzYWdlcyBhbmQgZXJyb3IgbWVzc2FnZXMgZm9yIGZvcm1zIGluIHlvdXIgbG9jYWwgbGFuZ3VhZ2UuXG4gICAqL1xuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxuICAgICdzZXRMb2NhbGVCYXNlZEluZm8nLFxuICAgIGZ1bmN0aW9uIChsb2NhbGVJbmZvKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gbG9jYWxlSW5mbykge1xuICAgICAgICBpZiAobG9jYWxlSW5mby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xhYmVscyc6XG4gICAgICAgICAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtQ3VzdG9tTGFiZWwsIGxvY2FsZUluZm9ba2V5XSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGxhY2Vob2xkZXJzJzpcbiAgICAgICAgICAgICAgdXRpbC5leHRlbmQobW9kdWxlLmZvcm1QbGFjZWhvbGRlciwgbG9jYWxlSW5mb1trZXldKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd2YWxpZGF0aW9uTWVzc2FnZXMnOlxuICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ21hcFZhbGlkYXRpb25NZXNzYWdlcycsIChsb2NhbGVJbmZvW2tleV0pKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlcnJvck1lc3NhZ2VzJzpcbiAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdtYXBFcnJvck1lc3NhZ2VzJywgKGxvY2FsZUluZm9ba2V5XSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uJzpcbiAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdwYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbicsIChsb2NhbGVJbmZvW2tleV0pKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdidXR0b25zTmFtZSc6XG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc2V0QnV0dG9uc05hbWUnLCAobG9jYWxlSW5mb1trZXldKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xuICAvLyBlbmQgaG9vayBtb2RlbFxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBibG9jay1zY29wZWQtdmFyICovXG4vKipcbiogQHBhcmFtIHtPYmplY3R9IG1vZHVsZSBsciBtb2R1bGUgb2JqZWN0XG4qIEBkZXNjcmlwdGlvbiBTZXQgZ2xvYmFsIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zLlxuKiBAY29uc3RydWN0b3JcbiovXG5mdW5jdGlvbiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyAobW9kdWxlKSB7XG4gIHZhciBwcml2YXRlRnVuY3Rpb25zTW9kdWxlID0gdGhpcztcbiAgdmFyIGRlZmF1bHRNZXNzYWdlcyA9IExvZ2luUmFkaXVzRGVmYXVsdHMubWVzc2FnZXM7XG4gIHZhciBkZWZhdWx0QnV0dG9uc05hbWUgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmJ1dHRvbk5hbWVzO1xuICB2YXIgY29udHJvbGxlcnMgPSBuZXcgTG9naW5SYWRpdXNDb250cm9sbGVycyhtb2R1bGUsIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUpO1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBmaWx0ZXJQcm92aWRlcnNCYXNlZE9uQ291bnRyeVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb3VudHJ5TmFtZSBjb3VudHJ5IE5hbWVcbiAgKiBAcGFyYW0ge0FycmF5fSBwcm92TGlzdCBsaXN0IG9mIHNjb2lhbCBwcm92aWRlcnNcbiAgKiBAcmV0dXJuIHtBcnJheX0gcHJvdkxpc3QgYXZhaWxhYmxlIHNjb2lhbCBwcm92aWRlcnMgbGlzdFxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGF2YWlsYWJsZSBzb2NpYWwgcHJvdmlkZXJzIGxpc3QgYmFzZWQgdXBvbiBjb3VudHJ5IE5hbWUuXG4gICovXG4gIGZ1bmN0aW9uIGZpbHRlclByb3ZpZGVyc0Jhc2VkT25Db3VudHJ5IChjb3VudHJ5TmFtZSwgcHJvdkxpc3QpIHtcbiAgICB2YXIgY291bnRyeVByb3ZpZGVycyA9IFt7XG4gICAgICAnTmFtZSc6ICdGYWNlYm9vaycsXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ0dvb2dsZScsXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ1lhaG9vJyxcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXG4gICAgICAnZXhjZXB0JzogJ2NoaW5hJ1xuICAgIH0sXG4gICAge1xuICAgICAgJ05hbWUnOiAnTGl2ZScsXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ1R3aXR0ZXInLFxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdMaW5rZWRpbicsXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ015c3BhY2UnLFxuICAgICAgJ2NvdW50cnknOiAnVVMnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdGb3Vyc3F1YXJlJyxcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXG4gICAgICAnZXhjZXB0JzogJ2NoaW5hJ1xuICAgIH0sXG4gICAge1xuICAgICAgJ05hbWUnOiAnVmtvbnRha3RlJyxcbiAgICAgICdjb3VudHJ5JzogJ1J1c3NpYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ1JlbnJlbicsXG4gICAgICAnY291bnRyeSc6ICdDaGluYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ1FRJyxcbiAgICAgICdjb3VudHJ5JzogJ0NoaW5hJ1xuICAgIH0sXG4gICAge1xuICAgICAgJ05hbWUnOiAnS2FpeGluJyxcbiAgICAgICdjb3VudHJ5JzogJ0NoaW5hJ1xuICAgIH0sXG4gICAge1xuICAgICAgJ05hbWUnOiAnR2l0aHViJyxcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXG4gICAgICAnZXhjZXB0JzogJ2NoaW5hJ1xuICAgIH0sXG4gICAge1xuICAgICAgJ05hbWUnOiAnTWFpbHJ1JyxcbiAgICAgICdjb3VudHJ5JzogJ1J1c3NpYSdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ0FtYXpvbicsXG4gICAgICAnY291bnRyeSc6ICdVUydcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ1BheXBhbCcsXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdTYWxlc2ZvcmNlJyxcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ09ETk9LTEFTU05JS0knLFxuICAgICAgJ2NvdW50cnknOiAnUnVzc2lhJ1xuICAgIH0sXG4gICAge1xuICAgICAgJ05hbWUnOiAnV09SRFBSRVNTJyxcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ0dPT0dMRVBMVVMnLFxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdEaXNxdXMnLFxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdJTlNUQUdSQU0nLFxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdTSU5BV0VJQk8nLFxuICAgICAgJ2NvdW50cnknOiAnQ2hpbmEnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdYSU5HJyxcbiAgICAgICdjb3VudHJ5JzogJ0dlcm1hbnknXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdQSU5URVJFU1QnLFxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXG4gICAgfSxcbiAgICB7XG4gICAgICAnTmFtZSc6ICdMSU5FJyxcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCdcbiAgICB9LFxuICAgIHtcbiAgICAgICdOYW1lJzogJ0FPTCcsXG4gICAgICAnY291bnRyeSc6ICdVUydcbiAgICB9XG4gICAgXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnRyeVByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcm92TGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocHJvdkxpc3Rbal0gJiYgKHByb3ZMaXN0W2pdLk5hbWUudG9Mb3dlckNhc2UoKSA9PT0gY291bnRyeVByb3ZpZGVyc1tpXS5OYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgaWYgKChjb3VudHJ5UHJvdmlkZXJzW2ldLmNvdW50cnkudG9Mb3dlckNhc2UoKSA9PT0gY291bnRyeU5hbWUudG9Mb3dlckNhc2UoKSkgfHwgKGNvdW50cnlQcm92aWRlcnNbaV0uY291bnRyeS50b0xvd2VyQ2FzZSgpID09PSAnZ2xvYmFsJyAmJiAhY291bnRyeVByb3ZpZGVyc1tpXS5leGNlcHQpIHx8IChjb3VudHJ5UHJvdmlkZXJzW2ldLmV4Y2VwdCAmJiBjb3VudHJ5UHJvdmlkZXJzW2ldLmV4Y2VwdC50b0xvd2VyQ2FzZSgpICE9PSBjb3VudHJ5TmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3ZMaXN0LnNwbGljZShqLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3ZMaXN0O1xuICB9XG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2hvd09UUFRlbXBsYXRlRm9ybSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gKG1vZHVsZS5vcHRpb25zLnRlbXBsYXRlVmVyaWZpY2F0aW9uVHlwZXMgJiYgbW9kdWxlLm9wdGlvbnMudGVtcGxhdGVWZXJpZmljYXRpb25UeXBlc1thY3Rpb25dID09PSAnT1RQJyk7XG4gIH07XG5cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5hZGRTb2NpYWxFbmRwb2ludE9wdGlvbnMgPSBmdW5jdGlvbiAoYWNMaW5raW5nKSB7XG4gICAgdmFyIHNjb3BlID0gbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ3Njb3BlJyk7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnNjb3BlID09PSAnJyAmJiBzY29wZSkge1xuICAgICAgbW9kdWxlLm9wdGlvbnMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgdmFyIHF1ZXJ5ID0gJyZjYWxsYmFjaz0nICsgbW9kdWxlLm9wdGlvbnMuY2FsbGJhY2tVcmwgKyAnJnNhbWVfd2luZG93PScgKyBtb2R1bGUub3B0aW9ucy5jYWxsYmFja0luc2lkZVNhbWVXaW5kb3cgKyAnJmlzX2FjY2Vzc190b2tlbj0nICsgbW9kdWxlLm9wdGlvbnMuYWNjZXNzVG9rZW5SZXNwb25zZSArICcmY2FsbGJhY2t0eXBlPScgKyBtb2R1bGUub3B0aW9ucy5jYWxsYmFja1R5cGUgKyAnJmRpc2FibGVzaWdudXA9JyArIG1vZHVsZS5vcHRpb25zLmRpc2FibGVTaWdudXA7XG4gICAgaWYgKHF1ZXJ5LmluZGV4T2YoJ3Njb3BlJykgPT09IC0xKSB7XG4gICAgICBxdWVyeSArPSAnJnNjb3BlPScgKyBtb2R1bGUub3B0aW9ucy5zY29wZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzTW9iaWxlKSB7XG4gICAgICBxdWVyeSArPSAnJmlzbW9iaWxlPXRydWUnO1xuICAgIH1cbiAgICBpZiAoYWNMaW5raW5nKSB7XG4gICAgICBxdWVyeSArPSAnJmFjX2xpbmtpbmc9dHJ1ZSc7XG4gICAgfVxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc0N1c3RvbVNjb3BlKSB7XG4gICAgICBxdWVyeSArPSAnJmlzX2N1c3RvbV9zY29wZT10cnVlJztcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHJlbmRlckN1c3RvbUludGVyZmFjZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciBodG1sIGVsZW1lbnQgc2VsZWN0b3IgbmFtZVxuICAqIEBwYXJhbSB7T2JqZWN0fSBsaW5rZWRQcm92aWRlciBhY2NvdW50IGxpbmtlZCBzb2NpYWwgcHJvdmlkZXIgb2JqZWN0XG4gICogQHBhcmFtIHtTdHJpbmd9IHRlbXBsYXRlTmFtZSB0ZW1wbGF0ZSBuYW1lXG4gICogQHBhcmFtIHtCb29sZWFufSBpc2FwcGVuZCBmbGFnXG4gICogQHBhcmFtIHtCb29sZWFufSBhY0xpbmtpbmcgZmxhZyBvZiBhY2NvdW50IGxpbmtcbiAgKiBAcGFyYW0ge0FycmF5fSBwcm92aWRlcnNTY2hlbWEgYXJyYXkgb2YgcHJvdmlkZXJzU2NoZW1hXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCByZW5kZXIgcHJvdmlkZXIgY3VzdG9tIGludGVyZmFjZSBhY2NvcmRpbmcgdG8gQ291bnRyeS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZW5kZXJDdXN0b21JbnRlcmZhY2UgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGxpbmtlZFByb3ZpZGVyLCB0ZW1wbGF0ZU5hbWUsIGlzYXBwZW5kLCBhY0xpbmtpbmcsIHByb3ZpZGVyc1NjaGVtYSkge1xuICAgIG1vZHVsZS5vcHRpb25zLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgdmFyIHJlbmRlcmVkSHRtbCA9IFtdO1xuICAgIHZhciBPbkxvYWRlZEN1c3RvbUludGVyRmFjZSA9XG4gICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgTFJQcm92aWRlcnNMaXN0ID0gZGF0YTtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnByb3ZpZGVyQ291bnRyeSAmJiAhbW9kdWxlLm9wdGlvbnMucHJvdmlkZXJzTGlzdCkge1xuICAgICAgICAgIExSUHJvdmlkZXJzTGlzdCA9IGZpbHRlclByb3ZpZGVyc0Jhc2VkT25Db3VudHJ5KG1vZHVsZS5vcHRpb25zLnByb3ZpZGVyQ291bnRyeSwgTFJQcm92aWRlcnNMaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NvY2lhbEludGVyZmFjZVByb3ZpZGVycycsIExSUHJvdmlkZXJzTGlzdCk7XG4gICAgICAgIHZhciBwcm92aWRlcnNUb1Nob3c7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wcm92aWRlcnNMaXN0KSB7XG4gICAgICAgICAgcHJvdmlkZXJzVG9TaG93ID0gbW9kdWxlLm9wdGlvbnMucHJvdmlkZXJzTGlzdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGVtcGxhdGVDb21waWxlciA9IG1vZHVsZS5vcHRpb25zLmhhc2hUZW1wbGF0ZSA/IG1vZHVsZS51dGlsLmhhc2hUbXBsIDogbW9kdWxlLnV0aWwudG1wbDtcbiAgICAgICAgdmFyIHRlbXBsYXRlcyA9IHRlbXBsYXRlTmFtZS5zcGxpdCgnLCcpO1xuICAgICAgICB2YXIgcXVlcnkgPSBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmFkZFNvY2lhbEVuZHBvaW50T3B0aW9ucyhhY0xpbmtpbmcpO1xuICAgICAgICB2YXIgb2JqZWN0TmFtZSA9IG1vZHVsZS51dGlsLmdldFRoaXNPYmplY3ROYW1lKCk7XG4gICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgdGVtcGxhdGVzLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgdmFyIHRlbXBsYXRlSUREYXRhID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQodGVtcGxhdGVzW2xdKTtcbiAgICAgICAgICBpZiAodGVtcGxhdGVJRERhdGEpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURhdGEgPSB0ZW1wbGF0ZUlERGF0YS5pbm5lckhUTUw7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGVEYXRhLmluZGV4T2YoJ2FjX2xpbmtpbmcnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKCcmYWNfbGlua2luZz10cnVlJywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwcm92aWRlcnMgPSBbXTtcbiAgICAgICAgICByZW5kZXJlZEh0bWxbbF0gPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExSUHJvdmlkZXJzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgTFJQcm92aWRlcnNMaXN0W2ldLk9iamVjdE5hbWUgPSBvYmplY3ROYW1lO1xuICAgICAgICAgICAgaWYgKExSUHJvdmlkZXJzTGlzdFtpXS5FbmRwb2ludC5pbmRleE9mKCdjYWxsYmFjaz0nKSA9PT0gLTEpIHsgTFJQcm92aWRlcnNMaXN0W2ldLkVuZHBvaW50ICs9IHF1ZXJ5OyB9XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSB7fTtcbiAgICAgICAgICAgIHByb3ZpZGVyLmlzbGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICBwcm92aWRlci5wcm92aWRlcklkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChsaW5rZWRQcm92aWRlciAmJiBsaW5rZWRQcm92aWRlcltMUlByb3ZpZGVyc0xpc3RbaV0uTmFtZS50b0xvd2VyQ2FzZSgpXSkge1xuICAgICAgICAgICAgICBwcm92aWRlci5pc2xpbmtlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHByb3ZpZGVyLnByb3ZpZGVySWQgPSBsaW5rZWRQcm92aWRlcltMUlByb3ZpZGVyc0xpc3RbaV0uTmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTFJQcm92aWRlcnNMaXN0W2ldLmlzTGlua2VkID0gcHJvdmlkZXIuaXNsaW5rZWQ7XG4gICAgICAgICAgICBMUlByb3ZpZGVyc0xpc3RbaV0ucHJvdmlkZXJJZCA9IHByb3ZpZGVyLnByb3ZpZGVySWQ7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBMUlByb3ZpZGVyc0xpc3RbaV07XG4gICAgICAgICAgICBwcm92aWRlcnMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHRlbXAgPSBbXTtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvdmlkZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJzW2pdLmlzTGlua2VkKSB7XG4gICAgICAgICAgICAgIHRlbXAucHVzaChwcm92aWRlcnNbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGVtcC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHByb3ZpZGVycy5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgICBpZiAoIXByb3ZpZGVyc1tzXS5pc0xpbmtlZCkge1xuICAgICAgICAgICAgICAgIHRlbXAucHVzaChwcm92aWRlcnNbc10pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm92aWRlcnMgPSB0ZW1wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgcHJvdmlkZXJzLmxlbmd0aDsgbSsrKSB7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGVzW2xdICE9PSAnJykge1xuICAgICAgICAgICAgICBpZiAocHJvdmlkZXJzVG9TaG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJzVG9TaG93LmluZGV4T2YocHJvdmlkZXJzW21dLk5hbWUpICE9PSAtMSB8fCBwcm92aWRlcnNUb1Nob3cuaW5kZXhPZihwcm92aWRlcnNbbV0uTmFtZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyc1ttXS5OYW1lID0gcHJvdmlkZXJzW21dLkRpc3BsYXlOYW1lIHx8IHByb3ZpZGVyc1ttXS5OYW1lO1xuICAgICAgICAgICAgICAgICAgcmVuZGVyZWRIdG1sW2xdICs9IHRlbXBsYXRlQ29tcGlsZXIodGVtcGxhdGVzW2xdLCBwcm92aWRlcnNbbV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcnNbbV0uTmFtZSA9IHByb3ZpZGVyc1ttXS5EaXNwbGF5TmFtZSB8fCBwcm92aWRlcnNbbV0uTmFtZTtcbiAgICAgICAgICAgICAgICByZW5kZXJlZEh0bWxbbF0gKz0gdGVtcGxhdGVDb21waWxlcih0ZW1wbGF0ZXNbbF0sIHByb3ZpZGVyc1ttXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGVjdG9yc0FycmF5ID0gbW9kdWxlLm9wdGlvbnMuc2VsZWN0b3Iuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBzZWxlY3RvcnNBcnJheS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIHZhciBlbGVtZW50U2VsZWN0b3IgPSBzZWxlY3RvcnNBcnJheVtrXTtcbiAgICAgICAgICBpZiAoZWxlbWVudFNlbGVjdG9yLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICAgICAgZWxlbWVudFNlbGVjdG9yID0gZWxlbWVudFNlbGVjdG9yLnJlcGxhY2UoJy4nLCAnJyk7XG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBtb2R1bGUudXRpbC5lbGVtZW50c0J5Q2xhc3MoZWxlbWVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChlbGVtcyAmJiBlbGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgZWxlbXMubGVuZ3RoOyB3KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNhcHBlbmQpIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1zW3ddLmlubmVySFRNTCArPSByZW5kZXJlZEh0bWxba107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1zW3ddLmlubmVySFRNTCA9IHJlbmRlcmVkSHRtbFtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRTZWxlY3RvciAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQoZWxlbWVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgIGlmIChpc2FwcGVuZCkge1xuICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MICs9IHJlbmRlcmVkSHRtbFtrXTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IHJlbmRlcmVkSHRtbFtrXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBpZiAocHJvdmlkZXJzU2NoZW1hKSB7IE9uTG9hZGVkQ3VzdG9tSW50ZXJGYWNlKHByb3ZpZGVyc1NjaGVtYSk7IH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMuU29jaWFsU2NoZW1hICE9PSB1bmRlZmluZWQpIHsgT25Mb2FkZWRDdXN0b21JbnRlckZhY2UobW9kdWxlLm9wdGlvbnMuU29jaWFsU2NoZW1hLlByb3ZpZGVycyk7IH1cbiAgICAvLyBtb2R1bGUudXRpbC5qc29ucENhbGwoYXBwSnNvblVybCArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArIFwiLmpzb25cIiwsIFwibG9naW5SYWRpdXNBcHBKc29uTG9hZGVkXCIsJ2N1c3RvbUludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIG1hcFJlZ2lzdHJhdGlvblNjaGVtYVxuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSByZWdpc3RyYXRpb24gU2NoZW1hXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBzdHJpbmdcbiAgKiBAcGFyYW0ge09iamVjdH0gdXNlclByb2ZpbGUgdXNlciBwcm9maWxlIG9iamVjdFxuICAqIEByZXR1cm4ge09iamVjdH0gb2JqRGF0YSBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgbWFwIHRoZSByZWdpc3RyYXRpb24gU2NoZW1hIGZpZWxkcyBvYmplY3RzIHdpdGggc29tZSBkZWZhdWx0IHZhbHVlcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5tYXBSZWdpc3RyYXRpb25TY2hlbWEgPSBmdW5jdGlvbiAoc2NoZW1hLCBkYXRhLCB1c2VyUHJvZmlsZSkge1xuICAgIHZhciBvYmpEYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB2YXIgY3VzdG9tRmllbGRzT2JqID0ge307XG4gICAgdmFyIGVtYWlsT2JqID0ge307XG4gICAgdmFyIGNvdW50cnlPYmogPSB7fTtcbiAgICB2YXIgZW1haWxBcnJheSA9IFtdO1xuICAgIHZhciBjb25zZW50T3B0aW9uID0gW107XG5cbiAgICBmb3IgKHZhciBpIGluIG9iakRhdGEpIHtcbiAgICAgIGlmIChpLmluZGV4T2YoJ2NmXycpICE9PSAtMSkge1xuICAgICAgICB2YXIgbmV3S2V5ID0gaS5yZXBsYWNlKCdjZl8nLCAnJyk7XG4gICAgICAgIGN1c3RvbUZpZWxkc09ialtuZXdLZXldID0gb2JqRGF0YVtpXTtcbiAgICAgICAgZGVsZXRlIG9iakRhdGFbaV07XG4gICAgICB9IGVsc2UgaWYgKGkuaW5kZXhPZignY29uc2VudF8nKSAhPT0gLTEpIHtcbiAgICAgICAgdmFyIG5LZXkgPSBpLnJlcGxhY2UoJ2NvbnNlbnRfJywgJycpO1xuICAgICAgICB2YXIgY29uc2VudE9wdGlvbk9iamVjdCA9IHtcbiAgICAgICAgICAnQ29uc2VudE9wdGlvbklkJzogbktleSxcbiAgICAgICAgICAnSXNBY2NlcHRlZCc6IG9iakRhdGFbaV1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc2VudE9wdGlvbi5wdXNoKGNvbnNlbnRPcHRpb25PYmplY3QpO1xuICAgICAgICBkZWxldGUgb2JqRGF0YVtpXTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PT0gJ2VtYWlsc3Vic2NyaXB0aW9uJykge1xuICAgICAgICBvYmpEYXRhWydJc0VtYWlsU3Vic2NyaWJlZCddID0gISEob2JqRGF0YVtpXSA9PT0gJ29uJyB8fCBvYmpEYXRhW2ldID09PSAndHJ1ZScpO1xuICAgICAgICBkZWxldGUgb2JqRGF0YVtpXTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PT0gJ2VtYWlsaWQnIHx8IGkgPT09ICdlbWFpbCcpIHtcbiAgICAgICAgZW1haWxPYmoudmFsdWUgPSBvYmpEYXRhW2ldO1xuICAgICAgICBlbWFpbE9iai50eXBlID0gJ1ByaW1hcnknO1xuICAgICAgfSBlbHNlIGlmIChpICE9PSAnU2VjdXJpdHlRdWVzdGlvbkFuc3dlcicgJiYgaS5pbmRleE9mKCdzZWN1cml0eVF1ZXN0aW9uJykgIT09IC0xKSB7XG4gICAgICAgIHZhciBzZWNRQU9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25zQ291bnQ7IGorKykge1xuICAgICAgICAgIGlmIChvYmpEYXRhWydzZWN1cml0eUFuc3dlcicgKyBqXSAmJiBvYmpEYXRhWydzZWN1cml0eVF1ZXN0aW9uJyArIGpdKSB7XG4gICAgICAgICAgICBzZWNRQU9iamVjdFtvYmpEYXRhWydzZWN1cml0eVF1ZXN0aW9uJyArIGpdXSA9IG9iakRhdGFbJ3NlY3VyaXR5QW5zd2VyJyArIGpdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgb2JqRGF0YVsnc2VjdXJpdHlRdWVzdGlvbicgKyBqXTtcbiAgICAgICAgICBkZWxldGUgb2JqRGF0YVsnc2VjdXJpdHlBbnN3ZXInICsgal07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNlY1FBT2JqZWN0KS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICBvYmpEYXRhWydTZWN1cml0eVF1ZXN0aW9uQW5zd2VyJ10gPSBzZWNRQU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpID09PSAnY291bnRyeScpIHtcbiAgICAgICAgaWYgKG9iakRhdGFbaV0uaW5kZXhPZignfCcpICE9PSAtMSkge1xuICAgICAgICAgIGNvdW50cnlPYmogPSB7XG4gICAgICAgICAgICAnY29kZSc6IG9iakRhdGFbaV0uc3BsaXQoJ3wnKVswXSxcbiAgICAgICAgICAgICduYW1lJzogb2JqRGF0YVtpXS5zcGxpdCgnfCcpWzFdXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudHJ5T2JqID0ge1xuICAgICAgICAgICAgJ2NvZGUnOiAnJyxcbiAgICAgICAgICAgICduYW1lJzogb2JqRGF0YVtpXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmaWVsZE5hbWUgPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsIGkpO1xuICAgICAgICBpZiAoZmllbGROYW1lICYmIGZpZWxkTmFtZS5QYXJlbnQpIHtcbiAgICAgICAgICB2YXIgbSA9IGkuaW5kZXhPZignXycpICE9PSAtMSA/IGkuc3BsaXQoJ18nKVsxXSA6IGk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmpEYXRhW2ZpZWxkTmFtZS5QYXJlbnRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqRGF0YVtmaWVsZE5hbWUuUGFyZW50XSA9IFtdO1xuICAgICAgICAgICAgdmFyIG9iamVjdF8gPSB7fTtcblxuICAgICAgICAgICAgb2JqZWN0X1ttXSA9IG9iakRhdGFbaV07XG4gICAgICAgICAgICBpZiAoZmllbGROYW1lLlBhcmVudCA9PT0gJ0FkZHJlc3NlcycpIHtcbiAgICAgICAgICAgICAgb2JqZWN0X1sndHlwZSddID0gJ3BlcnNvbmFsJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGROYW1lLlBhcmVudCA9PT0gJ1Bob25lTnVtYmVycycgJiYgIW9iamVjdF9bJ3Bob25ldHlwZSddKSB7XG4gICAgICAgICAgICAgIG9iamVjdF9bJ3Bob25ldHlwZSddID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqRGF0YVtmaWVsZE5hbWUuUGFyZW50XS5wdXNoKG9iamVjdF8pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZmllbGROYW1lLlBhcmVudCA9PT0gJ0FkZHJlc3NlcycgJiYgIW9iakRhdGFbZmllbGROYW1lLlBhcmVudF1bMF1bJ3R5cGUnXSkge1xuICAgICAgICAgICAgICBvYmpEYXRhW2ZpZWxkTmFtZS5QYXJlbnRdWzBdWyd0eXBlJ10gPSAncGVyc29uYWwnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmpEYXRhW2ZpZWxkTmFtZS5QYXJlbnRdWzBdW21dID0gb2JqRGF0YVtpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIG9iakRhdGFbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoY3VzdG9tRmllbGRzT2JqKS5sZW5ndGggIT09IDApIHtcbiAgICAgIG9iakRhdGFbJ0N1c3RvbUZpZWxkcyddID0gY3VzdG9tRmllbGRzT2JqO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMoZW1haWxPYmopLmxlbmd0aCAhPT0gMCkge1xuICAgICAgZW1haWxBcnJheS5wdXNoKGVtYWlsT2JqKTtcbiAgICAgIG9iakRhdGFbJ2VtYWlsJ10gPSBlbWFpbEFycmF5O1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMoY291bnRyeU9iaikubGVuZ3RoICE9PSAwKSB7XG4gICAgICBvYmpEYXRhWydjb3VudHJ5J10gPSBjb3VudHJ5T2JqO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQSU5BdXRoZW50aWNhdGlvbiAmJiBtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLkFza09uUmVnaXN0cmF0aW9uKSB7XG4gICAgICBvYmpEYXRhID0gcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zYW5pdGl6ZVBpbkRhdGEob2JqRGF0YSk7XG4gICAgfVxuICAgIGlmIChjb25zZW50T3B0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgIG9iakRhdGFbJ0NvbnNlbnRzJ10gPSB7XG4gICAgICAgICdFdmVudHMnOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ0V2ZW50JzogJ1JlZ2lzdGVyJyxcbiAgICAgICAgICAgICdJc0N1c3RvbSc6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICAnRGF0YSc6IGNvbnNlbnRPcHRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBvYmpEYXRhO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBnZXRQYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBtaW4gbWluIHZsYXVlXG4gICogQHBhcmFtIHtTdHJpbmd9IG1heCBtYXggdmFsdWVcbiAgKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgb2YgbWV0ZXIgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGdldCBwYXNzd29yZCBzdHJlbmd0aCBzdGF0dXMgbWV0ZXIgY29uZmlndXJhdGlvbi5cbiAgKi9cbiAgZnVuY3Rpb24gZ2V0UGFzc3dvcmRNZXRlckNvbmZpZ3VyYXRpb24gKG1pbiwgbWF4KSB7XG4gICAgdmFyIGRlZmF1bHRDYXNlID0ge1xuICAgICAgMDogJ3dvcnN0JyxcbiAgICAgIDE6ICdiYWQnLFxuICAgICAgMjogJ3dlYWsnLFxuICAgICAgMzogJ2dvb2QnLFxuICAgICAgNDogJ3N0cm9uZycsXG4gICAgICA1OiAnc2VjdXJlJ1xuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDb2xvciA9IHtcbiAgICAgIDA6ICcjZGQ1MTRjJyxcbiAgICAgIDE6ICdvcmFuZ2UnLFxuICAgICAgMjogJ3llbGxvdycsXG4gICAgICAzOiAnIzVlYjk1ZScsXG4gICAgICA0OiAnYmx1ZScsXG4gICAgICA1OiAndmlvbGV0J1xuICAgIH07XG4gICAgdmFyIGRlZmF1bHRNZXNzYWdlID0ge1xuICAgICAgMDogJ1dvcnN0JyxcbiAgICAgIDE6ICdCYWQnLFxuICAgICAgMjogJ1dlYWsnLFxuICAgICAgMzogJ0dvb2QnLFxuICAgICAgNDogJ1N0cm9uZycsXG4gICAgICA1OiAnU2VjdXJlJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjb25maWcgKCkge1xuICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgIHZhciBpbnB1dCA9IG1vZHVsZS5wYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbjtcbiAgICAgIGZvciAodmFyIGogaW4gZGVmYXVsdENhc2UpIHtcbiAgICAgICAgaWYgKGlucHV0W2pdICYmIGlucHV0W2pdLmNhc2UpIHtcbiAgICAgICAgICBpZiAoaW5wdXRbal0uY2FzZS50b0xvd2VyQ2FzZSgpID09PSBkZWZhdWx0Q2FzZVtqXSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKHtcbiAgICAgICAgICAgICAgY29sb3I6IGlucHV0W2pdLmNvbG9yID8gaW5wdXRbal0uY29sb3IgOiBkZWZhdWx0Q29sb3Jbal0sXG4gICAgICAgICAgICAgIE1lc3NhZ2U6IGlucHV0W2pdLm1lc3NhZ2UgPyBpbnB1dFtqXS5tZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2Vbal1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wLnB1c2goe1xuICAgICAgICAgICAgY29sb3I6IGRlZmF1bHRDb2xvcltqXSxcbiAgICAgICAgICAgIE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlW2pdXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnKCk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gaXNDdXN0b21WYWxpZGF0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkVmFsdWUgdmFpZGF0aW9uIGZpZWxkIG5hbWVcbiAgKiBAcGFyYW0ge1N0cmluZ30gcGFybVZhbHVlIGN1c3RvbSB2YWxpZGF0aW9uIHJlZ2V4IGV4cC5cbiAgKiBAcmV0dXJuIHtCb29sZWFufSBmbGFnIGdpdmVuIGZpZWxkVmFsdWUgaXMgYXZhaWxhYmxlIGluIHJlZ2V4IGV4cFxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdmFsaWRhdGUgY3VzdG9tIHZhbGlkYXRpb24gcmVnZXggZXhwLlxuICAqL1xuICBmdW5jdGlvbiBpc0N1c3RvbVZhbGlkYXRpb24gKGZpZWxkVmFsdWUsIHBhcm1WYWx1ZSkge1xuICAgIHBhcm1WYWx1ZSA9IHBhcm1WYWx1ZS5zcGxpdCgnIyMjJylbMF07XG4gICAgcGFybVZhbHVlID0gcGFybVZhbHVlLnNwbGl0KCdvcicpLmpvaW4oJ3wnKTtcbiAgICB0cnkge1xuICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXJtVmFsdWUsICdnJyk7XG4gICAgICBpZiAoIXJlZ2V4LnRlc3QoZmllbGRWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbW9kdWxlLmxvZygnSW52YWxpZCBjdXN0b20gdmFsaWRhdGlvbiByZWdleCBleHByZXNzaW9uJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGlzVmFsaWREYXRlXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGVTdHJpbmcgZGF0ZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGZsYWcgZ2l2ZW4gZGF0ZSBpcyB2YWxpZFxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdmFsaWRhdGUgZ2l2ZW4gZGF0ZS5cbiAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZERhdGUgKGRhdGVTdHJpbmcpIHtcbiAgICB2YXIgcGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KCcvJyk7XG4gICAgaWYgKGRhdGVTdHJpbmcuaW5kZXhPZignLScpICE9PSAtMSkge1xuICAgICAgcGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KCctJyk7XG4gICAgfVxuXG4gICAgdmFyIGRheSA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7XG4gICAgdmFyIG1vbnRoID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcbiAgICB2YXIgeWVhciA9IHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7XG5cbiAgICAvLyBDaGVjayB0aGUgcmFuZ2VzIG9mIG1vbnRoIGFuZCB5ZWFyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICBpZiAoeWVhciA8IDEwMDAgfHwgeWVhciA+IDMwMDAgfHwgbW9udGggPT09IDAgfHwgbW9udGggPiAxMikgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgdmFyIG1vbnRoTGVuZ3RoID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuXG4gICAgLy8gQWRqdXN0IGZvciBsZWFwIHllYXJzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICBpZiAoeWVhciAlIDQwMCA9PT0gMCB8fCAoeWVhciAlIDEwMCAhPT0gMCAmJiB5ZWFyICUgNCA9PT0gMCkpIHsgbW9udGhMZW5ndGhbMV0gPSAyOTsgfVxuXG4gICAgLy8gQ2hlY2sgdGhlIHJhbmdlIG9mIHRoZSBkYXlcbiAgICByZXR1cm4gZGF5ID4gMCAmJiBkYXkgPD0gbW9udGhMZW5ndGhbbW9udGggLSAxXTtcbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBoYW5kbGVGb3JtUmVzcG9uc2VcbiAgKiBAcGFyYW0ge09iamVjdH0gZm9ybSBodG1sIGRvbVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSByZWNhcHRjaGFpZCBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWVcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBmb3JtIHJlc3BvbnNlIGFmdGVyIHZhbGlkYXRpb24uXG4gICovXG4gIGZ1bmN0aW9uIGhhbmRsZUZvcm1SZXNwb25zZSAoZm9ybSwgb25TdWNjZXNzLCByZWNhcHRjaGFpZCwgbmFtZSkge1xuICAgIHZhciB0ZW5jZW50Q2FwdGNoYUlkID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnQnKTtcbiAgICB2YXIgdXNlRW1wdHlGaWVsZHMgPSBmYWxzZTtcbiAgICBpZiAobmFtZSA9PT0gJ3Byb2ZpbGVlZGl0b3InKSB7XG4gICAgICB1c2VFbXB0eUZpZWxkcyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBkb21SZWNhcHRjaGEgPSBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCk7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSAmJiBkb21SZWNhcHRjaGEgJiYgZG9tUmVjYXB0Y2hhLmlubmVySFRNTCAhPT0gJycgJiYgZG9tUmVjYXB0Y2hhLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJlxuICAgICAgIXdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbiddICYmICF3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW5vdHAnXSAmJiBkb21SZWNhcHRjaGEuY2xvc2VzdCgnZm9ybScpKSB7XG4gICAgICBpZiAod2luZG93LmhjYXB0Y2hhICYmIG1vZHVsZS5vcHRpb25zLmhDYXB0Y2hhU2l0ZUtleSkge1xuICAgICAgICB3aW5kb3cuaGNhcHRjaGEuZXhlY3V0ZSh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhKSB7XG4gICAgICAgIGdyZWNhcHRjaGEuZXhlY3V0ZSh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0ZW5jZW50Q2FwdGNoYUlkICYmIHRlbmNlbnRDYXB0Y2hhSWQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIChtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYSB8fCAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrICYmICF3aW5kb3cuZ3JlY2FwdGNoYSAmJiAhd2luZG93LmhjYXB0Y2hhKSkpIHtcbiAgICAgIHdpbmRvdy5vblRlbmNlbnRDYXB0Y2hhU3VibWl0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FwdGNoYVJlc3BvbnNlKSB7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhjYXB0Y2hhUmVzcG9uc2UpO1xuICAgICAgICB2YXIgc2VyaWFsaXplZEZvcm0gPSBtb2R1bGUudXRpbC5zZXJpYWxpemUoZm9ybSwgdXNlRW1wdHlGaWVsZHMpO1xuICAgICAgICBzZXJpYWxpemVkRm9ybSArPSAnJnFxX2NhcHRjaGFfdGlja2V0PScgKyBjYXB0Y2hhUmVzcG9uc2UudGlja2V0O1xuICAgICAgICBzZXJpYWxpemVkRm9ybSArPSAnJnFxX2NhcHRjaGFfcmFuZHN0cj0nICsgY2FwdGNoYVJlc3BvbnNlLnJhbmRzdHI7XG4gICAgICAgIG9uU3VjY2VzcyhzZXJpYWxpemVkRm9ybSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MobW9kdWxlLnV0aWwuc2VyaWFsaXplKGZvcm0sIHVzZUVtcHR5RmllbGRzKSk7XG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2V0R29vZ2xlQ2FwdGNoYShuYW1lLCByZWNhcHRjaGFpZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGNyZWF0ZVBhc3NLZXlCdXR0b25cbiAgKiBAcGFyYW0ge1N0cmluZ30gZmxhZyBuYW1lIG9mIHRoZSBsYWJlbFxuICAqIEBwYXJhbSB7T2JqZWN0fSBmb3JtIGh0bWwgZG9tXG4gICogQHBhcmFtIHtTdHJpbmd9IF9pZFByZWZpeCBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGh0bWwgZWxlbWVudCBjbGFzc1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIFBhc3MgS2V5IEJ1dHRvbi5cbiAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlUGFzc0tleUJ1dHRvbiAoZmxhZywgZm9ybSwgX2lkUHJlZml4LCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBzdWJtaXQudHlwZSA9ICdzdWJtaXQnO1xuICAgIHZhciBidXR0b25OYW1lID0gbW9kdWxlLmJ1dHRvbnNOYW1lW2ZsYWcudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdEJ1dHRvbnNOYW1lW2ZsYWcudG9Mb3dlckNhc2UoKV07XG4gICAgdmFyIGJ1dHRvbktleU5hbWUgPSBkZWZhdWx0QnV0dG9uc05hbWVbZmxhZy50b0xvd2VyQ2FzZSgpXTtcbiAgICBzdWJtaXQudmFsdWUgPSBidXR0b25OYW1lO1xuICAgIHN1Ym1pdC5pZCA9IF9pZFByZWZpeCArICctJyArIGJ1dHRvbktleU5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICctJyk7XG4gICAgc3VibWl0Lm5hbWUgPSBmbGFnO1xuICAgIHN1Ym1pdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJyAnICsgX2lkUHJlZml4ICsgYnV0dG9uS2V5TmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKSk7XG4gICAgc3VibWl0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfY2xhc3NQcmVmaXggKyAnICcgKyBidXR0b25LZXlOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnLScpKTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdCk7XG4gICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgc3VibWl0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChmbGFnID09PSAncmVnaXN0ZXJ3aXRocHdkJykge1xuICAgICAgICB3aW5kb3dbJ2xycHdkcmVnaXN0ZXInXSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3dbJ2xycGFzc2tleWxvZ2luJ10gPSB0cnVlO1xuICAgICAgICB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW5vdHAnXSA9IGZhbHNlO1xuICAgICAgICB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGNyZWF0ZU9uZUNsaWNrQnV0dG9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGZsYWcgbmFtZSBvZiB0aGUgbGFiZWxcbiAgKiBAcGFyYW0ge09iamVjdH0gZm9ybSBodG1sIGRvbVxuICAqIEBwYXJhbSB7T2JqZWN0fSBidG5Mb2dpblN1Ym1pdCBidXR0b24gZG9tIGVsZW1lbnRcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2lkUHJlZml4IGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggaHRtbCBlbGVtZW50IGNsYXNzXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgT25lIENsaWNrIEJ1dHRvbi5cbiAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlT25lQ2xpY2tCdXR0b24gKGZsYWcsIGZvcm0sIGJ0bkxvZ2luU3VibWl0LCBfaWRQcmVmaXgsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciBJRGxhYmVsID0gJ2xpbmtzaWduaW4nO1xuICAgIGlmIChmbGFnID09PSAncGFzc3dvcmRsZXNzTG9naW5PVFBCdXR0b25MYWJlbCcpIHtcbiAgICAgIElEbGFiZWwgPSAnb3Rwc2lnbmluJztcbiAgICB9XG4gICAgdmFyIHN1Ym1pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgc3VibWl0LnR5cGUgPSAnc3VibWl0JztcbiAgICB2YXIgYnV0dG9uTmFtZSA9IG1vZHVsZS5idXR0b25zTmFtZVtmbGFnLnRvTG93ZXJDYXNlKCldIHx8IGRlZmF1bHRCdXR0b25zTmFtZVtmbGFnLnRvTG93ZXJDYXNlKCldO1xuICAgIHZhciBidXR0b25LZXlOYW1lID0gZGVmYXVsdEJ1dHRvbnNOYW1lW2ZsYWcudG9Mb3dlckNhc2UoKV07XG4gICAgc3VibWl0LnZhbHVlID0gYnV0dG9uTmFtZTtcbiAgICBzdWJtaXQuaWQgPSBfaWRQcmVmaXggKyBJRGxhYmVsICsgJy0nICsgYnV0dG9uS2V5TmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKTtcbiAgICBzdWJtaXQuc2V0QXR0cmlidXRlKCdjbGFzcycsIF9jbGFzc1ByZWZpeCArIElEbGFiZWwgKyAnICcgKyBJRGxhYmVsICsgJy0nICsgX2lkUHJlZml4ICsgYnV0dG9uS2V5TmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKSk7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVCdXR0b25PbnN1Ym1pdCkge1xuICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc3RhcnRQcm9jZXNzJywgZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoKElEbGFiZWwgPT09ICdvdHBzaWduaW4nICYmIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddKSB8fCAoSURsYWJlbCA9PT0gJ2xpbmtzaWduaW4nICYmIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbiddKSkge1xuICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcigneGhyRW5kV2l0aEVycm9yJywgZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoKElEbGFiZWwgPT09ICdvdHBzaWduaW4nICYmIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddKSB8fCAoSURsYWJlbCA9PT0gJ2xpbmtzaWduaW4nICYmIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbiddKSkge1xuICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3hockVuZFdpdGhTdWNjZXNzJywgZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoKChJRGxhYmVsID09PSAnb3Rwc2lnbmluJyAmJiB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW5vdHAnXSkgfHwgKElEbGFiZWwgPT09ICdsaW5rc2lnbmluJyAmJiB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSkpICYmIG1vZHVsZS5vcHRpb25zLmVuYWJsZVN1Ym1pdE9uU3VjY2Vzcykge1xuICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXQpO1xuICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIGJ0bkxvZ2luU3VibWl0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddID0gZmFsc2U7XG4gICAgICB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSA9IGZhbHNlO1xuICAgICAgd2luZG93WydscnBhc3NrZXlsb2dpbiddID0gZmFsc2U7XG4gICAgfSk7XG4gICAgaWYgKGZsYWcgPT09ICdwYXNzd29yZGxlc3NMb2dpbk9UUEJ1dHRvbkxhYmVsJykge1xuICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgc3VibWl0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2lub3RwJ10gPSB0cnVlO1xuICAgICAgICB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSA9IGZhbHNlO1xuICAgICAgICB3aW5kb3dbJ2xycGFzc2tleWxvZ2luJ10gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBzdWJtaXQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSA9IHRydWU7XG4gICAgICAgIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddID0gZmFsc2U7XG4gICAgICAgIHdpbmRvd1snbHJwYXNza2V5bG9naW4nXSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gc2hvd1FSQ29kZVxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0XG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRIaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgUVIgY29kZSBhbmQgc2hvdyB0aGUgUVIgY29kZS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zaG93UVJDb2RlID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKSB7XG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5RUkNvZGVTY2hlbWEuc2xpY2UoKTtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMubWFza1NlbnNpdGl2ZUlucHV0KSB7XG4gICAgICBzY2hlbWFbMF0udHlwZSA9ICdwYXNzd29yZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVtYVswXS50eXBlID0gJ3N0cmluZyc7XG4gICAgfVxuICAgIHZhciBjcmVhdGVRUlNjaGVtYSA9IGZ1bmN0aW9uIChfcXJDb2RlLCBfbWFudWFsRW50cnlDb2RlKSB7XG4gICAgICBpZiAoX3FyQ29kZSkge1xuICAgICAgICBzY2hlbWEuc3BsaWNlKDAsIDAsIHtcbiAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgIG5hbWU6ICdxcmNvZGUnLFxuICAgICAgICAgIGRpc3BsYXk6ICdRUiBDb2RlJyxcbiAgICAgICAgICBydWxlczogJycsXG4gICAgICAgICAgcGVybWlzc2lvbjogJ3InLFxuICAgICAgICAgIHZhbHVlOiBfcXJDb2RlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKF9tYW51YWxFbnRyeUNvZGUpIHtcbiAgICAgICAgdmFyIF9jbGFzc1ByZWZpeF8gPSBfY2xhc3NQcmVmaXggfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5jbGFzc1ByZWZpeDtcbiAgICAgICAgc2NoZW1hLnNwbGljZSgxLCAwLCB7XG4gICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgbmFtZTogJ01hbnVhbEVudHJ5Q29kZScsXG4gICAgICAgICAgZGlzcGxheTogJ0dldCBNYW51YWwgRW50cnkgQ29kZScsXG4gICAgICAgICAgcnVsZXM6ICcnLFxuICAgICAgICAgIHBlcm1pc3Npb246ICdyJyxcbiAgICAgICAgICB0aXRsZTogXCJVc2UgdGhpcyBjb2RlIHdoZW4geW91IHVuYWJsZSB0byBzY2FuIFFSIGNvZGUuIFRhcCAnRW50ZXIgYSBwcm92aWRlZCBrZXknIHRoZW4gZW50ZXIgdGhlIGVtYWlsIGFkZHJlc3Mgb2YgeW91ciBBY2NvdW50IGFuZCBlbnRlciB0aGlzIGtleSBpbiB5b3VyIGF1dGhlbnRpY2F0b3IgYXBwXCIsXG4gICAgICAgICAgZXZlbnQ6ICdjbGljaycsXG4gICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbnRlbnQtJyArIF9jbGFzc1ByZWZpeF8gKyAnTWFudWFsRW50cnlDb2RlJylbMF07XG4gICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IF9tYW51YWxFbnRyeUNvZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHFyQ29kZTtcbiAgICB2YXIgbWFudWFsRW50cnlDb2RlO1xuICAgIGlmIChkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICBxckNvZGUgPSBkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLlFSQ29kZTtcbiAgICAgIG1hbnVhbEVudHJ5Q29kZSA9IGRhdGEuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uTWFudWFsRW50cnlDb2RlO1xuICAgICAgaWYgKCFkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzQXV0aGVudGljYXRvclZlcmlmaWVkKSB7XG4gICAgICAgIGNyZWF0ZVFSU2NoZW1hKHFyQ29kZSwgbWFudWFsRW50cnlDb2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcXJDb2RlID0gZGF0YS5RUkNvZGU7XG4gICAgICBtYW51YWxFbnRyeUNvZGUgPSBkYXRhLk1hbnVhbEVudHJ5Q29kZTtcbiAgICAgIGlmICghZGF0YS5Jc0F1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgICBjcmVhdGVRUlNjaGVtYShxckNvZGUsIG1hbnVhbEVudHJ5Q29kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlRm9ybShzY2hlbWEsICdzaG93UVJjb2RlJywgY29udGFpbmVyLCBmdW5jdGlvbiAoX2RhdGEpIHtcbiAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeTJGQU9UUENvbnRyb2xsZXIoX2RhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgIH0sXG4gICAgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gIH07XG5cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zaG93TUZBU2VjdXJpdHlRdWVzdGlvbnMgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcbiAgICB2YXIgbm9TZWN1cml0eVF1ZXN0aW9ucyA9IHRydWU7XG4gICAgdmFyIF9yZWdTY2hlbWEgPSBbXTtcbiAgICB2YXIgX3NlY1FTY2hlbWEgPSAnJztcbiAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZnRlckZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIGZvcm0pIHtcbiAgICAgIGlmICghbW9kdWxlLkxSQ2hlY2tMb2dpbiAmJiBmb3JtICYmIGZvcm0ubmFtZSA9PT0gJ2xvZ2lucmFkaXVzLW1mYXNlY3VyaXR5cXVlc3Rpb24nKSB7XG4gICAgICAgIHZhciBzdWJtaXRCdG4gPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoZm9ybSwgJ3R5cGUnLCAnc3VibWl0Jyk7XG4gICAgICAgIHZhciBzZXRzZWN1cml0eXF1ZXN0aW9uc0J0biA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShmb3JtLCAnbmFtZScsICdzZXRzZWN1cml0eXF1ZXN0aW9ucycpO1xuICAgICAgICBpZiAoc2V0c2VjdXJpdHlxdWVzdGlvbnNCdG4pIHtcbiAgICAgICAgICBzdWJtaXRCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWJtaXRCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoZGF0YSAmJiBkYXRhLlNlY3VyaXR5UXVlc3Rpb25zKSB7XG4gICAgICBfc2VjUVNjaGVtYSA9IGRhdGEuU2VjdXJpdHlRdWVzdGlvbnM7XG4gICAgICBkYXRhLmhhdmVTZWN1cml0eVF1ZXN0aW9uT25Qcm9maWxlID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25TY2hlbWEgPSBbXTtcbiAgICBpZiAoIW1vZHVsZS5MUkNoZWNrTG9naW4gJiYgZGF0YS5oYXZlU2VjdXJpdHlRdWVzdGlvbk9uUHJvZmlsZSkge1xuICAgICAgc2VjdXJpdHlRdWVzdGlvblNjaGVtYS5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgIG5hbWU6ICdlbmFibGVzZWN1cml0eXF1ZXN0aW9ucycsXG4gICAgICAgIGRpc3BsYXk6ICdFbmFibGUgU2VjdXJpdHkgUXVlc3Rpb25zIEF1dGhlbnRpY2F0b3InLFxuICAgICAgICBydWxlczogJycsXG4gICAgICAgIHBlcm1pc3Npb246ICdyJyxcbiAgICAgICAgZXZlbnQ6ICdjbGljaycsXG4gICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb250cm9sbGVycy52ZXJpZnlNRkFTZWN1cml0eVF1ZXN0aW9uc0J5QWNjZXNzVG9rZW5Db250cm9sbGVyKCcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VjdXJpdHlRdWVzdGlvblNjaGVtYSA9IHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuZ2V0U2VjdXJpdHlRdWVzdGlvblNjaGVtYShfcmVnU2NoZW1hLCBmYWxzZSwgX3NlY1FTY2hlbWEpO1xuICAgIH1cbiAgICBpZiAoX3NlY1FTY2hlbWEubGVuZ3RoID4gMCAmJiBkYXRhICYmICFkYXRhLklzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgc2VjdXJpdHlRdWVzdGlvblNjaGVtYS5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgIG5hbWU6ICdzZXRzZWN1cml0eXF1ZXN0aW9ucycsXG4gICAgICAgIGRpc3BsYXk6ICdTZXQgU2VjdXJpdHkgUXVlc3Rpb25zJyxcbiAgICAgICAgcnVsZXM6ICcnLFxuICAgICAgICBwZXJtaXNzaW9uOiAncicsXG4gICAgICAgIGV2ZW50OiAnY2xpY2snLFxuICAgICAgICBldmVudENhbGxiYWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgcGFyc2VkRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICAgIGRlbGV0ZSBwYXJzZWREYXRhLlNlY3VyaXR5UXVlc3Rpb25zO1xuICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaW5uZXJIVE1MID0gZmFsc2U7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgcGFyc2VkRGF0YS5oYXZlU2VjdXJpdHlRdWVzdGlvbk9uUHJvZmlsZSA9IGZhbHNlO1xuICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2hvd01GQVNlY3VyaXR5UXVlc3Rpb25zKHBhcnNlZERhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzZWN1cml0eVF1ZXN0aW9uU2NoZW1hLmxlbmd0aCA+IDApIHtcbiAgICAgIG5vU2VjdXJpdHlRdWVzdGlvbnMgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFub1NlY3VyaXR5UXVlc3Rpb25zKSB7XG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0oc2VjdXJpdHlRdWVzdGlvblNjaGVtYSwgJ21mYXNlY3VyaXR5cXVlc3Rpb24nLCBjb250YWluZXIsIGZ1bmN0aW9uIChtZmFkYXRhKSB7XG4gICAgICAgIGlmICghbW9kdWxlLkxSQ2hlY2tMb2dpbikge1xuICAgICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeU1GQVNlY3VyaXR5UXVlc3Rpb25zQnlBY2Nlc3NUb2tlbkNvbnRyb2xsZXIobWZhZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBkYXRhLmhhdmVTZWN1cml0eVF1ZXN0aW9uT25Qcm9maWxlLCBfc2VjUVNjaGVtYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKChkYXRhICYmIGRhdGEuSXNTZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRvclZlcmlmaWVkKSB8fCAoX3NlY1FTY2hlbWEgJiYgX3NlY1FTY2hlbWEubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeU1GQVNlY3VyaXR5UXVlc3Rpb25zQ29udHJvbGxlcihtZmFkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlcnMuc3VibWl0TUZBU2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyKG1mYWRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKFtcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snbm9TZWN1cml0eVF1ZXN0aW9ucyddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuZGlzYWJsZU1GQU9wdGlvbnMgPSBmdW5jdGlvbiAobWZhT3B0aW9uLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgZ0F1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZEdBQXV0aCk7XG4gICAgdmFyIHVwZGF0ZWRPdHBBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPVFBBdXRoKTtcbiAgICB2YXIgZW1haWxvdHBBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRFbWFpbE9UUEF1dGgpO1xuICAgIHZhciBzcUF1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFNRQXV0aCk7XG4gICAgdmFyIHB1c2hOb3RpZmljYXRpb25BdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRQdXNoTm90aWZpY2F0aW9uQXV0aCk7XG4gICAgdmFyIGR1b0F1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZER1b0F1dGgpO1xuICAgIHZhciBwYXNza2V5QXV0aCA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkUGFzc2tleUF1dGgpO1xuICAgIHZhciBtZmFPcHRpb25zID0ge1xuICAgICAgJ2F1dGhlbnRpY2F0b3InOiB7XG4gICAgICAgICdmaWVsZCc6IGdBdXRoLFxuICAgICAgICAnbmFtZSc6ICdhdXRoZW50aWNhdG9yY29kZScsXG4gICAgICAgICdkZWZhdWx0S2V5JzogJ3N0b3JlZEdBQXV0aCdcbiAgICAgIH0sXG4gICAgICAnZW1haWxvdHBhdXRoZW50aWNhdG9yJzoge1xuICAgICAgICAnZmllbGQnOiBlbWFpbG90cEF1dGgsXG4gICAgICAgICduYW1lJzogJ0VtYWlsIGF1dGhlbnRpY2F0b3InLFxuICAgICAgICAnZGVmYXVsdEtleSc6ICdzdG9yZWRFbWFpbE9UUEF1dGgnXG5cbiAgICAgIH0sXG4gICAgICAnb3RwYXV0aGVudGljYXRvcic6IHtcbiAgICAgICAgJ2ZpZWxkJzogdXBkYXRlZE90cEF1dGgsXG4gICAgICAgICduYW1lJzogJ09UUCBhdXRoZW50aWNhdG9yJyxcbiAgICAgICAgJ2RlZmF1bHRLZXknOiAnc3RvcmVkT1RQQXV0aCdcblxuICAgICAgfSxcbiAgICAgICdzcWF1dGhlbnRpY2F0b3InOiB7XG4gICAgICAgICdmaWVsZCc6IHNxQXV0aCxcbiAgICAgICAgJ25hbWUnOiAnU2VjdXJpdHkgUXVlc3Rpb25zIGF1dGhlbnRpY2F0b3InLFxuICAgICAgICAnZGVmYXVsdEtleSc6ICdzdG9yZWRTUUF1dGgnXG4gICAgICB9LFxuICAgICAgJ3B1c2hub3RpZmljYXRpb25hdXRoZW50aWNhdG9yJzoge1xuICAgICAgICAnZmllbGQnOiBwdXNoTm90aWZpY2F0aW9uQXV0aCxcbiAgICAgICAgJ25hbWUnOiAnUHVzaCBOb3RpZmljYXRpb24gYXV0aGVudGljYXRvcicsXG4gICAgICAgICdkZWZhdWx0S2V5JzogJ3N0b3JlZFB1c2hOb3RpZmljYXRpb25BdXRoJ1xuICAgICAgfSxcbiAgICAgICdkdW9hdXRoZW50aWNhdG9yJzoge1xuICAgICAgICAnZmllbGQnOiBkdW9BdXRoLFxuICAgICAgICAnbmFtZSc6ICdEdW8gU2VjdXJpdHkgYXV0aGVudGljYXRvcicsXG4gICAgICAgICdkZWZhdWx0S2V5JzogJ3N0b3JlZER1b0F1dGgnXG4gICAgICB9LFxuICAgICAgJ3Bhc3NrZXlhdXRoZW50aWNhdG9yJzoge1xuICAgICAgICAnZmllbGQnOiBwYXNza2V5QXV0aCxcbiAgICAgICAgJ25hbWUnOiAnUGFzc2tleSBhdXRoZW50aWNhdG9yJyxcbiAgICAgICAgJ2RlZmF1bHRLZXknOiAnc3RvcmVkUGFzc2tleUF1dGgnXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgY3VycmVudE1GQSA9IG1mYU9wdGlvblsnZW1haWxvdHBhdXRoZW50aWNhdG9yJ107XG4gICAgdmFyIGlzQWxsTUZBRGlzYWJsZWQgPSAwO1xuICAgIGZvciAodmFyIGtleSBpbiBtZmFPcHRpb25zKSB7XG4gICAgICBpZiAoa2V5ID09PSBtZmFPcHRpb24pIHtcbiAgICAgICAgY3VycmVudE1GQSA9IG1mYU9wdGlvbnNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtZmFPcHRpb25zW2tleV1bJ2ZpZWxkJ10gIT09ICdmYWxzZScpIHtcbiAgICAgICAgICBpc0FsbE1GQURpc2FibGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGhhbmRsZU9uU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSwgYXV0aGVudGljYXRvclR5cGUpIHtcbiAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHNbY3VycmVudE1GQVsnZGVmYXVsdEtleSddXSwgZmFsc2UpO1xuICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBhdXRoZW50aWNhdG9yVHlwZSk7XG4gICAgfTtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcbiAgICAgIGlmIChjdXJyZW50TUZBWydmaWVsZCddID09PSAnZmFsc2UnKSB7XG4gICAgICAgIG9uRXJyb3IoW3sgTWVzc2FnZTogY3VycmVudE1GQVsnbmFtZSddICsgJ2hhcyBhbHJlYWR5IGRpc2FibGVkLicgfV0pO1xuICAgICAgfSBlbHNlIGlmIChpc0FsbE1GQURpc2FibGVkID4gMCkge1xuICAgICAgICBjb250cm9sbGVycy5yZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlcihtZmFPcHRpb24sIGhhbmRsZU9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKGlzQWxsTUZBRGlzYWJsZWQgPT09IDApIHtcbiAgICAgICAgb25FcnJvcihbeyBNZXNzYWdlOiAnVHdvRmFjdG9yQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQsIFNvIGF0bGVhc3Qgb25lIGF1dGhlbnRpY2F0b3Igc2hvdWxkIGJlIHJlcXVpcmVkLicgfV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sbGVycy5yZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlcihtZmFPcHRpb24sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBnZXRTZWN1cml0eVF1ZXN0aW9uU2NoZW1hXG4gICogQHBhcmFtIHtBcnJheX0gcmVnU2NoZW1hIGFycmF5IG9mIHJlZyBmb3JtIGZpZWxkcyBvYmplY3RzXG4gICogQHBhcmFtIHtCb29sZWFufSByZWdpc3RyYXRpb24gZmxhZyBpZiByZWdpc3RyYXRpb24gdHJ1ZSB0aGVuIFNlY3VyaXR5IFF1ZXN0aW9ucyB3aWxsIGFkZCByZWdTY2hlbWEgYW5kIHJlbmRlclxuICAqIEByZXR1cm4ge0FycmF5fSBzZWNRU2NoZW1hIFNlY3VyaXR5IFF1ZXN0aW9ucyBhcnJheVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IFNlY3VyaXR5IFF1ZXN0aW9ucyBmcm9tIGFwaS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5nZXRTZWN1cml0eVF1ZXN0aW9uU2NoZW1hID0gZnVuY3Rpb24gKHJlZ1NjaGVtYSwgaXNSZWdpc3RyYXRpb24sIFNlY3VyaXR5UXVlc3Rpb25zTGlzdCkge1xuICAgIHZhciBzZWNRU2NoZW1hID0gW107XG4gICAgdmFyIF9zZWN1cml0eVF1ZXN0aW9ucyA9IG1vZHVsZS5vcHRpb25zLlNlY3VyaXR5UXVlc3Rpb25zO1xuICAgIHZhciBfc2VjdXJpdHlRdWVzdGlvbnNDb3VudCA9IG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25zQ291bnQ7XG4gICAgaWYgKFNlY3VyaXR5UXVlc3Rpb25zTGlzdCkge1xuICAgICAgX3NlY3VyaXR5UXVlc3Rpb25zID0gU2VjdXJpdHlRdWVzdGlvbnNMaXN0O1xuICAgICAgX3NlY3VyaXR5UXVlc3Rpb25zQ291bnQgPSBTZWN1cml0eVF1ZXN0aW9uc0xpc3QubGVuZ3RoO1xuICAgIH1cblxuICAgIGlmIChfc2VjdXJpdHlRdWVzdGlvbnMpIHtcbiAgICAgIHZhciBvcHRpb25zQXJyYXkgPSBbXTtcbiAgICAgIHZhciBzZWxlY3RlZE9wdGlvbnMgPSBbXTtcbiAgICAgIHZhciBjaGFuZ2VDYiA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoJ3NlY3VyaXR5UXVlc3Rpb24nKTtcbiAgICAgICAgdmFyIGVsZW1JbmRleCA9IGV2ZW50LnRhcmdldC5pZC5zcGxpdCgnc2VjdXJpdHlRdWVzdGlvbicpWzFdO1xuICAgICAgICBzZWxlY3RlZE9wdGlvbnNbZWxlbUluZGV4XSA9IGV2ZW50LnRhcmdldC5zZWxlY3RlZEluZGV4O1xuICAgICAgICB2YXIgZWxtcyA9IG1vZHVsZS51dGlsLmZpbmRFbGVtZW50QnlSZWdleCgnaWQnLCBwYXR0ZXJuLCAnc2VsZWN0Jyk7XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZWxtcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIGZvciAodmFyIGwgPSAxOyBsIDwgZWxtc1trXS5vcHRpb25zLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb25zLmluZGV4T2YoZWxtc1trXS5vcHRpb25zW2xdLmluZGV4KSA+IC0xICYmIGVsbXNba10ub3B0aW9uc1tsXS5pbmRleCAhPT0gZWxtc1trXS5vcHRpb25zLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgZWxtc1trXS5vcHRpb25zW2xdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbG1zW2tdLm9wdGlvbnNbbF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKCFTZWN1cml0eVF1ZXN0aW9uc0xpc3QpIHtcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBfc2VjdXJpdHlRdWVzdGlvbnMubGVuZ3RoOyBtKyspIHtcbiAgICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0ge307XG4gICAgICAgICAgb3B0aW9uT2JqZWN0LnRleHQgPSBfc2VjdXJpdHlRdWVzdGlvbnNbbV0uUXVlc3Rpb247XG4gICAgICAgICAgb3B0aW9uT2JqZWN0LnZhbHVlID0gX3NlY3VyaXR5UXVlc3Rpb25zW21dLlF1ZXN0aW9uSWQ7XG4gICAgICAgICAgb3B0aW9uc0FycmF5LnB1c2gob3B0aW9uT2JqZWN0KTtcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfc2VjdXJpdHlRdWVzdGlvbnNDb3VudDsgaisrKSB7XG4gICAgICAgIHZhciBzZWNRT2JqZWN0ID0ge307XG4gICAgICAgIGlmICghU2VjdXJpdHlRdWVzdGlvbnNMaXN0KSB7XG4gICAgICAgICAgc2VjUU9iamVjdC50eXBlID0gJ29wdGlvbic7XG4gICAgICAgICAgc2VjUU9iamVjdC5vcHRpb25zID0gb3B0aW9uc0FycmF5O1xuICAgICAgICAgIHNlY1FPYmplY3QubmFtZSA9ICdzZWN1cml0eVF1ZXN0aW9uJyArIGo7XG4gICAgICAgICAgc2VjUU9iamVjdC5kaXNwbGF5ID0gJ1NlY3VyaXR5IFF1ZXN0aW9uJztcbiAgICAgICAgICBzZWNRT2JqZWN0LmV2ZW50ID0gJ2NoYW5nZSc7XG4gICAgICAgICAgc2VjUU9iamVjdC5ldmVudENhbGxiYWNrID0gY2hhbmdlQ2I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjUU9iamVjdC50eXBlID0gJ2h0bWwnO1xuICAgICAgICAgIHNlY1FPYmplY3QubmFtZSA9ICdzZWN1cml0eVF1ZXN0aW9uJyArIGo7XG4gICAgICAgICAgc2VjUU9iamVjdC5odG1sID0gX3NlY3VyaXR5UXVlc3Rpb25zW2pdLlF1ZXN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZ2lzdHJhdGlvbikge1xuICAgICAgICAgIHNlY1FPYmplY3QucnVsZXMgPSAnb3B0aW9uYWwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY1FPYmplY3QucnVsZXMgPSAncmVxdWlyZWQnO1xuICAgICAgICB9XG4gICAgICAgIHNlY1FPYmplY3QucGVybWlzc2lvbiA9ICdyJztcbiAgICAgICAgaWYgKGlzUmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgcmVnU2NoZW1hLnB1c2goc2VjUU9iamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjUVNjaGVtYS5wdXNoKHNlY1FPYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWNBT2JqZWN0ID0ge307XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5tYXNrU2Vuc2l0aXZlSW5wdXQpIHtcbiAgICAgICAgICBzZWNBT2JqZWN0LnR5cGUgPSAncGFzc3dvcmQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY0FPYmplY3QudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICB9XG4gICAgICAgIHNlY0FPYmplY3QubmFtZSA9IFNlY3VyaXR5UXVlc3Rpb25zTGlzdCA/IF9zZWN1cml0eVF1ZXN0aW9uc1tqXS5RdWVzdGlvbklkIDogJ3NlY3VyaXR5QW5zd2VyJyArIGo7IHNlY0FPYmplY3QuZGlzcGxheSA9ICdBbnN3ZXInO1xuICAgICAgICBpZiAoaXNSZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICBzZWNBT2JqZWN0LnJ1bGVzID0gJ29wdGlvbmFsJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWNBT2JqZWN0LnJ1bGVzID0gJ3JlcXVpcmVkJztcbiAgICAgICAgfVxuICAgICAgICBzZWNBT2JqZWN0LnBlcm1pc3Npb24gPSAncic7XG4gICAgICAgIGlmIChpc1JlZ2lzdHJhdGlvbikge1xuICAgICAgICAgIHJlZ1NjaGVtYS5wdXNoKHNlY0FPYmplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY1FTY2hlbWEucHVzaChzZWNBT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VjUVNjaGVtYTtcbiAgfTtcblxuICB2YXIgc29jaWFsTG9naW5BUEkgPSBmYWxzZTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNvY2lhbExvZ2luXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSB0aGUgc29jaWFsIGxvZ2luIHByb2Nlc3MuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc29jaWFsTG9naW4gPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIHdpbmRvdy5odG1sNXBhc3NUb2tlbiA9IGZ1bmN0aW9uICh0b2spIHtcbiAgICAgIGlmICghc29jaWFsTG9naW5BUEkpIHtcbiAgICAgICAgc29jaWFsTG9naW5BUEkgPSB0cnVlO1xuICAgICAgICBjb250YWluZXIgPSBMb2dpblJhZGl1c0RlZmF1bHRzLnNvY2lhbFJlZ0Zvcm1JZCB8fCBjb250YWluZXI7XG4gICAgICAgIHZhciBjdXJyZW50QWN0aW9uID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoJ0xSU2V0U2FmYXJpVG9rZW4nKTtcbiAgICAgICAgaWYgKGN1cnJlbnRBY3Rpb24pIHtcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ2dldEN1cnJlbnRBY3Rpb25PcHRpb25zJywgY3VycmVudEFjdGlvbik7XG4gICAgICAgICAgb25TdWNjZXNzID0gd2luZG93LkxSU2FmYXJpb25TdWNjZXNzIHx8IG9uU3VjY2VzcztcbiAgICAgICAgICBvbkVycm9yID0gd2luZG93LkxSU2FmYXJpb25FcnJvciB8fCBvbkVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXJzLnNvY2lhbExvZ2luUmVjZWl2ZVRva2VuKHRvaywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgbHJUb2tlbiA9IG1vZHVsZS51dGlsLmdldEhhc2hQYXJhbSgnbHItdG9rZW4nKTtcbiAgICBpZiAobHJUb2tlbikge1xuICAgICAgd2luZG93Lmh0bWw1cGFzc1Rva2VuKGxyVG9rZW4pO1xuICAgIH1cblxuICAgIG1vZHVsZS5sb2dpblJhZGl1c0h0bWw1UGFzc1Rva2VuID0gd2luZG93Lmh0bWw1cGFzc1Rva2VuO1xuICAgIGlmICghbW9kdWxlLm9wdGlvbnMuaXNNb2JpbGUgJiYgIW1vZHVsZS5vcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbikge1xuICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ21lc3NhZ2UnLCB3aW5kb3csIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQub3JpZ2luLmluZGV4T2YobW9kdWxlLm9wdGlvbnMuY3VzdG9tRG9tYWluKSA9PT0gLTEgJiYgZXZlbnQub3JpZ2luLmluZGV4T2YoTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW4pID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIgPSBMb2dpblJhZGl1c0RlZmF1bHRzLnNvY2lhbFJlZ0Zvcm1JZCB8fCBjb250YWluZXI7XG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycgJiYgKExvZ2luUmFkaXVzRGVmYXVsdHMuX3V1aWRGb3JtYXQudGVzdChldmVudC5kYXRhKSB8fCBtb2R1bGUudXRpbC5pc0pXVChldmVudC5kYXRhKSkpIHtcbiAgICAgICAgICBjb250cm9sbGVycy5zb2NpYWxMb2dpblJlY2VpdmVUb2tlbihldmVudC5kYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3NvY2lhbENhbGxzJywgZnVuY3Rpb24gKHByb3ZpZGVyLCBjbGllbnRHdWlkKSB7XG4gICAgICAgIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5ub0NhbGxiYWNrRm9yU29jaWFsTG9naW4pIHtcbiAgICAgICAgICB2YXIgb25IYW5kbGVTb2NpYWxMb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlcnMuc29jaWFsTG9naW5SZWNlaXZlVG9rZW4ocmVzcG9uc2UuYWNjZXNzX3Rva2VuLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JTb2NpYWxMb2dpbihjbGllbnRHdWlkLCBvbkhhbmRsZVNvY2lhbExvZ2luU3VjY2VzcywgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHJlc2V0UGFzc0tleVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgdGhlIHJlc2V0IHBhc3N3b3JkIHByb2Nlc3MuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZXRQYXNzS2V5ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBpZiAoIW1vZHVsZS5vcHRpb25zLmlzUGFzc0tleXNFbmFibGVkKSB7XG4gICAgICBtb2R1bGUubG9nKCdwbGVhc2UgZW5hYmxlIHBhc3Mga2V5IGZyb20gYWRtaW4gY29uc29sZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdnR5cGUgPSBtb2R1bGUudXRpbC5nZXRIYXNoUGFyYW0oJ3Z0eXBlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgaWYgKHZ0eXBlID09IG51bGwpIHtcbiAgICAgICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5mb3Jnb3RQYXNzS2V5Rm9ybVNjaGVtYTtcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtKHNjaGVtYSwgJ2ZvcmdvdFBhc3NLZXknLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgY29udHJvbGxlcnMuZm9yZ290UGFzc0tleUNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdnRva2VuID0gbW9kdWxlLnV0aWwuZ2V0SGFzaFBhcmFtKCd2dG9rZW4nKTtcbiAgICAgICAgaWYgKCF2dG9rZW4pIHtcbiAgICAgICAgICBvbkVycm9yKFt7XG4gICAgICAgICAgICBNZXNzYWdlOiAnVmVyaWZpY2F0aW9uIFRva2VuIG5vdCBmb3VuZCBpbiBxdWVyeSBzdHJpbmcuJ1xuICAgICAgICAgIH1dKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVycy5yZXNldFBhc3NLZXlDb250cm9sbGVyKHZ0b2tlbiwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge09iamVjdH0gZmRhdGEganNvbiBvYmplY3Qgd2hpY2ggaG9sZCAnZW1haWwnLCAndXNlcm5hbWUnXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHRoZSByZXNldCBwYXNzd29yZCBwcm9jZXNzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2V0UGFzc3dvcmQgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgZmRhdGEpIHtcbiAgICB2YXIgc2NoZW1hID0gbW9kdWxlLnJlc2V0UGFzc3dvcmRGb3JtU2NoZW1hLnNsaWNlKCk7XG4gICAgdmFyIHZ0eXBlID0gbW9kdWxlLnV0aWwuZ2V0SGFzaFBhcmFtKCd2dHlwZScpO1xuICAgIHZhciBmbmRhdGE7XG4gICAgdmFyIHBob25lTm87XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcbiAgICBpZiAodnR5cGUgPT0gbnVsbCkge1xuICAgICAgc2NoZW1hID0gbW9kdWxlLnJlc2V0UGFzc3dvcmRCeVBob25lU2NoZW1hLnNsaWNlKCk7XG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFBhc3N3b3JkUnVsZShtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpKTtcbiAgICAgIGlmIChmZGF0YSkge1xuICAgICAgICB2YXIgZGF0YUtleSwgZGF0YVZhbHVlO1xuICAgICAgICBpZiAoZmRhdGEuZW1haWwpIHtcbiAgICAgICAgICBkYXRhS2V5ID0gJ2VtYWlsJztcbiAgICAgICAgICBkYXRhVmFsdWUgPSBmZGF0YS5lbWFpbDtcbiAgICAgICAgfSBlbHNlIGlmIChmZGF0YS51c2VybmFtZSkge1xuICAgICAgICAgIGRhdGFLZXkgPSAndXNlcm5hbWUnO1xuICAgICAgICAgIGRhdGFWYWx1ZSA9IGZkYXRhLnVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnaGlkZGVuJyxcbiAgICAgICAgICBuYW1lOiBkYXRhS2V5LFxuICAgICAgICAgIHZhbHVlOiBkYXRhVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4pIHtcbiAgICAgICAgcGhvbmVObyA9ICcmJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vO1xuICAgICAgICBpZiAoIW1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Jlc2VuZG90cCcpKSB7XG4gICAgICAgICAgbW9kdWxlLkxSUHJlZml4ID0gX2NsYXNzUHJlZml4ICsgJyMjJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXg7XG4gICAgICAgICAgdmFyIHJlY2FwdGNoYWlkID0gbW9kdWxlLkxSUHJlZml4LnJlcGxhY2UoJyMjJywgJycpICsgJ3JlY2FwdGNoYV93aWRnZXRfcmVzZXRwYXNzd29yZCc7XG4gICAgICAgICAgdmFyIHJlc2VuZEV2ZW50Q2FsbGJhY2tGbiA9IGZ1bmN0aW9uIChldmVudCwgaXNWb2ljZSkge1xuICAgICAgICAgICAgdmFyIGNhcHRjaGFIYW5kbGVDYWxsYmFjayA9IGZ1bmN0aW9uIGNhcHRjaGFIYW5kbGUgKGtleSkge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydzdWNjZXNzJ10gPSBrZXk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGtleTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGF0YVsnZXJyb3InXSkge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoW3ByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0TWFwcGVkTWVzc2FnZShkYXRhWydlcnJvciddKV0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgTG9naW5SYWRpdXNEZWZhdWx0cy5MUlBob25lTm8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLkxSUGhvbmVObyA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoTG9naW5SYWRpdXNEZWZhdWx0cy5MUlBob25lTm8pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLkxSUGhvbmVOb1snZy1yZWNhcHRjaGEtcmVzcG9uc2UnXSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vWydnLXJlY2FwdGNoYS1yZXNwb25zZSddID0gZGF0YVsnc3VjY2VzcyddO1xuICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhKSBncmVjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vWydoLWNhcHRjaGEtcmVzcG9uc2UnXSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vWydoLWNhcHRjaGEtcmVzcG9uc2UnXSA9IGRhdGFbJ3N1Y2Nlc3MnXTtcbiAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaGNhcHRjaGEgJiYgbW9kdWxlLm9wdGlvbnMuaENhcHRjaGFTaXRlS2V5KSB3aW5kb3cuaGNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250cm9sbGVycy5mb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyKExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBpc1ZvaWNlLCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbikge1xuICAgICAgICAgICAgICBtb2R1bGUudXRpbC5kaXNhYmxlUmVzZW5kT1RQQnV0dG9uKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfb3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uID0gbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKF9vcHRpb25hbFJlY2FwdGNoYUNvbmZpZ3VyYXRpb24gJiYgX29wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbi5Jc0VuYWJsZWQgJiZcbiAgICAgICAgICAgICAgX29wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbi5BcGlzICYmIGlzQWRkQm90UHJvdGVjdGlvbignZm9yZ290cGFzc3dvcmQnLCBfb3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uLkFwaXMpKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5vbkNhcHRjaGFTdWJtaXQgPSBjYXB0Y2hhSGFuZGxlQ2FsbGJhY2s7XG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYWRkRm9ybUNhcHRjaGFFeGVjdXRlJywgcmVjYXB0Y2hhaWQsIHRydWUsIGNhcHRjaGFIYW5kbGVDYWxsYmFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250cm9sbGVycy5mb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyKExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBpc1ZvaWNlLCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHJlc2VuZEJ0bk9UUFNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5idG5PVFBTY2hlbWEsIHtcbiAgICAgICAgICAgIG5hbWU6ICdyZXNlbmRvdHAnLFxuICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCB2aWEgU01TJyxcbiAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICByZXNlbmRFdmVudENhbGxiYWNrRm4oZXZlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY2hlbWEucHVzaChyZXNlbmRCdG5PVFBTY2hlbWEpO1xuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc1ZvaWNlT3RwKSB7XG4gICAgICAgICAgICB2YXIgcmVzZW5kQnRuVk9UUFNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5idG5PVFBTY2hlbWEsIHtcbiAgICAgICAgICAgICAgbmFtZTogJ3Jlc2VuZHZvaWNlb3RwJyxcbiAgICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCB2aWEgVm9pY2UgY2FsbCcsXG4gICAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJlc2VuZEV2ZW50Q2FsbGJhY2tGbihldmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NoZW1hLnB1c2gocmVzZW5kQnRuVk9UUFNjaGVtYSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Bhc3N3b3JkJykpO1xuICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xuICAgICAgdmFyIHZ0b2tlbiA9IG1vZHVsZS51dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XG4gICAgICBpZiAoIXZ0b2tlbikge1xuICAgICAgICBvbkVycm9yKFt7XG4gICAgICAgICAgTWVzc2FnZTogJ1ZlcmlmaWNhdGlvbiBUb2tlbiBub3QgZm91bmQgaW4gcXVlcnkgc3RyaW5nLidcbiAgICAgICAgfV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnZlcmlmeUVtYWlsQnlPVFApIHtcbiAgICAgICAgICB2YXIgX2VtYWlsID0gbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ2VtYWlsJyk7XG4gICAgICAgICAgZm5kYXRhID0gJyZvdHA9JyArIHZ0b2tlbjtcbiAgICAgICAgICBmbmRhdGEgKz0gJyZlbWFpbD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KF9lbWFpbC5yZXBsYWNlKC8gL2csICcrJykpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgc2NoZW1hLnNwbGljZSgyLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUucmVzZXRQYXNzd29yZEZvcm1TY2hlbWFbMl0udmFsdWUgPSB2dG9rZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtKHNjaGVtYSwgJ3Jlc2V0cGFzc3dvcmQnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoZGF0YS5pbmRleE9mKCdvdHAnKSAhPT0gLTEgJiYgIWZkYXRhKSB7XG4gICAgICAgIHZhciBnZXRQaG9uZU5vID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhwaG9uZU5vKTtcbiAgICAgICAgY29udHJvbGxlcnMucmVzZXRQYXNzd29yZEJ5UGhvbmVDb250cm9sbGVyKGRhdGEgKyAnJnBob25lPScgKyBnZXRQaG9uZU5vLnBob25lLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmbmRhdGEpIHtcbiAgICAgICAgICBkYXRhICs9IGZuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjb250cm9sbGVycy5yZXNldFBhc3N3b3JkQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgfSwgX2NsYXNzUHJlZml4LCAnZm9yZ290cGFzc3dvcmQnKTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiByZXNldFBJTlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge09iamVjdH0gZmRhdGEganNvbiBvYmplY3Qgd2hpY2ggaG9sZCAnZW1haWwnLCAndXNlcm5hbWUnXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHRoZSByZXNldCBwaW4gcHJvY2Vzcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNldFBJTiA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBmZGF0YSkge1xuICAgIHZhciBzY2hlbWEgPSBtb2R1bGUucmVzZXRQSU5Gb3JtU2NoZW1hLnNsaWNlKCk7XG4gICAgdmFyIHZ0eXBlID0gbW9kdWxlLnV0aWwuZ2V0SGFzaFBhcmFtKCd2dHlwZScpO1xuICAgIHZhciBmbmRhdGE7XG4gICAgdmFyIHBob25lTm87XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcbiAgICBpZiAodnR5cGUgPT0gbnVsbCkge1xuICAgICAgc2NoZW1hID0gbW9kdWxlLnJlc2V0UElOQnlQaG9uZVNjaGVtYS5zbGljZSgpO1xuICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRQSU5SdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3BpbicpKTtcbiAgICAgIGlmIChmZGF0YSkge1xuICAgICAgICB2YXIgZGF0YUtleSwgZGF0YVZhbHVlO1xuICAgICAgICBpZiAoZmRhdGEuZW1haWwpIHtcbiAgICAgICAgICBkYXRhS2V5ID0gJ2VtYWlsJztcbiAgICAgICAgICBkYXRhVmFsdWUgPSBmZGF0YS5lbWFpbDtcbiAgICAgICAgfSBlbHNlIGlmIChmZGF0YS51c2VybmFtZSkge1xuICAgICAgICAgIGRhdGFLZXkgPSAndXNlcm5hbWUnO1xuICAgICAgICAgIGRhdGFWYWx1ZSA9IGZkYXRhLnVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnaGlkZGVuJyxcbiAgICAgICAgICBuYW1lOiBkYXRhS2V5LFxuICAgICAgICAgIHZhbHVlOiBkYXRhVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4pIHtcbiAgICAgICAgcGhvbmVObyA9ICcmJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vO1xuICAgICAgICBpZiAoIW1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Jlc2VuZG90cCcpKSB7XG4gICAgICAgICAgdmFyIHJlc2VuZEJ0bk9UUFNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5idG5PVFBTY2hlbWEsIHtcbiAgICAgICAgICAgIG5hbWU6ICdyZXNlbmRvdHAnLFxuICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCB2aWEgU01TJyxcbiAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbikge1xuICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmRpc2FibGVSZXNlbmRPVFBCdXR0b24oZXZlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJzLmZvcmdvdFBJTmJ5UGhvbmVDb250cm9sbGVyKExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBmYWxzZSwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY2hlbWEucHVzaChyZXNlbmRCdG5PVFBTY2hlbWEpO1xuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc1ZvaWNlT3RwKSB7XG4gICAgICAgICAgICB2YXIgcmVzZW5kQnRuVk9UUFNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5idG5PVFBTY2hlbWEsIHtcbiAgICAgICAgICAgICAgbmFtZTogJ3Jlc2VuZHZvaWNlb3RwJyxcbiAgICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCB2aWEgVm9pY2UgY2FsbCcsXG4gICAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5kaXNhYmxlUmVzZW5kT1RQQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5kaXNhYmxlUmVzZW5kT1RQQnV0dG9uKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcnMuZm9yZ290UElOYnlQaG9uZUNvbnRyb2xsZXIoTG9naW5SYWRpdXNEZWZhdWx0cy5MUlBob25lTm8sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHRydWUsIGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NoZW1hLnB1c2gocmVzZW5kQnRuVk9UUFNjaGVtYSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0UElOUnVsZShtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdwaW4nKSk7XG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFBJTlJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBpbicpKTtcbiAgICAgIHZhciB2dG9rZW4gPSBtb2R1bGUudXRpbC5nZXRIYXNoUGFyYW0oJ3Z0b2tlbicpO1xuICAgICAgaWYgKCF2dG9rZW4pIHtcbiAgICAgICAgb25FcnJvcihbe1xuICAgICAgICAgIE1lc3NhZ2U6ICdWZXJpZmljYXRpb24gVG9rZW4gbm90IGZvdW5kIGluIHF1ZXJ5IHN0cmluZy4nXG4gICAgICAgIH1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52ZXJpZnlFbWFpbEJ5T1RQKSB7XG4gICAgICAgICAgdmFyIF9lbWFpbCA9IG1vZHVsZS51dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdlbWFpbCcpO1xuICAgICAgICAgIGZuZGF0YSA9ICcmb3RwPScgKyB2dG9rZW47XG4gICAgICAgICAgZm5kYXRhICs9ICcmZW1haWw9JyArIGVuY29kZVVSSUNvbXBvbmVudChfZW1haWwucmVwbGFjZSgvIC9nLCAnKycpKTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICAgIHNjaGVtYS5zcGxpY2UoMiwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kdWxlLnJlc2V0UElORm9ybVNjaGVtYVsyXS52YWx1ZSA9IHZ0b2tlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0oc2NoZW1hLCAncmVzZXRwaW4nLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoZGF0YS5pbmRleE9mKCdvdHAnKSAhPT0gLTEgJiYgIWZkYXRhKSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UElOQnlQaG9uZUNvbnRyb2xsZXIoZGF0YSArIHBob25lTm8sIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZuZGF0YSkge1xuICAgICAgICAgIGRhdGEgKz0gZm5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UElOQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgfSwgX2NsYXNzUHJlZml4KTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBzZXRQYXNzd29yZFJ1bGVcbiAgKiBAcGFyYW0ge09iamVjdH0gZmllbGQganNvbiBvYmplY3Qgd2hpY2ggaG9sZCBmb3JtIGZpZWxkIGluZm9cbiAgKiBAcGFyYW0ge1N0cmluZ30gbG9naW5BY3Rpb24gYWN0aW9uIG5hbWUgZXguICdsb2dpbidcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBzZXQgcGFzc3dvcmQgcnVsZXMgcHJvY2Vzcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRQYXNzd29yZFJ1bGUgPSBmdW5jdGlvbiAoZmllbGQsIGxvZ2luQWN0aW9uKSB7XG4gICAgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGggPSBtb2R1bGUub3B0aW9ucy5wYXNzd29yZGxlbmd0aCB8fCBtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aDtcbiAgICB2YXIgcGFzc3dvcmRSdWxlcyA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShtb2R1bGUub3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpLnJ1bGVzO1xuICAgIGlmIChmaWVsZCAmJiBmaWVsZC5ydWxlcykge1xuICAgICAgdmFyIG1hdGNoUnVsZVBhdHRlcm4gPSBuZXcgUmVnRXhwKC9tYXRjaGVzXFxbXFx3KlxcXS8pO1xuICAgICAgdmFyIG1hdGNoUnVsZVJlcyA9IG1hdGNoUnVsZVBhdHRlcm4uZXhlYyhmaWVsZC5ydWxlcyk7XG4gICAgICBpZiAobWF0Y2hSdWxlUmVzKSB7XG4gICAgICAgIHZhciBtYXRjaFJ1bGVTdHJpbmcgPSBtYXRjaFJ1bGVSZXNbMF07XG4gICAgICAgIGZpZWxkLnJ1bGVzID0gW3Bhc3N3b3JkUnVsZXMsIG1hdGNoUnVsZVN0cmluZ10uam9pbignfCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmllbGQucnVsZXMgPSBwYXNzd29yZFJ1bGVzO1xuICAgICAgfVxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkTGVuZ3RoICYmIG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkTGVuZ3RoLm1pbiAmJiBtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aC5tYXgpIHtcbiAgICAgICAgZmllbGQucnVsZXMgPSBmaWVsZC5ydWxlcyB8fCAnJztcbiAgICAgICAgZmllbGQucnVsZXMgPSBmaWVsZC5ydWxlcy5yZXBsYWNlKCdtaW5fbGVuZ3RoWzZdJywgJ21pbl9sZW5ndGhbJyArIG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkTGVuZ3RoLm1pbiArICddJylcbiAgICAgICAgICAucmVwbGFjZSgnbWF4X2xlbmd0aFszMl0nLCAnbWF4X2xlbmd0aFsnICsgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGgubWF4ICsgJ10nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9naW5BY3Rpb24gPSBsb2dpbkFjdGlvbiB8fCBmYWxzZTtcbiAgICBpZiAobG9naW5BY3Rpb24gJiYgZmllbGQpIHtcbiAgICAgIGZpZWxkLnJ1bGVzID0gJ3JlcXVpcmVkJztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gc2V0UElOUnVsZVxuICAqIEBwYXJhbSB7T2JqZWN0fSBmaWVsZCBqc29uIG9iamVjdCB3aGljaCBob2xkIGZvcm0gZmllbGQgaW5mb1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHNldCBwaW4gcnVsZXMgcHJvY2Vzcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRQSU5SdWxlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgaWYgKG1vZHVsZS5waW5TY2hlbWEgJiYgbW9kdWxlLnBpblNjaGVtYS5sZW5ndGgpIHtcbiAgICAgIHZhciBwaW5SdWxlcyA9IG1vZHVsZS5waW5TY2hlbWFbMF0ucnVsZXM7XG4gICAgICBpZiAoZmllbGQgJiYgZmllbGQucnVsZXMpIHtcbiAgICAgICAgdmFyIG1hdGNoUnVsZVBhdHRlcm4gPSBuZXcgUmVnRXhwKC9tYXRjaGVzXFxbXFx3KlxcXS8pO1xuICAgICAgICB2YXIgbWF0Y2hSdWxlUmVzID0gbWF0Y2hSdWxlUGF0dGVybi5leGVjKGZpZWxkLnJ1bGVzKTtcbiAgICAgICAgaWYgKG1hdGNoUnVsZVJlcykge1xuICAgICAgICAgIHZhciBtYXRjaFJ1bGVTdHJpbmcgPSBtYXRjaFJ1bGVSZXNbMF07XG4gICAgICAgICAgZmllbGQucnVsZXMgPSBbcGluUnVsZXMsIG1hdGNoUnVsZVN0cmluZ10uam9pbignfCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpZWxkLnJ1bGVzID0gcGluUnVsZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLlBJTkNvbmZpZ3VyYXRpb24uSXNSZXF1aXJlZCAmJiBmaWVsZC5ydWxlcy5pbmRleE9mKCdyZXF1aXJlZCcpID09PSAtMSkge1xuICAgICAgICAgIGZpZWxkLnJ1bGVzID0gZmllbGQucnVsZXMgPyBbZmllbGQucnVsZXMsICdyZXF1aXJlZCddLmpvaW4oJ3wnKSA6ICdyZXF1aXJlZCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gY2hhbmdlTnVtYmVyRm9ybVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7T2JqZWN0fSBmb3JtRWxlbWVudCBodG1sIGRvbSBlbGVtZW50XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7U3RyaW5nfSBpbm5lckh0bWwgdmFsdWUgd2hpY2ggd2FudCBkaXNwbGF5IGluIGh0bWwgZWxlbWVudFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIENyZWF0ZSBjaGFuZ2UgcGhvbmUgbnVtYmVyIGZvcm0gYW5kIGFkZCBldmVudCBvbiBjaGFuZ2UsIHJlc2V0IGJ1dHRvbnMuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY2hhbmdlTnVtYmVyRm9ybSA9IGZ1bmN0aW9uIChjb250YWluZXIsIGZvcm1FbGVtZW50LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgaW5uZXJIdG1sLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICB2YXIgY2hhbmdlQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdjaGFuZ2VudW1iZXInLCBfY2xhc3NQcmVmaXgpO1xuICAgIHZhciByZXNldEJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnZGlzYWJsZW90cGF1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgpO1xuICAgIC8vIHZhciB1cGRhdGVkT3RwQXV0aCA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkT1RQQXV0aCk7XG4gICAgdmFyIGdBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRHQUF1dGgpO1xuICAgIHZhciBkdW9BdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWREdW9BdXRoKTtcbiAgICB2YXIgc3FBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRTUUF1dGgpO1xuICAgIHZhciBlbWFpbG90cEF1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZEVtYWlsT1RQQXV0aCk7XG4gICAgdmFyIHB1c2hOb3RpZmljYXRpb25BdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRQdXNoTm90aWZpY2F0aW9uQXV0aCk7XG5cbiAgICAvLyAgdmFyIGRpc2FibGVNRkEgPSBnb29nbGVBdXRoICE9PSAnZmFsc2UnID8gdHJ1ZSA6IChlbWFpbG90cEF1dGggIT09ICdmYWxzZScpO1xuICAgIHZhciBkaXNhYmxlTUZBID0gZW1haWxvdHBBdXRoICE9PSAnZmFsc2UnIHx8IGdBdXRoICE9PSAnZmFsc2UnIHx8IHNxQXV0aCAhPT0gJ2ZhbHNlJyB8fCBkdW9BdXRoICE9PSAnZmFsc2UnIHx8IHB1c2hOb3RpZmljYXRpb25BdXRoICE9PSAnZmFsc2UnO1xuXG4gICAgaWYgKGZvcm1FbGVtZW50KSB7XG4gICAgICBmb3JtRWxlbWVudC5hcHBlbmRDaGlsZChjaGFuZ2VCdG4pO1xuICAgICAgaWYgKHRva2VuICYmICFtb2R1bGUuTFJDaGVja0xvZ2luICYmIChtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IChkaXNhYmxlTUZBICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSkpIHtcbiAgICAgICAgZm9ybUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzZXRCdG4pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGNoYW5nZUJ0biwgaW5uZXJIdG1sKTtcbiAgICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbiAmJiAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCAoZGlzYWJsZU1GQSAmJiBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikpKSB7XG4gICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgcmVzZXRCdG4sIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCByZXNldEJ0biwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmRpc2FibGVNRkFPcHRpb25zKCdvdHBhdXRoZW50aWNhdG9yJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9KTtcbiAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBjaGFuZ2VCdG4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGNoYW5nZVBob25lRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShfY2xhc3NQcmVmaXggKyAnY2hhbmdlUGhvbmUnKVswXTtcbiAgICAgIGlmICghY2hhbmdlUGhvbmVGb3JtRWxlbWVudCkge1xuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnVwZGF0ZVBob25lTnVtYmVyKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsICdjaGFuZ2VQaG9uZScsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiB2YWxpZGF0ZUFuZENhbGxcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB2YWxpZGF0ZSBzc28gYW5kIGNhbGwgYmFjayBmdW5jdGlvbiBpZiBhcHAgbmFtZSBleGlzdC4gSXQgd2lsbCB0ZXJtaW5hdGUgdGhlIHNlc3Npb24gb2Ygc3NvIHdoZW4gdXNlciBsb2dvdXQgZnJvbSBzaXRlLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnZhbGlkYXRlQW5kQ2FsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQpIHtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5hcHBOYW1lKSB7XG4gICAgICAgIGZ1bmMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS5sb2coJ0xvZ2luUmFkaXVzIHNpdGUgbmFtZSAoYXBwIG5hbWUpIHJlcXVpcmVkIHRvIGRvIFNTTycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtb2R1bGUubG9nKCdJbml0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGZpcnN0IHRoZW4gbG9naW4uJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGxvZ291dFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHRoZSBzc28gbG9nb3V0IHByb2Nlc3MuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUubG9nb3V0ID0gZnVuY3Rpb24gKG9uU3VjY2Vzcykge1xuICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUudmFsaWRhdGVBbmRDYWxsKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0b2tlbkV4cGlyeVBhcmFtZXRlciA9IG1vZHVsZS5vcHRpb25zLnRva2VuRXhwaXJlID8gJz90b2tlbkV4cGlyZT0xJyA6ICcnO1xuICAgICAgdmFyIGFjdGlvbiA9IG1vZHVsZS5vcHRpb25zLnRva2VuRXhwaXJlID8gJ3Rva2VuRXhwaXJlJyA6ICdsb2dvdXQnO1xuICAgICAgdmFyIGRvbWFpbiA9IG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbiB8fCBtb2R1bGUub3B0aW9ucy5hcHBOYW1lICsgJy4nICsgTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW47XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgJ2h0dHBzOi8vJyArIGRvbWFpbiArICcvc3NvbG9naW4vJyArIGFjdGlvbiArIHRva2VuRXhwaXJ5UGFyYW1ldGVyLCAnJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgTFJOYW1lU3BhY2UuY29va2llcy5yZW1vdmVJdGVtKExvZ2luUmFkaXVzRGVmYXVsdHMudG9rZW5Db29raWUsIG1vZHVsZS5vcHRpb25zLmFwcFBhdGgpO1xuICAgICAgICBtb2R1bGUuY2xlYXJTZXNzaW9uKCk7XG4gICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3Qgc2VuZGluZyBhY3Rpb24gJ2xvZ291dCcgdG8gc3VwcG9ydCBvbGQganNvbnBjYWxsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBvdHBFbWFpbFZlcmlmaWNhdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge09iamVjdH0gZmRhdGEganNvbiBvYmplY3Qgd2hpY2ggaG9sZCAnZW1haWwnICd1c2VybmFtZSdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgb3RwRW1haWxWZXJpZmljYXRpb24gcHJvY2VzcyBhbmQgY3JlYXRlIGZvcm0gb2YgdGhhdC5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5vdHBFbWFpbFZlcmlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBmZGF0YSkge1xuICAgIHZhciBzY2hlbWEgPSBtb2R1bGUub3RwU2NoZW1hO1xuICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlRm9ybShzY2hlbWEsICdvdHAnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgcGFyYW0gPSAnJztcbiAgICAgIGlmICh0eXBlb2YgZmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICBwYXJhbSA9IG1vZHVsZS51dGlsLm1lcmdlT3B0aW9ucyhmZGF0YSwgZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbSA9IGZkYXRhICsgJyYnICsgZGF0YTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW0gIT09ICdzdHJpbmcnICYmIHBhcmFtLm9uZXRvdWNobG9naW4pIHtcbiAgICAgICAgY29udHJvbGxlcnMub25lVG91Y2hMb2dpbkVtYWlsVmVyaWZpY2F0aW9uKHBhcmFtLm90cCwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXJhbS5lbWFpbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVycy5lbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIocGFyYW0sIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIHRydWUpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHBhc3N3b3JkbGVzc0xvZ2luVmVyaWZpY2F0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IHZ0b2tlbiB2ZXJpZmljYXRpb24gdG9rZW5cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB2ZXJpZnkgcGFzc3dvcmRsZXNzIGxvZ2luIGFuZCBsb2dpbiBpbnRvIGFjY291bnQgYWZ0ZXIgdmVyaWZpY2F0aW9uLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBhc3N3b3JkbGVzc0xvZ2luVmVyaWZpY2F0aW9uID0gZnVuY3Rpb24gKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGZsYWcpIHtcbiAgICBpZiAodnRva2VuKSB7XG4gICAgICB2YXIgbWV0aG9kID0gJ2dldCc7XG4gICAgICB2YXIgYm9keSA9ICcnO1xuICAgICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bhc3N3b3JkbGVzc2xvZ2luL2VtYWlsL3ZlcmlmeT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmdmVyaWZpY2F0aW9udG9rZW49JyArIHZ0b2tlbiArICcmd2VsY29tZUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlO1xuICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2dG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYm9keSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcodnRva2VuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZW1haWwgPSBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnZW1haWwnKTtcbiAgICAgICAgICBib2R5ID0ge1xuICAgICAgICAgICAgJ2VtYWlsJzogZW1haWwgPyBlbWFpbC5yZXBsYWNlKC8gL2csICcrJykgOiAnJyxcbiAgICAgICAgICAgICdvdHAnOiB2dG9rZW5cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGJvZHlbJ3dlbGNvbWVlbWFpbHRlbXBsYXRlJ10gPSBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZTtcbiAgICAgICAgbWV0aG9kID0gJ3Bvc3QnO1xuICAgICAgICB2YXIgcm91dGUgPSBib2R5LnVzZXJuYW1lID8gJ3VzZXJuYW1lJyA6ICdlbWFpbCc7XG4gICAgICAgIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bhc3N3b3JkbGVzc2xvZ2luLycgKyByb3V0ZSArICcvdmVyaWZ5b3RwP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5O1xuICAgICAgfVxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwobWV0aG9kLCB1cmwsIGJvZHksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luSGFuZGxlVG9rZW4ocmVzcG9uc2UsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH1cbiAgICAgIH0sICdwYXNzd29yZGxlc3NMb2dpbiMjb3RwJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGxvZ2luSGFuZGxlVG9rZW5cbiAgKiBAcGFyYW0ge09iamVjdH0gcmVnUmVzcG9uc2UgYXBpIHJlc3BvbnNlIG9iamVjdCBob2xkIGVycm9yIG9yIHN1Y2Nlc3MgY29kZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gc3RyaW5nIGhvbGQgZW1haWwgYW5kIHBhc3N3b3JkIHZhbHVlc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uZVRvdWNoTG9naW4gZmxhZyBmb3Igb25lVG91Y2hMb2dpbiBlbmFibGVkIG9yIG5vdFxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHVzZXIgYWNjb3VudCBsb2dpbiBwcm9jZXNzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luSGFuZGxlVG9rZW4gPSBmdW5jdGlvbiAocmVnUmVzcG9uc2UsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBvbmVUb3VjaExvZ2luKSB7XG4gICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlciA9IDA7XG4gICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJKd3RSZXNwb25zZSA9ICcnO1xuICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJDb3VudGVyVG9rZW5SZXNwb25zZSA9ICcnO1xuICAgIGlmIChyZWdSZXNwb25zZSkge1xuICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKHByaXZhdGVGdW5jdGlvbnNNb2R1bGUubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZWdSZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkRhdGEgJiYgcmVnUmVzcG9uc2UuRGF0YS5oYXNPd25Qcm9wZXJ0eSgnUHJvZmlsZScpKSB7XG4gICAgICAgICAgcmVnUmVzcG9uc2UgPSByZWdSZXNwb25zZS5EYXRhO1xuICAgICAgICAgIGRlbGV0ZSByZWdSZXNwb25zZS5EYXRhO1xuICAgICAgICAgIGRlbGV0ZSByZWdSZXNwb25zZS5Jc1Bvc3RlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24uSXNFbmFibGVkICYmIHJlZ1Jlc3BvbnNlLlByb2ZpbGUpIHtcbiAgICAgICAgICB2YXIgaXNMYXRlc3RQcml2YWN5UG9saWN5ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLlByb2ZpbGUuUHJpdmFjeVBvbGljeSAmJiByZWdSZXNwb25zZS5Qcm9maWxlLlByaXZhY3lQb2xpY3kuVmVyc2lvbikge1xuICAgICAgICAgICAgaXNMYXRlc3RQcml2YWN5UG9saWN5ID0gcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jaGVja0ZvckxhdGVzdFByaXZhY3lQb2xpY3kocmVnUmVzcG9uc2UuUHJvZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlZ1Jlc3BvbnNlLlByb2ZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCByZWdSZXNwb25zZS5Qcm9maWxlLCB7XG4gICAgICAgICAgICAnSXNMYXRlc3RQcml2YWN5UG9saWN5JzogaXNMYXRlc3RQcml2YWN5UG9saWN5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZVRva2VuUmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG1vZHVsZS5Mb2dpblJhZGl1c0hvc3RlZFBhZ2UgJiYgcmVnUmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICBMUk5hbWVTcGFjZS5jb29raWVzLnNldEl0ZW0oJ2xyLXNlc3Npb24tdG9rZW4nLCByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyUmVzcG9uc2VDb3VudGVyKys7XG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJUb2tlblJlc3BvbnNlID0gcmVnUmVzcG9uc2U7XG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnRva2VuVHlwZSAmJiBtb2R1bGUub3B0aW9ucy50b2tlblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2p3dCcpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlciA9PT0gMiAmJiBMb2dpblJhZGl1c0RlZmF1bHRzLmxyQ291bnRlckp3dFJlc3BvbnNlICYmIExvZ2luUmFkaXVzRGVmYXVsdHMubHJDb3VudGVySnd0UmVzcG9uc2Uuc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAgIHJlZ1Jlc3BvbnNlLmp3dHRva2VuID0gTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJKd3RSZXNwb25zZS5zaWduYXR1cmU7XG5cbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcbiAgICAgICAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCAmJiBkYXRhICE9PSAnJykge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZWdSZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKHJlZ1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCAmJiBkYXRhICE9PSAnJykge1xuICAgICAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb25TdWNjZXNzKHJlZ1Jlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRTYWZhcmlUb2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdMUlNldFNhZmFyaVRva2VuJyk7XG4gICAgICAgIG1vZHVsZS5zdG9yYWdlLnJlbW92ZUJyb3dzZXJTdG9yYWdlKCdMUlNldFNhZmFyaVRva2VuJyk7XG4gICAgICAgIGlmIChtb2R1bGUuc2V0SG9zdGVkVG9rZW4gfHwgZ2V0U2FmYXJpVG9rZW4pIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzY2hlbWEgPSAobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgJiYgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEubGVuZ3RoID4gMCkgPyBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA6IG1vZHVsZS5vcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWE7XG4gICAgICAgICAgdmFyIHBob25lU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncGhvbmVpZCcpO1xuICAgICAgICAgIHZhciBwaG9uZXJlcSA9IChwaG9uZVNjaGVtYSAmJiAocGhvbmVTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSAhPT0gLTEpICYmIG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4pO1xuICAgICAgICAgIHZhciB1c2VyUHJvZmlsZSA9IHJlZ1Jlc3BvbnNlLlByb2ZpbGUgfHwgcmVnUmVzcG9uc2UuRGF0YTtcbiAgICAgICAgICB2YXIgcmVxdWlyZWRFbWFpbEZsb3cgPSAhKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbik7XG4gICAgICAgICAgaWYgKHVzZXJQcm9maWxlICYmICF1c2VyUHJvZmlsZS5FbWFpbFZlcmlmaWVkICYmIHJlcXVpcmVkRW1haWxGbG93ICYmICFvbmVUb3VjaExvZ2luKSB7XG4gICAgICAgICAgICBvbkVycm9yKFtcbiAgICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snZW1haWxOb3RWZXJpZmllZCddKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwaG9uZXJlcSAmJiB1c2VyUHJvZmlsZSAmJiAhdXNlclByb2ZpbGUuUGhvbmVJZFZlcmlmaWVkICYmICFvbmVUb3VjaExvZ2luKSB7XG4gICAgICAgICAgICBpZiAodXNlclByb2ZpbGUuUGhvbmVJZCkge1xuICAgICAgICAgICAgICB2YXIgcGhvbmVPYmogPSB7XG4gICAgICAgICAgICAgICAgJ3Bob25lJzogdXNlclByb2ZpbGUuUGhvbmVJZFxuXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBtb2R1bGUuY3VycmVudExSQ29udGFpbmVyO1xuICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnZlcmlmeU9UUCgncGhvbmU9JyArIHVzZXJQcm9maWxlLlBob25lSWQsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQKCdwaG9uZT0nICsgdXNlclByb2ZpbGUuUGhvbmVJZCArICcmbm9QaG9uZVZlcmlmaWVkPWZhbHNlJywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzVm9pY2VPdHApIHtcbiAgICAgICAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQKCdwaG9uZT0nICsgdXNlclByb2ZpbGUuUGhvbmVJZCArICcmbm9QaG9uZVZlcmlmaWVkPWZhbHNlJywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBjb250cm9sbGVycy5yZXNlbmRPVFBDb250cm9sbGVyKHBob25lT2JqLCBfb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmxvZygnUGhvbmUgSUQgaXMgcmVxdWlyZWQgZmllbGQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1c2VyUHJvZmlsZSAmJiB1c2VyUHJvZmlsZS5VaWQpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRVaWROYW1lLCB1c2VyUHJvZmlsZS5VaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUsIHJlZ1Jlc3BvbnNlLmFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQSU5BdXRoZW50aWNhdGlvbiAmJiBtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLlBJTkxvZ2luICYmIHJlZ1Jlc3BvbnNlICYmIHJlZ1Jlc3BvbnNlLnNlc3Npb25fdG9rZW4pIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldFNlc3Npb25Ub2tlbihyZWdSZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NTT0luaXRGaXJlZCAmJiByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRUb2tlbihyZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xuXG4gICAgICAgICAgICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIC8vIFNhZmFyaSBjaGFuZ2VcbiAgICAgICAgICAgICAgdmFyIGlzU2FmYXJpID0gISEodXNlckFnZW50LmluZGV4T2YoJ2NyaW9zJykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoJ2Nocm9tZScpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgIHVzZXJBZ2VudC5pbmRleE9mKCdzYWZhcmknKSA+PSAwKTtcblxuICAgICAgICAgICAgICB2YXIgaU9TID0gL2lwYWR8aXBob25lfGlwb2QvLnRlc3QodXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtO1xuICAgICAgICAgICAgICB2YXIgaXNVYyA9IHVzZXJBZ2VudC5pbmRleE9mKCd1Y2Jyb3dzZXInKSA+PSAwO1xuICAgICAgICAgICAgICB2YXIgaU9TQ2hyb21lID0gL2NyaW9zL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICAgICAgICB2YXIgZG9tYWluID0gbW9kdWxlLm9wdGlvbnMuY3VzdG9tRG9tYWluIHx8IG1vZHVsZS5vcHRpb25zLmFwcE5hbWUgKyAnLicgKyBMb2dpblJhZGl1c0RlZmF1bHRzLmh1YkRvbWFpbjtcbiAgICAgICAgICAgICAgdmFyIHZ0eXBlID0gbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ3Z0eXBlJyk7XG4gICAgICAgICAgICAgIHZhciB2dG9rZW4gPSBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgndnRva2VuJyk7XG4gICAgICAgICAgICAgIHZhciBsb2MgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgICAgaWYgKHZ0eXBlKSB7XG4gICAgICAgICAgICAgICAgbG9jID0gbG9jLnJlcGxhY2UoJz92dHlwZT0nICsgdnR5cGUsICcnKS5yZXBsYWNlKCcmdnR5cGU9JyArIHZ0eXBlLCAnJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHZ0b2tlbikge1xuICAgICAgICAgICAgICAgIGxvYyA9IGxvYy5yZXBsYWNlKCcmdnRva2VuPScgKyB2dG9rZW4sICcnKS5yZXBsYWNlKCc/dnRva2VuPScgKyB2dG9rZW4sICcnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsb2MgPSBlbmNvZGVVUklDb21wb25lbnQobG9jKTtcbiAgICAgICAgICAgICAgaWYgKGlzU2FmYXJpIHx8IChpT1MgJiYgaXNVYykgfHwgKGlPUyAmJiBpT1NDaHJvbWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2R1bGUub3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbikge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoJ0xSVHJhZGl0aW9uYWxMb2dpbicsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NldEN1cnJlbnRBY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAvLyB2YXIgc2FmYXJpUHJvdG9jb2wgPSBtb2R1bGUub3B0aW9ucy5zYWZhcmlIdHRwc0VuYWJsZSA/ICdodHRwcycgOiAnaHR0cCc7XG4gICAgICAgICAgICAgICAgdmFyIHNhZmFyaVByb3RvY29sID0gJ2h0dHBzJztcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc3RheUxvZ2luKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc3RheUxvZ2luID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnKTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnJlbW92ZUJyb3dzZXJTdG9yYWdlKCdsci1yZW1lbWJlcm1lJyk7XG4gICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBzYWZhcmlQcm90b2NvbCArICc6Ly8nICsgZG9tYWluICsgJy9zc29sb2dpbi9zZXRDdXN0b21TYWZhcmlUb2tlbj90b2tlbj0nICsgcmVnUmVzcG9uc2UuYWNjZXNzX3Rva2VuICsgJyZhcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmaXNyZW1lbWJlck1lPScgKyBzdGF5TG9naW4gKyAnJmNhbGxiYWNrPScgKyBsb2M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHNhZmFyaVByb3RvY29sICsgJzovLycgKyBkb21haW4gKyAnL3Nzb2xvZ2luL3NldFNhZmFyaVRva2VuP3Rva2VuPScgKyByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4gKyAnJmFwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZjYWxsYmFjaz0nICsgbG9jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RheUxvZ2luQ2hlY2sgPSAnJztcbiAgICAgICAgICAgICAgICB2YXIgYXBpU3RyaW5nID0gJ3NldFRva2VuJztcblxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcbiAgICAgICAgICAgICAgICAgIHN0YXlMb2dpbkNoZWNrID0gJyZpc3JlbWVtYmVyTWU9JyArIG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdsci1yZW1lbWJlcm1lJyk7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5yZW1vdmVCcm93c2VyU3RvcmFnZSgnbHItcmVtZW1iZXJtZScpO1xuICAgICAgICAgICAgICAgICAgYXBpU3RyaW5nID0gJ3NldEN1c3RvbVRva2VuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsICdodHRwczovLycgKyBkb21haW4gKyAnL3Nzb2xvZ2luLycgKyBhcGlTdHJpbmcgKyAnP2FjY2Vzc190b2tlbj0nICsgcmVnUmVzcG9uc2UuYWNjZXNzX3Rva2VuICsgJyZhcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArIHN0YXlMb2dpbkNoZWNrLCAnJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlVG9rZW5SZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH0sICdzZXRUb2tlbicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBoYW5kbGVUb2tlblJlc3BvbnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlICYmIG1vZHVsZS5vcHRpb25zLnRva2VuVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnand0Jykge1xuICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmdldEp3dFRva2VuKHJlZ1Jlc3BvbnNlLmFjY2Vzc190b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gZ2V0Snd0VG9rZW5cbiAgKiBAcGFyYW0ge1N0cmluZ30gYWNjZXNzVG9rZW4gPGFjY2Vzc190b2tlbj5cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNhbGwgYXBpIGFuZCBnZXQgSldUIHRva2VuLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmdldEp3dFRva2VuID0gZnVuY3Rpb24gKGFjY2Vzc1Rva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5jbG91ZEFwaURvbWFpbiArICdzc28vand0L2FwaS90b2tlbj9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmand0YXBwPScgKyBtb2R1bGUub3B0aW9ucy5pbnRlZ3JhdGlvbk5hbWUgKyAnJmFjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4sICcnLCBmdW5jdGlvbiAoand0UmVzcG9uc2UpIHtcbiAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJSZXNwb25zZUNvdW50ZXIrKztcbiAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJDb3VudGVySnd0UmVzcG9uc2UgPSBqd3RSZXNwb25zZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlciA9PT0gMikge1xuICAgICAgICBpZiAoand0UmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihqd3RSZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJUb2tlblJlc3BvbnNlLmp3dHRva2VuID0gand0UmVzcG9uc2Uuc2lnbmF0dXJlO1xuICAgICAgICAgIG9uU3VjY2VzcyhMb2dpblJhZGl1c0RlZmF1bHRzLmxyQ291bnRlclRva2VuUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ0pXVFRva2VuJyk7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gbWFwU2NoZW1hXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIGZvcm0gZmllbGRzIG9iamVjdHMgYXJyYXlcbiAgKiBAcGFyYW0ge09iamVjdH0gdXNlclByb2ZpbGUgdXNlciBwcm9maWxlIGluZm8gb2JqZWN0XG4gICogQHBhcmFtIHtTdHJpbmd9IGdldFByb2ZpbGVTY2hlbWEgW29wdGlvbmFsXSwgc3RyaW5nIHdoaWNoIGNhbiBob2xkICdwcm9maWxlZWRpdG9yJ1xuICAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvZ3Jlc3NpdmVQcm9maWxpbmcgW29wdGlvbmFsXSwgZmxhZyBmb3IgcHJvZ3Jlc3NpdmVQcm9maWxpbmdcbiAgKiBAcmV0dXJuIHtBcnJheX0gc2NoZW1hfHByb2ZpbGVTY2hlbWEgYXJyYXlcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIG1hcCBzY2hlbWEgd2l0aCBwcm9maWxlU2NoZW1hIGFjY29yZGluZyB0byBnaXZlbiBjb25kaXRpb25hbCBvcHRpb25zIGFuZCByZXR1cm4gc2NoZW1hLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLm1hcFNjaGVtYSA9IGZ1bmN0aW9uIChzY2hlbWEsIHVzZXJQcm9maWxlLCBnZXRQcm9maWxlU2NoZW1hLCBwcm9ncmVzc2l2ZVByb2ZpbGluZykge1xuICAgIHVzZXJQcm9maWxlID0gbW9kdWxlLnV0aWwua2V5c1RvTG93ZXJDYXNlKHVzZXJQcm9maWxlKTtcbiAgICB2YXIgcHJvZmlsZVNjaGVtYSA9IFtdO1xuICAgIE9iamVjdC5rZXlzKHNjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuICAgICAgcHJvZmlsZVNjaGVtYS5wdXNoKHNjaGVtYVtfa2V5XSk7XG4gICAgfSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICBpZiAoc2NoZW1hW2ldICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdlbWFpbGlkJyAmJiB1c2VyUHJvZmlsZS5lbWFpbCAmJiB1c2VyUHJvZmlsZS5lbWFpbFswXSAmJiB1c2VyUHJvZmlsZS5lbWFpbFswXS52YWx1ZSAmJiB1c2VyUHJvZmlsZS5lbWFpbFswXS52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICBpZiAodXNlclByb2ZpbGUuZW1haWx2ZXJpZmllZCB8fCAoKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbikgJiYgKCFtb2R1bGUub3B0aW9ucy5hc2tFbWFpbEZvclVudmVyaWZpZWRQcm9maWxlQWx3YXlzKSkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVTY2hlbWFbaV0udmFsdWUgPSB1c2VyUHJvZmlsZS5lbWFpbFswXS52YWx1ZTtcbiAgICAgICAgICAgIHNjaGVtYVtpXSA9IG51bGw7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFtb2R1bGUub3B0aW9ucy5hc2tFbWFpbEZvclVudmVyaWZpZWRQcm9maWxlQWx3YXlzIHx8IG1vZHVsZS5zZXRIb3N0ZWRUb2tlbikge1xuICAgICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldID0gc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2NvdW50cnknICYmIHNjaGVtYVtpXS5QYXJlbnQgPT09ICcnICYmIHVzZXJQcm9maWxlLmNvdW50cnkgJiYgdXNlclByb2ZpbGUuY291bnRyeS5uYW1lICE9IG51bGwgJiYgdXNlclByb2ZpbGUuY291bnRyeS5uYW1lICE9PSAnJyAmJiB1c2VyUHJvZmlsZS5jb3VudHJ5Lm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3Vua25vd24nKSB7XG4gICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlLmNvdW50cnkubmFtZTtcbiAgICAgICAgICBpZiAodXNlclByb2ZpbGUuY291bnRyeS5jb2RlKSB7XG4gICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGUuY291bnRyeS5jb2RlICsgJ3wnICsgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZW1haWxzdWJzY3JpcHRpb24nICYmIHVzZXJQcm9maWxlLmlzZW1haWxzdWJzY3JpYmVkICYmIHVzZXJQcm9maWxlLmlzZW1haWxzdWJzY3JpYmVkICE9PSAnJykge1xuICAgICAgICAgIHByb2ZpbGVTY2hlbWFbaV0udmFsdWUgPSB1c2VyUHJvZmlsZS5pc2VtYWlsc3Vic2NyaWJlZDtcbiAgICAgICAgICBzY2hlbWFbaV0gPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdwaG9uZWlkJyAmJiB1c2VyUHJvZmlsZS5waG9uZWlkICYmIHVzZXJQcm9maWxlLnBob25laWQgIT09ICcnKSB7XG4gICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlLnBob25laWQucmVwbGFjZSgnKycsICcnKTtcbiAgICAgICAgICBzY2hlbWFbaV0gPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdiaXJ0aGRhdGUnICYmIHVzZXJQcm9maWxlLmJpcnRoZGF0ZSAmJiB1c2VyUHJvZmlsZS5iaXJ0aGRhdGUgIT09ICcnKSB7XG4gICAgICAgICAgdmFyIGJpcnRoZGF0ZSA9IHVzZXJQcm9maWxlLmJpcnRoZGF0ZS5yZXBsYWNlKCctJywgJy8nKS5yZXBsYWNlKCctJywgJy8nKS5zcGxpdCgnLycpO1xuICAgICAgICAgIGlmIChiaXJ0aGRhdGVbMl0gJiYgYmlydGhkYXRlWzJdICE9PSAnJykge1xuICAgICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlLmJpcnRoZGF0ZTtcbiAgICAgICAgICAgIHNjaGVtYVtpXSA9IG51bGw7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3Bhc3N3b3JkJyB8fCBzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnY29uZmlybXBhc3N3b3JkJykge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgICAgaWYgKHVzZXJQcm9maWxlLnBhc3N3b3JkICE9IG51bGwgfHwgKCFtb2R1bGUub3B0aW9ucy5wcm9tcHRQYXNzd29yZE9uU29jaWFsTG9naW4gJiYgIShtb2R1bGUub3B0aW9ucy5wcm9tcHRQYXNzd29yZE9uRmlyc3RMb2dpbkZvclNvY2lhbCkpKSB7XG4gICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldID0gc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAncGluJyB8fCBzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnY29uZmlybXBpbicpIHtcbiAgICAgICAgICBpZiAoKHVzZXJQcm9maWxlLnBpbiAmJiB1c2VyUHJvZmlsZS5waW4ucGluKSB8fCAhKG1vZHVsZS5vcHRpb25zLmlzUElOQXV0aGVudGljYXRpb24pKSB7XG4gICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldID0gc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0uUGFyZW50ICE9PSAnJyAmJiBzY2hlbWFbaV0uUGFyZW50ICE9PSB1bmRlZmluZWQgJiYgc2NoZW1hW2ldLlBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChzY2hlbWFbaV0uUGFyZW50ICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV0gJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1hTmFtZSA9IHNjaGVtYVtpXS5uYW1lLmluZGV4T2YoJ18nKSAhPT0gLTEgPyBzY2hlbWFbaV0ubmFtZS5zcGxpdCgnXycpWzFdIDogc2NoZW1hW2ldLm5hbWU7XG4gICAgICAgICAgICB2YXIga2V5ID0gT2JqZWN0LmtleXModXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXSkubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXSA9PT0gJ29iamVjdCcgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXVtrZXldICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV1ba2V5XVtzY2hlbWFOYW1lLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgICAgICAgIGlmICh1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldW2tleV1bc2NoZW1hTmFtZS50b0xvd2VyQ2FzZSgpXSAhPSBudWxsICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV1ba2V5XVtzY2hlbWFOYW1lLnRvTG93ZXJDYXNlKCldICE9PSB1bmRlZmluZWQgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXVtrZXldW3NjaGVtYU5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICd1bmtub3duJykge1xuICAgICAgICAgICAgICAgIHByb2ZpbGVTY2hlbWFbaV0udmFsdWUgPSB1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldW2tleV1bc2NoZW1hTmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgICBzY2hlbWFbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXVtzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5uYW1lLmluZGV4T2YoJ2NmXycpID09PSAwICYmIHVzZXJQcm9maWxlLmN1c3RvbWZpZWxkcyAmJiB1c2VyUHJvZmlsZS5jdXN0b21maWVsZHNbc2NoZW1hW2ldLm5hbWUucmVwbGFjZSgnY2ZfJywgJycpLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlLmN1c3RvbWZpZWxkc1tzY2hlbWFbaV0ubmFtZS5yZXBsYWNlKCdjZl8nLCAnJykudG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICAgIGlmIChzY2hlbWFbaV0ubmFtZSAmJiB0eXBlb2YgdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICdvYmplY3QnICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCldICE9IG51bGwgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICcnICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCldICE9PSB1bmRlZmluZWQgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICd1bmtub3duJykge1xuICAgICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlW3NjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2NoZW1hID0gc2NoZW1hLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuIG47XG4gICAgfSk7XG4gICAgaWYgKGdldFByb2ZpbGVTY2hlbWEgJiYgZ2V0UHJvZmlsZVNjaGVtYSA9PT0gJ3Byb2ZpbGVlZGl0b3InICYmICF1c2VyUHJvZmlsZS5FcnJvckNvZGUpIHtcbiAgICAgIHByb2ZpbGVTY2hlbWEgPSBwcm9maWxlU2NoZW1hLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByb2ZpbGVTY2hlbWE7XG4gICAgfVxuICAgIGZvciAodmFyIGggPSAwOyBoIDwgc2NoZW1hLmxlbmd0aDsgaCsrKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgaWYgKChzY2hlbWFbaF0ucnVsZXMgIT0gbnVsbCAmJiAoc2NoZW1hW2hdLnJ1bGVzICE9PSAnJyAmJiBzY2hlbWFbaF0ucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSA+IC0xKSkgfHxcbiAgICAgICAgKG1vZHVsZS5vcHRpb25zLmFza09wdGlvbmFsRmllbGRzT25SZWdpc3RyYXRpb24gJiYgdXNlclByb2ZpbGUuZmlyc3Rsb2dpbiA9PT0gdHJ1ZSAmJiAodXNlclByb2ZpbGUucmVnaXN0cmF0aW9ucHJvdmlkZXIpLnRvTG93ZXJDYXNlKCkgIT09ICdlbWFpbCcpIHx8IChtb2R1bGUub3B0aW9ucy5hc2tPcHRpb25hbEZpZWxkc09uUHJvZ3Jlc3NpdmVTdGVwcyAmJiBwcm9ncmVzc2l2ZVByb2ZpbGluZykgfHwgbW9kdWxlLmFza1Bpbk9uTG9naW4pIHtcbiAgICAgICAgaWYgKGdldFByb2ZpbGVTY2hlbWEgJiYgIXVzZXJQcm9maWxlLkVycm9yQ29kZSkge1xuICAgICAgICAgIHByb2ZpbGVTY2hlbWEgPSBwcm9maWxlU2NoZW1hLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHByb2ZpbGVTY2hlbWE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gbG9naW5SYWRpdXNFcnJvclRvanNFcnJvclxuICAqIEBwYXJhbSB7U3RyaW5nfSBsckVycm9yIGVycm9yIG1lc3NhZ2VcbiAgKiBAcmV0dXJuIHtBcnJheX0ganNFcnJvciBlcnJvciBtZXNzYWdlIGFycmF5XG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2V0IGxyIGVycm9yIG1zZyBhbmQgcHVzaCBlcnJvciBvbiBqcyBlcnJvciBhcnJheS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yID0gZnVuY3Rpb24gKGxyRXJyb3IpIHtcbiAgICB2YXIganNFcnJvciA9IFtdO1xuICAgIGpzRXJyb3IucHVzaChwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldE1hcHBlZE1lc3NhZ2UobHJFcnJvcikpO1xuICAgIHJldHVybiBqc0Vycm9yO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNldE1hcHBlZE1lc3NhZ2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gbHJNZXNzYWdlIGVycm9yIG1lc3NhZ2VcbiAgKiBAcmV0dXJuIHtTdHJpbmd9IGxyTWVzc2FnZSBlcnJvciBtZXNzYWdlXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2V0IHRoZSBsciBlcnJvciBtc2cgYW5kIHJldHVybi5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlID0gZnVuY3Rpb24gKGxyTWVzc2FnZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLmVycm9yTWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChtb2R1bGUuZXJyb3JNZXNzYWdlc1tpXS5jb2RlID09IGxyTWVzc2FnZS5FcnJvckNvZGUpIHtcbiAgICAgICAgbHJNZXNzYWdlLk1lc3NhZ2UgPSBtb2R1bGUuZXJyb3JNZXNzYWdlc1tpXS5tZXNzYWdlIHx8IGxyTWVzc2FnZS5NZXNzYWdlO1xuICAgICAgICBsck1lc3NhZ2UuRGVzY3JpcHRpb24gPSBtb2R1bGUuZXJyb3JNZXNzYWdlc1tpXS5kZXNjcmlwdGlvbiB8fCBsck1lc3NhZ2UuRGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsck1lc3NhZ2U7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBzZXRDdXN0b21MYWJlbFxuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBmb3JtIGZpZWxkcyBhcnJheVxuICAqIEBkZXNjcmlwdGlvbiBXaWxsIHNldCBjdXN0b20gbGFibGUgb24gZm9ybSBzY2hlbWEgZmllbGRzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldEN1c3RvbUxhYmVsID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2NoZW1hW2ldICYmIG1vZHVsZS5mb3JtQ3VzdG9tTGFiZWxbc2NoZW1hW2ldLm5hbWVdKSB7XG4gICAgICAgIHNjaGVtYVtpXS5kaXNwbGF5ID0gbW9kdWxlLmZvcm1DdXN0b21MYWJlbFtzY2hlbWFbaV0ubmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gc2V0Q3VzdG9tVGl0bGVcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgYXJyYXlcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZXQgY3VzdG9tIHRpdGxlIG9uIGZvcm0gc2NoZW1hIGZpZWxkcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRDdXN0b21UaXRsZSA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNjaGVtYVtpXSAmJiBtb2R1bGUuZm9ybUVsZW1lbnRzVGl0bGVbc2NoZW1hW2ldLm5hbWVdKSB7XG4gICAgICAgIHNjaGVtYVtpXS50aXRsZSA9IG1vZHVsZS5mb3JtRWxlbWVudHNUaXRsZVtzY2hlbWFbaV0ubmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gc2V0UGxhY2Vob2xkZXJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgYXJyYXlcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZXQgcGxhY2Vob2xkZXIgb24gZm9ybSBzY2hlbWEgZmllbGRzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2NoZW1hW2ldICYmIG1vZHVsZS5mb3JtUGxhY2Vob2xkZXJbc2NoZW1hW2ldLm5hbWVdKSB7XG4gICAgICAgIHNjaGVtYVtpXS5wbGFjZWhvbGRlciA9IG1vZHVsZS5mb3JtUGxhY2Vob2xkZXJbc2NoZW1hW2ldLm5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNldFZhbGlkYXRpb25cbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgYXJyYXlcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZXQgdmFsaWRhdGlvbiBydWxlcyBvbiBmb3JtIHNjaGVtYSBmaWVsZHMuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0VmFsaWRhdGlvbiA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICBpZiAobW9kdWxlLmZvcm1WYWxpZGF0aW9uc1tzY2hlbWEubmFtZV0pIHtcbiAgICAgIHNjaGVtYS5ydWxlcyA9IG1vZHVsZS5mb3JtVmFsaWRhdGlvbnNbc2NoZW1hLm5hbWVdO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNldEF0dHJpYnV0ZVxuICAqIEBwYXJhbSB7T2JqZWN0fSBzY2hlbWEgZm9ybSBmaWVsZHMgb2JqZWN0XG4gICogQHBhcmFtIHtPYmplY3R9IGVsZW0gaHRtbCBlbGVtZW50XG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2V0IHNjaGVtYSBodG1sIGVsZW1lbnQgYXR0cmlidXRlIGtleSBhbmQgdmFsdWVzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChzY2hlbWEsIGVsZW0pIHtcbiAgICBpZiAobW9kdWxlLmZvcm1FbGVtZW50QXR0cmlidXRlc1tzY2hlbWEubmFtZV0pIHtcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gbW9kdWxlLmZvcm1FbGVtZW50QXR0cmlidXRlc1tzY2hlbWEubmFtZV0uc3BsaXQoJyYnKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICB2YXIga2V5ID0gYXR0cmlidXRlLnNwbGljZSgwLCAxKTtcbiAgICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlLmpvaW4oJz0nKTtcbiAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gdmVyaWZ5T1RQXG4gICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwaG9uZURhdGEgaG9sZCBwaG9uZSBkYXRhXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkIHRvIGhvbGQgZGlmZmVyZW50IGZvcm1zXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgY3JlYXRlIHZlcmlmeU9UUCBmb3JtIGFuZCBpbml0aWFsaXplIHRoZSB2ZXJpZnlPVFAgcHJvY2Vzcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS52ZXJpZnlPVFAgPSBmdW5jdGlvbiAocGhvbmVEYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xuICAgIHZhciBjaGVjazJGQSA9IGZhbHNlO1xuICAgIHZhciBmb3JtTmFtZSA9ICdvdHAnO1xuICAgIHZhciB2YWx1ZSA9ICcnO1xuICAgIGlmIChtb2R1bGUuTFJDaGVjazJGQSAmJiAobW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikgJiYgIW1vZHVsZS5MUkNoZWNrUmVnaXN0cmF0aW9uKSB7XG4gICAgICBjaGVjazJGQSA9IHRydWU7XG4gICAgICBmb3JtTmFtZSA9ICd0d29mYW90cCc7XG4gICAgfVxuICAgIHZhciBzY2hlbWEgPSBtb2R1bGUub3RwU2NoZW1hO1xuICAgIGlmIChwaG9uZURhdGEubWZhRW1haWxUb2tlbiAmJiBwaG9uZURhdGEuRW1haWxJZCkge1xuICAgICAgdmFsdWUgPSBwaG9uZURhdGEuRW1haWxJZDtcbiAgICAgIGZvcm1OYW1lID0gJ3R3b2ZhZW1haWxvdHAnO1xuICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSBmYWxzZTtcbiAgICAgIHZhciBoaWRkZW5FbWFpbFNjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgIGlmIChoaWRkZW5FbWFpbFNjaGVtYSkge1xuICAgICAgICBoaWRkZW5FbWFpbFNjaGVtYVsndmFsdWUnXSA9IHBob25lRGF0YS5FbWFpbElkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgIG5hbWU6ICdlbWFpbGlkJyxcbiAgICAgICAgICB2YWx1ZTogcGhvbmVEYXRhLkVtYWlsSWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfcGhvbmVEYXRhID0gcGhvbmVEYXRhO1xuICAgICAgaWYgKHBob25lRGF0YSAmJiB0eXBlb2YgcGhvbmVEYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBfcGhvbmVEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwaG9uZURhdGEpKTtcbiAgICAgICAgX3Bob25lRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoX3Bob25lRGF0YSk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IF9waG9uZURhdGEucGhvbmUgfHwgX3Bob25lRGF0YS5waG9uZWlkIHx8IF9waG9uZURhdGEucGhvbmVJZCB8fCBfcGhvbmVEYXRhLnBob25lTm8yRkEgfHwgJyc7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAmJiBzY2hlbWEgJiYgc2NoZW1hWzBdICYmIHNjaGVtYVswXS5uYW1lID09PSAnb3RwJykge1xuICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYWZ0ZXJGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4LCBmb3JtKSB7XG4gICAgICAgIGlmIChmb3JtICYmIGZvcm0ubmFtZSA9PT0gJ2xvZ2lucmFkaXVzLScgKyBmb3JtTmFtZSAmJiBmb3JtWzBdLm5hbWUgPT09IHNjaGVtYVswXS5uYW1lKSB7XG4gICAgICAgICAgaWYgKGZvcm1bMF0ubGFiZWxzICYmIGZvcm1bMF0ubGFiZWxzWzBdLmlubmVyVGV4dCAmJiBmb3JtWzBdLmxhYmVsc1swXS5pbm5lclRleHQuaW5kZXhPZignJXZhbHVlJykgIT09IC0xKSB7XG4gICAgICAgICAgICBmb3JtWzBdLmxhYmVsc1swXS5pbm5lclRleHQgPSBmb3JtWzBdLmxhYmVsc1swXS5pbm5lclRleHQucmVwbGFjZSgnJXZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlRm9ybShzY2hlbWEsIGZvcm1OYW1lLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoY2hlY2syRkEgfHwgcGhvbmVEYXRhLnBob25lTm8yRkEpIHtcbiAgICAgICAgaWYgKHBob25lRGF0YS5tZmFFbWFpbFRva2VuICYmIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGRhdGEgKz0gJyZtZmFFbWFpbFRva2VuPXRydWUnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeTJGQU9UUENvbnRyb2xsZXIoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHBob25lRGF0YSA9PT0gJ3N0cmluZycgfHwgcGhvbmVEYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7IHBob25lRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcocGhvbmVEYXRhKTsgfVxuXG4gICAgICAgIGRhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICB2YXIgcGhvbmVUb1ZlcmlmeTtcbiAgICAgICAgaWYgKHBob25lRGF0YS5waG9uZSkge1xuICAgICAgICAgIHBob25lVG9WZXJpZnkgPSB7XG4gICAgICAgICAgICAncGhvbmUnOiBwaG9uZURhdGEucGhvbmVcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHBob25lRGF0YS5waG9uZWlkIHx8IHBob25lRGF0YS5waG9uZUlkKSB7XG4gICAgICAgICAgcGhvbmVUb1ZlcmlmeSA9IHtcbiAgICAgICAgICAgICdwaG9uZSc6IHBob25lRGF0YS5waG9uZWlkIHx8IHBob25lRGF0YS5waG9uZUlkXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGhvbmVEYXRhLm9uZXRvdWNobG9naW5mbGFnKSB7XG4gICAgICAgICAgZGF0YS5vbmV0b3VjaGxvZ2luZmxhZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBob25lRGF0YS5oYXZlVG9rZW4pIHtcbiAgICAgICAgICBkYXRhLmhhdmVUb2tlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb250cm9sbGVycy52ZXJpZnlPVFBDb250cm9sbGVyKGRhdGEsIHBob25lVG9WZXJpZnksIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHJlc2VuZE9UUFxuICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gcGhvbmVEYXRhIGhvbGQgcGhvbmUgZGF0YVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzVm9pY2UgZmxhZyBmb3IgdnBpY2UgT1RQXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIHJlcXVpcmVkRmllbGQgY2FsbGJhY2tcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IHVwZGF0ZVBob25lIGZsYWcgZm9yIGNoYW5nZSBwaG9uZVxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgcmVzZW5kT1RQIGZvcm0gYW5kIGFuZCBpbml0aWFsaXplIHRoZSByZXNlbmRPVFAgcHJvY2Vzcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNlbmRPVFAgPSBmdW5jdGlvbiAocGhvbmVEYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4XywgaXNWb2ljZSwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIHVwZGF0ZVBob25lKSB7XG4gICAgdmFyIHBob25lT2JqID0ge307XG4gICAgdmFyIHJlY2FwdGNoYUlEID0gTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeCArICdyZWNhcHRjaGFfd2lkZ2V0XycgKyAnb3RwJztcbiAgICB2YXIgSXNQaG9uZVZlcmlmaWVkID0gdHJ1ZTtcbiAgICB2YXIgY2FsbFJlc2VuZE1hbnVhbGx5Rm4gPSB0cnVlO1xuICAgIGlmICh0eXBlb2YgcGhvbmVEYXRhID09PSAnc3RyaW5nJyB8fCBwaG9uZURhdGEgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIHBob25lRGF0YSA9IChtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKHBob25lRGF0YSkpO1xuICAgIH1cbiAgICBpZiAocGhvbmVEYXRhLm5vUGhvbmVWZXJpZmllZCkge1xuICAgICAgSXNQaG9uZVZlcmlmaWVkID0gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0d29mYSA9IHRydWU7XG4gICAgaWYgKHBob25lRGF0YS5waG9uZWlkIHx8IHBob25lRGF0YS5waG9uZUlkKSB7XG4gICAgICB0d29mYSA9IGZhbHNlO1xuICAgICAgcGhvbmVPYmogPSB7XG4gICAgICAgICdwaG9uZSc6IHBob25lRGF0YS5waG9uZWlkIHx8IHBob25lRGF0YS5waG9uZUlkXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAocGhvbmVEYXRhLnBob25lKSB7XG4gICAgICBpZiAoIW1vZHVsZS5zb2NpYWxMb2dpbkZsYWcpIHtcbiAgICAgICAgdHdvZmEgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHBob25lT2JqID0gcGhvbmVEYXRhO1xuICAgIH0gZWxzZSBpZiAocGhvbmVEYXRhLnBob25lTm8yRkEgfHwgcGhvbmVEYXRhLnBob25lbm8yZmEpIHtcbiAgICAgIHBob25lT2JqID0ge1xuICAgICAgICAncGhvbmVubzJmYSc6IHBob25lRGF0YS5waG9uZU5vMkZBIHx8IHBob25lRGF0YS5waG9uZW5vMmZhXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAocGhvbmVEYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uICYmIHBob25lRGF0YS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5PVFBQaG9uZU5vKSB7XG4gICAgICBwaG9uZU9iaiA9IHtcbiAgICAgICAgJ3Bob25lbm8yZmEnOiBwaG9uZURhdGEuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uT1RQUGhvbmVOb1xuICAgICAgfTtcbiAgICB9XG4gICAgLy8gVW52ZXJzYWwgYnV0dG9uIGFkZGluZyBtZXRob2RcbiAgICB2YXIgcmVzZW5kVm9pY2VPVFBCdG4gPSBudWxsO1xuXG4gICAgdmFyIHJlc2VuZE9UUEJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgncmVzZW5kb3RwJywgX2NsYXNzUHJlZml4Xyk7XG5cbiAgICBpZiAoaXNWb2ljZSkge1xuICAgICAgcmVzZW5kVm9pY2VPVFBCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ3Jlc2VuZHZvaWNlb3RwJywgX2NsYXNzUHJlZml4Xyk7XG4gICAgfVxuICAgIHZhciBfY2xhc3NQcmVmaXggPSBfY2xhc3NQcmVmaXhfIHx8IExvZ2luUmFkaXVzRGVmYXVsdHMuY2xhc3NQcmVmaXg7XG4gICAgdmFyIGZvcm1OYW1lID0gdHdvZmEgPyAndHdvZmFvdHAnIDogJ290cCc7XG4gICAgdmFyIGZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoX2NsYXNzUHJlZml4ICsgZm9ybU5hbWUpWzBdO1xuICAgIGlmICghZm9ybUVsZW1lbnQpIHtcbiAgICAgIGZvcm1OYW1lID0gKGZvcm1OYW1lID09PSAndHdvZmFvdHAnKSA/ICdvdHAnIDogJ3R3b2Zhb3RwJztcbiAgICAgIGZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoX2NsYXNzUHJlZml4ICsgZm9ybU5hbWUpWzBdO1xuICAgIH1cbiAgICBpZiAoZm9ybUVsZW1lbnQpIHtcbiAgICAgIHZhciBuZXh0c2libGluZyA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShmb3JtRWxlbWVudCwgJ3R5cGUnLCAnc3VibWl0Jyk7XG4gICAgICBpZiAobmV4dHNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGlzVm9pY2UpIHtcbiAgICAgICAgICBuZXh0c2libGluZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZXNlbmRWb2ljZU9UUEJ0biwgbmV4dHNpYmxpbmcubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIG5leHRzaWJsaW5nLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJlc2VuZE9UUEJ0biwgbmV4dHNpYmxpbmcubmV4dFNpYmxpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzVm9pY2UpIHtcbiAgICAgICAgICBmb3JtRWxlbWVudC5hcHBlbmRDaGlsZChyZXNlbmRWb2ljZU9UUEJ0bik7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzZW5kT1RQQnRuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vZHVsZS5MUkNoZWNrTG9naW4gJiYgdHdvZmEgJiYgKCFJc1Bob25lVmVyaWZpZWQgfHwgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPVFBBdXRoKSA9PT0gJ2ZhbHNlJykpIHtcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY2hhbmdlTnVtYmVyRm9ybShjb250YWluZXIsIGZvcm1FbGVtZW50LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgJycsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICB9XG4gICAgdmFyIGNhcHRjaGFIYW5kbGVDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKClcbiAgICB9O1xuICAgIGlmIChwaG9uZURhdGEub25ldG91Y2hsb2dpbmZsYWcpIHtcbiAgICAgIGNhbGxSZXNlbmRNYW51YWxseUZuID0gZmFsc2U7XG4gICAgICBwaG9uZU9iai5vbmV0b3VjaGxvZ2luZmxhZyA9IHRydWU7XG4gICAgICBjYXB0Y2hhSGFuZGxlQ2FsbGJhY2sgPSBmdW5jdGlvbiBjYXB0Y2hhSGFuZGxlIChrZXkpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZGF0YVsnc3VjY2VzcyddID0ga2V5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBrZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFbJ2Vycm9yJ10pIHtcbiAgICAgICAgICBvbkVycm9yKGRhdGFbJ2Vycm9yJ10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh3aW5kb3cuZ3JlY2FwdGNoYSkge1xuICAgICAgICAgICAgcGhvbmVPYmpbJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJ10gPSBkYXRhWydzdWNjZXNzJ107XG4gICAgICAgICAgICBncmVjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFJRCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdpbmRvdy5oY2FwdGNoYSAmJiBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkpIHtcbiAgICAgICAgICAgIHBob25lT2JqWydoLWNhcHRjaGEtcmVzcG9uc2UnXSA9IGRhdGFbJ3N1Y2Nlc3MnXTtcbiAgICAgICAgICAgIHdpbmRvdy5oY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhSUQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQTWFudWFsbHkocGhvbmVPYmosIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwaG9uZU9iai5pc1ZvaWNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdhZGRGb3JtQ2FwdGNoYScsIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIsICcnLCAnJywgcmVjYXB0Y2hhSUQpO1xuICAgIH1cbiAgICBpZiAocGhvbmVEYXRhLnVwZGF0ZVBob25lKSB7XG4gICAgICBwaG9uZU9iai51cGRhdGVQaG9uZSA9IHRydWU7XG4gICAgfVxuICAgIHZhciBoYW5kbGVSZXNlbmRPVFBCdG5DbGljayA9IGZ1bmN0aW9uIChldmVudCwgaXNWb2ljZSkge1xuICAgICAgcGhvbmVPYmouaXNWb2ljZSA9IGlzVm9pY2U7XG4gICAgICB3aW5kb3cub25DYXB0Y2hhU3VibWl0ID0gY2FwdGNoYUhhbmRsZUNhbGxiYWNrO1xuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVSZXNlbmRPVFBCdXR0b24pIHtcbiAgICAgICAgbW9kdWxlLnV0aWwuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbihldmVudCk7XG4gICAgICB9XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNDYXB0Y2hhRW5hYmxlZCAmJiAhY2FsbFJlc2VuZE1hbnVhbGx5Rm4pIHtcbiAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdhZGRGb3JtQ2FwdGNoYUV4ZWN1dGUnLCByZWNhcHRjaGFJRCwgdHJ1ZSwgY2FwdGNoYUhhbmRsZUNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSBpZiAodXBkYXRlUGhvbmUpIHtcbiAgICAgICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgICAgICBpZiAodG9rZW4gJiYgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5pc1ZhbGlkVG9rZW4odG9rZW4sIG9uRXJyb3IpKSB7XG4gICAgICAgICAgbGV0IHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bob25lP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZzbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMuc21zVGVtcGxhdGVVcGRhdGVQaG9uZTtcbiAgICAgICAgICBpZiAoaXNWb2ljZSkge1xuICAgICAgICAgICAgdXJsICs9ICcmaXN2b2ljZW90cD10cnVlJztcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIHVybCwgcGhvbmVPYmosIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgICBvbkVycm9yKHByaXZhdGVGdW5jdGlvbnNNb2R1bGUubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sICd1cGRhdGVQaG9uZScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNhbGxSZXNlbmRNYW51YWxseUZuKSB7XG4gICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQTWFudWFsbHkocGhvbmVPYmosIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBpc1ZvaWNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChyZXNlbmRWb2ljZU9UUEJ0bikge1xuICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgcmVzZW5kVm9pY2VPVFBCdG4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBoYW5kbGVSZXNlbmRPVFBCdG5DbGljayhldmVudCwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgcmVzZW5kT1RQQnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGhhbmRsZVJlc2VuZE9UUEJ0bkNsaWNrKGV2ZW50LCBmYWxzZSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gc2VuZEluc3RhbnRTaWduSW5MaW5rXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBzdHJpbmcgaG9sZCBmb3JtIGRhdGEgZXguICdlbWFpbCdcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWQgdG8gaG9sZCBkaWZmZXJlbnQgZm9ybXNcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2VuZCBpbnN0YW50IHVzZXIgc2lnbmluIGxpbmsgdG8gdXNlciBsaW5rZWQgZW1haWwgYWRkcmVzcyBmb3IgcGFzc3dvcmRsZXNzIGxvZ2luLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNlbmRJbnN0YW50U2lnbkluTGluayA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIGZvcm1EYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB2YXIgc3RyID0gZm9ybURhdGEuZW1haWxpZCB8fCBmb3JtRGF0YS5lbWFpbDtcbiAgICBpZiAoIUxvZ2luUmFkaXVzRGVmYXVsdHMucmVnZXhFeHByZXNzaW9uLmVtYWlsUmVnZXgudGVzdChzdHIpICYmICEobW9kdWxlLm9wdGlvbnMudXNlcm5hbWVMb2dpbiB8fCBtb2R1bGUub3B0aW9ucy5kdXBsaWNhdGVFbWFpbFdpdGhVbmlxdWVVc2VybmFtZSkpIHtcbiAgICAgIG9uRXJyb3IoW3ByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2ludmFsaWRFbWFpbCddKV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGF5bG9hZERhdGE7XG4gICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5yZWdleEV4cHJlc3Npb24uZW1haWxSZWdleC50ZXN0KHN0cikpIHtcbiAgICAgICAgcGF5bG9hZERhdGEgPSAnZW1haWw9JyArIHN0cjtcbiAgICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMudXNlcm5hbWVMb2dpbiB8fCBtb2R1bGUub3B0aW9ucy5kdXBsaWNhdGVFbWFpbFdpdGhVbmlxdWVVc2VybmFtZSkge1xuICAgICAgICBwYXlsb2FkRGF0YSA9ICd1c2VybmFtZT0nICsgc3RyO1xuICAgICAgfVxuICAgICAgcGF5bG9hZERhdGEgKz0gJyZvbmVDbGlja1NpZ25Jbj10cnVlJztcbiAgICAgIHZhciBwYXNzd29yZGxlc3NMb2dpbkVtYWlsVGVtcGxhdGUgPSBtb2R1bGUub3B0aW9ucy5pbnN0YW50TGlua0xvZ2luRW1haWxUZW1wbGF0ZSB8fCBtb2R1bGUub3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbkVtYWlsVGVtcGxhdGU7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnR0VUJywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vcGFzc3dvcmRsZXNzbG9naW4vZW1haWw/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnZlcmlmaWNhdGlvblVybD0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uVXJsICsgJyZwYXNzd29yZGxlc3Nsb2dpbnRlbXBsYXRlPScgKyBwYXNzd29yZGxlc3NMb2dpbkVtYWlsVGVtcGxhdGUgKyAnJicgKyBwYXlsb2FkRGF0YSwgJycsIGZ1bmN0aW9uIChzaWduaW5SZXNwb25zZSkge1xuICAgICAgICB3aW5kb3cubHJwYXNzd29yZGxlc3Nsb2dpbm90cCA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cubHJwYXNzd29yZGxlc3Nsb2dpbiA9IGZhbHNlO1xuICAgICAgICBpZiAoc2lnbmluUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3Ioc2lnbmluUmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3Moc2lnbmluUmVzcG9uc2UsIHBheWxvYWREYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3Bhc3N3b3JkbGVzc0xvZ2luJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gc2VuZEluc3RhbnRTaWduSW5PdHBcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIHN0cmluZyBob2xkIGZvcm0gZGF0YSBleC4gJ2VtYWlsJ1xuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZW5kIGluc3RhbnQgdXNlciBzaWduaW4gb3RwIHRvIHVzZXIgbGlua2VkIGVtYWlsIGFkZHJlc3MgZm9yIHBhc3N3b3JkbGVzcyBsb2dpbi5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZW5kSW5zdGFudFNpZ25Jbk90cCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIGZvcm1EYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB2YXIgc3RyID0gZm9ybURhdGEuZW1haWxpZCB8fCBmb3JtRGF0YS5lbWFpbDtcbiAgICBpZiAoIUxvZ2luUmFkaXVzRGVmYXVsdHMucmVnZXhFeHByZXNzaW9uLnBob25lUmVnZXgudGVzdChzdHIpKSB7XG4gICAgICBvbkVycm9yKFtwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWydpbnZhbGlkUGhvbmUnXSldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBheWxvYWREYXRhID0gJ3Bob25lPScgKyBzdHI7XG4gICAgICB2YXIgc21zVGVtcGxhdGUgPSBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZUluc3RhbnRPVFBMb2dpbiB8fCBtb2R1bGUub3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpblNNU1RlbXBsYXRlO1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ0dFVCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bhc3N3b3JkbGVzc2xvZ2luL290cD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIHBheWxvYWREYXRhICsgJyZzbXNUZW1wbGF0ZT0nICsgc21zVGVtcGxhdGUsICcnLCBmdW5jdGlvbiAoc2lnbmluUmVzcG9uc2UpIHtcbiAgICAgICAgd2luZG93LmxycGFzc3dvcmRsZXNzbG9naW5vdHAgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmxycGFzc3dvcmRsZXNzbG9naW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKHNpZ25pblJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHNpZ25pblJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHNpZ25pblJlc3BvbnNlKTtcbiAgICAgICAgICBpZiAoc2lnbmluUmVzcG9uc2UuRGF0YSAmJiBzaWduaW5SZXNwb25zZS5EYXRhLlNpZCkge1xuICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYmVmb3JlRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBfc2NoZW1hKSB7XG4gICAgICAgICAgICAgIGlmICghbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKF9zY2hlbWEsICduYW1lJywgJ3Jlc2VuZG90cCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc2VuZEJ0bk9UUFNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5idG5PVFBTY2hlbWEsIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdyZXNlbmRvdHAnLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCB2aWEgU01TJyxcbiAgICAgICAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmRpc2FibGVSZXNlbmRPVFBCdXR0b24oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNlbmRPVFBBcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBheWxvYWREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIG9uc3VjY2Vzczogb25TdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgc21zdGVtcGxhdGU6IHNtc1RlbXBsYXRlLFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NlbmRJbnN0YW50U2lnbkluUmVzZW5kT3RwJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2VuZE9UUEhhbmRsZXIocmVzZW5kT1RQQXJncyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3NjaGVtYS5wdXNoKHJlc2VuZEJ0bk9UUFNjaGVtYSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzVm9pY2VPdHApIHtcbiAgICAgICAgICAgICAgICAgIHZhciByZXNlbmRCdG5WT1RQU2NoZW1hID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlLmJ0bk9UUFNjaGVtYSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAncmVzZW5kdm9pY2VvdHAnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnUmVzZW5kIHZpYSBWb2ljZSBjYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVSZXNlbmRPVFBCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmRpc2FibGVSZXNlbmRPVFBCdXR0b24oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZW5kT1RQQXJncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBheWxvYWREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25zdWNjZXNzOiBvblN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgc21zdGVtcGxhdGU6IHNtc1RlbXBsYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pY2VvdHA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzZW5kSW5zdGFudFNpZ25JblJlc2VuZE90cCdcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQSGFuZGxlcihyZXNlbmRPVFBBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBfc2NoZW1hLnB1c2gocmVzZW5kQnRuVk9UUFNjaGVtYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzY2hlbWEgPSBtb2R1bGUub3RwU2NoZW1hO1xuICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtKHNjaGVtYSwgJ290cCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKG90cERhdGEpIHtcbiAgICAgICAgICAgICAgdmFyIHJlY2FwdGNoYWlkID0gX2NsYXNzUHJlZml4ICsgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeCArICdyZWNhcHRjaGFfd2lkZ2V0X3ZlcmlmeW90cCc7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeUluc3RhbnRPVFAob3RwRGF0YSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhwYXlsb2FkRGF0YSksIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldE1hcHBlZE1lc3NhZ2UoZXJyb3JzKSk7XG4gICAgICAgICAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgJ3Bhc3N3b3JkbGVzc0xvZ2luJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gcmVzZW5kT1RQTWFudWFsbHlcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCB3aGljaCBjb250YWlucyB0aGUgY3VzdG9tZXIncyBwaG9uZSBudW1iZXIgdW5kZXIgdGhlIHBob25lTm8yRkEgcGFyYW1ldGVyLiBlLmcuIHsgcGhvbmVObzJGQTogXCJ4eHh4eHh4eHh4XCIgfVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHJlc2VuZCBvdHAgcHJvY2VzcyB0byB1c2VyIHBob25lIG51bWJlci5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNlbmRPVFBNYW51YWxseSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgaXNWb2ljZSkge1xuICAgIGlmIChtb2R1bGUuTFJDaGVjazJGQSAmJiAobW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikgJiYgIW1vZHVsZS5MUkNoZWNrUmVnaXN0cmF0aW9uKSB7XG4gICAgICBpZiAobW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPVFBBdXRoKSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICB2YXIgcmVzZW5kT1RQQXJncyA9IHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIG9uc3VjY2Vzczogb25TdWNjZXNzLFxuICAgICAgICAgIG9uZXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgc21zdGVtcGxhdGU6IG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBLFxuICAgICAgICAgIHZvaWNlb3RwOiBpc1ZvaWNlLFxuICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZTJGQU51bWJlclJlc2VuZE9UUCdcbiAgICAgICAgfTtcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNlbmRPVFBIYW5kbGVyKHJlc2VuZE9UUEFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlcnMucmVzZW5kT1RQMkZBQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgaXNWb2ljZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2VuZE9UUENvbnRyb2xsZXIoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGlzVm9pY2UpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiB1cGRhdGVQaG9uZU51bWJlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybU5hbWUgZm9ybSBuYW1lIGV4LiAndXBkYXRlUGhvbmUnXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyB3aWxsIGNyZWF0ZSB1cGRhdGVQaG9uZU51bWJlciBmb3JtIGFuZCBpbml0aWFsaXplIHRoZSB1cGRhdGVQaG9uZU51bWJlciBwcm9jZXNzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnVwZGF0ZVBob25lTnVtYmVyID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGZvcm1OYW1lLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xuICAgIGlmIChtb2R1bGUuTFJDaGVjazJGQSAmJiAobW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikpIHtcbiAgICAgIG1vZHVsZS5jaGVja1Bob25lTnVtYmVyU2NoZW1hWzBdLm5hbWUgPSAncGhvbmVObzJGQSc7XG4gICAgfVxuICAgIF9jbGFzc1ByZWZpeCA9IF9jbGFzc1ByZWZpeCB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmNsYXNzUHJlZml4O1xuICAgIHZhciBwaG9uZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoX2NsYXNzUHJlZml4ICsgJ3Nob3dRUmNvZGUnKVswXTtcbiAgICBpZiAocGhvbmVGb3JtRWxlbWVudCkge1xuICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgX2Zvcm1OYW1lID0gZm9ybU5hbWUgfHwgJ3VwZGF0ZVBob25lJztcbiAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0obW9kdWxlLmNoZWNrUGhvbmVOdW1iZXJTY2hlbWEsIF9mb3JtTmFtZSwgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKGRhdGEuaW5kZXhPZigncGhvbmU9JykgPT09IC0xICYmIChtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSkge1xuICAgICAgICBjb250cm9sbGVycy51cGRhdGUyRkFQaG9uZU51bWJlckNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlcnMudXBkYXRlUGhvbmVOdW1iZXJDb250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHBpbmdGb3JTbWFydExvZ2luXG4gICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudEd1aWQgcmFuZG9tIGdlbmVyYXRlZCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVEhpcyBmdW5jdGlvbiB3aWxsIGtlZXAgcGluZyB0byB1c2VyIGZvciBzbWFydCBsb2dpbiB0aWxsIHVzZXIgbG9nZ2VkIGluIGhpcyBhY2NvdW50LlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JTbWFydExvZ2luID0gZnVuY3Rpb24gKGNsaWVudEd1aWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBwaW5nSW50ZXJ2YWwgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5QaW5nSW50ZXJ2YWwgfHwgbW9kdWxlLm9wdGlvbnMuc21hcnRMb2dpblBpbmdJbnRlcnZhbDtcbiAgICB2YXIgcGluZ0NvdW50ID0gbW9kdWxlLm9wdGlvbnMuYXV0b0xvZ2luUGluZ0NvdW50IHx8IG1vZHVsZS5vcHRpb25zLnNtYXJ0TG9naW5QaW5nQ291bnQ7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3NtYXJ0bG9naW4vcGluZz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmY2xpZW50R3VpZD0nICsgY2xpZW50R3VpZCwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUgPT09IDExMzkgfHwgcmVzcG9uc2UuRXJyb3JDb2RlID09PSAxMTQwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA8IHBpbmdDb3VudCkge1xuICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5waW5nRm9yU21hcnRMb2dpbihjbGllbnRHdWlkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5waW5nQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgICAgfSwgcGluZ0ludGVydmFsICogMTAwMCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSAmJiByZXNwb25zZS5FcnJvckNvZGUgIT09IDExMzkpIHtcbiAgICAgICAgb25FcnJvcihyZXNwb25zZSk7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgLy8gcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlLCBcIlwiLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfVxuICAgIH0sICdwaW5nU21hcnRMb2dpbicpO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHBpbmdGb3JTb2NpYWxMb2dpblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRHdWlkIHJhbmRvbSBnZW5lcmF0ZWQgc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRIaXMgZnVuY3Rpb24gd2lsbCBrZWVwIHBpbmcgdG8gdXNlciBmb3Igc29jaWFsIGxvZ2luIHRpbGwgdXNlciBsb2dnZWQgaW4gaGlzIGFjY291bnQuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucGluZ0ZvclNvY2lhbExvZ2luID0gZnVuY3Rpb24gKGNsaWVudEd1aWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBwaW5nSW50ZXJ2YWwgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5QaW5nSW50ZXJ2YWwgfHwgbW9kdWxlLm9wdGlvbnMuc21hcnRMb2dpblBpbmdJbnRlcnZhbDtcbiAgICB2YXIgcGluZ0NvdW50ID0gbW9kdWxlLm9wdGlvbnMuYXV0b0xvZ2luUGluZ0NvdW50IHx8IG1vZHVsZS5vcHRpb25zLnNtYXJ0TG9naW5QaW5nQ291bnQ7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvcGluZz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmY2xpZW50R3VpZD0nICsgY2xpZW50R3VpZCArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJmVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUgKyAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUgPT09IDExMzkgfHwgcmVzcG9uc2UuRXJyb3JDb2RlID09PSAxMTQwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA8IHBpbmdDb3VudCkge1xuICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5waW5nRm9yU29jaWFsTG9naW4oY2xpZW50R3VpZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgIH0sIHBpbmdJbnRlcnZhbCAqIDEwMDApO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy5zZW5kVmVyaWZpY2F0aW9uRW1haWxGb3JVbnZlcmlmaWVkU29jaWFsTG9naW4gJiYgcmVzcG9uc2UuRXJyb3JDb2RlICYmIHJlc3BvbnNlLkVycm9yQ29kZSA9PT0gMTAyNikge1xuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA9IDA7XG4gICAgICAgIG9uRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICB2YXIgc2VuZFZlcmZpY2F0aW9uRW1haWxCdG5GbiA9ICgpID0+IHtcbiAgICAgICAgICBjb250cm9sbGVycy5zZW5kVmVyaWZpY2Fpb25FbWFpbEZvclNvY2lhbENvbnRyb2xsZXIoY2xpZW50R3VpZCwgbW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCAnY2xpZW50Z3VpZCcpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VuZFZlcmZpY2F0aW9uRW1haWxCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ3NlbmR2ZXJpZmljYXRpb25lbWFpbCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuY2xhc3NQcmVmaXgsIHNlbmRWZXJmaWNhdGlvbkVtYWlsQnRuRm4pO1xuICAgICAgICBpZiAoc2VuZFZlcmZpY2F0aW9uRW1haWxCdG4uY2hpbGROb2RlcyAmJiBzZW5kVmVyZmljYXRpb25FbWFpbEJ0bi5jaGlsZE5vZGVzWzBdLmlkKSB7XG4gICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZW5kVmVyZmljYXRpb25FbWFpbEJ0bi5jaGlsZE5vZGVzWzBdLmlkKSkge1xuICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQobW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lciwgc2VuZFZlcmZpY2F0aW9uRW1haWxCdG4sIGZhbHNlKTtcbiAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc29jaWFsTG9naW5Gb3JtUmVuZGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSAmJiByZXNwb25zZS5FcnJvckNvZGUgIT09IDExMzkpIHtcbiAgICAgICAgb25FcnJvcihyZXNwb25zZSk7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCAnc29jaWFsTG9naW4nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHBpbmdGb3JTb2NpYWxJZGVudGl0eVxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiB1c2VycyBhY2Nlc3MgdG9rZW5cbiAgKiBAcGFyYW0ge1N0cmluZ30gY2xpZW50R3VpZCByYW5kb20gZ2VuZXJhdGVkIHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUSGlzIGZ1bmN0aW9uIHdpbGwga2VlcCBwaW5nIHRvIHVzZXIgZm9yIHNvY2lhbCBpZGVudGl0eSB0aWxsIHVzZXIgbG9nZ2VkIGluIHRvIGhpcyBzb2NpYWwgYWNjb3VudC5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5waW5nRm9yU29jaWFsSWRlbnRpdHkgPSBmdW5jdGlvbiAodG9rZW4sIGNsaWVudEd1aWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBwaW5nSW50ZXJ2YWwgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5QaW5nSW50ZXJ2YWwgfHwgbW9kdWxlLm9wdGlvbnMuc21hcnRMb2dpblBpbmdJbnRlcnZhbDtcbiAgICB2YXIgcGluZ0NvdW50ID0gbW9kdWxlLm9wdGlvbnMuYXV0b0xvZ2luUGluZ0NvdW50IHx8IG1vZHVsZS5vcHRpb25zLnNtYXJ0TG9naW5QaW5nQ291bnQ7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICAnY2xpZW50R3VpZCc6IGNsaWVudEd1aWRcbiAgICB9O1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdQT1NUJywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvc29jaWFsaWRlbnRpdHkvcGluZz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSA9PT0gMTEzOSB8fCByZXNwb25zZS5FcnJvckNvZGUgPT09IDExNDApIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50IDwgcGluZ0NvdW50KSB7XG4gICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JTb2NpYWxJZGVudGl0eSh0b2tlbiwgY2xpZW50R3VpZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgIH0sIHBpbmdJbnRlcnZhbCAqIDEwMDApO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5FcnJvckNvZGUgJiYgcmVzcG9uc2UuRXJyb3JDb2RlICE9PSAxMTM5KSB7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCAnbGlua0FjY291bnQnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHBpbmdGb3JDcm9zc0RldmljZVNTT1xuICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIHJhbmRvbSBnZW5lcmF0ZWQgc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcXJjb2RlQ2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gb2YgY2xlYXJTZXRJbnRlcnZhbCB3aGVuIHVzZXIgZ290IGxvZ2dlZCBzdWNjZXNzZnVsbHlcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGtlZXAgcGluZyB0byB1c2VyIGZvciBDcm9zc0RldmljZVNTTyBsb2dpbiB0aWxsIHVzZXIgbG9nZ2VkIGluIGhpcyBhY2NvdW50LlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JDcm9zc0RldmljZVNTTyA9IGZ1bmN0aW9uIChjb2RlLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHFyY29kZUNhbGxiYWNrKSB7XG4gICAgdmFyIHBpbmdJbnRlcnZhbCA9IG1vZHVsZS5vcHRpb25zLmNyb3NzRGV2aWNlU1NPUGluZ0ludGVydmFsO1xuICAgIHZhciBwaW5nQ291bnQgPSBtb2R1bGUub3B0aW9ucy5jcm9zc0RldmljZVNTT1BpbmdDb3VudDtcbiAgICB2YXIgcXJQaW5nQ291bnRlciA9IDE7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuY2xvdWRBcGlEb21haW4gKyAnc3NvL21vYmlsZS90b2tlbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmY29kZT0nICsgY29kZSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmFjY2Vzc190b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICBtb2R1bGUuQ0RTU09QaW5nQXBpVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChxclBpbmdDb3VudGVyIDwgcGluZ0NvdW50KSB7XG4gICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JDcm9zc0RldmljZVNTTyhjb2RlLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHFyY29kZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIHFyUGluZ0NvdW50ZXIrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgICAgfSwgcGluZ0ludGVydmFsICogMTAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxclBpbmdDb3VudGVyID0gMDtcbiAgICAgICAgcXJjb2RlQ2FsbGJhY2soKTtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCAncGluZ0ZvckNyb3NzRGV2aWNlU1NPJyk7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gZ2VuZXJhdGVDcm9zc0RldmljZVNTT0NvZGVcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgY29udGFpbmVyIGlkXG4gICogQHBhcmFtIHtTdHJpbmd9IGV4cGlyeXRpbWUgUVIgY29kZSBleHBpcnl0aW1lXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IHFyY29kZUNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIGNsZWFyU2V0SW50ZXJ2YWwgd2hlbiB1c2VyIGdvdCBsb2dnZWQgc3VjY2Vzc2Z1bGx5XG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCAgZ2VuZXJhdGUgQ3Jvc3NEZXZpY2VTU08gUVIgY29kZSBhbmQgc2hvdyBpdC5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5nZW5lcmF0ZUNyb3NzRGV2aWNlU1NPQ29kZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIGV4cGlyeXRpbWUsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4TmFtZSwgcXJjb2RlQ2FsbGJhY2spIHtcbiAgICB2YXIgZGVmYXVsdEV4cGlyeVRpbWUgPSAnNjAnO1xuICAgIHZhciBxcmNvZGVFeHBpcnlUaW1lID0gZXhwaXJ5dGltZSB8fCBkZWZhdWx0RXhwaXJ5VGltZTtcbiAgICBpZiAoKHFyY29kZUV4cGlyeVRpbWUgKiAxKSA+IChkZWZhdWx0RXhwaXJ5VGltZSAqIDEpKSB7XG4gICAgICBtb2R1bGUubG9nKCdRUiBjb2RlIGV4cGlyeSB0aW1lIHNob3VsZCBub3QgYmUgbW9yZSB0aGFuIDYwIHNlY29uZHMuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmNsb3VkQXBpRG9tYWluICsgJ3Nzby9tb2JpbGUvZ2VuZXJhdGU/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmV4cGlyeT0nICsgcXJjb2RlRXhwaXJ5VGltZSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY29kZSkge1xuICAgICAgICAgICAgdmFyIHNjaGVtYSA9IFtdO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgICBRUkNvZGUudG9EYXRhVVJMKHJlc3BvbnNlLmNvZGUsIGZ1bmN0aW9uIChfZXJyLCB1cmwpIHtcbiAgICAgICAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgbmFtZTogJ3FyY29kZScsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ1FSIENvZGUnLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiAnJyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAncicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHVybFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgX2lkUHJlZml4ID0gX2NsYXNzUHJlZml4TmFtZSB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4O1xuICAgICAgICAgICAgdmFyIF9jbGFzc1ByZWZpeCA9IF9jbGFzc1ByZWZpeE5hbWUgfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5jbGFzc1ByZWZpeDtcbiAgICAgICAgICAgIHZhciBxckNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHFyQ29kZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBfaWRQcmVmaXggKyAnY3Jvc3NEZXZpY2VTU08nKTtcbiAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlRm9ybUZpZWxkcyhzY2hlbWEsIHFyQ29kZSwgJ2Nyb3NzRGV2aWNlU1NPJywgW10sIF9jbGFzc1ByZWZpeCwgX2lkUHJlZml4LCBvbkVycm9yKTtcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgcXJDb2RlLCBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCk7XG4gICAgICAgICAgICB2YXIgaGFuZGxlQ0RTU09Mb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAoX3Jlc3ApIHtcbiAgICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpbkhhbmRsZVRva2VuKF9yZXNwLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgdHJ1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5waW5nRm9yQ3Jvc3NEZXZpY2VTU08ocmVzcG9uc2UuY29kZSwgaGFuZGxlQ0RTU09Mb2dpblN1Y2Nlc3MsIG9uRXJyb3IsIHFyY29kZUNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sICdjcm9zc0RldmljZVNTTycpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBhZGRDaGFuZ2VFdmVudEhhbmRsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIFRoZSBmb3JtIGNvbnRhaW5lciBJRFxuICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGZvcm0gZm9ybSBlbGVtZW50XG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgYWN0aW9uXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGFzb3VyY2UgRGF0YSBzY2hlbWEgb2YgdGhlIHBhcmVudCBzb3VyY2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IHByZWZpeCB0byBiZSBhZGRlZCB0byBjbGFzcyBuYW1lcyBpbiBmb3JtIGZpZWxkc1xuICAqIEBwYXJhbSB7T2JqZWN0fSBjaGlsZGRhdGFzb3VyY2UgRGF0YSBzY2hlbWEgb2YgdGhlIGNoaWxkIHNvdXJjZVxuICAqIEBkZXNjcmlwdGlvbiBVc2VkIHRvIGFkZCB0aGUgY3VzdG9tIGRhdGEgc291cmNlIGJhc2VkIG9uIHRoZSBwYXJlbnQgc2VsZWN0XG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuYWRkQ2hhbmdlRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgZGF0YXNvdXJjZSwgY2hpbGRkYXRhc291cmNlLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2hhbmdlJywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2NsYXNzUHJlZml4ICsgJ3JlZ2lzdHJhdGlvbi0nICsgZGF0YXNvdXJjZS5uYW1lKSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcmVnaXN0cmF0aW9uZGF0YS8nICsgY2hpbGRkYXRhc291cmNlLkRhdGFTb3VyY2UgKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZwYXJlbnRJZD0nICsgdGhpcy52YWx1ZSwgJycsIGZ1bmN0aW9uIChkcywgcmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfY2xhc3NQcmVmaXggKyAncmVnaXN0cmF0aW9uLScgKyBkcy5uYW1lKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIGZvciAodmFyIGwgPSAxOyBsIDwgZWxlbWVudC5vcHRpb25zLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9wdGlvbnNbbF0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlc3BvbnNlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoaiA9PT0gMCAmJiBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQub3B0aW9uc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgb3B0aW9uMS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcmVzcG9uc2Vbal0uSWQpO1xuICAgICAgICAgICAgICBvcHRpb24xLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJlc3BvbnNlW2pdLktleSkpO1xuICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbjEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgb3B0aW9uMi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcmVzcG9uc2Vbal0uSWQpO1xuICAgICAgICAgICAgICBvcHRpb24yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJlc3BvbnNlW2pdLktleSkpO1xuICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRzLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5hZGRDaGFuZ2VFdmVudEhhbmRsZXIoY29udGFpbmVyLCBkcywgZHMuY2hpbGRyZW5ba10sIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH1cbiAgICAgIH0sICdyZWdpc3RyYXRpb24nLCBjaGlsZGRhdGFzb3VyY2UpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gY3JlYXRlRm9ybUZpZWxkc1xuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBTY2hlbWEgcHJvdmlkZWQgdG8gY3JlYXRlIGZvcm1cbiAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmb3JtIGZvcm0gZWxlbWVudFxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGFjdGlvblxuICAqIEBwYXJhbSB7T2JqZWN0fSB2YWxpZGF0aW9uU2NoZW1hIFNjaGVtYSBvZiB0aGUgZm9ybSBmaWVsZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggcHJlZml4IHRvIGJlIGFkZGVkIHRvIGNsYXNzIG5hbWVzIGluIGZvcm0gZmllbGRzXG4gICogQHBhcmFtIHtTdHJpbmd9IF9pZFByZWZpeCBwcmVmaXggdG8gYmUgYWRkZWQgdG8gaWQgbmFtZXMgaW4gZm9ybSBmaWVsZHNcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGwgYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgdGhlIGZvcm0gZmllbGRzIHdpdGggcHJvdmlkZWQgc2NoZW1hLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm1GaWVsZHMgPSBmdW5jdGlvbiAoc2NoZW1hLCBmb3JtLCBuYW1lLCB2YWxpZGF0aW9uU2NoZW1hLCBfY2xhc3NQcmVmaXgsIF9pZFByZWZpeCwgb25FcnJvcikge1xuICAgIG9uRXJyb3IgPSBvbkVycm9yIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICB2YXIgbWV0ZXJDb25maWc7XG4gICAgdmFyIHRyaW1FbWFpbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGNzc0lkID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIHZhciB0eHRwYXNzID0gdGhpcy52YWx1ZTtcblxuICAgICAgdmFyIG1ldGVyID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQobmFtZSArICctcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInKTtcbiAgICAgIHZhciB0ZXh0ID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQobmFtZSArICctcGFzc3dvcmQtc3RyZW5ndGgtdGV4dCcpO1xuICAgICAgdGV4dC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHZhciBzY29yZSA9IDA7XG4gICAgICBpZiAodHh0cGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNjb3JlKys7XG4gICAgICAgIGlmICgodHh0cGFzcy5tYXRjaCgvW2Etel0vKSkgJiYgKHR4dHBhc3MubWF0Y2goL1tBLVpdLykpKSBzY29yZSsrO1xuICAgICAgICBpZiAodHh0cGFzcy5tYXRjaCgvXFxkKy8pKSBzY29yZSsrO1xuICAgICAgICBpZiAodHh0cGFzcy5tYXRjaCgvLlshLEAsIywkLCUsXiwmLCosPyxfLH4sLSwoLCldLykpIHNjb3JlKys7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgIGlmICh0eHRwYXNzLmxlbmd0aCA+IDEyKSBzY29yZSsrO1xuICAgICAgfVxuICAgICAgbWV0ZXIudmFsdWUgPSBzY29yZTtcbiAgICAgIHZhciBjc3NPbGRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuYW1lICsgJy1wYXNzd29yZCcpO1xuICAgICAgaWYgKGNzc09sZEVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGNzc09sZEVsZW1lbnQubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICBjc3NPbGRFbGVtZW50W2xdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY3NzT2xkRWxlbWVudFtsXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjc3MgPSBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChjc3NJZCkgPyBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChjc3NJZCkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgY3NzLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgICAgY3NzLmlkID0gY3NzSWQ7XG4gICAgICBjc3Muc2V0QXR0cmlidXRlKCdjbGFzcycsIG5hbWUgKyAnLXBhc3N3b3JkJyk7XG4gICAgICB2YXIgaXNGaXJlZm94ID0gKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9PSAtMSk7XG4gICAgICBpZiAoaXNGaXJlZm94KSB7XG4gICAgICAgIGNzcy5pbm5lckhUTUwgPSAnIycgKyBuYW1lICsgJy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcjo6LW1vei1tZXRlci1iYXIgeyBiYWNrZ3JvdW5kOiAnICsgbWV0ZXJDb25maWdbc2NvcmVdLmNvbG9yICsgJyAhaW1wb3J0YW50OyB9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzcy5pbm5lckhUTUwgPSAnIycgKyBuYW1lICsgJy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcjo6LXdlYmtpdC1tZXRlci1vcHRpbXVtLXZhbHVlIHsgYmFja2dyb3VuZDogJyArIG1ldGVyQ29uZmlnW3Njb3JlXS5jb2xvciArICcgIWltcG9ydGFudDsgfSc7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNzcyk7XG5cbiAgICAgIGlmICh0eHRwYXNzICE9PSAnJyAmJiBzY29yZSA+IDApIHtcbiAgICAgICAgdGV4dC5pbm5lckhUTUwgPSAnU3RyZW5ndGg6ICcgKyBtZXRlckNvbmZpZ1tzY29yZV0uTWVzc2FnZTtcbiAgICAgICAgdGV4dC5zdHlsZS5jb2xvciA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh0eHRwYXNzICE9PSAnJykge1xuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IG1ldGVyQ29uZmlnW3Njb3JlXS5NZXNzYWdlO1xuICAgICAgICB0ZXh0LnN0eWxlLmNvbG9yID0gbWV0ZXJDb25maWdbc2NvcmVdLmNvbG9yO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3R5bGUgPSAnY3Vyc29yOnBvaW50ZXI7dHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDUwJTtyaWdodDogMTZweDt3aWR0aDoyNHB4OyBoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrOyc7XG4gICAgY29uc3QgZXllU2xhc2hJY29uID0gc3R5bGUgKyAnYmFja2dyb3VuZDp1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJR05zWVhOelBTSnBZMjl1SUdsamIyNHRkR0ZpYkdWeUlHbGpiMjR0ZEdGaWJHVnlMV1Y1WlMxdlptWWlJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElpQnpkSEp2YTJVdGQybGtkR2c5SWpJaUlITjBjbTlyWlQwaVkzVnljbVZ1ZEVOdmJHOXlJaUJtYVd4c1BTSnViMjVsSWlCemRISnZhMlV0YkdsdVpXTmhjRDBpY205MWJtUWlJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaVBqeHdZWFJvSUhOMGNtOXJaVDBpYm05dVpTSWdaRDBpVFRBZ01HZ3lOSFl5TkVnd2VpSWdabWxzYkQwaWJtOXVaU0l2UGp4d1lYUm9JR1E5SWsweE1DNDFPRFVnTVRBdU5UZzNZVElnTWlBd0lEQWdNQ0F5TGpneU9TQXlMamd5T0NJZ0x6NDhjR0YwYUNCa1BTSk5NVFl1TmpneElERTJMalkzTTJFNExqY3hOeUE0TGpjeE55QXdJREFnTVNBdE5DNDJPREVnTVM0ek1qZGpMVE11TmlBd0lDMDJMallnTFRJZ0xUa2dMVFpqTVM0eU56SWdMVEl1TVRJZ01pNDNNVElnTFRNdU5qYzRJRFF1TXpJZ0xUUXVOamMwYlRJdU9EWWdMVEV1TVRRMllUa3VNRFUxSURrdU1EVTFJREFnTUNBeElERXVPRElnTFM0eE9HTXpMallnTUNBMkxqWWdNaUE1SURaakxTNDJOallnTVM0eE1TQXRNUzR6TnprZ01pNHdOamNnTFRJdU1UTTRJREl1T0RjaUlDOCtQSEJoZEdnZ1pEMGlUVE1nTTJ3eE9DQXhPQ0lnTHo0OEwzTjJaejQ9XCIpJztcbiAgICBjb25zdCBleWVJY29uID0gc3R5bGUgKyAnYmFja2dyb3VuZDp1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJR05zWVhOelBTSnBZMjl1SUdsamIyNHRkR0ZpYkdWeUlHbGpiMjR0ZEdGaWJHVnlMV1Y1WlNJZ2QybGtkR2c5SWpJMElpQm9aV2xuYUhROUlqSTBJaUIyYVdWM1FtOTRQU0l3SURBZ01qUWdNalFpSUhOMGNtOXJaUzEzYVdSMGFEMGlNaUlnYzNSeWIydGxQU0pqZFhKeVpXNTBRMjlzYjNJaUlHWnBiR3c5SW01dmJtVWlJSE4wY205clpTMXNhVzVsWTJGd1BTSnliM1Z1WkNJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKeWIzVnVaQ0krUEhCaGRHZ2djM1J5YjJ0bFBTSnViMjVsSWlCa1BTSk5NQ0F3YURJMGRqSTBTREI2SWlCbWFXeHNQU0p1YjI1bElpOCtQSEJoZEdnZ1pEMGlUVEV3SURFeVlUSWdNaUF3SURFZ01DQTBJREJoTWlBeUlEQWdNQ0F3SUMwMElEQWlJQzgrUEhCaGRHZ2daRDBpVFRJeElERXlZeTB5TGpRZ05DQXROUzQwSURZZ0xUa2dObU10TXk0MklEQWdMVFl1TmlBdE1pQXRPU0F0Tm1NeUxqUWdMVFFnTlM0MElDMDJJRGtnTFRaak15NDJJREFnTmk0MklESWdPU0EySWlBdlBqd3ZjM1puUGc9PVwiKSc7XG4gICAgY29uc3QgdG9nZ2xlUGFzc1Zpc2libGl0eSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmNoaWxkTm9kZXMgJiYgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGROb2Rlc1swXS5pZCkge1xuICAgICAgICB2YXIgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChldmVudC50YXJnZXQucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzBdLmlkKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IHBhc3N3b3JkLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGFzc3dvcmQnID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICAgICAgcGFzc3dvcmQuc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSk7XG4gICAgICAgIGlmICh0eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGV5ZVNsYXNoSWNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBleWVJY29uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzY2hlbWFbaV0pIHtcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRWYWxpZGF0aW9uKHNjaGVtYVtpXSk7XG5cbiAgICAgICAgaWYgKHNjaGVtYVtpXS5ydWxlcyAmJiBzY2hlbWFbaV0ucnVsZXMgIT09ICcnKSB7XG4gICAgICAgICAgaWYgKHNjaGVtYVtpXS5ydWxlcy5pbmRleE9mKCdjdXN0b21fdmFsaWRhdGlvbicpID4gLTEgJiYgc2NoZW1hW2ldLnJ1bGVzLmluZGV4T2YoJ2NhbGxiYWNrX2N1c3RvbV92YWxpZGF0aW9uJykgPT09IC0xKSB7XG4gICAgICAgICAgICBzY2hlbWFbaV0ucnVsZXMgPSBzY2hlbWFbaV0ucnVsZXMucmVwbGFjZSgvY3VzdG9tX3ZhbGlkYXRpb25cXGIvZywgJ2NhbGxiYWNrX2N1c3RvbV92YWxpZGF0aW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRpb25TY2hlbWFbaV0gPSB7fTtcbiAgICAgICAgdmFsaWRhdGlvblNjaGVtYVtpXS5uYW1lID0gc2NoZW1hW2ldLm5hbWU7XG4gICAgICAgIHZhbGlkYXRpb25TY2hlbWFbaV0uZGlzcGxheSA9IHNjaGVtYVtpXS5kaXNwbGF5O1xuICAgICAgICB2YWxpZGF0aW9uU2NoZW1hW2ldLnJ1bGVzID0gc2NoZW1hW2ldLnJ1bGVzO1xuXG4gICAgICAgIHZhciBlbGVtO1xuICAgICAgICBzd2l0Y2ggKHNjaGVtYVtpXS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgICAgY2FzZSAnY2FwdGNoYSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdwYXNzd29yZCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHNjaGVtYVtpXS52YWx1ZSB8fCAnJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdExhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBzZWxlY3RMYWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLS0gc2VsZWN0IC0tJykpO1xuICAgICAgICAgICAgc2VsZWN0TGFibGUuc2V0QXR0cmlidXRlKCd2YWx1ZScsICcnKTtcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoc2VsZWN0TGFibGUpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5EYXRhU291cmNlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICAgICAgICBpZiAoc2NoZW1hW2ldLm9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NoZW1hW2ldLm9wdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc2NoZW1hW2ldLm9wdGlvbnNbal0udmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoc2NoZW1hW2ldLm5hbWUgPT09ICdjb3VudHJ5JykgeyBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNjaGVtYVtpXS5vcHRpb25zW2pdLnZhbHVlICsgJ3wnICsgc2NoZW1hW2ldLm9wdGlvbnNbal0udGV4dCk7IH1cblxuICAgICAgICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHNjaGVtYVtpXS5vcHRpb25zW2pdLnRleHQpKTtcbiAgICAgICAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5kZWZhdWx0T3B0aW9uRmllbGRbc2NoZW1hW2ldLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICBlbGVtLnZhbHVlID0gbW9kdWxlLmRlZmF1bHRPcHRpb25GaWVsZFtzY2hlbWFbaV0ubmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnbXVsdGknOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgZWxlbS50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBlbGVtLnR5cGUgPSAnZW1haWwnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHNjaGVtYVtpXS5kaXNwbGF5O1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vICB3aW5kb3cub3BlbihkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLlFSQ29kZSk7XG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBlbGVtLnNyYyA9IHNjaGVtYVtpXS52YWx1ZTtcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdpbWFnZSc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICd0ZXh0JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzY2hlbWFbaV0udGl0bGUpIHtcbiAgICAgICAgICBlbGVtLnRpdGxlID0gc2NoZW1hW2ldLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWFbaV0uZGlzYWJsZWQpIHtcbiAgICAgICAgICBlbGVtLmRpc2FibGVkID0gc2NoZW1hW2ldLmRpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0QXR0cmlidXRlKHNjaGVtYVtpXSwgZWxlbSk7XG5cbiAgICAgICAgaWYgKHNjaGVtYVtpXS5wbGFjZWhvbGRlcikge1xuICAgICAgICAgIGVsZW0ucGxhY2Vob2xkZXIgPSBzY2hlbWFbaV0ucGxhY2Vob2xkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYVtpXS52YWx1ZSkge1xuICAgICAgICAgIGlmIChzY2hlbWFbaV0udHlwZSA9PT0gJ211bHRpJykge1xuICAgICAgICAgICAgZWxlbS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHNjaGVtYVtpXS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYVtpXS50eXBlID09PSAnaHRtbCcpIHtcbiAgICAgICAgICB2YXIgZGl2SFRNTCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGRpdkhUTUwuc2V0QXR0cmlidXRlKCdjbGFzcycsIF9jbGFzc1ByZWZpeCArICctZm9ybS1lbGVtZW50LWNvbnRlbnQnICsgJyBjb250ZW50LScgKyBfaWRQcmVmaXggKyBzY2hlbWFbaV0ubmFtZSk7XG4gICAgICAgICAgZGl2SFRNTC5pbm5lckhUTUwgPSBzY2hlbWFbaV0uaHRtbDtcbiAgICAgICAgICBpZiAoc2NoZW1hW2ldLmV2ZW50KSB7XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudChzY2hlbWFbaV0uZXZlbnQsIGRpdkhUTUwsIHNjaGVtYVtpXS5ldmVudENhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNjaGVtYVtpXS5uYW1lID09PSAnY29uc2VudCcpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dHMsIGluZHg7XG4gICAgICAgICAgICBpbnB1dHMgPSBkaXZIVE1MLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpO1xuICAgICAgICAgICAgZm9yIChpbmR4ID0gMDsgaW5keCA8IGlucHV0cy5sZW5ndGg7IGluZHgrKykge1xuICAgICAgICAgICAgICBpbnB1dHNbaW5keF0uc2V0QXR0cmlidXRlKCdpZCcsIF9pZFByZWZpeCArIG5hbWUgKyAnLScgKyBpbnB1dHNbaW5keF0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGl2SFRNTCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hW2ldLnR5cGUgPT09ICdjYXB0Y2hhJykge1xuICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJy1mb3JtLWVsZW1lbnQtY29udGVudCcgKyAnIGNvbnRlbnQtJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gc2NoZW1hW2ldLmh0bWw7XG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmZvcm1WYWxpZGF0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkYXRpb25EaXZCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdmFsaWRhdGlvbkRpdkJsb2NrLnNldEF0dHJpYnV0ZSgnaWQnLCAndmFsaWRhdGlvbi0nICsgX2lkUHJlZml4ICsgbmFtZSArICctJyArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25EaXZCbG9jay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJ3ZhbGlkYXRpb24tbWVzc2FnZScgKyAnIHZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh2YWxpZGF0aW9uRGl2QmxvY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBzY2hlbWFbaV0ubmFtZSk7XG4gICAgICAgICAgaWYgKG5hbWUgPT09ICdyZWdpc3RyYXRpb24nKSB7XG4gICAgICAgICAgICBpZiAoc2NoZW1hW2ldLm5hbWUgJiYgKHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdwaG9uZWlkJyB8fCBzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAncGhvbmUnKSAmJiBtb2R1bGUub3B0aW9ucy5leGlzdFBob25lTnVtYmVyKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdibHVyJywgZWxlbSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eShldmVudCwgb25FcnJvcik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5uYW1lICYmIChzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAndXNlcm5hbWUnKSAmJiBtb2R1bGUub3B0aW9ucy5leGlzdFVzZXJuYW1lKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdibHVyJywgZWxlbSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY2hlY2tVc2VybmFtZUF2YWlsYWJpbGl0eShldmVudCwgb25FcnJvcik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2NoZW1hW2ldLm5hbWUgPT09ICdlbWFpbGlkJykge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdsb2dpbicgJiYgbW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQgJiYgbW9kdWxlLm9wdGlvbnMuaXNQYXNza2V5QXV0b2ZpbGwpIHtcbiAgICAgICAgICAgICAgZWxlbS5hdXRvY29tcGxldGUgPSAndXNlcm5hbWUgd2ViYXV0aG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2tleXVwJywgZWxlbSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzMikge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgX2lkUHJlZml4ICsgbmFtZSArICctJyArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICBpZiAoc2NoZW1hW2ldLmV2ZW50KSB7XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudChzY2hlbWFbaV0uZXZlbnQsIGVsZW0sIHNjaGVtYVtpXS5ldmVudENhbGxiYWNrKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobW9kdWxlLmV2ZW50c05hbWVbZWxlbS5pZF0pIHtcbiAgICAgICAgICAgIHZhciBldmVudHMgPSBtb2R1bGUuZXZlbnRzTmFtZVtlbGVtLmlkXTtcbiAgICAgICAgICAgIGlmIChtb2R1bGUudXRpbC5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBldmVudHMubGVuZ3RoOyBoKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW2hdLmV2ZW50ICYmIGV2ZW50c1toXS5ldmVudENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudChldmVudHNbaF0uZXZlbnQsIGVsZW0sIGV2ZW50c1toXS5ldmVudENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KGV2ZW50cy5ldmVudCwgZWxlbSwgZXZlbnRzLmV2ZW50Q2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzY2hlbWFbaV0udHlwZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0udHlwZSA9PT0gJ2J1dHRvbicpIHtcbiAgICAgICAgICAgIHZhciBidXR0b25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJ1dHRvbkRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJy1mb3JtLWVsZW1lbnQtY29udGVudCcgKyAnIGNvbnRlbnQtJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgIGJ1dHRvbkRpdi5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnV0dG9uRGl2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgX2lkUHJlZml4ICsgbmFtZSArICctJyArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IHNjaGVtYVtpXS5kaXNwbGF5O1xuXG4gICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfY2xhc3NQcmVmaXggKyBzY2hlbWFbaV0udHlwZSArICcgJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgIGlmIChzY2hlbWFbaV0ucnVsZXMpIHtcbiAgICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5ydWxlcy5pbmRleE9mKCdyZXF1aXJlZCcpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lICs9ICcgbHItcmVxdWlyZWQnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXJEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsIF9jbGFzc1ByZWZpeCArICctZm9ybS1lbGVtZW50LWNvbnRlbnQnICsgJyBjb250ZW50LScgKyBfaWRQcmVmaXggKyBzY2hlbWFbaV0ubmFtZSk7XG4gICAgICAgICAgICBpZiAoc2NoZW1hW2ldLnR5cGUgPT09ICdtdWx0aScpIHtcbiAgICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICAgICAgICBjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5zdHlsZSAmJiBzY2hlbWFbaV0uc3R5bGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IHNjaGVtYVtpXS5zdHlsZS5sZW5ndGg7IGcrKykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckRpdi5zdHlsZVtzY2hlbWFbaV0uc3R5bGVbZ10ua2V5XSA9IHNjaGVtYVtpXS5zdHlsZVtnXS52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmZvcm1WYWxpZGF0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgICB2YXIgdmFsaWRhdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCAndmFsaWRhdGlvbi0nICsgX2lkUHJlZml4ICsgbmFtZSArICctJyArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbkRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJ3ZhbGlkYXRpb24tbWVzc2FnZScgKyAnIHZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcbiAgICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKHZhbGlkYXRpb25EaXYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzcGxheVBhc3N3b3JkU3RyZW5ndGggJiYgKGVsZW0ubmFtZSA9PT0gJ3Bhc3N3b3JkJyB8fCBlbGVtLm5hbWUgPT09ICduZXdwYXNzd29yZCcpICYmIChuYW1lID09PSAncmVnaXN0cmF0aW9uJyB8fCBuYW1lID09PSAncmVzZXRwYXNzd29yZCcgfHwgbmFtZSA9PT0gJ3NldHBhc3N3b3JkJyB8fCBuYW1lID09PSAnY2hhbmdlcGFzc3dvcmQnIHx8IG5hbWUgPT09ICdzb2NpYWxSZWdpc3RyYXRpb24nIHx8IG5hbWUgPT09ICdsb2dpblJlcXVpcmVkRmllbGRzVXBkYXRlJykpIHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgICAgICAgICAgdmFyIG1pbkxlbmd0aCA9IChtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aCAmJiBtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aC5taW4pIHx8IDY7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgICAgIHZhciBtYXhMZW5ndGggPSAobW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGggJiYgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGgubWF4KSB8fCAzMjtcbiAgICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5ydWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBfcnVsZXMgPSBzY2hlbWFbaV0ucnVsZXMuc3BsaXQoJ3wnKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgX3J1bGVzLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX3J1bGVzW3JdLmluZGV4T2YoJ21pbl9sZW5ndGgnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aCA9IF9ydWxlc1tyXS5zdWJzdHJpbmcoMTEsIChfcnVsZXNbcl0ubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfcnVsZXNbcl0uaW5kZXhPZignbWF4X2xlbmd0aCcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gX3J1bGVzW3JdLnN1YnN0cmluZygxMSwgKF9ydWxlc1tyXS5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBtZXRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRlcicpO1xuICAgICAgICAgICAgICBtZXRlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdtYXgnLCAnNCcpO1xuICAgICAgICAgICAgICBtZXRlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIG5hbWUgKyAnLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyk7XG4gICAgICAgICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICB0ZXh0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgbmFtZSArICctcGFzc3dvcmQtc3RyZW5ndGgtdGV4dCcpO1xuICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobWV0ZXJFbGVtZW50KTtcbiAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRleHRFbGVtZW50KTtcbiAgICAgICAgICAgICAgbWV0ZXJDb25maWcgPSBnZXRQYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbihtaW5MZW5ndGgsIG1heExlbmd0aCk7XG5cbiAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2tleXVwJywgZWxlbSwgdHJpbUVtYWlsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCgoZWxlbS5uYW1lID09PSAncGFzc3dvcmQnIHx8IGVsZW0ubmFtZSA9PT0gJ25ld3Bhc3N3b3JkJyB8fCBlbGVtLm5hbWUgPT09ICdvbGRwYXNzd29yZCcpICYmIG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkVmlzaWJpbGl0eUNvbnRyb2wpIHx8ICgoZWxlbS5uYW1lID09PSAnY29uZmlybXBhc3N3b3JkJyB8fCBlbGVtLm5hbWUgPT09ICdjb25maXJtbmV3cGFzc3dvcmQnKSAmJiBtb2R1bGUub3B0aW9ucy5jb25maXJtUGFzc3dvcmRWaXNpYmlsaXR5Q29udHJvbCkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhc3N3b3Jkc3ZnSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgICAgICAgcGFzc3dvcmRzdmdJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEtZXllJyk7XG4gICAgICAgICAgICAgIHBhc3N3b3Jkc3ZnSWNvbi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgZXllSWNvbik7XG4gICAgICAgICAgICAgIGlmIChlbGVtLnBhcmVudE5vZGUuaWQgIT09ICdwYXNzd29yZC12aXNpYmlsaXR5LXdyYXAnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnaWQnLCAncGFzc3dvcmQtdmlzaWJpbGl0eS13cmFwJyk7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsnKTtcbiAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIGVsZW0pO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChwYXNzd29yZHN2Z0ljb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIHBhc3N3b3Jkc3ZnSWNvbiwgdG9nZ2xlUGFzc1Zpc2libGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNvbnRhaW5lckRpdik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNldFRva2VuXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIG5hbWUgb2YgdGhlIGZvcm1cbiAgKiBAZGVzY3JpcHRpb24gU2V0IHRoZSB0b2tlbiBpbiB0aGUgY29va2llLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgTFJOYW1lU3BhY2UuY29va2llcy5zZXRJdGVtKExvZ2luUmFkaXVzRGVmYXVsdHMudG9rZW5Db29raWUsIHRva2VuLCAnJywgbW9kdWxlLm9wdGlvbnMuYXBwUGF0aCk7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gcmVzZXRHb29nbGVDYXB0Y2hhXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZm9ybVxuICAqIEBwYXJhbSB7U3RyaW5nfSByZWNhcHRjaGFpZCBUaGUgSUQgb2YgdGhlIHJlY3BhdGNoIGNvbnRhaW5lclxuICAqIEBkZXNjcmlwdGlvbiBSZXNldCB0aGUgZ29vZ2xlIHJlY2FwdGNoYSBpbiB0aGUgZm9ybS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNldEdvb2dsZUNhcHRjaGEgPSBmdW5jdGlvbiAobmFtZSwgcmVjYXB0Y2hhaWQpIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uICYmIG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbi5Jc0VuYWJsZWQgJiYgbmFtZSAhPT0gJ3JlZ2lzdHJhdGlvbicpIHtcbiAgICAgIHZhciBkb21SZWNhcHRjaGEgPSBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCwgdHJ1ZSk7XG4gICAgICBpZiAoZG9tUmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYS5pbm5lckhUTUwgIT09ICcnKSB7XG4gICAgICAgIGlmICh3aW5kb3cuaGNhcHRjaGEgJiYgbW9kdWxlLm9wdGlvbnMuaENhcHRjaGFTaXRlS2V5KSB7XG4gICAgICAgICAgd2luZG93LmhjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ3JlY2FwdGNoYSkge1xuICAgICAgICAgIGdyZWNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBpc0FkZEJvdFByb3RlY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX25hbWUgbmFtZSBvZiB0aGUgYWN0aW9uXG4gICogQHBhcmFtIHtCb29sZWFufSBlbmFibGVkQXV0aEFQSXMgQXV0aCBBUGkgYWhzIGVuYWJsZWQgdGhlIHJlY2FwdGNoYSBvciBub3RcbiAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlfGZhbHNlXG4gICogQGRlc2NyaXB0aW9uIGNoZWNrIHdoZXRoZXIgdG8gYWRkIGJvdCBwcm90ZWN0aW9uIG9yIG5vdC5cbiAgKi9cbiAgZnVuY3Rpb24gaXNBZGRCb3RQcm90ZWN0aW9uIChfbmFtZSwgZW5hYmxlZEF1dGhBUElzKSB7XG4gICAgdmFyIG5hbWUgPSBfbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoKG5hbWUgPT09ICdjaGFuZ2VwYXNzd29yZCcgJiYgZW5hYmxlZEF1dGhBUElzWydQdXRDaGFuZ2VQYXNzd29yZCddKSB8fCAoKG5hbWUgPT09ICdwcm9maWxlZWRpdG9yJyB8fCBuYW1lID09PSAnbG9naW5SZXF1aXJlZEZpZWxkc1VwZGF0ZScgfHwgbmFtZSA9PT0gJ3Byb2dyZXNzaXZlUHJvZmlsaW5nJyB8fCBuYW1lID09PSAnc29jaWFsUmVnaXN0cmF0aW9uJykgJiYgZW5hYmxlZEF1dGhBUElzWydQdXRVcGRhdGVQcm9maWxlJ10pIHx8XG4gICAgICAobmFtZSA9PT0gJ2ZvcmdvdHBhc3N3b3JkJyAmJiAoKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4gJiYgZW5hYmxlZEF1dGhBUElzWydQb3N0Rm9yZ290UGFzc3dvcmRCeVBob25lJ10gJiYgZW5hYmxlZEF1dGhBUElzWydQb3N0Rm9yZ290UGFzc3dvcmRCeUVtYWlsJ10pIHx8ICghbW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RGb3Jnb3RQYXNzd29yZEJ5RW1haWwnXSkpKSB8fFxuICAgICAgKG5hbWUgPT09ICdsb2dpbicgJiYgKChtb2R1bGUub3B0aW9ucy51c2VybmFtZUxvZ2luICYmIGVuYWJsZWRBdXRoQVBJc1snUG9zdExvZ2luQnlVc2VyTmFtZUFuZFBhc3N3b3JkJ10gJiYgbW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RMb2dpbkJ5RW1haWxBbmRQYXNzd29yZCddICYmIGVuYWJsZWRBdXRoQVBJc1snUG9zdExvZ2luQnlQaG9uZUFuZFBhc3N3b3JkJ10pIHx8XG4gICAgICAgIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luICYmIGVuYWJsZWRBdXRoQVBJc1snUG9zdExvZ2luQnlFbWFpbEFuZFBhc3N3b3JkJ10gJiYgZW5hYmxlZEF1dGhBUElzWydQb3N0TG9naW5CeVBob25lQW5kUGFzc3dvcmQnXSkgfHxcbiAgICAgICAgKCFtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luICYmIG1vZHVsZS5vcHRpb25zLnVzZXJuYW1lTG9naW4gJiYgZW5hYmxlZEF1dGhBUElzWydQb3N0TG9naW5CeVVzZXJOYW1lQW5kUGFzc3dvcmQnXSkgfHxcbiAgICAgICAgKCFtb2R1bGUub3B0aW9ucy51c2VybmFtZUxvZ2luICYmICFtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luICYmIGVuYWJsZWRBdXRoQVBJc1snUG9zdExvZ2luQnlFbWFpbEFuZFBhc3N3b3JkJ10pKSkpO1xuICB9XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gY3JlYXRlRm9ybVxuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBTY2hlbWEgcHJvdmlkZWQgdG8gY3JlYXRlIGZvcm1cbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBmb3JtXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBjb250YWluZXIgaW4gd2hpY2ggZm9ybSB0byBiZSBhcHBlbmRlZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdXVjZXNzIGNhbGwgYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbCBiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeE5hbWUgdGhlIGNsYXNzIHByZWZpeCB0byBiZSBhZGRlZCBpbnRvIGZvcm0gZWxlbWVudHNcbiAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIHRoZSBmb3JtIHdpdGggcHJvdmlkZWQgc2NoZW1hLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0gPSBmdW5jdGlvbiAoc2NoZW1hLCBuYW1lLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4TmFtZSwgcHJldmlvdXNOYW1lKSB7XG4gICAgdmFyIF9pZFByZWZpeCA9IF9jbGFzc1ByZWZpeE5hbWUgfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeDtcbiAgICB2YXIgX2NsYXNzUHJlZml4ID0gX2NsYXNzUHJlZml4TmFtZSB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmNsYXNzUHJlZml4O1xuICAgIHZhciBncmVjYXB0Y2hhaWQ7XG4gICAgdmFyIGVuYWJsZWRBdXRoQVBJcztcbiAgICB2YXIgYWN0aW9uTmFtZSA9IHByZXZpb3VzTmFtZSB8fCBuYW1lO1xuICAgIG1vZHVsZS5MUlByZWZpeCA9IF9jbGFzc1ByZWZpeE5hbWUgKyAnIyMnICsgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeDtcbiAgICBpZiAobmFtZSAhPT0gJ3JlZ2lzdHJhdGlvbicgJiYgbmFtZSAhPT0gJ29uZVRvdWNoTG9naW4nICYmICgobW9kdWxlLm9wdGlvbnMubG9naW5Mb2NrZWRUeXBlID09PSAnQ2FwdGNoYScpIHx8IChtb2R1bGUub3B0aW9ucy5vcHRpb25hbFJlY2FwdGNoYUNvbmZpZ3VyYXRpb24gJiYgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uLklzRW5hYmxlZCkpKSB7XG4gICAgICBlbmFibGVkQXV0aEFQSXMgPSBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFJlY2FwdGNoYUNvbmZpZ3VyYXRpb24uQXBpcztcblxuICAgICAgaWYgKChtb2R1bGUub3B0aW9ucy5sb2dpbkxvY2tlZFR5cGUgPT09ICdDYXB0Y2hhJyAmJiBMb2dpblJhZGl1c0RlZmF1bHRzLmNhcHRjaGFBY3Rpb25zLmluY2x1ZGVzKG5hbWUudG9Mb3dlckNhc2UoKSkpIHx8IChlbmFibGVkQXV0aEFQSXMgJiYgaXNBZGRCb3RQcm90ZWN0aW9uKGFjdGlvbk5hbWUsIGVuYWJsZWRBdXRoQVBJcykpKSB7XG4gICAgICAgIGdyZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeE5hbWUgKyBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4ICsgJ3JlY2FwdGNoYV93aWRnZXRfJyArIG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbW9kdWxlLnV0aWwuYWRkUmVjYXB0Y2hhSlMoKTtcbiAgICAgICAgbW9kdWxlLnV0aWwuY2FwdGNoYVNjaGVtYShncmVjYXB0Y2hhaWQsIHNjaGVtYSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIFBhc3Mga2V5IGF1dG8gZmlsbCBmbG93ICovXG4gICAgLyogaWYgKG5hbWUgPT09ICdsb2dpbicgJiYgbW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQgJiYgbW9kdWxlLm9wdGlvbnMuaXNQYXNza2V5QXV0b2ZpbGwpIHtcbiAgICAgIG1vZHVsZS51dGlsLnBhc3NrZXlhdXRvZmlsbChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBjb25zdCB7IGFzc2VydGlvbiwgZXJyb3IgfSA9IGRhdGE7XG4gICAgICAgIGlmIChhc3NlcnRpb24pIHtcbiAgICAgICAgICB3aW5kb3dbJ2xycGFzc2tleUF1dG9maWxsJ10gPSB0cnVlO1xuICAgICAgICAgIG9uU3VjY2Vzcyhhc3NlcnRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gKi9cbiAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ2JlZm9yZUZvcm1SZW5kZXInLCBuYW1lLCBzY2hlbWEpO1xuICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaXNSZWdGb3JtU2NoZW1hTG9jayA9IGZhbHNlO1xuICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTZWN1cml0eUZvcm1TY2hlbWFMb2NrID0gZmFsc2U7XG4gICAgaWYgKCFtb2R1bGUub3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgIG1vZHVsZS5sb2coJ0FQSSBrZXkgbXVzdCBiZSBzZXQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0Q3VzdG9tTGFiZWwoc2NoZW1hKTtcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0UGxhY2Vob2xkZXIoc2NoZW1hKTtcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0Q3VzdG9tVGl0bGUoc2NoZW1hKTtcbiAgICAgIGlmIChzY2hlbWEubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgdmFsaWRhdGlvblNjaGVtYSA9IFtdO1xuICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBfaWRQcmVmaXggKyBuYW1lKTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsICdQT1NUJyk7XG5cbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtRmllbGRzKHNjaGVtYSwgZm9ybSwgbmFtZSwgdmFsaWRhdGlvblNjaGVtYSwgX2NsYXNzUHJlZml4LCBfaWRQcmVmaXgsIG9uRXJyb3IpO1xuXG4gICAgICAgIHZhciBzdWJtaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB2YXIgYnV0dG9uTmFtZSA9IG1vZHVsZS5idXR0b25zTmFtZVtuYW1lLnRvTG93ZXJDYXNlKCldIHx8IGRlZmF1bHRCdXR0b25zTmFtZVtuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICB2YXIgYnV0dG9uS2V5TmFtZSA9IGRlZmF1bHRCdXR0b25zTmFtZVtuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICB2YXIgc3VibWl0QnV0dG9uSWQgPSBidXR0b25LZXlOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnLScpO1xuXG4gICAgICAgIHN1Ym1pdC50eXBlID0gJ3N1Ym1pdCc7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc1BJTkF1dGhlbnRpY2F0aW9uICYmIG5hbWUgPT09ICdsb2dpblJlcXVpcmVkRmllbGRzVXBkYXRlJyAmJiBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdwaW4nKSkge1xuICAgICAgICAgIHN1Ym1pdC52YWx1ZSA9ICdDb250aW51ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VibWl0LnZhbHVlID0gYnV0dG9uTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQuaWQgPSBfaWRQcmVmaXggKyAnc3VibWl0LScgKyBzdWJtaXRCdXR0b25JZDtcbiAgICAgICAgc3VibWl0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfY2xhc3NQcmVmaXggKyAnc3VibWl0JyArICcgc3VibWl0LScgKyBfaWRQcmVmaXggKyBzdWJtaXRCdXR0b25JZCk7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5kaXNhYmxlQnV0dG9uT25zdWJtaXQpIHtcbiAgICAgICAgICB2YXIgX2N1cnJlbnRGb3JtTmFtZTtcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdldmVudENhbGxzJywgZnVuY3Rpb24gKF9fbmFtZSkge1xuICAgICAgICAgICAgaWYgKCF3aW5kb3cubHJwYXNzd29yZGxlc3Nsb2dpbm90cCAmJiAhd2luZG93LmxycGFzc3dvcmRsZXNzbG9naW4pIHtcbiAgICAgICAgICAgICAgX2N1cnJlbnRGb3JtTmFtZSA9IF9fbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdzdGFydFByb2Nlc3MnLCBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoX2N1cnJlbnRGb3JtTmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICBzdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3hockVuZFdpdGhFcnJvcicsIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChfY3VycmVudEZvcm1OYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3hockVuZFdpdGhTdWNjZXNzJywgZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgaWYgKF9jdXJyZW50Rm9ybU5hbWUgPT09IG5hbWUgJiYgbW9kdWxlLm9wdGlvbnMuZW5hYmxlU3VibWl0T25TdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0KTtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luICYmIG5hbWUgPT09ICdsb2dpbicpIHtcbiAgICAgICAgICBjcmVhdGVPbmVDbGlja0J1dHRvbigncGFzc3dvcmRsZXNzbG9naW5idXR0b25sYWJlbCcsIGZvcm0sIHN1Ym1pdCwgX2lkUHJlZml4LCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbk9UUCAmJiBuYW1lID09PSAnbG9naW4nKSB7XG4gICAgICAgICAgY3JlYXRlT25lQ2xpY2tCdXR0b24oJ3Bhc3N3b3JkbGVzc0xvZ2luT1RQQnV0dG9uTGFiZWwnLCBmb3JtLCBzdWJtaXQsIF9pZFByZWZpeCwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQgJiYgKG5hbWUgPT09ICdwYXNza2V5cmVnaXN0ZXInIHx8IG5hbWUgPT09ICdsb2dpbicpKSB7XG4gICAgICAgICAgY29uc3QgYnV0dG9uTGFiZWwgPSBuYW1lID09PSAncGFzc2tleXJlZ2lzdGVyJyA/ICdyZWdpc3RlcndpdGhwd2QnIDogJ3Bhc3NrZXlsb2dpbic7XG4gICAgICAgICAgY3JlYXRlUGFzc0tleUJ1dHRvbihidXR0b25MYWJlbCwgZm9ybSwgX2lkUHJlZml4LCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBmb3JtLCBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCk7XG4gICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYWZ0ZXJGb3JtUmVuZGVyJywgbmFtZSwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIGZvcm0pO1xuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICB2YXIgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoX2lkUHJlZml4ICsgbmFtZSwgdmFsaWRhdGlvblNjaGVtYSwgZnVuY3Rpb24gKGVycm9ycywgZXZ0KSB7XG4gICAgICAgICAgdmFyIGZvcm1OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKTtcbiAgICAgICAgICB2YXIgZm9ybUVsZW1lbnRzTmFtZSA9ICcnO1xuICAgICAgICAgIGlmIChmb3JtTmFtZVtfaWRQcmVmaXggKyBuYW1lXSkge1xuICAgICAgICAgICAgZm9ybUVsZW1lbnRzTmFtZSA9IGZvcm1OYW1lW19pZFByZWZpeCArIG5hbWVdO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1OYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBmb3JtTmFtZS5sZW5ndGg7IHQrKykge1xuICAgICAgICAgICAgICBpZiAoZm9ybU5hbWVbdF0ubmFtZSA9PT0gX2lkUHJlZml4ICsgbmFtZSkge1xuICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50c05hbWUgPSBmb3JtTmFtZVt0XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIgPSBmb3JtRWxlbWVudHNOYW1lLnBhcmVudEVsZW1lbnQuaWQ7XG4gICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdldmVudENhbGxzJywgbmFtZSwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICBpZiAobW9kdWxlLm1lcmdlRm9ybUVycm9ycyAmJiBtb2R1bGUubWVyZ2VGb3JtRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGVycm9ycyA9IG1vZHVsZS51dGlsLm1lcmdlT2JqZWN0cyhlcnJvcnMsIG1vZHVsZS5tZXJnZUZvcm1FcnJvcnMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB2YWxpZGF0aW9uRGl2cyA9IG1vZHVsZS51dGlsLmVsZW1lbnRzQnlDbGFzcyhfY2xhc3NQcmVmaXggKyAndmFsaWRhdGlvbi1tZXNzYWdlJyk7XG4gICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCB2YWxpZGF0aW9uRGl2cy5sZW5ndGg7IG0rKykge1xuICAgICAgICAgICAgdmFsaWRhdGlvbkRpdnNbbV0uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeE5hbWUgKyBfaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldCc7XG4gICAgICAgICAgcmVjYXB0Y2hhaWQgKz0gJ18nICsgbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHZhciB0ZW5jZW50Q2FwdGNoYUlkID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnQnKTtcblxuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vbkNhcHRjaGFTdWJtaXQgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgdmFyIHNlcmlhbGl6ZWRGb3JtID0gbW9kdWxlLnV0aWwuc2VyaWFsaXplKGZvcm0pO1xuICAgICAgICAgICAgICBpZiAod2luZG93LmdyZWNhcHRjaGEgJiYgc2VyaWFsaXplZEZvcm0uaW5kZXhPZignZy1yZWNhcHRjaGEtcmVzcG9uc2UnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkRm9ybSArPSAnJmctcmVjYXB0Y2hhLXJlc3BvbnNlPScgKyByZXNwb25zZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAod2luZG93LmhjYXB0Y2hhICYmIG1vZHVsZS5vcHRpb25zLmhDYXB0Y2hhU2l0ZUtleSAmJiBzZXJpYWxpemVkRm9ybS5pbmRleE9mKCdoLWNhcHRjaGEtcmVzcG9uc2UnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkRm9ybSArPSAnJmgtY2FwdGNoYS1yZXNwb25zZT0nICsgcmVzcG9uc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb25TdWNjZXNzKHNlcmlhbGl6ZWRGb3JtKTtcbiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oY2FwdGNoYSAmJiBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkpIHdpbmRvdy5oY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhKSBncmVjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgIGlmICh0ZW5jZW50Q2FwdGNoYUlkICYmIHRlbmNlbnRDYXB0Y2hhSWQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIChtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYSB8fCAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrICYmICF3aW5kb3cuZ3JlY2FwdGNoYSkpICYmIGVycm9ycy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGVuY2VudENhcHRjaGFJZC5jbGljaygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdhZnRlclZhbGlkYXRpb24nLCBuYW1lKTtcbiAgICAgICAgICAgIC8vICBpZiAobW9kdWxlLm9wdGlvbnMuZm9ybVZhbGlkYXRpb25NZXNzYWdlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IGVycm9ycy5sZW5ndGg7IHArKykge1xuICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2xvZ2luJyAmJiAoKG1vZHVsZS5vcHRpb25zLmlzUGFzc0tleXNFbmFibGVkICYmIHdpbmRvd1snbHJwYXNza2V5bG9naW4nXSkgfHwgKG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luICYmIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbiddKSB8fCAobW9kdWxlLm9wdGlvbnMucGFzc3dvcmRsZXNzTG9naW5PVFAgJiYgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2lub3RwJ10pKSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID09PSAxIHx8IG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhIHx8IChtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgJiYgIW1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSkpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoZXJyb3JzW3BdLklkID09PSBfaWRQcmVmaXggKyAnJyArIG5hbWUgKyAnLXBhc3N3b3JkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRm9ybVJlc3BvbnNlKGZvcm0sIG9uU3VjY2VzcywgcmVjYXB0Y2hhaWQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChlcnJvcnNbcF0uSWQgPT09ICdnLXJlY2FwdGNoYS1yZXNwb25zZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRm9ybVJlc3BvbnNlKGZvcm0sIG9uU3VjY2VzcywgcmVjYXB0Y2hhaWQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3Bhc3NrZXlyZWdpc3RlcicgJiYgbW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQgJiYgd2luZG93WydscnB3ZHJlZ2lzdGVyJ10pIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGb3JtUmVzcG9uc2UoZm9ybSwgb25TdWNjZXNzLCByZWNhcHRjaGFpZCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmZvcm1WYWxpZGF0aW9uTWVzc2FnZSAmJiBlcnJvcnNbcF0uTmFtZSAhPT0gJ3Jlc2V0dG9rZW4nKSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5lbGVtZW50QnlJZCgndmFsaWRhdGlvbi0nICsgX2lkUHJlZml4ICsgbmFtZSArICctJyArIGVycm9yc1twXS5OYW1lKS5pbm5lckhUTUwgPSBlcnJvcnNbcF0uTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbW9kdWxlLm9wdGlvbnMuZm9ybVZhbGlkYXRpb25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNldEdvb2dsZUNhcHRjaGEobmFtZSwgcmVjYXB0Y2hhaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVGb3JtUmVzcG9uc2UoZm9ybSwgb25TdWNjZXNzLCByZWNhcHRjaGFpZCwgbmFtZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV2dCAmJiBldnQucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHZhbGlkRGF0ZUVycm9yTWVzc2FnZTtcbiAgICAgICAgaWYgKG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXMgJiYgbW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YWxpZGF0b3Iuc2V0TWVzc2FnZShtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzW2ldLnJ1bGUsIG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXNbaV0ubWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAobW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlc1tpXS5ydWxlID09PSAndmFsaWRfZGF0ZScgfHwgbW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlc1tpXS5ydWxlID09PSAnY2FsbGJhY2tfdmFsaWRfZGF0ZScpIHtcbiAgICAgICAgICAgICAgdmFsaWREYXRlRXJyb3JNZXNzYWdlID0gbW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlc1tpXS5tZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhbGlkYXRvci5yZWdpc3RlckNhbGxiYWNrKCd2YWxpZF9kYXRlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGlzVmFsaWREYXRlKHZhbHVlKTtcbiAgICAgICAgfSkuc2V0TWVzc2FnZSgndmFsaWRfZGF0ZScsICh2YWxpZERhdGVFcnJvck1lc3NhZ2UgfHwgJ1RoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSB2YWxpZCBkYXRlLicpKTtcblxuICAgICAgICB2YWxpZGF0b3IucmVnaXN0ZXJDYWxsYmFjaygnY3VzdG9tX3ZhbGlkYXRpb24nLCBmdW5jdGlvbiAodmFsdWUsIHBhcm0pIHtcbiAgICAgICAgICByZXR1cm4gaXNDdXN0b21WYWxpZGF0aW9uKHZhbHVlLCBwYXJtKTtcbiAgICAgICAgfSkuc2V0TWVzc2FnZSgnY3VzdG9tX3ZhbGlkYXRpb24nLCAnVGhlICVzIGZpZWxkIGlzIG5vdCB2YWxpZC4nKTtcblxuICAgICAgICBtb2R1bGUuVmFsaWRhdG9yID0gdmFsaWRhdG9yO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoKG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbiAmJiBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFJlY2FwdGNoYUNvbmZpZ3VyYXRpb24uSXNFbmFibGVkICYmIChlbmFibGVkQXV0aEFQSXMgJiYgaXNBZGRCb3RQcm90ZWN0aW9uKGFjdGlvbk5hbWUsIGVuYWJsZWRBdXRoQVBJcykpKSAmJiBuYW1lICE9PSAncmVnaXN0cmF0aW9uJykge1xuICAgICAgbW9kdWxlLnV0aWwucmVuZGVyVjJSZWNhcHRjaGEoZ3JlY2FwdGNoYWlkLCB0cnVlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gY3JlYXRlQ29uc2VudEludGVyZmFjZVxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGNvbnNlbnQgb2JqZWN0XG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgY29uc2VudCBpbnRlcmZhY2Ugb24gcmVnaXN0cmlvbiBmb3JtLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUNvbnNlbnRJbnRlcmZhY2UgPSBmdW5jdGlvbiAoZGF0YSwgY29uc2VudERhdGEpIHtcbiAgICB2YXIgcmVuZGVyZWRIdG1sID0gJyc7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgZGF0YS5Db25zZW50Rm9ybS5sZW5ndGg7IG0rKykge1xuICAgICAgICBpZiAoZGF0YS5Db25zZW50Rm9ybVttXS5UeXBlID09PSAnR3JvdXAnKSB7XG4gICAgICAgICAgaWYgKGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgY29uc2VudEdyb3VwRGF0YSA9IHtcbiAgICAgICAgICAgICAgJ2NvbnNlbnRHcm91cFRpdGxlJzogZGF0YS5Db25zZW50Rm9ybVttXS5UaXRsZSxcbiAgICAgICAgICAgICAgJ2NvbnNlbnRHcm91cERlc2NyaXB0aW9uJzogZGF0YS5Db25zZW50Rm9ybVttXS5EZXNjcmlwdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlbmRlcmVkSHRtbCArPSBtb2R1bGUudXRpbC5oYXNoVG1wbChMb2dpblJhZGl1c0RlZmF1bHRzLnRlbXBsYXRlcy5jb25zZW50R3JvdXBUZW1wbGF0ZSwgY29uc2VudEdyb3VwRGF0YSk7XG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgJ2NvbnNlbnRUaXRsZSc6IGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHNbbl0uVGl0bGUsXG4gICAgICAgICAgICAgICAgJ2NvbnNlbnREZXNjcmlwdGlvbic6IGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHNbbl0uRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgJ2NvbnNlbnRJZCc6ICdjb25zZW50XycgKyBkYXRhLkNvbnNlbnRGb3JtW21dLkNvbnNlbnRzW25dLkNvbnNlbnRJZFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZW5kZXJlZEh0bWwgKz0gbW9kdWxlLnV0aWwuaGFzaFRtcGwoTG9naW5SYWRpdXNEZWZhdWx0cy50ZW1wbGF0ZXMuY29uc2VudE9wdGlvblRlbXBsYXRlLCBvcHRpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5Db25zZW50Rm9ybVttXS5UeXBlID09PSAnQ29uc2VudCcpIHtcbiAgICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHMubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgICAgIHZhciBjT3B0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgJ2NvbnNlbnRUaXRsZSc6IGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHNbb10uVGl0bGUsXG4gICAgICAgICAgICAgICdjb25zZW50RGVzY3JpcHRpb24nOiBkYXRhLkNvbnNlbnRGb3JtW21dLkNvbnNlbnRzW29dLkRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAnY29uc2VudElkJzogJ2NvbnNlbnRfJyArIGRhdGEuQ29uc2VudEZvcm1bbV0uQ29uc2VudHNbb10uQ29uc2VudElkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVuZGVyZWRIdG1sICs9IG1vZHVsZS51dGlsLmhhc2hUbXBsKExvZ2luUmFkaXVzRGVmYXVsdHMudGVtcGxhdGVzLmNvbnNlbnRPcHRpb25UZW1wbGF0ZSwgY09wdGlvbkRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVuZGVyZWRIdG1sICs9IG1vZHVsZS51dGlsLmhhc2hUbXBsKExvZ2luUmFkaXVzRGVmYXVsdHMudGVtcGxhdGVzLmNvbnNlbnRNYWluVGVtcGxhdGUsIGRhdGEpO1xuXG4gICAgICBpZiAoY29uc2VudERhdGEpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gcmVuZGVyZWRIdG1sLnRyaW0oKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zZW50RGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjb25zZW50T3B0aW9uc0VsZW1lbnQgPSBkaXYucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImNvbnNlbnRfJyArIGNvbnNlbnREYXRhW2ldLkNvbnNlbnRPcHRpb25JZCArICdcIl0nKTtcbiAgICAgICAgICBpZiAoY29uc2VudE9wdGlvbnNFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zZW50T3B0aW9uc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZWRIdG1sID0gZGl2LmlubmVySFRNTCA/IGRpdi5pbm5lckhUTUwgOiAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkSHRtbDtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGNyZWF0ZUNvbnNlbnRJbnRlcmZhY2VcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBjb25zZW50IG9iamVjdFxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGNvbnNlbnQgaW50ZXJmYWNlIG9uIHJlZ2lzdHJpb24gZm9ybS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVDb25zZW50T3B0aW9uSW50ZXJmYWNlID0gZnVuY3Rpb24gKGNvbnNlbnRPcHRpb25zLCBjb25zZW50RGF0YSkge1xuICAgIHZhciByZW5kZXJlZEh0bWwgPSAnJztcbiAgICBpZiAoY29uc2VudE9wdGlvbnMpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBjb25zZW50T3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9uRGF0YSA9IHtcbiAgICAgICAgICAnY29uc2VudFRpdGxlJzogY29uc2VudE9wdGlvbnNba2V5XS5UaXRsZSxcbiAgICAgICAgICAnY29uc2VudERlc2NyaXB0aW9uJzogY29uc2VudE9wdGlvbnNba2V5XS5EZXNjcmlwdGlvbixcbiAgICAgICAgICAnY29uc2VudElkJzogJ2NvbnNlbnRfJyArIGNvbnNlbnRPcHRpb25zW2tleV0uQ29uc2VudElkLFxuICAgICAgICAgICdjaGVja2VkJzogISFjb25zZW50T3B0aW9uc1trZXldLmNoZWNrZWRcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyZWRIdG1sICs9IG1vZHVsZS51dGlsLmhhc2hUbXBsKExvZ2luUmFkaXVzRGVmYXVsdHMudGVtcGxhdGVzLmNvbnNlbnRPcHRpb25UZW1wbGF0ZSwgb3B0aW9uRGF0YSk7XG4gICAgICB9XG4gICAgICBpZiAoY29uc2VudERhdGEpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gcmVuZGVyZWRIdG1sLnRyaW0oKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zZW50RGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChjb25zZW50T3B0aW9uc1tjb25zZW50RGF0YVtpXS5Db25zZW50T3B0aW9uSWRdKSB7XG4gICAgICAgICAgICB2YXIgY29uc2VudE9wdGlvbnNFbGVtZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJjb25zZW50XycgKyBjb25zZW50RGF0YVtpXS5Db25zZW50T3B0aW9uSWQgKyAnXCJdJyk7XG4gICAgICAgICAgICBjb25zZW50T3B0aW9uc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZWRIdG1sID0gZGl2LmlubmVySFRNTCA/IGRpdi5pbm5lckhUTUwgOiAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkSHRtbDtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNldENvbnNlbnRUZW1wbGF0ZVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgc2V0IGNvbnNlbnQgdGVtcGxhdGUgaW5uZXJIVE1MIGludG8gaHRtbCBlbGVtZW50cyxcbiAgKiBmdXJ0aGVyIHRoaXMgd2lsbCBoZWxwIHRvIGFzc2lnbiB2YWx1ZXMgaW4gY29uc2VudCB0ZW1wbGF0ZSB2YXJpYWJsZXMgb24gcnVudGltZS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRDb25zZW50VGVtcGxhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKExvZ2luUmFkaXVzRGVmYXVsdHMudGVtcGxhdGVzLmNvbnNlbnRNYWluVGVtcGxhdGUpO1xuICAgIGlmIChlbGUpIHtcbiAgICAgIHZhciBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaW5uZXJEaXYuaW5uZXJIVE1MID0gZWxlLmlubmVySFRNTDtcbiAgICAgIGVsZS5hcHBlbmQoaW5uZXJEaXYpO1xuICAgICAgdmFyIG9wdFNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgb3B0U2NyaXB0LnR5cGUgPSAndGV4dC9odG1sJztcbiAgICAgIG9wdFNjcmlwdC5pZCA9IExvZ2luUmFkaXVzRGVmYXVsdHMudGVtcGxhdGVzLmNvbnNlbnRPcHRpb25UZW1wbGF0ZTtcbiAgICAgIG9wdFNjcmlwdC5pbm5lckhUTUwgPSB0aGlzLmRlY29kZUh0bWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTG9naW5SYWRpdXNEZWZhdWx0cy50ZW1wbGF0ZXMuY29uc2VudE9wdGlvblRlbXBsYXRlKS5pbm5lckhUTUwpO1xuICAgICAgdmFyIGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTG9naW5SYWRpdXNEZWZhdWx0cy50ZW1wbGF0ZXMuY29uc2VudEdyb3VwVGVtcGxhdGUpO1xuICAgICAgaWYgKGdyb3VwQ29udGFpbmVyKSB7XG4gICAgICAgIHZhciBvcHRpb25UZW1wbCA9IGdyb3VwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJyMnICsgTG9naW5SYWRpdXNEZWZhdWx0cy50ZW1wbGF0ZXMuY29uc2VudE9wdGlvblRlbXBsYXRlKVswXTtcbiAgICAgICAgaWYgKG9wdGlvblRlbXBsKSB7XG4gICAgICAgICAgb3B0aW9uVGVtcGwucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBncnBTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIGdycFNjcmlwdC50eXBlID0gJ3RleHQvaHRtbCc7XG4gICAgICBncnBTY3JpcHQuaWQgPSBMb2dpblJhZGl1c0RlZmF1bHRzLnRlbXBsYXRlcy5jb25zZW50R3JvdXBUZW1wbGF0ZTtcbiAgICAgIGdycFNjcmlwdC5pbm5lckhUTUwgPSB0aGlzLmRlY29kZUh0bWwoZ3JvdXBDb250YWluZXIuaW5uZXJIVE1MKTtcbiAgICAgIGdyb3VwQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgZWxlLmlubmVySFRNTCA9IHRoaXMuZGVjb2RlSHRtbChpbm5lckRpdi5pbm5lckhUTUwpO1xuICAgICAgaW5uZXJEaXYucmVtb3ZlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChncnBTY3JpcHQpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQob3B0U2NyaXB0KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBjb25zZW50VmFsaWRhdGlvblxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIG9iamVjdCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHZhbGlkYXRlIGNvbnNlbnQgZm9ybS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jb25zZW50VmFsaWRhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBldmVudE5hbWUpIHtcbiAgICB2YXIgb2JqRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgIGlmIChtb2R1bGUuY29uc2VudE9wdGlvbnNbZXZlbnROYW1lXSAmJiBtb2R1bGUuY29uc2VudE9wdGlvbnNbZXZlbnROYW1lXS5Db25zZW50Rm9ybSkge1xuICAgICAgICB2YXIgY29uc2VudEZvcm0gPSBtb2R1bGUuY29uc2VudE9wdGlvbnNbZXZlbnROYW1lXS5Db25zZW50Rm9ybTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb25zZW50Rm9ybS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBjb25zZW50T2JqID0gY29uc2VudEZvcm1bal07XG4gICAgICAgICAgaWYgKGNvbnNlbnRPYmouVHlwZSA9PT0gJ0dyb3VwJykge1xuICAgICAgICAgICAgZXJyb3JzID0gcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRDb25zZW50VmFsaWRhdGlvbihjb25zZW50T2JqLCBvYmpEYXRhLCBlcnJvcnMsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcnMgPSBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldENvbnNlbnRWYWxpZGF0aW9uKGNvbnNlbnRPYmosIG9iakRhdGEsIGVycm9ycyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb25zZW50T2JqZWN0ID0ge307XG4gICAgICBjb25zZW50T2JqZWN0WydUeXBlJ10gPSAnQ29uc2VudCc7XG4gICAgICBjb25zZW50T2JqZWN0WydDb25zZW50cyddID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gbW9kdWxlLmNvbnNlbnRzTGlzdCkge1xuICAgICAgICBjb25zZW50T2JqZWN0LkNvbnNlbnRzLnB1c2gobW9kdWxlLmNvbnNlbnRzTGlzdFtrZXldKTtcbiAgICAgIH1cbiAgICAgIGVycm9ycyA9IHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0Q29uc2VudFZhbGlkYXRpb24oY29uc2VudE9iamVjdCwgb2JqRGF0YSwgZXJyb3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHNldENvbnNlbnRWYWxpZGF0aW9uXG4gICogQHBhcmFtIHtPYmplY3R9IGNvbnNlbnRPYmplY3QgY29uc2VudCBvYmplY3RcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YU9iaiBzdWJtaXQgZm9ybSBvYmplY3RcbiAgKiBAcGFyYW0ge0FycmF5fSBlcnJvcnMgYXJyYXkgb2YgZXJyb3JzXG4gICogQHBhcmFtIHtCb29sZWFufSBpc0dyb3VwIHRydWUvZmFsc2VcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHNldCB2YWxpZGF0ZSBvZiBjb25zZW50IGZvcm0uXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0Q29uc2VudFZhbGlkYXRpb24gPSBmdW5jdGlvbiAoY29uc2VudE9iamVjdCwgZGF0YU9iaiwgZXJyb3JzLCBpc0dyb3VwKSB7XG4gICAgdmFyIGhhc0F0TGVhc3RPbmNlID0gZmFsc2U7XG4gICAgaWYgKGlzR3JvdXAgJiYgY29uc2VudE9iamVjdC5Jc1JlcXVpcmVkQXRsZWFzdE9uZSAmJiBjb25zZW50T2JqZWN0LkNvbnNlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBJZDogY29uc2VudE9iamVjdC5Hcm91cElkLFxuICAgICAgICBOYW1lOiBjb25zZW50T2JqZWN0LlRpdGxlLFxuICAgICAgICBNZXNzYWdlOiAnSW4gJyArIGNvbnNlbnRPYmplY3QuVGl0bGUgKyAnIGdyb3VwIHNob3VsZCBoYXZlIGF0IGxlYXN0IG9uZSBjb25zZW50J1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY29uc2VudE9iamVjdC5Db25zZW50cy5sZW5ndGg7IGsrKykge1xuICAgICAgICBpZiAoaXNHcm91cCAmJiBjb25zZW50T2JqZWN0LklzUmVxdWlyZWRBdGxlYXN0T25lICYmIChkYXRhT2JqWydjb25zZW50XycgKyBjb25zZW50T2JqZWN0LkNvbnNlbnRzW2tdLkNvbnNlbnRJZF0gPT09ICd0cnVlJykpIHtcbiAgICAgICAgICBoYXNBdExlYXN0T25jZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnNlbnRPYmplY3QuQ29uc2VudHNba10uSXNSZXF1aXJlZCAmJiAoZGF0YU9ialsnY29uc2VudF8nICsgY29uc2VudE9iamVjdC5Db25zZW50c1trXS5Db25zZW50SWRdICE9PSAndHJ1ZScpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgSWQ6IGNvbnNlbnRPYmplY3QuQ29uc2VudHNba10uQ29uc2VudElkLFxuICAgICAgICAgICAgTmFtZTogY29uc2VudE9iamVjdC5Db25zZW50c1trXS5UaXRsZSxcbiAgICAgICAgICAgIE1lc3NhZ2U6IGNvbnNlbnRPYmplY3QuQ29uc2VudHNba10uVGl0bGUgKyAnIGNvbnNlbnQgaXMgcmVxdWlyZWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25zZW50T2JqZWN0LklzUmVxdWlyZWRBdGxlYXN0T25lICYmICFoYXNBdExlYXN0T25jZSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgSWQ6IGNvbnNlbnRPYmplY3QuR3JvdXBJZCxcbiAgICAgICAgICBOYW1lOiBjb25zZW50T2JqZWN0LlRpdGxlLFxuICAgICAgICAgIE1lc3NhZ2U6ICdJbiAnICsgY29uc2VudE9iamVjdC5UaXRsZSArICcgZ3JvdXAgYXQgbGVhc3Qgb25lIGNvbnNlbnQgaXMgcmVxdWlyZWQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXJyb3JzO1xuICB9O1xuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGlzVmFsaWRUb2tlblxuICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlblxuICAqIEBwYXJhbSB7Y2FsbGJhY2t9ICBvbkVycm9yIGNhbGwgYmFjayBlcnJvciBmdW50aW9uXG4gICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZXxmYWxzZVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGNoZWNrIHdoZXRoZXIgdGhlIHRva2VuIHByb3ZpZGVkIGlzIHZhbGlkIG9yIG5vdC5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5pc1ZhbGlkVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4sIG9uRXJyb3IpIHtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICBvbkVycm9yKFtcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gZGVjb2RlSHRtbFxuICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIGh0bWxfdGV4dFxuICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBodG1sIHRleHRcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBkZWNvZGUgdGV4dCBpbnRvIGh0bWwuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuZGVjb2RlSHRtbCA9IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgdmFyIHR4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdHh0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIHR4dC52YWx1ZTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBjaGVja0ZvckxhdGVzdFByaXZhY3lQb2xpY3lcbiAgKiBAcGFyYW0ge09iamVjdH0gdXNlclByb2ZpbGUgdXNlclByb2ZpbGUgaW4ganNvbiBmb3JtYXRcbiAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlfGZhbHNlXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY2hlY2sgaW50byB0aGUgcHJvZmlsZSB3aGV0aGVyIG9yIG5vdCB0aGlzIHByb2ZpbGUgaXMgaGF2aW5nIGxhdGVzdCBwcml2YWN5IHBvbGljeSBvciBub3QuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY2hlY2tGb3JMYXRlc3RQcml2YWN5UG9saWN5ID0gZnVuY3Rpb24gKHVzZXJQcm9maWxlKSB7XG4gICAgdmFyIHByaXZhY3lQb2xpY2llcyA9IG1vZHVsZS5vcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uLlByaXZhY3lQb2xpY2llcztcbiAgICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgbGF0ZXN0UG9saWN5ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcml2YWN5UG9saWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChuZXcgRGF0ZShwcml2YWN5UG9saWNpZXNbaV0uU3RhcnREYXRlVGltZSkuZ2V0VGltZSgpIDwgY3VycmVudFRpbWUpIHtcbiAgICAgICAgaWYgKG1vZHVsZS51dGlsLmlzRW1wdHkobGF0ZXN0UG9saWN5KSB8fCAoIW1vZHVsZS51dGlsLmlzRW1wdHkobGF0ZXN0UG9saWN5KSAmJiBuZXcgRGF0ZShsYXRlc3RQb2xpY3kuU3RhcnREYXRlVGltZSkuZ2V0VGltZSgpIDwgbmV3IERhdGUocHJpdmFjeVBvbGljaWVzW2ldLlN0YXJ0RGF0ZVRpbWUpLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICBsYXRlc3RQb2xpY3kgPSBwcml2YWN5UG9saWNpZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChsYXRlc3RQb2xpY3kuVmVyc2lvbiA9PT0gdXNlclByb2ZpbGUuUHJpdmFjeVBvbGljeS5WZXJzaW9uKTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBzYW5pdGl6ZVBpbkRhdGFcbiAgKiBAcGFyYW0ge09iamVjdH0gT2JqZWN0RGF0YSBEYXRhIHByb3ZpZGVkIGluIFBpbiBGb3JtXG4gICogQHJldHVybiB7T2JqZWN0fSBGb3JtYXR0ZWQgRGF0YSBpbiB0aGUgZGVzaXJlZCBmb3JtXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY2hlY2sgd2hldGhlciB0aGUgUElOIGhhcyBiZWVuIHNraXBwZWQgb3Igbm90IGFuZCB0aGVuIGFkZGVkIHRoZSBza2lwcGVkIGZsYWcgYWNjb3JpbmdseS5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zYW5pdGl6ZVBpbkRhdGEgPSBmdW5jdGlvbiAob2JqRGF0YSkge1xuICAgIHZhciBmb3JtYXR0ZWREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqRGF0YSk7XG4gICAgdmFyIHBpbm9iaiA9IHtcbiAgICAgICdQSU4nOiAnJyxcbiAgICAgICdTa2lwcGVkJzogbnVsbFxuICAgIH07XG4gICAgaWYgKGZvcm1hdHRlZERhdGEuaGFzT3duUHJvcGVydHkoJ3BpbicpICYmIGZvcm1hdHRlZERhdGFbJ3BpbiddKSB7XG4gICAgICBwaW5vYmouUElOID0gZm9ybWF0dGVkRGF0YVsncGluJ107XG4gICAgfSBlbHNlIHtcbiAgICAgIHBpbm9iai5Ta2lwcGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZGVsZXRlIGZvcm1hdHRlZERhdGFbJ3BpbiddO1xuICAgIGZvcm1hdHRlZERhdGFbJ1BJTkluZm8nXSA9IHBpbm9iajtcbiAgICByZXR1cm4gZm9ybWF0dGVkRGF0YTtcbiAgfTtcbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBzYW5pdGl6ZVNlY3VyaXR5UXVlc0RhdGFcbiAgKiBAcGFyYW0ge09iamVjdH0gT2JqZWN0RGF0YSBEYXRhIHByb3ZpZGVkIGluIHNlcmlhbGl6ZWQgZm9ybSB3aXRoIHNlY3VyaXR5IHF1ZXN0aW9tbnMga2V5IGFuZCB0aGVpciBhbnN3ZXJzXG4gICogQHJldHVybiB7T2JqZWN0fSBGb3JtYXR0ZWQgRGF0YSBvZiBzZWN1cml0eSBxdWVzdGlvbnMgYW5kIGFuc3dlcnMgaW50byBzZXBhcmF0ZSBzZWN1cml0eWFuc3dlciBvYmplY3RcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBmb3JtYXQgdGhlIHNlY3VyaXR5YW5zd2VyIGRhdGEuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2FuaXRpemVTZWN1cml0eVF1ZXNEYXRhID0gZnVuY3Rpb24gKG9iakRhdGEpIHtcbiAgICB2YXIgc2VjdXJpdHlPYmogPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKG9iakRhdGEpO1xuICAgIHZhciBzZWN1cml0eUFuc3dlckFycmF5ID0ge307XG4gICAgdmFyIGludmFsaWRRdWVzdGlvbnNLZXlBcnJheSA9IFsnZW1haWwnLCAndXNlcm5hbWUnLCAncGhvbmUnLCAncGFzc3dvcmQnLCAncGluJywgJ3Bob25lQXBpJ107XG4gICAgZm9yICh2YXIga2V5IGluIHNlY3VyaXR5T2JqKSB7XG4gICAgICBpZiAoaW52YWxpZFF1ZXN0aW9uc0tleUFycmF5LmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgc2VjdXJpdHlBbnN3ZXJBcnJheVtrZXldID0gc2VjdXJpdHlPYmpba2V5XTtcbiAgICAgICAgZGVsZXRlIHNlY3VyaXR5T2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHNlY3VyaXR5T2JqLnNlY3VyaXR5YW5zd2VyID0gc2VjdXJpdHlBbnN3ZXJBcnJheTtcbiAgICByZXR1cm4gc2VjdXJpdHlPYmo7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBsb2FkUVJDb2RlU2NyaXB0XG4gICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGFiY2sgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gYmUgcmV0dXJuZWQgd2hlbiBzY3JpcHQgaGFzIGJlZW4gbG9hZGVkXG4gICogQHJldHVybiB7bnVsbH1cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBhZGQgdGhlIGV4dGVybmFsIGxpYnJhcmllcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2FkUVJDb2RlU2NyaXB0ID0gZnVuY3Rpb24gKGNhbGxhYmNrKSB7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzQ3Jvc3NEZXZpY2VTU09FbmFibGVkKSB7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIGVsLnNyYyA9IExvZ2luUmFkaXVzRGVmYXVsdHMuZXh0ZXJuYWxMaWJyYXJ5ICsgJ3FyY29kZS5qcyc7XG4gICAgICBlbC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICBlbC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxhYmNrKCk7XG4gICAgICB9O1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gY3JlYXRlQWNjb3VudFBhc3NrZXlcbiAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvblN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gYmUgcmV0dXJuZWQgd2hlbiBzdWNjZXNzXG4gICogQHBhcmFtIHtmdW5jdGlvbn0gb25FcnJvciBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBiZSByZXR1cm5lZCB3aGVuIGVycm9yXG4gICogQHJldHVybiB7bnVsbH1cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBhZGQgdGhlIGV4dGVybmFsIGxpYnJhcmllcy5cbiAgKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVBY2NvdW50UGFzc2tleSA9IGZ1bmN0aW9uIChvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQpIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50L3JlZ2lzdGVyL3Bhc3NrZXkvYmVnaW4/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kdWxlLnV0aWwuY3JlYXRlUGFzc0tleUNyZWRlbnRpYWxzKHJlc3BvbnNlLlJlZ2lzdGVyQmVnaW5DcmVkZW50aWFsKS50aGVuKChjcmVkZW50aWFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICBpZDogY3JlZGVudGlhbC5pZCxcbiAgICAgICAgICAgICAgcmF3SWQ6IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjcmVkZW50aWFsLnJhd0lkKSxcbiAgICAgICAgICAgICAgdHlwZTogY3JlZGVudGlhbC50eXBlLFxuICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgIGF0dGVzdGF0aW9uT2JqZWN0OiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUoY3JlZGVudGlhbC5yZXNwb25zZS5hdHRlc3RhdGlvbk9iamVjdCksXG4gICAgICAgICAgICAgICAgY2xpZW50RGF0YUpTT046IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjcmVkZW50aWFsLnJlc3BvbnNlLmNsaWVudERhdGFKU09OKVxuICAgICAgICAgICAgICB9IH07XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvcmVnaXN0ZXIvcGFzc2tleS9maW5pc2g/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4sIGJvZHksIGZ1bmN0aW9uIChyZWdSZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAocmVnUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAnYWNjb3VudC1wYXNza2V5Jyk7XG4gICAgICAgICAgfSkuY2F0Y2goKF9lcnJvcikgPT4ge1xuICAgICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoX2Vycm9yKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIHJlbW92ZVBhc3NrZXlcbiAgKiBAcGFyYW0ge3N0cmluZ30gaWQgcGFzc2tleSBpZFxuICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBiZSByZXR1cm5lZCB3aGVuIHN1Y2Nlc3NcbiAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbkVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGJlIHJldHVybmVkIHdoZW4gZXJyb3JcbiAgKiBAcmV0dXJuIHtudWxsfVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGFkZCB0aGUgZXh0ZXJuYWwgbGlicmFyaWVzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlbW92ZVBhc3NrZXkgPSBmdW5jdGlvbiAoaWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc1Bhc3NLZXlzRW5hYmxlZCkge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2RlbGV0ZScsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgYC9hdXRoL2FjY291bnQvcGFzc2tleS8ke2lkfT9hcGlrZXk9YCArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBhY2Nlc3NUb2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiByZXNlbmRPVFBIYW5kbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IHJlc2VuZE90cEFyZ3MgZnVuIGFyZ3VtZW50cyBvYmplY3RcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNhbGwgQVBJcyB0byByZXNlbmQgb3RwLiBUaGlzIGZ1bmN0aW9uIHdyaXR0ZW4gdG8gb3ZlcmNvbWUgdGhlIHNhbWUgZnVuY3Rpb24gY2FsbHMgZm9yIE9UUCBhbmQgcmVzZW5kT1RQIHByb2JsZW0uXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQSGFuZGxlciA9IGZ1bmN0aW9uIChyZXNlbmRPdHBBcmdzKSB7XG4gICAgbGV0IHZvaWNlUGFyYW0gPSAnJztcbiAgICBpZiAocmVzZW5kT3RwQXJncy52b2ljZW90cCkge1xuICAgICAgdm9pY2VQYXJhbSA9ICcmaXN2b2ljZW90cD10cnVlJztcbiAgICB9XG4gICAgaWYgKHJlc2VuZE90cEFyZ3MuYWN0aW9uID09PSAndXBkYXRlMkZBTnVtYmVyUmVzZW5kT1RQJykge1xuICAgICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcbiAgICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbikge1xuICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJnNtc1RlbXBsYXRlPScgKyByZXNlbmRPdHBBcmdzLnNtc3RlbXBsYXRlICsgdm9pY2VQYXJhbSwgcmVzZW5kT3RwQXJncy5kYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgICByZXNlbmRPdHBBcmdzLm9uZXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc2VuZE90cEFyZ3Mub25zdWNjZXNzKHJlc3BvbnNlLCByZXNlbmRPdHBBcmdzLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgJ3VwZGF0ZVBob25lJyk7XG4gICAgICB9IGVsc2UgaWYgKHR3b0ZhY3RvclRva2VuKSB7XG4gICAgICAgIGlmIChyZXNlbmRPdHBBcmdzLmRhdGEucGhvbmUpIHtcbiAgICAgICAgICByZXNlbmRPdHBBcmdzLmRhdGEucGhvbmVubzJmYSA9IHJlc2VuZE90cEFyZ3MuZGF0YS5waG9uZTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMkZBLz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbj0nICsgdHdvRmFjdG9yVG9rZW4gKyAnJnNtc1RlbXBsYXRlMkZBPScgKyByZXNlbmRPdHBBcmdzLnNtc3RlbXBsYXRlICsgdm9pY2VQYXJhbSwgcmVzZW5kT3RwQXJncy5kYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgICByZXNlbmRPdHBBcmdzLm9uZXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc2VuZE90cEFyZ3Mub25zdWNjZXNzKHJlc3BvbnNlLCByZXNlbmRPdHBBcmdzLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgJ2xvZ2luJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNlbmRPdHBBcmdzLm9uZXJyb3IoW1xuICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlc2VuZE90cEFyZ3MuYWN0aW9uID09PSAnc21hcnRMb2dpblJlc2VuZE9UUCcpIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNzd29yZGxlc3Nsb2dpbi9vdHA/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnBob25lPScgKyByZXNlbmRPdHBBcmdzLmRhdGEgKyAnJicgKyAnc21zVGVtcGxhdGU9JyArIHJlc2VuZE90cEFyZ3Muc21zdGVtcGxhdGUgKyB2b2ljZVBhcmFtLCAnJywgZnVuY3Rpb24gKFJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChSZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICByZXNlbmRPdHBBcmdzLm9uZXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKFJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzZW5kT3RwQXJncy5vbnN1Y2Nlc3MoUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnbG9naW5PVFAnKTtcbiAgICB9IGVsc2UgaWYgKHJlc2VuZE90cEFyZ3MuYWN0aW9uID09PSAnc2VuZEluc3RhbnRTaWduSW5SZXNlbmRPdHAnKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnR0VUJywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vcGFzc3dvcmRsZXNzbG9naW4vb3RwP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyYnICsgcmVzZW5kT3RwQXJncy5kYXRhICsgJyZzbXNUZW1wbGF0ZT0nICsgcmVzZW5kT3RwQXJncy5zbXN0ZW1wbGF0ZSArIHZvaWNlUGFyYW0sICcnLCBmdW5jdGlvbiAoc2lnbmluUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHNpZ25pblJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIHJlc2VuZE90cEFyZ3Mub25lcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3Ioc2lnbmluUmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNlbmRPdHBBcmdzLm9uc3VjY2VzcyhzaWduaW5SZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICdwYXNzd29yZGxlc3NMb2dpbicpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmFkZFJlc2VuZE9UUEJ0biA9IGZ1bmN0aW9uIChmbGFnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZnRlckZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIGZvcm0pIHtcbiAgICAgIGlmIChmbGFnICYmIGZvcm0gJiYgZm9ybS5uYW1lID09PSAnbG9naW5yYWRpdXMtdHdvZmFlbWFpbG90cCcpIHtcbiAgICAgICAgaWYgKCFtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoZm9ybSwgJ2lkJywgJ2xvZ2lucmFkaXVzLWJ1dHRvbi1yZXNlbmRlbWFpbG90cCcpKSB7XG4gICAgICAgICAgdmFyIHJlc2VuZE9UUEJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgncmVzZW5kZW1haWxvdHAnLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVSZXNlbmRPVFBCdXR0b24pIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250cm9sbGVycy5zZW5kTUZBRW1haWxPVFBDb250cm9sbGVyKHtcbiAgICAgICAgICAgICAgRW1haWxJZDogZm9ybVsxXS52YWx1ZVxuICAgICAgICAgICAgfSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgJ3Jlc2VuZCcpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIG5leHRzaWJsaW5nID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKGZvcm0sICd0eXBlJywgJ3N1Ym1pdCcpO1xuICAgICAgICAgIGlmIChuZXh0c2libGluZykge1xuICAgICAgICAgICAgbmV4dHNpYmxpbmcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocmVzZW5kT1RQQnRuLCBuZXh0c2libGluZy5uZXh0U2libGluZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQocmVzZW5kT1RQQnRuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4qIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiogQHByaXZhdGVcbiogQGZ1bmN0aW9uIGNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHlcbiogQHBhcmFtIHtPYmplY3R9IGV2ZW50IFRoZSBldmVudCBpbnRlcmZhY2UgcmVwcmVzZW50cyBhbiBldmVudCBvbiBwYXJ0aWN1bGFyIERPTSBmb3JtIGVsZW1lbnRcbiogQHJldHVybiB7bnVsbH1cbiogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjaGVjayB3aGV0aGVyIHRoZSB1c2VyIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGlzIG51bWJlciBvciBub3QgLlxuKi9cbiAgZnVuY3Rpb24gY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eSAoZXZlbnQsIG9uRXJyb3IpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHlDb250cm9sbGVyKCdwaG9uZT0nICsgZXZlbnQudGFyZ2V0LnZhbHVlLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICBpZiAocmVzcC5Jc0V4aXN0KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5pbmRleE9mKCdwaG9uZWlkJykgIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzJdLmlubmVySFRNTCA9ICdwaG9uZSBhbHJlYWR5IGV4aXN0cywgZW50ZXIgdW5pcXVlIHBob25lIG51bWJlcic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykuaW5kZXhPZigncGhvbmVpZCcpICE9PSAtMSkge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGROb2Rlc1syXS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIG9uRXJyb3IpO1xuICAgIH1cbiAgfVxuICAvKipcbiogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuKiBAcHJpdmF0ZVxuKiBAZnVuY3Rpb24gY2hlY2tVc2VybmFtZUF2YWlsYWJpbGl0eVxuKiBAcGFyYW0ge09iamVjdH0gRXZlbnQgVGhlIGV2ZW50IGludGVyZmFjZSByZXByZXNlbnRzIGFuIGV2ZW50IG9uIHBhcnRpY3VsYXIgRE9NIGZvcm0gZWxlbWVudFxuKiBAcmV0dXJuIHtudWxsfVxuKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNoZWNrIHdoZXRoZXIgdGhlIHVzZXIgaXMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgdXNlcm5hbWUgb3Igbm90LlxuKi9cblxuICBmdW5jdGlvbiBjaGVja1VzZXJuYW1lQXZhaWxhYmlsaXR5IChldmVudCwgb25FcnJvcikge1xuICAgIGlmIChldmVudC50YXJnZXQudmFsdWUudHJpbSgpICE9PSAnJykge1xuICAgICAgY29udHJvbGxlcnMuY2hlY2tVc2VyTmFtZUF2YWlsYWJpbGl0eUNvbnRyb2xsZXIoJ3VzZXJuYW1lPScgKyBldmVudC50YXJnZXQudmFsdWUsIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgIGlmIChyZXNwLklzRXhpc3QpIHtcbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoJ3VzZXJuYW1lJykgIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzJdLmlubmVySFRNTCA9ICd1c2VybmFtZSBhbHJlYWR5IGV4aXN0cywgZW50ZXIgdW5pcXVlIHVzZXJuYW1lJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5pbmRleE9mKCd1c2VybmFtZScpICE9PSAtMSkge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGROb2Rlc1syXS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIG9uRXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4qIEBmdW5jdGlvbiBwaW5nRm9yUHVzaE5vdGlmaWNhdGlvblxuKiBAcGFyYW0ge1N0cmluZ30gc2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbiBTZWNvbmQgRmFjdG9yIHRva2VuXG4qIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4qIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiogQGRlc2NyaXB0aW9uIFRIaXMgZnVuY3Rpb24gd2lsbCBrZWVwIHBpbmcgdG8gdXNlciBmb3IgcHVzaCBub3RpZmljYXRpb24gdGlsbCB1c2VyIGxvZ2dlZCBpbiBoaXMgYWNjb3VudC5cbiovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucGluZ0ZvclB1c2hOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBwaW5nSW50ZXJ2YWwgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5QaW5nSW50ZXJ2YWwgfHwgbW9kdWxlLm9wdGlvbnMuc21hcnRMb2dpblBpbmdJbnRlcnZhbDtcbiAgICB2YXIgcGluZ0NvdW50ID0gbW9kdWxlLm9wdGlvbnMuYXV0b0xvZ2luUGluZ0NvdW50IHx8IG1vZHVsZS5vcHRpb25zLnNtYXJ0TG9naW5QaW5nQ291bnQ7XG4gICAgY29uc3QgdXJsUGF0aCA9ICFtb2R1bGUuTFJDaGVja0xvZ2luID8gJy9hdXRoL2FjY291bnQvMmZhL3B1c2gvcGluZz9hY2Nlc3NfdG9rZW49JyArIHRva2VuIDogJy9hdXRoL2xvZ2luLzJmYS9wdXNoL3Bpbmc/c2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgdG9rZW47XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgdXJsUGF0aCArICcmYXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXksICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlID09PSAxMjk1IHx8IHJlc3BvbnNlLkVycm9yQ29kZSA9PT0gMTMxMykge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5waW5nQ291bnQgPCBwaW5nQ291bnQpIHtcbiAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucGluZ0ZvclB1c2hOb3RpZmljYXRpb24odG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICB9LCBwaW5nSW50ZXJ2YWwgKiAxMDAwKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCAncGluZ0ZvclB1c2hOb3RpZmljYXRpb24nKTtcbiAgfTtcblxuICAvKipcbiogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuKiBAZnVuY3Rpb24gcmVzZW5kUHVzaE5vdGlmaWNhdGlvblxuKiBAcGFyYW0ge1N0cmluZ30gc2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbiBTZWNvbmQgRmFjdG9yIHRva2VuXG4qIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4qIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiogQGRlc2NyaXB0aW9uIFRIaXMgZnVuY3Rpb24gd2lsbCBzZW5kIHRoZSBwdXNoIG5vdGlmaWNhdGlvbiBmb3IgdGhlIHVzZXIgaWYgbmVlZGVkIHVzaW5nIHRoZSBzZWNvbmQtZmFjdG9yIHRva2VuLlxuKi9cbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZXNlbmRQdXNoTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKHNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uVG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIGNvbnN0IHVybFBhdGggPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yZmEvcHVzaD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgc2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbjtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIHVybFBhdGgsIHt9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA8PSAxKSB7XG4gICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5waW5nRm9yUHVzaE5vdGlmaWNhdGlvbihzZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgJ3Jlc2VuZFB1c2hOb3RpZmljYXRpb24nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXG4gICogQGZ1bmN0aW9uIGNyZWF0ZUFjY291bnRNRkFQYXNza2V5XG4gICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGJlIHJldHVybmVkIHdoZW4gc3VjY2Vzc1xuICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gYmUgcmV0dXJuZWQgd2hlbiBlcnJvclxuICAqIEByZXR1cm4ge251bGx9XG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gYWRkIHRoZSBleHRlcm5hbCBsaWJyYXJpZXMuXG4gICovXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlQWNjb3VudE1GQVBhc3NrZXkgPSBmdW5jdGlvbiAob25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzUGFzc0tleXNFbmFibGVkKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yZmEvcmVnaXN0ZXIvcGFzc2tleS9iZWdpbj9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBhY2Nlc3NUb2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUudXRpbC5jcmVhdGVQYXNzS2V5Q3JlZGVudGlhbHMocmVzcG9uc2UuUmVnaXN0ZXJCZWdpbkNyZWRlbnRpYWwpLnRoZW4oKGNyZWRlbnRpYWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgIFBhc3NrZXlDcmVkZW50aWFsOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGNyZWRlbnRpYWwuaWQsXG4gICAgICAgICAgICAgICAgcmF3SWQ6IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjcmVkZW50aWFsLnJhd0lkKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBjcmVkZW50aWFsLnR5cGUsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgIGF0dGVzdGF0aW9uT2JqZWN0OiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUoY3JlZGVudGlhbC5yZXNwb25zZS5hdHRlc3RhdGlvbk9iamVjdCksXG4gICAgICAgICAgICAgICAgICBjbGllbnREYXRhSlNPTjogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKGNyZWRlbnRpYWwucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IH07XG5cbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yZmEvcmVnaXN0ZXIvcGFzc2tleS9maW5pc2g/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4sIGJvZHksIGZ1bmN0aW9uIChyZWdSZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAocmVnUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAnYWNjb3VudC1wYXNza2V5LW1mYScpO1xuICAgICAgICAgIH0pLmNhdGNoKChfZXJyb3IpID0+IHtcbiAgICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKF9lcnJvcikpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xuICAqIEBmdW5jdGlvbiBjcmVhdGVNRkFQYXNza2V5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNlY29uZGZhY3RvcmF1dGhlbnRpY2F0aW9udG9rZW4gc2Vjb25kIGZhY3RvciBhdXRoZW50aWNhdGlvbiB0b2tlblxuICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBiZSByZXR1cm5lZCB3aGVuIHN1Y2Nlc3NcbiAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbkVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGJlIHJldHVybmVkIHdoZW4gZXJyb3JcbiAgKiBAcmV0dXJuIHtudWxsfVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGFkZCB0aGUgZXh0ZXJuYWwgbGlicmFyaWVzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZU1GQVBhc3NrZXkgPSBmdW5jdGlvbiAoc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzUGFzc0tleXNFbmFibGVkKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMmZhL3JlZ2lzdGVyL3Bhc3NrZXkvYmVnaW4/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNlY29uZGZhY3RvcmF1dGhlbnRpY2F0aW9udG9rZW49JyArIHNlY29uZGZhY3RvcmF1dGhlbnRpY2F0aW9udG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kdWxlLnV0aWwuY3JlYXRlUGFzc0tleUNyZWRlbnRpYWxzKHJlc3BvbnNlLlJlZ2lzdGVyQmVnaW5DcmVkZW50aWFsKS50aGVuKChjcmVkZW50aWFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICBQYXNza2V5Q3JlZGVudGlhbDoge1xuICAgICAgICAgICAgICAgIGlkOiBjcmVkZW50aWFsLmlkLFxuICAgICAgICAgICAgICAgIHJhd0lkOiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUoY3JlZGVudGlhbC5yYXdJZCksXG4gICAgICAgICAgICAgICAgdHlwZTogY3JlZGVudGlhbC50eXBlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICBhdHRlc3RhdGlvbk9iamVjdDogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKGNyZWRlbnRpYWwucmVzcG9uc2UuYXR0ZXN0YXRpb25PYmplY3QpLFxuICAgICAgICAgICAgICAgICAgY2xpZW50RGF0YUpTT046IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjcmVkZW50aWFsLnJlc3BvbnNlLmNsaWVudERhdGFKU09OKVxuICAgICAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMmZhL3JlZ2lzdGVyL3Bhc3NrZXkvZmluaXNoP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZzZWNvbmRmYWN0b3JhdXRoZW50aWNhdGlvbnRva2VuPScgKyBzZWNvbmRmYWN0b3JhdXRoZW50aWNhdGlvbnRva2VuLCBib2R5LCBmdW5jdGlvbiAocmVnUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlZ1Jlc3BvbnNlKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcnMuaGFuZGxlRmVhdHVyZXMocmVnUmVzcG9uc2UsICcnLCAnJywgJycsIG9uU3VjY2Vzcywgb25FcnJvciwgJycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAncmVnaXN0ZXItcGFzc2tleS1tZmEnKTtcbiAgICAgICAgICB9KS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICAgICAgICBvbkVycm9yKHByaXZhdGVGdW5jdGlvbnNNb2R1bGUubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihfZXJyb3IpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcbiAgKiBAZnVuY3Rpb24gbG9naW5NRkFQYXNza2V5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNlY29uZGZhY3RvcmF1dGhlbnRpY2F0aW9udG9rZW4gc2Vjb25kIGZhY3RvciBhdXRoZW50aWNhdGlvbiB0b2tlblxuICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBiZSByZXR1cm5lZCB3aGVuIHN1Y2Nlc3NcbiAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbkVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGJlIHJldHVybmVkIHdoZW4gZXJyb3JcbiAgKiBAcmV0dXJuIHtudWxsfVxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGFkZCB0aGUgZXh0ZXJuYWwgbGlicmFyaWVzLlxuICAqL1xuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luTUZBUGFzc2tleSA9IGZ1bmN0aW9uIChzZWNvbmRmYWN0b3JhdXRoZW50aWNhdGlvbnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQpIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yZmEvcGFzc2tleS9iZWdpbj9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUudXRpbC5nZXRQYXNzS2V5Q3JlZGVudGlhbHMocmVzcG9uc2UuTG9naW5CZWdpbkNyZWRlbnRpYWwsIGZhbHNlKS50aGVuKChhc3NlcnRpb24pID0+IHtcbiAgICAgICAgICAgIGxldCBhdXRoRGF0YSA9IGFzc2VydGlvbi5yZXNwb25zZS5hdXRoZW50aWNhdG9yRGF0YTtcbiAgICAgICAgICAgIGxldCBjbGllbnREYXRhSlNPTiA9IGFzc2VydGlvbi5yZXNwb25zZS5jbGllbnREYXRhSlNPTjtcbiAgICAgICAgICAgIGxldCByYXdJZCA9IGFzc2VydGlvbi5yYXdJZDtcbiAgICAgICAgICAgIGxldCBzaWcgPSBhc3NlcnRpb24ucmVzcG9uc2Uuc2lnbmF0dXJlO1xuICAgICAgICAgICAgbGV0IHVzZXJIYW5kbGUgPSBhc3NlcnRpb24ucmVzcG9uc2UudXNlckhhbmRsZTtcbiAgICAgICAgICAgIGNvbnN0IHBhc3NLZXlQYXlsb2FkID0ge1xuICAgICAgICAgICAgICBQYXNza2V5Q3JlZGVudGlhbDoge1xuICAgICAgICAgICAgICAgIGlkOiBhc3NlcnRpb24uaWQsXG4gICAgICAgICAgICAgICAgcmF3SWQ6IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShyYXdJZCksXG4gICAgICAgICAgICAgICAgdHlwZTogYXNzZXJ0aW9uLnR5cGUsXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRvckF0dGFjaG1lbnQ6IGFzc2VydGlvbi5hdXRoZW50aWNhdG9yQXR0YWNobWVudCxcbiAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRvckRhdGE6IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShhdXRoRGF0YSksXG4gICAgICAgICAgICAgICAgICBjbGllbnREYXRhSlNPTjogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKGNsaWVudERhdGFKU09OKSxcbiAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKHNpZyksXG4gICAgICAgICAgICAgICAgICB1c2VySGFuZGxlOiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUodXNlckhhbmRsZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luLzJmYS9wYXNza2V5L2ZpbmlzaD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbiwgcGFzc0tleVBheWxvYWQsIGZ1bmN0aW9uIChsb2dpblJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGlmIChsb2dpblJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGxvZ2luUmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVycy5oYW5kbGVGZWF0dXJlcyhsb2dpblJlc3BvbnNlLCAnJywgJycsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IsICcnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgJ2xvZ2luLXBhc3NrZXktbWZhJyk7XG4gICAgICAgICAgfSkuY2F0Y2goKF9lcnJvcikgPT4ge1xuICAgICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoX2Vycm9yKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgbHIgbW9kdWxlIG9iamVjdFxuKiBAcGFyYW0ge09iamVjdH0gY29tbW9uRm5zIGxyIGNvbW1vbiBmdW5jdGlvbnMgb2JqZWN0XG4qIEBkZXNjcmlwdGlvbiBTZXQgZ2xvYmFsIExvZ2luUmFkaXVzQ29udHJvbGxlcnMuXG4qIEBjb25zdHJ1Y3RvclxuKi9cbmZ1bmN0aW9uIExvZ2luUmFkaXVzQ29udHJvbGxlcnMgKG1vZHVsZSwgY29tbW9uRm5zKSB7XG4gIHZhciBkZWZhdWx0TWVzc2FnZXMgPSBMb2dpblJhZGl1c0RlZmF1bHRzLm1lc3NhZ2VzO1xuICB2YXIgY29udHJvbGxlcnNNb2R1bGUgPSB0aGlzO1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIHNob3dCYWNrdXBDb2RlRm9ybVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgYmFja3VwQ29kZSBmb3JtIGFuZCBkaXNwbGF5IGl0LlxuICAqL1xuICBmdW5jdGlvbiBzaG93QmFja3VwQ29kZUZvcm0gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKSB7XG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0obW9kdWxlLmJhY2t1cENvZGVGb3JtU2NoZW1hLCAnYmFja3VwY29kZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmJhY2t1cENvZGVDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gZ2V0U2VjdXJpdHlRdWVzdGlvbnNcbiAgKiBAcGFyYW0ge0FycmF5fSByZXNwb25zZSBzZXJ2aWNlIHJlc3BvbmNlIG9iamVjdFxuICAqIEByZXR1cm4ge0FycmF5fSBzZWNRU2NoZW1hIGFycmF5IG9mIHNlY3VyaXR5IHF1ZXN0aW9ucyBvYmplY3RzXG4gICogQGRlc2NyaXB0aW9uIEdldCBzZWN1cml0eSBxdWVzdGlvbnMgZnJvbSBzZXJ2aWNlIHJlc3BvbnNlIG9iamVjdFxuICAqL1xuICBmdW5jdGlvbiBnZXRTZWN1cml0eVF1ZXN0aW9ucyAocmVzcG9uc2UpIHtcbiAgICB2YXIgc2VjUVNjaGVtYSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWNRT2JqZWN0ID0ge307XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMubWFza1NlbnNpdGl2ZUlucHV0KSB7XG4gICAgICAgIHNlY1FPYmplY3QudHlwZSA9ICdwYXNzd29yZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWNRT2JqZWN0LnR5cGUgPSAnc3RyaW5nJztcbiAgICAgIH1cbiAgICAgIHNlY1FPYmplY3QubmFtZSA9IHJlc3BvbnNlW2ldLlF1ZXN0aW9uSWQ7XG4gICAgICBzZWNRT2JqZWN0LmRpc3BsYXkgPSByZXNwb25zZVtpXS5RdWVzdGlvbjtcbiAgICAgIHNlY1FPYmplY3QucnVsZXMgPSAncmVxdWlyZWQnO1xuICAgICAgc2VjUU9iamVjdC5wZXJtaXNzaW9uID0gJ3InO1xuICAgICAgc2VjUVNjaGVtYS5wdXNoKHNlY1FPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gc2VjUVNjaGVtYTtcbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIHRyYWRpdGlvbmFsTG9naW5SZWNlaXZlVG9rZW5cbiAgKiBAcGFyYW0ge09iamVjdH0gdXNlclByb2ZpbGUgdXNlciBwcm9maWxlIG9iamVjdFxuICAqIEBwYXJhbSB7T2JqZWN0fSBsb2dpblJlc3BvbnNlIHNlcnZpY2UgcmVzcG9uc2Ugb2JqZWN0XG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb3RwIGluZm8uIG9iamVjdFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHJlc3BvbnNpYmxlIHRvIGhhbmRsZSB0cmFkaXRpb25hbCBsb2dpbiBwcm9jZXNzLlxuICAqL1xuICBmdW5jdGlvbiB0cmFkaXRpb25hbExvZ2luUmVjZWl2ZVRva2VuICh1c2VyUHJvZmlsZSwgbG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUsIGxvZ2luUmVzcG9uc2UuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQSU5BdXRoZW50aWNhdGlvbiAmJiBtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLlBJTkxvZ2luICYmIGxvZ2luUmVzcG9uc2UgJiYgbG9naW5SZXNwb25zZS5zZXNzaW9uX3Rva2VuKSB7XG4gICAgICBtb2R1bGUuc2V0U2Vzc2lvblRva2VuKGxvZ2luUmVzcG9uc2UpO1xuICAgIH1cbiAgICB2YXIgdHJhZGl0aW9uYWxMb2dpbkhhbmRsZXIgPSBmdW5jdGlvbiAoX1NjaGVtYSkge1xuICAgICAgdmFyIHJlZ1NjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX1NjaGVtYSkpO1xuICAgICAgcmVnU2NoZW1hID0gcmVnU2NoZW1hLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWE7XG4gICAgICBpZiAoIXVzZXJQcm9maWxlLklzRGVsZXRlZCkge1xuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuYXV0b0ZpbGxlZEZpZWxkRm9yVHJhZGl0aW9uYWwpIHtcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdiZWZvcmVGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIHNjaGVtYSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdsb2dpblJlcXVpcmVkRmllbGRzVXBkYXRlJykge1xuICAgICAgICAgICAgICB2YXIgZW1haWxmaWVsZCA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgICAgICAgICAgaWYgKGVtYWlsZmllbGQgJiYgZW1haWxmaWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGVtYWlsZmllbGQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBwaG9uZWZpZWxkID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncGhvbmVpZCcpO1xuICAgICAgICAgICAgICBpZiAocGhvbmVmaWVsZCAmJiBwaG9uZWZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGhvbmVmaWVsZC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IGNvbW1vbkZucy5tYXBTY2hlbWEocmVnU2NoZW1hLCB1c2VyUHJvZmlsZSwgbW9kdWxlLm9wdGlvbnMuYXV0b0ZpbGxlZEZpZWxkRm9yVHJhZGl0aW9uYWwpO1xuICAgICAgICBpZiAobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAncGFzc3dvcmQnKSk7XG4gICAgICAgICAgY29tbW9uRm5zLnNldFBhc3N3b3JkUnVsZShtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdjb25maXJtcGFzc3dvcmQnKSk7XG4gICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdyZWdpc3RyYXRpb25TY2hlbWFGaWx0ZXInLCByZWdTY2hlbWEsIHVzZXJQcm9maWxlKTtcbiAgICAgICAgICByZXF1aXJlZEZpZWxkKHVzZXJQcm9maWxlLCBsb2dpblJlc3BvbnNlLCBsb2dpblJlc3BvbnNlLmFjY2Vzc190b2tlbiwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihsb2dpblJlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHVzZXJQcm9maWxlKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0cmFkaXRpb25hbExvZ2luSGFuZGxlcihtb2R1bGUub3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gaGFuZGxlRmVhdHVyZXNcbiAgKiBAcGFyYW0ge09iamVjdH0gbG9naW5SZXNwb25zZSBzZXJ2aWNlIHJlc3BvbnNlIG9iamVjdFxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIG90cCBpbmZvLiBvYmplY3RcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBoYW5kbGUgdHJhZGl0aW9uYWwgbG9naW4gYXNrIGZvciByZXF1aXJlZCBmaWVsZHMgcHJvY2Vzcy5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMgPSBmdW5jdGlvbiAobG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIHVzZXJQcm9maWxlID0gbG9naW5SZXNwb25zZS5Qcm9maWxlO1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEgPSBtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKTtcbiAgICB9XG4gICAgaWYgKHBhc3N3b3JkRXhwaXJ5ICYmIG1vZHVsZS5vcHRpb25zLnBlcmlvZGljUGFzc3dvcmRSZXNldCAmJiB1c2VyUHJvZmlsZS5QYXNzd29yZEV4cGlyYXRpb25EYXRlICYmIG5ldyBEYXRlKHVzZXJQcm9maWxlLlBhc3N3b3JkRXhwaXJhdGlvbkRhdGUpIDw9IG5ldyBEYXRlKCkpIHtcbiAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLmNoYW5nZVBhc3N3b3JkRm9ybVNjaGVtYVsxXSk7XG4gICAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS5jaGFuZ2VQYXNzd29yZEZvcm1TY2hlbWFbMl0pO1xuICAgICAgcGFzc3dvcmRFeHBpcnkodXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UpO1xuICAgIH0gZWxzZSBpZiAocmVxdWlyZWRGaWVsZCAmJiAobW9kdWxlLm9wdGlvbnMuYXNrUmVxdWlyZWRGaWVsZEZvclRyYWRpdGlvbmFsTG9naW4gfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5hdXRvRmlsbGVkRmllbGRmb3JQYXNzd29yZExlc0xvZ2luIHx8IG1vZHVsZS5hc2tQaW5PbkxvZ2luKSkge1xuICAgICAgdHJhZGl0aW9uYWxMb2dpblJlY2VpdmVUb2tlbih1c2VyUHJvZmlsZSwgbG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4obG9naW5SZXNwb25zZSwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gdmVyaWZ5T1RQQ29udHJvbGxlclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIG90cCBpbmZvLiBvYmplY3RcbiAgKiBAcGFyYW0ge09iamVjdH0gcGhvbmVUb1ZlcmlmeSBvYmplY3QgaG9sZCBwaG9uZUlkIGFuZCBvdGhlciBpbmZvXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHZlcmlmeSB0aGUgcHJvdmlkZWQgb3RwLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS52ZXJpZnlPVFBDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIHBob25lVG9WZXJpZnksIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcbiAgICB2YXIgdXJsID0gTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGhvbmUvb3RwP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZvdHA9JyArIGRhdGEub3RwICsgJyZzbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMuc21zVGVtcGxhdGVXZWxjb21lO1xuICAgIGlmIChkYXRhLmhhdmVUb2tlbikge1xuICAgICAgdXJsICs9ICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgfVxuICAgIGlmIChkYXRhLm9uZXRvdWNobG9naW5mbGFnKSB7XG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9vbmV0b3VjaGxvZ2luL3Bob25lL3ZlcmlmeT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmb3RwPScgKyBkYXRhLm90cCArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlT25lVG91Y2hMb2dpbldlbGNvbWU7XG4gICAgfVxuICAgIHBob25lVG9WZXJpZnkgPSB7IC4uLnBob25lVG9WZXJpZnksIC4uLmRhdGEgfTtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgdXJsLCBwaG9uZVRvVmVyaWZ5LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEub25ldG91Y2hsb2dpbmZsYWcgJiYgIW1vZHVsZS5vcHRpb25zLmFza1JlcXVpcmVkRmllbGRzT25QYXNzd29yZExlc3NMb2dpbikge1xuICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5hdXRvRmlsbGVkRmllbGRmb3JQYXNzd29yZExlc0xvZ2luID0gdHJ1ZTtcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5oYW5kbGVGZWF0dXJlcyhyZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sICd2ZXJpZnlPVFAnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gdXBkYXRlU2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSBxdWVzdGlvbnMgYXMga2V5IGFuZCB0aGUgY29ycmVjdCBhbnN3ZXIgYXMgdmFsdWUuIGUuZy4ge1xuICAgIFwiPCVxdWVzdGlvbmlkJT5cIjogXCI8JWFuc3dlciU+XCIsXG4gICAgXCI8JXF1ZXN0aW9uaWQlPlwiOiBcIjwlYW5zd2VyJT5cIn0sXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byB1cGRhdGUgdGhlIEFuc3dlcihzKSB0byB0aGUgU2VjdXJpdHkgUXVlc3Rpb24ocykgb24gYSBnaXZlbiBhY2NvdW50LlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3QgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbnNDb3VudDsgaSsrKSB7XG4gICAgICBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0W3NlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3RbJ3NlY3VyaXR5UXVlc3Rpb24nICsgaV1dID0gc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdFsnc2VjdXJpdHlBbnN3ZXInICsgaV07XG4gICAgICBkZWxldGUgc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdFsnc2VjdXJpdHlRdWVzdGlvbicgKyBpXTtcbiAgICAgIGRlbGV0ZSBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0WydzZWN1cml0eUFuc3dlcicgKyBpXTtcbiAgICB9XG4gICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25PYmplY3QgPSB7XG4gICAgICAnU2VjdXJpdHlRdWVzdGlvbkFuc3dlcic6IHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3RcbiAgICB9O1xuICAgIGlmIChjb21tb25GbnMuaXNWYWxpZFRva2VuKHRva2VuLCBvbkVycm9yKSkge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQ/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sIHNlY3VyaXR5UXVlc3Rpb25PYmplY3QsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICd1cGRhdGVTZWN1cml0eVF1ZXN0aW9uJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBhdXRoZW50aWNhdG9yVHlwZSBhdXRoZW50aWNhdG9yVHlwZSBlLmcuIFwib3RwYXV0aGVudGljYXRvclwiIG9yIFwiYXV0aGVudGljYXRvclwiXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gdXNlZCB0byByZXNldCB0aGUgTUZBIGNvbmZpZ3VyYXRpb25zIG9uIHRoZSBhY2NvdW50LlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5yZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChhdXRoZW50aWNhdG9yVHlwZSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIC8vIHZhciBhdXRoZW50aWNhdG9yT2JqZWN0ID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhhdXRoZW50aWNhdG9yVHlwZSk7XG4gICAgdmFyIGF1dGhlbnRpY2F0b3JPYmplY3QgPSB7fTtcbiAgICBhdXRoZW50aWNhdG9yT2JqZWN0W2F1dGhlbnRpY2F0b3JUeXBlXSA9IHRydWU7XG4gICAgaWYgKGNvbW1vbkZucy5pc1ZhbGlkVG9rZW4odG9rZW4sIG9uRXJyb3IpKSB7XG4gICAgICB2YXIgYXBpID0gJy9hdXRoL2FjY291bnQvMkZBL2F1dGhlbnRpY2F0b3InO1xuICAgICAgaWYgKGF1dGhlbnRpY2F0b3JUeXBlID09PSAnZW1haWxvdHBhdXRoZW50aWNhdG9yJykge1xuICAgICAgICBhcGkgPSAnL2F1dGgvYWNjb3VudC8yZmEvYXV0aGVudGljYXRvci9vdHAvZW1haWwnO1xuICAgICAgICBhdXRoZW50aWNhdG9yT2JqZWN0ID0ge307XG4gICAgICB9IGVsc2UgaWYgKGF1dGhlbnRpY2F0b3JUeXBlID09PSAnc3FhdXRoZW50aWNhdG9yJykge1xuICAgICAgICBhcGkgPSAnL2F1dGgvYWNjb3VudC8yZmEvYXV0aGVudGljYXRvci9zZWN1cml0eXF1ZXN0aW9uYW5zd2VyJztcbiAgICAgICAgYXV0aGVudGljYXRvck9iamVjdCA9IHt9O1xuICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yVHlwZSA9PT0gJ3B1c2hub3RpZmljYXRpb25hdXRoZW50aWNhdG9yJykge1xuICAgICAgICBhcGkgPSAnL2F1dGgvYWNjb3VudC8yZmEvYXV0aGVudGljYXRvci9wdXNoJztcbiAgICAgICAgYXV0aGVudGljYXRvck9iamVjdCA9IHt9O1xuICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yVHlwZSA9PT0gJ2R1b2F1dGhlbnRpY2F0b3InKSB7XG4gICAgICAgIGFwaSA9ICcvYXV0aC9hY2NvdW50LzJmYS9hdXRoZW50aWNhdG9yL2R1byc7XG4gICAgICAgIGF1dGhlbnRpY2F0b3JPYmplY3QgPSB7fTtcbiAgICAgIH0gZWxzZSBpZiAoYXV0aGVudGljYXRvclR5cGUgPT09ICdwYXNza2V5YXV0aGVudGljYXRvcicpIHtcbiAgICAgICAgYXBpID0gJy9hdXRoL2FjY291bnQvMmZhL2F1dGhlbnRpY2F0b3IvcGFzc2tleSc7XG4gICAgICAgIGF1dGhlbnRpY2F0b3JPYmplY3QgPSB7fTtcbiAgICAgIH1cbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdkZWxldGUnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArIGFwaSArICc/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sIGF1dGhlbnRpY2F0b3JPYmplY3QsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgYXV0aGVudGljYXRvclR5cGUpO1xuICAgICAgICB9XG4gICAgICB9LCAncmVzZXRUd29GYWN0b3JBdXRoZW50aWNhdGlvbicpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gZm9yZ290UGFzc3dvcmRDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgZW1haWwgb2YgdGhlIGN1c3RvbWVyIGUuZy4ge2VtYWlsOiBcInh4eEB4eHguY29tXCJ9XG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHVzZWQgdG8gIHNlbmQgYSBmb3Jnb3QgcGFzc3dvcmQgZW1haWwgdG8gYSBjdXN0b21lciwgdGhlIGVtYWlsIHdpbGwgY29udGFpbiB0aGUgdmVyaWZpY2F0aW9uIHRva2VuIHRvIHRoZW4gYmUgY29uc3VtZWQgdGhlIHJlc2V0UGFzc3dvcmQgZnVuY3Rpb24uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmZvcmdvdFBhc3N3b3JkQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIHJlc2V0UGFzc3dvcmRVcmwgPSBtb2R1bGUub3B0aW9ucy5mb3Jnb3RQYXNzd29yZFVybCB8fCBtb2R1bGUub3B0aW9ucy5yZXNldFBhc3N3b3JkVXJsO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGFzc3dvcmQ/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnJlc2V0UGFzc3dvcmRVcmw9JyArIHJlc2V0UGFzc3dvcmRVcmwgKyAnJmVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJlc2V0UGFzc3dvcmRFbWFpbFRlbXBsYXRlLCBkYXRhLCBmdW5jdGlvbiAoZm9yZ290UGFzc3dvcmRSZXNwb25zZSkge1xuICAgICAgaWYgKGZvcmdvdFBhc3N3b3JkUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoZm9yZ290UGFzc3dvcmRSZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhcnNlRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgICAgIG9uU3VjY2Vzcyhmb3Jnb3RQYXNzd29yZFJlc3BvbnNlLCBwYXJzZURhdGEpO1xuICAgICAgICBpZiAoY29tbW9uRm5zLnNob3dPVFBUZW1wbGF0ZUZvcm0oJ0ZvcmdvdFBhc3N3b3JkJykpIHtcbiAgICAgICAgICBjb21tb25GbnMucmVzZXRQYXNzd29yZChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXJzZURhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ2ZvcmdvdFBhc3N3b3JkJyk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBhc3NLZXlDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgZW1haWwgb2YgdGhlIGN1c3RvbWVyIGUuZy4ge2VtYWlsOiBcInh4eEB4eHguY29tXCJ9XG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHVzZWQgdG8gIHNlbmQgYSBmb3Jnb3QgcGFzc3dvcmQgZW1haWwgdG8gYSBjdXN0b21lciwgdGhlIGVtYWlsIHdpbGwgY29udGFpbiB0aGUgdmVyaWZpY2F0aW9uIHRva2VuIHRvIHRoZW4gYmUgY29uc3VtZWQgdGhlIHJlc2V0UGFzc3dvcmQgZnVuY3Rpb24uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmZvcmdvdFBhc3NLZXlDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgcmVzZXRQYXNzd29yZFVybCA9IG1vZHVsZS5vcHRpb25zLmZvcmdvdFBhc3NLZXlVcmwgfHwgbW9kdWxlLm9wdGlvbnMucmVzZXRQYXNzS2V5VXJsO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGFzc2tleS9mb3Jnb3Q/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnJlc2V0cGFzc2tleXVybD0nICsgcmVzZXRQYXNzd29yZFVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmVzZXRQYXNzS2V5RW1haWxUZW1wbGF0ZSwgZGF0YSwgZnVuY3Rpb24gKGZvcmdvdFBhc3NLZXlSZXNwb25zZSkge1xuICAgICAgaWYgKGZvcmdvdFBhc3NLZXlSZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihmb3Jnb3RQYXNzS2V5UmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwYXJzZURhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICBvblN1Y2Nlc3MoZm9yZ290UGFzc0tleVJlc3BvbnNlLCBwYXJzZURhdGEpO1xuICAgICAgfVxuICAgIH0sICdmb3Jnb3RQYXNzS2V5Jyk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHJlc2V0UGFzc2tleUZpbmlzaENvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBpZCBqc29uIG9iamVjdCBzdHJpbmdcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHJlc2V0IGFjY291bnQgbG9naW4gcGFzc3dvcmQgYnkgdXNpbmcgcGhvbmUgaWQuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2V0UGFzc2tleUZpbmlzaENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCwgdnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgY29uc3QgcGFzc0tleVBheWxvYWQgPSB7XG4gICAgICBpZDogY3JlZGVudGlhbC5pZCxcbiAgICAgIHJhd0lkOiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUoY3JlZGVudGlhbC5yYXdJZCksXG4gICAgICB0eXBlOiBjcmVkZW50aWFsLnR5cGUsXG4gICAgICByZXNwb25zZToge1xuICAgICAgICBhdHRlc3RhdGlvbk9iamVjdDogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKGNyZWRlbnRpYWwucmVzcG9uc2UuYXR0ZXN0YXRpb25PYmplY3QpLFxuICAgICAgICBjbGllbnREYXRhSlNPTjogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKGNyZWRlbnRpYWwucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pXG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3NrZXkvcmVzZXQvZmluaXNoP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZ2dG9rZW49JyArIHZ0b2tlbiwgcGFzc0tleVBheWxvYWQsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UsIHt9KTtcbiAgICAgIH1cbiAgICB9LCAncmVzZXRQYXNzd29yZCcpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNldFBhc3NLZXlDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgZW1haWwgb2YgdGhlIGN1c3RvbWVyIGUuZy4ge2VtYWlsOiBcInh4eEB4eHguY29tXCJ9XG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHVzZWQgdG8gIHNlbmQgYSByZXNldCBwYXNzd29yZCBlbWFpbCB0byBhIGN1c3RvbWVyLCB0aGUgZW1haWwgd2lsbCBjb250YWluIHRoZSB2ZXJpZmljYXRpb24gdG9rZW4gdG8gdGhlbiBiZSBjb25zdW1lZCB0aGUgcmVzZXRQYXNzd29yZCBmdW5jdGlvbi5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZXRQYXNzS2V5Q29udHJvbGxlciA9IGZ1bmN0aW9uICh2dG9rZW4sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGFzc2tleS9yZXNldC9iZWdpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmdnRva2VuPScgKyB2dG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kdWxlLnV0aWwuY3JlYXRlUGFzc0tleUNyZWRlbnRpYWxzKHJlc3BvbnNlLlJlZ2lzdGVyQmVnaW5DcmVkZW50aWFsKS50aGVuKChhc3NlcnRpb24pID0+IHtcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5yZXNldFBhc3NrZXlGaW5pc2hDb250cm9sbGVyKGFzc2VydGlvbiwgdnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihlcnJvcikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gZm9yZ290UElOQ29udHJvbGxlclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGVtYWlsIG9mIHRoZSBjdXN0b21lciBlLmcuIHtlbWFpbDogXCJ4eHhAeHh4LmNvbVwifVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB1c2VkIHRvICBzZW5kIGEgZm9yZ290IHBpbiBlbWFpbCB0byBhIGN1c3RvbWVyLCB0aGUgZW1haWwgd2lsbCBjb250YWluIHRoZSB2ZXJpZmljYXRpb24gdG9rZW4gdG8gdGhlbiBiZSBjb25zdW1lZCB0aGUgcmVzZXRQSU4gZnVuY3Rpb24uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmZvcmdvdFBJTkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciBxdWVyeU9iaiA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgdmFyIG1vZGUgPSAocXVlcnlPYmouaGFzT3duUHJvcGVydHkoJ3VzZXJuYW1lJykpID8gJ3VzZXJuYW1lJyA6ICdlbWFpbCc7XG4gICAgdmFyIHJlc2V0UElOVXJsID0gbW9kdWxlLm9wdGlvbnMuZm9yZ290UElOVXJsIHx8IG1vZHVsZS5vcHRpb25zLnJlc2V0UElOVXJsO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGluL2ZvcmdvdC8nICsgbW9kZSArICc/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnJlc2V0UElOVXJsPScgKyByZXNldFBJTlVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmVzZXRQSU5FbWFpbFRlbXBsYXRlLCBkYXRhLCBmdW5jdGlvbiAoZm9yZ290UElOUmVzcG9uc2UpIHtcbiAgICAgIGlmIChmb3Jnb3RQSU5SZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihmb3Jnb3RQSU5SZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhcnNlRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgICAgIG9uU3VjY2Vzcyhmb3Jnb3RQSU5SZXNwb25zZSwgcGFyc2VEYXRhKTtcbiAgICAgICAgaWYgKGNvbW1vbkZucy5zaG93T1RQVGVtcGxhdGVGb3JtKCdGb3Jnb3RQSU4nKSkge1xuICAgICAgICAgIGNvbW1vbkZucy5yZXNldFBJTihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXJzZURhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ2ZvcmdvdFBJTicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBpbnB1dCBwYXlsb2FkIHRvIGxvZ2luICAoZS5nLiB7IGVtYWlsaWQ6IFwiZXhhbXBsZUBleGFtcGxlLmNvbVwiLCBwYXNzd29yZDogXCIxMjN4eHg3ODlcIiB9KVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHJlc3BvbnNpYmxlIHRvIGhhbmRsZSB1c2VyIGxvZ2luIHByb2Nlc3MuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmxvZ2luQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIF9jbGFzc1ByZWZpeCwgdmVyaWZ5T1RQQXBpLCByZXNlbmRPVFBBcGkpIHtcbiAgICBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlID0gbW9kdWxlLm9wdGlvbnMuZW1haWxUZW1wbGF0ZSB8fCBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlO1xuXG4gICAgdmFyIHRlbXBsYXRlID0gJ2VtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUgKyAnJnZlcmlmaWNhdGlvblVybD0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uVXJsO1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luKSB7XG4gICAgICB0ZW1wbGF0ZSArPSAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVBob25lVmVyaWZpY2F0aW9uO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLm9wdGlvbnMucmlza0Jhc2VkQXV0aGVudGljYXRpb24pIHtcbiAgICAgIHRlbXBsYXRlICs9ICcmUmJhT25lY2xpY2tFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFPbmVjbGlja0VtYWlsVGVtcGxhdGUgKyAnJlJiYU9UUFNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFPVFBTbXNUZW1wbGF0ZSArICcmUmJhQ2l0eUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNpdHlFbWFpbFRlbXBsYXRlICsgJyZSYmFDb3VudHJ5RW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ291bnRyeUVtYWlsVGVtcGxhdGUgKyAnJlJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFCcm93c2VyRW1haWxUZW1wbGF0ZSArICcmUmJhSXBFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFJcEVtYWlsVGVtcGxhdGUgKyAnJlJiYURldmljZUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYURldmljZUVtYWlsVGVtcGxhdGUgKyAnJlJiYUNpdHlTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ2l0eVNtc1RlbXBsYXRlICsgJyZSYmFDb3VudHJ5U21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNvdW50cnlTbXNUZW1wbGF0ZTtcbiAgICAgIHRlbXBsYXRlICs9ICcmUmJhQnJvd3NlclNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFCcm93c2VyU21zVGVtcGxhdGUgKyAnJlJiYUlwU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUlwU21zVGVtcGxhdGUgKyAnJlJiYURldmljZVNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFEZXZpY2VTbXNUZW1wbGF0ZTtcbiAgICB9XG4gICAgZGF0YSA9IG1vZHVsZS51dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICBkYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lKSB7XG4gICAgICBkZWxldGUgZGF0YVsnZW1haWwnXTtcbiAgICAgIGRlbGV0ZSBkYXRhWydwaG9uZWlkJ107XG4gICAgfVxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc0IyQkVuYWJsZWQgJiYgbW9kdWxlLm9wdGlvbnMub3JnYW5pemF0aW9uT2JqICYmIG1vZHVsZS5vcHRpb25zLm9yZ2FuaXphdGlvbk9iai5JZCkge1xuICAgICAgdGVtcGxhdGUgKz0gJyZvcmdfaWQ9JyArIG1vZHVsZS5vcHRpb25zLm9yZ2FuaXphdGlvbk9iai5JZDtcbiAgICB9XG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZsb2dpblVybD0nICsgbW9kdWxlLm9wdGlvbnMubG9naW5VcmwgKyAnJicgKyB0ZW1wbGF0ZTtcbiAgICBpZiAoZGF0YVsnZy1yZWNhcHRjaGEtcmVzcG9uc2UnXSkge1xuICAgICAgdXJsICs9ICcmZy1yZWNhcHRjaGEtcmVzcG9uc2U9JyArIGRhdGFbJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJ107XG4gICAgICBkZWxldGUgZGF0YVsnZy1yZWNhcHRjaGEtcmVzcG9uc2UnXTtcbiAgICB9XG4gICAgaWYgKGRhdGFbJ2gtY2FwdGNoYS1yZXNwb25zZSddKSB7XG4gICAgICB1cmwgKz0gJyZoLWNhcHRjaGEtcmVzcG9uc2U9JyArIGRhdGFbJ2gtY2FwdGNoYS1yZXNwb25zZSddO1xuICAgICAgZGVsZXRlIGRhdGFbJ2gtY2FwdGNoYS1yZXNwb25zZSddO1xuICAgIH1cbiAgICBpZiAoZGF0YVsncXFfY2FwdGNoYV9yYW5kc3RyJ10pIHtcbiAgICAgIHVybCArPSAnJnFxX2NhcHRjaGFfcmFuZHN0cj0nICsgZGF0YVsncXFfY2FwdGNoYV9yYW5kc3RyJ107XG4gICAgICBkZWxldGUgZGF0YVsncXFfY2FwdGNoYV9yYW5kc3RyJ107XG4gICAgfVxuICAgIGlmIChkYXRhWydxcV9jYXB0Y2hhX3RpY2tldCddKSB7XG4gICAgICB1cmwgKz0gJyZxcV9jYXB0Y2hhX3RpY2tldD0nICsgZGF0YVsncXFfY2FwdGNoYV90aWNrZXQnXTtcbiAgICAgIGRlbGV0ZSBkYXRhWydxcV9jYXB0Y2hhX3RpY2tldCddO1xuICAgIH1cbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIHVybCwgZGF0YSwgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcbiAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnLCBkYXRhWydzdGF5TG9naW4nXSk7XG4gICAgICB9XG4gICAgICBpZiAobG9naW5SZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICBpZiAobG9naW5SZXNwb25zZS5FcnJvckNvZGUgPT0gJzk3MCcgJiYgIW1vZHVsZS5vcHRpb25zLnZlcmlmeUVtYWlsQnlPVFApIHtcbiAgICAgICAgICBjb21tb25GbnMub3RwRW1haWxWZXJpZmljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgZGF0YSk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICB9IGVsc2UgaWYgKGxvZ2luUmVzcG9uc2UuRXJyb3JDb2RlID09ICcxMTY3JyAmJiAobG9naW5SZXNwb25zZS5QaG9uZUlkIHx8IGRhdGEucGhvbmUpKSB7XG4gICAgICAgICAgZGVsZXRlIGRhdGEuZW1haWw7XG4gICAgICAgICAgZGF0YS5waG9uZSA9IGxvZ2luUmVzcG9uc2UuUGhvbmVJZCB8fCBkYXRhLnBob25lO1xuICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmxvZ2luT1RQQ29udHJvbGxlcihkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCAnbm8nKTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBsb2dpblJlc3BvbnNlLkVycm9yQ29kZSA9PSAnMTA2NicpIHtcbiAgICAgICAgICAvLyB2YXIgcGhvbmV0b1ZlcmlmeSA9IGRhdGEuc3BsaXQoJyYnKVsxXTtcblxuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAgPSB2ZXJpZnlPVFBBcGkgfHwgY29tbW9uRm5zLnZlcmlmeU9UUDtcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQID0gcmVzZW5kT1RQQXBpIHx8IGNvbW1vbkZucy5yZXNlbmRPVFA7XG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBtb2R1bGUub3B0aW9ucy5pc1ZvaWNlT3RwLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGxvZ2luUmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS5hc2tQaW5PbkxvZ2luID0gZmFsc2U7XG4gICAgICAgIHZhciB1c2VyUHJvZmlsZSA9IGxvZ2luUmVzcG9uc2UuUHJvZmlsZTtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzUElOQXV0aGVudGljYXRpb24gJiYgdXNlclByb2ZpbGUgJiYgKChtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLkFza09ubHlPbkZpcnN0TG9naW4gJiYgdXNlclByb2ZpbGUuRmlyc3RMb2dpbikgfHwgbW9kdWxlLm9wdGlvbnMuUElOQ29uZmlndXJhdGlvbi5Bc2tPbkxvZ2luKSkge1xuICAgICAgICAgIGlmICh1c2VyUHJvZmlsZS5QSU4gPT09IG51bGwgfHwgIXVzZXJQcm9maWxlLlBJTi5QSU4pIHtcbiAgICAgICAgICAgIG1vZHVsZS5hc2tQaW5PbkxvZ2luID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMobG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCAnbG9naW4nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gbG9naW5PVFBDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgaW5wdXQgcGF5bG9hZCB0byBsb2dpbiAgKGUuZy4geyBlbWFpbGlkOiBcImV4YW1wbGVAZXhhbXBsZS5jb21cIiwgcGFzc3dvcmQ6IFwiMTIzeHh4Nzg5XCIgfSlcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtTdHJpbmd9IG90cFNlbnQgZmxhZyB5ZXMgb3Igbm8gdG8gY29udHJvbCBvdHAgc2VuZFxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHJlc3BvbnNpYmxlIHRvIGhhbmRsZSBvdHAgc2VuZGluZyBwcm9jZXNzIG9uIGN1c3RvbWVyJ3MgcGhvbmUgbnVtYmVyLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5sb2dpbk9UUENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgb3RwU2VudCkge1xuICAgIGRhdGEgPSBtb2R1bGUudXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xuICAgIHZhciBwaG9uZURhdGEgPSBkYXRhO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgfHwgZGF0YSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgcGhvbmVEYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB9XG4gICAgaWYgKHBob25lRGF0YS5lbWFpbCB8fCBwaG9uZURhdGEudXNlcm5hbWUpIHtcbiAgICAgIGNvbW1vbkZucy5zZW5kSW5zdGFudFNpZ25JbkxpbmsoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzbXNUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlSW5zdGFudE9UUExvZ2luIHx8IG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luU01TVGVtcGxhdGU7XG4gICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdiZWZvcmVGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIHNjaGVtYSkge1xuICAgICAgICBpZiAoIW1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Jlc2VuZG90cCcpKSB7XG4gICAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgICBuYW1lOiAncmVzZW5kb3RwJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdSZXNlbmQgdmlhIFNNUycsXG4gICAgICAgICAgICBydWxlczogJycsXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiAncicsXG4gICAgICAgICAgICBldmVudDogJ2NsaWNrJyxcbiAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZVJlc2VuZE9UUEJ1dHRvbikge1xuICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmRpc2FibGVSZXNlbmRPVFBCdXR0b24oZXZlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciByZXNlbmRPVFBBcmdzID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IHBob25lRGF0YS5waG9uZSxcbiAgICAgICAgICAgICAgICBvbnN1Y2Nlc3M6IG9uU3VjY2VzcyxcbiAgICAgICAgICAgICAgICBvbmVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgICAgIHNtc3RlbXBsYXRlOiBzbXNUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzbWFydExvZ2luUmVzZW5kT1RQJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQSGFuZGxlcihyZXNlbmRPVFBBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNWb2ljZU90cCkge1xuICAgICAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgbmFtZTogJ3Jlc2VuZHZvaWNlb3RwJyxcbiAgICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCB2aWEgVm9pY2UgY2FsbCcsXG4gICAgICAgICAgICAgIHJ1bGVzOiAnJyxcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ3InLFxuICAgICAgICAgICAgICBldmVudDogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVSZXNlbmRPVFBCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmRpc2FibGVSZXNlbmRPVFBCdXR0b24oZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzZW5kT1RQQXJncyA9IHtcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHBob25lRGF0YS5waG9uZSxcbiAgICAgICAgICAgICAgICAgIG9uc3VjY2Vzczogb25TdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgb25lcnJvcjogb25FcnJvcixcbiAgICAgICAgICAgICAgICAgIHNtc3RlbXBsYXRlOiBzbXNUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICAgIHZvaWNlb3RwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc21hcnRMb2dpblJlc2VuZE9UUCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFBIYW5kbGVyKHJlc2VuZE9UUEFyZ3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGhhbmRsZU9UUCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5vdHBTY2hlbWE7XG4gICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ290cCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKG90cERhdGEpIHtcbiAgICAgICAgICB2YXIgcmVjYXB0Y2hhaWQgPSBfY2xhc3NQcmVmaXggKyBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4ICsgJ3JlY2FwdGNoYV93aWRnZXRfdmVyaWZ5b3RwJztcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS52ZXJpZnlJbnN0YW50T1RQKG90cERhdGEsIHBob25lRGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCByZWNhcHRjaGFpZCwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShlcnJvcnMpKTtcbiAgICAgICAgfSwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH07XG4gICAgICBpZiAob3RwU2VudCkge1xuICAgICAgICBoYW5kbGVPVFAoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNzd29yZGxlc3Nsb2dpbi9vdHA/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnBob25lPScgKyBwaG9uZURhdGEucGhvbmUgKyAnJicgKyAnc21zVGVtcGxhdGU9JyArIHNtc1RlbXBsYXRlLCAnJywgZnVuY3Rpb24gKFJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKFJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihSZXNwb25zZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvblN1Y2Nlc3MoUmVzcG9uc2UpO1xuICAgICAgICAgICAgaGFuZGxlT1RQKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAnbG9naW5PVFAnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGxvZ2luUElOQ29udHJvbGxlclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGlucHV0IHBheWxvYWQgdG8gbG9naW4gIChlLmcuIHsgUElOOiBcImV4YW1wbGVAZXhhbXBsZS5jb21cIiwgcGFzc3dvcmQ6IFwiMTIzeHh4Nzg5XCIgfSlcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiByZXNwb25zaWJsZSB0byBoYW5kbGUgdXNlciBsb2dpbiBwcm9jZXNzLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5sb2dpblBJTkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIHNlc3Npb25Ub2tlbikge1xuICAgIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUgPSBtb2R1bGUub3B0aW9ucy5lbWFpbFRlbXBsYXRlIHx8IG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGU7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICBkYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB9XG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vzc2lvbl90b2tlbj0nICsgc2Vzc2lvblRva2VuO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgdXJsLCBkYXRhLCBmdW5jdGlvbiAobG9naW5SZXNwb25zZSkge1xuICAgICAgaWYgKGxvZ2luUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IobG9naW5SZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMobG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCAnbG9naW4nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gbG9naW4yRkFDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhbmRhcmQgZmllbGRzIGZvciBsb2dpbiBsaWtlIHVzZXJuYW1lLCBwYXNzd29yZCBvciBlbWFpbCBhbmQgcGFzc3dvcmRcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVQaG9uZU51bWJlckFwaSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHZlcmlmeU9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc2VuZE9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGhhbmRsZSB0aGUgdHJhZGl0aW9uYWwgbG9naW4gcHJvY2VzcyBpZiB5b3UgaGF2ZSBNRkEgKE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvbikgZW5hYmxlZC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUubG9naW4yRkFDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCB1cGRhdGVQaG9uZU51bWJlckFwaSwgdmVyaWZ5T1RQQXBpLCByZXNlbmRPVFBBcGkpIHtcbiAgICBtb2R1bGUuTFJDaGVjazJGQSA9IHRydWU7XG4gICAgZGF0YSA9IG1vZHVsZS51dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XG4gICAgdmFyIGVtYWlsT3RwID0gZmFsc2U7XG4gICAgdmFyIF9zZW5kb3RwYXBpID0gZmFsc2U7XG4gICAgdmFyIGhhbmRsZTJGQVJlc3BvbnNlID0gZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UsIFNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICB2YXIgSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgPSBTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCAnJztcbiAgICAgIHZhciBJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCA9IFNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzQXV0aGVudGljYXRvclZlcmlmaWVkIHx8ICcnO1xuICAgICAgdmFyIElzRHVvQXV0aGVudGljYXRvclZlcmlmaWVkID0gU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uSXNEdW9BdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgJyc7XG4gICAgICB2YXIgSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCA9IFNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzRW1haWxPdHBBdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgJyc7XG4gICAgICB2YXIgSXNTZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRvclZlcmlmaWVkID0gU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uSXNTZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRvclZlcmlmaWVkIHx8ICcnO1xuICAgICAgdmFyIElzUHVzaERldmljZVJlZ2lzdGVyZWQgPSBTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5Jc1B1c2hEZXZpY2VSZWdpc3RlcmVkIHx8ICcnO1xuICAgICAgdmFyIElzUGFzc2tleUF1dGhlbnRpY2F0b3JWZXJpZmllZCA9IFNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzUGFzc2tleUF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCAnJztcbiAgICAgIGlmIChTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5FbWFpbE9UUFN0YXR1cyA9PT0gbnVsbCAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzUHVzaERldmljZVJlZ2lzdGVyZWQpIHtcbiAgICAgICAgX3NlbmRvdHBhcGkgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWRkQmFja0J0biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYWZ0ZXJGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4LCBmb3JtKSB7XG4gICAgICAgICAgY29uc3QgaXNCdXR0b25FeGlzdCA9IGZvcm0gPyBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoZm9ybSwgJ2lkJywgJ2xvZ2lucmFkaXVzLWJ1dHRvbi1iYWNrdXBjb2RlYmFja2J1dHRvbicpIDogbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQoJ2xvZ2lucmFkaXVzLWJ1dHRvbi1iYWNrdXBjb2RlYmFja2J1dHRvbicpO1xuICAgICAgICAgIGZvcm0gPSBmb3JtIHx8IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKGNvbnRhaW5lcik7XG4gICAgICAgICAgaWYgKGZvcm0gJiYgbW9kdWxlLkxSQ2hlY2syRkEpIHtcbiAgICAgICAgICAgIGlmICghaXNCdXR0b25FeGlzdCkge1xuICAgICAgICAgICAgICB2YXIgYmFja0J0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnYmFja3VwY29kZWJhY2tidXR0b24nLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfc2VuZG90cGFwaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaGFuZGxlMkZBUmVzcG9uc2UobG9naW5SZXNwb25zZSwgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYmFja0J0bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBhZGRCYWNrQnRuKCk7XG5cbiAgICAgIHZhciB0d29GQWVtYWlsb3RwQ29kZUZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZW1haWxPVFBBdXRoZW50aWNhdGlvbiAmJiAoKCFJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNEdW9BdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gJiYgIUlzUGFzc2tleUF1dGhlbnRpY2F0b3JWZXJpZmllZCkgfHwgSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCkpIHtcbiAgICAgICAgICBpZiAobG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbiAmJiBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLkVtYWlsICYmIGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uRW1haWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBlbWFpbE90cCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgZW1haWxzID0gbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5FbWFpbDtcbiAgICAgICAgICAgIGlmIChlbWFpbHMpIHtcbiAgICAgICAgICAgICAgdmFyIGVtYWlsT3RwRm9ybSA9IGZ1bmN0aW9uIChlbWFpbGlkKSB7XG4gICAgICAgICAgICAgICAgY29tbW9uRm5zLmFkZFJlc2VuZE9UUEJ0bihlbWFpbE90cCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAoX3NlbmRvdHBhcGkgfHwgSXNTZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRvclZlcmlmaWVkIHx8IElzQXV0aGVudGljYXRvclZlcmlmaWVkIHx8IElzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkIHx8IElzUHVzaERldmljZVJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLnNlbmRNRkFFbWFpbE9UUENvbnRyb2xsZXIoe1xuICAgICAgICAgICAgICAgICAgICBFbWFpbElkOiBlbWFpbGlkXG4gICAgICAgICAgICAgICAgICB9LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUCh7IG1mYUVtYWlsVG9rZW46IHRydWUsIEVtYWlsSWQ6IGVtYWlsaWQgfSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB2YXIgZW1haWxPdHBDbGlja0ZuID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtYWlscy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnNBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbWFpbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25PYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25PYmplY3QudGV4dCA9IGVtYWlsc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25PYmplY3QudmFsdWUgPSBlbWFpbHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0FycmF5LnB1c2gob3B0aW9uT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdmFyIHNlY1FPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgIHNlY1FPYmplY3QudHlwZSA9ICdvcHRpb24nO1xuICAgICAgICAgICAgICAgICAgc2VjUU9iamVjdC5vcHRpb25zID0gb3B0aW9uc0FycmF5O1xuICAgICAgICAgICAgICAgICAgc2VjUU9iamVjdC5uYW1lID0gJ3NlbmRlbWFpbG90cCc7XG4gICAgICAgICAgICAgICAgICBzZWNRT2JqZWN0LnJ1bGVzID0gJ3JlcXVpcmVkJztcbiAgICAgICAgICAgICAgICAgIHNlY1FPYmplY3QuZGlzcGxheSA9ICdTZWxlY3QgZW1haWwgdG8gc2VuZCB2ZXJpZmljYXRpb24gY29kZSc7XG4gICAgICAgICAgICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShbc2VjUU9iamVjdF0sICdtZmFzZWxlY3RlbWFpbHMnLCBjb250YWluZXIsIGZ1bmN0aW9uIChfbWZhZW1haWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX21mYWVtYWlsID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhfbWZhZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBlbWFpbE90cEZvcm0oX21mYWVtYWlsLnNlbmRlbWFpbG90cCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uRW1haWwgJiYgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5FbWFpbFswXSkge1xuICAgICAgICAgICAgICAgICAgZW1haWxPdHBGb3JtKGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uRW1haWxbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSB0cnVlO1xuICAgICAgICAgICAgICB2YXIgZW1haWxPdHBCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2VtYWlsb3RwJywgX2NsYXNzUHJlZml4LCBlbWFpbE90cENsaWNrRm4pO1xuICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGVtYWlsT3RwQnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgdHdvRkFkdW9NRkFDb2RlRm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5kdW9BdXRoZW50aWNhdGlvbiAmJiAoKCFJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQYXNza2V5QXV0aGVudGljYXRvclZlcmlmaWVkICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB8fCBJc0R1b0F1dGhlbnRpY2F0b3JWZXJpZmllZCkpIHtcbiAgICAgICAgICBjb25zdCBkdW9BdXRoRW5kcG9pbnQgPSBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLkR1b0F1dGhFbmRwb2ludDtcbiAgICAgICAgICBjb25zdCBoYW5kbGVEdW9NRkFDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkdW9BdXRoRW5kcG9pbnQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBkdW9NRkFCdXR0b24gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2R1b21mYScsIF9jbGFzc1ByZWZpeCwgaGFuZGxlRHVvTUZBQ2xpY2spO1xuICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgZHVvTUZBQnV0dG9uLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIHR3b0ZBc2VjdXJpdHlxdWVzdGlvbkNvZGVGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdGlvbiAmJiAoKCFJc0VtYWlsT3RwQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1B1c2hEZXZpY2VSZWdpc3RlcmVkICYmICFJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzRHVvQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHx8IElzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCkpIHtcbiAgICAgICAgICAvLyB2YXIgX2lubmVySHRtbCA9ICBJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc0VtYWlsT3RwQXV0aGVudGljYXRvclZlcmlmaWVkIHx8IElzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkO1xuXG4gICAgICAgICAgdmFyIHNlY1FBdXRoZW50aWNhdG9yQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdzZWN1cml0eXF1ZXN0aW9uc2F1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaW5uZXJIVE1MID0gZmFsc2U7XG4gICAgICAgICAgICBjb21tb25GbnMuc2hvd01GQVNlY3VyaXR5UXVlc3Rpb25zKGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHNlY1FBdXRoZW50aWNhdG9yQnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIHR3b0ZBZ29vZ2xlYXV0aENvZGVGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnFyQ29kZUF1dGhlbnRpY2F0aW9uICYmICgoIUlzRW1haWxPdHBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzUHVzaERldmljZVJlZ2lzdGVyZWQgJiYgIUlzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzRHVvQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHx8IElzQXV0aGVudGljYXRvclZlcmlmaWVkKSkge1xuICAgICAgICAgIHZhciBxckNvZGVBdXRoZW50aWNhdG9yQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdnb29nbGVhdXRoZW50aWNhdG9yJywgX2NsYXNzUHJlZml4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IGZhbHNlO1xuICAgICAgICAgICAgY29tbW9uRm5zLnNob3dRUkNvZGUobG9naW5SZXNwb25zZSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgcXJDb2RlQXV0aGVudGljYXRvckJ0biwgX2lubmVySHRtbF8pO1xuICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciB0d29GQXNtc0NvZGVGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnNtc09UUEF1dGhlbnRpY2F0aW9uICYmICgoIUlzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCAmJiAhSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzRHVvQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHx8IElzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkKSkge1xuICAgICAgICAgIGlmIChsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLk9UUFBob25lTm8pIHtcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgc2VuZE9UUEJ0biwgX2lubmVySHRtbF8pO1xuICAgICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMucXJDb2RlQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMuZW1haWxPVFBBdXRoZW50aWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMucHVzaE5vdGlmaWNhdGlvbkF1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLmR1b0F1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLnBhc3NrZXlBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgdmFyIG90cEF1dGhuZXRpY2F0b3JCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ290cGF1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgY29tbW9uRm5zLnVwZGF0ZVBob25lTnVtYmVyID0gdXBkYXRlUGhvbmVOdW1iZXJBcGkgfHwgY29tbW9uRm5zLnVwZGF0ZVBob25lTnVtYmVyO1xuICAgICAgICAgICAgICBjb21tb25GbnMudXBkYXRlUGhvbmVOdW1iZXIoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgJycsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBvdHBBdXRobmV0aWNhdG9yQnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICBfaW5uZXJIdG1sXyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbW1vbkZucy51cGRhdGVQaG9uZU51bWJlciA9IHVwZGF0ZVBob25lTnVtYmVyQXBpIHx8IGNvbW1vbkZucy51cGRhdGVQaG9uZU51bWJlcjtcbiAgICAgICAgICAgIGNvbW1vbkZucy51cGRhdGVQaG9uZU51bWJlcihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCAnJywgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXG4gICAgICAgIH0gZWxzZSBpZiAoKCFJc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzUHVzaERldmljZVJlZ2lzdGVyZWQgJiYgIUlzQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc0VtYWlsT3RwQXV0aGVudGljYXRvclZlcmlmaWVkICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB8fCAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCAmJiAhSXNBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzRW1haWxPdHBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgKGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uT1RQUGhvbmVObyAhPT0gJycgJiYgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5PVFBQaG9uZU5vICE9IG51bGwpKSB8fCBJc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgICAgIF9jbGFzc1ByZWZpeCA9IF9jbGFzc1ByZWZpeCB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmNsYXNzUHJlZml4O1xuICAgICAgICAgIHZhciBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKF9jbGFzc1ByZWZpeCArICdzaG93UVJjb2RlJylbMF07XG5cbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucXJDb2RlQXV0aGVudGljYXRpb24gJiYgZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvcm1FbGVtZW50LmFwcGVuZENoaWxkKHNlbmRPVFBCdG4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciB0d29GQXB1c2hub3RpZmljYXRpb25GbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgaXNOb25NRkFFbmFibGVkID0gIUlzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzQXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc0R1b0F1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQYXNza2V5QXV0aGVudGljYXRvclZlcmlmaWVkICYmICFJc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb247XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wdXNoTm90aWZpY2F0aW9uQXV0aGVudGljYXRpb24gJiYgKGlzTm9uTUZBRW5hYmxlZCB8fCBJc1B1c2hEZXZpY2VSZWdpc3RlcmVkKSkge1xuICAgICAgICAgIGNvbnN0IHNlY29uZEZhY3RvclRva2VuID0gbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuO1xuICAgICAgICAgIHZhciBoYW5kbGVTdWNjZXNzID0gZnVuY3Rpb24gKF9yZXNwKSB7XG4gICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihfcmVzcCwgJycsIG9uU3VjY2Vzcywgb25FcnJvciwgJycsIHRydWUpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcXJDb2RlQXV0aGVudGljYXRvckJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgncHVzaG5vdGlmaWNhdGlvbicsIF9jbGFzc1ByZWZpeCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBtb2R1bGUudXRpbC5kaXNhYmxlUmVzZW5kT1RQQnV0dG9uKGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCAmJiBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uICYmIGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uUHVzaFFSQ29kZSkge1xuICAgICAgICAgICAgICBsZXQgcHVzaE5vdGlmaWNhdGlvblFSQ29kZTtcbiAgICAgICAgICAgICAgcHVzaE5vdGlmaWNhdGlvblFSQ29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uUVJDb2RlLnR5cGUgPSAnaW1hZ2UnO1xuICAgICAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uUVJDb2RlLnNyYyA9IGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uUHVzaFFSQ29kZTtcbiAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBwdXNoTm90aWZpY2F0aW9uUVJDb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYWZ0ZXJGb3JtUmVuZGVyJywgJ2xvZ2luJywgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tbW9uRm5zLnJlc2VuZFB1c2hOb3RpZmljYXRpb24oc2Vjb25kRmFjdG9yVG9rZW4sIGhhbmRsZVN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFJc1B1c2hEZXZpY2VSZWdpc3RlcmVkICYmIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50IDw9IDEgJiYgc2Vjb25kRmFjdG9yVG9rZW4pIHtcbiAgICAgICAgICAgICAgY29tbW9uRm5zLnBpbmdGb3JQdXNoTm90aWZpY2F0aW9uKHNlY29uZEZhY3RvclRva2VuLCBoYW5kbGVTdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaXNOb25NRkFFbmFibGVkICYmIElzUHVzaERldmljZVJlZ2lzdGVyZWQgJiYgTG9naW5SYWRpdXNEZWZhdWx0cy5waW5nQ291bnQgPD0gMSAmJiBzZWNvbmRGYWN0b3JUb2tlbikge1xuICAgICAgICAgICAgY29tbW9uRm5zLnBpbmdGb3JQdXNoTm90aWZpY2F0aW9uKHNlY29uZEZhY3RvclRva2VuLCBoYW5kbGVTdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBxckNvZGVBdXRoZW50aWNhdG9yQnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgdHdvRkFwYXNza2V5TUZBQ29kZUZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBzZWNvbmRGYWN0b3JUb2tlbiA9IGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbjtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBhc3NrZXlBdXRoZW50aWNhdGlvbiAmJiAoKCFJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCAmJiAhSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgIUlzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNEdW9BdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHx8IElzUGFzc2tleUF1dGhlbnRpY2F0b3JWZXJpZmllZCkpIHtcbiAgICAgICAgICB2YXIgcGFzc2tleUF1dGhCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ3Bhc3NrZXlhdXRoZW50aWNhdG9yJywgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHBhc3NrZXlBdXRoQnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIHBhc3NrZXlBdXRoQnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChJc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQpIHtcbiAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luTUZBUGFzc2tleShzZWNvbmRGYWN0b3JUb2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVNRkFQYXNza2V5KHNlY29uZEZhY3RvclRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgc2VuZE9UUEJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnb3RwYXV0aGVudGljYXRvcicsIF9jbGFzc1ByZWZpeCk7XG4gICAgICB2YXIgX2lubmVySHRtbF8gPSBmYWxzZTtcbiAgICAgIHZhciBhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyID0gbW9kdWxlLm9wdGlvbnMuYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcjtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyKSB7XG4gICAgICAgIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0pIHtcbiAgICAgICAgICBpZiAoYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAnZW1haWxvdHAnKSB7XG4gICAgICAgICAgICB0d29GQWVtYWlsb3RwQ29kZUZuKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdzbXMnKSB7XG4gICAgICAgICAgICB0d29GQXNtc0NvZGVGbigpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAnc2VjdXJpdHlxdWVzdGlvbicpIHtcbiAgICAgICAgICAgIHR3b0ZBc2VjdXJpdHlxdWVzdGlvbkNvZGVGbigpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAnYXV0aCcgfHwgYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAnZ29vZ2xlYXV0aCcpIHtcbiAgICAgICAgICAgIHR3b0ZBZ29vZ2xlYXV0aENvZGVGbigpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAncHVzaG5vdGlmaWNhdGlvbicpIHtcbiAgICAgICAgICAgIHR3b0ZBcHVzaG5vdGlmaWNhdGlvbkZuKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdkdW9tZmEnKSB7XG4gICAgICAgICAgICB0d29GQWR1b01GQUNvZGVGbigpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAncGFzc2tleScpIHtcbiAgICAgICAgICAgIHR3b0ZBcGFzc2tleU1GQUNvZGVGbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCB8fCBJc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc0R1b0F1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQpIHtcbiAgICAgICAgdmFyIGJhY2t1cENvZGVCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2JhY2t1cGNvZGVidXR0b24nLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGJhY2t1cENvZGVCdG4sIF9pbm5lckh0bWxfKTtcbiAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgYmFja3VwQ29kZUJ0biwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSBmYWxzZTtcbiAgICAgICAgICBzaG93QmFja3VwQ29kZUZvcm0oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgc2VuZE9UUEJ0biwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwaG9uZU5vID0gJ3Bob25lTm8yRkE9JyArIGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uT1RQUGhvbmVObztcbiAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSBmYWxzZTtcbiAgICAgICAgZW1haWxPdHAgPSBmYWxzZTtcbiAgICAgICAgaWYgKElzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc0F1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCBJc0VtYWlsT3RwQXV0aGVudGljYXRvclZlcmlmaWVkIHx8IElzUHVzaERldmljZVJlZ2lzdGVyZWQgfHwgSXNEdW9BdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgSXNQYXNza2V5QXV0aGVudGljYXRvclZlcmlmaWVkIHx8IF9zZW5kb3RwYXBpKSB7XG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUE1hbnVhbGx5KHBob25lTm8sIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBtb2R1bGUub3B0aW9ucy5pc1ZvaWNlT3RwKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dpblJlc3BvbnNlLnBob25lID0gbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5PVFBQaG9uZU5vO1xuICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XG4gICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAgPSByZXNlbmRPVFBBcGkgfHwgY29tbW9uRm5zLnJlc2VuZE9UUDtcbiAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChsb2dpblJlc3BvbnNlLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XG4gICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAobG9naW5SZXNwb25zZSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgbW9kdWxlLm9wdGlvbnMuaXNWb2ljZU90cCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgdXJsID0gTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMkZBLyc7XG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcbiAgICB2YXIgbWV0aG9kVHlwZSA9ICdwb3N0JztcbiAgICB2YXIgcG9zdEJvZHk7XG4gICAgaWYgKHdpbmRvd1snbHJiYWNrdXBjb2RlJ10pIHtcbiAgICAgIHVybCA9IHVybCArICdiYWNrdXBjb2RlJyArICc/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJicgKyBkYXRhO1xuICAgICAgbWV0aG9kVHlwZSA9ICdnZXQnO1xuICAgICAgcG9zdEJvZHkgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsID0gdXJsICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmbG9naW5Vcmw9JyArIG1vZHVsZS5vcHRpb25zLmxvZ2luVXJsICsgJyZlbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlICsgJyZ2ZXJpZmljYXRpb25Vcmw9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvblVybCArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlV2VsY29tZSArICcmc21zVGVtcGxhdGUyRkE9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBICsgJyZFbWFpbFRlbXBsYXRlMkZBPScgKyBtb2R1bGUub3B0aW9ucy5FbWFpbFRlbXBsYXRlMkZBO1xuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1b0F1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgIHZhciBlbmNvZGVkVXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KG1vZHVsZS5vcHRpb25zLmNhbGxiYWNrVXJsKTtcbiAgICAgICAgdXJsID0gdXJsICsgJyZkdW9yZWRpcmVjdHVyaT0nICsgZW5jb2RlZFVybDtcbiAgICAgIH1cbiAgICAgIHBvc3RCb2R5ID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB9XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwobWV0aG9kVHlwZSwgdXJsLCBwb3N0Qm9keSwgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcbiAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnLCBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnc3RheUxvZ2luJywgZGF0YSkpO1xuICAgICAgfVxuICAgICAgaWYgKGxvZ2luUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4gJiYgbG9naW5SZXNwb25zZS5FcnJvckNvZGUgPT0gJzEwNjYnKSB7XG4gICAgICAgICAgdmFyIHBob25ldG9WZXJpZnkgPSAncGhvbmU9JyArIG1vZHVsZS51dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdwaG9uZScsIGRhdGEpO1xuICAgICAgICAgIHBob25ldG9WZXJpZnkgKz0gJyZub1Bob25lVmVyaWZpZWQ9ZmFsc2UnO1xuICAgICAgICAgIG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAgPSB2ZXJpZnlPVFBBcGkgfHwgY29tbW9uRm5zLnZlcmlmeU9UUDtcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQID0gcmVzZW5kT1RQQXBpIHx8IGNvbW1vbkZucy5yZXNlbmRPVFA7XG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChwaG9uZXRvVmVyaWZ5LCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUChwaG9uZXRvVmVyaWZ5LCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBtb2R1bGUub3B0aW9ucy5pc1ZvaWNlT3RwLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGxvZ2luUmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuLCBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uVG9rZW4pO1xuICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkT1RQQXV0aCwgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCk7XG4gICAgICAgICAgaWYgKGxvZ2luUmVzcG9uc2UuYWNjZXNzX3Rva2VuID09PSAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJykge1xuICAgICAgICAgICAgaGFuZGxlMkZBUmVzcG9uc2UobG9naW5SZXNwb25zZSwgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbik7XG4gICAgICAgICAgICBkZWxldGUgbG9naW5SZXNwb25zZS5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICBvblN1Y2Nlc3MobG9naW5SZXNwb25zZSwgZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmhhbmRsZUZlYXR1cmVzKGxvZ2luUmVzcG9uc2UsIGRhdGEsIHJlcXVpcmVkRmllbGQsIHBhc3N3b3JkRXhwaXJ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZHVsZS5sckFwaUZyYW1ld29yaykge1xuICAgICAgICAgIG9uU3VjY2Vzcyhsb2dpblJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sICdsb2dpbicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNlbmRPVFBDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBob25lSWRcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgcmVjYXB0Y2hhIGh0bWwgY29udGFpbmVyIGRvbSBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBvdHAgcmVzZW5kIGZlYXR1cmUuIHdpbGwgcmVzZW5kIG90cCBvbiB1c2VyIHBob25lIGZvciBBdXRoZW50aWNhdGlvbi5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZW5kT1RQQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgaXNWb2ljZSkge1xuICAgIGxldCB2b2ljZVBhcmFtID0gJyc7XG4gICAgaWYgKGlzVm9pY2UpIHtcbiAgICAgIHZvaWNlUGFyYW0gPSAnJmlzdm9pY2VvdHA9dHJ1ZSc7XG4gICAgfVxuICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBkYXRhLnVwZGF0ZVBob25lID8gbW9kdWxlLm9wdGlvbnMuc21zVGVtcGxhdGVVcGRhdGVQaG9uZSA6IG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb247XG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bob25lL290cD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc21zVGVtcGxhdGU9JyArIHRlbXBsYXRlTmFtZSArIHZvaWNlUGFyYW07XG4gICAgdmFyIG1ldGhvZCA9ICdwb3N0JztcbiAgICBpZiAoZGF0YS5vbmV0b3VjaGxvZ2luZmxhZykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJykge1xuICAgICAgICBkYXRhID0gbW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgICB9XG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9vbmV0b3VjaGxvZ2luL3Bob25lP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyYnICsgZGF0YSArICcmc21zdGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb24gKyB2b2ljZVBhcmFtO1xuICAgIH1cbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbChtZXRob2QsIHVybCwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS5sb2coZGVmYXVsdE1lc3NhZ2VzWydvdHBTZW50J10pO1xuICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH0sIGlzVm9pY2UgPyAncmVzZW5kdm9pY2VvdHAnIDogJ3Jlc2VuZE9UUCcpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNlbmRPVFAyRkFDb250cm9sbGVyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGN1c3RvbWVyJ3MgcGhvbmUgbnVtYmVyIHVuZGVyIHRoZSBwaG9uZU5vMkZBIHBhcmFtZXRlci4gZS5nLiB7IHBob25lTm8yRkE6IFwieHh4eHh4eHh4eFwiIH1cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgcmVjYXB0Y2hhIGh0bWwgY29udGFpbmVyIGRvbSBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHJlc2VuZCB0aGUgT25lIFRpbWUgUGFzc2NvZGUgKE9UUCkgYnkgcGhvbmUgaWYgbmVlZGVkIGR1cmluZyBhIE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvbiBwcm9jZXNzLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5yZXNlbmRPVFAyRkFDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBpc1ZvaWNlKSB7XG4gICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgbGV0IHZvaWNlUGFyYW0gPSAnJztcbiAgICBpZiAoaXNWb2ljZSkge1xuICAgICAgdm9pY2VQYXJhbSA9ICcmaXN2b2ljZW90cD10cnVlJztcbiAgICB9XG4gICAgaWYgKHRva2VuICYmICFtb2R1bGUuTFJDaGVja0xvZ2luKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQSArIHZvaWNlUGFyYW0sIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZS5sb2coZGVmYXVsdE1lc3NhZ2VzWydvdHBTZW50J10pO1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGlzVm9pY2UgPyAncmVzZW5kdm9pY2VvdHAnIDogJ3Jlc2VuZE9UUCcpO1xuICAgIH0gZWxzZSBpZiAodHdvRmFjdG9yVG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yRkEvcmVzZW5kP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuPScgKyB0d29GYWN0b3JUb2tlbiArICcmc21zVGVtcGxhdGUyRkE9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBICsgdm9pY2VQYXJhbSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZS5sb2coZGVmYXVsdE1lc3NhZ2VzWydvdHBTZW50J10pO1xuICAgICAgICB9XG4gICAgICB9LCBpc1ZvaWNlID8gJ3Jlc2VuZHZvaWNlb3RwJyA6ICdyZXNlbmRPVFAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihbXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXG4gICAgICBdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHZlcmlmeTJGQU9UUENvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCB3aGljaCBoYXZlIG90cCByZWNlaXZlZCBvbiBjdXN0b21lciBwaG9uZSBudW1iZXIgZS5nLiB7IG90cDogXCJ4eHh4XCIgfVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBsb2dpbiB2aWEgTXVsdGktZmFjdG9yIGF1dGhlbnRpY2F0aW9uIGJ5IHBhc3NpbmcgdGhlIE9uZSBUaW1lIFBhc3N3b3JkIHJlY2VpdmVkIHZpYSBTTVMuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnZlcmlmeTJGQU9UUENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICB2YXIgdHdvRmFjdG9yVG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFR3b0ZBVG9rZW4pO1xuXG4gICAgdmFyIG1mYUVtYWlsVG9rZW4gPSBmYWxzZTtcbiAgICBpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1mYUVtYWlsVG9rZW4gPSBkYXRhLmluZGV4T2YoJ21mYUVtYWlsVG9rZW49dHJ1ZScpICE9PSAtMTtcbiAgICB9XG4gICAgdmFyIF9zZW5kRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgdmFyIF9tZmFBY3Rpb24gPSBtZmFFbWFpbFRva2VuID8gJ3R3b2ZhZW1haWxvdHAnIDogJ3R3b2Zhb3RwJztcbiAgICB2YXIgdHdvZmFWZXJpZnlBY3Rpb24gPSAnb3RwJztcbiAgICBpZiAobWZhRW1haWxUb2tlbikge1xuICAgICAgdHdvZmFWZXJpZnlBY3Rpb24gPSAnb3RwL2VtYWlsJztcbiAgICAgIF9zZW5kRGF0YS5lbWFpbGlkID0gX3NlbmREYXRhLmVtYWlsO1xuICAgICAgZGVsZXRlIF9zZW5kRGF0YS5lbWFpbDtcbiAgICB9IGVsc2UgaWYgKCdBdXRoZW50aWNhdG9yQ29kZScgaW4gX3NlbmREYXRhKSB7XG4gICAgICB0d29mYVZlcmlmeUFjdGlvbiA9ICdhdXRoZW50aWNhdG9yY29kZSc7XG4gICAgfVxuICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbikge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvMmZhL3ZlcmlmaWNhdGlvbi8nICsgdHdvZmFWZXJpZnlBY3Rpb24gKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuLCBfc2VuZERhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0sICd2ZXJpZnlPVFAjIycgKyBfbWZhQWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHR3b0ZhY3RvclRva2VuKSB7XG4gICAgICB2YXIgdGVtcGxhdGUgPSAnJztcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5yaXNrQmFzZWRBdXRoZW50aWNhdGlvbikge1xuICAgICAgICB0ZW1wbGF0ZSArPSAnJlJiYU9uZWNsaWNrRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhT25lY2xpY2tFbWFpbFRlbXBsYXRlICsgJyZSYmFPVFBTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhT1RQU21zVGVtcGxhdGUgKyAnJlJiYUNpdHlFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDaXR5RW1haWxUZW1wbGF0ZSArICcmUmJhQ291bnRyeUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNvdW50cnlFbWFpbFRlbXBsYXRlICsgJyZSYmFCcm93c2VyRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQnJvd3NlckVtYWlsVGVtcGxhdGUgKyAnJlJiYUlwRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhSXBFbWFpbFRlbXBsYXRlICsgJyZSYmFEZXZpY2VFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFEZXZpY2VFbWFpbFRlbXBsYXRlICsgJyZSYmFDaXR5U21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNpdHlTbXNUZW1wbGF0ZSArICcmUmJhQ291bnRyeVNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDb3VudHJ5U21zVGVtcGxhdGU7XG4gICAgICAgIHRlbXBsYXRlICs9ICcmUmJhQnJvd3NlclNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFCcm93c2VyU21zVGVtcGxhdGUgKyAnJlJiYUlwU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUlwU21zVGVtcGxhdGUgKyAnJlJiYURldmljZVNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFEZXZpY2VTbXNUZW1wbGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0d29mYVZlcmlmeUFjdGlvbiA9PT0gJ290cCcpIHtcbiAgICAgICAgdGVtcGxhdGUgKz0gJyZzbXNUZW1wbGF0ZTJGQT0nICsgbW9kdWxlLm9wdGlvbnMuc21zVGVtcGxhdGUyRkFXZWxjb21lO1xuICAgICAgfVxuICAgICAgaWYgKHR3b2ZhVmVyaWZ5QWN0aW9uID09PSAnYXV0aGVudGljYXRvcmNvZGUnKSB7XG4gICAgICAgIF9tZmFBY3Rpb24gPSAnc2hvd3FyY29kZSc7XG4gICAgICB9XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMmZhL3ZlcmlmaWNhdGlvbi8nICsgdHdvZmFWZXJpZnlBY3Rpb24gKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuPScgKyB0d29GYWN0b3JUb2tlbiArIHRlbXBsYXRlLCBfc2VuZERhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmhhbmRsZUZlYXR1cmVzKHJlc3BvbnNlLCBkYXRhLCByZXF1aXJlZEZpZWxkLCBwYXNzd29yZEV4cGlyeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3ZlcmlmeU9UUCMjJyArIF9tZmFBY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKFtcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gYmFja3VwQ29kZUNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBiYWNrdXAgY29kZSBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gbG9naW4gYnkgdXNpbmcgYmFja3VwIGNvZGUuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmJhY2t1cENvZGVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcbiAgICB2YXIgdHdvRmFjdG9yVG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFR3b0ZBVG9rZW4pO1xuICAgIGlmICh0d29GYWN0b3JUb2tlbikge1xuICAgICAgdmFyIHBhcnNlZERhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgdmFyIHRlbXBsYXRlID0gJyc7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMucmlza0Jhc2VkQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgdGVtcGxhdGUgKz0gJyZSYmFPbmVjbGlja0VtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYU9uZWNsaWNrRW1haWxUZW1wbGF0ZSArICcmUmJhT1RQU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYU9UUFNtc1RlbXBsYXRlICsgJyZSYmFDaXR5RW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ2l0eUVtYWlsVGVtcGxhdGUgKyAnJlJiYUNvdW50cnlFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDb3VudHJ5RW1haWxUZW1wbGF0ZSArICcmUmJhQnJvd3NlckVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlICsgJyZSYmFJcEVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUlwRW1haWxUZW1wbGF0ZSArICcmUmJhRGV2aWNlRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhRGV2aWNlRW1haWxUZW1wbGF0ZSArICcmUmJhQ2l0eVNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDaXR5U21zVGVtcGxhdGUgKyAnJlJiYUNvdW50cnlTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ291bnRyeVNtc1RlbXBsYXRlO1xuICAgICAgICB0ZW1wbGF0ZSArPSAnJlJiYUJyb3dzZXJTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQnJvd3NlclNtc1RlbXBsYXRlICsgJyZSYmFJcFNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFJcFNtc1RlbXBsYXRlICsgJyZSYmFEZXZpY2VTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhRGV2aWNlU21zVGVtcGxhdGU7XG4gICAgICB9XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMkZBL3ZlcmlmaWNhdGlvbi9iYWNrdXBjb2RlP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuPScgKyB0d29GYWN0b3JUb2tlbiArICcmc21zVGVtcGxhdGUyRkE9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBV2VsY29tZSArIHRlbXBsYXRlLCBwYXJzZWREYXRhLCBmdW5jdGlvbiAoYmFja3VwQ29kZXJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChiYWNrdXBDb2RlcmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihiYWNrdXBDb2RlcmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5oYW5kbGVGZWF0dXJlcyhiYWNrdXBDb2RlcmVzcG9uc2UsIGRhdGEsIHJlcXVpcmVkRmllbGQsIHBhc3N3b3JkRXhwaXJ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCAnbG9naW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihbXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXG4gICAgICBdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHBhc3NrZXlMb2dpbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBudW1iZXIgc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIGNoZWNrIHByb3ZpZGVkIHBob25lIG51bWJlciBhbHJlYWR5IHVzZWQgb3IgbmV3IHBob25lIG51bWJlci5cbiAgICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnBhc3NrZXlMb2dpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgcGF5bG9hZCA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcbiAgICB2YXIgdGVtcGxhdGUgPSAnZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25Vcmw7XG4gICAgbGV0IHVybCA9ICcnO1xuICAgIGlmIChwYXlsb2FkLmF1dG9maWxsKSB7XG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNza2V5L2F1dG9maWxsL2JlZ2luP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5O1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNza2V5L2JlZ2luP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZpZGVudGlmaWVyPScgKyBwYXlsb2FkLmVtYWlsICsgJyYnICsgdGVtcGxhdGU7XG4gICAgfVxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCB1cmwsIHt9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kdWxlLnV0aWwuZ2V0UGFzc0tleUNyZWRlbnRpYWxzKHJlc3BvbnNlLkxvZ2luQmVnaW5DcmVkZW50aWFsLCBwYXlsb2FkLmF1dG9maWxsKS50aGVuKChhc3NlcnRpb24pID0+IHtcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5wYXNza2V5RmluaXNoQ29udHJvbGxlcihhc3NlcnRpb24sIHRlbXBsYXRlLCBwYXlsb2FkLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoZXJyb3IpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29udHJvbGxlcnNNb2R1bGUucGFzc2tleUZpbmlzaENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uLCB0ZW1wbGF0ZSwgcGF5bG9hZCwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBsZXQgYXV0aERhdGEgPSBhc3NlcnRpb24ucmVzcG9uc2UuYXV0aGVudGljYXRvckRhdGE7XG4gICAgbGV0IGNsaWVudERhdGFKU09OID0gYXNzZXJ0aW9uLnJlc3BvbnNlLmNsaWVudERhdGFKU09OO1xuICAgIGxldCByYXdJZCA9IGFzc2VydGlvbi5yYXdJZDtcbiAgICBsZXQgc2lnID0gYXNzZXJ0aW9uLnJlc3BvbnNlLnNpZ25hdHVyZTtcbiAgICBsZXQgdXNlckhhbmRsZSA9IGFzc2VydGlvbi5yZXNwb25zZS51c2VySGFuZGxlO1xuICAgIGNvbnN0IHBhc3NLZXlQYXlsb2FkID0ge1xuICAgICAgZW1haWw6IHBheWxvYWQuZW1haWwsXG4gICAgICBQYXNza2V5Q3JlZGVudGlhbDoge1xuICAgICAgICBpZDogYXNzZXJ0aW9uLmlkLFxuICAgICAgICByYXdJZDogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKHJhd0lkKSxcbiAgICAgICAgdHlwZTogYXNzZXJ0aW9uLnR5cGUsXG4gICAgICAgIGF1dGhlbnRpY2F0b3JBdHRhY2htZW50OiBhc3NlcnRpb24uYXV0aGVudGljYXRvckF0dGFjaG1lbnQsXG4gICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgYXV0aGVudGljYXRvckRhdGE6IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShhdXRoRGF0YSksXG4gICAgICAgICAgY2xpZW50RGF0YUpTT046IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjbGllbnREYXRhSlNPTiksXG4gICAgICAgICAgc2lnbmF0dXJlOiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUoc2lnKSxcbiAgICAgICAgICB1c2VySGFuZGxlOiBtb2R1bGUudXRpbC5iYXNlNjRVcmxFbmNvZGUodXNlckhhbmRsZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnJpc2tCYXNlZEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICB0ZW1wbGF0ZSArPSAnJlJiYU9uZWNsaWNrRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhT25lY2xpY2tFbWFpbFRlbXBsYXRlICsgJyZSYmFPVFBTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhT1RQU21zVGVtcGxhdGUgKyAnJlJiYUNpdHlFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDaXR5RW1haWxUZW1wbGF0ZSArICcmUmJhQ291bnRyeUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNvdW50cnlFbWFpbFRlbXBsYXRlICsgJyZSYmFCcm93c2VyRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQnJvd3NlckVtYWlsVGVtcGxhdGUgKyAnJlJiYUlwRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhSXBFbWFpbFRlbXBsYXRlICsgJyZSYmFEZXZpY2VFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFEZXZpY2VFbWFpbFRlbXBsYXRlICsgJyZSYmFDaXR5U21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNpdHlTbXNUZW1wbGF0ZSArICcmUmJhQ291bnRyeVNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDb3VudHJ5U21zVGVtcGxhdGU7XG4gICAgICB0ZW1wbGF0ZSArPSAnJlJiYUJyb3dzZXJTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQnJvd3NlclNtc1RlbXBsYXRlICsgJyZSYmFJcFNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFJcFNtc1RlbXBsYXRlICsgJyZSYmFEZXZpY2VTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhRGV2aWNlU21zVGVtcGxhdGU7XG4gICAgfVxuICAgIGxldCB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNza2V5L2ZpbmlzaD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmbG9naW5Vcmw9JyArIG1vZHVsZS5vcHRpb25zLmxvZ2luVXJsICsgJyYnICsgdGVtcGxhdGU7XG4gICAgaWYgKHBheWxvYWQuYXV0b2ZpbGwpIHtcbiAgICAgIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bhc3NrZXkvYXV0b2ZpbGwvZmluaXNoP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZsb2dpblVybD0nICsgbW9kdWxlLm9wdGlvbnMubG9naW5Vcmw7XG4gICAgfVxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgdXJsLCBwYXNzS2V5UGF5bG9hZCwgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcbiAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnLCBwYXlsb2FkWydzdGF5TG9naW4nXSk7XG4gICAgICB9XG4gICAgICBpZiAobG9naW5SZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICBpZiAobG9naW5SZXNwb25zZS5FcnJvckNvZGUgPT0gJzk3MCcgJiYgIW1vZHVsZS5vcHRpb25zLnZlcmlmeUVtYWlsQnlPVFApIHtcbiAgICAgICAgICBjb21tb25GbnMub3RwRW1haWxWZXJpZmljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGF5bG9hZCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICB9XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IobG9naW5SZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMobG9naW5SZXNwb25zZSwgcGF5bG9hZCwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCAnbG9naW4nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gcGFzc2tleVJlZ2lzdHJhdGlvbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSB0aGUgZm9ybSBwb3N0IGRhdGFcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gY2hlY2sgcHJvdmlkZWQgcGhvbmUgbnVtYmVyIGFscmVhZHkgdXNlZCBvciBuZXcgcGhvbmUgbnVtYmVyLlxuICAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucGFzc2tleVJlZ2lzdHJhdGlvbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc2tleVNjaGVtYSkge1xuICAgIGNvbnN0IGVtYWlsVmFsdWUgPSBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnZW1haWwnLCBkYXRhKTtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcmVnaXN0ZXIvcGFzc2tleS9iZWdpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmaWRlbnRpZmllcj0nICsgZW1haWxWYWx1ZSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS51dGlsLmNyZWF0ZVBhc3NLZXlDcmVkZW50aWFscyhyZXNwb25zZS5SZWdpc3RlckJlZ2luQ3JlZGVudGlhbCkudGhlbigoY3JlZGVudGlhbCkgPT4ge1xuICAgICAgICAgIGxldCBib2R5ID0ge307XG4gICAgICAgICAgaWYgKCFtb2R1bGUubHJBcGlGcmFtZXdvcmspIHtcbiAgICAgICAgICAgIGJvZHkgPSBjb21tb25GbnMubWFwUmVnaXN0cmF0aW9uU2NoZW1hKHBhc3NrZXlTY2hlbWEsIGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2R5WydQYXNza2V5Q3JlZGVudGlhbCddID0ge1xuICAgICAgICAgICAgaWQ6IGNyZWRlbnRpYWwuaWQsXG4gICAgICAgICAgICByYXdJZDogbW9kdWxlLnV0aWwuYmFzZTY0VXJsRW5jb2RlKGNyZWRlbnRpYWwucmF3SWQpLFxuICAgICAgICAgICAgdHlwZTogY3JlZGVudGlhbC50eXBlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgYXR0ZXN0YXRpb25PYmplY3Q6IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjcmVkZW50aWFsLnJlc3BvbnNlLmF0dGVzdGF0aW9uT2JqZWN0KSxcbiAgICAgICAgICAgICAgY2xpZW50RGF0YUpTT046IG1vZHVsZS51dGlsLmJhc2U2NFVybEVuY29kZShjcmVkZW50aWFsLnJlc3BvbnNlLmNsaWVudERhdGFKU09OKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIF93ZWxjb21lZW1haWx0ZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlO1xuICAgICAgICAgIHZhciB3ZWxjb21lZW1haWx0ZW1wbGF0ZSA9IG1vZHVsZS51dGlsLmdldEhhc2hQYXJhbSgnd2VsY29tZWVtYWlsdGVtcGxhdGUnKTtcbiAgICAgICAgICBpZiAod2VsY29tZWVtYWlsdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIF93ZWxjb21lZW1haWx0ZW1wbGF0ZSA9IHdlbGNvbWVlbWFpbHRlbXBsYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdGVtcGxhdGUgPSAnZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBfd2VsY29tZWVtYWlsdGVtcGxhdGU7XG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnByZXZlbnRWZXJpZmljYXRpb25FbWFpbCkge1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZSArICcmb3B0aW9ucz1QcmV2ZW50VmVyaWZpY2F0aW9uRW1haWwnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3Rlci9wYXNza2V5L2ZpbmlzaD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIHRlbXBsYXRlO1xuICAgICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgdXJsLCBib2R5LCBmdW5jdGlvbiAocmVnUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9iakRhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlICYmIG1vZHVsZS51dGlsLmlzT2JqZWN0KHJlZ1Jlc3BvbnNlKSkge1xuICAgICAgICAgICAgICByZWdSZXNwb25zZSA9IG1vZHVsZS51dGlsLmtleXNsb3dlclRvVXBwZXJDYW1lbENhc2UocmVnUmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlZ1Jlc3BvbnNlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgYWRkU2tpcEZpZWxkaW5TY2hlbWEgPSBmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnc2tpcCcsXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnU2tpcCcsXG4gICAgICAgICAgICAgICAgICBydWxlczogJycsXG4gICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAncicsXG4gICAgICAgICAgICAgICAgICBldmVudDogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZWdSZXNwb25zZSwgb2JqRGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChyZWdSZXNwb25zZS5EYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZWdSZXNwb25zZSA9IHJlZ1Jlc3BvbnNlLkRhdGE7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgcmVnUmVzcG9uc2UuRGF0YTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZWdSZXNwb25zZS5Jc1Bvc3RlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kdWxlLm9wdGlvbnMuYXNrUmVxdWlyZWRGaWVsZEZvclRyYWRpdGlvbmFsTG9naW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gJiYgY29tbW9uRm5zLnNob3dPVFBUZW1wbGF0ZUZvcm0oJ1JlZ2lzdHJhdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdiZWZvcmVGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ290cCcgJiYgIW1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3NraXAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFkZFNraXBGaWVsZGluU2NoZW1hKHNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgdmFyIF9vblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZWdSZXNwb25zZSwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5vdHBFbWFpbFZlcmlmaWNhdGlvbihjb250YWluZXIsIF9vblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgb2JqRGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlZ1Jlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gY29udHJvbGxlcnNNb2R1bGUubG9naW5Db250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBmdW5jdGlvbigpIHt9LCBmdW5jdGlvbigpIHt9LCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZWdSZXNwb25zZSwgb2JqRGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vbkZucy5zaG93T1RQVGVtcGxhdGVGb3JtKCdSZWdpc3RyYXRpb24nKSkge1xuICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLm90cEVtYWlsVmVyaWZpY2F0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIG9iakRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sICdyZWdpc3RyYXRpb24nKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihlcnJvcikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCAncGFzc2tleVJlZ2lzdGVyJyk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHlDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgcGhvbmUgbnVtYmVyIHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBjaGVjayBwcm92aWRlZCBwaG9uZSBudW1iZXIgYWxyZWFkeSB1c2VkIG9yIG5ldyBwaG9uZSBudW1iZXIuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHlDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waG9uZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGEsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCAnY2hlY2tQaG9uZScpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiB1cGRhdGUyRkFQaG9uZU51bWJlckNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBpZCBqc29uIG9iamVjdCBzdHJpbmdcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gdmVyaWZ5T1RQQXBpIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzZW5kT1RQQXBpIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHVwZGF0ZSBleGlzdGluZyBwaG9uZSBudW1iZXIgaW4gMkZBLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGUyRkFQaG9uZU51bWJlckNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIHZlcmlmeU9UUEFwaSwgcmVzZW5kT1RQQXBpKSB7XG4gICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKHRva2VuICYmICFtb2R1bGUuTFJDaGVja0xvZ2luKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUCA9IHZlcmlmeU9UUEFwaSB8fCBjb21tb25GbnMudmVyaWZ5T1RQO1xuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAgPSByZXNlbmRPVFBBcGkgfHwgY29tbW9uRm5zLnJlc2VuZE9UUDtcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIG1vZHVsZS5vcHRpb25zLmlzVm9pY2VPdHAsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9LCAndXBkYXRlUGhvbmUnKTtcbiAgICB9IGVsc2UgaWYgKHR3b0ZhY3RvclRva2VuKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMkZBLz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbj0nICsgdHdvRmFjdG9yVG9rZW4gKyAnJnNtc1RlbXBsYXRlMkZBPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUCA9IHJlc2VuZE9UUEFwaSB8fCBjb21tb25GbnMucmVzZW5kT1RQO1xuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgbW9kdWxlLm9wdGlvbnMuaXNWb2ljZU90cCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xuICAgICAgICB9XG4gICAgICB9LCAnbG9naW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihbXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXG4gICAgICBdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHVwZGF0ZVBob25lTnVtYmVyQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHBob25lIGlkIGpzb24gb2JqZWN0IHN0cmluZ1xuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB2ZXJpZnlPVFBBcGkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNlbmRPVFBBcGkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gdXBkYXRlIGV4aXN0aW5nIHBob25lIG51bWJlciBkdXJpbmcgbG9naW4gcHJvY2Vzcy5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUudXBkYXRlUGhvbmVOdW1iZXJDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCB2ZXJpZnlPVFBBcGksIHJlc2VuZE9UUEFwaSkge1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBpZiAoY29tbW9uRm5zLmlzVmFsaWRUb2tlbih0b2tlbiwgb25FcnJvcikpIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waG9uZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlVXBkYXRlUGhvbmUsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAgPSB2ZXJpZnlPVFBBcGkgfHwgY29tbW9uRm5zLnZlcmlmeU9UUDtcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQID0gcmVzZW5kT1RQQXBpIHx8IGNvbW1vbkZucy5yZXNlbmRPVFA7XG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhICsgJyZoYXZlVG9rZW49dHJ1ZScsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcblxuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAoZGF0YSArICcmdXBkYXRlUGhvbmU9dHJ1ZScsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIG1vZHVsZS5vcHRpb25zLmlzVm9pY2VPdHAsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCB0cnVlKTtcblxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0sICd1cGRhdGVQaG9uZScpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5UGhvbmVDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgcGhvbmUgaWQganNvbiBvYmplY3Qgc3RyaW5nXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byByZXNldCBhY2NvdW50IGxvZ2luIHBhc3N3b3JkIGJ5IHVzaW5nIHBob25lIGlkLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5yZXNldFBhc3N3b3JkQnlQaG9uZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9wYXNzd29yZC9vdHA/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWUsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMubG9naW5PblBhc3N3b3JkUmVzZXQgJiYgcmVzcG9uc2UuRGF0YSAmJiByZXNwb25zZS5EYXRhLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlLkRhdGEsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAncmVzZXRQYXNzd29yZCcpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNldFBJTkJ5UGhvbmVDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgcGhvbmUgaWQganNvbiBvYmplY3Qgc3RyaW5nXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byByZXNldCBhY2NvdW50IGxvZ2luIHBpbiBieSB1c2luZyBwaG9uZSBpZC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZXRQSU5CeVBob25lQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bpbi9yZXNldC9vdHAvcGhvbmU/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWUsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UsIGRhdGEpO1xuICAgICAgfVxuICAgIH0sICdyZXNldFBJTicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgcGhvbmUgaWQganNvbiBvYmplY3Qgc3RyaW5nXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc2V0UGFzc3dvcmRBcGkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gc2V0IG5ldyBwYXNzd29yZCBvbiBmb3Jnb3QgcGFzc3dvcmQgb3B0aW9uIGJ5IHVzaW5nIHVzaW5nIHBob25lIGlkLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5mb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGlzVm9pY2UsIHJlc2V0UGFzc3dvcmRBcGkpIHtcbiAgICBsZXQgdm9pY2VQYXJhbSA9ICcnO1xuICAgIGlmIChpc1ZvaWNlKSB7XG4gICAgICB2b2ljZVBhcmFtID0gJyZpc3ZvaWNlb3RwPXRydWUnO1xuICAgIH1cbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3N3b3JkL290cD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlRm9yZ290ICsgdm9pY2VQYXJhbSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XG4gICAgICAgIHZhciByZXNldFBhc3N3b3JkID0gcmVzZXRQYXNzd29yZEFwaSB8fCBjb21tb25GbnMucmVzZXRQYXNzd29yZDtcbiAgICAgICAgcmVzZXRQYXNzd29yZChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCAnZm9yZ290UGFzc3dvcmQnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gZm9yZ290UElOYnlQaG9uZUNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBpZCBqc29uIG9iamVjdCBzdHJpbmdcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzZXRQSU5BcGkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gc2V0IG5ldyBQSU4gb24gZm9yZ290IFBJTiBvcHRpb24gYnkgdXNpbmcgdXNpbmcgcGhvbmUgaWQuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmZvcmdvdFBJTmJ5UGhvbmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGlzVm9pY2UsIHJlc2V0UElOQXBpKSB7XG4gICAgbGV0IHZvaWNlUGFyYW0gPSAnJztcbiAgICBpZiAoaXNWb2ljZSkge1xuICAgICAgdm9pY2VQYXJhbSA9ICcmaXN2b2ljZW90cD10cnVlJztcbiAgICB9XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waW4vZm9yZ290L290cD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlRm9yZ290ICsgdm9pY2VQYXJhbSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XG4gICAgICAgIHZhciByZXNldFBJTiA9IHJlc2V0UElOQXBpIHx8IGNvbW1vbkZucy5yZXNldFBJTjtcbiAgICAgICAgcmVzZXRQSU4oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICB9XG4gICAgfSwgJ2ZvcmdvdFBJTicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZWdpc3RyYXRpb25Db250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIGZvciBFeC4gXCJwYXNzd29yZD1YWDMyWFhYJmVtYWlsPVhYWC5sMzQzJTQwbWFpbGF6eS5jb21cIlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAcGFyYW0ge0FycmF5fSByZWdTY2hlbWEgcmVnIGZvcm0gZmllbGRzIGpzb24gb2JqZWN0cyBhcnJheVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHZlcmlmeU9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc2VuZE9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHVzZXIgYWNjb3VudCByZWdpc3RyYXRpb24gcHJvY2Vzcy5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVnaXN0cmF0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCByZWdTY2hlbWEsIHZlcmlmeU9UUEFwaSwgcmVzZW5kT1RQQXBpKSB7XG4gICAgbW9kdWxlLkxSQ2hlY2tSZWdpc3RyYXRpb24gPSB0cnVlO1xuICAgIHZhciByZWdpc3RyYXRpb25EYXRhID0gZGF0YTtcbiAgICBpZiAoIW1vZHVsZS5sckFwaUZyYW1ld29yaykge1xuICAgICAgcmVnaXN0cmF0aW9uRGF0YSA9IGNvbW1vbkZucy5tYXBSZWdpc3RyYXRpb25TY2hlbWEocmVnU2NoZW1hLCBkYXRhKTtcbiAgICB9XG4gICAgdmFyIF93ZWxjb21lZW1haWx0ZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlO1xuICAgIHZhciB3ZWxjb21lZW1haWx0ZW1wbGF0ZSA9IG1vZHVsZS51dGlsLmdldEhhc2hQYXJhbSgnd2VsY29tZWVtYWlsdGVtcGxhdGUnKTtcbiAgICBpZiAod2VsY29tZWVtYWlsdGVtcGxhdGUpIHtcbiAgICAgIF93ZWxjb21lZW1haWx0ZW1wbGF0ZSA9IHdlbGNvbWVlbWFpbHRlbXBsYXRlO1xuICAgIH1cbiAgICAvLyB2YXIgcmVnaXN0cmF0aW9uRGF0YSA9IGNvbW1vbkZucy5tYXBSZWdpc3RyYXRpb25TY2hlbWEocmVnU2NoZW1hLCBkYXRhKTtcbiAgICB2YXIgdGVtcGxhdGUgPSAnZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBfd2VsY29tZWVtYWlsdGVtcGxhdGU7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4pIHtcbiAgICAgIHRlbXBsYXRlICs9ICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb247XG4gICAgfVxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5wcmV2ZW50VmVyaWZpY2F0aW9uRW1haWwpIHtcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUgKyAnJm9wdGlvbnM9UHJldmVudFZlcmlmaWNhdGlvbkVtYWlsJztcbiAgICB9XG4gICAgdmFyIGludml0YXRpb24gPSBtb2R1bGUudXRpbC5nZXRIYXNoUGFyYW0oJ2ludml0YXRpb24nKTtcbiAgICB2YXIgaW52aXRhdGlvblZhbHVlID0gJyc7XG4gICAgaWYgKGludml0YXRpb24gJiYgbW9kdWxlLm9wdGlvbnMuaXNCMkJFbmFibGVkKSB7XG4gICAgICBpbnZpdGF0aW9uVmFsdWUgPSBpbnZpdGF0aW9uLnRyaW0oKTtcbiAgICB9XG4gICAgaWYgKGludml0YXRpb25WYWx1ZSkge1xuICAgICAgdGVtcGxhdGUgKz0gJyZpbnZpdGF0aW9uPScgKyBpbnZpdGF0aW9uVmFsdWU7XG4gICAgfVxuICAgIHZhciB1cmwgPSAnJztcbiAgICBsZXQgaXNHb29nbGVDYXB0Y2hFbmFibGVkID0gbW9kdWxlLm9wdGlvbnMuaXNDYXB0Y2hhRW5hYmxlZCB8fCBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSB8fCBtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGE7XG4gICAgaWYgKGlzR29vZ2xlQ2FwdGNoRW5hYmxlZCB8fCBtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYSkge1xuICAgICAgdXJsID0gTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcmVnaXN0ZXIvY2FwdGNoYT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIHRlbXBsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLnNvdHQpIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnZOZXh0VVgpIHtcbiAgICAgICAgICBtb2R1bGUubG9nKCdTT1RUIGNvbW1vbk9wdGlvbiBpcyBtaXNzaW5nIGluIGNvbmZpZ3VyYXRpb24uIFlvdSBjYW4gdXNlIGEgc3RhdGljIFNPVFQgZ2VuZXJhdGVkIGZyb20gQWRtaW4gQ29uc29sZSBvciBjcmVhdGUgaXQgYXQgcnVuLXRpbWUgdXNpbmcgdGhlIEFQSS4gRm9yIG1vcmUgZGV0YWlscyBvbiBTT1RUIGdlbmVyYXRpb24sIHBsZWFzZSByZWZlciB0byBodHRwczovL3d3dy5sb2dpbnJhZGl1cy5jb20vZG9jcy9hcGkvdjIvY3VzdG9tZXItaWRlbnRpdHktYXBpL3NvdHQtdXNhZ2UvLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZS5sb2coJ3VybCBpcyBub3Qgc2V0IGFzIHNvdHQgb3B0aW9uIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3JlZ2lzdGVyP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyYnICsgdGVtcGxhdGU7XG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5lbmFibGVIZWFkZXJTb3R0KSB7XG4gICAgICAgICAgbW9kdWxlLm9wdGlvbnMuc290dCA9IGRlY29kZVVSSUNvbXBvbmVudChtb2R1bGUub3B0aW9ucy5zb3R0KTtcbiAgICAgICAgICByZWdpc3RyYXRpb25EYXRhLnNvdHRjaGVjayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsICs9ICcmc290dD0nICsgbW9kdWxlLnV0aWwuZW5jb2RlZFN0cmluZyhtb2R1bGUub3B0aW9ucy5zb3R0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cmwgIT09ICcnKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIHVybCwgcmVnaXN0cmF0aW9uRGF0YSwgZnVuY3Rpb24gKHJlZ1Jlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZWdSZXNwb25zZSAmJiBtb2R1bGUudXRpbC5pc09iamVjdChyZWdSZXNwb25zZSkpIHtcbiAgICAgICAgICByZWdSZXNwb25zZSA9IG1vZHVsZS51dGlsLmtleXNsb3dlclRvVXBwZXJDYW1lbENhc2UocmVnUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWdSZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICAgIGlmIChyZWdSZXNwb25zZS5FcnJvckNvZGUgPT09IDEwNDkpIHtcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52TmV4dFVYKSB7XG4gICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlc1snaW52YWxpZFNvdHQnXSA9ICdBbiBlcnJvciBvY2N1cnJlZCwgcGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgdG8gcHJvY2VlZCB3aXRoIHJlZ2lzdHJhdGlvbi4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25FcnJvcihbXG4gICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snaW52YWxpZFNvdHQnXSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbW9kdWxlLmxvZyhyZWdSZXNwb25zZS5EZXNjcmlwdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGFkZFNraXBGaWVsZGluU2NoZW1hID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgICAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgbmFtZTogJ3NraXAnLFxuICAgICAgICAgICAgICBkaXNwbGF5OiAnU2tpcCcsXG4gICAgICAgICAgICAgIHJ1bGVzOiAnJyxcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ3InLFxuICAgICAgICAgICAgICBldmVudDogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVnUmVzcG9uc2UsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnIHx8IGRhdGEgaW5zdGFuY2VvZiBTdHJpbmcpICYmIGRhdGEuaW5kZXhPZigncGhvbmVpZCcpICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIHBob25lU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbmFtZScsICdwaG9uZWlkJyk7XG4gICAgICAgICAgICBpZiAocGhvbmVTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYmVmb3JlRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ290cCcgJiYgIW1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3NraXAnKSkge1xuICAgICAgICAgICAgICAgICAgYWRkU2tpcEZpZWxkaW5TY2hlbWEoc2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUCA9IHZlcmlmeU9UUEFwaSB8fCBjb21tb25GbnMudmVyaWZ5T1RQO1xuICAgICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUCA9IHJlc2VuZE9UUEFwaSB8fCBjb21tb25GbnMucmVzZW5kT1RQO1xuICAgICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgbW9kdWxlLm9wdGlvbnMuaXNWb2ljZU90cCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwYXJzZURhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbiB8fCBpbnZpdGF0aW9uVmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkRhdGEpIHtcbiAgICAgICAgICAgICAgICByZWdSZXNwb25zZSA9IHJlZ1Jlc3BvbnNlLkRhdGE7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlZ1Jlc3BvbnNlLkRhdGE7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlZ1Jlc3BvbnNlLklzUG9zdGVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1vZHVsZS5vcHRpb25zLmFza1JlcXVpcmVkRmllbGRGb3JUcmFkaXRpb25hbExvZ2luID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmICghbW9kdWxlLm9wdGlvbnMuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiAmJiBjb21tb25GbnMuc2hvd09UUFRlbXBsYXRlRm9ybSgnUmVnaXN0cmF0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdiZWZvcmVGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdvdHAnICYmICFtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdza2lwJykpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2tpcEZpZWxkaW5TY2hlbWEoc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVnUmVzcG9uc2UsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5vdHBFbWFpbFZlcmlmaWNhdGlvbihjb250YWluZXIsIF9vblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFyc2VEYXRhKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZWdSZXNwb25zZSwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBjb250cm9sbGVyc01vZHVsZS5sb2dpbkNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGZ1bmN0aW9uKCkge30sIGZ1bmN0aW9uKCkge30sIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UsIHBhcnNlRGF0YSk7XG4gICAgICAgICAgICAgIGlmIChjb21tb25GbnMuc2hvd09UUFRlbXBsYXRlRm9ybSgnUmVnaXN0cmF0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMub3RwRW1haWxWZXJpZmljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFyc2VEYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgJ3JlZ2lzdHJhdGlvbicpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gcGVyaW9kaWNhbFBhc3N3b3JkUmVzdENvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge09iamVjdH0gcmVzZXREYXRhIGpzb24gb2JqZWN0XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IHVzZXJQcm9maWxlIHVzZXIgcHJvZmlsZSBqc29uIGRhdGEgb2JqZWN0XG4gICogQHBhcmFtIHtPYmplY3R9IGxvZ2luUmVzcG9uc2UgYWNjb3VudCBsb2dpbiBzZXJ2aWNlIHJlc3BvbnNlIGpzb24gb2JqZWN0XG4gICogQHBhcmFtIHtPYmplY3R9IGxvZ2luRGF0YSBsb2dpbiBjcmVkZW50aWFscyBvYmplY3RcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gcmVzZXQgcGVyaW9kaWNhbCBwYXNzd29yZCBhbmQgbG9naW4gdGhlIGFjY291bnQuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnBlcmlvZGljYWxQYXNzd29yZFJlc3RDb250cm9sbGVyID0gZnVuY3Rpb24gKHJlc2V0RGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCB1c2VyUHJvZmlsZSwgbG9naW5SZXNwb25zZSwgbG9naW5EYXRhKSB7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3N3b3JkL2NoYW5nZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBsb2dpblJlc3BvbnNlLmFjY2Vzc190b2tlbiwgcmVzZXREYXRhLCBmdW5jdGlvbiAocmVzZXRQYXNzd29yZFJlZW9uc2UpIHtcbiAgICAgIGlmIChyZXNldFBhc3N3b3JkUmVlb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNldFBhc3N3b3JkUmVlb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4obG9naW5SZXNwb25zZSwgbG9naW5EYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfVxuICAgIH0sICdwZXJpb2RpY1Bhc3N3b3JkJyk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBjaGFuZ2UgZXhpc3RpbmcgdXNlciBhY2NvdW50IHBhc3N3b3JkLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5jaGFuZ2VQYXNzd29yZENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3N3b3JkL2NoYW5nZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksIGRhdGEsIGZ1bmN0aW9uIChjaGFuZ2VQYXNzd29yZFJlc3BvbnNlKSB7XG4gICAgICBpZiAoY2hhbmdlUGFzc3dvcmRSZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihjaGFuZ2VQYXNzd29yZFJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN1Y2Nlc3MoY2hhbmdlUGFzc3dvcmRSZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XG4gICAgICB9XG4gICAgfSwgJ2NoYW5nZVBhc3N3b3JkJyk7XG4gIH07XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBjaGFuZ2VQSU5Db250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIGNoYW5nZSBleGlzdGluZyB1c2VyIGFjY291bnQgcGluLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5jaGFuZ2VQSU5Db250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waW4vY2hhbmdlP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKSwgZGF0YSwgZnVuY3Rpb24gKGNoYW5nZVBJTlJlc3BvbnNlKSB7XG4gICAgICBpZiAoY2hhbmdlUElOUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoY2hhbmdlUElOUmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2VzcyhjaGFuZ2VQSU5SZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XG4gICAgICB9XG4gICAgfSwgJ2NoYW5nZVBJTicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIG9iamVjdCBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gcmVzZW5kIGFjY291bnQgZW1haWwgdmVyaWZpY2F0aW9uIGxpbmsgb24gdXNlciBlbWFpbCBpZC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZW5kRW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3Rlcj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJmVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUsIGRhdGEsIGZ1bmN0aW9uIChlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSB7XG4gICAgICBpZiAoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN1Y2Nlc3MoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XG4gICAgICAgIGlmIChjb21tb25GbnMuc2hvd09UUFRlbXBsYXRlRm9ybSgnUmVnaXN0cmF0aW9uJykgJiYgbW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lcikge1xuICAgICAgICAgIGNvbW1vbkZucy5vdHBFbWFpbFZlcmlmaWNhdGlvbihtb2R1bGUuY3VycmVudExSQ29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsICcnLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sICdyZXNlbmRWZXJpZmljYXRpb25FbWFpbCcpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBhZGRFbWFpbENvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIG9iamVjdCBzdHJpbmcgd2hpY2ggaG9sZCBlbWFpbFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBhZGQgbmV3IGVtYWlsIGluIHVzZXIgYWNjb3VudCBhbmQgaWYgZW1haWwgdmVyaWZpY2F0aW9uIGhhcyBlbmFibGVkIHRoZW4gaGFuZGxlIHRoZSBlYW1pbCB2ZXJpZmljYXRpb24gcHJvY2VzcyBhcyB3ZWxsLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5hZGRFbWFpbENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIGlmIChjb21tb25GbnMuaXNWYWxpZFRva2VuKHRva2VuLCBvbkVycm9yKSkge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9lbWFpbD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJmVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLmFkZEVtYWlsVGVtcGxhdGUsIGRhdGEsIGZ1bmN0aW9uIChhZGRFbWFpbFJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChhZGRFbWFpbFJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoYWRkRW1haWxSZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhhZGRFbWFpbFJlc3BvbnNlLCBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKTtcbiAgICAgICAgICBpZiAoY29tbW9uRm5zLnNob3dPVFBUZW1wbGF0ZUZvcm0oJ0FkZEVtYWlsJykpIHtcbiAgICAgICAgICAgIGNvbW1vbkZucy5vdHBFbWFpbFZlcmlmaWNhdGlvbihtb2R1bGUuY3VycmVudExSQ29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsICcnLCBkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sICdhZGRFbWFpbCcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gcmVtb3ZlRW1haWxDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHJlbW92ZSBleGlzdGluZyBlbWFpbCBmcm9tIHVzZXIgYWNjb3VudC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVtb3ZlRW1haWxDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBpZiAoY29tbW9uRm5zLmlzVmFsaWRUb2tlbih0b2tlbiwgb25FcnJvcikpIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdkZWxldGUnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9lbWFpbD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKHJlbW92ZUVtYWlsUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlbW92ZUVtYWlsUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZW1vdmVFbWFpbFJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlbW92ZUVtYWlsUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICB9LCAncmVtb3ZlRW1haWwnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGNoYW5nZVVzZXJuYW1lQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZ1xuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBjaGFuZ2UgZXhpc3RpbmcgdXNlciBuYW1lIG9mIHVzZXIgYWNjb3VudC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuY2hhbmdlVXNlcm5hbWVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBpZiAoY29tbW9uRm5zLmlzVmFsaWRUb2tlbih0b2tlbiwgb25FcnJvcikpIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC91c2VybmFtZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKGNoYW5nZVVzZXJuYW1lUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKGNoYW5nZVVzZXJuYW1lUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihjaGFuZ2VVc2VybmFtZVJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKGNoYW5nZVVzZXJuYW1lUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICB9LCAnY2hhbmdlVXNlcm5hbWUnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIHdoaWNoIGNvbnRhaW5zIHJlc2V0dG9rZW4sIHBhc3N3b3JkIGFuZCBjb25maXJtcGFzc3dvcmRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHJlc2V0IHVzZXIgYWNjb3VudCBwYXNzd29yZC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZXRQYXNzd29yZENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xuICAgIGRhdGEgKz0gJyZ3ZWxjb21lRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMud2VsY29tZUVtYWlsVGVtcGxhdGUgKyAnJlJlc2V0UGFzc3dvcmRFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yZXNldFBhc3N3b3JkQ29uZmlybWF0aW9uRW1haWxUZW1wbGF0ZTtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGFzc3dvcmQvcmVzZXQ/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXksIGRhdGEsIGZ1bmN0aW9uIChyZXNldFBhc3N3b3JkUmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNldFBhc3N3b3JkUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzZXRQYXNzd29yZFJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMubG9naW5PblBhc3N3b3JkUmVzZXQgJiYgcmVzZXRQYXNzd29yZFJlc3BvbnNlLkRhdGEgJiYgcmVzZXRQYXNzd29yZFJlc3BvbnNlLkRhdGEuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVzZXRQYXNzd29yZFJlc3BvbnNlLkRhdGEsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNldFBhc3N3b3JkUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ3Jlc2V0UGFzc3dvcmQnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gZHVvVmVyaWZ5Q29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZyB3aGljaCBjb250YWlucyBzdGF0ZSBhbmQgY29kZVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gdmVyaWZ5IHRoZSBkdW8gc3RhdGUgYW5kIGNvZGUuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmR1b1ZlcmlmeUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yZmEvdmVyaWZpY2F0aW9uL2R1bz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbj0nICsgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgdXJsLCBkYXRhLCBmdW5jdGlvbiAoZHVvVmVyaWZ5UmVzcG9uc2UpIHtcbiAgICAgIG1vZHVsZS5kdW9Mb2dpbkZsYWcgPSBmYWxzZTtcbiAgICAgIGlmIChkdW9WZXJpZnlSZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihkdW9WZXJpZnlSZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4oZHVvVmVyaWZ5UmVzcG9uc2UsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfVxuICAgIH0sICdsb2dpbicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBkdW9WZXJpZnlCeUFjY2Vzc1Rva2VuQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZyB3aGljaCBjb250YWlucyBzdGF0ZSBhbmQgY29kZVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gdmVyaWZ5IHRoZSBkdW8gc3RhdGUgYW5kIGNvZGUgdXNpbmcgYWNjZXNzX3Rva2VuLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5kdW9WZXJpZnlCeUFjY2Vzc1Rva2VuQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvMmZhL3ZlcmlmaWNhdGlvbi9kdW8/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCB1cmwsIGRhdGEsIGZ1bmN0aW9uIChkdW9WZXJpZnlSZXNwb25zZSkge1xuICAgICAgbW9kdWxlLmR1b0xvZ2luRmxhZyA9IGZhbHNlO1xuICAgICAgaWYgKGR1b1ZlcmlmeVJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGR1b1ZlcmlmeVJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN1Y2Nlc3MoZHVvVmVyaWZ5UmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH0sICdkdW9WZXJpZnlCeUFjY2Vzc1Rva2VuJyk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHJlc2V0UElOQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZyB3aGljaCBjb250YWlucyByZXNldHRva2VuL2VtYWlsL3VzZXJuYW1lLCBwaW4gYW5kIGNvbmZpcm1waW5cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHJlc2V0IHVzZXIgYWNjb3VudCBwaW4uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2V0UElOQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIHF1ZXJ5T2JqID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcbiAgICB2YXIgdXJsID0gJyc7XG4gICAgaWYgKHF1ZXJ5T2JqLmhhc093blByb3BlcnR5KCdyZXNldHRva2VuJykpIHtcbiAgICAgIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bpbi9yZXNldC90b2tlbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1vZGUgPSAocXVlcnlPYmouaGFzT3duUHJvcGVydHkoJ3VzZXJuYW1lJykpID8gJ3VzZXJuYW1lJyA6ICdlbWFpbCc7XG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waW4vcmVzZXQvb3RwLycgKyBtb2RlICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleTtcbiAgICB9XG4gICAgZGF0YSArPSAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZSArICcmUmVzZXRQSU5FbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yZXNldFBJTkNvbmZpcm1hdGlvbkVtYWlsVGVtcGxhdGU7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIHVybCwgZGF0YSwgZnVuY3Rpb24gKHJlc2V0UElOUmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNldFBJTlJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc2V0UElOUmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXNldFBJTlJlc3BvbnNlLCBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKTtcbiAgICAgIH1cbiAgICB9LCAncmVzZXRQSU4nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gZW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHZ0b2tlbiB2ZXJpZmljYXRpb24gdG9rZW4gc3RyaW5nXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmxhZyB0byBkZXRlcm1pbmUgd2hpY2ggbWV0aG9kIHVzZWQgdG8gY2FsbCBhcGkgKEdFVCB3aXRoIFVSTCBvciBQVVQgd2l0aCBwYXJhbSlcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gdmVyaWZ5IHVzZXIgYWNjb3VudCBlbWFpbCBieSB1c2luZyB2ZXJpZmljYXRpb24gdG9rZW4uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmVtYWlsVmVyaWZpY2F0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uICh2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIGZsYWcpIHtcbiAgICB2YXIgbWV0aG9kID0gJ2dldCc7XG4gICAgaWYgKHZ0b2tlbikge1xuICAgICAgLy8gIHZhciBlbWFpbFRva2VuRmxhZyA9IGZsYWcgPT0gdHJ1ZSA/ICcvc21hcnRsb2dpbic6Jyc7XG4gICAgICB2YXIgdXJsID0gTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvZW1haWw/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZTtcbiAgICAgIHZhciBwYXJhbXMgPSAnJztcbiAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgIG1ldGhvZCA9ICdwdXQnO1xuICAgICAgICBwYXJhbXMgPSB2dG9rZW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmwgKz0gJyZ2ZXJpZmljYXRpb250b2tlbj0nICsgdnRva2VuICsgJyZ1cmw9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvblVybDtcbiAgICAgIH1cbiAgICAgIHZhciBhY3Rpb25WYWx1ZSA9ICcjI290cCc7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMudmVyaWZ5RW1haWxCeU9UUCkge1xuICAgICAgICBhY3Rpb25WYWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvblZhbHVlID09PSAnIyNvdHAnKSB7XG4gICAgICAgIGlmICghbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zKSB7XG4gICAgICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zWydvdHAnXSA9IHt9O1xuICAgICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbJ290cCddWydvblN1Y2Nlc3MnXSA9IG9uU3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgICAgIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1snb3RwJ11bJ29uRXJyb3InXSA9IG9uRXJyb3IgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbJ290cCddWydjbGFzc1ByZWZpeCddID0gX2NsYXNzUHJlZml4IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKCgodHlwZW9mIHZ0b2tlbiAhPT0gJ3N0cmluZycgJiYgdnRva2VuLm9uZUNsaWNrU2lnbkluKSB8fCAodHlwZW9mIHZ0b2tlbiA9PT0gJ3N0cmluZycgJiYgdnRva2VuLmluZGV4T2YoJ29uZUNsaWNrU2lnbkluPXRydWUnKSAhPT0gLTEpKSAmJiBtb2R1bGUub3B0aW9ucy50ZW1wbGF0ZVZlcmlmaWNhdGlvblR5cGVzICYmIG1vZHVsZS5vcHRpb25zLnRlbXBsYXRlVmVyaWZpY2F0aW9uVHlwZXNbJ09uZUNsaWNrU2lnbmluJ10gPT09ICdPVFAnKSB7XG4gICAgICAgIGNvbW1vbkZucy5wYXNzd29yZGxlc3NMb2dpblZlcmlmaWNhdGlvbih2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKG1ldGhvZCwgdXJsLCBwYXJhbXMsIGZ1bmN0aW9uIChlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmxvZ2luT25FbWFpbFZlcmlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICAgICAgICBpZiAoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZS5EYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UuRGF0YSAmJiBlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlLkRhdGEuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlLkRhdGEsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZS5EYXRhKSB7XG4gICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMubG9nb3V0T25WZXJpZnlFbWFpbCkge1xuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dvdXQob25TdWNjZXNzKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sICd2ZXJpZnlFbWFpbCcgKyBhY3Rpb25WYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgIG9uRXJyb3IoW2RlZmF1bHRNZXNzYWdlc1snbm90Rm91bmQnXV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25FcnJvcihbZGVmYXVsdE1lc3NhZ2VzWyd2VG9rZW5FcnJvciddXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBkZWxldGVVc2VyQ29uZmlybUNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdnRva2VuIHZlcmlmaWNhdGlvbiB0b2tlbiBzdHJpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gY29uZmlybSB1c2VyIGFjY291bnQgZGVsZXRlLiBJdCBoYW5kbGUgY29uZmlybWF0aW9uIGNhbGwgb2YgdXNlciBkZWxldGlvbi5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuZGVsZXRlVXNlckNvbmZpcm1Db250cm9sbGVyID0gZnVuY3Rpb24gKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaWYgKHZ0b2tlbikge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvZGVsZXRlP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZkZWxldGV0b2tlbj0nICsgdnRva2VuLCAnJywgZnVuY3Rpb24gKGRlbGV0ZUNvbmZpcm1SZXNwb25zZSkge1xuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybVJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoZGVsZXRlQ29uZmlybVJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKGRlbGV0ZUNvbmZpcm1SZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICdkZWxldGVVc2VyQ29uZmlybScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKFtkZWZhdWx0TWVzc2FnZXNbJ3ZUb2tlbkVycm9yJ11dKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGNoZWNrRW1haWxBdmFpbGFiaWxpdHlDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIHdoaWNoIGhvbGQgZW1haWxcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIHByb3ZpZGVkIGVtYWlsIGhhcyBhbHJlYWR5IHJlZ2lzdGVyZWQgb3Igbm90LlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5jaGVja0VtYWlsQXZhaWxhYmlsaXR5Q29udHJvbGxlciA9IGZ1bmN0aW9uIGNoZWNrRW1haWxBdmFpbGFiaWxpdHlDb250cm9sbGVyIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvZW1haWw/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJicgKyBkYXRhLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgJ2NoZWNrRW1haWwnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gY2hlY2tVc2VyTmFtZUF2YWlsYWJpbGl0eUNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIG9iamVjdCBzdHJpbmcgd2hpY2ggaG9sZCB1c2VybmFtZVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgcHJvdmlkZWQgdXNlciBuYW1lIGhhcyBhbHJlYWR5IHJlZ2lzdGVyZWQgb3Igbm90LlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5jaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5Q29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvdXNlcm5hbWU/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJicgKyBkYXRhLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgJ2NoZWNrVXNlcm5hbWUnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIG9iamVjdCBzdHJpbmcgY29udGFpbmluZyB0aGUgdmFsdWUgb2YgZWl0aGVyIGVtYWlsL3VzZXJuYW1lL3Bob25lIGZvciB0aGUgYWNjb3VudCwgYWxvbmcgd2l0aCB0aGUgZGVzaXJlZCBwYXNzc3dvcmQgYW5kIHRoZSBxdWVzdGlvbiBhbmQgYW5zd2VyLlxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmVzZXQgdXNlciBhY2NvdW50IHBhc3N3b3JkIGJ5IHVzaW5nIHNlY3VyaXR5IHF1ZXN0aW9uLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5yZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgc2VjdXJpdHlPYmogPSBjb21tb25GbnMuc2FuaXRpemVTZWN1cml0eVF1ZXNEYXRhKGRhdGEpO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9wYXNzd29yZC9zZWN1cml0eWFuc3dlci8/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXksIHNlY3VyaXR5T2JqLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmxvZ2luT25QYXNzd29yZFJlc2V0ICYmIHJlc3BvbnNlLkRhdGEgJiYgcmVzcG9uc2UuRGF0YS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZS5EYXRhLCAnJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ3Jlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gcmVzZXRQSU5CeVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHZhbHVlIG9mIGVpdGhlciBlbWFpbC91c2VybmFtZS9waG9uZSBmb3IgdGhlIGFjY291bnQsIGFsb25nIHdpdGggdGhlIGRlc2lyZWQgcGluIGFuZCB0aGUgcXVlc3Rpb24gYW5kIGFuc3dlci5cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHJlc2V0IHVzZXIgYWNjb3VudCBwaW4gYnkgdXNpbmcgc2VjdXJpdHkgcXVlc3Rpb24uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2V0UElOQnlTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgc2VjdXJpdHlPYmogPSBjb21tb25GbnMuc2FuaXRpemVTZWN1cml0eVF1ZXNEYXRhKGRhdGEpO1xuICAgIHZhciBtb2RlID0gKHNlY3VyaXR5T2JqLmhhc093blByb3BlcnR5KCdlbWFpbCcpKSA/ICdlbWFpbCcgOiAoc2VjdXJpdHlPYmouaGFzT3duUHJvcGVydHkoJ3Bob25lJykpID8gJ3Bob25lJyA6ICd1c2VybmFtZSc7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bpbi9yZXNldC9zZWN1cml0eWFuc3dlci8nICsgbW9kZSArICc/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXksIHNlY3VyaXR5T2JqLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgIH1cbiAgICB9LCAncmVzZXRQSU5CeVNlY3VyaXR5UXVlc3Rpb24nKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gZ2V0U2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHZhbHVlIG9mIGVpdGhlciBlbWFpbC91c2VybmFtZS9waG9uZSBmb3IgdGhlIGFjY291bnQuXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gc2NoZW1hQ2FsbGJhY2sgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGdldCB1c2VyIGFjY291bnQgc2VjdXJpdHkgcXVlc3Rpb25zLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5nZXRTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hQ2FsbGJhY2ssIG9uRXJyb3IpIHtcbiAgICB2YXIgdXJsID0gJy9hdXRoL3NlY3VyaXR5cXVlc3Rpb24vJztcbiAgICBpZiAoZGF0YS5pbmRleE9mKCd1c2VybmFtZScpICE9PSAtMSkgeyB1cmwgKz0gJ3VzZXJuYW1lP2FwaUtleT0nOyB9IGVsc2UgaWYgKGRhdGEuaW5kZXhPZigncGhvbmUnKSAhPT0gLTEpIHsgdXJsICs9ICdwaG9uZT9hcGlLZXk9JzsgfSBlbHNlIHsgdXJsICs9ICdlbWFpbD9hcGlLZXk9JzsgfVxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArIHVybCArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGEsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZW1hQ2FsbGJhY2soZ2V0U2VjdXJpdHlRdWVzdGlvbnMocmVzcG9uc2UpKTtcbiAgICAgIH1cbiAgICB9LCAnc2VjdXJpdHlRdWVzdGlvbicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBnZXRCYWNrdXBDb2RlQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHVzZXIgYWNjb3VudCBiYWNrdXAgY29kZSBmdXJ0aGVyIHdoaWNoIGNhbiBiZSB1c2UgZm9yIGxvZ2luLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5nZXRCYWNrdXBDb2RlQ29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkEvYmFja3VwY29kZT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICdiYWNrdXBDb2RlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiByZXNldEJhY2t1cENvZGVDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCByZXNldCB1c2VyIGFjY291bnQgYmFja3VwIGNvZGUgZnVydGhlciB3aGljaCBjYW4gYmUgdXNlIGZvciBsb2dpbi5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZXRCYWNrdXBDb2RlQ29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkEvYmFja3VwY29kZS9yZXNldD9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICdiYWNrdXBDb2RlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBnZXRTb2NpYWxEYXRhQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBlbmRwb2ludCBzZXJ2aWNlIGVuZHBvaW50IHVybCBzdHJpbmcgZS5nLiAvYXBpL3YyL21lc3NhZ2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1RdWVyeVN0cmluZyBqc29uIG9iamVjdCBzdHJpbmcgZS5nLiAmYWNjZXNzX3Rva2VuP3RvPWV4YW1wbGUlNDBleGFtcGxlLmNvbT9zdWJqZWN0PXdlbGNvbWU/bWVzc2FnZT1oZWxsb1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHVzZXIgYWNjb3VudCBzb2NpYWwgZGF0YSBmcm9tIGFwaS5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuZ2V0U29jaWFsRGF0YUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZW5kcG9pbnQsIHBhcmFtUXVlcnlTdHJpbmcpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGVuZHBvaW50ICs9ICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbjtcbiAgICAgIGlmIChwYXJhbVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnQgKyAnJicgKyBwYXJhbVF1ZXJ5U3RyaW5nO1xuICAgICAgfVxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuc29jaWFsQXBpRG9tYWluICsgZW5kcG9pbnQsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnc29jaWFsQVBJJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBwb3N0U29jaWFsRGF0YUNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gZW5kcG9pbnQgc2VydmljZSBlbmRwb2ludCB1cmwgc3RyaW5nICBlLmcuIC9hcGkvdjIvbWVzc2FnZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJhbVF1ZXJ5U3RyaW5nIGpzb24gb2JqZWN0IHN0cmluZyBlLmcuICZhY2Nlc3NfdG9rZW4/dG89ZXhhbXBsZSU0MGV4YW1wbGUuY29tP3N1YmplY3Q9d2VsY29tZT9tZXNzYWdlPWhlbGxvXG4gICogQHBhcmFtIHtTdHJpbmd9IHBvc3RCb2R5SnNvbiBUaGUgZGVzaXJlZCBKU09OIGZvciB0aGUgUE9TVCBib2R5IGlmIHRoZXJlIGFyZSBhbnksIG90aGVyd2lzZSBsZWF2ZSB0aGlzIGJsYW5rXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjYWxsIGFueSBBUEkgZnJvbSB0aGUgU29jaWFsIEFQSXMgdGhhdCByZXF1aXJlIHRoZSBcIlBPU1RcIiBtZXRob2QuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnBvc3RTb2NpYWxEYXRhQ29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBlbmRwb2ludCwgcGFyYW1RdWVyeVN0cmluZywgcG9zdEJvZHlKc29uKSB7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBlbmRwb2ludCArPSAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW47XG4gICAgICBpZiAocGFyYW1RdWVyeVN0cmluZykge1xuICAgICAgICBlbmRwb2ludCA9IGVuZHBvaW50ICsgJyYnICsgcGFyYW1RdWVyeVN0cmluZztcbiAgICAgIH1cbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5zb2NpYWxBcGlEb21haW4gKyBlbmRwb2ludCwgcG9zdEJvZHlKc29uLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnc29jaWFsQVBJJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBjcmVhdGVDdXN0b21PYmplY3RDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gSlNPTiB0aGF0IGRlc2NyaWJlcyB0aGUgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIHN0b3JlXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBjdXN0b20gb2JqZWN0LlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5jcmVhdGVDdXN0b21PYmplY3RDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBjdXN0b21PYmplY3RKU09OLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvY3VzdG9tb2JqZWN0P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZvYmplY3RuYW1lPScgKyBtb2R1bGUub3B0aW9ucy5jdXN0b21PYmplY3ROYW1lLCBjdXN0b21PYmplY3RKU09OLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnY3JlYXRlQ3VzdG9tT2JqZWN0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGhhbmRsZUN1c3RvbU9iamVjdEJ5SWRcbiAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIGFqYXggY2FsbCBtZXRob2QgbmFtZVxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxuICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RyZWNvcmRpZCBjdXN0b20gb2JqZWN0IHJlY29yZCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaGFuZGxlIGN1c3RvbSBvYmplY3Qgb3BlcmF0aW9uKGdldCwgZGVsZXRlKSBieSB1c2luZyBvYmplY3RyZWNvcmQgaWQuXG4gICovXG4gIGZ1bmN0aW9uIGhhbmRsZUN1c3RvbU9iamVjdEJ5SWQgKG1ldGhvZCwgdG9rZW4sIG9iamVjdHJlY29yZGlkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKG1ldGhvZCwgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvY3VzdG9tb2JqZWN0LycgKyBvYmplY3RyZWNvcmRpZCArICc/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJm9iamVjdG5hbWU9JyArIG1vZHVsZS5vcHRpb25zLmN1c3RvbU9iamVjdE5hbWUsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnQ3VzdG9tT2JqZWN0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGdldEN1c3RvbU9iamVjdEJ5SWRDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtTdHJpbmd9IG9iamVjdHJlY29yZGlkIGN1c3RvbSBvYmplY3QgcmVjb3JkIGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgY3VzdG9tIG9iamVjdCBieSB1c2luZyBpdHMgaWQuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmdldEN1c3RvbU9iamVjdEJ5SWRDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaGFuZGxlQ3VzdG9tT2JqZWN0QnlJZCgnZ2V0JywgdG9rZW4sIG9iamVjdHJlY29yZGlkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBnZXRDdXN0b21PYmplY3RzQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGFsbCBvZiB0aGUgY3VzdG9tIG9iamVjdHMgYXNzb2NpYXRlZCB0byBhIGN1c3RvbWVyIGJ5IHVzaW5nIHRoZSBhY2Nlc3NfdG9rZW4uXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmdldEN1c3RvbU9iamVjdHNDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9jdXN0b21vYmplY3Q/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJm9iamVjdG5hbWU9JyArIG1vZHVsZS5vcHRpb25zLmN1c3RvbU9iamVjdE5hbWUsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnZ2V0Q3VzdG9tT2JqZWN0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiB1cGRhdGVDdXN0b21PYmplY3RDb250cm9sbGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtTdHJpbmd9IG9iamVjdHJlY29yZGlkIGN1c3RvbSBvYmplY3QgcmVjb3JkIGlkXG4gICogQHBhcmFtIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gSlNPTiB0aGF0IGRlc2NyaWJlcyB0aGUgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIHN0b3JlXG4gICogQHBhcmFtIHtTdHJpbmd9IHVwZGF0ZVR5cGUgKE9wdGlvbmFsKSBZb3UgY2FuIHBhc3MgZWl0aGVyICdyZXBsYWNlJyAoaXQgd2lsbCBmdWxseSByZXBsYWNlIHRoZSBjdXN0b20gb2JqZWN0IHdpdGggbmV3IHByb3ZpZGVkIGpzb24pIG9yICdwYXJ0aWFscmVwbGFjZScgKGl0IHdpbGwgcGVyZm9ybSBhbiB1cHNlcnQgdHlwZSBvcGVyYXRpb24pXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1cGRhdGUgeW91ciBjdXN0b20gb2JqZWN0cyBieSBwcm92aWRpbmcgdGhlIGFjY2Vzc190b2tlbiBhbmQgdGhlIG9iamVjdHJlY29yZGlkLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVDdXN0b21PYmplY3RDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgY3VzdG9tT2JqZWN0SlNPTiwgdXBkYXRlVHlwZSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICB2YXIgZmllbGQgPSAnJztcbiAgICAgIGlmICh1cGRhdGVUeXBlKSB7XG4gICAgICAgIGZpZWxkID0gJyZ1cGRhdGV0eXBlPScgKyB1cGRhdGVUeXBlO1xuICAgICAgfVxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2N1c3RvbW9iamVjdC8nICsgb2JqZWN0cmVjb3JkaWQgKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZvYmplY3RuYW1lPScgKyBtb2R1bGUub3B0aW9ucy5jdXN0b21PYmplY3ROYW1lICsgZmllbGQsIGN1c3RvbU9iamVjdEpTT04sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICd1cGRhdGVDdXN0b21PYmplY3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihbXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXG4gICAgICBdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGRlbGV0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cbiAgKiBAcGFyYW0ge1N0cmluZ30gb2JqZWN0cmVjb3JkaWQgY3VzdG9tIG9iamVjdCByZWNvcmQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVwZGF0ZSB5b3VyIGN1c3RvbSBvYmplY3RzIGJ5IHByb3ZpZGluZyB0aGUgYWNjZXNzX3Rva2VuIGFuZCB0aGUgb2JqZWN0cmVjb3JkaWQuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmRlbGV0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXIgPSBmdW5jdGlvbiAodG9rZW4sIG9iamVjdHJlY29yZGlkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBoYW5kbGVDdXN0b21PYmplY3RCeUlkKCdkZWxldGUnLCB0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHVwZGF0ZURhdGFcbiAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VPYmplY3Qgc2VydmljZSBqc29uIG9iamVjdCB3aGljaCBob2xkIHVzZXIgcHJvZmlsZSBvYmplY3RcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBmaWVsZHMgYW5kIHRoZWlyIHZhbHVlcyBvZiB0aGUgcHJvZmlsZSB0aGF0IHlvdSBhcmUgdXBkYXRpbmdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIHNjaGVtYSBmb3IgdGhlIGZpZWxkcyBiZWluZyBwcm92aWRlZC4gWW91IGNhbiBsZWF2ZSBzY2hlbWEgYXMgYW4gZW1wdHkgYXJyYXkgdW5sZXNzIHlvdSdyZSB1cGRhdGluZyBjb21wbGV4IGFycmF5c1xuICAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25OYW1lIGFjdGlvbiBuYW1lIHVzZXIgd2FudHMgRXgsICd1cGRhdGVEYXRhJ1xuICAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wVG9rZW4gdGVtcG9yYXJ5IHRva2VuXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZSBmb3IgdXNlciBhY2NvdW50IHVwZGF0ZXMuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnVwZGF0ZURhdGEgPSBmdW5jdGlvbiAocmVzcG9uc2VPYmplY3QsIGNvbnRhaW5lciwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHNjaGVtYSwgYWN0aW9uTmFtZSwgdGVtcFRva2VuKSB7XG4gICAgdmFyIHVzZXJQcm9maWxlID0gcmVzcG9uc2VPYmplY3QuUHJvZmlsZSB8fCByZXNwb25zZU9iamVjdC5EYXRhO1xuICAgIHZhciBwcm9maWxlRGF0YSA9IGRhdGE7XG4gICAgaWYgKCFtb2R1bGUubHJBcGlGcmFtZXdvcmspIHtcbiAgICAgIHByb2ZpbGVEYXRhID0gY29tbW9uRm5zLm1hcFJlZ2lzdHJhdGlvblNjaGVtYShzY2hlbWEsIGRhdGEsIHVzZXJQcm9maWxlKTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzUElOQXV0aGVudGljYXRpb24gJiYgIShtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLkFza09uUmVnaXN0cmF0aW9uKSkge1xuICAgICAgcHJvZmlsZURhdGEgPSBjb21tb25GbnMuc2FuaXRpemVQaW5EYXRhKHByb2ZpbGVEYXRhKTtcbiAgICB9XG4gICAgdmFyIGFjY2Vzc1Rva2VuID0gcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuO1xuICAgIHRlbXBUb2tlbiA9IHRlbXBUb2tlbiB8fCBtb2R1bGUuc2V0SG9zdGVkVG9rZW47XG4gICAgYWN0aW9uTmFtZSA9IGFjdGlvbk5hbWUgfHwgJ3VwZGF0ZURhdGEnO1xuICAgIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUgPSBtb2R1bGUub3B0aW9ucy5lbWFpbFRlbXBsYXRlIHx8IG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGU7XG4gICAgaWYgKE9iamVjdC5rZXlzKHByb2ZpbGVEYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBhY2Nlc3NUb2tlbiArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJmVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUsIHByb2ZpbGVEYXRhLCBmdW5jdGlvbiAocmVnUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaGFuZGxlVXBkYXRlRGF0YVJlc3BvbnNlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgaXNlbWFpbDtcbiAgICAgICAgICAgIHZhciBpc3Bob25lO1xuICAgICAgICAgICAgaXNlbWFpbCA9IHByb2ZpbGVEYXRhWydlbWFpbGlkJ10gfHwgcHJvZmlsZURhdGFbJ2VtYWlsJ107XG4gICAgICAgICAgICBpc3Bob25lID0gcHJvZmlsZURhdGFbJ3Bob25lJ10gfHwgcHJvZmlsZURhdGFbJ3Bob25laWQnXTtcbiAgICAgICAgICAgIHZhciBwaG9uZVNjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Bob25laWQnKTtcbiAgICAgICAgICAgIHZhciBwaG9uZXJlcSA9IChwaG9uZVNjaGVtYSAmJiAocGhvbmVTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSAhPT0gLTEpKTtcbiAgICAgICAgICAgIHZhciBlbWFpbFNjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgICAgICAgIHZhciBlbWFpbHJlcSA9IChlbWFpbFNjaGVtYSAmJiAoZW1haWxTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSAhPT0gLTEpKTtcbiAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVWlkTmFtZSwgdXNlclByb2ZpbGUuVWlkKTtcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcod2luZG93LmxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKCc/JywgJycpKTtcbiAgICAgICAgICAgIGlmICgoKChpc3Bob25lID09PSB1bmRlZmluZWQgfHwgaXNwaG9uZSkgJiYgdXNlclByb2ZpbGUuUGhvbmVJZFZlcmlmaWVkICYmIGlzZW1haWwgPT09IHVuZGVmaW5lZCkgfHwgKChpc2VtYWlsID09PSB1bmRlZmluZWQgfHwgaXNlbWFpbCkgJiYgdXNlclByb2ZpbGUuRW1haWxWZXJpZmllZCAmJiBpc3Bob25lID09PSB1bmRlZmluZWQpKSB8fCAoKChpc3Bob25lICYmICFwaG9uZXJlcSkgfHwgaXNwaG9uZSA9PT0gdW5kZWZpbmVkKSAmJiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uKSkpIHtcbiAgICAgICAgICAgICAgaWYgKGlzZW1haWwgJiYgIXVzZXJQcm9maWxlLkVtYWlsVmVyaWZpZWQgJiYgcXVlcnlTdHJpbmcucmV0dXJuX3VybCAmJiBxdWVyeVN0cmluZy5yZXR1cm5fdXJsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignL3NhbWwvJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihbXG4gICAgICAgICAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2VtYWlsTm90VmVyaWZpZWQnXSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnUmVzcG9uc2UuSXNQb3N0ZWQ7XG4gICAgICAgICAgICAgICAgcmVnUmVzcG9uc2UuYWNjZXNzX3Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgICAgLy8gb25TdWNjZXNzKHJlZ1Jlc3BvbnNlLCB1dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NTT0luaXRGaXJlZCkge1xuICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnNldFRva2VuKGFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNwaG9uZSAmJiB1c2VyUHJvZmlsZSAmJiAhdXNlclByb2ZpbGUuUGhvbmVJZFZlcmlmaWVkKSB7XG4gICAgICAgICAgICAgIC8vIHZhciBwaG9uZU9iaiA9IHtcbiAgICAgICAgICAgICAgLy8gICAncGhvbmUnOiBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgncGhvbmVpZCcsIGRhdGEpXG4gICAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICAgIHZhciBfb25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAgICAgICAgIHZhciBmbnMgPSBuZXcgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMobW9kdWxlKTtcbiAgICAgICAgICAgICAgICBmbnMudmVyaWZ5T1RQKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgIGZucy5yZXNlbmRPVFAoZGF0YSArICcmbm9QaG9uZVZlcmlmaWVkPWZhbHNlJywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzVm9pY2VPdHApIHtcbiAgICAgICAgICAgICAgICAgIGZucy5yZXNlbmRPVFAoZGF0YSArICcmbm9QaG9uZVZlcmlmaWVkPWZhbHNlJywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBfb25TdWNjZXNzKCk7XG4gICAgICAgICAgICAgIC8vIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeCArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXggKyBcInJlY2FwdGNoYV93aWRnZXRfdmVyaWZ5b3RwXCI7XG4gICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2VuZE9UUENvbnRyb2xsZXIocGhvbmVPYmosIF9vblN1Y2Nlc3MsIG9uRXJyb3IsIHJlY2FwdGNoYWlkLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzZW1haWwgJiYgZW1haWxyZXEgJiYgIXVzZXJQcm9maWxlLkVtYWlsVmVyaWZpZWQgJiYgIShtb2R1bGUub3B0aW9ucy5kaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsRW1haWxWZXJpZmljYXRpb24pKSB7XG4gICAgICAgICAgICAgIG9uRXJyb3IoW1xuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snZW1haWxOb3RWZXJpZmllZCddKVxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG9uU3VjY2VzcyhyZWdSZXNwb25zZSk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAodGVtcFRva2VuKSB7XG4gICAgICAgICAgICBoYW5kbGVVcGRhdGVEYXRhUmVzcG9uc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXNwb25zZU9iamVjdC5EYXRhID0gcmVzcG9uc2VPYmplY3QuUHJvZmlsZTtcbiAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlT2JqZWN0LlByb2ZpbGU7XG4gICAgICAgICAgICAgIGlmIChyZWdSZXNwb25zZS5EYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VPYmplY3QuRGF0YSA9IHJlZ1Jlc3BvbnNlLkRhdGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVzcG9uc2VPYmplY3QsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlVXBkYXRlRGF0YVJlc3BvbnNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkRhdGEpIHtcbiAgICAgICAgICAgICAgICByZWdSZXNwb25zZS5Qcm9maWxlID0gcmVnUmVzcG9uc2UuRGF0YTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnUmVzcG9uc2UuRGF0YTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnUmVzcG9uc2UuSXNQb3N0ZWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlZ1Jlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZWdSZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgYWN0aW9uTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlT2JqZWN0LCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gb25lVG91Y2hMb2dpbkNvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIHN0cmluZyB3aGljaCBob2xkIGVtYWlsIGFuZCBuYW1lIGluZm8gZXguIFwibmFtZT1YWFgmZW1haWw9WFhYWFgubCU0MG1haWxhenkuY29tXCJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtCb29sZWFufSB1c2VVcGRhdGVkQVBJIHRvIGRldGVybWluZSB1c2UgdXBkYXRlZCBBUEkgb3Igbm90XG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBoYW5kbGUgdXNlciBhY2NvdW50IGxvZ2luIHZpYSBvbmUgdG91Y2ggbG9naW4gcHJvY2Vzcy5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUub25lVG91Y2hMb2dpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgdXNlVXBkYXRlZEFQSSwgdmVyaWZ5T1RQQXBpLCByZXNlbmRPVFBBcGkpIHtcbiAgICB2YXIgZm9ybWF0dGVkRGF0YSA9IG1vZHVsZS51dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XG5cbiAgICB2YXIgcGFyc2VkRGF0YSA9IGZvcm1hdHRlZERhdGEgJiYgdHlwZW9mIGZvcm1hdHRlZERhdGEgIT09ICdzdHJpbmcnID8gZm9ybWF0dGVkRGF0YSA6IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZm9ybWF0dGVkRGF0YSk7XG4gICAgaWYgKCF1c2VVcGRhdGVkQVBJKSB7XG4gICAgICBtb2R1bGUubG9nKCdDYXB0Y2hhIHNob3VsZCBiZSBlbmFibGVkIGZvciBvbmUgdG91Y2ggbG9naW4nKTtcbiAgICB9XG4gICAgdmFyIHJlZmllbGQgPSBmdW5jdGlvbiAodXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UsIGFjY2Vzc1Rva2VuLCBfZm9ybWF0dGVkRGF0YSwgX29uU3VjY2VzcywgX29uRXJyb3IpIHtcbiAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbG9naW5SZXF1aXJlZEZpZWxkc1VwZGF0ZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKF9mb3JtRGF0YVJlcykge1xuICAgICAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcbiAgICAgICAgcmVzcG9uc2VPYmplY3QuUHJvZmlsZSA9IHVzZXJQcm9maWxlO1xuICAgICAgICByZXNwb25zZU9iamVjdC5hY2Nlc3NfdG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICAgICAgY29udHJvbGxlcnNNb2R1bGUudXBkYXRlRGF0YShyZXNwb25zZU9iamVjdCwgY29udGFpbmVyLCBfZm9ybURhdGFSZXMsIF9vblN1Y2Nlc3MsIF9vbkVycm9yLCBfY2xhc3NQcmVmaXgsIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbG9naW4nLCB0cnVlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgX29uRXJyb3IoY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZXJyb3JzKSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBwYXlsb2FkRGF0YSA9ICcnO1xuICAgIGlmIChwYXJzZWREYXRhLnBob25lKSB7XG4gICAgICB2YXIgb25lVG91Y2hQaG9uZVVSTCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL29uZXRvdWNobG9naW4vcGhvbmU/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc3RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZU9uZVRvdWNoTG9naW47XG4gICAgICBwYXlsb2FkRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHBhcnNlZERhdGEpO1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ1BPU1QnLCBvbmVUb3VjaFBob25lVVJMLCBwYXlsb2FkRGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUCA9IHJlc2VuZE9UUEFwaSB8fCBjb21tb25GbnMucmVzZW5kT1RQO1xuXG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChmb3JtYXR0ZWREYXRhICsgJyZvbmV0b3VjaGxvZ2luZmxhZz10cnVlJywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgJycsIHJlZmllbGQpO1xuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAoZm9ybWF0dGVkRGF0YSArICcmb25ldG91Y2hsb2dpbmZsYWc9dHJ1ZScsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIG1vZHVsZS5vcHRpb25zLmlzVm9pY2VPdHAsICcnLCByZWZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ29uZVRvdWNoTG9naW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgIHZhciBjbGllbnRHdWlkID0gbW9kdWxlLnV0aWwucmFuZG9tU3RyaW5nKDE2KTtcbiAgICAgIHZhciBlbWFpbFRlbXBsYXRlID0gbW9kdWxlLm9wdGlvbnMubm9SZWdpc3RyYXRpb25FbWFpbFRlbXBsYXRlIHx8IG1vZHVsZS5vcHRpb25zLm9uZXRvdWNoTG9naW5FbWFpbFRlbXBsYXRlO1xuICAgICAgdmFyIG9uZVRvdWNoRW1haWxVUkwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9vbmV0b3VjaGxvZ2luL2VtYWlsP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZvbmV0b3VjaGxvZ2luZW1haWx0ZW1wbGF0ZT0nICsgZW1haWxUZW1wbGF0ZSArICcmd2VsY29tZWVtYWlsdGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlICsgJyZyZWRpcmVjdFVybD0nICsgbW9kdWxlLm9wdGlvbnMub25ldG91Y2hMb2dpblJlZGlyZWN0VXJsO1xuICAgICAgcGF5bG9hZERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJzZWREYXRhLCB7XG4gICAgICAgICdjbGllbnRHdWlkJzogY2xpZW50R3VpZFxuICAgICAgfSk7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnUE9TVCcsIG9uZVRvdWNoRW1haWxVUkwsIHBheWxvYWREYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuSXNQb3N0ZWQpIHtcbiAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICB2YXIgaGFuZGxlT25lVG91Y2hMb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAoX3Jlc3ApIHtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmFza1JlcXVpcmVkRmllbGRzT25QYXNzd29yZExlc3NMb2dpbikge1xuICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuYXV0b0ZpbGxlZEZpZWxkZm9yUGFzc3dvcmRMZXNMb2dpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMoX3Jlc3AsIGZvcm1hdHRlZERhdGEsIHJlZmllbGQsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKF9yZXNwLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY29tbW9uRm5zLnNob3dPVFBUZW1wbGF0ZUZvcm0oJ05vUmVnaXN0cmF0aW9uUGFzc3dvcmRsZXNzTG9naW4nKSkge1xuICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMucGluZ0ZvclNtYXJ0TG9naW4oY2xpZW50R3VpZCwgaGFuZGxlT25lVG91Y2hMb2dpblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBwYXJzZWREYXRhLm9uZXRvdWNobG9naW4gPSB0cnVlO1xuICAgICAgICAgICAgICBjb21tb25GbnMub3RwRW1haWxWZXJpZmljYXRpb24oY29udGFpbmVyLCBfb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tbW9uRm5zLnBpbmdGb3JTbWFydExvZ2luKGNsaWVudEd1aWQsIGhhbmRsZU9uZVRvdWNoTG9naW5TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sICdvbmVUb3VjaExvZ2luJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBzbWFydExvZ2luQ29udHJvbGxlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSAnZW1haWwnIHBhcmFtZXRlciBFeC4ge2VtYWlsOlwieHl6QGdtYWlsLmNvbVwifVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW1wbGVtZW50IFNtYXJ0IExvZ2luLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5zbWFydExvZ2luQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgIHZhciBjbGllbnRHdWlkID0gbW9kdWxlLnV0aWwucmFuZG9tU3RyaW5nKDE2KTtcbiAgICB2YXIgcmVkaXJlY3RVcmwgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5SZWRpcmVjdFVybCB8fCBtb2R1bGUub3B0aW9ucy5zbWFydExvZ2luUmVkaXJlY3RVcmw7XG4gICAgdmFyIGVtYWlsVGVtcGxhdGUgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5FbWFpbFRlbXBsYXRlIHx8IG1vZHVsZS5vcHRpb25zLnNtYXJ0TG9naW5FbWFpbFRlbXBsYXRlO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9zbWFydGxvZ2luP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyYnICsgZGF0YSArICcmY2xpZW50R3VpZD0nICsgY2xpZW50R3VpZCArICcmc21hcnRsb2dpbmVtYWlsdGVtcGxhdGU9JyArIGVtYWlsVGVtcGxhdGUgKyAnJndlbGNvbWVlbWFpbHRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZSArICcmcmVkaXJlY3RVcmw9JyArIHJlZGlyZWN0VXJsLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5Jc1Bvc3RlZCkge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG5cbiAgICAgICAgICB2YXIgaGFuZGxlU21hcnRMb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAoX3Jlc3ApIHtcbiAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKF9yZXNwLCAnJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbW1vbkZucy5waW5nRm9yU21hcnRMb2dpbihjbGllbnRHdWlkLCBoYW5kbGVTbWFydExvZ2luU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAnc21hcnRMb2dpbicpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiB2ZXJpZnlJbnN0YW50T1RQXG4gICogQHBhcmFtIHtTdHJpbmd9IG90cERhdGEgb25lIHRpbWUgcGFzc3dvcmQgc3RyaW5nXG4gICogQHBhcmFtIHtPYmplY3R9IHBob25lRGF0YSBqc29uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSAnZW1haWwnICdwaG9uZScsICd1c2VybmFtZSdcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgcmVjYXB0Y2hhIGh0bWwgZG9tIGNvbnRhaW5lciBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHZlcmlmeSBwaG9uZSBvdHAgYW5kIGxvZ2luIHVzZXIgYWNjb3VudCBhZnRlciBzdWNjZXNzZnVsIHZlcmlmaWNhdGlvbiBvZiBvdHAuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnZlcmlmeUluc3RhbnRPVFAgPSBmdW5jdGlvbiAob3RwRGF0YSwgcGhvbmVEYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHJlY2FwdGNoYWlkLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciBwYXJhbXMgPSAncGhvbmU9JyArIHBob25lRGF0YS5waG9uZSArICcmJyArIG90cERhdGE7XG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bhc3N3b3JkbGVzc2xvZ2luL290cC92ZXJpZnk/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWUsIHBhcmFtcywgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcbiAgICAgIGlmIChsb2dpblJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGxvZ2luUmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKGxvZ2luUmVzcG9uc2UsIG90cERhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICB9XG4gICAgfSwgJ2xvZ2luIyNvdHAnKTtcbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gc29jaWFsTG9naW5SZWNlaXZlVG9rZW5cbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IG9uTWlzc2luZ0ZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIGF1dG9tYXRlZCBwcm9jZXNzIG9mIGdldHRpbmcgdGhlIHNvY2lhbCBwcm9maWxlIGRhdGEgd2FzIG5vdCBhYmxlIHRvIGZpbGwgb3V0IGFsbCBvZiB0aGUgcmVxdWlyZWQgZmllbGRzXG4gICogQHBhcmFtIHtBcnJheX0gcmVnU2NoZW1hIGFycmF5IG9mIHVzZXIgcmVnLiBmaWVsZHMgb2JqZWN0c1xuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIEltcGxlbWVudCBzb2NhaWwgbG9naW4gcHJvY2VzcyB3aXRoIGFjY2VzcyB0b2tlbiBhbmQgcHJvbXB0IG1pc3NpbmcgZmllbGRzIGlmIGl0cyB0aGVyZS5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuc29jaWFsTG9naW5SZWNlaXZlVG9rZW4gPSBmdW5jdGlvbiAodG9rLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBvbk1pc3NpbmdGaWVsZCwgcmVnU2NoZW1hLCBfcHJvZmlsZSkge1xuICAgIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIgPSBjb250YWluZXI7XG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcbiAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSwgdG9rKTtcbiAgICB2YXIgc29jaWFsUHJvZmlsZUhhbmRsZXIgPSBmdW5jdGlvbiAoX3JlZ1NjaGVtYSkge1xuICAgICAgdmFyIHJlZ2lzdGVyU2NoZW1hID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfcmVnU2NoZW1hKSk7XG4gICAgICAvLyBBZGRlZCB0byBoYW5kbGUgaWYgcHJvZmlsZSBpcyBleGlzdHMuXG4gICAgICB2YXIgb25TdWNjZXNzSGFuZGxlciA9IGZ1bmN0aW9uICh1c2VyUHJvZmlsZSkge1xuICAgICAgICBtb2R1bGUuTFJDaGVja0xvZ2luID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF1c2VyUHJvZmlsZS5Jc0RlbGV0ZWQpIHtcbiAgICAgICAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcbiAgICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XG4gICAgICAgICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gdG9rO1xuICAgICAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHJlZ2lzdGVyU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpKTtcbiAgICAgICAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShyZWdpc3RlclNjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xuICAgICAgICAgIHZhciBhdXRvRmlsbGVkRmllbGQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuYXV0b0ZpbGxlZEZpZWxkRm9yU29jaWFsKSB7XG4gICAgICAgICAgICBhdXRvRmlsbGVkRmllbGQgPSB0cnVlO1xuICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYmVmb3JlRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBzY2hlbWEpIHtcbiAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdzb2NpYWxSZWdpc3RyYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVtYWlsZmllbGQgPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdlbWFpbGlkJyk7XG4gICAgICAgICAgICAgICAgaWYgKGVtYWlsZmllbGQgJiYgZW1haWxmaWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgZW1haWxmaWVsZC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBwaG9uZWZpZWxkID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncGhvbmVpZCcpO1xuICAgICAgICAgICAgICAgIGlmIChwaG9uZWZpZWxkICYmIHBob25lZmllbGQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHBob25lZmllbGQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hID0gY29tbW9uRm5zLm1hcFNjaGVtYShyZWdpc3RlclNjaGVtYSwgdXNlclByb2ZpbGUsIGF1dG9GaWxsZWRGaWVsZCk7XG4gICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdyZWdpc3RyYXRpb25TY2hlbWFGaWx0ZXInLCByZWdpc3RlclNjaGVtYSwgdXNlclByb2ZpbGUpO1xuICAgICAgICAgIHZhciBzYWZhcmlMb2dpbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdMUlRyYWRpdGlvbmFsTG9naW4nKTtcbiAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5yZW1vdmVCcm93c2VyU3RvcmFnZSgnTFJUcmFkaXRpb25hbExvZ2luJyk7XG4gICAgICAgICAgaWYgKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLmxlbmd0aCA+IDAgJiYgIXNhZmFyaUxvZ2luKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc29jaWFsTG9naW5Gb3JtUmVuZGVyJyk7XG4gICAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnc29jaWFsUmVnaXN0cmF0aW9uJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLnVwZGF0ZURhdGEocmVzcG9uc2VPYmplY3QsIGNvbnRhaW5lciwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnc29jaWFsTG9naW4nKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgICAgfSwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uTWlzc2luZ0ZpZWxkKHRvaywgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsIHVzZXJQcm9maWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHBob25lU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKF9yZWdTY2hlbWEsICduYW1lJywgJ3Bob25laWQnKTtcbiAgICAgICAgICAgIHZhciBwaG9uZXJlcSA9IChwaG9uZVNjaGVtYSAmJiAocGhvbmVTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSAhPT0gLTEpKTtcbiAgICAgICAgICAgIHZhciBpc3Bob25lID0gcGhvbmVyZXEgPyAoISF1c2VyUHJvZmlsZS5QaG9uZUlkVmVyaWZpZWQpIDogdXNlclByb2ZpbGUuUGhvbmVJZFZlcmlmaWVkO1xuICAgICAgICAgICAgdmFyIGVtYWlsU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKF9yZWdTY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgICAgICAgIHZhciBlbWFpbHJlcSA9IChlbWFpbFNjaGVtYSAmJiAoZW1haWxTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSAhPT0gLTEpKTtcbiAgICAgICAgICAgIHZhciBpc2VtYWlsID0gZW1haWxyZXEgPyAoISF1c2VyUHJvZmlsZS5FbWFpbFZlcmlmaWVkKSA6IHVzZXJQcm9maWxlLkVtYWlsVmVyaWZpZWQ7XG4gICAgICAgICAgICBpZiAoKChpc3Bob25lIHx8ICFwaG9uZXJlcSkgJiYgKGlzZW1haWwgfHwgIWVtYWlscmVxKSkgfHwgKChpc3Bob25lIHx8ICFwaG9uZXJlcSkgJiYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbikpKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVWlkTmFtZSwgdXNlclByb2ZpbGUuVWlkKTtcbiAgICAgICAgICAgICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMuc2V0VG9rZW4odG9rKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBvblN1Y2Nlc3MocmVzcG9uc2VPYmplY3QpO1xuICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZU9iamVjdCwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxuICAgICAgICAgICAgICBpZiAodXNlclByb2ZpbGUuRW1haWwgIT0gbnVsbCAmJiAhdXNlclByb2ZpbGUuRW1haWxWZXJpZmllZCkge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoW1xuICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWydlbWFpbE5vdFZlcmlmaWVkJ10pXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHBob25lT2JqID0ge1xuICAgICAgICAgICAgICAgICAgJ3Bob25lJzogdXNlclByb2ZpbGUuUGhvbmVJZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb25FcnJvcihbXG4gICAgICAgICAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3Bob25lTm90VmVyaWZpZWQnXSlcbiAgICAgICAgICAgICAgICBdLCBwaG9uZU9iaik7XG4gICAgICAgICAgICAgICAgdmFyIF9vblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUuc29jaWFsTG9naW5GbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAoJ3Bob25lPScgKyB1c2VyUHJvZmlsZS5QaG9uZUlkLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAoJ3Bob25lPScgKyB1c2VyUHJvZmlsZS5QaG9uZUlkICsgJyZub1Bob25lVmVyaWZpZWQ9ZmFsc2UnLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBtb2R1bGUub3B0aW9ucy5pc1ZvaWNlT3RwKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2VuZE9UUENvbnRyb2xsZXIocGhvbmVPYmosIF9vblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25FcnJvcihbXG4gICAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2Jsb2NrZWRVc2VyJ10pXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICghX3Byb2ZpbGUpIHtcbiAgICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQ/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rICsgJyZ2ZXJpZmljYXRpb25Vcmw9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvblVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmd2VsY29tZUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlLCAnJywgZnVuY3Rpb24gKHVzZXJQcm9maWxlKSB7XG4gICAgICAgICAgaWYgKHVzZXJQcm9maWxlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPcmdhbml6YXRpb24pO1xuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcih1c2VyUHJvZmlsZSkpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zZW5kVmVyaWZpY2F0aW9uRW1haWxGb3JVbnZlcmlmaWVkU29jaWFsTG9naW4gJiYgdXNlclByb2ZpbGUuRXJyb3JDb2RlID09PSAxMDI2KSB7XG4gICAgICAgICAgICAgIHZhciBzZW5kVmVyZmljYXRpb25FbWFpbEJ0bkZuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLnNlbmRWZXJpZmljYWlvbkVtYWlsRm9yU29jaWFsQ29udHJvbGxlcih0b2ssIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgdmFyIHNlbmRWZXJmaWNhdGlvbkVtYWlsQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdzZW5kdmVyaWZpY2F0aW9uZW1haWwnLCBfY2xhc3NQcmVmaXgsIHNlbmRWZXJmaWNhdGlvbkVtYWlsQnRuRm4pO1xuICAgICAgICAgICAgICBpZiAoc2VuZFZlcmZpY2F0aW9uRW1haWxCdG4uY2hpbGROb2RlcyAmJiBzZW5kVmVyZmljYXRpb25FbWFpbEJ0bi5jaGlsZE5vZGVzWzBdLmlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZW5kVmVyZmljYXRpb25FbWFpbEJ0bi5jaGlsZE5vZGVzWzBdLmlkKSkge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBzZW5kVmVyZmljYXRpb25FbWFpbEJ0biwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdzb2NpYWxMb2dpbkZvcm1SZW5kZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25TdWNjZXNzSGFuZGxlcih1c2VyUHJvZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAnc29jaWFsTG9naW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3VjY2Vzc0hhbmRsZXIoX3Byb2ZpbGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVnU2NoZW1hID0gKHJlZ1NjaGVtYSAmJiByZWdTY2hlbWEubGVuZ3RoID4gMCkgPyByZWdTY2hlbWEgOiBtb2R1bGUub3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hO1xuICAgIHNvY2lhbFByb2ZpbGVIYW5kbGVyKHJlZ1NjaGVtYSk7XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIGFjY291bnRMaW5raW5nUmVjZWl2ZVRva2VuXG4gICogQHBhcmFtIHtTdHJpbmd9IHRvayA8YWNjZXNzX3Rva2VuPlxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgcHJvdmlkZSBvcHRpb24gdG8gbGluayB0aGUgc29jaWFsIGFjY291bnRzIHRvIHVzZXIgYWNjb3VudC5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuYWNjb3VudExpbmtpbmdSZWNlaXZlVG9rZW4gPSBmdW5jdGlvbiAodG9rLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAoIW1vZHVsZS5vcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbikge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9zb2NpYWxpZGVudGl0eT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksICdjYW5kaWRhdGV0b2tlbj0nICsgdG9rLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAnbGlua0FjY291bnQnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gICogQGZ1bmN0aW9uIHZhbGlkYXRlVG9rZW5cbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBhbGxvd3MgeW91IHRvIHZhbGlkYXRlIGFuIGFjY2Vzc190b2tlbi5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUudmFsaWRhdGVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjZXNzX3Rva2VuL1ZhbGlkYXRlP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3ZhbGlkYXRlVG9rZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihbXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBpbnZhbGlkYXRlVG9rZW5cbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBhbGxvd3MgeW91IHRvIGludmFsaWRhdGUgYSB0b2tlbi5cbiAgKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuaW52YWxpZGF0ZVRva2VuID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2Nlc3NfdG9rZW4vSW5WYWxpZGF0ZT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICdpbnZhbGlkYXRlVG9rZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihbXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxuICAgICAgXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiB1cGRhdGVQcml2YWN5UG9saWN5XG4gICogQHBhcmFtIHtTdHJpbmd9IGFjY2Vzc1Rva2VuIDxhY2Nlc3NfdG9rZW4+XG4gICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBQcml2YWN5UG9saWN5IHNlcnZpY2UgcmVzcG9uc2Ugb2JqZWN0XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGZsYWcgd2lsbCBkZXRlcm1pbmUgaG93IHNldCBkYXRhIHZhcmFpYmxlXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlmXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXBkYXRlIFByaXZhY3lQb2xpY3kgYW5kIGxvZ2luIHRvdXNlciBhY2NvdW50LlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVQcml2YWN5UG9saWN5ID0gZnVuY3Rpb24gKGFjY2Vzc1Rva2VuLCByZXN1bHQsIG9uU3VjY2Vzcywgb25FcnJvciwgZmxhZywgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcHJpdmFjeXBvbGljeS9hY2NlcHQ/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgZGF0YSA9IHJlc3BvbnNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSByZXN1bHQuRGF0YSB8fCB7fTtcbiAgICAgICAgICBkYXRhLmFjY2Vzc190b2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgICAgICAgIGRhdGEuUHJvZmlsZSA9IHJlc3BvbnNlO1xuICAgICAgICAgIGRhdGEuUHJvZmlsZSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEuUHJvZmlsZSwge1xuICAgICAgICAgICAgJ0lzTGF0ZXN0UHJpdmFjeVBvbGljeSc6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvblN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgIGlmIChkYXRhLlByb2ZpbGUpIHtcbiAgICAgICAgICBpZiAoKGRhdGEuUHJvZmlsZS5SZWdpc3RyYXRpb25Qcm92aWRlcikudG9Mb3dlckNhc2UoKSA9PT0gJ2VtYWlsJykge1xuICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4oZGF0YSwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLnNvY2lhbExvZ2luUmVjZWl2ZVRva2VuKGFjY2Vzc1Rva2VuLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAndXBkYXRlUHJpdmFjeVBvbGljeScpO1xuICB9O1xuXG4gIC8qKlxuICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gKiBAZnVuY3Rpb24gY29uZmlndXJlUElOQ29udHJvbGxlclxuICogQHBhcmFtIHtTdHJpbmd9IHBpbkF1dGhUb2tlbiBwaW5BdXRoVG9rZW4gb2JidGFpbmVkIGZyb20gY29yZSBBUElzIGlmIFBJTiBpcyBub3QgY29uZmlndXJlZCBhZG4gbWFuZGF0b3J5IHRvIHNldHVwIGF0IGxvZ2luXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBGb3JtIGRhdGEgc3VibWl0dGVkIGJ5IHVzZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNvbmZpZ3VyZSB0aGUgUElOIHdpdGggcGluIGF1dGggdG9rZW4uXG4gKi9cbiAgY29udHJvbGxlcnNNb2R1bGUuY29uZmlndXJlUElOQ29udHJvbGxlciA9IGZ1bmN0aW9uIChwaW5BdXRoVG9rZW4sIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnUE9TVCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bpbi9zZXQvcGluYXV0aHRva2VuP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZwaW5hdXRodG9rZW49JyArIHBpbkF1dGhUb2tlbiwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5Qcm9maWxlKSB7XG4gICAgICAgICAgaWYgKChyZXNwb25zZS5Qcm9maWxlLlJlZ2lzdHJhdGlvblByb3ZpZGVyKS50b0xvd2VyQ2FzZSgpID09PSAnZW1haWwnKSB7XG4gICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZSwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLnNvY2lhbExvZ2luUmVjZWl2ZVRva2VuKHJlc3BvbnNlLmFjY2Vzc190b2tlbiwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ3BpblNldHVwJyk7XG4gIH07XG4gIC8qKlxuKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiogQGZ1bmN0aW9uIHBpblJlYXV0aENvbnRyb2xsZXJcbiogQHBhcmFtIHtTdHJpbmd9IGRhdGEgRm9ybSBkYXRhIHN1Ym1pdHRlZCBieSB1c2VyXG4qIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4qIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHZlcmlmeSB0aGUgdXNlciBwaW4uXG4qL1xuICBjb250cm9sbGVyc01vZHVsZS5waW5SZWF1dGhDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvcmVhdXRoL3Bpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3BpbnJlYXV0aGVudGljYXRpb24nKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4qIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuKiBAZnVuY3Rpb24gY3VzdG9tRXZlbnRDb25zZW50Q29udHJvbGxlclxuKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBGb3JtIGRhdGEgc3VibWl0dGVkIGJ5IHVzZXJcbiogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4qIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgcHJvdmlkZSBhIHdheSB0byBlbmQgdXNlciB0byBzdWJtaXQgYSBjb25zZW50IGZvcm0gZm9yIHBhcnRpY3VsYXIgZXZlbnQgdHlwZS5cbiovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmN1c3RvbUV2ZW50Q29uc2VudENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2NvbnNlbnQvcHJvZmlsZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ2N1c3RvbWV2ZW50Y29uc2VudCcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4qIEBmdW5jdGlvbiBzdWJtaXRDb25zZW50Q29udHJvbGxlclxuKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBGb3JtIGRhdGEgc3VibWl0dGVkIGJ5IHVzZXJcbiogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4qIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdmVyaWZ5IHRoZSB1c2VyIHBpbi5cbiovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnN1Ym1pdENvbnNlbnRDb250cm9sbGVyID0gZnVuY3Rpb24gKGNvbnNlbnRUb2tlbiwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgYWN0aW9uKSB7XG4gICAgaWYgKGNvbnNlbnRUb2tlbikge1xuICAgICAgYWN0aW9uID0gYWN0aW9uIHx8ICdzdWJtaXRjb25zZW50JztcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvY29uc2VudC8/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmNvbnNlbnR0b2tlbj0nICsgY29uc2VudFRva2VuLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVxdWlyZWRGaWVsZCA9IGZ1bmN0aW9uICh1c2VyUHJvZmlsZSwgbG9naW5SZXNwb25zZSwgYWNjZXNzVG9rZW4sIGZvcm1EYXRhLCBfb25TdWNjZXNzLCBfb25FcnJvcikge1xuICAgICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0obW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsICdsb2dpblJlcXVpcmVkRmllbGRzVXBkYXRlJywgY29udGFpbmVyLCBmdW5jdGlvbiAoX2Zvcm1EYXRhKSB7XG4gICAgICAgICAgICAgIHZhciByZXNwb25zZU9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XG4gICAgICAgICAgICAgIHJlc3BvbnNlT2JqZWN0LmFjY2Vzc190b2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVEYXRhKHJlc3BvbnNlT2JqZWN0LCBjb250YWluZXIsIF9mb3JtRGF0YSwgX29uU3VjY2VzcywgX29uRXJyb3IsIF9jbGFzc1ByZWZpeCwgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsICdsb2dpbicsIHRydWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgICBfb25FcnJvcihjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShlcnJvcnMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLlByb2ZpbGUpIHtcbiAgICAgICAgICAgIGlmICgocmVzcG9uc2UuUHJvZmlsZS5SZWdpc3RyYXRpb25Qcm92aWRlcikudG9Mb3dlckNhc2UoKSA9PT0gJ2VtYWlsJykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5oYW5kbGVGZWF0dXJlcyhyZXNwb25zZSwgJycsIHJlcXVpcmVkRmllbGQsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5zb2NpYWxMb2dpblJlY2VpdmVUb2tlbihyZXNwb25zZS5hY2Nlc3NfdG9rZW4sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsICcnLCAnJywgcmVzcG9uc2UuUHJvZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBhY3Rpb24pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4qIEBmdW5jdGlvbiB2ZXJpZnlDb25zZW50Q29udHJvbGxlclxuKiBAcGFyYW0ge09iamVjdH0gZGF0YSBKU09OIERhdGEgc3VibWl0dGVkIGJ5IHVzZXJcbiogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGlmIGNvbnNlbnQgaXMgc3VibWl0dGVkIGZvciBhIHBhcnRpY3VsYXIgZXZlbnQgb3Igbm90LlxuKi9cbiAgY29udHJvbGxlcnNNb2R1bGUudmVyaWZ5Q29uc2VudENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGlzQ3VzdG9tID0gZGF0YS5pc0N1c3RvbSA/IGRhdGEuaXNDdXN0b20gOiBmYWxzZTtcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvY29uc2VudC92ZXJpZnk/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJmV2ZW50PScgKyBkYXRhLmV2ZW50ICsgJyZpc0N1c3RvbT0nICsgaXNDdXN0b20sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9LCAndmVyaWZ5Y29uc2VudCcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcbiAgKiBAZnVuY3Rpb24gY29zZW50TG9nc0NvbnRyb2xsZXJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBiZSB1c2VkIHRvIGZldGNoIGNvc2VudCBsb2dzLlxuICAqL1xuICBjb250cm9sbGVyc01vZHVsZS5jb25zZW50TG9nc0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAob25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2NvbnNlbnQvbG9ncz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0sICdjb3NlbnRsb2dzJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiB1cGRhdGVDb25zZW50Q29udHJvbGxlclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBhcnJheSBvZiBvYmplY3RzIGNvbmF0aW5pbmcgY29uc2VudHMgd2hpY2ggbmVlZHMgdG8gYmUgdXBkYXRlZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGJlIHVzZWQgdG8gZmV0Y2ggY29zZW50IGxvZ3MuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnVwZGF0ZUNvbnNlbnRDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9jb25zZW50Lz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3VwZGF0ZWNvbnNlbnQnKTtcbiAgICB9XG4gIH07XG5cbiAgY29udHJvbGxlcnNNb2R1bGUuc2VuZE1GQUVtYWlsT1RQQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4LCByZXNlbmQpIHtcbiAgICB2YXIgdHdvRmFjdG9yVG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFR3b0ZBVG9rZW4pO1xuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICBpZiAodG9rZW4gJiYgIW1vZHVsZS5MUkNoZWNrTG9naW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50LzJmYS9vdHAvZW1haWw/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJkVtYWlsSWQ9JyArIGRhdGEuRW1haWxJZCArICcmRW1haWxUZW1wbGF0ZTJGQT0nICsgbW9kdWxlLm9wdGlvbnMuRW1haWxUZW1wbGF0ZTJGQSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghcmVzZW5kKSB7XG4gICAgICAgICAgICBkYXRhWydtZmFFbWFpbFRva2VuJ10gPSB0cnVlO1xuICAgICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3NlbmRNRkFFbWFpbE9UUCcpO1xuICAgIH0gZWxzZSBpZiAodHdvRmFjdG9yVG9rZW4pIHtcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMmZhL290cC9lbWFpbD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgdHdvRmFjdG9yVG9rZW4gKyAnJkVtYWlsVGVtcGxhdGUyRkE9JyArIG1vZHVsZS5vcHRpb25zLkVtYWlsVGVtcGxhdGUyRkEsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghcmVzZW5kKSB7XG4gICAgICAgICAgICBkYXRhWydtZmFFbWFpbFRva2VuJ10gPSB0cnVlO1xuICAgICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ3NlbmRNRkFFbWFpbE9UUCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKFtcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcbiAgY29udHJvbGxlcnNNb2R1bGUuc3VibWl0TUZBU2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcbiAgICB2YXIgdHdvRmFjdG9yVG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFR3b0ZBVG9rZW4pO1xuICAgIC8vIE1ha2UgY29tbW9uIGZuXG4gICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3QgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0dmFsdWVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25zQ291bnQ7IGkrKykge1xuICAgICAgc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdHZhbHVlcy5wdXNoKHtcbiAgICAgICAgJ1F1ZXN0aW9uSWQnOiBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0WydzZWN1cml0eVF1ZXN0aW9uJyArIGldLFxuICAgICAgICAnQW5zd2VyJzogc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdFsnc2VjdXJpdHlBbnN3ZXInICsgaV1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uT2JqZWN0ID0ge1xuICAgICAgJ1NlY3VyaXR5UXVlc3Rpb25BbnN3ZXInOiBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0dmFsdWVzXG4gICAgfTtcblxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yZmEvc2VjdXJpdHlxdWVzdGlvbmFuc3dlcj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgdHdvRmFjdG9yVG9rZW4sIHNlY3VyaXR5UXVlc3Rpb25PYmplY3QsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb2R1bGUuTFJDaGVjazJGQSA9IGZhbHNlO1xuICAgICAgICBjb250cm9sbGVyc01vZHVsZS5oYW5kbGVGZWF0dXJlcyhyZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICB9XG4gICAgfSwgJ3N1Ym1pdE1GQVNlY3VyaXR5UXVlc3Rpb25zQ29udHJvbGxlcicpO1xuICB9O1xuICBjb250cm9sbGVyc01vZHVsZS52ZXJpZnlNRkFTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xuICAgIHZhciB0d29GYWN0b3JUb2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVHdvRkFUb2tlbik7XG4gICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3QgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0dmFsdWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3QpIHtcbiAgICAgIGlmIChrZXkgIT09ICdzZXRzZWN1cml0eXF1ZXN0aW9ucycpIHtcbiAgICAgICAgc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdHZhbHVlcy5wdXNoKHtcbiAgICAgICAgICAnUXVlc3Rpb25JZCc6IGtleSxcbiAgICAgICAgICAnQW5zd2VyJzogc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdFtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3QgPSB7XG4gICAgICAnU2VjdXJpdHlRdWVzdGlvbkFuc3dlcic6IHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3R2YWx1ZXNcbiAgICB9O1xuICAgIHZhciB0ZW1wbGF0ZSA9ICcnO1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5yaXNrQmFzZWRBdXRoZW50aWNhdGlvbikge1xuICAgICAgdGVtcGxhdGUgKz0gJyZSYmFPbmVjbGlja0VtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYU9uZWNsaWNrRW1haWxUZW1wbGF0ZSArICcmUmJhT1RQU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYU9UUFNtc1RlbXBsYXRlICsgJyZSYmFDaXR5RW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ2l0eUVtYWlsVGVtcGxhdGUgKyAnJlJiYUNvdW50cnlFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDb3VudHJ5RW1haWxUZW1wbGF0ZSArICcmUmJhQnJvd3NlckVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlICsgJyZSYmFJcEVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUlwRW1haWxUZW1wbGF0ZSArICcmUmJhRGV2aWNlRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhRGV2aWNlRW1haWxUZW1wbGF0ZSArICcmUmJhQ2l0eVNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFDaXR5U21zVGVtcGxhdGUgKyAnJlJiYUNvdW50cnlTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ291bnRyeVNtc1RlbXBsYXRlO1xuICAgICAgdGVtcGxhdGUgKz0gJyZSYmFCcm93c2VyU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUJyb3dzZXJTbXNUZW1wbGF0ZSArICcmUmJhSXBTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhSXBTbXNUZW1wbGF0ZSArICcmUmJhRGV2aWNlU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYURldmljZVNtc1RlbXBsYXRlO1xuICAgIH1cbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luLzJmYS92ZXJpZmljYXRpb24vc2VjdXJpdHlxdWVzdGlvbmFuc3dlcj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbj0nICsgdHdvRmFjdG9yVG9rZW4gKyB0ZW1wbGF0ZSwgc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZHVsZS5MUkNoZWNrMkZBID0gZmFsc2U7XG4gICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmhhbmRsZUZlYXR1cmVzKHJlc3BvbnNlLCBkYXRhLCByZXF1aXJlZEZpZWxkLCBwYXNzd29yZEV4cGlyeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgIH1cbiAgICB9LCAndmVyaWZ5TUZBU2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyJyk7XG4gIH07XG4gIGNvbnRyb2xsZXJzTW9kdWxlLnZlcmlmeU1GQVNlY3VyaXR5UXVlc3Rpb25zQnlBY2Nlc3NUb2tlbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBoYXZlU2VjdXJpdHlRdWVzdGlvbk9uUHJvZmlsZSwgbWZhUXVlc3Rpb25zKSB7XG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0ID0ge307XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3QgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3R2YWx1ZXMgPSBbXTtcbiAgICAgIGlmICghbWZhUXVlc3Rpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbnNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdHZhbHVlcy5wdXNoKHtcbiAgICAgICAgICAgICdRdWVzdGlvbklkJzogc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdFsnc2VjdXJpdHlRdWVzdGlvbicgKyBpXSxcbiAgICAgICAgICAgICdBbnN3ZXInOiBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0WydzZWN1cml0eUFuc3dlcicgKyBpXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdCkge1xuICAgICAgICAgIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3R2YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAnUXVlc3Rpb25JZCc6IGtleSxcbiAgICAgICAgICAgICdBbnN3ZXInOiBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0W2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdCA9IHtcbiAgICAgICAgJ1NlY3VyaXR5UXVlc3Rpb25BbnN3ZXInOiBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0dmFsdWVzXG4gICAgICB9O1xuICAgIH1cbiAgICBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0WydSZXBsYWNlU2VjdXJpdHlRdWVzdGlvbkFuc3dlciddID0gIWhhdmVTZWN1cml0eVF1ZXN0aW9uT25Qcm9maWxlO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50LzJmYS9zZWN1cml0eXF1ZXN0aW9uYW5zd2VyP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuLCBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcbiAgICAgIH1cbiAgICB9LCAndmVyaWZ5TUZBU2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyJyk7XG4gIH07XG4gIC8qKlxuICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXG4gKiBAZnVuY3Rpb24gZW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gdnRva2VuIHZlcmlmaWNhdGlvbiB0b2tlbiBzdHJpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZmxhZyB0byBkZXRlcm1pbmUgd2hpY2ggbWV0aG9kIHVzZWQgdG8gY2FsbCBhcGkgKEdFVCB3aXRoIFVSTCBvciBQVVQgd2l0aCBwYXJhbSlcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byB2ZXJpZnkgdXNlciBhY2NvdW50IGVtYWlsIGJ5IHVzaW5nIHZlcmlmaWNhdGlvbiB0b2tlbi5cbiAqL1xuICBjb250cm9sbGVyc01vZHVsZS5vbmVUb3VjaExvZ2luVmVyaWZ5ID0gZnVuY3Rpb24gKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2VtYWlsL3NtYXJ0bG9naW4/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZTtcbiAgICB1cmwgKz0gJyZ2ZXJpZmljYXRpb250b2tlbj0nICsgdnRva2VuO1xuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCB1cmwsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCAnb25lVG91Y2hMb2dpblZlcmlmeScpO1xuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xuICAqIEBmdW5jdGlvbiBvbmVUb3VjaExvZ2luRW1haWxWZXJpZmljYXRpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gdnRva2VuIHZlcmlmaWNhdGlvbiB0b2tlblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgVmVyaWZ5IG9uZSB0b3VjaCBsb2dpbiBlbWFpbCBieSB1c2luZyB2ZXJpZmljYXRpb24gdG9rZW4gYW5kIGxvZ2luIHRvIGFjY291bnQgaWYgdmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWwuXG4gICovXG4gIGNvbnRyb2xsZXJzTW9kdWxlLm9uZVRvdWNoTG9naW5FbWFpbFZlcmlmaWNhdGlvbiA9IGZ1bmN0aW9uICh2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZW1haWwpIHtcbiAgICBpZiAodnRva2VuKSB7XG4gICAgICB2YXIgX2VtYWlsID0gZW1haWwgPyAnJmVtYWlsPScgKyBlbWFpbCA6ICcnO1xuICAgICAgdmFyIHJvdXRlID0gZW1haWwgPyAnb25ldG91Y2hsb2dpbicgOiAnc21hcnRsb2dpbic7XG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvZW1haWwvJyArIHJvdXRlICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmdmVyaWZpY2F0aW9udG9rZW49JyArIHZ0b2tlbiArICcmd2VsY29tZUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlICsgX2VtYWlsLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGVtYWlsKSB7XG4gICAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZSwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAnc21hcnRsb2dpbicpO1xuICAgIH1cbiAgfTtcbiAgY29udHJvbGxlcnNNb2R1bGUuc2VuZFZlcmlmaWNhaW9uRW1haWxGb3JTb2NpYWxDb250cm9sbGVyID0gZnVuY3Rpb24gKHRvaywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGZsYWcpIHtcbiAgICB2YXIgdG9rZW4gPSAoZmxhZyA9PT0gJ2NsaWVudGd1aWQnKSA/ICcmY2xpZW50Z3VpZD0nICsgdG9rIDogJyZhY2Nlc3NfdG9rZW49JyArIHRvaztcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvZW1haWwvc2VuZHZlcmlmaWNhdGlvbmVtYWlsP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgdG9rZW4gKyAnJnZlcmlmaWNhdGlvblVybD0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uVXJsICsgJyZlbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlLCAnJywgZnVuY3Rpb24gKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpIHtcbiAgICAgIGlmIChlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQgPSB0cnVlO1xuICAgICAgICBjb21tb25GbnMubG9nb3V0KG9uU3VjY2VzcyhlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSk7XG4gICAgICAgIGlmIChjb21tb25GbnMuc2hvd09UUFRlbXBsYXRlRm9ybSgnUmVnaXN0cmF0aW9uJykgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgdmFyIHV1aWQgPSBlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlLlVVSUQ7XG4gICAgICAgICAgY29tbW9uRm5zLm90cEVtYWlsVmVyaWZpY2F0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgeyB1dWlkOiB1dWlkIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgJ3NlbmRWZXJpZmljYXRpb25FbWFpbCcpO1xuICB9O1xufVxuXG4vKipcbiogQHBhcmFtIHtPYmplY3R9IGxyT3B0aW9ucyBsciBjb21tb24gb3B0aW9ucyBvYmplY3RcbiogQGRlc2NyaXB0aW9uIFNldCBnbG9iYWwgTG9naW5SYWRpdXNWMi5cbiogQGNvbnN0cnVjdG9yXG4qL1xudmFyIExvZ2luUmFkaXVzVjIgPSBmdW5jdGlvbiAobHJPcHRpb25zKSB7XG4gIHRoaXMuZ2xvYmFsID0gd2luZG93O1xuICAvLyAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICB2YXIgbW9kdWxlID0gdGhpcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBjb21tb25GbnMgPSBuZXcgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMobW9kdWxlKTtcbiAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBjb21tb25GbnMpO1xuXG4gIHZhciBkZWZhdWx0QnV0dG9uc05hbWUgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmJ1dHRvbk5hbWVzO1xuICB2YXIgZGVmYXVsdE1lc3NhZ2VzID0gTG9naW5SYWRpdXNEZWZhdWx0cy5tZXNzYWdlcztcblxuICB2YXIgX3V1aWRGb3JtYXQgPSBMb2dpblJhZGl1c0RlZmF1bHRzLl91dWlkRm9ybWF0O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgbHJUb2tlbiA9IGhhc2guZ2V0KCdsci10b2tlbicpO1xuXG4gIHRyeSB7XG4gICAgaWYgKGxyVG9rZW4gJiYgd2luZG93Lm9wZW5lciAmJiB3aW5kb3cub3BlbmVyLmh0bWw1cGFzc1Rva2VuKSB7XG4gICAgICB3aW5kb3cub3BlbmVyLmh0bWw1cGFzc1Rva2VuKGxyVG9rZW4pO1xuICAgICAgZG9jdW1lbnQud3JpdGUoXCI8c3R5bGUgdHlwZT0ndGV4dC9jc3MnPmJvZHkgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0gPC9zdHlsZT5cIik7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGhhc2gucmVtb3ZlKCdsci10b2tlbicpO1xuICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBjb250aW51ZSByZWdhcmRsZXNzIG9mIGVycm9yXG4gIH1cbiAgdmFyIHV0aWxpdGllcyA9IG5ldyBMUk5hbWVTcGFjZS5VdGlsaXRpZXMoKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIG1vZHVsZS51dGlsID0gbmV3IExvZ2luUmFkaXVzVXRpbGl0eShtb2R1bGUsIGxyT3B0aW9ucyk7XG4gIG1vZHVsZS5zdG9yYWdlID0gbmV3IExSTmFtZVNwYWNlLlN0b3JhZ2UobW9kdWxlLCBMb2dpblJhZGl1c0RlZmF1bHRzKTtcbiAgLy8gYWRkZWQgZm9yIGN1c3RvbWVyIHVzZWNhc2UgZmFsbGJhY2tcbiAgdmFyIHV0aWwgPSBtb2R1bGUudXRpbCA9IE9iamVjdC5hc3NpZ24odXRpbGl0aWVzLCBtb2R1bGUudXRpbCwgbW9kdWxlLnN0b3JhZ2UpO1xuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAZnVuY3Rpb24gdHJhY2tFdmVudFxuICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBbb3B0aW9uYWwsIGRlZmF1bHQgaXMgcGFnZVZpZXddIHBvc3NpYmxlIHZhbHVlcyAtPiBwYWdlVmlldywgY2xpY2ssIGhvdmVyLCBsb2dpbiwgc2lnbnVwLCBsb2dvdXQsIHNoYXJlIGFuZCBhbnkgb3RoZXIgY3VzdG9tIGV2ZW50IHlvdSB3YW50XG4gICogQHBhcmFtIHtTdHJpbmd9IHByb3ZpZGVyIFtvcHRpb25hbCwgZGVmYXVsdCBpcyBudWxsXSB1c2VyJ3MgbG9naW4gcHJvdmlkZXJcbiAgKiBAcGFyYW0ge09iamVjdH0gY3VzdG9tRmllbGRzIFtvcHRpb25hbCwgZGVmYXVsdCBpcyBudWxsXSB0aGlzIHdpbGwgb2JqZWN0LCBsaWtlIHsgXCJjZl9vcmRlcmlkXCIgOiBcIjUzNDU1MlwiLCBcImNmX3Byb2R1Y3RJZFwiIDpcIjQxMjQxMjQxMlwiIH1cbiAgKiBAZGVzY3JpcHRpb24gQ2FuIHVzZSBjdXN0b20gZXZlbnRzIGJ5IHVzaW5nIHRoaXMgZnVuY3Rpb24uXG4gICovXG4gIHRoaXMudHJhY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGVidWdNb2RlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdBbm9ueW1vdXMgbG9naW4gZmVhdHVyZSBoYXMgYmVlbiBkZXByZWNhdGVkJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXG4gICogQGZ1bmN0aW9uIHVuTGlua0FjY291bnRcbiAgKiBAcGFyYW0ge1N0cmluZ30gcHJvdmlkZXIgdXNlcidzIGxvZ2luIHByb3ZpZGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHByb3ZpZGVySWQgdXNlcidzIGxvZ2luIHByb3ZpZGVyIGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gdW5saW5rT25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1bmxpbmtPbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1bmxpbmsgc29jaWFsIGFjY291bnQuXG4gICovXG4gIHV0aWwudW5MaW5rQWNjb3VudCA9IGZ1bmN0aW9uIChwcm92aWRlciwgcHJvdmlkZXJJZCwgdW5saW5rT25TdWNjZXNzLCB1bmxpbmtPbkVycm9yKSB7XG4gICAgdW5saW5rT25TdWNjZXNzID0gdW5saW5rT25TdWNjZXNzIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICB1bmxpbmtPbkVycm9yID0gdW5saW5rT25FcnJvciB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgaWYgKHByb3ZpZGVyICYmIHByb3ZpZGVySWQpIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAncHJvdmlkZXInOiBwcm92aWRlcixcbiAgICAgICAgJ3Byb3ZpZGVyaWQnOiBwcm92aWRlcklkXG4gICAgICB9O1xuICAgICAgdmFyIHRvayA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICAgIGlmICghdG9rKSB7XG4gICAgICAgIHVubGlua09uRXJyb3IoW1xuICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndG9rZW5WYWxpZCddKVxuICAgICAgICBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0aWwuYWpheENhbGwoJ2RlbGV0ZScsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3NvY2lhbElkZW50aXR5P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRvaywgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgdW5saW5rT25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bmxpbmtPblN1Y2Nlc3MocmVzcG9uc2UsIGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgJ3VuTGlua0FjY291bnQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIExvZ2luUmFkaXVzSG9va3NNb2RlbChtb2R1bGUpO1xuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBhZGRSZW1lbWJlck1lU2NoZW1hXG4gICogQHBhcmFtIHtBcnJheX0gU2NoZW1hIGFycmF5IG9mIHNjaGVtYSBmaWVsZCBvYmplY3RzXG4gICogQHJldHVybiB7QXJyYXl9IFNjaGVtYSBhcnJheSBvZiBzY2hlbWEgZmllbGQgb2JqZWN0c1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWRkIHJlbWVtYmVyIG1lIG9uIHVzZXIgYWNjb3VudCBTY2hlbWEuXG4gICovXG4gIGZ1bmN0aW9uIGFkZFJlbWVtYmVyTWVTY2hlbWEgKFNjaGVtYSkge1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcbiAgICAgIHZhciBhZGRyZW1lbWJlck1lQ2hlY2sgPSB0cnVlO1xuICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBTY2hlbWEubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgaWYgKFNjaGVtYVt0XS5uYW1lID09PSAnc3RheUxvZ2luJykge1xuICAgICAgICAgIGFkZHJlbWVtYmVyTWVDaGVjayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWRkcmVtZW1iZXJNZUNoZWNrKSB7XG4gICAgICAgIHZhciByZW1lbWJlck1lT2JqID0ge1xuICAgICAgICAgIHR5cGU6ICdtdWx0aScsXG4gICAgICAgICAgbmFtZTogJ3N0YXlMb2dpbicsXG4gICAgICAgICAgZGlzcGxheTogJ1JlbWVtYmVyIG1lJyxcbiAgICAgICAgICBydWxlczogbnVsbCxcbiAgICAgICAgICBwZXJtaXNzaW9uOiAndydcbiAgICAgICAgfTtcblxuICAgICAgICBTY2hlbWEucHVzaChyZW1lbWJlck1lT2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFNjaGVtYTtcbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIHBhc3N3b3JkbGVzc0xvZ2luXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW1wbGVtZW50IHBhc3N3b3JkbGVzcyBsb2dpbiBwcm9jZXNzLlxuICAqL1xuICBmdW5jdGlvbiBwYXNzd29yZGxlc3NMb2dpbiAob25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgdnRva2VuID0gdXRpbC5nZXRIYXNoUGFyYW0oJ3Z0b2tlbicpO1xuICAgIHZhciB2dHlwZSA9IHV0aWwuZ2V0SGFzaFBhcmFtKCd2dHlwZScpO1xuICAgIGlmICgodnR5cGUgPT09ICdvbmVjbGlja3NpZ25pbicgfHwgdnR5cGUgPT09ICdwYXNzd29yZGxlc3Nsb2dpbicpICYmICFtb2R1bGUucGFzc3dvcmRsZXNzTG9naW5GbGFnKSB7XG4gICAgICBtb2R1bGUucGFzc3dvcmRsZXNzTG9naW5GbGFnID0gdHJ1ZTtcbiAgICAgIGNvbW1vbkZucy5wYXNzd29yZGxlc3NMb2dpblZlcmlmaWNhdGlvbih2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBhY2NlcHRQcml2YWN5UG9saWN5XG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBwcm9tcHQgdXNlciB0byBhY2NlcHQgcHJpdmFjeSBwb2xpY3kuXG4gICovXG4gIGZ1bmN0aW9uIGFjY2VwdFByaXZhY3lQb2xpY3kgKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24uSXNFbmFibGVkKSB7XG4gICAgICB2YXIgdG9rID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgICAgaWYgKCF0b2spIHtcbiAgICAgICAgb25FcnJvcihbXG4gICAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0b2tlblZhbGlkJ10pXG4gICAgICAgIF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHByaXZhY3lTY2hlbWEgPSBtb2R1bGUucHJpdmFjeVBvbGljeVNjaGVtYS5zbGljZSgpO1xuICAgICAgICBwcml2YWN5U2NoZW1hWzBdLnJ1bGVzID0gbW9kdWxlLm9wdGlvbnMucHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24uTW9kZSA9PT0gJ1N0cmljdCcgPyAncmVxdWlyZWQnIDogJyc7XG4gICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHByaXZhY3lTY2hlbWEsICdwcml2YWN5UG9saWN5VXBkYXRlJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVByaXZhY3lQb2xpY3kodG9rLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCB0cnVlLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gbG9naW5cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgdXNlciBsb2dpbiBmb3JtLlxuICAqL1xuICBmdW5jdGlvbiBsb2dpbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciB2dG9rZW4gPSB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XG4gICAgdmFyIHZ0eXBlID0gdXRpbC5nZXRIYXNoUGFyYW0oJ3Z0eXBlJyk7XG4gICAgdmFyIGxvZ2luU2NoZW1hO1xuICAgIHZhciBzZXNzaW9uVG9rZW4gPSBtb2R1bGUuZ2V0U2Vzc2lvblRva2VuKCk7XG5cbiAgICAvKiogRHVvIFZhbGlkYXRpb24gKi9cbiAgICB0cnkge1xuICAgICAgY29uc3QgZHVvQ29kZSA9IHV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ2R1b19jb2RlJyk7XG4gICAgICBsZXQgZHVvU3RhdGUgPSB1dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdkdW9fc3RhdGUnKTtcbiAgICAgIGlmICghZHVvU3RhdGUpIHtcbiAgICAgICAgZHVvU3RhdGUgPSB1dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdzdGF0ZScpO1xuICAgICAgfVxuICAgICAgaWYgKGR1b0NvZGUgJiYgZHVvU3RhdGUgJiYgIW1vZHVsZS5kdW9Mb2dpbkZsYWcpIHtcbiAgICAgICAgbW9kdWxlLmR1b0xvZ2luRmxhZyA9IHRydWU7XG4gICAgICAgIGNvbnRyb2xsZXJzLmR1b1ZlcmlmeUNvbnRyb2xsZXIoeyBDb2RlOiBkdW9Db2RlLCBTdGF0ZTogZW5jb2RlVVJJQ29tcG9uZW50KGR1b1N0YXRlKSB9LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBjb250aW51ZSByZWdhcmRsZXNzIG9mIGVycm9yXG4gICAgfVxuICAgIHZhciBfcmVxdWlyZWRGaWVsZCA9IGZ1bmN0aW9uICh1c2VyUHJvZmlsZSwgbG9naW5SZXNwb25zZSwgYWNjZXNzVG9rZW4sIGRhdGEsIF9vblN1Y2Nlc3MsIF9vbkVycm9yKSB7XG4gICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ2xvZ2luUmVxdWlyZWRGaWVsZHNVcGRhdGUnLCBjb250YWluZXIsIGZ1bmN0aW9uIChfcmVzRGF0YSkge1xuICAgICAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcbiAgICAgICAgcmVzcG9uc2VPYmplY3QuUHJvZmlsZSA9IHVzZXJQcm9maWxlO1xuICAgICAgICByZXNwb25zZU9iamVjdC5hY2Nlc3NfdG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICAgICAgY29udHJvbGxlcnMudXBkYXRlRGF0YShyZXNwb25zZU9iamVjdCwgY29udGFpbmVyLCBfcmVzRGF0YSwgX29uU3VjY2VzcywgX29uRXJyb3IsIF9jbGFzc1ByZWZpeCwgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsICdsb2dpbicsIHRydWUpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICBfb25FcnJvcihjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShlcnJvcnMpKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHJlbmRlckxvZ2luRm9ybSA9IGZ1bmN0aW9uIChzY2hlbWEsIGFjdGlvbk5hbWUpIHtcbiAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgYWN0aW9uTmFtZSwgY29udGFpbmVyLCBmdW5jdGlvbiAobG9naW5EYXRhKSB7XG4gICAgICAgIG1vZHVsZS5MUkNoZWNrTG9naW4gPSB0cnVlO1xuICAgICAgICBpZiAod2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2luJ10pIHtcbiAgICAgICAgICBjb21tb25GbnMuc2VuZEluc3RhbnRTaWduSW5MaW5rKGxvZ2luRGF0YSwgKHNkYXRhLCBwYXlsb2FkRGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbW1vbkZucy5zaG93T1RQVGVtcGxhdGVGb3JtKCdPbmVDbGlja1NpZ25pbicpKSB7XG4gICAgICAgICAgICAgIGNvbW1vbkZucy5vdHBFbWFpbFZlcmlmaWNhdGlvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXlsb2FkRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblN1Y2Nlc3Moc2RhdGEpO1xuICAgICAgICAgIH0sIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW5vdHAnXSkge1xuICAgICAgICAgIGNvbW1vbkZucy5zZW5kSW5zdGFudFNpZ25Jbk90cChsb2dpbkRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfcGFzc3dvcmRFeHBpcnkgPSBmdW5jdGlvbiAodXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZXZlbnQgZmlyZXMgb25seSB3aGVuIHBlcmlvZGljIHBhc3N3b3JkIHJlc2V0IGVuYWJsZWRcbiAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5jaGFuZ2VQYXNzd29yZEZvcm1TY2hlbWEsICdjaGFuZ2VwYXNzd29yZCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKHJlc2V0RGF0YSkge1xuICAgICAgICAgICAgICBjb250cm9sbGVycy5wZXJpb2RpY2FsUGFzc3dvcmRSZXN0Q29udHJvbGxlcihyZXNldERhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgdXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UsIGxvZ2luRGF0YSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgLyogaWYgKHdpbmRvd1snbHJwYXNza2V5QXV0b2ZpbGwnXSkge1xuICAgICAgICAgICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gJ2VtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUgKyAnJnZlcmlmaWNhdGlvblVybD0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uVXJsO1xuICAgICAgICAgICAgY29udHJvbGxlcnMucGFzc2tleUZpbmlzaENvbnRyb2xsZXIobG9naW5EYXRhLCB0ZW1wbGF0ZSwgeyBhdXRvZmlsbDogdHJ1ZSB9LCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgbnVsbCwgX3JlcXVpcmVkRmllbGQsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgfSBlbHNlICAqL1xuICAgICAgICAgIGlmICh3aW5kb3dbJ2xycGFzc2tleWxvZ2luJ10pIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzLnBhc3NrZXlMb2dpbkNvbnRyb2xsZXIobG9naW5EYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX3Bhc3N3b3JkRXhwaXJ5LCBfcmVxdWlyZWRGaWVsZCwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzLmxvZ2luMkZBQ29udHJvbGxlcihsb2dpbkRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIF9wYXNzd29yZEV4cGlyeSwgX3JlcXVpcmVkRmllbGQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uTmFtZSA9PT0gJ3BpbkxvZ2luJykge1xuICAgICAgICAgICAgY29udHJvbGxlcnMubG9naW5QSU5Db250cm9sbGVyKGxvZ2luRGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgX3Bhc3N3b3JkRXhwaXJ5LCBfcmVxdWlyZWRGaWVsZCwgc2Vzc2lvblRva2VuKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlcnMubG9naW5Db250cm9sbGVyKGxvZ2luRGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9wYXNzd29yZEV4cGlyeSwgX3JlcXVpcmVkRmllbGQsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZXJyb3JzKSk7XG4gICAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICAgIH07XG4gICAgbW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICBpZiAoKHZ0eXBlID09PSAnb25lY2xpY2tzaWduaW4nIHx8IHZ0eXBlID09PSAncGFzc3dvcmRsZXNzbG9naW4nKSAmJiAhbW9kdWxlLnBhc3N3b3JkbGVzc0xvZ2luRmxhZykge1xuICAgICAgbW9kdWxlLnBhc3N3b3JkbGVzc0xvZ2luRmxhZyA9IHRydWU7XG4gICAgICBjb21tb25GbnMucGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb24odnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgfVxuICAgIGxvZ2luU2NoZW1hID0gbW9kdWxlLmxvZ2luRm9ybVNjaGVtYTtcbiAgICBtb2R1bGUubG9naW5BY3Rpb24gPSB0cnVlO1xuICAgIGdldExvZ2luRW1haWxMYWJlbChsb2dpblNjaGVtYSk7XG4gICAgbG9naW5TY2hlbWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFkZFJlbWVtYmVyTWVTY2hlbWEobG9naW5TY2hlbWEpKSk7XG4gICAgY29tbW9uRm5zLnNldFBhc3N3b3JkUnVsZShsb2dpblNjaGVtYVsxXSwgbW9kdWxlLmxvZ2luQWN0aW9uKTtcbiAgICBpZiAoIW1vZHVsZS5wYXNzd29yZGxlc3NMb2dpbkZsYWcgJiYgIW1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uICYmICFtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uICYmIG1vZHVsZS5vcHRpb25zLmlzUElOQXV0aGVudGljYXRpb24gJiYgbW9kdWxlLm9wdGlvbnMuUElOQ29uZmlndXJhdGlvbiAmJiBtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLlBJTkxvZ2luICYmIHNlc3Npb25Ub2tlbikge1xuICAgICAgdmFyIHBpbkxvZ2luU2NoZW1hID0gbW9kdWxlLnBpbkxvZ2luRm9ybVNjaGVtYS5zbGljZSgpO1xuICAgICAgdmFyIGJhY2tCdG5TY2hlbWEgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGUuZGVmYXVsdEJ0blNjaGVtYSwge1xuICAgICAgICBuYW1lOiAnYmFja3RvbG9naW5mb3JtJyxcbiAgICAgICAgZGlzcGxheTogTG9naW5SYWRpdXNEZWZhdWx0cy5idXR0b25OYW1lc1sncGlubG9naW5iYWNrYnRuJ10sXG4gICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJlbmRlckxvZ2luRm9ybShsb2dpblNjaGVtYSwgJ2xvZ2luJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcGluTG9naW5TY2hlbWEucHVzaChiYWNrQnRuU2NoZW1hKTtcbiAgICAgIG1vZHVsZS5sb2dpbkFjdGlvbiA9IHRydWU7XG4gICAgICBsb2dpblNjaGVtYS5ydWxlcyA9ICdyZXF1aXJlZCc7XG4gICAgICByZW5kZXJMb2dpbkZvcm0ocGluTG9naW5TY2hlbWEsICdwaW5Mb2dpbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW5kZXJMb2dpbkZvcm0obG9naW5TY2hlbWEsICdsb2dpbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIHNob3dSZWdpc3RyYXRpb25Gb3JtXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQHBhcmFtIHtBcnJheX0gcmVnU2NoZW1hIGFycmF5IG9mIHJlZy4gZm9ybSBmaWVsZHMgb2JqZWN0c1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgc2hvdyB1c2VyIHJlZ2lzdHJhdGlvbiBmb3JtLlxuICAqL1xuICBmdW5jdGlvbiBzaG93UmVnaXN0cmF0aW9uRm9ybSAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcmVnU2NoZW1hKSB7XG4gICAgbW9kdWxlLiRob29rcy5jYWxsKCdyZWdpc3RyYXRpb25TY2hlbWFGaWx0ZXInLCByZWdTY2hlbWEpO1xuICAgIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeCArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldF9yZWdpc3RyYXRpb24nO1xuICAgIGlmICghbW9kdWxlLm9wdGlvbnMuaXNDb25zZW50TWFuYWdlbWVudEVuYWJsZWQpIHtcbiAgICAgIHV0aWwuY2FwdGNoYVNjaGVtYShyZWNhcHRjaGFpZCwgcmVnU2NoZW1hKTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uLklzRW5hYmxlZCkge1xuICAgICAgdmFyIHByaXZhY3lTY2hlbWEgPSBtb2R1bGUucHJpdmFjeVBvbGljeVNjaGVtYS5zbGljZSgpO1xuICAgICAgcHJpdmFjeVNjaGVtYVswXS5ydWxlcyA9IG1vZHVsZS5vcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uLk1vZGUgPT09ICdTdHJpY3QnID8gJ3JlcXVpcmVkJyA6ICcnO1xuICAgICAgcmVnU2NoZW1hLnB1c2gocHJpdmFjeVNjaGVtYVswXSk7XG4gICAgfVxuXG4gICAgaWYgKCEobW9kdWxlLm9wdGlvbnMuaXNQSU5BdXRoZW50aWNhdGlvbiAmJiBtb2R1bGUub3B0aW9ucy5QSU5Db25maWd1cmF0aW9uLkFza09uUmVnaXN0cmF0aW9uKSkge1xuICAgICAgdmFyIHVwZGF0ZWRTY2hlbWEgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVnU2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChyZWdTY2hlbWFbaV0ubmFtZSAhPT0gJ3BpbicgJiYgcmVnU2NoZW1hW2ldLm5hbWUgIT09ICdjb25maXJtcGluJykge1xuICAgICAgICAgIHVwZGF0ZWRTY2hlbWEucHVzaChyZWdTY2hlbWFbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWdTY2hlbWEgPSB1cGRhdGVkU2NoZW1hO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb25GbnMuc2V0UElOUnVsZSh1dGlsLmZpbmRJblNjaGVtYShyZWdTY2hlbWEsICduYW1lJywgJ3BpbicpKTtcbiAgICAgIGNvbW1vbkZucy5zZXRQSU5SdWxlKHV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBpbicpKTtcbiAgICB9XG4gICAgcmVnU2NoZW1hLnB1c2goe1xuICAgICAgdHlwZTogJ2h0bWwnLFxuICAgICAgbmFtZTogJ3Rlcm1zYW5kY29uZGl0aW9uJyxcbiAgICAgIGh0bWw6IG1vZHVsZS5vcHRpb25zLnRlcm1zQW5kQ29uZGl0aW9uSHRtbCB8fCAnJ1xuICAgIH0pO1xuICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUodXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpKTtcbiAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKHV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xuICAgIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hID0gcmVnU2NoZW1hO1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc0NvbnNlbnRNYW5hZ2VtZW50RW5hYmxlZCkge1xuICAgICAgdmFyIGNhbGxiYWNrQWN0aW9uID0gZnVuY3Rpb24gKGNvbnNlbnRPYmplY3QpIHtcbiAgICAgICAgdmFyIGNvbnNlbnRJbnRlcmZhY2UgPSBjb21tb25GbnMuY3JlYXRlQ29uc2VudEludGVyZmFjZShjb25zZW50T2JqZWN0WydSZWdpc3RlciddKTtcbiAgICAgICAgaWYgKGNvbnNlbnRJbnRlcmZhY2UgIT09ICcnKSB7XG4gICAgICAgICAgdmFyIGNvbnNlbnRTY2hlbWEgPSB7XG4gICAgICAgICAgICAnaHRtbCc6IGNvbnNlbnRJbnRlcmZhY2UsXG4gICAgICAgICAgICAnbmFtZSc6ICdjb25zZW50JyxcbiAgICAgICAgICAgICd0eXBlJzogJ2h0bWwnXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWdTY2hlbWEucHVzaChjb25zZW50U2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICB1dGlsLmNhcHRjaGFTY2hlbWEocmVjYXB0Y2hhaWQsIHJlZ1NjaGVtYSk7XG4gICAgICAgIHJlZ2lzdHJhdGlvbkZvcm1SZW5kZXIocmVnU2NoZW1hLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XG4gICAgICAgIHV0aWwucmVuZGVyVjJSZWNhcHRjaGEocmVjYXB0Y2hhaWQsIHRydWUpO1xuICAgICAgfTtcbiAgICAgIG1vZHVsZS5nZXRDb25zZW50Q29uZmlndXJhdGlvbihjYWxsYmFja0FjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZ2lzdHJhdGlvbkZvcm1SZW5kZXIocmVnU2NoZW1hLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIF9jbGFzc1ByZWZpeCwgZmFsc2UpO1xuICAgICAgdXRpbC5yZW5kZXJWMlJlY2FwdGNoYShyZWNhcHRjaGFpZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFzc2tleVJlZ2l0cmF0aW9uRm9ybSAocGFzc2tleVNjaGVtYSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgaXNDb25zZW50RW5hYmxlKSB7XG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0ocGFzc2tleVNjaGVtYSwgJ3Bhc3NrZXlyZWdpc3RlcicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnN0IGVtYWlsVmFsdWUgPSBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnZW1haWwnLCBkYXRhKTtcbiAgICAgIGlmICh3aW5kb3cubHJwd2RyZWdpc3Rlcikge1xuICAgICAgICB2YXIgZW1haWxmaWVsZCA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ25hbWUnLCAnZW1haWxpZCcpO1xuICAgICAgICBpZiAoZW1haWxmaWVsZCAmJiBlbWFpbFZhbHVlKSB7XG4gICAgICAgICAgZW1haWxmaWVsZC52YWx1ZSA9IGVtYWlsVmFsdWUudHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZWdTY2hlbWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hKSk7XG4gICAgICAgIGxldCBjb2RlU2NoZW1hID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWdTY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocmVnU2NoZW1hW2ldKSB7XG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2hvd1NwbGl0Rm9ybSAmJiByZWdTY2hlbWFbaV0uRGF0YVNvdXJjZSAmJiByZWdTY2hlbWFbaV0uRGF0YVNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVjb3JkT2JqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZWdTY2hlbWFbaV0pKTtcbiAgICAgICAgICAgICAgdmFyIGNvZGVPYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAnY2ZfJyArIHJlZ1NjaGVtYVtpXS5EYXRhU291cmNlICsgJ0NvZGUnKSkpO1xuICAgICAgICAgICAgICByZWNvcmRPYmoubmFtZSA9ICdyZWNvcmRpZCc7XG4gICAgICAgICAgICAgIGNvZGVPYmoubmFtZSA9ICdjb2RlJztcbiAgICAgICAgICAgICAgY29kZVNjaGVtYS5wdXNoKHJlY29yZE9iaik7XG4gICAgICAgICAgICAgIGNvZGVTY2hlbWEucHVzaChjb2RlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGVTY2hlbWEubGVuZ3RoID4gMCAmJiBtb2R1bGUub3B0aW9ucy5zaG93U3BsaXRGb3JtKSB7XG4gICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oY29kZVNjaGVtYSwgJ3ZhbGlkYXRlY29kZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3RyYXRpb25kYXRhL3ZhbGlkYXRlY29kZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5Jc1ZhbGlkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzaG93UmVnaXN0cmF0aW9uRm9ybShjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCByZWdTY2hlbWEpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAncmVnaXN0cmF0aW9uJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25FbmFibGVkICYmIG1vZHVsZS5vcHRpb25zLlNlY3VyaXR5UXVlc3Rpb25zKSB7XG4gICAgICAgICAgICBjb21tb25GbnMuZ2V0U2VjdXJpdHlRdWVzdGlvblNjaGVtYShyZWdTY2hlbWEsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93UmVnaXN0cmF0aW9uRm9ybShjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCByZWdTY2hlbWEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICAgIGlmIChpc0NvbnNlbnRFbmFibGUpIHtcbiAgICAgICAgICBlcnJvcnMgPSBjb21tb25GbnMuY29uc2VudFZhbGlkYXRpb24oZGF0YSwgJ1JlZ2lzdGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRyb2xsZXJzLnBhc3NrZXlSZWdpc3RyYXRpb25Db250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3NrZXlTY2hlbWEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gcmVnaXN0cmF0aW9uRm9ybVJlbmRlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNDb25zZW50RW5hYmxlIHNldCBmbGFnIGZvciBjb25zZW50IGVuYWJsZSBvciBkaXNhYmxlXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHVzZXIgcmVnaXN0cmF0aW9uIGZvcm0gYW5kIHNob3cuXG4gICovXG4gIGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkZvcm1SZW5kZXIgKHJlZ1NjaGVtYSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHJlY2FwdGNoYWlkLCBfY2xhc3NQcmVmaXgsIGlzQ29uc2VudEVuYWJsZSkge1xuICAgIHZhciBpbnZpdGF0aW9uID0gbW9kdWxlLnV0aWwuZ2V0SGFzaFBhcmFtKCdpbnZpdGF0aW9uJyk7XG4gICAgdmFyIGVtYWlsVmFsdWUgPSBtb2R1bGUudXRpbC5nZXRIYXNoUGFyYW0oJ2VtYWlsJyk7XG4gICAgaWYgKGludml0YXRpb24gJiYgbW9kdWxlLm9wdGlvbnMuaXNCMkJFbmFibGVkKSB7XG4gICAgICB2YXIgZW1haWxmaWVsZCA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShyZWdTY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgIGlmIChlbWFpbGZpZWxkICYmIGVtYWlsVmFsdWUpIHtcbiAgICAgICAgZW1haWxmaWVsZC52YWx1ZSA9IGVtYWlsVmFsdWUudHJpbSgpO1xuICAgICAgICBlbWFpbGZpZWxkLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShyZWdTY2hlbWEsICdyZWdpc3RyYXRpb24nLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICBpZiAoaXNDb25zZW50RW5hYmxlKSB7XG4gICAgICAgIGVycm9ycyA9IGNvbW1vbkZucy5jb25zZW50VmFsaWRhdGlvbihkYXRhLCAnUmVnaXN0ZXInKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVycy5yZWdpc3RyYXRpb25Db250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UsIGZvcm1EYXRhKSB7XG4gICAgICAgICAgaWYgKHdpbmRvd1snaGNhcHRjaGEnXSAmJiBtb2R1bGUub3B0aW9ucy5oQ2FwdGNoYVNpdGVLZXkgJiYgIW1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSkge1xuICAgICAgICAgICAgd2luZG93LmhjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhICYmIG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhKSB7XG4gICAgICAgICAgICBncmVjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb25TdWNjZXNzKGxvZ2luUmVzcG9uc2UsIGZvcm1EYXRhKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKF9lcnIpIHtcbiAgICAgICAgICBpZiAod2luZG93WydoY2FwdGNoYSddICYmIG1vZHVsZS5vcHRpb25zLmhDYXB0Y2hhU2l0ZUtleSAmJiAhbW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhKSB7XG4gICAgICAgICAgICB3aW5kb3cuaGNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmdyZWNhcHRjaGEgJiYgbW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEpIHtcbiAgICAgICAgICAgIGdyZWNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvbkVycm9yKF9lcnIpO1xuICAgICAgICB9LCBfY2xhc3NQcmVmaXgsIHJlZ1NjaGVtYSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKF9lcnJvcnMpIHtcbiAgICAgIGlmICh3aW5kb3dbJ2hjYXB0Y2hhJ10gJiYgbW9kdWxlLm9wdGlvbnMuaENhcHRjaGFTaXRlS2V5ICYmICFtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEpIHtcbiAgICAgICAgd2luZG93LmhjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmdyZWNhcHRjaGEgJiYgbW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEpIHtcbiAgICAgICAgZ3JlY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XG4gICAgICB9XG4gICAgICBvbkVycm9yKF9lcnJvcnMpO1xuICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiByZWdpc3RyYXRpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgdXNlciByZWdpc3RyYXRpb24gZm9ybSBhbmQgc2hvdy5cbiAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0cmF0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIG9uUmVnaXN0cmF0aW9uTG9hZGVkID0gZnVuY3Rpb24gKF9yZWdTY2hlbWEpIHtcbiAgICAgIHZhciByZWdTY2hlbWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9yZWdTY2hlbWEpKTtcbiAgICAgIHZhciBjb2RlU2NoZW1hID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVnU2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChyZWdTY2hlbWFbaV0pIHtcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2hvd1NwbGl0Rm9ybSAmJiByZWdTY2hlbWFbaV0uRGF0YVNvdXJjZSAmJiByZWdTY2hlbWFbaV0uRGF0YVNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlY29yZE9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVnU2NoZW1hW2ldKSk7XG4gICAgICAgICAgICB2YXIgY29kZU9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdjZl8nICsgcmVnU2NoZW1hW2ldLkRhdGFTb3VyY2UgKyAnQ29kZScpKSk7XG4gICAgICAgICAgICByZWNvcmRPYmoubmFtZSA9ICdyZWNvcmRpZCc7XG4gICAgICAgICAgICBjb2RlT2JqLm5hbWUgPSAnY29kZSc7XG4gICAgICAgICAgICBjb2RlU2NoZW1hLnB1c2gocmVjb3JkT2JqKTtcbiAgICAgICAgICAgIGNvZGVTY2hlbWEucHVzaChjb2RlT2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb2RlU2NoZW1hLmxlbmd0aCA+IDAgJiYgbW9kdWxlLm9wdGlvbnMuc2hvd1NwbGl0Rm9ybSkge1xuICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShjb2RlU2NoZW1hLCAndmFsaWRhdGVjb2RlJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3RyYXRpb25kYXRhL3ZhbGlkYXRlY29kZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuSXNWYWxpZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHNob3dSZWdpc3RyYXRpb25Gb3JtKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHJlZ1NjaGVtYSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvbkVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAncmVnaXN0cmF0aW9uJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25FbmFibGVkICYmIG1vZHVsZS5vcHRpb25zLlNlY3VyaXR5UXVlc3Rpb25zKSB7XG4gICAgICAgICAgY29tbW9uRm5zLmdldFNlY3VyaXR5UXVlc3Rpb25TY2hlbWEocmVnU2NoZW1hLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93UmVnaXN0cmF0aW9uRm9ybShjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCByZWdTY2hlbWEpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uUGFzc2tleXNSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoX3JlZ1NjaGVtYSkge1xuICAgICAgdmFyIHJlZ1NjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3JlZ1NjaGVtYSkpO1xuICAgICAgdmFyIHBhc3NLZXlTY2hlbWEgPSBbXTtcbiAgICAgIHZhciBlbWFpbEluZGV4ID0gcmVnU2NoZW1hLmZpbmRJbmRleCgodmFsKSA9PiB7XG4gICAgICAgIHJldHVybiB2YWwubmFtZSA9PT0gJ2VtYWlsaWQnO1xuICAgICAgfSk7XG4gICAgICBwYXNzS2V5U2NoZW1hLnB1c2gocmVnU2NoZW1hW2VtYWlsSW5kZXhdKTtcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbi5Jc0VuYWJsZWQpIHtcbiAgICAgICAgdmFyIHByaXZhY3lTY2hlbWEgPSBtb2R1bGUucHJpdmFjeVBvbGljeVNjaGVtYS5zbGljZSgpO1xuICAgICAgICBwcml2YWN5U2NoZW1hWzBdLnJ1bGVzID0gbW9kdWxlLm9wdGlvbnMucHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24uTW9kZSA9PT0gJ1N0cmljdCcgPyAncmVxdWlyZWQnIDogJyc7XG4gICAgICAgIHBhc3NLZXlTY2hlbWEucHVzaChwcml2YWN5U2NoZW1hWzBdKTtcbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc0NvbnNlbnRNYW5hZ2VtZW50RW5hYmxlZCkge1xuICAgICAgICB2YXIgY2FsbGJhY2tBY3Rpb24gPSBmdW5jdGlvbiAoY29uc2VudE9iamVjdCkge1xuICAgICAgICAgIHZhciBjb25zZW50SW50ZXJmYWNlID0gY29tbW9uRm5zLmNyZWF0ZUNvbnNlbnRJbnRlcmZhY2UoY29uc2VudE9iamVjdFsnUmVnaXN0ZXInXSk7XG4gICAgICAgICAgaWYgKGNvbnNlbnRJbnRlcmZhY2UgIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgY29uc2VudFNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgJ2h0bWwnOiBjb25zZW50SW50ZXJmYWNlLFxuICAgICAgICAgICAgICAnbmFtZSc6ICdjb25zZW50JyxcbiAgICAgICAgICAgICAgJ3R5cGUnOiAnaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwYXNzS2V5U2NoZW1hLnB1c2goY29uc2VudFNjaGVtYSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhc3NrZXlSZWdpdHJhdGlvbkZvcm0ocGFzc0tleVNjaGVtYSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5nZXRDb25zZW50Q29uZmlndXJhdGlvbihjYWxsYmFja0FjdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXNza2V5UmVnaXRyYXRpb25Gb3JtKHBhc3NLZXlTY2hlbWEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHV0aWwuYWRkUmVjYXB0Y2hhSlMoKTtcbiAgICBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSAmJiBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYS5sZW5ndGggPiAwKSA/IG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hIDogbW9kdWxlLm9wdGlvbnMuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYTtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNQYXNzS2V5c0VuYWJsZWQpIHtcbiAgICAgIG9uUGFzc2tleXNSZWdpc3RyYXRpb24obW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblJlZ2lzdHJhdGlvbkxvYWRlZChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gZm9yZ290UGFzc3dvcmRcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgZm9yZ290UGFzc3dvcmQgZm9ybSBhbmQgc2hvdy5cbiAgKi9cbiAgZnVuY3Rpb24gZm9yZ290UGFzc3dvcmQgKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgc2NoZW1hID0gbW9kdWxlLmZvcmdvdFBhc3N3b3JkRm9ybVNjaGVtYTtcbiAgICBnZXRMb2dpbkVtYWlsTGFiZWwoc2NoZW1hKTtcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzY2hlbWEsICdmb3Jnb3RwYXNzd29yZCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRhdGEgPSB1dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XG4gICAgICBpZiAoZGF0YS5pbmRleE9mKCdwaG9uZUFwaT0xJykgIT09IC0xKSB7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vID0gZGF0YTtcbiAgICAgICAgY29udHJvbGxlcnMuZm9yZ290UGFzc3dvcmRieVBob25lQ29udHJvbGxlcihkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLmZvcmdvdFBhc3N3b3JkQ29udHJvbGxlcihkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgfSwgX2NsYXNzUHJlZml4KTtcbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBJTlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBmb3Jnb3RQSU4gZm9ybSBhbmQgc2hvdy5cbiAgKi9cbiAgZnVuY3Rpb24gZm9yZ290UElOIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5mb3Jnb3RQSU5Gb3JtU2NoZW1hO1xuICAgIGdldExvZ2luRW1haWxMYWJlbChzY2hlbWEpO1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ2ZvcmdvdFBJTicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRhdGEgPSB1dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XG4gICAgICBpZiAoZGF0YS5pbmRleE9mKCdwaG9uZUFwaT0xJykgIT09IC0xKSB7XG4gICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vID0gZGF0YTtcbiAgICAgICAgY29udHJvbGxlcnMuZm9yZ290UElOYnlQaG9uZUNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVycy5mb3Jnb3RQSU5Db250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmRcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgY2hhbmdlUGFzc3dvcmQgZm9ybSBhbmQgc2hvdyBJdC5cbiAgKi9cbiAgZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQgKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcbiAgICB2YXIgc2NoZW1hID0gbW9kdWxlLmNoYW5nZVBhc3N3b3JkRm9ybVNjaGVtYTtcbiAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKHV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAnbmV3cGFzc3dvcmQnKSk7XG4gICAgY29tbW9uRm5zLnNldFBhc3N3b3JkUnVsZSh1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2NvbmZpcm1uZXdwYXNzd29yZCcpKTtcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzY2hlbWEsICdjaGFuZ2VwYXNzd29yZCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmNoYW5nZVBhc3N3b3JkQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9XG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGNoYW5nZVBJTlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBjaGFuZ2VQSU4gZm9ybSBhbmQgc2hvdyBJdC5cbiAgKi9cbiAgZnVuY3Rpb24gY2hhbmdlUElOIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIGNoYW5nZVBJTkZvcm1TY2hlbWEgPSBtb2R1bGUuY2hhbmdlUElORm9ybVNjaGVtYS5zbGljZSgpO1xuICAgIGNvbW1vbkZucy5zZXRQSU5SdWxlKHV0aWwuZmluZEluU2NoZW1hKGNoYW5nZVBJTkZvcm1TY2hlbWEsICduYW1lJywgJ25ld3BpbicpKTtcbiAgICBjb21tb25GbnMuc2V0UElOUnVsZSh1dGlsLmZpbmRJblNjaGVtYShjaGFuZ2VQSU5Gb3JtU2NoZW1hLCAnbmFtZScsICdjb25maXJtbmV3cGluJykpO1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKGNoYW5nZVBJTkZvcm1TY2hlbWEsICdjaGFuZ2VwaW4nLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBjb250cm9sbGVycy5jaGFuZ2VQSU5Db250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBjcm9zc0RldmljZVNTT1xuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtTdHJpbmd9IGV4cGlyeXRpbWUgUVIgY29kZSBleHBpcnl0aW1lXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBjcm9zc0RldmljZVNTTyBmZWF0dXJlIGFuZCBzaG93IFFSIGNvZGUuXG4gICovXG4gIGZ1bmN0aW9uIGNyb3NzRGV2aWNlU1NPIChjb250YWluZXIsIGV4cGlyeXRpbWUsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmlzQ3Jvc3NEZXZpY2VTU09FbmFibGVkKSB7XG4gICAgICB2YXIgcXJUaW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChtb2R1bGUuQ0RTU09QaW5nQXBpVGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChtb2R1bGUuQ0RTU09QaW5nQXBpVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29tbW9uRm5zLmdlbmVyYXRlQ3Jvc3NEZXZpY2VTU09Db2RlKGNvbnRhaW5lciwgZXhwaXJ5dGltZSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHFyVGltZUludGVydmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gICAgICB9LCBleHBpcnl0aW1lICogMTAwMCk7XG4gICAgICBjb21tb25GbnMuZ2VuZXJhdGVDcm9zc0RldmljZVNTT0NvZGUoY29udGFpbmVyLCBleHBpcnl0aW1lLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHFyVGltZUludGVydmFsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiByZXNlbmRFbWFpbFZlcmlmaWNhdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSByZXNlbmRFbWFpbFZlcmlmaWNhdGlvbiBmb3JtIGFuZCBzaG93IEl0LlxuICAqL1xuICBmdW5jdGlvbiByZXNlbmRFbWFpbFZlcmlmaWNhdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5lbWFpbFNjaGVtYSwgJ3Jlc2VuZEVtYWlsVmVyaWZpY2F0aW9uJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY29udHJvbGxlcnMucmVzZW5kRW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBhZGRFbWFpbFxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBhZGRFbWFpbCBmb3JtIGFuZCBzaG93IEl0LlxuICAqL1xuICBmdW5jdGlvbiBhZGRFbWFpbCAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5hZGRFbWFpbFNjaGVtYSwgJ2FkZGVtYWlsJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY29udHJvbGxlcnMuYWRkRW1haWxDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiByZW1vdmVFbWFpbFxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSByZW1vdmVFbWFpbCBmb3JtIGFuZCBzaG93IEl0LlxuICAqL1xuICBmdW5jdGlvbiByZW1vdmVFbWFpbCAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5lbWFpbFNjaGVtYSwgJ3JlbW92ZWVtYWlsJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY29udHJvbGxlcnMucmVtb3ZlRW1haWxDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBjaGFuZ2VVc2VybmFtZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBjaGFuZ2VVc2VybmFtZSBmb3JtIGFuZCBzaG93IEl0LlxuICAqL1xuICBmdW5jdGlvbiBjaGFuZ2VVc2VybmFtZSAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5jaGFuZ2VVc2VybmFtZUZvcm1TY2hlbWEsICdjaGFuZ2VVc2VybmFtZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnRyb2xsZXJzLmNoYW5nZVVzZXJuYW1lQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gZW1haWxWZXJpZmljYXRpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgZW1haWxWZXJpZmljYXRpb24uXG4gICovXG4gIGZ1bmN0aW9uIGVtYWlsVmVyaWZpY2F0aW9uIChvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XG4gICAgdmFyIGhhbmRsZVZlcmlmeUVtYWlsID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciB2dG9rZW4gPSB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMudmVyaWZ5RW1haWxCeU9UUCkge1xuICAgICAgICB2YXIgZmRhdGEgPSB7fTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBmZGF0YSA9IHV0aWwubWVyZ2VPcHRpb25zKGZkYXRhLCB1dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGZkYXRhLm90cCA9IHZ0b2tlbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmZGF0YS5lbWFpbCA9IHV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ2VtYWlsJykucmVwbGFjZSgvIC9nLCAnKycpO1xuICAgICAgICAgIGNvbnRyb2xsZXJzLmVtYWlsVmVyaWZpY2F0aW9uQ29udHJvbGxlcihmZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIG1vZHVsZS5sb2coZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlcnMuZW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoY29udGFpbmVyICYmIG1vZHVsZS5vcHRpb25zLmxvZ2luTG9ja2VkVHlwZSA9PT0gJ0NhcHRjaGEnKSB7XG4gICAgICB2YXIgc2NoZW1hID0gW107XG4gICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZnRlckZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgX2NvbnRhaW5lciwgX2Nsc1ByZWZpeCwgZm9ybSkge1xuICAgICAgICBpZiAoZm9ybSAmJiBmb3JtLm5hbWUgPT09ICdsb2dpbnJhZGl1cy12ZXJpZnllbWFpbCcgJiYgZm9ybVswXS5pZCA9PT0gJ2xvZ2lucmFkaXVzLXN1Ym1pdC12ZXJpZnknKSB7XG4gICAgICAgICAgZm9ybVswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ3ZlcmlmeWVtYWlsJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBoYW5kbGVWZXJpZnlFbWFpbChkYXRhKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgICAgfSwgX2NsYXNzUHJlZml4KTtcbiAgICB9XG5cbiAgICBoYW5kbGVWZXJpZnlFbWFpbCgpO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gZGVsZXRlVXNlclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZGVsZXRlIFVzZXIuXG4gICovXG4gIGZ1bmN0aW9uIGRlbGV0ZVVzZXIgKG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyKSB7XG4gICAgdmFyIHZ0b2tlbiA9IG1vZHVsZS5zZXNzaW9uRGF0YS5nZXRUb2tlbigpO1xuICAgIGlmICh2dG9rZW4pIHtcbiAgICAgIHV0aWwuYWpheENhbGwoJ2RlbGV0ZScsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQ/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdnRva2VuICsgJyZkZWxldGVVcmw9JyArIG1vZHVsZS5vcHRpb25zLmRlbGV0ZVVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMuZGVsZXRlVXNlckVtYWlsVGVtcGxhdGUsIHt9LCBmdW5jdGlvbiAocmVnUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UpO1xuICAgICAgICAgIGlmIChjb21tb25GbnMuc2hvd09UUFRlbXBsYXRlRm9ybSgnRGVsZXRlQWNjb3VudCcpICYmIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0obW9kdWxlLm90cFNjaGVtYSwgJ290cCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgdmFyIF9vdHAgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICAgICAgICBkZWxldGVVc2VyQ29uZmlybShvblN1Y2Nlc3MsIG9uRXJyb3IsIF9vdHAub3RwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAnZGVsZXRlVXNlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKFtkZWZhdWx0TWVzc2FnZXNbJ3ZUb2tlbkVycm9yJ11dKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBkZWxldGVVc2VyQ29uZmlybVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9ucHJpdmF0ZUZ1bmN0aW9uc01vZHVsZSB3aWxsIENvbmZpcm0gZGVsZXRlIFVzZXIuXG4gICovXG4gIGZ1bmN0aW9uIGRlbGV0ZVVzZXJDb25maXJtIChvblN1Y2Nlc3MsIG9uRXJyb3IsIF92dG9rZW4pIHtcbiAgICB2YXIgdnRva2VuID0gX3Z0b2tlbiB8fCB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XG4gICAgY29udHJvbGxlcnMuZGVsZXRlVXNlckNvbmZpcm1Db250cm9sbGVyKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGJhY2t1cENvZGVCdXR0b25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgYmFja3VwQ29kZUJ1dHRvbi5cbiAgKi9cbiAgZnVuY3Rpb24gYmFja3VwQ29kZUJ1dHRvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIGxldCB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50LzJGQT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1b0F1dGhlbnRpY2F0aW9uKSB7XG4gICAgICB2YXIgZW5jb2RlZFVybCA9IGVuY29kZVVSSUNvbXBvbmVudChtb2R1bGUub3B0aW9ucy5jYWxsYmFja1VybCk7XG4gICAgICB1cmwgPSB1cmwgKyAnJmR1b3JlZGlyZWN0dXJpPScgKyBlbmNvZGVkVXJsO1xuICAgIH1cbiAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCB1cmwsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5Jc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgcmVzcG9uc2UuSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCByZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCByZXNwb25zZS5Jc0F1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgICB2YXIgYWN0aW9uID0gJ2dlbmVyYXRlYmFja3VwY29kZWJ1dHRvbic7XG4gICAgICAgIHZhciBiYWNrdXBDb2RlQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKGFjdGlvbiwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgdXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGJhY2t1cENvZGVCdG4pO1xuICAgICAgICB1dGlsLmFkZEV2ZW50KCdjbGljaycsIGJhY2t1cENvZGVCdG4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIG1vZHVsZS5hcGkuZ2V0QmFja3VwQ29kZShtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gcmVzZXRCYWNrdXBDb2RlQnV0dG9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHJlc2V0QmFja3VwQ29kZSBCdXR0b24uXG4gICovXG4gIGZ1bmN0aW9uIHJlc2V0QmFja3VwQ29kZUJ1dHRvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIGxldCB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50LzJGQT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1b0F1dGhlbnRpY2F0aW9uKSB7XG4gICAgICB2YXIgZW5jb2RlZFVybCA9IGVuY29kZVVSSUNvbXBvbmVudChtb2R1bGUub3B0aW9ucy5jYWxsYmFja1VybCk7XG4gICAgICB1cmwgPSB1cmwgKyAnJmR1b3JlZGlyZWN0dXJpPScgKyBlbmNvZGVkVXJsO1xuICAgIH1cbiAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCB1cmwsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5Jc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgcmVzcG9uc2UuSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCByZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCByZXNwb25zZS5Jc0F1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgICB2YXIgcmVzZXRCYWNrdXBDb2RlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgcmVzZXRCYWNrdXBDb2RlQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgdmFyIGJ1dHRvbk5hbWUgPSBtb2R1bGUuYnV0dG9uc05hbWVbJ3Jlc2V0QmFja3VwQ29kZScudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdEJ1dHRvbnNOYW1lWydyZXNldEJhY2t1cENvZGUnXTtcbiAgICAgICAgcmVzZXRCYWNrdXBDb2RlQnRuLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBidXR0b25OYW1lKTtcbiAgICAgICAgdXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHJlc2V0QmFja3VwQ29kZUJ0bik7XG4gICAgICAgIHV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgcmVzZXRCYWNrdXBDb2RlQnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBtb2R1bGUuYXBpLnJlc2V0QmFja3VwQ29kZShtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gcGFzc2tleUxvZ2luXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHBhc3NrZXlMb2dpbiBmb3JtIGFuZCBzaG93IEl0LlxuICAqL1xuICBmdW5jdGlvbiBwYXNza2V5TG9naW4gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXhfKSB7XG4gICAgY29uc3QgaGFuZGxlUGFzc2tleVJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFtb2R1bGUub3B0aW9ucy5pc1Bhc3NLZXlzRW5hYmxlZCkge1xuICAgICAgICBtb2R1bGUubG9nKCdQYXNza2V5IHdpbGwgbm90IHdvcmssIHBsZWFzZSBlbmFibGUgcGFzcyBrZXkgZnJvbSBhZG1pbiBjb25zb2xlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcbiAgICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC9wYXNza2V5P2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIGFjY2Vzc1Rva2VuLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIF9jbGFzc1ByZWZpeCA9IF9jbGFzc1ByZWZpeF8gfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5jbGFzc1ByZWZpeDtcbiAgICAgICAgICB2YXIgYWRkcGFzc2tleWJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgYWRkcGFzc2tleWJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgICAgdmFyIGJ1dHRvbk5hbWUgPSBtb2R1bGUuYnV0dG9uc05hbWVbJ2NyZWF0ZVBhc3NrZXknLnRvTG93ZXJDYXNlKCldIHx8IGRlZmF1bHRCdXR0b25zTmFtZVsnY3JlYXRlUGFzc2tleSddO1xuICAgICAgICAgIGFkZHBhc3NrZXlidG4uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGJ1dHRvbk5hbWUpO1xuICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIGFkZHBhc3NrZXlidG4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUFjY291bnRQYXNza2V5KG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIF9pbm5lckh0bWxfID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgY29uc3QgTk9fUEFTU0tFWV9DT0RFID0gMTMyMztcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUgPT09IE5PX1BBU1NLRVlfQ09ERSkge1xuICAgICAgICAgICAgICB1dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgYWRkcGFzc2tleWJ0biwgX2lubmVySHRtbF8pO1xuICAgICAgICAgICAgICBfaW5uZXJIdG1sXyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhc3NrZXlzID0gcmVzcG9uc2UuQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhc3NrZXkgb2YgcGFzc2tleXMpIHtcbiAgICAgICAgICAgICAgdmFyIGRpc2FibGVQYXNza2V5ID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKGBwYXNza2V5XyR7cGFzc2tleS5JZH1gLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMucmVtb3ZlUGFzc2tleShwYXNza2V5LklkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICB9LCBgRGlzYWJsZSAke3Bhc3NrZXkuQXV0aGVudGljYXRvciB8fCBwYXNza2V5LklkfWApO1xuICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGRpc2FibGVQYXNza2V5LCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBhZGRwYXNza2V5YnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGhhbmRsZVBhc3NrZXlSZXNwb25zZSgpO1xuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgVHdvRmFjdG9yQXV0aGVudGljYXRpb24oMkZBKSBidXR0b24uXG4gICovXG4gIGZ1bmN0aW9uIGNyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4Xykge1xuICAgIHZhciB0d29GYWN0b3JCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHR3b0ZhY3RvckJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgdmFyIGJ1dHRvbk5hbWUgPSBtb2R1bGUuYnV0dG9uc05hbWVbJ2NyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uJy50b0xvd2VyQ2FzZSgpXSB8fCBkZWZhdWx0QnV0dG9uc05hbWVbJ2NyZWF0ZXR3b2ZhY3RvcmF1dGhlbnRpY2F0aW9uJ107XG4gICAgdHdvRmFjdG9yQnV0dG9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBidXR0b25OYW1lKTtcbiAgICB2YXIgX2NsYXNzUHJlZml4ID0gX2NsYXNzUHJlZml4XyB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmNsYXNzUHJlZml4O1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShfY2xhc3NQcmVmaXggKyAncHJvZmlsZWVkaXRvcicpWzBdKSB7XG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2hvd1R3b0ZhY3Rvck9uUHJvZmlsZSkge1xuICAgICAgICB2YXIgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShfY2xhc3NQcmVmaXggKyAncHJvZmlsZWVkaXRvcicpWzBdO1xuICAgICAgICBmb3JtRWxlbWVudC5hcHBlbmRDaGlsZCh0d29GYWN0b3JCdXR0b24pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikge1xuICAgICAgdXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHR3b0ZhY3RvckJ1dHRvbik7XG4gICAgfVxuXG4gICAgLyoqIER1byBWYWxpZGF0aW9uICovXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGR1b0NvZGUgPSB1dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdkdW9fY29kZScpO1xuICAgICAgbGV0IGR1b1N0YXRlID0gdXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnZHVvX3N0YXRlJyk7XG4gICAgICBpZiAoIWR1b1N0YXRlKSB7XG4gICAgICAgIGR1b1N0YXRlID0gdXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgnc3RhdGUnKTtcbiAgICAgIH1cbiAgICAgIGlmIChkdW9Db2RlICYmIGR1b1N0YXRlICYmICFtb2R1bGUuZHVvTG9naW5GbGFnKSB7XG4gICAgICAgIG1vZHVsZS5kdW9Mb2dpbkZsYWcgPSB0cnVlO1xuICAgICAgICBjb250cm9sbGVycy5kdW9WZXJpZnlCeUFjY2Vzc1Rva2VuQ29udHJvbGxlcih7IENvZGU6IGR1b0NvZGUsIFN0YXRlOiBlbmNvZGVVUklDb21wb25lbnQoZHVvU3RhdGUpIH0sIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIGNvbnRpbnVlIHJlZ2FyZGxlc3Mgb2YgZXJyb3JcbiAgICB9XG5cbiAgICB2YXIgaGFuZGxlQWNjb3VudDJGYVJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRpc2FibGVNRkEgPSBmYWxzZTtcbiAgICAgIGlmICghbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiAmJiAhbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgbW9kdWxlLmxvZygnVHdvIEZhY3RvciBBdXRoZW50aWNhdGlvbiB3aWxsIG5vdCB3b3JrLCBwbGVhc2Ugc2V0IGluIGNvbW1vbk9waXRvbnMgZWl0aGVyIHR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIG9yIG9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50LzJGQT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleTtcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1b0F1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgdmFyIGVuY29kZWRVcmwgPSBlbmNvZGVVUklDb21wb25lbnQobW9kdWxlLm9wdGlvbnMuY2FsbGJhY2tVcmwpO1xuICAgICAgICAgIHVybCA9IHVybCArICcmZHVvcmVkaXJlY3R1cmk9JyArIGVuY29kZWRVcmw7XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgdXJsICsgJyZhY2Nlc3NfdG9rZW49JyArIGFjY2Vzc1Rva2VuLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIGFkZEJhY2tCdG4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZnRlckZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIGZvcm0pIHtcbiAgICAgICAgICAgICAgY29uc3QgaXNCdXR0b25FeGlzdCA9IGZvcm0gPyBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoZm9ybSwgJ2lkJywgJ2xvZ2lucmFkaXVzLWJ1dHRvbi1iYWNrdXBjb2RlYmFja2J1dHRvbicpIDogbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQoJ2xvZ2lucmFkaXVzLWJ1dHRvbi1iYWNrdXBjb2RlYmFja2J1dHRvbicpO1xuICAgICAgICAgICAgICBmb3JtID0gZm9ybSB8fCBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChjb250YWluZXIpO1xuICAgICAgICAgICAgICBpZiAoZm9ybSAmJiBtb2R1bGUuTFJDaGVjazJGQSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNCdXR0b25FeGlzdCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGJhY2tCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2JhY2t1cGNvZGViYWNrYnV0dG9uJywgX2NsYXNzUHJlZml4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQWNjb3VudDJGYVJlc3BvbnNlKCk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChiYWNrQnRuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgYWRkQmFja0J0bigpO1xuICAgICAgICAgIG1vZHVsZS5MUkNoZWNrMkZBID0gdHJ1ZTtcbiAgICAgICAgICBtb2R1bGUuTFJDaGVja0xvZ2luID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pbm5lckh0bWxfID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xuICAgICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZE9UUEF1dGgsIHJlc3BvbnNlLklzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkKTtcbiAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkR0FBdXRoLCByZXNwb25zZS5Jc0F1dGhlbnRpY2F0b3JWZXJpZmllZCk7XG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZEVtYWlsT1RQQXV0aCwgcmVzcG9uc2UuSXNFbWFpbE90cEF1dGhlbnRpY2F0b3JWZXJpZmllZCk7XG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFNRQXV0aCwgcmVzcG9uc2UuSXNTZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRvclZlcmlmaWVkKTtcbiAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkUHVzaE5vdGlmaWNhdGlvbkF1dGgsIHJlc3BvbnNlLklzUHVzaERldmljZVJlZ2lzdGVyZWQpO1xuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWREdW9BdXRoLCByZXNwb25zZS5Jc0R1b0F1dGhlbnRpY2F0b3JWZXJpZmllZCk7XG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFBhc3NrZXlBdXRoLCByZXNwb25zZS5Jc1Bhc3NrZXlBdXRoZW50aWNhdG9yVmVyaWZpZWQpO1xuXG4gICAgICAgICAgICB2YXIgdXBkYXRlZE90cEF1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZE9UUEF1dGgpO1xuICAgICAgICAgICAgdmFyIGdBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRHQUF1dGgpO1xuICAgICAgICAgICAgdmFyIHNxQXV0aCA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkU1FBdXRoKTtcbiAgICAgICAgICAgIHZhciBlbWFpbG90cEF1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZEVtYWlsT1RQQXV0aCk7XG4gICAgICAgICAgICB2YXIgcHVzaE5vdGlmaWNhdGlvbkF1dGggPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFB1c2hOb3RpZmljYXRpb25BdXRoKTtcbiAgICAgICAgICAgIHZhciBkdW9BdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWREdW9BdXRoKTtcbiAgICAgICAgICAgIHZhciBwYXNza2V5QXV0aCA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkUGFzc2tleUF1dGgpO1xuXG4gICAgICAgICAgICB2YXIgSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgPSByZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZDtcbiAgICAgICAgICAgIHZhciB0d29GQUFjY291bnRlbWFpbG90cENvZGVGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmVtYWlsT1RQQXV0aGVudGljYXRpb24gJiYgcmVzcG9uc2UuRW1haWwgJiYgcmVzcG9uc2UuRW1haWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5Jc0VtYWlsT3RwQXV0aGVudGljYXRvclZlcmlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZW1haWxzID0gcmVzcG9uc2UuRW1haWw7XG4gICAgICAgICAgICAgICAgICBpZiAoZW1haWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbWFpbE90cEZvcm0gPSBmdW5jdGlvbiAoZW1haWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5hZGRSZXNlbmRPVFBCdG4oIW1vZHVsZS5MUkNoZWNrTG9naW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcnMuc2VuZE1GQUVtYWlsT1RQQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWFpbElkOiBlbWFpbGlkXG4gICAgICAgICAgICAgICAgICAgICAgfSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbWFpbE90cENsaWNrRm4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWxzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaW5uZXJIVE1MID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc0FycmF5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVtYWlscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWxzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbk9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbk9iamVjdC50ZXh0ID0gZW1haWxzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbk9iamVjdC52YWx1ZSA9IGVtYWlsc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zQXJyYXkucHVzaChvcHRpb25PYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VjUU9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjUU9iamVjdC50eXBlID0gJ29wdGlvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNRT2JqZWN0Lm9wdGlvbnMgPSBvcHRpb25zQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNRT2JqZWN0Lm5hbWUgPSAnc2VuZGVtYWlsb3RwJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY1FPYmplY3QucnVsZXMgPSAncmVxdWlyZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjUU9iamVjdC5kaXNwbGF5ID0gJ1NlbGVjdCBlbWFpbCB0byBzZW5kIHZlcmlmaWNhdGlvbiBjb2RlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKFtzZWNRT2JqZWN0XSwgJ21mYXNlbGVjdGVtYWlscycsIGNvbnRhaW5lciwgZnVuY3Rpb24gKF9tZmFlbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfbWZhZW1haWwgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKF9tZmFlbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsT3RwRm9ybShfbWZhZW1haWwuc2VuZGVtYWlsb3RwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuRW1haWwgJiYgcmVzcG9uc2UuRW1haWxbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsT3RwRm9ybShyZXNwb25zZS5FbWFpbFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbWFpbE90cEJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnZW1haWxvdHAnLCBfY2xhc3NQcmVmaXgsIGVtYWlsT3RwQ2xpY2tGbik7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgZW1haWxPdHBCdG4sIF9pbm5lckh0bWxfKTtcbiAgICAgICAgICAgICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlTUZBID0gKHVwZGF0ZWRPdHBBdXRoICE9PSAnZmFsc2UnIHx8IGdBdXRoICE9PSAnZmFsc2UnIHx8IHNxQXV0aCAhPT0gJ2ZhbHNlJyB8fCBkdW9BdXRoICE9PSAnZmFsc2UnIHx8IHB1c2hOb3RpZmljYXRpb25BdXRoICE9PSAnZmFsc2UnIHx8IHBhc3NrZXlBdXRoICE9PSAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgIGlmICgoZGlzYWJsZU1GQSAmJiBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikgfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZUVtYWlsQXV0aCA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnZGlzYWJsZWVtYWlsb3RwYXV0aGVudGljYXRvcicsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgZGlzYWJsZUVtYWlsQXV0aCwgX2lubmVySHRtbF8pO1xuICAgICAgICAgICAgICAgICAgICBfaW5uZXJIdG1sXyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIGRpc2FibGVFbWFpbEF1dGgsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5kaXNhYmxlTUZBT3B0aW9ucygnZW1haWxvdHBhdXRoZW50aWNhdG9yJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHR3b0ZBQWNjb3VudHNlY3VyaXR5cXVlc3Rpb25Db2RlRm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLklzU2VjdXJpdHlRdWVzdGlvbkF1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgICAgICAgICAgICAgdmFyIHNlY1FBdXRoZW50aWNhdG9yQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdzZWN1cml0eXF1ZXN0aW9uc2F1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnNob3dNRkFTZWN1cml0eVF1ZXN0aW9ucyhyZXNwb25zZSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgc2VjUUF1dGhlbnRpY2F0b3JCdG4sIF9pbm5lckh0bWxfKTtcbiAgICAgICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1GQSA9ICh1cGRhdGVkT3RwQXV0aCAhPT0gJ2ZhbHNlJyB8fCBlbWFpbG90cEF1dGggIT09ICdmYWxzZScgfHwgZ0F1dGggIT09ICdmYWxzZScgfHwgZHVvQXV0aCAhPT0gJ2ZhbHNlJyB8fCBwdXNoTm90aWZpY2F0aW9uQXV0aCAhPT0gJ2ZhbHNlJyB8fCBwYXNza2V5QXV0aCAhPT0gJ2ZhbHNlJyk7XG4gICAgICAgICAgICAgICAgICBpZiAoKGRpc2FibGVNRkEgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2FibGVTUUF1dGggPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2Rpc2FibGVzcWF1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGRpc2FibGVTUUF1dGgsIF9pbm5lckh0bWxfKTtcbiAgICAgICAgICAgICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBkaXNhYmxlU1FBdXRoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLmRpc2FibGVNRkFPcHRpb25zKCdzcWF1dGhlbnRpY2F0b3InLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB0d29GQUFjY291bnRkdW9NRkFGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1b0F1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5Jc0R1b0F1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGR1b0F1dGhFbmRwb2ludCA9IHJlc3BvbnNlLkR1b0F1dGhFbmRwb2ludDtcbiAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVEdW9NRkFDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGR1b0F1dGhFbmRwb2ludDtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB2YXIgZHVvTUZBQnV0dG9uID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdkdW9tZmEnLCBfY2xhc3NQcmVmaXgsIGhhbmRsZUR1b01GQUNsaWNrKTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgZHVvTUZBQnV0dG9uLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICAgICAgICAvLyBtb2R1bGUuJGhvb2tzLmNhbGwoJ2FmdGVyRm9ybVJlbmRlcicsICdjcmVhdGVUd29GYWN0b3JBdXRoZW50aWNhdGlvbicsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1GQSA9ICh1cGRhdGVkT3RwQXV0aCAhPT0gJ2ZhbHNlJyB8fCBlbWFpbG90cEF1dGggIT09ICdmYWxzZScgfHwgZ0F1dGggIT09ICdmYWxzZScgfHwgc3FBdXRoICE9PSAnZmFsc2UnIHx8IHB1c2hOb3RpZmljYXRpb25BdXRoICE9PSAnZmFsc2UnIHx8IHBhc3NrZXlBdXRoICE9PSAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgIGlmICgoZGlzYWJsZU1GQSAmJiBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikgfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZUR1b0F1dGggPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2Rpc2FibGVkdW9hdXRoZW50aWNhdG9yJywgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBkaXNhYmxlRHVvQXV0aCwgX2lubmVySHRtbF8pO1xuICAgICAgICAgICAgICAgICAgICBfaW5uZXJIdG1sXyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIGRpc2FibGVEdW9BdXRoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLmRpc2FibGVNRkFPcHRpb25zKCdkdW9hdXRoZW50aWNhdG9yJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdHdvRkFBY2NvdW50Z29vZ2xlYXV0aENvZGVGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnFyQ29kZUF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuSXNBdXRoZW50aWNhdG9yVmVyaWZpZWQpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBnb29nbGVBdXRoZW50aWNhdG9yQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdnb29nbGVhdXRoZW50aWNhdG9yJywgX2NsYXNzUHJlZml4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaW5uZXJIVE1MID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zaG93UVJDb2RlKHJlc3BvbnNlLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBnb29nbGVBdXRoZW50aWNhdG9yQnRuLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICAgICAgICBfaW5uZXJIdG1sXyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVNRkEgPSB1cGRhdGVkT3RwQXV0aCAhPT0gJ2ZhbHNlJyB8fCBlbWFpbG90cEF1dGggIT09ICdmYWxzZScgfHwgZHVvQXV0aCAhPT0gJ2ZhbHNlJyB8fCBzcUF1dGggIT09ICdmYWxzZScgfHwgcHVzaE5vdGlmaWNhdGlvbkF1dGggIT09ICdmYWxzZScgfHwgcGFzc2tleUF1dGggIT09ICdmYWxzZSc7XG5cbiAgICAgICAgICAgICAgICAgIGlmICgoZGlzYWJsZU1GQSAmJiBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikgfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZUdBQXV0aCA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnZGlzYWJsZWdvb2dsZWF1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGRpc2FibGVHQUF1dGgsIF9pbm5lckh0bWxfKTtcbiAgICAgICAgICAgICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBkaXNhYmxlR0FBdXRoLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMuZGlzYWJsZU1GQU9wdGlvbnMoJ2F1dGhlbnRpY2F0b3InLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29tbW9uRm5zLnNob3dRUkNvZGUocmVzcG9uc2UsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdHdvRkFBY2NvdW50c21zQ29kZUZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc21zT1RQQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkKSB7XG4gICAgICAgICAgICAgICAgLy8gY29tbW9uRm5zLnVwZGF0ZVBob25lTnVtYmVyKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsICd1cGRhdGVQaG9uZTJGQScpO1xuICAgICAgICAgICAgICAgICAgdmFyIG90cEF1dGhuZXRpY2F0b3JCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ290cGF1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMudXBkYXRlUGhvbmVOdW1iZXIoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgJ3VwZGF0ZVBob25lMkZBJyk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgb3RwQXV0aG5ldGljYXRvckJ0biwgX2lubmVySHRtbF8pO1xuICAgICAgICAgICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBjb21tb25GbnMuY2hhbmdlTnVtYmVyRm9ybShjb250YWluZXIsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwpO1xuICAgICAgICAgICAgICAgICAgX2lubmVySHRtbF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHR3b0ZBQWNjb3VudHB1c2hub3RpZmljYXRpb25GbiA9IGZ1bmN0aW9uIChwdXNoTm90aWZpY2F0aW9uUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBwdXNoTm90aWZpY2F0aW9uUmVzcG9uc2UgfHwgcmVzcG9uc2U7XG4gICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wdXNoTm90aWZpY2F0aW9uQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLklzUHVzaERldmljZVJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBwdXNoTm90aWZpY2F0aW9uQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdwdXNobm90aWZpY2F0aW9uJywgX2NsYXNzUHJlZml4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA8PSAxICYmIGFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnBpbmdGb3JQdXNoTm90aWZpY2F0aW9uKGFjY2Vzc1Rva2VuLCBmdW5jdGlvbiAocHVzaE5vdGlmaWNhdGlvblJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MocHVzaE5vdGlmaWNhdGlvblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdXNoTm90aWZpY2F0aW9uUmVzcG9uc2UuSXNSZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR3b0ZBQWNjb3VudHB1c2hub3RpZmljYXRpb25GbihwdXNoTm90aWZpY2F0aW9uUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBwdXNoTm90aWZpY2F0aW9uUVJDb2RlO1xuICAgICAgICAgICAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uUVJDb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hOb3RpZmljYXRpb25RUkNvZGUudHlwZSA9ICdpbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hOb3RpZmljYXRpb25RUkNvZGUuc3JjID0gcmVzcG9uc2UuUHVzaFFSQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBwdXNoTm90aWZpY2F0aW9uUVJDb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYWZ0ZXJGb3JtUmVuZGVyJywgJ2NyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uJywgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHB1c2hOb3RpZmljYXRpb25CdG4sIF9pbm5lckh0bWxfKTtcbiAgICAgICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1GQSA9IHVwZGF0ZWRPdHBBdXRoICE9PSAnZmFsc2UnIHx8IGVtYWlsb3RwQXV0aCAhPT0gJ2ZhbHNlJyB8fCBzcUF1dGggIT09ICdmYWxzZScgfHwgZHVvQXV0aCAhPT0gJ2ZhbHNlJyB8fCBnQXV0aCAhPT0gJ2ZhbHNlJyB8fCBwYXNza2V5QXV0aCAhPT0gJ2ZhbHNlJztcblxuICAgICAgICAgICAgICAgICAgaWYgKChkaXNhYmxlTUZBICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlUHVzaE5vdGlmaWNhdGlvbiA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnZGlzYWJsZXB1c2hub3RpZmljYXRpb24nLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQoJ2xvZ2lucmFkaXVzLWJ1dHRvbi1iYWNrdXBjb2RlYmFja2J1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2lubmVySHRtbF8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGRpc2FibGVQdXNoTm90aWZpY2F0aW9uLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgZGlzYWJsZVB1c2hOb3RpZmljYXRpb24sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5kaXNhYmxlTUZBT3B0aW9ucygncHVzaG5vdGlmaWNhdGlvbmF1dGhlbnRpY2F0b3InLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29tbW9uRm5zLnNob3dRUkNvZGUocmVzcG9uc2UsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdHdvRkFBY2NvdW50cGFzc2tleUNvZGVGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBhc3NrZXlBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuSXNQYXNza2V5QXV0aGVudGljYXRvclZlcmlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcGFzc2tleUF1dGhCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ3Bhc3NrZXlhdXRoZW50aWNhdG9yJywgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgcGFzc2tleUF1dGhCdG4sIF9pbm5lckh0bWxfKTtcbiAgICAgICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIHBhc3NrZXlBdXRoQnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUFjY291bnRNRkFQYXNza2V5KG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1GQSA9ICh1cGRhdGVkT3RwQXV0aCAhPT0gJ2ZhbHNlJyB8fCBnQXV0aCAhPT0gJ2ZhbHNlJyB8fCBzcUF1dGggIT09ICdmYWxzZScgfHwgZHVvQXV0aCAhPT0gJ2ZhbHNlJyB8fCBwdXNoTm90aWZpY2F0aW9uQXV0aCAhPT0gJ2ZhbHNlJyB8fCBlbWFpbG90cEF1dGggIT09ICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgaWYgKChkaXNhYmxlTUZBICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlUGFzc2tleUF1dGggPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2Rpc2FibGVwYXNza2V5YXV0aGVudGljYXRvcicsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgZGlzYWJsZVBhc3NrZXlBdXRoLCBfaW5uZXJIdG1sXyk7XG4gICAgICAgICAgICAgICAgICAgIF9pbm5lckh0bWxfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgZGlzYWJsZVBhc3NrZXlBdXRoLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMuZGlzYWJsZU1GQU9wdGlvbnMoJ3Bhc3NrZXlhdXRoZW50aWNhdG9yJywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGF1dGhlbnRpY2F0b3JPcHRpb25zT3JkZXIgPSBtb2R1bGUub3B0aW9ucy5hdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGF1dGhlbnRpY2F0b3JPcHRpb25zT3JkZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0b3JPcHRpb25zT3JkZXJba2V5XSkge1xuICAgICAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdlbWFpbG90cCcpIHtcbiAgICAgICAgICAgICAgICAgIHR3b0ZBQWNjb3VudGVtYWlsb3RwQ29kZUZuKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdzbXMnKSB7XG4gICAgICAgICAgICAgICAgICB0d29GQUFjY291bnRzbXNDb2RlRm4oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF1dGhlbnRpY2F0b3JPcHRpb25zT3JkZXJba2V5XSA9PT0gJ3NlY3VyaXR5cXVlc3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICB0d29GQUFjY291bnRzZWN1cml0eXF1ZXN0aW9uQ29kZUZuKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdwdXNobm90aWZpY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgdHdvRkFBY2NvdW50cHVzaG5vdGlmaWNhdGlvbkZuKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdhdXRoJyB8fCBhdXRoZW50aWNhdG9yT3B0aW9uc09yZGVyW2tleV0gPT09ICdnb29nbGVhdXRoJykge1xuICAgICAgICAgICAgICAgICAgdHdvRkFBY2NvdW50Z29vZ2xlYXV0aENvZGVGbigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aGVudGljYXRvck9wdGlvbnNPcmRlcltrZXldID09PSAnZHVvbWZhJykge1xuICAgICAgICAgICAgICAgICAgdHdvRkFBY2NvdW50ZHVvTUZBRm4oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF1dGhlbnRpY2F0b3JPcHRpb25zT3JkZXJba2V5XSA9PT0gJ3Bhc3NrZXknKSB7XG4gICAgICAgICAgICAgICAgICB0d29GQUFjY291bnRwYXNza2V5Q29kZUZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCAnY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgdHdvRmFjdG9yQnV0dG9uLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGhhbmRsZUFjY291bnQyRmFSZXNwb25zZSgpO1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGV2ZW50LnRhcmdldCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiBwcm9maWxlRWRpdG9yXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHByb2ZpbGVFZGl0b3IgZm9ybSBhbmQgc2hvdy5cbiAgKi9cbiAgZnVuY3Rpb24gcHJvZmlsZUVkaXRvciAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciB0b2sgPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKCF0b2spIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3Rva2VuVmFsaWQnXSlcbiAgICAgIF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaGFuZGxlUHJvZmlsZUVkaXRvciA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2ssICcnLCBmdW5jdGlvbiAodXNlclByb2ZpbGUpIHtcbiAgICAgICAgICB2YXIgX3Byb2ZpbGVTY2hlbWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNjaGVtYSkpO1xuICAgICAgICAgIF9wcm9maWxlU2NoZW1hID0gY29tbW9uRm5zLm1hcFNjaGVtYShfcHJvZmlsZVNjaGVtYSwgdXNlclByb2ZpbGUsICdwcm9maWxlZWRpdG9yJyk7XG4gICAgICAgICAgdmFyIGVkaXRvclNjaGVtYSA9IFtdO1xuICAgICAgICAgIHZhciB2aWV3ZXJTY2hlbWEgPSBbXTtcbiAgICAgICAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcbiAgICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XG4gICAgICAgICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gdG9rO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfcHJvZmlsZVNjaGVtYS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKF9wcm9maWxlU2NoZW1hW2pdLm5hbWUgJiYgX3Byb2ZpbGVTY2hlbWFbal0ubmFtZS5pbmRleE9mKCdlbWFpbGlkJykgPT09IC0xICYmIF9wcm9maWxlU2NoZW1hW2pdLm5hbWUuaW5kZXhPZigncGhvbmVpZCcpID09PSAtMSkge1xuICAgICAgICAgICAgICBlZGl0b3JTY2hlbWEucHVzaChfcHJvZmlsZVNjaGVtYVtqXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfcHJvZmlsZVNjaGVtYVtqXS5wZXJtaXNzaW9uICYmIF9wcm9maWxlU2NoZW1hW2pdLnBlcm1pc3Npb24gIT09ICdoJykge1xuICAgICAgICAgICAgICB2aWV3ZXJTY2hlbWEucHVzaChfcHJvZmlsZVNjaGVtYVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oZWRpdG9yU2NoZW1hLCAncHJvZmlsZWVkaXRvcicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZURhdGEocmVzcG9uc2VPYmplY3QsIGNvbnRhaW5lciwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGVkaXRvclNjaGVtYSwgJ3Byb2ZpbGVFZGl0b3InKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgfSwgX2NsYXNzUHJlZml4KTtcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAgICAgY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgncmVuZGVyUHJvZmlsZUVkaXRvckhvb2snLCB1c2VyUHJvZmlsZSwgdmlld2VyU2NoZW1hKTtcbiAgICAgICAgfSwgJ3Byb2ZpbGVFZGl0b3InKTtcbiAgICAgIH07XG4gICAgICAvLyAgaWYgKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hIHx8IG1vZHVsZS5vcHRpb25zICE9ICcnKSB7XG4gICAgICBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSAmJiBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYS5sZW5ndGggPiAwKSA/IG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hIDogbW9kdWxlLm9wdGlvbnMuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYTtcbiAgICAgIGlmIChtb2R1bGUucHJvZ3Jlc3NpdmVQcm9maWxpbmcuc2hvd0luRWRpdG9yKSB7XG4gICAgICAgIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZy5mZXRjaFNjaGVtYShmdW5jdGlvbiAocHJvZ3JlZXNzaXZlU2NoZW1hT2JqZWN0KSB7XG4gICAgICAgICAgdmFyIGZpbmFsU2NoZW1hID0gbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEuc2xpY2UoKTtcbiAgICAgICAgICBpZiAocHJvZ3JlZXNzaXZlU2NoZW1hT2JqZWN0ICYmIHByb2dyZWVzc2l2ZVNjaGVtYU9iamVjdC5Qcm9maWxpbmdTdGVwcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9ncmVlc3NpdmVTY2hlbWFPYmplY3QuUHJvZmlsaW5nU3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIHByb2dyZXNzaXZlU2NoZW1hID0gcHJvZ3JlZXNzaXZlU2NoZW1hT2JqZWN0LlByb2ZpbGluZ1N0ZXBzW2ldLlNjaGVtYTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcm9ncmVzc2l2ZVNjaGVtYS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gbW9kdWxlLnV0aWwuY29udGFpbnNPYmplY3QoZmluYWxTY2hlbWEsIHByb2dyZXNzaXZlU2NoZW1hW2pdLCAnbmFtZScpO1xuICAgICAgICAgICAgICAgIGlmICghZmxhZykge1xuICAgICAgICAgICAgICAgICAgZmluYWxTY2hlbWEucHVzaChwcm9ncmVzc2l2ZVNjaGVtYVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZVByb2ZpbGVFZGl0b3IoZmluYWxTY2hlbWEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZVByb2ZpbGVFZGl0b3IobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGFjY291bnRMaW5raW5nXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGVOYW1lIHN0cmluZ1xuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBzb2NpYWwgYWNjb3VudCBMaW5raW5nIGFuZCByZW5kZXIgbGlua2VkIHNvY2lhbCBhY2NvdW50cy5cbiAgKi9cbiAgZnVuY3Rpb24gYWNjb3VudExpbmtpbmcgKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCB0ZW1wbGF0ZU5hbWUpIHtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZUFjY291bnRMaW5raW5nKSB7XG4gICAgICBtb2R1bGUubG9nKGRlZmF1bHRNZXNzYWdlc1snZGlzYWJsZWRBY2NvdW50TGlua2luZyddKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRhaW5lcklkcyA9IGNvbnRhaW5lci5zcGxpdCgnLCcpO1xuICAgICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICBvbkVycm9yKFtcbiAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3Rva2VuVmFsaWQnXSlcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5FcnJvckNvZGUpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5FbWFpbFZlcmlmaWVkIHx8IHJlc3BvbnNlLlBob25lSWRWZXJpZmllZCkge1xuICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJzID0ge307XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5JZGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc3BvbnNlLklkZW50aXRpZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyc1tyZXNwb25zZS5JZGVudGl0aWVzW2ldLlByb3ZpZGVyXSA9IHJlc3BvbnNlLklkZW50aXRpZXNbaV0uSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcklkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMucmVuZGVyQ3VzdG9tSW50ZXJmYWNlKGNvbnRhaW5lciwgcHJvdmlkZXJzLCB0ZW1wbGF0ZU5hbWUsICcnLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21tb25GbnMucmVuZGVyQ3VzdG9tSW50ZXJmYWNlKGNvbnRhaW5lciwgcHJvdmlkZXJzLCBtb2R1bGUub3B0aW9ucy5saW5rZWRBY2NvdW50c1RlbXBsYXRlICsgJywnICsgbW9kdWxlLm9wdGlvbnMubm90TGlua2VkQWNjb3VudHNUZW1wbGF0ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3aW5kb3cuaHRtbDVwYXNzVG9rZW4gPSBmdW5jdGlvbiAodG9rKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcnMuYWNjb3VudExpbmtpbmdSZWNlaXZlVG9rZW4odG9rLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmICghbW9kdWxlLm9wdGlvbnMuaXNNb2JpbGUgJiYgIW1vZHVsZS5vcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbikge1xuICAgICAgICAgICAgICAgIHV0aWwuYWRkRXZlbnQoJ21lc3NhZ2UnLCB3aW5kb3csIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbi5pbmRleE9mKG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbikgPT09IC0xICYmIGV2ZW50Lm9yaWdpbi5pbmRleE9mKExvZ2luUmFkaXVzRGVmYXVsdHMuaHViRG9tYWluKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5kYXRhID09PSAnc3RyaW5nJyAmJiAoX3V1aWRGb3JtYXQudGVzdChldmVudC5kYXRhKSB8fCB1dGlsLmlzSldUKGV2ZW50LmRhdGEpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVycy5hY2NvdW50TGlua2luZ1JlY2VpdmVUb2tlbihldmVudC5kYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3NvY2lhbENhbGxzJywgZnVuY3Rpb24gKHByb3ZpZGVyLCBjbGllbnRHdWlkKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5waW5nRm9yU29jaWFsSWRlbnRpdHkodG9rZW4sIGNsaWVudEd1aWQsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uRXJyb3IoW1xuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndW52ZXJpZmllZFVzZXInXSlcbiAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sICdsaW5rQWNjb3VudCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGdldExvZ2luRW1haWxMYWJlbFxuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBhcnJheSBvZiBsb2dpbiBmb3JtIGZpZWxkcyBvYmplY3RzXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgbG9naW4gZm9ybSBmaWVsZCBvYmplY3QgYW5kIHNldCBydWxlcyBhbmQgZGlzcGxheSBuYW1lLlxuICAqL1xuICBmdW5jdGlvbiBnZXRMb2dpbkVtYWlsTGFiZWwgKHNjaGVtYSkge1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5kdXBsaWNhdGVFbWFpbFdpdGhVbmlxdWVVc2VybmFtZSkge1xuICAgICAgdmFyIHVTY2hlbWEgPSB1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgIHVTY2hlbWEuZGlzcGxheSA9ICdVc2VybmFtZSc7XG4gICAgICB1U2NoZW1hLnJ1bGVzID0gJ3JlcXVpcmVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVTY2hlbWExO1xuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnVzZXJuYW1lTG9naW4pIHtcbiAgICAgICAgdVNjaGVtYTEgPSB1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcbiAgICAgICAgaWYgKHVTY2hlbWExLmRpc3BsYXkuaW5kZXhPZignL1VzZXJuYW1lJykgPT09IC0xKSB7XG4gICAgICAgICAgdVNjaGVtYTEuZGlzcGxheSA9IHVTY2hlbWExLmRpc3BsYXkgKyAnL1VzZXJuYW1lJztcbiAgICAgICAgICB1U2NoZW1hMS5ydWxlcyA9ICdyZXF1aXJlZCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luIHx8IG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luT1RQKSB7XG4gICAgICAgIGlmICghdVNjaGVtYTEpIHtcbiAgICAgICAgICB1U2NoZW1hMSA9IHV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAnZW1haWxpZCcpO1xuICAgICAgICAgIHVTY2hlbWExLnJ1bGVzID0gJ3JlcXVpcmVkJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodVNjaGVtYTEuZGlzcGxheS5pbmRleE9mKCcvUGhvbmUnKSA9PT0gLTEpIHtcbiAgICAgICAgICB1U2NoZW1hMS5kaXNwbGF5ID0gdVNjaGVtYTEuZGlzcGxheSArICcvUGhvbmUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24gZm9ybSBhbmQgZGlzcGxheSAuXG4gICovXG4gIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCkge1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uRW5hYmxlZCkge1xuICAgICAgdmFyIHNjaGVtYTtcbiAgICAgIHZhciBub1NlY3VyaXR5UXVlc3Rpb25zID0gdHJ1ZTtcbiAgICAgIHNjaGVtYSA9IG1vZHVsZS5nZXRTZWNRU2NoZW1hO1xuICAgICAgZ2V0TG9naW5FbWFpbExhYmVsKHNjaGVtYSk7XG4gICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzY2hlbWEsICdzZWN1cml0eXF1ZXN0aW9ucycsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGF0YSA9IHV0aWwuY2hlY2tQaG9uZU9yRW1haWxMb2dpbihkYXRhKTtcbiAgICAgICAgY29udHJvbGxlcnMuZ2V0U2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyKGRhdGEsIGZ1bmN0aW9uIChfc2VjdXJpdHlTY2hlbWEpIHtcbiAgICAgICAgICBpZiAoX3NlY3VyaXR5U2NoZW1hLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG5vU2VjdXJpdHlRdWVzdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGxvZ2luU2NoZW1hID0gbW9kdWxlLmxvZ2luRm9ybVNjaGVtYS5zbGljZSgpO1xuICAgICAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKGxvZ2luU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpKTtcbiAgICAgICAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShsb2dpblNjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xuICAgICAgICAgIHZhciBzZWN1cml0eVNjaGVtYSA9IHV0aWwubWVyZ2VPYmplY3RzKGxvZ2luU2NoZW1hLCBfc2VjdXJpdHlTY2hlbWEpO1xuICAgICAgICAgIGlmICghbW9kdWxlLmxvZ2luQWN0aW9uKSB7XG4gICAgICAgICAgICBnZXRMb2dpbkVtYWlsTGFiZWwoc2VjdXJpdHlTY2hlbWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIW5vU2VjdXJpdHlRdWVzdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNlY3VyaXR5U2NoZW1hLCAncmVzZXRwd2RieXNlY3EnLCBjb250YWluZXIsIGZ1bmN0aW9uIChmb3JtUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgZm9ybVJlc3BvbnNlID0gdXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGZvcm1SZXNwb25zZSk7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyKGZvcm1SZXNwb25zZSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgIH0sIGNsYXNzUHJlZml4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25FcnJvcihbXG4gICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snbm9TZWN1cml0eVF1ZXN0aW9ucyddKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgIH0sIGNsYXNzUHJlZml4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiByZXNldFBJTkJ5U2VjdXJpdHlRdWVzdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHJlc2V0UElOQnlTZWN1cml0eVF1ZXN0aW9uIGZvcm0gYW5kIGRpc3BsYXkgLlxuICAqL1xuICBmdW5jdGlvbiByZXNldFBJTkJ5U2VjdXJpdHlRdWVzdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KSB7XG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25FbmFibGVkKSB7XG4gICAgICB2YXIgc2NoZW1hO1xuICAgICAgdmFyIG5vU2VjdXJpdHlRdWVzdGlvbnMgPSB0cnVlO1xuICAgICAgc2NoZW1hID0gbW9kdWxlLmdldFNlY1FTY2hlbWE7XG4gICAgICBnZXRMb2dpbkVtYWlsTGFiZWwoc2NoZW1hKTtcbiAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ3NlY3VyaXR5cXVlc3Rpb25zJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkYXRhID0gdXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xuICAgICAgICBjb250cm9sbGVycy5nZXRTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXIoZGF0YSwgZnVuY3Rpb24gKF9zZWN1cml0eVNjaGVtYSkge1xuICAgICAgICAgIGlmIChfc2VjdXJpdHlTY2hlbWEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbm9TZWN1cml0eVF1ZXN0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICAgIHZhciByZXNldFBJTlNjaGVtYSA9IG1vZHVsZS5yZXNldFBJTkZvcm1TY2hlbWEuc2xpY2UoMCwgMSk7XG4gICAgICAgICAgcmVzZXRQSU5TY2hlbWEucHVzaChtb2R1bGUubG9naW5Gb3JtU2NoZW1hWzBdKTtcbiAgICAgICAgICBjb21tb25GbnMuc2V0UElOUnVsZShtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEocmVzZXRQSU5TY2hlbWEsICduYW1lJywgJ3BpbicpKTtcbiAgICAgICAgICB2YXIgc2VjdXJpdHlTY2hlbWEgPSB1dGlsLm1lcmdlT2JqZWN0cyhyZXNldFBJTlNjaGVtYSwgX3NlY3VyaXR5U2NoZW1hKTtcbiAgICAgICAgICBpZiAoIW1vZHVsZS5sb2dpbkFjdGlvbikge1xuICAgICAgICAgICAgZ2V0TG9naW5FbWFpbExhYmVsKHNlY3VyaXR5U2NoZW1hKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFub1NlY3VyaXR5UXVlc3Rpb25zKSB7XG4gICAgICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzZWN1cml0eVNjaGVtYSwgJ3Jlc2V0cGluYnlzZWNxJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZm9ybVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGZvcm1SZXNwb25zZSA9IHV0aWwuY2hlY2tQaG9uZU9yRW1haWxMb2dpbihmb3JtUmVzcG9uc2UpO1xuICAgICAgICAgICAgICBjb250cm9sbGVycy5yZXNldFBJTkJ5U2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXIoZm9ybVJlc3BvbnNlLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfSwgY2xhc3NQcmVmaXgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkVycm9yKFtcbiAgICAgICAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWydub1NlY3VyaXR5UXVlc3Rpb25zJ10pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgb25FcnJvcihlcnJvcnMpO1xuICAgICAgfSwgY2xhc3NQcmVmaXgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAcHJpdmF0ZVxuICAqIEBmdW5jdGlvbiB1cGRhdGVTZWN1cml0eVF1ZXN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgdXBkYXRlU2VjdXJpdHlRdWVzdGlvbiBmb3JtIGFuZCBkaXNwbGF5IC5cbiAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlU2VjdXJpdHlRdWVzdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uU2NoZW1hTG9hZGVkID0gZnVuY3Rpb24gKF9yZWdTY2hlbWEpIHtcbiAgICAgIHZhciBub1NlY3VyaXR5UXVlc3Rpb25zID0gdHJ1ZTtcbiAgICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uU2NoZW1hID0gY29tbW9uRm5zLmdldFNlY3VyaXR5UXVlc3Rpb25TY2hlbWEoX3JlZ1NjaGVtYSk7XG4gICAgICBpZiAoc2VjdXJpdHlRdWVzdGlvblNjaGVtYSAmJiBzZWN1cml0eVF1ZXN0aW9uU2NoZW1hLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbm9TZWN1cml0eVF1ZXN0aW9ucyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCFub1NlY3VyaXR5UXVlc3Rpb25zKSB7XG4gICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNlY3VyaXR5UXVlc3Rpb25TY2hlbWEsICd1cGRhdGVzZWN1cml0eXF1ZXN0aW9uJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICBvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH0sIF9jbGFzc1ByZWZpeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkVycm9yKFtcbiAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ25vU2VjdXJpdHlRdWVzdGlvbnMnXSlcbiAgICAgICAgXSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbkVuYWJsZWQpIHtcbiAgICAgIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hID0gKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hICYmIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLmxlbmd0aCA+IDApID8gbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgOiBtb2R1bGUub3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hO1xuICAgICAgc2VjdXJpdHlRdWVzdGlvblNjaGVtYUxvYWRlZChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gb25lVG91Y2hMb2dpblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIG9uZVRvdWNoTG9naW4gZm9ybSBhbmQgZGlzcGxheSAuXG4gICovXG4gIGZ1bmN0aW9uIG9uZVRvdWNoTG9naW4gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCkge1xuICAgIHZhciB2dG9rZW4gPSB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XG4gICAgdmFyIHZ0eXBlID0gdXRpbC5nZXRIYXNoUGFyYW0oJ3Z0eXBlJyk7XG4gICAgbGV0IGlzR29vZ2xlQ2FwdGNoRW5hYmxlZCA9IG1vZHVsZS5vcHRpb25zLmlzQ2FwdGNoYUVuYWJsZWQgfHwgbW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhO1xuICAgIHZhciBjYXB0Y2hhRW5hYmxlZCA9IGlzR29vZ2xlQ2FwdGNoRW5hYmxlZCB8fCBtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYSB8fCBtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYUFzRmFsbGJhY2s7XG4gICAgaWYgKCFjYXB0Y2hhRW5hYmxlZCAmJiBtb2R1bGUub3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbi5Jc0VuYWJsZWQpIHtcbiAgICAgIG1vZHVsZS5sb2coJ0NhcHRjaGEgc2hvdWxkIGJlIGVuYWJsZWQgZm9yIHBhc3N3b3JkbGVzcyBsb2dpbiBpZiB1c2luZyB3aXRoIHByaXZhY3kgcG9saWN5Jyk7XG4gICAgfVxuICAgIGlmICh2dHlwZSA9PT0gJ25vcmVnaXN0cmF0aW9uJyB8fCB2dHlwZSA9PT0gJ29uZXRvdWNobG9naW4nKSB7XG4gICAgICBjb250cm9sbGVycy5vbmVUb3VjaExvZ2luRW1haWxWZXJpZmljYXRpb24odnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH1cbiAgICB2YXIgc2NoZW1hID0gbW9kdWxlLnBhc3N3b3JkTGVzc0xvZ2luU2NoZW1hO1xuICAgIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luKSB7XG4gICAgICB2YXIgdVNjaGVtYSA9IHV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAnZW1haWxpZCcpO1xuXG4gICAgICB1U2NoZW1hLmRpc3BsYXkgPSB1U2NoZW1hLmRpc3BsYXkgKyAnL1Bob25lJztcbiAgICB9XG4gICAgdmFyIHJlY2FwdGNoYUlkO1xuICAgIGlmIChjYXB0Y2hhRW5hYmxlZCkge1xuICAgICAgdXRpbC5hZGRSZWNhcHRjaGFKUygpO1xuICAgICAgcmVjYXB0Y2hhSWQgPSBjbGFzc1ByZWZpeCArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldF9vbmV0b3VjaGxvZ2luJztcbiAgICAgIHV0aWwuY2FwdGNoYVNjaGVtYShyZWNhcHRjaGFJZCwgc2NoZW1hKTtcbiAgICB9XG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oc2NoZW1hLCAnb25lVG91Y2hMb2dpbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnRyb2xsZXJzLm9uZVRvdWNoTG9naW5Db250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCwgY2FwdGNoYUVuYWJsZWQpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgfSwgY2xhc3NQcmVmaXgpO1xuICAgIGlmIChjYXB0Y2hhRW5hYmxlZCkge1xuICAgICAgdXRpbC5yZW5kZXJWMlJlY2FwdGNoYShyZWNhcHRjaGFJZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gc21hcnRMb2dpblxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHNtYXJ0TG9naW4gZm9ybSBhbmQgZGlzcGxheSAuXG4gICovXG4gIGZ1bmN0aW9uIHNtYXJ0TG9naW4gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCkge1xuICAgIHZhciBzbWFydExvZ2luU2NoZW1hID0gbW9kdWxlLnNtYXJ0TG9naW5TY2hlbWE7XG4gICAgZ2V0TG9naW5FbWFpbExhYmVsKHNtYXJ0TG9naW5TY2hlbWEpO1xuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNtYXJ0TG9naW5TY2hlbWEsICdzbWFydGxvZ2luJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIHNtYXJ0TG9naW5EYXRhID0gdXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xuICAgICAgaWYgKHNtYXJ0TG9naW5EYXRhLmluZGV4T2YoJ3Bob25lJykgIT09IC0xKSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLmxvZ2luT1RQQ29udHJvbGxlcihzbWFydExvZ2luRGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXJzLnNtYXJ0TG9naW5Db250cm9sbGVyKHNtYXJ0TG9naW5EYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgfSwgY2xhc3NQcmVmaXgpO1xuICB9XG4gIC8qKlxuICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIHBpblJlYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgcGluUmVhdXRoZW50aWNhdGlvbiBmb3JtLlxuICovXG4gIGZ1bmN0aW9uIHBpblJlYXV0aGVudGljYXRpb24gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCkge1xuICAgIHZhciBwaW5BdXRoU2NoZW1hID0gW107XG4gICAgaWYgKG1vZHVsZS5waW5Mb2dpbkZvcm1TY2hlbWEpIHtcbiAgICAgIHBpbkF1dGhTY2hlbWEgPSBtb2R1bGUucGluTG9naW5Gb3JtU2NoZW1hLnNsaWNlKCk7XG4gICAgICBwaW5BdXRoU2NoZW1hLnJ1bGVzID0gJ3JlcXVpcmVkJztcbiAgICB9XG4gICAgaWYgKHBpbkF1dGhTY2hlbWEubGVuZ3RoKSB7XG4gICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShwaW5BdXRoU2NoZW1hLCAncGlucmVhdXRoZW50aWNhdGlvbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgY29udHJvbGxlcnMucGluUmVhdXRoQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgfSwgY2xhc3NQcmVmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2R1bGUubG9nKCdQaW4gc2NoZW1hIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gY3VzdG9tRXZlbnRDb25zZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IGN1c3RvbSBldmVudCBvZiBjb25zZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgY29uc2VudCBDdXN0b20gRXZlbnRzLlxuICovXG4gIGZ1bmN0aW9uIGN1c3RvbUV2ZW50Q29uc2VudCAoY29udGFpbmVyLCBldmVudCwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCkge1xuICAgIHZhciBjYWxsYmFja0FjdGlvbiA9IGZ1bmN0aW9uIChjb25zZW50T2JqZWN0KSB7XG4gICAgICB2YXIgcmVuZGVyU2NoZW1hID0gW107XG4gICAgICB2YXIgY29uc2VudEludGVyZmFjZSA9IGNvbW1vbkZucy5jcmVhdGVDb25zZW50SW50ZXJmYWNlKGNvbnNlbnRPYmplY3RbJ2N1c3RvbV8nICsgZXZlbnRdKTtcbiAgICAgIGlmIChjb25zZW50SW50ZXJmYWNlICE9PSAnJykge1xuICAgICAgICB2YXIgY29uc2VudFNjaGVtYSA9IHtcbiAgICAgICAgICAnaHRtbCc6IGNvbnNlbnRJbnRlcmZhY2UsXG4gICAgICAgICAgJ25hbWUnOiAnY29uc2VudCcsXG4gICAgICAgICAgJ3R5cGUnOiAnaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyU2NoZW1hLnB1c2goY29uc2VudFNjaGVtYSk7XG4gICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHJlbmRlclNjaGVtYSwgJ2N1c3RvbWV2ZW50Y29uc2VudCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgZXJyb3JzID0gY29tbW9uRm5zLmNvbnNlbnRWYWxpZGF0aW9uKGRhdGEsICdjdXN0b21fJyArIGV2ZW50KTtcbiAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgdmFyIGN1c3RvbUZpZWxkc09iaiA9IGNvbW1vbkZucy5tYXBSZWdpc3RyYXRpb25TY2hlbWEobnVsbCwgZGF0YSkuQ29uc2VudHM7XG4gICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICdFdmVudCc6IGV2ZW50LFxuICAgICAgICAgICAgICAnSXNDdXN0b20nOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkc09iai5FdmVudHMgPSBldmVudHM7XG4gICAgICAgICAgICBjb250cm9sbGVycy5jdXN0b21FdmVudENvbnNlbnRDb250cm9sbGVyKGN1c3RvbUZpZWxkc09iaiwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9LCBjbGFzc1ByZWZpeCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZ2V0Q29uc2VudENvbmZpZ3VyYXRpb24oY2FsbGJhY2tBY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4qIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuKiBAcHJpdmF0ZVxuKiBAZnVuY3Rpb24gY29uc2VudEVkaXRvclxuKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxuKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgY3VzdG9tIGV2ZW50IG9mIGNvbnNlbnRcbiogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxuKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcbiogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIGNvbnNlbnQgQ3VzdG9tIEV2ZW50cy5cbiovXG4gIGZ1bmN0aW9uIGNvbnNlbnRFZGl0b3IgKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCkge1xuICAgIHZhciB0b2sgPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XG4gICAgaWYgKCF0b2spIHtcbiAgICAgIG9uRXJyb3IoW1xuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3Rva2VuVmFsaWQnXSlcbiAgICAgIF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2FsbGJhY2tBY3Rpb24gPSBmdW5jdGlvbiAoY29uc2VudE9iamVjdCwgdXNlclByb2ZpbGUpIHtcbiAgICAgICAgdmFyIHJlbmRlclNjaGVtYSA9IFtdO1xuICAgICAgICB2YXIgYWNjZXB0ZWRDb25zZW50cztcbiAgICAgICAgdmFyIGNvbnNlbnRJbnRlcmZhY2UgPSAnJztcbiAgICAgICAgaWYgKHVzZXJQcm9maWxlICYmIHVzZXJQcm9maWxlLkNvbnNlbnRQcm9maWxlICYmIHVzZXJQcm9maWxlLkNvbnNlbnRQcm9maWxlLkNvbnNlbnRzKSB7XG4gICAgICAgICAgYWNjZXB0ZWRDb25zZW50cyA9IHVzZXJQcm9maWxlLkNvbnNlbnRQcm9maWxlLkNvbnNlbnRzO1xuICAgICAgICAgIGNvbnNlbnRJbnRlcmZhY2UgPSBjb21tb25GbnMuY3JlYXRlQ29uc2VudE9wdGlvbkludGVyZmFjZShtb2R1bGUuY29uc2VudHNMaXN0LCBhY2NlcHRlZENvbnNlbnRzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uc2VudFNjaGVtYSA9IHtcbiAgICAgICAgICAnaHRtbCc6IGNvbnNlbnRJbnRlcmZhY2UsXG4gICAgICAgICAgJ25hbWUnOiAnY29uc2VudCcsXG4gICAgICAgICAgJ3R5cGUnOiAnaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyU2NoZW1hLnB1c2goY29uc2VudFNjaGVtYSk7XG4gICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHJlbmRlclNjaGVtYSwgJ2NvbnNlbnRlZGl0b3InLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdmFyIGVycm9ycyA9IGNvbW1vbkZucy5jb25zZW50VmFsaWRhdGlvbihkYXRhKTtcbiAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9iakRhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xuICAgICAgICAgICAgdmFyIGNvbnNlbnRPcHRpb25zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqRGF0YSkge1xuICAgICAgICAgICAgICB2YXIgbmV3TGV5ID0ga2V5LnJlcGxhY2UoJ2NvbnNlbnRfJywgJycpO1xuICAgICAgICAgICAgICBjb25zZW50T3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAnQ29uc2VudE9wdGlvbklkJzogbmV3TGV5LFxuICAgICAgICAgICAgICAgICdJc0FjY2VwdGVkJzogb2JqRGF0YVtrZXldXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqRGF0YSA9IHt9O1xuICAgICAgICAgICAgb2JqRGF0YVsnQ29uc2VudHMnXSA9IGNvbnNlbnRPcHRpb25zO1xuICAgICAgICAgICAgY29udHJvbGxlcnMudXBkYXRlQ29uc2VudENvbnRyb2xsZXIob2JqRGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9LCBjbGFzc1ByZWZpeCk7XG4gICAgICB9O1xuICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2ssICcnLCBmdW5jdGlvbiAodXNlclByb2ZpbGUpIHtcbiAgICAgICAgbW9kdWxlLmdldENvbnNlbnRDb25maWd1cmF0aW9uKGZ1bmN0aW9uIChjb25zZW50T2JqZWN0KSB7XG4gICAgICAgICAgY2FsbGJhY2tBY3Rpb24oY29uc2VudE9iamVjdCwgdXNlclByb2ZpbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIGFjdGlvbkhhbmRsZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIGFjdGlvbiBuYW1lIGV4LiAnbG9naW4nXG4gICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgb3B0aW9uIG9iamVjdCB3aGljaCBob2xkIGNhbGxiYWNrIGZ1bmN0aW9uIGFuZCBvdGhlciBvcHRpb25zXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBoYW5kbGUgYWxsIHRoZSBWMkpTIGFjdGlvbnMuXG4gICovXG4gIGZ1bmN0aW9uIGFjdGlvbkhhbmRsZXIgKGFjdGlvbiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBvblN1Y2Nlc3MgPSBvcHRpb25zLm9uU3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XG4gICAgdmFyIG9uRXJyb3IgPSBvcHRpb25zLm9uRXJyb3IgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgIHZhciBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lciB8fCAnJztcbiAgICB2YXIgY2xhc3NQcmVmaXggPSBvcHRpb25zLmNsYXNzUHJlZml4IHx8ICcnO1xuICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBvcHRpb25zLnRlbXBsYXRlTmFtZSB8fCAnJztcbiAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdnZXRDdXJyZW50QWN0aW9uT3B0aW9ucycsIGZ1bmN0aW9uIChjdXJyZW50QWN0aW9uKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAoYWN0aW9uID09IGN1cnJlbnRBY3Rpb24pIHtcbiAgICAgICAgd2luZG93LkxSU2FmYXJpb25TdWNjZXNzID0gb25TdWNjZXNzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyAgZG8gbm90aGluZy5cbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LkxSU2FmYXJpb25FcnJvciA9IG9uRXJyb3IgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIGRvIG5vdGhpbmcuXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoIW1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9ucykge1xuICAgICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1thY3Rpb25dID0ge307XG4gICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXVsnb25TdWNjZXNzJ10gPSBvblN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl1bJ29uRXJyb3InXSA9IG9uRXJyb3IgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl1bJ2NvbnRhaW5lciddID0gY29udGFpbmVyO1xuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl1bJ2NsYXNzUHJlZml4J10gPSBjbGFzc1ByZWZpeCB8fCAnJztcbiAgICAgIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1thY3Rpb25dWyd0ZW1wbGF0ZU5hbWUnXSA9IHRlbXBsYXRlTmFtZSB8fCAnJztcbiAgICB9KTtcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihmdW5jdGlvbiAoYXBwQ29uZmlnKSB7XG4gICAgICBjb25zdCBhbGxvd0FjdGlvbnMgPSBhcHBDb25maWcgPyAhYXBwQ29uZmlnLkVycm9yQ29kZSA6IHRydWU7XG4gICAgICBpZiAoYWxsb3dBY3Rpb25zKSB7XG4gICAgICAgIGlmIChhY3Rpb24gIT09ICdyZWdpc3RyYXRpb24nICYmIGFjdGlvbiAhPT0gJ3VwZGF0ZVNlY3VyaXR5UXVlc3Rpb24nKSB7XG4gICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdiZWZvcmVJbml0JywgYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5pdEFjdGlvbiA9IHt9O1xuICAgICAgICBpbml0QWN0aW9uWydwcml2YWN5UG9saWN5VXBkYXRlJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYWNjZXB0UHJpdmFjeVBvbGljeShjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydsb2dpbiddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxvZ2luKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3JlZ2lzdHJhdGlvbiddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBmb3JtSW50ZXJ2YWw7XG4gICAgICAgICAgdmFyIGlzQ2xlYXIgPSAxO1xuICAgICAgICAgIGZvcm1JbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghTG9naW5SYWRpdXNEZWZhdWx0cy5pc1JlZ0Zvcm1TY2hlbWFMb2NrKSB7XG4gICAgICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlzUmVnRm9ybVNjaGVtYUxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdiZWZvcmVJbml0JywgYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzQ2xlYXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZm9ybUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgY2xlYXJJbnRlcnZhbChmb3JtSW50ZXJ2YWwpOyBtb2R1bGUubG9nKGUpOyB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Jlc2V0UGFzc3dvcmQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb21tb25GbnMucmVzZXRQYXNzd29yZChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydyZXNldFBhc3NLZXknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb21tb25GbnMucmVzZXRQYXNzS2V5KGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Jlc2V0UElOJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29tbW9uRm5zLnJlc2V0UElOKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ2ZvcmdvdFBhc3N3b3JkJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yZ290UGFzc3dvcmQoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnZm9yZ290UElOJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yZ290UElOKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3ZlcmlmeUVtYWlsJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZW1haWxWZXJpZmljYXRpb24ob25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnY2hhbmdlUGFzc3dvcmQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjaGFuZ2VQYXNzd29yZChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydjaGFuZ2VQSU4nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjaGFuZ2VQSU4oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnY3Jvc3NEZXZpY2VTU08nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb21tb25GbnMubG9hZFFSQ29kZVNjcmlwdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gSW50aWF0ZSB0aGUgYWN0aW9uIG9uY2Ugc2NyaXB0IGhhcyBiZWVuIGxvYWRlZFxuICAgICAgICAgICAgY3Jvc3NEZXZpY2VTU08oY29udGFpbmVyLCBvcHRpb25zLmV4cGlyeXRpbWUsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydzb2NpYWxMb2dpbiddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBlbGVtID0gdXRpbC5lbGVtZW50QnlJZChjb250YWluZXIpO1xuICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICB1dGlsLmFkZEV2ZW50KCdjbGljaycsIGVsZW0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5zb2NpYWxSZWdGb3JtSWQgPSB0aGlzLmlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuc29jaWFsUmVnRm9ybUlkID0gY29udGFpbmVyO1xuICAgICAgICAgIGNvbW1vbkZucy5zb2NpYWxMb2dpbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydsaW5rQWNjb3VudCddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFjY291bnRMaW5raW5nKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCB0ZW1wbGF0ZU5hbWUpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWyd1bkxpbmtBY2NvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHVubGluayA9IHV0aWwudW5MaW5rQWNjb3VudDtcbiAgICAgICAgICB1dGlsLnVuTGlua0FjY291bnQgPSBmdW5jdGlvbiAocHJvdmlkZXIsIHByb3ZpZGVySWQpIHtcbiAgICAgICAgICAgIHVubGluayhwcm92aWRlciwgcHJvdmlkZXJJZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydwcm9maWxlRWRpdG9yJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcHJvZmlsZUVkaXRvcihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydkZWxldGVVc2VyJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGVsZXRlVXNlcihvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ2RlbGV0ZVVzZXJDb25maXJtJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGVsZXRlVXNlckNvbmZpcm0ob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsndXBkYXRlUGhvbmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBtb2R1bGUuTFJDaGVjazJGQSA9IGZhbHNlO1xuICAgICAgICAgIGNvbW1vbkZucy51cGRhdGVQaG9uZU51bWJlcihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydjaGFuZ2VVc2VybmFtZSddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNoYW5nZVVzZXJuYW1lKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Jlc2VuZFZlcmlmaWNhdGlvbkVtYWlsJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzZW5kRW1haWxWZXJpZmljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnYWRkRW1haWwnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhZGRFbWFpbChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydyZW1vdmVFbWFpbCddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlbW92ZUVtYWlsKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ2NyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsncGFzc2tleWxvZ2luJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcGFzc2tleUxvZ2luKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ2JhY2t1cENvZGVCdXR0b24nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBiYWNrdXBDb2RlQnV0dG9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Jlc2V0QmFja3VwQ29kZUJ1dHRvbiddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc2V0QmFja3VwQ29kZUJ1dHRvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWyd1cGRhdGVTZWN1cml0eVF1ZXN0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF9mb3JtSW50ZXJ2YWw7XG4gICAgICAgICAgdmFyIF9pc0NsZWFyID0gMTtcbiAgICAgICAgICBfZm9ybUludGVydmFsID0gc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFMb2dpblJhZGl1c0RlZmF1bHRzLmlzU2VjdXJpdHlGb3JtU2NoZW1hTG9jaykge1xuICAgICAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NlY3VyaXR5Rm9ybVNjaGVtYUxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlU2VjdXJpdHlRdWVzdGlvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgaWYgKF9pc0NsZWFyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKF9mb3JtSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjbGVhckludGVydmFsKF9mb3JtSW50ZXJ2YWwpOyBtb2R1bGUubG9nKGUpOyB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Jlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Jlc2V0UElOQnlTZWN1cml0eVF1ZXN0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzZXRQSU5CeVNlY3VyaXR5UXVlc3Rpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnc3NvTG9naW4nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzc29Mb2dpbihvblN1Y2Nlc3MpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydsb2dvdXQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb21tb25GbnMubG9nb3V0KG9uU3VjY2Vzcyk7XG4gICAgICAgIH07XG4gICAgICAgIGluaXRBY3Rpb25bJ3Nzb05vdExvZ2luVGhlbkxvZ291dCddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNzb05vdExvZ2luVGhlbkxvZ291dChvbkVycm9yLCBvblN1Y2Nlc3MpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydwaW5yZWF1dGhlbnRpY2F0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcGluUmVhdXRoZW50aWNhdGlvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbml0QWN0aW9uWydjdXN0b21ldmVudGNvbnNlbnQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjdXN0b21FdmVudENvbnNlbnQoY29udGFpbmVyLCBvcHRpb25zLmV2ZW50LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnY29uc2VudGVkaXRvciddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNlbnRFZGl0b3IoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9wYXNzd29yZGxlc3NMb2dpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwYXNzd29yZGxlc3NMb2dpbihvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9vbmVUb3VjaExvZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uZVRvdWNoTG9naW4oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9zbWFydExvZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNtYXJ0TG9naW4oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5pdEFjdGlvblsnaW5zdGFudExpbmtMb2dpbiddID0gX3Bhc3N3b3JkbGVzc0xvZ2luO1xuICAgICAgICBpbml0QWN0aW9uWydwYXNzd29yZGxlc3NMb2dpblZhbGlkYXRlJ10gPSBfcGFzc3dvcmRsZXNzTG9naW47XG4gICAgICAgIGluaXRBY3Rpb25bJ2F1dG9Mb2dpbiddID0gX3NtYXJ0TG9naW47XG4gICAgICAgIGluaXRBY3Rpb25bJ3NtYXJ0TG9naW4nXSA9IF9zbWFydExvZ2luO1xuICAgICAgICBpbml0QWN0aW9uWydub1JlZ2lzdHJhdGlvblBhc3N3b3JkTGVzc0xvZ2luJ10gPSBfb25lVG91Y2hMb2dpbjtcbiAgICAgICAgaW5pdEFjdGlvblsnb25ldG91Y2hMb2dpbiddID0gX29uZVRvdWNoTG9naW47XG4gICAgICAgIGluaXRBY3Rpb25bJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBtb2R1bGUubG9nKCdUaGlzIGFjdGlvbiBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGludm9rZSBhY3Rpb25zXG4gICAgICAgIChpbml0QWN0aW9uW2FjdGlvbl0gfHwgaW5pdEFjdGlvblsnZGVmYXVsdCddKSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zKG1vZHVsZSwgbHJPcHRpb25zKTtcblxuICAvKipcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcbiAgKiBAZnVuY3Rpb24gbW9kdWxlLmluaXRcbiAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIGFjdGlvbiBuYW1lIGV4LiAnbG9naW4nXG4gICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgb3B0aW9uIG9iamVjdCB3aGljaCBob2xkIGNhbGxiYWNrIGZ1bmN0aW9uIGFuZCBvdGhlciBvcHRpb25zXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHRoZSB1c2VyIGFjdGlvbnMuXG4gICovXG4gIG1vZHVsZS5pbml0ID0gZnVuY3Rpb24gKGFjdGlvbiwgb3B0aW9ucykge1xuICAgIG1vZHVsZS51c2VyYWN0aW9uID0gYWN0aW9uO1xuICAgIGlmIChsck9wdGlvbnMubWFza1NlbnNpdGl2ZUlucHV0KSB7XG4gICAgICBtb2R1bGUub3RwU2NoZW1hID0gW3tcbiAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICAgICAgbmFtZTogJ290cCcsXG4gICAgICAgIGRpc3BsYXk6ICdWZXJpZmljYXRpb24gQ29kZScsXG4gICAgICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxuICAgICAgICBwZXJtaXNzaW9uOiAncidcbiAgICAgIH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2R1bGUub3RwU2NoZW1hID0gW3tcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIG5hbWU6ICdvdHAnLFxuICAgICAgICBkaXNwbGF5OiAnVmVyaWZpY2F0aW9uIENvZGUnLFxuICAgICAgICBydWxlczogJ3JlcXVpcmVkJyxcbiAgICAgICAgcGVybWlzc2lvbjogJ3InXG4gICAgICB9XTtcbiAgICB9XG4gICAgaWYgKGxyT3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiA9PT0gJ3JlcXVpcmVkJykge1xuICAgICAgbHJPcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gdHJ1ZTtcbiAgICAgIGxyT3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChsck9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPT09ICdvcHRpb25hbCcpIHtcbiAgICAgIGxyT3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IGZhbHNlO1xuICAgICAgbHJPcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgoYWN0aW9uID09PSAnc3NvTG9naW4nIHx8IGFjdGlvbiA9PT0gJ2xvZ291dCcgfHwgYWN0aW9uID09PSAnc3NvTm90TG9naW5UaGVuTG9nb3V0JykgJiYgIUxvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQpIHtcbiAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQgPSB0cnVlO1xuICAgICAgbW9kdWxlLlNTT2luaXRGaXJlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChhY3Rpb24gPT09ICdvcmdhbml6YXRpb24nIHx8IGFjdGlvbiA9PT0gJ2xvZ2luJykge1xuICAgICAgaWYgKCFtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXSA9IHt9O1xuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl1bJ29uU3VjY2VzcyddID0gb3B0aW9ucy5vblN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zW2FjdGlvbl1bJ2NvbnRhaW5lciddID0gb3B0aW9ucy5jb250YWluZXIgfHwgJyc7XG4gICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbYWN0aW9uXVsnb25FcnJvciddID0gb3B0aW9ucy5vbkVycm9yIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcbiAgICAgIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1thY3Rpb25dWydjbGFzc1ByZWZpeCddID0gb3B0aW9ucy5fY2xhc3NQcmVmaXggfHwgJyc7XG4gICAgfVxuICAgIGlmICghbHJPcHRpb25zLmFwcE5hbWUpIHtcbiAgICAgIG1vZHVsZS5sb2coJ1NTTyB3aWxsIG5vdCB3b3JrLCBwbGVhc2Ugc2V0IG9wdGlvbi5hcHBOYW1lIGZvciBTU08nKTtcbiAgICB9XG5cbiAgICBsck9wdGlvbnMuZm9ybVJlbmRlckRlbGF5ID0gbHJPcHRpb25zLmZvcm1SZW5kZXJEZWxheSB8fCAwO1xuXG4gICAgaWYgKGxyT3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgIGlmIChsck9wdGlvbnMuZm9ybVJlbmRlckRlbGF5ID4gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhY3Rpb25IYW5kbGVyKGFjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIH0sIGxyT3B0aW9ucy5mb3JtUmVuZGVyRGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9uSGFuZGxlcihhY3Rpb24sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtb2R1bGUubG9nKCdBUEkga2V5IG11c3QgYmUgc2V0LicpO1xuICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiQVBJIGtleSBtdXN0IGJlIHNldC5cIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBzZXRMb2dpblJhZGl1c0RlZmF1bHRTY2hlbWEobW9kdWxlKTtcblxuICAvLyBBUElcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIG1vZHVsZS5hcGkgPSBuZXcgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsobW9kdWxlLCBjb250cm9sbGVycyk7XG5cbiAgLyoqXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXG4gICogQHByaXZhdGVcbiAgKiBAZnVuY3Rpb24gc3NvTG9naW5cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaWYgdGhlcmUgaXMgYW4gYWN0aXZhdGVkIFNTTyBzZXNzaW9uIGdvaW5nLiBJZiB0aGVyZSBpcywgdGhlIHRva2VuIGZvciB0aGF0IGFjdGl2YXRlZCBzZXNzaW9uIHdpbGwgYmUgcGFzc2VkIGJhY2ssIGFuZCB0aGUgY2FsbGJhY2sgKG9uc3VjY2VzcyBmdW5jdGlvbikgd2lsbCBiZSBleGVjdXRlZC5cbiAgKi9cbiAgZnVuY3Rpb24gc3NvTG9naW4gKG9uU3VjY2Vzcykge1xuICAgIGNvbW1vbkZucy52YWxpZGF0ZUFuZENhbGwoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRvbWFpbiA9IG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbiB8fCBtb2R1bGUub3B0aW9ucy5hcHBOYW1lICsgJy4nICsgTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW47XG4gICAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCAnaHR0cHM6Ly8nICsgZG9tYWluICsgJy9zc29sb2dpbi9sb2dpbicsICcnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5pc2F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICBpZiAobW9kdWxlLmxvZ2luUmFkaXVzSHRtbDVQYXNzVG9rZW4pIHtcbiAgICAgICAgICAgIG1vZHVsZS5sb2dpblJhZGl1c0h0bWw1UGFzc1Rva2VuKGRhdGEudG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSwgZGF0YS50b2tlbik7XG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlICYmIG1vZHVsZS5vcHRpb25zLnRva2VuVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnand0Jykge1xuICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyUmVzcG9uc2VDb3VudGVyKys7XG4gICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJDb3VudGVyVG9rZW5SZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uIChKd3RUb2tlbikge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhkYXRhLnRva2VuLCBKd3RUb2tlbik7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNvbW1vbkZucy5nZXRKd3RUb2tlbihkYXRhLnRva2VuLCBfb25TdWNjZXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uU3VjY2VzcyhkYXRhLnRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90IHNlbmRpbmcgYWN0aW9uICdzc29Mb2dpbicgdG8gc3VwcG9ydCBvbGQganNvbnBjYWxsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xuICAqIEBwcml2YXRlXG4gICogQGZ1bmN0aW9uIHNzb0xvZ2luXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHZlcmlmeSB0aGF0IGEgdXNlciBoYXMgYmVlbiBsb2dnZWQgb3V0IGZyb20gYWxsIHdlYnNpdGVzLlxuICAqL1xuICBmdW5jdGlvbiBzc29Ob3RMb2dpblRoZW5Mb2dvdXQgKG9uRXJyb3IsIG9uU3VjY2Vzcykge1xuICAgIGNvbW1vbkZucy52YWxpZGF0ZUFuZENhbGwoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRvbWFpbiA9IG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbiB8fCBtb2R1bGUub3B0aW9ucy5hcHBOYW1lICsgJy4nICsgTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW47XG4gICAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCAnaHR0cHM6Ly8nICsgZG9tYWluICsgJy9zc29sb2dpbi9sb2dpbicsICcnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5pc2F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICB2YXIgY29va2lldG9rZW4gPSBMUk5hbWVTcGFjZS5jb29raWVzLmdldEl0ZW0oTG9naW5SYWRpdXNEZWZhdWx0cy50b2tlbkNvb2tpZSk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcbiAgICAgICAgICBpZiAodHlwZW9mIGNvb2tpZXRva2VuID09PSAndW5kZWZpbmVkJyB8fCBjb29raWV0b2tlbiA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21tb25GbnMuc2V0VG9rZW4oZGF0YS50b2tlbik7XG4gICAgICAgICAgICBjb29raWV0b2tlbiA9IExSTmFtZVNwYWNlLmNvb2tpZXMuZ2V0SXRlbShMb2dpblJhZGl1c0RlZmF1bHRzLnRva2VuQ29va2llKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvb2tpZXRva2VuICYmIGNvb2tpZXRva2VuICE9PSBkYXRhLnRva2VuKSB7XG4gICAgICAgICAgICBjb21tb25GbnMuc2V0VG9rZW4oZGF0YS50b2tlbik7XG4gICAgICAgICAgICAvLyBvbkVycm9yKGRhdGEudG9rZW4pO1xuICAgICAgICAgICAgb25TdWNjZXNzKGRhdGEudG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSwgZGF0YS50b2tlbik7XG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlICYmIG1vZHVsZS5vcHRpb25zLnRva2VuVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnand0Jykge1xuICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyUmVzcG9uc2VDb3VudGVyKys7XG4gICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJDb3VudGVyVG9rZW5SZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uIChKd3RUb2tlbikge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhkYXRhLnRva2VuLCBKd3RUb2tlbik7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNvbW1vbkZucy5nZXRKd3RUb2tlbihkYXRhLnRva2VuLCBfb25TdWNjZXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uU3VjY2VzcyhkYXRhLnRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTFJOYW1lU3BhY2UuY29va2llcy5yZW1vdmVJdGVtKExvZ2luUmFkaXVzRGVmYXVsdHMudG9rZW5Db29raWUsIG1vZHVsZS5vcHRpb25zLmFwcFBhdGgpO1xuICAgICAgICAgIG9uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3Qgc2VuZGluZyBhY3Rpb24gJ3Nzb05vdExvZ2luVGhlbkxvZ291dCcgdG8gc3VwcG9ydCBvbGQgIGpzb25wY2FsbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZTtcbn07XG4iXSwibmFtZXMiOlsicSIsInIiLCJtIiwidCIsImEiLCJlIiwiYiIsImMiLCJ0aGlzIiwiY2FsbGJhY2siLCJlcnJvcnMiLCJmaWVsZHMiLCJmb3JtIiwiX2Zvcm1CeU5hbWVPck5vZGUiLCJtZXNzYWdlcyIsImhhbmRsZXJzIiwibGVuZ3RoIiwiZCIsIm5hbWUiLCJuYW1lcyIsInJ1bGVzIiwibCIsIl9hZGRGaWVsZCIsImciLCJvbnN1Ym1pdCIsIl92YWxpZGF0ZUZvcm0iLCJuIiwidHlwZSIsImNoZWNrZWQiLCJzIiwicmVxdWlyZWQiLCJ2YWxpZF9waG9uZW5vIiwibWF0Y2hlcyIsImRlZmF1bHQiLCJ2YWxpZF9lbWFpbCIsInZhbGlkX2VtYWlscyIsIm1pbl9sZW5ndGgiLCJtYXhfbGVuZ3RoIiwiZXhhY3RfbGVuZ3RoIiwiZ3JlYXRlcl90aGFuIiwibGVzc190aGFuIiwiYWxwaGEiLCJhbHBoYV9udW1lcmljIiwiYWxwaGFfZGFzaCIsImFscGhhX251bWVyaWNfZGFzaF9jb21ibyIsImFscGhhbnVtZXJpY19jb21ibyIsIm51bWVyaWMiLCJpbnRlZ2VyIiwiZGVjaW1hbCIsImlzX25hdHVyYWwiLCJpc19uYXR1cmFsX25vX3plcm8iLCJ2YWxpZF9pcCIsInZhbGlkX2Jhc2U2NCIsInZhbGlkX2NyZWRpdF9jYXJkIiwiaXNfZmlsZV90eXBlIiwidmFsaWRfdXJsIiwidmFsaWRfY2FfemlwIiwiY3ppcCIsInBOIiwidSIsImgiLCJhTkRDIiwiYU5DIiwidiIsImsiLCJwIiwidyIsIngiLCJ5IiwieiIsIkEiLCJCIiwiQyIsIkQiLCJFIiwicHJvdG90eXBlIiwic2V0TWVzc2FnZSIsInJlZ2lzdGVyQ2FsbGJhY2siLCJmb3JtcyIsImRpc3BsYXkiLCJpZCIsInZhbHVlIiwiaGFzT3duUHJvcGVydHkiLCJfdmFsaWRhdGVGaWVsZCIsInByZXZlbnREZWZhdWx0IiwiZXZlbnQiLCJyZXR1cm5WYWx1ZSIsInNwbGl0IiwiaW5kZXhPZiIsImYiLCJleGVjIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiX2hvb2tzIiwiYXBwbHkiLCJyZXBsYWNlIiwiY3UiLCJwdXNoIiwiSWQiLCJOYW1lIiwiTWVzc2FnZSIsIlJ1bGUiLCJ0cmltIiwidGVzdCIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiRm9ybVZhbGlkYXRvciIsIndpbmRvdyIsImRvY3VtZW50IiwiTFJOYW1lU3BhY2UiLCJMb2dpblJhZGl1c0RlZmF1bHRzIiwiY29udGV4dCIsIlN0b3JhZ2UiLCJtb2R1bGUiLCJpc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQiLCJsc05hbWUiLCJzdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJlcnJvciIsInNldEJyb3dzZXJTdG9yYWdlIiwia2V5IiwiY29va2llRmFsbGJhY2siLCJsb2NhbFN0b3JhZ2UiLCJzZXNzaW9uU3RvcmFnZSIsIm9wdGlvbnMiLCJjb29raWVzIiwiYXBwUGF0aCIsImdldEJyb3dzZXJTdG9yYWdlIiwic3RvcmVkVG9rZW5OYW1lIiwidmFsIiwiZ2V0SXRlbSIsInVuZGVmaW5lZCIsInJlbW92ZUJyb3dzZXJTdG9yYWdlIiwiaW50VG9TdHJpbmciLCJpbnRWYWx1ZSIsInRvU3RyaW5nIiwic3RyaW5nVG9JbnQiLCJzdHJWYWx1ZSIsImlzU2FtZVNpdGVOb25lQ29tcGF0aWJsZSIsInVzZXJhZ2VudCIsImlzU2FtZVNpdGVOb25lSW5jb21wYXRpYmxlIiwiaGFzV2ViS2l0U2FtZVNpdGVCdWciLCJkcm9wc1VucmVjb2duaXplZFNhbWVTaXRlQ29va2llcyIsImlzSW9zVmVyc2lvbiIsImlzTWFjb3N4VmVyc2lvbiIsImlzU2FmYXJpIiwiaXNNYWNFbWJlZGRlZEJyb3dzZXIiLCJpc0Nocm9taXVtQmFzZWQiLCJpc0Nocm9taXVtVmVyc2lvbkF0TGVhc3QiLCJpc1VjQnJvd3NlciIsImlzVWNCcm93c2VyVmVyc2lvbkF0TGVhc3QiLCJyZWdleENvbnRhaW5zIiwic3RyaW5nVmFsdWUiLCJyZWdleCIsIm1hdGNoIiwiZXh0cmFjdFJlZ2V4TWF0Y2giLCJvZmZzZXRJbmRleCIsIm1ham9yIiwibWlub3IiLCJidWlsZCIsIm1ham9yVmVyc2lvbiIsIm1pbm9yVmVyc2lvbiIsImJ1aWxkVmVyc2lvbiIsInNLZXkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJSZWdFeHAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzVmFsdWUiLCJ2RW5kIiwic1BhdGgiLCJzRG9tYWluIiwiYlNlY3VyZSIsInNFeHBpcmVzIiwidkV4cGlyeURhdGUiLCJuTWF4QWdlIiwiZERhdGUiLCJJbmZpbml0eSIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsInRvR01UU3RyaW5nIiwiY29uc3RydWN0b3IiLCJOdW1iZXIiLCJTdHJpbmciLCJ0b1VUQ1N0cmluZyIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsImhhc0l0ZW0iLCJrZXlzIiwiYUtleXMiLCJuTGVuIiwibklkeCIsIlV0aWxpdGllcyIsInRvTG93ZXJDYXNlIiwiYnJvd3NlciIsInZlcnNpb24iLCJzYWZhcmkiLCJvcGVyYSIsIm1zaWUiLCJtb3ppbGxhIiwicmVhZHlCb3VuZCIsImlzUmVhZHkiLCJyZWFkeUxpc3QiLCJkb21SZWFkeSIsImZuIiwiY2FsbCIsImJpbmRSZWFkeSIsIm51bVN0eWxlcyIsImZ1bmMiLCJvbGRvbmxvYWQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiZG9TY3JvbGwiLCJpIiwic3R5bGVTaGVldHMiLCJkaXNhYmxlZCIsInJlYWR5U3RhdGUiLCJsaW5rcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwic3R5bGVzIiwib25sb2FkIiwiZ2V0SGFzaFBhcmFtIiwibG9jYXRpb24iLCJoYXNoIiwidnRva2VuIiwiZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUiLCJrZXlzVG9Mb3dlckNhc2UiLCJvYmoiLCJPYmplY3QiLCJuZXdvYmoiLCJlbGVtZW50c0J5Q2xhc3MiLCJjbGFzc25hbWUiLCJub2RlIiwiYm9keSIsInJlIiwiZWxzIiwiaiIsImNsYXNzTmFtZSIsImlzVmFsaWRVcmwiLCJ1cmxUb1ZhbGlkYXRlIiwiaGFzQ2xhc3MiLCJlbGUiLCJjbHMiLCJhZGRjbGFzcyIsImlzU3Vic3RyaW5nIiwiaXNKV1QiLCJoZWFkZXJCNjQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwiXyIsImlzSnNvblN0cmluZyIsInN0ciIsImFkZEV2ZW50IiwiZWxlbWVudCIsImhhbmRsZSIsImVsZW1lbnRzIiwiQXJyYXkiLCJzZWFyY2giLCJyZXN1bHRzIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwiZ2V0UXVlcnlTdHJpbmdWYWx1ZSIsInVybCIsImhyZWYiLCJzdHJpbmciLCJleHRlbmQiLCJvYmoxIiwib2JqMiIsInJlYWR5IiwiYXJncyIsInBhcnNlUXVlcnlTdHJpbmciLCJxcyIsIm5vZGVzIiwia2V5VmFsdWUiLCJlbmNvZGVkU3RyaW5nIiwibWVyZ2VPcHRpb25zIiwiYXR0cm5hbWUiLCJhdHRybmFtZTEiLCJvYmozIiwibWVyZ2VPYmplY3RzIiwiYXJyMSIsImFycjIiLCJmbGFnIiwiY2hlY2siLCJhcnIzIiwiY29uY2F0IiwiaXNBcnJheSIsIm8iLCJyYW5kb21TdHJpbmciLCJjaGFycyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImZpbmRJblNjaGVtYSIsInNjaGVtYSIsImNhc2VJbnNlbnNpdGl2ZSIsImpzb25Ub1F1ZXJ5U3RyaW5nIiwianNvbiIsIm1hcCIsImpvaW4iLCJpbnNlcnRCZWZvcmUiLCJlbCIsInJlZmVyZW5jZU5vZGUiLCJwYXJlbnROb2RlIiwiaXNFbXB0eSIsImtleXNsb3dlclRvVXBwZXJDYW1lbENhc2UiLCJ0b1VwcGVyQ2FzZSIsImZpbmRFbGVtZW50QnlSZWdleCIsInByb3BlcnR5IiwicGF0dGVybiIsInF1ZXJ5Q3JpdGVyaWEiLCJlbGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXFFbGVtcyIsImlzT2JqZWN0IiwicGFyc2VTdHJpbmciLCJzdHJpbmdpZnlWYWx1ZSIsImNvbnRhaW5zT2JqZWN0IiwibGlzdCIsImJhc2U2NFVybERlY29kZSIsImJhc2U2NHVybCIsInBhZCIsIkVycm9yIiwiVWludDhBcnJheSIsImNoYXJDb2RlQXQiLCJiYXNlNjRVcmxFbmNvZGUiLCJidWZmZXIiLCJidG9hIiwiZnJvbUNoYXJDb2RlIiwiUHJvZ3Jlc3NpdmVQcm9maWxpbmciLCJjb21tb25GbnMiLCJjb250cm9sbGVycyIsImZldGNoU2NoZW1hIiwiY2IiLCJ1dGlsIiwiYWpheENhbGwiLCJjb25maWdBcGlEb21haW4iLCJhcGlLZXkiLCJhcHBOYW1lIiwiZXhlY1N0ZXAiLCJzdGVwSWQiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiY29udGFpbmVyIiwiY2xhc3NQcmVmaXgiLCJ0ZW1wbGF0ZU5hbWUiLCJ0b2tlbiIsInByb2dyZXNzaXZlUHJvZmlsaW5nU2NoZW1hIiwiYXBpRG9tYWluIiwidXNlcnByb2ZpbGUiLCJyZXNwb25zZU9iamVjdCIsInByb3ZpZGVyIiwic2hvd1NjaGVtYSIsInByb3ZpZGVycyIsInN0ZXBzU2NoZW1hIiwiUHJvZmlsaW5nU3RlcHMiLCJQcm9maWxlIiwiYWNjZXNzX3Rva2VuIiwiUHJvdmlkZXIiLCJwcm9ncmVzc2l2ZVByb2ZpbGluZ1RyYWRpdGlvbmFsIiwiTG9nZ2VkaW5Tb2NpYWxQcm92ZGVyUHJvZmlsZSIsIlNjaGVtYSIsIm1hcFNjaGVtYSIsImNyZWF0ZUZvcm0iLCJkYXRhIiwidXBkYXRlRGF0YSIsImxvZ2luSGFuZGxlVG9rZW4iLCJzY29wZXNMaXN0IiwiU2NvcGVzIiwic3RlcHNQcm92aWRlclNjaGVtYSIsImVuZHBvaW50IiwiY3VzdG9tRG9tYWluIiwiaHViRG9tYWluIiwiRW5kcG9pbnQiLCJyZW5kZXJDdXN0b21JbnRlcmZhY2UiLCJzb2NpYWxMb2dpbiIsImxvZyIsImVsdCIsImxlbiIsImZyb20iLCJhcmd1bWVudHMiLCJjZWlsIiwiZmlsdGVyIiwiZnVuIiwiVHlwZUVycm9yIiwicmVzIiwidGhpc3AiLCJnZXQiLCJhZGQiLCJyZW1vdmUiLCJjbGVhciIsImFzc2lnbiIsImRlZmluZVByb3BlcnR5IiwidGFyZ2V0IiwidmFyQXJncyIsInRvIiwiaW5kZXgiLCJuZXh0U291cmNlIiwibmV4dEtleSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiaWRQcmVmaXgiLCJjbG91ZEFwaURvbWFpbiIsInNvY2lhbEFwaURvbWFpbiIsImV4dGVybmFsTGlicmFyeSIsImlzUmVnRm9ybVNjaGVtYUxvY2siLCJpc1NlY3VyaXR5Rm9ybVNjaGVtYUxvY2siLCJpbm5lckhUTUwiLCJhdXRvRmlsbGVkRmllbGRmb3JQYXNzd29yZExlc0xvZ2luIiwic29jaWFsUmVnRm9ybUlkIiwibHJSZXNwb25zZUNvdW50ZXIiLCJMUlBob25lTm8iLCJsckNvdW50ZXJKd3RSZXNwb25zZSIsImxyQ291bnRlclRva2VuUmVzcG9uc2UiLCJzdG9yZWRUd29GQVRva2VuIiwic3RvcmVkU2Vzc2lvblRva2VuRGF0YSIsInN0b3JlZE9UUEF1dGgiLCJzdG9yZWRHQUF1dGgiLCJzdG9yZWRFbWFpbE9UUEF1dGgiLCJzdG9yZWRQdXNoTm90aWZpY2F0aW9uQXV0aCIsInN0b3JlZFNRQXV0aCIsInN0b3JlZFVpZE5hbWUiLCJzdG9yZWREdW9BdXRoIiwic3RvcmVkUGFzc2tleUF1dGgiLCJ0b2tlbkNvb2tpZSIsImZlZFNlc3NDb29raWUiLCJzdG9yZWRPcmdhbml6YXRpb24iLCJpc1NTT0luaXRGaXJlZCIsInBpbmdDb3VudCIsInRva2VuVmFsaWQiLCJEZXNjcmlwdGlvbiIsIkVycm9yQ29kZSIsInR3b2ZhVG9rZW5WYWxpZCIsInR3b2ZhR0FBdXRoRGlzYWJsZSIsInR3b2ZhT1RQQXV0aERpc2FibGUiLCJ0d29mYUF1dGhSZXF1aXJlZCIsImludmFsaWRFbWFpbCIsImludmFsaWRQaG9uZSIsImRpc2FibGVkQWNjb3VudExpbmtpbmciLCJub1NlY3VyaXR5UXVlc3Rpb25zIiwiaW52YWxpZFNvdHQiLCJub3RWYWxpZE1lc3NhZ2UiLCJwYXNzd29yZFN0cmVuZ3RoTWVzc2FnZSIsIm90cFNlbnQiLCJ2VG9rZW5FcnJvciIsIm5vdEZvdW5kIiwiZW1haWxOb3RWZXJpZmllZCIsInBob25lTm90VmVyaWZpZWQiLCJibG9ja2VkVXNlciIsInVudmVyaWZpZWRVc2VyIiwiY2FwdGNoYUVycm9yIiwiYnV0dG9uTmFtZXMiLCJsb2dpbiIsInNvY2lhbHJlZ2lzdHJhdGlvbiIsImxvZ2lucmVxdWlyZWRmaWVsZHN1cGRhdGUiLCJyZWdpc3RyYXRpb24iLCJwYXNza2V5cmVnaXN0ZXIiLCJyZWdpc3RlcndpdGhwd2QiLCJwYXNza2V5bG9naW4iLCJ2ZXJpZnllbWFpbCIsInJlc2V0cGFzc3dvcmQiLCJyZXNldHBpbiIsInNvY2lhbGxvZ2luIiwib3RwIiwidHdvZmFvdHAiLCJ0d29mYWVtYWlsb3RwIiwic2hvd3FyY29kZSIsInVwZGF0ZXBob25lIiwiY2hhbmdlcGhvbmUiLCJmb3Jnb3RwYXNzd29yZCIsImZvcmdvdHBpbiIsImZvcmdvdHBhc3NrZXkiLCJzZWN1cml0eXF1ZXN0aW9ucyIsImNoYW5nZXBhc3N3b3JkIiwiY2hhbmdlcGluIiwicmVzZW5kZW1haWx2ZXJpZmljYXRpb24iLCJhZGRlbWFpbCIsInJlbW92ZWVtYWlsIiwiY2hhbmdldXNlcm5hbWUiLCJwcm9maWxlZWRpdG9yIiwib3RwbG9naW4iLCJwYXNzd29yZGxlc3Nsb2dpbmJ1dHRvbmxhYmVsIiwicGFzc3dvcmRsZXNzbG9naW5vdHBidXR0b25sYWJlbCIsImNyZWF0ZXR3b2ZhY3RvcmF1dGhlbnRpY2F0aW9uIiwiY3JlYXRlUGFzc2tleSIsInNlbmRvdHAiLCJyZXNlbmRvdHAiLCJyZXNlbmRlbWFpbG90cCIsInJlc2VuZHZvaWNlb3RwIiwiY2hhbmdlbnVtYmVyIiwiYmFja3VwY29kZSIsImJhY2t1cGNvZGVidXR0b24iLCJiYWNrdXBjb2RlYmFja2J1dHRvbiIsImdlbmVyYXRlYmFja3VwY29kZWJ1dHRvbiIsImRpc2FibGVnb29nbGVhdXRoZW50aWNhdG9yIiwiZGlzYWJsZXNxYXV0aGVudGljYXRvciIsImRpc2FibGVlbWFpbG90cGF1dGhlbnRpY2F0b3IiLCJkaXNhYmxlZHVvYXV0aGVudGljYXRvciIsImRpc2FibGVvdHBhdXRoZW50aWNhdG9yIiwidXBkYXRlc2VjdXJpdHlxdWVzdGlvbiIsInJlc2V0cHdkYnlzZWNxIiwicmVzZXRwaW5ieXNlY3EiLCJzbWFydGxvZ2luIiwidmFsaWRhdGVjb2RlIiwib25ldG91Y2hsb2dpbiIsInByb2dyZXNzaXZlcHJvZmlsaW5nIiwicHJpdmFjeXBvbGljeXVwZGF0ZSIsInVwZGF0ZXBob25lMmZhIiwicGluc2V0dXAiLCJwaW5sb2dpbiIsInBpbnJlYXV0aGVudGljYXRpb24iLCJwaW5sb2dpbmJhY2tidG4iLCJjb25zZW50bG9naW4iLCJjdXN0b21ldmVudGNvbnNlbnQiLCJjb25zZW50ZWRpdG9yIiwicmVzZXRCYWNrdXBDb2RlIiwiZW1haWxvdHAiLCJkdW9tZmEiLCJnb29nbGVhdXRoZW50aWNhdG9yIiwic2VjdXJpdHlxdWVzdGlvbnNhdXRoZW50aWNhdG9yIiwibWZhc2VjdXJpdHlxdWVzdGlvbiIsIm90cGF1dGhlbnRpY2F0b3IiLCJtZmFzZWxlY3RlbWFpbHMiLCJvcmdhbml6YXRpb24iLCJsb29rdXBkb21haW4iLCJzZW5kdmVyaWZpY2F0aW9uZW1haWwiLCJwdXNobm90aWZpY2F0aW9uIiwiZGlzYWJsZXB1c2hub3RpZmljYXRpb24iLCJwYXNza2V5YXV0aGVudGljYXRvciIsImRpc2FibGVwYXNza2V5YXV0aGVudGljYXRvciIsInRlbXBsYXRlcyIsImNvbnNlbnRNYWluVGVtcGxhdGUiLCJjb25zZW50R3JvdXBUZW1wbGF0ZSIsImNvbnNlbnRPcHRpb25UZW1wbGF0ZSIsInBhc3N3b3JkbGVzc0xvZ2luRW1haWxUZW1wbGF0ZSIsImNhbGxiYWNrVXJsIiwiY2FsbGJhY2tJbnNpZGVTYW1lV2luZG93IiwiY2FsbGJhY2tUeXBlIiwic2NvcGUiLCJsb2dpblVybCIsImRlbGV0ZVVybCIsImVtYWlsVGVtcGxhdGUiLCJ2ZXJpZmljYXRpb25VcmwiLCJ2ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlIiwicmVzZXRQYXNzd29yZEVtYWlsVGVtcGxhdGUiLCJyZXNldFBhc3NLZXlFbWFpbFRlbXBsYXRlIiwicmVzZXRQSU5FbWFpbFRlbXBsYXRlIiwicmVzZXRQYXNzd29yZENvbmZpcm1hdGlvbkVtYWlsVGVtcGxhdGUiLCJyZXNldFBJTkNvbmZpcm1hdGlvbkVtYWlsVGVtcGxhdGUiLCJzbWFydExvZ2luUmVkaXJlY3RVcmwiLCJhdXRvTG9naW5SZWRpcmVjdFVybCIsInNtYXJ0TG9naW5FbWFpbFRlbXBsYXRlIiwiYXV0b0xvZ2luRW1haWxUZW1wbGF0ZSIsInNtc1RlbXBsYXRlMkZBIiwic21zVGVtcGxhdGVGb3Jnb3QiLCJzbXNUZW1wbGF0ZVdlbGNvbWUiLCJzbXNUZW1wbGF0ZU9uZVRvdWNoTG9naW5XZWxjb21lIiwic21zVGVtcGxhdGVPbmVUb3VjaExvZ2luIiwicGFzc3dvcmRsZXNzTG9naW5TTVNUZW1wbGF0ZSIsInNtc1RlbXBsYXRlMkZBV2VsY29tZSIsInNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb24iLCJzbXNUZW1wbGF0ZVVwZGF0ZVBob25lIiwid2VsY29tZUVtYWlsVGVtcGxhdGUiLCJvbmV0b3VjaExvZ2luRW1haWxUZW1wbGF0ZSIsImRlbGV0ZVVzZXJFbWFpbFRlbXBsYXRlIiwib25ldG91Y2hMb2dpblJlZGlyZWN0VXJsIiwicmVzZXRQYXNzd29yZFVybCIsInJlc2V0UGFzc0tleVVybCIsInJlc2V0UElOVXJsIiwiZGVidWdNb2RlIiwidG9rZW5UeXBlIiwiaW50ZWdyYXRpb25OYW1lIiwic21hcnRMb2dpblBpbmdDb3VudCIsInNtYXJ0TG9naW5QaW5nSW50ZXJ2YWwiLCJjcm9zc0RldmljZVNTT1BpbmdDb3VudCIsImNyb3NzRGV2aWNlU1NPUGluZ0ludGVydmFsIiwibWFza1NlbnNpdGl2ZUlucHV0IiwiZW5hYmxlSGVhZGVyU290dCIsImFjY2Vzc1Rva2VuUmVzcG9uc2UiLCJyYmFPbmVjbGlja0VtYWlsVGVtcGxhdGUiLCJyYmFPVFBTbXNUZW1wbGF0ZSIsInJiYUNpdHlFbWFpbFRlbXBsYXRlIiwicmJhQ291bnRyeUVtYWlsVGVtcGxhdGUiLCJyYmFCcm93c2VyRW1haWxUZW1wbGF0ZSIsInJiYUlwRW1haWxUZW1wbGF0ZSIsInJiYURldmljZUVtYWlsVGVtcGxhdGUiLCJyYmFDaXR5U21zVGVtcGxhdGUiLCJyYmFDb3VudHJ5U21zVGVtcGxhdGUiLCJyYmFCcm93c2VyU21zVGVtcGxhdGUiLCJyYmFJcFNtc1RlbXBsYXRlIiwicmJhRGV2aWNlU21zVGVtcGxhdGUiLCJzZXRMUlNlc3Npb24iLCJhc2tPcHRpb25hbEZpZWxkc09uUHJvZ3Jlc3NpdmVTdGVwcyIsImRpc2FibGVSZXNlbmRPVFBCdXR0b24iLCJkaXNhYmxlUmVzZW5kT1RQQnV0dG9uRGVsYXkiLCJFbWFpbFRlbXBsYXRlMkZBIiwiYXV0aGVudGljYXRvck9wdGlvbnNPcmRlciIsInJlZ2V4RXhwcmVzc2lvbiIsImVtYWlsUmVnZXgiLCJwaG9uZVJlZ2V4IiwiX3V1aWRGb3JtYXQiLCJsb2dpblVSTHMiLCJjYXB0Y2hhQWN0aW9ucyIsIkxvZ2luUmFkaXVzVXRpbGl0eSIsIm9wdGlvbnNMaXN0IiwiZGVmYXVsdEJ1dHRvbnNOYW1lIiwidXRpbGl0aWVzIiwidXRpbGl0eU1vZHVsZSIsImNhY2hlIiwiZWxlbWVudEJ5SWQiLCJkZWJ1ZyIsImNvbnRlbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldFRoaXNPYmplY3ROYW1lIiwiZ2xvYmFsIiwic2VyaWFsaXplIiwidXNlRW1wdHlGaWVsZHMiLCJub2RlTmFtZSIsInVzZXJuYW1lTG9naW4iLCJkdXBsaWNhdGVFbWFpbFdpdGhVbmlxdWVVc2VybmFtZSIsInNlbGVjdGVkIiwiYWRkSnMiLCJfbW9kdWxlIiwiaGVhZCIsImpzIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImFwcGVuZENoaWxkIiwiaGFzaFRtcGwiLCJGdW5jdGlvbiIsInRtcGwiLCJqc29ucENhbGwiLCJjYWxsYWJjayIsImFjdGlvbiIsIiRob29rcyIsImVuZHVybCIsImdldEJ1dHRvbkF0dHJpYnV0ZSIsImJ1dHRvbklkIiwiX2NsYXNzUHJlZml4TmFtZSIsIm9uY2xpY2tGbiIsImFwcGVuZFdpdGhEaXYiLCJCdG4iLCJfaWRQcmVmaXgiLCJidXR0b25EaXYiLCJidXR0b25FbGVtZW50cyIsImNsb25lTm9kZSIsImJ1dHRvbnNOYW1lIiwib25jbGljayIsImRhdGF2YWx1ZSIsInNldEF0dHJpYnV0ZSIsIm1ldGhvZCIsInN1Y2Nlc3NIYW5kbGVyIiwiZHNGbGFnIiwiX3VybCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicHJvamVjdGlvbkZpZWxkcyIsInByb2plY3Rpb25GaWVsZHNLZXlzIiwibWFwQWN0aW9ucyIsIm1hcEFjdGlvbnNFeGlzdCIsIl9hY3Rpb24iLCJMUkNoZWNrUmVnaXN0cmF0aW9uIiwiTFJDaGVja0xvZ2luIiwiYWN0aW9uUHJvamVjdGlvbkZpZWxkcyIsInJlcXVpcmVkUHJvamVjdGVkRmllbGQiLCJmaWVsZHNMaXN0IiwidHdvRmFjdG9yQXV0aGVudGljYXRpb24iLCJvcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIiwiY2xpZW50SWQiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJkZWxldGUiLCJhcHBlbmQiLCJjb29raWVmZWRTZXNzIiwiYWNjZXNzVG9rZW4iLCJwYXNzQWNjZXNzVG9rZW5JbkhlYWRlciIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwid2l0aENyZWRlbnRpYWxzIiwibGV0Iiwic2V0RmVkU2Vzc2lvbkNvb2tpZWUiLCJzb3R0Y2hlY2siLCJzb3R0Iiwic3RyaW5naWZ5Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlc3BvbnNlIiwianNvblJlc3BvbnNlIiwiX3Jlc3BvbnNlIiwicmVzdWx0Iiwic3RhdHVzIiwib25lcnJvciIsIm9wZW5XaW5kb3ciLCJ3aW4iLCJjbGllbnRHdWlkIiwic29jaWFsUG9wdXBEYXRhIiwiaXNNb2JpbGUiLCJwYXJzZXIiLCJub0NhbGxiYWNrRm9yU29jaWFsTG9naW4iLCJwb3B1cFdpZHRoIiwiY3VzdG9taXplU29jaWFsUG9wdXAiLCJsb2MiLCJwYXJhbSIsImNsb3NlIiwiaHRtbDVwYXNzVG9rZW4iLCJhZGRIVE1MQ29udGVudCIsImlubmVySHRtbCIsImNvbnRhaW5lckVsZW0iLCJidXR0b25OYW1lIiwicmVmIiwiY29udGFpbmVyRWxlbTEiLCJhZGRSZWNhcHRjaGFKUyIsImhDYXB0Y2hhU2l0ZUtleSIsImludmlzaWJsZVJlY2FwdGNoYSIsInYyUmVjYXB0Y2hhTGFuZ3VhZ2UiLCJ2MlJlY2FwdGNoYSIsInRlbmNlbnRDYXB0Y2hhIiwidGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrIiwicGFzc2tleWF1dG9maWxsIiwiaXNQYXNzS2V5c0VuYWJsZWQiLCJpc1Bhc3NrZXlBdXRvZmlsbCIsImlzUGFzc2tleUF2YWlsYWJsZSIsInRoZW4iLCJpc0F1dG9GaWxsIiwidXNlclByb2ZpbGUiLCJnZXRQYXNzS2V5Q3JlZGVudGlhbHMiLCJMb2dpbkJlZ2luQ3JlZGVudGlhbCIsImFzc2VydGlvbiIsImNhdGNoIiwicmVuZGVyVjJSZWNhcHRjaGEiLCJyZWNhcHRjaGFpZCIsImludHZhbCIsIm1haW5JbnR2YWwiLCJkb21SZWNhcHRjaGEiLCJpc0NhcHRjaGFFbmFibGVkIiwiaGNhcHRjaGEiLCJyZXNldCIsImdyZWNhcHRjaGEiLCJzZXRJbnRlcnZhbCIsInJlY2FwdGNoYU9iaiIsInJlbmRlciIsInNpdGVrZXkiLCJ2MlJlY2FwdGNoYVNpdGVLZXkiLCJ0aGVtZSIsImNhcHRjaGFUaGVtZSIsImdfcmVzcG9uc2UiLCJzdHlsZSIsImNsZWFySW50ZXJ2YWwiLCJUZW5jZW50Q2FwdGNoYSIsImNhcHRjaGFTY2hlbWEiLCJpbnZpc2libGVDYXB0Y2hhT2JqIiwiaHRtbCIsImNhcHRjaGFPYmoiLCJvblRlbmNlbnRDYXB0Y2hhU3VibWl0IiwicmV0Iiwib25UZW5jZW50Q2FwdGNoYVN1Ym1pdENhbGxiYWNrIiwidGVuY2VudENhcHRjaGFPYmoiLCJ0ZW5jZW50Q2FwdGNoYUFwcGlkIiwiY2hlY2tQaG9uZU9yRW1haWxMb2dpbiIsImZvcm1EYXRhIiwiZW1haWxpZCIsImVtYWlsIiwidXNlcm5hbWUiLCJwaG9uZUxvZ2luIiwiZGVsYXkiLCJidG4iLCJzZXRUaW1lb3V0IiwiaXNBdXRvZmlsbCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicHVibGljS2V5IiwiY2hhbGxlbmdlIiwiYWxsb3dDcmVkZW50aWFscyIsImZvckVhY2giLCJsaXN0SXRlbSIsIm9wdCIsIm1lZGlhdGlvbiIsImNyZWRlbnRpYWxzIiwiZXJyIiwiY3JlYXRlUGFzc0tleUNyZWRlbnRpYWxzIiwidXNlciIsImV4Y2x1ZGVDcmVkZW50aWFscyIsImNyZWF0ZSIsIlB1YmxpY0tleUNyZWRlbnRpYWwiLCJpc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlIiwiY21hIiwiTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsiLCJhcGlGcmFtZVdvcmtNb2R1bGUiLCJpbml0IiwibHJBcGlGcmFtZXdvcmsiLCJnZXRBcHBDb25maWd1cmF0aW9uIiwibG9naW5Db250cm9sbGVyIiwib3RwTG9naW4iLCJsb2dpbk9UUENvbnRyb2xsZXIiLCJ0d29GQUxvZ2luIiwidXBkYXRlUGhvbmVOdW1iZXIiLCJ2ZXJpZnlPVFAiLCJyZXNlbmRPVFAiLCJwYXNzd29yZEV4cGlyeSIsInJlcXVpcmVkRmllbGQiLCJsb2dpbjJGQUNvbnRyb2xsZXIiLCJyZWdTY2hlbWEiLCJyZWdpc3RyYXRpb25Db250cm9sbGVyIiwiZm9yZ290UGFzc3dvcmQiLCJmb3Jnb3RQYXNzd29yZENvbnRyb2xsZXIiLCJmb3Jnb3RQSU4iLCJmb3Jnb3RQSU5Db250cm9sbGVyIiwicmVzZXRQYXNzd29yZCIsInJlc2V0UGFzc3dvcmRDb250cm9sbGVyIiwiZHVvVmVyaWZ5IiwiZHVvVmVyaWZ5Q29udHJvbGxlciIsImR1b1ZlcmlmeUJ5QWNjZXNzVG9rZW4iLCJkdW9WZXJpZnlCeUFjY2Vzc1Rva2VuQ29udHJvbGxlciIsInJlc2V0UElOIiwicmVzZXRQSU5Db250cm9sbGVyIiwiZW1haWxWZXJpZmljYXRpb24iLCJlbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIiLCJvbk1pc3NpbmdGaWVsZCIsIkxvZ2luUmFkaXVzSG9zdGVkUGFnZSIsIlNTT2luaXRGaXJlZCIsInNvY2lhbExvZ2luUmVjZWl2ZVRva2VuIiwicmVzZW5kRW1haWxWZXJpZmljYXRpb24iLCJyZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIiLCJ0d29GQVJlc2VuZE9UUCIsInJlc2VuZE9UUDJGQUNvbnRyb2xsZXIiLCJ0d29GQVZlcmlmeU9UUCIsInZlcmlmeTJGQU9UUENvbnRyb2xsZXIiLCJ0d29GQVVwZGF0ZVBob25lIiwidXBkYXRlMkZBUGhvbmVOdW1iZXJDb250cm9sbGVyIiwidXBkYXRlUGhvbmUiLCJ1cGRhdGVQaG9uZU51bWJlckNvbnRyb2xsZXIiLCJwaG9uZVRvVmVyaWZ5IiwidmVyaWZ5T1RQQ29udHJvbGxlciIsInJlc2VuZE9UUENvbnRyb2xsZXIiLCJhZGRFbWFpbCIsImFkZEVtYWlsQ29udHJvbGxlciIsInJlbW92ZUVtYWlsIiwicmVtb3ZlRW1haWxDb250cm9sbGVyIiwiY2hhbmdlVXNlcm5hbWUiLCJjaGFuZ2VVc2VybmFtZUNvbnRyb2xsZXIiLCJjaGFuZ2VQYXNzd29yZCIsImNoYW5nZVBhc3N3b3JkQ29udHJvbGxlciIsImNoYW5nZVBJTiIsImNoYW5nZVBJTkNvbnRyb2xsZXIiLCJjaGVja1Bob25lTnVtYmVyQXZhaWxhYmlsaXR5IiwiY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eUNvbnRyb2xsZXIiLCJyZXNldFBhc3N3b3JkQnlQaG9uZSIsInJlc2V0UGFzc3dvcmRCeVBob25lQ29udHJvbGxlciIsInJlc2V0UElOQnlQaG9uZSIsInJlc2V0UElOQnlQaG9uZUNvbnRyb2xsZXIiLCJmb3Jnb3RQYXNzd29yZGJ5UGhvbmUiLCJmb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyIiwiZm9yZ290UElOYnlQaG9uZSIsImZvcmdvdFBJTmJ5UGhvbmVDb250cm9sbGVyIiwib25VcGRhdGVTdWNjZXNzIiwib25VcGRhdGVFcnJvciIsImNoZWNrRW1haWxBdmFpbGFiaWxpdHkiLCJjaGVja0VtYWlsQXZhaWxhYmlsaXR5Q29udHJvbGxlciIsImNoZWNrVXNlck5hbWVBdmFpbGFiaWxpdHkiLCJjaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5Q29udHJvbGxlciIsInJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24iLCJyZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlciIsInJlc2V0UElOQnlTZWN1cml0eVF1ZXN0aW9uIiwicmVzZXRQSU5CeVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyIiwidXBkYXRlU2VjdXJpdHlRdWVzdGlvbiIsInVwZGF0ZVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyIiwicmVzZXRUd29GYWN0b3IiLCJyZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlciIsImludmFsaWRhdGVUb2tlbiIsInZhbGlkYXRlVG9rZW4iLCJnZXRTb2NpYWxEYXRhIiwicGFyYW1RdWVyeVN0cmluZyIsImdldFNvY2lhbERhdGFDb250cm9sbGVyIiwicG9zdFNvY2lhbERhdGEiLCJwb3N0Qm9keUpzb24iLCJwb3N0U29jaWFsRGF0YUNvbnRyb2xsZXIiLCJnZXRDdXN0b21PYmplY3RzIiwiZ2V0Q3VzdG9tT2JqZWN0c0NvbnRyb2xsZXIiLCJjcmVhdGVDdXN0b21PYmplY3QiLCJjdXN0b21PYmplY3RKU09OIiwiY3JlYXRlQ3VzdG9tT2JqZWN0Q29udHJvbGxlciIsImdldEN1c3RvbU9iamVjdEJ5SWQiLCJvYmplY3RyZWNvcmRpZCIsImdldEN1c3RvbU9iamVjdEJ5SWRDb250cm9sbGVyIiwiZGVsZXRlQ3VzdG9tT2JqZWN0QnlJZCIsImRlbGV0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXIiLCJ1cGRhdGVDdXN0b21PYmplY3RCeUlkIiwidXBkYXRlVHlwZSIsInVwZGF0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXIiLCJnZXRCYWNrdXBDb2RlIiwiZ2V0QmFja3VwQ29kZUNvbnRyb2xsZXIiLCJyZXNldEJhY2t1cENvZGVDb250cm9sbGVyIiwiYXV0b0xvZ2luIiwic21hcnRMb2dpbiIsInNtYXJ0TG9naW5Db250cm9sbGVyIiwidmVyaWZ5Q29uc2VudCIsInZlcmlmeUNvbnNlbnRDb250cm9sbGVyIiwiZmV0Y2hDb25zZW50TG9ncyIsImNvbnNlbnRMb2dzQ29udHJvbGxlciIsInVwZGF0ZUNvbnNlbnRzIiwidXBkYXRlQ29uc2VudENvbnRyb2xsZXIiLCJzdWJtaXRDb25zZW50YnlDb25zZW50VG9rZW4iLCJjb25zZW50VG9rZW4iLCJzdWJtaXRDb25zZW50Q29udHJvbGxlciIsInN1Ym1pdENvbnNlbnRieUFjY2VzVG9rZW4iLCJjdXN0b21FdmVudENvbnNlbnRDb250cm9sbGVyIiwib25lVG91Y2hMb2dpbiIsIm9uZVRvdWNoTG9naW5Db250cm9sbGVyIiwib25lVG91Y2hMb2dpblZlcmlmeSIsInZlcmlmaWNhdGlvbnRva2VuIiwib25lVG91Y2hMb2dpbkVtYWlsVmVyaWZpY2F0aW9uIiwicGhvbmUiLCJvbmV0b3VjaGxvZ2luZmxhZyIsInNldExvZ2luUmFkaXVzRGVmYXVsdFNjaGVtYSIsIm9yZ2FuaXphdGlvbkZvcm1TY2hlbWEiLCJwZXJtaXNzaW9uIiwibG9va3VwRm9ybVNjaGVtYSIsImxvZ2luRm9ybVNjaGVtYSIsImJhY2t1cENvZGVGb3JtU2NoZW1hIiwicmVzZXRQYXNzd29yZEJ5UGhvbmVTY2hlbWEiLCJyZXNldFBJTkJ5UGhvbmVTY2hlbWEiLCJjaGVja1Bob25lTnVtYmVyU2NoZW1hIiwiUVJDb2RlU2NoZW1hIiwiZ2V0U2VjUVNjaGVtYSIsIm90cFNjaGVtYSIsImZvcmdvdFBhc3N3b3JkRm9ybVNjaGVtYSIsImZvcmdvdFBJTkZvcm1TY2hlbWEiLCJmb3Jnb3RQYXNzS2V5Rm9ybVNjaGVtYSIsInNtYXJ0TG9naW5TY2hlbWEiLCJwYXNzd29yZExlc3NMb2dpblNjaGVtYSIsImNoYW5nZVBhc3N3b3JkRm9ybVNjaGVtYSIsImVtYWlsU2NoZW1hIiwiYWRkRW1haWxTY2hlbWEiLCJjaGFuZ2VVc2VybmFtZUZvcm1TY2hlbWEiLCJjaGFuZ2VQSU5Gb3JtU2NoZW1hIiwicmVzZXRQYXNzd29yZEZvcm1TY2hlbWEiLCJyZXNldFBJTkZvcm1TY2hlbWEiLCJwaW5Mb2dpbkZvcm1TY2hlbWEiLCJwcml2YWN5UG9saWN5U2NoZW1hIiwiYnRuT1RQU2NoZW1hIiwiZXZlbnRDYWxsYmFjayIsImRlZmF1bHRCdG5TY2hlbWEiLCJzZXRMb2dpblJhZGl1c01vZHVsZUZ1bmN0aW9ucyIsImxyT3B0aW9ucyIsImxyRGVmYXVsdE9wdGlvbnMiLCJTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyIsIkxvZ2luUmFkaXVzQ29udHJvbGxlcnMiLCJwYXNzd29yZGxlc3NMb2dpbkZsYWciLCJkdW9Mb2dpbkZsYWciLCJzb2NpYWxMb2dpbkZsYWciLCJMUkNoZWNrMkZBIiwibG9naW5BY3Rpb24iLCJjb25zZW50T3B0aW9ucyIsImxvb2t1cE9wdGlvbnMiLCJzZXNzaW9uRGF0YSIsImdldFVpZCIsImdldFRva2VuIiwiZXJyb3JNZXNzYWdlcyIsInZhbGlkYXRpb25NZXNzYWdlcyIsImZvcm1DdXN0b21MYWJlbCIsImZvcm1FbGVtZW50c1RpdGxlIiwiZGVmYXVsdE9wdGlvbkZpZWxkIiwiZm9ybVZhbGlkYXRpb25zIiwiZm9ybVBsYWNlaG9sZGVyIiwiZm9ybUVsZW1lbnRBdHRyaWJ1dGVzIiwicGFzc3dvcmRNZXRlckNvbmZpZ3VyYXRpb24iLCJldmVudHNOYW1lIiwibWVzc2FnZSIsImNvbnNvbGUiLCJjdXN0b21JbnRlcmZhY2UiLCJzZWxlY3RvciIsImNsZWFyU2Vzc2lvbiIsInNldFNlc3Npb25Ub2tlbiIsInNlc3Npb25Ub2tlbk9iaiIsInNlc3Npb25fdG9rZW4iLCJzZXNzaW9uX2V4cGlyZXNfaW4iLCJnZXRTZXNzaW9uVG9rZW4iLCJzZXNzaW9uVG9rZW5EYXRhIiwicmVtb3ZlU2Vzc2lvblRva2VuIiwiZG9jdW1lbnRDb29raWVzIiwiY2FsbGJhY2tzIiwiYXBpQ3VzdG9tRG9tYWluIiwiX2FwaURvbWFpbiIsIl9zb2NpYWxBcGlEb21haW4iLCJjbG91ZEFwaUN1c3RvbURvbWFpbiIsIl9jbG91ZEFwaURvbWFpbiIsIl9vcmdOYW1lIiwidG9SZW5kZXJPcmdhbml6YXRpb24iLCJpc0IyQkVuYWJsZWQiLCJwcm9tcHRPcmdhbml6YXRpb24iLCJpc0FwaUNhbGxpbmdTdGFydGVkIiwiYXBwQ29uZmlnIiwiY29uZmlnSGFuZGxlciIsInBpblNjaGVtYSIsImFwcERhdGEiLCJjYXB0Y2hhQ29uZmlnIiwicGFzc0tleXNDb25maWciLCJPcmdhbml6YXRpb24iLCJvcmdhbml6YXRpb25PYmoiLCJzZWN1cml0eVF1ZXN0aW9uRW5hYmxlZCIsIklzU2VjdXJpdHlRdWVzdGlvbiIsIkFwcE5hbWUiLCJSZWdpc3RyYXRpb25Gb3JtU2NoZW1hIiwibG9naW5Mb2NrZWRUeXBlIiwiTG9naW5Mb2NrZWRDb25maWd1cmF0aW9uIiwiTG9naW5Mb2NrZWRUeXBlIiwiU2VjdXJpdHlRdWVzdGlvbnMiLCJRdWVzdGlvbnMiLCJzZWN1cml0eVF1ZXN0aW9uc0NvdW50IiwiU2VjdXJpdHlRdWVzdGlvbkNvdW50IiwicGFzc3dvcmRMZW5ndGgiLCJkaXNwbGF5UGFzc3dvcmRTdHJlbmd0aCIsIm1pbiIsIm1pblN0ciIsIm1heCIsIm1heFN0ciIsInBhc3N3b3JkbGVuZ3RoIiwiU29jaWFsU2NoZW1hIiwiZW5jcnlwdGVkQW5zd2VyIiwibm9DYWxsYmFjayIsIlR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIiwiSXNFbmFibGVkIiwicXJDb2RlQXV0aGVudGljYXRpb24iLCJJc0F1dGhlbnRpY2F0b3IiLCJlbWFpbE9UUEF1dGhlbnRpY2F0aW9uIiwiSXNFbWFpbE9UUEF1dGhlbnRpY2F0b3IiLCJwdXNoTm90aWZpY2F0aW9uQXV0aGVudGljYXRvciIsIklzUHVzaEF1dGhlbnRpY2F0b3IiLCJzZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRpb24iLCJJc1NlY3VyaXR5UXVlc3Rpb25BdXRoZW50aWNhdG9yIiwic21zT1RQQXV0aGVudGljYXRpb24iLCJJc1Ntc09UUEF1dGhlbnRpY2F0b3IiLCJkdW9BdXRoZW50aWNhdGlvbiIsIklzRHVvU2VjdXJpdHlBdXRoZW50aWNhdG9yIiwicGFzc2tleUF1dGhlbnRpY2F0b3IiLCJJc1Bhc3NrZXlBdXRoZW50aWNhdG9yIiwiSXNSZXF1aXJlZCIsImdvb2dsZUF1dGhlbnRpY2F0aW9uIiwiSXNQaG9uZUxvZ2luIiwicGFzc3dvcmRsZXNzTG9naW5PVFAiLCJpbnN0YW50T1RQTG9naW4iLCJJc0luc3RhbnRTaWduaW4iLCJTbXNPdHAiLCJFbWFpbFZlcmlmaWNhdGlvbkZsb3ciLCJvcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uIiwiZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiIsImxvZ2luT25FbWFpbFZlcmlmaWNhdGlvbiIsIklzTG9naW5PbkVtYWlsVmVyaWZpY2F0aW9uIiwicGFzc3dvcmRsZXNzTG9naW4iLCJpbnN0YW50TGlua0xvZ2luIiwiRW1haWxMaW5rIiwiYXNrUmVxdWlyZWRGaWVsZEZvclRyYWRpdGlvbmFsTG9naW4iLCJBc2tSZXF1aXJlZEZpZWxkc09uVHJhZGl0aW9uYWxMb2dpbiIsInN0YXlMb2dpbiIsIklzUmVtZW1iZXJNZSIsImRpc2FibGVTaWdudXAiLCJJc0Rpc2FibGVkUmVnaXN0cmF0aW9uIiwicmlza0Jhc2VkQXV0aGVudGljYXRpb24iLCJJc1Jpc2tCYXNlZEF1dGhlbnRpY2F0aW9uIiwiSXNOb0NhbGxiYWNrRm9yU29jaWFsTG9naW4iLCJJc1VzZXJOYW1lTG9naW4iLCJwcm9tcHRQYXNzd29yZE9uU29jaWFsTG9naW4iLCJBc2tQYXNzd29yZE9uU29jaWFsTG9naW4iLCJhc2tPcHRpb25hbEZpZWxkc09uUmVnaXN0cmF0aW9uIiwiQXNrT3B0aW9uYWxGaWVsZHNPblNvY2lhbFNpZ251cCIsImFza0VtYWlsRm9yVW52ZXJpZmllZFByb2ZpbGVBbHdheXMiLCJBc2tFbWFpbElkRm9yVW52ZXJpZmllZFVzZXJMb2dpbiIsImxvZ291dE9uVmVyaWZ5RW1haWwiLCJJc0xvZ291dE9uRW1haWxWZXJpZmljYXRpb24iLCJkaXNhYmxlQWNjb3VudExpbmtpbmciLCJJc0Rpc2FibGVkQWNjb3VudExpbmtpbmciLCJEdXBsaWNhdGVFbWFpbFdpdGhVbmlxdWVVc2VybmFtZSIsIkN1c3RvbURvbWFpbiIsInByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uIiwiUHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24iLCJpc0NvbnNlbnRNYW5hZ2VtZW50RW5hYmxlZCIsIklzQ29uc2VudE1hbmFnZW1lbnRFbmFibGVkIiwibG9naW5PblBhc3N3b3JkUmVzZXQiLCJMb2dpbk9uUGFzc3dvcmRSZXNldCIsIm9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbiIsIk9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbiIsImlzVm9pY2VPdHAiLCJJc1ZvaWNlT1RQIiwiSXNWMlJlY2FwdGNoYSIsIklzSW52aXNpYmxlUmVjYXB0Y2hhIiwiVjJSZWNhcHRjaGFTaXRlS2V5IiwiUVFUZW5jZW50Q2FwdGNoYUtleSIsIkNhcHRjaGFDb25maWciLCJHb29nbGVSZWNhcHRjaGFWMiIsIlB1YmxpY0tleSIsIklzSW52aXNpYmxlQ2FwdGNoYSIsIlFRVGVuY2VudENhcHRjaGEiLCJHb29nbGVSZWNhcHRjaGFWMyIsIkhDYXB0Y2hhIiwiSXNEYXJrVGhlbWUiLCJQYXNzS2V5c0NvbmZpZyIsImlzUElOQXV0aGVudGljYXRpb24iLCJQSU5BdXRoZW50aWNhdGlvbiIsIlBJTkNvbmZpZ3VyYXRpb24iLCJDb25maWd1cmF0aW9uIiwiY29uZmlybVBpblNjaGVtYSIsInNldENvbnNlbnRUZW1wbGF0ZSIsInRlbXBsYXRlVmVyaWZpY2F0aW9uVHlwZXMiLCJUZW1wbGF0ZVZlcmlmaWNhdGlvblR5cGVzIiwicHVzaE5vdGlmaWNhdGlvbkF1dGhlbnRpY2F0aW9uIiwicGFzc2tleUF1dGhlbnRpY2F0aW9uIiwiYXBwQ29uZmlnSW5mb0NhbGxlZCIsIklzQXV0b0xvb2tVcEVuYWJsZWQiLCJjdXJyZW50QWN0aW9uT3B0aW9ucyIsInBhcnNlZERhdGEiLCJnZXRBdXRvTG9va3VwRG9tYWluQ29uZmlndXJhdGlvbiIsInF1ZXJ5Iiwib2JqZWN0TmFtZSIsImFkZFNvY2lhbEVuZHBvaW50T3B0aW9ucyIsImlzTG9va3VwQXBpQ2FsbGluZ1N0YXJ0ZWQiLCJyZWdpc3RlciIsIl9jb250YWluZXIiLCJfY2xhc3NQcmVmaXgiLCJ1c2VyYWN0aW9uIiwiZm9ybUVsZW1lbnQiLCJnZXRFbGVtZW50c0J5TmFtZSIsIm9yZ2FuaXphdGlvbm5hbWUiLCJjb25zZW50Q2FsbGJhY2tzIiwibG9va3VwQ2FsbGJhY2tzIiwiZ2V0Q29uc2VudENvbmZpZ3VyYXRpb24iLCJpc0NvbnNlbnRBcGlDYWxsaW5nU3RhcnRlZCIsImNvbnNlbnRzTGlzdCIsImV2ZW50S2V5IiwiRXZlbnRzIiwiSXNDdXN0b20iLCJDb25zZW50Rm9ybSIsIlRlcm1PZlNlcnZpY2UiLCJQcml2YWN5UG9saWN5IiwiY29uc2VudEZvcm0iLCJDb25zZW50cyIsIkNvbnNlbnRJZCIsInByb2dyZXNzaXZlUHJvZmlsaW5nIiwicHNjaGVtYSIsIkxvZ2luUmFkaXVzSG9va3NNb2RlbCIsImhvb2tzIiwicHJpb3JpdHkiLCJzcGxpY2UiLCJldmVudHNPYmoiLCJtc2ciLCJjb2RlIiwiY29uZmlnIiwiYnV0dG9ucyIsImJ1dHRvbnNPYmoiLCJydWxlIiwibGFiZWxzIiwidGl0bGVzIiwicGxhY2Vob2xkZXJzIiwidmFsaWRhdGlvbnMiLCJhdHRyaWJ1dGVzIiwiY2FwdGNoYUlkTmFtZSIsImVsZW0iLCJ1c2VTYW1lIiwibWFpbkludHZhbGwiLCJ0ZW5jZW50Q2FwdGNoYUlkIiwiZXhlY3V0ZSIsImNsaWNrIiwiZVZhbCIsImhWYWx1ZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdWNjZXNzIiwiZ1JlVmFsdWUiLCJwaW5BdXRoVG9rZW4iLCJzZWNxZGF0YSIsIkxSUHJlZml4IiwiX2RhdGEiLCJnZXRTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXIiLCJfc3NjaGVtYSIsImRpdiIsInZhbGlkYXRlU2NoZW1hIiwicHJlZml4IiwiY3JlYXRlRm9ybUZpZWxkcyIsIl9lcnJvcnMiLCJtZXJnZUZvcm1FcnJvcnMiLCJzZWNBbnMiLCJzZWN1cml0eWFuc3dlciIsInByaXZhY3lTY2hlbWEiLCJzbGljZSIsIk1vZGUiLCJEYXRhIiwiY3VycmVudExSQ29udGFpbmVyIiwidXBkYXRlUHJpdmFjeVBvbGljeSIsInNldE1hcHBlZE1lc3NhZ2UiLCJQSU5BdXRoVG9rZW4iLCJzZXRQSU5SdWxlIiwiY29uZmlndXJlUElOQ29udHJvbGxlciIsIkNvbnNlbnRUb2tlbiIsImNvbnNlbnRPYmplY3QiLCJoYW5kbGVDb25zZW50Q29uZmlndXJhdGlvbiIsImFjY2VwdGVkQ29uc2VudHMiLCJDb25zZW50UHJvZmlsZSIsIk9wdGlvbnMiLCJjb25zZW50RGF0YSIsImV2ZW50c0FycmF5IiwiY29uc2VudEV2ZW50RGF0YSIsInNob3dDb25zZW50Rm9ybXMiLCJfY29uc2VudE9iamVjdCIsImV2ZW50TmFtZSIsImNvbnNlbnRTY2hlbWEiLCJjb25zZW50SW50ZXJmYWNlIiwiY3JlYXRlQ29uc2VudEludGVyZmFjZSIsImNvbnNlbnRWYWxpZGF0aW9uIiwiRXZlbnQiLCJvYmpEYXRhIiwibmV3TGV5IiwiQ29uc2VudE9wdGlvbklkIiwiSXNBY2NlcHRlZCIsInRyZWUiLCJtYXBwZWRFbGVtIiwiRGF0YVNvdXJjZSIsIm1hcHBlZEFyciIsIlBhcmVudERhdGFTb3VyY2UiLCJwb3B1bGF0ZUN1c3RvbVJlZ2lzdHJhdGlvbkRhdGEiLCJyZXNwQXJyYXkiLCJkYXRhc291cmNlIiwib3B0aW9uIiwiZGF0U291cmNlQ29udGFpbmVyIiwiY3JlYXRlVGV4dE5vZGUiLCJLZXkiLCJjaGlsZHJlbiIsImFkZENoYW5nZUV2ZW50SGFuZGxlciIsInBvcHVsYXRlU3BsaXRWYWxpZGF0ZSIsImxvY2FsZUluZm8iLCJwcml2YXRlRnVuY3Rpb25zTW9kdWxlIiwiZGVmYXVsdE1lc3NhZ2VzIiwiaGFuZGxlRm9ybVJlc3BvbnNlIiwiY2xvc2VzdCIsImNhcHRjaGFSZXNwb25zZSIsInNlcmlhbGl6ZWRGb3JtIiwidGlja2V0IiwicmFuZHN0ciIsInJlc2V0R29vZ2xlQ2FwdGNoYSIsImNyZWF0ZU9uZUNsaWNrQnV0dG9uIiwiYnRuTG9naW5TdWJtaXQiLCJJRGxhYmVsIiwic3VibWl0IiwiYnV0dG9uS2V5TmFtZSIsImRpc2FibGVCdXR0b25PbnN1Ym1pdCIsImVuYWJsZVN1Ym1pdE9uU3VjY2VzcyIsInNob3dPVFBUZW1wbGF0ZUZvcm0iLCJhY0xpbmtpbmciLCJpc0N1c3RvbVNjb3BlIiwibGlua2VkUHJvdmlkZXIiLCJpc2FwcGVuZCIsInByb3ZpZGVyc1NjaGVtYSIsIk9uTG9hZGVkQ3VzdG9tSW50ZXJGYWNlIiwicHJvdmlkZXJzVG9TaG93IiwiTFJQcm92aWRlcnNMaXN0IiwidGVtcGxhdGVDb21waWxlciIsInByb3ZpZGVyQ291bnRyeSIsInByb3ZpZGVyc0xpc3QiLCJjb3VudHJ5TmFtZSIsInByb3ZMaXN0IiwiY291bnRyeVByb3ZpZGVycyIsImNvdW50cnkiLCJleGNlcHQiLCJoYXNoVGVtcGxhdGUiLCJ0ZW1wbGF0ZUlERGF0YSIsInJlbmRlcmVkSHRtbCIsIk9iamVjdE5hbWUiLCJpc2xpbmtlZCIsInByb3ZpZGVySWQiLCJpc0xpbmtlZCIsInRlbXAiLCJEaXNwbGF5TmFtZSIsInNlbGVjdG9yc0FycmF5IiwiZWxlbWVudFNlbGVjdG9yIiwiUHJvdmlkZXJzIiwibWFwUmVnaXN0cmF0aW9uU2NoZW1hIiwib2JqZWN0XyIsImN1c3RvbUZpZWxkc09iaiIsImVtYWlsT2JqIiwiY291bnRyeU9iaiIsImVtYWlsQXJyYXkiLCJjb25zZW50T3B0aW9uIiwiY29uc2VudE9wdGlvbk9iamVjdCIsInNlY1FBT2JqZWN0IiwiZmllbGROYW1lIiwiUGFyZW50IiwiQXNrT25SZWdpc3RyYXRpb24iLCJzYW5pdGl6ZVBpbkRhdGEiLCJzaG93UVJDb2RlIiwiY3JlYXRlUVJTY2hlbWEiLCJfcXJDb2RlIiwiX21hbnVhbEVudHJ5Q29kZSIsIl9jbGFzc1ByZWZpeF8iLCJ0aXRsZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJxckNvZGUiLCJtYW51YWxFbnRyeUNvZGUiLCJTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbiIsIlFSQ29kZSIsIk1hbnVhbEVudHJ5Q29kZSIsIklzQXV0aGVudGljYXRvclZlcmlmaWVkIiwic2hvd01GQVNlY3VyaXR5UXVlc3Rpb25zIiwiX3NlY1FTY2hlbWEiLCJzZWN1cml0eVF1ZXN0aW9uU2NoZW1hIiwic3VibWl0QnRuIiwic2V0c2VjdXJpdHlxdWVzdGlvbnNCdG4iLCJoYXZlU2VjdXJpdHlRdWVzdGlvbk9uUHJvZmlsZSIsInZlcmlmeU1GQVNlY3VyaXR5UXVlc3Rpb25zQnlBY2Nlc3NUb2tlbkNvbnRyb2xsZXIiLCJnZXRTZWN1cml0eVF1ZXN0aW9uU2NoZW1hIiwiSXNTZWN1cml0eVF1ZXN0aW9uQXV0aGVudGljYXRvclZlcmlmaWVkIiwibWZhZGF0YSIsInZlcmlmeU1GQVNlY3VyaXR5UXVlc3Rpb25zQ29udHJvbGxlciIsInN1Ym1pdE1GQVNlY3VyaXR5UXVlc3Rpb25zQ29udHJvbGxlciIsImRpc2FibGVNRkFPcHRpb25zIiwibWZhT3B0aW9uIiwiZ0F1dGgiLCJ1cGRhdGVkT3RwQXV0aCIsIm1mYU9wdGlvbnMiLCJhdXRoZW50aWNhdG9yIiwiZmllbGQiLCJkZWZhdWx0S2V5IiwiZW1haWxvdHBhdXRoZW50aWNhdG9yIiwic3FhdXRoZW50aWNhdG9yIiwicHVzaG5vdGlmaWNhdGlvbmF1dGhlbnRpY2F0b3IiLCJkdW9hdXRoZW50aWNhdG9yIiwiY3VycmVudE1GQSIsImlzQWxsTUZBRGlzYWJsZWQiLCJhdXRoZW50aWNhdG9yVHlwZSIsInNvY2lhbExvZ2luQVBJIiwiaXNSZWdpc3RyYXRpb24iLCJTZWN1cml0eVF1ZXN0aW9uc0xpc3QiLCJzZWNRU2NoZW1hIiwiX3NlY3VyaXR5UXVlc3Rpb25zIiwiX3NlY3VyaXR5UXVlc3Rpb25zQ291bnQiLCJvcHRpb25zQXJyYXkiLCJzZWxlY3RlZE9wdGlvbnMiLCJjaGFuZ2VDYiIsImVsZW1JbmRleCIsImVsbXMiLCJzZWxlY3RlZEluZGV4Iiwib3B0aW9uT2JqZWN0IiwidGV4dCIsIlF1ZXN0aW9uIiwiUXVlc3Rpb25JZCIsInNlY1FPYmplY3QiLCJzZWNBT2JqZWN0IiwiaXNBZGRCb3RQcm90ZWN0aW9uIiwiX25hbWUiLCJlbmFibGVkQXV0aEFQSXMiLCJ0b2siLCJjdXJyZW50QWN0aW9uIiwiTFJTYWZhcmlvblN1Y2Nlc3MiLCJMUlNhZmFyaW9uRXJyb3IiLCJsclRva2VuIiwibG9naW5SYWRpdXNIdG1sNVBhc3NUb2tlbiIsInBpbmdGb3JTb2NpYWxMb2dpbiIsIm9yaWdpbiIsInJlc2V0UGFzc0tleSIsImZvcmdvdFBhc3NLZXlDb250cm9sbGVyIiwicmVzZXRQYXNzS2V5Q29udHJvbGxlciIsImZkYXRhIiwicmVzZW5kRXZlbnRDYWxsYmFja0ZuIiwicGhvbmVObyIsIl9lbWFpbCIsImZuZGF0YSIsInNldFBhc3N3b3JkUnVsZSIsImRhdGFLZXkiLCJkYXRhVmFsdWUiLCJpc1ZvaWNlIiwiY2FwdGNoYUhhbmRsZUNhbGxiYWNrIiwiX29wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbiIsIkFwaXMiLCJvbkNhcHRjaGFTdWJtaXQiLCJyZXNlbmRCdG5PVFBTY2hlbWEiLCJyZXNlbmRCdG5WT1RQU2NoZW1hIiwidmVyaWZ5RW1haWxCeU9UUCIsImdldFBob25lTm8iLCJtYXRjaFJ1bGVTdHJpbmciLCJwYXNzd29yZFJ1bGVzIiwibWF0Y2hSdWxlUmVzIiwicGluUnVsZXMiLCJjaGFuZ2VOdW1iZXJGb3JtIiwiY2hhbmdlQnRuIiwicmVzZXRCdG4iLCJkdW9BdXRoIiwic3FBdXRoIiwiZW1haWxvdHBBdXRoIiwicHVzaE5vdGlmaWNhdGlvbkF1dGgiLCJkaXNhYmxlTUZBIiwidmFsaWRhdGVBbmRDYWxsIiwibG9nb3V0IiwidG9rZW5FeHBpcnlQYXJhbWV0ZXIiLCJ0b2tlbkV4cGlyZSIsImRvbWFpbiIsIm90cEVtYWlsVmVyaWZpY2F0aW9uIiwicGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb24iLCJyb3V0ZSIsImxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IiLCJyZWdSZXNwb25zZSIsImhhbmRsZVRva2VuUmVzcG9uc2UiLCJpT1MiLCJpc1VjIiwiaU9TQ2hyb21lIiwic3RheUxvZ2luQ2hlY2siLCJJc1Bvc3RlZCIsImlzTGF0ZXN0UHJpdmFjeVBvbGljeSIsIlZlcnNpb24iLCJjaGVja0ZvckxhdGVzdFByaXZhY3lQb2xpY3kiLCJJc0xhdGVzdFByaXZhY3lQb2xpY3kiLCJzaWduYXR1cmUiLCJqd3R0b2tlbiIsImdldFNhZmFyaVRva2VuIiwic2V0SG9zdGVkVG9rZW4iLCJyZWdpc3RyYXRpb25Gb3JtU2NoZW1hIiwicGhvbmVyZXEiLCJwaG9uZVNjaGVtYSIsInJlcXVpcmVkRW1haWxGbG93IiwiRW1haWxWZXJpZmllZCIsIlBob25lSWRWZXJpZmllZCIsIlBob25lSWQiLCJwaG9uZU9iaiIsIlVpZCIsIlBJTkxvZ2luIiwic2V0VG9rZW4iLCJNU1N0cmVhbSIsInZ0eXBlIiwic2FmYXJpUHJvdG9jb2wiLCJhcGlTdHJpbmciLCJnZXRKd3RUb2tlbiIsImp3dFJlc3BvbnNlIiwiZ2V0UHJvZmlsZVNjaGVtYSIsInByb2ZpbGVTY2hlbWEiLCJfa2V5Iiwic2NoZW1hTmFtZSIsImVtYWlsdmVyaWZpZWQiLCJpc2VtYWlsc3Vic2NyaWJlZCIsInBob25laWQiLCJiaXJ0aGRhdGUiLCJwYXNzd29yZCIsInBpbiIsImN1c3RvbWZpZWxkcyIsImZpcnN0bG9naW4iLCJhc2tQaW5PbkxvZ2luIiwibHJFcnJvciIsImpzRXJyb3IiLCJsck1lc3NhZ2UiLCJkZXNjcmlwdGlvbiIsInNldEN1c3RvbUxhYmVsIiwic2V0Q3VzdG9tVGl0bGUiLCJzZXRQbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyIiwic2V0VmFsaWRhdGlvbiIsImF0dHJpYnV0ZSIsInBob25lRGF0YSIsIl9waG9uZURhdGEiLCJjaGVjazJGQSIsImZvcm1OYW1lIiwibWZhRW1haWxUb2tlbiIsIkVtYWlsSWQiLCJoaWRkZW5FbWFpbFNjaGVtYSIsInBob25lSWQiLCJwaG9uZU5vMkZBIiwiaW5uZXJUZXh0IiwiaGF2ZVRva2VuIiwiaGFuZGxlUmVzZW5kT1RQQnRuQ2xpY2siLCJjYWxsUmVzZW5kTWFudWFsbHlGbiIsInJlY2FwdGNoYUlEIiwiaXNWYWxpZFRva2VuIiwicmVzZW5kT1RQTWFudWFsbHkiLCJJc1Bob25lVmVyaWZpZWQiLCJ0d29mYSIsIm5vUGhvbmVWZXJpZmllZCIsInJlc2VuZFZvaWNlT1RQQnRuIiwicGhvbmVubzJmYSIsIk9UUFBob25lTm8iLCJyZXNlbmRPVFBCdG4iLCJuZXh0c2libGluZyIsIm5leHRTaWJsaW5nIiwic2VuZEluc3RhbnRTaWduSW5MaW5rIiwicGF5bG9hZERhdGEiLCJpbnN0YW50TGlua0xvZ2luRW1haWxUZW1wbGF0ZSIsInNpZ25pblJlc3BvbnNlIiwibHJwYXNzd29yZGxlc3Nsb2dpbm90cCIsImxycGFzc3dvcmRsZXNzbG9naW4iLCJzZW5kSW5zdGFudFNpZ25Jbk90cCIsInNtc1RlbXBsYXRlIiwic21zVGVtcGxhdGVJbnN0YW50T1RQTG9naW4iLCJTaWQiLCJfc2NoZW1hIiwicmVzZW5kT1RQSGFuZGxlciIsIm9uc3VjY2VzcyIsInNtc3RlbXBsYXRlIiwidm9pY2VvdHAiLCJvdHBEYXRhIiwidmVyaWZ5SW5zdGFudE9UUCIsInJlc2VuZE9UUEFyZ3MiLCJwaW5nRm9yU21hcnRMb2dpbiIsInBpbmdJbnRlcnZhbCIsImF1dG9Mb2dpblBpbmdJbnRlcnZhbCIsImF1dG9Mb2dpblBpbmdDb3VudCIsInNlbmRWZXJmaWNhdGlvbkVtYWlsQnRuIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsRm9yVW52ZXJpZmllZFNvY2lhbExvZ2luIiwic2VuZFZlcmlmaWNhaW9uRW1haWxGb3JTb2NpYWxDb250cm9sbGVyIiwiY2hpbGROb2RlcyIsInBpbmdGb3JTb2NpYWxJZGVudGl0eSIsInBpbmdGb3JDcm9zc0RldmljZVNTTyIsInFyY29kZUNhbGxiYWNrIiwicXJQaW5nQ291bnRlciIsIkNEU1NPUGluZ0FwaVRpbWVvdXQiLCJnZW5lcmF0ZUNyb3NzRGV2aWNlU1NPQ29kZSIsImV4cGlyeXRpbWUiLCJxcmNvZGVFeHBpcnlUaW1lIiwidG9EYXRhVVJMIiwiX2VyciIsIl9yZXNwIiwiY2hpbGRkYXRhc291cmNlIiwiZHMiLCJvcHRpb24xIiwib3B0aW9uMiIsInZhbGlkYXRpb25TY2hlbWEiLCJ0cmltRW1haWwiLCJjc3NJZCIsInR4dHBhc3MiLCJtZXRlciIsInNjb3JlIiwiY3NzT2xkRWxlbWVudCIsInJlbW92ZUNoaWxkIiwiY3NzIiwiaXNGaXJlZm94IiwibWV0ZXJDb25maWciLCJjb2xvciIsImV5ZVNsYXNoSWNvbiIsImV5ZUljb24iLCJ0b2dnbGVQYXNzVmlzaWJsaXR5Iiwic2VsZWN0TGFibGUiLCJkaXZIVE1MIiwiaW5wdXRzIiwiaW5keCIsImZvcm1WYWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkYXRpb25EaXZCbG9jayIsImV4aXN0UGhvbmVOdW1iZXIiLCJyZXNwIiwiSXNFeGlzdCIsImV4aXN0VXNlcm5hbWUiLCJhdXRvY29tcGxldGUiLCJrZXlDb2RlIiwiZXZlbnRzIiwibGFiZWwiLCJjb250YWluZXJEaXYiLCJ2YWxpZGF0aW9uRGl2IiwiX3J1bGVzIiwibWV0ZXJFbGVtZW50IiwidGV4dEVsZW1lbnQiLCJkZWZhdWx0Q2FzZSIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsImRlZmF1bHRDb2xvciIsImRlZmF1bHRNZXNzYWdlIiwiaW5wdXQiLCJjYXNlIiwicGFzc3dvcmRWaXNpYmlsaXR5Q29udHJvbCIsImNvbmZpcm1QYXNzd29yZFZpc2liaWxpdHlDb250cm9sIiwicGFzc3dvcmRzdmdJY29uIiwid3JhcHBlciIsInByZXZpb3VzTmFtZSIsImdyZWNhcHRjaGFpZCIsImFjdGlvbk5hbWUiLCJpbmNsdWRlcyIsIl9jdXJyZW50Rm9ybU5hbWUiLCJ2YWxpZERhdGVFcnJvck1lc3NhZ2UiLCJzdWJtaXRCdXR0b25JZCIsInZhbGlkYXRvciIsIl9fbmFtZSIsImV2dCIsImZvcm1FbGVtZW50c05hbWUiLCJwYXJlbnRFbGVtZW50IiwidmFsaWRhdGlvbkRpdnMiLCJwYXJ0cyIsImRhdGVTdHJpbmciLCJkYXkiLCJtb250aCIsInllYXIiLCJtb250aExlbmd0aCIsInBhcm0iLCJwYXJtVmFsdWUiLCJmaWVsZFZhbHVlIiwiVmFsaWRhdG9yIiwiVHlwZSIsImNvbnNlbnRHcm91cERhdGEiLCJjb25zZW50R3JvdXBUaXRsZSIsIlRpdGxlIiwiY29uc2VudEdyb3VwRGVzY3JpcHRpb24iLCJvcHRpb25EYXRhIiwiY29uc2VudFRpdGxlIiwiY29uc2VudERlc2NyaXB0aW9uIiwiY29uc2VudElkIiwiY09wdGlvbkRhdGEiLCJjb25zZW50T3B0aW9uc0VsZW1lbnQiLCJjcmVhdGVDb25zZW50T3B0aW9uSW50ZXJmYWNlIiwiaW5uZXJEaXYiLCJvcHRTY3JpcHQiLCJncm91cENvbnRhaW5lciIsImdycFNjcmlwdCIsImRlY29kZUh0bWwiLCJvcHRpb25UZW1wbCIsImNvbnNlbnRPYmoiLCJzZXRDb25zZW50VmFsaWRhdGlvbiIsImRhdGFPYmoiLCJpc0dyb3VwIiwiaGFzQXRMZWFzdE9uY2UiLCJJc1JlcXVpcmVkQXRsZWFzdE9uZSIsIkdyb3VwSWQiLCJ0eHQiLCJwcml2YWN5UG9saWNpZXMiLCJQcml2YWN5UG9saWNpZXMiLCJjdXJyZW50VGltZSIsImxhdGVzdFBvbGljeSIsIlN0YXJ0RGF0ZVRpbWUiLCJmb3JtYXR0ZWREYXRhIiwicGlub2JqIiwiUElOIiwiU2tpcHBlZCIsInNhbml0aXplU2VjdXJpdHlRdWVzRGF0YSIsInNlY3VyaXR5T2JqIiwic2VjdXJpdHlBbnN3ZXJBcnJheSIsImludmFsaWRRdWVzdGlvbnNLZXlBcnJheSIsImxvYWRRUkNvZGVTY3JpcHQiLCJpc0Nyb3NzRGV2aWNlU1NPRW5hYmxlZCIsImNyZWF0ZUFjY291bnRQYXNza2V5IiwiUmVnaXN0ZXJCZWdpbkNyZWRlbnRpYWwiLCJjcmVkZW50aWFsIiwicmF3SWQiLCJhdHRlc3RhdGlvbk9iamVjdCIsImNsaWVudERhdGFKU09OIiwiX2Vycm9yIiwicmVtb3ZlUGFzc2tleSIsInJlc2VuZE90cEFyZ3MiLCJ2b2ljZVBhcmFtIiwidHdvRmFjdG9yVG9rZW4iLCJSZXNwb25zZSIsImFkZFJlc2VuZE9UUEJ0biIsInNlbmRNRkFFbWFpbE9UUENvbnRyb2xsZXIiLCJwaW5nRm9yUHVzaE5vdGlmaWNhdGlvbiIsInVybFBhdGgiLCJyZXNlbmRQdXNoTm90aWZpY2F0aW9uIiwic2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbiIsImNyZWF0ZUFjY291bnRNRkFQYXNza2V5IiwiUGFzc2tleUNyZWRlbnRpYWwiLCJjcmVhdGVNRkFQYXNza2V5Iiwic2Vjb25kZmFjdG9yYXV0aGVudGljYXRpb250b2tlbiIsImhhbmRsZUZlYXR1cmVzIiwibG9naW5NRkFQYXNza2V5IiwiYXV0aERhdGEiLCJhdXRoZW50aWNhdG9yRGF0YSIsInNpZyIsInVzZXJIYW5kbGUiLCJwYXNzS2V5UGF5bG9hZCIsImF1dGhlbnRpY2F0b3JBdHRhY2htZW50IiwibG9naW5SZXNwb25zZSIsImNvbnRyb2xsZXJzTW9kdWxlIiwiaGFuZGxlQ3VzdG9tT2JqZWN0QnlJZCIsImN1c3RvbU9iamVjdE5hbWUiLCJfU2NoZW1hIiwicGVyaW9kaWNQYXNzd29yZFJlc2V0IiwiUGFzc3dvcmRFeHBpcmF0aW9uRGF0ZSIsIklzRGVsZXRlZCIsImF1dG9GaWxsZWRGaWVsZEZvclRyYWRpdGlvbmFsIiwiZW1haWxmaWVsZCIsInBob25lZmllbGQiLCJhc2tSZXF1aXJlZEZpZWxkc09uUGFzc3dvcmRMZXNzTG9naW4iLCJzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0Iiwic2VjdXJpdHlRdWVzdGlvbk9iamVjdCIsIlNlY3VyaXR5UXVlc3Rpb25BbnN3ZXIiLCJhcGkiLCJhdXRoZW50aWNhdG9yT2JqZWN0IiwiZm9yZ290UGFzc3dvcmRVcmwiLCJmb3Jnb3RQYXNzd29yZFJlc3BvbnNlIiwicGFyc2VEYXRhIiwiZm9yZ290UGFzc0tleVVybCIsImZvcmdvdFBhc3NLZXlSZXNwb25zZSIsInJlc2V0UGFzc2tleUZpbmlzaENvbnRyb2xsZXIiLCJtb2RlIiwiZm9yZ290UElOVXJsIiwiZm9yZ290UElOUmVzcG9uc2UiLCJ2ZXJpZnlPVFBBcGkiLCJyZXNlbmRPVFBBcGkiLCJ0ZW1wbGF0ZSIsIkFza09ubHlPbkZpcnN0TG9naW4iLCJGaXJzdExvZ2luIiwiQXNrT25Mb2dpbiIsImhhbmRsZU9UUCIsImxvZ2luUElOQ29udHJvbGxlciIsInNlc3Npb25Ub2tlbiIsInVwZGF0ZVBob25lTnVtYmVyQXBpIiwiZW1haWxPdHAiLCJfc2VuZG90cGFwaSIsImhhbmRsZTJGQVJlc3BvbnNlIiwib3RwQXV0aG5ldGljYXRvckJ0biIsIklzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkIiwiSXNEdW9BdXRoZW50aWNhdG9yVmVyaWZpZWQiLCJJc0VtYWlsT3RwQXV0aGVudGljYXRvclZlcmlmaWVkIiwiSXNQdXNoRGV2aWNlUmVnaXN0ZXJlZCIsIklzUGFzc2tleUF1dGhlbnRpY2F0b3JWZXJpZmllZCIsInNlbmRPVFBCdG4iLCJFbWFpbE9UUFN0YXR1cyIsImlzQnV0dG9uRXhpc3QiLCJiYWNrQnRuIiwiX2lubmVySHRtbF8iLCJ0d29GQWVtYWlsb3RwQ29kZUZuIiwiZW1haWxzIiwiZW1haWxPdHBGb3JtIiwiZW1haWxPdHBCdG4iLCJFbWFpbCIsIl9tZmFlbWFpbCIsInNlbmRlbWFpbG90cCIsInNlY1FBdXRoZW50aWNhdG9yQnRuIiwicXJDb2RlQXV0aGVudGljYXRvckJ0biIsInR3b0ZBcHVzaG5vdGlmaWNhdGlvbkZuIiwiaXNOb25NRkFFbmFibGVkIiwic2Vjb25kRmFjdG9yVG9rZW4iLCJTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuIiwiaGFuZGxlU3VjY2VzcyIsIlB1c2hRUkNvZGUiLCJwdXNoTm90aWZpY2F0aW9uUVJDb2RlIiwiZHVvTUZBQnV0dG9uIiwiZHVvQXV0aEVuZHBvaW50IiwiRHVvQXV0aEVuZHBvaW50IiwidHdvRkFwYXNza2V5TUZBQ29kZUZuIiwicGFzc2tleUF1dGhCdG4iLCJiYWNrdXBDb2RlQnRuIiwiYmFja3VwQ29kZUNvbnRyb2xsZXIiLCJtZXRob2RUeXBlIiwicG9zdEJvZHkiLCJwaG9uZXRvVmVyaWZ5IiwiX3NlbmREYXRhIiwiX21mYUFjdGlvbiIsInR3b2ZhVmVyaWZ5QWN0aW9uIiwiYmFja3VwQ29kZXJlc3BvbnNlIiwicGFzc2tleUxvZ2luQ29udHJvbGxlciIsInBheWxvYWQiLCJhdXRvZmlsbCIsInBhc3NrZXlGaW5pc2hDb250cm9sbGVyIiwicGFzc2tleVJlZ2lzdHJhdGlvbkNvbnRyb2xsZXIiLCJwYXNza2V5U2NoZW1hIiwiZW1haWxWYWx1ZSIsIl93ZWxjb21lZW1haWx0ZW1wbGF0ZSIsIndlbGNvbWVlbWFpbHRlbXBsYXRlIiwicHJldmVudFZlcmlmaWNhdGlvbkVtYWlsIiwicmVzZXRQYXNzd29yZEFwaSIsInJlc2V0UElOQXBpIiwicmVnaXN0cmF0aW9uRGF0YSIsImludml0YXRpb24iLCJpbnZpdGF0aW9uVmFsdWUiLCJ2TmV4dFVYIiwiYWRkU2tpcEZpZWxkaW5TY2hlbWEiLCJwZXJpb2RpY2FsUGFzc3dvcmRSZXN0Q29udHJvbGxlciIsInJlc2V0RGF0YSIsImxvZ2luRGF0YSIsInJlc2V0UGFzc3dvcmRSZWVvbnNlIiwiY2hhbmdlUGFzc3dvcmRSZXNwb25zZSIsImNoYW5nZVBJTlJlc3BvbnNlIiwiZW1haWxWZXJpZmljYXRpb25SZXNwb25zZSIsImFkZEVtYWlsVGVtcGxhdGUiLCJhZGRFbWFpbFJlc3BvbnNlIiwicmVtb3ZlRW1haWxSZXNwb25zZSIsImNoYW5nZVVzZXJuYW1lUmVzcG9uc2UiLCJyZXNldFBhc3N3b3JkUmVzcG9uc2UiLCJkdW9WZXJpZnlSZXNwb25zZSIsInF1ZXJ5T2JqIiwicmVzZXRQSU5SZXNwb25zZSIsInBhcmFtcyIsImFjdGlvblZhbHVlIiwib25lQ2xpY2tTaWduSW4iLCJkZWxldGVVc2VyQ29uZmlybUNvbnRyb2xsZXIiLCJkZWxldGVDb25maXJtUmVzcG9uc2UiLCJzY2hlbWFDYWxsYmFjayIsInRlbXBUb2tlbiIsInByb2ZpbGVEYXRhIiwiaXNlbWFpbCIsImlzcGhvbmUiLCJlbWFpbHJlcSIsInF1ZXJ5U3RyaW5nIiwicmV0dXJuX3VybCIsImZucyIsInVzZVVwZGF0ZWRBUEkiLCJyZWZpZWxkIiwiX2Zvcm1hdHRlZERhdGEiLCJfb25TdWNjZXNzIiwiX29uRXJyb3IiLCJfZm9ybURhdGFSZXMiLCJvbmVUb3VjaEVtYWlsVVJMIiwib25lVG91Y2hQaG9uZVVSTCIsIm5vUmVnaXN0cmF0aW9uRW1haWxUZW1wbGF0ZSIsImhhbmRsZU9uZVRvdWNoTG9naW5TdWNjZXNzIiwicmVkaXJlY3RVcmwiLCJfcHJvZmlsZSIsIl9yZWdTY2hlbWEiLCJyZWdpc3RlclNjaGVtYSIsIm9uU3VjY2Vzc0hhbmRsZXIiLCJhdXRvRmlsbGVkRmllbGQiLCJhdXRvRmlsbGVkRmllbGRGb3JTb2NpYWwiLCJzYWZhcmlMb2dpbiIsImFjY291bnRMaW5raW5nUmVjZWl2ZVRva2VuIiwicGluUmVhdXRoQ29udHJvbGxlciIsIl9mb3JtRGF0YSIsImlzQ3VzdG9tIiwicmVzZW5kIiwic2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdHZhbHVlcyIsIkFuc3dlciIsIm1mYVF1ZXN0aW9ucyIsInV1aWQiLCJVVUlEIiwiTG9naW5SYWRpdXNWMiIsIm9wZW5lciIsIndyaXRlIiwibG9naW5TY2hlbWEiLCJkdW9Db2RlIiwiZHVvU3RhdGUiLCJDb2RlIiwiU3RhdGUiLCJfcmVxdWlyZWRGaWVsZCIsIl9yZXNEYXRhIiwicmVuZGVyTG9naW5Gb3JtIiwiX3Bhc3N3b3JkRXhwaXJ5Iiwic2RhdGEiLCJnZXRMb2dpbkVtYWlsTGFiZWwiLCJhZGRyZW1lbWJlck1lQ2hlY2siLCJwaW5Mb2dpblNjaGVtYSIsImJhY2tCdG5TY2hlbWEiLCJzaG93UmVnaXN0cmF0aW9uRm9ybSIsInVwZGF0ZWRTY2hlbWEiLCJ0ZXJtc0FuZENvbmRpdGlvbkh0bWwiLCJyZWdpc3RyYXRpb25Gb3JtUmVuZGVyIiwicGFzc2tleVJlZ2l0cmF0aW9uRm9ybSIsImlzQ29uc2VudEVuYWJsZSIsImxycHdkcmVnaXN0ZXIiLCJyZWNvcmRPYmoiLCJjb2RlT2JqIiwiY29kZVNjaGVtYSIsInNob3dTcGxpdEZvcm0iLCJJc1ZhbGlkIiwicGFzc0tleVNjaGVtYSIsImVtYWlsSW5kZXgiLCJmaW5kSW5kZXgiLCJvblJlZ2lzdHJhdGlvbkxvYWRlZCIsImhhbmRsZVZlcmlmeUVtYWlsIiwiX2Nsc1ByZWZpeCIsImRlbGV0ZVVzZXJDb25maXJtIiwiX3Z0b2tlbiIsImNyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIiwidHdvRmFjdG9yQnV0dG9uIiwic2hvd1R3b0ZhY3Rvck9uUHJvZmlsZSIsImhhbmRsZUFjY291bnQyRmFSZXNwb25zZSIsImdvb2dsZUF1dGhlbnRpY2F0b3JCdG4iLCJwYXNza2V5QXV0aCIsInR3b0ZBQWNjb3VudHB1c2hub3RpZmljYXRpb25GbiIsInB1c2hOb3RpZmljYXRpb25SZXNwb25zZSIsImRpc2FibGVQdXNoTm90aWZpY2F0aW9uIiwicHVzaE5vdGlmaWNhdGlvbkJ0biIsIklzUmVnaXN0ZXJlZCIsImRpc2FibGVFbWFpbEF1dGgiLCJkaXNhYmxlU1FBdXRoIiwiZGlzYWJsZUdBQXV0aCIsImRpc2FibGVEdW9BdXRoIiwiZGlzYWJsZVBhc3NrZXlBdXRoIiwidVNjaGVtYSIsInVTY2hlbWExIiwiY29uc2VudEVkaXRvciIsInJlbmRlclNjaGVtYSIsImFjdGlvbkhhbmRsZXIiLCJfcGFzc3dvcmRsZXNzTG9naW4iLCJfb25lVG91Y2hMb2dpbiIsIl9zbWFydExvZ2luIiwiaW5pdEFjdGlvbiIsImZvcm1JbnRlcnZhbCIsInFyVGltZUludGVydmFsIiwiY2xlYXJUaW1lb3V0IiwiY29udGFpbmVySWRzIiwiSWRlbnRpdGllcyIsIklEIiwibGlua2VkQWNjb3VudHNUZW1wbGF0ZSIsIm5vdExpbmtlZEFjY291bnRzVGVtcGxhdGUiLCJ1bmxpbmsiLCJ1bkxpbmtBY2NvdW50IiwiaGFuZGxlUHJvZmlsZUVkaXRvciIsIl9wcm9maWxlU2NoZW1hIiwiZWRpdG9yU2NoZW1hIiwidmlld2VyU2NoZW1hIiwic2hvd0luRWRpdG9yIiwicHJvZ3JlZXNzaXZlU2NoZW1hT2JqZWN0IiwiZmluYWxTY2hlbWEiLCJwcm9ncmVzc2l2ZVNjaGVtYSIsIl9vdHAiLCJhZGRwYXNza2V5YnRuIiwicGFzc2tleSIsIkNyZWRlbnRpYWxzIiwiZGlzYWJsZVBhc3NrZXkiLCJBdXRoZW50aWNhdG9yIiwiYmFja3VwQ29kZUJ1dHRvbiIsImVuY29kZWRVcmwiLCJyZXNldEJhY2t1cENvZGVCdXR0b24iLCJyZXNldEJhY2t1cENvZGVCdG4iLCJfZm9ybUludGVydmFsIiwiX3NlY3VyaXR5U2NoZW1hIiwic2VjdXJpdHlTY2hlbWEiLCJmb3JtUmVzcG9uc2UiLCJyZXNldFBJTlNjaGVtYSIsImlzYXV0aGVudGljYXRlZCIsIkp3dFRva2VuIiwiY29va2lldG9rZW4iLCJwaW5BdXRoU2NoZW1hIiwicmVjYXB0Y2hhSWQiLCJjYXB0Y2hhRW5hYmxlZCIsInNtYXJ0TG9naW5EYXRhIiwidHJhY2tFdmVudCIsIndhcm4iLCJ1bmxpbmtPblN1Y2Nlc3MiLCJ1bmxpbmtPbkVycm9yIiwicHJvdmlkZXJpZCIsImZvcm1SZW5kZXJEZWxheSJdLCJtYXBwaW5ncyI6IkFBRUEsQ0FBQSxTQUFVQSxFQUFHQyxFQUFHQyxHQThCSixTQUFKQyxFQUFhQyxJQW1CVCxTQUFKQyxFQUFhRCxFQUFHRSxFQUFHQyxHQVFmLElBUEFDLEtBQUtDLFNBQVdGLEdBQUtKLEVBQ3JCSyxLQUFLRSxPQUFTLEdBQ2RGLEtBQUtHLE9BQVMsR0FDZEgsS0FBS0ksS0FBT0osS0FBS0ssa0JBQWtCVCxDQUFDLEdBQUssR0FDekNJLEtBQUtNLFNBQVcsR0FDaEJOLEtBQUtPLFNBQVcsR0FDaEJYLEVBQUksRUFDQ0csRUFBSUQsRUFBRVUsT0FBUVosRUFBSUcsRUFBR0gsQ0FBQyxHQUFJLENBQzNCLElBQUlhLEVBQUlYLEVBQUVGLEdBQ1YsSUFBS2EsRUFBRUMsTUFBUUQsRUFBRUUsUUFBVUYsRUFBRUcsTUFDekIsR0FBSUgsRUFBRUUsTUFDRixJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSUosRUFBRUUsTUFBTUgsT0FBUUssQ0FBQyxHQUNqQ2IsS0FBS2MsVUFBVUwsRUFBR0EsRUFBRUUsTUFBTUUsRUFBRSxPQUVoQ2IsS0FBS2MsVUFBVUwsRUFBR0EsRUFBRUMsSUFBSSxDQUNwQyxDQUNBLElBQzhCZCxFQUQxQm1CLEVBQUlmLEtBQUtJLEtBQUtZLFNBQ2xCaEIsS0FBS0ksS0FBS1ksVUFBb0JwQixFQU96QkksS0FOVSxTQUFTRixHQUNaLElBQ0ksT0FBT0YsRUFBRXFCLGNBQWNuQixDQUFDLElBQU1pQixJQUFNckIsR0FBS3FCLEVBQUUsRUFDbEMsQ0FBWCxNQUFPaEIsSUFDYixFQUdaLENBQ0ksU0FBSm1CLEVBQWF0QixFQUFHRSxHQUNaLElBQUlDLEVBQ0osR0FBSSxFQUFBLEVBQUlILEVBQUVZLFNBQVcsVUFBWVosRUFBRSxHQUFHdUIsTUFBUSxhQUFldkIsRUFBRSxHQUFHdUIsS0FNOUQsT0FBT3ZCLEVBQUVFLEdBTFQs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

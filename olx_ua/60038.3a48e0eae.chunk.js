"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[60038],{157593:(e,t,r)=>{r.d(t,{J:()=>a});var n=r(643716),i=r.n(n),o=r(701081),a=e=>{!i()(e)&&(0,o.jU)()&&"undefined"!=typeof window&&localStorage.setItem("saved-job-listing-location-filter",JSON.stringify(e))}},751056:(e,t,r)=>{r.d(t,{V:()=>s,Z:()=>l});var n=r(677181);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=["olxbg","olxro","olxkz","olxuz"];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Vh.Production;return t===n.Vh.Staging?"https://discovery-autocomplete-api.stg.01.eu-west-1.eu.olx.org/api/v1/search/autocomplete":c.includes(e)?"https://discovery-autocomplete-api.prd.01.eu-central-1.eu.olx.org/api/v1/search/autocomplete":"https://discovery-autocomplete-api.prd.01.eu-west-1.eu.olx.org/api/v1/search/autocomplete"}var s=(e,t,r,n)=>({queryParams:{query:t||"",types:"popular_category,popular_query",limit:10,site:e},method:"GET",headers:o({"accept-language":r},n)})},145690:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{E:()=>a});var a=e=>e&&0!==e.length?e.map(((t,r)=>{var n,o;return e.some(((e,n)=>{return r!==n&&(o=t,(i=e).query===o.query&&i.category.label===o.category.label);var i,o}))?i(i({},t),{},{extraCatLabel:null===(n=t.parentsCategory)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.label}):t})):[]},682209:(e,t,r)=>{r.d(t,{v:()=>c});var n=r(165391);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=e=>e.map((e=>o(o({},e),{},{applied_filter:(0,n.N)(e)})))},654279:(e,t,r)=>{r.d(t,{A:()=>d});var n,i,o=r(433401),a=r(755580),c=r(895225);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,a.default)(o.H.SubTitle)(n||(n=l(["\n    margin-top: 0;\n"]))),u=a.default.span(i||(i=l(["\n    ","\n"])),(e=>{var{theme:t,highlight:r}=e;return"\n        background-color: ".concat(r?t.colors["background-brand-highlight"]:"transparent",";\n        padding: ").concat(r?"".concat(t.space[2]," ").concat(t.space[4]):"0",";\n        border-radius: ").concat(t.radii[4],";\n        margin-right: ").concat(t.space[2],";\n        margin-top: ").concat(t.space[2],";\n        display: inline-block;\n        &:empty {\n            display: none;\n        }\n    ")})),d=function(e){var t,{parentsCategory:r,category:n}=e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=50,a=new Array(...null!=r?r:[]).reverse(),l=(null==n?void 0:n.label)||"",d=null!=a&&a.length?null===(t=a.shift())||void 0===t?void 0:t.label:"",p=null!=a&&a.length?a.map(((e,t)=>l.length>0?e.label+" /":a.length-1===t?e.label:e.label+" /")).join(" "):"",f="".concat(d," ").concat(p," ").concat(l?" / "+l:""),g=d&&(p||l)?" / ":"";return(0,c.jsxs)(s,{"data-testid":"search-suggestion-item-breadcurmbs",children:[(0,c.jsx)(u,{highlight:i,children:d}),g,f.length>o?"... /":p," ",l]})}},969183:(e,t,r)=>{r.d(t,{l:()=>d}),r(371803);var n,i,o,a=r(228918),c=r(222051),l=r(755580),s=r(895225),u=(0,l.default)(a.default)(n||(i=["\n    ","\n"],o||(o=i.slice(0)),n=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),(e=>{var{theme:t}=e;return"\n        padding:".concat(t.space[0],";\n        border:none;\n        position:absolute;\n        top:50%;\n        transform:translateY(-50%);\n        right: ").concat(t.space[8],";\n    ")})),d=e=>{var{onClear:t}=e;return(0,s.jsx)(u,{"data-testid":"clear-btn",onClick:t,children:(0,s.jsx)(c.x8P,{size:20})})}},324721:(e,t,r)=>{var n,i,o,a,c=r(755580),l=r(129424),s=r(895225);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=(0,l.ZP)({resolved:{},chunkName:()=>"react-loading-skeleton",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(26857).then(r.t.bind(r,283689,23)),requireAsync(e){var t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){var t=this.resolve(e);return r(t)},resolve:()=>283689}),p=c.default.div(n||(n=u(["\n    padding: ",";\n"])),(e=>{var{theme:t}=e;return t.space[12]})),f=c.default.div(i||(i=u(["\n    padding: ",";\n    display: flex;\n    flex-direction: column;\n    height: 72px;\n"])),(e=>{var{theme:t}=e;return"".concat(t.space[16]," ").concat(t.space[8]," ").concat(t.space[8])})),g=c.default.div(o||(o=u(["\n    height: 60px;\n"]))),v=c.default.div(a||(a=u(["\n    display: flex;\n    padding: ",";\n    justify-content: space-between;\n    flex-grow: 1;\n"])),(e=>{var{theme:t}=e;return"".concat(t.space[16]," ").concat(t.space[8]," ")}));t.Z=()=>(0,s.jsxs)(p,{"data-testid":"listing-loading-skeleton","data-cy":"listing-loading-skeleton",children:[(0,s.jsx)(d,{width:150,height:10}),(0,s.jsxs)(f,{children:[(0,s.jsx)(d,{width:120,height:10}),(0,s.jsx)(d,{width:100,height:8})]}),(0,s.jsx)(d,{width:"100%",height:1}),(0,s.jsx)("div",{children:[...Array(5)].map(((e,t)=>(0,s.jsxs)(g,{children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(d,{width:140,height:15}),(0,s.jsx)(d,{width:15,height:15})]}),(0,s.jsx)(d,{width:"100%",height:1})]},"skeletonItem-".concat(t))))})]})},633221:(e,t,r)=>{r.d(t,{Z:()=>lt});var n,i,o,a,c,l=r(371803),s=r(638206),u=r(755580),d=r(490845),p=r(222051),f=r(160853),g=r(701081),v=r(234247),h=r(450806),b=r.n(h),y=r(28696),m=r(435713),j=r(178988),O=r(895225),w=e=>(0,g.I8)({title:e({id:"filters.wholeCountry",defaultMessage:"Select whole country"}),description:e({id:"filters.allInWholeCountry",defaultMessage:"All in whole country"})}),x=u.default.ul(n||(i=["\n    margin: 0;\n    padding: 0;\n"],o||(o=i.slice(0)),n=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}})))),S=r(19659),P=r(178075),k=r(367743),E=r(645073),I=r(447271),_=r(166135),C=r(955914),R=r(96664),D=r(180584),z=r(271548);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M,q,Z,F,H,U,V,B,K,W,G=u.default.div(a||(a=N(["\n    min-height: ",";\n    background-color: ",";\n    border-radius: ",";\n    margin: ",";\n"])),(e=>e.theme.sizes[64]),(e=>e.theme.colors.tealBgLight),(e=>e.theme.radii[4]),(e=>"".concat(e.theme.space[16]," ").concat(e.theme.space[8]))),Y=u.default.div(c||(c=N(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),J=e=>{var{selectLocationHandler:t}=e,[r,n]=(0,l.useState)(!0),[i,o]=(0,l.useState)(),[a,c]=(0,l.useState)(!1),[s,u]=(0,l.useState)(),{formatMessage:p}=(0,d.useIntl)(),{trackEvent:f}=(0,I.rS)(),g=R.Z.permissionAllowed.get();(0,l.useEffect)((()=>{b(!!g)}),[]);var v,h,b=e=>{e&&f(I.yh.events.localizeMe),(0,_.ZP)(y,m)},y=function(){var e,t=(e=function*(e){var{coords:{latitude:t,longitude:r}}=e;f(I.d.events.getLocationSuccess),R.Z.permissionAllowed.set(!0);var i=R.Z.userLastLocationParams.get();if(i&&i.latitude===t&&i.longitude===r)return o(i.location),void n(!1);try{var a=yield(0,D.Kx)({latitude:t,longitude:r});a||u(C.d.POSITION_UNAVAILABLE),R.Z.geoLocation.set(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a)),R.Z.userLastLocationParams.set({location:a,latitude:t,longitude:r}),o(a)}catch(e){u(C.d.TIMEOUT),z.default.captureException(e)}finally{n(!1)}},function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){T(o,n,i,a,c,"next",e)}function c(e){T(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),m=e=>{e.code===C.d.PERMISSION_DENIED?R.Z.permissionAllowed.set(!1):(f(I.d.events.getLocationFailed),R.Z.permissionAllowed.set(!0)),u(e.code),n(!1)},{title:j,subtitle:w}=(v="",h="",s===C.d.PERMISSION_DENIED?(v=p({id:"mylocation.deniedTitle"}),h=p({id:"mylocation.deniedSubtitle"})):s===C.d.POSITION_UNAVAILABLE||s===C.d.TIMEOUT?(v=p({id:"mylocation.unavailableTitle"}),h=p({id:"mylocation.unavailableSubtitle"})):void 0!==i?v=null==i?void 0:i.geoDescription:(v=p({id:"mylocation.unavailableTitle"}),h=p({id:"mylocation.unavailableSubtitle"})),{title:v,subtitle:h});return(0,O.jsx)(G,{"data-onboarding-id":"geo-location-button","data-testid":"user-location","data-cy":"user-location",children:(0,O.jsx)(P.Z,{title:j,subtitle:w,onClick:e=>{e.stopPropagation(),e.preventDefault(),i?(c(!0),(e=>{if(i){var r={district_id:i.districtId,city_id:i.cityId,region_id:i.regionId};f(I.d.events.gpsLocationSelected,r),t&&t(i)}})()):b(!0)},isLoading:r,rightSlot:!!i&&(0,O.jsx)(Y,{children:(0,O.jsx)(k.Z,{active:a})}),icon:(0,O.jsx)(E.default,{size:24})})})},Q=r(336182),$=r(324721),X=r(262884),ee=r(301939);function te(e,t,r,n,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function re(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){te(o,n,i,a,c,"next",e)}function c(e){te(o,n,i,a,c,"throw",e)}a(void 0)}))}}function ne(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ie,oe=u.default.div(M||(M=ne(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        height: 400px;\n        overflow-y: scroll;\n        background:  ".concat(t.colors.white,";\n        box-shadow: ").concat(t.shadows[8],";\n        border-radius: 0 0 ").concat(t.radii[4]," ").concat(t.radii[4],";\n        ::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 16px;\n        }\n        ::-webkit-scrollbar-thumb {\n            box-shadow: inset 0 0 14px 14px ").concat(t.colors.grey4,";\n            border: solid 6px transparent;\n            border-radius: 14px;\n        }\n\n        &:before {\n            display: block;\n            content: '';\n            position: absolute;\n            width: 100%;\n            margin: 0 auto;\n            height: 12px;\n            border: 0;\n            box-shadow: inset 0 12px 12px -12px rgba(0, 47, 52, 0.1);\n        }\n    ")})),ae=u.default.div(q||(q=ne(["\n    margin-bottom: ",";\n"])),(e=>{var{theme:t}=e;return t.space[12]})),ce=(0,u.default)((e=>{var{onChange:t,paddingLeft:r=8}=e,{formatMessage:n}=(0,d.useIntl)(),{title:i,description:o}=w(n);return(0,O.jsx)(x,{children:(0,O.jsx)(v.W,{"data-testid":"all-regions","data-cy":"all-regions",title:i,subtitle:o,style:{height:"auto",paddingLeft:r},onClick:()=>t(w(n))},"all_region")})}))(Z||(Z=ne(["\n    padding: 0;\n"]))),le=(0,u.default)(ee.H4)(F||(F=ne(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        font-size: ".concat(t.fontSizes[12],";\n        font-weight: ").concat(t.fontWeights[700],";\n        padding: ","".concat(t.space[8]," ").concat(t.space[16]," 0"),";\n    ")})),se=u.default.ul(H||(H=ne(["\n    margin: 0;\n    padding: 0;\n"]))),ue=(0,u.default)(j.u)(U||(U=ne(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        &:hover {\n            background-color: ").concat(t.colors.grey1,";\n        }\n    ")})),de=(0,u.default)(m.H)(V||(V=ne(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        &:hover {\n            background-color: ").concat(t.colors.grey1,";\n        }\n    ")})),pe=(0,u.default)(y.F)(B||(B=ne(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        &:hover {\n            background-color: ").concat(t.colors.grey1,";\n        }\n    ")})),fe=(0,u.default)(v.W)(K||(K=ne(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        width: 100%;\n        &:hover {\n            background-color: ").concat(t.colors.grey1,";\n        }\n    ")})),ge=u.default.button(W||(W=ne(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    margin: 0;\n    background: transparent;\n    cursor: pointer;\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding: ".concat(t.space[16],";\n        border-bottom: 1px solid ").concat(t.colors.grey3,";\n        &:hover {\n            background-color: ").concat(t.colors.grey1,";\n        }\n    ")})),ve=e=>{var{onChange:t}=e,{formatMessage:r}=(0,d.useIntl)(),[n,i]=(0,l.useState)(),[o,a]=(0,l.useState)(null),[c,s]=(0,l.useState)(null),[u,p]=(0,l.useState)(),[f,v]=(0,l.useState)(),h=(0,l.useRef)(null);(0,l.useEffect)((()=>{re((function*(){try{var e=yield(0,Q.nx)();i(e)}catch(e){z.default.captureException(e),z.default.captureExceptionNewRelic({exception:e,capability:X.C.SearchListingResult})}}))()}),[]);var y,m,j,w,x=()=>{var e;null==h||null===(e=h.current)||void 0===e||e.scrollTo(0,0)},P=function(){var e=re((function*(e){var{regionId:t,region:r}=e;if(t){p(e);var n=yield(0,Q.gT)(t,r);a(n),x()}}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=re((function*(e,r){var{regionId:n,region:i,city:o,cityId:a}=e;if(n&&a){if(r){var c=yield(0,Q.hj)(a,null!=o?o:null,n,i);s(c),v(e)}else t((0,g.I8)(e));x()}}));return function(t,r){return e.apply(this,arguments)}}(),E=e=>{"to-cities"===e?s(null):a(null)};return(0,O.jsx)(oe,{ref:h,"data-testid":"listing-wrapper","data-cy":"listing-wrapper",children:c?(y=b()(f,"regionId",null),m=b()(f,"cityId",null),j=b()(f,"title",""),w=(0,g.I8)({regionId:y,cityId:m,title:j,description:r({id:"filters.wholeCity"})}),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(ge,{type:"button","data-testid":"districts-back-button","data-cy":"districts-back-button",onClick:()=>E("to-cities"),children:[(0,O.jsx)(S.default,{marginRight:12}),(0,O.jsx)(d.FormattedMessage,{id:"back",defaultMessage:"Back"})]}),(0,O.jsxs)(ae,{"data-testid":"district-list","data-cy":"district-list",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(fe,{"data-testid":"all-districts","data-cy":"all-districts",title:w.title,subtitle:w.description,onClick:()=>t(w),as:"div"},"all_districts"),(0,O.jsx)(le,{children:(0,O.jsx)(d.FormattedMessage,{id:"filters.selectCity",defaultMessage:"District"})})]}),c&&(0,O.jsx)(se,{children:c.map(((e,r)=>(0,O.jsx)(ue,{"data-testid":"district-item","data-cy":"district-item",title:e.description,onClick:()=>t(e)},"".concat(e.districtId?e.districtId:r,"_city"))))})]})]})):o?(()=>{var e=(0,g.I8)({regionId:u?u.regionId:null,title:u?u.title:"",description:r({id:"filters.wholeRegion"})});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(ge,{type:"button","data-testid":"cities-back-button","data-cy":"cities-back-button",onClick:()=>E("to-regions"),children:[(0,O.jsx)(S.default,{marginRight:12}),(0,O.jsx)(d.FormattedMessage,{id:"back",defaultMessage:"Back"})]}),(0,O.jsxs)(ae,{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(fe,{"data-testid":"all-cities","data-cy":"all-cities",title:e.title,subtitle:e.description,onClick:()=>t(e),as:"div"},"all_cities"),(0,O.jsx)(le,{children:(0,O.jsx)(d.FormattedMessage,{id:"filters.selectCity",defaultMessage:"City"})})]}),o&&(0,O.jsx)(se,{"data-testid":"cities-list","data-cy":"cities-list",children:o.map(((e,t)=>{var{cityId:r,title:n,has_districts:i}=e,o=i?de:ue;return(0,O.jsx)(o,{"data-testid":"city-item","data-cy":i?"city-item-parent":"city-item",title:n,onClick:()=>k(e,i)},"".concat(r||t,"_city"))}))})]})]})})():n?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(J,{selectLocationHandler:t}),(0,O.jsxs)(ae,{"data-testid":"location-list","data-cy":"location-list",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ce,{onChange:t,paddingLeft:16}),(0,O.jsx)(le,{children:(0,O.jsx)(d.FormattedMessage,{id:"filters.selectRegion",defaultMessage:"Choose a Region"})})]}),n&&(0,O.jsx)(se,{"data-testid":"regions-list","data-cy":"regions-list",children:n.map(((e,t)=>(0,O.jsx)(pe,{"data-testid":"regions-item","data-cy":"regions-item",title:e.title,subtitle:e.description,onClick:()=>P(e)},"".concat(e.regionId?e.regionId:t,"_region"))))})]})]}):(0,O.jsx)($.Z,{})})},he=r(734291),be=r(749856),ye=r(391742);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we,xe,Se=(0,u.default)(he.ZP)(ie||(ie=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n    border-left: 1px solid ".concat(t.colors.$03_gray,";\n\n    & > div {\n            padding: ").concat(t.space[8],";\n            height: ").concat(t.sizes[72],";\n            border-radius:").concat(t.radii[0],";\n        }\n        & button {\n            padding-left: ").concat(t.space[0],";\n            padding-right: ").concat(t.space[0],";\n        }\n        & a {\n            padding-left: ").concat(t.space[6],";\n            padding-right: ").concat(t.space[6],";\n            display: flex;\n            align-items: center;\n        }\n        a {\n            text-decoration: unset;\n            color: unset;\n            cursor: unset;\n        }\n")})),Pe=e=>{var{setValues:t,values:r,distances:n,track:i}=e,{isFeatureFlag:o}=(0,be.Z)(),a=b()(r,"distance",0),c=n.map((e=>({id:e.value,label:"+".concat(e.value," km")}))),u=(0,l.useCallback)((e=>{var r=o(ye.h.react18newAPI)?queueMicrotask:s.flushSync;i(I.yh.events.distanceChangeValid,{filters:["distance"],filters_values:e}),r((()=>{t((t=>je(je({},t),{},{distance:e[0]})))}))}),[t,i,o]);return(0,O.jsx)(Se,{"data-testid":"location-distance","data-cy":"location-distance",onDropdownExpansionChange:e=>{e&&i(I.yh.events.distanceChangeClick)},sourceItems:c,selectedIds:[a],onSelectedIdsChange:u})},ke=r(643716),Ee=r.n(ke),Ie=r(946492),_e=r.n(Ie),Ce=r(102289);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e,t,r,n,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Te,Ne,Me,qe,Ze,Fe,He,Ue=u.default.div(we||(we=Ae(["\n    position: absolute;\n    top: 100%;\n    width: 100%;\n    left: 0;\n    max-height: 400px;\n    overflow-y: scroll;\n    z-index: ",";\n    background: ",";\n    box-shadow: ",";\n    ::-webkit-scrollbar {\n        -webkit-appearance: none;\n        width: 16px;\n    }\n    ::-webkit-scrollbar-thumb {\n        box-shadow: inset 0 0 14px 14px ",";\n        border: solid 6px transparent;\n        border-radius: 14px;\n    }\n    &:before {\n        display: block;\n        content: '';\n        position: absolute;\n        width: 100%;\n        margin: 0 auto;\n        height: 12px;\n        border: 0;\n        box-shadow: inset 0 12px 12px -12px rgba(0, 47, 52, 0.1);\n    }\n"])),(e=>{var{theme:t}=e;return t.zIndices.dropdown}),(e=>{var{theme:t}=e;return t.colors.white}),(e=>{var{theme:t}=e;return t.shadows[8]}),(e=>{var{theme:t}=e;return t.colors.grey4})),Ve=(0,u.default)(v.W)(xe||(xe=Ae(["\n    padding-left: ",";\n"])),(e=>{var{theme:t}=e;return t.space[16]})),Be=e=>{var{inputQuery:t,setShowSuggestion:r,setSelectedLocation:n}=e,{markInteractionEndRef:i}=(0,Ce.oR)(),[o,a]=(0,l.useState)(),c=_e()(function(){var e,t=(e=function*(e){var t=yield(0,Q.VV)(e);(null==t?void 0:t.length)&&a(t)},function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Le(o,n,i,a,c,"next",e)}function c(e){Le(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),600);return(0,l.useEffect)((()=>{t?c(t):a([])}),[t]),Ee()(o)?null:(0,O.jsx)(Ue,{"data-testid":"suggestion-list","data-cy":"suggestion-list",children:o&&o.map(((e,t)=>(0,O.jsx)(Ve,{ref:0===t?i:null,"data-testid":"suggestion-item","data-cy":"suggestion-item",title:e.title,subtitle:null==e?void 0:e.description,onClick:()=>{n(e),r((e=>De(De({},e),{},{showSuggestions:!1})))}},t)))})},Ke=r(248853),We=r(228918),Ge=r(157593);function Ye(e,t,r,n,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var et=u.default.div(Te||(Te=Xe(["\n    width: 100%;\n    height: ",";\n    position: relative;\n    z-index: ",";\n    background-color: ",";\n    display: flex;\n"])),(e=>{var{theme:t}=e;return t.sizes[72]}),(e=>{var{theme:t}=e;return t.zIndices.dropdown}),(e=>{var{theme:t}=e;return t.colors["background-brand-fields-inverse"]})),tt=u.default.div(Ne||(Ne=Xe(["\n    position: relative;\n    width: 100%;\n"]))),rt=u.default.div(Me||(Me=Xe(["\n    position: relative;\n"]))),nt=(0,u.default)(E.default)(qe||(qe=Xe(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        margin-top: ".concat(t.space[10],";\n        color: ").concat(t.colors.$07_charcoal,";\n    ")})),it=(0,u.default)(f.nv)(Ze||(Ze=Xe(["\n    ","\n"])),(e=>{var{theme:t,selected:r}=e;return"\n        ".concat(r?"font-weight: ".concat(t.fontWeights[700],";"):"","\n        border-radius: ").concat(t.radii[0],";\n        border-color: ").concat(t.colors["borders-global-inverse"],";\n        background-color: ").concat(t.colors["background-brand-fields-inverse"],";\n        height: ").concat(t.sizes[72],";\n    ")})),ot=u.default.div(Fe||(Fe=Xe(["\n    width: 35%;\n"]))),at=(0,u.default)(We.default)(He||(He=Xe(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding: ".concat(t.space[0],";\n        border: none;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        right: ").concat(t.space[12],";\n    ")})),ct={clicked:I.Sp.events.locationClicked,typing:I.Sp.events.locationTyping,changed:I.Sp.events.locationChanged,cleared:I.Sp.events.locationClear},lt=e=>{var{setValues:t,values:r,track:n,distances:i,className:o,isJobsCategory:a=!1,isDistanceAlwaysActive:c=!1,onSelect:u,onClear:f}=e,{restart:v}=(0,Ce.oR)(),{formatMessage:h}=(0,d.useIntl)(),[b,y]=(0,l.useState)({showSuggestions:!1,showLocations:!1}),[m,j]=(0,l.useState)(""),[w,x]=(0,l.useState)(!1),S=(0,l.useRef)(null),{isFeatureFlag:P}=(0,be.Z)(),{city_id:k,district_id:E,region_id:I}=r,_=!(null==i||!i.length)&&(!!k||!!E||c),C=h({id:"filters.wholeCountry",defaultMessage:"Entire country"});(0,Ke.m)(S,(()=>{y({showSuggestions:!1,showLocations:!1})}),!0);var R=(0,l.useCallback)((()=>{var e=P(ye.h.react18newAPI)?queueMicrotask:s.flushSync;n(ct.cleared,{city_id:k,district_id:E,region_id:I}),y({showSuggestions:!1,showLocations:!1}),j(""),e((()=>{t((e=>Qe(Qe({},e),{},{city_id:void 0,region_id:void 0,district_id:void 0,distance:void 0})))})),null==f||f()}),[k,E,I,f,t,n,P]),D=(0,l.useCallback)((e=>{if(e){var{cityId:r,districtId:i,regionId:o}=e,a=P(ye.h.react18newAPI)?queueMicrotask:s.flushSync;g.RL.add((0,g.I8)(e));var c={city_id:r,district_id:i,region_id:o};n(ct.changed,c),a((()=>{t((e=>Qe(Qe(Qe({},e),c),{},{distance:0})))})),y({showSuggestions:!1,showLocations:!1}),null==u||u(c)}}),[u,t,n,P]);return(0,l.useEffect)((()=>{if(k||E||I){var e=g.RL.find({cityId:k,districtId:E,regionId:I});!function(){var t,r=(t=function*(){var t,r=!!E;null!==(t=e)&&void 0!==t&&t.city||!k||(e=r?yield(0,Q.Rf)(E):yield(0,Q.w8)(k)),k||E||!I||(e=yield(0,Q.n4)(I));var n=e&&(0,g.I8)(e);n&&(a&&(0,Ge.J)(n),j(r?"".concat(n.city,", ").concat(n.title):"".concat(n.title).concat(n.region&&n.region!==n.title?", ".concat(n.region):"")))},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){Ye(o,n,i,a,c,"next",e)}function c(e){Ye(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}()()}else j("")}),[k,E,a,I]),(0,O.jsxs)(et,{ref:S,className:o,children:[(0,O.jsxs)(tt,{children:[(0,O.jsx)(rt,{children:(0,O.jsx)(it,{id:"location-input",renderPrefix:()=>(0,O.jsx)(nt,{id:"location-input-icon",size:24,color:"icon-global-disabled"}),name:"location-Field","data-testid":"location-search-input","data-cy":"location-search-input",value:m,onChange:e=>{var t=e.target.value,r=t.length>1;if(j(t),w||(n(ct.typing),x(!0)),r)return v(),void y({showSuggestions:!0,showLocations:!1});y({showSuggestions:!1,showLocations:!0})},onFocus:e=>{var t=e.target.value,r=(!I||!k)&&t.length>1;y({showSuggestions:r,showLocations:!r}),n(ct.clicked)},"aria-label":C,placeholder:C,selected:(null==m?void 0:m.length)>0,renderSuffix:()=>(null==m?void 0:m.length)>0?(0,O.jsx)(at,{"data-testid":"clear-btn","data-cy":"clear-btn",onClick:R,children:(0,O.jsx)(p.x8P,{size:20})}):void 0})}),b.showSuggestions&&(0,O.jsx)(Be,{inputQuery:m,setShowSuggestion:y,setSelectedLocation:D}),b.showLocations&&(0,O.jsx)(ve,{onChange:D})]}),_&&(0,O.jsx)(ot,{children:(0,O.jsx)(Pe,{track:n,distances:i,setValues:t,values:r})})]})}},500299:(e,t,r)=>{r.d(t,{M:()=>ne});var n,i,o,a,c,l,s=r(371803),u=r(490845),d=r(248853),p=r(755580),f=r(222051),g=r(160853),v=r(144078),h=r(701081),b=r(447271),y=r(420047),m=r(417654),j=r(301939),O=(0,p.default)(j.P4)(n||(i=["\n    color: ",";\n"],o||(o=i.slice(0)),n=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),(e=>{var{theme:t}=e;return t.colors["text-global-secondary"]})),w=r(969183),x=r(429224),S=r.n(x),P=r(895225),k=s.memo((e=>{var{formatMessage:t}=(0,u.useIntl)(),{recentSearch:r,handleSelect:n,query:i="",label:o,type:a,handleClear:c}=e,l=t({id:"suggestion.applied.filters",defaultMessage:"Applied filters"});if(0===r.length)return null;var s=r.filter((e=>e.query.includes(i)));return 0===s.length?null:(0,P.jsxs)(P.Fragment,{children:[o,s.map(((e,t)=>(0,P.jsxs)(y.Al,{"data-testid":"recent-search-item",onClick:()=>n(e,a),children:[(0,P.jsx)(m.TB,{dangerouslySetInnerHTML:{__html:e.query.replace(new RegExp(S()(i),"i"),"<b>$&</b>")}}),!!e.applied_filter&&(0,P.jsx)(O,{as:"span",children:"".concat(l," [").concat(e.applied_filter,"]")}),(0,P.jsx)(w.l,{onClear:t=>c(t,e)})]},"".concat(t).concat(e.query))))]})})),E=r(817875),I=r.n(E),_=r(869496),C=r.n(_),R=r(946492),D=r.n(R),z=r(980201),L=r(370491),A=r(145690),T=r(152776),N=r(751056),M=r(654279),q=r(271548),Z=r(262884),F=r(102289),H=e=>{var{markInteractionEndRef:t}=(0,F.oR)(),{env:r,siteCode:n,langISOCode:i}=(0,T.MG)(),{handleSelect:o=(()=>{}),query:a,label:c,type:l,searchAutocompleteType:u,transformSuggestions:d}=e,[p]=(0,L.L_)(),f=(0,N.Z)(n,r),g=(0,s.useRef)(null),v=(0,s.useRef)(!0),h=(0,s.useRef)(0),[b,j]=(0,s.useState)(null),O=u?{"X-Client-Name":u}:{},w=e=>(h.current=h.current+1,(0,z.t5)(f,e).then((e=>{v.current&&(h.current<2&&j(e),h.current=h.current-1)})).catch((e=>{q.default.captureExceptionNewRelic({exception:e,capability:Z.C.SearchListingResult}),h.current=h.current-1})));(0,s.useEffect)((()=>(g.current=D()(w,250),v.current=!0,()=>{v.current=!1})),[]),(0,s.useEffect)((()=>{if(!g.current||a.trim().length<3)j(null);else{var e=(0,N.V)(n,a,i,O);g.current(e)}}),[a]);var x=I()((0,A.E)(null==b?void 0:b.data),(e=>{var t,r;return C()(e,["category","label"],null===(t=p[null==e||null===(r=e.category)||void 0===r?void 0:r.id])||void 0===t?void 0:t.name)})),k=(0,s.useMemo)((()=>d?d(x):x),[x,d]);return k&&0!==k.length?(0,P.jsxs)(s.Fragment,{children:[c,k.map(((e,r)=>(0,P.jsxs)(y.Al,{ref:0===r?t:null,"data-testid":"search-suggestion-item",onClick:()=>o(e,l,r+1),children:[(0,P.jsx)(m.TB,{dangerouslySetInnerHTML:{__html:e.query.replace(new RegExp(S()(a),"i"),"<b>$&</b>")}}),(0,M.A)(e)]},"".concat(r,"-").concat(e.query.replace(" ","-")))))]}):null},U=r(682209),V=r(954270),B=r(62249),K=["query","category"];function W(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $=function(e){return e.HISTORY="history",e.SUGGESTION="suggestion",e.KEYWORD="keyword",e}($||{}),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("%25")?decodeURI(e):e},ee=(0,p.default)(g.nv)(a||(a=Q(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        border-radius: ".concat(t.radii[4]," ").concat(t.radii[0]," ").concat(t.radii[0]," ").concat(t.radii[4],";\n        border-color: ").concat(t.colors["borders-global-inverse"],";\n        background-color: ").concat(t.colors["background-brand-fields-inverse"],";\n        height: ").concat(t.sizes[72],";\n        margin-bottom: ").concat(t.space[4],";\n    ")})),te=p.default.div(c||(c=Q(["\n    position: relative;\n"]))),re=(0,p.default)(f.olm)(l||(l=Q(["\n    margin-top: ",";\n    color: ",";\n"])),(e=>{var{theme:t}=e;return t.space[8]}),(e=>{var{theme:t}=e;return t.colors.charcoal})),ne=e=>{var t,{values:r,setValues:n,onFocus:i,onSearch:o,onClear:a,track:c,transformSuggestions:l,searchAutocompleteType:p,className:f}=e,{markInteractionStart:g}=(0,F.oR)(),{query:m,category_id:j}=r,[O,x]=(0,s.useState)(X(m)),S=(0,s.useRef)(O),[E,I]=(0,s.useState)(!1),_=()=>(0,U.v)(h.lO.get(5)),[C,R]=(0,s.useState)(_()),{addTrackingContext:D}=(0,s.useContext)(V.U),{formatMessage:z}=(0,u.useIntl)(),L=(0,s.useRef)(null),A=(0,s.useRef)(null),T=(0,s.useMemo)((()=>(e.transformRecentSearches?e.transformRecentSearches(C):C).filter((e=>!!e.query))),[C,e.transformRecentSearches]),N=(e,t,r)=>{A.current={value:e,type:t,position:r},M(!1)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(A.current){var{value:t,type:i,position:a}=A.current,{query:c,category:l}=t,s=W(t,K),{region_id:u,city_id:d,distance:p,district_id:f}=r,g=i===$.SUGGESTION,v=i===$.HISTORY,h=c.trim()===S.current.trim()&&!g&&!v;x(c),S.current=c;var b=Y(Y(Y({query:c,category_id:null==l?void 0:l.id},!v&&!g&&{region_id:u,city_id:d,distance:p,district_id:f}),{},{isSuggestion:g},v?s:null),h?r:null);n(Y({},b)),D(B.S.SEARCH_REASON,{type:i,position:a}),D(B.S.SEARCH_FILTERS,{isAutoComplete:i===$.SUGGESTION,isRestored:i===$.HISTORY,isPopular:!1}),I(!1),null==o||o({type:i,value:t,isOption:g||v,values:Y({},b),position:a,isEnter:e})}},q=e=>{e.preventDefault(),e.stopPropagation(),A.current=null,null==c||c(b.if.events.clearButtonClick),n(Y(Y({},r),{},{query:""})),D(B.S.SEARCH_REASON,{type:"",position:void 0}),x(""),null==a||a()},Z=()=>{setTimeout((()=>I(!1)),150)};return(0,d.m)(L,Z),(0,s.useEffect)((()=>{x(X(m))}),[m]),(0,s.useEffect)((()=>{E&&R(_())}),[E]),(0,s.useEffect)((()=>()=>{D(B.S.SEARCH_REASON,{type:"",position:void 0})}),[]),(0,P.jsxs)(te,{"data-testid":"search-autosuggession",ref:L,className:f,children:[(0,P.jsx)(ee,{id:"search","data-testid":"search-input","data-cy":"search-bar-input",value:O,onChange:e=>{x(e.target.value),e.target.value.length>2&&g(),n(Y(Y({},r),{},{query:e.target.value}),!1),A.current={value:{query:e.target.value,category:{id:j||0}},type:$.KEYWORD,position:0},D(B.S.SEARCH_REASON,{type:$.KEYWORD,position:0})},onFocus:e=>{null==c||c(b.if.events.filterClick),I(!0),null==i||i(e)},onBlur:Z,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e.currentTarget.blur(),x(e.currentTarget.value),A.current||(A.current={value:{query:e.currentTarget.value,category:{id:j||0}},type:$.KEYWORD,position:0}),M(!0))},renderPrefix:()=>(0,P.jsx)(re,{id:"search-icon"}),renderSuffix:()=>O?(0,P.jsx)(w.l,{onClear:q}):void 0,placeholder:z({id:"search.placeholder",defaultMessage:"Search for ..."})}),E&&(0,P.jsx)(v.z,{staticRender:!0,hideOnClickOutside:!1,children:(0,P.jsxs)(y.qk,{width:null==L||null===(t=L.current)||void 0===t?void 0:t.clientWidth,pt:0,px:16,mt:0,maxHeight:400,children:[(0,P.jsx)(k,{label:(0,P.jsx)(y._I,{pt:6,children:z({id:"search.recents",defaultMessage:"Recent Search"})}),type:$.HISTORY,query:O||"",recentSearch:T,handleSelect:N,handleClear:(e,t)=>{e.stopPropagation(),e.preventDefault(),h.lO.remove(t),R((0,U.v)(h.lO.get(5)))}}),(0,P.jsx)(H,{label:(0,P.jsx)(y._I,{pt:6,children:z({id:"search.suggested",defaultMessage:"Suggested Search"})}),type:$.SUGGESTION,handleSelect:N,query:O,searchAutocompleteType:p,transformSuggestions:l})]})})]})}},713181:(e,t,r)=>{var n=r(371803),i=r(370491),o=r(447271),a=r(723005);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.Z=e=>{var[t]=(0,i.L_)();return(0,n.useCallback)(((r,n,i)=>{var c,s;switch(n){case"history":e(o.if.events.restoredSuggestClick,l(l({category_id:r.category_id,keyword:r.query},(0,a.Z)(t,null!==(c=r.category_id)&&void 0!==c?c:null)),{},{if_look_for_popular:!1,if_look_for_autocomplete:!1,if_look_for_restored:!0}));break;case"suggestion":e(o.if.events.suggestedClick,l(l({category_id:r.category_id,keyword:r.query,cat_position:i},(0,a.Z)(t,null!==(s=r.category_id)&&void 0!==s?s:null)),{},{if_look_for_popular:!1,if_look_for_autocomplete:!0,if_look_for_restored:!1}));break;default:e(o.if.events.keywordSearch,{keyword:r.query})}}),[t,e])}},420047:(e,t,r)=>{r.d(t,{Al:()=>y,Qv:()=>j,Ux:()=>O,_I:()=>b,qk:()=>h,rw:()=>m});var n,i,o,a,c,l,s,u=r(755580),d=r(170145),p=r(417654),f=r(144078),g=r(316888);function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=u.default.div(n||(n=v(["\n    ",";\n    ",";\n    overflow: auto;\n\n    & > li {\n        height: 56px;\n    }\n\n    & > li:hover {\n        background: ",";\n    }\n\n    & > li > svg {\n        width: ",";\n        height: ",";\n    }\n\n    ::-webkit-scrollbar {\n        -webkit-appearance: none;\n        width: 16px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        box-shadow: inset 0 0 14px 14px ",";\n        border: solid 6px transparent;\n        border-radius: 14px;\n    }\n"])),d.Dh,d.bK,(e=>{var{theme:t}=e;return t.colors.grey2}),(e=>{var{theme:t}=e;return t.sizes[16]}),(e=>{var{theme:t}=e;return t.sizes[16]}),(e=>{var{theme:t}=e;return t.colors.grey4})),b=(0,u.default)(p.T1)(i||(i=v(["\n    ",";\n    text-transform: uppercase;\n    margin-top: ",";\n"])),d.Dh,(e=>{var{theme:t}=e;return t.space[8]})),y=(u.default.div(o||(o=v(["\n    ",";\n    ","\n"])),d.FK,(e=>{var{theme:t}=e;return"\n        position: absolute;\n        top: 0px;\n        width:200px;\n        background-color: ".concat(t.colors.white,";\n        border-radius: ").concat(t.radii[4],";\n        height: 400px;\n        overflow: auto;\n        box-shadow: 0 1px 4px hsl(0deg 0% 0% / 16%);\n        & > li > svg {\n            width: ").concat(t.sizes[16],";\n            height: ").concat(t.sizes[16],";\n        }\n        ::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 16px;\n        }\n\n        ::-webkit-scrollbar-thumb {\n            box-shadow: inset 0 0 14px 14px ").concat(t.colors.grey4,";\n            border: solid 6px transparent;\n            border-radius: 14px;\n        }\n")})),(0,u.default)(f.z.Item)(a||(a=v(["\n    cursor: pointer;\n    position: relative;\n    ","\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    min-height: 52px;\n\n    &:hover {\n        background: ",";\n    }\n"])),(e=>{var{theme:t}=e;return"\n        padding-top: ".concat(t.space[8],";\n        gap: ").concat(t.sizes[4],";    \n    ")}),(e=>{var{theme:t}=e;return t.colors.grey2}))),m=(0,u.default)(g.Qd.Collapse)(c||(c=v(["\n    ","\n"])),(e=>{var{autoHeight:t,maxHeight:r,theme:n}=e;return"\n    max-height: ".concat(t?"auto":r||"200px",";\n    margin-right: 8px;\n    overflow: auto;\n    & label {\n        cursor: pointer;\n    }\n\n    ::-webkit-scrollbar {\n        width: ").concat(n.sizes[4],";\n        height: ").concat(n.sizes[4],";\n    }\n    ::-webkit-scrollbar-thumb {\n        background: #b3afb3;\n        border-radius: ").concat(n.radii[0],";\n    }\n    ::-webkit-scrollbar-thumb:hover {\n        background: #b3afb3;\n    }\n    ::-webkit-scrollbar-track {\n        background: #f0f0f0;\n        border-radius: ").concat(n.radii[0],";\n        box-shadow: inset 0px 0px 0px 0px #f0f0f0;\n    }")})),j=u.default.div(l||(l=v(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-top:  ".concat(t.space[16],";\n    ")})),O=(0,u.default)(p.Zn)(s||(s=v(["\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    display: block;\n"])))},185313:(e,t,r)=>{function n(e){return e?e.replace(/<[^>]*>/g,"").trim():""}r.d(t,{l:()=>n})},180584:(e,t,r)=>{r.d(t,{Jz:()=>b,UR:()=>y,Kx:()=>h,A6:()=>m});var n=r(432319),i=r(677181),o=r(612428),a=r.n(o),c=r(463869),l=r(450806),s=r.n(l),u=r(877808),d=r.n(u);function p(e,t,r,n,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=e=>new Promise(((t,r)=>{if(!e||a()(e.latitude)||a()(e.longitude))return t(null);(0,n.a5)("geo-encoder/location-autocomplete",{queryParams:g(g({},e),{},{limit:1})}).then((e=>{var{data:r}=e,n=(0,c.Z)(r);t(n[0]||null)})).catch(r)})),b=(e,t)=>new Promise(((r,o)=>{if(!e)return r(null);(0,n.a5)("geo-encoder/cities/".concat(e),{queryParams:g({},t===i.dw.invoicing&&g({},{scope:i.dw.invoicing}))}).then((e=>{var{data:t}=e,n=function(e){var t=s()(e,"region",""),r=s()(e,"province",null),n=s()(e,"county",null),i=s()(e,"name",""),o=d()([i,n,r,t]).filter((e=>e)).join(", ");return{lon:s()(e,"longitude"),lat:s()(e,"latitude"),zoom:s()(e,"zoom"),radius:s()(e,"radius"),regionId:s()(e,"region_id",""),region:t,cityId:s()(e,"id",null),city:i,districtId:null,district:null,title:s()(e,"name",""),description:o,county:n}}(t);r(n||null)})).catch(o)})),y=e=>new Promise(((t,r)=>{if(!e)return t(null);(0,n.a5)("geo-encoder/districts/".concat(e),{}).then(function(){var e,r=(e=function*(e){var r,{data:i}=e,o=yield(r=i.city_id,new Promise(((e,t)=>{if(!r)return e(null);(0,n.a5)("geo-encoder/cities/".concat(r),{}).then((t=>{var{data:r}=t;e(r||null)})).catch(t)})));t(function(e){var t=s()(e,"region",null),r=s()(e,"county",null),n=s()(e," region_id",""),i=s()(e,"name",""),o=s()(e,"id",null),a=s()(e,"district_name",""),c=s()(e,"district_id",null);return{city:i,cityId:o,description:d()([a,i,r,t]).filter((e=>e)).join(", "),district:a,districtId:c,lon:s()(e,"longitude"),lat:s()(e,"latitude"),radius:s()(e,"radius"),region:t,regionId:n,title:a,zoom:s()(e,"zoom")}}(g(g({},o),{},{district_name:i.name,district_id:i.id,zoom:i.zoom,latitude:i.latitude,longitude:i.longitude})))},function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,c,"next",e)}function c(e){p(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()).catch(r)})),m=e=>new Promise(((t,r)=>{if(!e)return t(null);(0,n.a5)("geo-encoder/regions/".concat(e),{}).then((e=>{var{data:r}=e;t(function(e){return{regionId:s()(e,"id",null),region:s()(e,"name",""),title:s()(e,"name",""),description:"",cityId:null,districtId:null}}(r))})).catch(r)}))},463869:(e,t,r)=>{var n=r(701081);t.Z=(e,t)=>e?e.reduce(((e,r)=>[...e,(0,n.ak)(r,t)]),[]):[]},95410:(e,t,r)=>{var n=r(450806),i=r.n(n);t.Z=function(e,t,r){return e.reduce(((e,n)=>{var o=i()(n,"province",null),a="".concat(o&&o!==r?"".concat(o,", "):"").concat(r||"");return[...e,{regionId:t,region:r,cityId:i()(n,"id",null),city:i()(n,"name",""),districtId:null,title:i()(n,"name",""),description:a,has_districts:i()(n,"has_districts",!1)}]}),[])}},297383:(e,t,r)=>{var n=r(450806),i=r.n(n),o=r(701081);t.Z=function(e,t,r,n,a){return e.reduce(((e,c)=>{var l={regionId:t,region:r,cityId:n,city:a,districtId:i()(c,"id",null),title:i()(c,"name","")||a,description:i()(c,"name",""),lat:i()(c,"latitude"),lon:i()(c,"longitude"),radius:i()(c,"radius"),zoom:i()(c,"zoom")};return[...e,(0,o.I8)(l)]}),[])}},336182:(e,t,r)=>{r.d(t,{Kx:()=>g,Rf:()=>j,VV:()=>w,gT:()=>b,hj:()=>y,n4:()=>O,nx:()=>h,w8:()=>m});var n=r(432319),i=r(271548),o=r(180584),a=r(463869),c=r(95410),l=r(297383),s=r(651655),u=r(262884);function d(e,t,r,n,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,c,"next",e)}function c(e){d(o,n,i,a,c,"throw",e)}a(void 0)}))}}var f={},g=function(){var e=p((function*(e){var t=[];try{var{data:r}=yield(0,n.a5)("geo-encoder/location-autocomplete",{queryParams:{query:e}});t=(0,a.Z)(r)}catch(e){i.default.captureException(e)}return t}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=p((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var{data:r}=yield(0,n.a5)(e,t);return r}catch(e){i.default.captureException(e)}}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=p((function*(){try{if(f.regions)return f.regions;var e=yield v("geo-encoder/regions"),t=(0,s.Z)(e);return f.regions=t,t}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=p((function*(e,t){try{if(!e)return;if(f[e])return f[e];var r=yield v("geo-encoder/regions/".concat(e,"/cities/?limit=300")),n=(0,c.Z)(r,e,t);return f[e]=n,n}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=p((function*(e,t,r,n){try{if(!r||!e)return;if(f[e])return f[e];var o=yield v("geo-encoder/cities/".concat(e,"/districts")),a=(0,l.Z)(o,r,n,e,t);return f[e]=!f[e]&&a,a}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(t,r,n,i){return e.apply(this,arguments)}}(),m=function(){var e=p((function*(e){try{return yield(0,o.Jz)(e)}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}return{}}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=p((function*(e){try{return yield(0,o.UR)(e)}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}return{}}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=p((function*(e){try{return yield(0,o.A6)(e)}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}return{}}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=p((function*(e){try{var t,r={query:e};if((null===(t=f["suggested-".concat(e)])||void 0===t?void 0:t.length)>0)return f["suggested-".concat(e)];var n=yield v("geo-encoder/location-autocomplete",{queryParams:r}),o=(0,a.Z)(n);return f["suggested-".concat(e)]=o,o}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(t){return e.apply(this,arguments)}}()},651655:(e,t,r)=>{var n=r(450806),i=r.n(n);t.Z=function(e){return e.reduce(((e,t)=>[...e,{regionId:i()(t,"id",null),region:i()(t,"name",""),title:i()(t,"name",""),description:"",cityId:null,districtId:null}]),[])}},96664:(e,t,r)=>{var n=r(701081);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(0,n.jZ)("last_user_location-v1.0.1"),l=(0,n.jZ)("geo_location"),s=(0,n.jZ)("geo_permission_allowed"),u=(0,n.jZ)("last-location");t.Z={lastLocation:o(o({},c),{},{set:e=>{s.get()&&c.set(e)},get:()=>s.get()?c.get():null}),geoLocation:o(o({},l),{},{set:e=>{s.get()&&l.set(e)},get:()=>s.get()?l.get():null}),permissionAllowed:s,userLastLocationParams:u}},166135:(e,t,r)=>{t.ZP=(e,t)=>navigator.geolocation.getCurrentPosition(e,t)},955914:(e,t,r)=>{r.d(t,{d:()=>n});var n=function(e){return e[e.PERMISSION_DENIED=1]="PERMISSION_DENIED",e[e.POSITION_UNAVAILABLE=2]="POSITION_UNAVAILABLE",e[e.TIMEOUT=3]="TIMEOUT",e}({})}}]);
//# sourceMappingURL=60038.3a48e0eae.chunk.js.map
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89880],{802170:(e,r,t)=>{t.d(r,{H:()=>_,N:()=>w});var n,i,a,s,c,o=t(371803),l=t(490845),u=t(755580),d=t(301939),h=t(329551),f=t(170145),m=t(20538),p=t.n(m),g=t(954455),v=t(447271),y=t(895225);function j(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var b=u.default.div(n||(n=j(["\n    background: ",";\n    border-radius: ",";\n    padding: ",";\n    display: flex;\n"])),(e=>{var{theme:r}=e;return r.colors.blueLight}),(e=>{var{theme:r}=e;return r.radii[4]}),(e=>{var{theme:r}=e;return"".concat(r.space[10]," ").concat(r.space[12])})),x=u.default.img(i||(i=j(["\n    width: ",";\n    height: ",";\n    align-self: flex-start;\n    margin-right: ",";\n"])),(e=>{var{theme:r}=e;return r.sizes[48]}),(e=>{var{theme:r}=e;return r.sizes[48]}),(e=>{var{theme:r}=e;return r.sizes[16]})),S=u.default.ul(a||(a=j(["\n    margin: 0;\n    padding: 0;\n    margin-top: ",";\n    width: 100%;\n    overflow-x: auto;\n"])),(e=>{var{theme:r}=e;return r.sizes[6]})),O=(0,u.default)(d.P4)(s||(s=j(["\n    text-decoration: underline;\n    text-transform: capitalize;\n    cursor: pointer;\n    margin-top: ",";\n"])),(e=>{var{theme:r}=e;return r.sizes[12]})),_=u.default.li(c||(c=j(["\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    ",";\n    ",";\n    ","\n\n    a {\n        color: inherit;\n        text-decoration: none;\n    }\n\n    "," {\n        margin-right: ",";\n        display: inline-block;\n        a {\n            text-decoration: underline;\n        }\n    }\n"])),f.Dh,f.jf,(e=>{var{isVisible:r}=e;return!r&&"display: none;"}),h.b,(e=>{var{theme:r}=e;return r.sizes[8]})),w=e=>{var{title:r,data:t,tailCount:n=2,onExpandClick:i,renderItem:a}=e,[s,c]=o.useState(!0),[u,h]=o.useState(!1),{trackEvent:f}=(0,v.rS)(),m=o.useRef(null);return o.useEffect((()=>{!0===u&&f(g.SimilarSearchTracking.similarSearchExpand)}),[u]),0===t.length?null:(0,y.jsxs)(b,{children:[(0,y.jsx)(x,{src:p(),alt:"search"}),(0,y.jsxs)("div",{style:{width:"100%"},children:[(0,y.jsx)(d.P3,{variant:"bold",children:r}),(0,y.jsx)(S,{ref:m,onScroll:function(){h(!0)},children:(0,y.jsx)(y.Fragment,{children:t.map(((e,r)=>a(e,r,function(e){return!s||e+1<=n}(r),f)))})}),t.length>n&&(0,y.jsx)(O,{onClick:function(){s&&i(),c(!s)},children:s?(0,y.jsx)(l.FormattedMessage,{id:"common.show_more",defaultMessage:"Show more"}):(0,y.jsx)(l.FormattedMessage,{id:"common.show_less",defaultMessage:"Show less"})})]})]})}},627060:(e,r,t)=>{var n;t.d(r,{S:()=>s});var i,a,s=t(755580).default.div(n||(i=["\n    padding-bottom: ",";\n"],a||(a=i.slice(0)),n=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))),(e=>{var{theme:r}=e;return r.space[16]}))},954455:(e,r,t)=>{t.r(r),t.d(r,{SimilarSearchTracking:()=>N,SimilarSearches:()=>B});var n,i,a,s=t(371803),c=t(490845),o=t(643716),l=t.n(o),u=t(612428),d=t.n(u),h=t(146058),f=t.n(h),m=t(755580),p=t(301939),g=t(627060),v=t(802170),y=t(422223),j=t(623584),b=t(432319),x=t(370491),S=t(248853),O=t(271548),_=t(447271),w=t(60580),E=t(262884),P=t(895225);function k(e,r,t,n,i,a,s){try{var c=e[a](s),o=c.value}catch(e){return void t(e)}c.done?r(o):Promise.resolve(o).then(n,i)}function z(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function s(e){k(a,n,i,s,c,"next",e)}function c(e){k(a,n,i,s,c,"throw",e)}s(void 0)}))}}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){M(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function M(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function L(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var T=(0,m.default)(p.P4)(n||(n=L(["\n    line-height: ",";\n"])),(e=>{var{theme:r}=e;return r.lineHeights[18]})),A=(0,m.default)(p.TextContainer)(i||(i=L(["\n    color: ",";\n"])),(e=>{var{theme:r}=e;return r.colors.$05_gray})),H=(0,m.default)(p.TextContainer)(a||(a=L(["\n    color: ",";\n"])),(e=>{var{theme:r}=e;return r.colors.$05_gray})),N={similarSearch:"similar_search",similarSearchExpand:"similar_search_expand",similarSearchSeen:"similar_search_seen"},F=(e,r)=>e.map((e=>D(D({},e),{},{category:r[e.category_id]?r[e.category_id].name:""}))),I=function(){var e=z((function*(e,r){try{var{data:t}=yield(0,b.a5)("seo/similar-searches",{queryParams:D(D({},r?{category_id:r}:{}),{},{query:e}),method:"GET"});return t.searches||[]}catch(e){return O.default.captureException(e),O.default.captureExceptionNewRelic({exception:e,capability:E.C.SearchListingResult}),[]}}));return function(r,t){return e.apply(this,arguments)}}(),q=f()(I,((e,r)=>"".concat(e,"-").concat(r))),R=(e,r,t,n)=>(0,P.jsx)(v.H,{isVisible:t,"data-testid":"similar-searches-item",mb:2,children:(0,P.jsx)(T,{children:(0,P.jsxs)(y.Z,{to:e.href,onClick:()=>function(e){(0,w.j)(),e(N.similarSearch,{event_type:"click"})}(n),"data-testid":"similar-searches-link",children:[(0,P.jsx)(p.TextContainer,{children:e.similar_search}),(0,P.jsxs)(A,{children:[" ",(0,P.jsx)(c.FormattedMessage,{id:"listing.similar_searches.in",defaultMessage:"in category"})," "]}),(0,P.jsx)(H,{children:e.category})]})})},"".concat(e.similar_search,"-").concat(r)),B=e=>{var r,{query:t,categoryId:n,isDesktop:i=!1}=e,{formatMessage:a}=(0,c.useIntl)(),[o]=(0,x.L_)(),{similarSearches:u,clearSimilarSearches:h}=(0,j.M9)(),{trackEvent:f}=(0,_.rS)(),m=u;m&&(r=m[0],d()(r)||!("category"in r))&&(m=F(m,o));var[p,y]=(0,S.o)({rootMargin:"0px",threshold:1}),[b,O]=(0,S.f)(m||[]),w=function(){var e=z((function*(){var e=yield q(t,n);if(l()(e))return O([]);var r=F(e,o);O(r)}));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((()=>{(!u||u.length<1)&&(w(),h())}),[t,n]),(0,s.useEffect)((()=>{p&&b.length&&f(N.similarSearchSeen)}),[p,b.length,f]),l()(b)?null:(0,P.jsx)(g.S,{"data-cy":"seo-similar-searches",ref:y,children:(0,P.jsx)(v.N,{data:b,title:a({id:"auth.footer.similarSearches",defaultMessage:"Similar searches"}),tailCount:i?b.length:5,onExpandClick:()=>function(e){e(N.similarSearchExpand)}(f),renderItem:R})})}}}]);
//# sourceMappingURL=olxeuweb.list.similarSearches.86e1399b0.chunk.js.map
// For license information, see `https://assets.adobedtm.com/launch-EN8508e1965b004de29de2dbd977d7156a.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2023-12-13T18:13:36Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"EN8508e1965b004de29de2dbd977d7156a",stage:"production"},dataElements:{articleSource:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.article.source"}},contentType:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.contentType"}},URL:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"https://"+document.location.hostname+document.location.pathname}}},articleTitle:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.article.title"}},authBDU:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.authBDU"}},hierarchy:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.hierarchy"}},campaignId:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!1}},previouslyAuthenticated:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.previouslyAuthenticated"}},authStatus:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.authStatus"}},searchTerm:{cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.search.term"}},currentDate:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.currentDate"}},subsection2:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.subsection2"}},platform:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.platform"}},dayParts:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.dayParts"}},"Audit Name":{cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.launch.audit"}},subsection1:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.subsection1"}},clickAction:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.clickAction"}},"Optly Experiments":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=window.optimizely.get("state").getActiveExperimentIds(),t=window.optimizely.get("state").getVariationMap(),n=[];return e.forEach((e=>{const a="("+e+"):("+t[e].id+")";n.push(a)})),String(n)}catch(e){try{_dataManager.console("Optimizely eVar44: "+e)}catch(e){console.log("Optimizely eVar44: "+e)}}}}},pageName:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageName"}},siteSection:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.siteSection"}},articleAuthor:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.article.author"}},reportsuiteid:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window._dataManager.populateRSID(window.digitalData.page.siteName)}}},authenticationLocation:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.authenticationLocation"}},showName:{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.show.name"}},referrer:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=new RegExp(/amp/);return window&&window.digitalData&&window.digitalData.page&&window.digitalData.page.referrer?window.digitalData.page.referrer:document.referrer&&-1==document.referrer.indexOf(document.location.hostname)&&window.digitalData&&window.digitalData.page&&digitalData.page.contentType&&!e.test(window.digitalData.page.contentType)?document.referrer:void 0}}},subsection4:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.subsection4"}},siteVersion:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.version"}},userId:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.userId"}},articleId:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.article.id"}},originalSiteAuthenticated:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.originalSiteAuthenticated"}},filterList:{cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.filterList"}},sitePreviouslyAuthenticated:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.sitePreviouslyAuthenticated"}},productName:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.productName"}},clickZone:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.clickZone"}},subsection3:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.subsection3"}},subsection5:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.subsection5"}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPcfb4767bc0bd40d0af2245ed4e7d1cd4/",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty.js");e.exports=function(e){return a(window,e.path)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),r=n("@adobe/reactor-query-string");e.exports=function(e){var t=r.parse(a.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,a){"use strict";var r,i,o,s,c=n("@adobe/reactor-document"),u=n("@adobe/reactor-promise"),l=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),f=n("./helpers/unescapeHtmlCode"),g=n("../helpers/findPageScript").getTurbine,m=(i=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=f(e.attrs[t])})),e.src&&(e.src=f(e.src))),e},error:function(e){a.logger.error(e.msg)}})},o=[],s=function(){if(c.body)for(;o.length;)i(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),h=function(){if(c.currentScript)return c.currentScript.async;var e=g();return!e||e.async}();e.exports=function(e,t){var n;r=a.getExtensionSettings().cspNonce;var i={settings:e,event:t},o=i.settings.source;if(o)return i.settings.isExternal?d(o).then((function(e){return e?(n=l(i,e),m(n.code),n.promise):u.resolve()})):(n=l(i,o),h||"loading"!==c.readyState?m(n.code):c.write&&!1===a.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):m(n.code),n.promise)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document"),r=n("../helpers/textMatch");e.exports=function(e){var t=a.location.hostname;return e.subdomains.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,n)}))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document"),r=/[|\\{}()[\]^$+*?.-]/g,i=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")};e.exports=function(e){var t=a.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+i(e)+"$","i"))}))}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document"),r=n("../helpers/textMatch");e.exports=function(e){var t=a.location.pathname;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,n)}))}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),a=e,r=0,i=n.length;r<i;r++){if(null==a)return;a=a[n[r]]}return a}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),r=n("@adobe/reactor-document"),i=-1!==a.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",u=[c,s,o],l=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};u.forEach((function(e){d[e]=[]}));var p=function(e,t){u.slice(0,g(e)+1).forEach((function(e){m(t,e)}))},f=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?i?null:s:void 0},g=function(e){return u.indexOf(e)},m=function(e,t){d[t].forEach((function(t){h(e,t)})),d[t]=[]},h=function(e,t){var n=t.trigger,a=t.syntheticEventFn;n(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=p.bind(null,c),r.addEventListener("DOMContentLoaded",p.bind(null,s),!0),a.addEventListener("load",p.bind(null,o),!0),a.setTimeout((function(){var e=f();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:l.bind(null,r)})},registerWindowLoadedTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:l.bind(null,a)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var a=n("./decorators/decorateGlobalJavaScriptCode"),r=n("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return e.settings.global?a(e,t):r(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),r=n("./getSourceByUrl"),i=a.resolve();e.exports=function(e){var t=new a((function(t){var n=r(e);a.all([n,i]).then((function(e){var n=e[0];t(n)}))}));return i=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,a;n=this,a=function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(n(1));e.exports=r.default},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(){}function o(){var e=g.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function a(e){e=n.beforeWrite(e),m.write(e),n.afterWrite(e)}(m=new l.default(e,n)).id=f++,m.name=n.name||m.id,c.streams[m.name]=m;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};u(r,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join("")+"\n")}});var d=m.win.onerror||i;return m.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),d.apply(m.win,[e,t,a])},m.write(t,(function(){u(r,s),m.win.onerror=d,n.done(),m=null,o()})),m}function c(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return g=[],m=null,void(f=0);n=d.defaults(n,p);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=i}},n.beforeEnqueue(a),g.push(a),m||o(),e.postscribe}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=c;var l=r(n(2)),d=a(n(4)),p={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw new Error(e.msg)},releaseAsync:!1},f=0,g=[],m=null;u(c,{streams:{},queue:g,WriteStream:l.default})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=p+t,a=e.getAttribute(n);return l.existy(a)?String(a):a}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=p+t;l.existy(n)&&""!==n?e.setAttribute(a,n):e.removeAttribute(a)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=r(n(3)),l=a(n(4)),d=!1,p="data-ps-",f="ps-style",g="ps-script",m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new u.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,a=void 0,r=[];(t=this.parser.readToken())&&!(n=l.isScript(t))&&!(a=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],a=[],r=[],i=e.length,o=0;o<i;o++){var s=e[o],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var u=t++;a.push(c.replace(/(\/?>)/," "+p+"id="+u+" $1")),s.attrs.id!==g&&s.attrs.id!==f&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+u+(s.unary?" />":">"))}}else a.push(c),r.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:a.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!o(e,"proxyof")){n&&(this.actuals[o(e,"id")]=e,s(e,"id"));var a=e.parentNode&&o(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,f),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),a=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,a?r:function(){t(),r()}));try{this._insertCursor(n,g),n.src&&!a||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function a(){n(),null!=t&&t(),t=null}function r(e){n(),o(e),null!=t&&t(),t=null}function i(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var o=this.options.error;i(e,"load"),i(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}a()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&a()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(n(1));e.exports=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=r(n(2)),s=r(n(3)),c=a(n(6)),u=n(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.stream=n;var r=!1,s={};for(var u in o)o.hasOwnProperty(u)&&(a.autoFix&&(s[u+"Fix"]=!0),r=r||s[u+"Fix"]);r?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,u.escapeQuotes)(e[n],null));return t},d.supports=o,o)o.hasOwnProperty(p)&&(d.browserHasFlaw=d.browserHasFlaw||!o[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,a=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=n=r.innerHTML!==i}catch(e){t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===r.childNodes.length}catch(e){t.selfClose=a=!1}r=null,t.tagSoup=n,t.selfClose=a},function(e,t,n){"use strict";function a(e){var t=e.indexOf("-->");if(t>=0)return new u.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new u.CharsToken(t>=0?t:e.length)}function i(e){var t,n,a;if(-1!==e.indexOf(">")){var r=e.match(l.startTag);if(r){var i=(t={},n={},a=r[2],r[2].replace(l.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(r)&&r||"":t[r]="",a=a.replace(e,"")})),{v:new u.StartTagToken(r[1],r[0].length,t,n,!!r[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===i?"undefined":c(i)))return i.v}}}function o(e){var t=i(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new u.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function s(e){var t=e.match(l.endTag);if(t)return new u.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=r,t.startTag=i,t.atomicTag=o,t.endTag=s;var u=n(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=n(5),i=(t.Token=function e(t,n){a(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){a(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){a(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,r,i,o){a(this,e),this.type=t,this.length=r,this.text="",this.tagName=n,this.attrs=i,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var a in e.attrs)if(e.attrs.hasOwnProperty(a)){n+=" "+a;var i=e.attrs[a];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[a]||(n+='="'+(0,r.escapeQuotes)(i)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,r,i,o,s){a(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return i.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,r,i,o){a(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return i.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){a(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function a(e,t){var a=e.stream,r=n(t());return e.stream=a,r}function r(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function i(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=a(e,o);t&&l[t.type]&&l[t.type](t)}var u=i(),l={startTag:function(n){var a=n.tagName;"TR"===a.toUpperCase()&&u.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(a)&&u.containsTagName(a)?u.lastTagNameEq(a)?r(e,u):(e.prepend("</"+n.tagName+">"),s()):n.unary||u.push(n)},endTag:function(n){u.last()?t.tagSoupFix&&!u.lastTagNameEq(n.tagName)?r(e,u):u.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),n(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function a(e){return"function"==typeof e}function r(e,t,n){var a=void 0,r=e&&e.length||0;for(a=0;a<r;a++)t.call(n,e[a],a)}function i(e,t,n){for(var a in e)e.hasOwnProperty(a)&&t.call(n,a,e[a])}function o(e,t){return e=e||{},i(t,(function(t,a){n(e[t])||(e[t]=a)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(n=[],r(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function u(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return u(e,"script")}function d(e){return u(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=a,t.each=r,t.eachKey=i,t.defaults=o,t.toArray=s,t.last=c,t.isTag=u,t.isScript=l,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():n.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document"),r=function(e){for(var t=a.querySelectorAll("script"),n=0;n<t.length;n++){var r=t[n];if(e.test(r.src))return r}},i=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:i,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var n="_runScript"+ ++r,i=new a((function(t,r){_satellite[n]=function(i){delete _satellite[n],new a((function(t){t(i.call(e.event.element,e.event,e.event.target,a))})).then(t,r)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:i}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-promise"),i=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},u=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return u(e)&&(t=a.replaceTokens(t,e.event)),s(t)?(n=new r((function(e,t){o[String(i)]={resolve:e,reject:t}})),t=c(t,i),i+=1):n=r.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-load-script"),r=n("@adobe/reactor-promise"),i=n("../../helpers/findPageScript").byRegexPattern,o={},s={},c=function(e){return s[e]||(s[e]=a(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var a=new RegExp(".*"+e+".*");n=i(a).getAttribute("src")}o[n]=t},e.exports=function(e){return o[e]?r.resolve(o[e]):new r((function(t){c(e).then((function(){t(o[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}}}}},company:{orgId:"BB3937CB5B349FE70A495EAE@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Bell Media Legacy Transformation",
settings:{domains:["ctv.ca","tsn.ca","rds.ca","ctvnews.ca","bnnbloomberg.ca","etalk.ca","watcheonline.ca","marilyn.ca","bellmedia.ca"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PReb20f200de784358ac9e9e0ca4cea4cf"},rules:[{id:"RL1b4cabde17994228b780359b59bb5a1c",name:"Permutive - Development Version",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*localhost.*",valueIsRegex:!0},{value:".*.int.bellmedia.ca*.*",valueIsRegex:!0},{value:"stg.etalk.bellmedia.ca"},{value:"stg.morectv.bellmedia.ca"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>\n  \t!function (n, e, o, r, i) {\n\t\t\tif (!e) {\n\t\t\t\te = e || {}, window.permutive = e, e.q = [], e.config = i || {}, e.config.projectId = o, e.config.apiKey = r, e.config.environment = e.config.environment || "production";\n\t\t\t\tfor (var t = ["addon", "identify", "track", "trigger", "query", "segment", "segments", "ready", "on", "once", "user", "consent"], c = 0; c < t.length; c++) {\n\t\t\t\t\tvar f = t[c];\n\t\t\t\t\te[f]  = function (n) {\n\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\tvar o = Array.prototype.slice.call(arguments, 0);\n\t\t\t\t\t\t\te.q.push({functionName: n, arguments: o})\n\t\t\t\t\t\t}\n\t\t\t\t\t}(f)\n\t\t\t\t}\n\t\t\t}\n\t\t}(document, window.permutive, "289d106c-df24-4cd9-a9fa-753e928c23ad", "b1a4360a-3db9-4b39-b09d-c3e14666840a", {});\n\t\twindow.googletag = window.googletag || {}, window.googletag.cmd = window.googletag.cmd || [], window.googletag.cmd.push(function () {\n\t\t\tif (0 === window.googletag.pubads().getTargeting("permutive").length) {\n\t\t\t\tvar g = window.localStorage.getItem("_pdfps");\n\t\t\t\twindow.googletag.pubads().setTargeting("permutive", g ? JSON.parse(g) : [])\n\t\t\t}\n\t\t}); \n</script>\n\n<script>   \n  var permutiveLoader = {\n    "setListeners": function setListeners() {\n      document.addEventListener("pageViewFired", permutiveLoader.pageView);\n    },\n    "pageView": function pageView() {\n      if (window.digitalData) {\n        permutive.addon("web", {\n          "page": {\n            "user_info": {\n              "authBDU": digitalData.user.authBDU,\n              "authStatus": digitalData.user.authStatus,\n              "userId": digitalData.user.userId,\n              "profileType": digitalData.user.profileType,\n              "subscriptionType": digitalData.user.subscriptionType,\n              "profileLanguage": digitalData.user.profileLanguage,\n              "playbackLanguage": digitalData.user.playbackLanguage\n            },\n            "product_info": {\n              "platform": digitalData.page.platform,\n              "productName": digitalData.page.siteName,\n              "environment": _satellite.buildInfo.environment\n            },\n            "page_info": {\n              "type": digitalData.page.type,\n              "siteSection": digitalData.page.siteSection,\n              "subsection1": digitalData.page.subsection1,\n              "subsection2": digitalData.page.subsection2,\n              "subsection3": digitalData.page.subsection3,\n              "subsection4": digitalData.page.subsection4,\n              "name": digitalData.page.name\n            }\n          }\n        });\n      } else {\n        permutive.addon("web", {});\n      }\n    }\n  };\n  \n  permutiveLoader.setListeners();\n</script>\n\n\n\n<script async src="https://cdn.permutive.com/289d106c-df24-4cd9-a9fa-753e928c23ad-web.js"></script>\n\n\n\n\n\n',language:"html"}}]},{id:"RL2d5f004264344f3cb5e53ab2c0c5f737",name:"DOM Ready - Fire Page View for AMP Webviews",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/653e7ca2fc48/14929d193258/ee3cfc96f3a9/RC2d6da016bf28471c8bc669fb84568d84-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL320c5a561d3e4bbd8f90fcd1db5bea12",name:"TSN Marketing Tags (All Pages, Page Top)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["tsn.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!-- Bing Universal Tag -->\n<script>\n    (function(w, d, t, r, u) {\n        var f, n, i;\n        w[u] = w[u] || [], f = function() {\n            var o = {\n                ti: "15327251"\n            };\n            o.q = w[u], w[u] = new UET(o), w[u].push("pageLoad")\n        }, n = d.createElement(t), n.src = r, n.async = 1, n.onload = n.onreadystatechange = function() {\n            var s = this.readyState;\n            s && s !== "loaded" && s !== "complete" || (f(), n.onload = n.onreadystatechange = null)\n        }, i = d.getElementsByTagName(t)[0], i.parentNode.insertBefore(n, i)\n    })(window, document, "script", "//bat.bing.com/bat.js", "uetq");\n</script>\n<!-- End Bing Universal Tag -->\n<!-- Global site tag (gtag.js) - DoubleClick -->\n<script async src="https://www.googletagmanager.com/gtag/js?id=DC-6169686"></script>\n<script>\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n        dataLayer.push(arguments);\n    }\n    gtag(\'js\', new Date());\n\n    gtag(\'config\', \'DC-6169686\');\n    gtag(\'config\', \'AW-722333678\');\n</script>\n<!-- End of global snippet: Please do not remove -->\n<!-- Global site tag (gtag.js) - Google AdWords: 803817420 -->\n<script async src="https://www.googletagmanager.com/gtag/js?id=AW-803817420"></script>\n<script>\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n        dataLayer.push(arguments);\n    }\n    gtag(\'js\', new Date());\n\n    gtag(\'config\', \'AW-803817420\');\n</script>',language:"html"}}]},{id:"RL3850b5deab5045a5b51c764a5e0f8d9a",name:"OneTrust/RDS",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rds.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript" src="https://cdn.cookielaw.org/consent/4a8ce248-3a92-4e12-99f7-e6fa2ae4c4e2/OtAutoBlock.js" ></script>\n<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="4a8ce248-3a92-4e12-99f7-e6fa2ae4c4e2" ></script>',language:"html"}}]},{id:"RL3fd20e366aff4ab3affe7e24784fa227",name:"TSN/Google/GA4",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["tsn.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Google tag (gtag.js) -->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=G-XKES17BMH6\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'G-XKES17BMH6');\n</script>",language:"html"}}]},{id:"RL407616afef3f46fd8e7da0907796067f",name:"Initialize _dataManager",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:49}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'window._dataManager = function() {\n    const brandAllowList = {\n        "crave": false,\n        "tsn": false,\n        "rds": false,\n        "ctv": false,\n        "ctvnews": false,\n        "ctv news": false,\n        "bravo": true,\n        "comedy": true,\n        "discovery": true,\n        "space": true,\n        "upfront": true,\n        "eonline": true,\n        "mtv": true,\n        "bnnb": false,\n        "cp24": true,\n        "ctvhub": false,\n        "noovo": false,\n        "etalk": false\n    };\n\n    let adobeEnabled = true;\n\n    var queuedEvents = [];\n\n    return {\n        init: function init(queryString) {\n            window._dataManager.initDataLayer();\n\n            window._dataManager.checkIframe(queryString);\n\n            window._dataManager.checkEnabled(window.digitalData);\n\n            window._dataManager.setRSID();\n\n            window._dataManager.setDefaultValues(window.digitalData);\n\n            window._dataManager.setMetadata();\n        },\n        initDataLayer: function initDataLayer() {\n            if (!window.digitalData) {\n                window.digitalData = {};\n            }\n            if (!window.digitalData.page) {\n                window.digitalData.page = {};\n            }\n            if (!window.digitalData.user) {\n                window.digitalData.user = {};\n            }\n            if (!window.digitalData.launch) {\n                window.digitalData.launch = {};\n            }\n        },\n        checkIframe: function checkIframe(queryString) {\n            var metadataVariables = ["siteName", "contentType", "siteSection", "subsection1", "subsection2", "subsection3", "subsection4", "subsection5", "preventDefault", "referrer"];\n            metadataVariables.forEach(function(element) {\n                var parameterValue = window._dataManager.getQueryStringParameterValue(element, queryString);\n\n                if (parameterValue) {\n                    window.digitalData.page[element] = window.digitalData.page[element] || parameterValue;\n                }\n            });\n        },\n        checkEnabled: (dataLayer) => {\n            let brand;\n            if (dataLayer && dataLayer.page && dataLayer.page.siteName) {\n                brand = String(dataLayer.page.siteName).toLowerCase();\n            }\n            if (brandAllowList[brand] === false) {\n                adobeEnabled = false;\n            }\n            if (brandAllowList[brand] === undefined && document.domain && document.domain.includes(\'ctvnews.ca\')) {\n                adobeEnabled = false;\n            }\n        },\n        setDefaultValues: function setDefaultValues(dataLayer) {\n            dataLayer.page = dataLayer.page || {};\n            dataLayer.page.siteName = dataLayer.page.siteName || "default";\n            if (!dataLayer.page.productName) {\n                dataLayer.page.productName = dataLayer.page.siteName;\n            }\n            dataLayer.page.type = dataLayer.page.type || "other";\n            dataLayer.user = dataLayer.user || {};\n            dataLayer.user.authStatus = dataLayer.user.authStatus || "anonymous";\n\n            if (!dataLayer.page.siteSection && (dataLayer.page.siteName === "ctvnews" || dataLayer.page.siteName === "cp24")) {\n                if (dataLayer.page.contentType.includes("webview") || dataLayer.page.contentType.includes("amp")) {\n                    dataLayer.page.siteSection = (dataLayer.page.marketName || dataLayer.page.type).toLowerCase();\n                }\n            }\n\n        },\n        populateRSID: function populateRSID(originalSiteName) {\n            const siteName = String(originalSiteName).toLowerCase();\n            const brands = Object.keys(brandAllowList);\n            let sitePart = "global";\n            let rsid;\n\n            const dualSuiteBrands = [\n                "bnnb"\n            ];\n\n            const globalBrands = [\n                "news",\n                "cp24"\n            ];\n\n            if (brands.includes(siteName)) {\n                if (siteName === "ctvnews" || siteName === "ctv news") {\n                    sitePart = "news";\n                } else if (siteName === "upfront") {\n                    sitePart = "internal";\n                } else if (siteName === "ctvhub") {\n                    sitePart = "ctvsuperhub";\n                } else {\n                    sitePart = siteName;\n                }\n            }\n\n            if (window._satellite.environment.stage === "development" || window._satellite.environment.stage === "staging") {\n                rsid = "bellmedia" + sitePart + "dev";\n            } else if (window._satellite.environment.stage === "production") {\n                rsid = "bellmedia" + sitePart + "prod";\n\n                if (dualSuiteBrands.includes(sitePart)) {\n                    rsid = `bellmedia${sitePart}prod,bellmediaglobalprod`;\n                }\n\n                if (globalBrands.includes(sitePart)) {\n                    rsid = "bellmediaglobalprod";\n                }\n            }\n            return rsid;\n        },\n        setRSID: function setRSID() {\n            var rsid = window._dataManager.populateRSID(window.digitalData.page.siteName);\n\n            if (window.s) {\n                s.setAccount(rsid);\n            }\n        },\n        setPageName: function setPageName(dataLayer) {\n            const page = dataLayer.page;\n\n            if (!page.siteName || typeof(page.siteName) !== "string") {\n                console.warn("digitalData: siteName is invalid");\n                return false;\n            }\n\n            const siteName = page.siteName.toLowerCase();\n            let pageName = siteName;\n\n            if (page.siteSection && typeof(page.siteSection) === "string") {\n                pageName += ":" + page.siteSection.toLowerCase();\n            }\n\n            for (var i = 1; i < 6; i++) {\n                if (page["subsection" + i]) {\n                    pageName += ":" + page["subsection" + i].toLowerCase();\n                } else {\n                    break;\n                }\n            }\n\n            if (siteName === "ctvnews" || siteName === "cp24" || siteName === "bnnb") {\n                if (page.type && page.type === "story") {\n                    pageName += ":" + page.type;\n                    pageName += ":" + window._dataManager.setArticleSegment(document.URL);\n                }\n            }\n\n            return pageName;\n        },\n        populatePageName: function populatePageName(pageName) {\n            if (digitalData && digitalData.page) {\n                digitalData.page.pageName = _dataManager.setPageName(pageName);\n            }\n        },\n        setArticleSegment: function(address) {\n            const regex = new RegExp(/[^\\/]+(?=\\/$|$)/);\n            const articleSegment = address.match(regex)[0];\n\n            return articleSegment;\n        },\n        setMetadata: function setMetadata() {\n            digitalData.page.platform = digitalData.page.platform || "web";\n            digitalData.page.contentType = digitalData.page.contentType || "web page";\n            window._dataManager.populatePageName(window.digitalData);\n            var d = new Date(),\n                hours = d.getHours(),\n                ampm = "am",\n                days = ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"];\n\n            if (hours > 12) {\n                hours -= 12;\n                ampm = "pm";\n            }\n\n            digitalData.page.currentDate = d.getFullYear() + "-" + (d.getMonth() < 9 ? "0" : "") + (d.getMonth() + 1) + "-" + (d.getDate() < 10 ? "0" : "") + d.getDate();\n            digitalData.page.dayParts = days[d.getDay()] + " " + (hours < 10 ? "0" : "") + hours + ":" + (d.getMinutes() < 10 ? "0" : "") + d.getMinutes() + " " + ampm;\n        },\n        bindEventHandlers: function bindEventHandlers() {\n            var events = [\n                "authInfoClicked",\n                "authSignInClicked",\n                "BDULogin",\n                "BDULogout",\n                "digitalDataLoaded",\n                "liveStreamShowView",\n                "trackAudioStream",\n                "trackCorporateLink",\n                "trackD2C",\n                "trackD2CExternal",\n                "trackLogin",\n                "trackLogout",\n                "trackPersistentPlayer",\n                "trackRelatedIndex",\n                "trackSocial",\n                "vhTrackRelatedVideo",\n                "vhTrackSearchKeyword",\n                "vhTrackZoneAndItem",\n            ];\n\n            for (var i = 0; i < events.length; i++) {\n                document.addEventListener(events[i], function(e) {\n                    window._dataManager.console("!!!LAUNCH LOGGED EVENT: " + e.type);\n\n                    window._dataManager.console(e.detail);\n\n                    var eType = "pageEvent";\n                    var eName;\n\n                    switch (e.type) {\n                        case "authInfoClicked":\n                            eName = "auth info clicked";\n                            break;\n\n                        case "authSignInClicked":\n                            eName = "auth sign in clicked";\n                            break;\n\n                        case "BDULogin":\n                            eName = "BDU login";\n                            break;\n\n                        case "BDULogout":\n                            eName = "BDU logout";\n                            break;\n\n                        case "digitalDataLoaded":\n                            _dataManager.init();\n                            digitalData.pageLoaded = true;\n                            eName = "page view";\n                            eType = "pageView";\n                            break;\n\n                        case "liveStreamShowView":\n                            eName = "live stream show view";\n                            break;\n\n                        case "trackAudioStream":\n                            eName = "track audio stream";\n                            break;\n\n                        case "trackCorporateLink":\n                            eName = "track corporate link";\n                            break;\n\n                        case "trackD2C":\n                            eName = "track d2c";\n                            break;\n\n                        case "trackD2CExternal":\n                            eName = "track d2c external";\n                            break;\n\n                        case "trackLogin":\n                            eName = "track login";\n                            break;\n\n                        case "trackLogout":\n                            eName = "track logout";\n                            break;\n\n                        case "trackPersistentPlayer":\n                            eName = "track persistent player";\n                            break;\n\n                        case "trackRelatedIndex":\n                            eName = "track related index";\n                            break;\n\n                        case "trackSocial":\n                            eName = "track social";\n                            break;\n\n                        case "vhTrackRelatedVideo":\n                            eName = "vh track related video";\n                            break;\n\n                        case "vhTrackSearchKeyword":\n                            eName = "vh track search keyword";\n                            break;\n\n                        case "vhTrackZoneAndItem":\n                            eName = "vh track zone and item";\n                            break;\n                    }\n\n                    if (eType) {\n                        window._dataManager.populatePageName(window.digitalData);\n                        window._dataManager.convertUserData(window.digitalData.user);\n                        const token = _dataManager.utils.getCookie("access");\n                        window._dataManager.getUMAuthState(token, window.digitalData.user);\n\n                        if (eType === "pageView" && window.digitalData.page.preventDefault) {\n                            window._dataManager.console("preventDefault is true; skipping pageView!");\n                        } else {\n                            var eDetail = e.detail || {};\n                            eDetail.name = eName;\n                            window._dataManager.satelliteTrack(eType, eDetail);\n                        }\n                    }\n                });\n            }\n        },\n        console: (message) => {\n            if (_satellite.environment.stage !== "production") {\n                console.log(message);\n            }\n        },\n        satelliteTrack: function satelliteTrack(eventType, eventDetails) {\n            if (adobeEnabled) {\n                if (!_satellite.track || !digitalData.pageLoaded) {\n                    queuedEvents.push({\n                        type: eventType,\n                        details: eventDetails\n                    });\n\n                    window._dataManager.console("satelliteTrack: _satellite.track is not ready - queueing event");\n\n                    return false;\n                }\n\n                if (queuedEvents.length > 0) {\n                    queuedEvents.forEach(function(element) {\n                        _satellite.track(element.type, element.details);\n                    });\n                    queuedEvents = [];\n                }\n\n                _satellite.track(eventType, eventDetails);\n            }\n        },\n        getQueryStringParameterValue: function getQueryStringParameterValue(parameterName, queryString) {\n            if (typeof parameterName !== "string") {\n                window._dataManager.console("_dataManager - getQueryStringParameterValue: invalid parameterName");\n\n                return false;\n            }\n\n            if (typeof queryString === "undefined") {\n                queryString = window.document.URL;\n            }\n\n            var regexTest = new RegExp(parameterName + "=([^&\\\\s]*)");\n            var parameterValue = queryString.match(regexTest);\n\n            if (parameterValue === null) {\n                window._dataManager.console("_dataManager - getQueryStringParameterValue: parameter does not exist");\n\n                return null;\n            } else {\n                return parameterValue[1];\n            }\n        },\n        convertUserData: (userData) => {\n            const userMap = {\n                authenticationStatus: "authStatus",\n                authenticationUserId: "userId",\n                bdu: "authBDU"\n            };\n\n            const properties = Object.keys(userMap);\n            properties.forEach((property) => {\n                if (userData[property]) {\n                    const newProperty = userMap[property];\n                    userData[newProperty] = userData[property];\n                    delete userData[property];\n                }\n            });\n\n            return userData;\n        },\n        getUMAuthState: (accessToken, userData) => {\n            try {\n                const parsedToken = _dataManager.utils.parseJwt(accessToken);\n                if (typeof(parsedToken) === "object") {\n                    const authBDU = parsedToken.bdu_provider;\n                    const userId = parsedToken.account_id;\n                    const profileId = parsedToken.profile_id;\n                    userData.authStatus = "logged in";\n                    userData.authBDU = authBDU ? authBDU : "site membership";\n                    if (profileId && userId) {\n                        userData.userId = userId + "|" + profileId;\n                    } else if (userId) {\n                        userData.userId = userId;\n                    }\n                }\n            } catch (error) {\n                _dataManager.console("getUMAuthState: " + error);\n            }\n        },\n        utils: {\n            getCookie: (name) => {\n                const value = `; ${document.cookie}`;\n                const parts = value.split(`; ${name}=`);\n                if (parts.length === 2) {\n                    return parts.pop().split(";").shift();\n                }\n            },\n            parseJwt: (token) => {\n                const base64Url = token.split(".")[1];\n                const base64 = base64Url.replace(/-/g, "+").replace(/_/g, "/");\n                const jsonPayload = decodeURIComponent(atob(base64).split("").map(function(c) {\n                    return "%" + ("00" + c.charCodeAt(0).toString(16)).slice(-2);\n                }).join(""));\n\n                return JSON.parse(jsonPayload);\n            },\n            returnAdobeState: () => {\n                return adobeEnabled;\n            },\n            resetEnabled: () => {\n                adobeEnabled = true;\n            }\n        }\n    };\n}();\n\n_dataManager.bindEventHandlers();',language:"javascript"}}]},{id:"RL430655597427424983af8a119befae28",name:"OneTrust/Banner/Styles",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rds.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n  #onetrust-pc-sdk .ot-pc-footer-logo {\n    display:none;\n  }\n</style>",language:"html"}}]},{id:"RL4bf136c1ad8b45438a2164bcad483eea",name:"RDS Marketing Tags (All Pages, Page Bottom)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rds.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Facebook Pixel Code -->\n<script>\n    ! function(f, b, e, v, n, t, s) {\n        if (f.fbq) return;\n        n = f.fbq = function() {\n            n.callMethod ?\n                n.callMethod.apply(n, arguments) : n.queue.push(arguments)\n        };\n        if (!f._fbq) f._fbq = n;\n        n.push = n;\n        n.loaded = !0;\n        n.version = '2.0';\n        n.queue = [];\n        t = b.createElement(e);\n        t.async = !0;\n        t.src = v;\n        s = b.getElementsByTagName(e)[0];\n        s.parentNode.insertBefore(t, s)\n    }(window, document, 'script',\n        'https://connect.facebook.net/en_US/fbevents.js');\n    fbq('init', '1155560281214305');\n    fbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=1155560281214305&ev=PageView&noscript=1\" /></noscript>\n<!-- End Facebook Pixel Code -->\n<!-- Twitter universal website tag code -->\n<script>\n    ! function(e, t, n, s, u, a) {\n        e.twq || (s = e.twq = function() {\n                s.exe ? s.exe.apply(s, arguments) : s.queue.push(arguments);\n            }, s.version = '1.1', s.queue = [], u = t.createElement(n), u.async = !0, u.src = '//static.ads-twitter.com/uwt.js',\n            a = t.getElementsByTagName(n)[0], a.parentNode.insertBefore(u, a))\n    }(window, document, 'script');\n    // Insert Twitter Pixel ID and Standard Event data below\n    twq('init', 'nzl60');\n    twq('track', 'PageView');\n</script>\n<!-- End Twitter universal website tag code -->",language:"html"}}]},{id:"RL68d4f8e6752746899a85456526d880ac",name:"OneTrust/MoreCTV",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:44}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["ctv.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="fa55faa9-d0bb-452c-a36d-3cc3dcfa0814" ></script>',language:"html"}}]},{id:"RL6fb29a4a79204cc4847970b5d2392354",name:"OneTrust/WatchEOnline",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:44}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["watcheonline.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="2c147f1d-b38a-469b-b437-17a18e6a4194"></script>',language:"html"}}]},{id:"RL95cd6d9722464aa38a7ef8a970718b9f",name:"Montreal Sales Ad Tracking (head)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"contact-our-sales-team-1\\.1978881",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Google Tag Manager -->\n<script>\n    (function(w, d, s, l, i) {\n        w[l] = w[l] || [];\n        w[l].push({\n            'gtm.start': new Date().getTime(),\n            event: 'gtm.js'\n        });\n        var f = d.getElementsByTagName(s)[0],\n            j = d.createElement(s),\n            dl = l != 'dataLayer' ? '&l=' + l : '';\n        j.async = true;\n        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n        f.parentNode.insertBefore(j, f);\n    })(window, document, 'script', 'dataLayer', 'GTM-Z9BZRST');\n</script><!-- End Google Tag Manager -->\n<script>\n    gtag('config', 'AW-743098926/w_cgCK31qaUBEK6Uq-IC', {\n        'phone_conversion_number': '514-529-3283'\n    });\n</script>",language:"html"}}]},{id:"RLb5bfaee80248472e81da2b65655f9d17",name:"DOM Ready - Fire Page View for Vidi Testing",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/653e7ca2fc48/14929d193258/ee3cfc96f3a9/RCe714d7b84ce14ee0a28df675bbd5cf5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc02fec0cca9e4106a1f520ce40b284e7",name:"RDS Marketing Tags (All Pages, Page Top)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rds.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>\n    (function(w, d, t, r, u) {\n        var f, n, i;\n        w[u] = w[u] || [], f = function() {\n            var o = {\n                ti: "20257082"\n            };\n            o.q = w[u], w[u] = new UET(o), w[u].push("pageLoad")\n        }, n = d.createElement(t), n.src = r, n.async = 1, n.onload = n.onreadystatechange = function() {\n            var s = this.readyState;\n            s && s !== "loaded" && s !== "complete" || (f(), n.onload = n.onreadystatechange = null)\n        }, i = d.getElementsByTagName(t)[0], i.parentNode.insertBefore(n, i)\n    })(window, document, "script", "//bat.bing.com/bat.js", "uetq");\n</script>\n<!-- Global site tag (gtag.js) - Google Ads: 867221177 -->\n<script async src="https://www.googletagmanager.com/gtag/js?id=AW-867221177"></script>\n<script>\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n        dataLayer.push(arguments);\n    }\n    gtag(\'js\', new Date());\n\n    gtag(\'config\', \'AW-867221177\');\n</script>\n<!-- \nStart of global snippet: Please do not remove\nPlace this snippet between the <head> and </head> tags on every page of your site.\n-->\n<!-- Global site tag (gtag.js) - Google Marketing Platform -->\n<script async src="https://www.googletagmanager.com/gtag/js?id=DC-9488296"></script>\n<script>\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n        dataLayer.push(arguments);\n    }\n    gtag(\'js\', new Date());\n\n    gtag(\'config\', \'DC-9488296\');\n</script>\n<!-- End of global snippet: Please do not remove -->',language:"html"}}]},{id:"RLceb25f2836134ad9a9b3499a18818baf",name:"Optimizely/RDS/Staging",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rds.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://cdn.optimizely.com/js/18415421355.js"></script>',language:"html"}}]},{id:"RLced2dbc41d5b43fa97309deb387489a2",name:"TSN Marketing Tags (All Pages, Page Bottom)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["tsn.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"<!-- Facebook Pixel Code -->\n<script>\n    ! function(f, b, e, v, n, t, s) {\n        if (f.fbq) return;\n        n = f.fbq = function() {\n            n.callMethod ?\n                n.callMethod.apply(n, arguments) : n.queue.push(arguments)\n        };\n        if (!f._fbq) f._fbq = n;\n        n.push = n;\n        n.loaded = !0;\n        n.version = '2.0';\n        n.queue = [];\n        t = b.createElement(e);\n        t.async = !0;\n        t.src = v;\n        s = b.getElementsByTagName(e)[0];\n        s.parentNode.insertBefore(t, s)\n    }(window, document, 'script',\n        'https://connect.facebook.net/en_US/fbevents.js');\n    fbq('init', '299109537292123');\n    fbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=299109537292123&ev=PageView&noscript=1\" /></noscript>\n<!-- End Facebook Pixel Code -->\n<!-- Snap Pixel Code -->\n<script type='text/javascript'>\n    (function(e, t, n) {\n        if (e.snaptr) return;\n        var a = e.snaptr = function() {\n            a.handleRequest ? a.handleRequest.apply(a, arguments) : a.queue.push(arguments)\n        };\n        a.queue = [];\n        var s = 'script';\n        r = t.createElement(s);\n        r.async = !0;\n        r.src = n;\n        var u = t.getElementsByTagName(s)[0];\n        u.parentNode.insertBefore(r, u);\n    })(window, document, 'https://sc-static.net/scevent.min.js');\n    snaptr('init', 'b554d2d1-8a72-4ff5-92fa-75a2ca5cea8f');\n    snaptr('track', 'PAGE_VIEW');\n</script>\n<!-- End Snap Pixel Code -->\n<!-- Twitter universal website tag code -->\n<script>\n    ! function(e, t, n, s, u, a) {\n        e.twq || (s = e.twq = function() {\n                s.exe ? s.exe.apply(s, arguments) : s.queue.push(arguments);\n            }, s.version = '1.1', s.queue = [], u = t.createElement(n), u.async = !0, u.src = '//static.ads-twitter.com/uwt.js',\n            a = t.getElementsByTagName(n)[0], a.parentNode.insertBefore(u, a))\n    }(window, document, 'script');\n    twq('init', 'nzkmw');\n    twq('track', 'PageView');\n</script>\n<!-- End Twitter universal website tag code -->",language:"html"}}]},{id:"RLd1024f4388004ac580b9eb4f7274a378",name:"OneTrust/TCFManager",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:46}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["noovomoi.ca","etalk.ca","ctv.ca","watcheonline.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>\n    class TCFManager {\n        configuration() {\n            let _environment = _satellite.buildInfo.environment\n            return {\n                "regions": {\n                    "gdpr": [\n                        "AT",\n                        "BE",\n                        "BG",\n                        "CY",\n                        "DE",\n                        "DK",\n                        "EE",\n                        "ES",\n                        "FI",\n                        "FR",\n                        "GB",\n                        "GR",\n                        "HR",\n                        "HU",\n                        "IE",\n                        "IS",\n                        "IT",\n                        "LI",\n                        "LT",\n                        "LU",\n                        "LV",\n                        "MT",\n                        "NL",\n                        "NO",\n                        "PL",\n                        "PT",\n                        "RO",\n                        "SE",\n                        "SI",\n                        "SK"\n                    ],\n                    "ccpa": {\n                        "country": "US",\n                        "state": "CA"\n                    }\n                },\n                "permutive": {\n                    "url": "https://cdn.permutive.com",\n                    "guid": "289d106c-df24-4cd9-a9fa-753e928c23ad",\n                },\n                "token": {\n                    "title": "consent_granted"\n                },       \n                "logging": (_environment !== "staging")\n            }\n        }\n\n        log(message) {\n            this.configuration().logging && console.info(`[BMAE]: -> ${message}...`)\n        }\n\n        createDMP() {\n            const tag = {\n                reference: document.createElement(\'script\'),\n                source: `${this.configuration().permutive.url}/${this.configuration().permutive.guid}-web.js`,\n                asyncMode: true\n            }\n            const DOM = {\n                head: document.getElementsByTagName(\'head\')[0],\n                initialScriptTag: document.getElementsByTagName(\'script\') [0]\n            }\n\n            tag.reference.src   = tag.source\n            tag.reference.async = tag.asyncMode;\n\n            this.log("Permutive script reference inserted")\n            DOM.head.insertAdjacentElement(\'beforeend\', tag.reference)\n        }\n      \n        \n\n        isRegulated(obj) {\n            const GDPR           = this.configuration().regions.gdpr\n            const CCPA           = this.configuration().regions.ccpa\n            const currentCountry = obj.getGeolocationData().country\n            const currentState   = obj.getGeolocationData().state\n\n            if (GDPR.includes(currentCountry)) return true\n            if (CCPA.country === currentCountry) {\n                if (CCPA.state === currentState) return true\n            }\n\n            return false\n        }\n\n        cookieMap(obj, splitter = "; ") {\n            return Object.fromEntries(obj.split(splitter).map(c => {\n                const [key, ...v] = c.split(\'=\');\n                return [key, v.join(\'=\')];\n            }));\n        }\n\n        getCookie(name) {\n            const cookies = document.cookie.split(\';\')\n                .reduce((acc, cookieString) => {\n                    const [key, value] = cookieString.split(\'=\').map(s => s.trim());\n                    if (key && value) {\n                        acc[key] = decodeURIComponent(value);\n                    }\n                    return acc;\n                }, {});\n            return name ? cookies[name] || \'\' : cookies;\n        }\n\n        createCookie(name, value) {\n            document.cookie = `${name}=${value};expires=Sun, 1 Dec 2099 23:59:59 GMT`\n        }\n    }\n</script>\n',language:"html"}}]},{id:"RLdee3f13a4d6f4363b1d5167945002673",name:"OneTrust/Permutive",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["noovomoi.ca","etalk.ca","ctv.ca","watcheonline.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/653e7ca2fc48/14929d193258/ee3cfc96f3a9/RC51d7f5e6561744eab21f3c91f8d85b92-source.min.js",language:"html",isExternal:!0}}]},{id:"RLe69fb304c23345cc8ff4b3d804f88c16",name:"OneTrust/Etalk",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:44}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["etalk.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="02252cc3-b89b-49b9-817c-03aff56c3b5c" ></script>',language:"html"}}]},{id:"RLe81639699d7f461dbddb2fd2e576824f",name:"Optimizely/TSN/Staging",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["tsn.ca"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://cdn.optimizely.com/js/18451350226.js"></script>',language:"html"}}]},{id:"RLe981ea446dde43cea967a54a2216afed",name:"Analytics Setup for VIDI Testing",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"vidi-player\\/.*\\..*\\..*\\/examples\\/test\\-full\\/",valueIsRegex:!0},{value:"vidi-player\\/.*\\..*\\..*\\/examples\\/test\\-permutive\\/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'var URLparams = window.document.URL.split("/");\n\nwindow.digitalData = {\n    page: {\n        siteName: "vidiplayer",\n        contentType: "testing-page",\n        siteSection: URLparams[3],\n        subsection1: URLparams[4],\n        subsection2: URLparams[5],\n        subsection3: URLparams[6],\n        platform: "web"\n    },\n    user: {\n        authStatus: "anonymous"\n    }\n}\n\nwindow._dataManager.populatePageName(window.digitalData);',language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>  !function(n,e,o,r,i){if(!e){e=e||{},window.permutive=e,e.q=[],e.config=i||{},e.config.projectId=o,e.config.apiKey=r,e.config.environment=e.config.environment||"production";for(var t=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],c=0;c<t.length;c++){var f=t[c];e[f]=function(n){return function(){var o=Array.prototype.slice.call(arguments,0);e.q.push({functionName:n,arguments:o})}}(f)}}}(document,window.permutive,"289d106c-df24-4cd9-a9fa-753e928c23ad","b1a4360a-3db9-4b39-b09d-c3e14666840a",{}); \nwindow.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){if(0===window.googletag.pubads().getTargeting("permutive").length){var g=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",g?JSON.parse(g):[])}}); \n \npermutive.addon(\'web\', {\n    "page": {\n        "user_info": {\n            "authStatus": digitalData.user.authStatus\n        },\n        "product_info": {\n            "platform": digitalData.page.platform,\n            "productName": digitalData.page.siteName,\n            "environment": _satellite.buildInfo.environment\n        },\n        "page_info": {\n            "type": digitalData.page.contentType,\n            "siteSection": digitalData.page.siteSection,\n            "subsection1": digitalData.page.subsection1,\n            "subsection2": digitalData.page.subsection2,\n            "subsection3": digitalData.page.subsection3,\n            "name": digitalData.page.name\n        }\n    }\n})\n</script>\n<script async src="https://cdn.permutive.com/289d106c-df24-4cd9-a9fa-753e928c23ad-web.js"></script>',language:"html"}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})})),t}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function r(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function i(e){return Boolean(e&&void 0!==e.length)}function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void d(t.promise,e)}l(t.promise,a)}else(1===e._state?l:d)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void g(s(n,t),e)}e._state=1,e._value=t,p(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}function m(e){return!0===qe(e)&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function y(e){return e.substr(0,e.indexOf("["))}function v(e,t,n){if(e.length&&Ue(t)){var a=e[0];if(1!==e.length){var r=e.slice(1);if(!b(a))return v(r,t[a],n);var i=t[a=y(a)];Array.isArray(i)&&i.forEach((function(e){return v(r,e,n)}))}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var w=document,T=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=t()?Object.assign:function(t){for(var n,a,r=e(t),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))j.call(n,o)&&(r[o]=n[o]);if(T){a=T(n);for(var s=0;s<a.length;s++)x.call(n,a[s])&&(r[a[s]]=n[a[s]])}}return r},k=E,P=window,S=function(e,t,n,a){var r,i=Boolean(t&&Array.isArray(n)),o=Boolean(i&&e),s=document.createElement("a");if(i){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=P.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var u=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw u.code="dynamic_host_not_allowed",u}}var l=function(){if(null!=r)return r;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},d=function(e){return o&&"string"==typeof e?[l(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},p={getTurbineHost:l,decorateWithDynamicHost:d,get isDynamicEnforced(){return i}};return P&&a.onDebugChanged((function(e){e?P.dynamicHostResolver=p:delete P.dynamicHostResolver})),p},D=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},_="debug",L=function(e,t){var n=function(){return"true"===e.getItem(_)},a=function(t){e.setItem(_,t)},r=[],i=function(e){r.push(e)};return t.outputEnabled=n(),{onDebugChanged:i,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(a(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},N="Module did not export a function.",C=function(e,t,n){return function(a,r,i){i=i||[];var o=e.getModuleExports(a.modulePath);if("function"!=typeof o)throw new Error(N);var s=e.getModuleDefinition(a.modulePath),c=a.settings||{};!a.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var u=t(c,r);return o.bind(null,u).apply(null,i)}},O=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},A={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},I="\ud83d\ude80",R=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":I,M=!1,V=function(e){if(M&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(R),e!==A.DEBUG||window.console[e]||(e=A.INFO),window.console[e].apply(window.console,t)}},B=V.bind(null,A.LOG),q=V.bind(null,A.INFO),U=V.bind(null,A.DEBUG),F=V.bind(null,A.WARN),G=V.bind(null,A.ERROR),H=function(){var e=M;M=!0,V.apply(null,Array.prototype.concat(A.WARN,Array.prototype.slice.call(arguments))),e||(M=!1)},$={log:B,info:q,debug:U,warn:F,error:G,deprecation:H,get outputEnabled(){return M},set outputEnabled(e){M=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:B.bind(null,t),info:q.bind(null,t),debug:U.bind(null,t),warn:F.bind(null,t),error:G.bind(null,t)}}},W="com.adobe.reactor.",z=function(e,t){var n=W+(t||"");return{getItem:function(t){try{return P[e].getItem(n+t)}catch(e){return null}},setItem:function(t,a){try{return P[e].setItem(n+t,a),!0}catch(e){return!1}}}},K="dataElements.",Q=z("sessionStorage",K),J=z("localStorage",K),Z={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},Y={},X=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,n){var a;switch(t){case Z.PAGEVIEW:return void(Y[e]=n);case Z.SESSION:return void((a=X(n))&&Q.setItem(e,a));case Z.VISITOR:return void((a=X(n))&&J.setItem(e,a))}},getValue:function(e,t){var n;switch(t){case Z.PAGEVIEW:return Y.hasOwnProperty(e)?Y[e]:null;case Z.SESSION:return null===(n=Q.getItem(e))?n:JSON.parse(n);case Z.VISITOR:return null===(n=J.getItem(e))?n:JSON.parse(n)}}},te=function(e,t,n,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(a?"\n"+a:"")},ne=function(e,t,n,a,r){return function(i,o){var s=t(i);if(!s)return a?"":void 0;var c,u,l=s.storageDuration;try{c=e.getModuleExports(s.modulePath),u=e.getModuleDefinition(s.modulePath)}catch(e){return void $.error(te(s,i,e.message,e.stack))}if("function"==typeof c){var d,p=s.settings||{};!s.hasTransformedFilePaths&&u.filePaths&&(r(p,u.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(p,o),o)}catch(e){return void $.error(te(s,i,e.message,e.stack))}return l&&(null!=d?ee.setValue(i,l,d):d=ee.getValue(i,l)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=O(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}$.error(te(s,i,"Module did not export a function."))}},ae={text:function(e){return e.textContent},cleanText:function(e){return O(e.textContent)}},re=function(e,t,n){for(var a,r=e,i=0,o=t.length;i<o;i++){if(null==r)return;var s=t[i];if(n&&"@"===s.charAt(0)){var c=s.slice(1);r=ae[c](r)}else if(r.getAttribute&&(a=s.match(/^getAttribute\((.+)\)$/))){var u=a[1];r=r.getAttribute(u)}else r=r[s]}return r},ie=function(e,t,n){return function(a,r){var i;if(t(a))i=n(a,r);else{var o=a.split("."),s=o.shift();"this"===s?r&&(i=re(r.element,o,!0)):"event"===s?r&&(i=re(r,o)):"target"===s?r&&(i=re(r.target,o)):i=re(e[s],o)}return i}},oe=function(e,t){return function(n){var a=n.split(".")[0];return Boolean(t(n)||"this"===a||"event"===a||"target"===a||e.hasOwnProperty(a))}},se=function(e,t,n){var a={exports:{}};return e.call(a.exports,a,a.exports,t,n),a.exports},ce=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{a(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");$.error(t)}}))},a=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=se(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,a,r,i){var o={definition:n,extensionName:a,require:r,turbine:i};o.require=r,e[t]=o},hydrateCache:n,getModuleExports:a,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ue=!1,le=function(e){return function(t,n){var a=e._monitors;a&&(ue||($.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ue=!0),a.forEach((function(e){e[t]&&e[t](n)})))}},de=function(e,t,n){var a,r,i,o,s=[],c=function(a,r,i){if(!e(r))return a;s.push(r);var o=t(r,i);return s.pop(),null==o&&n?"":o};return a=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},r=function(e,t){for(var n={},a=Object.keys(e),r=0;r<a.length;r++){var i=a[r],s=e[i];n[i]=o(s,t)}return n},i=function(e,t){for(var n=[],a=0,r=e.length;a<r;a++)n.push(o(e[a],t));return n},o=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?($.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},pe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(o);return u(this,new f(e,t,n)),n},c.prototype.finally=r,c.all=function(e){return new c((function(t,n){function a(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){a(e,t)}),n)}r[e]=i,0==--o&&t(r)}catch(e){n(e)}}if(!i(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var o=r.length,s=0;s<r.length;s++)a(s,r[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var a=0,r=e.length;a<r;a++)c.resolve(e[a]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ge(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var me=n(Object.freeze({__proto__:null,default:c})),he="undefined"!=typeof window&&window.Promise||void 0!==fe&&fe.Promise||me.default||me,be=function(e,t,n){return function(a,r,i,o){return o.then((function(){var o,s=a.delayNext;return new he((function(t,n){var r=e(a,i,[i]);if(!s)return t();var c=a.timeout,u=new he((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));he.race([r,u]).then(t,n)})).catch((function(e){return clearTimeout(o),e=t(e),n(a,r,e),he.reject(e)})).then((function(){clearTimeout(o)}))}))}},ye=function(e,t,n,a,r){return function(i,o,s,c){return c.then((function(){var c;return new he((function(t,n){var a=e(i,s,[s]),r=i.timeout,o=new he((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));he.race([a,o]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),a(i,o,e),he.reject(e)})).then((function(e){if(clearTimeout(c),!n(i,e))return r(i,o),he.reject()}))}))}},ve=he.resolve(),we=function(e,t,n){return function(a,r){return a.conditions&&a.conditions.forEach((function(t){ve=e(t,a,r,ve)})),a.actions&&a.actions.forEach((function(e){ve=t(e,a,r,ve)})),ve=(ve=ve.then((function(){n(a)}))).catch((function(){}))}},Te=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},je=function(e,t,n,a){return function(r,i){var o;if(r.conditions)for(var s=0;s<r.conditions.length;s++){o=r.conditions[s];try{var c=e(o,i,[i]);if(Te(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,c))return n(o,r),!1}catch(e){return a(o,r,e),!1}}return!0}},xe=function(e,t){return function(n,a){e(n,a)&&t(n,a)}},Ee=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},ke=function(e){return function(t){var n=t.rule,a=t.event,r=e.getModuleDefinition(a.modulePath).name;return{$type:e.getModuleExtensionName(a.modulePath)+"."+r,$rule:{id:n.id,name:n.name}}}},Pe=function(e,t,n,a,r,i){return function(o,s){var c=s.rule,u=s.event;u.settings=u.settings||{};try{var l=r(s);t(u,null,[function(t){var a=n(l,t);o((function(){e(a,c)}))}])}catch(e){i.error(a(u,c,e))}}},Se=function(e,t,n,a){return function(r,i,o){var s=t(r);n.error(e(s,i.name,o)),a("ruleActionFailed",{rule:i,action:r})}},De=function(e,t,n,a){return function(r,i,o){var s=t(r);n.error(e(s,i.name,o)),a("ruleConditionFailed",{rule:i,condition:r})}},_e=function(e,t,n){return function(a,r){var i=e(a);t.log('Condition "'+i+'" for rule "'+r.name+'" was not met.'),n("ruleConditionFailed",{rule:r,condition:a})}},Le=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Ne=function(e,t,n){return function(a,r){var i;if(a.actions)for(var o=0;o<a.actions.length;o++){i=a.actions[o];try{e(i,r,[r])}catch(e){return void t(i,a,e)}}n(a)}},Ce=function(e,t,n,a){return function(r,i){a("ruleTriggered",{rule:i}),e?n(i,r):t(i,r)}},Oe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Ae=function(e,t){return t&&!e.negate||!t&&e.negate},Ie=[],Re=!1,Me=function(e){Re?e():Ie.push(e)},Ve=function(e,t,n){e(t).forEach((function(e){n(Me,e)})),Re=!0,Ie.forEach((function(e){e()})),Ie=[]},Be=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},qe=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ue=function(e){var t,n;return!1!==m(e)&&("function"==typeof(t=e.constructor)&&(!1!==m(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},Fe=function(e,t){return Ue(t=t||{})?t=k({},t,e):k(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return $.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ge=function(e,t){return function(n,a){var r=e[n];if(r){var i=r.modules;if(i)for(var o=Object.keys(i),s=0;s<o.length;s++){var c=o[s],u=i[c];if(u.shared&&u.name===a)return t.getModuleExports(c)}}}},He=function(e,t){return function(){return t?e(t):{}}},$e=function(e,t,n){return function(a){if(n){var r=a.split(".");r.splice(r.length-1||1,0,"min"),a=r.join(".")}return e(t)+a}},We=".js",ze=function(e){return e.substr(0,e.lastIndexOf("/"))},Ke=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Qe=function(e,t){Ke(t,We)||(t+=We);var n=t.split("/"),a=ze(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))})),a.join("/")},Je=a((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,a=window.Cookies=t();a.noConflict=function(){return window.Cookies=n,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(a){function r(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var s=i[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(a.read||a)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,n){i(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}return n((function(){}))}))})),Ze={get:Je.get,set:Je.set,remove:Je.remove},Ye=function(e,t){return new he((function(n,a){t.onload=function(){n(t)},t.onerror=function(){a(new Error("Failed to load script "+e))}}))},Xe=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Ye(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},et=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var c=0;c<s;++c){var u,l,d,p,f=e[c].replace(i,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),l=f.substr(g+1)):(u=f,l=""),d=decodeURIComponent(u),p=decodeURIComponent(l),h(r,d)?Array.isArray(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},nt=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var r=encodeURIComponent(tt(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return r+encodeURIComponent(tt(e))})).join(t):r+encodeURIComponent(tt(e[a]))})).join(t):a?encodeURIComponent(tt(a))+n+encodeURIComponent(tt(e)):""},at=a((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=nt})),rt="@adobe/reactor-",it={cookie:Ze,document:w,"load-script":Xe,"object-assign":k,promise:he,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),at.parse(e)},stringify:function(e){return at.stringify(e)}},window:P},ot=function(e){return function(t){if(0===t.indexOf(rt)){var n=t.substr(rt.length),a=it[n];if(a)return a}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,n,a,r,i,o){var s=e.extensions,c=e.buildInfo,u=e.environment,l=e.property.settings;if(s){var d=Ge(s,t);Object.keys(s).forEach((function(p){var f=s[p],g=f.settings;Array.isArray(f.filePaths)&&(g=i(g,f.filePaths));var m=He(a,g);if(f.modules){var h=$.createPrefixedLogger(f.displayName),b=$e(o,f.hostedLibFilesBaseUrl,c.minified),y={buildInfo:c,environment:u,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:m,getHostedLibFileUrl:b,getSharedModule:d,logger:h,propertySettings:l,replaceTokens:a,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(f.modules).forEach((function(e){var n=f.modules[e],a=ot((function(n){var a=Qe(e,n);return t.getModuleExports(a)}));t.registerModule(e,n,p,a,y)}))}})),t.hydrateCache()}return t},ct=function(e,t,n,a,r){var i=$.createPrefixedLogger("Custom Script");e.track=function(e){$.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch($.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=a,e.setVar=r,e.setCookie=function(e,t,n){var a="",r={};n&&(a=", { expires: "+n+" }",r.expires=n);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";$.deprecation(i),Ze.set(e,t,r)},e.readCookie=function(e){return $.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Ze.get(e)},e.removeCookie=function(e){$.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Ze.remove(e)},e.cookie=Ze,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){
return o||($.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},ut=function(e,t){return function(n,a,r){return e&&Ue(n)&&Object.keys(n).length&&Array.isArray(a)&&a.length?(a.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!n.isExternal||v(e.split("."),n,t)})),n):n}},lt=window._satellite;if(lt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var dt=lt.container;delete lt.container;var pt=k({},dt.buildInfo);Object.defineProperty(pt,"environment",{get:function(){return $.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),dt.environment.stage}}),dt.buildInfo=pt;var ft,gt=L(z("localStorage"),$),mt="";w.currentScript&&w.currentScript.getAttribute("src")&&(mt=w.currentScript.getAttribute("src"));try{ft=S(mt,Boolean(dt.company.dynamicCdnEnabled),dt.company.cdnAllowList,gt)}catch(e){throw $.warn("Please review the following error:"),e}var ht,bt=ut(ft.isDynamicEnforced,ft.decorateWithDynamicHost),yt=ce(),vt=dt.property.settings.undefinedVarsReturnEmpty,wt=dt.property.settings.ruleComponentSequencingEnabled,Tt=dt.dataElements||{},jt=function(e){return Tt[e]},xt=function(){return ht.apply(null,arguments)},Et=ne(yt,jt,xt,vt,bt),kt={},Pt=pe(kt),St=oe(kt,jt),Dt=ie(kt,jt,Et);ht=de(St,Dt,vt),ct(lt,dt,gt.setDebugEnabled,Dt,Pt),st(dt,yt,gt,ht,Et,bt,ft.decorateWithDynamicHost);var _t=le(lt),Lt=C(yt,ht,bt),Nt=Ee(yt),Ct=_e(Nt,$,_t),Ot=De(Oe,Nt,$,_t),At=Se(Oe,Nt,$,_t),It=Le($,_t),Rt=Pe(Ce(wt,xe(je(Lt,Ae,Ct,Ot),Ne(Lt,At,It)),we(ye(Lt,Be,Ae,Ot,Ct),be(Lt,Be,At),It),_t),Lt,Fe,Oe,ke(yt),$);Ve(D,dt.rules||[],Rt)}return lt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();
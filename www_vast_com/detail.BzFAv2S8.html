<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>detail.BzFAv2S8.html</title>
</head>
<body>

<script>
import{k as D,e as j,g as c}from"./entry.C11SF3mO.js";import{a as l,k as o}from"./swiper-vue.CQ8HLYq-.js";const C=D("detail",()=>{j();const r=l(null),n=l(null),d=l(null),i=l(!1),u=l(!1),v=e=>{n.value=e},g=async e=>{try{const{$useApiFetch:a}=c();u.value=!1,i.value=!0;const s=await a(`/api/listings/${e}`);d.value=s.jumpstart,v(s.vehicle)}catch{u.value=!0}finally{i.value=!1}},t=l(null),m=l(!1),f=l(!1),y=o(()=>{var e,a;return t.value&&((a=(e=t.value)==null?void 0:e.recommended)==null?void 0:a.length)>0}),w=o(()=>{var e,a;return t.value&&((a=(e=t.value)==null?void 0:e.lowerMileage)==null?void 0:a.length)>0}),L=o(()=>{var e,a;return t.value&&((a=(e=t.value)==null?void 0:e.lowerPrice)==null?void 0:a.length)>0}),$=o(()=>{var e,a;return t.value&&((a=(e=t.value)==null?void 0:e.differentColor)==null?void 0:a.length)>0}),A=o(()=>{var e,a,s;return t.value&&((a=(e=t.value)==null?void 0:e.recommended)==null?void 0:a.length)>0&&((s=t.value)==null?void 0:s.recommended.filter(h=>{var p;return h.id!==((p=t.value)==null?void 0:p.listing.id)}))}),F=async e=>{try{const{$useApiFetch:a}=c();f.value=!1,m.value=!0;const s=await a(`/api/listings/similars/${e}`);t.value=s}catch{f.value=!0}finally{m.value=!1}},P=async(e={})=>{const{$useApiFetch:a}=c(),s={};return r.value&&(s.vroompentest=r.value),await a("/api/lead",{method:"POST",body:e,params:s})},S=o(()=>{var e,a;return((e=n.value)==null?void 0:e.hosted)&&["email","landing"].includes((a=n.value)==null?void 0:a.hosted_type)});return{details:n,fetchDetails:g,addListing:v,similars:t,fetchSimilars:F,recommended:A,hasRecommended:y,hasLowerMileage:w,hasLowerPrice:L,hasDifferentColor:$,detailsError:u,detailsLoading:i,postLead:P,showLeadForm:S,vroomPenTest:r,jumpstart:d}});export{C as u};

</script>

</body>
</html>

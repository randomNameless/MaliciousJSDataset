/*! For license information please see config.js.LICENSE.txt */
(()=>{var e,t,n={1180:(e,t,n)=>{"use strict";n.d(t,{GS:()=>o,Ub:()=>s,WM:()=>i,YP:()=>a,e_:()=>c,sd:()=>r});const r=(e,t)=>{const n=t.indexOf(e);return-1===n?t:[...t.slice(0,n),...t.slice(n+1)]},o=e=>e[e.length-1],i=e=>void 0===e?[]:Array.isArray(e)?e:[e],s=e=>{const t=new Set(e);return Array.from(t)},a=e=>{let t=e.length;const n=[...e];for(;t;){const e=Math.floor(Math.random()*t--),r=n[t];n[t]=n[e],n[e]=r}return n};function c(e,t){const n=new Set(t);return e.filter((e=>!n.has(e)))}},6024:(e,t,n)=>{"use strict";n.d(t,{AP:()=>l,C4:()=>u,GS:()=>s,I1:()=>p,Mr:()=>c,Qv:()=>f,me:()=>o,ot:()=>i});class r extends Error{constructor(e){super(`Exceeded ${e}`)}}const o=e=>new Promise((t=>setTimeout(t,e))),i=e=>new Promise((t=>0===e?t(d(void 0,10)):setTimeout(t,e))),s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r(e);throw await i(e),t},a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r(e);throw await o(e),t},c=(e,t,n)=>Promise.race([t,a(e,n)]),l=async(e,t)=>{const n=[],r=[];return await Promise.race([o(e),Promise.all(t.map((e=>e.then((e=>n.push(e))).catch((e=>r.push(e))))))]),{errors:r,results:n}};function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;const i=Date.now(),s=a=>Promise.resolve(e()).then((e=>{if(e)return e;if(Date.now()-i<n){const e=Math.min(1e3,2**a/2);return o(t+e).then((()=>s(a+1)))}throw new r(n)}));return s(0)}const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((n=>{n(t?d(e,t-1):e)}))};function f(){let e,t,n=!1;return{promise:new Promise(((n,r)=>{e=r,t=n})),reject(t){n||(n=!0,e(t))},resolve(e){n||(n=!0,t(e))}}}async function p(e,t,n){let r=e;return await Promise.all(n.map((e=>e.then((e=>{r=t(r,e)}))))),r}},3012:(e,t,n)=>{"use strict";n.d(t,{CC:()=>d,uI:()=>c});var r=n(1180);function o(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function i(e,t,n){return e.set(a(e,t),n),n}function s(e,t){return e.get(a(e,t))}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function c(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}var l=new WeakMap,u=new WeakMap;class d{constructor(){o(this,l,[]),o(this,u,[])}on(e,t,n){return this.add(function(e,t,n){return e.on(t,n),()=>e.off(t,n)}(e,t,n))}one(e,t,n){return this.add(function(e,t,n){return e.one(t,n),()=>e.off(t,n)}(e,t,n))}onDispose(e){s(u,this).push(e)}addEventListener(e,t,n,r){return this.add(c(e,t,n,r))}add(e){return s(l,this).push((()=>{this.remove(e),e()})),e}remove(e){i(l,this,(0,r.sd)(e,s(l,this)))}onBrokerEvent(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const i=e.on(t,...r);return this.add((()=>i.cancel()))}onceBrokerEvent(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const i=e.once(t,...r);return this.add((()=>i.cancel()))}dispose(){try{for(const e of s(l,this))e();for(const e of s(u,this))e()}catch(e){console.error(e)}finally{i(l,this,[]),i(u,this,[])}}}},1740:(e,t,n)=>{"use strict";function r(e,t){let n,r=0,o=!1;const i=s=>{if(o){r=s,clearTimeout(n),o=!1;const a=!n;n=setTimeout(i,t),e(a)}else n=void 0};return()=>{o=!0;const e=Date.now&&Date.now()||(new Date).getTime();(!n||e-r>=t)&&i(e)}}n.d(t,{AP:()=>r,Cu:()=>i,_g:()=>a,aY:()=>o,cO:()=>c,kI:()=>s});const o=e=>{let t,n=!1;return function(){return n||(n=!0,t=e(...arguments)),t}},i=(e,t)=>{let n,r;const o=function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];r=i,n&&clearTimeout(n),n=setTimeout((()=>{n=void 0,e(...r),r=void 0}),t)};return o.callNow=function(){n&&(clearTimeout(n),n=void 0);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];e(...o||r||[]),r=void 0},o};function s(e){let t=0;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e(++t,...r)}}function a(){let{min:e=1,max:t=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){let n=1;for(;;)yield Math.min(t,Math.max(e,Math.round(n++**2/10)))}()}function c(e,t){return function(){const n=t(...arguments);return e(n),n}}},4120:(e,t,n)=>{"use strict";n.d(t,{Si:()=>l,cp:()=>p});var r=n(6024),o=n(1180),i=n(7540),s=n(8940),a=n.n(s);n(8948);class c{constructor(e,t){var n,r,o,i=this;n=this,o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.bus.intercept(i,e,...n)},(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(r="intercept"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.bus=e,this.id=t,this.options={}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.emit(this,e,...n)}on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.on(this,e,...n)}onInvoke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.on(this,e,...n)}once(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.pop();let i=!1;const s=[...n,function(){i||(a.cancel(),i=!0,o(...arguments))}],a=this.on(e,...s);return a}until(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t=>{const r=[...n,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t(n)}];this.once(e,...r)}))}untilInvoke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.until(e,...n)}register(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.register(this,e,...n)}hasSubscriber(e){return this.bus.hasSubscriber(e)}interceptInvoke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.intercept(this,e,...n)}interceptOnce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.interceptOnce(this,e,...n)}interceptInvokeOnce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.interceptOnce(this,e,...n)}invoke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.invoke(this,e,...n)}invokeAll(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bus.invokeAll(this,e,...n)}invokeAllWithin(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.bus.invokeAll(this,{message:[e,...r],timeout:t})}registerStream(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bus.registerStream(this,...t)}registerUnboundedStream(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bus.registerUnboundedStream(this,...t)}openStream(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bus.openStream(this,...t)}createReadObjectStream(){return this.bus.createReadObjectStream()}createTransformObjectStream(e){return this.bus.createTransformObjectStream(e)}collectStreamAsPromise(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bus.collectStreamAsPromise(this,...t)}invokeChainMutable(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bus.invokeChainMutable(this,...t)}}class l{constructor(){this.subscriptions=[],this.interceptors=[],this.queued=[],this.started=!1,this.dispatcher=e=>e(),this.firedMessages=new Set,this.system=this.broker("MessageBus"),this.emitImmediately=this.emitImmediately.bind(this),this.showUncaughtErrors=!0,this.globalTimeoutOverride=void 0,this.logCall=()=>{}}queuePublish(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];const{promise:s,resolve:a}=(0,r.Qv)();return this.queued.push((()=>a(e(t,...o)))),s}queueStream(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const[s,a]=i.KA();return this.queued.push((()=>{e(t,...r).pipe(a)})),s}broker(e){return new c(this,e)}emit(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.started?this.emitWithInterceptors(e,t.toString(),...r):this.queuePublish(this.emitWithInterceptors.bind(this),e,t,...r)}doesMessageMatch(e,t){let n=0;for(;n<e.length;n++){const r=e[n],o=t[n];if(r instanceof f){if(!r.matches(o))return!1}else if(r!==o)return!1}return n}emitWithInterceptors(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.callInterceptors(e,"emit",this.emitImmediately,...n)}callInterceptors(e,t,n){for(var r=this,o=arguments.length,i=new Array(o>3?o-3:0),s=3;s<o;s++)i[s-3]=arguments[s];return new Promise(((o,s)=>{try{if(this.interceptors.length){const s=this.interceptors.filter((e=>!1!==this.doesMessageMatch(e.msg,i)));let a=!1;const c=function(){const o=s.shift();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return i=u.length>0?u:i,o?(a=!0,r.logCall(e,t,o.broker,i,!0),r.callInterceptor(o.callback,i,c,o.broker)):(a&&r.logCall(e,t,void 0,i,!0,!0),n(e,t,i))};o(c())}else o(n(e,t,i))}catch(e){s(e)}}))}callInterceptor(e,t,n,r){return e(t,n)}emitImmediately(e,t,n){return Promise.all(this.subscriptions.reduce(((r,o)=>{const i=this.doesMessageMatch(o.msg,n);return!1!==i&&r.push(this.callSubscriber(e,t,o,i,n)),r}),[]))}callSubscriber(e,t,n,r,o){const i=o.slice(r);return new Promise(((r,s)=>{const a=()=>{try{this.logCall(e,t,n.broker,o),r(n.callback.apply(n.broker,i))}catch(e){"error"===o[0]?(console.error("Exception thrown while handling error for",o,e),s(e)):(this.system.emit("error",...o,e),s(e))}};n.sync?a():this.dispatcher(a)}))}addSubscription(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t[t.length-1],s=t.splice(0,t.length-1);return this.subscribe(e,s,i,n,r,o)}on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.addSubscription(e,n,!1)}register(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.addSubscription(e,[t,...r],!0)}getOptions(e){let t=e&&e.options||{};for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=r[0];return"object"==typeof i?t={...t,...i}:t.message=r,Array.isArray(t.message)||(t.message=[t.message]),t.timeout=this.localTimeout(t.timeout),t}getSubscriptionsInterestedIn(e){return this.subscriptions.map((t=>({subscription:t,matchCount:this.doesMessageMatch(t.msg,e.message)}))).filter((e=>!1!==e.matchCount))}callFilteredSubscription(e,t,n,r){let{message:o,map:i}=n,{matchCount:s,subscription:a}=r;const c=this.callSubscriber(e,t,a,s,o);return i&&a.expectReturn?i(c,a):c}callFilteredSubscriptions(e,t,n,r){return r.reduce(((r,o)=>{const i=this.callFilteredSubscription(e,t,n,o);return o.subscription.expectReturn&&r.push(i),r}),[])}async invoke(e,t){var n=this;const o=async function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];const s=n.getOptions(e,...o),[a,...c]=n.getSubscriptionsInterestedIn(s).filter((e=>e.subscription.expectReturn));if(!a)return Promise.reject(new d(o));c.length>0&&console.warn("Total of",c.length+1,"endpoints registered for message",o);const l=n.callInterceptors(e,"invoke",((e,t,r)=>n.callFilteredSubscription(e,t,{...s,message:r},a)),...s.message);return void 0!==s.timeout?Promise.race([l,(0,r.GS)(s.timeout)]):l};for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return this.started?o(e,t,...s):this.queuePublish(o.bind(this),e,t,...s)}localTimeout(e){return this.globalTimeoutOverride??e}async invokeAll(e,t){var n=this;const o=async function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];const s=n.getOptions(e,...o),a=await n.callInterceptors(e,"invokeAll",((e,t,r)=>{const o={...s,message:r},i=n.getSubscriptionsInterestedIn(o);s.controlHandler&&s.controlHandler({type:"interested endpoint",endpoints:i.reduce(((e,t)=>{let{subscription:{broker:{id:n},expectReturn:r,unbounded:o}}=t;return r&&!o?[...e,n]:e}),[])});const a=n.callFilteredSubscriptions(e,t,o,i);return s.subscriptionsCalledCallback&&s.subscriptionsCalledCallback(i),a}),...s.message);let c=a?a.filter((e=>e)):[];const l=[];c=c.map((e=>e.then((e=>{l.push(e)}),(e=>{if(s.catch)try{s.catch(e)}catch(e){n.system.emit("error",e)}else n.system.emit("error",e)}))));let u=Promise.all(c).then((e=>e.filter((e=>e))));return void 0!==s.timeout&&(u=Promise.race([u,(0,r.ot)(s.timeout)])),u.then((()=>l))};for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return this.started?o(e,t,...s):this.queuePublish(o.bind(this),e,t,...s)}subscribe(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=t[0],c="object"==typeof a?(0,o.WM)(a.message):t,l="object"==typeof a&&!!a.sync;if(n&&"function"!=typeof n)throw new Error(`Callback has to be a function, but a "${typeof n}" was passed`);const u={broker:e,msg:c,callback:n,sync:l,expectReturn:r,isStream:i,unbounded:s,cancel:()=>{this.subscriptions=(0,o.sd)(u,this.subscriptions)}};return this.subscriptions.push(u),u}hasSubscriber(e){return-1!==this.subscriptions.findIndex((t=>{let{msg:[n]}=t;return n===e}))}interceptOnce(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const i=r.pop();let s=!1;const a=[...r,function(){s||(c(),s=!0,i(...arguments))}],c=this.intercept(e,t,...a);return c}intercept(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];const s=[t,...r];let a=!1;const c=s.pop(),l={msg:s,callback:function(){if(!a)return c(...arguments)},broker:e};return this.interceptors.push(l),()=>{a=!0,this.interceptors=(0,o.sd)(l,this.interceptors)}}start(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(this.system.on("error",(function(){e.showUncaughtErrors&&console.error(...arguments)})),this.started=!0;this.queued.length;)this.queued.shift()?.();this.system.emit("system ready"),t&&n.g.DM?.later?.go?.("mol-adverts")}setDispatcher(e){this.dispatcher=e}registerStream(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.addSubscription(e,n,!0,!0)}registerUnboundedStream(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.addSubscription(e,n,!0,!0,!0)}openStream(e){var t=this;const n=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];const c=t.getOptions(e,...o),l=i.Mq();let u=!1,d=0;const f=()=>{u||0!=--d||(u=!0,l.push(null))};return void 0!==c.timeout&&((0,r.ot)(c.timeout).then((()=>{!u&&l.push(null),u=!0})),delete c.timeout),t.invokeAll(e,{...c,map:(e,n)=>{let{broker:r,unbounded:s}=n;return s||d++,e.then((e=>{const t=e instanceof a().Readable?e:i.eu(e?[e]:[]);t.on("data",(e=>!u&&l.push(e))),s||t.on("end",(()=>{c.controlHandler&&c.controlHandler({type:"stream done",endpoint:r.id}),f()}))}),(e=>{c.emitErrors?l.emit("error",e):t.system.emit("error",...o,e),s||f()}))},subscriptionsCalledCallback:()=>{u||0!==d||(u=!0,l.push(null))}}),l};for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];return this.started?n(e,...s):this.queueStream(n.bind(this),e,...s)}createReadObjectStream(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Mq(e)}createTransformObjectStream(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.ye(e)}collectStreamAsPromise(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.Ck(this.openStream(e,...n))}invokeChainMutable(e){var t=this;const n=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=t.getOptions(e,...o),a=t.getSubscriptionsInterestedIn(s).filter((e=>e.subscription.expectReturn)),c=t.callInterceptors(e,"invokeChainMutable",((e,n,r)=>new Promise((i=>{const c=[...r],l=c.pop();i(a.reduce((async(r,i)=>{const a=await r,{matchCount:l,subscription:u}=i;return t.callSubscriber(e,n,u,l,[...c,a]).catch((e=>(s.onError&&s.onError(e,o),t.system.emit("error",...o,e),a)))}),Promise.resolve(l)))}))),...s.message);return void 0!==s.timeout?Promise.race([c,(0,r.GS)(s.timeout)]):c};for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return this.started?n(e,...i):this.queuePublish(n.bind(this),e,...i)}}class u extends Error{}class d extends u{constructor(e){super("No end point registered: "+JSON.stringify(e)),this.endpoint=e}}class f{matches(e){}}const p=new l},8948:(e,t,n)=>{"use strict";n.d(t,{A1:()=>u,A9:()=>c,Oy:()=>o,Y9:()=>d,ZE:()=>h,gl:()=>i,kH:()=>f,q6:()=>p,qn:()=>s,t7:()=>a});var r=n(1180);const o=(e,t,n)=>{for(const r in n)t=e(t,n[r],r);return t};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(((t,r)=>(n.ignoreUndefined&&!(r in e)||(t[r]=e[r]),t)),{})}function s(e,t){const n={...e};for(const e of(0,r.WM)(t))delete n[e];return n}function a(e){for(const t in e)return!1;return!0}const c=(e,t)=>n=>{if(t&&(0,r.e_)(Object.keys(n),Object.keys(e)).length)return!1;for(const t in e){const r=e[t];if("function"==typeof r&&!r(n[t]))return!1}return!0};function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];d(r)?t[n]=u(r):void 0!==r&&(t[n]=r)})),t}function d(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function f(e,t){const n={};for(const r in e)l(e,r)&&(n[r]=t(e[r],r));return n}function p(e){const t=new Date;return t.setMonth(t.getMonth()+e),t}function h(e){return Object.entries(e)}},1864:(e,t,n)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.g.document,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.head;return new Promise(((n,i)=>{"async"in t||(t.async=!0);const s=r.createElement("script");s.src=e,Object.entries(t).forEach((e=>{let[t,n]=e;return!1!==n&&s.setAttribute(t,!0===n?"":n)})),s.addEventListener("load",n),s.addEventListener("error",i),"function"==typeof o?o(s):o.appendChild(s)}))}n.d(t,{o:()=>r})},7564:(e,t,n)=>{"use strict";n.d(t,{c:()=>g});var r=n(1180);function o(e,t,n){i(e,t),t.set(e,n)}function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t){return e.get(c(e,t))}function a(e,t,n){return e.set(c(e,t),n),n}function c(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var l=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakSet;class g{constructor(e,t,n){var r;i(this,r=h),r.add(this),o(this,l,!1),o(this,u,[]),o(this,d,void 0),o(this,f,void 0),o(this,p,!1),a(d,this,n),a(f,this,e),this.state=Object.freeze(t)}deinit(){this.dispatch({type:"__DEINIT__"}),a(p,this,!1)}init(){a(p,this,!0),this.dispatch({type:"__INIT__"})}dispatch(e){if(s(d,this).call(this,e,"dispatch"),!s(p,this))return void s(d,this).warn("Cannot dispatch actions before store has been initiated.");if(s(l,this))throw new Error("You shouldnt dispatch actions from a reducer");a(l,this,!0);const t=s(f,this).call(this,e,this.state);a(l,this,!1),t===this.state?s(d,this).call(this,e,"NO_CHANGE"):(this.state=Object.freeze(t),s(d,this).call(this,e,this.state),c(h,this,m).call(this,e))}subscribe(e){return s(u,this).push(e),setTimeout((()=>e({type:"__INIT__"},this.state))),()=>{a(u,this,(0,r.sd)(e,s(u,this)))}}}function m(e){for(const t of s(u,this))t(e,this.state)}},7540:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>i,EV:()=>a,IF:()=>p,KA:()=>s,Mq:()=>c,Oi:()=>h,Uf:()=>d,eu:()=>u,kH:()=>f,ye:()=>l});var r=n(8940),o=n.n(r);const i=e=>new Promise(((t,n)=>{const r=[];e.on("data",(e=>r.push(e))),e.on("end",(()=>t(r))),e.on("error",(e=>n(e)))})),s=()=>{const e=new(o().Readable)({objectMode:!0,read(){}}),t=new(o().Writable)({objectMode:!0,write(t,n,r){e.push(t),r()},final(t){e.push(null),t()}});return[e,t]},a=(e,t)=>c({start(){e.on("data",(e=>this.push(e))).on("end",(()=>{this.push(null),t()})).on("error",(e=>{console.log("------\x3e STREAM Error",e),this.destroy(e),t(e)}))}}),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new(o().Readable)({objectMode:!0,read(){}});return e.start&&e.start.apply(t),t},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(o().Transform)({objectMode:!0,...e})},u=e=>{let t=0;return new(o().Readable)({objectMode:!0,read(){e.length&&this.push(e[t++]),t===e.length&&this.push(null)}})},d=e=>{const t=c();let n=e.length;return n?(e.forEach((e=>{const r=e=>t.push(e),o=()=>{0==--n&&t.push(null)},i=e=>t.emit("error",e);e.on("data",r).on("end",o).on("error",i);const s=(e.off||e.removeListener).bind(e);t.on("close",(()=>{s("data",r),s("end",o),s("error",i)}))})),t):(t.push(null),t)},f=(e,t)=>c({start(){e.on("data",(e=>this.push(t(e)))).on("end",(()=>{this.push(null)})).on("error",(e=>this.destroy(e)))}}),p=(e,t)=>c({start(){e.on("data",(e=>{t(e)&&this.push(e)})).on("end",(()=>{this.push(null)})).on("error",(e=>this.destroy(e)))}}),h=(e,t)=>{const n=c(),r=e=>n.push(e);t.on("data",r);let o=!1;const i=(t.off||t.removeListener).bind(t);e.on("end",(()=>{o||(i("data",r),o=!0),n.push(null)}));const s=d([e,n]);return s.on("close",(()=>{o||(i("data",r),o=!0)})),s}},7208:(e,t,n)=>{"use strict";function r(e,t){const n=e.startsWith("?"),r=e.substr(n?1:0).split("&").filter((e=>e.split("=")[0]!==t)).join("&");return r?`${n?"?":""}${r}`:""}function o(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}n.d(t,{Az:()=>o,uC:()=>r})},2164:(e,t,n)=>{"use strict";function r(e,t,n){const r=e=>Array.isArray(e)&&2===e.length;if(!((o=e)&&Array.isArray(o)&&o.length&&o.every((e=>e&&r(e)&&r(e[0])&&Array.isArray(e[1])&&e[1].every(r)))))return t;var o;const i=(e=>e.sort(((e,t)=>t[0][0]-e[0][0])))([...e]),[s,a]=n,c=i.find((e=>{let[[t,n]]=e;return s>=t&&a>=n}));return c&&c[1]||t}function o(e,t){return t.reduce(((t,n)=>{const r=new RegExp(n.replace(/\*/g,".*"));return t.push(...Object.keys(e).filter((e=>r.exec(e)))),t}),[])}n.d(t,{gd:()=>r,sX:()=>o})},6240:(e,t,n)=>{"use strict";n.d(t,{EX:()=>p,KX:()=>b,Oy:()=>y,Si:()=>d,U$:()=>c,UH:()=>g,_k:()=>m,a_:()=>v,iK:()=>i,kN:()=>h,kw:()=>u,qU:()=>f,y0:()=>s});var r=n(7208);function o(e){return window["inner"+e]||document.documentElement["client"+e]||document.body["client"+e]}function i(){let{usePixelRatio:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e&&window.devicePixelRatio||1;return{width:o("Width")*t,height:o("Height")*t}}const s=(()=>{let e={};try{e=window.location.search.substr(1).split("&").reduce(((e,t)=>{let[n,r]=t.split("=");switch(n=decodeURIComponent(n),!0){case n.startsWith("!"):e[n.substr(1)]=!1;break;case n.endsWith("[]"):n=n.substr(0,n.length-2),e[n]=!r||decodeURIComponent(r).split(",");break;case n.endsWith("[0]"):n=n.substr(0,n.length-3),e[n]=!r||decodeURIComponent(r).split(",");break;case/\[[-+]\]$/.test(n):e[n]=[...e[n]||[],...(r||"").split(",").map(decodeURIComponent)];break;default:e[n]=r?decodeURIComponent(r):"string"!=typeof r||r}return e}),{})}catch(t){console.error("ads",t),e={}}return e})(),a=/(%[0-9A-Z]{2})+/g,c=e=>{let t;const n=`; ${document.cookie}`.split(`; ${e}=`);if(n.length>1){const e=n.pop().split(";").shift();t='"'===e.charAt(0)?e.slice(1,-1):e,t=t.replace(a,decodeURIComponent)}return t},l=e=>{const t=new Date;switch(typeof e){case"undefined":return t.setMonth(t.getMonth()+1),t;case"number":return t.setDate(t.getDate()+e),t;case"string":return new Date(e);case"function":return l(e());case"object":if(e instanceof Date)return e;if(null===e)return l();default:throw new Error("Invalid expire time when setting cookie")}},u=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",o=arguments.length>4?arguments[4]:void 0,i=`${e}=${t};expires=${l(n).toUTCString()};path=${r}`;o&&(i+=`;domain=${o}`),document.cookie=i},d=e=>{u(e,"","Thu, 01 Jan 1970 00:00:01 GMT")},f="Microsoft Internet Explorer"===navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/)),p=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),h=(/(?:iPod|iPhone|iPad).*(?:OS)/i.test(navigator.userAgent),/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/.test(navigator.userAgent)),g=/Firefox\/([0-9.]+)(?:\s|$)/.test(navigator.userAgent),m=/Edge\/([0-9._]+)/.test(navigator.userAgent);function y(){try{if(/iP(hone|od|ad)/.test(navigator.platform)){const e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}catch(e){console.error(e)}return[-1,-1,-1]}function v(e){const{origin:t,pathname:o,search:i}=n.g.location,s=`${t}${o}${(0,r.uC)(i,e)}`;window.history.pushState(null,"",s)}function b(){return n.g.performance?.getEntriesByType?.("navigation")?.[0]}},9156:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var r=n(6240),o=n(1180);const i=function(){let e=new Set;if(r.y0.adsDebug)e=new Set(((!0===r.y0.adsDebug?"all":r.y0.adsDebug)||"").toLowerCase().split(","));else if(localStorage.getItem("dmg.ads.debug.label"))e=new Set(["all"]);else{const t=r.y0["ac.adsDebug"]||n.g.adverts?.config?.adsDebug;"boolean"==typeof t?e=new Set(["all"]):Array.isArray(t)&&(e=new Set(t.map((e=>e.toLowerCase()))))}return e}(),s=i.has("all"),a=()=>{};function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[`%c${e}`,l()],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=s||i.has(e.toLowerCase()),d=r?console.log.bind(console,...(0,o.WM)(t)):a;return d.debugName=e,d.label=t,d.enabled=r,d.log=f("log"),d.trace=f("trace"),d.debug=f("debug"),d.info=f("info"),d.warn=f("warn"),d.error=f("error",!0),d.table=r?function(){d("Table:"),console.table(...arguments)}:a,d.time=r?e=>console.time(u(e?[...t,e]:t).join(" / ")):a,d.timeEnd=r?e=>console.timeEnd(u(e?[...t,e]:t).join(" / ")):a,d.extend=r=>{const[i,...s]=(0,o.WM)(t),a=n+1;return c(e,[`${i} %c${r}`,...s,l(a)],a)},d;function f(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:r)&&"function"==typeof console[e]?console[e].bind(console,...(0,o.WM)(t)):a}}function l(){return`display: inline-block; color: #fff; background: hsl(214deg 100% ${35+10*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}%); padding: 1px 4px; border-radius: 3px;`}function u(e){return[e[0].replace(/^%c/,""),...e.slice(1)].filter((e=>!e.startsWith("display: inline-block; color: #")))}},5968:(e,t,n)=>{"use strict";n.d(t,{AI:()=>r,qI:()=>a,sj:()=>o});const r=2147483647;function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){return function(e){const t=16*Math.random()|0;return"x"===e?t:3&t|8}(e).toString(16)}))}function i(e,t){if(null==e)return;let n=e/(t/100);return n>99&&(n=99),n<0&&(n=0),Math.round(n)}const s=/(.*)P(\d+)(s|k|m|gb|ms|px)$/;function a(e,t){const{cap:n}=function(e){const t=e.match(s),[,n,r,o]=t||[],i=function(e,t){return{m:e=>60*e*1e3,s:e=>1e3*e,k:e=>1e3*e,gb:e=>1e9*e,ms:e=>e,px:e=>e}[t](e)}(Number(r),o);return{fieldName:n,period:r,unit:o,cap:i}}(e);return{[e]:i(t,n)}}},3397:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=n=>String.prototype.split.call(t,n).filter(Boolean).reduce(((e,t)=>null!=e?e[t]:e),e),o=r(/[,[\]]+?/)||r(/[,[\].]+?/);return void 0===o||o===e?n:o}n.d(t,{c:()=>r})},272:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>o(e,t)))}function o(e,t){if(e===t)return e;const n=typeof t;if("undefined"===n)return e;const r=Array.isArray(t);if(null===t||"string"===n||"number"===n||"boolean"===n||"function"===n||!r&&"object"===n&&null!==t&&t.constructor!==Object)return t;if(null===e)return o(void 0,t);const i=typeof e,s=Array.isArray(e);if(n!==i)return s?e:"function"===i&&"object"===n?(Object.entries(t).forEach((t=>{let[n,r]=t;e[n]=r})),e):"undefined"===i?r?o([],t):"object"===n?o({},t):t:"undefined"===n?e:t;if(s){const n=e.length,r=t.length;let i;for(i=0;i<n&&i<r;i++)e[i]=o(e[i],t[i]);for(i=n;i<r;i++)e[i]=o(void 0,t[i]);return e}if(r)return[...t];const a=Object.entries(t).sort(((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)})),c=a.length,l=Object.entries(e).sort(((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}));let u=0;for(const[t,n]of l){let r,i,s=-1;for(;s<0&&u<c;)[r,i]=a[u],s=r.localeCompare(t),s<0&&(e[r]=o(void 0,i),u++);0===s&&(e[t]=o(n,i),u++)}for(;u<c;){const[t,n]=a[u++];e[t]=o(void 0,n)}return e}n.d(t,{c:()=>r})},3756:(e,t,n)=>{"use strict";function r(e,t,n){const r=Array.isArray(t)?t:t.match(/([^[.\]])+/g)||[];for(let t=e,o=0;o<r.length;o++){let e=r[o];const i=e.endsWith("?");if(i&&(e=e.slice(0,-1)),o===r.length-1)i&&!(e in t)||(t[e]=n);else if(void 0===t[e]){if(i)break;t[e]={}}t=t[e]}}n.d(t,{c:()=>r})},4140:(e,t,n)=>{"use strict";(0,n(5248).C_)("exposeAdsData",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:async function(e){let{broker:t}=e;const r=[];t.on("ad rendered",((e,t)=>{let{isEmpty:n,slot:{molAd:o}}=t;n||r.push(o)})),n.g.adverts.getRendered=()=>r;let o={version:1};t.on("send with rta page unload",(e=>{o={...o,...e}})),n.g.adverts.getRtaReport=()=>o}})},1803:(e,t,n)=>{"use strict";var r=n(5248),o=n(2440);(0,r.C_)("userId",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,log:n}=e;const r=function(){const e="ads.user.id";let t=localStorage.getItem(e);return t||(t=(0,o.c)(),localStorage.setItem(e,t)),t}();n("userId",r),t.register("provide userId",(()=>r)),t.emit("sync userId","bidmaxId",r,location.hostname)}})},5336:(e,t,n)=>{"use strict";n.d(t,{tf:()=>A,Yt:()=>I,_M:()=>_,_6:()=>k,WO:()=>E});var r=n(3397),o=n(3756),i=n(6240),s=n(1180),a=n(8948);const c=DM.molFeClientLogger,l={},u=(e,t)=>{let n=(e.match(t)||[])[1]||"";return n=n.split(/[._]/g),{build:parseInt(n[2]||-1,10),major:parseInt(n[0]||-1,10),minor:parseInt(n[1]||-1,10)}},d=()=>{const e=navigator.userAgent;l.ua=e,l.isWindows=Boolean(e.match(/Windows Phone|iemobile|WPDesktop/i));try{l.isIPad=(Boolean(e.match(/iPad/i))||"iPad"===navigator.platform||"MacIntel"===navigator.platform&&"ontouchend"in document)&&!l.isWindows}catch(e){l.isIPad=!1}l.isIDevice=(Boolean(e.match(/(iPad|iPhone|iPod)/i))||l.isIPad)&&!l.isWindows,l.isIPhone=Boolean(e.match(/iPhone/i))&&!l.isWindows,l.isAndroid=Boolean(e.match(/Android/i))&&!l.isWindows,l.isChrome=Boolean(e.match(/Chrome/i)),l.isFirefox=Boolean(e.match(/Firefox/i)),l.isKindleSilk=Boolean(e.match(/Silk|Kindle/i)),l.isAndroidPhone=l.isAndroid&&Boolean(e.match(/Mobile/i)),l.isAndroidTablet=l.isAndroid&&!Boolean(e.match(/Mobile/i)),l.isMobile=l.isIDevice||l.isAndroid||l.isWindows,l.isAndroidStock=l.isAndroid&&!l.isChrome&&!l.isFirefox&&!l.isKindleSilk;try{l.isIDevice?(l.mobileName=e.match(/(iPad|iPhone|iPod)/i)?e.match(/(iPad|iPhone|iPod)/i)[0]:"iPad",l.mobileVersion=u(e,/OS ((?:\d+[._]?)+)/i)):l.isAndroid?(l.mobileName="Android",l.mobileVersion=u(e,/Android ((?:\d+[._]?)+)/i)):l.isWindows?(l.mobileName="Windows Phone",l.mobileVersion=u(e,/Windows Phone ((?:\d+[._]?)+)/i)):(l.mobileName=null,l.mobileVersion={build:-1,major:-1,minor:-1})}catch(e){c.logger.error("Failed to parse mobile name and version",e),l.mobileName="unknown"}};try{d(),l.isAndroidStock&&(c.logger.debug("Executing Android Stock browser Orientation bug fix"),window.addEventListener("orientationchange",(()=>{const e=document.querySelector("meta[name=viewport]");if(e){const t=e.getAttribute("content");e.setAttribute("content","width=10000, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"),setTimeout((()=>{e.setAttribute("content",t)}),0)}})))}catch(e){c.logger.error("Error parsing user agent",e)}const f=()=>l.isAndroidTablet,p=()=>l.isIPad,h=()=>l.isMobile,g=(0,a.A9)({browser:m((function(e){switch(e){case"chrome":return i.kN;case"edge":return i._k;case"ie":return i.qU;case"firefox":return i.UH;case"safari":return i.EX;default:return!1}})),cookie:m((function(e){return Object.entries(e).some((e=>{let[t,n]=e;return n.includes((0,i.U$)(t)||"")}))})),device:m((function(e){switch(e){case"tablet":return p()||f();case"desktop":return!h()}})),iOSVersion:m((function(e){let{min:t,max:n}=e;const[r]=(0,i.Oy)();return(void 0===t||t<=r)&&(void 0===n||n>=r)})),minInnerWindowHeight:m((function(e){return window.innerHeight>=e})),minInnerWindowWidth:m((function(e){return window.innerWidth>=e})),minDocumentWidth:m((function(e){return document.documentElement.clientWidth>=e})),pageCriteria:m(function(){const e=(0,a.A9)((0,a.kH)(window.PageCriteria||{},(e=>m(Array.isArray(e)?t=>e.includes(t):t=>t===e))),!0);return t=>e((0,a.qn)(t,"payload"))}()),timeRange:m((function(e){let{end:t,start:n}=e;const r=new Date,o=t&&y(t)<=r,i=n&&y(n)>r;return!o&&!i})),globalContext:m((function(e){let{prop:t,op:o,value:i}=e;const a=(0,r.c)(n.g,t);switch(o){case"includes":return"string"==typeof a?a.includes(i):(0,s.WM)(a).includes(i);case"startsWith":return"string"==typeof a&&a.startsWith(i)}})),topWindow:m((function(e){return e?window.top===window:window.top!==window})),paywalled:m((function(e){return e===function(e){let{pageCriteria:t,win:n}=e;const{isPaywalled:r,hasBeenPaywalled:o}=t||{},i=n.getIsPaywallEligible?.();return void 0===t?"invalid":r||o?!r&&o?"hasBeenPaywalled":r&&!i?"isPaywalledForOthers":r&&i?"isPaywalled":"invalid":"none"}({pageCriteria:n.g.PageCriteria,win:n.g})})),entitlements:m((function(e){const t=n.g.getPaywallEntitlements?.();return t?.includes?.(e)}))});function m(e){return t=>void 0===t||(Array.isArray(t)?t.some(e):e(t))}function y(e){const[t,n,r]=e.split(":").map(Number),o=new Date;return o.setHours(t),o.setMinutes(n),o.setSeconds(r),o}var v=n(9156),b=n(272);n.g.adverts.config=n.g.adverts.config||{};const w=(0,v.e)("config"),S={},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=(0,r.c)(S,...t);return"object"==typeof o?JSON.parse(JSON.stringify(o)):o},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.c)(S,...t)};function k(){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.adverts.config;Object.entries(e).forEach((e=>{let[t,n]=e;try{if(function(e){return"object"==typeof e&&!!e?.__targeting}(n)){const e=function(e){let{__targeting:t}=e;return((0,s.WM)(t).find(g)||{}).payload}(n);void 0!==e&&E(t,e)}else E(t,n)}catch(e){console.error(e)}})),n.g.adverts.config=S}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.adverts.config),function(){const e=JSON.parse(localStorage.getItem("mol-ads-control-panel-config")||"null");"object"==typeof e&&null!==e&&(0,b.c)(S,e)}(),I(),A(i.y0)}const I=()=>{Object.entries(i.y0).forEach((e=>{let[t,n]=e;if(t.startsWith("ac."))if(t.endsWith("[+]")){const e=t.substring(3,t.length-3);E(e,(0,s.Ub)(_(e,[]).concat(n)))}else if(t.endsWith("[-]")){const e=t.substring(3,t.length-3);E(e,_(e,[]).filter((e=>!n.includes(e))))}else if(t.endsWith("{}")){const e=t.substring(3,t.length-2);E(e,(e=>{try{return JSON.parse(e)}catch(e){return w.error(e),{}}})(n))}else E(t.slice(3),(e=>""===e||"boolean"==typeof e?e:isNaN(e)?(e=>{const t="true"===e;return"false"===e||t?t:e})(e):parseFloat(e))(n))}))};function A(e){if("string"!=typeof e.setPlugin)return;const t=e=>["on","true","1","enabled"].includes(e),[n,r,o]=e.setPlugin.split(",").reduce(((e,n)=>{let[r,o,i]=e;const[s,a]=n.split(":");if(void 0===a)return[r,o,i];if(s.includes("*")){const[e,n]=s.split("*");!t(a)&&""===n&&i.push(e)}else t(a)?r.add(s):o.add(s);return[r,o,i]}),[new Set([]),new Set([]),[]]),i=_("plugins.enabled",[]).filter((e=>!((e=>o.some((t=>e.includes(t)))&&!n.has(e))(e)||r.has(e)))),s=i.indexOf("debug.setPlugin")+1;i.splice(s,0,...n),E("plugins.enabled",[...new Set(i)])}},795:(e,t,n)=>{"use strict";n.d(t,{I5:()=>l,Q1:()=>c,W2:()=>s,eA:()=>r,iO:()=>o,us:()=>i});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.body?e():n.g.requestAnimationFrame((()=>{r(e,t)}))},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new Promise((t=>r(t,e)))},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new Promise((t=>{["complete","loaded","interactive"].includes(e.readyState)?t():e.addEventListener("DOMContentLoaded",t)}))},s=e=>{let t,n,r={top:0,left:0};const o=e&&e.ownerDocument;if(o)return t=o.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=a(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},a=e=>{let t=null;return e&&(e===e.window?t=e:9===e.nodeType?t=e.defaultView||e.parentWindow:e.ownerDocument&&(t=e.ownerDocument.defaultView||e.ownerDocument.parentWindow)),t},c=()=>[document.body.scrollWidth,window.innerHeight+window.scrollMaxY,window.innerWidth,window.innerHeight],l=e=>{if(!e)return;const t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:"textContent"in t?t.textContent=e:t.innerText=e,(document.body||document.head).appendChild(t)}},6224:(e,t,n)=>{"use strict";n.d(t,{u_:()=>w,wT:()=>A});var r=n(5336);const o={},i=e=>{if(e in o)return o[e];let t=!0,n=(0,r._M)("headerBidders",{});"string"==typeof n&&(n=JSON.parse(n));const i=n[window.location.hostname];return i&&(i.blacklist&&i.blacklist.includes(e)&&(t=!1),i.whitelist&&!i.whitelist.includes(e)&&(t=!1)),o[e]=t,t};function s(){return(0,r._M)("plugins.enabled",[]).filter((e=>i(e)))}var a=n(6024),c=n(9156),l=n(5248);const u=(0,c.e)("plugin-manager");let d,f,p,h={},g=[];const m=e=>{u("adding plugins:",e);const t=new Set([...(0,r._M)("plugins.enabled",[]),...e]);(0,r.WO)("plugins.enabled",[...t])},y=e=>{u("removing plugins:",e);const t=new Set((0,r._M)("plugins.enabled",[]));e.forEach((e=>{t.delete(e)})),(0,r.WO)("plugins.enabled",[...t])},v=[],b=e=>v.push(e),w=async(e,t)=>(await Promise.all(v.map((n=>n(e,t))))).every((e=>e)),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{addPlugins:m,broker:d.broker(e),doc:document,getConfig:r._M,setConfig:r.WO,localStorage,sessionStorage,log:(0,c.e)(e),removePlugins:y,registerPluginBouncer:b,checkPluginBouncer:w,ownName:e,win:window,...t}},_=e=>"object"==typeof e&&e.default?e.default:e,E=(e,t,n)=>{if(!i(t))return;if(p.includes(t))return;let r=_(e[t]);if("function"!=typeof r&&(r=_(e[t])),p.push(t),"function"==typeof r)try{r(S(t,n))}catch(e){console.error(`Error initializing plugin "${t}":`,e)}},k=async(e,t)=>{const n=(0,r._M)("pluginManager.setupTimeout",5e3),o=async(e,o,i)=>{try{const s={...S(e,t),pluginsAlreadyRun:i};(0,r.WO)("pluginManager.setupTimeout",o.plugiSetupTimeout||n);const c=o.pluginSetup(s),l=(0,r._M)("pluginManager.setupTimeout",n);return await(0,a.Mr)(l,c)}catch(t){console.error(`Error calling pluginSetup on plugin '${e}':`,t)}},i=new Set;let s=null;for(;;){const t=(0,r._M)("plugins.enabled").filter((e=>!i.has(e))).shift();if(!t)break;if(s===t){u.warn("Plugin",t,"just ran and its asking to run again, ignoring it"),i.add(t);continue}s=t;let n="object"==typeof(c=e[t])&&c.default?c.default:c;if(n="object"==typeof n?n.default:n,n&&"function"==typeof n.pluginSetup){if(!await w(t,n)){u("plugin bounced during init",t),i.add(t);continue}u("setup plugin",t),"not yet"!==await o(t,n,i)?(u("ran:",t),i.add(t)):u("plugin",t,"asked to be called again")}else i.add(t)}var c};function I(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,{run:n,init:r,initTimeout:o,...i}]=e;const s=n||(()=>{});return s.pluginSetup=r,s.plugiSetupTimeout=o||5e3,Object.entries(i).forEach((e=>{let[t,n]=e;return s[t]=n})),[t,s]})))}async function A(e){let{plugins:t=h,context:n={},mandatory:o=g,messageBus:i}=e;t={...t,...I((0,l._c)())},p=[],d=i,f=d.broker("plugin-manager"),await k(t,n),f.emit("plugins initialized"),f.register("get all plugins",(()=>t));for(const e of o)E(t,e,n);const a=v.length?await async function(e){const t=s(),n=t.map((t=>[t,e[t]])).filter((e=>{let[,t]=e;return t})),o=t.map((t=>[t,e[t]])).filter((e=>{let[,t]=e;return!t})).map((e=>{let[t]=e;return t})),i=(await Promise.all(n.map((async e=>{let[t,n]=e;return await w(t,n)&&t})))).filter((e=>e));return(0,r.WO)("plugins.enabled",[...i,...o]),i}(t):s();for(const e of a)E(t,e,n);f.emit("plugins enabled",p),d.start()}},5248:(e,t,n)=>{"use strict";n.d(t,{C_:()=>i,_c:()=>a,ae:()=>s});const r=(0,n(9156).e)("plugin-registry"),o={};function i(e,t){r("registering plugin:",e),o[e]=t}function s(e){return o[e]}function a(){return{...o}}},45:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(2160).Buffer;function o(e,t,n){return parseInt(e.substr(t,n),2)}function i(e){const t=o(e);return String.fromCharCode(t+65).toLowerCase()}function s(e,t,n){const r=e.substr(t,n);return i(r.slice(0,n/2))+i(r.slice(n/2))}function a(e){let t=e;for(;t.length%4!=0;)t+="=";t=t.replace(/-/g,"+").replace(/_/g,"/");const n=r.from(t,"base64");let i="";for(let e=0;e<n.length;e+=1){const t=n[e].toString(2);i+=(a=t,c=8-t.length,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n="";for(let r=0;r<e;r+=1)n+=t;return n}(Math.max(0,c))+a)}var a,c;return function(e){const{decodedObject:t}=function(e){let{input:t,fields:n,startPosition:r=0}=e,i=r;const a=n.reduce(((e,n)=>{const{name:r,numBits:a}=n,{fieldValue:c,newPosition:l}=function(e){let{input:t,output:n,startPosition:r,field:i}=e;const{type:a,numBits:c,decoder:l,validator:u}=i;if("function"==typeof u&&!u(n))return{newPosition:r};if("function"==typeof l)return l(t,n,r);const d="function"==typeof c?c(n):c;switch(a){case"int":return{fieldValue:o(t,r,d)};case"date":return{fieldValue:(f=t,p=r,h=d,new Date(100*o(f,p,h)))};case"bits":return{fieldValue:t.substr(r,d)};case"language":return{fieldValue:s(t,r,d)};default:throw new Error(`ConsentString - Unknown field type ${a} for decoding`)}var f,p,h}({input:t,output:e,startPosition:i,field:n});return void 0!==c&&(e[r]=c),void 0!==l?i=l:"number"==typeof a&&(i+=a),e}),{});return{decodedObject:a,newPosition:i}}({input:e,fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16}]});return t}(i)}},7128:(e,t,n)=>{"use strict";n.d(t,{E5:()=>a,GG:()=>f,Y9:()=>u,e4:()=>i,im:()=>s,mK:()=>p,yq:()=>d});var r=n(1740),o=n(5336);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(((n,r)=>{l()(e,t,((o,i)=>{i?n(o):r(new Error(`Failed to call __cmp(${e}, ${t})`))}))}))},s=((0,r.aY)((()=>i("hasConsentedToAll"))),(0,r.aY)((()=>i("hasChoiceBeenMade"))),()=>"US"===PageCriteria.geo),a=()=>(0,o._M)("ccpa.consentManagementRegions",["CA","VA"]).includes(n.g.PageCriteria.region),c=()=>"__uspapi",l=()=>n.g[c()],u={getUSPData:"__cachedUSPData",hasConsentedToAll:"__hasConsentedToAll"};function d(e){const t=c();window[t]=window[t]||((n,r,o)=>{const i=u[n],s=i&&localStorage.getItem(i);if(s){const t=JSON.parse(s);e(`using cached value for cmd: ${n}, value:`,t),o(JSON.parse(s),!0)}else window[t].a.push([n,r,o])}),window[t].a=window[t].a||[]}const f=()=>null!==localStorage.getItem("mol.ads.cmp.consent"),p=()=>(0,o._M)("ccpa.gpc.forced",navigator.globalPrivacyControl)&&(0,o._M)("ccpa.gpc.signal.enabled",!1)},9352:(e,t,n)=>{"use strict";n.d(t,{Q:()=>X,E:()=>Q});var r=n(45);function o(e){let{log:t,localBroker:n,broker:o,getConfig:i}=e;const s=n.until("versions").then((e=>{let[{tcfv2Version:t,tcfv2UiVersion:n}]=e;return`${t.length?t:"DEV"} ${n.length?n:"DEV"}`})),a=n.until("valid consent").then((e=>{let[t,n]=e;const{tcString:o,molGvlVersion:i,cmpId:s}=t,{vendorListVersion:a}=(0,r.p)(o);return{cmpId:s,iabv:a,molGvlVersion:i,degree:n}})),c=async function(){const{cmpId:e,iabv:n,molGvlVersion:r,degree:o}=await a,c={cmp:i("cmp.model","tcfv2"),cmpVersion:await s,consent:o,gdpr:{iabv:String(n)},cmpId:e,molGvlVersion:r};return t("bidmax targeting:",c),c}();o.register("call for page analytics",(()=>c))}var i=n(6024),s=n(6240);function a(){const e=document.cookie.indexOf("x-loc=");if(-1===e)return;const t=document.cookie.indexOf(";",e);if(-1===t)return;const n=document.cookie.substring(e+6,t);return n.length>0&&"none"!==n.toLowerCase()?n:void 0}var c=n(5336);const l=(0,i.C4)((()=>window.RTA?.ids),300,3e3).then((e=>e.user||e.visit?{rta:{user:e.user,visit:e.visit}}:{})).catch((()=>({}))).then((e=>{const{PageCriteria:t={},pagemeta:r={}}=window;return{account:"mol",adsFreeUser:n.g.isAdFreeEntitled?.(),articleId:t.articleId,channel:t.channel,configVersion:(0,c._M)("__generated.commit.sha"),bundle:"facade",cmVersion:(0,c._M)("__generated.rulesJs.version"),cmCluster:(0,c._M)("__generated.rulesJs.cluster"),device:t.device,embed:!0,event_type:"bidmax",fbapp:!!t.fbapp,geo:t.geo,isMobile:t.isMobile,isTablet:t.isTablet,office:a(),pageType:t.pageType,pageViewId:t.pageViewId,referrer:document.referrer,sponsored:t.sponsored,subchannel:t.subchannel,timeAtSend:0,type_version:2,url:location.href,version:s.y0.bidmax||r.adsBundleVersion||"absent",...e}}));let u={};function d(e){let{log:t,broker:r,localBroker:o,getConfig:i}=e;const s=i("site","mol"),a=e=>r.emit("send event to bidmax",e);let d=e=>{const r={account:s,...e};t("sending to bidmax using barebones",r),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(arguments.length>1?arguments[1]:void 0)||!!(0,c._M)("bidmax.dispatcher.useCurrentUrl");l.then((r=>new Promise(((o,i)=>{const s=new XMLHttpRequest,a=t?`${n.g.location.origin}${n.g.location.pathname}`:(0,c._M)("bidmax.dispatcher.url","//crta.dailymail.co.uk");s.open("POST",a,!0),s.addEventListener("abort",i),s.addEventListener("error",i),s.addEventListener("load",o),s.setRequestHeader("Content-Type","text/plain"),s.send(JSON.stringify({...r,...u,...e,timestamp:Date.now()}))})))).catch((e=>console.error(e)))}(r)};r.on("system ready",(()=>{d=a})),o.on("send event to bidmax",(e=>d(e)))}var f=n(1756),p=n(8948),h=n(1180);const g="mol.ads.cmp.tcfv2.reprompt",m="mol.ads.cmp.tcfv2.lastReprompted";function y(){let e;try{const t=localStorage.getItem(g);t&&(e=JSON.parse(t))}catch(e){console.error("unabled to parse repromptVersion")}return e||{version:0,chance:Math.random()}}async function v(e){let{localBroker:t,tcData:n,log:r}=e;const o=n.repromptVersion,i=JSON.parse(localStorage.getItem(m)||"{}");i?.version===n.repromptVersion&&(r.warn("reprompt failed - same version: ",n.repromptVersion),t.emit("send event to bidmax",{type:"custom",payload:{daysSinceReprompt:Math.floor((Date.now()-i.date)/864e5),event:"reprompt-error",lastRepromptVersion:i.version,jounery:await t.invoke("get journey so far"),module:"tcfv2",onClosedStoredTCDataVersion:o,tcDataRepromptVersion:n.repromptVersion}}),t.emit("add user journey","error"))}var b=n(2840);async function w(e){const{registerPluginBouncer:t,log:n,localBroker:r}=e,o=r.until("valid consent"),i=o.then((()=>(0,b.k)("consentedVendors"))),s=Promise.all([o,i]);t((async(e,t)=>{await s;const r=n.extend(e);r("running bouncer");const o=("object"==typeof t.gdpr?!!t.gdpr.enabledIfDissent:!!t.gdpr)||function(e,t){if(!t.vendorIds||void 0===t.vendorIds.gdpr)return n("no vendorIds or gdpr defined"),!1;if("N/A"===t.vendorIds.gdpr)return n("restrictions not applicable for",e),!0;if(!Array.isArray(t.vendorIds.gdpr))return n.warn("gdpr vendorIds must be an array, but got:",t.vendorIds.gdpr),!1;const r=t.vendorIds.gdpr.filter((e=>!c.has(e)));return!r.length||(n("plugin",e,"bounced because user have not consented to vendors:",r),!1)}(e,t)&&function(e,t){if(!t.purposeIds||void 0===t.purposeIds.gdpr)return n("no purposesIds or gdpr defined"),!1;if("N/A"===t.purposeIds.gdpr)return n("restrictions not applicable for",e),!0;if(!Array.isArray(t.purposeIds.gdpr))return n.warn("gdpr purposeIds must be an array, but got:",t.purposeIds.gdpr),!1;const r=t.purposeIds.gdpr.filter((e=>"string"!=typeof a.purpose.consents&&!a.purpose.consents[e]));return!r.length||(n("plugin",e,"bounced because user have not consented to purposes:",r),!1)}(e,t)&&function(e,t){if(!t.vendorIds||void 0===t.vendorIds.google||"N/A"===t.vendorIds.google)return!0;const r=t.vendorIds.google.filter((e=>!l.has(e)));return!r.length||(n("plugin",e,"bounced because user have not consented to google's additional consent:",r),!1)}(e,t)&&function(e,t){if(!t.legIntPurposeIds||void 0===t.legIntPurposeIds.gdpr)return!0;if(!Array.isArray(t.legIntPurposeIds.gdpr))return n.warn("gdprPurposeIds must be an array, but got:",t.legIntPurposeIds?.gdpr),!1;const r=t.legIntPurposeIds.gdpr.filter((e=>"string"!=typeof a.purpose.legitimateInterests&&!a.purpose.legitimateInterests[e]));return!r.length||(n("plugin",e,"bounced because user have not consented to legitimate interests:",r),!1)}(e,t);return r(`passed checks: ${o}`),o}));const[a]=await o;n("tcData",a);const c=new Set(await i),l=new Set((a.addtlConsent||"").substring(2).split(".").filter((e=>e)).map((e=>parseInt(e))));l&&n("using addtlConsent for bouncing")}var S=n(272),_=n(2440),E=n(3e3),k=n.n(E);const I="dmg.cmp.uuid",A="mol.ads.tcfv2.uuid";async function C(e){let{localStorage:t,localBroker:n,log:o,doc:i,getConfig:s,win:a,broker:c}=e;const l=Math.random().toString(36).substring(2),u="@mol-ads/mol-adverts",d=n.until("loaded"),f=function(){const e=s("tcfv2.version",""),t=s("tcfv2.scriptBase","//cmp.dmgmediaprivacy.co.uk/cmp"),r=s("tcfv2.uiVersion",""),o=s("tcfv2.uiScriptBase","//www.dailymail.co.uk/static/mol-fe/static/mol-fe-cmp"),i=s("tcfv2.uiFile","index.js"),a=`${s("tcfv2.gvlUiVersion","51")}`,c=s("tcfv2.cvlUiVersion","1"),l=s("tcfv2.backendUrl","//cmp.dmgprivacyint.co.uk/gdpr/consent/persist"),u=function(e){return e("tcfv2.useTCF2_2Branding",!1)?(e=>{const t=e("tcfv2_2.brand.level1Paragraphs",["We and our partners process, store and/or access data such as IP address, unique ID and browsing data based on your consent to display personalised advertising and content, advertising and content measurement, audience research and services development.","Sometimes we and/or our partners don’t rely on your consent but rely on legitimate interest to process your data. Click Cookie Settings below to see our partners, why they rely on legitimate interest and how you can object.","Control how your data is used, view our [NUMBER_OF_VENDORS] partners and view more info at any time via the Cookie Settings link in the Privacy Policy. Your preferences will apply to this website only."]),n=e("tcfv2_2.primaryVendor",{features:[1,2,3],flexiblePurposes:[],headingName:"Associated Newspapers Ltd.",legIntPurposes:[8,10,11],name:"Associated Newspapers Ltd.",purposes:[1,2,3,4,5,6,7,9],specialFeatures:[1],specialPurposes:[1,2],dataDeclaration:[1,2,3,4,5,6,7,8,9,10,11]}),r=e("tcfv2_2.primaryVendorHeadingName",n.headingName),o=e("tcfv2_2.primaryVendorHeadingName",n.primaryVendorName),i=e("tcfv2_2.policyUrl","/home/article-7759273/Privacy-Cookies-Policy-Policy.html"),s=k()(e("tcfv2_2.brand",{}),{level1Paragraphs:t,primaryVendor:{...n,headingName:r,name:o,policyUrl:i}}),a=e("tcfv2_2.branding.providerUrl");return a&&(s.providerUrl=a),s})(e):(e=>{const t=e("tcfv2.brand.level1Paragraphs",["We and our partners process, store and/or access data such as IP address, unique ID and browsing data based on your consent to display personalised ads and content, ad and content measurement, audience insights and product development, use precise geolocation data, and actively scan device characteristics for identification.","Sometimes we and/or our partners don’t rely on your consent but rely on legitimate interest to process your data. Click Cookie Settings below to see our partners, why they rely on legitimate interest and how you can object.","Control how your data is used and view more info at any time via the Cookie Settings link in the Privacy Policy."]),n=e("tcfv2.primaryVendor",{features:[1,2,3],flexiblePurposes:[],headingName:"Associated Newspapers Ltd.",legIntPurposes:[5,6,8,10],name:"Associated Newspapers Ltd. (MailOnline, ThisIsMoney & Metro)",purposes:[1,2,3,4,7,9],specialFeatures:[1],specialPurposes:[1,2]}),r=e("tcfv2.primaryVendorHeadingName",n.headingName),o=e("tcfv2.primaryVendorHeadingName",n.primaryVendorName),i=e("tcfv2.policyUrl","/home/article-7759273/Privacy-Cookies-Policy-Policy.html"),s=e("tcfv2.branding.providerUrl"),a=k()(e("tcfv2.brand",{}),{level1Paragraphs:t,primaryVendor:{...n,headingName:r,name:o,policyUrl:i}});return s&&(a.providerUrl=s),a})(e)}(s),d=`${o}/${r}/${i}`,f=s("tcfv2.storeUserPreference",!1),h=s("tcfv2.nrvUiVersion","1"),g=s("tcfv2.publisherRestrictions",[3,4]),m=s("tcfv2.consentOrPay.enabled",!1),y=p(),v=s("tcfv2.gvlMigration.useGeoDeviceVariantGVL",!1),b=`${s("tcfv2.consentOrPay.subscriptionURL","https://uat-dlv.nonprod-mailsubscriptions.gcpp.io/offer/109169/choose-from-one-of-these-options")}?noCookiePrompt=true`;return n.emit("versions",{tcfv2Version:e,tcfv2UiVersion:r}),{uiLevel:"Level1",gvlUiVersion:a,cvlUiVersion:c,backendUrl:l,brand:u,uiScriptUrl:d,storeUserPreference:f,nrvUiVersion:h,controllerScriptBase:`${t}/${e}`,cvlVersion:c,publisherRestrictions:g,consentOrPay:m,uuid:y,useGeoDeviceVariantGVL:v,consentOrPaySubscriptionURL:b}}();function p(){let e=t.getItem(A);return e?(t.setItem(I,e),t.removeItem(A)):e=t.getItem(I),e||(e=(0,_.c)(),t.setItem(I,e)),e}async function h(e,t){await d;const n={ns:"@mol-ads/mol-ads-cmp",id:l,sender:u},r=t?{...n,action:e,payload:t}:{...n,action:e};a.postMessage(r,"*")}n.on("consent to all",(()=>{o("consenting to all"),h("consentToAll",{uuid:p()})})),n.on("dissent to all",(()=>{o("consenting to all"),h("dissentToAll",{uuid:p()})})),n.on("openUi",(e=>{let{reason:t,uiLevel:r}=e;const i=p();o(`opening tcfv2 banner, level: ${r}, reason: ${t}`),n.emit("send event to bidmax",{type:"custom",payload:{event:"ui-open",level:r,module:"tcfv2",reason:t}}),h("open",{uiLevel:r,uuid:i})})),n.onInvoke("start cmp",(async()=>{o("invoking get controller starting options");let e=(0,S.c)({},...await n.invokeAll("get controller starting options"));o("opts",e);const t=`${f.controllerScriptBase}/index.js`,a=e.tcString&&(0,r.p)(e.tcString)||void 0,c=a?.vendorListVersion||`${s("tcfv2.gvlUiVersion","51")}`,u=e.acmVersion;delete e.acmVersion,e=(0,S.c)({},f,{brokerId:l,gvlVersion:c,cvlVersion:u},e),o("controller starting options:",e),async function(e,t){return new Promise(((n,r)=>{const o=i.createElement("script");o.src=e,o.id="mol-ads-tcfv2-script",o.dataset.opts=JSON.stringify(t),o.onload=()=>n(),o.onerror=()=>r(new Error(`Error loading ${e}`)),i.head.appendChild(o)}))}(t,e).catch((e=>{o("error loading tcfv2 script",e)}))})),c.on("plugins enabled",(()=>{h("ads-initialised")})),a.addEventListener("message",(async e=>{const t=e.data;"@mol-ads/mol-ads-cmp"===t.ns&&t.id===l&&t.sender!==u&&("is_ready"===t.action&&c.emit("TCFV2 controller ready"),"level_changed"===t.action&&n.emit("send event to bidmax",{type:"custom",payload:{changed:!0,event:"ui-open",level:t.payload.currentLevel,module:"tcfv2"}}))}))}function T(e){(async function(e){let{localBroker:t,log:n,setConfig:r}=e;t.on("local consent data resolved",(async e=>{let[o]=await t.invokeAll("get local consent degree"),i=e;e?.tcString?.length||(n("no cached tcData, waiting for cmp"),[{tcData:i}]=await t.until("valid consent from controller"),n("tcData",i),o=await(0,b.k)("getConsentDegree")),n("valid consent: ",{tcData:i,consentDegree:o}),r("cmp.consent",o),t.emit("valid consent",i,o)}))})(e).catch(e.log.error)}function P(e){let{localBroker:t,win:n}=e;n.openUi=e=>{const{reason:n="unknown",uiLevel:r="Level1"}="string"==typeof e?{uiLevel:e,reason:"unknown"}:e||{};t.emit("openUi",{reason:n,uiLevel:r}),t.emit("add user journey",`openRequest-${n}`)}}const O=["pagehide","beforeunload","unload"],R={capture:!0,passive:!0};function x(e){let t,{broker:n,localBroker:r,log:o}=e,i=!1;function s(){i||(o("onUnload called",t),o("force sync dispatcher"),i=!0,r.bus.setDispatcher((e=>e())),r.bus.globalTimeoutOverride=0,r.emit("send event to bidmax",{type:"page-unload",payload:t}))}O.forEach((e=>{window.addEventListener(e,s,R)})),n.once("system ready",(()=>{n.register("call for page-unload",(()=>({tcfv2:t}))),O.forEach((e=>window.removeEventListener(e,s,R)))})),r.on("add user journey",(e=>{t=(t?`${t},${e}`:e).substring(0,200)})),r.register("get journey so far",(()=>t))}async function L(e){let{localBroker:t}=e;await t.until("local consent data resolved"),t.invokeAll("start cmp")}async function D(e){let{localBroker:t,pageCriteria:n,pageGeoInfo:r,device:o,getConfig:i}=e;const s=i("cmp.model","tcfv2");t.register("get controller starting options",(async()=>({geo:n?.geo?.toLowerCase()||(await(r?.()))?.Country?.toLowerCase()||"",renderPlatform:i("tcfv2.renderPlatform",o),platform:"web",gvlEnvironment:"web",cmpModel:s})))}function M(e){let{win:t,localBroker:n,log:r}=e;t.__tcfapi("addEventListener",2,(e=>{e.cached?r("Event came from cache re-run, ignoring:",e):n.emit("api event",e.eventStatus,e)})),n.on("api event","tcloaded",(function(e){const t=function(e){return!e.tcString.length}(e);t?(n.emit("add user journey","newUser"),n.emit("openUi",{reason:"newUser",uiLevel:"Level1"})):(n.emit("add user journey","loaded"),n.emit("send event to bidmax",{type:"custom",payload:{event:"loaded",module:"tcfv2"}})),n.emit("loaded",{tcData:e,newUser:t})})),n.on("api event","cmpuishown",(function(e){n.emit("send event to bidmax",{type:"custom",payload:{event:"ui-opened",module:"tcfv2",reason:o}}),n.emit("add user journey","uiOpened"),n.emit("ui opened",{tcData:e})})),n.on("api event","useractioncomplete",(async function(e){r("uiClosed",e),await n.invokeAll("ui closed",{tcData:e}),n.emit("send event to bidmax",{type:"custom",payload:{event:"ui-closed",module:"tcfv2",reason:o}}),n.emit("add user journey","uiClosed"),o="unknown"})),async function(e){let{localBroker:t,log:n}=e;const r=t.untilInvoke("ui closed");let[{tcData:o,newUser:i=!1}]=await t.until("loaded");n("cmp loaded",{tcData:o,newUser:i}),i&&([{tcData:o}]=await r,n("cmp ui closed",{tcData:o})),t.emit("valid consent from controller",{tcData:o})}({localBroker:n,log:r}).catch(r);let o="unknown";n.intercept("openUi",((e,t)=>{let[n,{reason:r}]=e;return o=r,t()}))}var j=n(6224);const B={yes:"true",no:"false",partial:"custom"};async function U(e){const{broker:t,log:n}=e,o=async function(e){let{localBroker:t,log:n,getConfig:o}=e;const i=o("tcfv2.par",{vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]}}),[s,a]=await t.until("valid consent");n("consentDegree",a);const c=(0,r.p)(s.tcString).vendorListVersion,l={consent:B[a],gdpr:s.gdprApplies?"1":"0",gdpr_consent:s.tcString,cmp:o("cmp.model","tcfv2"),iabv:c},u=await(0,j.u_)("tcfv2.personalisedAds",i);l.google_consent=u;const d=u?0:1,f=u?l:{...l,npa:d};return n("dfp targeting:",f),f}(e);t.emit("set page level targeting",o),N(e,o);const i=await o,s=i.google_consent?0:1,a={cust_params:{...i},npa:s};n("video tags",a),t.emit("sync video tags update",a),n("done with gpt")}const N=(e,t)=>{let{broker:n,getConfig:r,log:o}=e;r("tcfv2.setGptPersonalisedAdsState",!0)&&n.once("gpt initialized",(async e=>{const{google_consent:n}=await t;n?o("google personalised ads enabled"):(o("setting non-personalised ads"),e.pubads().setPrivacySettings({nonPersonalizedAds:!0}))}))};function V(e){let{broker:t,doc:n,win:r}=e;t.on("openCmpBanner",(e=>{let{uiLevel:t="Level2"}=e;r.openUi?.({uiLevel:t,reason:"userRequest"})})),t.once("dom ready",(()=>{n.querySelectorAll("a[href^='javascript:window.__cmp.a.push([\\'openSettings\\']']").forEach((e=>{e.href="javascript:window.openUi({ uiLevel: 'Level2', reason: 'userRequest' })"}))}))}async function $(e){let{localBroker:t,log:n}=e;const r=await t.invokeAll("get local storage consent data"),o=r?.[0]||{};n("localStorageTCData",o);const i=(await t.invokeAll("get local consent data",o)).filter((e=>e));n("tcDatas",i);let s=(0,p.gl)(o,["acmVersion","addtlConsent","molGvlVersion","nrvString","nrvVersion","repromptVersion","tcString"]);if(t.register("get controller starting options",(()=>s)),!i.length)return n("emit tcData from localStorage",o),void t.emit("local consent data resolved",o);const a=i.reduce(((e,t)=>{let{src:n,tcData:r}=t;return{...e,[n]:r}}),{});s=a.consentDataFromAmp||a.consentDataFromLocalStorageForAmp||a.consentDataFromUrl||a.consentDataFromTCFV2Opts||a.consentOrPay||s,n("tcDatasMap",a),n("localStorageTCData",o),n("controllerOpts",s),t.emit("local consent data resolved",void 0)}const F={iab:async e=>(await(0,b.k)("consentedVendors")).includes(e),google:async e=>{const t=await(0,b.k)("getCustomVendorsConsents");return t[e]?.consent},nrv:async e=>{const t=await(0,b.k)("getNonRegisteredVendorsConsents");return t[e]?.consent}},W=async e=>{const{vendorRegistry:t,vendorId:n}=e,r=F[t];if(r){const e="string"==typeof n?parseInt(n):n;return isNaN(e)?{errorMsg:"invalid vendorId"}:await r(e)?{isConsented:!0}:{isConsented:!1}}return{errorMsg:"vendorRegistry not recognised, valid values are 'iab'|'google'|'nrv'"}},q=["cmp-option:consent-or-pay"],z=e=>!(!e?.hasUserConsentedToMandatory&&!e?.hasUserConsentedToAll),G=(e,t)=>!(!t||!e.includes(f.s)),H=e=>z(e),J=e=>z(e);async function Y(e){let{getConfig:t,localBroker:n,broker:r,log:o,win:i,DM:s}=e;const a=t("tcfv2.consentOrPay.enabled",!1);if(o("isConsentOrPayMode",a),!a)return void o("not in consent or pay mode, bailing");let c;r.register("call for page analytics",(()=>({tcfcopm:!0,tcfcope:c})));const l=(0,f.c7)();o("entitlementsAtlaunch",l);const u=i.getPaywallEntitlementsMightChange?.();o("entitlementsMightChange",u),o("isPaidSubscriber",(0,f.gl)(l));const d=i.DM?.later?.(["REFRESHED_PAYWALL_ENTITLEMENT"]).then((()=>{const e=(0,f.Ky)();return o("refreshedEntitlements",e),c=e,e}));if(u&&s?.isLoggedIn)return n.register("get controller starting options",(async()=>{const e=await(async(e,t)=>{const n=await e||[],r=(0,f.gl)(n),o=(0,f.YV)(),i=JSON.parse(localStorage.getItem((0,f.YV)())||"{}"),s={isMailEssentialSubscriber:G(n,!0),isUserLoggedIn:!0,persistTags:q};return t("cacheKey",o),r&&(s.persistTags?.push(`entitlement:${f.s}`),i?.getTCData?.tcString?.length||(s.dissentUser=!0)),s})(d,o);return e})),void n.register("get local consent data",(async()=>{const e=await d||[];if(!(0,f.gl)(e))return(e=>{const t=(0,f.YV)(),n=JSON.parse(localStorage.getItem(t)||"{}");if(e("attempting to validate logged in user with userCachedData"),H(n))return void e("user logged in, consent data valid");const r=JSON.parse(localStorage.getItem(f.ai)||"{}");return e("attempting to validate default tcData for logged in user"),J(r)?(e("default tcData valid for logged in user, provding default",r),{src:"consentOrPay",tcData:r.getTCData||{}}):void 0})(o)}));c=l;const p=(0,f.YV)();o("cacheKey",p);const h=JSON.parse(localStorage.getItem(p)||"{}"),g=((e,t,n)=>!(!e?.isLoggedIn||!((e,t)=>{return(0,f.gl)(e)&&(n=t,!!n?.getTCData?.tcString);var n})(t,n)))(s,l,h);if(n.register("get controller starting options",(()=>{const e=G(l,s?.isLoggedIn),t={isMailEssentialSubscriber:e,isUserLoggedIn:!!s?.isLoggedIn,persistTags:q};return e&&(t.persistTags.push(`entitlement:${f.s}`),g||(t.dissentUser=!0)),t})),o("attempting to validate logged in subscribed user"),g)return void o("user subscribed, consent data valid");const m=JSON.parse(localStorage.getItem(f.ai)||"{}");if(o("attempting to validate logged in user with userCachedData"),s?.isLoggedIn&&H(h))o("user logged in, consent data valid");else{if(o("attempting to validate default tcData for logged in user"),s?.isLoggedIn&&J(m))return o("default tcData valid for logged in user, provding default"),void n.register("get local consent data",(async()=>({src:"consentOrPay",tcData:m.getTCData||{}})));o("attempting to validate default data for logged out user",m),!s?.isLoggedIn&&z(m)?o("user not logged in, default data valid"):(o("default consent data invalid, resetting"),n.register("get local consent data",(async()=>({src:"consentOrPay",tcData:{}}))))}}var K=n(3012);const X=[L,async function(e){let t,{getConfig:n,log:r,localBroker:o,doc:s}=e,a=!1;const c=new K.CC;function l(){r("scroll detected"),c.dispose(),a||(r("There was a scroll event before valid consent"),o.emit("send event to bidmax",{type:"custom",payload:{module:"tcfv2",event:"bannerBlocked",eventStatus:t?.eventStatus}}))}c.onceBrokerEvent(o,"local consent data resolved",(e=>{t=e})),c.onceBrokerEvent(o,"valid consent",(function(){r("choice made, removing scroll handlers"),c.dispose(),a=!0})),await Promise.race([o.until("valid consent"),o.until("ui opened").then((()=>(0,i.me)(Number(n("tcfv2.bannerblockreporter.timeout",1e3))))).then((()=>{r("adding scroll handlers"),c.addEventListener(s,"scroll",l,{once:!0}),c.addEventListener(s,"touchmove",l,{once:!0})}))])},$,d,o,function(e){let{getConfig:t,queryParams:r,localBroker:o}=e;if(!r.gdpr_consent&&!r.addtl_consent)return;const i=new URLSearchParams(n.g.location.search);["gdpr_consent","addtl_consent"].forEach((e=>i.delete(e)));const s=function(e){const{done:t}=e.keys().next();return!t}(i)?`?${i}${n.g.location.hash}`:`${n.g.location.pathname}${n.g.location.hash}`;history.replaceState(null,"remove query params to ensure bid requests don't exceed size",s),o.register("get local consent data",(()=>({src:"consentDataFromUrl",tcData:{tcString:r.gdpr_consent,addtlConsent:r.addtl_consent,acmVersion:"2",repromptVersion:t("tcfv2.reprompt.version",0)}})))},function(e){let{getConfig:t,localBroker:n,log:r,win:o}=e;if((0,f.uu)(o))return void r("in amp page, bailing");const i=new Promise((e=>{if(o.getPaywallEntitlementsMightChange?.())r("awaiting entitlement refresh"),e(o.DM?.later?.(["REFRESHED_PAYWALL_ENTITLEMENT"]).then((()=>{const e=(0,f.YV)();return r("using cacheKey",e),JSON.parse(localStorage.getItem(e)||"{}")})));else{const t=(0,f.YV)();r("using cacheKey",t),e(JSON.parse(localStorage.getItem(t)||"{}"))}}));n.register("get local consent degree",(async()=>{const e=await i;return e?.getConsentDegree||void 0})),n.register("get local storage consent data",(async()=>{const e=await i;return e?.getTCData||{}})),n.register("ui closed",(async e=>{let{tcData:s}=e;await o.adverts.updateCache(s,r),await n.invokeAll("cache updated",s);const a=await i;(a?.getTCData||{}).tcString&&t("tcfv2.consentOrPay.enabled",!1)&&o.location.reload()})),n.on("loaded",(async e=>{let{tcData:t}=e;await o.adverts.updateCache(t,r),await n.invokeAll("cache updated",t)}))},async function(e){let{localBroker:t,getConfig:n,log:o}=e;const i=n("tcfv2.consentMaxAgeMonths",12),s=(0,p.q6)(-i),[a]=await t.until("valid consent");((e,t)=>(0,r.p)(e.tcString).lastUpdated.getTime()<(t.getTime()||0))(a,s)&&(o("opening UI as tcString expired"),t.emit("openUi",{uiLevel:"Level1",reason:"tcStringExpired"}),t.emit("add user journey","tcStringExpired"),await t.untilInvoke("ui closed"))},async function(e){let{localBroker:t,getConfig:n,queryParams:r,log:o,localStorage:i,win:s}=e;if(r.gdpr_consent)return void o("bailing reprompt coz gdpr_consent was passed in url");const a=y(),c=n("tcfv2.repromptMigrations",[n("tcfv2.reprompt",{version:0,chance:0})]),l=(0,h.GS)(c).version;t.on("local consent data resolved",(async e=>{let n=e?.repromptVersion||a.version||l,r=l;if(t.register("get controller starting options",(()=>({repromptVersion:n,nextRepromptVersion:r}))),!e?.tcString)return void(n=l);const[u]=await t.until("valid consent"),d=await async function(e){if(!e?.tcString)return o("it looks like new user, bailing reprompt"),{shouldRepromptUser:!1};const t=e.repromptVersion||a.version||0;let n=t;const r=c.filter((e=>e.version>n)),i=r.some((e=>Array.isArray(e.onlyIfDissentedFromAny)))?await new Promise((e=>{s.__tcfapi("getPurposesByVendorMap",2,(t=>{e(Object.keys(t))}))})):[];o("migrating",{toMigrate:r,migrations:c});for(const t of r){let r=a.chance<t.chance,s=!1;if(Array.isArray(t.onlyIfDissentedFromAny)&&(s=t.onlyIfDissentedFromAny.some((t=>i.includes(t.toString())&&!e.vendor.consents[t.toString()])),r=r&&s),o.extend("migrate")(t.version,r,{chance:t.chance,userChance:a.chance,repromptVersion:n,onlyIfDissentedFromAny:t.onlyIfDissentedFromAny,missingVendorsConsent:s,consentableVendorIds:i}),!r)break;n=t.version}const l=n>t;return o("shouldRepromptUser",l,{repromptVersion:n}),{shouldRepromptUser:l,repromptVersion:n}}(u);if(r=d.repromptVersion,d.shouldRepromptUser){o("opening UI due to reprompt"),t.emit("openUi",{uiLevel:"Level1",reason:"reprompt"}),t.emit("add user journey","reprompt");const[{tcData:e}]=await t.untilInvoke("ui closed");await v({localBroker:t,tcData:e,log:o}),i.setItem(m,JSON.stringify({date:Date.now(),version:u.repromptVersion}))}t.register("ui closed",(async e=>{let{tcData:t}=e;const n=t?.repromptVersion||0;i.setItem(g,JSON.stringify({...a,version:n}))}))}))},function(e){let{localBroker:t,queryParams:n,log:r}=e;const o=n["mol.ads.cmp.stubConsent"],i=n["mol.ads.cmp.stubDissent"];(o||i)&&(r("stubs:",{stubConsent:o,stubDissent:i}),t.once("ui opened",(()=>{o?t.emit("consent to all"):t.emit("dissent to all");const e=o?"stubConsent":"stubDissent";t.emit("send event to bidmax",{type:"custom",payload:{event:e,module:"tcfv2"}})})))},function(e){let{queryParams:t,broker:n,localBroker:r,log:o}=e;t.privacy&&(n.once("TCFV2 controller ready",(()=>{o('removing "privacy" from url'),(0,s.a_)("privacy")})),r.register("get controller starting options",(()=>({showUi:!0,uiLevel:"Level2"}))))},w,C,T,P,x,function(e){let{getConfig:t,localBroker:n,log:r,DM:o}=e;"mol"===t("site")&&n.interceptInvokeOnce("start cmp",((e,t)=>{r("awaiting for molFeReact_LOADED"),o?.later?.(["molFeReact_LOADED"],(()=>{r("molFeReact_LOADED ready"),t()}))}))},D,M,U,V,function(e){let{log:t,localBroker:n,tcfv2Opts:r}=e;r&&(t("tcfv2Opts",r),n.register("get local consent data",(()=>({src:"consentDataFromTCFV2Opts",tcData:{tcString:r.tcString||"",nrvString:r?.nrvString,nrvVersion:r?.nrvVersion,addtlConsent:r?.addtlConsent,acmVersion:r?.cvlVersion}}))))},async function(e){let{broker:t}=e;t.register("check vendor consent",W)},Y],Q=[L,$,d,o,w,C,T,P,x,D,M,U,V,Y]},6008:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(5248),o=n(9352),i=n(4120),s=n(5968);function a(e){let{registerPluginBouncer:t,log:n}=e;t((async(e,t)=>{const r=n.extend(e);r("running bouncer");const o="object"==typeof t.gdpr?!!t.gdpr.enabledIfDissent:!!t.gdpr;return r(`passed checks: ${o}`),o}))}const c=async(e,t,n)=>{const r=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{log:o}=t,i=new Set(n.map((e=>e.name))),s=setInterval((()=>o("waiting for",[...i])),5e3);await Promise.all(n.map((async n=>{o("starting",n.name);try{await n(function(n){const i=e.broker([t.broker.id,n.name].filter((e=>e)).join("::")),s=o.extend(n.name);return{...t,...r,localBroker:i,log:s}}(n))}catch(e){o.error("error starting",n.name,e)}i.delete(n.name)}))),clearInterval(s)}(n,e,t);n.start(!1),await r};function l(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Q;(0,r.C_)("tcfv2-v2",{gdpr:{enabledIfDissent:!0},initTimeout:s.AI,async init(t){const{removePlugins:n,isTCFV2Jurisdiction:o,getConfig:s,log:l,win:u,setConfig:d,broker:f}=t;if(n(["tcfv2"]),!await o(s))return void l("tcfv2 is not supported for this geo, bailing");const p=s("tcfv2.unsupportedUrls",["\\/registration\\/(?:register\\/)?[^/]*\\.html$"]);if(p?.some?.((e=>new RegExp(e).test(u.location.pathname))))return l("not loading tcfv2, unsupported page, disabling ads"),d("slots.enabled",{}),void a({...t,log:l.extend("unsupportedBouncer")});const h=s("tcfv2.deferLoadingUrls",["/home/article-7759273/Privacy-Cookies-Policy-Policy.html"]),g=function(e){const{ownName:t}=e,n=new i.Si,o=n.broker(t);return e.log.enabled&&function(e){const t=(0,r.ae)("message-trace");if(t){const n={"ads.debug.messageTrace.broker":"*"};t.init?.({...e,queryParams:n})}}({...e,broker:o}),n}(t);h?.includes?.(u.location.pathname)?(l("deferring load"),a({...t,log:l.extend("unsupportedBouncer")}),f.once("openCmpBanner",(n=>{let{uiLevel:r}=n;l("launching"),g.broker([f.id,"index"].filter((e=>e)).join("::")).once("loaded",(e=>{let{newUser:t}=e;t||f.emit("openCmpBanner",{uiLevel:r})})),c(t,e,g).then((()=>{l("initialised")}))}))):await c(t,e,g)}})}(Array.from(new Set([...o.E,...e])))}},1756:(e,t,n)=>{"use strict";n.d(t,{Ky:()=>d,YV:()=>u,ai:()=>o,c7:()=>f,gl:()=>c,s:()=>i,uu:()=>p});var r=n(5336);const o="mol.ads.cmp.tcf.cache",i="mol-reject-all",s=d(),a=n.g.DM?.userId,c=e=>a&&!!(e||d())?.includes?.(i),l=(0,r._M)("tcfv2.consentOrPay.enabled",!1),u=()=>{const e=a&&l&&`dmg.ads.consentOrPay.${function(e){let t=`${e}`;return d().includes(i)&&(t+="."+i),t}(a)}.tcf.cache`;return a&&l?e:o};function d(){return n.g.getPaywallEntitlements?.()||[]}const f=()=>s,p=e=>e.location.pathname.startsWith("/embed/gamp-video/")},2840:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return new Promise((t=>n.g.__tcfapi(e,2,(function(){return t(...arguments)}),...r)))}},7608:(e,t,n)=>{"use strict";var r=n(5248),o=n(1740),i=n(6240);(0,r.C_)("browserResolutionPlugin",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,getConfig:n,log:r}=e;if(n("bots.isBotDetected"))return;const s=()=>{const{width:e,height:n}=(0,i.iK)();r("setting browserResolution page-level targeting",e,n),t.emit("set page level targeting",{sw:e,sh:n}),t.emit("sync video tags update",{cust_params:{sw:e,sh:n}})};window.addEventListener("resize",(0,o.Cu)(s,300)),s()}})},9040:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r=Date.now()},2160:(e,t,n)=>{"use strict";const r=n(3552),o=n(8944),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(K(r))return s;e[n+s]=r}return s}function S(e,t,n,r){return J(G(t,e.length-n),e,n,r)}function _(e,t,n,r){return J(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return J(H(t),e,n,r)}function k(e,t,n,r){return J(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),l=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==u[e]){i=l[e],s=u[e];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=X[e[r]];return o}function R(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function M(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e){return D(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e){return D(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const N={};function V(e,t,n){N[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new N.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!=typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new N.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),V("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),V("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=$(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=$(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},3552:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=a(e),s=i[0],c=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),u=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,l=r-o;a<l;a+=s)i.push(c(e,a,a+s>l?l:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9012:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,s,l;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=h(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8944:(e,t)=>{t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=f,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=l}return(p?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=h,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+p]=255&s,p+=h,s/=256,l-=8);e[n+p-h]|=128*g}},8196:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},9800:function(e){!function(t){var n,r={},o={16:!1,18:!1,17:!1,91:!1},i="all",s={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},a={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},c=function(e){return a[e]||e.toUpperCase().charCodeAt(0)},l=[];for(n=1;n<20;n++)a["f"+n]=111+n;function u(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function d(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var f={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function p(e){for(n in o)o[n]=e[f[n]]}function h(e,t,n){var o,i;o=m(e),void 0===n&&(n=t,t="all");for(var s=0;s<o.length;s++)i=[],(e=o[s].split("+")).length>1&&(i=y(e),e=[e[e.length-1]]),e=e[0],(e=c(e))in r||(r[e]=[]),r[e].push({shortcut:o[s],scope:t,method:n,key:o[s],mods:i})}for(n in s)h[n]=!1;function g(){return i||"all"}function m(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function y(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=s[t[n]];return t}function v(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}v(document,"keydown",(function(e){!function(e){var t,n,i,a,c,d;if(t=e.keyCode,-1==u(l,t)&&l.push(t),93!=t&&224!=t||(t=91),t in o)for(i in o[t]=!0,s)s[i]==t&&(h[i]=!0);else if(p(e),h.filter.call(this,e)&&t in r)for(d=g(),a=0;a<r[t].length;a++)if((n=r[t][a]).scope==d||"all"==n.scope){for(i in c=n.mods.length>0,o)(!o[i]&&u(n.mods,+i)>-1||o[i]&&-1==u(n.mods,+i))&&(c=!1);(0!=n.mods.length||o[16]||o[18]||o[17]||o[91])&&!c||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),v(document,"keyup",(function(e){var t,n=e.keyCode,r=u(l,n);if(r>=0&&l.splice(r,1),93!=n&&224!=n||(n=91),n in o)for(t in o[n]=!1,s)s[t]==n&&(h[t]=!1)})),v(window,"focus",(function(){for(n in o)o[n]=!1;for(n in s)h[n]=!1}));var b=t.key;t.key=h,t.key.setScope=function(e){i=e||"all"},t.key.getScope=g,t.key.deleteScope=function(e){var t,n,o;for(t in r)for(n=r[t],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=c(e)),-1!=u(l,e)},t.key.getPressedKeyCodes=function(){return l.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=b,e},t.key.unbind=function(e,t){var n,o,i,s,a,l=[];for(n=m(e),s=0;s<n.length;s++){if((o=n[s].split("+")).length>1&&(l=y(o),e=o[o.length-1]),e=c(e),void 0===t&&(t=g()),!r[e])return;for(i=0;i<r[e].length;i++)(a=r[e][i]).scope===t&&d(a.mods,l)&&(r[e][i]={})}},e.exports=h}(this)},3e3:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",l="[object Null]",u="[object Object]",d="[object Proxy]",f="[object Undefined]",p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[i]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[a]=g["[object Map]"]=g["[object Number]"]=g[u]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var m,y,v,b="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,w="object"==typeof self&&self&&self.Object===Object&&self,S=b||w||Function("return this")(),_=t&&!t.nodeType&&t,E=_&&e&&!e.nodeType&&e,k=E&&E.exports===_,I=k&&b.process,A=function(){try{return E&&E.require&&E.require("util").types||I&&I.binding&&I.binding("util")}catch(e){}}(),C=A&&A.isTypedArray,T=Array.prototype,P=Function.prototype,O=Object.prototype,R=S["__core-js_shared__"],x=P.toString,L=O.hasOwnProperty,D=(m=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",M=O.toString,j=x.call(Object),B=RegExp("^"+x.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=k?S.Buffer:void 0,N=S.Symbol,V=S.Uint8Array,$=(U&&U.allocUnsafe,y=Object.getPrototypeOf,v=Object,function(e){return y(v(e))}),F=Object.create,W=O.propertyIsEnumerable,q=T.splice,z=N?N.toStringTag:void 0,G=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),H=U?U.isBuffer:void 0,J=Math.max,Y=Date.now,K=fe(S,"Map"),X=fe(Object,"create"),Q=function(){function e(){}return function(t){if(!ke(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t,n){(void 0!==n&&!ye(e[t],n)||void 0===n&&!(t in e))&&se(e,t,n)}function oe(e,t,n){var r=e[t];L.call(e,t)&&ye(r,n)&&(void 0!==n||t in e)||se(e,t,n)}function ie(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1}function se(e,t,n){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Z.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(X){var n=t[e];return n===r?void 0:n}return L.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:L.call(t,e)},Z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=X&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ie(t,e);return!(n<0||(n==t.length-1?t.pop():q.call(t,n,1),--this.size,0))},ee.prototype.get=function(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ie(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(K||ee),string:new Z}},te.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return de(this,e).get(e)},te.prototype.has=function(e){return de(this,e).has(e)},te.prototype.set=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!K||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};function ae(e){return null==e?void 0===e?f:l:z&&z in Object(e)?function(e){var t=L.call(e,z),n=e[z];try{e[z]=void 0;var r=!0}catch(e){}var o=M.call(e);return r&&(t?e[z]=n:delete e[z]),o}(e):function(e){return M.call(e)}(e)}function ce(e){return Ie(e)&&ae(e)==i}function le(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var a=i[++r];if(!1===t(o[a],a,o))break}}(t,(function(i,s){if(o||(o=new ne),ke(i))!function(e,t,n,r,o,i,s){var a=ge(e,n),c=ge(t,n),l=s.get(c);if(l)re(e,n,l);else{var d,f,p,h,g,m=i?i(a,c,n+"",e,t,s):void 0,y=void 0===m;if(y){var v=be(c),b=!v&&Se(c),w=!v&&!b&&Ae(c);m=c,v||b||w?be(a)?m=a:Ie(g=a)&&we(g)?m=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(a):b?(y=!1,m=function(e,t){return e.slice()}(c)):w?(y=!1,h=new(p=(d=c).buffer).constructor(p.byteLength),new V(h).set(new V(p)),f=h,m=new d.constructor(f,d.byteOffset,d.length)):m=[]:function(e){if(!Ie(e)||ae(e)!=u)return!1;var t=$(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&x.call(n)==j}(c)||ve(c)?(m=a,ve(a)?m=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=void 0;void 0===c&&(c=e[a]),o?se(n,a,c):oe(n,a,c)}return n}(e,Ce(e))}(a):ke(a)&&!_e(a)||(m=function(e){return"function"!=typeof e.constructor||he(e)?{}:Q($(e))}(c))):y=!1}y&&(s.set(c,m),o(m,c,r,i,s),s.delete(c)),re(e,n,m)}}(e,t,s,n,le,r,o);else{var a=r?r(ge(e,s),i,s+"",e,t,o):void 0;void 0===a&&(a=i),re(e,s,a)}}),Ce)}var ue=G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Oe;function de(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ke(e)||function(e){return!!D&&D in e}(e))&&(_e(e)?B:p).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function pe(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&h.test(e))&&e>-1&&e%1==0&&e<t}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function ge(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var me=function(e){var t=0,n=0;return function(){var r=Y(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ue);function ye(e,t){return e===t||e!=e&&t!=t}var ve=ce(function(){return arguments}())?ce:function(e){return Ie(e)&&L.call(e,"callee")&&!W.call(e,"callee")},be=Array.isArray;function we(e){return null!=e&&Ee(e.length)&&!_e(e)}var Se=H||function(){return!1};function _e(e){if(!ke(e))return!1;var t=ae(e);return t==a||t==c||t==s||t==d}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==typeof e}var Ae=C?function(e){return function(t){return e(t)}}(C):function(e){return Ie(e)&&Ee(e.length)&&!!g[ae(e)]};function Ce(e){return we(e)?function(e,t){var n=be(e),r=!n&&ve(e),o=!n&&!r&&Se(e),i=!n&&!r&&!o&&Ae(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var l in e)!t&&!L.call(e,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||pe(l,c))||a.push(l);return a}(e,!0):function(e){if(!ke(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=he(e),n=[];for(var r in e)("constructor"!=r||!t&&L.call(e,r))&&n.push(r);return n}(e)}var Te,Pe=(Te=function(e,t,n){le(e,t,n)},function(e,t){return me(function(e,t,n){return t=J(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=J(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,Oe),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Te.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!ke(n))return!1;var r=typeof t;return!!("number"==r?we(n)&&pe(t,n.length):"string"==r&&t in n)&&ye(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var s=t[n];s&&Te(e,s,n)}return e})));function Oe(e){return e}e.exports=Pe},9708:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},4672:e=>{"use strict";var t={};function n(e,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,i,s,a,c;if("string"==typeof t&&(i="not ",t.substr(0,4)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-9,n)===t}(e," argument"))s="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var l=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(l," ").concat(o," ").concat(r(t,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.i=t},1872:(e,t,n)=>{"use strict";var r=n(9708),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(2376),s=n(3856);n(8196)(u,i);for(var a=o(s.prototype),c=0;c<a.length;c++){var l=a[c];u.prototype[l]||(u.prototype[l]=s.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5860:(e,t,n)=>{"use strict";e.exports=o;var r=n(192);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n(8196)(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},2376:(e,t,n)=>{"use strict";var r,o=n(9708);e.exports=I,I.ReadableState=k,n(9012).EventEmitter;var i,s=function(e,t){return e.listeners(t).length},a=n(4172),c=n(2160).Buffer,l=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=n(2088);i=u&&u.debuglog?u.debuglog("stream"):function(){};var d,f,p,h=n(6820),g=n(8624),m=n(704).getHighWaterMark,y=n(4672).i,v=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,S=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(8196)(I,a);var _=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(e,t,o){r=r||n(1872),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",o),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(8240).o),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function I(e){if(r=r||n(1872),!(this instanceof I))return new I(e);var t=this instanceof r;this._readableState=new k(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function A(e,t,n,r,o){i("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}(e,a);else if(o||(s=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}(a,t)),s)_(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r)a.endEmitted?_(e,new S):C(e,a,t,!0);else if(a.ended)_(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?C(e,a,t,!1):x(e,a)):C(e,a,t,!1)}else r||(a.reading=!1,x(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),x(e,t)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=g.destroy,I.prototype._undestroy=g.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},I.prototype.unshift=function(e){return A(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){d||(d=n(8240).o);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";null!==r;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var T=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(R,e))}function R(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function x(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(L,e,t))}function L(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){i("readable nexttick read 0"),e.read(0)}function j(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function N(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(V,t,e))}function V(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function $(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}I.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):O(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(r=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(e){_(this,new w("_read()"))},I.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var a=t&&!1===t.end||e===o.stdout||e===o.stderr?g:c;function c(){i("onend"),e.end()}r.endEmitted?o.nextTick(a):n.once("end",a),e.on("unpipe",(function t(o,s){i("onunpipe"),o===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",d),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",l);var u=!1;function d(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==$(r.pipes,e))&&!u&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){i("onerror",t),g(),e.removeListener("error",f),0===s(e,"error")&&_(e,t)}function p(){e.removeListener("finish",h),g()}function h(){i("onfinish"),e.removeListener("close",p),g()}function g(){i("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",p),e.once("finish",h),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=$(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},I.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?O(this):r.reading||o.nextTick(M,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(D,this),n},I.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(D,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(j,e,t))}(this,e)),e.paused=!1,this},I.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(4656)),f(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=U,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(I.from=function(e,t){return void 0===p&&(p=n(8472)),p(I,e,t)})},192:(e,t,n)=>{"use strict";e.exports=u;var r=n(4672).i,o=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(1872);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(8196)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new o("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},3856:(e,t,n)=>{"use strict";var r,o=n(9708);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=I,I.WritableState=k;var s,a={deprecate:n(1152)},c=n(4172),l=n(2160).Buffer,u=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=n(8624),f=n(704).getHighWaterMark,p=n(4672).i,h=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,v=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,_=d.errorOrDestroy;function E(){}function k(e,t,s){r=r||n(1872),e=e||{},"boolean"!=typeof s&&(s=t instanceof r),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(R,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),R(e,t))}(e,n,r,t,i);else{var s=P(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?o.nextTick(C,e,n,s,i):C(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(e){var t=this instanceof(r=r||n(1872));if(!t&&!s.call(I,this))return new I(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function A(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function C(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,A(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(A(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=P(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(8196)(I,c),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===I&&e&&e._writableState instanceof k}})):s=function(e){return e instanceof this},I.prototype.pipe=function(){_(this,new y)},I.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,l.isBuffer(r)||r instanceof u);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=E),i.ending?function(e,t){var n=new w;_(e,n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i;return null===n?i=new b:"string"==typeof n||t.objectMode||(i=new h("chunk",["string","Buffer"],n)),!i||(_(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n)),t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,a,r,o,i);return c}(this,i,a,e,t,n)),s},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,n){n(new g("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=d.destroy,I.prototype._undestroy=d.undestroy,I.prototype._destroy=function(e,t){t(e)}},4656:(e,t,n)=>{"use strict";var r,o=n(9708);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(2896),a=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var n=e[p].read();null!==n&&(e[d]=null,e[a]=null,e[c]=null,t(h(n,!1)))}}function m(e){o.nextTick(g,e)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise((function(t,n){o.nextTick((function(){e[l]?n(e[l]):t(h(void 0,!0))}))}));var n,r=this[d];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(h(void 0,!0)):t[f](n,r)}),r)}}(r,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(h(i,!1));n=new Promise(this[f])}return this[d]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[p].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),y);e.exports=function(e){var t,n=Object.create(v,(i(t={},p,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[p].read();r?(n[d]=null,n[a]=null,n[c]=null,e(h(r,!1))):(n[a]=e,n[c]=t)},writable:!0}),t));return n[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[c];return null!==t&&(n[d]=null,n[a]=null,n[c]=null,t(e)),void(n[l]=e)}var r=n[a];null!==r&&(n[d]=null,n[a]=null,n[c]=null,r(h(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},6820:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=n(2160).Buffer,l=n(5288).inspect,u=l&&l.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,n,r,o=c.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,n=o,r=s,c.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0==(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0==(e-=i)){i===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(i));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return l(this,o(o({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},8624:(e,t,n)=>{"use strict";var r=n(9708);function o(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,e)):r.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(i,n):(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t?(r.nextTick(i,n),t(e)):r.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},2896:(e,t,n)=>{"use strict";var r=n(4672).i.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,n,i){if("function"==typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||o);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,s||i.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||i.call(t)},p=function(e){i.call(t,e)},h=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",h),t.req?g():t.on("request",g)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",f),t.on("finish",u),!1!==n.error&&t.on("error",p),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",h)}}},8472:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},2272:(e,t,n)=>{"use strict";var r,o=n(4672).i,i=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var u,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var f=t.map((function(e,o){var i=o<t.length-1;return function(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(2896)),r(e,{readable:t,writable:o},(function(e){if(e)return i(e);a=!0,i()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}(e,i,o>0,(function(e){u||(u=e),e&&f.forEach(c),i||(f.forEach(c),d(u))}))}));return t.reduce(l)}},704:(e,t,n)=>{"use strict";var r=n(4672).i.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,o,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(o?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},4172:(e,t,n)=>{e.exports=n(9012).EventEmitter},4e3:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new O(r||[]);return o(s,"_invoke",{value:A(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",g="completed",m={};function y(){}function v(){}function b(){}var w={};l(w,s,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(R([])));_&&_!==n&&r.call(_,s)&&(w=_);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,s,a){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function A(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:x}}function x(){return{value:t,done:!0}}return v.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},k(I.prototype),l(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new I(u(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},7400:(e,t,n)=>{var r=n(2160),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},8940:(e,t,n)=>{e.exports=o;var r=n(9012).EventEmitter;function o(){r.call(this)}n(8196)(o,r),o.Readable=n(2376),o.Writable=n(3856),o.Duplex=n(1872),o.Transform=n(192),o.PassThrough=n(5860),o.finished=n(2896),o.pipeline=n(2272),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},8240:(e,t,n)=>{"use strict";var r=n(7400).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.o=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=s(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=s(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=s(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1152:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},2440:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function s(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(o)}},2628:(e,t,n)=>{"use strict";var r=n(5336),o=n(9156),i=n(6240),s=n(4856);const a=(async()=>new Promise((async(e,t)=>{try{e({...await((await fetch("https://cdn.metro.co.uk/geo/locationjson.html"))?.json()),...(0,r._M)("geo",{})})}catch(t){e({Country:"UK",REGION_CODE:"GB",CITY:"LONDON",INEU:!0,INUS:!1})}})))(),c=(0,o.e)("context"),l=async e=>{const t=(await a)?.Country?.toLowerCase();return e("tcfv2.enabled",t&&e("tcfv2.enabledGeos",[]).includes(t))};const u=async()=>{const e=await a;let t={pageCriteria:{pageType:n.g.PageContext?.pageData?.type,device:s.c,isMobile:"mobile"===s.c,geo:e?.Country||"null",...e,...n.g.getPageCriteria&&n.g.getPageCriteria()||{}}};if(t.pageCriteria.isAMP){const e=await async function({log:e}){return new Promise((t=>{const n=r=>{((e,t)=>e.source===window.parent&&e.origin!==window.location.origin&&e.data&&"amp"===e.data.sentinel&&"consent-data"===e.data.type)(r)&&(e("consentMetaData",r.data.consentMetadata),e("consentString",r.data.consentString),window.removeEventListener("message",n),t(r.data.consentString))};window.addEventListener("message",n),window.parent.postMessage({sentinel:"amp",type:"send-consent-data"},"*")}))}(c);t.ccpaOpts={IABUSPrivacy_String:e},c("AMP ccpaOpts",e)}try{t={device:s.c,isTCFV2Jurisdiction:l,location:n.g.location,pageGeoInfo:()=>a,queryParams:i.y0,pageMeta:{...n.g.getPageMetadata&&n.g.getPageMetadata()||{}},...t}}catch(e){c.warn("Error initialising context",e)}return t};var d=n(4120),f=n(6224);const p=(0,o.e)("processQueue"),h=d.cp.broker("processQueue");function g(e){if(function(e){return"object"==typeof e&&null!==e&&"string"==typeof e.scope}(e))!function(e){p("api item",e),h.emit("api message",e.scope,e.data)}(e);else if(function(e){const{adverts:t}=n.g;return Array.isArray(e)&&e.length>=3&&e.length<=5&&"FacadeQueueItem"===e[0]&&"function"==typeof t[e[1]]&&Array.isArray(e[2])&&["undefined","function"].includes(typeof e[3])&&["undefined","function"].includes(typeof e[4])}(e))!function(e){const{adverts:t}=n.g,[,r,o,i,s]=e;p("calling",r,o);try{const e=t[r](...o);i?.(e)}catch(e){p.error(e),s?.(e)}}(e);else if("function"==typeof e)try{e()}catch(t){p.error("error processing item:",e,t)}else p.error("unsupported task type:",e)}var m=n(1180),y=n(1756);const v="__tcfapiLocator",b=["getTCData","hasUserConsentedToAll","hasUserDissentedToAll","getPurposesByVendorMap","getConsentDegree","getValidTCData","consentedVendors","getNonRegisteredVendorsConsents","getNonRegisteredVendors","getStoredRepromptVersion","hasUserConsentedToMandatory"],w=location.search.match(/adsDebug=[^&]*tcfv2/)?function(){return console.info(...arguments)}:()=>{},S=[],_=window;let E=!1;const k=!(0,r._M)("tcfv2.consentOrPay.enabled",!1)||!n.g.getPaywallEntitlementsMightChange();function I(){const e=_.document;if(!_.frames[v])if("interactive"===e.readyState||"complete"===e.readyState){const t=e.createElement("iframe");t.style.display="none",t.name=v,e.body.appendChild(t),E&&(e.removeEventListener("readystatechange",I),E=!1)}else"function"==typeof e.addEventListener?(e.addEventListener("readystatechange",I),E=!0):setTimeout(I,5)}w("consentOrPay: canUseCache",k),w("creating");let A={};if(k){const e=localStorage.getItem((0,y.YV)());e&&(A=JSON.parse(e))}let C=0;const T={};function P(){let e;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return S;const o=n[2],i=n[0];switch(i){case"setGdprApplies":n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof o&&o("set",!0));break;case"ping":"function"==typeof o&&o({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"});break;default:if(b.length){if("addEventListener"===i)return((e,t)=>{const n=A.getTCData,r=C++;w("adding provisional listener:",r),T[r]={},S.push(["addEventListener",2,(e,n)=>{const o=e.listenerId;T[r]?(T[r].realListenerId=o,T[r].listenerId=o,t({...e,listenerId:r},n)):w("ignoring event coz already removed listener:",{listenerId:r,realListenerId:o})}]),n&&t({...n,listenerId:r,eventStatus:"tcloaded",cached:!0},!0)})(0,o);if("removeEventListener"===i)return((e,t)=>{const n=e[3];w("removing provisional listener:",n);const r=T[n];if(!r)return w("unknown listener:",n),void t(!1);const o=r.realListenerId;delete T[n],o&&S.push(["removeEventListener",2,e=>t(e),o]),t(!0)})(n,o)}if(k){if(~b.indexOf(i)){n[3]&&w("cache method called with argument:",n[3]);const e=A[i];if(void 0!==e)return w("returning cached value for",i),void o(e,!0)}}else w("consentOrPay, not using cache");w("queueing",i),S.push(n)}}function O(e){const t=e&&e.source;if(!t||"function"!=typeof t.postMessage)return void(t&&"function"!=typeof t.postMessage&&w("Message event.source.postMessage is not a function, bailing"));const n="string"==typeof e.data;let r=e.data;if(n)try{r=JSON.parse(e.data)}catch(e){return}if("object"==typeof r&&r.__tcfapiCall){const e=r.__tcfapiCall;window.__tcfapi(e.command,e.version,((r,o)=>{const i={__tcfapiReturn:{returnValue:r,success:o,callId:e.callId}};t.postMessage(n?JSON.stringify(i):i,"*")}),e.parameter)}}async function R(e,t){if(e.tcString.length){const e=(0,y.YV)();t("consentorpay: using cacheKey",e);const r=b.map((r=>new Promise((o=>{n.g.__tcfapi(r,2,((n,i)=>{if(t("caching",r),i){const t=JSON.parse(localStorage.getItem(e))||{};t[r]=n,localStorage.setItem(e,JSON.stringify(t))}else t("error caching method:",r);o()}))}))));await Promise.all(r)}}var x=n(7408);const L=["scriptLoader","account","gpt","slotController","slotDefinition","conditionalLoad","refreshManager","runtimeMessages","exposeAdsData","analytics.bidmax","analytics.timeSpent","analytics.partners","analytics.pageMeta","analytics.pageUnload","analyticsBidmaxSendBeacon","analyticsBidmaxSendBeaconMigration","analyticsViewability","analyticsStorage","analyticsMemory","analyticsRtaIds","analyticsExternalData","analyticsTiming","analytics.impressions.banner","analytics.coreMetrics","analytics.reportPlugins","revenueReporter","refreshInfo","userId","trackers.watchdog","skyConditionalSizes","slotDescriptions","sessionDepth","debug.setPlugin","adsDisabler","prebid.paapi","edgeToEdge"];(async()=>{const e=(0,o.e)("bootstrap"),t=await a;n.g.PageCriteria={...n.g.PageCriteria||{},...t||{},region:t.REGION_CODE},(0,r._6)(),(0,r.WO)("site",(0,r._M)("site",n.g.location.hostname));const i=(0,r._M)("modules",[]);await Promise.all(i.map((t=>n(68)(`./${t}`).catch((t=>e.warn("Error importing module",t))))));const c=await u();e(c);const l=(0,r._M)("mol-ads-config-data.host","an-ads"),h=(0,r._M)("mol-ads-config-data.baseUrl","mads.dailymail.co.uk");if(l&&h){e("using mol-ads-config-data for host",l);const t=await((e,t,n="home",r="none",o="channel")=>new Promise((async(i,c)=>{const l=(await a)?.Country?.toLowerCase(),u=`https://${t}/v8/${l}/${n}/${r}/${o}/${s.c}/false/${e}/config.json`;fetch(u).then((e=>i(e.json())))})))(l,h,c.pageCriteria?.channel,c.pageCriteria?.subchannel,c.pageCriteria?.pageType),{pluginsEnabled:n,config:o}=Object.entries(t).reduce((({pluginsEnabled:e,config:t},[n,r])=>n.startsWith("plugins.enabled")?{pluginsEnabled:[...e,[n,r]],config:t}:{pluginsEnabled:e,config:[...t,[n,r]]}),{pluginsEnabled:[],config:[]}),i={...Object.fromEntries(o),"plugins.enabled":[...L,...n.sort(((e,t)=>e[0]-t[0])).map((([,e])=>e)).flat()]};(0,r._6)(i)}const y=(0,m.Ub)([...L,...(0,r._M)("plugins.enabled",[])]);(0,r.WO)("plugins.enabled",y);try{await c.isTCFV2Jurisdiction(r._M)&&(n.g.adverts.tcfv2Installed||(n.g.adverts.tcfv2Installed=!0,I(),_.__tcfapi=P,_.addEventListener("message",O,!1),n.g.adverts.updateCache=R)),await(0,f.wT)({context:c,messageBus:d.cp,plugins:x})}catch(t){e.warn("Error initialising plugins",t)}try{!function(){const e=window.adverts,t=Array.isArray(e.queue)?e.queue:[];for(p("There are",t.length,"items on the queue"),window.__dmgCmp=window.__dmgCmp||[];window.__dmgCmp.length;)g(window.__dmgCmp.shift());for(window.__dmgCmp.push=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>g(e)))};t.length;)g(t.shift());e.queue={push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>g(e)))}}}()}catch(t){e.warn("Error initialising process queue",t)}})()},7408:(e,t,n)=>{"use strict";n.r(t),n.d(t,{analyticsBidmaxSendBeacon:()=>be,analyticsBidmaxSendBeaconMigration:()=>we,analyticsCMP:()=>Ne,analyticsExternalData:()=>xe,analyticsMemory:()=>ke,analyticsRtaIds:()=>Ae,analyticsStorage:()=>Ie,analyticsTiming:()=>Ue,analyticsViewability:()=>_e,revenueReporter:()=>Ve,sessionDepth:()=>ve});var r=n(5248);(0,r.C_)("account",{gdpr:{enabledIfDissent:!0},ccpa:{enabledIfDissent:!0},init:function({broker:e,getConfig:t}){const r=t("site",n.g.location.host);e.register("call for page analytics",(()=>({account:r})))}}),(0,r.C_)("cmpConfig",{gdpr:{enabledIfDissent:!0},ccpa:{enabledIfDissent:!0},init:async function({pageGeoInfo:e,setConfig:t}){const{REGION_CODE:n}=await e(),r={CO:"Colorado Consumer Privacy Act",CT:"Connecticut Data Privacy Act",CA:"California Consumer Privacy Act",VA:"Virginia Consumer Data Protection Act"};r[n]&&t("ccpa.renderConfig.layerTwo.ccpaFrameworkText",r[n])}});var o=n(5336);(0,r.C_)("debug.setPlugin",{init:function({queryParams:e}){(0,o.tf)(e)},isAdsFreeSupported:!0,ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0}});var i=n(5968),s=n(7128);const a="__uspapi";async function c(e){return Promise.all(Object.entries(s.Y9).map((t=>{let[r,o]=t;return new Promise((t=>{n.g[a].a.push([r,null,(n,i)=>{i&&(localStorage.setItem(o,JSON.stringify(n)),e.emit("cmp cache update",r,n),t({[r]:n}))}])}))})))}(0,r.C_)("cmp",{ccpa:{enabledIfDissent:!0},run:async function(e){let{broker:t,getConfig:r,log:o,pageGeoInfo:s}=e;const c=await s();if("US"!==c.Country)return void o("not in CCPA geo, bailing");const u=r("ccpa.consentManagementRegions",["CA","VA"]).includes(c.REGION_CODE),f={cmpVersion:r("ccpa.version"),cmp:"ccpa",cmpEnforced:u,cmpRegion:c.REGION_CODE},p=t.until("gpt initialized"),h=l("hasConsentedToAll"),g=l("getUSPData");t.on("cmp cache update","getUSPData",(e=>{o("user consent string updated",e),t.emit("set page level targeting",{us_privacy:e.uspString})})),t.on("cmp cache update","hasConsentedToAll",(e=>{o("user consent updatedToAll updated",e),t.emit("set page level targeting",{consent:e}),u&&m(!e)}));const m=async e=>{o("restrictDataProcessing",e),t.emit("restrictDataProcessing",{rdp:e});const[n]=await p;n.pubads().setPrivacySettings({restrictDataProcessing:e})};t.emit("set page level targeting",{gdpr:0,cmp:"ccpa"}),u&&h.then((e=>{o("hasConsentedToAll responded",e),t.emit("set page level targeting",{consent:e}),o("consent",e),f.consent=e?"yes":"no",e||m(!0)})),g.then((e=>{o("getUSPData responded",e.uspString),t.emit("set page level targeting",{us_privacy:e.uspString}),f.uspString=e.uspString,t.emit("send event to bidmax",{type:"custom",payload:{event:"loaded",module:"cmp",...(0,i.qI)("loadTimeP1s",Date.now()-d)}})})),t.on("openCmpBanner",(()=>n.g[a].a.push(["openSettings"]))),t.register("call for page analytics",(()=>f)),n.g.openCcpaUi=()=>{window.__uspapi.a.push(["openSettings"])}},init:async function(e){let{broker:t,getConfig:r,device:o,log:i,pageGeoInfo:f,setConfig:p,registerPluginBouncer:h,queryParams:g,ccpaOpts:m}=e;d=Date.now(),p("pluginManager.setupTimeout",1e6);const y=await f();if(i("pageGeoInfo",y),"US"!==y.Country)return void i("not in CCPA geo, bailing");const v=g.IABUSPrivacy_String||m?.IABUSPrivacy_String,b=localStorage.getItem(s.Y9.getUSPData),w=!b,S=!v,_=v&&v!==b;i("new user:",w,"consentString from storage:",b,", consentString from queryparams || ccpaOpts:",v,", reloadOnDissent:",S,", forceSetConsentString:",_),w||v===b||(i("clear cache"),u()),i("loading ccpa");const{Country:E,REGION_CODE:k,CITY:I,INEU:A}=y;n.g.PageCriteria={...n.g.PageCriteria,geo:E,region:k,city:I,inEu:A},(0,s.yq)(i);const C=v?Promise.resolve():async function(e,t){const n="__ads_cmp_reprompt";t("Goal:",e);const r=localStorage.getItem(n),o=r&&JSON.parse(r)||{version:0,chance:Math.random()},i=()=>{t("Saving config"),localStorage.setItem(n,JSON.stringify(o))};if(t("Current:",o),o.version<e.version&&o.chance<e.chance)try{await l("reset"),t("Cookie removed"),o.version=e.version,o.ts=(new Date).toISOString(),i()}catch(e){t("Failed resetting CMP",e)}else i()}(r("cmp.reprompt",{version:0,chance:0}),i),T=document.createElement("script"),P=r("ccpa.consentManagementRegions",["CA","VA"]);let O=r("ccpa.scriptBaseUrl",r("ccpa.scriptBase"));const R=r("ccpa.version");O=R?`${O}/${R}`:O,T.id="mol-ads-cmp",T.dataset.gvlUiVersion=r("ccpa.gvlUiVersion",186),T.dataset.cvlUiVersion=r("ccpa.cvlUiVersion",1),T.dataset.nrvUiVersion=r("ccpa.nrvUiVersion",1),T.dataset.vendorListBaseUrl=r("ccpa.vendorListBaseUrl","//cmp.dmgmediaprivacy.co.uk"),T.dataset.i18nVersion=r("ccpa.i18nVersion",7),T.dataset.backendBaseUrl=r("ccpa.backendBaseUrl","//cmp.dmgmediaprivacy.co.uk"),T.dataset.region=k,T.dataset.renderConfig=JSON.stringify(r("ccpa.renderConfig",{})),T.dataset.consentManagementRegions=JSON.stringify(P),T.id="mol-ads-cmp",T.src=`${O}/iife/mol-ads-cmp.js`,T.dataset.render=!v,T.dataset.brandName=r("ccpa.brand.name","DMG Media"),T.dataset.i18nLang=r("ccpa.i18nLang","en"),v&&(T.dataset.clientConsentString=v),_&&(T.dataset.forceSetConsentString=_),T.dataset.region=k;const x=document.createElement("link"),L=document.head.querySelector('link[rel="stylesheet"]')||document.head.lastChild,D="mobile"===o?"mobile":"desktop";x.setAttribute("rel","stylesheet"),x.setAttribute("href",`${O}/css/${D}.css`),document.head.insertBefore(x,L),document.head.appendChild(T),n.g[a]("onUpdate",null,(()=>{c(t)})),P.includes(k)&&(n.g[a]("onDissent",null,(async()=>{await c(t),i("reloadOnDissent",S),S&&n.g.location.reload()})),await l("hasConsentedToAll")||(i("user dissented..."),h(((e,t)=>(!t?.ccpa?.enabledIfDissent&&i("bouncing",e),t?.ccpa?.enabledIfDissent))))),await C}});const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((async(r,o)=>{n.g[a](e,t,((n,i)=>{i?r(n):o(new Error(`Failed to call ${a()}(${e}, ${t})`))}))}))},u=()=>{Object.values(s.Y9).forEach((e=>{localStorage.removeItem(e)}))};let d;var f=n(6024);(0,r.C_)("gpt",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,getConfig:r,log:o}=e;const i=r("dfpAccountCode",5765);t.invoke("load script",`https://securepubads.g.doubleclick.net/tag/js/gpt.js?network-code=${i}`);const s=r("auction.maxTime",2e3),a=r("environment","prod"),c={};n.g.idToSlot=c,h((()=>t.emit("gpt loaded",p))),p.cmd.push((()=>{const e=p.pubads();e.addEventListener("slotRequested",(e=>{const{pos:n}=g(c,e.slot);o(`slot requested for pos: ${n}`),t.emit("dfp slot requested",n,e)})).addEventListener("slotRenderEnded",(e=>{const n=g(c,e.slot);o(`ad rendered for pos: ${n.pos}`,n);const{slot:r,...i}=e,s={...i,slot:{molAd:n,gptSlot:r,targeting:e.slot.getTargetingMap()}};t.emit("ad rendered",n.pos,s)})).addEventListener("slotOnload",(e=>{const{pos:n}=g(c,e.slot);t.emit("ad loaded",n)})).addEventListener("impressionViewable",(e=>{const{pos:n}=g(c,e.slot);t.emit("ad viewable",n)})).addEventListener("slotVisibilityChanged",(e=>{const{pos:n}=g(c,e.slot);n&&t.emit("slot visibility changed",n,e)})).addEventListener("slotResponseReceived",(e=>{const{pos:n}=g(c,e.slot);t.emit("slot response received",n)})),e.setTargeting("environment",a),p.pubads().enableAsyncRendering(),p.pubads().disableInitialLoad(),p.pubads().setCentering(!0)}));t.on("create slot",(async e=>h((async()=>{await d;const n=(e=>{const{id:t,pos:n}=e;if(!c[t]){if(!e.slotTypes)return void o(`no slotTypes for pos: ${n}`,e);const r=e.slotTypes.map((t=>{const[r,i,s,a]="oop"===t?function(e){const t=e.slotTypes.includes("gpt")?function(e){const t=e.id+"-oop",n=document.getElementById(e.id),r=document.createElement("div");return r.id=t,n&&n.parentNode.insertBefore(r,n.nextSibling),t}(e):e.id,n=`${e.adUnit}`;return[n,t,p.defineOutOfPageSlot(n,t).addService(p.pubads()).setCollapseEmptyDiv(!0,!1),"1x1"]}(e):"interstitial"===t?function(e){const{id:t,type:n,adUnit:r}=e;return[r,t,p.defineOutOfPageSlot(r,p.enums.OutOfPageFormat.INTERSTITIAL).addService(p.pubads()),n]}(e):function(e){const{id:t,sizes:n,type:r,collapseWhenEmpty:o=!0,startCollapsed:i=!1}=e,s=`${e.adUnit}`,a=p.defineSlot(s,n,t).addService(p.pubads()).setCollapseEmptyDiv(o,i);if(e.sizeMapping){const t=e.sizeMapping.reduce(((e,t)=>{let[n,r]=t;return e.addSize(n,r)}),p.sizeMapping()).build();a.defineSizeMapping(t)}return[s,t,a,r]}(e);return o(`creating ${t} slot for pos: ${n}, id: ${i}, type: ${a}`),{slot:s,molAdSlot:{parentId:i,pos:n,adUnit:r,type:a,slotType:t}}}));return c[t]=r,r}})({...e});n&&(o("slots created",e.id),t.emit("slot created",e.id,n.map((e=>{let{slot:t}=e;return t}))))})))),t.on("request ad",((e,n,r)=>{h((()=>{y(e,n,r,o),t.emit("display ad",n,e)}))})),t.on("ad rendered",((e,t)=>{let{isEmpty:n}=t;return o("ad rendered:",e,{isEmpty:n})})),t.on("display ad",((e,n)=>h((async()=>{n.forEach((n=>{o("display ad",e,n.getSlotId().getId()),p.pubads().refresh([n]),t.emit("ad requested",e)}))})))),t.on("refresh slot",((e,n,r)=>{o("refreshing slot",n,r);const i=e.find((e=>e.getSlotId().getDomId()===n));i.clearTargeting(),y([i],n,{...r,refresh:!0},o),p.pubads().refresh([i]),t.emit("ad requested",n)})),t.on("destroy slot",(e=>h((()=>{(c[e]||[]).forEach((t=>{let{slot:n}=t;n?(p.destroySlots([n]),delete c[e]):o("Trying to destroy an unknown slot:",e)}))}))));let l,u=Promise.resolve();t.on("set page level targeting",(async e=>{u=Promise.all([u,e]).then((()=>{})),o("queuing page-leve-targeting",e);const t=await e;h((()=>{o("page level targeting:",t),Object.entries(t||{}).map((e=>{let[t,n]=e;return[t,m(n)]})).forEach((e=>{let[t,n]=e;return p.pubads().setTargeting(t,n)}))}))}));const d=new Promise((e=>{l=e}));t.on("plugins enabled",(()=>{(0,f.AP)(s,[u]).then((()=>{h((()=>{p.enableServices(),t.emit("gpt initialized",p),o("gpt initialized"),l()}))}))}))}});const p=n.g.googletag=n.g.googletag||{};p.cmd=p.cmd||[];const h=e=>p.cmd.push(e),g=(e,t)=>{let n=t.getSlotElementId(),r=e[n.replace(/-oop/,"")];if(!r){const o=t.getAdUnitPath();n=Object.keys(e).find((t=>e[t].some((e=>e.molAdSlot.adUnit===o)))),r=e[n.replace(/-oop/,"")]}const{molAdSlot:{pos:o,...i}}=r&&r.find((e=>{let{molAdSlot:t}=e;return t.parentId===n}))||{molAdSlot:{}};return n.includes("-oop")?{pos:`${o}-oop`,...i}:{pos:o,...i}},m=e=>(Array.isArray(e)?e:[e]).map((e=>String(e))),y=(e,t,n,r)=>{e.forEach((e=>{e.clearTargeting(),Object.entries(n||{}).map((e=>{let[t,n]=e;return[t,m(n)]})).forEach((t=>{let[n,r]=t;e.setTargeting(n,r)})),r(`slot targeting for id: ${t}: \n`,Object.entries(e.getTargetingMap()).map((e=>{let[t,n]=e;return`${t}=${n}`})).join("\n"))}))};var v=n(7564),b=n(6240);class w{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.loadingState=e,this.context={log:()=>{},...n},this.rootDescriptor=t,this.do=this.do.bind(this),this.not=this.not.bind(this)}do(e){if("object"==typeof e){const t=Object.keys(e)[0];if("function"==typeof this[t]){const n=this[t](e[t]);return this.context.log("fnName",t,e[t],n),n}throw new Error("error calling fnName "+t)}return e}not(e){return!this.do(e)}and(e){return!e.find(this.not)}or(e){return!!e.find(this.do)}isAdSmallerThan(e){let{pos:t,size:n}=e;return((e,t)=>{let[n,r]=e,[o,i]=t;return n<o&&r<i})(this.loadingState.renderedAds[t].size,n)}isMasterRendered(){return!!this.loadingState.renderedAds[this.context.pos]}isPosDefined(e){return!!~this.loadingState.definedPositions.indexOf(e)}isPosEmpty(e){return this.loadingState.renderedAds[e].isEmpty||!this.loadingState.renderedAds[e].size}isPosRendered(e){return this.loadingState.renderedAds.hasOwnProperty(e)}isViewPortWidthLargerThan(e){return(0,b.iK)().width>e}isIE(){return b.qU}run(){return this.do(this.rootDescriptor)}}(0,r.C_)("conditionalLoad",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,getConfig:r,log:o}=e;const i={};n.g.slotStore=i;const s={renderedAds:{},definedPositions:[]};n.g.ls=s;const a=r("loadConditions",{});t.on("ad rendered",((e,t)=>{let{size:n,isEmpty:r}=t;o(`ad rendered for pos: ${e}, size: ${n}, isEmpty: ${r}`),s.renderedAds[e]={size:n,isEmpty:r};const a={type:"ad rendered"};Object.values(i).forEach((e=>{e.dispatch(a)}))})),t.register("verify slot ready",(e=>new Promise((n=>{o("adding slot to definedPositions",e.pos),s.definedPositions.push(e.pos);const{loadConditions:r}=e;r&&r.length||(o("no loadcondition for",e.pos),n(!0));const c=r.map((e=>a[e])).filter((e=>e)),l=function(e,t,n,r){const o=[...t.map((t=>function(e,t,n,r){return{condition:new w(n,t,{pos:e.pos,log:r})}}(e,t,n,r)))].filter((e=>e));return function(e,t){return new v.c(_,e,t.extend("store"))}({slot:e,loadConditions:o},r)}(e,c,s,o);i[e.pos]=l,o(`adding slot to store for pos: ${e.pos}`),l.subscribe(function(e){let{log:t,resolve:n}=e;return(e,r)=>{if(r.slotReady){const{slot:{dfpPos:e,id:o,pos:i}}=r;t(`slot ready, pos: ${i}, dfpPos: ${e}, id: ${o}`),n(!0)}}}({broker:t,log:o,resolve:n})),l.init();const u={type:"verify slot ready"};o("dispatching event",u),Object.values(i).forEach((e=>{e.dispatch(u)}))})))),t.on("destroy slot",(e=>{o("deleting slotStore, for pos:",e),delete i[e]}))}});const S=e=>e.loadConditions.map((e=>e.condition.run())).every((e=>e));function _(e,t){switch(e.type){case"verify slot ready":case"ad rendered":case"ad requested":return t.slotReady?t:S(t)?{...t,slotReady:!0}:t;default:return t}}(0,r.C_)("runtimeMessages",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:async function(e){let{broker:t}=e,n=!1;const r=()=>{n||(t.emit("dom ready"),n=!0)};(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?r():document.addEventListener("DOMContentLoaded",r),"complete"===document.readyState?t.emit("page load"):window.addEventListener("load",(()=>{r(),t.emit("page load")}))}});var E=n(8948);function k(e,t){t("formTags",e);const n=e.flat().map((e=>e?.targeting||e||{}));return(0,E.A1)(n.reduce(((e,t)=>({...e,...Array.isArray(t)&&t.reduce(((e,t)=>({...e,...t})),{})||t})),{}))}(0,r.C_)("slotController",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,log:n}=e,r=0;const i=(e,i,s,a)=>{t.emit(`start bidding for pos: ${i}`),r++;const c=r,{dfpPos:l}=s;return async function(e,t,n,r,i){const s=await((e,t,n,r)=>new Promise(((i,s)=>{const a=(0,o._M)("auction.maxTime",2e3),c=[];e.openStream({message:["get tags",{slot:t,gptSlot:n,getTagsNum:r,timeout:a-100}],timeout:a,controlHandler:n=>{let{type:r,...o}=n;e.emit("auction event",t.pos,r,o)}}).on("data",(e=>{c.push(e)})).on("end",(()=>{e.emit("auction event",t.pos,"end"),i(c)})).on("error",(e=>s(e)))})))(e,n,r,i),a=s.filter((e=>e.bids)).flat(),c=await e.invokeAll("get tags based on tags",s);return[{...k(s,t),...c.reduce(((e,t)=>({...e,...t})),{})},a]}(t,n,s,a,r).then((e=>{let[r,o]=e;return n(`bid targeting for pos: ${i}`,r,o),t.emit("bidding ended",i,{getTagsNum:c,slot:a,tags:o,dfpPos:l}),r}))};t.on("slot defined",(e=>{const{pos:r,id:o,onlyRefreshIfViewed:s=!0}=e;t.once("slot created",o,(s=>{let a=0;t.on("refresh ads",r,(c=>{let{reason:l}=c;a++,i(0,r,e,s[0]).then((e=>{n("refresh targeting:",e),t.emit("refresh slot",s,o,{...e,refreshCount:a,refreshReason:l,pos:r})}))})),i(0,r,e,s[0]).then((e=>{t.emit("request ad",s,o,{...e,pos:r})}))})),e.refreshInterval&&t.once("ad rendered",r,(()=>{r.endsWith("-oop")||t.emit("setup ad refresh",{pos:r,id:o,interval:e.refreshInterval,activeViewSlot:s})})),n("slot defined, creating slot",e),t.emit("create slot",e)}))}});const I={refreshCount:0};(0,r.C_)("refreshInfo",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run(e){let{broker:t,log:n}=e;const r={};t.intercept("slot defined",((e,t)=>{let[n,{pos:o}]=e;r[o]=I,t()})),t.on("destroy slot",(e=>{delete r[e]})),t.register("get tags",(e=>{let{slot:{pos:t}}=e;return[r[t]]})),t.register("get video tags",(e=>{let{slot:{pos:t}}=e;return{cust_params:{...r[t]||I}}})),t.intercept("refresh ads",((e,t)=>{let[n,o,{positions:i,plugins:s,reason:a}]=e;try{i.forEach((e=>{r[e]={refresh:!0,refreshCount:r[e].refreshCount+1,refreshReason:a}}))}finally{t()}}))}});var A=n(1740);class C{constructor(){let{broker:e,inactiveTime:t=1e4,log:n,events:r=[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.priv={broker:e,events:r,inactiveTime:t,handleUserActivity:(0,A.AP)(T.bind(this),t-500),lastActive:new Date,log:n}}get active(){const e=this.priv;return new Date-e.lastActive<e.inactiveTime}start(){const e=this.priv;R.call(this,((t,n)=>{t.addEventListener(n,e.handleUserActivity)})),e.timer=O.call(this)}stop(){const e=this.priv;R.call(this,((t,n)=>{t.removeEventListener(n,e.handleUserActivity)})),e.timer=clearTimeout(e.timer)}whenActive(){return new Promise((e=>{this.active?e():this.priv.broker.once("user active",e)}))}}function T(e){const t=this.priv,n=!this.active;t.lastActive=new Date,n&&(t.log("user became active"),t.broker.emit("user active"))}function P(){const{broker:e,log:t}=this.priv;this.active?O.call(this):(t("user became inactive"),e.emit("user inactive"),e.once("user active",O.bind(this)))}function O(){setTimeout(P.bind(this),this.priv.inactiveTime)}function R(e){for(const[t,n]of this.priv.events)if(t)for(const r of n)e(t,r)}const x=Symbol("private properties"),L=1e3;class D{constructor(e){let{broker:t,pos:n}=e;const r=this[x]={};r.broker=t,r.pos=n,r.inView=!1}get inView(){return this[x].inView}start(){const e=this[x];e.slotVisibilityChangedSub=e.broker.on("slot visibility changed",e.pos,B.bind(this)),e.adViewableSub=e.broker.on("ad viewable",e.pos,M.bind(this))}stop(){const e=this[x];e.slotVisibilityChangedSub.cancel(),e.adViewableSub.cancel(),N.call(this)}}function M(){if(this.inView)return;const e=this[x];e.inView=!0,e.broker.emit("ad active view",e.pos)}function j(){if(!this.inView)return;const e=this[x];e.inView=!1,N.call(this),e.broker.emit("ad out of view",this[x].pos)}function B(e){let{inViewPercentage:t}=e;t<50?j.call(this):this[x].timer||U.call(this)}function U(){this[x].timer=setTimeout(M.bind(this),L)}function N(){const e=this[x];e.timer=clearTimeout(e.timer)}class V{constructor(e){let{interval:t=3e4,broker:n,log:r,positions:o,ids:i,activeViewTracker:s,userInactivityMonitor:a=new C({broker:n})}=e;const c={};this.interval=t,c.broker=n,c.log=r,c.positions=o,c.ids=i,c.userInactivityMonitor=a,c.activeSub=c.broker.on("user active",$.bind(this)),s&&(c.activeViewTracker=s,c.activeViewSub=c.broker.on("ad active view",c.positions[0],$.bind(this)),c.activeViewTracker.start()),this.stopped=!1,this.priv=c,this.refresh=F.bind(this),n.on("force ads refresh",(async()=>{this.refresh(),await n.until("ad rendered"),r("Ads force-refreshed")})),n.on("ad rendered",(e=>{c.positions.includes(e)&&c.timer&&this.start()}))}start(){const e=this.priv;e.timer=clearTimeout(e.timer),e.started=new Date,e.remaining=e.remaining||this.interval,e.timer=setTimeout(this.refresh,e.remaining)}stop(){const e=this.priv;e.activeSub.cancel(),e.activeViewTracker&&(e.activeViewSub.cancel(),e.activeViewTracker.stop()),e.timer=clearTimeout(e.timer),e.remaining=0,this.stopped=!0}}function $(){0===this.priv.remaining&&F.call(this)}function F(){const e=this.priv;if(e.log("Refresh: ",{positions:e.positions.join(" "),ids:e.ids.join(" "),active:e.userInactivityMonitor.active,inView:e.activeViewTracker?e.activeViewTracker.inView:"N/A"}),!e.userInactivityMonitor.active||e.activeViewTracker&&!e.activeViewTracker.inView)return e.timer=clearTimeout(e.timer),void(e.remaining=0);e.log("Refreshing",{positions:e.positions.join(" "),ids:e.ids.join(" ")}),e.broker.emit("prepare to refresh ads",e.positions),e.broker.emit("refresh ads",e.positions[0],{ids:e.ids,reason:"periodic",positions:e.positions}),this.start()}var W=n(2164);(0,r.C_)("refreshManager",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,getConfig:r,log:o}=e;const i=r("adsRefresh.inactiveTime",1e4);let s;t.on("ad rendered",((e,n)=>{e.startsWith("billboard")&&n.size?.every((e=>1===e))&&t.emit("stop refreshing ads",{reason:"billboard is size 1x1"})}));const a=new Promise((e=>{s=t.once("ad viewable",(t=>{o(`Position "${t}" viewed, refreshes will start immediately`),e()}))})),c=new C({broker:t,inactiveTime:i,log:o});c.start();const l=q(t,o,c,a),u={};n.g.activeRefreshables=u;const d=r("adsRefresh.interval",6e4),f=r("adsRefresh.slots",[]).reduce(((e,t)=>({...e,[t]:{pos:t,interval:d,type:"interval"}})),{}),p=r("adsRefresh.activeViewSlots",[]).reduce(((e,t)=>{let{pos:n,interval:r}=t;return{...e,[n]:r}}),{}),h=t.on("slot defined",(e=>{let{pos:n,id:r,slotTypes:o}=e;if(!o.includes("gpt")&&!o.includes("gptOOP"))return;const i=p[n];i?t.emit("setup ad refresh",{pos:n,id:r,interval:i}):f[n]&&t.emit("setup ad refresh",{pos:n,id:r,interval:d,activeViewSlot:!1})})),g=t.on("setup ad refresh",(e=>{let{pos:n,id:r,interval:i,activeViewSlot:s=!0,type:a="active"}=e;if(u[n])return void o(`adRefresher already started for pos: ${n}, bailing`);o("Start refreshing:",{pos:n,id:r,interval:i,activeViewSlot:s});const c=s&&new D({broker:t,pos:n}),{stop:d}=l({pos:n,id:r,interval:i,activeViewTracker:c});u[n]={id:r,stop:d,type:a},t.once("destroy slot",r,(()=>{const{stop:e}=u[n];o(`Slot destroyed for id: ${r}, stopping refresh`),e(),delete u[n]}))}));let m=!1;t.on("stop refreshing ads",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o("Received request to stop ads refreshing altogether",e);const{reason:n}=e;m||(m=!0,t.emit("send event to bidmax",{type:"custom",payload:{module:"common/refreshManager",event:"stop",reason:n}})),function(e,t,n,r,o,i,s,a){const{positions:c=[],activeView:l=!0}=e,u=l?t:n;(c.length?(0,W.sX)(u,c):Object.keys(u)).forEach((e=>{const{id:n,stop:r,type:o}=t[e];a(`stopping ${o} refresh for ${e}, id: ${n}`),r(),delete t[e]})),(0,E.t7)(t)&&(o.cancel(),i.cancel(),s.cancel(),r.stop())}(e,u,f,c,h,g,s,o)}))}});const q=(e,t,n,r)=>o=>{let{pos:i,id:s,interval:a,activeViewTracker:c}=o;const l=new V({broker:e,log:t,interval:a,positions:[i],ids:[s],userInactivityMonitor:n,activeViewTracker:c});let u;return c?u=e.once("ad viewable",i,(()=>{t(`Position "${i}" viewed, scheduling its refresh`),l.start()})):r.then((()=>{l.start(),t("Start interval adRefresher for:",i)})),{stop:()=>{u&&u.cancel(),l&&l.stop()}}};n(4140),(0,r.C_)("analytics.impressions.banner",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,device:r,getConfig:o,log:i}=e;const s=new Map;n.g.auctionsForSlots=s,t.on("slot created",((e,t)=>{let[n]=t;e.endsWith("-oop")||s.set(n,{})}));const a=new Set(o("plugins.enabled",[])),c=["prebid.banner"].filter((e=>a.has(e)));i("auctioneers",c);const l=(0,E.Oy)(((e,t,n)=>"banner"===t.adType?[...e,n]:e),[],o("adsDescriptions",{}));i("supported positions: ",l),t.on("bid",function(e,t,n,r,o){return(i,s)=>{let{dfpPos:a,bidder:c,bidId:l,cpm:u,elapsed:d,getTagsNum:f,gptSlot:p,requestSizes:h}=s;if(!r.includes(a))return void n(`Unsupported slot "${a}`);n(`bid received, pos: ${i}, getTagsNum: ${f}, bidder: ${c}, cpm: ${u}`);const g=K(e,p,f,o);if(!g||g.rendered){const e=g?"missed":"unused";n(`${e} bid, pos: ${i}, bidder: ${c}, cpm: ${u}`);const r={bidder:c,cpm:u,dfpPos:a,elapsed:d,pos:i,requestSizes:h,status:e};n("send event to bidmax",i,{type:"bid",payload:r}),t.emit("send event to bidmax",{type:"bid",payload:r})}else g.receivedBids.push({bidder:c,bidId:l,cpm:u,dfpPos:a,elapsed:d,pos:i,requestSizes:h})}}(s,t,i,l,c)),t.on("bidding ended",function(e,t,n,r){return(o,i)=>{let{getTagsNum:s,dfpPos:a,slot:c,tags:l}=i;if(!r.includes(a))return;const u=K(e,c,s,n);u&&(u.targetedBids=l.map((e=>{let{bids:t}=e;return t.map((e=>{let{adId:t,bidId:n,bidder:r,cpm:o}=e;return{bidId:t||n,bidder:r,cpm:Promise.resolve(o).then((e=>Math.floor(100*e)))}}))})).flat(),u.biddingEnded=!0,X(e,c,u,t,o,s))}}(s,i,c,l)),t.on("ad rendered",function(e,t,n){return async(r,o)=>{let{slot:i,...s}=o;if(r.endsWith("-oop"))return;const a=H(i,s),c=e.get(i.gptSlot);if((0,E.t7)(c)){n(`adRendered, pos: ${r}`);const e={pos:r,...a};n("send event to bidmax",r,{type:"bannerImpression",payload:e}),t.emit("send event to bidmax",{type:"bannerImpression",payload:e})}else{const[o,s]=J(c);n(`adRendered, pos: ${r}, getTagsNum: ${o}`),s.rendered=!0;const l=await Promise.all(s.targetedBids?.map((async e=>({...e,cpm:await e.cpm})))||[]);!function(e,t,n){const{targetedBids:r,receivedBids:o}=n,{included:i,missed:s}=o.reduce(((e,t)=>(r.find((e=>{let{bidder:n,bidId:r,cpm:o}=e;return t.bidder===n&&t.cpm===o&&t.bidId===r}))&&e.included.push(t)||e.missed.push(t),e)),{included:[],missed:[]});[...i.map((e=>({...e,status:"used"}))),...s.map((e=>({...e,status:"missed"})))].forEach((n=>{let{dfpPos:r,bidder:o,cpm:i,elapsed:s,requestSizes:a,pos:c,status:l}=n;const u={bidder:o,cpm:i,dfpPos:r,elapsed:s,pos:c,requestSizes:a,status:l};t("send event to bidmax",c,{type:"bid",payload:u}),e.emit("send event to bidmax",{type:"bid",payload:u})}))}(t,n,{receivedBids:s.receivedBids,targetedBids:l});const u=Y(l),d={pos:r,...a,...u};n("send event to bidmax",r,{type:"bannerImpression",payload:d}),t.emit("send event to bidmax",{type:"bannerImpression",payload:d}),X(e,i.gptSlot,s,n,r,o)}}}(s,t,i)),t.on("auction ended",function(e,t,n,r){return(o,i)=>{let{getTagsNum:s,slot:a,auctioneer:c}=i;if(!r.includes(o))return;t(`auctionEnded, pos: ${o}, auctioneer: ${c}, getTagsNum: ${s}`);const l=K(e,a,s,n);l&&(l.auctionsCompleted.add(c),l.isAuctionsComplete=n.every((e=>l.auctionsCompleted.has(e))),l.isAuctionsComplete&&X(e,a,l,t,o,s))}}(s,i,c,l)),t.on("bid error",((e,n)=>{const r={type:"bid",payload:{pos:e,status:"error",...n}};i("send event to bidmax",e,r),t.emit("send event to bidmax",r)})),t.on("slot destroyed",function(e,t,n){return r=>{n("slot destroyed",r.molAd.pos);const o=e.get(r);o&&(e.delete(r),Object.values(o).forEach((e=>{let{receivedBids:r}=e;r.forEach((e=>{let{bidder:r,cpm:o,dfpPos:i,elapsed:s,pos:a,requestSizes:c}=e;const l={bidder:r,cpm:o,dfpPos:i,elapsed:s,pos:a,requestSizes:c,status:"unused"};n("send event to bidmax",a,l),t.emit("send event to bidmax",{type:"bid",payload:l})}))})))}}(s,t,i)),t.register("call for page-unload",(()=>{const e=[];return s.forEach((t=>{e.push(Object.values(t).reduce(((e,t)=>{let{receivedBids:n}=t;return[...e,...n]}),[]))})),e.flat().forEach((e=>{t.emit("send event to bidmax",{type:"bid",payload:{...e,message:"pageunload",status:"unused"}})})),{}}))}});const z=["advertiserId","campaignId","creativeId","isEmpty","lineItemId","serviceName"];function G(e){if(Array.isArray(e)&&2===e.length){const[t,n]=e;return`${t}x${n}`}}const H=(e,t)=>{let{targeting:r}=e,{size:o,isEmpty:i,...s}=t;return{...(0,E.gl)(s,z),...i?{}:{creativeId:s.creativeId||s.sourceAgnosticCreativeId,lineItemId:s.lineItemId||s.sourceAgnosticLineItemId,advertiserId:s.advertiser,companyId:s.companyIds},targeting:r,timeAtRender:Date.now()-n.g.adverts.startTime,size:G(o)}},J=e=>{const t=Object.entries(e).filter((e=>{let[t,n]=e;return!n.rendered})).map((e=>{let[t,n]=e;return t})),[n]=t.sort(((e,t)=>parseInt(e)-parseInt(t)));return[n,e[n]]},Y=e=>{const[t,n]=(e=>e.filter((e=>{let{cpm:t}=e;return Number.isInteger(t)})).sort(((e,t)=>t.cpm-e.cpm)))(e);return{...t&&(e=>{let{bidder:t,cpm:n}=e;return{winnerBidder:t,winnerCpm:n}})(t)||{},...n&&(e=>{let{bidder:t,cpm:n}=e;return{runnerUpBidder:t,runnerUpCpm:n}})(n)||{}}},K=(e,t,n,r)=>{if(e.has(t))return e.get(t)[n]?e.get(t)[n]:((e,t,n,r)=>{const o=e.get(t),i=o[n]||(e=>({auctionsCompleted:new Set,isAuctionsComplete:!e.length,receivedBids:[],rendered:!1,biddingEnded:!1}))(r);return o[n]=i,i})(e,t,n,r)};function X(e,t,n,r,o,i){const{rendered:s,biddingEnded:a,isAuctionsComplete:c}=n;r(`testing cleanup, pos: ${o}, getTagsNum: ${i}, rendered: ${s}, biddingEnded: ${a}, isAuctionsComplete: ${c}`),s&&a&&c&&(r(`cleaning up, pos: ${o}, getTagsNum: ${i}`),delete e.get(t)[i])}(0,r.C_)("analytics.bidmax",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,getConfig:r,log:o}=e;Z={timestamp:n.g.adverts.startTime,referrer:document.referrer,url:window.location.href},n.g.performance&&n.g.performance.timing&&n.g.performance.timing.navigationStart&&(Z.adsStart=n.g.adverts.startTime-n.g.performance.timing.navigationStart),t.register("get page level analytics",(()=>ee(t))),function(e,t,n){const r=t("bidmax.debounceTime",1e3),o=t("bidmax.pageTimeout",1e3);let i=[];const s=(0,A.Cu)((async function(){let t={...await ee(e,o)};if(i.length){if(n.enabled){const e=i.find((e=>"page-unload"===e.type))?JSON.stringify(i):i;n("dispatching",i.length,"events:",e)}t=1===i.length?{...t,...i[0]}:{...t,type:"events",payload:i},e.emit("send to bidmax",t),i=[]}}),r);e.on("send event to bidmax",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.push({...e,timeAtSend:Q()}),t||!e.type?s.callNow():s()}))}(t,r,o),t.on("send to bidmax",(e=>{try{const n={...e,event_type:"bidmax",type_version:2,timeAtSend:Q(),version:b.y0.bidmax||"1.42.0"},r={"Content-type":"text/plain"};t.emit("dispatch to bidmax",{headers:r,body:n})}catch(e){console.warn(e)}})),t.on("plugins enabled",(async()=>t.emit("send event to bidmax",{type:"page"})))}});const Q=()=>Date.now()-n.g.adverts.startTime;let Z;const ee=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const n=(await e.invokeAll({message:["call for page analytics"],timeout:t})).reduce(((e,t)=>({...e,...t})),{});return{...Z,...n}};n(1803);var te=n(9352);(0,n(6008).Y)(te.Q),(0,r.C_)("analytics.coreMetrics",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){let{broker:t}=e;const r=n.g.performance?.getEntries()?.[0]?.serverTiming?.find((e=>"cdn-cache"===e.name))?.description?.toLowerCase();t.register("call for page analytics",(()=>{const{width:e,height:t}=(0,b.iK)();return{ss:{w:e,h:t},pageCache:r}}))}}),(0,r.C_)("analytics.timeSpent",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){let{broker:t,log:r,getConfig:o}=e;const i={capture:!0,passive:!0},s=o("bidmax.inactiveTime",1e4),a=n.g.performance&&n.g.performance.timing&&n.g.performance.timing.navigationStart||n.g.adverts.startTime;r("Starting at:",n.g.adverts.startTime-a);let c=0,l=0,u=a,d=a;const f=function(){const e=Date.now(),t=e-d-s;t>0&&(r("Adding inactive time:",t),c+=t,d=e)},p=()=>{const e=Date.now(),t=e-u;l+=t,r("Adding hidden time:",t),u=e},h=[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]],g=(0,A.AP)((e=>{const t=Date.now();e&&f(),d=t}),1e3);for(const[e,t]of h)t.forEach((t=>e.addEventListener(t,g,i)));t.register("call for page-unload",(()=>(f(),y()&&p(),{i:c,h:l})));const m=()=>void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":"",y=()=>{try{return n.g.top.document.hidden||n.g.top.document.msHidden||n.g.top.document.webkitHidden||!1}catch(e){return!!m()}};let v=y();document.addEventListener(m(),(e=>{y()!==v&&(v=y(),v?u=Date.now():p())}),!1)}}),(0,r.C_)("analytics.pageUnload",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){let{broker:t,log:r,setConfig:o}=e;const i={capture:!0,passive:!0},s=n.g.performance&&n.g.performance.timing&&n.g.performance.timing.navigationStart||n.g.adverts.startTime;r("Starting at:",n.g.adverts.startTime-s);const a=localStorage.getItem("mol.ads.previousDwellTime"),c=(0,b.KX)()?.type||"unknown";setInterval((()=>{localStorage.setItem("mol.ads.previousDwellTime",Date.now()-s)}),1e4);let l=!1,u=0,d=0;const f=new Set,p=new Set;t.on("ad rendered",(e=>{f.add(e),u++})),t.on("bid",((e,t)=>{let{bidder:n}=t;p.add(n),d++}));const h=async()=>{if(l)return;l=!0,r("force sync dispatcher"),t.bus.setDispatcher((e=>e())),t.bus.globalTimeoutOverride=0,r("about to call for page-unload");const e=await t.invokeAll("call for page-unload"),n=Date.now()-s;localStorage.setItem("mol.ads.previousDwellTime",n);const o=e.reduce(((e,t)=>({...e,...t})),{t:n,pdt:a,autorefresh:!!(0,b.U$)("autorefresh"),pnt:c,chp:window.location.href.includes("comments"),imp:u,bids:d,pr:f.size,ub:p.size});r("got:",o),t.emit("send event to bidmax",{type:"page-unload",payload:o},!0)};window.addEventListener("pagehide",h,i),window.addEventListener("beforeunload",h,i),window.addEventListener("unload",h,i)}});var ne=n(795);const re=["pageViewId","articleId","channel","device","fbapp","geo","isMobile","isTablet","pageType","sponsored","subchannel","cljVersion","cljNode","articleStyle","sponsorName"],oe=["renderPlatform"];(0,r.C_)("analytics.pageMeta",{gdpr:{enabledIfDissent:!0},ccpa:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:e=>{let{broker:t,log:n,pageMeta:r,pageCriteria:o,doc:i}=e;const s=(0,ne.us)(i);function a(){const{authorsShortNames:e,publishedDate:t}=r||{},n=(Date.now()-Number(t))/1e3/60/60/24;return{...r?(0,E.gl)(r,oe):{},authors:e,daysSincePublished:n}}function c(){const e=i.querySelector('#mobile-content .scrollable-content > article, #page-container .article-text [itemprop="articleBody"]'),t=e?.classList.contains("article-truncated");return t?{trunc:1}:{}}t.register("call for page analytics",(()=>{const e={...o?(0,E.gl)(o,re):{},...a()};return n("sync:",e),e})),t.register("call for page analytics",(()=>s.then((()=>{const e=c();return n("async:",e),e})))),t.emit("set page level targeting",s.then((()=>{const e=c();return n({pageLevelTargeting:e}),e})))}}),(0,r.C_)("analytics.partners",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){let{broker:t,log:n}=e;t.once("permutive ready",(()=>s({event:"permutive-load"}))),t.once("new minute media player",(()=>s({event:"mm-load"}))),t.once("admantx loaded",(()=>s({event:"admantx-load"}))),document.addEventListener("spot-im-api-ready",(()=>s({event:"openweb-load"}))),document.addEventListener("spot-im-conversation-loaded",(()=>s({event:"openweb-conv-loaded"}))),document.addEventListener("spot-im-conversation-viewed",(()=>s({event:"openweb-conv-viewed"}))),document.addEventListener("spot-im-current-user-sent-message",(()=>i("powms"))),ie.forEach((e=>document.addEventListener(e,(()=>i("powui"))))),t.once("outbrain container render",(()=>s({event:"outbrain-container-render"}))),t.once("outbrain render",(()=>s({event:"outbrain-first-widget-render"}))),t.once("outbrain visible",(()=>s({event:"outbrain-first-view"}))),t.on("outbrain render",(()=>i("poi"))),t.on("outbrain visible",(()=>i("pov"))),t.on("outbrain nocontent",(()=>i("ponc"))),t.on("outbrain failed to load",(()=>i("poftl"))),t.on("outbrain click",(()=>i("poc"))),t.on("outbrain issue",(()=>i("pop")));let r=0;t.on("new perform player",((e,n)=>{0===r&&s({event:"dazn-load"});const o="peformPlayer-"+r++;t.emit("track viewability",o,n),t.once("ad viewable",o,(()=>i("pdv")))}));const o={};function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!se[e])throw new Error(`Metric '${e}' not registered in 'knownMetric'. Please do so.`);n("inc counter:",e);const r=o[e]||0;o[e]=r+t}function s(e){n("sending event:",e),t.emit("send event to bidmax",{type:"custom",payload:e})}t.register("call for page-unload",(()=>o))}});const ie=["spot-im-clicked-delete-message","spot-im-clicked-edit-message","spot-im-clicked-flag","spot-im-clicked-message-context-menu","spot-im-clicked-mute-user","spot-im-share-drop-down","spot-im-share-type","spot-im-hover-like-details","spot-im-show-more-comments-clicked","spot-im-show-more-replies-clicked","spot-im-user-down-vote-click","spot-im-user-up-vote-click","spot-im-login-start","spot-im-post-login","spot-im-notification-drop-down-link","spot-im-user-notifications-click","spot-im-clicked-cog-menu","spot-im-clicked-privacy","spot-im-clicked-settings","spot-im-profile-drop-down","spot-im-sort-by-drop-down","spot-im-sort-by-select","spot-im-clicked-article-link-profile","spot-im-open-user-profile"],se={poi:"outbrain impression",pov:"outbrain view",ponc:"outbrain no content",poftl:"outbrain failed to load",poc:"outbrain click",pop:"outbrain issue",powui:"openWeb user interaction",powms:"openWeb message sent",pdv:"dazn view"};function ae(e){const{activeElement:t}=e.document;if("IFRAME"===t?.tagName)try{const e=t.contentWindow;if(!e)throw new Error("cant access win");return ae(e)}catch(e){return}return e}n(7608),n(3012);var ce=n(9800),le=n.n(ce),ue=n(7208),de=n(9040);(0,r.C_)("trackers.watchdog",{ccpa:{enabledIfDissent:!0},description:"Monitors non user-initiated reloads",gdpr:{enabledIfDissent:!0},run(e){let{broker:t,doc:n,getConfig:r,log:o,pageCriteria:i,win:s}=e;const a=function(){let e,t=!1;return n.documentElement.addEventListener("click",(()=>{o("clicked"),t=!0,m(),e&&(e=clearTimeout(e)),e=setTimeout((()=>{o("click reset"),t=!1,m()}),300)}),{capture:!0}),()=>t}(),c=function(){let e=!1;return le()("⌘+r, ctrl+r, alt+f4",(()=>{e=!0,m()})),()=>e}(),l=function(){let e=n.hasFocus();return n.documentElement.addEventListener("mouseenter",(()=>{e=!0,m(),o("entered")})),n.documentElement.addEventListener("mouseleave",(()=>{e=!1,m(),o("left")})),()=>e}(),u=function(){let e=!1;return n.documentElement.addEventListener("touchstart",(()=>{o("touch start"),e=!0,m()})),n.documentElement.addEventListener("touchend",(()=>{o("touch end"),e=!1,m()})),()=>e}(),d=()=>{const e=ae(s);return e?e.document.hasFocus()?e===s?"top":e.name:"none":"unknown"},f=function(){const e=i&&1e3*Number(i.timestamp)+1e3*i.refresh;return()=>!!e&&Date.now()>=e}(),p=function(){let e=!1;return window.addEventListener("visibilitychange",(()=>{const{hidden:t}=document;o("hidden:",t),e=t,y("visibilitychange",{hidden:t},!0),m()}),{capture:!0,passive:!0}),()=>e}();r("trackers.watchdog.reportStart",!0)&&y("start",function(e){const t=localStorage.getItem("mol.ads.watchdog");let n;try{n=t&&JSON.parse(t)}catch(t){e("error parsing last state",t)}return{ps:n,nt:(0,b.KX)()?.type||"unknown",st:de.c,u:(0,ue.Az)(window.location.href)}}(o));const h=(0,A._g)();let g=0;function m(){const e=Math.round(performance.now()/1e3),t={st:de.c,ts:Date.now(),dtis:e,c:a(),fw:d(),t:u(),miv:l(),prt:f(),rk:c(),h:p(),u:(0,ue.Az)(window.location.href)};o("saving state",t),localStorage.setItem("mol.ads.watchdog",JSON.stringify(t)),g&&clearTimeout(g),g=setTimeout(m,1e3*h.next().value)}function y(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o("reporting",{event:e,flush:r,payload:n}),t.emit("send event to bidmax",{type:"watchdog",event:e,payload:n},r)}m(),t.on("page load",(async()=>{!async function(){const e=await t.invoke("get page level analytics");localStorage.setItem("mol.ads.watchdog.previous-pageview",JSON.stringify(e))}()})),t.register("call for page-unload",(()=>{const e={clicked:a(),focusedWin:d(),isTouching:u(),mouseInViewport:l(),postRefreshTime:f(),refreshKeys:c(),hidden:p()};return o("unload",e),e}))}});var fe=n(1864);(0,r.C_)("scriptLoader",{run:function(e){let{broker:t,log:n}=e;const r={};t.register("load script",((e,t,o,i,s)=>new Promise(((a,c)=>{n("load script:",e,t,o,i);const l=i||(()=>window[t]);t&&l()&&(n("variable already defined:",t),a(l()));const u=t||e;if(r[u]||(n("adding script tag to load",e),(0,fe.o)(e,o,document,s).then((()=>{n("script loaded:",e);const t=r[u];n("calling",t.length,"listeners");const o=e=>e();r[u]={push:o},t.forEach(o)}),c),r[u]=[]),t||i)try{(0,f.C4)((()=>l())).then((e=>{n("tracking variable found:",t,i,e),a(e)}))}catch(r){n("error while loading",e,":",r),c(new Error(`Error loading ${e} (trackingVariable: ${t}): ${r}`))}else n("no tracking variable given for",e,"waiting on script load"),r[u].push(a)})))),t.register("import script",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{document:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=arguments.length>3?arguments[3]:void 0;return(0,fe.o)(e,t,n,r)})),t.register("import script in iframe",(e=>{let{url:t}=e;return new Promise(((e,n)=>{const r=document.createElement("iframe");r.display="none",r.onload=()=>(0,fe.o)(t,{},r.contentWindow.document).then(e,n),document.head.appendChild(r)}))})),t.register("import stylesheet",(e=>{const t=document.createElement("link"),{head:n}=document;t.href=e,t.setAttribute("rel","stylesheet"),n.appendChild(t)}))},isAdsFreeSupported:!0,ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0}});const pe=e=>{for(const t in e)n.g.sessionStorage.setItem(t,e[t])},he=e=>{let{key:t,newValue:r}=e;if(r)switch(t){case"mol.ads.session.request":n.g.localStorage.setItem("mol.ads.session.response",JSON.stringify(n.g.sessionStorage)),n.g.localStorage.removeItem("mol.ads.session.response");break;case"mol.ads.session.publish":pe(JSON.parse(r))}};let ge;const me=()=>{let e=parseInt(("mol.ads.sessionDepth",n.g.sessionStorage.getItem("mol.ads.sessionDepth")||0));var t;return isNaN(e)&&(e=0),e++,t=e,n.g.sessionStorage.setItem("mol.ads.sessionDepth",t),n.g.localStorage.setItem("mol.ads.session.publish",JSON.stringify(sessionStorage)),n.g.localStorage.removeItem("mol.ads.session.publish"),e},ye=async()=>{const e=(ge||(n.g.addEventListener("storage",he),ge=new Promise((e=>{const t=r=>{let{key:o,newValue:i}=r;if("mol.ads.session.response"!==o)return;n.g.removeEventListener("storage",t);const s=i?JSON.parse(i):{};e(s)};n.g.addEventListener("storage",t),n.g.localStorage.setItem("mol.ads.session.request","mol.ads.session.request"),n.g.localStorage.removeItem("mol.ads.session.request")})).then(pe)),ge);return await Promise.race([e,(0,f.me)(1)]),{session:await me()}};async function ve(e){let{broker:t}=e;t.emit("set page level targeting",ye())}function be(e){let{broker:t,getConfig:n,log:r}=e,o=navigator.sendBeacon&&n("bidmax.dispatcher.useBeacon",!0);const i=n("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:n("bidmax.dispatcher.url","//crta.dailymail.co.uk"),s=(0,b.Oy)()[0];s<13&&s>0&&(r("force disabling beacon for iOS < 13"),o=!1),t.on("dispatch to bidmax",(e=>{let{body:t,headers:n}=e;if(t){if(o)try{t={...t,reqType:"beacon"};const e=new Blob([JSON.stringify(t)],{...n,type:"text/plain"});if(navigator.sendBeacon(i,e))return}catch(e){console.error(e)}try{t={...t,reqType:"xhr"};const e=new XMLHttpRequest;e.open("POST",i,!0),Object.entries(n).forEach((t=>{let[n,r]=t;return e.setRequestHeader(n,r)})),e.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}function we(e){let{broker:t,getConfig:n}=e;const r=n("bidmax.migrationChance",0);if(Math.random()>=r)return;const o=navigator.sendBeacon&&n("bidmax.dispatcher.useBeacon",!0);let i=n("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:n("bidmax.dispatcher.url","//crta.dailymail.co.uk");i.endsWith("/")||(i+="/"),i+="migration",t.on("dispatch to bidmax",(e=>{let{body:t,headers:n}=e;if(t){if(o)try{t={...t,reqType:"beacon"};const e=new Blob([JSON.stringify(t)],{...n,type:"text/plain"});if(navigator.sendBeacon(i,e))return}catch(e){console.error(e)}try{t={...t,reqType:"xhr"};const e=new XMLHttpRequest;e.open("POST",i,!0),Object.entries(n).forEach((t=>{let[n,r]=t;return e.setRequestHeader(n,r)})),e.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}ve.isAdsFreeSupported=!0,ve.ccpa={enabledIfDissent:!0},ve.gdpr={enabledIfDissent:!0},be.isAdsFreeSupported=!0,be.ccpa={enabledIfDissent:!0},be.gdpr={enabledIfDissent:!0},we.isAdsFreeSupported=!0,we.ccpa={enabledIfDissent:!0},we.gdpr={enabledIfDissent:!0};class Se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__ads_viewability";this.startTimestamp=e,this.key=t;const r=JSON.parse(n.g.localStorage.getItem(t)||"{}"),o=Object.keys(r.pending||{}).reduce(((e,t)=>({...e,[t]:{misses:((r.ready[t]||{}).misses||0)+1}})),{});this.state={ready:Object.keys(r.ready||{}).reduce(((e,t)=>({...e,[t]:{...r.ready[t],...e[t]}})),o),pending:{}}}save(){n.g.localStorage.setItem(this.key,JSON.stringify(this.state))}adRendered(e){if(this.state.pending[e]){const t=this.state.ready[e]||(this.state.ready[e]={});t.misses=(t.misses||0)+1}this.state.pending[e]=1,this.save()}adViewed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();delete this.state.pending[e];const n=this.state.ready[e]||(this.state.ready[e]={});(n.views||(n.views=[])).push(t-this.startTimestamp),this.save()}snapshot(){const e=this.state.ready;return this.state.ready={},this.save(),e}}function _e(e){let{broker:t,getConfig:r}=e;if(!n.g.localStorage)return;const o=r("viewability.waitBeforeForcing",3e3),i=new Se(Date.now());let s;const a=function(){s&&(clearTimeout(s),s=void 0)},c=()=>{a(),s=setTimeout(l,o)},l=()=>{t.emit("send event to bidmax",{type:"ping"}),s=void 0},u=new Set;let d;t.on("ad rendered",(e=>i.adRendered(e))),t.on("ad viewable",(e=>{i.adViewed(e,Date.now()),"billboard"!==e&&!e.startsWith("sky_")||u.has(e)||(u.add(e),c())})),t.once("ad viewable",(e=>{d=!0,c()})),t.intercept("send to bidmax",((e,t)=>{let[n,r]=e;a();const o=i.snapshot();if((0,E.t7)(o))return t();t(n,{...r,viewability:o,first:d}),d=void 0}))}_e.ccpa={enabledIfDissent:!0},_e.gdpr={enabledIfDissent:!0};const Ee=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"];function ke(e){let{broker:t}=e;n.g.performance&&n.g.performance.memory&&t.register("call for page analytics",(()=>Promise.resolve({memory:Ee.reduce(((e,t)=>(e[t]=n.g.performance.memory[t],e)),{})})))}function Ie(e){let{broker:t}=e;t.register("call for page analytics",(()=>Promise.resolve({localStorage:{total:Object.keys(localStorage).map((e=>localStorage.getItem(e))).reduce(((e,t)=>e+t.length),0),top10:Object.keys(localStorage).map((e=>[e,localStorage.getItem(e).length])).sort(((e,t)=>t[1]-e[1])).slice(0,10)}})))}function Ae(e){let{broker:t}=e;t.register("call for page analytics",(async()=>{if(!n.g.RTA||!n.g.RTA.ids||!n.g.RTA.ids.then)return{};try{const{user:e,visit:t}=await(0,f.Mr)(3e3,n.g.RTA.ids,new Error),r={rta:{user:e}};if("string"==typeof t){const e=t.split(".");5===e.length&&(r.rta.visit=e[0])}return r}catch(e){return console.error("RTA.ids not available"),{}}}))}ke.isAdsFreeSupported=!0,ke.ccpa={enabledIfDissent:!0},ke.gdpr={enabledIfDissent:!0},Ie.isAdsFreeSupported=!0,Ie.ccpa={enabledIfDissent:!0},Ie.gdpr={enabledIfDissent:!0},Ae.isAdsFreeSupported=!0,Ae.ccpa={enabledIfDissent:!0},Ae.gdpr={enabledIfDissent:!0};const Ce=async()=>{const e=(0,f.C4)((()=>n.g.pagemeta)),t=await e;return{bundle:t.bundleVersion,sync:t.syncBundleVersion,async:t.asyncBundleVersion,video:t.videoBundleVersion}},Te=e=>{let{broker:t}=e;return new Promise((e=>{t.once("gpt initialized",(t=>{e({gpt:t.getVersion()})}))}))},Pe=e=>{let{broker:t}=e;return new Promise((e=>{t.once("prebid loaded",(t=>{e({prebid:t.version})}))}))},Oe=async()=>{const e=(0,f.C4)((()=>n.g.google&&n.g.google.ima&&n.g.google.ima.VERSION));return{ima:await e}},Re=e=>{const{broker:t,getConfig:n,log:r}=e,o={},i={pageMeta:Ce,gpt:Te,prebid:Pe,ima:Oe},s=n("analytics.external.bundleVersions",[]);r("finding versions for",s),s.forEach((t=>{const n=i[t]&&i[t](e);n?n.then((e=>{r(`assigning ${t} version`,e),Object.assign(o,e)}),(()=>r("error waiting for",t))):r.error(`unable to find handler for ${t} version`)})),t.register("call for page analytics",(()=>({externals:{versions:o}})))};Re.isAdsFreeSupported=!0,Re.ccpa={enabledIfDissent:!0},Re.gdpr={enabledIfDissent:!0};const xe=Re,Le=(0,n(9156).e)("timing"),De=["navigationStart","responseEnd","domInteractive","domContentLoadedEventStart","domComplete","fetchStart"],Me={"first-paint":"paint","first-contentful-paint":"firstContentfulPaint"},je=()=>{if(performance.getEntriesByType){const e=performance.getEntriesByType("paint").filter((e=>Me[e.name])).map((e=>[Me[e.name],Math.round(e.startTime)]));return Object.fromEntries(e)}},Be=()=>{if(!n.g.performance||!n.g.performance.timing||!n.g.performance.timing.navigationStart)return{};const e=[...De.map((e=>[e,n.g.performance.timing[e]])).filter((e=>0!==e[1])),["adsBundleStart",adverts.startTime]].sort(((e,t)=>e[1]-t[1])),t=e[0],r=e.map((e=>[e[0],e[1]-t[1]])).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r}}),{});return r[t[0]]=t[1],r};function Ue(e){let{broker:t}=e;const n=t.until("page network data").then((e=>{let[t]=e;return t.network}));t.on("page load",(async()=>{Le("page load happened, sending timing data to bidmax");const e=await(0,f.Mr)(1e3,n).catch((()=>({}))),r={...Be(),...je(),...e};Le("sending:",r),t.emit("send event to bidmax",{type:"page-load",payload:r})}))}function Ne(e){let{broker:t,getConfig:r,log:o,pageCriteria:a}=e;const c=Date.now(),l="ccpa"===r("cmp.model"),u=(0,s.mK)(),d=(0,s.E5)()&&u,f=r("ccpa.scriptBase")?.split("/").pop()||void 0,p={cmpVersion:r("ccpa.version",f),cmpEnforced:(0,s.im)()&&(0,s.E5)(),cmpRegion:a.region};d&&(p.gpcEnabled=!!u),n.g[r("cmp.apiHandler")]("getUSPData",null,((e,n)=>{n&&(o("encoded data:",e),(e=>{let{uspString:t}=e;p.uspString=t})(e),t.emit("send event to bidmax",{type:"custom",payload:{event:"loaded",module:"cmp",...(0,i.qI)("loadTimeP1s",Date.now()-c)}}))})),t.register("call for page analytics",(()=>(p.consent=localStorage.getItem("mol.ads.cmp.consent"),p.cmp=l?"ccpa":void 0,o("sending",p),p)))}function Ve(e){let{broker:t,log:n}=e;const r={},o={},i={total:0,auction:{},video:{}};function s(e,t,s){let a;return!o[s]&&r[s]&&(n("[",s,"] ad viewable, but bidding in progress - assuming the auction ended",r[s]),o[s]=r[s],delete r[s]),o[s]?(a=o[s].cpm,i.total+=a,i[e][t]=(i[e][t]||0)+a,n("[",s,"] ad viewable",o[s],"summary.total",i.total),delete o[s]):n("[",s,"] ad viewable - no winner"),a}window.adverts.getRevenueSummary=()=>i,t.on("bids requested",(e=>{e.positions.forEach((e=>{n("[",e,"] start auction"),delete r[e]}))})),t.on("bid",((e,t)=>{let{bidder:o,cpm:i}=t;(!r[e]||r[e].cpm<i)&&(r[e]={bidder:o,cpm:i}),n("[",e,"]",o,"offers to pay",i)})),t.on("bidding ended",(e=>{r[e]?(o[e]=r[e],delete r[e],n("[",e,"] bidding ended",o[e])):n("[",e,"] bidding ended - no bids")})),t.on("video ad viewable",(e=>{let{pos:t,videoId:n}=e;return s("video",n||"unknown",t)})),t.on("ad viewable",(e=>s("auction",e,e)))}Ue.isAdsFreeSupported=!0,Ue.ccpa={enabledIfDissent:!0},Ue.gdpr={enabledIfDissent:!0},Ne.isAdsFreeSupported=!0,Ne.ccpa={enabledIfDissent:!0},Ve.ccpa={enabledIfDissent:!0},Ve.gdpr={enabledIfDissent:!0},Ve.disableIfNoAdsServable=!0},68:(e,t,n)=>{var r={"./essential":[7408],"./essential.js":[7408],"./header-bidding":[3980,868,980],"./header-bidding.js":[3980,868,980],"./inews":[5744,304,744],"./inews.js":[5744,304,744],"./metro":[2202,304,944,202],"./metro.js":[2202,304,944,202]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=68,e.exports=o},4856:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});const r=[{minWidth:320,name:"mobile"},{minWidth:768,name:"tablet"},{minWidth:1024,name:"desktop"}],o=(e=>{let t;for(t=r.length-1;t>=0;t--)if(e>=r[t].minWidth)return r[t].name;return"mobile"})(n.g.innerWidth)},1120:(e,t,n)=>{"use strict";var r=n(9040),o=n(4120),i=n(1180),s=n(4856),a=n(6604);const c=o.cp.broker("ANAdsAPI");n.g.adverts=n.g.adverts||{},n.g.adverts.queue=n.g.adverts.queue||[],n.g.adverts.addToArray=e=>{const{id:t}=function(e){const t=document.currentScript||(0,i.GS)(document.querySelectorAll(`*[id^=${e.pos}] script`))||(0,i.GS)(document.scripts);return t?.parentNode}(e)||{},n={...e,containerId:t};c.emit("api message","adSlotMount",n)},n.g.DM=n.g.DM||{},n.g.__dmgCmp=n.g.__dmgCmp||[],n.g.pagemeta=n.g.pagemeta||{},n.g.pagemeta.adsBundleVersion=a.WU.toString(),window.DM.later=function(e,t){t()},window.adverts.startTime=r.c,window.adverts.stopRefreshingAds=e=>{c.emit("stop refreshing ads",e)},n.g.MobileUtils={isMobile:function(){return"mobile"===s.c}},n.g.adverts.getVideoAdTag=async e=>{const t={autoplay:!1,offset:0,pos:"metro.video.chromeless",...e};console.log(t);const{adTagUrl:n}=await c.invoke("get video ad tag",t);return n}},4968:e=>{"use strict";e.exports=DM.molFeAsync},5288:()=>{},2088:()=>{},6604:e=>{"use strict";e.exports={WU:"1.42.0"}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@mailonline/an-ads:",o.l=(n,r,i,s)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var f=(t,r)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={244:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=i);var s=o.p+o.u(t),a=new Error;o.l(s,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[s,a,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);c&&c(o)}for(t&&t(n);l<s.length;l++)i=s[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_mailonline_an_ads=self.webpackChunk_mailonline_an_ads||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0,o(4e3),o(1120),o(2628)})();
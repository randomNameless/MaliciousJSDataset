(function(g,h){function e(a){var b=g.Deferred();a.then(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise()}var d,c,b=function(a){if(!c)throw Error("VideoPlayerCore is a singleton. Use VideoPlayerCore.setup().");if(b)throw Error("VideoPlayerCore is a singleton. Use VideoPlayerCore.getInstance().");a=a||{};var b=this,d=!!document.location.href.match(/force_debug=true/);require(["modules/video_player"],function(e){var f={DEBUG_ENABLED:!(!d&&!a.debugMode)};a.server&&(f.webServer=a.server);
a.pass&&(f.initialKey=a.pass);b._VideoPlayer=e(f);c.resolve()})};b.prototype.register=function(a){return c.then(function(){return e(b.getInstance()._VideoPlayer.register(a))})};b.prototype.registerYouTube=function(a){return c.then(function(){return e(b.getInstance()._VideoPlayer.registerYouTube(a))})};b.prototype.registerVimeo=function(a){return c.then(function(){return e(b.getInstance()._VideoPlayer.registerVimeo(a))})};b.prototype.isPlaying=function(a){return b.getInstance()._VideoPlayer.isPlaying(a)};
b.prototype.getVideoId=function(a){return b.getInstance()._VideoPlayer.getVideoId(a)};b.prototype.onStateChange=function(a){return b.getInstance()._VideoPlayer.onStateChange(a)};b.prototype.onWhilePlaying=function(a){return b.getInstance()._VideoPlayer.onWhilePlaying(a)};b.prototype.onFinish=function(a){return b.getInstance()._VideoPlayer.onFinish(a)};b.prototype.onVideoStateChange=function(a){return b.getInstance()._VideoPlayer.onVideoStateChange(a)};b.prototype.onVideoStateChangeForId=function(a,
c){return b.getInstance()._VideoPlayer.onVideoStateChangeForId(a,c)};b.prototype.onVideoPlayingForId=function(a,c){return b.getInstance()._VideoPlayer.onVideoPlayingForId(a,c)};b.prototype.onVideoStoppedForId=function(a,c){return b.getInstance()._VideoPlayer.onVideoStoppedForId(a,c)};b.getInstance=function(){if(!d)throw Error("VideoPlayer not initialized yet. Use Reverb.videoPlayerReady()");return d};b.setup=function(a){c||(c=g.Deferred(),c.then(function(){jQuery(window).trigger("video_player_ready",
d)}),d=new b(a));return d};h.VideoPlayerCore=b})(jQuery,window);

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>graphApi.html</title>
</head>
<body>

<script>
/*! updated; 12-02-2024 09:11 PM **/


!function(r){const o={fn:"foxnews",fb:"foxbusiness"},t={liveramp:"_lr_env",tradedesk:"__uid2_advertising_token",arid:"arid"};let e=new class{constructor(){this.initialized||(this.xid_value=null,this.initialized=!1,this.graph_path="https://prod.idgraph.dt.fox/api/v2/item",this.liverampCookieExpired=null===this.getCookie(t.liveramp),this.tradedeskCookieExpired=null===this.getCookie(t.tradedesk),this.aridCookieExpired=null===this.getCookie(t.arid),this.cookieIsExpired=this.liverampCookieExpired||this.tradedeskCookieExpired||this.aridCookieExpired)}getXid(){return this.getXidValueFromEvent().then(e=>e?(this.setXidValue(e),this.fetchAndSetIdGraph()):this.getXidFromFallbackSources())}getXidFromFallbackSources(){var e=this.getXidValueFromCookie();if(e)return this.setXidValue(e),this.fetchAndSetIdGraph();e=this.getXidValueFromGlobal();return e?(this.setXidValue(e),this.fetchAndSetIdGraph()):r.Promise.resolve(null)}fetchAndSetIdGraph(){return this.fetchIdGraph(this.xid_value).then(e=>(this.liverampCookieExpired&&this.setEncodedLrEnvCookie(e._lr_env,e.lr_exp),this.tradedeskCookieExpired&&this.setTdCookie(e._td_token,e.td_exp),this.aridCookieExpired&&this.setAridCookie(e.arid,e.arid_exp),e))}setEncodedLrEnvCookie(e,i){e=JSON.stringify({envelope:e}),e=btoa(e),i=new Date(i);this.setCookie(t.liveramp,e,i)}setTdCookie(e,i){null!==e&&(i=new Date(i),this.setCookie(t.tradedesk,e,i))}setAridCookie(e,i){null!==e&&(i=new Date(i),this.setCookie(t.arid,e,i))}getXidValueFromEvent(){return new r.Promise(i=>{const t=e=>{r.removeEventListener("xidReady",t),e.detail.xid?i(e.detail.xid):i(null)};r.addEventListener("xidReady",t)})}getXidValueFromCookie(){return this.getCookie("xid")||null}getXidValueFromGlobal(){return r.FNC&&r.FNC.xid&&r.FNC.xid.xid_value?r.FNC.xid.xid_value:null}setXidValue(e){e&&(this.xid_value=e,this.initialized=!0)}fetchIdGraph(e){let o={method:"POST",headers:{"Content-Type":"application/json"}};return o.body=JSON.stringify({id:e}),new r.Promise((i,t)=>{fetch(this.graph_path,o).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")}).then(e=>{i(e)}).catch(e=>{t(e)})})}getBusinessUnit(){let e=new URLSearchParams(r.location.search);var i=e.get("site"),t=this.getDomain();return o[i]||t}getDomain(){const e=r.location.host;var i=e.split(".");return 0<i.length?i[i.length-2]:"foxnews"}getCookie(e){var t=e+"=",o=document.cookie.split(";");for(let i=0;i<o.length;i++){let e=o[i];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return null}setCookie(i,t,e){let o="";e&&(o="; expires="+e.toUTCString());[".foxnews.com",".foxbusiness.com"].forEach(e=>{document.cookie=i+"="+(t||"")+o+"; path=/; domain="+e})}init(){this.initialized||(this.cookieIsExpired&&this.getXid(),this.initialized=!0)}};e.init()}(window);
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pub.html</title>
</head>
<body>

<script>
/* GptMeasurement HouseHold ImplementationValidator LegacyLayer PLEMetrics SignalsAbs SignalsAutoInsertion SignalsBsc SignalsIds SignalsVlp */
(()=>{var no=Object.create;var Yt=Object.defineProperty,so=Object.defineProperties,Ze=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyDescriptors,lo=Object.getOwnPropertyNames,se=Object.getOwnPropertySymbols,co=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable;var Ce=(o,t,e)=>t in o?Yt(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))Ie.call(t,e)&&Ce(o,e,t[e]);if(se)for(var e of se(t))tr.call(t,e)&&Ce(o,e,t[e]);return o},gt=(o,t)=>so(o,ao(t)),a=(o,t)=>Yt(o,"name",{value:t,configurable:!0});var er=(o,t)=>{var e={};for(var r in o)Ie.call(o,r)&&t.indexOf(r)<0&&(e[r]=o[r]);if(o!=null&&se)for(var r of se(o))t.indexOf(r)<0&&tr.call(o,r)&&(e[r]=o[r]);return e};var rr=(o,t)=>()=>(o&&(t=o(o=0)),t);var uo=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports);var mo=(o,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lo(t))!Ie.call(o,s)&&s!==e&&Yt(o,s,{get:()=>t[s],enumerable:!(r=Ze(t,s))||r.enumerable});return o};var go=(o,t,e)=>(e=o!=null?no(co(o)):{},mo(t||!o||!o.__esModule?Yt(e,"default",{value:o,enumerable:!0}):e,o));var l=(o,t,e,r)=>{for(var s=r>1?void 0:r?Ze(t,e):t,c=o.length-1,g;c>=0;c--)(g=o[c])&&(s=(r?g(t,e,s):g(s))||s);return r&&s&&Yt(t,e,s),s};var d=(o,t,e)=>(Ce(o,typeof t!="symbol"?t+"":t,e),e);var T=(o,t,e)=>new Promise((r,s)=>{var c=h=>{try{f(e.next(h))}catch(A){s(A)}},g=h=>{try{f(e.throw(h))}catch(A){s(A)}},f=h=>h.done?r(h.value):Promise.resolve(h.value).then(c,g);f((e=e.apply(o,t)).next())});var u,i=rr(()=>{u={"172968584":{adServerId:40,customTracking:{c1:{type:"targeting",key:"entry_group"},c2:{type:"targeting",key:"entry_type"},c3:{type:"targeting",key:"refresh"},c4:{type:"targeting",key:"page_type"},c5:{type:"targeting",key:"permutive"},c6:{type:"targeting",key:"cts_keyword_list"},c7:{type:"targeting",key:"cts_iab_category"},c8:{type:"targeting",key:"cts_wikidata_list"}},adPositionKey:"pos"}}});var n=rr(()=>{});var to=uo((IT,Zr)=>{i();n();function jo(o,t){if(typeof o!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof o}\`.`);let e,r=0;return a(function(...c){clearTimeout(e);let g=Date.now(),f=g-r,h=t-f;h<=0?(r=g,o.apply(this,c)):e=setTimeout(()=>{r=Date.now(),o.apply(this,c)},h)},"throttled")}a(jo,"throttle");Zr.exports=jo});i();n();i();n();i();n();i();n();i();n();var Pe={queueAdRequest:o=>{var t;try{(t=o.callback)==null||t.call(o),o.callback=null}catch(e){}},defineSlot:(o,t)=>{},adRendered:(o,t)=>{},adRemoved:o=>{},getTargeting:o=>({}),addEventListener:(o,t)=>{},removeEventListener:(o,t)=>{},toggleDebugMode:()=>{console.log("%c[UT-DEBUG]%c Debug mode is not available for this tag.","color: red","color: intial")},onSlotVisibleForTime:(o,t,e)=>{}};i();n();var xe=class xe{constructor(){d(this,"isEntryModule",!0)}};a(xe,"EntryModule");var D=xe;i();n();var ae=class ae{constructor(t){d(this,"_error");d(this,"_message","unknown");d(this,"_trace",[]);if(t instanceof ae)return t;t instanceof Error&&(this._error=t,this._message=t.message)}get error(){return this._error}get message(){return this._message}get trace(){return this._trace}addToTrace(t){this.trace.unshift(t)}};a(ae,"TracedError");var Ft=ae;var we=class we{constructor(t,e){d(this,"window");d(this,"dvtag");d(this,"modules",new Map);d(this,"errorHandlers",[]);d(this,"errors",[]);var r;this.window=e,this.window.dvtag=(r=this.window.dvtag)!=null?r:{},this.dvtag=this.window.dvtag,this.dvtag._core=this;for(let[s,c]of Object.entries(Pe))this.dvtag[s]=c;for(let s of t)this.createModule(s);for(let s of this.modules.values())this.applyModuleDecoration(s);for(let s of this.modules.values())this.applyErrorDecoration(s);for(let s of this.modules.values())this.applyPluginDecoration(s);for(let s of this.modules.values())this.applyApiDecoration(s);for(let s of this.modules.values())this.applyExecuteDecoration(s)}get moduleList(){return[...this.modules.keys()].map(t=>t.name)}get entryModuleList(){return[...this.modules.entries()].filter(([t,e])=>e instanceof D).map(([t,e])=>t.name)}get(t){return this.getModule(t).gateway}getByName(t){let e=[...this.modules.keys()].find(r=>r.name===t);return e!=null?this.get(e):null}getModule(t){let e=this.modules.get(t);if(e==null)throw new Error(`module not in core: ${t.name}`);return e}createModule(t){if(t.prototype.moduleConfig==null)throw new Error(`not a module: ${t.name}`);let e=new t;e.core=this,e.gateway={module:e},this.modules.set(t,e)}applyModuleDecoration(t){var s,c,g,f,h,A;let e=t.constructor.prototype.moduleConfig,r=t.constructor.name;for(let{method:R}of e){let P=t[R].bind(t),U=(g=(c=(s=this.dvtag._hooks)==null?void 0:s.interceptModule)==null?void 0:c[r])==null?void 0:g[R],w=U==null?P:U.bind(t),mt=(A=(h=(f=this.dvtag._hooks)==null?void 0:f.inspectModule)==null?void 0:h[r])==null?void 0:A[R],Mt=mt==null?w:(...kt)=>{let wt=w(...kt);return mt(kt,wt),wt},io=a((...kt)=>{let wt;try{wt=Mt(...kt)}catch($t){throw this.traceMethodError(t,R,kt,$t)}return wt instanceof Promise?wt.then($t=>$t,$t=>{throw this.traceMethodError(t,R,kt,$t)}):wt},"traced");t.gateway[R]=io}if(t.plugins!=null){t.pluginFunctions={};for(let R of Object.keys(t.plugins)){t.pluginFunctions[R]=[];let P=t.pluginFunctions[R];t.plugins[R]=(...U)=>{let w=[];for(let mt of P)try{w.push(mt(...U))}catch(Mt){this.tracePluginError(t,R,Mt)}return w}}}}traceMethodError(t,e,r,s){let c=new Ft(s);return c.addToTrace(`${t.constructor.name}.${e}(${r.map(g=>typeof g).join(",")})`),c}traceExecuteError(t){let e=new Ft(t);return e.addToTrace("@execute"),this.handleSevereError(e),e}tracePluginError(t,e,r){let s=new Ft(r);return s.addToTrace(`@plugin(${t.constructor.name}, '${e}')`),this.handleSevereError(s),s}traceApiError(t,e){let r=new Ft(e);return r.addToTrace(`@api('${t}')`),this.handleSevereError(r),r}handleSevereError(t){for(let e of this.errorHandlers)try{e(t)}catch(r){}this.errors.length>10||this.errors.push({message:t.message,trace:t.trace})}applyErrorDecoration(t){var r;let e=(r=t.constructor.prototype.errorConfig)!=null?r:[];for(let{method:s}of e)this.errorHandlers.push(t.gateway[s])}applyPluginDecoration(t){var r;let e=(r=t.constructor.prototype.pluginConfig)!=null?r:[];for(let{PluggableClass:s,category:c,method:g}of e)this.getModule(s).pluginFunctions[c].push(t.gateway[g])}applyApiDecoration(t){var r;let e=(r=t.constructor.prototype.apiConfig)!=null?r:[];for(let{api:s,method:c}of e)Object.defineProperty(this.dvtag,s,{value:(...g)=>{var f,h;try{return t.gateway[c](...g)}catch(A){return this.traceApiError(s,A),(h=(f=Pe)[s])==null?void 0:h.call(f,...g)}},writable:!1})}applyExecuteDecoration(t){return T(this,null,function*(){var r;let e=(r=t.constructor.prototype.executeConfig)!=null?r:[];for(let{method:s}of e)try{yield t.gateway[s]()}catch(c){this.traceExecuteError(c)}})}};a(we,"Core");var zt=we;i();n();i();n();var Fe=[],Oe=Fe;var p=a(o=>{let t=o.prototype,e=Object.getOwnPropertyNames(t).filter(r=>{var s;return r!=="constructor"&&((s=Object.getOwnPropertyDescriptor(t,r))==null?void 0:s.value)instanceof Function});t.moduleConfig=e.map(r=>({method:r})),Fe.push(o)},"moduleClass"),V=a(o=>t=>{},"attachModule"),b=a((o,t)=>{var e;o.executeConfig=(e=o.executeConfig)!=null?e:[],o.executeConfig.push({method:t})},"executeMethod"),S=a((o,t)=>(e,r)=>{var s;e.pluginConfig=(s=e.pluginConfig)!=null?s:[],e.pluginConfig.push({PluggableClass:o,category:t,method:r})},"pluginMethod"),Lt=a(o=>(t,e)=>{var r;t.apiConfig=(r=t.apiConfig)!=null?r:[],t.apiConfig.push({api:o,method:e})},"apiMethod"),or=a((o,t)=>{var e;o.errorConfig=(e=o.errorConfig)!=null?e:[],o.errorConfig.push({method:t})},"errorMethod");i();n();i();n();var qt=a(o=>{if(o==null)return[];let t=ir(o);return t!=null?[t]:Array.isArray(o)?o.map(ir).filter(e=>e!=null):[]},"parseSlotSizes"),ir=a(o=>{if(o==null)return null;if(typeof o=="string")return{label:o};if(Array.isArray(o)){if(o.length===1&&typeof o[0]=="string")return{label:o[0]};if(o.length===2&&typeof o[0]=="number"&&typeof o[1]=="number")return{width:o[0],height:o[1]}}if(typeof o=="object"){let{label:t,width:e,height:r}=o;if(typeof e=="number"&&typeof r=="number")return{width:e,height:r};if(typeof t=="string")return{label:t}}return null},"parseSlotSize");i();n();var nr=a(o=>{try{return o.getSizes()}catch(t){return[]}},"getGptSlotSizesSafe");i();n();var le=a(o=>{let t=o.split("/").map(s=>s.trim()).filter(s=>s.length>0);if(t.length<2)return;let e=t[0].split(",",1)[0],r=Number(e);return Number.isNaN(r)?void 0:`${r}`},"getNetworkCodeFromAdUnit");var ce=a((o,t)=>{let e=o.getAdUnitPath(),r=le(e);return{id:e,network:r,sizes:qt(nr(o)),position:o.getTargeting(t)[0]}},"gptSlotToAdUnit");i();n();var de=a((o,t)=>({getTargeting:e=>[...new Set([...t(e),...o.getTargeting(e)])],setTargeting:(e,r)=>{o.setTargeting(e,r)}}),"gptSlotToTargetable");i();n();i();n();var Ue="dvp_spos";var L=class{_getAdServers(){try{return u}catch(t){return{}}}isAdServerConfigured(t){return t!=null&&t in this._getAdServers()}getAdServerConfig(t){var e;return this.isAdServerConfigured(t)?(e=this._getAdServers()[t])!=null?e:{}:{}}getAdServerCustomTracking(t){var e;return this.isAdServerConfigured(t)?(e=this._getAdServers()[t].customTracking)!=null?e:{}:{}}getAdServerId(t){return this.isAdServerConfigured(t)?this._getAdServers()[t].adServerId:null}getAdPositionKey(t){var e,r;return t==null?Ue:(r=(e=this._getAdServers()[t])==null?void 0:e.adPositionKey)!=null?r:Ue}};a(L,"AdServers"),L=l([p],L);i();n();i();n();i();n();i();n();i();n();var ue,fo=new Uint8Array(16);function De(){if(!ue&&(ue=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ue))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ue(fo)}a(De,"rng");i();n();var k=[];for(let o=0;o<256;++o)k.push((o+256).toString(16).slice(1));function sr(o,t=0){return k[o[t+0]]+k[o[t+1]]+k[o[t+2]]+k[o[t+3]]+"-"+k[o[t+4]]+k[o[t+5]]+"-"+k[o[t+6]]+k[o[t+7]]+"-"+k[o[t+8]]+k[o[t+9]]+"-"+k[o[t+10]]+k[o[t+11]]+k[o[t+12]]+k[o[t+13]]+k[o[t+14]]+k[o[t+15]]}a(sr,"unsafeStringify");i();n();i();n();var ho=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ne={randomUUID:ho};function So(o,t,e){if(Ne.randomUUID&&!t&&!o)return Ne.randomUUID();o=o||{};let r=o.random||(o.rng||De)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let s=0;s<16;++s)t[e+s]=r[s];return t}return sr(r)}a(So,"v4");var Me=So;var Rt=a(()=>Me(),"uuid");var ke=class ke{constructor(t,e,r,s,c){this._slotStore=t;this.source=e;this.elementId=r;this.adUnit=s;this._targetable=c;d(this,"uuid");d(this,"_variables",new Map);d(this,"_targeting",{});d(this,"_flushedTargeting",{});this.uuid=Rt()}setVariable(t,e){this._variables.set(t,e)}getVariable(t){return this._variables.get(t)}hasVariable(t){return this._variables.has(t)}clearVariable(t){this._variables.delete(t)}getUptTargetingKeys(){return[...new Set([...Object.keys(this._targeting),...this._slotStore.getUptPageTargetingKeys()])]}getUptTargetingForKey(t){var e;return[...new Set([...(e=this._targeting[t])!=null?e:[],...this._slotStore.getUptPageTargetingForKey(t)])]}getUptTargeting(){let t={};for(let e of this.getUptTargetingKeys())t[e]=this.getUptTargetingForKey(e);return t}setUptSlotTargeting(t){for(let[e,r]of Object.entries(t))this._targeting[e]=[...new Set(r)],this.flushUptTargetingToAdServer(e)}addUptSlotTargeting(t){var e;for(let[r,s]of Object.entries(t))this._targeting[r]=[...new Set([...(e=this._targeting[r])!=null?e:[],...s])],this.flushUptTargetingToAdServer(r)}getAdServerTargeting(t){var e,r;return(r=(e=this._targetable)==null?void 0:e.getTargeting(t))!=null?r:[]}flushUptTargetingToAdServer(t){var s;if(this._targetable==null)return;let e=(s=this._flushedTargeting[t])!=null?s:[],r=this.getUptTargetingForKey(t);(e.length!==r.length||r.sort().some((c,g)=>e[g]!==c))&&(this._targetable.setTargeting(t,this.getUptTargetingForKey(t)),this._flushedTargeting[t]=r)}forceFlushAllUptTargetingToAdServer(){this._targetable!=null&&(this._flushedTargeting={},this.getUptTargetingKeys().forEach(t=>this.flushUptTargetingToAdServer(t)))}validateAdServerTargeting(){let t=2;for(let e of this.getUptTargetingKeys()){let r=this.getUptTargetingForKey(e),s=this.getAdServerTargeting(e);if(r.length>s.length||r.some(c=>!s.includes(c)))return 0;s.length>r.length&&(t=1)}return t}};a(ke,"Slot");var Xt=ke;i();n();i();n();var y=class{constructor(){d(this,"plugins",{slotDiscovered:(t,e)=>[],slotDestroyed:t=>[]});d(this,"_slots",{});d(this,"_pageTargeting",{})}getSlot(t,e){var r;return(r=this._slots[t])==null?void 0:r[e]}getSlots(t){var e;if(t==null){let r=[];for(let s of Object.values(this._slots))r.push(...Object.values(s));return r}return Object.values((e=this._slots[t])!=null?e:{})}createSlot(t,e,r,s,c,g){var A,R;let f=this.getSlot(t,r);f!=null&&this.plugins.slotDestroyed(f);let h=new Xt(this,t,r,s,c);(R=(A=this._slots)[t])!=null||(A[t]={}),this._slots[t][r]=h;for(let P of Object.keys(this._pageTargeting))h.flushUptTargetingToAdServer(P);return g==null||g(h),this.plugins.slotDiscovered(h,e),h}getUptPageTargetingKeys(){return Object.keys(this._pageTargeting)}getUptPageTargetingForKey(t){var e;return(e=this._pageTargeting[t])!=null?e:[]}getUptPageTargeting(){let t={};for(let[e,r]of Object.entries(this._pageTargeting))t[e]=[...r];return t}setUptPageTargeting(t){for(let[e,r]of Object.entries(t))this._pageTargeting[e]=[...new Set(r)];this._flushUptPageTargetingToAdServer(Object.keys(t))}addUptPageTargeting(t){var e;for(let[r,s]of Object.entries(t))this._pageTargeting[r]=[...new Set([...(e=this._pageTargeting[r])!=null?e:[],...s])];this._flushUptPageTargetingToAdServer(Object.keys(t))}_flushUptPageTargetingToAdServer(t){for(let e of Object.values(this._slots))for(let r of Object.values(e))for(let s of t)r==null||r.flushUptTargetingToAdServer(s)}};a(y,"SlotStore"),y=l([p],y);i();n();i();n();i();n();i();n();var To=[[/((\?)|&)(?:amp_lite|fr=operanews)/g,"$2"],[/(^https?:\/\/)(www\.)/g,"$1"],[/(((\?)|&|%3F|%26|;)(?:utm_campaign|utm_source|utm_content|utm_term|utm_viral|utm_medium|utm_identifier|utm_key|fb_source|referrer|referer|ref|rand|rnd|randid|\.?rand|\.?partner|cb|count|adid|session|sessionid|session_redirect|param\d|userinfo|uid|refresh|ocid|ncid|clickenc|fbclid|amp_js_v|amp_gsa|ns_source|ns_campaign|ns_mchanel|ns_mchannel|ns_linkname|ns_fee|src|ex_cid|usqp|source|xid|trkid|utm_social-type|mbid|utm_brand|__twitter_impression|utm_referrer|CMP|cmp|_cmp|cq_cmp)=[^&]*)/g,"$3"],[/[/.]amp(?:\/[?&]*)?$/g,""],[/((\?)|&)(?:outputType|isFollow|suppressMediaBar|cid|ICID|icid|bdk|wtu_id_h|utm_placement|intcmp|_native_ads|traffic_source|entry|\.tsrc|autoplay|autostart|dc_data|influencer|pubdate|utm_hp_ref|redirect|service|refresh_ce|refresh_cens|xcmg|target_id|_amp)=[^&]*/g,"$2"],[/(\?|&)(?:amp)(?:&|$|=[^&]*)/g,"$1"]],Ao=[[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""],[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""]],ar=a((o,t)=>{for(let[e,r]of o)t=t.replace(e,r);return t},"replaceByRules"),lr=a(o=>{let t=ar(To,o);return ar(Ao,t)},"normalizeUrl");i();n();var cr=a(o=>o.split("?",1)[0].split("#",1)[0],"stripUrlQuery");i();n();var dr=a((o,t)=>{try{let e=new URLSearchParams(o),r=e.get("ctx"),s=e.get("cmp");if(r!=null&&s!=null)return{ctx:r,cmp:s,prefetch:t,legacy:!0}}catch(e){}return null},"parseInfo"),ur=a(o=>{var t;return o.pathname!=="/signals/pub.js"?null:(t=dr(o.search,!0))!=null?t:dr(o.hash.substring(1),!1)},"parseLegacyPagetagUrl");var Ro=1e3,yo=/^\/dvtag\/([^/]+)\/([^/]+)\/pub\.js$/,E=class{constructor(){d(this,"visit");d(this,"tagInfo");d(this,"plugins",{newVisit:t=>[]})}_initialize(){this.getTagInfo(),this.updateVisit(!1),this.plugins.newVisit(this.visit),this._installNavigationListener()}getTagInfo(){var t;if(this.tagInfo==null){try{this.tagInfo=this._parseTagInfo()}catch(e){}(t=this.tagInfo)!=null||(this.tagInfo={ctx:"unknown",cmp:"unknown"})}return this.tagInfo}_parseTagInfo(){let t=this.getCurrentScriptSrc();if(t==null)return null;let e=new URL(t,"https://pub.doubleverify.com"),r=e.pathname,s=yo.exec(r);if(s!=null){let[,c,g]=s;return{ctx:c,cmp:g}}return ur(e)}getCurrentScriptSrc(){var t,e;return(e=(t=this.core.window.document.currentScript)==null?void 0:t.getAttribute("src"))!=null?e:null}updateVisit(t=!0){let e=this.getStrippedPageUrl();return(this.visit==null||this.visit.strippedUrl!==e)&&(this.visit={strippedUrl:e,normalizedUrl:lr(this.core.window.location.href),uuid:Rt()},t&&this.plugins.newVisit(this.visit)),this.visit}getVisit(){var t;return(t=this.visit)!=null?t:this.updateVisit(!1)}getStrippedPageUrl(){return cr(this.core.window.location.href)}getNormalizedPageUrl(){return this.getVisit().normalizedUrl}getVisitUuid(){return this.getVisit().uuid}_installNavigationListener(){let{window:t}=this.core,e=a(()=>this.updateVisit(!0),"cb");t.navigation!=null?t.navigation.addEventListener("navigatesuccess",e):setInterval(e,Ro)}};a(E,"Context"),l([b],E.prototype,"_initialize",1),E=l([p],E);i();n();i();n();var Le=class Le{constructor(){d(this,"pending",[]);d(this,"flushing",!1)}push(t){this.pending.push(t),this.flush()}flush(){return T(this,null,function*(){var e;if(this.flushing)return;this.flushing=!0;let t=this.pending.shift();for(;t!=null;){try{yield t.promise}catch(r){}try{(e=t.callback)==null||e.call(t)}catch(r){}t=this.pending.shift()}this.flushing=!1})}};a(Le,"AsyncQueue");var me=Le;var v=class{constructor(){d(this,"plugins",{adRequestQueued:t=>[],adRequestTimedOut:t=>[],adRequestBeforeRelease:t=>[],adRequestCompleted:t=>[]});d(this,"queue",new me);d(this,"adRequestCounter",0)}_queueAdRequest(t={}){var c,g;let e={index:this.adRequestCounter++,status:"queued",timeoutValue:(c=t.timeout)!=null?c:0,onDvtagReadyCalled:(g=t.timestamp)!=null?g:0,waitingStarted:new Date().getTime(),internal:t.internal};this.core.get(E).updateVisit(),this.plugins.adRequestQueued(e);let r=t.callback;r===void 0?t.callback=()=>{}:r===null?e.status="tag-timeout":t.callback=()=>{e.status="queue-timeout",e.callbackCalled=new Date().getTime(),t.callback=null,this.plugins.adRequestTimedOut(e);try{r()}catch(f){}};let s=a(()=>{if(t.callback!=null){t.callback=null,e.status="success",e.callbackCalled=new Date().getTime(),this.plugins.adRequestBeforeRelease(e);try{r==null||r()}catch(f){}}else this.plugins.adRequestBeforeRelease(e);e.waitingEnded=new Date().getTime(),this.plugins.adRequestCompleted(e)},"onAsyncOperationsCompleted");this.queue.push({callback:s,adRequest:e})}delayAdRequests(t){this.queue.push({promise:t})}};a(v,"AdRequestQueue"),l([Lt("queueAdRequest")],v.prototype,"_queueAdRequest",1),v=l([p],v);i();n();i();n();i();n();var Q=class{getShortCommitId(){return"a37ae84"}getBuildTimestamp(){return 1733173219820}getAuthToken(){return"l6nWeKeHIKLmZm3N81cKr3o8mR3Yrvd7haTTNl//wwQzGemi/x+dqmw5jsdNEfU4npSOGx4IAM5/vW8R4Ktni3rjzxmjmKhlgKuQnCEOm3fX2frbC+491QN9LuPlDYnDGNX4CqnXR/kmYJt0s2WNYA=="}};a(Q,"DefinedVariables"),Q=l([p],Q);var K=class{constructor(){d(this,"cache",{})}_performFetchJson(t,e){return T(this,null,function*(){let r=t;if(e!=null&&e.authToken){let g=this.core.get(Q).getAuthToken(),f=new URL(t);f.searchParams.set("token",g),r=f.href}let s=yield this.core.window.fetch(r);return{json:yield s.json(),headers:s.headers}})}fetchJson(t,e){return T(this,null,function*(){let r=this.cache[t];return r==null&&(r=this._performFetchJson(t,e).then(s=>s.json),this.cache[t]=r),r})}};a(K,"Fetch"),K=l([p],K);i();n();var Jt=["BSC","ABS","CCT","CBS"],qe=["IDS"],Zt=["VLP","TVP"],Eo=[...Jt,...qe,...Zt],na=[...Jt,...qe,...Zt].filter(o=>o!=="CCT"),mr=a(o=>Eo.includes(o.toUpperCase()),"isSignal"),gr=a(o=>Zt.includes(o.toUpperCase()),"isSlotSignal"),pr=a(o=>qe.includes(o.toUpperCase()),"isUserSignal"),fr=a(o=>Jt.includes(o.toUpperCase()),"isPageSignal");i();n();i();n();var ge=a(o=>o==null?"":`@${o}`,"getPositionSuffix");i();n();var bo=/^(\d+)x(\d+)$/,hr=a(o=>o==="all"?[]:o.split(",").map(t=>{let e=t.match(bo);return e==null?{label:t}:{width:parseInt(e[1],10),height:parseInt(e[2],10)}}),"stringToSlotSizes"),Ve=a(o=>o.length===0?"all":o.map(({width:t,height:e,label:r})=>r!=null?r:`${t}x${e}`).join(","),"slotSizesToString"),Sr=a(o=>o==null?"":o.length>0&&o.every(({label:r})=>r==null)?Ve(o):"","slotSizesToStringIfSpecific");var vo="https://pub.doubleverify.com/dvtag/signals/",$=class{_getBaseUrl(t){let e=this.core.get(E),{ctx:r,cmp:s}=e.getTagInfo(),c=e.getNormalizedPageUrl();try{c=new URL(c).origin}catch(f){}let g=new URL(t,vo);return g.searchParams.set("ctx",r),g.searchParams.set("cmp",s),g.searchParams.set("url",c),g}getUserTargetingUrl(t){let e=this._getBaseUrl("ids/pub.json");return t.includes("IDS")&&e.searchParams.set("ids","1"),e.href}getPageTargetingUrl(t,e){let r=this._getBaseUrl("bsc/pub.json");return r.searchParams.set("url",e),t.includes("BSC")&&r.searchParams.set("bsc","1"),t.includes("ABS")&&r.searchParams.set("abs","1"),t.includes("CBS")&&r.searchParams.set("cbs","1"),t.includes("CCT")&&r.searchParams.set("cct","1"),r.href}getSlotTargetingUrl(t,e){var c;let r=this._getBaseUrl("vlp/pub.json");t.includes("VLP")&&r.searchParams.set("vlp","1"),t.includes("TVP")&&r.searchParams.set("tvp","1");let s=0;for(let g of e){let{id:f,position:h,sizes:A}=(c=g.adUnit)!=null?c:{},R=f+ge(h);r.searchParams.set(`slot-${s++}-${R}`,Sr(A))}return r.href}};a($,"SignalsUrlBuilder"),$=l([p],$);var yt=class{constructor(){d(this,"cache",{})}_fetchFreshSignals(t,e){return T(this,null,function*(){if(!e.some(fr))return{};let r=this.core.get($).getPageTargetingUrl(e,t),s;try{s=yield this.core.get(K).fetchJson(r,{authToken:!0})}catch(c){return{}}return s instanceof Object?s:{}})}fetchSignals(t,e=3){return T(this,null,function*(){let r=this.core.get(E),s=r.getNormalizedPageUrl(),c=r.getStrippedPageUrl();this.cache[c]==null&&(this.cache[c]=this._fetchFreshSignals(s,t));let g=yield this.cache[c];return this.core.get(E).getStrippedPageUrl()!==c&&e>0?this.fetchSignals(t,e-1):g})}};a(yt,"PageSignals"),yt=l([p],yt);i();n();var _t=class{constructor(){d(this,"cache",{});d(this,"pendingSlots",[]);d(this,"pendingBulkRequest",null)}_scheduleBulkRequest(t){return T(this,null,function*(){yield Promise.resolve();let e=this.core.get($).getSlotTargetingUrl(t,this.pendingSlots);this.pendingSlots=[],this.pendingBulkRequest=null;let r;try{r=yield this.core.get(K).fetchJson(e,{authToken:!0})}catch(s){return[]}return r})}_fetchFreshSignals(t,e){return T(this,null,function*(){if(!e.some(gr))return{};let r=this.pendingSlots.push(t)-1;this.pendingBulkRequest==null&&(this.pendingBulkRequest=this._scheduleBulkRequest(e));let c=(yield this.pendingBulkRequest)[r];return c instanceof Object?c:{}})}_getCacheKey(t){var f,h;let{id:e,position:r,sizes:s}=(f=t.adUnit)!=null?f:{},c=e+ge(r),g=(h=s==null?void 0:s.map(A=>{var R;return(R=A.label)!=null?R:`${A.width}x${A.height}`}).sort().join(","))!=null?h:"";return`${c}#${g}`}fetchSignals(t,e){return T(this,null,function*(){let r=this._getCacheKey(t);return this.cache[r]==null&&(this.cache[r]=this._fetchFreshSignals(t,e)),this.cache[r]})}};a(_t,"SlotSignals"),_t=l([p],_t);i();n();var Et=class{constructor(){d(this,"cache")}_fetchFreshSignals(t){return T(this,null,function*(){if(!t.some(pr))return{};let e=this.core.get($).getUserTargetingUrl(t),r;try{r=yield this.core.get(K).fetchJson(e,{authToken:!0})}catch(s){return{}}return r instanceof Object?r:{}})}fetchSignals(t){return T(this,null,function*(){return this.cache==null&&(this.cache=this._fetchFreshSignals(t)),this.cache})}};a(Et,"UserSignals"),Et=l([p],Et);var C=class{constructor(){d(this,"plugins",{getEnabledSignals:()=>[],userTargetingUpdated:t=>[],pageTargetingUpdated:t=>[],slotTargetingUpdated:(t,e)=>[]});d(this,"dataForMigrationTracking",{userTargeting:{},pageTargeting:{},slotTargeting:new Map})}getEnabledSignals(){return this.plugins.getEnabledSignals()}getDataForMigrationTracking(){return this.dataForMigrationTracking}_initialize(){this.getUserTargeting(),this.getPageTargeting()}_onAdRequestQueued(){this.getPageTargeting()}_onSlotDiscovered(t){this.getSlotTargeting(t)}getUserTargeting(){return T(this,null,function*(){let t=this._fetchUserTargeting();return this.core.get(v).delayAdRequests(t),t})}getPageTargeting(){return T(this,null,function*(){let t=this._fetchPageTargeting();return this.core.get(v).delayAdRequests(t),t})}getSlotTargeting(t){return T(this,null,function*(){let e=this._fetchSlotTargeting(t);return this.core.get(v).delayAdRequests(e),e})}_fetchUserTargeting(){return T(this,null,function*(){let t=this.core.get(y),e=yield this.core.get(Et).fetchSignals(this.getEnabledSignals());return t.setUptPageTargeting(e),this.dataForMigrationTracking.userTargeting=e,this.plugins.userTargetingUpdated(e),e})}_fetchPageTargeting(){return T(this,null,function*(){let t=this.core.get(y),e=yield this.core.get(yt).fetchSignals(this.getEnabledSignals());return t.setUptPageTargeting(e),this.dataForMigrationTracking.pageTargeting=e,this.plugins.pageTargetingUpdated(e),e})}_fetchSlotTargeting(t){return T(this,null,function*(){let e=yield this.core.get(_t).fetchSignals(t,this.getEnabledSignals());return t.setUptSlotTargeting(e),this.dataForMigrationTracking.slotTargeting.set(t,e),this.plugins.slotTargetingUpdated(t,e),e})}};a(C,"Signals"),l([b],C.prototype,"_initialize",1),l([S(v,"adRequestQueued")],C.prototype,"_onAdRequestQueued",1),l([S(y,"slotDiscovered")],C.prototype,"_onSlotDiscovered",1),C=l([p],C);i();n();var Y=class{constructor(){d(this,"pq",null)}getPq(){return this.pq==null&&(this.pq=this._initialize()),this.pq}getPts(){return this.getPq().PTS}setApi(t){let e=this.getPq();e!=null&&(e.init=()=>{},e.loadSignals=t.loadSignals,e.loadSignalsForSlots=t.loadSignalsForSlots,e.getTargeting=t.getTargeting)}_pushToDvtagCmd(...t){var e;this.core.dvtag.cmd=(e=this.core.dvtag.cmd)!=null?e:[],this.core.dvtag.cmd.push(...t)}_initialize(){var r,s;this.core.window.PQ=(r=this.core.window.PQ)!=null?r:{};let t=this.core.window.PQ;if(t.loaded)return{cmd:[],PTS:{}};t.loaded=!0,t.PTS=(s=t.PTS)!=null?s:{};let e=t.cmd;return t.cmd={push:c=>this._pushToDvtagCmd(c)},Array.isArray(e)&&this._pushToDvtagCmd(...e),t}};a(Y,"LegacyPq"),Y=l([p],Y);i();n();var Tr=a(o=>{var r,s,c;let t=Rt(),e={id:(s=(r=o.adUnitPath)!=null?r:o.invCode)!=null?s:o.tagId,sizes:qt(hr((c=o.sizes)!=null?c:"all")),position:o.position};return{elementId:t,adUnit:e}},"parseLegacyAdUnit");i();n();var Ar=a((o,t)=>{var s;let e=(s=o.IDS)==null?void 0:s[0];if(e==null)return;let r=parseInt(e);isNaN(r)||(t.IDS=r)},"setUserTargetingOnPts"),Rr=a((o,t)=>{for(let e of Jt)o[e]!=null&&(t[e]=o[e])},"setPageTargetingOnPts"),yr=a((o,t,e)=>{var f,h,A,R,P,U;let{adUnit:r}=o;if((r==null?void 0:r.id)==null)return;let s=r.id,c=Ve((f=r.sizes)!=null?f:[]),g=r.position;for(let w of Zt){let mt=t[w];mt!=null&&((h=e[w])!=null||(e[w]={}),(R=(A=e[w])[s])!=null||(A[s]={}),e[w][s][c]=mt[0],g!=null&&((U=(P=e[w][s])[g])!=null||(P[g]={}),e[w][s][g][c]=mt[0]))}},"setSlotTargetingOnPts");var Co="legacy-api",_r="gpt",rt=class extends D{_initialize(){this.core.get(Y).setApi({loadSignals:this.loadSignals.bind(this),loadSignalsForSlots:this.loadSignalsForSlots.bind(this),getTargeting:this.getTargeting.bind(this)})}_setUserTargetingOnPts(t){let e=this.core.get(Y).getPts();Ar(t,e)}_setPageTargetingOnPts(t){let e=this.core.get(Y).getPts();Rr(t,e)}_setSlotTargetingOnPts(t,e){let r=this.core.get(Y).getPts();yr(t,e,r)}loadSignals(t,e){return T(this,null,function*(){yield this._onDvtagReady("loadSignals",e)})}loadSignalsForSlots(t,e,r){return T(this,null,function*(){let s=this.core.get(C),c=this.core.get(y);for(let f of t){let h=f.getSlotElementId(),A=c.getSlot(_r,h);if(A==null){let R=this.core.get(L).getAdPositionKey(f.getAdUnitPath());A=c.createSlot(_r,0,h,ce(f,R),de(f,P=>this._getPubAdsTargeting(P)))}s.getSlotTargeting(A)}let g=typeof e=="function"?e:r;yield this._onDvtagReady("loadSignalsForSlots",g)})}getTargeting(t,e){return T(this,null,function*(){var g;let r=this.core.get(C),s=this.core.get(y);for(let f of(g=t.adUnits)!=null?g:[]){let{elementId:h,adUnit:A}=Tr(f),R=s.createSlot(Co,0,h,A);r.getSlotTargeting(R)}let c=a(()=>e==null?void 0:e(void 0,this.core.get(Y).getPts()),"callback");yield this._onDvtagReady("getTargeting",c)})}_getPubAdsTargeting(t){var e,r,s;return(s=(r=(e=this.core.window.googletag)==null?void 0:e.pubads)==null?void 0:r.call(e).getTargeting(t))!=null?s:[]}_onDvtagReady(t,e){return T(this,null,function*(){yield new Promise(r=>{this.core.window.dvtag.queueAdRequest({callback:()=>{try{e==null||e()}catch(s){}r()},timestamp:new Date().getTime(),timeout:750,internal:!0})})})}};a(rt,"LegacyLayer"),l([b],rt.prototype,"_initialize",1),l([S(C,"userTargetingUpdated")],rt.prototype,"_setUserTargetingOnPts",1),l([S(C,"pageTargetingUpdated")],rt.prototype,"_setPageTargetingOnPts",1),l([S(C,"slotTargetingUpdated")],rt.prototype,"_setSlotTargetingOnPts",1),rt=l([p],rt);i();n();var Ot=class extends D{_getEnabledSignals(){return"IDS"}};a(Ot,"SignalsIds"),l([S(C,"getEnabledSignals")],Ot.prototype,"_getEnabledSignals",1),Ot=l([p],Ot);i();n();var Ut=class extends D{_getEnabledSignals(){return"BSC"}};a(Ut,"SignalsBsc"),l([S(C,"getEnabledSignals")],Ut.prototype,"_getEnabledSignals",1),Ut=l([p],Ut);i();n();var Dt=class extends D{_getEnabledSignals(){return"VLP"}};a(Dt,"SignalsVlp"),l([S(C,"getEnabledSignals")],Dt.prototype,"_getEnabledSignals",1),Dt=l([p],Dt);i();n();var Nt=class extends D{_getEnabledSignals(){return"ABS"}};a(Nt,"SignalsAbs"),l([S(C,"getEnabledSignals")],Nt.prototype,"_getEnabledSignals",1),Nt=l([p],Nt);i();n();i();n();i();n();var je=class je{set(t,e){t.setVariable(this,e)}get(t){return t.getVariable(this)}getOrDefault(t,e){return t.hasVariable(this)?this.get(t):(this.set(t,e),e)}getOrDefaultFromFunction(t,e){if(t.hasVariable(this))return this.get(t);let r=e();return this.set(t,r),r}delete(t){t.clearVariable(this)}};a(je,"SlotVariable");var F=je;var x=class{constructor(){d(this,"adEmpty",new F);d(this,"adRequestInFlight",new F);d(this,"plugins",{adRequested:t=>[],adRequestedOrInferred:t=>[],adRendered:(t,e)=>[],adRemoved:t=>[]})}setAdRequested(t){this.adRequestInFlight.set(t,!0),this.plugins.adRequested(t),this.plugins.adRequestedOrInferred(t)}setAdRendered(t,e){this.adRequestInFlight.get(t)!==!0&&this.plugins.adRequestedOrInferred(t),this.setAdRemoved(t),this.adEmpty.set(t,!1),this.adRequestInFlight.set(t,!1),this.plugins.adRendered(t,e)}setAdRemoved(t){this.adEmpty.get(t)===!1&&(this.adEmpty.set(t,!0),this.plugins.adRemoved(t))}};a(x,"AdServerHub"),x=l([p],x);i();n();i();n();i();n();var O=class{getWindow(){return this.core.window}getDocument(){return this.getWindow().document}getUserAgent(){var t,e;return(e=(t=this.getWindow().navigator)==null?void 0:t.userAgent)!=null?e:""}getPageUrl(){var t,e;return(e=(t=this.getWindow().location)==null?void 0:t.href)!=null?e:""}getHostname(){return new URL(this.getPageUrl()).hostname}getNavigator(){return this.getWindow().navigator}getPerformance(){var t;return(t=this.getWindow().performance)!=null?t:{}}getPerformanceTimeMs(){var t,e,r;return Math.floor((r=(e=(t=this.getPerformance()).now)==null?void 0:e.call(t))!=null?r:null)}isInQuirksMode(){return this.getDocument().compatMode==="BackCompat"}};a(O,"Environment"),O=l([p],O);i();n();i();n();i();n();i();n();i();n();i();n();var ot=class{getPubAds(){var e,r;let t=this.core.get(O).getWindow();try{return(r=(e=t.googletag)==null?void 0:e.pubads)==null?void 0:r.call(e)}catch(s){return}}onPubAdsReady(t){var s,c,g,f;let e=this.core.get(O).getWindow();e.googletag=(s=e.googletag)!=null?s:{},e.googletag.cmd=(c=e.googletag.cmd)!=null?c:[];let r=this.getPubAds();if(r!=null)t(r);else try{(f=(g=e.googletag.cmd)==null?void 0:g.push)==null||f.call(g,()=>{r=this.getPubAds(),r!=null&&t(r)})}catch(h){}}};a(ot,"GoogletagPubAds"),ot=l([p],ot);var q=class{constructor(){d(this,"gptReference",new F);d(this,"plugins",{slotDiscovered:(t,e)=>[],slotDestroyed:t=>[]})}_scanForSlots(){this.core.get(ot).onPubAdsReady(t=>{t.getSlots().map(e=>this.maybeDiscoverSlot(e,0))})}maybeDiscoverSlot(t,e){let r=this.core.get(y).getSlot("gpt",t.getSlotElementId());return r==null||this.gptReference.get(r)!==t?this._createSlot(t,e):r}_createSlot(t,e){let r=t.getSlotElementId(),s=t.getAdUnitPath(),c=le(s),g=this.core.get(L).getAdPositionKey(c),f=ce(t,g),h=de(t,R=>{var P,U,w;return(w=(U=(P=this.core.window.googletag)==null?void 0:P.pubads)==null?void 0:U.call(P).getTargeting(R))!=null?w:[]});return this.core.get(y).createSlot("gpt",e,r,f,h,R=>this.gptReference.set(R,t))}_onSlotDiscovered(t,e){t.source==="gpt"&&this.plugins.slotDiscovered(t,e)}_onSlotDestroyed(t){t.source==="gpt"&&this.plugins.slotDestroyed(t)}};a(q,"GoogletagSlots"),l([b,S(v,"adRequestQueued")],q.prototype,"_scanForSlots",1),l([S(y,"slotDiscovered")],q.prototype,"_onSlotDiscovered",1),l([S(y,"slotDestroyed")],q.prototype,"_onSlotDestroyed",1),q=l([p],q);var it=class{constructor(){d(this,"plugins",{adRemoved:t=>[]})}_monitorAdRemoval(t){if(t.source!=="gpt")return;let e=this.core.get(O).getDocument().getElementById(t.elementId);if(e==null)return;new MutationObserver(s=>{let c=s.length,g=[...s].reverse(),f=0,h=e.children.length;for(let A of g){if(h===0){this.plugins.adRemoved(t);break}if(f===c-1)break;let R=A.removedNodes.length-A.addedNodes.length;h+=R,f++}}).observe(e,{childList:!0})}_onSlotDestroyed(t){this.plugins.adRemoved(t)}};a(it,"GoogletagAdRemoved"),l([S(q,"slotDiscovered")],it.prototype,"_monitorAdRemoval",1),l([S(q,"slotDestroyed")],it.prototype,"_onSlotDestroyed",1),it=l([p],it);i();n();i();n();var fe=a(o=>{if(typeof o=="string"||Array.isArray(o)&&o.length===2&&o.every(t=>typeof t=="number"))return o},"cleanSizeInput");i();n();var B=a(o=>{if(typeof o=="string")return o;if(typeof o=="number")return`${o}`},"cleanStringInput");var nt=class{constructor(){d(this,"plugins",{adRequested:t=>[],adRendered:(t,e)=>[]})}_initialize(){this.core.get(ot).onPubAdsReady(t=>{t.addEventListener("slotRequested",e=>{let r=this.core.get(q).maybeDiscoverSlot(e.slot,1);this.plugins.adRequested(r)}),t.addEventListener("slotRenderEnded",e=>{let r=this.core.get(q).maybeDiscoverSlot(e.slot,2);if(e.isEmpty){this.plugins.adRendered(r,null);return}let s={advertiserId:B(e.advertiserId),campaignId:B(e.campaignId),creativeId:B(e.creativeId),lineItemId:B(e.lineItemId),renderedSize:fe(e.size)};this.plugins.adRendered(r,s)})})}};a(nt,"GoogletagEvents"),l([b],nt.prototype,"_initialize",1),nt=l([p],nt);var H=class{_onAdRequested(t){this.core.get(x).setAdRequested(t)}_onAdRendered(t,e){this.core.get(x).setAdRendered(t,e)}_onAdRemoved(t){this.core.get(x).setAdRemoved(t)}};a(H,"Googletag"),l([S(nt,"adRequested")],H.prototype,"_onAdRequested",1),l([S(nt,"adRendered")],H.prototype,"_onAdRendered",1),l([S(it,"adRemoved")],H.prototype,"_onAdRemoved",1),H=l([p],H);i();n();i();n();var I=class{constructor(){d(this,"plugins",{log:(...t)=>[],info:(...t)=>[],debug:(...t)=>[],warn:(...t)=>[],error:(...t)=>[]})}log(...t){this.plugins.log(...t)}info(...t){this.plugins.info(...t)}debug(...t){this.plugins.debug(...t)}warn(...t){this.plugins.warn(...t)}error(...t){this.plugins.error(...t)}};a(I,"Logging"),I=l([p],I);i();n();var Er={GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"off",MEASUREMENT_INJECTION_TIMING:"onAdRendered (deprecated)",MEASUREMENT_INJECTION_STRATEGY:"preferPiggyback (deprecated)",F9_AD_LOCATORS_SEPARATE_TASKS:"on (deprecated)",AD_CONTAINER_LOCATION_STRATEGY:"preferGptIframeBody (deprecated)",FALCON_TEST:"off",FALCON_TEST_SCRIPT_FLAVOR:"cdn"},he={variations:[{weight:99,featureFlags:{GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"off",FALCON_TEST:"on",FALCON_TEST_SCRIPT_FLAVOR:"cdn"}},{weight:1,featureFlags:{GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"off",FALCON_TEST:"on",FALCON_TEST_SCRIPT_FLAVOR:"falcon"}}],avoidPiggybackInjection:!1};var j=class{constructor(){d(this,"config");d(this,"plugins",{provideConfig:(t,e)=>[]})}_getConfiguration(){if(this.config!=null)return this.config;let{ctx:t,cmp:e}=this.core.get(E).getTagInfo(),r=this.plugins.provideConfig(t,e);if(r.length>1)throw new Error("Not allowed to use more than one config module in the build");if(r.length===1){let s=r[0],{variations:c}=s,g=er(s,["variations"]),f=c==null;f&&this.core.get(I).warn("Publisher-specific config has no variations, using variation from default config"),this.config=gt(_(_({},he),g),{variations:f?he.variations:c})}else this.core.get(I).warn("No publisher-specific config included in build, using default config"),this.config=he;return this.core.get(I).info("Configuration",this.config),this.config}getVariations(){return this._getConfiguration().variations}getAdFormats(){var t;return(t=this._getConfiguration().adFormats)!=null?t:[]}shouldAvoidPiggybackInjection(){return this._getConfiguration().avoidPiggybackInjection===!0}};a(j,"ConfigModule"),j=l([p],j);i();n();i();n();var br=["GPT_MEASUREMENT","CREATIVE_WRAPPER","MEASUREMENT_INJECTION_TIMING","MEASUREMENT_INJECTION_STRATEGY","F9_AD_LOCATORS_SEPARATE_TASKS","AD_CONTAINER_LOCATION_STRATEGY","FALCON_TEST","FALCON_TEST_SCRIPT_FLAVOR"],vr={GPT_MEASUREMENT:["off","on"],CREATIVE_WRAPPER:["off","on"],MEASUREMENT_INJECTION_TIMING:["onAdRendered (deprecated)","onAdLoaded (deprecated)"],MEASUREMENT_INJECTION_STRATEGY:["rootPage (deprecated)","preferPiggyback (deprecated)"],F9_AD_LOCATORS_SEPARATE_TASKS:["off (deprecated)","on (deprecated)"],AD_CONTAINER_LOCATION_STRATEGY:["preferGptIframe (deprecated)","preferGptDiv (deprecated)","preferGptIframeBody (deprecated)","preferCwSpan (deprecated)"],FALCON_TEST:["off","on"],FALCON_TEST_SCRIPT_FLAVOR:["cdn","falcon"]};i();n();i();n();var Io=a(o=>Math.random()*o,"scaledRandom"),Cr=a(o=>{var f;let t=o.map(h=>h.item),e=o.map(h=>h.weight),r=e.reduce((h,A)=>{var U;let R=(U=h[h.length-1])!=null?U:0,P=A+R;return[...h,P]},[]),s=r[r.length-1],c=Io(s),g=(f=r.map((h,A)=>({cumWeight:h,index:A})).find(({cumWeight:h})=>c<h))==null?void 0:f.index;return g!=null?{selectedItem:t[g],weight:e[g],weightsSum:s}:null},"weightedRandom");var Z=class{constructor(){d(this,"variationSelection");d(this,"plugins",{variationSelected:t=>[]})}_initialize(){this._selectVariationOnce()}_selectVariationOnce(){if(this.variationSelection!=null)return this.variationSelection;let t=this.core.get(j).getVariations(),e=Cr(t.map(r=>({item:r,weight:r.weight})));if(e!=null){let{selectedItem:r,weight:s,weightsSum:c}=e;this.variationSelection={featureFlags:Object.assign({},Er,r.featureFlags),fraction:{numerator:s,denominator:c}}}else throw new Error("No variation selected");return this.core.get(I).info("Selected variation",this.variationSelection),this.plugins.variationSelected(this.variationSelection),this.variationSelection}getFeatureFlags(){return this._selectVariationOnce().featureFlags}getVariationFraction(){return this._selectVariationOnce().fraction}};a(Z,"VariationsModule"),l([b],Z.prototype,"_initialize",1),Z=l([p],Z);var M=class{_getVariationFlags(){return this.core.get(Z).getFeatureFlags()}get(t){return this._getVariationFlags()[t]}encodeAsHexString(t){return br.reduce((e,r)=>{let s=t[r];return vr[r].indexOf(s).toString(16)+e},"")}};a(M,"FeatureFlags"),M=l([p],M);i();n();i();n();var N=class{constructor(){d(this,"global",{});d(this,"local",new F)}getGlobalParams(){return this.global}getSlotParams(t){return this.local.getOrDefault(t,{})}};a(N,"MeasurementUrlParams"),N=l([p],N);i();n();var pt=class{_trackBuildData(){let t=this.core.get(N).getGlobalParams();t.dvp_uptbts=this.core.get(Q).getBuildTimestamp(),t.dvp_uptbcid=this.core.get(Q).getShortCommitId()}};a(pt,"BuildTracking"),l([b],pt.prototype,"_trackBuildData",1),pt=l([p],pt);i();n();i();n();i();n();var Ir=a(o=>{let t={};for(let e in o)if(Object.prototype.hasOwnProperty.call(o,e)){let r=o[e];t[e]=r==null?[]:[o[e]]}return t},"objectValuesAsArray");var Se=a((o,t)=>{let e=Ir(t);o.setUptSlotTargeting(e)},"pushToWrapper");i();n();var Te="dv__";i();n();var st=class{constructor(){d(this,"deduplicationSet",new F);d(this,"deduplicationReliable",new F)}setDeduplicationTargeting(t){this.core.get(I).info(`Scheduling targeting for ${t.elementId}`);let e=this.core.get(M).get("CREATIVE_WRAPPER")==="on";this._setTargeting(t,e?1:0),this.deduplicationSet.set(t,!0)}_onAdRequested(t){this.deduplicationReliable.set(t,this.deduplicationSet.get(t)===!0)}_setTargeting(t,e){let r={dv_upt_cwm:e.toString()};this.core.get(I).info(`Setting slot targeting for ${t.elementId}`,r),Se(t,r)}isDeduplicationReliable(t){return this.deduplicationReliable.get(t)===!0}};a(st,"DuplicateMeasurement"),l([S(x,"adRequested")],st.prototype,"_onAdRequested",1),st=l([p],st);i();n();i();n();var Ae=a((o,t)=>Object.entries(t).reduce((r,[s,c])=>(r[`${o}${s}`]=c,r),{}),"prefixKeys");var z=class{constructor(){d(this,"impressionCount",new F);d(this,"topologies",new F)}_onNewSlotDetected(t){this._setupTargetingForNextAdLoad(t)}_adRenderedForSlot(t,e){e!=null&&(this._incrementSlotImpressionCount(t),this._setSlotParams(t),this._setupTargetingForNextAdLoad(t))}_setSlotParams(t){let e=this.core.get(N).getSlotParams(t),r=this.topologies.get(t);r!=null&&(e.dvp_uptpid=r.pageVisitId,e.dvp_uptsid=r.slotId,e.dvp_uptsacnt=r.slotAdCount)}_setupTargetingForNextAdLoad(t){let r={pageVisitId:this.core.get(E).getVisitUuid(),slotId:t.uuid,slotAdCount:`${this.getSlotImpressionCount(t)+1}`};this.topologies.set(t,r),Se(t,Ae(Te,{dvp_uptpid:r.pageVisitId,dvp_uptsid:r.slotId,dvp_uptsacnt:r.slotAdCount}))}getSlotImpressionCount(t){return this.impressionCount.getOrDefault(t,0)}_incrementSlotImpressionCount(t){this.impressionCount.set(t,this.getSlotImpressionCount(t)+1)}};a(z,"ImpressionTopology"),l([S(y,"slotDiscovered")],z.prototype,"_onNewSlotDetected",1),l([S(x,"adRendered")],z.prototype,"_adRenderedForSlot",1),z=l([p],z);i();n();i();n();var Re=a((o,t=!0)=>{let e=document.createElement("script");return e.setAttribute("src",o),t&&e.setAttribute("async",""),e},"createScriptElement");var Vt=a((o,t)=>{o.appendChild(t)},"addElement"),Pr=a(o=>o==null?void 0:o.remove(),"removeElement");var re=a((o,t,e)=>{e!=null&&o.setAttribute(t,e)},"setAttributeIfDefined");i();n();var xr=a((o={})=>{let t=document.createElement("iframe");if(t.style.display="none",re(t,"name",o.name),re(t,"src",o.src),re(t,"id",o.id),re(t,"class",o.elementClass),o.data!=null&&Object.assign(t.dataset,o.data),o.sandbox!=null&&o.sandbox!==!1){let e=o.sandbox===!0?"":o.sandbox;t.setAttribute("sandbox",e)}return t},"createIframe"),Po=a(o=>new Promise((e,r)=>{let s=jt(o);s!=null&&s.readyState==="complete"&&e(),o.addEventListener("load",()=>{e()}),o.addEventListener("error",()=>{r(new Error("Failed to load iframe"))})}),"waitForIframeReady"),wr=a((o,t)=>T(void 0,null,function*(){yield Po(o);let e=jt(o);if(e==null)throw new Error("Failed to set content to iframe");Vt(e.body,t)}),"setIframeContent"),jt=a(o=>{try{return o&&(o.contentDocument||o.contentWindow&&o.contentWindow.document||frames&&frames[o.name]&&frames[o.name].document)}catch(t){return null}},"getIframeDocument"),Fr=a(o=>{var t,e;return(e=(t=jt(o))==null?void 0:t.body)!=null?e:null},"getIframeDocumentBody"),Gt=a((o,t)=>{try{if(jt(o)===null)return!0;if(o.src===""||o.src==="about:blank")return!1;let e=new URL(o.src),r=new URL(t.location.href);return e.origin!==r.origin}catch(e){return!0}},"isCrossOriginIframe");i();n();var Or="gptm";i();n();i();n();var ye=a(o=>Object.entries(o).map(([t,e])=>`${t}=${e!=null?e:""}`).join("&"),"getAsQueryString");i();n();var Wt=a(o=>{if(o!=null)return Array.isArray(o)?`${o[0]}x${o[1]}`:o},"parseCreativeSize");i();n();i();n();i();n();i();n();i();n();var Ur=a((o,t)=>o.filter(e=>e.detect(t)),"detectAdFormats"),Dr=a(o=>o.map(t=>t.id).reduce((t,e)=>t|e,0),"encodeAdFormats");var Nr=a((o,t)=>{let e=null,r=[],s=0;t!=null&&(r=Ur(o,t),r.length===1&&(e=r[0].target(t))),e==null&&(t==null&&(s|=1),r.length>1&&(s|=2),r.length===1&&(s|=4));let c={detectedAdFormats:r};return s>0&&(c.adTargetingErrorCode=s),{adTarget:e,diagnostics:c}},"getAdFormatsTargeting"),Mr=a(({detectedAdFormats:o,adTargetingErrorCode:t})=>{let e={};return o.length>0&&(e.dvp_pubdaf=Dr(o)),t!=null&&(e.dvp_pubate=t),e},"getAdFormatsTargetingDiagnosticsTracking");i();n();var kr=a((o,t,e="")=>{if(o.length<=t)return o;let r=t-e.length;return r<0?e:o.slice(0,r)+e},"truncate");i();n();var xo="104",bt=class{getAdServerTracking(t){let e={adsrv:xo},{network:r}=t.adUnit;if(r==null)return e;let s=this.core.get(L).getAdServerId(r);return s==null?e:gt(_({},e),{dvp_gptmasid:s})}};a(bt,"AdServerTracking"),bt=l([p],bt);i();n();i();n();var vt=class{resolve(t,e){let r={};return Object.entries(t).forEach(([s,c])=>{let g=e.getAdServerTargeting(c.key);r[s]=g.join(",")}),r}};a(vt,"TargetingCustomTracking"),vt=l([p],vt);var Ct=class{trackCustomMetadata(t){let{network:e}=t.adUnit;if(e==null)return{};let r=this.core.get(L).getAdServerCustomTracking(e);return this.core.get(vt).resolve(r,t)}};a(Ct,"CustomMetadataTracking"),Ct=l([p],Ct);i();n();var Lr=a(o=>({dvp_gptmcw:o?1:o==null?-1:0}),"getCwTracking");i();n();var qr=["hb_pb","hb_adid","hb_bidder","hb_size","hb_format","hb_deal","hb_uuid","hb_cache_id","hb_cache_host","hb_cache_path","hb_source","hb_adomain","hb_env"],wo=a(o=>Object.values(o).reduce((t,e)=>t+e.length,0)>0,"hasAtLeastOnePrebidTargetingConfigured"),Vr=a(o=>{let t={};for(let e of qr)t[e]=o.getAdServerTargeting(e);return wo(t)?{dvp_gptmhb:qr.map(e=>t[e].map(r=>encodeURIComponent(r)).join(",")).join(";")}:{}},"getPrebidTracking");i();n();i();n();var jr=a((o,t)=>{let{element:e,parentIframe:r}=t;return e==null?0:r!=null?4:e instanceof HTMLIFrameElement?Gt(e,o)?2:1:0},"getLocatedElementType");i();n();var Gr=a((o,t,e)=>({splc:o.adUnit.id,unit:Wt(t.renderedSize),spos:o.adUnit.position,dvp_qtpid:e,dvp_qtsid:o.uuid}),"getQtTracking");i();n();i();n();var Wr=a(()=>({dvp_pubaft:1,ee_dp_pubaft:1}),"getFalconTestTracking");i();n();i();n();i();n();var Qr=a(o=>{if(o==null)return null;let t=o.querySelectorAll("span[id][data-dv-view]");return t.length!==1?null:t[0]},"lookupCwSpan");i();n();var Fo="google_ads_iframe_",oe=a(o=>{if(o==null)return null;let t=o.querySelectorAll(`iframe[id^="${Fo}"]`);return t.length===1?t[0]:null},"lookupGptIframe");var Br=a((o,t)=>{let e=o.document.getElementById(t);if(e==null)return{canDetect:!1,isPresent:!1};let r=Oo(e,o);if(!r)return{canDetect:r,isPresent:!1};let s=oe(e);return{canDetect:r,isPresent:Uo(s)}},"detectGptCreativeWrapper"),Oo=a((o,t)=>{let e=oe(o);return!(e==null||Gt(e,t))},"canDetectCreativeWrapper"),Uo=a(o=>{if(o===null)return!1;let t=Fr(o);return Qr(t)!==null},"isCreativeWrapperPresentInIframe");var Hr=a((o,t)=>o.source==="gpt"?Br(t,o.elementId):{canDetect:!1,isPresent:!1},"isCreativeWrapperPresent");var Ge=class Ge{constructor(){d(this,"MEASUREMENT_SCRIPT_BASE_URL","https://cdn.doubleverify.com/dvtp_src.js");d(this,"FALCON_MEASUREMENT_SCRIPT_BASE_URL","https://cdn.dv.tech/dvbm.js")}_truncateElementId(t){return kr(t,30,"~")}_isCreativeWrapperPresent(t){let e=this.core.get(O).getWindow(),r=Hr(t,e);return r.canDetect?r.isPresent:null}_getAdditionalTrackingParams({slot:t,adContainer:e,creative:r,falconTestEnabled:s,adFormatsTargetingDiagnostics:c}){let g=Gr(t,r,this.core.get(E).getVisitUuid()),f=_(_({},this.core.get(bt).getAdServerTracking(t)),this.core.get(Ct).trackCustomMetadata(t)),h=c!=null?Mr(c):{},A=_(_(_(_({dvp_uptseid:this._truncateElementId(t.elementId),dvp_gptmle:jr(this.core.window,e)},Vr(t)),Lr(this._isCreativeWrapperPresent(t))),s?Wr():{}),h),R=this.core.get(N).getGlobalParams(),P=this.core.get(N).getSlotParams(t);return _(_(_(_(_({},g),f),A),R),P)}};a(Ge,"MeasurementScriptTag");var Qt=Ge;var It=class extends Qt{generateMeasurementScriptElement(t,e,r,s){if(e.element==null)throw new Error(`Cannot get the element of slot ${t.elementId}`);this.core.get(I).debug(`Generating measurement script element for ${t.elementId}`);let c=this._generateMeasurementByRefScriptURL(t,e,r,s),g=Re(c);return g.dvAdElement=e.element,g}_generateMeasurementByRefScriptURL(t,e,r,s){var w;let c=this.core.get(M).get("FALCON_TEST")==="on",g=c&&this.core.get(M).get("FALCON_TEST_SCRIPT_FLAVOR")==="falcon",f=(w=t.adUnit)!=null?w:{},h={t2te:0,seltag:"1",cmp:s.cmp,ctx:s.ctx,alm:"manual",sadv:r.advertiserId,ord:r.campaignId,litm:r.lineItemId,scrt:r.creativeId,splc:f.id,unit:Wt(r.renderedSize)};this.core.get(j).shouldAvoidPiggybackInjection()&&(h.dich=1);let A=g?{blk:0}:{},R=this._getAdditionalTrackingParams({slot:t,adContainer:e,creative:r,falconTestEnabled:c,adFormatsTargetingDiagnostics:null}),P=ye(_(_(_({},h),A),R));return`${g?this.FALCON_MEASUREMENT_SCRIPT_BASE_URL:this.MEASUREMENT_SCRIPT_BASE_URL}#${P}`}};a(It,"MeasurementScriptByRefTag"),It=l([p],It);i();n();i();n();i();n();i();n();var Kr=a((o,t)=>{var f;let e=o.document.getElementById(t);if(e==null)return{element:null};let r=oe(e);if(r==null)return{element:e};if(Gt(r,o))return{element:r};let c=jt(r),g=(f=c==null?void 0:c.body)!=null?f:null;return g==null?{element:r}:{element:g,parentIframe:r}},"getGptAdContainer");var X=class{constructor(){d(this,"locatedAdContainer",new F)}getAdContainer(t){return this.locatedAdContainer.getOrDefaultFromFunction(t,()=>this._locateAdContainer(t))}_locateAdContainer(t){return t.source==="gpt"?Kr(this.core.get(O).getWindow(),t.elementId):{element:this.core.window.document.getElementById(t.elementId)}}_forgetLocatedAdContainer(t){this.locatedAdContainer.delete(t)}};a(X,"AdLocator"),l([S(x,"adRemoved")],X.prototype,"_forgetLocatedAdContainer",1),X=l([p],X);i();n();i();n();var Do="data-dv-gptm-ad-container",No="dv-gptm-",We=a(o=>({attributeName:Do,attributeValue:No+o.elementId}),"getAdContainerMarker"),$r=a((o,t)=>{var s;let{attributeName:e,attributeValue:r}=We(o);(s=t.element)==null||s.setAttribute(e,r)},"markAdContainer");var at=class extends Qt{generateMeasurementScriptElement(t,e,r,s,c){var f;((f=e.element)==null?void 0:f.id)===""&&$r(t,e);let g=this._generateMeasurementByBTREGScriptURL(t,e,r,s,c);return Re(g)}_generateMeasurementByBTREGScriptURL(t,e,r,s,{adTarget:c,diagnostics:g}){var Mt;let f=this.core.get(M).get("FALCON_TEST")==="on",h=f&&this.core.get(M).get("FALCON_TEST_SCRIPT_FLAVOR")==="falcon",A=(Mt=t.adUnit)!=null?Mt:{},R=_({t2te:0,seltag:"1",cmp:s.cmp,ctx:s.ctx,sadv:r.advertiserId,ord:r.campaignId,litm:r.lineItemId,scrt:r.creativeId,splc:A.id,unit:Wt(r.renderedSize)},c),P=h?{blk:0}:{},U=this._getAdditionalTrackingParams({slot:t,adContainer:e,creative:r,falconTestEnabled:f,adFormatsTargetingDiagnostics:g}),w=ye(_(_(_({},R),P),U));return`${h?this.FALCON_MEASUREMENT_SCRIPT_BASE_URL:this.MEASUREMENT_SCRIPT_BASE_URL}#${w}`}};a(at,"MeasurementScriptBtregTag"),at=l([p],at);var Qe=class Qe{constructor(){d(this,"injectionStrategyName");d(this,"injectionType")}_logError(t){return this.core.get(I).error(t),new Error(t)}addMeasurement(t,e){return T(this,null,function*(){if(this.canUseStrategy(t))return this._addMeasurement(t,e);throw this._logError(`Slot ${t.elementId} can't be measured using ${this.injectionStrategyName}`)})}_addMeasurement(t,e){return T(this,null,function*(){try{this._trackStrategy(t);let r=this.core.get(j).getAdFormats(),s=this._createMeasurementScriptTag(t,e,r),c=new Promise((g,f)=>{s.addEventListener("load",()=>{this.core.get(I).info(`Start measuring slot ${t.elementId} using ${this.injectionStrategyName}`),g()}),s.addEventListener("error",()=>f(this._logError(`Error adding measurement script tag to slot ${t.elementId} using ${this.injectionStrategyName}`)))});return yield this.inject(s,t),c}catch(r){throw this._logError(`Error adding measurement to slot ${t.elementId} using ${this.injectionStrategyName}`)}})}removeMeasurementIfExists(t){this.core.get(I).info(`Stop measuring slot ${t.elementId} using ${this.injectionStrategyName}`)}canUseStrategy(t){return!0}_trackStrategy(t){let e=this.core.get(N).getSlotParams(t);e.dvp_gptmit=this.injectionType}_detectAdFormat(t,e){let r=t.parentIframe==null?t.element:t.parentIframe.contentDocument;return Nr(e,r)}_createMeasurementScriptTag(t,e,r){var f;let s=this.core.get(E).getTagInfo(),c=this.core.get(X).getAdContainer(t),g=this._detectAdFormat(c,r);return this.core.get(I).debug("Ad format detection",g),((f=g.diagnostics)==null?void 0:f.adTargetingErrorCode)!=null&&this.core.get(I).error("Ad format detection error",g.diagnostics),g.adTarget!=null?this.core.get(at).generateMeasurementScriptElement(t,c,e,s,g):this.createScriptElementUsingStrategy(t,e,c,s,g)}inject(t,e){return T(this,null,function*(){throw new Error("Abstract method")})}createScriptElementUsingStrategy(t,e,r,s,c){throw new Error("Abstract method")}};a(Qe,"MeasurementInjectionBase");var Bt=Qe;var ht=class extends Bt{constructor(){super(...arguments);d(this,"injectionType",0);d(this,"injectionStrategyName","iframe wrapper");d(this,"iframeElements",new F)}addMeasurement(e,r){return super.addMeasurement(e,r)}createScriptElementUsingStrategy(e,r,s,c){let g=s.parentIframe?{element:s.parentIframe}:s;return this.core.get(It).generateMeasurementScriptElement(e,g,r,c)}inject(e,r){return T(this,null,function*(){this.core.get(I).debug(`Create measurement iframe wrapper for slot ${r.elementId}`);let s=xr({id:`${Or}-${r.elementId}`,data:{slotId:r.uuid,slotAdCount:this.core.get(z).getSlotImpressionCount(r)}}),c=this.core.get(O).getDocument();return Vt(c.body,s),this.iframeElements.set(r,s),wr(s,e)})}removeMeasurementIfExists(e){let r=this.iframeElements.get(e);r!==void 0&&(super.removeMeasurementIfExists(e),Pr(r),this.iframeElements.delete(e))}};a(ht,"IFrameWrappedMeasurement"),ht=l([p],ht);i();n();i();n();i();n();var ie=a(o=>o,"castAsStrictString");i();n();var Yr=a(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"escapeRegExp");var ko=["embed","object","link","img","span","iframe","div","canvas","svg"],Be=a(o=>{let t=Yr(o);return ie(`^${t}$`)},"formatForBtreg"),zr=a((o,t)=>{if(t.element==null)return{btreg:Be(o.elementId)};let e=ie(t.element.id),r=We(o),s;e===""?s={btreg:Be(r.attributeValue),btattb:ie(r.attributeName)}:s={btreg:Be(e)};let c=t.element.tagName.toLowerCase();return ko.includes(c)||(s.bttag=ie(c)),s},"getBtParams");var St=class extends Bt{constructor(){super(...arguments);d(this,"injectionStrategyName","piggyback");d(this,"injectionType",1)}addMeasurement(e,r){return super.addMeasurement(e,r)}createScriptElementUsingStrategy(e,r,s,c,g){let f=zr(e,s);return this.core.get(at).generateMeasurementScriptElement(e,s,r,c,{adTarget:f,diagnostics:g.diagnostics})}canUseStrategy(e){let{element:r,parentIframe:s}=this.core.get(X).getAdContainer(e);return r!=null&&s!=null}inject(e,r){return T(this,null,function*(){let{element:s,parentIframe:c}=this.core.get(X).getAdContainer(r);if(s==null)throw new Error(`Cannot get the element of slot ${r.elementId}`);if(c==null)throw new Error(`Cannot get the body of the iframe of slot ${r.elementId}`);return Vt(s,e),Promise.resolve()})}removeMeasurementIfExists(e){return super.removeMeasurementIfExists(e)}};a(St,"PiggybackMeasurement"),St=l([p],St);i();n();i();n();var Tt=class{_trackSelectedVariation(t){let{fraction:e,featureFlags:r}=t,s=this.core.get(M).encodeAsHexString(r),c=`${e.numerator}/${e.denominator}`;this._trackSelectedVariationOnGPTMeasurement(s,c),this._trackSelectedVariationOnCreativeWrapperMeasurement(s,c)}_trackSelectedVariationOnGPTMeasurement(t,e){let r=this.core.get(N).getGlobalParams();r.dvp_gptmvr=t,r.dvp_gptmvrfr=e}_trackSelectedVariationOnCreativeWrapperMeasurement(t,e){this.core.get(y).addUptPageTargeting(Ae(Te,{dvp_gptmvr:[t],dvp_gptmvrfr:[e]}))}};a(Tt,"VariationTracking"),l([S(Z,"variationSelected")],Tt.prototype,"_trackSelectedVariation",1),Tt=l([p],Tt);var lt=class extends D{_trackActivationPath(){let t=this.core.get(N).getGlobalParams();t.dvp_pubaap=2}_isEligibleForMeasurement(t){return this.core.get(M).get("GPT_MEASUREMENT")!=="off"&&(t.source==="custom"||this.core.get(L).isAdServerConfigured(t.adUnit.network))}_isReadyForMeasurement(t){return this._isEligibleForMeasurement(t)&&(t.source==="custom"||this.core.get(st).isDeduplicationReliable(t))}_maybeDisableCreativeWrapper(t){this._isEligibleForMeasurement(t)&&this.core.get(st).setDeduplicationTargeting(t)}_maybeAddMeasurementOnSlot(t,e){return T(this,null,function*(){if(e==null)return;if(!this._isReadyForMeasurement(t)){this.core.get(I).debug(`Slot ${t.elementId} is not eligible for measurement`);return}let r=!1;this.core.get(j).shouldAvoidPiggybackInjection()||(r=yield this._tryInjectionStrategy(this.core.get(St),t,e)),r||(r=yield this._tryInjectionStrategy(this.core.get(ht),t,e))})}_tryInjectionStrategy(t,e,r){return T(this,null,function*(){try{return yield t.addMeasurement(e,r),!0}catch(s){return!1}})}_maybeRemoveMeasurementOnSlot(t){this.core.get(St).removeMeasurementIfExists(t),this.core.get(ht).removeMeasurementIfExists(t)}};a(lt,"GptMeasurement"),l([b],lt.prototype,"_trackActivationPath",1),l([S(y,"slotDiscovered")],lt.prototype,"_maybeDisableCreativeWrapper",1),l([S(x,"adRendered")],lt.prototype,"_maybeAddMeasurementOnSlot",1),l([S(x,"adRemoved")],lt.prototype,"_maybeRemoveMeasurementOnSlot",1),lt=l([p,V(H),V(pt),V(z),V(Tt)],lt);i();n();i();n();var He="qt_loaded",_e="pts_pid",Xr="pts_sid";i();n();var Ke=a(o=>[...new Set(o.filter(mr).map(t=>t.toLowerCase()))],"getGreenlightSignal");var ct=class extends D{_autoInsertPageId(t){this.core.get(y).setUptPageTargeting({[_e]:[t.uuid]})}_autoInsertSlotId(t){t.setUptSlotTargeting({[Xr]:[t.uuid]})}_autoInsertGlobalTargeting(t){this.core.get(y).addUptPageTargeting({[He]:Ke(Object.keys(t))})}_autoInsertSlotTargeting(t,e){t.addUptSlotTargeting({[He]:Ke(Object.keys(e))})}};a(ct,"SignalsAutoInsertion"),l([S(E,"newVisit")],ct.prototype,"_autoInsertPageId",1),l([S(y,"slotDiscovered")],ct.prototype,"_autoInsertSlotId",1),l([S(C,"userTargetingUpdated"),S(C,"pageTargetingUpdated")],ct.prototype,"_autoInsertGlobalTargeting",1),l([S(C,"slotTargetingUpdated")],ct.prototype,"_autoInsertSlotTargeting",1),ct=l([p,V(H)],ct);i();n();i();n();i();n();var Lo="https://vtrk.doubleverify.com",Jr="dvtag",qo=1,Vo=1,G=class{constructor(){d(this,"sharedDataPoints")}_onAdRequestCompleted(t){if(t.index!==0)return;let{timeoutValue:e,onDvtagReadyCalled:r,callbackCalled:s}=t,c=s!=null?s-r:e;this.fireEvent("ad-request",{cd111:t.status,cm106:t.index,cm107:c,cd112:t.internal?"legacy":"modern"},{sampleInterval:Vo})}_handleError(t){this.fireEvent("log",{cd111:"error",cd112:t.message,cd113:t.trace.join("=>")},{sampleInterval:qo})}_getSharedDataPoints(){if(this.sharedDataPoints==null){let t=this.core.get(E),e=this.core.get(Q),r=this.core.get(O),{ctx:s,cmp:c,legacy:g}=t.getTagInfo(),f=r.getHostname(),h=t.getVisitUuid(),A=e.getShortCommitId();this.sharedDataPoints={cd102:A,cd103:"",cd107:h,cd109:g?"legacy":"modern",cd108:"",cd105:s,cd106:c,cd104:f}}return this.sharedDataPoints}fireEvent(t,e,{sampleInterval:r=1,trackerUuid:s=Rt(),spoofWrapperId:c=!1}={}){if(Math.random()>=1/r)return;e=gt(_(_({},e),this._getSharedDataPoints()),{cd101:t,cm101:r});let g=gt(_({ec:Jr,ea:e.cd101,ctx:c?Jr:e.cd105,cmp:e.cd106},e),{cid:s,t:"event",v:1,z:s,cd160:s}),f=new URL(Lo);for(let[h,A]of Object.entries(g))A!=null&&f.searchParams.set(h,`${A}`);this._sendBeacon(f.href)}_sendBeacon(t){try{typeof(navigator==null?void 0:navigator.sendBeacon)=="function"?navigator.sendBeacon(t):new Image().src=t}catch(e){}}};a(G,"Events"),l([S(v,"adRequestCompleted")],G.prototype,"_onAdRequestCompleted",1),l([or],G.prototype,"_handleError",1),G=l([p],G);i();n();var ro=go(to());i();n();var $e=class $e{constructor(t){d(this,"arr");d(this,"start");d(this,"size");this.arr=new Array(t),this.start=0,this.size=0}push(t){this.size===this.arr.length?this.start=this.nthIndex(1):this.size+=1,this.arr[this.nthIndex(this.size-1)]=t}nthIndex(t){return(this.start+t)%this.arr.length}last(){return this.size===0?null:this.arr[this.nthIndex(this.size-1)]}findNewest(t){for(let e=this.size-1;e>=0;e--){let r=this.arr[this.nthIndex(e)];if(t(r))return r}return null}};a($e,"RingBuffer");var Ee=$e;var eo=10,Go=100,Wo=3e3,Qo=2e3,tt=class{constructor(){d(this,"measurements",new Ee(20));d(this,"lastNavigationTime");d(this,"viewportWidths",new Set);d(this,"documentHeights",new Set)}_initialize(){return T(this,null,function*(){let{document:t}=this.core.window;t.readyState==="loading"&&(yield new Promise(e=>t.addEventListener("DOMContentLoaded",()=>e(void 0)))),t.addEventListener("scroll",(0,ro.default)(()=>{this._updateScrollMetrics()},200)),this._updateScrollMetrics()})}_getScrollData(){let t=this.core.get(O).isInQuirksMode(),{scrollHeight:e,clientHeight:r,clientWidth:s}=this.core.window.document[t?"body":"documentElement"];return{scrollY:Math.floor(this.core.window.scrollY),viewportHeight:r,viewportWidth:s,documentHeight:e}}_getScrollPercentage({scrollY:t,documentHeight:e,viewportHeight:r}){return e===r?0:t/(e-r)}_updateScrollMetrics(t=!1){var h;let e=this._getScrollData(),r=this.lastNavigationTime!=null&&Date.now()-this.lastNavigationTime<Wo;this.viewportWidths.size<eo&&this.viewportWidths.add(e.viewportWidth),this.documentHeights.size<eo&&this.documentHeights.add(e.documentHeight);let{deepestScrollData:s,deepestScrollWithResetData:c,maxScrollData:g,hasScrolledToTop:f}=(h=this.measurements.last())!=null?h:{};f=!t&&f===!0||e.scrollY<e.viewportHeight,(g==null||r||e.scrollY>=g.scrollY)&&(g=e),(s==null||r||this._getScrollPercentage(e)>=this._getScrollPercentage(s))&&(s=e),(c==null||r||this._getScrollPercentage(e)>=this._getScrollPercentage(c)||e.documentHeight-c.documentHeight>Go)&&(c=e),this.measurements.push({time:Date.now(),hasScrolledToTop:f,maxScrollData:g,deepestScrollData:s,deepestScrollWithResetData:c})}getScrollMeasurements(t){var r;let e;return t==null?e=this.measurements.last():e=(r=this.measurements.findNewest(s=>s.time<Date.now()-t))!=null?r:this.measurements.last(),e==null?null:gt(_({},e),{viewportWidths:this.viewportWidths,documentHeights:this.documentHeights})}reset(){this.lastNavigationTime=Date.now(),this._updateScrollMetrics(!0),setTimeout(()=>this._updateScrollMetrics(),Qo)}};a(tt,"ScrollMetrics"),l([b],tt.prototype,"_initialize",1),tt=l([p],tt);i();n();i();n();var oo=a((o,{deepestScrollData:t,deepestScrollWithResetData:e,maxScrollData:r,viewportWidths:s,documentHeights:c},{inFocusMs:g,visibleMs:f,visibleAndInFocusMs:h},A,R)=>{var U;let P=(U=performance==null?void 0:performance.now)==null?void 0:U.call(performance);return{cd110:o.visit.normalizedUrl,cd111:[...s].join(","),cd112:[...c].join(","),cd113:o.visit.uuid,cm106:g,cm107:f,cm108:A,cm109:R,cm110:o.visitIndex,cm111:o.infiniteScrollDetected?1:0,cm116:P!=null?P/1e3:void 0,cm117:h,cm118:o.visitStart/1e3,cm119:Date.now()/1e3,cm120:o.trackerCount,cm121:t.scrollY,cm122:t.viewportHeight,cm123:t.viewportWidth,cm124:t.documentHeight,cm125:e.scrollY,cm126:e.viewportHeight,cm127:e.viewportWidth,cm128:e.documentHeight,cm129:r.scrollY,cm130:r.viewportHeight,cm131:r.viewportWidth,cm132:r.documentHeight}},"createPlemTracker");i();n();i();n();var Ye=class Ye{constructor(){d(this,"runningSince",null);d(this,"totalTimeMs",0)}getTimestamp(){return Date.now()}getCurrentRunningTime(){return this.runningSince!=null?this.getTimestamp()-this.runningSince:0}start(){this.runningSince=this.getTimestamp()}stop(){this.totalTimeMs+=this.getCurrentRunningTime(),this.runningSince=null}add(t){this.totalTimeMs+=t}get(){return this.totalTimeMs+this.getCurrentRunningTime()}reset(t=!1){this.runningSince=this.runningSince!=null&&t?Date.now():null,this.totalTimeMs=0}};a(Ye,"Timer");var Ht=Ye;var dt=class{constructor(){d(this,"inFocusTimer",new Ht);d(this,"visibleTimer",new Ht);d(this,"visibleInFocusTimer",new Ht)}_initialize(){return T(this,null,function*(){var r,s,c;let t=this.core.window,e=(c=(s=(r=t.performance)==null?void 0:r.now)==null?void 0:s.call(r))!=null?c:0;t.addEventListener("focus",()=>{this.inFocusTimer.start(),t.document.hidden||this.visibleInFocusTimer.start()}),t.addEventListener("blur",()=>{this.inFocusTimer.stop(),this.visibleInFocusTimer.stop()}),t.document.addEventListener("visibilitychange",()=>{t.document.hidden?(this.visibleTimer.stop(),this.visibleInFocusTimer.stop()):(this.visibleTimer.start(),t.document.hasFocus()&&this.visibleInFocusTimer.start())}),t.document.hasFocus()&&(this.inFocusTimer.add(e),this.inFocusTimer.start(),t.document.hidden||(this.visibleInFocusTimer.add(e),this.visibleInFocusTimer.start())),t.document.hidden||(this.visibleTimer.add(e),this.visibleTimer.start())})}getVisibilityMeasurements(){return{inFocusMs:this.inFocusTimer.get(),visibleMs:this.visibleTimer.get(),visibleAndInFocusMs:this.visibleInFocusTimer.get()}}reset(){this.visibleTimer.reset(!0),this.inFocusTimer.reset(!0),this.visibleInFocusTimer.reset(!0)}};a(dt,"VisibilityMetrics"),l([b],dt.prototype,"_initialize",1),dt=l([p],dt);var Bo=6e4,Ho=61*60*1e3,Ko=59.5*60*1e3,$o=6e4,Yo=2500,zo=5e3,Xo=1500,Pt=class{constructor(){d(this,"currVisit");d(this,"pendingTracker");d(this,"tagLoadTime");d(this,"firstContentfulPaint")}_initialize(){return T(this,null,function*(){var e,r;let t=this.core.window;this.tagLoadTime=(r=(e=this.core.window.performance)==null?void 0:e.now)==null?void 0:r.call(e),this._updateFirstContentfulPaint(),t.document.addEventListener("visibilitychange",()=>{t.document.hidden&&this._flushTrackers()}),setInterval(()=>{this.currVisit!=null&&Date.now()>this.currVisit.visitStart+Ko&&(t.document.hidden||this._fireTracker())},$o)})}_updateFirstContentfulPaint(){try{let t=new this.core.window.PerformanceObserver(e=>{e.getEntries().forEach(r=>{r.name==="first-contentful-paint"&&(this.firstContentfulPaint=r.startTime,t.disconnect())})});t.observe({type:"paint",buffered:!0})}catch(t){}}_fireTracker({visit:t,scroll:e,visibility:r}=this._getTrackerData(),s=!1){e!=null&&(!s&&(Date.now()>t.visitStart+Ho||t.lastTrackerTime!=null&&t.lastTrackerTime>Date.now()-Bo)||(this.core.get(G).fireEvent("content-metrics",oo(t,e,r,this.tagLoadTime,this.firstContentfulPaint),{sampleInterval:1,spoofWrapperId:!0}),t.lastTrackerTime=Date.now(),t.trackerCount+=1))}_getTrackerData(){if(this.currVisit==null)throw new Error("No data!");return{visit:this.currVisit,scroll:this.core.get(tt).getScrollMeasurements(Xo),visibility:this.core.get(dt).getVisibilityMeasurements()}}_checkForInfiniteScroll(){let t=this.core.get(tt).getScrollMeasurements();t!=null&&!t.hasScrolledToTop&&(this.pendingTracker!=null&&(this.pendingTracker.data.visit.infiniteScrollDetected=!0),this.currVisit!=null&&(this.currVisit.infiniteScrollDetected=!0))}_scheduleDelayedTracker(){this._flushPendingTracker(),this.pendingTracker={data:this._getTrackerData(),timer:setTimeout(()=>{this._flushPendingTracker()},zo)}}_flushPendingTracker(){this.pendingTracker!=null&&(this._checkForInfiniteScroll(),this._fireTracker(this.pendingTracker.data,!0),clearTimeout(this.pendingTracker.timer),this.pendingTracker=void 0)}_flushTrackers(){this._flushPendingTracker(),this._fireTracker()}_onNewVisit(t){var r,s;let e=this.currVisit==null;this.currVisit!=null&&(Date.now()-this.currVisit.visitStart>Yo&&this._scheduleDelayedTracker(),this.core.get(dt).reset(),this.core.get(tt).reset()),this.currVisit={visit:t,visitStart:Date.now()-(e&&this.tagLoadTime!=null?this.tagLoadTime:0),visitIndex:((s=(r=this.currVisit)==null?void 0:r.visitIndex)!=null?s:-1)+1,trackerCount:0}}};a(Pt,"PLEMetrics"),l([b],Pt.prototype,"_initialize",1),l([S(E,"newVisit")],Pt.prototype,"_onNewVisit",1),Pt=l([p],Pt);i();n();i();n();var Jo=_e,et=class{constructor(){d(this,"restoreCount",0)}getRestoreCount(){return this.restoreCount}_restoreTargeting(){for(let t of this.core.get(y).getSlots())t.getAdServerTargeting(Jo).length===0&&(t.forceFlushAllUptTargetingToAdServer(),this.restoreCount+=1)}};a(et,"TargetingRestorer"),l([S(v,"adRequestQueued")],et.prototype,"_restoreTargeting",1),et=l([p],et);i();n();var ze=class ze{constructor(){d(this,"total",0);d(this,"dataPoints",0)}push(t){return this.total+=t,this.dataPoints+=1,this}get(){return this.total/this.dataPoints}getRounded(){return Math.round(this.get())}};a(ze,"Average");var ne=ze;i();n();var xt=a(()=>{var o,t,e;return Math.floor((e=(t=(o=window.performance)==null?void 0:o.now)==null?void 0:t.call(o))!=null?e:Date.now())},"perfNowOrDateNow");i();n();i();n();var Xe=class Xe{constructor(){d(this,"_firstQueuedAdRequest",1/0);d(this,"_lastQueuedAdRequest",-1/0);d(this,"_firstReleasedAdRequest",1/0);d(this,"_lastReleasedAdRequest",-1/0);d(this,"_lastReleasedAdRequestTime",null)}setAdRequestQueued(t){this._firstQueuedAdRequest=Math.min(this._firstQueuedAdRequest,t),this._lastQueuedAdRequest=Math.max(this._lastQueuedAdRequest,t)}setAdRequestReleased(t){this._firstReleasedAdRequest=Math.min(this._firstReleasedAdRequest,t),this._lastReleasedAdRequest=Math.max(this._lastReleasedAdRequest,t),this._lastReleasedAdRequestTime=xt()}getLastQueuedAdRequest(){return Number.isFinite(this._lastQueuedAdRequest)?this._lastQueuedAdRequest:null}getLastReleasedAdRequest(){return Number.isFinite(this._lastReleasedAdRequest)?this._lastReleasedAdRequest:null}getLastReleasedAdRequestTime(){return this._lastReleasedAdRequestTime}getLastSuccessfulAdRequest(){let t=Math.max(this._firstQueuedAdRequest,this._firstReleasedAdRequest),e=Math.min(this._lastQueuedAdRequest,this._lastReleasedAdRequest);return e<t?null:e}};a(Xe,"SlotAdRequestTracker");var be=Xe;i();n();var ve=(g=>(g.UNKNOWN="UNKNOWN",g.SEEN="SEEN",g.NOT_READY="NOT_READY",g.POSSIBLE_TIMEOUT="POSSIBLE_TIMEOUT",g.PREV_READY="PREV_READY",g.READY="READY",g))(ve||{});var Je="dv_upt_slot_ready",Zo=["https://securepubads.g.doubleclick.net/gampad/ads?","https://pagead2.googlesyndication.com/gampad/ads?"],W=class{constructor(){d(this,"plugins",{onSlotRequested:()=>[],onSlotRequestValidated:()=>[]});d(this,"validateAdRequests",!1);d(this,"lastAdRequestQueued",null);d(this,"lastAdRequestReleased",null);d(this,"state",{adRequestTracker:new F,triggered:new F})}_getSlotAdRequestTracker(t){return this.state.adRequestTracker.getOrDefaultFromFunction(t,()=>new be)}_onAdRequestQueued({index:t}){this.lastAdRequestQueued=t;for(let e of this.core.get(y).getSlots())this._getSlotAdRequestTracker(e).setAdRequestQueued(t),this.state.triggered.set(e,!1)}_onAdRequestBeforeRelease({index:t}){this.lastAdRequestReleased=t;for(let e of this.core.get(y).getSlots())this._getSlotAdRequestTracker(e).setAdRequestReleased(t),this.validateAdRequests&&e.setUptSlotTargeting({[Je]:["1"]})}_onSlotDiscovered(t,e){var r;e===0&&this._getSlotAdRequestTracker(t).setAdRequestQueued((r=this.lastAdRequestQueued)!=null?r:0)}_determineReadyState(t){let e=this._getSlotAdRequestTracker(t),r=e.getLastQueuedAdRequest(),s=e.getLastReleasedAdRequest(),c=e.getLastSuccessfulAdRequest();return r==null&&s==null?"UNKNOWN":this.lastAdRequestQueued==null?c==null?"SEEN":"PREV_READY":this.lastAdRequestReleased==null||this.lastAdRequestReleased<this.lastAdRequestQueued?c==null?"NOT_READY":"PREV_READY":"READY"}getSlotReadyStateOnAdServerAdRequest(t){let e=this._determineReadyState(t);if(e==="READY"){if(this.state.triggered.get(t)===!0)return{readyState:"PREV_READY"};this.state.triggered.set(t,!0);let r=this._getSlotAdRequestTracker(t).getLastReleasedAdRequestTime();return{readyState:e,readyFor:xt()-r}}return{readyState:e}}_onSlotRequested(t){let{readyState:e,readyFor:r}=this.getSlotReadyStateOnAdServerAdRequest(t);this.validateAdRequests&&t.setUptSlotTargeting({[Je]:["0"]}),this.plugins.onSlotRequested(t,e,r)}enableAdRequestValidation(){if(!this.validateAdRequests)try{let t=this._processResourceRequest.bind(this);new PerformanceObserver(r=>r.getEntries().forEach(t)).observe({type:"resource"}),this.validateAdRequests=!0}catch(t){}}_processResourceRequest(t){var e,r,s;try{if(Zo.every(f=>!t.name.startsWith(f)))return;let g=(r=(e=new URL(t.name).searchParams.get("prev_scp"))==null?void 0:e.split("|"))!=null?r:[];for(let f of g){let A=((s=new URLSearchParams(f).get(Je))==null?void 0:s[0])==="1";this.plugins.onSlotRequestValidated(A)}}catch(c){}}};a(W,"SlotReadinessTracker"),l([S(v,"adRequestQueued")],W.prototype,"_onAdRequestQueued",1),l([S(v,"adRequestBeforeRelease"),S(v,"adRequestTimedOut")],W.prototype,"_onAdRequestBeforeRelease",1),l([S(y,"slotDiscovered")],W.prototype,"_onSlotDiscovered",1),l([S(x,"adRequested")],W.prototype,"_onSlotRequested",1),W=l([p],W);var ti="implcheck",ei=1e-4,ri=5e3,oi=5,J=class{constructor(){d(this,"enabled",!1);d(this,"totalInternalAdRequestQueuedCount",0);d(this,"totalAdRequestsCompletedCount",0);d(this,"totalSlotsRequestedCount",0);d(this,"totalSlotsRequestedOkCount",0);d(this,"totalTimeoutCount",0);d(this,"trackersSent",0);d(this,"totalValidatedAdServerRequests",{ok:0,notOk:0});d(this,"lastOnDvtagReadyCall",NaN);d(this,"slotReqAvgTimeSinceCall",new ne);d(this,"slotReqAvgTimeSinceDone",new ne);d(this,"batch",null)}isDebugForceEnabled(){return!1}_initialize(){this.enabled=this.core.get(J).isDebugForceEnabled()||Math.random()<ei,this.enabled&&this.core.get(W).enableAdRequestValidation()}_onAdRequestQueued(t){this.enabled&&(this.lastOnDvtagReadyCall=xt(),t.internal&&(this.totalInternalAdRequestQueuedCount+=1))}_onAdRequestCompleted(t){this.enabled&&(this.totalAdRequestsCompletedCount+=1,(t.status==="tag-timeout"||t.status==="queue-timeout")&&(this.totalTimeoutCount+=1))}_onSlotRequested(t,e,r){if(!this.enabled)return;let s=this._getOrStartBatch();this.totalSlotsRequestedCount+=1,e==="READY"&&(this.totalSlotsRequestedOkCount+=1),s.slots[e].push(t.elementId),r!=null&&(this.slotReqAvgTimeSinceDone.push(r),this.slotReqAvgTimeSinceCall.push(xt()-this.lastOnDvtagReadyCall));let c=t.validateAdServerTargeting();c===1?s.targeting.extendedCount+=1:c===0&&(s.targeting.reducedCount+=1)}_onSlotRequestValidated(t){t?this.totalValidatedAdServerRequests.ok+=1:this.totalValidatedAdServerRequests.notOk+=1}_sendTracker(){let t=this.core.get(et).getRestoreCount(),{slots:e,targeting:r,start:s}=this._getOrStartBatch(),c={cd110:e.READY.join(),cd111:e.PREV_READY.join(),cd112:e.SEEN.join(),cd113:e.NOT_READY.join(),cd114:e.UNKNOWN.join(),cd115:e.POSSIBLE_TIMEOUT.join(),cm106:this.trackersSent,cm107:s,cm109:this.totalTimeoutCount,cm110:this.slotReqAvgTimeSinceCall.getRounded(),cm111:this.slotReqAvgTimeSinceDone.getRounded(),cm112:this.totalSlotsRequestedOkCount,cm113:this.totalValidatedAdServerRequests.ok,cm114:this.totalValidatedAdServerRequests.notOk,cm115:t,cm116:this.totalAdRequestsCompletedCount,cm117:this.totalInternalAdRequestQueuedCount,cm118:this.totalSlotsRequestedCount,cm119:r.reducedCount,cm120:r.extendedCount};this.core.get(G).fireEvent(ti,c),this.batch=null,this.trackersSent+=1,this.trackersSent>=oi&&(this.enabled=!1)}_getOrStartBatch(){return this.batch==null&&(this.batch={start:xt(),slots:Object.fromEntries(Object.values(ve).map(t=>[t,[]])),targeting:{extendedCount:0,reducedCount:0}},setTimeout(()=>this._sendTracker(),ri)),this.batch}};a(J,"ImplementationValidator"),l([b],J.prototype,"_initialize",1),l([S(v,"adRequestQueued")],J.prototype,"_onAdRequestQueued",1),l([S(v,"adRequestCompleted")],J.prototype,"_onAdRequestCompleted",1),l([S(W,"onSlotRequested")],J.prototype,"_onSlotRequested",1),l([S(W,"onSlotRequestValidated")],J.prototype,"_onSlotRequestValidated",1),J=l([p],J);i();n();i();n();var ut=class{_defineSlot(t,e={}){if(typeof t!="string"||e==null||typeof e!="object")return;let r={id:B(e.id),network:B(e.network),sizes:e.sizes!=null?qt(e.sizes):void 0,position:B(e.position)};this.core.get(y).createSlot("custom",0,t,r)}_adRendered(t,e){if(typeof t!="string"||e==null||typeof e!="object")return;let r=this.core.get(y).getSlot("custom",t);if(r==null)return;let s={advertiserId:B(e.advertiserId),campaignId:B(e.campaignId),creativeId:B(e.creativeId),lineItemId:B(e.lineItemId),renderedSize:fe(e.renderedSize)};this.core.get(x).setAdRendered(r,s)}_adRemoved(t){if(typeof t!="string")return;let e=this.core.get(y).getSlot("custom",t);e!=null&&this.core.get(x).setAdRemoved(e)}_getTargeting(t){let e=this.core.get(y);if(typeof t!="string")return e.getUptPageTargeting();let r=e.getSlot("custom",t);return r==null?e.getUptPageTargeting():r.getUptTargeting()}};a(ut,"CustomAdServer"),l([Lt("defineSlot")],ut.prototype,"_defineSlot",1),l([Lt("getTargeting")],ut.prototype,"_getTargeting",1),ut=l([p],ut);i();n();var At=class{constructor(){d(this,"initialized",!1);d(this,"size",0)}_initialize(){return T(this,null,function*(){if(yield Promise.resolve(),this.initialized)return;this.initialized=!0,this.core.dvtag.cmd instanceof Array||(this.core.dvtag.cmd=[]);let t=this.core.dvtag.cmd;this.core.dvtag.cmd={push:(...e)=>{for(let r of e)try{r()}catch(s){}return this.size+=e.length,this.size}},this.core.dvtag.cmd.push(...t)})}};a(At,"CommandBuffer"),l([b],At.prototype,"_initialize",1),At=l([p],At);var Kt=class{};a(Kt,"HouseHold"),Kt=l([p,V(v),V(At),V(G),V(ut),V(et)],Kt);i();n();if(window.dvtag==null||window.dvtag._core==null)try{new zt(Oe,window)}catch(o){}})();

</script>

</body>
</html>

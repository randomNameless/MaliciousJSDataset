function documentIsReady(e){"complete"===document.readyState||"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function initSearch(e,t){var n=t.dataset.geocoderAssetPath,d=t.dataset.mapboxGlGeocoderJsAssetPath,o=t.dataset.mapboxGlGeocoderCssAssetPath,a=t.dataset.baseAssetHost,c=t.dataset.envMapboxKey,u=document.createElement("script");u.src=n,u.async=!1,u.onload=function(){var t=d,n=document.createElement("script");n.src=t,n.async=!1,n.onload=function(){var t=document.createElement("link");t.href=o,t.rel="stylesheet",t.type="text/css",t.onload=function(){function t(){var t=c,n=NS4Geocoder.getGeocoder(t),d=document.createElement("div");document.getElementById("autocomplete").appendChild(n.onAdd(d)),n.on("result",function(t){document.getElementById("search_type").value=t.result.place_type,result=t.result,document.getElementById(`${e}_formatted_address`).value=result.place_name,document.getElementById(`${e}_query`).value=result.place_name,document.getElementById("search_result").value=JSON.stringify(result),document.getElementById("scout-btn").click()}),document.getElementById("geocoder-input").addEventListener("focus",function(){autoCompleteInitialize(a)}),document.getElementById("geocoder-input").addEventListener("keyup",function(t){13===t.keyCode?document.getElementById("scout-btn").click():document.getElementById(`${e}_query`).value=document.getElementById("geocoder-input").value})}function n(){t()}n()},document.body.appendChild(t)},document.body.appendChild(n)},document.body.appendChild(u)}documentIsReady(()=>{var e=document.getElementById("location_mapbox");initSearch(e.getAttribute("data-type")+"_search",e)});
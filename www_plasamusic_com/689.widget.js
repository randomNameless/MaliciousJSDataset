"use strict";(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[689],{7514:(e,t,a)=>{a.d(t,{Z:()=>K});var n=a(5886),r=a(2576),i=a(4857),s=a(8073),o=a(9962),c=a(9248),d=a(4455),l=a(109),u=a(256),p=a(724),Z=a(7729),h=a(4952),m=a(5454),y=a(8019),f=a(646),g=a(4383),k=a(5807),w=a(6713),b=a(2751),v=a(353),z=a(879),T=a(9152);function x(){return(0,T.BX)("svg",{fill:"none",height:"21",viewBox:"0 0 16 21",width:"16",xmlns:"http://www.w3.org/2000/svg",children:[(0,T.tZ)("path",{d:"M7.99 4V1.21c0-.45-.54-.67-.85-.35L3.35 4.65c-.2.2-.2.51 0 .71l3.79 3.79a.5.5 0 0 0 .85-.35V6c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01a.984.984 0 0 0-.98-.85c-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C16.83 8.48 12.94 4 7.99 4z"}),(0,T.tZ)("path",{d:"M6.89 15h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09V15zM8.65 10.74l-.25 2.17.67.16c.03-.03.06-.07.1-.09.02-.01.04-.023.06-.035a.664.664 0 0 1 .21-.085c.05-.01.12-.02.2-.02.11 0 .22.02.3.05.08.03.15.08.21.15.06.07.1.14.13.24.03.1.04.2.04.31 0 .11 0 .21-.03.31s-.07.18-.11.25a.487.487 0 0 1-.45.23.65.65 0 0 1-.42-.15c-.11-.09-.17-.23-.19-.41h-.84c0 .2.05.38.13.53.08.15.18.29.32.39.14.1.29.19.46.24.17.05.35.08.53.08.25 0 .46-.05.64-.12.18-.07.33-.18.45-.31s.21-.28.27-.45c.06-.17.09-.35.09-.54 0-.22-.04-.42-.09-.6-.05-.18-.14-.33-.25-.45-.11-.12-.25-.21-.41-.28a1.349 1.349 0 0 0-.75-.08c-.06.01-.12.03-.18.04-.06.01-.11.03-.15.05a.586.586 0 0 1-.049.021c-.022.01-.043.017-.06.029l.11-.92h1.7v-.71H8.65z"})]})}var P=a(7914),S=a(3974),C=a(7655);const H=(0,P.Z)(S.Z,{target:"e1as1ua70"})((({sizeToHide:e})=>({[(0,C.Z)(`${e}`)]:{display:"none"},[(0,C.Z)([u.Z.max.height[99],u.Z.max.width[420]])]:{display:"none"}})),"");function I({onClick:e,sizeToHide:t}){return(0,T.tZ)(H,{"aria-label":"Skip back 30 seconds","data-test":"skip-back-button",onClick:e,sizeToHide:t,type:"button",children:(0,T.tZ)(x,{})})}function B(){return(0,T.BX)("svg",{fill:"none",height:"20",viewBox:"0 0 16 20",width:"16",xmlns:"http://www.w3.org/2000/svg",children:[(0,T.tZ)("path",{d:"M14.92 12c-.5 0-.91.37-.98.86a6.006 6.006 0 0 1-7.42 4.96c-2.25-.54-3.91-2.27-4.39-4.53A6.014 6.014 0 0 1 8 6v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71L8.85.85a.5.5 0 0 0-.85.36V4C3.06 4-.84 8.48.16 13.6c.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12z"}),(0,T.tZ)("path",{d:"M6.432 14.297a.621.621 0 0 1-.312.082l-.05.001a.69.69 0 0 1-.506-.204.548.548 0 0 1-.124-.336h-.85c0 .21.04.39.12.55.08.16.19.28.33.38.14.1.29.18.46.23.17.05.35.07.53.07.21 0 .41-.03.6-.08s.34-.14.48-.24c.14-.1.24-.24.32-.39.08-.15.12-.33.12-.53 0-.23-.06-.44-.18-.61-.12-.17-.3-.3-.54-.39a2.91 2.91 0 0 0 .14-.073.857.857 0 0 0 .14-.097c.034-.03.066-.06.096-.09a.78.78 0 0 0 .104-.13l.027-.043.023-.038a1.14 1.14 0 0 0 .08-.169c.03-.09.04-.18.04-.27 0-.2-.04-.37-.11-.53a.942.942 0 0 0-.3-.38c-.13-.1-.28-.18-.46-.23-.18-.05-.37-.08-.59-.08-.19 0-.38.03-.54.08-.16.05-.32.13-.44.23s-.23.22-.3.37c-.07.15-.11.3-.11.48h.85a.455.455 0 0 1 .17-.35c.05-.04.11-.07.18-.1a.342.342 0 0 1 .087-.024c.043-.006.086-.006.133-.006.03 0 .057 0 .083.003a.518.518 0 0 1 .167.037c.07.03.13.06.18.11.05.05.08.11.11.17.03.06.04.14.04.22 0 .18-.05.32-.16.43-.11.11-.26.16-.48.16h-.43v.66h.45c.11 0 .2.01.29.04.09.03.16.06.22.11s.11.12.14.2c.03.08.05.18.05.29 0 .09-.01.17-.04.24a.427.427 0 0 1-.088.123l-.042.047a.766.766 0 0 1-.108.077z"}),(0,T.tZ)("path",{clipRule:"evenodd",d:"M9.85 10.68c.22 0 .41.03.59.1s.33.18.46.33c.13.15.23.35.3.57.07.22.11.5.11.82v.74c0 .32-.03.59-.1.82-.07.23-.17.42-.29.57-.12.15-.27.26-.45.33s-.37.1-.59.1c-.22 0-.41-.03-.59-.1s-.33-.18-.46-.33c-.13-.15-.23-.35-.3-.57-.07-.22-.11-.5-.11-.82v-.74c0-.32.04-.59.1-.82.06-.23.17-.42.29-.57.12-.15.27-.26.45-.33s.37-.1.59-.1zm.56 3.15c.03-.13.04-.29.04-.48h.01v-.97c0-.135-.005-.256-.019-.36a1.28 1.28 0 0 0-.02-.12 1 1 0 0 0-.121-.31.435.435 0 0 0-.19-.17.654.654 0 0 0-.5 0c-.08.03-.13.09-.19.17-.06.08-.09.18-.12.31s-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32c.05.08.12.14.19.17a.656.656 0 0 0 .5 0c.08-.03.14-.09.19-.17.05-.08.08-.19.11-.32z",fillRule:"evenodd"})]})}const M=(0,P.Z)(S.Z,{target:"ed65rzx0"})((({sizeToHide:e})=>({[(0,C.Z)(`${e}`)]:{display:"none"},[(0,C.Z)([u.Z.max.height[99],u.Z.max.width[420]])]:{display:"none"}})),"");function E({onClick:e,sizeToHide:t}){return(0,T.tZ)(M,{"aria-label":"Skip forward 30 seconds","data-test":"skip-forward-button",onClick:e,sizeToHide:t,type:"button",children:(0,T.tZ)(B,{})})}const N=(0,P.Z)(S.Z,{target:"e325f0t0"})((({sizeToHide:e})=>({[(0,C.Z)(`${e}`)]:{display:"none"},[(0,C.Z)([u.Z.max.height[99],u.Z.max.width[420]])]:{display:"none"}})),"");var $=a(6832);const U=[1,1.25,1.5,2],_=function({onClick:e,sizeToHide:t}){const[a,n]=(0,$.useState)(0);return(0,T.tZ)(N,{"aria-label":"Playback speed","data-test":"speed-button",onClick:()=>{const t=((a+1)%(r=U.length)+r)%r;var r;n(t),e(U[t])},sizeToHide:t,type:"button",children:`${U[a]}x`})};var L=a(1211),V=a(8914),O=a.n(V),R=a(6537),D=a(3472),A=a(7038),F=a(9112),X=a(3116),j=a(6882),q=a(9178),Q=a(4484);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W.apply(null,arguments)}const K=(0,F.Z)((function(e){const{analytics:t,analyticsData:a,autoplay:x,description:P,dimensions:S,disabled:C,episodeId:H,followUrl:B,getPlaybackErrorMessage:M,hasPlayed:N,imageUrl:U,isError:V,origQuery:F,podcastId:K,podcastUrl:Y,positionBottom:G,refs:J,shareText:ee,shareUrl:te,shareTitle:ae,supportMobileView:ne=!1,title:re,urlWithQuery:ie}=e,se=(0,A.Z)(),{play:oe,playerState:ce,playNextPodcast:de}=(0,$.useContext)(y.Z.Context),[le,ue]=(0,$.useState)(!1),[pe,Ze]=(0,$.useState)(0),[he,me]=(0,$.useState)(!1),ye=(0,$.useRef)((0,j.xv)(W({},a,{episodeId:H,podcastId:K}))),fe=(0,$.useRef)(a.playedFrom),[ge]=(0,q.se)(),ke=ce===g.ZP.Playing,we=ce===g.ZP.Buffering,be=ce===g.ZP.Loading,ve={id:H,name:a.subName,typeId:K,type:"podcast"},[ze,Te]=(0,R.Z)((0,T.tZ)(c.Z,{body:P?O()(P):"",title:re,url:te})),[xe,Pe]=(0,R.Z)((0,T.tZ)(v.Z,{analytics:t,analyticsData:{id:K,name:a.name,subId:H,subName:a.subName,type:"podcast",subType:"episode"},dimensions:S,followUrl:B,includePositionToggle:!C,progress:ge,shareText:ee,shareTitle:ae,url:te,urlWithQuery:ie})),Se=(e,n=a.playedFrom)=>{var r;n!==fe.current&&(fe.current=n,ye.current=(0,j.xv)(W({},a,{episodeId:H,playedFrom:n,podcastId:K}))),ke?(se.track(X.z.Pause),null==t||t.track(X.z.Pause,ye.current),null==t||t.track(X.z.StreamEnd,(0,j.qz)(ye.current,{endReason:i.Z.PAUSE,listenTime:Math.round(null!=(r=null==ge?void 0:ge.position)?r:0)}))):(null==t||t.track(X.z.Play,ye.current),Ze(Date.now()),se.track(X.z.Play,ve)),ue(!0),oe(K,{streamUrlQuery:F,trackId:H})};J&&(J.methodTypes.current=W({},J.methodTypes.current,{isUnrestricted:!0}),J.mute.current=()=>{m.Z.mute(),se.track(X.z.Mute)},J.pause.current=Se,J.play.current=Se,J.setCurrentTime.current=(e,t)=>{ge.duration&&m.Z.seek(t)},J.setLoop.current=(e,t)=>{"boolean"!=typeof t&&"true"!==t&&"false"!==t||m.Z.setLoop(t&&"false"!==t)},J.setVolume.current=(e,t)=>{m.Z.setVolume(parseInt(t,10))},J.unmute.current=()=>{m.Z.unmute(),se.track(X.z.Unmute,{isPlaying:ke})}),(0,D.Z)((()=>{x&&Se()}));const Ce=(0,$.useRef)(!1);(0,$.useEffect)((()=>{if(F){const{position:e=0}=F;!Ce.current&&Number(e)>0&&ge.duration&&(m.Z.seek(Number(e)),Ce.current=!0)}}),[ge,F]);const He=(0,Q.H)((()=>de(K,F)),(()=>me(!0)));return(0,$.useEffect)((()=>{ce===g.ZP.Complete&&He()}),[ce]),(0,$.useEffect)((()=>{ce===g.ZP.Playing&&pe&&(null==t||t.track(X.z.StreamStart,(0,j.qz)(ye.current,{playbackStartTime:Date.now(),streamInitTime:pe})),Ze(0),se.track(X.z.StreamStart,ve))}),[ce,pe]),(0,$.useEffect)((()=>{if(V){const e=[g.rO.AccessDenied,g.rO.NetworkError].includes(ce);null==t||t.track(X.z.PlaybackError,(0,j.qz)(ye.current,{errorMessage:M(ce),errorType:e?"network_error":"playback_failure"}))}}),[V]),V&&he?(0,T.tZ)(p.Z,{error:ce}):(0,T.BX)("div",{children:[(0,T.BX)(f.Z,{positionBottom:G,children:[(0,T.tZ)(k.Z,{hide:C,notYetInteractedWith:!ke&&!we&&!be,supportMobileView:ne}),(0,T.BX)(L.Z,{children:[(0,T.BX)(d.Z,{children:[(0,T.tZ)(h.Z,{"data-test":"play-button-wrapper",notYetInteractedWith:!ke&&!we&&!be,supportMobileView:ne,children:(0,T.tZ)(Z.Z,{disabled:C,isLoading:we||be,isPlaying:ke||we||be,onClick:Se})}),(0,T.tZ)(z.Z,{shouldShow:N||le,children:(0,T.BX)(l.Z,{children:[(0,T.tZ)(I,{onClick:()=>{ge.duration&&(m.Z.seek(Math.max(ge.position-15,0)),t&&t.track(X.z.Back15,ye.current))},sizeToHide:u.Z.max.width[149]}),(0,T.tZ)(E,{onClick:()=>{ge.duration&&(m.Z.seek(Math.min(ge.duration,ge.position+30)),t&&t.track(X.z.Forward30,ye.current))},sizeToHide:u.Z.max.width[149]}),(0,T.tZ)(_,{onClick:async e=>{const a=await m.Z.getPlaybackRate();m.Z.setPlaybackRate(e),t&&t.track(X.z.SpeedChange,W({},ye.current,{speedChange:{newPlaybackSpeed:e,oldPlaybackSpeed:a}}))},sizeToHide:u.Z.max.width[199]})]})})]}),(0,T.BX)(w.Z,{children:[(0,T.tZ)(o.Z,{onClick:Te,sizeToHide:u.Z.max.width[400]}),(0,T.tZ)(b.Z,{onClick:()=>{null==t||null==t.trackPageView||t.trackPageView((0,j.BS)({name:a.name,pageName:"share",podcastId:K})),Pe()},sizeToHide:u.Z.max.width[299]}),U&&(0,T.tZ)(s.Z,{"data-test":"thumbnail-link",href:Y,children:(0,T.tZ)(r.Z,{alt:re,src:(0,n.Z)(U),supportMobileView:ne})})]})]})]}),xe,ze]})}))},6882:(e,t,a)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n.apply(null,arguments)}function r({name:e,pageName:t,podcastId:a}){let n="",r="";if(document.referrer){const{host:e,href:t}=new URL(document.referrer);n=e,r=t}return{contentFrame:"responsive_widget",id:`podcast|${a}`,inNetwork:n.includes("iheart").toString(),name:e,pageHost:n,pageName:t,pageURL:r}}function i({episodeId:e,name:t,playedFrom:a,podcastId:n,subName:r}){return{item:{asset:{id:`podcast|${n}`,name:t,sub:{id:`episode|${e}`,name:r}}},station:{asset:{id:`podcast|${n}`,name:t,sub:{id:`episode|${e}`,name:r}},playedFrom:a}}}function s(e,t){return n({},e,{station:n({},e.station,t)})}function o({id:e,name:t,platform:a,subId:r,subName:i,type:s,subType:o}){return{share:{platform:a},station:{asset:n({id:`${s}|${e}`,name:t},r&&{sub:{id:`${o}|${r}`,name:i}})}}}a.d(t,{BS:()=>r,jv:()=>o,qz:()=>s,xv:()=>i})},3756:(e,t,a)=>{a.d(t,{c:()=>s});var n=a(9314),r=a(2019),i=a(8126);async function s({ampUrl:e="",logger:t=n.Z,podcastId:a,transport:s}){if(!a){const e=new i.Z(400,"Failed to fetch podcast info, podcast id missing.");throw t.error(n.K.SERVER,e.message,{},e),e}const[o,c]=r.Z`${{ampUrl:e}}/api/v3/podcast/podcasts/${{podcastId:String(a)}}`,{data:d}=await s.get(o,{params:{requestName:c}});return d}},9962:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(9152);function r(){return(0,n.tZ)("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,n.tZ)("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8H9V5h2v2z"})})}var i=a(7914),s=a(3974),o=a(256),c=a(7655);const d=(0,i.Z)(s.Z,{target:"e1at04el0"})((({sizeToHide:e})=>({paddingTop:"0.3rem",[(0,c.Z)(`${e}`)]:{display:"none"},[(0,c.Z)(o.Z.max.height[99],o.Z.max.width[420])]:{display:"none"}})),"");function l({onClick:e,sizeToHide:t}){return(0,n.tZ)(d,{"aria-label":"Information","data-test":"info-button",onClick:e,sizeToHide:t,type:"button",children:(0,n.tZ)(r,{})})}}}]);
//# sourceMappingURL=689.widget.js.map
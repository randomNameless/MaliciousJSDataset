<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>podcastProfile.widget.html</title>
</head>
<body>

<script>
"use strict";(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[696],{1226:(t,e,r)=>{var a=r(2878),n=r(463),i=r(4857),o=r(3882),s=r(5108),l=r(8019),d=r(4383),c=r(3230),u=r(5515),p=r(7914),g=r(5271);const h=(0,p.Z)("p",{target:"e17tdogt0"})({fontSize:g.Z.size[10],opacity:.7},"");var m=r(7987),Z=r(3472),f=r(7038),y=r(3116);function P(t,e){const r=new Date(t);return`${function(t,e){return{1:e("Jan"),2:e("Feb"),3:e("Mar"),4:e("Apr"),5:e("May"),6:e("Jun"),7:e("Jul"),8:e("Aug"),9:e("Sep"),10:e("Oct"),11:e("Nov"),12:e("Dec")}[t]}(r.getMonth()+1,e)} ${r.getDate()}, ${r.getFullYear()} `}function v(t){const e=Math.floor(t/60);return e>0?`${e} min${e>1?"s":""}`:`${t} secs`}var I=r(6882),S=r(6832),w=r(9178),b=r(9152);const k=function({analytics:t,episodes:e,onClick:r,podcastId:a,podcastUrl:n,title:p}){const g=(0,f.Z)(),k=(0,w.qM)(),{getCurrentlyPlaying:E,play:C,playerState:_}=(0,S.useContext)(l.Z.Context),[$]=(0,w.se)(),O=_===d.ZP.Playing,{trackId:D}=E()||{},[T,U]=(0,S.useState)(0),[x,A]=(0,S.useState)(0),z=(0,S.useRef)((0,I.xv)({episodeId:"",name:p,playedFrom:s.Z.RESP_WIDGET_PROFILE_EPISODE_PLAY,podcastId:a,subName:""})),L={id:D,name:p,type:"podcast",typeId:a},R=(n,o)=>{var l;const d=e.find((t=>`${t.id}`===D)),c=(0,I.xv)({episodeId:D||"",name:p,playedFrom:s.Z.RESP_WIDGET_PROFILE_EPISODE_PLAY,podcastId:a,subName:null!=(l=null==d?void 0:d.title)?l:""});var u,h;O&&n===D?(g.track(y.z.Pause),null==t||t.track(y.z.Pause,c),null==t||t.track(y.z.StreamEnd,(0,I.qz)(c,{endReason:i.Z.PAUSE,listenTime:Math.round(null!=(u=null==$?void 0:$.position)?u:0)}))):(z.current=(0,I.xv)({episodeId:n,name:p,playedFrom:s.Z.RESP_WIDGET_PROFILE_EPISODE_PLAY,podcastId:a,subName:o}),null==t||t.track(y.z.Play,z.current),A(Date.now()),g.track(y.z.Play,L),O&&(null==t||t.track(y.z.StreamEnd,(0,I.qz)(c,{endReason:i.Z.NEW_STATION_START,listenTime:Math.round(null!=(h=null==$?void 0:$.position)?h:0)})))),r(),C(a,{trackId:n})};(0,Z.Z)((()=>{var t;U(null==(t=window)?void 0:t.innerHeight)})),(0,S.useEffect)((()=>{_===d.ZP.Playing&&x&&(null==t||t.track(y.z.StreamStart,(0,I.qz)(z.current,{playbackStartTime:Date.now(),streamInitTime:x})),A(0),g.track(y.z.StreamStart,L))}),[_,x]);const H=["Space"," ","Enter"];return(0,b.BX)(u.Z,{height:T,children:[e.map((({duration:t,id:e,startDate:r,title:a})=>(0,b.BX)(c.Z,{"data-test":"podcast-episode-row",onClick:()=>R(`${e}`,a),onKeyUp:t=>{H.includes(t.key)&&R(`${e}`,a)},tabIndex:0,children:[(0,b.tZ)(m.Z,{"data-test":"episode-title",selected:`${e}`===D,children:a}),(0,b.BX)(h,{"data-test":"subtext",children:[P(r,k)," •"," ",v(t)]})]},e))),(0,b.tZ)(o.Z,{href:n||"",text:k("Listen to more episodes")})]})};var E=r(8073),C=r(3374),_=r(9248),$=r(7395),O=r(7514),D=r(879),T=r(8914),U=r.n(T),x=r(6537),A=r(9028),z=r(3426),L=r(4258),R=r(9314),H=r(2019),B=r(8126),M=r(3756),F=r(2787),N=r.n(F),V=r(9685),q=r(7993);function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},W.apply(null,arguments)}function Q({analytics:t,autoplay:e,description:r,episodeId:a,episodes:i,followUrl:o,imageUrl:c,origQuery:u,podcastId:p,podcastUrl:g,subtitle:h,title:m="",urlWithQuery:f}){const y=(0,w.qM)(),{getCurrentlyPlaying:P,playerState:v}=(0,S.useContext)(l.Z.Context),[T,L]=(0,S.useState)(!1),{isError:R,trackId:H}=P()||{trackId:void 0},[B,M]=(0,S.useState)(!1),F=s.Z.RESP_WIDGET_PLAYER_PLAY;(0,A.Z)(),(0,Z.Z)((()=>{null==t||null==t.trackPageView||t.trackPageView((0,I.BS)({name:m,pageName:"podcast_profile",podcastId:p}))}));const[,N]=(0,x.Z)((0,b.tZ)(_.Z,{body:r?U()(r):"",title:m,url:g})),V=H||a,W=i.find((t=>`${t.id}`===V)),Q=W?W.title:"",Y=W?W.imageUrl:c;(0,S.useEffect)((()=>{Object.values(d.rO).includes(v)?M(!0):v===d.ZP.Playing&&M(!1)}),[R,v]);const j=i.length>0;return(0,b.BX)(n.Z,{children:[(0,b.tZ)(D.Z,{shouldShow:!(R||B),children:(0,b.tZ)($.Z,{description:r?U()(r):"",hasPlayed:[d.ZP.Playing,d.ZP.Paused,d.ZP.Buffering].includes(v),icons:[(0,b.tZ)(C.Z,{href:g},"iheartlink")],infoHeading:"iHeart",infoHeadingSmallHeight:`${h} •`,isPodcast:!0,showDescription:!1,subHeading:j?(0,b.tZ)(E.Z,{"data-test":"subheading-link",href:g,children:Q||h}):y("This show has no episodes available yet."),title:(0,b.tZ)(E.Z,{"data-test":"title-link",href:g,children:m}),toggleInfoModal:N})}),(0,b.tZ)(O.Z,{analytics:t,analyticsData:{name:m,playedFrom:F,subName:Q},autoplay:e,description:r,dimensions:q.I.PODCAST_PROFILE,disabled:!j,episodeId:V,followUrl:o,getPlaybackErrorMessage:(0,z.e)(y),hasPlayed:T,imageUrl:Y,isError:R||B,metadata:{episode:Q,mainImage:c,podcast:m,trackImage:Y},origQuery:u,podcastId:p,podcastUrl:g,positionBottom:!1,shareText:y("Share this podcast"),shareTitle:m,shareUrl:g,title:m,urlWithQuery:f}),(0,b.tZ)(D.Z,{shouldShow:i.length>0&&!(R||B),children:(0,b.tZ)(k,{analytics:t,episodes:i,onClick:()=>{L(!0)},podcastId:p,podcastUrl:g,title:m})})]})}Q.getInitialProps=async function({params:t,query:e},{logger:r=R.Z,transport:a},{websiteUrl:n=""}){var i,o;const{id:s,namespace:l}=t,{autoplay:d,episodeCount:c}=e,u=(0,V.OR)(s),p=c?Math.min(10,Math.max(1,Number(c))):5,{description:g,imageUrl:h,showType:m,title:Z}=await M.c({logger:r,podcastId:u,transport:a}),f="serial"===m,y=await async function({ampUrl:t="",logger:e=R.Z,podcastId:r,sortAsc:a,transport:n}){if(!r){const t=new B.Z(400,"Failed to fetch podcast info, podcast id missing.");throw e.error(R.K.SERVER,t.message,{},t),t}const i=a?"startDate-asc":"startDate-desc",[o,s]=H.Z`${{ampUrl:t}}/api/v3/podcast/podcasts/${{podcastId:String(r)}}/episodes?sortBy=${{sortBy:i}}`,{data:l}=await n.get(o,{params:{requestName:s}});return l.data}({logger:r,podcastId:u,sortAsc:f,transport:a}),P=null==(i=y.at(0))?void 0:i.id,v=null==(o=y.at(0))?void 0:o.title,I=y.slice(0,p),S={keyid:[Z],pname:"podcast_profile",sc:"widget_share"},w=[];y.length>0&&I.forEach((t=>w.push({stationId:String(u),trackId:String(t.id)})));const b=`${n}/${l}/${s}/`,k=function(t,e={}){const{description:r="true",thumbnail:a="true"}=e,n={description:"true"===r,imageUrl:"true"===a};return(0,L.Z)(t,((t,e)=>n[e]))}({description:g,imageUrl:h},e);return W({autoplay:!!d,basePodcastUrl:b,dimensions:W({},q.I.PODCAST_PROFILE),episodeId:String(P),episodes:I,followUrl:`${b}?${N().stringify(W({},S,{follow:!0}))}`,origQuery:e,podcastId:String(u),podcastUrl:`${b}?${N().stringify(S)}`,subtitle:v,title:Z,tracks:w,urlWithQuery:`${b}?${N().stringify(e)}`},k)};const Y=Q;(0,a.Z)(Y)},3882:(t,e,r)=>{r.d(e,{Z:()=>h});var a=r(9152);function n(){return(0,a.tZ)("svg",{fill:"none",height:"14",viewBox:"0 0 18 18",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,a.tZ)("path",{d:"M15 16H3C2.45 16 2 15.55 2 15V3C2 2.45 2.45 2 3 2H8C8.55 2 9 1.55 9 1C9 0.45 8.55 0 8 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V10C18 9.45 17.55 9 17 9C16.45 9 16 9.45 16 10V15C16 15.55 15.55 16 15 16ZM11 1C11 1.55 11.45 2 12 2H14.59L5.46 11.13C5.07 11.52 5.07 12.15 5.46 12.54C5.85 12.93 6.48 12.93 6.87 12.54L16 3.41V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6V1C18 0.45 17.55 0 17 0H12C11.45 0 11 0.45 11 1Z"})})}var i=r(7914),o=r(5271);const s=(0,i.Z)("p",{target:"ef22gkm0"})({fontSize:o.Z.size[14],padding:"0.1rem 2rem"},"");var l=r(8073),d=r(7970);const c=(0,i.Z)(l.Z,{target:"ew7m1u20"})((({theme:t})=>{const{r:e,g:r,b:a}=(0,d.Z)(t.backgroundSecondary);return{":hover":{backgroundColor:`rgba(${e}, ${r}, ${a}, 0.5)`},display:"block",padding:"1rem"}}),""),u=["children"];function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},p.apply(null,arguments)}function g(t){let{children:e}=t,r=function(t,e){if(null==t)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.includes(a))continue;r[a]=t[a]}return r}(t,u);return(0,a.tZ)(c,p({},r,{children:e}))}function h({href:t,text:e}){return(0,a.BX)(g,{"data-test":"more-link",href:t,children:[(0,a.tZ)("div",{style:{float:"left"},children:(0,a.tZ)(n,{})}),(0,a.tZ)(s,{children:e})]})}},3230:(t,e,r)=>{r.d(e,{Z:()=>o});var a=r(7914),n=r(5271),i=r(7970);const o=(0,a.Z)("div",{target:"emqn7nu0"})((({cursorPointer:t=!0,theme:e,thinRow:r})=>{const{r:a,g:o,b:s}=(0,i.Z)(e.backgroundSecondary);return{":hover":{backgroundColor:t?`rgba(${a}, ${o}, ${s}, 0.5)`:"auto"},cursor:t?"pointer":"auto",fontSize:n.Z.size[12],overflow:"auto",padding:r?"0.5rem 1.3rem":"1rem"}}),"")},5515:(t,e,r)=>{r.d(e,{Z:()=>o});var a=r(7914),n=r(256),i=r(7655);const o=(0,a.Z)("div",{target:"esak4d00"})((({height:t,theme:e})=>({backgroundColor:e.backgroundTertiary,height:t-164+"px",marginTop:"8.2rem",overflow:"scroll",[(0,i.Z)(n.Z.max.height[399])]:{height:t-157+"px",marginTop:"7.5rem"},[(0,i.Z)(n.Z.max.width[199])]:{height:t-127+"px",marginTop:"4.9rem"}})),"")},7987:(t,e,r)=>{r.d(e,{Z:()=>i});var a=r(7914),n=r(5271);const i=(0,a.Z)("p",{target:"e15fws500"})((({selected:t=!1,theme:e})=>({color:t?e.activeText:"inherit",fontSize:n.Z.size[14],lineHeight:1.3,paddingBottom:"0.5rem",paddingTop:"1rem"})),"")}},t=>{t.O(0,[197,970,839,991,527,689],(()=>t(t.s=1226))),t.O()}]);
//# sourceMappingURL=podcastProfile.widget.js.map
</script>

</body>
</html>

"use strict";(self.webpackChunkfirestorm=self.webpackChunkfirestorm||[]).push([["default-src_app_shared_components_recommendation_recommendation_component_ts"],{612:(j,g,s)=>{s.d(g,{N:()=>Y});var p=s(3225),i=s(3184),v=s(5857),u=s(7604),f=s(4080),h=s(8914),x=s(1949),c=s(6362),m=s(3763),T=s(5473);function y(e,l){1&e&&i._UZ(0,"div",2)}function C(e,l){if(1&e&&(i.TgZ(0,"div",26),i._uU(1),i.qZA()),2&e){const n=i.oxw(3).$implicit;i.xp6(1),i.hij(" ",null==n||null==n.mapDetails?null:n.mapDetails.display," ")}}function P(e,l){if(1&e&&(i.TgZ(0,"del"),i.TgZ(1,"span",27),i._uU(2),i.TgZ(3,"span",28),i._uU(4,"striked off"),i.qZA(),i.qZA(),i.qZA()),2&e){const n=i.oxw(3).$implicit;i.xp6(2),i.hij("",null==n?null:n.regularPriceDisplay," ")}}function A(e,l){if(1&e&&(i.TgZ(0,"span",28),i._uU(1),i.qZA()),2&e){const n=i.oxw(4).$implicit,t=i.oxw(4);i.xp6(1),i.Oqu(t.getFinalPriceStrikeOff(null==n||null==n.mapDetails?null:n.mapDetails.setting)?"striked off":"")}}function O(e,l){if(1&e&&(i.TgZ(0,"span",29),i.TgZ(1,"span",30),i._uU(2),i.YNc(3,A,2,1,"span",31),i.qZA(),i.qZA()),2&e){const n=i.oxw(3).$implicit,t=i.oxw(4);i.Q6J("ngClass","true"==(null==n?null:n.mapviolation)&&t.getFinalPriceStrikeOff(null==n||null==n.mapDetails?null:n.mapDetails.setting)?"checkedClass":""),i.xp6(2),i.hij(" ",null==n?null:n.finalPriceDisplay," "),i.xp6(1),i.Q6J("ngIf",null==n?null:n.isBothPrice)}}function w(e,l){if(1&e&&(i.TgZ(0,"span",28),i._uU(1),i.qZA()),2&e){const n=i.oxw(4).$implicit,t=i.oxw(4);i.xp6(1),i.Oqu(t.getFinalPriceStrikeOff(null==n||null==n.mapDetails?null:n.mapDetails.setting)?"striked off":"")}}function b(e,l){if(1&e&&(i.TgZ(0,"span",32),i.TgZ(1,"span",30),i._uU(2),i.YNc(3,w,2,1,"span",31),i.qZA(),i.qZA()),2&e){const n=i.oxw(3).$implicit,t=i.oxw(4);i.Q6J("ngClass",t.getFinalPriceStrikeOff(null==n||null==n.mapDetails?null:n.mapDetails.setting)?"checkedClass":""),i.xp6(2),i.hij(" ",null==n?null:n.singlePriceDisplay," "),i.xp6(1),i.Q6J("ngIf",null==n?null:n.isSinglePrice)}}function Z(e,l){if(1&e&&i._UZ(0,"div",33),2&e){const n=i.oxw(7);i.s9C("title",n.productName),i.Q6J("innerHTML",n.productNameTrim,i.oJD)}}function M(e,l){if(1&e&&i._UZ(0,"div",34),2&e){const n=i.oxw(7);i.Q6J("innerHTML",n.productName,i.oJD)}}function I(e,l){if(1&e&&(i.TgZ(0,"span",40),i.TgZ(1,"span",41),i._uU(2,"\u22c6"),i.qZA(),i._uU(3,"\u22c6 "),i.qZA()),2&e){const n=l.fill;i.ekj("full",100===n),i.xp6(1),i.Udp("width",n,"%")}}function N(e,l){if(1&e){const n=i.EpF();i.TgZ(0,"ngb-rating",42),i.NdJ("rateChange",function(a){return i.CHM(n),i.oxw(8).rate=a}),i.qZA()}if(2&e){i.oxw();const n=i.MAs(2),t=i.oxw(7);i.Q6J("rate",t.rate)("starTemplate",n)("readonly",!0)("max",5)}}function R(e,l){1&e&&(i.TgZ(0,"span",28),i._uU(1,"reviews for this product"),i.qZA())}function S(e,l){if(1&e&&(i.TgZ(0,"span",43),i._uU(1),i.YNc(2,R,2,0,"span",31),i.qZA()),2&e){const n=i.oxw(4).$implicit;i.xp6(1),i.hij("(",null==n?null:n.reviews,")"),i.xp6(1),i.Q6J("ngIf",(null==n?null:n.reviews)>0)}}function D(e,l){if(1&e&&(i.TgZ(0,"div",35),i.YNc(1,I,4,4,"ng-template",null,36,i.W1O),i.YNc(3,N,1,4,"ngb-rating",37),i.TgZ(4,"span",38),i.YNc(5,S,3,2,"span",39),i.qZA(),i.qZA()),2&e){const n=i.oxw(3).$implicit,t=i.oxw(4);i.xp6(3),i.Q6J("ngIf",t.rate>0),i.xp6(2),i.Q6J("ngIf",(null==n?null:n.reviews)>0)}}function k(e,l){if(1&e&&(i.TgZ(0,"div",44),i._uU(1),i.qZA()),2&e){const n=i.oxw(3).$implicit;i.xp6(1),i.hij("Sold by ",null==n?null:n.soldBy,"")}}const F=function(e){return{"review-soldBy":e}};function B(e,l){if(1&e&&(i.TgZ(0,"div"),i.TgZ(1,"div",12),i._UZ(2,"img",13),i.qZA(),i.TgZ(3,"div",14),i.YNc(4,C,2,1,"div",15),i.qZA(),i.TgZ(5,"div",16),i.TgZ(6,"div",17),i.YNc(7,P,5,1,"del",1),i._UZ(8,"br"),i.YNc(9,O,4,3,"span",18),i.YNc(10,b,4,3,"span",19),i.qZA(),i.qZA(),i.TgZ(11,"div",20),i.YNc(12,Z,1,2,"div",21),i.YNc(13,M,1,1,"div",22),i.qZA(),i.YNc(14,D,6,2,"div",23),i.TgZ(15,"div",24),i.YNc(16,k,2,1,"div",25),i.qZA(),i.qZA()),2&e){const n=i.oxw(2).$implicit,t=i.oxw(4);i.xp6(2),i.s9C("alt",null==n?null:n.title),i.Q6J("src",null==n?null:n.image,i.LSH),i.xp6(2),i.Q6J("ngIf","true"==(null==n?null:n.mapviolation)),i.xp6(3),i.Q6J("ngIf",null==n?null:n.isBothPrice),i.xp6(2),i.Q6J("ngIf",null==n?null:n.isBothPrice),i.xp6(1),i.Q6J("ngIf",null==n?null:n.isSinglePrice),i.xp6(2),i.Q6J("ngIf",t.isProductNameTrim),i.xp6(1),i.Q6J("ngIf",!t.isProductNameTrim),i.xp6(1),i.Q6J("ngIf",t.rate>0),i.xp6(1),i.Q6J("ngClass",i.VKq(11,F,0===t.rate)),i.xp6(1),i.Q6J("ngIf",null==n?null:n.soldBy)}}function L(e,l){if(1&e){const n=i.EpF();i.TgZ(0,"div",11),i.NdJ("click",function(){i.CHM(n);const a=i.oxw().$implicit;return i.oxw(4).navigation(a)}),i.YNc(1,B,17,13,"div",1),i.qZA()}if(2&e){const n=i.oxw().$implicit,t=i.oxw(4);i.xp6(1),i.Q6J("ngIf",t.details(n))}}function E(e,l){if(1&e&&(i.ynx(0),i.YNc(1,L,2,1,"ng-template",10),i.BQk()),2&e){const n=l.$implicit;i.xp6(1),i.Q6J("id",null==n?null:n.id)}}function J(e,l){if(1&e){const n=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",5),i._uU(2),i.qZA(),i.TgZ(3,"owl-carousel-o",6,7),i.NdJ("click",function(){return i.CHM(n),i.MAs(4).stopAutoplay()}),i.ynx(5,8),i.YNc(6,E,2,1,"ng-container",9),i.BQk(),i.qZA(),i.qZA()}if(2&e){const n=i.oxw().$implicit,t=i.oxw(2);i.xp6(2),i.Oqu(null==n?null:n.explanation),i.xp6(1),i.Q6J("options",t.recommendedAndTsOptionsConfig),i.xp6(3),i.Q6J("ngForOf",null==n?null:n.items)}}function U(e,l){if(1&e&&(i.TgZ(0,"div",4),i.YNc(1,J,7,3,"div",1),i.qZA()),2&e){const n=l.$implicit;i.xp6(1),i.Q6J("ngIf",(null==n||null==n.items?null:n.items.length)>=5)}}function Q(e,l){1&e&&i._UZ(0,"div",2)}function q(e,l){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,U,2,1,"div",3),i.YNc(2,Q,1,0,"div",0),i.qZA()),2&e){const n=i.oxw();i.xp6(1),i.Q6J("ngForOf",n.recommendationsAndTopSelling),i.xp6(1),i.Q6J("ngIf",(null==n.recommendation||null==n.recommendation.items?null:n.recommendation.items.length)>=5)}}let Y=(()=>{class e{constructor(n,t,a,o,d){this.router=n,this.recommendationsService=t,this.logger=a,this.config=o,this.analyticsService=d,this.recommendedAndTsOptionsConfig=p.gw,this.analyticsListCount=0,this.showRecommendationFlag=!1}ngOnInit(){}navigation(n){var t;let a=null===(t=n.category)||void 0===t?void 0:t.split("_"),o={itemId:null!=n.id?n.id:n.partNum,item_part_num:n.partNum,item_ssin:"NA",main_item_ssin:"NA",item_type:"product",product_type:"individual",itemName:null==n?void 0:n.title,affiliation:"SEARS",coupon:"",currency:"USD",itemDiscount:(null==n?void 0:n.discount)?parseFloat(null==n?void 0:n.discount):parseFloat("00.00"),index:0,itemBrand:null==n?void 0:n.brandName,item_list_id:this.list_id,item_list_name:this.list_name+(null==a?void 0:a.join("_")),itemVariant:void 0,storeId:this.config.getStoreId(),itemPrice:parseFloat(null==n?void 0:n.strike_price),quantity:1,categoryList:a,item_categories:null==a?void 0:a.join("|"),item_sold_by:null==n?void 0:n.soldBy,item_price_string:null==n?void 0:n.strike_price,item_fulfill_by:"NA",brandName:null==n?void 0:n.brandName};this.analyticsService.setSelectItemEvent(o),this.router.navigateByUrl(null==n?void 0:n.url)}getFinalPriceStrikeOff(n){return 1==n||2==n||3==n}details(n){return this.rate=Number(null==n?void 0:n.rating),this.productName=null==n?void 0:n.title,(null==n?void 0:n.title.length)>65?(this.isProductNameTrim=!0,this.productNameTrim=(null==n?void 0:n.title.substring(0,64))+"..."):this.isProductNameTrim=!1,!0}analyticsSetViewItemList(n,t,a){this.itemsList=[],null==n||n.forEach((o,d)=>{var r;let _=null===(r=o.category)||void 0===r?void 0:r.split("_"),$={item_id:null!=o.id?o.id:o.partNum,item_part_num:o.partNum,item_ssin:"NA",main_item_ssin:"NA",item_type:"product",product_type:"individual",item_name:o.title,affiliation:"SEARS",coupon:"",currency:"USD",discount:(null==o?void 0:o.discount)?parseFloat(null==o?void 0:o.discount):parseFloat("00.00"),index:this.analyticsListCount++,item_brand:null==o?void 0:o.brandName,item_category:(null==_?void 0:_.length)>0?_[0]:"",item_category2:(null==_?void 0:_.length)>1?_[1]:"",item_category3:(null==_?void 0:_.length)>2?_[2]:"",item_category4:(null==_?void 0:_.length)>3?_[3]:"",item_list_id:t,item_list_name:a+(null==_?void 0:_.join("_")),item_variant:void 0,location_id:this.config.getStoreId(),price:parseFloat(null==o?void 0:o.strike_price),quantity:1,item_categories:null==_?void 0:_.join("|"),item_sold_by:null==o?void 0:o.soldBy,price_string:null==o?void 0:o.strike_price,item_fulfill_by:"NA"};this.itemsList.push($)}),this.analyticsService.setViewItemListEvent(this.itemsList)}ngOnChanges(){var n;(null===(n=window.siteFeatureFlags)||void 0===n?void 0:n.showRecommendation)&&(this.showRecommendationFlag=!0,this.CallAnalytics())}CallAnalytics(){let n=Object.assign({});this.categoryList=[],null!=this.category1&&(n.item_category=this.category1,this.categoryList.push(this.category1)),null!=this.category2&&(n.item_category2=this.category2,this.categoryList.push(this.category2)),null!=this.category3&&(n.item_category3=this.category3,this.categoryList.push(this.category3)),this.serviceType=this.recommendationFlag?"rec":this.topSellingFlag?"top":this.bestSellerFlag?"best":"cart",this.recommendationsService.getRecommendationsOrTopSelling(n,this.serviceType).subscribe(t=>{var a,o;this.recommendationsAndTopSelling=null==t?void 0:t.schemes,(null===(a=null==t?void 0:t.schemes[0])||void 0===a?void 0:a.items.length)>0&&(this.recommendationFlag?(this.list_id="recommendation_list",this.list_name="RL_"):this.topSellingFlag?(this.list_id="top_selling_list",this.list_name="TL_"):this.bestSellerFlag?(this.list_id="specified_best_seller_list",this.list_name="SBSL"):(this.list_id="cart_recommendation_list",this.list_name="TL_Cart Recommendation List"),this.analyticsSetViewItemList(null===(o=null==t?void 0:t.schemes[0])||void 0===o?void 0:o.items,this.list_id,this.list_name)),this.priceManipulation()},t=>{this.logger.error("Recommendation Component","Ngoninit","recommendationsService topSelling error",t)})}priceManipulation(){this.recommendationsAndTopSelling[0].items.map(n=>{(null==n?void 0:n.finalPriceDisplay)&&(null==n?void 0:n.regularPriceDisplay)?(this.isBothPrice=!0,this.isSinglePrice=!1):(null==n?void 0:n.finalPriceDisplay)||n.regularPriceDisplay?(this.isSinglePrice=!0,this.isBothPrice=!1,this.singlePriceDisplay=(null==n?void 0:n.finalPriceDisplay)||(null==n?void 0:n.regularPriceDisplay),n.singlePriceDisplay=this.singlePriceDisplay):(this.isBothPrice=!1,this.isSinglePrice=!1),n.isBothPrice=this.isBothPrice,n.isSinglePrice=this.isSinglePrice})}}return e.\u0275fac=function(n){return new(n||e)(i.Y36(v.F0),i.Y36(u.z),i.Y36(f.m),i.Y36(h.E),i.Y36(x.y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-recommendation"]],inputs:{recommendationFlag:"recommendationFlag",topSellingFlag:"topSellingFlag",bestSellerFlag:"bestSellerFlag",cartRecFlag:"cartRecFlag",category1:"category1",category2:"category2",category3:"category3"},features:[i.TTD],decls:2,vars:2,consts:[["class","recommendation-border-bottom",4,"ngIf"],[4,"ngIf"],[1,"recommendation-border-bottom"],["class","recAndTsdiv",4,"ngFor","ngForOf"],[1,"recAndTsdiv"],["tabindex","0",1,"recommendedProducts","custom-h5"],[1,"review-slider",3,"options","click"],["owlCar",""],[1,"product-slick"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"recAndTsItem",3,"click"],[1,"image-container"],["tabindex","0","width","245px","height","245px","loading","lazy",1,"img-fluid-product",3,"src","alt"],[1,"sale-new-block"],["class","map-display","role","button","tabindex","0","aria-label","See price in cart",4,"ngIf"],[1,"price-block"],[1,"custom-h4"],["class","final-price-display",3,"ngClass",4,"ngIf"],["class","samePriceClass",3,"ngClass",4,"ngIf"],[1,"recAndTsTitleBlock"],["tabindex","0","class","recAndTsTitle",3,"title","innerHTML",4,"ngIf"],["tabindex","0","class","recAndTsTitle",3,"innerHTML",4,"ngIf"],["class","product-rating",4,"ngIf"],["tabindex","0",1,"soldByBlock",3,"ngClass"],["class","soldBy",4,"ngIf"],["role","button","tabindex","0","aria-label","See price in cart",1,"map-display"],["tabindex","0",1,"money"],[1,"sr-only"],[1,"final-price-display",3,"ngClass"],["tabindex","0"],["class","sr-only",4,"ngIf"],[1,"samePriceClass",3,"ngClass"],["tabindex","0",1,"recAndTsTitle",3,"title","innerHTML"],["tabindex","0",1,"recAndTsTitle",3,"innerHTML"],[1,"product-rating"],["t",""],["aria-label","rating",3,"rate","starTemplate","readonly","max","rateChange",4,"ngIf"],["tabindex","0",1,"product-reviewBlock"],["class","product-review",4,"ngIf"],[1,"star"],[1,"half"],["aria-label","rating",3,"rate","starTemplate","readonly","max","rateChange"],[1,"product-review"],[1,"soldBy"]],template:function(n,t){1&n&&(i.YNc(0,y,1,0,"div",0),i.YNc(1,q,3,2,"div",1)),2&n&&(i.Q6J("ngIf",t.showRecommendationFlag),i.xp6(1),i.Q6J("ngIf",t.showRecommendationFlag))},directives:[c.O5,c.sg,m.Fy,m.Mp,c.mk,T.OC],styles:[".youMayWantToCheckout[_ngcontent-%COMP%]{padding:10px;font-family:Lato!important;font-size:16px}h5[_ngcontent-%COMP%]{color:#001733}.recommendedProducts[_ngcontent-%COMP%], .topSelling[_ngcontent-%COMP%]{margin:0 0 -11px!important;font-weight:600!important;font-family:Lato!important;font-size:1.5rem!important;line-height:2.2rem!important;letter-spacing:normal}.recAndTsdiv[_ngcontent-%COMP%]{padding:10px}.recAndTsTitle[_ngcontent-%COMP%]{min-height:25px;font-size:15px;line-height:22px;color:#001733;margin-top:2px;overflow:hidden;max-width:100%;display:inline-block;font-weight:600px;font-family:Lato!important;height:65px}.recAndTsTitleBlock[_ngcontent-%COMP%]{background-color:#fff!important;margin-bottom:5px}.recAndTsItem[_ngcontent-%COMP%]{padding:10px;margin:10px}.product-rating[_ngcontent-%COMP%]{margin-top:-2px;height:35px;margin-bottom:10px;display:flex}.star[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:2rem;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:var(--link-text-color)}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:var(--link-text-color)}.product-review[_ngcontent-%COMP%]{margin-top:15px!important;margin-left:5px!important;color:var(--theme-bg-color)}.image-container[_ngcontent-%COMP%]{max-width:-moz-max-content;max-width:max-content;height:140px;background-repeat:no-repeat!important;background-size:200px 200px!important;margin:auto}.img-fluid-product[_ngcontent-%COMP%]{max-width:100%;height:120px}.image-cls[_ngcontent-%COMP%]{width:100%!important}@media (max-width: 991px){.img-fluid-product[_ngcontent-%COMP%]{max-width:100%;height:-webkit-fill-available}.image-container[_ngcontent-%COMP%]{height:200px}}.sale-new-block[_ngcontent-%COMP%]{min-height:30px;background-color:#fff!important}.map-display[_ngcontent-%COMP%]{color:#001733;font-size:14px;line-height:20px;text-align:left;font-weight:600}.price-block[_ngcontent-%COMP%]{min-height:1px;height:50px;background-color:#fff!important}.checkedClass[_ngcontent-%COMP%]{text-decoration:line-through!important}.final-price-display[_ngcontent-%COMP%]{color:#d01833;font-size:20px;font-weight:600}.samePriceClass[_ngcontent-%COMP%]{color:#000}  .recommendation-border-bottom{border-top:1px solid #dddddd;margin:15px 0}.soldBy[_ngcontent-%COMP%]{font-size:13px!important;color:#001733!important;margin-top:.6rem;font-weight:500}.soldByBlock[_ngcontent-%COMP%]{background-color:#fff!important}.product-reviewBlock[_ngcontent-%COMP%]{background-color:#fff!important;margin-top:15px}.money[_ngcontent-%COMP%]{color:#737373!important}.review-soldBy[_ngcontent-%COMP%]{margin-top:48px}@media screen and (min-width: 420px){.recAndTsItem[_ngcontent-%COMP%]{padding:10px 3px}}"]}),e})()}}]);
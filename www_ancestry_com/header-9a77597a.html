<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>header-9a77597a.html</title>
</head>
<body>

<script>
!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ae(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}var e,n,a,i=(function(e){e.exports=function(){function o(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function s(e){return typeof e==="function"}var e=void 0;if(Array.isArray){e=Array.isArray}else{e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var n=e,a=0,t=void 0,i=void 0,r=function e(t,n){w[a]=t;w[a+1]=n;a+=2;if(a===2){if(i){i(E)}else{C()}}};function c(e){i=e}function u(e){r=e}var l=typeof window!=="undefined"?window:undefined,d=l||{},f=d.MutationObserver||d.WebKitMutationObserver,m=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]",g=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function p(){return function(){return process.nextTick(E)}}function h(){if(typeof t!=="undefined"){return function(){t(E)}}return b()}function v(){var e=0;var t=new f(E);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;e.port1.onmessage=E;return function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(E,1)}}var w=new Array(1e3);function E(){for(var e=0;e<a;e+=2){var t=w[e];var n=w[e+1];t(n);w[e]=undefined;w[e+1]=undefined}a=0}function I(){try{var e=Function("return this")().require("vertx");t=e.runOnLoop||e.runOnContext;return h()}catch(e){return b()}}var C=void 0;if(m){C=p()}else if(f){C=v()}else if(g){C=y()}else if(l===undefined&&typeof ae==="function"){C=I()}else{C=b()}function T(e,t){var n=this;var o=new this.constructor(L);if(o[_]===undefined){$(o)}var a=n._state;if(a){var i=arguments[a-1];r(function(){return z(a,o,i,n._result)})}else{j(n,o,e,t)}return o}function A(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var n=new t(L);O(n,e);return n}var _=Math.random().toString(36).substring(2);function L(){}var S=void 0,k=1,B=2;function M(){return new TypeError("You cannot resolve a promise with itself")}function D(){return new TypeError("A promises callback cannot return that same promise.")}function x(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}function N(e,o,a){r(function(t){var n=false;var e=x(a,o,function(e){if(n){return}n=true;if(o!==e){O(t,e)}else{H(t,e)}},function(e){if(n){return}n=true;q(t,e)},"Settle: "+(t._label||" unknown promise"));if(!n&&e){n=true;q(t,e)}},e)}function P(t,e){if(e._state===k){H(t,e._result)}else if(e._state===B){q(t,e._result)}else{j(e,undefined,function(e){return O(t,e)},function(e){return q(t,e)})}}function U(e,t,n){if(t.constructor===e.constructor&&n===T&&t.constructor.resolve===A){P(e,t)}else{if(n===undefined){H(e,t)}else if(s(n)){N(e,t,n)}else{H(e,t)}}}function O(t,e){if(t===e){q(t,M())}else if(o(e)){var n=void 0;try{n=e.then}catch(e){q(t,e);return}U(t,e,n)}else{H(t,e)}}function R(e){if(e._onerror){e._onerror(e._result)}F(e)}function H(e,t){if(e._state!==S){return}e._result=t;e._state=k;if(e._subscribers.length!==0){r(F,e)}}function q(e,t){if(e._state!==S){return}e._state=B;e._result=t;r(R,e)}function j(e,t,n,o){var a=e._subscribers;var i=a.length;e._onerror=null;a[i]=t;a[i+k]=n;a[i+B]=o;if(i===0&&e._state){r(F,e)}}function F(e){var t=e._subscribers;var n=e._state;if(t.length===0){return}var o=void 0,a=void 0,i=e._result;for(var r=0;r<t.length;r+=3){o=t[r];a=t[r+n];if(o){z(n,o,a,i)}else{a(i)}}e._subscribers.length=0}function z(e,t,n,o){var a=s(n),i=void 0,r=void 0,c=true;if(a){try{i=n(o)}catch(e){c=false;r=e}if(t===i){q(t,D());return}}else{i=o}if(t._state!==S);else if(a&&c){O(t,i)}else if(c===false){q(t,r)}else if(e===k){H(t,i)}else if(e===B){q(t,i)}}function G(n,e){try{e(function e(t){O(n,t)},function e(t){q(n,t)})}catch(e){q(n,e)}}var V=0;function J(){return V++}function $(e){e[_]=V++;e._state=undefined;e._result=undefined;e._subscribers=[]}function W(){return new Error("Array Methods must be provided an Array")}var Y=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(L);if(!this.promise[_]){$(this.promise)}if(n(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){H(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0){H(this.promise,this._result)}}}else{q(this.promise,W())}}e.prototype._enumerate=function e(t){for(var n=0;this._state===S&&n<t.length;n++){this._eachEntry(t[n],n)}};e.prototype._eachEntry=function e(t,n){var o=this._instanceConstructor;var a=o.resolve;if(a===A){var i=void 0;var r=void 0;var c=false;try{i=t.then}catch(e){c=true;r=e}if(i===T&&t._state!==S){this._settledAt(t._state,n,t._result)}else if(typeof i!=="function"){this._remaining--;this._result[n]=t}else if(o===te){var s=new o(L);if(c){q(s,r)}else{U(s,t,i)}this._willSettleAt(s,n)}else{this._willSettleAt(new o(function(e){return e(t)}),n)}}else{this._willSettleAt(a(t),n)}};e.prototype._settledAt=function e(t,n,o){var a=this.promise;if(a._state===S){this._remaining--;if(t===B){q(a,o)}else{this._result[n]=o}}if(this._remaining===0){H(a,this._result)}};e.prototype._willSettleAt=function e(t,n){var o=this;j(t,undefined,function(e){return o._settledAt(k,n,e)},function(e){return o._settledAt(B,n,e)})};return e}();function X(e){return new Y(this,e).promise}function Z(a){var i=this;if(n(a))return new i(function(e,t){for(var n=a.length,o=0;o<n;o++)i.resolve(a[o]).then(e,t)});else return new i(function(e,t){return t(new TypeError("You must pass an array to race."))})}function K(e){var t=new this(L);return q(t,e),t}function Q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function t(e){this[_]=J();this._result=this._state=undefined;this._subscribers=[];if(L!==e){typeof e!=="function"&&Q();this instanceof t?G(this,e):ee()}}t.prototype.catch=function e(t){return this.then(null,t)};t.prototype.finally=function e(t){var n=this;var o=n.constructor;if(s(t)){return n.then(function(e){return o.resolve(t()).then(function(){return e})},function(e){return o.resolve(t()).then(function(){throw e})})}return n.then(t,t)};return t}();function ne(){var e=void 0;if(void 0!==oe)e=oe;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=te}return te.prototype.then=T,te.all=function(e){return new Y(this,e).promise},te.race=function(a){var i=this;return n(a)?new i(function(e,t){for(var n=a.length,o=0;o<n;o++)i.resolve(a[o]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},te.resolve=A,te.reject=function(e){var t=new this(L);return q(t,e),t},te._setScheduler=function(e){i=e},te._setAsap=function(e){r=e},te._asap=r,te.polyfill=function(){var e=void 0;if(void 0!==oe)e=oe;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=te},te.Promise=te}()}(e={exports:{}}),e.exports),c="navHome",h="navTrees",p="navHints",u="navMessages",f="navNotifications",s="navDna",l="user",m="navMessagesCount",g="hmtTwo",v="HMT1",y="Hints-Badge-Active",b="Hints-Badge-Inactive",w="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==w&&w,E="URLSearchParams"in w,I="Symbol"in w&&"iterator"in Symbol,C="FileReader"in w&&"Blob"in w&&function(){try{return new Blob,!0}catch(e){return!1}}(),T="FormData"in w,A="ArrayBuffer"in w;function _(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function L(e){return"string"!=typeof e&&(e=String(e)),e}function S(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return I&&(e[Symbol.iterator]=function(){return e}),e}function k(t){this.map={},t instanceof k?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function B(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function M(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function D(e){var t=new FileReader,n=M(t);return t.readAsArrayBuffer(e),n}function x(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:C&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:T&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:E&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():A&&C&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=x(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):A&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=x(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):E&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},C&&(this.blob=function(){var e=B(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=B(this);return e?e:ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)}return this.blob().then(D)}),this.text=function(){var e,t,n=B(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=M(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},T&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}A&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&-1<n.indexOf(Object.prototype.toString.call(e))}),k.prototype.append=function(e,t){e=_(e),t=L(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},k.prototype.delete=function(e){delete this.map[_(e)]},k.prototype.get=function(e){return e=_(e),this.has(e)?this.map[e]:null},k.prototype.has=function(e){return this.map.hasOwnProperty(_(e))},k.prototype.set=function(e,t){this.map[_(e)]=L(t)},k.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},k.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),S(n)},k.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),S(t)},k.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),S(n)},I&&(k.prototype[Symbol.iterator]=k.prototype.entries);var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(e,t){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o=(t=t||{}).body;if(e instanceof U){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new k(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new k(t.headers)),this.method=(n=t.method||this.method||"GET",e=n.toUpperCase(),-1<P.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((t=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(t,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function O(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function R(e,t){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new k(t.headers),this.url=t.url||"",this._initBody(e)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})},N.call(U.prototype),N.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new k(this.headers),url:this.url})},R.error=function(){var e=new R(null,{status:0,statusText:""});return e.type="error",e};var H=[301,302,303,307,308];R.redirect=function(e,t){if(-1===H.indexOf(t))throw new RangeError("Invalid status code");return new R(null,{status:t,headers:{location:e}})};var q=w.DOMException;try{new q}catch(e){(q=function(e,t){this.message=e,this.name=t;e=Error(e);this.stack=e.stack}).prototype=Object.create(Error.prototype),q.prototype.constructor=q}function j(o,r){return new Promise(function(a,e){var t=new U(o,r);if(t.signal&&t.signal.aborted)return e(new q("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,n,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",n=new k,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),e=t.shift().trim();e&&(t=t.join(":").trim(),n.append(e,t))}),n)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout(function(){a(new R(o,t))},0)},i.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){e(new q("Aborted","AbortError"))},0)},i.open(t.method,function(t){try{return""===t&&w.location.href?w.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&(C?i.responseType="blob":A&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof k?t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}):Object.getOwnPropertyNames(r.headers).forEach(function(e){i.setRequestHeader(e,L(r.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}j.polyfill=!0,w.fetch||(w.fetch=j,w.Headers=k,w.Request=U,w.Response=R);function F(e){if(200<=e.status&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function z(e){var t=JSON.parse(e);return t.displayHintsPreferences?((e=t).menuitems.forEach(function(e){e.text=e.text.replace("{treeName}",e.treeName)}),e):t}var G=function(t){return fetch(t.url,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){e.json().then(function(e){t.success&&t.success(e)})}).catch(function(e){"NO RESPONSE TEXT"===e.message?t.success&&t.success({}):t.error&&t.error(e)})},V=function(t,e){return fetch(t.url,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).catch(function(e){"NO RESPONSE TEXT"===e.message?t.success&&t.success({}):t.error&&t.error(e)})},J=function(t,e){return fetch(t.url,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).catch(function(e){"NO RESPONSE TEXT"===e.message?t.success&&t.success({}):t.error&&t.error(e)})},W=function(t){var e,n=window.navigator,o=/(?:Windows|compatible).{0,80}?\bTrident\W[78]\.\d/i.test((void 0===n?{userAgent:""}:n).userAgent);return fetch(t.url,(e=o,n={credentials:"include"},o=new Headers({pragma:"no-cache","cache-control":"must-revalidate",expires:-1}),e&&(n.headers=o),n)).then(F).then(function(e){return e.text()}).then(function(e){return t.middlewareCall&&t.middlewareCall(JSON.parse(e)),e}).then(function(e){return function(e,t){if(""===e)throw new Error("NO RESPONSE TEXT");return e.replace(/\${(.+?)}/gm,function(e){return t[e.replace(/[{}$]/gi,"")]})}(e,t.langResources)}).then(t.contentTypeParser||z).then(function(e){t.success(e)}).catch(function(e){"NO RESPONSE TEXT"===e.message?t.success({}):t.error&&t.error(e)})},Y=5e3,X=6e4;function Z(e,t,n,o,a,i,r){var c,s=Date.now(),u=t.url,l=t.langResources,t=t.lastReqTimeVals;(c=e,(t=t)?t.filter(function(e){return e.key===c})[0].lastRequestedTime:0)+Y<s&&(o(e,Date.now()),r={url:u,langResources:l,middlewareCall:r,success:function(e){n(null,e)}},a&&(r.error=function(e){return a(e)}),i&&(r.contentTypeParser=i),W(r))}function K(e,t,n,o,a,i){var r,c=-1;!function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),1}catch(e){return}}()||0===document.location.pathname.toLowerCase().indexOf("/messaging")||(r=JSON.parse(window.localStorage.getItem("unreadmessagecount")))&&r.timestamp&&r.timestamp>(new Date).getTime()-X&&void 0!==r.count&&n(!1,{unreadCount:c=r.count,doNotStore:!0}),-1===c&&Z(e,t,n,o,a,i)}var Q="Yesterday",ee={en:"Yesterday",af:"Gister",es:"Ayer",fr:"Hier",de:"Gestern",it:"Ieri",ru:"Вчера",zh:"昨",vi:"Hôm qua",sv:"I går"};function te(e,t){return e.getFullYear()===t.getFullYear()}function ne(e,t){return te(n=e,o=t)&&n.getMonth()===o.getMonth()&&e.getDate()===t.getDate();var n,o}function ie(e,t){var n,o,a=new Date(1e3*t),t=new Date;return te(a,t)?ne(a,t)?(o=e,a.toLocaleTimeString(o,{hour:"2-digit",minute:"2-digit"})):(o=a,ne(new Date(t.getTime()-864e5),o)?(n=(n=e).split("-")[0],ee[n]||Q):(n=e,a.toLocaleDateString(n||"en-US",{day:"numeric",month:"long"}))):(e=e,a.toLocaleDateString(e||"en-US",{day:"numeric",month:"long",year:"numeric"}))}var re=/^[a-z\u00C0-\u017F]/i,ce=["bgDark bgColor1","bgDark bgColor2","bgDark bgColor3","bgDark bgColor4","bgDark bgColor5","bgDark bgColor6","bgDark bgColor7","bgColor8","bgDark bgColor9","bgDark bgColor10"];var se,ue=function(o,a,i){var r=+new Date+(a||2e3);i=i||100;var c=function(e,t){var n=o();n?e(n):+new Date<r?setTimeout(c,i,e,t):t(new Error("timed out for ".concat(o,": ").concat(a,", ").concat(i)))};return new Promise(c)};(se=window.Element).prototype.closest||(se.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=t&&n.item(t)!==o;)--t}while(t<0&&(o=o.parentElement));return o}),se.prototype.matches||(se.prototype.matches=se.prototype.matchesSelector||se.prototype.mozMatchesSelector||se.prototype.msMatchesSelector||se.prototype.oMatchesSelector||se.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=n&&t.item(n)!==this;)--n;return-1<n}),window.NodeList&&!window.NodeList.prototype.forEach&&(window.NodeList.prototype.forEach=function(e,t){for(var n=t||window,o=0;o<this.length;o++)e.call(n,this[o],o,this)}),[se.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})});function le(e){for(var t=e,n=[];t&&t.parentNode&&t!==t.parentNode;)n.push(t.parentNode),t=t.parentNode;return n}var de={deleteCookie:function(e,t,n,o,a){o=o||window,a=a||document,o=t||o.location.hostname.replace(/.+?\./,"."),a.cookie="".concat(e,"=; expires=").concat("Thu, 01 Jan 1970 00:00:00 UTC","; path=").concat(n||"/","; domain=").concat(o)},getCookie:function(e,t){for(var n="".concat(e,"="),o=(t||document).cookie.split(";"),a=o.length,i="";a--&&0<a;)if(0===(i=o[a-1].trim()).indexOf(n)){i=i.substring(n.length,i.length);break}return i},getAllParentNodes:le,getRandomNumber:function(e,t){return isNaN(e)||isNaN(t)?Date.now().toString()+Math.floor(1e3*Math.random()+1):Math.floor(Math.random()*(1+t-e)+e)},keyCodes:{down:40,enter:13,esc:27,left:37,leftBracket:219,right:39,rightBracket:221,shift:16,space:32,tab:9,up:38},setCookie:function(e,t,n,o,a,i,r){i=i||window,r=r||document,i=o||i.location.hostname.replace(/.+?\./,"."),i=o?"domain=".concat(o,"; "):"",o=a||"/",o=a?"path=".concat(o,"; "):"",(a=new Date).setTime(a.getTime()+864e5*(n||90)),a="expires=".concat(a.toUTCString()),o="".concat(e,"=").concat(t,"; ").concat(a,";").concat(i).concat(o),r.cookie=o},setDictionaryCookie:function(e,t,n,o,a,i){var r,c=e.toUpperCase(),s=t.toUpperCase(),u=this.getCookie(c);u=null==u?"".concat(s,"=").concat(n):-1===(e=(r=u.toLowerCase()).indexOf("".concat(s.toLowerCase(),"=")))?(0<u.length&&(u="".concat(u,"&")),"".concat(u).concat(s,"=").concat(n)):-1===(t=r.indexOf("&",e))?(0===e?"":"".concat(u.substring(0,e))).concat(s,"=").concat(n):(r=u,u="",0<e&&(u=r.substring(0,e)),"".concat(u).concat(s,"=").concat(n).concat(r.substring(t))),this.setCookie(c,u,o,a,i)},visible:function(e){var t=!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),e=le(e).push(e),e=!Array.prototype.filter.call(e,function(e,t){return"hidden"===window.getComputedStyle(t).visibility}).length;return t&&e}};function fe(){var e;-1===window.location.host.indexOf(".ancestry.")&&(e=console).warn.apply(e,arguments)}var me="Using fallback window.ui methods and polyfills. Update to ancestry-ui@1.0.0 or greater.";function ge(e){var e=e||window,e=e.ui?e.ui:(fe(me),de);return e.keyCodes?e.keyCodes.space||(e.keyCodes.space=32):e.keyCodes=de.keyCodes,e}var pe=function(e){return-1<["institution","library","classroom","conference"].indexOf(e)},he=/((([a-zA-Z]+(-[a-zA-Z0-9]+){0,2})|\*)(;q=[0-1](\.[0-9]+)?)?)*/g;var ve,ye,be,we,Ee,Ie,Ce,Te,Ae,_e,Le=function(e){return e?(e||"").match(he).map(function(e){if(e){var t=e.split(";"),n=t[0].split("-"),e=3===n.length;return{code:n[0],script:e?n[1]:null,region:e?n[2]:n[1],quality:t[1]?parseFloat(t[1].split("=")[1]):1}}}).filter(function(e){return e}).sort(function(e,t){return t.quality-e.quality}):null},Se=10,ke="btn-more-",Be={iconChat:"userCardImgRecordText",iconAdd:"userCardImgRecord",iconBirth:"userCardImgPictBirth",iconDeath:"userCardImgPictDeath",iconMarriage:"userCardImgPictMarriage",iconImage:"userCardImgPictPhoto",iconAvatarMale:"userCardImgNode icon iconAvatarMale",iconAvatarFemale:"userCardImgNode icon iconAvatarFemale",iconAvatarPerson:"userCardImgNode icon iconAvatarPerson",iconPerson:"userCardImgPictProfile",iconLike:"userCardImgPictMilestone",iconCamera:"userCardImgPictPhoto",iconPeopleGroup:"userCardImgPictUsers",iconEthnicity:"userCardImgPictEthnicity",iconPotentialAncestor:"icon iconMale potential"},Me={badgeLeaf:"iconLeaf",badgeDna:"iconDna badgeColor1",badgeCamera:"iconCamera badgeColor3",badgeMessaging:"iconChat badgeColor3",badgeTreeAdd:"iconTreeAdd badgeColor3",badgeTreeFamily:"iconTreeFamily badgeColor3",badgeHeart:"iconHeart badgeColor2"},De=6e4;function xe(e){return new Date(e).getTime()}function Ne(e){var t={from:e.matches?"userCardSize3":"userCardSize2",to:e.matches?"userCardSize2":"userCardSize3"};document.getElementById("notificationCenterPanel_content").querySelectorAll(".".concat(t.from)).forEach(function(e){e.classList.remove(t.from),e.classList.add(t.to)})}var Pe=function(e,t){var n={};switch(e){case"allChangesCombined":n.cardClass="updatedThumbnails updatedSizes",n.showIndicator=!1,n.showIconBadge=!0,n.updatedTimeIndicator=!0,n.userCardSize="";break;case"unreadNotificationsIndicator":n.cardClass="updatedSizes",n.showIndicator=!1,n.showIconBadge=!1,n.updatedTimeIndicator=!1,n.userCardSize=t?"userCardSize2":"userCardSize3";break;case"thumbnailsAndCopy":case"updatedThumbnails":n.cardClass="updatedThumbnails",n.showIndicator=!0,n.showIconBadge=!0,n.updatedTimeIndicator=!0,n.userCardSize="";break;case"off":case"updatedCopy":default:n.cardClass="",n.showIndicator=!0,n.showIconBadge=!1,n.updatedTimeIndicator=!1,n.userCardSize=t?"userCardSize2":"userCardSize3"}return n};function Ue(e){var t,n,o=e.notificationUpdatesTreatment,a=Pe(o,Ce.matches),i=a.cardClass,r=a.showIndicator,c=a.showIconBadge,s=a.userCardSize,o=a.updatedTimeIndicator,a=r?'<div class="notificationCenter_unreadIndicator"><span class="hideVisually">'.concat(ye.UnreadLabel,"</span></div>"):"",r="";return c&&e.badgeType&&(c=e.badgeType&&Me[e.badgeType]?Me[e.badgeType]:"",r='<div class="userCardImgBadge"><div class="badgeWrapper badgePositionedBottomRight"><span aria-label="Has DNA" class="badge icon '.concat(c,'"></span></div></div>')),t=e.imageUrl?(n="userCardImg".concat("message_photo_owner"===e.programId?" photo":""),"<div".concat(e.displayName?"":' aria-hidden="true"',' class="').concat(n,'"><img').concat(e.displayName?' alt="'.concat(e.displayName,'"'):"",' src="').concat(e.imageUrl,'" /></div>')):e.icon?'<div aria-hidden="true" class="userCardImg '.concat(Be[e.icon],'"></div>'):((t=ve.getAvatarInfo(e.displayName)).classes.push("userCardImg"),n=t.classes.join(" "),'<div aria-label="'.concat(e.displayName,'" class="').concat(n,'" title="').concat(e.displayName,'">').concat(t.initials,"</div>")),'\n\t<li class="userCard_container'.concat(e.isRead?" notificationCenter_readNotification":""," ").concat(i,'">\n\t\t<a class="notificationCenterLink" href="').concat(e.destUrl,'">\n\t\t\t').concat(a,'\n\t\t\t<div class="userCard ').concat(s,'" role="group">\n\t\t\t\t').concat(r,"\n\t\t\t\t").concat(t,'\n\t\t\t\t<div class="userCardContent">\n\t\t\t\t\t<p class="userCardTitle">').concat(e.title," ").concat(e.content,"</p>\n\t\t\t\t\t").concat(o?"":'<div class="userCardInfo"><small>'.concat(e.period,"</small></div>"),"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t").concat(o?'<div class="updatedTimeIndicator"><small>'.concat(e.period,"</small></div>"):"",'\n\t\t</a>\n\t\t<button class="moreButton ').concat(o?" updatedTriggerButton":"",'" id="').concat(ke+e.notificationId,'" aria-label="').concat(ye.MoreFunctions,'"><span aria-hidden="true" class="icon iconMore"></span></button>\n\t</li>')}function Oe(e){var t=Ue({displayName:"",title:"",content:"",notificationId:"__notification-height-calc__",period:""}),n=e.querySelector("#new-notifications");n.insertAdjacentHTML("beforeend",t.trim());t=n.querySelector("#".concat(ke+"__notification-height-calc__")).closest(".userCard_container"),n=t.offsetHeight;t.remove(),Te=Math.round(e.clientHeight/n)+1}function Re(){var e=0===document.getElementById("notificationCenterPanel_content").querySelectorAll(".userCard_container").length;document.getElementById("notificationCenterPanel_content").classList.toggle("noDisplay",e),document.getElementById("notificationCenterPanel_empty").classList.toggle("noDisplay",!e)}function He(e,t,n){var o=ve.callout(e,{calloutClasses:"notificationCallout",content:'\n\t\t\t\t<ul class="calloutMenu notificationCenterPanelCallout" id="'.concat(e.id,'-menu">\n\t\t\t\t\t').concat(t,'\n\t\t\t\t\t<li><button class="link" id="').concat(e.id,'-dismiss">').concat(ye.Dismiss,"</button></li>\n\t\t\t\t</ul>\n\t\t\t"),onOpen:function(e){var t=e.element,e=document.getElementById("".concat(t.id,"-menu"));e.getAttribute("data-initialized")||(e.setAttribute("data-initialized",!0),(e=document.getElementById("".concat(t.id,"-mark")))&&e.addEventListener("click",function(e){window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : notification marked as read",action:"notificationMarkRead",mix_event_name:"CoreUI_NotificationInteracted",notificationActionType:"notificationMarkRead",notificationProgramId:n.programId,minutesSinceGeneration:Math.floor((Date.now()-xe(n.effectiveDateTimeUtc||n.effectiveDate))/De),notificationRead:n.isRead}),_e&&_e.trackUserBehavior("CoreUI_NotificationInteracted",{notificationActionType:"notificationMarkRead",notificationProgramId:n.programId,minutesSinceGeneration:Math.floor((new Date-xe(n.effectiveDateTimeUtc||n.effectiveDate))/De),notificationRead:n.isRead}),e.stopPropagation(),qe(t.id),o.close()}),document.getElementById("".concat(t.id,"-dismiss")).addEventListener("click",function(e){window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : notification dismissed",action:"notificationDismiss",mix_event_name:"CoreUI_NotificationInteracted",notificationActionType:"notificationDismiss",notificationProgramId:n.programId,minutesSinceGeneration:Math.floor((Date.now()-xe(n.effectiveDateTimeUtc||n.effectiveDate))/De),notificationRead:n.isRead}),_e&&_e.trackUserBehavior("CoreUI_NotificationInteracted",{notificationActionType:"notificationDismiss",notificationProgramId:n.programId,minutesSinceGeneration:Math.floor((new Date-xe(n.effectiveDateTimeUtc||n.effectiveDate))/De),notificationRead:n.isRead}),e.stopPropagation(),function(e){var t,n=document.getElementById(e),o=e.replace("btn-more-","");n.click();for(var a=0;a<be.notifications.length;++a)if(be.notifications[a].notificationId===o){t=be.notifications[a].programId,be.notifications.splice(a,1);break}J({url:"".concat(we,"/").concat(o,"?program_id=").concat(t)}).then(function(){var e=n.closest(".userCard_container"),t=e.closest(".notificationCenter_notificationList");e.remove(),0===t.querySelectorAll(".userCard_container").length&&(document.getElementById("notificationCenterPanel_content").querySelectorAll(".notificationCenter_groupLabel").forEach(function(e){e.classList.add("noDisplay")}),Re())})}(t.id)}))}})}function qe(e){for(var t,n,o=document.getElementById(e),a=e.replace("btn-more-",""),i=0;i<be.notifications.length;++i)if(be.notifications[i].notificationId===a){(t=be.notifications[i]).isRead=!0,n=t.programId;break}return V({url:"".concat(we,"/").concat(a,"?program_id=").concat(n)}).then(function(){o.closest(".userCard_container").classList.add("notificationCenter_readNotification"),He(o,"",t)})}function je(e,t,n){var o="",a=t.querySelector("h3"),i=t.querySelector("ul");e.length&&(e.forEach(function(e){o+=Ue(e)}),i?i.insertAdjacentHTML("beforeend","".concat(o)):t.insertAdjacentHTML("beforeend",'<ul class="notificationCenter_notificationList" aria-labelledby="'.concat(a.id,'">').concat(o,"</ul>"))),t.querySelectorAll(".userCard_container").length&&n?a.classList.remove("noDisplay"):a.classList.add("noDisplay")}function Fe(e,t){t.notifications||(t.notifications=[]);var n=be&&be.notifications?d(be.notifications):[];(be=r({},t)).notifications=[].concat(d(n),d(t.notifications)),document.getElementById("notificationCenterPanel").classList.remove("loading"),Ee=xe(be.lastViewedDateTimeUtc||be.lastViewedDate);var o={new:[],previous:[]},a=t&&t.notificationUpdatesTreatment?t.notificationUpdatesTreatment:"",i=new Map;t.notifications.forEach(function(e){var t,n=function(e){var t=(new Date).getTime(),n=xe(e.effectiveDateTimeUtc||e.effectiveDate);switch(!0){case(t=(t-n)/1e3)<60:e.period=ye.NowLabel;break;case t<3600:e.period="".concat(parseInt(t/60,10)).concat(ye.MinutesAgoAbbreviation);break;case t<86400:e.period="".concat(parseInt(t/3600,10)).concat(ye.HoursAgoAbbreviation);break;case t<604800:e.period="".concat(parseInt(t/86400,10)).concat(ye.DaysAgoAbbreviation);break;default:e.period="".concat(parseInt(t/604800,10)).concat(ye.WeeksAgoAbbreviation)}return Ee<=n}(e);n&&(t=i.get(e.programId)||0,i.set(e.programId,t+1)),e.notificationUpdatesTreatment=a,o[n?"new":"previous"].push(e)}),0===i.size?(window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : new notification program viewed",action:"notificationViewed",mix_event_name:"CoreUI_NewNotificationProgramViewed",notificationProgramId:"null",notificationCount:0}),_e&&_e.trackUserBehavior("CoreUI_NewNotificationProgramViewed",{notificationActionType:"notificationViewed",notificationProgramId:"null",notificationCount:0})):i.forEach(function(e,t){window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : new notification program viewed",action:"notificationViewed",mix_event_name:"CoreUI_NewNotificationProgramViewed",notificationProgramId:t,notificationCount:e}),_e&&_e.trackUserBehavior("CoreUI_NewNotificationProgramViewed",{notificationActionType:"notificationViewed",notificationProgramId:t,notificationCount:e})});n=o.new.length&&o.previous.length;je(o.new,e.querySelector("#new-notifications"),n),je(o.previous,e.querySelector("#previous-notifications"),n),Re(),t.notifications.forEach(function(t){var e=document.getElementById(ke+t.notificationId),n=e.closest(".userCard_container").querySelector(".notificationCenterLink");n.addEventListener("click",function(e){e.preventDefault(),window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : notifications link visit",action:"notificationVisit",mix_event_name:"CoreUI_NotificationInteracted",notificationActionType:"notificationVisit",notificationProgramId:t.programId,minutesSinceGeneration:Math.floor((Date.now()-xe(t.effectiveDateTimeUtc||t.effectiveDate))/De),notificationRead:t.isRead}),_e&&_e.trackUserBehavior("CoreUI_NotificationInteracted",{notificationActionType:"notificationVisit",notificationProgramId:t.programId,minutesSinceGeneration:Math.floor((new Date-xe(t.effectiveDateTimeUtc||t.effectiveDate))/De),notificationRead:t.isRead}),t.isRead?window.location.href=n.href:qe("btn-more-".concat(t.notificationId)).then(function(){window.location.href=n.href})}),He(e,t.isRead?"":'<li><button class="link" id="'.concat(e.id,'-mark">').concat(ye.MarkAsRead,"</button></li>"),t)})}function ze(t){var e=Ie?"&cursor=".concat(Ie):"";return G({url:"".concat(we,"/?limit=").concat(Te&&!isNaN(Te)?Te:Se).concat(e),success:function(e){Ie=e.cursor,t(e)}})}function Ge(e){var n=!1;e.addEventListener("scroll",function(){if(n)return null;var t=document.querySelector("#notificationCenterPanel_content"),e=document.querySelector(".userCard_container");t.scrollTop+t.clientHeight>=t.scrollHeight-e.clientHeight&&Ie&&(document.querySelector("#notificationCenterPanel_content").insertAdjacentHTML("beforeend",'<div aria-label="Loading" class="loading" id="notificationCenterPanel_spinner"></div>'),n=!0,ze(function(e){document.getElementById("notificationCenterPanel_spinner").remove(),n=!1,Fe(t,e)}))})}function Ve(t,e){var n;ve=ge(),ye=e.langResources,we=e.urlNotificationBase,_e=e.unifiedTrackingInstance,(Ce=window.matchMedia("(max-width: 767px)")).addEventListener?Ce.addEventListener("change",Ne):Ce.addListener(Ne),be=be&&null,n=t,e='<div id="new-notifications">\n\t\t\t<h3 class="notificationCenter_groupLabel noDisplay" id="new-notifications-heading">'.concat(ye.GroupNew,'</h3>\n\t\t</div>\n\t\t<div id="previous-notifications">\n\t\t\t<h3 class="notificationCenter_groupLabel noDisplay" id="previous-notifications-heading">').concat(ye.GroupPrevious,"</h3>\n\t\t</div>"),n.insertAdjacentHTML("afterbegin",e),Oe(t);var o,e=ze(function(e){return Fe(t,e),0});return Ge(t),o=t,window.addEventListener("resize",function(){clearTimeout(Ae),Ae=setTimeout(function(){return Oe(o)},100)}),e}var Je,$e,We,Ye,Xe,Ze,Ke,Qe,et,tt,nt,ot,at,it,rt,ct,st,ut,lt,dt=[],ft=!1;function mt(e,t,n,o){return e.addEventListener(t,n,o),{eventName:t,element:e,handler:n,options:o}}function gt(e){e.forEach(function(e){var t=e.element,n=e.eventName,o=e.handler,e=e.options;t.removeEventListener(n,o,e)})}function pt(){document.getElementById("notificationCenterPanel_close").focus()}function ht(e){var t=document.getElementById(f),n=document.getElementById("navNotificationsCount"),e=0<(n.innerText=e);n.classList.toggle("noDisplay",!e),t.classList.toggle("hasNotification",e)}function vt(){var e=window.matchMedia("only screen and (max-width: 760px)").matches,t=document.getElementById("HeaderRegion"),n=document.getElementById("notificationCenterPanel"),t=t.getBoundingClientRect().bottom,t=Math.max(t,0);n.style.setProperty("top",e?"0px":"".concat(t,"px")),n.style.setProperty("height",e?"100%":"calc(100% - ".concat(t,"px)"))}function yt(e){dt=e[e.length-1].isIntersecting?(vt(),[].concat(d(dt),[mt(document,"scroll",vt,{passive:!0})])):dt.filter(function(e){return"scroll"!==e.eventName||e.element!==document||e.handler!==vt||(gt([e]),!1)})}function bt(e){var t,o,a,n,i,r=document.getElementById(f),c=document.getElementById("notificationCenterPanel"),s=document.getElementById("notificationCenterPanel_feedback"),u=document.getElementById("notificationCenterPanel_close"),l=document.querySelector(".notificationCenterPanelCallout");e.stopPropagation(),e.preventDefault(),e.currentTarget===r&&"true"===c.getAttribute("aria-hidden")?(Je&&(Je().then(function(){ht(0)}),Je=null),o=bt,a=document.getElementById("notificationCenterPanel"),n=document.getElementById("notificationCenterPanel_close"),i=document.getElementById(f),t=[mt(document,"mouseup",function(e){a.contains(e.target)||i.contains(e.target)||o(e)}),mt(window,"keydown",function(e){var t=a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=document.getElementById("notificationCenterPanel_close"),t=t[t.length-1];"Escape"===e.key&&o(e),"Tab"===e.key&&(e.shiftKey||e.target!==t||(e.preventDefault(),e.stopPropagation(),pt()),e.shiftKey&&e.target===n&&(e.preventDefault(),e.stopPropagation(),t.focus()))}),mt(n,"click",o)],n=window.matchMedia("only screen and (max-width: 760px)").matches,vt(),n||We.observe(document.getElementById("HeaderRegion")),c.removeAttribute("aria-hidden"),r.setAttribute("aria-expanded","true"),u.removeAttribute("tabindex"),u.removeAttribute("disabled"),s&&(s.removeAttribute("aria-disabled"),s.setAttribute("href",s.getAttribute("data-href")),s.removeAttribute("data-href")),pt(),dt=[].concat(d(dt),d(t)),ft||(ft=!0,window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : notifications opened",action:"notificationsOpened",mix_event_name:"CoreUI_NotificationInteracted",notificationActionType:"notificationsOpened"}),Ye&&Ye.trackUserBehavior("CoreUI_NotificationInteracted",{notificationActionType:"notificationsOpened"}))):l&&l.contains(e.target)||(c.setAttribute("aria-hidden","true"),r.setAttribute("aria-expanded","false"),u.setAttribute("tabindex","-1"),u.setAttribute("disabled",""),s&&(s.setAttribute("aria-disabled","true"),s.setAttribute("data-href",s.getAttribute("href")),s.removeAttribute("href")),We.unobserve(document.getElementById("HeaderRegion")),document.getElementById(f).focus(),gt(dt),dt=[])}function wt(e){return e.NotificationsFeedbackPrompt}function Et(e){$e=ge(),Ye=e.unifiedTrackingInstance,We=new IntersectionObserver(yt);var t=e.langResources,n=e.cultureCode,o=e.showSurveyLink,a=$e.getCookie("LAU"),n=!!n&&"en"===n.split("-")[0],a=t.NotificationsFeedbackPrompt.replace("{openTag}",'<a id="notificationCenterPanel_feedback" data-href="https://ancestry.az1.qualtrics.com/jfe/form/SV_7aJE91wffQAULxI?ucdmid='.concat(a,'" target="_blank" aria-disabled="true">')).replace("{closeTag}","</a>"),a=o&&n?'<footer id="notificationCenterPanel_footer" class="textxsml">'.concat(a,"</footer>"):"",a='\n\t\t<aside id="notificationCenterPanel" class="bgLight loading" aria-hidden="true" aria-labelledby="notificationCenterPanel_heading">\n\t\t\t<header id="notificationCenterPanel_header">\n\t\t\t\t<h2 id="notificationCenterPanel_heading">'.concat(t.NotificationsTitle,'</h2>\n\t\t\t\t<button id="notificationCenterPanel_close" class="ancBtn noBorder icon iconClose" type="button" aria-label="').concat(t.Close,'" tabindex="-1" disabled></button>\n\t\t\t</header>\n\t\t\t<div id="notificationCenterPanel_content" role="feed">\n\t\t\t</div>\n\t\t\t<div id="notificationCenterPanel_empty" class="noDisplay textCenter">\n\t\t\t\t<svg role="presentation" width="80" height="80" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="80" height="80" rx="40" fill="#E5F0F1"/><path d="M30 36a12 12 0 0 1 24 0v10a4 4 0 0 0 4 4v4H26v-4a4 4 0 0 0 4-4V36Z" fill="#C8DBE5"/><path d="M44 27v-3a2 2 0 1 0-4 0v3h4Z" fill="#C8DBE5"/><rect x="46" y="22" width="20" height="12" rx="6" fill="#C8DBE5"/><path d="M40 22v0a12 12 0 0 0-12 12v10m-4 4v0a4 4 0 0 0 4-4v0m-4 4v4h16m0-30v0a12 12 0 0 1 12 12v10m4 4v0a4 4 0 0 1-4-4v0m4 4v4H40m2-30v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0M24.5 48.5h23M44 52a4 4 0 0 1-8 0" stroke="#234237" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><rect x="44.5" y="20.5" width="19" height="11" rx="5.5" fill="#E5F0F1"/><path d="M51 26a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" fill="#234237"/><rect x="44.5" y="20.5" width="19" height="11" rx="5.5" stroke="#234237"/></svg>\n\t\t\t\t<b class="topSpacingBlock">').concat(t.NotificationsEmptyStateMessage,"</b>\n\t\t\t\t<p>").concat(t.NotificationsEmptyStateDetails,"</p>\n\t\t\t</div>\n\t\t\t").concat(a,"\n\t\t</aside>");document.body.insertAdjacentHTML("beforeend",a),Je=function(){return Ve(document.getElementById("notificationCenterPanel_content"),e)},(a=document.getElementById(f))&&mt(a,"click",bt),vt()}function It(t,e){Ze.addLastRequestedTime||r(Ze,{lastReqTimeVals:[{key:l,lastRequestedTime:null},{key:h,lastRequestedTime:null},{key:p,lastRequestedTime:null},{key:u,lastRequestedTime:null},{key:s,lastRequestedTime:null},{key:m,lastRequestedTime:null}]}),Ze.lastReqTimeVals&&(Ze.lastReqTimeVals.filter(function(e){return e.key===t})[0].lastRequestedTime=e)}function Ct(){return function(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t|=0;return t}((document.cookie||"").split(";").map(function(e){return e.replace(/^\s+/,"")}).find(function(e){return-1<e.indexOf("ATT=")})||"")}function Tt(e,t){!function(e,t){if(window.sessionStorage&&"function"==typeof window.sessionStorage.setItem)try{window.sessionStorage.setItem(e,t)}catch(e){return}}(e,"".concat(t,":").concat(Ct()))}function At(e,t){var n=t.langResources,o=t.lastReqTimeVals,a={};return a[l]=t.urlGetNewUserInfo,a[h]=t.urlGetNewTrees,a[u]=t.urlGetMessages.replace("[userId]",t.userId),a[s]=t.urlGetNewDnaLinks,a[m]=t.urlGetMessageCount.replace("[userId]",t.userId),a[g]="".concat(t.uhomeAggUrlBase,"/user/hints/menuForTreeClusterByPerson"),{langResources:n,lastReqTimeVals:o,url:a[e]||""}}function _t(e,t,n){var o="";return e&&t?o="".concat(Lt(e)," - ").concat(Lt(t)):e?o="".concat(Lt(e)," - "):t&&(o="- ".concat(Lt(t))),n?"<em>".concat(o,"</em>"):o}function Lt(e){return e&&e.replace?e.replace(rt,function(e){return ct[e]}):e}function St(){var e,t,n;st||(window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(function(){document.querySelectorAll("#nav .initialized[aria-controls]").forEach(function(e){var t;tt.visible(e)||(e.classList.remove("initialized"),e.removeEventListener("keyup",Ht),e.removeEventListener("keydown",Rt),it[e.id]&&it[e.id].contentElement&&(t="navMobile"===e.id?"nav":"navMobileMenu",document.getElementById(t).appendChild(it[e.id].contentElement.firstChild)),Nt(e,"destroy"))}),hn()},1e3)}),st=!0),(t=document.getElementById("navSkip"))&&(t.removeEventListener("keydown",Ft),t.addEventListener("keydown",Ft)),window.acom&&window.acom.bus?window.acom.bus.on("PersonHintTab::hintcount_change::pending",function(){header.updateUserData("hints")}):setTimeout(function(){window.acom&&window.acom.bus&&window.acom.bus.on("PersonHintTab::hintcount_change::pending",function(){header.updateUserData("hints")})},500),kt(),e=document.getElementById("navDna"),t=document.getElementById("navDnaMenu"),Ze.isLoggedIn&&e&&e.hasAttribute("aria-controls")&&(e.addEventListener("focusin",Gt),e.addEventListener("mouseenter",Gt),t&&(t.addEventListener("focusin",Gt),t.addEventListener("mouseenter",Gt),t.addEventListener("touchstart",Gt))),Ze.addTracking&&document.body.addEventListener("click",Bt),function(){for(var e=document.getElementById("nav"),t=e.getAttribute("data-nav-version"),n=e.getElementsByClassName("navSubMenu"),o=document.querySelector(".navMobileMenu"),a=n.length-1;0<a;a--)n[a].classList.add(t);hn(),e.addEventListener("focusout",Ut),o&&o.addEventListener("click",Pt)}()}function kt(e){e=(0<arguments.length&&void 0!==e?e:document).querySelector(".navLanguageToggle");e&&(e.removeEventListener("click",qt),e.addEventListener("click",qt))}function Bt(e){var t,n=e.target,o=n&&n.closest("[data-tracking-name]"),a=o&&(o.closest(".navSubMenu, .navMobileMenu")||o.closest(".nav"));o&&a&&("Hints"===(n=(e=o.closest(".navSubMenu"))&&e.id?e.id.replace(/^nav|Menu$/g,""):null)&&(n=document.getElementById(p).getAttribute("data-tracking-name")),"Traits"===(a=o.getAttribute("data-tracking-name"))?((t=$t())[Ze.userId]="false",tt.setCookie("showNewTagForTraitsLatest",encodeURIComponent(JSON.stringify(t)),60)):"DNA Story"!==a||(t=(e=o.querySelector("[data-dna-badge-id]"))&&e.getAttribute("data-dna-badge-id"))&&(o=t,e=Vt()||{},Wt(t=Yt(e),o)||(e[Ze.userId]||(e[Ze.userId]={}),e[Ze.userId].dna=[].concat(d(t),[o]),tt.setCookie("navbadges",JSON.stringify(e),90))),function(e,t){{window.utag?window.utag.link({action:"ancestry : navigation : ".concat(e),link_name:e,link_value:t?"".concat(t," : ").concat(e):e,mix_event_name:"header_nav_click"}):fe("Omniture Unavailable : ".concat(e)),Ze.unifiedTrackingInstance&&(e={clickType:e,pageLocation:"header"},t&&(e.parent=t),Ze.unifiedTrackingInstance.trackUserBehavior("CoreUI_Navigation",e))}}(a,n))}function Mt(e){var t=document.getElementById("navLinkReferFriend");t&&(e?t.classList.add("noDisplay"):t.classList.remove("noDisplay"))}function Dt(){for(var e,n=document.getElementById("navHintsList").getElementsByTagName("li"),o=0;o<n.length;o++)(e=n[o].getElementsByTagName("a")[0]).classList.contains("navUnread")&&function(){var t=e.getAttribute("href");n[o].addEventListener("click",function(e){return e.preventDefault(),e={url:Ze.urlClearAllHints,success:function(e){e&&document.querySelectorAll("#navHints .badge").forEach(function(e){e.classList.add("noDisplay")})},error:function(e){window.newrelic.noticeError("Unable to clear hints count: ".concat(e))}},W(e).then(function(){return window.open(t,"_self"),!1}).catch(function(){return window.open(t,"_self"),!1})},!1)}()}function xt(e){var t=e.target.querySelector(".badge[data-badge-viewed]");e.target.closest("a")&&t&&(t.setAttribute("data-badge-clicked","true"),Zt())}function Nt(e,t){var n;tt.callout&&e.id&&it[e.id]?(n="position"!==t||it[e.id][t]?t:"reposition",it[e.id][n](),"destroy"===t&&(it[e.id]=null)):window.$&&window.$.callout&&$(e).callout(t)}function Pt(e){var t=e.target,e=t.closest(".calloutMenuTitle"),n=t.closest(".navSubMenu");e&&n&&(e&&("false"===(t=e.getAttribute("aria-expanded"))?e.setAttribute("aria-expanded","true"):"true"===t&&e.setAttribute("aria-expanded","false")),n.parentNode.querySelectorAll(".navSubMenu").forEach(function(e){var t=e.querySelector(".calloutMenuTitle");e===n?e.classList.toggle("navSubMenuExpanded"):(e.classList.remove("navSubMenuExpanded"),t.setAttribute("aria-expanded","false"))}))}function Ut(){var o=document.querySelector(".calloutTrigger.active");o&&setTimeout(function(){var e=document.activeElement,t=e.closest(".calloutContent"),n=o.classList.contains("active");e&&n&&!t&&Nt(o,"close")},200)}function Ot(e){fe("Error loading data for key. Removing callout:",e),Nt(document.getElementById(e),"destroy")}function Rt(e){var t=e.currentTarget,t=document.querySelector("#".concat(t.getAttribute("aria-controls"))),t=t?t.querySelectorAll("a"):[],n=[];t.forEach(function(e){tt.visible(e)&&n.push(e)}),!e.shiftKey&&e.keyCode===tt.keyCodes.tab&&n.length&&(n[0]&&n[0].focus(),e.preventDefault(),e.stopPropagation()),e.keyCode===tt.keyCodes.space&&e.preventDefault()}function Ht(e){e.keyCode===tt.keyCodes.space&&Nt(e.currentTarget,"open")}function qt(e){var t=e.currentTarget.getAttribute("data-language-id"),e=e.currentTarget.getAttribute("data-language-name");tt.setDictionaryCookie("VARS","LCID",t,3560),tt.setDictionaryCookie("VARS","LCISONAME",e,3560);e=window.location.href,t=Ze.altLangUrl||e.replace(/lcid=\d{4}/gi,"lcid=".concat(t));e===t?window.location.reload():window.location=t}function jt(e){var t=e.target,n=document.getElementById("navSeeAllHintsMenu");n&&(n.classList.contains("noDisplay")?(t.setAttribute("aria-expanded","true"),n.classList.remove("noDisplay"),e=Ze.numOfTrees?45*Ze.numOfTrees:45,document.getElementById("navHintsMenu").scrollTop+=e):(t.setAttribute("aria-expanded","false"),n.classList.add("noDisplay")))}function Ft(e){var t,n=document.querySelector(e.target.getAttribute("href"));e.keyCode!==tt.keyCodes.enter&&e.keyCode!==tt.keyCodes.space||(n.getAttribute("tabindex")||(t=function(){n.removeAttribute("tabindex"),n.removeEventListener("blur",t)},n.setAttribute("tabindex","-1"),n.addEventListener("blur",t)),n.focus(),e.preventDefault(),e.stopPropagation())}function zt(e){e=document.getElementById("".concat(e,"Loading"));e&&(e.setAttribute("aria-busy","false"),e.classList.add("noDisplay"))}function Gt(){Kt(),Z(s,At(s,Ze),en,It,null,null)}function Vt(){var e=Jt();return e=!!e[Ze.userId]&&e[Ze.userId]}function Jt(){var e=tt.getCookie("navbadges");return e=!!e.length&&JSON.parse(e)}function $t(){return tt.getCookie("showNewTagForTraitsLatest")?JSON.parse(decodeURIComponent(tt.getCookie("showNewTagForTraitsLatest"))):{}}function Wt(e,t){return-1!==e.indexOf(t)}function Yt(e){return e[Ze.userId]&&e[Ze.userId].dna?e[Ze.userId].dna:[]}function Xt(e){e.target.closest("a")&&e.currentTarget.removeEventListener("click",Xt)}function Zt(){var e=Jt()||{},t=[],n=[];document.querySelectorAll(".navSubMenu").forEach(function(e){e.querySelectorAll(".badge[data-badge-id]").forEach(function(e){e.getAttribute("data-badge-viewed")&&t.push(e.getAttribute("data-badge-id")),e.getAttribute("data-badge-clicked")&&n.push(e.getAttribute("data-badge-id"))})});var o=Yt(e);t.length||n.length||o.length?(e[Ze.userId]=o.length?{dna:o}:{},t.length&&(e[Ze.userId].viewed=t),n.length&&(e[Ze.userId].clicked=n),tt.setCookie("navbadges",JSON.stringify(e),90)):tt.deleteCookie("navbadges")}function Kt(){var e=document.getElementById("navDna"),t=document.getElementById("navDnaMenu");e&&(e.removeEventListener("focusin",Gt),e.removeEventListener("mouseenter",Gt),t&&(t.removeEventListener("focusin",Gt),t.removeEventListener("mouseenter",Gt),t.removeEventListener("touchstart",Gt)))}function Qt(){Kt(),document.getElementById("nav").addEventListener("focusout",Ut),function(){var e=document.querySelector(".navMobileMenu");e&&e.removeEventListener("click",Pt);e=document.getElementById("navSeeAllHintsIn");e&&e.removeEventListener("click",jt)}(),document.body.removeEventListener("click",Bt)}function en(e,t){var o=t.results||{};if(!e&&o.menuitems){var n=document.getElementById("navDna"),a=document.querySelector(".navDnaMenu");if(n&&!a&&tt&&tt.callout&&((i=tt.callout.getInstance(n.getAttribute("data-ui-id")))&&(a=i.contentElement)),!n||!a)return!1;var i,r=Date.parse(Ze.showNewTagForTraitsStartDate),c=Date.parse(Ze.showNewTagForTraitsStartDate)+5184e6,s=Date.parse(Ze.ethnicityInheritanceLaunchBadgeEndDate),u=Date.parse(Ze.matchesPromoBadgeEndDate),l=new Date,d=(i=$t())[Ze.userId]?i[Ze.userId]:"true",f=Yt(Jt()||{}),i=o.menuitems.map(function(e){var t=e.trackingName||"DNA Menu Item",n="";return e.text&&-1!==e.text.indexOf("Traits")&&"true"===d&&r<l.getTime()&&c>l.getTime()?n=' <span class="badge badgeColor1">New</span>':"DNA Story"===t&&s>l.getTime()&&!Wt(f,"d1")?n=' <span class="badge badgeColor1" data-dna-badge-id="'.concat("d1",'">').concat(Ze.langResources.Updated,"</span>"):"DNA Matches"===t&&u>l.getTime()&&!Wt(f,"d2")&&(n=' <span class="badge badgeColor1" data-dna-badge-id="'.concat("d2",'">').concat(Ze.langResources.Updated,"</span>")),'<li><a data-tracking-name="'.concat(t,'" href="').concat(e.url,'" ').concat(o.target?'target="'.concat(o.target):"",">").concat(Lt(e.text)).concat(n,"</a></li>")});a.querySelector("ul").innerHTML=i.join(""),it.navDna&&ue(function(){return 0!==a.querySelector("ul").offsetWidth},3e3,15).then(function(){return Nt(n,"position")}).catch(function(){return console.log("timed out for polling DNA list rendering")})}else fe("Error loading DNA's submenu",e)}function tn(e,t,n){return 1<e&&(t.length&&(t+=", "),t+=Lt(n)),t}function nn(e,t,n,o,a){var i,r,c=t.birth,s=t.death,u=t.name,l=t.treeId,d=t.unread,f=t.types,m=t.url,g=t.treeName,p=t.title,t=t.type,a="https://".concat(a).concat(m),m="";if("template_hintMenuTwo"===n)return m=_t(c,s,!1),l&&(m=tn(o,m,e.trees.find(function(e){return e.id===l}).text||"")),f&&f.length&&(e=f,i=Ze.langResources,r="",1===e.length?r=i.HintType.replace("{hintType}",i["HMT_".concat(e[0])]):1<e.length&&(f=e.slice(0,-1).map(function(e){return i["HMT_".concat(e)]}).join(", "),r=i.ListHintTypes.replace("{delimitedHintTypes}",f).replace("{lastHintsType}",i["HMT_".concat(e.slice(-1))])),r="string"==typeof(r=r)?r.charAt(0).toUpperCase()+r.slice(1):""),ut[n].replace("{url}",a).replace("{unread}",d?"navUnread":"").replace("{title}",Lt(u)).replace("{meta}",m).replace("{badge}",d?ut.templateUnreadGreenIndicator:"").replace("{types}",r).replace("{tracking}","Hint".concat(d?" New":""));t={Person:"Person",Photo:"Image",Story:"Story"}[t]||"Note";return m=tn(o,m=_t(c,s,!0),g),ut.templateNotification.replace("{url}",a).replace("{unread}",d?"navUnread":"").replace("{unreadMessage}","").replace("{image}",ut.templateNotificationUsercardIcon.replace("{icon}",t)).replace("{title}",Lt(p)).replace("{badge}",d?ut.templateBadge.replace("{text}",ut.templateNew):"").replace("{subtitle}",Lt(u)).replace("{meta}",m).replace("{tracking}","Hint".concat(d?" New":""))}function on(e,t){var n,o=document.getElementById(p),a=o.host,i="/hints/tree/",r="/hints?src=hn",c=document.getElementById("navHintsMenu");if((n=c)&&(n.classList.add("hmtExperience"),n.classList.add("hintMenuTwo")),!o||!c)return!1;var s=t?t.menuitems.length:0,u=t?t.trees.length:0;if(Ze.numOfTrees=u,0<s){var l="";Ze&&"false"!==Ze.isHintMenuFeedbackEnabled&&(document.getElementById("navGiveFeedback").querySelector("a").href="".concat(Ze.hintsFeedbackLink,"?ucdmid=").concat(Ze.userId),document.getElementById("navGiveFeedback").classList.remove("noDisplay"),document.getElementById("navHasHints").classList.add("smallHintsArea"));for(var d=0;d<s;d+=1)l+=nn(t,t.menuitems[d],"template_hintMenuTwo",u,a);document.getElementById("originalNavHintsMenuTitle").classList.remove("noDisplay"),document.getElementById("navHintsList").innerHTML=l,document.getElementById("navHasHints").classList.remove("noDisplay"),Dt()}else document.getElementById("navHasHints").classList.add("noDisplay"),document.getElementById("navSeeAllHintsMenu").classList.remove("noDisplay");if(1<u){for(var f,m="",g=0;g<u;g+=1)f="https://".concat(a).concat(i).concat(t.trees[g].id).concat(r),m+='<li><a data-tracking-name="Hints in Specific Tree" href="'.concat(f,'">').concat(Lt(t.trees[g].text),"</a></li>");document.getElementById("navSeeAllHintsMenu").innerHTML=m,document.getElementById("navSeeAllHints").classList.add("noDisplay"),document.getElementById("navSeeAllHintsIn").classList.remove("noDisplay")}else{1===u?((o=document.getElementById("navSeeAllHints")).classList.remove("noDisplay"),0<(c=document.getElementsByClassName("recentHintsListItem")).length&&c[0].classList.add("noDisplay"),document.getElementById("navSeeAllHintsIn").classList.add("noDisplay"),c="https://".concat(a).concat(i).concat(t.trees[0].id).concat(r),o.href=c):(document.getElementById("navSeeAllHints").classList.remove("noDisplay"),document.getElementById("navSeeAllHintsIn").classList.add("noDisplay"))}zt("navHintsMenu")}function an(e,t){for(var n=t.langResources,o=t.cultureCode,a=t.userId,i=0,r=null,c=0,s=0;s<e.members.length;s++)e.members[s].user_id!==a&&(c=s),e.members[s].user_id===e.last_message.author&&(r=e.members[s].user_id,i=s);var u,l,d,d=(u=a,d=e.members[i],l=e,t=d.user_id===u,u="",t&&d.last_message_read_index===l.last_message.index?u="icon iconCheck":t||0===l.unread_count||(u="bold"),u),u=(t=e.last_message,l=lt.NORMAL,"deleted"===(null===(u=t.attributes)||void 0===u?void 0:u.status)?l=lt.DELETED:"muted"===(null===(t=t.attributes)||void 0===t?void 0:t.status)&&(l=lt.MUTED),l),t=ut.templateNotification.replace("{url}","/messaging?h=".concat(encodeURIComponent(btoa("ACOM".concat(e.id))))).replace("{unread}",0===e.unread_count?"":"navUnread").replace("{unreadMessage}",u===lt.NORMAL?d:"").replace("{unreadMessageStatus}",u===lt.NORMAL?"":d).replace("{tracking}","Message".concat(0===e.unread_count?"":" New")),l="",d=i===c?e.members[c].short_name:n.You;return u!==lt.NORMAL&&(e.last_message.content="",u!==lt.DELETED?u===lt.MUTED&&(l="".concat(d,": ").concat(n.MessageHidden),d=""):(d="",l=r===a?n.MessageDeletedLoggedInUser:null!==r&&null!==e.members[i].short_name?(u=e.members[i].short_name||"",n.MessageDeletedOtherUser.replace("{displayName}",u)):n.MessageDeletedUnknownUser)),t=(t=e.members[c].profile_picture_id&&e.members[c].profile_picture_id.length&&-1===["ffffffff-ffff-ffff-ffff-ffffffffffff","00000000-0000-0000-0000-000000000000"].indexOf(e.members[c].profile_picture_id)?t.replace("{image}",ut.templateNotificationUsercardImage.replace("{imageId}",e.members[c].profile_picture_id)):t.replace("{image}",ut.templateNotificationUsercardInitials.replace("{displayName}",Lt(e.members[c].display_name)).replace("{bgClasses}",Lt(function(e){var t=0;if("string"!=typeof e)return ce[0];for(var n=0;n<e.length;n++)t=4294967295&31*t+e.charCodeAt(n);return t=Math.abs(t),ce[t%ce.length]}(e.members[c].display_name))).replace("{userInitials}",Lt(function(e){if(!e)return"";var t=e.toUpperCase().split(/[\s+-]/),n=[],o=[];if(!t||1===t.length)return 1===e.length?e:e.substr(0,2).toUpperCase();for(var a=0;a<t.length;a++)re.test(t[a])&&-1===t[a].indexOf(".")&&n.push(t[a]);if(1<=n.length&&o.push(n[0].substr(0,1)),2<=n.length){for(var i=!1,r=1;r<n.length;r++)n[r].match(/.\./)||(i=!0,o.push(n[r].substr(0,1)));i||o.push(n[1].substr(0,1))}return e=o.length,o[0]+o[e-1]}(e.members[c].display_name))))).replace("{title}",Lt(e.members[c].display_name)).replace("{badge}","").replace("{subtitle}",Lt("".concat(d?"".concat(d,": "):"").concat(null===(d=e.last_message.content)||""===d?"":(d=d.toString(),(new DOMParser).parseFromString(d,"text/html").body.textContent||"")))).replace("{messageStatusText}",Lt(l)).replace("{meta}",Lt(ie(o,e.last_message.created)))}function rn(e,t){if(e)Ot(u);else{var n=Ze.langResources,o=Ze.cultureCode,a=Ze.userId,i=document.getElementById(u),e=document.getElementById("".concat(u,"Menu"));if(!i||!e||!t.conversations)return!1;var r=t.conversations.length;if(0<r){for(var c="",s=0;s<r;s+=1)c+=an(t.conversations[s],{langResources:n,cultureCode:o,userId:a});document.getElementById("navMessagesList").innerHTML=c,document.getElementById("navNoMessages").classList.add("noDisplay"),document.getElementById("navHasMessages").classList.remove("noDisplay")}else document.getElementById("navNoMessages").classList.remove("noDisplay"),document.getElementById("navHasMessages").classList.add("noDisplay");zt("navMessagesMenu")}}function cn(e){e=document.getElementById("".concat(e,"DefaultList"));e&&e.classList.remove("noDisplay")}function sn(){zt("navTreesMenu"),cn(h)}function un(e,t){if(e)Ot(h);else{var n=document.getElementById(h),o=n.host,a=document.getElementById("".concat(h,"Menu"));if(!n||!a)return!1;t&&"string"==typeof t&&(t=JSON.parse(t));for(var i,r=t.mostRecentlyViewedTreeId||!1,c=t.menuitems.length,s="",u=0;u<c;u+=1){var l=t.menuitems[u],d=l.url,f="https://".concat(o).concat(d),m=0<=d.indexOf("family-tree/tree")?"go to tree":"Family Tree";"/family-tree/tree"===d&&(m="create and manage trees");var g="",p="";l.text&&-1!==l.text.indexOf("StoryScout")&&(l.text&&-1!==l.text.indexOf("®")&&!document.documentElement.classList.contains("bonsai")&&(l.text=l.text.replace("®",""),p+="<sup>®</sup>"),"5538"===Ze.partnerId||"5544"===Ze.partnerId)&&0<Date.parse(Ze.storyScoutBadgeEndDate)-(new Date).getTime()&&(g+=' <span class="badge badgeColor1">New</span>');d=r&&-1!==d.indexOf(r);s+='<li><a data-tracking-name="'.concat(m,'" ').concat(d?'aria-current="true" class="calloutMenuChecked iconAfter iconAfterCheck" ':"",'href="').concat(f,'">').concat(Lt(l.text)).concat(p).concat(g,"</a></li>"),d&&(i=f)}a.querySelector("ul").innerHTML=s,i&&(n.href=i),a.addEventListener("click",Xt),it[h]&&ue(function(){return 0!==a.querySelector("ul").offsetWidth},3e3,15).then(function(){return Nt(n,"position")}).catch(function(){return console.log("timed out for polling tree list rendering")}),zt("navTreesMenu"),cn(h)}}function ln(e,t){var n,o,a,i;e?fe(e):(t.user&&(Xe=t.user,function(e){{var t;Xe.name&&(pe(e)?t=document.getElementById("navAccount"):(e=document.getElementById("navAccountImage"),t=document.getElementById("navAccountUsername"),Xe.image?e.insertAdjacentHTML("beforebegin",'<span aria-hidden="true" class="userCardImg userCardImgCenter" id="navAccountImage" style="background-image:url(\''.concat(Xe.image,'\');"><img class="navUserImage" src="').concat(Xe.image,'" alt="" /></span>')):e.insertAdjacentHTML("beforebegin",'<span aria-hidden="true" class="userCardImg icon iconPerson" id="navAccountImage"></span>'),e.remove()),t.textContent=Xe.name)}}(Ze.siteType),pe(Ze.siteType)||(wt(Ze.langResources)&&(a=t.notificationsCount,n=t.notificationsEnabled,i=Ze.unifiedTrackingInstance,o=document.getElementById(f),e=document.getElementById("navNotificationsCount"),n&&o&&e&&(o.classList.remove("noDisplay"),ht(a),window.utag&&window.utag.link&&window.utag.link({link_name:"ancestry : header : notifications link shown",action:"notificationIndicator",mix_event_name:"CoreUI_NotificationInteracted",notificationActionType:"notificationIndicator",newNotificationNumber:a}),i&&i.trackUserBehavior("CoreUI_NotificationInteracted",{notificationActionType:"notificationIndicator",newNotificationNumber:a}))),function(e,t,n,o){document.querySelectorAll(".navEmphasizedButton, .navEmphasizedTitle, .navEmphasizedExpertButton").forEach(function(e){e.remove()});var a=ut.templateEmphasizedButton;{var i;e||n||!Ke?e&&(i=et.querySelector("#navSubscriptionOptions a").host,i="https://".concat(i).concat(e),a=a.replace("{url}",i).replace("{text}",t).replace("{tracking}",t),o||(a=a.replace(" ancBtn","").replace(" blue","").replace(" bgLight","")),et.querySelector("#navSubscriptionOptions").insertAdjacentHTML("afterbegin",a),Qe&&(a=ut.templateEmphasizedMobileButton,o||(a=a.replace("blue","silver")),Qe.insertAdjacentHTML("beforeend",a.replace("{url}",i).replace("{text}",t).replace("{tracking}",t)))):(e="".concat(Ke.getAttribute("href"),"-upsell"),t=(Ke.firstChild?Ke.firstChild:Ke).textContent,i="".concat(Ke.getAttribute("data-tracking-name")," : Upsell"),a=a.replace("{url}",e).replace("{text}",t).replace("navEmphasizedButton","navEmphasizedExpertButton").replace("{tracking}",i),o||(a=a.replace(" ancBtn","").replace(" blue","").replace(" bgLight","")),et.querySelector("#navSubscriptionOptions").insertAdjacentHTML("afterbegin",a),Qe&&(a=ut.templateEmphasizedMobileButton,o||(a=a.replace("blue","silver")),Qe.insertAdjacentHTML("beforeend",a.replace("{url}",e).replace("{text}",t).replace("{tracking}",t))))}}(Xe.subscribeUrl,Xe.subscribeText,Xe.isFullAccessFreeTrialer,t.useAlternateMarketingButton),function(e,t){var n=document.getElementById("navCart");{n&&(t&&e&&e.offerIdMap&&Object.keys(e.offerIdMap).length?(t=document.querySelector(".navLogo").host,t="https://".concat(t).concat("/checkout/MLI"),n.setAttribute("href",t),(t=document.getElementById("navCartCount")).classList.add("badgeColor2"),n.classList.remove("noDisplay"),t.innerHTML=function(e){var t=0;return Object.entries(e.offerIdMap).forEach(function(e){t+=+e[1].qty}),9<t?"9+":t}(e),document.querySelectorAll(".navSecondaryMenu .navEmphasizedButton, .navSecondaryMenu .navEmphasizedExpertButton").forEach(function(e){e.classList.add("noDisplay")})):(n&&n.classList.add("noDisplay"),document.querySelectorAll(".navSecondaryMenu .navEmphasizedButton, .navSecondaryMenu .navEmphasizedExpertButton").forEach(function(e){e.classList.remove("noDisplay")})))}}(function(){var t=tt.getCookie("PhxCartCheckout");try{return t?JSON.parse(t):null}catch(e){return JSON.parse(decodeURIComponent(t))}}(),t.shoppingCartEnabled),ot=t.enableSocialFeed,K(m,At(m,Ze),dn,It),gn(p,t.hasHints),hn(),nt=Xe.currentSubscriptions)),(i=t.mostRecentlyViewedTreeId||!1)&&(t=(a=document.getElementById(p)).host,a&&(a.href="https://".concat(t,"/hints/tree/").concat(i,"/hints?src=hn"))),(i=document.querySelector(".navSecondaryMenuUnloaded"))&&i.classList.remove("navSecondaryMenuUnloaded"))}function dn(e,t){if(e)fe(e);else if(void 0!==t.unread_message_count&&!pe(Ze.siteType)){if(0===document.location.pathname.toLowerCase().indexOf("/messaging"))window.localStorage.removeItem("unreadmessagecount");else if(!t.doNotStore)try{window.localStorage.setItem("unreadmessagecount",JSON.stringify({timestamp:(new Date).getTime(),count:t.unread_message_count}))}catch(e){}gn(u,t.unread_message_count)}}function fn(e){var t=function(e){if(window.sessionStorage&&"function"==typeof window.sessionStorage.getItem)try{return window.sessionStorage.getItem(e)}catch(e){return null}}(e);if(t){e="".concat(Ct());return"".concat(t,":0").split(":")[1]===e}}function mn(e){e.classList.remove("badgeColor1"),e.classList.remove("badgeColor2"),e.classList.add("lightRedDot")}function gn(e,t){var n=document.getElementById(e),o=n.querySelector(".badge");0<t?(o.classList.remove("noDisplay"),e===u&&n.classList.add("hasCount"),e===f&&n.classList.add("hasNotification"),e===p?(document.getElementById(p).classList.add("hintMenuTwo"),mn(o),fn("hintTopNav")||(document.getElementById(p).classList.add("hintTopNavAnimation"),Tt("hintTopNav",!0))):e===u&&mn(o)):(e===u&&n.classList.add("hasNoCount"),o.classList.add("noDisplay")),e===p&&(o=document.getElementById(p),e=o.lastChild.classList.contains("noDisplay")?"".concat(v," : hintMenuTwo : ").concat(b):"".concat(v," : hintMenuTwo : ").concat(y),o.setAttribute("data-tracking-name",e))}function pn(e){e=document.getElementById("".concat(e,"Loading"));e&&(e.setAttribute("aria-busy","true"),e.classList.remove("noDisplay"))}function hn(){var e;!ot||(e=document.getElementById(c))&&!e.hasAttribute("aria-controls")&&tt.visible(e)&&(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","".concat(c,"Menu")),document.getElementById("".concat(c,"Menu"))||wn()),document.querySelectorAll("#nav [aria-controls]:not(.initialized):not(.languageSelect)").forEach(function(e){tt.visible(e)&&function(e){{var a,i,t,r,c,s,u,l,d,n;e.closest("#navCart")||(t=e.getAttribute("aria-controls"),r=document.getElementById(t),c=e.classList.contains("navMainLink"),s=e.classList.contains(p),u=e.classList.contains("navAccount"),l=e.classList.contains("navExtras"),n=e.classList.contains("navMobile"),d=t.toLowerCase().replace("nav","").replace("menu",""),n={allowClick:!0,content:"#".concat(t),classes:"calloutMenu navCalloutMenu",disableAutofocusOnOpen:!n,onOpen:function(e){var t,n=vn(e,this),o=n.querySelector(".badge");a=!!o&&tt.visible(o),Ze.isLoggedIn?(at.updateUserData(d,!1),n.setAttribute("data-already-loaded","true")):cn(h),n.removeAttribute("role"),c&&Ze.isLoggedIn&&(a&&(i=setTimeout(function(){r&&r.querySelectorAll(".badge").forEach(function(e){e.setAttribute("data-badge-viewed",!0)});var e=o.previousElementSibling;e&&e.classList.contains("navSpacer")&&e.remove(),o.remove(),Zt()},1e3)),r&&(r.removeEventListener("click",xt),r.addEventListener("click",xt))),s&&(t=document.getElementById("navSeeAllHintsIn"),Ze.isLoggedIn&&t&&t.addEventListener("click",jt)),l&&Mt(!(nt&&nt.length)),u&&(Xe&&Xe.name&&(e=document.getElementById("navAccountMobileImage"),t=document.getElementById("navAccountMobileUsername"),Xe.image?e.insertAdjacentHTML("beforebegin",'<div aria-hidden="true" class="userCardImg userCardImgCenter" id="navAccountMobileImage" style="background-image:url(\''.concat(Xe.image,'\');"><img src="').concat(Xe.image,'" alt="" /></div>')):e.insertAdjacentHTML("beforebegin",'<div aria-hidden="true" class="userCardImg icon iconPerson" id="navAccountMobileImage"></div>'),e.remove(),t.textContent=Xe.name),kt(r)),n.insertAdjacentHTML("beforeend",ut.templateEnterMenu)},onClose:function(e){var t=vn(e,this);a&&clearTimeout(i),Ze.addTracking&&(t.classList.add("closing"),setTimeout(function(){t.classList.remove("closing")})),t.setAttribute("role","button"),t.querySelector(".a11yHint").remove()}},tt.callout?it[e.id]=tt.callout(e,n):"undefined"!=typeof $&&$.callout?($(e).callout(n),it[e.id]=$(e).data("calloutInstance")):fe("Header Error: Missing core.js dependency. DO NOT IGNORE. This is an issue with your page."),e.classList.add("link"),e.classList.add("initialized"),e.addEventListener("keyup",Ht),e.addEventListener("keydown",Rt))}}(e)})}function vn(e,t){return e?e.element?e.element:e[0]:t}function yn(){var i,r,e,t;document.getElementById("navTemplates")&&function(){var e=document.getElementById("navTemplates");if(null===ut&&e){ut={};for(var t=e.children,n=t.length,o=0;o<n;o+=1)ut[t[o].id]=t[o].innerHTML.trim();e.remove()}}(),Ke=document.getElementById("navLinkExpert"),et=document.querySelector(".navSecondaryMenu"),Qe=document.querySelector(".navMobileMenu"),window.unifiedTrackingFactory?Ze.unifiedTrackingInstance=unifiedTrackingFactory():window.addEventListener("UnifiedTrackingReady",function(){Ze.unifiedTrackingInstance=unifiedTrackingFactory()}),e=document.getElementById("HeaderRegion"),(t=document.getElementById("GlobalWrpr"))&&t.querySelector("#HeaderRegion")&&document.body.offsetWidth>e.offsetWidth&&t.insertAdjacentElement("beforebegin",e),e&&(e.style.height="",e.style.minHeight=""),at.setReturnUrl(Ze.returnUrl),at.setSelectedPage(Ze.selectedTabName),Ze.isLoggedIn&&(pn("".concat(h,"Menu")),pn("".concat(p,"Menu")),pn("".concat(u,"Menu")),Z(l,At(l,Ze),ln,It,null,null),i=Date.now(),r=Vt(),document.querySelectorAll("#navMobileMenu .navSubMenu").forEach(function(e){var a=0;e.querySelectorAll(".badge").forEach(function(e){var t=e.getAttribute("data-badge-id"),n=Date.parse(e.getAttribute("data-badge-expiration")),o=!0;(r&&r.viewed&&-1!==r.viewed.indexOf(t)||n<=i)&&(o=!1,e.setAttribute("data-badge-viewed","true")),!r||r&&!r.clicked||r&&r.clicked&&-1===r.clicked.indexOf(t)?i<n&&e.classList.remove("noDisplay"):e.setAttribute("data-badge-clicked","true"),o&&(a+=1)}),0<a&&(e=e.id.replace("Menu",""),(e=document.getElementById(e)).querySelectorAll(".badge").forEach(function(e){e.remove()}),e.insertAdjacentHTML("beforeend"," ".concat(ut.templateBadge.replace("{text}",a))))}),wt(Ze.langResources)&&Et(Ze)),function(){var e=Le(Ze.acceptLanguage);if(e){var t=function(e,n){return e.reduce(function(e,t){return e.some(function(e){return e[n]===t[n]})||e.push(t),e},[])}(e,"code").filter(function(e){return t=e,Ze.supportedLocales.some(function(e){return e.language===t.code});var t});if(t&&1<t.length){var e=Le(Ze.cultureCode),n=e?e[0]:{code:"en"},o=t.map(function(t){return t.isActive=t.code===n.code,t.isActive&&document.getElementById("languageSelect")&&(document.getElementById("languageSelect").innerText=t.code.toUpperCase()),t.text=Ze.supportedLocales.find(function(e){return e.language===t.code}).title,t}),e=document.getElementById("legacyLanguageToggle");document.getElementById("navAccount")&&document.getElementById("navAccount").classList.add("rightSpace"),e&&e.classList.add("noDisplay"),document.getElementById("navLanguageSelect").classList.remove("noDisplay");for(var a=o.map(function(e){return'\n\t\t\t<li class="navListItem">\n\t\t\t\t<button type="button" class="navLangItem link" lang="'.concat((e=e).code,'" onclick="').concat(function(e){return"\n\t\t\tfunction constructSiteGeo() {\n\t\t\t\tconst domainParts = window.document.location.hostname.split('.');\n\t\t\t\tlet domainExt = 'com';\n\t\t\t\tdomainExt = domainParts.length > 3 ? domainParts[3] : domainParts[2];\n\t\t\t\treturn domainExt === 'com' ? 'us' : domainExt;\n\t\t\t}\n\t\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\t\turlParams.set('locale', '".concat(e.code.toUpperCase(),"');\n\t\t\twindow.location.search = urlParams;\n\t\t\tconst geo = window.utag && window.utag.data && window.utag.data.geo || constructSiteGeo();\n\t\t\twindow.utag && window.utag.link({\n\t\t\t  link_name : 'ancestry ' + geo + ': navigation : language select',\n\t\t\t  action: 'ancestry ' + geo + ': navigation : language : ").concat(e.code,"',\n\t\t\t  mix_event_name : 'language_dropdown_selection',\n\t\t\t  link_value: '").concat(e.code,"',\n\t\t\t  dropdown_selection: 'navigation : language : ").concat(e.code,"'\n\t\t\t});\n\t\t")}(e),'">\n\t\t\t\t\t<div class="listColumn">').concat(e.text,'</div>\n\t\t\t\t\t<div class="listColumn"><span aria-hidden="true" class="icon iconCheck ').concat(e.isActive?"":"noDisplay",'"/></div>\n\t\t\t\t</button>\n\t\t\t</li>')}).join(""),i=0;i<o.length;i++)if(-1!==o[i].text.indexOf("*")){a+='\n\t\t\t\t\t\t\t\t<li class="navListItem">\n\t\t\t\t\t\t\t\t\t<div class="starredMessageItem textsml">\n\t\t\t\t\t\t\t\t\t\t<span class="messageStar">*</span>\n\t\t\t\t\t\t\t\t\t\t<div class="messageText">'.concat(Ze.langResources.TranslationInProgress,"</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>");break}e=ut.templateLanguageCallout.replace("{title}",Ze.langResources.SelectLanguage).replace("{languageItems}",a);tt.callout("#languageSelect",{content:e,classes:"calloutMenu navCalloutMenu",calloutClasses:"navLanguageCallout"});var r=new CustomEvent("languageToggleReady",{detail:t});document.addEventListener("footerLoaded",function(){return document.dispatchEvent(r)}),document.dispatchEvent(r)}}else!function(){var e=document.getElementById("legacyLanguageToggle");e&&e.classList.remove("noDisplay")}()}(),St()}function bn(){ue(function(){return!(!document.getElementById("navData")||!(window.ui&&window.ui.callout||"undefined"!=typeof $&&$.callout))},14e3,100).then(function(){!function(){var e=document.getElementById("nav");if(!e||"ancestry-logo"!==e.getAttribute("data-nav-type")){e=document.getElementById("navData");e?(tt=ge(),(e=JSON.parse(e.textContent)).isLoggedIn&&"object"===t(tt)&&"function"==typeof tt.getCookie&&(e.userId=tt.getCookie("LAU")),void 0!==Ze&&Qt(),Ze=e,yn()):"object"===("undefined"==typeof console?"undefined":t(console))&&"function"==typeof console.error&&console.error("navData was not found in the dom after loading")}}()}).catch(function(e){console&&console.error&&console.error("navData was not found in the dom: ",e)})}function wn(){var e=document.getElementById("navMobileMenu"),t=null;e&&(t=e.querySelector(".navMobileHome")),t&&!0===ot&&(e=document.getElementById("navHints").host,e=ut.homeMenuButton.replace("{AncestryHome}",Ze.langResources.AncestryHome).replace("{Loading}",Ze.langResources.Loading).replace("{Discover}",Ze.langResources.Discover).replace("{MyAncestryFeed}",Ze.langResources.MyAncestryFeed).replace("{linkUrl}","https://".concat(e)).replace("{linkUrl}","https://".concat(e)),e=(new DOMParser).parseFromString(e,"text/html").querySelector("#navHomeMenu"),t.parentNode.replaceChild(e,t))}window&&window.Promise||(window.Promise=i),window.header=(it={},rt=/[&<>"'/]/g,st=!(ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}),ut=null,lt={DELETED:"DELETED_MESSAGE",MUTED:"MUTED_MESSAGE",NORMAL:"NORMAL_MESSAGE"},(at={}).setReturnUrl=function(e){var t,n,o,a,i;e&&(o=document.querySelector("#navSignOutLink a"),a=document.getElementById("navAccount"),i=(t=o||a).getAttribute("href"),e=decodeURIComponent(e),n=i,o="returnUrl",a=encodeURIComponent(e),i=new RegExp("([?&])".concat(o,"=.*?(&|$)"),"i"),e=-1===n.indexOf("?")?"?":"&",a=n.match(i)?n.replace(i,"$1".concat(o,"=").concat(a,"$2")):"".concat(n).concat(e).concat(o,"=").concat(a),t.setAttribute("href",a))},at.setSelectedPage=function(e){var t,n;e&&(n=document.getElementById("nav"),t="nav".concat(e),n.querySelectorAll(".navLinkSelected").forEach(function(e){e.classList.contains(t)||(e.classList.remove("navLinkSelected"),e.removeAttribute("aria-current"))}),(n=n.querySelector(".".concat(t)))&&(n.classList.add("navLinkSelected"),n.setAttribute("aria-current","page")))},at.updateUserData=function(e){function t(){return Z(h,At(h,Ze),un,It,sn,null)}wn();e={trees:t,mobile:t,hints:function(){return Z(p,At(g,Ze),on,It)},messages:function(){return Z(u,At(u,Ze),rn,It)},user:function(){return Z(l,At(l,Ze),ln,It)},dna:function(){return Z(s,At(s,Ze),en,It,null,null)}}[e];e&&e()},document.getElementById("nav")&&"ancestry-logo"===document.getElementById("nav").getAttribute("data-nav-type")||("loading"===document.readyState?document.addEventListener("DOMContentLoaded",bn):bn()),at)}();//# sourceMappingURL=header.js.map

</script>

</body>
</html>

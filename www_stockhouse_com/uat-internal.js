/*! For license information please see uat-internal.js.LICENSE.txt */
var InternalInvestingChannel;(()=>{var __webpack_modules__={151:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},939:e=>{var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,r=0;i<e.length;i++,r+=8)t[r>>>5]|=e[i]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?i.push(t.charAt(n>>>6*(3-s)&63)):i.push("=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&i.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(r))>>>6-2*n);return i}},e.exports=i},964:function(e,t,i){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,n=void 0,s=void 0,a=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(s?s(g):b())};var o="undefined"!=typeof window?window:void 0,l=o||{},d=l.MutationObserver||l.WebKitMutationObserver,m="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var e=setTimeout;return function(){return e(g,1)}}var p=new Array(1e3);function g(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var h,f,S,y,b=void 0;function T(e,t){var i=this,r=new this.constructor(P);void 0===r[v]&&k(r);var n=i._state;if(n){var s=arguments[n-1];a((function(){return N(n,r,s,i._result)}))}else L(i,r,e,t);return r}function I(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(P);return _(t,e),t}b=m?function(){return process.nextTick(g)}:d?(f=0,S=new d(g),y=document.createTextNode(""),S.observe(y,{characterData:!0}),function(){y.data=f=++f%2}):u?((h=new MessageChannel).port1.onmessage=g,function(){return h.port2.postMessage(0)}):void 0===o?function(){try{var e=Function("return this")().require("vertx");return void 0!==(n=e.runOnLoop||e.runOnContext)?function(){n(g)}:c()}catch(e){return c()}}():c();var v=Math.random().toString(36).substring(2);function P(){}var E=void 0,A=1,C=2;function D(t,i,r){i.constructor===t.constructor&&r===T&&i.constructor.resolve===I?function(e,t){t._state===A?R(e,t._result):t._state===C?O(e,t._result):L(t,void 0,(function(t){return _(e,t)}),(function(t){return O(e,t)}))}(t,i):void 0===r?R(t,i):e(r)?function(e,t,i){a((function(e){var r=!1,n=function(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}(i,t,(function(i){r||(r=!0,t!==i?_(e,i):R(e,i))}),(function(t){r||(r=!0,O(e,t))}),e._label);!r&&n&&(r=!0,O(e,n))}),e)}(t,i,r):R(t,i)}function _(e,t){if(e===t)O(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(r=t),null===r||"object"!==n&&"function"!==n)R(e,t);else{var i=void 0;try{i=t.then}catch(t){return void O(e,t)}D(e,t,i)}var r,n}function U(e){e._onerror&&e._onerror(e._result),w(e)}function R(e,t){e._state===E&&(e._result=t,e._state=A,0!==e._subscribers.length&&a(w,e))}function O(e,t){e._state===E&&(e._state=C,e._result=t,a(U,e))}function L(e,t,i,r){var n=e._subscribers,s=n.length;e._onerror=null,n[s]=t,n[s+A]=i,n[s+C]=r,0===s&&e._state&&a(w,e)}function w(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,s=e._result,a=0;a<t.length;a+=3)r=t[a],n=t[a+i],r?N(i,r,n,s):n(s);e._subscribers.length=0}}function N(t,i,r,n){var s=e(r),a=void 0,o=void 0,l=!0;if(s){try{a=r(n)}catch(e){l=!1,o=e}if(i===a)return void O(i,new TypeError("A promises callback cannot return that same promise."))}else a=n;i._state!==E||(s&&l?_(i,a):!1===l?O(i,o):t===A?R(i,a):t===C&&O(i,a))}var F=0;function k(e){e[v]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,i){this._instanceConstructor=e,this.promise=new e(P),this.promise[v]||k(this.promise),t(i)?(this.length=i.length,this._remaining=i.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(i),0===this._remaining&&R(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===E&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===I){var n=void 0,s=void 0,a=!1;try{n=e.then}catch(e){a=!0,s=e}if(n===T&&e._state!==E)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===x){var o=new i(P);a?O(o,s):D(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new i((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===E&&(this._remaining--,e===C?O(r,i):this._result[t]=i),0===this._remaining&&R(r,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;L(e,void 0,(function(e){return i._settledAt(A,t,e)}),(function(e){return i._settledAt(C,t,e)}))},e}();var x=function(){function t(e){this[v]=F++,this._result=this._state=void 0,this._subscribers=[],P!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){_(e,t)}),(function(t){O(e,t)}))}catch(t){O(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this,r=i.constructor;return e(t)?i.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):i.then(t,t)},t}();return x.prototype.then=T,x.all=function(e){return new M(this,e).promise},x.race=function(e){var i=this;return t(e)?new i((function(t,r){for(var n=e.length,s=0;s<n;s++)i.resolve(e[s]).then(t,r)})):new i((function(e,t){return t(new TypeError("You must pass an array to race."))}))},x.resolve=I,x.reject=function(e){var t=new this(P);return O(t,e),t},x._setScheduler=function(e){s=e},x._setAsap=function(e){a=e},x._asap=a,x.polyfill=function(){var e=void 0;if(void 0!==i.g)e=i.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=x},x.Promise=x,x}()},791:(e,t,i)=>{var r,n,s,a;r=i(939),n=i(151).utf8,s=i(151).bin,(a=function(e,t){var i=r.wordsToBytes(function(e){e.constructor==String?e=n.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=r.bytesToWords(e),i=8*e.length,s=[],a=1732584193,o=-271733879,l=-1732584194,d=271733878,m=-1009589776;t[i>>5]|=128<<24-i%32,t[15+(i+64>>>9<<4)]=i;for(var u=0;u<t.length;u+=16){for(var c=a,p=o,g=l,h=d,f=m,S=0;S<80;S++){if(S<16)s[S]=t[u+S];else{var y=s[S-3]^s[S-8]^s[S-14]^s[S-16];s[S]=y<<1|y>>>31}var b=(a<<5|a>>>27)+m+(s[S]>>>0)+(S<20?1518500249+(o&l|~o&d):S<40?1859775393+(o^l^d):S<60?(o&l|o&d|l&d)-1894007588:(o^l^d)-899497514);m=d,d=l,l=o<<30|o>>>2,o=a,a=b}a+=c,o+=p,l+=g,d+=h,m+=f}return[a,o,l,d,m]}(e));return t&&t.asBytes?i:t&&t.asString?s.bytesToString(i):r.bytesToHex(i)})._blocksize=16,a._digestsize=20,e.exports=a},951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.keyValues=e.keyValues,this.autoTargetStatus=e.autoTargetStatus,this.doubleVerify=e.doubleVerify,this.globalTarget=e.globalTarget,this.pixelSegment=e.pixelSegment,this.ticker=e.ticker,this.zone=e.zone,this.pageType=e.pageType,this.adSlotKeyValues=e.adSlotKeyValues,this.tickerkval=e.tickerkval}return e.prototype.getkeyValues=function(){return this.keyValues},e.prototype.getautoTargetStatus=function(){return this.autoTargetStatus},e.prototype.getdoubleVerify=function(){return this.doubleVerify},e.prototype.getglobalTarget=function(){return this.globalTarget},e.prototype.getpixelSegment=function(){return this.pixelSegment},e.prototype.getTicker=function(){return this.ticker},e.prototype.getZone=function(){return this.zone},e.prototype.getPageType=function(){return this.pageType},e.prototype.getAdSlotKeyValues=function(e,t){try{if(!this.adSlotKeyValues||null==this.adSlotKeyValues)return null;var i=JSON.parse(this.adSlotKeyValues),r=e.toLowerCase();if((r+=t>0?"_1":"_0")in i)return i[r]}catch(t){console.log("Error is processing adslot "+e+" Error: "+t)}return null},e.prototype.getTickerKVal=function(){return this.tickerkval},e}();t.default=i},70:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(34),n=function(){function e(e,t){this.mCallbackid=e.callbackid,this.mScript=e.script,this.mType=e.type,this.registerEvent(t)}return e.prototype.registerEvent=function(e){var t=this;switch(this.mType){case r.CallbackType.PRELOAD:r.Utility.ICJQuery(document).on("Callback_Preload_"+e,(function(){return t.loadScript()}));break;case r.CallbackType.POSTLOAD:r.Utility.ICJQuery(document).on("Callback_Postload_"+e,(function(){return t.loadScript()}));break;case r.CallbackType.ON_VIEWPORT:r.Utility.ICJQuery(document).on("Callback_OnViewport_"+e,(function(i,n){var s=r.Utility.getInstance();s.isInViewport("#"+n,null)?t.loadScript():r.Utility.ICJQuery(document).on("resize scroll."+e,(function(){s.isInViewport("#"+n,null)&&(r.Utility.ICJQuery(document).off("resize scroll."+e),t.loadScript())}))}));break;case r.CallbackType.ON_DOMLOAD:"complete"===document.readyState?this.loadScript():window.onload=function(){t.loadScript()};break;case r.CallbackType.ON_DOMREADY:r.Utility.ICJQuery(document).ready((function(){return t.loadScript()}));break;case r.CallbackType.ON_DOMUNLOAD:r.Utility.ICJQuery(window).on("unload",(function(){return t.loadScript()}));break;case r.CallbackType.ON_BLANK:r.Utility.ICJQuery(document).on("Callback_Blank_"+e,(function(){return t.loadScript()}));break;case r.CallbackType.ON_RENDERED:r.Utility.ICJQuery(document).on("Callback_Rendered_"+e,(function(e,i){t.mScript="(function(adData){"+t.mScript+"}("+JSON.stringify(i)+"))",t.loadScript()}))}},e.prototype.loadScript=function(){r.Utility.getInstance().executeJS(this.mScript)},e.prototype.getType=function(){return this.mType},e.prototype.getScript=function(){return this.mScript},e}();t.default=n},794:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(34),n=function(){function e(e,t,i){this.mIsStorageAccessAllowed=!1,this.mId=e.customvariableid,this.mName=e.name,this.mSource=e.source,this.mSourceVariable=e.sourcevariable,null!=e.defaultvalue&&(this.mValue=e.defaultvalue),this.mIsStorageAccessAllowed=t,this.mTemplate=i,this.setValue()}return e.prototype.setValue=function(){var e=r.Utility.getInstance();switch(this.mSource){case"QueryString":var t=e.getFromQueryString(this.mSourceVariable,this.mTemplate.getUrl());null!=t&&(this.mValue=t);break;case"SessionStorage":if(this.mIsStorageAccessAllowed){var i=e.getFromSessionStorage(this.mSourceVariable);null!=i&&(this.mValue=i)}else this.mValue="";break;case"LocalStorage":if(this.mIsStorageAccessAllowed){var n=e.getFromLocalStorage(this.mSourceVariable);null!=n&&(this.mValue=n)}else this.mValue="";break;case"Cookie":this.mIsStorageAccessAllowed?e.isCookieExists(this.mSourceVariable)&&(this.mValue=e.getFromCookie(this.mSourceVariable)):this.mValue="";break;case"DOM":e.executeJS("function ic_getDOMCustomVariableValue() { return "+this.mSourceVariable+"; }");try{if(window.hasOwnProperty("ic_getDOMCustomVariableValue")){var s=r.Utility.window.ic_getDOMCustomVariableValue.call();null!=s&&(this.mValue=s)}}catch(e){r.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Error getting value for custom variable "+this.mId+": "+e])}break;case"CustomJS":e.executeJS("function ic_getCustomJSCustomVariableValue() { "+this.mSourceVariable+" }");try{window.hasOwnProperty("ic_getCustomJSCustomVariableValue")&&(this.mValue=r.Utility.window.ic_getCustomJSCustomVariableValue.call())}catch(e){r.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Error getting value for custom variable "+this.mId+": "+e])}}},e.prototype.getId=function(){return this.mId},e.prototype.getName=function(){return this.mName},e.prototype.getValue=function(){return this.mValue},e.prototype.refetchValue=function(){this.setValue()},e}();t.default=n},915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mType=e.type,this.mDuration=e.duration,this.mUnit=e.unit,this.mCap=e.cap}return e.prototype.getType=function(){return this.mType},e.prototype.getDuration=function(){return this.mDuration},e.prototype.getUnit=function(){return this.mUnit},e.prototype.getCap=function(){return this.mCap},e}();t.default=i},996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){try{this.mLayout=e.nativelayout.layout}catch(e){throw new Error(e.message)}}return e.prototype.getLayout=function(){return this.mLayout},e.prototype.getNativeLayoutId=function(){return this.mNativeLayoutId},e}();t.default=i},154:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,r,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,o,l,d,m=i(34),u=i(105),c=i(665),p=i(863),g=function(){function e(e,t,i,r,n){this.mTags=[],this.mWebVitalsConfig={},this.mCssConfig={},this.mCallbacks=[],this.mIsParent=!0,this.mPublisherKval={},this.mTagsTotalWeight=0,this.mDFPSSPParams={},this.mDFPDMPParams={},this.mIsAutoRefreshEnabled=!1,this.mDATRefreshType=m.RefreshType.ONLOAD,this.mDATAdRefreshState=a.STOP,this.mDATSlotRendered=!1,this.mDATRenderedAdSize=[],this.mDATAdRefreshTimerStartTime=0,this.mDATAdRefreshTimerStopTime=0,this.mDATNotInViewTime=0,this.mDATInViewTime=0,this.mIsDATAdIndirectAdvertiser=!1,this.mActiveBrowserWindow=!0,this.mWaitingForTarget=!1,this.mWaitingForNativeLayout=!1,this.mIsImpressionViewable=!1,this.mUnfilledEventListeners=[],this.mRenderedEventListeners=[],this.isProbableLogFired=!1,this.mMaxAutoRefreshWithoutInteractionCounter=0,this.mSSPFetchBidsStartTime=0,this.mCorePlacement=JSON.stringify(e),this.mTemplate=t,this.mPublisherType=i,r&&(this.mWaitingForTarget=r),n&&(this.mWaitingForNativeLayout=n);try{this.mActiveBrowserWindow=document.hasFocus(),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(this.mActiveBrowserWindow=this.mActiveBrowserWindow||parent.document.hasFocus())}catch(e){this.mActiveBrowserWindow=!1}if(this.mRandomNumber=Math.floor(1e16*Math.random()),this.mId=e.id,this.mPriority=e.priority,this.mType=e.placementType,this.mTargeting=void 0,e.targeting)try{this.mTargeting=new u.Targeting(e.targeting,t),this.mTargeting&&this.mTargeting.recalculatePlacementEligibility()}catch(e){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.CUSTOM_TARGETING_FAILED,"Not able to serve the tag as targeting is not matched: "+e.message)}if(this.mFrequency=e.frequency?new u.Frequency(e.frequency):void 0,this.mLoadType=e.loadType,this.mWebVitalsConfig=e.webvitalsconfig?JSON.parse(e.webvitalsconfig):void 0,this.mCssConfig=e.cssconfig?JSON.parse(e.cssconfig):void 0,this.mSelector=e.selector?new u.Selector(e.selector):void 0,this.mType==m.PlacementType.HTML&&(null==this.mSelector||null==this.mSelector))throw new Error("Selector does not exists for the placement "+this.mId);this.mIsAutoRefreshEnabled=this.mTemplate.getAutoRefreshEnabled();for(var s=0;s<e.tags.length;++s){var o=new u.Tag(e.tags[s],this.mTagsTotalWeight);if(o.isForcedTargetEnabled()||(null!=this.mTemplate.getGlobalTarget()?(o.overrideTarget(this.mTemplate.getGlobalTarget().dfpkeyname),o.overrideTargetKval(this.mTemplate.getGlobalTarget().kval)):null!=this.mTemplate.mZone&&""!=this.mTemplate.mZone&&o.overrideTarget(this.mTemplate.mZone)),o.getType()==m.TagType.DISPLAY||o.getType()==m.TagType.NATIVE){if(o.getSizeMapping())if(o.isSizeMappingValid()){if(""==o.getAdSize()){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_TARGETING_FAILED);continue}}else this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_INVALID);if(!this.isAdSizeValid(o.getAdSize())){var l="ADVANCE"==this.mPublisherType?null:this.mId;this.mTemplate.pushPlacementErrorLog(l,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZE_INVALID,m.ErrorType.ADSIZE_INVALID.toString()+" ("+o.getAdSize()+")");continue}if(!o.getTargetName()){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.TARGET_INVALID);continue}}this.mTagsTotalWeight+=o.getWeight(),this.mTags.push(o)}if(this.mTags.length<=0)throw new Error("No tag exist for the placement.");this.mTags.sort((function(e,t){return e.getWeight()-t.getWeight()}));for(var d=0;d<e.callbacks.length;++d)this.mCallbacks.push(new u.Callback(e.callbacks[d],this.mRandomNumber))}return e.prototype.isAdSizeValid=function(e){if(!e)return!1;for(var t=0,i=e.replace(/\s/g,"").toLowerCase().split(",");t<i.length;t++){var r=i[t];if(!(r.indexOf("x")>=1||"fluid"==r||"oop"==r||"webinterstitial"==r))return!1}return!0},e.prototype.createDAT=function(e){var t=e.getTargetName(),i=e.getSiteDFPKeyName()+"/"+t;this.mSelector.getIdentifier();for(var r=[],n=function(e){if(e.indexOf("x")>=1){var t=e.split("x");if(t.length>2)return"continue";var i=!1;if(t.forEach((function(e){Number(e)||(i=!0)})),i)return"continue";r.push(t.map((function(e){return parseInt(e,10)})))}else"fluid"==e&&r.push(e)},s=0,a=e.getAdSize().replace(/\s/g,"").toLowerCase().split(",");s<a.length;s++)n(a[s]);var o,l=e.isCollapseEmptyDivEnabled(),d=e.isCollapseDivBeforeAdFetchEnabled(),m=this.mTemplate.getSite().getDFPConfig();null==l&&m&&"CollapseEmptyDiv"in m&&m.CollapseEmptyDiv&&(l=m.CollapseEmptyDiv),l&&null==d&&(d=!!(m&&"CollapseDivBeforeAdFetch"in m&&m.CollapseDivBeforeAdFetch)&&m.CollapseDivBeforeAdFetch);var u="";try{m&&"NetworkCode"in m&&(u=m.NetworkCode)}catch(e){}return e.isOOPWIUnit()?o=new c.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,u,!0):e.isOOPUnit()?(o=new c.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,u,!1),l&&o.setCollapseEmptyDiv(l,d),o.registerEvent("slotRequested",this.eventDATSlotRequested.bind(this,e)),o.registerEvent("impressionViewable",this.eventDATImpressionViewable.bind(this,e))):(o=new c.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,u,!1,r),l&&o.setCollapseEmptyDiv(l,d),o.registerEvent("slotRenderEnded",this.eventDATSlotRenderEnded.bind(this)),o.registerEvent("impressionViewable",this.eventDATImpressionViewable.bind(this,e)),o.registerEvent("slotVisibilityChanged",this.eventDATSlotVisibilityChanged.bind(this)),o.registerEvent("slotRequested",this.eventDATSlotRequested.bind(this,e)),o.registerEvent("slotResponseReceived",this.eventDATSlotResponseReceived.bind(this)),this.registerWindowEvent()),o},e.prototype.replaceMacros=function(e,t){if(null==e||null==e||""==e)return"";var i=e.match(/%%.*?%%/g);if(!i)return e;var r=m.Utility.getInstance(),n=this.mTemplate.getCustomVariables();if(!n||0==n.length)return m.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Placement with id "+this.mId+" has the macros but does not have the custom variable defined."]),e;for(var s=0;s<i.length;++s){var a=i[s];if(a.indexOf("SYSTEM")>-1)switch(a.replace("%%SYSTEM:","").replace("%%","")){case"TARGET":e=e.replace(a,t.getTargetName());break;case"TARGET_KVAL":e=e.replace(a,t.getTargetKval());break;case"PAGE_ID":e=e.replace(a,""+this.mTemplate.getPageId());break;case"VIEW_COUNT":e=this.mTemplate.getUSPStatus()!=m.USPStatus.NOT_APPLICABLE||p.default.isGDPRDenied()?e.replace(a,"-1"):e.replace(a,p.default.mViewCount);break;case"REFERRER_TYPE":e=e.replace(a,this.mTemplate.getReferrerType());break;case"PAGE_TYPE":e=e.replace(a,this.mTemplate.getPageType());break;case"DOCUMENT_TYPE":e=e.replace(a,this.mTemplate.getDocumentType());break;case"EXELATE_ID":e=e.replace(a,"-1");break;case"PAGE_URL":e=e.replace(a,m.Utility.window.top.location.href);break;case"AUTO_KVAL":e=e.replace(a,JSON.stringify(this.mTemplate.getKeyVal()));break;case"PIXEL_SEGMENT":e=e.replace(a,JSON.stringify(this.mTemplate.getPixelSegment()));break;case"USER_ID":e=e.replace(a,p.default.getUserId());break;case"DNT":e=e.replace(a,String(!(this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE&&!p.default.isGDPRDenied())));break;case"COOKIE_TYPE":e=e.replace(a,this.mTemplate.getUserCookieType());break;case"DAY_OF_WEEK":e=e.replace(a,r.getUSDayOfWeek());break;case"NETWORK_CODE":var o="";this.mTemplate.getSite().getDFPConfig()&&"NetworkCode"in this.mTemplate.getSite().getDFPConfig()&&(o=this.mTemplate.getSite().getDFPConfig().NetworkCode),e=e.replace(a,m.Utility.getInstance().getNetWorkCode(o))}else if(a.indexOf("CUSTOM")>-1){var l=a.replace("%%CUSTOM:","").replace("%%",""),d="";n[l]&&null!=n[l].getValue()?d=n[l].getValue():m.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Placement with id "+this.mId+": Either the custom variable with the name "+l+" does not exist or can't find the value of variable in a given source."]),e=e.replace(a,d)}}return e},e.prototype.getTagToDrop=function(){for(var e=0;e<this.mTags.length;++e){var t=this.mTags[e];switch(t.getGDPRStatus()){case"SERVE_ALWAYS":return t;case"SERVE_FOR_PERSONALIZED_AD_REQUEST":if(this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE&&!p.default.isGDPRDenied())return t;default:if(!this.mTemplate.isUserFromGDPRCountry()&&!this.mTemplate.isUserFromUSPState())return t}}return null},e.prototype.prepareCustomDiv=function(){var e="",t="0";try{this.mTagToRender.isOOPUnit()||this.mTagToRender.isOOPWIUnit()?(t="1",m.Utility.ICJQuery("#investingchannel_css_style").length||(t="2",m.Utility.ICJQuery("head").prepend("<style id='investingchannel_css_style'>.ic_1x1_css_class{width: 1px;height: 1px;}</style>")),t="3",e="<div id='"+this.mICDivId+"' ic_pageId='"+this.mTemplate.getPageId()+"' ic_placementId='"+this.mId+"' ic_tagId='"+this.mTagToRender.getId()+"' class='ic_1x1_css_class'></div>"):(t="4",e="<div id='"+this.mICDivId+"' ic_pageId='"+this.mTemplate.getPageId()+"' ic_placementId='"+this.mId+"' ic_tagId='"+this.mTagToRender.getId()+"'></div>")}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("Error","placement.prepareCustomDiv",e.message,this.mId,t)}return e},e.prototype.dropCustomDiv=function(e){var t="0";try{var i=this.mTemplate.getElementForThePlacement(this.mRandomNumber),r=void 0;if(t="1",!i)return;switch(r=m.Utility.ICJQuery(i),t="2",this.mSelector.getInsertionType()){case m.InsertionType.AFTER:r.after(e);break;case m.InsertionType.BEFORE:r.before(e);break;case m.InsertionType.FIRST_CHILD:r.prepend(e);break;case m.InsertionType.LAST_CHILD:r.append(e);break;case m.InsertionType.REPEAT:r.prepend(e)}var n=document.getElementById(this.mICDivId),s=this.mTemplate.getSite().getWebVitalsConfig(),a="";if(n&&this.mWebVitalsConfig&&"IsEnabled"in this.mWebVitalsConfig&&this.mWebVitalsConfig.IsEnabled){var o;for(var l in this.mTags){var d=this.mTags[l];if(null!=d.getAdSize()&&null!=d.getAdSize()){o=d.getMinWidthHeight();break}}"MinWidth"in this.mWebVitalsConfig?a+="min-width:"+this.mWebVitalsConfig.MinWidth+"px;":o&&o.indexOf("x")>0&&(a+="min-width:"+o.split("x")[0]+"px;"),"MinHeight"in this.mWebVitalsConfig?a+="min-height:"+this.mWebVitalsConfig.MinHeight+"px;":o&&o.indexOf("x")>0&&(a+="min-height:"+o.split("x")[1]+"px;"),"ImageLink"in this.mWebVitalsConfig?a+="background: url("+this.mWebVitalsConfig.ImageLink+") no-repeat left;":"ImageLink"in s&&(a+="background: url("+s.ImageLink+") no-repeat left;")}this.mCssConfig&&"Style"in this.mCssConfig&&(a+=this.mCssConfig.Style+";"),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside dropCustomDiv Style :"+this.mICDivId+" - "+a),n&&""!=a&&n.setAttribute("style",a),n&&this.mCssConfig&&"ClassName"in this.mCssConfig&&n.setAttribute("class",this.mCssConfig.ClassName)}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("Error","placement.dropCustomDiv","Error Message: "+e.message+" $# "+this.mSelector.getInsertionType(),this.mId,t)}},e.prototype.setTargetToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){this.mDFPParams.setTarget(e.getTargetName());var t=[];if(null==e.getTargetKval()){var i=this.mTemplate.getTargetData(e.getTargetName());null!=i&&(t=i.kval)}else t=e.getTargetKval();if("kval"in this.mPublisherKval){var r=this.mPublisherKval.kval;Array.isArray(r)||(r=[r]),t=t.concat(r)}"kval"in this.mTemplate.getPublisherKval()&&(r=this.mTemplate.getPublisherKval().kval,Array.isArray(r)||(r=[r]),t=t.concat(r)),t=m.Utility.getInstance().removeDuplicateFromArray(t),this.mDFPParams.setTargetKval(t)}},e.prototype.setAdRefreshParameters=function(){null==this.mDFPParams.getAdRefreshCount()||isNaN(this.mDFPParams.getAdRefreshCount())?this.mDFPParams.setAdRefreshCount(0):this.mDFPParams.setAdRefreshCount(this.mDFPParams.getAdRefreshCount()+1),this.mDFPParams.setAdRefreshType(this.mDATRefreshType)},e.prototype.updateAdPositionParametersToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){var t=this.prepareAdPositionsParams();null!=t.browserSize&&this.mTemplate.getDocumentType()==m.DocumentType.PAGE&&this.mDFPParams.setBrowserSize(t.browserSize),null!=t.absolutePosition&&this.mDFPParams.setAbsolutePosition(t.absolutePosition),null!=t.relativePosition&&this.mDFPParams.setRelativePosition(t.relativePosition)}},e.prototype.updateViewabilityAttributesToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE))if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME&&parent==top||this.mTemplate.getDocumentType()==m.DocumentType.PAGE){var t=this.calculateViewabilityAttributes();this.mDFPParams.setFoldPosition(""+t.foldPosition),this.mDFPParams.setVisiblePercentage(""+t.visiblePercentage)}else this.mDFPParams.setFoldPosition("-1"),this.mDFPParams.setVisiblePercentage("-1")},e.prototype.updateAdxParametersToDFPParams=function(){var e="e"+Math.floor(10*Math.random());this.mDFPParams.setAdxRandomNumber(e),this.mDFPParams.setAdxHour((new Date).getUTCHours().toString())},e.prototype.getLogParams=function(e,t){var i=u.Template.getBrowserUrl(),n=e.getId(),s=this.mId;"ADVANCE"==this.mPublisherType&&(n=null,s=null);var a={publisherType:this.mPublisherType,pageId:""+this.mTemplate.getPageId(),rnd:""+this.mRandomNumber,apiKey:u.Template.getAPIKey(),placementId:""+s,placementType:this.mType,tagId:""+n,tagType:e.getType(),logType:t,documentType:this.mTemplate.getDocumentType(),device:this.mTemplate.getDeviceType(),sitename:"",adsize:"",dfpKval:encodeURIComponent("bs:"+m.Utility.getInstance().getBrowserSize()),atStatus:this.mTemplate.getAutoTargetStatus(),version:m.Constant.VERSION,uspstring:this.mTemplate.getUSPString(),refererUrl:encodeURIComponent(this.mTemplate.getReferer()),pageUrl:encodeURIComponent(i),renderType:"",segments:this.mTemplate.getAdFormMatchingSegmentIds().join(",").toString()};if(this.mType==m.PlacementType.HTML&&(a.renderType=this.mSelector.getInsertionType(),e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){this.updateViewabilityAttributesToDFPParams(e),this.updateAdPositionParametersToDFPParams(e),a.sitename=e.getSiteDFPKeyName()+"/"+e.getTargetName(),a.adsize=e.getAdSize();var o=this.setDfpParams(e),l=this.getTickerValues(e),d=this.mTemplate.getParametersForDFP(),c=m.Utility.getInstance().getUSDayOfWeek(),g=this.computeUserInactiveTimeForDFP().toString(),h={};p.default.isTagManagerEnabled&&(h={AYV:"UAT"}),o=l.length>0?r(r(r(r(r(r(r(r({},this.mPublisherKval),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),d),{t:l}),{dow:c,uit:g}),h):r(r(r(r(r(r(r({},this.mPublisherKval),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),d),{dow:c,uit:g}),h);var f="";for(var S in o)"tl"!=S&&"rnd"!=S&&"pageId"!=S&&"dt"!=S&&"d"!=S&&"referer"!=S&&(f+=S+":"+o[S]+";");a.dfpKval=f.length>0?encodeURIComponent(f.replace(/;\s*$/,"")):f}return a},e.prototype.sspCallback=function(e){if(e&&e.markit)for(var t in e.markit)this.mDFPSSPParams[t]=""+e.markit[t]},e.prototype.setDfpParams=function(e){var t={};try{var i,n=this.getTickerValues(e),s=this.mTemplate.getParametersForDFP();i=r(r({},this.mTemplate.getPublisherKval()),this.mPublisherKval);var a=m.Utility.getInstance().getUSDayOfWeek(),o=u.Template.getTickerKeyValue();try{var l=this.mTemplate.getCommonSiteConfig().getTickerKVal();null!=o&&0==Object.keys(o).length&&null!=l&&Object.keys(JSON.parse(l)).length>0&&(o=JSON.parse(l))}catch(e){}var d=this.computeUserInactiveTimeForDFP().toString(),c={};if(p.default.isTagManagerEnabled&&(c={AYV:"UAT"}),n.length>0?(t=r(r(r(r(r(r(r(r({},i),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),s),{t:n}),{dow:a,uit:d}),c),t=this.combineKeyValues(t,o)):t=r(r(r(r(r(r(r({},i),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),s),{dow:a,uit:d}),c),this.mPublisherKval&&this.mPublisherKval.adslot&&this.mPublisherKval.adslot.length>=1){var g=this.mTemplate.getCommonSiteConfig().getAdSlotKeyValues(this.mPublisherKval.adslot[0],this.mDFPParams.getAdRefreshCount());g&&null!=g&&(t=r(r({},t),g))}p.default.mUserHashKeyValues&&(t=this.combineKeyValues(t,p.default.mUserHashKeyValues),"as"in p.default.mUserHashKeyValues&&(t=r(r({},t),{as:p.default.mUserHashKeyValues.as})))}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("ERROR : setDfpParams :: "+e)}return t},e.prototype.prepareUAT5Key=function(e){"uat5"in this.mPublisherKval||(this.mPublisherKval.uat5=["true"]);try{var t=e.getDAT().mDivId;this.setFPToDfpValue(t)}catch(e){}try{p.default.SovrnDfpKeyValue&&""!=p.default.SovrnDfpKeyValue&&(this.mPublisherKval.uat5=m.Utility.getInstance().removeSovrnDfpKeysFromArray(this.mPublisherKval.uat5),this.mPublisherKval.uat5.push(p.default.SovrnDfpKeyValue))}catch(e){}var i=m.Constant.ENVIRONMENT;"prod"!=i&&-1==this.mPublisherKval.uat5.indexOf(i)&&this.mPublisherKval.uat5.push(i)},e.prototype.setFPToDfpValue=function(e){try{var t=c.SSP.mFpPassedToAdSlot;if(e in t){var i=-1;this.mPublisherKval.uat5.indexOf("bf_y")>-1?i=this.mPublisherKval.uat5.indexOf("bf_y"):this.mPublisherKval.uat5.indexOf("bf_n")>-1&&(i=this.mPublisherKval.uat5.indexOf("bf_n")),"y"==t[e]?i>-1?this.mPublisherKval.uat5[i]="bf_y":this.mPublisherKval.uat5.push("bf_y"):"n"==t[e]?i>-1?this.mPublisherKval.uat5[i]="bf_n":this.mPublisherKval.uat5.push("bf_n"):i>-1&&(this.mPublisherKval.uat5=m.Utility.getInstance().removeElementFromArray(this.mPublisherKval.uat5,i)),t[e]="",this.mPublisherKval.uat5=m.Utility.getInstance().removeDuplicateFromArray(this.mPublisherKval.uat5)}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("ERROR : prepareUAT5Key :: "+e)}},e.prototype.checkAdhesionPlacement=function(){if(this.mPublisherKval&&"adslot"in this.mPublisherKval){var e=this.mPublisherKval.adslot;if(e&&e.toString().toLowerCase().indexOf("adhesion")>=0)return!0}return!1},e.prototype.getStackSspServeVertical=function(e,t){var i=r({a9:e.a9},e.prebid),n=-2,s=-2,a=-2,o=-2,l="",d="",u="",p="",g=-2,h="";for(var f in i){var S=i[f];if(S){var y=S[(f=m.Utility.getInstance().getBidderNameByCode(f,c.SSP.getInstance().getBidderOldToNewKeys()))+"_sz"];S[f+"_id"]&&(h=S[f+"_id"]);var b=S[f];if("a9"==f){var T=c.SSP.getInstance();g=b,-1!=b&&0!=b&&(g=T.getA9PriceByCode(b))}else g=b;"31"==y?g>n&&(n=g):"36"==y?g>s&&(s=g):"32"==y&&(g>a?(o=a,a=g,d=l,l=f,p=u,u=h):g>o&&(o=g,d=f,p=h))}}if(+a>0&&+o>0&&+a+ +o>+s&&+a+ +o>+n){var I=t.getAdSize(),v=I.split(",");if(v.length>0&&v.indexOf("300x501")<0){v.push("300x501"),I=v.join(","),t.setAdSize(I);var P=t.getSizeMapping();if(P&&P.length>0)for(var E=0;E<P.length;E++){var A=P[E][1];(this.isArrayExistsinList([300,600],A)||this.isArrayExistsinList([300,1050],A))&&A.push([300,501])}var C=t.getDAT().getTargeting();t.getDAT().destroy(),t.setDAT(this.createDAT(t)),t.getSizeMapping()&&t.getDAT().defineSizeMapping(t.getSizeMapping()),C&&t.getDAT().setTargeting(C)}var D=c.SSP.getInstance().getPrebid().getPriceBucketString(""+(+a+ +o),this.mTemplate.getSSPConfig().prebid.priceGranularity);this.mTemplate.isDebugModeEnabled()&&(m.Utility.getInstance().debugConsoleMessage("Stack Ads - 300x501 , Actual Values :: bidder 1 :: "+a+", Bidder 2 :: "+o+", sum :: "+(a+o)),m.Utility.getInstance().debugConsoleMessage("Stack Ads - 300x501, after Price granularity Values :: "+D)),e.tt={tt:""+parseFloat(D),tt_v:l+":"+d,tt_id:u+":"+p}}return e},e.prototype.prepareHorizontalStackBids=function(e,t){var i=c.SSP.getInstance().getStackSspServeHorizontal(e,t,this.mICDivId);if(Object.keys(i).length>0&&"tt"in i&&""!=i.tt){var r=t.getAdSize(),n=r.split(",");if(n.length>0&&n.indexOf("950x250")<0){n.push("950x250"),r=n.join(","),t.setAdSize(r);var s=t.getSizeMapping();if(s&&s.length>0)for(var a=0;a<s.length;a++){var o=s[a][1];this.isArrayExistsinList([970,250],o)&&o.push([950,250])}var l=t.getDAT().getTargeting();t.getDAT().destroy(),t.setDAT(this.createDAT(t)),t.getSizeMapping()&&t.getDAT().defineSizeMapping(t.getSizeMapping()),l&&t.getDAT().setTargeting(l)}var d=i.tt;d=c.SSP.getInstance().getPrebid().getPriceBucketString(""+d,this.mTemplate.getSSPConfig().prebid.priceGranularity),i.tt=parseFloat(d),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Stack Ads - 970x250:: tt ::  "+JSON.stringify(i)),e.tt=i}return e},e.prototype.isArrayExistsinList=function(e,t){for(var i=e.join("x"),r=0;r<t.length;r++)if("object"==typeof t[r]&&i==t[r].join("x"))return!0;return!1},e.prototype.prepareDFPParams=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,a,o,l,d,p,g,h,f,S,y,b,T;return s(this,(function(s){if(this.mDFPSSPParams={},this.prepareUAT5Key(e),"ADVANCE"!=this.mPublisherType&&this.mDFPParams.setTagId(e.getId()),!e.isOOPUnit()&&!e.isOOPWIUnit()&&(this.updateViewabilityAttributesToDFPParams(e),this.updateAdPositionParametersToDFPParams(e),t=u.Template.getStackVerticalalEnabled(),i=u.Template.getStackHorizontalEnabled(),null!=(r=c.SSP.getInstance())&&(n=r.getPrebid(),a=!1,n&&(a=n.isDummyStackPlacement(this.mICDivId)),0==a&&(o=void 0,o=c.SSP.getInstance().getBids(this.mICDivId))))){if(1==t&&o.placement&&"size"in o.placement&&o.placement.size.indexOf("300x250")>-1&&(o.placement.size.indexOf("300x600")>-1||o.placement.size.indexOf("300x1050")>-1)&&(o=this.getStackSspServeVertical(o,e)).tt)for(T in o.tt)this.mDFPSSPParams[T]=""+o.tt[T];if(1==i&&o.placement&&"size"in o.placement&&o.placement.size.indexOf("970x250")>-1&&(o=this.prepareHorizontalStackBids(o,e)).tt)for(T in o.tt)this.mDFPSSPParams[T]=""+o.tt[T];if(o.a9)for(T in o.a9)this.mDFPSSPParams[T]=""+o.a9[T];if(o.prebid){for(T in String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),l=-2,d="",p="",g="",h="",f=this.mTemplate.getSSPPrebidIgnoreList(),o.prebid){for(y in S=o.prebid[T])this.mDFPSSPParams[y]=""+S[y];if(f.indexOf(T)<0)for(y in S)if(!(y.endsWith("_id")||y.endsWith("_d")||y.endsWith("_sz"))&&l<S[y]){for(b in l=S[y],d=T,g="",h="",p="",S)b.endsWith("_sz")?g=S[b]:b.endsWith("_id")?p=S[b]:b.endsWith("_d")&&(h=S[b]);break}this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside PrepareDFPParam SSP KEY "+T+" - ",[S])}this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("preparedfpparams :: ",o),l>=-1&&(this.mDFPSSPParams["pb_"+g]=""+l,l>0&&(this.mDFPSSPParams.pb_v=d,p&&(this.mDFPSSPParams["pb_"+g+"_id"]=p),h&&(this.mDFPSSPParams["pb_"+g+"_d"]=h)))}if(o.markit)for(T in o.markit)this.mDFPSSPParams[T]=""+o.markit[T]}try{u.Template.mIsAdformEnabled&&u.Template.mIsAdformDropped&&(this.mDFPDMPParams.af=u.Template.getUIDForAdForm(),u.Template.mAdFormSegmentIds.length>0&&(this.mDFPDMPParams.as=this.mTemplate.getAdFormMatchingSegmentIds()))}catch(e){}return[2]}))}))},e.prototype.validateSSP=function(e,t){return n(this,void 0,void 0,(function(){var i,r,n=this;return s(this,(function(s){return this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE?(i=(new Date).valueOf()-this.mTemplate.getLastDFPCallTime())<this.mTemplate.getDFPCallBufferTime()?this.mValidateSSPTimeout=setTimeout((function(){return n.validateSSP(e,t)}),this.mTemplate.getDFPCallBufferTime()-i):(c.SSP.getInstance()&&c.SSP.getInstance().isBidsExpired(this.mICDivId)&&(c.SSP.getInstance().refreshBids(this.mICDivId,this.mDATRefreshType,!1,this.mDFPParams.getAdRefreshCount()),this.mSSPFetchBidsStartTime=(new Date).getTime()),r=t?+this.mTemplate.getSSPConfig().totalDelayRefresh:+this.mTemplate.getSSPConfig().totalDelay,this.waitForSSP(e,r,t,!0)):t?this.refreshDisplayTag(e):this.renderDisplayTag(e),[2]}))}))},e.prototype.waitForSSP=function(e,t,i,r){var n=this,s=t-((new Date).getTime()-this.mSSPFetchBidsStartTime);if((!c.SSP.getInstance()||"RECEIVED"!=c.SSP.getInstance().getStatus(this.mICDivId)&&"NOT_APPLICABLE"!=c.SSP.getInstance().getStatus(this.mICDivId))&&s>0){var a=+this.mTemplate.getSSPConfig().delayStep;a=r?Math.round(s/2.5):a>s?s:a,this.mWaitForSSPTimeout=setTimeout((function(){n.waitForSSP(e,t,i,!1)}),a)}else clearInterval(this.mWaitForSSPTimeout),this.mSSPFetchBidsStartTime=0,i?this.refreshDisplayTag(e):this.renderDisplayTag(e)},e.prototype.getTickerValues=function(t){var i=[];try{p.default.IsPubSetTickerTriggered&&(i=p.default.pubTicker);try{"t"in this.mTemplate.getPublisherKval()&&null!=this.mTemplate.getPublisherKval().t&&""!=this.mTemplate.getPublisherKval().t&&(i=i.concat(this.mTemplate.getPublisherKval().t.join().toUpperCase().split(",")))}catch(e){}try{"t"in this.mPublisherKval&&null!=this.mPublisherKval.t&&""!=this.mPublisherKval.t&&(i=i.concat(this.mPublisherKval.t.join().toUpperCase().split(",")))}catch(e){}var r=this.mTemplate.getParametersForDFP();if("t"in r){var n=r.t;try{"object"==typeof r.t&&(n=r.t.join(","))}catch(e){}null!=n&&""!=n&&(i=i.concat(n.toUpperCase().split(",")))}try{if(1==u.Template.markitEnabled&&c.SSP.getInstance()){var s=c.SSP.getInstance().getMarkitValueFromWindow();s&&"t"in s&&(i=i.concat(s.t.toUpperCase().split(",")))}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Error:getTickerValues for Markit :: "+e)}try{var a=this.mTemplate.getCommonSiteConfig().getTicker();if(a){var o=JSON.parse(a);"t"in o&&(i=i.concat(o.t))}}catch(e){}}catch(e){console.log(e)}return i=m.Utility.getInstance().removeDuplicateFromArray(i),e.pTickerValues=i,i},e.prototype.renderDisplayTag=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,a,o=this;return s(this,(function(s){switch(s.label){case 0:return this.mDATRefreshType=m.RefreshType.ONLOAD,e.getTargetName().indexOf(".bottom")>0&&(this.mTemplate.eligibleForBottomZoning(this)||(e.disableBottomZoning(),e.getDAT()&&(t=e.getDAT(),i=t.getTargeting(),t.destroy(),t=this.createDAT(e),e.setDAT(t),e.getSizeMapping()&&e.getDAT().defineSizeMapping(e.getSizeMapping()),t.setTargeting(i)),this.mDFPParams.setTarget(e.getTargetName()))),e.getDAT()||(e.setDAT(this.createDAT(e)),e.getSizeMapping()&&e.getDAT().defineSizeMapping(e.getSizeMapping())),[4,this.prepareDFPParams(e)];case 1:s.sent(),r=e.getDAT(),n=this.setDfpParams(e),r.setTargeting(n),this.mTemplate.getDocumentType()==m.DocumentType.IFRAME&&(a=[""],r.setTargetingByKey("rft",a));try{this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Calling DFP for "+e.getAdSize()+" with the parameters ",[n])}catch(e){console.log(e)}return this.mTemplate.isSingleRequestEnabled()?this.mLoadType==m.LoadType.ON_VIEW||this.mLoadType==m.LoadType.ONLOAD_ONVIEW?this.mTemplate.readyToRender(this.mICDivId,this.mLoadType,e):this.mTemplate.readyToRender(this.mICDivId,this.mLoadType):r.render(),e.isOOPUnit()||e.isOOPWIUnit()||(this.mTargetRuleTimeoutInstance=setTimeout((function(){return o.executeTargetRules(e)}),this.mTemplate.getTargetRulesTimeout())),[2]}}))}))},e.prototype.refreshDisplayTag=function(e){return n(this,void 0,void 0,(function(){var t,i;return s(this,(function(r){switch(r.label){case 0:return[4,this.prepareDFPParams(e)];case 1:r.sent(),(t=e.getDAT()).clearTargeting(),i=this.setDfpParams(e),t.setTargeting(i);try{this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Refreshing the tag "+e.getAdSize(),[i])}catch(e){console.log(e)}return this.mTemplate.isSingleRequestEnabled()?this.mTemplate.readyToRefresh(this.mICDivId):(this.mTemplate.setLastDFPCallTime((new Date).valueOf()),t.refresh()),this.mDATAdRefreshTimerStartTime=0,this.mDATAdRefreshTimerStopTime=0,this.mDATNotInViewTime=0,this.mDATInViewTime=0,this.mDATSlotRendered=!1,this.mDATAdRefreshState=a.STOP,this.mIsDATAdIndirectAdvertiser=!1,this.mIsImpressionViewable=!1,[2]}}))}))},e.prototype.dropTag=function(e,t){t&&m.Utility.ICJQuery(document).trigger("Callback_Preload_"+this.mRandomNumber);var i=this.replaceMacros(e.getScript(),e);if(this.mType==m.PlacementType.PIXEL)m.Utility.ICJQuery("head").prepend(i),m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED));else{if(null==this.mSelector)return;switch(e.getType()){case m.TagType.CUSTOM:m.Utility.ICJQuery("#"+this.mICDivId).append(i),m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED));break;case m.TagType.DISPLAY:case m.TagType.NATIVE:this.validateSSP(e,!t);case m.TagType.VIDEO:}}t&&(m.Utility.ICJQuery(document).trigger("Callback_Postload_"+this.mRandomNumber),m.Utility.ICJQuery(document).trigger("Callback_OnViewport_"+this.mRandomNumber,[this.mICDivId])),this.mState=m.PlacementState.LOADED},e.prototype.saveToStorage=function(e,t){var i=m.Utility.getInstance();i.isLocalStorageSupported()?i.saveToLocalStorage(e,t):i.saveToCookie(e,t)},e.prototype.getFromStorage=function(e){var t=m.Utility.getInstance();return t.isLocalStorageSupported()?t.getFromLocalStorage(e):t.getFromCookie(e)},e.prototype.deleteFromStorage=function(e){var t=m.Utility.getInstance();t.isLocalStorageSupported()?t.deleteFromLocalStorage(e):t.deleteFromCookie(e)},e.prototype.displayTag=function(e){var t=this;if(this.mState=m.PlacementState.INITIALIZED,this.mLastRenderedTagType=this.mTagToRender.getType(),this.mType==m.PlacementType.HTML){if(e&&!m.Utility.ICJQuery("#"+this.mICDivId).length){var i=this.prepareCustomDiv();this.dropCustomDiv(i)}this.mTagToRender.getType()!=m.TagType.DISPLAY&&this.mTagToRender.getType()!=m.TagType.NATIVE||!this.mTemplate.isSingleRequestEnabled()||e||this.mTemplate.addTagToRefreshArray(this.mICDivId,this.mTagToRender)}switch(this.setTargetToDFPParams(this.mTagToRender),this.updateAdxParametersToDFPParams(),this.setAdRefreshParameters(),e&&!this.isProbableLogFired&&(m.Utility.getInstance().pushToReportLog(this.getLogParams(this.mTagToRender,l.PROBABLE)),this.isProbableLogFired=!0),this.mLoadType){case m.LoadType.ON_LOAD:"complete"==document.readyState?this.dropTag(this.mTagToRender,e):m.Utility.ICJQuery(window).on("load",(function(){t.dropTag(t.mTagToRender,e)}));break;case m.LoadType.ON_VIEW:this.isInViewPort(e);break;case m.LoadType.ON_REALTIME:case m.LoadType.CUSTOM:this.dropTag(this.mTagToRender,e);break;case m.LoadType.ONLOAD_ONVIEW:"complete"==document.readyState?this.isInViewPort(e):m.Utility.ICJQuery(window).on("load",(function(){t.isInViewPort(e)}))}},e.prototype.isInViewPort=function(e){var t=this,i=this.mTemplate.getOnViewBufferPercentage(),r=document.querySelector("#"+this.mICDivId);r&&new IntersectionObserver((function(i,r){i.forEach((function(i){i.isIntersecting&&(r.disconnect(),t.dropTag(t.mTagToRender,e))}))}),{root:null,rootMargin:"0px",threshold:[0,i/100]}).observe(r)},e.prototype.getAbsolutePosition=function(e){var t=0,i=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var r=m.Utility.window.frameElement.getBoundingClientRect();null==r||null==r||0==r.top&&0==r.left&&0==r.right&&0==r.bottom||(void 0!==m.Utility.window.top.pageXOffset?(t=Math.round(r.left+m.Utility.window.top.pageXOffset),i=Math.round(r.top+m.Utility.window.top.pageYOffset)):(t=Math.round(r.left+m.Utility.window.top.document.documentElement.scrollLeft),i=Math.round(r.top+m.Utility.window.top.document.documentElement.scrollTop)))}var n=e.getBoundingClientRect();return null==n||null==n||0==n.top&&0==n.left&&0==n.right&&0==n.bottom?null:void 0!==pageXOffset?(t+=Math.round(n.left+pageXOffset))+"x"+(i+=Math.round(n.top+pageYOffset)):(t+=Math.round(n.left+document.documentElement.scrollLeft))+"x"+(i+=Math.round(n.top+document.documentElement.scrollTop))},e.prototype.getRelativePosition=function(e){var t=0,i=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var r=m.Utility.window.frameElement.getBoundingClientRect();null==r||null==r||0==r.top&&0==r.left&&0==r.right&&0==r.bottom||(t=Math.round(r.left),i=Math.round(r.top))}var n=e.getBoundingClientRect();return null==n||null==n||0==n.top&&0==n.left&&0==n.right&&0==n.bottom?null:(t+=Math.round(n.left))+"x"+(i+=Math.round(n.top))},e.prototype.prepareAdPositionsParams=function(){var e=null,t=null,i=null;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME&&parent==top||this.mTemplate.getDocumentType()==m.DocumentType.PAGE){e=m.Utility.getInstance().getBrowserSize();var r=document.getElementById(this.mICDivId),n=this.getAbsolutePosition(r),s=this.getRelativePosition(r);n&&(t=n),s&&(i=s)}return{browserSize:e,absolutePosition:t,relativePosition:i}},e.prototype.getVisibleAreaPercentage=function(e,t,i){t=0==t?1:t,i=0==i?1:i;try{if(!m.Utility.ICJQuery(e).is(":visible"))return-2}catch(e){console.log(e)}var r=e.getBoundingClientRect(),n=m.Utility.getInstance().clientWindowHeight(),s=m.Utility.getInstance().clientWindowWidth(),a=r.top,o=r.left,l=0,d=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var u=m.Utility.window.frameElement.getBoundingClientRect(),c=m.Utility.window.top.innerHeight,p=m.Utility.window.top.innerWidth;if(u.top>c||u.left>p||u.bottom<0||u.right<0||u.top+r.top>c||u.left+r.left>p||r.bottom<0||r.right<0)return 0;u.top<0&&(a+=u.top),u.left<0&&(o+=u.left),c<u.bottom&&c<u.top+r.top+Number(i)?l=Number(i)-(c-(u.top+r.top)):u.bottom<u.top+r.top+Number(i)&&(l=Number(i)-(u.bottom-(u.top+r.top))),p<u.right&&p<u.left+r.left+Number(t)?d=Number(t)-(p-(u.left+r.left)):u.right<u.left+r.left+Number(t)&&(d=Number(t)-(u.right-(u.left+r.left)))}var g=a+Number(i)-l,h=o+Number(t)-d,f=a<0?0:a,S=o<0?0:o,y=g<0?0:g,b=h<0?0:h;return((y=y>n?n:y)-(f=f>n?n:f))*((b=b>s?s:b)-(S=S>s?s:S))/(Number(i)*Number(t))*100},e.prototype.calculateViewabilityAttributes=function(){var e="300x250",t=this.getNonNullPrimaryAdSize(),i=document.getElementById(this.mICDivId);t.indexOf("x")>=0&&!isNaN(+t.split("x")[0])&&!isNaN(+t.split("x")[1])&&(e=t);var r=e.split("x")[0],n=e.split("x")[1],s=this.getVisibleAreaPercentage(i,+r,+n);s>=0&&(s=10*Math.ceil(s/10));var a=0;return s<=-1?a=s:s>=m.Constant.FOLDPOSITION_TOLERANCE&&(a=1),{foldPosition:a,visiblePercentage:s}},e.prototype.setWaitingForTarget=function(e){this.mWaitingForTarget=e},e.prototype.getWaitingForTarget=function(){return this.mWaitingForTarget},e.prototype.setWaitingForNativeLayout=function(e){this.mWaitingForNativeLayout=e},e.prototype.getWaitingForNativeLayout=function(){return this.mWaitingForNativeLayout},e.prototype.initialiseObject=function(e){var t="0";try{this.mICDivId="investingchannel_div_"+this.mRandomNumber,t="1",this.mStorageKey="IC_Placement_"+this.mId,t="2",this.mState=m.PlacementState.UNKNOWN,t="3",this.mDFPParams=new m.DFPPlacementParams,t="4",this.mDFPParams.setRandomNumber(this.mRandomNumber),t="5",this.mDFPParams.setTile(e),t="6",this.mDFPParams.setPosition(this.mTemplate.calculatePosition(this.getNonNullPrimaryAdSize(),this.mRandomNumber)),t="7";for(var i=0;i<this.mTags.length;++i){var r=this.mTags[i];if(t="8."+i,this.mDFPParams.getPosition()>1&&(r.getType()==m.TagType.DISPLAY||r.getType()==m.TagType.NATIVE)&&r.enableBottomZoning(),t="9."+i,t="11."+i,r.getPublisherKVal()){var n=r.getPublisherKVal().split("&");t="12."+i;for(var s=0;s<n.length;++s)if(2==n[s].split("=").length){t="13."+i+"."+s;var a=this.replaceMacros(n[s],r);t="14."+i+"."+s;var o=a.split("=")[0];t="15."+i+"."+s;var l=a.split("=")[1].split(",");t="16."+i+"."+s,null!=this.mPublisherKval&&o in this.mPublisherKval&&(l=l.concat(this.mPublisherKval[o])),t="17."+i+"."+s;var d=m.Utility.getInstance().removeDuplicateFromArray(l);t="18."+i+"."+s,this.mPublisherKval[o]=d,"t"==o.toLowerCase()&&c.DMP.getInstance().addDmpProperty({t:d}),t="18.1."+i+"."+s}}}if(this.mTagToRender=this.getTagToDrop(),t="19",!this.mTagToRender)return this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.mPublisherType,m.ErrorType.GDPR_TARGETING_FAILED),void(this.mState=m.PlacementState.TARGETING_FAILED);if(t="20",this.mType==m.PlacementType.HTML){var u=this.prepareCustomDiv();t="21",this.dropCustomDiv(u),t="22"}}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("Error","placement.initialiseObject",e.message,null,t)}},e.prototype.startRefreshTimer=function(){var e=this;if(this.mDATAdRefreshState==a.STOP){this.mDATAdRefreshTimerStartTime=(new Date).valueOf();var t=this.mDATAdRefreshTimerStopTime>0?this.mDATAdRefreshTimerStartTime-this.mDATAdRefreshTimerStopTime:0;this.mDATNotInViewTime+=t;var i=this.mAutoRefreshConfig.RefreshTime,r=this.mAutoRefreshConfig.OutOfViewTime;this.mIsDATAdIndirectAdvertiser&&(i=this.mAutoRefreshConfig.RefreshTimeIndirect,r=this.mAutoRefreshConfig.OutOfViewTimeIndirect),this.mDATAdRefreshState=a.START,t>r?(this.mDATRefreshType=m.RefreshType.ACTIVEWINDOW,this.mIsImpressionViewable?this.displayTag(!1):(this.mDATAdRefreshState=a.STOP,this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement ==> Imression Viewable not yet tiggered totalOutOfView reached. Placement Id="+this.mId))):this.mDATAdRefreshTimerInstance=setTimeout((function(){e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("User IsInactive =>"+e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)+" , Inactivity Time=>"+e.mTemplate.getUserInactiveTime(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)+" Placement Id="+e.mId+", InactiveCounter:"+e.mMaxAutoRefreshWithoutInteractionCounter+" , condtion: "+e.mAutoRefreshConfig.MaxAutoRefreshWithoutInteraction*i+" > "+e.mTemplate.getUserInactiveTime(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)),e.mDATRefreshType=m.RefreshType.TIME,e.mIsDATAdIndirectAdvertiser&&(e.mLoadType=m.LoadType.ON_VIEW),e.mIsImpressionViewable?!e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)||e.mMaxAutoRefreshWithoutInteractionCounter<e.mAutoRefreshConfig.MaxAutoRefreshWithoutInteraction?(e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)?e.mMaxAutoRefreshWithoutInteractionCounter=e.mMaxAutoRefreshWithoutInteractionCounter+1:e.mMaxAutoRefreshWithoutInteractionCounter=0,e.displayTag(!1)):(e.mDATInViewTime=i,e.mDATAdRefreshState=a.STOP,e.mActiveUserEvent&&null!=e.mActiveUserEvent||e.registerActiveUserEvent()):(e.mDATInViewTime=i,e.mDATAdRefreshState=a.STOP,e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement ==> Impression Viewable not yet tiggered timebased. Placement Id="+e.mId))}),i-this.mDATInViewTime)}},e.prototype.stopRefreshTimer=function(){this.mDATAdRefreshState==a.START&&(this.mDATAdRefreshTimerStopTime=(new Date).valueOf(),this.mDATInViewTime=this.mDATInViewTime+(this.mDATAdRefreshTimerStopTime-this.mDATAdRefreshTimerStartTime),clearInterval(this.mDATAdRefreshTimerInstance),this.mDATAdRefreshState=a.STOP)},e.prototype.evaluateAdRefresh=function(e){if(this.mIsAutoRefreshEnabled&&2==this.mDATRenderedAdSize.length&&!(this.mDFPParams.getAdRefreshCount()>=this.mAutoRefreshConfig.MaxRefreshCount)){var t=this.mAutoRefreshConfig.ViewabilityThresholdPercentage;if(this.mIsDATAdIndirectAdvertiser&&(t=this.mAutoRefreshConfig.ViewabilityThresholdPercentageIndirect),"300x1050"==this.mDATRenderedAdSize[0]+"x"+this.mDATRenderedAdSize[1]){if(!this.mIsDATAdIndirectAdvertiser)return void(this.mIsAutoRefreshEnabled=!1);t*=.6}e>=t?(this.startRefreshTimer(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered Start Refresh Timer: Counter="+this.mDATInViewTime+" Placement Id="+this.mId)):this.mIsDATAdIndirectAdvertiser?this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered No Active Timer: Indirect="+this.mIsDATAdIndirectAdvertiser+" Placement Id="+this.mId):(this.stopRefreshTimer(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered Stop Refresh Timer: StopCounter="+this.mDATInViewTime+" Placement Id="+this.mId))}},e.prototype.windowEventHandler=function(e){if(this.mIsAutoRefreshEnabled){var t=document.getElementById(this.mICDivId);if(t)if(e==o.BLUR)this.mTemplate.getDocumentType()!=m.DocumentType.PAGE?this.mActiveBrowserWindow=document.hasFocus()||parent.document.hasFocus():this.mActiveBrowserWindow=!1,this.mDATSlotRendered&&!this.mActiveBrowserWindow&&this.evaluateAdRefresh(0);else if(e!=o.FOCUS&&e!=o.SCROLL&&e!=o.RESIZE&&e!=o.MOUSEMOVE||(this.mActiveBrowserWindow=!0),this.mDATSlotRendered&&this.mActiveBrowserWindow){this.mMaxAutoRefreshWithoutInteractionCounter=0;var i=this.getVisibleAreaPercentage(t,this.mDATRenderedAdSize[0],this.mDATRenderedAdSize[1]);this.evaluateAdRefresh(i)}}},e.prototype.registerWindowEvent=function(){var e=this;this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mTemplate.getAutoRefreshEnabled()&&(this.mScrollEvent=function(){e.windowEventHandler(o.SCROLL)},this.mResizeEvent=function(){e.windowEventHandler(o.RESIZE)},this.mFocusEvent=function(){e.windowEventHandler(o.FOCUS)},this.mBlurEvent=function(){e.windowEventHandler(o.BLUR)},this.mMouseMoveEvent=function(){e.windowEventHandler(o.MOUSEMOVE)},m.Utility.window.attachEvent?(m.Utility.window.attachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.attachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.attachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.attachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.top.attachEvent("onmousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.attachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.top.attachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.top.attachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.top.attachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.top.attachEvent("onmousemove",this.mMouseMoveEvent,!1))):(m.Utility.window.addEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.addEventListener("resize",this.mResizeEvent,!1),m.Utility.window.addEventListener("focus",this.mFocusEvent,!1),m.Utility.window.addEventListener("blur",this.mBlurEvent,!1),m.Utility.window.addEventListener("mousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.addEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.top.addEventListener("resize",this.mResizeEvent,!1),m.Utility.window.top.addEventListener("focus",this.mFocusEvent,!1),m.Utility.window.top.addEventListener("blur",this.mBlurEvent,!1),m.Utility.window.top.addEventListener("mousemove",this.mMouseMoveEvent,!1))))},e.prototype.unregisterWindowEvent=function(){this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mTemplate.getAutoRefreshEnabled()&&(m.Utility.window.detachEvent?(m.Utility.window.detachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.detachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.detachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.detachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.detachEvent("onmousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.detachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.top.detachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.top.detachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.top.detachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.top.detachEvent("onmousemove",this.mMouseMoveEvent,!1))):(m.Utility.window.removeEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.removeEventListener("resize",this.mResizeEvent,!1),m.Utility.window.removeEventListener("focus",this.mFocusEvent,!1),m.Utility.window.removeEventListener("blur",this.mBlurEvent,!1),m.Utility.window.removeEventListener("mousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.removeEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.top.removeEventListener("resize",this.mResizeEvent,!1),m.Utility.window.top.removeEventListener("focus",this.mFocusEvent,!1),m.Utility.window.top.removeEventListener("blur",this.mBlurEvent,!1),m.Utility.window.top.removeEventListener("mousemove",this.mMouseMoveEvent,!1))))},e.prototype.registerActiveUserEvent=function(){var e=this;this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mAutoRefreshConfig.IsEnabled&&(this.mActiveUserEvent=function(){e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement mActiveUserEvent is called. PlacementId=>"+e.mId),e.unregisterActiveUserEvent(),e.mActiveUserEvent=null,e.displayTag(!1)},this.mTemplate.activateActivityTracker(this.mActiveUserEvent))},e.prototype.unregisterActiveUserEvent=function(){this.mTemplate.deactivateActivityTracker(this.mActiveUserEvent),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement unregisterActiveUserEvent called. PlacementId="+this.mId)},e.prototype.executeTargetRules=function(e){if(clearInterval(this.mTargetRuleTimeoutInstance),e.isForcedTargetEnabled()||null==this.mTemplate.getGlobalTarget())if(null!=e.getTargetRule())this.mTemplate.executeTargetRules(e.getTargetName(),e.getTargetRule());else{var t=this.mTemplate.getTargetData(e.getTargetName());null!=t&&this.mTemplate.executeTargetRules(e.getTargetName(),t.rules)}else this.mTemplate.dropGlobalTargetRules()},e.prototype.renderNativeLayout=function(e){for(var t=null,i=null,r=null,n=0,s=this.mTags;n<s.length;n++){if(t=(r=s[n]).getDAT().getDFPSlot(),e.slot===t){i=r.getNativLayout()?r.getNativLayout().layout:null;break}t=null}if(null!=t){var a=t.getSlotElementId(),o=document.querySelector("#"+a),l=""+this.mDFPParams.getRandomNumber();if(!e.isEmpty){var d=o.dataset.googleQueryId;if(this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("tagTrigger - slotRenderEnded event SlotQueryId - ",d),void 0!==m.Utility.window["native_ad"+d]&&m.Utility.window["native_ad"+d])if(null!=i&&""!=i.trim()){var u=document.querySelector("#investingchannel_native_div_"+l);u||((u=document.createElement("div")).id="investingchannel_native_div_"+l,o.insertBefore(u,null));var c=m.Utility.window["native_ad"+d],p=/\\bcta-\\s*([^\\s]*)\\s*-repl\\b/.exec(i);""==c.callToAction&&p&&(c.callToAction=p[1]),i=i.replace('data-id=""','data-id="'+l+'"'),document.querySelector("#investingchannel_native_div_"+l)&&(document.querySelector("#investingchannel_native_div_"+l).innerHTML=this.replaceTemplate(i,c)),o.setAttribute("empty","false");var g=o.children;g.length>=1&&(g[0].style.position="absolute")}else this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.getPublisherType(),m.ErrorType.NATIVE_LAYOUT_NOT_FOUND,m.ErrorType.NATIVE_LAYOUT_NOT_FOUND.toString()+"("+r.getId()+")")}}},e.prototype.replaceTemplate=function(e,t){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("replateTemplate - advert ojbect - ",t);var i=this.mTemplate.getSponsorPagePath();for(var r in 0!=t.canvasPageAdId&&null!=i&&null!=i&&(0===i.toString().indexOf("http")||0===i.toString().indexOf("//")?t.url=i+"?ic_adid="+t.canvasPageAdId:t.url=window.location.protocol+"//"+window.location.hostname+"/"+i+"?ic_adid="+t.canvasPageAdId),"SCR"!=t.type&&(t.url=t.clickTrackingUrl+t.url),t)if(t.hasOwnProperty(r)){var n=t[r];if(n==t.thumbnail){var s=/\\bpref-\\s*[^\\s]*\\s*-ratio\\b/.exec(e);s&&(n=this.getThumb(n,s[1]))}e=e.replace(new RegExp("{{"+r+"}}","g"),n)}return e},e.prototype.getThumb=function(e,t){var i=t.split("-"),r=[];for(var n in i)for(var s in e)s==i[n]&&""!=e[s]&&r.push(e[s]);if(r[0])var a=r[0];return a},e.prototype.eventDATSlotRenderEnded=function(e){this.mDATSlotRendered=!e.isEmpty,this.mDATRenderedAdSize=e.size;var t=null;e.size&&null!=e.size&&e.size.length>=2&&(t=this.mDATRenderedAdSize[0]+"x"+this.mDATRenderedAdSize[1]),this.mAutoRefreshConfig=this.mTemplate.getAutoRefreshConfig(t),this.mIsAutoRefreshEnabled=this.mAutoRefreshConfig.IsEnabled,this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside SlotRender Ended event ",[e]),this.mDATSlotRendered&&this.renderNativeLayout(e),this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mAutoRefreshConfig.IsEnabled?(this.mIsDATAdIndirectAdvertiser=this.mAutoRefreshConfig.AdvertisersIndirect.indexOf(e.advertiserId)>=0,this.mAutoRefreshConfig.DisabledCampaigns.indexOf(e.campaignId)>=0&&(this.mIsAutoRefreshEnabled=!1)):this.mIsAutoRefreshEnabled=!1;try{var i={size:e.size,advertiserId:e.advertiserId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,creativeTemplateId:e.creativeTemplateId,isBackfill:e.isBackfill,isEmpty:e.isEmpty,labelIds:e.labelIds,lineItemId:e.lineItemId};if(m.Utility.ICJQuery(document).trigger("Callback_Rendered_"+this.mRandomNumber,[i]),this.mRenderedEventListeners.length>0)for(var r=0;r<this.mRenderedEventListeners.length;++r)this.mRenderedEventListeners[r](i);if(!this.mDATSlotRendered)for(m.Utility.ICJQuery(document).trigger("Callback_Blank_"+this.mRandomNumber),r=0;r<this.mUnfilledEventListeners.length;++r)this.mUnfilledEventListeners[r]()}catch(e){console.log("Something wrong in triggering the rendered or blank event: ",e)}},e.prototype.eventDATImpressionViewable=function(e,t){var i=document.getElementById(this.mICDivId);if(i&&(m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.VIEWED)),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("eventDATImpressionViewable method: Indirect="+this.mIsDATAdIndirectAdvertiser+" Placement Id="+this.mId),this.mIsImpressionViewable=!0,!e.isOOPUnit()&&!e.isOOPWIUnit()&&this.mDATSlotRendered&&void 0!==this.mDATRenderedAdSize&&this.mDATRenderedAdSize.length>1)){var r=i.querySelectorAll("iframe[id^=google_ads_iframe_]");if(!r||r.length<1)return;var n=r[0];if(n){var s=this.getVisibleAreaPercentage(n,this.mDATRenderedAdSize[0],this.mDATRenderedAdSize[1]);this.evaluateAdRefresh(Math.round(s))}}},e.prototype.eventDATSlotVisibilityChanged=function(e){this.mDATSlotRendered&&this.evaluateAdRefresh(e.inViewPercentage)},e.prototype.eventDATSlotRequested=function(e,t){m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED))},e.prototype.getId=function(){return this.mId},e.prototype.getState=function(){return this.mState},e.prototype.getSelector=function(){return this.mSelector},e.prototype.isParent=function(){return this.mIsParent},e.prototype.makeChild=function(){this.mIsParent=!1},e.prototype.getPriority=function(){return this.mPriority},e.prototype.getLoadType=function(){return this.mLoadType},e.prototype.getDivId=function(){return this.mICDivId},e.prototype.getPublisherType=function(){return this.mPublisherType},e.prototype.getTagToRender=function(){return this.mTagToRender},e.prototype.getNativeLayout=function(){return this.mTags&&this.mTags.length>0?this.mTags[0].getNativLayout():{}},e.prototype.isEligibleForRendering=function(e){if(this.mState!=m.PlacementState.UNKNOWN&&this.mState!=m.PlacementState.SELECTOR_NOT_LOADED&&this.mState!=m.PlacementState.SELECTOR_LOADED)return!1;if(e&&this.mLoadType==m.LoadType.CUSTOM)return!1;if(null!=this.mTargeting&&!this.mTargeting.isIsPlacementEligibleForRendering())return!1;if(this.mFrequency){var t=this.getFromStorage(this.mStorageKey);if(t){t=JSON.parse(t);var i=new Date(t.dateTime);switch(this.mFrequency.getUnit()){case m.FrequencyCapUnit.MILLISECONDS:i.setMilliseconds(i.getMilliseconds()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.SECONDS:i.setSeconds(i.getSeconds()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.MINUTES:i.setMinutes(i.getMinutes()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.HOURS:i.setHours(i.getHours()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.DAYS:i.setDate(i.getDate()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.WEEKS:i.setDate(i.getDate()+7*this.mFrequency.getDuration());break;case m.FrequencyCapUnit.MONTHS:i.setMonth(i.getMonth()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.YEARS:i.setFullYear(i.getFullYear()+this.mFrequency.getDuration())}if(i>new Date){if(Number(t.count)>=this.mFrequency.getCap())return this.mState=m.PlacementState.CAPPING_EXPIRED,!1}else this.deleteFromStorage(this.mStorageKey)}}if(this.mType!=m.PlacementType.HTML)return!0;if("ADVANCE"==this.mPublisherType&&"COMPLETED"!=this.mTemplate.getTargetStatus(this.mTagToRender.getTargetName())&&!this.mTemplate.getGlobalTarget())return this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Not eligible because of Target"),!1;if((this.mTagToRender.getType()==m.TagType.DISPLAY||this.mTagToRender.getType()==m.TagType.NATIVE)&&""==this.mTagToRender.getAdSize())return this.mState=m.PlacementState.TAG_NOT_AVAILABLE,!1;if(!this.mIsParent)return!0;var r=m.Utility.getInstance();if(null!=this.mSelector&&r.isSelectorLoaded(this.mSelector.getIdentifier(),this.mTemplate.getPageId(),this.mId,this.mRandomNumber)){if(this.mState=m.PlacementState.SELECTOR_LOADED,!m.Utility.ICJQuery("#"+this.mICDivId).length){var n=this.prepareCustomDiv();this.dropCustomDiv(n)}return!0}return this.mState=m.PlacementState.SELECTOR_NOT_LOADED,this.mLoadType==m.LoadType.CUSTOM&&this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.getPublisherType(),m.ErrorType.SELECTOR_NOT_FOUND),!1},e.prototype.isEligibleForRefreshing=function(){return(this.mState==m.PlacementState.LOADED||this.mState==m.PlacementState.VIEWED)&&this.mType==m.PlacementType.HTML},e.prototype.render=function(){var e=c.DATManager.getInstance();if(null==e||!e.initialLoadDisabled()||this.mTagToRender.getType()!=m.TagType.DISPLAY&&this.mTagToRender.getType()!=m.TagType.NATIVE||(this.mTagToRender.getDAT()||this.mTagToRender.setDAT(this.createDAT(this.mTagToRender)),this.mTagToRender.getSizeMapping()&&this.mTagToRender.getDAT().defineSizeMapping(this.mTagToRender.getSizeMapping())),this.mLoadType==m.LoadType.CUSTOM&&this.mTemplate.addTagToRenderArray(this.mICDivId,this.mTagToRender,this.mLoadType),this.mSSPFetchBidsStartTime=this.mTemplate.getSSPFetchBidsStartTime(),this.mFrequency){var t=this.getFromStorage(this.mStorageKey),i={};if(t){t=JSON.parse(decodeURIComponent(t));var r=new Date(t.dateTime),n=Number(t.count);++n,i.count=n,i.dateTime=r}else i.count=1,i.dateTime=new Date;this.saveToStorage(this.mStorageKey,JSON.stringify(i))}this.displayTag(!0)},e.prototype.getLastRenderedTagType=function(){return this.mLastRenderedTagType},e.prototype.refresh=function(){this.mDATRefreshType=m.RefreshType.MANUAL,this.displayTag(!1)},e.prototype.clear=function(){m.Utility.ICJQuery("#"+this.mICDivId).length&&m.Utility.ICJQuery("#"+this.mICDivId).remove()},e.prototype.destroy=function(){for(var e=0,t=this.mTags;e<t.length;e++){var i=t[e];switch(i.getType()){case m.TagType.DISPLAY:case m.TagType.NATIVE:i.getDAT(),null!=c.SSP.getInstance()&&c.SSP.getInstance().deletePlacement(this.mICDivId),this.clear(),this.mDATAdRefreshTimerInstance&&clearInterval(this.mDATAdRefreshTimerInstance),this.mWaitForSSPTimeout&&clearInterval(this.mWaitForSSPTimeout),this.mValidateSSPTimeout&&clearInterval(this.mValidateSSPTimeout),this.mTargetRuleTimeoutInstance&&clearInterval(this.mTargetRuleTimeoutInstance),this.unregisterWindowEvent();break;case m.TagType.CUSTOM:this.clear()}}},e.prototype.setKval=function(e){for(var t in e){var i=e[t];Array.isArray(i)||(i=[i]),i=m.Utility.getInstance().removeDuplicateFromArray(i),this.mPublisherKval[t]=i}},e.prototype.clearKval=function(e){if(null==e)this.mPublisherKval={};else if(Array.isArray(e))for(var t=0;t<e.length;++t){var i=e[t];i in this.mPublisherKval&&delete this.mPublisherKval[i]}},e.prototype.getNonNullPrimaryAdSize=function(){if(this.mType==m.PlacementType.PIXEL)return null;for(var e in this.mTags){var t=this.mTags[e];if(null!=t.getPrimaryAdSize()&&null!=t.getPrimaryAdSize())return t.getPrimaryAdSize()}return null},e.prototype.defineSizeMapping=function(e){for(var t=0;t<this.mTags.length;++t){var i=this.mTags[t];i.getType()!=m.TagType.DISPLAY&&i.getType()!=m.TagType.NATIVE||(i.updateSizeMapping(e),i.isSizeMappingValid()?""==i.getAdSize()&&this.mTemplate.pushPlacementErrorLog(null,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_TARGETING_FAILED):this.mTemplate.pushPlacementErrorLog(null,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_INVALID))}},e.prototype.setConfig=function(e){this.mConfig=e},e.prototype.registerEventListener=function(e,t){if("function"==typeof t)switch(e){case"tagUnfilled":return void this.mUnfilledEventListeners.push(t);case"tagRendered":return void this.mRenderedEventListeners.push(t);default:return void u.Template.pushAPILog(m.ErrorType.TAG_ADDEVENTLISTNER_FAILED,"(Invalid parameter passed, Event: "+e+")")}else u.Template.pushAPILog(m.ErrorType.TAG_ADDEVENTLISTNER_FAILED,"(Invalid parameter passed, Event: "+e+")")},e.prototype.eventDATSlotResponseReceived=function(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside SlotResponseReceived event ",[e]);var t=document.getElementById(this.mICDivId);t.removeAttribute("style"),this.mCssConfig&&"Style"in this.mCssConfig&&t.setAttribute("style",this.mCssConfig.Style)},e.prototype.combineKeyValues=function(e,t){if(t&&null!==t&&""!=t)for(var i in t)try{if(void 0!==e[i]&&""!=e[i]){var n=e[i];"string"==typeof n&&(n=n.split(","));var s=t[i];"string"==typeof s&&(s=s.split(","));for(var a=0;a<s.length;a++)n.indexOf(s[a])<0&&n.push(s[a]);e[i]=n}else{var o={};o[i]=t[i],e=r(r({},e),o)}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Error:combineKeyValues :: "+e)}return e},e.prototype.computeUserInactiveTimeForDFP=function(){var e=0,t=this.mTemplate.getUserInactiveTime(0);try{if(t>36e5)e=60;else{var i=new Date(t).toISOString().slice(14,19).split(":"),r=parseInt(i[0]),n=parseInt(i[1]);r<5?(e=r,n>=30&&(e=r+.5)):r<=10?e=r:r<=30?e=r-r%2:r<=60&&(e=r-r%5)}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Error:computeUSerInactiveTimeForDFP :: "+e)}return this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("computeUSerInactiveTimeForDFP :: userInactivetime "+new Date(t).toISOString().slice(11,19)+" :: uit :: "+e),e},e.prototype.getSSPAdSizes=function(){for(var e=[],t=0;t<this.mTags.length;++t)if(this.mTags[t].getType()==m.TagType.DISPLAY||this.mTags[t].getType()==m.TagType.NATIVE){var i=this.mTags[t].getAdSize();e.indexOf(i)>=0||(e=e.concat(i.split(",")))}return e},e.prototype.getPosition=function(){return this.mDFPParams?this.mDFPParams.getPosition():null},e.prototype.getTile=function(){return this.mDFPParams?this.mDFPParams.getTile():null},e.prototype.getType=function(){return this.mType},e.prototype.getRandomNumber=function(){return this.mRandomNumber},e.prototype.getRawData=function(){return this.mCorePlacement},e.pTickerValues=[],e}();t.default=g,function(e){e.STOP="STOPPED",e.START="STARTED"}(a||(a={})),function(e){e.SCROLL="SCROLL",e.RESIZE="RESIZE",e.FOCUS="FOCUS",e.BLUR="BLUR",e.MOUSEMOVE="MOUSEMOVE"}(o||(o={})),function(e){e.SERVED="S",e.VIEWED="V",e.PROBABLE="P"}(l||(l={})),function(e){e["160x600"]="16",e["250x250"]="22",e["320x50"]="35",e["300x250"]="32",e["300x600"]="36",e["300x1050"]="31",e["468x60"]="46",e["728x90"]="79",e["970x90"]="99",e["970x250"]="92",e["320x100"]="30"}(d||(d={}))},344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mIdentifier=e.identifier,this.mType=e.type}return e.prototype.getIdentifier=function(){return this.mIdentifier},e.prototype.getInsertionType=function(){return this.mType},e}();t.default=i},974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mA9={},this.mAppnexus={},this.mOpenx={},this.mPubmatic={},this.mRubicon={},this.mCriteo={},this.mSovrn={},this.mYieldmo={},this.m33Across={},this.mAol={},this.mGumgum={},this.mTriplelift={},this.mAdaptmx={},this.mSmartAdServer={},this.mImproveDigital={},this.mShareThrough={},this.mMediaNet={},this.mOutbrain={},this.mAutomatad={},this.mGDPRCMP={},this.mUSPPrivacy={},this.mIsAdmiralAdblockerEnabled=!1,this.mDoubleVerify={},this.mKrux={},this.mPredictive={},this.mSSPconfig={},this.mAutoRefreshConfig={},this.mDFPConfig={},this.mAddressability={},this.mWebVitalsConfig={},this.mDmp={},this.mMarkitConfig={},this.mAdtagname=e.adtagname,this.mDfpkeyname=e.dfpkeyname,this.mGPTTagType="GPTA",this.mSiteid=e.siteid,this.mA9=JSON.parse(e.a9),this.mAppnexus=JSON.parse(e.appnexus),this.mOpenx=JSON.parse(e.openx),this.mPubmatic=JSON.parse(e.pubmatic),this.mRubicon=JSON.parse(e.rubicon),this.mCriteo=JSON.parse(e.criteo),this.mSovrn=JSON.parse(e.sovrn),this.mYieldmo=JSON.parse(e.yieldmo),this.m33Across=JSON.parse(e.across33),this.mAol=JSON.parse(e.aol),this.mGumgum=JSON.parse(e.gumgum),this.mTriplelift=JSON.parse(e.triplelift),this.mAdaptmx=JSON.parse(e.adaptmx),this.mSmartAdServer=JSON.parse(e.smartadserver),this.mImproveDigital=JSON.parse(e.improvedigital),this.mShareThrough=JSON.parse(e.sharethrough),this.mMediaNet=JSON.parse(e.medianet),this.mOutbrain=JSON.parse(e.outbrain),this.mAutomatad=JSON.parse(e.automatad),this.mDmp=JSON.parse(e.dmp),this.mGDPRCMP=JSON.parse(e.gdprcmp),this.mUSPPrivacy=JSON.parse(e.usprivacy),this.mIsAdmiralAdblockerEnabled=e.isadmiraladblockerenabled,this.mDoubleVerify=JSON.parse(e.doubleverify),this.mPredictive=JSON.parse(e.predictive),this.mSSPconfig=JSON.parse(e.sspconfig),this.mAutoRefreshConfig=JSON.parse(e.autorefreshconfig),this.mDFPConfig=JSON.parse(e.dfpconfig),this.mAddressability=JSON.parse(e.addressability),this.mWebVitalsConfig=JSON.parse(e.webvitalsconfig),this.mMarkitConfig=JSON.parse(e.markit)}return e.prototype.getAdTagName=function(){return this.mAdtagname},e.prototype.getDFPKeyName=function(){return this.mDfpkeyname},e.prototype.getGPTTagType=function(){return this.mGPTTagType},e.prototype.getSiteId=function(){return this.mSiteid},e.prototype.getA9=function(){return this.mA9},e.prototype.getAppnexus=function(){return this.mAppnexus},e.prototype.getOpenx=function(){return this.mOpenx},e.prototype.getPubmatic=function(){return this.mPubmatic},e.prototype.getRubicon=function(){return this.mRubicon},e.prototype.getCriteo=function(){return this.mCriteo},e.prototype.getSovrn=function(){return this.mSovrn},e.prototype.getYieldmo=function(){return this.mYieldmo},e.prototype.get33Across=function(){return this.m33Across},e.prototype.getAol=function(){return this.mAol},e.prototype.getGumgum=function(){return this.mGumgum},e.prototype.getTriplelift=function(){return this.mTriplelift},e.prototype.getAdaptMx=function(){return this.mAdaptmx},e.prototype.getSmartAdServer=function(){return this.mSmartAdServer},e.prototype.getImproveDigital=function(){return this.mImproveDigital},e.prototype.getShareThrough=function(){return this.mShareThrough},e.prototype.getMediaNet=function(){return this.mMediaNet},e.prototype.getOutbrain=function(){return this.mOutbrain},e.prototype.getAutomatad=function(){return this.mAutomatad},e.prototype.getGDPRCMP=function(){return this.mGDPRCMP},e.prototype.getUSPPrivacy=function(){return this.mUSPPrivacy},e.prototype.isAdmiralAdblockerEnabled=function(){return this.mIsAdmiralAdblockerEnabled},e.prototype.getDoubleVerify=function(){return this.mDoubleVerify},e.prototype.getKrux=function(){return this.mKrux},e.prototype.getPredictive=function(){return this.mPredictive},e.prototype.getSSPConfig=function(){return this.mSSPconfig},e.prototype.getAutoRefreshConfig=function(){return this.mAutoRefreshConfig},e.prototype.getDFPConfig=function(){return this.mDFPConfig},e.prototype.getAddressability=function(){return this.mAddressability},e.prototype.getWebVitalsConfig=function(){return this.mWebVitalsConfig},e.prototype.getDmp=function(){return this.mDmp},e.prototype.getMarkitConfig=function(){return this.mMarkitConfig},e}();t.default=i},621:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Util=__webpack_require__(34),Tag=function(){function Tag(pTag,pTagsTotalWeight){this.mTarget={},this.mDFPConfig={},this.mIsSizeMappingValid=!0,this.mIsOOPUnit=!1,this.mIsOOPWIUnit=!1,this.mPublisherKVal=null,this.mIsCollapseEmptyDivEnabled=void 0,this.mIsCollapseDivBeforeAdFetchEnabled=void 0,this.mId=pTag.tagid,this.mType=pTag.type,this.mScript=pTag.script,this.mWeight=pTag.weight,this.mSiteDFPKeyName=pTag.siteDFPKeyName,this.mNativeLayout=pTag.nativelayout,this.mTarget=pTag.target,null!=this.mTarget&&null!=this.mTarget.kval&&(this.mTarget.kval=this.mTarget.kval.split(";")),this.mIsForcedTargetEnabled=pTag.isforcedtargetenabled,this.mGDPRStatus=pTag.gdprstatus,this.mType!=Util.TagType.DISPLAY&&this.mType!=Util.TagType.NATIVE||(this.mAdSize=pTag.adsize,pTag.sizemapping?this.updateSizeMapping(eval(pTag.sizemapping)):this.mPrimaryAdSize=this.calculatePrimaryAdSize(this.mAdSize),null!=pTag.isOOPUnit?this.mIsOOPUnit=pTag.isOOPUnit:"oop"==this.mAdSize&&(this.mIsOOPUnit=!0),null!=pTag.isOOPWIUnit?this.mIsOOPWIUnit=pTag.isOOPWIUnit:"webinterstitial"==this.mAdSize&&(this.mIsOOPWIUnit=!0)),pTag.dfpconfig&&(this.mDFPConfig=JSON.parse(pTag.dfpconfig),this.mDFPConfig&&"CollapseEmptyDiv"in this.mDFPConfig&&(this.mIsCollapseEmptyDivEnabled=this.mDFPConfig.CollapseEmptyDiv),this.mDFPConfig&&"CollapseDivBeforeAdFetch"in this.mDFPConfig&&(this.mIsCollapseDivBeforeAdFetchEnabled=this.mDFPConfig.CollapseDivBeforeAdFetch)),this.mPublisherKVal=pTag.publisherkval,this.mPublisherKVal&&(this.mPublisherKVal=this.mPublisherKVal.trim()),this.mMinWeight=pTagsTotalWeight,this.mMaxWeight=pTagsTotalWeight+this.mWeight}return Tag.prototype.getRenderSizeFromSizeMapping=function(){for(var e,t=Util.Utility.getInstance().getBrowserSize().split("x").map(Number),i=null,r=0;r<this.mSizeMapping.length;++r){var n=this.mSizeMapping[r][0];2==n.length&&t[0]>=n[0]&&t[1]>=n[1]&&(null==e||n[0]>=e[0]&&n[1]>=e[1])&&(e=n,i=0==this.mSizeMapping[r][1].length?"":Util.Utility.getInstance().convertAdSize(this.mSizeMapping[r][1]))}return i},Tag.prototype.calculatePrimaryAdSize=function(e){if(null==e||null==e)return e;var t=e.indexOf(",");return-1!=t?e.substring(0,t):e},Tag.prototype.updateSizeMapping=function(e){try{var t;this.mSizeMapping=e,null!=(t=this.getRenderSizeFromSizeMapping())?this.mAdSize=t:this.mIsSizeMappingValid=!1}catch(e){this.mIsSizeMappingValid=!1}this.mPrimaryAdSize=this.calculatePrimaryAdSize(this.mAdSize)},Tag.prototype.getId=function(){return this.mId},Tag.prototype.getType=function(){return this.mType},Tag.prototype.getScript=function(){return this.mScript},Tag.prototype.getWeight=function(){return this.mWeight},Tag.prototype.getSiteDFPKeyName=function(){return this.mSiteDFPKeyName},Tag.prototype.getTargetName=function(){return this.mTarget?this.mTarget.dfpkeyname:null},Tag.prototype.isForcedTargetEnabled=function(){return this.mIsForcedTargetEnabled},Tag.prototype.getGDPRStatus=function(){return this.mGDPRStatus},Tag.prototype.getAdSize=function(){return this.mAdSize},Tag.prototype.setAdSize=function(e){this.mAdSize=e},Tag.prototype.getSizeMapping=function(){return this.mSizeMapping},Tag.prototype.getPrimaryAdSize=function(){return this.mPrimaryAdSize},Tag.prototype.getTargetKval=function(){return this.mTarget?this.mTarget.kval:null},Tag.prototype.getTargetRule=function(){return this.mTarget?this.mTarget.rules:null},Tag.prototype.getMinWeight=function(){return this.mMinWeight},Tag.prototype.getMaxWeight=function(){return this.mMaxWeight},Tag.prototype.getDAT=function(){return this.mDAT},Tag.prototype.isOOPUnit=function(){return this.mIsOOPUnit},Tag.prototype.isOOPWIUnit=function(){return this.mIsOOPWIUnit},Tag.prototype.getPublisherKVal=function(){return this.mPublisherKVal},Tag.prototype.isSizeMappingValid=function(){return this.mIsSizeMappingValid},Tag.prototype.isCollapseEmptyDivEnabled=function(){return this.mIsCollapseEmptyDivEnabled},Tag.prototype.isCollapseDivBeforeAdFetchEnabled=function(){return this.mIsCollapseDivBeforeAdFetchEnabled},Tag.prototype.setDAT=function(e){this.mDAT=e},Tag.prototype.enableBottomZoning=function(){"partnercenter"!=this.mTarget.dfpkeyname.toLowerCase()&&this.mTarget.dfpkeyname.indexOf(".bottom")<0&&(this.mTarget.dfpkeyname=this.mTarget.dfpkeyname+".bottom")},Tag.prototype.disableBottomZoning=function(){"partnercenter"!=this.mTarget.dfpkeyname.toLowerCase()&&this.mTarget.dfpkeyname.indexOf(".bottom")>0&&(this.mTarget.dfpkeyname=this.mTarget.dfpkeyname.replace(".bottom",""))},Tag.prototype.overrideTarget=function(e){this.mTarget||(this.mTarget={}),this.mTarget.dfpkeyname=e},Tag.prototype.overrideTargetKval=function(e){this.mTarget||(this.mTarget={}),this.mTarget.kval=null==e?[]:e.split(";")},Tag.prototype.getNativLayout=function(){return this.mNativeLayout},Tag.prototype.setNativLayout=function(e){null!=e&&(this.mNativeLayout=e)},Tag.prototype.getMinWidthHeight=function(){if(null==this.mAdSize||null==this.mAdSize)return this.mAdSize;var e=this.mAdSize.split(","),t=0,i=0;return e.length>0&&e.forEach((function(e){if(e&&e.indexOf("x")>0){var r=e.split("x"),n=parseInt(r[0]),s=parseInt(r[1]);(n>10&&n<i||0==i)&&(i=n),(s>10&&s<t||0==t)&&(t=s)}})),t>0&&i>0?i+"x"+t:this.mAdSize},Tag}();exports.default=Tag},450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.mIsPlacementEligibleForRendering=!1;try{var i=JSON.parse(e);this.mLogicalOperator=i.logicalOperator,this.mChildren=i.children,this.mTemplate=t}catch(e){throw new Error(e.message)}}return e.prototype.calculatePlacementEligibility=function(){var e=this.mTemplate.getCustomVariables();if(e&&0!=e.length)try{for(var t=0;t<this.mChildren.length;++t){for(var i=this.mChildren[t].children,r=this.mChildren[t].logicalOperator,n=!1,s=0;s<i.length;++s){var a=e[i[s].operand];if(a){var o=a.getValue();switch(i[s].operator){case"EQUAL":n=""+o==i[s].comparator;break;case"NOT_EQUAL":n=!(!i[s].comparator||""+o==i[s].comparator);break;case"GRATER_THAN":n=o>i[s].comparator;break;case"LESS_THAN":n=o<i[s].comparator;break;case"REG_EX":n=!(!i[s].comparator||!o.match(new RegExp(i[s].comparator,"g")))}if("OR"==r){if(n)break}else if(!n)break}}if(this.mIsPlacementEligibleForRendering=n,"OR"==this.mLogicalOperator){if(this.mIsPlacementEligibleForRendering)break}else if(!this.mIsPlacementEligibleForRendering)break}}catch(e){throw new Error("Error in Placement Targeting: "+e.message)}},e.prototype.isIsPlacementEligibleForRendering=function(){return this.mIsPlacementEligibleForRendering},e.prototype.recalculatePlacementEligibility=function(){this.calculatePlacementEligibility()},e}();t.default=i},863:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,r,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},a=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var o,l,d=i(34),m=i(665),u=i(105),c=i(154),p=function(){function e(t,r,n,s){this.sha1=i(791),this.Promise=i(964).Promise,this.mPageUrl="",this.mGlobalConfig={},this.mIsDebugModeEnabled=!1,this.mIsUserFromGDPRCountry=!0,this.mIsUserFromUSPState=!0,this.mUSPStatus=d.USPStatus.NOT_APPLICABLE,this.mShowDFPNonPersonalizedAd=!1,this.mAdmiralGdprConsentsKnownKey="IC_CMP_Admiral_ConsentsKnown",this.mAdmiralDfpApplicableKey="IC_CMP_Admiral_DFPApplicable",this.mUSPCookieName="usprivacy",this.mEncryptedEmailStorageName="IC_EN_HM",this.mSovrnDfpKEyValStorageName="IC_SVN",this.mUserTriggeredEncryptionApi=!1,this.mPVLogInterval={},this.mDisabledSsps=[],this.mSspsLogsParams={},this.mIsSingleRequestEnabled=!0,this.mIsInitialLoadDisabled=!0,this.mPlacements=[],this.mTargetData={},this.mKeyVal={},this.mGlobalTarget=null,this.mICFID="",this.mPixelSegment={},this.mPublisherType="ADVANCE",this.mAutoRefreshConfig={},this.mSSPConfig={},this.mPredictiveConfig={},this.mPrebidSSPIgnoreList=[],this.mSSPFetchBidsStartTime=0,this.mAdFormAudienceToken="",this.mAdFormMatchingSegmentIds=[],this.mPublisherKval={},this.mMaxTile=1,this.mPreloads=[],this.mPostloads=[],this.mCustomVariable={},this.mUnrenderedPlacementIds=[],this.mIsAllPlacementRendered=!1,this.mLastDFPCallTime=null,this.mTargetRulesDropped=[],this.mTargetRuleTimeout=0,this.mDoubleVerifyData={},this.mOnViewBuffer=null,this.mOnLoadTagsRender={},this.mRealTimeTagsRender={},this.mCustomTagsToRender={},this.mTagsToRefresh={},this.mCmpVersion=0,this.mCmpConsentDataObject={},this.mCmpVendorConsentDataObject={},this.mCmpTcString="",this.mCmpVersion2NotSuppostedSSPs=[],this.mWaitingForGdprCmpData=!1,this.mIsGDPRApplicable=!1,this.mAdvancePlacementsWaitingForTarget=[],this.mAdvancePlacementsWaitingForGdprCmpData=[],this.mNativeLayout={},this.mSponsorPagePath="",this.cFirstPartyId="IC_FID",this.cThirstPartyId="IC_TID",this.cUserCookie="IC_USER_COOKIE",this.mSspAdapterDownloadInterval=10,this.mSspAdapterDownloadTimeout=200,this.sspRotationEnabledSsps=[],this.fetchBidsDelay=!0,this.mSspAdapterDownloadtimer=0,this.mSspFloorPriceConfig={},this.mFloorPriceUrl="",this.mFloorPriceInterval=60,this.s2sBidders=[],this.IsPrebidS2SEnabled=!0,this.mSovrnScriptDropPercentage=0,this.mSovrnUidModuleEnabled=!1,this.mEmptyHashedEmailExpiry=30,this.mValidHashedEmailExpiry=1440,this.mId5UidModule={},this.mConnectUidModule={},this.mHEMKeyValuesEnabled=!1,this.mZone="",this.tickerConfig={},this.markitDfpKeyname="",this.mLogInterval=3e4,this.mUserTrackingStartTime=(new Date).getTime(),this.mSoftRefresh=0,this.mTicker=[],this.userHashAPItriggered=!1,this.forceLogDuration=60,this.mUserInactiveTimeAdRefresh=(new Date).valueOf();var a=d.Utility.getInstance();try{var o=a.getFromSessionStorage("ic_uat_debug");o&&"true"==o&&(this.mIsDebugModeEnabled=!0)}catch(e){console.log(e)}if(a.initializeGA(),e.mApiKey=t,e.isTagManagerEnabled=s,this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Template Constructor Called. ApiKey: "+t),r&&"reset"in r&&1==r.reset){this.mSoftRefresh=1;try{delete r.reset}catch(e){}}if(r&&(this.mGlobalConfig=r),this.mGlobalConfig&&"page_url"in this.mGlobalConfig&&0!=this.mGlobalConfig.page_url.indexOf("%%PATTERN:url%%")?(this.mUrl=this.mGlobalConfig.page_url,this.mPageUrl=this.mGlobalConfig.page_url):this.mUrl=d.Utility.window.location.href,this.mDocumentType=e.calculateDocumentType(),this.mReferer=e.calculateReferer(this.mDocumentType),this.mPageType=this.calculatePageType(),this.evaluateReferrerType(),this.mGlobalConfig&&"show_no_ads"in this.mGlobalConfig&&1==this.mGlobalConfig.show_no_ads){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("show_no_ads flag passed"),e.mPageId=this.generatePageId();var l=d.Utility.getInstance();this.triggerBasicPageLog(-1,!1),l.setGDPRStatus(!0),l.setUSPStatus(d.USPStatus.INPROGRESS)}else{e.mAPIReady=d.APIStatus.INPROGRESS,this.registerGlobalErrorEvent();var m=a.updateUrlIfTranslator(this.mDocumentType,this.mUrl);m&&(this.mUrl=m),this.mICFID=this.getIcFid();var u=a.getFromLocalStorage(this.cUserCookie);u&&null!=u?e.mUserCookieType=u:navigator.cookieEnabled?e.mUserCookieType="fa":e.mUserCookieType="n",n?(this.createTemplate(n),this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Prepared the page object."),this.mWaitingForGdprCmpData||this.mIsGDPRApplicable||(e.mAPIReady=d.APIStatus.READY,d.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready"))):this.getTemplateData(e.mApiKey)}}return e.prototype.registerGlobalErrorEvent=function(){d.Utility.ICJQuery(document).on("IC_JSErrorEvent",(function(e,t){!t&&e&&e.detail&&(t=e.detail)}))},e.prototype.registerUnloadEvent=function(){var t=this;d.Utility.ICJQuery(window).on("load",(function(){onbeforeunload=function(){var i=t;e.mPrivacy.GDPR!=o.PENDING&&e.mPrivacy.GDPR!=o.DENIED&&e.triggerUserTrackingLogs(!0,!0,i,!1,!0),setTimeout((function(){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage(" Windows unloading initiated.")}),1e3)}}))},e.prototype.getTemplateData=function(t){var i=this,r="",n=d.Utility.getInstance();try{r=n.getFromLocalStorage(this.mAdmiralGdprConsentsKnownKey)}catch(e){console.log(e)}var s="";try{s=d.Utility.getInstance().getUspString(this.mUSPCookieName,!0)}catch(e){console.log(e)}try{var a=d.Constant.UAT_DATA_URL+"/"+t+"?browsersize="+d.Utility.getInstance().getBrowserSize();if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){var o=window.location.search,l=new URLSearchParams(o),m=l.get("icfiltertype");if(m&&"performance"==m){var u=l.get("icfilter");u&&(a+="&icfilter="+u+"&icfiltertype="+m)}}a+="&consentsknown="+r+"&usprivacy="+s,this.mGlobalConfig&&"gdpr_applies"in this.mGlobalConfig&&(a+="&gdprapplies="+encodeURIComponent(this.mGlobalConfig.gdpr_applies)),this.mGlobalConfig&&"page_category"in this.mGlobalConfig&&(a+="&pagecategory="+encodeURIComponent(this.mGlobalConfig.page_category.toLowerCase())),a+="&pageurl="+encodeURIComponent(this.mUrl),d.Utility.ICJQuery.support.cors=!0,d.Utility.ICJQuery.ajax({url:a,async:!0,dataType:"json",xhrFields:{withCredentials:!0},type:"GET",success:function(t){t?(i.createTemplate(t),i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Prepared the page object."),i.mWaitingForGdprCmpData||i.mIsGDPRApplicable||(e.mAPIReady=d.APIStatus.READY,d.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready"))):(i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Received invalid data from Server"),d.Utility.getInstance().ic_ga_event("Info","Template.getTemplateData","Getting empty data response"))},error:function(e,t,r){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Template.getTemplateData: ",r),0===e.status?d.Utility.getInstance().ic_ga_event("Error","Template.getTemplateData","Server returned with status code: "+e.status+" and error message: "+e.statusText):d.Utility.getInstance().ic_ga_event("Error","Template.getTemplateData",e.status+": "+e.statusText+" : "+e.responseText+" $# "+t+" $# "+r)}})}catch(e){console.log("Gettemplatedata :: error: ",e),d.Utility.getInstance().ic_ga_event("Error","Template.getTemplateData",e.message)}},e.triggerTickerApi=function(t,i,r,o){return n(this,void 0,void 0,(function(){var n,l;return s(this,(function(s){n=!1;try{return r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("getTickerKeyValue :: tickers :: "+t),!t||""==t||null==t||t.length<=0||(r.mTicker.indexOf(t)<0?(l=d.Constant.UAT_TICKER_KEYVALUE_URL+t+"?category="+i,d.Utility.ICJQuery.support.cors=!0,d.Utility.ICJQuery.ajax({url:l,async:!0,dataType:"json",xhrFields:{withCredentials:!0},type:"GET",success:function(i){if(i){try{if(r.mTicker.push(t),"keyValues"in i&&null!=i.keyValues&&""!=i.keyValues){e.mTickerKeyValues=i.keyValues;try{"tc"in i.keyValues&&e.TickerCategory.indexOf(i.keyValues.tc.join(","))<0&&(e.TickerCategory=a(a([],e.TickerCategory,!0),i.keyValues.tc,!0)),e.mTickerKeyValues.tc=e.TickerCategory}catch(e){}n=!0}}catch(e){r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("getTickerKeyValue :: Issue in response Data :: "+i)}return o&&"function"==typeof o&&o(n,t,r),e.mTickerKeyValues}r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("triggerTickerApi :: Received invalid data from Server :: "+i),d.Utility.getInstance().ic_ga_event("Error","Template.triggerTickerApi","Received invalid data from Server for : "+t)},error:function(e,i,r){0===e.status?d.Utility.getInstance().ic_ga_event("Error","Template.triggerTickerApi","Server returned with status code: "+e.status+" and error message: "+e.statusText):d.Utility.getInstance().ic_ga_event("Error","Template.triggerTickerApi","Status: "+e.status+"  Status Text: "+e.statusText+" Response Text: "+e.responseText+" $# "+i+"Ticker: "+t+" $# "+r)}})):o&&"function"==typeof o&&o(n,t,r)),[2,e.mTickerKeyValues]}catch(i){return r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("ERROR : getTickerKeyValue :: "+i),o&&"function"==typeof o&&o(n,t,r),[2,e.mTickerKeyValues]}return[2]}))}))},e.prototype.setTicker=function(t,i){null!=t&&""!=t?(t=t.toUpperCase(),e.pubTicker.indexOf(t)<0&&(e.pubTicker.push(t),e.pubTickerCategory.push(i)),null==i||""==i||Object.values(l).indexOf(i.toLowerCase())<0?i="":e.TickerCategory.indexOf(i)<0&&(e.TickerCategory.push(i),e.mTickerKeyValues.tc=e.TickerCategory),e.IsPubSetTickerTriggered=!0,c.default.pTickerValues=e.pubTicker,e.triggerUserTrackingLogs(!0,!1,this),e.isIgnorePubTickers||(e.isIgnorePubTickers=!0,e.triggerTickerApi(t,i,this,this.setTickerCallback)),e.mIsTickerKeyValueApiTriggered=!0):this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("ERROR : setTicker empty values ticker :: "+t+", TickerCategory :: "+i)},e.prototype.setTickerCallback=function(t,i,r){if(!t){e.isIgnorePubTickers=!1;try{var n=e.pubTicker.indexOf(i);n>=0&&void 0!==e.pubTicker[n+1]&&(e.isIgnorePubTickers=!0,e.triggerTickerApi(e.pubTicker[n+1],e.pubTickerCategory[n+1],r,r.setTickerCallback))}catch(n){r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("ERROR : setTickerCallback :: receivedValue "+t+", ticker :: "+i+" publisher tickers:: "+e.pubTicker+" :: Error ::"+n)}}},e.getTickerKeyValue=function(){return e.mTickerKeyValues},e.prototype.checkAndLoadSSPLib=function(e){try{var t=e+"BidAdapter.js",i="IC_BidAdapterScript_"+e,r=d.Constant.UAT_PREBID_VERSION_URL+t;d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,i,this.mIsDebugModeEnabled)||d.Utility.getInstance().dropScripts(this.mDocumentType,r,t,this.mIsDebugModeEnabled,i,!0,!1)}catch(e){}},e.prototype.dropSovrnScript=function(t){var i=!1;if(1==t?1==d.Utility.getInstance().calculateRandomAppliedPercentage(this.mSovrnScriptDropPercentage)&&(i=!0):i=!0,1==i&&this.mSovrnUidModuleEnabled&&this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied())try{var r="sovrnScript",n=d.Constant.SOVRN_UID_SOLTUION_URL;d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,r,this.mIsDebugModeEnabled)||d.Utility.getInstance().dropScripts(this.mDocumentType,n,"Sovrn Script js",this.mIsDebugModeEnabled,r,!1,!0)}catch(e){}},e.prototype.dropId5Script=function(){if("IsEnabled"in this.mId5UidModule&&1==this.mId5UidModule.IsEnabled&&this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied())try{var t="Id5Script",i=d.Constant.ID5_UID_SOLTUION_URL;d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,t,this.mIsDebugModeEnabled)||d.Utility.getInstance().dropScripts(this.mDocumentType,i,"ID5 Script js",this.mIsDebugModeEnabled,t,!1,!0)}catch(e){}},e.prototype.dropConnectUidScript=function(){if("IsEnabled"in this.mConnectUidModule&&1==this.mConnectUidModule.IsEnabled&&this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()){var t=e.getConnectUserId();if(""==t||null==t)try{this.dropUserIdScript(),e.mConnectUidEnabled=!0;var i="connectIdSystem.js",r="ConnectIDScript",n=d.Constant.UAT_PREBID_VERSION_URL+i;d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,r,this.mIsDebugModeEnabled)||d.Utility.getInstance().dropScripts(this.mDocumentType,n,i,this.mIsDebugModeEnabled,r,!1,!0)}catch(e){}}},e.prototype.dropUserIdScript=function(){try{var e="userId.js",t="UserIDScript",i=d.Constant.UAT_PREBID_VERSION_URL+e;d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,t,this.mIsDebugModeEnabled)||d.Utility.getInstance().dropScripts(this.mDocumentType,i,e,this.mIsDebugModeEnabled,t,!1,!0)}catch(e){}},e.getConnectUserId=function(){var e="",t=d.Utility.getInstance();if(t.isLocalStorageSupported())try{var i=t.getFromLocalStorage(this.mConnectIdLocalStorageName);if(null!=i&&""!=i){var r=JSON.parse(decodeURIComponent(i));"connectid"in r&&(e=r.connectid)}}catch(t){console.log("getHashedEmailFromLocalStorage : ERROR :: strHashedEmail "+e+" :: ERROR :: "+t)}return e},e.prototype.getTargetKvalData=function(e,t,i){var r=this;return void 0===t&&(t=!1),null==this.mGlobalTarget&&null==this.mGlobalTarget&&(e in this.mTargetData||(this.mTargetData[e]={Status:"IN-PROGRESS",Data:null},d.Utility.ICJQuery.ajax({url:d.Constant.UAT_TARGET_KVAL_URL+e,async:!0,type:"GET",success:function(e){return n(r,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.updateTargetKval(e)];case 1:return t.sent(),[2]}}))}))},error:function(){r.mTargetData[e].Status="FAILED",t?r.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",d.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND,d.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND.toString()+"("+e+")"):i?r.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",d.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND,d.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND.toString()+"("+e+")"):r.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",d.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND,d.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND.toString()+"("+e+")")}})),!0)},e.prototype.getNativeLayoutData=function(e){var t=this;return e in this.mNativeLayout||(this.mNativeLayout[e]={Status:"IN-PROGRESS",Data:null},d.Utility.ICJQuery.ajax({url:d.Utility.FormatString(d.Constant.UAT_NATIVELAYOUT_URL,this.mSite.getSiteId().toString(),e.toString()),async:!0,type:"GET",success:function(e){return n(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.updateNativeLayout(e)];case 1:return t.sent(),[2]}}))}))},error:function(){t.mNativeLayout[e].Status="FAILED",t.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",d.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND,d.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND.toString()+"("+e+")")}})),!0},e.prototype.prepareListOfEnabledS2sSsp=function(){try{if(!this.IsPrebidS2SEnabled)return void(this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Prebid S2S is Disabled"));for(var t=m.SSP.getListOfSsps(),i=0;i<t.length;){var r=t[i];if(this.sspRotationEnabledSsps.indexOf(r)>-1)i++;else{switch(r){case"appnexus":var n=this.mSite.getAppnexus();"IsEnabled"in n&&1==n.IsEnabled&&"IsS2SEnabled"in n&&1==n.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareAppnexusConfig(!0));break;case"rubicon":var s=this.mSite.getRubicon();"IsEnabled"in s&&1==s.IsEnabled&&"IsS2SEnabled"in s&&1==s.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareRubiconConfig(!0));break;case"pubmatic":var a=this.mSite.getPubmatic();"IsEnabled"in a&&1==a.IsEnabled&&"IsS2SEnabled"in a&&1==a.IsS2SEnabled&&(this.s2sBidders.push(r),this.preparePubmaticConfig(!0));break;case"openx":var o=this.mSite.getOpenx();"IsEnabled"in o&&1==o.IsEnabled&&"IsS2SEnabled"in o&&1==o.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareOpenxConfig(!0));break;case"criteo":var l=this.mSite.getCriteo();"IsEnabled"in l&&1==l.IsEnabled&&"IsS2SEnabled"in l&&1==l.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareCriteoConfig(!0));break;case"sovrn":var u=this.mSite.getSovrn();"IsEnabled"in u&&1==u.IsEnabled&&"IsS2SEnabled"in u&&1==u.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareSovrnConfig(!0));break;case"yieldmo":var c=this.mSite.getYieldmo();"IsEnabled"in c&&1==c.IsEnabled&&"IsS2SEnabled"in c&&1==c.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareYieldmoConfig(!0));break;case"aol":var p=this.mSite.getAol();"IsEnabled"in p&&1==p.IsEnabled&&"IsS2SEnabled"in p&&1==p.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareAolConfig(!0));break;case"gumgum":var g=this.mSite.getGumgum();"IsEnabled"in g&&1==g.IsEnabled&&"IsS2SEnabled"in g&&1==g.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareGumgumConfig(!0));break;case"triplelift":var h=this.mSite.getTriplelift();"IsEnabled"in h&&1==h.IsEnabled&&"IsS2SEnabled"in h&&1==h.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareTripleliftConfig(!0));break;case"smartadserver":var f=this.mSite.getSmartAdServer();"IsEnabled"in f&&1==f.IsEnabled&&"IsS2SEnabled"in f&&1==f.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareSmartAdServerConfig(!0));break;case"33across":var S=this.mSite.get33Across();"IsEnabled"in S&&1==S.IsEnabled&&"IsS2SEnabled"in S&&1==S.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepare33AcrossConfig(!0));break;case"improvedigital":var y=this.mSite.getImproveDigital();"IsEnabled"in y&&1==y.IsEnabled&&"IsS2SEnabled"in y&&1==y.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareImproveDigitalConfig(!0));break;case"sharethrough":var b=this.mSite.getShareThrough();"IsEnabled"in b&&1==b.IsEnabled&&"IsS2SEnabled"in b&&1==b.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareShareThroughConfig(!0));break;case"medianet":var T=this.mSite.getMediaNet();"IsEnabled"in T&&1==T.IsEnabled&&"IsS2SEnabled"in T&&1==T.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareMediaNetConfig(!0));break;case"outbrain":var I=this.mSite.getOutbrain();"IsEnabled"in I&&1==I.IsEnabled&&"IsS2SEnabled"in I&&1==I.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareOutbrainConfig(!0));break;case"adaptmx":var v=this.mSite.getAdaptMx();"IsEnabled"in v&&1==v.IsEnabled&&"IsS2SEnabled"in v&&1==v.IsS2SEnabled&&(this.s2sBidders.push("amx"),this.prepareAdaptmxConfig(!0));break;case"automatad":var P=this.mSite.getAutomatad();"IsEnabled"in P&&1==P.IsEnabled&&"IsS2SEnabled"in P&&1==P.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareAutomatAdConfig(!0))}i++}}e.s2sBiddersList=this.s2sBidders,this.s2sBidders.length>0&&this.checkAndLoadSSPLib("prebidServer"),this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("List of Ssp with S2S Enabled ",[this.s2sBidders])}catch(e){}},e.prototype.visibilityChangeEventHandler=function(){"visible"===document.visibilityState?(this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Tab is now visible or active."+new Date),e.mUserTabActive=!0,e.mUserInactiveTime=(new Date).valueOf(),e.setUserActiveTime()):(this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Tab is invisible or inactive."+new Date),e.mUserTabActive=!1,e.mUserIsInActive=!0)},e.prototype.createTemplate=function(t){var i=this;try{"visible"===document.visibilityState?(this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Tab is visible or active"),e.mUserTabActive=!0,e.setUserActiveTime()):this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Tab is not visible or active Register Visibilility Handler Event"),this.mVisibiliyEventTrigger=function(){i.visibilityChangeEventHandler()},document.addEventListener("visibilitychange",this.mVisibiliyEventTrigger),this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("pvlogs initiated at :: "+new Date),e.mPageId&&0!=e.mPageId.length||(e.mPageId=this.generatePageId());var r=t;this.cSite=new u.CSite(r.common),this.uSite=new u.USite(r.user),this.mDeviceType=d.DeviceType[this.uSite.getdevice()],this.mCountryCode=this.uSite.getgeo(),this.mRegions=this.uSite.getregion(),this.mBrowser=this.uSite.getbrowser(),this.mSite=new u.Site(r.site);var n=this.mSite.getUSPPrivacy();n.IsEnabled&&n.IsGPPEnabled&&n.IsIcUspEnabled&&m.GdprCmp.dropAdmiralScript(this.mSite.getGDPRCMP().Admiral.url,this.mSite.getAdTagName(),this.mDocumentType,!1,!1),m.GPPCmp.getInstance(this.mSite.getUSPPrivacy(),d.Utility.getInstance(),this.mIsDebugModeEnabled,this.mDocumentType,this.gppAPIResponse.bind(this));var s=this.mSite.getSSPConfig();if(this.mPredictiveConfig=this.mSite.getPredictive(),""!=this.cSite.getglobalTarget()&&null!=this.cSite.getglobalTarget())try{var a=this.cSite.getglobalTarget();"dfpkeyname"in a&&(this.mZone=a.dfpkeyname)}catch(e){}try{if("SChain"in s){var l=JSON.parse(s.SChain);"config"in l&&(e.schainConfig=l,this.dropSchainScript())}}catch(e){}try{var c=this.mSite.getMarkitConfig();"IsEnabled"in c&&1==c.IsEnabled&&(e.markitEnabled=!0,"DfpKeyname"in c&&(this.markitDfpKeyname=c.DfpKeyname))}catch(e){}try{"ticker_config"in r.uatConfig&&(this.tickerConfig=JSON.parse(r.uatConfig.ticker_config))}catch(e){}try{"hemkeyvalues_enabled"in r.uatConfig&&"true"==r.uatConfig.hemkeyvalues_enabled&&(this.mHEMKeyValuesEnabled=!0)}catch(e){}if("PrebidDedicatedDFPKVAL"in s&&(this.mPrebidSSPIgnoreList=s.PrebidDedicatedDFPKVAL.split(",")),"StackedUnit"in s){var p=JSON.parse(s.StackedUnit);p&&"vertical_enabled"in p&&(e.mStackServeVerticalEnabled=p.vertical_enabled),p&&"horizontal_enabled"in p&&(e.mStackServeHorizontalEnabled=p.horizontal_enabled)}"SspAdapterDownloadTimeout"in s&&(this.mSspAdapterDownloadTimeout=JSON.parse(s.SspAdapterDownloadTimeout)),"SspAdapterDownloadInterval"in s&&(this.mSspAdapterDownloadInterval=JSON.parse(s.SspAdapterDownloadInterval));var g=this.mSite.getAddressability();if("IsEnabled"in g&&1==g.IsEnabled&&"SovrnUidModule"in g){var h=g.SovrnUidModule;"IsEnabled"in h&&1==h.IsEnabled&&(this.mSovrnUidModuleEnabled=h.IsEnabled,e.mUid=this.uSite.getuid(),"ScriptDropPercentage"in h&&(this.mSovrnScriptDropPercentage=h.ScriptDropPercentage),"EmptyHashedEmailExpiry"in h&&(this.mEmptyHashedEmailExpiry=h.EmptyHashedEmailExpiry),"ValidHashedEmailExpiry"in h&&(this.mValidHashedEmailExpiry=h.ValidHashedEmailExpiry),"StorageName"in h&&""!=h.StorageName&&(e.mPubCommonIdLocalStorageName=h.StorageName))}"IsEnabled"in g&&1==g.IsEnabled&&"Id5UidModule"in g&&(this.mId5UidModule=g.Id5UidModule),"IsEnabled"in g&&1==g.IsEnabled&&"ConnectUidModule"in g&&(this.mConnectUidModule=g.ConnectUidModule,"IsEnabled"in this.mConnectUidModule&&1==this.mConnectUidModule.IsEnabled&&this.dropUserIdScript()),"FloorConfig"in s&&(this.mSspFloorPriceConfig=s.FloorConfig,"IsEnabled"in this.mSspFloorPriceConfig&&1==this.mSspFloorPriceConfig.IsEnabled&&(e.mIsFloorPriceEnabled=this.mSspFloorPriceConfig.IsEnabled,"UpdateBidFloorInterval"in this.mSspFloorPriceConfig&&(this.mFloorPriceInterval=+this.mSspFloorPriceConfig.UpdateBidFloorInterval),"Sampling"in this.mSspFloorPriceConfig&&(e.mFloorSampling=this.mSspFloorPriceConfig.Sampling),"Url"in this.mSspFloorPriceConfig&&(this.mFloorPriceUrl=this.mSspFloorPriceConfig.Url)));var f=-1;"template"in r&&"templateid"in r.template&&(f=r.template.templateid),e.mUid=this.uSite.getuid(),this.getListOfDisabledSSPs(s),this.mUserActivityThrottlerEvent=function(){i.userActivityThrottler()},this.activateActivityTracker(this.mUserActivityThrottlerEvent),this.mIsUserFromUSPState=JSON.parse(this.uSite.getfromUspState());var S=this.mSite.getUSPPrivacy().IsIcUspEnabled;if(this.mSite.getUSPPrivacy().IsEnabled){var y=this.calculateUspString(this.mIsUserFromUSPState,this.mSite.getUSPPrivacy().IsUspOptoutAvailable,S);this.mUSPString=y.uspString,this.mUSPStatus=this.calculateUspStatus(),y.updateCookie&&this.saveUspStringToStorage(S),this.dropUSPWindowFunction(S)}else this.mUSPString="",this.mUSPStatus=d.USPStatus.NOT_APPLICABLE;this.mSite.getUSPPrivacy().IsEnabled&&this.mSite.getUSPPrivacy().IsGPPEnabled&&this.calculateGPPString(this.mIsUserFromUSPState,this.mSite.getUSPPrivacy().IsUspOptoutAvailable,S),e.mPrivacy.CCPA=this.mUSPString;try{this.mIsDebugModeEnabled&&(d.Utility.getInstance().debugConsoleMessage("USP String calculated successfully ",[this.mUSPString]),d.Utility.getInstance().debugConsoleMessage("USP Status is ",[this.mUSPStatus]))}catch(e){}if(this.dropUSPWindowFunction(S),this.mIsUserFromGDPRCountry=JSON.parse(this.uSite.getfromGDPRCountry()),this.mIsUserFromGDPRCountry||this.mGlobalConfig&&"gdpr_applies"in this.mGlobalConfig){if(this.mDocumentType==d.DocumentType.IFRAME)return d.Utility.getInstance().setGDPRStatus(!0),d.Utility.getInstance().setUSPStatus(d.USPStatus.INPROGRESS),e.mPrivacy.GDPR=o.PENDING,void this.triggerBasicPageLog(f,!0);this.processForGdpr(r)}else{e.mPrivacy.GDPR=o.NOTAPPLICABLE;try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("GDPR CMP is not applicable.")}catch(e){console.log(e)}this.processData(r,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}this.triggerBasicPageLog(f,!0)}catch(e){console.log("create template :: error :: ",e),d.Utility.getInstance().ic_ga_event("Error","Template.createTemplate",e.message)}},e.prototype.fetchFloorPricePeriodically=function(){var t=this;if(this.mFloorPriceInterval>0){var i=60*this.mFloorPriceInterval*1e3;try{clearInterval(e.mfloorPriceFloorIntervalInstance)}catch(e){}e.mfloorPriceFloorIntervalInstance=setInterval((function(){t.fetchFloorPrice(t.mReferrerType,e.mUserCookieType)}),i)}},e.prototype.processForGdpr=function(t){this.mCmpVersion2NotSuppostedSSPs=this.mSite.getGDPRCMP().non_supported_ssp?this.mSite.getGDPRCMP().non_supported_ssp.toLowerCase().split(","):[];var i=d.Utility.getInstance(),r=this.mSite.getGDPRCMP();r.adTagName=this.mSite.getAdTagName();var n=m.GdprCmp.prepareInstance(r,i,this.mIsDebugModeEnabled,this.mDocumentType,this.mIsUserFromGDPRCountry);n.setDeniedCallback(this.gdprDeniedCallback.bind(this));var s=!1;if(n.isAnyCMPEnabled())if(this.isGdprConsentsKnown())if(this.isGdprDfpApplicable()){e.mPrivacy.GDPR=o.APPROVED;var a=n.getCmpData();this.mCmpVersion=a.cmpVersion,this.mCmpTcString=a.tcString,this.mCmpGdprApplies="true"==a.gdprApplies;try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("GDPR CMP is applicable, user has given consent and DFP is also applicable.")}catch(e){console.log(e)}this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}else{e.mPrivacy.GDPR=o.DENIED,a=n.getCmpData(),this.mCmpVersion=a.cmpVersion,this.mCmpTcString=a.tcString,this.mCmpGdprApplies="true"==a.gdprApplies,this.mIsGDPRApplicable=!0,s=!0;try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("GDPR CMP is applicable, user has given consent but DFP is Not applicable.")}catch(e){console.log(e)}this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}else{e.mPrivacy.GDPR=o.PENDING,this.mIsGDPRApplicable=!0,this.mUSPStatus=d.USPStatus.INPROGRESS,s=!0;try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("GDPR CMP, waiting for user consents.")}catch(e){console.log(e)}this.mWaitingForGdprCmpData=!0,n.registerGdprCmpCallback(this.gdprCmpCallback.bind(this),t)}else{e.mPrivacy.GDPR=o.PENDING,this.mUSPStatus=d.USPStatus.INPROGRESS,this.mWaitingForGdprCmpData=!0,this.mIsGDPRApplicable=!0,s=!0;try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Publisher GDPR CMP, waiting for user consents.")}catch(e){console.log(e)}n.publisherCmpGetConsents(this.publisherGdprCmpCallback.bind(this),t)}s&&(d.Utility.getInstance().setGDPRStatus(this.mIsGDPRApplicable),d.Utility.getInstance().setUSPStatus(this.mUSPStatus))},e.prototype.triggerBasicPageLog=function(t,i){var r=e.getDropScriptWindow();if(!r.IC_PAGE_LOG_FIRED||this.mDocumentType==d.DocumentType.IFRAME){var n=d.Utility.getInstance(),s=this.getPageLog(t,i);n.triggerPageLog(),n.preparePageLog(s,!0),r.IC_PAGE_LOG_FIRED=!0}},e.prototype.isGdprConsentsKnown=function(){var e="",t=d.Utility.getInstance();try{e=t.getFromLocalStorage(this.mAdmiralGdprConsentsKnownKey)}catch(e){console.log(e)}return!(!e||"true"!=e.toLowerCase())},e.prototype.isGdprDfpApplicable=function(){var e=d.Utility.getInstance();try{var t=e.getFromLocalStorage(this.mAdmiralDfpApplicableKey);if("true"==t.toLowerCase())return!0;if("false"==t.toLowerCase())return!1}catch(e){console.log(e)}return!0},e.prototype.publisherGdprCmpCallback=function(t,i){this.mCmpVersion=i.cmpVersion,this.mCmpTcString=i.tcString,this.mCmpGdprApplies="true"==i.gdprApplies,this.mWaitingForGdprCmpData=!1,this.mIsGDPRApplicable=!1,d.Utility.getInstance().setGDPRStatus(!1),this.mUSPStatus=this.calculateUspStatus(),d.Utility.getInstance().setUSPStatus(this.mUSPStatus),this.mAdvancePlacementsWaitingForGdprCmpData&&this.mAdvancePlacementsWaitingForGdprCmpData.length>0&&this.renderAdvancePlacements(this.mAdvancePlacementsWaitingForGdprCmpData),e.mPrivacy.GDPR=o.APPROVED,this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed(),e.mAPIReady=d.APIStatus.READY,d.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready")},e.prototype.gdprDeniedCallback=function(t){e.mPrivacy.GDPR=o.DENIED,this.mIsGDPRApplicable=!0,d.Utility.getInstance().setGDPRStatus(this.mIsGDPRApplicable),this.mUSPStatus=this.calculateUspStatus(),d.Utility.getInstance().setUSPStatus(this.mUSPStatus),this.mWaitingForGdprCmpData=!1,this.mAdvancePlacementsWaitingForGdprCmpData&&this.mAdvancePlacementsWaitingForGdprCmpData.length>0&&this.renderAdvancePlacements(this.mAdvancePlacementsWaitingForGdprCmpData),this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()},e.prototype.gdprCmpCallback=function(t){var i=this.isGdprDfpApplicable();try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("GDPR CMP, received user consents and DFP is "+(i?"Applicable.":"Not applicable."))}catch(e){console.log(e)}if(i){var r=m.GdprCmp.getInstance().getCmpData();e.mPrivacy.GDPR=o.APPROVED,this.publisherGdprCmpCallback(t,r)}else this.gdprDeniedCallback(t)},e.prototype.gppAPIResponse=function(t){e.gppAPIAvailable=!0,null!=t?(e.mPrivacy.GPP="D",this.mUSPStatus=d.USPStatus.APPLICABLE):(e.mPrivacy.GPP="A",this.mUSPStatus=d.USPStatus.NOT_APPLICABLE)},e.prototype.getCommonSiteConfig=function(){return this.cSite},e.prototype.dropUSPWindowFunction=function(e){var t=this;e&&"function"!=typeof d.Utility.window.__uspapi&&(d.Utility.window.__uspapi=function(e,i,r){if("function"==typeof r)return"getUSPData"!==e?r({},!1):r({version:1,uspString:t.mUSPString},!0)})},e.prototype.calculateUspString=function(e,t,i){var r=d.Utility.getInstance().getUspString(this.mUSPCookieName,i),n=!0;return null!=r&&""!=r?(!t&&e&&"N"===r.substring(2,3)&&(r="1NYY",n=!1),e||(n=!1),{uspString:r,updateCookie:n}):(r="1---",e&&(t?r=i?"1YNY":"1YYY":(r="1NYY",n=!1)),{uspString:r,updateCookie:n})},e.prototype.calculateGPPString=function(t,i,r){if(d.Utility.getInstance().getFromLocalStorage("IC_GPP_Consent_Known")){var n=d.Utility.getInstance().getFromLocalStorage("IC_GPP_Consent_Optout");null!=n&&("true"==n?(this.mUSPString="1YYY",this.mUSPStatus=d.USPStatus.APPLICABLE,e.mPrivacy.GPP="D"):(this.mUSPString="1---",this.mUSPStatus=d.USPStatus.NOT_APPLICABLE,e.mPrivacy.GPP="A"))}},e.prototype.calculateUspStatus=function(){return this.mUSPString&&"Y"!==this.mUSPString.substring(2,3)?d.USPStatus.NOT_APPLICABLE:d.USPStatus.APPLICABLE},e.prototype.saveUspStringToStorage=function(e){var t=d.Utility.getInstance();if(e){var i=2592e3;this.mUSPStatus==d.USPStatus.APPLICABLE&&(i=31536e3),t.saveToLocalStorage(this.mUSPCookieName,this.mUSPString),t.saveToCookie(this.mUSPCookieName,this.mUSPString,i)}},e.checkAndImplementLiveramIdentityLink=function(e){if(""!=e&&null!=e&&"IsEnabled"in e&&1==e.IsEnabled){if(this.isPubmaticIdSolutionEnabled(e))return!1;if(this.isLiverampEnabled(e))return!0}return!1},e.prototype.callCustomAdBlocker=function(t){var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(0===i.status||i.responseURL!==t?e.adBlockerStatus=d.AdBlockerStatus.IP:e.adBlockerStatus=d.AdBlockerStatus.NP)},i.open("HEAD",t,!0),i.send(null)},e.isLiverampEnabled=function(e){if("liverampidentitylink"in e&&null!=e.liverampidentitylink&&""!=e.liverampidentitylink){var t=e.liverampidentitylink;if("IsEnabled"in t&&1==t.IsEnabled&&"pid"in t&&null!=t.pid&&""!=t.pid&&"url"in t&&""!=t.url&&null!=t.url&&"storage"in t){var i=t.storage;if("expiry"in i&&"refresh"in i&&"type"in i&&"name"in i&&""!=i.name&&null!=i.name&&""!=i.type&&null!=i.type&&""!=i.expiry&&null!=i.expiry&&""!=i.refresh&&null!=i.refresh)return!0}}return!1},e.isPubmaticCookieEnabled=function(e){if("pubmatic_cookie"in e&&null!=e.pubmatic_cookie&&""!=e.pubmatic_cookie){var t=e.pubmatic_cookie;if("IsEnabled"in t&&1==t.IsEnabled&&"cookieurl"in t&&null!=t.cookieurl)return!0}return!1},e.isPubmaticIdSolutionEnabled=function(e){if("pubmatic"in e&&null!=e.pubmatic&&""!=e.pubmatic){var t=e.pubmatic;if("IsEnabled"in t&&1==t.IsEnabled&&"profileId"in t&&null!=t.profileId&&""!=t.profileId&&"partnerId"in t&&""!=t.partnerId&&null!=t.partnerId)return!0}return!1},e.prototype.dropPubmaticCookieScripts=function(){if(""!=this.mSite.getAddressability()&&null!=this.mSite.getAddressability()&&this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()){var t=this.mSite.getAddressability();if("IsEnabled"in t&&1==t.IsEnabled&&e.isPubmaticCookieEnabled(t)){var i=t.pubmatic_cookie,r=d.Constant.PM_UID_IFRAME_URL+"?pubmaticuid=PM_UID&ord=".concat(this.getPageId(),"&gdprapplicable=").concat(this.mIsGDPRApplicable,"&uspstatus=").concat(this.mUSPStatus);if(document.getElementById("IC_PM_Uid_Iframe"))return;var n=document.createElement("iframe");n.id="IC_PM_Uid_Iframe",n.style.display="none",n.width="1",n.height="1",n.src=i.cookieurl+"&&predirect="+encodeURIComponent(r)+"&userIdMacro=PM_UID",document.body?document.body.appendChild(n):this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("dropPubmaticCookieScripts method failed because document.body is null or undefiened")}}},e.prototype.dropUserIdentityScripts=function(){if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=this.mSite.getAddressability()&&null!=this.mSite.getAddressability()&&this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()){var t=this.mSite.getAddressability();if("IsEnabled"in t&&1==t.IsEnabled){var i=!1;if(e.isPubmaticIdSolutionEnabled(t)){i=!0;var r=t.pubmatic;this.dropPubmaticIdentityScript(r.partnerId,r.profileId)}if(e.isLiverampEnabled(t)){var n=t.liverampidentitylink;i||this.dropIdentityLinkIdSystemScript(),this.dropLiverampIdentityScript(n.url)}}}},e.prototype.dropLiverampIdentityScript=function(e){try{d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,"IC_ats",this.mIsDebugModeEnabled)||d.Utility.getInstance().dropScripts(this.mDocumentType,e,"ats.js",this.mIsDebugModeEnabled,"IC_ats",!1,!0)}catch(e){}},e.prototype.dropIdentityLinkIdSystemScript=function(){var e="identityLinkIdSystem.js",t=d.Constant.UAT_PREBID_VERSION_URL+e;d.Utility.getInstance().dropScripts(this.mDocumentType,t,e,this.mIsDebugModeEnabled,"IC_BidAdapterScript_identityLinkIdSystem",!0,!1)},e.prototype.dropPubmaticIdentityScript=function(e,t){try{var i=window.location.href,r="";if(i.indexOf("pwtv=")>0){var n=/pwtv=(.*?)(&|$)/g.exec(i);n.length>=2&&n[1].length>0&&(r="/"+n[1])}if(!d.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,"IC_pwt",this.mIsDebugModeEnabled)){var s=d.Constant.PUBMATIC_ID_SOLUTION_URL+e+"/"+t+r+"/pwt.js";d.Utility.getInstance().dropScripts(this.mDocumentType,s,"pwt.js",this.mIsDebugModeEnabled,"IC_pwt",!0,!1)}}catch(e){}},e.prototype.dropSchainScript=function(){var e="schain.js",t=d.Constant.UAT_PREBID_VERSION_URL+e;d.Utility.getInstance().dropScripts(this.mDocumentType,t,e,this.mIsDebugModeEnabled,"IC_Schain",!0,!1)},e.prototype.processData=function(t,i,r){var n=this,s="0";try{if(e.mViewCount=this.calculateViewCount(),"pageview_log_interval"in t.uatConfig){var a=t.uatConfig.pageview_log_interval;try{a&&""!=a&&(this.mPVLogInterval=JSON.parse(a))}catch(e){}}if("prebid_addressability_uid_config"in t.uatConfig){var l=t.uatConfig.prebid_addressability_uid_config;try{l&&""!=l&&(e.mAddressabilityUserIdConfig=JSON.parse(l))}catch(e){}}if(this.setSovrnUidDfpKeyVal(!1,!0),d.Utility.getInstance().setUSPStatus(this.mUSPStatus),this.isPageEventLogInitiated()||(e.getDropScriptWindow().IC_PAGEVENT_LOG_FIRED=!0,e.triggerUserTrackingLogs(!0,!1,this,!0,!0)),this.registerUnloadEvent(),this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()){try{d.Utility.getInstance().dropICUidIframe()}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("dropICUidIframe method failed. Error Msg: "+e.message),this.mDropICUidIframeEvent=function(){d.Utility.getInstance().dropICUidIframe()},document.addEventListener("DOMContentLoaded",this.mDropICUidIframeEvent,!1)}d.Utility.getInstance().requestUid(this.userIdCallback.bind(this),this.mIsDebugModeEnabled)}if(s="1.1",e.mPrivacy.GDPR==o.APPROVED||e.mPrivacy.GDPR==o.NOTAPPLICABLE){var p=this.mSite.getDmp();if(null!=p&&"AdForm"in p){var g=p.AdForm;"IsEnabled"in g&&1==g.IsEnabled&&(m.DMP.getInstance().dropAdFormUidScript(this.mDocumentType,this.mIsDebugModeEnabled),m.DMP.getInstance().dropAdFormAudienceScript(this.mDocumentType,this.mIsDebugModeEnabled),"Segments"in g&&(e.mAdFormGlobalSegments=g.Segments),"TrackingId"in g&&(e.mAdFormTrackingId=g.TrackingId,m.DMP.getInstance().dropAdFormTrackingScript(this.mDocumentType,this.mIsDebugModeEnabled,this.getPageNameForAdForm(),e.mAdFormTrackingId)),"AudienceToken"in g&&(this.mAdFormAudienceToken=g.AudienceToken),this.activateAdForm(),this.initializeAdForm(),e.mIsAdformEnabled=!0,e.mIsAdformDropped=!0)}this.userHashAPIWaiting&&this.getUSPStatus()!=d.USPStatus.APPLICABLE&&this.fetchUserHashKeyValues(this.userHashAPIWaiting)}s="1.2",this.mGlobalTarget=null,this.mPixelSegment=null,""!=this.cSite.getglobalTarget()&&null!=this.cSite.getglobalTarget()&&(this.mGlobalTarget=this.cSite.getglobalTarget()),this.mAutoTargetStatus=this.cSite.getautoTargetStatus(),null!=this.cSite.getkeyValues()&&""!=this.cSite.getkeyValues()&&(this.mKeyVal=JSON.parse(this.cSite.getkeyValues())),s="2",""!=this.cSite.getpixelSegment()&&null!=this.cSite.getpixelSegment()&&(this.mPixelSegment=this.cSite.getpixelSegment()),s="3";var h=t.template;if(this.mIsSingleRequestEnabled=h.singleRequestEnabled,this.mIsInitialLoadDisabled=h.initialLoadDisabled,this.mSponsorPagePath=h.sponsorPagePath,s="4",m.DATManager.dropDFPScript(this.mIsDebugModeEnabled),this.mDocumentType==d.DocumentType.IFRAME){var f=document.referrer;this.mPageUrl&&this.mPageUrl.length>0&&(f=this.mPageUrl),m.DATManager.createInstance(this.mIsSingleRequestEnabled,this.singleRequestCallback.bind(this),this.mIsInitialLoadDisabled,this.mShowDFPNonPersonalizedAd,this.mUSPStatus!=d.USPStatus.NOT_APPLICABLE,this.mSite.getGPTTagType(),d.Utility.getInstance(),this,!!e.isGDPRDenied(),f)}else m.DATManager.createInstance(this.mIsSingleRequestEnabled,this.singleRequestCallback.bind(this),this.mIsInitialLoadDisabled,this.mShowDFPNonPersonalizedAd,this.mUSPStatus!=d.USPStatus.NOT_APPLICABLE,this.mSite.getGPTTagType(),d.Utility.getInstance(),this,!!e.isGDPRDenied(),this.mPageUrl);s="4.1","targetrule_timeout"in t.uatConfig&&(this.mTargetRuleTimeout=1e3*+t.uatConfig.targetrule_timeout),s="5";var S={};this.initialiseObject(S),this.createSspReqLogsObject();try{if("ic_adblocker_config"in t.uatConfig){var y=JSON.parse(t.uatConfig.ic_adblocker_config);try{"IsEnabled"in y&&1==y.IsEnabled&&"Url"in y&&null!=y.Url&&""!=y.Url&&this.callCustomAdBlocker(y.Url)}catch(e){}}}catch(e){}if(this.mSite.isAdmiralAdblockerEnabled()&&this.mDocumentType!=d.DocumentType.IFRAME){m.GdprCmp.dropAdmiralScript(this.mSite.getGDPRCMP().Admiral.url,this.mSite.getAdTagName(),this.mDocumentType,!1,this.mIsUserFromGDPRCountry);var b=window;this.mDocumentType==d.DocumentType.FRIENDLYFRAME&&(b=window.top),"function"==typeof b.admiral&&b.admiral("after","measure.detected",(function(t){t.adblocking?e.adBlockerStatus=d.AdBlockerStatus.IP:t.whitelisted?e.adBlockerStatus=d.AdBlockerStatus.WP:t.adblocking||t.whitelisted||(e.adBlockerStatus=d.AdBlockerStatus.NP)}))}if(s="5.1",this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()){this.dropUserIdentityScripts();try{this.dropPubmaticCookieScripts()}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("dropPubmaticCookieScript method failed. Error Msg: "+e.message),this.mDropICPubmaticIframeEvent=function(){n.dropPubmaticCookieScripts()},document.addEventListener("DOMContentLoaded",this.mDropICPubmaticIframeEvent,!1)}this.mSSPConfig.addressability=this.mSite.getAddressability()}if(this.isDoubleVerifyEnabled(this.mSite.getDoubleVerify()))try{this.cSite.getdoubleVerify()&&""!=this.cSite.getdoubleVerify()&&null!=this.cSite.getdoubleVerify()&&(this.mDoubleVerifyData=JSON.parse(this.cSite.getdoubleVerify()),"bsc"in this.mDoubleVerifyData&&(this.mDoubleVerifyData.bsc=this.mDoubleVerifyData.bsc.map(String)))}catch(e){console.log(e)}if(null!=this.cSite.getTicker()&&""!=this.cSite.getTicker())try{var T=JSON.parse(this.cSite.getTicker());if("t"in T){var I=T.t;if("tc"in T)try{e.TickerCategory.push(T.tc.toString())}catch(e){}for(var v=0;v<I.length;v++)c.default.pTickerValues.push(I[v])}}catch(e){}null!=this.cSite.getZone()&&""!=this.cSite.getZone()&&""==this.mZone&&(this.mZone=this.cSite.getZone()),null!=this.cSite.getPageType()&&""!=this.cSite.getPageType()&&(this.mPageType=this.cSite.getPageType()),s="6",this.mOnViewBuffer=t.uatConfig.onview_buffer,s="7",this.mDFPCallBufferTime=t.uatConfig.dfpcall_buffer_time,s="8",this.prepareAutoRefreshConfig(this.mSite.getAutoRefreshConfig()),s="9",this.prepareSSPConfig(this.mSite.getSSPConfig(),t.uatConfig),s="10",this.prepareListOfEnabledS2sSsp(),s="10.1",this.mUSPStatus!=d.USPStatus.NOT_APPLICABLE||e.isGDPRDenied()||this.dropMarkit(),s="10.2",this.mPreloads=h.preloads,s="11",this.mPostloads=h.postloads,s="12";for(var P=this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&e.mPrivacy.GDPR!=o.DENIED,E=0;E<h.customVariables.length;++E){var A=new u.CustomVariable(h.customVariables[E],P,this);s="13."+E,this.mCustomVariable[A.getName()]=A,s="14."+E}for(var C=0;C<h.placements.length;++C){this.mPlacements.length<=0&&(this.mPublisherType="TAGLESS");var D=h.placements[C];if(s="15."+C,null!=D.devices&&null!=i&&D.devices.indexOf(i)<0)this.pushPlacementErrorLog(D.id,D.placementType,0,this.mPublisherType,d.ErrorType.DEVICE_TARGETING_FAILED);else if(s="16."+C,null!=D.geolocations&&null!=r&&D.geolocations.indexOf(r)<0)this.pushPlacementErrorLog(D.id,D.placementType,0,this.mPublisherType,d.ErrorType.GEO_TARGETING_FAILED);else{s="17."+C;var _=void 0;try{_=new u.Placement(D,this,"TAGLESS"),s="18."+C}catch(e){this.pushPlacementErrorLog(D.id,D.placementType,0,this.mPublisherType,d.ErrorType.UNKNOW_ERROR,"Error creating placment object: "+e.message);continue}this.mPlacements[this.mPlacements.length]=_,s="19."+C,_.getLoadType()!=d.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=_.getId()),s="20."+C}}this.mPlacements.sort((function(e,t){return e.getPriority()-t.getPriority()})),s="21";var U=null;null!=this.mGlobalTarget&&this.mGlobalTarget.dfpkeyname&&(U=this.mGlobalTarget.dfpkeyname);for(var R=0;R<this.mPlacements.length;++R)if(D=this.mPlacements[R]){if(D.initialiseObject(this.getMaxTile()),s="22."+R,null==U&&D.getType()==d.PlacementType.HTML){var O=D.getTagToRender();!O||O.getType()!=d.TagType.DISPLAY&&O.getType()!=d.TagType.NATIVE||null==O.getTargetName()||(U=O.getTargetName())}s="23."+R}S.zone=U,m.DMP.getInstance().addDmpProperty(S)}catch(e){console.log("processData :: error :: ",e),d.Utility.getInstance().ic_ga_event("Error","Template.processData",e.message,null,s)}},e.prototype.isPageEventLogInitiated=function(){var t=!1;try{var i=e.getDropScriptWindow();i.IC_PAGEVENT_LOG_FIRED&&1==i.IC_PAGEVENT_LOG_FIRED&&(t=!0)}catch(e){}return t},e.getDropScriptWindow=function(){return e.calculateDocumentType()===d.DocumentType.FRIENDLYFRAME?d.Utility.window.top:d.Utility.window},e.prototype.dropMarkit=function(){if(0!=e.markitEnabled)try{var t=m.SSP.getInstance();t||(t=m.SSP.createInstance(this.mSSPConfig));var i=t.getMarkit();t.initializedMarkitVariables(),this.isMarkitEnabled&&null!=i&&t.getMarkitStatusFromWindow()==t.getEnumStatus().INITIALIZED&&(i.callMarkit(this.mDocumentType,t.markitCallback.bind(t)),t.setMarkitStatusOnWindow(t.getEnumStatus().INPROGRESS))}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Error: dropMarkit :: "+e)}else this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Markit is disabled, not dropping.")},e.getBrowserUrl=function(){var t=e.calculateDocumentType(),i=d.Utility.window.location.href,r=d.Utility.getInstance().updateUrlIfTranslator(t,i);return r&&(i=r),i},e.prototype.getIcFid=function(){var e=d.Utility.getInstance().getFromLocalStorage(this.cFirstPartyId);return e&&null!==e&&""!=e&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e)||(e=this.generateUUID()),this.mICFID=e,e},e.prototype.pushPlacementErrorLog=function(t,i,r,n,s,a){var o=s.toString();a&&(o=a);var l=e.getBrowserUrl();d.Utility.getInstance().pushToErrorLog({device:this.getDeviceType(),apiKey:e.getAPIKey(),placementId:""+t,placementType:i,publisherType:n,pageId:""+this.getPageId(),rnd:""+r,documentType:this.mDocumentType,errorCode:d.Utility.getInstance().getErrorTypeKeyFromValue(s),errorDetail:o,kval:encodeURIComponent("bs:"+d.Utility.getInstance().getBrowserSize()),version:d.Constant.VERSION,uspstring:this.mUSPString,refererUrl:encodeURIComponent(this.mReferer),pageUrl:encodeURIComponent(l)})},e.pushAPILog=function(t,i,r){var n=e.getBrowserUrl(),s=e.calculateDocumentType(),a=t.toString();a+=i,r||(r="null"),d.Utility.getInstance().pushToAPILog({apiKey:e.getAPIKey(),publisherType:"ADVANCE",pageId:r,documentType:s,errorCode:d.Utility.getInstance().getErrorTypeKeyFromValue(t),errorDetail:a,kval:encodeURIComponent("bs:"+d.Utility.getInstance().getBrowserSize()),version:d.Constant.VERSION,refererUrl:encodeURIComponent(e.calculateReferer(s)),pageUrl:encodeURIComponent(n)})},e.prototype.getPageLog=function(t,i){var r=e.getBrowserUrl(),n=e.mPrivacy,s=n;try{s="CCPA:"+n.CCPA+";GDPR:"+n.GDPR,"GPP"in n&&(s+=";GPP:"+n.GPP)}catch(e){}var a=this.mICFID;return n.GDPR!=o.PENDING&&n.GDPR!=o.DENIED&&this.mUSPStatus!=d.USPStatus.APPLICABLE&&this.mUSPStatus!=d.USPStatus.INPROGRESS||(a=""),{apiKey:e.getAPIKey(),templateId:t,pageId:e.mPageId,documentType:this.mDocumentType,publisherConfig:JSON.stringify(this.mGlobalConfig),isUatEnabled:i,version:d.Constant.VERSION,refererUrl:encodeURIComponent(this.mReferer),pageUrl:encodeURIComponent(r),referrerType:this.mReferrerType,pageType:this.mPageType,zone:this.mZone,privacy:s,fid:a,softrefresh:this.mSoftRefresh,epoch:e.mClientEpoch}},e.prototype.prepareAutoRefreshConfig=function(e){try{if(null==e)return;if(this.mDocumentType==d.DocumentType.IFRAME||this.mDocumentType==d.DocumentType.FRIENDLYFRAME&&parent!=top)return void(this.mAutoRefreshConfig.IsEnabled=!1);if(this.mAutoRefreshConfig.AdvertisersIndirect=e.AdvertisersIndirect,this.mAutoRefreshConfig.DisabledCampaigns=e.DisabledCampaigns,this.mAutoRefreshConfig.IsEnabled=e.IsEnabled,"Rules"in e){var t=e.Rules;t&&null!=t&&(this.mAutoRefreshConfig.Rules=t)}}catch(e){console.log(e),d.Utility.getInstance().ic_ga_event("Error","Template.prepareAutoRefreshConfig",e.message)}},e.prototype.loadSSPConfig=function(e,t,i){var r;if(!(e in this.mSSPConfig))return i.isEnabled&&((r={}).IsEnabled=!0,"Stack_HV_Id"in t&&(r.Stack_HV_Id=t.Stack_HV_Id),"Stack_Id"in t&&(r.Stack_Id=t.Stack_Id),"HV_Id"in t&&(r.HV_Id=t.HV_Id),"HV_Tpc_Id"in t&&(r.HV_Tpc_Id=t.HV_Tpc_Id),"Tpc_Id"in t&&(r.Tpc_Id=t.Tpc_Id),"Stack_HV_Tpc_Id"in t&&(r.Stack_HV_Tpc_Id=t.Stack_HV_Tpc_Id),"Stack_Tpc_Id"in t&&(r.Stack_Tpc_Id=t.Stack_Tpc_Id),"Default"in t&&(r.Default=t.Default),"Adhesion"in t&&(r.Adhesion=t.Adhesion),"Adhesion_Tpc_Id"in t&&(r.Adhesion_Tpc_Id=t.Adhesion_Tpc_Id),"Stack_Adhesion"in t&&(r.Stack_Adhesion=t.Stack_Adhesion),"Stack_Adhesion_Tpc_Id"in t&&(r.Stack_Adhesion_Tpc_Id=t.Stack_Adhesion_Tpc_Id),"adSizes"in i&&(r.adSizes=i.adSizes),"adsizes"in t&&(r.globalAdSizes=t.adsizes.split(","))),r},e.prototype.getSSPStatus=function(e,t){if(this.mDocumentType==d.DocumentType.IFRAME||this.mUSPStatus!=d.USPStatus.NOT_APPLICABLE)return{isEnabled:!1};if(!this.mSSPConfig.enabled||this.mDisabledSsps.indexOf(e)>-1)return{isEnabled:!1};if(!this.isSSPSupportsCurrentCMPVersion(e))return{isEnabled:!1};if(t&&!t.IsEnabled)return{isEnabled:!1};var i,r=!0;if("adsizes"in t&&(i=t.adsizes),t&&"SspTargeting"in t){var n=this.parseSspRules(t.SspTargeting,!0);"result"in n&&(r=n.result),"resultArray"in n&&null!=n.resultArray&&n.resultArray.length>0&&(i=n.resultArray.toString())}return r?{isEnabled:!0,adSizes:i}:{isEnabled:!1}},e.prototype.prepareA9Config=function(){if(!("a9"in this.mSSPConfig)){var e=this.getSSPStatus("a9",this.mSite.getA9());e.isEnabled&&(this.mSSPConfig.a9={},this.mSSPConfig.a9.IsEnabled=!0,this.mSSPConfig.a9.timeout=this.mSSPConfig.totalDelay-100,this.mSSPConfig.a9.refreshTimeout=this.mSSPConfig.totalDelayRefresh-100,"deals"in this.mSite.getA9()?this.mSSPConfig.a9.deals=this.mSite.getA9().deals:this.mSSPConfig.a9.deals=!1,"adSizes"in e&&(this.mSSPConfig.a9.adSizes=e.adSizes,"adsizes"in this.mSite.getA9()&&(this.mSSPConfig.a9.globalAdSizes=this.mSite.getA9().adsizes.split(","))))}},e.prototype.isSSPSupportsCurrentCMPVersion=function(e){return!(2==this.mCmpVersion&&this.mCmpVersion2NotSuppostedSSPs.length>0&&this.mCmpVersion2NotSuppostedSSPs.indexOf(e.toLowerCase())>-1)},e.prototype.disableA9=function(){"a9"in this.mSSPConfig||(this.mSSPConfig.a9={},this.mSSPConfig.a9.IsEnabled=!1)},e.prototype.prepareAppnexusConfig=function(e){if(!("appnexus"in this.mSSPConfig)){var t=this.getSSPStatus("appnexus",this.mSite.getAppnexus());t.isEnabled&&(e||this.checkAndLoadSSPLib("appnexus"),this.mSSPConfig.appnexus=this.loadSSPConfig("appnexus",this.mSite.getAppnexus(),t))}},e.prototype.disableAppnexus=function(){"appnexus"in this.mSSPConfig||(this.mSSPConfig.appnexus={},this.mSSPConfig.appnexus.IsEnabled=!1)},e.prototype.prepareOpenxConfig=function(e){if(!("openx"in this.mSSPConfig)){var t=this.getSSPStatus("openx",this.mSite.getOpenx());t.isEnabled&&(e||this.checkAndLoadSSPLib("openx"),this.mSSPConfig.openx=this.loadSSPConfig("openx",this.mSite.getOpenx(),t),this.mSSPConfig.openx.delDomain=this.mSite.getOpenx().DelDomain)}},e.prototype.disableOpnex=function(){"openx"in this.mSSPConfig||(this.mSSPConfig.openx={},this.mSSPConfig.openx.IsEnabled=!1)},e.prototype.prepareRubiconConfig=function(e){if(!("rubicon"in this.mSSPConfig)){var t=this.getSSPStatus("rubicon",this.mSite.getRubicon());t.isEnabled&&"SiteId"in this.mSite.getRubicon()&&(e||this.checkAndLoadSSPLib("rubicon"),this.mSSPConfig.rubicon=this.loadSSPConfig("rubicon",this.mSite.getRubicon(),t),this.mSSPConfig.rubicon.SiteId=this.mSite.getRubicon().SiteId)}},e.prototype.disableRubicon=function(){"rubicon"in this.mSSPConfig||(this.mSSPConfig.rubicon={},this.mSSPConfig.rubicon.IsEnabled=!1)},e.prototype.preparePubmaticConfig=function(e){if(!("pubmatic"in this.mSSPConfig)){var t=this.getSSPStatus("pubmatic",this.mSite.getPubmatic());t.isEnabled&&(e||this.checkAndLoadSSPLib("pubmatic"),this.mSSPConfig.pubmatic={},this.mSSPConfig.pubmatic.IsEnabled=!0,this.mSSPConfig.pubmatic.SlotNamePrefix=this.mSite.getPubmatic().SlotNamePrefix,this.mSSPConfig.pubmatic.PublisherId=this.mSite.getPubmatic().PublisherId,"adSizes"in t&&(this.mSSPConfig.pubmatic.adSizes=t.adSizes,"adsizes"in this.mSite.getPubmatic()&&(this.mSSPConfig.pubmatic.globalAdSizes=this.mSite.getPubmatic().adsizes.split(","))))}},e.prototype.disablePubmatic=function(){"pubmatic"in this.mSSPConfig||(this.mSSPConfig.pubmatic={},this.mSSPConfig.pubmatic.IsEnabled=!1)},e.prototype.prepareCriteoConfig=function(e){if(!("criteo"in this.mSSPConfig)){var t=this.getSSPStatus("criteo",this.mSite.getCriteo());t.isEnabled&&(e||this.checkAndLoadSSPLib("criteo"),this.mSSPConfig.criteo={},this.mSSPConfig.criteo.IsEnabled=!0,"NetworkId"in this.mSite.getCriteo()&&(this.mSSPConfig.criteo.networkId=this.mSite.getCriteo().NetworkId),"adSizes"in t&&(this.mSSPConfig.criteo.adSizes=t.adSizes,"adsizes"in this.mSite.getCriteo()&&(this.mSSPConfig.criteo.globalAdSizes=this.mSite.getCriteo().adsizes.split(","))))}},e.prototype.disableCriteo=function(){"criteo"in this.mSSPConfig||(this.mSSPConfig.criteo={},this.mSSPConfig.criteo.IsEnabled=!1)},e.prototype.prepareSovrnConfig=function(e){if(!("sovrn"in this.mSSPConfig)){var t=this.getSSPStatus("sovrn",this.mSite.getSovrn());t.isEnabled&&(e||this.checkAndLoadSSPLib("sovrn"),this.mSSPConfig.sovrn=this.loadSSPConfig("sovrn",this.mSite.getSovrn(),t))}},e.prototype.disableSovrn=function(){"sovrn"in this.mSSPConfig||(this.mSSPConfig.sovrn={},this.mSSPConfig.sovrn.IsEnabled=!1)},e.prototype.prepareYieldmoConfig=function(e){if(!("yieldmo"in this.mSSPConfig)){var t=this.getSSPStatus("yieldmo",this.mSite.getYieldmo());t.isEnabled&&(e||this.checkAndLoadSSPLib("yieldmo"),this.mSSPConfig.yieldmo=this.loadSSPConfig("yieldmo",this.mSite.getYieldmo(),t))}},e.prototype.disableYieldmo=function(){"yieldmo"in this.mSSPConfig||(this.mSSPConfig.yieldmo={},this.mSSPConfig.yieldmo.IsEnabled=!1)},e.prototype.prepare33AcrossConfig=function(e){if(!("across33"in this.mSSPConfig)){var t=this.getSSPStatus("33across",this.mSite.get33Across());t.isEnabled&&(this.mSSPConfig.across33=this.loadSSPConfig("33across",this.mSite.get33Across(),t),e?("zoneId"in this.mSite.get33Across()&&(this.mSSPConfig.across33.zoneId=this.mSite.get33Across().zoneId),"buyerId"in this.mSite.get33Across()&&(this.mSSPConfig.across33.buyerId=this.mSite.get33Across().buyerId)):this.checkAndLoadSSPLib("33across"))}},e.prototype.disable33Across=function(){"across33"in this.mSSPConfig||(this.mSSPConfig.across33={},this.mSSPConfig.across33.IsEnabled=!1)},e.prototype.prepareAolConfig=function(e){if(!("aol"in this.mSSPConfig)){var t=this.getSSPStatus("aol",this.mSite.getAol());t.isEnabled&&(e||this.checkAndLoadSSPLib("aol"),this.mSSPConfig.aol=this.loadSSPConfig("aol",this.mSite.getAol(),t))}},e.prototype.disableAol=function(){"aol"in this.mSSPConfig||(this.mSSPConfig.aol={},this.mSSPConfig.aol.IsEnabled=!1)},e.prototype.prepareGumgumConfig=function(e){if(!("gumgum"in this.mSSPConfig)){var t=this.getSSPStatus("gumgum",this.mSite.getGumgum());t.isEnabled&&(this.mSSPConfig.gumgum=this.loadSSPConfig("gumgum",this.mSite.getGumgum(),t))}},e.prototype.disableGumgum=function(){"gumgum"in this.mSSPConfig||(this.mSSPConfig.gumgum={},this.mSSPConfig.gumgum.IsEnabled=!1)},e.prototype.prepareTripleliftConfig=function(e){if(!("triplelift"in this.mSSPConfig)){var t=this.getSSPStatus("triplelift",this.mSite.getTriplelift());t.isEnabled&&(e||this.checkAndLoadSSPLib("triplelift"),this.mSSPConfig.triplelift=this.loadSSPConfig("triplelift",this.mSite.getTriplelift(),t))}},e.prototype.disableTriplelift=function(){"triplelift"in this.mSSPConfig||(this.mSSPConfig.triplelift={},this.mSSPConfig.triplelift.IsEnabled=!1)},e.prototype.prepareSmartAdServerConfig=function(e){if(!("smartadserver"in this.mSSPConfig)){var t=this.getSSPStatus("smartadserver",this.mSite.getSmartAdServer());t.isEnabled&&(this.mSSPConfig.smartadserver=this.loadSSPConfig("smartadserver",this.mSite.getSmartAdServer(),t),e?"networkId"in this.mSite.getSmartAdServer()&&(this.mSSPConfig.smartadserver.networkId=+this.mSite.getSmartAdServer().networkId):this.checkAndLoadSSPLib("smartadserver"),"SiteId"in this.mSite.getSmartAdServer()&&(this.mSSPConfig.smartadserver.siteId=+this.mSite.getSmartAdServer().SiteId),this.mSSPConfig.smartadserver.formatId=+this.mSite.getSmartAdServer().FormatId)}},e.prototype.disableSmartAdServer=function(){"smartadserver"in this.mSSPConfig||(this.mSSPConfig.smartadserver={},this.mSSPConfig.smartadserver.IsEnabled=!1)},e.prototype.prepareImproveDigitalConfig=function(e){if(!("improvedigital"in this.mSSPConfig)){var t=this.getSSPStatus("improvedigital",this.mSite.getImproveDigital());t.isEnabled&&(this.mSSPConfig.improvedigital=this.loadSSPConfig("improvedigital",this.mSite.getImproveDigital(),t),"partnerId"in this.mSite.getImproveDigital()&&(this.mSSPConfig.improvedigital.partnerId=+this.mSite.getImproveDigital().partnerId),e||this.checkAndLoadSSPLib("improvedigital"))}},e.prototype.disableImproveDigital=function(){"improvedigital"in this.mSSPConfig||(this.mSSPConfig.improvedigital={},this.mSSPConfig.improvedigital.IsEnabled=!1)},e.prototype.prepareShareThroughConfig=function(e){if(!("sharethrough"in this.mSSPConfig)){var t=this.getSSPStatus("sharethrough",this.mSite.getShareThrough());t.isEnabled&&(e||this.checkAndLoadSSPLib("sharethrough"),this.mSSPConfig.sharethrough=this.loadSSPConfig("sharethrough",this.mSite.getShareThrough(),t))}},e.prototype.disableShareThrough=function(){"sharethrough"in this.mSSPConfig||(this.mSSPConfig.sharethrough={},this.mSSPConfig.sharethrough.IsEnabled=!1)},e.prototype.prepareMediaNetConfig=function(e){if(!("medianet"in this.mSSPConfig)){var t=this.getSSPStatus("medianet",this.mSite.getMediaNet());t.isEnabled&&"customerId"in this.mSite.getMediaNet()&&(e||this.checkAndLoadSSPLib("medianet"),this.mSSPConfig.medianet=this.loadSSPConfig("medianet",this.mSite.getMediaNet(),t),this.mSSPConfig.medianet.customerId=this.mSite.getMediaNet().customerId)}},e.prototype.disableMediaNet=function(){"medianet"in this.mSSPConfig||(this.mSSPConfig.medianet={},this.mSSPConfig.medianet.IsEnabled=!1)},e.prototype.prepareAutomatAdConfig=function(e){if(!("automatad"in this.mSSPConfig)){var t=this.getSSPStatus("automatad",this.mSite.getAutomatad());t.isEnabled&&"siteId"in this.mSite.getAutomatad()&&(e||this.checkAndLoadSSPLib("automatad"),this.mSSPConfig.automatad=this.loadSSPConfig("automatad",this.mSite.getAutomatad(),t),this.mSSPConfig.automatad.siteId=this.mSite.getAutomatad().siteId)}},e.prototype.disableAutomatAd=function(){"automatad"in this.mSSPConfig||(this.mSSPConfig.automatad={},this.mSSPConfig.automatad.IsEnabled=!1)},e.prototype.prepareOutbrainConfig=function(e){if(!("outbrain"in this.mSSPConfig)){var t=this.getSSPStatus("outbrain",this.mSite.getOutbrain());t.isEnabled&&"publisherId"in this.mSite.getOutbrain()&&(e||this.checkAndLoadSSPLib("outbrain"),this.mSSPConfig.outbrain=this.loadSSPConfig("outbrain",this.mSite.getOutbrain(),t),this.mSSPConfig.outbrain.publisherId=this.mSite.getOutbrain().publisherId)}},e.prototype.disableOutbrain=function(){"outbrain"in this.mSSPConfig||(this.mSSPConfig.outbrain={},this.mSSPConfig.outbrain.IsEnabled=!1)},e.prototype.prepareAdaptmxConfig=function(e){if(!("adaptmx"in this.mSSPConfig)){var t=this.getSSPStatus("adaptmx",this.mSite.getAdaptMx());t.isEnabled&&"tagId"in this.mSite.getAdaptMx()?(e||this.checkAndLoadSSPLib("amx"),this.mSSPConfig.adaptmx=this.loadSSPConfig("adaptmx",this.mSite.getAdaptMx(),t),this.mSSPConfig.adaptmx.tagId=this.mSite.getAdaptMx().tagId):t.isEnabled=!1}},e.prototype.disableAdaptmx=function(){"adaptmx"in this.mSSPConfig||(this.mSSPConfig.adaptmx={},this.mSSPConfig.adaptmx.IsEnabled=!1)},e.prototype.isMarkitEnabled=function(t){return 1==e.markitEnabled&&this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()},e.prototype.isDoubleVerifyEnabled=function(e){return!(!this.mSite.getDoubleVerify()||!this.mSite.getDoubleVerify().IsEnabled)},e.prototype.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.prototype.prepareSSPConfig=function(t,i){var r="0";try{r="1",this.mSSPConfig.bidsExpiry=+t.BidsExpiry,this.mSSPConfig.callBufferTime=+t.CallBufferTime,this.mSSPConfig.deviceType=this.mDeviceType,this.mSSPConfig.countryCode=this.mCountryCode,this.mSSPConfig.delayStep=+t.DelayStep,this.mSSPConfig.dfpSiteName=this.mSite.getDFPKeyName(),this.mSSPConfig.adTagName=this.mSite.getAdTagName(),this.mSSPConfig.globalAdSizes=t.GlobalAdSizes.split(","),this.mSSPConfig.isDebugModeEnabled=this.mIsDebugModeEnabled,r="2",this.mCountryCode&&"US"!=this.mCountryCode?(this.mSSPConfig.totalDelay=+t.TotalDelayInternational,this.mSSPConfig.totalDelayRefresh=+t.TotalDelayInternationalRefresh,r="4"):(this.mSSPConfig.totalDelay=+t.TotalDelay,this.mSSPConfig.totalDelayRefresh=+t.TotalDelayRefresh,r="3"),this.isMarkitEnabled(i)&&(this.mSSPConfig.markit={IsEnabled:e.markitEnabled,DFPKeyName:null==this.markitDfpKeyname?null:this.markitDfpKeyname.split(",")}),r="5",this.mSSPConfig.prebid=this.mSSPConfig.prebid||{},this.mSSPConfig.prebid.priceGranularity=JSON.parse(t.PrebidPriceGranularity),this.mSSPConfig.prebid.passConsentManagementConfig=!1,this.mSSPConfig.prebid.cmpVersion=this.mCmpVersion,1==this.mCmpVersion?(this.mSSPConfig.prebid.cmpConsentData=this.mCmpConsentDataObject,this.mSSPConfig.prebid.cmpVendorConsentData=this.mCmpVendorConsentDataObject):2==this.mCmpVersion&&(this.mSSPConfig.prebid.cmpTcString=this.mCmpTcString,this.mSSPConfig.prebid.cmpGdprApplies=this.mCmpGdprApplies),!this.mIsUserFromGDPRCountry||this.mGlobalConfig&&"show_nonpersonalized_ad"in this.mGlobalConfig||(1==this.mCmpVersion&&this.mCmpConsentDataObject&&this.mCmpVendorConsentDataObject&&!d.Utility.ICJQuery.isEmptyObject(this.mCmpConsentDataObject)&&!d.Utility.ICJQuery.isEmptyObject(this.mCmpVendorConsentDataObject)&&(this.mSSPConfig.prebid.passConsentManagementConfig=!0),2==this.mCmpVersion&&this.mCmpTcString&&(this.mSSPConfig.prebid.passConsentManagementConfig=!0)),this.mSSPConfig.prebid.uspString=this.mUSPString,r="6";var n=!1,s=void 0;if(null!=this.mSite.getSSPConfig()){this.mSite.getSSPConfig(),this.mSSPConfig.enabled=!0,this.mSSPConfig.enabledAdSizes=null;try{var a={};a.Rules=t.SspRotation.Rules;var o=this.parseSspRules(a,!1);if("result"in o&&(n=o.result),"resultArray"in o&&null!=o.resultArray&&o.resultArray.length>0){s=o.maxSsps;for(var l=0;l<o.resultArray.length&&s>0;++l){var u=this.getTheSspsFromTier(o.resultArray[l],s);s-=u.length,this.sspRotationEnabledSsps=this.sspRotationEnabledSsps.concat(u)}this.sspRotationEnabledSsps=d.Utility.getInstance().removeDuplicateFromArray(this.sspRotationEnabledSsps)}}catch(e){console.log("IC SSP Rotation failed ::",e)}r="15"}if(this.mSSPConfig.prebid.timeout=this.mSSPConfig.totalDelay-50,this.mSSPConfig.prebid.refreshTimeout=this.mSSPConfig.totalDelayRefresh-50,n&&s&&s>0)for(var c=m.SSP.getListOfSsps();s>0&&c.length>0;){var p=c.length,g=this.getRandomNumber(0,p-1),h=c[g].toLowerCase();c.splice(g,1),this.sspRotationEnabledSsps.indexOf(h)>-1||this.isSspEnabled(h)&&(this.sspRotationEnabledSsps.push(h),--s)}else n||(this.IsPrebidS2SEnabled=!1,this.prepareA9Config(),r="16",this.prepareAppnexusConfig(),r="17",this.prepareAdaptmxConfig(),r="18",this.prepareRubiconConfig(),r="19",this.preparePubmaticConfig(),r="20",this.prepareCriteoConfig(),r="22",this.prepareOpenxConfig(),r="23",this.prepareSovrnConfig(),r="24",this.prepareYieldmoConfig(),r="25",this.prepare33AcrossConfig(),r="26",this.prepareAolConfig(),r="27",this.prepareGumgumConfig(),r="28",this.prepareImproveDigitalConfig(),r="29",this.prepareTripleliftConfig(),r="30",this.prepareSmartAdServerConfig(),r="31",this.prepareShareThroughConfig(),r="32",this.prepareMediaNetConfig(),r="33",this.prepareOutbrainConfig(),r="34",this.prepareAutomatAdConfig(),r="35");if(this.mSSPConfig.s2sConfig={},"S2SConfig"in t){var f=JSON.parse(t.S2SConfig);"accountId"in f&&(this.mSSPConfig.s2sConfig.accountId=f.accountId),"bidderTimeout"in f&&(this.mSSPConfig.s2sConfig.bidderTimeout=f.bidderTimeout),"auctionTimeout"in f&&(this.mSSPConfig.s2sConfig.auctionTimeout=f.auctionTimeout),"timeoutBuffer"in f&&(this.mSSPConfig.s2sConfig.timeoutBuffer=f.timeoutBuffer),"timeout"in f&&(this.mSSPConfig.s2sConfig.timeout=f.timeout)}r="36";try{this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Enabled SSPs for this page are ",[this.sspRotationEnabledSsps])}catch(e){console.log(e)}r="37"}catch(e){console.log("prepareSSPConfig :: error :: ",e),d.Utility.getInstance().ic_ga_event("Error","Template.prepareSSPConfig",e.message,null,r)}},e.prototype.getTheSspsFromTier=function(e,t){var i=[];try{if("random"==e.rotation.type.toLowerCase())i=this.randomlySelectSspFromArray(e,t);else if("pageview"==e.rotation.type.toLowerCase()){var r=+this.mDFPParams.getViewCount();if(!r)return i;var n=r%e.rotation.pageViewGroupSize;if(0==n&&(n=e.rotation.pageViewGroupSize),e.rotation.pageViewsFromGroup.indexOf(n)>-1)i=this.randomlySelectSspFromArray(e,t);else for(var s=0;s<e.ssps.length;++s)this.disableSsp(e.ssps[s].toLowerCase())}}catch(e){console.log(e)}return i},e.prototype.randomlySelectSspFromArray=function(e,t){for(var i=e.ssps,r=[],n=e.maxSsps;i.length>0;){var s=i.length,a=this.getRandomNumber(0,s-1),o=i[a].toLowerCase();if(i.splice(a,1),this.isSspEnabled(o)&&(r.push(o),--t),r.length==n||0==t)break}return r},e.prototype.isSspEnabled=function(e){switch(e){case"a9":return this.prepareA9Config(),"a9"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.a9&&this.mSSPConfig.a9.IsEnabled;case"appnexus":return this.prepareAppnexusConfig(),"appnexus"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.appnexus&&this.mSSPConfig.appnexus.IsEnabled;case"rubicon":return this.prepareRubiconConfig(),"rubicon"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.rubicon&&this.mSSPConfig.rubicon.IsEnabled;case"pubmatic":return this.preparePubmaticConfig(),"pubmatic"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.pubmatic&&this.mSSPConfig.pubmatic.IsEnabled;case"openx":return this.prepareOpenxConfig(),"openx"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.openx&&this.mSSPConfig.openx.IsEnabled;case"criteo":return this.prepareCriteoConfig(),"criteo"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.criteo&&this.mSSPConfig.criteo.IsEnabled;case"sovrn":return this.prepareSovrnConfig(),"sovrn"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.sovrn&&this.mSSPConfig.sovrn.IsEnabled;case"yieldmo":return this.prepareYieldmoConfig(),"yieldmo"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.yieldmo&&this.mSSPConfig.yieldmo.IsEnabled;case"33across":return this.prepare33AcrossConfig(),"across33"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.across33&&this.mSSPConfig.across33.IsEnabled;case"aol":return this.prepareAolConfig(),"aol"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.aol&&this.mSSPConfig.aol.IsEnabled;case"gumgum":return this.prepareGumgumConfig(),"gumgum"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.gumgum&&this.mSSPConfig.gumgum.IsEnabled;case"triplelift":return this.prepareTripleliftConfig(),"triplelift"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.triplelift&&this.mSSPConfig.triplelift.IsEnabled;case"smartadserver":return this.prepareSmartAdServerConfig(),"smartadserver"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.smartadserver&&this.mSSPConfig.smartadserver.IsEnabled;case"improvedigital":return this.prepareImproveDigitalConfig(),"improvedigital"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.improvedigital&&this.mSSPConfig.improvedigital.IsEnabled;case"sharethrough":return this.prepareShareThroughConfig(),"sharethrough"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.sharethrough&&this.mSSPConfig.sharethrough.IsEnabled;case"medianet":return this.prepareMediaNetConfig(),"medianet"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.medianet&&this.mSSPConfig.medianet.IsEnabled;case"outbrain":return this.prepareOutbrainConfig(),"outbrain"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.outbrain&&this.mSSPConfig.outbrain.IsEnabled;case"adaptmx":return this.prepareAdaptmxConfig(),"adaptmx"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.adaptmx&&this.mSSPConfig.adaptmx.IsEnabled;case"automatad":return this.prepareAutomatAdConfig(),"automatad"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.automatad&&this.mSSPConfig.automatad.IsEnabled}},e.prototype.disableSsp=function(e){switch(e){case"a9":return void this.disableA9();case"appnexus":return void this.disableAppnexus();case"rubicon":return void this.disableRubicon();case"pubmatic":return void this.disablePubmatic();case"openx":return void this.disableOpnex();case"criteo":return void this.disableCriteo();case"sovrn":return void this.disableSovrn();case"yieldmo":return void this.disableYieldmo();case"33across":return void this.disable33Across();case"aol":return void this.disableAol();case"gumgum":return void this.disableGumgum();case"triplelift":return void this.disableTriplelift();case"smartadserver":return void this.disableSmartAdServer();case"improvedigital":return void this.disableImproveDigital();case"sharethrough":return void this.disableShareThrough();case"adaptmx":return void this.disableAdaptmx();case"medianet":return void this.disableMediaNet();case"outbrain":return void this.disableOutbrain();case"automatad":return void this.disableAutomatAd()}},e.prototype.createSspReqLogsObject=function(){e.mPageId&&0!=e.mPageId.length||(e.mPageId=this.generatePageId()),this.mSspsLogsParams={pageId:this.getPageId(),apiKey:e.mApiKey,device:this.mDeviceType,siteName:this.mSite.getDFPKeyName(),uspState:this.isUserFromUSPState(),gdprCountry:this.isUserFromGDPRCountry()}},e.prototype.getListOfDisabledSSPs=function(e){var t=[];if("SspTargeting"in e)for(var i=JSON.parse(e.SspTargeting).Rules,r=0;r<i.length;r++){for(var n=i[r].children,s=!1,a=i[r].logicalOperator,o=void 0,l=0;l<n.length;++l)if("DisabledSsps"in n[l])o=n[l].DisabledSsps;else{if(s=this.isChildrenEnable(n[l]),"AND"==a){if(s)continue;break}if("OR"==a){if(s)break;continue}}1==s&&t.push.apply(t,o)}this.mDisabledSsps=t,this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("mDisabledSsps :: ",[this.mDisabledSsps])},e.prototype.parseSspRules=function(e,t){try{for(var i=[],r=!1,n=void 0,s=0;s<e.Rules.length;++s)try{for(var a=e.Rules[s].children,o=e.Rules[s].logicalOperator,l=!0,m=0;m<a.length;++m){if(l=this.isChildrenEnable(a[m]),"AND"==o){if(l)continue;break}if("OR"!=o);else if(l)break}if(r=r||l,l&&(t&&"EnabledAdSizes"in e.Rules[s]&&(i=i.concat(e.Rules[s].EnabledAdSizes)),!t&&"Tiers"in e.Rules[s])){i=e.Rules[s].Tiers,n=e.Rules[s].maxSsps;break}}catch(e){console.log(e)}return i.length>0&&t&&(i=d.Utility.getInstance().removeDuplicateFromArray(i)),{result:r,resultArray:i,maxSsps:n}}catch(e){console.log(e)}return{result:!1}},e.prototype.parseAndGetAutoRefreshConfig=function(t,i){try{var r=null,n=!1;if(!t.Rules||null==t.Rules)return null;for(var s=0;s<t.Rules.length;++s)try{for(var a=t.Rules[s].children,o=t.Rules[s].logicalOperator,l=!0,d=0;d<a.length;++d){if(l=this.isChildrenEnable(a[d],i),"AND"==o){if(l)continue;break}if("OR"!=o);else if(l)break}if(n=n||l,l&&"config"in t.Rules[s]){var m=t.Rules[s].config;r={IsEnabled:this.mAutoRefreshConfig.IsEnabled,DisabledCampaigns:this.mAutoRefreshConfig.DisabledCampaigns,AdvertisersIndirect:this.mAutoRefreshConfig.AdvertisersIndirect,MaxRefreshCount:m.MaxRefreshCount?m.MaxRefreshCount:10,RefreshTime:m.RefreshTime?1e3*m.RefreshTime:12e4,RefreshTimeIndirect:m.RefreshTimeIndirect?1e3*m.RefreshTimeIndirect:35e3,OutOfViewTime:m.OutOfViewTime?1e3*m.OutOfViewTime:18e4,OutOfViewTimeIndirect:m.OutOfViewTimeIndirect?1e3*m.OutOfViewTimeIndirect:18e4,ViewabilityThresholdPercentage:m.ViewabilityThresholdPercentage?m.ViewabilityThresholdPercentage:60,ViewabilityThresholdPercentageIndirect:m.ViewabilityThresholdPercentageIndirect?m.ViewabilityThresholdPercentageIndirect:50,MaxAutoRefreshWithoutInteraction:m.MaxAutoRefreshWithoutInteraction?m.MaxAutoRefreshWithoutInteraction:0,ActiveUserTimeoutFromLastInteraction:m.ActiveUserTimeoutFromLastInteraction?1e3*m.ActiveUserTimeoutFromLastInteraction:3e4},e.mActiveUserTimeoutFromLastInteraction=m.ActiveUserTimeoutFromLastInteraction?1e3*m.ActiveUserTimeoutFromLastInteraction:3e4;break}}catch(e){console.log(e)}return r}catch(e){console.log(e)}return null},e.prototype.isChildrenEnable=function(e,t){void 0===t&&(t=null);try{switch(e.operand){case"Region":if(!this.mRegions&&"NOTIN"==e.operator)return!0;if(!this.mRegions)return!1;if("IN"==e.operator){for(var i=0;i<this.mRegions.length;++i)if(e.comparator.indexOf(this.mRegions[i])>-1)return!0;return!1}if("NOTIN"==e.operator){for(i=0;i<this.mRegions.length;++i)if(e.comparator.indexOf(this.mRegions[i])>-1)return!1;return!0}return!0;case"Device":return"IN"==e.operator?e.comparator.indexOf(this.mDeviceType)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(this.mDeviceType)<=-1;case"Browser":return"IN"==e.operator?e.comparator.indexOf(this.mBrowser)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(this.mBrowser)<=-1;case"Sizes":return!(!t&&null===t)&&("IN"==e.operator?e.comparator.indexOf(t)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(t)<=-1)}}catch(e){console.log(e)}return!1},e.prototype.updateTargetKval=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,a,o,l,d,m;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),!(t=JSON.parse(e)))return[2];for(i=t.dfpkeyname,this.mTargetData[i].Status="COMPLETED",this.mTargetData[i].Data=t,null!=this.mTargetData[i].Data.kval&&(this.mTargetData[i].Data.kval=this.mTargetData[i].Data.kval.split(";")),r=this.getAllAdvancePlacements(),n=[],l=0;l<r.length;++l)a=r[l],o=a.getTagToRender().getTargetName().replace(".bottom",""),a.getWaitingForTarget()&&o===i&&(a.setWaitingForTarget(!1),this.mAdvancePlacementsWaitingForTarget.indexOf(a.getRandomNumber())>-1&&n.push(a));for(l=0;l<n.length;++l)d=this.mAdvancePlacementsWaitingForTarget.indexOf(n[l].getRandomNumber()),this.mAdvancePlacementsWaitingForTarget.splice(d,1);return n.length>0?[4,this.renderAdvancePlacements(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[3,4];case 3:return m=s.sent(),console.error(m),[3,4];case 4:return[2]}}))}))},e.prototype.updateNativeLayout=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,a,o,l,d;return s(this,(function(s){try{if(!(t=JSON.parse(e)))return[2];for(i=t.nativelayoutid,this.mNativeLayout[i].Status="COMPLETED",this.mNativeLayout[i].Data=t,r=this.getAllAdvancePlacements(),n=[],l=0;l<r.length;++l)a=r[l],o=a.getTagToRender().getNativLayout(),a.getWaitingForNativeLayout()&&o.nativelayoutid===i&&(a.setWaitingForNativeLayout(!1),a.getTagToRender().setNativLayout(t),this.mAdvancePlacementsWaitingForTarget.indexOf(a.getRandomNumber())>-1&&n.push(a));for(l=0;l<n.length;++l)d=this.mAdvancePlacementsWaitingForTarget.indexOf(n[l].getRandomNumber()),this.mAdvancePlacementsWaitingForTarget.splice(d,1);n.length>0&&this.renderAdvancePlacements(n)}catch(e){console.error(e)}return[2]}))}))},e.prototype.renderPreloads=function(){for(var e=d.Utility.getInstance(),t=0;t<this.mPreloads.length;++t)e.executeJS(this.mPreloads[t])},e.prototype.renderPostloads=function(){for(var e=d.Utility.getInstance(),t=0;t<this.mPostloads.length;++t)e.executeJS(this.mPostloads[t])},e.prototype.renderPlacements=function(t){return n(this,void 0,void 0,(function(){var i,r,n,o,l,m,u,c,p,g,h,f=this;return s(this,(function(s){switch(s.label){case 0:i=[],r=[],n=[],g=0,s.label=1;case 1:return g<t.length?(h=t[g]).isEligibleForRendering("ADVANCE"!=h.getPublisherType())?(h.getType()!=d.PlacementType.HTML||h.getTagToRender().getType()!=d.TagType.DISPLAY&&h.getTagToRender().getType()!=d.TagType.NATIVE||!this.isSingleRequestEnabled()||this.addTagToRenderArray(h.getDivId(),h.getTagToRender(),h.getLoadType()),"ADVANCE"!=h.getPublisherType()?[3,3]:[4,this.preparePlacementForSSP(h)]):[3,4]:[3,7];case 2:(o=s.sent())&&r.push(o),null!=(l=e.checkAndPrepareDummyPlacements(o))&&r.push(l),s.label=3;case 3:return i.push(h),[3,5];case 4:if(h.getState()==d.PlacementState.CAPPING_EXPIRED)this.pushPlacementErrorLog(h.getId(),h.getType(),h.getRandomNumber(),h.getPublisherType(),d.ErrorType.UNKNOW_ERROR,"FREQUENCY CAPPING EXPIRED");else{if(h.getState()!=d.PlacementState.TAG_NOT_AVAILABLE)return[3,6];m=h.getId(),"ADVANCE"==h.getPublisherType()&&(m=null),this.pushPlacementErrorLog(m,h.getType(),h.getRandomNumber(),h.getPublisherType(),d.ErrorType.UNKNOW_ERROR,"No tag exist for the placement")}s.label=5;case 5:this.mUnrenderedPlacementIds.indexOf(h.getId())>-1&&this.mUnrenderedPlacementIds.splice(this.mUnrenderedPlacementIds.indexOf(h.getId()),1);try{(u=h.getTickerValues())&&u.length>0&&(n=a(a([],n,!0),u,!0))}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Error: Getting ticker :: "+e)}s.label=6;case 6:return++g,[3,1];case 7:try{n&&n.length>0&&!e.mIsTickerKeyValueApiTriggered&&(n=d.Utility.getInstance().removeDuplicateFromArray(n),c=n.join(","),"IsEnabled"in this.tickerConfig&&1==this.tickerConfig.IsEnabled&&!e.IsPubSetTickerTriggered&&(e.triggerUserTrackingLogs(!0,!1,this),e.triggerTickerApi(c,"",this),e.mIsTickerKeyValueApiTriggered=!0))}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Error: Trigger Ticker API :: "+e)}return(p=r.length>0)?[4,this.callSSPToFetchTheBids(r)]:[3,9];case 8:p=s.sent(),s.label=9;case 9:for(p&&(this.mSSPFetchBidsStartTime=(new Date).getTime()),g=0;g<i.length;++g)i[g].render();if("complete"!=document.readyState&&this.mUnrenderedPlacementIds.length>0)setTimeout((function(){f.renderPlacements(t)}),1e3);else if(this.mUnrenderedPlacementIds.length>0)for(g=0;g<t.length;++g)h=t[g],-1!=this.mUnrenderedPlacementIds.indexOf(h.getId())&&(h.getState()==d.PlacementState.SELECTOR_NOT_LOADED?this.pushPlacementErrorLog(h.getId(),h.getType(),h.getRandomNumber(),h.getPublisherType(),d.ErrorType.SELECTOR_NOT_FOUND):h.getState()!=d.PlacementState.TARGETING_FAILED&&h.getState()!=d.PlacementState.TAG_NOT_AVAILABLE&&this.pushPlacementErrorLog(h.getId(),h.getType(),h.getRandomNumber(),h.getPublisherType(),d.ErrorType.UNKNOW_ERROR,"Due to some unknown error, placement is not eligible for rendering."));return[2]}}))}))},e.triggerPageEventLogForMarkitTicker=function(t){if(!e.IsPubSetTickerTriggered){var i="";try{1==e.markitEnabled&&t&&"t"in t&&(i=i.concat(t.t.toUpperCase().split(",")),c.default.pTickerValues.indexOf(i)<0?c.default.pTickerValues.push(i):i="")}catch(e){}""!=i&&(e.triggerUserTrackingLogs(!0,!1,this),e.triggerTickerApi(i,"",this))}},e.prototype.calculateViewCount=function(){if(this.mUSPStatus!=d.USPStatus.NOT_APPLICABLE||this.mDocumentType==d.DocumentType.IFRAME||e.isGDPRDenied())return"-1";var t=d.Utility.getInstance(),i=NaN,r=t.isCookieEnabled();if(r)i=parseInt(t.getFromCookie(d.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+t.getTopWindowDomain()));else if(o=t.getFromLocalStorage(d.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+t.getTopWindowDomain()))try{if("timestamp"in(o=JSON.parse(o))){var n=o.timestamp;((new Date).getTime()-n)/1e3<1800&&"value"in o&&(i=parseInt(o.value))}}catch(e){console.log(e)}var s=i;if(isNaN(s)&&(s=0),!d.Utility.window.top.IC_VIEW_COUNT_SET){s++,d.Utility.window.top.IC_VIEW_COUNT_SET=!0;var a=void 0;if(r)t.saveToCookie(d.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+t.getTopWindowDomain(),s.toString(),1800),a=parseInt(t.getFromCookie(d.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+t.getTopWindowDomain()));else{var o={value:s.toString(),timestamp:(new Date).getTime()};t.saveToLocalStorage(d.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+t.getTopWindowDomain(),JSON.stringify(o));var l=t.getFromLocalStorage(d.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+t.getTopWindowDomain());if(l&&"value"in(l=JSON.parse(l)))try{a=parseInt(l.value)}catch(e){console.log(e)}}if(isNaN(a)||a==i)return"-1"}return 0==s?"-1":s<10?"0"+s:""+s},e.calculateDocumentType=function(){try{return self==d.Utility.window.top?d.DocumentType.PAGE:d.Utility.window.location.hostname==d.Utility.window.top.location.hostname?d.DocumentType.FRIENDLYFRAME:d.DocumentType.IFRAME}catch(e){return d.DocumentType.IFRAME}},e.prototype.extractDomain=function(e){var t=null,i=e.match(/^(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+)(?:\/|$)/i);return i&&(t=i[0]),t},e.prototype.isReferrerASearchEngine=function(){if(this.mReferer.startsWith("android-app"))return RegExp("(android-app:\\/\\/com\\.google\\.android\\.googlequicksearchbox[^\\/]*|android-app:\\/\\/com\\.google\\.android\\.gm[^\\/]*)").test(this.mReferer);var e=this.extractDomain(this.mReferer);return RegExp("(https?:\\/\\/www\\.google\\.[^\\/]*|https?:\\/\\/[^\\/]*search.yahoo.com[^\\/]*|https?:\\/\\/[^\\/]*\\.bing.com|https?:\\/\\/[^\\/]*duckduckgo.com[^\\/]*|https?:\\/\\/[^\\/]*\\.startpage.com[^\\/]*)").test(e)},e.prototype.isReferrerFromSocialMedia=function(){if(this.mReferer.startsWith("android-app"))return RegExp("(android-app:\\/\\/org\\.telegram\\.[^\\/]*|android-app:\\/\\/com\\.twitter\\.[^\\/]*|android-app:\\/\\/m\\.facebook\\.com[^\\/]*|android-app:\\/\\/com\\.pinterest\\.[^\\/]*|android-app:\\/\\/com\\.linkedin\\.[^\\/]*)").test(this.mReferer);var e=this.extractDomain(this.mReferer);return RegExp("https?:\\/\\/([^\\/]*facebook.[^\\/]*|[^\\/]*.twitter.com[^\\/]*|twitter.[^\\/]*|t.co[^\\/]*|[^\\/]*instagram.com[^\\/]*|[^\\/]*reddit.com[^\\/]*|[^\\/]*youtube\\.com[^\\/]*|[^\\/]*.linkedin.[^\\/]*|[^\\/]*.telegram.[^\\/]*|web.whatsapp.com[^\\/]*|[^\\/]*pinterest.[^\\/]*|[^\\/]*.quora.com[^\\/]*|www.tiktok.com[^\\/]*|teams.microsoft.[^\\/]*|[^\\/]*.teams.microsoft.[^\\/]*|teams.live.[^\\/]*)").test(e)},e.prototype.evaluateReferrerType=function(){this.mDocumentType!=d.DocumentType.IFRAME?this.mReferer?this.isReferrerASearchEngine()?this.mReferrerType=d.ReferrerType.SEARCH_ENGINE:this.isReferrerFromSocialMedia()?this.mReferrerType=d.ReferrerType.SOCIAL_MEDIA:this.mReferer.match(/:\/\/(.[^/]+)/)[1]==d.Utility.window.top.location.hostname?this.mReferrerType=d.ReferrerType.INTERNAL:this.mReferrerType=d.ReferrerType.EXTERNAL:this.mReferrerType=d.ReferrerType.DIRECT:this.mReferrerType=d.ReferrerType.UNKNOWN},e.prototype.calculateReferrerType=function(){this.mDFPParams||(this.mDFPParams=new d.DFPTemplateParams),this.mDFPParams.setReferrerType(this.mReferrerType),m.DMP.getInstance().addDmpProperty({rft:this.mReferrerType})},e.prototype.calculatePageType=function(){var e=this.mDocumentType==d.DocumentType.IFRAME?document.referrer:d.Utility.window.top.location.href;return/^https?\:\/\/[^\/]+\/?$/.test(e)?d.PageType.HOME:-1!=e.indexOf("ic_welcome=1")?d.PageType.WELCOMEAD:d.PageType.UNKNOWN},e.prototype.isTopWindowRefererASearchEngine=function(){return!!RegExp("https?://[^/]*(google)|(askjeeves)|(altavista)|(yahoo)|(bing)|(ask).*").test(this.mReferer)},e.calculateReferer=function(e){if(e==d.DocumentType.IFRAME||e==d.DocumentType.FRIENDLYFRAME)return document.referrer;if(void 0===d.Utility.window.top.IC_PAGE_REFERER){var t=d.Utility.window.top.document.referrer;return d.Utility.window.top.IC_PAGE_REFERER=d.Utility.window.top.location.href,t}var i=d.Utility.window.top.IC_PAGE_REFERER;return d.Utility.window.top.IC_PAGE_REFERER=d.Utility.window.top.location.href,i},e.prototype.generatePageId=function(){if(this.mDocumentType==d.DocumentType.IFRAME)return e.mClientEpoch=(new Date).getTime(),this.generateUUID();var t=e.getDropScriptWindow();return t.IC_PAGE_ID||(e.mClientEpoch=(new Date).getTime(),t.IC_PAGE_ID=this.generateUUID()),t.IC_PAGE_ID},e.prototype.generateUUID=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))},e.prototype.getMaxTile=function(){return this.mDocumentType==d.DocumentType.IFRAME?this.mMaxTile++:(d.Utility.window.top.IC_MAX_TILE?this.mMaxTile=d.Utility.window.top.IC_MAX_TILE:d.Utility.window.top.IC_MAX_TILE=this.mMaxTile,d.Utility.window.top.IC_MAX_TILE++)},e.prototype.initialiseObject=function(t){try{this.mDFPParams=new d.DFPTemplateParams;var i=!(this.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied());if(this.mDFPParams.setDoNotTrack(i),this.mDFPParams.setDeviceType(this.mDeviceType),this.mDFPParams.setViewCount(e.mViewCount),this.mDFPParams.setPageId(e.mPageId),t.viewcount=this.mDFPParams.getViewCount(),this.mDFPParams.setDocumentType(this.mDocumentType),this.calculateReferrerType(),e.mIsFloorPriceEnabled&&(this.fetchFloorPricePeriodically(),this.fetchFloorPrice(this.mReferrerType,e.mUserCookieType)),this.mDFPParams.setPageType(this.mPageType),this.mDFPParams.setAdTagName(this.mSite.getAdTagName()),t.usn=this.mDFPParams.getAdTagName(),this.mIsSearchEngine=this.isTopWindowRefererASearchEngine(),this.mDFPParams.setIsSearchEngine(this.mIsSearchEngine),this.mDFPParams.setUserCookie(e.mUserCookieType),!i){d.Utility.getInstance().saveToLocalStorage(this.cFirstPartyId,this.mICFID),this.mDFPParams.setICFID(this.mICFID);var r=d.Utility.getInstance().getFromLocalStorage(this.cThirstPartyId);r&&null!==r&&this.mDFPParams.setICTID(r)}t.cookietype=e.mUserCookieType}catch(e){console.log(e),d.Utility.getInstance().ic_ga_event("Error","Template.initialiseObject",e.message)}},e.prototype.resetObject=function(){this.mReferer=e.calculateReferer(this.mDocumentType),this.calculateReferrerType()},e.prototype.getUrl=function(){return this.mUrl},e.prototype.getReferer=function(){return this.mReferer},e.prototype.getUSPStatus=function(){return this.mUSPStatus},e.isGDPRDenied=function(){return e.mPrivacy.GDPR==o.DENIED},e.prototype.getUSPString=function(){return this.mUSPString},e.prototype.isUserFromGDPRCountry=function(){return this.mIsUserFromGDPRCountry},e.prototype.isUserFromUSPState=function(){return this.mIsUserFromUSPState},e.prototype.getGlobalConfig=function(){return this.mGlobalConfig},e.prototype.userIdCallback=function(t,i){e.mICTID=t,t&&""!==t&&null!=this.mDFPParams&&this.mDFPParams.setICTID(t),i&&this.setUserCookieType(i)},e.getICUid=function(){return e.mICTID},e.getUserId=function(){return e.mUid},e.prototype.getAdFormMatchingSegmentIds=function(){return this.mAdFormMatchingSegmentIds},e.prototype.getTargetRulesTimeout=function(){return this.mTargetRuleTimeout},e.prototype.getRepeatPlacementbySelector=function(e){for(var t=0;t<this.mPlacements.length;++t){var i=this.mPlacements[t].getSelector();if(null!=i&&i.getIdentifier()==e&&i.getInsertionType()==d.InsertionType.REPEAT)return this.mPlacements[t]}},e.prototype.getPlacementbySelector=function(e){for(var t=[],i=0;i<this.mPlacements.length;++i){var r=this.mPlacements[i].getSelector();null!=r&&r.getIdentifier()==e&&t.push(this.mPlacements[i])}return t},e.prototype.getAllAdvancePlacements=function(){for(var e=[],t=0;t<this.mPlacements.length;++t)"ADVANCE"==this.mPlacements[t].getPublisherType()&&e.push(this.mPlacements[t]);return e},e.prototype.getPlacementByRandomNumber=function(e){for(var t=0;t<this.mPlacements.length;++t)if(this.mPlacements[t].getRandomNumber()===e)return this.mPlacements[t];return null},e.prototype.render=function(){return n(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:for(this.renderPreloads(),e=[],t=0;t<this.mPlacements.length;++t)"ADVANCE"!=this.mPlacements[t].getPublisherType()&&e.push(this.mPlacements[t]);return e.length>0?[4,this.renderPlacements(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.renderPostloads(),[2]}}))}))},e.prototype.clear=function(){for(var e=0;e<this.mPlacements.length;++e)this.mPlacements[e].clear()},e.prototype.destroy=function(){for(var t=0;t<this.mPlacements.length;++t)this.mPlacements[t].destroy(),delete this.mPlacements[t];var i=e.getDropScriptWindow();e.mAPIReady=d.APIStatus.NOT_READY,i.IC_PAGE_ID=void 0,i.IC_MAX_TILE=void 0,i.IC_PAGE_LOG_FIRED=void 0,i.IC_VIEW_COUNT_SET=void 0,e.mPageId=void 0,this.destroyPageEventLogItems();var r=m.SSP.getInstance();r&&r.destroy(),this.deactivateActivityTracker(this.mUserActivityThrottlerEvent),document.removeEventListener("visibilitychange",this.mVisibiliyEventTrigger),d.Utility.getInstance().destroy()},e.prototype.destroyPageEventLogItems=function(){e.mActiveUserTimeoutFromLastInteraction=3e3,e.mActiveUserTimeoutFromLastInteractionPassive=0,e.mUserTrackingTime=0,e.mUserTrackingStartTime=(new Date).valueOf(),e.mUserInactiveTime=(new Date).valueOf(),e.mUserIsInActive=!1,e.pubTicker=[],e.pubTickerCategory=[],e.isIgnorePubTickers=!1,e.IsPubSetTickerTriggered=!1,e.TickerCategory=[],e.mTickerKeyValues=[],c.default.pTickerValues=[],e.getDropScriptWindow().IC_PAGEVENT_LOG_FIRED=void 0,d.Utility.getInstance().resetPageEventGlobalObj();try{clearTimeout(e.mUidLogsIntervalInstance)}catch(e){}},e.prototype.renderAdvancePlacements=function(e){return n(this,void 0,void 0,(function(){var t,i;return s(this,(function(r){switch(r.label){case 0:if(this.mWaitingForGdprCmpData){for(i=0;i<e.length;++i)this.mAdvancePlacementsWaitingForGdprCmpData.push(e[i]);return[2]}for(t=[],i=0;i<e.length;++i)e[i].getWaitingForTarget()||e[i].getWaitingForNativeLayout()?-1==this.mAdvancePlacementsWaitingForTarget.indexOf(e[i].getRandomNumber())&&this.mAdvancePlacementsWaitingForTarget.push(e[i].getRandomNumber()):t.push(e[i]);return t.length>0?[4,this.renderPlacements(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.clearPlacement=function(e){for(var t=this.getPlacementbySelector(e),i=0;i<t.length;++i)t[i].clear()},e.prototype.refreshPlacement=function(e){for(var t=this.getPlacementbySelector(e),i=0;i<t.length;++i)t[i].isEligibleForRefreshing()&&(t[i].getLastRenderedTagType()==d.TagType.CUSTOM&&t[i].clear(),t[i].refresh())},e.prototype.refreshPlacements=function(){this.mReferer=e.calculateReferer(this.mDocumentType),this.calculateReferrerType();for(var t=0;t<this.mPlacements.length;++t){var i=this.mPlacements[t];i.isEligibleForRefreshing()&&(i.getLastRenderedTagType()==d.TagType.CUSTOM&&i.clear(),i.refresh())}},e.prototype.getCustomVariables=function(){return this.mCustomVariable},e.prototype.setKval=function(e){for(var t in e){var i=e[t];Array.isArray(i)||(i=[i]),i=d.Utility.getInstance().removeDuplicateFromArray(i),this.mPublisherKval[t]=i}},e.prototype.getPublisherKval=function(){return this.mPublisherKval},e.prototype.clearKval=function(e){if(null==e)this.mPublisherKval={};else if(Array.isArray(e))for(var t=0;t<e.length;++t){var i=e[t];i in this.mPublisherKval&&delete this.mPublisherKval[i]}},e.prototype.setLiverampId=function(t,i){var a=this;if(e.mIsCalledFromApi)this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Publisher called setUserId, sovrn uid module for liveramp wont' be applied");else if(e.mIsCalledFromApi=!0,-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&null!=i&&""!=i&&"{}"!=i)if("phone"==t||"email"==t)var o=0,l=this,m=setInterval((function(){return n(a,void 0,void 0,(function(){var n,a,u;return s(this,(function(s){if(o+=1,this.mSSPConfig&&"addressability"in this.mSSPConfig&&0==e.isLiverampEnabled(this.mSSPConfig.addressability))return this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Liveramp is disabled. Won't Set User ID"),clearInterval(m),[2];if(void 0!==(n=e.getDropScriptWindow()).ats&&"object"==typeof n.ats)try{a="","phone"==t?a="phoneNumber":"email"==t&&(a="emailHashes"),u={type:a,id:i},this.mCmpGdprApplies&&""!=this.mCmpTcString?u=r({consentString:this.mCmpTcString,consentType:"gdpr"},u):this.mUSPStatus==d.USPStatus.APPLICABLE&&(u=r({consentString:this.mUSPString,consentType:"ccpa"},u)),this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Object passed to Liveramp:: "+JSON.stringify(u)),n.ats.setAdditionalData(u),this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("User Identity for Liveramp"),clearInterval(m)}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Error occured for setUserId:: e ::"+e),clearInterval(m)}else o>=60&&(l.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Breaking LiveRamp loop, as system not able to find ATS object for 1 minute."),clearInterval(m));return[2]}))}))}),1e3);else this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("triggerLiveramp : Invalid type : "+t)},e.prototype.defineTag=function(e,t,i,r,n){if(2==e.split("/").length){var s=e.split("/")[0];if(s.toLowerCase()!==this.mSite.getAdTagName().toLowerCase()){var a=r?d.ErrorType.PAGE_DEFINENATIVETAG_SITE_MISMATCH:d.ErrorType.PAGE_DEFINETAG_SITE_MISMATCH;return this.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",a,a.toString()+"("+s.toLowerCase()+")"),null}var o=!1,l=e.split("/")[1];l&&(l=l.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(l,!1,r)&&"COMPLETED"!=this.getTargetStatus(l)&&(o=!0);var m=!1;r&&this.getNativeLayoutData(r)&&"COMPLETED"!=this.getNativeLayoutStatus(r)&&(m=!0);var c={id:null};this.mPlacements?c.id=100+this.mPlacements.length:c.id=100;var p=d.LoadType.CUSTOM,g=!1;if(n&&"object"==typeof n){if(n&&"load_type"in n){var h=n.load_type;h.toUpperCase()in d.LoadType&&(p=h.toUpperCase())}if(n&&"disable_force_zone"in n)try{0!=n.disable_force_zone&&1!=n.disable_force_zone||(g=n.disable_force_zone)}catch(e){}}c.loadType=p,c.devices=null,c.geolocations=null,c.frequency=null,c.callbacks=[],c.placementType=d.PlacementType.HTML,c.priority=0,c.selector={selectorid:null,identifier:"#"+i,type:d.InsertionType.FIRST_CHILD},c.targeting=null,c.tags=[{tagid:null,script:null,weight:1,type:d.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:l,kval:null,rules:null},isforcedtargetenabled:g,gdprstatus:"SERVE_ALWAYS",adsize:t,nativelayout:{nativelayoutid:r}}],r&&(!m&&r in this.mNativeLayout&&"Data"in this.mNativeLayout[r]&&(c.tags[0].nativelayout=this.mNativeLayout[r].Data),c.tags[0].type=d.TagType.NATIVE);var f=new u.Placement(c,this,"ADVANCE",o,m);return this.mPlacements.push(f),f.initialiseObject(this.getMaxTile()),f.getLoadType()!=d.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=f.getId()),f}},e.prototype.defineOutOfPageTag=function(e,t){if(2==e.split("/").length){var i=e.split("/")[0];if(i.toLowerCase()!==this.mSite.getAdTagName().toLowerCase())return this.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",d.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH,d.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH.toString()+"("+i.toLowerCase()+")"),null;var r=!1,n=e.split("/")[1];n&&(n=n.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(n,!0)&&(r=!0);var s={id:null};this.mPlacements?s.id=100+this.mPlacements.length:s.id=100,s.loadType=d.LoadType.CUSTOM,s.devices=null,s.geolocations=null,s.frequency=null,s.callbacks=[],s.placementType=d.PlacementType.HTML,s.priority=0,s.selector={selectorid:null,identifier:"#"+t,type:d.InsertionType.FIRST_CHILD},s.targeting=null,s.tags=[{tagid:null,script:null,weight:1,type:d.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:n,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:"oop",isOOPUnit:!0}];var a=new u.Placement(s,this,"ADVANCE",r);return this.mPlacements.push(a),a.initialiseObject(this.getMaxTile()),a.getLoadType()!=d.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=a.getId()),a}},e.prototype.defineWebInterstitialTag=function(e,t){if(2==e.split("/").length){var i=e.split("/")[0];if(i.toLowerCase()!==this.mSite.getAdTagName().toLowerCase())return this.pushPlacementErrorLog(null,d.PlacementType.HTML,null,"ADVANCE",d.ErrorType.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH,d.ErrorType.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH.toString()+"("+i.toLowerCase()+")"),null;var r=!1,n=e.split("/")[1];n&&(n=n.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(n,!0)&&(r=!0);var s={id:null};this.mPlacements?s.id=100+this.mPlacements.length:s.id=100,s.loadType=d.LoadType.CUSTOM,s.devices=null,s.geolocations=null,s.frequency=null,s.callbacks=[],s.placementType=d.PlacementType.HTML,s.priority=0,s.selector={selectorid:null,identifier:"#"+t,type:d.InsertionType.FIRST_CHILD},s.targeting=null,s.tags=[{tagid:null,script:null,weight:1,type:d.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:n,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:"webinterstitial",isOOPWIUnit:!0}];var a=new u.Placement(s,this,"ADVANCE",r);return this.mPlacements.push(a),a.initialiseObject(this.getMaxTile()),a.getLoadType()!=d.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=a.getId()),a}},e.prototype.getElementForThePlacement=function(t){var i;try{if(this.mPlacements&&this.mPlacements.length)for(var r=0;r<this.mPlacements.length;++r){var n=this.mPlacements[r];if(n&&n.getType()===d.PlacementType.HTML&&n.getRandomNumber()===t&&n.getSelector()){i=n.getId();var s=d.Utility.getInstance().getEmptyElementsForSelector(n.getSelector().getIdentifier(),e.mPageId,i);if(s.length>0)return s[0]}}}catch(e){console.log(e),d.Utility.getInstance().ic_ga_event("Error","Template.getElementForThePlacement",e.message,i)}},e.prototype.loadMore=function(){return n(this,void 0,void 0,(function(){var t,i,r,n,a,o,l,m,u;return s(this,(function(s){switch(s.label){case 0:t=[],i=[],u=0,s.label=1;case 1:if(!(u<this.mPlacements.length))return[3,6];if((m=this.mPlacements[u]).getType()==d.PlacementType.PIXEL||m.getSelector().getInsertionType()!=d.InsertionType.REPEAT||!m.isParent())return[3,5];r=d.Utility.getInstance().getEmptyElementsForSelector(m.getSelector().getIdentifier(),e.mPageId,this.mPlacements[u].getId()),n=0,s.label=2;case 2:return n<r.length?(a=new c.default(JSON.parse(m.getRawData()),this,m.getPublisherType()),this.mPlacements.push(a),a.initialiseObject(this.getMaxTile()),a.getSSPAdSizes(),a.makeChild(),t.push(a),[4,this.preparePlacementForSSP(a)]):[3,5];case 3:(o=s.sent())&&i.push(o),s.label=4;case 4:return++n,[3,2];case 5:return++u,[3,1];case 6:return i?[4,this.callSSPToFetchTheBids(i)]:[3,8];case 7:s.sent(),this.mSSPFetchBidsStartTime=(new Date).getTime(),s.label=8;case 8:for(l=[],u=0;u<t.length;++u)(m=t[u]).isEligibleForRendering(!1)&&(m.getType()==d.PlacementType.HTML&&m.getTagToRender().getType()==d.TagType.DISPLAY&&this.isSingleRequestEnabled()&&this.addTagToRenderArray(m.getDivId(),m.getTagToRender(),m.getLoadType()),l.push(m));for(u=0;u<l.length;++u)l[u].render();return[2]}}))}))},e.prototype.getParametersForDFP=function(){var e=r(r(r({},this.mKeyVal),this.mDFPParams),this.mPixelSegment);return this.mDoubleVerifyData&&(e=r(r({},e),this.mDoubleVerifyData)),e},e.markitCallbackAtTemplate=function(e){var t={};for(var i in e)t[i]=e[i];m.DMP.getInstance().addDmpProperty(t)},e.prototype.calculatePosition=function(e,t){for(var i=0,r=0;r<this.mPlacements.length;++r){var n=this.mPlacements[r],s=n.getNonNullPrimaryAdSize();if(null!=s&&s==e&&++i,n.getRandomNumber()==t)break}return i},e.prototype.eligibleForBottomZoning=function(e){for(var t=e.getNonNullPrimaryAdSize(),i=0;i<this.mPlacements.length;++i){var r=this.mPlacements[i];if(r.getId()==e.getId())return!1;if(r.getState()!=d.PlacementState.SELECTOR_NOT_LOADED&&r.getState()!=d.PlacementState.TAG_NOT_AVAILABLE){var n=r.getNonNullPrimaryAdSize();if(null!=n&&n==t)return!0}}return!1},e.getStackHorizontalEnabled=function(){return e.mStackServeHorizontalEnabled},e.getStackVerticalalEnabled=function(){return e.mStackServeVerticalEnabled},e.prototype.getPageId=function(){return e.mPageId},e.getPageIdValue=function(){return e.mPageIdValue=e.mPageId,e.mPageIdValue},e.getAPIKey=function(){return this.mApiKey},e.prototype.getDeviceType=function(){return this.mDeviceType},e.prototype.getReferrerType=function(){return this.mReferrerType},e.prototype.getPageType=function(){return this.mPageType},e.prototype.getCountryCode=function(){return this.mCountryCode},e.prototype.getDocumentType=function(){return this.mDocumentType},e.prototype.IsSearchEngine=function(){return this.mIsSearchEngine},e.prototype.getGlobalTarget=function(){return this.mGlobalTarget},e.prototype.getKeyVal=function(){return this.mKeyVal},e.prototype.getAutoTargetStatus=function(){return this.mAutoTargetStatus},e.prototype.getPixelSegment=function(){return this.mPixelSegment},e.prototype.activateAdForm=function(){var t,i;e.getDropScriptWindow().AdformAT=(t=[],i=function(){return t.push([].slice.call(arguments)),i},i.q=t,i)},e.prototype.initializeAdForm=function(){var t=e.getDropScriptWindow(),i=this;t.AdformAT("init",this.mAdFormAudienceToken),t.AdformAT("cookieSegments",(function(t,r){var n=r;if(200==t&&(n=JSON.parse(r)).length>0){var s=[];if(""!=e.mAdFormGlobalSegments){try{s=e.mAdFormGlobalSegments.split(",")}catch(e){}if(s.length>0)for(var a in n)if("SegmentID"in n[a]){var o=n[a].SegmentID;e.mAdFormSegmentIds.push(o),s.indexOf(o.toString())>-1&&i.mAdFormMatchingSegmentIds.push(o)}}}i.mIsDebugModeEnabled&&(d.Utility.getInstance().debugConsoleMessage("AdForm Callback response :: ",n),d.Utility.getInstance().debugConsoleMessage("AdForm Callback mAdFormSegmentIds :: ",e.mAdFormSegmentIds),d.Utility.getInstance().debugConsoleMessage("AdForm Callback mAdFormMatchingSegmentIds :: ",i.mAdFormMatchingSegmentIds))}))},e.prototype.getPageNameForAdForm=function(){var t="WEB|"+this.mSite.getAdTagName()+"|PageView";return e.mAdFormPageName=t,t},e.getUIDForAdForm=function(){var t="",i=e.getDropScriptWindow();if("Adform"in i){var r=i.Adform;"_uid"in r&&(t=r._uid)}return t},e.prototype.getTargetData=function(e){return(e=e.replace(".bottom",""))in this.mTargetData?this.mTargetData[e].Data:null},e.prototype.getTargetStatus=function(e){return(e=e.replace(".bottom",""))in this.mTargetData?this.mTargetData[e].Status:"FAILED"},e.prototype.getNativeLayoutStatus=function(e){return e in this.mNativeLayout?this.mNativeLayout[e].Status:"FAILED"},e.prototype.getAutoRefreshConfig=function(e){var t=null;return this.mAutoRefreshConfig.IsEnabled&&null!=e&&(t=this.parseAndGetAutoRefreshConfig(this.mAutoRefreshConfig,e)),t&&null!=t||(t={IsEnabled:!1}),t},e.prototype.getAutoRefreshEnabled=function(){return this.mAutoRefreshConfig.IsEnabled},e.prototype.getSSPConfig=function(){return this.mSSPConfig},e.getAPIStatus=function(){return e.mAPIReady},e.registerAPIReadyCallback=function(t){e.mAPIReady==d.APIStatus.READY?"function"==typeof t&&t():d.Utility.ICJQuery(document).on("Callback_ICAPI_Ready",(function(){"function"==typeof t&&t()}))},e.prototype.isDebugModeEnabled=function(){return this.mIsDebugModeEnabled},e.prototype.setConfig=function(e){this.mConfig=e},e.prototype.getConfig=function(){return this.mConfig},e.prototype.setLastDFPCallTime=function(e){this.mLastDFPCallTime=e},e.prototype.getLastDFPCallTime=function(){return this.mLastDFPCallTime},e.prototype.getOnViewBufferPercentage=function(){return this.mOnViewBuffer},e.prototype.getDFPCallBufferTime=function(){return this.mDFPCallBufferTime},e.prototype.getSSPPrebidIgnoreList=function(){return this.mPrebidSSPIgnoreList},e.prototype.getSite=function(){return this.mSite},e.getEligibleS2SBidders=function(){return e.s2sBiddersList},e.isFloorPriceApplicable=function(){var t=!1;return e.mIsFloorPriceEnabled&&Object.keys(e.mFloorPrice).length>0&&Math.floor(10*Math.random())+1<=10*e.mFloorSampling&&(t=!0),t},e.getMaxScrollDepth=function(){return e.mMaxScrollDepth},e.getHashSuppliedByPublisher=function(){var t="";for(var i in e.mPublisherSuppliedHash)""!=e.mPublisherSuppliedHash[i]&&(t=t+i+":"+e.mPublisherSuppliedHash[i]+";");return t},e.prototype.dropGlobalTargetRules=function(){null!=this.mGlobalTarget&&null!=this.mGlobalTarget.rules&&this.executeTargetRules(this.mGlobalTarget.dfpkeyname,this.mGlobalTarget.rules)},e.prototype.executeTargetRules=function(e,t){this.mTargetRulesDropped.indexOf(e)>-1||(this.mTargetRulesDropped.push(e),d.Utility.getInstance().executeOnLoad(t))},e.prototype.singleRequestCallback=function(e){if(this.mIsSingleRequestEnabled=e,!this.mIsSingleRequestEnabled){var t=[],i=m.DATManager.getInstance();for(var r in this.mCustomTagsToRender)"ReadyToRender"==this.mCustomTagsToRender[r].Status&&t.push(this.mCustomTagsToRender[r].Tag.getDAT());for(var r in this.mOnLoadTagsRender)"ReadyToRender"==this.mOnLoadTagsRender[r].Status&&t.push(this.mOnLoadTagsRender[r].Tag.getDAT());for(var r in this.mRealTimeTagsRender)"ReadyToRender"==this.mRealTimeTagsRender[r].Status&&t.push(this.mRealTimeTagsRender[r].Tag.getDAT());null!=i&&t.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),i.callDFPRender(t),this.mRealTimeTagsRender={},this.mOnLoadTagsRender={},this.mCustomTagsToRender={})}},e.prototype.isSingleRequestEnabled=function(){return this.mIsSingleRequestEnabled},e.prototype.addTagToRenderArray=function(e,t,i){switch(i){case d.LoadType.CUSTOM:if(e in this.mCustomTagsToRender)return;this.mCustomTagsToRender[e]={Tag:t,Status:"InProgress"};break;case d.LoadType.ON_LOAD:if(e in this.mOnLoadTagsRender)return;this.mOnLoadTagsRender[e]={Tag:t,Status:"InProgress"};break;case d.LoadType.ON_REALTIME:if(e in this.mRealTimeTagsRender)return;this.mRealTimeTagsRender[e]={Tag:t,Status:"InProgress"}}},e.prototype.readyToRender=function(e,t,i){var r=[];switch(t){case d.LoadType.CUSTOM:for(var n in e in this.mCustomTagsToRender&&(this.mCustomTagsToRender[e].Status="ReadyToRender"),this.mCustomTagsToRender){if("ReadyToRender"!=this.mCustomTagsToRender[n].Status)return;r.push(this.mCustomTagsToRender[n].Tag.getDAT())}this.mCustomTagsToRender={};break;case d.LoadType.ON_LOAD:for(var n in e in this.mOnLoadTagsRender&&(this.mOnLoadTagsRender[e].Status="ReadyToRender"),this.mOnLoadTagsRender){if("ReadyToRender"!=this.mOnLoadTagsRender[n].Status)return;r.push(this.mOnLoadTagsRender[n].Tag.getDAT())}this.mOnLoadTagsRender={};break;case d.LoadType.ON_REALTIME:for(var n in e in this.mRealTimeTagsRender&&(this.mRealTimeTagsRender[e].Status="ReadyToRender"),this.mRealTimeTagsRender){if("ReadyToRender"!=this.mRealTimeTagsRender[n].Status)return;r.push(this.mRealTimeTagsRender[n].Tag.getDAT())}this.mRealTimeTagsRender={};break;case d.LoadType.ONLOAD_ONVIEW:case d.LoadType.ON_VIEW:r.push(i.getDAT())}var s=m.DATManager.getInstance();null!=s&&r.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),s.callDFPRender(r))},e.prototype.addTagToRefreshArray=function(e,t){e in this.mTagsToRefresh||(this.mTagsToRefresh[e]={Tag:t,Status:"InProgress"})},e.prototype.readyToRefresh=function(e){e in this.mTagsToRefresh&&(this.mTagsToRefresh[e].Status="ReadyToRefresh");var t=[];for(var i in this.mTagsToRefresh){if("ReadyToRefresh"!=this.mTagsToRefresh[i].Status)return;t.push(this.mTagsToRefresh[i].Tag.getDAT())}var r=m.DATManager.getInstance();r&&t.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),r.callDFPRefresh(t)),this.mTagsToRefresh={}},e.prototype.getSSPFetchBidsStartTime=function(){return this.mSSPFetchBidsStartTime},e.prototype.queueProcessed=function(){return n(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.mIsAllPlacementRendered?[2]:[4,this.processTaglessPlacements()];case 1:return t.sent(),this.mUSPStatus!=d.USPStatus.NOT_APPLICABLE||e.isGDPRDenied()||(this.fetchEncryptedEmailFromDom(),this.prepareAndPassHashedEmails()),[2]}}))}))},e.prototype.getSSPEnabledAdSizes=function(e){var t=e.getSSPAdSizes(),i=[];if(!t)return null;for(var r=0;r<t.length;++r)this.mSSPConfig.enabledAdSizes&&this.mSSPConfig.enabledAdSizes.indexOf(t[r])<0||i.push(t[r]);return i},e.prototype.preparePlacementForSSP=function(t){return n(this,void 0,void 0,(function(){var i;return s(this,(function(r){return(i=this.getSSPEnabledAdSizes(t))&&i.length>0?[2,{divId:t.getDivId(),adSize:i,position:t.getPosition(),tile:t.getTile(),primaryAdSize:t.getNonNullPrimaryAdSize(),isSspHVPlacement:!1,thirdPartyCookie:e.mUserCookieType,isAdhesion:t.checkAdhesionPlacement(),nativeLayout:t.getNativeLayout(),tag:t.getTagToRender()}]:[2,null]}))}))},e.getFloorPrice=function(){return e.mFloorPrice},e.filterFloorPriceByCookieType=function(t,i){var r;try{var n="f";"t"==t&&(n="t"),e.mIsFloorPriceEnabled&&i&&""!=i&&void 0!==i[n]&&(r=i[n])}catch(e){console.log(e)}return r},e.prototype.getFloorPRice=function(){return e.mFloorPrice},e.prototype.fetchFloorPrice=function(t,i){if(e.mIsFloorPriceEnabled&&""!=t){var r=this,n=this.mFloorPriceUrl+"_"+t+".json";try{r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("FloorPrice Requesting API :: "+(new Date).getTime()),d.Utility.ICJQuery.support.cors=!0,d.Utility.ICJQuery.getJSON({url:n,async:!0,dataType:"json",type:"GET",success:function(t){e.mFloorPrice={},t?(r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("FloorPrice API success :: "+(new Date).getTime()),t&&""!=t&&(e.mFloorPrice=t)):(r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Not able to fetch floor price file from server"),d.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice","Invalidate Data :: Not getting the response from the server for the url: "+n))},error:function(e,t,i){r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Error while fetching file :: fetchFloorPrice :: "+n+" : "+e.status+" : "+e.statusText+" :  : "+t+" : "+i),403===e.status?d.Utility.getInstance().ic_ga_event("Info","Template.fetchFloorPrice","Error while fetching file :: fetchFloorPrice :: "+n+" : "+e.status+" : "+e.statusText+" :  : "+t+" : "+i):0===e.status?d.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice","Server returned with status code: "+e.status+" and status message: "+e.statusText):d.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice","Status: "+e.status+" Status Text: "+e.statusText+" Response Text: "+e.responseText+" $# "+t+"floor url: "+n+" $# "+i)}})}catch(e){r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Template.fetchFloorPrice :: error: ",e),d.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice",e.message+" floorUrl: "+n)}}else this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Floor Price file will not be fetched. mIsFloorPriceEnabled :: "+e.mIsFloorPriceEnabled+" : referrerType : "+t)},e.prototype.callSSPToFetchTheBids=function(e){return n(this,void 0,void 0,(function(){var t,i,r,a,o,l=this;return s(this,(function(m){switch(m.label){case 0:return t=-1!=navigator.userAgent.toUpperCase().indexOf("TRIDENT/"),this.mDocumentType==d.DocumentType.IFRAME||t?[3,4]:(i=0,-1!==this.sspRotationEnabledSsps.indexOf("a9")&&(i=1),r=this.mSspAdapterDownloadTimeout,a=d.Utility.window.top,o=setInterval((function(){return n(l,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.mSspAdapterDownloadtimer=this.mSspAdapterDownloadtimer+this.mSspAdapterDownloadInterval,this.mSspAdapterDownloadtimer>=r||void 0!==a.ic_pbjs.installedModules&&a.ic_pbjs.installedModules.length-2==this.sspRotationEnabledSsps.length-i?(this.fetchBidsDelay=!1,clearInterval(o),[4,this.callSSPToFetchTheBidsAfterInterval(e)]):[3,2];case 1:return[2,t.sent()];case 2:return[3,4];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}),this.mSspAdapterDownloadInterval),this.fetchBidsDelay?[4,o]:[3,2]);case 1:case 3:return[2,m.sent()];case 2:return clearInterval(o),[4,this.callSSPToFetchTheBidsAfterInterval(e)];case 4:return[2,!1]}}))}))},e.prototype.callSSPToFetchTheBidsAfterInterval=function(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){return m.SSP.getInstance()||m.SSP.createInstance(this.mSSPConfig),e.length>0?(m.SSP.getInstance().fetchBids(e,this.mUrl,this.mSspsLogsParams,this.sspRotationEnabledSsps),[2,!0]):[2,!1]}))}))},e.prototype.processTaglessPlacements=function(){return n(this,void 0,void 0,(function(){var t,i,r,n,a;return s(this,(function(s){switch(s.label){case 0:if(this.mWaitingForGdprCmpData)return[2];if(this.mIsAllPlacementRendered=!0,t=[],this.mDocumentType==d.DocumentType.IFRAME)return[3,7];i=0,s.label=1;case 1:return i<this.mPlacements.length?"ADVANCE"==this.mPlacements[i].getPublisherType()?[3,3]:[4,this.preparePlacementForSSP(this.mPlacements[i])]:[3,4];case 2:(r=s.sent())&&t.push(r),null!=(n=e.checkAndPrepareDummyPlacements(r))&&t.push(n),s.label=3;case 3:return++i,[3,1];case 4:return(a=t)?[4,this.callSSPToFetchTheBids(t)]:[3,6];case 5:a=s.sent(),s.label=6;case 6:a&&(this.mSSPFetchBidsStartTime=(new Date).getTime()),s.label=7;case 7:return this.render(),[2]}}))}))},e.checkAndPrepareDummyPlacements=function(t){if(!t||0===Object.keys(t).length)return null;var i=r({},t);return 1==e.mStackServeHorizontalEnabled&&"primaryAdSize"in t&&"adSize"in t&&i.adSize.indexOf("970x250")>=0?(i.primaryAdSize="300x250",i.adSize=["300x250"],i.divId=t.divId+"_stack32",i.parentAdSize=t.primaryAdSize,i):null},e.prototype.getElementForRelativeHeight=function(e){if(e.getDivId()&&document.getElementById(e.getDivId()))return document.getElementById(e.getDivId());var t=this.getElementForThePlacement(e.getId());return t?d.Utility.ICJQuery(t):null},e.prototype.calculateRelativePosition=function(e){var t=e.getBoundingClientRect();return null==t||null==t||0==t.top&&0==t.left&&0==t.right&&0==t.bottom?null:Math.round(t.left)+"x"+Math.round(t.top)},e.prototype.getSponsorPagePath=function(){return this.mSponsorPagePath},e.prototype.getUserCookieType=function(){return e.mUserCookieType},e.prototype.setUserCookieType=function(t){if(e.mUserCookieType=t,null!=this.mDFPParams){this.mDFPParams.setUserCookie(t);var i={};i.cookietype=t,m.DMP.getInstance().addDmpProperty(i)}},e.prototype.activateActivityTracker=function(e){d.Utility.window.attachEvent?(d.Utility.window.attachEvent("mousemove",e,!1),d.Utility.window.attachEvent("mousedown",e,!1),d.Utility.window.attachEvent("keypress",e,!1),d.Utility.window.attachEvent("resize",e,!1),d.Utility.window.attachEvent("DOMMouseScroll",e,!1),d.Utility.window.attachEvent("mousewheel",e,!1),d.Utility.window.attachEvent("touchmove",e,!1),d.Utility.window.attachEvent("MSPointerMove",e,!1),this.getDocumentType()!=d.DocumentType.PAGE&&this.getDocumentType()!=d.DocumentType.IFRAME&&(d.Utility.window.top.attachEvent("mousemove",e),d.Utility.window.top.attachEvent("mousedown",e),d.Utility.window.top.attachEvent("keypress",e),d.Utility.window.top.attachEvent("resize",e),d.Utility.window.top.attachEvent("DOMMouseScroll",e),d.Utility.window.top.attachEvent("mousewheel",e),d.Utility.window.top.attachEvent("touchmove",e),d.Utility.window.top.attachEvent("pointermove",e))):(d.Utility.window.addEventListener("mousemove",e,!1),d.Utility.window.addEventListener("mousedown",e,!1),d.Utility.window.addEventListener("keypress",e,!1),d.Utility.window.addEventListener("resize",e,!1),d.Utility.window.addEventListener("DOMMouseScroll",e,!1),d.Utility.window.addEventListener("mousewheel",e,!1),d.Utility.window.addEventListener("touchmove",e,!1),d.Utility.window.addEventListener("MSPointerMove",e,!1),this.getDocumentType()!=d.DocumentType.PAGE&&this.getDocumentType()!=d.DocumentType.IFRAME&&(d.Utility.window.top.addEventListener("mousemove",e,!1),d.Utility.window.top.addEventListener("mousedown",e,!1),d.Utility.window.top.addEventListener("keypress",e,!1),d.Utility.window.top.addEventListener("resize",e,!1),d.Utility.window.top.addEventListener("DOMMouseScroll",e,!1),d.Utility.window.top.addEventListener("mousewheel",e,!1),d.Utility.window.top.addEventListener("touchmove",e,!1),d.Utility.window.top.addEventListener("MSPointerMove",e,!1))),this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("activateActivityTracker Register events")},e.prototype.deactivateActivityTracker=function(e){d.Utility.window.detachEvent?(d.Utility.window.detachEvent("mousemove",e),d.Utility.window.detachEvent("mousedown",e),d.Utility.window.detachEvent("keypress",e),d.Utility.window.detachEvent("resize",e),d.Utility.window.detachEvent("DOMMouseScroll",e),d.Utility.window.detachEvent("mousewheel",e),d.Utility.window.detachEvent("touchmove",e),d.Utility.window.detachEvent("pointermove",e),this.getDocumentType()!=d.DocumentType.PAGE&&this.getDocumentType()!=d.DocumentType.IFRAME&&(d.Utility.window.top.detachEvent("mousemove",e),d.Utility.window.top.detachEvent("mousedown",e),d.Utility.window.top.detachEvent("keypress",e),d.Utility.window.top.detachEvent("resize",e),d.Utility.window.top.detachEvent("DOMMouseScroll",e),d.Utility.window.top.detachEvent("mousewheel",e),d.Utility.window.top.detachEvent("touchmove",e),d.Utility.window.top.detachEvent("pointermove",e))):(d.Utility.window.removeEventListener("mousemove",e),d.Utility.window.removeEventListener("mousedown",e),d.Utility.window.removeEventListener("keypress",e),d.Utility.window.removeEventListener("resize",e),d.Utility.window.removeEventListener("DOMMouseScroll",e),d.Utility.window.removeEventListener("mousewheel",e),d.Utility.window.removeEventListener("touchmove",e),d.Utility.window.removeEventListener("MSPointerMove",e),this.getDocumentType()!=d.DocumentType.PAGE&&this.getDocumentType()!=d.DocumentType.IFRAME&&(d.Utility.window.top.removeEventListener("mousemove",e),d.Utility.window.top.removeEventListener("mousedown",e),d.Utility.window.top.removeEventListener("keypress",e),d.Utility.window.top.removeEventListener("resize",e),d.Utility.window.top.removeEventListener("DOMMouseScroll",e),d.Utility.window.top.removeEventListener("mousewheel",e),d.Utility.window.top.removeEventListener("touchmove",e),d.Utility.window.top.removeEventListener("MSPointerMove",e)))},e.prototype.userActivityThrottler=function(){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("userActivityThrottler  isInactive=true "),e.mUserInactiveTime=(new Date).valueOf(),this.mUserInactiveTimeAdRefresh=(new Date).valueOf(),e.setUserActiveTime();var t=d.Utility.getInstance().getScrollDepth();t&&t>e.mMaxScrollDepth&&(e.mMaxScrollDepth=t)},e.setUserActiveTime=function(){var t=e.mUserInactiveTime-e.mUserActivityStartTime;e.mUserActiveTime=e.mUserActiveTime+t,e.mUserActivityStartTime=e.mUserInactiveTime;var i=(new Date).valueOf()-e.mUserInactiveTime,r=0;i>=e.mActiveUserTimeoutFromLastInteraction?this.mUserIsInActive||(r=e.mActiveUserTimeoutFromLastInteraction-this.mActiveUserTimeoutFromLastInteractionPassive,this.mUserIsInActive=!0):i<e.mActiveUserTimeoutFromLastInteraction&&(r=i,this.mUserIsInActive||(r=r+(e.mUserInactiveTime-e.mUserTrackingStartTime)-this.mActiveUserTimeoutFromLastInteractionPassive),e.mUserTrackingStartTime=e.mUserInactiveTime,this.mUserIsInActive=!1,this.mActiveUserTimeoutFromLastInteractionPassive=i),r&&(e.mUserTrackingTime=e.mUserTrackingTime+r)},e.getUserTrackingTime=function(){return e.mUserTabActive&&this.setUserActiveTime(),e.mUserTrackingTime},e.prototype.getIsUserInActive=function(e){return!!this.mUserInactiveTimeAdRefresh&&(new Date).valueOf()-this.mUserInactiveTimeAdRefresh>e},e.prototype.getUserInactiveTime=function(e){return this.mUserInactiveTimeAdRefresh?(new Date).valueOf()-(this.mUserInactiveTimeAdRefresh+e):0},e.IsLiveRampCalledFromApi=function(){return e.mIsCalledFromApi},e.prototype.setId5Uid=function(t){var i=this;if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=t&&null!=t)var r=0,a=this,o=setInterval((function(){return n(i,void 0,void 0,(function(){var i,n,l,m,u,c;return s(this,(function(s){try{if("IsEnabled"in this.mId5UidModule&&0==this.mId5UidModule.IsEnabled)return clearInterval(o),[2];r+=1,(i=d.Utility.window.top).ID5&&"object"==typeof i.ID5?(clearInterval(o),"IsEnabled"in this.mId5UidModule&&1==this.mId5UidModule.IsEnabled&&"pid"in this.mId5UidModule&&(n=this.mId5UidModule.pid,l=encodeURIComponent(this.uSite.getip()),m=encodeURIComponent(navigator.userAgent),u="1="+encodeURIComponent(t)+"&10="+l+"&12="+m,c=btoa(u),i.ID5.init({partnerId:n,pd:c}).onAvailable((function(t){a.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("ID5 Callback: returned userId : "+t.getUserId().toString()+" :: "+JSON.stringify(t.getUserIdAsEid())),e.mId5UserIds={userId:t.getUserId(),userIdAsEid:t.getUserIdAsEid()}})))):r>=60&&(a.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Breaking Id5 loop, as system not able to find ID5 object for 1 minute."),clearInterval(o))}catch(e){this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Error occured for setId5Uid:: e ::"+e),clearInterval(o)}return[2]}))}))}),1e3)},e.getId5USerIds=function(){return e.mId5UserIds},e.isConnectIdEnabled=function(){return e.mConnectUidEnabled},e.prototype.prepareAndPassHashedEmails=function(){var t=e.getHashedEmailFromLocalStorage(),i=!1;if(""==t)i=!0;else{if("SHA1"in t&&"SHA256"in t&&"MD5"in t&&(""!=t.SHA1||""!=t.SHA256||""!=t.MD5)){var r=[];""!=t.SHA1&&""!=t.SHA256||""!=t.SHA1&&""!=t.MD5||""!=t.MD5&&""!=t.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),""!=t.SHA1&&r.push(t.SHA1),""!=t.SHA256&&r.push(t.SHA256),""!=t.MD5&&r.push(t.MD5),this.setId5Uid(t.SHA256),this.dropSovrnScript(!0)):""!=t.SHA1?(r.push(t.SHA1),this.dropSovrnScript(!1)):""!=t.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),this.dropSovrnScript(!1),this.setId5Uid(t.SHA256),r.push(t.SHA256)):""!=t.MD5&&(r.push(t.MD5),this.dropSovrnScript(!1)),r.length>0&&this.setLiverampId("email",r)}if("e"in t){var n=+t.e;(new Date).getTime()>n&&(i=!0)}}1==i&&this.checkAndSetPubCommId()},e.prototype.checkAndSetPubCommId=function(){var t=this;if(1!=this.mUserTriggeredEncryptionApi){var i=!1,r=e.getPubCommId();if(r&&null!=r&&""!=r?this.setHashedEmailToLocalStorage(r):i=!0,1==i)var n=0,s=setInterval((function(){try{n=+n+1;var i=e.getPubCommId();i&&null!=i&&""!=i&&(clearInterval(s),t.setHashedEmailToLocalStorage(i),t.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage(" isPubCommIdSet :: true")),n>=60&&(clearInterval(s),t.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage(" isPubCommIdSet :: false"))}catch(e){console.log("isPubCommIdSet : ERROR :: "+e),clearInterval(s)}}),1e3)}},e.getPubCommId=function(){var e="",t=d.Utility.getInstance();if(t.isLocalStorageSupported&&(e=t.getFromLocalStorage(this.mPubCommonIdLocalStorageName),t.isCookieExists(this.mPubCommonIdCookieName))){var i=d.Utility.getInstance().getFromCookie(this.mPubCommonIdCookieName);""!=i&&i!=e&&(t.saveToLocalStorage(this.mPubCommonIdLocalStorageName,i),e=i)}return e},e.getHashedEmailFromLocalStorage=function(){var e="",t=d.Utility.getInstance();if(t.isLocalStorageSupported()){var i=t.getFromLocalStorage(this.mICHashedEmailLocalStorageName);if(i&&""!=i)try{e=JSON.parse(i)}catch(e){console.log("getHashedEmailFromLocalStorage : ERROR :: strHashedEmail "+i+" :: ERROR :: "+e)}}return e},e.getAddressabilityUserIdConfig=function(){return e.mAddressabilityUserIdConfig},e.prototype.setHashedEmailToLocalStorage=function(t){var i=this;if(t&&null!=t&&""!=t){var r=d.Utility.getInstance();d.Utility.ICJQuery.ajax({url:d.Constant.UAT_HASHED_EMAIL_URL+t,async:!0,type:"GET",success:function(t){return n(i,void 0,void 0,(function(){var i,n,a,o,l,d,m;return s(this,(function(s){i=e.mICHashedEmailLocalStorageName,n=(new Date).setMinutes(+this.mEmptyHashedEmailExpiry).toString(),a=e.getHashedEmailFromLocalStorage(),o={SHA1:"",SHA256:"",MD5:"",e:n},""!=a&&("SHA1"in a&&(o.SHA1=a.SHA1),"SHA256"in a&&(o.SHA256=a.SHA256),"MD5"in a&&(o.MD5=a.MD5));try{t&&null!=t&&""!=t&&("SHA1"in(l=JSON.parse(t))&&"SHA256"in l&&"MD5"in l&&(""!=l.SHA1||""!=l.SHA256||""!=l.MD5)?(this.setSovrnUidDfpKeyVal(!0),d=[],m=(new Date).setMinutes(+this.mValidHashedEmailExpiry).toString(),""!=l.SHA1&&""!=l.SHA256||""!=l.SHA1&&""!=l.MD5||""!=l.MD5&&""!=l.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),o.SHA1=l.SHA1,o.SHA256=l.SHA256,o.MD5=l.MD5,o.e=m,""!=l.SHA1&&d.push(l.SHA1),""!=l.SHA256&&d.push(l.SHA256),""!=l.MD5&&d.push(l.MD5),this.setId5Uid(l.SHA256),this.dropSovrnScript(!0)):""!=l.SHA1?(o.SHA1=l.SHA1,o.e=m,d.push(l.SHA1),this.dropSovrnScript(!1)):""!=l.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),o.SHA256=l.SHA256,o.e=m,this.dropSovrnScript(!1),this.setId5Uid(l.SHA256),d.push(l.SHA256)):""!=l.MD5&&(o.MD5=l.MD5,o.e=m,d.push(l.MD5),this.dropSovrnScript(!1)),d.length>0&&this.setLiverampId("email",d)):(this.dropSovrnScript(!1),this.setSovrnUidDfpKeyVal(!1))),r.saveToLocalStorage(i,JSON.stringify(o))}catch(e){console.log("getAndSetHashedEmail, Error :: "+e)}return[2]}))}))},error:function(e){console.log("getAndSetHashedEmail, Error :: "+e)}})}},e.prototype.setSovrnUidDfpKeyVal=function(t,i){try{if(!this.mSovrnUidModuleEnabled)return;var r="";try{r=d.Utility.getInstance().getFromLocalStorage(this.mSovrnDfpKEyValStorageName)}catch(e){}if(i)r&&""!=r&&(e.SovrnDfpKeyValue=r);else if(t){if(t){var n=Math.floor(10*Math.random())+1;e.SovrnDfpKeyValue=n<=9?"sv_y":"sv_c";try{d.Utility.getInstance().saveToLocalStorage(this.mSovrnDfpKEyValStorageName,e.SovrnDfpKeyValue)}catch(e){}}}else e.SovrnDfpKeyValue="sv_n",this.resetSovrnUidDfpKeyVal()}catch(e){}},e.prototype.resetSovrnUidDfpKeyVal=function(){try{d.Utility.getInstance().removeFromLocalStorage(this.mSovrnDfpKEyValStorageName)}catch(e){}},e.triggerUserTrackingLogs=function(t,i,r,n,s){n&&r.periodicallyTriggerUserTrackingLogs(!0);var a=r.getPageId(),o=Math.round(e.getUserTrackingTime()/1e3);if(!a||""==a||a.length<=0){var l=e.getDropScriptWindow();if(l.IC_PAGE_ID&&""!=l.IC_PAGE_ID&&(a=l.IC_PAGE_ID),!a||""==a)try{"pageId"in r.mSspsLogsParams&&null!=r.mSspsLogsParams.pageId&&""!=r.mSspsLogsParams.pageId&&(a=r.mSspsLogsParams.pageId)}catch(e){}if(!a||""==a){try{var u={unload:i.toString(),"window.pID":l.IC_PAGE_ID,usrActime:o,SspsLogsParams:r.mSspsLogsParams},p=JSON.stringify(u);d.Utility.getInstance().ic_ga_event("Error","Template.triggerUserTrackingLogs","PageIdNull: "+p)}catch(e){}return}}var g=Math.round(e.getMaxScrollDepth()),h=d.Utility.getInstance().getPageHeight(),f="",S="",y="",b=e.adBlockerStatus,T=e.mUserCookieType,I=c.default.pTickerValues.join(","),v=e.mViewCount,P=e.mPrivacy,E=P,A={},C="",D=e.TickerCategory.join(",");try{A=m.SSP.getInstance().getMarkitValueNoFilter()}catch(e){}A=JSON.stringify(A);try{E="CCPA:"+P.CCPA+";GDPR:"+P.GDPR,"GPP"in P&&(E+=";GPP:"+P.GPP)}catch(e){}var _="";if(r.mUSPStatus==d.USPStatus.NOT_APPLICABLE&&!e.isGDPRDenied()){_=r.mICFID,S=e.getUIDForAdForm(),y=e.mAdFormSegmentIds.join(",").toString(),C=e.getHashSuppliedByPublisher();try{var U=m.SSP.getInstance();if(U.getPrebid()){var R=U.getPrebid();if("uidModulesId"in R){var O=R.uidModulesId;for(var L in O)f=f+L+":"+O[L]+";"}}}catch(e){}}d.Utility.getInstance().createPageEventLogs(a,C,o,g,h,f,S,y,b,T,I,v,E,A,_,D,t,s),r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("pvlogs fired :: "+new Date+":: Active Time :: "+o)},e.prototype.periodicallyTriggerUserTrackingLogs=function(t){this.getLogInterval();var i=this;try{clearTimeout(e.mUidLogsIntervalInstance)}catch(e){}e.mUidLogsIntervalInstance=setTimeout((function(){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("pvlogs PERIODDICALLY :: Interval ::   "+i.mLogInterval.toString()+" :: Date :: "+new Date),e.triggerUserTrackingLogs(!1,!1,i,!1,t);var r=Math.floor(Math.abs((new Date).getTime()-e.mUserTrackingStartTimePLogs)/1e3);i.periodicallyTriggerUserTrackingLogs(r<=i.forceLogDuration)}),this.mLogInterval)},e.prototype.getLogInterval=function(){var t=(new Date).getTime(),i=Math.floor(Math.abs(t-e.mUserTrackingStartTimePLogs)/1e3),r=this.mPVLogInterval;for(var n in r){var s=r[n];if("duration"in s)if(-1==s.duration){if("loginterval"in s){this.mLogInterval=1e3*s.loginterval;break}}else if(s.duration>=i&&"loginterval"in s){this.mLogInterval=1e3*s.loginterval;break}}},e.getUserIpTarget=function(){return e.mUserIpTarget},e.prototype.setUserId=function(t,i,r,n){try{if("object"==typeof i){var s=[];"SHA1"in i&&""!=i.SHA1&&s.push(i.SHA1),"SHA256"in i&&""!=i.SHA256&&(s.push(i.SHA256),this.dropId5Script(),this.setId5Uid(i.SHA256)),"MD5"in i&&""!=i.MD5&&s.push(i.MD5),s.length>0&&this.setLiverampId("email",s),this.storeHashedEmail(i,n),"data"in i&&null!=i.data&&""!=i.data&&(d.Utility.getInstance().saveToLocalStorage(this.mEncryptedEmailStorageName,i.data),d.Utility.getInstance().saveToCookie(this.mEncryptedEmailStorageName,i.data)),("SHA1"in i&&""!=i.SHA1||"SHA256"in i&&""!=i.SHA256||"MD5"in i&&""!=i.MD5)&&(e.SovrnDfpKeyValue="",this.resetSovrnUidDfpKeyVal())}else if("string"==typeof i){if("phone"==t)try{if(!r&&null==d.Utility.getInstance().isValidPhone(i))return void(this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("setUserId : incorrect phone number : "+i))}catch(e){}else if("email"==t)if(r)this.storeHashedEmail({SHA1:i},n);else try{if(!d.Utility.getInstance().isValidEmail(i))return void(this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("setUserId : incorrect Email : "+i));i=this.sha1(i),r=!0,this.storeHashedEmail({SHA1:i},n)}catch(e){}this.setLiverampId(t,[i])}}catch(e){}},e.prototype.storeHashedEmail=function(t,i){try{var r=JSON.parse(d.Utility.getInstance().getFromLocalStorage(e.mICHashedEmailLocalStorageName)),n=(new Date).setMinutes(+this.mValidHashedEmailExpiry).toString();null!=r&&null!=t&&"object"==typeof r&&"object"==typeof t&&("SHA1"in t&&""==t.SHA1&&"SHA1"in r&&""!=r.SHA1&&(t.SHA1=r.SHA1),"SHA256"in t&&""==t.SHA256&&"SHA256"in r&&""!=r.SHA256&&(t.SHA256=r.SHA256),"MD5"in t&&""==t.MD5&&"MD5"in r&&""!=r.MD5&&(t.MD5=r.MD5));try{var s;i&&("MD5"in t&&""!=t.MD5&&(e.mPublisherSuppliedHash.MD5=t.MD5,s=t.MD5),"SHA256"in t&&""!=t.SHA256&&(e.mPublisherSuppliedHash.SHA256=t.SHA256,s=t.SHA256),"SHA1"in t&&""!=t.SHA1&&(e.mPublisherSuppliedHash.SHA1=t.SHA1,s=t.SHA1),s&&this.mHEMKeyValuesEnabled&&!this.userHashAPItriggered&&(this.mIsGDPRApplicable||this.getUSPStatus()==d.USPStatus.APPLICABLE?this.userHashAPIWaiting=s:this.fetchUserHashKeyValues(s)))}catch(e){}t.e=n,d.Utility.getInstance().saveToLocalStorage(e.mICHashedEmailLocalStorageName,JSON.stringify(t))}catch(e){}},e.prototype.fetchEncryptedEmailFromDom=function(){var e="";try{e=d.Utility.getInstance().getFromCookie(this.mEncryptedEmailStorageName)}catch(e){}if(""==e)try{e=d.Utility.getInstance().getFromLocalStorage(this.mEncryptedEmailStorageName)}catch(e){}if(""!=e){var t={data:e};this.setHashedEmail(t,d.HashedEmailType.ENCRYPT,"",!0)}},e.prototype.setHashedEmail=function(e,t,i,r){if(1!=this.mUserTriggeredEncryptionApi){if(t==d.HashedEmailType.RAW)"object"==typeof e&&"data"in e&&null!=e.data&&""!=e.data&&(this.fetchEncryptedEmail(e.data,!0),r&&(this.mUserTriggeredEncryptionApi=!0));else if(t==d.HashedEmailType.HASHED)try{"object"==typeof e&&(this.setUserId("email",e,!0,!0),r&&(this.mUserTriggeredEncryptionApi=!0))}catch(e){}else if(t==d.HashedEmailType.ENCRYPT)try{"object"==typeof e&&"data"in e&&null!=e.data&&""!=e.data&&(this.fetchHashedEmail(e.data,i,!0),r&&(this.mUserTriggeredEncryptionApi=!0))}catch(e){}this.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("processEncrytedEmail :: encryptedEmailObj :: "+e+"type :: "+t+"encryptionAlgo :: "+i)}},e.prototype.fetchHashedEmail=function(e,t,i){var r=this,n={data:e,type:t},s=!this.mIsGDPRApplicable;d.Utility.ICJQuery.post({url:d.Constant.USER_DECRYPT_EMAIL_API+"?isconsent="+s+"&uspstring="+this.mUSPString,async:!0,data:JSON.stringify(n),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0},success:function(e){if(e){r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("fetchHashedEmail :: HashedEmail Obtained.");try{r.setUserId("",JSON.parse(e),!0,i)}catch(e){}}else r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("fetchHashedEmail :: Received empty hashedemail response")},error:function(e,t,i){r.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Template.fetchHashedEmail: ",i),0===e.status?d.Utility.getInstance().ic_ga_event("Error","Template.fetchHashedEmail","Server returned with status code: "+e.status+" and error message: "+e.statusText):d.Utility.getInstance().ic_ga_event("Error","Template.fetchHashedEmail",e.status+": "+e.statusText+" : "+e.responseText+" $# "+t+" $# "+i)}})},e.prototype.fetchUserHashKeyValues=function(t){var i=this;d.Utility.ICJQuery.get({url:d.Constant.USERHASH_KEYVALUES_API,async:!0,xhrFields:{withCredentials:!0},dataType:"json",headers:{ic_hm:t},success:function(t){if(t){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Fetched User Hash Key Values.");try{"keyValues"in t&&null!=t.keyValues&&""!=t.keyValues&&(i.userHashAPItriggered=!0,e.mUserHashKeyValues=t.keyValues)}catch(e){}}else i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("UserHashKey Values :: Received empty response")},error:function(e,t,r){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Template.fetchUserHashKeyValues: ",r),0===e.status?d.Utility.getInstance().ic_ga_event("Error","Template.fetchUserHashKeyValues","Server returned with status code: "+e.status+" and error message: "+e.statusText):d.Utility.getInstance().ic_ga_event("Error","Template.fetchUserHashKeyValues",e.status+": "+e.statusText+" : "+e.responseText+" $# "+t+" $# "+r)}})},e.prototype.fetchEncryptedEmail=function(e,t){var i=this,r={data:e},n=!this.mIsGDPRApplicable;d.Utility.ICJQuery.post({url:d.Constant.USER_ENCRYPT_EMAIL_API+"?isconsent="+n+"&uspstring="+this.mUSPString,async:!0,data:JSON.stringify(r),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0},success:function(e){if(e){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("fetchEncryptedEmail :: Received valid response.");try{i.setUserId("",JSON.parse(e),!0,t)}catch(e){}}else i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("fetchEncryptedEmail :: Received empty response")},error:function(e,t,r){i.mIsDebugModeEnabled&&d.Utility.getInstance().debugConsoleMessage("Template.fetchEncryptedEmail: ",r),0===e.status?d.Utility.getInstance().ic_ga_event("Error","Template.fetchEncryptedEmail","Server returned with status code: "+e.status+" and error message: "+e.statusText):d.Utility.getInstance().ic_ga_event("Error","Template.fetchEncryptedEmail",e.status+": "+e.statusText+" : "+e.responseText+" $# "+t+" $# "+r)}})},e.mAPIReady=d.APIStatus.NOT_READY,e.mICHashedEmailLocalStorageName="IC_HM",e.mPubCommonIdCookieName="_pubcid",e.mPubCommonIdLocalStorageName="_pubcid",e.mConnectIdLocalStorageName="connectId",e.mAddressabilityUserIdConfig={},e.mUserActiveTime=0,e.mUserTrackingTime=0,e.mUserActivityStartTime=(new Date).valueOf(),e.mUserTrackingStartTime=(new Date).valueOf(),e.mUserInactiveTime=(new Date).valueOf(),e.mUserIsInActive=!0,e.mStackServeVerticalEnabled=!1,e.mStackServeHorizontalEnabled=!1,e.mFloorPrice={},e.mUserIpTarget={},e.mUid="",e.mICTID="",e.mIsAdformEnabled=!1,e.mIsAdformDropped=!1,e.mAdFormTrackingId="",e.mAdFormGlobalSegments="",e.mAdFormPageName="",e.mAdFormSegmentIds=[],e.mClientEpoch="",e.mUserCookieType=null,e.mIsFloorPriceEnabled=!1,e.mFloorSampling=0,e.s2sBiddersList=[],e.mConnectUidEnabled=!1,e.mId5UserIds={},e.mIsCalledFromApi=!1,e.mPublisherSuppliedHash={},e.mMaxScrollDepth=0,e.mActiveUserTimeoutFromLastInteraction=3e4,e.mActiveUserTimeoutFromLastInteractionPassive=0,e.adBlockerStatus="",e.mTickerKeyValues={},e.mUserHashKeyValues={},e.mIsTickerKeyValueApiTriggered=!1,e.mViewCount="",e.mPrivacy={CCPA:"",GDPR:""},e.schainConfig={},e.markitEnabled=!1,e.isClientAdBlockerEnabled="",e.SovrnDfpKeyValue="",e.mUserTrackingStartTimePLogs=(new Date).getTime(),e.IsPubSetTickerTriggered=!1,e.pubTicker=[],e.pubTickerCategory=[],e.TickerCategory=[],e.isTagManagerEnabled=!1,e.isIgnorePubTickers=!1,e.gppAPIAvailable=!1,e.mUserTabActive=!1,e}();t.default=p,function(e){e.APPROVED="A",e.DENIED="D",e.NOTAPPLICABLE="",e.PENDING="P"}(o||(o={})),function(e){e.Stock="stk",e.Commodity="com",e.ETF="etf",e.Forex="frx",e.EquityFutures="eqf",e.Crypto="cry",e.Futures="fus",e.Index="idx"}(l||(l={}))},41:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.browser=e.browser,this.device=e.device,this.fromGDPRCountry=e.fromGDPRCountry,this.fromUspState=e.fromUspState,this.geo=e.geo,this.region=e.region,this.uid=e.uid,this.ip=e.ip}return e.prototype.getbrowser=function(){return this.browser},e.prototype.getdevice=function(){return this.device},e.prototype.getfromGDPRCountry=function(){return this.fromGDPRCountry},e.prototype.getfromUspState=function(){return this.fromUspState},e.prototype.getgeo=function(){return this.geo},e.prototype.getregion=function(){return this.region},e.prototype.getuid=function(){return this.uid},e.prototype.getip=function(){return this.ip},e}();t.default=i},105:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USite=t.CSite=t.Site=t.Template=t.Placement=t.Targeting=t.Tag=t.NativeLayout=t.Selector=t.Frequency=t.CustomVariable=t.Callback=void 0;var r=i(70);t.Callback=r.default;var n=i(794);t.CustomVariable=n.default;var s=i(915);t.Frequency=s.default;var a=i(344);t.Selector=a.default;var o=i(621);t.Tag=o.default;var l=i(450);t.Targeting=l.default;var d=i(154);t.Placement=d.default;var m=i(863);t.Template=m.default;var u=i(974);t.Site=u.default;var c=i(996);t.NativeLayout=c.default;var p=i(951);t.CSite=p.default;var g=i(41);t.USite=g.default},576:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.APIStatus=void 0,function(e){e.READY="READY",e.NOT_READY="NOT_READY",e.INPROGRESS="INPROGRESS"}(i=t.APIStatus||(t.APIStatus={})),t.default=i},229:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AdBlockerStatus=void 0,function(e){e.IP="IP",e.WP="WP",e.NP="NP",e.NA="NA",e.SK="SK"}(i=t.AdBlockerStatus||(t.AdBlockerStatus={})),t.default=i},359:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackType=void 0,function(e){e.PRELOAD="PRELOAD",e.POSTLOAD="POSTLOAD",e.ON_BLANK="ON_BLANK",e.ON_RENDERED="ON_RENDERED",e.ON_DOMLOAD="ON_DOMLOAD",e.ON_DOMREADY="ON_DOMREADY",e.ON_DOMUNLOAD="ON_DOMUNLOAD",e.ON_VIEWPORT="ON_VIEWPORT"}(i=t.CallbackType||(t.CallbackType={})),t.default=i},148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.NETWORK_CODE="5206",e.ENVIRONMENT="prod",e.UAT_BASE_URL="https://uat5-a.investingchannel.com/",e.UAT_DATA_URL=e.UAT_BASE_URL+"data",e.UAT_TARGET_KVAL_URL=e.UAT_BASE_URL+"target/",e.UAT_NATIVELAYOUT_URL=e.UAT_BASE_URL+"site/{0}/nativelayout/{1}",e.UAT_LOG_REPORT_URL=e.UAT_BASE_URL+"log/report/",e.UAT_LOG_ERROR_URL=e.UAT_BASE_URL+"log/error/",e.UAT_LOG_API_URL=e.UAT_BASE_URL+"log/api/",e.UAT_LOG_PAGE_URL=e.UAT_BASE_URL+"log/page/",e.UAT_LOG_URL=e.UAT_BASE_URL+"logs/",e.UAT_EXELATE_PIXEL_URL=e.UAT_BASE_URL+"pixels/vendor/exelate",e.UAT_TICKER_KEYVALUE_URL=e.UAT_BASE_URL+"ticker/",e.SESSION_TEMPLATE_OBJECT_NAME="IC_TemplateObject",e.VIEWCOUNTER_COOKIE_NAME_PREFIX="IC_ViewCounter_",e.FOLDPOSITION_TOLERANCE=1,e.UAT_CDN_URL="https://u5.investingchannel.com/",e.PREDICTIVE_BASE_URL=e.UAT_CDN_URL+"predictive/",e.UID_IFRAME_URL=e.UAT_CDN_URL+"start.html",e.PM_UID_IFRAME_URL=e.UAT_BASE_URL+"user/sync/pubmatic",e.USER_DECRYPT_EMAIL_API=e.UAT_BASE_URL+"user/decrypt",e.USER_ENCRYPT_EMAIL_API=e.UAT_BASE_URL+"user/encrypt",e.USERHASH_KEYVALUES_API=e.UAT_BASE_URL+"users/keyvalues",e.UAT_JS_URL=e.UAT_CDN_URL+"static",e.UAT_PREBID_URL=e.UAT_CDN_URL+"prebid/",e.UAT_PREBID_VERSION_URL=e.UAT_PREBID_URL+"8.24.0/",e.VERSION="8.20.0",e.PUBMATIC_ID_SOLUTION_URL="//ads.pubmatic.com/AdServer/js/pwt/",e.PREBID_S2S_URL="//s2s.investingchannel.com",e.PREBID_S2S_AUCTION_URL=e.PREBID_S2S_URL+"/openrtb2/auction",e.PREBID_S2S_COOKIE_SYNC_URL=e.PREBID_S2S_URL+"/cookie_sync",e.UAT_HASHED_EMAIL_URL=e.UAT_BASE_URL+"users/pubcid/",e.SOVRN_UID_SOLTUION_URL="//get.s-onetag.com/5953ed02-1e0b-4cc7-bc8f-26d349047301/tag.min.js",e.ID5_UID_SOLTUION_URL="https://cdn.id5-sync.com/api/1.0/id5-api.js",e.ADFORM_AUDIENCE_TAG_SCRIPT="https://dmp.adform.net/audiencetag/adformat.js",e.ADFORM_UID_SCRIPT="https://track.adform.net/Serving/Cookie/?adfaction=getjs;adfcookname=uid",e.ADFORM_TRACKINGPOINT_SCRIPT="https://s2.adform.net/banners/scripts/st/trackpoint-async.js",e.ADFORM_TRACKINGPOINT_PIXEL_SCRIPT="https://track.adform.net/Serving/TrackPoint/?",e.GTAG_URL="https://www.googletagmanager.com/gtag/js?id=G-5EST90M6PX",e}();t.default=i},991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getRandomNumber=function(){return this.rnd},e.prototype.getTile=function(){return this.tile},e.prototype.getPosition=function(){return this.pos},e.prototype.getBrowserSize=function(){return this.bs},e.prototype.getAbsolutePosition=function(){return this.ap},e.prototype.getRelativePosition=function(){return this.rp},e.prototype.getFoldPosition=function(){return this.fp},e.prototype.getVisiblePercentage=function(){return this.ivp},e.prototype.getAdRefreshCount=function(){return+this.arc},e.prototype.getAdRefreshType=function(){return this.art},e.prototype.getTarget=function(){return this.tl},e.prototype.getTargetKval=function(){return this.kval},e.prototype.getAdomikRandomNumber=function(){return this.ado_g},e.prototype.getAdomikHour=function(){return this.ado_h},e.prototype.getAdxRandomNumber=function(){return this.adx_b},e.prototype.getAdxHour=function(){return this.h},e.prototype.getTagId=function(){return this.tid},e.prototype.setRandomNumber=function(e){this.rnd=e},e.prototype.setTile=function(e){this.tile=e},e.prototype.setPosition=function(e){this.pos=e},e.prototype.setBrowserSize=function(e){this.bs=e},e.prototype.setAbsolutePosition=function(e){this.ap=e},e.prototype.setRelativePosition=function(e){this.rp=e},e.prototype.setFoldPosition=function(e){this.fp=e},e.prototype.setVisiblePercentage=function(e){this.ivp=e},e.prototype.setAdRefreshCount=function(e){this.arc=""+e},e.prototype.setAdRefreshType=function(e){this.art=e},e.prototype.setTarget=function(e){this.tl=e},e.prototype.setTargetKval=function(e){this.kval=e},e.prototype.setAdomikRandomNumber=function(e){this.ado_g=e},e.prototype.setAdomikHour=function(e){this.ado_h=e},e.prototype.setAdxRandomNumber=function(e){this.adx_b=e},e.prototype.setAdxHour=function(e){this.h=e},e.prototype.setTagId=function(e){this.tid=e},e}();t.default=i},336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.xu="-1"}return e.prototype.getPageId=function(){return this.ord},e.prototype.getViewCount=function(){return this.viewCount},e.prototype.getDocumentType=function(){return this.dt},e.prototype.getReferrerType=function(){return this.rft},e.prototype.getAdTagName=function(){return this.usn},e.prototype.getPageType=function(){return this.pt},e.prototype.getDeviceType=function(){return this.d},e.prototype.getExeletUId=function(){return this.xu},e.prototype.IsSearchEngine=function(){return"true"==this.is_search},e.prototype.getDoNotTrack=function(){return"true"==this.dnt},e.prototype.getPageurl=function(){return this.pageurl},e.prototype.getReferer=function(){return this.referer},e.prototype.getUserCookie=function(){return this.uc},e.prototype.setPageId=function(e){this.ord=e},e.prototype.setViewCount=function(e){this.viewCount=e},e.prototype.setDocumentType=function(e){this.dt=e},e.prototype.setReferrerType=function(e){this.rft=e},e.prototype.setAdTagName=function(e){this.usn=e},e.prototype.setPageType=function(e){this.pt=e},e.prototype.setDeviceType=function(e){this.d=e},e.prototype.setExeletUId=function(e){this.xu=e},e.prototype.setIsSearchEngine=function(e){this.is_search=String(e)},e.prototype.setDoNotTrack=function(e){this.dnt=String(e)},e.prototype.setPageurl=function(e){this.pageurl=e},e.prototype.setReferer=function(e){this.referer=e},e.prototype.setUserCookie=function(e){this.uc=e},e.prototype.setICFID=function(e){this.ic_fid=e},e.prototype.setICTID=function(e){this.ic_tid=e},e}();t.default=i},586:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceType=void 0,function(e){e.DESKTOP="d",e.MOBILE="m",e.TABLET="t",e.UNKNOWN="u"}(i=t.DeviceType||(t.DeviceType={})),t.default=i},293:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentType=void 0,function(e){e.UNKNOWN="un",e.PAGE="pg",e.IFRAME="if",e.FRIENDLYFRAME="ff"}(i=t.DocumentType||(t.DocumentType={})),t.default=i},136:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=void 0,function(e){e.SELECTOR_NOT_FOUND="Selector not loaded.",e.GEO_TARGETING_FAILED="Geo not matched.",e.DEVICE_TARGETING_FAILED="Device not matched.",e.GDPR_TARGETING_FAILED="Not able to serve the tag as consents are not given.",e.CUSTOM_TARGETING_FAILED="Not able to serve the tag as targeting is not matched.",e.TAG_NOT_CONFIGURED="Tag is not configured.",e.SELECTOR_INVALID="Selector not configured.",e.ADSIZE_INVALID="AdSize is not configured for display tag.",e.TARGET_INVALID="Target is not configured for display tag.",e.ADSIZEMAPPING_INVALID="Invalid SizeMapping configuration.",e.ADSIZEMAPPING_TARGETING_FAILED="Blank AdSize configured in SizeMapping.",e.NO_ADS="Publisher has passed show_no_ads flag.",e.UNKNOW_ERROR="Due some unknown error, not able to serve the tag.",e.PAGE_OBJECT_NOT_FOUND="Publisher is trying to call API, but page object does not exist ",e.PAGE_DESTROY_TEMPLATE_NOT_FOUND="Template does not exist ",e.PAGE_DESTROY_FAILED="Failed to destroy the page due to some internal error ",e.PAGE_REFRESHTAG_TAG_NOT_FOUND="Publisher tag does not exist.",e.PAGE_REFRESHTAG_FAILED="Failed to refresh the page due to some internal error ",e.ADD_SIZEMAPPING_FAILED="Failed to add the sizemppaing object, due to some internal error ",e.BUILD_SIZEMAPPING_FAILED="Failed to build the size mapping object due to some internal error ",e.PAGE_DEFINETAG_SITE_MISMATCH="Different site provided ",e.PAGE_DEFINETAG_TARGET_NOT_FOUND="Invalid target provided ",e.PAGE_DEFINETAG_INVALID_SIZE="Invalid size provided ",e.PAGE_DEFINETAG_FAILED="Failed to define the tag due to some internal error ",e.PAGE_DEFINETAG_INVALID_DIVID="Publisher is trying to create the multiple tags with the same div-id",e.PAGE_DEFINEOOPTAG_SITE_MISMATCH="Different oop site provided ",e.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND="Invalid oop target provided ",e.PAGE_DEFINEOOPTAG_FAILED="Failed to define the oop tag due to some internal error ",e.PAGE_DEFINEOOPTAG_INVALID_DIVID="Publisher is trying to create the multiple oop tags with the same div-id",e.PAGE_DEFINEOOPTAG_WI_INVALID_DIVID="Publisher is trying to create the multiple oop tags with the same div-id",e.PAGE_DEFINEOOPTAG_WI_FAILED="Failed to define the oop tag for webinterstitial due to some internal error ",e.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH="Different oop webinterstitial site provided ",e.PAGE_GETPUBTAG_TAG_NOT_FOUND="Tag does not exist for the provided divid ",e.PAGE_GETPUBTAG_FAILED="Failed to found the tag due to some internal error ",e.PAGE_SETKVAL_FAILED="Failed to set the kval due to some error ",e.PAGE_SETUSERID_FAILED="Failed to set user Identity due to some error ",e.PAGE_SETTICKER_FAILED="Failed to set Ticker due to some error ",e.PAGE_DECRYPTEMAIL_FAILED="Failed to decrypt user email due to some error ",e.PAGE_CLEARKVAL_FAILED="Failed to clear the kval due to some error ",e.PAGE_RENDERTAG_TAG_NOT_FOUND="Publisher tag does not exist",e.PAGE_RENDERTAG_FAILED="Failed to render the tags due to some internal error ",e.TAG_DEFINESIZEMAPPING_FAILED="Failed to define the size mapping on tag ",e.TAG_SETKVAL_FAILED="Failed to set the kval due to some error ",e.TAG_CLEARKVAL_FAILED="Failed to clear the kval due to some error ",e.TAG_RENDER_FAILED="Failed to render the tag due to some error ",e.TAG_REFRESH_FAILED="Failed to refresh the tag due to some error ",e.TAG_CLEAR_FAILED="Failed to clear the tag content due to some error ",e.TAG_DESTROY_FAILED="Failed to destroy the tag due to some error ",e.TAG_ADDEVENTLISTNER_FAILED="Failed to register event listener",e.NATIVE_LAYOUT_NOT_FOUND="Native layout is not configured on tag ",e.PAGE_DEFINENATIVETAG_SITE_MISMATCH="Different site provided ",e.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND="Invalid target provided ",e.PAGE_DEFINENATIVETAG_FAILED="Failed to define the native tag due to some internal error ",e.PAGE_DEFINENATIVETAG_INVALID_DIVID="Publisher is trying to create the multiple tags with the same div-id",e.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND="Invalid native layout id provided "}(i=t.ErrorType||(t.ErrorType={})),t.default=i},652:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyCapUnit=void 0,function(e){e.MILLISECONDS="MILLISECONDS",e.SECONDS="SECONDS",e.MINUTES="MINUTES",e.HOURS="HOURS",e.DAYS="DAYS",e.WEEKS="WEEKS",e.MONTHS="MONTHS",e.YEARS="YEARS"}(i=t.FrequencyCapUnit||(t.FrequencyCapUnit={})),t.default=i},32:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyType=void 0,function(e){e.IN_DURATION="IN_DURATION"}(i=t.FrequencyType||(t.FrequencyType={})),t.default=i},441:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.HashedEmailType=void 0,function(e){e.RAW="raw",e.HASHED="hash",e.ENCRYPT="encrypt"}(i=t.HashedEmailType||(t.HashedEmailType={})),t.default=i},159:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.InsertionType=void 0,function(e){e.BEFORE="BEFORE",e.AFTER="AFTER",e.FIRST_CHILD="FIRST_CHILD",e.LAST_CHILD="LAST_CHILD",e.REPEAT="REPEAT"}(i=t.InsertionType||(t.InsertionType={})),t.default=i},528:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadType=void 0,function(e){e.ON_LOAD="ON_LOAD",e.ON_VIEW="ON_VIEW",e.ON_REALTIME="ON_REALTIME",e.ONLOAD_ONVIEW="ONLOAD_ONVIEW",e.CUSTOM="CUSTOM"}(i=t.LoadType||(t.LoadType={})),t.default=i},55:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PageType=void 0,function(e){e.HOME="hm",e.ARTICLE="at",e.TICKER="tk",e.WELCOMEAD="wa",e.UNKNOWN=""}(i=t.PageType||(t.PageType={})),t.default=i},295:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){this.allowInterstitial=!1,this.allowMultisize=!1}},796:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementState=void 0,function(e){e.UNKNOWN="UNKNOWN",e.SELECTOR_NOT_LOADED="SELECTOR_NOT_LOADED",e.SELECTOR_LOADED="SELECTOR_LOADED",e.INITIALIZED="INITIALIZED",e.LOADED="LOADED",e.VIEWED="VIEWED",e.CAPPING_EXPIRED="CAPPING_EXPIRED",e.TAG_NOT_AVAILABLE="TAG_NOT_AVAILABLE",e.TARGETING_FAILED="TARGETING_FAILED"}(i=t.PlacementState||(t.PlacementState={})),t.default=i},545:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementType=void 0,function(e){e.HTML="HTML",e.PIXEL="PIXEL",e.UNKNOWN=""}(i=t.PlacementType||(t.PlacementType={})),t.default=i},695:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ReferrerType=void 0,function(e){e.DIRECT="di",e.INTERNAL="in",e.EXTERNAL="ex",e.SEARCH_ENGINE="se",e.SOCIAL_MEDIA="sm",e.UNKNOWN=""}(i=t.ReferrerType||(t.ReferrerType={})),t.default=i},13:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshType=void 0,function(e){e.TIME="t",e.ACTIVEWINDOW="w",e.ONLOAD="o",e.MANUAL="m"}(i=t.RefreshType||(t.RefreshType={})),t.default=i},346:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TagType=void 0,function(e){e.CUSTOM="CUSTOM",e.DISPLAY="DISPLAY",e.NATIVE="NATIVE",e.VIDEO="VIDEO"}(i=t.TagType||(t.TagType={})),t.default=i},16:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){this.allow_Multisize=!1}},172:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.USPStatus=void 0,function(e){e.APPLICABLE="APPLICABLE",e.NOT_APPLICABLE="NOT_APPLICABLE",e.INPROGRESS="INPROGRESS"}(i=t.USPStatus||(t.USPStatus={})),t.default=i},318:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=i(665),s=i(34),a=i(148),o=i(172),l=i(105);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];var m=function(){function e(){var e=this;this.mErrors=[],this.mReports=[],this.mAPIs=[],this.mPageLog=null,this.mSSPLog=[],this.mUIDLog=[],this.mTriggerPageLog=!1,this.mIsGdprApplicable=!1,this.mUSPStatus=o.USPStatus.NOT_APPLICABLE,this.mUidKeyName="IC_TID",this.mUserCookieName="IC_USER_COOKIE",this.mUid="",this.mSendAllPageeventLogData=!1,this.pageEventGlobalObj={emailHash:"",activeTime:-1,scrollDepth:-1,pageHeight:-1,uids:"",dmpUid:"",segments:"",adBlockerStatus:"",cookieType:"",ticker:"",viewCount:"",privacy:"",markit:"{}",fid:"",tickerCategory:""},this.logs={},this.mIsUidIframeLoaded=!1,this.mIsWaitingUidIframe=!1,this.mUidCallback=null,this.mIsDebugModeEnabled=!1,s.Utility.ICJQuery(window).on("unload",(function(){e.destroy()})),this.mLogIntervalInstance=setInterval((function(){e.postLogsToServer()}),1e3)}return e.prototype.resetPageEventGlobalObj=function(){this.pageEventGlobalObj.emailHash="",this.pageEventGlobalObj.activeTime=-1,this.pageEventGlobalObj.scrollDepth=-1,this.pageEventGlobalObj.pageHeight=-1,this.pageEventGlobalObj.uids="",this.pageEventGlobalObj.dmpUid="",this.pageEventGlobalObj.segments="",this.pageEventGlobalObj.adBlockerStatus="",this.pageEventGlobalObj.cookieType="",this.pageEventGlobalObj.ticker="",this.pageEventGlobalObj.viewCount="",this.pageEventGlobalObj.privacy="",this.pageEventGlobalObj.markit="{}",this.pageEventGlobalObj.fid="",this.pageEventGlobalObj.tickerCategory=""},e.getInstance=function(){return this.mUtil||(this.mUtil=new e),this.mUtil},e.prototype.setGDPRStatus=function(e){this.mIsGdprApplicable=e},e.prototype.setUSPStatus=function(e){this.mUSPStatus=e},e.prototype.executeJS=function(t){e.ICJQuery.globalEval(t)},e.prototype.isSelectorLoaded=function(t,i,r,n){return!!e.ICJQuery("#investingchannel_div_"+n).length||this.getEmptyElementsForSelector(t,i,r).length>0},e.prototype.getEmptyElementsForSelector=function(e,t,i){var r="0";try{var n=[];if(!this.isValidSelector(e))throw this.mIsDebugModeEnabled&&this.debugConsoleMessage("getEmptyElementsForSelector :: Invalid selector: "+e),new Error("getEmptyElementsForSelector :: Invalid selector: "+e);var a=document.querySelectorAll(e);r="1";for(var o=0;o<a.length;++o){var l=s.Utility.ICJQuery(a[o]).children();r="1."+o;for(var d=!1,m=0;m<l.length;++m)if(r="1."+o+"."+m,l[m]&&l[m].id&&-1!==l[m].id.indexOf("investingchannel_div_")){if(l[m].getAttribute("ic_pageId")!=t){d=!0;break}if(l[m].getAttribute("ic_placementid")==""+i){d=!0;break}}d||(r="2."+o,n.push(a[o]))}return n}catch(e){s.Utility.getInstance().ic_ga_event("Error","Utility.getEmptyElementsForSelector",e.message,i,r)}},e.prototype.isValidSelector=function(e){try{return document.querySelectorAll(e),!0}catch(e){return!1}},e.prototype.executeOnLoad=function(e){try{var t=document.readyState;if("interactive"==t||"complete"==t)return void this.executeJS(e);window.addEventListener("DOMContentLoaded",this.executeJS(e),!1)}catch(t){this.executeJS(e)}},e.prototype.clientWindowHeight=function(){var e=0;return"number"==typeof window.innerHeight?e=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),e},e.prototype.clientWindowWidth=function(){var e=0;return"number"==typeof window.innerWidth?e=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?e=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),e},e.prototype.getBrowserSize=function(){return this.clientWindowWidth()+"x"+this.clientWindowHeight()},e.prototype.convertAdSize=function(e){var t="";if(e.constructor!==Array&&("fluid"==e.toString()||"oop"==e.toString()||"webinterstitial"==e.toString()))return e.toString();if(2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return e.join("x");for(var i=0;i<e.length;++i)e[i].constructor===Array&&2==e[i].length?t+=e[i].join("x")+",":"string"==typeof e[i]&&"fluid"==e[i]&&(t+=e[i]+",");return t&&(t=t.replace(/,\s*$/,"")),t},e.prototype.isInViewport=function(t,i){var r=e.ICJQuery(t);if(!r.length)return!1;var n=r[0];if(null===n)return null;var s=n.getBoundingClientRect(),a=this.clientWindowHeight(),o=this.clientWindowWidth(),l=s.bottom,d=s.right,m=s.top,u=s.left;return i&&i>0&&(l+=a*(i/100),d+=o*(i/100),m-=a*(i/100),u-=o*(i/100)),l>=0&&d>=0&&m<=a&&u<=o},e.prototype.isCookieEnabled=function(){try{document.cookie="ic_cookietest=1";var e=-1!=document.cookie.indexOf("ic_cookietest=");return document.cookie="ic_cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){}return!1},e.prototype.getFromLocalStorage=function(e){try{if("undefined"!=typeof Storage)return localStorage.getItem(e)}catch(e){}return null},e.prototype.getFromSessionStorage=function(e){try{if("undefined"!=typeof Storage)return sessionStorage.getItem(e)}catch(e){}return null},e.prototype.getFromCookie=function(e){try{if(navigator.cookieEnabled){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}}catch(e){}return""},e.prototype.isCookieExists=function(e){if(navigator.cookieEnabled)try{if(2==("; "+document.cookie).split("; "+e+"=").length)return!0}catch(e){}return!1},e.prototype.deleteFromLocalStorage=function(e){try{"undefined"!=typeof Storage&&localStorage.removeItem(e)}catch(e){}},e.prototype.deleteFromSessionStorage=function(e){try{"undefined"!=typeof Storage&&sessionStorage.removeItem(e)}catch(e){}},e.prototype.deleteFromCookie=function(e){try{navigator.cookieEnabled&&(document.cookie=e+"=;expires=Fri, 02-Jan-1970 00:00:00 GMT;path=/")}catch(e){}},e.prototype.saveToLocalStorage=function(e,t){try{"undefined"!=typeof Storage&&localStorage.setItem(e,t)}catch(e){}},e.prototype.removeFromLocalStorage=function(e){try{"undefined"!=typeof Storage&&localStorage.removeItem(e)}catch(e){}},e.prototype.saveToSessionStorage=function(e,t){try{"undefined"!=typeof Storage&&sessionStorage.setItem(e,t)}catch(e){}},e.prototype.saveToCookie=function(e,t,i){if(navigator.cookieEnabled)try{document.cookie=null==i?e+"="+t+";path=/":e+"="+t+"; max-age="+i+";path=/"}catch(e){}},e.prototype.getFromQueryString=function(e,t){var i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&]*)|&|$)").exec(i);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},e.prototype.getUspString=function(e,t){if("function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){return t?"uspString"in e?e.uspString:void 0:null})),t&&this.isLocalStorageSupported()){var i=this.getFromLocalStorage(e);if(i)return i}return this.getFromCookie(e)},e.prototype.pushToErrorLog=function(e){this.mErrors.push(e)},e.prototype.pushToReportLog=function(e){this.mReports.push(e)},e.prototype.pushToAPILog=function(e){this.mAPIs.push(e)},e.prototype.preparePageLog=function(e,t){this.mPageLog=e,t&&this.postLogsToServer()},e.prototype.triggerPageLog=function(){this.mTriggerPageLog=!0},e.prototype.prepareSSPLog=function(e){this.mSSPLog.push(e)},e.prototype.preparePageEventLog=function(e,t){this.mUIDLog.push(e),t&&this.postLogsToServer()},e.prototype.isLocalStorageSupported=function(){try{if("undefined"==typeof Storage)return!1}catch(e){return!1}return!0},e.prototype.removeDuplicateFromArray=function(e){if(!e)return e;for(var t=[],i=[],r=0;r<e.length;++r)t.indexOf(e[r].toLowerCase())>=0||(t.push(e[r].toLowerCase()),i.push(e[r]));return i},e.prototype.removeSovrnDfpKeysFromArray=function(e){if(!e)return e;for(var t=[],i=0;i<e.length;++i){var r=e[i].toLowerCase();"sv_y"!=r&&"sv_c"!=r&&"sv_n"!=r&&t.push(e[i])}return t},e.prototype.removeElementFromArray=function(e,t){var i=e.slice(0,t),r=e(t+1);return i.concat(r)},e.prototype.getTopWindowDomain=function(){try{return s.Utility.window.top.location.hostname}catch(e){}try{return document.referrer.match(/:\/\/(.[^/]+)/)[1]}catch(e){}return""},e.prototype.initializeGA=function(){var e=this.calculateDocumentType(),t="IC_GTagScript",i=this;this.isJsFileExistsInDom(e,t,this.mIsDebugModeEnabled)||this.dropScripts(e,a.default.GTAG_URL,"GTagScript",!1,t,!0,!1,"gtag Script failed to load").addEventListener("load",(function(){i.mIsDebugModeEnabled&&i.debugConsoleMessage("Gtag Script loaded.")}))},e.prototype.ic_ga_event=function(e,t,i,r,n){var s=l.Template,o="",m="",u="";s&&(o=s.getPageIdValue()?s.getPageIdValue():"",m=s.getAPIKey()?s.getAPIKey():"",u=s.getUserId()?s.getUserId():""),d("js",new Date),d("config","G-5EST90M6PX"),d("event",e,{Environment:a.default.ENVIRONMENT,Version:a.default.VERSION,Source:t,Location:n,Description:i,ApiKey:m,PageId:o,UserId:u,PlacementId:r})},e.prototype.calculateDocumentType=function(){try{return self==window.top?"PG":window.location.hostname==window.top.location.hostname?"FF":"IF"}catch(e){return"IF"}},e.prototype.postLogsToServer=function(){if(this.logs={},this.mReports.length>0){var e=this.mReports;this.mReports=[],this.logs.reportLogs=e}if(this.mErrors.length>0){var t=this.mErrors;this.mErrors=[],this.logs.errorLogs=t}if(this.mAPIs.length>0){var i=this.mAPIs;this.mAPIs=[],this.logs.apiLogs=i}if(null!=this.mPageLog&&this.mTriggerPageLog){var r=[this.mPageLog];this.mPageLog=null,this.mTriggerPageLog=!1,this.logs.pageLogs=r}if(this.mSSPLog.length>0){var n=this.mSSPLog;this.mSSPLog=[],this.logs.sspLogs=n}if(this.mUIDLog.length>0){var s=this.mUIDLog;this.mUIDLog=[],this.logs.pageEventLogs=s}null!=this.logs&&(this.logs.reportLogs||this.logs.errorLogs||this.logs.apiLogs||this.logs.pageLogs||this.logs.sspLogs||this.logs.pageEventLogs)&&this.postData(this.logs)},e.prototype.postData=function(t,i){var r=this;e.ICJQuery.post({url:s.Constant.UAT_LOG_URL+"?gdprapplicable="+this.mIsGdprApplicable+"&uspstatus="+this.mUSPStatus,async:!0,data:JSON.stringify(t),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0}}).fail((function(){r.debugConsoleMessage("Error in Post Data, Retry Count: "+i),i?i++:i=1,i<3&&r.postData(t,i);try{"pageEventLogs"in t&&(r.mSendAllPageeventLogData=!0)}catch(e){}}))},e.prototype.pushAPILog=function(t,i,r,n,s,a){var o=n.toString();o+=s;var l=e.window.location.href,d=this.updateUrlIfTranslator(t,l);d&&(l=d),a||(a="null"),this.mAPIs.push({apiKey:i,placementId:"null",placementType:"null",publisherType:"ADVANCE",pageId:a,rnd:"null",documentType:t,errorCode:e.getInstance().getErrorTypeKeyFromValue(n),errorDetail:o,kval:encodeURIComponent("bs:"+this.getBrowserSize()),refererUrl:encodeURIComponent(r),pageUrl:encodeURIComponent(l)})},e.prototype.getErrorTypeKeyFromValue=function(e){switch(e){case s.ErrorType.ADSIZE_INVALID:return"ADSIZE_INVALID";case s.ErrorType.CUSTOM_TARGETING_FAILED:return"CUSTOM_TARGETING_FAILED";case s.ErrorType.DEVICE_TARGETING_FAILED:return"DEVICE_TARGETING_FAILED";case s.ErrorType.GDPR_TARGETING_FAILED:return"GDPR_TARGETING_FAILED";case s.ErrorType.GEO_TARGETING_FAILED:return"GEO_TARGETING_FAILED";case s.ErrorType.SELECTOR_INVALID:return"SELECTOR_INVALID";case s.ErrorType.SELECTOR_NOT_FOUND:return"SELECTOR_NOT_FOUND";case s.ErrorType.TAG_NOT_CONFIGURED:return"TAG_NOT_CONFIGURED";case s.ErrorType.TARGET_INVALID:return"TARGET_INVALID";case s.ErrorType.ADSIZEMAPPING_INVALID:return"ADSIZEMAPPING_INVALID";case s.ErrorType.ADSIZEMAPPING_TARGETING_FAILED:return"ADSIZEMAPPING_TARGETING_FAILED";case s.ErrorType.NO_ADS:return"NO_ADS";case s.ErrorType.UNKNOW_ERROR:return"UNKNOW_ERROR";case s.ErrorType.PAGE_OBJECT_NOT_FOUND:return"PAGE_OBJECT_NOT_FOUND";case s.ErrorType.PAGE_DESTROY_TEMPLATE_NOT_FOUND:return"PAGE_DESTROY_TEMPLATE_NOT_FOUND";case s.ErrorType.PAGE_DESTROY_FAILED:return"PAGE_DESTROY_FAILED";case s.ErrorType.PAGE_REFRESHTAG_TAG_NOT_FOUND:return"PAGE_REFRESHTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_REFRESHTAG_FAILED:return"PAGE_REFRESHTAG_FAILED";case s.ErrorType.ADD_SIZEMAPPING_FAILED:return"ADD_SIZEMAPPING_FAILED";case s.ErrorType.BUILD_SIZEMAPPING_FAILED:return"BUILD_SIZEMAPPING_FAILED";case s.ErrorType.PAGE_DEFINETAG_SITE_MISMATCH:return"PAGE_DEFINETAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND:return"PAGE_DEFINETAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINETAG_INVALID_SIZE:return"PAGE_DEFINETAG_INVALID_SIZE";case s.ErrorType.PAGE_DEFINETAG_FAILED:return"PAGE_DEFINETAG_FAILED";case s.ErrorType.PAGE_DEFINETAG_INVALID_DIVID:return"PAGE_DEFINETAG_INVALID_DIVID";case s.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH:return"PAGE_DEFINEOOPTAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND:return"PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINEOOPTAG_FAILED:return"PAGE_DEFINEOOPTAG_FAILED";case s.ErrorType.PAGE_DEFINEOOPTAG_INVALID_DIVID:return"PAGE_DEFINEOOPTAG_INVALID_DIVID";case s.ErrorType.PAGE_GETPUBTAG_TAG_NOT_FOUND:return"PAGE_GETPUBTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_GETPUBTAG_FAILED:return"PAGE_GETPUBTAG_FAILED";case s.ErrorType.PAGE_SETKVAL_FAILED:return"PAGE_SETKVAL_FAILED";case s.ErrorType.PAGE_CLEARKVAL_FAILED:return"PAGE_CLEARKVAL_FAILED";case s.ErrorType.PAGE_RENDERTAG_TAG_NOT_FOUND:return"PAGE_RENDERTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_RENDERTAG_FAILED:return"PAGE_RENDERTAG_FAILED";case s.ErrorType.TAG_DEFINESIZEMAPPING_FAILED:return"TAG_DEFINESIZEMAPPING_FAILED";case s.ErrorType.TAG_SETKVAL_FAILED:return"TAG_SETKVAL_FAILED";case s.ErrorType.TAG_CLEARKVAL_FAILED:return"TAG_CLEARKVAL_FAILED";case s.ErrorType.TAG_RENDER_FAILED:return"TAG_RENDER_FAILED";case s.ErrorType.TAG_REFRESH_FAILED:return"TAG_REFRESH_FAILED";case s.ErrorType.TAG_CLEAR_FAILED:return"TAG_CLEAR_FAILED";case s.ErrorType.TAG_DESTROY_FAILED:return"TAG_DESTROY_FAILED";case s.ErrorType.TAG_ADDEVENTLISTNER_FAILED:return"TAG_ADDEVENTLISTNER_FAILED";case s.ErrorType.NATIVE_LAYOUT_NOT_FOUND:return"NATIVE_LAYOUT_NOT_FOUND";case s.ErrorType.PAGE_DEFINENATIVETAG_SITE_MISMATCH:return"PAGE_DEFINENATIVETAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND:return"PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINENATIVETAG_FAILED:return"PAGE_DEFINENATIVETAG_FAILED";case s.ErrorType.PAGE_DEFINENATIVETAG_INVALID_DIVID:return"PAGE_DEFINENATIVETAG_INVALID_DIVID";case s.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND:return"PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND";default:return"UNKNOWN"}},e.prototype.updateUrlIfTranslator=function(e,t){if(e==s.DocumentType.IFRAME){var i=s.Utility.ICJQuery("<a>").prop("href",t).prop("hostname");if("translate.google.com"==i.toLowerCase()||"translate.googleusercontent.com"==i.toLowerCase()){var r=this.getQueryStringParam("u",t);if(r&&r.length>0)return r[1]}return null}},e.prototype.debugConsoleMessage=function(e,t){try{var i=[];if(i.push("%c IC UAT ","border-radius:4px;background:#8bc43f;color:#fff;font-weight: bold;"),i.push(e),t)for(var r=0;r<t.length;++r)i.push(t[r]);console.log.apply(console,i)}catch(e){}},e.consoleTimeMessage=function(e,t,i){if(void 0===i&&(i=!1),t)try{i?console.time("Time taken: "+e):console.timeEnd("Time taken: "+e)}catch(e){}},e.prototype.getQueryStringParam=function(e,t){return decodeURIComponent(t).match(new RegExp(e+"=(.*?)($|&)","i"))||[][1]},e.prototype.destroy=function(){this.mTriggerPageLog=!0,this.postLogsToServer();try{clearInterval(this.mLogIntervalInstance)}catch(e){}e.mUtil=void 0},e.FormatString=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=0;r<t.length;r++)e=e.replace("{".concat(r,"}"),t[r]);return e},e.prototype.dropICUidIframe=function(){var e=this;if(!document.getElementById("ICUid_Iframe")){var t=document.createElement("iframe");t.id="ICUid_Iframe",t.style.display="none",t.src=s.Constant.UID_IFRAME_URL,t.onload=function(){e.mIsUidIframeLoaded=!0,e.mIsWaitingUidIframe&&e.requestUid(e.mUidCallback,e.mIsDebugModeEnabled)},document.body.appendChild(t)}},e.prototype.requestUid=function(e,t){var i=this,r=this.getFromLocalStorage(this.mUidKeyName),n=this.getFromLocalStorage(this.mUserCookieName);if(null!=r&&""!=r){try{t&&this.debugConsoleMessage("Found userid "+r+" in first party local storage")}catch(e){}return this.mUid=r,void("function"==typeof e&&e(r,n))}if(this.mUidCallback=e,!this.mIsUidIframeLoaded)return this.mIsWaitingUidIframe=!0,void(this.mIsDebugModeEnabled=t);var s=document.getElementById("ICUid_Iframe"),a=s.contentWindow||s.contentDocument;s&&a&&a.postMessage("getUid","*"),void 0!==window.addEventListener?window.addEventListener("message",(function(r){r.origin&&i.processUidIframeData(r,e,t)}),!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",(function(r){r.origin&&i.processUidIframeData(r,e,t)}))},e.prototype.processUidIframeData=function(e,t,i){if(0==s.Constant.UID_IFRAME_URL.indexOf(e.origin)&&null!=e.data){var r=e.data.split("=");if(2==r.length&&"icuid"==r[0]){var n="",a="f",o="Third party local storage.";""!=r[1]&&null!=r[1]?(n=r[1],a="t"):(o="First party local storage.",a=navigator.cookieEnabled?"f":"n"),this.saveToLocalStorage(this.mUidKeyName,n),this.saveToLocalStorage(this.mUserCookieName,a),this.mUid=n;try{i&&this.debugConsoleMessage("Generated userid is "+n+" and the source is "+o,e)}catch(e){}"function"==typeof t&&t(n,a)}}},e.prototype.getUid=function(){return this.mUid},e.createSSPReqObject=function(e,t,i,n,s){var a,o=[];try{t.forEach((function(e,i){t[i]=e.join("x")})),a=t.join(",")}catch(e){}return e.forEach((function(e){var t=e.split(";")[0].split(":")[1],l=e.split(";")[1].split(":")[1],d=e.split(";")[2].split(":")[1],m=e.split(";")[3].split(":")[1],u=e.split(";")[4].split(":")[1],c="",p=n;try{var g=p.split("_");g[2]&&(c=g[2])}catch(e){}var h=r(r({},i),{arc:s,mediaType:t,adslot:n,rnd:c,bidderCode:l,passedAdSizes:a,source:d,floorPrice:m,floorType:u});o.push(h)})),o},e.prototype.resetSSPLogsObject=function(e,t){t[e]&&t[e].length>0&&delete t[e]},e.prototype.createSSPResponseObject=function(e,t,i,n){var s=t.bidderRequests.length>0?t.bidderRequests[0].auctionStart:0,a=t.bidsReceived,o=t.noBids,l=t.winningBids,d=t.adUnitCodes,m=n.join(";");for(var u in d){var c=d[u],p=[],g=e[c],h=e[c];try{for(var f in l)if((I=l[f]).adUnitCode&&c==I.adUnitCode){p.push(I.bidder);var S=this.getSspReqObj(g,I.bidder);if(Object.keys(S).length>0){var y={},b=this.sspLogObject(I.auctionId,s,I.requestId,I.cpm,I.requestTimestamp,I.responseTimestamp,I.timeToRespond,I.ttl,I.adId,I.size,I.currency,I.creativeId,I.netRevenue,I.dealId,I.statusMessage,I.size,m);y=r(r({},S),b),this.prepareSSPLog(y)}}for(var f in a)(I=a[f]).adUnitCode&&c==I.adUnitCode&&(p.push(I.bidder),S=this.getSspReqObj(g,I.bidder),Object.keys(S).length>0&&(y={},b=this.sspLogObject(I.auctionId,s,I.requestId,I.cpm,I.requestTimestamp,I.responseTimestamp,I.timeToRespond,I.ttl,I.adId,I.size,I.currency,I.creativeId,I.netRevenue,I.dealId,I.statusMessage,I.size,m),y=r(r({},S),b),this.prepareSSPLog(y)));for(var f in o)if((I=o[f]).adUnitCode&&c==I.adUnitCode&&(p.push(I.bidder),S=this.getSspReqObj(g,I.bidder),Object.keys(S).length>0)){y={};var T=i-s;b=this.sspLogObject(I.auctionId,s,"","0",s,i,T.toString(),"","",I.size,"","","","","No Bids",I.size,m),y=r(r({},S),b),this.prepareSSPLog(y)}for(var f in h){var I;(I=h[f]).adslot&&c==I.adslot&&p.indexOf(I.bidderCode)<0&&(S=this.getSspReqObj(g,I.bidderCode),Object.keys(S).length>0&&(y={},T=i-s,b=this.sspLogObject("",s,"","-1",s,i,T.toString(),"","","","","","","","Time Out","",m),y=r(r({},S),b),this.prepareSSPLog(y)))}this.resetSSPLogsObject(c,e)}catch(e){console.log("error : ",e)}}},e.prototype.createBidAdapterNotLoadedLogs=function(e,t,i,s){for(var a in e){var o=e[a];for(var l in o){var d=o[l].bids;for(var m in d){var u=n.SSP.getPrebidSource().CLIENT,c=d[m],p={bidderCode:c.bidder};s.indexOf(c.bidder)>-1&&(u=n.SSP.getPrebidSource().S2S);var g,h=i-t,f=this.sspLogObject("","","","-2",t,i,h.toString(),"","","","","","","","Time Out","","");g=r(r(r(r({},{source:u}),o[l].req),p),f),this.prepareSSPLog(g)}}this.resetSSPLogsObject(a,e)}},e.prototype.getBidderNameByCode=function(e,t){return t[e]},e.prototype.getBidderNameByName=function(e,t){var i=e;return null!=typeof t[e]&&(i=t[e]),i},e.prototype.getSspReqObj=function(e,t){var i={};for(var r in e){var n=e[r];n.bidderCode==t&&(i=n)}return i},e.prototype.createA9SSPResponseObject=function(e,t,i,n,s){var a=t[e][0];if(0==s){if(i&&Object.keys(i).length>0){var o={},l=this.sspLogObject(i.auctionId,i.auctionStart,i.amzniid,i.cpm,i.requestTimestamp,i.responseTimestamp,i.timeToRespond,i.ttl,i.adId,i.size,i.currency,i.creativeId,i.netRevenue,i.dealId,i.statusMessage,i.amznsz,"");o=r(r({},a),l),this.prepareSSPLog(o)}n&&Object.keys(n).length>0&&(o={},l=this.sspLogObject(n.auctionId,n.auctionStart,n.requestId,n.cpm,n.requestTimestamp,n.responseTimestamp,n.timeToRespond,n.ttl,n.adId,n.size,n.currency,n.creativeId,n.netRevenue,n.dealId,n.statusMessage,n.amznsz,""),o=r(r({},a),l),this.prepareSSPLog(o)),this.resetSSPLogsObject(e,t)}else o={},l=this.sspLogObject(n.auctionId,n.auctionStart,"","-1",n.requestTimestamp,n.responseTimestamp,n.timeToRespond,n.ttl,"","","","","","","Time Out","",""),o=r(r({},a),l),this.prepareSSPLog(o),this.resetSSPLogsObject(e,t)},e.prototype.sspLogObject=function(e,t,i,r,n,s,a,o,l,d,m,u,c,p,g,h,f){return{auctionID:e||"",auctionStart:t||"",bidderRequestid:i||"",bid_value:r||"",bidder_requestTimestamp:n||"",bidder_responseTimestamp:s||"",bidder_timeToRespond:a||"",bidder_ttl:o||"",adId:l||"",size:d||"",currency:m||"",creativeId:u||"",netrevenue:c||"",dealId:p||"",statusMessage:g||"",receivedAdSizes:h||"",uids:f||""}},e.prototype.createPageEventLogs=function(e,t,i,r,n,s,a,o,l,d,m,u,c,p,g,h,f,S){var y=this.filterNonRepeatedLogValues(e,t,i,r,n,s,a,o,l,d,m,u,c,p,g,h,S);Object.keys(y).length>0&&this.preparePageEventLog(y,f)},e.prototype.filterNonRepeatedLogValues=function(e,t,i,n,s,a,o,l,d,m,u,c,p,g,h,f,S){if(this.mSendAllPageeventLogData?(this.mSendAllPageeventLogData=!1,this.pageEventGlobalObj.activeTime<i?this.pageEventGlobalObj.activeTime=i:i=this.pageEventGlobalObj.activeTime,this.pageEventGlobalObj.scrollDepth<n?this.pageEventGlobalObj.scrollDepth=n:n=this.pageEventGlobalObj.scrollDepth,this.pageEventGlobalObj.pageHeight<s?this.pageEventGlobalObj.pageHeight=s:s=this.pageEventGlobalObj.pageHeight,this.pageEventGlobalObj.adBlockerStatus=d,this.pageEventGlobalObj.cookieType=m,this.pageEventGlobalObj.viewCount=c,this.pageEventGlobalObj.privacy=p,this.pageEventGlobalObj.markit=g,this.pageEventGlobalObj.fid=h,this.pageEventGlobalObj.emailHash=t,this.pageEventGlobalObj.tickerCategory=f,this.pageEventGlobalObj.ticker=u,this.pageEventGlobalObj.uids=a,this.pageEventGlobalObj.dmpUid=o,this.pageEventGlobalObj.segments=l):(this.pageEventGlobalObj.activeTime>=i?i="":this.pageEventGlobalObj.activeTime=i,this.pageEventGlobalObj.scrollDepth>=n?n="":this.pageEventGlobalObj.scrollDepth=n,this.pageEventGlobalObj.pageHeight>=s?s="":this.pageEventGlobalObj.pageHeight=s,this.pageEventGlobalObj.adBlockerStatus==d?d="":this.pageEventGlobalObj.adBlockerStatus=d,this.pageEventGlobalObj.cookieType==m?m="":this.pageEventGlobalObj.cookieType=m,this.pageEventGlobalObj.viewCount==c?c="":this.pageEventGlobalObj.viewCount=c,this.pageEventGlobalObj.privacy==p?p="":this.pageEventGlobalObj.privacy=p,this.pageEventGlobalObj.markit==g?g="":this.pageEventGlobalObj.markit=g,this.pageEventGlobalObj.fid==h?h="":this.pageEventGlobalObj.fid=h,this.pageEventGlobalObj.emailHash==t?t="":this.pageEventGlobalObj.emailHash=t,this.pageEventGlobalObj.tickerCategory==f?f="":this.pageEventGlobalObj.tickerCategory=f,this.pageEventGlobalObj.ticker==u?u="":this.pageEventGlobalObj.ticker=u,this.pageEventGlobalObj.uids==a?a="":this.pageEventGlobalObj.uids=a,this.pageEventGlobalObj.dmpUid==o?o="":this.pageEventGlobalObj.dmpUid=o,this.pageEventGlobalObj.segments==l?l="":this.pageEventGlobalObj.segments=l),!S&&""==t&&""==i&&""==n&&""==s&&""==a&&""==o&&""==l&&""==d&&""==m&&""==u&&""==c&&""==p&&""==g&&""==h&&""==f)return{};var y={pageId:e,epoch:(new Date).getTime()};return""!=t&&(y=r(r({},y),{emailHash:t})),""!=i.toString()&&(y=r(r({},y),{activeTime:i})),""!=n.toString()&&(y=r(r({},y),{scrollDepth:n})),""!=s.toString()&&(y=r(r({},y),{pageHeight:s})),""!=a&&(y=r(r({},y),{uids:a})),""!=o&&(y=r(r({},y),{dmpUid:o})),""!=l&&(y=r(r({},y),{segments:l})),""!=d&&(y=r(r({},y),{adBlockerStatus:d})),""!=m&&(y=r(r({},y),{cookieType:m})),""!=u&&(y=r(r({},y),{ticker:u})),""!=c.toString()&&(y=r(r({},y),{viewCount:c})),""!=p&&(y=r(r({},y),{privacy:p})),""!=g&&(y=r(r({},y),{markit:g})),""!=h&&(y=r(r({},y),{fid:h})),""!=f&&(y=r(r({},y),{tickerCategory:f})),y},e.prototype.getEstOffset=function(){return(new Date).getTimezoneOffset()<(e=new Date(0,1),t=new Date(6,1),Math.max(e.getTimezoneOffset(),t.getTimezoneOffset()))?-5:-4;var e,t},e.prototype.getUSDayOfWeek=function(){try{var e=new Date,t=e.getTime()+60*e.getTimezoneOffset()*1e3,i=this.getEstOffset();return["sun","mon","tue","wed","thu","fri","sat"][new Date(t+36e5*i).getDay()]}catch(e){return""}},e.prototype.getNetWorkCode=function(e){var t=a.default.NETWORK_CODE;return e&&null!=e&&e.length>0&&(t=t+","+e),t},e.prototype.dropScripts=function(e,t,i,r,n,a,o,l){var d;try{if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){d=document.createElement("script"),a&&(d.async=!0),o&&(d.defer=!0),n&&(d.id=n),d.type="text/javascript",d.src=t;var m=document.getElementsByTagName("script")[0];e==s.DocumentType.FRIENDLYFRAME&&(m=s.Utility.window.top.document.getElementsByTagName("head")[0]),m.parentNode.insertBefore(d,m),r&&s.Utility.getInstance().debugConsoleMessage("Dropped script: "+i)}}catch(e){l?console.log(l+e):console.log("dropScripts : error : "+e)}return d},e.prototype.dropNoScripts=function(e,t,i,r,n){try{if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){var a=document.createElement("noscript");n&&(a.id=n),a.innerHTML=t;var o=document.getElementsByTagName("script")[0];e==s.DocumentType.FRIENDLYFRAME&&(o=s.Utility.window.top.document.getElementsByTagName("head")[0]),o.parentNode.insertBefore(a,o),r&&s.Utility.getInstance().debugConsoleMessage("Dropped no-script: "+i)}}catch(e){console.log("dropNoScripts : error : "+e)}},e.prototype.isValidEmail=function(e){return!!e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)},e.prototype.isValidPhone=function(e){return e.match(/^\d{10}$/)||e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)||e.match(/^\+?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)?e=e.replace(/\D/g,""):null},e.prototype.calculateRandomAppliedPercentage=function(e){var t=!1;if(e&&""!=e)try{var i=+e;if(e>=0&&e<=100&&Math.floor(100*Math.random())+1<=i)return!0}catch(i){return console.log("calculateRandomAppliedPercentage :: ERROR ::",e),t}return t},e.prototype.isJsFileExistsInDom=function(e,t,i){var r=document;try{if(e==s.DocumentType.FRIENDLYFRAME&&(r=s.Utility.window.top.document),t&&t in r.getElementsByTagName("script"))return i&&s.Utility.getInstance().debugConsoleMessage("Script will not be dropped, as it exists in dom :: Script ID :: "+t+" :: documentType  :: "+e),!0}catch(e){console.log("isJsFileExistsInDom : error : "+e)}return!1},e.prototype.getScrollDepth=function(){return document.documentElement.scrollTop},e.prototype.getPageHeight=function(){return Math.max(document.body&&document.body.scrollHeight?document.body.scrollHeight:0,document.documentElement&&document.documentElement.scrollHeight?document.documentElement.scrollHeight:0,document.body&&document.body.offsetHeight?document.body.offsetHeight:0,document.documentElement&&document.documentElement.offsetHeight?document.documentElement.offsetHeight:0,document.body&&document.body.clientHeight?document.body.clientHeight:0,document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0)},e.window=window,e.ICJQuery=window.InvestingChannel.JQueryStatic.noConflict(),e}();t.default=m},34:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashedEmailType=t.AdBlockerStatus=t.APIStatus=t.ErrorType=t.USPStatus=t.PlacementConfig=t.TemplateConfig=t.RefreshType=t.DeviceType=t.DFPPlacementParams=t.DFPTemplateParams=t.TagType=t.ReferrerType=t.PlacementType=t.PlacementState=t.PageType=t.LoadType=t.InsertionType=t.FrequencyType=t.FrequencyCapUnit=t.DocumentType=t.CallbackType=t.Constant=t.Utility=void 0;var r=i(318);t.Utility=r.default;var n=i(148);t.Constant=n.default;var s=i(359);t.CallbackType=s.default;var a=i(293);t.DocumentType=a.default;var o=i(652);t.FrequencyCapUnit=o.default;var l=i(32);t.FrequencyType=l.default;var d=i(159);t.InsertionType=d.default;var m=i(528);t.LoadType=m.default;var u=i(55);t.PageType=u.default;var c=i(796);t.PlacementState=c.default;var p=i(545);t.PlacementType=p.default;var g=i(695);t.ReferrerType=g.default;var h=i(346);t.TagType=h.default;var f=i(336);t.DFPTemplateParams=f.default;var S=i(991);t.DFPPlacementParams=S.default;var y=i(586);t.DeviceType=y.default;var b=i(13);t.RefreshType=b.default;var T=i(16);t.TemplateConfig=T.default;var I=i(295);t.PlacementConfig=I.default;var v=i(172);t.USPStatus=v.default;var P=i(136);t.ErrorType=P.default;var E=i(576);t.APIStatus=E.default;var A=i(229);t.AdBlockerStatus=A.default;var C=i(441);t.HashedEmailType=C.default},412:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(34),n=function(){function e(e,t,i,n,s,a,o){this.mSize=[],this.mIsOOP=!1,this.mEnableServices=!0,this.mIsOOPWI=!1,this.mAdUnit=e,this.mDivId=t,this.mEnableServices=n,this.mGPTTagType="GPTA",a&&(null==o||o.length<=0)?(this.mIsOOPWI=!0,this.mSize=[1,1]):null==o||o.length<=0?(this.mSize=[1,1],this.mIsOOP=!0):this.mSize=o,this.mDFPNetworkId=r.Utility.getInstance().getNetWorkCode(s),this.defineSlot()}return e.prototype.defineSlot=function(){var e=this;this.mIsOOPWI?googletag.cmd.push((function(){e.mDFPSlot=googletag.defineOutOfPageSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,googletag.enums.OutOfPageFormat.INTERSTITIAL).addService(googletag.pubads())})):this.mIsOOP?googletag.cmd.push((function(){e.mDFPSlot=googletag.defineOutOfPageSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,e.mDivId).addService(googletag.pubads())})):googletag.cmd.push((function(){e.mDFPSlot=googletag.defineSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,e.mSize,e.mDivId).addService(googletag.pubads())})),this.mEnableServices&&googletag.cmd.push((function(){googletag.enableServices()}))},e.prototype.setTargeting=function(e){var t=this;googletag.cmd.push((function(){for(var i in e)e.hasOwnProperty(i)&&t.mDFPSlot.setTargeting(i,e[i])}))},e.prototype.setTargetingByKey=function(e,t){var i=this;googletag.cmd.push((function(){i.mDFPSlot.setTargeting(e,t)}))},e.prototype.setCollapseEmptyDiv=function(e,t){var i=this;googletag.cmd.push((function(){i.mDFPSlot.setCollapseEmptyDiv(e,t)}))},e.prototype.getTargeting=function(){var e=this;googletag.cmd.push((function(){var t=e.mDFPSlot.getTargetingKeys(),i={};for(var r in t)i[t[r]]=e.mDFPSlot.getTargeting(t[r]);return i}))},e.prototype.clearTargeting=function(){this.mDFPSlot.clearTargeting()},e.prototype.clearTargetingByKey=function(e){this.mDFPSlot.clearTargeting(e)},e.prototype.clearTargetingByKeyPrefix=function(e){var t=googletag.pubads().getTargetingKeys();for(var i in t)0==i.indexOf(e)&&this.clearTargetingByKey(i)},e.prototype.render=function(){var e=this;googletag.cmd.push((function(){googletag.display(e.mDivId),googletag.pubads().isInitialLoadDisabled()&&e.refresh()}))},e.prototype.refresh=function(){googletag.pubads().refresh([this.mDFPSlot],{changeCorrelator:!1})},e.prototype.destroy=function(){var e=this;googletag.cmd.push((function(){googletag.destroySlots([e.mDFPSlot])}))},e.prototype.registerEvent=function(e,t){var i=this;googletag.cmd.push((function(){googletag.pubads().addEventListener(e,(function(e){e.slot==i.mDFPSlot&&"function"==typeof t&&t(e)}))}))},e.prototype.defineSizeMapping=function(e){var t=this;googletag.cmd.push((function(){t.mDFPSlot.defineSizeMapping(t.buildSizeMapping(e))}))},e.prototype.buildSizeMapping=function(e){for(var t=googletag.sizeMapping(),i=0,r=e;i<r.length;i++){var n=r[i];t=t.addSize(n[0],n[1])}return t.build()},e.prototype.getDFPSlot=function(){return this.mDFPSlot},e.prototype.getDivId=function(){return this.mDivId},e}();t.default=n},565:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=i(34),s=function(){function e(e,t,i,r,n,s,a,o,l,d){this.isSingleRequestEnabled=e,this.mSingleRequestCallback=t,this.isInitialLoadDisabled=i,this.isShowPersonalizedAds=r,this.isUSPEnabled=n,this.mGPTTagType="GPTA",this.mUtil=a,this.mTemplate=o,this.isGDPRDenied=l,this.isSingleRequestEnabled&&this.enableSingleRequest(),this.isInitialLoadDisabled&&this.disableInitialLoad(),this.isShowPersonalizedAds&&this.configureNonPersonalizedAdV2(),this.isUSPEnabled&&this.configureRestrictDataProcessing(),d&&d.length>0&&this.setPageUrl(d),this.isGDPRDenied&&this.configureNonPersonalizedAdV2()}return e.createInstance=function(t,i,r,n,s,a,o,l,d,m){return null==this.mDatManager?this.mDatManager=new e(t,i,r,n,s,a,o,l,d,m):(this.mDatManager.isShowPersonalizedAds=n,this.mDatManager.isShowPersonalizedAds&&!d||this.mDatManager.configureNonPersonalizedAdV2()),this.mDatManager},e.getInstance=function(){return this.mDatManager},e.dropDFPScript=function(e){(r=window.googletag=window.googletag||{}).cmd=r.cmd||[];var t=document.getElementsByTagName("script")?document.getElementsByTagName("script")[0]:null,i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=this.mDFPScript,t?t.parentNode.insertBefore(i,t):document.head.appendChild(i),1==e&&n.Utility.getInstance().debugConsoleMessage("Dropped script: gpt.js")},e.prototype.enableSingleRequest=function(){var e=this;try{r.cmd.push((function(){e.isSingleRequestEnabled=r.pubads().enableSingleRequest(),"function"==typeof e.mSingleRequestCallback&&e.mSingleRequestCallback(e.isSingleRequestEnabled)}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.enableSingleRequest",e.message)}},e.prototype.disableInitialLoad=function(){try{r.cmd.push((function(){r.pubads().disableInitialLoad()}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.disableInitialLoad",e.message)}},e.prototype.configurePersonalizedAd=function(){try{r.cmd.push((function(){r.pubads().setRequestNonPersonalizedAds(1)}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configurePersonalizedAd",e.message)}},e.prototype.configureNonPersonalizedAd=function(){try{r.cmd.push((function(){r.pubads().setRequestNonPersonalizedAds(0)}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configureNonPersonalizedAd",e.message)}},e.prototype.configureNonPersonalizedAdV2=function(){try{r.cmd.push((function(){r.pubads().setPrivacySettings({nonPersonalizedAds:!0})}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configureNonPersonalizedAd",e.message)}},e.prototype.configureRestrictDataProcessing=function(){try{r.cmd.push((function(){r.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configureRestrictDataProcessing",e.message)}},e.prototype.setPageUrl=function(e){try{r.cmd.push((function(){r.pubads().set("page_url",e)}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.setPageUrl",e.message)}},e.prototype.callDFPRender=function(e){var t=this;r.cmd.push((function(){t.dfpRender(e)}))},e.prototype.dfpRender=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i].getDFPSlot();n&&t.push(n)}if(t.length>0){for(i=0;i<t.length;++i)r.display(t[i]);r.pubads().isInitialLoadDisabled()&&r.pubads().refresh(t,{changeCorrelator:!1})}},e.prototype.callDFPRefresh=function(e){var t=this;r.cmd.push((function(){t.dfpRefresh(e)}))},e.prototype.initialLoadDisabled=function(){return!(!r||!r.apiReady)&&r.pubads().isInitialLoadDisabled()},e.prototype.dfpRefresh=function(e){for(var t=[],i="",n=0;n<e.length;++n){var s=e[n].getDFPSlot();s&&(""==i&&(i=e[n].getDivId()),t.push(s))}t.length>0&&r.pubads().refresh(t)},e.mDFPScript="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.mDatManager=null,e}();t.default=s},804:function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,r,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=i(105),o=i(34),l=function(){function e(){this.adFormObject={},this.IsADFAvailable=!1,this.adFormWaitTimeout=6e4,this.adFormThresholdfInitiate=0,this.IsAdFormIntervalInitiated=!1}return e.getInstance=function(){return null==s&&(s=new e),s},e.prototype.dropAdFormAudienceScript=function(e,t){var i="IC_adform_audience";try{o.Utility.getInstance().isJsFileExistsInDom(e,i,t)||o.Utility.getInstance().dropScripts(e,o.Constant.ADFORM_AUDIENCE_TAG_SCRIPT,"adformat.js",t,i,!1,!0)}catch(e){console.log("dropAdFormAudienceScript :error : "+e)}},e.prototype.dropAdFormUidScript=function(e,t){var i="IC_adform_uid";try{o.Utility.getInstance().isJsFileExistsInDom(e,i,t)||o.Utility.getInstance().dropScripts(e,o.Constant.ADFORM_UID_SCRIPT,"adfaction uid",t,i,!1,!0)}catch(e){console.log("dropAdFormUidScript :error : "+e)}},e.prototype.dropAdFormTrackingScript=function(e,t,i,r){var n=a.Template.getDropScriptWindow();n._adftrack="_adftrack"in n?Array.isArray(n._adftrack)?n._adftrack:n._adftrack?[n._adftrack]:[]:[],n._adftrack.push({HttpHost:"track.adform.net",pm:+r,divider:encodeURIComponent("|"),pagename:encodeURIComponent(i)});var s="IC_adform_trackpoint_async";try{o.Utility.getInstance().isJsFileExistsInDom(e,s,t)||o.Utility.getInstance().dropScripts(e,o.Constant.ADFORM_TRACKINGPOINT_SCRIPT,"trackpoint-async.js",t,s,!1,!0)}catch(e){console.log("IC_adform_trackpoint_async :error : "+e)}s="IC_adform_trackpoint";var l='<p style="margin:0;padding:0;border:0;" > <img id="adformimg" src = "'+o.Constant.ADFORM_TRACKINGPOINT_PIXEL_SCRIPT+"?pm="+r+"&ADFPageName="+i+'" width = "1" height = "1" alt = "" />  </p>';try{o.Utility.getInstance().dropNoScripts(e,l,"trackpoint loadimage",t,s)}catch(e){console.log("IC_adform_trackpoint :error : "+e)}},e.prototype.postAdFormVariable=function(){var e=this,t=o.Utility.window.top,i=a.Template.mAdFormTrackingId,s=a.Template.mAdFormPageName;if(this.IsADFAvailable)this.submitAdFormVariable(i,s);else{if(this.IsAdFormIntervalInitiated)return;this.IsAdFormIntervalInitiated=!0;var l=setInterval((function(){return r(e,void 0,void 0,(function(){return n(this,(function(e){try{if(this.adFormThresholdfInitiate=this.adFormThresholdfInitiate+1e3,this.IsADFAvailable||this.adFormThresholdfInitiate>=this.adFormWaitTimeout)return clearInterval(l),[2];a.Template.mIsAdformEnabled&&a.Template.mIsAdformDropped&&t&&t.adf&&(clearInterval(l),this.IsADFAvailable=!0,this.submitAdFormVariable(i,s))}catch(e){}return[2]}))}))}),1e3)}},e.prototype.submitAdFormVariable=function(e,t){o.Utility.window.top.adf.ClickTrack(this,+e,t,this.adFormObject),this.adFormObject={}},e.prototype.addDmpProperty=function(e){var t={usn:"sv1",rft:"sv2",viewcount:"sv3",zone:"sv4",cookietype:"sv5",t:"sv6",contenttype:"sv7",company:"sv8",mccs_key:"sv9",mktvolatile:"sv10",qsearchc:"sv11",sector:"sv12"};for(var i in e){var r=e[i];if(i.toLocaleLowerCase()in t){var n=t[i.toLocaleLowerCase()];if("t"==i.toLowerCase()){var s=[];try{n in this.adFormObject&&Object.keys(this.adFormObject[n]).length>0&&(s=this.adFormObject[n])}catch(e){}if(r.constructor!==Array&&(r=[r]),s=s.concat(r),(s=(s=this.removeDuplicateFromArray(s)).map((function(e){return e.toUpperCase()}))).length>0)try{this.adFormObject[n]=s.join(",")}catch(e){}}else this.adFormObject[n]=r}}Object.keys(this.adFormObject).length>0&&this.postAdFormVariable()},e.prototype.removeDuplicateFromArray=function(e){if(!e)return e;for(var t=[],i=[],r=0;r<e.length;++r)t.indexOf(e[r].toLowerCase())>=0||(t.push(e[r].toLowerCase()),i.push(e[r]));return i},e}();t.default=l},946:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=i(34),s=function(){function e(){this.mIsCMPEnabled=!1,this.mIC_Window=window,this.delay=500,this.delayCounter=20,this.GPP_CONSENT_KNOWN="IC_GPP_Consent_Known",this.GPP_CONSENT_OPTOUT="IC_GPP_Consent_Optout"}return e.getInstance=function(t,i,s,a,o){return null==r&&((r=new e).mDocumentType=a,a==n.DocumentType.FRIENDLYFRAME&&(r.mIC_Window=window.top),r.mUtil=i,r.mIsUATDebugModeEnabled=s,r.postConsentCallBack=o,r.setConfig(t)),r},e.getCmpInstance=function(){return r},e.prototype.isAnyCMPEnabled=function(){return this.mFeatures.getUSPPrivacy().isIcUspEnabled},e.prototype.setConfig=function(e){e.IsEnabled&&e.IsGPPEnabled&&this.mDocumentType!=n.DocumentType.IFRAME?this.mIsCMPEnabled=!0:this.mIsCMPEnabled=!1,this.mIsCMPEnabled&&(e.IsIcUspEnabled?this.loadAdmiralCMP():this.registerGPPEvent())},e.prototype.loadAdmiralCMP=function(){var e=this;null!=this.mIC_Window.admiral?this.mIC_Window.admiral("after","cmp.loaded",(function(t){e.registerGPPEvent()})):(this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("Admiral GPP CMP script not loaded."),this.registerGPPEvent())},e.prototype.registerGPPEvent=function(){var e=this;"function"==typeof this.mIC_Window.__gpp?this.mIC_Window.__gpp("addEventListener",(function(t,i){var r=null;if(i){try{e.mIsUATDebugModeEnabled&&e.mUtil.debugConsoleMessage("Admiral GPP TC Data read successfully ",[t])}catch(e){}if("pingData"in t&&"gppString"in t.pingData){var n=t.pingData;if("parsedSections"in n)try{var s=n.parsedSections[Object.keys(n.parsedSections)[0]];Array.isArray(s)&&(s=s[0]),e.mUtil.saveToLocalStorage(e.GPP_CONSENT_KNOWN,!0),"SaleOptOut"in s&&"SharingOptOut"in s&&(1==s.SaleOptOut||1==s.SharingOptOut?(r="1YYY",e.mUtil.saveToLocalStorage(e.GPP_CONSENT_OPTOUT,!0)):e.mUtil.saveToLocalStorage(e.GPP_CONSENT_OPTOUT,!1),"function"==typeof e.postConsentCallBack&&e.postConsentCallBack(r))}catch(e){}}return r}return null})):this.delayCounter>0?(this.delayCounter--,this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("GPP CMP Not Loaded Waiting for 500ms - Total waiting time: "+500*(20-this.delayCounter)),setTimeout((function(){return e.registerGPPEvent()}),this.delay)):this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("GPP CMP :: window.__gpp function is undefiened.")},e.prototype.processForGPP=function(e,t,i,s){if(this.mUser=e,this.mFeatures=t,this.mDocumentType=s,r.isAnyCMPEnabled())try{i&&n.Utility.getInstance().debugConsoleMessage("Admiral GDPR CMP loaded.")}catch(e){}else{try{i&&n.Utility.getInstance().debugConsoleMessage("Publisher GPP CMP.")}catch(e){}this.registerGPPEvent()}},e}();t.default=s},78:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,s=i(34),a=function(){function e(){this.mEnabledCMP=n.NONE,this.mIsCMPEnabled=!0,this.mIC_Window=window,this.mWaitingForData=!1,this.mAdmiralLocalStorageTCStringKey="IC_CMP_Admiral_tcString",this.mAdmiralLocalStorageGdprAppliesKey="IC_CMP_Admiral_gdprApplies",this.mAdmiralGdprConsentsKnownKey="IC_CMP_Admiral_ConsentsKnown",this.mAdmiralDfpApplicableKey="IC_CMP_Admiral_DFPApplicable",this.mAdmiralScriptLoaded=!1,this.mWaitingToShowAdmiralPopup=!1}return e.prepareInstance=function(t,i,n,s,a){return null==r&&((r=new e).mDocumentType=s,"ff"==s&&(r.mIC_Window=window.top),r.mUtil=i,r.mIsUATDebugModeEnabled=n,r.setConfig(t,a)),r},e.getInstance=function(){return r},e.prototype.isAnyCMPEnabled=function(){return this.mEnabledCMP!=n.NONE},e.prototype.showCmpPopup=function(){this.mEnabledCMP==n.ADMIRAL&&(this.mAdmiralScriptLoaded?this.showAdmiralPopup():this.mWaitingToShowAdmiralPopup=!0)},e.prototype.getCmpData=function(){if(this.mEnabledCMP==n.ADMIRAL)return{cmpVersion:2,tcString:this.mUtil.getFromLocalStorage(this.mAdmiralLocalStorageTCStringKey),gdprApplies:this.mUtil.getFromLocalStorage(this.mAdmiralLocalStorageGdprAppliesKey)}},e.prototype.registerGdprCmpCallback=function(e,t){"function"==typeof e&&(this.mCMPCallback=e,this.mCMPCallbackParams=t)},e.prototype.setConfig=function(e,t){e.IsEnabled&&"if"!=this.mDocumentType?this.mIsCMPEnabled=!0:this.mIsCMPEnabled=!1,this.mIsCMPEnabled&&"Admiral"in e&&"IsEnabled"in e.Admiral&&e.Admiral.IsEnabled&&(this.mEnabledCMP=n.ADMIRAL,this.loadAdmiralCMP(e.Admiral.url,e.adTagName,t))},e.dropAdmiralScript=function(e,t,i,r,n){var s=window;if("ff"==i&&(s=window.top),"function"!=typeof s.admiral){r&&(s.__cmpGdprAppliesGlobally=!0),s.admiral=function(){(s.admiral.q=s.admiral.q||[]).push(arguments)};var a=s.document.getElementsByTagName("script")[0],o=document.createElement("script");o.id="IC_Admiral_Script_Id",o.src=e+t+".js",o.type="text/javascript",1==n?o.async=!0:o.defer=!0,a&&a.parentNode.insertBefore(o,a)}},e.prototype.loadAdmiralCMP=function(t,i,r){var n=this;e.dropAdmiralScript(t,i,this.mDocumentType,!0,r),this.mIC_Window.admiral("after","cmp.loaded",(function(e){n.mAdmiralScriptLoaded=!0,e&&(e.consentKnown?n.receivedAdmiralCmpData():(n.mIC_Window.admiral("after","cmp.updated",(function(e){n.mUtil.saveToLocalStorage(n.mAdmiralGdprConsentsKnownKey,!0),n.receivedAdmiralCmpData()})),n.mWaitingToShowAdmiralPopup&&n.showAdmiralPopup()))}))},e.prototype.receivedAdmiralCmpData=function(){var e=this;"function"==typeof this.mIC_Window.__tcfapi?this.mIC_Window.__tcfapi("addEventListener",2,(function(t,i){if(i){try{e.mIsUATDebugModeEnabled&&e.mUtil.debugConsoleMessage("Admiral GDPR TC Data read successfully ",[t])}catch(e){}var r="",n=!1;try{if(("useractioncomplete"==t.eventStatus||"tcloaded"==t.eventStatus)&&"tcString"in t&&"gdprApplies"in t&&e.mUtil.isLocalStorageSupported()){r=t.tcString,n=t.gdprApplies,e.mUtil.saveToLocalStorage(e.mAdmiralLocalStorageTCStringKey,r),e.mUtil.saveToLocalStorage(e.mAdmiralLocalStorageGdprAppliesKey,n);var s=!1;t.vendor.consents[755]&&t.purpose.consents[1]&&(s=!0),e.mUtil.saveToLocalStorage(e.mAdmiralDfpApplicableKey,s)}}catch(e){}e.mCMPCallback&&e.mCMPCallback(e.mCMPCallbackParams)}})):(this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("receivedAdmiralCmpData :: window.__tcfapi function is undefined."),s.Utility.getInstance().ic_ga_event("Warning","GdprCmp.receivedAdmiralCmpData","window.__tcfapi function is undefined"))},e.prototype.showAdmiralPopup=function(){var e=this;this.mIC_Window.admiral("after","cmp.loaded",(function(t){!t||t.euVisitor||t.consentKnown||e.mIC_Window.admiral("show","cmp.main")}))},e.prototype.publisherCmpGetConsents=function(e,t){var i=this;if("function"!=typeof this.mIC_Window.__tcfapi)return this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("publisherCmpGetConsents :: window.__tcfapi function is undefined."),void s.Utility.getInstance().ic_ga_event("Warning","GdprCmp.publisherCmpGetConsents","window.__tcfapi function is undefined");this.mIC_Window.__tcfapi("addEventListener",2,(function(r,n){if(n&&("useractioncomplete"==r.eventStatus||"tcloaded"==r.eventStatus)){var s=r.tcString&&r.vendor.consents[755]&&r.purpose.consents[1];try{i.mIsUATDebugModeEnabled&&i.mUtil.debugConsoleMessage("Publisher GDPR CMP, received user consents and DFP is "+(s?"Applicable.":"Not applicable."))}catch(e){}if(s){var a={cmpVersion:2,tcString:r.tcString,gdprApplies:r.gdprApplies};"function"==typeof e&&e(t,a)}else"function"==typeof i.mCMPDeniedCallback&&i.mCMPDeniedCallback(t)}}))},e.prototype.setDeniedCallback=function(e){this.mCMPDeniedCallback=e},e}();t.default=a,function(e){e.NONE="NONE",e.ADMIRAL="ADMIRAL"}(n||(n={}))},263:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=i(105),a=i(34),o=function(){function e(e){this.mPlacements={},this.mPlacementCl=s.Placement,this.mTemplateCl=s.Template,this.mA9=null,this.mMarkit=null,this.mMarkitDFPKeys=[],this.mPlacementCallback={},this.mPrebid=null,this.mSspsLogsParams={},this.adRefreshcount=0,this.mLoadedAdapters=[],this.mEnabledSSPS=[],this.mIsS2SEnabled=!1,this.mMarkitKeyValNoFilter={},this.mDeviceType=e.deviceType,this.mBidExpiry=e.bidsExpiry,this.createSSPObjects(e)}return e.prototype.createSSPObjects=function(e){if(I=e.isDebugModeEnabled,z=e.globalAdSizes,null==this.mA9&&e.a9&&e.a9.IsEnabled&&(E=e.a9.globalAdSizes,this.mA9=new f(this.mDeviceType,e.a9)),null==this.mPrebid){var t={};t.appnexusConfig=e.appnexus&&e.appnexus.IsEnabled?e.appnexus:null,t.rubiconConfig=e.rubicon&&e.rubicon.IsEnabled?e.rubicon:null,t.pubmaticConfig=e.pubmatic&&e.pubmatic.IsEnabled?e.pubmatic:null,t.openxConfig=e.openx&&e.openx.IsEnabled?e.openx:null,t.criteoConfig=e.criteo&&e.criteo.IsEnabled?e.criteo:null,t.sovrnConfig=e.sovrn&&e.sovrn.IsEnabled?e.sovrn:null,t.yieldmoConfig=e.yieldmo&&e.yieldmo.IsEnabled?e.yieldmo:null,t.across33Config=e.across33&&e.across33.IsEnabled?e.across33:null,t.aolConfig=e.aol&&e.aol.IsEnabled?e.aol:null,t.gumgumConfig=e.gumgum&&e.gumgum.IsEnabled?e.gumgum:null,t.tripleliftConfig=e.triplelift&&e.triplelift.IsEnabled?e.triplelift:null,t.smartadserverConfig=e.smartadserver&&e.smartadserver.IsEnabled?e.smartadserver:null,t.improveDigitalConfig=e.improvedigital&&e.improvedigital.IsEnabled?e.improvedigital:null,t.shareThroughConfig=e.sharethrough&&e.sharethrough.IsEnabled?e.sharethrough:null,t.mediaNetConfig=e.medianet&&e.medianet.IsEnabled?e.medianet:null,t.adaptmxConfig=e.adaptmx&&e.adaptmx.IsEnabled?e.adaptmx:null,t.outbrainConfig=e.outbrain&&e.outbrain.IsEnabled?e.outbrain:null,t.automatAdConfig=e.automatad&&e.automatad.IsEnabled?e.automatad:null,null==t.appnexusConfig&&null==t.rubiconConfig&&null==t.pubmaticConfig&&null==t.openxConfig&&null==t.criteoConfig&&null==t.sovrnConfig&&null==t.adaptmxConfig&&null==t.yieldmoConfig&&null==t.across33Config&&null==t.aolConfig&&null==t.gumgumConfig&&null==t.improveDigitalConfig&&null==t.tripleliftConfig&&null==t.outbrainConfig&&null==t.smartadserverConfig&&null==t.shareThroughConfig&&null==t.mediaNetConfig&&null==t.automatAdConfig||(this.mPrebid=new h(this.mDeviceType,e,t),this.mPrebid.isAppnexusEnable()&&(A=e.appnexus.globalAdSizes),this.mPrebid.isOpenXEnable()&&(C=e.openx.globalAdSizes),this.mPrebid.isPubmaticEnable()&&(P=e.pubmatic.globalAdSizes),this.mPrebid.isRubiconEnable()&&(v=e.rubicon.globalAdSizes),this.mPrebid.isCriteoEnable()&&(D=e.criteo.globalAdSizes),this.mPrebid.isSovrnEnable()&&(_=e.sovrn.globalAdSizes),this.mPrebid.isYieldmoEnable()&&(U=e.yieldmo.globalAdSizes),this.mPrebid.is33AcrossEnable()&&(R=e.across33.globalAdSizes),this.mPrebid.isAolEnable()&&(O=e.aol.globalAdSizes),this.mPrebid.isGumgumEnable()&&(L=e.gumgum.globalAdSizes),this.mPrebid.isTripleliftEnable()&&(w=e.triplelift.globalAdSizes),this.mPrebid.isAdaptmxEnable()&&(N=e.adaptmx.globalAdSizes),this.mPrebid.isSmartAdServerEnable()&&(F=e.smartadserver.globalAdSizes),this.mPrebid.isImproveDigitalEnable()&&(k=e.improvedigital.globalAdSizes),this.mPrebid.isSharethroughEnable()&&(M=e.sharethrough.globalAdSizes),this.mPrebid.isMedianetEnable()&&(x=e.medianet.globalAdSizes),this.mPrebid.isOutbrainEnable()&&(G=e.outbrain.globalAdSizes),this.mPrebid.isAutomatadEnable()&&(V=e.automatad.globalAdSizes))}null==this.mMarkit&&e.markit&&e.markit.IsEnabled&&(this.mMarkit=new S,this.mMarkitDFPKeys=e.markit.DFPKeyName.map((function(e){return e.toUpperCase()})))},e.createInstance=function(t){return null==e.mSSP?(e.mSSP=new e(t),e.mSSP.mPlacements={}):e.mSSP.createSSPObjects(t),e.mSSP},e.getInstance=function(){return e.mSSP},e.getListOfSsps=function(){return["rubicon","pubmatic","a9","appnexus","openx","criteo","sovrn","yieldmo","33across","aol","gumgum","improvedigital","triplelift","smartadserver","sharethrough","adaptmx","medianet","outbrain","automatad"]},e.getRubiconAdSizes=function(){return v},e.getPubmaticAdSizes=function(){return P},e.getA9AdSizes=function(){return E},e.getAppnexusAdSizes=function(){return A},e.getOpenXAdSizes=function(){return C},e.getCriteoAdSizes=function(){return D},e.getSovrnAdSizes=function(){return _},e.getYieldmoAdSizes=function(){return U},e.get33AcrossAdSizes=function(){return R},e.getAolAdSizes=function(){return O},e.getGumgumAdSizes=function(){return L},e.getTripleliftAdSizes=function(){return w},e.getAdaptmxAdSizes=function(){return N},e.getSmartAdServerAdSizes=function(){return F},e.getImproveDigitalAdSizes=function(){return k},e.getShareThroughAdSizes=function(){return M},e.getMediaNetAdSizes=function(){return x},e.getOutbrainAdSizes=function(){return G},e.getAutomatAdAdSizes=function(){return V},e.getGlobalAdSizes=function(){return z},e.prototype.deletePlacement=function(e){this.mPlacements[e]&&delete this.mPlacements[e]},e.prototype.getLoadedAdapters=function(){return this.mLoadedAdapters},e.prototype.isPrebidS2SEnabled=function(){return e.isPrebidS2SEnabled},e.getPrebidSource=function(){return p},e.prototype.getEnumStatus=function(){return d},e.prototype.createLoadedAdapters=function(t){var i=[];if(t&&t.length>0)for(var r=0;r<t.length;r++)if(t[r].indexOf("BidAdapter")>-1){var n=t[r].split("BidAdapter")[0];i.push(n)}var a=s.Template.getEligibleS2SBidders();return a.length>0&&(t&&t.indexOf("prebidServerBidAdapter")>-1&&(this.mIsS2SEnabled=!0),i=i.concat(a)),I&&y.getInstance().debugConsoleMessage("Prebid S2S adapter loaded for bidding ",[this.mIsS2SEnabled]),e.isPrebidS2SEnabled=this.mIsS2SEnabled,i},e.prototype.fetchBids=function(e,t,i,r){var n=a.Utility.window.top.ic_pbjs.installedModules;this.mEnabledSSPS=r;var s=void 0!==n?this.createLoadedAdapters(n):[];this.mSspsLogsParams=i,(!this.mPageUrl||this.mPageUrl&&this.mPageUrl!=t)&&(this.mPageUrl=t);for(var o=[],d=0;d<e.length;++d){var m=e[d];if(!this.mPlacements[m.divId]){s.length>0&&(this.mLoadedAdapters[m.divId]=s);for(var u=[],c=0;c<m.adSize.length;++c)(l[m.adSize[c]]||0===m.adSize[c].indexOf("3x"))&&(u[u.length]=m.adSize[c]);u.length<=0||(this.mPlacements[m.divId]={size:u,position:m.position,tile:m.tile,primaryAdSize:m.primaryAdSize,isSspHVPlacement:m.isSspHVPlacement,thirdPartyCookie:m.thirdPartyCookie,isAdhesion:m.isAdhesion,nativeLayout:m.nativeLayout,tag:m.tag},this.setDefaultValues(m.divId,!1,s),o.push(m))}}o.length>0&&this.callEnabledSSP(o,!1,this.adRefreshcount)},e.prototype.refreshBids=function(e,t,i,r){var n=a.Utility.window.top.ic_pbjs.installedModules,o=this.createLoadedAdapters(n),l=[],d=this.mPlacements[e];if(d){o.length>0&&(this.mLoadedAdapters[e]=o);var m={adSize:d.size,divId:e,position:d.position,tile:d.tile,primaryAdSize:d.primaryAdSize,isSspHVPlacement:i,thirdPartyCookie:d.thirdPartyCookie,isAdhesion:d.isAdhesion,nativeLayout:d.nativeLayout,tag:d.tag};l.push(m);var u=s.Template.checkAndPrepareDummyPlacements(m);null!=u&&l.push(u),e in this.mLoadedAdapters&&(o=this.mLoadedAdapters[e],this.setDefaultValues(e,!0,o,t)),this.setDefaultValues(e,!0,o,t),this.callEnabledSSP(l,!0,r,t)}},e.prototype.getStatus=function(e){var t=this.mPlacements[e];return t?this.mMarkit&&this.getMarkitStatusFromWindow()==d.INPROGRESS?this.getMarkitStatusFromWindow():t.status:d.NOT_APPLICABLE},e.prototype.destroy=function(){if(null!=this.mMarkit){var t=window.top;t.ic_markit_status=d.INITIALIZED,t.ic_markit_values=null;var i=document.getElementById("IC_MarkitScript");i&&i.parentNode.removeChild(i)}e.mSSP&&delete e.mSSP},e.prototype.initializedMarkitVariables=function(){var e=s.Template.getDropScriptWindow();e.ic_markit_status=e.ic_markit_status||d.INITIALIZED,e.ic_markit_values=e.ic_markit_values||null},e.prototype.getMarkitStatusFromWindow=function(){var e=s.Template.getDropScriptWindow();return e.ic_markit_status?e.ic_markit_status:null},e.prototype.setMarkitStatusOnWindow=function(e){var t=s.Template.getDropScriptWindow();t.ic_markit_status&&(t.ic_markit_status=e)},e.prototype.getMarkitValueFromWindow=function(){var e=s.Template.getDropScriptWindow();return e.ic_markit_values?e.ic_markit_values:null},e.prototype.setMarkitValueOnWindow=function(e){s.Template.getDropScriptWindow().ic_markit_values=e},e.prototype.isA9BidsExpired=function(e){var t=(new Date).getTime();return!(!e.a9||!(null!=e.a9.bidsReceivedTime&&t-e.a9.bidsReceivedTime>this.mBidExpiry||e.a9.status==d.USED))},e.prototype.isPrebidBidsExpired=function(e){var t=(new Date).getTime();return!(!e.prebid||!(null!=e.prebid.bidsReceivedTime&&t-e.prebid.bidsReceivedTime>this.mBidExpiry||e.prebid.status==d.USED))},e.prototype.isBidsExpired=function(e){var t=this.mPlacements[e];return!(!t||!this.isA9BidsExpired(t)&&!this.isPrebidBidsExpired(t))},e.prototype.getPlacements=function(e){return this.mPlacements[e]},e.prototype.getBids=function(e,t){var i=this.mPlacements[e],r={};if(r.placement=i,null!=this.mMarkit&&null!=this.getMarkitValueFromWindow()&&(r.markit=this.getMarkitValueFromWindow()),t&&(this.mPlacementCallback[e]={callback:t}),!i)return r;if(null!=this.mA9){var n=i.a9;r.a9=n.bids,i.a9.status=d.USED}if(null!=this.mPrebid){var s=i.prebid;if(r.prebid=r.prebid||{},this.mPrebid.isAppnexusEnable()){var a=s.appnexus;r.prebid.nx=a.bids}if(this.mPrebid.isRubiconEnable()){var o=s.rubicon;r.prebid.rb=o.bids}if(this.mPrebid.isPubmaticEnable()){var l=s.pubmatic;r.prebid.pm=l.bids}if(this.mPrebid.isOpenXEnable()){var m=s.openx;r.prebid.oxb=m.bids}if(this.mPrebid.isCriteoEnable()){var u=s.criteo;r.prebid.ct=u.bids}if(this.mPrebid.isSovrnEnable()){var c=s.sovrn;r.prebid.sv=c.bids}if(this.mPrebid.isYieldmoEnable()){var p=s.yieldmo;r.prebid.ym=p.bids}if(this.mPrebid.is33AcrossEnable()){var g=s.across33;r.prebid.ta=g.bids}if(this.mPrebid.isAolEnable()){var h=s.aol;r.prebid.aol=h.bids}if(this.mPrebid.isGumgumEnable()){var f=s.gumgum;r.prebid.gg=f.bids}if(this.mPrebid.isTripleliftEnable()){var S=s.triplelift;r.prebid.tl=S.bids}if(this.mPrebid.isAdaptmxEnable()){var y=s.amx;r.prebid.amx=y.bids}if(this.mPrebid.isSmartAdServerEnable()){var b=s.smartadserver;r.prebid.sa=b.bids}if(this.mPrebid.isImproveDigitalEnable()){var T=s.improvedigital;r.prebid.dgt=T.bids}if(this.mPrebid.isSharethroughEnable()){var I=s.sharethrough;r.prebid.st=I.bids}if(this.mPrebid.isMedianetEnable()){var v=s.medianet;r.prebid.mn=v.bids}if(this.mPrebid.isOutbrainEnable()){var P=s.outbrain;r.prebid.ob=P.bids}if(this.mPrebid.isAutomatadEnable()){var E=s.automatad;r.prebid.aa=E.bids}i.prebid.status=d.USED}return r},e.prototype.getDefaultBidValues=function(e,t,i,r){for(var n={},s=0;s<r.size.length;++s)if(!(t.indexOf(r.size[s])<0||i&&i.indexOf(r.size[s])<0)){n[e+l[r.size[s]]]=-1;break}return n},e.prototype.getDefaultBidValuesV2=function(e,t,i,r,n,s){var a={},o=-1;t.indexOf("a9")<0&&(this.isAdapterLoaded(s,t)||(o=-2));for(var d=0;d<n.size.length;++d)if(!(i.indexOf(n.size[d])<0||r&&r.indexOf(n.size[d])<0)){null!=e&&(a[e+l[n.size[d]]]=o),a[t]=o,a[t+"_sz"]=l[n.size[d]];break}return a},e.prototype.isAdapterLoaded=function(e,t){var i=a.Utility.getInstance().getBidderNameByCode(t,u),r=s.Template.getEligibleS2SBidders();return!!(e.indexOf(i)>-1&&r.indexOf(i)<0||r.indexOf(i)>-1&&this.mIsS2SEnabled)},e.prototype.setDefaultValues=function(e,t,i,r){var n=this.mPlacements[e];if(n){n.status=d.INITIALIZED;var s={};null!=this.mA9&&(s.bids=this.getDefaultBidValuesV2("a9_","a9",E,this.mA9.getA9EnabledAdSizes(),n,!0),s.status=d.INITIALIZED,s.bidsReceivedTime=null,n.a9=s);var a={};if(null!=this.mPrebid){var o=this.mPrebid.getAdUnitType(n.isSspHVPlacement,t,r,n),m=-1;this.mPrebid.isAppnexusEnable()&&(a.appnexus={},a.appnexus.bids=this.getDefaultBidValuesV2("nx_","nx",A,this.mPrebid.getAppnexusEnabledAdSizes(),n,i)),this.mPrebid.isRubiconEnable()&&(a.rubicon={},a.rubicon.bids=this.getDefaultBidValuesV2("rb_","rb",v,this.mPrebid.getRubiconEnabledAdSizes(),n,i)),this.mPrebid.isPubmaticEnable()&&(a.pubmatic={},a.pubmatic.bids=this.getDefaultBidValuesV2("pm_","pm",P,this.mPrebid.getPubmaticEnabledAdSizes(),n,i)),this.mPrebid.isOpenXEnable()&&(a.openx={},a.openx.bids=this.getDefaultBidValuesV2("oxb_","ox",C,this.mPrebid.getOpenXEnabledAdSizes(),n,i)),this.mPrebid.isCriteoEnable()&&(a.criteo={},a.criteo.bids=this.getDefaultBidValuesV2("ct_","ct",D,this.mPrebid.getCriteoEnabledAdSizes(),n,i));var u={};if(this.mPrebid.isSovrnEnable()){u.bids={},m=this.isAdapterLoaded(i,"sv")?-1:-2;for(var c=this.mPrebid.getSovrnEnabledAdSizes(),p=0;p<n.size.length;++p)if(!(_.indexOf(n.size[p])<0||c&&c.indexOf(n.size[p])<0)&&(f=this.mPrebid.getSSPPlacementId(this.mPrebid.getSovrnConfig(),o,n.size[p],n.position,!1,n.divId))){u.bids.sv=m,u.bids.sv_sz=l[n.size[p]];break}a.sovrn=u}this.mPrebid.isYieldmoEnable()&&(a.yieldmo={},a.yieldmo.bids=this.getDefaultBidValuesV2(null,"ym",U,this.mPrebid.getYieldmoEnabledAdSizes(),n,i)),this.mPrebid.is33AcrossEnable()&&(a.across33={},a.across33.bids=this.getDefaultBidValuesV2(null,"ta",R,this.mPrebid.get33AcrossEnabledAdSizes(),n,i));var g={};if(this.mPrebid.isAolEnable()){g.bids={},m=this.isAdapterLoaded(i,"aol")?-1:-2;var h=this.mPrebid.getAolEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(O.indexOf(n.size[p])<0||h&&h.indexOf(n.size[p])<0)){var f=this.mPrebid.getSSPPlacementId(this.mPrebid.getAolConfig(),o,n.size[p],n.position,!0,n.divId),S=this.mPrebid.getSiteIdForDevice(this.mPrebid.getAolConfig(),o);if(f&&S){g.bids.aol=m,g.bids.aol_sz=l[n.size[p]];break}}a.aol=g}var y={};if(this.mPrebid.isGumgumEnable()){y.bids={},m=this.isAdapterLoaded(i,"gg")?-1:-2;var b=this.mPrebid.getGumgumEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(L.indexOf(n.size[p])<0||b&&b.indexOf(n.size[p])<0)&&this.mPrebid.getSSPPlacementId(this.mPrebid.getGumgumConfig(),o,n.size[p],n.position,!0,n.divId)){y.bids.gg_sz=l[n.size[p]],y.bids.gg=m;break}a.gumgum=y}var T={};if(this.mPrebid.isTripleliftEnable()){T.bids={},m=this.isAdapterLoaded(i,"tpl")?-1:-2;var I=this.mPrebid.getTripleliftEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(w.indexOf(n.size[p])<0||I&&I.indexOf(n.size[p])<0)&&this.mPrebid.getSSPPlacementId(this.mPrebid.getTripleliftConfig(),o,n.size[p],n.position,!0,n.divId)){T.bids.nat=m,T.bids.tpl=m;break}a.triplelift=T}this.mPrebid.isSmartAdServerEnable()&&(a.smartadserver={},a.smartadserver.bids=this.getDefaultBidValuesV2(null,"sa",F,this.mPrebid.getSmartAdServerEnabledAdSizes(),n,i));var z={};if(this.mPrebid.isImproveDigitalEnable()){z.bids={},m=this.isAdapterLoaded(i,"dgt")?-1:-2;var B=this.mPrebid.getImproveDigitalEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(k.indexOf(n.size[p])<0||B&&B.indexOf(n.size[p])<0)&&(f=this.mPrebid.getSSPPlacementId(this.mPrebid.getImproveDigitalConfig(),o,n.size[p],n.position,!1,n.divId))){z.bids.dgt=m,z.bids.dgt_sz=l[n.size[p]];break}a.improvedigital=z}this.mPrebid.isSharethroughEnable()&&(a.sharethrough={},a.sharethrough.bids=this.getDefaultBidValuesV2(null,"st",M,this.mPrebid.getShareThroughEnabledAdSizes(),n,i)),this.mPrebid.isMedianetEnable()&&(a.medianet={},a.medianet.bids=this.getDefaultBidValuesV2(null,"mn",x,this.mPrebid.getMediaNetEnabledAdSizes(),n,i)),this.mPrebid.isAutomatadEnable()&&(a.automatad={},a.automatad.bids=this.getDefaultBidValuesV2(null,"aa",V,this.mPrebid.getAutomatAdEnabledAdSizes(),n,i));var H={};if(this.mPrebid.isAdaptmxEnable()){H.bids={},m=this.isAdapterLoaded(i,"amx")?-1:-2;var j=this.mPrebid.getAdaptmxEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(N.indexOf(n.size[p])<0||j&&j.indexOf(n.size[p])<0)){var W=n.size[p];if(this.mPrebid.getSlotName(n,t,W,r)){H.bids["amx_"+l[n.size[p]]]=m,H.bids.amx=m,H.bids.amx_sz=l[n.size[p]];break}}a.amx=H}var K={};if(this.mPrebid.isOutbrainEnable()){K.bids={},m=this.isAdapterLoaded(i,"ob")?-1:-2;var q=this.mPrebid.getOutbrainEnabledAdSizes();if(n.nativeLayout&&"prebidConfig"in n.nativeLayout&&null!=n.nativeLayout.prebidConfig)for(p=0;p<n.size.length;++p)if(!(G.indexOf(n.size[p])<0||q&&q.indexOf(n.size[p])<0)&&this.mPrebid.getOutbrainTagId(n,t,n.size[p],r)){K.bids.ob=m;break}a.outbrain=K}a.status=d.INITIALIZED,a.bidsReceivedTime=null,n.prebid=a}this.mPlacements[e]=n}},e.prototype.callEnabledSSP=function(e,t,i,r){var n=!1;null!=this.mA9&&(this.mA9.callSSP(e,this.a9Callback.bind(this),this.mSspsLogsParams,i,r),n=!0);var s=!1;null!=this.mPrebid&&(this.mPrebid.callSSP(e,this.prebidCallback.bind(this),t,this.mSspsLogsParams,i,r),s=!0);for(var a=0;a<e.length;++a)this.mPlacements[e[a].divId]&&(this.mPlacements[e[a].divId].status=d.INPROGRESS,n&&(this.mPlacements[e[a].divId].a9.status=d.INPROGRESS),s&&(this.mPlacements[e[a].divId].prebid.status=d.INPROGRESS))},e.prototype.updateOverAllStatus=function(e){var t=this.mPlacements[e];t&&(t.a9&&t.a9.status!=d.RECEIVED||t.prebid&&t.prebid.status!=d.RECEIVED||(t.status=d.RECEIVED))},e.prototype.a9Callback=function(e,t){var i=this.mPlacements[e];if(i){var r={};r.status=d.RECEIVED,r.bidsReceivedTime=(new Date).getTime(),r.bids={};try{if(null!=t&&t.bid_id)r.bids["a9_"+l[t.size]]=t.bid_value,r.bids["a9_"+l[t.size]+"_id"]=t.bid_id,r.bids.a9_sz=l[t.size],r.bids.a9_id=t.bid_id,r.bids.a9=t.bid_value,"deal_id"in t&&(r.bids.a9_d=t.deal_id),"partner_id"in t&&(r.bids.a9_p=t.partner_id);else if(null!=t)for(var n=this.mA9.getA9EnabledAdSizes(),s=0;s<i.size.length;++s)if(!(E.indexOf(i.size[s])<0||n&&n.indexOf(i.size[s])<0)){r.bids["a9_"+l[i.size[s]]]="0",r.bids.a9_sz=l[i.size[s]],r.bids.a9=0;break}}catch(e){var a=new CustomEvent("IC_JSErrorEvent",{detail:"A9 SSP: Error in a9Callback. "+e});document.dispatchEvent(a)}i.a9=r,this.mPlacements[e]=i,this.updateOverAllStatus(e)}},e.prototype.getPrebidResponseV2=function(e,t,i,r,n,s,a){var o=null;if(e[i].bid_id)o={bids:{}},null!=r&&(o.bids[r+l[e[i].size]]=e[i].bid_value,o.bids[r+l[e[i].size]+"_id"]=e[i].bid_id),o.bids[n]=e[i].bid_value,o.bids[n+"_sz"]=l[e[i].size],o.bids[n+"_id"]=e[i].bid_id,e[i].deal_id&&(null!=r&&(o.bids[r+l[e.size]+"_d"]=e[i].deal_id),o.bids[n+"_d"]=e[i].deal_id);else if(s){o={bids:{}};for(var d=0;d<t.size.length;++d)if(!(A.indexOf(t.size[d])<0||a&&a.indexOf(t.size[d])<0)){null!=r&&(o.bids[r+l[t.size[d]]]=0),o.bids[n]=0,o.bids[n+"_sz"]=l[t.size[d]];break}}return o},e.prototype.prebidCallback=function(e,t){var i=this.mPlacements[e];if(i){var r=i.prebid;r.status=d.RECEIVED,r.bidsReceivedTime=(new Date).getTime();try{if(null!=t&&null!=t.appnexus&&(r.appnexus=this.getPrebidResponseV2(t,i,"appnexus","nx_","nx",this.mPrebid.isAppnexusEnable(),this.mPrebid.getAppnexusEnabledAdSizes())),null!=t&&null!=t.rubicon&&(r.rubicon=this.getPrebidResponseV2(t,i,"rubicon","rb_","rb",this.mPrebid.isRubiconEnable(),this.mPrebid.getRubiconEnabledAdSizes())),null!=t&&null!=t.pubmatic&&(r.pubmatic=this.getPrebidResponseV2(t,i,"pubmatic","pm_","pm",this.mPrebid.isPubmaticEnable(),this.mPrebid.getPubmaticEnabledAdSizes())),null!=t&&null!=t.openx&&(r.openx=this.getPrebidResponseV2(t,i,"openx","oxb_","ox",this.mPrebid.isOpenXEnable(),this.mPrebid.getOpenXEnabledAdSizes())),null!=t&&null!=t.criteo&&(r.criteo=this.getPrebidResponseV2(t,i,"criteo","ct_","ct",this.mPrebid.isCriteoEnable(),this.mPrebid.getCriteoEnabledAdSizes())),null!=t&&null!=t.sovrn&&(r.sovrn=this.getPrebidResponseV2(t,i,"sovrn",null,"sv",this.mPrebid.isSovrnEnable(),this.mPrebid.getSovrnEnabledAdSizes())),null!=t&&null!=t.yieldmo&&(r.yieldmo=this.getPrebidResponseV2(t,i,"yieldmo",null,"ym",this.mPrebid.isYieldmoEnable(),this.mPrebid.getYieldmoEnabledAdSizes())),null!=t&&null!=t["33across"]&&(r.across33=this.getPrebidResponseV2(t,i,"33across",null,"ta",this.mPrebid.is33AcrossEnable(),this.mPrebid.get33AcrossEnabledAdSizes())),null!=t&&null!=t.onemobile&&(r.aol=this.getPrebidResponseV2(t,i,"onemobile",null,"aol",this.mPrebid.isAolEnable(),this.mPrebid.getAolEnabledAdSizes())),null!=t&&null!=t.gumgum&&(r.gumgum=this.getPrebidResponseV2(t,i,"gumgum",null,"gg",this.mPrebid.isGumgumEnable(),this.mPrebid.getGumgumEnabledAdSizes())),null!=t&&null!=t.triplelift)if(t.triplelift.bid_id)r.triplelift={bids:{}},r.triplelift.bids.tpl=t.triplelift.bid_value,r.triplelift.bids.tpl_id=t.triplelift.bid_id,r.triplelift.bids.nat=t.triplelift.bid_value,r.triplelift.bids.nat_id=t.triplelift.bid_id,r.triplelift.bids.nat_v="triplelift",t.triplelift.deal_id&&(r.triplelift.bids.tpl_d=t.triplelift.deal_id);else if(this.mPrebid.isTripleliftEnable()){r.triplelift={bids:{}};for(var n=this.mPrebid.getTripleliftEnabledAdSizes(),s=0;s<i.size.length;++s)if(!(w.indexOf(i.size[s])<0||n&&n.indexOf(i.size[s])<0)){r.triplelift.bids.nat=0,r.triplelift.bids.nat_v="triplelift",r.triplelift.bids.tpl=0;break}}if(null!=t&&null!=t.outbrain)if(t.outbrain.bid_id)r.outbrain={bids:{}},r.outbrain.bids.ob=t.outbrain.bid_value,r.outbrain.bids.ob_id=t.outbrain.bid_id,t.outbrain.deal_id&&(r.outbrain.bids.ob_d=t.outbrain.deal_id);else if(this.mPrebid.isOutbrainEnable()){r.outbrain={bids:{}};var a=this.mPrebid.getOutbrainEnabledAdSizes();for(s=0;s<i.size.length;++s)if(!(G.indexOf(i.size[s])<0||a&&a.indexOf(i.size[s])<0)){r.outbrain.bids.ob=0;break}}null!=t&&null!=t.amx&&(r.amx=this.getPrebidResponseV2(t,i,"amx",null,"amx",this.mPrebid.isAdaptmxEnable(),this.mPrebid.getAdaptmxEnabledAdSizes())),null!=t&&null!=t.smartadserver&&(r.smartadserver=this.getPrebidResponseV2(t,i,"smartadserver",null,"sa",this.mPrebid.isSmartAdServerEnable(),this.mPrebid.getSmartAdServerEnabledAdSizes())),null!=t&&null!=t.improvedigital&&(r.improvedigital=this.getPrebidResponseV2(t,i,"improvedigital",null,"dgt",this.mPrebid.isImproveDigitalEnable(),this.mPrebid.getImproveDigitalEnabledAdSizes())),null!=t&&null!=t.sharethrough&&(r.sharethrough=this.getPrebidResponseV2(t,i,"sharethrough",null,"st",this.mPrebid.isSharethroughEnable(),this.mPrebid.getShareThroughEnabledAdSizes())),null!=t&&null!=t.medianet&&(r.medianet=this.getPrebidResponseV2(t,i,"medianet",null,"mn",this.mPrebid.isMedianetEnable(),this.mPrebid.getMediaNetEnabledAdSizes())),null!=t&&null!=t.automatad&&(r.automatad=this.getPrebidResponseV2(t,i,"automatad",null,"aa",this.mPrebid.isAutomatadEnable(),this.mPrebid.getAutomatAdEnabledAdSizes()))}catch(e){console.log("Error in prebidcallback :: ",e)}i.prebid=r,this.mPlacements[e]=i,this.updateOverAllStatus(e)}},e.prototype.getMarkitValueNoFilter=function(){return this.mMarkitKeyValNoFilter},e.prototype.markitCallback=function(e){try{this.mMarkitKeyValNoFilter=e}catch(e){}var t={},i=0;for(var r in this.setMarkitStatusOnWindow(d.RECEIVED),e)this.mMarkitDFPKeys.indexOf(r.toUpperCase())>=0&&(t[r]=e[r],++i);i>0&&this.setMarkitValueOnWindow(t);try{s.Template.markitCallbackAtTemplate(t),s.Template.triggerPageEventLogForMarkitTicker(t)}catch(e){I&&a.Utility.getInstance().debugConsoleMessage("Error: While setting markit to dmp ::"+e)}for(var n in this.mPlacementCallback){var o=this.mPlacementCallback[n];if("function"==typeof o.callback){var l={};l.markit=t,o.callback(l)}}},e.prototype.getA9PriceByCode=function(e){var t=-1;try{t=+m[e]}catch(e){}return t},e.prototype.getBidderCodes=function(){return u},e.prototype.getBidderOldToNewKeys=function(){return c},e.prototype.getPrebid=function(){return this.mPrebid},e.prototype.getMarkit=function(){return this.mMarkit},e.prototype.getStackSspServeHorizontal=function(e,t,i){var n={},s=r({a9:e.a9},e.prebid),o=-2,l=-2,d=-2,m=-2,u=-2,p=-2,g="",h="",f="",S="",y="",b="",T=-2,v="";for(var P in s)if(U=s[P]){var E=U[(P=a.Utility.getInstance().getBidderNameByCode(P,c))+"_sz"];U[P+"_id"]&&(v=U[P+"_id"]);var A=U[P];"a9"==P?(T=A,-1!=A&&0!=A&&(T=this.getA9PriceByCode(A))):T=A,"92"==E?T>o&&(o=T):"99"==E?T>l&&(l=T):"79"==E&&T>d&&(d=T)}T=-2,v="";var C=i+"_stack32",D=this.getBids(C);if(D){var _=r({a9:D.a9},D.prebid);for(var P in _){var U;(U=_[P])&&(E=U[(P=a.Utility.getInstance().getBidderNameByCode(P,c))+"_sz"],U[P+"_id"]&&(v=U[P+"_id"]),A=U[P],"a9"==P?(T=A,-1!=A&&0!=A&&(T=this.getA9PriceByCode(A))):T=A,"32"==E&&(T>m?(p=u,u=m,m=T,f=h,h=g,g=P,b=y,y=S,S=v):T>u?(p=u,f=h,b=y,u=T,h=P,y=v):T>p&&(p=T,f=P,b=v)))}}if(+m>0&&+u>0||+u>0&&+p>0||+m>0&&+p>0){var R=0;if(+m>0&&(R+=+m),+u>0&&(R+=+u),+p>0&&(R+=+p),+R>+l&&+R>+o&&+R>d){I&&a.Utility.getInstance().debugConsoleMessage("Stack Ads:: dummyDivId ::"+C+", bidValue32_1:"+g+"="+m+", bidValue32_2:"+h+"="+u+", bidValue32_3:"+f+"="+p+", bidValue99:"+l+", bidValue92:"+o+", bidValue99:"+l);var O=m.toString(),L=u.toString();"a9"==h?L=D.a9.a9:"a9"==g&&(O=D.a9.a9);var w=":"+h+":"+g,N=":"+y+":"+S,F=":"+L+":"+O;if(p>0){w=f+":"+h+":"+g,N=b+":"+y+":"+S;var k=p.toString();"a9"==f&&(k=D.a9.a9),F=k+":"+L+":"+O}n={tt:""+R,tt_v:w,tt_id:N,tt_bid:F}}}return n},e.mSSP=null,e.isPrebidS2SEnabled=!1,e.mFpPassedToAdSlot={},e}();t.default=o;var l,d,m,u,c,p,g,h=function(){function e(e,t,i){this.mPassConsentManagementConfig=!1,this.mUspString=null,this.mAppnexusConfig=null,this.mRubiconConfig=null,this.mPubmaticConfig=null,this.mOpenXConfig=null,this.mCriteoConfig=null,this.mSovrnConfig=null,this.mYieldmoConfig=null,this.m33AcrossConfig=null,this.mAolConfig=null,this.mGumgumConfig=null,this.mTripleliftConfig=null,this.mAdaptmxConfig=null,this.mSmartAdServerConfig=null,this.mImproveDigitalConfig=null,this.mShareThroughConfig=null,this.mMediaNetConfig=null,this.mOutbrainConfig=null,this.mAutomatAdConfig=null,this.mIC_Window=window.top,this.mRubiconAccountId=11832,this.mHVSuffix="_HV",this.mPriceGranularity=null,this.mSSPLogs=null,this.mNotLoadedAdUnits=null,this.mAddressability=null,this.mSspsLogsParams={},this.mAuctionEventEnabled=!1,this.mS2SConfig={},this.uidModuleNamesArr=[],this.uidModulesId={across33id:"",criteo:"",id5:"",liveramp:"",lotame:"",parrable:"",sharedid:"",unified:"",connectid:"",pairid:""},this.mLogInterval=3e4,this.categoryCl=1,this.categoryS2S=1,this.mDeviceType=e,this.mTimeout=t.prebid.timeout,this.mRefreshTimeout=t.prebid.refreshTimeout,this.mPriceGranularity=t.prebid.priceGranularity,this.mPassConsentManagementConfig=t.prebid.passConsentManagementConfig,this.mCmpVersion=t.prebid.cmpVersion,1==this.mCmpVersion?(this.mCmpConsentData=t.prebid.cmpConsentData,this.mCmpVendorConsentData=t.prebid.cmpVendorConsentData):2==this.mCmpVersion&&(this.mCmpTcString=t.prebid.cmpTcString,this.mCmpGdprApplies=t.prebid.cmpGdprApplies),this.mUspString=t.prebid.uspString,this.mAppnexusConfig=i.appnexusConfig,this.mRubiconConfig=i.rubiconConfig,this.mPubmaticConfig=i.pubmaticConfig,this.mOpenXConfig=i.openxConfig,this.mCriteoConfig=i.criteoConfig,this.mSovrnConfig=i.sovrnConfig,this.mYieldmoConfig=i.yieldmoConfig,this.m33AcrossConfig=i.across33Config,this.mAolConfig=i.aolConfig,this.mGumgumConfig=i.gumgumConfig,this.mTripleliftConfig=i.tripleliftConfig,this.mAdaptmxConfig=i.adaptmxConfig,this.mSmartAdServerConfig=i.smartadserverConfig,this.mImproveDigitalConfig=i.improveDigitalConfig,this.mShareThroughConfig=i.shareThroughConfig,this.mMediaNetConfig=i.mediaNetConfig,this.mOutbrainConfig=i.outbrainConfig,this.mAutomatAdConfig=i.automatAdConfig,this.mS2SConfig=t.s2sConfig,this.mIC_Window.ic_pbjs=this.mIC_Window.ic_pbjs||{},this.mIC_Window.ic_pbjs.que=this.mIC_Window.ic_pbjs.que||[],this.mIC_Window.PWT=this.mIC_Window.PWT||{},this.mIC_Window.owpbjs=this.mIC_Window.owpbjs||{},this.mAdTagName=t.adTagName,this.mAddressability=t.addressability,this.mSSPLogs=[],this.mNotLoadedAdUnits=[],this.prepareConfig()}return e.prototype.prepareConfig=function(e){var t=this,i={},r={};try{void 0!==this.mIC_Window.ic_pbjs&&(r=this.mIC_Window.ic_pbjs.getConfig())}catch(e){}if(i.priceGranularity=this.mPriceGranularity,i.enableTIDs=!0,i.useBidCache=!0,"rubicon"in r?i.rubicon=r.rubicon:null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled&&(i.rubicon={singleRequest:!0}),this.isImproveDigitalEnable()&&(i.improvedigital={singleRequest:!0,usePrebidSizes:!0}),i.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}},syncDelay:5e3},"consentManagement"in r?(i.consentManagement=r.consentManagement,s.Template.gppAPIAvailable&&!("gpp"in i.consentManagement)&&(i.consentManagement.gpp={cmpApi:"iab",timeout:8e3})):(i.consentManagement={},i.consentManagement.gdpr={cmpApi:"iab",timeout:8e3,defaultGdprScope:!0},s.Template.gppAPIAvailable&&(i.consentManagement.gpp={cmpApi:"iab",timeout:8e3}),null!=this.mUspString&&"undefined"!=this.mUspString&&(i.consentManagement.usp={cmpApi:"static",consentData:{getUSPData:{uspString:this.mUspString}}})),e&&(i.outbrain={bidderUrl:"https://b1h.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h.zemanta.com/usersync/prebid"}),!s.Template.isGDPRDenied()){var n=[];if(s.Template.checkAndImplementLiveramIdentityLink(this.mAddressability)){var l=this.mAddressability.liverampidentitylink;if("storage"in l){var d=l.storage;if(l.pid&&d.type&&d.name&&d.expiry&&d.refresh){var m={name:"identityLink",params:{pid:l.pid},storage:{type:d.type,name:d.name,expires:d.expiry,refreshInSeconds:d.refresh}};n.push(m)}}}if(s.Template.isConnectIdEnabled()){var u=this.mAddressability.ConnectUidModule,c=1,p="",g="";u&&"Expires"in u&&(c=u.Expires),u&&"PixelId"in u&&(p=u.PixelId);var h=s.Template.getHashedEmailFromLocalStorage();if(""!=h.SHA256&&(g=h.SHA256),""!=p&&""!=g){var f={name:"connectId",params:{pixelId:p,he:g},storage:{type:"html5",name:s.Template.mConnectIdLocalStorageName,expires:c}};n.push(f)}}n.length>0&&(i.userSync={userIds:n})}var S=s.Template.getEligibleS2SBidders();if(S.length>0&&o.isPrebidS2SEnabled){var b=this.mS2SConfig.accountId,T=this.mS2SConfig.bidderTimeout,v=this.mS2SConfig.auctionTimeout,P=this.mS2SConfig.timeoutBuffer,E=this.mS2SConfig.timeout;i.s2sConfig=[{accountId:b,bidders:S,bidderTimeout:T,auctionTimeout:v,timeoutBuffer:P,timeout:E,testing:!1,testServerOnly:!1,endpoint:{p1Consent:a.Constant.PREBID_S2S_AUCTION_URL,noP1Consent:a.Constant.PREBID_S2S_AUCTION_URL},syncEndpoint:{p1Consent:a.Constant.PREBID_S2S_COOKIE_SYNC_URL,noP1Consent:a.Constant.PREBID_S2S_COOKIE_SYNC_URL},enabled:!0,targetingControls:{alwaysIncludeDeals:!0},adapter:"prebidServer"}]}try{this.mIC_Window&&this.mIC_Window.ic_pbjs&&this.mIC_Window.ic_pbjs.installedModules&&this.mIC_Window.ic_pbjs.installedModules.indexOf("schain")>-1&&s.Template.schainConfig&&Object.keys(s.Template.schainConfig).length>0&&(i.schain=s.Template.schainConfig,I&&y.getInstance().debugConsoleMessage("Setconfig Schain :: "+JSON.stringify(s.Template.schainConfig)))}catch(e){I&&y.getInstance().debugConsoleMessage("Error :: Setconfig Schain :: "+e)}this.mIC_Window.ic_pbjs.que.push((function(){t.mIC_Window.ic_pbjs.setConfig(i)}))},e.prototype.isAppnexusEnable=function(){return!(null==this.mAppnexusConfig||!this.mAppnexusConfig.IsEnabled)},e.prototype.isRubiconEnable=function(){return!(null==this.mRubiconConfig||!this.mRubiconConfig.IsEnabled)},e.prototype.isPubmaticEnable=function(){return!(null==this.mPubmaticConfig||!this.mPubmaticConfig.IsEnabled)},e.prototype.isOpenXEnable=function(){return!(null==this.mOpenXConfig||!this.mOpenXConfig.IsEnabled)},e.prototype.isCriteoEnable=function(){return!(null==this.mCriteoConfig||!this.mCriteoConfig.IsEnabled)},e.prototype.isSovrnEnable=function(){return!(null==this.mSovrnConfig||!this.mSovrnConfig.IsEnabled)},e.prototype.isYieldmoEnable=function(){return!(null==this.mYieldmoConfig||!this.mYieldmoConfig.IsEnabled)},e.prototype.is33AcrossEnable=function(){return!(null==this.m33AcrossConfig||!this.m33AcrossConfig.IsEnabled)},e.prototype.isAolEnable=function(){return!(null==this.mAolConfig||!this.mAolConfig.IsEnabled)},e.prototype.isGumgumEnable=function(){return!(null==this.mGumgumConfig||!this.mGumgumConfig.IsEnabled)},e.prototype.isTripleliftEnable=function(){return!(null==this.mTripleliftConfig||!this.mTripleliftConfig.IsEnabled)},e.prototype.isAdaptmxEnable=function(){return!(null==this.mAdaptmxConfig||!this.mAdaptmxConfig.IsEnabled)},e.prototype.isSmartAdServerEnable=function(){return!(null==this.mSmartAdServerConfig||!this.mSmartAdServerConfig.IsEnabled)},e.prototype.isImproveDigitalEnable=function(){return!(null==this.mImproveDigitalConfig||!this.mImproveDigitalConfig.IsEnabled)},e.prototype.isSharethroughEnable=function(){return!(null==this.mShareThroughConfig||!this.mShareThroughConfig.IsEnabled)},e.prototype.isMedianetEnable=function(){return!(null==this.mMediaNetConfig||!this.mMediaNetConfig.IsEnabled)},e.prototype.isOutbrainEnable=function(){return!(null==this.mOutbrainConfig||!this.mOutbrainConfig.IsEnabled)},e.prototype.isAutomatadEnable=function(){return!(null==this.mAutomatAdConfig||!this.mAutomatAdConfig.IsEnabled)},e.prototype.getAppnexusEnabledAdSizes=function(){return null!=this.mAppnexusConfig&&this.mAppnexusConfig.IsEnabled?this.mAppnexusConfig.adSizes:null},e.prototype.getRubiconEnabledAdSizes=function(){return null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled?this.mRubiconConfig.adSizes:null},e.prototype.getPubmaticEnabledAdSizes=function(){return null!=this.mPubmaticConfig&&this.mPubmaticConfig.IsEnabled?this.mPubmaticConfig.adSizes:null},e.prototype.getOpenXEnabledAdSizes=function(){return null!=this.mOpenXConfig&&this.mOpenXConfig.IsEnabled?this.mOpenXConfig.adSizes:null},e.prototype.getCriteoEnabledAdSizes=function(){return null!=this.mCriteoConfig&&this.mCriteoConfig.IsEnabled?this.mCriteoConfig.adSizes:null},e.prototype.getSovrnEnabledAdSizes=function(){return null!=this.mSovrnConfig&&this.mSovrnConfig.IsEnabled?this.mSovrnConfig.adSizes:null},e.prototype.getYieldmoEnabledAdSizes=function(){return null!=this.mYieldmoConfig&&this.mYieldmoConfig.IsEnabled?this.mYieldmoConfig.adSizes:null},e.prototype.get33AcrossEnabledAdSizes=function(){return null!=this.m33AcrossConfig&&this.m33AcrossConfig.IsEnabled?this.m33AcrossConfig.adSizes:null},e.prototype.getAolEnabledAdSizes=function(){return null!=this.mAolConfig&&this.mAolConfig.IsEnabled?this.mAolConfig.adSizes:null},e.prototype.getGumgumEnabledAdSizes=function(){return null!=this.mGumgumConfig&&this.mGumgumConfig.IsEnabled?this.mGumgumConfig.adSizes:null},e.prototype.getTripleliftEnabledAdSizes=function(){return null!=this.mTripleliftConfig&&this.mTripleliftConfig.IsEnabled?this.mTripleliftConfig.adSizes:null},e.prototype.getAdaptmxEnabledAdSizes=function(){return null!=this.mAdaptmxConfig&&this.mAdaptmxConfig.IsEnabled?this.mAdaptmxConfig.adSizes:null},e.prototype.getSmartAdServerEnabledAdSizes=function(){return null!=this.mSmartAdServerConfig&&this.mSmartAdServerConfig.IsEnabled?this.mSmartAdServerConfig.adSizes:null},e.prototype.getImproveDigitalEnabledAdSizes=function(){return null!=this.mImproveDigitalConfig&&this.mImproveDigitalConfig.IsEnabled?this.mImproveDigitalConfig.adSizes:null},e.prototype.getShareThroughEnabledAdSizes=function(){return null!=this.mShareThroughConfig&&this.mShareThroughConfig.IsEnabled?this.mShareThroughConfig.adSizes:null},e.prototype.getMediaNetEnabledAdSizes=function(){return null!=this.mMediaNetConfig&&this.mMediaNetConfig.IsEnabled?this.mMediaNetConfig.adSizes:null},e.prototype.getAutomatAdEnabledAdSizes=function(){return null!=this.mAutomatAdConfig&&this.mAutomatAdConfig.IsEnabled?this.mAutomatAdConfig.adSizes:null},e.prototype.getOutbrainEnabledAdSizes=function(){return null!=this.mOutbrainConfig&&this.mOutbrainConfig.IsEnabled?this.mOutbrainConfig.adSizes:null},e.prototype.getSovrnConfig=function(){return this.mSovrnConfig},e.prototype.getAolConfig=function(){return this.mAolConfig},e.prototype.getGumgumConfig=function(){return this.mGumgumConfig},e.prototype.getTripleliftConfig=function(){return this.mTripleliftConfig},e.prototype.getAdaptmxConfig=function(){return this.mAdaptmxConfig},e.prototype.getSmartAdServerConfig=function(){return this.mSmartAdServerConfig},e.prototype.getImproveDigitalConfig=function(){return this.mImproveDigitalConfig},e.prototype.getShareThroughConfig=function(){return this.mShareThroughConfig},e.prototype.getMediaNetConfig=function(){return this.mMediaNetConfig},e.prototype.getOutbrainConfig=function(){return this.mOutbrainConfig},e.prototype.getAutomatAdConfig=function(){return this.mAutomatAdConfig},e.prototype.callSSP=function(e,t,i,r,n,l){var d=this;this.mSspsLogsParams=r;var m=o.getInstance().getLoadedAdapters();I&&y.getInstance().debugConsoleMessage("Loaded Adapters for bidding ",[m]);try{if(i){for(var u=[],c=this.mIC_Window.ic_pbjs.adUnits,p=0;p<e.length;++p){var g=e[p],h=this.getAdUnitByDivId(c,g.divId);null!=h&&this.mIC_Window.ic_pbjs.removeAdUnit(h.code);var f=this.prepareAdUnit(g,i,n,m,l);f&&(u.push(f.code),this.mIC_Window.ic_pbjs.addAdUnits(f)),I&&y.getInstance().debugConsoleMessage("Refreshed Prebid SSPs for newAdUnit ",[f])}try{I&&y.getInstance().debugConsoleMessage("Refreshed Prebid SSPs for adunitcode ",[u])}catch(e){}if(Object.keys(this.mNotLoadedAdUnits).length>0){var S=(new Date).getTime();a.Utility.getInstance().createBidAdapterNotLoadedLogs(this.mNotLoadedAdUnits,S,S,s.Template.getEligibleS2SBidders())}u.length>0&&(this.prepareConfig(),this.setUserIdToadUnits(c),this.mIC_Window.ic_pbjs.requestBids({timeout:this.mRefreshTimeout,adUnitCodes:u,bidsBackHandler:function(e,i,r){d.prebidCallback(e,t,i)}}))}else{var b=[],T=[];for(p=0;p<e.length;++p){g=e[p];var v=this.prepareAdUnit(g,i,n,m,l);null!=v&&(T.push(v.code),b.push(v))}Object.keys(this.mNotLoadedAdUnits).length>0&&(S=(new Date).getTime(),a.Utility.getInstance().createBidAdapterNotLoadedLogs(this.mNotLoadedAdUnits,S,S,s.Template.getEligibleS2SBidders()));try{I&&y.getInstance().debugConsoleMessage("Called Prebid SSPs for adunits ",[b])}catch(e){}if(b.length<=0)return;this.prepareConfig(),this.mIC_Window.ic_pbjs.que.push((function(){d.mAuctionEventEnabled||(d.mIC_Window.ic_pbjs.onEvent("auctionEnd",(function(e){var t=(new Date).getTime();a.Utility.getInstance().createSSPResponseObject(d.mSSPLogs,e,t,d.uidModuleNamesArr)})),d.mAuctionEventEnabled=!0),d.setUserIdToadUnits(b),d.mIC_Window.ic_pbjs.addAdUnits(b),d.mIC_Window.ic_pbjs.requestBids({timeout:d.mTimeout,bidsBackHandler:function(e,i){d.prebidCallback(e,t,i)},adUnitCodes:T})}))}}catch(e){console.log("Error while fetching Prebid bids :: ",e)}},e.prototype.setUserIdToadUnits=function(e){if(this.mIC_Window.IHPWT&&this.mIC_Window.ihowpbjs&&"function"==typeof this.mIC_Window.ihowpbjs.getUserIds){var t={};e.forEach((function(e){e.bids.forEach((function(e){e.userId=this.mIC_Window.IHPWT.deepMerge(this.mIC_Window.ihowpbjs.getUserIds(),e.userId||{}),e.userIdAsEids=this.mIC_Window.IHPWT.deepMerge(this.mIC_Window.ihowpbjs.getUserIdsAsEids(),e.userIdAsEids||[])}),this)}),this),t=this.mIC_Window.ihowpbjs.getUserIds();var i=s.Template.getPubCommId();null!=i&&""!=i&&(t.pubcid=i),this.checkInsertUidNames(t)}if(Object.keys(s.Template.getId5USerIds()).length>0){var n=s.Template.getId5USerIds(),a=n.userId,o=n.userIdAsEid;e.forEach((function(e){e.bids.forEach((function(e){var t={id5id:{ext:{linkType:2},uid:a}};e.userId=r(r({},e.userId),t);var i=-1;"userIdAsEids"in e?e.userIdAsEids.forEach((function(e,t){o.source==e.source&&(i=t)})):e.userIdAsEids=[],i>-1?e.userIdAsEids[i]=o:e.userIdAsEids.push(o)}),this)}),this),this.checkInsertUidNames({id5id:a})}if(s.Template.isConnectIdEnabled()){var l=s.Template.getConnectUserId();if(l&&null!=l&&""!=l){var d={};e.forEach((function(e){e.bids.forEach((function(e){d={connectId:l},e.userId=r(r({},e.userId),d)}),this)}),this),this.checkInsertUidNames(d)}}},e.prototype.checkInsertUidNames=function(e){if(!s.Template.isGDPRDenied())try{var t=s.Template.getAddressabilityUserIdConfig();for(var i in e){var r="",n=i.toLocaleLowerCase();i in t?(n=t[i].Name,r="UserIdKey"in t[i]?e[i][t[i].UserIdKey]:e[i]):r="object"==typeof e[i]?JSON.stringify(e[i]):e[i],this.uidModulesId[n]=r}var a=[];for(var i in this.uidModulesId)""!=this.uidModulesId[i]&&a.push(i);this.uidModuleNamesArr=a}catch(e){}},e.prototype.setFPPassedToAdSlot=function(e,t){if(o.mFpPassedToAdSlot)try{e in o.mFpPassedToAdSlot?""==o.mFpPassedToAdSlot[e]&&(o.mFpPassedToAdSlot[e]=t):o.mFpPassedToAdSlot[e]=t}catch(e){}},e.prototype.fetchFloorValueByBidder=function(e,t,i,r,n,a){var o={price:"",type:""};try{var l=void 0,d="cl";if("a9"==i?l=this.calculateCategory():r==p.S2S?(this.categoryS2S=this.calculateCategory(this.categoryS2S),l=this.categoryS2S,d="s2s"):(this.categoryCl=this.calculateCategory(this.categoryCl),l=this.categoryCl),1==t&&b.indexOf(i)>-1&&l>1){var m=s.Template.filterFloorPriceByCookieType(s.Template.mUserCookieType,s.Template.getFloorPrice());if(m&&(a||(a="o"),void 0!==m[a])){var u=m[a];if(void 0!==u[n]){var c=u[n];if(void 0!==c[d]){var g=c[d];if(void 0!==g[i]){var h=g[i];2==l&&"l"in h?(o.price=h.l,o.type=11):3==l&&"h"in h&&(o.price=h.h,o.type=12)}}}}""==o.price&&""==o.type&&(o.type=4)}else s.Template.mIsFloorPriceEnabled?b.indexOf(i)<0?o.type=2:Object.keys(s.Template.mFloorPrice).length<=0?o.type=4:t?1==l&&(o.type=10):o.type=3:o.type=1;I&&y.getInstance().debugConsoleMessage("FloorPrice Cookie :: "+s.Template.mUserCookieType+", SSP: "+i+", adSize: "+n+", source: "+r+", category: "+l+", floorPrice: "+o.price+", floorType: "+o.type)}catch(e){I&&y.getInstance().debugConsoleMessage("error while fetching floor price for ssp :: "+e)}return 11==o.type||12==o.type?this.setFPPassedToAdSlot(e,"y"):3==o.type?this.setFPPassedToAdSlot(e,"n"):this.setFPPassedToAdSlot(e,""),o},e.prototype.calculateCategory=function(e){var t=1;try{t=e?e+1>3?1:e+1:Math.floor(3*Math.random())+1>3?3:Math.floor(3*Math.random())+1}catch(e){console.log("Error while getting random category for flooring")}return t},e.prototype.getFloorPrice=function(e){var t="";if(e&&e.price){t=e.price;try{t=(+t).toFixed(2).toString()}catch(e){I&&y.getInstance().debugConsoleMessage("getFloorPrice Error :: "+e)}}return t},e.prototype.getFloorType=function(e){var t="";return e&&e.type&&(t=e.type),t},e.prototype.prepareAdUnit=function(e,t,i,l,d){this.categoryCl=this.calculateCategory(),this.categoryS2S=this.calculateCategory();var m=s.Template.isFloorPriceApplicable(),u=this.getAdUnitType(e.isSspHVPlacement,t,d,e),c=s.Template.getEligibleS2SBidders(),g="",h={};"HV"!=u&&"HV_Tpc"!=u||(g=this.mHVSuffix);var f=e.divId+g;I&&y.getInstance().debugConsoleMessage("Floor Applicable :: "+m+" :: for AdUnit:: "+f);var S=[],b=e.adSize,T=[],v=[],P=[],E=[],A=[];e.divId in l&&(A=l[e.divId]);var C=this.getAppnexusSizes(b);if(null!=this.mAppnexusConfig&&this.mAppnexusConfig.IsEnabled&&C.length>0){for(var D=0;D<C.length;++D)if((q=this.getSSPPlacementId(this.mAppnexusConfig,u,C[D][0]+"x"+C[D][1],e.position,!0,e.divId))&&this.convertToInt(q)){if(q){var _=c.indexOf("appnexus")>-1?p.S2S:p.CLIENT;if(A.indexOf("appnexus")>-1&&c.indexOf("appnexus")<0||c.indexOf("appnexus")>-1&&o.isPrebidS2SEnabled){var U={},R={bidder:"appnexus"},O={placementId:this.convertToInt(q)},L=this.fetchFloorValueByBidder(e.divId,m,"nx",_,C[D][0]+"x"+C[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L);w&&""!=w&&(w=+w,O=r(r({},O),{reserve:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:appnexus;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")}else E.push({bidder:"appnexus"})}break}(A.indexOf("appnexus")>-1&&c.indexOf("appnexus")<0||c.indexOf("appnexus")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(C),v=v.concat(C))}var F=this.getRubiconSizes(b);if(null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled&&F.length>0){for(D=0;D<F.length;++D)if((q=this.getSSPPlacementId(this.mRubiconConfig,u,F[D][0]+"x"+F[D][1],e.position,!0,e.divId))&&this.convertToInt(q)&&this.convertToInt(this.mRubiconConfig.SiteId)){_=c.indexOf("rubicon")>-1?p.S2S:p.CLIENT,A.indexOf("rubicon")>-1&&c.indexOf("rubicon")<0||c.indexOf("rubicon")>-1&&o.isPrebidS2SEnabled?(U={},R={bidder:"rubicon"},O={accountId:this.mRubiconAccountId,siteId:this.convertToInt(this.mRubiconConfig.SiteId),zoneId:this.convertToInt(q)},L=this.fetchFloorValueByBidder(e.divId,m,"rb",_,F[D][0]+"x"+F[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{floor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:rubicon;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"rubicon"});break}(A.indexOf("rubicon")>-1&&c.indexOf("rubicon")<0||c.indexOf("rubicon")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(F),v=v.concat(F))}var k=this.getPubmaticSizes(b);if(null!=this.mPubmaticConfig&&this.mPubmaticConfig.IsEnabled&&k.length>0&&"SlotNamePrefix"in this.mPubmaticConfig){var M=k[0].join("x"),x=this.getPubmaticSlotNamePrefix(e,t,M,d);_=c.indexOf("pubmatic")>-1?p.S2S:p.CLIENT,A.indexOf("pubmatic")>-1&&c.indexOf("pubmatic")<0||c.indexOf("pubmatic")>-1&&o.isPrebidS2SEnabled?(U={},R={bidder:"pubmatic"},O={adSlot:x,publisherId:this.mPubmaticConfig.PublisherId},L=this.fetchFloorValueByBidder(e.divId,m,"pm",_,M,d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(O=r(r({},O),{kadfloor:w.toString()})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:pubmatic;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat(k),v=v.concat(k)):E.push({bidder:"pubmatic"})}var G=this.getOpenXSizes(b);if(null!=this.mOpenXConfig&&this.mOpenXConfig.IsEnabled&&G.length>0){for(D=0;D<G.length;++D)if(q=this.getSSPPlacementId(this.mOpenXConfig,u,G[D][0]+"x"+G[D][1],e.position,!0,e.divId)){_=c.indexOf("openx")>-1?p.S2S:p.CLIENT,A.indexOf("openx")>-1&&c.indexOf("openx")<0||c.indexOf("openx")>-1&&o.isPrebidS2SEnabled?(U={},R={bidder:"openx"},O={unit:q.toString(),delDomain:this.mOpenXConfig.delDomain},L=this.fetchFloorValueByBidder(e.divId,m,"ox",_,G[D][0]+"x"+G[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{customFloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:openx;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"openx"});break}(A.indexOf("openx")>-1&&c.indexOf("openx")<0||c.indexOf("openx")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(G),v=v.concat(G))}var V=this.getCriteoSizes(b);null!=this.mCriteoConfig&&this.mCriteoConfig.IsEnabled&&V.length>0&&(_=c.indexOf("criteo")>-1?p.S2S:p.CLIENT,A.indexOf("criteo")>-1&&c.indexOf("criteo")<0||c.indexOf("criteo")>-1&&o.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"ct",_,V[0][0]+"x"+V[0][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"criteo",params:{networkId:this.mCriteoConfig.networkId}}),S.push("mediatype:banner;bidder:criteo;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat(V),v=v.concat(V)):E.push({bidder:"criteo"}));var z=this.getSovrnSizes(b);if(null!=this.mSovrnConfig&&this.mSovrnConfig.IsEnabled&&z.length>0){for(D=0;D<z.length;++D)if(q=this.getSSPPlacementId(this.mSovrnConfig,u,z[D][0]+"x"+z[D][1],e.position,!1,e.divId)){_=c.indexOf("sovrn")>-1?p.S2S:p.CLIENT,A.indexOf("sovrn")>-1&&c.indexOf("sovrn")<0||c.indexOf("sovrn")>-1&&o.isPrebidS2SEnabled?(U={},R={bidder:"sovrn"},O={tagid:q,size:z[D]},L=this.fetchFloorValueByBidder(e.divId,m,"sv",_,z[D][0]+"x"+z[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(_==p.S2S&&(w=+w),O=r(r({},O),{bidfloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:sovrn;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"sovrn"});break}(A.indexOf("sovrn")>-1&&c.indexOf("sovrn")<0||c.indexOf("sovrn")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(z),v=v.concat(z))}var B=this.getYieldmoSizes(b);if(null!=this.mYieldmoConfig&&this.mYieldmoConfig.IsEnabled&&B.length>0){for(D=0;D<B.length;++D)if(q=this.getSSPPlacementId(this.mYieldmoConfig,u,B[D][0]+"x"+B[D][1],e.position,!0,e.divId)){_=c.indexOf("yieldmo")>-1?p.S2S:p.CLIENT,A.indexOf("yieldmo")>-1&&c.indexOf("yieldmo")<0||c.indexOf("yieldmo")>-1&&o.isPrebidS2SEnabled?(U={},R={bidder:"yieldmo"},O={placementId:q.toString()},L=this.fetchFloorValueByBidder(e.divId,m,"ym",_,B[D][0]+"x"+B[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{bidFloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:yieldmo;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"yieldmo"});break}(A.indexOf("yieldmo")>-1&&c.indexOf("yieldmo")<0||c.indexOf("yieldmo")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(B),v=v.concat(B))}var H=this.get33AcrossSizes(b);if(null!=this.m33AcrossConfig&&this.m33AcrossConfig.IsEnabled&&H.length>0){for(D=0;D<H.length;++D)if(q=this.getSSPPlacementId(this.m33AcrossConfig,u,H[D][0]+"x"+H[D][1],e.position,!0,e.divId)){_=c.indexOf("33across")>-1?p.S2S:p.CLIENT;var j="siab";if("Adhesion"!=u&&"Adhesion_Tpc"!=u||(j="inview"),A.indexOf("33across")>-1&&c.indexOf("33across")<0||c.indexOf("33across")>-1&&o.isPrebidS2SEnabled){L=this.fetchFloorValueByBidder(e.divId,m,"ta",_,H[D][0]+"x"+H[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L);var W={};W={siteId:q,productId:j},c.indexOf("33across")>-1&&"buyerId"in this.m33AcrossConfig&&"zoneId"in this.m33AcrossConfig&&(W={siteId:this.m33AcrossConfig.buyerId,productId:this.m33AcrossConfig.zoneId}),P.push({bidder:"33across",params:W}),S.push("mediatype:banner;bidder:33across;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")}else E.push({bidder:"33across"});break}(A.indexOf("33across")>-1&&c.indexOf("33across")<0||c.indexOf("33across")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(H),v=v.concat(H))}var K=this.getAolSizes(b);if(null!=this.mAolConfig&&this.mAolConfig.IsEnabled&&K.length>0){for(D=0;D<K.length;++D){var q=this.getSSPPlacementId(this.mAolConfig,u,K[D][0]+"x"+K[D][1],e.position,!0,e.divId),J=this.getSiteIdForDevice(this.mAolConfig,u);if(q&&J){_=c.indexOf("aol")>-1?p.S2S:p.CLIENT,A.indexOf("aol")>-1&&c.indexOf("aol")<0||c.indexOf("aol")>-1&&o.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"aol",_,K[D][0]+"x"+K[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"onemobile",params:{dcn:J,pos:q}}),S.push("mediatype:banner;bidder:onemobile;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"onemobile"});break}}(A.indexOf("aol")>-1&&c.indexOf("aol")<0||c.indexOf("aol")>-1&&o.isPrebidS2SEnabled)&&(T=T.concat(K),v=v.concat(K))}var Y=this.getGumgumSizes(b);if(null!=this.mGumgumConfig&&this.mGumgumConfig.IsEnabled&&Y.length>0)for(D=0;D<Y.length;++D)if(q=this.getSSPPlacementId(this.mGumgumConfig,u,Y[D][0]+"x"+Y[D][1],e.position,!0,e.divId)){_=c.indexOf("gumgum")>-1?p.S2S:p.CLIENT,A.indexOf("gumgum")>-1&&c.indexOf("gumgum")<0||c.indexOf("gumgum")>-1&&o.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"gm",_,Y[D][0]+"x"+Y[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"gumgum",params:{inSlot:q}}),S.push("mediatype:banner;bidder:gumgum;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat([Y[D]]),v=v.concat([Y[D]])):E.push({bidder:"gumgum"});break}var Q=this.getTripleliftSizes(b);if(null!=this.mTripleliftConfig&&this.mTripleliftConfig.IsEnabled&&Q.length>0)for(D=0;D<Q.length;++D)if(q=this.getSSPPlacementId(this.mTripleliftConfig,u,Q[D][0]+"x"+Q[D][1],e.position,!0,null)){if(_=c.indexOf("triplelift")>-1?p.S2S:p.CLIENT,A.indexOf("triplelift")>-1&&c.indexOf("triplelift")<0||c.indexOf("triplelift")>-1&&o.isPrebidS2SEnabled){U={},R={bidder:"triplelift"},O={inventoryCode:q},L=this.fetchFloorValueByBidder(e.divId,m,"tpl",_,Q[D][0]+"x"+Q[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{floor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:triplelift;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";");try{var Z=n([],Q[D],!0);v=v.concat([Z])}catch(e){v=v.concat([Q[D]])}3==(re=Q[D])[0]&&(re[1]=1),T=T.concat([re])}else E.push({bidder:"triplelift"});break}var X=this.getSmartAdServerSizes(b);if(null!=this.mSmartAdServerConfig&&this.mSmartAdServerConfig.IsEnabled&&X.length>0){for(D=0;D<X.length;++D)if((q=this.getSSPPlacementId(this.mSmartAdServerConfig,u,X[D][0]+"x"+X[D][1],e.position,!0,e.divId))&&this.convertToInt(q)){if(_=c.indexOf("smartadserver")>-1?p.S2S:p.CLIENT,A.indexOf("smartadserver")>-1&&c.indexOf("smartadserver")<0||c.indexOf("smartadserver")>-1&&o.isPrebidS2SEnabled){U={},R={bidder:"smartadserver"};var $={formatId:this.convertToInt(this.mSmartAdServerConfig.formatId),siteId:this.convertToInt(this.mSmartAdServerConfig.siteId),pageId:this.convertToInt(q)};c.indexOf("smartadserver")>-1&&"networkId"in this.mSmartAdServerConfig&&($=r(r({},$),{networkId:this.mSmartAdServerConfig.networkId})),L=this.fetchFloorValueByBidder(e.divId,m,"sa",_,X[D][0]+"x"+X[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,$=r(r({},$),{bidfloor:w})),U=r(r(r({},U),R),{params:$}),P.push(U),S.push("mediatype:banner;bidder:smartadserver;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")}else E.push({bidder:"smartadserver"});break}(A.indexOf("smartadserver")>-1&&c.indexOf("smartadserver")<0||c.indexOf("smartadserver")>-1)&&(T=T.concat(X),v=v.concat(X))}var ee=this.getImproveDigitalSizes(b);if(null!=this.mImproveDigitalConfig&&this.mImproveDigitalConfig.IsEnabled&&ee.length>0)for(D=0;D<ee.length;++D)if((q=this.getSSPPlacementId(this.mImproveDigitalConfig,u,ee[D][0]+"x"+ee[D][1],e.position,!1,e.divId))&&this.convertToInt(q))if(_=c.indexOf("improvedigital")>-1?p.S2S:p.CLIENT,A.indexOf("improvedigital")>-1&&c.indexOf("improvedigital")<0||c.indexOf("improvedigital")>-1&&o.isPrebidS2SEnabled){U={},R={bidder:"improvedigital"};var te={placementId:this.convertToInt(q)};c.indexOf("improvedigital")>-1?"partnerId"in this.mImproveDigitalConfig&&(te=r(r({},te),{partnerId:this.mImproveDigitalConfig.partnerId})):("partnerId"in this.mImproveDigitalConfig&&(te=r(r({},te),{publisherId:this.mImproveDigitalConfig.partnerId})),te=r(r({},te),{size:ee[D]})),L=this.fetchFloorValueByBidder(e.divId,m,"dgt",_,ee[D][0]+"x"+ee[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,te=r(r({},te),{bidFloor:w})),U=r(r(r({},U),R),{params:te}),P.push(U),S.push("mediatype:banner;bidder:improvedigital;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat([ee[D]]),v=v.concat([ee[D]])}else E.push({bidder:"improvedigital"});var ie=this.getShareThroughSizes(b);if(null!=this.mShareThroughConfig&&this.mShareThroughConfig.IsEnabled&&ie.length>0)for(D=0;D<ie.length;++D)if(q=this.getSSPPlacementId(this.mShareThroughConfig,u,ie[D][0]+"x"+ie[D][1],e.position,!0,e.divId)){if(_=c.indexOf("sharethrough")>-1?p.S2S:p.CLIENT,A.indexOf("sharethrough")>-1&&c.indexOf("sharethrough")<0||c.indexOf("sharethrough")>-1&&o.isPrebidS2SEnabled){L=this.fetchFloorValueByBidder(e.divId,m,"sh",_,ie[D][0]+"x"+ie[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"sharethrough",params:{pkey:q}}),S.push("mediatype:banner;bidder:sharethrough;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";");var re=ie[D];T=T.concat([re]),v=v.concat([re])}else E.push({bidder:"sharethrough"});break}var ne=this.getMediaNetSizes(b);if(null!=this.mMediaNetConfig&&this.mMediaNetConfig.IsEnabled&&ne.length>0)for(D=0;D<ne.length;++D)if(q=this.getSSPPlacementId(this.mMediaNetConfig,u,ne[D][0]+"x"+ne[D][1],e.position,!0,e.divId)){_=c.indexOf("medianet")>-1?p.S2S:p.CLIENT,A.indexOf("medianet")>-1&&c.indexOf("medianet")<0||c.indexOf("medianet")>-1&&o.isPrebidS2SEnabled?(U={},R={bidder:"medianet"},O={cid:this.mMediaNetConfig.customerId,crid:q},L=this.fetchFloorValueByBidder(e.divId,m,"mn",_,ne[D][0]+"x"+ne[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{bidfloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:medianet;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),re=ne[D],T=T.concat([re]),v=v.concat([re])):E.push({bidder:"medianet"});break}var se=this.getAutomatAdSizes(b);if(null!=this.mAutomatAdConfig&&this.mAutomatAdConfig.IsEnabled&&se.length>0)for(D=0;D<se.length;++D){M=se[0].join("x"),"primaryAdSize"in e&&(M=e.primaryAdSize);var ae=this.getSlotName(e,t,M,d);if(ae){_=c.indexOf("automatad")>-1?p.S2S:p.CLIENT,A.indexOf("automatad")>-1&&c.indexOf("automatad")<0||c.indexOf("automatad")>-1&&o.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"aa",_,M,d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"automatad",params:{siteId:this.mAutomatAdConfig.siteId,placementId:ae}}),S.push("mediatype:banner;bidder:automatad;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),re=se[D],T=T.concat([re]),v=v.concat([re])):E.push({bidder:"automatad"});break}}var oe=this.getAdaptmxSizes(b);if(null!=this.mAdaptmxConfig&&this.mAdaptmxConfig.IsEnabled&&oe.length>0)for(D=0;D<oe.length;++D){M=oe[0].join("x");var le=this.getSlotName(e,t,M,d);if(le){_=c.indexOf("amx")>-1?p.S2S:p.CLIENT;var de=a.Utility.getInstance().getFromSessionStorage("ic_uat_amx_test");A.indexOf("amx")>-1&&c.indexOf("amx")<0||c.indexOf("amx")>-1&&o.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"amx",_,M,d),w=this.getFloorPrice(L),N=this.getFloorType(L),null==de?P.push({bidder:"amx",params:{adUnitId:le,tagId:this.mAdaptmxConfig.tagId}}):P.push({bidder:"amx",params:{testMode:!0,adUnitId:le,tagId:"cHJlYmlkLm9yZw"}}),S.push("mediatype:banner;bidder:amx;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat([oe[D]]),v=v.concat([oe[D]])):E.push({bidder:"amx"});break}}var me=this.getOutbrainSizes(b);if(null!=this.mOutbrainConfig&&this.mOutbrainConfig.IsEnabled&&me.length>0&&e.nativeLayout&&"prebidConfig"in e.nativeLayout)for(D=0;D<me.length;++D){M=me[0].join("x"),h={native:JSON.parse(e.nativeLayout.prebidConfig)};var ue=this.getOutbrainTagId(e,t,M,d);if(ue){_=c.indexOf("outbrain")>-1?p.S2S:p.CLIENT,A.indexOf("outbrain")>-1&&c.indexOf("outbrain")<0||c.indexOf("outbrain")>-1&&o.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"ob",_,M,d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"outbrain",params:{publisher:{id:this.mOutbrainConfig.publisherId},tagid:ue}}),this.prepareConfig(!0),S.push("mediatype:native;bidder:outbrain;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),re=me[D],v=v.concat([me[D]]),3==re[0]&&(re[1]=1),T=T.concat([re])):E.push({bidder:"outbrain"});break}}if(E&&E.length>0){var ce="",pe=e.divId.split("_");pe[2]&&(ce=pe[2]),U={code:f,mediaTypes:r({},h),bids:E,req:r(r({},this.mSspsLogsParams),{rnd:ce,adslot:f,arc:i})},f in this.mNotLoadedAdUnits||(this.mNotLoadedAdUnits[f]=[]),this.mNotLoadedAdUnits[f].push(U)}if(T=y.getInstance().removeDuplicateFromArray(T),v=y.getInstance().removeDuplicateFromArray(v),P&&P.length>0){var ge=[];try{ge=n([],v,!0)}catch(e){}this.mSSPLogs[f]=a.Utility.createSSPReqObject(S,ge,this.mSspsLogsParams,f,i);var he=this.getGpid(e,f),fe={ext:{gpid:he,data:{pbadslot:he}}};return{code:f,mediaTypes:r({banner:{sizes:T}},h),bids:P,ortb2Imp:fe}}return null},e.prototype.getGpid=function(e,t){var i="";try{var r="",n=e.tag.getTargetName();e.tag.getTargetName().indexOf(".bottom")>0&&(n=n.replace(".bottom",""));var s=e.primaryAdSize;t.indexOf("stack")>0&&(r="_stack","parentAdSize"in e&&(s=e.parentAdSize)),i="/"+a.Constant.NETWORK_CODE+"/"+e.tag.getSiteDFPKeyName()+"/"+n+"#"+s+"_"+e.position+r}catch(e){}return i},e.prototype.convertToInt=function(e){try{return parseInt(e)}catch(e){}},e.prototype.prebidCallback=function(e,t,i){var r=this.mIC_Window.ic_pbjs.getNoBids();try{I&&(y.getInstance().debugConsoleMessage("Received bids from Prebid ",[e]),y.getInstance().debugConsoleMessage("Received no bids from Prebid ",[r]))}catch(e){}var n=[];for(var s in e){var a=e[s];try{I&&y.getInstance().debugConsoleMessage("Received bids from Prebid Values---",[a])}catch(e){}var o={};if(a&&a.bids)for(var l=0;l<a.bids.length;++l)o[(d=a.bids[l]).bidder]={bid_value:parseFloat(d.adserverTargeting.hb_pb),bid_id:d.adserverTargeting.hb_adid,size:d.adserverTargeting.hb_size,deal_id:a.dealId};"function"==typeof t&&(s=s.replace(this.mHVSuffix,""),n.push(s),t(s,o))}for(var s in r){a=r[s];try{I&&y.getInstance().debugConsoleMessage("Received no bids from Prebid Values---",[a])}catch(e){}if(o={},a&&a.bids)for(l=0;l<a.bids.length;++l){var d;o[(d=a.bids[l]).bidder]={}}"function"==typeof t&&t(s=s.replace(this.mHVSuffix,""),o)}},e.prototype.getSupportedAdSizes=function(e,t,i){for(var r=[],n=0;n<e.length;++n)if(!(i.indexOf(e[n])<0||t&&t.indexOf(e[n])<0)){var s=e[n].split("x");s[0]=parseInt(s[0]),s[1]=parseInt(s[1]),r.push(s)}return r},e.prototype.getAppnexusSizes=function(e){return this.getSupportedAdSizes(e,this.getAppnexusEnabledAdSizes(),A)},e.prototype.getRubiconSizes=function(e){return this.getSupportedAdSizes(e,this.getRubiconEnabledAdSizes(),v)},e.prototype.getPubmaticSizes=function(e){return this.getSupportedAdSizes(e,this.getPubmaticEnabledAdSizes(),P)},e.prototype.getOpenXSizes=function(e){return this.getSupportedAdSizes(e,this.getOpenXEnabledAdSizes(),C)},e.prototype.getCriteoSizes=function(e){return this.getSupportedAdSizes(e,this.getCriteoEnabledAdSizes(),D)},e.prototype.getSovrnSizes=function(e){return this.getSupportedAdSizes(e,this.getSovrnEnabledAdSizes(),_)},e.prototype.getYieldmoSizes=function(e){return this.getSupportedAdSizes(e,this.getYieldmoEnabledAdSizes(),U)},e.prototype.get33AcrossSizes=function(e){return this.getSupportedAdSizes(e,this.get33AcrossEnabledAdSizes(),R)},e.prototype.getAolSizes=function(e){return this.getSupportedAdSizes(e,this.getAolEnabledAdSizes(),O)},e.prototype.getGumgumSizes=function(e){return this.getSupportedAdSizes(e,this.getGumgumEnabledAdSizes(),L)},e.prototype.getTripleliftSizes=function(e){return this.getSupportedAdSizes(e,this.getTripleliftEnabledAdSizes(),w)},e.prototype.getAdaptmxSizes=function(e){return this.getSupportedAdSizes(e,this.getAdaptmxEnabledAdSizes(),N)},e.prototype.getSmartAdServerSizes=function(e){return this.getSupportedAdSizes(e,this.getSmartAdServerEnabledAdSizes(),F)},e.prototype.getImproveDigitalSizes=function(e){return this.getSupportedAdSizes(e,this.getImproveDigitalEnabledAdSizes(),k)},e.prototype.getShareThroughSizes=function(e){return this.getSupportedAdSizes(e,this.getShareThroughEnabledAdSizes(),M)},e.prototype.getMediaNetSizes=function(e){return this.getSupportedAdSizes(e,this.getMediaNetEnabledAdSizes(),x)},e.prototype.getOutbrainSizes=function(e){return this.getSupportedAdSizes(e,this.getOutbrainEnabledAdSizes(),G)},e.prototype.getAutomatAdSizes=function(e){return this.getSupportedAdSizes(e,this.getAutomatAdEnabledAdSizes(),V)},e.prototype.getAdUnitType=function(e,t,i,r){var n="NORMAL";return(e||t&&i&&"t"==i)&&(n="HV"),"t"==r.thirdPartyCookie&&(n="HV"==n?"HV_Tpc":"Tpc"),r.isAdhesion&&(n="Tpc"==n||"HV_Tpc"==n?"Adhesion_Tpc":"Adhesion"),n},e.prototype.setPlacementConfig=function(e,t,i){return e&&null!=e?("HV"!=i&&"Adhesion"!=i&&"Adhesion_Tpc"!=i&&"HV_Tpc"!=i||!("HV_Id"in e)||(t=e.HV_Id),"Tpc"==i&&"Tpc_Id"in e&&(t=e.Tpc_Id),"HV_Tpc"==i&&"HV_Tpc_Id"in e&&(t=e.HV_Tpc_Id),"Adhesion"==i&&"Adhesion"in e&&(t=e.Adhesion),"Adhesion_Tpc"==i&&"Adhesion_Tpc_Id"in e&&(t=e.Adhesion_Tpc_Id),t&&null!=t||(t=e.Default),t):null},e.prototype.setStackPlacementConfig=function(e,t,i){return e&&null!=e?("Stack_HV"!=(i="Stack_"+i)&&"Stack_Adhesion"!=i&&"Stack_Adhesion_Tpc"!=i&&"Stack_HV_Tpc"!=i||!("Stack_HV_Id"in e)||(t=e.Stack_HV_Id),"Stack_Tpc"==i&&"Stack_Tpc_Id"in e&&(t=e.Stack_Tpc_Id),"Stack_HV_Tpc"==i&&"Stack_HV_Tpc_Id"in e&&(t=e.Stack_HV_Tpc_Id),"Stack_Adhesion"==i&&"Stack_Adhesion"in e&&(t=e.Stack_Adhesion),"Stack_Adhesion_Tpc"==i&&"Stack_Adhesion_Tpc_Id"in e&&(t=e.Stack_Adhesion_Tpc_Id),t&&null!=t||!("Stack_Id"in e)||(t=e.Stack_Id),t&&null!=t||(t=e.Default),t):null},e.prototype.getSSPPlacementId=function(e,t,i,r,n,s){var a;return void 0===r&&(r=1),void 0===n&&(n=!0),a=1==this.isDummyStackPlacement(s)?this.setStackPlacementConfig(e,a,t):this.setPlacementConfig(e,a,t),this.getPlacementIdForAdSize(a,i,r,n)},e.prototype.getPlacementIdForAdSize=function(e,t,i,r){var n;if(void 0===i&&(i=1),void 0===r&&(r=!0),!e||null==e)return null;t in e?n=e[t]:"Default"in e&&(n=e.Default);var s=null;return n&&null!=n&&n.length>0&&(n.length>=i?s=n[i-1]:r&&(s=n[(i-1)%n.length])),s},e.prototype.getRubiconZoneId=function(e){return"HV"==e&&this.mRubiconConfig.HVZoneId?this.mRubiconConfig.HVZoneId:this.mRubiconConfig.ZoneId},e.prototype.checkAndSetConfigForDummyPlacement=function(e){var t="";if("divId"in e){var i=e.divId;this.isDummyStackPlacement(i)&&(t="Stack_")}return t},e.prototype.getPubmaticSlotNamePrefix=function(e,t,i,r){var n="",s="",a=this.checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==r)&&(n="HV_"),e.isAdhesion&&(n="Adhesion_"),"t"==e.thirdPartyCookie&&(n+="AC_"),this.mDeviceType){case"m":s="Mobile_";break;case"t":s="Tablet_";break;default:s="Desktop_"}return this.mPubmaticConfig.SlotNamePrefix+"_"+a+n+s+i+"_"+e.position},e.prototype.getAdUnitByDivId=function(e,t){for(var i=null,r=0;r<e.length;++r)if(e[r].code.indexOf(t)>=0){i=e[r];break}return i},e.prototype.getTagId=function(e,t,i,r,n,s){if(null==r||!("Config"in r))return null;if((e||n&&"t"==s)&&"HV"in r.Config&&t in r.Config.HV&&r.Config.HV[t].length>=i)return r.Config.HV[t][i-1];switch(this.mDeviceType){case"d":if("Desktop"in r.Config&&t in r.Config.Desktop&&r.Config.Desktop[t].length>=i)return r.Config.Desktop[t][i-1];break;case"m":if("Mobile"in r.Config&&t in r.Config.Mobile&&r.Config.Mobile[t].length>=i)return r.Config.Mobile[t][i-1];break;case"t":if("Tablet"in r.Config&&t in r.Config.Tablet&&r.Config.Tablet[t].length>=i)return r.Config.Tablet[t][i-1]}return null},e.prototype.getPlacementIdForPrimaryAdSize=function(e,t,i,r,n){if(!("Config"in i))return null;if((e||r&&"t"==n)&&"HV"in i.Config&&t in i.Config.HV)return i.Config.HV[t];switch(this.mDeviceType){case"d":if("Desktop"in i.Config&&t in i.Config.Desktop)return i.Config.Desktop[t];break;case"m":if("Mobile"in i.Config&&t in i.Config.Mobile)return i.Config.Mobile[t];break;case"t":if("Tablet"in i.Config&&t in i.Config.Tablet)return i.Config.Tablet[t]}return null},e.prototype.getSiteIdForDevice=function(e,t){var i;return"HV"==t&&"HV_Id"in e&&(i=e.HV_Id),"Tpc"==t&&"Tpc_Id"in e&&(i=e.Tpc_Id),"HV_Tpc"==t&&"HV_Tpc_Id"in e&&(i=e.HV_Tpc_Id),i&&null!=i||(i=e.Default),i&&"SiteId"in i?i.SiteId:null},e.prototype.getSlotName=function(e,t,i,r){var n="",s="",a=this.checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==r)&&(n="HV_"),e.isAdhesion&&(n="Adhesion_"),"t"==e.thirdPartyCookie&&(n+="AC_"),this.mDeviceType){case"m":s+="Mobile_";break;case"t":s+="Tablet_";break;default:s+="Desktop_"}return this.mAdTagName+"_"+a+n+s+i+"_"+e.position},e.prototype.getOutbrainTagId=function(e,t,i,r){var n="",s="";switch((e.isSspHVPlacement||t&&"t"==r)&&(n="HV_"),e.isAdhesion&&(n="Adhesion_"),"t"==e.thirdPartyCookie&&(n+="AC_"),this.mDeviceType){case"m":s+="Mobile_";break;case"t":s+="Tablet_";break;default:s+="Desktop_"}return this.mAdTagName+"_"+n+s+i+"_"+e.position},e.prototype.getPriceBucketString=function(e,t,i){void 0===i&&(i=1);var r=parseFloat(e);return isNaN(r)&&(r=0),this.getCpmStringValue(r,t,i)},e.prototype.getCpmStringValue=function(e,t,i){var r="";if(!this.isValidPriceConfig(t))return r;var n=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),s=0,a=t.buckets.find((function(t){if(e>n.max*i){var a=t.precision;void 0===a&&(a=2),r=(t.max*i).toFixed(a)}else{if(e<=t.max*i&&e>=s*i)return t.min=s,t;s=t.max}}));return a&&(r=this.getCpmTarget(e,a,i)),r},e.prototype.isValidPriceConfig=function(e){if(null==e||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t},e.prototype.getCpmTarget=function(e,t,i){var r=void 0!==t.precision?t.precision:2,n=t.increment*i,s=t.min*i,a=Math.pow(10,r+2),o=(e*a-s*a)/(n*a),l=Math.floor(o)*n+s;return(l=Number(l.toFixed(10))).toFixed(r)},e.prototype.isDummyStackPlacement=function(e){if(e){var t=e.split("_");if(t.length>=4){var i=t[3];if(T.indexOf(i)>-1)return!0}}return!1},e}(),f=function(){function e(e,t){this.mA9Script='!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");',this.mStatus=d.INITIALIZED,this.mSspsLogsParams={},this.mSSPLogs=[],this.mDeals=!1,this.mDeviceType=e,this.mTimeout=t.timeout,this.mRefreshTimeout=t.refreshTimeout,this.mDeals=t.deals,"adSizes"in t&&(this.mA9EnabledAdSizes=t.adSizes);var i=document.createElement("script");i.id="IC_A9Script",i.text=this.mA9Script,document.head.appendChild(i)}return e.prototype.callSSP=function(e,t,i,n,l){var u=this;this.mSspsLogsParams=i;var c=this.mTimeout;l&&(c=this.mRefreshTimeout);var g=[];try{for(var h=0;h<e.length;++h){for(var f=e[h],S=this.getSlotName(f,l),b=f.adSize,T=[],v=0;v<b.length;++v)E.indexOf(b[v])<0||this.mA9EnabledAdSizes&&this.mA9EnabledAdSizes.indexOf(b[v])<0||T.push(b[v].split("x"));if(!(T.length<=0)){var P="",A="1",C=!1;try{if(void 0!==o.getInstance().getPrebid()){var D=o.getInstance().getPrebid(),_=p.CLIENT;C=s.Template.isFloorPriceApplicable();var U=D.fetchFloorValueByBidder(f.divId,C,"a9",_,T[0][0]+"x"+T[0][1],l);P=D.getFloorPrice(U),A=D.getFloorType(U)}}catch(e){}I&&y.getInstance().debugConsoleMessage("Floor Applicable for A9 :: "+C+" :: for AdUnit:: "+f.divId);var R={slotID:f.divId,slotName:S,sizes:T};P&&""!=P&&(R=r(r({},R),{floor:{value:+(100*+P).toFixed(),currency:"USD"}})),g.push(R);var O=["mediatype:banner;bidder:a9;source:"+p.CLIENT+";floorprice:"+P+";floortype:"+A+";"];this.mSSPLogs[f.divId]=a.Utility.createSSPReqObject(O,T,i,f.divId,n)}}try{I&&y.getInstance().debugConsoleMessage("Called A9 SSP for adslots ",[g])}catch(e){}if(g.length<=0)return;var L={pubID:"3310",adServer:"googletag"};"config"in s.Template.schainConfig&&(L=r(r({},L),{schain:s.Template.schainConfig.config})),this.mDeals&&(L=r(r({},L),{deals:!0})),apstag.init(L),this.mStatus=d.INPROGRESS;var w=(new Date).getTime();apstag.fetchBids({slots:g,timeout:c},(function(i,n){u.mStatus=d.RECEIVED;var s=(new Date).getTime();try{I&&y.getInstance().debugConsoleMessage("Received bids from A9 ",[i])}catch(e){}for(var o=[],l=0;l<i.length;++l){var c=JSON.parse(JSON.stringify(i[l])),p={},g="",h="",f="",S="",b="";u.mDeals&&"targeting"in c?("amzndeal_sp"in c.targeting?(g=c.targeting.amzniid_sp,h=c.targeting.amznbid_sp,f=c.targeting.amzndeal_sp,b=c.targeting.amznsz_sp,S=c.targeting.amznp_sp):(g=c.targeting.amzniid,h=c.targeting.amznbid,b=c.targeting.amznsz,"amznp"in c.targeting&&(S=c.targeting.amznp)),c.amzniid=g,c.amznsz=b):(g=c.amzniid,h=c.amznbid,b=c.size,"amznp"in c&&(S=c.amznp)),p={bid_value:h,bid_id:g,size:b},""!=f&&(p=r(r({},p),{deal_id:f})),""!=S&&(p=r(r({},p),{partner_id:S})),"function"==typeof t&&(o.push(c.slotID),t(c.slotID,p));var T=c.slotID,v=[],P=[],E="0";try{if(""!=g){var A=m;void 0!==A[h]&&(E=A[h])}}catch(e){}c.auctionId="",c.auctionStart=w,c.requestTimestamp=w,c.responseTimestamp=s,c.timeToRespond=s-w,c.ttl="",c.adId="",c.currency="",c.creativeId="",c.netRevenue="",c.dealId=f,c.cpm=E,""!=g?((v=c).statusMessage="Bid available",c.netRevenue=!0,c.currency="USD"):""==g&&((P=c).statusMessage="No Bid"),a.Utility.getInstance().createA9SSPResponseObject(T,u.mSSPLogs,v,P,n.fromTimeout)}if("function"==typeof t)for(l=0;l<e.length;++l)o.indexOf(e[l].divId)<0&&t(e[l].divId,null)}))}catch(e){var N=new CustomEvent("IC_JSErrorEvent",{detail:"A9 SSP: Error in callSSP. "+e});document.dispatchEvent(N)}},e.prototype.getStatus=function(){return this.mStatus},e.prototype.getA9EnabledAdSizes=function(){return this.mA9EnabledAdSizes?this.mA9EnabledAdSizes:null},e.prototype.getSlotName=function(e,t){var i="",r=o.getInstance().getPrebid().checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==t)&&(i="HighView_"),e.isAdhesion&&(i="Adhesion_"),"t"==e.thirdPartyCookie&&(i+="ActiveCookie_"),this.mDeviceType){case"d":default:i+="Desktop";break;case"m":i+="Mobile";break;case"t":i+="Tablet"}return r+i},e}(),S=function(){function e(){this.mIC_Window=s.Template.getDropScriptWindow(),this.mMarkitLibrary=("https:"==document.location.protocol?"https://":"http://")+"ad.wsod.com/pub/37693cfc748049e45d87b8c7d8b9aacd/0.0.async/"}return e.prototype.callMarkit=function(e,t){var i=this;if(!this.mIC_Window.document.getElementById("IC_MarkitScript")){self!=this.mIC_Window&&window.location.hostname==this.mIC_Window.location.hostname?this.mIC_Window.document.getElementsByTagName("iframe")[0]:this.mIC_Window.document.getElementsByTagName("script")[0];var r="IC_MarkitScript";a.Utility.getInstance().isJsFileExistsInDom(e,r,I)||a.Utility.getInstance().dropScripts(e,this.mMarkitLibrary,"MarkitScript",I,r,!0,!1),this.mIC_Window.ICMarkitCallback=function(){try{I&&y.getInstance().debugConsoleMessage("Received values from Markit ",[i.mIC_Window.mdjs.targeting.getCustom()])}catch(e){}t&&"function"==typeof t&&t(i.mIC_Window.mdjs.targeting.getCustom())}}},e}(),y=function(){function e(){}return e.getInstance=function(){return null==this.mCommon&&(this.mCommon=new e),this.mCommon},e.prototype.debugConsoleMessage=function(e,t){try{var i=[];if(i.push("%c IC UAT ","border-radius:4px;background:#8bc43f;color:#fff;font-weight: bold;"),i.push(e),t)for(var r=0;r<t.length;r++)i.push(t[r]);console.log.apply(console,i)}catch(e){}},e.prototype.dropAsyncScript=function(e,t,i,r){var n=document.createElement("script");n.id=i,n.src=e,n.type="text/javascript",n.async=!0,t&&(t.parentNode.insertBefore(n,t),r&&a.Utility.getInstance().debugConsoleMessage("Dropped script: Markit"))},e.prototype.removeDuplicateFromArray=function(e){for(var t=[],i=[],r=0;r<e.length;++r){var n=e[r].toString();i.indexOf(n)>=0||(i.push(n),t.push(e[r]))}return t},e.mCommon=null,e}();!function(e){e["160x600"]="16",e["250x250"]="22",e["320x50"]="35",e["300x250"]="32",e["300x600"]="36",e["300x1050"]="31",e["468x60"]="46",e["728x90"]="79",e["970x90"]="99",e["970x250"]="92",e["320x100"]="30"}(l||(l={})),function(e){e.INITIALIZED="INITIALIZED",e.INPROGRESS="INPROGRESS",e.RECEIVED="RECEIVED",e.USED="USED",e.FAILED="FAILED",e.NOT_APPLICABLE="NOT_APPLICABLE"}(d||(d={})),function(e){e.erg1s="0.00",e.zxbh1c="0.01",e.i61gjk="0.02",e["1holhj4"]="0.03",e["9aegao"]="0.04",e["18syha8"]="0.05",e.r1ogsg="0.06",e["1qk8hs0"]="0.07",e["4uky68"]="0.08",e["14d4z5s"]="0.09",e.mluyo0="0.10",e["1m4eznk"]="0.11",e.dq7yf4="0.12",e["1d8rzeo"]="0.13",e.vhhyww="0.14",e["1v01zwg"]="0.15",e["2mo740"]="0.16",e["125883k"]="0.17",e.kdy7ls="0.18",e["1jwi8lc"]="0.19",e.bib7cw="0.20",e["1b0v8cg"]="0.21",e.t9l7uo="0.22",e["1ss58u8"]="0.23",e["72hp8g"]="0.24",e["16l1q80"]="0.25",e.otrpq8="0.26",e["1ocbqps"]="0.27",e.fy4phc="0.28",e["1fgoqgw"]="0.29",e.xpepz4="0.30",e["1x7yqyo"]="0.31",e["1iptkw"]="0.32",e["1119ukg"]="0.33",e.j9zu2o="0.34",e["1isjv28"]="0.35",e.aectts="0.36",e["19wwutc"]="0.37",e.s5mubk="0.38",e["1ro6vb4"]="0.39",e["5yjbpc"]="0.40",e["15h3cow"]="0.41",e.nptc74="0.42",e["1n8dd6o"]="0.43",e.eu6by8="0.44",e["1ecqcxs"]="0.45",e.wlgcg0="0.46",e["1w40dfk"]="0.47",e["3qmkn4"]="0.48",e["1396lmo"]="0.49",e.lhwl4w="0.50",e["1l0gm4g"]="0.51",e.cm9kw0="0.52",e["1c4tlvk"]="0.53",e.udjlds="0.54",e["1tw3mdc"]="0.55",e["86g2rk"]="0.56",e["17p03r4"]="0.57",e.pxq39c="0.58",e["1pga48w"]="0.59",e.h2330g="0.60",e["1gkn400"]="0.61",e.ytd3i8="0.62",e["1ybx4hs"]="0.63",e.yqmtc="0.64",e["10hansw"]="0.65",e.iq0nb4="0.66",e["1i8koao"]="0.67",e["9udn28"]="0.68",e["19cxo1s"]="0.69",e.rlnnk0="0.70",e["1r47ojk"]="0.71",e["5ek4xs"]="0.72",e["14x45xc"]="0.73",e.n5u5fk="0.74",e["1moe6f4"]="0.75",e.ea756o="0.76",e["1dsr668"]="0.77",e.w1h5og="0.78",e["1vk16o0"]="0.79",e["36ndvk"]="0.80",e["12p7ev4"]="0.81",e.kxxedc="0.82",e["1kghfcw"]="0.83",e.c2ae4g="0.84",e["1bkuf40"]="0.85",e.ttkem8="0.86",e["1tc4fls"]="0.87",e["7mgw00"]="0.88",e["1750wzk"]="0.89",e.pdqwhs="0.90",e["1owaxhc"]="0.91",e.gi3w8w="0.92",e["1g0nx8g"]="0.93",e.y9dwqo="0.94",e["1xrxxq8"]="0.95",e["22p0cg"]="0.96",e["11l91c0"]="0.97",e.jtz0u8="0.98",e["1jcj1ts"]="0.99",e.ayc0lc="1.00",e["1agw1kw"]="1.01",e.spm134="1.02",e["1s8622o"]="1.03",e["6iiigw"]="1.04",e["1612jgg"]="1.05",e.o9siyo="1.06",e["1nscjy8"]="1.07",e.fe5ips="1.08",e["1ewpjpc"]="1.09",e.x5fj7k="1.10",e["1wnzk74"]="1.11",e["4alreo"]="1.12",e["13t5se8"]="1.13",e.m1vrwg="1.14",e["1lkfsw0"]="1.15",e.d68rnk="1.16",e["1cossn4"]="1.17",e.uxis5c="1.18",e["1ug2t4w"]="1.19",e["8qf9j4"]="1.20",e["188zaio"]="1.21",e.qhpa0w="1.22",e["1q09b0g"]="1.23",e.hm29s0="1.24",e["1h4mark"]="1.25",e.zdca9s="1.26",e["1yvwb9c"]="1.27",e["4ruo0"]="1.28",e.znbvnk="1.29",e.hw1v5s="1.30",e["1helw5c"]="1.31",e["90euww"]="1.32",e["18iyvwg"]="1.33",e.qroveo="1.34",e["1qa8we8"]="1.35",e["4klcsg"]="1.36",e["1435ds0"]="1.37",e.mbvda8="1.38",e["1lufe9s"]="1.39",e.dg8d1c="1.40",e["1cyse0w"]="1.41",e.v7idj4="1.42",e["1uq2eio"]="1.43",e["2colq8"]="1.44",e["11v8mps"]="1.45",e.k3ym80="1.46",e["1jmin7k"]="1.47",e.b8blz4="1.48",e["1aqvmyo"]="1.49",e.szlmgw="1.50",e["1si5ngg"]="1.51",e["6si3uo"]="1.52",e["16b24u8"]="1.53",e.ojs4cg="1.54",e["1o2c5c0"]="1.55",e.fo543k="1.56",e["1f6p534"]="1.57",e.xff4lc="1.58",e["1wxz5kw"]="1.59",e["18q874"]="1.60",e["10ra96o"]="1.61",e.j008ow="1.62",e["1iik9og"]="1.63",e.a4d8g0="1.64",e["19mx9fk"]="1.65",e.rvn8xs="1.66",e["1re79xc"]="1.67",e["5ojqbk"]="1.68",e["1573rb4"]="1.69",e.nftqtc="1.70",e["1mydrsw"]="1.71",e.ek6qkg="1.72",e["1e2qrk0"]="1.73",e.wbgr28="1.74",e["1vu0s1s"]="1.75",e["3gmz9c"]="1.76",e["12z708w"]="1.77",e.l7wzr4="1.78",e["1kqh0qo"]="1.79",e.cc9zi8="1.80",e["1buu0hs"]="1.81",e.u3k000="1.82",e["1tm40zk"]="1.83",e["7wghds"]="1.84",e["17f0idc"]="1.85",e.pnqhvk="1.86",e["1p6aiv4"]="1.87",e.gs3hmo="1.88",e["1ganim8"]="1.89",e.yjdi4g="1.90",e["1y1xj40"]="1.91",e.or1fk="1.92",e["107b2f4"]="1.93",e.ig11xc="1.94",e["1hyl2ww"]="1.95",e["9ke1og"]="1.96",e["192y2o0"]="1.97",e.rbo268="1.98",e["1qu835s"]="1.99",e["54kjk0"]="2.00",e["14n4kjk"]="2.01",e.mvuk1s="2.02",e["1meel1c"]="2.03",e.e07jsw="2.04",e["1dirksg"]="2.05",e.vrhkao="2.06",e["1va1la8"]="2.07",e["2wnshs"]="2.08",e["12f7thc"]="2.09",e.knxszk="2.10",e["1k6htz4"]="2.11",e.bsasqo="2.12",e["1bautq8"]="2.13",e.tjkt8g="2.14",e["1t24u80"]="2.15",e["7cham8"]="2.16",e["16v1bls"]="2.17",e.p3rb40="2.18",e["1ombc3k"]="2.19",e.g84av4="2.20",e["1fqobuo"]="2.21",e.xzebcw="2.22",e["1xhyccg"]="2.23",e["1speyo"]="2.24",e["11b9fy8"]="2.25",e.jjzfgg="2.26",e["1j2jgg0"]="2.27",e.aocf7k="2.28",e["1a6wg74"]="2.29",e.sfmfpc="2.30",e["1ry6gow"]="2.31",e["68ix34"]="2.32",e["15r2y2o"]="2.33",e.nzsxkw="2.34",e["1nicykg"]="2.35",e.f45xc0="2.36",e["1empybk"]="2.37",e.wvfxts="2.38",e["1wdzytc"]="2.39",e["40m60w"]="2.40",e["13j670g"]="2.41",e.lrw6io="2.42",e["1lag7i8"]="2.43",e.cw969s="2.44",e["1cet79c"]="2.45",e.unj6rk="2.46",e["1u637r4"]="2.47",e["8gfo5c"]="2.48",e["17yzp4w"]="2.49",e.q7pon4="2.50",e["1pq9pmo"]="2.51",e.hc2oe8="2.52",e["1gumpds"]="2.53",e.z3cow0="2.54",e["1ylwpvk"]="2.55",e.jr8qo="2.56",e["102b9q8"]="2.57",e.ib198g="2.58",e["1htla80"]="2.59",e["9fe8zk"]="2.60",e["18xy9z4"]="2.61",e.r6o9hc="2.62",e["1qp8agw"]="2.63",e["4zkqv4"]="2.64",e["14i4ruo"]="2.65",e.mqurcw="2.66",e["1m9escg"]="2.67",e.dv7r40="2.68",e["1ddrs3k"]="2.69",e.vmhrls="2.70",e["1v51slc"]="2.71",e["2rnzsw"]="2.72",e["12a80sg"]="2.73",e.kiy0ao="2.74",e["1k1i1a8"]="2.75",e.bnb01s="2.76",e["1b5v11c"]="2.77",e.tel0jk="2.78",e["1sx51j4"]="2.79",e["77hhxc"]="2.80",e["16q1iww"]="2.81",e.oyrif4="2.82",e["1ohbjeo"]="2.83",e.g34i68="2.84",e["1floj5s"]="2.85",e.xueio0="2.86",e["1xcyjnk"]="2.87",e["1npm9s"]="2.88",e["1169n9c"]="2.89",e.jezmrk="2.90",e["1ixjnr4"]="2.91",e.ajcmio="2.92",e["1a1wni8"]="2.93",e.samn0g="2.94",e["1rt6o00"]="2.95",e["63j4e8"]="2.96",e["15m35ds"]="2.97",e.nut4w0="2.98",e["1ndd5vk"]="2.99",e.ez64n4="3.00",e.uije2o="3.10",e["13qfi8"]="3.20",e.naty4g="3.30",e.c7a6tc="3.40",e.yedpfk="3.50",e["6nib5s"]="3.60",e.m6vklc="3.70",e.hr22gw="3.80",e.qwoo3k="3.90",e["2hoef4"]="4.00",e.oorx1c="4.10",e.a9d14w="4.20",e.wggjr4="4.30",e["81ga2o"]="4.40",e.il0um8="4.50",e.e57chs="4.60",e.toklxc="4.70",e["1xp7nk"]="4.80",e.o4sq9s="4.90",e.d18yyo="5.00",e.z8chkw="5.10",e["4s31ts"]="5.20",e.kbgb9c="5.30",e.fvmt4w="5.40",e.s34xz4="5.50",e["3o4oao"]="5.60",e.pv86ww="5.70",e["9rvqps"]="5.80",e.vyz9c0="5.90",e["7jyznk"]="6.00",e.jrh4hs="6.10",e.fbnmdc="6.20",e.uv0vsw="6.30",e["29ybk"]="6.40",e.m9dgxs="6.50",e.b5tpmo="6.60",e.xcx88w="6.70",e["5m1tz4"]="6.80",e.l5f3eo="6.90",e.gplla8="7.00",e.r965ts="7.10",e["2u5w5c"]="7.20",e.p19erk="7.30",e.aluiv4="7.40",e.wsy1hc="7.50",e["8dxrsw"]="7.60",e.i8jcw0="7.70",e.dspurk="7.80",e.tc3474="7.90",e["1l7pxc"]="8.00",e.nsb8jk="8.10",e.corh8g="8.20",e.yvuzuo="8.30",e["5h21a8"]="8.40",e.l0faps="8.50",e.gklslc="8.60",e.ss3xfk="8.70",e["4d3nr4"]="8.80",e.qk76dc="8.90",e["92wr9c"]="9.00",e["6v0074"]="9.20",e.emomww="9.40",e.r8xs0="9.60",e.busp34="9.80",e["6b0tfk"]="10.00",e.hekkqo="10.20",e["2lf8xs"]="10.40",e.ad3vnk="10.60",e["8574lc"]="10.80",e.e8y70g="11.00",e["21g268"]="11.20",e.d4zthc="11.40",e["4jcem8"]="11.60",e.fmw5xc="11.80",e["3fe134"]="12.00",e["9j53i8"]="12.20",e["7b8cg0"]="12.40",e.f2wz5s="12.60",e.iiakg="12.80",e.bm21vk="13.00",e["62a680"]="13.20",e.h5txj4="13.40",e["3ae8e8"]="13.60",e.b22v40="13.80",e["8u641s"]="14.00",e.djz7k0="14.20",e["1ch2ps"]="14.40",e.cg0u0w="14.60",e["58be2o"]="14.80",e.gbv5ds="15.00",e.vdr4e8="15.50",e.uzsao="16.00",e.ly4xds="16.50",e.a0mdxc="17.00",e.tftyps="17.50",e["4vtwcg"]="18.00",e.pyz1fk="18.50",e.ffegw0="19.00",e.xgo2rk="19.50",e["2xwqo0"]="20.00",e.cln3sw="21.00",e["6rvmrk"]="22.00",e.hbg7b4="23.00",e["272by8"]="24.00",e["9orda8"]="25.00",e["5vey9s"]="26.00",e.dd3zls="27.00",e["3xhslc"]="28.00",e.c45tds="29.00",e["7ybwn4"]="30.00",e.fw9a80="31.00",e["2wfeo"]="32.00",e.amgzy8="33.00",e["5hoidc"]="34.00",e.enb400="35.00"}(m||(m={})),function(e){e.a9="a9",e.nx="appnexus",e.ct="criteo",e.ta="33across",e.pm="pubmatic",e.rb="rubicon",e.ox="openx",e.aol="aol",e.onemobile="aol",e.sv="sovrn",e.tpl="triplelift",e.amx="amx",e.adaptmx="amx",e.sa="smartadserver",e.dgt="improvedigital",e.st="sharethrough",e.ym="yieldmo",e.mn="medianet",e.ob="outbrain",e.oxb="openx",e.tl="triplelift",e.aa="automatad"}(u||(u={})),function(e){e.a9="a9",e.nx="nx",e.ct="ct",e.ta="ta",e.pm="pm",e.rb="rb",e.aol="aol",e.sv="sv",e.amx="amx",e.sa="sa",e.dgt="dgt",e.st="st",e.ym="ym",e.mn="mn",e.ob="ob",e.ox="ox",e.oxb="ox",e.tl="tpl",e.tpl="tpl",e.aa="aa"}(c||(c={})),function(e){e.S2S="s2s",e.CLIENT="client"}(p||(p={})),function(e){e["33acrossId"]="across33id",e.criteoId="criteo",e.id5id="id5",e.idl_env="liveramp",e.lotamePanoramaId="lotame",e.parrableId="parrable",e.pubcid="sharedid",e.tdid="unified",e.connectId="connectid"}(g||(g={}));var b=["rb","nx","dgt","mn","ox","pm","sa","sv","tpl","ym","a9"],T=["stack32"],I=!1,v=[],P=[],E=[],A=[],C=[],D=[],_=[],U=[],R=[],O=[],L=[],w=[],N=[],F=[],k=[],M=[],x=[],G=[],V=[],z=[]},665:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GdprCmp=t.GPPCmp=t.DATManager=t.DMP=t.SSP=t.DAT=void 0;var r=i(412);t.DAT=r.default;var n=i(263);t.SSP=n.default;var s=i(804);t.DMP=s.default;var a=i(565);t.DATManager=a.default;var o=i(78);t.GdprCmp=o.default;var l=i(946);t.GPPCmp=l.default}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var __webpack_exports__=__webpack_require__(105);InternalInvestingChannel=__webpack_exports__})();
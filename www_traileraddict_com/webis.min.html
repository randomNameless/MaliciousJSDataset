<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>webis.min.html</title>
</head>
<body>

<script>
if(window["$sf"]){try{$sf.ver="1-1-0";$sf.specVersion="1.1"}catch(sf_lib_err){}}else{var $sf={ver:"1-1-0",specVersion:"1.1"}}(function(win){var q="?",a="&",eq="=",OBJ="object",FUNC="function",STR="string",NUM="number",RP="replace",LEN="length",DOC="document",PROTO="prototype",N=win&&win.Number,M=win&&win.Math,d=win&&win[DOC],nav=win&&win.navigator,ua=nav&&nav.userAgent||"",TLC="toLowerCase",GT="getAttribute",ST="setAttribute",RM="removeAttribute",GTE="getElementsByTagName",DCLDED="DOMContentLoaded",S=win&&win.String,back_slash=S.fromCharCode(92),two_slashes=back_slash+back_slash,dbl_quote=S.fromCharCode(34),esc_dbl_quote=back_slash+dbl_quote,plus_char=S.fromCharCode(43),scrip_str="scr"+dbl_quote+plus_char+dbl_quote+"ipt",BLANK_URL="about:blank",NODE_TYPE="nodeType",IFRAME="iframe",GC="CollectGarbage",ie_attach="attachEvent",w3c_attach="addEventListener",ie_detach="detachEvent",w3c_detach="removeEventListener",use_attach="",use_detach="",use_ie_old_attach=FALSE,IAB_LIB="$sf.lib",IAB_ENV="$sf.env",IAB_INF="$sf.info",IE_GC_INTERVAL=3e3,TRUE=true,FALSE=false,NULL=null,EVT_CNCL_METHODS={preventDefault:0,stopImmediatePropagation:0,stopPropagation:0,preventBubble:0},NUM_MAX=N&&N.MAX_VALUE,NUM_MIN=-1*NUM_MAX,_es=win&&win.escape,_ue=win&&win.unescape,isIE11=!window.ActiveXObject&&"ActiveXObject"in window,isIE=!isIE11&&(win&&"ActiveXObject"in win),next_id=0,useOldStyleAttrMethods=FALSE,gc_timer_id=0,dom_is_ready=NULL,dom_last_known_tag_count=0,dom_last_known_child_node=NULL,dom_ready_chk_max_tries=300,dom_ready_chk_try_interval=50,dom_ready_chk_tries=0,dom_ready_chk_timer_id=0,iframe_next_id=0,iframe_cbs_attached={},evt_tgt_prop_a="",evt_tgt_prop_b="",iframe_msg_host_lib=NULL,cached_ua=NULL,_cstr,_cnum,_callable,lang,dom,iframes,logger,info,gc;(function(){var proto;function noop(){}function cstr(str){var typ=typeof str;if(typ==STR)return str;if(typ==NUM&&!str)return"0";if(typ==OBJ&&str&&str.join)return str.join("");if(str===false)return"false";if(str===true)return"true";return str?S(str):""}function cbool(val){return!val||val=="0"||val=="false"||val=="no"||val=="undefined"||val=="null"?FALSE:TRUE}function cnum(val,defVal,minVal,maxVal){var e;if(typeof val!=NUM){try{if(!val){val=N.NaN}else{val=parseFloat(val)}}catch(e){val=N.NaN}}if(maxVal==NULL){maxVal=NUM_MAX}if(minVal==NULL){minVal=NUM_MIN}return(isNaN(val)||val<minVal||val>maxVal)&&defVal!=NULL?defVal:val}function callable(f){var e;try{f=f&&typeof f==FUNC&&f.toString()&&new f.constructor?f:NULL}catch(e){f=NULL}return!!f}function guid(prefix){return cstr([prefix||"","_",time(),"_",rand(),"_",next_id++])}function mix(r,s,owned,skipFuncs,no_ovr){var item,p,typ;if(!s||!r)return r;for(p in s){item=s[p];typ=typeof item;if(owned&&!s.hasOwnProperty(p))continue;if(no_ovr&&p in r)continue;if(skipFuncs&&typ==FUNC)continue;if(typ==OBJ&&item){if(item.slice){item=mix([],item)}else{item=mix({},item)}}r[p]=item}return r}function time(){return(new Date).getTime()}function rand(){return M.round(M.random()*100)}function trim(str){var ret=cstr(str);return ret&&ret[RP](/^\s\s*/,"")[RP](/\s\s*$/,"")}function def(str_ns,aug,root,no_ovr){var obj=root&&typeof root==OBJ?root:win,idx=0,per=".",ret=NULL,ar,item;if(str_ns){str_ns=cstr(str_ns);aug=aug&&typeof aug==OBJ?aug:NULL;if(str_ns.indexOf(per)){ar=str_ns.split(per);while(item=ar[idx++]){item=trim(item);if(idx==ar[LEN]){if(obj[item]&&aug){ret=obj[item]=mix(obj[item],aug,FALSE,NULL,no_ovr)}else{if(no_ovr&&item in obj){ret=obj[item]}else{ret=obj[item]=obj[item]||aug||{}}}}else{if(no_ovr&&item in obj){ret=obj[item]}else{ret=obj[item]=obj[item]||{}}}obj=obj[item]}}else{if(obj[str_ns]&&aug){ret=obj[str_ns]=mix(obj[str_ns],aug,FALSE,NULL,no_ovr)}else{ret=obj[str_ns]=obj[str_ns]||aug||{}}}}return ret}function ns(str_ns,root){var exp=/(\[(.{1,})\])|(\.\w+)/gm,exp2=/\[(('|")?)((\s|.)*?)(('|")?)\]/gm,exp3=/(\[.*)|(\..*)/g,exp4=/\./gm,idx=0,rootStr="",exists=TRUE,obj,matches,prop;obj=root=root||win;if(str_ns){str_ns=cstr(str_ns);if(str_ns){str_ns=trim(str_ns);matches=str_ns.match(exp);if(matches){rootStr=str_ns[RP](exp3,"");matches.unshift(rootStr);while(prop=matches[idx++]){prop=prop[RP](exp2,"$3")[RP](exp4,"");if(!obj[prop]){exists=FALSE;break}obj=obj[prop]}}else{prop=str_ns;obj=obj[prop]}}else{exists=FALSE}}else{exists=FALSE}return exists&&obj||FALSE}function isArray(obj){if(obj==null){return false}if(typeof obj==="string"){return false}if(obj.length!=null&&obj.constructor==Array){return true}return false}function _escaped_backslash(){return two_slashes}function _escaped_dbl_quote(){return esc_dbl_quote}function _escaped_return(){return"\\r"}function _escaped_new_line(){return"\\n"}function _safe_script_tag(main_match,back_slash,attrs){return cstr(["<",back_slash,scrip_str,attrs,">"])}function jssafe_html(str){var new_str=cstr(str);if(new_str){new_str=new_str.replace(/(<noscript[^>]*>)(\s*?|.*?)(<\/noscript>)/gim,"");new_str=new_str.replace(/\\/g,_escaped_backslash);new_str=new_str.replace(/\"/g,_escaped_dbl_quote);new_str=new_str.replace(/\n/g,_escaped_new_line);new_str=new_str.replace(/\r/g,_escaped_return);new_str=new_str.replace(/<(\/)*script([^>]*)>/gi,_safe_script_tag);new_str=new_str.replace(/\t/gi," ");new_str=cstr([dbl_quote,new_str,dbl_quote]);new_str=dbl_quote+new_str+dbl_quote}return new_str}function ParamHash(sString,sPropDelim,sValueDelim,bNoOverwrite,bRecurse){var idx,idx2,idx3,sTemp,sTemp2,sTemp3,me=this,pairs,nv,nm,added,cnt,io="indexOf",ss="substring",doAdd=FALSE,obj,len,len2;if(!(me instanceof ParamHash))return new ParamHash(sString,sPropDelim,sValueDelim,bNoOverwrite,bRecurse);if(!arguments[LEN])return me;if(sString&&typeof sString==OBJ)return mix(new ParamHash("",sPropDelim,sValueDelim,bNoOverwrite,bRecurse),sString);sString=cstr(sString);sPropDelim=cstr(sPropDelim)||a;sValueDelim=cstr(sValueDelim)||eq;if(!sString)return me;if(sPropDelim!=q&&sValueDelim!=q&&sString.charAt(0)==q)sString=sString[ss](1);idx=sString[io](q);idx2=sString[io](sValueDelim);if(idx!=-1&&idx2!=-1&&idx>idx2){sTemp=_es(sString[ss](idx2+1));sTemp2=sString.substr(0,idx2+1);sString=sTemp2+sTemp}else if(idx!=-1){sString=sString[ss](idx+1);return new ParamHash(sString,sPropDelim,sValueDelim,bNoOverwrite)}if(sString.charAt(0)==sPropDelim)sString=sString[ss](1);pairs=sString.split(sPropDelim);cnt=pairs[LEN];idx=0;while(cnt--){sTemp=pairs[idx++];added=FALSE;doAdd=FALSE;if(sTemp){nv=sTemp.split(sValueDelim);len=nv[LEN];if(len>2){nm=_ue(nv[0]);nv.shift();if(bRecurse){sTemp2=nm+sValueDelim;idx2=sString[io](sTemp2);len=sTemp2[LEN];sTemp3=sString[ss](idx2+len);sTemp2=sPropDelim+sPropDelim;len2=sTemp2[LEN];idx3=sTemp3[io](sTemp2);if(idx3!=-1){sTemp3=sString.substr(idx2+len,idx3+len2);obj=new ParamHash(sTemp3,sPropDelim,sValueDelim,bNoOverwrite,bRecurse);sTemp3="";len=0;for(sTemp3 in obj)len++;if(len>0)idx+=len-1;sTemp=obj}else{sTemp=_ue(nv.join(sValueDelim))}}else{sTemp=_ue(nv.join(sValueDelim))}doAdd=TRUE}else if(len==2){nm=_ue(nv[0]);sTemp=_ue(nv[1]);doAdd=TRUE}if(doAdd){if(bNoOverwrite){if(!(nm in me)){me[nm]=sTemp;added=TRUE}}else{me[nm]=sTemp;added=TRUE}if(bRecurse&&added&&nm&&sTemp&&typeof sTemp!=OBJ&&(sTemp[io](sPropDelim)>=0||sTemp[io](sValueDelim)>=0)){me[nm]=new ParamHash(sTemp,sPropDelim,sValueDelim,bNoOverwrite,bRecurse)}}}}}proto=ParamHash[PROTO];function toString(sPropDelim,sValueDelim,escapeProp,dontEscapeValue){var prop,buffer=[],me=this,itemType,item;sPropDelim=sPropDelim||a;sValueDelim=sValueDelim||eq;for(prop in me){item=me[prop];itemType=typeof item;if(item&&itemType==FUNC)continue;if(item&&itemType==OBJ){item=toString.apply(item,[sPropDelim,sValueDelim,escapeProp,dontEscapeValue])}if(escapeProp)prop=_es(prop);if(!dontEscapeValue)item=_es(item);buffer.push(prop,sValueDelim,item,sPropDelim)}return cstr(buffer)}proto.toString=proto.valueOf=toString;lang=def(IAB_LIB+".lang",{ParamHash:ParamHash,cstr:cstr,cnum:cnum,cbool:cbool,noop:noop,trim:trim,callable:callable,guid:guid,mix:mix,time:time,rand:rand,def:def,ns:ns,jssafe_html:jssafe_html,isArray:isArray});def("$sf.env",{isIE:isIE});_cstr=cstr;_cnum=cnum;_callable=callable})();(function(){function _numberify(s){var c=0;return parseFloat(s.replace(/\./g,function(){return c++==1?"":"."}))}function _matchIt(str,regEx,idx){var m=str&&str.match(regEx);return idx==NULL?m:m&&m[idx]||NULL}function _testIt(regEx,str){return regEx.test(str)}function parse_ua(subUA){var ret={},match,date=new Date;if(!subUA&&cached_ua)return cached_ua;ret.ie=ret.opera=ret.gecko=ret.webkit=ret.safari=ret.chrome=ret.air=ret.ipod=ret.ipad=ret.iphone=ret.android=ret.webos=ret.silk=ret.nodejs=ret.phantomjs=0;ret.mobile=ret.ios=ret.os=NULL;ret.accel=false;ret.caja=nav&&nav.cajaVersion;ret.cks=FALSE;subUA=subUA||ua||"";if(subUA){if(_testIt(/windows|win32/i,subUA)){ret.os="windows"}else if(_testIt(/macintosh|mac_powerpc/i,subUA)){ret.os="macintosh"}else if(_testIt(/android/i,subUA)){ret.os="android"}else if(_testIt(/symbos/i,subUA)){ret.os="symbos"}else if(_testIt(/linux/i,subUA)){ret.os="linux"}else if(_testIt(/rhino/i,subUA)){ret.os="rhino"}if(_testIt(/KHTML/,subUA)){ret.webkit=1}if(_testIt(/IEMobile|XBLWP7/,subUA)){ret.mobile="windows"}if(_testIt(/Fennec/,subUA)){ret.mobile="gecko"}match=_matchIt(subUA,/AppleWebKit\/([^\s]*)/,1);if(match){ret.webkit=_numberify(match);ret.safari=ret.webkit;if(_testIt(/PhantomJS/,subUA)){match=_matchIt(subUA,/PhantomJS\/([^\s]*)/,1);if(match){ret.phantomjs=_numberify(match)}}if(_testIt(/ Mobile\//,subUA)||_testIt(/iPad|iPod|iPhone/,subUA)){ret.mobile="Apple";match=_matchIt(subUA,/OS ([^\s]*)/,1);match=match&&_numberify(match.replace("_","."));ret.ios=match;ret.ipad=ret.ipod=ret.iphone=0;match=_matchIt(subUA,/iPad|iPod|iPhone/,0);if(match){ret[match[TLC]()]=ret.ios}}else{match=_matchIt(subUA,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0);if(match){ret.mobile=match}if(_testIt(/webOS/,subUA)){ret.mobile="WebOS";match=_matchIt(subUA,/webOS\/([^\s]*);/,1);if(match){ret.webos=_numberify(match)}}if(_testIt(/ Android/,subUA)){ret.mobile="Android";match=_matchIt(subUA,/Android ([^\s]*);/,1);if(match){ret.android=_numberify(match)}}if(_testIt(/Silk/,subUA)){match=_matchIt(subUA,/Silk\/([^\s]*)\)/,1);if(match){ret.silk=_numberify(match)}if(!ret.android){ret.android=2.34;ret.os="Android"}if(_testIt(/Accelerated=true/,subUA)){ret.accel=true}}}match=subUA.match(/(Chrome|CrMo)\/([^\s]*)/);if(match&&match[1]&&match[2]){ret.chrome=_numberify(match[2]);ret.safari=0;if(match[1]==="CrMo"){ret.mobile="chrome"}}else{match=_matchIt(subUA,/AdobeAIR\/([^\s]*)/);if(match){ret.air=match[0]}}}if(!ret.webkit){match=_matchIt(subUA,/Opera[\s\/]([^\s]*)/,1);if(match){ret.opera=_numberify(match);match=_matchIt(subUA,/Opera Mini[^;]*/,0);if(match){ret.mobile=match}}else{match=_matchIt(subUA,/MSIE\s([^;]*)/,1);if(match){ret.ie=_numberify(match)}else{match=_matchIt(subUA,/Gecko\/([^\s]*)/);if(match){ret.gecko=1;match=_matchIt(subUA,/rv:([^\s\)]*)/,1);if(match){ret.gecko=_numberify(match)}}}}}}try{date.setTime(date.getTime()+1e3);d.cookie=cstr(["sf_ck_tst=test; expires=",date.toGMTString(),"; path=/"]);if(d.cookie.indexOf("sf_ck_tst")!=-1)ret.cks=TRUE}catch(e){ret.cks=FALSE}try{if(typeof process==OBJ){if(process.versions&&process.versions.node){ret.os=process.platform;ret.nodejs=numberify(process.versions.node)}}}catch(e){ret.nodejs=0}return ret}cached_ua=parse_ua();cached_ua.parse=parse_ua;lang.def(IAB_ENV+".ua",cached_ua,NULL,TRUE)})();(function(){function _clear_ready_timer_check(){if(dom_ready_chk_timer_id){clearTimeout(dom_ready_chk_timer_id);dom_ready_chk_timer_id=0}}function _handle_dom_load_evt(evt){detach(win,"load",_handle_dom_load_evt);detach(win,DCLDED,_handle_dom_load_evt);dom_is_ready=TRUE}function _ready_state_check(){var b,kids,tag_cnt,lst,e;_clear_ready_timer_check();if(dom_ready_chk_tries>=dom_ready_chk_max_tries){dom_last_known_child_node=NULL;dom_is_ready=TRUE}if(dom_is_ready===NULL){try{b=d&&d.body;kids=b&&tags("*",b);tag_cnt=kids&&kids[LEN];lst=b&&b.lastChild}catch(e){dom_last_known_tag_count=0;dom_last_known_child_node=NULL}if(dom_last_known_tag_count&&tag_cnt==dom_last_known_tag_count&&lst==dom_last_known_child_node){dom_last_known_child_node=NULL;dom_is_ready=TRUE}else{dom_last_known_tag_count=tag_cnt;dom_last_known_child_node=lst;dom_ready_chk_tries+=1;dom_ready_chk_timer_id=setTimeout(_ready_state_check,dom_ready_chk_try_interval)}}else{dom_last_known_child_node=NULL}}function _unbind_iframe_onload(el){var id=attr(el,"id"),oldCB;oldCB=id&&iframe_cbs_attached[id];if(oldCB){detach(el,"load",oldCB);iframe_cbs_attached[id]=NULL;delete iframe_cbs_attached[id]}}function _bind_iframe_onload(el,cb){var newCB,id;if(_callable(cb)){newCB=function(evt){var tgt=evtTgt(evt),e;_unbind_iframe_onload(tgt);if(tgt&&cb){try{cb.call(tgt,evt)}catch(e){}}tgt=el=cb=newCB=id=NULL};id=attr(el,"id");_unbind_iframe_onload(el);if(id)iframe_cbs_attached[id]=newCB;attach(el,"load",newCB)}newCB=NULL}function _byID(el){return el&&typeof el==STR?elt(el)||el:el}function _call_xmsg_host(methName,arg1,arg2,arg3){var e;try{if(!iframe_msg_host_lib)iframe_msg_host_lib=dom.msghost}catch(e){iframe_msg_host_lib=NULL}if(win!=top)return;return methName&&iframe_msg_host_lib&&iframe_msg_host_lib[methName]&&iframe_msg_host_lib[methName](arg1,arg2,arg3)}function doc(el){var d=NULL;try{if(el){if(el[NODE_TYPE]==9){d=el}else{d=el[DOC]||el.ownerDocument||NULL}}}catch(e){d=NULL}return d}function view(el){var w=NULL,d,prop1="parentWindow",prop2="defaultView";try{if(el){w=el[prop1]||el[prop2]||NULL;if(!w){d=doc(el);w=d&&(d[prop1]||d[prop2])||NULL}}}catch(e){w=NULL}return w}function elt(id){var args=arguments,len=args[LEN],dc;if(len>1){dc=doc(args[1])}else{dc=d}return dc&&dc.getElementById(id)||NULL}function tagName(el){return el&&el[NODE_TYPE]==1&&el.tagName[TLC]()||""}function tags(name,parNode){var ret=[],e;try{if(parNode&&parNode[GTE]){ret=parNode[GTE](name)||ret}else{ret=d[GTE](name)||ret}}catch(e){ret=[]}return ret}function par(el){return el&&(el.parentNode||el.parentElement)}function attr(el,attrName,attrVal){var e;try{if(arguments[LEN]>2){if(attrVal===NULL){if(useOldStyleAttrMethods){el[RM](attrName,0)}else{el[RM](attrName)}}else{attrVal=_cstr(attrVal);if(attrName[TLC]()=="class"){el.className=attrVal}else{if(useOldStyleAttrMethods){el[ST](attrName,attrVal,0)}else{el[ST](attrName,attrVal)}}}}else{if(useOldStyleAttrMethods){attrVal=_cstr(el[GT](attrName,0))}else{attrVal=_cstr(el[GT](attrName))}}}catch(e){attrVal=""}return attrVal}function css(el,val){var st;try{st=el.style;if(arguments[LEN]>1){st.cssText=_cstr(val)}else{val=st.cssText}}catch(e){val=""}return val}function make_element(tagName,par){return(arguments[LEN]>1&&doc(par)||d).createElement(tagName)}function append(parNode,child){var success=FALSE,e;try{if(parNode)success=parNode.appendChild(child)}catch(e){success=FALSE}return success}function purge(node){var success=FALSE,parNode,isIFrame=tagName(node)==IFRAME,e;if(isIFrame){_call_xmsg_host("detach",node);_unbind_iframe_onload(node);if(!isIE)attr(node,"src",BLANK_URL)}try{parNode=par(node);if(parNode){parNode.removeChild(node);success=TRUE;if(isIE&&isIFrame)gc()}}catch(e){}node=parNode=NULL;return success}function attach(obj,name,cb){try{if(use_ie_old_attach){obj[use_attach]("on"+name,cb)}else{obj[use_attach](name,cb,FALSE)}}catch(e){}obj=cb=NULL}function detach(obj,name,cb){try{if(use_ie_old_attach){obj.detachEvent("on"+name,cb)}else{obj.removeEventListener(name,cb,FALSE)}}catch(e){}obj=cb=NULL}function ready(){var rs;_clear_ready_timer_check();if(dom_is_ready){dom_last_known_child_node=NULL;return TRUE}rs=d.readyState;if(rs){dom_last_known_child_node=NULL;if(rs=="loaded"||rs=="complete"){dom_is_ready=TRUE}else{dom_is_ready=FALSE}}dom_last_known_child_node=NULL;dom_ready_chk_tries=dom_last_known_tag_count=0;_ready_state_check();return!!dom_is_ready}function wait(cb){var rdy=ready(),e;if(rdy){try{if(lang.callable(cb))cb()}catch(e){e=NULL}return}setTimeout(function(){wait(cb);cb=NULL},dom_ready_chk_try_interval+1)}function evtCncl(evt){var prop="",e;evt=evt||win.event;if(evt){try{evt.returnValue=FALSE}catch(e){}try{evt.cancelBubble=TRUE}catch(e){}try{evt.stopped=TRUE}catch(e){}for(prop in EVT_CNCL_METHODS){if(EVT_CNCL_METHODS[prop]){try{evt[prop]()}catch(e){}}}}return FALSE}function evtTgt(evt){var tgt=NULL;try{evt=evt||win.event;tgt=evt?evt[evt_tgt_prop_a]||evt[evt_tgt_prop_b]:NULL}catch(e){tgt=NULL}return tgt}function clone_iframe(el,attrs,cssText,cb,xmsgCB){return _clone_iframe(el,attrs,cssText,cb,xmsgCB)}function _clone_iframe(el,attrs,cssText,cb,xmsgCB,iframe_skip_clone){var bufferHTML=["<",IFRAME," "],xmsgPipe="",prop,temp,cl,newCl,html,attrStr;if(!iframe_skip_clone){el=_byID(el);if(tagName(el)!=IFRAME)return NULL;cl=el.cloneNode(FALSE)}else{cl=el}attrs=attrs||{};if("src"in attrs){attr(cl,"src",NULL)}else{attrs.src=attr(el,"src")||BLANK_URL}if("name"in attrs){attr(cl,"name",NULL)}else{attrs.name=attr(el,"name")}if(!attrs.src)attrs.src=BLANK_URL;xmsgPipe=xmsgCB&&_call_xmsg_host("prep",attrs);if(!iframe_skip_clone){attr(cl,"width",NULL);attr(cl,"height",NULL)}if(cssText){temp=css(cl);if(temp&&temp.charAt(temp[LEN]-1)!=";")temp+=";";css(cl,[temp,_cstr(cssText)])}temp=make_element("div");append(temp,cl);html=temp.innerHTML;attrStr=html.replace(/<iframe(.*?)>(.*?)<\/iframe>/gim,"$1");bufferHTML.push('name="',attrs.name,'" ',attrStr,"></",IFRAME,">");delete attrs.name;temp.innerHTML=_cstr(bufferHTML);newCl=temp.firstChild;for(prop in attrs){attr(newCl,prop,attrs[prop])}if(!attr(newCl,"id")){attr(newCl,"id","sf_"+IFRAME+"_"+iframe_next_id);iframe_next_id++}attr(newCl,"FRAMEBORDER","no");attr(newCl,"SCROLLING","no");attr(newCl,"ALLOWTRANSPARENCY",TRUE);attr(newCl,"HIDEFOCUS",TRUE);attr(newCl,"TABINDEX",-1);attr(newCl,"MARGINWIDTH",0);attr(newCl,"MARGINHEIGHT",0);_bind_iframe_onload(newCl,cb);if(xmsgPipe)_call_xmsg_host("attach",newCl,xmsgPipe,xmsgCB);xmsgPipe=xmsgCB=cl=cb=el=temp=null;return newCl}function make_iframe(attrs,cssText,cb,xmsgCB){return _clone_iframe(make_element(IFRAME),attrs,cssText,cb,xmsgCB,TRUE)}function replace_iframe(attrs,cssText,parRef,cb,xmsgCB){var cl,el,frameEl,elID,tgn,parNode,e;attrs=attrs||{};elID=attrs.id;el=elID&&_byID(elID);tgn=tagName(el);el=tgn?el:NULL;frameEl=tgn==IFRAME?el:NULL;if(frameEl){_call_xmsg_host("detach",frameEl);_unbind_iframe_onload(frameEl);parNode=par(frameEl);cl=clone_iframe(frameEl,attrs,cssText,cb,xmsgCB);attr(cl,"onload",NULL);attr(cl,"onreadystatechange",NULL)}else{if(parRef){parRef=_byID(parRef);if(tagName(parRef))parNode=parRef}if(!parNode&&el)parNode=par(el);cssText=_cstr(cssText)||css(el)||"";cl=make_iframe(attrs,cssText,cb,xmsgCB)}try{if(!parNode){append(d.body,cl)}else{if(frameEl){parNode.replaceChild(cl,frameEl)}else{if(el){parNode.replaceChild(cl,el)}else{append(parNode,cl)}}}}catch(e){}cl=el=attrs=frameEl=parNode=cb=NULL;return elt(elID)}function iframe_view(el){var win,elWin,elDoc,frame_list,frame,fe,idx=0,e,err;try{win=el.contentWindow||NULL;if(!win){elDoc=doc(el);elWin=elDoc&&view(elDoc);frame_list=elWin&&elWin.frames||[];while(frame=frame_list[idx++]){try{fe=frame.frameElement}catch(err){fe=NULL}if(fe&&fe==el){win=frame;break}}}}catch(e){win=NULL}return win}function logInfo(message){if(win.console&&console.log){console.log(message)}}function logError(message){if(win.console&&console.error){console.error(message)}else if(win.console&&console.log){console.log(message)}}(function(){var obj,ATTR_NAME="SCROLLING",CREATE_EVENT="createEvent",EVT_TYPE="UIEvent",prop,err;if(isIE){evt_tgt_prop_a="srcElement";evt_tgt_prop_b="target";obj=make_element(IFRAME);attr(obj,ATTR_NAME,"no");useOldStyleAttrMethods=attr(obj,ATTR_NAME)!="no";if(GC in win){gc=function(){if(gc_timer_id)clearTimeout(gc_timer_id);gc_timer_id=setTimeout(function(){try{win[GC]()}catch(e){}},IE_GC_INTERVAL)}}else{gc=_lang.noop}}else{evt_tgt_prop_a="target";evt_tgt_prop_b="currentTarget"}if(win[w3c_attach]&&!isIE){use_attach=w3c_attach;use_detach=w3c_detach}else if(isIE){use_ie_old_attach=TRUE;use_attach=ie_attach;use_detach=ie_detach}obj=NULL;try{obj=d[CREATE_EVENT](EVT_TYPE)}catch(err){obj=NULL}if(!obj){try{obj=d[CREATE_EVENT](EVT_TYPE+"s")}catch(err){obj=NULL}}if(obj){for(prop in EVT_CNCL_METHODS){if(obj[prop])EVT_CNCL_METHODS[prop]=1}}obj=NULL;attach(win,"load",_handle_dom_load_evt);attach(win,DCLDED,_handle_dom_load_evt);dom=lang.def(IAB_LIB+".dom",{doc:doc,view:view,elt:elt,tagName:tagName,tags:tags,par:par,make:make_element,css:css,attr:attr,gc:gc,append:append,purge:purge,attach:attach,detach:detach,ready:ready,wait:wait,evtCncl:evtCncl,evtTgt:evtTgt},NULL,TRUE)})();iframes=lang.def(IAB_LIB+".dom.iframes",{make:make_iframe,clone:clone_iframe,replace:replace_iframe,view:iframe_view},NULL,TRUE);logger=lang.def(IAB_LIB+".logger",{log:logInfo,error:logError},NULL,TRUE);info=lang.def(IAB_INF,{errs:[],list:[]},NULL,TRUE);if(!S[PROTO].trim)S[PROTO].trim=lang.trim})()})(window);(function(win){var NULL=null,TRUE=true,FALSE=false,DEFAULT_RENDER_TIMEOUT=6e4,POS_ID_AUTO_PREFIX="sf_pos",POS_REL_BOX_ID_PREFIX="sf_pos_rel_el",SF_DATATAG_CLASS="sf_data",SF_POSELEM_WRAPPER_CLASS="sf_position",AUTO_BOOT_MAX_RETRIES=100,GEOM_UPDATE_INTRVAL=750,XCOM_RESP_DELAY=1,IE_BORDER_ADJ=2,INTERSECT_FACTOR=10,BF_POS_MSG="onBeforePosMsg",POS_MSG="onPosMsg",SUPPORTS_FEATURES={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0},EXPAND_COMMAND="exp-ovr",COLLAPSE_COMMAND="collapse",ERROR_COMMAND="error",NOTIFY_EXPAND="expand",NOTIFY_GEOM_UPDATE="geom-update",NOTIFY_COLLAPSE=COLLAPSE_COMMAND,NOTIFY_FOCUS_CHANGE="focus-change",DEFAULT_ZINDEX=3e3,OBJ="object",FUNC="function",STR="string",ST="style",PROTO="prototype",LEN="length",WIDTH="width",HEIGHT="height",PX="PX",CLIP="clip",SCROLL="scroll",ONSCROLL="onscroll",COMPAT_MODE="compatMode",DOC_EL="documentElement",DOC="document",NODE_TYPE="nodeType",CONTAINS="contains",COMPARE_DOC_POS="compareDocumentPosition",EL_FROM_PT="elementFromPoint",AUTO="auto",HIDDEN="hidden",OVER="overflow",TFXD="toFixed",ATTACH="attach",DETACH="detach",MSG="message",PMSG="postMessage",GUID="guid",FLASH_MIME="application/x-shockwave-flash",sf=win&&win.$sf,VERSION=sf&&sf.ver,env=sf&&sf.env,ua=env&&env.ua,lib=sf&&sf.lib,lang=lib&&lib.lang,dom=lib&&lib.dom,iframes=dom&&dom.iframes,_cbool=lang&&lang.cbool,_cnum=lang&&lang.cnum,_cstr=lang&&lang.cstr,_callable=lang&&lang.callable,_noop=lang&&lang.noop,_guid=lang&&lang[GUID],_mix=lang&&lang.mix,_elt=dom&&dom.elt,_par=dom&&dom.par,_tags=dom&&dom.tags,_attr=dom&&dom.attr,_doc=dom&&dom.doc,_tagName=dom&&dom.tagName,_view=dom&&dom.view,_ifr_view=iframes&&iframes.view,_purge=dom&&dom.purge,_ready=dom&&dom.ready,_es=win&&win.escape,M=win&&win.Math,_max=M&&M.max,_min=M&&M.min,_round=M&&M.round,_rect=NULL,ParamHash=lang&&lang.ParamHash,dc=win&&win[DOC],isIE=env&&env.isIE,ieVer=ua&&ua.ie||0,wbVer=ua&&ua.webkit||0,geckVer=ua&&ua.gecko||0,operaVer=ua&&ua.opera||0,loc=win&&win.location,locHost=loc&&(loc.protocol+"//"+(loc.host||loc.hostname)||""),rendered_ifrs={},msg_pipes={},ifr_dest_id_map={},initID,pending_ifrs={},complete_ifrs={},scroll_parents_attached={},mgr_bounds_details=FALSE,canUseHTML5=FALSE,html5Bound=FALSE,win_events_attached=FALSE,geom_update_timer=0,focus_update_timer=0,current_status=NULL,msghostfb=NULL,flash_ver=NULL,config=NULL;var flashActiveXVersions=["ShockwaveFlash.ShockwaveFlash.11","ShockwaveFlash.ShockwaveFlash.8","ShockwaveFlash.ShockwaveFlash.7","ShockwaveFlash.ShockwaveFlash.6","ShockwaveFlash.ShockwaveFlash"];function Config(conf){var me=this,pos_map,conf_pos_map,posID,pos_conf,pos_id,boot_up;if(!arguments.length)return config?_mix({},config):NULL;if(!(me instanceof Config))return new Config(conf);if(!conf){config=NULL;return NULL}boot_up=!!config;me.auto="auto"in conf?_cbool(conf.auto):TRUE;me.cdn=_cstr(conf.cdn);me.debug=_cbool(conf.debug);me.root=_cstr(conf.root);me.renderFile=_cstr(conf.renderFile);me.msgFile=_cstr(conf.msgFile);me.to=_cnum(conf.to,DEFAULT_RENDER_TIMEOUT);me.ver=_cstr(conf.ver)||VERSION;me.onBeforePosMsg=_callable(conf.onBeforePosMsg)?conf.onBeforePosMsg:_noop;me.onPosMsg=_callable(conf.onPosMsg)?conf.onPosMsg:_noop;me.onStartPosRender=_callable(conf.onStartPosRender)?conf.onStartPosRender:_noop;me.onEndPosRender=_callable(conf.onEndPosRender)?conf.onEndPosRender:_noop;me.onFailure=_callable(conf.onFailure)?conf.onFailure3:_noop;conf_pos_map=conf.positions;me.positions=pos_map={};if(conf_pos_map){for(posID in conf_pos_map){pos_conf=conf_pos_map[posID];if(pos_conf&&typeof pos_conf==OBJ){pos_id=posID||pos_conf.id||_guid(POS_ID_AUTO_PREFIX);pos_map[pos_id]=new PosConfig(pos_conf)}}}config=me;boot_up=!!(boot_up&&me.auto&&lang&&lang.ns("$sf.host.boot"));try{if(boot_up)sf.host.boot()}catch(e){}return _mix({},config)}function PosConfig(posIDorObj,destID,baseConf){var me=this,typ=posIDorObj&&typeof posIDorObj||"",sz,sz_split;if(!(me instanceof PosConfig))return new PosConfig(posIDorObj,destID,baseConf);if(typ==OBJ){me.id=_cstr(posIDorObj.id);me.dest=_cstr(posIDorObj.dest||destID);me.bg=_cstr(posIDorObj.bg)||"transparent";me.tgt=_cstr(posIDorObj.tgt)||"_top";me.css=_cstr(posIDorObj.css);me.w=_cnum(posIDorObj.w,0);me.h=_cnum(posIDorObj.h,0);me.z=_cnum(posIDorObj.z,0);me.supports=_mix({},posIDorObj.supports||SUPPORTS_FEATURES,TRUE,TRUE,TRUE);if(!me.w||!me.h){sz=_cstr(posIDorObj.size);if(sz){sz_split=sz.split(/x/gi);me.w=_cnum(sz_split[0],0);me.h=_cnum(sz_split[1],0);me.size=sz}else{me.size=""}}else{me.size=me.w+"x"+me.h}}else if(typ=="string"){me.id=_cstr(posIDorObj);me.dest=_cstr(posIDorObj.dest)}else{me.dest="";me.bg="transparent",me.tgt="_top";me.css="";me.w=0;me.h=0;me.size="";me.z=0;me.supports={}}me.id=me.id||_guid(POS_ID_AUTO_PREFIX);if(!config&&baseConf)Config(baseConf);if(config)config.positions[me.id]=me;return _mix({},me)}function PosMeta(shared_obj,owner_key,owned_obj){var me=this,shared,non_shared,old,posConf;if(!(me instanceof PosMeta))return new PosMeta(key,owned_obj,pos,shared_obj);shared={};non_shared={};if(!owner_key||typeof owner_key!=STR)return me;if(shared_obj&&typeof shared_obj==OBJ)shared=_mix(shared,shared_obj);if(owned_obj&&typeof owned_obj==OBJ)non_shared[owner_key]=owned_obj;function get_value(propKey,owner_key){var ret="";if(!propKey||typeof propKey!=STR)return ret;if(!owner_key||typeof owner_key!=STR)owner_key="shared";if(owner_key=="shared"){ret=shared[propKey]||""}else{ret=propKey in non_shared?non_shared[prop_key]||"":""}return ret}function serialize(){var obj=new ParamHash;obj.shared=shared;obj.non_shared=non_shared;return obj.toString()}me.toString=serialize;me.value=get_value}function _create_pos_markup(src){if(src){if(src.indexOf("${sf_ver}")>-1){src=src.replace(/\${sf_ver}/gi,$sf.ver)}if(src.indexOf("${ck_on}")>-1){var ckVal=_cookies_enabled_test()?"1":"0";src=src.replace(/\${ck_on}/gi,ckVal)}if(src.indexOf("${flash_ver}")>-1){var fVer=_get_flash_version();src=src.replace(/\${flash_ver}/gi,fVer)}}return _cstr(["<scr","ipt type='text/javascript', src='",src,"'></scr","ipt>"])}function _get_flash_version(){if(flash_ver!==NULL){return flash_ver}if(navigator.plugins&&navigator.plugins.length>0){var mimeTypes=navigator.mimeTypes;if(mimeTypes&&mimeTypes[FLASH_MIME]&&mimeTypes[FLASH_MIME].enabledPlugin&&mimeTypes[FLASH_MIME].enabledPlugin.description){flash_ver=mimeTypes[FLASH_MIME].enabledPlugin.version}}else if(sf.env.isIE){var i,obj,tmpVer,p;for(i=0;i<flashActiveXVersions.length;i++){try{obj=new ActiveXObject(flashActiveXVersions[i]);tmpVer=obj.GetVariable("$version");p=tmpVer.indexOf(" ");if(p>-1){flash_ver=tmpVer.substr(p+1).replace(/,/gi,".")}else{flash_ver=tmpVer.replace(/,/gi,".")}break}catch(err){obj=NULL;flash_ver=0;continue}}}else{flash_ver=0}return flash_ver;var getActiveXVersion=function(activeXObj){var version=-1;try{version=activeXObj.GetVariable("$version")}catch(err){}return version}}function _cookies_enabled_test(){var cookieEnabled=navigator.cookieEnabled?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!cookieEnabled){document.cookie="testcookie";cookieEnabled=document.cookie.indexOf("testcookie")!=-1?true:false;if(navigator){navigator.cookieEnabled=cookieEnabled}}return cookieEnabled}function Position(posIDorObj,html,meta,conf){var me=this,typ=posIDorObj&&typeof posIDorObj,origHtml=html,id;if(!(me instanceof Position))return new Position(posIDorObj,html,meta,conf);if(config==null){var msg="Publisher Config not initialized - abort";logger.error(msg);info.errs.push(msg);return}if(typ==OBJ){_mix(me,posIDorObj)}else{id=me.id=_cstr(posIDorObj)||_guid(POS_ID_AUTO_PREFIX)}if(!html){if(me.src){me.html=_create_pos_markup(me.src)}else{me.html=me.html||"";me.src=""}}else{me.html=html;me.src=""}if(!me.html)me.html="";me.meta=meta||me.meta||{};me.conf=conf||me.conf||{};if(id){if(config&&config.positions[id]){me.conf=config.positions[id]}else{if(conf){conf.id=id;me.conf=new PosConfig(conf)}}}}function _docNode(el){var d=el&&_doc(el)||dc,compatMode=d[COMPAT_MODE],root=d[DOC_EL];if(compatMode&&!operaVer&&compatMode!="CSS1Compat")root=d.body;return root}function _isPX(val){val=_cstr(val);if(val&&val.search(/\D+/g)==-1)return TRUE;if(val&&val.search(/px/gi)!=-1)return TRUE}function _getClip(curSt){var ret=[-1,-1,-1,-1],props=[CLIP+"Top",CLIP+"Right",CLIP+"Bottom",CLIP+"Left"],idx=0,clipVal,prop,val,len;if(!curSt)return ret;if(ieVer){while(prop=props[idx]){clipVal=curSt[prop];if(_isPX(clipVal)){clipVal=_cnum(clipVal,-1);if(clipVal>=0)ret[idx]=clipVal}idx++}}else{clipVal=curSt[CLIP];if(clipVal&&clipVal.search(/\d+/g)!=-1){clipVal=clipVal.replace(/\w+\(([^\)]*?)\)/g,"$1");ret=clipVal.split(" ");ret=ret[LEN]<=1?ret.split(","):ret;len=ret[LEN];idx=0;while(len--){val=ret[idx];if(!_isPX(val)){ret[idx]=-1}else{ret[idx]=_cnum(val,-1)}idx++}}}return ret}function _calcBorders(el,rect){var t=0,l=0,st,re=/^t(?:able|d|h|r|head|foot)$/i;st=currentStyle(el);if(st){t=st["borderTopWidth"];l=st["borderLeftWidth"];t=_isPX(t)?_cnum(t,0):0;l=_isPX(l)?_cnum(l,0):0;if(geckVer&&re.test(_tagName(el)))t=l=0}rect=rect||{t:0,l:0};rect.t+=t;rect.l+=l;return rect}function _get_doc_scroll(el){var pos={x:0,y:0,w:0,h:0},def={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},d,de,dv,db,offsetX=0,offsetY=0;d=_doc(el)||dc;de=d[DOC_EL]||def;db=d.body||def;dv=d.defaultView;if(dv){offsetX=_cnum(dv.pageXOffset,0);offsetY=_cnum(dv.pageYOffset,0)}pos.x=_max(de.scrollLeft,db.scrollLeft,offsetX);pos.y=_max(de.scrollTop,db.scrollTop,offsetY);pos.w=_max(de.scrollWidth,db.scrollWidth,0);pos.h=_max(de.scrollHeight,db.scrollHeight,0);return pos}function _getRectIE(el){var rect={t:0,l:0,r:0,b:0,w:0,h:0,z:0},_back="BackCompat",scroll,box,d,de,compatMode,st,adjustX,adjustY,bLeft,bTop;if(el&&el[NODE_TYPE]==1){try{d=_doc(el)||dc;if(!dom.ready())return _getRectNonIE(el);scroll=_get_doc_scroll(el);box=el.getBoundingClientRect();rect.t=box.top;rect.l=box.left;adjustX=adjustY=IE_BORDER_ADJ;compatMode=d[COMPAT_MODE];de=d[DOC_EL];st=currentStyle(de);bLeft=st["borderLeftWidth"];bTop=st["borderTopWidth"];if(ieVer===6){if(compatMode!=_back){adjustX=adjustY=0}}if(compatMode==_back){bLeft=_isPX(bLeft)?_cnum(bLeft,0):0;adjustX=bLeft;bTop=_isPX(bTop)?_cnum(bTop,0):0;adjustY=bTop;rect.t-=adjustX;rect.l-=adjustY}rect.t+=scroll.y;rect.l+=scroll.x;rect.b=rect.t+el.offsetHeight;rect.r=rect.l+el.offsetWidth;rect.w=_max(rect.r-rect.l,0);rect.h=_max(rect.b-rect.t,0);rect.z=currentStyle(el,"zIndex")}catch(e){rect={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}}return rect}function _getRectNonIE(el){var rect={t:0,l:0,r:0,b:0,w:0,h:0,z:0},scrollTop=0,scrollLeft=0,bCheck=FALSE,root=_docNode(el),scroll=_get_doc_scroll(el),parentNode,w,h;if(el&&el[NODE_TYPE]==1){try{rect.l=el.offsetLeft||0;rect.t=el.offsetTop||0;parentNode=el;bCheck=geckVer||wbVer>519;while(parentNode=parentNode.offsetParent){rect.t+=parentNode.offsetTop||0;rect.l+=parentNode.offsetLeft||0;if(bCheck)_calcBorders(parentNode,rect);if(parentNode==root)break}parentNode=el;if(currentStyle(parentNode,"position")!="fixed"){parentNode=el;while(parentNode=_par(parentNode)){if(parentNode[NODE_TYPE]==1){scrollTop=parentNode.scrollTop||0;scrollLeft=parentNode.scrollLeft||0;if(geckVer&&currentStyle(parentNode,OVER)!="visible")_calcBorders(parentNode,rect);rect.l-=scrollLeft;rect.t-=scrollTop}if(parentNode==root)break}rect.t+=scroll.y;rect.l+=scroll.x}else{rect.t+=scroll.y;rect.l+=scroll.x}if(!ieVer&&el==_docNode(el)){h=el.clientHeight;w=el.clientWidth}else{h=el.offsetHeight;w=el.offsetWidth}rect.b=rect.t+h;rect.r=rect.l+w;rect.w=_max(rect.r-rect.l,0);rect.h=_max(rect.b-rect.t,0);rect.z=currentStyle(el,"zIndex")}catch(e){rect={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}}return rect}function docRect(el){var root=_docNode(el),w=0,h=0;if(root){w=root.scrollWidth||0;h=root.scrollHeight||0}return{t:0,l:0,b:h,r:w,w:w,h:h}}function winRect(el){var wi=el&&_view(el)||win,h=wi.innerHeight||0,w=wi.innerWidth||0,t=wi.screenY||wi.screenTop||0,b=h+t,l=wi.screenX||wi.screenLeft||0,r=w+l,root=_docNode(el);if(!h&&!w&&root){h=root.clientHeight||0;w=root.clientWidth||0;r=l+w;b=t+h}return{t:t,l:l,b:b,r:r,w:w,h:h}}function contains(element,needle){var ret=FALSE,el_node_type=element&&element[NODE_TYPE]||-1,needle_node_type=needle&&needle[NODE_TYPE]||-1;if(el_node_type==1&&needle_node_type!=-1){if(element[CONTAINS]){if(operaVer||needle_node_type==1){ret=element[CONTAINS](needle)}else{while(needle){if(element===needle){ret=TRUE;break}needle=needle.parentNode}}}else if(element[COMPARE_DOC_POS]){ret=element===needle||!!(element[COMPARE_DOC_POS](needle)&16)}}return ret}function currentStyle(el,attr){var val="",hasAttr=!!(arguments[LEN]&&attr),comp="getComputedStyle",e;if(hasAttr){if(ieVer){try{val=el.currentStyle[attr]}catch(e){val=""}}else{try{val=_view(el)[comp](el,NULL)[attr]}catch(e){val=""}}}else{if(ieVer){try{val=el.currentStyle}catch(e){val=NULL}}else{try{val=_view(el)[comp](el,NULL)}catch(e){val=NULL}}}return val}function bounds(el,details,check_3D){var par=el&&_par(el),root=_docNode(el),el_rect=_rect(el),root_rect=_rect(root),root_scroll=_get_doc_scroll(root),doc_rect=docRect(el),clip_rect={t:0,l:0,r:0,b:0,w:0,h:0},exp_rect={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},xsb_h=0,ysb_w=0,is_scroll_node=FALSE,is_using_doc_root_r=FALSE,is_using_doc_root_b=FALSE,cur_st,w,h,t,l,r,b,scroll_width,offset_width,client_width,scroll_height,offset_height,client_height,over_x_val,scroll_left,scroll_top,over_y_val,clip,x_hidden,y_hidden,ref_node,temp_rect,is_scroll_node=FALSE;details=details&&typeof details==OBJ?details:{};if(par){while(cur_st=currentStyle(par)){if(cur_st["display"]=="block"||cur_st["position"]=="absolute"||cur_st["float"]!="none"||cur_st["clear"]!="none"){over_x_val=cur_st[OVER+"X"];over_y_val=cur_st[OVER+"Y"];clip=_getClip(cur_st);if(par==root){scroll_width=root_scroll.w;scroll_height=root_scroll.h}else{scroll_width=par.scrollWidth;scroll_height=par.scrollHeight}offset_width=par.offsetWidth;offset_height=par.offsetHeight;client_width=par.clientWidth;client_height=par.clientHeight;if(over_x_val==HIDDEN||clip[1]>0||clip[3]>0){if(!ref_node){x_hidden=1;ref_node=par}}if(over_y_val==HIDDEN||clip[0]>0||clip[2]>0){if(!ref_node){y_hidden=1;ref_node=par}}if(over_x_val==SCROLL){ref_node=par;xsb_h=offset_height-client_height;is_scroll_node=TRUE}if(over_y_val==SCROLL){if(!ref_node)ref_node=par;ysb_w=offset_width-client_width;is_scroll_node=TRUE}if(over_x_val==AUTO){if(!ref_node)ref_node=par;if(scroll_width>client_width){xsb_h=offset_height-client_height}is_scroll_node=TRUE}if(over_y_val==AUTO){if(!ref_node)ref_node=par;if(scroll_height>client_height){ysb_w=offset_width-client_width}is_scroll_node=TRUE}if(ref_node)break}if(par==root){if(scroll_width>client_width){h=win.innerHeight||0||offset_height;xsb_h=h-client_height}if(scroll_height>client_height){w=win.innerWidth||0||offset_width;ysb_w=w-client_width}is_scroll_node=TRUE}par=_par(par);if(!par||par[NODE_TYPE]!=1)break}}if(el_rect.w&&el_rect.h){if(!ref_node||ref_node==root){exp_rect.t=_max(el_rect.t,0);exp_rect.l=_max(el_rect.l,0);if(ieVer&&dc[COMPAT_MODE]=="BackCompat"&&_attr(root,SCROLL)=="no"){y_hidden=x_hidden=1}else{cur_st=currentStyle(root);if(cur_st){x_hidden=cur_st[OVER+"X"]==HIDDEN;y_hidden=cur_st[OVER+"Y"]==HIDDEN}}if(root_scroll.h>root.clientHeight){if(y_hidden){exp_rect.b=0}else{is_using_doc_root_b=TRUE;exp_rect.b=_max(doc_rect.h-el_rect.h-xsb_h-el_rect.t,0)}}else{exp_rect.b=_max(root_rect.h-el_rect.h-xsb_h-el_rect.t,0)}if(root_scroll.w>root.clientWidth){if(x_hidden){exp_rect.r=0}else{is_using_doc_root_r=TRUE;exp_rect.r=_max(doc_rect.w-el_rect.w-ysb_w-el_rect.l,0)}}else{exp_rect.r=_max(root_rect.r-el_rect.w-ysb_w-el_rect.l,0)}}else{cur_st=currentStyle(ref_node);if(_tagName(ref_node)=="body"){ref_node=root;t=el_rect.t;l=el_rect.l}else{t=l=0}clip_rect=_rect(ref_node);if(clip[1]>0){clip_rect.w=clip[1];clip_rect.r=clip_rect.l+clip_rect.w}if(clip[3]>0){clip_rect.l=clip_rect.l+clip[3];clip_rect.w=clip_rect.w-clip[3]}if(clip[2]>0){clip_rect.h=clip[2];clip_rect.b=clip_rect.t+clip_rect.h}if(clip[0]>0){clip_rect.t=clip_rect.t+clip[0];clip_rect.h=clip_rect.h-clip[0]}if(el_rect.t>clip_rect.t&&clip_rect.t>0)t=el_rect.t-clip_rect.t;if(el_rect.l>clip_rect.l&&clip_rect.l>0)l=el_rect.l-clip_rect.l;scroll_top=ref_node.scrollTop;scroll_left=ref_node.scrollLeft;scroll_height=ref_node.scrollHeight;scroll_width=ref_node.scrollWidth;exp_rect.t=_max(t,0);exp_rect.l=_max(l,0);if(cur_st){x_hidden=cur_st[OVER+"X"]==HIDDEN||clip[1]>0||clip[3]>0;y_hidden=cur_st[OVER+"Y"]==HIDDEN||clip[0]>0||clip[2]>0}if(el_rect.t>=clip_rect.b){exp_rect.b=0}else{if(!y_hidden&&el_rect.t>=clip_rect.b)y_hidden=1;if(scroll_height>ref_node.clientHeight){if(y_hidden){exp_rect.b=0}else{exp_rect.b=_max(scroll_height-el_rect.h-xsb_h-t,0)}}else{exp_rect.b=_max(clip_rect.h-el_rect.h-xsb_h-t,0)}}if(el_rect.l>=clip_rect.r){exp_rect.r=0}else{if(!x_hidden&&el_rect.l>=clip_rect.r)x_hidden=1;if(scroll_width>ref_node.clientWidth){if(x_hidden){exp_rect.r=0}else{exp_rect.r=_max(scroll_width-el_rect.w-ysb_w-l,0)}}else{exp_rect.r=_max(clip_rect.w-el_rect.w-ysb_w-l,0)}}}exp_rect.xs=xsb_h?1:0;exp_rect.ys=ysb_w?1:0;exp_rect.w=exp_rect.r+exp_rect.l;exp_rect.h=exp_rect.t+exp_rect.b;if(!ref_node||ref_node==root){temp_rect=root_rect;ref_node=root}else{temp_rect=clip_rect}l=_max(el_rect.l,temp_rect.l);r=_min(el_rect.r,is_using_doc_root_r?_min(doc_rect.r,temp_rect.r):temp_rect.r);w=_max(r-l,0);t=_max(el_rect.t,temp_rect.t);b=_min(el_rect.b,is_using_doc_root_b?_min(doc_rect.b,temp_rect.b):temp_rect.b);h=_max(b-t,0);exp_rect.xiv=_cnum((w/el_rect.w)[TFXD](2));exp_rect.yiv=_cnum((h/el_rect.h)[TFXD](2));exp_rect.iv=_cnum((w*h/(el_rect.w*el_rect.h))[TFXD](2))}details.refNode=ref_node||root;details.isRoot=ref_node==root;details.canScroll=is_scroll_node;details.refRect=!ref_node||ref_node==root?root_rect:clip_rect;details.expRect=exp_rect;details.rect=el_rect;if(check_3D){(function(){var idx=0,len=0,arOvrlaps,el_w,el_h,el_area,ovr_node,ovr_node_rect,t,b,l,r,h,w,ovr_area,new_iv,new_xiv,new_yiv;if(exp_rect.iv>.5){mgr_bounds_details=details;arOvrlaps=overlaps(el,_cnum(check_3D,1,1));mgr_bounds_details=NULL;len=arOvrlaps[LEN];el_w=el_rect.w;el_h=el_rect.h,el_area=el_w*el_h;if(len){while(ovr_node=arOvrlaps[idx++]){ovr_node_rect=_rect(ovr_node);l=_max(el_rect.l,ovr_node_rect.l);r=_min(el_rect.r,ovr_node_rect.r);t=_max(el_rect.t,ovr_node_rect.t);b=_min(el_rect.b,ovr_node_rect.b);w=r-l;h=b-t;ovr_area=w*h;new_xiv=(1-w/el_w)[TFXD](2);new_yiv=(1-h/el_h)[TFXD](2);new_iv=(1-ovr_area/el_area)[TFXD](2);if(new_xiv>0&&new_xiv<exp_rect.xiv||new_yiv>0&&new_yiv<exp_rect.yiv){exp_rect.xiv=new_xiv;exp_rect.yiv=new_yiv;exp_rect.iv=new_iv}}}}})()}return exp_rect}function overlaps(el,limit){var rect=_rect(el),doc=_doc(el),root=_docNode(doc),t=rect.t,l=rect.l,w=rect.r-rect.l,h=rect.b-rect.t,factor=INTERSECT_FACTOR,ret=[],baseW=_round(w/factor),baseH=_round(h/factor),curW=baseW,curH=baseH,seen={},par_details={},points=[],idx=0,x,y,pt,id,checkEl,ref_par_node,ref_par_rect,maxX,maxY;if(mgr_bounds_details){par_details=mgr_bounds_details}else{bounds(el,par_details,TRUE)}ref_par_node=par_details.refNode;ref_par_rect=par_details.refRect;if(ref_par_rect&&ref_par_node&&ref_par_node!=root){maxX=ref_par_rect.r;maxY=ref_par_rect.b}else{maxX=l+w;maxY=t+h}if(doc&&root&&doc[EL_FROM_PT]){while(curW<w){curH=baseH;while(curH<h){x=l+curW;y=t+curH;if(x<maxX&&y<maxY)points.push([x,y]);curH+=baseH}curW+=baseW}limit=_cnum(limit,points[LEN]);while(pt=points[idx++]){checkEl=doc[EL_FROM_PT](pt[0],pt[1]);try{if(checkEl&&checkEl.nodeType==1&&checkEl!==root&&checkEl!==el&&!contains(el,checkEl)){id=_attr(checkEl,"id");if(!id){id=lang.guid("geom_inter");_attr(checkEl,"id",id)}if(!seen[id]&&ret[LEN]<limit){seen[id]=1;ret.push(checkEl)}}}catch(e){}}}id="";for(id in seen){if(id.indexOf("geom_inter")==0){checkEl=_elt(id);if(checkEl)_attr(checkEl,"id",NULL)}}return ret}function _call_xmsg_host_fb(methName,arg1,arg2,arg3){if(!msghostfb)msghostfb=dom.msghost_fb;return methName&&msghostfb&&msghostfb[methName]&&msghostfb[methName](arg1,arg2,arg3)}function _check_html5_init(evt){if(!canUseHTML5&&evt&&evt.data==initID){canUseHTML5=TRUE;dom.evtCncl(evt);dom[DETACH](win,MSG,_check_html5_init)}}function _handle_msg_from_outside(evt){var data=evt&&evt.data,msg_win=evt&&evt.source,params=data&&(typeof data==="string"||data instanceof Array)&&data.indexOf(GUID)!=-1&&ParamHash(data),tgtID=params&&params.id,ifr=tgtID&&_elt(tgtID),fr_win=ifr&&_ifr_view(ifr),pipe=tgtID&&msg_pipes[tgtID],dataGUID=params&&params[GUID],pipeGUID=pipe&&pipe[GUID],cb=pipe&&pipe._xmsgcb,ret=FALSE;if(pipeGUID&&dataGUID&&dataGUID==pipeGUID&&msg_win&&fr_win&&fr_win==msg_win){try{ret=cb(params.msg)}catch(e){ret=FALSE}}if(ret)dom.evtCncl(evt);return ret}function send_msg_to_child_iframe(tgtID,data){var pipe=tgtID&&msg_pipes[tgtID],success=FALSE,msgObj,w,el,e;if(!pipe){success=_call_xmsg_host_fb("send",tgtID,data)}else{if(pipe){msgObj=ParamHash();msgObj.msg=data;msgObj.guid=pipe.guid;if(usingHTML5()){el=_elt(tgtID);w=_ifr_view(el);try{w[PMSG](_cstr(msgObj),pipe.srcHost||"*");success=TRUE}catch(e){success=FALSE}}else{success=_call_xmsg_host_fb("send",tgtID,data)}}}msgObj=w=el=NULL;return success}function usingHTML5(){return canUseHTML5}function _strippedEncodedLocation(){var cleaned,pos=loc.href.indexOf("#");if(pos>-1){cleaned=loc.href.substr(0,pos)}else{cleaned=loc.href}pos=cleaned.indexOf("?");if(pos>-1){cleaned=cleaned.substr(0,pos)}return escape(cleaned)}function prep_iframe_msging(attrs){var pipe=NULL,iframeName,nameParams,src,srcHost,newPipe,locStripped=_strippedEncodedLocation();if(attrs){iframeName=attrs.name;nameParams=ParamHash(iframeName);src=_cstr(attrs.src);srcHost=src&&src.substring(0,src.indexOf("/",9));srcHost=srcHost.search(/http/gi)!=0?"":srcHost;pipe=ParamHash(nameParams);pipe.id=attrs.id||"iframe_"+_guid();pipe.src=src;pipe.srcHost=srcHost;pipe[GUID]=pipe[GUID]||_guid();pipe.host=locHost;pipe.loc=locStripped;pipe.proxyID="";if(usingHTML5()){pipe.html5=1;pipe.proxyPath=""}else{newPipe=_call_xmsg_host_fb("prep",pipe);if(newPipe)pipe=newPipe}attrs.name=pipe}return pipe}function attach_iframe_msging(el,pipe,cb){var tgtID;if(_tagName(el)=="iframe"){tgtID=_attr(el,"id");if(tgtID&&pipe&&pipe instanceof ParamHash&&tgtID==pipe.id){if(usingHTML5()){msg_pipes[tgtID]=pipe;pipe._xmsgcb=cb;if(!html5Bound){dom[ATTACH](win,MSG,_handle_msg_from_outside);html5Bound=TRUE}}else{_call_xmsg_host_fb(ATTACH,el,pipe,cb)}}}}function detach_iframe_msging(el){var id=_attr(el,"id"),pipe=id&&msg_pipes[id],w=NULL,empty=TRUE;if(!pipe){_call_xmsg_host_fb(DETACH,el);return}if(pipe){pipe._xmsgcb=msg_pipes[id]=NULL;pipe=NULL;delete msg_pipes[id]}id="";for(id in msg_pipes){pipe=msg_pipes[id];if(pipe&&pipe[GUID]){empty=FALSE;break}}if(empty&&usingHTML5()&&html5Bound){html5Bound=FALSE;dom[DETACH](win,MSG,_handle_msg_from_outside)}el=w=pipe=NULL}function _fire_pub_callback(cb_name){var cb_args=[],args=arguments,len=args[LEN],idx=0,f,ret=FALSE,e,a;if(config){f=config[cb_name];if(f){while(len--){a=args[idx++];if(a!=cb_name){cb_args.push(a)}}try{ret=f.apply(NULL,cb_args)}catch(e){ret=FALSE}}}return ret}function _handle_render_timeout(pos_id){var pend=pos_id&&pending_ifrs[pos_id];if(pend){clearTimeout(pend);nuke(pos_id);_fire_pub_callback(POS_MSG,"render-timeout",pos_id)}if(!_has_pending_renders())current_status=""}function _clear_geom_update_timer(){if(geom_update_timer){clearTimeout(geom_update_timer);geom_update_timer=0}}function _clear_focus_update_timer(){if(focus_update_timer){clearTimeout(focus_update_timer);focus_update_timer=0}}function _set_focus_update_timer(in_focus){_clear_focus_update_timer();focus_update_timer=setTimeout(function(){_update_focus(in_focus)},2)}function _set_geom_update_timer(is_win_scroll){_clear_geom_update_timer();if(is_win_scroll){geom_update_timer=setTimeout(_update_geom_win_scroll,GEOM_UPDATE_INTRVAL)}else{geom_update_timer=setTimeout(_update_geom_win_resize,GEOM_UPDATE_INTRVAL)}}function _update_geom(is_win_scroll){var posID,params,msgObj,id,ifr,g;for(posID in rendered_ifrs){if(is_win_scroll&&posID in scroll_parents_attached)continue;params=rendered_ifrs[posID];id=params&&params.dest;ifr=id&&_elt(id);if(ifr&&params){g=_build_geom(posID,ifr,TRUE);msgObj=ParamHash();msgObj.pos=posID;msgObj.cmd=NOTIFY_GEOM_UPDATE;msgObj.geom=_es(g);_fire_pub_callback(POS_MSG,posID,NOTIFY_GEOM_UPDATE,g);_send_response(params,msgObj)}}_clear_geom_update_timer()}function _update_geom_win_resize(){_update_geom()}function _update_geom_win_scroll(){_update_geom(TRUE)}function _handle_node_scroll(evt,posID,node){var scr_handle=scroll_parents_attached[posID],g;if(scr_handle){if(scr_handle.tID){clearTimeout(scr_handle.tID);delete scr_handle.tID}scr_handle.tID=setTimeout(function(){var params=rendered_ifrs[posID],id=params&&params.dest,ifr=id&&_elt(id),g,msgObj;if(ifr&&params){g=_build_geom(posID,ifr,TRUE);msgObj=ParamHash();msgObj.pos=posID;msgObj.cmd=NOTIFY_GEOM_UPDATE;msgObj.geom=_es(g);_fire_pub_callback(POS_MSG,posID,NOTIFY_GEOM_UPDATE,g);_send_response(params,msgObj)}delete scr_handle.tID},GEOM_UPDATE_INTRVAL)}}function _update_focus(in_focus){var posID,params,msgObj,id,ifr;for(posID in rendered_ifrs){params=rendered_ifrs[posID];id=params&&params.dest;ifr=id&&_elt(id);if(ifr&&params){msgObj=ParamHash();var data=ParamHash();msgObj.pos=posID;msgObj.cmd=data.cmd=NOTIFY_FOCUS_CHANGE;msgObj.value=in_focus;_fire_pub_callback(POS_MSG,posID,NOTIFY_FOCUS_CHANGE,in_focus);_send_response(params,msgObj)}}_clear_focus_update_timer()}function _handle_win_focus(evt){_set_focus_update_timer(TRUE)}function _handle_win_blur(evt){var f=win[DOC].hasFocus();_set_focus_update_timer(f)}function _handle_win_geom_scroll(evt){_set_geom_update_timer(1)}function _handle_win_geom_resize(evt){_set_geom_update_timer()}function _handle_unload(evt){var prop,scr_handle,e;_clear_geom_update_timer();try{dom.detach(win,SCROLL,_handle_win_geom_scroll);dom.detach(win,"resize",_handle_win_geom_resize);dom.detach(win,"unload",_handle_unload);dom.detach(win,"focus",_handle_win_focus);dom.detach(win,"blur",_handle_win_blur);for(prop in scroll_parents_attached){scr_handle=scroll_parents_attached[prop];if(scr_handle){if(scr_handle.tID)clearTimeout(scr_handle.tID);dom.detach(scroll_parents_attached[prop],SCROLL,scr_handle[ONSCROLL]);scr_handle[ONSCROLL]=scr_handle.node=NULL}scroll_parents_attached[prop]=NULL;delete scroll_parents_attached[prop]}win_events_attached=FALSE}catch(e){}}function _handle_msg_evt(data){var msgObj,ret=FALSE,info;msgObj=ParamHash(data,NULL,NULL,TRUE,TRUE);if(msgObj&&msgObj.pos){info=rendered_ifrs[msgObj.pos];if(info){switch(msgObj.cmd){case"exp-push":_expand_safeframe(msgObj,TRUE);ret=TRUE;break;case"exp-ovr":_expand_safeframe(msgObj);ret=TRUE;break;case"collapse":_collapse_safeframe(msgObj);ret=TRUE;break;case"msg":_fire_pub_callback(POS_MSG,msgObj.pos,"msg",msgObj.msg);ret=TRUE;break;case ERROR_COMMAND:_record_error(msgObj);ret=TRUE;break;case NOTIFY_GEOM_UPDATE:sf.lib.logger.log("Geom update complete: "+msgObj.pos);ret=TRUE;break;case"read-cookie":var canRead=info.conf&&info.conf.supports&&info.conf.supports[msgObj.cmd]&&info.conf.supports[msgObj.cmd]!="0";if(canRead){_read_cookie(msgObj);ret=TRUE}else{ret=FALSE}break;case"write-cookie":var canWrite=info.conf&&info.conf.supports&&info.conf.supports[msgObj.cmd]&&info.conf.supports[msgObj.cmd]!="0";if(canWrite){_write_cookie(msgObj);ret=TRUE}else{ret=FALSE}break}}}return ret}function _has_pending_renders(){var all_renders_done=TRUE,pos_id;for(pos_id in pending_ifrs){all_renders_done=FALSE;break}return all_renders_done}function _send_response(params,msgObj){current_status="sending-msg-down-"+msgObj.cmd;setTimeout(function(){var id=params&&params.dest;if(id&&msgObj)send_msg_to_child_iframe(id,msgObj.toString());current_status="";msgObj=id=params=NULL},XCOM_RESP_DELAY)}function _handle_frame_load(){var el=this,pos_id=dom.attr(el,"_pos_id"),all_renders_done=TRUE;if(pending_ifrs[pos_id]){clearTimeout(pending_ifrs[pos_id]);delete pending_ifrs[pos_id];complete_ifrs[pos_id]=pos_id;dom.attr(el,"_pos_id",NULL);dom.attr(el,"name",NULL);el[ST].visibility="inherit";el[ST].display="block";_fire_pub_callback("onEndPosRender",pos_id)}if(!_has_pending_renders())current_status=""}function _shim_frame(id,showIt,w,h,z){if(!isIE)return;var ifr=_elt(id),shmID="shm_"+id,shmFrm=_elt(shmID);if(showIt){if(shmFrm){shmFrm[ST].visibility="visible";return}shmFrm=iframes.clone(ifr,{id:shmID,src:"",name:shmID},[WIDTH,":",w,PX,";position:absolute;",HEIGHT,":",h,PX,";z-index:",z-1,";filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0)"]);dom.append(_par(ifr),shmFrm)}else if(!showIt&&shmFrm){shmFrm[ST].visibility="hidden"}}function _build_geom(posID,dest,dont_attach_scroll_evt){var bounds,info=ParamHash(),details={},scr_handle,node,new_ref_node,ex,s,e;try{bounds=dom.bounds(dest,details,TRUE);if(!dont_attach_scroll_evt&&!details.isRoot&&details.canScroll){ex=details.expRect;if(ex.xs||ex.ys){scr_handle=scroll_parents_attached[posID];new_ref_node=details.refNode;if(scr_handle&&scr_handle.node!=new_ref_node){if(scr_handle.tID)clearTimeout(scr_handle.tID);dom.detach(node,SCROLL,scr_handle[ONSCROLL]);scr_handle.node=scr_handle[ONSCROLL]=NULL;scroll_parents_attached[posID]=NULL;delete scroll_parents_attached[posID]}if(!scroll_parents_attached[posID]){scr_handle={};scr_handle.node=new_ref_node;scr_handle[ONSCROLL]=function(evt){_handle_node_scroll(evt,posID)};scroll_parents_attached[posID]=scr_handle;dom.attach(new_ref_node,SCROLL,scr_handle[ONSCROLL])}}}}catch(e){info=NULL}try{if(info){info.win=ParamHash(dom.winRect());info.par=ParamHash(details.refRect);ex=ParamHash(details.expRect);s=ParamHash(details.rect);s.iv=ex.iv;s.xiv=ex.xiv;s.yiv=ex.yiv;delete ex.iv;delete ex.xiv;delete ex.yiv;info.exp=ex;info.self=s}}catch(e){info=NULL}return info}function _expand_safeframe(msgObj,push){var xn=FALSE,yn=FALSE,posID=msgObj&&msgObj.pos,params,params_conf,ifr,par,ifrSt,parSt,orWd,orHt,dx,dy,nWd,nHt,id,t,l,r,b,exp,z,delta,scr_handle;if(!posID)return;params=rendered_ifrs[posID];params_conf=params&&params.conf;if(!params||!params_conf)return;id=params.dest;ifr=_elt(id);par=_elt(POS_REL_BOX_ID_PREFIX+"_"+posID);if(!ifr||!par)return;ifrSt=ifr[ST];parSt=par[ST];if(!ifrSt)return;scr_handle=scroll_parents_attached[posID];if(scr_handle&&scr_handle.tID)clearTimeout(scr_handle.tID);_clear_geom_update_timer();exp=msgObj.exp_obj;orWd=params_conf.w;orHt=params_conf.h;if(!exp){dx=params.dx=_cnum(msgObj.dx);dy=params.dy=_cnum(msgObj.dy);xn=dx<0;yn=dy<0;nWd=xn?orWd+dx*-1:orWd+dx;nHt=yn?orHt+dy*-1:orHt+dy}else{t=_cnum(exp.t,0,0);l=_cnum(exp.l,0,0);r=_cnum(exp.r,0,0);b=_cnum(exp.b,0,0);nWd=_cnum(orWd+l+r,0,0);nHt=_cnum(orHt+t+b,0,0);if(t){dy=t*-1;yn=TRUE}else{dy=0}if(l){dx=l*-1;xn=TRUE}else{dx=0}}if(nWd<=orWd&&nHt<=orHt)return;if(_fire_pub_callback(BF_POS_MSG,posID,EXPAND_COMMAND,dx,dy))return;ifrSt[WIDTH]=nWd+PX;ifrSt[HEIGHT]=nHt+PX;if(xn)ifrSt.left=dx+PX;if(yn)ifrSt.top=dy+PX;z=_cnum(params.z,0);if(!z)z=DEFAULT_ZINDEX;ifrSt.zIndex=z;_shim_frame(id,TRUE,nWd,nHt,z-1);if(push){parSt[WIDTH]=nWd+PX;parSt[HEIGHT]=nHt+PX}else{parSt[WIDTH]=orWd+PX;parSt[HEIGHT]=orHt+PX}params.expanded=TRUE;msgObj.dx=dx;msgObj.dy=dy;msgObj.w=nWd;msgObj.h=nHt;msgObj.cmd="expand";msgObj.geom=_es(_build_geom(posID,ifr,TRUE));_fire_pub_callback(POS_MSG,posID,EXPAND_COMMAND,dx,dy);_send_response(params,msgObj);ifrSt=par=ifr=params=msgObj=NULL}function _collapse_safeframe(msgObj,isOutside,noMsging){var posID=msgObj&&msgObj.pos,params=posID&&rendered_ifrs[posID],params_conf=params&&params.conf,id=params_conf&&params_conf.dest,ifr=id&&_elt(id),par=ifr&&_elt(POS_REL_BOX_ID_PREFIX+"_"+posID),ifrSt=ifr&&ifr[ST],parSt=par&&par[ST],scr_handle;if(!posID||!params||!ifr||!par)return;if(!params.expanded)return;scr_handle=scroll_parents_attached[posID];if(scr_handle&&scr_handle.tID)clearTimeout(scr_handle.tID);_clear_geom_update_timer();if(!noMsging){if(_fire_pub_callback(BF_POS_MSG,posID,COLLAPSE_COMMAND,0,0))return}ifrSt.left=ifrSt.top="0px";parSt[WIDTH]=ifrSt[WIDTH]=params_conf.w+PX;parSt[HEIGHT]=ifrSt[HEIGHT]=params_conf.h+PX;ifrSt.zIndex=params.dx=params.dy=0;_shim_frame(id);if(!noMsging){_fire_pub_callback(POS_MSG,posID,COLLAPSE_COMMAND,0,0);msgObj.cmd=isOutside?"collapsed":"collapse";msgObj.geom=_es(_build_geom(posID,ifr,TRUE));_send_response(params,msgObj)}ifr=ifrSt=par=parSt=params=msgObj=NULL}function _record_error(msgObj){var posID=msgObj&&msgObj.pos,params=posID&&rendered_ifrs[posID],params_conf=params&&params.conf,id=params_conf&&params_conf.dest,ifr=id&&_elt(id),par=ifr&&_elt(POS_REL_BOX_ID_PREFIX+"_"+posID),ifrSt=ifr&&ifr[ST],parSt=par&&par[ST],scr_handle;if(sf&&sf.info&&sf.info.errs){sf.info.errs.push(msgObj)}_fire_pub_callback(POS_MSG,posID,ERROR_COMMAND,msgObj)}function _cookieHash(){var cooks,key,i,cookies={},c;cooks=document.cookie.split("; ");for(i=cooks.length-1;i>=0;i--){c=cooks[i].split("=");cookies[c[0]]=c[1]}return cookies}function _read_cookie(msgObj,isOutside){var posID=msgObj&&msgObj.pos,params=posID&&rendered_ifrs[posID],params_conf=params&&params.conf,id=params_conf&&params_conf.dest,ifr=id&&_elt(id),key,cookies;var command="read-cookie";var canRead=params_conf.supports&&params_conf.supports[command]&&params_conf.supports[command]!="0";if(!canRead){return}if(!posID||!params||!ifr)return;key=msgObj.cookie;if(!key)return;cookies=_cookieHash();_fire_pub_callback(POS_MSG,command,posID,0,0);msgObj.cmd=command;msgObj.geom=_es(_build_geom(posID,ifr,TRUE));msgObj.value=cookies[key];_send_response(params,msgObj);ifr=params=msgObj=NULL}function _write_cookie(msgObj,isOutside){var posID=msgObj&&msgObj.pos,params=posID&&rendered_ifrs[posID],params_conf=params&&params.conf,id=params_conf&&params_conf.dest,ifr=id&&_elt(id),key,newValue,cookies,newCookies;var command="write-cookie";var canRead=params_conf.supports&&params_conf.supports[command]&&params_conf.supports[command]!="0";if(!canRead){return}if(!posID||!params||!ifr)return;key=msgObj.cookie;if(!key)return;newValue=escape(msgObj.value);var exdate=new Date;exdate.setDate(exdate.getDate()+1);var c_value=newValue+"; expires="+exdate.toUTCString();document.cookie=key+"="+c_value;_fire_pub_callback(POS_MSG,command,posID,0,0);msgObj.cmd=command;msgObj.geom=_es(_build_geom(posID,ifr,TRUE));msgObj.info=newValue;msgObj.value="";_send_response(params,msgObj);ifr=params=msgObj=NULL}function nuke(){var idx=0,empty=TRUE,args=arguments,pos_id,pos,el_id,el,sb_rel,par;if(!args[LEN]||args[idx]=="*"){args=[];for(pos_id in rendered_ifrs){args.push(pos_id)}}while(pos_id=args[idx++]){pos=rendered_ifrs[pos_id];if(pos){if(pos_id in pending_ifrs){clearTimeout(pending_ifrs[pos_id]);delete pending_ifrs[pos_id]}if(pos_id in complete_ifrs)delete complete_ifrs[pos_id];el_id=pos.dest;el=el_id&&_elt(el_id);par=el&&_par(el);if(dom.attr(par,"id").indexOf(POS_REL_BOX_ID_PREFIX)!=-1){sb_rel=par;par=_par(sb_rel)}dom.purge(el);if(sb_rel)dom.purge(sb_rel);rendered_ifrs[pos_id]=NULL;delete rendered_ifrs[pos_id];el=dom.make("div");dom.attr(el,"id",el_id);dom.append(par,el)}}pos_id="";for(pos_id in rendered_ifrs){empty=FALSE;break}if(empty){current_status="";_handle_unload()}}function render(){var idx=0,args=arguments,firstCSSPos="relative",finalCSSPos="absolute",finalCSSEnd="top:0px;left:0px;visibility:hidden;display:none;",pos,pos_id,pos_conf,dest_el,new_dest_el,rel_el,par_el,name_params,dest_id,dest_rel_id,css_txt,w,h,st,e,pend;if(!config)return FALSE;if(!dom.ready()){dom.wait(function(){render.apply(NULL,args);args=NULL});return NULL}if(args[0]instanceof Array&&args[LEN]==1){args=args[0]}if(args[idx]){pos=args[idx];pos_id=pos.id;pos_conf=pos_id?config.positions[pos_id]:NULL;if(pos_conf){dest_id=pos_conf.dest;dest_el=dest_id&&_elt(dest_id);if(dest_el){w=pos_conf.w;h=pos_conf.h;if(!w){try{w=dest_el.offsetWidth}catch(e){w=0}if(w)pos_conf.w=w}if(!h){try{h=dest_el.offsetHeight}catch(e){h=0}if(h)pos_conf.h=h}if(w&&h){name_params=new ParamHash;dest_rel_id=POS_REL_BOX_ID_PREFIX+"_"+pos_id;rel_el=_elt(dest_rel_id);par_el=_par(dest_el);if(rel_el&&par_el==rel_el)par_el=_par(rel_el);_shim_frame(dest_id);pend=pending_ifrs[pos_id];if(pend)clearTimeout(pend);pend=complete_ifrs[pos_id];if(pend)delete complete_ifrs[pos_id];pending_ifrs[pos_id]=setTimeout(function(){_handle_render_timeout(pos_id)},config.to);current_status="rendering";_fire_pub_callback("onStartPosRender",pos_id,pos_conf,pos);css_txt=["position:","",";z-index:0;",WIDTH,":",w,PX,";",HEIGHT,":",h,PX,";","visibility:inherit;"];if(!rel_el){css_txt[1]=firstCSSPos;rel_el=dom.make("div");rel_el.id=dest_rel_id;rel_el.className="iab_sf";new_dest_el=dest_el.cloneNode(FALSE);dom.css(new_dest_el,css_txt);rel_el.appendChild(new_dest_el);dom.css(rel_el,css_txt);par_el.replaceChild(rel_el,dest_el);dest_el=_elt(dest_id)}else{st=rel_el[ST];st.width=w+PX;st.height=h+PX;st=dest_el&&dest_el[ST];st.width=w+PX;st.height=h+PX}name_params.id=pos_id;name_params.dest=dest_id;name_params.conf=ParamHash(pos_conf);name_params.meta=pos.meta.toString();name_params.html=_es(pos.html);name_params.geom=_es(_build_geom(pos_id,dest_el));name_params.src=config.renderFile;name_params.has_focus=lang.cstr(document.hasFocus());css_txt[1]=finalCSSPos;css_txt[13]=finalCSSEnd;if(!win_events_attached){dom.attach(win,SCROLL,_handle_win_geom_scroll);dom.attach(win,"resize",_handle_win_geom_resize);dom.attach(win,"unload",_handle_unload);dom.attach(win,"focus",_handle_win_focus);dom.attach(win,"blur",_handle_win_blur);win_events_attached=TRUE}iframes.replace({id:dest_id,name:name_params,src:config.renderFile,_pos_id:pos_id},css_txt,rel_el,_handle_frame_load,_handle_msg_evt);rendered_ifrs[pos_id]=name_params}}}}}function get(positionId){var obj=rendered_ifrs[positionId];if(!obj)return null;return _mix({},obj)}function status(){return current_status}if(lang){if(win==top){_rect=ieVer?_getRectIE:_getRectNonIE;lang.def("dom",{rect:_rect,currentStyle:currentStyle,contains:contains,docRect:docRect,winRect:winRect,bounds:bounds,overlaps:overlaps},lib,TRUE);(function(){var e;if(lang){lang.def("msghost",{prep:prep_iframe_msging,attach:attach_iframe_msging,detach:detach_iframe_msging,usingHTML5:usingHTML5,send:send_msg_to_child_iframe},dom,TRUE);dom[ATTACH](win,MSG,_check_html5_init);initID="xdm-html5-init-"+_guid();locHost=locHost.indexOf("file")==0?locHost="file":locHost;try{win[PMSG](initID,locHost=="file"?"*":locHost)}catch(e){dom[DETACH](win,MSG,_check_html5_init)}}})();lang.def("$sf.host",{Config:Config,PosConfig:PosConfig,PosMeta:PosMeta,Position:Position,nuke:nuke,get:get,render:render,status:status},NULL,TRUE)}}})(window);(function(win){var FALSE=false,TRUE=true,NULL=null,SF_DATATAG_CLASS="sf_data",SF_TAG_TYPE="text/x-safeframe",AUTO_BOOT_MAX_RETRIES=100,SF_POSELEM_WRAPPER_CLASS="sf_position",d=win&&win.document,sf=win&&win.$sf,lib=sf&&sf.lib,lang=lib&&lib.lang,dom=lib&&lib.dom,_cstr=lang&&lang.cstr,_guid=lang&&lang.guid,_elt=dom&&dom.elt,_par=dom&&dom.par,_tags=dom&&dom.tags,_attr=dom&&dom.attr,_purge=dom&&dom.purge,_ready=dom&&dom.ready,inline_tags_processed={},boot_retries=0,has_booted=FALSE,doing_auto_boot=FALSE;function _log(msg,is_err){var head_el,err_tag;try{if(!lib)lib=sf&&sf.lib;if(lib&&lib.logger&&win==top){if(is_err){lib.logger.error(msg)}else{lib.logger.log(msg)}}else{head_el=d.getElementsByTagName("head")[0];err_tag=d.createElement("script");err_tag.type="text/plain";err_tag.text="\x3c!-- SafeFrame "+(is_err?"error":"log")+": "+(msg||"unknown")+" --\x3e";head_el.appendChild(head_el,err_tag)}}catch(e){}}function _create_pos_markup(src){return _cstr(["<scr","ipt type='text/javascript', src='",src,"'></scr","ipt>"])}function _auto_boot(){var do_auto=TRUE,config,sf_host,host_file,head,scr_tag;if(has_booted)return;sf_host=sf&&sf.host;if(win==top){if(sf_host&&!sf_host.boot){sf_host.boot=boot}try{config=sf_host&&sf_host.Config()}catch(e){config=NULL}if(!config){try{config=sf_host&&sf_host.conf}catch(e){config=NULL}}if(config){if("auto"in config&&config.auto===FALSE)do_auto=FALSE;if(!sf_host.render||!sf_host.Config){host_file=config.hostFile;if(host_file){head=_tags("head")[0];scr_tag=dom.make("script");scr_tag.id="sf_host_lib";scr_tag.type="text/javascript";scr_tag.className="sf_lib";scr_tag.src=host_file;if(win.ActiveXObject){scr_tag.onreadystatechange=function(){var rs=scr_tag.readyState;if(rs=="loaded"||rs=="complete"){doing_auto_boot=FALSE;if(do_auto)boot();scr_tag.onreadystatechange=NULL;scr_tag=head=sf_host=config=NULL}}}else{scr_tag.onload=function(){doing_auto_boot=FALSE;if(do_auto)boot();scr_tag.onload=NULL;scr_tag=head=sf_host=config=NULL}}doing_auto_boot=TRUE;head.appendChild(scr_tag);return}}}if(do_auto){if(config){doing_auto_boot=TRUE;boot();doing_auto_boot=FALSE}else{if(boot_retries++<=AUTO_BOOT_MAX_RETRIES)setTimeout(_auto_boot,50)}}}else{boot()}}function _clean_up_booted_tags(){var script_tag_id,script_tag;if(dom){for(script_tag_id in inline_tags_processed){script_tag=_elt(script_tag_id);if(script_tag){_purge(script_tag);delete inline_tags_processed[script_tag_id]}}}}function boot(){var script_tags=_tags&&_tags("script")||[],boot_positions=[],idx=0,ret=FALSE,errMsg,sf_host=sf&&sf.host,sf_inline_conf=sf_host&&sf_host.conf,script_tag,script_tag_par,script_tag_id,data,html,pos_obj,pos_conf,pos_dest_el,pos_meta,pos_meta_item,typ,shared_meta,prv_meta,prv_meta_key,meta_key,sf_conf,err;if(!sf||!lang||!dom){_log("SafeFrame base library not found",TRUE);return ret}if(!lib)lib=sf&&sf.lib;if(doing_auto_boot&&has_booted){_log("Automatic boot already invoked");return ret}if(win==top){try{sf_conf=sf_host.Config()}catch(err){sf_conf=NULL}if(sf_inline_conf&&!sf_conf){try{sf_conf=sf_host.Config(sf_inline_conf)}catch(e){sf_conf=NULL}}if(!sf_conf){_log("No configuration found");return ret}}while(script_tag=script_tags[idx++]){if(script_tag.className==SF_DATATAG_CLASS||_attr(script_tag,"type")==SF_TAG_TYPE){has_booted=TRUE;script_tag_id=_attr(script_tag,"id");if(!script_tag_id){script_tag_id=_guid("sf_data_element");_attr(script_tag,"id",script_tag_id)}if(inline_tags_processed[script_tag_id])continue;data=script_tag.text||script_tag.innerHTML||script_tag.innerText;try{data=lang.trim(data);data=new Function("return "+data);data=data()}catch(err){data=NULL;errMsg="Error parsing tag configuration "+(err&&err.message||"");_log(errMsg,TRUE);continue}if(data&&data.id&&(data.html||data.src)){if(win!=top){html=data.html||"";html=html||_create_pos_markup(data.src);if(!_ready()){d.write(html)}else{_log("cannot write html content into already loaded document")}}else{script_tag_par=_par(script_tag);if(!script_tag_par){_log("can't find parent element for script tag",TRUE);continue}pos_conf=sf_conf&&sf_conf.positions[data.id];if(!pos_conf){pos_conf=data.conf;pos_conf.id=data.id;if(pos_conf)pos_conf=new sf_host.PosConfig(pos_conf)}if(!pos_conf){_log("no position conf found pre-defined or inline for position "+data.id,TRUE);continue}if(!pos_conf.dest){pos_conf=new sf_host.PosConfig(pos_conf,_guid(SF_POSELEM_WRAPPER_CLASS))}if(data.meta){pos_meta=data.meta;meta_key="";shared_meta={};for(meta_key in pos_meta){pos_meta_item=pos_meta[meta_key];typ=typeof pos_meta_item;if(!prv_meta&&typ=="object"&&pos_meta_item){prv_meta=pos_meta_item;prv_meta_key=meta_key}if(typ!="object"&&typ!="function"){shared_meta[meta_key]=pos_meta_item}}pos_meta=new sf_host.PosMeta(shared_meta,prv_meta_key||"",prv_meta_key&&prv_meta?prv_meta:NULL)}pos_obj=new sf_host.Position(data,NULL,pos_meta,pos_conf);inline_tags_processed[script_tag_id]=script_tag_id;pos_dest_el=_elt(pos_conf.dest);if(!pos_dest_el){if(_ready()){pos_dest_el=dom.make("div");_attr(pos_dest_el,"id",pos_conf.dest);try{script_tag_par.insertBefore(pos_dest_el)}catch(err){_log("failed auto-adding destination element "+err.message,TRUE);continue}}else{d.write("<div id='",pos_conf.dest,"'></div>")}}boot_positions.push(pos_obj)}}else{_log("no content or id property found in the inline position object",TRUE)}}}if(boot_positions.length){try{sf_host.render(boot_positions)}catch(e){_log("failed during rendering "+e.message)}}else{_log("no positions to boot")}dom.wait(_clean_up_booted_tags)}setTimeout(_auto_boot,50)})(window);"use strict";((w,d,dioParams)=>{function Bidder(){const connection=navigator.connection||navigator.mozConnection||navigator.webkitConnection;const srvURL=w.location.protocol+"//"+dioParams.adsSrvDomain||"";const userSession="us_web_xxxxxxxxxxxx".replace(/[x]/g,function(c){let r=Math.random()*16|0,v=c==="x"?r:r&3|8;return v.toString(16)});const getUserIDs=()=>{let ids={};try{ids=owpbjs.getUserIdsAsEids()}catch(e){}return ids};const get=async(site,placement)=>{const url=srvURL+"/srv?method=getPlacement&app="+site+"&placement="+placement;const payload={userSession:userSession,data:{action:"getPlacement",app:site,placement:placement,data:{pagecat:dioParams.pageCategory?dioParams.pageCategory.split(",").map(k=>k.trim()):[],keywords:dioParams.keywords?dioParams.keywords.split(",").map(k=>k.trim()):[],lang:w.navigator.language,domain:w.location.hostname,page:w.location.href,ref:d.referrer,lang_content:d.documentElement.lang,geo:"",userids:getUserIDs()},complianceData:{child:dioParams.child||"-1",us_privacy:getUSP(),dnt:w.navigator.doNotTrack,iabConsent:{},mediation:{consent:"-1",gdpr:"-1"}},integration:"JS",mediationPlatform:0,omidpn:"Displayio",device:{w:w.screen.width,h:w.screen.height,connection_type:connection?connection.effectiveType:""}}};if(navigator.permissions){await navigator.permissions.query({name:"geolocation"}).then(result=>{if(result.state==="granted"){payload.data.data.geo=getGeoData()}})}try{const response=await fetch(url,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(payload)});const result=await response.json();return result.data.ads.length?{...result.data.ads[0].ad.data,type:result.data.ads[0].ad.type,subtype:result.data.ads[0].ad.subtype}:null}catch(e){console.log(e);return null}};const getCookie=name=>{let matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):undefined};const getUSP=()=>{let usp=getCookie("usprivacy");if(!usp){if(typeof __uspapi==="function"){__uspapi("getUSPData",1,(uspData,success)=>{if(success){usp=uspData}})}}return usp};const getGeoData=async()=>{let geoData=null;const getCurrentPosition=()=>{return new Promise((resolve,reject)=>navigator.geolocation.getCurrentPosition(resolve,reject))};try{const position=await getCurrentPosition();let{latitude,longitude,accuracy}=position.coords;geoData={lat:latitude,lng:longitude,precision:accuracy}}catch(e){console.log(e)}return geoData};return{get:get}}w.bidder=new Bidder})(window,document,dioParams);"use strict";((w,d)=>{const displayVideoMetrics={firstQuartile:"25",midpoint:"50",thirdQuartile:"75",complete:"90"};const defaultValues={fw_dir:"/webis/",sf_html:"sf.min.html",headerBgColor:"#000",headerTextColor:"#fff",bgColor:"transparent",headerText:"Scroll to continue with content",isOpenMeasurement:false,inFeedModeStyle:{backgroundColor:"#d2d2d2",buttonTextColor:"#fff",buttonBorderColor:"#fff",buttonBackgroundColor:"transparent",titleColor:"#fff",advertiserNameColor:"#fff"}};defaultValues.headlineModeStyle=defaultValues.inFeedModeStyle;const logger={log:msg=>{console.log(msg)},sendError:()=>{}};let onLoad;let onImp;function TrackingEventsApp(){let adData={};const setAdData=(id,data)=>{adData[id]=data};const track=(event,id,once)=>{if(!adData[id])return;if(once){if(adData[id].onceEvents.some(e=>e===event))return;adData[id].onceEvents.push(event)}let trackingURL=_getTrackingURL(event,id);if(trackingURL){if(!Array.isArray(trackingURL)){trackingURL=[trackingURL]}trackingURL.forEach(url=>{_injectPixel(event,url)})}};const clearParentTop=id=>{let{sfDioPos}=adData[id];d.cookie=`${sfDioPos}=0; expires=`+new Date(2020,1,1)};const _getTrackingURL=(event,id)=>{let{adLoadTracking,imp,impressions,trackingEvents,clickTracking}=adData[id];let url;switch(event){case"adLoad":url=(adLoadTracking?adLoadTracking:imp)+"&metric=adLoad";break;case"impression":url=impressions?impressions:[].concat(imp);if(!Array.isArray(url)){url=[url]}url=[...url,..._verificationScripts(id)];break;case"click":url=clickTracking;break;default:url=trackingEvents?trackingEvents[event]:"";break}return url};const _injectPixel=(title,url)=>{let countInterval=0;try{const img=new Image;img.style.display="none";img.src=url;img.title=title;d.body.appendChild(img)}catch(e){const interCheckBody=setInterval(async()=>{try{countInterval++;const img=`<img width="1px" ${title?`title=${title}`:""} height="1px" style="display: none;" src="${url}" />`;d.body.insertAdjacentHTML("beforeend",img);clearInterval(interCheckBody)}catch(e){if(countInterval===3){await fetch(url);clearInterval(interCheckBody)}}},50)}};const _verificationScripts=id=>{let{verificationScripts}=adData[id];let arr=[];if(verificationScripts){try{verificationScripts.forEach(item=>{arr.push(item.url+"?"+item.params)})}catch(e){logger.log(e)}}return arr};return{setAdData:setAdData,track:track,clearParentTop:clearParentTop}}const Utils={makeEl:(tag,attrs,inner)=>{const el=d.createElement(tag);if(attrs&&attrs.length>0&&attrs.length%2===0){for(let i=0;i<attrs.length;i=i+2){if(attrs[i]==="class"){attrs[i+1]=attrs[i+1].split(" ").map(a=>`dio-${a}`).join(" ")}el.setAttribute(attrs[i],attrs[i+1])}}if(inner)el.innerHTML=inner;return el},getParameterHash:url=>{let posA=url.indexOf("?"),posB=url.indexOf("#"),data={},i,bits,parts,val,str,start;if(posA===-1&&posB===-1){return data}if(posA===-1||posB===-1){start=Math.max(posA,posB)}else{start=Math.min(posA,posB)}str=url.substring(start+1).replace(/[?#]/g,"&");parts=str.split("&");for(i=0;i<parts.length;i++){bits=parts[i].split("=");if(bits.length>2){val=bits.slice(1).join("=")}else{val=bits[1]}if(bits.length>1){data[bits[0].toLowerCase()]=decodeURIComponent(val)}}return data},makeId:len=>{let possible="abcdefghijklmnopqrstuvwxyz0123456789";let text="";for(let i=0;i<len;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text},getOffsetTop:el=>{let top=0;if(el&&el.offsetTop){top=el.offsetTop}else if(el&&el!==d.body&&el.parentNode){top=Utils.getOffsetTop(el.parentNode)}return top}};function Webis(){const adData=[];const headlineMargin=10;let RENDER_TIMEOUT;let FW_DIR;let SF_HTML;let FRAMEWORK_ROOT;let RENDER_FILE;let headerBgColor;let headerColor;let bgColor;let inFeedModeStyle;let headlineModeStyle;let isOpenMeasurement;let headerText;let headerStyle;let bannerFixedPosition;let fixedHeaderHeight;let adSession={};let adEvents={};let mediaEvents={};let _yDown=null;const init=(bid,target,params=null)=>{if(!bid||!target||!params)return;_setParams(params,target);if(typeof target==="string"){target=d.getElementById(target);if(!target)return}bid.id=Utils.makeId(7);bid.kWH=(bid.w/bid.h).toFixed(2);bid.placement=params.placement;bid.type=typeof bid.type==="undefined"?"interscroller":bid.type.toLowerCase();bid.isHeadline=bid.type==="headline";bid.isInfeed=bid.type==="infeed";bid.isFixed=false;bid.onceEvents=[];bid.adWidth=bid.w;bid.adHeight=bid.h;if(bid.subtype==="videoVast"||typeof bid.videos!=="undefined"){adData[bid.id]={...bid};if(isOpenMeasurement)_addOpenMeasurementScript(target,bid.id);_renderVideoAd(bid.id,target)}else{_bootLoadSafeFrame(bid,target,params)}};const applyPassBackTag=(thisScript,wasStart=false)=>{if(webisConfig.passbackTag){const executeScripts=el=>{el.childNodes.forEach(child=>{if(child.tagName==="SCRIPT"){if(child.textContent){eval(child.textContent)}else{let script=d.createElement("script");script.async=child.async;script.src=child.src;child.replaceWith(script)}}else{executeScripts(child)}})};try{const div=d.createElement("div");div.innerHTML=webisConfig.passbackTag;if(wasStart){thisScript.parentNode.parentNode.after(div);thisScript.parentNode.parentNode.style="opacity:0";thisScript.parentNode.parentNode.removeChild(thisScript.parentNode)}else{thisScript.after(div)}executeScripts(div)}catch(e){logger.log(e)}}};const _setParams=(webisConfig,target)=>{if(Array.isArray(webisConfig))webisConfig=webisConfig[0];if(typeof webisConfig.custom!=="undefined"){webisConfig={...webisConfig,...webisConfig.custom};let targetEl=d.getElementById(target);targetEl.style.height="0px";targetEl.style.width="0px"}RENDER_TIMEOUT=+webisConfig.renderTimeout||6e4;FW_DIR=webisConfig.fw_dir||defaultValues.fw_dir;SF_HTML=webisConfig.sf_html||defaultValues.sf_html;FRAMEWORK_ROOT=w.location.protocol+"//"+webisConfig.cdnDomain+FW_DIR;RENDER_FILE=FRAMEWORK_ROOT+SF_HTML;headerBgColor=webisConfig.headerBackgroundColor||defaultValues.headerBgColor;headerColor=webisConfig.headerTextColor||defaultValues.headerTextColor;bgColor=webisConfig.adContainerBackgroundColor||defaultValues.bgColor;inFeedModeStyle=webisConfig.inFeedModeStyle||defaultValues.inFeedModeStyle;headlineModeStyle=webisConfig.headlineModeStyle||defaultValues.headlineModeStyle;isOpenMeasurement=webisConfig.isOpenMeasurement||defaultValues.isOpenMeasurement;headerText=webisConfig.headerText||defaultValues.headerText;headerStyle="color:"+headerColor+";background-color:"+headerBgColor+";width:100%;text-align:center;height:26px;font-family:sans-serif;line-height:24px;font-size:14px;transform:translateZ(0);position:absolute;top:0px;";bannerFixedPosition=webisConfig.bannerFixedPosition;fixedHeaderHeight=_getFixedHeaderHeight(webisConfig)};const _getFixedHeaderHeight=obj=>{let header;if(obj.fixedHeaderSelector){header=d.getElementById(obj.fixedHeaderSelector);if(!header){header=d.getElementsByClassName(obj.fixedHeaderSelector)[0]}}if(obj.fixedHeaderId){header=d.getElementById(obj.fixedHeaderId)}return header?header.offsetHeight:0};const _bootLoadSafeFrame=(bid,target,params)=>{new $sf.host.Config({renderFile:RENDER_FILE,positions:{},debug:true,auto:false,to:RENDER_TIMEOUT,onEndPosRender:posID=>{_renderPlacement(posID);_adLoadEvent(posID)},onPosMsg:(posID,msg,data)=>{switch(data){case"impression":trackingEventsApp.track("impression",posID);if(onImp){onImp({placement:adData[posID].placement,cpm:adData[posID].ecpm})}break;case"click":_linkClick(posID);break;case"headlineHide":setTimeout(()=>{_hideHeadlineAd(posID)},1e3);break;case"clearParentTop":trackingEventsApp.clearParentTop(posID);break}}});setTimeout(()=>{_renderSafeFrame(bid,target,params)},2)};const _renderSafeFrame=(bid,target,params)=>{const sfDioPos=Utils.makeId(7);const{kWH,isHeadline,isInfeed,scaleWebviewToAd,type}=bid;const parent=target.parentNode;let wrapper;bid={...bid,placement:params.placement,isHeadline:isHeadline,sfDioPos:sfDioPos,kWH:kWH};if(bid.markup){const content=_renderDisplayAd(bid.markup);const adConfig={size:"5x5",dest:bid.id,supports:{"read-cookie":true}};const transform=scaleWebviewToAd?"transform: scale("+w.innerWidth/bid.w+") translateZ(0); transform-origin: 0 0;":"";const sf=Utils.makeEl("div",["style",`transform-origin: 0 0; width: 100%;background-color: ${isHeadline?inFeedModeStyle.backgroundColor:bgColor};will-change: auto;padding: ${isHeadline?headlineMargin:0}px;box-sizing: border-box;height:100%;`]);const el=Utils.makeEl("div",["style","display:inline-block","id",bid.id]);sf.append(el);wrapper=Utils.makeEl("div",["style","position: relative; opacity:0;height: 0px;transition: height 0.4s ease-out;"]);wrapper.append(sf);parent.insertBefore(wrapper,target);sf.append(target);const markup=type==="interscroller"?`<div style='display:inline-block;position:absolute;top:25px;width: 100%;height: calc(100% - 25px);${transform}'>${content}</div><div style=${headerStyle}>${headerText}</div>`:`<div style='display:inline-block;position:absolute;top:0;width: 100%;height: 100%;${transform}'>${content}</div>`;const posConf=new $sf.host.PosConfig(adConfig);const data={adData:bid,sfDioPos:sfDioPos,parentTopDio:Utils.getOffsetTop(target.parentNode),absoluteTop:headlineMargin+fixedHeaderHeight};const posMeta=new $sf.host.PosMeta(data,"y");const pos=new $sf.host.Position(posConf,markup,posMeta);$sf.host.render(pos);const rootId=posConf.id;adData[rootId]=bid;trackingEventsApp.setAdData(rootId,bid);setTimeout(()=>{let loaded=_checkReadySF(rootId);if(loaded===false){applyPassBackTag(target,true)}},RENDER_TIMEOUT)}};const _createProgressBar=id=>{const idEl=`dio-${Utils.makeId(7)}`;const progressBarWrapper=Utils.makeEl("div",[]);const progressBar=Utils.makeEl("progress",["value",0,"id",idEl]);adData[id].progressBar=progressBar;const style=document.createElement("style");const css=`progress#${idEl}[value] {-webkit-appearance: none;appearance: none;position: absolute;bottom: 0;border: none;display: inline;height: 3px;order: 1;width: 100%;opacity: 0;left: 0;}progress#${idEl}[value]::-webkit-progress-bar {background-color: transparent;color: transparent;box-shadow: none;}progress#${idEl}[value]::-webkit-progress-value {background-color: #c0c6c9;color: #c0c6c9;position: relative;transition: width 1s linear;border-bottom-right-radius: 2px;border-top-right-radius: 2px;}`;style.appendChild(document.createTextNode(css));progressBarWrapper.append(style);progressBarWrapper.append(progressBar);return progressBarWrapper};const _renderVideoAd=async(id,target)=>{const parent=target.parentNode;const wrapper=_renderVideoContainer(id);parent.insertBefore(wrapper,target);trackingEventsApp.setAdData(id,adData[id]);_renderPlacement(id);try{const{videoEl,progressBar}=adData[id];if(!isOpenMeasurement)await _startPlayVideo(id);if(progressBar)progressBar.setAttribute("max",Math.floor(videoEl.duration))}catch(err){logger.log(err)}};const _addOpenMeasurementScript=(target,id)=>{const script=d.createElement("script");target.after(script);script.src=FW_DIR+"omweb-v1.min.js";script.onload=()=>{const script=d.createElement("script");target.after(script);script.src=FW_DIR+"omid-session-client-v1.min.js";script.onload=_setVideoServices.bind(this,id)}};const _setVideoServices=id=>{_createOpenMeasurement(id);_startPlayVideo(id)};const _startPlayVideo=async id=>{const{videoEl}=adData[id];await videoEl.play();videoEl.pause();adData[id].playStart=false;_adLoadEvent(id);_playEvent(id);_setVideoListeners(id)};const _createOpenMeasurement=id=>{const{videoEl,verificationScripts}=adData[id];let sessionClient=null;try{sessionClient=OmidSessionClient&&OmidSessionClient["default"]}catch(e){return}if(!sessionClient)return;const AdSession=sessionClient.AdSession;const Partner=sessionClient.Partner;const Context=sessionClient.Context;const VerificationScriptResource=sessionClient.VerificationScriptResource;const AdEvents=sessionClient.AdEvents;const MediaEvents=sessionClient.MediaEvents;const CONTENT_URL=d.referrer;const PARTNER_NAME="Displayio";const PARTNER_VERSION="1.0.1";const partner=new Partner(PARTNER_NAME,PARTNER_VERSION);const OMSDK_SERVICE_WINDOW=w.top;const resources=verificationScripts.map(verification=>{const scriptUrl=verification.url;const accessMode="full";return new VerificationScriptResource(scriptUrl,verification.vendorKey,verification.params,accessMode)});const context=new Context(partner,resources,CONTENT_URL);context.setServiceWindow(OMSDK_SERVICE_WINDOW);context.setVideoElement(videoEl);adSession=new AdSession(context);adSession.setCreativeType("video");adSession.setImpressionType("viewable");if(!adSession.isSupported())return;adSession.start();adEvents=new AdEvents(adSession);mediaEvents=new MediaEvents(adSession)};const _renderVideoContainer=id=>{const{isHeadline,isInfeed,reveal}=adData[id];const style=isHeadline||isInfeed?"":"position: relative;width: 100%;height:calc(100% - 25px);top:25px;";const videEl=_createVideoAd(id,style);const innerStyle=`position: absolute;background-color:${isHeadline||isInfeed?inFeedModeStyle.backgroundColor:bgColor};font-size:14px;overflow:hidden;${isHeadline?"":"display:flex;flex-direction:column"};height: 100%;width:100%;left:0px;top:0px;padding: 0px;`;const wrapper=Utils.makeEl("div",["style",`position: relative;width:100%;height:0px;`]);const inner=Utils.makeEl("div",["style",innerStyle]);if(reveal){const revealWrapper=Utils.makeEl("div",["style","position:absolute;clip: rect(0px, auto, auto, 0px);height:100%;top:0px;width:100%"]);const revealInner=Utils.makeEl("div",["style",`position: fixed;width: 100%;transform: perspective(0px) translateZ(0);top: 0px;height:calc(100% - ${fixedHeaderHeight}px);top:${fixedHeaderHeight}px;`,"id",id]);revealWrapper.className="iab_sf";revealInner.append(videEl);revealWrapper.append(revealInner);revealInner.append(_createHeader());inner.append(revealWrapper)}else{videEl.className="iab_sf";inner.append(videEl)}wrapper.append(inner);return wrapper};const _createVideoAd=(id,style)=>{const{isHeadline,type,isInfeed,advertiserName,advertiserClickUrl}=adData[id];const videoEl=_createVideoElem(id);const link=`<div id="link" style="width: 100%;height: 100%;position: absolute;z-index: 9;top: 0;color: rgb(255, 255, 255);letter-spacing: 0.03em;font-family: sans-serif;font-size: 1.1em;"><div style="position: absolute;bottom: 6%;width: 100%;display: flex;align-items: center;justify-content: center;"><img src="${FRAMEWORK_ROOT}/img/ic_tap.svg" alt="Tap to Learn More">Tap to Learn More</div></div>`;const container=Utils.makeEl("div",["style",style]);const linkInfeed=`${advertiserName?'<span style="position: absolute;top: 0;left: 0;width: auto; z-index: 10;color: #fff;padding: 2px 5px;background-color: rgba(0,0,0,0.2);">Sponsored by</span>':""}${advertiserClickUrl?'<span style="position: absolute;top: 0;right: 0;width: auto; z-index: 10;color: #fff;padding: 2px 5px;background-color: rgba(0,0,0,0.2);">READ MORE</span>':""}`;const containerInner=Utils.makeEl("div",["style","width:100%;height:100%;position:relative;","id",id],isHeadline?"":isInfeed?linkInfeed:link);const leftTop=isHeadline?"top: 8px; left: 10px;":isInfeed?"bottom: -32px;left: 10px;":"top: 15px; left: 15px;";const sound=Utils.makeEl("div",["style",`width: 35px;height: 35px;position: absolute;${leftTop}background: url(${FRAMEWORK_ROOT}/img/ic_sound_off.png) center center / 70% no-repeat rgba(0, 0, 0, 0.2);z-index: 10;border-radius: 50%;${type!=="interscroller"?"transform: scale(0.6);transform-origin: 0px center;":""}`]);const soundOff=Utils.makeEl("div",["style",`width: 1px;height: 1px;position: absolute;left:-100%;background: url(${FRAMEWORK_ROOT}/img/ic_sound_off.png) center center / 70% no-repeat rgba(0, 0, 0, 0.2);`]);const objectFit=isHeadline&&adData[id].w/adData[id].h<1||isInfeed?"scale-down":"cover";videoEl.style.cssText=`height:100%;width:100%;border:none;position:relative;top:0px;left:0px;object-fit: ${objectFit};float: left;${isHeadline||isInfeed?"":"z-index:-1;"}`;containerInner.append(videoEl);containerInner.append(sound);containerInner.append(soundOff);if(type==="headline"){const progressBarEl=_createProgressBar(id);containerInner.append(progressBarEl)}container.append(containerInner);sound.addEventListener("click",()=>{sound.style.backgroundImage=`url(${FRAMEWORK_ROOT}/img/ic_sound_${videoEl.muted?"on":"off"}.png)`;videoEl.muted=!videoEl.muted;try{mediaEvents.volumeChange(videoEl.volume)}catch(e){}});adData[id]={...adData[id],videoEl:videoEl,sound:sound,playStart:false,isImp:false};return container};const _createVideoElem=id=>{const videoEl=d.createElement("video");const video=adData[id].videos[0];videoEl.src=video.url;videoEl.type=video.type;videoEl.controls=false;videoEl.preload="auto";videoEl.autoplay=false;videoEl.loop=false;videoEl.muted=true;videoEl.setAttribute("webkit-playsinline","");videoEl.setAttribute("playsinline","");videoEl.setAttribute("muted","");return videoEl};let ticking=false;const _setVideoListeners=id=>{const{videoEl,progressBar}=adData[id];d.addEventListener("scroll",()=>{if(!ticking){w.requestAnimationFrame(()=>{_playEventForAllPls();ticking=false});ticking=true}},false);videoEl.addEventListener("ended",e=>{if(adData[id]&&adData[id].isHeadline&&adData[id].type!=="infeed"){setTimeout(()=>_hideHeadlineAd(id),1500)}else{e.target.play()}});let complete=false,thirdQuartile=false,midpoint=false,firstQuartile=false,wasStart=false;videoEl.addEventListener("timeupdate",e=>{const progress=Math.floor(e.target.currentTime/e.target.duration*100);if(progressBar){progressBar.value=e.target.currentTime}if(!complete&&progress>=displayVideoMetrics.complete){complete=true;trackingEventsApp.track("complete",id);try{mediaEvents.complete();adSession.finish()}catch(e){}}else if(!thirdQuartile&&progress>=displayVideoMetrics.thirdQuartile){thirdQuartile=true;trackingEventsApp.track("thirdQuartile",id);try{mediaEvents.thirdQuartile()}catch(e){}}else if(!midpoint&&progress>=displayVideoMetrics.midpoint){midpoint=true;trackingEventsApp.track("midpoint",id);try{mediaEvents.midpoint()}catch(e){}}else if(!firstQuartile&&progress>=displayVideoMetrics.firstQuartile){firstQuartile=true;trackingEventsApp.track("firstQuartile",id);try{mediaEvents.firstQuartile()}catch(e){}}else if(!wasStart&&progress>0){wasStart=true;try{mediaEvents.start(videoEl.duration,videoEl.volume)}catch(e){}}});setTimeout(()=>{videoEl.addEventListener("volumechange",e=>trackingEventsApp.track(e.target.muted?"mute":"unmute",id),true);if(adData[id].isInfeed){videoEl.addEventListener("click",()=>_linkClick(id))}if(!adData[id].isHeadline&&videoEl.previousSibling){videoEl.previousSibling.addEventListener("click",()=>_linkClick(id))}},0)};const _playEventForAllPls=()=>Object.keys(adData).forEach(k=>_playEvent(k));const _playEvent=id=>{if(!adData[id])return;const{reveal,videoEl,sfParentWrapper,playStart,isImp}=adData[id];if(!videoEl)return;const rect=reveal?sfParentWrapper.getBoundingClientRect():videoEl.getBoundingClientRect();const videoPart=rect.height/9;const sum=rect.top+videoPart;const deuce=rect.top-videoPart-fixedHeaderHeight+rect.height;if(!playStart&&deuce>0&&sum<=w.innerHeight){videoEl.play();adData[id].playStart=true;trackingEventsApp.track("start",id)}else if(playStart&&(sum>w.innerHeight||deuce<0)){adData[id].playStart=false;videoEl.pause();trackingEventsApp.track("pause",id)}const adVisibility=rect.top+rect.height/100*45;if(!isImp&&adVisibility-fixedHeaderHeight>0&&adVisibility<=w.innerHeight){adData[id].isImp=true;trackingEventsApp.track("impression",id,true);try{adEvents.impressionOccurred()}catch(e){}if(onImp){onImp({placement:adData[id].placement,cpm:adData[id].ecpm})}}};const _renderDisplayAd=markup=>{const iFrame=d.createElement("iframe");iFrame.name="content";iFrame.srcdoc=markup;iFrame.style.cssText="height:100%;width:100%;border:none;position:absolute;top:0px;left:0px;";return iFrame.outerHTML};const _createHeader=()=>Utils.makeEl("div",["style",headerStyle],headerText);const _setLeft=id=>{const{sfParentWrapper}=adData[id];let pos=sfParentWrapper.getBoundingClientRect();sfParentWrapper.style.left=(pos.left?-pos.left:0)+"px"};const _setSize=(nodeList,heightArg,widthArg,isResize=false)=>{let isVert=w.innerHeight>w.innerWidth;let width=widthArg||(isVert?w.screen.width:w.innerWidth)+"px";let height=heightArg||Math.min(w.screen.height,w.innerHeight);if(!widthArg&&w.screen.width<w.innerWidth){width=d.documentElement.clientWidth+"px";height=w.innerHeight}if(fixedHeaderHeight&&!heightArg){height=height-fixedHeaderHeight}[...nodeList].forEach(e=>{e.style.width=width;if(isResize&&e.firstChild.style.position==="fixed")return;e.style.height=height+"px"})};const _renderPlacement=dataId=>{const{allowSwipeOff,customTitle,showAdvertiser,advertiserName,clickUrl,buttonCustomText,isHeadline,isInfeed,kWH,id,type}=adData[dataId];const headlineControls={};const frame=d.getElementById(id);const sf=frame.parentNode;const sfParent=sf.parentNode;if(isHeadline){if(allowSwipeOff){headlineControls.swipeEl=Utils.makeEl("div",["style",`display:none;position: absolute; width: 40%; margin: 0 30%; height: 3px;background-color:rgba(0,0,0,0.3);bottom: ${headlineMargin/2}px;`]);sfParent.append(headlineControls.swipeEl)}const{buttonTextColor,buttonBorderColor,buttonBackgroundColor,titleColor,advertiserNameColor}=inFeedModeStyle;let controlStyle=`font-size:14px;color:${titleColor};display:flex;align-items:center;justify-content:space-between;`;controlStyle+=kWH>1?`width:100%;flex-direction:row;padding:${headlineMargin}px 0 0 0`:"width:30%;height:100%;flex-direction:column; ";headlineControls.title=Utils.makeEl("div",["style",`text-align: center;${kWH>1?"display:flex;":""}`]);const headlineSponsored=Utils.makeEl("div",[],(customTitle||"Sponsored")+"&nbsp");headlineControls.title.append(headlineSponsored);const headlineAdvName=Utils.makeEl("div",["style",`color: ${advertiserNameColor}`],showAdvertiser&&advertiserName?" "+advertiserName:"");headlineControls.title.append(headlineAdvName);headlineControls.wrapper=Utils.makeEl("div",["style",controlStyle]);headlineControls.wrapper.append(headlineControls.title);if(clickUrl){headlineControls.button=Utils.makeEl("button",["style",`background-color:${buttonBackgroundColor};border: 1px ${buttonBorderColor} solid;color: ${buttonTextColor};border-radius: 2px;white-space: nowrap;text-align: center;padding: 0 5px;line-height: 22px;`],buttonCustomText||"Learn more");headlineControls.wrapper.append(headlineControls.button)}const progressBarEl=_createProgressBar(dataId);sf.append(progressBarEl);sfParent.append(headlineControls.wrapper)}else if(type!=="banner"&&!isInfeed){sfParent.append(_createHeader())}const sfParentWrapper=sfParent.parentNode;adData[dataId]={...adData[dataId],frame:frame,sf:sf,sfParent:sfParent,sfParentWrapper:sfParentWrapper,headlineControls:headlineControls}};const _adLoadEvent=id=>{adData[id].loaded=true;const{reveal,isHeadline,headlineControls,headlineMode,type}=adData[id];if(reveal){_setReveal(id)}else{if(type!=="banner")_setLeft(id);onResize(id);if(isHeadline&&headlineMode){_setHeadlineAnimation(id);if(headlineControls.swipeEl)_setHeadlineSwipeListener(id)}}trackingEventsApp.track("adLoad",id);if(onLoad){onLoad({placement:adData[id].placement,cpm:adData[id].ecpm})}w.addEventListener("resize",onResize,false)};const _setReveal=id=>{let{sfDioPos,sf,sfParent}=adData[id];_setLeft(id);onResize(id);let posSF=sfParent.offsetTop;let res=w.innerHeight>w.innerWidth;let adH=sfParent.lastElementChild;adH.style.display=headerDisplay(sf.getBoundingClientRect().top);d.addEventListener("scroll",()=>{adH.style.display=headerDisplay(sf.getBoundingClientRect().top);let scriptTop=Utils.getOffsetTop(sfParent);if(posSF!==scriptTop&&res===w.innerHeight>w.innerWidth){d.cookie=`${sfDioPos}=${scriptTop}`;posSF=scriptTop}},false)};const headerDisplay=top=>{return top-fixedHeaderHeight<=0?"none":"block"};let _scrollListenerBind=null;const _scrollListener=id=>{if(!adData[id])return;const isVert=w.innerWidth<w.innerHeight;const{kWH,sf,sfParent,sfParentWrapper,isFixed,headlineControls,subtype,progressBar}=adData[id];let{adWidth,adHeight}=adData[id];const{swipeEl,wrapper}=headlineControls;const sfParentTop=sfParentWrapper.getBoundingClientRect().top;if(!isFixed&&sfParentTop-fixedHeaderHeight<=0){_removeHeadlineAd(id);const h=Math.ceil(w.innerHeight/(isVert?4:2)*.71);adData[id]["isFixed"]=true;sfParent.style.top=fixedHeaderHeight+"px";sfParent.style.height=h+headlineMargin*2.5+"px";sfParent.style.position="fixed";sfParent.style.overflow="hidden";sfParent.style.zIndex="9999";sf.style.height=h+"px";if(kWH>1){let wrapperStyle=`font-size:14px;display:flex;flex-direction:column;justify-content:space-between;align-items:center;height: 100%;`;if(adWidth&&subtype==="html"){let scale=((isVert?w.innerWidth:w.innerHeight-headlineMargin*2)*.6/adWidth).toFixed(2);sf.style.transform=`scale(${scale})`;sf.style.transformOrigin="0 0";if(adHeight){sfParent.style.height=adHeight*scale+headlineMargin*(swipeEl?2.5:2)+"px";sf.style.height=adHeight+"px"}let wC=(isVert?w.innerWidth:w.innerHeight)-adWidth*scale-headlineMargin;wrapperStyle+=`width: ${wC}px;position:absolute; right:0;`}else{let wSf=Math.floor((isVert?w.innerWidth:w.innerHeight)/100*67-headlineMargin*2);let hSF=Math.ceil(wSf/kWH);sf.style.width=`${wSf}px`;sf.style.height=`${hSF}px`;sfParent.style.height=`${hSF+headlineMargin*(swipeEl?2.5:2)}px`}wrapper.style.cssText=wrapperStyle;sf.style.margin="0px";sf.style.float="left"}wrapper.style.padding="0 0 0"+headlineMargin+"px";sfParentWrapper.style.height="0px";if(swipeEl)swipeEl.style.display="block";if(progressBar){progressBar.style.opacity="1";if(subtype==="html")displayProgressBar(id)}_setHeadlineStyle(id)}};const displayProgressBar=id=>{const{progressBar,headlineModeDuration}=adData[id];const step=1/(headlineModeDuration||10);let progress=step;let interval=null;progressBar.value=progress;interval=setInterval(function(){progress+=step;progressBar.value=progress;if(progress>=1){_hideHeadlineAd(id);clearInterval(interval)}},1e3)};const _removeHeadlineAd=id=>{Object.entries(adData).forEach(fr=>{if(fr[0]!==id&&fr[1].isFixed){_hideHeadlineAd(fr[0])}})};const _setHeadlineAnimation=id=>{_scrollListenerBind=_scrollListener.bind(this,id);d.addEventListener("scroll",_scrollListenerBind,false)};let _handleTouchMoveBind=null;const _setHeadlineSwipeListener=id=>{let{sfParent}=adData[id];_handleTouchMoveBind=_handleTouchMove.bind(this,id);sfParent.addEventListener("touchstart",_handleTouchStart,{passive:false});sfParent.addEventListener("touchmove",_handleTouchMoveBind,{passive:false})};const _handleTouchStart=e=>{const firstTouch=e.touches[0];_yDown=firstTouch.clientY};const _handleTouchMove=(id,e)=>{if(!adData[id]||!adData[id].isFixed||!_yDown)return;let yUp=e.touches[0].clientY;let yDiff=_yDown-yUp;if(yDiff>0)_hideHeadlineAd(id);_yDown=null};const _setHeadlineStyle=id=>{const style=headlineModeStyle;let{sfParent,headlineControls}=adData[id];let{title,button,advName}=headlineControls;title.style.color=style.titleColor;title.style.display="block";if(advName)advName.style.color=style.advertiserNameColor;if(button){button.style.color=style.buttonTextColor;button.style.backgroundColor=style.buttonBackgroundColor;button.style.borderColor=style.buttonBorderColor}sfParent.style.backgroundColor=style.backgroundColor};const _hideHeadlineAd=id=>{if(!adData[id])return;let{sfParent,sfParentWrapper,isFixed}=adData[id];sfParentWrapper.style.transition="height 0.4s ease-out";sfParentWrapper.style.overflow="hidden";sfParentWrapper.style.height="0px";sfParent.style.padding="0px";if(isFixed){sfParent.style.height="0px"}d.removeEventListener("scroll",_scrollListenerBind);sfParentWrapper.removeEventListener("touchstart",_handleTouchStart);sfParentWrapper.removeEventListener("touchmove",_handleTouchMove);adData[id]=null;setTimeout(()=>{sfParentWrapper.remove()},500)};const _linkClick=id=>{trackingEventsApp.track("click",id);if(adData[id].clickUrl){w.open(adData[id].clickUrl,"_blank");w.focus()}};const onResize=id=>{let height=0;let width=0;let isVert=w.innerHeight>w.innerWidth;if(id&&typeof id==="string"){let{reveal,kWH,sf,sfParent,sfParentWrapper,frame,adWidth,adHeight,isHeadline,isInfeed,subtype,type}=adData[id];if(reveal){sfParent.style="position: absolute;clip: rect(0px, auto, auto, 0px);height:100%;width:100%;";frame.style=`position: fixed;width: 100%;transform: perspective(0px) translateZ(0);top: ${fixedHeaderHeight}px;height: calc(100% - ${fixedHeaderHeight}px)`;sf.classList.add("reveal")}else{frame.style.width="100%";frame.style.height="100%";sf.style.width="100%";sf.style.height="100%";if(isHeadline&&kWH){height=kWH>1?adWidth&&adWidth<w.innerWidth&&adHeight?adHeight:isVert?(w.innerWidth-headlineMargin*2)/kWH:w.innerHeight/1.5:w.innerHeight/(isVert?3:1.5);sf.style.height=height+"px";sf.style.width=kWH>1?adWidth&&subtype==="html"?adWidth+"px":"100%":"67%";sf.style.position="relative";sf.style.float=kWH<1?"left":"none";sf.style.margin="0 auto";height=+height+(kWH>1?35:0)+headlineMargin*2;sfParent.style.height=height+"px";sfParent.style.padding=`${headlineMargin}px`;sf.dataset.dioH=height;let btn=sfParent.querySelector("button");if(btn)btn.addEventListener("click",()=>_linkClick(id));setTimeout(()=>{sf.style.transition="height 0.4s ease-out";sfParent.style.transition="height 0.4s ease-out"},0)}else if(isInfeed){if(subtype==="html"){height=adHeight;sfParent.style.margin="0 auto";sfParent.style.width=adWidth+"px";sf.dataset.dioH=height}else{height=(isVert?w.innerWidth:w.innerHeight)/kWH+60;sf.dataset.dioH=height;sfParent.style.padding="30px 0"}}else if(type==="banner"){if(bannerFixedPosition){sfParentWrapper.style.position="fixed";sfParentWrapper.style.left="0";if(bannerFixedPosition==="above the fold")sfParentWrapper.style.top=`${fixedHeaderHeight||0}px`;if(bannerFixedPosition==="below the fold")sfParentWrapper.style.bottom="0px"}else{width="100%";sf.dataset.dioW=width}height=adHeight;sf.dataset.dioH=height;sf.style.width=adWidth+"px";sf.style.margin="0 auto"}}_setSize([sfParentWrapper],height,width);sfParentWrapper.style.opacity="1";sfParentWrapper.style.willChange="auto"}else{let sfs=d.getElementsByClassName("iab_sf");[...sfs].forEach(sf=>{const nodeList=[sf.parentNode.parentNode];if(sf.classList.contains("reveal")){nodeList.push(sf)}_setSize(nodeList,sf.dataset.dioH,sf.dataset.dioW,true)})}};const _checkReadySF=id=>{return adData[id]?adData[id].loaded:null};return{init:init,applyPassBackTag:applyPassBackTag}}function mobileCheck(){let check=false;(a=>{if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series([46])0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \-\/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ \/])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||w.opera);return check}if(mobileCheck()){w.webis=new Webis;if(!w.trackingEventsApp){w.trackingEventsApp=new TrackingEventsApp}const thisScript=d["currentScript"];if(typeof bidder!=="undefined"&&thisScript){if(!dioParams){console.log("dioParams (or adUnits) is not defined");return}try{const thisScriptSrc=thisScript.getAttribute("src");const params=Utils.getParameterHash(thisScriptSrc);bidder.get(params.site,params.placement).then(bid=>{if(bid){webis.init(bid,thisScript,{...params,...dioParams})}else{webis.applyPassBackTag(thisScript)}})}catch(e){logger.log(e)}}if(w.webisDio){if(w.webisDio.onLoad&&typeof w.webisDio.onLoad==="function"){onLoad=w.webisDio.onLoad}if(w.webisDio.onImpression&&typeof w.webisDio.onImpression==="function"){onImp=w.webisDio.onImpression}}}})(window,document);
</script>

</body>
</html>

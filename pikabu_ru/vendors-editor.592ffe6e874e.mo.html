<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vendors-editor.592ffe6e874e.mo.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkpikabu=self.webpackChunkpikabu||[]).push([[583],{70273:(t,e,n)=>{n.d(e,{ML:()=>pe,hj:()=>xt,VK:()=>ut,vc:()=>fe,NB:()=>he,DK:()=>me,ar:()=>Wt,AW:()=>_t,_4:()=>Yt,TP:()=>At,yw:()=>Zt,EG:()=>Qt,xh:()=>Dt,P1:()=>et,pr:()=>te,S0:()=>ue});for(var o=n(2376),r=n(84348),i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),c=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),d="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=c||a&&+a[1]<57,p=0;p<10;p++)i[48+p]=i[96+p]=String(p);for(p=1;p<=24;p++)i[p+111]="F"+p;for(p=65;p<=90;p++)i[p]=String.fromCharCode(p+32),s[p]=String.fromCharCode(p);for(var u in i)s.hasOwnProperty(u)||(s[u]=i[u]);const f="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function h(t){let e,n,o,r,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let a=0;a<i.length-1;a++){let t=i[a];if(/^(cmd|meta|m)$/i.test(t))r=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))o=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);f?r=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),r&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function m(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function g(t){let e=function(t){let e=Object.create(null);for(let n in t)e[h(n)]=t[n];return e}(t);return function(t,n){let o,r=function(t){var e=!(l&&(t.ctrlKey||t.altKey||t.metaKey)||d&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?s:i)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),a=e[m(r,n)];if(a&&a(t.state,t.dispatch,t))return!0;if(1==r.length&&" "!=r){if(n.shiftKey){let o=e[m(r,n,!1)];if(o&&o(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(o=i[n.keyCode])&&o!=r){let r=e[m(o,n)];if(r&&r(t.state,t.dispatch,t))return!0}}return!1}}var v=n(12806),y=n(16560);const b=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function w(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const x=(t,e,n)=>{let r=w(t,n);if(!r)return!1;let i=O(r);if(!i){let n=r.blockRange(),o=n&&(0,y.k9)(n);return null!=o&&(e&&e(t.tr.lift(n,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&B(t,i,e))return!0;if(0==r.parent.content.size&&(k(s,"end")||o.qv.isSelectable(s))){let n=(0,y.dR)(t.doc,r.before(),r.after(),v.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(k(s,"end")?o.Y1.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):o.qv.create(r.doc,i.pos-s.nodeSize)),e(r.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1)&&(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0)};function k(t,e,n=!1){for(let o=t;o;o="start"==e?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&1!=o.childCount)return!1}return!1}const M=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=O(r)}let a=s&&s.nodeBefore;return!(!a||!o.qv.isSelectable(a))&&(e&&e(t.tr.setSelection(o.qv.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function O(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function E(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const S=(t,e,n)=>{let r=E(t,n);if(!r)return!1;let i=T(r);if(!i)return!1;let s=i.nodeAfter;if(B(t,i,e))return!0;if(0==r.parent.content.size&&(k(s,"start")||o.qv.isSelectable(s))){let n=(0,y.dR)(t.doc,r.before(),r.after(),v.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(k(s,"start")?o.Y1.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):o.qv.create(r.doc,r.mapping.map(i.pos))),e(r.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0)},C=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=T(r)}let a=s&&s.nodeAfter;return!(!a||!o.qv.isSelectable(a))&&(e&&e(t.tr.setSelection(o.qv.create(t.doc,s.pos)).scrollIntoView()),!0)};function T(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const A=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function D(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const j=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=D(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,a.createAndFill());i.setSelection(o.Y1.near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0},P=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof o.C1||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=D(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(n,s.createAndFill());a.setSelection(o.Bs.create(a.doc,n+1)),e(a.scrollIntoView())}return!0},$=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if((0,y.Ax)(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let o=n.blockRange(),r=o&&(0,y.k9)(o);return null!=r&&(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)};const H=(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof o.qv&&t.selection.node.isBlock)return!(!n.parentOffset||!(0,y.Ax)(t.doc,n.pos)||(e&&e(t.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(e){let i=r.parentOffset==r.parent.content.size,s=t.tr;(t.selection instanceof o.Bs||t.selection instanceof o.C1)&&s.deleteSelection();let a=0==n.depth?null:D(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=I&&I(r.parent,i),d=c?[c]:i&&a?[{type:a}]:void 0,l=(0,y.Ax)(s.doc,s.mapping.map(n.pos),1,d);if(d||l||!(0,y.Ax)(s.doc,s.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(d=[{type:a}]),l=!0),l&&(s.split(s.mapping.map(n.pos),1,d),!i&&!n.parentOffset&&n.parent.type!=a)){let t=s.mapping.map(n.before()),e=s.doc.resolve(t);a&&n.node(-1).canReplaceWith(e.index(),e.index()+1,a)&&s.setNodeMarkup(s.mapping.map(n.before()),a)}e(s.scrollIntoView())}return!0};var I;function B(t,e,n){let r,i,s=e.nodeBefore,a=e.nodeAfter;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(function(t,e,n){let o=e.nodeBefore,r=e.nodeAfter,i=e.index();return!(!(o&&r&&o.type.compatibleContent(r.type))||(!o.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(i,i+1)||!r.isTextblock&&!(0,y.Mn)(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,o.type,o.contentMatchAt(o.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;let c=e.parent.canReplace(e.index(),e.index()+1);if(c&&(r=(i=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&i.matchType(r[0]||a.type).validEnd){if(n){let o=e.pos+a.nodeSize,i=v.HY.empty;for(let t=r.length-1;t>=0;t--)i=v.HY.from(r[t].create(null,i));i=v.HY.from(s.copy(i));let c=t.tr.step(new y.FC(e.pos-1,o,e.pos,o,new v.p2(i,1,0),r.length,!0)),d=o+2*r.length;(0,y.Mn)(c.doc,d)&&c.join(d),n(c.scrollIntoView())}return!0}let d=o.Y1.findFrom(e,1),l=d&&d.$from.blockRange(d.$to),p=l&&(0,y.k9)(l);if(null!=p&&p>=e.depth)return n&&n(t.tr.lift(l,p).scrollIntoView()),!0;if(c&&k(a,"start",!0)&&k(s,"end")){let o=s,r=[];for(;r.push(o),!o.isTextblock;)o=o.lastChild;let i=a,c=1;for(;!i.isTextblock;i=i.firstChild)c++;if(o.canReplace(o.childCount,o.childCount,i.content)){if(n){let o=v.HY.empty;for(let t=r.length-1;t>=0;t--)o=v.HY.from(r[t].copy(o));n(t.tr.step(new y.FC(e.pos-r.length,e.pos+a.nodeSize,e.pos+c,e.pos+a.nodeSize-c,new v.p2(o,r.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function L(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(n&&n(e.tr.setSelection(o.Bs.create(e.doc,t<0?i.start(s):i.end(s)))),!0)}}const N=L(-1),R=L(1);function V(t,e=null){return function(n,o){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[i];n.doc.nodesBetween(o,s,((o,i)=>{if(r)return!1;if(o.isTextblock&&!o.hasMarkup(t,e))if(o.type==t)r=!0;else{let e=n.doc.resolve(i),o=e.index();r=e.parent.canReplaceWith(o,o+1,t)}}))}if(!r)return!1;if(o){let r=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[o];r.setBlockType(i,s,t,e)}o(r.scrollIntoView())}return!0}}function z(...t){return function(e,n,o){for(let r=0;r<t.length;r++)if(t[r](e,n,o))return!0;return!1}}let q=z(b,x,M),F=z(b,S,C);const K={Enter:z(A,P,$,H),"Mod-Enter":j,Backspace:q,"Mod-Backspace":q,"Shift-Backspace":q,Delete:F,"Mod-Delete":F,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new o.C1(t.doc))),!0)},W={"Ctrl-h":K.Backspace,"Alt-Backspace":K["Mod-Backspace"],"Ctrl-d":K.Delete,"Ctrl-Alt-Backspace":K["Mod-Delete"],"Alt-Delete":K["Mod-Delete"],"Alt-d":K["Mod-Delete"],"Ctrl-a":N,"Ctrl-e":R};for(let ge in K)W[ge]=K[ge];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function _(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),a=!1,c=s;if(!s)return!1;if(s.depth>=2&&r.node(s.depth-1).type.compatibleContent(t)&&0==s.startIndex){if(0==r.index(s.depth-1))return!1;let t=n.doc.resolve(s.start-2);c=new v.Ts(t,t,s.depth),s.endIndex<s.parent.childCount&&(s=new v.Ts(r,n.doc.resolve(i.end(s.depth)),s.depth)),a=!0}let d=(0,y.nd)(c,t,e,s);return!!d&&(o&&o(function(t,e,n,o,r){let i=v.HY.empty;for(let l=n.length-1;l>=0;l--)i=v.HY.from(n[l].type.create(n[l].attrs,i));t.step(new y.FC(e.start-(o?2:0),e.end,e.start,e.end,new v.p2(i,0,0),n.length,!0));let s=0;for(let l=0;l<n.length;l++)n[l].type==r&&(s=l+1);let a=n.length-s,c=e.start+n.length-(o?2:0),d=e.parent;for(let l=e.startIndex,p=e.endIndex,u=!0;l<p;l++,u=!1)!u&&(0,y.Ax)(t.doc,c,a)&&(t.split(c,a),c+=2*a),c+=d.child(l).nodeSize;return t}(n.tr,s,d,a,t).scrollIntoView()),!0)}}function U(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,(e=>e.childCount>0&&e.firstChild.type==t));return!!i&&(!n||(o.node(i.depth-1).type==t?function(t,e,n,o){let r=t.tr,i=o.end,s=o.$to.end(o.depth);i<s&&(r.step(new y.FC(i-1,s,i,s,new v.p2(v.HY.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new v.Ts(r.doc.resolve(o.$from.pos),r.doc.resolve(s),o.depth));const a=(0,y.k9)(o);if(null==a)return!1;r.lift(o,a);let c=r.mapping.map(i,-1)-1;(0,y.Mn)(r.doc,c)&&r.join(c);return e(r.scrollIntoView()),!0}(e,n,t,i):function(t,e,n){let o=t.tr,r=n.parent;for(let f=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)f-=r.child(h).nodeSize,o.delete(f-1,f+1);let i=o.doc.resolve(n.start),s=i.nodeAfter;if(o.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,c=n.endIndex==r.childCount,d=i.node(-1),l=i.index(-1);if(!d.canReplace(l+(a?0:1),l+1,s.content.append(c?v.HY.empty:v.HY.from(r))))return!1;let p=i.pos,u=p+s.nodeSize;return o.step(new y.FC(p-(a?1:0),u+(c?1:0),p+1,u-1,new v.p2((a?v.HY.empty:v.HY.from(r.copy(v.HY.empty))).append(c?v.HY.empty:v.HY.from(r.copy(v.HY.empty))),a?0:1,c?0:1),a?0:1)),e(o.scrollIntoView()),!0}(e,n,i)))}}function Y(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,i=n.storedMarks,n}}}class J{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:o}=e,{tr:r}=n,i=this.buildProps(r);return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,(...t)=>{const n=e(...t)(i);return r.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(r),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:o,state:r}=this,{view:i}=o,s=[],a=!!t,c=t||r.tr,d={...Object.fromEntries(Object.entries(n).map((([t,n])=>[t,(...t)=>{const o=this.buildProps(c,e),r=n(...t)(o);return s.push(r),d}]))),run:()=>(a||!e||c.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(c),s.every((t=>!0===t)))};return d}createCan(t){const{rawCommands:e,state:n}=this,o=t||n.tr,r=this.buildProps(o,false),i=Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)({...r,dispatch:void 0})])));return{...i,chain:()=>this.createChain(o,false)}}buildProps(t,e=!0){const{rawCommands:n,editor:o,state:r}=this,{view:i}=o,s={tr:t,editor:o,view:i,state:Y({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map((([t,e])=>[t,(...t)=>e(...t)(s)])))}};return s}}class G{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach((t=>t.apply(this,e))),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter((t=>t!==e)):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function Z(t,e,n){if(void 0===t.config[e]&&t.parent)return Z(t.parent,e,n);if("function"==typeof t.config[e]){return t.config[e].bind({...n,parent:t.parent?Z(t.parent,e,n):null})}return t.config[e]}function X(t){return{baseExtensions:t.filter((t=>"extension"===t.type)),nodeExtensions:t.filter((t=>"node"===t.type)),markExtensions:t.filter((t=>"mark"===t.type))}}function Q(t){const e=[],{nodeExtensions:n,markExtensions:o}=X(t),r=[...n,...o],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach((t=>{const n=Z(t,"addGlobalAttributes",{name:t.name,options:t.options,storage:t.storage});if(!n)return;n().forEach((t=>{t.types.forEach((n=>{Object.entries(t.attributes).forEach((([t,o])=>{e.push({type:n,name:t,attribute:{...i,...o}})}))}))}))})),r.forEach((t=>{const n={name:t.name,options:t.options,storage:t.storage},o=Z(t,"addAttributes",n);if(!o)return;const r=o();Object.entries(r).forEach((([n,o])=>{const r={...i,...o};"function"==typeof(null==r?void 0:r.default)&&(r.default=r.default()),(null==r?void 0:r.isRequired)&&void 0===(null==r?void 0:r.default)&&delete r.default,e.push({type:t.name,name:n,attribute:r})}))})),e}function tt(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function et(...t){return t.filter((t=>!!t)).reduce(((t,e)=>{const n={...t};return Object.entries(e).forEach((([t,e])=>{if(n[t])if("class"===t){const o=e?e.split(" "):[],r=n[t]?n[t].split(" "):[],i=o.filter((t=>!r.includes(t)));n[t]=[...r,...i].join(" ")}else n[t]="style"===t?[n[t],e].join("; "):e;else n[t]=e})),n}),{})}function nt(t,e){return e.filter((t=>t.attribute.rendered)).map((e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]})).reduce(((t,e)=>et(t,e)),{})}function ot(t){return"function"==typeof t}function rt(t,e=void 0,...n){return ot(t)?e?t.bind(e)(...n):t(...n):t}function it(t,e){return t.style?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===o)return!1;const r=e.reduce(((t,e)=>{const o=e.attribute.parseHTML?e.attribute.parseHTML(n):function(t){return"string"!=typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t}(n.getAttribute(e.name));return null==o?t:{...t,[e.name]:o}}),{});return{...o,...r}}}}function st(t){return Object.fromEntries(Object.entries(t).filter((([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e)))}function at(t,e){var n;const o=Q(t),{nodeExtensions:r,markExtensions:i}=X(t),s=null===(n=r.find((t=>Z(t,"topNode"))))||void 0===n?void 0:n.name,a=Object.fromEntries(r.map((n=>{const r=o.filter((t=>t.type===n.name)),i={name:n.name,options:n.options,storage:n.storage,editor:e},s=st({...t.reduce(((t,e)=>{const o=Z(e,"extendNodeSchema",i);return{...t,...o?o(n):{}}}),{}),content:rt(Z(n,"content",i)),marks:rt(Z(n,"marks",i)),group:rt(Z(n,"group",i)),inline:rt(Z(n,"inline",i)),atom:rt(Z(n,"atom",i)),selectable:rt(Z(n,"selectable",i)),draggable:rt(Z(n,"draggable",i)),code:rt(Z(n,"code",i)),defining:rt(Z(n,"defining",i)),isolating:rt(Z(n,"isolating",i)),attrs:Object.fromEntries(r.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),a=rt(Z(n,"parseHTML",i));a&&(s.parseDOM=a.map((t=>it(t,r))));const c=Z(n,"renderHTML",i);c&&(s.toDOM=t=>c({node:t,HTMLAttributes:nt(t,r)}));const d=Z(n,"renderText",i);return d&&(s.toText=d),[n.name,s]}))),c=Object.fromEntries(i.map((n=>{const r=o.filter((t=>t.type===n.name)),i={name:n.name,options:n.options,storage:n.storage,editor:e},s=st({...t.reduce(((t,e)=>{const o=Z(e,"extendMarkSchema",i);return{...t,...o?o(n):{}}}),{}),inclusive:rt(Z(n,"inclusive",i)),excludes:rt(Z(n,"excludes",i)),group:rt(Z(n,"group",i)),spanning:rt(Z(n,"spanning",i)),code:rt(Z(n,"code",i)),attrs:Object.fromEntries(r.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),a=rt(Z(n,"parseHTML",i));a&&(s.parseDOM=a.map((t=>it(t,r))));const c=Z(n,"renderHTML",i);return c&&(s.toDOM=t=>c({mark:t,HTMLAttributes:nt(t,r)})),[n.name,s]})));return new v.V_({topNode:s,nodes:a,marks:c})}function ct(t,e){return e.nodes[t]||e.marks[t]||null}function dt(t,e){return Array.isArray(e)?e.some((e=>("string"==typeof e?e:e.name)===t.name)):e}const lt=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,((t,e,r,i)=>{var s,a;const c=(null===(a=(s=t.type.spec).toText)||void 0===a?void 0:a.call(s,{node:t,pos:e,parent:r,index:i}))||t.textContent||"%leaf%";n+=c.slice(0,Math.max(0,o-e))})),n};function pt(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class ut{constructor(t){this.find=t.find,this.handler=t.handler}}const ft=(t,e)=>{if(pt(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function ht(t){var e;const{editor:n,from:o,to:r,text:i,rules:s,plugin:a}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(o);if(d.parent.type.spec.code||(null===(e=d.nodeBefore||d.nodeAfter)||void 0===e?void 0:e.marks.find((t=>t.type.spec.code))))return!1;let l=!1;const p=lt(d)+i;return s.forEach((t=>{if(l)return;const e=ft(p,t.find);if(!e)return;const s=c.state.tr,d=Y({state:c.state,transaction:s}),u={from:o-(e[0].length-i.length),to:r},{commands:f,chain:h,can:m}=new J({editor:n,state:d});null!==t.handler({state:d,range:u,match:e,commands:f,chain:h,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:o,to:r,text:i}),c.dispatch(s),l=!0)})),l}function mt(t){const{editor:e,rules:n}=t,r=new o.Sy({state:{init:()=>null,apply(t,e){const n=t.getMeta(r);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:(t,o,i,s)=>ht({editor:e,from:o,to:i,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:t=>(setTimeout((()=>{const{$cursor:o}=t.state.selection;o&&ht({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})})),!1)},handleKeyDown(t,o){if("Enter"!==o.key)return!1;const{$cursor:i}=t.state.selection;return!!i&&ht({editor:e,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}const gt=(t,e)=>{if(pt(e))return[...t.matchAll(e)];const n=e(t);return n?n.map((e=>{const n=[e.text];return n.index=e.index,n.input=t,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(e.replaceWith)),n})):[]};function vt(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=new ClipboardEvent("paste"),c=new DragEvent("drop");const d=n.map((t=>new o.Sy({view(t){const e=e=>{var n;r=(null===(n=t.dom.parentElement)||void 0===n?void 0:n.contains(e.target))?t.dom.parentElement:null};return window.addEventListener("dragstart",e),{destroy(){window.removeEventListener("dragstart",e)}}},props:{handleDOMEvents:{drop:(t,e)=>(s=r===t.dom.parentElement,c=e,!1),paste:(t,e)=>{var n;const o=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html");return a=e,i=!!(null==o?void 0:o.includes("data-pm-slice")),!1}}},appendTransaction:(n,o,r)=>{const d=n[0],l="paste"===d.getMeta("uiEvent")&&!i,p="drop"===d.getMeta("uiEvent")&&!s;if(!l&&!p)return;const u=o.doc.content.findDiffStart(r.doc.content),f=o.doc.content.findDiffEnd(r.doc.content);if("number"!=typeof u||!f||u===f.b)return;const h=r.tr,m=Y({state:r,transaction:h}),g=function(t){const{editor:e,state:n,from:o,to:r,rule:i,pasteEvent:s,dropEvent:a}=t,{commands:c,chain:d,can:l}=new J({editor:e,state:n}),p=[];return n.doc.nodesBetween(o,r,((t,e)=>{if(!t.isTextblock||t.type.spec.code)return;const u=Math.max(o,e),f=Math.min(r,e+t.content.size),h=t.textBetween(u-e,f-e,void 0,"￼");gt(h,i.find).forEach((t=>{if(void 0===t.index)return;const e=u+t.index+1,o=e+t[0].length,r={from:n.tr.mapping.map(e),to:n.tr.mapping.map(o)},f=i.handler({state:n,range:r,match:t,commands:c,chain:d,can:l,pasteEvent:s,dropEvent:a});p.push(f)}))})),p.every((t=>null!==t))}({editor:e,state:m,from:Math.max(u-1,0),to:f.b-1,rule:t,pasteEvent:a,dropEvent:c});return g&&h.steps.length?(c=new DragEvent("drop"),a=new ClipboardEvent("paste"),h):void 0}})));return d}class yt{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=yt.resolve(t),this.schema=at(this.extensions,e),this.extensions.forEach((t=>{var e;this.editor.extensionStorage[t.name]=t.storage;const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:ct(t.name,this.schema)};if("mark"===t.type){(null===(e=rt(Z(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name)}const o=Z(t,"onBeforeCreate",n);o&&this.editor.on("beforeCreate",o);const r=Z(t,"onCreate",n);r&&this.editor.on("create",r);const i=Z(t,"onUpdate",n);i&&this.editor.on("update",i);const s=Z(t,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=Z(t,"onTransaction",n);a&&this.editor.on("transaction",a);const c=Z(t,"onFocus",n);c&&this.editor.on("focus",c);const d=Z(t,"onBlur",n);d&&this.editor.on("blur",d);const l=Z(t,"onDestroy",n);l&&this.editor.on("destroy",l)}))}static resolve(t){const e=yt.sort(yt.flatten(t)),n=function(t){const e=t.filter(((e,n)=>t.indexOf(e)!==n));return[...new Set(e)]}(e.map((t=>t.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((t=>`'${t}'`)).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map((t=>{const e=Z(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage});return e?[t,...this.flatten(e())]:t})).flat(10)}static sort(t){return t.sort(((t,e)=>{const n=Z(t,"priority")||100,o=Z(e,"priority")||100;return n>o?-1:n<o?1:0}))}get commands(){return this.extensions.reduce(((t,e)=>{const n=Z(e,"addCommands",{name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ct(e.name,this.schema)});return n?{...t,...n()}:t}),{})}get plugins(){const{editor:t}=this,e=yt.sort([...this.extensions].reverse()),n=[],r=[],i=e.map((e=>{const i={name:e.name,options:e.options,storage:e.storage,editor:t,type:ct(e.name,this.schema)},s=[],a=Z(e,"addKeyboardShortcuts",i);let c={};if("mark"===e.type&&e.config.exitable&&(c.ArrowRight=()=>fe.handleExit({editor:t,mark:e})),a){const e=Object.fromEntries(Object.entries(a()).map((([e,n])=>[e,()=>n({editor:t})])));c={...c,...e}}const d=(l=c,new o.Sy({props:{handleKeyDown:g(l)}}));var l;s.push(d);const p=Z(e,"addInputRules",i);dt(e,t.options.enableInputRules)&&p&&n.push(...p());const u=Z(e,"addPasteRules",i);dt(e,t.options.enablePasteRules)&&u&&r.push(...u());const f=Z(e,"addProseMirrorPlugins",i);if(f){const t=f();s.push(...t)}return s})).flat();return[mt({editor:t,rules:n}),...vt({editor:t,rules:r}),...i]}get attributes(){return Q(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=X(this.extensions);return Object.fromEntries(e.filter((t=>!!Z(t,"addNodeView"))).map((e=>{const n=this.attributes.filter((t=>t.type===e.name)),o={name:e.name,options:e.options,storage:e.storage,editor:t,type:tt(e.name,this.schema)},r=Z(e,"addNodeView",o);if(!r)return[];return[e.name,(o,i,s,a)=>{const c=nt(o,n);return r()({editor:t,node:o,getPos:s,decorations:a,HTMLAttributes:c,extension:e})}]})))}}function bt(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function wt(t,e){const n={...t};return bt(t)&&bt(e)&&Object.keys(e).forEach((o=>{bt(e[o])?o in t?n[o]=wt(t[o],e[o]):Object.assign(n,{[o]:e[o]}):Object.assign(n,{[o]:e[o]})})),n}class xt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=rt(Z(this,"addOptions",{name:this.name}))),this.storage=rt(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new xt(t)}configure(t={}){const e=this.extend();return e.options=wt(this.options,t),e.storage=rt(Z(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new xt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=rt(Z(e,"addOptions",{name:e.name})),e.storage=rt(Z(e,"addStorage",{name:e.name,options:e.options})),e}}function kt(t,e,n){const{from:o,to:r}=e,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let a="",c=!0;return t.nodesBetween(o,r,((t,n,d,l)=>{var p;const u=null==s?void 0:s[t.type.name];u?(t.isBlock&&!c&&(a+=i,c=!0),d&&(a+=u({node:t,pos:n,parent:d,index:l,range:e}))):t.isText?(a+=null===(p=null==t?void 0:t.text)||void 0===p?void 0:p.slice(Math.max(o,n)-n,r-n),c=!1):t.isBlock&&!c&&(a+=i,c=!0)})),a}function Mt(t){return Object.fromEntries(Object.entries(t.nodes).filter((([,t])=>t.spec.toText)).map((([t,e])=>[t,e.spec.toText])))}const Ot=xt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:r}=e,{ranges:i}=r,s=Math.min(...i.map((t=>t.$from.pos))),a=Math.max(...i.map((t=>t.$to.pos)));return kt(o,{from:s,to:a},{textSerializers:Mt(n)})}}})]}});function Et(t,e,n={strict:!0}){const o=Object.keys(e);return!o.length||o.every((o=>n.strict?e[o]===t[o]:pt(e[o])?e[o].test(t[o]):e[o]===t[o]))}function St(t,e,n={}){return t.find((t=>t.type===e&&Et(t.attrs,n)))}function Ct(t,e,n={}){return!!St(t,e,n)}function Tt(t,e,n={}){if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if(t.parentOffset===o.offset&&0!==o.offset&&(o=t.parent.childBefore(t.parentOffset)),!o.node)return;const r=St([...o.node.marks],e,n);if(!r)return;let i=o.index,s=t.start()+o.offset,a=i+1,c=s+o.node.nodeSize;for(St([...o.node.marks],e,n);i>0&&r.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&Ct([...t.parent.child(a).marks],e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:c}}function At(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function Dt(t){return t instanceof o.Bs}function jt(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Pt(t,e=null){if(!e)return null;const n=o.Y1.atStart(t),r=o.Y1.atEnd(t);if("start"===e||!0===e)return n;if("end"===e)return r;const i=n.from,s=r.to;return"all"===e?o.Bs.create(t,jt(0,i,s),jt(t.content.size,i,s)):o.Bs.create(t,jt(e,i,s),jt(e,i,s))}function $t(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ht(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function It(t,e,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof t&&null!==t)try{return Array.isArray(t)&&t.length>0?v.HY.fromArray(t.map((t=>e.nodeFromJSON(t)))):e.nodeFromJSON(t)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),It("",e,n)}if("string"==typeof t){const o=v.aw.fromSchema(e);return n.slice?o.parseSlice(Ht(t),n.parseOptions).content:o.parse(Ht(t),n.parseOptions)}return It("",e,n)}function Bt(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function Lt(t,e,n={}){const{from:o,to:r,empty:i}=t.selection,s=e?tt(e,t.schema):null,a=[];t.doc.nodesBetween(o,r,((t,e)=>{if(t.isText)return;const n=Math.max(o,e),i=Math.min(r,e+t.nodeSize);a.push({node:t,from:n,to:i})}));const c=r-o,d=a.filter((t=>!s||s.name===t.node.type.name)).filter((t=>Et(t.node.attrs,n,{strict:!1})));if(i)return!!d.length;return d.reduce(((t,e)=>t+e.to-e.from),0)>=c}function Nt(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Rt(t,e){const n="string"==typeof e?[e]:e;return Object.keys(t).reduce(((e,o)=>(n.includes(o)||(e[o]=t[o]),e)),{})}function Vt(t,e,n={}){return It(t,e,{slice:!1,parseOptions:n})}function zt(t,e){const n=At(e,t.schema),{from:o,to:r,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,r,(t=>{s.push(...t.marks)}));const a=s.find((t=>t.type.name===n.name));return a?{...a.attrs}:{}}function qt(t){return e=>function(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}(e.$from,t)}function Ft(t,e){const n=v.PW.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function Kt(t,e){return at(yt.resolve(t),e)}function Wt(t,e){const n=Kt(e);return Ft(v.NB.fromJSON(n,t).content,n)}function _t(t,e){const n=Kt(e),o=Ht(t);return v.aw.fromSchema(n).parse(o).toJSON()}function Ut(t,e){return kt(t,{from:0,to:t.content.size},e)}function Yt(t,e,n){const{blockSeparator:o="\n\n",textSerializers:r={}}=n||{},i=Kt(e);return Ut(v.NB.fromJSON(i,t),{blockSeparator:o,textSerializers:{...Mt(i),...r}})}function Jt(t,e){const n=Nt("string"==typeof e?e:e.name,t.schema);return"node"===n?function(t,e){const n=tt(e,t.schema),{from:o,to:r}=t.selection,i=[];t.doc.nodesBetween(o,r,(t=>{i.push(t)}));const s=i.reverse().find((t=>t.type.name===n.name));return s?{...s.attrs}:{}}(t,e):"mark"===n?zt(t,e):{}}function Gt(t,e,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const o=t.find((t=>t.type===e&&t.name===n));return!!o&&o.attribute.keepOnSplit})))}function Zt(t,e,n={}){const{empty:o,ranges:r}=t.selection,i=e?At(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter((t=>!i||i.name===t.type.name)).find((t=>Et(t.attrs,n,{strict:!1})));let s=0;const a=[];if(r.forEach((({$from:e,$to:n})=>{const o=e.pos,r=n.pos;t.doc.nodesBetween(o,r,((t,e)=>{if(!t.isText&&!t.marks.length)return;const n=Math.max(o,e),i=Math.min(r,e+t.nodeSize);s+=i-n,a.push(...t.marks.map((t=>({mark:t,from:n,to:i}))))}))})),0===s)return!1;const c=a.filter((t=>!i||i.name===t.mark.type.name)).filter((t=>Et(t.mark.attrs,n,{strict:!1}))).reduce(((t,e)=>t+e.to-e.from),0),d=a.filter((t=>!i||t.mark.type!==i&&t.mark.type.excludes(i))).reduce(((t,e)=>t+e.to-e.from),0);return(c>0?c+d:c)>=s}function Xt(t,e){const{nodeExtensions:n}=X(e),o=n.find((e=>e.name===t));if(!o)return!1;const r=rt(Z(o,"group",{name:o.name,options:o.options,storage:o.storage}));return"string"==typeof r&&r.split(" ").includes("list")}function Qt(t){return t instanceof o.qv}function te(t,e,n){const o=t.state.doc.content.size,r=jt(e,0,o),i=jt(n,0,o),s=t.coordsAtPos(r),a=t.coordsAtPos(i,-1),c=Math.min(s.top,a.top),d=Math.max(s.bottom,a.bottom),l=Math.min(s.left,a.left),p=Math.max(s.right,a.right),u={top:c,bottom:d,left:l,right:p,width:p-l,height:d-c,x:l,y:c};return{...u,toJSON:()=>u}}function ee(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter((t=>null==e?void 0:e.includes(t.type.name)));t.tr.ensureMarks(o)}}const ne=(t,e)=>{const n=qt((t=>t.type===e))(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===o)return!0;const r=t.doc.nodeAt(o);return n.node.type!==(null==r?void 0:r.type)||!(0,y.Mn)(t.doc,n.pos)||(t.join(n.pos),!0)},oe=(t,e)=>{const n=qt((t=>t.type===e))(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(void 0===o)return!0;const r=t.doc.nodeAt(o);return n.node.type!==(null==r?void 0:r.type)||!(0,y.Mn)(t.doc,o)||(t.join(o),!0)};var re=Object.freeze({__proto__:null,blur:()=>({editor:t,view:e})=>(requestAnimationFrame((()=>{var n;t.isDestroyed||(e.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(t=!1)=>({commands:e})=>e.setContent("",t),clearNodes:()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:r}=o;return!n||(r.forEach((({$from:n,$to:o})=>{t.doc.nodesBetween(n.pos,o.pos,((t,n)=>{if(t.type.isText)return;const{doc:o,mapping:r}=e,i=o.resolve(r.map(n)),s=o.resolve(r.map(n+t.nodeSize)),a=i.blockRange(s);if(!a)return;const c=(0,y.k9)(a);if(t.type.isTextblock){const{defaultType:t}=i.parent.contentMatchAt(i.index());e.setNodeMarkup(a.start,t)}(c||0===c)&&e.lift(a,c)}))})),!0)},command:t=>e=>t(e),createParagraphNear:()=>({state:t,dispatch:e})=>P(t,e),cut:(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new o.Bs(r.doc.resolve(a-1))),!0},deleteCurrentNode:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1){if(r.node(i).type===o.type){if(e){const e=r.before(i),n=r.after(i);t.delete(e,n).scrollIntoView()}return!0}}return!1},deleteNode:t=>({tr:e,state:n,dispatch:o})=>{const r=tt(t,n.schema),i=e.selection.$anchor;for(let t=i.depth;t>0;t-=1){if(i.node(t).type===r){if(o){const n=i.before(t),o=i.after(t);e.delete(n,o).scrollIntoView()}return!0}}return!1},deleteRange:t=>({tr:e,dispatch:n})=>{const{from:o,to:r}=t;return n&&e.delete(o,r),!0},deleteSelection:()=>({state:t,dispatch:e})=>b(t,e),enter:()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode:()=>({state:t,dispatch:e})=>j(t,e),extendMarkRange:(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=At(t,r.schema),{doc:a,selection:c}=n,{$from:d,from:l,to:p}=c;if(i){const t=Tt(d,s,e);if(t&&t.from<=l&&t.to>=p){const e=o.Bs.create(a,t.from,t.to);n.setSelection(e)}}return!0},first:t=>e=>{const n="function"==typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1},focus:(t=null,e={})=>({editor:n,view:o,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{$t()&&o.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(o.focus(),(null==e?void 0:e.scrollIntoView)&&n.commands.scrollIntoView())}))};if(o.hasFocus()&&null===t||!1===t)return!0;if(i&&null===t&&!Dt(n.state.selection))return s(),!0;const a=Pt(r.doc,t)||n.state.selection,c=n.state.selection.eq(a);return i&&(c||r.setSelection(a),c&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},forEach:(t,e)=>n=>t.every(((t,o)=>e(t,{...n,index:o}))),insertContent:(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),insertContentAt:(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const i=It(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===i.toString())return!0;let{from:a,to:c}="number"==typeof t?{from:t,to:t}:{from:t.from,to:t.to},d=!0,l=!0;if((i.toString().startsWith("<")?i:[i]).forEach((t=>{t.check(),d=!!d&&(t.isText&&0===t.marks.length),l=!!l&&t.isBlock})),a===c&&l){const{parent:t}=r.doc.resolve(a);t.isTextblock&&!t.type.spec.code&&!t.childCount&&(a-=1,c+=1)}d?Array.isArray(e)?r.insertText(e.map((t=>t.text||"")).join(""),a,c):"object"==typeof e&&e&&e.text?r.insertText(e.text,a,c):r.insertText(e,a,c):r.replaceWith(a,c,i),n.updateSelection&&function(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof y.Pu||i instanceof y.FC))return;const s=t.mapping.maps[r];let a=0;s.forEach(((t,e,n,o)=>{0===a&&(a=o)})),t.setSelection(o.Y1.near(t.doc.resolve(a),n))}(r,r.steps.length-1,-1)}return!0},joinUp:()=>({state:t,dispatch:e})=>((t,e)=>{let n,r=t.selection,i=r instanceof o.qv;if(i){if(r.node.isTextblock||!(0,y.Mn)(t.doc,r.from))return!1;n=r.from}else if(n=(0,y.GJ)(t.doc,r.from,-1),null==n)return!1;if(e){let r=t.tr.join(n);i&&r.setSelection(o.qv.create(r.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0})(t,e),joinDown:()=>({state:t,dispatch:e})=>((t,e)=>{let n,r=t.selection;if(r instanceof o.qv){if(r.node.isTextblock||!(0,y.Mn)(t.doc,r.to))return!1;n=r.to}else if(n=(0,y.GJ)(t.doc,r.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0})(t,e),joinBackward:()=>({state:t,dispatch:e})=>x(t,e),joinForward:()=>({state:t,dispatch:e})=>S(t,e),joinItemBackward:()=>({tr:t,state:e,dispatch:n})=>{try{const o=(0,y.GJ)(e.doc,e.selection.$from.pos,-1);return null!=o&&(t.join(o,2),n&&n(t),!0)}catch{return!1}},joinItemForward:()=>({state:t,dispatch:e,tr:n})=>{try{const o=(0,y.GJ)(t.doc,t.selection.$from.pos,1);return null!=o&&(n.join(o,2),e&&e(n),!0)}catch(o){return!1}},keyboardShortcut:t=>({editor:e,view:n,tr:o,dispatch:r})=>{const i=function(t){const e=t.split(/-(?!$)/);let n,o,r,i,s=e[e.length-1];"Space"===s&&(s=" ");for(let a=0;a<e.length-1;a+=1){const t=e[a];if(/^(cmd|meta|m)$/i.test(t))i=!0;else if(/^a(lt)?$/i.test(t))n=!0;else if(/^(c|ctrl|control)$/i.test(t))o=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error(`Unrecognized modifier name: ${t}`);$t()||Bt()?i=!0:o=!0}}return n&&(s=`Alt-${s}`),o&&(s=`Ctrl-${s}`),i&&(s=`Meta-${s}`),r&&(s=`Shift-${s}`),s}(t).split(/-(?!$)/),s=i.find((t=>!["Alt","Ctrl","Meta","Shift"].includes(t))),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction((()=>{n.someProp("handleKeyDown",(t=>t(n,a)))}));return null==c||c.steps.forEach((t=>{const e=t.map(o.mapping);e&&r&&o.maybeStep(e)})),!0},lift:(t,e={})=>({state:n,dispatch:o})=>!!Lt(n,tt(t,n.schema),e)&&((t,e)=>{let{$from:n,$to:o}=t.selection,r=n.blockRange(o),i=r&&(0,y.k9)(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)})(n,o),liftEmptyBlock:()=>({state:t,dispatch:e})=>$(t,e),liftListItem:t=>({state:e,dispatch:n})=>U(tt(t,e.schema))(e,n),newlineInCode:()=>({state:t,dispatch:e})=>A(t,e),resetAttributes:(t,e)=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const a=Nt("string"==typeof t?t:t.name,o.schema);return!!a&&("node"===a&&(i=tt(t,o.schema)),"mark"===a&&(s=At(t,o.schema)),r&&n.selection.ranges.forEach((t=>{o.doc.nodesBetween(t.$from.pos,t.$to.pos,((t,o)=>{i&&i===t.type&&n.setNodeMarkup(o,void 0,Rt(t.attrs,e)),s&&t.marks.length&&t.marks.forEach((r=>{s===r.type&&n.addMark(o,o+t.nodeSize,s.create(Rt(r.attrs,e)))}))}))})),!0)},scrollIntoView:()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),selectAll:()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),selectNodeBackward:()=>({state:t,dispatch:e})=>M(t,e),selectNodeForward:()=>({state:t,dispatch:e})=>C(t,e),selectParentNode:()=>({state:t,dispatch:e})=>((t,e)=>{let n,{$from:r,to:i}=t.selection,s=r.sharedDepth(i);return 0!=s&&(n=r.before(s),e&&e(t.tr.setSelection(o.qv.create(t.doc,n))),!0)})(t,e),selectTextblockEnd:()=>({state:t,dispatch:e})=>R(t,e),selectTextblockStart:()=>({state:t,dispatch:e})=>N(t,e),setContent:(t,e=!1,n={})=>({tr:o,editor:r,dispatch:i})=>{const{doc:s}=o,a=Vt(t,r.schema,n);return i&&o.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!e),!0},setMark:(t,e={})=>({tr:n,state:o,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:a}=i,c=At(t,o.schema);if(r)if(s){const t=zt(o,c);n.addStoredMark(c.create({...t,...e}))}else a.forEach((t=>{const r=t.$from.pos,i=t.$to.pos;o.doc.nodesBetween(r,i,((t,o)=>{const s=Math.max(o,r),a=Math.min(o+t.nodeSize,i);t.marks.find((t=>t.type===c))?t.marks.forEach((t=>{c===t.type&&n.addMark(s,a,c.create({...t.attrs,...e}))})):n.addMark(s,a,c.create(e))}))}));return function(t,e,n){var o;const{selection:r}=e;let i=null;if(Dt(r)&&(i=r.$cursor),i){const e=null!==(o=t.storedMarks)&&void 0!==o?o:i.marks();return!!n.isInSet(e)||!e.some((t=>t.type.excludes(n)))}const{ranges:s}=r;return s.some((({$from:e,$to:o})=>{let r=0===e.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(n);return t.doc.nodesBetween(e.pos,o.pos,((t,e,o)=>{if(r)return!1;if(t.isInline){const e=!o||o.type.allowsMarkType(n),i=!!n.isInSet(t.marks)||!t.marks.some((t=>t.type.excludes(n)));r=e&&i}return!r})),r}))}(o,n,c)},setMeta:(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),setNode:(t,e={})=>({state:n,dispatch:o,chain:r})=>{const i=tt(t,n.schema);return i.isTextblock?r().command((({commands:t})=>!!V(i,e)(n)||t.clearNodes())).command((({state:t})=>V(i,e)(t,o))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,r=jt(t,0,n.content.size),i=o.qv.create(n,r);e.setSelection(i)}return!0},setTextSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:r,to:i}="number"==typeof t?{from:t,to:t}:t,s=o.Bs.atStart(n).from,a=o.Bs.atEnd(n).to,c=jt(r,s,a),d=jt(i,s,a),l=o.Bs.create(n,c,d);e.setSelection(l)}return!0},sinkListItem:t=>({state:e,dispatch:n})=>{const o=tt(t,e.schema);return(r=o,function(t,e){let{$from:n,$to:o}=t.selection,i=n.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==r));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let a=i.parent,c=a.child(s-1);if(c.type!=r)return!1;if(e){let n=c.lastChild&&c.lastChild.type==a.type,o=v.HY.from(n?r.create():null),s=new v.p2(v.HY.from(r.create(null,v.HY.from(a.type.create(null,o)))),n?3:1,0),d=i.start,l=i.end;e(t.tr.step(new y.FC(d-(n?3:1),l,d,l,s,1,!0)).scrollIntoView())}return!0})(e,n);var r},splitBlock:({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:c,$to:d}=s,l=Gt(i.extensionManager.attributes,c.node().type.name,c.node().attrs);if(s instanceof o.qv&&s.node.isBlock)return!(!c.parentOffset||!(0,y.Ax)(a,c.pos))&&(r&&(t&&ee(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;if(r){const r=d.parentOffset===d.parent.content.size;s instanceof o.Bs&&e.deleteSelection();const a=0===c.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(c.node(-1).contentMatchAt(c.indexAfter(-1)));let p=r&&a?[{type:a,attrs:l}]:void 0,u=(0,y.Ax)(e.doc,e.mapping.map(c.pos),1,p);if(p||u||!(0,y.Ax)(e.doc,e.mapping.map(c.pos),1,a?[{type:a}]:void 0)||(u=!0,p=a?[{type:a,attrs:l}]:void 0),u&&(e.split(e.mapping.map(c.pos),1,p),a&&!r&&!c.parentOffset&&c.parent.type!==a)){const t=e.mapping.map(c.before()),n=e.doc.resolve(t);c.node(-1).canReplaceWith(n.index(),n.index()+1,a)&&e.setNodeMarkup(e.mapping.map(c.before()),a)}t&&ee(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},splitListItem:t=>({tr:e,state:n,dispatch:r,editor:i})=>{var s;const a=tt(t,n.schema),{$from:c,$to:d}=n.selection,l=n.selection.node;if(l&&l.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==a)return!1;const u=i.extensionManager.attributes;if(0===c.parent.content.size&&c.node(-1).childCount===c.indexAfter(-1)){if(2===c.depth||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let t=v.HY.empty;const n=c.index(-1)?1:c.index(-2)?2:3;for(let e=c.depth-n;e>=c.depth-3;e-=1)t=v.HY.from(c.node(e).copy(t));const r=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,i=Gt(u,c.node().type.name,c.node().attrs),d=(null===(s=a.contentMatch.defaultType)||void 0===s?void 0:s.createAndFill(i))||void 0;t=t.append(v.HY.from(a.createAndFill(null,d)||void 0));const l=c.before(c.depth-(n-1));e.replace(l,c.after(-r),new v.p2(t,4-n,0));let p=-1;e.doc.nodesBetween(l,e.doc.content.size,((t,e)=>{if(p>-1)return!1;t.isTextblock&&0===t.content.size&&(p=e+1)})),p>-1&&e.setSelection(o.Bs.near(e.doc.resolve(p))),e.scrollIntoView()}return!0}const f=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,h=Gt(u,p.type.name,p.attrs),m=Gt(u,c.node().type.name,c.node().attrs);e.delete(c.pos,d.pos);const g=f?[{type:a,attrs:h},{type:f,attrs:m}]:[{type:a,attrs:h}];if(!(0,y.Ax)(e.doc,c.pos,2))return!1;if(r){const{selection:t,storedMarks:o}=n,{splittableMarks:s}=i.extensionManager,a=o||t.$to.parentOffset&&t.$from.marks();if(e.split(c.pos,2,g).scrollIntoView(),!a||!r)return!0;const d=a.filter((t=>s.includes(t.type.name)));e.ensureMarks(d)}return!0},toggleList:(t,e,n,o={})=>({editor:r,tr:i,state:s,dispatch:a,chain:c,commands:d,can:l})=>{const{extensions:p,splittableMarks:u}=r.extensionManager,f=tt(t,s.schema),h=tt(e,s.schema),{selection:m,storedMarks:g}=s,{$from:v,$to:y}=m,b=v.blockRange(y),w=g||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;const x=qt((t=>Xt(t.type.name,p)))(m);if(b.depth>=1&&x&&b.depth-x.depth<=1){if(x.node.type===f)return d.liftListItem(h);if(Xt(x.node.type.name,p)&&f.validContent(x.node.content)&&a)return c().command((()=>(i.setNodeMarkup(x.pos,f),!0))).command((()=>ne(i,f))).command((()=>oe(i,f))).run()}return n&&w&&a?c().command((()=>{const t=l().wrapInList(f,o),e=w.filter((t=>u.includes(t.type.name)));return i.ensureMarks(e),!!t||d.clearNodes()})).wrapInList(f,o).command((()=>ne(i,f))).command((()=>oe(i,f))).run():c().command((()=>!!l().wrapInList(f,o)||d.clearNodes())).wrapInList(f,o).command((()=>ne(i,f))).command((()=>oe(i,f))).run()},toggleMark:(t,e={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=At(t,o.schema);return Zt(o,s,e)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,e)},toggleNode:(t,e,n={})=>({state:o,commands:r})=>{const i=tt(t,o.schema),s=tt(e,o.schema);return Lt(o,i,n)?r.setNode(s):r.setNode(i,n)},toggleWrap:(t,e={})=>({state:n,commands:o})=>{const r=tt(t,n.schema);return Lt(n,r,e)?o.lift(r):o.wrapIn(r,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const e=t.tr,n=i.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(i.text){const n=e.doc.resolve(i.from).marks();e.replaceWith(i.from,i.to,t.schema.text(i.text,n))}else e.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:r}=n;return o||e&&r.forEach((e=>{t.removeMark(e.$from.pos,e.$to.pos)})),!0},unsetMark:(t,e={})=>({tr:n,state:o,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,c=At(t,o.schema),{$from:d,empty:l,ranges:p}=a;if(!r)return!0;if(l&&s){let{from:t,to:e}=a;const o=null===(i=d.marks().find((t=>t.type===c)))||void 0===i?void 0:i.attrs,r=Tt(d,c,o);r&&(t=r.from,e=r.to),n.removeMark(t,e,c)}else p.forEach((t=>{n.removeMark(t.$from.pos,t.$to.pos,c)}));return n.removeStoredMark(c),!0},updateAttributes:(t,e={})=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const a=Nt("string"==typeof t?t:t.name,o.schema);return!!a&&("node"===a&&(i=tt(t,o.schema)),"mark"===a&&(s=At(t,o.schema)),r&&n.selection.ranges.forEach((t=>{const r=t.$from.pos,a=t.$to.pos;o.doc.nodesBetween(r,a,((t,o)=>{i&&i===t.type&&n.setNodeMarkup(o,void 0,{...t.attrs,...e}),s&&t.marks.length&&t.marks.forEach((i=>{if(s===i.type){const c=Math.max(o,r),d=Math.min(o+t.nodeSize,a);n.addMark(c,d,s.create({...i.attrs,...e}))}}))}))})),!0)},wrapIn:(t,e={})=>({state:n,dispatch:o})=>function(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),a=s&&(0,y.nd)(s,t,e);return!!a&&(o&&o(n.tr.wrap(s,a).scrollIntoView()),!0)}}(tt(t,n.schema),e)(n,o),wrapInList:(t,e={})=>({state:n,dispatch:o})=>_(tt(t,n.schema),e)(n,o)});const ie=xt.create({name:"commands",addCommands:()=>({...re})}),se=xt.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ae=xt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),ce=xt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first((({commands:t})=>[()=>t.undoInputRule(),()=>t.command((({tr:e})=>{const{selection:n,doc:r}=e,{empty:i,$anchor:s}=n,{pos:a,parent:c}=s,d=s.parent.isTextblock?e.doc.resolve(a-1):s,l=d.parent.type.spec.isolating,p=s.pos-s.parentOffset,u=l&&1===d.parent.childCount?p===s.pos:o.Y1.atStart(r).from===a;return!(!(i&&u&&c.type.isTextblock)||c.textContent.length)&&t.clearNodes()})),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()])),e=()=>this.editor.commands.first((({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $t()||Bt()?i:r},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some((t=>t.docChanged))&&!e.doc.eq(n.doc)))return;const{empty:r,from:i,to:s}=e.selection,a=o.Y1.atStart(e.doc).from,c=o.Y1.atEnd(e.doc).to;if(r||!(i===a&&s===c))return;if(!(0===n.doc.textBetween(0,n.doc.content.size," "," ").length))return;const d=n.tr,l=Y({state:n,transaction:d}),{commands:p}=new J({editor:this.editor,state:l});return p.clearNodes(),d.steps.length?d:void 0}})]}}),de=xt.create({name:"tabindex",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var le=Object.freeze({__proto__:null,ClipboardTextSerializer:Ot,Commands:ie,Editable:se,FocusEvents:ae,Keymap:ce,Tabindex:de});class pe extends G{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t,e,n){const o=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==o)return o;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=ot(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:n});this.view.updateState(o)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"==typeof t?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(e)))});this.view.updateState(n)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(le):[],...this.options.extensions].filter((t=>["extension","node","mark"].includes(null==t?void 0:t.type)));this.extensionManager=new yt(t,this)}createCommandManager(){this.commandManager=new J({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=Vt(this.options.content,this.schema,this.options.parseOptions),e=Pt(t,this.options.autofocus);this.view=new r.tk(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:t,selection:e||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach((t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)})):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),r=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),r&&this.emit("blur",{editor:this,event:r.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return Jt(this.state,t)}isActive(t,e){const n="string"==typeof t?t:null,o="string"==typeof t?e:t;return function(t,e,n={}){if(!e)return Lt(t,null,n)||Zt(t,null,n);const o=Nt(e,t.schema);return"node"===o?Lt(t,e,n):"mark"===o&&Zt(t,e,n)}(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ft(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e="\n\n",textSerializers:n={}}=t||{};return Ut(this.state.doc,{blockSeparator:e,textSerializers:{...Mt(this.schema),...n}})}get isEmpty(){return function(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),o=t.toJSON();return JSON.stringify(n)===JSON.stringify(o)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}}function ue(t){return new ut({find:t.find,handler:({state:e,range:n,match:o,chain:r})=>{const i=rt(t.getAttributes,void 0,o)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),c=a&&(0,y.nd)(a,t.type,i);if(!c)return null;if(s.wrap(a,c),t.keepMarks&&t.editor){const{selection:n,storedMarks:o}=e,{splittableMarks:r}=t.editor.extensionManager,i=o||n.$to.parentOffset&&n.$from.marks();if(i){const t=i.filter((t=>r.includes(t.type.name)));s.ensureMarks(t)}}if(t.keepAttributes){const e="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";r().updateAttributes(e,i).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&(0,y.Mn)(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(o,d))&&s.join(n.from-1)}})}class fe{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=rt(Z(this,"addOptions",{name:this.name}))),this.storage=rt(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new fe(t)}configure(t={}){const e=this.extend();return e.options=wt(this.options,t),e.storage=rt(Z(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new fe(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=rt(Z(e,"addOptions",{name:e.name})),e.storage=rt(Z(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:n}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const r=o.marks();if(!!!r.find((t=>(null==t?void 0:t.type.name)===e.name)))return!1;const i=r.find((t=>(null==t?void 0:t.type.name)===e.name));return i&&n.removeStoredMark(i),n.insertText(" ",o.pos),t.view.dispatch(n),!0}return!1}}class he{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=rt(Z(this,"addOptions",{name:this.name}))),this.storage=rt(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new he(t)}configure(t={}){const e=this.extend();return e.options=wt(this.options,t),e.storage=rt(Z(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new he(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=rt(Z(e,"addOptions",{name:e.name})),e.storage=rt(Z(e,"addStorage",{name:e.name,options:e.options})),e}}class me{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,r,i,s,a,c;const{view:d}=this.editor,l=t.target,p=3===l.nodeType?null===(e=l.parentElement)||void 0===e?void 0:e.closest("[data-drag-handle]"):l.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(l))||!p)return;let u=0,f=0;if(this.dom!==p){const e=this.dom.getBoundingClientRect(),n=p.getBoundingClientRect(),o=null!==(r=t.offsetX)&&void 0!==r?r:null===(i=t.nativeEvent)||void 0===i?void 0:i.offsetX,c=null!==(s=t.offsetY)&&void 0!==s?s:null===(a=t.nativeEvent)||void 0===a?void 0:a.offsetY;u=n.x-e.x+o,f=n.y-e.y+c}null===(c=t.dataTransfer)||void 0===c||c.setDragImage(this.dom,u,f);const h=o.qv.create(d.state.doc,this.getPos()),m=d.state.tr.setSelection(h);d.dispatch(m)}stopEvent(t){var e;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!(null===(e=this.contentDOM)||void 0===e?void 0:e.contains(n))))return!1;const r=t.type.startsWith("drag"),i="drop"===t.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!i&&!r)return!0;const{isEditable:s}=this.editor,{isDragging:a}=this,c=!!this.node.type.spec.draggable,d=o.qv.isSelectable(this.node),l="copy"===t.type,p="paste"===t.type,u="cut"===t.type,f="mousedown"===t.type;if(!c&&d&&r&&t.preventDefault(),c&&r&&!a)return t.preventDefault(),!1;if(c&&s&&!a&&f){const t=n.closest("[data-drag-handle]");t&&(this.dom===t||this.dom.contains(t))&&(this.isDragging=!0,document.addEventListener("dragend",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("drop",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("mouseup",(()=>{this.isDragging=!1}),{once:!0}))}return!(a||i||l||p||u||f&&d)}ignoreMutation(t){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:t});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===t.type)return!1;if(this.dom.contains(t.target)&&"childList"===t.type&&($t()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&this.editor.isFocused){if([...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every((t=>t.isContentEditable)))return!1}return this.contentDOM===t.target&&"attributes"===t.type||!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command((({tr:e})=>{const n=this.getPos();return e.setNodeMarkup(n,void 0,{...this.node.attrs,...t}),!0}))}deleteNode(){const t=this.getPos(),e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}}},35525:(t,e,n)=>{n.d(e,{Z:()=>r});var o=n(70273);const r=o.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,o.P1)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:r}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=o.extensionManager,a=r||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&i){const e=a.filter((t=>s.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},58364:(t,e,n)=>{n.d(e,{Z:()=>S});var o=n(70273),r=200,i=function(){};i.prototype.append=function(t){return t.length?(t=i.from(t),!this.length&&t||t.length<r&&this.leafAppend(t)||this.length<r&&t.leafPrepend(this)||this.appendInner(t)):this},i.prototype.prepend=function(t){return t.length?i.from(t).append(this):this},i.prototype.appendInner=function(t){return new a(this,t)},i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?i.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},i.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},i.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},i.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(e,n){return o.push(t(e,n))}),e,n),o},i.from=function(t){return t instanceof i?t:t&&t.length?new s(t):i.empty};var s=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,o){for(var r=e;r<n;r++)if(!1===t(this.values[r],o+r))return!1},e.prototype.forEachInvertedInner=function(t,e,n,o){for(var r=e-1;r>=n;r--)if(!1===t(this.values[r],o+r))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=r)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=r)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(i);i.empty=new s([]);var a=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,o){var r=this.left.length;return!(e<r&&!1===this.left.forEachInner(t,e,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(t,Math.max(e-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,o){var r=this.left.length;return!(e>r&&!1===this.right.forEachInvertedInner(t,e-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(t,Math.min(e,r),n,o))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(i);const c=i;var d=n(16560),l=n(2376);class p{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,o,r=this.items.length;for(;;r--){if(this.items.get(r-1).selection){--r;break}}e&&(n=this.remapping(r,this.items.length),o=n.maps.length);let i,s,a=t.tr,c=[],d=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(r,e+1),o=n.maps.length),o--,void d.push(t);if(n){d.push(new u(t.map));let e,r=t.step.map(n.slice(o));r&&a.maybeStep(r).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],c.push(new u(e,void 0,void 0,c.length+d.length))),o--,e&&n.appendMap(e,o)}else a.maybeStep(t.step);return t.selection?(i=n?t.selection.map(n.slice(o)):t.selection,s=new p(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(t,e,n,o){let r=[],i=this.eventCount,s=this.items,a=!o&&s.length?s.get(s.length-1):null;for(let d=0;d<t.steps.length;d++){let n,c=t.steps[d].invert(t.docs[d]),l=new u(t.mapping.maps[d],c,e);(n=a&&a.merge(l))&&(l=n,d?r.pop():s=s.slice(0,s.length-1)),r.push(l),e&&(i++,e=void 0),o||(a=l)}let c=i-n.depth;return c>h&&(s=function(t,e){let n;return t.forEach(((t,o)=>{if(t.selection&&0==e--)return n=o,!1})),t.slice(n)}(s,c),i-=c),new p(s.append(r),i)}remapping(t,e){let n=new d.vs;return this.items.forEach(((e,o)=>{let r=null!=e.mirrorOffset&&o-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,r)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new p(this.items.append(t.map((t=>new u(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-e),r=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((t=>{t.selection&&s--}),o);let a=e;this.items.forEach((e=>{let o=r.getMirror(--a);if(null==o)return;i=Math.min(i,o);let c=r.maps[o];if(e.step){let i=t.steps[o].invert(t.docs[o]),d=e.selection&&e.selection.map(r.slice(a+1,o));d&&s++,n.push(new u(c,i,d))}else n.push(new u(c))}),o);let c=[];for(let p=e;p<i;p++)c.push(new u(r.maps[p]));let d=this.items.slice(0,o).append(c).append(n),l=new p(d,s);return l.emptyItemCount()>500&&(l=l.compress(this.items.length-n.length)),l}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,o=[],r=0;return this.items.forEach(((i,s)=>{if(s>=t)o.push(i),i.selection&&r++;else if(i.step){let t=i.step.map(e.slice(n)),s=t&&t.getMap();if(n--,s&&e.appendMap(s,n),t){let a=i.selection&&i.selection.map(e.slice(n));a&&r++;let c,d=new u(s.invert(),t,a),l=o.length-1;(c=o.length&&o[l].merge(d))?o[l]=c:o.push(d)}}else i.map&&n--}),this.items.length,0),new p(c.from(o.reverse()),r)}}p.empty=new p(c.empty,0);class u{constructor(t,e,n,o){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new u(e.getMap().invert(),e,this.selection)}}}class f{constructor(t,e,n,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=o}}const h=20;function m(t){let e=[];return t.forEach(((t,n,o,r)=>e.push(o,r))),e}function g(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),i=e.map(t[o+1],-1);r<=i&&n.push(r,i)}return n}function v(t,e,n,o){let r=w(e),i=x.get(e).spec.config,s=(o?t.undone:t.done).popEvent(e,r);if(!s)return;let a=s.selection.resolve(s.transform.doc),c=(o?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),d=new f(o?c:s.remaining,o?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(x,{redo:o,historyState:d}).scrollIntoView())}let y=!1,b=null;function w(t){let e=t.plugins;if(b!=e){y=!1,b=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){y=!0;break}}return y}const x=new l.H$("history"),k=new l.H$("closeHistory");function M(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new l.Sy({key:x,state:{init:()=>new f(p.empty,p.empty,null,0),apply:(e,n,o)=>function(t,e,n,o){let r,i=n.getMeta(x);if(i)return i.historyState;n.getMeta(k)&&(t=new f(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(x))return s.getMeta(x).redo?new f(t.done.addTransform(n,void 0,o,w(e)),t.undone,m(n.mapping.maps[n.steps.length-1]),t.prevTime):new f(t.done,t.undone.addTransform(n,void 0,o,w(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new f(t.done.rebased(n,r),t.undone.rebased(n,r),g(t.prevRanges,n.mapping),t.prevTime):new f(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),g(t.prevRanges,n.mapping),t.prevTime);{let r=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-o.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,o)=>{for(let r=0;r<e.length;r+=2)t<=e[r+1]&&o>=e[r]&&(n=!0)})),n}(n,t.prevRanges)),i=s?g(t.prevRanges,n.mapping):m(n.mapping.maps[n.steps.length-1]);return new f(t.done.addTransform(n,r?e.selection.getBookmark():void 0,o,w(e)),p.empty,i,n.time)}}(n,o,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,o="historyUndo"==n?O:"historyRedo"==n?E:null;return!!o&&(e.preventDefault(),o(t.state,t.dispatch))}}}})}const O=(t,e)=>{let n=x.getState(t);return!(!n||0==n.done.eventCount)&&(e&&v(n,t,e,!1),!0)},E=(t,e)=>{let n=x.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&v(n,t,e,!0),!0)};const S=o.hj.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>O(t,e),redo:()=>({state:t,dispatch:e})=>E(t,e)}),addProseMirrorPlugins(){return[M(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}})},544:(t,e,n)=>{n.d(e,{kg:()=>ke,ms:()=>Me,T5:()=>Oe,uf:()=>Ae,Un:()=>Ce,jE:()=>Ee});var o=n(70273),r=n(2376);function i(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function s(t){return t instanceof i(t).Element||t instanceof Element}function a(t){return t instanceof i(t).HTMLElement||t instanceof HTMLElement}function c(t){return"undefined"!=typeof ShadowRoot&&(t instanceof i(t).ShadowRoot||t instanceof ShadowRoot)}var d=Math.max,l=Math.min,p=Math.round;function u(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function f(){return!/^((?!chrome|android).)*safari/i.test(u())}function h(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=t.getBoundingClientRect(),r=1,c=1;e&&a(t)&&(r=t.offsetWidth>0&&p(o.width)/t.offsetWidth||1,c=t.offsetHeight>0&&p(o.height)/t.offsetHeight||1);var d=(s(t)?i(t):window).visualViewport,l=!f()&&n,u=(o.left+(l&&d?d.offsetLeft:0))/r,h=(o.top+(l&&d?d.offsetTop:0))/c,m=o.width/r,g=o.height/c;return{width:m,height:g,top:h,right:u+m,bottom:h+g,left:u,x:u,y:h}}function m(t){var e=i(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function g(t){return t?(t.nodeName||"").toLowerCase():null}function v(t){return((s(t)?t.ownerDocument:t.document)||window.document).documentElement}function y(t){return h(v(t)).left+m(t).scrollLeft}function b(t){return i(t).getComputedStyle(t)}function w(t){var e=b(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function x(t,e,n){void 0===n&&(n=!1);var o,r,s=a(e),c=a(e)&&function(t){var e=t.getBoundingClientRect(),n=p(e.width)/t.offsetWidth||1,o=p(e.height)/t.offsetHeight||1;return 1!==n||1!==o}(e),d=v(e),l=h(t,c,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(s||!s&&!n)&&(("body"!==g(e)||w(d))&&(u=(o=e)!==i(o)&&a(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:m(o)),a(e)?((f=h(e,!0)).x+=e.clientLeft,f.y+=e.clientTop):d&&(f.x=y(d))),{x:l.left+u.scrollLeft-f.x,y:l.top+u.scrollTop-f.y,width:l.width,height:l.height}}function k(t){var e=h(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function M(t){return"html"===g(t)?t:t.assignedSlot||t.parentNode||(c(t)?t.host:null)||v(t)}function O(t){return["html","body","#document"].indexOf(g(t))>=0?t.ownerDocument.body:a(t)&&w(t)?t:O(M(t))}function E(t,e){var n;void 0===e&&(e=[]);var o=O(t),r=o===(null==(n=t.ownerDocument)?void 0:n.body),s=i(o),a=r?[s].concat(s.visualViewport||[],w(o)?o:[]):o,c=e.concat(a);return r?c:c.concat(E(M(a)))}function S(t){return["table","td","th"].indexOf(g(t))>=0}function C(t){return a(t)&&"fixed"!==b(t).position?t.offsetParent:null}function T(t){for(var e=i(t),n=C(t);n&&S(n)&&"static"===b(n).position;)n=C(n);return n&&("html"===g(n)||"body"===g(n)&&"static"===b(n).position)?e:n||function(t){var e=/firefox/i.test(u());if(/Trident/i.test(u())&&a(t)&&"fixed"===b(t).position)return null;var n=M(t);for(c(n)&&(n=n.host);a(n)&&["html","body"].indexOf(g(n))<0;){var o=b(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(t)||e}var A="top",D="bottom",j="right",P="left",$="auto",H=[A,D,j,P],I="start",B="end",L="clippingParents",N="viewport",R="popper",V="reference",z=H.reduce((function(t,e){return t.concat([e+"-"+I,e+"-"+B])}),[]),q=[].concat(H,[$]).reduce((function(t,e){return t.concat([e,e+"-"+I,e+"-"+B])}),[]),F=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function K(t){var e=new Map,n=new Set,o=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var o=e.get(t);o&&r(o)}})),o.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),o}var W={placement:"bottom",modifiers:[],strategy:"absolute"};function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function U(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,o=void 0===n?[]:n,r=e.defaultOptions,i=void 0===r?W:r;return function(t,e,n){void 0===n&&(n=i);var r,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},W,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},d=[],l=!1,p={state:c,setOptions:function(n){var r="function"==typeof n?n(c.options):n;u(),c.options=Object.assign({},i,c.options,r),c.scrollParents={reference:s(t)?E(t):t.contextElement?E(t.contextElement):[],popper:E(e)};var a,l,f=function(t){var e=K(t);return F.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(o,c.options.modifiers),l=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(l).map((function(t){return l[t]}))));return c.orderedModifiers=f.filter((function(t){return t.enabled})),c.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var i=r({state:c,name:e,instance:p,options:o}),s=function(){};d.push(i||s)}})),p.update()},forceUpdate:function(){if(!l){var t=c.elements,e=t.reference,n=t.popper;if(_(e,n)){c.rects={reference:x(e,T(n),"fixed"===c.options.strategy),popper:k(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(t){return c.modifiersData[t.name]=Object.assign({},t.data)}));for(var o=0;o<c.orderedModifiers.length;o++)if(!0!==c.reset){var r=c.orderedModifiers[o],i=r.fn,s=r.options,a=void 0===s?{}:s,d=r.name;"function"==typeof i&&(c=i({state:c,options:a,name:d,instance:p})||c)}else c.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(t){p.forceUpdate(),t(c)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){u(),l=!0}};if(!_(t,e))return p;function u(){d.forEach((function(t){return t()})),d=[]}return p.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),p}}var Y={passive:!0};function J(t){return t.split("-")[0]}function G(t){return t.split("-")[1]}function Z(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function X(t){var e,n=t.reference,o=t.element,r=t.placement,i=r?J(r):null,s=r?G(r):null,a=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(i){case A:e={x:a,y:n.y-o.height};break;case D:e={x:a,y:n.y+n.height};break;case j:e={x:n.x+n.width,y:c};break;case P:e={x:n.x-o.width,y:c};break;default:e={x:n.x,y:n.y}}var d=i?Z(i):null;if(null!=d){var l="y"===d?"height":"width";switch(s){case I:e[d]=e[d]-(n[l]/2-o[l]/2);break;case B:e[d]=e[d]+(n[l]/2-o[l]/2)}}return e}var Q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tt(t){var e,n=t.popper,o=t.popperRect,r=t.placement,s=t.variation,a=t.offsets,c=t.position,d=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=a.x,m=void 0===h?0:h,g=a.y,y=void 0===g?0:g,w="function"==typeof u?u({x:m,y}):{x:m,y};m=w.x,y=w.y;var x=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),M=P,O=A,E=window;if(l){var S=T(n),C="clientHeight",$="clientWidth";if(S===i(n)&&"static"!==b(S=v(n)).position&&"absolute"===c&&(C="scrollHeight",$="scrollWidth"),r===A||(r===P||r===j)&&s===B)O=D,y-=(f&&S===E&&E.visualViewport?E.visualViewport.height:S[C])-o.height,y*=d?1:-1;if(r===P||(r===A||r===D)&&s===B)M=j,m-=(f&&S===E&&E.visualViewport?E.visualViewport.width:S[$])-o.width,m*=d?1:-1}var H,I=Object.assign({position:c},l&&Q),L=!0===u?function(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:p(n*r)/r||0,y:p(o*r)/r||0}}({x:m,y},i(n)):{x:m,y};return m=L.x,y=L.y,d?Object.assign({},I,((H={})[O]=k?"0":"",H[M]=x?"0":"",H.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",H)):Object.assign({},I,((e={})[O]=k?y+"px":"",e[M]=x?m+"px":"",e.transform="",e))}const et={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];a(r)&&g(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],r=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});a(o)&&g(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]};const nt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,r=n.offset,i=void 0===r?[0,0]:r,s=q.reduce((function(t,n){return t[n]=function(t,e,n){var o=J(t),r=[P,A].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*r,[P,j].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,i),t}),{}),a=s[e.placement],c=a.x,d=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=s}};var ot={left:"right",right:"left",bottom:"top",top:"bottom"};function rt(t){return t.replace(/left|right|bottom|top/g,(function(t){return ot[t]}))}var it={start:"end",end:"start"};function st(t){return t.replace(/start|end/g,(function(t){return it[t]}))}function at(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&c(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ct(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dt(t,e,n){return e===N?ct(function(t,e){var n=i(t),o=v(t),r=n.visualViewport,s=o.clientWidth,a=o.clientHeight,c=0,d=0;if(r){s=r.width,a=r.height;var l=f();(l||!l&&"fixed"===e)&&(c=r.offsetLeft,d=r.offsetTop)}return{width:s,height:a,x:c+y(t),y:d}}(t,n)):s(e)?function(t,e){var n=h(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):ct(function(t){var e,n=v(t),o=m(t),r=null==(e=t.ownerDocument)?void 0:e.body,i=d(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=d(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+y(t),c=-o.scrollTop;return"rtl"===b(r||n).direction&&(a+=d(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(v(t)))}function lt(t,e,n,o){var r="clippingParents"===e?function(t){var e=E(M(t)),n=["absolute","fixed"].indexOf(b(t).position)>=0&&a(t)?T(t):t;return s(n)?e.filter((function(t){return s(t)&&at(t,n)&&"body"!==g(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),c=i[0],p=i.reduce((function(e,n){var r=dt(t,n,o);return e.top=d(r.top,e.top),e.right=l(r.right,e.right),e.bottom=l(r.bottom,e.bottom),e.left=d(r.left,e.left),e}),dt(t,c,o));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function pt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function ut(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function ft(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=void 0===o?t.placement:o,i=n.strategy,a=void 0===i?t.strategy:i,c=n.boundary,d=void 0===c?L:c,l=n.rootBoundary,p=void 0===l?N:l,u=n.elementContext,f=void 0===u?R:u,m=n.altBoundary,g=void 0!==m&&m,y=n.padding,b=void 0===y?0:y,w=pt("number"!=typeof b?b:ut(b,H)),x=f===R?V:R,k=t.rects.popper,M=t.elements[g?x:f],O=lt(s(M)?M:M.contextElement||v(t.elements.popper),d,p,a),E=h(t.elements.reference),S=X({reference:E,element:k,strategy:"absolute",placement:r}),C=ct(Object.assign({},k,S)),T=f===R?C:E,P={top:O.top-T.top+w.top,bottom:T.bottom-O.bottom+w.bottom,left:O.left-T.left+w.left,right:T.right-O.right+w.right},$=t.modifiersData.offset;if(f===R&&$){var I=$[r];Object.keys(P).forEach((function(t){var e=[j,D].indexOf(t)>=0?1:-1,n=[A,D].indexOf(t)>=0?"y":"x";P[t]+=I[n]*e}))}return P}function ht(t,e,n){return d(t,l(e,n))}const mt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,p=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,m=void 0===h||h,g=n.tetherOffset,v=void 0===g?0:g,y=ft(e,{boundary:c,rootBoundary:p,padding:f,altBoundary:u}),b=J(e.placement),w=G(e.placement),x=!w,M=Z(b),O="x"===M?"y":"x",E=e.modifiersData.popperOffsets,S=e.rects.reference,C=e.rects.popper,$="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,H="number"==typeof $?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(E){if(i){var N,R="y"===M?A:P,V="y"===M?D:j,z="y"===M?"height":"width",q=E[M],F=q+y[R],K=q-y[V],W=m?-C[z]/2:0,_=w===I?S[z]:C[z],U=w===I?-C[z]:-S[z],Y=e.elements.arrow,X=m&&Y?k(Y):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=Q[R],et=Q[V],nt=ht(0,S[z],X[z]),ot=x?S[z]/2-W-nt-tt-H.mainAxis:_-nt-tt-H.mainAxis,rt=x?-S[z]/2+W+nt+et+H.mainAxis:U+nt+et+H.mainAxis,it=e.elements.arrow&&T(e.elements.arrow),st=it?"y"===M?it.clientTop||0:it.clientLeft||0:0,at=null!=(N=null==B?void 0:B[M])?N:0,ct=q+rt-at,dt=ht(m?l(F,q+ot-at-st):F,q,m?d(K,ct):K);E[M]=dt,L[M]=dt-q}if(a){var lt,pt="x"===M?A:P,ut="x"===M?D:j,mt=E[O],gt="y"===O?"height":"width",vt=mt+y[pt],yt=mt-y[ut],bt=-1!==[A,P].indexOf(b),wt=null!=(lt=null==B?void 0:B[O])?lt:0,xt=bt?vt:mt-S[gt]-C[gt]-wt+H.altAxis,kt=bt?mt+S[gt]+C[gt]-wt-H.altAxis:yt,Mt=m&&bt?function(t,e,n){var o=ht(t,e,n);return o>n?n:o}(xt,mt,kt):ht(m?xt:vt,mt,m?kt:yt);E[O]=Mt,L[O]=Mt-mt}e.modifiersData[o]=L}},requiresIfExists:["offset"]};const gt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,o=t.name,r=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=J(n.placement),c=Z(a),d=[P,j].indexOf(a)>=0?"height":"width";if(i&&s){var l=function(t,e){return pt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:ut(t,H))}(r.padding,n),p=k(i),u="y"===c?A:P,f="y"===c?D:j,h=n.rects.reference[d]+n.rects.reference[c]-s[c]-n.rects.popper[d],m=s[c]-n.rects.reference[c],g=T(i),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,y=h/2-m/2,b=l[u],w=v-p[d]-l[f],x=v/2-p[d]/2+y,M=ht(b,x,w),O=c;n.modifiersData[o]=((e={})[O]=M,e.centerOffset=M-x,e)}},effect:function(t){var e=t.state,n=t.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&at(e.elements.popper,o)&&(e.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function yt(t){return[A,j,D,P].some((function(e){return t[e]>=0}))}var bt=U({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,s=void 0===r||r,a=o.resize,c=void 0===a||a,d=i(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach((function(t){t.addEventListener("scroll",n.update,Y)})),c&&d.addEventListener("resize",n.update,Y),function(){s&&l.forEach((function(t){t.removeEventListener("scroll",n.update,Y)})),c&&d.removeEventListener("resize",n.update,Y)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=X({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,c=void 0===a||a,d={placement:J(e.placement),variation:G(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,tt(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,tt(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},et,nt,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,d=n.padding,l=n.boundary,p=n.rootBoundary,u=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=e.options.placement,v=J(g),y=c||(v===g||!h?[rt(g)]:function(t){if(J(t)===$)return[];var e=rt(t);return[st(t),e,st(e)]}(g)),b=[g].concat(y).reduce((function(t,n){return t.concat(J(n)===$?function(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,d=void 0===c?q:c,l=G(o),p=l?a?z:z.filter((function(t){return G(t)===l})):H,u=p.filter((function(t){return d.indexOf(t)>=0}));0===u.length&&(u=p);var f=u.reduce((function(e,n){return e[n]=ft(t,{placement:n,boundary:r,rootBoundary:i,padding:s})[J(n)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:n,boundary:l,rootBoundary:p,padding:d,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=e.rects.reference,x=e.rects.popper,k=new Map,M=!0,O=b[0],E=0;E<b.length;E++){var S=b[E],C=J(S),T=G(S)===I,B=[A,D].indexOf(C)>=0,L=B?"width":"height",N=ft(e,{placement:S,boundary:l,rootBoundary:p,altBoundary:u,padding:d}),R=B?T?j:P:T?D:A;w[L]>x[L]&&(R=rt(R));var V=rt(R),F=[];if(i&&F.push(N[C]<=0),a&&F.push(N[R]<=0,N[V]<=0),F.every((function(t){return t}))){O=S,M=!1;break}k.set(S,F)}if(M)for(var K=function(t){var e=b.find((function(e){var n=k.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return O=e,"break"},W=h?3:1;W>0;W--){if("break"===K(W))break}e.placement!==O&&(e.modifiersData[o]._skip=!0,e.placement=O,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},mt,gt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,s=ft(e,{elementContext:"reference"}),a=ft(e,{altBoundary:!0}),c=vt(s,o),d=vt(a,r,i),l=yt(c),p=yt(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:l,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":p})}}]}),wt="tippy-content",xt="tippy-backdrop",kt="tippy-arrow",Mt="tippy-svg-arrow",Ot={passive:!0,capture:!0},Et=function(){return document.body};function St(t,e,n){if(Array.isArray(t)){var o=t[e];return null==o?Array.isArray(n)?n[e]:n:o}return t}function Ct(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function Tt(t,e){return"function"==typeof t?t.apply(void 0,e):t}function At(t,e){return 0===e?t:function(o){clearTimeout(n),n=setTimeout((function(){t(o)}),e)};var n}function Dt(t){return[].concat(t)}function jt(t,e){-1===t.indexOf(e)&&t.push(e)}function Pt(t){return t.split("-")[0]}function $t(t){return[].slice.call(t)}function Ht(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function It(){return document.createElement("div")}function Bt(t){return["Element","Fragment"].some((function(e){return Ct(t,e)}))}function Lt(t){return Ct(t,"MouseEvent")}function Nt(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Rt(t){return Bt(t)?[t]:function(t){return Ct(t,"NodeList")}(t)?$t(t):Array.isArray(t)?t:$t(document.querySelectorAll(t))}function Vt(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function zt(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function qt(t){var e,n=Dt(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function Ft(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[o](e,n)}))}function Kt(t,e){for(var n=e;n;){var o;if(t.contains(n))return!0;n=null==n.getRootNode||null==(o=n.getRootNode())?void 0:o.host}return!1}var Wt={isTouch:!1},_t=0;function Ut(){Wt.isTouch||(Wt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Yt))}function Yt(){var t=performance.now();t-_t<20&&(Wt.isTouch=!1,document.removeEventListener("mousemove",Yt)),_t=t}function Jt(){var t=document.activeElement;if(Nt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Gt=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Zt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Xt=Object.assign({appendTo:Et,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Zt,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Qt=Object.keys(Xt);function te(t){var e=(t.plugins||[]).reduce((function(e,n){var o,r=n.name,i=n.defaultValue;r&&(e[r]=void 0!==t[r]?t[r]:null!=(o=Xt[r])?o:i);return e}),{});return Object.assign({},t,e)}function ee(t,e){var n=Object.assign({},e,{content:Tt(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(te(Object.assign({},Xt,{plugins:e}))):Qt).reduce((function(e,n){var o=(t.getAttribute("data-tippy-"+n)||"").trim();if(!o)return e;if("content"===n)e[n]=o;else try{e[n]=JSON.parse(o)}catch(r){e[n]=o}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Xt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var ne=function(){return"innerHTML"};function oe(t,e){t[ne()]=e}function re(t){var e=It();return!0===t?e.className=kt:(e.className=Mt,Bt(t)?e.appendChild(t):oe(e,t)),e}function ie(t,e){Bt(e.content)?(oe(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?oe(t,e.content):t.textContent=e.content)}function se(t){var e=t.firstElementChild,n=$t(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(wt)})),arrow:n.find((function(t){return t.classList.contains(kt)||t.classList.contains(Mt)})),backdrop:n.find((function(t){return t.classList.contains(xt)}))}}function ae(t){var e=It(),n=It();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=It();function r(n,o){var r=se(e),i=r.box,s=r.content,a=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||ie(s,t.props),o.arrow?a?n.arrow!==o.arrow&&(i.removeChild(a),i.appendChild(re(o.arrow))):i.appendChild(re(o.arrow)):a&&i.removeChild(a)}return o.className=wt,o.setAttribute("data-state","hidden"),ie(o,t.props),e.appendChild(n),n.appendChild(o),r(t.props,t.props),{popper:e,onUpdate:r}}ae.$$tippy=!0;var ce=1,de=[],le=[];function pe(t,e){var n,o,r,i,s,a,c,d,l=ee(t,Object.assign({},Xt,te(Ht(e)))),p=!1,u=!1,f=!1,h=!1,m=[],g=At(U,l.interactiveDebounce),v=ce++,y=(d=l.plugins).filter((function(t,e){return d.indexOf(t)===e})),b={id:v,reference:t,popper:It(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(e){0;if(b.state.isDestroyed)return;$("onBeforeUpdate",[b,e]),W();var n=b.props,o=ee(t,Object.assign({},n,Ht(e),{ignoreAttributes:!0}));b.props=o,K(),n.interactiveDebounce!==o.interactiveDebounce&&(B(),g=At(U,o.interactiveDebounce));n.triggerTarget&&!o.triggerTarget?Dt(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):o.triggerTarget&&t.removeAttribute("aria-expanded");I(),P(),k&&k(n,o);b.popperInstance&&(Z(),Q().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));$("onAfterUpdate",[b,e])},setContent:function(t){b.setProps({content:t})},show:function(){0;var t=b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,o=Wt.isTouch&&!b.props.touch,r=St(b.props.duration,0,Xt.duration);if(t||e||n||o)return;if(T().hasAttribute("disabled"))return;if($("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,C()&&(x.style.visibility="visible");P(),V(),b.state.isMounted||(x.style.transition="none");if(C()){var i=D();Vt([i.box,i.content],0)}a=function(){var t;if(b.state.isVisible&&!h){if(h=!0,x.offsetHeight,x.style.transition=b.props.moveTransition,C()&&b.props.animation){var e=D(),n=e.box,o=e.content;Vt([n,o],r),zt([n,o],"visible")}H(),I(),jt(le,b),null==(t=b.popperInstance)||t.forceUpdate(),$("onMount",[b]),b.props.animation&&C()&&function(t,e){q(t,e)}(r,(function(){b.state.isShown=!0,$("onShown",[b])}))}},function(){var t,e=b.props.appendTo,n=T();t=b.props.interactive&&e===Et||"parent"===e?n.parentNode:Tt(e,[n]);t.contains(x)||t.appendChild(x);b.state.isMounted=!0,Z(),!1}()},hide:function(){0;var t=!b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,o=St(b.props.duration,1,Xt.duration);if(t||e||n)return;if($("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,h=!1,p=!1,C()&&(x.style.visibility="hidden");if(B(),z(),P(!0),C()){var r=D(),i=r.box,s=r.content;b.props.animation&&(Vt([i,s],o),zt([i,s],"hidden"))}H(),I(),b.props.animation?C()&&function(t,e){q(t,(function(){!b.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&e()}))}(o,b.unmount):b.unmount()},hideWithInteractivity:function(t){0;A().addEventListener("mousemove",g),jt(de,g),g(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;X(),Q().forEach((function(t){t._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);le=le.filter((function(t){return t!==b})),b.state.isMounted=!1,$("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),W(),delete t._tippy,b.state.isDestroyed=!0,$("onDestroy",[b])}};if(!l.render)return b;var w=l.render(b),x=w.popper,k=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+b.id,b.popper=x,t._tippy=b,x._tippy=b;var M=y.map((function(t){return t.fn(b)})),O=t.hasAttribute("aria-expanded");return K(),I(),P(),$("onCreate",[b]),l.showOnCreate&&tt(),x.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",g)})),b;function E(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function S(){return"hold"===E()[0]}function C(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function T(){return c||t}function A(){var t=T().parentNode;return t?qt(t):document}function D(){return se(x)}function j(t){return b.state.isMounted&&!b.state.isVisible||Wt.isTouch||i&&"focus"===i.type?0:St(b.props.delay,t?0:1,Xt.delay)}function P(t){void 0===t&&(t=!1),x.style.pointerEvents=b.props.interactive&&!t?"":"none",x.style.zIndex=""+b.props.zIndex}function $(t,e,n){var o;(void 0===n&&(n=!0),M.forEach((function(n){n[t]&&n[t].apply(n,e)})),n)&&(o=b.props)[t].apply(o,e)}function H(){var e=b.props.aria;if(e.content){var n="aria-"+e.content,o=x.id;Dt(b.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(b.state.isVisible)t.setAttribute(n,e?e+" "+o:o);else{var r=e&&e.replace(o,"").trim();r?t.setAttribute(n,r):t.removeAttribute(n)}}))}}function I(){!O&&b.props.aria.expanded&&Dt(b.props.triggerTarget||t).forEach((function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===T()?"true":"false"):t.removeAttribute("aria-expanded")}))}function B(){A().removeEventListener("mousemove",g),de=de.filter((function(t){return t!==g}))}function L(e){if(!Wt.isTouch||!f&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!Kt(x,n)){if(Dt(b.props.triggerTarget||t).some((function(t){return Kt(t,n)}))){if(Wt.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),u=!0,setTimeout((function(){u=!1})),b.state.isMounted||z())}}}function N(){f=!0}function R(){f=!1}function V(){var t=A();t.addEventListener("mousedown",L,!0),t.addEventListener("touchend",L,Ot),t.addEventListener("touchstart",R,Ot),t.addEventListener("touchmove",N,Ot)}function z(){var t=A();t.removeEventListener("mousedown",L,!0),t.removeEventListener("touchend",L,Ot),t.removeEventListener("touchstart",R,Ot),t.removeEventListener("touchmove",N,Ot)}function q(t,e){var n=D().box;function o(t){t.target===n&&(Ft(n,"remove",o),e())}if(0===t)return e();Ft(n,"remove",s),Ft(n,"add",o),s=o}function F(e,n,o){void 0===o&&(o=!1),Dt(b.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,o),m.push({node:t,eventType:e,handler:n,options:o})}))}function K(){var t;S()&&(F("touchstart",_,{passive:!0}),F("touchend",Y,{passive:!0})),(t=b.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(F(t,_),t){case"mouseenter":F("mouseleave",Y);break;case"focus":F(Gt?"focusout":"blur",J);break;case"focusin":F("focusout",J)}}))}function W(){m.forEach((function(t){var e=t.node,n=t.eventType,o=t.handler,r=t.options;e.removeEventListener(n,o,r)})),m=[]}function _(t){var e,n=!1;if(b.state.isEnabled&&!G(t)&&!u){var o="focus"===(null==(e=i)?void 0:e.type);i=t,c=t.currentTarget,I(),!b.state.isVisible&&Lt(t)&&de.forEach((function(e){return e(t)})),"click"===t.type&&(b.props.trigger.indexOf("mouseenter")<0||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:tt(t),"click"===t.type&&(p=!n),n&&!o&&et(t)}}function U(t){var e=t.target,n=T().contains(e)||x.contains(e);if("mousemove"!==t.type||!n){var o=Q().concat(x).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(t,e){var n=e.clientX,o=e.clientY;return t.every((function(t){var e=t.popperRect,r=t.popperState,i=t.props.interactiveBorder,s=Pt(r.placement),a=r.modifiersData.offset;if(!a)return!0;var c="bottom"===s?a.top.y:0,d="top"===s?a.bottom.y:0,l="right"===s?a.left.x:0,p="left"===s?a.right.x:0,u=e.top-o+c>i,f=o-e.bottom-d>i,h=e.left-n+l>i,m=n-e.right-p>i;return u||f||h||m}))})(o,t)&&(B(),et(t))}}function Y(t){G(t)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(t):et(t))}function J(t){b.props.trigger.indexOf("focusin")<0&&t.target!==T()||b.props.interactive&&t.relatedTarget&&x.contains(t.relatedTarget)||et(t)}function G(t){return!!Wt.isTouch&&S()!==t.type.indexOf("touch")>=0}function Z(){X();var e=b.props,n=e.popperOptions,o=e.placement,r=e.offset,i=e.getReferenceClientRect,s=e.moveTransition,c=C()?se(x).arrow:null,d=i?{getBoundingClientRect:i,contextElement:i.contextElement||T()}:t,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(C()){var n=D().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}},p=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},l];C()&&c&&p.push({name:"arrow",options:{element:c,padding:3}}),p.push.apply(p,(null==n?void 0:n.modifiers)||[]),b.popperInstance=bt(d,x,Object.assign({},n,{placement:o,onFirstUpdate:a,modifiers:p}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return $t(x.querySelectorAll("[data-tippy-root]"))}function tt(t){b.clearDelayTimeouts(),t&&$("onTrigger",[b,t]),V();var e=j(!0),o=E(),r=o[0],i=o[1];Wt.isTouch&&"hold"===r&&i&&(e=i),e?n=setTimeout((function(){b.show()}),e):b.show()}function et(t){if(b.clearDelayTimeouts(),$("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var e=j(!1);e?o=setTimeout((function(){b.state.isVisible&&b.hide()}),e):r=requestAnimationFrame((function(){b.hide()}))}}else z()}}function ue(t,e){void 0===e&&(e={});var n=Xt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Ut,Ot),window.addEventListener("blur",Jt);var o=Object.assign({},e,{plugins:n}),r=Rt(t).reduce((function(t,e){var n=e&&pe(e,o);return n&&t.push(n),t}),[]);return Bt(t)?r[0]:r}ue.defaultProps=Xt,ue.setDefaultProps=function(t){Object.keys(t).forEach((function(e){Xt[e]=t[e]}))},ue.currentInput=Wt;Object.assign({},et,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});ue.setDefaultProps({render:ae});const fe=ue;class he{constructor({editor:t,element:e,view:n,tippyOptions:r={},updateDelay:i=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:t,state:e,from:n,to:r})=>{const{doc:i,selection:s}=e,{empty:a}=s,c=!i.textBetween(n,r).length&&(0,o.xh)(e.selection),d=this.element.contains(document.activeElement);return!(!t.hasFocus()&&!d||a||c||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.handleDebouncedUpdate=(t,e)=>{const n=!(null==e?void 0:e.selection.eq(t.state.selection)),o=!(null==e?void 0:e.doc.eq(t.state.doc));(n||o)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout((()=>{this.updateHandler(t,n,o,e)}),this.updateDelay))},this.updateHandler=(t,e,n,r)=>{var i,s,a;const{state:c,composing:d}=t,{selection:l}=c;if(d||!e&&!n)return;this.createTooltip();const{ranges:p}=l,u=Math.min(...p.map((t=>t.$from.pos))),f=Math.max(...p.map((t=>t.$to.pos)));(null===(i=this.shouldShow)||void 0===i?void 0:i.call(this,{editor:this.editor,view:t,state:c,oldState:r,from:u,to:f}))?(null===(s=this.tippy)||void 0===s||s.setProps({getReferenceClientRect:(null===(a=this.tippyOptions)||void 0===a?void 0:a.getReferenceClientRect)||(()=>{if((0,o.EG)(c.selection)){let e=t.nodeDOM(u);const n=e.dataset.nodeViewWrapper?e:e.querySelector("[data-node-view-wrapper]");if(n&&(e=n.firstChild),e)return e.getBoundingClientRect()}return(0,o.pr)(t,u,f)})}),this.show()):this.hide()},this.editor=t,this.element=e,this.view=n,this.updateDelay=i,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=fe(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){const{state:n}=t,o=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&o)return void this.handleDebouncedUpdate(t,e);const r=!(null==e?void 0:e.selection.eq(t.state.selection)),i=!(null==e?void 0:e.doc.eq(t.state.doc));this.updateHandler(t,r,i,e)}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,e;(null===(t=this.tippy)||void 0===t?void 0:t.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const me=t=>new r.Sy({key:"string"==typeof t.pluginKey?new r.H$(t.pluginKey):t.pluginKey,view:e=>new he({view:e,...t})});o.hj.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[me({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var ge=n(66252),ve=n(2262);class ye{constructor({editor:t,element:e,view:n,tippyOptions:o={},shouldShow:r}){this.preventHide=!1,this.shouldShow=({view:t,state:e})=>{const{selection:n}=e,{$anchor:o,empty:r}=n,i=1===o.depth,s=o.parent.isTextblock&&!o.parent.type.spec.code&&!o.parent.textContent;return!!(t.hasFocus()&&r&&i&&s&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.editor=t,this.element=e,this.view=n,r&&(this.shouldShow=r),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=fe(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){var n,r,i;const{state:s}=t,{doc:a,selection:c}=s,{from:d,to:l}=c;if(e&&e.doc.eq(a)&&e.selection.eq(c))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:t,state:s,oldState:e}))?(null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:(null===(i=this.tippyOptions)||void 0===i?void 0:i.getReferenceClientRect)||(()=>(0,o.pr)(t,d,l))}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,e;(null===(t=this.tippy)||void 0===t?void 0:t.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const be=t=>new r.Sy({key:"string"==typeof t.pluginKey?new r.H$(t.pluginKey):t.pluginKey,view:e=>new ye({view:e,...t})});o.hj.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[be({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),(0,ge.aZ)({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=(0,ve.iH)(null);return(0,ge.bv)((()=>{const{updateDelay:e,editor:o,pluginKey:r,shouldShow:i,tippyOptions:s}=t;o.registerPlugin(me({updateDelay:e,editor:o,element:n.value,pluginKey:r,shouldShow:i,tippyOptions:s}))})),(0,ge.Jd)((()=>{const{pluginKey:e,editor:n}=t;n.unregisterPlugin(e)})),()=>{var t;return(0,ge.h)("div",{ref:n},null===(t=e.default)||void 0===t?void 0:t.call(e))}}});function we(t){return(0,ve.ZM)(((e,n)=>({get:()=>(e(),t),set(e){t=e,requestAnimationFrame((()=>{requestAnimationFrame((()=>{n()}))}))}})))}class xe extends o.ML{constructor(t={}){return super(t),this.vueRenderers=(0,ve.qj)(new Map),this.contentComponent=null,this.reactiveState=we(this.view.state),this.reactiveExtensionStorage=we(this.extensionStorage),this.on("transaction",(()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage})),(0,ve.Xl)(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,e){super.registerPlugin(t,e),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const ke=(0,ge.aZ)({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=(0,ve.iH)(),n=(0,ge.FN)();return(0,ge.m0)((()=>{const o=t.editor;o&&o.options.element&&e.value&&(0,ge.Y3)((()=>{if(!e.value||!o.options.element.firstChild)return;const t=(0,ve.SU)(e.value);e.value.append(...o.options.element.childNodes),o.contentComponent=n.ctx._,o.setOptions({element:t}),o.createNodeViews()}))})),(0,ge.Jd)((()=>{const e=t.editor;if(!e)return;if(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})})),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach((e=>{const n=(0,ge.h)(ge.lR,{to:e.teleportElement,key:e.id},(0,ge.h)(e.component,{ref:e.id,...e.props}));t.push(n)})),(0,ge.h)("div",{ref:t=>{this.rootEl=t}},...t)}}),Me=((0,ge.aZ)({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=(0,ve.iH)(null);return(0,ge.bv)((()=>{const{pluginKey:e,editor:o,tippyOptions:r,shouldShow:i}=t;o.registerPlugin(be({pluginKey:e,editor:o,element:n.value,tippyOptions:r,shouldShow:i}))})),(0,ge.Jd)((()=>{const{pluginKey:e,editor:n}=t;n.unregisterPlugin(e)})),()=>{var t;return(0,ge.h)("div",{ref:n},null===(t=e.default)||void 0===t?void 0:t.call(e))}}}),(0,ge.aZ)({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return(0,ge.h)(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}})),Oe=(0,ge.aZ)({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return(0,ge.h)(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t))}}),Ee=(t={})=>{const e=(0,ve.XI)();return(0,ge.bv)((()=>{e.value=new xe(t)})),(0,ge.Jd)((()=>{var t;null===(t=e.value)||void 0===t||t.destroy()})),e};class Se{constructor(t,{props:e={},editor:n}){if(this.id=Math.floor(4294967295*Math.random()).toString(),this.editor=n,this.component=(0,ve.Xl)(t),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=(0,ve.qj)(e),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),1!==this.teleportElement.children.length)throw Error("VueRenderer doesn’t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var t;return null===(t=this.editor.contentComponent)||void 0===t?void 0:t.refs[this.id]}updateProps(t={}){Object.entries(t).forEach((([t,e])=>{this.props[t]=e}))}destroy(){this.editor.vueRenderers.delete(this.id)}}const Ce={editor:{type:Object,required:!0},node:{type:Object,required:!0},decorations:{type:Object,required:!0},selected:{type:Boolean,required:!0},extension:{type:Object,required:!0},getPos:{type:Function,required:!0},updateAttributes:{type:Function,required:!0},deleteNode:{type:Function,required:!0}};class Te extends o.DK{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(t={})=>this.updateAttributes(t),deleteNode:()=>this.deleteNode()},e=this.onDragStart.bind(this);this.decorationClasses=(0,ve.iH)(this.getDecorationClasses());const n=(0,ge.aZ)({extends:{...this.component},props:Object.keys(t),template:this.component.template,setup:t=>{var n,o;return(0,ge.JJ)("onDragStart",e),(0,ge.JJ)("decorationClasses",this.decorationClasses),null===(o=(n=this.component).setup)||void 0===o?void 0:o.call(n,t,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.renderer=new Se(n,{editor:this.editor,props:t})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){if(this.node.isLeaf)return null;return this.dom.querySelector("[data-node-view-content]")||this.dom}update(t,e){const n=t=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(t)};if("function"==typeof this.options.update){const o=this.node,r=this.decorations;return this.node=t,this.decorations=e,this.options.update({oldNode:o,oldDecorations:r,newNode:t,newDecorations:e,updateProps:()=>n({node:t,decorations:e})})}return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,n({node:t,decorations:e})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map((t=>t.type.attrs.class)).flat().join(" ")}destroy(){this.renderer.destroy()}}function Ae(t,e){return n=>n.editor.contentComponent?new Te(t,n,e):{}}}}]);
</script>

</body>
</html>

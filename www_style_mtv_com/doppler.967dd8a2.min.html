<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>doppler.967dd8a2.min.html</title>
</head>
<body>

<script>
!function(){let e;function t(e){return e&&e.__esModule?e.default:e}var n,i,s,o,r,a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l=new Uint8Array(16),c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));var u=function(t,n,i){if(a.randomUUID&&!n&&!t)return a.randomUUID();let s=(t=t||{}).random||(t.rng||function(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(l)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n){i=i||0;for(let e=0;e<16;++e)n[i+e]=s[e];return n}return function(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}(s)};function d(e,t,n){let i=Math.floor(n/4294967296);e.setUint32(t,i),e.setUint32(t+4,n)}(n=i||(i={}))[n.debug=0]="debug",n[n.error=1]="error",n[n.info=2]="info",n[n.warn=3]="warn";var h={},p=h={};function m(){throw Error("setTimeout has not been defined")}function f(){throw Error("clearTimeout has not been defined")}function w(e){if(s===setTimeout)return setTimeout(e,0);if((s===m||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:m}catch(e){s=m}try{o="function"==typeof clearTimeout?clearTimeout:f}catch(e){o=f}}();var b=[],g=!1,v=-1;function _(){g&&r&&(g=!1,r.length?b=r.concat(b):v=-1,b.length&&E())}function E(){if(!g){var e=w(_);g=!0;for(var t=b.length;t;){for(r=b,b=[];++v<t;)r&&r[v].run();v=-1,t=b.length}r=null,g=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===f||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function I(){}p.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];b.push(new y(e,t)),1!==b.length||g||w(E)},y.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=I,p.addListener=I,p.once=I,p.off=I,p.removeListener=I,p.removeAllListeners=I,p.emit=I,p.prependListener=I,p.prependOnceListener=I,p.listeners=function(e){return[]},p.binding=function(e){throw Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw Error("process.chdir is not supported")},p.umask=function(){return 0};let S=(void 0===t(h)||t(h)?.env?.TEXT_ENCODING!=="never")&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function C(e){let t=e.length,n=0,i=0;for(;i<t;){let s=e.charCodeAt(i++);if((4294967168&s)==0){n++;continue}if((4294965248&s)==0)n+=2;else{if(s>=55296&&s<=56319&&i<t){let t=e.charCodeAt(i);(64512&t)==56320&&(++i,s=((1023&s)<<10)+(1023&t)+65536)}(4294901760&s)==0?n+=3:n+=4}}return n}let T=S?new TextEncoder:void 0,D=S?void 0!==t(h)&&t(h)?.env?.TEXT_ENCODING!=="force"?200:0:4294967295,R=T?.encodeInto?function(e,t,n){T.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(T.encode(e),n)};S&&new TextDecoder,S&&void 0!==t(h)&&t(h)?.env?.TEXT_DECODER;class B{constructor(e,t){this.type=e,this.data=t}}class M extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(M.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:M.name})}}let U={type:-1,encode:function(e){return e instanceof Date?function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{let n=e/4294967296,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,t<<2|3&n),s.setUint32(4,4294967295&e),i}}{let n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,t),d(i,4,e),n}}(function(e){let t=e.getTime(),n=Math.floor(t/1e3),i=(t-1e3*n)*1e6,s=Math.floor(i/1e9);return{sec:n+s,nsec:i-1e9*s}}(e)):null},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*4294967296+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:4294967296*t.getInt32(4)+t.getUint32(8),nsec:t.getUint32(0)};default:throw new M(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class x{static #e=this.defaultCodec=new x;constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(U)}register({type:e,encode:t,decode:n}){if(e>=0)this.encoders[e]=t,this.decoders[e]=n;else{let i=1+e;this.builtInEncoders[i]=t,this.builtInDecoders[i]=n}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){let i=this.builtInEncoders[n];if(null!=i){let s=i(e,t);if(null!=s)return new B(-1-n,s)}}for(let n=0;n<this.encoders.length;n++){let i=this.encoders[n];if(null!=i){let s=i(e,t);if(null!=s)return new B(n,s)}}return e instanceof B?e:null}decode(e,t,n){let i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new B(t,e)}}class A{constructor(e=x.defaultCodec,t,n=100,i=!1,s=!1,o=!1,r=!1){this.extensionCodec=e,this.context=t,this.maxDepth=n,this.sortKeys=i,this.forceFloat32=s,this.ignoreUndefined=o,this.forceIntegerToFloat=r,this.pos=0,this.view=new DataView(new ArrayBuffer(2048)),this.bytes=new Uint8Array(this.view.buffer)}reinitializeState(){this.pos=0}encodeSharedRef(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}encode(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),n=new Uint8Array(t),i=new DataView(t);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){if(e.length>D){let t=C(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),R(e,this.bytes,this.pos),this.pos+=t}else{let t=C(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){let i=e.length,s=n,o=0;for(;o<i;){let n=e.charCodeAt(o++);if((4294967168&n)==0){t[s++]=n;continue}if((4294965248&n)==0)t[s++]=n>>6&31|192;else{if(n>=55296&&n<=56319&&o<i){let t=e.charCodeAt(o);(64512&t)==56320&&(++o,n=((1023&n)<<10)+(1023&t)+65536)}(4294901760&n)==0?t[s++]=n>>12&15|224:(t[s++]=n>>18&7|240,t[s++]=n>>12&63|128),t[s++]=n>>6&63|128}t[s++]=63&n|128}}(e,this.bytes,this.pos),this.pos+=t}}encodeObject(e,t){let n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let n=e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e);this.writeU8a(n)}encodeArray(e,t){let n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw Error(`Too large array: ${n}`);for(let n of e)this.doEncode(n,t+1)}countWithoutUndefined(e,t){let n=0;for(let i of t)void 0!==e[i]&&n++;return n}encodeMap(e,t){let n=Object.keys(e);this.sortKeys&&n.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw Error(`Too large map object: ${i}`);for(let i of n){let n=e[i];this.ignoreUndefined&&void 0===n||(this.encodeString(i),this.doEncode(n,t+1))}}encodeExtension(e){let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){var t,n;this.ensureBufferSizeToWrite(8),t=this.view,n=this.pos,t.setUint32(n,e/4294967296),t.setUint32(n+4,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),d(this.view,this.pos,e),this.pos+=8}}let O={};function k(e,t=O){return new A(t.extensionCodec,t.context,t.maxDepth,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}let N=e=>{let t=parseInt(e.lastReadSessConfHeaderAsn||"",10);return[e.lastReadSessConfHeaderContinent||null,e.lastReadSessConfHeaderCountry||null,e.lastReadSessConfHeaderState||null,isNaN(t)?null:t]},j=e=>[e.dopplerPlatformID,e.testObjectSize],z=(e,t)=>new L(e,t);class L{constructor(e,t){this._applicationEventsBase=t.applicationLoggingEndpoint||e.application_events_base,this._dopplerEndpoints={dopplerResourceTimingEndpoint:t.dopplerBeaconEndpoint||e.doppler.resource_timing},this._pulsarEndpointBase=e.pulsar}get applicationEventsBase(){return this._applicationEventsBase}get dopplerEndpoints(){return this._dopplerEndpoints}get pulsarEndpointBase(){return this._pulsarEndpointBase}}let P=(e,t)=>new V(e,t);class V{constructor(e,t){this._applicationEventsBeaconIntervalInMilliseconds=$(e.a,t.applicationEventsBeaconInterval),this._dnsClientInfoBaseHostname=e.dcibh,this._dnsClientInfoSamplePercentage=e.dcisp,this._maxInitialTestObjects=e.m,this._measurementStartDelay=e.st,this._sessionRefreshIntervalInMilliseconds=$(e.c,t.sessionRefreshInterval),this._schedulerRunIntervalInMilliseconds=$(e.sc,t.schedulerRunInterval),this._networksDisallowed=e.n||[]}get networksDisallowed(){return this._networksDisallowed}get dnsClientInfoBaseHostname(){return this._dnsClientInfoBaseHostname}get dnsClientInfoSamplePercentage(){return this._dnsClientInfoSamplePercentage}get applicationEventsBeaconIntervalInMilliseconds(){return this._applicationEventsBeaconIntervalInMilliseconds}get maxInitialTestObjects(){return this._maxInitialTestObjects}get measurementStartDelay(){return this._measurementStartDelay}get sessionRefreshIntervalInMilliseconds(){return this._sessionRefreshIntervalInMilliseconds}get schedulerRunIntervalInMilliseconds(){return this._schedulerRunIntervalInMilliseconds}}function $(e,t){return 1e3*("number"==typeof t?t:e)}let F=(e,t)=>new q(e,t);class q{constructor(e,t){let n=e.s;this._siteOwnerSettings=P(n,t),this._clientEndpoints=z({application_events_base:null,doppler:{resource_timing:"https://doppler-beacon.cbsivideo.com/log"},pulsar:"https://b.ns1p.net?v=1583182801"},t)}get siteOwnerSettings(){return this._siteOwnerSettings}get beaconEndpointInfo(){return this._clientEndpoints}}function H(e){return e.map(e=>()=>e.execute()).reduce((e,t)=>e.then(e=>t().then(t=>[...e,t]).catch(()=>Promise.resolve(e))),Promise.resolve([])).then(e=>({testResults:e}))}var W=(e,t)=>{let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,s=()=>n.charAt(Math.floor(t(20)*i));return Array(e).fill(null).reduce(e=>e+s(),"")};class G extends Error{constructor(e,t){super(`Callback not consumed (being added: ${e}, still registered: ${t})`),Object.setPrototypeOf(this,new.target.prototype)}}class X extends Error{constructor(e,t,n){super(`Failed to find an entry for ${e} after ${t} milliseconds (max wait ${n})`),Object.setPrototypeOf(this,new.target.prototype)}}class J{constructor(e,t,n,i){this._url=e,this._newDate=t,this._setTimeout=n,i.registerCallback(e,e=>{this._entry=e})}async awaitEntry(){let e;if(this._entry)return this._entry;let t=this._newDate().getTime(),n=2e3;do{let i=await Promise.all([new Promise(e=>{e(this._entry)}),new Promise(e=>{this._setTimeout(e,100)})]);if(i[0]){e=i[0];break}n=this._newDate().getTime()-t}while(!e&&n<2e3)if(e)return e;throw new X(this._url,n,2e3)}}async function K(e,t,n,i,s,o,r,a,l){try{let l=new J(t,e.newDate,e.setTimeout,e.performanceEntryManager),c=await s(),u=await Z(e,t,n,i,c);if(u){let e=await l.awaitEntry();e&&(c.entry=e,await o(c,u))}await r(c),a(c)}catch(e){l(e)}e.performanceEntryManager.unregisterCallback(t)}async function Z(e,t,n,i,s){let o=e.newAbortController(),r=e.setTimeout(()=>{s.timeout=!0,o.abort()},n),a={method:"GET",keepalive:!1,signal:o.signal};i&&(a.headers={...i});try{let n=await e.fetch(t,a);return s.status=n.status,await n.blob(),e.clearTimeout(r),n}catch(e){s.error=e}}let Y=(e,t,n)=>`onError ${e} (${n.toISOString()}): ${t}`,Q=(e,t)=>`Max target frequency changed by beacon response from ${e} to ${t}`;function ee(e,t,n){let s,o=t.testObjectURL;if(t.addRandomSubdomainToken){let t=W(20,e.newRandomNumber).toLowerCase();o=(o=decodeURI(o)).replace("${token}",t)}let r=function(e,t){let n=`rnd=${W(20,t)}`;return`${e}?${n}`}(o,e.newRandomNumber);return{execute:()=>K({clearTimeout:t=>e.callClearTimeout(13,t),fetch:e.callFetch,newAbortController:e.newAbortController,newDate:()=>e.newDate(13),performanceEntryManager:e.performanceEntryManager,setTimeout:(t,n)=>e.callSetTimeout(13,t,n)},r,t.testObjectTimeout,null,()=>e.runtimeValues.measurementsEnabled?(e.applicationEvents.recordBeforeTestObjectDownloadEvent(e.newEpochTimestamp(16),e.runtimeValues,t),s=e.newMonotonicTimestamp(16),Promise.resolve({testSetupResult:{calledAt:e.newDate(16)},timeout:!1})):Promise.reject(Error("beforeTest: Measurement blocked (measurements disabled)")),(n,i)=>{if(e.applicationEvents.recordAfterTestObjectDownloadEvent(e.newDate(15).getTime(),e.runtimeValues,t,Math.floor(e.newMonotonicTimestamp(15)-s)),t.cdnResponseHeader){let e=i.headers.get(t.cdnResponseHeader);e&&(n.cdnResponseHeaderValue=e)}return Promise.resolve()},async o=>{try{await function(s){let o=e.newMonotonicTimestamp(18);e.applicationEvents.recordBeforeMeasurementBeaconEvent(e.newEpochTimestamp(18),e.runtimeValues);let a=function(e,t,n,i,s){let{lastReadSessConfHeaderContinent:o,lastReadSessConfHeaderCountry:r,lastReadSessConfHeaderAsn:a,resolverIP:l,sessionStartTimestamp:c,sessionUUID:u}=s;if(!c)throw Error("Session start timestamp not set");if(!u)throw Error("Session UUID not set");if(!o)throw Error("Last read continent header missing");if(!r)throw Error("Last read country header missing");if(!a)throw Error("Last read ASN header missing");if(!n.error&&!n.entry)throw Error("Resource Timing entry missing");let d={c:{v:i.clientVersion.join(".")},s:{s:c.getTime(),i:u,h:{con:o,cou:r,a:a},u:{c:"web",d:{},o:{},b:{}}},met:{},mea:{i:t.dopplerPlatformID,s:n.testSetupResult.calledAt.getTime(),u:e,r:n.error?n.timeout?"timeout-abort":"unknown-error":"success",o:{s:t.testObjectSize,m:t.testObjectTimeout}}};n.cdnResponseHeaderValue&&(d.mea.c=n.cdnResponseHeaderValue),"number"==typeof n.status&&(d.mea.st=n.status);let h=i.browserMeta,p=h.device;p.type&&(d.s.u.d.t=p.type),p.vendor&&(d.s.u.d.v=p.vendor),p.model&&(d.s.u.d.m=p.model);let m=h.os;m.name&&(d.s.u.o.n=m.name),m.version&&(d.s.u.o.v=m.version);let f=h.browser;if(f.name&&(d.s.u.b.n=f.name),f.version&&(d.s.u.b.v=f.version),t.hdxEnabled!==t.hdxEnabledDefault&&(d.met.hdx=t.hdxEnabled),n.entry){let e=n.entry,t=e=>Math.floor(e);d.mea.re={c:{e:t(e.connectEnd),s:t(e.connectStart),se:t(e.secureConnectionStart)},do:{e:t(e.domainLookupEnd),s:t(e.domainLookupStart)},du:t(e.duration),f:t(e.fetchStart),i:e.initiatorType,n:e.nextHopProtocol,red:{e:t(e.redirectEnd),s:t(e.redirectStart)},req:t(e.requestStart),res:{e:t(e.responseEnd),s:t(e.responseStart)},si:{},st:t(e.startTime)},"number"==typeof e.decodedBodySize&&(d.mea.re.si.d=e.decodedBodySize),"number"==typeof e.encodedBodySize&&(d.mea.re.si.e=e.encodedBodySize),"number"==typeof e.transferSize&&(d.mea.re.si.t=e.transferSize)}return l&&(d.s.r=l),d}(r,t,s,n,e.runtimeValues),l={method:"POST",keepalive:!0,headers:new Headers({"doppler-payload-version":"1.0.0","content-type":"application/json"}),body:k(a)};return e.callFetch(t.endpointDoppler,l).then(e=>e.json()).then(t=>{e.applicationEvents.recordAfterMeasurementBeaconEvent(e.newEpochTimestamp(18),e.runtimeValues,Math.floor(e.newMonotonicTimestamp(18)-o));let n=t.g.con,s=t.g.cou,r=t.g.s,a=t.g.a;if(n&&(e.runtimeValues.lastReadBeaconContinent=n),s&&(e.runtimeValues.lastReadBeaconCountry=s),r&&(e.runtimeValues.lastReadBeaconState=r),a&&(e.runtimeValues.lastReadBeaconAsn=a,e.runtimeValues.updateMeasurementsEnabledForNetwork(a)),"number"==typeof t.m&&t.m>0&&e.maxTargetFrequency.value!=t.m){let n,s;e.outputToConsole(i.debug,(n=e.maxTargetFrequency.value,s=t.m,()=>Q(n,s))),e.maxTargetFrequency.value=t.m,e.measurementScheduler.reschedule()}else("number"!=typeof t.m||t.m<=0)&&0!=e.maxTargetFrequency.value&&(e.outputToConsole(i.debug,()=>Q(e.maxTargetFrequency.value,0)),e.maxTargetFrequency.value=0,e.measurementScheduler.reschedule())}).catch(t=>{t instanceof Error&&e.applicationEvents.recordMeasurementBeaconErrorEvent(e.newEpochTimestamp(18),e.runtimeValues,t.message)})}(o),function(n){if(t.includePulsar){if(n.error||200!==n.status){let t=Math.floor(e.newMonotonicTimestamp(19)-s);e.callSendBeacon(19,i(650,t))}else{let t=n.entry;e.callSendBeacon(19,i(n.status,Math.floor(t.responseEnd-t.requestStart)))}}function i(n,i){let s=Math.floor(4294967296*e.newRandomNumber(19));return`${t.endpointPulsarBase}&a=${t.pulsarAppID}&x=${s}&r=${t.pulsarJobID}:x|${n}|${i}`}}(o)}catch(e){}},n=>(e.measurementScheduler.scheduleNextMeasurement(t),e.measurementScheduler.outputDiagnosticMessage(),Promise.resolve(n)),n=>{e.outputToConsole(i.debug,()=>Y(t.dopplerPlatformID,n,e.newDate(17))),n instanceof G?e.measurementScheduler.scheduleNextMeasurementSoon(t):n instanceof X&&(e.performanceEntryAwaitTimeouts.add(1),e.performanceEntryAwaitTimeouts.countOfEvents>5&&(e.callClearResourceTimings(),e.performanceEntryAwaitTimeouts.reset()),e.measurementScheduler.scheduleNextMeasurementSoon(t))})}}let et=(e,t,n)=>new en(e,t,n);class en{constructor(e,t,n){let i=e.a,s=e.i,o=e.u,r=e.s,a=e.t,l=e.pa,c=e.pj,u=e.f,d=e.d,h=e.p&&!!l&&!!c,p=e.us;this._addRandomSubdomainToken=i,this._cdnResponseHeader="x-cdn",this._dopplerPlatformID=s,l&&(this._pulsarAppID=l),c&&(this._pulsarJobID=c),this._endpointDoppler=t,this._endpointPulsarBase=n,this._hdxEnabled=p,this._hdxEnabledDefault=!0,this._includePulsar=h,this._includeDoppler=d,this._targetFrequency=u,this._testObjectURL=o,this._testObjectSize=r,this._testObjectTimeout=1e3*a}get addRandomSubdomainToken(){return this._addRandomSubdomainToken}get cdnResponseHeader(){return this._cdnResponseHeader}get dopplerPlatformID(){return this._dopplerPlatformID}get endpointDoppler(){return this._endpointDoppler}get endpointPulsarBase(){return this._endpointPulsarBase}get hdxEnabled(){return this._hdxEnabled}get hdxEnabledDefault(){return this._hdxEnabledDefault}get includePulsar(){return this._includePulsar}get pulsarAppID(){return this._pulsarAppID}get pulsarJobID(){return this._pulsarJobID}get targetFrequency(){return this._targetFrequency}get testObjectSize(){switch(this._testObjectSize){case 1555e3:return 1555;case 43:return 43}return Math.floor(this._testObjectSize/1e3)}get testObjectTimeout(){return this._testObjectTimeout}get testObjectURL(){return this._testObjectURL}}let ei=(e,t,n)=>{let i=e=>et(e,t,n);return e.map(e=>i(e))},es=(e,t,n,i,s)=>{let o=ei(i,s.beaconEndpointInfo.dopplerEndpoints.dopplerResourceTimingEndpoint,s.beaconEndpointInfo.pulsarEndpointBase),r=function(e,t,n,i,s){let o=e.flatMap(e=>Array(Math.min(i(e),60)).fill(e)),r=[],a=t;for(;a--&&o.length;){let e=o[Math.floor(n(27)*o.length)];r.push(e),o.reduceRight((t,n,i)=>(n===e&&t.splice(i,1),t),o)}return r}(o,s.siteOwnerSettings.maxInitialTestObjects,e.newRandomNumber,e=>Math.ceil(e.targetFrequency),0);return e.measurementScheduler.initializePopulation(o,t,r),r.map(n=>ee({applicationEvents:e.applicationEvents,callClearTimeout:e.callClearTimeout,callSendBeacon:e.callSendBeacon,callSetTimeout:e.callSetTimeout,callClearResourceTimings:e.callClearResourceTimings,callFetch:e.callFetch,maxTargetFrequency:e.maxTargetFrequency,measurementScheduler:e.measurementScheduler,newAbortController:e.newAbortController,newDate:e.newDate,newEpochTimestamp:e.newEpochTimestamp,newMonotonicTimestamp:e.newMonotonicTimestamp,newRandomNumber:e.newRandomNumber,outputToConsole:e.outputToConsole,performanceEntryAwaitTimeouts:e.performanceEntryAwaitTimeouts,performanceEntryManager:e.performanceEntryManager,runtimeValues:e.runtimeValues},n,t))},eo=(e,t,n,i,s)=>e.updatePopulation(ei(n,i,s),t),er=e=>`Application event logging endpoint: ${e}`,ea=(e,t)=>{let n=t.pageSettings;em(e,t,function(s,o,r,a){let l=F(a,n);if(e.runtimeValues.sessionConfigLastUpdatedAt=e.newDate(5),e.applicationEvents.applicationEventLoggingEndpointBase=l.beaconEndpointInfo.applicationEventsBase,e.outputToConsole(i.debug,()=>er(e.applicationEvents.applicationEventLoggingEndpointBase)),e.runtimeValues.disallowedNetworks=l.siteOwnerSettings.networksDisallowed,e.runtimeValues.updateMeasurementsEnabledForNetwork(s),e.runtimeValues.measurementsEnabled){let t="number"==typeof n.measurementStartDelay?n.measurementStartDelay:l.siteOwnerSettings.measurementStartDelay;e.callSetTimeout(5,()=>{var t,n,i;(t=e.getDocumentReadyState,n=e.addDocumentReadyStateChangeListener,i=[{fetchSessionConfiguration:()=>Promise.resolve(l),produceExecutables:c}],("complete"===t()?Promise.resolve():new Promise(e=>{n(()=>{"complete"===t()&&e()})})).then(()=>Promise.allSettled(i.map(e=>e.fetchSessionConfiguration())).then(e=>{let t=[];return e.forEach((e,n)=>{"fulfilled"===e.status&&"value"in e&&t.push(...i[n].produceExecutables(e.value))}),H(t)}))).then(()=>e.callSetTimeout(4,()=>e.applicationEvents.beacon(),1e3))},1e3*t)}else e.outputToConsole(i.info,()=>"Doppler measurements disabled (initial session config)");return l;function c(i){return es({applicationEvents:e.applicationEvents,callClearTimeout:e.callClearTimeout,callSendBeacon:e.callSendBeacon,callSetTimeout:e.callSetTimeout,callClearResourceTimings:e.callClearResourceTimings,callFetch:e.callFetch,maxTargetFrequency:e.maxTargetFrequency,measurementScheduler:e.measurementScheduler,newAbortController:e.newAbortController,newDate:e.newDate,newEpochTimestamp:e.newEpochTimestamp,newMonotonicTimestamp:e.newMonotonicTimestamp,newRandomNumber:e.newRandomNumber,outputToConsole:e.outputToConsole,performanceEntryAwaitTimeouts:e.performanceEntryAwaitTimeouts,performanceEntryManager:e.performanceEntryManager,runtimeValues:e.runtimeValues},t.sessionMetadata,n,a.o,i)}}).then(n=>{if(n){let s=e.runtimeValues;(function e(t,n,s,o){let r=s.siteOwnerSettings.sessionRefreshIntervalInMilliseconds;isNaN(r)||(t.outputToConsole(i.debug,()=>eu(r)),n.sessionRefreshDelayInMilliseconds=r,n.sessionConfigRefreshIntervalID=t.callSetInterval(8,()=>em(t,o,(e,n,s,r)=>{let a=F(r,o.pageSettings);return t.runtimeValues.sessionConfigLastUpdatedAt=t.newDate(9),t.runtimeValues.disallowedNetworks=a.siteOwnerSettings.networksDisallowed,t.runtimeValues.updateMeasurementsEnabledForNetwork(e),t.runtimeValues.measurementsEnabled||t.outputToConsole(i.info,()=>"Doppler measurements disabled (subsequent session config)"),eo(t.measurementScheduler,o.sessionMetadata,r.o,a.beaconEndpointInfo.dopplerEndpoints.dopplerResourceTimingEndpoint,a.beaconEndpointInfo.pulsarEndpointBase),a}).then(n=>{if(n){let s=t.runtimeValues;if(n.beaconEndpointInfo.applicationEventsBase!==t.applicationEvents.applicationEventLoggingEndpointBase&&(t.outputToConsole(i.info,()=>ef(t.applicationEvents.applicationEventLoggingEndpointBase,n.beaconEndpointInfo.applicationEventsBase)),t.applicationEvents.applicationEventLoggingEndpointBase=n.beaconEndpointInfo.applicationEventsBase),n.siteOwnerSettings.applicationEventsBeaconIntervalInMilliseconds!==s.applicationEventsBeaconIntervalInMilliseconds){t.outputToConsole(i.debug,()=>ew(s.applicationEventsBeaconIntervalInMilliseconds,n.siteOwnerSettings.applicationEventsBeaconIntervalInMilliseconds));let e=s.applicationEventsBeaconIntervalID;"number"==typeof e&&t.callClearInterval(6,e),ec(t,s,n)}if(n.siteOwnerSettings.sessionRefreshIntervalInMilliseconds!==s.sessionRefreshDelayInMilliseconds){t.outputToConsole(i.debug,()=>eb(s.sessionRefreshDelayInMilliseconds,n.siteOwnerSettings.sessionRefreshIntervalInMilliseconds));let r=s.sessionConfigRefreshIntervalID;"number"==typeof r&&t.callClearInterval(8,r),e(t,s,n,o)}if(n.siteOwnerSettings.schedulerRunIntervalInMilliseconds!==s.schedulerRunIntervalInMilliseconds){t.outputToConsole(i.debug,()=>eg(s.schedulerRunIntervalInMilliseconds,n.siteOwnerSettings.schedulerRunIntervalInMilliseconds));let e=s.schedulerRunIntervalID;"number"==typeof e&&t.callClearInterval(7,e),eh(t,s,n)}}}),r))})(e,s,n,t),ec(e,s,n),eh(e,s,n)}})},el=e=>`Application events beacon interval ${e} ms`;function ec(e,t,n){let s=n.siteOwnerSettings.applicationEventsBeaconIntervalInMilliseconds;isNaN(s)||(0<s?(e.outputToConsole(i.debug,()=>el(s)),t.applicationEventsBeaconIntervalInMilliseconds=s,t.applicationEventsBeaconIntervalID=e.callSetInterval(6,()=>e.applicationEvents.beacon(),s)):t.applicationEventsBeaconIntervalInMilliseconds=0)}let eu=e=>`Session refresh interval ${e} ms`,ed=e=>`Scheduler run interval ${e} ms`;function eh(e,t,n){let s=n.siteOwnerSettings.schedulerRunIntervalInMilliseconds;isNaN(s)||(e.outputToConsole(i.debug,()=>ed(s)),t.schedulerRunIntervalInMilliseconds=s,t.schedulerRunIntervalID=e.callSetInterval(7,()=>e.measurementScheduler.run(),s))}let ep=e=>`Downloading new session configuration (${e(2)})`;function em(e,t,n){e.outputToConsole(i.info,()=>ep(e.newDate));let s=e.newMonotonicTimestamp(1),o=e.applicationEvents.recordBeforeSessionConfigDownloadEvent(e.newEpochTimestamp(1),e.runtimeValues);return e.runtimeValues.sessionStartTimestamp=e.newDate(1),e.runtimeValues.sessionUUID=e.newUUIDv4(),e.runtimeValues.resolverIP=void 0,e.callFetch(t.sessionConfigURL).then(e=>e.json()).then(t=>(function(e,t){let n=e.runtimeValues.sessionUUID;if(!n)return Promise.reject("Session UUID not set");let i=t.s.dcibh,s=t.s.dcisp,o=`https://${n}.${i}/clientinfo`;return e.newRandomNumber(10)<s?e.callFetch(o,{signal:e.callAbortSignalTimeout(10,5e3)}).then(e=>e.json()).then(n=>{let i=n.resolver_ip;return e.runtimeValues.resolverIP=i,t}).catch(e=>t):Promise.resolve(t)})(e,t)).then(i=>{let r=i.g.a,a=i.g.con,l=i.g.c,c=i.g.s;e.runtimeValues.lastReadSessConfHeaderContinent=a,e.runtimeValues.lastReadSessConfHeaderCountry=l,e.runtimeValues.lastReadSessConfHeaderState=c,e.runtimeValues.lastReadSessConfHeaderAsn=r.toString(10),e.applicationEvents.recordAfterSessionConfigDownloadEvent(e.newEpochTimestamp(1),e.runtimeValues,Math.floor(e.newMonotonicTimestamp(1)-s));let u=N(e.runtimeValues);return o.splice(1,4,...u),t.clientInitializationEvent.splice(1,4,...u),n(r,a,l,i)}).catch(t=>{t instanceof Error&&e.applicationEvents.recordSessionConfigDownloadErrorEvent(e.newEpochTimestamp(1),e.runtimeValues,t.message),e.applicationEvents.beacon()})}let ef=(e,t)=>`Application event logging endpoint changed from ${e} to ${t}`,ew=(e,t)=>`Application events beacon interval changed from ${e} to ${t} milliseconds`,eb=(e,t)=>`Session refresh interval changed from ${e} to ${t} milliseconds`,eg=(e,t)=>`Scheduler run interval changed from ${e} to ${t} milliseconds`;var ev="4.3.0";let e_=(e,t)=>`Measuring ${e} after ${t}`,eE=(e,t,n)=>{let i=e=>`${e.testObjectConfig.dopplerPlatformID} (${e.testObjectConfig.testObjectSize})`,s=[`Measurements due at ${n}:`];return s.push(...e.map(e=>i(e))),s.push("\nMeasurements to queue:"),s.push(...t.map(e=>i(e))),s.join("\n")},ey=(e,t,n)=>`Difference detected in target frequency for ${e} (from: ${t}; to: ${n})`,eI=(e,t)=>e.reduce((e,t)=>{let n=t.scheduledMeasurementInfo,i=t.testObjectConfig.dopplerPlatformID;return e.push(n?`${i} will be measured after ${n.measureAfter}`:`${i} currently unscheduled`),e},[`Measurement Scheduler Diagnostics as of ${t}`]).join("\n"),eS=e=>`Skipping measurement for ${e} (measurements disabled)`,eC=(e,t)=>`Session configuration staleness check (age: ${e}, max age: ${t})`;function eT(e,t){return e.dopplerPlatformID===t.dopplerPlatformID&&e.testObjectSize===t.testObjectSize}var eD="function",eR="undefined",eB="object",eM="string",eU="major",ex="model",eA="name",eO="type",ek="vendor",eN="version",ej="architecture",ez="console",eL="mobile",eP="tablet",eV="smarttv",e$="wearable",eF="embedded",eq="Amazon",eH="Apple",eW="ASUS",eG="BlackBerry",eX="Browser",eJ="Chrome",eK="Firefox",eZ="Google",eY="Huawei",eQ="Microsoft",e1="Motorola",e0="Opera",e2="Samsung",e6="Sharp",e3="Sony",e4="Xiaomi",e8="Zebra",e9="Facebook",e5="Chromium OS",e7="Mac OS",te=function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},tt=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},tn=function(e,t){return typeof e===eM&&-1!==ti(t).indexOf(ti(e))},ti=function(e){return e.toLowerCase()},ts=function(e,t){if(typeof e===eM)return e=e.replace(/^\s\s*/,""),typeof t===eR?e:e.substring(0,350)},to=function(e,t){for(var n,i,s,o,r,a,l=0;l<t.length&&!r;){var c=t[l],u=t[l+1];for(n=i=0;n<c.length&&!r&&c[n];)if(r=c[n++].exec(e))for(s=0;s<u.length;s++)a=r[++i],typeof(o=u[s])===eB&&o.length>0?2===o.length?typeof o[1]==eD?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3===o.length?typeof o[1]!==eD||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4===o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;l+=2}},tr=function(e,t){for(var n in t)if(typeof t[n]===eB&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(tn(t[n][i],e))return"?"===n?void 0:n}else if(tn(t[n],e))return"?"===n?void 0:n;return e},ta={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},tl={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[eN,[eA,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[eN,[eA,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[eA,eN],[/opios[\/ ]+([\w\.]+)/i],[eN,[eA,e0+" Mini"]],[/\bopr\/([\w\.]+)/i],[eN,[eA,e0]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[eA,eN],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[eN,[eA,"UC"+eX]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[eN,[eA,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[eN,[eA,"WeChat"]],[/konqueror\/([\w\.]+)/i],[eN,[eA,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[eN,[eA,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[eN,[eA,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[eA,/(.+)/,"$1 Secure "+eX],eN],[/\bfocus\/([\w\.]+)/i],[eN,[eA,eK+" Focus"]],[/\bopt\/([\w\.]+)/i],[eN,[eA,e0+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[eN,[eA,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[eN,[eA,"Dolphin"]],[/coast\/([\w\.]+)/i],[eN,[eA,e0+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[eN,[eA,"MIUI "+eX]],[/fxios\/([-\w\.]+)/i],[eN,[eA,eK]],[/\bqihu|(qi?ho?o?|360)browser/i],[[eA,"360 "+eX]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[eA,/(.+)/,"$1 "+eX],eN],[/(comodo_dragon)\/([\w\.]+)/i],[[eA,/_/g," "],eN],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[eA,eN],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[eA],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[eA,e9],eN],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[eA,eN],[/\bgsa\/([\w\.]+) .*safari\//i],[eN,[eA,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[eN,[eA,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[eN,[eA,eJ+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[eA,eJ+" WebView"],eN],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[eN,[eA,"Android "+eX]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[eA,eN],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[eN,[eA,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[eN,eA],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[eA,[eN,tr,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[eA,eN],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[eA,"Netscape"],eN],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[eN,[eA,eK+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[eA,eN],[/(cobalt)\/([\w\.]+)/i],[eA,[eN,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[ej,"amd64"]],[/(ia32(?=;))/i],[[ej,ti]],[/((?:i[346]|x)86)[;\)]/i],[[ej,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[ej,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[ej,"armhf"]],[/windows (ce|mobile); ppc;/i],[[ej,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[ej,/ower/,"",ti]],[/(sun4\w)[;\)]/i],[[ej,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[ej,ti]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ex,[ek,e2],[eO,eP]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[ex,[ek,e2],[eO,eL]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[ex,[ek,eH],[eO,eL]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[ex,[ek,eH],[eO,eP]],[/(macintosh);/i],[ex,[ek,eH]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ex,[ek,e6],[eO,eL]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[ex,[ek,eY],[eO,eP]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[ex,[ek,eY],[eO,eL]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[ex,/_/g," "],[ek,e4],[eO,eL]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[ex,/_/g," "],[ek,e4],[eO,eP]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ex,[ek,"OPPO"],[eO,eL]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ex,[ek,"Vivo"],[eO,eL]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[ex,[ek,"Realme"],[eO,eL]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[ex,[ek,e1],[eO,eL]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ex,[ek,e1],[eO,eP]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ex,[ek,"LG"],[eO,eP]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[ex,[ek,"LG"],[eO,eL]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[ex,[ek,"Lenovo"],[eO,eP]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[ex,/_/g," "],[ek,"Nokia"],[eO,eL]],[/(pixel c)\b/i],[ex,[ek,eZ],[eO,eP]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[ex,[ek,eZ],[eO,eL]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ex,[ek,e3],[eO,eL]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ex,"Xperia Tablet"],[ek,e3],[eO,eP]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ex,[ek,"OnePlus"],[eO,eL]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ex,[ek,eq],[eO,eP]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ex,/(.+)/g,"Fire Phone $1"],[ek,eq],[eO,eL]],[/(playbook);[-\w\),; ]+(rim)/i],[ex,ek,[eO,eP]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[ex,[ek,eG],[eO,eL]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ex,[ek,eW],[eO,eP]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ex,[ek,eW],[eO,eL]],[/(nexus 9)/i],[ex,[ek,"HTC"],[eO,eP]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[ek,[ex,/_/g," "],[eO,eL]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ex,[ek,"Acer"],[eO,eP]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ex,[ek,"Meizu"],[eO,eL]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[ek,ex,[eO,eL]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[ek,ex,[eO,eP]],[/(surface duo)/i],[ex,[ek,eQ],[eO,eP]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ex,[ek,"Fairphone"],[eO,eL]],[/(u304aa)/i],[ex,[ek,"AT&T"],[eO,eL]],[/\bsie-(\w*)/i],[ex,[ek,"Siemens"],[eO,eL]],[/\b(rct\w+) b/i],[ex,[ek,"RCA"],[eO,eP]],[/\b(venue[\d ]{2,7}) b/i],[ex,[ek,"Dell"],[eO,eP]],[/\b(q(?:mv|ta)\w+) b/i],[ex,[ek,"Verizon"],[eO,eP]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[ex,[ek,"Barnes & Noble"],[eO,eP]],[/\b(tm\d{3}\w+) b/i],[ex,[ek,"NuVision"],[eO,eP]],[/\b(k88) b/i],[ex,[ek,"ZTE"],[eO,eP]],[/\b(nx\d{3}j) b/i],[ex,[ek,"ZTE"],[eO,eL]],[/\b(gen\d{3}) b.+49h/i],[ex,[ek,"Swiss"],[eO,eL]],[/\b(zur\d{3}) b/i],[ex,[ek,"Swiss"],[eO,eP]],[/\b((zeki)?tb.*\b) b/i],[ex,[ek,"Zeki"],[eO,eP]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[ek,"Dragon Touch"],ex,[eO,eP]],[/\b(ns-?\w{0,9}) b/i],[ex,[ek,"Insignia"],[eO,eP]],[/\b((nxa|next)-?\w{0,9}) b/i],[ex,[ek,"NextBook"],[eO,eP]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[ek,"Voice"],ex,[eO,eL]],[/\b(lvtel\-)?(v1[12]) b/i],[[ek,"LvTel"],ex,[eO,eL]],[/\b(ph-1) /i],[ex,[ek,"Essential"],[eO,eL]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[ex,[ek,"Envizen"],[eO,eP]],[/\b(trio[-\w\. ]+) b/i],[ex,[ek,"MachSpeed"],[eO,eP]],[/\btu_(1491) b/i],[ex,[ek,"Rotor"],[eO,eP]],[/(shield[\w ]+) b/i],[ex,[ek,"Nvidia"],[eO,eP]],[/(sprint) (\w+)/i],[ek,ex,[eO,eL]],[/(kin\.[onetw]{3})/i],[[ex,/\./g," "],[ek,eQ],[eO,eL]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ex,[ek,e8],[eO,eP]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ex,[ek,e8],[eO,eL]],[/smart-tv.+(samsung)/i],[ek,[eO,eV]],[/hbbtv.+maple;(\d+)/i],[[ex,/^/,"SmartTV"],[ek,e2],[eO,eV]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[ek,"LG"],[eO,eV]],[/(apple) ?tv/i],[ek,[ex,eH+" TV"],[eO,eV]],[/crkey/i],[[ex,eJ+"cast"],[ek,eZ],[eO,eV]],[/droid.+aft(\w)( bui|\))/i],[ex,[ek,eq],[eO,eV]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[ex,[ek,e6],[eO,eV]],[/(bravia[\w ]+)( bui|\))/i],[ex,[ek,e3],[eO,eV]],[/(mitv-\w{5}) bui/i],[ex,[ek,e4],[eO,eV]],[/Hbbtv.*(technisat) (.*);/i],[ek,ex,[eO,eV]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[ek,ts],[ex,ts],[eO,eV]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[eO,eV]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[ek,ex,[eO,ez]],[/droid.+; (shield) bui/i],[ex,[ek,"Nvidia"],[eO,ez]],[/(playstation [345portablevi]+)/i],[ex,[ek,e3],[eO,ez]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ex,[ek,eQ],[eO,ez]],[/((pebble))app/i],[ek,ex,[eO,e$]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[ex,[ek,eH],[eO,e$]],[/droid.+; (glass) \d/i],[ex,[ek,eZ],[eO,e$]],[/droid.+; (wt63?0{2,3})\)/i],[ex,[ek,e8],[eO,e$]],[/(quest( 2| pro)?)/i],[ex,[ek,e9],[eO,e$]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[ek,[eO,eF]],[/(aeobc)\b/i],[ex,[ek,eq],[eO,eF]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[ex,[eO,eL]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[ex,[eO,eP]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[eO,eP]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[eO,eL]],[/(android[-\w\. ]{0,9});.+buil/i],[ex,[ek,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[eN,[eA,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[eN,[eA,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[eA,eN],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[eN,eA]],os:[[/microsoft (windows) (vista|xp)/i],[eA,eN],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[eA,[eN,tr,ta]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[eA,"Windows"],[eN,tr,ta]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[eN,/_/g,"."],[eA,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[eA,e7],[eN,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[eN,eA],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[eA,eN],[/\(bb(10);/i],[eN,[eA,eG]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[eN,[eA,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[eN,[eA,eK+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[eN,[eA,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[eN,[eA,"watchOS"]],[/crkey\/([\d\.]+)/i],[eN,[eA,eJ+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[eA,e5],eN],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[eA,eN],[/(sunos) ?([\w\.\d]*)/i],[[eA,"Solaris"],eN],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[eA,eN]]};function tc(e,t){if(typeof e===eB&&(t=e,e=void 0),!(this instanceof tc))return new tc(e,t).getResult();var n=typeof window!==eR&&window.navigator?window.navigator:void 0,i=e||(n&&n.userAgent?n.userAgent:""),s=n&&n.userAgentData?n.userAgentData:void 0,o=t?te(tl,t):tl,r=n&&n.userAgent==i;return this.getBrowser=function(){var e,t={};return t[eA]=void 0,t[eN]=void 0,to.call(t,i,o.browser),t[eU]=typeof(e=t[eN])===eM?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,r&&n&&n.brave&&typeof n.brave.isBrave==eD&&(t[eA]="Brave"),t},this.getCPU=function(){var e={};return e[ej]=void 0,to.call(e,i,o.cpu),e},this.getDevice=function(){var e={};return e[ek]=void 0,e[ex]=void 0,e[eO]=void 0,to.call(e,i,o.device),r&&!e[eO]&&s&&s.mobile&&(e[eO]=eL),r&&"Macintosh"==e[ex]&&n&&typeof n.standalone!==eR&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[ex]="iPad",e[eO]=eP),e},this.getEngine=function(){var e={};return e[eA]=void 0,e[eN]=void 0,to.call(e,i,o.engine),e},this.getOS=function(){var e={};return e[eA]=void 0,e[eN]=void 0,to.call(e,i,o.os),r&&!e[eA]&&s&&"Unknown"!=s.platform&&(e[eA]=s.platform.replace(/chrome os/i,e5).replace(/macos/i,e7)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===eM&&e.length>350?ts(e,350):e,this},this.setUA(i),this}tc.VERSION="1.0.35",tc.BROWSER=tt([eA,eN,eU]),tc.CPU=tt([ej]),tc.DEVICE=tt([ex,ek,eO,ez,eL,eV,eP,e$,eF]),tc.ENGINE=tc.OS=tt([eA,eN]);let tu=new class{constructor(e){this._applicationEventsBeaconInterval=e.applicationEventsBeaconInterval,this._applicationLoggingEndpoint=e.applicationLoggingEndpoint,this._consoleLogLevel=e.consoleLogLevel,this._dopplerBeaconEndpoint=e.dopplerBeaconEndpoint,this._measurementStartDelay=e.measurementStartDelay,this._rumConfigCountryOverride=e.rumConfigCountryOverride,this._rumConfigStateOverride=e.rumConfigStateOverride,this._rumConfigASNOverride=e.rumConfigASNOverride,this._schedulerRunInterval=e.schedulerRunInterval,this._sessionConfigDelay=e.sessionConfigDelay,this._sessionConfigOrigin=e.sessionConfigOrigin;let t=e.sessionRefreshInterval;this._sessionRefreshInterval="number"==typeof t?Math.max(Math.min(t,60),1):void 0}get consoleLogLevel(){return this._consoleLogLevel}get applicationEventsBeaconInterval(){return this._applicationEventsBeaconInterval}get applicationLoggingEndpoint(){return this._applicationLoggingEndpoint}get sessionConfigDelay(){return this._sessionConfigDelay}get measurementStartDelay(){return this._measurementStartDelay}get sessionRefreshInterval(){return this._sessionRefreshInterval}get dopplerBeaconEndpoint(){return this._dopplerBeaconEndpoint}get schedulerRunInterval(){return this._schedulerRunInterval}get sessionConfigOrigin(){return this._sessionConfigOrigin}get rumConfigCountryOverride(){return this._rumConfigCountryOverride}get rumConfigStateOverride(){return this._rumConfigStateOverride}get rumConfigASNOverride(){return this._rumConfigASNOverride}}(window.__DOPPLER_PAGE_SETTINGS__||{}),td=e=>new Date,th=e=>Date.now(),tp=e=>performance.now(),tm=e=>Math.random(),tf=(e,t)=>fetch(e,t),tw=(e,t)=>"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(t),tb=(e,t,n)=>{if(isNaN(n)||n<4800)throw Error(`setInterval called with invalid interval value ${n}`);return setInterval(t,n)},tg=(e,t,n)=>setTimeout(t,n),tv=(e,t)=>{e===i.error?console.error(t):e===i.warn?console.warn(t):e===i.info?console.info(t):e===i.debug&&console.debug(t)},t_=e=>"string"==typeof tu.consoleLogLevel&&function(e,t){let n=e.toLowerCase();return"error"===n?t===i.error:"warn"===n?t===i.error||t===i.warn:"info"===n?t===i.error||t===i.warn||t===i.info:"debug"===n&&(t===i.error||t===i.warn||t===i.info||t===i.debug)}(tu.consoleLogLevel,e),tE=(e,t)=>{t_(e)&&tv(e,t())},ty=new class{constructor(){this._applicationEventsBeaconIntervalID=void 0,this._applicationEventsBeaconIntervalInMilliseconds=void 0,this._disallowedNetworks=[],this._lastReadBeaconContinent=void 0,this._lastReadBeaconCountry=void 0,this._lastReadBeaconState=void 0,this._lastReadBeaconAsn=void 0,this._lastReadSessConfHeaderContinent=void 0,this._lastReadSessConfHeaderCountry=void 0,this._lastReadSessConfHeaderState=void 0,this._lastReadSessConfHeaderAsn=void 0,this._measurementsEnabled=!1,this._resolverIP=void 0,this._schedulerRunIntervalID=void 0,this._schedulerRunIntervalInMilliseconds=void 0,this._sessionConfigLastUpdatedAt=void 0,this._sessionConfigRefreshIntervalID=void 0,this._sessionRefreshDelayInMilliseconds=void 0,this._sessionStartTimestamp=void 0,this._sessionUUID=void 0}get disallowedNetworks(){return this._disallowedNetworks}set disallowedNetworks(e){this._disallowedNetworks=e}get applicationEventsBeaconIntervalID(){return this._applicationEventsBeaconIntervalID}set applicationEventsBeaconIntervalID(e){this._applicationEventsBeaconIntervalID=e}get applicationEventsBeaconIntervalInMilliseconds(){return this._applicationEventsBeaconIntervalInMilliseconds}set applicationEventsBeaconIntervalInMilliseconds(e){this._applicationEventsBeaconIntervalInMilliseconds=e}get lastReadBeaconContinent(){return this._lastReadBeaconContinent}set lastReadBeaconContinent(e){this._lastReadBeaconContinent=e}get lastReadBeaconCountry(){return this._lastReadBeaconCountry}set lastReadBeaconCountry(e){this._lastReadBeaconCountry=e}get lastReadBeaconState(){return this._lastReadBeaconState}set lastReadBeaconState(e){this._lastReadBeaconState=e}get lastReadBeaconAsn(){return this._lastReadBeaconAsn}set lastReadBeaconAsn(e){this._lastReadBeaconAsn=e}get lastReadSessConfHeaderContinent(){return this._lastReadSessConfHeaderContinent}set lastReadSessConfHeaderContinent(e){this._lastReadSessConfHeaderContinent=e}get lastReadSessConfHeaderCountry(){return this._lastReadSessConfHeaderCountry}set lastReadSessConfHeaderCountry(e){this._lastReadSessConfHeaderCountry=e}get lastReadSessConfHeaderState(){return this._lastReadSessConfHeaderState}set lastReadSessConfHeaderState(e){this._lastReadSessConfHeaderState=e}get lastReadSessConfHeaderAsn(){return this._lastReadSessConfHeaderAsn}set lastReadSessConfHeaderAsn(e){this._lastReadSessConfHeaderAsn=e}get measurementsEnabled(){return this._measurementsEnabled}set measurementsEnabled(e){this._measurementsEnabled=e}get resolverIP(){return this._resolverIP}set resolverIP(e){this._resolverIP=e}get schedulerRunIntervalID(){return this._schedulerRunIntervalID}set schedulerRunIntervalID(e){this._schedulerRunIntervalID=e}get schedulerRunIntervalInMilliseconds(){return this._schedulerRunIntervalInMilliseconds}set schedulerRunIntervalInMilliseconds(e){this._schedulerRunIntervalInMilliseconds=e}get sessionConfigLastUpdatedAt(){return this._sessionConfigLastUpdatedAt}set sessionConfigLastUpdatedAt(e){this._sessionConfigLastUpdatedAt=e}get sessionConfigRefreshIntervalID(){return this._sessionConfigRefreshIntervalID}set sessionConfigRefreshIntervalID(e){this._sessionConfigRefreshIntervalID=e}get sessionRefreshDelayInMilliseconds(){return this._sessionRefreshDelayInMilliseconds}set sessionRefreshDelayInMilliseconds(e){this._sessionRefreshDelayInMilliseconds=e}get sessionStartTimestamp(){return this._sessionStartTimestamp}set sessionStartTimestamp(e){this._sessionStartTimestamp=e}get sessionUUID(){return this._sessionUUID}set sessionUUID(e){this._sessionUUID=e}updateMeasurementsEnabledForNetwork(e){this._measurementsEnabled=!this._disallowedNetworks.includes(e)}},tI={value:0},tS=new class{constructor(e,t){this._dependencies=e,this._clientVersion=t,this._clientInitializationRecorded=!1,this._applicationEventLoggingEndpointBase=null,this._afterMeasurementBeaconEvents=[],this._afterSessionConfigDownloadEvents=[],this._afterTestObjectDownloadEvents=[],this._beforeMeasurementBeaconEvents=[],this._beforeSessionConfigDownloadEvents=[],this._beforeTestObjectDownloadEvents=[],this._clientInitializedEvent=null,this._measurementBeaconErrorEvents=[],this._sessionConfigDownloadErrorEvents=[]}_resetEventState(){this._dependencies.outputToConsole(i.debug,()=>"Resetting application event state"),this._afterMeasurementBeaconEvents=[],this._afterSessionConfigDownloadEvents=[],this._afterTestObjectDownloadEvents=[],this._beforeMeasurementBeaconEvents=[],this._beforeSessionConfigDownloadEvents=[],this._beforeTestObjectDownloadEvents=[],this._clientInitializedEvent=null,this._measurementBeaconErrorEvents=[],this._sessionConfigDownloadErrorEvents=[]}get applicationEventLoggingEndpointBase(){return this._applicationEventLoggingEndpointBase}set applicationEventLoggingEndpointBase(e){this._applicationEventLoggingEndpointBase=e}beacon(){if(this._afterMeasurementBeaconEvents.length+this._afterSessionConfigDownloadEvents.length+this._afterTestObjectDownloadEvents.length+this._beforeMeasurementBeaconEvents.length+this._beforeSessionConfigDownloadEvents.length+this._beforeTestObjectDownloadEvents.length+(this._clientInitializedEvent?1:0)+this._measurementBeaconErrorEvents.length+this._sessionConfigDownloadErrorEvents.length){if(this._applicationEventLoggingEndpointBase&&"number"==typeof this._dependencies.runtimeValues.applicationEventsBeaconIntervalInMilliseconds&&0<this._dependencies.runtimeValues.applicationEventsBeaconIntervalInMilliseconds){let e=[1,1,this._clientVersion,this._beforeTestObjectDownloadEvents,this._afterTestObjectDownloadEvents,this._beforeMeasurementBeaconEvents,this._afterMeasurementBeaconEvents,this._measurementBeaconErrorEvents,this._beforeSessionConfigDownloadEvents,this._afterSessionConfigDownloadEvents,this._sessionConfigDownloadErrorEvents,this._clientInitializedEvent];this._dependencies.outputToConsole(i.debug,()=>`Client event data: ${JSON.stringify(e)}`),this._dependencies.callSendBeaconWithData(0,new URL("/v1",this._applicationEventLoggingEndpointBase).href,k(e))}this._resetEventState()}else this._dependencies.outputToConsole(i.debug,()=>"No application events to report")}recordAfterMeasurementBeaconEvent(e,t,n){this._afterMeasurementBeaconEvents.push([e,...N(t),n])}recordAfterSessionConfigDownloadEvent(e,t,n){this._afterSessionConfigDownloadEvents.push([e,...N(t),n])}recordAfterTestObjectDownloadEvent(e,t,n,i){this._afterTestObjectDownloadEvents.push([e,...N(t),...j(n),i])}recordBeforeMeasurementBeaconEvent(e,t){this._beforeMeasurementBeaconEvents.push([e,...N(t)])}recordBeforeSessionConfigDownloadEvent(e,t){let n=[e,...N(t)];return this._beforeSessionConfigDownloadEvents.push(n),n}recordBeforeTestObjectDownloadEvent(e,t,n){this._beforeTestObjectDownloadEvents.push([e,...N(t),...j(n)])}recordClientInitializedEvent(e){if(!this._clientInitializationRecorded){this._clientInitializationRecorded=!0;let t=[e,"","","",null];return this._clientInitializedEvent=t,t}throw Error("Only one call to recordClientInitializedEvent should be made")}recordMeasurementBeaconErrorEvent(e,t,n){this._measurementBeaconErrorEvents.push([e,...N(t),n])}recordSessionConfigDownloadErrorEvent(e,t,n){this._sessionConfigDownloadErrorEvents.push([e,...N(t),n])}}({callSendBeaconWithData:(e,t,n)=>"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(t,n),outputToConsole:tE,runtimeValues:ty},ev);window.addEventListener("beforeunload",()=>{tS.beacon()});let tC=new class{constructor(e){this._dependencies=e,this._observer=this._dependencies.newPerformanceObserver(e=>{if(void 0!=this._callbackBundle){let t=e.getEntriesByName(this._callbackBundle.url,"resource");t.length&&(this._callbackBundle.callback(t[0]),delete this._callbackBundle)}})}registerCallback(e,t){if(this._callbackBundle)throw new G(e,this._callbackBundle.url);this._callbackBundle={url:e,callback:t,registeredAt:this._dependencies.newDate()},this._observer.observe({type:"resource",buffered:!1})}unregisterCallback(e){this._callbackBundle&&this._callbackBundle.url===e&&delete this._callbackBundle,this._observer.disconnect()}}({newDate:()=>td(14),newPerformanceObserver:e=>new PerformanceObserver(e)}),tT=new class{constructor(){this._countOfEvents=0}add(e){this._countOfEvents+=e}reset(){this._countOfEvents=0}get countOfEvents(){return this._countOfEvents}},tD=new class{constructor(e){this._dependencies=e,this._scheduleRecords=[],this._schedulerLocked=!1}_sortScheduleRecords(){this._scheduleRecords.sort((e,t)=>e.scheduledMeasurementInfo||t.scheduledMeasurementInfo?e.scheduledMeasurementInfo?t.scheduledMeasurementInfo?e.scheduledMeasurementInfo.measureAfter<t.scheduledMeasurementInfo.measureAfter?-1:e.scheduledMeasurementInfo.measureAfter>t.scheduledMeasurementInfo.measureAfter?1:0:1:-1:0)}reschedule(){this._dependencies.outputToConsole(i.info,()=>"Rescheduling (max target frequency "+this._dependencies.maxTargetFrequency.value+")");let e=this._dependencies.newDate(23);this._scheduleRecords.forEach(t=>{let n=t.scheduledMeasurementInfo,i=n?n.lastScheduledAt:e;t.scheduledMeasurementInfo={lastScheduledAt:e,measureAfter:new Date(i.getTime()+this._dependencies.intervalCalculator.calculateInterval(t.testObjectConfig.targetFrequency))}}),this._sortScheduleRecords(),this.outputDiagnosticMessage()}run(){if(this._dependencies.outputToConsole(i.debug,()=>`Scheduler run ${this._dependencies.newDate(12)}`),this._schedulerLocked)this._dependencies.outputToConsole(i.debug,()=>"Skipping run because the scheduler is locked");else{this._schedulerLocked=!0;let e=()=>{this._schedulerLocked=!1},t=(e,t)=>({execute:()=>(e._dependencies.outputToConsole(i.debug,()=>eS(t.testObjectConfig.dopplerPlatformID)),e.scheduleNextMeasurement(t.testObjectConfig),e.outputDiagnosticMessage(),Promise.resolve())}),n=this._dependencies.newDate(12),s=this._dependencies.runtimeValues.sessionConfigLastUpdatedAt;if(!s||((e,t,n)=>{let s=e.valueOf()-t.valueOf();return this._dependencies.outputToConsole(i.debug,()=>eC(s,n)),s>n})(n,s,3e6)){this._dependencies.outputToConsole(i.info,()=>"Measurements paused"),e();return}let o=this._scheduleRecords.filter(e=>e.scheduledMeasurementInfo&&n>e.scheduledMeasurementInfo.measureAfter);if(o.length){let s=o.slice(0,3);this._dependencies.outputToConsole(i.debug,()=>eE(o,s,n)),H(s.map(e=>this._dependencies.runtimeValues.measurementsEnabled?ee({applicationEvents:this._dependencies.applicationEvents,callClearTimeout:this._dependencies.callClearTimeout,callSendBeacon:this._dependencies.callSendBeacon,callSetTimeout:this._dependencies.callSetTimeout,callClearResourceTimings:this._dependencies.callClearResourceTimings,callFetch:this._dependencies.callFetch,maxTargetFrequency:this._dependencies.maxTargetFrequency,measurementScheduler:this,newAbortController:this._dependencies.newAbortController,newDate:this._dependencies.newDate,newEpochTimestamp:this._dependencies.newEpochTimestamp,newMonotonicTimestamp:this._dependencies.newMonotonicTimestamp,newRandomNumber:this._dependencies.newRandomNumber,outputToConsole:this._dependencies.outputToConsole,performanceEntryAwaitTimeouts:this._dependencies.performanceEntryAwaitTimeouts,performanceEntryManager:this._dependencies.performanceEntryManager,runtimeValues:this._dependencies.runtimeValues},e.testObjectConfig,e.sessionMetadata):t(this,e))).then(e,e)}else e()}}_scheduleMeasurement(e,t,n){let s=this._scheduleRecords.find(t=>eT(t.testObjectConfig,e));if(s){let o=this._dependencies.newDate(n),r=t?o:new Date(o.getTime()+this._dependencies.intervalCalculator.calculateInterval(s.testObjectConfig.targetFrequency));s.scheduledMeasurementInfo={lastScheduledAt:o,measureAfter:r},this._sortScheduleRecords();let a=s.scheduledMeasurementInfo;a&&this._dependencies.outputToConsole(i.debug,()=>e_(e.dopplerPlatformID,a.measureAfter))}}scheduleNextMeasurement(e){this._scheduleMeasurement(e,!1,24)}scheduleNextMeasurementSoon(e){this._scheduleMeasurement(e,!0,25)}initializePopulation(e,t,n){let s=new Set(n);this._scheduleRecords.push(...e.map(e=>({testObjectConfig:e,sessionMetadata:t})));let o=this._dependencies.newDate(21);this._scheduleRecords.forEach(e=>{let t=e.testObjectConfig;if(!s.has(t)){let n=this._dependencies.intervalCalculator.calculateInterval(t.targetFrequency);e.scheduledMeasurementInfo={lastScheduledAt:o,measureAfter:new Date(o.getTime()+n)};let s=e.scheduledMeasurementInfo;s&&this._dependencies.outputToConsole(i.debug,()=>e_(t.dopplerPlatformID,s.measureAfter))}}),this._sortScheduleRecords()}updatePopulation(e,t){let n=e=>this._dependencies.intervalCalculator.calculateInterval(e);this._scheduleRecords=this._scheduleRecords.filter(t=>e.some(e=>eT(e,t.testObjectConfig)));let s=this._dependencies.newDate(26);e.forEach(e=>{let o=this._scheduleRecords.find(t=>eT(t.testObjectConfig,e));if(o){let r=o.testObjectConfig.targetFrequency!==e.targetFrequency;r&&this._dependencies.outputToConsole(i.debug,()=>ey(e.dopplerPlatformID,o.testObjectConfig.targetFrequency,e.targetFrequency)),o.testObjectConfig=e,o.sessionMetadata=t;let a=o.scheduledMeasurementInfo;if(!a||a&&r){let t=a?a.lastScheduledAt:s;o.scheduledMeasurementInfo={lastScheduledAt:s,measureAfter:new Date(t.getTime()+n(e.targetFrequency))}}}else this._scheduleRecords.push({testObjectConfig:e,sessionMetadata:t,scheduledMeasurementInfo:{lastScheduledAt:s,measureAfter:new Date(s.getTime()+n(e.targetFrequency))}})}),this._sortScheduleRecords(),this.outputDiagnosticMessage()}outputDiagnosticMessage(){this._dependencies.outputToConsole(i.debug,()=>eI(this._scheduleRecords,this._dependencies.newDate(22)))}}({applicationEvents:tS,callSetTimeout:tg,callSendBeacon:tw,callClearResourceTimings:()=>performance.clearResourceTimings(),callClearTimeout:e=>clearTimeout(e),callFetch:tf,intervalCalculator:new class{constructor(e,t){this._dependencies=e;let n={*[Symbol.iterator](){for(let e=0;e<t.length;e++){let[n,i,s,o]=t[e];for(let e=s;e<o;e++){let t=i/e;for(let e=0;e<n;e++)yield t}}}};this._fuzzinessModifiers=new Float32Array(n)}calculateInterval(e){let t=this._dependencies.maxHourlyRate.value>0?Math.min(e,this._dependencies.maxHourlyRate.value):e;return this._dependencies.outputToConsole(i.debug,()=>{let n=e==t?"hourly rate not capped":`hourly rate capped at ${t} from ${e}`;return`Calculating interval (${n})`}),Math.floor(1/t*36e5*(0<this._fuzzinessModifiers.length?this._fuzzinessModifiers[Math.floor(this._dependencies.newRandomNumber(11)*this._fuzzinessModifiers.length)]:1))}}({maxHourlyRate:tI,newRandomNumber:tm,outputToConsole:tE},[[5,1e3,801,850],[7,1e3,851,900],[9,1e3,901,950],[10,1e3,951,1e3],[10,1e3,1001,1050],[9,1e3,1051,1100],[7,1e3,1101,1150],[5,1e3,1151,1200]]),maxTargetFrequency:tI,newAbortController:()=>new AbortController,newDate:td,newEpochTimestamp:th,newMonotonicTimestamp:tp,newRandomNumber:tm,outputToConsole:tE,performanceEntryAwaitTimeouts:tT,performanceEntryManager:tC,runtimeValues:ty});"function"==typeof navigator.sendBeacon&&"function"==typeof Promise.allSettled&&"function"==typeof Array.prototype.flatMap&&setTimeout(()=>ea({addDocumentReadyStateChangeListener:e=>document.addEventListener("readystatechange",e),applicationEvents:tS,callAbortSignalTimeout:(e,t)=>AbortSignal.timeout(t),callClearInterval:(e,t)=>clearInterval(t),callClearTimeout:(e,t)=>clearTimeout(t),callFetch:tf,callClearResourceTimings:()=>performance.clearResourceTimings(),callSendBeacon:tw,callSetInterval:tb,callSetTimeout:tg,getDocumentReadyState:()=>document.readyState,maxTargetFrequency:tI,measurementScheduler:tD,newAbortController:()=>new AbortController,newDate:td,newEpochTimestamp:th,newMonotonicTimestamp:tp,newRandomNumber:tm,newUUIDv4:()=>u(),outputToConsole:tE,performanceEntryAwaitTimeouts:tT,performanceEntryManager:tC,runtimeValues:ty},{sessionMetadata:function(){let e=ev.split(".");if(3!=e.length||Number.isNaN(parseInt(e[0]))||Number.isNaN(parseInt(e[1])))throw Error(`Invalid client version: ${ev}`);let t=new tc,n="function"==typeof t.getResult?t.getResult():{ua:navigator.userAgent,device:{},browser:{},os:{}},i={userAgent:n.ua,deviceCategory:"web",device:n.device,browser:n.browser,os:n.os},[s,o,r]=e;return{browserMeta:i,clientVersion:[s,o,r]}}(),sessionConfigURL:function(e){let t=e.sessionConfigOrigin?e.sessionConfigOrigin:"https://doppler-config.cbsivideo.com",n=[`clientversion=${ev}`];return e.rumConfigCountryOverride&&n.push(`c=${e.rumConfigCountryOverride}`),e.rumConfigStateOverride&&n.push(`s=${e.rumConfigStateOverride}`),e.rumConfigASNOverride&&n.push(`a=${e.rumConfigASNOverride}`),`${t}/v3/config?${n.join("&")}`}(tu),pageSettings:tu,clientInitializationEvent:tS.recordClientInitializedEvent(th(3))}),"number"==typeof tu.sessionConfigDelay?tu.sessionConfigDelay:5e3)}();
//# sourceMappingURL=doppler.967dd8a2.min.js.map

</script>

</body>
</html>

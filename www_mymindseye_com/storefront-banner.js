var privacyBanner=function(e){"use strict";var n=function(){return n=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},n.apply(this,arguments)};function t(e,n,t,o){return new(t||(t=Promise))((function(a,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}c((o=o.apply(e,n||[])).next())}))}function o(e,n){var t,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(i=0)),i;)try{if(t=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],o=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}"function"==typeof SuppressedError&&SuppressedError;const a={TRACKING_ACCEPTED:"trackingConsentAccepted",TRACKING_DECLINED:"trackingConsentDeclined",MARKETING_ACCEPTED:"firstPartyMarketingConsentAccepted",SALE_OF_DATA_ACCEPTED:"thirdPartyMarketingConsentAccepted",ANALYTICS_ACCEPTED:"analyticsConsentAccepted",PREFERENCES_ACCEPTED:"preferencesConsentAccepted",MARKETING_DECLINED:"firstPartyMarketingConsentDeclined",SALE_OF_DATA_DECLINED:"thirdPartyMarketingConsentDeclined",ANALYTICS_DECLINED:"analyticsConsentDeclined",PREFERENCES_DECLINED:"preferencesConsentDeclined",CONSENT_COLLECTED:"visitorConsentCollected",CONSENT_TRACKING_API_LOADED:"consentTrackingApiLoaded"},r="2.1",i={ACCEPTED:"yes",DECLINED:"no",NO_INTERACTION:"no_interaction",NO_VALUE:""},s={NO_VALUE:"",ACCEPTED:"1",DECLINED:"0"},c={PREFERENCES:"p",ANALYTICS:"a",MARKETING:"m",SALE_OF_DATA:"t"},l={MARKETING:"m",ANALYTICS:"a",PREFERENCES:"p",SALE_OF_DATA:"s"},u={MARKETING:"marketing",ANALYTICS:"analytics",PREFERENCES:"preferences",SALE_OF_DATA:"sale_of_data",EMAIL:"email"},d={HEADLESS_STOREFRONT:"headlessStorefront",ROOT_DOMAIN:"rootDomain",CHECKOUT_ROOT_DOMAIN:"checkoutRootDomain",STOREFRONT_ROOT_DOMAIN:"storefrontRootDomain",STOREFRONT_ACCESS_TOKEN:"storefrontAccessToken",IS_EXTENSION_TOKEN:"isExtensionToken",METAFIELDS:"metafields"};function p(e,n=!1){const t=document.cookie?document.cookie.split("; "):[];for(let n=0;n<t.length;n++){const[o,a]=t[n].split("=");if(e===decodeURIComponent(o)){return JSON.parse(decodeURIComponent(a))}}if(n&&"_tracking_consent"===e&&!window.localStorage.getItem("tracking_consent_fetched"))return console.debug("_tracking_consent missing"),function(e="/"){const n=new XMLHttpRequest;n.open("HEAD",e,!1),n.withCredentials=!0,n.send()}(),window.localStorage.setItem("tracking_consent_fetched","true"),p(e,!1)}function h(e){return e===encodeURIComponent(decodeURIComponent(e))}function f(e,n,t,o){if(!h(o))throw new TypeError("Cookie value is not correctly URI encoded.");if(!h(e))throw new TypeError("Cookie name is not correctly URI encoded.");let a=`${e}=${o}`;a+="; path=/",n&&(a+=`; domain=${n}`),a+=`; expires=${new Date((new Date).getTime()+t).toUTCString()}`,document.cookie=a}const g="_tracking_consent",m=31536e6;function y(){const e=p(g);if(void 0!==e&&!function(e){var n;if(e.v!==r)return!0;if(null==e||null===(n=e.con)||void 0===n||!n.CMP)return!0;return!1}(e))return e}function b(){try{let e=y();if(!e)return;return e}catch(e){return}}function v(){return{m:x(l.MARKETING),a:x(l.ANALYTICS),p:x(l.PREFERENCES),s:x(l.SALE_OF_DATA)}}function C(){return v()[l.SALE_OF_DATA]}function _(e=null){return null===e&&(e=b()),void 0===e}function w(e){switch(e){case s.ACCEPTED:return i.ACCEPTED;case s.DECLINED:return i.DECLINED;default:return i.NO_VALUE}}function E(e){switch(e){case l.ANALYTICS:return u.ANALYTICS;case l.MARKETING:return u.MARKETING;case l.PREFERENCES:return u.PREFERENCES;case l.SALE_OF_DATA:return u.SALE_OF_DATA}}function x(e){const n=b();if(!n)return s.NO_VALUE;const t=n.con.CMP;return t?t[e]:s.NO_VALUE}function A(){const e=b();return _(e)?"":e.region||""}function k(e){const n=y();if(!n||!n.purposes)return!0;const t=n.purposes[e];return"boolean"!=typeof t||t}function I(){return k(c.PREFERENCES)}function T(){return k(c.ANALYTICS)}function D(){return k(c.MARKETING)}function S(){return k(c.SALE_OF_DATA)}function O(){const e=y();return!!e&&("boolean"==typeof e.display_banner&&e.display_banner)}function R(){const e=y();return e&&e.sale_of_data_region||!1}function N(e){void 0!==e.granular_consent&&function(e){const n=e[c.MARKETING],t=e[c.SALE_OF_DATA],o=e[c.ANALYTICS],r=e[c.PREFERENCES];!0===n?P(a.MARKETING_ACCEPTED):!1===n&&P(a.MARKETING_DECLINED);!0===t?P(a.SALE_OF_DATA_ACCEPTED):!1===t&&P(a.SALE_OF_DATA_DECLINED);!0===o?P(a.ANALYTICS_ACCEPTED):!1===o&&P(a.ANALYTICS_DECLINED);!0===r?P(a.PREFERENCES_ACCEPTED):!1===r&&P(a.PREFERENCES_DECLINED);const i=function(e){const n={marketingAllowed:e[c.MARKETING],saleOfDataAllowed:e[c.SALE_OF_DATA],analyticsAllowed:e[c.ANALYTICS],preferencesAllowed:e[c.PREFERENCES],firstPartyMarketingAllowed:e[c.MARKETING],thirdPartyMarketingAllowed:e[c.SALE_OF_DATA]};return n}(e);P(a.CONSENT_COLLECTED,i);const s=[o,r,n,t];s.every((e=>!0===e))&&P(a.TRACKING_ACCEPTED);s.every((e=>!1===e))&&P(a.TRACKING_DECLINED)}({[c.PREFERENCES]:I(),[c.ANALYTICS]:T(),[c.MARKETING]:D(),[c.SALE_OF_DATA]:S()})}function P(e,n){document.dispatchEvent(new CustomEvent(e,{detail:n||{}}))}function B(e,n){if(null===e)return"null";if(Array.isArray(e)){return`[${e.map((e=>B(e,!0))).join(",")}]`}if("object"==typeof e){let t=[];for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&t.push(`${n}:${B(e[n],!0)}`);const o=t.join(",");return n?`{${o}}`:o}return"string"==typeof e?`"${e}"`:`${e}`}const L="_landing_page",H="_orig_referrer";function M(e){const n=e.granular_consent;return{query:`query { consentManagement { cookies(${B(Object.assign(Object.assign({visitorConsent:Object.assign({marketing:n.marketing,analytics:n.analytics,preferences:n.preferences,saleOfData:n.sale_of_data},n.metafields&&{metafields:n.metafields})},n.email&&{visitorEmail:n.email}),{},{origReferrer:e.referrer,landingPage:e.landing_page}))}) { trackingConsentCookie cookieDomain landingPageCookie origReferrerCookie } } }`,variables:{}}}function j(e,n){const t=e.granular_consent,o=t.storefrontAccessToken||function(){const e=document.documentElement.querySelector("#shopify-features"),n="Could not find liquid access token";if(!e)return void console.warn(n);const t=JSON.parse(e.textContent||"").accessToken;if(!t)return void console.warn(n);return t}(),a=t.checkoutRootDomain||window.location.host,r={headers:{"content-type":"application/json",[t.isExtensionToken?"Shopify-Storefront-Extension-Token":"x-shopify-storefront-access-token"]:o},body:JSON.stringify(M(e)),method:"POST"};return fetch(`https://${a}/api/unstable/graphql.json`,r).then((e=>{if(e.ok)return e.json();throw new Error("Server error")})).then((o=>{const a=31536e6,r=12096e5,i=o.data.consentManagement.cookies.cookieDomain,s=i||t.checkoutRootDomain||window.location.hostname,c=t.storefrontRootDomain||i||window.location.hostname,l=o.data.consentManagement.cookies.trackingConsentCookie,u=o.data.consentManagement.cookies.landingPageCookie,d=o.data.consentManagement.cookies.origReferrerCookie;return f(g,s,a,l),u&&d&&(f(L,s,r,u),f(H,s,r,d)),c!==s&&(f(g,c,a,l),u&&d&&(f(L,c,r,u),f(H,c,r,d))),N(e),void 0!==n&&n(null,o),o})).catch((e=>{const t="Error while setting storefront API consent: "+e.message;if(void 0===n)throw{error:t};n({error:t})}))}function F(e,n){if(function(e){if("boolean"!=typeof e&&"object"!=typeof e)throw TypeError("setTrackingConsent must be called with a boolean or object consent value");if("object"==typeof e){const n=Object.keys(e);if(0===n.length)throw TypeError("The submitted consent object is empty.");const t=[u.MARKETING,u.ANALYTICS,u.PREFERENCES,u.SALE_OF_DATA,u.EMAIL,d.ROOT_DOMAIN,d.CHECKOUT_ROOT_DOMAIN,d.STOREFRONT_ROOT_DOMAIN,d.STOREFRONT_ACCESS_TOKEN,d.HEADLESS_STOREFRONT,d.IS_EXTENSION_TOKEN,d.METAFIELDS];for(const e of n)if(!t.includes(e))throw TypeError(`The submitted consent object should only contain the following keys: ${t.join(", ")}. Extraneous key: ${e}.`)}}(e),void 0!==n&&"function"!=typeof n)throw TypeError("setTrackingConsent must be called with a callback function if the callback argument is provided");let t;if(!0===e||!1===e){console.warn("Binary consent is deprecated. Please update to granular consent (shopify.dev/docs/api/consent-tracking)");t={analytics:e,preferences:e,marketing:e}}else t=e;const o=function(e){if(!e)return null;return K()?document.referrer:""}(t.analytics),a=function(e){if(!e)return null;return K()?window.location.pathname+window.location.search:"/"}(t.analytics);return j(Object.assign(Object.assign({granular_consent:t},null!==o&&{referrer:o}),null!==a&&{landing_page:a}),n)}function q(e,n){if(console.warn("This method is deprecated. Please read shopify.dev/docs/api/customer-privacy for the latest information."),"boolean"!=typeof e)throw TypeError("setCCPAConsent must be called with a boolean consent value");if("function"!=typeof n)throw TypeError("setCCPAConsent must be called with a callback function");return j({granular_consent:{sale_of_data:e}},n)}function V(){if(_())return i.NO_VALUE;const e=v();return e[l.MARKETING]===s.ACCEPTED&&e[l.ANALYTICS]===s.ACCEPTED?i.ACCEPTED:e[l.MARKETING]===s.DECLINED||e[l.ANALYTICS]===s.DECLINED?i.DECLINED:i.NO_INTERACTION}function z(){console.warn("getRegulation is deprecated and will be removed.");const e=A();return""===e?"":["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SI","SK","ES","SE","GB"].includes(e.slice(0,2))?"GDPR":"US"===e.slice(0,2)&&["CA","VA"].includes(e.slice(2,4))?"CCPA":""}function U(){return console.warn("getShopPrefs is deprecated and will be removed."),{limit:[]}}function W(){return A()}function K(){if(""===document.referrer)return!0;const e=document.createElement("a");return e.href=document.referrer,window.location.hostname!=e.hostname}function G(){return console.warn("isRegulationEnforced is deprecated and will be removed."),!0}function $(){return!!_()||D()&&T()}function Q(){return R()?"string"==typeof navigator.globalPrivacyControl?"1"!==navigator.globalPrivacyControl:"boolean"==typeof navigator.globalPrivacyControl?!navigator.globalPrivacyControl:null:null}function Y(){return console.warn("userDataCanBeSold is deprecated and will be replaced with saleOfDataAllowed."),S()}function J(){return O()&&V()===i.NO_INTERACTION}function X(){return!1===Q()?i.DECLINED:(e=C(),_()?i.NO_VALUE:e===s.NO_VALUE?i.NO_INTERACTION:w(e));var e}function Z(){return console.warn("shouldShowCCPABanner is deprecated and will be removed."),R()&&X()===i.NO_INTERACTION}function ee(){return!0}function ne(e){return function(e){const n=b();if(_(n)||!n.cus)return;const t=n.cus[encodeURIComponent(e)];return t?decodeURIComponent(t):t}(e)}const te="95ba910bcec4542ef2a0b64cd7ca666c";function oe(e,n,t){try{var o;!function(e){const n=new XMLHttpRequest;n.open("POST","https://notify.bugsnag.com/",!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Bugsnag-Api-Key",te),n.setRequestHeader("Bugsnag-Payload-Version","5");const t=function(e){const n=function(e){return e.stackTrace||e.stack||e.description||e.name}(e.error),[t,o]=(n||"unknown error").split("\n")[0].split(":");return JSON.stringify({payloadVersion:5,notifier:{name:"ConsentTrackingAPI",version:"latest",url:"-"},events:[{exceptions:[{errorClass:(t||"").trim(),message:(o||"").trim(),stacktrace:[{file:"consent-tracking-api.js",lineNumber:"1",method:n}],type:"browserjs"}],context:"general",app:{id:"ConsentTrackingAPI",version:"latest"},metaData:{request:{shopId:e.shopId,shopUrl:window.location.href},device:{userAgent:window.navigator.userAgent},"Additional Notes":e.notes},unhandled:!1}]})}(e);n.send(t)}({error:e,context:n,shopId:re()||(null===(o=window.Shopify)||void 0===o?void 0:o.shop),notes:t})}catch(e){}}function ae(e){return(...n)=>{try{return e(...n)}catch(e){throw oe(e),e}}}function re(){try{const e=document.getElementById("shopify-features").textContent;return JSON.parse(e).shopId}catch(e){return null}}function ie(){return D()}function se(){return T()}function ce(){return I()}function le(){return S()}function ue(){const e={},n=v();for(const t of Object.keys(n))e[E(t)]=w(n[t]);return e}function de(e,n){return"object"==typeof e&&e.headlessStorefront&&!e.storefrontAccessToken?(console.warn("Headless consent has been updated. Please read shopify.dev/docs/api/customer-privacy to integrate."),function(e,n){function t(e,n=s.NO_VALUE){return!0===e?s.ACCEPTED:!1===e?s.DECLINED:n}const o={[l.ANALYTICS]:t(e[u.ANALYTICS],s.DECLINED),[l.MARKETING]:t(e[u.MARKETING],s.DECLINED),[l.PREFERENCES]:t(e[u.PREFERENCES],s.DECLINED),[l.SALE_OF_DATA]:t(e[u.SALE_OF_DATA])},a={v:r,reg:"",con:{CMP:o}},i=encodeURIComponent(JSON.stringify(a));return f(g,e.rootDomain,m,i),n(null),new Promise(((e,n)=>{}))}(e,n||(()=>{}))):F(e,n)}const pe=({useBugsnagReporting:e})=>{C()!=s.DECLINED&&!1===Q()&&q(!1,(()=>!1));const n={getTrackingConsent:V,setTrackingConsent:de,userCanBeTracked:$,getRegulation:z,isRegulationEnforced:G,getShopPrefs:U,shouldShowGDPRBanner:J,userDataCanBeSold:Y,setCCPAConsent:q,getCCPAConsent:X,shouldShowCCPABanner:Z,doesMerchantSupportGranularConsent:ee,analyticsProcessingAllowed:T,preferencesProcessingAllowed:I,marketingAllowed:ie,firstPartyMarketingAllowed:ie,saleOfDataAllowed:le,thirdPartyMarketingAllowed:le,currentVisitorConsent:ue,shouldShowBanner:O,saleOfDataRegion:R,getRegion:W,getTrackingConsentMetafield:ne,unstable:{analyticsProcessingAllowed:T,preferencesProcessingAllowed:I,marketingAllowed:ie,saleOfDataAllowed:le,currentVisitorConsent:ue,shouldShowBanner:O,saleOfDataRegion:R}};if(!e)return n;const t=["unstable"];for(const e in n)n.hasOwnProperty(e)&&(n[e]=t.includes(e)?n[e]:ae(n[e]));return n};var he,fe,ge,me,ye,be,ve;!function(e){e.BottomCenter="bottom_center",e.BottomFullWidth="bottom_full_width",e.BottomLeft="bottom_left",e.BottomRight="bottom_right",e.Center="center"}(he||(he={})),function(e){e.Custom="custom",e.Dark="dark",e.Light="light"}(fe||(fe={})),function(e){e[e.Yes=1]="Yes",e[e.No=0]="No"}(ge||(ge={})),function(e){e.ConsolidatedText="consolidated_text",e.PositionBottomLeft="position_bottom_left",e.PositionCentered="position_centered",e.MinimalWhitespace="minimal_whitespace",e.HighlightedButtons="highlighted_buttons",e.SwapButtonOrder="swap_button_order",e.ExperimentOneWinner="experiment_1_winner",e.NewHypothesis="new_variant"}(me||(me={})),function(e){e.StylesContainerId="shopify-pc__banner__styles",e.DialogId="shopify-pc__banner",e.DialogClass="shopify-pc__banner__dialog",e.WrapperClass="shopify-pc__banner__wrapper",e.BodyClass="shopify-pc__banner__body",e.BodyTitleId="shopify-pc__banner__body-title",e.BodyCopyPolicyLinkId="shopify-pc__banner__body-policy-link",e.ButtonsClass="shopify-pc__banner__btns",e.ButtonsGranularClass="shopify-pc__banner__btns-granular",e.ButtonAcceptId="shopify-pc__banner__btn-accept",e.ButtonAcceptClass="shopify-pc__banner__btn-accept",e.ButtonDeclineId="shopify-pc__banner__btn-decline",e.ButtonDeclineClass="shopify-pc__banner__btn-decline",e.ButtonManagePrefsId="shopify-pc__banner__btn-manage-prefs",e.ButtonManagePrefsClass="shopify-pc__banner__btn-manage-prefs"}(ye||(ye={})),function(e){e.StylesContainerId="shopify-pc__prefs__styles",e.OverlayId="shopify-pc__prefs__overlay",e.OverlayClass="shopify-pc__prefs__overlay",e.WrapperId="shopify-pc__prefs",e.WrapperClass="shopify-pc__prefs",e.DialogId="shopify-pc__prefs__dialog",e.DialogClass="shopify-pc__prefs__dialog",e.DialogScrollableClass="shopify-pc__prefs__scrollable",e.HeaderTitleId="shopify-pc__prefs__header-title",e.HeaderActionsClass="shopify-pc__prefs__header-actions",e.HeaderSaveId="shopify-pc__prefs__header-save",e.HeaderAcceptId="shopify-pc__prefs__header-accept",e.HeaderDeclineId="shopify-pc__prefs__header-decline",e.HeaderCloseId="shopify-pc__prefs__header-close",e.HeaderCloseClass="shopify-pc__prefs__header-close",e.IntroClass="shopify-pc__prefs__intro",e.IntroMainClass="shopify-pc__prefs__intro-main",e.IntroExplainWrapperClass="shopify-pc__prefs__intro-explain",e.IntroExplainAcceptClass="shopify-pc__prefs__intro-explain-accept",e.IntroExplainDeclineClass="shopify-pc__prefs__intro-explain-decline",e.OptionWrapperClass="shopify-pc__prefs__options",e.OptionClass="shopify-pc__prefs__option",e.OptionEssentialId="shopify-pc__prefs__essential",e.OptionEssentialInputId="shopify-pc__prefs__essential-input",e.OptionMarketingId="shopify-pc__prefs__marketing",e.OptionMarketingInputId="shopify-pc__prefs__marketing-input",e.OptionAnalyticsId="shopify-pc__prefs__analytics",e.OptionAnalyticsInputId="shopify-pc__prefs__analytics-input",e.OptionPreferencesId="shopify-pc__prefs__preferences",e.OptionPreferencesInputId="shopify-pc__prefs__preferences-input"}(be||(be={})),function(e){e.Black="#333",e.White="#fff",e.Gray="#ccc",e.Green="#3AA83A",e.LightGray="#F7F8F9",e.DarkGray="#36454F",e.VeryDarkGray="#666",e.VeryLightGray="#e5e5e5"}(ve||(ve={}));var Ce=function(e){return"\n    border: none;\n    color: ".concat(e.fontColor,";\n    background: transparent;\n  ")},_e=function(e){return"\n    border: 1px solid ".concat(e.button.borderColor,";\n    color: ").concat(e.button.fontColor,";\n    background: ").concat(e.button.backgroundColor,";\n  ")};function we(e,n,t,o){void 0===n&&(n="0,0,100,100"),void 0===t&&(t="0,0,0,100"),void 0===o&&(o="0,0,100,100");var a=e.split(","),r=a[0],i=a[1],s=a[2],c=a[3],l=n.split(","),u=l[0],d=l[1],p=l[2],h=l[3],f=t.split(","),g=f[0],m=f[1],y=f[2],b=f[3],v=o.split(","),C=v[0],_=v[1],w=v[2],E=v[3],x={hue:Number(r),saturation:Number(i),lightness:Number(s),alpha:Number(c)},A={hue:Number(u),saturation:Number(d),lightness:Number(p),alpha:Number(h)},k={hue:Number(g),saturation:Number(m),lightness:Number(y),alpha:Number(b)},I={hue:Number(C),saturation:Number(_),lightness:Number(w),alpha:Number(E)},T={hue:x.hue,saturation:x.saturation,lightness:x.lightness,alpha:x.alpha-10},D={hue:A.hue,saturation:A.saturation,lightness:A.lightness<50?A.lightness+14:A.lightness-12,alpha:A.alpha},S={hue:201,saturation:A.lightness<50?60:90,lightness:A.lightness<50?60:80,alpha:A.lightness<50?80:100};return{font:Ee(x),fontSubdued:Ee(T),buttonFont:Ee(k),buttonBackground:Ee(I),background:Ee(A),divider:Ee(D),focused:Ee(S)}}function Ee(e){return"hsl(".concat(e.hue,"deg, ").concat(e.saturation,"%, ").concat(e.lightness,"%, ").concat(e.alpha,"%)")}function xe(e,n,t,o,a){var r="0,0,0,100",i="0,0,100,100",s=we("0,0,12,100","0,0,100,100","0,0,12,100","0,0,100,100"),c=we("0,0,100,87","0,0,12,100","0,0,100,87","0,0,12,100"),l=we(null!=n?n:r,null!=t?t:i,null!=o?o:r,null!=a?a:i),u=function(){switch(e){case fe.Light:return s;case fe.Dark:return c;case fe.Custom:return l;default:return s}}();return{backgroundColor:u.background,fontColor:u.font,fontSubduedColor:u.fontSubdued,sectionDivider:u.divider,iconColor:u.font,focused:u.focused,button:{borderColor:u.buttonFont,backgroundColor:u.buttonBackground,fontColor:u.buttonFont},primaryButton:{borderColor:u.buttonBackground,backgroundColor:u.buttonFont,fontColor:u.buttonBackground}}}function Ae(e){var n=e.bannerData,t=e.selectorPrefix,o=n.experimentVariant===me.PositionBottomLeft,a=n.experimentVariant===me.PositionCentered,r=n.experimentVariant===me.HighlightedButtons,i=n.experimentVariant===me.MinimalWhitespace,s=n.experimentVariant===me.ExperimentOneWinner||n.experimentVariant===me.NewHypothesis,c=t?"".concat(t," "):"",l=xe(n.theme.theme,n.theme.fontColor,n.theme.backgroundColor,n.theme.buttonFontColor,n.theme.buttonBackgroundColor),u=n.position;o?u=he.BottomLeft:a&&(u=he.Center);var d=i,p=function(e,n,t,o){void 0===o&&(o=!1);var a="1280px",r="\n    ".concat(t,".").concat(ye.WrapperClass," {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      flex-direction: column;\n    }\n  "),i="\n    position: fixed;\n    z-index: 2000000;\n    box-shadow: 0px 4px 10px rgb(63 63 68 / 40%);\n    max-height: 90%;\n    box-sizing: border-box;\n    opacity: 1;\n    padding: ".concat(o?"20px":"32px",";\n    background-color: ").concat(n.backgroundColor,";\n    overflow: auto;\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    border: none;\n    text-align: left;\n  "),s=function(){var e="\n      ".concat(t,".").concat(ye.ButtonsClass," {\n        flex-direction: column;\n        gap: 3px;\n      }\n      ").concat(t,".").concat(ye.ButtonsGranularClass," :nth-child(1) {\n        order: 3;\n      }\n      ").concat(t,".").concat(ye.ButtonsGranularClass," :nth-child(2) {\n        order: 1;\n      }\n      ").concat(t,".").concat(ye.ButtonsGranularClass," :nth-child(3) {\n        order: 2;\n      }\n    ");return"\n      @media only screen and (max-width: 480px) {\n        ".concat(e,"\n      }\n    ")},c="\n    ".concat(t,".").concat(ye.DialogClass," {\n      ").concat(i,"\n      bottom: 0%;\n      width: 100%;\n    }\n    ").concat(t,".").concat(ye.DialogClass," button {\n      margin: 0 10px 0 0;\n    }\n    @media only screen and (max-width: ").concat(a,") {\n      ").concat(t,".").concat(ye.DialogClass," button {\n        margin: 15px 10px 0 0;\n      }\n    }\n    ").concat(r,"\n    ").concat(t,".").concat(ye.WrapperClass," {\n      flex-direction: row;\n    }\n    @media only screen and (max-width: ").concat(a,") {\n      ").concat(t,".").concat(ye.WrapperClass," {\n        flex-direction: column;\n      }\n    }\n    ").concat(t,".").concat(ye.BodyClass," {\n      margin-right: 5%;\n      margin-bottom: 0;\n    }\n    @media only screen and (max-width: ").concat(a,") {\n      ").concat(t,".").concat(ye.BodyClass," {\n        margin-right: 0;\n        margin-bottom: 10px;\n        width: 100%;\n      }\n    }\n    ").concat(t,".").concat(ye.ButtonsClass," {\n      display: flex;\n      min-width: 580px;\n      flex-direction: row;\n      gap: 20px;\n    }\n    @media only screen and (max-width: ").concat(a,") {\n      ").concat(t,".").concat(ye.ButtonsClass," {\n        min-width: auto;\n        width: 100%;\n        justify-content: flex-end;\n      }\n    }\n    ").concat(s(),"\n  "),l="\n    ".concat(t,".").concat(ye.DialogClass," {\n      ").concat(i,"\n      top: 50%;\n      left: 25%;\n      width: 50%;\n      transform: translate(0, -50%);\n      min-width: 280px;\n      border-radius: 3px;\n    }\n    ").concat(r,"\n    @media only screen and (max-width: 1300px) {\n      ").concat(t,".").concat(ye.DialogClass," {\n        left: 15%;\n        width: 70%;\n      }\n    }\n    @media only screen and (max-width: 900px) {\n      ").concat(t,".").concat(ye.DialogClass," {\n        left: 5%;\n        width: 90%;\n      }\n    }\n    ").concat(t,".").concat(ye.BodyClass," {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n    ").concat(t,".").concat(ye.ButtonsClass," {\n      display: flex;\n      width: 100%;\n      justify-content: flex-end;\n      flex-direction: row;\n      gap: 20px;\n    }\n    ").concat(s(),"\n  "),u="\n    ".concat(t,".").concat(ye.DialogClass," {\n      ").concat(i,"\n      bottom: 0;\n      left: 0;\n      max-width: 650px;\n      border-top-right-radius: 3px;\n    }\n    ").concat(r,"\n    ").concat(t,".").concat(ye.BodyClass," {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n    ").concat(t,".").concat(ye.ButtonsClass," {\n      display: flex;\n      justify-content: flex-end;\n      width: 100%;\n      flex-direction: row;\n      gap: 20px;\n    }\n    ").concat(s(),"\n  "),d="\n    ".concat(t,".").concat(ye.DialogClass," {\n      ").concat(i,"\n      bottom: 0;\n      right: 0;\n      max-width: 650px;\n      border-top-left-radius: 3px;\n    }\n    ").concat(r,"\n    ").concat(t,".").concat(ye.BodyClass," {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n    ").concat(t,".").concat(ye.ButtonsClass," {\n      display: flex;\n      justify-content: flex-end;\n      width: 100%;\n      flex-direction: row;\n      gap: 20px;\n    }\n    ").concat(s(),"\n  "),p="\n    ".concat(t,".").concat(ye.DialogClass," {\n      ").concat(i,"\n      bottom: 0;\n      left: ").concat(o?"32%":"25%",";\n      width: ").concat(o?"36%":"50%",";\n      min-width: 280px;\n      border-top-right-radius: 3px;\n      border-top-left-radius: 3px;\n    }\n    ").concat(r,"\n    @media only screen and (max-width: 1300px) {\n      ").concat(t,".").concat(ye.DialogClass," {\n        left: ").concat(o?"22%":"15%",";\n        width: ").concat(o?"56%":"70%",";\n      }\n    }\n    @media only screen and (max-width: 900px) {\n      ").concat(t,".").concat(ye.DialogClass," {\n        left: ").concat(o?"10%":"5%",";\n        width: ").concat(o?"80%":"90%",";\n      }\n    }\n    ").concat(t,".").concat(ye.BodyClass," {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n    ").concat(t,".").concat(ye.ButtonsClass," {\n      display: flex;\n      width: 100%;\n      justify-content: flex-end;\n      flex-direction: row;\n      gap: 20px;\n    }\n    ").concat(t,".").concat(ye.DialogClass," h2 {\n      line-height: ").concat(o?"1":"initial",";\n    }\n    ").concat(s(),"\n  ");switch(e){case he.BottomFullWidth:return c;case he.Center:return l;case he.BottomLeft:return u;case he.BottomRight:return d;case he.BottomCenter:return p;default:return c}}(u,l,c,d),h=r||s,f=function(e,n,t){if(void 0===t&&(t=!1),e===fe.Custom)return{accept:_e(n),decline:_e(n),manage:Ce(n)};var o=e===fe.Dark,a=t?ve.Black:ve.White,r=t?ve.White:ve.Black;return{accept:"\n    background: ".concat(o?ve.Black:a,";\n    color: ").concat(o?ve.White:r,";\n  "),decline:"\n    background: ".concat(o?ve.Black:a,";\n    color: ").concat(o?ve.White:r,";\n  "),manage:"\n    background: transparent;\n    border: none;\n    color: ".concat(o?ve.White:ve.Black,";\n  ")}}(n.theme.theme,l,h);return"\n    ".concat(c,".").concat(ye.DialogClass," h2 {\n      color: ").concat(l.fontColor,";\n      font-family: inherit;\n      font-size: 120%;\n      margin: 0 0 .5em 0;\n      padding: 0;\n      font-weight: bold;\n    }\n    ").concat(c,".").concat(ye.DialogClass," p {\n      color: ").concat(l.fontColor,";\n      font-family: inherit;\n      line-height: 1.3;\n      margin: 0;\n      padding: 0;\n    }\n    ").concat(c,".").concat(ye.DialogClass," a {\n      color: ").concat(l.fontColor,";\n      text-decoration: underline;\n    }\n    ").concat(c,".").concat(ye.DialogClass," button {\n      border: none;\n      text-decoration: none;\n      font-family: inherit;\n      padding: ").concat(d?"8px 25px":"10px 25px",";\n      margin-top: ").concat(d?"7px":"15px",";\n      font-size: 100%;\n      flex-basis: 50%;\n      border-radius: 2px;\n      line-height: 120%;\n      height: unset;\n      text-align: center;\n    }\n    ").concat(c,".").concat(ye.DialogClass," button:focus {\n      outline: none;\n      box-shadow: 0 0 0 4px ").concat(l.focused,";\n    }\n    ").concat(c,".").concat(ye.DialogClass," button:hover {\n      cursor: pointer;\n    }\n    ").concat(c,".").concat(ye.DialogClass," button.").concat(ye.ButtonAcceptClass," {\n      border: 1px solid ").concat(l.button.borderColor,";\n      ").concat(f.accept,"\n    }\n    ").concat(c,".").concat(ye.DialogClass," button.").concat(ye.ButtonManagePrefsClass," {\n      text-decoration: underline;\n      padding: 0;\n      ").concat(f.manage,"\n    }\n    ").concat(c,".").concat(ye.DialogClass," button.").concat(ye.ButtonManagePrefsClass,":focus {\n      box-shadow: none;\n    }\n    ").concat(c,".").concat(ye.DialogClass," button.").concat(ye.ButtonManagePrefsClass,":focus span {\n      outline: 2px solid ").concat(l.focused,";\n    }\n    ").concat(c,".").concat(ye.DialogClass," button.").concat(ye.ButtonDeclineClass," {\n      border: 1px solid ").concat(l.button.borderColor,";\n      ").concat(f.decline,"\n    }\n    ").concat(c,".").concat(ye.BodyClass," p a:focus {\n      outline: 2px solid ").concat(l.focused,";\n      box-shadow: none;\n    }\n    ").concat(p,"\n  ")}var ke="8e9cb600c40a8849ba2b6151bb05805c";function Ie(e,n,t){var o;try{!function(e){var n=new XMLHttpRequest;n.open("POST","https://notify.bugsnag.com/",!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Bugsnag-Api-Key",ke),n.setRequestHeader("Bugsnag-Payload-Version","5");var t=function(e){var n=function(e){return e.stackTrace||e.stack||e.description||e.name}(e.error),t=(n||"unknown error").split("\n")[0].split(":"),o=t[0],a=t[1];return JSON.stringify({payloadVersion:5,notifier:{name:"privacyBanner",version:"latest",url:"-"},events:[{exceptions:[{errorClass:(o||"").trim(),message:(a||"").trim(),stacktrace:[{file:"storefront-banner.js",lineNumber:"1",method:n}],type:"browserjs"}],context:e.context||"general",app:{id:"privacyBanner",version:"latest"},metaData:{request:{shopId:e.shopId,shopUrl:window.location.href},device:{userAgent:window.navigator.userAgent},"Additional Notes":e.notes},unhandled:!1}]})}(e);n.send(t)}({error:e,context:n,shopId:Te()||(null===(o=window.Shopify)||void 0===o?void 0:o.shop),notes:t})}catch(e){}}function Te(){var e;try{var n=null===(e=null===document||void 0===document?void 0:document.getElementById("shopify-features"))||void 0===e?void 0:e.textContent;return n?JSON.parse(n).shopId:null}catch(e){return null}}function De(e){for(var n=0,t=decodeURIComponent(document.cookie).split(";");n<t.length;n++){var o=t[n].split("="),a=o[0],r=o[1];if(a.trim()===e)return r}return""}function Se(e){var n={marketing:e.marketing,analytics:e.analytics,preferences:e.preferences,sale_of_data:e.sale_of_data};e.storefrontAccessToken&&(n.headlessStorefront=!0,n.checkoutRootDomain=e.checkoutRootDomain,n.storefrontRootDomain=e.storefrontRootDomain,n.storefrontAccessToken=e.storefrontAccessToken),de(n,e.callback)}var Oe=function(){var e=ue();return e.marketing===i.NO_VALUE&&e.analytics===i.NO_VALUE&&e.preferences===i.NO_VALUE},Re=function(){var e=O()&&Oe();return!window.location.pathname.match(/\/password$/)&&e},Ne=function(){return"1"===function(e){var n=window.location.search.substring(1);if(0===n.length)return null;var t=n.split("&").map((function(e){return e.split("=")})).filter((function(n){return n[0]===e}))[0];return(t?t[1]:null)||null}("preview_privacy_banner")},Pe=function(){return"1"===De("_ab")&&Oe()},Be=function(){return Ne()||Pe()},Le=function(){function e(){}return e.getServerData=function(e,n,a,r){return t(this,void 0,void 0,(function(){return o(this,(function(t){return this.domain=e,this.accessToken=n||this.liquidAccessToken(),this.locale=a,this.country=r,[2,this.getDataFromStorefrontApi()]}))}))},e.getEmbeddedData=function(){var e=document.getElementById("scb4127");if(e)return JSON.parse(e.textContent||"")},e.fetchParams=function(e){var n=e.accessToken,t=e.unlocalized,o=this.currentLanguage(),a=this.currentCountry(),r=!o||!a||t?"":"@inContext(language: ".concat(o,", country: ").concat(a,")");return{headers:{"content-type":"application/json","x-shopify-storefront-access-token":n},body:JSON.stringify({query:"\n        query bannerQuery ($isPreviewMode: Boolean = false) ".concat(r," {\n          consentManagement {\n            banner {\n              enabled\n              isDefault\n              position\n              policyLinkText\n              policyLinkUrl\n              title\n              text\n              buttonPrefsOpenText\n              buttonAcceptText\n              buttonDeclineText\n              regionVisibility @include(if: $isPreviewMode)\n              theme {\n                theme\n                fontColor\n                backgroundColor\n                buttonFontColor\n                buttonBackgroundColor\n              }\n              preferences {\n                title\n                introTitle\n                introText\n                buttonAcceptText\n                buttonDeclineText\n                buttonSaveText\n                bulletPoints {\n                  enabled\n                  title\n                  firstText\n                  secondText\n                  thirdText\n                }\n                purposes {\n                  essentialName\n                  essentialDesc\n                  performanceName\n                  performanceDesc\n                  preferencesName\n                  preferencesDesc\n                  marketingName\n                  marketingDesc\n                }\n              }\n              experiment {\n                title\n                preferences\n                privacyPolicy\n                customizeYour\n              }\n            }\n          }\n        }"),variables:{isPreviewMode:Be()}}),method:"POST"}},e.getDataFromStorefrontApi=function(e){return t(this,void 0,void 0,(function(){var t,a,r,i,s;return o(this,(function(o){switch(o.label){case 0:if(!this.accessToken)throw new Error("Missing access token");return t=this.domain?"https://".concat(this.domain):"",a="".concat(t,"/api/unstable/graphql.json"),[4,fetch(a,this.fetchParams({accessToken:this.accessToken,unlocalized:e}))];case 1:return 200!==(r=o.sent()).status?[3,3]:[4,r.json()];case 2:if((i=o.sent()).errors){if((s=i.errors.find((function(e){return"argumentLiteralsIncompatible"===e.extensions.code})))&&!e)return window.Weglot||Ie(new Error(s.message),"DataFetching"),[2,this.getDataFromStorefrontApi(!0)];throw new Error(i.errors[0].message)}return[2,n({},i.data.consentManagement.banner)];case 3:throw new Error("Could not reach the server")}}))}))},e.liquidAccessToken=function(){var e=document.documentElement.querySelector("#shopify-features");if(e){var n=JSON.parse(e.textContent||"").accessToken;if(n)return n;console.warn("Could not find liquid access token")}else console.warn("Could not find liquid access token")},e.currentLanguage=function(){var e=this.locale;if(e){e=e.replace("-","_").toUpperCase();return["PT_BR","PT_PT","ZH_CN","ZH_TW"].includes(e)||(e=e.split("_")[0]),e}},e.currentCountry=function(){var e;return null===(e=this.country)||void 0===e?void 0:e.toUpperCase()},e}();function He(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Me(Object(t),!0).forEach((function(n){He(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Fe="http://localhost:8082",qe="https://monorail-edge.shopifysvc.com",Ve="/v1/produce";class ze{constructor(e){this.producer=e}do(e,n){return void 0!==e.schemaId?this.producer.produce(e):this.producer.produceBatch(e)}}function Ue(){if("undefined"!=typeof crypto&&crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();const e=new Array(36);for(let n=0;n<36;n++)e[n]=Math.floor(16*Math.random());return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]="-",e.map((e=>e.toString(16))).join("")}function We(e,n=!0){return e&&Object.keys(e).length&&n?Object.keys(e).map((n=>{return{[(t=n,t.split(/(?=[A-Z])/).join("_").toLowerCase())]:e[n]};var t})).reduce(((e,n)=>je(je({},e),n))):e}function Ke(e){return e.events.map((e=>{let n=!0,t=!0;return e&&e.options&&Object.prototype.hasOwnProperty.call(e.options,"convertEventCase")&&(n=Boolean(e.options.convertEventCase)),e&&e.options&&Object.prototype.hasOwnProperty.call(e.options,"convertMetaDataCase")&&(t=Boolean(e.options.convertMetaDataCase)),{schema_id:e.schemaId,payload:We(e.payload,n),metadata:We(e.metadata,t)}}))}class Ge extends Error{constructor(e){super(`Error producing to the Monorail Edge. Response received: ${JSON.stringify(e)}`),this.response=e,Object.setPrototypeOf(this,Ge.prototype)}}class $e extends Error{constructor(e){super(`Error producing to the Monorail Edge. Response received: ${JSON.stringify(e)}`),Object.setPrototypeOf(this,$e.prototype),this.response=e}}class Qe extends Error{constructor(e){super(`Error completing request. A network failure may have prevented the request from completing. Error: ${e}`),Object.setPrototypeOf(this,Qe.prototype)}}class Ye{static withEndpoint(e){return new Ye(`https://${new URL(e).hostname}`)}constructor(e=Fe,n=!1){this.edgeDomain=e,this.keepalive=n}async produceBatch(e){const n={events:Ke(e),metadata:We(e.metadata)};let t;try{t=await fetch(this.produceBatchEndpoint(),{method:"post",headers:Je(e.metadata),body:JSON.stringify(n),keepalive:this.keepalive})}catch(e){throw new Qe(e)}if(207===t.status){const e=await t.json();throw new $e(e)}if(!t.ok)throw new Ge({status:t.status,message:await t.text()});return{status:t.status}}async produce(e){let n,t=!0;e&&e.options&&Object.prototype.hasOwnProperty.call(e.options,"convertEventCase")&&(t=Boolean(e.options.convertEventCase));try{n=await async function({endpoint:e,event:n,keepalive:t}){return fetch(null!=e?e:qe+Ve,{method:"post",headers:Je(n.metadata),body:JSON.stringify({schema_id:n.schemaId,payload:n.payload}),keepalive:t})}({endpoint:this.produceEndpoint(),keepalive:this.keepalive,event:je(je({},e),{},{payload:We(e.payload,t)})})}catch(e){throw new Qe(e)}if(!n)throw new Ge({message:"No response from edge"});if(!n.ok)throw new Ge({status:n.status,message:await n.text()});return{status:n.status}}produceBatchEndpoint(){return this.edgeDomain+"/unstable/produce_batch"}produceEndpoint(){return this.edgeDomain+Ve}}function Je(e){const n={"Content-Type":"application/json; charset=utf-8","X-Monorail-Edge-Event-Created-At-Ms":(e&&e.eventCreatedAtMs||Date.now()).toString(),"X-Monorail-Edge-Event-Sent-At-Ms":Date.now().toString(),"X-Monorail-Edge-Client-Message-Id":(e&&e.clientMessageId||Ue()).toString()};return e&&e.userAgent&&(n["User-Agent"]=e.userAgent),e&&e.remoteIp&&(n["X-Forwarded-For"]=e.remoteIp),n}class Xe{static printWelcomeMessage(e){console.log(`%cðŸ‘‹ from Monorail%c\n\nWe've noticed that you're${e?"":" not"} running in debug mode. As such, we will ${e?"produce":"not produce"} Monorail events to the console. \n\nIf you want Monorail events to ${e?"stop":"start"} appearing here, %cset debugMode=${(!e).toString()}%c, for the Monorail Log Producer in your code.`,"font-size: large;","font-size: normal;","font-weight: bold;","font-weight: normal;")}constructor(e){this.sendToConsole=e,e&&Xe.printWelcomeMessage(e)}produce(e){return this.sendToConsole&&console.log("Monorail event produced",e),new Promise((n=>{n(e)}))}produceBatch(e){return this.sendToConsole&&console.log("Monorail Batch event produced",e),new Promise((n=>{n(e)}))}}class Ze{static createLogProducer(e){return new Ze(new Xe(e.debugMode),e.middleware||[])}static createHttpProducerWithEndpoint(e,n=[]){return new Ze(Ye.withEndpoint(e),n)}static createHttpProducer(e){const n=e.options&&e.options.keepalive;return new Ze(e.production?new Ye(qe,n):new Ye(Fe,n),e.middleware||[])}static buildMiddlewareChain(e,n=0){return n===e.length?this.identityFn:t=>e[n].do(t,this.buildMiddlewareChain(e,n+1))}constructor(e,n){this.producer=e,this.middleware=n,this.executeChain=Ze.buildMiddlewareChain(this.middleware.concat(new ze(e)))}produce(e){return e.metadata=je({eventCreatedAtMs:Date.now(),clientMessageId:Ue()},e.metadata),this.executeChain(e)}produceBatch(e){return this.executeChain(e)}}class en extends Error{constructor(e,n){super(e),this.cause=n}}var nn;!function(e){e.Draft="draft",e.Scheduled="scheduled",e.Running="running",e.Cooldown="cooldown",e.Ended="ended",e.Concluded="concluded"}(nn||(nn={}));const tn=["default","adwords_campaign","api_client","brochure_session","business","checkout","collabs_creator_id","email","facebook_ad","facebook_campaign","fraud_review","handshake_retailer_account","identity_user","mobile_native_install_id","mozart_campaign_contact","mozart_campaign_shop","mozart_contact","mozart_email_send","mozart_message","mozart_shop","risk_analysis_order","session_token","shop","shop_account","shop_analytics_trace_id","shop_app_user","shop_pay_checkout","shop_pay_user","shop_website_visitor","shopify_protect","shopify_user_token","storefront","storefront_user","support_ticket"];class on{constructor(e,n,t={}){this.currentRequest=new Map,this.API_KEY=n,this.API_URL=`${e}/public/graphql`,this.FETCH_OPTIONS=t}async getFlagsAndExperimentsByClientHandle(e,n){const t=this.sortHandles(n),o=this.sortHandles(e);try{var a,r,i;const e=await this.gqlRequest("query experimentsAndFlagsByHandle($experimentHandles: [String!]!, $flagHandles: [String!]!) {\n  experimentsByClientHandle(clientHandles: $experimentHandles) {\n    handle\n    clientHandle\n    version\n    currentRollout {\n      salt\n      percentage\n    }\n    holdouts {\n      handle\n      percentage\n      subjectType {\n        handle\n      }\n    }\n    subjectType {\n      handle\n    }\n    manualAssignments {\n      subjectId\n      variantHandle\n    }\n    shippedVariant {\n      handle\n      id\n      size\n    }\n    status\n    variants {\n      handle\n      id\n      size\n    }\n  }\n  featuresByClientHandle(clientHandles: $flagHandles) {\n  handle\n  clientHandle\n  version\n  currentRolloutPercentage\n  holdouts {\n    handle\n    percentage\n    subjectType {\n      handle\n    }\n  }\n  manualAssignments {\n    subjectId\n    variantHandle\n  }\n  subjectTypeHandle\n}\n}",{flagHandles:t,experimentHandles:o});var s,c;if(null!=e&&null!=(a=e.data)&&a.experimentsByClientHandle||null!=e&&null!=(r=e.data)&&r.featuresByClientHandle)return{experiments:(null==e||null==(s=e.data)?void 0:s.experimentsByClientHandle)||[],flags:(null==e||null==(c=e.data)?void 0:c.featuresByClientHandle)||[]};if(null!=(i=e.errors)&&i.length)return this.FETCH_OPTIONS.onError&&this.FETCH_OPTIONS.onError(new en("Network error",e.errors[0].message)),null}catch(e){this.FETCH_OPTIONS.onError&&this.FETCH_OPTIONS.onError(new en("Network error",e))}return null}async gqlRequest(e,n){const{timeout:t}=this.FETCH_OPTIONS,o=AbortSignal.timeout(void 0===t?5e3:t),a=JSON.stringify({query:e,variables:n}),r=this.currentRequest.get(a);if(r)return(await r).json();try{const e=fetch(this.API_URL,{method:"POST",body:a,signal:o,headers:{"content-type":"application/json",Authorization:`Token ${this.API_KEY}`}});return this.currentRequest.set(a,e),(await e).json()}finally{this.currentRequest.delete(a)}}sortHandles(e){return e.sort(((e,n)=>e.localeCompare(n)))}}function an(e){throw new Error(`Missing case statement for ${JSON.stringify(e)}`)}function rn(e){return e.holdoutSubject?sn(e.holdoutSubject):null}function sn(e){switch(e.type){case"shop":return e.shopId;case"brochure_session":case"shopify_user_token":case"shop_website_visitor":case"storefront_user":return e.userToken;case"default":case"adwords_campaign":case"api_client":case"business":case"checkout":case"collabs_creator_id":case"email":case"facebook_ad":case"facebook_campaign":case"fraud_review":case"handshake_retailer_account":case"identity_user":case"mobile_native_install_id":case"mozart_campaign_contact":case"mozart_campaign_shop":case"mozart_contact":case"mozart_email_send":case"mozart_message":case"mozart_shop":case"risk_analysis_order":case"session_token":case"shop_account":case"shop_analytics_trace_id":case"shop_app_user":case"shop_pay_checkout":case"shop_pay_user":case"shopify_protect":case"storefront":case"support_ticket":return e.subjectId;default:return an(e),null}}function cn(e,n){return tn.includes(n)?e.type===n:"default"===e.type}const ln="non-pii",un="shopify-owned-pii",dn="merchant-owned-pii";const pn="new",hn="manual",fn="storage",gn="shipped",mn="inactive",yn="cooldown",bn="holdout",vn="non-rollout",Cn="unqualified",_n="missing-in-storage",wn="error";class En{constructor(e){this.variant=null,this.subject=null,this.duration=void 0,this.experiment=e.experiment,this.variant=e.variant||null,this.subject=e.subject||null,this.source=e.source}variantHandle(){return this.variant?this.variant.handle:null}experimentHandle(){return this.experiment.handle}experimentSubjectTypeHandle(){return this.experiment.subjectType.handle}subjectId(){var e;return this.subject&&(null==(e=sn(this.subject))?void 0:e.toString())||null}subjectTypeHandle(){var e;return(null==(e=this.subject)?void 0:e.type)||null}salt(){var e;return"percentage"in this.experiment?null:(null==(e=this.experiment.currentRollout)?void 0:e.salt)||null}isManualAssignment(){return this.source===hn}}function xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var An,kn,In={exports:{}},Tn={exports:{}};An="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kn={rotl:function(e,n){return e<<n|e>>>32-n},rotr:function(e,n){return e<<32-n|e>>>n},endian:function(e){if(e.constructor==Number)return 16711935&kn.rotl(e,8)|4278255360&kn.rotl(e,24);for(var n=0;n<e.length;n++)e[n]=kn.endian(e[n]);return e},randomBytes:function(e){for(var n=[];e>0;e--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(e){for(var n=[],t=0,o=0;t<e.length;t++,o+=8)n[o>>>5]|=e[t]<<24-o%32;return n},wordsToBytes:function(e){for(var n=[],t=0;t<32*e.length;t+=8)n.push(e[t>>>5]>>>24-t%32&255);return n},bytesToHex:function(e){for(var n=[],t=0;t<e.length;t++)n.push((e[t]>>>4).toString(16)),n.push((15&e[t]).toString(16));return n.join("")},hexToBytes:function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(parseInt(e.substr(t,2),16));return n},bytesToBase64:function(e){for(var n=[],t=0;t<e.length;t+=3)for(var o=e[t]<<16|e[t+1]<<8|e[t+2],a=0;a<4;a++)8*t+6*a<=8*e.length?n.push(An.charAt(o>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],t=0,o=0;t<e.length;o=++t%4)0!=o&&n.push((An.indexOf(e.charAt(t-1))&Math.pow(2,-2*o+8)-1)<<2*o|An.indexOf(e.charAt(t))>>>6-2*o);return n}},Tn.exports=kn;var Dn=Tn.exports,Sn={utf8:{stringToBytes:function(e){return Sn.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Sn.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var n=[],t=0;t<e.length;t++)n.push(255&e.charCodeAt(t));return n},bytesToString:function(e){for(var n=[],t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return n.join("")}}},On=Sn,Rn=function(e){return null!=e&&(Nn(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Nn(e.slice(0,0))}(e)||!!e._isBuffer)};function Nn(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}!function(){var e=Dn,n=On.utf8,t=Rn,o=On.bin,a=function(r,i){r.constructor==String?r=i&&"binary"===i.encoding?o.stringToBytes(r):n.stringToBytes(r):t(r)?r=Array.prototype.slice.call(r,0):Array.isArray(r)||r.constructor===Uint8Array||(r=r.toString());for(var s=e.bytesToWords(r),c=8*r.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var f=a._ff,g=a._gg,m=a._hh,y=a._ii;for(h=0;h<s.length;h+=16){var b=l,v=u,C=d,_=p;l=f(l,u,d,p,s[h+0],7,-680876936),p=f(p,l,u,d,s[h+1],12,-389564586),d=f(d,p,l,u,s[h+2],17,606105819),u=f(u,d,p,l,s[h+3],22,-1044525330),l=f(l,u,d,p,s[h+4],7,-176418897),p=f(p,l,u,d,s[h+5],12,1200080426),d=f(d,p,l,u,s[h+6],17,-1473231341),u=f(u,d,p,l,s[h+7],22,-45705983),l=f(l,u,d,p,s[h+8],7,1770035416),p=f(p,l,u,d,s[h+9],12,-1958414417),d=f(d,p,l,u,s[h+10],17,-42063),u=f(u,d,p,l,s[h+11],22,-1990404162),l=f(l,u,d,p,s[h+12],7,1804603682),p=f(p,l,u,d,s[h+13],12,-40341101),d=f(d,p,l,u,s[h+14],17,-1502002290),l=g(l,u=f(u,d,p,l,s[h+15],22,1236535329),d,p,s[h+1],5,-165796510),p=g(p,l,u,d,s[h+6],9,-1069501632),d=g(d,p,l,u,s[h+11],14,643717713),u=g(u,d,p,l,s[h+0],20,-373897302),l=g(l,u,d,p,s[h+5],5,-701558691),p=g(p,l,u,d,s[h+10],9,38016083),d=g(d,p,l,u,s[h+15],14,-660478335),u=g(u,d,p,l,s[h+4],20,-405537848),l=g(l,u,d,p,s[h+9],5,568446438),p=g(p,l,u,d,s[h+14],9,-1019803690),d=g(d,p,l,u,s[h+3],14,-187363961),u=g(u,d,p,l,s[h+8],20,1163531501),l=g(l,u,d,p,s[h+13],5,-1444681467),p=g(p,l,u,d,s[h+2],9,-51403784),d=g(d,p,l,u,s[h+7],14,1735328473),l=m(l,u=g(u,d,p,l,s[h+12],20,-1926607734),d,p,s[h+5],4,-378558),p=m(p,l,u,d,s[h+8],11,-2022574463),d=m(d,p,l,u,s[h+11],16,1839030562),u=m(u,d,p,l,s[h+14],23,-35309556),l=m(l,u,d,p,s[h+1],4,-1530992060),p=m(p,l,u,d,s[h+4],11,1272893353),d=m(d,p,l,u,s[h+7],16,-155497632),u=m(u,d,p,l,s[h+10],23,-1094730640),l=m(l,u,d,p,s[h+13],4,681279174),p=m(p,l,u,d,s[h+0],11,-358537222),d=m(d,p,l,u,s[h+3],16,-722521979),u=m(u,d,p,l,s[h+6],23,76029189),l=m(l,u,d,p,s[h+9],4,-640364487),p=m(p,l,u,d,s[h+12],11,-421815835),d=m(d,p,l,u,s[h+15],16,530742520),l=y(l,u=m(u,d,p,l,s[h+2],23,-995338651),d,p,s[h+0],6,-198630844),p=y(p,l,u,d,s[h+7],10,1126891415),d=y(d,p,l,u,s[h+14],15,-1416354905),u=y(u,d,p,l,s[h+5],21,-57434055),l=y(l,u,d,p,s[h+12],6,1700485571),p=y(p,l,u,d,s[h+3],10,-1894986606),d=y(d,p,l,u,s[h+10],15,-1051523),u=y(u,d,p,l,s[h+1],21,-2054922799),l=y(l,u,d,p,s[h+8],6,1873313359),p=y(p,l,u,d,s[h+15],10,-30611744),d=y(d,p,l,u,s[h+6],15,-1560198380),u=y(u,d,p,l,s[h+13],21,1309151649),l=y(l,u,d,p,s[h+4],6,-145523070),p=y(p,l,u,d,s[h+11],10,-1120210379),d=y(d,p,l,u,s[h+2],15,718787259),u=y(u,d,p,l,s[h+9],21,-343485551),l=l+b>>>0,u=u+v>>>0,d=d+C>>>0,p=p+_>>>0}return e.endian([l,u,d,p])};a._ff=function(e,n,t,o,a,r,i){var s=e+(n&t|~n&o)+(a>>>0)+i;return(s<<r|s>>>32-r)+n},a._gg=function(e,n,t,o,a,r,i){var s=e+(n&o|t&~o)+(a>>>0)+i;return(s<<r|s>>>32-r)+n},a._hh=function(e,n,t,o,a,r,i){var s=e+(n^t^o)+(a>>>0)+i;return(s<<r|s>>>32-r)+n},a._ii=function(e,n,t,o,a,r,i){var s=e+(t^(n|~o))+(a>>>0)+i;return(s<<r|s>>>32-r)+n},a._blocksize=16,a._digestsize=16,In.exports=function(n,t){if(null==n)throw new Error("Illegal argument "+n);var r=e.wordsToBytes(a(n,t));return t&&t.asBytes?r:t&&t.asString?o.bytesToString(r):e.bytesToHex(r)}}();var Pn=xn(In.exports);class Bn{constructor(e,n=10){this.value=16===n?`0x${e}`:e}modulo(e){return this.value=BigInt(this.value)%BigInt(e),this}toNumber(){return Number(this.value)}}const Ln=(e,n,t="")=>{const o=Pn(`${e}${n}${t}`);return new Bn(o,16).modulo(100).toNumber()};class Hn{constructor(e){this.assignmentLogQueue=new Set,this.experiment=e.rawExperiment,this.assignments=e.assignments,this.qualifier=e.qualifier,this.qualifierOptions=e.qualifierOptions}get bucketingHandle(){return this.experiment.version>0?this.clientHandle:this.experiment.handle}get clientHandle(){return this.experiment.clientHandle}setQualifier(e){this.qualifier=e}removeQualifier(){this.qualifier=void 0}async variantFor(e,n){const t=await this.assignmentWithDuration((()=>this.variantForHelper(e,n)));return null==n||n.enqueue(t),t}async assignmentWithDuration(e){const n=performance.now(),t=await e();return t.duration=Math.ceil(performance.now()-n),t}async variantForHelper(e,n){var t,o;const{assignments:a,experiment:r}=this,i=null==(t=sn(e))?void 0:t.toString();if(!i)return new En({experiment:r,source:wn});if(!cn(e,r.subjectType.handle))return new En({experiment:r,subject:e,source:wn});const s=await this.lookupVariantFor(e,n);if(s)return s;const c=this.shouldAssignSubject(e,n);if(!c.assignable)return new En({experiment:r,subject:e,source:c.reason});if(!await this.qualify(e)){var l,u;if(null!=(l=this.qualifierOptions)&&l.storeUnqualified)await a.store(r.handle,i,null,(null==(u=r.currentRollout)?void 0:u.salt)||"");return new En({experiment:r,subject:e,source:Cn})}const d=this.getVariant(i);if(!d)return new En({experiment:r,subject:e,source:vn});const p=new En({experiment:r,subject:e,variant:d,source:pn});return await a.store(r.handle,i,p.variantHandle(),(null==(o=r.currentRollout)?void 0:o.salt)||""),this.assignmentLogQueue.add({subject:e,isManualAssignment:!1,handle:this.bucketingHandle,variant:p.variantHandle()}),p}async lookupVariantFor(e,n){const t=this.manualAssignmentFor(e);if(t){this.assignmentLogQueue.add({subject:e,isManualAssignment:!0,handle:this.bucketingHandle,variant:t});const n=this.findVariantByHandle(t);return new En(n?{experiment:this.experiment,variant:n,source:hn,subject:e}:{experiment:this.experiment,source:wn,subject:e})}if(this.experiment.shippedVariant)return this.shippedVariantFor(e,this.experiment.shippedVariant,n);if(this.shouldReturnPreviousAssignment(e)){const n=await this.previousAssignment(e);if(n){if(n.variant){const t=this.findVariantByHandle(n.variant);return new En(t?{experiment:this.experiment,variant:this.findVariantByHandle(n.variant),source:fn,subject:e}:{experiment:this.experiment,source:wn,subject:e})}return new En({experiment:this.experiment,source:_n,subject:e})}}return null}subjectInRollout(e){var n,t,o,a;const r=null==(n=sn(e))?void 0:n.toString();if(!r)return!1;if(0===(null==(t=this.experiment.currentRollout)?void 0:t.percentage))return!1;if(null==(o=this.experiment.currentRollout)||!o.percentage)return!0;const i=this.getDynamicRolloutHash(r);return(null==(a=this.experiment.currentRollout)?void 0:a.percentage)>i}getVariant(e){return this.pickVariant(this.experimentHash(e),this.experiment.variants)}qualify(e){var n;const t=null==(n=sn(e))?void 0:n.toString();if(!t)return!0;return!this.qualifier||this.qualifier(t,this.experiment)}shouldReturnPreviousAssignment(e){return this.active()&&this.subjectInRollout(e)}shouldAssignSubject(e,n){return this.active()?this.inCooldown()?{assignable:!1,reason:yn}:this.subjectInRollout(e)?this.assignHoldouts(e,n)?{assignable:!1,reason:bn}:{assignable:!0,reason:pn}:{assignable:!1,reason:vn}:{assignable:!1,reason:mn}}assignHoldouts(e,n){var t,o;const a=null==(t=sn(e))?void 0:t.toString(),r=null==(o=rn(e))?void 0:o.toString();if(!this.hasHoldouts())return!1;const i=r||a;if(!i)return!1;let s=!1;for(const t of this.experiment.holdouts){const o=this.holdoutHash(t.handle,i),a=this.pickVariant(o,[{id:"control",handle:"control",size:t.percentage},{id:"exposure",handle:"exposure",size:100-t.percentage}]);"control"===(null==a?void 0:a.handle)&&(s=!0),a&&(null==n||n.enqueue(new En({experiment:t,subject:e.holdoutSubject||e,variant:a,source:pn}))),this.assignmentLogQueue.add({subject:e.holdoutSubject||e,isManualAssignment:!1,handle:t.handle,variant:null==a?void 0:a.handle})}return s}hasHoldouts(){return this.experiment.holdouts.length>0}flushAssignmentLogs(){this.assignmentLogQueue.clear()}assignmentLogs(){return Array.from(this.assignmentLogQueue.values())}async previousAssignment(e){var n,t;const o=null==(n=sn(e))?void 0:n.toString();if(!o)return null;const{assignments:a,experiment:r}=this,i=await a.get(r.handle,o,(null==(t=r.currentRollout)?void 0:t.salt)||"");return i||null}pickVariant(e,n){let t=0;for(const o of n)if(t+=o.size,t>e)return o;return null}async shippedVariantFor(e,n,t){if(this.assignHoldouts(e,t))return new En({experiment:this.experiment,source:bn,subject:e});const o=await this.qualify(e);return new En(o?{experiment:this.experiment,variant:n,source:gn,subject:e}:{experiment:this.experiment,source:Cn,subject:e})}manualAssignmentFor(e){var n;const t=null==(n=sn(e))?void 0:n.toString();if(!t)return null;const o=this.experiment.manualAssignments.find((e=>e.subjectId===t));return o?o.variantHandle:null}experimentHash(e){var n;const t=(null==(n=this.experiment.currentRollout)?void 0:n.salt)||"";return Ln(this.bucketingHandle,e,t)}holdoutHash(e,n){return Ln(e,n,"")}getDynamicRolloutHash(e){return Ln(this.bucketingHandle,e,"_in_beta")}findVariantByHandle(e){return this.experiment.variants.find((n=>n.handle===e))||null}active(){return this.experiment.status===nn.Running||this.experiment.status===nn.Cooldown}inCooldown(){return this.experiment.status===nn.Cooldown}dehydrate(){return this.experiment}}var Mn;function jn(e){return 1e3*e}function Fn(e){return Date.now()-((null==e?void 0:e.updatedAt)||0)}function qn(e,n){return Fn(e)>jn(n)}!function(e){e.CacheFirst="cache-first",e.CacheOnly="cache-only",e.NetworkOnly="network-only"}(Mn||(Mn={}));class Vn{constructor(e){this.assignmentLogQueue=new Set,this.telemetryLogQueue=new Set,this.flag=e.rawFlag,this.qualifier=e.qualifier,this.qualifierOptions=e.qualifierOptions}get bucketingHandle(){return this.flag.version>0?this.clientHandle:this.flag.handle}get clientHandle(){return this.flag.clientHandle}async enabled(e){var n;const{flag:t}=this,o=null==(n=sn(e))?void 0:n.toString();if(!cn(e,t.subjectTypeHandle))return this.telemetryLogQueue.add({subject:e,assignmentSource:"error",flagHandle:this.bucketingHandle,result:"false",salt:"salt"}),{enabled:!1,isManualAssignment:!1};if(!o)return this.telemetryLogQueue.add({subject:e,assignmentSource:"error",flagHandle:this.bucketingHandle,result:"false",salt:"salt"}),{enabled:!1,isManualAssignment:!1};const a=this.checkManualAssignment(e);if(a)return a;if(this.isSubjectHeldOut(e))return{enabled:!1,isManualAssignment:!1};if(!await this.qualify(e))return this.telemetryLogQueue.add({subject:e,assignmentSource:"unqualified",flagHandle:this.bucketingHandle,result:"false",salt:"salt"}),{enabled:!1,isManualAssignment:!1};const r=this.subjectInRollout(e);return 0!==this.flag.currentRolloutPercentage&&this.telemetryLogQueue.add({subject:e,assignmentSource:"rollout",flagHandle:this.bucketingHandle,result:r?"true":"false",salt:"salt"}),{enabled:r,isManualAssignment:!1}}checkManualAssignment(e){const n=this.manualAssignmentFor(e);return n?(this.telemetryLogQueue.add({subject:e,assignmentSource:"manual",flagHandle:this.bucketingHandle,result:n.enabled?"true":"false",salt:"salt"}),n):null}isSubjectHeldOut(e){var n,t;const o=null==(n=sn(e))?void 0:n.toString(),a=null==(t=rn(e))?void 0:t.toString();if(!this.hasHoldouts())return!1;const r=a||o;if(!r)return!1;let i=!1;for(const n of this.flag.holdouts){const t=this.holdoutHash(n.handle,r),o=this.pickVariant(t,[{id:"control",handle:"control",size:n.percentage},{id:"exposure",handle:"exposure",size:100-n.percentage}]);"control"===o&&(i=!0),i&&this.telemetryLogQueue.add({subject:e,flagHandle:this.bucketingHandle,assignmentSource:"holdout",result:"false",salt:"salt",duration:0}),this.assignmentLogQueue.add({subject:e.holdoutSubject||e,isManualAssignment:!1,handle:n.handle,variant:o})}return i}hasHoldouts(){return this.flag.holdouts.length>0}flushTelemetryEvents(){this.telemetryLogQueue.clear()}telemetryEvents(){return Array.from(this.telemetryLogQueue.values())}flushAssignmentEvents(){this.assignmentLogQueue.clear()}assignmentEvents(){return Array.from(this.assignmentLogQueue.values())}subjectInRollout(e){var n;const t=null==(n=sn(e))?void 0:n.toString();if(!t)return!1;if(0===this.flag.currentRolloutPercentage)return!1;const o=this.getDynamicRolloutHash(t);return this.flag.currentRolloutPercentage>o}manualAssignmentFor(e){var n;const t=null==(n=sn(e))?void 0:n.toString();if(!t)return null;const o=this.flag.manualAssignments.find((e=>e.subjectId===t));return o?{enabled:"true"===o.variantHandle,isManualAssignment:!0}:null}qualify(e){var n;const t=null==(n=sn(e))?void 0:n.toString();return!t||(!this.qualifier||this.qualifier(t,this.flag))}pickVariant(e,n){let t=0;for(const o of n)if(t+=o.size,t>e)return o.handle;return null}holdoutHash(e,n){return Ln(e,n,"")}getDynamicRolloutHash(e){return Ln(this.bucketingHandle,e,"")}dehydrate(){return this.flag}}const zn="verdict:configs:v6";class Un{constructor(e){this.qualifiers=new Map,this.assignments=e.assignments,this.storageAdapter=e.storageAdapter,this.cacheConfiguration=Object.assign({cachePolicy:Mn.CacheFirst,cacheTTLSeconds:300,staleWhileRevalidateSeconds:60,staleIfErrorSeconds:300},e.cacheConfiguration||{}),this.networkFetcher=new on(e.apiHost,e.apiKey,e.fetchOptions)}async hydrate(e){await this.assignments.hydrate(e.assignments||[]),await this.storeConfigs(e.experiments||[],e.flags||[])}async dehydrate(){const e=await this.storageAdapter.get(zn),{experiments:n=[],flags:t=[]}=JSON.parse(e||"{}");return{experiments:n,flags:t,assignments:await this.assignments.dehydrate()||[]}}allHandlesInConfig(e,n,t){const o=new Set(t.experiments.map((({clientHandle:e})=>e))),a=new Set(t.flags.map((({clientHandle:e})=>e)));return e.every((e=>o.has(e)))&&n.every((e=>a.has(e)))}async loadConfig(e,n){if(this.cacheConfiguration.cachePolicy===Mn.CacheOnly){const e=await this.getConfigsFromStorage();return e?{experiments:e.experiments.map((e=>this.getExperimentFromExperimentDefinition(e))),flags:e.flags.map((e=>this.getFlagFromFlagDefinition(e))),updatedAt:Date.now()}:null}if(this.cacheConfiguration.cachePolicy===Mn.NetworkOnly)return this.fetchConfigWithCacheFallback(e,n,null);if(this.cacheConfiguration.cachePolicy===Mn.CacheFirst){const a=await this.getConfigsFromStorage(!0);if(a&&this.allHandlesInConfig(e,n,a)){const r=qn(a,this.cacheConfiguration.cacheTTLSeconds),i=(t=a,o=this.cacheConfiguration.staleWhileRevalidateSeconds,Date.now()-((null==t?void 0:t.updatedAt)||0)<jn(o));return r&&i?(this.fetchAndStoreConfigsInStorage(e,n),{experiments:a.experiments.map((e=>this.getExperimentFromExperimentDefinition(e))),flags:a.flags.map((e=>this.getFlagFromFlagDefinition(e))),updatedAt:Date.now()}):r&&!i?this.fetchConfigWithCacheFallback(e,n,a):{experiments:a.experiments.map((e=>this.getExperimentFromExperimentDefinition(e))),flags:a.flags.map((e=>this.getFlagFromFlagDefinition(e))),updatedAt:Date.now()}}return this.fetchConfigWithCacheFallback(e,n,a)}var t,o;return null}async fetchConfigWithCacheFallback(e,n,t){try{const o=await this.getConfigsFromNetwork(e,n,t);if(!o)throw new Error(`Error Fetching Config - ${e.join(",")} ${n.join(",")}`);return await this.storeConfigs(o.experiments,o.flags),{experiments:o.experiments.map((e=>this.getExperimentFromExperimentDefinition(e))),flags:o.flags.map((e=>this.getFlagFromFlagDefinition(e))),updatedAt:Date.now()}}catch(e){const n=await this.getConfigsFromStorage(!0);return function(e,n){const t=Fn(e),o=jn(n);return n>0&&t<o}(n,this.cacheConfiguration.staleIfErrorSeconds)&&n?{experiments:n.experiments.map((e=>this.getExperimentFromExperimentDefinition(e))),flags:n.flags.map((e=>this.getFlagFromFlagDefinition(e))),updatedAt:Date.now()}:null}}async lookupConfigsByHandles(e,n){const t=await this.loadConfig(e,n);if(t){const o=[],a=[];return n.forEach((e=>{const n=t.flags.find((n=>n.clientHandle===e));n?o.push(n):o.push(null)})),e.forEach((e=>{const n=t.experiments.find((n=>n.clientHandle===e));n?a.push(n):a.push(null)})),{experiments:a,flags:o}}return{experiments:e.map((()=>null)),flags:n.map((()=>null))}}addQualifier(e,n,t){this.qualifiers.set(e,[n,t])}removeQualifier(e){this.qualifiers.delete(e)}async fetchAndStoreConfigsInStorage(e,n){const t=await this.getConfigsFromNetwork(e,n,await this.getConfigsFromStorage(!0));if(!t)return;const{experiments:o,flags:a}=t;await this.storeConfigs(o,a)}async getConfigsFromStorage(e){const n=await this.storageAdapter.get(zn);if(!n)return null;const t=JSON.parse(n);return qn(t,this.cacheConfiguration.cacheTTLSeconds)&&!e?null:t}getFlagFromFlagDefinition(e){const[n,t]=this.qualifiers.get(e.clientHandle)||[];return new Vn({qualifier:n,qualifierOptions:t,rawFlag:e})}getExperimentFromExperimentDefinition(e){const[n,t]=this.qualifiers.get(e.clientHandle)||[];return new Hn({rawExperiment:e,assignments:this.assignments,qualifier:n,qualifierOptions:t})}async getConfigsFromNetwork(e,n,t){const o=(null==t?void 0:t.experiments.map((({clientHandle:e})=>e)))||[],a=(null==t?void 0:t.flags.map((({clientHandle:e})=>e)))||[],r=Array.from(new Set([...e,...o])),i=Array.from(new Set([...n,...a])),s=await this.networkFetcher.getFlagsAndExperimentsByClientHandle(r,i);return s?{experiments:s.experiments,flags:s.flags,updatedAt:Date.now()}:null}storeConfigs(e,n){const t={experiments:e,flags:n,updatedAt:Date.now()};return this.storageAdapter.set(zn,JSON.stringify(t))}}const Wn="feature_telemetry_non_pii/1.0",Kn="feature_telemetry_merchant_owned_cookie_pii/2.0",Gn="feature_telemetry_shopify_owned_cookie_pii/2.0",$n="experiment_assignments/1.2",Qn="experiment_assignments_merchant_owned_pii/1.2",Yn="experiment_assignments_shopify_owned_pii/1.2",Jn="experiment_telemetry_non_pii/1.0",Xn="experiment_telemetry_shopify_owned_cookie_pii/1.0",Zn="experiment_telemetry_merchant_owned_cookie_pii/1.0";function et(e){return Math.max(Math.round(e),1)}let nt=class{constructor(e){this.logger=e.logger,this.sourceApp=e.sourceApp||"",this.sdkRuntime=e.sdkRuntime||"javascript",this.sampling=e.sampling}shouldSample(e){var n;const{sampling:t}=this;return!t||(!(e in t)||Math.random()<(null!=(n=t[e])?n:1))}maybeProduce(e){return this.shouldSample(e.schemaId)?this.logger.produce(e):null}async logFlagEvent(e,n,t,o,a,r){const i={sourceApp:this.sourceApp,featureHandle:n,result:t,subjectType:e.type,assignmentSource:o,duration:et(a),sdkVersion:"7.1.4",sdkRuntime:this.sdkRuntime,salt:r};switch(e.type){case"shop":await this.maybeProduce({schemaId:Wn,payload:Object.assign({subjectId:e.shopId.toString()},i)});break;case"brochure_session":case"shopify_user_token":case"shop_website_visitor":await this.maybeProduce({schemaId:Gn,payload:Object.assign({subjectId:e.userToken},i)});break;case"storefront_user":await this.maybeProduce({schemaId:Kn,payload:Object.assign({subjectId:e.userToken,shopId:e.shopId},i)});break;case"default":case"adwords_campaign":case"api_client":case"business":case"checkout":case"collabs_creator_id":case"email":case"facebook_ad":case"facebook_campaign":case"fraud_review":case"handshake_retailer_account":case"identity_user":case"mobile_native_install_id":case"mozart_campaign_contact":case"mozart_campaign_shop":case"mozart_contact":case"mozart_email_send":case"mozart_message":case"mozart_shop":case"risk_analysis_order":case"session_token":case"shop_account":case"shop_analytics_trace_id":case"shop_app_user":case"shop_pay_checkout":case"shop_pay_user":case"shopify_protect":case"storefront":case"support_ticket":await this.maybeProduce({schemaId:Wn,payload:Object.assign({subjectId:e.subjectId},i)});break;default:an(e)}}async logAssignment(e,n,t,o){const a={experiment:n,group:t,sourceApp:this.sourceApp,manualAssignment:o};switch(e.type){case"shop":await this.maybeProduce({schemaId:$n,payload:Object.assign({subjectId:e.shopId.toString()},a)});break;case"brochure_session":case"shopify_user_token":case"shop_website_visitor":await this.maybeProduce({schemaId:Yn,payload:Object.assign({userToken:e.userToken,sessionToken:e.sessionToken},a)});break;case"storefront_user":await this.maybeProduce({schemaId:Qn,payload:Object.assign({userToken:e.userToken,sessionToken:e.sessionToken,shopId:e.shopId},a)});break;case"default":case"adwords_campaign":case"api_client":case"business":case"checkout":case"collabs_creator_id":case"email":case"facebook_ad":case"facebook_campaign":case"fraud_review":case"handshake_retailer_account":case"identity_user":case"mobile_native_install_id":case"mozart_campaign_contact":case"mozart_campaign_shop":case"mozart_contact":case"mozart_email_send":case"mozart_message":case"mozart_shop":case"risk_analysis_order":case"session_token":case"shop_account":case"shop_analytics_trace_id":case"shop_app_user":case"shop_pay_checkout":case"shop_pay_user":case"shopify_protect":case"storefront":case"support_ticket":await this.maybeProduce({schemaId:$n,payload:Object.assign({subjectId:e.subjectId},a)});break;default:an(e)}}async logTelemetry(e){const n=e.subjectId();if(!n)return;const t=e.subjectTypeHandle();if(!t)return;const o=function(e){switch(e.type){case"shop":case"default":case"adwords_campaign":case"api_client":case"business":case"checkout":case"collabs_creator_id":case"email":case"facebook_ad":case"facebook_campaign":case"fraud_review":case"handshake_retailer_account":case"identity_user":case"mobile_native_install_id":case"mozart_campaign_contact":case"mozart_campaign_shop":case"mozart_contact":case"mozart_email_send":case"mozart_message":case"mozart_shop":case"risk_analysis_order":case"session_token":case"shop_account":case"shop_analytics_trace_id":case"shop_app_user":case"shop_pay_checkout":case"shop_pay_user":case"shopify_protect":case"storefront":case"support_ticket":return ln;case"brochure_session":case"shopify_user_token":case"shop_website_visitor":return un;case"storefront_user":return dn;default:return null}}(e.subject);if(!o)return;const a={experimentHandle:e.experimentHandle(),sourceApp:this.sourceApp,variant:e.variantHandle()||void 0,subjectType:t,assignmentSource:e.source,duration:e.duration,sdkVersion:"7.1.4",sdkRuntime:this.sdkRuntime,salt:e.salt()||void 0};switch(o){case ln:await this.maybeProduce({schemaId:Jn,payload:Object.assign(Object.assign({},a),{},{subjectId:n})});break;case un:await this.maybeProduce({schemaId:Xn,payload:Object.assign(Object.assign({},a),{},{subjectId:n})});break;case dn:await this.maybeProduce({schemaId:Zn,payload:Object.assign(Object.assign({},a),{},{subjectId:n,shopId:e.subject.shopId})})}}};class tt{constructor(e){this.DEFAULT_TTL_SECONDS=15778476,this.NAMESPACE="v:a:3",this.storageAdapter=e}delete(e,n,t){return this.storageAdapter.delete(this.keyFor(e,n,t))}flush(){return this.storageAdapter.flush(this.NAMESPACE)}async hydrate(e){for(const[n,t]of e)await this.storageAdapter.set(n,t,this.DEFAULT_TTL_SECONDS)}async dehydrate(){return await this.storageAdapter.getAll(this.NAMESPACE)}async get(e,n,t){const o=await this.storageAdapter.get(this.keyFor(e,n,t));return o?JSON.parse(o):null}getAll(){return this.storageAdapter.getAll(this.NAMESPACE)}store(e,n,t,o,a){const r={variant:t,createdAt:Date.now()};return this.storageAdapter.set(this.keyFor(e,n,o),JSON.stringify(r),a||this.DEFAULT_TTL_SECONDS)}keyFor(e,n,t){return Pn(`${this.NAMESPACE}:${e}:${t}:${n}`)}}class ot{constructor(){this.storage=new Map}delete(e){return this.storage.delete(e),!0}get(e){return this.storage.get(e)||null}getAll(){return Array.from(this.storage.entries())}flush(){return this.storage.clear(),!0}set(e,n){return this.storage.set(e,n),!0}}class at{produce(e){console.log(JSON.stringify(e))}}class rt{constructor(e){this.configuration={enable:!0,experiments:[]},this.assignmentEventQueue=new Set,this.configuration=Object.assign(Object.assign({},this.configuration),e.config),this.logger=e.logger}isEnabled(e){return!!this.configuration.enable||!!this.configuration.experiments&&(!!e&&this.configuration.experiments.includes(e))}assignmentEvents(){return Array.from(this.assignmentEventQueue.values())}flushAssignmentEvents(){this.assignmentEventQueue.clear()}enqueue(e){this.isEnabled(e.experimentHandle())&&this.assignmentEventQueue.add(e)}produce(){const e=this.assignmentEvents();return this.flushAssignmentEvents(),Promise.allSettled(e.map((e=>this.logger.logTelemetry(e))))}}class it{constructor(){this.marks=new Map}mark(){return this.marks.set(this.marks.size,{start:performance.now()}),this.marks.size-1}measure(e){const n=void 0===e?null:this.marks.get(e),t=performance.now(),o=Number((t-((null==n?void 0:n.start)||0)).toPrecision(3));return void 0===e?0:o}}class st{constructor(e){const{configurationRepository:n,logger:t,onError:o}=this.buildVerdictConfiguration(e);this.configurationRepository=n,this.logger=t,this.onError=o,this.telemetry=new rt({config:null==e?void 0:e.telemetry,logger:t})}addQualifier(e,n,t={storeUnqualified:!1}){this.configurationRepository.addQualifier(e,n,t)}removeQualifier(e){this.configurationRepository.removeQualifier(e)}async flagEnabled(e,n){try{const t=await this.lookupFlag(e);return!!t&&await this.flagEnabledForFlag(t,n)}catch(n){return this.onError(new en(`Error determining enabled state for flag: ${e}`,n)),!1}}async flagEnabledForFlag(e,n){const t=new it,o=t.mark(),{enabled:a}=await e.enabled(n),r=t.measure(o);return await this.flushAndLogEventsForFlag(e,r),a}async flushAndLogEventsForFlag(e,n){const t=e.telemetryEvents(),o=e.assignmentEvents();e.flushTelemetryEvents(),e.flushAssignmentEvents(),await Promise.all([...t.map((e=>this.logger.logFlagEvent(e.subject,e.flagHandle,e.result,e.assignmentSource,n,e.salt))),...o.map((e=>this.logger.logAssignment(e.subject,e.handle,e.variant,e.isManualAssignment)))])}async flagDisabled(e,n){return!await this.flagEnabled(e,n)}async assignVariant(e,n,t={shouldLogAssignment:!0}){try{const o=await this.lookupExperiment(e);if(!o)return null;const a=await this.assignVariantForExperiment(o,n,t);return await this.flushTelemetry(),a}catch(n){return this.onError(new en(`Error assigning subject for experiment: ${e}`,n)),null}}async assignVariantForExperiment(e,n,t={shouldLogAssignment:!0}){const o=await e.variantFor(n,this.telemetry);if(t.shouldLogAssignment){const n=e.assignmentLogs();e.flushAssignmentLogs(),await Promise.all(n.map((e=>this.logger.logAssignment(e.subject,e.handle,e.variant,e.isManualAssignment))))}return o.variantHandle()}async flushTelemetry(){const e=(await this.telemetry.produce()).find((e=>"rejected"===e.status));e&&this.onError(new en("Error producing telemetry event",e.reason))}async assignAll(e,n,t={shouldLogAssignment:!0}){return(await this.assignExperimentsAndFlags(e,[],n,t)).experiments}async flagsEnabled(e,n){return(await this.assignExperimentsAndFlags([],e,n)).flags}async assignExperimentsAndFlags(e,n,t,o={shouldLogAssignment:!0}){const a=Array.from(new Set(n).values()),r=Array.from(new Set(e).values()),i=await this.configurationRepository.lookupConfigsByHandles(r,a),[s,c]=await Promise.all([Promise.all(r.map((e=>new Promise((n=>{const a=i.experiments.find((n=>(null==n?void 0:n.clientHandle)===e));a?this.assignVariantForExperiment(a,t,o).then((t=>{n([e,t])})).catch((t=>{this.onError(t),n([e,null])})):n([e,null])}))))),Promise.all(a.map((e=>new Promise((n=>{const o=i.flags.find((n=>(null==n?void 0:n.clientHandle)===e));o?this.flagEnabledForFlag(o,t).then((t=>{n([e,t])})).catch((t=>{this.onError(new en(`Error determining state of flag: ${e}`,t)),n([e,!1])})):n([e,!1])})))))]);return await this.flushTelemetry(),{experiments:s,flags:c}}async flagsDisabled(e,n){return(await this.flagsEnabled(e,n)).map((e=>[e[0],!e[1]]))}async lookupVariant(e,n){try{const t=await this.lookupExperiment(e);if(!t)return null;const o=await t.lookupVariantFor(n);return o?o.variantHandle():null}catch(n){return this.onError(new en(`Error looking up subject for experiment: ${e}`,n)),null}}async preload(e,n=[]){try{await this.configurationRepository.fetchAndStoreConfigsInStorage(e,n)}catch(e){this.onError(new en("Error preloading experiments",e))}}async hydrate(e){try{await this.configurationRepository.hydrate(e)}catch(e){this.onError(new en("Hydration error",e))}}async dehydrate(){try{return await this.configurationRepository.dehydrate()}catch(e){return this.onError(new en("Dehydration error",e)),null}}async lookupExperiment(e){const n=(await this.configurationRepository.lookupConfigsByHandles([e],[])).experiments[0];return n||null}async lookupFlag(e){const n=(await this.configurationRepository.lookupConfigsByHandles([],[e])).flags[0];return n||null}buildVerdictConfiguration(e){var n;const t=(null==e?void 0:e.onError)||console.error,o=new Un({apiKey:(null==e?void 0:e.apiKey)||"",apiHost:(null==e?void 0:e.apiHost)||"https://experiments.shopify.com",fetchOptions:Object.assign({onError:t},null==e?void 0:e.fetchOptions),assignments:new tt((null==e?void 0:e.assignmentStorage)||new ot),storageAdapter:(null==e?void 0:e.configurationStorage)||new ot,cacheConfiguration:(null==e?void 0:e.cacheConfiguration)||{}}),a=null==e?void 0:e.sdkRuntime;return{configurationRepository:o,onError:t,logger:new nt({logger:(null==e?void 0:e.logger)||new at,sdkRuntime:a,sourceApp:null==e?void 0:e.appName,sampling:null==e||null==(n=e.telemetry)?void 0:n.sampling}),sdkRuntime:a||"javascript"}}}var ct,lt,ut,dt=Boolean(void 0),pt=void 0,ht="banner_subject_id",ft=function(e){void 0===e&&(e=!0);var n=window.sessionStorage.getItem(ht);return n||e||(n=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",t=0;t<21;t++)n+=e[Math.floor(61*Math.random())];return n}(),window.sessionStorage.setItem(ht,n)),null!=n?n:""},gt=function(){var e=new st(n({logger:Ze.createHttpProducer({production:!0}),apiKey:"1da4d04e-2f91-4290-8071-2f4d800bcfed",appName:"privacy-banner"},dt&&pt));return{getExperimentVariant:function(n,a){return t(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){return(t=function(e){var n=new URLSearchParams(window.location.search).get("exp-".concat(e));return n||null}(n.handle))?[2,t]:function(e){return 0===e.qualifiers.length||e.qualifiers.every((function(n){return n.execute(e)}))}(n)?[2,e.assignVariant(n.handle,{type:null!==(r=n.type)&&void 0!==r?r:"default",subjectId:null!=a?a:ft(!1)})]:[2,null]}))}))},getSubjectId:ft}},mt=function(){function e(e){var n=void 0===e?{}:e,t=n.shopDomain,o=n.isHeadless;this.VISIT_TOKEN="_shopify_s",this.shopDomain=t,this.isHeadless=o,this.monorail=Ze.createHttpProducer({production:!0})}return e.prototype.shouldEmit=function(){return!(this.isHeadless&&!0)},e.prototype.emitInteraction=function(e,t){if(void 0===t&&(t=""),this.shouldEmit()){var o=this.getCommonPayload();this.monorail.produce({schemaId:"privacy_banner_interact/1.2",payload:n(n(n({},o),t&&{interactionMetadata:t}),{interactionType:e})})}},e.prototype.emitRender=function(){if(this.shouldEmit()){var e=this.getCommonPayload();this.monorail.produce({schemaId:"privacy_banner_render/1.1",payload:n({},e)})}},e.prototype.emitInitialized=function(){if(this.shouldEmit()){var e=this.getCommonPayload();this.monorail.produce({schemaId:"privacy_banner_initialized/1.0",payload:n({},e)})}},e.prototype.visitorRegion=function(){var e=document.cookie.split(";").find((function(e){return e.includes("_tracking_consent=")}));if(!e)return null;var n={};try{n=JSON.parse(unescape(e.split("=")[1]))}catch(e){return null}return n.region||null},e.prototype.getCommonPayload=function(){var e,t=this.shopDomain||(null===(e=window.Shopify)||void 0===e?void 0:e.shop),o=De(this.VISIT_TOKEN)||"0",a=window.location.pathname,r=this.visitorRegion(),i=ft();return n({shopPermanentDomain:t,sessionToken:o,regulation:"CMP",path:a,experimentationSubjectId:i},r&&{region:r})},e}();function yt(e,n){return(null==n?void 0:n.id)&&e.setAttribute("id",n.id),(null==n?void 0:n.class)&&e.setAttribute("class",n.class),(null==n?void 0:n.onClick)&&e.addEventListener("click",n.onClick),(null==n?void 0:n.appendTo)&&n.appendTo.appendChild(e),(null==n?void 0:n.role)&&e.setAttribute("role",n.role),(null==n?void 0:n.autofocus)&&e.setAttribute("autofocus",""),(null==n?void 0:n.ariaHidden)&&e.setAttribute("aria-hidden","".concat(null==n?void 0:n.ariaHidden)),e}function bt(e){var n=yt(document.createElement("div"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),(null==e?void 0:e.ariaModal)&&n.setAttribute("aria-modal",e.ariaModal),(null==e?void 0:e.ariaLabelledby)&&n.setAttribute("aria-labelledby",e.ariaLabelledby),n}function vt(e){var n=yt(document.createElement("span"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),n}function Ct(e){var n,t=yt(document.createElement("button"),e);return t.textContent=null!==(n=null==e?void 0:e.text)&&void 0!==n?n:null,e.disabled&&t.setAttribute("disabled",""),e.ariaHaspopup&&t.setAttribute("aria-haspopup",e.ariaHaspopup),e.type&&t.setAttribute("type",e.type),e.ariaLabel&&t.setAttribute("aria-label",e.ariaLabel),t}function _t(e){var n=yt(document.createElement("a"),e);return n.setAttribute("href",e.href),n.textContent=e.text,n.setAttribute("target",void 0===e.target?"_blank":e.target),e.target&&"_blank"!==e.target||n.setAttribute("rel","noopener noreferrer"),n}function wt(e){var n=yt(document.createElement("p"),e);return n.textContent=e.text,n}function Et(e,n){var t=yt(document.createElement(e),n);return t.textContent=n.text,t}function xt(e){return Et(ut.H2,e)}function At(e){return Et(ut.H3,e)}function kt(e){var n=yt(document.createElement("style"),e);return n.textContent=e.content,n}function It(e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width",e.width),n.setAttributeNS(null,"height",e.height),n.setAttributeNS(null,"viewBox","0 0 ".concat(e.width," ").concat(e.height)),(null==e?void 0:e.fillRule)&&n.setAttributeNS(null,"fill-rule",e.fillRule),(null==e?void 0:e.clipRule)&&n.setAttributeNS(null,"clip-rule",e.clipRule);var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"fill",(null==e?void 0:e.colour)||"#000"),t.setAttributeNS(null,"d",e.path),n.appendChild(t),(null==e?void 0:e.id)&&n.setAttribute("id",e.id),(null==e?void 0:e.class)&&n.setAttribute("class",e.class),(null==e?void 0:e.dataIconType)&&n.setAttribute("data-icon-type",e.dataIconType),(null==e?void 0:e.ariaHidden)&&n.setAttribute("aria-hidden","".concat(null==e?void 0:e.ariaHidden)),(null==e?void 0:e.focusable)&&n.setAttribute("focusable","".concat(null==e?void 0:e.focusable)),(null==e?void 0:e.appendTo)&&e.appendTo.appendChild(n),n}function Tt(e){var n=yt(document.createElement("section"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),(null==e?void 0:e.ariaModal)&&n.setAttribute("aria-modal",e.ariaModal),(null==e?void 0:e.ariaLabelledby)&&n.setAttribute("aria-labelledby",e.ariaLabelledby),n}function Dt(e){var n=e.bannerData,t=n.experimentVariant===me.ConsolidatedText,o=n.experimentVariant===me.SwapButtonOrder,a=n.experimentVariant===me.ExperimentOneWinner,r=n.experimentVariant===me.NewHypothesis,i=a||r,s=Tt({id:ye.DialogId,class:ye.DialogClass,role:"alertdialog",ariaModal:"false",ariaLabelledby:ye.BodyTitleId}),c=bt({class:ye.WrapperClass});s.appendChild(c);var l=bt({class:ye.BodyClass});c.appendChild(l);var u=bt({class:ye.ButtonsClass});return u.classList.add(ye.ButtonsGranularClass),c.appendChild(u),t||i?function(e,n){var t,o=xt({id:ye.BodyTitleId,text:(null===(t=e.experiment)||void 0===t?void 0:t.title)||""});n.appendChild(o)}(n,l):function(e,n){if(e.title){var t=xt({id:ye.BodyTitleId,text:e.title});n.appendChild(t)}}(n,l),t||i?function(e,n){var t,o,a,r=wt({text:"".concat(e.text," ")}),i=_t({id:ye.ButtonManagePrefsId,href:"#",text:(null===(t=e.experiment)||void 0===t?void 0:t.preferences)||""}),s=_t({id:ye.BodyCopyPolicyLinkId,href:e.policyLinkUrl,target:"_blank",text:(null===(o=e.experiment)||void 0===o?void 0:o.privacyPolicy)||""}),c=" ".concat((null===(a=e.experiment)||void 0===a?void 0:a.customizeYour)||""," ");r.appendChild(s),r.appendChild(vt({text:c})),r.appendChild(i),r.appendChild(vt({text:"."})),n.appendChild(r)}(n,l):function(e,n){var t=wt({text:"".concat(e.text," ")}),o=_t({id:ye.BodyCopyPolicyLinkId,href:e.policyLinkUrl,target:"_blank",text:e.policyLinkText?e.policyLinkText:"Privacy Policy"});t.appendChild(o),n.appendChild(t)}(n,l),t||i||function(e,n){var t=vt({text:e.buttonPrefsOpenText}),o=Ct({id:ye.ButtonManagePrefsId,class:ye.ButtonManagePrefsClass,ariaHaspopup:"dialog",type:"button"});o.appendChild(t),n.appendChild(o)}(n,u),o||r?(Ot(n,u),St(n,u)):(St(n,u),Ot(n,u)),s}function St(e,n){n.appendChild(Ct({id:ye.ButtonAcceptId,class:ye.ButtonAcceptClass,type:"button",text:e.buttonAcceptText}))}function Ot(e,n){n.appendChild(Ct({id:ye.ButtonDeclineId,class:ye.ButtonDeclineClass,type:"button",text:e.buttonDeclineText}))}function Rt(e,n){var t,o,a,r,i=(t={appendTo:e},yt(document.createElement("header"),t));o=i,a="Close dialog",It({appendTo:r=Ct({id:be.HeaderCloseId,class:be.HeaderCloseClass,ariaLabel:a,type:"button",text:""}),ariaHidden:!0,width:"12",height:"12",path:"M7.41401 6.00012L11.707 1.70721C12.098 1.31622 12.098 0.684236 11.707 0.293244C11.316 -0.097748 10.684 -0.097748 10.293 0.293244L6.00001 4.58615L1.70701 0.293244C1.31601 -0.097748 0.684006 -0.097748 0.293006 0.293244C-0.0979941 0.684236 -0.0979941 1.31622 0.293006 1.70721L4.58601 6.00012L0.293006 10.293C-0.0979941 10.684 -0.0979941 11.316 0.293006 11.707C0.488006 11.902 0.744006 12 1.00001 12C1.25601 12 1.51201 11.902 1.70701 11.707L6.00001 7.4141L10.293 11.707C10.488 11.902 10.744 12 11 12C11.256 12 11.512 11.902 11.707 11.707C12.098 11.316 12.098 10.684 11.707 10.293L7.41401 6.00012Z"}),o.appendChild(r),xt({id:be.HeaderTitleId,text:n.preferences.title,appendTo:i});var s=bt({class:be.HeaderActionsClass,appendTo:i});return function(e,n){e.appendChild(Ct({id:be.HeaderAcceptId,type:"button",text:n}))}(s,n.preferences.buttonAcceptText),function(e,n){e.appendChild(Ct({id:be.HeaderDeclineId,type:"button",text:n}))}(s,n.preferences.buttonDeclineText),function(e,n){e.appendChild(Ct({id:be.HeaderSaveId,type:"button",text:n}))}(s,n.preferences.buttonSaveText),i}function Nt(e,n){var t=bt({class:be.IntroClass,appendTo:e});return function(e,n){var t=bt({class:be.IntroMainClass,appendTo:e});At({text:n.preferences.introTitle,appendTo:t}),wt({text:n.preferences.introText,appendTo:t})}(t,n),n.preferences.bulletPoints.enabled&&function(e,n){var t=bt({class:be.IntroExplainWrapperClass,appendTo:e}),o=bt({class:be.IntroExplainAcceptClass,appendTo:t});At({text:n.preferences.bulletPoints.title||"",appendTo:o});var a=[];n.preferences.bulletPoints.firstText&&a.push(n.preferences.bulletPoints.firstText);n.preferences.bulletPoints.secondText&&a.push(n.preferences.bulletPoints.secondText);n.preferences.bulletPoints.thirdText&&a.push(n.preferences.bulletPoints.thirdText);(function(e){var n=yt(document.createElement("ul"),e);e.lis&&e.lis.forEach((function(e){var t=document.createElement("li");t.textContent=e,n.appendChild(t)}))})({lis:a,appendTo:o})}(t,n),t}function Pt(e){var n=e.themeColours,t=e.purpose,o=e.ids,a=e.parent,r=o.input===be.OptionEssentialInputId,i=It({dataIconType:"unchecked",width:"24",height:"24",path:"M5 2c-1.654 0-3 1.346-3 3v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-14c0-1.654-1.346-3-3-3h-14zm19 3v14c0 2.761-2.238 5-5 5h-14c-2.762 0-5-2.239-5-5v-14c0-2.761 2.238-5 5-5h14c2.762 0 5 2.239 5 5z",colour:n.iconColor,focusable:!0}),s=function(e){return It({dataIconType:"checked",width:"24",height:"24",path:"M19 0h-14c-2.762 0-5 2.239-5 5v14c0 2.761 2.238 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-8.959 17l-4.5-4.319 1.395-1.435 3.08 2.937 7.021-7.183 1.422 1.409-8.418 8.591z",colour:e,focusable:!0})}(n.iconColor),c=bt({class:be.OptionClass,id:o.section}),l=function(e){var n=yt(document.createElement("label"),e);return n.setAttribute("for",e.for),(null==e?void 0:e.text)&&(n.textContent=e.text),n}({appendTo:c,for:o.input,text:t.description});!function(e){var n=yt(document.createElement("input"),e);n.setAttribute("type",e.type),e.checked&&n.setAttribute("checked","true"),e.disabled&&n.setAttribute("disabled","".concat(e.disabled)),(null==e?void 0:e.onChange)&&n.addEventListener("change",e.onChange),e.tabindex&&n.setAttribute("tabindex","".concat(e.tabindex)),!0===e.ariaReadonly&&n.setAttribute("aria-readonly","".concat(e.ariaReadonly))}({appendTo:l,id:o.input,type:"checkbox",checked:r,ariaReadonly:r,tabindex:"0"});var u=vt({appendTo:l,ariaHidden:!0});u.appendChild(s),u.appendChild(i),wt({appendTo:c,text:t.longDescription}),r?(s.style.display="block",i.style.display="none"):(s.style.display="none",i.style.display="block"),a.appendChild(c)}function Bt(e){var n=e.bannerData,t=bt({id:be.WrapperId,class:be.WrapperClass}),o=bt({id:be.OverlayId,class:be.OverlayClass,text:" "});t.appendChild(o);var a=Tt({id:be.DialogId,class:be.DialogClass,role:"dialog",ariaModal:"true",ariaLabelledby:be.HeaderTitleId});t.appendChild(a),Rt(a,n);var r=bt({class:be.DialogScrollableClass});return a.appendChild(r),Nt(r,n),function(e,n){var t=xe(n.theme.theme,n.theme.fontColor,n.theme.backgroundColor,n.theme.buttonFontColor,n.theme.buttonBackgroundColor),o=bt({class:be.OptionWrapperClass});e.appendChild(o),Pt({themeColours:t,ids:{section:be.OptionEssentialId,input:be.OptionEssentialInputId},purpose:{description:n.preferences.purposes.essentialName,longDescription:n.preferences.purposes.essentialDesc},parent:o}),Pt({themeColours:t,ids:{section:be.OptionPreferencesId,input:be.OptionPreferencesInputId},purpose:{description:n.preferences.purposes.preferencesName,longDescription:n.preferences.purposes.preferencesDesc},parent:o}),Pt({themeColours:t,ids:{section:be.OptionMarketingId,input:be.OptionMarketingInputId},purpose:{description:n.preferences.purposes.marketingName,longDescription:n.preferences.purposes.marketingDesc},parent:o}),Pt({themeColours:t,ids:{section:be.OptionAnalyticsId,input:be.OptionAnalyticsInputId},purpose:{description:n.preferences.purposes.performanceName,longDescription:n.preferences.purposes.performanceDesc},parent:o})}(r,n),t}!function(e){e.Accepted="accept",e.Declined="decline",e.AcceptedAll="accept_all",e.DeclinedAll="decline_all",e.ManagePreferences="manage_preferences",e.Save="save",e.LeavePreferences="leave_preferences",e.PrivacyPolicyView="privacy_policy_view"}(ct||(ct={})),function(e){e.BottomFullWidth="bottom-full-width",e.BottomLeft="bottom-left",e.Center="center",e.BottomRight="bottom-right",e.BottomCenter="bottom-center"}(lt||(lt={})),function(e){e.H1="h1",e.H2="h2",e.H3="h3"}(ut||(ut={}));var Lt,Ht=function(){function e(e){var n=e.bannerData,t=e.storefrontAccessToken,o=e.checkoutRootDomain,a=e.storefrontRootDomain;this.bannerData=n,t?(this.storefrontAccessToken=t,this.checkoutRootDomain=o,this.storefrontRootDomain=a,this.logger=new mt({shopDomain:o,isHeadless:!0})):this.logger=new mt}return e.show=function(){var e=document.getElementById(be.WrapperId);null!==e&&(e.style.display="block",document.body.style.setProperty("overflow","hidden"))},e.hide=function(){var e=document.getElementById(be.WrapperId);null!==e&&(e.style.display="none",document.body.style.removeProperty("overflow"))},e.hideModalAndBanner=function(){e.hide();var n=document.getElementById(ye.DialogId);null!==n&&(n.style.display="none")},e.selectedConsent=function(){var e=document.getElementById(be.OptionMarketingInputId),n=document.getElementById(be.OptionAnalyticsInputId),t=document.getElementById(be.OptionPreferencesInputId),o=e.checked?"1":"0",a=n.checked?"1":"0",r=t.checked?"1":"0";return"".concat(o).concat(a).concat(r)},e.prototype.init=function(){return t(this,void 0,void 0,(function(){return o(this,(function(e){return this.render(),[2]}))}))},e.prototype.setCheckboxesToCurrentConsent=function(){var e=document.getElementById(be.OptionAnalyticsInputId),n=document.getElementById(be.OptionPreferencesInputId),t=document.getElementById(be.OptionMarketingInputId);this.handleOptionChange({target:e,isReadOnly:!1,sectionId:be.OptionAnalyticsId,checked:se()}),this.handleOptionChange({target:n,isReadOnly:!1,sectionId:be.OptionPreferencesId,checked:ce()}),this.handleOptionChange({target:t,isReadOnly:!1,sectionId:be.OptionMarketingId,checked:ie()})},e.prototype.render=function(){this.addCSS(this.bannerData),this.addHTML(this.bannerData),e.show(),this.setupCheckboxEventHandlers(),this.setupButtonEventHandlers(),this.setupKeyboardEventHandlers(),this.logger.emitInteraction(ct.ManagePreferences)},e.prototype.addCSS=function(e){var n=function(e){var n=e.bannerData,t=e.selectorPrefix,o=t?"".concat(t," "):"",a=xe(n.theme.theme,n.theme.fontColor,n.theme.backgroundColor,n.theme.buttonFontColor,n.theme.buttonBackgroundColor);return"\n    ".concat(o,".").concat(be.WrapperClass," {\n      position: relative;\n    }\n    ").concat(o,".").concat(be.WrapperClass,':after {\n      content: "";\n      display: block;\n      clear: both;\n    }\n\n    ').concat(o,".").concat(be.DialogClass," {\n      box-shadow: 0 5px 10px rgb(63 63 68 / 50%);\n      position: fixed;\n      z-index: 2000002;\n      opacity: 1;\n      background-color: ").concat(a.backgroundColor,";\n      max-height: 80%;\n      overflow-y: auto;\n      top: 50%;\n      transform: translate(0, -50%);\n      min-width: 280px;\n      border-radius: 3px;\n      display: flex;\n      flex-direction: column;\n      left: 25%;\n      width: 50%;\n      text-align: left;\n    }\n    @media only screen and (max-width: 1900px) {\n      ").concat(o,".").concat(be.DialogClass," {\n        left: 20%;\n        width: 60%;\n      }\n    }\n    @media only screen and (max-width: 1600px) {\n      ").concat(o,".").concat(be.DialogClass," {\n        left: 15%;\n        width: 70%;\n      }\n    }\n    @media only screen and (max-width: 1350px) {\n      ").concat(o,".").concat(be.DialogClass," {\n        left: 5%;\n        width: 90%;\n      }\n    }\n\n    ").concat(o,".").concat(be.OverlayClass," {\n      z-index: 2000001;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.6);\n    }\n\n    /* Header */\n\n    ").concat(o,".").concat(be.DialogClass," header {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      padding: 32px 32px 20px 32px;\n      border-bottom: 1px solid ").concat(a.sectionDivider,";\n      position: relative;\n      background: transparent;\n    }\n\n    @media only screen and (max-width: 1200px) {\n      ").concat(o,".").concat(be.DialogClass," header {\n        flex-direction: column;\n      }\n    }\n    @media only screen and (max-width: 400px) {\n      ").concat(o,".").concat(be.DialogClass," header {\n        padding: 15px 20px 10px 20px;\n      }\n    }\n    ").concat(o,".").concat(be.DialogClass," header h2 {\n      color: ").concat(a.fontColor,";\n      font-family: inherit;\n      margin: 0;\n      padding: 0 20px 0 0 !important;\n      font-weight: 600;\n      font-size: 130%;\n      line-height: 1.2;\n      width: 100%;\n      text-align: left;\n      word-break: normal;\n    }\n    @media only screen and (max-width: 1200px) {\n      ").concat(o,".").concat(be.DialogClass," header h2 {\n        margin: 0 0 .8em 0;\n        padding: 0 !important;\n        text-align: center;\n      }\n    }\n    @media only screen and (max-width: 750px) {\n      ").concat(o,".").concat(be.DialogClass," header h2 {\n        text-align: left;\n        padding: 0 25px 0 0 !important;\n      }\n    }\n\n    ").concat(o,".").concat(be.HeaderCloseClass," {\n      position: absolute;\n      top: 40px;\n      right: 35px;\n      width: 24px;\n      height: 24px;\n      padding: 0;\n      margin: 0;\n      background: transparent;\n      border: none;\n      outline: none;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      align-content: center;\n      border-radius: 50%;\n      min-width: 24px;\n    }\n\n    ").concat(o,".").concat(be.HeaderCloseClass," svg {\n      height: 12px;\n      width: 12px;\n    }\n\n    @media only screen and (max-width: 1200px) {\n      ").concat(o,".").concat(be.HeaderCloseClass," {\n        top: 20px;\n        right: 20px;\n      }\n    }\n    @media only screen and (max-width: 750px) {\n      ").concat(o,".").concat(be.HeaderCloseClass," {\n        top: 30px;\n        right: 30px;\n      }\n    }\n    @media only screen and (max-width: 400px) {\n      ").concat(o,".").concat(be.HeaderCloseClass," {\n        top: 15px;\n        right: 15px;\n      }\n    }\n    ").concat(o,".").concat(be.HeaderCloseClass,":hover {\n      cursor: pointer;\n    }\n    ").concat(o,".").concat(be.HeaderCloseClass,":focus {\n      outline: none;\n      box-shadow: 0 0 0 3px ").concat(a.focused,";\n    }\n    ").concat(o,".").concat(be.HeaderCloseClass," svg path {\n      fill: ").concat(a.fontColor,";\n    }\n    ").concat(o,".").concat(be.HeaderCloseClass,":disabled svg path {\n      fill: ").concat(a.sectionDivider,";\n    }\n\n    ").concat(o,".").concat(be.HeaderActionsClass," {\n      margin: 0;\n      display: flex;\n      justify-content: space-around;\n      flex-direction: row;\n      padding: 0 50px 0 0;\n      width: auto;\n    }\n\n    @media only screen and (max-width: 750px) {\n      ").concat(o,".").concat(be.HeaderActionsClass," {\n        flex-direction: column;\n        width: 100%;\n      }\n    }\n    @media only screen and (max-width: 1200px) {\n      ").concat(o,".").concat(be.HeaderActionsClass," {\n        padding: 0;\n      }\n    }\n    ").concat(o,".").concat(be.HeaderActionsClass," button {\n      text-decoration: none;\n      font-family: inherit;\n      padding: 8px 25px 10px 25px;\n      margin: 0 20px 0 0;\n      font-size: 110%;\n      background: ").concat(a.button.backgroundColor,";\n      color: ").concat(a.button.fontColor,";\n      border: 1px solid ").concat(a.button.borderColor,";\n      white-space: nowrap;\n      border-radius: 2px;\n      line-height: 120%;\n      height: unset;\n    }\n    @media only screen and (max-width: 750px) {\n      ").concat(o,".").concat(be.HeaderActionsClass," button {\n        width: 100%;\n        margin-bottom: 15px;\n      }\n    }\n    ").concat(o,".").concat(be.HeaderActionsClass," button.primary {\n      background: ").concat(a.primaryButton.backgroundColor,";\n      color: ").concat(a.primaryButton.fontColor,";\n      border: 1px solid ").concat(a.primaryButton.borderColor,";\n    }\n    ").concat(o,".").concat(be.HeaderActionsClass," button:last-child {\n      margin-right: 0;\n    }\n    ").concat(o,".").concat(be.HeaderActionsClass," button:hover {\n      cursor: pointer;\n    }\n    ").concat(o,".").concat(be.HeaderActionsClass," button:focus {\n      outline: none;\n      box-shadow: 0 0 0 4px ").concat(a.focused,";\n    }\n\n    ").concat(o,".").concat(be.DialogScrollableClass," {\n      overflow-y: scroll;\n      position: relative;\n    }\n\n    ").concat(o,".").concat(be.DialogScrollableClass,"::-webkit-scrollbar {\n      width: 0px;\n      background: transparent;\n    }\n\n    /* Intro */\n\n    ").concat(o,".").concat(be.IntroClass," h3 {\n      color: ").concat(a.fontColor,";\n      font-family: inherit;\n      margin: 0 0 15px 0;\n      padding: 0 !important;\n      font-weight: 600;\n      line-height: 1.2;\n      text-align: left;\n    }\n    ").concat(o,".").concat(be.IntroClass," p {\n      color: ").concat(a.fontSubduedColor,";\n      font-family: inherit;\n      margin: 0;\n      padding: 0;\n    }\n    ").concat(o,".").concat(be.IntroClass," ul {\n      margin: 0;\n      padding: 0;\n    }\n    ").concat(o,".").concat(be.IntroClass," ul li {\n      margin: 0 0 0.5em 1.7em;\n      padding: 0;\n      line-height: 1.2;\n    }\n    ").concat(o,".").concat(be.IntroMainClass," {\n      padding: 20px 32px 0 32px;\n      line-height: 1.5;\n    }\n    @media only screen and (max-width: 400px) {\n      ").concat(o,".").concat(be.IntroMainClass," {\n        padding: 20px 20px 0 20px;\n      }\n    }\n    ").concat(o,".").concat(be.IntroMainClass," p {\n      padding-bottom: 20px;\n    }\n    ").concat(o,".").concat(be.IntroMainClass," h3 {\n      font-size: 110%;\n    }\n    ").concat(o,".").concat(be.IntroMainClass," p {\n      font-size: 105%;\n      margin: 0;\n      padding: 0;\n    }\n    ").concat(o,".").concat(be.IntroExplainWrapperClass," {\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      margin: 0;\n      padding: 20px 32px 0 32px;\n      color: ").concat(a.fontSubduedColor,";\n    }\n    @media only screen and (max-width: 700px) {\n      ").concat(o,".").concat(be.IntroExplainWrapperClass," {\n        flex-direction: column;\n        padding-bottom: 0;\n      }\n    }\n    @media only screen and (max-width: 400px) {\n      ").concat(o,".").concat(be.IntroExplainWrapperClass," {\n        padding: 20px 20px 0 20px;\n      }\n    }\n    ").concat(o,".").concat(be.IntroExplainAcceptClass," {\n      width: 100%;\n      padding: 0 40px 0 0;\n    }\n    ").concat(o,".").concat(be.IntroExplainAcceptClass," li {\n      list-style-type: disc;\n    }\n    @media only screen and (max-width: 700px) {\n      ").concat(o,".").concat(be.IntroExplainAcceptClass," {\n        width: 100%;\n        padding-right: 0;\n      }\n    }\n    ").concat(o,".").concat(be.IntroExplainAcceptClass," h3 {\n      font-size: 110%;\n    }\n\n    /* Options */\n\n    ").concat(o,".").concat(be.OptionWrapperClass," {\n      padding: 0 32px 32px 32px;\n      color: ").concat(a.fontColor,";\n    }\n    @media only screen and (max-width: 400px) {\n      ").concat(o,".").concat(be.OptionWrapperClass," {\n        padding: 0 20px 15px 20px;\n      }\n    }\n\n    ").concat(o,".").concat(be.OptionClass," {\n      margin: 0;\n      font-size: 100%;\n      line-height: 1.1;\n      padding: 20px 0 0 0;\n    }\n    ").concat(o,".").concat(be.OptionClass,":first-child {\n      padding: 25px 0 0 0;\n      margin: 20px 0 0 0;\n      border-top: 1px solid ").concat(a.sectionDivider,";\n    }\n    ").concat(o,".").concat(be.OptionClass," label {\n      display: flex;\n      gap: 20px;\n      color: ").concat(a.fontColor,";\n      cursor: pointer;\n      font-family: inherit;\n      margin: 0 0 5px 0;\n      padding: 0;\n      font-weight: 600;\n      font-size: 110%;\n      line-height: 1.2;\n    }\n    ").concat(o,".").concat(be.OptionClass," label input {\n      position: absolute;\n      clip: rect(1px, 1px, 1px, 1px);\n      padding: 0;\n      border: 0;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n    }\n    ").concat(o,".").concat(be.OptionClass," label span {\n      order: -1;\n      display: inline-block;\n      background-color: ").concat(a.backgroundColor,";\n      width: 24px;\n      height: 24px;\n    }\n    ").concat(o,".").concat(be.OptionClass," label span svg {\n      background-color: ").concat(a.backgroundColor,";\n      border-radius: 3px;\n    }\n    ").concat(o,".").concat(be.OptionClass,' label input[aria-readonly="true"] ~ span svg {\n      opacity: 0.2;\n      cursor: not-allowed;\n    }\n    ').concat(o,".").concat(be.OptionClass," label input:focus ~ span {\n      background-color: ").concat(a.focused,";\n    }\n    ").concat(o,".").concat(be.OptionClass," label input:focus ~ span svg {\n      outline: none;\n      border-radius: 5px;\n      box-shadow: 0 0 0 4px ").concat(a.focused,";\n    }\n    ").concat(o,".").concat(be.OptionClass," p {\n      line-height: 1.3;\n      font-size: 100%;\n      color: ").concat(a.fontSubduedColor,";\n      margin: 0;\n      padding: 0 0 0 45px;\n    }\n    @media only screen and (max-width: 700px) {\n      ").concat(o,".").concat(be.OptionClass," p {\n        width: 100%;\n        line-height: 1.4;\n      }\n    }\n  ")}({bannerData:e}),t=kt({id:be.StylesContainerId,content:n});document.head.appendChild(t)},e.prototype.addHTML=function(n){var t,o,a,r=Bt({bannerData:n}),i=document.getElementById(ye.DialogId);o=r,null===(a=null==(t=i)?void 0:t.parentNode)||void 0===a||a.insertBefore(o,t.nextSibling);var s=document.getElementById(be.DialogId);s&&(this.setCheckboxesToCurrentConsent(),s.dataset.consent=e.selectedConsent()),e.hide()},e.prototype.handleOptionChange=function(n){var t=n.target,o=n.isReadOnly,a=n.sectionId,r=n.checked;(void 0!==r&&r||o)&&(t.checked=!0);var i,s,c,l=t.checked,u=document.getElementById(a),d=u.querySelector('svg[data-icon-type="checked"]'),p=u.querySelector('svg[data-icon-type="unchecked"]');l?(d.style.display="block",p.style.display="none"):(d.style.display="none",p.style.display="block"),i=e.selectedConsent(),s=document.getElementById(be.DialogId),c=document.getElementById(be.HeaderSaveId),(null==s?void 0:s.dataset.consent)&&(null==s?void 0:s.dataset.consent)!==i?c.className="primary":c.className=""},e.prototype.setupCheckboxEventHandlers=function(){var e=this,n=document.getElementById(be.OptionEssentialInputId);null==n||n.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!0,sectionId:be.OptionEssentialId})}));var t=document.getElementById(be.OptionAnalyticsInputId);null==t||t.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!1,sectionId:be.OptionAnalyticsId})}));var o=document.getElementById(be.OptionPreferencesInputId);null==o||o.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!1,sectionId:be.OptionPreferencesId})}));var a=document.getElementById(be.OptionMarketingInputId);null==a||a.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!1,sectionId:be.OptionMarketingId})}))},e.prototype.setupButtonEventHandlers=function(){var n=this,t=document.getElementById(be.HeaderCloseId);null==t||t.addEventListener("click",(function(){e.hide(),n.logger.emitInteraction(ct.LeavePreferences)}));var o=document.getElementById(be.HeaderSaveId);null==o||o.addEventListener("click",(function(){if(Ne())e.hideModalAndBanner();else{var t=document.getElementById(be.OptionMarketingInputId),o=document.getElementById(be.OptionAnalyticsInputId),a=document.getElementById(be.OptionPreferencesInputId),r=t.checked,i=o.checked,s=a.checked;Se({marketing:r,analytics:i,preferences:s,checkoutRootDomain:n.checkoutRootDomain,storefrontRootDomain:n.storefrontRootDomain,storefrontAccessToken:n.storefrontAccessToken,callback:e.hideModalAndBanner}),n.logger.emitInteraction(ct.Save,"".concat(r?"m":"").concat(i?"a":"").concat(s?"p":"")),e.hideModalAndBanner()}}));var a=document.getElementById(be.HeaderAcceptId);null==a||a.addEventListener("click",(function(){Ne()?e.hideModalAndBanner():(Se({marketing:!0,analytics:!0,preferences:!0,checkoutRootDomain:n.checkoutRootDomain,storefrontRootDomain:n.storefrontRootDomain,storefrontAccessToken:n.storefrontAccessToken,callback:e.hideModalAndBanner}),n.logger.emitInteraction(ct.AcceptedAll))}));var r=document.getElementById(be.HeaderDeclineId);null==r||r.addEventListener("click",(function(){Ne()?e.hideModalAndBanner():(Se({marketing:!1,analytics:!1,preferences:!1,checkoutRootDomain:n.checkoutRootDomain,storefrontRootDomain:n.storefrontRootDomain,storefrontAccessToken:n.storefrontAccessToken,callback:e.hideModalAndBanner}),n.logger.emitInteraction(ct.DeclinedAll))}))},e.prototype.setupKeyboardEventHandlers=function(){var n=this,t=document.getElementById(be.WrapperId);if(null==t||t.addEventListener("keydown",(function(t){if("Escape"===t.code){e.hide(),n.logger.emitInteraction(ct.LeavePreferences);var o=document.getElementById(ye.ButtonManagePrefsId);null==o||o.focus()}})),t){var o=function(e){if("Tab"===e.code){e.preventDefault();var n=document.getElementById(be.HeaderCloseId);null==n||n.focus()}window.removeEventListener("keydown",o)};window.addEventListener("keydown",o)}},e}(),Mt={handle:"e_3b93dab315c704a36e59f4ca827cfc5a",clientHandle:"cookie_banner_ux_v2",qualifiers:[{handle:"cookie-banner-ux",execute:function(e){var n,t,o,a=null!==(t=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.isDefault)&&void 0!==t&&t,r=null===(o=W())||void 0===o?void 0:o.slice(0,2);return["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","GB"].includes(r)&&a}}]},jt=function(){function e(e){var n=void 0===e?{}:e,t=n.storefrontAccessToken,o=n.checkoutRootDomain,a=n.storefrontRootDomain,r=n.locale,i=n.country;this.locale=r,this.country=i,this.storefrontAccessToken=t;var s=t;s&&(this.checkoutRootDomain=o,this.storefrontRootDomain=a),this.logger=new mt({shopDomain:o,isHeadless:Boolean(s)}),this.preferencesModal=void 0}return e.show=function(){var e=document.getElementById(ye.DialogId);if(null!==e){e.style.display="block";var n=function(e){if("Tab"===e.code){e.preventDefault();var t=document.getElementById(ye.ButtonManagePrefsId);null==t||t.focus()}window.removeEventListener("keydown",n)};window.addEventListener("keydown",n)}},e.hide=function(){var e=document.getElementById(ye.DialogId);null!==e&&(e.style.display="none")},e.prototype.init=function(){return t(this,arguments,void 0,(function(t){var a,r,i,s,c;return void 0===t&&(t=!1),o(this,(function(o){switch(o.label){case 0:this.removeExistingElements(),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,Le.getServerData(this.checkoutRootDomain,this.storefrontAccessToken,this.locale,this.country)];case 2:return a=o.sent(),r={isDefault:a.isDefault},i=n(n({},Mt),{metadata:r}),[4,(0,gt().getExperimentVariant)(i)];case 3:return(s=o.sent())&&Object.keys(a).length&&(a.experimentVariant=s),a&&Object.keys(a).length?(this.render(n({},a)),t&&(this.preferencesModal=new Ht({bannerData:a,storefrontAccessToken:this.storefrontAccessToken,checkoutRootDomain:this.checkoutRootDomain,storefrontRootDomain:this.storefrontRootDomain}),this.preferencesModal.init(),e.hide()),[2,Promise.resolve(!0)]):(console.warn("banner not rendered due to lack of saved data"),[2,Promise.resolve(!1)]);case 4:return c=o.sent(),[2,Promise.reject(c)];case 5:return[2]}}))}))},e.prototype.render=function(n){var t=n.enabled,o=window.Shopify.country,a=Pe()&&this.isCountryInRegionVisibility(o,n);(t||Ne()||a)&&(this.addCSS(n),this.addBannerHTML(n),e.show(),Pe()||this.logger.emitRender())},e.prototype.isCountryInRegionVisibility=function(e,n){var t;return null===(t=n.regionVisibility)||void 0===t?void 0:t.includes(e)},e.prototype.addCSS=function(e){var n=kt({id:ye.StylesContainerId,content:Ae({bannerData:e})});document.head.appendChild(n)},e.prototype.addBannerHTML=function(e){var n=Dt({bannerData:e}),t=document.getElementsByTagName("body")[0];t.insertBefore(n,t.firstChild),this.addEventListeners(e)},e.prototype.removeExistingElements=function(){var e,n,t,o,a=document.getElementById(ye.DialogId),r=document.getElementById(ye.StylesContainerId),i=document.getElementById(be.WrapperId),s=document.getElementById(be.StylesContainerId);null===(e=null==a?void 0:a.parentNode)||void 0===e||e.removeChild(a),null===(n=null==r?void 0:r.parentNode)||void 0===n||n.removeChild(r),null===(t=null==i?void 0:i.parentNode)||void 0===t||t.removeChild(i),null===(o=null==s?void 0:s.parentNode)||void 0===o||o.removeChild(s)},e.prototype.addEventListeners=function(e){var n=this;this.addEssentialEventListeners(),Ne()||this.addMetricsEventListeners();var t=document.getElementById(ye.ButtonManagePrefsId);null==t||t.addEventListener("click",(function(t){t.preventDefault(),n.preferencesModal=new Ht({bannerData:e,storefrontAccessToken:n.storefrontAccessToken,checkoutRootDomain:n.checkoutRootDomain,storefrontRootDomain:n.storefrontRootDomain}),n.preferencesModal.init()}))},e.prototype.addEssentialEventListeners=function(){var n=this,t=document.getElementById(ye.ButtonAcceptId);null==t||t.addEventListener("click",(function(){Ne()?e.hide():Se({marketing:!0,analytics:!0,preferences:!0,checkoutRootDomain:n.checkoutRootDomain,storefrontRootDomain:n.storefrontRootDomain,storefrontAccessToken:n.storefrontAccessToken,callback:e.hide})}));var o=document.getElementById(ye.ButtonDeclineId);null==o||o.addEventListener("click",(function(){Ne()?e.hide():Se({marketing:!1,analytics:!1,preferences:!1,checkoutRootDomain:n.checkoutRootDomain,storefrontRootDomain:n.storefrontRootDomain,storefrontAccessToken:n.storefrontAccessToken,callback:e.hide})}))},e.prototype.addMetricsEventListeners=function(){var e=this,n=document.getElementById(ye.BodyCopyPolicyLinkId);null==n||n.addEventListener("click",(function(){e.logger.emitInteraction(ct.PrivacyPolicyView)}));var t=document.getElementById(ye.ButtonAcceptId);null==t||t.addEventListener("click",(function(){e.logger.emitInteraction(ct.Accepted)}));var o=document.getElementById(ye.ButtonDeclineId);null==o||o.addEventListener("click",(function(){e.logger.emitInteraction(ct.Declined)}))},e}();function Ft(){return t(this,arguments,void 0,(function(e){var n,r,i,s,c,l=this,u=void 0===e?{}:e,d=u.storefrontAccessToken,p=u.checkoutRootDomain,h=u.storefrontRootDomain,f=u.showPreferences,g=void 0!==f&&f,m=u.locale,y=u.country;return o(this,(function(e){return p||(p=window.location.hostname),h||(h=window.location.hostname),m||(m=null===(s=null===window||void 0===window?void 0:window.Shopify)||void 0===s?void 0:s.locale),y||(y=null===(c=null===window||void 0===window?void 0:window.Shopify)||void 0===c?void 0:c.country),n=function(){return t(l,void 0,void 0,(function(){var e,n,t;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e=Boolean(d),n=new mt({shopDomain:p,isHeadless:e}),Be()||Re()||g?[4,new jt({storefrontAccessToken:d,checkoutRootDomain:p,storefrontRootDomain:h,locale:m,country:y}).init(g)]:[3,2];case 1:o.sent()&&P(a.CONSENT_TRACKING_API_LOADED),o.label=2;case 2:return n.emitInitialized(),[3,4];case 3:return t=o.sent(),console.error("Error initializing banner",t),[3,4];case 4:return[2]}}))}))},d?(r=ue(),Se({marketing:(i={yes:!0,no:!1})[r.marketing],analytics:i[r.analytics],preferences:i[r.preferences],sale_of_data:i[r.sale_of_data],storefrontAccessToken:d,checkoutRootDomain:p,storefrontRootDomain:h,callback:n})):n(),[2]}))}))}function qt(e){e&&(window.Shopify=window.Shopify||{},window.Shopify.customerPrivacy&&window.Shopify.trackingConsent||(window.Shopify.customerPrivacy=window.Shopify.trackingConsent=function(e={useBugsnagReporting:!1}){return pe(e)}()))}function Vt(){return t(this,arguments,void 0,(function(e){return void 0===e&&(e={}),o(this,(function(t){switch(t.label){case 0:return qt(Boolean(e.storefrontAccessToken)),[4,Ft(n(n({},e),{showPreferences:!0}))];case 1:return t.sent(),[2]}}))}))}return qt(!(Lt=Boolean(window.Shopify))),Lt&&Ft(),window.onload=function(){document.querySelectorAll('a[href$="'.concat("#shopifyReshowConsentBanner",'"]')).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),Vt()}))}))},e.loadBanner=Ft,e.showPreferences=Vt,e}({});

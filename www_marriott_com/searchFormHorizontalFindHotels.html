<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>searchFormHorizontalFindHotels.html</title>
</head>
<body>

<script>
!function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="../",i(i.s=246)}({0:function(e,t){e.exports=shared.jquery},1:function(e,t){e.exports=shared.lodash},10:function(e,t){e.exports=shared.cookies},11:function(e,t){var i={TAKEOVER_HEADER_STYLING:{"font-weight":"600",color:"#1c1c1c","font-size":"30px","line-height":"36px",padding:"32px 0px",width:"100%","background-color":"#fff !important",top:"-5px"},ANDROID_INPUT_FIX:{position:"absolute",bottom:"0",width:"100%"},REMOVE_ANDROID_INPUT_FIX:{position:"static",width:"100%"},TAKEOVER_VARIATION:{ADVANCED_SEARCH:{KEEP_OVERFLOW_HIDDEN:!1},MODIFY_RES:{KEEP_OVERFLOW_HIDDEN:!1},HEADER:{KEEP_OVERFLOW_HIDDEN:!0},EDIT_SEARCH:{KEEP_OVERFLOW_HIDDEN:!0},RATE_LIST_EDIT:{KEEP_OVERFLOW_HIDDEN:!0},HOMEPAGE:{KEEP_OVERFLOW_HIDDEN:!0},AVAILABILITY_SEARCH:{KEEP_OVERFLOW_HIDDEN:!1},DEALS_AVAILABILITY_SEARCH:{KEEP_OVERFLOW_HIDDEN:!1},CHECK_AVAILABILITY_HWS:{KEEP_OVERFLOW_HIDDEN:!1}}};e.exports=i},12:function(e,t){e.exports=shared.Extend},13:function(e,t,i){var a=i(4),s=(i(25),i(1)),n={$scrollBarTarget:"",options:{class:{scrollerClass:"scrollbar-outer"}},init:function(){this.scrollerClass=this.$className||this.options.class.scrollerClass,this.$scrollBarTarget.length&&this.$scrollBarTarget.addClass(this.scrollerClass).scrollbar()},destroy:function(){this.$scrollBarTarget.length&&this.$scrollBarTarget.removeClass(this.scrollerClass).scrollbar("destroy")}};e.exports={create:function(e){var t=s.cloneDeep(n);return new(a.extend(t))(e)}}},14:function(e,t,i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=i(0),n=i(1),o=i(4),r=i(3),l=i(30),d={header:!1,keepOverflowHidden:!1,isActive:!1,init:function(){this.setContent(),this.hidePageHeader||this.header||("function"==typeof this.customHeader?this.customHeader():this.createHeader(),this.header=!0),("object"===a(this.backBtnSelector)?this.backBtnSelector:this.$el.find(".back-btn")).off().on("click",n.bind(this.backButtonClick,this)),this.show(),this.isActive=!0},isPortrait:function(){return window.innerHeight>window.innerWidth},ifBrowserIE11:function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},setContent:function(){this.cssProperties={},this.cssProperties.position=this.$el.css("position"),this.cssProperties["z-index"]=0,this.cssProperties.margin=this.$el.css("margin"),this.isNotRetainDisplayAttribute||(this.cssProperties.display=this.$el.css("display")),this.cssProperties.top=this.$el.css("top"),this.cssProperties.left=this.$el.css("left"),this.cssProperties.padding=this.$el.css("padding"),this.loadDimensions(),this.ifBrowserIE11()?this.$el.css(l.internetExplorerDefaultTakeoverStyling):this.$el.css(l.defaultTakeoverStyling),this.skipDimensions||this.$el.css({width:l.defaultWidth,height:l.defaultHeight}),this.$el.addClass("page-take-over"),"function"==typeof this.setCustomContent&&this.setCustomContent(),(void 0===this.transition_speed||this.transition_speed<0)&&(this.transition_speed=r.GLOBAL.TAKE_OVER_SPEED)},loadDimensions:function(e){this.skipDimensions||(this.cssProperties.width=l.defaultWidth,this.cssProperties.height=l.defaultHeight)},createHeader:function(){this.$el.find(".page-take-over-header").length&&this.$el.find(".page-take-over-header").remove(),this.$el.prepend('<div class="page-take-over-header"><span class="back-btn"></span>'+this.headerLabel+"</div>"),this.$el.find(".page-take-over-header").css(l.defaultHeaderStyling),this.$el.find(".back-btn").css(l.defaultBackButtonStyling)},backButtonClick:function(e){return e.preventDefault(),e.stopPropagation(),"function"==typeof this.backButtonCallback&&this.backButtonCallback(),this.hide(),!1},show:function(){var e=this;this.$el.find(".page-take-over-header").show(),"function"==typeof this.beforeShow&&this.beforeShow(),this.$el.animate({left:0},this.transition_speed,(function(){e.onLoad&&e.onLoad(),s("html,body").css(l.setOverflow)}))},hide:function(){var e=this;"function"==typeof this.beforeHide&&this.beforeHide(),this.isActive=!1,this.$el.animate({left:l.defaultWidth},this.transition_speed,(function(){e.$el.removeClass("page-take-over"),s(".page-take-over").length||e.keepOverflowHidden||s("html,body").css(l.removeOverflow),"function"==typeof e.afterHide&&e.afterHide(),e.$el.find(".page-take-over-header").hide(),e.$el.css(e.cssProperties)}))},reload:function(){s("html,body").css(l.setOverflow),this.$el.addClass("page-take-over"),this.cssProperties||(this.cssProperties={},this.cssProperties.position=this.$el.css("position"),this.cssProperties["z-index"]=0,this.cssProperties.margin=this.$el.css("margin"),this.cssProperties.top=this.$el.css("top"),this.cssProperties.left=this.$el.css("left"),this.cssProperties.padding=this.$el.css("padding"),this.loadDimensions()),this.ifBrowserIE11()?this.$el.css(l.internetExplorerFinalTakeoverStyling):this.$el.css(l.finalTakeoverStyling),this.skipDimensions||this.$el.css({width:l.defaultWidth,height:l.defaultHeight}),this.hidePageHeader||this.header||("function"==typeof this.customHeader?this.customHeader():this.createHeader(),this.header=!0),this.$el.find(".back-btn").off().on("click",n.bind(this.backButtonClick,this)),this.beforeShow(),"function"==typeof this.onLoad&&this.onLoad(),this.isActive=!0},remove:function(){this.isActive=!1,"function"==typeof this.beforeHide&&this.beforeHide(),this.$el.removeClass("page-take-over"),s(".page-take-over").length||s("html,body").css({overflow:"visible",position:"static",height:l.defaultHeight}),"function"==typeof this.afterHide&&this.afterHide(),this.$el.find(".page-take-over-header").hide(),this.$el.css(this.cssProperties)}};e.exports={create:function(e){var t=n.cloneDeep(d);return new(o.extend(t))(e)}}},15:function(e,t,i){var a=i(0),s=i(1),n=i(4),o=i(19),r=i(21),l={init:function(){this.constructURL(),this.initGoogleApi(this.createGoogleApiObjects,this.fallback)},constructURL:function(){this.language&&(this.apiUrl+="&language="+this.language)},fallback:a.noop,initGoogleApi:function(e,t){var i=this;i.apiUrl&&r.loadApi(i.apiUrl).then((function(t){e.call(i),"function"==typeof i.success&&i.success(t)}),(function(e){"function"==typeof t&&t.call(i),"function"==typeof i.error&&i.error()}))},createGoogleApiObjects:function(){var e=this;window.geocoder||(window.geocoder=new google.maps.Geocoder),window.googleMaps||(window.googleMaps=new google.maps.Map(document.createElement("div"),o.mapProps)),s.defer((function(){e.pubsub.publish("GOOGLE_API_LOADED")}))}};e.exports={create:function(e){var t=s.cloneDeep(l);return new(n.extend(t))(e)}}},16:function(e,t,i){var a=i(0),s=i(1),n=i(4);e.exports=n.extend({events:{"mousedown .js-clear-trigger":"clearInput","focusin .js-clear-input":"hideShowIcon","keyup .js-clear-input":"hideShowIcon"},options:{input:".js-clear-input",trigger:".js-clear-trigger",classSupressIE:"l-no-ie-clear",classIconActive:"is-icon-active",inputs:{radius:".js-search-radius",latitude:".search-latitude",longitude:".search-longitude",cityPop:".js-search-city-pop",cityPopDensity:".js-search-city-pop-density",cityDisplay:".js-search-city-display",city:".search-city",state:".search-state",country:".search-country",poiname:".search-poiname",airport:".search-airport",autoSuggestOmni:".js-autosuggest-item-type",singleSearchAuto:".single-search-autosuggest",propertyCode:".search-property-code"}},init:function(){this.subscribeDOMEvents();this.options;this.$input=this.$el.find(this.options.input),this.$input.on("blur",this.hideIcon.bind(this)),this.$trigger=this.$el.find(this.options.trigger),0===this.$trigger.length&&(this.$input.after('<span class="l-icon-inline icon icon-close t-medGray js-clear-trigger" title="'+this.$el.data("options").clearTitle+'"></span>'),this.$trigger=this.$el.find(this.options.trigger)),this.$input.addClass(this.options.classSupressIE)},hideIcon:function(e){this.$input.removeClass(this.options.classIconActive)},hideShowIcon:function(e){var t=this;t.$input.each((function(){a(this).val()?a(this).addClass(t.options.classIconActive):a(this).removeClass(t.options.classIconActive)}))},clearInput:function(e){var t=this,i=t.$el.hasClass("l-adv-search-associate");t.$input.each((function(){a(this).val("")})),s.forEach(t.options.inputs,(function(e){if(t.$parent.$parent.$el.find(e).length){if(i&&".js-autosuggest-item-type"===e)return;t.$parent.$parent.$el.find(e).val(""),s.isFunction(t.$parent.$parent.propertyCodeChangeHandler)&&t.$parent.$parent.propertyCodeChangeHandler()}}),t),t.$parent.recentSearchTerm="",t.$parent.hideSuggestions(),t.$parent.resetSuggestionList(!1,!0),this.onClear&&this.onClear()}})},17:function(e,t,i){var a=i(0),s=i(1),n=i(7),o=i(4);e.exports=o.extend({autoSuggestItem:"",options:{class:{turnedon:"is-location-nearme",active:"is-location-nearme-active"},inputs:{location:".js-geoloc-target",lat:".search-latitude",long:".search-longitude",states:".search-state",countries:".search-country",dataValues:".js-location-nearme-values"},inputMap:{".js-geoloc-target":"location",".js-search-radius":"radius",".search-latitude":"latitude",".search-longitude":"longitude",".search-city":"city",".search-state":"state",".search-country":"country",".autosuggest-item-type":"itemtype"}},init:function(){this.subscribeDOMEvents(),this.$inputLocation=this.$parent.$el.find(this.options.inputs.location),this.$dataValues=this.$parent.$el.find(this.options.inputs.dataValues),!a("body.lt-ie9").length&&this.$inputLocation.length&&navigator.geolocation&&this.autoComplete.permittedSiteId()&&(this.autoSuggestItem='<li class="autocomplete-list-header c-location-option" role="menuitem"><a class="ui-corner-all js-geoloc " data-index="0"><span class="icon-current-location"></span>'+this.$dataValues.data("title")+"</a></li>")},doLocalDetails:function(){navigator.geolocation.getCurrentPosition(s.bind(this.onLocationFound,this,this.$dataValues[0]),s.bind(this.onError,this))},onLocationFound:function(e,t){var i,a,s=this,n={lat:parseFloat(t.coords.latitude),lng:parseFloat(t.coords.longitude)};window.geocoder.geocode({location:n},(function(e,n){n===google.maps.GeocoderStatus.OK&&e[0]&&(i=e[0],a=i.address_components.map((function(e){var t={},i=e.types[0];return t[i]=e.long_name,"administrative_area_level_1"!==i&&"country"!==i||(t[i]=e.short_name),t})),s.populateGeoLoc(a,t))}))},onError:function(e,t){var i='<div class="l-padding-left l-padding-right mi-popover" id="no-current-loc-popup"><p class="l-center-align t-font-bold">'+this.$dataValues.data("errhead")+'</p><p class="l-center-align">'+this.$dataValues.data("errmessage")+"</p></div>";new n({mainClass:"m-modal t-modal-small",items:{src:i},alternateCloseMarkup:'<div class="l-padding-left l-padding-right "><button class="js-mfp-close l-width-max m-button-lightestGray">'+this.$dataValues.data("error-popup-button-text")+"</button></div>",closeOnContentClick:!0,open:!0,ajaxLoaded:!1}).register()},populateGeoLoc:function(e,t){var i=this.$parent.$el,a={},n={};s.each(e,(function(e){s.each(e,(function(e,t){n[t]=e}))})),a.city=n.locality,a.state=n.administrative_area_level_1,a.country=n.country,a.latitude=t.coords.latitude,a.longitude=t.coords.longitude,a.itemtype="hotelsnearme",a.location=this.$dataValues[0].getAttribute("data-neartext")+" "+a.city+", "+a.state+", "+a.country,s.each(this.options.inputMap,(function(e,t){i.find(t).val(a[e])})),i.hasClass("animate-search-form")&&this.autoComplete.checkAndClearPlaceholderAnimation()},setLatLong:function(e){e.preventDefault();var t=this,i=JSON.parse(window.localStorage.getItem("latLongObj"));i&&i.sessionId===t.sessionId?t.sendLocationForm(i):(window.localStorage.removeItem("latLongObj"),window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition((function(e){latLongObj={},latLongObj.lat="",latLongObj.long="",latLongObj.lat=e.coords.latitude,latLongObj.long=e.coords.longitude,latLongObj.sessionId=t.sessionId,window.localStorage.setItem("latLongObj",JSON.stringify(latLongObj)),t.sendLocationForm(latLongObj)}),(function(e){var i=t.$el.find("#findNearMe").data("nolatlongurl");return null!=i?window.location.replace(i):t.$el.find(".js-location-error").removeClass("is-hidden"),!0})))},sendLocationForm:function(e){var t=this.$el.find("#sendLocationForm");t.find('input[name ="destinationAddress.latitude"]').val(e.lat),t.find('input[name ="destinationAddress.longitude"]').val(e.long),t.find('input[name ="usePreciseLocation"]').val(!0),t.submit()}})},18:function(e,t,i){var a=i(0),s=i(1),n=i(3),o=i(4),r={init:function(){var e=this;this.setDeviceInformation(),a(window).on("resize",(function(){e.setDeviceInformation(),s.isFunction(e.resizeEventHandler)&&e.resizeEventHandler()})),a(window).on("orientationchange",(function(){setTimeout((function(){e.setDeviceInformation(),s.isFunction(e.orientationChangeEventHandler)&&e.orientationChangeEventHandler()}))}))},setDeviceInformation:function(){var e=this.getViewportConfig(),t=a(window).width();this.isTabletDevice=this.isMobileDevice=this.isDesktopDevice=!1,t>=e.TABLET_VIEWPORT&&t<=e.DESKTOP_VIEWPORT?this.isTabletDevice=!0:t<e.TABLET_VIEWPORT?this.isMobileDevice=!0:this.isDesktopDevice=!0},isTablet:function(){return this.isTabletDevice},isMobile:function(){return this.isMobileDevice},isDesktop:function(){return this.isDesktopDevice},isMobileOrTablet:function(){return void 0===this.isTakeOverRequired&&(this.isMobileDevice||this.isTabletDevice)},isPortrait:function(){return window.innerHeight>window.innerWidth},isDevice:function(){return!!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)},getViewportConfig:function(){var e=this.viewport||n.GLOBAL;return{TABLET_VIEWPORT:e.TABLET_VIEWPORT||n.GLOBAL.TABLET_VIEWPORT,DESKTOP_VIEWPORT:e.DESKTOP_VIEWPORT||n.GLOBAL.DESKTOP_VIEWPORT}}};e.exports={create:function(e){var t=s.cloneDeep(r);return new(o.extend(t))(e)}}},19:function(e,t){var i={defaultZoomLevel:0,defaultLat:0,defaultLong:0,markerZoomLevel:15,desktopZoom:10,mobileZoom:11,mapProps:{center:{lat:0,lng:0},zoom:2,panControl:!0,panControlOptions:{position:1},streetViewControl:!0,streetViewControlOptions:{position:1},zoomControl:!0,zoomControlOptions:{style:1,position:1},scaleControl:!0,clickableIcons:!0,noClear:!1,draggable:!0,scrollwheel:!0,mapTypeControl:!1,gestureHandling:"greedy"},customControl:!0,noStreetViewControl:!1,addressPinDimension:{width:33,height:33},blankPinDimension:{width:32,height:32},markerOMSOptions:{circleSpiralSwitchover:0,spiralLengthStart:50,spiderfiedShadowColor:null,markersWontMove:!0,markersWontHide:!0,nearbyDistance:1,minNudgeZoomLevel:29,keepSpiderfied:!0,nudgeBucketSize:0,maxNudgeCount:!1,minZoomLevel:20},clusterProps:{styles:[{textColor:"#FFFFFF",height:70,width:70}],maxZoom:19},pushPinSpritePoint:{AR:40,AK:80,CY:120,ER:160,EB:200,FI:240,GE:280,GR:320,JW:360,MC:400,ET:400,OX:440,BR:480,RZ:520,RI:560,SH:600,TP:640,MV:680,GREY:720,PR:760,DE:800},pushPinIcon:{width:25,height:40,count:21,scaleSize:1.4},markerProps:{icon:{scaledSize:{width:88,height:32},origin:{x:0,y:0},labelOrigin:{x:42,y:12}},hotelIcon:{scaledSize:{width:200,height:32},origin:{x:0,y:0},labelOrigin:{x:95,y:12}},airportIcon:{labelOrigin:{x:22,y:32}},color:"#FFF",radius:"50000",hotelLength:25,hotelLengthKr:15,hotelLengthJp:12,hotelLengthRu:21,hotelFont:"0.875rem",rateFont:"1rem",hotelFontWeight:"600",hotelLineHeight:"0.875rem"},styledMapType:[{featureType:"all",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{color:"#333333"}]},{featureType:"poi.business",elementType:"icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#777777"},{saturation:"0"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{lightness:"33"},{color:"#e3f4cf"},{saturation:"0"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#777777"},{saturation:"0"}]},{featureType:"water",elementType:"all",stylers:[{saturation:"0"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{saturation:"0"},{color:"#cce1f2"}]}],reslinkPropertyLocation:{mapLocaleConfig:{default:{maxCharacterLimit:23},ja_JP:{maxCharacterLimit:11},ar_AE:{maxCharacterLimit:32},zh_CN:{maxCharacterLimit:13}},propertyMarker:{label:{color:"#ffffff",fontSize:"14px",fontWeight:"600",fontFamily:"proxima-nova,Helvetica,Arial,sans-serif"},icon:{scaledSize:{width:200,height:32},labelOrigin:{x:100,y:12}},iconArabic:{scaledSize:{width:200,height:32},labelOrigin:{x:14,y:12}}},propertyMap:{zoom:10,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1},airportMarker:{label:{color:"#ffffff",fontSize:"12px",fontWeight:"600",fontFamily:"proxima-nova,Helvetica,Arial,sans-serif"},icon:{scaledSize:{width:48,height:48},labelOrigin:{x:23,y:33}},iconArabic:{scaledSize:{width:48,height:48},labelOrigin:{x:12,y:33}}},airportMarkerMobile:{icon:{scaledSize:{width:30,height:30}}},airportFilter:{radius:"50000"},ellipsis:"…"}};e.exports=i},2:function(e,t){e.exports=shared.AriesComponent},20:function(e,t,i){var a=i(2).extend({elOverride:!0,initialize:function(e){var t=this;e&&_.each(e,(function(e,i){t[i]=e}))}});e.exports=a},21:function(e,t){e.exports=shared.GoogleApiWrapper},23:function(e,t,i){var a=i(12),s=i(9),n=n||s.default,o={};function r(e,t){this.key=e,this.limit=t,this.recentSearch=n.getItem(this.key)?JSON.parse(n.getItem(this.key)):[],this.recentSearch=this.recentSearch.slice(0,t)}var l={get:function(){return this.recentSearch},set:function(e,t){if(this.recentSearch.filter((function(i){return i[t]===e[t]})).length>0)return!1;this.recentSearch.unshift(e),this.recentSearch=this.recentSearch.slice(0,this.limit),n.setItem(this.key,JSON.stringify(this.recentSearch))},clear:function(){this.recentSearch=[],n.setItem(this.key,JSON.stringify(this.recentSearch))}};a(r.prototype,l),e.exports={get:function(e,t){return o[e]||(o[e]=new r(e,t)),o[e]}}},24:function(e,t){e.exports={init:function(e){this.$el=e,this.$el.hasClass("animate-search-form")&&(this.bindEvents(),this.animateElement=this.$el.find(".animate-placeholder-text"),this.inputElement=this.$el.find(".single-search-destination"),this.counter=0,this.pauseAnimate=!1,this.checkPlaceholderAnimation(),setTimeout(function(){this.startPlaceholderAnimation()}.bind(this),2e3))},bindEvents:function(){var e=this;e.$el.find(".single-search").on("keyup",(function(){e.checkPlaceholderAnimation()})),e.$el.find(".js-clear-trigger").on("mousedown",(function(){e.resumePlaceholderAnimation()}))},startPlaceholderAnimation:function(){var e=this,t=e.$el.data("placeholderList").split("#");t.push(t[0]);var i=setInterval((function(){e.pauseAnimate||(e.animateElement.fadeOut((function(){$(this).html(t[e.counter]).css({opacity:0,display:"flex"}).animate({opacity:1},750)})),e.counter++,e.counter>=t.length&&clearInterval(i))}),5800);this.inputElement.attr("placeholder",""),this.animateElement.text(t[0]),this.checkPlaceholderAnimation()},checkPlaceholderAnimation:function(){this.inputElement&&(this.inputElement.val()?(this.animateElement.hide(),this.pauseAnimate=!0):this.resumePlaceholderAnimation())},resumePlaceholderAnimation:function(){this.animateElement.show(),this.pauseAnimate=!1}}},246:function(e,t,i){i(247),e.exports=i(248)},247:function(e,t,i){var a=i(8),s=i(56);a.register(s.extend({type:"searchFormHorizontalFindHotels"}))},248:function(e,t,i){var a=i(249);"string"==typeof a&&(a=[[e.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(5)(a,s);a.locals&&(e.exports=a.locals)},249:function(e,t,i){},25:function(e,t){e.exports=shared.JqueryScrollbar},26:function(e,t,i){function a(e,t){this.form=e,this.mapper=t}var s={getFormData:function(){var e=this,t={};return Object.keys(e.mapper).forEach((function(i){var a=e.mapper[i];e.form[i]&&(t[a]=e.form[i].value)})),t},setFormData:function(e){var t,i=this;Object.keys(i.mapper).forEach((function(a){t=i.mapper[a],i.form[a]&&(i.form[a].value=e[t]||"")}))},resetFormFields:function(){var e=this;Object.keys(e.mapper).forEach((function(t){e.form[t]&&(e.form[t].value="")}))}};i(12)(a.prototype,s),e.exports=a},27:function(e,t){e.exports={get:function(e){var t;switch(e){case"deals-search":t={city:"city",state:"stateProvinceShort",country:"countryShort"};break;case"existing-reservation-form":t={cityName:"city",cityCodes:"cityCodes",regionCode:"stateProvinceShort",countryCode:"countryShort"};break;default:t={"destinationAddress.name":"name","destinationAddress.latitude":"latitude","destinationAddress.longitude":"longitude","destinationAddress.city":"city",cityCodes:"cityCodes","destinationAddress.stateProvince":"stateProvince","destinationAddress.country":"country","destinationAddress.mainText":"mainText","destinationAddress.secondaryText":"secondaryText","destinationAddress.placeId":"placeId",showAddressPin:"showAddressPin","destinationAddress.website":"website","destinationAddress.address":"address","destinationAddress.locality":"locality","destinationAddress.postalCode":"postalcode","destinationAddress.types":"types","destinationAddress.stateProvinceShort":"stateProvinceShort","destinationAddress.countryShort":"countryShort"}}return t}}},28:function(e,t){e.exports=shared.Bluebird},29:function(e,t,i){var a=i(0),s=i(1),n=i(4),o=i(17),r=i(16),l=i(9),d=(i(8),i(10)),c=i(15),h=i(13),p={listHtml:"",listCount:0,timeoutId:0,permittedLocales:[],recentSearch:{max:3,list:[],inputClass:"js-recent-search"},options:{searchType:".js-searchtype",addressSearch:"NearAddress",isPropertyCodeFlag:".search-property-code-flag",inputs:{radius:".js-search-radius",latitude:".search-latitude",longitude:".search-longitude",cityPop:".js-search-city-pop",cityPopDensity:".js-search-city-pop-density",cityDisplay:".js-search-city-display",city:".search-city",state:".search-state",country:".search-country",countryname:".search-country-name",poiname:".search-poiname",airport:".search-airport",airportName:".search-airport-name",autoSuggestOmni:".js-autosuggest-item-type",singleSearchAuto:".single-search-autosuggest",stateProvince:".search-state-province",propertyName:".search-property-name",propertyCode:".search-property-code"},categoryParams:{label:""},autoCompleteList:".js-auto-complete-list",maxCategory:10,isWebRequest:!0,applyGrouping:!0,scrollBarTarget:".autocomplete-scroller-wrapper",scrollbarWrapper:".scroll-wrapper.autocomplete-scroller-wrapper"},templates:{autoComplete:s.template('<li class="ui-menu-item" role="menuitem"><a class="ui-corner-all <% if( index == 0 ) { %> ui-state-hover <% } %>" data-index="<%=index%>" data-type="<%=(typeof type !== "undefined")?type:""%>" data-city="<%=(typeof city !== "undefined")?city:""%>" data-state="<%=(typeof statecode !== "undefined")?statecode:""%>" data-countrycode="<%=countrycode%>" data-country="<%=country%>" <% if(typeof airportname !== "undefined") { %> data-airport-name="<%=airportname%>" data-airport-code="<%=airportcode%>"<% } %> <% if(typeof poiname !== "undefined") { %> data-poi-name="<%=poiname%>"<%}%> data-geo="<%=(typeof geocode !== "undefined")?geocode:""%>" <% if(typeof citypopulation !== "undefined") { %> data-city-population="<%=citypopulation%>" <%}%> <% if(typeof propertyname !== "undefined") { %> data-property-name="<%=propertyname%>" <%}%> <% if(typeof propertycode !== "undefined") { %> data-property-code="<%=propertycode%>" <%}%> <% if(typeof stateprovincedisplayname !== "undefined") { %> data-state-province="<%=stateprovincedisplayname%>"<%}%> <% if(typeof citypopulationdensity !== "undefined") {%> data-city-population-density="<%=citypopulationdensity%>"<%}%>> <% if(type === "poi") { %><%=mergeItem(", ", poiFormat(poiname, city, statecode, country, searchterm))%><%}else if(type === "property") { %><%=mergeItem(", ", propertyFormat(propertyname, city, statecode, country, propertycode ,propertyCodeCheckFlag))%><%} else {%><%=mergeItem(", ", any(airportFormat((typeof airportname !== "undefined")?airportname:"",(typeof airportcode !== "undefined")?airportcode:"",(typeof city !== "undefined")?city:""), any((typeof poiname !== "undefined")?poiname:"",(typeof city !== "undefined")?city:"")), (typeof statecode !== "undefined")?statecode:"",(typeof country !== "undefined")?country:"")%><%} %></a></li>'),autoOutComplete:s.template('<li class="ui-menu-item" role="menuitem"><a class="ui-corner-all <% if( index == 0 ) { %> ui-state-hover <% } %>" data-label="<%=label%>" data-index="<%=index%>" data-type="NA" data-route="<%=Route%>" data-city="<%=City%>" data-state="<%=StateCode%>" data-country="<%=Country%>" data-geo="<%=GeoCode%>"><%=label%></a></li>'),autoListHeader:s.template('<li class="t-category-header t-font-semi-bold <%=firstClass%>"><span class="icon-<%=name%>"></span><%=category%></li>'),autoListMsg:s.template('<li class="t-autosuggest-msg t-font-semi-bold"><%=label%></li>'),autoCompleteRecent:s.template('<li class="ui-menu-item" role="menuitem"><a class="ui-corner-all <% if(index == 0 ) { %> ui-state-hover <% } %>" data-index="<%=index%>" data-type="<%=type%>"  data-searchtype="<%=searchtype%>" <% if(typeof city !== "undefined") { %> data-city="<%=city%>"<%}%><% if(typeof state !== "undefined") { %> data-state="<%=state%>"<%}%><% if(typeof country !== "undefined") { %> data-countrycode="<%=country%>"<%}%><% if(typeof countryname !== "undefined") { %> data-country="<%=countryname%>"<%}%> <% if(typeof airportname !== "undefined") { %> data-airport-name="<%=airportname%>"<%}%><% if(typeof airportcode !== "undefined") { %> data-airport-code="<%=airportcode%>"<%}%><% if(typeof poiname !== "undefined") { %> data-poi-name="<%=poiname%>"<%}%><% if(typeof geocode !== "undefined") { %> data-geo="<%=geocode%>"<%}%><% if(typeof citypopulation !== "undefined") { %> data-city-population="<%=citypopulation%>"<%}%><% if(typeof stateprovincedisplayname !== "undefined") { %> data-state-province="<%=stateprovincedisplayname%>"<%}%><% if(typeof citypopulationdensity !== "undefined") {%> data-city-population-density="<%=citypopulationdensity%>"<%}%> data-label="<%=label%>"><%=label%></a></li>'),autoCompleteCluster:s.template('<li class="ui-menu-item" role="menuitem"><a class="ui-corner-all <% if( index == 0 ) { %> ui-state-hover <% } %>"  data-index="<%=index%>" data-type="<%=(typeof type !== "undefined")?type:""%>"  data-code="<%=code%>"data-desc="<%=description%>" ><%=code%>-<%=description%></a></li>')},templateSettings:{imports:{any:function(e,t){return e||t},airportFormat:function(e,t,i){return e&&e+(t&&" ("+t+")"||"")+" "+i||void 0},poiFormat:function(e,t,i,a,s){var n=-1!==e.toLowerCase().indexOf(s.toLowerCase())?e+" - "+t:t+" - "+e;return n+=", "+(i?i+", ":"")+a},propertyFormat:function(e,t,i,a,s,n){return e+" - "+t+", "+(i?i+", ":"")+a+(n?" ("+s+")":"")},mergeItem:function(e){var t="",i=0;for(i=1;i<arguments.length;i++)t+=arguments[i]&&(t&&e||"")+arguments[i]||"";return t},clusterFormat:function(e,t){return e+" - "+t}}},events:{"keyup .js-auto-complete-input":"getChoiceList","keydown .js-auto-complete-input":"navigateList","blur .js-auto-complete-input":"hideSuggestions"},subscribe:{GOOGLE_API_LOADED:"populateCurrentLocation"},init:function(){this.options;this.propertyCodeCheckFlag="",this.propertyCodeCheck();var e=this.$el.data("options");this.options.autoCompleteURL=e.autoCompleteURL,this.options.autoCompleteOutReqURL=e.autoCompleteOutReqURL,this.options.suggestionSortOrder=e.suggestionSortOrder,this.options.clusterSearchHandler=this.clusterSearchHandler,this.$document=a(document),e.permittedLocales&&(this.permittedLocales=e.permittedLocales.split(",")),this.googleMap=this.$parent.$el.find(".search-google-map").data("options"),s.extend(s.templateSettings,this.templateSettings),this.subscribeDOMEvents(),this.subscribePubSubMessages(),this.$parent.hideCurrentLocation||(this.initGeoLocationHandler(),this.initGoogleApi()),this.initClearInputHandler(),this.$parent.$el.find(".autosuggest-cat-headers").length&&(this.options.categoryParams=this.$parent.$el.find(".autosuggest-cat-headers").data("category-params")),this.$scrollbarWrapper=a('<div class="autocomplete-scroller-wrapper"><ul></ul></div>'),this.$autoCompleteList=this.$scrollbarWrapper.find("ul"),this.$autoCompleteList.addClass("ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all t-category-headers").css({"z-index":999,top:"0px",left:"0px",display:"none"}).on("mousedown",".ui-menu-item a",s.bind(this.listItemSelect,this)).on("mouseover",".ui-menu-item a,.t-category-header",s.bind(this.highLightListItem,this)).on("mousedown",".js-recent-clear",s.bind(this.clear,this)),this.$scrollbarWrapper.css({display:"none"}),this.$narrate=this.$el.find('div[aria-live="assertive"]'),this.$el.append(this.$scrollbarWrapper).append(this.$narrate).find(this.$autoCompleteList),this.setLocationInput(),this.recentSearchTerm=this.$input.val(),this.addRecent(),this.retainLatitudeLongitudeAttributes(),this.autoCompleteStyle(!0),this.initScroller()},initScroller:function(){!this.scrollbar&&this.isDesktopVersion()&&(this.scrollbar=h.create({$el:this.$el,$scrollBarTarget:this.$el.find(this.options.scrollBarTarget).not(".custom-wrapper")}),this.scrollbar.init(),this.autoSuggestMobileFix(!0))},removeScroller:function(){this.scrollbar&&(this.scrollbar.destroy(),delete this.scrollbar,this.autoSuggestMobileFix())},retainLatitudeLongitudeAttributes:function(e){e={latitude:e?e.latitude:this.$parent.$el.find(this.options.inputs.latitude).val(),longitude:e?e.longitude:this.$parent.$el.find(this.options.inputs.longitude).val(),singleSearchAuto:e?e.singleSearchAuto:this.$parent.$el.find(this.options.inputs.singleSearchAuto).val(),autoSuggestOmni:e?e.autoSuggestOmni:this.$parent.$el.find(this.options.inputs.autoSuggestOmni).val()};if(this.options.searchTypeVal=this.$parent.$el.find(this.options.searchType).val(),this.options.searchTypeVal===this.options.addressSearch)this.addressInputs=s.cloneDeep(e);else{if("InHotelSearch"===this.options.searchTypeVal)return!1;this.inCityInputs=s.cloneDeep(e)}},populateCurrentLocation:function(){sessionStorage&&"true"===d.readCookie("loadCurrentLocation")&&(d.eraseCookie("loadCurrentLocation"),this.geoLocationHandler.doLocalDetails())},propertyCodeCheck:function(){var e=this.options;this.propertyCodeCheckFlag=this.$parent.$el.find(e.isPropertyCodeFlag).val()},setLocationInput:function(){this.$input=a(s.filter(this.$el.find(".js-auto-complete-input").attr("aria-autocomplete","list"),(function(e){return a(e).is(":visible")})))},initGeoLocationHandler:function(){this.geoLocationHandler=new o({$el:this.$el,$parent:this.$parent,autoComplete:this}),this.geoLocationHandler.init()},initGoogleApi:function(){this.googleMap&&c.create({apiUrl:this.googleMap.api,language:this.googleMap.language}).init()},initClearInputHandler:function(){this.clearInputHandler=new r({$el:this.$el,$parent:this}),this.clearInputHandler.init()},permittedSiteId:function(){var e=a("html").attr("lang")||a("html").attr("xml:lang");return!!s.isEmpty(this.permittedSiteId)||e&&s.includes(this.permittedLocales,e)},getChoiceList:function(e){var t=e.target.value,i=s.bind(this.parseResult,this,t,a(e.target));if(this.options.searchTypeVal=this.$parent.$el.find(this.options.searchType).val(),this.options.searchTypeVal!==this.options.addressSearch&&(this.$autoCompleteList.addClass("ui-autocomplete-edit-search t-category-headers"),this.$autoCompleteList.removeClass("ui-autocomplete-near-address")),t.trim().length&&this.recentSearchTerm===t||(this.recentSearchTerm!==t&&delete this.initialSearchTerm,this.options.clusterSearchHandler?(this.xhrRequest&&this.xhrRequest.abort(),this.listHtml=""):this.resetInputs()),t.trim().length||(this.suggestionListShow=!1),!t.trim().length||this.recentSearchTerm===t){var n=!1;return 38!==e.keyCode&&40!==e.keyCode&&8!==e.keyCode||this.suggestionListShow||(this.options.searchTypeVal===this.options.addressSearch||this.listHtml||(this.suggestGeoLoc(),this.suggestRecent(t),n=!0),this.showList(a(e.target),n)),void(this.recentSearchTerm=t)}this.recentSearchTerm=t,this.options.clusterSearchHandler?this.performClusterSearch(i):this.options.searchTypeVal!==this.options.addressSearch?this.performLocationSearch(i):this.performAddressSearch(i)},xhrRequest:!1,performLocationSearch:function(e){this.$autoCompleteList.addClass("ui-autocomplete-edit-search t-category-headers"),this.$autoCompleteList.removeClass("ui-autocomplete-near-address");var t={type:"GET",url:this.options.autoCompleteURL,contentType:"text/html",cache:!0,data:{searchTerm:this.recentSearchTerm,suggestionSortOrder:this.options.suggestionSortOrder},success:e};this.xhrRequest&&this.xhrRequest.abort(),this.xhrRequest=this.makeAjaxCall(t)},performClusterSearch:function(e){this.$autoCompleteList.addClass("ui-autocomplete-edit-search t-category-headers"),this.$autoCompleteList.removeClass("ui-autocomplete-near-address");var t={type:"GET",url:this.options.autoCompleteURL,contentType:"text/html",data:{searchTerm:this.recentSearchTerm,suggestionSortOrder:this.options.suggestionSortOrder},success:e};this.xhrRequest&&this.xhrRequest.abort(),this.xhrRequest=this.makeAjaxCall(t)},performAddressSearch:function(e){var t=this;window.geocoder.geocode({address:t.recentSearchTerm},(function(i,s){if(s===google.maps.GeocoderStatus.OK&&(t.$autoCompleteList.removeClass("ui-autocomplete-scroll ui-autocomplete-edit-search t-category-headers"),t.$autoCompleteList.addClass("ui-autocomplete-near-address"),i&&i.length>=0)){t.$autoCompleteList.click((function(){return!1}));var n=[];a.map(i,(function(e){null!=e.formatted_address&&n.push({data:e,label:e.formatted_address,value:e.formatted_address})})),e(n)}}))},hideSuggestionsFlag:!0,blankLocationInputFlag:!0,hideSuggestions:function(e,t){this.hideSuggestionsFlag&&(this.$autoCompleteList.hide(),this.$scrollbarWrapper.scrollTop(0).parent().find(".scroll-bar").css("top","0px"),this.$scrollbarWrapper.hide(),this.$document.off("click.auto-complete-handler"),this.autoCompleteStyle(!0),this.suggestionListShow=!1,this.blankLocationInputFlag&&this.onListClose&&!t&&this.onListClose())},resetInputs:function(){var e=this,t=e.$el.hasClass("l-adv-search-associate"),i=e.$parent.$el.hasClass("adv-search-associate-form");e.listHtml="",e.listCount=0,s.forEach(e.options.inputs,(function(a){(t||i)&&".js-autosuggest-item-type"===a||(e.$parent.$el.find(a).val(""),s.isFunction(e.$parent.propertyCodeChangeHandler)&&e.$parent.propertyCodeChangeHandler())}),e),e.$parent.$el.find(e.options.inputs.singleSearchAuto).val(!1)},suggestRecent:function(e){if(this.permittedSiteId())var t=this.getAutocompleteItem(e,this.$input),i="";if(t&&t.length){i+="<li class='t-category-header t-font-semi-bold first'><span class='icon-recent'></span> "+this.options.categoryParams.recent+'<span class="t-pointer l-float-right js-recent-clear l-margin-right-half t-font-normal t-lowercase ">'+this.options.categoryParams.clear+"</span></li>";for(var a=0;a<t.length;a++)t[a].index=this.listCount+a,i+=this.markSearchTerm(e,this.templates.autoCompleteRecent(t[a]));this.listHtml+=i,this.listCount+=t.length}return this.listCount},showList:function(e,t){var i=this;if(i.blankLocationInputFlag=!0,i.listCount){i.options.searchTypeVal!==i.options.addressSearch&&t&&(i.listHtml+=i.templates.autoListMsg(i.options.categoryParams)),i.$autoCompleteList.html(i.listHtml);var s="";i.$parent.$el.find(".l-hsearch-labels").length||i.$parent.$el.find(".field-title").height();i.$autoCompleteList.filter(":hidden")&&(i.$autoCompleteList.show(),i.$scrollbarWrapper.show(),i.$document.off("click.auto-complete-handler").on("click.auto-complete-handler",i.handleDocumentClick.bind(i))),i.$autoCompleteList.css({left:"0px",width:e.outerWidth()+"px"}),this.autoSuggestMobileFix(),i.$autoCompleteList.mousedown((function(e){i.target=a(e.target),i.target.hasClass("ui-menu-item")||i.target.parents().hasClass("ui-menu-item")?(i.hideSuggestionsFlag=!0,i.blankLocationInputFlag=!1,i.hideSuggestions()):(i.target.hasClass("t-autosuggest-msg")||i.target.hasClass("t-category-header"))&&(i.hideSuggestionsFlag=!1)})),i.$input.attr("data-count",i.listCount),i.suggestionListShow=i.listCount>0,i.$autoCompleteList.find(".ui-state-hover").length&&(s=i.$autoCompleteList.find(".ui-state-hover").text(),i.$narrate.text(s));var n=!0;i.$el.find(".ui-autocomplete").height()>i.$scrollbarWrapper.height()?(n=!1,i.autoCompleteStyle(n)):(n=!0,i.autoCompleteStyle(n))}else i.listCount||i.listHtml||!i.suggestionListShow||i.hideSuggestions(null,!0)},autoSuggestMobileFix:function(e){var t=this,i=t.$parent.$el.find(".l-form-container");i.length||(i=t.$parent.$el.find(".m-search-tabs")),navigator.userAgent.length&&/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!e&&this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isMobileOrTablet()&&(t.realHeight=t.$parent.$el.height(),t.fixHeight=t.$autoCompleteList.height()+600+"px",i.css("height",t.fixHeight),t.$parent.$el.find(".single-search").on("focus",(function(){t.$parent.responsiveUtils.isMobileOrTablet()&&i.css("height",t.realHeight+"px")})),t.$parent.$el.find(".single-search").on("blur",(function(){t.$parent.responsiveUtils.isMobileOrTablet()&&i.css("height",t.realHeight+"px")}))),e&&i.css("height","auto")},parseResult:function(e,t,i){var a="";this.listHtml="",this.options.clusterSearchHandler?Object.keys(i).length>0?a=this.filterClusterSearchData(i):this.$el.find('input[name="hiddenClusterCode"]').val(""):this.options.searchTypeVal===this.options.addressSearch?i&&(a=this.filterAddressSearchData(i)):a=this.filterLocationSearchData(i),this.listHtml+=a,this.showList(t,!0)},filterAddressSearchData:function(e){var t,i,a,n,o,r,l,d,c,h,p="",u=this,f=0;return s.each(e,(function(e){t=e.data.address_components,i=s.filter(t,(function(e){return s.includes(e.types,"country")})),a=s.filter(t,(function(e){return s.includes(e.types,"route")})),n=s.filter(t,(function(e){return s.includes(e.types,"locality")})),o=s.filter(t,(function(e){return s.includes(e.types,"administrative_area_level_1")})),r="",l="",d="",c="",i.length&&"United States"==(r=i[0].long_name)&&(r=i[0].short_name),a.length&&(c=a[0].long_name),n.length&&(l=n[0].long_name),o.length&&(d=o[0].short_name),u.options.maxCategory>f&&(h={type:"NA",label:e.label,Route:c,City:l,StateCode:d,Country:r,GeoCode:e.data.geometry.location.lat()+","+e.data.geometry.location.lng()||"",index:f},p+=u.markSearchTerm(u.recentSearchTerm,u.templates.autoOutComplete(h)),f++)})),u.listCount+=f,p},filterLocationSearchData:function(e){var t,i,a=this,n="",o=0;e.suggestionList||a.suggestGeoLoc();var r=a.suggestRecent(a.recentSearchTerm);return s.each(e.suggestionList,(function(e,l){(i=s.extend({index:r},a.templateSettings.imports)).type,t!==l&&(t=l,e&&(n+=a.templates.autoListHeader({firstClass:0==r?"first":"",name:t.toLowerCase(),category:a.options.categoryParams[t.toLowerCase()]})),o=0),a.options.maxCategory>o&&s.each(e,(function(e){s.each(e,(function(e,t){"searchType"===t?i.type=e:i[t.toLowerCase()]=e})),i.index=r,i.searchterm=a.recentSearchTerm,i.propertyCodeCheckFlag=a.propertyCodeCheckFlag,n+=a.markSearchTerm(a.recentSearchTerm,a.templates.autoComplete(i)),r++})),o++})),a.listCount=r,n},filterClusterSearchData:function(e){var t,i=this,a=this.$parent.$el.find(".js-searchtype").val(),n="",o=0,r=i.suggestRecent(i.recentSearchTerm);return s.each(e.clusters,(function(e){t=s.extend({index:r},i.templateSettings.imports),o=0,i.options.maxCategory>o&&(s.each(e,(function(e,i){t[i.toLowerCase()]=e,"InHotelSearch"===a&&(t.type="property")})),t.index=r,t.searchterm=i.recentSearchTerm,n+=i.markSearchTerm(i.recentSearchTerm,i.templates.autoCompleteCluster(t)),r++),o++})),i.listCount=r,n},listItemSelect:function(e){var t=this;t.blankLocationInputFlag=!1;var i=t.$autoCompleteList.find(".ui-state-hover"),a=i.attr("data-geo");if(i.length){if(t.options.clusterSearchHandler){var n={clusterCode:i.attr("data-code"),clusterDesc:i.attr("data-desc")};return t.$input.val(t.recentSearchTerm=t.templateSettings.imports.mergeItem(", ",t.templateSettings.imports.clusterFormat(n.clusterCode,n.clusterDesc))),void(t.onListItemSelect&&t.onListItemSelect(n))}i.hasClass("js-geoloc")&&t.geoLocDetails();n={latitude:(a=a&&a.split(",")||["",""])[0],longitude:a[1],route:i.attr("data-route"),cityPop:i.attr("data-city-population"),cityPopDensity:i.attr("data-city-population-density"),city:i.attr("data-city"),state:i.attr("data-state"),countryname:i.attr("data-country"),country:i.attr("data-countrycode"),poiname:i.attr("data-poi-name"),airport:i.attr("data-airport-code"),airportName:i.attr("data-airport-name"),singleSearchAuto:null,autoSuggestOmni:i.attr("data-type"),stateProvince:i.attr("data-state-province"),propertyName:i.attr("data-property-name"),propertyCode:i.attr("data-property-code"),searchType:i.attr("data-searchtype")};var o=t.templateSettings.imports.airportFormat(n.airportName,n.airport,n.city);n.autoSuggestOmni?n.singleSearchAuto="true":(n.singleSearchAuto="false",n.singleSearchAuto="Unmatched"),o?t.$input.val(t.recentSearchTerm=t.templateSettings.imports.mergeItem(", ",o||n.poiname||n.route,n.state,n.countryname)):n.clusterCode?t.$input.val(t.recentSearchTerm=t.templateSettings.imports.mergeItem(", ",t.templateSettings.imports.clusterFormat(n.clusterCode,n.clusterDesc))):"poi"===n.autoSuggestOmni?t.$input.val(t.recentSearchTerm=t.templateSettings.imports.mergeItem(", ",t.templateSettings.imports.poiFormat(n.poiname,n.city,n.state,n.countryname,t.recentSearchTerm))):"property"===n.autoSuggestOmni?t.$input.val(t.recentSearchTerm=t.templateSettings.imports.mergeItem(", ",t.templateSettings.imports.propertyFormat(n.propertyName,n.city,n.state,n.countryname,n.propertyCode,t.propertyCodeCheckFlag))):t.$input.val(t.recentSearchTerm=t.templateSettings.imports.mergeItem(", ",o||n.poiname||n.route,n.city,n.state,n.countryname)),n.city=n.airport||n.city,t.retainLatitudeLongitudeAttributes(n),s.forEach(n,(function(e,i){t.$parent.$el.find(t.options.inputs[i]).val(e||"")}),t),t.options.searchTypeVal===t.options.addressSearch&&(t.recentSearchTerm=i.attr("data-label"),t.$el.find(".single-search-location").val(i.attr("data-label"))),"recent"===n.searchType&&(t.recentSearchTerm=i.attr("data-label"),t.$el.find(".single-search-destination").val(i.attr("data-label"))),t.hideSuggestions(),"true"===t.$el.data("associate-view")||!0===t.$el.data("associate-view")?(console.log("Empower Code"),setTimeout((function(){t.onListItemSelect&&t.onListItemSelect(n)}))):t.onListItemSelect&&t.onListItemSelect(n),t.isDesktopVersion()&&setTimeout((function(){t.$input.focus()}))}else t.hideSuggestions()},geoLocDetails:function(){"https:"!==window.location.protocol?(d.createCookie("loadCurrentLocation",!0),window.location.replace("https://"+window.location.host+window.location.pathname)):this.geoLocationHandler.doLocalDetails()},highLightListItem:function(e){e.target&&(e.stopImmediatePropagation(),this.$autoCompleteList.find(".ui-state-hover").removeClass("ui-state-hover"),a(e.target).hasClass("t-category-header")||("A"==e.target.nodeName?a(e.target):a(e.target).parent()).addClass("ui-state-hover"))},isDesktopVersion:function(){return!this.$parent.responsiveUtils.isMobileOrTablet()},autoCompleteStyle:function(e){if((t=this).isDesktopVersion()){var t=this;e?(t.$el.find(".ui-autocomplete").removeClass("autocomplete-noborder"),t.$el.find(t.options.scrollbarWrapper).removeClass("autocomplete-border")):(t.$el.find(t.options.scrollbarWrapper).addClass("autocomplete-border"),t.$el.find(".ui-autocomplete").addClass("autocomplete-noborder"))}},suggestGeoLoc:function(){this.$parent.hideCurrentLocation||(this.listHtml=this.geoLocationHandler.autoSuggestItem,""===this.listHtml?this.listCount=0:this.listCount=1)},markSearchTerm:function(e,t){if(e){var i=new RegExp(e,"ig");return t.replace(/>([^><]+)<\//i,(function(e){return e.replace(i,(function(e){return"<strong>"+e+"</strong>"}))}))}return t},navigateList:function(e){if(this.$input.length||this.setLocationInput(),this.suggestionListShow){var t=e.keyCode||e.which,i=parseInt(e.target.getAttribute("data-count"));switch(t){case 38:case 40:e.preventDefault();var a=this.$autoCompleteList.find(".ui-state-hover"),s=a.length&&a.attr("data-index")||-1;if(0===parseInt(s)&&(this.initialSearchTerm||(this.initialSearchTerm=this.$input.val()),38===t))return this.recentSearchTerm=this.initialSearchTerm,this.$input.val(this.recentSearchTerm),void a.removeClass("ui-state-hover");if(parseInt(i)-parseInt(s)==1&&40===t)return this.recentSearchTerm=this.initialSearchTerm,this.$input.val(this.recentSearchTerm),void a.removeClass("ui-state-hover");isFinite(s=parseInt(s))&&(a.removeClass("ui-state-hover"),(s+=t-39)>=i?s-=i:s<0&&(s=Math.max(-1,s)+i),(a=this.$autoCompleteList.find('[data-index="'+s+'"]')).addClass("ui-state-hover"));var n=a.attr("data-airport-code"),o=a.attr("data-city"),r=a.attr("data-state"),l=a.attr("data-country"),d=a.attr("data-poi-name");if(this.options.searchTypeVal===this.options.addressSearch||"recent"===a.attr("data-searchtype")?this.recentSearchTerm=a.attr("data-label"):this.recentSearchTerm=a.attr("data-property-name")||n||this.templateSettings.imports.mergeItem(", ",d||o,r,l),a.hasClass("js-geoloc")&&(this.recentSearchTerm=""),a.hasClass("js-geoloc")&&this.$narrate.text(a.text()),this.$input.val(this.recentSearchTerm),this.isDesktopVersion()){this.$scrollbarWrapper.scrollTop(0);var c=a.parent("li").next().offset().top;this.$scrollbarWrapper.scrollTop(c-2*this.$scrollbarWrapper.height())}break;case 37:case 39:this.recentSearchTerm=this.initialSearchTerm;break;case 13:this.$autoCompleteList.find(".ui-state-hover").length&&(e.preventDefault(),this.listItemSelect(e));break;case 27:this.hideSuggestions(e),e.preventDefault();break;case 9:this.listItemSelect(e)}}},merge:function(e,t){var i=0;for(i=0;i<e.length;i++)e[i]&&e[i]},loadList:function(){l.default.miRecentSearch&&(this.recentSearch.list=JSON.parse(l.default.miRecentSearch.replace(/<\/?[^>]+(>|$)/g,"")))},getAutocompleteItem:function(e,t){if(t.hasClass(this.recentSearch.inputClass)&&(this.loadList(),this.recentSearch.list.length>0))return e?a.grep(this.recentSearch.list,(function(t,i){return RegExp("\\b"+e.toLowerCase(),"gi").test(t.label)})):this.recentSearch.list},indexOf:function(e,t){for(var i=this.recentSearch.list,a=i.length,s=-1,n=0;n<a;n++)if(i[n][e]==t){s=n;break}return s},addRecent:function(){if(this.permittedSiteId()&&l.default&&this.options.searchTypeVal!==this.options.addressSearch){var e,t,i,a={},s=this.$parent.$el.find(".js-recent-search-inputs"),n=this.$parent.$el.find(".for-hotels-nearme").val()+" ";if(a.label=s.find(".js-search-location").val(),a.city=s.find(".js-search-city-display").val()||s.find(".search-city").val(),a.poiname=s.find(".search-poiname").val(),a.state=s.find(".search-state").val(),a.country=s.find(".search-country").val(),a.stateprovincedisplayname=s.find(".search-state-province").val(),a.type=s.find(".js-autosuggest-item-type").val(),(e=s.find(".search-country-name").val())?a.countryname=e:(t=a.label?a.label.split(","):[]).length&&(a.countryname=t[t.length-1]),a.airportcode=s.find(".search-airport").val(),a.airportcode&&((i=s.find(".search-airport-name").val())?a.airportname=i:(t=a.label?a.label.split(","):[]).length&&(a.airportname=t[0])),a.value=a.airportcode||a.label,a.geocode=s.find(".search-latitude").val()+","+s.find(".search-longitude").val(),a.searchtype="recent",a.analytics='{"location":"searchForm","sendNow":"true","description":"Recent Search"}',a.label=a.label&&a.label.replace(/<(?:.|\n)*?>/gm,""),this.loadList(),a.label&&a.label.indexOf(n)<0){var o=this.indexOf("label",a.label);-1!=o&&this.recentSearch.list.splice(o,1),this.recentSearch.list.unshift(a),this.recentSearch.list.splice(this.recentSearch.max),l.default.setItem("miRecentSearch",JSON.stringify(this.recentSearch.list))}}},clear:function(){l.default.removeItem("miRecentSearch"),l.default.removeItem("recentSearch"),this.recentSearch.list=[]},handleDocumentClick:function(e){"block"!==this.$autoCompleteList.css("display")||this.$autoCompleteList.get(0).contains(e.target)||a(e.target).hasClass("js-auto-complete-input")||(this.hideSuggestionsFlag=!0,this.$autoCompleteList.css("display","none"))}};e.exports={create:function(e){var t=s.cloneDeep(p);return new(n.extend(t))(e)}}},3:function(e,t){var i={GLOBAL:{TAKE_OVER_SPEED:600,MOBILE_VIEWPORT:600,TABLET_VIEWPORT:768,DESKTOP_VIEWPORT:1024,MOUSE_CLICK_EVENT:"click",MOUSE_OVER_EVENT:"mouseover",MOUSE_OUT_EVENT:"mouseout",CONST_ALL_KEY:"all",BLUR:0,BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,INSERT:45,DELETE:46,MILE_CONVERSION_MULTIPLY_FACTOR:.000621371192},AUTOCOMPLETE:({HIDE_ON_BLUR_DELAY:250},{HIDE_ON_BLUR_DELAY:250}),RLM:{ACTIONS:{CART:{ADD_TO_CART:"addToCart",REMOVE_ROOM:"removeRoom"}}},SAVED_CARD_DETAILS:{ACTION_TYPE:{UPDATE:"update",CLEAR:"clear"}},SALES_FORCE_EVENT:{ACTION_TYPE:{PAUSE:"PAUSE",RESUME:"RESUME"}},CAPTION_DETAILS:{ACTION_TYPE:{SHORT:"short",MEDIUM:"medium"}},HOTEL_FACT_SHEET_ACCORDION_EVENT:{ACTION_TYPE:{EXPAND_ALL:"expandAll",COLLAPSE_ALL:"collapseAll",EXPAND:"expand",COLLAPSE:"collapse"}},FILTER:{ADD:"add",REMOVE:"remove",CLEAR_ALL:"clearAll",RESET:"reset",APPLY:"apply",PRIMARY:"primary",SECONDARY:"secondary",MODIFIED:"modified",CURRENT:"current",ERROR_REDIRECT_URI:"error-redirect-uri",TAKE_OVER_SPEED:500},SEARCH_FORM:{TAKE_OVER_SPEED:500,VARIATIONS:{ADVANCED_SEARCH:"ADVANCED_SEARCH",HOMEPAGE:"HOMEPAGE",EDIT_SEARCH:"EDIT_SEARCH",RATE_LIST_EDIT:"RATE_LIST_EDIT",MODIFY_RES:"MODIFY_RES",HEADER:"HEADER",AVAILABILITY_SEARCH:"AVAILABILITY_SEARCH",DEALS_AVAILABILITY_SEARCH:"DEALS_AVAILABILITY_SEARCH",CHECK_AVAILABILITY_HWS:"CHECK_AVAILABILITY_HWS",ASSOCIATE_SEARCH:"ASSOCIATE_SEARCH"}},PROPERTY_RECORD:{TAKE_OVER_SPEED:500,NAVIGATION_SPEED:500,SWIPE_THRESHOLD_DISTANCE:100,MOBILE_WIDTH:480,MARKER_PIN_BLUE:"blue",MARKER_PIN_BLACK:"black",MAP_INFO_WINDOW_IDLE_TIME:5e3,HOTEL_QUICK_VIEW_ANIMATION_SPEED:300},KEY_CODE:{ENTER_KEY:13,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40},SCREEN_WIDTH:{DATE_SHORT_FORMAT_START_WIDTH:0,DATE_SHORT_FORMAT_END_WIDTH:0,DATE_SHORT_FORMAT_END_WIDTH_HWS:1140},MEDIA_QUERY:{EXTRA_LARGE:"(min-width: 64.0625rem)"},SRP_VIEW:{LIST:"list"},LOCALE:{JAPANESE:"ja_JP",KOREAN:"ko_KR",RUSSIAN:"ru_RU"},LOCALE_HYPHEN:{JAPANESE:"ja-JP",KOREAN:"ko-KR",RUSSIAN:"ru-RU"},LANGUAGE_PARITY_LOCALE:{LOCALE:["ko-KR","es-ES","ja-JP","de-DE","fr-FR","ru-RU"]}};e.exports=i},30:function(e,t){var i={defaultWidth:"100%",defaultHeight:"100%",setOverflow:{position:"relative",height:"100%"},removeOverflow:{overflow:"visible",position:"static"},addOverflow:{overflow:"hidden",position:"fixed"},defaultTakeoverStyling:{position:"fixed",top:"0%",padding:"0",margin:"0",left:"100%","overflow-x":"hidden","z-index":"1001"},internetExplorerDefaultTakeoverStyling:{position:"-ms-page",top:"0%",padding:"0",margin:"0",left:"100%","overflow-x":"hidden","z-index":"1001"},finalTakeoverStyling:{position:"fixed",top:"0%",padding:"0",margin:"0",left:"0%","overflow-x":"hidden","z-index":"1001"},internetExplorerFinalTakeoverStyling:{position:"-ms-page",top:"0%",padding:"0",margin:"0",left:"0%","overflow-x":"hidden","z-index":"1001"},defaultHeaderStyling:{"font-weight":"600",color:"#1c1c1c","font-size":"30px",padding:"20px 0px",width:"100%","background-color":"#fff !important",top:"-5px"},defaultBackButtonStyling:{"padding-right":"20px","margin-left":"8px",cursor:"pointer",position:"relative"}};e.exports=i},32:function(e,t,i){var a,s,n;
/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */s=[i(0)],void 0===(n="function"==typeof(a=function(e){var t=e(window),i=e(document),a=e(document.documentElement),s=null!=document.documentElement.style.transition;function n(t,l,c,h){if(!t)return n;var p=!1,u={id:t.id||"P"+Math.abs(~~(Math.random()*new Date))},f=c?e.extend(!0,{},c.defaults,h):h||{},m=e.extend({},n.klasses(),f.klass),g=e(t),v=function(){return this.start()},y=v.prototype={constructor:v,$node:g,start:function(){return u&&u.start?y:(u.methods={},u.start=!0,u.open=!1,u.type=t.type,t.autofocus=t==d(),t.readOnly=!f.editable,t.id=t.id||u.id,"text"!=t.type&&(t.type="text"),y.component=new c(y,f),y.$root=e('<div class="'+m.picker+'" id="'+t.id+'_root" />'),r(y.$root[0],"hidden",!0),y.$holder=e(b()).appendTo(y.$root),$(),f.formatSubmit&&(!0===f.hiddenName?(s=t.name,t.name=""):s=(s=["string"==typeof f.hiddenPrefix?f.hiddenPrefix:"","string"==typeof f.hiddenSuffix?f.hiddenSuffix:"_submit"])[0]+t.name+s[1],y._hidden=e('<input type=hidden name="'+s+'"'+(g.data("value")||t.value?' value="'+y.get("select",f.formatSubmit)+'"':"")+">")[0],g.on("change."+u.id,(function(){y._hidden.value=t.value?y.get("select",f.formatSubmit):""}))),g.data(l,y).addClass(m.input).val(g.data("value")?y.get("select",f.format):t.value),f.editable||g.on("focus."+u.id+" click."+u.id,(function(e){e.preventDefault(),y.open()})).on("keydown."+u.id,k),r(t,{haspopup:!0,expanded:!1,readonly:!1,owns:t.id+"_root"}),f.containerHidden?e(f.containerHidden).append(y._hidden):g.after(y._hidden),f.container?e(f.container).append(y.$root):g.after(y.$root),y.on({start:y.component.onStart,render:y.component.onRender,stop:y.component.onStop,open:y.component.onOpen,close:y.component.onClose,set:y.component.onSet}).on({start:f.onStart,render:f.onRender,stop:f.onStop,open:f.onOpen,close:f.onClose,set:f.onSet}),(i=y.$holder[0]).currentStyle?a=i.currentStyle.position:window.getComputedStyle&&(a=getComputedStyle(i).position),p="fixed"==a,t.autofocus&&y.open(),y.trigger("start").trigger("render"));var i,a,s},render:function(t){return t?(y.$holder=e(b()),$(),y.$root.html(y.$holder)):y.$root.find("."+m.box).html(y.component.nodes(u.open)),y.trigger("render")},stop:function(){return u.start?(y.close(),y._hidden&&y._hidden.parentNode.removeChild(y._hidden),y.$root.remove(),g.removeClass(m.input).removeData(l),setTimeout((function(){g.off("."+u.id)}),0),t.type=u.type,t.readOnly=!1,y.trigger("stop"),u.methods={},u.start=!1,y):y},open:function(l){return u.open?y:(g.addClass(m.active),r(t,"expanded",!0),setTimeout((function(){y.$root.addClass(m.opened),r(y.$root[0],"hidden",!1)}),0),!1!==l&&(u.open=!0,p&&a.css("overflow","hidden").css("padding-right","+="+o()),p&&s?y.$holder.find("."+m.frame).one("transitionend",(function(){y.$holder[0].focus()})):y.$holder[0].focus(),i.on("click."+u.id+" focusin."+u.id,(function(e){var i=e.target;i!=t&&i!=document&&3!=e.which&&y.close(i===y.$holder[0])})).on("keydown."+u.id,(function(t){var i=t.keyCode,a=y.component.key[i],s=t.target;27==i?y.close(!0):s!=y.$holder[0]||!a&&13!=i?e.contains(y.$root[0],s)&&13==i&&(t.preventDefault(),s.click()):(t.preventDefault(),a?n._.trigger(y.component.key.go,y,[n._.trigger(a)]):y.$root.find("."+m.highlighted).hasClass(m.disabled)||(y.set("select",y.component.item.highlight),f.closeOnSelect&&y.close(!0)))}))),y.trigger("open"))},close:function(e){return e&&(f.editable?t.focus():(y.$holder.off("focus.toOpen").focus(),setTimeout((function(){y.$holder.on("focus.toOpen",C)}),0))),g.removeClass(m.active),r(t,"expanded",!1),setTimeout((function(){y.$root.removeClass(m.opened+" "+m.focused),r(y.$root[0],"hidden",!0)}),0),u.open?(u.open=!1,p&&a.css("overflow","").css("padding-right","-="+o()),i.off("."+u.id),y.trigger("close")):y},clear:function(e){return y.set("clear",null,e)},set:function(t,i,a){var s,n,o=e.isPlainObject(t),r=o?t:{};if(a=o&&e.isPlainObject(i)?i:a||{},t){for(s in o||(r[t]=i),r)n=r[s],s in y.component.item&&(void 0===n&&(n=null),y.component.set(s,n,a)),"select"!=s&&"clear"!=s||g.val("clear"==s?"":y.get(s,f.format)).trigger("change");y.render()}return a.muted?y:y.trigger("set",r)},get:function(e,i){if(null!=u[e=e||"value"])return u[e];if("valueSubmit"==e){if(y._hidden)return y._hidden.value;e="value"}if("value"==e)return t.value;if(e in y.component.item){if("string"==typeof i){var a=y.component.get(e);return a?n._.trigger(y.component.formats.toString,y.component,[i,a]):""}return y.component.get(e)}},on:function(t,i,a){var s,n,o=e.isPlainObject(t),r=o?t:{};if(t)for(s in o||(r[t]=i),r)n=r[s],a&&(s="_"+s),u.methods[s]=u.methods[s]||[],u.methods[s].push(n);return y},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;e<namesCount;e+=1)(t=i[e])in u.methods&&delete u.methods[t];return y},trigger:function(e,t){var i=function(e){var i=u.methods[e];i&&i.map((function(e){n._.trigger(e,y,[t])}))};return i("_"+e),i(e),y}};function b(){return n._.node("div",n._.node("div",n._.node("div",n._.node("div",y.component.nodes(u.open),m.box),m.wrap),m.frame),m.holder,'tabindex="-1"')}function $(){y.$holder.on({keydown:k,"focus.toOpen":C,blur:function(){g.removeClass(m.target)},focusin:function(e){y.$root.removeClass(m.focused),e.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=y.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(i).is("input, select, textarea, button, option")||(t.preventDefault(),y.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",(function(){var t=e(this),i=t.data(),a=t.hasClass(m.navDisabled)||t.hasClass(m.disabled),s=d();s=s&&(s.type||s.href),(a||s&&!e.contains(y.$root[0],s))&&y.$holder[0].focus(),!a&&i.nav?y.set("highlight",y.component.item.highlight,{nav:i.nav}):!a&&"pick"in i?(y.set("select",i.pick),f.closeOnSelect&&y.close(!0)):i.clear?(y.clear(),f.closeOnClear&&y.close(!0)):i.close&&y.close(!0)}))}function C(e){e.stopPropagation(),g.addClass(m.target),y.$root.addClass(m.focused),y.open()}function k(e){var t=e.keyCode,i=/^(8|46)$/.test(t);if(27==t)return y.close(!0),!1;(32==t||i||!u.open&&y.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?y.clear().close():y.open())}return new v}function o(){if(a.height()<=t.height())return 0;var i=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),s=i[0].offsetWidth;i.css("overflow","scroll");var n=e('<div style="width:100%" />').appendTo(i)[0].offsetWidth;return i.remove(),s-n}function r(t,i,a){if(e.isPlainObject(i))for(var s in i)l(t,s,i[s]);else l(t,i,a)}function l(e,t,i){e.setAttribute(("role"==t?"":"aria-")+t,i)}function d(){try{return document.activeElement}catch(e){}}return n.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},n._={group:function(e){for(var t,i="",a=n._.trigger(e.min,e);a<=n._.trigger(e.max,e,[a]);a+=e.i)t=n._.trigger(e.item,e,[a]),i+=n._.node(e.node,t[0],t[1],t[2]);return i},node:function(t,i,a,s){return i?"<"+t+(a=a?' class="'+a+'"':"")+(s=s?" "+s:"")+">"+(i=e.isArray(i)?i.join(""):i)+"</"+t+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,i){for(var a in e.isPlainObject(t)||(t={attribute:i}),i="",t){var s=("role"==a?"":"aria-")+a,n=t[a];i+=null==n?"":s+'="'+t[a]+'"'}return i}},n.extend=function(t,i){e.fn[t]=function(a,s){var o=this.data(t);return"picker"==a?o:o&&"string"==typeof a?n._.trigger(o[a],o,[s]):this.each((function(){e(this).data(t)||new n(this,t,i,a)}))},e.fn[t].defaults=i.defaults},n})?a.apply(t,s):a)||(e.exports=n)},34:function(e,t,i){var a=i(0),s=i(1),n=i(4),o=i(17),r=i(16),l=i(9),d=(i(8),i(10)),c=i(15),h=i(35),p=i(36),u=i(24),f={listHtml:"",listCount:0,timeoutId:0,permittedLocales:[],recentSearch:{max:5,list:[],inputClass:"js-recent-search"},options:{searchType:".js-searchtype",addressSearch:"NearAddress",isPropertyCodeFlag:".search-property-code-flag",inputs:{radius:".js-search-radius",latitude:".search-latitude",longitude:".search-longitude",cityPop:".js-search-city-pop",cityPopDensity:".js-search-city-pop-density",cityDisplay:".js-search-city-display",city:".search-city",state:".search-state",country:".search-country",countryname:".search-country-name",poiname:".search-poiname",airport:".search-airport",airportName:".search-airport-name",autoSuggestOmni:".js-autosuggest-item-type",singleSearchAuto:".single-search-autosuggest",stateProvince:".search-state-province",propertyName:".search-property-name",propertyCode:".search-property-code",primaryDescription:".search-primary-description",secondaryDescription:".search-secondary-description",placeId:".search-place-id",address:".destination-address",postalCode:".destination-postal-code",types:".destination-types",website:".destination-website",showAddressPin:".show-address-pin",popularDestinationTitle:".search-destination-title",koreanDestination:".search-korean-destination",internationalDestination:".search-international-destination"},categoryParams:{label:""},autoCompleteList:".js-auto-complete-list",maxCategory:10},templates:{autoCompleteCustom:s.template('<li class="autocomplete-listitem <% if( index == 0 ) { %> autocomplete-listitem-active <% } %>" role="menuitem"><a data-index="<%=index%>" data-place-id="<%=placeId%>" data-primary-description="<%=primaryDescription%>" data-secondary-description="<%=secondaryDescription%>"><strong><%=primaryDescription%></strong><% if(typeof secondaryDescription !== "undefined" && secondaryDescription) { %>, <%=secondaryDescription%> <%}%></a></li>'),autoListHeader:s.template('<li class="autocomplete-list-header"><span class="t-icon-search autocomplete-search-icon"></span><strong><%=category%></strong></li>'),autoListMsg:s.template('<li class="t-autosuggest-msg t-font-semi-bold"><%=label%></li>'),autoCompleteRecent:s.template('<li class="autocomplete-listitem <% if( index == 0 ) { %> autocomplete-listitem-active <% } %>" role="menuitem"><a data-index="<%=index%>" data-type="<%=type%>"  data-searchtype="<%=searchtype%>" <% if(typeof city !== "undefined") { %> data-city="<%=city%>"<%}%><% if(typeof state !== "undefined") { %> data-state="<%=state%>"<%}%><% if(typeof country !== "undefined") { %> data-countrycode="<%=country%>"<%}%><% if(typeof countryname !== "undefined") { %> data-country="<%=countryname%>"<%}%> <% if(typeof airportname !== "undefined") { %> data-airport-name="<%=airportname%>"<%}%><% if(typeof airportcode !== "undefined") { %> data-airport-code="<%=airportcode%>"<%}%><% if(typeof poiname !== "undefined") { %> data-poi-name="<%=poiname%>"<%}%><% if(typeof geocode !== "undefined") { %> data-geo="<%=geocode%>"<%}%><% if(typeof citypopulation !== "undefined") { %> data-city-population="<%=citypopulation%>"<%}%><% if(typeof primaryDescription !== "undefined") { %> data-primary-description="<%=primaryDescription%>"<%}%><% if(typeof secondaryDescription !== "undefined") { %> data-secondary-description="<%=secondaryDescription%>"<%}%><% if(typeof placeId !== "undefined") { %> data-place-id="<%=placeId%>"<%}%><% if(typeof longitude !== "undefined") { %> data-longitude="<%=longitude%>"<%}%><% if(typeof radius !== "undefined") { %> data-radius="<%=radius%>"<%}%><% if(typeof latitude !== "undefined") { %> data-latitude="<%=latitude%>"<%}%><% if(typeof address !== "undefined") { %> data-address="<%=address%>"<%}%><% if(typeof postalCode !== "undefined") { %> data-postalCode="<%=postalCode%>"<%}%><% if(typeof types !== "undefined") { %> data-types="<%=types%>"<%}%><% if(typeof website !== "undefined") { %> data-website="<%=website%>"<%}%><% if(typeof stateprovincedisplayname !== "undefined") { %> data-state-province="<%=stateprovincedisplayname%>"<%}%><% if(typeof citypopulationdensity !== "undefined") {%> data-city-population-density="<%=citypopulationdensity%>"<%}%> data-label="<%=label%>"><% if(typeof primaryDescription !== "undefined" && primaryDescription) { %><strong><%=primaryDescription%></strong><% if(typeof secondaryDescription !== "undefined" && secondaryDescription) { %>, <%=secondaryDescription%><%}%><%} else {%> <%=label%> <%}%></a></li>'),autoCompleteCluster:s.template('<li class="autocomplete-listitem <% if( index == 0 ) { %> autocomplete-listitem-active <% } %>" role="menuitem"><a data-index="<%=index%>" data-type="<%=(typeof type !== "undefined")?type:""%>"  data-code="<%=ratecluster%>"data-number="<%=(typeof rateclustersetnum !== "undefined")?rateclustersetnum:""%>" data-number-type="<%=(typeof rateclustersetnumtype !== "undefined")?rateclustersetnumtype:""%>"data-desc="<%=displaydescription%>" ><%=ratecluster%> - <%=displaydescription%></a></li>')},templateSettings:{imports:{any:function(e,t){return e||t},mergeItem:function(e){var t="",i=0;for(i=1;i<arguments.length;i++)t+=arguments[i]&&(t&&e||"")+arguments[i]||"";return t},clusterFormat:function(e,t){return e+" - "+t}}},events:{"keyup .js-auto-complete-input-v2":"getChoiceList","focusin .js-auto-complete-input-v2":"showRecentOnFocus","keydown .js-auto-complete-input-v2":"navigateList"},subscribe:{GOOGLE_API_LOADED:"populateCurrentLocation"},init:function(){this.options;this.clearClusterCodeData();var e=this.$el.data("options");this.options.placesUrl=e.placesUrl,this.options.autoCompleteURL=e.autoCompleteURL,this.options.suggestionSortOrder=e.suggestionSortOrder,this.options.clusterSearchHandler=this.clusterSearchHandler,this.options.isGroupCodeHandler=this.isGroupCodeHandler,this.options.groupFactDetailData=this.groupFactDetailData,this.options.isAirpotLocationDetected=this.isAirpotLocationDetected,this.siteID=a("html").attr("lang")||a("html").attr("xml:lang"),e.permittedLocales&&(this.permittedLocales=e.permittedLocales.split(",")),this.googleMap=this.$parent.$el.find(".search-google-map").data("options"),this.$el.find(".autocomplete-list").remove(),s.extend(s.templateSettings,this.templateSettings),this.subscribeDOMEvents(),this.subscribePubSubMessages(),this.$parent.hideCurrentLocation||(this.initGeoLocationHandler(),this.initGoogleApi()),this.initClearInputHandler(),this.initGroupCodeAutoComplete(),this.options.isGroupCodeHandler||u.init(this.$el),this.$parent.$el.find(".autosuggest-cat-headers").length&&(this.options.categoryParams=this.$parent.$el.find(".autosuggest-cat-headers").data("category-params")),this.$scrollbarWrapper=a('<div class="autocomplete-scroller-wrapper custom-wrapper"><ul></ul></div>'),this.$autoCompleteList=this.$scrollbarWrapper.find("ul"),this.$autoCompleteList.addClass("autocomplete-list").css({"z-index":999,top:"0px",left:"0px",display:"none"}).on("mousedown",".autocomplete-listitem a, .autocomplete-list-header",s.bind(this.listItemSelect,this)).on("mouseover",".autocomplete-listitem a,.autocomplete-list-header,.autocomplete-recently-viewed-header-container .expand-collapse-btn,.autocomplete-clear-recent",s.bind(this.highLightListItem,this)).on("mousedown",".clear-recent-search",s.bind(this.clear,this)).on("mousedown",".autocomplete-recently-viewed-header-container .expand-collapse-btn",s.bind(this.handleAccordion,this)).on("mousedown",".korean-dest-container a, .autocomplete-list-header",s.bind(this.listDestItemSelect,this)).on("mousedown",".international-dest-container a, .autocomplete-list-header",s.bind(this.listDestItemSelect,this)),this.$scrollbarWrapper.css({display:"none"}),this.$narrate=this.$el.find('div[aria-live="assertive"]'),this.$el.append(this.$scrollbarWrapper).append(this.$narrate).find(this.$autoCompleteList),this.$input=this.$el.find(".js-auto-complete-input-v2").attr("aria-autocomplete","list"),this.$input.on("blur",s.bind(this.hideSuggestions,this,null,!0)),this.recentSearchTerm=this.$input.val(),this.addRecent(),this.lat=0,this.long=0,this.enableUserLocation&&this.setLatLong(),this.recentlyViewedPropertiesDdClosed=!0},setLatLong:function(){var e=this,t=JSON.parse(window.localStorage.getItem("latLongObj"));t&&t.sessionId===e.sessionId?(e.lat=t.lat||0,e.long=t.long||0):(window.localStorage.removeItem("latLongObj"),window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition((function(i){(t={}).lat=i.coords.latitude,t.long=i.coords.longitude,t.sessionId=e.sessionId,e.lat=t.lat||0,e.long=t.long||0,window.localStorage.setItem("latLongObj",JSON.stringify(t))})))},populateCurrentLocation:function(){sessionStorage&&"true"===d.readCookie("loadCurrentLocation")&&(d.eraseCookie("loadCurrentLocation"),this.geoLocationHandler.doLocalDetails())},initGeoLocationHandler:function(){this.geoLocationHandler=new o({$el:this.$el,$parent:this.$parent,autoComplete:this}),this.geoLocationHandler.init()},initGoogleApi:function(){this.googleMap&&c.create({apiUrl:this.googleMap.api}).init()},initClearInputHandler:function(){this.clearInputHandler=new r({$el:this.$el,$parent:this}),this.clearInputHandler.init()},initGroupCodeAutoComplete:function(){this.GroupCodeAutoComplete=new h({$el:this.$el,$parent:this,options:this.options})},permittedSiteId:function(){var e=a("html").attr("lang")||a("html").attr("xml:lang");return!!s.isEmpty(this.permittedSiteId)||e&&s.includes(this.permittedLocales,e)},showRecentOnFocus:function(e){var t=e.target.value;t.length||(this.listHtml="",this.options.clusterSearchHandler||this.options.isGroupCodeHandler||this.resetInputs(),this.suggestGeoLoc(),this.options.categoryParams.showRecentlyViewedProperties&&this.suggestRecentlyViewedProperties(t),this.suggestRecent(t),this.options.categoryParams.showRecentlyViewedProperties&&this.renderClearRecent(),!this.$parent.responsiveUtils.isMobileOrTablet()||this.$parent.disableSubTakeover||"en_US"!==this.siteID&&"en-US"!==this.siteID||this.addTopDestinations(t),this.showList(a(e.target)))},getChoiceList:function(e){var t=e.target.value,i=s.bind(this.parseResult,this,t,a(e.target)),n=sessionStorage.getItem("uniqueID");if(null===n&&(n=p(),sessionStorage.setItem("uniqueID",n)),this.options.searchTypeVal=this.$parent.$el.find(this.options.searchType).val(),t.trim().length&&this.recentSearchTerm===t||(this.recentSearchTerm!==t&&delete this.initialSearchTerm,this.options.clusterSearchHandler?(this.xhrRequest&&this.xhrRequest.abort(),this.listHtml=""):this.resetInputs()),t.trim().length||this.preventListReRender||(this.suggestionListShow=!1),!t.trim().length||this.recentSearchTerm===t){return[8,38,40,46,229].indexOf(e.keyCode)>-1&&!this.suggestionListShow&&(this.options.searchTypeVal===this.options.addressSearch||this.listHtml||(this.suggestGeoLoc(),this.options.categoryParams.showRecentlyViewedProperties&&this.suggestRecentlyViewedProperties(t),this.suggestRecent(t),this.options.categoryParams.showRecentlyViewedProperties&&this.renderClearRecent()),this.showList(a(e.target))),void(this.recentSearchTerm=t)}this.recentSearchTerm=t,this.options.clusterSearchHandler?this.performClusterSearch(i,n):this.options.isGroupCodeHandler?this.GroupCodeAutoComplete.performGroupCodeSearch(i,n,this.options.groupFactDetailData):this.performLocationSearch(i,n)},xhrRequest:!1,performLocationSearch:function(e,t){var i={type:"GET",url:this.options.placesUrl,contentType:"text/html",cache:!0,data:{searchTerm:this.recentSearchTerm,suggestionSortOrder:this.options.suggestionSortOrder,latitude:this.lat,longitude:this.long,uuid:t},success:e};this.xhrRequest&&this.xhrRequest.abort(),this.xhrRequest=this.makeAjaxCall(i)},performClusterSearch:function(e,t){var i={type:"GET",url:this.options.autoCompleteURL,contentType:"text/html",data:{searchTerm:this.recentSearchTerm,suggestionSortOrder:this.options.suggestionSortOrder,uuid:t},success:e};this.xhrRequest&&this.xhrRequest.abort(),this.xhrRequest=this.makeAjaxCall(i)},hideSuggestionsFlag:!0,blankLocationInputFlag:!0,hideSuggestions:function(e,t){var i=this,a="",n=i.$el.find(".single-search").val();i.hideSuggestionsFlag&&(i.recentlyViewedPropertiesDdClosed=!0,i.$autoCompleteList.hide(),i.$scrollbarWrapper.scrollTop(0).parent().find(".scroll-bar").css("top","0px"),i.$scrollbarWrapper.hide(),i.suggestionListShow=!1,i.$parent.$el.find(".js-find-container .l-h-field").text(n),i.blankLocationInputFlag&&i.onListClose&&!t&&i.onListClose(),i.options.clusterSearchHandler&&t&&null!=e&&(a={hiddenClusterCode:e.target.value,rateClusterSetNum:null,rateClusterSetNumType:"unknownCode"},s.each(a,(function(e,t){i.$parent.$el.find("input[name="+t+"]").val(e||"")}),i),e&&(e.preventDefault(),i.listItemSelect(e))))},resetInputs:function(){var e=this,t=e.$el.hasClass("l-adv-search-associate"),i=e.$parent.$el.hasClass("adv-search-associate-form");e.listHtml="",e.listCount=0,s.forEach(e.options.inputs,(function(a){(t||i)&&".js-autosuggest-item-type"===a||(e.$parent.$el.find(a).val(""),s.isFunction(e.$parent.propertyCodeChangeHandler)&&e.$parent.propertyCodeChangeHandler())}),e),e.$parent.$el.find(e.options.inputs.singleSearchAuto).val(!1)},suggestRecentlyViewedProperties:function(e){var t,i=this,a=i.options.categoryParams.maxRecentlyViewedPropertiesLimit,s=i.options.categoryParams.minRecentlyViewedPropertiesLimit;l.default.miRecentlyViewedProperties&&(t=JSON.parse(l.default.miRecentlyViewedProperties));var n=(new Date).toISOString();if(t&&t.recentlyViewedProperties)var o=t.recentlyViewedProperties,r=t.config,d="";if(o&&o.length){var c=o.filter((function(e){var t=Math.abs(new Date(n).getTime()-new Date(e.createdAt).getTime());return Math.ceil(t/864e5)<=r.maxCachedDaysLimit})).filter((function(t,i){return!(i>=a)&&(""===e.trim()||t.name.toLowerCase().includes(e.toLowerCase().trim()))}));if(!c.length)return void(i.recentlyViewedItemsEmpty=!0);i.recentlyViewedItemsEmpty=!1,i.showAccordion=c.length>s,d+="<li class='autocomplete-recently-viewed-header-container'><span class='t-recenlty-viewed-icon t-icon-eye'></span><div class='recently-viewed-items-header l-display-flex'><span class='l-recently-viewed-heading t-font-weight-normal t-font-s'>"+i.options.categoryParams.recentlyViewedLabel+"</span>",i.showAccordion&&(d+="<span class='expand-collapse-btn "+(i.recentlyViewedPropertiesDdClosed?"collapsed":"expanded")+" l-display-flex t-cursor-pointer t-para-s-grey'><span class='show-more-less l-display-inline-block t-font-xs t-font-weight-semibold'>"+(i.recentlyViewedPropertiesDdClosed?i.options.categoryParams.showMoreLabel:i.options.categoryParams.showLessLabel)+"</span><span class='"+(i.recentlyViewedPropertiesDdClosed?"t-icon-arrow-down":"t-icon-arrow-up")+"'></span></span>"),d+="</div></li>",c.forEach((function(e,t){var a=i.listCount+t;d+="<li role='menuitem' class='autocomplete-listitem l-recently-viewed-item "+(t>=s?i.recentlyViewedPropertiesDdClosed?"l-secondary-viewed-items l-display-none":"l-secondary-viewed-items l-display-block":"")+" l-padding-top'><a href='#' data-index="+a+" data-label='"+e.name+"' data-address='"+e.address+"'><div class='property-image-container'><img src="+e.imageUrl+" alt='"+e.name+" '></div><div class='property-details-container'><div class='l-padding-left t-font-m t-font-weight-semibold l-margin-bottom-quarter'>"+e.name+"</div><div class='l-padding-left t-font-weight-normal t-font-xs'>"+e.address+"</div></div></a></li>"})),i.listCount+=c.length,i.listHtml+=d}else i.recentlyViewedItemsEmpty=!0},renderClearRecent:function(){var e="";this.recentSearchesEmpty&&this.recentlyViewedItemsEmpty||(e+="<li class='autocomplete-clear-recent'><span class='t-control-link clear-recent-search'>"+this.options.categoryParams.clearRecentLabel+"</span></li>"),this.listHtml+=e},handleAccordion:function(e){var t=this,i=t.$autoCompleteList.find("li.l-secondary-viewed-items"),s=e?e.currentTarget:t.$autoCompleteList.find(".expand-collapse-btn");t.recentlyViewedPropertiesDdClosed?(a(s).removeClass("collapsed").addClass("expanded").find(".show-more-less").html(t.options.categoryParams.showLessLabel).next().removeClass("t-icon-arrow-down").addClass("t-icon-arrow-up"),i.removeClass("l-display-none").addClass("l-display-block"),t.$narrate.text(t.options.categoryParams.expandedLabel+" "+t.options.categoryParams.showLessLabel),t.recentlyViewedPropertiesDdClosed=!1):(a(s).removeClass("expanded").addClass("collapsed").find(".show-more-less").html(t.options.categoryParams.showMoreLabel).next().removeClass("t-icon-arrow-up").addClass("t-icon-arrow-down"),i.removeClass("l-display-block").addClass("l-display-none"),t.$narrate.text(t.options.categoryParams.collapsedLabel+" "+t.options.categoryParams.showMoreLabel),t.recentlyViewedPropertiesDdClosed=!0),t.isDesktopVersion()&&setTimeout((function(){t.$input.focus(),t.hideSuggestionsFlag=!0}),0)},addTopDestinations:function(e){var t="",i=[{label:"New York, NY, USA",city:"New York",poiname:"",state:"NY",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"New York, NY, USA",geocode:"40.753489,-73.980961",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJOwg_06VPwokRYv534QaPC8g",primaryDescription:"New York",secondaryDescription:"NY, USA",latitude:"40.753489",longitude:"-73.980961",radius:"80467.2",address:"",postalCode:"",types:"",website:""},{label:"Orlando, FL, USA",city:"Orlando",poiname:"",state:"FL",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Orlando, FL, USA",geocode:"28.5383355,-81.3792365",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJd7zN_thz54gRnr-lPAaywwo",primaryDescription:"Orlando",secondaryDescription:"FL, USA",latitude:"28.5383355",longitude:"-81.3792365",radius:"80467.2",address:"Orlando, FL, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=Orlando,+FL,+USA&ftid=0x88e773d8fecdbc77:0xac3b2063ca5bf9e"},{label:"Chicago, IL, USA",city:"Chicago",poiname:"",state:"IL",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Chicago, IL, USA",geocode:"41.8781136,-87.6297982",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJ7cv00DwsDogRAMDACa2m4K8",primaryDescription:"Chicago",secondaryDescription:"IL, USA",latitude:"41.8781136",longitude:"-87.6297982",radius:"80467.2",address:"Chicago, IL, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=Chicago,+IL,+USA&ftid=0x880e2c3cd0f4cbed:0xafe0a6ad09c0c000"},{label:"Los Angeles, CA, USA",city:"Los Angeles",poiname:"",state:"CA",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Los Angeles, CA, USA",geocode:"34.0522342,-118.2436849",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJE9on3F3HwoAR9AhGJW_fL-I",primaryDescription:"Los Angeles",secondaryDescription:"CA, USA",latitude:"34.0522342",longitude:"-118.2436849",radius:"80467.2",address:"Los Angeles, CA, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=Los+Angeles,+CA,+USA&ftid=0x80c2c75ddc27da13:0xe22fdf6f254608f4"},{label:"San Francisco, CA, USA",city:"San Francisco",poiname:"",state:"CA",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"San Francisco, CA, USA",geocode:"37.7749295,-122.4194155",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJIQBpAG2ahYAR_6128GcTUEo",primaryDescription:"San Francisco",secondaryDescription:"CA, USA",latitude:"37.7749295",longitude:"-122.4194155",radius:"80467.2",address:"San Francisco, CA, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=San+Francisco,+CA,+USA&ftid=0x80859a6d00690021:0x4a501367f076adff"},{label:"Hawaii, USA",city:"",poiname:"",state:"HI",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Hawaii, USA",geocode:",",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJBeB5Twbb_3sRKIbMdNKCd0s",primaryDescription:"Hawaii",secondaryDescription:"USA",latitude:"",longitude:"",radius:"50.0",address:"Hawaii, USA",postalCode:"",types:"administrative_area_level_1,political",website:"https://maps.google.com/?q=Hawaii,+USA&ftid=0x7bffdb064f79e005:0x4b7782d274cc8628"},{label:"Boston, MA, USA",city:"Boston",poiname:"",state:"MA",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Boston, MA, USA",geocode:"42.3600825,-71.0588801",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJGzE9DS1l44kRoOhiASS_fHg",primaryDescription:"Boston",secondaryDescription:"MA, USA",latitude:"42.3600825",longitude:"-71.0588801",radius:"80467.2",address:"Boston, MA, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=Boston,+MA,+USA&ftid=0x89e3652d0d3d311b:0x787cbf240162e8a0"},{label:"San Diego, CA, USA",city:"San Diego",poiname:"",state:"CA",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"San Diego, CA, USA",geocode:"32.715738,-117.1610838",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJSx6SrQ9T2YARed8V_f0hOg0",primaryDescription:"San Diego",secondaryDescription:"CA, USA",latitude:"32.715738",longitude:"-117.1610838",radius:"80467.2",address:"San Diego, CA, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=San+Diego,+CA,+USA&ftid=0x80d9530fad921e4b:0xd3a21fdfd15df79"},{label:"Washington D.C., DC, USA",city:"Washington",poiname:"",state:"DC",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Washington D.C., DC, USA",geocode:"38.9071923,-77.0368707",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJW-T2Wt7Gt4kRKl2I1CJFUsI",primaryDescription:"Washington D.C.",secondaryDescription:"DC, USA",latitude:"38.9071923",longitude:"-77.0368707",radius:"80467.2",address:"Washington, DC, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=Washington,+DC,+USA&ftid=0x89b7c6de5af6e45b:0xc2524522d4885d2a"},{label:"Las Vegas, NV, USA",city:"Las Vegas",poiname:"",state:"NV",country:"US",stateprovincedisplayname:"",type:"",countryname:" USA",airportcode:"",value:"Las Vegas, NV, USA",geocode:"36.1699412,-115.1398296",searchtype:"recent",analytics:'{"location":"searchForm","sendNow":"true","description":"Recent Search"}',placeId:"ChIJ0X31pIK3voARo3mz1ebVzDo",primaryDescription:"Las Vegas",secondaryDescription:"NV, USA",latitude:"36.1699412",longitude:"-115.1398296",radius:"80467.2",address:"Las Vegas, NV, USA",postalCode:"",types:"locality,political",website:"https://maps.google.com/?q=Las+Vegas,+NV,+USA&ftid=0x80beb782a4f57dd1:0x3accd5e6d5b379a3"}];if(!this.listHtml||!this.$parent.hideCurrentLocation&&1===this.listCount){t="<li class='autocomplete-recently-viewed-header-container'><span class='t-recenlty-viewed-icon t-icon-eye'></span><span class='t-font-weight-normal t-font-s'>Top Destinations</span></li>";for(var a=0;a<i.length;a++)t+="<li class='autocomplete-listitem   autocomplete-listitem-recently' role='menuitem'><a data-index='"+a+"' data-primary-description='"+i[a].primaryDescription+"' data-secondary-description='"+i[a].secondaryDescription+"' data-latitude='"+i[a].latitude+"' data-longitude='"+i[a].longitude+"'> "+i[a].label+"</a></li>";this.listHtml?this.listHtml+=t:(this.listCount=1,this.listHtml=t)}},suggestRecent:function(e){if(this.permittedSiteId())var t=this.getAutocompleteItem(e,this.$input),i="";if(t&&t.length){this.recentSearchesEmpty=!1,this.options.categoryParams.showRecentlyViewedProperties?i+="<li class='autocomplete-list-header autocomplete-list-header-new'><span class='t-icon-clock autocomplete-recent-icon autocomplete-recent-icon-new'></span><span class='recent-searches-text'>"+this.options.categoryParams.recentSearchesLabel+"</li>":i+="<li class='autocomplete-list-header'><span class='t-icon-clock autocomplete-recent-icon'></span> <strong>"+this.options.categoryParams.recent+'</strong><span class="t-control-link clear-recent-search">'+this.options.categoryParams.clear+"</span></li>";for(var a=0;a<t.length;a++)t[a].index=this.listCount+a,i+=this.markSearchTerm(e,this.templates.autoCompleteRecent(t[a]));this.listHtml+=i,this.listCount+=t.length}else this.recentSearchesEmpty=!0;return this.listCount},showList:function(e){var t=this;if(t.blankLocationInputFlag=!0,t.listCount){t.options.clusterSearchHandler?(t.$input=a(e),t.$autoCompleteList=t.$input.parent().parent().find(".autocomplete-scroller-wrapper ul"),t.$input.parent().parent().find(".autocomplete-scroller-wrapper").show(),t.$autoCompleteList.show().html(t.listHtml),setTimeout((function(){t.$autoCompleteList.width(e.outerWidth())}),100)):t.$autoCompleteList.html(t.listHtml),t.options.categoryParams.showRecentlyViewedProperties&&(t.$autoCompleteList.find(".autocomplete-list-header").addClass("autocomplete-list-header-recently"),t.$autoCompleteList.find(".autocomplete-listitem").addClass("autocomplete-listitem-recently"));var i="";t.$parent.$el.find(".homepage-search-labels").length||t.$parent.$el.find(".field-title").height();t.$autoCompleteList.filter(":hidden")&&(t.$autoCompleteList.show(),t.$scrollbarWrapper.show()),t.$autoCompleteList.mousedown((function(e){a(e.target).hasClass("t-autosuggest-msg")||a(e.target).hasClass("autocomplete-list-header")||a(e.target).parents().hasClass("l-recently-viewed-item")||a(e.target).parents().hasClass("expand-collapse-btn")?t.hideSuggestionsFlag=!1:(t.hideSuggestionsFlag=!0,t.blankLocationInputFlag=!1,t.hideSuggestions(null,!1))})),t.$input.attr("data-count",t.listCount),t.suggestionListShow=t.listCount>0,t.$autoCompleteList.find(".autocomplete-listitem-active a").length&&(i=t.$autoCompleteList.find(".autocomplete-listitem-active a").text(),t.$narrate.text(i));!(t.$el.find(".autocomplete-list").height()>t.$scrollbarWrapper.height())}else t.listCount||t.listHtml||t.hideSuggestions(null,!0)},parseResult:function(e,t,i){var a="";this.listHtml="",this.listCount=0,this.options.clusterSearchHandler?Object.keys(i).length>0?a=this.filterClusterSearchData(i):this.clearClusterCodeData():this.options.isGroupCodeHandler?(a=this.GroupCodeAutoComplete.filterGroupCodeSearchData(i),this.listCount=a.count):a=this.filterLocationSearchData(i),this.options.isGroupCodeHandler?this.listHtml+=a.listHtmlData:this.listHtml+=a,this.options.categoryParams.showRecentlyViewedProperties&&(this.suggestRecentlyViewedProperties(this.recentSearchTerm),this.suggestRecent(this.recentSearchTerm),this.renderClearRecent()),this.showList(t,!0),this.$autoCompleteList.css({left:"0px",width:t.outerWidth()+"px"}),this.$el.find(".js-auto-complete-input-v2").removeClass("js-autocomplete-focused")},clearClusterCodeData:function(){this.$el.find('input[name="hiddenClusterCode"],input[name="rateClusterSetNum"],input[name="rateClusterSetNumType"]').val("")},filterLocationSearchData:function(e){var t,i=this,a="";if(t=s.extend({index:n},i.templateSettings.imports),i.options.categoryParams.showRecentlyViewedProperties){var n=0;return e.suggestions?a+=i.templates.autoListHeader({category:i.options.categoryParams.searchResults}):i.suggestGeoLoc(),s.each(e.suggestions,(function(e){t.index=n,t.primaryDescription=e.primaryDescription,t.secondaryDescription=e.secondaryDescription,t.placeId=e.placeId,a+=i.markSearchTerm(i.recentSearchTerm,i.templates.autoCompleteCustom(t)),n++})),i.listCount=n,a}n=i.suggestRecent(i.recentSearchTerm);return e.suggestions?a+=i.templates.autoListHeader({category:i.options.categoryParams.searchResults}):i.suggestGeoLoc(),s.each(e.suggestions,(function(e){t.index=n,t.primaryDescription=e.primaryDescription,t.secondaryDescription=e.secondaryDescription,t.placeId=e.placeId,a+=i.markSearchTerm(i.recentSearchTerm,i.templates.autoCompleteCustom(t)),n++})),i.listCount=n,a},filterClusterSearchData:function(e){var t,i=this,a="",n=this.$parent.$el.find(".js-searchtype").val(),o="",r=0,l=i.suggestRecent(i.recentSearchTerm);return a=e.clusterDetailsList?e.clusterDetailsList:e.clusters,s.each(a,(function(e){t=s.extend({index:l},i.templateSettings.imports),r=0,i.options.maxCategory>r&&(s.each(e,(function(e,i){t[i.toLowerCase()]=e,"InHotelSearch"===n&&(t.type="property")})),t.index=l,t.searchterm=i.recentSearchTerm,o+=i.markSearchTerm(i.recentSearchTerm,i.templates.autoCompleteCluster(t)),l++),r++})),i.listCount=l,o},xhrPlacesRequest:!1,listItemSelect:function(e){var t=this;if(e&&a(e.target).parents().hasClass("l-recently-viewed-item"))t.recentlyViewedListItemSelect(e);else{t.blankLocationInputFlag=!1;var i=t.$autoCompleteList.find(".autocomplete-listitem-active a"),n=i.attr("data-place-id"),o=sessionStorage.getItem("uniqueID");if(i.hasClass("js-geoloc"))return t.geoLocDetails(),t.resetSuggestionList(!1,!0),void t.$parent.removeSubTakeover(e,!0);if(t.options.isAirpotLocationDetected&&(this.$parent.options.inputs.selectedLocation=i.get(0).innerText,this.$parent.options.typeAheadLocation=!0),!i.length)return s.bind(t.hideSuggestions(),t),void(t.options.clusterSearchHandler&&(inputMap={hiddenClusterCode:a(i).val(),rateClusterSetNum:null,rateClusterSetNumType:"unknownCode"},s.each(inputMap,(function(e,i){t.$parent.$el.find("input[name="+i+"]").val(e||"")}),t)));if(n&&"recent"!==i.attr("data-searchtype")){var r={type:"GET",url:t.options.placesUrl,contentType:"text/html",cache:!0,data:{placeId:n,uuid:o},success:s.bind(t.populateInputMap,t,i)};t.xhrPlacesRequest&&t.xhrPlacesRequest.abort(),t.xhrPlacesRequest=t.makeAjaxCall(r)}else t.populateInputMap(i);t.options.isGroupCodeHandler||u.checkPlaceholderAnimation(),t.resetSuggestionList(!1,!0),t.$parent.removeSubTakeover(e,!0),this.$parent.responsiveUtils.isMobileOrTablet()&&t.$el.parents(".l-hsearch-labels").find(".l-m-disabled").removeAttr("disabled").removeClass("l-m-disabled")}},listDestItemSelect:function(e){var t=a(e.currentTarget).data("address"),i=a(e.currentTarget).data("country"),s=a(e.currentTarget).data("state"),n=a(e.currentTarget).data("lat"),o=a(e.currentTarget).data("long");this.$el.find(".js-auto-complete-input-v2").val(t),a(".search-country").val(i),a(".search-state").val(s),a(".search-latitude").val(n),a(".search-longitude").val(o),this.options.isGroupCodeHandler||u.checkPlaceholderAnimation(),this.resetSuggestionList(!1,!0),this.$parent.removeSubTakeover(e,!0),this.$parent.responsiveUtils.isMobileOrTablet()&&this.$el.parents(".l-hsearch-labels").find(".l-m-disabled").removeAttr("disabled").removeClass("l-m-disabled")},recentlyViewedListItemSelect:function(e){var t=this.$autoCompleteList.find(".autocomplete-listitem-active");this.recentSearchTerm=t.find("a").data("address");var i=sessionStorage.getItem("uniqueID");null===i&&(i=p(),sessionStorage.setItem("uniqueID",i));var a=s.bind(this.selectRecentlyViewedPlaceResult,this);this.hideSuggestions(),this.performLocationSearch(a,i),this.$parent.removeSubTakeover(e,!0),this.$parent.responsiveUtils.isMobileOrTablet()&&this.$el.parents(".l-hsearch-labels").find(".l-m-disabled").removeAttr("disabled").removeClass("l-m-disabled")},selectRecentlyViewedPlaceResult:function(e){var t,i=this.$autoCompleteList.find(".autocomplete-listitem-active a"),a=sessionStorage.getItem("uniqueID");if(this.hideSuggestionsFlag=!0,e.suggestions&&e.suggestions.length&&(t=e.suggestions[0].placeId),t){var n={type:"GET",url:this.options.placesUrl,contentType:"text/html",cache:!0,data:{placeId:t,uuid:a},success:s.bind(this.populateInputMap,this,i)};this.xhrPlacesRequest&&this.xhrPlacesRequest.abort(),this.xhrPlacesRequest=this.makeAjaxCall(n)}else this.populateInputMap(i);this.resetSuggestionList(!1,!0)},populateInputMap:function(e,t){var i,a=this,n={},o={};e.attr("data-place-id")&&"recent"!==e.attr("data-searchtype")&&sessionStorage.removeItem("uniqueID");try{if(a.options.clusterSearchHandler){var r={hiddenClusterCode:e.attr("data-code"),rateClusterSetNum:e.attr("data-number"),rateClusterSetNumType:e.attr("data-number-type"),rateClusterDescription:e.attr("data-desc")};return a.$input.val(a.recentSearchTerm=a.templateSettings.imports.mergeItem(", ",a.templateSettings.imports.clusterFormat(r.hiddenClusterCode,r.rateClusterDescription))),s.each(r,(function(e,t){a.$parent.$el.find("input[name="+t+"]").val(e||"")}),a),void(a.onListItemSelect&&a.onListItemSelect(r))}t?(n=t.suggestions[0].details.location,i=t.suggestions[0].details.distance,o.address=t.suggestions[0].details.location.address,o.postalCode=t.suggestions[0].details.location.postalCode,o.types=t.suggestions[0].details.types?t.suggestions[0].details.types.join(","):null,o.website=t.suggestions[0].details.url):(geoCode=e.attr("data-geo"),geoCode&&(geoCode=geoCode&&geoCode.split(",")||["",""],n.latitude=geoCode[0],n.longitude=geoCode[1])),(r={latitude:n.latitude||e.attr("data-latitude"),longitude:n.longitude||e.attr("data-longitude"),route:e.attr("data-route"),cityPop:e.attr("data-city-population"),cityPopDensity:e.attr("data-city-population-density"),city:n.city||e.attr("data-city"),state:n.state||e.attr("data-state"),countryname:e.attr("data-country"),country:n.country||e.attr("data-countrycode"),poiname:e.attr("data-poi-name"),airport:e.attr("data-airport-code"),airportName:e.attr("data-airport-name"),singleSearchAuto:null,autoSuggestOmni:n.property?"property":e.attr("data-type"),stateProvince:e.attr("data-state-province"),propertyName:e.attr("data-property-name"),propertyCode:n.property||e.attr("data-property-code"),searchType:e.attr("data-searchtype"),primaryDescription:e.attr("data-primary-description"),secondaryDescription:e.attr("data-secondary-description"),placeId:e.attr("data-place-id"),radius:i||e.attr("data-radius"),address:o.address||e.attr("data-address"),postalCode:o.postalCode||e.attr("data-postalCode"),types:o.types||e.attr("data-types"),website:o.website||e.attr("data-website")}).autoSuggestOmni?r.singleSearchAuto="true":(r.singleSearchAuto="false",r.singleSearchAuto="Unmatched"),a.options.isAirpotLocationDetected&&a.$parent.updateFlightDuration(t),r.autoSuggestOmni?r.singleSearchAuto="true":(r.singleSearchAuto="false",r.singleSearchAuto="Unmatched"),r.clusterCode?a.$input.val(a.recentSearchTerm=a.templateSettings.imports.mergeItem(", ",a.templateSettings.imports.clusterFormat(r.clusterCode,r.clusterDesc))):e.attr("data-secondary-description")?a.$input.val(a.recentSearchTerm=e.attr("data-primary-description")+", "+e.attr("data-secondary-description")):a.$input.val(a.recentSearchTerm=e.attr("data-primary-description")),r.city=r.airport||r.city,r.showAddressPin=this.isSpecificAddrType(o.types||e.attr("data-types")),s.forEach(r,(function(e,t){a.$parent.$el.find(a.options.inputs[t]).val(e||"")}),a),"recent"===r.searchType?e.attr("data-primary-description")?(a.recentSearchTerm=e.attr("data-secondary-description")?e.attr("data-primary-description")+", "+e.attr("data-secondary-description"):e.attr("data-primary-description"),a.$el.find(".single-search-destination").val(e.attr("data-secondary-description")?e.attr("data-primary-description")+", "+e.attr("data-secondary-description"):e.attr("data-primary-description"))):(a.recentSearchTerm=e.attr("data-label"),a.$el.find(".single-search-destination").val(e.attr("data-label"))):e.parent().hasClass("l-recently-viewed-item")&&(a.recentSearchTerm=e.attr("data-address"),a.$el.find(".single-search-destination").val(e.attr("data-address")),a.options.isGroupCodeHandler||u.checkPlaceholderAnimation()),e&&e.parents().hasClass("l-recently-viewed-item")||a.hideSuggestions(),"true"===a.$el.data("associate-view")||!0===a.$el.data("associate-view")?(console.log("Empower Code"),setTimeout((function(){a.onListItemSelect&&a.onListItemSelect(r)}))):a.onListItemSelect&&a.onListItemSelect(r),a.isDesktopVersion()?setTimeout((function(){a.$input.focus()})):a.resetSuggestionList(!1,!1)}catch(e){console.error(e)}},isSpecificAddrType:function(e){var t=["establishment","premise","route","street_address"];return!!e&&e.split(",").some((function(e,i){if(a.inArray(e,t)>-1)return!0}))},geoLocDetails:function(){"https:"!==window.location.protocol?(d.createCookie("loadCurrentLocation",!0),window.location.replace("https://"+window.location.host+window.location.pathname)):this.geoLocationHandler.doLocalDetails()},highLightListItem:function(e){if(e.target){e.stopImmediatePropagation(),this.$autoCompleteList.find(".autocomplete-listitem-active").removeClass("autocomplete-listitem-active");var t=this.$autoCompleteList.find(".expand-collapse-btn"),i=this.$autoCompleteList.find(".autocomplete-clear-recent");if(t.length&&t.hasClass("focused")&&t.removeClass("focused"),i.length&&i.hasClass("autocomplete-clear-recent-active")&&i.removeClass("autocomplete-clear-recent-active"),a(e.currentTarget).hasClass("expand-collapse-btn"))return void a(e.currentTarget).addClass("focused");if(a(e.currentTarget).hasClass("autocomplete-clear-recent"))return void a(e.currentTarget).addClass("autocomplete-clear-recent-active");if(!a(e.target).hasClass("autocomplete-list-header"))("A"==e.target.nodeName?a(e.target):a(e.target).closest("a")).parent().addClass("autocomplete-listitem-active")}},isDesktopVersion:function(){return!this.$parent.responsiveUtils.isMobileOrTablet()},suggestGeoLoc:function(){if(this.$parent.hideCurrentLocation||(this.listHtml=this.geoLocationHandler.autoSuggestItem,""===this.listHtml?this.listCount=0:this.listCount=1),this.$parent.$el.find(this.options.inputs.koreanDestination).length&&!this.recentSearchTerm){var e=this.$parent.$el.find(this.options.inputs.popularDestinationTitle).data("koreancity-title"),t=this.$parent.$el.find(this.options.inputs.popularDestinationTitle).data("internationalcity-title"),i=[];a(".search-korean-destination").each((function(e,t){var s={};s.destination=a(t).data("korean-destinations-dest"),s.state=a(t).data("korean-destinations-state"),s.country=a(t).data("korean-destinations-con"),s.address=a(t).data("korean-destinations-add"),s.latitude=a(t).data("korean-destinations-lat"),s.longitude=a(t).data("korean-destinations-long"),i.push(s)}));var s=[];a(".search-international-destination").each((function(e,t){var i={};i.destination=a(t).data("international-destinations-dest"),i.state=a(t).data("international-destinations-state"),i.country=a(t).data("international-destinations-con"),i.address=a(t).data("international-destinations-add"),i.latitude=a(t).data("international-destinations-lat"),i.longitude=a(t).data("international-destinations-long"),s.push(i)}));var n='<li class="korean-dest-container"><div class="korean-dest-heading"><span class="t-icon-location"></span><span class="korean-dest-title">'+e+'</span></div><div class="korean-dest-cities">',o='<li class="international-dest-container"><div class="int-dest-heading"><span class="t-icon-location"></span><span class="int-dest-title">'+t+'</span></div><div class="international-dest-cities">';if(a.each(i,(function(e){return n+='<div class="korean-dest autocomplete-listitem"><a tabindex="0" class="city analytics-click custom_click_track" data-index="'+(1+e)+'" data-address="'+i[e].address+'" data-country="'+i[e].country+'" data-state="'+i[e].state+'" data-lat="'+i[e].latitude+'" data-long="'+i[e].longitude+'" data-label="'+i[e].address+'" aria-label="'+i[e].destination+'" custom_click_track_value="Korea Search Box|Domestic:'+i[e].destination+'|internal">'+i[e].destination+"</a></div>",e<8})),a.each(s,(function(e){return o+='<div class="international-dest autocomplete-listitem"><a tabindex="0" class="city analytics-click custom_click_track" data-index="'+(13+e)+'" data-address="'+s[e].address+'" data-country="'+s[e].country+'" data-state="'+s[e].state+'" data-lat="'+s[e].latitude+'" data-long="'+s[e].longitude+'" data-label="'+s[e].address+'" aria-label="'+s[e].destination+'" custom_click_track_value="Korea Search Box|International:'+s[e].destination+'|internal">'+s[e].destination+"</a></div>",e<8})),n+='<div class="dest-list-space"></div></div></li>',o+='<div class="dest-list-space"></div></div></li>',this.listHtml+=n,this.listHtml+=o,this.$parent.responsiveUtils.isMobileOrTablet())this.$autoCompleteList.css({left:"0px",borderTop:"solid 1px #d2d2d2",borderRadius:"4px",width:this.$input.outerWidth()+"px"});else{var r=2*this.$input.outerWidth()+20;this.$autoCompleteList.css({left:"0px",borderTop:"solid 1px #d2d2d2",borderRadius:"4px",width:r+"px"})}this.$el.find(".js-auto-complete-input-v2").addClass("js-autocomplete-focused")}else a(".korean-dest-container").remove(),a(".international-dest-container").remove()},markSearchTerm:function(e,t){if(e){var i=new RegExp(e,"ig");return t.replace(/>([^><]+)<\//i,(function(e){return e.replace(i,(function(e){return"<strong>"+e+"</strong>"}))}))}return t},navigateList:function(e){var t=this,i="",a="";if(t.$input.length||t.setLocationInput(),t.suggestionListShow){var n=e.keyCode||e.which,o=parseInt(e.target.getAttribute("data-count"));switch(t.preventListReRender=!1,n){case 38:case 40:e.preventDefault();var r=t.$autoCompleteList.find(".autocomplete-listitem-active"),l=t.$autoCompleteList.find(".l-recently-viewed-item"),d=t.$autoCompleteList.find(".expand-collapse-btn"),c=t.$autoCompleteList.find(".autocomplete-clear-recent");if(!r.length&&38===n&&!c.hasClass("autocomplete-clear-recent-active")&&!d.hasClass("focused"))return t.recentSearchTerm="",t.$input.val(t.recentSearchTerm),c.addClass("autocomplete-clear-recent-active"),t.preventListReRender=!0,void setTimeout((function(){t.$narrate.text(c.find("span").text())}),200);if(d.length&&!d.hasClass("focused")&&!r.length&&!c.hasClass("autocomplete-clear-recent-active")&&40===n)return t.recentSearchTerm="",t.$input.val(t.recentSearchTerm),t.preventListReRender=!0,d.addClass("focused"),void setTimeout((function(){t.$narrate.text(d.find(".show-more-less").text())}),200);if(c.hasClass("autocomplete-clear-recent-active")&&(c.removeClass("autocomplete-clear-recent-active"),40===n))return void(l.length&&0===l.first().find("a").data("index")&&d.length&&(d.addClass("focused"),t.preventListReRender=!0,setTimeout((function(){t.$narrate.text(d.find(".show-more-less").text())}),200)));if(l.length&&l.first().hasClass("autocomplete-listitem-active")&&38===n&&d.length)return t.recentSearchTerm=r.find("a").data("label"),d.addClass("focused"),t.recentSearchTerm="",t.$input.val(t.recentSearchTerm),t.preventListReRender=!0,setTimeout((function(){t.$narrate.text(d.find(".show-more-less").text())}),200),void r.removeClass("autocomplete-listitem-active");var h=(i=t.$autoCompleteList.find(".autocomplete-listitem-active")).length&&i.find("a").attr("data-index")||-1;if(d.length&&i.next().hasClass("autocomplete-recently-viewed-header-container")&&40===n)return d.addClass("focused"),setTimeout((function(){t.$narrate.text(d.find(".show-more-less").text())}),200),void i.removeClass("autocomplete-listitem-active");if(d.length&&d.hasClass("focused")){if(d.removeClass("focused"),38===n)return c.addClass("autocomplete-clear-recent-active"),t.preventListReRender=!0,void setTimeout((function(){t.$narrate.text(c.find("span").text())}),200);if(40===n)return i=l.first(),t.recentSearchTerm=i.find("a").data("label"),t.$input.val(t.recentSearchTerm),void i.addClass("autocomplete-listitem-active");if(d.parent().parent().prev().length)38===n?i=l.first():40===n&&(i=d.parent().parent().prev()),h=i.length&&i.find("a").attr("data-index")||-1;else if(38===n)return}if(d.hasClass("collapsed")&&t.$autoCompleteList.find(".l-recently-viewed-item:not(.l-secondary-viewed-items)").last().hasClass("autocomplete-listitem-active")&&l.last().next().hasClass("autocomplete-clear-recent")&&40===n)return i.removeClass("autocomplete-listitem-active"),t.recentSearchTerm||(t.recentSearchTerm=i.find("a").data("label")),t.$input.val(t.recentSearchTerm),c.addClass("autocomplete-clear-recent-active"),void setTimeout((function(){t.$narrate.text(c.find("span").text())}),200);if(0===parseInt(h)&&(t.initialSearchTerm||(t.initialSearchTerm=t.$input.val()),38===n))return t.recentSearchTerm=t.initialSearchTerm,t.$input.val(t.recentSearchTerm),void i.removeClass("autocomplete-listitem-active");if(parseInt(o)-parseInt(h)==1&&40===n)return t.recentSearchTerm=t.initialSearchTerm,t.$input.val(t.recentSearchTerm),i.removeClass("autocomplete-listitem-active"),void(t.options.categoryParams.showRecentlyViewedProperties&&i.next().length&&i.next().hasClass("autocomplete-clear-recent")&&(c.addClass("autocomplete-clear-recent-active"),t.recentSearchTerm="",t.$input.val(t.recentSearchTerm),t.preventListReRender=!0,setTimeout((function(){t.$narrate.text(c.find("span").text())}),200)));if(isFinite(h=parseInt(h))&&(i.removeClass("autocomplete-listitem-active"),(h+=n-39)>=o?h-=o:h<0&&(h=Math.max(-1,h)+o),t.$autoCompleteList.find('.l-secondary-viewed-items.l-display-none [data-index="'+h+'"]').length&&(38===n?h-=t.$autoCompleteList.find(".l-secondary-viewed-items.l-display-none").length:h+=t.$autoCompleteList.find(".l-secondary-viewed-items.l-display-none").length),(i=t.$autoCompleteList.find('[data-index="'+h+'"]')).closest("li").addClass("autocomplete-listitem-active")),i.attr("data-primary-description")?i.attr("data-secondary-description")?t.recentSearchTerm=i.attr("data-primary-description")+", "+i.attr("data-secondary-description"):t.recentSearchTerm=i.attr("data-primary-description"):t.recentSearchTerm=i.attr("data-label"),i.hasClass("js-geoloc")&&(t.recentSearchTerm=""),i.hasClass("js-geoloc")&&t.$narrate.text(i.text()),t.$input.val(t.recentSearchTerm),t.isDesktopVersion()){t.$scrollbarWrapper.scrollTop(0);var p=i.parent("li").next().offset().top;t.$scrollbarWrapper.scrollTop(p-2*t.$scrollbarWrapper.height())}break;case 37:case 39:t.recentSearchTerm=t.initialSearchTerm;break;case 13:i=e.target.value,t.options.clusterSearchHandler&&(a={hiddenClusterCode:i,rateClusterSetNum:null,rateClusterSetNumType:"unknownCode"},s.each(a,(function(e,i){t.$parent.$el.find("input[name="+i+"]").val(e||"")}),t),e.preventDefault(),t.listItemSelect(e)),t.$autoCompleteList.find(".autocomplete-listitem-active").length?(e.preventDefault(),t.$autoCompleteList.find(".autocomplete-listitem-active").hasClass("l-recently-viewed-item")?t.recentlyViewedListItemSelect(e):t.listItemSelect(e)):t.$autoCompleteList.find(".expand-collapse-btn.focused").length?(e.preventDefault(),t.handleAccordion(null)):t.$autoCompleteList.find(".autocomplete-clear-recent.autocomplete-clear-recent-active").length&&(e.preventDefault(),t.clear(),t.hideSuggestionsFlag=!0,t.blankLocationInputFlag=!1,t.hideSuggestions(null,!1));break;case 27:t.hideSuggestions(null,!0),e.preventDefault();break;case 9:t.listItemSelect(e)}}},merge:function(e,t){var i=0;for(i=0;i<e.length;i++)e[i]&&e[i]},loadList:function(){l.default.miRecentSearch&&(this.recentSearch.list=JSON.parse(l.default.miRecentSearch.replace(/<\/?[^>]+(>|$)/g,"")))},getAutocompleteItem:function(e,t){if(t.hasClass(this.recentSearch.inputClass)&&(this.loadList(),this.recentSearch.list.length>0))return e?a.grep(this.recentSearch.list,(function(t,i){return RegExp("\\b"+e.toLowerCase(),"gi").test(t.label)})):this.recentSearch.list},indexOf:function(e,t){for(var i=this.recentSearch.list,a=i.length,s=-1,n=0;n<a;n++)if(i[n][e]==t){s=n;break}return s},addRecent:function(){if(this.permittedSiteId()&&l.default&&this.options.searchTypeVal!==this.options.addressSearch){var e,t,i,a={},s=this.$parent.$el.find(".js-recent-search-inputs"),n=this.$parent.$el.find(".for-hotels-nearme").val()+" ";if(a.label=s.find(".js-search-location").val(),a.city=s.find(".js-search-city-display").val()||s.find(".search-city").val(),a.poiname=s.find(".search-poiname").val(),a.state=s.find(".search-state").val(),a.country=s.find(".search-country").val(),a.stateprovincedisplayname=s.find(".search-state-province").val(),a.type=s.find(".js-autosuggest-item-type").val(),(e=s.find(".search-country-name").val())?a.countryname=e:(t=a.label?a.label.split(","):[]).length&&(a.countryname=t[t.length-1]),a.airportcode=s.find(".search-airport").val(),a.airportcode&&((i=s.find(".search-airport-name").val())?a.airportname=i:(t=a.label?a.label.split(","):[]).length&&(a.airportname=t[0])),a.value=a.airportcode||a.label,a.geocode=s.find(".search-latitude").val()+","+s.find(".search-longitude").val(),a.searchtype="recent",a.analytics='{"location":"searchForm","sendNow":"true","description":"Recent Search"}',a.label=a.label&&a.label.replace(/<(?:.|\n)*?>/gm,""),a.placeId=s.find(".search-place-id").val(),a.primaryDescription=s.find(".search-primary-description").val(),a.secondaryDescription=s.find(".search-secondary-description").val(),a.latitude=s.find(".search-latitude").val(),a.longitude=s.find(".search-longitude").val(),a.radius=s.find(".js-search-radius").val(),a.address=s.find(".destination-address").val(),a.postalCode=s.find(".destination-postal-code").val(),a.types=s.find(".destination-types").val(),a.website=s.find(".destination-website").val(),this.loadList(),a.label&&a.label.indexOf(n)<0){var o=this.indexOf("label",a.label);-1!=o&&this.recentSearch.list.splice(o,1),this.recentSearch.list.unshift(a),this.recentSearch.list.splice(this.recentSearch.max),l.default.setItem("miRecentSearch",JSON.stringify(this.recentSearch.list))}}},clear:function(){l.default.removeItem("miRecentSearch"),l.default.removeItem("recentSearch"),this.options.categoryParams.showRecentlyViewedProperties&&l.default.removeItem("miRecentlyViewedProperties"),this.recentSearch.list=[],this.resetSuggestionList(!0,!0)},resetSuggestionList:function(e,t){this.$parent.responsiveUtils.isDesktop()||(this.hideSuggestionsFlag=!1,this.recentlyViewedPropertiesDdClosed=!0,t&&(this.listHtml=""),this.$autoCompleteList=this.$el.find(".autocomplete-scroller-wrapper ul"),this.$autoCompleteList.hide().html(this.listHtml),e&&this.$autoCompleteList.show(),u.checkPlaceholderAnimation())},checkAndClearPlaceholderAnimation:function(){u.checkPlaceholderAnimation()}};e.exports={create:function(e){var t=s.cloneDeep(f);return new(n.extend(t))(e)}}},35:function(e,t,i){i(0);var a=i(1),s=i(4);e.exports=s.extend({templates:{autoCompleteCluster:a.template('<li class="autocomplete-listitem" role="menuitem"><a data-type="<%=(typeof type !== "undefined")?type:""%>"  data-code="<%=code%>" data-label="<%=id%>"data-primary-description="<%=description%>" ><%=description%></a></li>')},performGroupCodeSearch:function(e,t,i){var a=i.propertyCode.val(),s=i.destinationSearch.val();if(i.destinationSearch&&i.destinationSearch.length){var n=s.indexOf("(")>-1?s.split("(")[1].slice(0,-1):s;a="false"===a?n:a}var o={type:"GET",url:this.options.autoCompleteURL,contentType:"text/html",data:{searchTerm:i.searchTerm.val(),arrivalDate:i.arrivalDate.val(),propertyCode:a},success:e};this.xhrRequest&&this.xhrRequest.abort(),this.xhrRequest=this.makeAjaxCall(o)},markSearchTerm:function(e,t){if(e){var i=new RegExp(e,"ig");return t.replace(/>([^><]+)<\//i,(function(e){return e.replace(i,(function(e){return"<strong>"+e+"</strong>"}))}))}return t},filterGroupCodeSearchData:function(e){var t=this,i="",a="",s=0;return(i=e.miniHotelDetailsList)&&i.forEach((function(e,i){e.index=i,a+=t.markSearchTerm(t.recentSearchTerm,t.templates.autoCompleteCluster(e)),s++})),{listHtmlData:a,count:s}}})},36:function(e,t,i){var a,s,n=i(37),o=i(38),r=0,l=0;e.exports=function(e,t,i){var d=t&&i||0,c=t||[],h=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==h||null==p){var u=n();null==h&&(h=a=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==p&&(p=s=16383&(u[6]<<8|u[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=f-r+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||f>r)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=f,l=m,s=p;var v=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;c[d++]=v>>>24&255,c[d++]=v>>>16&255,c[d++]=v>>>8&255,c[d++]=255&v;var y=f/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=h[b];return t||o(c)}},37:function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var a=new Uint8Array(16);e.exports=function(){return i(a),a}}else{var s=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}},38:function(e,t){for(var i=[],a=0;a<256;++a)i[a]=(a+256).toString(16).substr(1);e.exports=function(e,t){var a=t||0,s=i;return[s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]]].join("")}},39:function(e,t,i){var a=i(12),s=i(0),n=i(23),o=i(3);function r(e,t,i){this.target=t,this.$parent=e,this.options=a(this.getDefaultOptions(),i),this.predictions=null,this.keyupTimeout=null,this.recentSearch=n.get("miRecentSearchPlaces"),this.predictionListEl=document.createElement("ul"),this.predictionListEl.setAttribute("class",this.options.listCss),this.options.listContainerEl=this.options.listContainerEl||s(this.target).parent(),this.options.listContainerEl.append(this.predictionListEl),this.bindEvents(),this.resetPredictions(),this.hideAutocompleteList()}var l={getDefaultOptions:function(){return{keyEventDebounceRate:100,onSearch:null,onSelect:null,listCss:"autocomplete-list",listHeaderCss:"autocomplete-list-header",listItemCss:"autocomplete-listitem",activeListItemCss:"autocomplete-listitem-active",disableRecentSearch:!1,disableCurrentLocSearch:!1,listContainerEl:null}},isDevice:function(){return!!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)},bindEvents:function(){var e=this.hideAutocompleteList.bind(this),t=this;this.target.addEventListener("keyup",this.keyupEventHandler.bind(this)),this.target.addEventListener("keydown",this.listKeyDownHandler.bind(this)),this.target.addEventListener("blur",(function(i){setTimeout((function(){i.relatedTarget&&s(i.relatedTarget).hasClass("clear-recent-search")&&t.clearRecentSearch(i),e()}),o.AUTOCOMPLETE.HIDE_ON_BLUR_DELAY)})),this.predictionListEl.addEventListener("mousedown",this.listClickHandler.bind(this)),this.$narrate=this.$parent.$el.find('div[aria-live="assertive"]'),document.body.addEventListener("click",e),window.addEventListener("resize",(function(){t.predictionListEl.style.display="none",t.isListVisible=!1}))},keyupEventHandler:function(e){var t=this,i=e.target.value,a=e.keyCode;t.keyupTimeout&&clearTimeout(t.keyupTimeout),t.keyupTimeout=setTimeout((function(){var s=null;t.isEnterKeycode(a)?(e.preventDefault(),s=t.predictionListEl.querySelector("."+t.options.activeListItemCss),t.isListVisible&&s&&t.selectItem(s)):-1==[37,38,39,40].indexOf(a)&&(t.isEmptySearchTerm(i)?t.updateRecentPredictions():t.triggerSearch(i),t.showAutocompleteList()),t.narrateListItem()}),t.options.keyEventDebounceRate)},listClickHandler:function(e){var t=e.target,i="LI"===t.tagName?t:s(t).closest("li")[0];this.selectItem(i),this.isDevice()||this.target.focus()},listKeyDownHandler:function(e){var t=e.keyCode,i=this;[38,40].indexOf(t)>-1?this.isListVisible?this.navigateList(t):this.showAutocompleteList():this.isEnterKeycode(e.keyCode)&&(e.preventDefault(),""!=this.target.value&&this.predictions.searchTerm&&this.predictions.searchTerm!=this.target.value?(i.predictions.searchTerm=i.target.value,s(i.target).blur(),setTimeout((function(){s(i.target).focus()}),500),s(".address-auto-fill-suggestion")&&(activeListItem=i.predictionListEl.querySelector("."+i.options.activeListItemCss),i.isListVisible&&activeListItem&&i.selectItem(activeListItem))):setTimeout((function(){s(i.target).closest("form").submit()}),500)),this.narrateListItem()},selectItem:function(e){var t=this.getDataByListItem(e),i=e.getAttribute("data-type");if(!this.options.onSelect)return!1;t&&t.mainText&&(this.target.value=t.secondaryText?t.mainText+" "+t.secondaryText:t.mainText),this.options.onSelect(i,e,t),this.resetPredictions({searchTerm:this.target.value}),this.blankLocationInputFlag=!1,this.isListVisible=!1},isEnterKeycode:function(e){return 13===e},isEmptySearchTerm:function(e){return/^[\s]*$/.test(e)},triggerSearch:function(e){this.options.onSearch&&this.options.onSearch(e).then(this.searchSuccess.bind(this),this.searchError.bind(this))},searchSuccess:function(e){var t=e.searchTerm,i=e.searchResult;this.target.value===t&&this.updateSearchPredictions(t,i),this.showAutocompleteList()},searchError:function(e){this.updateSearchPredictions(this.target.value,[])},appendCurrentLocationItem:function(){var e;if(this.options.disableCurrentLocSearch||this.hasPredictions())return!1;(e=document.createElement("li")).innerHTML='<span class="t-icon-current-location"></span><a> '+this.options.currentLocLabel+"</a>",e.setAttribute("data-type","currentLoc"),e.setAttribute("class",this.options.listItemCss),this.predictionListEl.appendChild(e)},appendRecentSearchItems:function(){var e,t=this;if(t.updateRecentPredictions(),this.options.disableRecentSearch||0===this.predictions.recentPredictions.length)return!1;(e=document.createElement("li")).setAttribute("class",this.options.listHeaderCss),e.innerHTML='<span class="t-icon-clock autocomplete-recent-icon"></span><strong>'+this.options.recentLabel+'</strong><a href="#clear-recent-search" class="clear-recent-search">'+this.options.clearRecentLabel+"</a>",t.predictionListEl.appendChild(e),e.querySelector(".clear-recent-search").addEventListener("click",this.clearRecentSearch.bind(this)),this.predictions.recentPredictions.forEach((function(e,i){t.createAutocompleteList("recent",i,e,0!=i)}))},createAutocompleteList:function(e,t,i,a){var s=document.createElement("li");s.setAttribute("data-type",e),s.setAttribute("data-index",t),s.setAttribute("class",a?this.options.listItemCss:this.options.listItemCss+" "+this.options.activeListItemCss),s.innerHTML="<a><strong>"+i.mainText+"</strong> "+i.secondaryText+"</a>",this.predictionListEl.appendChild(s)},appendSearchResultItems:function(){var e,t=this,i=!1;this.predictionListEl.querySelector("."+this.options.activeListItemCss)&&(i=!0),!1!==this.hasPredictions()&&((e=document.createElement("li")).setAttribute("class",t.options.listHeaderCss),e.innerHTML='<span class="t-icon-search autocomplete-search-icon"></span><strong>'+t.options.searchLabel+"</strong>",t.predictionListEl.appendChild(e),t.predictions.searchPredictions.forEach((function(e,a){t.createAutocompleteList("prediction",a,e,0!=a||i)})))},blankLocationInputFlag:!0,hideAutocompleteList:function(){s(this.target).is(":focus")||(this.blankLocationInputFlag&&this.options.onListClose&&this.options.onListClose(),this.predictionListEl.style.display="none",this.isListVisible=!1)},showAutocompleteList:function(){var e=s(this.target);e.offset();if(this.predictionListEl.innerHTML="",this.blankLocationInputFlag=!0,this.appendCurrentLocationItem(),this.appendRecentSearchItems(),this.appendSearchResultItems(),0===this.predictionListEl.children.length)return this.hideAutocompleteList(),!1;this.predictionListEl.style.left=0,this.predictionListEl.style.top=this.options.listContainerEl.outerHeight()+"px",this.predictionListEl.style.width=e.outerWidth()+"px",this.predictionListEl.style.position="absolute",this.predictionListEl.style.zIndex="9999",this.predictionListEl.style.display="block",this.isListVisible=!0},narrateListItem:function(){var e,t,i=this.predictionListEl.querySelector("."+this.options.activeListItemCss);i&&(e=this.getDataByListItem(i))&&(t=e.mainText+" "+e.secondaryText,this.$narrate.text(t))},resetPredictions:function(e){this.predictions=a({searchTerm:"",searchPredictions:[],recentPredictions:[]},e||{})},updateRecentPredictions:function(){var e=this,t="",i="",a=0;e.predictions.recentPredictions=e.recentSearch.get().filter((function(s){return t=(s.mainText+" "+s.secondaryText).toLowerCase(),i=e.target.value.toLowerCase(),a=t.indexOf(" "+i),0==t.indexOf(i)||a>-1}))},updateSearchPredictions:function(e,t){this.predictions.searchTerm=e,this.predictions.searchPredictions=t},navigateList:function(e){var t,i=this.predictionListEl.querySelectorAll("."+this.options.listItemCss),a=this.predictionListEl.querySelector("."+this.options.activeListItemCss),s=null;if(0===i.length)return this.hideAutocompleteList(),!1;if(null===a)s=40===e?i[0]:i[i.length-1];else for(var n=0,o=i.length;n<o;n++)i[n].className.indexOf(this.options.activeListItemCss)>-1&&(i[n].className=this.options.listItemCss,s=40===e?i[n+1]||null:i[n-1]||null);null===s?this.target.value=this.predictions.searchTerm:(t=this.getDataByListItem(s),s.className=this.options.listItemCss+" "+this.options.activeListItemCss,this.target.value=t?t.mainText+" "+t.secondaryText:"")},getDataByListItem:function(e){var t=e.getAttribute("data-type"),i=e.getAttribute("data-index")||"",a=null;switch(t){case"prediction":a=this.predictions.searchPredictions[i];break;case"recent":a=this.predictions.recentPredictions[i];break;default:a=null}return a},clearRecentSearch:function(e){e.preventDefault(),e.stopPropagation(),this.recentSearch.clear(),this.hideAutocompleteList()},hasPredictions:function(){return this.predictions.searchTerm===this.target.value&&this.predictions.searchPredictions.length>0}};a(r.prototype,l),e.exports=r},4:function(e,t,i){var a=i(2).extend({elOverride:!0,initialize:function(e){var t=this;e&&_.each(e,(function(e,i){t[i]=e}))}});e.exports=a},40:function(e,t){e.exports=shared.jqueryUi},41:function(e,t,i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){var s;return s=function(e,t){if("object"!=a(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(s)?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=i(0),o=i(1),r=i(12),l=i(39),d=i(26),c=i(27),h=i(7),p=i(16),u=i(28),f=i(10),m=i(3);function g(e,t,i){var a=e.$el.find(".autosuggest-cat-headers").data("category-params"),s=r({currentLocLabel:a.currentLocation,recentLabel:a.recent,searchLabel:a.searchResults,clearRecentLabel:a.clear,onSearch:this.autocompleteSearch.bind(this),onSelect:this.autocompleteSelected.bind(this),listContainerEl:i.listContainerEl,onListClose:i.onListClose},i||{});this.options=this.getOptions(i),this.$parent=e,this.target=e.autocompleteInputEl,this.form=this.target.form,this.autocompleteService=t.getAutocompleteService(),this.autocompleteSupportedTypes=i.autocompleteSupportedTypes,this.geocoderService=t.getGeocoderService(),this.getPlacesService=t.getPlacesService(document.createElement("div")),this.geometryService=google.maps.geometry,this.formFieldMapper=new d(this.form,c.get(this.form.getAttribute("id"))),this.hideSuggestions=function(){},new l(e,this.target,s),this.populateCurrentLocation(),this.initClearInputHandler(e)}var v={populateCurrentLocation:function(){sessionStorage&&"true"===f.readCookie("loadCurrentLocation")&&(f.eraseCookie("loadCurrentLocation"),this.findLocation())},initClearInputHandler:function(e){this.clearInputHandler=new p({$el:e.$el.find(".js-auto-complete"),$parent:this}),this.clearInputHandler.init()},autocompleteSearch:function(e){var t=this,i=s(s({input:e,types:this.options.types,location:new google.maps.LatLng({lat:0,lng:0})},"types",this.autocompleteSupportedTypes),"radius",2e7);return this.formFieldMapper.resetFormFields(),new u((function(a,s){t.autocompleteService.searchPlaces(i).then((function(i){a({searchTerm:e,searchResult:t.parseAutocompletePredictions(i)})}),(function(e){s(e)}))}))},autocompleteSelected:function(e,t,i){switch(e){case"prediction":case"recent":this.findPlaceDetail(i);break;case"currentLoc":this.findLocation()}},parseAutocompletePredictions:function(e){var t=[];return e.forEach((function(e){-1===e.types.indexOf("colloquial_area")&&t.push({mainText:e.structured_formatting.main_text,secondaryText:e.structured_formatting.secondary_text||"",placeId:e.place_id,formattedAddress:e.description})})),this.autoSuggestMobileFix(),t},findLocation:function(){if("https:"!==window.location.protocol)return f.createCookie("loadCurrentLocation",!0),void window.location.replace("https://"+window.location.host+window.location.pathname);navigator.geolocation.getCurrentPosition(this.positionSuccess.bind(this),this.positionError.bind(this))},positionSuccess:function(e){var t={location:{lat:Number(e.coords.latitude),lng:Number(e.coords.longitude)}};this.geocoderService.geocode(t).then(this.geocodeSuccess.bind(this),this.geocodeError.bind(this))},positionError:function(){var e=this.$parent.$el.find(".js-location-nearme-values"),t='<div class="l-padding-left l-padding-right mi-popover" id="no-Currentloc-popup"><p class="l-center-align t-font-bold">'+e.data("errhead")+'</p><p class="l-center-align">'+e.data("errmessage")+"</p></div>";new h({mainClass:"m-modal t-modal-small",items:{src:t},alternateCloseMarkup:'<div class="l-padding-left l-padding-right "><button class="js-mfp-close l-width-max m-button-lightestGray">'+e.data("error-popup-button-text")+"</button></div>",closeOnContentClick:!0,open:!0,ajaxLoaded:!1}).register()},findPlaceDetail:function(e){this.getPlacesService.getDetails({placeId:e.placeId}).then(this.placeDetailSuccess.bind(this,e),this.placeDetailError.bind(this))},geocodeSuccess:function(e){var t,i=this.$parent.$el.find(".js-location-nearme-values");e[0]&&(t=this.parseGeocodeResult(e[0]),this.updateFormFields(t),this.target.value=i.data("neartext")+" "+t.city+", "+t.stateProvinceShort+", "+t.countryShort)},geocodeError:function(e){formFieldMapper.resetFormFields()},parseGeocodeResult:function(e){var t={},i={name:e.name||"",latitude:"",longitude:"",city:"",cityCodes:"",stateProvince:"",stateProvinceShort:"",countryShort:"",placeId:e.place_id,mainText:e.mainText?e.mainText:e.formatted_address||"",secondaryText:e.secondaryText||"",showAddressPin:!1,website:e.website,address:e.formatted_address,locality:"",postalcode:"",types:e.types+""},a=n("<div>"+e.adr_address+"</div>");return this.radiusOrientedCountries=this.$parent.$el.data("radius-oriented-countries")?this.$parent.$el.data("radius-oriented-countries").split(","):[],i.postalcode=a.find(".postal-code").text(),e.address_components.forEach((function(e){var i=e.types[0];e.short_name&&(t[i+"_short"]=e.short_name),t[i]=e.long_name})),i.locality=t.locality_short||t.sublocality_level_1_short||"",this.isGeocodeResultState(e)?(i.stateProvinceShort=e.address_components[0].short_name,i.countryShort=e.address_components[1].short_name,i.stateProvince=e.address_components[0].short_name,i.country=e.address_components[1].short_name,o.includes(this.radiusOrientedCountries,i.country)&&(i.latitude=e.geometry.location.lat(),i.longitude=e.geometry.location.lng(),i.radius=this.getRadiusFromLatLng(e)*m.GLOBAL.MILE_CONVERSION_MULTIPLY_FACTOR)):this.isGeocodeResultCountry(e)?(i.country=e.address_components[0].short_name,i.countryShort=e.address_components[0].short_name):(i.latitude=e.geometry.location.lat(),i.longitude=e.geometry.location.lng(),i.city=t.locality||"",i.cityCodes=t.locality_short||"",i.stateProvince=t.administrative_area_level_1_short||"",i.stateProvinceShort=t.administrative_area_level_1_short||"",i.country=t.country||"",i.countryShort=t.country_short||""),i.showAddressPin=this.isSpecificAddrType(e),i},getRadiusFromLatLng:function(e){var t=e.geometry.viewport.getCenter(),i=e.geometry.viewport.getNorthEast();return this.geometryService.spherical.computeDistanceBetween(t,i)},isGeocodeResultState:function(e){return 2===e.address_components.length&&e.address_components[0].types.indexOf("administrative_area_level_1")>-1&&e.address_components[1].types.indexOf("country")>-1},isSpecificAddrType:function(e){var t=["establishment","premise","route","street_address"];return e.types.some((function(e,i){if(n.inArray(e,t)>-1)return!0}))},isGeocodeResultCountry:function(e){return 1===e.address_components.length&&e.address_components[0].types.indexOf("country")>-1},placeDetailSuccess:function(e,t){var i;e&&t&&(i=r({},e,t),this.updateFormFields(this.parseGeocodeResult(i)))},placeDetailError:function(e){this.formFieldMapper.resetFormFields()},updateFormFields:function(e){this.formFieldMapper.setFormData(e)},getOptions:function(e){return{types:e.types||null}},autoSuggestMobileFix:function(){var e=this,t=e.$parent.$el.find(".l-form-container");t.length||(t=e.$parent.$el.find(".m-search-tabs")),navigator.userAgent.length&&/iPhone|iPad|iPod/i.test(navigator.userAgent)&&this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isMobileOrTablet()&&(e.realHeight=e.$parent.$el.height(),e.fixHeight=t.find(".autocomplete-list").height()+1e3+"px",t.css("height",e.fixHeight),e.$parent.$el.find(".single-search").on("focus",(function(){e.$parent.responsiveUtils.isMobileOrTablet()&&t.css("height",e.realHeight+"px")})),e.$parent.$el.find(".single-search").on("blur",(function(){e.$parent.responsiveUtils.isMobileOrTablet()&&t.css("height",e.realHeight+"px")})))}};r(g.prototype,v),e.exports=g},42:function(e,t,i){var a=i(20),s=i(14),n=i(3),o=i(11),r=i(0),l=i(1),d=i(13),c=a.extend({events:{"click .js-toggle":"toggleSpecialRates","keyup .js-toggle":"moveFocusToNext","click .js-special-rates-header":"openDropDown","click .js-h-toggle":"codeInputToggle","click .l-back-icon":"closeSpecialRatesSection","blur .radio-secondary-input":"onBlurEvent","click .done_button":"hideTakeoverScreen","click .js-apply-btn":"closeDropDown","click .js-add-btn":"addCorporateCode","focus .l-search-corp":"toggleInputLabel","focus .js-special-rates-header":"toggleSpecialRateHeaderAriaLabel","click .sub-takeover-cancel-link":"closeSubTakeover","click .js-single-special-rate-apply-btn":"applySelectedRates"},options:{dropdownTrigger:".m-icon-trigger",corpdropdownTrigger:".corp-icon-trigger",dropdownActive:"t-icon-arrow-up",dropdownInActive:"t-icon-arrow-down",scrollBarTarget:".special-rates-section .l-spreacial-rate-scroll-cont, .l-special-rates-list"},templates:{newCorpCode:l.template('<li class="l-rate-item-container"><div class="l-corp-rate js-select-rate is-checked" tabindex="2"><span class="l-special-rate-label" aria-live="polite"><i class="lb"><%=newCorpCodeValue%> <%=checkedLabel%></i></span><i class="rate-unavailable"> unavailable</i><fieldset><legend class="is-hidden"><%=newCorpCodeValue%></legend><input type="checkbox" name="rate-<%=newCorpCodeValue%>" value="<%=newCorpCodeValue%>" id="<%=newCorpCodeValue%>" class="js-corp-code js-count-rates-selected is-visibility-hidden" checked><label for="<%=newCorpCodeValue%>" class="rate-label" aria-hidden="true"><%=newCorpCodeValue%></label></fieldset></div><button class="remove-btn t-border-radius" aria-label="<%=deleteLabel%> <%=newCorpCodeValue%>" tabindex="2"><span class="js-code-label l-display-none"><%=newCorpCodeValue%></span><span class="t-icon t-icon-cross"></span></button></li>')},moveFocusToNext:function(e,t){var i;t||40!==e.which?38===t?i=e.parents("li.l-rate-item-container").prev(".l-rate-item-container").find(".js-select-rate"):40===t&&(i=e.parents("li.l-rate-item-container").next(".l-rate-item-container").find(".js-select-rate")):(e.preventDefault(),i=r(e.currentTarget).next(".js-toggle-container").find(".l-rate-item-container:first-child .js-select-rate").focus()),i&&i.focus()},init:function(){var e=this,t=[38,40],i=e.$el.find(".l-h-toggle-text");i.html(i.data("value")),this.subscribeDOMEvents(),this.$dropdownIcon=this.$el.find(this.options.dropdownTrigger),this.$corpdropdownIcon=this.$el.find(this.options.corpdropdownTrigger),this.$el.find(".js-h-toggle").each((function(){r(this).find('input[type="radio"]').prop("checked")&&r(this).parent().addClass("is-checked")})),e.$el.on("click keydown",".js-select-rate",(function(i){"click"==i.type||"keydown"==i.type&&(13===i.which||32===i.which)?(e.rateSelected(i),32===i.which&&i.preventDefault()):t.includes(i.which)&&(i.preventDefault(),e.moveFocusToNext(r(i.currentTarget),i.which))})),e.$el.on("click keyup",".remove-btn",(function(t){("click"==t.type||"keyup"==t.type&&13===t.which)&&(t.preventDefault(),e.removeCode(t))})),e.$el.find(".l-search-corp").keypress((function(t){e.toggleDuplicateCorpCodeMessage(),13==t.keyCode&&(t.preventDefault(),e.addCorporateCode(t))})),this.createTakeOverScreen(this.$el.find(".special-rates-section"),this.$el.find(".special-rates-section").data("takeover-label"),this.$parent.$el.data("done-button-label")),!this.$parent.disableSubTakeover&&this.$parent.responsiveUtils.isMobileOrTablet()||(r(document).on("click",l.debounce(this.closeSpecialRatesSection.bind(this),250)),this.$el.parents(".mfp-content").on("click",l.bind(this.closeSpecialRatesSection,this)),this.$parent.$el.find("input[type!='hidden'], a, div[tabindex = '0']").on("focusin",l.debounce(this.closeSpecialRatesSection.bind(this),250))),this.countRatesSelected(),this.initScroller()},createTakeOverScreen:function(e,t,i){if(this.suppressTakeOver)this.takeoverScreen={isActive:!1};else{var a=this,r=o.TAKEOVER_VARIATION[this.$parent.getTakeOverVariation()],l=this.$parent.getTakeOverVariation();this.takeoverScreen=s.create({$el:e,headerLabel:t,transition_speed:n.SEARCH_FORM.TAKE_OVER_SPEED,keepOverflowHidden:r.KEEP_OVERFLOW_HIDDEN,isNotRetainDisplayAttribute:!0,customHeader:function(){this.$el.prepend('<div class="page-take-over-header"><span class="back-btn"></span>'+this.headerLabel+'<a class="done_button" href="#">'+i+"</a></div>"),a.addCustomHeaderStyle||this.$el.find(".page-take-over-header").css(o.TAKEOVER_HEADER_STYLING)},beforeShow:function(){var e=a.$el.find(".js-toggle");e.addClass("is-active"),e.next(".js-toggle-container").slideToggle(),l===n.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS&&a.$el.closest(".mfp-wrap").css("overflow","hidden")},afterHide:function(){a.$el.find(".js-toggle-container").css("display","none"),a.$el.find(".js-toggle").removeClass("is-active"),a.$el.find(".m-dropdown-trigger").removeClass("dropdown-is-active"),l===n.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS&&a.$el.closest(".mfp-wrap").css({"overflow-x":"hidden","overflow-y":"scroll"})}})}},hideTakeoverScreen:function(e){e&&e.preventDefault(),this.takeoverScreen.hide()},addTakeover:function(){this.$parent.$el.find(".l-h-toggle").hasClass("is-active")&&!this.suppressTakeOver&&(this.$el.find(".page-take-over-header").show(),this.$el.find(".js-toggle-container").toggle(),this.takeoverScreen.reload(),this.$el.css("z-index","auto"))},removeTakeover:function(){this.$parent.$el.find(".l-h-toggle").hasClass("is-active")&&!this.suppressTakeOver&&(this.takeoverScreen.remove(),this.$el.find(".special-rates-section").css({padding:"0",height:"auto"}),this.$el.find(".code-container").css("padding","0 20px 10px 20px"),this.$el.css("z-index","1"),this.$el.find(".js-toggle").trigger("click"))},closeSpecialRatesSection:function(e){var t=this.$el;t.is(e.target)||0!==t.has(e.target).length&&!this.$el.find(e.target).hasClass("l-back-icon")||(this.$el.find(".js-toggle-container").slideUp(),t.find(".js-toggle").removeClass("is-active"),this.$dropdownIcon.removeClass(this.options.dropdownActive).addClass(this.options.dropdownInActive),this.addLRRInHeader(),this.toggleDuplicateCorpCodeMessage(),this.toggleSpecialRateHeaderAriaLabel())},applySelectedRates:function(e){e&&e.preventDefault()&&e.stopPropagation();this.closeSubTakeover(e,!0)},closeSubTakeover:function(e,t){e.stopPropagation();!t&&this.$parent.$clonedParentContainer&&(this.$el.find(".js-toggle-container").replaceWith(this.$parent.$clonedParentContainer),this.$el.find(".js-dropdown-point-checkbox").prop("checked")?this.$el.parents("form").find("#useMultiRateRewardsPoints").val(!0):this.$el.parents("form").find("#useMultiRateRewardsPoints").val(!1),this.toggleUsePointsCheckBox(this.$el.find(".js-dropdown-point-checkbox").parents(".js-select-rate")),this.populateSpecialRateField(),this.$el.find(".js-toggle-container").hasClass("single-rate-container")&&this.singleRateHintText&&(this.$el.find(".l-h-toggle-text").html(this.singleRateHintText),this.$parent.$el.find(".js-userewards-checkbox").prop("checked",this.cachedUsePointState))),this.$dropdownIcon.removeClass(this.options.dropdownActive).addClass(this.options.dropdownInActive),this.$el.find(".js-special-rates-header").removeClass("is-active"),this.$el.find(".js-toggle-container").hide(),this.$parent.resetCachedProperties(e,!0)},toggleSpecialRates:function(e){e.preventDefault();var t=this.$el.find(e.currentTarget),i=this.$el.data("collapsedLabel");this.$parent.responsiveUtils.isMobileOrTablet()&&!this.suppressTakeOver?this.takeoverScreen.init():(t.toggleClass("is-active"),t.hasClass("is-active")?(this.$dropdownIcon.removeClass(this.options.dropdownActive).addClass(this.options.dropdownInActive),this.$corpdropdownIcon.removeClass(this.options.dropdownActive),this.$el.find(".corp-rate-code").addClass("is-hidden"),t.attr("aria-label",this.$el.data("expandedLabel")),this.$el.find(".corp-dropDown-state").text(i)):(this.$dropdownIcon.addClass(this.options.dropdownActive).removeClass(this.options.dropdownInActive),t.attr("aria-label",i)),this.$parent.disableSubTakeover||!this.$parent.responsiveUtils.isMobileOrTablet()?t.next(".js-toggle-container").slideToggle():(t.next(".js-toggle-container").show(),this.$parent.$clonedParentContainer=t.next(".js-toggle-container").clone(),t.next(".js-toggle-container").find("button.js-apply-btn.l-submit-selection").removeClass("l-submit-selection"),t.next(".js-toggle-container").hasClass("single-rate-container")&&(this.singleRateHintText=this.$el.find(".l-h-toggle-text").text()),this.cachedUsePointState=this.$parent.$el.find(".js-userewards-checkbox").prop("checked"),this.$parent.expandSubTakeover(e,!0))),this.addLRRInHeader(),this.toggleDuplicateCorpCodeMessage()},openDropDown:function(e){var t=this.$el.find(e.currentTarget);e.preventDefault(),t.hasClass("is-active")?this.$dropdownIcon.addClass(this.options.dropdownActive).removeClass(this.options.dropdownInActive):this.$dropdownIcon.removeClass(this.options.dropdownActive).addClass(this.options.dropdownInActive)},codeInputToggle:function(e){var t=r(e.currentTarget),i=this,a=t.find('input[type="radio"]');a.length>0&&(e.preventDefault(),a.prop("checked",!0),t.parents().find(".l-h-toggle-cont .is-checked").removeClass("is-checked"),t.parent().addClass("is-checked"),t.parents().find(".l-h-toggle-cont .special-rate-code").addClass("is-hidden").hide(),this.$parent.$el.find(".js-h-toggle-checkbox").parents().find(".l-userewards-checkmark").removeClass("t-icon-checkmark"),this.$parent.$el.find(".js-h-toggle-checkbox").prop("checked",!1).attr("checked",!1),this.onItemClicked&&this.onItemClicked(t),"corp"==a.val()||"group"==a.val()?a.prop("checked")?(t.parents(".special-rates-section").find("."+a.val()+"-code").show().removeClass("is-hidden"),t.parents(".special-rates-section").find("."+a.val()+"-code").find("input:text").focus()):t.parents(".special-rates-section").find("."+a.val()+"-code").addClass("is-hidden"):(this.closeToggle(a,a.val()),this.$el.find(".special-rate-code").addClass("is-hidden").hide(),l.defer((function(){i.$el.find(".js-special-rates-header").focus().attr("tabIndex","0")}))));i.initScroller()},onBlurEvent:function(e){if(e&&this.$el.find(e.relatedTarget).hasClass("js-h-toggle"))return!1;var t=this.$el.find(".l-h-toggle-opt").find("#"+this.$parent.idPrefix+"_"+this.$el.find(e.currentTarget).attr("data-special-rate-type"));this.closeToggle(t,t.val())},closeToggle:function(e,t,i){var a=this.$el.find(".l-h-toggle"),s=this.$el.find(".special-rates-section"),n=a.find(".l-h-toggle-text");if("none"==t)n.html(n.data("defaultheader")),this.$el.find(".js-h-toggle-checkbox").parents("ul").find(".radio-secondary-input").val(""),this.$el.find(".js-h-toggle-checkbox").prop("checked",!0)&&n.html(n.data("defaultheader")),this.$parent.responsiveUtils.isMobileOrTablet()||(i?(s.hide(),this.$el.find(".js-special-rates-header").removeClass("is-active")):a.click());else{if("corp"==t||"group"===t)if(""==this.$el.find(".special-rate-code").find("input[data-special-rate-type="+t+"]").val()){if(!this.$parent.responsiveUtils.isMobileOrTablet()){e.parents(".l-h-toggle-cont").find(".special-rate-code").hide("fast");var o=this.$el.find(".search-clusterCode-none").prop("checked",!0).parents(".l-h-toggle-opt");o.addClass("is-checked"),o.parent().find(".is-checked").not(o).removeClass("is-checked"),n.html(n.data("defaultheader"))}}else n.html(this.$el.find(".special-rate-code").find("input[data-special-rate-type="+t+"]").val());else n.html(e.siblings("legend").find(".cluster-code-label").html().trim());this.$parent.responsiveUtils.isMobileOrTablet()||"corp"!==t&&"group"!==t&&a.click()}},initScroller:function(){var e;e=this.$el.find("ul").hasClass("l-special-rates-list")?"l-multi-special-rate-max-height scrollbar-outer":"l-special-rate-max-height scrollbar-outer",this.scrollbar||this.$parent.responsiveUtils.isMobileOrTablet()||(this.scrollbar=d.create({$el:this.$el,$scrollBarTarget:this.$el.find(this.options.scrollBarTarget),$className:e}),this.scrollbar.init())},rateSelected:function(e){var t=r(e.currentTarget),i=t.find('input[type="checkbox"]'),a=t.find(".rate-label").text(),s=this.$el.data("checkedLabel"),n=this.$el.data("notCheckedLabel");if(!t.hasClass("is-disable")&&"LABEL"!==e.target.nodeName){if("INPUT"!==e.target.nodeName?(t.toggleClass("is-checked"),i.prop("checked",!i.prop("checked"))):t.toggleClass("is-checked"),t.hasClass("is-checked")?t.find(".l-special-rate-label .lb").text(a+" "+s):t.find(".l-special-rate-label .lb").text(a+" "+n),!t.hasClass("lowest-regular-rate-container")&&i.prop("checked")&&this.lowestRateEnable(),t.hasClass("l-special-rate")){var o=this.getEnteredClusterCode();this.updateClusterCode(o)}else if(t.hasClass("corp-container"))this.toggleCorpCodeContainer(t);else{var l=this.getEnteredCorpCode(null,!0);this.updateCorpCode(l)}if("multiRatesUsePoints"===i.val()&&(i.prop("checked")?this.$el.parents("form").find("#useMultiRateRewardsPoints").val(!0):this.$el.parents("form").find("#useMultiRateRewardsPoints").val(!1)),"lowestRegRate"===i.val()){var d=this.$el.parents("form").find("#lowestRegularRate");i.prop("checked")?d.val(!0):d.val(!1)}this.toggleSpecialRateHeaderAriaLabel(),this.toggleDuplicateCorpCodeMessage(),this.toggleUsePointsCheckBox(t)}},toggleCorpCodeContainer:function(e,t){var i=this.$el.find(".corp-rate-code"),a=this.$el.data("collapsedLabel"),s=this.$el.data("expandedLabel");!t&&i.hasClass("is-hidden")?(this.$corpdropdownIcon.addClass(this.options.dropdownActive),e.find(".corp-dropDown-state").text(s)):(this.$corpdropdownIcon.removeClass(this.options.dropdownActive),e.find(".corp-dropDown-state").text(a)),!t&&i.toggleClass("is-hidden"),t&&i.addClass("is-hidden")},toggleUsePointsCheckBox:function(e){e&&e.find(".js-dropdown-point-checkbox").length&&this.$parent.$el.find(".js-horizontal-form-checkbox").prop("checked",e.hasClass("is-checked")),this.$parent.$el.find(".js-horizontal-form-checkbox").prop("disabled",this.$el.find(".js-dropdown-point-checkbox").prop("disabled")),this.$el.find(".js-dropdown-point-checkbox").prop("disabled")?this.$parent.$el.find(".js-use-rewards").addClass("l-userrewards-checkmark-disabled"):this.$parent.$el.find(".js-use-rewards").removeClass("l-userrewards-checkmark-disabled")},toggleMultipleRateCorpCodeSection:function(e){var t=this.$el.find(".corp-container");e?t.parent().removeClass("disable-corp-code"):(this.toggleCorpCodeContainer(t,!0),t.parent().addClass("disable-corp-code"))},countRatesSelected:function(e){var t=0,i=!1,a=this.$el.find(".js-info-message"),s=this.$el.parents("form").find("#multiRateMaxCount").val(),n=this.$el.find(".js-add-btn"),o=this.$el.find(".lowest-regular-rate-container");this.$el.find('input[type="checkbox"]:not(:checked)');this.$el.find(".js-count-rates-selected:checked").each((function(){t++,r(this).closest(".js-select-rate").hasClass("lowest-regular-rate-container")||!1,r(this).hasClass("js-corp-code")&&(i=!0)})),i&&this.lowestRateEnable(),o.hasClass("is-checked")&&o.find(".js-lowest-regular-rate-checkbox").prop("checked",!0),t===1*s?(e||n.attr("aria-label",n.text()+" "+this.$el.data("disabledLabel")),this.toggleRateLimitMessage(e),this.$el.find(".js-select-rate:not(.is-checked, .corp-container), .js-add-btn").addClass("is-disable"),this.$el.find('input[type="checkbox"]:not(:checked, .js-corp-rate-checkbox)').prop("disabled",!0).addClass("is-disable"),this.$el.find(".l-search-corp").prop("disabled",!0).addClass("is-disable"),this.toggleMultipleRateCorpCodeSection(!1),a.addClass("t-error-message js-max-limit-message").html(this.$el.data("maxRateLimitMessage"))):a.hasClass("js-max-limit-message")&&(this.$el.find(".js-select-rate:not(.is-checked, .corp-container), .js-add-btn").removeClass("is-disable"),this.$el.find('input[type="checkbox"]:not(:checked, .js-corp-rate-checkbox)').prop("disabled",!1).removeClass("is-disable"),this.$el.find(".l-search-corp").prop("disabled",!1).removeClass("is-disable"),this.toggleMultipleRateCorpCodeSection(!0),a.removeClass("t-error-message js-max-limit-message").html(this.$el.data("rateSelectionMessage")),this.$el.find(".js-add-btn").removeAttr("aria-label")),this.toggleUsePointsCheckBox()},lowestRateEnable:function(){var e=this.$el.find(".lowest-regular-rate-container");e.hasClass("is-disable")&&(e.removeClass("is-disable"),e.find(".js-lowest-regular-rate-checkbox").prop("disabled",!1))},getEnteredClusterCode:function(){var e={label:[],value:[]};return this.$el.find(".js-rate-checkbox:checked").each((function(){e.value.push(r(this).val()),e.label.push(r(this).siblings(".rate-label").text())})),e},updateClusterCode:function(e){this.$el.parents("form").find("#multiRateClusterCodes").val(e.value.join()),this.populateSpecialRateField(),this.countRatesSelected()},addCorporateCode:function(e){e.preventDefault();var t=this,i=t.$el.find(".js-add-btn"),a=i.siblings('input[type="text"]'),s=a.val().trim();if(!i.hasClass("is-disable")){if(!s)return a.focus(),void t.toggleDuplicateCorpCodeMessage();var n=t.getEnteredCorpCode(s),o=Object.values(n).reduce((function(e,t){return e.concat(t)}));if(!(o=o.map((function(e){return e.toLowerCase().trim()}))).includes(s.toLowerCase().trim())){var r=t.templates.newCorpCode({newCorpCodeValue:s,checkedLabel:t.$el.data("checkedLabel"),deleteLabel:t.$el.data("deleteLabel")});i.closest(".l-rate-item-container").after(r),n.selected.push(s),setTimeout((function(){t.$el.find('input[type="text"]').attr("aria-label",s+" "+t.$el.data("addedLabel"))}),100)}a.prev().text(""),a.val("").focus(),t.updateCorpCode(n,s),t.initScroller(),setTimeout((function(){a.removeAttr("aria-label")}),2500),t.toggleSpecialRateHeaderAriaLabel()}},updateCorpCode:function(e,t){var i=[],a=this.$el.parents("form").find("#multiRateCorpCodesEntered");this.$el.parents("form").find("#multiRateCorpCodes").val(e.selected.join()),this.$el.find(".js-corp-code").each((function(){i.push(r(this).siblings(".rate-label").text())})),i?a.val(i.join()):a.val(""),this.populateSpecialRateField(),this.countRatesSelected(t)},getEnteredCorpCode:function(e,t){var i=this,a={selected:[],unselected:[]},s=e?e.toLowerCase().trim():"",n=i.$el.find(".js-corp-code"),o=i.$el.find('input[type="text"]'),l=i.$el.data("duplicateErrorMessage");if(n.length){var d=[];n.each((function(){d.push(r(this).val().toLowerCase().trim())}));var c=d.indexOf(s);if(t);else if(c>-1){var h=r(n[c]);o.val("").focus(),h.prop("checked")?(setTimeout((function(){o.attr("aria-label",l)}),200),i.$el.find(".js-info-message").addClass("t-error-message").html(l)):(h.prop("checked",!0),h.closest(".js-select-rate").addClass("is-checked"),setTimeout((function(){o.attr("aria-label",s+" "+i.$el.data("addedLabel"))}),200))}else setTimeout((function(){o.attr("aria-label",s+" "+i.$el.data("addedLabel"))}),200);n.each((function(){var e=r(this).val();r(this).prop("checked")?a.selected.push(e):a.unselected.push(e)}))}else s&&o.attr("aria-label",s+" "+i.$el.data("addedLabel"));return a},closeDropDown:function(e){e.preventDefault(),this.$el.find(".js-toggle-container").slideUp(),this.$el.find(".js-toggle").removeClass("is-active"),this.$dropdownIcon.removeClass(this.options.dropdownActive).addClass(this.options.dropdownInActive),this.addLRRInHeader(),this.toggleDuplicateCorpCodeMessage(),this.$parent.disableSubTakeover&&this.applySelectedRates(e)},removeCode:function(e){e.stopPropagation();target=r(e.currentTarget),deletedLabel=this.$el.data("deletedLabel"),applyBtn=this.$el.find(".js-apply-btn"),nextRateAvailable=target.parent().next(),rate=nextRateAvailable.find(".l-special-rate-label .lb").text(),codeToBeRemoved=target.find(".js-code-label").html(),target.prop("disabled")||(nextRateAvailable.length?(nextRateAvailable.find(".l-special-rate-label .lb").text(codeToBeRemoved+" "+deletedLabel),nextRateAvailable.find(".js-select-rate").focus()):applyBtn.attr("aria-label",codeToBeRemoved+" "+deletedLabel).focus(),target.closest(".l-rate-item-container").remove(),setTimeout((function(){nextRateAvailable.length?nextRateAvailable.find(".l-special-rate-label .lb").text(rate):applyBtn.attr("aria-label",applyBtn.text())}),1500),this.updateCorpCode(this.getEnteredCorpCode(null,!0)),this.toggleSpecialRateHeaderAriaLabel(),this.toggleDuplicateCorpCodeMessage())},populateSpecialRateField:function(){var e=[],t=this.$el.parents("form").find(".l-h-toggle .l-h-special-rates");this.$el.find('input[type="checkbox"]:checked').each((function(){e.push(r(this).siblings(".rate-label").text())})),e.length?(t.text(e.join(", ")),t.show(),this.$el.parents("form").find(".l-h-toggle .l-h-toggle-text").hide()):(t.text("").hide(),this.$el.parents("form").find(".l-h-toggle .l-h-toggle-text").show())},toggleRateLimitMessage:function(e){var t,i=this.$el.find(":focus"),a=i.find(".l-special-rate-label .lb"),s=this.$el.data("maxRateLimitMessage"),n=this.$el.find(".js-add-btn"),o=this.$el.data("disabledLabel"),r=this.$el.data("addedLabel");a.length?(t=i.find(".l-special-rate-label .lb").text(),setTimeout((function(){a.text(s)}),500),setTimeout((function(){a.text(t)}),1e3)):(n.focus(),e&&n.attr("aria-label",e+" "+r),setTimeout((function(){n.attr("aria-label",s)}),800),setTimeout((function(){n.attr("aria-label",n.text()+" "+o)}),1500))},toggleDuplicateCorpCodeMessage:function(e){var t=this.$el.find(".js-info-message");t.text()===this.$el.data("duplicateErrorMessage")&&t.removeClass("t-error-message").html(this.$el.data("rateSelectionMessage"))},toggleInputLabel:function(e){var t=this,i=r(e.target);i.val()?i.prev().text(""):setTimeout((function(){i.prev().text(t.$el.data("enterCodeLabel"))}),500)},toggleSpecialRateHeaderAriaLabel:function(){var e,t=this.$el.find(".js-special-rates-header"),i=this.$el.data("selectedLabel");e=this.$el.find(".js-special-rates-header").hasClass("is-active")?this.$el.data("expandedLabel"):this.$el.data("collapsedLabel"),this.$el.data("multiRateSearch")&&(t.find(".l-h-special-rates").text()?this.$el.find(".js-special-rates-header").attr("aria-label",this.$el.find(".field-title").text()+" "+t.find(".l-h-special-rates").text()+" "+i+" "+e):this.$el.find(".js-special-rates-header").attr("aria-label",this.$el.find(".field-title").text()+" "+this.$el.data("rateSelectionMessage")+" "+e))},addLRRInHeader:function(){if(!this.$el.find('input[type="checkbox"]:checked').length){var e=this.$el.find(".lowest-regular-rate-container");e.addClass("is-checked"),e.find(".l-special-rate-label .lb").text(e.find(".rate-label").text()+" "+this.$el.data("checkedLabel")),e.find('input[type="checkbox"]').prop("checked",!0),this.populateSpecialRateField()}}});e.exports=c},43:function(e,t,i){var a=i(0),s=i(20);e.exports=s.extend({options:{destinationAddress:{latitude:"destinationAddress.latitude",longitude:"destinationAddress.longitude",city:"destinationAddress.city",stateProvince:"destinationAddress.stateProvince",country:"destinationAddress.country"}},events:{"click .js-single-search-incity":"inCityClickHandler","click .js-single-search-nearaddress":"nearAddressClickHandler","click .js-single-search-propertySearch":"propertySearchClickHandler","keydown .js-single-search-incity":"inCityClickHandler","keydown .js-single-search-nearaddress":"nearAddressClickHandler","keydown .js-single-search-propertySearch":"propertySearchClickHandler"},init:function(){var e=this;e.defineGlobalVariables(),e.subscribeDOMEvents(),e.$el.tabs({activate:function(e,t){t.oldPanel.addClass("ui-tabs-hide"),t.newPanel.removeClass("ui-tabs-hide"),t.oldTab.removeClass("ui-tabs-selected"),t.newTab.addClass("ui-tabs-selected")},create:function(t,i){i.tab.parent().find("li,a").removeAttr("tabindex").removeClass("tab-active"),i.tab.addClass("ui-tabs-selected"),"true"===e.$el.find(".single-search-type").val()?(e.$el.find(".js-single-search-propertySearch").length?e.setPropertySearchAttributes():e.setNearAddressAttributes(),e.$el.tabs({active:e.$el.find(".js-single-search-nearaddress").parent().index()})):e.setInCityAttributes()}})},defineGlobalVariables:function(){"searchForm-findAndReserve"!==this.currentTemplate?(this.searchForm=this.$el.parents(".m-search-form").length?this.$el.parents(".m-search-form"):this.$el,this.locationTrigger=a(".location-trigger"),this.meetingEventEditSearchLocation=a(".m-search-tabs #meetingevent-city-airport #editsearch-location"),this.meetingEventSingleSearchDestination=a(".m-search-tabs #meetingevent-city-airport .single-search-destination")):this.searchForm=this.$el,this.singleSearchLocation=this.searchForm.find(".single-search-location"),this.searchType=this.searchForm.find('input[name="searchType"]'),this.singleSearchLocationTitleLabel=this.searchForm.find(".single-search-location-title label"),this.singleSearchDestination=this.searchForm.find(".single-search-destination"),this.searchTabs=this.searchForm.find(".ui-tabs-nav li")},setInCityAttributes:function(){this.parent.autoCompleteHandler.$input=this.$el.find(".single-search-destination"),this.searchType.attr({value:"InCity"}),this.singleSearchLocation.css("display","none"),this.searchTabs.removeAttr("tabindex"),this.singleSearchDestination.css("display","block")},setNearAddressAttributes:function(){this.parent.autoCompleteHandler.$input=this.$el.find(".single-search-location"),this.searchType.attr({value:"NearAddress"}),this.singleSearchLocation.css("display","block"),this.searchTabs.removeAttr("tabindex"),this.singleSearchDestination.css("display","none")},setPropertySearchAttributes:function(){this.parent.autoCompleteHandler.$input=this.$el.find(".single-search-location"),this.searchType.attr({value:"InHotelSearch"}),this.singleSearchLocation.css("display","block"),this.searchTabs.removeAttr("tabindex"),this.singleSearchDestination.css("display","none")},inCityClickHandler:function(e){13!==(e.keyCode?e.keyCode:e.which)&&"click"!==e.type||(this.resetInputs(this.parent.autoCompleteHandler.inCityInputs),this.setInCityAttributes(),this.searchForm.find('input[name="destinationAddress.addressLine1"],input[name="destinationAddress.city"],input[name="destinationAddress.stateProvince"], input[name="destinationAddress.country"], input[name="destinationAddress.postalCode"]').val(""),this.singleSearchLocationTitleLabel.attr("for","editsearch-location"),this.searchForm.find(".meetings-near-address-search").css("display","block"),this.meetingEventEditSearchLocation.hasClass("hidden")&&this.meetingEventSingleSearchDestination.css("display","none"),this.locationTrigger.css("display","block"),this.searchForm.find("input#city-airport").attr({name:this.options.destinationAddress.city}),this.searchForm.find("input.destinationAddress.stateProvince").attr({name:this.options.destinationAddress.stateProvince}),this.searchForm.find("input.destinationAddress.country").attr({name:this.options.destinationAddress.country}),this.searchForm.find(".search-locality,.search-adminDistrict,.search-countryRegion").attr({name:""}))},nearAddressClickHandler:function(e){13!==(e.keyCode?e.keyCode:e.which)&&"click"!==e.type||(this.resetInputs(this.parent.autoCompleteHandler.addressInputs),this.setNearAddressAttributes(),this.singleSearchLocationTitleLabel.attr("for","editsingle-location"),this.meetingEventEditSearchLocation.hasClass("hidden")||this.meetingEventSingleSearchDestination.css("display","block"),this.locationTrigger.css("display","none"),this.searchForm.find("input#city-airport,input.destinationAddress.stateProvince,input.destinationAddress.country").attr({name:""}),this.searchForm.find(".search-locality").attr({name:this.options.destinationAddress.city}),this.searchForm.find(".search-adminDistrict").attr({name:this.options.destinationAddress.stateProvince}),this.searchForm.find(".search-countryRegion").attr({name:this.options.destinationAddress.country}))},propertySearchClickHandler:function(e){if((13===(e.keyCode?e.keyCode:e.which)||"click"===e.type)&&(this.resetInputs(),this.setPropertySearchAttributes(),this.singleSearchLocationTitleLabel.attr("for","editsingle-location"),this.meetingEventEditSearchLocation.hasClass("hidden")||this.meetingEventSingleSearchDestination.css("display","block"),this.locationTrigger.css("display","none"),this.searchForm.find("input#city-airport,input#destinationAddress.stateProvince,input#destinationAddress.country").attr({name:""}),this.searchForm.find(".search-locality").attr({name:this.options.destinationAddress.city}),this.searchForm.find(".search-adminDistrict").attr({name:this.options.destinationAddress.stateProvince}),this.searchForm.find(".search-countryRegion").attr({name:this.options.destinationAddress.country}),this.searchForm.find('input[name="associateViewFlag"]').length)){var t=this.searchForm.find(".js-hotel-search");t.length>1&&""===t.val()&&t[1].dataset&&t[1].dataset.defaultPropertyCode&&(a(t[1]).val(t[1].dataset.defaultPropertyName),this.searchForm.find(".search-property-code").val(t[1].dataset.defaultPropertyCode))}},resetInputs:function(e){var t=this;t.parent.autoCompleteHandler.resetInputs(),_.forEach(e,(function(e,i){t.parent.autoCompleteHandler.$parent.$el.find(t.parent.autoCompleteHandler.options.inputs[i]).val(e||"")}),t)}})},44:function(e,t,i){var a=i(2),s=(i(0),a.extend({validateMarshaCode:function(e,t,i,a,s,n){_.bind(i,t)(s)}}));e.exports=s},45:function(e,t,i){i(0),i(1),i(7),i(3);function a(e){this.$el=e;var t=this.$el.find(".js-date-pick-container").data("options");this.monthList=t.monthFullList+","+t.monthShortList,this.weekdayList=t.weekdayFullList+","+t.weekdayShortList}a.prototype.formatDate=function(e,t){t+="";var i=this.monthList.split(","),a=this.weekdayList.split(",");function s(e){return(e<0||e>9?"":"0")+e}var n="",o=0,r="",l="",d=e.getYear()+"",c=e.getMonth()+1,h=e.getDate(),p=e.getDay(),u=e.getHours(),f=e.getMinutes(),m=e.getSeconds(),g=new Object;for(d.length<4&&(d=""+(d-0+1900)),g.y=""+d,g.yyyy=d,g.tttt=d+543,g.yy=d.substring(2,4),g.M=c,g.MM=s(c),g.MMM=i[c-1],g.NNN=i[c+11],g.d=h,g.dd=s(h),g.E=a[p+7],g.EE=a[p],g.H=u,g.HH=s(u),g.h=0==u?12:u>12?u-12:u,g.hh=s(g.h),g.K=u>11?u-12:u,g.k=u+1,g.KK=s(g.K),g.kk=s(g.k),g.a=u>11?"PM":"AM",g.m=f,g.mm=s(f),g.s=m,g.ss=s(m);o<t.length;){for(r=t.charAt(o),l="";t.charAt(o)==r&&o<t.length;)l+=t.charAt(o++);null!=g[l]?n+=g[l]:n+=l}return n},a.prototype.getDateFromFormat=function(e,t){e+="",t+="";var i,a,s=this.monthList.split(","),n=this.weekdayList.split(","),o=0,r=0,l="",d="",c=new Date,h=c.getFullYear(),p=c.getMonth()+1,u=1,f=c.getHours(),m=c.getMinutes(),g=c.getSeconds(),v="";function y(e,t,i,a){for(var s=a;s>=i;s--){var n=e.substring(t,t+s);if(n.length<i)return null;if(b(n))return n}return null}function b(e){for(var t=0;t<e.length;t++)if(-1=="1234567890".indexOf(e.charAt(t)))return!1;return!0}for(;r<t.length;){for(l=t.charAt(r),d="";t.charAt(r)==l&&r<t.length;)d+=t.charAt(r++);if("yyyy"==d||"yy"==d||"y"==d){if("yyyy"==d&&(i=4,a=4),"yy"==d&&(i=2,a=2),"y"==d&&(i=2,a=4),null==(h=y(e,o,i,a)))return 0;o+=h.length,2==h.length&&(h=h>70?h-0+1900:h-0+2e3)}else if("tttt"==d){if(null==(h=y(e,o,4,4)))return 0;o+=(h-=543).length}else if("MMM"==d||"NNN"==d){p=0;for(var $=0;$<s.length;$++){var C=s[$];if(e.substring(o,o+C.length).toLowerCase()==C.toLowerCase()&&("MMM"==d||"NNN"==d&&$>11)){(p=$+1)>12&&(p-=12),o+=C.length;break}}if(p<1||p>12)return 0}else if("EE"==d||"E"==d)for($=0;$<n.length;$++){var k=n[$];if(e.substring(o,o+k.length).toLowerCase()==k.toLowerCase()){o+=k.length;break}}else if("MM"==d||"M"==d){if(null==(p=y(e,o,d.length,2))||p<1||p>12)return 0;o+=p.length}else if("dd"==d||"d"==d){if(null==(u=y(e,o,d.length,2))||u<1||u>31)return 0;o+=u.length}else if("hh"==d||"h"==d){if(null==(f=y(e,o,d.length,2))||f<1||f>12)return 0;o+=f.length}else if("HH"==d||"H"==d){if(null==(f=y(e,o,d.length,2))||f<0||f>23)return 0;o+=f.length}else if("KK"==d||"K"==d){if(null==(f=y(e,o,d.length,2))||f<0||f>11)return 0;o+=f.length}else if("kk"==d||"k"==d){if(null==(f=y(e,o,d.length,2))||f<1||f>24)return 0;o+=f.length,f--}else if("mm"==d||"m"==d){if(null==(m=y(e,o,d.length,2))||m<0||m>59)return 0;o+=m.length}else if("ss"==d||"s"==d){if(null==(g=y(e,o,d.length,2))||g<0||g>59)return 0;o+=g.length}else if("a"==d){if("am"==e.substring(o,o+2).toLowerCase())v="AM";else{if("pm"!=e.substring(o,o+2).toLowerCase())return 0;v="PM"}o+=2}else{if(e.substring(o,o+d.length)!=d)return 0;o+=d.length}}if(o!=e.length)return 0;if(2==p)if(h%4==0&&h%100!=0||h%400==0){if(u>29)return 0}else if(u>28)return 0;return(4==p||6==p||9==p||11==p)&&u>30?0:(f<12&&"PM"==v?f=f-0+12:f>11&&"AM"==v&&(f-=12),new Date(h,p-1,u,f,m,g).getTime())},a.prototype.getDateFromMultipleLocales=function(e,t){var i=e;/^([\D]*)([\d]{1,2})\s*([\S]*)\s*$/.test(e)&&(i=i+" "+(new Date).getFullYear());var a=new Date(i);return isNaN(a)&&(a=0===(a=(a=(a=(a=(a=this.getDateFromFormat(e,t.format))||this.getDateFromFormat(e,t.formatShort))||this.getDateFromFormat(e,t.formatNoDay))||this.getDateFromFormat(e,t.formatShortNoDay))||this.getDateFromFormat(e,t.formatShortNoDay))?void 0:new Date(a)),isNaN(a)===a?void 0:a},a.prototype.localeObj=function(e){return{DE:{labelMonthPrev:"zurück",labelMonthNext:"Vor",firstDay:0,format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd.MM.yyyy",formatCalc:"MM/dd/yyyy"},AU:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",firstDay:0,format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy"},GB:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",firstDay:0,format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy"},US:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, NNN d, yyyy",formatShort:"E, NNN d",formatNoDay:"NNN d, yyyy",formatShortNoDay:"NNN d",formatSubmit:"MM/dd/yyyy",formatCalc:"MM/dd/yyyy",firstDay:1},FR:{labelMonthPrev:"Précédent",labelMonthNext:"Suivant",firstDay:0,format:"E d NNN yyyy",formatShort:"E d NNN",formatNoDay:"d NNN yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy"},ES:{labelMonthPrev:"Ant",labelMonthNext:"Sig",firstDay:0,format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy"},JP:{labelMonthPrev:"前",labelMonthNext:"次",firstDay:1,format:"yyyy年 NNN d日 (E)",formatShort:"MMM d日 (E)",formatNoDay:"yyyy年 NNN d日",formatShortNoDay:"MMM d日",formatSubmit:"yyyy/MM/dd",formatCalc:"MM/dd/yyyy"},CN:{labelMonthPrev:"上月",labelMonthNext:"下月",firstDay:1,format:"yyyy年 NNN d日, E",formatShort:"NNN d日, E",formatNoDay:"yyyy年 NNN d日",formatShortNoDay:"NNN d日",formatSubmit:"yyyy-MM-dd",formatCalc:"MM/dd/yyyy",formatLength:12},BR:{labelMonthPrev:"Anterior",labelMonthNext:"Pr&oacute;ximo",firstDay:1,format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy"},IT:{labelMonthPrev:"Mese precedente",labelMonthNext:"Prossimo mese",firstDay:0,format:"E, d NNN, yyyy",formatShort:"E, d NNN ",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN ",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy"},KR:{labelMonthPrev:"이전 달",labelMonthNext:"다음 달",firstDay:1,format:"yyyy년 MM월 dd일",formatShort:"NNN d일, E",formatNoDay:"yyyy년 MM월 dd일",formatShortNoDay:"NNN d일",formatSubmit:"yyyy.MM.dd",formatCalc:"MM/dd/yyyy"},RU:{labelMonthPrev:"Предыдущий месяц",labelMonthNext:"В следующем месяце",firstDay:0,format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd.MM.yyyy",formatCalc:"MM/dd/yyyy"},TW:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"yyyy年 NNN d日, E",formatShort:"NNN d日, E",formatNoDay:"yyyy年 NNN d日",formatShortNoDay:"NNN d日",formatSubmit:"MM/dd/yyyy",formatCalc:"MM/dd/yyyy",firstDay:0},AE:{labelMonthPrev:"الشهر السابق",labelMonthNext:"الشهر القادم",firstDay:0,format:"Ed, d MMM, yyyy ",formatShort:"E, NNN d",formatNoDay:"d MMM, yyyy ",formatShortNoDay:"NNN d",formatSubmit:"yyyy/MM/dd",formatCalc:"MM/dd/yyyy"},NL:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E d NNN, yyyy",formatShort:"E d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy",firstDay:0},VN:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy",firstDay:0},TR:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, NNN d, yyyy",formatShort:"E, NNN d",formatNoDay:"NNN d, yyyy",formatShortNoDay:"NNN d",formatSubmit:"dd.MM.yyyy",formatCalc:"MM/dd/yyyy",firstDay:0},PL:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, NNN d, yyyy",formatShort:"E, NNN d",formatNoDay:"NNN d, yyyy",formatShortNoDay:"NNN d",formatSubmit:"dd.MM.yy",formatCalc:"MM/dd/yyyy",firstDay:0},TH:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E d NNN, tttt",formatShort:"E d NNN",formatNoDay:"d NNN, tttt",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy",firstDay:1},ID:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy",firstDay:1},GR:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"EE, d MMM, yyyy",formatShort:"E, d NNN",formatNoDay:"d MMM, yyyy",formatShortNoDay:"d MMM",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy",firstDay:0},DK:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E. d. NNN yyyy",formatShort:"E. d. NNN",formatNoDay:"d. NNN, yyyy",formatShortNoDay:"d. NNN",formatSubmit:"dd/MM/y",formatCalc:"MM/dd/yyyy",firstDay:0},SE:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, d NNN yyyy",formatShort:"E, d NNN",formatNoDay:"d NNN, yyyy",formatShortNoDay:"d NNN",formatSubmit:"dd/MM/yyyy",formatCalc:"MM/dd/yyyy",firstDay:0},FI:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E d. NNN yyyy",formatShort:"E d. NNN",formatNoDay:"d. NNN yyyy",formatShortNoDay:"d. NNN",formatSubmit:"d.M.y",formatCalc:"MM/dd/yyyy",firstDay:0},NO:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E d. NNN yyyy",formatShort:"E d. NNN",formatNoDay:"d. NNN yyyy",formatShortNoDay:"d .NNN",formatSubmit:"dd.MM.yy",formatCalc:"MM/dd/yyyy",firstDay:0},IL:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"E, d NNN, yyyy",formatShort:"E, d NNN",formatNoDay:"NNN d, yyyy",formatShortNoDay:"NNN d",formatSubmit:"dd/MM/yy",formatCalc:"MM/dd/yyyy",firstDay:1}}[e]},e.exports=a},47:function(e,t,i){var a=i(0),s=i(1),n=i(48),o=i(49),r=i(14),l=i(3),d=i(11),c=i(4),h=(i(7),{SEC_IN_DAY:864e5,allowPastDates:this.allowPastDates,options:{maxDays:355,pickerActive:"picker__input--active",inRangeClass:"t-date-inrange",startDayClass:"t-date-start",endDayClass:"t-date-end",nightsDisplay:".js-no-ofnights",defaultDate:"js-defaultdate",iserror:"is-error",styleClass:"t-box-border",pickerFrame:".picker__frame",alwaysOnTop:!1,alwaysOnTopClass:"l-pos-flex",container:".js-date-pick-container",contActive:"is-active",flexdateTrigger:".js-toggle-flexdate",dropdownTrigger:".m-icon-trigger",dropdownActive:"t-icon-arrow-up",dropdownInActive:"t-icon-arrow-down",inputs:{submitFrom:".js-submit-from",submitTo:".js-submit-to",flexCheck:".js-flex-check",flexLength:".js-flex-input",fromToDate:".js-date-from-to",fromDate:".js-date-from",toDate:".js-date-to"},lang:o.lang,locale:{},txtNight:"",txtNights:"",txtFlexDate:"",txtSpecificDate:""},fromTo:["from","to"],pickerState:"from",flexdateState:"date",footer:{},flex:{},closeOnDocumentClick:!0,closeOnFormFieldsFocus:!0,events:{"change .js-date-from,.js-date-to":"updateDate","keydown .js-date-from, .js-date-to":"keyEvents","click .js-toggle-picker":"toggleBarTrigger","keydown .js-toggle-picker":"toggleBarTrigger"},init:function(){if(this.resetOptions(),this.setProperties(),this.isNonDatedSearch=this.$el.closest(".l-date-picker").data("is-non-dated-search"),this.dateFromData=this.$el.find(".js-date-from").data(),this.initPickaDatePlugin(),this.singleDate){var e=this;e.bindSingleDateEvents&&(e.from.$input.on("focus",(function(t){e.from.$input.pickadate("picker").open()})),e.$el.find(".js-date-from").on("blur",this.updateSingleDate.bind(this)))}else{if(this.bindEvents(),this.subscribeDOMEvents(),this.initFlexDate(),this.initPickerFooter(),this.toggleFlexDate(this,this.flex.$check.attr("checked")?"flex":"date"),this.$parent.responsiveUtils&&this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isMobileOrTablet()?this.loadFlexibleDateForTakeover():(this.initialFlexDateWidth="auto",this.initialMonthBoxWidth=this.$el.find(".js-flex-months-holder").width()),this.suppressTakeOver||this.createTakeOverScreen(this.$el.find(".picker"),this.$el.data("takeover-label"),this.$parent.$el.data("done-button-label")),this.suppressTakeOver)return void(this.takeoverScreen={isActive:!1});if("function"==typeof this.$parent.isAndroidDevice)if(this.$parent.isAndroidDevice()){var t=this;this.$el.find("#length-of-stay-input").on("focus",(function(){t.$el.find(".m-flex-frame-wrapper").css(d.ANDROID_INPUT_FIX)})).on("blur",(function(){t.$el.find(".m-flex-frame-wrapper").css(d.REMOVE_ANDROID_INPUT_FIX)}))}this.$el.find(".js-stepper-input").removeClass("is-hidden")}},updateSingleDate:function(e){var t=this.parseDate(e.target.value)?this.parseDate(e.target.value):this.parseDate(a(e.target).siblings("input[name=checkoutEnteredDate]").val()||a(e.target).siblings("input[name=checkInEnteredDate]").val());t&&!a(e.relatedTarget).hasClass("picker__holder")?this.from.$input.pickadate("picker").set("select",t,{muted:!0}):t||this.from.$input.val("")},updateActiveUnderline:function(e){var t=this,i=this.$el.find(".l-toggle-active");setTimeout((function(){if(e)i.css({left:t.from.$input.position().left,width:0});else if(i&&i.length>0){var a=t.from.$input.add(t.to.$input).filter(":visible."+t.options.pickerActive);a.length>0?i.css({left:a.position().left,width:a.width()}):i.css({left:t.from.$input.position().left,width:0})}}),1)},createTakeOverScreen:function(e,t,i){var a=this,n=d.TAKEOVER_VARIATION[this.$parent.getTakeOverVariation()],o=this.$parent.getTakeOverVariation();this.takeoverScreen=r.create({$el:e,headerLabel:t,transition_speed:l.SEARCH_FORM.TAKE_OVER_SPEED,skipDimensions:!0,keepOverflowHidden:n.KEEP_OVERFLOW_HIDDEN,customHeader:function(){this.$el.prepend('<div class="page-take-over-header"><span class="back-btn"></span>'+this.headerLabel+'<a class="done_button" href="#">'+i+"</a></div>"),a.addCustomHeaderStyle||this.$el.find(".page-take-over-header").css(d.TAKEOVER_HEADER_STYLING),this.$el.find(".done_button").on("click",s.bind(a.hideTakeoverScreen,a))},beforeShow:function(){a.$el.addClass(a.options.contActive),a.$dateFromToPicker.$holder.show(),a.$parent.responsiveUtils&&!a.$parent.responsiveUtils.isDevice()&&a.flex.$monthTrigger.filter(".is-selected").focus(),a.$dateFromToPicker.$root.addClass("picker--opened").attr("aria-hidden","false"),o===l.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS&&a.$el.closest(".mfp-wrap").css("overflow","hidden"),"flex"!==a.flexdateState?a.$el.find(".date-label,.selected-dates").show():a.$el.find(".date-label,.selected-dates").hide()},afterHide:function(){a.$dateFromToPicker.$root.removeClass("picker--opened").removeClass("picker--focused"),a.$dropdownIcon.removeClass(a.options.dropdownActive).addClass(a.options.dropdownInActive),a.$el.removeClass(a.options.contActive),a.$dateFromToPicker.$holder.slideUp(100,(function(){a.from.$input.removeClass(a.options.pickerActive),a.to.$input.removeClass(a.options.pickerActive),a.$el.removeClass(a.options.contActive),a.from.$input.trigger("blur")})),o===l.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS&&a.$el.closest(".mfp-wrap").css({"overflow-x":"hidden","overflow-y":"scroll"}),s.defer((function(){a.$dateFromToPicker.$root.removeAttr("style")}))},backButtonCallback:function(){a.$el.find(".date-label,.selected-dates").hide(),a.$el.find(".js-flex-months-holder").css("width","100%")}})},hideTakeoverScreen:function(e){this.suppressTakeOver||(e&&e.preventDefault(),this.$el.find(".date-label,.selected-dates").hide(),this.takeoverScreen.hide())},addTakeover:function(){this.suppressTakeOver||(this.$dateFromToPicker.$root.hasClass("picker--opened")&&(this.takeoverScreen.reload(),this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isPortrait()?this.$el.find(".picker__holder").css("position","fixed"):this.$el.find(".picker__holder").css("position","relative"),this.$el.find(".page-take-over-header").show()),this.loadFlexibleDateForTakeover())},removeTakeover:function(){if(!this.suppressTakeOver){var e=this;this.$dateFromToPicker.$root.hasClass("picker--opened")&&(this.$el.find(".date-label,.selected-dates").hide(),this.takeoverScreen.remove(),this.$dateFromToPicker.$root.addClass("picker--opened").addClass("picker--focused"),this.$dropdownIcon.addClass(e.options.dropdownActive).removeClass(e.options.dropdownInActive),this.$el.addClass(e.options.contActive),this.$el.find(".js-flex-months-holder").css("width","100%"),this.openFrom(null,e),setTimeout((function(){e.$el.find(".picker__holder").css("position","absolute").show(),e.$parent.$el.find(".js-datepick-container").addClass("is-active")}),500)),e.$el.find(".picker__holder").css("position","absolute"),this.loadFlexibleDateForTakeover(!0)}},loadFlexibleDateForTakeover:function(e){if(!this.suppressTakeOver)if(this.initialFlexDateWidth||(this.initialFlexDateWidth="auto",this.initialMonthBoxWidth=this.$el.find(".js-flex-months-holder").width()),e)this.$el.find(".js-flex-months-holder").width(this.initialFlexDateWidth);else{var t=this.$el.find(".js-flex-months-holder").children().length*(this.initialMonthBoxWidth+parseInt(a(this.$el.find(".js-flex-months-holder a")[0]).css("margin-left"))+parseInt(a(this.$el.find(".js-flex-months-holder a")[0]).css("margin-right")))+20;this.$el.find(".js-flex-months-holder").width(t)}},resetOptions:function(){this.options.locale={},this.inputNames={},this.options.invalidDateMsg="",this.from={},this.from.$label="",this.singleDate||(this.flex={},this.footer={},this.$dateFromTo="",this.$flexInput="",this.to={},this.to.$label="",this.$dropdownIcon="")},bindEvents:function(){this.singleDate||this.initCalendarHeader(),this.$el.find(".m-flex-frame .l-stepper").removeClass("is-hidden"),this.$el.find("#"+this.$parent.idPrefix+"_hotel-fromDate").prop("readonly",!1),this.$el.find("#"+this.$parent.idPrefix+"_hotel-toDate").prop("readonly",!1),this.$el.find("#"+this.$parent.idPrefix+"_hotel-fromDate_root").remove(),this.$el.find("#"+this.$parent.idPrefix+"_hotel-toDate_root").remove(),this.$el.find(".js-flex-display").on("focus",s.bind(this.openFlex,this)),this.$el.find(".js-date-from").on("focus",s.bind(this.openFrom,this)),this.$el.find(".js-date-to").on("focus",s.bind(this.openTo,this)),this.closeOnDocumentClick&&(a(document).on("click",s.bind((function(e){this.close(this,e)}),this)),a(document).on("keyup",s.bind((function(e){9==e.which&&this.close(this,e)}),this))),this.$parent.isAddSegmentTile||this.$el.parents(".mfp-content").on("click",s.bind((function(e){this.close(this,e)}),this)),this.closeOnFormFieldsFocus&&this.$parent.$el.find("input[type!='hidden'], .js-date-clear, a, div[tabindex = '0']").off("focusin focusout").on("focusin focusout",s.bind((function(e){this.close(this,e)}),this))},setProperties:function(){this.singleDate?this.from={$input:this.$el.find(this.options.inputs.fromDate)}:(this.inputNames={flexi:this.$el.find(this.options.inputs.flexibleDate).prop("name")},this.$dateFromTo=this.$el.find(this.options.inputs.fromToDate),this.options.invalidDateMsg=this.$dateFromTo.data().invalidmsg,this.$flexInput=this.$el.find(this.options.inputs.flexibleDate),this.from={$input:this.$el.find(this.options.inputs.fromDate),$submit:this.$el.find(this.options.inputs.submitFrom)},this.to={$input:this.$el.find(this.options.inputs.toDate),$submit:this.$el.find(this.options.inputs.submitTo)},this.from.$label=this.$el.find('label[for="'+this.from.$input.attr("id")+'"]').html(),this.to.$label=this.$el.find('label[for="'+this.to.$input.attr("id")+'"]').html(),this.$dropdownIcon=this.$el.find(this.options.dropdownTrigger),this.to.$input.addClass("is-disabled"))},initPickaDatePlugin:function(){this.pickaDatePlugin=new n,this.pickaDatePlugin.init(this)},initCalendarHeader:function(){var e='<div class="date-label">'+this.$el.data("check-in-label")+" - "+this.$el.data("check-out-label")+"</div>",t=this.$el.parents(".property-record-item").data("index")>-1?"_"+this.$el.parents(".js-property-record-item").data("index"):"";e+='<div class="selected-dates">',e+='<label class="l-date is-hidden-label" for="'+this.$parent.idPrefix+"_check-in"+t+'">'+this.$el.data("check-in-label")+"</label>",e+='<input type="text" id="'+this.$parent.idPrefix+"_check-in"+t+'" class="check-in js-date-from l-h-field-input" maxlength="17" autocomplete="off" value="'+this.from.$input.val()+'" placeholder='+this.$el.data("check-in-label")+"></input>",e+=" - ",e+='<label class="l-date is-hidden-label" for="'+this.$parent.idPrefix+"_check-out"+t+'">'+this.$el.data("check-out-label")+"</label>",e+='<input type="text" id="'+this.$parent.idPrefix+"_check-out"+t+'" class="check-out js-date-to l-h-field-input" maxlength="17" autocomplete="off" value="'+this.to.$input.val()+'" placeholder='+this.$el.data("check-out-label")+"></input>",e+="</div>",this.$parent.$el.find(".js-red-eye").length||this.$dateFromToPicker.$frame.prepend(e)},updateHeader:function(e){this.$el.find(".selected-dates .check-in").val(this.from.$input.val()),this.$el.find(".selected-dates .check-out").val(this.to.$input.val())},initFlexDate:function(){var e,t,i=this,s="",n=i.options.dates.fromMin.getMonth(),o=i.options.dates.fromMin.getFullYear(),r=i.$el.find(".js-date-pick-container").data("options").flexibleInMonthTitleInitial?i.$el.find(".js-date-pick-container").data("options").flexibleInMonthTitleInitial+" ":"Month of ",l=" "+o,d=i.options.dates.fromMin.getYear()-i.options.dates.toMax.getYear(),c=this.$el.data("country-code");for(i.flex.$root=i.$el.find(".m-flex-frame-wrapper").appendTo(i.$dateFromToPicker.$holder),t=1-12*d-n+i.options.dates.toMax.getMonth(),e=0;e<t;e++)s+='<a href="#" data-month="'+n+'" data-year ="'+o+'"',s+=' title="'+r+i.options.locale.monthsFull[n]+l+'"',s+=' class="js-flex-month l-s2-option t-blk t-no-decor l-s-col-2">',s+=("JP"===c?i.options.locale.monthsFull[n]:i.options.locale.monthsShort[n])+l+"<span class='t-icon t-icon-check is-hidden'></span></a>",12===++n?(l=" "+ ++o,n=0):l="";i.flex.$root.find(".js-flex-months-holder").html(s),i.flex.$check=i.$el.find(i.options.inputs.flexCheck),i.flex.$length=i.$el.find(i.options.inputs.flexLength);var h=parseInt(this.$el.find(".js-date-pick-container").data("options").flexibleNight);i.$el.find(".js-stepper-input").val(h>1?h+" "+i.options.txtNights:h+" "+i.options.txtNight),i.flex.$length.val(h),i.flex.$display=i.$el.find(".js-flex-display"),i.flex.displayLabel=i.flex.$display.data("label"),i.flex.$monthTrigger=i.flex.$root.find(".js-flex-month").on("click",(function(e){i.onMonthChg(e,i)})),i.flex.$plus=i.flex.$root.find(".js-plus").on("click",(function(e){i.onFlexStepperChg(e,i,!0)})),i.flex.$minus=i.flex.$root.find(".js-minus").on("click",(function(e){i.onFlexStepperChg(e,i)})),i.flex.$stepperVal=i.flex.$root.find(".js-stepper-val"),i.flex.$stepperInput=i.flex.$root.find(".js-stepper-input").on("change",(function(e){i.setStepperVal(i.$el.find(e.target).val(),i)})).on("keydown",(function(e){e.stopPropagation()})),"flex"===i.pickerState&&i.displayFlex(),a("html").hasClass("touch")&&i.flex.$root.addClass("has-slider")},clearDates:function(e){e.flex.$length.val("1"),a(e.fromTo).each((function(t,i){e[i].$submit.val(""),e[i].$input.val(""),e[i].date=null})),e.openFrom(null,e),e.$parent.responsiveUtils&&e.$parent.responsiveUtils.isMobileOrTablet()&&a("html,body").scrollTop(0),e.updateHeader()},initPickerFooter:function(){var e=this,t='<div class="l-picker-footer">';if(t+=e.$el.find(".js-date-pick-container").data("options").flexdates?'<a href="#" class="js-toggle-flexdate l-float-left m-button m-button-secondary">'+e.$el.find(".js-date-pick-container").data("options").flexdates+"</a>":"",t+=e.options.txtReset?'<a href="#" class="t-control-link l-float-right l-h-small-button l-flex js-flex-reset">'+e.options.txtReset+"</a>":"",t+=e.options.txtClear?'<a href="#" class="t-control-link l-float-right l-h-small-button l-date js-date-clear">'+e.options.txtClear+"</a>":"",t+="</div>",e.footer.$root=a(t).appendTo(e.$dateFromToPicker.$holder),e.$dateFromToPicker.$root.find(".js-date-clear").on("click",(function(t){t.preventDefault(),e.clearDates(e)})),e.$dateFromToPicker.$root.find(".js-flex-done").on("click",(function(t){t.preventDefault(),e.close(e),setTimeout((function(){e.$dateFromToPicker.close(!0),e.$parent.$el.find(".l-rooms-guests-trigger-box").focus()}),300)})),e.$dateFromToPicker.$root.find(".js-flex-reset").on("click",(function(t){t.preventDefault(),e.clearDates(e),e.toggleFlexDate(e,"flex",!0)})),e.$toggleFlex=e.$el.find(e.options.flexdateTrigger).on("click",(function(t){t.preventDefault(),e.toggleFlexDate(e,null,!0)})),e.$parent.isAddSegmentTile){var i="<div class='inventory-date-container t-font-m'><span class='inventory-label t-font-weight-bold'>"+this.$el.find(".inventory-date").data("inventory").label+" </span><span class='date-of-inventory'>"+this.$el.find(".inventory-date").data("inventory").value+"</span></div>";i+="<div class='l-float-right'><span class='reset-date-button t-font-weight-semibold t-font-m t-cursor-pointer'>"+e.$parent.$el.find("#calendar-reset-label").val()+"</span></div>",0===e.$el.find(".reset-date-button").length&&this.$el.find(".l-picker-footer").html(i),e.$el.find(".reset-date-button").on("click",s.bind(e.resetDateHandler,this))}},resetDateHandler:function(e){var t=a("#checkin-reset-date").val(),i=a("#checkout-reset-date").val();this.from.date=new Date(t),this.from.$submit.val(t),this.from.$submit.data("value",t),this.pickaDatePlugin.setDateOnFormatChange(this,"from"),this.to.date=new Date(i),this.to.$submit.val(i),this.pickaDatePlugin.setDateOnFormatChange(this,"to"),this.pickaDatePlugin.handleFormat(),e&&this.$el.find(".js-date-from").focus()},toggleFlexDate:function(e,t,i){e.flexdateState=t||("date"===e.flexdateState?"flex":"date"),this.onFlexibleDateClick&&this.onFlexibleDateClick(),"flex"===e.flexdateState?(e.$parent.responsiveUtils&&e.$parent.responsiveUtils.isMobileOrTablet()&&e.$el.find(".picker").hasClass("page-take-over")&&(e.$el.find(".date-label,.selected-dates").hide(),a("html,body").scrollTop(0)),e.flex.$check.attr("checked",!0),e.$el.addClass("is-picker-hidden").removeClass("is-flex-hidden").find(".js-toggle-picker"),e.$dateFromToPicker.$frame.hide(),e.flex.$root.show(),e.footer.$root.find(e.options.flexdateTrigger).html(e.$el.find(".js-date-pick-container").data("options").specificdates),e.from.date||(e.pickerState="from",e.$dateFromToPicker.set("select",e.options.dates.todaysDate)),e.displayFlex(),e.checkFlexStepper(),i&&(e.pickerState="to",e.$dateFromToPicker.set("select",e.datePlusDays(e.from.date,e.flex.$length.val()),{muted:!0})),e.$parent.responsiveUtils&&!e.$parent.responsiveUtils.isDevice()&&e.flex.$monthTrigger.filter(".is-selected").focus(),e.flex.$monthTrigger.filter(".is-selected").trigger("click")):(e.$parent.responsiveUtils&&e.$parent.responsiveUtils.isMobileOrTablet()&&e.$el.find(".picker").hasClass("page-take-over")&&(e.$el.find(".date-label,.selected-dates").show(),a("html,body").scrollTop(0)),e.flex.$check.attr("checked",!1),e.$el.addClass("is-flex-hidden").removeClass("is-picker-hidden").find(".js-toggle-picker"),e.flex.$root.hide(),e.$dateFromToPicker.$frame.show(),e.footer.$root.find(e.options.flexdateTrigger).html(e.$el.find(".js-date-pick-container").data("options").flexdates),i&&(e.pickerState="to",e.$dateFromToPicker.set("select",e.datePlusDays(e.from.date,e.flex.$length.val()),{muted:!0}),e.openFrom(null,e))),e.updateActiveUnderline()},displayFlex:function(){var e=this.flex.$length.val(),t=this.from.date&&this.from.date.getMonth(),i=this.from.date&&this.from.date.getFullYear();this.flex.$monthTrigger.filter(".is-selected").removeClass("is-selected").removeAttr("aria-selected"),this.flex.$monthTrigger.filter('[data-month="'+t+'"]').filter('[data-year="'+i+'"]').addClass("is-selected").attr("aria-selected","true"),this.flex.$display.html(this.flex.displayLabel+" "+this.options.locale.monthsFull[t]+" - "+e+" "+(1==e?this.options.txtNight:this.options.txtNights)),this.flex.$stepperInput.val(e>1?e+" "+this.options.txtNights:e+" "+this.options.txtNight),this.flex.$stepperVal.text(e)},checkFlexStepper:function(e,t){var i=(t=t||this).flex.$length.find(":first-child").val(),a=t.flex.$length.find(":last-child").val();return i=parseInt(i,10),a=parseInt(a,10),e=e||parseInt(t.flex.$stepperInput.val()),e=isNaN(parseInt(e,10))?1:parseInt(e,10),t.flex.$plus.add(t.flex.$minus).removeClass("is-inactive"),e>=a?(e=a,t.flex.$plus.addClass("is-inactive")):e<=i&&(e=i,t.flex.$minus.addClass("is-inactive")),e},datePlusDays:function(e,t){t=Number(t);var i=new Date(e);return i.setDate(i.getDate()+t)},onFlexStepperChg:function(e,t,i){if(e.preventDefault(),t.$parent.responsiveUtils&&t.$parent.responsiveUtils.isMobileOrTablet()&&t.$el.find(".picker").hasClass("page-take-over")&&a("html,body").scrollTop(0),!t.$el.find(e.target).hasClass("is-inactive")){var s=t.flex.$length.val();s=i?++s:--s,t.setStepperVal(s,t),t.$el.find(e.target).focus()}},setStepperVal:function(e,t){var i=t.from.date;(e=t.checkFlexStepper(e,t))&&(t.pickerState="to",t.$dateFromToPicker.set("select",t.datePlusDays(i,e),{muted:"true"}),t.to.$submit.val(t.$dateFromToPicker._hidden.value)),t.flex.$stepperInput.val(parseInt(e)>1?e+" "+t.options.txtNights:e+" "+t.options.txtNight),t.flex.$length.val(e),t.displayFlex()},onMonthChg:function(e,t){var i=t.$el.find(e.target),s=i.data().month,n=i.data().year,o=new Date,r=1;e.preventDefault(),i.parent().find(".is-selected").removeClass("is-selected"),i.addClass("is-selected"),t.pickerState="from",a(".js-red-eye").length&&"flex"===t.flexdateState&&o.getMonth()===s&&(r=o.getDate()),t.$dateFromToPicker.set({min:this.options.dates.fromMin,max:this.options.dates.fromMax,select:new Date(n,s,r)}),t.displayFlex(),e.originalEvent&&t.flex.$stepperInput.focus()},expandSearchHWS:function(){if("function"==typeof this.expandSearchForm){if(this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isMobileOrTablet()&&this.$parent.$el.hasClass("is-collapsed"))return void this.expandSearchForm();this.expandSearchForm()}},openFrom:function(e){this.$parent.isAddSegmentTile&&this.$parent.$el.addClass("opened-picker"),this.expandSearchHWS(),this.pickerState="from",this.openCalendar(e)},openTo:function(e){!e||e&&!a(e.target).hasClass("is-disabled")?(this.$parent.isAddSegmentTile&&this.$parent.$el.addClass("opened-picker"),this.expandSearchHWS(),this.pickerState="to",this.openCalendar(e)):this.$parent.responsiveUtils&&!this.$parent.responsiveUtils.isMobileOrTablet()&&this.from.$input.focus()},openFlex:function(e){this.expandSearchHWS(),this.pickerState="flex",this.openCalendar(e),this.$parent.responsiveUtils&&!this.$parent.responsiveUtils.isDevice()&&this.flex.$monthTrigger.filter(".is-selected").focus()},openCalendar:function(e){var t,i,s=this,n=!!a(".js-red-eye").length;s.$parent.responsiveUtils&&!s.$parent.responsiveUtils.isDevice()&&s.$parent.$el.closest(".is-sticky-top").length&&s.pubsub.publish("HIDE_HWS_NAVIGATION_BAR"),"to"===s.pickerState?(t=n&&s.from.date&&s.from.date<s.options.dates.todaysDate?s.options.dates.todaysDate:s.from.date&&s.from.date>s.options.dates.todaysDate?s.from.date:s.hasFixedDateRange&&s.options.dates.toMin?s.options.dates.toMin:this.allowPastDates?s.options.dates.fromMin:1,i=s.options.dates.toMax):(t=s.options.dates.fromMin,i=s.options.dates.fromMax),s.dateFromData.showKGroupDate&&(i=new Date(s.dateFromData.kGroupDate));var o={min:t,max:i,select:"to"===s.pickerState?s.to.date:s.from.date};if(this.disableDates&&this.disableDates.from&&this.disableDates.to){var r=this.disableDates.from,l=this.disableDates.to;o.disable=[{from:r,to:l}]}if(s.$dateFromToPicker.set(o,{muted:!0}),s.$parent.responsiveUtils&&s.$parent.responsiveUtils.isMobileOrTablet()&&!this.suppressTakeOver&&!s.$el.find(".picker").hasClass("page-take-over")?e&&(s.takeoverScreen&&s.takeoverScreen.init(),s.$el.find(".js-date-from,.js-date-to").blur()):(s.$el.addClass(s.options.contActive),s.$dateFromToPicker.$holder.is(":visible")||s.$dateFromToPicker.$holder.slideDown("medium")),s.$dateFromToPicker.open(!1),n){var d,c,h,p,u=new Date;u.setDate(u.getDate()-1),d=u.getDate(),c=u.getMonth(),h=u.getFullYear(),p=new Date(h,c,d,0,0,0,0),a(".picker__table").find("[data-pick='"+p.getTime()+"']").each((function(e,t){var i=a(t);s.from.date<s.options.dates.todaysDate||!i.hasClass("t-date-start")&&a(".js-red-eye").length&&i.addClass("l-red-eye-date")}))}this.updateActiveUnderline(),s.$el.find(".js-date-to").removeClass("is-disabled")},toggleLabel:function(e,t){if((t=t||this).from.$label.length&&t.to.$label.length){var i="is-hidden-label",a="l-h-field-input";t.$el.find(t.fromTo).each((function(s,n){t[n].$submit.val()||t[n].$input.is(":focus")||e===n?(t[n].$input.removeClass(i).addClass(a),t[n].$label.removeClass(a).addClass(i)):(t[n].$input.removeClass(a).addClass(i),t[n].$label.removeClass(i).addClass(a),t[n].$input.val(""))}))}},parseDate:function(e){var t,i;try{t=$locale.locale("parseDate",e)}catch(e){t=null}return a(window).width()>480&&a(window).width()<1024&&s.isNull(t)&&2==e.split(",").length&&(e+=","+this[this.pickerState].date.getFullYear()),(t=t||Date.parse(e))&&(i=(t=new Date(t)).getFullYear())<2e3&&t.setYear(i+100),t},updateDate:function(e){if(!0!==this.preventChangePropagation){var t=this.parseDate(e.target.value);t?this.$dateFromToPicker.set("select",t):t||e.target.value?(alert(this.options.invalidDateMsg),this[this.pickerState].$submit.val(""),this[this.pickerState].date=null,this.$el.find(e.target).select()):(this[this.pickerState].$submit.val(""),this[this.pickerState].$input.val(""),this[this.pickerState].date=null),this.updateHeader(),this.pickaDatePlugin.handleFormat(),this.updateActiveUnderline()}},keyEvents:function(e){27!==e.keyCode&&27!==e.which||this.close(this)},toggleBarTrigger:function(e,t){var i=this;if(!(!i.readonly&&(i.$el.find(e.target).hasClass("js-date-to")&&!i.$el.find(e.target).hasClass("is-disabled")||i.$el.find(e.target).hasClass("js-flex-display")||i.$el.find(e.target).hasClass("js-date-from"))||i.$el.find(e.target).filter("label.l-date").length>0)){if("function"==typeof i.$parent.getTakeOverVariation)i.$parent.getTakeOverVariation()===l.SEARCH_FORM.VARIATIONS.HOMEPAGE&&i.$parent.expandSearchBar();13!==(e.keyCode||e.which)&&"click"!==e.type||i.toggleBar(e,i),s.defer((function(){s.isFunction(t)&&(i.openFrom(e),t())}))}},toggleBar:function(e,t){t.$el.hasClass("is-flex-hidden")?this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isMobileOrTablet()&&!this.suppressTakeOver?this.openFrom(e):t.$el.hasClass(t.options.contActive)?"from"===t.pickerState&&t.$el.find(e.target).hasClass("js-date-to")||"to"===t.pickerState&&t.$el.find(e.target).hasClass("js-date-from")||(t.toggleLabel(null,t),t.close(t)):setTimeout((function(){t.from.$input.focus()})):this.$parent.responsiveUtils&&this.$parent.responsiveUtils.isMobileOrTablet()&&!this.suppressTakeOver?this.takeoverScreen.init():t.$el.hasClass(t.options.contActive)?t.close(t):(t.$el.addClass(t.options.contActive),t.$dropdownIcon.addClass(t.options.dropdownActive).removeClass(t.options.dropdownInActive),t.$dateFromToPicker.$holder.slideDown("medium"),t.$parent.responsiveUtils&&!t.$parent.responsiveUtils.isDevice()&&t.flex.$monthTrigger.filter(".is-selected").focus(),t.$dateFromToPicker.$root.addClass("picker--opened").attr("aria-hidden","false"))},close:function(e,t){if(!t||t&&!e.$el.find(t.target).length){if(t&&a(t.target).hasClass("picker__holder"))return;if(!e.closeOnFormFieldsFocus)return;e.$parent.responsiveUtils&&!e.$parent.responsiveUtils.isDevice()&&e.$parent.$el.closest(".is-sticky-top").length&&e.$el.hasClass("is-active")&&e.pubsub.publish("SHOW_HWS_NAVIGATION_BAR"),e.$dateFromToPicker.$root.removeClass("picker--opened").removeClass("picker--focused"),e.$dropdownIcon.removeClass(e.options.dropdownActive).addClass(e.options.dropdownInActive),e.$dateFromToPicker.$holder.slideUp(300,(function(){e.from.$input.removeClass(e.options.pickerActive),e.to.$input.removeClass(e.options.pickerActive),e.$el.removeClass(e.options.contActive),e.isBlurDisable||e.from.$input.trigger("blur")})),e.$el.find(".js-date-to").addClass("is-disabled"),this.updateActiveUnderline(!0)}}});e.exports=function(e){var t=s.cloneDeep(h);return new(c.extend(t))(e)}},48:function(e,t,i){var a=i(2),s=i(0),n=i(1),o=i(7),r=i(3);e.exports=a.extend({init:function(e){this.parent=e;var t=this.options=e.options;n.extend(t,this.setLocaleOptions());var i=this.parent.$el.data("country-code");e.singleDate&&""===i&&(i=this.options.country),i=i||"US";var a=this.localeDefaults=i&&t.lang[i]||t.lang[i.toLowerCase()]||t.lang.US||t.lang["en-US"];this.readonly=!!(window.innerWidth<=760&&s("html").hasClass("touch")),"CN"!=i&&"JP"!=i&&"zh-CN"!=i&&"ja-JP"!=i||(a.formatLong=a.format,a.format=a.formatShort),a.formatLong=a.format,n.extend(s.fn.pickadate.defaults,a),n.extend(s.fn.pickadate.defaults,t.locale),e.singleDate?this.setOptionsForSingleDate():this.setOptionsForDualDates(a)},setOptionsForSingleDate:function(){var e=this;this.parent.from.$input.pickadate({min:new Date(this.parent.from.$input.data("min")),max:new Date(this.parent.from.$input.data("max")),formatSubmit:this.parent.format||"yyyy-mm-dd",hiddenName:!0,today:"",clear:this.options.txtClear,close:this.options.txtDone,onRender:n.bind(e.renderSingleDate,e),editable:!!e.parent.bindSingleDateEvents,onOpen:function(){s(e.parent.bindSingleCalendar).addClass(e.options.dropdownActive).removeClass(e.options.dropdownInActive)},onClose:function(){s(e.parent.bindSingleCalendar).addClass(e.options.dropdownInActive).removeClass(e.options.dropdownActive),s(e.parent.bindSingleCalendar).addClass("arrow-down-close"),setTimeout((function(){s(e.parent.bindSingleCalendar).removeClass("arrow-down-close")}),1e3)}})},setOptionsForDualDates:function(e){var t,i=this.parent,a=this.parent.$parent,o=a.$el.find(".js-red-eye"),r=new Date(i.$dateFromTo.data("min")).setHours(0,0,0,0),l=(new Date).setHours(0,0,0,0);i.from.$input.add(i.to.$input).attr("size",e.formatLength||e.format.length).prop("readonly",i.readonly),0!=o.length?this.options.dates={fromMin:new Date(o.val()),toMax:new Date(i.$dateFromTo.data("max")),todaysDate:l}:this.options.dates={fromMin:new Date(r),toMax:new Date(i.$dateFromTo.data("max")),todaysDate:r>l?r:l},i.hasFixedDateRange?this.options.dates.toMin=new Date(this.options.dates.fromMin.getTime()+i.SEC_IN_DAY):this.options.dates.toMin=this.options.dates.fromMin,1==a.$el.data("remove-day-fix")?this.options.dates.fromMax=new Date(this.options.dates.toMax.getTime()):this.options.dates.fromMax=new Date(this.options.dates.toMax.getTime()-i.SEC_IN_DAY),(t=new Date(this.options.dates.todaysDate)).setDate(t.getDate()+1),i.$dateFromTo.pickadate({container:i.$el,min:this.options.dates.fromMin,max:this.options.dates.fromMax,today:"",clear:"",close:"",onRender:n.bind(this.renderThis,this),onOpen:n.bind(this.openThis,this),editable:"true",closeOnSelect:!i.$parent.isAddSegmentTile}),i.$dateFromToPicker=i.$dateFromTo.pickadate("picker"),1==this.options.alwaysOnTop&&s("body").append(i.$dateFromToPicker.$root.addClass(options.alwaysOnTopClass)),i.$parent.isAddSegmentTile||i.$dateFromToPicker.$holder.addClass(this.options.styleClass).hide(),i.$dateFromToPicker.$frame=i.$dateFromToPicker.$holder.find(this.options.pickerFrame),i.pickerState="from",i.$dateFromToPicker.on({set:this.calendarDateSelected.bind(this)}),i.from.$submit.val()&&-1!==i.from.$submit.val()?this.setDateFromPicker(i.from.$submit.val(),"from"):i.isNonDatedSearch||this.setDateFromPicker(this.options.dates.todaysDate,"from"),i.to.$submit.val()&&-1!==i.to.$submit.val()?this.setDateFromPicker(i.to.$submit.val(),"to"):i.isNonDatedSearch||this.setDateFromPicker(t,"to")},setLocaleOptions:function(){var e={},t=this.parent.$el.find(".js-date-pick-container").data("options");return void 0!==t?(e.locale={monthsFull:t.monthFullList.split(","),monthsShort:t.monthShortList.split(","),weekdaysFull:t.weekdayFullList.split(","),weekdaysShort:t.weekdayShortList.split(",")},e.txtNight=t.nightLabel,e.txtNights=t.nightsLabel,e.txtClear=t.clearText,e.txtReset=t.resetText):"undefined"!=typeof msgResources&&(e.locale={labelMonthPrev:msgResources.prevMonthText,labelMonthNext:msgResources.nextMonthText,monthsFull:JSON.parse(msgResources.monthFullList),monthsShort:JSON.parse(msgResources.monthShortList),weekdaysFull:JSON.parse(msgResources.weekdayFullList),weekdaysShort:JSON.parse(msgResources.weekdayShortList)},e.txtNight=msgResources.nightText,e.txtNights=msgResources.nightsText,e.txtClear=msgResources.clearText,e.txtDone=msgResources.doneText,e.country=msgResources.country),e},calendarDateSelected:function(e){var t,i,a,n,r,l=this.parent,d=this,c=new Date,h=d.parent.$dateFromToPicker.get("select"),p=d.parent.$parent.$el,u=p.find(".picker__table"),f=p.find(".js-red-eye-popup"),m=p.find(".js-red-eye").length;if(c.setDate(c.getDate()-1),i=c.getDate(),a=c.getMonth(),n=c.getFullYear(),C=new Date(n,a,i,0,0,0,0),r=l.$parent.isAssociateView||l.$parent.isAddSegmentTile||l.$parent.isForceSellOverlay,e.select){if("from"===l.pickerState)if(l.$el.find(".picker__table [data-pick="+C.getTime()+"]").each((function(e,i){s(i).hasClass("t-date-start")&&(t=!0)})),r&&h.date===i&&h.month===a&&h.year===n&&!t&&"flex"!==l.flexdateState){if(l.$parent.isAddSegmentTile||l.$parent.isForceSellOverlay)p.find(".js-red-eye-confirmation-modal").show(),p.find(".js-red-eye-overlay").addClass("l-red-eye-overlay"),p.find(".js-red-eye-popup").addClass("l-add-segment-redeye-overlay");else new o({open:!0,items:{src:".js-red-eye-popup",type:"inline"},selector:".l-red-eye-date",alternateCloseMarkup:!0,sourceBlock:".modal-content",mainClass:"modal-content"}).register();var g=f.find(".js-okay-btn");f.find(".js-cancel-btn").off().on("click",(function(e){e.stopPropagation(),u.find("div:contains("+i+")").each((function(e,t){s(t).html()==i&&m&&s(t).removeClass("picker__day--selected").addClass("l-red-eye-date")})),e.preventDefault(),l.$parent.isAddSegmentTile||l.$parent.isForceSellOverlay?p.find(".js-red-eye-confirmation-modal").hide():d.pubsub.publish("POPUP_CLOSE"),l.$el.find(".js-date-from").trigger("focus")})),g.off().on("click",(function(e){e.stopPropagation(),l.from.$input.removeClass(d.options.iserror),d.setDateFromPicker(),d.handleFormat(),"flex"===l.flexdateState?d.setDateFromPicker(l.datePlusDays(l.from.date,l.flex.$length.val()),"to"):(!l.to.date||l.to.date<=l.from.date)&&d.setDateFromPicker(l.datePlusDays(l.from.date,1),"to"),l.updateHeader("from"),l.$parent.isAddSegmentTile||l.$parent.isForceSellOverlay?p.find(".js-red-eye-confirmation-modal").hide():d.pubsub.publish("POPUP_CLOSE"),l.$parent.responsiveUtils.isMobileOrTablet()?l.to.$input&&l.to.$input.is(":visible")&&l.openTo():l.to.$input&&l.to.$input.is(":visible")&&setTimeout((function(){l.$el.find(".js-date-to").trigger("focus")}))}))}else l.from.$input.removeClass(d.options.iserror),d.setDateFromPicker(),this.handleFormat(),"flex"===l.flexdateState?d.setDateFromPicker(l.datePlusDays(l.from.date,l.flex.$length.val()),"to"):(!l.to.date||l.to.date<=l.from.date)&&d.setDateFromPicker(l.datePlusDays(l.from.date,1),"to"),l.updateHeader("from"),l.$parent.responsiveUtils.isMobileOrTablet()?l.to.$input&&l.to.$input.is(":visible")&&l.openTo():l.to.$input&&l.to.$input.is(":visible")&&setTimeout((function(){l.$el.find(".js-date-to").trigger("focus")}));else l.to.$input.removeClass(d.options.iserror),d.setDateFromPicker(),this.handleFormat(),l.updateHeader("to"),l.$parent.responsiveUtils.isMobileOrTablet()?(l.close(l),l.hideTakeoverScreen()):l.close(l);if(l.toggleLabel(null,l),"flex"!==l.flexdateState&&l.from.date&&l.to.date){var v=Math.round((l.to.date-l.from.date)/l.SEC_IN_DAY);v>9&&(v=1),l.flex.$length.val(v||1)}}else{var y,b,$,C;if(0!==m&&0===p.find(".l-red-eye-date").length)(c=new Date).setDate(c.getDate()-1),y=c.getDate(),b=c.getMonth(),$=c.getFullYear(),C=new Date($,b,y,0,0,0,0),u.find("[data-pick='"+C.getTime()+"']").each((function(e,t){var i=s(t);!i.hasClass("t-date-start")&&m&&i.addClass("l-red-eye-date")}))}},renderThis:function(){var e=this.parent,t=this.options,i=e.$el.find(".js-date-from"),a=e.$el.find(".js-date-to");if(e.$dateFromTo.hasClass(t.pickerActive)&&(e.from.$input||e.to.$input)){"from"===e.pickerState?(i.addClass(t.pickerActive),a.removeClass(t.pickerActive)):(i.removeClass(t.pickerActive),a.addClass(t.pickerActive)),i=this.strDateToLong(e.from.date)||null,a=this.strDateToLong(e.to.date)||null;var s=e.$dateFromToPicker.$root,n=s.find(".picker__table tr").last();if(s.find("."+t.inRangeClass).removeClass(t.inRangeClass),s.find("."+t.startDayClass).removeClass(t.startDayClass),s.find("."+t.endDayClass).removeClass(t.endDayClass),7===n.find(".picker__day--outfocus").length&&n.addClass("is-hidden"),i&&s.find('[data-pick="'+i+'"]').addClass(t.startDayClass),i&&a&&i!==a)for(var o=s.find(".picker__day"),r=0,l=null,d=null;d=o[r++];)if((l=d.getAttribute("data-pick"))&&l>=i&&l<=a)d.parentElement.className+=" "+t.inRangeClass;else if(l&&l>a)break;a&&s.find('[data-pick="'+a+'"]').addClass(t.endDayClass),e.toggleLabel(e.pickerState,e)}},openThis:function(){var e=this.parent;e.$el.addClass(e.options.contActive),e.$dropdownIcon.addClass(e.options.dropdownActive),e.toggleLabel(),this.renderThis()},handleFormat:function(){var e,t,i,a=this.parent,s="function"==typeof a.$parent.getTakeOverVariation&&a.$parent.getTakeOverVariation()===r.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS,n=s?r.SCREEN_WIDTH.DATE_SHORT_FORMAT_END_WIDTH_HWS:r.SCREEN_WIDTH.DATE_SHORT_FORMAT_END_WIDTH;t=(s||window.innerWidth>r.SCREEN_WIDTH.DATE_SHORT_FORMAT_START_WIDTH)&&window.innerWidth<n?this.localeDefaults.formatShort:this.localeDefaults.formatLong||this.localeDefaults.format,i=this.localeDefaults.formatLength,e=this.changeFormat(t),a.$el.find(".js-date-from").val(e.from).attr("size",i||t.length).prop("readonly",a.readonly),a.$el.find(".js-date-to").val(e.to).attr("size",i||t.length).prop("readonly",a.readonly)},changeFormat:function(e){var t=this.parent,i={from:"",to:""};return this.setDateOnFormatChange(t,"from"),i.from=this.parent.$dateFromToPicker.get("select",e),this.setDateOnFormatChange(t,"to"),i.to=this.parent.$dateFromToPicker.get("select",e),i},setDateOnFormatChange:function(e,t){var i=this.parent.$parent;"to"===t?(e.from.date&&e.from.date>e.options.dates.todaysDate?min=e.from.date:i.$el.find(".js-red-eye").length&&e.from.date&&e.from.date<e.options.dates.todaysDate?min=e.options.dates.todaysDate:e.hasFixedDateRange&&e.options.dates.toMin?min=e.options.dates.toMin:e.disableDates||e.allowPastDates?min=e.options.dates.fromMin:min=1,max=e.options.dates.toMax):(min=e.options.dates.fromMin,max=e.options.dates.fromMax),e.dateFromData.showKGroupDate&&(max=new Date(e.dateFromData.kGroupDate)),e.$dateFromToPicker.set({min:min,max:max,select:"to"===t?e.to.date:e.from.date},{muted:!0})},setDateFromPicker:function(e,t){var i,a,s=this.parent;s.preventChangePropagation=!0,s.pickerState=t||s.pickerState,e&&-1!==e&&("from"===s.pickerState?(i=s.options.dates.fromMin,a=s.options.dates.fromMax):(i=s.options.dates.toMin,a=s.options.dates.toMax),s.dateFromData.showKGroupDate&&(a=new Date(s.dateFromData.kGroupDate)),"string"==typeof e?s.$dateFromToPicker.set({min:i,max:a,select:e,format:this.localeDefaults.formatSubmit},{muted:!0,format:this.localeDefaults.formatSubmit}):s.$dateFromToPicker.set({min:i,max:a,select:e},{muted:!0})),s[s.pickerState].$input.hasClass(s.options.iserror)||(s[s.pickerState].date=s.$dateFromToPicker.get("select")&&s.$dateFromToPicker.get("select").obj),s[s.pickerState].$submit.val(s.$dateFromToPicker._hidden.value),s[s.pickerState].$input.val(s.$dateFromToPicker.$node.val()),s.preventChangePropagation=!1},strDateToLong:function(e){return e&&new Date(e).getTime()||0},addHiddenText:function(e,t){t.find(".is-hidden-text").length<1&&t.prepend('<span class="is-hidden-text">'+e+"</span>")},renderSingleDate:function(){var e=this.parent.$el.parents("form"),t=e.find(".icon-dot"),i=e.find(".picker__nav--next"),a=e.find(".picker__nav--prev");this.addHiddenText(this.localeDefaults.labelMonthNext,i),this.addHiddenText(this.localeDefaults.labelMonthPrev,a),t.length<1&&e.find(".picker__button--close").before('<span class="icon icon-dot t-font-xs t-medGray"></span>')}})},49:function(e,t,i){var a=i(32);i(50),a.lang={DE:{labelMonthPrev:"zurück",labelMonthNext:"Vor",firstDay:1,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd.mm.yyyy"},AU:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",firstDay:1,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/mm/yyyy"},GB:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",firstDay:1,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/mm/yyyy"},US:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, mmm d, yyyy",formatShort:"ddd, mmm d",formatSubmit:"mm/dd/yyyy"},FR:{labelMonthPrev:"Précédent",labelMonthNext:"Suivant",firstDay:1,format:"ddd d mmm yyyy",formatShort:"ddd d mmm",formatSubmit:"dd/mm/yyyy"},es:{labelMonthPrev:"Ant",labelMonthNext:"Sig",firstDay:1,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/mm/yyyy"},JP:{labelMonthPrev:"前",labelMonthNext:"次",firstDay:0,format:"yyyy年 mmm d日 (ddd)",formatShort:"mmmm d日 (ddd)",formatSubmit:"yyyy/mm/dd"},CN:{labelMonthPrev:"上月",labelMonthNext:"下月",firstDay:0,format:"yyyy年 mmm d日, ddd",formatShort:"mmm d日, ddd",formatSubmit:"yyyy-mm-dd",formatLength:12},BR:{labelMonthPrev:"Anterior",labelMonthNext:"Pr&oacute;ximo",firstDay:0,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/mm/yyyy"},IT:{labelMonthPrev:"Mese precedente",labelMonthNext:"Prossimo mese",firstDay:1,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm ",formatSubmit:"dd/mm/yyyy"},KR:{labelMonthPrev:"이전 달",labelMonthNext:"다음 달",firstDay:0,format:"yyyy년 mm월 dd일",formatShort:"mmm dd, ddd",formatSubmit:"yyyy.mm.dd"},RU:{labelMonthPrev:"Предыдущий месяц",labelMonthNext:"В следующем месяце",firstDay:1,format:"ddd, d mmm, yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd.mm.yyyy"},TW:{labelMonthPrev:"上個月",labelMonthNext:"下個月",firstDay:1,format:"yyyy年m月d日 ddd",formatShort:"mmm d日, ddd",formatLength:15,formatSubmit:"mm/dd/yyyy"},AE:{labelMonthPrev:"الشهر السابق",labelMonthNext:"الشهر القادم",firstDay:1,format:"dddd, d mmmm, yyyy ",formatShort:"ddd, mmm d",formatSubmit:"yyyy/mm/dd"},TH:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd d mmm tttt",formatShort:"ddd d mmm",formatSubmit:"dd/mm/yyyy",firstDay:1},GR:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, d mmm yyyy",formatShort:"ddd, d mmmm",formatSubmit:"dd/mm/yyyy",firstDay:1},ID:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, d mmm yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/mm/yyyy",firstDay:0},TR:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, mmm d, yyyy",formatShort:"ddd, mmm d",formatSubmit:"dd.MM.yyyy",firstDay:1},PL:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, mmm d, yyyy",formatShort:"ddd, mmm d",formatSubmit:"dd.MM.yy",firstDay:1},NL:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd d mmm yyyy",formatShort:"ddd mmm d",formatSubmit:"dd-MM-yyyy",firstDay:1},VN:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, d mmm, yyyy",formatShort:"ddd, mmm d",formatSubmit:"dd/MM/yyyy",firstDay:1},DK:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd. d. mmm yyyy",formatShort:"ddd. d. mmm",formatSubmit:"dd/MM/y",firstDay:0},SE:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, d mmm yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/MM/yyyy",firstDay:0},FI:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd d. mmm yyyy",formatShort:"ddd d. mmm",formatSubmit:"d.M.y",firstDay:0},NO:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd d. mmm yyyy",formatShort:"ddd d. mmm",formatSubmit:"dd.MM.yy",firstDay:0},IL:{labelMonthPrev:"Previous month",labelMonthNext:"Next month",format:"ddd, d mmm yyyy",formatShort:"ddd, d mmm",formatSubmit:"dd/MM/yy",firstDay:0}},e.exports=a},5:function(e,t,i){var a,s,n={},o=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=a.apply(this,arguments)),s}),r=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var a=r.call(this,e,i);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}}(),d=null,c=0,h=[],p=i(6);function u(e,t){for(var i=0;i<e.length;i++){var a=e[i],s=n[a.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](a.parts[o]);for(;o<a.parts.length;o++)s.parts.push(b(a.parts[o],t))}else{var r=[];for(o=0;o<a.parts.length;o++)r.push(b(a.parts[o],t));n[a.id]={id:a.id,refs:1,parts:r}}}}function f(e,t){for(var i=[],a={},s=0;s<e.length;s++){var n=e[s],o=t.base?n[0]+t.base:n[0],r={css:n[1],media:n[2],sourceMap:n[3]};a[o]?a[o].parts.push(r):i.push(a[o]={id:o,parts:[r]})}return i}function m(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=h[h.length-1];if("top"===e.insertAt)a?a.nextSibling?i.insertBefore(t,a.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),h.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(e.insertAt.before,i);i.insertBefore(t,s)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var a=function(){0;return i.nc}();a&&(e.attrs.nonce=a)}return y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,a,s,n;if(t.transform&&e.css){if(!(n="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=n}if(t.singleton){var o=c++;i=d||(d=v(t)),a=k.bind(null,i,o,!1),s=k.bind(null,i,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),a=D.bind(null,i,t),s=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),a=S.bind(null,i),s=function(){g(i)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return u(i,t),function(e){for(var a=[],s=0;s<i.length;s++){var o=i[s];(r=n[o.id]).refs--,a.push(r)}e&&u(f(e,t),t);for(s=0;s<a.length;s++){var r;if(0===(r=a[s]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete n[r.id]}}}};var $,C=($=[],function(e,t){return $[e]=t,$.filter(Boolean).join("\n")});function k(e,t,i,a){var s=i?"":a.css;if(e.styleSheet)e.styleSheet.cssText=C(t,s);else{var n=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(n,o[t]):e.appendChild(n)}}function S(e,t){var i=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function D(e,t,i){var a=i.css,s=i.sourceMap,n=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||n)&&(a=p(a)),s&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([a],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},50:function(e,t,i){
/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
e.exports=function(t,i){var a,s=t._;function n(e,t){/firefox/i.test(navigator.userAgent)&&(window.nativeGetComputedStyle||(window.nativeGetComputedStyle=window.getComputedStyle),window.getComputedStyle=function(e,t){var i=window.nativeGetComputedStyle(e,t);return null===i?{direction:e.style.direction,width:e.style.width,height:e.style.height,getPropertyValue:function(t){return e.style[t]}}:i});var i,a=this,s=e.$node[0],n=s.value,o=e.$node.data("value"),r=o||n,l=o?t.formatSubmit:t.format,d=function(){return s.currentStyle?"rtl"==s.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};a.settings=t,a.$node=e.$node,a.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},a.item={},a.item.clear=null,a.item.disable=(t.disable||[]).slice(0),a.item.enable=-(!0===(i=a.item.disable)[0]?i.shift():-1),a.set("min",t.min).set("max",t.max).set("now"),r?a.set("select",r,{format:l,defaultValue:!0}):a.set("select",null).set("highlight",a.item.now),a.key={40:7,38:-7,39:function(){return d()?-1:1},37:function(){return d()?1:-1},go:function(e){var t=a.item.highlight,i=new Date(t.year,t.month,t.date+e);a.set("highlight",i,{interval:e}),this.render()}},e.on("render",(function(){e.$root.find("."+t.klass.selectMonth).on("change",(function(){var i=this.value;i&&(e.set("highlight",[e.get("view").year,i,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))})),e.$root.find("."+t.klass.selectYear).on("change",(function(){var i=this.value;i&&(e.set("highlight",[i,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))}))}),1).on("open",(function(){var i="";a.disabled(a.get("now"))&&(i=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+i+", select").attr("disabled",!1)}),1).on("close",(function(){e.$root.find("button, select").attr("disabled",!0)}),1)}n.prototype.set=function(e,t,i){var a=this,s=a.item;return null===t?("clear"==e&&(e="select"),s[e]=t,a):(s["enable"==e?"disable":"flip"==e?"enable":e]=a.queue[e].split(" ").map((function(s){return t=a[s](e,t,i)})).pop(),"select"==e?a.set("highlight",s.select,i):"highlight"==e?a.set("view",s.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(s.select&&a.disabled(s.select)&&a.set("select",s.select,i),s.highlight&&a.disabled(s.highlight)&&a.set("highlight",s.highlight,i)),a)},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,t,a){var n;return(t=void 0===t?e:t)==-1/0||t==1/0?n=t:i.isPlainObject(t)&&s.isInteger(t.pick)?t=t.obj:Array.isArray(t)?(t=new Date(t[0],t[1],t[2]),t=s.isDate(t)?t:this.create().obj):t=s.isInteger(t)||s.isDate(t)?this.normalize(new Date(t),a):this.now(e,t,a),{year:n||t.getFullYear(),month:n||t.getMonth(),date:n||t.getDate(),day:n||t.getDay(),obj:n||t,pick:n||t.getTime()}},n.prototype.createRange=function(e,t){var a=this,n=function(e){return!0===e||Array.isArray(e)||s.isDate(e)?a.create(e):e};return s.isInteger(e)||(e=n(e)),s.isInteger(t)||(t=n(t)),s.isInteger(e)&&i.isPlainObject(t)?e=[t.year,t.month,t.date+e]:s.isInteger(t)&&i.isPlainObject(e)&&(t=[e.year,e.month,e.date+t]),{from:n(e),to:n(t)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){return e=this.createRange(e.from,e.to),t=this.createRange(t.from,t.to),this.withinRange(e,t.from)||this.withinRange(e,t.to)||this.withinRange(t,e.from)||this.withinRange(t,e.to)},n.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},n.prototype.navigate=function(e,t,a){var s,n,o,r,l=Array.isArray(t),d=i.isPlainObject(t),c=this.item.view;if(l||d){for(d?(n=t.year,o=t.month,r=t.date):(n=+t[0],o=+t[1],r=+t[2]),a&&a.nav&&c&&c.month!==o&&(n=c.year,o=c.month),n=(s=new Date(n,o+(a&&a.nav?a.nav:0),1)).getFullYear(),o=s.getMonth();new Date(n,o,r).getMonth()!==o;)r-=1;t=[n,o,r]}return t},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){return t?"string"==typeof t?t=this.parse(e,t):s.isInteger(t)&&(t=this.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,t,i){var a,n,o,r,l=this,d=t,c=i&&i.interval?i.interval:1,h=-1===l.item.enable,p=l.item.min,u=l.item.max,f=h&&l.item.disable.filter((function(e){if(Array.isArray(e)){var i=l.create(e).pick;i<t.pick?a=!0:i>t.pick&&(n=!0)}return s.isInteger(e)})).length;if((!i||!i.nav&&!i.defaultValue)&&(!h&&l.disabled(t)||h&&l.disabled(t)&&(f||a||n)||!h&&(t.pick<=p.pick||t.pick>=u.pick)))for(h&&!f&&(!n&&c>0||!a&&c<0)&&(c*=-1);l.disabled(t)&&(Math.abs(c)>1&&(t.month<d.month||t.month>d.month)&&(t=d,c=c>0?1:-1),t.pick<=p.pick?(o=!0,c=1,t=l.create([p.year,p.month,p.date+(t.pick===p.pick?0:-1)])):t.pick>=u.pick&&(r=!0,c=-1,t=l.create([u.year,u.month,u.date+(t.pick===u.pick?0:1)])),!o||!r);)t=l.create([t.year,t.month,t.date+c]);return t},n.prototype.disabled=function(e){var t=this,a=t.item.disable.filter((function(a){return s.isInteger(a)?e.day===(t.settings.firstDay?a:a-1)%7:Array.isArray(a)||s.isDate(a)?e.pick===t.create(a).pick:i.isPlainObject(a)?t.withinRange(a,e):void 0}));return a=a.length&&!a.filter((function(e){return Array.isArray(e)&&"inverted"==e[3]||i.isPlainObject(e)&&e.inverted})).length,-1===t.item.enable?!a:a||e.pick<t.item.min.pick||e.pick>t.item.max.pick},n.prototype.parse=function(e,t,i){var a=this,n={};return t&&"string"==typeof t?(i&&i.format||((i=i||{}).format=a.settings.format),a.formats.toArray(i.format).map((function(e){var i=a.formats[e],o=i?s.trigger(i,a,[t,n]):e.replace(/^!/,"").length;i&&(n[e]=t.substr(0,o)),t=t.substr(o)})),[n.yyyy||n.yy,+(n.mm||n.m)-1,n.dd||n.d]):t},n.prototype.formats=function(){function e(e,t,i){var a=e.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(a)+1),a.length}function t(e){return e.match(/[^\u0000-\u007F]+|\w+/)[0].length}return{d:function(e,t){return e?s.digits(e):t.date},dd:function(e,t){return e?2:s.lead(t.date)},ddd:function(e,i){return e?t(e):this.settings.weekdaysShort[i.day]},dddd:function(e,i){return e?t(e):this.settings.weekdaysFull[i.day]},m:function(e,t){return e?s.digits(e):t.month+1},mm:function(e,t){return e?2:s.lead(t.month+1)},mmm:function(t,i){var a=this.settings.monthsShort;return t?e(t,a,i):a[i.month]},mmmm:function(t,i){var a=this.settings.monthsFull;return t?e(t,a,i):a[i.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},tttt:function(e,t){return e?4:t.year+543},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|t{4}|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map((function(e){return s.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")})).join("")}}}(),n.prototype.isDateExact=function(e,t){return s.isInteger(e)&&s.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(s.isDate(e)||Array.isArray(e))&&(s.isDate(t)||Array.isArray(t))?this.create(e).pick===this.create(t).pick:!(!i.isPlainObject(e)||!i.isPlainObject(t))&&this.isDateExact(e.from,t.from)&&this.isDateExact(e.to,t.to)},n.prototype.isDateOverlap=function(e,t){var a=this.settings.firstDay?1:0;return s.isInteger(e)&&(s.isDate(t)||Array.isArray(t))?(e=e%7+a)===this.create(t).day+1:s.isInteger(t)&&(s.isDate(e)||Array.isArray(e))?(t=t%7+a)===this.create(e).day+1:!(!i.isPlainObject(e)||!i.isPlainObject(t))&&this.overlapRanges(e,t)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,t){var a=this,n=a.item.disable.slice(0);return"flip"==t?a.flipEnable():!1===t?(a.flipEnable(1),n=[]):!0===t?(a.flipEnable(-1),n=[]):t.map((function(e){for(var t,o=0;o<n.length;o+=1)if(a.isDateExact(e,n[o])){t=!0;break}t||(s.isInteger(e)||s.isDate(e)||Array.isArray(e)||i.isPlainObject(e)&&e.from&&e.to)&&n.push(e)})),n},n.prototype.activate=function(e,t){var a=this,n=a.item.disable,o=n.length;return"flip"==t?a.flipEnable():!0===t?(a.flipEnable(1),n=[]):!1===t?(a.flipEnable(-1),n=[]):t.map((function(e){var t,r,l,d;for(l=0;l<o;l+=1){if(r=n[l],a.isDateExact(r,e)){t=n[l]=null,d=!0;break}if(a.isDateOverlap(r,e)){i.isPlainObject(e)?(e.inverted=!0,t=e):Array.isArray(e)?(t=e)[3]||t.push("inverted"):s.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(l=0;l<o;l+=1)if(a.isDateExact(n[l],e)){n[l]=null;break}if(d)for(l=0;l<o;l+=1)if(a.isDateOverlap(n[l],e)){n[l]=null;break}t&&n.push(t)})),n.filter((function(e){return null!=e}))},n.prototype.nodes=function(e){var t,i,a=this,n=a.settings,o=a.item,r=o.now,l=o.select,d=o.highlight,c=o.view,h=o.disable,p=o.min,u=o.max,f=(t=(n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0),i=n.weekdaysFull.slice(0),n.firstDay&&(t.push(t.shift()),i.push(i.shift())),s.node("thead",s.node("tr",s.group({min:0,max:6,i:1,node:"th",item:function(e){return[t[e],n.klass.weekdays,'scope=col title="'+i[e]+'"']}})))),m=function(e){return s.node("div"," ",n.klass["nav"+(e?"Next":"Prev")]+(e&&c.year>=u.year&&c.month>=u.month||!e&&c.year<=p.year&&c.month<=p.month?" "+n.klass.navDisabled:""),"data-nav="+(e||-1)+" "+s.ariaAttr({role:"button",controls:a.$node[0].id+"_table"})+' title="'+(e?n.labelMonthNext:n.labelMonthPrev)+'"')},g=function(){var t=n.showMonthsShort?n.monthsShort:n.monthsFull;return n.selectMonths?s.node("select",s.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(c.month==e?" selected":"")+(c.year==p.year&&e<p.month||c.year==u.year&&e>u.month?" disabled":"")]}}),n.klass.selectMonth,(e?"":"disabled")+" "+s.ariaAttr({controls:a.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):"zh-TW"===window.makenComponents.ACCEPT_LANGUAGE?s.node("div",c.month+1+"月",n.klass.month):s.node("div",t[c.month],n.klass.month)},v=function(){var t=c.year,i=!0===n.selectYears?5:~~(n.selectYears/2);if(i){var o=p.year,r=u.year,l=t-i,d=t+i;if(o>l&&(d+=o-l,l=o),r<d){var h=l-o,f=d-r;l-=h>f?f:h,d=r}return s.node("select",s.group({min:l,max:d,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),n.klass.selectYear,(e?"":"disabled")+" "+s.ariaAttr({controls:a.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}var m=null;return m="th-TH"===window.makenComponents.ACCEPT_LANGUAGE?t+543:"vi-VN"===window.makenComponents.ACCEPT_LANGUAGE?" / "+t:"zh-TW"===window.makenComponents.ACCEPT_LANGUAGE?t+"年":t,s.node("div",m,n.klass.year)};return s.node("div",(n.selectYears||"zh-TW"===window.makenComponents.ACCEPT_LANGUAGE?v()+g():g()+v())+m()+m(1),n.klass.header)+s.node("table",f+s.node("tbody",s.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=n.firstDay&&0===a.create([c.year,c.month,1]).day?-7:0;return[s.group({min:7*e-c.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=a.create([c.year,c.month,e+(n.firstDay?1:0)]);var t,i=l&&l.pick==e.pick,o=d&&d.pick==e.pick,f=h&&a.disabled(e)||e.pick<p.pick||e.pick>u.pick,m=s.trigger(a.formats.toString,a,[n.format,e]);return[s.node("div",e.date,(t=[n.klass.day],t.push(c.month==e.month?n.klass.infocus:n.klass.outfocus),r.pick==e.pick&&t.push(n.klass.now),i&&t.push(n.klass.selected),o&&t.push(n.klass.highlighted),f&&t.push(n.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+s.ariaAttr({role:"gridcell",label:m,selected:!(!i||a.$node.val()!==m)||null,activedescendant:!!o||null,disabled:!!f||null})),"",s.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+a.$node[0].id+'_table" '+s.ariaAttr({role:"grid",controls:a.$node[0].id,readonly:!0}))+s.node("div",s.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+r.pick+(e&&!a.disabled(r)?"":" disabled")+" "+s.ariaAttr({controls:a.$node[0].id}))+s.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+s.ariaAttr({controls:a.$node[0].id}))+s.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+s.ariaAttr({controls:a.$node[0].id})),n.klass.footer)},n.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:(a=t.klasses().picker+"__")+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today",buttonClose:a+"button--close"}},t.extend("pickadate",n),e.exports=t}(i(32),i(0))},51:function(e,t,i){var a=i(52),s=i(14),n=i(3),o=i(11),r=i(0),l=i(13),d=a.extend({events:{"click .js-rooms-guests-trigger":"onRoomsGuestsClicked","click .l-plus, .l-minus":"onPlusMinusClicked","change .js-ages-num":"onPlusMinusClicked","blur .js-rooms-num":"onRoomsBlur","blur .js-adults-num":"onAdultsBlur","blur .js-children-num":"onChildBlur","blur .js-ages-num":"onChildAgeBlur","click .rooms-guests-clear":"onClearClicked","click .js-done":"onDoneClicked","click .js-back-icon":"onDoneClicked","click .done_button":"hideTakeoverScreen","change .m-age-slider":"childAgeSliderClickHandler","input .m-age-slider":"childAgeSliderClickHandler"},options:{dropdownPanel:".js-rooms-guests-panel",inactive:"is-inactive",scrollBarTarget:".js-rooms-guests-panel > .rooms-guest-wrapper",dropdownTrigger:".m-icon-trigger",dropdownActive:"t-icon-arrow-up",dropdownInActive:"t-icon-arrow-down"},textValues:{},init:function(){var e=this;if(this.subscribeDOMEvents(),this.optionMaxValue=this.$el.find(".roomCount option:last-child").val(),this.setTextValues(),this.$dropdownIcon=this.$el.find(this.options.dropdownTrigger),this.gxpAgentPropertyCode=this.$el.data("agent-property-code"),this.$inputAdult=this.$el.find(".js-adults-num"),this.$inputChildren=this.$el.find(".js-children-num"),this.$inputRoom=this.$el.find(".js-rooms-num"),r(document).on("click",(function(t){r(t.target).is(".js-rooms-guests-trigger")||r(t.target).parents("#guestsrooms").length||e.onClose(t,e)})),this.$el.parents(".mfp-content").on("click",(function(t){r(t.target).is(".js-rooms-guests-trigger")||r(t.target).parents("#guestsrooms").length||e.onClose(t,e)})),this.$parent.$el.find("input[type!='hidden'], a, div[tabindex = '0']").on("focusin",(function(t){e.onClose(t,e)})),this.prepareDom(),this.onRoomsBlur(),this.createTakeOverScreen(this.$el.find(".l-rooms-guests-panel"),this.$el.find(".l-rooms-guests-panel").data("takeover-label"),this.$parent.$el.data("done-button-label")),this.$parent.isAndroidDevice()){e=this;this.$el.on("focus",".l-stepper-input",(function(){e.$el.find(".rooms-guest-wrapper").css(o.ANDROID_INPUT_FIX)})).on("blur",".l-stepper-input",(function(){e.$el.find(".rooms-guest-wrapper").css(o.REMOVE_ANDROID_INPUT_FIX)}))}this.initScroller()},initScroller:function(){var e=document.activeElement;!this.scrollbar&&parseInt(this.$inputChildren.val())>0&&!this.$parent.responsiveUtils.isMobileOrTablet()&&(this.scrollbar=l.create({$el:this.$el,$scrollBarTarget:this.$el.find(this.options.scrollBarTarget)}),this.scrollbar.init(),e.focus())},removeScroller:function(){if(this.scrollbar){var e=document.activeElement;this.scrollbar.destroy(),delete this.scrollbar,e.focus()}},createTakeOverScreen:function(e,t,i){if(this.suppressTakeOver)this.takeoverScreen={isActive:!1};else{var a=this,r=o.TAKEOVER_VARIATION[this.$parent.getTakeOverVariation()],l=this.$parent.getTakeOverVariation();this.takeoverScreen=s.create({$el:e,headerLabel:t,skipDimensions:!0,isNotRetainDisplayAttribute:!0,transition_speed:n.SEARCH_FORM.TAKE_OVER_SPEED,keepOverflowHidden:r.KEEP_OVERFLOW_HIDDEN,customHeader:function(){this.$el.prepend('<div class="page-take-over-header"><span class="back-btn"></span>'+this.headerLabel+'<a class="done_button" href="#">'+i+"</a></div>"),a.addCustomHeaderStyle||this.$el.find(".page-take-over-header").css(o.TAKEOVER_HEADER_STYLING)},beforeShow:function(){a.$el.toggleClass("is-active"),a.$el.find(".js-rooms-guests-panel").slideToggle("fast").toggleClass("is-hidden"),a.$el.find(".js-rooms-guests-panel").attr("aria-expanded",!a.$el.find(".js-rooms-guests-panel").attr("aria-expanded")),a.$parent.$el.find(".t-more-search-options").css("overflow","visible"),l===n.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS&&a.$el.closest(".mfp-wrap").css("overflow","hidden")},afterHide:function(){a.$el.hasClass("is-active")&&(a.$el.removeClass("is-active"),a.$el.find(".js-rooms-guests-panel").slideUp(),a.$dropdownIcon.removeClass(a.options.dropdownActive).addClass(a.options.dropdownInActive),l===n.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS&&a.$el.closest(".mfp-wrap").css({"overflow-x":"hidden","overflow-y":"scroll"}))}})}},hideTakeoverScreen:function(e){this.suppressTakeOver||(e&&e.preventDefault(),this.takeoverScreen.hide())},addTakeover:function(){this.suppressTakeOver||this.$parent.$el.find(".l-rooms-guests").hasClass("is-active")&&(this.onRoomsGuestsClicked(),this.takeoverScreen.reload(),this.removeScroller(),this.$el.css("z-index","auto"))},removeTakeover:function(){this.suppressTakeOver||(this.$parent.$el.find(".l-rooms-guests").hasClass("is-active")?(this.takeoverScreen.remove(),this.$el.find(".l-rooms-guests-panel").removeAttr("style").css("top","auto"),this.onRoomsGuestsClicked(),this.initScroller()):this.$el.find(".l-rooms-guests-panel").removeAttr("style").hide(),this.$el.css("z-index","1"))},setTextValues:function(){var e=this.$el.find(".js-rooms-guests-trigger").data("options");if(!e)return!1;this.textValues.$roomText=e.room,this.textValues.$roomsText=e.rooms,this.textValues.$adultText=e.adult,this.textValues.$adultsText=e.adults,this.textValues.$childText=e.child,this.textValues.$childrenText=e.children,this.textValues.$perroomText=e.perroom,this.textValues.$perroomFullText=e.perroomfull,this.textValues.$upText=e.up,this.textValues.$downText=e.down,this.textValues.$ageText=e.age,this.textValues.$lessthan=e.lessthan,this.textValues.$defaultAge=e.defaultAge,this.textValues.$forfirstroomText=e.forfirstroom,this.textValues.$maxAgeLimit=e.maxAgeLimit,this.textValues.$yearText=e.year,this.textValues.$yearsText=e.years,this.textValues.$capLessthanText=e.capLessthan},handleDisplayFormat:function(){var e=this.$el.find(".js-rooms-guests-trigger").data("options");e&&(this.textValues.$perroomText=e.perroom),this.displayText()},prepareDom:function(){var e=parseInt(this.$inputChildren.val()),t=this.$el.find(".l-age-based");e>0?t.removeClass("is-hidden"):t.addClass("is-hidden"),this.$el.find(".js-ages-append").html(""),this.updateChildAgePickers(this.$el.find(".js-children-ages").val()),this.toggleRoomButtons(),this.toggleAdultButtons(),this.toggleChildButtons(),this.displayText()},updateChildAgePickers:function(e){var t=this.$el.find(".js-ages-append"),i=this.$el.find(".js-age-template").html(),a=t.find(".js-ages-num").attr("data-default"),s=""!==e?e.split(","):[];if(this.$parent.responsiveUtils.isMobileOrTablet())this.handleChildAgeDiv(s.length,s);else for(var n=0;n<s.length;n++)t.show(),t.append("<div class='agecontainer'>"+i+"</div>"),this.setChildrenAgesInputProperties(t,this.textValues.$childText+(n+1)),-1==s[n]?s[n]=this.textValues.$defaultAge:0==s[n]&&(s[n]=this.textValues.$lessthan),t.find(".agecontainer input").last().val(s[n]),t.find(".agecontainer select").last().val(isNaN(parseInt(s[n]))?s[n]===a?-1:0:s[n]),this.toggleChildAgeButtons(t.find(".agecontainer input").last())},displayText:function(){var e=parseInt(this.$inputAdult.val()),t=parseInt(this.$inputChildren.val()),i=parseInt(this.$inputRoom.val());this.setRoomCount(i),this.setAdultCount(e),this.setChildrenCount(t)},setRoomCount:function(e){var t=parseInt(this.$inputChildren.val()),i=this.$el.find(".js-number-of-rooms"),a=i.data("is-ers-modify-path");if(i.html(e),!a||e)if(1===e?this.$el.find(".js-rooms-text").html(" "+this.textValues.$roomText):this.$el.find(".js-rooms-text").html(" "+this.textValues.$roomsText),this.isGXPAgentSelfProperty()){var s=this.$el.find(".js-room-count-gxp");e<0?i.html(s.find("option:first-child").val()):e>20&&i.html(s.find("option:last-child").val())}else e&&e<=4?(this.$el.find(".js-adlt").removeClass("is-hidden"),t>0&&this.$el.find(".js-chld").removeClass("is-hidden"),this.$el.find(".js-all-guests").removeClass("is-hidden"),4===e&&i.html("4-9")):(10===e?i.html("10-25"):i.html("26+"),this.$el.find(".js-adlt,.js-chld").addClass("is-hidden"),this.$el.find(".js-all-guests").addClass("is-hidden"))},setAdultCount:function(e){this.$el.find(".js-number-of-adults").html(e),1===e?this.$el.find(".js-adults-text").html(" "+this.textValues.$adultText):this.$el.find(".js-adults-text").html(" "+this.textValues.$adultsText)},setChildrenCount:function(e){var t=parseInt(this.$inputRoom.val()),i=" "+this.textValues.$childText+this.textValues.$perroomText,a=" "+this.textValues.$childrenText+this.textValues.$perroomText;this.$el.find(".js-number-of-children").html(e),0===e?(this.removeScroller(),this.$el.find(".js-chld").addClass("is-hidden"),t<10&&this.$el.find(".js-adults-perroom").removeClass("is-hidden")):(this.initScroller(),1===e?this.$el.find(".js-children-text").html(i):this.$el.find(".js-children-text").html(a),t<10&&this.$el.find(".js-chld").removeClass("is-hidden"),this.$el.find(".js-adults-perroom").addClass("is-hidden"))},setRoomGuestScrollPosition:function(e){var t=this.$el.find(".rooms-guest-wrapper"),i=t.height();1==e&&(i-=t.find(".agecontainer").height(),this.$el.find(".rooms-guest-wrapper").scrollTop(i))},onRoomsGuestsClicked:function(e,t){e&&e.preventDefault();this.$parent.responsiveUtils.isMobileOrTablet()&&!this.suppressTakeOver?this.takeoverScreen.init():!this.$parent.disableSubTakeover&&this.$parent.responsiveUtils.isMobileOrTablet()||(this.$el.toggleClass("is-active"),this.$el.find(".js-rooms-guests-panel").slideToggle("fast").toggleClass("is-hidden").parents("div.l-rooms-guests"),this.$dropdownIcon.toggleClass(this.options.dropdownActive).toggleClass(this.options.dropdownInActive),this.$el.find(".js-rooms-guests-panel").attr("aria-expanded",!this.$el.find(".js-rooms-guests-panel").attr("aria-expanded")),this.$parent.$el.find(".t-more-search-options").css("overflow","visible")),"function"==typeof this.expandSearchForm&&this.expandSearchForm(),_.defer((function(){_.isFunction(t)&&t()}))},onPlusMinusClicked:function(e){var t=this.$el.find(e.target);t.hasClass("is-inactive")||(1==t.parent().find(".js-children-num").length?this.childrenButtonClickHandler(e,this):1==t.parent().find(".js-ages-num").length?this.childAgeButtonClickHandler(e,this):1==t.parent().find(".js-adults-num").length?this.guestButtonClickHandler(e,this,this.optionMaxValue):1==t.parent().find(".js-rooms-num").length&&this.roomButtonClickHandler(e,this,this.optionMaxValue),this.displayText(),1==t.parent().find(".js-children-num").length&&this.setRoomGuestScrollPosition(parseInt(this.$el.find(".js-number-of-children").html())))},onDoneClicked:function(e){e.preventDefault(),this.$el.find(".l-rooms-guests-trigger-box").trigger("click")},onRoomsBlur:function(e){var t;t=e?this.$el.find(e.target):this.$inputRoom;var i,a,s,n=parseInt(t.val(),10),o=this.optionMaxValue>3,r=0;this.isGXPAgentSelfProperty()&&(s=!0),isNaN(n)||n<1?a="1":n>3&&n<10&&o&&!s?(a="4-9",r=3):n>9&&n<26&&o&&!s?(a="10-25",r=4):n>25&&o&&!s?(a="26+",r=5):n>this.optionMaxValue?(a=this.optionMaxValue,r=this.optionMaxValue-1):(a=n,r=n-1),i=parseInt(a)>1?this.textValues.$roomsText:this.textValues.$roomText,"function"==typeof this.roomsModified&&this.roomsModified(a),t.val(a),this.$inputRoom.val(a+" "+i),s?t.siblings(".js-room-count-gxp").val(parseInt(a)).prop("selectedIndex",r):t.siblings(".js-room-count").val(parseInt(a)).prop("selectedIndex",r),this.displayText(),this.toggleRoomButtons()},onAdultsBlur:function(e){var t;t=e?this.$el.find(e.target):this.$inputAdult;var i,a=parseInt(t.val()),s=this.$inputChildren,n=parseInt(s.val()),o=parseInt(t.attr("data-max")),r=parseInt(t.attr("data-min")),l=0;isNaN(a)||a<=r?(i=r+" "+this.textValues.$adultText+" "+this.textValues.$perroomFullText,l=0):a+n>o?(i=o-n+" "+this.textValues.$adultsText+" "+this.textValues.$perroomFullText,l=5):a+n>r&&a+n<=o&&(i=a+" "+this.textValues.$adultsText+" "+this.textValues.$perroomFullText,l=a-1),t.val(i),this.$el.find(".guestCount").val(parseInt(i)),this.$inputAdult.val(i),this.displayText(),t.siblings("select").prop("selectedIndex",l),this.toggleChildButtons(),this.toggleAdultButtons()},onChildBlur:function(e){var t,i=this.$el.find(e.target),a=parseInt(i.attr("data-max")),s=parseInt(i.attr("data-min")),n=parseInt(this.$inputAdult.val()),o=parseInt(i.val());isNaN(o)||o<0?(t=s+" "+this.textValues.$childrenText+" "+this.textValues.$perroomFullText,this.handleChildAgeDiv(s)):o+n>a+1?(t=a+1-n+" "+(a+1-n>1?this.textValues.$childText+" "+this.textValues.$perroomFullText:this.textValues.$childrenText+" "+this.textValues.$perroomFullText),this.handleChildAgeDiv(a+1-n)):(t=o+" "+this.textValues.$childrenText+" "+this.textValues.$perroomFullText,this.handleChildAgeDiv(o)),0===parseInt(t)?this.removeScroller():this.initScroller(),i.val(t),this.$el.find(".childrenCount").val(parseInt(t)),this.$inputChildren.val(t),this.toggleAdultButtons(),this.toggleChildButtons(),this.displayText()},onChildAgeBlur:function(e){var t=this.$el.find(e.target),i=t.attr("data-default"),a=t.attr("data-lessthan"),s=parseInt(t.attr("data-max"),10),n=parseInt(t.val(),10);isNaN(n)?t.val()===i?t.val(i):t.val(a):n>s?t.val(s):n<=0?t.val(a):t.val(n),this.setChildAgeValues(),this.toggleChildAgeButtons(t)},toggleChildButtons:function(){var e=this.$inputChildren,t=parseInt(this.$inputAdult.val()),i=parseInt(e.val()),a=parseInt(e.attr("data-min")),s=parseInt(e.attr("data-max")),n=e.parent().find(".l-plus"),o=e.parent().find(".l-minus");this.$el.find(".js-children .js-custom-input-val").text(isNaN(i)?"":i),i+t>=s+1?(n.addClass(this.options.inactive),i===a?o.addClass(this.options.inactive):o.removeClass(this.options.inactive)):(n.removeClass(this.options.inactive),i>a?o.removeClass(this.options.inactive):o.addClass(this.options.inactive))},toggleAdultButtons:function(e,t){var i=this.$inputAdult,a=parseInt(this.$inputChildren.val()),s=parseInt(i.val()),n=parseInt(i.attr("data-min")),o=parseInt(i.attr("data-max")),r=i.parent().find(".l-plus"),l=i.parent().find(".l-minus");this.$el.find(".js-adults .js-custom-input-val").text(isNaN(s)?"":s),a+s>=o?(r.addClass(this.options.inactive),s===n?l.addClass(this.options.inactive):l.removeClass(this.options.inactive)):(r.removeClass(this.options.inactive),s>n?l.removeClass(this.options.inactive):l.addClass(this.options.inactive))},toggleChildAgeButtons:function(e){e.attr("data-min");var t=e.attr("data-max"),i=e.attr("data-default"),a=e.attr("data-lessthan"),s=e.val(),n=e.parent().find(".l-plus"),o=e.parent().find(".l-minus");s===i||s===a?o.addClass(this.options.inactive):parseInt(s)>=parseInt(t)?(o.removeClass(this.options.inactive),n.addClass(this.options.inactive)):(o.removeClass(this.options.inactive),n.removeClass(this.options.inactive))},toggleRoomButtons:function(){var e=this.$inputRoom,t=parseInt(e.val()),i=e.siblings(".js-plus"),a=e.siblings(".js-minus");this.$el.find(".js-rooms .js-custom-input-val").text(this.$el.find('.js-room-count option[value="'+t+'"]').text().trim().split(" ")[0]),1===t?(a.addClass(this.options.inactive),i.removeClass(this.options.inactive)):t===parseInt(this.optionMaxValue,10)?(a.removeClass(this.options.inactive),i.addClass(this.options.inactive)):(a.removeClass(this.options.inactive),i.removeClass(this.options.inactive))},handleChildAgeDiv:function(e,t){var i=this,a=this.$el.find(".js-age-template").html();e&&t&&t.length>0&&this.$el.find(".js-ages-append").html("");var s,n=this.$el.find(".js-ages-append .agecontainer").length;if(parseInt(e))if(this.$el.find(".js-age-based").show(),e>n){s=n+1;for(var o=n;o<e;o++){var l,d=i.textValues.$childText+" "+s+" :  "+i.textValues.$ageText;this.$parent.responsiveUtils.isMobileOrTablet()&&(d=i.textValues.$childText+" "+s+" "+i.textValues.$ageText+" : "),this.$el.find(".js-ages-append").append("<div class='agecontainer l-s2-stepper'>"+a+"</div>"),this.$el.find(".js-ages-append").each((function(e){l=i.textValues.$childText+" "+s;var a=r(this).find(".agecontainer").length,n=r(this).find(".agecontainer").last(),c=n.find(".js-ages-num").attr("id"),h=n.find(".m-age-slider").attr("id");r(this).find(".agecontainer .l-childnum-title").last().text(d),n.find(".js-ages-num").attr("id",c+"_"+a),n.find(".m-age-slider").attr("id",h+"_"+a),n.find(".m-age-slider-label").attr("for",h+"_"+a);var p=n.find('label[for="'+c+'"]');p.attr("for",c+"_"+a),p.html(l+" "+i.textValues.$ageText+" "+i.textValues.$maxAgeLimit);var u=n.find(".childrenAgesNum").attr("id");n.find(".childrenAgesNum").attr("id",u+"_"+a),n.find('label[for="'+u+'"]').attr("for",u+"_"+a),t&&t.length>0&&n.find(".m-age-slider").val(t[o]).trigger("change",!0)})),s++}}else for(o=e;o<n;o++)i.$el.find(".js-ages-append .agecontainer").last().remove();else this.$el.find(".js-chld").addClass("is-hidden"),this.$el.find(".js-ages-append").html(""),this.$el.find(".js-age-based").hide();t&&t.length>0||this.setChildAgeValues()},onClearClicked:function(e){e&&e.preventDefault(),this.$el.find(".roomCount,.guestCount").val(1),this.$el.find(".js-rooms-num").val("1 "+this.textValues.$roomText),this.$inputAdult.val("1 "+this.textValues.$adultText+" "+this.textValues.$perroomFullText),this.$el.find(".childrenCount").val(0),this.$el.find(".js-children-ages").val(""),this.$inputChildren.val("0 "+this.textValues.$childrenText+" "+this.textValues.$perroomFullText).blur(),this.$el.find('.js-rooms-guests-panel input[type="text"]').not(".js-ages-num,.js-children-num").blur(),this.$el.find(".js-ages-append").html(""),this.$el.find(".js-chld").addClass("is-hidden"),this.$el.find(".js-age-based").hide();var t=this.$el.find(".js-rooms-num"),i=this.$inputAdult,a=this.$inputChildren;t.siblings(".js-plus").removeClass("is-inactive"),t.siblings(".js-custom-input-val").text("1"),t.siblings(".js-minus").addClass("is-inactive"),i.siblings(".js-plus").removeClass("is-inactive"),i.siblings(".js-minus").addClass("is-inactive"),i.siblings(".js-custom-input-val").text("1"),a.siblings(".js-plus").removeClass("is-inactive"),a.siblings(".js-minus").addClass("is-inactive"),a.siblings(".js-custom-input-val").text("0"),"function"==typeof this.roomsModified&&this.roomsModified(1),this.displayText()},onClose:function(e,t){0===t.$el.find(e.target).length&&t.$el.hasClass("is-active")&&(!t.$parent.responsiveUtils.isDevice()&&t.$parent.$el.closest(".is-sticky-top").length&&t.pubsub.publish("SHOW_HWS_NAVIGATION_BAR"),t.$el.removeClass("is-active"),t.$el.find(".js-rooms-guests-panel").slideUp(),t.$dropdownIcon.removeClass(t.options.dropdownActive).addClass(t.options.dropdownInActive))},childrenButtonClickHandler:function(e,t){e.preventDefault();var i,a=parseInt(t.$inputChildren.val()),s=parseInt(t.$inputChildren.attr("data-max")),n=parseInt(t.$inputChildren.attr("data-min")),o=t.$el.find(".js-age-template").html(),l=t.$el.find(e.target),d=parseInt(t.$inputAdult.val());if(l.is(".l-plus")&&a+d<=s)t.$el.find(".js-age-based").show(),a<s&&(a+=1,t.$el.find(".js-chld").removeClass("is-hidden"),t.$el.find(".js-ages-append").show(),t.$el.find(".js-ages-append").append('<div class="agecontainer l-s2-stepper">'+o+"</div>"),this.$el.find(".js-ages-append").each((function(e){i=t.textValues.$childText+" "+a,t.setChildrenAgesInputProperties(r(this),i)})),1===a?(t.$el.find(".js-number-of-children").text("1"),t.$el.find(".js-children-text").text(" "+t.textValues.$childText),t.$inputChildren.val(a+" "+t.textValues.$childText+" "+t.textValues.$perroomFullText)):(t.$el.find(".js-number-of-children").text(a),t.$el.find(".js-children-text").text(" "+t.textValues.$childrenText),t.$inputChildren.val(a+" "+t.textValues.$childrenText+" "+t.textValues.$perroomFullText)));else if(l.is(".l-minus")){parseInt(t.$inputAdult.attr("data-max"));a>n&&(a-=1,t.$el.find(".js-ages-append .agecontainer").last().remove(),t.$inputChildren.val(a+" "+t.textValues.$childrenText+" "+t.textValues.$perroomFullText)),1===a?(t.$el.find(".js-number-of-children").text("1"),t.$el.find(".js-children-text").text(" "+this.textValues.$childText),t.$inputChildren.val(a+" "+t.textValues.$childText+" "+t.textValues.$perroomFullText)):0===a?(t.$el.find(".js-number-of-children").text(a),t.$el.find(".js-children-text").text(" "+t.textValues.$childrenText),t.$el.find(".js-chld").addClass("is-hidden"),t.$el.find(".js-age-based").hide()):(t.$el.find(".js-number-of-children").text(a),t.$el.find(".js-children-text").text(" "+t.textValues.$childrenText))}t.$el.find(".childrenCount").val(a),t.$inputChildren.data("oldVal",a),this.setChildAgeValues(),this.toggleAdultButtons(),this.toggleChildButtons()},setChildrenAgesInputProperties:function(e,t){var i=t+" : "+this.textValues.$ageText;this.$parent.responsiveUtils.isMobileOrTablet()&&(i=t+" "+this.textValues.$ageText+": ");var a=e.find(".agecontainer").length,s=e.find(".agecontainer").last(),n=s.find(".js-ages-num").attr("id"),o=s.find(".m-age-slider").attr("id");this.$parent.$el.find(".l-reslink-room-guests-container");s.find(".l-childnum-title").text(i),s.find(".js-ages-num").attr("id",n+"_"+a),s.find(".m-age-slider").attr("id",o+"_"+a),s.find(".m-age-slider-label").attr("for",o+"_"+a);var r=s.find('label[for="'+n+'"]');r.attr("for",n+"_"+a),r.html(t+" "+this.textValues.$ageText+" "+this.textValues.$maxAgeLimit);var l=s.find(".childrenAgesNum").attr("id");s.find(".childrenAgesNum").attr("id",l+"_"+a),s.find('label[for="'+l+'"]').attr("for",l+"_"+a)},childAgeSliderClickHandler:function(e,t){if(e.preventDefault(),r(e.target).parents(".sub-takeover").length&&!r(e.target).parents(".sub-takeover").hasClass("js-rooms-guests"))return!1;var i=this.$el.find(e.target),a=i.val(),s=i.parents(".agecontainer").find(".js-ages-num"),n=a,o=!0;0==a?(a=this.textValues.$lessthan,n=this.textValues.$capLessthanText):a<0?(n=0,o=!1):n=1==n?n+" "+this.textValues.$yearText:n+" "+this.textValues.$yearsText,i.parents(".agecontainer").find(".l-slider-value").text(n),o&&s.val(a),t||this.setChildAgeValues(),this.toggleChildAgeButtons(s)},childAgeButtonClickHandler:function(e,t){e.preventDefault();var i,a=t.$el.find(e.target),s=a.siblings(".js-ages-num").attr("data-max"),n=(a.siblings(".js-ages-num").attr("data-min"),a.siblings(".js-ages-num").attr("data-default")),o=a.siblings(".js-ages-num").attr("data-lessthan");i=a.is(".js-ages-num")?parseInt(a.val()):a.siblings(".js-ages-num").val(),a.is(".l-plus")?((i=isNaN(i)?i===n?o:"1":parseInt(i)+1)>parseInt(s)-1&&(i=s),a.siblings(".js-ages-num").val(i),a.siblings("span.js-ages-text").text(i)):a.is(".l-minus")&&(i>0?(i=parseInt(i)-1,a.siblings(".js-ages-text").text(i),0==i&&(i=o),a.siblings(".js-ages-num").val(i)):isNaN(i)&&(i=o,a.siblings(".js-ages-num").val(i))),isNaN(i)&&(i="0"),a.parents(".agecontainer").find(".m-age-slider").val(i).trigger("change"),this.setChildAgeValues(),this.toggleChildAgeButtons(a.siblings(".js-ages-num"))},setChildAgeValues:function(){var e=this,t=[],i=this.$el.find(".js-ages-num:visible");this.$parent.responsiveUtils.isMobileOrTablet()&&this.$el.find(".m-age-slider:visible").length&&(i=this.$el.find(".m-age-slider:visible")),i.each((function(){r(this).val()===e.textValues.$defaultAge||r(this).val()===e.textValues.$lessthan?r(this).val()===e.textValues.$defaultAge?t.push("-1"):t.push("0"):t.push(r(this).val())})),this.$el.find(".js-children-ages").val(t.join(","))},guestButtonClickHandler:function(e,t,i){e.preventDefault();var a,s=parseInt(t.$inputAdult.val()),n=parseInt(t.$inputAdult.attr("data-max")),o=t.$el.find(e.target),r=parseInt(t.$inputChildren.val());if(o.is(".l-plus")&&s+r<n){if(s>=n)return!1;s+=1,t.$inputAdult.val(s+" "+t.textValues.$adultsText+" "+t.textValues.$perroomFullText)}if(o.is(".l-minus")){if(1==s)return t.$el.find(".js-number-of-adults").text(s),t.$el.find(".js-adults-text").text(" Adult"),!1;a=1!=(s-=1)?s+" "+t.textValues.$adultsText+" "+t.textValues.$perroomFullText:s+" "+t.textValues.$adultText+" "+t.textValues.$perroomFullText,t.$inputAdult.val(a)}1==s?(t.$el.find(".js-number-of-adults").text(s),t.$el.find(".js-adults-text").text(" Adult")):(t.$el.find(".js-number-of-adults").text(s),t.$el.find(".js-adults-text").text(" Adults")),t.$el.find(".guestCount").val(s),this.toggleChildButtons(),this.toggleAdultButtons()},roomButtonClickHandler:function(e,t,i){var a,s,n=t.$el.find(e.target),o=parseInt(n.siblings("input").val());e.preventDefault(),this.isGXPAgentSelfProperty()?(s=n.siblings("select.js-room-count-gxp"),this.optionMaxValue=this.$el.find(".js-room-count-gxp option:last-child").val()):(s=n.siblings("select.js-room-count"),this.optionMaxValue=this.$el.find(".js-room-count option:last-child").val()),o||(o=parseInt(s.val()),n.siblings("input").val(o)),s.find("option").each((function(e){n.is(".l-plus")?parseInt(t.$el.find(this).text())===o&&e<s.find("option").length&&!n.hasClass(t.options.inactive)&&(e++,s.prop("selectedIndex",e),a=s.find("option:selected").text().trim(),n.siblings("input").val(a)):parseInt(t.$el.find(this).text())===o&&e>0&&(e--,s.prop("selectedIndex",e),a=s.find("option:selected").text().trim(),n.siblings("input").val(a))})),"function"==typeof this.roomsModified&&this.roomsModified(a),this.toggleRoomButtons()},isGXPAgentSelfProperty:function(){return this.$parent.$el.find(".search-property-code").val()&&this.$parent.$el.find(".search-property-code").val()===this.gxpAgentPropertyCode&&!this.$parent.$el.find(".js-userewards-checkbox").is(":checked")?(this.$el.data("is-agent-self-property",!0),this.$el.find(".js-room-count").attr("disabled","disabled"),this.$el.find(".js-room-count-gxp").removeAttr("disabled"),!0):(this.$el.find(".js-room-count-gxp").attr("disabled","disabled"),this.$el.find(".js-room-count").removeAttr("disabled"),!1)}});e.exports=d},52:function(e,t,i){var a=i(2).extend({elOverride:!0,initialize:function(e){var t=this;e&&_.each(e,(function(e,i){t[i]=e}))}});e.exports=a},53:function(e,t,i){var a=i(20),s=i(14),n=i(3),o=i(11),r=i(0),l=a.extend({events:{"click .toggle":"toggleSpecialRates","click .js-special-rates-header":"openDropDown","click .js-h-toggle":"codeInputToggle","click .l-back-icon":"closeSpecialRatesSection","blur .l-sell-opt-input":"onBlurEvent","click .done_button":"hideTakeoverScreen"},init:function(){var e=this.$el.find(".l-h-toggle-text");e.html(e.data("value")),this.subscribeDOMEvents(),this.$el.find(".toggle").each((function(){var e=r(this);e.hasClass("is-active")?e.find("span.t-icon").removeClass("t-icon-arrow-down").addClass("t-icon-arrow-up"):(e.find("span.t-icon").removeClass("t-icon-arrow-up").addClass("t-icon-arrow-down"),e.next(".toggle-container").hide())})),this.$el.find(".js-h-toggle").each((function(){var e=r(this).find('input[type="radio"]');e.prop("checked")&&(r(this).parent().addClass("is-checked"),"sell-strategy"!==e.val()&&(r(this).find("input#hotel_group-sell")&&r(this).addClass("skip-reset-date"),e.click()))})),this.createTakeOverScreen(this.$el.find(".special-rates-section"),this.$el.find(".special-rates-section").data("takeover-label"),this.$parent.$el.data("done-button-label")),r(document).on("click",_.bind(this.closeSpecialRatesSection,this)),this.$parent.$el.find("input[type!='hidden'], a, div[tabindex = '0']").on("focusin",_.bind((function(e){this.closeSpecialRatesSection(e)}),this))},createTakeOverScreen:function(e,t,i){var a=this,r=o.TAKEOVER_VARIATION[this.$parent.getTakeOverVariation()];this.takeoverScreen=s.create({$el:e,headerLabel:t,transition_speed:n.SEARCH_FORM.TAKE_OVER_SPEED,keepOverflowHidden:r.KEEP_OVERFLOW_HIDDEN,customHeader:function(){this.$el.prepend('<div class="page-take-over-header"><span class="back-btn"></span>'+this.headerLabel+'<a class="done_button" href="#">'+i+"</a></div>"),this.$el.find(".page-take-over-header").css(o.TAKEOVER_HEADER_STYLING)},beforeShow:function(){var e=a.$el.find(".toggle");e.toggleClass("is-active"),e.next(".toggle-container").slideToggle()},afterHide:function(){a.$el.find(".toggle-container").slideUp(),a.$el.find(".toggle").removeClass("is-active"),a.$el.find(".m-icon-trigger").removeClass("dropdown-is-active"),a.$el.parent().find(".m-icon-trigger").removeClass("dropdown-is-active")}})},hideTakeoverScreen:function(e){e&&e.preventDefault(),this.takeoverScreen.hide()},closeSpecialRatesSection:function(e){var t=this.$el;t.is(e.target)||0!==t.has(e.target).length&&!this.$el.find(e.target).hasClass("l-back-icon")||(this.$el.find(".toggle-container").slideUp(),t.find(".toggle").removeClass("is-active"),t.parent().find(".m-icon-trigger").removeClass("dropdown-is-active"),t.find("span.t-icon").removeClass("t-icon-arrow-up").addClass("t-icon-arrow-down"))},toggleSpecialRates:function(e,t){e.preventDefault();var i=this.$el.find(e.currentTarget);this.$el.closest(".t-more-search-options").removeAttr("style"),this.$parent.responsiveUtils.isMobileOrTablet()?this.takeoverScreen.init():(i.toggleClass("is-active"),i.hasClass("is-active")?i.find("span.t-icon").removeClass("t-icon-arrow-down").addClass("t-icon-arrow-up"):i.find("span.t-icon").removeClass("t-icon-arrow-up").addClass("t-icon-arrow-down"),i.next(".toggle-container").slideToggle()),_.defer((function(){_.isFunction(t)&&t()}))},openDropDown:function(e){var t=this.$el.find(e.currentTarget);e.preventDefault(),t.hasClass("is-active")?(t.find(".m-icon-trigger").addClass("dropdown-is-active"),t.parent().find(".m-icon-trigger").addClass("dropdown-is-active"),this.$el.find(".l-rooms-guests").removeClass("is-active"),this.$el.find(".l-rooms-guests .m-icon-trigger").removeClass("dropdown-is-active"),this.$el.find(".js-rooms-guests-panel").hide(),this.$el.find(".js-code-section-replica input:text:visible:first").focus()):t.find(".m-icon-trigger").removeClass("dropdown-is-active")},codeInputToggle:function(e,t){var i,a=r(e.currentTarget),s=a.find('input[type="radio"]'),n=r('<div class="js-code-section-replica l-margin-bottom-three-quarters"></div>');s.length>0&&(e.preventDefault(),s.prop("checked",!0),this.$el.find(".l-h-toggle-cont .is-checked").removeClass("is-checked"),a.parent().addClass("is-checked"),this.$el.find(".l-h-toggle-cont .special-rate-code").addClass("is-hidden").hide(),this.$el.find(".js-code-section-replica").remove(),this.$el.find(".special-rate-codes input:text").val(""),this.$parent.$el.find(".l-userewards-checkmark").removeClass("t-icon-checkmark"),this.$parent.$el.find(".js-h-toggle-checkbox").prop("checked",!1).attr("checked",!1),this.onItemClicked&&this.onItemClicked(a),this.$parent.$el.find("#special-rates-search").data("hotel-sell-option",s.val()),this.$parent.$el.find('input[name="sellOption"]').attr("value",s.val()),this.$parent.$el.find('input[name="sellOptionLabel"]').attr("value",s.data("sell-option-label")),"direct"==s.val()||"cluster"==s.val()||"business"==s.val()||"packages"==s.val()||"discount"==s.val()||"wholesaler"==s.val()||"rack"==s.val()||"group-sell"==s.val()?s.prop("checked")?(this.$el.find(".l-h-toggle").find(".l-h-toggle-text").html(s.siblings("legend").find(".cluster-code-label").html().trim()),i=this.$el.find(".code-container"),n.appendTo(s.parents("li")),i.clone(!0,!0).appendTo(s.parents("li").find(".js-code-section-replica")),this.$el.find(".js-code-section-replica").find("."+s.val()+"-code").show().removeClass("is-hidden"),this.$el.find(".js-code-section-replica").find("."+s.val()+"-code").find("input:text").first().focus()):(this.$el.find(".special-rates-section").find("."+s.val()+"-code").addClass("is-hidden"),this.$el.find(".js-code-section-replica").remove()):(this.$el.find(".l-h-toggle").find(".l-h-toggle-text").html(s.siblings("legend").find(".cluster-code-label").html().trim()),this.closeToggle(s,s.val(),t),this.$el.find(".special-rate-code").addClass("is-hidden").hide(),this.$el.find(".js-code-section-replica").remove()))},onBlurEvent:function(e){if(e&&(this.$el.find(e.relatedTarget).hasClass("js-h-toggle")||this.$el.find(e.relatedTarget).parent().hasClass("js-h-toggle")))return!1;if(this.$el.find(".l-sell-opt-input").attr("name",""),this.$el.find(".js-addsegment-sellOptions").length)var t=this.$el.find(".l-h-toggle-opt").find("#"+this.$el.find(e.currentTarget).attr("data-special-rate-type")+"_hotel");else if("InCity"==this.$parent.$el.find('input[name="searchType"]').val())t=this.$el.find(".l-h-toggle-opt").find("#"+this.$el.find(e.currentTarget).attr("data-special-rate-type"));else t=this.$el.find(".l-h-toggle-opt").find("#hotel_"+this.$el.find(e.currentTarget).attr("data-special-rate-type"));this.closeToggle(t,t.val())},closeToggle:function(e,t,i){var a=this.$el.find(".l-h-toggle"),s=this.$el.find(".special-rates-section"),n=a.find(".l-h-toggle-text");"sell-strategy"==t?(this.$el.find(".l-sell-opt-input").attr("name",""),n.html(n.data("defaultheader")),this.$el.find(".l-sell-opt-input").val(""),this.$el.find(".js-h-toggle-checkbox").prop("checked")&&n.html(n.data("defaultheader")),this.$parent.responsiveUtils.isMobileOrTablet()||(i?(s.hide(),this.$el.find(".js-special-rates-header").removeClass("is-active")):a.click())):("direct"===t||"cluster"===t?""==this.$el.find(".special-rate-code").find("input[data-special-rate-type="+t+"]").val().trim()?this.$parent.responsiveUtils.isMobileOrTablet()||(this.$el.find(".special-rate-code").hide("fast"),this.$el.find(".search-clusterCode-sell-strategy").prop("checked",!0),this.$el.find(".l-h-toggle-cont .is-checked").removeClass("is-checked"),this.$el.find(".js-code-section-replica").remove(),this.$el.find(".search-clusterCode-sell-strategy").closest(".l-h-toggle-opt").addClass("is-checked"),n.html(n.data("defaultheader")),this.$parent.$el.find('input[name="sellOption"], input[name="sellOptionLabel"]').attr("value","sell-strategy")):(this.$el.find(".special-rates-section").find("."+t+"-code").find("input:text").each((function(){var e=r(this).data("name");r(this).attr("name",e)})),n.html(e.siblings("legend").find(".cluster-code-label").html().trim())):(this.$el.find(".special-rates-section").find("."+t+"-code").find("input:text").each((function(){var e=r(this).data("name");r(this).attr("name",e)})),n.html(e.siblings("legend").find(".cluster-code-label").html().trim())),this.$parent.responsiveUtils.isMobileOrTablet()||"direct"!==t&&"cluster"!==t&&"business"!==t&&"packages"!==t&&"discount"!==t&&"wholesaler"!==t&&"rack"!==t&&"group-sell"!==t&&a.click()),this.$el.find("span.t-icon").removeClass("t-icon-arrow-up").addClass("t-icon-arrow-down")}});e.exports=l},54:function(e,t){e.exports={getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}}},56:function(e,t,i){var a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,i){var a;return a=function(e,t){if("object"!=s(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(a)?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(0);i(40);var r=i(2),l=(i(8),i(7)),d=i(47),c=i(57),h=i(51),p=i(42),u=i(53),f=i(29),m=i(34),g=i(17),v=i(43),y=i(13),b=(i(11),i(3)),$=i(18),C=i(9),k=i(54),S=i(15),D=i(41),x=i(26),w=i(27),T=i(23),A=i(44),I=i(24),N=i(10),O=i(45);i(58)(o);var E=r.extend((n(n(n(n(n(n(n(n(n(n(a={isHeaderSearchForm:!1,subscribe:{TOGGLE_STICKY_SEARCH_FORM:"toggleStickySearchForm",ADVANCED_SEARCH_TAB_CLICK:"toggleSearchFormDisplay",OPEN_HEADER_SEARCH_FORM:"toggleHeaderSearchForm",SELL_STRATEGY_SCROLL:"initSellOptionsHeight",STICKY_BEHAVIOR_ADDED:"hideNavigationBar",STICKY_BEHAVIOR_REMOVED:"showNavigationBar",TOGGLE_CALENDAR_VISIBILITY:"hideCalendar",UPDATE_CLICK_TO_SEARCH_DATA:"updateClickToSearchData"},options:{scrollBarTarget:".m-flex-frame-wrapper"},events:{"click .js-h-toggle-checkbox":"toggleCheckbox","click .l-hsearch-labels .single-search,.l-hsearch-labels .js-moreoptions-expander-click":"expandSearchBar","focusin .l-hsearch-labels .single-search,.l-hsearch-labels .js-moreoptions-expander-click":"expandSearchBar","click #saved-hotel-container":"toggleSavedHotelDropdown","blur #saved-hotel-container":"closeSavedHotelDropdown","click .homepage-search-form .js-find-container, .mobile-web-search-form .js-select-date":"openMobileTakeOverScreen","keydown .homepage-search-form .js-find-container, .mobile-web-search-form .js-select-date":"openMobileTakeOverScreen","click .mobile-web-search-form .js-select-destination":"openMobileSubTakeOverScreenDestination","keydown .mobile-web-search-form .js-select-destination":"openMobileSubTakeOverScreenDestination","click .FindAndReserveSearchActionForm .m-check-deal-button":"openDealsBookingWidget","click .search-form-container .mfp-close":"closeDealsBookingWidget","click .homepage-search-form .js-form-close, #global-header-find-a-hotel .js-form-close, .js-modify-rlm-search-form .js-form-close":"closeMobileTakeOverScreen","click .edit-search-form .js-form-close, .rate-list-edit-search .js-form-close, .js-modify-rlm-search-form .js-form-close":"closeStickyTakeOverScreen","click .mfp-close":"collapseSearchForm","click .js-room-flight, .js-room-car":"updateRoomUrl","click .js-single-search-incity, .js-single-search-propertySearch":"sellOptionsHandler","keydown .js-single-search-incity, .js-single-search-propertySearch":"sellOptionsHandler","click .l-sell-options-footer .js-done":"toggleSellOptionsBox","click .js-clear-cluster-input":"clearClusterValue","click .js-submit-sell-options":"viewRatesAddChangeSegment","click .js-regional-nav-btn":"regionNavTriggerClick","keyup .js-auto-complete-input-v2":"hideRateClusterField","click .select-all":"selectAllBrands","click .clear-all-brand-specific":"clearAllBrandSpecific","click .clear-selected-brands":"clearAllBrands",'change .brands-section input[type="checkbox"]':"brandsCountUpdate","click .js-brands-header":"openBrandsDropDown","click .close-brand-container":"closeBrandContainer","click .l-brand-section":"preventPropagation","click .js-btn-search-location":"setSearchLocation","click .js-hotel-near-me":"setGeoLatLong","focusin .js-rooms-guests-trigger":"expandSubTakeover","click .js-rooms-guests-trigger":"expandSubTakeover","click .js-guestroom-apply":"removeSubTakeover","click .sub-takeover-cancel-link":"resetCachedProperties","click .js-submit-search-form":"submitSearchFormData"},updateInventoryLabel:function(e){this.kGroupLabel=this.inventoryOptions.label+("true"==e?this.inventoryOptions.kGroupValue:this.inventoryOptions.value)},bindEvents:function(){var e=this;e.inventoryOptions=e.$el.find(".inventory-date").data("inventory")||{};var t=e.$el.find(".js-date-pick-container").data("options");t&&e.updateInventoryLabel(t.showKGroupDate),e.ToDateInitial=new Date(e.$el.find(".js-toggle-picker .js-date-to").val()).getTime(),e.FromDateInitial=new Date(e.$el.find(".js-toggle-picker .js-date-from").val()).getTime(),e.$el.find(".js-datepick-container").on("change",e.reservationDateToOverlay.bind(e)),e.isAutoCompleteHandlerInitiated=!1,e.validateMarshaHandler=new A;var i=null;e.$el.closest(".t-modal-smallMed").addClass("m-modal t-modal-smallMed force-sell-overlay-form"),this.$el.find('input[name="associateViewFlag"]').length&&(this.isAssociateView=!0,i={TABLET_VIEWPORT:600,DESKTOP_VIEWPORT:768}),this.idPrefix=this.$el.data("id-prefix"),this.autocompleteInputEl=this.$el.find("#"+this.idPrefix+"_search-location")[0],this.hideCurrentLocation="https:"===window.location.protocol&&!this.$el.data("suppress-google-api"),this.enableGooglePlaceAutoSuggestion=this.$el.data("enable-google-places-api"),this.enableCustomAutoSuggest=this.$el.data("custom-auto-suggest"),this.windowWidth=o(window).width();var a=e.$el.find(".m-field-wrap"),s=e.$el.find(".m-field-wrap").prev(),n=this.getTakeOverVariation();if(this.enableGooglePlaceAutoSuggestion||this.$el.parent().find(".search-saved-hotels-tabs, .single-search-tabs").tabs().tabs("destroy"),this.$el.find(".special-rates-section .ui-tabs-selected").removeClass("ui-tabs-selected"),this.isAddSegmentTile=1===this.$el.find("#addsegment-datepicker").length,this.isForceSellOverlay=1===this.$el.find(".js-is-forcesell-overlay").length,this.initResponsiveUtils(i),this.disableSubTakeover=!this.$el.data("show-sub-takeover")&&this.responsiveUtils.isMobileOrTablet(),e.disableSubTakeover||e.$el.parent().addClass("is-new-ux"),this.$el.find(".js-rooms-guests-trigger").hasClass("js-readonly-element")||this.initRoomGuestHandler(),o("#addsegment-datepicker").length||this.handleTabIndex(),this.$el.find(".js-datepick-container").length||this.$el.find(".js-special-rates-header").click(),n!==b.SEARCH_FORM.VARIATIONS.HOMEPAGE&&this.handleSearchFormResize(),e.$el.data("hide-date-picker")||(this.datePickerPlugin=new c,this.datePickerPlugin.initDatePicker(this.$el,this.responsiveUtils,this)),this.initSpecialRateHandler(),this.initSellOptionsInputHandler(),this.$el.find("#saved-hotel").change((function(){""===o(this).find(":selected").val()?o(this).addClass("grey-color"):o(this).removeClass("grey-color")})),this.$el.find("#saved-hotel").change(),this.initHotelSellOptions(),this.$el.find(".l-hsearch-loc").length&&this.initAutocomplete(),this.initSearchTabHandler(),this.responsiveUtils.isDesktop()&&this.initScroller(),this.responsiveUtils.isMobileOrTablet())switch(n){case b.SEARCH_FORM.VARIATIONS.HEADER:case b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH:case b.SEARCH_FORM.VARIATIONS.MODIFY_RES:case b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH:o(this.$el.find(".t-more-search-options")[0]).addClass("l-clearfix");break;case b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT:case b.SEARCH_FORM.VARIATIONS.AVAILABILITY_SEARCH:this.responsiveUtils.isDesktop()&&o(this.$el.find(".t-more-search-options")[0]).addClass("l-clearfix")}o(".takeover-background").length||n===b.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS||n===b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH||n!==b.SEARCH_FORM.VARIATIONS.ASSOCIATE_SEARCH||n===b.SEARCH_FORM.VARIATIONS.MODIFY_RES?this.takeoverBackground=o(".takeover-background"):(this.takeoverBackground=o('<div class="takeover-background"></div>'),o("body").append(this.takeoverBackground));var r=this.$el.find("form");if(e.$el.hasClass("js-check-data-change")&&(e.initialFormData=e.serializeFormData(r),r.on("submit",(function(t){e.modifyRlmSearchHandler(t)}))),!0===this.$el.data("brands")){var d=[];!this.disableSubTakeover&&this.responsiveUtils.isMobileOrTablet()||o(document).on("click",_.bind(this.closeBrandContainer,this)),o(window).on("load",(function(){e.brandsCountUpdate()})),o(r).submit((function(){e.$el.find('.brands-section input[type="checkbox"]:checked').each((function(){d.push(o(this).val())})),e.$el.find('.brands-section input[type="checkbox"]').length==d.length?e.$el.find("input[name=marriottBrands]").val("all"):e.$el.find("input[name=marriottBrands]").val(d.join(",")),e.$el.find('.brands-section input[type="checkbox"]').attr("disabled",!0)}))}"force-sell-overlay"===this.$el.data("option")?(r.on("submit",(function(t){t.preventDefault();var i=r.serializeObject(),a=(r.data("billing-loc-code-url"),{sessionToken:e.getSessionToken(),formData:i});o(this).find("#submit-button").addClass("is-global-disable"),e.submitForceSellForm(a)})),this.$el.find(".js-hotelname").on("change",(function(){if(""!==event.target.value){var t={sessionToken:e.getSessionToken(),variation:e.getVariation(),context:{hotelCode:event.target.value}};e.makeAjaxCall({url:e.$el.find(".js-tabout-url").val(),contentType:"application/json",method:"POST",data:JSON.stringify(t),success:_.bind(e.forceSellTaboutSuccess,e),error:_.bind(e.forceSellTaboutSuccess,e)})}}))):"modify-review-change"===this.$el.find(".js-modify-review-res-form").data("template")?r.on("submit",(function(t){t.preventDefault(),e.submitModifyReviewForm()})):r.submit(_.bind(this.submitValidations,this)),e.$el.find(".js-fs-overlay-cancel-link").on("click",(function(t){e.pubsub.publish("POPUP_CLOSE")}));var h,p=e.$el.find(".t-more-search-options .l-hsearch-find button").outerHeight();this.isAndroidDevice()&&this.$el.find(".single-search").on("focus",(function(){h=h||a.height(),"landscape"===screen.orientation.type.match(/\w+/)[0]&&(a.height(h+s.height()+p),e.$el.scrollTop(s.height()))})).on("blur",(function(){"landscape"===screen.orientation.type.match(/\w+/)[0]&&(a.height(h-s.height()+p),e.$el.scrollTop(0))})),e.isAddSegmentTile&&e.$el.find(".js-datepick-container .m-dropdown-trigger").off().on("click",(function(t){e.$el.hasClass("opened-picker")?(e.$el.removeClass("opened-picker"),e.dateHandler.closeOnFormFieldsFocus=!0,e.dateHandler.close(e.dateHandler),e.dateHandler.closeOnFormFieldsFocus=!1):(e.$el.addClass("opened-picker"),e.$el.find(".js-date-from").focus())})),e.$el.hasClass("tile-hsearch-tiers")&&(e.tiersSearchOverlay=new l({open:!1,items:{src:".tile-hsearch-tiers",type:"inline"},sourceBlock:".tile-hsearch-tiers",focus:".mfp-close",avoidCloseOnContentClick:!0,enableEscapeKey:!0,addClassOnmfpContent:!0,beforeClose:function(){e.$el.hasClass("expanded")&&(e.collapseSearchForm(),e.datePickerPlugin&&e.datePickerPlugin.hideDatePicker())},afterClose:function(){e.$el.removeClass("mfp-hide")},mfpContentClassName:"l-container l-print-fullbleed"}),e.tiersSearchOverlay.register()),e.activeTab=e.$el.find(".ui-tabs-active a");var u=this.$el.find(".search-tab-list .associate-active-tab");u.length&&(e.$el.addClass("default-tab-change"),u.find("a").click());var f=e.$el.data();f.enableHintText&&I.init(e.$el),this.brandsCountUpdate(),f.hotelSearchError&&(this.pubsub.publish("TOGGLE_ERROR_MESSAGE",[!0]),e.$el.data("hotel-search-error","false")),e.$el.hasClass("offers-search-form")&&e.dealsBookingWidgetResizeHandler(),e.$el.parents(".l-panel").addClass("sticky-y-scroll");var m=o("#edit-search-form .l-hsearch-find .m-button-primary");-1!==window.location.pathname.indexOf("default")&&null!=m&&m.on("click",(function(){e.setSearchTypeDetails()}))},submitModifyReviewForm:function(e){var t=this,i=t.$el.find(".js-modify-review-res-form");t.makeAjaxCall({url:i.attr("action"),contentType:"application/x-www-form-urlencoded",method:"POST",data:i.serialize(),success:function(e){t.openSummaryOfChangeOverlay(e.nextStateURI)}})},openSummaryOfChangeOverlay:function(e){new l({open:!0,url:e,sourceBlock:".modal-content",alternateCloseMarkup:!0}).register()},regionNavTriggerClick:function(e){this.pubsub.publish("REGIONAL_NAV_TRIGGER",[e])},submitForceSellForm:function(e){this.makeAjaxCall({url:this.$el.find(".js-force-sell-form").attr("action"),contentType:"application/json",method:"POST",data:JSON.stringify(e),success:_.bind(this.forceSellOverlaySubmit,this),error:_.bind(this.forceSellOverlaySubmit,this)})},forceSellTaboutSuccess:function(e){var t=this.$el.find(".js-force-sell-currency-text"),i=this.$el.find(".js-hotelname");e.currency&&t.text(e.currency),e.hotelCode&&i.val(e.hotelCode)},forceSellOverlaySubmit:function(e){if(e){var t={status:e.status};e.showErrors&&(_.extend(t,{showErrors:e.showErrors,errorMessageComponentId:e.errorMessageComponentId}),this.refresh(t),this.pubsub.publish("ERRORMSG_REFRESH",[t]))}},isAndroidDevice:function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},initResponsiveUtils:function(e){this.responsiveUtils=$.create({orientationChangeEventHandler:_.bind(this.orientationChangeEventHandler,this),resizeEventHandler:_.bind(this.handleSearchFormResize,this),viewport:e}),this.responsiveUtils.init()},orientationChangeEventHandler:function(){var e=this.getTakeOverVariation();this.$el.find(".l-form-container").css("height","auto"),this.responsiveUtils.isMobile()||(this.responsiveUtils.isPortrait()?(!1===this.isAddSegmentTile&&this.addTakeovers(),this.removeScroller(),o("body").hasClass("is-menu-active")&&o("body").removeClass("is-menu-active").addClass("was-menu-active")):o("body").hasClass("was-menu-active")&&o("body").removeClass("was-menu-active").addClass("is-menu-active")),e===b.SEARCH_FORM.VARIATIONS.HOMEPAGE&&this.responsiveUtils.isMobileOrTablet()?this.checkIfSearchFormOpen()&&o('header:not(".category-header")').hide():o('header:not(".category-header")').show(),this.$el.data("show-sub-takeover")&&this.responsiveUtils.isMobileOrTablet()&&(this.$el.find(".tab2.tabs.focus-elem.selected").length?this.$el.find(".l-date-picker-actions").addClass("is-hidden"):this.$el.find(".l-date-picker-actions").removeClass("is-hidden")),this.roomGuestHandler.handleDisplayFormat(),this.iosSmartBannerHandler()},addTakeovers:function(){var e=this.getTakeOverVariation();if(this.responsiveUtils.isMobileOrTablet())switch(e){case b.SEARCH_FORM.VARIATIONS.HEADER:case b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH:case b.SEARCH_FORM.VARIATIONS.MODIFY_RES:case b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH:o(this.$el.find(".t-more-search-options")[0]).addClass("l-clearfix");break;case b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT:case b.SEARCH_FORM.VARIATIONS.AVAILABILITY_SEARCH:o(this.$el.find(".t-more-search-options")[0]).removeClass("l-clearfix")}this.autoCompleteHandler&&this.autoCompleteHandler.removeScroller(),this.roomGuestHandler.addTakeover(),this.specialRatesHandler.addTakeover()},removeTakeovers:function(){switch(this.getTakeOverVariation()){case b.SEARCH_FORM.VARIATIONS.HEADER:case b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH:case b.SEARCH_FORM.VARIATIONS.MODIFY_RES:case b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH:o(this.$el.find(".t-more-search-options")[0]).removeClass("l-clearfix");break;case b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT:case b.SEARCH_FORM.VARIATIONS.AVAILABILITY_SEARCH:o(this.$el.find(".t-more-search-options")[0]).addClass("l-clearfix")}this.autoCompleteHandler&&this.autoCompleteHandler.initScroller(),this.roomGuestHandler.removeTakeover(),this.specialRatesHandler&&this.specialRatesHandler.removeTakeover()},expandSearchForm:function(){var e=this;_.defer((function(){e.$el.hasClass("is-collapsed")&&(e.responsiveUtils.isMobileOrTablet()?(e.toggleBodyOverflow(!1),o("body").addClass("is-form-takeover"),o("html,body").scrollTop(0),o(".mfp-close").focus(),e.$el.hasClass("tile-hsearch-tiers")&&o("html,body").animate({scrollTop:0})):e.$el.hasClass("tile-hsearch-tiers")&&e.tiersSearchOverlay&&e.tiersSearchOverlay.openPopup(),e.$el.css("overflow","hidden").removeClass("is-collapsed").addClass("is-opened expanded").removeAttr("style"),e.$el.find(".t-more-search-options").removeClass("is-hidden").removeAttr("style"),"none"===e.$el.find(".l-takeover-head h2").css("display")&&e.$el.find(".m-search-tabs .m-search-header-takeover button.mfp-close").addClass("hide-mfp-button"))}))},collapseSearchForm:function(){this.$el.hasClass("hws-search-form")&&(this.$el.hasClass("expanded")?(this.$el.addClass("is-collapsed").removeClass("is-opened"),this.$el.find(".t-more-search-options").slideUp("fast").addClass("is-hidden")):this.closeStickyTakeOverScreen(),this.responsiveUtils.isMobileOrTablet()&&(this.$el.hasClass("expanded")?(this.closeMobileTakeOverScreen(),this.$el.removeClass("is-hidden"),o("body").addClass("is-form-takeover")):this.closeStickyTakeOverScreen()),this.$el.removeClass("expanded"),this.$el.hasClass("tile-hsearch-tiers")&&_.defer((function(){this.$(".hws-search-form.tile-hsearch-tiers .m-button").focus()})))},getTakeOverVariation:function(){return this.$el.hasClass(".room-details-search-form")?b.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS:this.$el.find(".advanced-search-form").length>0?b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH:this.$el.find(".FindAndReserveSearchActionForm").length?b.SEARCH_FORM.VARIATIONS.HEADER:this.$el.find(".tile-adv-search-associate-form").length?b.SEARCH_FORM.VARIATIONS.ASSOCIATE_SEARCH:this.$el.hasClass("tile-search-modifypath")?b.SEARCH_FORM.VARIATIONS.MODIFY_RES:this.$el.hasClass("edit-search-form")?this.$el.hasClass("res-search-form")?b.SEARCH_FORM.VARIATIONS.AVAILABILITY_SEARCH:this.$el.hasClass("deals-search-form")?b.SEARCH_FORM.VARIATIONS.DEALS_AVAILABILITY_SEARCH:this.$el.find(".rate-list-edit-search").length?b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT:b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH:b.SEARCH_FORM.VARIATIONS.HOMEPAGE},toggleHeaderSearchForm:function(){if(this.$el.find(".FindAndReserveSearchActionForm").length){var e=this;this.takeoverBackground&&this.takeoverBackground.css("z-index","5"),this.$el.addClass("tile-header-search-form"),o('header:not(".category-header")').css("z-index","7"),this.$el.find(".m-search-tabs").removeClass("advanced-search-form"),this.$el.off("click",".m-search-header-takeover .l-close-icon-label,.m-search-header-takeover .l-close-icon,.l-takeover-head .js-form-close").on("click",".m-search-header-takeover .l-close-icon-label,.m-search-header-takeover .l-close-icon, .l-takeover-head .js-form-close",(function(){o('header:not(".category-header")').css("z-index","6"),e.takeoverBackground&&e.takeoverBackground.hide(),e.toggleBodyOverflow(!0),C.default.setItem("searchFormTakeoverOpened",!1),e.pubsub.publish("CLOSE_HEADER_SEARCH_FORM")})),this.isHeaderSearchForm=!0,this.toggleBodyOverflow(!1),this.handleSearchFormResize(),C.default.setItem("searchFormTakeoverOpened",!0)}},checkIfSearchFormOpen:function(){return this.isHomePageSearchFormOpen||this.$el.hasClass("is-opened")},handleSearchFormResize:function(){var e=this;e.getTakeOverVariation()===b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH&&e.responsiveUtils.isMobileOrTablet()&&C.default.setItem("searchFormTakeoverOpened",!e.$el.hasClass("is-hidden")),_.defer((function(){var t=e.getTakeOverVariation();if(e.$el.find(".l-form-container").css("height","auto"),e.windowWidth!=o(window).width()){switch(e.windowWidth=o(window).width(),e.responsiveUtils.setDeviceInformation(),e.responsiveUtils.isMobileOrTablet()?(e.addTakeovers(),e.removeScroller()):(e.removeTakeovers(),e.initScroller()),t){case b.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS:case b.SEARCH_FORM.VARIATIONS.HEADER:case b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH:case b.SEARCH_FORM.VARIATIONS.ASSOCIATE_SEARCH:case b.SEARCH_FORM.VARIATIONS.MODIFY_RES:case b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH:case b.SEARCH_FORM.VARIATIONS.HOMEPAGE:case b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT:e.responsiveUtils.isMobileOrTablet()?(e.$el.hasClass("is-opened")&&t!=b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH&&e.toggleBodyOverflow(!1),o("body").addClass("is-form-takeover"),t===b.SEARCH_FORM.VARIATIONS.HOMEPAGE&&e.checkIfSearchFormOpen()&&o('header:not(".category-header")').hide(),t===b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT&&o(e.$el.find(".t-more-search-options")[0]).removeClass("l-clearfix")):(e.toggleBodyOverflow(!0),o("body").removeClass("is-form-takeover"),t===b.SEARCH_FORM.VARIATIONS.HOMEPAGE&&o('header:not(".category-header")').show(),t===b.SEARCH_FORM.VARIATIONS.RATE_LIST_EDIT&&o(e.$el.find(".t-more-search-options")[0]).addClass("l-clearfix"));break;case b.SEARCH_FORM.VARIATIONS.AVAILABILITY_SEARCH:e.responsiveUtils.isMobileOrTablet()?o(e.$el.find(".t-more-search-options")[0]).removeClass("l-clearfix"):o(e.$el.find(".t-more-search-options")[0]).addClass("l-clearfix")}e.roomGuestHandler.handleDisplayFormat(),e.initialFormData=e.serializeFormData(e.$el.find("form"))}}))},toggleSearchFormDisplay:function(e){this.$el.find("#propertyedit-search-panel").length&&(this.$el.attr("data-target")===e?this.$el.show():this.$el.hide(),this.pubsub.publish("TOGGLE_ERROR_MESSAGE",[this.$el.attr("data-target")===e]))},openMobileSubTakeOverScreenDestination:function(e){this.mobileWebHomePageDestinationField=!0,this.openMobileTakeOverScreen(e),this.mobileWebHomePageDestinationField=!1},isAutoUserIntrectionEnable:!1,openMobileTakeOverScreen:function(e){if("keydown"!==e.type||13!==e.keyCode&&9!==e.keyCode){e&&e.preventDefault(),this.isHomePageSearchFormOpen=!0,o("body").addClass("is-form-takeover"),o("body").hasClass("is-menu-active")&&o("body").removeClass("is-menu-active").addClass("was-menu-active"),o('header:not(".category-header")').hide(),this.$el.hasClass("is-opened")||!this.$el.hasClass("is-hidden")?(this.$el.find(".l-overlay-right.t-bg-opacity-90").removeClass("is-hidden"),this.toggleBodyOverflow(!1),o(e.currentTarget).hasClass(".js-find-container")||this.expandSearchBar()):(this.$el.find(".l-overlay-right.t-bg-opacity-90").addClass("is-hidden"),this.toggleBodyOverflow(!0),this.closeMobileTakeOverScreen());var t=this.$el.find("#"+this.idPrefix+"_search-location"),i=this.$el.find("#"+this.idPrefix+"_hotel-fromDate");t.val().trim()||this.disableSubTakeover||(this.isAutoUserIntrectionEnable=!0),o(e.currentTarget).hasClass("js-select-date")?i.click():""===this.$el.find('input[name="destinationAddress.destination"]').val()?t.focus().click():t.click()}},closeMobileTakeOverScreen:function(){this.isHomePageSearchFormOpen=!1;var e=this.$el.find(".single-search").val();o('header:not(".category-header")').show(),o("body").removeClass("is-form-takeover"),o("body").hasClass("was-menu-active")&&o("body").removeClass("was-menu-active").addClass("is-menu-active"),this.$el.find(".l-form-container").css("height","auto"),this.takeoverBackground&&this.takeoverBackground.hide(),this.$el.find(".t-more-search-options").slideUp("fast").addClass("is-hidden"),this.$el.removeClass("is-opened"),this.$el.find(".l-overlay-right.t-bg-opacity-90").removeClass("is-hidden"),this.$el.find(".l-bottom-progressive").removeClass("l-bottom-prog-open"),this.toggleBodyOverflow(!0),this.$el.hasClass("edit-search-form")&&this.$el.addClass("is-hidden"),this.$el.find(".js-find-container .l-h-field").text(e),this.$el.find(".js-select-destination").length&&(this.$el.find(".js-select-destination .destination-text")[0].textContent=e,""===e?(this.$el.find(".js-select-destination .wherenext-text").addClass("is-visible").removeClass("is-hidden"),this.$el.find(".js-select-destination .destination-text").addClass("is-hidden").removeClass("is-visible")):(this.$el.find(".js-select-destination .wherenext-text").addClass("is-hidden").removeClass("is-visible"),this.$el.find(".js-select-destination .destination-text").addClass("is-hidden").removeClass("is-visible")))},openDealsBookingWidget:function(){this.$el.find(".search-form-container").show(),o("html,body").scrollTop(0),o("body").css({position:"relative",overflow:"hidden",height:"100%"})},closeDealsBookingWidget:function(){this.$el.find(".search-form-container").hide(),o("html,body").scrollTop(0),o("body").css({position:"static",overflow:"visible",height:"100%"})},dealsBookingWidgetResizeHandler:function(){var e=this,t=o(window);t.on("resize",e,(function(){t.width()>e.responsiveUtils.getViewportConfig().TABLET_VIEWPORT?e.$el.find(".search-form-container").show():e.$el.find(".search-form-container").hide()}))},closeStickyTakeOverScreen:function(e){var t=this;t.takeoverBackground&&t.takeoverBackground.hide(),t.$el.hasClass("expanded")?t.collapseSearchForm():(t.pubsub.publish("MAP_BOTTOM_AREA_ADJUST",[t.$el.outerHeight()]),t.$el.slideUp("medium",(function(){t.$el.addClass("is-hidden").removeClass("is-opened"),_.isFunction(e)&&e(),t.pubsub.publish("TOGGLE_STICKY_FORM_EDIT_BUTTON",[!0]),window.MI_PubSub.publish("searchSummary/stickyPanelResize",["show"]),t.pubsub.publish("MAP_BOTTOM_AREA_ADJUST")}))),t.toggleBodyOverflow(!0),C.default.setItem("searchFormTakeoverOpened",!1),t.pubsub.publish("STICKY_COMPARE_HEIGHT")},expandSearchBar:function(e){var t=0,i=o(window).scrollTop();if(!(o("html").hasClass("ipad")&&e&&o(e.target).parents().hasClass("tile-hsearch-hws")))if(this.$el.addClass("transition-complete"),this.$el.addClass("is-opened"),this.$el.find(".t-more-search-options").removeClass("is-hidden").slideDown(400),e&&o(e.target).parents().hasClass("hws-search-form")&&this.responsiveUtils.isMobileOrTablet())this.expandSearchForm();else{if(this.responsiveUtils.isMobileOrTablet())(this.$el.hasClass("tile-hsearch-homepage")||this.$el.hasClass("edit-search-form"))&&this.$el.find(".single-search").length&&(t=this.$el.find(".single-search").offset().top-25)>0&&i!=t&&(this.$el.find(".m-vbm-home-container").length>0&&o("html").hasClass("mobile")||this.scrollToView(this.$el,t)),this.$el.hasClass("search-saved-hotels-tabs")&&(this.$el.closest(".l-overlay-parent").hasClass("overlay-opened")?this.$el.find(".single-search").length&&(t=this.$el.find(".single-search").offset().top-145)>0&&i!=t&&this.scrollToView(this.$el.closest(".l-container"),t):this.$el.find("#advanced-search-form").length?this.scrollToView(o("html,body"),0):this.$el.find(".single-search").length&&(t=this.$el.find(".single-search").offset().top-25)>0&&i!=t&&this.scrollToView(o("html,body"),t));else{if(i==this.$el.offset().top-200)return;o("html,body").animate({scrollTop:this.$el.offset().top-200})}e&&(this.mobileWebHomePageDestinationField?""===this.$el.find('input[name="destinationAddress.destination"]').val()&&this.expandSubTakeover(e):this.expandSubTakeover(e))}},scrollToView:function(e,t){e.animate({scrollTop:t})},openSearchForm:function(e){e.hasClass("is-opened")||e.addClass("is-opened")},toggleStickySearchForm:function(e,t,i,a){var s=this;if(t.data("component-id")==s.$el.data("component-id")){if(s.responsiveUtils.isMobileOrTablet()?o("body").addClass("is-form-takeover"):o("body").removeClass("is-form-takeover"),e)o(document).click(),t.find("[data-target='"+e+"']").is("input")&&t.hasClass("is-hidden")?(this.openStickySearchForm(t,i),t.find("[data-target='"+e+"']").focus(),this.$parent&&e==this.$parent.$el.find(".ccheckin").data("focus")&&t.find("[data-target='"+e+"']").click()):t.find("[data-target='"+e+"']").trigger("click",[_.bind(this.openStickySearchForm,this,t,i)]).focus(),"specialRates"===e&&(this.openStickySearchForm(t,i),t.find("[data-target='"+e+"']").focus());else{if(t.hasClass("is-opened"))return void s.closeStickyTakeOverScreen(a);s.openSearchForm(t),s.$el.hasClass("hws-search-form")&&"none"===s.$el.find(".l-takeover-head h2").css("display")&&s.$el.find(".m-search-tabs .m-search-header-takeover button.mfp-close").addClass("hide-mfp-button"),this.$el.find('input[name="associateViewFlag"]').length||this.$el.hasClass("js-modify-rlm-search-form")||window.MI_PubSub.publish("searchSummary/stickyPanelResize",["hide"]),t.slideDown("medium",(function(){s.pubsub.publish("MAP_BOTTOM_AREA_ADJUST"),s.openSearchForm(t),t.hasClass("is-hidden")&&t.removeClass("is-opened")})).toggleClass("is-hidden"),this.toggleBodyOverflow(t.hasClass("is-hidden")),i(!0)}!t.hasClass("is-hidden")&&s.getTakeOverVariation()===b.SEARCH_FORM.VARIATIONS.EDIT_SEARCH&&s.responsiveUtils.isMobileOrTablet()&&(o("html,body").scrollTop(0),C.default.setItem("searchFormTakeoverOpened",!0)),s.pubsub.publish("STICKY_COMPARE_HEIGHT")}},openStickySearchForm:function(e,t){e.hasClass("is-hidden")&&(this.$el.find('input[name="associateViewFlag"]').length||this.$el.hasClass("js-modify-rlm-search-form")||window.MI_PubSub.publish("searchSummary/stickyPanelResize",["hide"]),e.addClass("is-opened").slideDown(400,(function(){})).removeClass("is-hidden"),this.$el.hasClass("hws-search-form")&&"none"===this.$el.find(".l-takeover-head h2").css("display")&&this.$el.find(".m-search-tabs .m-search-header-takeover button.mfp-close").addClass("hide-mfp-button"),t(),this.toggleBodyOverflow(!1))},toggleBodyOverflow:function(e){var t=!0,i=this.getTakeOverVariation();this.responsiveUtils.isMobileOrTablet()&&(e||(t=!1)),t||i===b.SEARCH_FORM.VARIATIONS.CHECK_AVAILABILITY_HWS||i===b.SEARCH_FORM.VARIATIONS.ADVANCED_SEARCH||i===b.SEARCH_FORM.VARIATIONS.MODIFY_RES?(this.takeoverBackground&&this.takeoverBackground.hide(),
//!this.dateHandler.takeoverScreen.isActive && 
this.roomGuestHandler.takeoverScreen.isActive||this.isActiveSpecialRatesHandler()||o(document.body).children(".mfp-wrap").length||o("html,body").css({overflow:"visible",position:"static"})):(this.takeoverBackground&&this.takeoverBackground.show(),o("html,body").css({overflow:"hidden",position:"relative",height:"100%"}))},toggleSavedHotelDropdown:function(e){o(e.currentTarget).find(".m-dropdown-trigger").toggleClass("dropdown-is-active")},closeSavedHotelDropdown:function(e){o(e.currentTarget).find(".m-dropdown-trigger").removeClass("dropdown-is-active")},handleTabIndex:function(){var e,t=this,i="div.l-hsearch-find button.m-button-primary",a=["#"+t.idPrefix+"_search-location",".js-flex-display",".js-date-from",".js-date-to",".picker__nav--prev:not(.picker__nav--disabled)",".picker__nav--next:not(.picker__nav--disabled)",".js-toggle-flexdate",".ccheckin",".ccheckout",".flex-reset-button",".flex-done-button",".tabs",".js-date-clear",".js-flex-reset",".js-flex-month",".js-stepper-input",".js-flex-stepper",".l-rooms-guests-trigger-box",".l-s2-stepper-input",".l-plus",".l-minus",".rooms-guests-done a",".rooms-guests-clear a",".js-special-rates-header",".js-brands-header",".select-all",".clear-all-brand-specific",".brand-container",".clear-selected-brands",".close-brand-container",".js-userewards-checkbox",".l-special-rates .js-h-toggle",".js-select-rate",".remove-btn",".js-apply-btn","div.l-hsearch-find button.m-button-primary",".l-dates-flexible-checkbox",".datepicker-reset-button",".flexi-date-done-button"];this.$el.find(a.join(", ")).on("focus",(function(e){o(e.target).parents().hasClass("l-date-picker")||t.$el.find(".tabbing").removeClass("is-visible"),t.$el.find(a.join(", ")).attr("tabIndex",0),!t.$el.hasClass("tile-search-modifypath")&&t.$el.find(i)&&t.$el.hasClass("hws-search-form")&&(i="div.m-field-control-find button.m-button-primary")})),this.$el.find(a.join(", ")).not(".js-flex-display, .js-date-to, .picker__nav--next, .picker__nav--prev").on("focusout",(function(i){for(e in i.stopPropagation(),a)o(i.currentTarget).hasClass(a[e])&&t.$el.find(a[e]).removeAttr("tabIndex")}));var s=a[a.length-1];this.$el.find(s).on("keydown",(function(e){if(9===e.keyCode){if(o(e.currentTarget).closest(".l-special-rates").length&&o(e.currentTarget).hasClass("js-h-toggle"))return void t.$el.find(".js-userewards-checkbox").removeAttr("tabindex");t.$el.find(a.join(", ")).not(".js-flex-display, .js-date-to, .picker__nav--next, .picker__nav--prev, .js-userewards-checkbox").attr("tabIndex",-1)}})),this.$el.on("keydown",".picker__nav--prev, .picker__nav--next, .js-h-toggle-checkbox",(function(e){if(13===e.keyCode)if(o(e.target).hasClass("js-h-toggle-checkbox"))1==o(this).is(":checked")?o(this).prop("checked",""):o(this).prop("checked","checked"),o(this).focus(),e.preventDefault();else{o(this).trigger("click");var i=o(this).attr("tabIndex");o(this).hasClass("picker__nav--next")?_.delay((function(){var e=t.$el.find(".picker__nav--next");e.attr("tabIndex",i),e.focus()}),0):_.delay((function(){var e=t.$el.find(".picker__nav--prev");e.attr("tabIndex",i),e.focus()}),0)}})),this.$el.on("keydown","#"+t.idPrefix+"_search-location",(function(e){9===e.keyCode&&"checked"===t.$el.find(".js-flex-check").attr("checked")&&t.$el.find(".js-toggle-picker").trigger("click")}))},initSearchTabHandler:function(){this.$el.find(".search-tab-list li").length&&!this.$el.hasClass("hws-search-form")&&new v({$el:this.$el,currentTemplate:this.currentTemplate,parent:this}).init()},initAutoCompleteHandler:function(){if(this.isAutoCompleteHandlerInitiated)return!0;this.isAutoCompleteHandlerInitiated=!0,this.$el.find(".js-auto-complete.js-location").length&&(this.autoCompleteHandler=f.create({$el:this.$el.find(".js-auto-complete.js-location"),$parent:this,onListItemSelect:_.bind(this.handleFormAction,this),onClear:_.bind(this.setDefaultFormAction,this),onListClose:function(){this.$input.val()&&this.listItemSelect()}}),this.autoCompleteHandler.init()),this.$el.find(".js-cluster-autocomplete").length&&(this.autoCompleteClusterCodeHandler=m.create({$el:this.$el.find(".js-cluster-autocomplete"),$parent:this,onListItemSelect:_.bind(this.setClusterValue,this),clusterSearchHandler:!0}),this.autoCompleteClusterCodeHandler.init())},initAutoCompleteHandlerV2:function(){this.$el.find(".js-auto-complete.js-location").length&&(this.autoCompleteHandlerV2=m.create({$el:this.$el.find(".js-auto-complete.js-location"),$parent:this,onListItemSelect:_.bind(this.handleFormAction,this),onClear:_.bind(this.setDefaultFormAction,this),sessionId:this.getSessionToken(),enableUserLocation:this.$el.data("enable-user-location"),onListClose:function(){this.$input.val()&&this.listItemSelect()}}),this.autoCompleteHandlerV2.init()),this.$el.find(".js-cluster-autocomplete").length&&(this.autoCompleteClusterCodeHandler=m.create({$el:this.$el.find(".js-cluster-autocomplete"),$parent:this,onListItemSelect:_.bind(this.setClusterValue,this),clusterSearchHandler:!0}),this.autoCompleteClusterCodeHandler.init())},onFlexibleDateClick:function(){this.$parent.specialRatesHandler&&this.$parent.specialRatesHandler.$el.find(".is-checked #group").length&&(this.$parent.specialRatesHandler.closeToggle(this.$parent.specialRatesHandler.$el.find("#group"),"none",!0),this.$parent.specialRatesHandler.$el.find("#none").prop("checked",!0),this.$parent.specialRatesHandler.$el.parents().find(".l-h-toggle-cont .is-checked").removeClass("is-checked"),this.$parent.specialRatesHandler.$el.find("#none").parents(".l-h-toggle-opt").addClass("is-checked"),this.$parent.specialRatesHandler.$el.parents().find(".special-rate-code").addClass("is-hidden").hide("fast"),this.$parent.$el.find(".js-h-toggle-checkbox").parents().find(".l-userewards-checkmark").removeClass("t-icon-checkmark"),this.$parent.$el.find(".js-h-toggle-checkbox").prop("checked",!1).attr("checked",!1),this.$parent.dateHandler.flexdateState="flex")},initDateHandler:function(){var e=this;this.$el.find(".js-datepick-container").each((function(){e.dateHandler=new d({$el:o(this),$parent:e,onFlexibleDateClick:e.onFlexibleDateClick,addCustomHeaderStyle:e.$el.hasClass("hws-search-form")||e.$el.hasClass("room-details-search-form"),expandSearchForm:_.bind(e.expandSearchForm,e),closeOnDocumentClick:!e.isAddSegmentTile,closeOnFormFieldsFocus:!e.isAddSegmentTile,suppressTakeOver:!0}),e.dateHandler.init(),e.isAddSegmentTile&&e.$el.find(".js-date-from").focus()}))},initRoomGuestHandler:function(){var e=this;this.$el.find(".js-rooms-guests").each((function(){e.roomGuestHandler=new h({$el:o(this),$parent:e,addCustomHeaderStyle:e.$el.hasClass("hws-search-form")||e.$el.hasClass("room-details-search-form"),expandSearchForm:_.bind(e.expandSearchForm,e),roomsModified:_.bind(e.roomsModified,e),suppressTakeOver:!0}),e.roomGuestHandler.init()}))},roomsModified:function(e){this.setGroupsFlow=!1,26===parseInt(e,10)&&(this.setGroupsFlow=!0),this.handleFormAction(!1)},onItemClicked:function(e){var t=this.$parent.dateHandler,i=this.$parent.$el.find(".ccheckin").data()||{},a=this.$parent.$el.find(".js-submit-to").val(),s=this.$parent.$el.find(".inventory-date").data("inventory"),n=this.$parent.$el.find(".inventory-date-container .date-of-inventory"),o=i.showKGroupDate;e.find("input#group").is(":checked")&&t&&"flex"===t.flexdateState&&(t.flex.$check.attr("checked",!1),t.$el.addClass("is-flex-hidden").removeClass("is-picker-hidden").find(".js-toggle-picker"),t.flex.$root.hide(),t.$dateFromToPicker.$frame.show(),t.footer.$root.find(t.options.flexdateTrigger).html(t.$el.find(".js-date-pick-container").data("options").flexdates)),this.$el.hasClass("js-sell-options-ers-associate")&&e.after(e.closest(".sell-option-wrapper").find(".code-container")),s&&(e.find("input#hotel_group-sell").is(":checked")?(this.$parent.updateInventoryLabel("true"),i.showKGroupDate=!0,n.html(s.kGroupValue),this.$parent.datePickerPlugin.changeEndDate(s.parsedKGroupValue)):o&&(this.$parent.updateInventoryLabel("false"),i.showKGroupDate=!1,this.$parent.datePickerPlugin.changeEndDate(s.parsedDate),new Date(a)>new Date(s.value)&&this.$parent.datePickerPlugin.resetDate()))},resetKGroupDate:function(){this.updateInventoryLabel("false"),this.datePickerPlugin.changeEndDate(this.$el.find(".inventory-date").data("inventory").value),new Date(this.$el.find(".js-submit-to").val())>new Date(this.$el.find(".inventory-date").data("inventory").value)&&this.datePickerPlugin.resetDate()},initSpecialRateHandler:function(){var e=this;this.$el.find(".l-special-rates").each((function(){e.specialRatesHandler=new p({$el:o(this),$parent:e,onItemClicked:e.onItemClicked,addCustomHeaderStyle:e.$el.hasClass("hws-search-form")||e.$el.hasClass("room-details-search-form"),suppressTakeOver:!0}),e.specialRatesHandler.init()}))},initSellOptionsInputHandler:function(){var e=this;this.$el.find(".l-sell-options").each((function(){e.sellOptionsInputHandler=new u({$el:o(this),$parent:e,onItemClicked:e.onItemClicked}),e.sellOptionsInputHandler.init()})),"searchFormHorizontal-bookingCartChangeSellOptions"==e.currentTemplate&&this.$el.parents(".mfp-content").on("click",_.bind((function(t){e.sellOptionsInputHandler.closeSpecialRatesSection(t)}),this))},initScroller:function(){!this.scrollbar&&this.responsiveUtils.isDesktop()&&(this.scrollbar=y.create({$el:this.$el,$scrollBarTarget:this.$el.find(this.options.scrollBarTarget).not(".custom-wrapper")}),this.scrollbar.init())},removeScroller:function(){this.scrollbar&&(this.scrollbar.destroy(),delete this.scrollbar)},handleFormAction:function(e){var t,i=this.$el.find("form"),a=i.data("suggestion-endpoint-mapping"),s=e?e.autoSuggestOmni:this.$el.find(".js-autosuggest-item-type").val();if(e){var n=this.$el.find('input[name="suggestionsPropertyCode"]');e.propertyCode?n.val(e.propertyCode):n.val("")}this.setDefaultFormAction();var o=i.data("is-group-search-applicable");this.setGroupsFlow&&o?(t=i.data("group-search-endpoint"),i.attr("action",t)):a&&a[s]&&"true"===this.$el.find('input[name="isAssociateFlow"]').val()&&(t=a[s],this.$el.find('input[name="isSearch"]').val(!1),i.attr("action",t))},setDefaultFormAction:function(){var e=this.$el.find("form"),t=!e.is("#sendLocationForm"),i=e.data("default-endpoint");i&&t&&e.attr("action",i)},setClusterValue:function(e){var t=e.clusterCode;this.$el.find("#hiddenClusterCode").val(t)},clearClusterValue:function(){this.$el.find('[name="clusterRateCluster"]').val(""),this.$el.find("#hiddenClusterCode").val("")},viewRatesAddChangeSegment:function(e){var t=this.$el.find("form"),i=t.serialize(),a=k.getParameterByName("sellOptionsListHotelNameSearch",i);this.dateHandler&&(this.$el.removeClass("opened-picker"),this.dateHandler.closeOnFormFieldsFocus=!0,this.dateHandler.close(this.dateHandler),this.dateHandler.closeOnFormFieldsFocus=!1),i="sellOption="+a+"&"+i,e.preventDefault(),this.makeAjaxCall({url:t.attr("action"),contentType:"application/x-www-form-urlencoded",method:"GET",data:i,success:_.bind(this.viewRatesSubmitCallback,this),error:_.bind(this.viewRatesSubmitCallback,this)})},getDateInShortFormat:function(e){var t;return(t=new Date(Date.parse(e))).getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},viewRatesSubmitCallback:function(e){var t,i,a={},s="?"+this.$el.find("form").serialize();this.datePickerPlugin?(i=k.getParameterByName("fromDate",s),t=k.getParameterByName("toDate",s)):(i=this.getDateInShortFormat(o(".tile-change-sell-options-header").find(".js-segmentStart-date").html()),t=this.getDateInShortFormat(o(".tile-change-sell-options-header").find(".js-segmentEnd-date").html())),e&&(a.status=e.status,a.errorMessageComponentId=e.errorMessageComponentId||"segmentsSearchErrorMessages",e.showErrors?_.extend(a,{showErrors:e.showErrors}):_.extend(a,{segmentStartDate:i,segmentEndDate:t,sellOption:k.getParameterByName("sellOptionsListHotelNameSearch",s),sellOptionLabel:k.getParameterByName("sellOptionLabel",s),rateProgram:k.getParameterByName("rateProgram",s),rateCluster:k.getParameterByName("rateCluster",s),hiddenClusterCode:k.getParameterByName("hiddenClusterCode",s),firstLetterOfDescription:k.getParameterByName("firstLetterOfDescription",s),roomPool:k.getParameterByName("roomPool",s),searchCountryRegion:k.getParameterByName("search-countryRegion",s),groupCode:k.getParameterByName("groupCode",s),showErrors:!1}),this.$el.find(".js-submit-sell-options").addClass("is-global-disable"),this.pubsub.publish("MODIFY_SEGMENT_RLM",[a]))},toggleCheckbox:function(e){var t=this;o(e.target).hasClass("js-userewards-checkbox")&&t.propertyCodeChangeHandler(),o(e.target).hasClass("js-userewards-checkbox")&&t.$el.find("input#hotel_group-sell").is(":checked")&&t.resetKGroupDate(),t.$el.find(".rates-dropdown").length?t.$el.find(".rates-dropdown .js-dropdown-point-checkbox").closest(".js-select-rate").click():this.$el.find(".js-h-toggle-checkbox").each((function(){if(o(this).prop("checked")){var e=o(this).closest(t.$el).find(".l-h-toggle"),i=e.find(".l-h-toggle-text"),a=e.parent(),s=a.find(".l-h-toggle-cont ul li");i.html(i.data("defaultheader")),o(this).parents().find(".l-h-toggle-cont .special-rate-code").addClass("is-hidden").hide().find("input").val(""),a.find(".l-h-toggle-cont .is-checked").removeClass("is-checked"),s.first().addClass("is-checked"),s.find('input[type="radio"]').prop("checked",!1),s.find('input[type="radio"]').first().prop("checked",!0),t.$el.find(".sell-options-section")&&(s.find('input[name="sellOptionsListHotelNameSearch"]#sell-strategy').prop("checked",!0),o(this).closest(".l-hsearch-labels").find(".l-h-toggle-cont .special-rate-code").addClass("is-hidden").hide(),o(this).closest("#find-a-hotel-form").find('input[name="sellOption"], input[name="sellOptionLabel"]').attr("value","sell-strategy"))}}))},showSpecialRateErrorMessage:function(){var e=!1,t=!1,i=!1,a=this.$el.find('input[name="corporateCode"]').val();if(_.each(this.$el.find('input[name="clusterCode"]'),(function(i){i.checked&&""!==i.value&&"none"!==i.value&&"INT"!==i.value&&(e=!0,"corp"===i.value&&(t=!0))})),1==e&&"REW"!==a.toUpperCase()&&"P17"!==a.toUpperCase()&&"MRW"!==a.toUpperCase()&&"MXR"!==a.toUpperCase()&&"MW1"!==a.toUpperCase()){if(1==t&&(null==a||""==a))return this.$el.find("[name='clusterCode'][value='none']").prop("checked","checked"),this.$el.find("[name='clusterCode']").parent().find("input[type='text']").hide(),!0;if(this.checkDateValue(this.$el.find('input[name="fromDate"]'))&&this.checkDateValue(this.$el.find('input[name="toDate"]')))return confirm(this.$el.attr("data-message-specialRateMessage"))}if((_.each(this.$el.find('input[type="checkbox"]:checked'),(function(e){var t=o(e).val();(o(e).hasClass("js-corp-code")||o(e).hasClass("js-rate-checkbox"))&&"REW"!==t.toUpperCase()&&"MRW"!==t.toUpperCase()&&"P17"!==t.toUpperCase()&&"MXR"!==t.toUpperCase()&&"MW1"!==t.toUpperCase()&&(i=!0)})),i)&&(this.checkDateValue(this.$el.find('input[name="fromDate"]'))&&this.checkDateValue(this.$el.find('input[name="toDate"]'))))return confirm(this.$el.attr("data-message-specialRateMessage"));return!0},checkDateValue:function(e){return null==e.val()||""==e.val()},setFormQueryParams:function(e){var t=this.$el.find(".ccheckin").val(),i=this.$el.find(".ccheckout").val(),a=this.$el.find(".js-flex-check"),s=this.$el.find('[name="isRateCalendar"]'),n=this.$el.find('[name="flexibleDateSearchRateDisplay"]');this.$el.find('[name="isSearch"]').val("true"),s.val("false"),n.val("false"),"true"==a.val()&&s.val("true"),t||i||(s.val("true"),n.val("true")),this.handleFormAction()},submitValidations:function(e){if(this.responsiveUtils.isMobileOrTablet()&&this.$el.hasClass("hws-search-form")&&this.$el.hasClass("is-collapsed"))return this.expandSearchForm(),!1;var t=this.$el.find(".l-h-toggle-opt.is-checked .code-container").find("div:visible input");this.$el.find("#special-rates-search:visible").length&&""!==t.val()&&t.attr("name",t.data("name")),this.$el.find(".js-validate-search-form").attr("novalidate","novalidate");var i=o(e.currentTarget);this.setFormQueryParams(i);var a=parseInt(i.find("#"+this.idPrefix+"_roomCountBox").val()),s=this.$el.find('input[name="missingcheckInDateMsg"]').val(),n=this.$el.find('input[name="missingcheckOutDateMsg"]').val(),r=this.$el.find(".l-date-picker").attr("data-trigger"),l=this.$el.find(".ccheckin").val(),d=this.$el.find(".ccheckout").val(),c=i.find(".l-special-rates .l-h-toggle-cont ul li"),h={noSelectedHotel:this.$el.attr("data-message-noSelectedHotel"),groupMessage:this.$el.attr("data-message-groupMessage"),useRewardsPtsMessage:this.$el.attr("data-message-useRewardsPtsMessage"),roomLimitMessage:this.$el.attr("data-message-roomLimitMessage"),invalidCorporateCodeLengthMsg:this.$el.attr("data-message-invalidcorporatecodelengthmsg"),invalidGroupCodeLengthMsg:this.$el.attr("data-message-invalidgroupcodelengthmsg")},p=(c.find('input[type="radio"]:checked:first').val(),i.find('input[name="useRewardsPoints"]')),u=this.$el.find("#global-header-saved-hotels-form"),f=!1,m=i.find(".js-flex-check");if(""!==i.find('input[name="destinationAddress.destination"]').val()&&i.find('input[name="destinationAddress.region"]').val()&&i.find('input[name="destinationAddress.region"]').val(""),""===i.find('input[name="destinationAddress.destination"]').val()&&i.find('input[name="destinationAddress.country"],input[name="destinationAddress.stateProvince"],input[name="destinationAddress.city"]').val(""),"true"===r){if(""===l)return alert(s),!1;if(""===d)return alert(n),!1}if(!u.hasClass("ui-tabs-hide")&&""===u.find('select[name="propertyCode"] :selected').val())return alert(h.noSelectedHotel),!1;if("true"==m.val()){if(a>=4)return alert(h.roomLimitMessage),!1;!i.find(".calendar-module-fromdate").datepicker("getDate")&&i.find(".calendar-module-todate").datepicker("getDate")&&i.find(".calendar-module-todate").datepicker("setDate",null)}if(0!==p.length&&p&&!u.hasClass("ui-tabs-hide")&&p[0].checked&&(f=!0),a>9&&i.find(".js-use-points-checkbox").prop("checked")&&(f=!0),o(_.filter(this.$el.find(".js-auto-complete-input").not(".l-sell-opt-input"),(function(e){return o(e).is(":hidden")}))).val(""),a>3&&f&&("true"===this.$el.find('input[name="isAssociateFlow"]').val()||a>9))return window.confirm(h.useRewardsPtsMessage);if("true"===r){var g=c.parent().siblings(".code-container").find(".corp-code").find("input:text").val().length;if(c.parent().find(".is-checked .search-clusterCode-corp").length&&g<2)return alert(h.invalidCorporateCodeLengthMsg),!1}return c.parent().find(".is-checked .search-clusterCode-group").length&&c.parent().siblings(".code-container").find(".group-code").find("input:text").val().length<7?(alert(h.invalidGroupCodeLengthMsg),!1):!!this.showSpecialRateErrorMessage()&&(m.remove(),void(this.initialFormData=this.serializeFormData(i)))},updateRoomUrl:function(e){e.preventDefault();var t="",i=this.$el.find(".l-date-format").text(),a=parseInt(this.$el.find(".js-number-of-rooms").text()),s=0,n=this.$el.find(".js-children-ages").val().split(","),o="",r=1,l=this.$el.find(e.currentTarget).attr("href");a>3&&(a=1);var d=a*parseInt(this.$el.find(".js-number-of-adults").text());if(d>7&&(d=7),s=a*parseInt(this.$el.find(".js-number-of-children").text()),this.formatPicker=new O(this.$el),4<s&&(s=4),0<s)for(;r<=s;r++)!n[r-1]||n[r-1]<2?o+="&child_age"+r+"=Under 2":o+="&child_age"+r+"="+n[r-1];var c=this.$el.find(".js-from-calc").val()?this.formatPicker.formatDate(new Date(this.$el.find(".js-from-calc").val()),i):"",h=this.$el.find(".js-to-calc").val()?this.formatPicker.formatDate(new Date(this.$el.find(".js-to-calc").val()),i):"";this.$el.find(e.currentTarget).data("vbmparam")?(t=this.$el.find(".js-search-city-display").val()||this.$el.find(".search-city").val()||this.$el.find(".js-recent-search").val()||"",window.open(l+"&date1="+c+"&date2="+h+"&num_rooms="+a+"&adults="+d+"&area2="+t+"&dynamic_children="+s+o,"_blank")):window.open(l+"&date1="+c+"&date2="+h+"&num_rooms="+a+"&adults="+d+"&dynamic_children="+s+o,"_blank")},confirmCancelReservationEvent:function(e){e.preventDefault();this.$el.find(".search-google-map").data("options");var t=!this.$el.data("suppress-google-api");this.$el.find(".l-hsearch-loc"),this.$el.data("autocomplete-supported-types").split(",");if(!0===t||!this.enableGooglePlaceAutoSuggestion){o(this.autocompleteInputEl).addClass("js-auto-complete-input");var i=this.$el.find("a.js-cancel-button").attr("href");"true"===this.$el.find("#upsellFlag").val()&&(i+="?upsell=true")}window.open(i,"CancelReservationChanges","height=200,width=360,location=no,left=300,top=300,scrollbars=no,menubars=no,toolbars=no,resizable=yes")},initSellOptions:function(e){var t=this.$el.find('input[checked="checked"]').attr("value");this.$el.find(".l-sell-opt-input").attr("name",""),this.$el.find(".l-sell-opt-input").not('li [data-special-rate-type="'+t+'"]').val("");var i=this.$el.find(".l-h-toggle-text"),a=this.$el.find('input[name="sellOptionsListCityAirportAddSearch"]#sell-strategy'),s=this.$el.find('input[name="sellOptionsListHotelNameSearch"]:checked');if(s.length||(s=this.$el.find('input[name="sellOptionsListHotelNameSearch"]#hotel_sell-strategy')),"InCity"===this.$el.find('input[name="searchType"]').attr("value")&&void 0===e||e){this.setDefaultFormAction();var n=this.$el.find("#special-rates-search").data();if(this.$el.find("li.city-search-options").removeClass("is-hidden"),this.$el.find("li.hotel-search-options").addClass("is-hidden"),a.length&&(a.prop("checked",!0),""!==n.citySellOption?i.html(i.data("value")):i.html(i.data("defaultheader"))),this.$el.find(".l-adv-search-associate").data("city")){var o=this.$el.find(".l-adv-search-associate").data("options"),r=this.$el.find(".l-adv-search-associate").data("city");o.suggestionSortOrder=r,this.$el.find(".l-adv-search-associate").attr("data-options",JSON.stringify(o))}""!==n.citySellOption?this.$el.find('input[name="sellOption"], input[name="sellOptionLabel"]').attr("value",n.citySellOption):this.$el.find('input[name="sellOption"], input[name="sellOptionLabel"]').attr("value","sell-strategy")}else{this.handleFormAction();n=this.$el.find("#special-rates-search").data();if(this.$el.find("li.city-search-options").addClass("is-hidden"),this.$el.find("li.hotel-search-options").removeClass("is-hidden"),s.length&&(s.prop("checked",!0),i.html(""!==n.hotelSellOption?this.$el.find("#hotel_"+n.hotelSellOption).data("sell-option-label"):i.data("defaultheader"))),this.$el.find(".l-adv-search-associate").data("hotel")){o=this.$el.find(".l-adv-search-associate").data("options");var l=this.$el.find(".l-adv-search-associate").data("hotel");this.autoCompleteHandler.options.suggestionSortOrder=l,this.$el.find(".l-adv-search-associate").attr("data-options",JSON.stringify(o))}var d=this.$el.find('input[name="sellOption"]'),c=this.$el.find('input[name="sellOptionLabel"]');if(""===n.hotelSellOption)d.val("sell-strategy"),c.val("sell-strategy");else{var h=this.$el.find("#hotel_"+n.hotelSellOption);h.addClass("skip-reset-date"),h.closest(".js-h-toggle").trigger("click",[!0]);var p=this.$el.find(".js-code-section-replica ."+n.hotelSellOption+"-code");this.$el.hasClass("last-sell-selected")&&(p.find("input").val(p.find("input").data("last-selected-value")),p.find("input").attr("name",p.find("input").data("name")),this.$el.removeClass("last-sell-selected")),p.show()}}},sellOptionsHandler:function(e){if(this.$el.find(".l-adv-search-associate").length){var t=this.$el.find('input[checked="checked"]').attr("value");this.$el.find(".special-rate-code").not("li.is-checked ."+t+"-code").each((function(e){o(this).css("display","none")})),o(e.target).hasClass("js-single-search-incity")?(this.initSellOptions(!0),this.$el.find(".js-autosuggest-item-type").val("")):(this.initSellOptions(!1),this.$el.find(".js-autosuggest-item-type").val("property")),inputCode.show()}}},"sellOptionsHandler",(function(e){this.$el.find(".l-adv-search-associate").length&&(this.$el.find(".special-rate-code").each((function(e){o(this).css("display","none")})),o(e.target).hasClass("js-single-search-incity")?(this.initSellOptions(!0),this.$el.find(".js-autosuggest-item-type").val("")):(this.initSellOptions(!1),this.$el.find(".js-autosuggest-item-type").val("property"))),this.$el.hasClass("default-tab-change")||o(e.target).data("label")===this.activeTab.data("label")||(this.activeTab=o(e.target),this.pubsub.publish("TOGGLE_ERROR_MESSAGE",[!1]),this.pubsub.publish("TOGGLE_PAGE_HEADER",[!0])),this.$el.removeClass("default-tab-change");var t=this.$el.find("input#hotel_group-sell");t.is(":checked")&&!t.hasClass("skip-reset-date")&&this.resetKGroupDate(),t.removeClass("skip-reset-date")})),"toggleSellOptionsBox",(function(e){e.preventDefault(),this.$el.find(".l-selloptions-trigger-box").trigger("click")})),"initFlexibleDates",(function(){if(0!==this.$el.find("#search-datepicker").length){var e=this.$el.find(".inventory-date").data("inventory").label,t=this.$el.find(".inventory-date").data("inventory").value;this.$el.find(".js-date-from").data().showKGroupDate&&(t=this.$el.find(".inventory-date").data("inventory").kGroupValue);var i="<div class='inventory-date-container t-font-m l-clear-both'><span class='inventory-label t-font-weight-bold'>"+e+"</span><span class='date-of-inventory'>"+t+" </span></div>";this.isForceSellOverlay?this.$el.find(".l-picker-footer").html(i):(this.$el.find(".l-picker-footer").append(i),this.$el.find(".js-toggle-flexdate").addClass("l-margin-bottom-half"))}})),"initAutocomplete",(function(){var e=this,t=e.$el.find(".search-google-map").data("options"),i=!e.$el.data("suppress-google-api"),a=e.$el.find(".l-hsearch-loc"),s=e.$el.data("autocomplete-supported-types"),n=s?s.split(","):"";!0!==i||this.enableCustomAutoSuggest?this.enableCustomAutoSuggest?(o(this.autocompleteInputEl).addClass("js-auto-complete-input-v2"),e.initAutoCompleteHandlerV2()):(this.enableGooglePlaceAutoSuggestion?(S.create({apiUrl:t.api,language:t.language,success:function(t){new D(e,t,{disableLocationSearch:e.isAssociateView,listContainerEl:a,autocompleteSupportedTypes:n})}}).init(),e.updateRecentSearchData()):o(this.autocompleteInputEl).addClass("js-auto-complete-input"),e.initAutoCompleteHandler()):o(e.autocompleteInputEl).on("change",(function(){e.$el.find(".js-search-radius,.search-latitude,.search-longitude").val("")})),e.$el.parent().find(".tile-adv-search-associate-form").length&&e.initAutoCompleteHandler()})),"updateRecentSearchData",(function(){var e=this.$el.find("form");if(e.hasClass("js-recent-search-inputs")){var t=new x(e[0],w.get(e.attr("id"))).getFormData(),i=!1,a=T.get("miRecentSearchPlaces",3);["placeId","mainText","secondaryText","stateProvince","country"].forEach((function(e){t[e]||(i=!0)})),!1===i&&a.set(t,"placeId")}})),"updateClickToSearchData",(function(e){var t=this.$el.find("form"),i="";i=e.info.city?e.info.city+", "+e.info.countryLabel:e.info.stateProvince?(e.info.location||e.info.stateProvince)+", "+e.info.countryLabel:e.info.location||e.info.countryLabel;var a=new x(t[0],w.get(t.attr("id")));a.resetFormFields(),a.setFormData({city:e.info.city||"",country:e.info.countryCode,latitude:e.info.lat,longitude:e.info.long,stateProvince:e.info.stateCode}),o(this.autocompleteInputEl).val(i),I.checkPlaceholderAnimation()})),"initHotelSellOptions",(function(){"true"===this.$el.find(".single-search-type").val()?(this.$el.find(".js-autosuggest-item-type").val("property"),this.$el.find("li.city-search-options").addClass("is-hidden"),this.$el.find("li.hotel-search-options").removeClass("is-hidden"),this.initHotelSortOrder(),this.handleFormAction()):("property"!==this.$el.find(".js-autosuggest-item-type").val()&&this.$el.find(".js-autosuggest-item-type").val(""),this.setDefaultFormAction(),this.$el.find("li.hotel-search-options").addClass("is-hidden"),this.$el.find("li.city-search-options").removeClass("is-hidden"))})),"initHotelSortOrder",(function(){if(this.$el.find(".l-adv-search-associate").data("hotel")){var e=this.$el.find(".l-adv-search-associate").data("options"),t=this.$el.find(".l-adv-search-associate").data("hotel");e.suggestionSortOrder=t,this.$el.find(".l-adv-search-associate").attr("data-options",JSON.stringify(e))}})),"initSellOptionsHeight",(function(e){if(e.scroll){this.scrollbar=y.create({$el:this.$el,$scrollBarTarget:this.$el.find("#special-rates-search > .sell-option-wrapper")}),this.scrollbar.init()}})),"isActiveSpecialRatesHandler",(function(){return!!this.specialRatesHandler&&this.specialRatesHandler.takeoverScreen.isActive})),n(n(n(n(n(n(n(n(n(n(a,"showNavigationBar",(function(){this.responsiveUtils.isDevice()||this.pubsub.publish("SHOW_HWS_NAVIGATION_BAR")})),"hideCalendar",(function(){this.$el.hide()})),"reservationDateToOverlay",(function(){var e=this.$el.find(".js-toggle-picker .js-submit-from").val(),t=new Date(this.$el.find(".js-toggle-picker .js-submit-from").val()).getTime(),i=this.$el.find(".js-toggle-picker .js-submit-to").val(),a=new Date(this.$el.find(".js-toggle-picker .js-submit-to").val()).getTime(),s={fromDate:e,toDate:i};t!==this.FromDateInitial&&a!==this.ToDateInitial&&this.pubsub.publish("FORCE_SELL_RES_DATE",[s])})),"hideNavigationBar",(function(){!this.responsiveUtils.isDevice()&&this.$el.closest(".is-sticky-top").length&&(this.$el.find(".tabbing").hasClass("is-visible")||this.$el.find(".l-rooms-guests").hasClass("is-active"))&&this.pubsub.publish("HIDE_HWS_NAVIGATION_BAR")})),"modifyRlmSearchHandler",(function(e){var t=this.serializeFormData(o(e.target));this.isFormDataChanged(this.initialFormData,t)||e.preventDefault()})),"serializeFormData",(function(e){var t=_.fromPairs(e.serializeArray().map((function(e){return[e.name,e.value]})));return e.find('input[type="checkbox"]').each((function(){t[this.name]=this.checked})),t})),"isFormDataChanged",(function(e,t){var i=!1;return Object.keys(e).forEach((function(a){e[a]!==t[a]&&(i=!0)})),i})),"hideRateClusterField",(function(e){("true"===this.$el.find(".js-validate-search-form").find('[name="isAssociateFlow"]').val()&&this.$el.parents().find(".tile-error-messages-searchform").find(".m-message-box-error").length||"true"===this.$el.find('[name="isAssociateFlow"]').val())&&(this.$el.find(".js-validate-search-form").find(".code-container").parent("div").hasClass(".js-code-section-replica")||(this.$el.find(".js-validate-search-form").find(".code-container:eq(1)").find(".js-auto-complete-input-v2").remove(),this.$el.find(".special-rates-section.sell-options-section").find(".code-container:eq(1)").find(".js-auto-complete-input-v2").remove(),this.$el.find(".special-rates-section.sell-options-section").find(".code-container:eq(1)").remove()))})),"selectAllBrands",(function(e){e.preventDefault(),e.stopPropagation(),o(e.currentTarget).closest(".l-brand-category").find('input[type="checkbox"]').prop("checked",!0),o(e.currentTarget).closest(".l-brand-category").find(".select-all").hide(),o(e.currentTarget).closest(".l-brand-category").find(".clear-all-brand-specific").show(),this.brandsCountUpdate()})),"clearAllBrandSpecific",(function(e){e.preventDefault(),e.stopPropagation(),o(e.currentTarget).closest(".l-brand-category").find('input[type="checkbox"]').prop("checked",!1),o(e.currentTarget).closest(".l-brand-category").find(".select-all").show(),o(e.currentTarget).closest(".l-brand-category").find(".clear-all-brand-specific").hide(),this.brandsCountUpdate()})),n(n(n(n(n(n(n(n(n(n(a,"clearAllBrands",(function(e){e.preventDefault(),this.$el.find('.brands-section input[type="checkbox"]').prop("checked",!1),this.$el.find(".brands-section .select-all").show(),this.$el.find(".brands-section .clear-all-brand-specific").hide(),this.brandsCountUpdate()})),"brandSpecificCountCheck",(function(e){o(e.currentTarget).closest(".l-brand-category").find('input[type="checkbox"]').length==o(e.currentTarget).closest(".l-brand-category").find('input[type="checkbox"]:checked').length?(o(e.currentTarget).closest(".l-brand-category").find(".select-all").hide(),o(e.currentTarget).closest(".l-brand-category").find(".clear-all-brand-specific").show()):(o(e.currentTarget).closest(".l-brand-category").find(".select-all").show(),o(e.currentTarget).closest(".l-brand-category").find(".clear-all-brand-specific").hide())})),"brandsCountUpdate",(function(e){var t=this.$el.find('.brands-section input[type="checkbox"]').length,i=this.$el.find('.brands-section input[type="checkbox"]:checked').length,a=this.$el.find(".brands-selected-label");t==i||0==i?(this.$el.find(".default-selected").show(),this.$el.find(".selected-count").hide()):(this.$el.find(".default-selected").hide(),this.$el.find(".selected-count").show(),this.$el.find(".brand-count").text(i)),a.text(1===i?a.data("brand-label"):a.data("brands-label")),e&&this.brandSpecificCountCheck(e)})),"openBrandsDropDown",(function(e){e.preventDefault();var t=this.$el.find(e.currentTarget);t.toggleClass("is-active"),t.hasClass("is-active")?this.$el.find(".l-brand-section .m-icon-trigger").removeClass("t-icon-arrow-down").addClass("t-icon-arrow-up"):this.$el.find(".l-brand-section .m-icon-trigger").addClass("t-icon-arrow-down").removeClass("t-icon-arrow-up"),this.disableSubTakeover||!this.responsiveUtils.isMobileOrTablet()?t.next(".js-toggle-container").slideToggle():(t.next(".js-toggle-container").show(),this.openBrandsSubTakeover(e))})),"openBrandsSubTakeover",(function(e){e&&e.preventDefault()&&e.stopPropagation(),o(e.currentTarget).parent().find("a.close-brand-container").removeClass("m-button-secondary").addClass("m-button-primary"),o("body").addClass("brands-sub-takeover-opened"),this.expandSubTakeover(e)})),"closeBrandContainer",(function(e){var t=this.$el;(!o(e.currentTarget).parents(".l-brand-section").length||o(e.currentTarget).hasClass("close-brand-container")||o(e.currentTarget).hasClass("sub-takeover-cancel-link"))&&(this.disableSubTakeover||this.responsiveUtils.isMobileOrTablet()?(this.$el.find(".brands-section.js-toggle-container").hide(),this.removeSubTakeover(e)):this.$el.find(".brands-section.js-toggle-container").slideUp(),t.find(".js-toggle.js-brands-header").removeClass("is-active"),this.$el.find(".l-brand-section .m-icon-trigger").removeClass("t-icon-arrow-up").addClass("t-icon-arrow-down"))})),"preventPropagation",(function(e){e.stopPropagation()})),"setSearchLocation",(function(e){if(this.$el.find(".search-tab-list .ui-tabs-selected").find("a").hasClass("js-single-search-propertySearch")){var t=this.$el.find(".search-property-code");""===o(t[1]).val()&&t.val(this.$el.find(".single-search-location").val())}})),"setGeoLatLong",(function(e){this.geoLocationHandler=new g({$el:this.$el}),this.geoLocationHandler.setLatLong(e)})),"propertyCodeChangeHandler",(function(){var e=this.$el.find(".js-rooms-guests");e.data("is-agent-self-property")&&!this.roomGuestHandler.isGXPAgentSelfProperty()&&(this.roomGuestHandler.onClearClicked(),e.data("is-agent-self-property",!1))})),n(n(n(n(n(n(n(n(n(n(a,"iosSmartBannerHandler",(function(){var e=this.$el.find(".l-done-container"),t=window.innerHeight,i=o(window).innerHeight(),a=t!==i,s=Math.abs(t-i)+"px !important";a?e.attr("style","bottom: "+s):e.removeAttr("style")})),"subTakeOverSelectors",["js-auto-complete-input-v2","js-rooms-guests-trigger","js-special-rates-header","js-brands-header"]),"formCachedProperties",[]),"expandSubTakeover",(function(e,t){if(this.disableSubTakeover)return!0;e.stopPropagation();var i=!1,a=o(e.currentTarget);if(this.subTakeOverSelectors.forEach((function(e){a.hasClass(e)&&(i=!0)})),i){if(a.parents(".sub-takeover").length)return;t||this.cacheSearchFormProperties(),o("body").addClass("no-scroll sub-takover-opened"),o("html").addClass("no-scroll"),o(".sub-takeover").removeClass("sub-takeover"),(o(".tile-search-homepage")||o(".tile-hsearch"))&&a.parents(".tile-hsearch").addClass("elevate-index"),a.closest(".m-field-control").addClass("sub-takeover hasOpened"),o(".sub-takeover div[data-takeover-label]").scrollTop(0)}})),"resetDestinationSuggestionList",(function(){this.autoCompleteHandlerV2.resetSuggestionList(!1,!0)})),"resetCachedProperties",(function(e,t){if(e.stopPropagation(),!this.responsiveUtils.isDesktop()){var i=this.$el.find(".sub-takeover");t||this.formCachedProperties.forEach((function(e){e.$element.hasClass("js-auto-complete-input-v2")?""!==e.$element.val()&&e.$element.val(e.value):e.$element.val(e.value),(e.$element.is("input[type='checkbox']")||e.$element.is("input[type='radio']"))&&e.$element.prop("checked",e.checked)})),i.hasClass("l-brand-section")&&(this.brandsCountUpdate(e),this.closeBrandContainer(e)),i.hasClass("js-rooms-guests")&&(this.roomGuestHandler.toggleRoomButtons(),this.roomGuestHandler.toggleAdultButtons(),this.roomGuestHandler.toggleChildButtons(),this.roomGuestHandler.handleChildAgeDiv(i.find(".childrenCount").val(),i.find(".js-children-ages").val().split(",")),this.roomGuestHandler.displayText()),this.$el.find(".sub-takeover").hasClass("js-auto-complete")&&this.resetDestinationSuggestionList(),this.removeSubTakeover(e),this.isAutoUserIntrectionEnable=!1}})),"removeSubTakeover",(function(e,t){if(!this.disableSubTakeover){e&&e.stopPropagation()&&e.preventDefault();return o("html").removeClass("no-scroll"),o("body").removeClass("no-scroll sub-takover-opened brands-sub-takeover-opened date-picker-sub-takeover-opened"),o(".sub-takeover").removeClass("sub-takeover"),o(".elevate-index").removeClass("elevate-index"),I.checkPlaceholderAnimation(),t&&this.isAutoUserIntrectionEnable&&(this.$el.find(".ccheckin").focus(),this.isAutoUserIntrectionEnable=!1),!1}})),"cacheSearchFormProperties",(function(){var e=this;e.formCachedProperties=[],e.$el.find("input, select").each((function(t,i){e.formCachedProperties.push({$element:o(this),value:i.value,checked:!!i.checked&&i.checked})}))})),"setSearchTypeDetails",(function(){var e,t=o(".l-recently-viewed-item.autocomplete-listitem-active a").attr("data-label"),i=o(".autocomplete-listitem-active a").attr("data-searchtype"),a=o(".l-find-container .l-h-field").text().trim(),s=o('div[aria-live^="assertive"]').text().trim();e=null!=t?"Selected Recently Viewed":null!=i?"Selected Recent Searches":null!=a&&null!=s&&a==s?"Selected Recommended Result":"typed",N.createCookie("updatedSearchType",e)})),"submitSearchFormData",(function(e){if(!0===this.$el.data("brands")){var t=[];this.$el.find('.brands-section input[type="checkbox"]:checked').each((function(){t.push(o(this).val())})),this.$el.find('.brands-section input[type="checkbox"]').length==t.length?this.$el.find("input[name=marriottBrands]").val("all"):this.$el.find("input[name=marriottBrands]").val(t.join(","))}this.$el.find("#edit-search-form")&&(this.$el.find("form#edit-search-form input[type=hidden]").each((function(e,t){""===t.value&&t.remove()})),this.$el.find("#edit-search-form").submit()),this.$el.find("#advanced-search-form")&&(this.$el.find("form#advanced-search-form input[type=hidden]").each((function(e,t){""===t.value&&t.remove()})),this.$el.find("#advanced-search-form").submit()),this.$el.find("#find-a-hotel-homePage-form")&&(this.$el.find("form#find-a-hotel-homePage-form input[type=hidden]").each((function(e,t){""===t.value&&t.remove()})),this.$el.find("#find-a-hotel-homePage-form").submit()),this.$el.find("#find-a-hotel-form")&&(this.$el.find("form#find-a-hotel-form input[type=hidden]").each((function(e,t){""===t.value&&t.remove()})),this.$el.find("#find-a-hotel-form").submit()),this.$el.find("#edit-your-search-form-ministores")&&(this.$el.find("form#edit-your-search-form-ministores input[type=hidden]").each((function(e,t){""===t.value&&t.remove()})),this.$el.find("#edit-your-search-form-ministores").submit()),this.$el.find("#force-sell-form")&&(this.$el.find("form#force-sell-form input[type=hidden]").each((function(e,t){""===t.value&&t.remove()})),this.$el.find("#force-sell-form").submit())}))));e.exports=E},57:function(e,t,i){var a=i(0),s=(i(1),i(7)),n=i(3),o=(i(11),i(45));i(14),n=i(3);function r(){this.debounce=!1}r.prototype.initDatePicker=function(e,t,i){var s=this;this.$el=e,this.$parent=i,this.parentInst=i,this.responsiveUtils=t,s.redEyeUpdatedDates={},s.mobileDatePickerResetValue={},s.isAssociate=s.$el.find(".l-date-picker").data("associateFlow"),s.isMobileDevice=!s.isAssociate&&s.responsiveUtils.isMobileOrTablet(),s.formatPicker=new o(s.$el),s.datePickerOptions=s.$el.find(".js-date-pick-container").data("options"),s.nightsLabel=s.datePickerOptions.nightsLabel.toUpperCase(),s.nightLabel=s.datePickerOptions.nightLabel.toUpperCase(),s.continueLabel=s.datePickerOptions.continueLabel,s.continueWithLabel=s.datePickerOptions.continueWithLabel,s.invalidLabel=s.$el.find(".js-date-from-to").data("invalidmsg"),s.localeOptions=s.formatPicker.localeObj(s.$el.find(".js-datepick-container").data("countryCode")),s.lenthOfStay=s.datePickerOptions.flexibleNight,s.isnonDatedSearch=s.$el.find(".l-date-picker").data("isNonDatedSearch")||s.datePickerOptions.isDestPage,s.hideflexibleDates=s.$el.find(".js-date-pick-container").data("hideFlexibleDateCalendar"),s.isKGroupDate=s.datePickerOptions.showKGroupDate,s.kGroupDate=s.datePickerOptions.kGroupDate,s.$datePickerContainer=s.$el.find(".js-date-pick-container"),s.minDate=s.$el.find(".ccheckin").data("minValue"),s.checkinShowDate=new Date,s.maxDate="true"==s.isKGroupDate?s.kGroupDate:s.$el.find(".ccheckin").data("maxValue"),s.timeZoneOffset=6e4*(new Date).getTimezoneOffset(),s.nextDate=new Date(s.checkinShowDate),s.nextDate.setDate(s.nextDate.getDate()+1);var n=s.datePickerOptions.weekdayShortList.split(",");n.push(n.shift());var r=s.$el.find(".ccheckin").val()?s.formatPicker.getDateFromFormat(s.$el.find(".ccheckin").val(),s.localeOptions.formatSubmit):"",l=s.$el.find(".ccheckout").val()?s.formatPicker.getDateFromFormat(s.$el.find(".ccheckout").val(),s.localeOptions.formatSubmit):"";if(s.checkinDate=r||s.checkinShowDate,s.checkoutDate=l||s.nextDate,s.$el.find(".fromToDate").length){var d=s.$el.find(".js-datepick-container").data("countryCode"),c=s.formatPicker.formatDate(new Date(s.checkinDate),s.localeOptions.formatShortNoDay).trim(),h=s.formatPicker.formatDate(new Date(s.checkoutDate),s.localeOptions.formatShortNoDay).trim(),p=c.split(" "),u=h.split(" ");s.localeOptions.formatShortNoDay.startsWith("d")?p[1]===u[1]&&(c=c.substring(0,c.length-p[1].length)):p[0]===u[0]?h=h.substring(u[0].length+1):"AE"===d&&(c=p[0].substring(0,4)+p[1],h=u[0].substring(0,4)+u[1]),s.$el.find(".fromToDate")[0].textContent=c+" - "+h}!s.isnonDatedSearch&&s.checkinDate&&(s.updateCheckin(s.checkinDate),s.toggleArrows(!0,"cIn"),s.toggleCheckinArrow(s.checkinDate)),!s.isnonDatedSearch&&s.checkoutDate&&(s.updateCheckout(s.checkoutDate),s.toggleArrows(!0,"cOut"),s.toggleCheckoutArrow(s.checkoutDate));var f=0;f=""===s.maxDate?13:s.monthDiff(new Date(s.minDate),new Date(s.maxDate));var m={numCalendar:s.isMobileDevice?f:2,limitDateRanges:s.kGroupDate?s.getDaysDiff(new Date,new Date(s.kGroupDate)):s.getDaysDiff(new Date,new Date(s.maxDate)),autoClose:!1,titleMonths:s.datePickerOptions.monthFullList.split(","),titleDays:n,startDate:"true"==s.datePickerOptions.showRedEye?new Date(s.datePickerOptions.redEyeValue):s.newStartDate?new Date(s.newStartDate):new Date(s.minDate),endDate:"true"==s.isKGroupDate?new Date(s.kGroupDate):new Date(s.maxDate),dateCheckIn:s.isnonDatedSearch?"":s.checkinDate&&!s.isMobileDevice?new Date(s.checkinDate):"",dateCheckOut:s.isnonDatedSearch?"":s.checkoutDate&&!s.isMobileDevice?new Date(s.checkoutDate):"",isMobile:s.isMobileDevice,doneLabel:s.datePickerOptions.doneLabel,startOfWeek:s.localeOptions.firstDay,redEye:s.datePickerOptions.redEyeValue,titleDateRange:s.datePickerOptions.nightLabel,titleDateRanges:s.datePickerOptions.nightsLabel,redEyePopup:s.redEyePopup,$parentComponent:s.parentInst,nextMonthLabel:s.datePickerOptions.nextMonthLabel,prevMonthLabel:s.datePickerOptions.prevMonthLabel};if(0!=m.startOfWeek)for(var g=0;g<m.startOfWeek;g++)m.titleDays.unshift(m.titleDays.pop());var v="t-datepicker"+Date.now();this.$el.find(".t-datepicker").addClass(v),this.$el.find("."+v).tDatePicker(m).on("selectedCI",(function(e,t){s.isRedEyeSelected=!1,s.updateCheckin(t,!0),s.$el.find(".date-focus").removeClass("date-focus"),s.$el.find(".ccheckout-container").addClass("date-focus"),s.$el.find(".ccheckout").focus(),s.toggleArrows(!0,"cIn"),s.toggleCheckinArrow(t),s.checkinGreaterCheckout(t),s.$el.find(".temp-hover").removeClass("temp-hover"),s.dateChange&&(s.dateChange=!1,s.updateCheckout(s.$el.find(".js-to-calc").val()),s.toggleArrows(!0,"cOut")),s.$el.find(".js-to-calc").val()&&(s.updateCheckout(s.$el.find(".js-to-calc").val()),s.toggleArrows(!0,"cOut"))})).on("selectedCO",(function(e,t){s.dateChange&&(s.dateChange=!1,s.updateCheckin(s.$el.find(".js-from-calc").val()),s.toggleArrows(!0,"cIn")),s.updateCheckout(t),s.isMobileDevice||0!=s.$el.find(".show-done-button").length||0!=s.$el.find(".show-flexi-date-done-button").length?0!==s.$el.find(".show-done-button").length?setTimeout((function(){s.$el.find(".hws-done-button").focus()}),15):0!==s.$el.find(".show-flexi-date-done-button").length&&setTimeout((function(){s.$el.find(".flexi-date-done-button").focus()}),15):(a(document).click(),s.isAssociate?s.$el.find(".usePoints").focus():s.$el.find(".js-rooms-guests-trigger").focus()),s.toggleArrows(!0,"cOut"),s.toggleCheckoutArrow(t)})),s.isMobileDevice?s.bindForMobile():s.bindForDesktop(),s.$el.find(".ccheckout, .ccheckin").on("keyup",(function(e){var t=s.$el.find(e.target).hasClass("ccheckin"),i=a(this).val();if(s.toggleArrows(!!i,t?"cIn":"cOut"),i||(s.$el.find(".nights-count").html(""),s.$el.find(".mobile-night-container").hide(),s.$el.find(".js-continue-label").text(s.continueLabel)),!s.$parent.disableSubTakeover){var n=isNaN(s.$el.find(".ccheckin").val()),o=isNaN(s.$el.find(".ccheckout").val());n&&o||!n&&!o?(s.$el.find(".js-done-date").removeClass("is-disabled").attr("disabled",!1),s.$el.find(".ccheckout").removeClass("l-shown-cs-label")):(s.$el.find(".js-done-date").addClass("is-disabled").attr("disabled",!0),s.$el.find(".ccheckout").addClass("l-shown-cs-label"))}})),"true"!=s.datePickerOptions.flexibleSelected||s.hideflexibleDates||(s.$el.find(".flex-date-search-input, .js-flex-check").val(!0),s.$el.find(".js-flex-display").show(),s.mobileDatePickerResetValue.flexBtnState=!0,s.$el.find(".date-picker-container, .mobile-night-container").hide(),s.$el.find(".js-continue-label").text(s.continueLabel)),s.$el.find(".datepicker-reset-button").on("click",(function(e){e.preventDefault();var t=s.checkinDate,i=s.checkoutDate;s.isnonDatedSearch?s.clearDates():(s.isMobileDevice?(s.currentCheckinDate=new Date(t).setHours(0,0,0,0),s.currentCheckoutDate=new Date(i).setHours(0,0,0,0),s.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"),s.$el.find("table [data-t-date ="+s.currentCheckinDate+"]").addClass("t-start"),s.$el.find("table [data-t-date = '"+s.currentCheckoutDate+"']").addClass("t-end").removeClass("t-range"),s.highlightRange(s.currentCheckinDate,s.currentCheckoutDate)):s.$el.find(".t-datepicker").tDatePicker("update",[new Date(t),new Date(i)]),s.updateCheckin(t),s.toggleCheckinArrow(t),s.updateCheckout(i),s.toggleCheckoutArrow(i),t&&s.toggleArrows(!0,"cIn"),i&&s.toggleArrows(!0,"cOut"));var a=s.$el.find(".l-dates-flexible-checkbox");return a.is(":checked")&&a.trigger("click"),s.$el.find(".ccheckin ").focus(),s.scrollTopToOffset("checkin",!0),s.isMobileDevice&&(s.$el.find(".flexi-date-done-button").focus(),s.$el.find(".tab-container1").scrollTop(0)),!1})),s.$el.find(".flex-reset-button").on("click",(function(){s.$el.find(".js-flex-month.is-selected").blur(),s.$el.find(s.$el.find(".js-flex-month")[0]).trigger("click"),s.setStepperVal(1,s),setTimeout((function(){s.$el.find(".js-plus").focus()}),100)})),s.$el.find(".js-flex-display").on("click",(function(e){s.$el.find(".tabs.selected").removeAttr("aria-label"),s.$el.find(".tabs.selected").removeClass("selected"),s.$el.find(".tab2").addClass("selected"),s.$el.find(".tab2").attr("aria-label",s.$el.data("selected-text")+" "+s.$el.find(".tab2").html()),s.$el.find(".tab-container").hide(),s.$el.find(".tab-container2").show(),s.$el.find(".flex-date-search-input, .js-flex-check").val(!0),s.setStepperValue(),s.showDatePicker(),s.$el.find(".l-done-container").hide(),(s.$el.find(e.target).parents(".tile-hsearch-tiers").length||s.$el.find(e.target).parents(".tile-hsearch-hws").length)&&s.parentInst.expandSearchForm()})),s.$el.find(".js-flex-display").on("focus",(function(e){(s.$el.find(e.target).parents(".tile-hsearch-tiers").length||s.$el.find(e.target).parents(".tile-hsearch-hws").length)&&s.parentInst.expandSearchForm()})),s.$el.find(".js-red-eye-popup .js-okay-btn, .js-red-eye-popup .js-cancel-btn").off().on("click",(function(e){e.stopPropagation(),e.preventDefault();var t=new Date(s.datePickerOptions.redEyeValue),i=s.redEyeUpdatedDates.checkout||new Date(s.$el.find(".js-to-calc").val()||s.getNextDate(t));a(this).hasClass("js-okay-btn")?(setTimeout((function(){s.validateDates(t,i,!0)}),10),setTimeout((function(){s.$el.find(".ccheckout").focus(),s.toggleArrows(!0,"cOut"),s.toggleArrows(!0,"cIn"),s.redEyeUpdatedDates.checkout=""}),150)):s.resetToPreviousState(),s.parentInst.pubsub.publish("POPUP_CLOSE")})),s.initFlexDate(),s.initAccessibility(),s.isnonDatedSearch&&(s.$el.find(".mobile-night-container").hide(),s.$el.find(".js-continue-label").text(s.continueLabel)),s.$el.find(".prev-checkin, .next-checkin, .prev-checkout, .next-checkout").attr("tabIndex","-1"),s.watchScreenSize()},r.prototype.resetToPreviousState=function(){this.isRedEyeSelected=!1,this.$el.find(".js-to-calc").val()?(this.currentCheckinDate="",this.currentCheckoutDate="",this.$el.find(".ccheckin, .ccheckout").val(""),this.validateDates()):this.clearDates(),a(document).click()},r.prototype.bindForMobile=function(){var e=this;e.$el.find(".ccheckin, .ccheckout").prop("readonly",!0),e.$el.find(".t-datepicker-day").length||(e.$el.find(".t-datepicker").tDatePicker("show"),setTimeout((function(){e.isnonDatedSearch||(e.currentCheckinDate=new Date(e.checkinDate).setHours(0,0,0,0),e.currentCheckoutDate=new Date(e.checkoutDate).setHours(0,0,0,0),e.currentCheckinDate&&e.$el.find("table [data-t-date ="+e.currentCheckinDate+"]").addClass("t-start"),e.currentCheckoutDate&&e.$el.find("table [data-t-date = '"+e.currentCheckoutDate+"']").addClass("t-end").removeClass("t-range"))}),500)),e.$el.find(".ccheckin, .ccheckout, .js-flex-display").on("click",(function(t){e.mobileInputClick(t)})),e.$el.find(".l-m-placeholder").on("click",(function(t){t.preventDefault(),e.$el.find(".ccheckout").trigger("click")})),e.$el.find(".ccheckin, .ccheckout").on("keydown",(function(t){"13"==t.which&&e.$el.find("form").submit()})),e.$el.find(".tab1.tabs.focus-elem").on("click",(function(t){t.preventDefault(),e.$el.data("show-sub-takeover")&&e.responsiveUtils.isMobileOrTablet()&&e.$el.find(".l-date-picker-actions").removeClass("is-hidden")})),e.$el.find(".ccheckout, .ccheckin").on("focus",(function(t){e.$el.find(".date-focus").removeClass("date-focus"),e.$el.find(t.target).closest(".date-picker-container").addClass("date-focus"),e.$el.find(t.target).hasClass("ccheckin")?e.focusElem="checkin":e.focusElem="checkout"})),e.$el.find(".js-done-date, .flex-done-button, .flexi-date-done-button").on("click",(function(t){if(e.isMobile&&(e.$el.find(t.target).hasClass("js-done-date")||e.$el.find(t.target).parent().hasClass("js-done-date"))&&e.$el.find(".js-done-date").hasClass("is-disabled"))return!1;e.$el.find(".tab-container1").scrollTop(0),t.preventDefault(),e.$el.removeClass("is-date-open"),a(".date-modal-open").removeClass("date-modal-open"),e.hideDatePicker(),e.$el.find(".ccheckin, .ccheckout").prop("readonly",!0),a(".picker-content").removeClass("picker-content"),e.$el.find(".l-done-container").removeAttr("style"),e.dateChange?e.validateDesktopDates():(e.currentCheckinDate&&!e.currentCheckoutDate&&e.resetDateMobile(),!e.currentCheckinDate&&e.currentCheckoutDate&&e.resetDateMobile()),e.mobileDatePickerResetValue.checkIn=null,e.mobileDatePickerResetValue.checkOut=null,a(t.target).hasClass("flex-done-button")||a(t.target).parent().hasClass("flex-done-button")?e.mobileDatePickerResetValue.flexBtnState=!0:e.mobileDatePickerResetValue.flexBtnState=!1})),e.$el.find(".js-m-date-cancel").on("click",(function(t){t.preventDefault(),t.stopPropagation();var i=e.mobileDatePickerResetValue;if(a("body").removeClass("date-picker-sub-takeover-opened"),e.hideflexibleDates||i.flexBtnState?i.flexBtnState&&!e.hideflexibleDates&&e.$el.find(".tab2").trigger("click"):e.$el.find(".tab1").trigger("click"),e.$el.find(".tab-container1").scrollTop(0),e.$el.removeClass("is-date-open"),a(".date-modal-open").removeClass("date-modal-open"),e.hideDatePicker(),e.$el.find(".ccheckin, .ccheckout").prop("readonly",!0),a(".picker-content").removeClass("picker-content"),e.$el.find(".l-done-container").removeAttr("style"),i.flexBtnState)e.$el.find(".js-flex-month.is-selected").blur(),e.$el.find(e.$el.find(".js-flex-month")[i.flexibleCalendarMonth]).trigger("click"),e.setStepperVal(i.flexibleCalendarNight,e);else{if(!i.checkIn&&!i.checkOut)return e.clearDates(!1),void e.$el.find(".ccheckout").removeClass("l-shown-cs-label");e.currentCheckinDate=i.checkIn,e.currentCheckoutDate=i.checkOut,e.updateCheckin(i.checkIn),e.updateCheckout(i.checkOut),e.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"),e.$el.find("table [data-t-date ="+i.checkIn+"]").addClass("t-start"),e.$el.find("table [data-t-date ="+i.checkOut+"]").addClass("t-end"),e.highlightRange(i.checkIn,i.checkOut),e.hideflexibleDates&&e.$el.find(".show-flexible-dates-checkbox .l-dates-flexible-checkbox").prop("checked",i.flexibleCheckState)}i.checkIn=null,i.checkOut=null})),e.$el.find(".ccheckin, .ccheckout").on("change",e.handleCiCoChange.bind(e)),e.$el.find(".tabs").on("click",(function(t){t.stopPropagation(),e.$el.find(".selected").removeAttr("aria-label"),e.$el.find(".selected").removeClass("selected"),e.$el.find(t.target).addClass("selected"),e.$el.find(t.target).attr("aria-label",""),e.$el.find(".tab-container").hide(),e.$el.find("."+e.$el.find(t.target).data("container")).show(),e.$el.find(t.target).hasClass("tab2")?(e.$el.find(".flex-date-search-input").val(!0),e.$el.find(".js-flex-check").prop("checked",!0).prop("value",!0),e.$el.find(".js-flex-display").show(),e.$el.find(".date-picker-container, .mobile-night-container").hide(),e.$el.find(".js-continue-label").text(e.continueLabel),e.$el.find(".l-done-container").hide(),e.$el.find(".js-from-calc").val()||e.$el.find(".js-to-calc").val()?e.setStepperValue():(e.$el.find(e.$el.find(".js-flex-month")[0]).trigger("click"),e.setStepperVal(1,e))):(e.$el.find(".flex-date-search-input, .js-flex-check").val(!1),e.$el.find(".js-flex-display").hide(),e.$el.find(".date-picker-container, .mobile-night-container").show(),e.$el.find(".js-continue-label").text(e.continueWithLabel),e.$el.find(".ccheckin").trigger("click"),e.$el.find(".tab-container1").scrollTop(0),e.scrollTopToOffset("checkin",!0),e.$el.find(".l-done-container").show(),e.updateTotalNights())})),a(document).on("click",(function(t){e.$el.find(t.target).hasClass("tabs")}))},r.prototype.mobileResetDataCollector=function(){var e=this.mobileDatePickerResetValue;(null===e.checkIn&&null==e.checkOut||void 0===e.checkIn&&null==e.checkOut)&&(e.checkIn=new Date(this.$el.find(".js-from-calc").val()).setHours(0,0,0,0),e.checkOut=new Date(this.$el.find(".js-to-calc").val()).setHours(0,0,0,0),e.flexibleCalendarMonth=this.$el.find(".js-flex-month.is-selected").index(),e.flexibleCalendarNight=this.$el.find(".js-flex-input").val()),this.hideflexibleDates&&(e.flexibleCheckState=this.$el.find(".l-dates-flexible-checkbox").prop("checked")),this.$el.find(".js-done-date").removeClass("is-disabled").attr("disabled",!1)},r.prototype.handleCiCoChange=function(e){var t=this;if(!t.handleDebounce()){var i=a(e.target).val(),s=t.$el.find(e.target).hasClass("ccheckin"),n=new Date(i),o=(new Date).getFullYear(),r=new Date(t.$el.find(".js-from-calc").val()).getFullYear(),l=new Date(t.$el.find(".js-to-calc").val()).getFullYear();isNaN(n)&&(n=new Date(t.formatPicker.getDateFromMultipleLocales(i,t.localeOptions))),t.dateChange=!0,t.checkinChange=s,t.checkoutChange=!s,isNaN(n)?t.$el.find(e.target).val()&&alert(t.invalidLabel):(n.getFullYear()<o&&(n.setFullYear(o),t.checkinChange&&!isNaN(r)?n.setFullYear(r):t.checkoutChange&&!isNaN(l)&&n.setFullYear(l)),s?(t.isRedEyeSelected=!1,t.currentCheckinDate=n):t.currentCheckoutDate=n),t.validateDesktopDates(isNaN(n),e),t.$parent.disableSubTakeover||setTimeout((function(){var e=isNaN(t.$el.find(".ccheckin").val()),i=isNaN(t.$el.find(".ccheckout").val());e&&i||!e&&!i?(t.$el.find(".js-done-date").removeClass("is-disabled").attr("disabled",!1),t.$el.find(".ccheckout").removeClass("l-shown-cs-label")):(t.$el.find(".js-done-date").addClass("is-disabled").attr("disabled",!0),t.$el.find(".ccheckout").addClass("l-shown-cs-label"))}),100)}},r.prototype.checkDates=function(){this.$el.find(".ccheckin").val()||this.$el.find(".ccheckout").val()||(this.$el.find(".js-submit-from, .js-submit-to, .fromToDate_submit,.js-from-calc,.js-to-calc").val(""),this.updateTotalNights(),this.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"),this.currentCheckinDate="",this.currentCheckoutDate="")},r.prototype.redEyePopup=function(e,t){new s({open:!0,items:{src:".js-red-eye-popup",type:"inline"},selector:".red-eye",alternateCloseMarkup:!0,sourceBlock:".modal-content",mainClass:"modal-content"}).register()},r.prototype.bindForDesktop=function(){var e=this;e.$el.find(".ccheckin").on("click",(function(e){a(this).focus()})),e.$el.find(".focus-elem").on("mousedown",(function(e){e.preventDefault()})),e.$el.find(".ccheckout").on("click",(function(t){t.stopPropagation(),t.preventDefault(),e.$el.find(".temp-hover").length&&e.$el.find(".temp-hover").click(),e.$el.find(".t-datepicker").tDatePicker("getDate")?a(this).focus():e.$el.find(".ccheckin").focus()})),document.querySelector("body").addEventListener("click",(function(t){var i=a(t.target);(i.hasClass("mfp-content")||i.parents(".mfp-content").length)&&!i.parents(".js-datepick-container").length&&e.$el.find(".t-datepicker-day").length&&(e.hideDatePicker(),a(document).click())}),!0),e.$el.find(".js-search-location").on("focus",(function(){e.toggleCheckinArrow(e.$el.find(".js-from-calc").val()),e.toggleCheckoutArrow(e.$el.find(".js-to-calc").val())})),e.$el.find(".ccheckout, .ccheckin").on("focus",(function(t){var i,s,n=e.$el.find(t.target);(e.isActiveDatePicker=!0,e.toggleCheckinArrow(e.$el.find(".js-from-calc").val()),e.toggleCheckoutArrow(e.$el.find(".js-to-calc").val()),n.hasClass("ccheckout")&&""===e.$el.find(".ccheckout").val()&&""===e.$el.find(".ccheckin").val())?e.$el.find(".ccheckin").focus():(n.hasClass("ccheckin")&&!e.$el.find(".t-datepicker").tDatePicker("getDateInputs")[1]&&e.$el.find(".t-datepicker").tDatePicker("getDateInputs")[0],e.$el.find(".date-focus").removeClass("date-focus"),n.closest(".date-picker-container").addClass("date-focus"),n.hasClass("ccheckout")?(i="t-check-out",s="t-date-check-out"):(i="t-check-in",s="t-date-check-in"),(0==e.$el.find(".t-datepicker-day").length||e.$el.find(".t-datepicker").tDatePicker("getDate"))&&(e.$el.find(".t-datepicker-day").parents("."+i).length||e.$el.find("."+s).trigger("click")),e.showDatePicker(),e.$el.find(".l-date-part").hide(),e.isMobileDevice&&(e.$el.addClass("is-date-open"),a("html,body").addClass("date-modal-open"),e.calculateDatepickerHeight()),e.parentInst.expandSearchForm(),a(".ios").length&&setTimeout((function(){a(".tab-container1").scrollTop(a(".tab-container1").scrollTop()-1)}),10))})),e.$el.find(".prev-checkin, .next-checkin, .prev-checkout, .next-checkout").on("focus",(function(t){(e.$el.find(t.target).parents(".tile-hsearch-tiers").length||e.$el.find(t.target).parents(".tile-hsearch-hws").length)&&e.parentInst.expandSearchForm()})),e.$el.on("click",".prev-checkin, .next-checkin",(function(t){e.handleDebounce()||(e.setCheckinDateOnArrow(t),(e.$el.find(t.target).parents(".tile-hsearch-tiers").length||e.$el.find(t.target).parents(".tile-hsearch-hws").length)&&e.parentInst.expandSearchForm())})),e.$el.find(".prev-checkout, .next-checkout").on("click",(function(t){e.handleDebounce()||(e.setCheckoutDateOnArrow(t),(e.$el.find(t.target).parents(".tile-hsearch-tiers").length||e.$el.find(t.target).parents(".tile-hsearch-hws").length)&&e.parentInst.expandSearchForm())})),e.$el.find(".hws-done-button, .flex-done-button, .flexi-date-done-button").on("click",(function(t){t.preventDefault(),e.hideDatePicker(),a(document).click()})),e.$el.on("keypress",".hws-done-button",(function(t){13===t.which&&setTimeout((function(){e.$el.find(".js-rooms-guests .js-rooms-guests-trigger").focus()}),15)})),e.$el.find(".ccheckin, .ccheckout").on("change",e.handleCiCoChange.bind(e)),a(document).on("click",(function(t,i){e.documentClicked(t,i)})),e.$el.on("keypress",".l-dates-flexible-checkbox",(function(e){13===e.which&&e.preventDefault()}))},r.prototype.mobileInputClick=function(e){var t=this,i=!t.$el.hasClass("is-date-open");if(t.highlightRange(t.currentCheckinDate,t.currentCheckoutDate),t.$el.find("td.t-day span, td.t-max-checkin span").off("click").on("click",(function(e){e.stopImmediatePropagation(),t.dateClicked(e)})),t.$el.find(".date-focus, .checkout-focus, .checkin-focus").removeClass("date-focus checkout-focus checkin-focus"),t.$el.find(e.target).is(":focus")||t.$el.find(e.target).focus(),t.$el.find(e.target).hasClass("ccheckin"))t.focusElem="checkin",t.$el.find(".ccheckin-container").addClass("date-focus"),t.$el.find(".new-container").addClass("checkin-focus"),t.$el.find(".m-disable").removeClass("m-disable"),t.checkDates();else{if(t.$el.find(".m-disable").removeClass("m-disable"),!t.$el.find(".ccheckin").val()&&!t.$el.find(".ccheckout").val())return t.$el.find(".ccheckin").trigger("click").focus(),!1;t.focusElem="checkout",t.$el.find(".new-container").addClass("checkout-focus"),t.$el.find(".ccheckout-container").addClass("date-focus")}t.$el.addClass("is-date-open"),a("body").addClass("date-modal-open"),t.$parent.disableSubTakeover||a("body").addClass("date-picker-sub-takeover-opened"),t.mobileResetDataCollector(),t.calculateDatepickerHeight(),t.showDatePicker(),t.scrollTopToOffset(t.focusElem,i),t.$el.find(e.target).prop("readonly")&&t.$el.find(".ccheckin, .ccheckout").prop("readonly",!1).blur(),t.$el.parents(".m-header-container").addClass("picker-content")},r.prototype.scrollTopToOffset=function(e,t){var i,a=(i="checkin"==e?this.$el.find(".t-start").closest(".t-table-wrap"):this.$el.find(".t-end").closest(".t-table-wrap")).length?i.offset().top-200:0;(a>0&&!this.$el.find(".tabbing").hasClass("is-visible")||t)&&this.$el.find(".tab-container1").scrollTop(a)},r.prototype.dateClicked=function(e){var t=this,i=t.$el.find(e.target).closest("td"),a=t.$el.find(".t-start");if(end_date=t.$el.find(".t-end"),t.currentCheckinDate=t.currentCheckinDate||new Date(t.$el.find(".js-from-calc").val()).setHours(0,0,0,0),t.currentCheckoutDate=t.currentCheckoutDate||new Date(t.$el.find(".js-to-calc").val()).setHours(0,0,0,0),"checkin"==t.focusElem){if(t.$el.find(i).hasClass("t-max-checkin"))return;if(!a.length||i.data("t-date")<t.currentCheckinDate||i.data("t-date")>t.currentCheckinDate&&i.data("t-date")<t.currentCheckoutDate||!end_date.length)t.$el.find(".t-start").removeClass("t-start"),i.addClass("t-start"),t.currentCheckinDate=i.data("t-date");else if(i.data("t-date")>t.currentCheckinDate&&(t.$el.find(".t-start").removeClass("t-start"),i.addClass("t-start"),t.currentCheckinDate=i.data("t-date"),t.$el.find(".t-end").removeClass("t-end"),t.$parent.disableSubTakeover)){var s=new Date(t.$el.find(".t-start").data("t-date"));s.setDate(s.getDate()+1),t.$el.find("table [data-t-date = '"+s.getTime()+"']").addClass("t-end").removeClass("t-range"),t.currentCheckoutDate=s.getTime()}t.$parent.disableSubTakeover||(t.$el.find(".t-end,.t-range").removeClass("t-end t-range"),t.$el.find(".ccheckout").val(""),t.$el.find(".js-submit-to").val(""),t.$el.find(".js-to-calc").val(""),t.updateTotalNights(),t.currentCheckoutDate="",t.$el.find(".ccheckout").addClass("l-shown-cs-label"))}else{if(i.data("t-date")<=(new Date).setHours(0,0,0,0)&&a.data("t-date")<(new Date).setHours(0,0,0,0))return;if(i.hasClass("t-start"))return;!t.currentCheckoutDate||i.data("t-date")>t.currentCheckinDate?t.$parent.disableSubTakeover?i.data("t-date")<t.currentCheckinDate?(t.$el.find(".t-start").removeClass("t-start").addClass("t-end"),i.addClass("t-start").removeClass("t-range"),t.currentCheckinDate=i.data("t-date"),t.currentCheckoutDate=a.data("t-date")):(t.$el.find(".t-end").removeClass("t-end"),i.addClass("t-end").removeClass("t-range"),t.currentCheckoutDate=i.data("t-date")):i.data("t-date")<t.currentCheckinDate?(t.$el.find(".t-start").removeClass("t-start"),i.addClass("t-start").removeClass("t-range"),t.currentCheckinDate=i.data("t-date"),t.$el.find(".t-end,.t-range").removeClass("t-end t-range"),t.$el.find(".ccheckout").val(""),t.$el.find(".js-submit-to").val(""),t.$el.find(".js-to-calc").val(""),t.updateTotalNights(),t.currentCheckoutDate="",t.$el.find(".ccheckout").addClass("l-shown-cs-label")):(t.$el.find(".t-end").removeClass("t-end"),i.addClass("t-end").removeClass("t-range"),t.currentCheckoutDate=i.data("t-date"),setTimeout((function(){t.$el.find(".date-focus, .checkout-focus, .checkin-focus").removeClass("date-focus checkout-focus checkin-focus"),t.$el.find(".ccheckin-container").addClass("date-focus"),t.$el.find(".new-container").addClass("checkin-focus"),t.focusElem="checkin"}),0)):i.data("t-date")<t.currentCheckinDate&&(t.$el.find(".t-start").removeClass("t-start"),i.addClass("t-start"),t.currentCheckinDate=i.data("t-date"),t.$parent.disableSubTakeover||(t.$el.find(".t-end,.t-range").removeClass("t-end t-range"),t.$el.find(".ccheckout").val(""),t.$el.find(".js-submit-to").val(""),t.$el.find(".js-to-calc").val(""),t.updateTotalNights(),t.currentCheckoutDate="",t.$el.find(".ccheckout").addClass("l-shown-cs-label")))}if(t.currentCheckinDate&&t.updateCheckin(t.currentCheckinDate),t.currentCheckoutDate&&t.updateCheckout(t.currentCheckoutDate),t.currentCheckinDate&&t.currentCheckoutDate||!t.currentCheckinDate&&!t.currentCheckoutDate?t.$el.find(".js-done-date").removeClass("is-disabled").attr("disabled",!1):t.$parent.disableSubTakeover||t.$el.find(".js-done-date").addClass("is-disabled").attr("disabled",!0),t.$el.find(".date-focus, .checkout-focus, .checkin-focus").removeClass("date-focus checkout-focus checkin-focus"),t.$el.find(".ccheckout-container").addClass("date-focus"),t.$el.find(".new-container").addClass("checkout-focus"),t.focusElem="checkout",t.highlightRange(t.currentCheckinDate||t.$el.find(".js-from-calc").val(),t.currentCheckoutDate||t.$el.find(".js-to-calc").val()),t.currentCheckoutDate){var n=t.getDaysDiff(t.currentCheckinDate,t.currentCheckoutDate);n>0&&t.$el.find(i).append("<span class='t-hover-day-content'>"+n+" "+(n>1?t.nightsLabel:t.nightLabel)+" </span>"),setTimeout((function(){t.$el.find(".t-hover-day-content").remove()}),1e3)}t.$el.find(".m-disable").removeClass("m-disable")},r.prototype.disablePrevDates=function(e,t){for(var i=this.$el.find("td.t-day"),a=i.length,s=0;s<a&&!this.$el.find(i[s]).hasClass("t-start");s++)this.$el.find(i[s]).addClass("m-disable")},r.prototype.highlightRange=function(e,t){var i=this.$el.find("td.t-day"),a=i.length,s=!1;if(e&&t){this.$el.find(".t-range").removeClass("t-range");for(var n=0;n<a;n++)if(this.$el.find(i[n-1]).hasClass("t-start")&&(s=!0),s&&this.$el.find(i[n]).addClass("t-range"),this.$el.find(i[n]).hasClass("t-end"))return void(s=!1)}},r.prototype.calculateDatepickerHeight=function(){var e=a(window).height(),t=this.$el.find(".tab"),i=this.$el.find(".l-done-container");dateHeight=e-t.outerHeight()-i.outerHeight()},r.prototype.monthDiff=function(e,t){var i;return i=12*(t.getFullYear()-e.getFullYear()),i-=e.getMonth(),(i+=t.getMonth()+1)<=0?0:i},r.prototype.checkinGreaterCheckout=function(e){var t=this;t.compareDate(e,t.$el.find(".js-to-calc").val())&&setTimeout((function(){new Date(e);var i=new Date(e);i.setDate(i.getDate()+1),t.$el.find(".t-datepicker").tDatePicker("update",[new Date(e),new Date(i)]),t.updateCheckout(i,!0),t.toggleCheckoutArrow(i),t.$el.find(".ccheckout").trigger("click")}),100)},r.prototype.documentClicked=function(e,t){if(this.$el.find(e.target).parents().hasClass("hws-search-form")&&(this.$el=this.$el.find(e.target).closest(".hws-search-form")),this.$el.find(e.target).hasClass("tabs"))return this.$el.find(".selected").removeAttr("aria-label"),this.$el.find(".selected").removeClass("selected"),this.$el.find(e.target).addClass("selected"),this.$el.find(e.target).attr("aria-label",this.$el.data("selected-text")+" "+this.$el.find(e.target).html()),this.$el.find(".tab-container").hide(),this.$el.find("."+this.$el.find(e.target).data("container")).show(),void(this.$el.find(e.target).hasClass("tab2")?(this.$el.find(".flex-date-search-input").val(!0),this.$el.find(".js-flex-check").prop("checked",!0).prop("value",!0),this.$el.find(".js-flex-display").show(),this.$el.find(".date-picker-container, .mobile-night-container").hide(),this.$el.find(".js-continue-label").text(this.continueLabel),this.$el.find(".js-from-calc").val()||this.$el.find(".js-to-calc").val()?this.setStepperValue():(this.$el.find(this.$el.find(".js-flex-month")[0]).trigger("click"),this.setStepperVal(1,this))):(this.flexCheckinDate&&(this.setDateFromFlexDesktop(this.flexCheckinDate),this.flexCheckinDate="",this.$el.find(".t-prev").click()),this.$el.find(".flex-date-search-input, .js-flex-check").val(!1),this.$el.find(".js-flex-display").hide(),this.$el.find(".date-picker-container, .mobile-night-container").show(),this.$el.find(".js-continue-label").text(this.continueWithLabel),this.$el.find(".ccheckin").trigger("click"),this.updateTotalNights(),this.toggleArrows(!!this.$el.find(".ccheckin").val(),"cIn"),this.toggleArrows(!!this.$el.find(".ccheckout").val(),"cOut")));if(this.$el.find(e.target).hasClass("js-clear-dates"))this.clearDates(!0);else if(!this.$el.find(e.target).parents(".js-datepick-container").length||this.$el.find(e.target).hasClass("hws-done-button")){if(this.$el.find(e.target).hasClass("hws-done-button")&&!this.isMobile){this.$el.find(".t-datepicker-open").removeClass("t-datepicker-open"),this.$el.find(".t-datepicker-day").remove(),this.parentInst.showNavigationBar();var i=this.$el.closest(".mfp-wrap");i.length&&i.scrollTop(i.scrollTop()-1)}this.$el.find(e.target).closest(".m-date-picker").length||this.hideDatePicker(),this.isMobileDevice&&(this.$el.removeClass("is-date-open"),a(".date-modal-open").removeClass("date-modal-open")),this.$el.find(".date-focus").removeClass("date-focus"),this.$el.find(".l-date-part").show(),this.dateChange&&!this.handleDebounce()?this.validateDesktopDates():this.isActiveDatePicker&&!a(e.target).closest(".m-date-picker").length&&(this.isActiveDatePicker=!1,this.validateDesktopDates(null,null,t))}},r.prototype.toggleArrows=function(e,t){switch(t){case"cIn":this.$el.find(".prev-checkin, .next-checkin").css("visibility",e?"visible":"hidden");break;case"cOut":this.$el.find(".prev-checkout, .next-checkout").css("visibility",e?"visible":"hidden")}},r.prototype.validateDesktopDates=function(e,t,i){var a=this;setTimeout((function(){a.dateChange=!1}),10);var s=a.$el.find(".ccheckin"),n=a.$el.find(".ccheckout");if(s.val()||n.val())if(s.val()&&n.val()){if(e){var o=a.$el.find(".js-from-calc").val();return void a.validateDates(o,a.$el.find(".js-to-calc").val()||a.getNextDate(o))}setTimeout((function(){a.$el.find(".js-datepick-container :focus").length?a.validateCheckinCheckout(e):a.validateDates()}),10)}else setTimeout((function(){var s=a.$el.find(".js-from-calc").val(),n=a.$el.find(".js-to-calc").val(),o=new Date(a.formatPicker.getDateFromMultipleLocales(a.$el.find(".ccheckin").val(),a.localeOptions)),r=new Date(a.formatPicker.getDateFromMultipleLocales(a.$el.find(".ccheckout").val(),a.localeOptions));if(!a.$el.find(".js-datepick-container :focus").length||(a.validateCheckinCheckout(e),e&&isNaN(r)&&isNaN(o)?(a.clearDates(e),a.$el.find(".ccheckin").focus()):e&&isNaN(o)&&isNaN(r)?a.clearDates(e):!e&&s&&n&&a.toggleArrows(!0,"cIn"),this.isMobileDevice&&a.$el.find(t.target).val(""),i&&i.forceValidation))return a.$el.find(".ccheckin").val()?void(a.$el.find(".ccheckout").val()||n?(a.validateDates(s,n),a.toggleArrows(!0,"cOut")):(a.toggleArrows(!0,"cOut"),a.clearDates(e))):(a.validateDates(s,n),void a.toggleArrows(!0,"cIn"))}),0);else setTimeout((function(){a.isMobileDevice&&!a.$parent.disableSubTakeover&&(!a.isMobileDevice||t&&"change"==t.type)||a.clearDates(),(a.$el.find(".js-datepick-container :focus").length||a.$el.find(".date-focus").length)&&(a.isMobileDevice||a.$el.find(".t-date-check-in").trigger("click")),a.isMobileDevice&&!a.$parent.disableSubTakeover&&(!a.isMobileDevice||t&&"change"==t.type)||a.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range")}),0)},r.prototype.clearDates=function(e){this.isMobileDevice?this.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"):this.$el.find(".t-datepicker").tDatePicker("update",""),this.$el.find(".ccheckin, .ccheckout").val(""),this.$el.find(".js-submit-from,.js-submit-to").val(""),this.$el.find(".js-from-calc,.js-to-calc").val(""),this.toggleArrows(!1,"cIn"),this.toggleArrows(!1,"cOut"),e&&this.$el.find(".ccheckin").trigger("click"),this.updateTotalNights()},r.prototype.validateDates=function(e,t,i){var a=e||this.currentCheckinDate||this.$el.find(".js-from-calc").val(),s=t||this.currentCheckoutDate||this.$el.find(".js-to-calc").val();a=new Date(a).setHours(0,0,0,0),s=new Date(s).setHours(0,0,0,0);var n,o=Number(new Date(this.maxDate).setHours(0,0,0,0));if(n="true"===this.datePickerOptions.showRedEye?Number(new Date(this.datePickerOptions.redEyeValue).setHours(0,0,0,0)):Number(new Date(this.minDate).setHours(0,0,0,0)),"true"==this.datePickerOptions.showRedEye){var r=new Date(this.datePickerOptions.redEyeValue).setHours(0,0,0,0),l=new Date(this.getNextDate(r)).setHours(0,0,0,0);if(n=r,!this.isRedEyeSelected&&(this.checkinChange&&r==a||this.checkoutChange&&l==s)&&!i)return void this.checkRedEyeDateSelected(r,s)}isNaN(a)||isNaN(s)||(a=Number(a),s=Number(s),this.checkinChange&&(a>=s||a>=o)?(a>=o?(a=this.getPrevDate(o),s=o):a<=n?(a=Number((new Date).setHours(0,0,0,0)),(this.checkoutChange||s<=a)&&(s=this.getNextDate(a)),this.checkinChange=!1,this.checkoutChange=!1):s=this.getNextDate(a),this.checkinChange=!1):a<=n?(a<n&&(a=Number((new Date).setHours(0,0,0,0))),"true"!=this.datePickerOptions.showRedEye&&s<=(new Date).setHours(0,0,0,0)?s=this.getNextDate(new Date):s<=a?s=this.getNextDate(a):s>=o&&(s=o),this.checkinChange=!1,this.checkoutChange=!1):this.checkoutChange&&(s<=a||(new Date).setHours(0,0,0,0)==new Date(s).setHours(0,0,0,0))?(s<=n?(a=Number((new Date).setHours(0,0,0,0)),s=this.getNextDate(a)):(new Date).setHours(0,0,0,0)==new Date(s).setHours(0,0,0,0)?(a=new Date(s).setHours(0,0,0,0),s=new Date(this.getNextDate(new Date)).setHours(0,0,0,0)):a=this.getPrevDate(s),this.checkoutChange=!1):s>=o&&(s=o,this.checkoutChange=!1),this.isMobileDevice||(this.$el.find(".t-datepicker").tDatePicker("update",[new Date(a).setHours(0,0,0,0),new Date(s).setHours(0,0,0,0)]),this.$el.find(".tabbing").hasClass("is-visible")&&(this.$el.find(".ccheckin-container").hasClass("date-focus")?this.$el.find(".t-date-check-in").click():this.$el.find(".t-date-check-out").click())),this.updateCheckin(a),this.updateCheckout(s),this.isMobileDevice?(this.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"),this.$el.find("table [data-t-date ="+a+"]").addClass("t-start"),this.$el.find("table [data-t-date ="+s+"]").addClass("t-end"),this.highlightRange(a,s)):(this.toggleCheckinArrow(a),this.toggleCheckoutArrow(s))),this.currentCheckinDate="",this.currentCheckoutDate=""},r.prototype.validateCheckinCheckout=function(e){if(!e&&(this.currentCheckinDate||this.currentCheckoutDate)){var t=this.currentCheckinDate||this.$el.find(".js-from-calc").val(),i=this.currentCheckoutDate||this.$el.find(".js-to-calc").val();this.validateDates(t,i||this.getNextDate(t)),this.toggleArrows(!0,"cOut")}},r.prototype.getNextDate=function(e){return(e=new Date(e)).setDate(e.getDate()+1),Number(e)},r.prototype.getPrevDate=function(e){return(e=new Date(e)).setDate(e.getDate()-1),Number(e)},r.prototype.setCheckinDateOnArrow=function(e){var t=this.$el.find(".js-from-calc").val(),i=this.$el.find(e.target).hasClass("prev-checkin")?"prev":"next";this.setNextDate(t,i)},r.prototype.setCheckoutDateOnArrow=function(e){var t=this.$el.find(".js-to-calc").val(),i=this.$el.find(e.target).hasClass("prev-checkout")?"prev":"next";this.setNextDateCheckout(t,i)},r.prototype.toggleCheckoutArrow=function(e){var t=new Date(this.nextDate),i=new Date(t.setDate(t.getDate()));"true"==this.datePickerOptions.showRedEye&&(i=i.setDate(new Date(this.datePickerOptions.redEyeValue).getDate()+1)),i=new Date(i).getDate();var a=t.getMonth(),s=t.getFullYear(),n=new Date(this.maxDate),o=n.getDate(),r=n.getMonth(),l=n.getFullYear(),d=(e=new Date(e)).getDate(),c=e.getMonth(),h=e.getFullYear();h==s&&c==a&&d<=i?this.$el.find(".prev-checkout").addClass("disable-button").attr("tabIndex","-1"):this.$el.find(".prev-checkout").removeClass("disable-button").attr("tabIndex","0"),h>=l&&c>=r&&d>=o?this.$el.find(".next-checkout").addClass("disable-button").attr("tabIndex","-1"):this.$el.find(".next-checkout").removeClass("disable-button").attr("tabIndex","0")},r.prototype.toggleCheckinArrow=function(e){var t=new Date(this.$el.find(".ccheckin").data("minValue")),i=t.getDate();"true"==this.datePickerOptions.showRedEye&&(i=new Date(this.datePickerOptions.redEyeValue).getDate());var a=t.getMonth(),s=t.getFullYear(),n=new Date(this.maxDate),o=new Date(n.setDate(n.getDate()-1)).getDate(),r=n.getMonth(),l=n.getFullYear(),d=(e=new Date(e)).getDate(),c=e.getMonth(),h=e.getFullYear();h==s&&c==a&&d==i?this.$el.find(".prev-checkin").addClass("disable-button").attr("tabIndex","-1"):this.$el.find(".prev-checkin").removeClass("disable-button").attr("tabIndex","0"),h==l&&c==r&&d==o?this.$el.find(".next-checkin").addClass("disable-button").attr("tabIndex","-1"):this.$el.find(".next-checkin").removeClass("disable-button").attr("tabIndex","0")},r.prototype.updateCheckin=function(e,t){this.$el.find(".ccheckin").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatShort)),this.$el.find(".js-submit-from").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatSubmit)),this.$el.find(".js-from-calc").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatCalc)),this.updateTotalNights(t),this.updateFlexDate(e)},r.prototype.updateCheckout=function(e,t){this.$el.find(".ccheckout").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatShort)),this.$el.find(".js-submit-to").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatSubmit)),this.$el.find(".fromToDate_submit").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatSubmit)),this.$el.find(".js-to-calc").val(this.formatPicker.formatDate(new Date(e),this.localeOptions.formatCalc)),this.updateTotalNights(t)},r.prototype.updateTotalNights=function(e){var t,i=this.$el.find(".js-from-calc").val(),a=this.$el.find(".js-to-calc").val(),s=new Date(i),n=new Date(a);if(i&&!a?this.$el.addClass("only-checkin"):this.$el.removeClass("only-checkin"),isNaN(s)||isNaN(n))this.$el.find(".nights-count").html(""),this.$el.find(".mobile-night-container").hide(),this.$el.find(".js-continue-label").text(this.continueLabel);else{var o=Math.abs(n.getTime()-s.getTime()),r=Math.round(o/864e5);s<n?(t=r>1?this.nightsLabel:this.nightLabel,this.$el.find(".nights-count").html(r+" "+t),this.$el.find(".mobile-night-container").show(),this.$el.find(".js-continue-label").text(this.continueWithLabel),this.showNightsMometarily(r,t,e)):(this.$el.find(".nights-count").html(""),this.$el.find(".mobile-night-container").hide(),this.$el.find(".js-continue-label").text(this.continueLabel))}},r.prototype.showNightsMometarily=function(e,t,i){var a=this,s=e>1?a.datePickerOptions.nightsLabel:a.datePickerOptions.nightLabel;a.isMobileDevice||(setTimeout((function(){i?a.$el.find(".t-start").append("<span class='t-hover-day-content-desktop'>"+e+" "+s+"</span>"):a.$el.find(".t-end").append("<span class='t-hover-day-content-desktop'>"+e+" "+s+"</span>")}),10),setTimeout((function(){a.$el.find(".t-hover-day-content-desktop").remove()}),1e3))},r.prototype.compareDate=function(e,t){if(!e||!t)return!1;e=new Date(e).setHours(0,0,0),t=new Date(t).setHours(0,0,0);var i=Math.abs(t-e);Math.ceil(i/864e5);return e>=t||void 0},r.prototype.setNextDate=function(e,t){var i=new Date(e),a=this.$el.find(".js-to-calc").val(),s=Boolean(a)?new Date(a):"",n="visible"==this.$el.find(".new-container").css("visibility");this.isRedEyeSelected=!1,i=new Date(i.setTime(i.getTime())),s&&(s=new Date(s.setTime(s.getTime()))),"next"==t?i.setDate(i.getDate()+1):i.setDate(i.getDate()-1),this.datePickerOptions.showRedEye&&this.checkRedEyeDateSelected(i,s)||(s&&i.getDate()==s.getDate()&&i.getMonth()==s.getMonth()&&i.getFullYear()==s.getFullYear()&&s.setDate(s.getDate()+1),s?this.$el.find(".t-datepicker").tDatePicker("update",[new Date(i),new Date(s)]):this.$el.find(".t-datepicker").tDatePicker("updateCI",new Date(i)),this.updateCheckin(i),this.toggleCheckinArrow(i),s&&(this.updateCheckout(s),this.toggleCheckoutArrow(s),this.dateChange&&(this.dateChange=!1),this.$el.find(".prev-checkout, .next-checkout").css("visibility","visible")),n&&this.$el.find(".ccheckin").click())},r.prototype.setNextDateCheckout=function(e,t){var i=new Date(this.$el.find(".js-from-calc").val()),a=new Date(e),s="visible"==this.$el.find(".new-container").css("visibility");if(i=new Date(i.setTime(i.getTime())),a=new Date(a.setTime(a.getTime())),"next"==t?a.setDate(a.getDate()+1):a.setDate(a.getDate()-1),i.getDate()==a.getDate()&&i.getMonth()==a.getMonth()&&i.getFullYear()==a.getFullYear()){var n=new Date(i).setHours(0,0,0,0),o=new Date(this.datePickerOptions.redEyeValue).setHours(0,0,0,0);if(i.setDate(i.getDate()-1),n!=o&&this.datePickerOptions.showRedEye&&this.checkRedEyeDateSelected(i,a))return void(this.isRedEyeSelected=!1)}this.$el.find(".t-datepicker").tDatePicker("update",[new Date(i),new Date(a)]),this.updateCheckin(i),this.toggleCheckinArrow(i),this.updateCheckout(a),this.toggleCheckoutArrow(a),this.dateChange&&(this.dateChange=!1),this.toggleArrows(!0,"cIn"),this.toggleArrows(!0,"cOut"),s&&this.$el.find(".ccheckout").click()},r.prototype.changeEndDate=function(e){this.$el.find(".t-datepicker").tDatePicker("setEndDate",new Date(e));var t=this.$el.find(".js-from-calc").val(),i=this.$el.find(".js-to-calc").val();this.$el.find(".t-datepicker").tDatePicker("update",[new Date(t),new Date(i)]),this.maxDate=e,this.toggleCheckoutArrow(i),this.toggleCheckinArrow(t)},r.prototype.getDaysDiff=function(e,t){e=new Date(e),t=new Date(t);var i=Math.abs(e-t)/1e3;return Math.floor(i/86400)},r.prototype.resetDate=function(){var e=new Date,t=this.getNextDate(e);this.$el.find(".t-datepicker").tDatePicker("update",[e,t]),this.updateCheckin(e),this.toggleCheckinArrow(e),this.updateCheckout(t),this.toggleCheckoutArrow(t)},r.prototype.resetDateMobile=function(){this.$el.find(".js-submit-from, .js-submit-to, .fromToDate_submit,.js-from-calc,.js-to-calc, .ccheckin, .ccheckout").val(""),this.updateTotalNights(),this.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"),this.currentCheckinDate="",this.currentCheckoutDate=""},r.prototype.initFlexDate=function(){var e,t,i=this,s="",n=new Date(i.minDate).getMonth(),o=new Date(i.minDate).getFullYear(),r=i.$el.find(".js-date-pick-container").data("options").flexibleInMonthTitleInitial?i.$el.find(".js-date-pick-container").data("options").flexibleInMonthTitleInitial+" ":"Month of ",l=" "+o,d=(new Date).getYear()-new Date(i.$el.find(".ccheckin").data("maxValue")).getYear();this.$el.data("country-code");i.flex={};var c=i.datePickerOptions.monthFullList.split(",");i.datePickerOptions.monthShortList.split(",");for(t=1-12*d-n+new Date(i.$el.find(".ccheckin").data("maxValue")).getMonth(),e=0;e<t;e++)s+='<a href="#" data-month="'+n+'" data-year ="'+o+'"',s+=' title="'+r+c[n]+l+'"',s+=' data-month-value="'+r+c[n]+l+'"',s+=' class="js-flex-month l-s2-option t-blk t-no-decor focus-elem">',s+=c[n]+"</a>",12===++n?(l=" "+ ++o,n=0):l="";t>12&&!i.isMobileDevice&&i.$el.find(".tab-container2").css("height","300px"),i.$el.find(".js-flex-months-holder").html(s),i.flex.$check=i.$el.find(".js-flex-check"),i.flex.$length=i.$el.find(".js-flex-input");var h=parseInt(this.$el.find(".js-date-pick-container").data("options").flexibleNight);i.$el.find(".js-stepper-input").html(h),i.flex.$length.val(h),i.flex.$display=i.$el.find(".js-flex-display"),i.flex.displayLabel=i.flex.$display.data("label"),i.flex.$monthTrigger=i.$el.find(".js-flex-month").on("click",(function(e){i.onMonthChg(e,i)})),i.$el.find(".js-date-pick-container").on("click",".js-plus",(function(e){i.onFlexStepperChg(e,i,!0)})),i.$el.find(".js-date-pick-container").on("click",".js-minus",(function(e){i.onFlexStepperChg(e,i)})),i.flex.$stepperVal=i.$el.find(".js-stepper-val"),i.updateFlexDate(i.checkinDate),a("html").hasClass("touch")&&i.$el.addClass("has-slider")},r.prototype.onMonthChg=function(e,t){var i=t.datePickerOptions.monthFullList.split(","),a=t.$el.find(".js-flex-input").val(),s=t.$el.find(e.target),n=s.data().month,o=s.data().year,r=new Date,l=1,d=1==a?t.datePickerOptions.nightLowerLabel:t.datePickerOptions.nightsLowerLabel;if(e.preventDefault(),s.parent().find(".is-selected").attr("title",s.parent().find(".is-selected").data("month-value")),s.parent().find(".is-selected").removeClass("is-selected"),s.addClass("is-selected"),s.attr("title",t.$el.data("selected-text")+" "+s.data("month-value")),r.getMonth()===n&&r.getFullYear()===o&&(l=r.getDate()),2==t.getDaysDiff(new Date,new Date(t.minDate))&&r.getMonth()===n+1){l=r.getDate(),n=r.getMonth(),o=r.getFullYear();var c=1==a?t.datePickerOptions.nightLabel:t.datePickerOptions.nightsLabel;t.flexCheckinDate=new Date(o,n,l),t.$el.find(".js-flex-display").html(t.generateFlexibleLabel(i,n-1,o,a,c,d))}else{var h=new Date(o,n,l);t.setDateFromFlexDesktop(h)}},r.prototype.updateFlexDate=function(e){var t=this.datePickerOptions.monthFullList.split(","),i=new Date(e).getMonth(),a=new Date(e).getFullYear(),s=this.$el.find(".js-flex-input").val(),n=1==s?this.datePickerOptions.nightLabel:this.datePickerOptions.nightsLabel,o=1==s?this.datePickerOptions.nightLowerLabel:this.datePickerOptions.nightsLowerLabel;this.$el.find(".js-flex-month").filter(".is-selected").attr("title",this.$el.find(".js-flex-month").filter(".is-selected").data("month-value")).removeClass("is-selected").removeAttr("aria-selected"),this.$el.find(".js-flex-month").filter('[data-month="'+i+'"]').filter('[data-year="'+a+'"]').addClass("is-selected").attr("aria-selected","true"),this.$el.find(".js-flex-month").filter(".is-selected").attr("title",this.$el.data("selected-text")+" "+this.$el.find(".js-flex-month").filter(".is-selected").data("month-value"));var r=this.generateFlexibleLabel(t,i,a,s,n,o);this.$el.find(".js-flex-display").html(r)},r.prototype.generateFlexibleLabel=function(e,t,i,a,s,n){var o=this.$el.find(".js-datepick-container").data("countryCode"),r=this.$el.find(".js-flex-display").data("label");if("FR"==o)r+=" "+e[t]+" "+i+" - "+this.datePickerOptions.stayLabel+" "+this.datePickerOptions.ofLabel+" "+a+" "+n;else if("KR"==o)r+=" "+i+" 년 "+e[t]+" - "+a+" "+s;else if("JP"==o)r+=" "+i+" "+this.datePickerOptions.yearLabel+" "+e[t]+" - "+a+" "+s;else if("TH"==o){var l=i+543;r+=" "+e[t]+" "+l+" - "+a+" "+s+" "+this.datePickerOptions.stayLabel}else r+="VN"==o?" "+e[t]+" / "+i+" - "+a+" "+s+" "+this.datePickerOptions.stayLabel:"IL"==o?" "+e[t]+" "+i+" - "+this.datePickerOptions.stayLabel+" "+a+" "+s:" "+e[t]+" "+i+" - "+a+" "+s+" "+this.datePickerOptions.stayLabel;return r},r.prototype.setDateFromFlexDesktop=function(e){var t=new Date(e);t=t.setDate(t.getDate()+parseInt(this.$el.find(".js-stepper-input").html())),new Date(t).setHours(0,0,0,0)>new Date(this.maxDate).setHours(0,0,0,0)&&(t=this.maxDate),this.isMobileDevice?(this.currentCheckinDate=new Date(e).setHours(0,0,0,0),this.currentCheckoutDate=new Date(t).setHours(0,0,0,0),this.$el.find(".t-start,.t-end,.t-range").removeClass("t-start t-end t-range"),this.$el.find("table [data-t-date ="+this.currentCheckinDate+"]").addClass("t-start"),this.$el.find("table [data-t-date = '"+this.currentCheckoutDate+"']").addClass("t-end").removeClass("t-range"),this.highlightRange(this.currentCheckinDate,this.currentCheckoutDate)):(this.$el.find(".t-datepicker").tDatePicker("update",[new Date(e),new Date(t)]),this.$el.find(".ccheckout").trigger("click")),this.updateCheckin(e),this.toggleCheckinArrow(e),this.updateCheckout(t),this.toggleCheckoutArrow(t);var i=parseInt(this.$el.find(".js-stepper-input").html())>1?this.nightsLabel:this.nightLabel;this.$el.find(".nights-count").html(parseInt(this.$el.find(".js-stepper-input").html())+" "+i)},r.prototype.onFlexStepperChg=function(e,t,i){if(e.preventDefault(),e.stopPropagation(),!t.handleDebounce()&&!t.$el.find(e.target).hasClass("is-inactive")){var a=t.$el.find(".js-flex-input").val();a=i?++a:--a,t.setStepperVal(a,t)}},r.prototype.setStepperVal=function(e,t){if(e=t.checkFlexStepper(e,t)){t.$el.find(".js-stepper-input").html(parseInt(e)),t.$el.find(".js-flex-input").val(e),t.$el.find(".js-flex-month").filter(".is-selected").trigger("click");var i=e>1?t.nightsLabel:t.nightLabel;t.$el.find(".nights-count").html(e+" "+i)}},r.prototype.checkFlexStepper=function(e,t){var i=(t=t||this).$el.find(".js-flex-input").find(":first-child").val(),a=t.$el.find(".js-flex-input").find(":last-child").val();return i=parseInt(i,10),a=parseInt(a,10),e=e||parseInt(t.$el.find(".js-stepper-input").html()),e=isNaN(parseInt(e,10))||parseInt(e)>a?1:parseInt(e,10),t.$el.find(".js-date-pick-container .js-plus, .js-date-pick-container .js-minus").removeClass("is-inactive"),e>=a?(e=a,t.$el.find(".js-date-pick-container .js-plus").addClass("is-inactive")):e<=i&&(e=i,t.$el.find(".js-date-pick-container .js-minus").addClass("is-inactive")),e},r.prototype.setStepperValue=function(){var e=this.$el.find(".nights-count").text().split(" ")[0];this.setStepperVal(e,this)},r.prototype.initAccessibility=function(){var e=this,t=e.$el.find(".js-date-pick-container").data("hideFlexibleDateCalendar");e.$el.on("keyup",".m-date-picker",(function(t){27==t.keyCode&&(e.hideDatePicker(),a(document).trigger("click",[{forceValidation:!0}]))})),e.$el.on("keyup",".ccheckin, .ccheckout",(function(i){switch(i.keyCode){case 40:t?(e.focusOnArrows(),e.$el.find(".l-dates-flexible-checkbox").attr("tabindex","0")):(e.$el.find(".tabs").attr("tabindex","0"),e.$el.find(".tab1").focus())}})),e.$el.on("keyup",".tabs",(function(t){switch(t.keyCode){case 38:e.$el.find(".ccheckin").focus();break;case 40:e.focusOnArrows()}9===t.which&&t.shiftKey})),e.$el.on("keyup",".t-arrow.t-prev, .t-arrow.t-next",(function(t){switch(t.keyCode){case 38:e.$el.find(".t-arrow.t-prev").eq(0),e.$el.find(".t-arrow.t-next").eq(1);e.$el.find(".tab1").focus();break;case 40:e.$el.find(".t-day, .t-start, .t-end, .t-range").attr("tabindex","0"),e.$el.find(".t-start").length?e.$el.find(".t-start").focus():e.$el.find(".t-day").eq(0).focus()}})),e.$el.on("keypress",".m-date-picker",(function(t){t.stopPropagation(),e.$el.find(t.target).is(":focus")&&13==t.which&&(e.$el.find(t.target).trigger("click"),setTimeout((function(){e.$el.find(t.target).focus()}),10)),setTimeout((function(){if("-1"==e.$el.find(t.target).attr("tabindex")){if(e.$el.find(t.target).hasClass("next-checkin")||e.$el.find(t.target).hasClass("prev-checkin"))return void e.$el.find(".ccheckin").focus();if(e.$el.find(t.target).hasClass("next-checkout")||e.$el.find(t.target).hasClass("prev-checkout"))return void e.$el.find(".ccheckout").focus()}}),10)})),e.$el.on("keyup",".t-datepicker-day",(function(t){switch((e.$el.find(t.target).hasClass("t-day")||e.$el.find(t.target).hasClass("t-start")||e.$el.find(t.target).hasClass("t-end")||e.$el.find(t.target).hasClass("t-range"))&&9===t.which&&1==t.shiftKey&&(e.focusOnArrows(),t.preventDefault()),t.keyCode){case 38:var i=t.target,a=t.target.cellIndex;if(1==(o=e.$el.find(i).closest("tr").prev()).length){var s=e.$el.find(e.$el.find(o)[0].cells[a]);(e.$el.find(s).hasClass("t-day")||e.$el.find(s).hasClass("t-start")||e.$el.find(s).hasClass("t-end")||e.$el.find(s).hasClass("t-range"))&&e.$el.find(s).focus()}break;case 37:var n=t.target.previousSibling;if(e.$el.find(n).hasClass("t-disabled"),null!=n&&e.$el.find(n).hasClass("t-day")||e.$el.find(n).hasClass("t-start")||e.$el.find(n).hasClass("t-end")||e.$el.find(n).hasClass("t-range"))n.focus();else{var o;i=t.target;1==(o=e.$el.find(i).closest("tr").prev()).length&&e.$el.find(o).find("td").length>0&&!e.$el.find(o).find("td").last().hasClass("t-disabled")?e.$el.find(o).find("td").last().focus():1==e.$el.find(i).closest(".t-table-wrap").prev(".t-table-wrap").length?e.$el.find(i).closest(".t-table-wrap").prev(".t-table-wrap").find('td:not(".t-disabled")').focus():(e.$el.find(".t-datepicker-day").find(".t-prev").trigger("click"),e.$el.find(".t-datepicker-day").find("td").attr("tabindex","0"),e.$el.find(".t-datepicker-day").find(".t-disabled").attr("tabindex","-1"),e.$el.find(".t-table-wrap").next().find('td:not(".t-disabled")').last().focus())}break;case 39:var r=t.target.nextSibling;if(e.$el.find(r).hasClass("t-day")||e.$el.find(r).hasClass("t-start")||e.$el.find(r).hasClass("t-end")||e.$el.find(r).hasClass("t-range"))r.focus();else{i=t.target;1==(l=e.$el.find(i).closest("tr").next()).length&&e.$el.find(l).find("td").length>0&&!e.$el.find(l).find("td").first().hasClass("t-disabled")?e.$el.find(l).find("td").first().focus():1==e.$el.find(i).closest(".t-table-wrap").next(".t-table-wrap").length?e.$el.find(i).closest(".t-table-wrap").next(".t-table-wrap").find('td:not(".t-disabled")')[0].focus():(e.$el.find(".t-datepicker-day").find(".t-next").trigger("click"),e.$el.find(".t-datepicker-day").find("td").attr("tabindex","0"),e.$el.find(".t-datepicker-day").find(".t-disabled").attr("tabindex","-1"),e.$el.find(".t-table-wrap").next(".t-table-wrap").find('td:not(".t-disabled")')[0].focus())}break;case 40:var l;i=t.target,a=t.target.cellIndex;if(1==(l=e.$el.find(i).closest("tr").next()).length){var d=e.$el.find(e.$el.find(l)[0].cells[a]);(e.$el.find(d).hasClass("t-day")||e.$el.find(d).hasClass("t-start")||e.$el.find(d).hasClass("t-end")||e.$el.find(d).hasClass("t-range"))&&e.$el.find(d).focus()}}})),t?(e.$el.find(".ccheckin, .ccheckout").on("focus",(function(){e.$el.find(".l-dates-flexible-checkbox").attr("tabindex","-1")})),e.focusOnArrows()):e.$el.on("focus",".tabs",(function(){e.$el.find(".t-day, .t-start, .t-end, .t-range").attr("tabindex","-1");var t=e.$el.find(".t-arrow.t-prev").eq(0),i=e.$el.find(".t-arrow.t-next").eq(1);t.hasClass("t-disabled")?(i.attr("tabindex","0"),t.attr("tabindex","-1")):(t.attr("tabindex","0"),i.attr("tabindex","0"))})),e.$el.on("focus",".t-arrow",(function(){e.$el.find(".t-day, .t-start,.t-end").attr("tabindex","-1")})),e.$el.find(".js-datepick-container").keydown((function(t){13===t.which&&(a(".ie").length&&(t.preventDefault(),t.target.click()),"INPUT"==t.target.tagName&&setTimeout((function(){e.hideDatePicker()}),10)),t.target.classList.contains("l-h-field-input")||38!==t.which&&39!==t.which&&37!==t.which&&40!==t.which||t.preventDefault()})),t&&e.$el.on("focus",".next-checkout",(function(){e.$el.find(".t-arrow.t-prev:not(.t-disabled), .l-dates-flexible-checkbox").attr("tabindex","2"),e.$el.find(".t-arrow.t-next").eq(1).attr("tabindex","2"),e.$el.find(".t-arrow.t-prev.t-disabled").attr("tabindex","-1")}))},r.prototype.focusOnArrows=function(){var e=this.$el.find(".t-arrow.t-prev").eq(0),t=this.$el.find(".t-arrow.t-next").eq(1);e.hasClass("t-disabled")?(t.attr("tabindex","0"),t.focus()):(e.attr("tabindex","0"),t.attr("tabindex","0"),e.focus())},r.prototype.showDatePicker=function(){this.$el.find(".tabbing").addClass("is-visible"),this.$el.find(".date-picker-container").attr("aria-live","polite")},r.prototype.hideDatePicker=function(){this.$el.find(".tabbing").removeClass("is-visible"),this.$el.find(".date-focus").removeClass("date-focus"),this.$el.find(".l-date-part").show(),this.$el.find(".date-picker-container").attr("aria-live","off")},r.prototype.handleDebounce=function(){var e=this;return!!e.debounce||(e.debounce=!0,setTimeout((function(){e.debounce=!1}),100),!1)},r.prototype.checkRedEyeDateSelected=function(e,t){if(this.isRedEyeSelected)return!1;var i=new Date(e).setHours(0,0,0,0),a=new Date(this.datePickerOptions.redEyeValue).setHours(0,0,0,0);return this.redEyeUpdatedDates.checkout=t,!(!this.datePickerOptions.showRedEye||i!=a)&&(this.isRedEyeSelected=!0,this.redEyePopup(e,t),!0)},r.prototype.watchScreenSize=function(){this.screenSizeMediaQuery=window.matchMedia(n.MEDIA_QUERY.EXTRA_LARGE),this.screenSizeMediaQuery.addListener(this.handleScreenSize.bind(this)),this.handleScreenSize()},r.prototype.handleScreenSize=function(){var e;this.hideflexibleDates&&(e=this.$datePickerContainer.find(".l-flexible-checkbox-content"),this.$datePickerContainer.find(".l-date-picker-body .l-flexible-checkbox-container").prepend(e))},e.exports=r},58:function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){"use strict";function t(e,t,i){return null==t?new Date(e).getTime():null==i?new Date(e,t).getTime():new Date(e,t,i).getTime()}var a,s,n={autoClose:!1,durationArrowTop:200,numCalendar:2,startOfWeek:0,titleCheckIn:"Check In",titleCheckOut:"Check Out",titleToday:"Today",titleDateRange:"Night",titleDateRanges:"Nights",titleDays:["Mo","Tu","We","Th","Fr","Sa","Su"],titleMonths:["January","February","March","April","May","June","July","August","Septemper","October","November","December"],titleMonthsLimitShow:3,replaceTitleMonths:null,showDateTheme:null,iconArrowTop:!0,iconDate:"&#x279C;",arrowPrev:"&#x276E;",arrowNext:"&#x276F;",toDayShowTitle:!0,dateRangesShowTitle:!0,dateRangesHover:!0,toDayHighlighted:!1,nextDayHighlighted:!1,daysOfWeekHighlighted:[0,6],formatDate:"yyyy-mm-dd",dateCheckIn:null,dateCheckOut:null,startDate:null,endDate:null,limitPrevMonth:0,limitNextMonth:11,limitDateRanges:31,showFullDateRanges:!1,fnDataEvent:null},o=!0;e.fn.tDatePicker=function(r,l){var d=new Date,c=(d.getMonth(),d.getFullYear(),t(d.getFullYear(),d.getMonth(),d.getDate()));if(void 0===l&&"string"!=typeof r&&(a=r),a.redEye){(h=new Date(a.redEye)).getMonth(),h.getFullYear();var h=t(h.getFullYear(),h.getMonth(),h.getDate());a.redEyeValue=h}a.toDayDate=c,a.formatDate=a.formatDate||n.formatDate,a.startDate=a.startDate||c,""!==a.startDate&&"null"!==a.startDate||(a.startDate=c),a.startDate=_(F(a.startDate));var p=new Date(a.startDate),u=t(p.getFullYear(),p.getMonth(),p.getDate()+1);if("setStartDate"===r&&"string"==typeof r&&(a.startDate=_(F(l))),"setEndDate"===r&&"string"==typeof r&&(a.endDate=_(F(l))),""!==a.dateCheckIn&&"null"!==a.dateCheckIn||(a.dateCheckIn=null),""!==a.dateCheckOut&&"null"!==a.dateCheckOut||(a.dateCheckOut=null),""!==a.endDate&&"null"!==a.endDate||(a.endDate=null),void 0!==l){a.numCalendar=a.numCalendar||2;var f=a.limitDateRanges||31,m=a.limitNextMonth||11,g="";if(a.endDate){var v=new Date(a.endDate);g=new Date(v.getFullYear(),v.getMonth(),v.getDate()-1)}else g=new Date(p.getFullYear(),p.getMonth()+a.numCalendar+m-1,p.getDate());g=_(F(g)),"update"===r&&(2===l.length?(y(l[0]),b(l[1])):y(l),""===l&&(a.dateCheckIn=null,a.dateCheckOut=null)),"updateCI"===r&&y(l),"updateCO"===r&&b(l)}function y(e){if(""===e)return a.dateCheckIn=null,void(a.dateCheckOut=null);var t=_(F(e)),i=new Date(t),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()+f);s=_(F(s));var n=_(F(a.dateCheckOut));a.dateCheckIn=t,t<a.startDate&&(a.dateCheckIn=a.startDate),t>g&&(a.dateCheckIn=g),(t>=n||n>s)&&(a.dateCheckOut=null)}function b(e){var t=_(F(a.dateCheckIn));if(g="",a.endDate?(v=new Date(a.endDate),g=new Date(v.getFullYear(),v.getMonth(),v.getDate())):g=new Date(p.getFullYear(),p.getMonth()+a.numCalendar+m-1,p.getDate()),g=_(F(g)),""===e)return a.dateCheckIn=t,isNaN(t)&&(a.dateCheckIn=null),void(a.dateCheckOut=null);var i=_(F(e)),s=new Date(i),n=new Date(s.getFullYear(),s.getMonth(),s.getDate()-f);if(n=_(F(n)),i>g)return a.dateCheckOut=g,void(a.dateCheckIn=n);i>a.startDate?void 0===a.dateCheckIn||null===a.dateCheckIn?(a.dateCheckOut=i,a.startDate>n?a.dateCheckIn=a.startDate:a.dateCheckIn=n):(a.dateCheckOut=i,a.startDate>n?(a.dateCheckIn=t,i<t&&(a.dateCheckIn=a.startDate)):(a.dateCheckIn=t>n?t:n,t>i&&(a.dateCheckIn=n))):(a.dateCheckIn=a.startDate,a.dateCheckOut=u)}var $=this.find(".t-input-check-in").val(),C=this.find(".t-input-check-out").val();if("string"==typeof r){if("show"!==r&&"hide"!==r||("null"!==$&&(a.dateCheckIn=$),"null"!==C&&(a.dateCheckOut=C)),"null"===$){if("getDate"===r||"getDateInput"===r||"getDateUTC"===r)return null;if("getDates"===r||"getDateInputs"===r||"getDateUTCs"===r)return[null,null]}if("null"!==$){if("null"===C){if("getDates"===r)return[new Date($),null];if("getDateInputs"===r)return[$,null];if("getDateUTCs"===r)return[_(F($)),null]}if("getDate"===r)return new Date($);if("getDates"===r)return[new Date($),new Date(C)];if("getDateInput"===r)return $;if("getDateInputs"===r)return[$,C];if("getDateUTC"===r)return _(F($));if("getDateUTCs"===r)return[_(F($)),_(F(C))]}}if(0!=a.startOfWeek&&o){for(var k=0;k<n.startOfWeek;k++)n.titleDays.unshift(n.titleDays.pop());o=!1}var S=this,D=e.extend({},n,a);if(D.durationArrowTop=Number(D.durationArrowTop),D.limitPrevMonth=Number(D.limitPrevMonth),D.limitNextMonth=Number(D.limitNextMonth),D.numCalendar=Number(D.numCalendar),D.limitDateRanges=Number(D.limitDateRanges),D.titleMonthsLimitShow=Number(D.titleMonthsLimitShow),"string"==typeof r){var x=D.startDate||D.dateCheckIn;if("getStartDate"===r)return new Date(x);if("getStartDateUTC"===r)return _(F(x));var w=D.endDate||new Date(p.getFullYear(),p.getMonth()+D.numCalendar+D.limitNextMonth-1,p.getDate());if("getEndDate"===r)return new Date(w);if("getEndDateUTC"===r)return _(F(w))}function T(e){return e<10?"0"+e:e}function A(e){return e=(e=e.toString()).replace(/,/g,"")}function I(e,t){for(var i=0;null===e.className.match(t);){if(e.className===t)return e;if("HTML"===e.nodeName)return e;if(null===(e=e.parentElement))return document.body.parentElement;if(++i>500)return}return e}function N(e,t,i,a){e.className=""!=t?e.className+" "+t:e.className+t;var s=document.createElement("span");s.className=i;var n=document.createTextNode(a);s.appendChild(n),e.appendChild(s)}var O=D.titleDays;var E='<div class="t-table-wrap"><table class="t-table-condensed"><thead><tr><th class="t-arrow t-prev" title="'+D.prevMonthLabel+'">'+D.arrowPrev+'</th><th colspan="5" class="t-month"></th><th class="t-arrow t-next" title="'+D.nextMonthLabel+'">'+D.arrowNext+"</th></tr><tr>"+function(){for(var e=0;e<O.length;e++)-1===O[e].indexOf("<th>")?O[e]='<th> <span class="weekdays-name">'+O[e].toUpperCase()+"</span></th>":O[e]=O[e];return A(O)}()+"</tr></thead><tbody></tbody></table></div>",L=D.numCalendar,R="";if(Number(L)>1)R=" t-datepicker-days";for(var M=[],j=L;j>0;)M.push(E),j--;function P(e,t,i,a,s){return'<div class="t-dates t-date-'+t+'">'+D.iconDate+'<label for="'+t+'" class="t-date-info-title"><i class="is-screenreader-only" aria-hidden="true">'+t+"</i>"+e+"</label>"+function(e,t){if(0!==t&&null!==t){var i=new Date(t),a=D.titleMonths[i.getMonth()].slice(0,D.titleMonthsLimitShow);return null!==D.replaceTitleMonths&&(a=D.replaceTitleMonths+" "+T(i.getMonth()+1)),"dd"===D.showDateTheme?'<span class="t-day-'+e+'"> '+T(i.getDate())+"</span>":"dd/mm"===D.showDateTheme||"dd-mm"===D.showDateTheme?'<span class="t-day-'+e+'"> '+T(i.getDate())+'</span><span class="t-month-'+e+'"> '+a+" </span>":'<span class="t-day-'+e+'"> '+T(i.getDate())+'</span><span class="t-month-'+e+'"> '+a+' </span><span class="t-year-'+e+'"> '+T(i.getFullYear())+"</span>"}return""}(t,i)+'</div><input id="'+t+'" type="hidden" class="t-input-'+t+'" value="'+s+'" name="'+a+'">'}function _(e){var i=new Date(e),a=t(i.getFullYear(),i.getMonth(),i.getDate());return null===a&&(a=null),a}function F(e){if("object"===i(e)&&null!==e)return _(e);if("string"==typeof e&&"null"!==e){var t;-1!==e.indexOf("/")&&(e=e.replace(/\//g,"-"));var s=e.split("-");return"mm-dd-yyyy"===a.formatDate&&4===s[2].length&&s[0]<13&&(t=s[2]+"-"+s[0]+"-"+s[1]),"dd-mm-yyyy"===a.formatDate&&4===s[2].length&&s[1]<13&&(t=s[2]+"-"+s[1]+"-"+s[0]),"yyyy-dd-mm"===a.formatDate&&4===s[0].length&&s[2]<13&&(t=s[0]+"-"+s[2]+"-"+s[1]),"yyyy-mm-dd"===a.formatDate&&4===s[0].length&&s[1]<13&&(t=s[0]+"-"+s[1]+"-"+s[2]),isNaN(new Date(t))?console.log("'Thank you for using t-datepicker. Please, check formatDate :'%c "+D.formatDate+" ","background: #f16d99; color: #fff"):t}return e}function H(e,i){if(["check-in","check-out"].forEach((function(t){var a=D.titleCheckIn,s=e,n="t-start";null!==e&&(a=""),"check-out"===t&&(a=D.titleCheckOut,s=i,e===i?s=null:null!==i&&(a=""),n="t-end");var o=function(e){if(null!==e){var t=new Date(e);e=T(t.getDate())+"-"+T(t.getMonth()+1)+"-"+t.getFullYear(),"mm-dd-yyyy"===D.formatDate&&(e=T(t.getMonth()+1)+"-"+T(t.getDate())+"-"+t.getFullYear()),"yyyy-dd-mm"===D.formatDate&&(e=t.getFullYear()+"-"+T(t.getDate())+"-"+T(t.getMonth()+1)),"yyyy-mm-dd"===D.formatDate&&(e=t.getFullYear()+"-"+T(t.getMonth()+1)+"-"+T(t.getDate()))}return e}(s=F(s));s=_(s),S.find(".t-"+t).html(P(a,t,s,n,o))})),null===e&&null===i){e=D.startDate;var a=new Date(e);i=t(a.getFullYear(),a.getMonth(),a.getDate()+1)}return null!==e&&null!==i&&_(F(e))>_(F(i))&&(e=i),null!==e&&null===i&&(i=e),null===e&&null!==i&&(e=i),e=F(e),i=F(i),[_(e),_(i)]}L-=1;var V=H(D.dateCheckIn,D.dateCheckOut);function U(i,n,o){var r=i.find(".t-month");if(L>=0)for(var l,d,h=0;h<=L;h++){y=o&&!D.isMobile?new Date(o):new Date(n);var p=null;p="th-TH"===window.makenComponents.ACCEPT_LANGUAGE?new Date(t(y.getFullYear()+543,y.getMonth()+h)):new Date(t(y.getFullYear(),y.getMonth()+h)),d=D.titleMonths[p.getMonth()].toUpperCase(),l=p.getFullYear(),"vi-VN"===window.makenComponents.ACCEPT_LANGUAGE&&(l="/ "+p.getFullYear()),"el-GR"===window.makenComponents.ACCEPT_LANGUAGE&&(d=D.titleMonths[p.getMonth()]),"zh-TW"===window.makenComponents.ACCEPT_LANGUAGE?r[h].innerHTML=l+"年 "+d+'<a href="#" class="month-label" tabindex="-1">'+l+" "+d+"</a>":r[h].innerHTML=d+" "+l+'<a href="#" class="month-label" tabindex="-1">'+d+" "+l+"</a>";for(var u=[],f=[],m=[],g=0,v=t(y.getFullYear(),y.getMonth()+h),y=new Date(v);t(y.getFullYear(),y.getMonth())===v;)g=y.getDay(),a.startOfWeek&&0!=a.startOfWeek&&(g+=a.startOfWeek)>=7&&(g-=7),m.push(g),u.push(y.getDate()),f.push(t(y.getFullYear(),y.getMonth(),y.getDate())),y.setDate(y.getDate()+1);var b=m[0];if(0===b)for(;b<6;)u.unshift(""),f.unshift(""),b++;else for(;b>1;)u.unshift(""),f.unshift(""),b--;for(var $=m[m.length-1];$<7;)u.push(""),f.push(""),$++;B(u,f,h,i)}!function(i,n,o){for(var r=function(i,a,n){var o,r=i.find(".t-arrow"),l=new Date(D.startDate),d=new Date(F(D.endDate)),c=t(l.getFullYear(),l.getMonth()-D.limitPrevMonth),h=t(d.getFullYear(),d.getMonth())||t(l.getFullYear(),l.getMonth()+L+D.limitNextMonth);o=n&&!D.isMobile?new Date(n):new Date(a);var p=o.getFullYear(),u=o.getMonth();o.getDate();if(0!=r.length){for(var f=1;f<r.length-1;f++)r[f].innerHTML="",r[f].className=r[f].className.replace(" t-disabled","")+" t-disabled";r[0].onclick=function(a){a.stopPropagation(),t(p,u)>c&&(U(i,t(p,u-=1)),setTimeout((function(){s=e(".t-datepicker-day td:not(.t-disabled)").eq(0).data("tDate")}),111))},r[r.length-1].onclick=function(a){a.stopPropagation(),t(p,u+L)<h&&(U(i,t(p,u+=1)),setTimeout((function(){s=e(".t-datepicker-day td:not(.t-disabled)").eq(0).data("tDate")}),111))}}var m=i.find(".t-arrow");t(p,u+L)!=h&&t(p,u)===c?(m[m.length-1].className="t-arrow t-next",m[0].className="t-arrow t-prev t-disabled"):m[0].className="t-arrow t-prev";t(p,u+L)!==h&&new Date(t(p,u+L)).getMonth()!==new Date(V[0]).getMonth()+1||(m[m.length-1].className="t-arrow t-next t-disabled");t(p,u+L)<h&&(m[m.length-1].className="t-arrow t-next");return t(l.getFullYear(),l.getMonth()+L+D.limitNextMonth,l.getDate())}(i,n,o),l=_(F(D.endDate))||r,d=i.find("td"),h=new Date(V[0]),p=new Date(V[1]),u=t(h.getFullYear(),h.getMonth(),h.getDate()+D.limitDateRanges),f=(t(p.getFullYear(),p.getMonth(),p.getDate()-D.limitDateRanges),0);f<d.length;f++){var m=d[f].getAttribute("data-t-date");if(Number(m)<D.startDate&&(d[f].className="t-disabled"),!0===i.hasClass("t-check-out")){Number(m)<V[0]&&(V[1],V[0]),(Number(m)>V[1]||Number(m)>=u)&&(d[f].className="t-disabled"),0!=Number(m)&&Number(m)>V[0]&&Number(m)<u&&Number(m)!=V[1]&&(d[f].className="t-day");var g=D.dateCheckIn||c,v=new Date(g),y=t(v.getFullYear(),v.getMonth(),v.getDate()+D.limitDateRanges);if(void 0!==e(i).find('[data-t-date="'+y+'"]')[0]){var b=i.parent().find(".t-arrow");b[b.length-1].className=b[b.length-1].className.replace(" t-disabled","")+" t-disabled",b[b.length-1].onclick=function(){}}}if(Number(m)>V[0]&&Number(m)<V[1]&&V[0]>=D.startDate&&V[1]<=l&&(d[f].className="t-range"),Number(m)>l&&(d[f].className="t-disabled"),Number(m)==l&&(d[f].className="t-max-checkin"),Number(m)===V[0])"null"===e(d[f]).parents(".t-datepicker").find(".t-input-check-in").val()&&!1===D.toDayHighlighted||(d[f].classList.contains("red-eye-container")?d[f].className+=" t-start":d[f].className="t-start");if(Number(m)===V[1])"null"===e(d[f]).parents(".t-datepicker").find(".t-input-check-out").val()&&!1===D.nextDayHighlighted||(d[f].classList.contains("t-max-checkin")?d[f].className+=" t-end":d[f].className="t-end");var $=new Date(Number(m));$=$.getDay(),D.daysOfWeekHighlighted.forEach((function(e){$==e&&(d[f].className=d[f].className.replace(" t-highlighted","")+" t-highlighted")})),d[f].onclick=function(n){if(n.stopPropagation(),e(this).find("span").hasClass("red-eye")&&!e(this).hasClass("t-start"))return D.redEyePopup(),!1;if(!0!==e(this).hasClass("t-disabled")){var o,r,d=e(this).attr("data-t-date"),c=e(this).parents(".t-check-out");if(d=Number(d),!0===e(this).parents(".t-check-in").hasClass("t-check-in")){if(Number(e(this).attr("data-t-date"))>=l)return;e(i).trigger("selectedCI",Number(d)),_(F(e(this).parents(".t-check-in").find(".t-input-check-in").val()))!=d&&e(i).trigger("onChangeCI",Number(d));var h=new Date(V[1]),p=t(h.getFullYear(),h.getMonth(),h.getDate()-D.limitDateRanges);o=d,r=V[1],d===D.startDate&&!1===e(this).hasClass("t-start")&&V[0]>=D.startDate&&(r=V[0]),(d>V[1]||d===V[1]||d<=p)&&(r=d),!0===e(this).parents(".t-picker-only").hasClass("t-picker-only")&&(r=o),0===(c=e(this).parents(".t-datepicker").find(".t-check-out")).length&&(c=e(S).find(".t-picker-only"),setTimeout((function(){0!==e(".t-datepicker-day").length&&!0===D.autoClose&&(e(".t-datepicker-day").remove(),e(".t-arrow-top").remove())}),10)),V[0]!=V[1]&&e(".js-to-calc").val()?d>V[1]?o=d:(o=d,r=V[1]):(o=d,r=d)}if(!0===e(this).parents(".t-check-out").hasClass("t-check-out")){if(d&&d<=D.toDayDate&&V[0]<D.toDayDate&&!a.redEye)return;if(!0===e(this).hasClass("t-start"))return;if(0===e(this).parents(".t-datepicker").find(".t-start").length&&!0===e(this).hasClass("t-end"))return;d<V[0]?(e(i).trigger("selectedCI",Number(d)),V[0]==V[1]&&(e(i).trigger("selectedCO",V[0]),0==e(".show-done-button").length&&0==e(".show-flexi-date-done-button").length&&(s="",e(".t-datepicker-day").length>0&&(e(".t-datepicker-open").removeClass("t-datepicker-open"),e(".t-datepicker-day").remove())))):(e(i).trigger("selectedCO",Number(d)),0==e(".show-done-button").length&&0==e(".show-flexi-date-done-button").length&&(s="",e(".t-datepicker-day").length>0&&(e(".t-datepicker-open").removeClass("t-datepicker-open"),e(".t-datepicker-day").remove()))),_(F(e(this).parents(".t-check-out").find(".t-input-check-out").val()))!=d&&e(i).trigger("onChangeCO",Number(d)),o=V[0],r=d,d<V[0]&&(o=d,r=V[1],V[0]=d),e(i).trigger("afterCheckOut",[[o,r]]),setTimeout((function(){0!==e(".t-datepicker-day").length&&!0===D.autoClose&&(e(".t-datepicker-day").remove(),e(".t-arrow-top").remove())}),10)}V=H(o,r),e(i).trigger("eventClickDay",[V]),W(c,V,i)}},"ontouchstart"in window==!1&&(d[f].onmouseover=function(i){if(!0===e(this).hasClass("t-special-day")&&0!=e(this).parents(".t-datepicker-day").length&&e(this).parents(".t-datepicker-day").append('<p class="t-date-title">'+e(this).attr("t-date-title")+"</p>"),!0===D.dateRangesHover||"true"===D.dateRangesHover){var a=function(a,s){var n=Number(e(a).attr("data-t-date")),o=0;if(-1===i.target.className.indexOf("t-hover-day-content")&&-1===i.target.className.indexOf("t-disabled")){if(!0===e(a).parents(".t-check-in").hasClass("t-check-in")){var r=new Date(s[1]);n===D.startDate&&0===e(a).parents(".t-check-in").find(".t-end").length&&0===e(a).parents(".t-check-in").find(".t-start").length&&(r=new Date(s[0]));var l=t(r.getFullYear(),r.getMonth(),r.getDate());if(n<=t(r.getFullYear(),r.getMonth(),r.getDate()-D.limitDateRanges)||n<=l&&s[0]==s[1])return;for(;n<l;){if(l=t(r.getFullYear(),r.getMonth(),r.getDate()-o),null!=(d=e(a).parents(".t-check-in").find('[data-t-date="'+l+'"]')[0])&&(d.className=d.className.replace(" t-range-limit","")+" t-range-limit"),++o>1e3)return}}if(!0===e(a).parents(".t-check-out").hasClass("t-check-out")){l=t((r=new Date(s[0])).getFullYear(),r.getMonth(),r.getDate());if(n>=t(r.getFullYear(),r.getMonth(),r.getDate()+D.limitDateRanges)||n<=l)return;for(;n!=l;){var d;if(l=t(r.getFullYear(),r.getMonth(),r.getDate()+o),null!=(d=e(a).parents(".t-check-out").find('[data-t-date="'+l+'"]')[0])&&(d.className=d.className.replace(" t-range-limit","")+" t-range-limit"),++o>5e3)return}}return o}}(this,V);if(!0===D.dateRangesShowTitle){var s=1;!0===D.showFullDateRanges&&(s=0,D.titleDateRange=D.titleDateRanges),2===a?N(this,"t-hover-day","t-hover-day-content",a-s+" "+D.titleDateRange):a>2&&N(this,"t-hover-day","t-hover-day-content",a-s+" "+D.titleDateRanges)}}this.onmouseout=function(){0!=this.getElementsByClassName("t-hover-day-content").length&&((i=this.getElementsByClassName("t-hover-day-content")[0]).parentNode.removeChild(i),this.className=this.className.replace(" t-hover-day",""));if(0!=document.getElementsByClassName("t-range-limit").length){var e=document.getElementsByClassName("t-range-limit");e=[].slice.call(e);for(var t=0;t<e.length;t++)e[t].className=e[t].className.replace(" t-range-limit","")}if(-1!==this.className.indexOf("t-today")){var i;if(0!=this.getElementsByClassName("t-hover-day-content").length)(i=this.getElementsByClassName("t-hover-day-content")[0]).parentNode.removeChild(i);N(this,"t-hover-day","t-hover-day-content",D.titleToday),this.className=this.className.replace(/\ t-hover-day/g,"")+" t-hover-day"}if(0!=I(this,"t-datepicker").getElementsByClassName("t-date-title").length){var a=I(this,"t-datepicker").getElementsByClassName("t-date-title");a=[].slice.call(a);for(t=0;t<a.length;t++)a[t].parentNode.removeChild(a[t])}}})}var C=[],k=e(e(e(".t-table-wrap")[0]).find("tr")[3]).find("td");for(f=0;f<7;f++)e(k[f]).hasClass("t-highlighted")&&C.push(f);var x=e(".t-table-wrap").find("tr");for(f=0;f<x.length;f++){k=e(x[f]).find("td");for(var w=0;w<k.length;w++)C.forEach((function(t){w==t&&(e(k[w]).hasClass("t-highlighted")||e(k[w]).addClass("t-highlighted"))}))}if(e(".date-labelledby, .month-label").on("click",(function(e){e.preventDefault()})),e(".t-table-wrap .t-arrow").append('<i class="is-screenreader-only" aria-hidden="true">arrow</i>'),e(".t-table-wrap tbody .date-labelledby").append('<i class="l-display-none" aria-hidden="true">days</i>'),null!=D.fnDataEvent&&"ontouchstart"in window==!1)for(var A=0;A<D.numCalendar;A++){var O=new Date(n).getMonth()+1+A;13===O&&(O-=12);var E=O,R=new Date(n).getFullYear();for(f=0;f<d.length;f++){var M=Number(d[f].textContent);isNaN(M)&&(M=new Date(c).getDate());var j=Number(d[f].getAttribute("data-t-date")),P=new Date(j).getMonth()+1,B=R+"-"+T(E)+"-"+T(M);if(null!=D.fnDataEvent[B]&&P===O){d[f].className;d[f].className=d[f].className.replace(" t-special-day","")+" t-special-day",d[f].setAttribute("t-date-title",T(M)+" "+D.titleMonths[new Date(j).getMonth()]+" - "+D.fnDataEvent[B])}}}}(i,n,o)}function B(e,t,i,s){var n=D.redEyeValue;""===e.slice(-7)[0]&&(e=e.slice(0,-7));var o=s.find("tbody");o[i].innerHTML=function(e){for(var t=0,i="";t<e;)i+='<tr><td class="t-day">1</td><td class="t-day">2</td><td class="t-day">3</td><td class="t-day">4</td><td class="t-day">5</td><td class="t-day">6</td><td class="t-day">0</td></tr>',t++;return i}(Math.round(e.length/7));for(var r=o[i].querySelectorAll("td"),l=0;l<r.length;l++){var d="";n&&n==t[l]&&(d=" red-eye",r[l].className+=d+"-container"),a.toDayDate>=t[l]&&!D.redEyeValue&&r[l].setAttribute("t-disable-today","true"),r[l].setAttribute("data-t-date",t[l]),D.isMobile?r[l].innerHTML="<span class='t-date-value "+d+"'>"+e[l]+"</span>":r[l].innerHTML="<div class='td-elem'><a href='#' class='date-labelledby' tabindex='1'>"+e[l]+"</a><span aria-hidden='true' class='t-date-value"+d+"'>"+e[l]+"</span></div>"}}function G(t,i){if(0!==e(t).find(".t-datepicker-day").length)e(".t-datepicker-day").remove(),e(".t-arrow-top").css({display:"none"}),e("html").removeClass("t-datepicker-open");else{if(0!==e(t).parents(".t-datepicker").hasClass("t-datepicker").length&&(e(".t-datepicker-day").remove(),e(".t-arrow-top").css({display:"none"})),!0===D.iconArrowTop){var a=e(t).parents(".t-datepicker");0===a.find(".t-arrow-top").length&&a.append('<span class="t-arrow-top"></span>');var n=e(t).position().left+e(t).outerWidth()/2,o=a.find(".t-arrow-top").outerWidth()/2;"block"===a.find(".t-arrow-top").css("display")&&a.find(".t-arrow-top").css({left:n-o+"px"}),a.find(".t-arrow-top").css({display:"block"}),a.find(".t-arrow-top").animate({left:n-o+"px"},D.durationArrowTop)}e(t).find(".t-dates").parent().append('<div class="t-datepicker-day'+R+'">'+A(M)+'<button class="hws-done-button m-button m-button-primary" type="button" tabindex="0">'+D.doneLabel+'</button><div class="engage-container t-font-m"><span class="inventory-container t-font-xs">'+D.$parentComponent.kGroupLabel+'</span><span class="engage-clear-date js-clear-dates">Clear Dates</span></div></div>'),U(e(t).find(".t-dates").parent(),i,s),e("html").addClass("t-datepicker-open")}}function W(t,i,a){if(S.find(".t-dates").on("click",(function(t){var a="";!0===e(t.target).parents(".t-check-in").hasClass("t-check-in")&&(e(t.target).trigger("clickDateCI",[i]),a="checkin"),!0===e(t.target).parents(".t-check-out").hasClass("t-check-out")&&(e(t.target).trigger("clickDateCO",[i]),a="checkout"),0===e(".t-datepicker-day").length&&e(this).trigger("beforeShowDay");var n=e(this).parent();if("null"===e(this).parents(".t-datepicker").find(".t-input-check-in").val()&&"null"===e(this).parents(".t-check-out").find(".t-input-check-out").val()&&(n=e(t.target).parents(".t-datepicker").find(".t-check-in"),e(t.target).trigger("clickDateCI",[i])),"checkout"==a){G(n,i[1]);var o=new Date(i[0]).getMonth(),r=new Date(i[1]).getMonth(),l=new Date(i[0]).getFullYear();(new Date(i[1]).getFullYear()>l||r>o)&&!s&&e(".t-arrow.t-prev").click()}"checkin"==a&&G(n,i[0]),new Date(D.endDate).getMonth()!=new Date(i[0]).getMonth()||new Date(D.endDate).getFullYear()!=new Date(i[0]).getFullYear()||s||e(".t-arrow.t-prev").click(),setTimeout((function(){0!==e(".t-datepicker-day").length?e(t.target).trigger("afterShowDay"):e(t.target).trigger("toggleAfterHideDay")}),1)})),""!=t)try{e(a).hasClass("t-check-out")?G(t,i[1]):G(t,i[0])}catch(t){e(a).parents(".m-date-picker").find(".ccheckout").click()}}return W("",V),setTimeout((function(){"string"==typeof r&&"show"===r&&0===S.find(".t-datepicker-day").length&&S.each((function(t){if(!0===D.iconArrowTop){0===e(this).find(".t-arrow-top").length&&e(this).append('<span class="t-arrow-top"></span>');var i=e(this).find(".t-check-in").outerWidth();e(this).find(".t-arrow-top").css({left:i/2-10+"px",display:"block"})}e(this).find(".t-check-in").append('<div class="t-datepicker-day'+R+'">'+A(M)+"</div>"),U(e(this).find(".t-check-in"),V[0]),e("html").addClass("t-datepicker-open")}))}),5),"string"==typeof r&&"hide"===r&&(e("html").removeClass("t-datepicker-open"),setTimeout((function(){e("html").addClass("t-datepicker-open")}),5)),this},e(document).on("click",(function(t){if(a&&!a.isMobile)if(e(t.target).hasClass("tab2")&&(s=""),e(t.target).hasClass("js-flex-month")&&(s=e(".t-datepicker-day td:not(.t-disabled)").eq(0).data("tDate")),e(t.target).parents(".m-date-picker").length||e(t.target).hasClass("m-date-picker")){var i=e(t.target);setTimeout((function(){0==e(".t-datepicker-day").length&&e(".tabbing").hasClass("is-visible")&&"none"==i.closest(".l-hsearch-2").find(".tab-container2").css("display")&&e(".t-date-check-in").click(),s=e(".t-datepicker-day td:not(.t-disabled)").eq(0).data("tDate")}),111),a.$parentComponent.hideNavigationBar()}else s="",setTimeout((function(){e(".t-datepicker-day").length>0&&(e(".t-datepicker-open").removeClass("t-datepicker-open"),e(".t-datepicker-day").remove())}),111),a.$parentComponent.showNavigationBar()}))}},6:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,a=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,n=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?e:(s=0===n.indexOf("//")?n:0===n.indexOf("/")?i+n:a+n.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},7:function(e,t){e.exports=shared.Popup},8:function(e,t){e.exports=shared.PubSub},9:function(e,t){e.exports=shared.LocalStorageFallback}});
//# sourceMappingURL=searchFormHorizontalFindHotels.js.map
</script>

</body>
</html>

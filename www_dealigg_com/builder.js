var Builder={NODEMAP:{AREA:"map",CAPTION:"table",COL:"table",COLGROUP:"table",LEGEND:"fieldset",OPTGROUP:"select",OPTION:"select",PARAM:"object",TBODY:"table",TD:"table",TFOOT:"table",TH:"table",THEAD:"table",TR:"table"},node:function(a,c,d){a=a.toUpperCase();var e=document.createElement(this.NODEMAP[a]||"div");try{e.innerHTML="<"+a+"></"+a+">"}catch(g){}var b=e.firstChild||null;if(b&&b.tagName!=a)b=b.getElementsByTagName(a)[0];b||(b=document.createElement(a));if(b){if(c)if(this._isStringOrNumber(c)||
c instanceof Array)this._children(b,c);else{var f=this._attributes(c);if(f.length){try{e.innerHTML="<"+a+" "+f+"></"+a+">"}catch(h){}b=e.firstChild||null;if(!b){b=document.createElement(a);for(attr in c)b[attr=="class"?"className":attr]=c[attr]}if(b.tagName!=a)b=e.getElementsByTagName(a)[0]}}d&&this._children(b,d);return b}},_text:function(a){return document.createTextNode(a)},_attributes:function(a){var c=[];for(attribute in a)c.push((attribute=="className"?"class":attribute)+'="'+a[attribute].toString().escapeHTML()+
'"');return c.join(" ")},_children:function(a,c){if(typeof c=="object")c.flatten().each(function(d){if(typeof d=="object")a.appendChild(d);else Builder._isStringOrNumber(d)&&a.appendChild(Builder._text(d))});else Builder._isStringOrNumber(c)&&a.appendChild(Builder._text(c))},_isStringOrNumber:function(a){return typeof a=="string"||typeof a=="number"}};
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>embedded-giving.html</title>
</head>
<body>

<script>
(()=>{"use strict";var n={9:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,".iframe {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.iframe_iframe {\n  width: 100%;\n  height: 100%;\n  background: #ffffff;\n  vertical-align: bottom;\n}\n\n.iframe_loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  background: #ffffff;\n}\n\n.iframe_loader.is_hidden {\n  display: none;\n}\n\n@keyframes skeleton-loading {\n  0% {\n    background-color: #eaebea;\n  }\n  100% {\n    background-color: #cccccc;\n  }\n}\n\n.skl_box {\n  border-radius: 4px;\n  animation: skeleton-loading 0.5s linear infinite alternate;\n}\n\n.skl {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n}\n\n.skl_top {\n  flex: 1;\n  padding: 24px;\n}\n\n.skl_bottom {\n  padding: 24px;\n}\n\n.skl_logo {\n  width: 200px;\n  height: 40px;\n  margin: 0 auto 20px;\n}\n\n.skl_freq {\n  width: 100%;\n  height: 42px;\n  margin-bottom: 12px;\n}\n\n.skl_label {\n  width: 200px;\n  height: 24px;\n  margin: 0 auto 8px;\n}\n\n.skl_amount {\n  gap: 8px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 8px;\n}\n\n.skl_amount-btn {\n  flex: 1;\n  height: 42px;\n}\n\n.skl_donate-btn {\n  width: 100%;\n  height: 76px;\n}\n",""]);const a=r},100:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,".egiframe {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n\n@media screen and (min-width: 480px) {\n  .egiframe {\n    max-width: 100%;\n  }\n}\n\n.egiframe .iframe {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.egiframe_faq_toggle {\n  text-align: center;\n  cursor: pointer;\n  border-width: 0;\n  font-size: 0.85em;\n  background: transparent;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.egiframe_faq_toggle .arrow {\n  width: 0;\n  height: 0;\n  margin-left: 4px;\n  display: inline-block;\n  vertical-align: middle;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n\n  border-bottom: 5px solid rgba(0, 0, 0, 0.6);\n}\n\n.egiframe_faq_toggle.is_faq_open .arrow {\n  border-bottom-width: 0;\n  border-top: 5px solid rgba(0, 0, 0, 0.6);\n}\n",""]);const a=r},751:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,"*,\n*::after,\n*::before {\n  color: #2c343b;\n  box-sizing: border-box;\n  font: normal 16px/1.5 sans-serif;\n}\n\n.eginline {\n  max-width: 100%;\n  text-align: center;\n}\n\n.eginline_body {\n  max-width: 100%;\n}\n\n.eginline_footer {\n  padding: 4px;\n  margin-top: -1px;\n  background-color: #fff;\n}\n\n.eginline_poweredBy {\n  height: 40px;\n  font-size: 12px;\n  line-height: 40px;\n  padding-left: 24px;\n  padding-right: 24px;\n  background: white;\n  color: #00000099;\n  text-align: center;\n  font-family: sans-serif;\n}\n",""]);const a=r},289:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,".modal {\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10000;\n  display: flex;\n  justify-content: flex-start;\n  opacity: 0;\n\n  /* Disable click events while the modal is closed */\n  pointer-events: none;\n\n  /* Disable tab navigation while the modal is closed */\n  visibility: hidden;\n}\n\n@media screen and (min-width: 480px) {\n  .modal {\n    display: flex;\n    padding-top: 32px;\n    padding-bottom: 32px;\n    align-items: center;\n    justify-content: center;\n  }\n}\n\n.modal * {\n  pointer-events: none;\n}\n\n.modal.is_open {\n  opacity: 1;\n\n  /* Enable click events while the modal is closed */\n  pointer-events: auto;\n\n  /* Enable tab navigation while the modal is closed */\n  visibility: visible;\n}\n\n.modal.is_open * {\n  pointer-events: auto;\n}\n\n.modal_backdrop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.65);\n}\n\n.modal_content {\n  display: flex;\n  flex-direction: column;\n  padding-top: 44px;\n  padding-bottom: 40px;\n  position: relative;\n  max-width: 100%;\n  z-index: 10001;\n  margin: 0 auto;\n  will-change: transform, opacity;\n  transition: transform 0.07s cubic-bezier(0.465, 0.183, 0.153, 0.946),\n    opacity 0.07s cubic-bezier(0.465, 0.183, 0.153, 0.946);\n  transform: scale(1.15);\n}\n\n.modal.is_open .modal_content {\n  transform: scale(1);\n}\n\n.modal_body {\n  flex: 1;\n}\n\n.modal_footer {\n  padding: 4px;\n  background: white;\n}\n\n.modal_poweredBy {\n  color: #1b1918;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 40px;\n  font-size: 12px;\n  line-height: 40px;\n  padding-left: 24px;\n  padding-right: 24px;\n  background: white;\n  font-family: sans-serif;\n  border-top: 1px solid #f3f2f2;\n}\n\n.modal_poweredBy svg {\n  display: none;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n\n@media screen and (min-width: 480px) {\n  .modal_footer {\n    border-bottom-left-radius: 20px;\n    border-bottom-right-radius: 20px;\n  }\n\n  .modal_content {\n    padding-bottom: 24px;\n  }\n\n  .modal_poweredBy {\n    color: white;\n    text-align: left;\n    font-weight: lighter;\n    border-top-width: 0;\n    background: black;\n  }\n\n  .modal_poweredBy svg {\n    display: inline-block;\n  }\n}\n\n.modal_closebtn {\n  top: 8px;\n  padding: 0;\n  right: 16px;\n  z-index: 10003;\n  font-size: 24px;\n  line-height: 1;\n  cursor: pointer;\n  border-width: 0;\n  position: absolute;\n  font-weight: lighter;\n  background: transparent;\n  color: white;\n}\n",""]);const a=r},394:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,"*,\n*::after,\n*::before {\n  color: #2c343b;\n  box-sizing: border-box;\n  font: normal 16px/1.5 sans-serif;\n}\n\n.egmodal .modal_footer {\n  margin-top: -1px;\n  text-align: center;\n}\n\n.egmodal .egiframe {\n  width: 100vw;\n  z-index: 10002;\n}\n\n.egmodal .iframe_loader {\n  z-index: 10001;\n}\n\n@media screen and (min-width: 480px) {\n  .egmodal .egiframe {\n    width: 420px;\n    height: 592px;\n    max-height: calc(100vh - 84px);\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n  }\n}\n",""]);const a=r},981:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,".egmodals {\n  position: relative;\n  z-index: 2147483645;\n}\n",""]);const a=r},868:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,".egnudgetray {\n  gap: 16px;\n  width: 100%;\n  display: none;\n  margin-top: 24px;\n  padding: 12px 16px;\n  border-radius: 8px;\n  position: relative;\n  align-items: center;\n  background: #ffffff;\n  color: #444444;\n  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.25);\n}\n\n.egnudgetray.is_open {\n  display: flex;\n}\n\n.egnudgetray_body {\n  flex: 1;\n}\n\n.egnudgetray_title {\n  font-weight: bold;\n}\n\n.egnudgetray_content {\n  font-size: 14px;\n}\n\n.egnudgetray_ctabtn {\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  font-size: 14px;\n  padding: 8px 16px;\n  border-radius: 8px;\n}\n\n.egnudgetray_closebtn {\n  position: absolute;\n  padding: 0;\n  top: -16px;\n  right: -16px;\n  border: none;\n  cursor: pointer;\n  color: #444444;\n  background: #ffffff;\n  width: 32px;\n  height: 32px;\n  font-size: 18px;\n  font-weight: lighter;\n  border-radius: 32px;\n  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.25);\n}\n",""]);const a=r},637:(n,t,e)=>{e.d(t,{Z:()=>a});var o=e(645),r=e.n(o)()((function(n){return n[1]}));r.push([n.id,".egnudgetrays {\n  position: fixed;\n  right: 24px;\n  bottom: 24px;\n  width: 420px;\n  z-index: 2147483644;\n  max-width: calc(100% - 48px);\n}\n",""]);const a=r},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,o){"string"==typeof n&&(n=[[null,n,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var s=0;s<n.length;s++){var c=[].concat(n[s]);o&&r[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),t.push(c))}},t}},996:n=>{var t=function(n){return function(n){return!!n&&"object"==typeof n}(n)&&!function(n){var t=Object.prototype.toString.call(n);return"[object RegExp]"===t||"[object Date]"===t||function(n){return n.$$typeof===e}(n)}(n)},e="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(n,t){return!1!==t.clone&&t.isMergeableObject(n)?s((e=n,Array.isArray(e)?[]:{}),n,t):n;var e}function r(n,t,e){return n.concat(t).map((function(n){return o(n,e)}))}function a(n){return Object.keys(n).concat(function(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter((function(t){return n.propertyIsEnumerable(t)})):[]}(n))}function i(n,t){try{return t in n}catch(n){return!1}}function s(n,e,c){(c=c||{}).arrayMerge=c.arrayMerge||r,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=o;var l=Array.isArray(e);return l===Array.isArray(n)?l?c.arrayMerge(n,e,c):function(n,t,e){var r={};return e.isMergeableObject(n)&&a(n).forEach((function(t){r[t]=o(n[t],e)})),a(t).forEach((function(a){(function(n,t){return i(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))})(n,a)||(i(n,a)&&e.isMergeableObject(t[a])?r[a]=function(n,t){if(!t.customMerge)return s;var e=t.customMerge(n);return"function"==typeof e?e:s}(a,e)(n[a],t[a],e):r[a]=o(t[a],e))})),r}(n,e,c):o(e,c)}s.all=function(n,t){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce((function(n,e){return s(n,e,t)}),{})};var c=s;n.exports=c}},t={};function e(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return n[o](a,a.exports,e),a.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n=e(996),t=e.n(n),o=function(){return(o=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},r=["amount","currency","preset1","preset2","preset3","preset4","designation","recurring","c_src","c_src2","first","last","email","zip"],a=function(n){return n.campaigns.reduce((function(n,t){return n[t.campaignId]={donation:{}},n}),{})},i=function(){var n=new URLSearchParams(location.search);return r.reduce((function(t,e){var r,a=n.get(e);return null===a?t:o(o({},t),((r={})[e]=a,r))}),{})};const s=function(){function n(n){var t=this;this.isInViewport=function(n){var e=t.el.getBoundingClientRect();return e.top<window.innerHeight-n&&e.bottom>n},this.makeEl=function(){return t._el=document.createElement("div"),t._el.className=t.elClass,t._el.appendChild(t.makeStyle()),t._el},this.makeStyle=function(){var n=document.createElement("style");return n.innerHTML=t.styles,n},this.elClass=n}return Object.defineProperty(n.prototype,"el",{get:function(){return this._el?this._el:this.makeEl()},enumerable:!1,configurable:!0}),n}();var c=e(868);const l=function(){function n(){var n=this;this.publish=function(t){var e=n.subscriptions[t.eventName];e&&Object.keys(e).forEach((function(n){e[n](t)}))},this.subscribe=function(t,e){n.subscriptions[t]||(n.subscriptions[t]={});var o=n.generateNextKey();return n.subscriptions[t][o]=e,t+"."+o},this.generateNextKey=function(){var t=n.currentKey+1;return n.currentKey=t,t},this.currentKey=0,this.subscriptions={}}return n.prototype.unsubscribe=function(n){var t=n.split("."),e=t[0],o=t[1];return!!this.subscriptions[e][o]&&(delete this.subscriptions[e][o],!0)},n}();var p,d=(p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),u="is_open",f="open",m="close",g="closeclick",h="ctaclick";const v=function(n){function t(t){var e=n.call(this,"egnudgetray")||this;return e.styles=c.Z.toString(),e.open=function(){e.state.isOpen||(e.state.isOpen=!0,e.el.classList.add(u),e.pubsub.publish({eventName:f,details:{}}))},e.close=function(){e.state.isOpen&&(e.state.isOpen=!1,e.el.classList.remove(u),e.pubsub.publish({eventName:m,details:{}}))},e.onOpen=function(n){return e.pubsub.subscribe(f,n)},e.onClose=function(n){return e.pubsub.subscribe(m,n)},e.onCtaClick=function(n){return e.pubsub.subscribe(h,n)},e.onCloseClick=function(n){return e.pubsub.subscribe(g,n)},e.makeCloseBtn=function(){var n=document.createElement("button");return n.className=e.elClass+"_closebtn",n.setAttribute("aria-label","Close the nudge tray"),n.setAttribute("data-id","eg-nudgetray-close"),n.innerHTML="&times;",n.addEventListener("click",(function(){e.close(),e.pubsub.publish({eventName:g,details:{}})})),n},e.off=function(n){return e.pubsub.unsubscribe(n)},e.makeBody=function(){var n=document.createElement("div");return n.className=e.elClass+"_body",n.appendChild(e.makeTitle()),n.appendChild(e.makeContent()),n},e.makeTitle=function(){var n=e.props.title,t=document.createElement("div");if(t.className=e.elClass+"_title",!n)return t;var o=n.length>20?n.substring(0,20).concat("..."):n;return t.textContent=o,t.title=n,t},e.makeContent=function(){var n=document.createElement("div");return n.className=e.elClass+"_content",n.textContent=e.props.content,n},e.makeCtaBtn=function(){var n=document.createElement("button");return n.className=e.elClass+"_ctabtn",n.setAttribute("data-id","eg-nudgetray-click"),n.textContent=e.props.ctaLabel,n.style.backgroundColor=e.props.ctaColor,n.addEventListener("click",(function(){e.pubsub.publish({eventName:h,details:{}}),e.close()})),n},e.props=t,e.state={isOpen:!1},e.pubsub=new l,e.el.appendChild(e.makeCloseBtn()),e.el.appendChild(e.makeBody()),e.el.appendChild(e.makeCtaBtn()),e}return d(t,n),t}(s);var b=e(637),y=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const w=function(n){function t(t){var e=n.call(this,"egnudgetrays")||this;return e.styles=b.Z.toString(),e.makeSDK=function(){var n=a(e.props.config);return e.props.config.campaigns.forEach((function(t){var o=t.campaignId,r=t.donation;r.nudgeTrays&&(n[o].donation.nudgeTrays=r.nudgeTrays.map(e.makeNudgeTray))})),n},e.makeNudgeTray=function(n){var t=new v({title:n.title,content:n.content,ctaLabel:n.ctaLabel,ctaColor:n.ctaColor});return e.el.appendChild(t.el),{open:t.open,close:t.close,onOpen:t.onClose,onClose:t.onClose,onCtaClick:t.onCtaClick,onCloseClick:t.onCloseClick,off:t.off}},e.props=t,e.el.setAttribute("data-testid","egnudgetrays"),e.sdk=e.makeSDK(),e}return y(t,n),t}(s);var k=function(n){var t=this;this.getCampaignStatus=function(n){return e=t,o=void 0,a=function(){var t,e,o;return function(n,t){var e,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(n,i)}catch(n){a=[6,n],o=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:t=void 0,e=this.props.env.baseUrl+"/frs-api/campaign/"+n+"/eg-status",r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(e)];case 2:return[4,r.sent().json()];case 3:return o=r.sent(),t={url:o.canonical_url,name:o.name,isEmbed:"disabled"!==o.embedded_giving,isPublished:"active"===o.status},[3,5];case 4:return r.sent(),t=void 0,[3,5];case 5:return[2,t]}}))},new((r=void 0)||(r=Promise))((function(n,t){function i(n){try{c(a.next(n))}catch(n){t(n)}}function s(n){try{c(a.throw(n))}catch(n){t(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(n){n(e)}))).then(i,s)}c((a=a.apply(e,o||[])).next())}));var e,o,r,a},this.props=n},_=e(394),C=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const x=function(n){function t(t){var e=n.call(this,"egmodal")||this;return e.styles=_.Z.toString(),e.open=function(){e.state.hasLoaded?e.props.modal.open():e.loadAndOpen(),e.props.iframe.trackEvent("embedded-giving:modal:track-event:open")},e.loadAndOpen=function(){e.loadModal(),window.requestAnimationFrame(e.props.modal.open)},e.loadModal=function(){e.state.hasLoaded||(e.state.hasLoaded=!0,e.el.appendChild(e.props.modal.el))},e.close=function(){e.props.modal.close()},e.on=function(n,t){return e.props.modal.on(n,t)},e.off=function(n){return e.props.modal.off(n)},e.props=t,e.state={hasLoaded:!1},t.lazyLoad||e.loadModal(),e.onReady=e.props.onReady,e}return C(t,n),t}(s);function O(n,t,e,o,r){var a,i,s=r?"#:~:tcm-prompt=Hidden&log=*":"";return""+function(n,t){return n+"/give/"+t+"/#!/donation/checkout"}(o&&""!==o?(i="https://",-1!==(a=o).indexOf(i)?a:""+(i+a)):n,t)+function(n){var t=new URLSearchParams;Object.keys(n).forEach((function(e){return t.set(e,n[e])}));var e=t.toString();return e?"?"+e:""}(e)+s}var E=e(981),S=e(9),P=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),j="is_hidden";const A=function(n){function t(t){var e=n.call(this,"iframe")||this;return e.styles=S.Z.toString(),e.updateProps=function(n){e.props=n,e.iframe.setAttribute("src",n.src)},e.postMessage=function(n){e.state.hasLoaded?e.iframe.contentWindow&&e.iframe.contentWindow.postMessage(n,"*"):e.iframe.onload=function(){setTimeout((function(){e.iframe.contentWindow&&e.iframe.contentWindow.postMessage(n,"*")}),1500)}},e.makeLoader=function(){var n=document.createElement("div"),t=e.elClass+"_loader";return n.className=t,n.setAttribute("data-testid",t),n.innerHTML=e.makeSkl(),n},e.makeSkl=function(){return'\n    <div class="skl">\n      <div class="skl_top">\n        <div class="skl_logo skl_box"></div>\n        <div class="skl_freq skl_box"></div>\n        <div class="skl_label skl_box"></div>\n        <div class="skl_amount">\n          <div class="skl_amount-btn skl_box"></div>\n          <div class="skl_amount-btn skl_box"></div>\n        </div>\n        <div class="skl_amount">\n          <div class="skl_amount-btn skl_box"></div>\n          <div class="skl_amount-btn skl_box"></div>\n        </div>\n        <div class="skl_amount">\n          <div class="skl_amount-btn skl_box"></div>\n        </div>\n      </div>\n      <div class="skl_bottom">\n        <div class="skl_label skl_box"></div>\n        <div class="skl_donate-btn skl_box"></div>\n      </div>\n    </div>\n  '},e.makeIframe=function(){var n=document.createElement("iframe"),t=e.elClass+"_iframe";return n.className=t,n.setAttribute("src",e.props.src),n.setAttribute("data-testid",t),n.setAttribute("frameBorder","0"),n.setAttribute("allow","payment"),n.setAttribute("allowfullscreen","true"),n.setAttribute("allowpaymentrequest","true"),n.addEventListener("load",(function(){e.state.hasLoaded=!0,e.loader.classList.contains(j)||e.loader.classList.add(j)})),n},e.props=t,e.state={hasLoaded:!1},e.iframe=e.makeIframe(),e.loader=e.makeLoader(),e.el.appendChild(e.iframe),e.el.appendChild(e.loader),e}return P(t,n),t}(s);var M=e(100),I=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),L="is_faq_open",T="eg-faq-open";const D=function(n){function t(t){var e=n.call(this,"egiframe")||this;return e.styles=M.Z.toString(),e.makeIframe=function(){e.iframe=new A({src:e.props.iframeSrc}),e.iframe.el.classList.add(e.elClass+"_iframe"),e.el.appendChild(e.iframe.el)},e.trackEvent=function(n){e.iframe.postMessage(n)},e.navigate=function(n){e.iframe.postMessage("embedded-giving:navigate:"+n)},e.setDonation=function(n){var t=Object.keys(n).map((function(t){return t+"="+n[t]})).join("&");e.iframe.postMessage("embedded-giving:donation:set?"+t.toString())},e.resetDonation=function(){e.iframe.postMessage("embedded-giving:donation:reset")},e.makeFAQToggle=function(){var n=document.createElement("button"),t=document.createTextNode("FAQs");n.appendChild(t);var o=document.createElement("span");return o.className="arrow",n.appendChild(o),n.className=e.elClass+"_faq_toggle",n.setAttribute("data-id",T),n.addEventListener("click",e.toggleFAQ),n},e.isFAQOpen=function(){return e.el.classList.contains(L)},e.toggleFAQ=function(){e.isFAQOpen()?e.closeFAQ():e.openFAQ()},e.closeFAQ=function(){e.el.classList.remove(L),e.faqToggle.classList.remove(L),e.faqToggle.setAttribute("data-id",T),e.iframe.postMessage("embedded-giving:navigate:faq:close")},e.openFAQ=function(){e.el.classList.add(L),e.faqToggle.classList.add(L),e.faqToggle.setAttribute("data-id","eg-faq-close"),e.iframe.postMessage("embedded-giving:navigate:faq")},e.props=t,e.makeIframe(),e.faqToggle=e.makeFAQToggle(),e}return I(t,n),t}(s);var N=e(289),B=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),F="is_open",z="keydown";const q=function(n){function t(t){var e=n.call(this,"modal")||this;return e.styles=N.Z.toString(),e.open=function(){e.state.isOpen||(e.state.isOpen=!0,e.el.classList.add(F),e.pubsub.publish({eventName:"open",details:{}}),document.body.addEventListener(z,e.onEscKeydown))},e.close=function(){e.state.isOpen&&(e.state.isOpen=!1,e.el.classList.remove(F),e.pubsub.publish({eventName:"close",details:{}}),document.body.removeEventListener(z,e.onEscKeydown))},e.on=function(n,t){return e.pubsub.subscribe(n,t)},e.off=function(n){return e.pubsub.unsubscribe(n)},e.onEscKeydown=function(n){"Escape"!==n.key&&"Esc"!==n.key||e.props.onClose()},e.makeBackdrop=function(){var n=document.createElement("div");return n.className=e.elClass+"_backdrop",n.setAttribute("data-testid","backdrop"),n.addEventListener("click",e.props.onClose),n},e.makeContent=function(){var n=document.createElement("div"),t=e.elClass+"_content";return n.className=t,n.appendChild(e.makeCloseBtn()),n.appendChild(e.makeBody()),e.props.footer&&n.appendChild(e.makeFooter()),n},e.makeBody=function(){var n=document.createElement("main");return n.className=e.elClass+"_body",n.appendChild(e.props.body),n},e.makeFooter=function(){var n=document.createElement("footer");return n.className=e.elClass+"_footer",e.props.footer&&n.appendChild(e.props.footer),n},e.makePoweredBy=function(){var n=document.createElement("div");return n.className=e.elClass+"_poweredBy",n.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 10 16" fill="none">\n        <path\n          fill="#DAAD0D" \n          d="M9.69593 6.16702C9.63727 6.07973 9.5333 6.03618 9.43021 6.05637L6.21434 6.67598L6.86731 0.37508C6.87978 0.255304 6.809 0.143255 6.69537 0.102861C6.58157 0.0626431 6.45617 0.104793 6.39014 0.205602L0.284533 9.52707C0.226928 9.61489 0.227455 9.72799 0.285938 9.81492C0.343894 9.90151 0.447864 9.94524 0.551658 9.92592L3.7677 9.30614L3.11473 15.6069C3.10226 15.727 3.17304 15.839 3.28667 15.8793C3.31459 15.8891 3.34392 15.8942 3.37378 15.8942C3.46194 15.8942 3.54326 15.8501 3.59173 15.7765L9.69733 6.45504C9.75494 6.36723 9.75423 6.25413 9.69593 6.16702Z"\n        />\n      </svg> Powered by Classy, a GoFundMe company\n    ',n},e.makeCloseBtn=function(){var n=document.createElement("button");return n.className=e.elClass+"_closebtn",n.setAttribute("aria-label","Close the donation modal"),n.innerHTML="&times;",n.addEventListener("click",e.props.onClose),n},e.props=t,e.state={isOpen:!1},e.pubsub=new l,e.el.setAttribute("role","dialog"),e.el.setAttribute("data-modal","true"),e.el.setAttribute("data-label","Donation Modal"),e.el.appendChild(e.makeBackdrop()),e.el.appendChild(e.makeContent()),e.el.appendChild(e.makePoweredBy()),e}return B(t,n),t}(s);var U=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),K=function(){return(K=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};const R=function(n){function t(t){var e=n.call(this,"egmodals")||this;return e.styles=E.Z.toString(),e.makeSDK=function(){var n=a(e.props.config);return e.props.config.campaigns.forEach((function(t){var o=t.campaignId,r=t.donation,a=t.customDomain,i=t.disableCookieDialog;r.modal&&(n[o].donation.modal=e.makeModal(o,r.modal,a,i))})),n},e.makeModal=function(n,t,o,r){var a=e.makeModalProps(n,t,o,r),i=new x(a);return e.el.appendChild(i.el),{on:i.on,off:i.off,open:i.open,close:i.close,navigate:a.iframe.navigate,trackEvent:a.iframe.trackEvent,resetDonation:a.iframe.resetDonation,setDonation:a.iframe.setDonation,config:function(i){var s=K(K({},t),i);a.iframe.iframe.updateProps({src:e.makeIframeSrc(n,s,o,r)})},onReady:i.onReady}},e.makeModalProps=function(n,t,o,r){var a=e.makeIframeSrc(n,t,o,r),i=new D({iframeSrc:a,version:e.props.config.version});i.iframe.iframe.setAttribute("name","eg-popup-iframe--"+n);var s=new q({body:i.el,footer:i.faqToggle,onClose:function(){i.isFAQOpen()?i.toggleFAQ():s.close()}});return{iframe:i,modal:s,lazyLoad:t.lazyLoad,iframeSrc:a,onReady:function(o){return r=e,a=void 0,s=function(){var e,r;return function(n,t){var e,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(n,i)}catch(n){a=[6,n],o=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(a){switch(a.label){case 0:return(e=t.onError)?[4,this.dalService.getCampaignStatus(n)]:[3,2];case 1:return(r=a.sent())?r.isPublished?r.isEmbed?o():e({type:"NOT_EMBED",url:r.url,name:r.name}):e({type:"NOT_PUBLISHED",url:r.url,name:r.name}):e({type:"NOT_EXISTS"}),[3,3];case 2:o(),a.label=3;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(n,t){function e(n){try{c(s.next(n))}catch(n){t(n)}}function o(n){try{c(s.throw(n))}catch(n){t(n)}}function c(t){var r;t.done?n(t.value):(r=t.value,r instanceof i?r:new i((function(n){n(r)}))).then(e,o)}c((s=s.apply(r,a||[])).next())}));var r,a,i,s}}},e.makeIframeSrc=function(n,t,o,r){var a=K(K(K({},{eg:"true",egp:"do",renderedAs:"popup"}),i()),t.urlParams);return O(e.props.env.baseUrl,n,a,o,r)},e.props=t,e.el.setAttribute("data-testid","egmodals"),e.sdk=e.makeSDK(),e.dalService=new k(e.props),e}return U(t,n),t}(s);var Z=e(751),Q=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const H=function(n){function t(t){var e=n.call(this,"eginline")||this;return e.styles=Z.Z.toString(),e.trackEvent=function(n){e.iframe.iframe.postMessage(n)},e.updateProps=function(n){e.props=n,e.iframe.iframe.updateProps({src:n.iframeSrc})},e.onOpenEvent=function(){window.addEventListener("load",e.handleOpenEvent,{passive:!0}),window.addEventListener("scroll",e.handleOpenEvent,{passive:!0})},e.handleOpenEvent=function(){e.isInViewport(30)&&(window.removeEventListener("scroll",e.handleOpenEvent),e.trackEvent("embedded-giving:inline:track-event:open"))},e.makeBody=function(){var n=document.createElement("div"),t=e.elClass+"_body";return n.className=t,n.style.width=e.getWidth(),n.style.height=e.getHeight(),n.appendChild(e.iframe.el),n},e.makeFooter=function(){var n=document.createElement("div"),t=e.elClass+"_footer";return n.className=t,n.appendChild(e.iframe.faqToggle),n},e.makePoweredBy=function(){var n=document.createElement("div");return n.className=e.elClass+"_poweredBy",n.innerHTML="Powered by Classy, a GoFundMe company",n},e.getWidth=function(){return e.props.width||"420px"},e.getHeight=function(){return e.props.height||"592px"},e.props=t,e.iframe=new D({iframeSrc:e.props.iframeSrc}),e.el.style.width=e.getWidth(),e.el.appendChild(e.makeBody()),e.el.appendChild(e.makeFooter()),e.el.appendChild(e.makePoweredBy()),e.onOpenEvent(),e}return Q(t,n),t}(s);var W=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),G=function(){return(G=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};const J=function(n){function t(t){var e=n.call(this,"egInlines")||this;return e.styles="",e.makeSDK=function(){var n=a(e.props.config);return e.props.config.campaigns.forEach((function(t){var o=t.campaignId,r=t.donation,a=t.customDomain,i=t.disableCookieDialog;r.inline&&(n[o].donation.inline=e.makeInline(o,r.inline,a,i))})),n},e.makeInline=function(n,t,o,r){var a=new H(e.makeInlineProps(n,t,o,r));return a.iframe.iframe.iframe.setAttribute("name","eg-inline-iframe--"+n),e.el.appendChild(a.el),{getEl:function(){return a.el},trackEvent:a.trackEvent,config:function(i){var s=G(G({},t),i);a.updateProps(e.makeInlineProps(n,s,o,r))}}},e.makeInlineProps=function(n,t,o,r){var a=G(G(G({},t.urlParams),i()),{eg:"true",egp:"do",renderedAs:"inline"});return{width:t.width,height:t.height,iframeSrc:O(e.props.env.baseUrl,n,a,o,r)}},e.props=t,e.el.setAttribute("data-testid","eginlines"),e.sdk=e.makeSDK(),e}return W(t,n),t}(s);var V=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const $=function(n){function e(e){var o=n.call(this,"eg")||this;return o.styles="",o.init=function(){var n,e=o.props,r=e.env,a=e.config,i=new R({env:r,config:a}),s=new w({config:a}),c=new J({env:r,config:a});o.el.appendChild(i.el),o.el.appendChild(s.el),o.sdk=(n=[c.sdk,i.sdk,s.sdk],t().all(n))},o.props=e,o.el.setAttribute("data-testid","eg"),o.init(),o}return V(e,n),e}(s);var X=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Y=function(n){function t(t){var e,o=n.call(this,"egsandbox")||this;return o.styles="",o.el.attachShadow({mode:"open"}),null===(e=o.el.shadowRoot)||void 0===e||e.appendChild(t.children),o}return X(t,n),t}(s);var nn=function(n,t){var e={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(e[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(e[o[r]]=n[o[r]])}return e},tn=window,en=function(n){n.win.addEventListener("message",(function(t){if("string"==typeof t.data){var e=t.data.split(n.delimitor||":"),o=e[0],r=e[1],a=e[2],i=e[3],s=e[4];"embedded-giving"===o&&r==n.campaignId&&a===n.campaignFeature&&i===n.component&&n.callback(s)}else t.data&&"ab_testing_data"===t.data.type&&(tn.SC={ab_testing:t.data.ab_testing})}))},on=["amount","currency","recurring","first","last","email","zip"],rn=function(){return(rn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};const an=function(n){var t=this;this.init=function(){var n=t.findModal(),e=t.findNudgeTray();n&&e&&(t.modal=n,t.nudgeTray=e,t.onModalOpen(),t.onModalClose(),t.onNudgeTrayClose(),t.onNudgeTrayCtaClick(),t.onNudgeTrayCloseClick(),t.onDonationProps(),t.onDonationComplete(),t.state.hasOpenedModal&&!t.state.hasCompletedDonation&&(t.nudgeTray.open(),t.modal.trackEvent("embedded-giving:nudge-tray:track-event:open")))},this.onModalOpen=function(){t.modal.on("open",(function(){t.setState({isModalOpen:!0,hasOpenedModal:!0})}))},this.onModalClose=function(){t.modal.on("close",(function(){t.state.hasCompletedDonation?t.setState({isModalOpen:!1,hasOpenedModal:!1,hasCompletedDonation:!1}):(t.nudgeTray.open(),t.modal.trackEvent("embedded-giving:nudge-tray:track-event:open"),t.setState({isModalOpen:!1}))}))},this.onNudgeTrayCtaClick=function(){var n=t.props.campaignConfig.donation;t.nudgeTray.onCtaClick((function(){n.modal&&(t.modal.navigate("do"),t.modal.resetDonation(),t.modal.setDonation(t.state.donationProps),t.modal.open(),t.modal.trackEvent("embedded-giving:nudge-tray:track-event:click"))}))},this.onNudgeTrayCloseClick=function(){var n=t.props.campaignConfig.donation;t.nudgeTray.onCloseClick((function(){n.modal&&t.modal.trackEvent("embedded-giving:nudge-tray:track-event:close")}))},this.onNudgeTrayClose=function(){t.nudgeTray.onClose((function(){t.removeStateCache()}))},this.onDonationProps=function(){var n=t.props,e=n.win,o=n.campaignConfig;en({win:e,campaignId:o.campaignId,campaignFeature:"donation",component:"modal",callback:function(n){if(-1!==n.indexOf("state?")&&t.state.isModalOpen&&!t.state.hasCompletedDonation){var e=new URLSearchParams(n.substring(5)),o={};on.forEach((function(n){var t=e.get(n);t&&(o[n]=t)})),t.setState({donationProps:o})}}})},this.onDonationComplete=function(){var n=t.props,e=n.win,o=n.campaignConfig;en({win:e,campaignId:o.campaignId,campaignFeature:"donation",component:"modal",callback:function(n){"complete"===n&&t.setState({hasCompletedDonation:!0})}})},this.findModal=function(){var n=t.props.campaignConfig.campaignId;return t.props.sdk[n].donation.modal},this.findNudgeTray=function(){var n,e,o=t.props.campaignConfig,r=o.campaignId;return null===(n=o.donation.nudgeTrays)||void 0===n||n.forEach((function(n,o){if("eg:donation:incomplete"===n.triggerEvent){var a=t.props.sdk[r].donation.nudgeTrays;a&&(e=a[o])}})),e},this.getInitialState=function(){var n={donationProps:{},isModalOpen:!1,hasOpenedModal:!1,hasCompletedDonation:!1},e=t.getStateCache();return e?rn(rn({},n),e):n},this.setState=function(n){t.state=rn(rn({},t.state),n),t.state.hasCompletedDonation?t.removeStateCache():t.setStateCache()},this.getStateCache=function(){var n=t.props.win,e=void 0;if(n.localStorage)try{var o=t.getStateCacheKey(),r=n.localStorage.getItem(o);r&&(e=JSON.parse(r))}catch(n){console.log(n)}return e},this.setStateCache=function(){var n=t.props.win;if(n.localStorage)try{var e=t.getStateCacheKey(),o=JSON.stringify(t.state);n.localStorage.setItem(e,o)}catch(n){console.log(n)}},this.removeStateCache=function(){var n=t.props.win;if(n.localStorage)try{var e=t.getStateCacheKey();n.localStorage.removeItem(e)}catch(n){console.log(n)}},this.getStateCacheKey=function(){return"eg-donation-incomplete-event-handler-state-cache-"+t.props.campaignConfig.campaignId},this.props=n,this.state=this.getInitialState(),this.init()};var sn="campaign";const cn=function(n){var t=this;this.bindEvents=function(){t.onModalOpen(),t.onModalClose(),t.onModalButtonClick(),t.onModalCampaignIdInUrlParams()},this.onModalButtonClick=function(){var n=t.props,e=n.win,o=n.sdk,a=n.campaignConfig,i=a.donation.modal,s=o[a.campaignId].donation.modal;s&&i&&(s.onReady((function(){e.document.body.addEventListener("click",(function(n){if(i.elementSelector&&n.target.matches(i.elementSelector))return n.preventDefault(),void s.open()}))})),e.document.querySelectorAll("a[href*=campaign]").forEach((function(n){n.addEventListener("click",(function(n){var t=n.currentTarget.getAttribute("href"),o=new URLSearchParams(t),i=o.get(sn);r.some((function(n){return!!o.get(n)}))||i&&i===a.campaignId&&(n.preventDefault(),e.history.pushState({},"",t),s.open())}))})))},this.onModalOpen=function(){var n=t.props,e=n.win,o=n.sdk,r=n.campaignConfig,a=o[r.campaignId].donation.modal;a&&a.on("open",(function(){t.addCampaignIdToUrlParams(e,r.campaignId)}))},this.onModalClose=function(){var n=t.props,e=n.win,o=n.sdk,r=n.campaignConfig,a=o[r.campaignId].donation.modal;a&&a.on("close",(function(){t.removeCampaignIdFromUrlParams(e,r.campaignId)}))},this.onModalCampaignIdInUrlParams=function(){var n=t.props,e=n.win,o=n.sdk,r=n.campaignConfig,a=r.donation.modal,i=o[r.campaignId].donation.modal;i&&a&&t.isCampaignIdInUrlParams(e,r.campaignId)&&i.open()},this.isCampaignIdInUrlParams=function(n,t){var e=new URLSearchParams(n.location.search).get(sn);return t&&e&&t===e},this.addCampaignIdToUrlParams=function(n,t){var e=new URL(n.location.href);e.searchParams.set(sn,t),window.history.pushState({},"",e.href)},this.removeCampaignIdFromUrlParams=function(n,t){var e=new URL(n.location.href);e.searchParams.get(sn)===t&&(e.searchParams.delete(sn),window.history.pushState({},"",e.href))},this.props=n,this.bindEvents()},ln=function(n){var t=this;this.bindEvents=function(){t.onModalClose(),t.onDonationComplete()},this.onModalClose=function(){var n=t.props.campaignConfig,e=n.campaignId,o=n.donation,r=t.props.sdk[e].donation.modal;r&&r.on("close",(function(){t.state.hasCompletedDonation&&o.modal&&(r.navigate("do"),t.state.hasCompletedDonation=!1)}))},this.onDonationComplete=function(){var n=t.props,e=n.win,o=n.campaignConfig;en({win:e,campaignId:o.campaignId,campaignFeature:"donation",component:"modal",callback:function(n){"complete"===n&&(t.state.hasCompletedDonation=!0)}})},this.props=n,this.state={hasCompletedDonation:!1},this.bindEvents()},pn=function(n){var t=this;this.init=function(){var n=t.props,e=n.win,o=n.sdk,r=n.campaignConfig,a=r.donation.inline,i=o[r.campaignId].donation.inline;if(i&&a){var s=e.document.querySelector(a.elementSelector);if(s){var c=new Y({children:i.getEl()});s.appendChild(c.el)}}},this.props=n,this.init()};var dn=function(n){var t="https://www.classy.org";if(n){var e=new URLSearchParams(n.location.search).get("baseUrl");e&&(t=e)}return t},un=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fn=function(){return(fn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};const mn=function(n){function t(){var t=n.call(this,"egga4")||this;return t.styles="",t.onPostMessage=function(){window.addEventListener("message",(function(n){if(n.data){var e=n.data.key;"embedded-giving:bridge:ga4:init"===e?t.onInit(n):"embedded-giving:bridge:ga4:event"===e&&t.onEvent(n)}}))},t.onInit=function(n){if(n.data.config){var e=n.data.config.id;if(e&&(t.state.id=e,!window.gtag)){var o=document.createElement("script");o.setAttribute("data-eg","true"),o.setAttribute("async","true"),o.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+e),document.head.appendChild(o),window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config",e,{debug_mode:!0,send_page_view:!1})}}},t.onEvent=function(n){if(window.gtag&&t.state.id){var e=fn({send_to:t.state.id},n.data.data);gtag("event",n.data.event,e)}},t.state={id:void 0},t.onPostMessage(),t}return un(t,n),t}(s);var gn,hn,vn,bn,yn,wn=function(){return(wn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};hn=function(n){return{baseUrl:dn(n)}}(gn=window),vn=function(n){var t=n.egProps;return t?t.modal?{campaigns:t.modal.campaigns.map((function(n){return{campaignId:n.campaignId,donation:{modal:nn(n,["campaignId"])}}}))}:t.campaigns?{version:t.version,campaigns:t.campaigns}:{campaigns:[]}:{campaigns:[]}}(gn),bn=new $({env:hn,config:vn}),yn=new Y({children:bn.el}),document.body.appendChild(yn.el),gn.eg=bn.sdk,gn.egModal=function(n){return wn({},bn.sdk[n].donation.modal)},new function(n){var t=this;this.bindEvents=function(){var n=t.props,e=n.win,o=n.sdk;t.props.config.campaigns.forEach((function(n){n.donation&&(new ln({campaignConfig:n,win:e,sdk:o}),new cn({campaignConfig:n,win:e,sdk:o}),new an({campaignConfig:n,win:e,sdk:o}),new pn({campaignConfig:n,win:e,sdk:o}))}))},this.props=n,this.bindEvents()}({win:gn,config:vn,sdk:bn.sdk}),new mn})()})();
</script>

</body>
</html>

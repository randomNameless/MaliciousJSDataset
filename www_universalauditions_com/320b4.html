<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>320b4.html</title>
</head>
<body>

<script>
(function(z){'use strict';function ve(a){if(D(a))w(a.objectMaxDepth)&&(Xb.objectMaxDepth=Yb(a.objectMaxDepth)?a.objectMaxDepth:NaN),w(a.urlErrorParamsEnabled)&&Ga(a.urlErrorParamsEnabled)&&(Xb.urlErrorParamsEnabled=a.urlErrorParamsEnabled);else return Xb}function Yb(a){return X(a)&&0<a}function F(a,b){b=b||Error;return function(){var d=arguments[0],c;c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.8.3/"+(a?a+"/":"")+d;for(d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var e=encodeURIComponent,f;f=arguments[d];f="function"==typeof f?f.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof f?"undefined":"string"!=typeof f?JSON.stringify(f):f;c+=e(f)}return new b(c)}}function za(a){if(null==a||$a(a))return!1;if(H(a)||C(a)||x&&a instanceof x)return!0;var b="length"in Object(a)&&a.length;return X(b)&&(0<=b&&b-1 in a||"function"===typeof a.item)}function r(a,b,d){var c,e;if(a)if(B(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(H(a)||za(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==r)a.forEach(b,d,a);else if(Pc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)ta.call(a,c)&&b.call(d,a[c],c,a);return a}function Qc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Zb(a){return function(b,d){a(d,b)}}function we(){return++qb}
function $b(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(D(g)||B(g))for(var k=Object.keys(g),h=0,l=k.length;h<l;h++){var m=k[h],p=g[m];d&&D(p)?ha(p)?a[m]=new Date(p.valueOf()):ab(p)?a[m]=new RegExp(p):p.nodeName?a[m]=p.cloneNode(!0):ac(p)?a[m]=p.clone():"__proto__"!==m&&(D(a[m])||(a[m]=H(p)?[]:{}),$b(a[m],[p],!0)):a[m]=p}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function S(a){return $b(a,Ha.call(arguments,1),!1)}function xe(a){return $b(a,Ha.call(arguments,1),!0)}function fa(a){return parseInt(a,10)}function bc(a,b){return S(Object.create(a),b)}function E(){}function Ta(a){return a}function ia(a){return function(){return a}}function cc(a){return B(a.toString)&&a.toString!==la}function A(a){return"undefined"===typeof a}function w(a){return"undefined"!==typeof a}function D(a){return null!==a&&"object"===typeof a}function Pc(a){return null!==a&&"object"===typeof a&&!Rc(a)}function C(a){return"string"===typeof a}function X(a){return"number"===typeof a}function ha(a){return"[object Date]"===la.call(a)}
function H(a){return Array.isArray(a)||a instanceof Array}function dc(a){switch(la.call(a)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return a instanceof Error}}function B(a){return"function"===typeof a}function ab(a){return"[object RegExp]"===la.call(a)}function $a(a){return a&&a.window===a}function bb(a){return a&&a.$evalAsync&&a.$watch}function Ga(a){return"boolean"===typeof a}function ye(a){return a&&X(a.length)&&ze.test(la.call(a))}
function ac(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function Ae(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ua(a){return K(a.nodeName||a[0]&&a[0].nodeName)}function cb(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function Ia(a,b,d){function c(a,b,c){c--;if(0>c)return"...";var d=b.$$hashKey,f;if(H(a)){f=0;for(var g=a.length;f<g;f++)b.push(e(a[f],c))}else if(Pc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"===typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(b[f]=e(a[f],c));else for(f in a)ta.call(a,f)&&(b[f]=e(a[f],c));d?b.$$hashKey=d:delete b.$$hashKey;return b}function e(a,b){if(!D(a))return a;var d=g.indexOf(a);if(-1!==d)return k[d];if($a(a)||bb(a))throw oa("cpws");var d=!1,e=f(a);void 0===e&&(e=H(a)?[]:Object.create(Rc(a)),d=!0);g.push(a);k.push(e);return d?c(a,e,b):e}function f(a){switch(la.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(B(a.cloneNode))return a.cloneNode(!0)}
var g=[],k=[];d=Yb(d)?d:NaN;if(b){if(ye(b)||"[object ArrayBuffer]"===la.call(b))throw oa("cpta");if(a===b)throw oa("cpi");H(b)?b.length=0:r(b,function(a,c){"$$hashKey"!==c&&delete b[c]});g.push(a);k.push(b);return c(a,b,d)}return e(a,d)}function ec(a,b){return a===b||a!==a&&b!==b}function va(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&"object"===d)if(H(a)){if(!H(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!va(a[c],b[c]))return!1;return!0}}else{if(ha(a))return ha(b)?ec(a.getTime(),b.getTime()):!1;if(ab(a))return ab(b)?a.toString()===b.toString():!1;if(bb(a)||bb(b)||$a(a)||$a(b)||H(b)||ha(b)||ab(b))return!1;d=T();for(c in a)if("$"!==c.charAt(0)&&!B(a[c])){if(!va(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&w(b[c])&&!B(b[c]))return!1;return!0}return!1}function db(a,b,d){return a.concat(Ha.call(b,d))}function Va(a,b){var d=2<arguments.length?Ha.call(arguments,2):[];return!B(b)||b instanceof
RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Sc(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:$a(b)?d="$WINDOW":b&&z.document===b?d="$DOCUMENT":bb(b)&&(d="$SCOPE");return d}function eb(a,b){if(!A(a))return X(b)||(b=b?2:null),JSON.stringify(a,Sc,b)}function Tc(a){return C(a)?JSON.parse(a):a}function fc(a,b){a=a.replace(Be,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+
a)/6E4;return Y(d)?b:d}function Uc(a,b){a=new Date(a.getTime());a.setMinutes(a.getMinutes()+b);return a}function gc(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=fc(b,c);return Uc(a,d*(b-c))}function Aa(a){a=x(a).clone().empty();var b=x("<div></div>").append(a).html();try{return a[0].nodeType===Pa?K(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+K(b)})}catch(d){return K(b)}}function Vc(a){try{return decodeURIComponent(a)}catch(b){}}function hc(a){var b={};r((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=Vc(e),w(e)&&(f=w(f)?Vc(f):!0,ta.call(b,e)?H(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Ce(a){var b=[];r(a,function(a,c){H(a)?r(a,function(a){b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}):b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))});return b.length?b.join("&"):""}function ic(a){return ba(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ba(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function De(a,b){var d,c,e=Qa.length;for(c=0;c<e;++c)if(d=Qa[c]+b,C(d=a.getAttribute(d)))return d;return null}function Ee(a,b){var d,c,e={};r(Qa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});r(Qa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(Fe?(e.strictDi=null!==De(d,"strict-di"),b(d,c?[c]:[],e)):z.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Wc(a,b,d){D(d)||(d={});d=S({strictDi:!1},d);var c=function(){a=x(a);if(a.injector()){var c=a[0]===z.document?"document":Aa(a);throw oa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=fb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;z&&e.test(z.name)&&(d.debugInfoEnabled=!0,z.name=z.name.replace(e,""));if(z&&!f.test(z.name))return c();z.name=z.name.replace(f,"");ca.resumeBootstrap=function(a){r(a,function(a){b.push(a)});return c()};B(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Ge(){z.name="NG_ENABLE_DEBUG_INFO!"+z.name;z.location.reload()}function He(a){a=ca.element(a).injector();if(!a)throw oa("test");return a.get("$$testability")}function Xc(a,b){b=b||"_";return a.replace(Ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function Je(){var a;if(!Yc){var b=rb();(sb=A(b)?z.jQuery:b?z[b]:void 0)&&sb.fn.on?(x=sb,S(sb.fn,{scope:Wa.scope,isolateScope:Wa.isolateScope,controller:Wa.controller,injector:Wa.injector,inheritedData:Wa.inheritedData})):x=U;a=x.cleanData;x.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=(x._data(f)||{}).events)&&c.$destroy&&x(f).triggerHandler("$destroy");a(b)};ca.element=x;Yc=!0}}function Ke(){U.legacyXHTMLReplacement=!0}function gb(a,b,d){if(!a)throw oa("areq",b||"?",d||"required");return a}function tb(a,b,d){d&&H(a)&&(a=a[a.length-1]);gb(B(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ja(a,b){if("hasOwnProperty"===a)throw oa("badname",b);}function Le(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&B(a)?Va(e,a):a}function ub(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=x(Ha.call(a,0,e))),c.push(b);return c||a}function T(){return Object.create(null)}function jc(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!cc(a)||H(a)||ha(a)?eb(a):a.toString()}return a}function Me(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=F("$injector"),c=F("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||F;return b(a,"module",function(){var a={};return function(f,g,k){var h={};if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,c,d,f){f||(f=e);return function(){f[d||"push"]([b,c,arguments]);return t}}function b(a,c,d){d||(d=e);return function(b,e){e&&B(e)&&(e.$$moduleName=f);d.push([a,c,arguments]);return t}}if(!g)throw d("nomod",f);var e=[],n=[],s=[],G=a("$injector","invoke","push",n),t={_invokeQueue:e,_configBlocks:n,_runBlocks:s,info:function(a){if(w(a)){if(!D(a))throw c("aobj","value");h=a;return this}return h},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",n),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:G,run:function(a){s.push(a);return this}};k&&G(k);return t})}})}function ja(a,b){if(H(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(D(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function Ne(a,b){var d=[];Yb(b)&&(a=ca.copy(a,null,b));return JSON.stringify(a,function(a,b){b=Sc(a,b);if(D(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}
function Oe(a){S(a,{errorHandlingConfig:ve,bootstrap:Wc,copy:Ia,extend:S,merge:xe,equals:va,element:x,forEach:r,injector:fb,noop:E,bind:Va,toJson:eb,fromJson:Tc,identity:Ta,isUndefined:A,isDefined:w,isString:C,isFunction:B,isObject:D,isNumber:X,isElement:ac,isArray:H,version:Pe,isDate:ha,callbacks:{$$counter:0},getTestability:He,reloadWithDebugInfo:Ge,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Ke,$$minErr:F,$$csp:Ba,$$encodeUriSegment:ic,$$encodeUriQuery:ba,$$lowercase:K,$$stringify:jc,$$uppercase:vb});lc=Me(z);lc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Qe});a.provider("$compile",Zc).directive({a:Re,input:$c,textarea:$c,form:Se,script:Te,select:Ue,option:Ve,ngBind:We,ngBindHtml:Xe,ngBindTemplate:Ye,ngClass:Ze,ngClassEven:$e,ngClassOdd:af,ngCloak:bf,ngController:cf,ngForm:df,ngHide:ef,ngIf:ff,ngInclude:gf,ngInit:hf,ngNonBindable:jf,ngPluralize:kf,ngRef:lf,ngRepeat:mf,ngShow:nf,ngStyle:of,ngSwitch:pf,ngSwitchWhen:qf,ngSwitchDefault:rf,ngOptions:sf,ngTransclude:tf,ngModel:uf,ngList:vf,ngChange:wf,pattern:ad,ngPattern:ad,required:bd,ngRequired:bd,minlength:cd,ngMinlength:cd,maxlength:dd,ngMaxlength:dd,ngValue:xf,ngModelOptions:yf}).directive({ngInclude:zf,input:Af}).directive(wb).directive(ed);a.provider({$anchorScroll:Bf,$animate:Cf,$animateCss:Df,$$animateJs:Ef,$$animateQueue:Ff,$$AnimateRunner:Gf,$$animateAsyncRun:Hf,$browser:If,$cacheFactory:Jf,$controller:Kf,$document:Lf,$$isDocumentHidden:Mf,$exceptionHandler:Nf,$filter:fd,$$forceReflow:Of,$interpolate:Pf,$interval:Qf,$$intervalFactory:Rf,$http:Sf,$httpParamSerializer:Tf,$httpParamSerializerJQLike:Uf,$httpBackend:Vf,$xhrFactory:Wf,$jsonpCallbacks:Xf,$location:Yf,$log:Zf,$parse:$f,$rootScope:ag,$q:bg,$$q:cg,$sce:dg,$sceDelegate:eg,$sniffer:fg,$$taskTrackerFactory:gg,$templateCache:hg,$templateRequest:ig,$$testability:jg,$timeout:kg,$window:lg,$$rAF:mg,$$jqLite:ng,$$Map:og,$$cookieReader:pg})}]).info({angularVersion:"1.8.3"})}function xb(a,b){return b.toUpperCase()}function yb(a){return a.replace(qg,xb)}function mc(a){a=a.nodeType;return 1===a||!a||9===a}function gd(a,b){var d,c,e,f=b.createDocumentFragment(),g=[],k;if(nc.test(a)){d=f.appendChild(b.createElement("div"));c=(rg.exec(a)||["",""])[1].toLowerCase();e=U.legacyXHTMLReplacement?a.replace(sg,"<$1></$2>"):a;if(10>wa)for(c=hb[c]||hb._default,d.innerHTML=c[1]+e+c[2],k=c[0];k--;)d=d.firstChild;else{c=qa[c]||[];for(k=c.length;-1<--k;)d.appendChild(z.document.createElement(c[k])),d=d.firstChild;d.innerHTML=e}g=db(g,d.childNodes);d=f.firstChild;d.textContent=""}else g.push(b.createTextNode(a));f.textContent="";f.innerHTML="";r(g,function(a){f.appendChild(a)});return f}function U(a){if(a instanceof U)return a;var b;C(a)&&(a=V(a),b=!0);if(!(this instanceof U)){if(b&&"<"!==a.charAt(0))throw oc("nosel");return new U(a)}if(b){b=z.document;var d;a=(d=tg.exec(a))?[b.createElement(d[1])]:(d=gd(a,b))?d.childNodes:[];pc(this,a)}else B(a)?hd(a):pc(this,a)}function qc(a){return a.cloneNode(!0)}function zb(a,b){!b&&mc(a)&&x.cleanData([a]);a.querySelectorAll&&x.cleanData(a.querySelectorAll("*"))}function id(a){for(var b in a)return!1;return!0}function jd(a){var b=a.ng339,d=b&&Ka[b],c=d&&d.events,d=d&&d.data;d&&!id(d)||c&&!id(c)||(delete Ka[b],a.ng339=void 0)}function kd(a,b,d,c){if(w(c))throw oc("offargs");var e=(c=Ab(a))&&c.events,f=c&&c.handle;if(f){if(b){var g=function(b){var c=e[b];w(d)&&cb(c||[],d);w(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};r(b.split(" "),function(a){g(a);Bb[a]&&g(Bb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b];jd(a)}}function rc(a,b){var d=a.ng339;if(d=d&&Ka[d])b?delete d.data[b]:d.data={},jd(a)}function Ab(a,b){var d=a.ng339,d=d&&Ka[d];b&&!d&&(a.ng339=d=++ug,d=Ka[d]={events:{},data:{},handle:void 0});return d}function sc(a,b,d){if(mc(a)){var c,e=w(d),f=!e&&b&&!D(b),g=!b;a=(a=Ab(a,!f))&&a.data;if(e)a[yb(b)]=d;else{if(g)return a;if(f)return a&&a[yb(b)];for(c in b)a[yb(c)]=b[c]}}}function Cb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Db(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;r(b.split(" "),function(a){a=V(a);c=c.replace(" "+a+" "," ")});c!==d&&a.setAttribute("class",V(c))}}function Eb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;r(b.split(" "),function(a){a=V(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});c!==d&&a.setAttribute("class",V(c))}}function pc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function ld(a,b){return Fb(a,"$"+(b||"ngController")+"Controller")}function Fb(a,b,d){9===a.nodeType&&(a=a.documentElement);for(b=H(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(w(d=x.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function md(a){for(zb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Gb(a,b){b||zb(a);var d=a.parentNode;d&&d.removeChild(a)}function vg(a,b){b=b||z;if("complete"===b.document.readyState)b.setTimeout(a);else x(b).on("load",a)}function hd(a){function b(){z.document.removeEventListener("DOMContentLoaded",b);z.removeEventListener("load",b);a()}"complete"===z.document.readyState?z.setTimeout(a):(z.document.addEventListener("DOMContentLoaded",b),z.addEventListener("load",b))}function nd(a,b){var d=Hb[b.toLowerCase()];return d&&od[ua(a)]&&d}function wg(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(A(c.immediatePropagationStopped)){var k=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();k&&k.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=f.specialHandlerWrapper||xg;1<g&&(f=ja(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||h(a,c,f[l])}};d.elem=a;return d}function xg(a,b,d){d.call(a,b)}function yg(a,b,d){var c=b.relatedTarget;c&&(c===a||zg.call(a,c))||d.call(a,b)}function ng(){this.$get=function(){return S(U,{hasClass:function(a,b){a.attr&&(a=a[0]);return Cb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Eb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Db(a,b)}})}}function La(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||we)():d+":"+a}function pd(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function qd(a){a=Function.prototype.toString.call(a).replace(Ag,"");return a.match(Bg)||a.match(Cg)}function Dg(a){return(a=qd(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fb(a,b){function d(a){return function(b,c){if(D(b))r(b,Zb(a));else return a(b,c)}}function c(a,b){Ja(a,"service");if(B(b)||H(b))b=n.instantiate(b);if(!b.$get)throw Ca("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=t.invoke(b,this);if(A(c))throw Ca("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){gb(A(a)||H(a),"modulesToLoad","not an array");var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=n.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{C(a)?(c=lc(a),t.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):B(a)?b.push(n.invoke(a)):H(a)?b.push(n.invoke(a)):tb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ca("modulerr",a,e.stack||e.message||e);}}});return b}function k(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===h)throw Ca("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=h,a[b]=c(b,e),a[b]}catch(f){throw a[b]===h&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=fb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ca("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);H(a)&&(a=a[a.length-1]);d=a;if(wa||"function"!==typeof d)d=!1;else{var f=d.$$ngIsClass;Ga(f)||(f=d.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(d)));d=f}return d?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=H(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new(Function.prototype.bind.apply(d,a))},get:d,annotate:fb.$$annotate,has:function(b){return p.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}
b=!0===b;var h={},l=[],m=new Ib,p={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ia(b),!1)}),constant:d(function(a,b){Ja(a,"constant");p[a]=b;s[a]=b}),decorator:function(a,b){var c=n.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},n=p.$injector=k(p,function(a,b){ca.isString(b)&&l.push(b);throw Ca("unpr",l.join(" <- "));}),s={},G=k(s,function(a,b){var c=n.get(a+"Provider",b);return t.invoke(c.$get,c,void 0,a)}),t=G;p.$injectorProvider={$get:ia(G)};t.modules=n.modules=T();var N=g(a),t=G.get("$injector");t.strictDi=b;r(N,function(a){a&&t.invoke(a)});t.loadNewModules=function(a){r(g(a),function(a){a&&t.invoke(a)})};return t}function Bf(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ua(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;B(c)?c=c():ac(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):X(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=C(a)?a:X(a)?a.toString():d.hash();var b;a?(b=k.getElementById(a))?f(b):(b=e(k.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var k=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||vg(function(){c.$evalAsync(g)})});return g}]}function ib(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;H(a)&&(a=a.join(" "));H(b)&&(b=b.join(" "));return a+" "+b}function Eg(a){C(a)&&(a=a.split(" "));var b=T();r(a,function(a){a.length&&(b[a]=!0)});return b}function ra(a){return D(a)?a:{}}function Fg(a,b,d,c,e){function f(){pa=null;k()}function g(){t=y();t=A(t)?null:t;va(t,P)&&(t=P);N=P=t}function k(){var a=N;g();if(v!==h.url()||a!==t)v=h.url(),N=t,r(J,function(a){a(h.url(),t)})}
var h=this,l=a.location,m=a.history,p=a.setTimeout,n=a.clearTimeout,s={},G=e(d);h.isMock=!1;h.$$completeOutstandingRequest=G.completeTask;h.$$incOutstandingRequestCount=G.incTaskCount;h.notifyWhenNoOutstandingRequests=G.notifyWhenNoPendingTasks;var t,N,v=l.href,kc=b.find("base"),pa=null,y=c.history?function(){try{return m.state}catch(a){}}:E;g();h.url=function(b,d,e){A(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=N===e;b=ga(b).href;if(v===b&&(!c.history||f))return h;var k=v&&Da(v)===Da(b);v=b;N=e;!c.history||k&&f?(k||(pa=b),d?l.replace(b):k?(d=l,e=b,f=e.indexOf("#"),e=-1===f?"":e.substr(f),d.hash=e):l.href=b,l.href!==b&&(pa=b)):(m[d?"replaceState":"pushState"](e,"",b),g());pa&&(pa=b);return h}return(pa||l.href).replace(/#$/,"")};h.state=function(){return t};var J=[],I=!1,P=null;h.onUrlChange=function(b){if(!I){if(c.history)x(a).on("popstate",f);x(a).on("hashchange",f);I=!0}J.push(b);return b};h.$$applicationDestroyed=function(){x(a).off("hashchange popstate",f)};h.$$checkUrlChange=k;h.baseHref=function(){var a=kc.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""};h.defer=function(a,b,c){var d;b=b||0;c=c||G.DEFAULT_TASK_TYPE;G.incTaskCount(c);d=p(function(){delete s[d];G.completeTask(a,c)},b);s[d]=c;return d};h.defer.cancel=function(a){if(s.hasOwnProperty(a)){var b=s[a];delete s[a];n(a);G.completeTask(E,b);return!0}return!1}}function If(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(a,b,d,c,e){return new Fg(a,c,b,d,e)}]}function Jf(){this.$get=function(){function a(a,c){function e(a){a!==p&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw F("$cacheFactory")("iid",a);var g=0,k=S({},c,{id:a}),h=T(),l=c&&c.capacity||Number.MAX_VALUE,m=T(),p=null,n=null;return b[a]={put:function(a,b){if(!A(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in h||g++;h[a]=b;g>l&&this.remove(n.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return h[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===p&&(p=b.p);b===n&&(n=b.n);f(b.n,b.p);delete m[a]}a in h&&(delete h[a],g--)},removeAll:function(){h=T();g=0;m=T();p=n=null},destroy:function(){m=k=h=null;delete b[a]},info:function(){return S({},k,{size:g})}}}var b={};a.info=function(){var a={};r(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function hg(){this.$get=["$cacheFactory",function(a){return a("templates")}]}
function Zc(a,b){function d(a,b,c){var d=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,e=T();r(a,function(a,f){a=a.trim();if(a in p)e[f]=p[a];else{var g=a.match(d);if(!g)throw $("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(p[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==K(b))throw $("baddir",a);if(a!==a.trim())throw $("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;!H(b)&&D(b)&&r(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=Ae("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,p=T();this.directive=function pa(b,d){gb(b,"name");Ja(b,"directive");C(b)?(c(b),gb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];r(f[b],function(f,g){try{var h=a.invoke(f);B(h)?h={compile:ia(h)}:!h.compile&&h.link&&(h.compile=ia(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);var k=h,l=h.restrict;if(l&&(!C(l)||!/[EACM]/.test(l)))throw $("badrestrict",l,b);k.restrict=l||"EA";h.$$moduleName=f.$$moduleName;d.push(h)}catch(m){c(m)}});return d}])),f[b].push(d)):r(b,Zb(pa));return this};this.component=function y(a,b){function c(a){function e(b){return B(b)||H(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Gg(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};r(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)});return g}if(!C(a))return r(a,Zb(Va(this,y))),this;var d=b.controller||function(){};r(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,B(d)&&(d[b]=a))});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationTrustedUrlList=function(a){return w(a)?(b.aHrefSanitizationTrustedUrlList(a),this):b.aHrefSanitizationTrustedUrlList()};Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(a){this.aHrefSanitizationTrustedUrlList=a}});this.imgSrcSanitizationTrustedUrlList=function(a){return w(a)?(b.imgSrcSanitizationTrustedUrlList(a),this):b.imgSrcSanitizationTrustedUrlList()};Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(a){this.imgSrcSanitizationTrustedUrlList=a}});var n=!0;this.debugInfoEnabled=function(a){return w(a)?(n=a,this):n};var s=!1;this.strictComponentBindingsEnabled=function(a){return w(a)?(s=a,this):s};var G=10;this.onChangesTtl=function(a){return arguments.length?(G=a,this):G};var t=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(t=a,this):t};var N=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(N=a,this):N};var v=T();this.addPropertySecurityContext=function(a,b,c){var d=a.toLowerCase()+"|"+b.toLowerCase();if(d in v&&v[d]!==c)throw $("ctxoverride",a,b,v[d],c);v[d]=c;return this};(function(){function a(b,c){r(c,function(a){v[a.toLowerCase()]=b})}a(W.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]);a(W.CSS,["*|style"]);a(W.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" "));a(W.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" "));a(W.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))})();this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(a,b,c,e,p,M,L,u,R){function q(){try{if(!--Ja)throw Ua=void 0,$("infchng",G);L.$apply(function(){for(var a=0,b=Ua.length;a<b;++a)try{Ua[a]()}catch(d){c(d)}Ua=void 0})}finally{Ja++}}function ma(a,b){if(!a)return a;if(!C(a))throw $("srcset",b,a.toString());for(var c="",d=V(a),e=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,e=/\s/.test(d)?e:/(,)/,d=d.split(e),e=Math.floor(d.length/2),f=0;f<e;f++)var g=2*f,c=c+u.getTrustedMediaUrl(V(d[g])),c=c+(" "+V(d[g+1]));d=V(d[2*f]).split(/\s/);c+=u.getTrustedMediaUrl(V(d[0]));2===d.length&&(c+=" "+V(d[1]));return c}function w(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function O(a,b,c){Fa.innerHTML="<span "+b+">";b=Fa.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function sa(a,b){try{a.addClass(b)}catch(c){}}function da(a,b,c,d,e){a instanceof x||(a=x(a));var f=Xa(a,b,a,c,d,e);da.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw $("multilink");gb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var h=d.parentBoundTranscludeFn,k=d.transcludeControllers;d=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==ua(d)&&la.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==g?x(ja(g,x("<div></div>").append(a).html())):c?Wa.clone.call(a):a;if(k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);da.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,h);c||(a=f=null);return d}}function Xa(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,I,t;if(n)for(t=Array(c.length),m=0;m<h.length;m+=3)f=h[m],t[f]=c[f];else t=c;m=0;for(p=h.length;m<p;)k=t[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),da.$$addScopeInfo(x(k),l)):l=a,I=c.transcludeOnThisElement?ka(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ka(a,b):null,c(f,l,k,d,I)):f&&f(a,k.childNodes,void 0,e)}for(var h=[],k=H(a)||a instanceof x,l,m,p,I,n,t=0;t<a.length;t++){l=new w;11===wa&&jb(a,t,k);m=tc(a[t],[],l,0===t?d:void 0,e);(f=m.length?aa(m,a[t],l,b,c,null,[],[],f):null)&&f.scope&&da.$$addScopeClass(l.$$element);l=f&&f.terminal||!(p=a[t].childNodes)||!p.length?null:Xa(p,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||l)h.push(t,f,l),I=!0,n=n||f;f=null}return I?g:null}function jb(a,b,c){var d=a[b],e=d.parentNode,f;if(d.nodeType===Pa)for(;;){f=e?d.nextSibling:a[b+1];if(!f||f.nodeType!==Pa)break;d.nodeValue+=f.nodeValue;f.parentNode&&f.parentNode.removeChild(f);c&&f===a[b+1]&&a.splice(b+1,1)}}function ka(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=T(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?ka(a,b.$$slots[f],c):null;return d}function tc(a,b,d,e,f){var g=d.$attr,h;switch(a.nodeType){case 1:h=ua(a);Y(b,xa(h),"E",e,f);for(var l,m,n,t,J,s=a.attributes,v=0,G=s&&s.length;v<G;v++){var P=!1,N=!1,r=!1,y=!1,u=!1,M;l=s[v];m=l.name;t=l.value;n=xa(m.toLowerCase());(J=n.match(Ra))?(r="Attr"===J[1],y="Prop"===J[1],u="On"===J[1],m=m.replace(rd,"").toLowerCase().substr(4+J[1].length).replace(/_(.)/g,function(a,b){return b.toUpperCase()})):(M=n.match(Sa))&&ca(M[1])&&(P=m,N=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6));if(y||u)d[n]=t,g[n]=l.name,y?Ea(a,b,n,m):b.push(sd(p,L,c,n,m,!1));else{n=xa(m.toLowerCase());g[n]=m;if(r||!d.hasOwnProperty(n))d[n]=t,nd(a,n)&&(d[n]=!0);Ia(a,b,t,n,r);Y(b,n,"A",e,f,P,N)}}"input"===h&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off");if(!Qa)break;g=a.className;D(g)&&(g=g.animVal);if(C(g)&&""!==g)for(;a=k.exec(g);)n=xa(a[2]),Y(b,n,"C",e,f)&&(d[n]=V(a[3])),g=g.substr(a.index+
a[0].length);break;case Pa:na(b,a.nodeValue);break;case 8:if(!Oa)break;F(a,b,d,e,f)}b.sort(ia);return b}function F(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=xa(f[1]);Y(b,h,"M",d,e)&&(c[h]=V(f[2]))}}catch(k){}}function U(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw $("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return x(d)}function W(a,b,c){return function(d,e,f,g,h){e=U(e[0],b,c);return a(d,e,f,g,h)}}function Z(a,b,c,d,e,f){var g;return a?da(b,c,d,e,f):function(){g||(g=da(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function aa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&(a=W(a,c,d));a.require=u.require;a.directiveName=Q;if(s===u||u.$$isolateScope)a=Ba(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=W(b,c,d));b.require=u.require;b.directiveName=Q;if(s===u||u.$$isolateScope)b=Ba(b,{isolateScope:!0});k.push(b)}}function p(a,e,f,g,l){function m(a,b,c,d){var e;bb(a)||(d=c,c=b,b=a,a=void 0);N&&(e=P);c||(c=N?Q.parent():Q);if(d){var f=l.$$slots[d];if(f)return f(a,b,e,c,R);if(A(f))throw $("noslot",d,Aa(Q));}else return l(a,b,e,c,R)}var n,u,L,y,G,P,M,Q;b===f?(g=d,Q=d.$$element):(Q=x(f),g=new w(Q,d));G=e;s?y=e.$new(!0):t&&(G=e.$parent);l&&(M=m,M.$$boundTransclude=l,M.isSlotFilled=function(a){return!!l.$$slots[a]});J&&(P=ea(Q,g,M,J,y,e,s));s&&(da.$$addScopeInfo(Q,y,!0,!(v&&(v===s||v===s.$$originalDirective))),da.$$addScopeClass(Q,!0),y.$$isolateBindings=s.$$isolateBindings,u=Da(e,g,y,y.$$isolateBindings,s),u.removeWatches&&y.$on("$destroy",u.removeWatches));for(n in P){u=J[n];L=P[n];var Hg=u.$$bindings.bindToController;L.instance=L();Q.data("$"+u.name+"Controller",L.instance);L.bindingInfo=Da(G,g,L.instance,Hg,u)}r(J,function(a,b){var c=a.require;a.bindToController&&!H(c)&&D(c)&&S(P[b].instance,X(b,c,Q,P))});r(P,function(a){var b=a.instance;if(B(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(B(b.$onInit))try{b.$onInit()}catch(e){c(e)}B(b.$doCheck)&&(G.$watch(function(){b.$doCheck()}),b.$doCheck());B(b.$onDestroy)&&G.$on("$destroy",function(){b.$onDestroy()})});n=0;for(u=h.length;n<u;n++)L=h[n],Ca(L,L.isolateScope?y:e,Q,g,L.require&&X(L.directiveName,L.require,Q,P),M);var R=e;s&&(s.template||null===s.templateUrl)&&(R=y);a&&a(R,f.childNodes,void 0,l);for(n=k.length-1;0<=n;n--)L=k[n],Ca(L,L.isolateScope?y:e,Q,g,L.require&&X(L.directiveName,L.require,Q,P),M);r(P,function(a){a=a.instance;B(a.$postLink)&&a.$postLink()})}l=l||{};for(var n=-Number.MAX_VALUE,t=l.newScopeDirective,J=l.controllerDirectives,s=l.newIsolateScopeDirective,v=l.templateDirective,L=l.nonTlbTranscludeDirective,G=!1,P=!1,N=l.hasElementTranscludeDirective,y=d.$$element=x(b),u,Q,M,R=e,q,ma=!1,Jb=!1,O,sa=0,C=a.length;sa<C;sa++){u=a[sa];var E=u.$$start,jb=u.$$end;E&&(y=U(b,E,jb));M=void 0;if(n>u.priority)break;if(O=u.scope)u.templateUrl||(D(O)?(ba("new/isolated scope",s||t,u,y),s=u):ba("new/isolated scope",s,u,y)),t=t||u;Q=u.name;if(!ma&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(O=sa+1;ma=a[O++];)if(ma.transclude&&!ma.$$tlb||ma.replace&&(ma.templateUrl||ma.template)){Jb=!0;break}ma=!0}!u.templateUrl&&u.controller&&(J=J||T(),ba("'"+Q+"' controller",J[Q],u,y),J[Q]=u);if(O=u.transclude)if(G=!0,u.$$tlb||(ba("transclusion",L,u,y),L=u),"element"===O)N=!0,n=u.priority,M=y,y=d.$$element=x(da.$$createComment(Q,d[Q])),b=y[0],oa(f,Ha.call(M,0),b),R=Z(Jb,M,e,n,g&&g.name,{nonTlbTranscludeDirective:L});else{var ka=T();if(D(O)){M=z.document.createDocumentFragment();var Xa=T(),F=T();r(O,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Xa[a]=b;ka[b]=null;F[b]=c});r(y.contents(),function(a){var b=Xa[xa(ua(a))];b?(F[b]=!0,ka[b]=ka[b]||z.document.createDocumentFragment(),ka[b].appendChild(a)):M.appendChild(a)});r(F,function(a,b){if(!a)throw $("reqslot",b);});for(var K in ka)ka[K]&&(R=x(ka[K].childNodes),ka[K]=Z(Jb,R,e));M=x(M.childNodes)}else M=x(qc(b)).contents();y.empty();R=Z(Jb,M,e,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope});R.$$slots=ka}if(u.template)if(P=!0,ba("template",v,u,y),v=u,O=B(u.template)?u.template(y,d):u.template,O=Na(O),u.replace){g=u;M=nc.test(O)?td(ja(u.templateNamespace,V(O))):[];b=M[0];if(1!==M.length||1!==b.nodeType)throw $("tplrt",Q,"");oa(f,y,b);C={$attr:{}};O=tc(b,[],C);var Ig=a.splice(sa+1,a.length-(sa+1));(s||t)&&fa(O,s,t);a=a.concat(O).concat(Ig);ga(d,C);C=a.length}else y.html(O);if(u.templateUrl)P=!0,ba("template",v,u,y),v=u,u.replace&&(g=u),p=ha(a.splice(sa,a.length-sa),y,d,f,G&&R,h,k,{controllerDirectives:J,newScopeDirective:t!==u&&t,newIsolateScopeDirective:s,templateDirective:v,nonTlbTranscludeDirective:L}),C=a.length;else if(u.compile)try{q=u.compile(y,d,R);var Y=u.$$originalDirective||u;B(q)?m(null,Va(Y,q),E,jb):q&&m(Va(Y,q.pre),Va(Y,q.post),E,jb)}catch(ca){c(ca,Aa(y))}u.terminal&&(p.terminal=!0,n=Math.max(n,u.priority))}p.scope=t&&!0===t.scope;p.transcludeOnThisElement=G;p.templateOnThisElement=P;p.transclude=R;l.hasElementTranscludeDirective=N;return p}function X(a,b,c,d){var e;if(C(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e="^^"===g&&c[0]&&9===c[0].nodeType?null:g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw $("ctreq",b,a);}else if(H(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=X(a,b[g],c,d);else D(b)&&(e={},r(b,function(b,f){e[f]=X(a,b,c,d)}));return e||null}function ea(a,b,c,d,e,f,g){var h=T(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;"@"===p&&(p=b[l.name]);m=M(p,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}function fa(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=bc(a[d],{$$isolateScope:b,$$newScope:c})}function Y(b,c,e,g,h,k,l){if(c===h)return null;var m=null;if(f.hasOwnProperty(c)){h=a.get(c+"Directive");for(var p=0,n=h.length;p<n;p++)if(c=h[p],(A(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){k&&(c=bc(c,{$$start:k,$$end:l}));if(!c.$$bindings){var I=m=c,t=c.name,u={isolateScope:null,bindToController:null};D(I.scope)&&(!0===I.bindToController?(u.bindToController=d(I.scope,t,!0),u.isolateScope={}):u.isolateScope=d(I.scope,t,!1));D(I.bindToController)&&(u.bindToController=d(I.bindToController,t,!0));if(u.bindToController&&!I.controller)throw $("noctrl",t);m=m.$$bindings=u;D(m.isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c);m=c}}return m}function ca(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function ga(a,b){var c=b.$attr,d=a.$attr;r(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ha(a,b,d,f,g,h,k,l){var m=[],p,n,t=b[0],u=a.shift(),J=bc(u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),s=B(u.templateUrl)?u.templateUrl(b,d):u.templateUrl,L=u.templateNamespace;b.empty();e(s).then(function(c){var e,I;c=Na(c);if(u.replace){c=nc.test(c)?td(ja(L,V(c))):[];e=c[0];if(1!==c.length||1!==e.nodeType)throw $("tplrt",u.name,s);c={$attr:{}};oa(f,b,e);var v=tc(e,[],c);D(u.scope)&&fa(v,!0);a=v.concat(a);ga(d,c)}else e=t,b.html(c);a.unshift(J);p=aa(a,e,d,g,b,u,h,k,l);r(f,function(a,c){a===e&&(f[c]=b[0])});for(n=Xa(b[0].childNodes,g);m.length;){c=m.shift();I=m.shift();var y=m.shift(),P=m.shift(),v=b[0];if(!c.$$destroyed){if(I!==t){var G=I.className;l.hasElementTranscludeDirective&&u.replace||(v=qc(e));oa(y,x(I),v);sa(x(v),G)}I=p.transcludeOnThisElement?ka(c,p.transclude,P):P;p(n,c,v,f,I)}}m=null}).catch(function(a){dc(a)&&c(a)});return function(a,b,c,d,e){a=e;b.$$destroyed||(m?m.push(b,c,d,a):(p.transcludeOnThisElement&&(a=ka(b,p.transclude,e)),p(n,b,c,d,a)))}}function ia(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ba(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw $("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Aa(d));}function na(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&da.$$addBindingClass(a);return function(a,c){var e=c.parent();b||da.$$addBindingClass(e);da.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ja(a,b){a=K(a||"html");switch(a){case"svg":case"math":var c=z.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function qa(a,b){if("srcdoc"===b)return u.HTML;if("src"===b||"ngSrc"===b)return-1===["img","video","audio","source","track"].indexOf(a)?u.RESOURCE_URL:u.MEDIA_URL;if("xlinkHref"===b)return"image"===a?u.MEDIA_URL:"a"===a?u.URL:u.RESOURCE_URL;if("form"===a&&"action"===b||"base"===a&&"href"===b||"link"===a&&"href"===b)return u.RESOURCE_URL;if("a"===a&&("href"===b||"ngHref"===b))return u.URL}function ya(a,b){var c=b.toLowerCase();return v[a+"|"+c]||v["*|"+c]}function za(a){return ma(u.valueOf(a),"ng-prop-srcset")}function Ea(a,b,c,d){if(m.test(d))throw $("nodomevents");a=ua(a);var e=ya(a,d),f=Ta;"srcset"!==d||"img"!==a&&"source"!==a?e&&(f=u.getTrusted.bind(u,e)):f=za;b.push({priority:100,compile:function(a,b){var e=p(b[c]),g=p(b[c],function(a){return u.valueOf(a)});return{pre:function(a,b){function c(){var g=e(a);b[0][d]=f(g)}c();a.$watch(g,c)}}}})}function Ia(a,c,d,e,f){var g=ua(a),k=qa(g,e),l=h[e]||f,p=b(d,!f,k,l);if(p){if("multiple"===e&&"select"===g)throw $("selmulti",Aa(a));if(m.test(e))throw $("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=T());var g=f[e];g!==d&&(p=g&&b(g,!0,k,l),d=g);p&&(f[e]=p(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(p,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function oa(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=z.document.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);x.hasData(d)&&(x.data(c,x.data(d)),x(d).off("$destroy"));x.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function Ba(a,b){return S(function(){return a.apply(null,arguments)},a,b)}function Ca(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,Aa(d))}}function ra(a,b){if(s)throw $("missingattr",a,b);}function Da(a,c,d,e,f){function g(b,c,e){B(d.$onChanges)&&!ec(c,e)&&(Ua||(a.$$postDigest(q),Ua=[]),m||(m={},Ua.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Kb(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;r(e,function(e,h){var m=e.attrName,n=e.optional,I,t,u,s;switch(e.mode){case"@":n||ta.call(c,m)||(ra(m,f.name),d[h]=c[m]=void 0);n=c.$observe(m,function(a){if(C(a)||Ga(a))g(h,a,d[h]),d[h]=a});c.$$observers[m].$$scope=a;I=c[m];C(I)?d[h]=b(I)(a):Ga(I)&&(d[h]=I);l[h]=new Kb(uc,d[h]);k.push(n);break;case"=":if(!ta.call(c,m)){if(n)break;ra(m,f.name);c[m]=void 0}if(n&&!c[m])break;t=p(c[m]);s=t.literal?va:ec;u=t.assign||function(){I=d[h]=t(a);throw $("nonassign",c[m],m,f.name);};I=d[h]=t(a);n=function(b){s(b,d[h])||(s(b,I)?u(a,b=d[h]):d[h]=b);return I=b};n.$stateful=!0;n=e.collection?a.$watchCollection(c[m],n):a.$watch(p(c[m],n),null,t.literal);k.push(n);break;case"<":if(!ta.call(c,m)){if(n)break;ra(m,f.name);c[m]=void 0}if(n&&!c[m])break;t=p(c[m]);var v=t.literal,L=d[h]=t(a);l[h]=new Kb(uc,d[h]);n=a[e.collection?"$watchCollection":"$watch"](t,function(a,b){if(b===a){if(b===L||v&&va(b,L))return;b=L}g(h,a,b);d[h]=a});k.push(n);break;case"&":n||ta.call(c,m)||ra(m,f.name);t=c.hasOwnProperty(m)?p(c[m]):E;if(t===E&&n)break;d[h]=function(b){return t(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var Ma=/^\w/,Fa=z.document.createElement("div"),Oa=t,Qa=N,Ja=G,Ua;w.prototype={$normalize:xa,$addClass:function(a){a&&0<a.length&&R.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&R.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=ud(a,b);c&&c.length&&R.addClass(this.$$element,c);(c=ud(b,a))&&c.length&&R.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=nd(this.$$element[0],a),g=vd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Xc(a,"-"));"img"===ua(this.$$element)&&"srcset"===a&&(this[a]=b=ma(b,"$set('srcset', value)"));!1!==d&&(null===b||A(b)?this.$$element.removeAttr(e):Ma.test(e)?f&&!1===b?this.$$element.removeAttr(e):this.$$element.attr(e,b):O(this.$$element[0],e,b));(a=this.$$observers)&&r(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=T()),e=d[a]||(d[a]=[]);e.push(b);L.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||A(c[a])||b(c[a])});return function(){cb(e,b)}}};var Ka=b.startSymbol(),La=b.endSymbol(),Na="{{"===Ka&&"}}"===La?Ta:function(a){return a.replace(/\{\{/g,Ka).replace(/}}/g,La)},Ra=/^ng(Attr|Prop|On)([A-Z].*)$/,Sa=/^(.+)Start$/;da.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:E;da.$$addBindingClass=n?function(a){sa(a,"ng-binding")}:E;da.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:E;da.$$addScopeClass=n?function(a,b){sa(a,b?"ng-isolate-scope":"ng-scope")}:E;da.$$createComment=function(a,b){var c="";n&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return z.document.createComment(c)};return da}]}function Kb(a,b){this.previousValue=a;this.currentValue=b}function xa(a){return a.replace(rd,"").replace(Jg,function(a,d,c){return c?d.toUpperCase():d})}function ud(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],k=0;k<e.length;k++)if(g===e[k])continue a;d+=(0<d.length?" ":"")+g}return d}function td(a){a=x(a);var b=a.length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Pa&&""===d.nodeValue.trim())&&Kg.call(a,b,1)}return a}
function Gg(a,b){if(b&&C(b))return b;if(C(a)){var d=wd.exec(a);if(d)return d[3]}}function Kf(){var a={};this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,d){Ja(b,"controller");D(b)?S(a,b):a[b]=d};this.$get=["$injector",function(b){function d(a,b,d,g){if(!a||!D(a.$scope))throw F("$controller")("noscp",g,b);a.$scope[b]=d}return function(c,e,f,g){var k,h,l;f=!0===f;g&&C(g)&&(l=g);if(C(c)){g=c.match(wd);if(!g)throw xd("ctrlfmt",c);h=g[1];l=l||g[3];c=a.hasOwnProperty(h)?a[h]:Le(e.$scope,h,!0);if(!c)throw xd("ctrlreg",h);tb(c,h,!0)}if(f)return f=(H(c)?c[c.length-1]:c).prototype,k=Object.create(f||null),l&&d(e,l,k,h||c.name),S(function(){var a=b.invoke(c,k,e,h);a!==k&&(D(a)||B(a))&&(k=a,l&&d(e,l,k,h||c.name));return k},{instance:k,identifier:l});k=b.instantiate(c,e,h);l&&d(e,l,k,h||c.name);return k}}]}function Lf(){this.$get=["$window",function(a){return x(a.document)}]}function Mf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function Nf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function vc(a){return D(a)?ha(a)?a.toISOString():eb(a):a}function Tf(){this.$get=function(){return function(a){if(!a)return"";var b=[];Qc(a,function(a,c){null===a||A(a)||B(a)||(H(a)?r(a,function(a){b.push(ba(c)+"="+ba(vc(a)))}):b.push(ba(c)+"="+ba(vc(a))))});return b.join("&")}}}function Uf(){this.$get=function(){return function(a){function b(a,e,f){H(a)?r(a,function(a,c){b(a,e+"["+(D(a)?c:"")+"]")}):D(a)&&!ha(a)?Qc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):(B(a)&&(a=a()),d.push(ba(e)+"="+(null==a?"":ba(vc(a)))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function wc(a,b){if(C(a)){var d=a.replace(Lg,"").trim();if(d){var c=b("Content-Type"),c=c&&0===c.indexOf(yd),e;(e=c)||(e=(e=d.match(Mg))&&Ng[e[0]].test(d));if(e)try{a=Tc(d)}catch(f){if(!c)return a;throw Lb("baddata",a,f);}}}return a}
function zd(a){var b=T(),d;C(a)?r(a.split("\n"),function(a){d=a.indexOf(":");var e=K(V(a.substr(0,d)));a=V(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):D(a)&&r(a,function(a,d){var f=K(d),g=V(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function Ad(a){var b;return function(d){b||(b=zd(a));return d?(d=b[K(d)],void 0===d&&(d=null),d):b}}function Bd(a,b,d,c){if(B(c))return c(a,b,d);r(c,function(c){a=c(a,b,d)});return a}function Sf(){var a=this.defaults={transformResponse:[wc],transformRequest:[function(a){return D(a)&&"[object File]"!==la.call(a)&&"[object Blob]"!==la.call(a)&&"[object FormData]"!==la.call(a)?eb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ja(xc),put:ja(xc),patch:ja(xc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return w(a)?(b=!!a,this):b};var d=this.interceptors=[],c=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(a){this.xsrfTrustedOrigins=a}});this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(e,f,g,k,h,l,m,p){function n(b){function c(a,b){for(var d=0,e=b.length;d<e;){var f=b[d++],g=b[d++];a=a.then(f,g)}b.length=0;return a}function d(a,b){var c,e={};r(a,function(a,d){B(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a});return e}function f(a){var b=S({},a);b.data=Bd(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:l.reject(b)}if(!D(b))throw F("$http")("badreq",b);if(!C(p.valueOf(b.url)))throw F("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=function(b){var c=a.headers,e=S({},b.headers),f,g,h,c=S({},c.common,c[K(b.method)]);a:for(f in c){g=K(f);for(h in e)if(K(h)===g)continue a;e[f]=c[f]}return d(e,ja(b))}(b);g.method=vb(g.method);g.paramSerializer=C(g.paramSerializer)?m.get(g.paramSerializer):g.paramSerializer;e.$$incOutstandingRequestCount("$http");var h=[],k=[];b=l.resolve(g);r(v,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&k.push(a.response,a.responseError)});b=c(b,h);b=b.then(function(b){var c=b.headers,d=Bd(b.data,Ad(c),void 0,b.transformRequest);A(d)&&r(c,function(a,b){"content-type"===K(b)&&delete c[b]});A(b.withCredentials)&&!A(a.withCredentials)&&(b.withCredentials=a.withCredentials);return s(b,d).then(f,f)});b=c(b,k);return b=b.finally(function(){e.$$completeOutstandingRequest(E,"$http")})}function s(c,d){function e(a){if(a){var c={};r(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function k(a,c,d,e,f){function g(){m(c,a,d,e,f)}R&&(200<=a&&300>a?R.put(O,[a,c,zd(d),e,f]):R.remove(O));b?h.$applyAsync(g):(g(),h.$$phase||h.$apply())}function m(a,b,d,e,f){b=-1<=b?b:0;(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:Ad(d),config:c,statusText:e,xhrStatus:f})}function s(a){m(a.data,a.status,ja(a.headers()),a.statusText,a.xhrStatus)}function v(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var L=l.defer(),u=L.promise,R,q,ma=c.headers,x="jsonp"===K(c.method),O=c.url;x?O=p.getTrustedResourceUrl(O):C(O)||(O=p.valueOf(O));O=G(O,c.paramSerializer(c.params));x&&(O=t(O,c.jsonpCallbackParam));n.pendingRequests.push(c);u.then(v,v);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(R=D(c.cache)?c.cache:D(a.cache)?a.cache:N);R&&(q=R.get(O),w(q)?q&&B(q.then)?q.then(s,s):H(q)?m(q[1],q[0],ja(q[2]),q[3],q[4]):m(q,200,{},"OK","complete"):R.put(O,u));A(q)&&((q=kc(c.url)?g()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(ma[c.xsrfHeaderName||a.xsrfHeaderName]=q),f(c.method,O,d,k,ma,c.timeout,c.withCredentials,c.responseType,e(c.eventHandlers),e(c.uploadEventHandlers)));return u}function G(a,b){0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}function t(a,b){var c=a.split("?");if(2<c.length)throw Lb("badjsonp",a);c=hc(c[1]);r(c,function(c,d){if("JSON_CALLBACK"===c)throw Lb("badjsonp",a);if(d===b)throw Lb("badjsonp",b,a);});return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var N=k("$http");a.paramSerializer=C(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var v=[];r(d,function(a){v.unshift(C(a)?m.get(a):m.invoke(a))});var kc=Og(c);n.pendingRequests=[];(function(a){r(arguments,function(a){n[a]=function(b,c){return n(S({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){n[a]=function(b,c,d){return n(S({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");n.defaults=a;return n}]}function Wf(){this.$get=function(){return function(){return new z.XMLHttpRequest}}}function Vf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return Pg(a,c,a.defer,b,d[0])}]}function Pg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m);f.removeEventListener("error",m);e.body.removeChild(f);f=null;var g=-1,s="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),s=a.type,g="error"===a.type?404:200);d&&d(g,s)};f.addEventListener("load",m);f.addEventListener("error",m);e.body.appendChild(f);return m}return function(e,k,h,l,m,p,n,s,G,t){function N(a){J="timeout"===a;pa&&pa();y&&y.abort()}function v(a,b,c,e,f,g){w(P)&&d.cancel(P);pa=y=null;a(b,c,e,f,g)}k=k||a.url();if("jsonp"===K(e))var q=c.createCallback(k),pa=f(k,q,function(a,b){var d=200===a&&c.getResponse(q);v(l,a,d,"",b,"complete");c.removeCallback(q)});else{var y=b(e,k),J=!1;y.open(e,k,!0);r(m,function(a,b){w(a)&&y.setRequestHeader(b,a)});y.onload=function(){var a=y.statusText||"",b="response"in y?y.response:y.responseText,c=1223===y.status?204:y.status;0===c&&(c=b?200:"file"===ga(k).protocol?404:0);v(l,c,b,y.getAllResponseHeaders(),a,"complete")};y.onerror=function(){v(l,-1,null,null,"","error")};y.ontimeout=function(){v(l,-1,null,null,"","timeout")};y.onabort=function(){v(l,-1,null,null,"",J?"timeout":"abort")};r(G,function(a,b){y.addEventListener(b,a)});r(t,function(a,b){y.upload.addEventListener(b,a)});n&&(y.withCredentials=!0);if(s)try{y.responseType=s}catch(I){if("json"!==s)throw I;}y.send(A(h)?null:h)}if(0<p)var P=d(function(){N("timeout")},p);else p&&B(p.then)&&p.then(function(){N(w(p.$$timeoutId)?"timeout":"abort")})}}function Pf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(p,a).replace(n,b)}function k(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function h(f,h,n,p){function v(a){try{return a=n&&!r?e.getTrusted(n,a):e.valueOf(a),p&&!w(a)?a:jc(a)}catch(b){c(Ma.interr(f,b))}}var r=n===e.URL||n===e.MEDIA_URL;if(!f.length||-1===f.indexOf(a)){if(h)return;h=g(f);r&&(h=e.getTrusted(n,h));h=ia(h);h.exp=f;h.expressions=[];h.$$watchDelegate=k;return h}p=!!p;for(var q,y,J=0,I=[],P,Q=f.length,M=[],L=[],u;J<Q;)if(-1!==(q=f.indexOf(a,J))&&-1!==(y=f.indexOf(b,q+l)))J!==q&&M.push(g(f.substring(J,q))),J=f.substring(q+l,y),I.push(J),J=y+m,L.push(M.length),M.push("");else{J!==Q&&M.push(g(f.substring(J)));break}u=1===M.length&&1===L.length;var R=r&&u?void 0:v;P=I.map(function(a){return d(a,R)});if(!h||I.length){var x=function(a){for(var b=0,c=I.length;b<c;b++){if(p&&A(a[b]))return;M[L[b]]=a[b]}if(r)return e.getTrusted(n,u?M[0]:M.join(""));n&&1<M.length&&Ma.throwNoconcat(f);return M.join("")};return S(function(a){var b=0,d=I.length,e=Array(d);try{for(;b<d;b++)e[b]=P[b](a);return x(e)}catch(g){c(Ma.interr(f,g))}},{exp:f,expressions:I,$$watchDelegate:function(a,b){var c;return a.$watchGroup(P,function(d,e){var f=x(d);b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,p=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function Qf(){this.$get=["$$intervalFactory","$window",function(a,b){var d={},c=function(a){b.clearInterval(a);delete d[a]},e=a(function(a,c,e){a=b.setInterval(a,c);d[a]=e;return a},c);e.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$intervalId"))throw Qg("badprom");if(!d.hasOwnProperty(a.$$intervalId))return!1;a=a.$$intervalId;var b=d[a],e=b.promise;e.$$state&&(e.$$state.pur=!0);b.reject("canceled");c(a);return!0};return e}]}function Rf(){this.$get=["$browser","$q","$$q","$rootScope",function(a,b,d,c){return function(e,f){return function(g,k,h,l){function m(){p?g.apply(null,n):g(s)}var p=4<arguments.length,n=p?Ha.call(arguments,4):[],s=0,G=w(l)&&!l,t=(G?d:b).defer(),r=t.promise;h=w(h)?h:0;r.$$intervalId=e(function(){G?a.defer(m):c.$evalAsync(m);t.notify(s++);0<h&&s>=h&&(t.resolve(s),f(r.$$intervalId));G||c.$apply()},k,t,G);return r}}}]}function Cd(a,b){var d=ga(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=fa(d.port)||Rg[d.protocol]||null}function Dd(a,b,d){if(Sg.test(a))throw kb("badpath",a);var c="/"!==a.charAt(0);c&&(a="/"+a);a=ga(a);for(var c=(c&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname).split("/"),e=c.length;e--;)c[e]=decodeURIComponent(c[e]),d&&(c[e]=c[e].replace(/\//g,"%2F"));d=c.join("/");b.$$path=d;b.$$search=hc(a.search);b.$$hash=decodeURIComponent(a.hash);b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function yc(a,b){return a.slice(0,b.length)===b}function ya(a,b){if(yc(b,a))return b.substr(a.length)}function Da(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function zc(a,b,d){this.$$html5=!0;d=d||"";Cd(a,this);this.$$parse=function(a){var d=ya(b,a);if(!C(d))throw kb("ipthprfx",a,b);Dd(d,this,!0);this.$$path||(this.$$path="/");this.$$compose()};this.$$normalizeUrl=function(a){return b+a.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;w(f=ya(a,c))?(g=f,g=d&&w(f=ya(d,f))?b+(ya("/",f)||f):a+g):w(f=ya(b,c))?g=b+f:b===c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function Ac(a,b,d){Cd(a,this);this.$$parse=function(c){var e=ya(a,c)||ya(b,c),f;A(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",A(e)&&(a=c,this.replace())):(f=ya(d,e),A(f)&&(f=e));Dd(f,this,!1);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;yc(f,e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$normalizeUrl=function(b){return a+(b?d+b:"")};this.$$parseLinkUrl=function(b,d){return Da(a)===Da(b)?(this.$$parse(b),!0):!1}}function Ed(a,b,d){this.$$html5=!0;Ac.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a===Da(c)?f=c:(g=ya(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$normalizeUrl=function(b){return a+d+b}}function Mb(a){return function(){return this[a]}}function Fd(a,b){return function(d){if(A(d))return this[a];this[a]=b(d);this.$$compose();return this}}function Yf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return w(b)?(a=b,this):a};this.html5Mode=function(a){if(Ga(a))return b.enabled=a,this;if(D(a)){Ga(a.enabled)&&(b.enabled=a.enabled);Ga(a.requireBase)&&(b.requireBase=a.requireBase);if(Ga(a.rewriteLinks)||C(a.rewriteLinks))b.rewriteLinks=a.rewriteLinks;return this}return b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function k(a,b){return a===b||ga(a).href===ga(b).href}function h(a,b,d){var e=m.url(),f=m.$$state;try{c.url(a,b,d),m.$$state=c.state()}catch(g){throw m.url(e),m.$$state=f,g;}}function l(a,b){d.$broadcast("$locationChangeSuccess",m.absUrl(),a,m.$$state,b)}var m,p;p=c.baseHref();var n=c.url(),s;if(b.enabled){if(!p&&b.requireBase)throw kb("nobase");s=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(p||"/");p=e.history?zc:Ed}else s=Da(n),p=Ac;var r=s.substr(0,Da(s).lastIndexOf("/")+1);m=new p(s,r,"#"+a);m.$$parseLinkUrl(n,n);m.$$state=c.state();var t=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var g=x(a.target);"a"!==ua(g[0]);)if(g[0]===f[0]||!(g=g.parent())[0])return;if(!C(e)||!A(g.attr(e))){var e=g.prop("href"),h=g.attr("href")||g.attr("xlink:href");D(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=ga(e.animVal).href);t.test(e)||!e||g.attr("target")||a.isDefaultPrevented()||!m.$$parseLinkUrl(e,h)||(a.preventDefault(),m.absUrl()!==c.url()&&d.$apply())}}});m.absUrl()!==n&&c.url(m.absUrl(),!0);var N=!0;c.onUrlChange(function(a,b){yc(a,r)?(d.$evalAsync(function(){var c=m.absUrl(),e=m.$$state,f;m.$$parse(a);m.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;m.absUrl()===a&&(f?(m.$$parse(c),m.$$state=e,h(c,!1,e)):(N=!1,l(c,e)))}),d.$$phase||d.$digest()):g.location.href=a});d.$watch(function(){if(N||m.$$urlUpdatedByLocation){m.$$urlUpdatedByLocation=!1;var a=c.url(),b=m.absUrl(),f=c.state(),g=m.$$replace,n=!k(a,b)||m.$$html5&&e.history&&f!==m.$$state;if(N||n)N=!1,d.$evalAsync(function(){var b=m.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,m.$$state,f).defaultPrevented;m.absUrl()===b&&(c?(m.$$parse(a),m.$$state=f):(n&&h(b,g,f===m.$$state?null:m.$$state),l(a,f)))})}m.$$replace=!1});return m}]}function Zf(){var a=!0,b=this;this.debugEnabled=function(b){return w(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){dc(a)&&(a.stack&&f?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||E;return function(){var a=[];r(arguments,function(b){a.push(c(b))});return Function.prototype.apply.call(e,b,a)}}var f=wa||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Tg(a){return a+""}function Ug(a,b){return"undefined"!==typeof a?a:b}function Gd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function Vg(a,b){switch(a.type){case q.MemberExpression:if(a.computed)return!1;break;case q.UnaryExpression:return 1;case q.BinaryExpression:return"+"!==a.operator?1:!1;case q.CallExpression:return!1}return void 0===b?Hd:b}function Z(a,b,d){var c,e,f=a.isPure=Vg(a,d);switch(a.type){case q.Program:c=!0;r(a.body,function(a){Z(a.expression,b,f);c=c&&a.expression.constant});a.constant=c;break;case q.Literal:a.constant=!0;a.toWatch=[];break;case q.UnaryExpression:Z(a.argument,b,f);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case q.BinaryExpression:Z(a.left,b,f);Z(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case q.LogicalExpression:Z(a.left,b,f);Z(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case q.ConditionalExpression:Z(a.test,b,f);Z(a.alternate,b,f);Z(a.consequent,b,f);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case q.Identifier:a.constant=!1;a.toWatch=[a];break;case q.MemberExpression:Z(a.object,b,f);a.computed&&Z(a.property,b,f);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=a.constant?[]:[a];break;case q.CallExpression:c=d=a.filter?!b(a.callee.name).$stateful:!1;e=[];r(a.arguments,function(a){Z(a,b,f);c=c&&a.constant;e.push.apply(e,a.toWatch)});a.constant=c;a.toWatch=d?e:[a];break;case q.AssignmentExpression:Z(a.left,b,f);Z(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case q.ArrayExpression:c=!0;e=[];r(a.elements,function(a){Z(a,b,f);c=c&&a.constant;e.push.apply(e,a.toWatch)});a.constant=c;a.toWatch=e;break;case q.ObjectExpression:c=!0;e=[];r(a.properties,function(a){Z(a.value,b,f);c=c&&a.value.constant;e.push.apply(e,a.value.toWatch);a.computed&&(Z(a.key,b,!1),c=c&&a.key.constant,e.push.apply(e,a.key.toWatch))});a.constant=c;a.toWatch=e;break;case q.ThisExpression:a.constant=!1;a.toWatch=[];break;case q.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Id(a){if(1===a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Jd(a){return a.type===q.Identifier||a.type===q.MemberExpression}function Kd(a){if(1===a.body.length&&Jd(a.body[0].expression))return{type:q.AssignmentExpression,left:a.body[0].expression,right:{type:q.NGValueParameter},operator:"="}}function Ld(a){this.$filter=a}function Md(a){this.$filter=a}function Nb(a,b,d){this.ast=new q(a,d);this.astCompiler=d.csp?new Md(b):new Ld(b)}function Bc(a){return B(a.valueOf)?a.valueOf():Wg.call(a)}function $f(){var a=T(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=function(a,c){b[a]=c};this.setIdentifierFns=function(a,b){d=a;c=b;return this};this.$get=["$filter",function(e){function f(b,c){var d,f;switch(typeof b){case"string":return f=b=b.trim(),d=a[f],d||(d=new Ob(G),d=(new Nb(d,e,G)).parse(b),a[f]=p(d)),s(d,c);case"function":return s(b,c);default:return s(E,c)}}function g(a,b,c){return null==a||null==b?a===b:"object"!==typeof a||(a=Bc(a),"object"!==typeof a||c)?a===b||a!==a&&b!==b:!1}function k(a,b,c,d,e){var f=d.inputs,h;if(1===f.length){var k=g,f=f[0];return a.$watch(function(a){var b=f(a);g(b,k,f.isPure)||(h=d(a,void 0,void 0,[b]),k=b&&Bc(b));return h},b,c,e)}for(var l=[],m=[],n=0,p=f.length;n<p;n++)l[n]=g,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var k=f[c](a);if(b||(b=!g(k,l[c],f[c].isPure)))m[c]=k,l[c]=k&&Bc(k)}b&&(h=d(a,void 0,void 0,m));return h},b,c,e)}function h(a,b,c,d,e){function f(){h(m)&&k()}function g(a,b,c,d){m=u&&d?d[0]:n(a,b,c,d);h(m)&&a.$$postDigest(f);return s(m)}var h=d.literal?l:w,k,m,n=d.$$intercepted||d,s=d.$$interceptor||Ta,u=d.inputs&&!n.inputs;g.literal=d.literal;g.constant=d.constant;g.inputs=d.inputs;p(g);return k=a.$watch(g,b,c,e)}function l(a){var b=!0;r(a,function(a){w(a)||(b=!1)});return b}function m(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function p(a){a.constant?a.$$watchDelegate=m:a.oneTime?a.$$watchDelegate=h:a.inputs&&(a.$$watchDelegate=k);return a}function n(a,b){function c(d){return b(a(d))}c.$stateful=a.$stateful||b.$stateful;c.$$pure=a.$$pure&&b.$$pure;return c}function s(a,b){if(!b)return a;a.$$interceptor&&(b=n(a.$$interceptor,b),a=a.$$intercepted);var c=!1,d=function(d,e,f,g){d=c&&g?g[0]:a(d,e,f,g);return b(d)};d.$$intercepted=a;d.$$interceptor=b;d.literal=a.literal;d.oneTime=a.oneTime;d.constant=a.constant;b.$stateful||(c=!a.inputs,d.inputs=a.inputs?a.inputs:[a],b.$$pure||(d.inputs=d.inputs.map(function(a){return a.isPure===Hd?function(b){return a(b)}:a})));return p(d)}var G={csp:Ba().noUnsafeEval,literals:Ia(b),isIdentifierStart:B(d)&&d,isIdentifierContinue:B(c)&&c};f.$$getAst=function(a){var b=new Ob(G);return(new Nb(b,e,G)).getAst(a).ast};return f}]}function bg(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Nd(function(a){b.$evalAsync(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return w(b)?(a=b,this):a}}function cg(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Nd(function(a){b.defer(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return w(b)?(a=b,this):a}}function Nd(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){h(a,b)};this.reject=function(b){m(a,b)};this.notify=function(b){n(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!w&&x.length;){var a=x.shift();if(!a.pur){a.pur=!0;var c=a.value,c="Possibly unhandled rejection: "+
("function"===typeof c?c.toString().replace(/ \{[\s\S]*$/,""):A(c)?"undefined":"string"!==typeof c?Ne(c,void 0):c);dc(a.value)?b(a.value,c):b(c)}}}function k(c){!d||c.pending||2!==c.status||c.pur||(0===w&&0===x.length&&a(g),x.push(c));!c.processScheduled&&c.pending&&(c.processScheduled=!0,++w,a(function(){var e,f,k;k=c.pending;c.processScheduled=!1;c.pending=void 0;try{for(var l=0,n=k.length;l<n;++l){c.pur=!0;f=k[l][0];e=k[l][c.status];try{B(e)?h(f,e(c.value)):1===c.status?h(f,c.value):m(f,c.value)}catch(p){m(f,p),p&&!0===p.$$passToExceptionHandler&&b(p)}}}finally{--w,d&&0===w&&a(g)}}))}function h(a,b){a.$$state.status||(b===a?p(a,v("qcycle",b)):l(a,b))}function l(a,b){function c(b){g||(g=!0,l(a,b))}function d(b){g||(g=!0,p(a,b))}function e(b){n(a,b)}var f,g=!1;try{if(D(b)||B(b))f=b.then;B(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,k(a.$$state))}catch(h){d(h)}}function m(a,b){a.$$state.status||p(a,b)}function p(a,b){a.$$state.value=b;a.$$state.status=2;k(a.$$state)}function n(c,d){var e=c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;f<g;f++){c=e[f][0];a=e[f][3];try{n(c,B(a)?a(d):d)}catch(h){b(h)}}})}function s(a){var b=new f;m(b,a);return b}function G(a,b,c){var d=null;try{B(c)&&(d=c())}catch(e){return s(e)}return d&&B(d.then)?d.then(function(){return b(a)},s):b(a)}function t(a,b,c,d){var e=new f;h(e,a);return e.then(b,c,d)}function q(a){if(!B(a))throw v("norslvr",a);var b=new f;a(function(a){h(b,a)},function(a){m(b,a)});return b}
var v=F("$q",TypeError),w=0,x=[];S(f.prototype,{then:function(a,b,c){if(A(a)&&A(b)&&A(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&k(this.$$state);return d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return G(b,y,a)},function(b){return G(b,s,a)},b)}});var y=t;q.prototype=f.prototype;q.defer=c;q.reject=s;q.when=t;q.resolve=y;q.all=function(a){var b=new f,c=0,d=H(a)?[]:{};r(a,function(a,e){c++;t(a).then(function(a){d[e]=a;--c||h(b,d)},function(a){m(b,a)})});0===c&&h(b,d);return b};q.race=function(a){var b=c();r(a,function(a){t(a).then(b.resolve,b.reject)});return b.promise};return q}function mg(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function ag(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++qb;this.$$ChildScope=null;this.$$suspended=!1}b.prototype=a;return b}var b=10,d=F("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(a){a.currentScope.$$destroyed=!0}function l(a){9===wa&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++qb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$suspended=this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function p(a){if(v.$$phase)throw d("inprog",v.$$phase);v.$$phase=a}function n(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function G(){}function t(){for(;y.length;)try{y.shift()()}catch(a){f(a)}e=null}function q(){null===e&&(e=k.defer(function(){v.$apply(t)},null,"$applyAsync"))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!==this)&&d.$on("$destroy",h);return d},$watch:function(a,b,d,e){var f=g(a);b=B(b)?b:E;if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:G,get:f,exp:e||a,eq:!!d};c=null;k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1);k.unshift(l);k.$$digestWatchIndex++;n(this,1);return function(){var a=cb(k,l);0<=a&&(n(h,-1),a<k.$$digestWatchIndex&&k.$$digestWatchIndex--);c=null}},$watchGroup:function(a,b){function c(){h=!1;try{k?(k=!1,b(e,e,g)):b(e,d,g)}finally{for(var f=0;f<a.length;f++)d[f]=e[f]}}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var d=g.$watch(a,function(a){e[b]=a;h||(h=!0,g.$evalAsync(c))});f.push(d)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!A(e)){if(D(e))if(za(e))for(f!==n&&(f=n,t=f.length=0,l++),a=e.length,t!==a&&(l++,f.length=t=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},t=0,l++);a=0;for(b in e)ta.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(t++,f[b]=g,l++));if(t>a)for(b in l++,f)ta.call(e,b)||(t--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$$pure=g(a).literal;c.$stateful=!c.$$pure;var d=this,e,f,h,k=1<b.length,l=0,m=g(a,c),n=[],p={},s=!0,t=0;return this.$watch(m,function(){s?(s=!1,b(e,e,d)):b(e,h,d);if(k)if(D(e))if(za(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ta.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,h,l,m,n,s,r=b,q,y=w.length?v:this,N=[],A,z;p("$digest");k.$$checkUrlChange();this===v&&null!==e&&(k.defer.cancel(e),t());c=null;do{s=!1;q=y;for(n=0;n<w.length;n++){try{z=w[n],l=z.fn,l(z.scope,z.locals)}catch(C){f(C)}c=null}w.length=0;a:do{if(n=!q.$$suspended&&q.$$watchers)for(n.$$digestWatchIndex=n.length;n.$$digestWatchIndex--;)try{if(a=n[n.$$digestWatchIndex])if(m=a.get,(g=m(q))!==(h=a.last)&&!(a.eq?va(g,h):Y(g)&&Y(h)))s=!0,c=a,a.last=a.eq?Ia(g,null):g,l=a.fn,l(g,h===G?g:h,q),5>r&&(A=4-r,N[A]||(N[A]=[]),N[A].push({msg:B(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:h}));else if(a===c){s=!1;break a}}catch(E){f(E)}if(!(n=!q.$$suspended&&q.$$watchersCount&&q.$$childHead||q!==y&&q.$$nextSibling))for(;q!==y&&!(n=q.$$nextSibling);)q=q.$parent}while(q=n);if((s||w.length)&&!r--)throw v.$$phase=null,d("infdig",b,N);}while(s||w.length);for(v.$$phase=null;J<x.length;)try{x[J++]()}catch(D){f(D)}x.length=J=0;k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===v&&k.$$applicationDestroyed();n(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E;this.$on=this.$watch=this.$watchGroup=function(){return E};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){v.$$phase||w.length||k.defer(function(){w.length&&v.$digest()},null,"$evalAsync");w.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){x.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{v.$$phase=null}}catch(b){f(b)}finally{try{v.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&y.push(b);a=g(a);q()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(delete c[d],s(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=db([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)break;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=db([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var v=new m,w=v.$$asyncQueue=[],x=v.$$postDigestQueue=[],y=v.$$applyAsyncQueue=[],J=0;return v}]}function Qe(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(b){return w(b)?(a=b,this):a};this.imgSrcSanitizationTrustedUrlList=function(a){return w(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f=ga(d&&d.trim()).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function Xg(a){if("self"===a)return a;if(C(a)){if(-1<a.indexOf("***"))throw Ea("iwcard",a);a=Od(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+a+"$")}if(ab(a))return new RegExp("^"+a.source+"$");throw Ea("imatcher");}function Pd(a){var b=[];w(a)&&r(a,function(a){b.push(Xg(a))});return b}function eg(){this.SCE_CONTEXTS=W;var a=["self"],b=[];this.trustedResourceUrlList=function(b){arguments.length&&(a=Pd(b));return a};Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(a){this.trustedResourceUrlList=a}});this.bannedResourceUrlList=function(a){arguments.length&&(b=Pd(a));return b};Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(a){this.bannedResourceUrlList=a}});this.$get=["$injector","$$sanitizeUri",function(d,c){function e(a,b){var c;"self"===a?(c=Cc(b,Qd))||(z.document.baseURI?c=z.document.baseURI:(Na||(Na=z.document.createElement("a"),Na.href=".",Na=Na.cloneNode(!1)),c=Na.href),c=Cc(b,c)):c=!!a.exec(b.href);return c}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var g=function(a){throw Ea("unsafe");};d.has("$sanitize")&&(g=d.get("$sanitize"));var k=f(),h={};h[W.HTML]=f(k);h[W.CSS]=f(k);h[W.MEDIA_URL]=f(k);h[W.URL]=f(h[W.MEDIA_URL]);h[W.JS]=f(k);h[W.RESOURCE_URL]=f(h[W.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ea("icontext",a,b);if(null===b||A(b)||""===b)return b;if("string"!==typeof b)throw Ea("itype",a);return new c(b)},getTrusted:function(d,f){if(null===f||A(f)||""===f)return f;var k=h.hasOwnProperty(d)?h[d]:null;if(k&&f instanceof k)return f.$$unwrapTrustedValue();B(f.$$unwrapTrustedValue)&&(f=f.$$unwrapTrustedValue());if(d===W.MEDIA_URL||d===W.URL)return c(f.toString(),d===W.MEDIA_URL);if(d===W.RESOURCE_URL){var k=ga(f.toString()),n,s,r=!1;n=0;for(s=a.length;n<s;n++)if(e(a[n],k)){r=!0;break}if(r)for(n=0,s=b.length;n<s;n++)if(e(b[n],k)){r=!1;break}if(r)return f;throw Ea("insecurl",f.toString());}if(d===W.HTML)return g(f);throw Ea("unsafe");},valueOf:function(a){return a instanceof k?a.$$unwrapTrustedValue():a}}}]}function dg(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>wa)throw Ea("iequirks");var c=ja(W);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ta);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;r(W,function(a,b){var d=K(b);c[("parse_as_"+d).replace(Dc,xb)]=function(b){return e(a,b)};c[("get_trusted_"+d).replace(Dc,xb)]=function(b){return f(a,b)};c[("trust_as_"+d).replace(Dc,xb)]=function(b){return g(a,b)}});return c}]}function fg(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=fa((/android (\d+)/.exec(K((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=g.body&&g.body.style,h=!1,l=!1;k&&(h=!!("transition"in k||"webkitTransition"in k),l=!!("animation"in k||"webkitAnimation"in k));return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&wa)return!1;if(A(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ba(),transitions:h,animations:l,android:e}}]}function gg(){this.$get=ia(function(a){return new Yg(a)})}function Yg(a){function b(){var a=e.pop();return a&&a.cb}function d(a){for(var b=e.length-1;0<=b;--b){var c=e[b];if(c.type===a)return e.splice(b,1),c.cb}}var c={},e=[],f=this.ALL_TASKS_TYPE="$$all$$",g=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(e,h){h=h||g;try{e()}finally{var l;l=h||g;c[l]&&(c[l]--,c[f]--);l=c[h];var m=c[f];if(!m||!l)for(l=m?d:b;m=l(h);)try{m()}catch(p){a.error(p)}}};this.incTaskCount=function(a){a=a||g;c[a]=(c[a]||0)+1;c[f]=(c[f]||0)+1};this.notifyWhenNoPendingTasks=function(a,b){b=b||f;c[b]?e.push({type:b,cb:a}):a()}}function ig(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++;if(!C(k)||A(d.get(k)))k=f.getTrustedResourceUrl(k);var l=c.defaults&&c.defaults.transformResponse;H(l)?l=l.filter(function(a){return a!==wc}):l===wc&&(l=null);return c.get(k,S({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return d.put(k,a.data)},function(a){h||(a=Zg("tpload",k,a.status,a.statusText),b(a));return e.reject(a)})}g.totalPendingRequests=0;return g}]}function jg(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var c=ca.element(a).data("$binding");c&&r(c,function(c){d?(new RegExp("(^|\\s)"+Od(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],k=0;k<g.length;++k){var h=a.querySelectorAll("["+g[k]+"model"+(d?"=":"*=")+'"'+b+'"]');if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function kg(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,h,l){B(f)||(l=h,h=f,f=E);var m=Ha.call(arguments,3),p=w(l)&&!l,n=(p?c:d).defer(),s=n.promise,r;r=b.defer(function(){try{n.resolve(f.apply(null,m))}catch(b){n.reject(b),e(b)}finally{delete g[s.$$timeoutId]}p||a.$apply()},h,"$timeout");s.$$timeoutId=r;g[r]=n;return s}var g={};f.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$timeoutId"))throw $g("badprom");if(!g.hasOwnProperty(a.$$timeoutId))return!1;a=a.$$timeoutId;var c=g[a],d=c.promise;d.$$state&&(d.$$state.pur=!0);c.reject("canceled");delete g[a];return b.defer.cancel(a)};return f}]}function ga(a){if(!C(a))return a;wa&&(aa.setAttribute("href",a),a=aa.href);aa.setAttribute("href",a);a=aa.hostname;!ah&&-1<a.indexOf(":")&&(a="["+a+"]");return{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:a,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}}function Og(a){var b=[Qd].concat(a.map(ga));return function(a){a=ga(a);return b.some(Cc.bind(null,a))}}function Cc(a,b){a=ga(a);b=ga(b);return a.protocol===b.protocol&&a.host===b.host}function lg(){this.$get=ia(z)}function Rd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,k,h,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},k=0;k<a.length;k++)g=a[k],h=g.indexOf("="),0<h&&(l=b(g.substring(0,h)),A(c[l])&&(c[l]=b(g.substring(h+1))));return c}}function pg(){this.$get=Rd}function fd(a){function b(d,c){if(D(d)){var e={};r(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Sd);b("date",Td);b("filter",bh);b("json",ch);b("limitTo",dh);b("lowercase",eh);b("number",Ud);b("orderBy",Vd);b("uppercase",fh)}function bh(){return function(a,b,d,c){if(!za(a)){if(null==a)return a;throw F("filter")("notarray",a);}c=c||"$";var e;switch(Ec(b)){case"function":break;case"boolean":case"null":case"number":case"string":e=!0;case"object":b=gh(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function gh(a,b,d,c){var e=D(a)&&d in a;!0===b?b=va:B(b)||(b=function(a,b){if(A(a))return!1;if(null===a||null===b)return a===b;if(D(b)||D(a)&&!cc(a))return!1;a=K(""+a);b=K(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!D(f)?Fa(f,a[d],b,d,!1):Fa(f,a,b,d,c)}}function Fa(a,b,d,c,e,f){var g=Ec(a),k=Ec(b);if("string"===k&&"!"===b.charAt(0))return!Fa(a,b.substring(1),d,c,e);if(H(a))return a.some(function(a){return Fa(a,b,d,c,e)});switch(g){case"object":var h;if(e){for(h in a)if(h.charAt&&"$"!==h.charAt(0)&&Fa(a[h],b,d,c,!0))return!0;return f?!1:Fa(a,b,d,c,!1)}if("object"===k){for(h in b)if(f=b[h],!B(f)&&!A(f)&&(g=h===c,!Fa(g?a:a[h],f,d,c,g,g)))return!1;return!0}return d(a,b);case"function":return!1;default:return d(a,b)}}function Ec(a){return null===a?"null":typeof a}function Sd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){A(c)&&(c=b.CURRENCY_SYM);A(e)&&(e=b.PATTERNS[1].maxFrac);var f=c?/\u00A4/g:/\s*\u00A4\s*/g;return null==a?a:Wd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(f,c)}}function Ud(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Wd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function hh(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Xd))&&(a=a.replace(Xd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)===Fc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===Fc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Yd&&(d=d.splice(0,Yd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function ih(a,b,d,c){var e=a.d,f=e.length-a.i;b=A(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Wd(a,b,d,c,e){if(!C(a)&&!X(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,k=Math.abs(a)+"",h="";if(f)h="\u221e";else{g=hh(k);ih(g,e,b.minFrac,b.maxFrac);h=g.d;k=g.i;e=g.e;f=[];for(g=h.reduce(function(a,b){return a&&!b},!0);0>k;)h.unshift(0),k++;0<k?f=h.splice(k,h.length):(f=h,h=[0]);k=[];for(h.length>=b.lgSize&&k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length>b.gSize;)k.unshift(h.splice(-b.gSize,h.length).join(""));h.length&&k.unshift(h.join(""));h=k.join(d);f.length&&(h+=c+f.join(""));e&&(h+="e+"+e)}return 0>a&&!g?b.negPre+h+b.negSuf:b.posPre+
h+b.posSuf}function Pb(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=Fc+a;d&&(a=a.substr(a.length-b));return e+a}function ea(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12===d&&(f=12);return Pb(f,b,c,e)}}function lb(a,b,d){return function(c,e){var f=c["get"+a](),g=vb((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Zd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function $d(a){return function(b){var d=Zd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Pb(b,a)}}function Gc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Td(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,k=b[8]?a.setUTCFullYear:a.setFullYear,h=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=fa(b[9]+b[10]),g=fa(b[9]+b[11]));k.call(a,fa(b[1]),fa(b[2])-1,fa(b[3]));f=fa(b[4]||0)-f;g=fa(b[5]||0)-g;k=fa(b[6]||0);b=Math.round(1E3*parseFloat("0."+
(b[7]||0)));h.call(a,f,g,k,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",k=[],h,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;C(c)&&(c=jh.test(c)?fa(c):b(c));X(c)&&(c=new Date(c));if(!ha(c)||!isFinite(c.getTime()))return c;for(;d;)(l=kh.exec(d))?(k=db(k,l,1),d=k.pop()):(k.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=fc(f,m),c=gc(c,f,!0));r(k,function(b){h=lh[b];g+=h?h(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function ch(){return function(a,b){A(b)&&(b=2);return eb(a,b)}}function dh(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):fa(b);if(Y(b))return a;X(a)&&(a=a.toString());if(!za(a))return a;d=!d||isNaN(d)?0:fa(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?Hc(a,d,d+b):0===d?Hc(a,b,a.length):Hc(a,Math.max(0,d+b),d)}}function Hc(a,b,d){return C(a)?a.slice(b,d):Ha.call(a,b,d)}function Vd(a){function b(b){return b.map(function(b){var c=1,d=Ta;if(B(b))d=b;else if(C(b)){if("+"===b.charAt(0)||"-"===b.charAt(0))c="-"===b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function c(a,b){var c=0,d=a.type,h=b.type;if(d===h){var h=a.value,l=b.value;"string"===d?(h=h.toLowerCase(),l=l.toLowerCase()):"object"===d&&(D(h)&&(h=a.index),D(l)&&(l=b.index));h!==l&&(c=h<l?-1:1)}else c="undefined"===d?1:"undefined"===h?-1:"null"===d?1:"null"===h?-1:d<h?-1:1;return c}return function(a,f,g,k){if(null==a)return a;if(!za(a))throw F("orderBy")("notarray",a);H(f)||(f=[f]);0===f.length&&(f=["+"]);var h=b(f),l=g?-1:1,m=B(k)?k:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:h.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="null";else if("object"===c)a:{if(B(e.valueOf)&&(e=e.valueOf(),d(e)))break a;cc(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var d=0,e=h.length;d<e;d++){var f=m(a.predicateValues[d],b.predicateValues[d]);if(f)return f*h[d].descending*l}return(m(a.tieBreaker,b.tieBreaker)||c(a.tieBreaker,b.tieBreaker))*l});return a=a.map(function(a){return a.value})}}function Ra(a){B(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ia(a)}function Qb(a,b,d,c,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=mb;this.$$element=a;this.$$animate=c;ae(this)}function ae(a){a.$$classCache={};a.$$classCache[be]=!(a.$$classCache[nb]=a.$$element.hasClass(nb))}function ce(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Xc(c,"-"):"";b(a,nb+
c,!0===d);b(a,be+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,k){A(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,k)):(this.$pending&&e(this.$pending,a,k),de(this.$pending)&&(this.$pending=void 0));Ga(g)?g?(e(this.$error,a,k),c(this.$$success,a,k)):(c(this.$error,a,k),e(this.$$success,a,k)):(e(this.$error,a,k),e(this.$$success,a,k));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=de(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null;d(this,a,g);this.$$parentForm.$setValidity(a,g,this)}}function de(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Ic(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Sa(a,b,d,c,e,f){var g=K(b[0].type);if(!e.android){var k=!1;b.on("compositionstart",function(){k=!0});b.on("compositionupdate",function(a){if(A(a.data)||""===a.data)k=!1});b.on("compositionend",function(){k=!1;l()})}var h,l=function(a){h&&(f.defer.cancel(h),h=null);if(!k){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=V(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){h||(h=f.defer(function(){h=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut drop",m)}b.on("change",l);if(ee[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!h){var b=this.validity,c=b.badInput,d=b.typeMismatch;h=f.defer(function(){h=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Rb(a,b){return function(d,c){var e,f;if(ha(d))return d;if(C(d)){'"'===d.charAt(0)&&'"'===d.charAt(d.length-
1)&&(d=d.substring(1,d.length-1));if(mh.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),e=new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0),100>f.yyyy&&e.setFullYear(f.yyyy),e}return NaN}}function ob(a,b,d,c){return function(e,f,g,k,h,l,m,p){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function s(a){return w(a)&&!ha(a)?r(a)||void 0:a}function r(a,b){var c=k.$options.getOption("timezone");v&&v!==c&&(b=Uc(b,fc(v)));var e=d(a,b);!isNaN(e)&&c&&(e=gc(e,c));return e}Jc(e,f,g,k,a);Sa(e,f,g,k,h,l);var t="time"===a||"datetimelocal"===a,q,v;k.$parsers.push(function(c){if(k.$isEmpty(c))return null;if(b.test(c))return r(c,q);k.$$parserName=a});k.$formatters.push(function(a){if(a&&!ha(a))throw pb("datefmt",a);if(n(a)){q=a;var b=k.$options.getOption("timezone");b&&(v=b,q=gc(q,b,!0));var d=c;t&&C(k.$options.getOption("timeSecondsFormat"))&&(d=c.replace("ss.sss",k.$options.getOption("timeSecondsFormat")).replace(/:$/,""));a=m("date")(a,d,b);t&&k.$options.getOption("timeStripZeroSeconds")&&(a=a.replace(/(?::00)?(?:\.000)?$/,""));return a}v=q=null;return""});if(w(g.min)||g.ngMin){var x=g.min||p(g.ngMin)(e),z=s(x);k.$validators.min=function(a){return!n(a)||A(z)||d(a)>=z};g.$observe("min",function(a){a!==x&&(z=s(a),x=a,k.$validate())})}if(w(g.max)||g.ngMax){var y=g.max||p(g.ngMax)(e),J=s(y);k.$validators.max=function(a){return!n(a)||A(J)||d(a)<=J};g.$observe("max",function(a){a!==y&&(J=s(a),y=a,k.$validate())})}}}function Jc(a,b,d,c,e){(c.$$hasNativeValidators=D(b[0].validity))&&c.$parsers.push(function(a){var d=b.prop("validity")||{};if(d.badInput||d.typeMismatch)c.$$parserName=e;else return a})}function fe(a){a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(nh.test(b))return parseFloat(b);a.$$parserName="number"});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!X(b))throw pb("numfmt",b);b=b.toString()}return b})}function na(a){w(a)&&!X(a)&&(a=parseFloat(a));return Y(a)?void 0:a}function Kc(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ge(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==b,f=(d|0)!==d;if(c||e||f){var g=c?Kc(a):0,k=e?Kc(b):0,h=f?Kc(d):0,g=Math.max(g,k,h),g=Math.pow(10,g);a*=g;b*=g;d*=g;c&&(a=Math.round(a));e&&(b=Math.round(b));f&&(d=Math.round(d))}return 0===(a-b)%d}function he(a,b,d,c,e){if(w(c)){a=a(c);if(!a.constant)throw pb("constexpr",d,c);return a(b)}return e}function Lc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){if(!a)return a;var b=a;H(a)?b=a.map(c).join(" "):D(a)?b=Object.keys(a).filter(function(b){return a[b]}).join(" "):C(a)||(b=a+"");return b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,k,h){function l(a,b){var c=[];r(a,function(a){if(0<b||p[a])p[a]=(p[a]||0)+b,p[a]===+(0<b)&&c.push(a)});return c.join(" ")}function m(a){if(a===b){var c=s,c=l(c&&c.split(" "),1);h.$addClass(c)}else c=s,c=l(c&&c.split(" "),-1),h.$removeClass(c);n=a}var p=k.data("$classCounts"),n=!0,s;p||(p=T(),k.data("$classCounts",p));"ngClass"!==a&&(e||(e=f("$index",function(a){return a&1})),g.$watch(e,m));g.$watch(f(h[a],c),function(a){if(n===b){var c=s&&s.split(" "),e=a&&a.split(" "),f=d(c,e),c=d(e,c),f=l(f,-1),c=l(c,1);h.$addClass(c);h.$removeClass(f)}s=a})}}}]}function sd(a,b,d,c,e,f){return{restrict:"A",compile:function(g,k){var h=a(k[c]);return function(a,c){c.on(e,function(c){var e=function(){h(a,{$event:c})};if(b.$$phase)if(f)a.$evalAsync(e);else try{e()}catch(g){d(g)}else a.$apply(e)})}}}}function Sb(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=h(d.name||"",!1)(a);this.$$parentForm=mb;this.$options=Tb;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=void 0;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=a;this.$$rootScope=a.$root;this.$$attr=d;this.$$element=c;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=k;this.$$exceptionHandler=b;ae(this);oh(this)}function oh(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);b===a.$modelValue||a.$modelValue!==a.$modelValue&&b!==b||a.$$setModelValue(b);return b})}function Mc(a){this.$$options=a}function ie(a,b){r(b,function(b,c){w(a[c])||(a[c]=b)})}
function Oa(a,b){a.prop("selected",b);a.attr("selected",b)}function je(a,b,d){if(a){C(a)&&(a=new RegExp("^"+a+"$"));if(!a.test)throw F("ngPattern")("noregexp",b,a,Aa(d));return a}}function Ub(a){a=fa(a);return Y(a)?-1:a}var Xb={objectMaxDepth:5,urlErrorParamsEnabled:!0},ke=/^\/(.+)\/([a-z]*)$/,ta=Object.prototype.hasOwnProperty,K=function(a){return C(a)?a.toLowerCase():a},vb=function(a){return C(a)?a.toUpperCase():a},wa,x,sb,Ha=[].slice,Kg=[].splice,ph=[].push,la=Object.prototype.toString,Rc=Object.getPrototypeOf,oa=F("ng"),ca=z.angular||(z.angular={}),lc,qb=0;wa=z.document.documentMode;var Y=Number.isNaN||function(a){return a!==a};E.$inject=[];Ta.$inject=[];var ze=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,V=function(a){return C(a)?a.trim():a},Od=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ba=function(){if(!w(Ba.rules)){var a=z.document.querySelector("[ng-csp]")||z.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ba.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ba;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ba.rules},rb=function(){if(w(rb.name_))return rb.name_;var a,b,d=Qa.length,c,e;for(b=0;b<d;++b)if(c=Qa[b],a=z.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},Be=/:/g,Qa=["ng-","data-ng-","ng:","x-ng-"],Fe=function(a){var b=a.currentScript;if(!b)return!0;if(!(b instanceof z.HTMLScriptElement||b instanceof z.SVGScriptElement))return!1;b=b.attributes;return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");c.href=b.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(z.document),Ie=/[A-Z]/g,Yc=!1,Pa=3,Pe={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};U.expando="ng339";var Ka=U.cache={},ug=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var qg=/-([a-z])/g,qh=/^-ms-/,Bb={mouseleave:"mouseout",mouseenter:"mouseover"},oc=F("jqLite"),tg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,nc=/<|&#?\w+;/,rg=/<([\w:-]+)/,sg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qa={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};qa.tbody=qa.tfoot=qa.colgroup=qa.caption=qa.thead;qa.th=qa.td;var hb={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]},Nc;for(Nc in qa){var le=qa[Nc],me=le.slice().reverse();hb[Nc]=[me.length,"<"+me.join("><")+">","</"+le.join("></")+">"]}hb.optgroup=hb.option;var zg=z.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Wa=U.prototype={ready:hd,toString:function(){var a=[];r(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?x(this[a]):x(this[this.length+a])},length:0,push:ph,sort:[].sort,splice:[].splice},Hb={};r("multiple selected checked disabled readOnly required open".split(" "),function(a){Hb[K(a)]=a});var od={};r("input select option textarea button form details".split(" "),function(a){od[a]=!0});var vd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:sc,removeData:rc,hasData:function(a){for(var b in Ka[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)rc(a[b]),kd(a[b])}},function(a,b){U[b]=a});r({data:sc,inheritedData:Fb,scope:function(a){return x.data(a,"$scope")||Fb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return x.data(a,"$isolateScope")||x.data(a,"$isolateScopeNoTemplate")},controller:ld,injector:function(a){return Fb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Cb,css:function(a,b,d){b=yb(b.replace(qh,"ms-"));if(w(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Pa&&2!==c&&8!==c&&a.getAttribute){var c=K(b),e=Hb[c];if(w(d))null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d);else return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a}},prop:function(a,b,d){if(w(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(A(d)){var c=a.nodeType;return 1===c||c===Pa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(A(b)){if(a.multiple&&"select"===ua(a)){var d=[];r(a.options,function(a){a.selected&&d.push(a.value||a.text)});return d}return a.value}a.value=b},html:function(a,b){if(A(b))return a.innerHTML;zb(a,!0);a.innerHTML=b},empty:md},function(a,b){U.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==md&&A(2===a.length&&a!==Cb&&a!==ld?b:c)){if(D(b)){for(e=0;e<g;e++)if(a===sc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=A(e)?Math.min(g,1):g;for(f=0;f<g;f++){var k=a(this[f],b,c);e=e?e+k:k}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});r({removeData:rc,on:function(a,b,d,c){if(w(c))throw oc("onargs");if(mc(a)){c=Ab(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=wg(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,k=function(b,c,g){var k=e[b];k||(k=e[b]=[],k.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f));k.push(d)};g--;)b=c[g],Bb[b]?(k(Bb[b],yg),k(b,void 0,!0)):k(b)}},off:kd,one:function(a,b,d){a=x(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;zb(a);r(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];r(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new U(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;r(new U(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){var d=x(b).eq(0).clone()[0],c=a.parentNode;c&&c.replaceChild(d,a);d.appendChild(a)},remove:Gb,detach:function(a){Gb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c){b=new U(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}}},addClass:Eb,removeClass:Db,toggleClass:function(a,b,d){b&&r(b.split(" "),function(b){var e=d;A(e)&&(e=!Cb(a,b));(e?Eb:Db)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:qc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=Ab(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:f,target:a},b.type&&(c=S(c,b)),b=ja(g),e=d?[c].concat(d):[c],r(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,k=this.length;g<k;g++)A(f)?(f=a(this[g],b,c,e),w(f)&&(f=x(f))):pc(f,a(this[g],b,c,e));return w(f)?f:this}});U.prototype.bind=U.prototype.on;U.prototype.unbind=U.prototype.off;var rh=Object.create(null);pd.prototype={_idx:function(a){a!==this._lastKey&&(this._lastKey=a,this._lastIndex=this._keys.indexOf(a));return this._lastIndex},_transformKey:function(a){return Y(a)?rh:a},get:function(a){a=this._transformKey(a);a=this._idx(a);if(-1!==a)return this._values[a]},has:function(a){a=this._transformKey(a);return-1!==this._idx(a)},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=this._transformKey(a);a=this._idx(a);if(-1===a)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};var Ib=pd,og=[function(){this.$get=[function(){return Ib}]}],Bg=/^([^(]+?)=>/,Cg=/^[^(]*\(\s*([^)]*)\)/m,sh=/,/,th=/^\s*(_?)(\S+?)\1\s*$/,Ag=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ca=F("$injector");fb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw C(d)&&d||(d=a.name||Dg(a)),Ca("strictdi",d);b=qd(a);r(b[1].split(sh),function(a){a.replace(th,function(a,b,d){c.push(d)})})}a.$inject=c}}else H(a)?(b=a.length-1,tb(a[b],"fn"),c=a.slice(0,b)):tb(a,"fn",!0);return c};var ne=F("$animate"),Ef=function(){this.$get=E},Ff=function(){var a=new Ib,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=C(b)?b.split(" "):H(b)?b:[],r(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){r(b,function(b){var c=a.get(b);if(c){var d=Eg(b.attr("class")),e="",f="";r(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});r(b,function(a){e&&Eb(a,e);f&&Db(a,f)});a.delete(b)}});b.length=0}return{enabled:E,on:E,off:E,pin:E,push:function(g,k,h,l){l&&l();h=h||{};h.from&&g.css(h.from);h.to&&g.css(h.to);if(h.addClass||h.removeClass)if(k=h.addClass,l=h.removeClass,h=a.get(g)||{},k=e(h,k,!0),l=e(h,l,!1),k||l)a.set(g,h),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Cf=["$provide",function(a){var b=this,d=null,c=null;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&"."!==c.charAt(0))throw ne("notcsel",c);var g=c+"-animation";b.$$registeredAnimations[c.substr(1)]=g;a.factory(g,d)};this.customFilter=function(a){1===arguments.length&&(c=B(a)?a:null);return c};this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,ne("nongcls","ng-animate");return d};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){e=f;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.cancel&&a.cancel()},enter:function(c,d,h,l){d=d&&x(d);h=h&&x(h);d=d||h.parent();b(c,d,h);return a.push(c,"enter",ra(l))},move:function(c,d,h,l){d=d&&x(d);h=h&&x(h);d=d||h.parent();b(c,d,h);return a.push(c,"move",ra(l))},leave:function(b,c){return a.push(b,"leave",ra(c),function(){b.remove()})},addClass:function(b,c,d){d=ra(d);d.addClass=ib(d.addclass,c);return a.push(b,"addClass",d)},removeClass:function(b,c,d){d=ra(d);d.removeClass=ib(d.removeClass,c);return a.push(b,"removeClass",d)},setClass:function(b,c,d,f){f=ra(f);f.addClass=ib(f.addClass,c);f.removeClass=ib(f.removeClass,d);return a.push(b,"setClass",f)},animate:function(b,c,d,f,m){m=ra(m);m.from=m.from?S(m.from,c):c;m.to=m.to?S(m.to,d):d;m.tempClasses=ib(m.tempClasses,f||"ng-inline-animate");return a.push(b,"animate",m)}}}]}],Hf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},Gf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){c()?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;r(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:E,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(r(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},Df=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);k||h.complete();k=!0});return h}var g=e||{};g.$$prepared||(g=Ia(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]},$=F("$compile"),uc=new function(){};Zc.$inject=["$provide","$$sanitizeUriProvider"];Kb.prototype.isFirstChange=function(){return this.previousValue===uc};var rd=/^((?:x|data)[:\-_])/i,Jg=/[:\-_]+(.)/g,xd=F("$controller"),wd=/^(\S+)(\s+as\s+([\w$]+))?$/,Of=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof x&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},yd="application/json",xc={"Content-Type":yd+";charset=utf-8"},Mg=/^\[|^\{(?!\{)/,Ng={"[":/]$/,"{":/}$/},Lg=/^\)]\}',?\n/,Lb=F("$http"),Ma=ca.$interpolateMinErr=F("$interpolate");Ma.throwNoconcat=function(a){throw Ma("noconcat",a);};Ma.interr=function(a,b){return Ma("interr",a,b.toString())};var Qg=F("$interval"),Xf=function(){this.$get=function(){function a(a){var b=function(a){b.data=a;b.called=!0};b.id=a;return b}var b=ca.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id];delete d[a]}}}},uh=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Rg={http:80,https:443,ftp:21},kb=F("$location"),Sg=/^\s*[\\/]{2,}/,vh={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){for(var a=this.$$path,b=this.$$hash,d=Ce(this.$$search),b=b?"#"+ic(b):"",a=a.split("/"),c=a.length;c--;)a[c]=ic(a[c].replace(/%2F/g,"/"));this.$$url=a.join("/")+(d?"?"+d:"")+b;this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=!0},absUrl:Mb("$$absUrl"),url:function(a){if(A(a))return this.$$url;var b=uh.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Mb("$$protocol"),host:Mb("$$host"),port:Mb("$$port"),path:Fd("$$path",function(a){a=null!==a?a.toString():"";return"/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||X(a))a=a.toString(),this.$$search=hc(a);else if(D(a))a=Ia(a,{}),r(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw kb("isrcharg");break;default:A(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:Fd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([Ed,Ac,zc],function(a){a.prototype=Object.create(vh);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==zc||!this.$$html5)throw kb("nostate");this.$$state=A(b)?null:b;this.$$urlUpdatedByLocation=!0;return this}});var Ya=F("$parse"),Wg={}.constructor.prototype.valueOf,Vb=T();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Vb[a]=!0});var wh={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ob=function(a){this.options=a};Ob.prototype={constructor:Ob,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Vb[b],e=Vb[d];Vb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=w(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw Ya("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=K(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+
1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=wh[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var q=function(a,b){this.lexer=a;this.options=b};q.Program="Program";q.ExpressionStatement="ExpressionStatement";q.AssignmentExpression="AssignmentExpression";q.ConditionalExpression="ConditionalExpression";q.LogicalExpression="LogicalExpression";q.BinaryExpression="BinaryExpression";q.UnaryExpression="UnaryExpression";q.CallExpression="CallExpression";q.MemberExpression="MemberExpression";q.Identifier="Identifier";q.Literal="Literal";q.ArrayExpression="ArrayExpression";q.Property="Property";q.ObjectExpression="ObjectExpression";q.ThisExpression="ThisExpression";q.LocalsExpression="LocalsExpression";q.NGValueParameter="NGValueParameter";q.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:q.Program,body:a}},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Jd(a))throw Ya("lval");a={type:q.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:q.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:q.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Ia(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:q.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:q.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:q.Identifier,name:a.text}},constant:function(){return{type:q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:q.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:q.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");return{type:q.ObjectExpression,properties:a}},throwError:function(a,b){throw Ya("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw Ya("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw Ya("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:q.ThisExpression},$locals:{type:q.LocalsExpression}}};var Hd=2;Ld.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};Z(a,b.$filter);var d="",c;this.stage="assign";if(c=Kd(a))this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l");c=Id(a.body);b.stage="inputs";r(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}};b.state.computing=d;var k=b.nextId();b.recurse(a,k);b.return_(k);b.state.inputs.push({name:d,isPure:a.isPure});a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(a);a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;";a=(new Function("$filter","getStringValue","ifDefined","plus",a))(this.$filter,Tg,Ug,Gd);this.state=this.stage=void 0;return a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;r(b,function(b){a.push("var "+b.name+"="+d.generateFunction(b.name,"s"));b.isPure&&a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")});b.length&&a.push("fn.inputs=["+b.map(function(a){return a.name}).join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;r(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,k,h=this,l,m,p;c=c||E;if(!f&&w(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case q.Program:r(a.body,function(b,c){h.recurse(b.expression,void 0,void 0,function(a){k=a});c!==a.body.length-1?h.current().body.push(k,";"):h.return_(k)});break;case q.Literal:m=this.escape(a.value);this.assign(b,m);c(b||m);break;case q.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){k=a});m=a.operator+"("+this.ifDefined(k,0)+")";this.assign(b,m);c(m);break;case q.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){k=a});m="+"===a.operator?this.plus(g,k):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(k,0):"("+g+")"+a.operator+"("+k+")";this.assign(b,m);c(m);break;case q.LogicalExpression:b=b||this.nextId();h.recurse(a.left,b);h.if_("&&"===a.operator?b:h.not(b),h.lazyRecurse(a.right,b));c(b);break;case q.ConditionalExpression:b=b||this.nextId();h.recurse(a.test,b);h.if_(b,h.lazyRecurse(a.alternate,b),h.lazyRecurse(a.consequent,b));c(b);break;case q.Identifier:b=b||this.nextId();d&&(d.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",a.name)),function(){h.if_("inputs"===h.stage||"s",function(){e&&1!==e&&h.if_(h.isNull(h.nonComputedMember("s",a.name)),h.lazyAssign(h.nonComputedMember("s",a.name),"{}"));h.assign(b,h.nonComputedMember("s",a.name))})},b&&h.lazyAssign(b,h.nonComputedMember("l",a.name)));c(b);break;case q.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();h.recurse(a.object,g,void 0,function(){h.if_(h.notNull(g),function(){a.computed?(k=h.nextId(),h.recurse(a.property,k),h.getStringValue(k),e&&1!==e&&h.if_(h.not(h.computedMember(g,k)),h.lazyAssign(h.computedMember(g,k),"{}")),m=h.computedMember(g,k),h.assign(b,m),d&&(d.computed=!0,d.name=k)):(e&&1!==e&&h.if_(h.isNull(h.nonComputedMember(g,a.property.name)),h.lazyAssign(h.nonComputedMember(g,a.property.name),"{}")),m=h.nonComputedMember(g,a.property.name),h.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){h.assign(b,"undefined")});c(b)},!!e);break;case q.CallExpression:b=b||this.nextId();a.filter?(k=h.filter(a.callee.name),l=[],r(a.arguments,function(a){var b=h.nextId();h.recurse(a,b);l.push(b)}),m=k+"("+l.join(",")+")",h.assign(b,m),c(b)):(k=h.nextId(),g={},l=[],h.recurse(a.callee,k,g,function(){h.if_(h.notNull(k),function(){r(a.arguments,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})});m=g.name?h.member(g.context,g.name,g.computed)+"("+l.join(",")+")":k+"("+l.join(",")+")";h.assign(b,m)},function(){h.assign(b,"undefined")});c(b)}));break;case q.AssignmentExpression:k=this.nextId();g={};this.recurse(a.left,void 0,g,function(){h.if_(h.notNull(g.context),function(){h.recurse(a.right,k);m=h.member(g.context,g.name,g.computed)+a.operator+k;h.assign(b,m);c(b||m)})},1);break;case q.ArrayExpression:l=[];r(a.elements,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(b||m);break;case q.ObjectExpression:l=[];p=!1;r(a.properties,function(a){a.computed&&(p=!0)});p?(b=b||this.nextId(),this.assign(b,"{}"),r(a.properties,function(a){a.computed?(g=h.nextId(),h.recurse(a.key,g)):g=a.key.type===q.Identifier?a.key.name:""+a.key.value;k=h.nextId();h.recurse(a.value,k);h.assign(h.member(b,g,a.computed),k)})):(r(a.properties,function(b){h.recurse(b.value,a.constant?void 0:h.nextId(),void 0,function(a){l.push(h.escape(b.key.type===q.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m));c(b||m);break;case q.ThisExpression:this.assign(b,"s");c(b||"s");break;case q.LocalsExpression:this.assign(b,"l");c(b||"l");break;case q.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+
b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(C(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(X(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw Ya("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};Md.prototype={compile:function(a){var b=this;Z(a,b.$filter);var d,c;if(d=Kd(a))c=this.recurse(d);d=Id(a.body);var e;d&&(e=[],r(d,function(a,c){var d=b.recurse(a);d.isPure=a.isPure;a.input=d;e.push(d);a.watchId=c}));var f=[];r(a.body,function(a){f.push(b.recurse(a.expression))});a=0===a.body.length?E:1===a.body.length?f[0]:function(a,b){var c;r(f,function(d){c=d(a,b)});return c};c&&(a.assign=function(a,b,d){return c(a,d,b)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case q.Literal:return this.value(a.value,b);case q.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case q.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case q.Identifier:return f.identifier(a.name,b,d);case q.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,e,b,d);case q.CallExpression:return g=[],r(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var p=[],n=0;n<g.length;++n)p.push(g[n](a,c,d,f));a=e.apply(void 0,p,f);return b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var p=e(a,c,d,f),n;if(null!=p.value){n=[];for(var s=0;s<g.length;++s)n.push(g[s](a,c,d,f));n=p.value.apply(p.context,n)}return b?{value:n}:n};case q.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var p=c(a,d,f,g);a=e(a,d,f,g);p.context[p.name]=a;return b?{value:a}:a};case q.ArrayExpression:return g=[],r(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],n=0;n<g.length;++n)f.push(g[n](a,c,d,e));return b?{value:f}:f};case q.ObjectExpression:return g=[],r(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===q.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},n=0;n<g.length;++n)g[n].computed?f[g[n].key(a,c,d,e)]=g[n].value(a,c,d,e):f[g[n].key]=g[n].value(a,c,d,e);return b?{value:f}:f};case q.ThisExpression:return function(a){return b?{value:a}:a};case q.LocalsExpression:return function(a,c){return b?{value:c}:c};case q.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=w(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=w(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=Gd(k,c);return d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=(w(k)?k:0)-(w(c)?c:0);return d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k)?b(e,f,g,k):d(e,f,g,k);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:c;d&&1!==d&&c&&null==c[a]&&(c[a]={});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var h=a(e,f,g,k),l,m;null!=h&&(l=b(e,f,g,k),l+="",c&&1!==c&&h&&!h[l]&&(h[l]={}),m=h[l]);return d?{context:h,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k);c&&1!==c&&e&&null==e[b]&&(e[b]={});f=null!=e?e[b]:void 0;return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};Nb.prototype={constructor:Nb,parse:function(a){a=this.getAst(a);var b=this.astCompiler.compile(a.ast),d=a.ast;b.literal=0===d.body.length||1===d.body.length&&(d.body[0].expression.type===q.Literal||d.body[0].expression.type===q.ArrayExpression||d.body[0].expression.type===q.ObjectExpression);b.constant=a.ast.constant;b.oneTime=a.oneTime;return b},getAst:function(a){var b=!1;a=a.trim();":"===a.charAt(0)&&":"===a.charAt(1)&&(b=!0,a=a.substring(2));return{ast:this.ast.ast(a),oneTime:b}}};var Ea=F("$sce"),W={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Dc=/_([a-z])/g,Zg=F("$templateRequest"),$g=F("$timeout"),aa=z.document.createElement("a"),Qd=ga(z.location.href),Na;aa.href="http://[::1]";var ah="[::1]"===aa.hostname;Rd.$inject=["$document"];fd.$inject=["$provide"];var Yd=22,Xd=".",Fc="0";Sd.$inject=["$locale"];Ud.$inject=["$locale"];var lh={yyyy:ea("FullYear",4,0,!1,!0),yy:ea("FullYear",2,0,!0,!0),y:ea("FullYear",1,0,!1,!0),MMMM:lb("Month"),MMM:lb("Month",!0),MM:ea("Month",2,1),M:ea("Month",1,1),LLLL:lb("Month",!1,!0),dd:ea("Date",2),d:ea("Date",1),HH:ea("Hours",2),H:ea("Hours",1),hh:ea("Hours",2,-12),h:ea("Hours",1,-12),mm:ea("Minutes",2),m:ea("Minutes",1),ss:ea("Seconds",2),s:ea("Seconds",1),sss:ea("Milliseconds",3),EEEE:lb("Day"),EEE:lb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Pb(Math[0<a?"floor":"ceil"](a/60),2)+Pb(Math.abs(a%60),2))},ww:$d(2),w:$d(1),G:Gc,GG:Gc,GGG:Gc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},kh=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,jh=/^-?\d+$/;Td.$inject=["$locale"];var eh=ia(K),fh=ia(vb);Vd.$inject=["$parse"];var Re=ia({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===la.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),wb={};r(Hb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=xa("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});wb[c]=function(){return{restrict:"A",priority:100,link:e}}}});r(vd,function(a,b){wb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(ke))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});r(["src","srcset","href"],function(a){var b=xa("ng-"+a);wb[b]=["$sce",function(d){return{priority:99,link:function(c,e,f){var g=a,k=a;"href"===a&&"[object SVGAnimatedString]"===la.call(e.prop("href"))&&(k="xlinkHref",f.$attr[k]="xlink:href",g=null);f.$set(b,d.getTrustedMediaUrl(f[b]));f.$observe(b,function(b){b?(f.$set(k,b),wa&&g&&e.prop(g,f[k])):"href"===a&&f.$set(k,null)})}}}]});var mb={$addControl:E,$getControls:ia([]),$$renameControl:function(a,b){a.$name=b},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E,$$setSubmitted:E};Qb.$inject=["$element","$attrs","$scope","$animate","$interpolate"];Qb.prototype={$rollbackViewValue:function(){r(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ja(a.$name,"input");this.$$controls.push(a);a.$name&&(this[a.$name]=a);a.$$parentForm=this},$getControls:function(){return ja(this.$$controls)},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name];r(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);r(this.$error,function(b,d){this.$setValidity(d,null,a)},this);r(this.$$success,function(b,d){this.$setValidity(d,null,a)},this);cb(this.$$controls,a);a.$$parentForm=mb},$setDirty:function(){this.$$animate.removeClass(this.$$element,Za);this.$$animate.addClass(this.$$element,Wb);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Za,Wb+" ng-submitted");this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;r(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){for(var a=this;a.$$parentForm&&a.$$parentForm!==mb;)a=a.$$parentForm;a.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted");this.$submitted=!0;r(this.$$controls,function(a){a.$$setSubmitted&&a.$$setSubmitted()})}};ce({clazz:Qb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(cb(c,d),0===c.length&&delete a[b])}});var oe=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||E}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Qb,compile:function(d,f){d.addClass(Za).addClass(nb);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var p=f[0];if(!("action"in e)){var n=function(b){a.$apply(function(){p.$commitViewValue();p.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",n);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",n)},0,!1)})}(f[1]||p.$$parentForm).$addControl(p);var s=g?c(p.$name):E;g&&(s(a,p),e.$observe(g,function(b){p.$name!==b&&(s(a,void 0),p.$$parentForm.$$renameControl(p,b),s=c(p.$name),s(a,p))}));d.on("$destroy",function(){p.$$parentForm.$removeControl(p);s(a,void 0);S(p,mb)})}}}}}]},Se=oe(),df=oe(!0),mh=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,xh=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,yh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,nh=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,pe=/^(\d{4,})-(\d{2})-(\d{2})$/,qe=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oc=/^(\d{4,})-W(\d\d)$/,re=/^(\d{4,})-(\d\d)$/,se=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ee=T();r(["date","datetime-local","month","time","week"],function(a){ee[a]=!0});var te={text:function(a,b,d,c,e,f){Sa(a,b,d,c,e,f);Ic(c)},date:ob("date",pe,Rb(pe,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ob("datetimelocal",qe,Rb(qe,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ob("time",se,Rb(se,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ob("week",Oc,function(a,b){if(ha(a))return a;if(C(a)){Oc.lastIndex=0;var d=Oc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,k=0,h=Zd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),k=b.getMilliseconds());return new Date(c,0,h.getDate()+e,d,f,g,k)}}return NaN},"yyyy-Www"),month:ob("month",re,Rb(re,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f,g,k){Jc(a,b,d,c,"number");fe(c);Sa(a,b,d,c,e,f);var h;if(w(d.min)||d.ngMin){var l=d.min||k(d.ngMin)(a);h=na(l);c.$validators.min=function(a,b){return c.$isEmpty(b)||A(h)||b>=h};d.$observe("min",function(a){a!==l&&(h=na(a),l=a,c.$validate())})}if(w(d.max)||d.ngMax){var m=d.max||k(d.ngMax)(a),p=na(m);c.$validators.max=function(a,b){return c.$isEmpty(b)||A(p)||b<=p};d.$observe("max",function(a){a!==m&&(p=na(a),m=a,c.$validate())})}if(w(d.step)||d.ngStep){var n=d.step||k(d.ngStep)(a),s=na(n);c.$validators.step=function(a,b){return c.$isEmpty(b)||A(s)||ge(b,h||0,s)};d.$observe("step",function(a){a!==n&&(s=na(a),n=a,c.$validate())})}},url:function(a,b,d,c,e,f){Sa(a,b,d,c,e,f);Ic(c);c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||xh.test(d)}},email:function(a,b,d,c,e,f){Sa(a,b,d,c,e,f);Ic(c);c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||yh.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==V(d.ngTrim);A(d.name)&&b.attr("name",++qb);b.on("change",function(a){var g;b[0].checked&&(g=d.value,e&&(g=V(g)),c.$setViewValue(g,a&&a.type))});c.$render=function(){var a=d.value;e&&(a=V(a));b[0].checked=a===c.$viewValue};d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]);var e=d[a];d.$observe(a,function(a){a!==e&&(e=a,c(a))})}function k(a){p=na(a);Y(c.$modelValue)||(m?(a=b.val(),p>a&&(a=p,b.val(a)),c.$setViewValue(a)):c.$validate())}function h(a){n=na(a);Y(c.$modelValue)||(m?(a=b.val(),n<a&&(b.val(n),a=n<p?p:n),c.$setViewValue(a)):c.$validate())}function l(a){s=na(a);Y(c.$modelValue)||(m?c.$viewValue!==b.val()&&c.$setViewValue(b.val()):c.$validate())}Jc(a,b,d,c,"range");fe(c);Sa(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,p=m?0:void 0,n=m?100:void 0,s=m?1:void 0,r=b[0].validity;a=w(d.min);e=w(d.max);f=w(d.step);var q=c.$render;c.$render=m&&w(r.rangeUnderflow)&&w(r.rangeOverflow)?function(){q();c.$setViewValue(b.val())}:q;a&&(p=na(d.min),c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||A(p)||b>=p},g("min",k));e&&(n=na(d.max),c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||A(n)||b<=n},g("max",h));f&&(s=na(d.step),c.$validators.step=m?function(){return!r.stepMismatch}:function(a,b){return c.$isEmpty(b)||A(s)||ge(b,p||0,s)},g("step",l))},checkbox:function(a,b,d,c,e,f,g,k){var h=he(k,a,"ngTrueValue",d.ngTrueValue,!0),l=he(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("change",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return va(a,h)});c.$parsers.push(function(a){return a?h:l})},hidden:E,button:E,submit:E,reset:E,file:E},$c=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,k){k[0]&&(te[K(g.type)]||te.text)(e,f,g,k[0],b,a,d,c)}}}}],Af=function(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(a){this.setAttribute("value",a)}};return{restrict:"E",priority:200,compile:function(b,d){if("hidden"===K(d.type))return{pre:function(b,d,f,g){b=d[0];b.parentNode&&b.parentNode.insertBefore(b,b.nextSibling);Object.defineProperty&&Object.defineProperty(b,"value",a)}}}}},zh=/^(true|false|\d+)$/,xf=function(){function a(a,d,c){var e=w(c)?c:9===wa?"":null;a.prop("value",e);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return zh.test(d.ngValue)?function(b,d,f){b=b.$eval(f.ngValue);a(d,f,b)}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},We=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=jc(a)})}}}}],Ye=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=A(a)?"":a})}}}}],Xe=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],wf=ia({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ze=Lc("",!0),af=Lc("Odd",0),$e=Lc("Even",1),bf=Ra({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),cf=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ed={},Ah={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=xa("ng-"+a);ed[b]=["$parse","$rootScope","$exceptionHandler",function(d,c,e){return sd(d,c,e,b,a,Ah[a])}]});var ff=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(d){d?h||g(function(d,f){h=f;d[d.length++]=b.$$createComment("end ngIf",e.ngIf);k={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),k&&(l=ub(k.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),k=null))})}}}],gf=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(c,e,m,p,n){var r=0,q,t,x,v=function(){t&&(t.remove(),t=null);q&&(q.$destroy(),q=null);x&&(d.leave(x).done(function(a){!1!==a&&(t=null)}),t=x,x=null)};c.$watch(f,function(f){var m=function(a){!1===a||!w(k)||k&&!c.$eval(k)||b()},t=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&t===r){var b=c.$new();p.template=a;a=n(b,function(a){v();d.enter(a,null,e).done(m)});q=b;x=a;q.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||t!==r||(v(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(v(),p.template=null)})}}}}],zf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){la.call(d[0]).match(/SVG/)?(d.empty(),a(gd(e.template,z.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],hf=Ra({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),vf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?V(e):e;c.$parsers.push(function(a){if(!A(a)){var b=[];a&&r(a.split(g),function(a){a&&b.push(f?V(a):a)});return b}});c.$formatters.push(function(a){if(H(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},nb="ng-valid",be="ng-invalid",Za="ng-pristine",Wb="ng-dirty",pb=F("ngModel");Sb.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");Sb.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);B(c)&&(c=a(b));return c};this.$$ngModelSet=function(a,c){B(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw pb("nonassign",this.$$attr.ngModel,Aa(this.$$element));},$render:E,$isEmpty:function(a){return A(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,Wb);this.$$animate.addClass(this.$$element,Za)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,Za);this.$$animate.addClass(this.$$element,Wb);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!Y(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(){var c=!0;r(h.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g;f(e,g)});return c?!0:(r(h.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;r(h.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!B(h.then))throw pb("nopromise",h);f(g,void 0);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?h.$$q.all(c).then(function(){g(d)},E):g(!0)}function f(a,b){k===h.$$currentValidationRunId&&h.$setValidity(a,b)}function g(a){k===h.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var k=this.$$currentValidationRunId,h=this;(function(){var a=h.$$parserName;if(A(h.$$parserValid))f(a,null);else return h.$$parserValid||(r(h.$validators,function(a,b){f(b,null)}),r(h.$asyncValidators,function(a,b){f(b,null)})),f(a,h.$$parserValid),h.$$parserValid;return!0})()?c()?e():g(!1):g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;this.$$parserValid=A(a)?void 0:!0;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),A(a)){this.$$parserValid=!1;break}Y(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);r(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");X(b[a])?b=b[a]:X(b["default"])&&-1===this.$options.getOption("updateOn").indexOf(a)?b=b["default"]:X(b["*"])&&(b=b["*"]);this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a);this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&&(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,E))},$$format:function(){for(var a=this.$formatters,b=a.length,d=this.$modelValue;b--;)d=a[b](d);return d},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a;this.$$parserValid=void 0;this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler);if(this.$$updateEvents=this.$options.getOption("updateOn"))this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}};ce({clazz:Sb,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var uf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Sb,priority:1,compile:function(b){b.addClass(Za).addClass("ng-untouched").addClass(nb);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;if(f=f[2])g.$options=f.$options;g.$$initGetterSetters();b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){k.$setTouched()}var k=f[0];k.$$setUpdateOnEvents();c.on("blur",function(){k.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],Tb,Bh=/(\s+|^)default(\s+|$)/;Mc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;a=S({},a);r(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=V(d.replace(Bh,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],ie(a,this.$$options));ie(a,Tb.$$options);return new Mc(a)}};Tb=new Mc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var yf=function(){function a(a,d){this.$$attrs=a;this.$$scope=d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Tb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},jf=Ra({terminal:!0,priority:1E3}),Ch=F("ngOptions"),Dh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,sf=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!r&&za(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var p=a.match(Dh);if(!p)throw Ch("iexp",a,Aa(b));var n=p[5]||p[7],r=p[6];a=/ as /.test(p[0])&&p[1];var q=p[9];b=d(p[2]?p[1]:n);var t=a&&d(a)||b,w=q&&d(q),v=q?function(a,b){return w(c,b)}:function(a){return La(a)},x=function(a,b){return v(a,B(a,b))},A=d(p[2]||p[1]),y=d(p[3]||""),J=d(p[4]||""),I=d(p[8]),z={},B=r?function(a,b){z[r]=b;z[n]=a;return z}:function(a){z[n]=a;return z};return{trackBy:q,getTrackByValue:x,getWatchables:d(I,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var k=a===d?g:d[g],l=a[k],k=B(l,k),l=v(l,k);b.push(l);if(p[2]||p[1])l=A(c,k),b.push(l);p[4]&&(k=J(c,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},d=I(c)||[],g=f(d),k=g.length,n=0;n<k;n++){var p=d===g?n:g[n],r=B(d[p],p),s=t(c,r),p=v(s,r),w=A(c,r),z=y(c,r),r=J(c,r),s=new e(p,s,w,z,r);a.push(s);b[p]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[x(a)]},getViewValueFromOption:function(a){return q?Ia(a.viewValue):a.viewValue}}}}}var e=z.document.createElement("option"),f=z.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=E},post:function(d,k,h,l){function m(a){var b=(a=v.getOptionFromViewValue(a))&&a.element;b&&!b.selected&&(b.selected=!0);return a}function p(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);b.value=a.selectValue}var n=l[0],q=l[1],A=h.multiple;l=0;for(var t=k.children(),z=t.length;l<z;l++)if(""===t[l].value){n.hasEmptyOption=!0;n.emptyOption=t.eq(l);break}k.empty();l=!!n.emptyOption;x(e.cloneNode(!1)).val("?");var v,B=c(h.ngOptions,k,d),C=b[0].createDocumentFragment();n.generateUnknownOptionValue=function(a){return"?"};A?(n.writeValue=function(a){if(v){var b=a&&a.map(m)||[];v.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})}},n.readValue=function(){var a=k.val()||[],b=[];r(a,function(a){(a=v.selectValueMap[a])&&!a.disabled&&b.push(v.getViewValueFromOption(a))});return b},B.trackBy&&d.$watchCollection(function(){if(H(q.$viewValue))return q.$viewValue.map(function(a){return B.getTrackByValue(a)})},function(){q.$render()})):(n.writeValue=function(a){if(v){var b=k[0].options[k[0].selectedIndex],c=v.getOptionFromViewValue(a);b&&b.removeAttribute("selected");c?(k[0].value!==c.selectValue&&(n.removeUnknownOption(),k[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):n.selectUnknownOrEmptyOption(a)}},n.readValue=function(){var a=v.selectValueMap[k.val()];return a&&!a.disabled?(n.unselectEmptyOption(),n.removeUnknownOption(),v.getViewValueFromOption(a)):null},B.trackBy&&d.$watch(function(){return B.getTrackByValue(q.$viewValue)},function(){q.$render()}));l&&(a(n.emptyOption)(d),k.prepend(n.emptyOption),8===n.emptyOption[0].nodeType?(n.hasEmptyOption=!1,n.registerOption=function(a,b){""===b.val()&&(n.hasEmptyOption=!0,n.emptyOption=b,n.emptyOption.removeClass("ng-scope"),q.$render(),b.on("$destroy",function(){var a=n.$isEmptyOptionSelected();n.hasEmptyOption=!1;n.emptyOption=void 0;a&&q.$render()}))}):n.emptyOption.removeClass("ng-scope"));d.$watchCollection(B.getWatchables,function(){var a=v&&n.readValue();if(v)for(var b=v.items.length-1;0<=b;b--){var c=v.items[b];w(c.group)?Gb(c.element.parentNode):Gb(c.element)}v=B.getOptions();var d={};v.items.forEach(function(a){var b;if(w(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),C.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1);b.appendChild(c);p(a,c)}else b=e.cloneNode(!1),C.appendChild(b),p(a,b)});k[0].appendChild(C);q.$render();q.$isEmpty(a)||(b=n.readValue(),(B.trackBy||A?va(a,b):a===b)||(q.$setViewValue(b),q.$render()))})}}}}],kf=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(a){g.text(a||"")}var l=k.count,m=k.$attr.when&&g.attr(k.$attr.when),p=k.offset||0,n=f.$eval(m)||{},q={},w=b.startSymbol(),t=b.endSymbol(),x=w+l+"-"+p+t,v=ca.noop,z;r(k,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+K(c[2]),n[c]=g.attr(k.$attr[b]))});r(n,function(a,d){q[d]=b(a.replace(c,x))});f.$watch(l,function(b){var c=parseFloat(b),e=Y(c);e||c in n||(c=a.pluralCat(c-p));c===z||e&&Y(z)||(v(),e=q[c],A(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),v=E,h()):v=f.$watch(e,h),z=c)})}}}],ue=F("ngRef"),lf=["$parse",function(a){return{priority:-1,restrict:"A",compile:function(b,d){var c=xa(ua(b)),e=a(d.ngRef),f=e.assign||function(){throw ue("nonassign",d.ngRef);};return function(a,b,h){var l;if(h.hasOwnProperty("ngRefRead"))if("$element"===h.ngRefRead)l=b;else{if(l=b.data("$"+h.ngRefRead+"Controller"),!l)throw ue("noctrl",h.ngRefRead,d.ngRef);}else l=b.data("$"+c+"Controller");l=l||b;f(a,l);b.on("$destroy",function(){e(a)===l&&f(a,null)})}}}}],mf=["$parse","$animate","$compile",function(a,b,d){var c=F("ngRepeat"),e=function(a,b,c,d,e,f,g){a[c]=d;e&&(a[e]=f);a.$index=b;a.$first=0===b;a.$last=b===g-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))},f=function(a,b,c){return La(c)},g=function(a,b){return b};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(k,h){var l=h.ngRepeat,m=d.$$createComment("end ngRepeat",l),p=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw c("iexp",l);var n=p[1],q=p[2],w=p[3],t=p[4],p=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!p)throw c("iidexp",n);var x=p[3]||p[1],v=p[2];if(w&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(w)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(w)))throw c("badident",w);var A;if(t){var z={$id:La},y=a(t);A=function(a,b,c,d){v&&(z[v]=b);z[x]=c;z.$index=d;return y(a,z)}}return function(a,d,h,k,n){var p=T();a.$watchCollection(q,function(h){var k,q,t=d[0],s,y=T(),B,C,E,D,H,F,K;w&&(a[w]=h);if(za(h))H=h,q=A||f;else for(K in q=A||g,H=[],h)ta.call(h,K)&&"$"!==K.charAt(0)&&H.push(K);B=H.length;K=Array(B);for(k=0;k<B;k++)if(C=h===H?k:H[k],E=h[C],D=q(a,C,E,k),p[D])F=p[D],delete p[D],y[D]=F,K[k]=F;else{if(y[D])throw r(K,function(a){a&&a.scope&&(p[a.id]=a)}),c("dupes",l,D,E);K[k]={id:D,scope:void 0,clone:void 0};y[D]=!0}z&&(z[x]=void 0);for(s in p){F=p[s];D=ub(F.clone);b.leave(D);if(D[0].parentNode)for(k=0,q=D.length;k<q;k++)D[k].$$NG_REMOVED=!0;F.scope.$destroy()}for(k=0;k<B;k++)if(C=h===H?k:H[k],E=h[C],F=K[k],F.scope){s=t;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);F.clone[0]!==s&&b.move(ub(F.clone),null,t);t=F.clone[F.clone.length-1];e(F.scope,k,x,E,v,C,B)}else n(function(a,c){F.scope=c;var d=m.cloneNode(!1);a[a.length++]=d;b.enter(a,null,t);t=d;F.clone=a;y[F.id]=F;e(F.scope,k,x,E,v,C,B)});p=y})}}}}],nf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ef=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],of=Ra(function(a,b,d){a.$watchCollection(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,c){b.css(c,"")});a&&b.css(a)})}),pf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],k=[],h=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;h.length;)a.cancel(h.pop());d=0;for(e=l.length;d<e;++d){var q=ub(k[d].clone);l[d].$destroy();(h[d]=a.leave(q)).done(m(h,d))}k.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");k.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],qf=Ra({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});r(a,function(a){c.cases["!"+a]=c.cases["!"+a]||[];c.cases["!"+a].push({transclude:e,element:b})})}}),rf=Ra({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Eh=F("ngTransclude"),tf=["$compile",function(a){return{restrict:"EAC",compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,k){function h(){d(a,function(a){b.append(a)})}if(!k)throw Eh("orphan",Aa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;k(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d<f;d++){var g=a[d];if(g.nodeType!==Pa||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(h(),c.$destroy())},null,f);f&&!k.isSlotFilled(f)&&h()}}}}],Te=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],Fh={$setViewValue:E,$render:E},Gh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;e.ngModelCtrl.$render()}))}function c(a){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Ib;e.selectValueMap={};e.ngModelCtrl=Fh;e.multiple=!1;e.unknownOption=x(z.document.createElement("option"));e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);a.prepend(e.unknownOption);Oa(e.unknownOption,!0);a.val(b)};e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);Oa(e.unknownOption,!0);a.val(b)};e.generateUnknownOptionValue=function(a){return"? "+La(a)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Oa(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&Oa(e.emptyOption,!1)};b.$on("$destroy",function(){e.renderUnknownOption=E});e.readValue=function(){var b=a.val(),b=b in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null};e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Oa(x(c),!1);e.hasOption(b)?(e.removeUnknownOption(),c=La(b),a.val(c in e.selectValueMap?c:b),Oa(x(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(b)};e.addOption=function(a,b){if(8!==b[0].nodeType){Ja(a,'"option value"');""===a&&(e.hasEmptyOption=!0,e.emptyOption=b);var c=f.get(a)||0;f.set(a,c+1);d()}};e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))};e.hasOption=function(a){return!!f.get(a)};e.$hasEmptyOption=function(){return e.hasEmptyOption};e.$isUnknownOptionSelected=function(){return a[0].options[0]===e.unknownOption[0]};e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&&a[0].options[a[0].selectedIndex]===e.emptyOption[0]};e.selectUnknownOrEmptyOption=function(a){null==a&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(a):e.renderUnknownOption(a)};var g=!1,k=!1;e.registerOption=function(a,b,f,g,k){if(f.$attr.ngValue){var q,r;f.$observe("value",function(a){var d,f=b.prop("selected");w(r)&&(e.removeOption(q),delete e.selectValueMap[r],d=!0);r=La(a);q=a;e.selectValueMap[r]=a;e.addOption(a,b);b.attr("value",r);d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");w(q)&&(e.removeOption(q),d=!0);q=a;e.addOption(a,b);d&&f&&c()}):k?a.$watch(k,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d);e.addOption(a,b);d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){if("true"===a||a&&b.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b);d();(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Ue=function(){return{restrict:"E",require:["select","?ngModel"],controller:Gh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var a=[];r(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))});return a};e.writeValue=function(a){r(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Oa(x(b),c)})};var g,k=NaN;a.$watch(function(){k!==f.$viewValue||va(g,f.$viewValue)||(g=ja(f.$viewValue),f.$render());k=f.$viewValue});f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=E},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Ve=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;w(d.ngValue)||(w(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text()));return function(a,b,d){var h=b.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&&h.registerOption(a,b,d,c,e)}}}}],bd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){if(e){var f=c.hasOwnProperty("required")||a(c.ngRequired)(b);c.ngRequired||(c.required=!0);e.$validators.required=function(a,b){return!f||!e.$isEmpty(b)};c.$observe("required",function(a){f!==a&&(f=a,e.$validate())})}}}}],ad=["$parse",function(a){return{restrict:"A",require:"?ngModel",compile:function(b,d){var c,e;d.ngPattern&&(c=d.ngPattern,e="/"===d.ngPattern.charAt(0)&&ke.test(d.ngPattern)?function(){return d.ngPattern}:a(d.ngPattern));return function(a,b,d,h){if(h){var l=d.pattern;d.ngPattern?l=e(a):c=d.pattern;var m=je(l,c,b);d.$observe("pattern",function(a){var d=m;m=je(a,c,b);(d&&d.toString())!==(m&&m.toString())&&h.$validate()});h.$validators.pattern=function(a,b){return h.$isEmpty(b)||A(m)||m.test(b)}}}}}}],dd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){if(e){var f=c.maxlength||a(c.ngMaxlength)(b),g=Ub(f);c.$observe("maxlength",function(a){f!==a&&(g=Ub(a),f=a,e.$validate())});e.$validators.maxlength=function(a,b){return 0>g||e.$isEmpty(b)||b.length<=g}}}}}],cd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){if(e){var f=c.minlength||a(c.ngMinlength)(b),g=Ub(f)||-1;c.$observe("minlength",function(a){f!==a&&(g=Ub(a)||-1,f=a,e.$validate())});e.$validators.minlength=function(a,b){return e.$isEmpty(b)||b.length>=g}}}}}];z.angular.bootstrap?z.console&&console.log("WARNING: Tried to load AngularJS more than once."):(Je(),Oe(ca),ca.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),x(function(){Ee(z.document,Wc)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'));(function(window,angular){'use strict';function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i];}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==='$'&&key.charAt(1)==='$')){dst[key]=src[key];}}}
return dst||src;}
function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,'\\$1').replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(_,slash,key,option){var optional=option==='?'||option==='*?';var star=option==='*'||option==='*?';keys.push({name:key,optional:optional});slash=slash||'';return((optional?'(?:'+slash:slash+'(?:')+
(star?'(.+?)':'([^/]+)')+
(optional?'?)?':')'));}).replace(/([/$*])/g,'\\$1');if(opts.ignoreTrailingSlashes){pattern=pattern.replace(/\/+$/,'')+'/*';}
return{keys:keys,regexp:new RegExp('^'+pattern+'(?:[?#]|$)',opts.caseInsensitiveMatch?'i':'')};}
var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module('ngRoute',[]).info({angularVersion:'1.8.2'}).provider('$route',$RouteProvider).run(instantiateRoute);var $routeMinErr=angular.$$minErr('ngRoute');var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra);}
var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl)){routeCopy.reloadOnUrl=true;}
if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true;}
if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch;}
routes[path]=angular.extend(routeCopy,{originalPath:path},path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=(path[path.length-1]==='/')?path.substr(0,path.length-1):path+'/';routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy));}
return this;};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params==='string'){params={redirectTo:params};}
this.when(null,params);return this;};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this;}
return isEagerInstantiationEnabled;};this.$get=['$rootScope','$location','$routeParams','$q','$injector','$templateRequest','$sce','$browser',function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false;}};$rootScope.$evalAsync(function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute();});},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams);}else{throw $routeMinErr('norout','Tried updating route with no current route');}}};$rootScope.$on('$locationChangeStart',prepareRoute);$rootScope.$on('$locationChangeSuccess',commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val;}}
return params;}
function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast('$routeChangeStart',preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault();}}}}
function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast('$routeUpdate',lastRoute);}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount('$route');nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then(function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then(function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams);}
$rootScope.$broadcast('$routeChangeSuccess',nextRoute,lastRoute);}});}).catch(function(error){if(nextRoute===$route.current){$rootScope.$broadcast('$routeChangeError',nextRoute,lastRoute,error);}}).finally(function(){$browser.$$completeOutstandingRequest(noop,'$route');});}}
function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route){if(route.redirectTo){if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true;}else{var oldPath=$location.path();var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true;}}}else if(route.resolveRedirectTo){return $q.resolve($injector.invoke(route.resolveRedirectTo)).then(function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true;}
return data;});}}
return data;}
function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current){keepProcessingRoute=false;}else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl){$location.url(newUrl).replace();}else{newUrl=$location.path(data.path).search(data.search).replace().url();}
if(newUrl!==oldUrl){keepProcessingRoute=false;}}
return keepProcessingRoute;}
function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key);});var template=getTemplateFor(route);if(angular.isDefined(template)){locals['$template']=template;}
return $q.all(locals);}}
function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template)){template=template(route.params);}}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(route.params);}
if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl);}}
return template;}
function parseRoute(){var params,match;angular.forEach(routes,function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route;}});return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}});}
function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&(newRoute.$$route===oldRoute.$$route)&&(!newRoute.reloadOnUrl||(!newRoute.reloadOnSearch&&angular.equals(newRoute.pathParams,oldRoute.pathParams)));}
function interpolate(string,params){var result=[];angular.forEach((string||'').split(':'),function(segment,i){if(i===0){result.push(segment);}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||'');delete params[key];}});return result.join('');}}];}
instantiateRoute.$inject=['$injector'];function instantiateRoute($injector){if(isEagerInstantiationEnabled){$injector.get('$route');}}
ngRouteModule.provider('$routeParams',$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{};};}
ngRouteModule.directive('ngView',ngViewFactory);ngRouteModule.directive('ngView',ngViewFillContentFactory);ngViewFactory.$inject=['$route','$anchorScroll','$animate'];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:'ECA',terminal:true,priority:400,transclude:'element',link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||'';scope.$on('$routeChangeSuccess',update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null;}
if(currentScope){currentScope.$destroy();currentScope=null;}
if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done(function(response){if(response!==false)previousLeaveAnimation=null;});currentElement=null;}}
function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).done(function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll();}});cleanupLastView();});currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit('$viewContentLoaded');currentScope.$eval(onloadExp);}else{cleanupLastView();}}}};}
ngViewFillContentFactory.$inject=['$compile','$controller','$route'];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:'ECA',priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller;}
$element.data('$ngControllerController',controller);$element.children().data('$ngControllerController',controller);}
scope[current.resolveAs||'$resolve']=locals;link(scope);}};}})(window,window.angular);(function(window,angular){'use strict';var $resourceMinErr=angular.$$minErr('$resource');var MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function isValidDottedPath(path){return(path!=null&&path!==''&&path!=='hasOwnProperty'&&MEMBER_NAME_REGEX.test('.'+path));}
function lookupDottedPath(obj,path){if(!isValidDottedPath(path)){throw $resourceMinErr('badmember','Dotted member path "@{0}" is invalid.',path);}
var keys=path.split('.');for(var i=0,ii=keys.length;i<ii&&angular.isDefined(obj);i++){var key=keys[i];obj=(obj!==null)?obj[key]:undefined;}
return obj;}
function shallowClearAndCopy(src,dst){dst=dst||{};angular.forEach(dst,function(value,key){delete dst[key];});for(var key in src){if(src.hasOwnProperty(key)&&!(key.charAt(0)==='$'&&key.charAt(1)==='$')){dst[key]=src[key];}}
return dst;}
angular.module('ngResource',['ng']).info({angularVersion:'1.8.2'}).provider('$resource',function ResourceProvider(){var PROTOCOL_AND_IPV6_REGEX=/^https?:\/\/\[[^\]]*][^/]*/;var provider=this;this.defaults={stripTrailingSlashes:true,cancellable:false,actions:{'get':{method:'GET'},'save':{method:'POST'},'query':{method:'GET',isArray:true},'remove':{method:'DELETE'},'delete':{method:'DELETE'}}};this.$get=['$http','$log','$q','$timeout',function($http,$log,$q,$timeout){var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isArray=angular.isArray,isDefined=angular.isDefined,isFunction=angular.isFunction,isNumber=angular.isNumber,encodeUriQuery=angular.$$encodeUriQuery,encodeUriSegment=angular.$$encodeUriSegment;function Route(template,defaults){this.template=template;this.defaults=extend({},provider.defaults,defaults);this.urlParams={};}
Route.prototype={setUrlParams:function(config,params,actionUrl){var self=this,url=actionUrl||self.template,val,encodedVal,protocolAndIpv6='';var urlParams=self.urlParams=Object.create(null);forEach(url.split(/\W/),function(param){if(param==='hasOwnProperty'){throw $resourceMinErr('badname','hasOwnProperty is not a valid parameter name.');}
if(!(new RegExp('^\\d+$').test(param))&&param&&(new RegExp('(^|[^\\\\]):'+param+'(\\W|$)').test(url))){urlParams[param]={isQueryParamValue:(new RegExp('\\?.*=:'+param+'(?:\\W|$)')).test(url)};}});url=url.replace(/\\:/g,':');url=url.replace(PROTOCOL_AND_IPV6_REGEX,function(match){protocolAndIpv6=match;return'';});params=params||{};forEach(self.urlParams,function(paramInfo,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam];if(isDefined(val)&&val!==null){if(paramInfo.isQueryParamValue){encodedVal=encodeUriQuery(val,true);}else{encodedVal=encodeUriSegment(val);}
url=url.replace(new RegExp(':'+urlParam+'(\\W|$)','g'),function(match,p1){return encodedVal+p1;});}else{url=url.replace(new RegExp('(/?):'+urlParam+'(\\W|$)','g'),function(match,leadingSlashes,tail){if(tail.charAt(0)==='/'){return tail;}else{return leadingSlashes+tail;}});}});if(self.defaults.stripTrailingSlashes){url=url.replace(/\/+$/,'')||'/';}
url=url.replace(/\/\.(?=\w+($|\?))/,'.');config.url=protocolAndIpv6+url.replace(/\/(\\|%5C)\./,'/.');forEach(params,function(value,key){if(!self.urlParams[key]){config.params=config.params||{};config.params[key]=value;}});}};function resourceFactory(url,paramDefaults,actions,options){var route=new Route(url,options);actions=extend({},provider.defaults.actions,actions);function extractParams(data,actionParams){var ids={};actionParams=extend({},paramDefaults,actionParams);forEach(actionParams,function(value,key){if(isFunction(value)){value=value(data);}
ids[key]=value&&value.charAt&&value.charAt(0)==='@'?lookupDottedPath(data,value.substr(1)):value;});return ids;}
function defaultResponseInterceptor(response){return response.resource;}
function Resource(value){shallowClearAndCopy(value||{},this);}
Resource.prototype.toJSON=function(){var data=extend({},this);delete data.$promise;delete data.$resolved;delete data.$cancelRequest;return data;};forEach(actions,function(action,name){var hasBody=action.hasBody===true||(action.hasBody!==false&&/^(POST|PUT|PATCH)$/i.test(action.method));var numericTimeout=action.timeout;var cancellable=isDefined(action.cancellable)?action.cancellable:route.defaults.cancellable;if(numericTimeout&&!isNumber(numericTimeout)){$log.debug('ngResource:\n'+'  Only numeric values are allowed as `timeout`.\n'+'  Promises are not supported in $resource, because the same value would '+'be used for multiple requests. If you are looking for a way to cancel '+'requests, you should use the `cancellable` option.');delete action.timeout;numericTimeout=null;}
Resource[name]=function(a1,a2,a3,a4){var params={},data,onSuccess,onError;switch(arguments.length){case 4:onError=a4;onSuccess=a3;case 3:case 2:if(isFunction(a2)){if(isFunction(a1)){onSuccess=a1;onError=a2;break;}
onSuccess=a2;onError=a3;}else{params=a1;data=a2;onSuccess=a3;break;}
case 1:if(isFunction(a1))onSuccess=a1;else if(hasBody)data=a1;else params=a1;break;case 0:break;default:throw $resourceMinErr('badargs','Expected up to 4 arguments [params, data, success, error], got {0} arguments',arguments.length);}
var isInstanceCall=this instanceof Resource;var value=isInstanceCall?data:(action.isArray?[]:new Resource(data));var httpConfig={};var requestInterceptor=action.interceptor&&action.interceptor.request||undefined;var requestErrorInterceptor=action.interceptor&&action.interceptor.requestError||undefined;var responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor;var responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||$q.reject;var successCallback=onSuccess?function(val){onSuccess(val,response.headers,response.status,response.statusText);}:undefined;var errorCallback=onError||undefined;var timeoutDeferred;var numericTimeoutPromise;var response;forEach(action,function(value,key){switch(key){default:httpConfig[key]=copy(value);break;case'params':case'isArray':case'interceptor':case'cancellable':break;}});if(!isInstanceCall&&cancellable){timeoutDeferred=$q.defer();httpConfig.timeout=timeoutDeferred.promise;if(numericTimeout){numericTimeoutPromise=$timeout(timeoutDeferred.resolve,numericTimeout);}}
if(hasBody)httpConfig.data=data;route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$q.resolve(httpConfig).then(requestInterceptor).catch(requestErrorInterceptor).then($http);promise=promise.then(function(resp){var data=resp.data;if(data){if(isArray(data)!==(!!action.isArray)){throw $resourceMinErr('badcfg','Error in resource configuration for action `{0}`. Expected response to '+'contain an {1} but got an {2} (Request: {3} {4})',name,action.isArray?'array':'object',isArray(data)?'array':'object',httpConfig.method,httpConfig.url);}
if(action.isArray){value.length=0;forEach(data,function(item){if(typeof item==='object'){value.push(new Resource(item));}else{value.push(item);}});}else{var promise=value.$promise;shallowClearAndCopy(data,value);value.$promise=promise;}}
resp.resource=value;response=resp;return responseInterceptor(resp);},function(rejectionOrResponse){rejectionOrResponse.resource=value;response=rejectionOrResponse;return responseErrorInterceptor(rejectionOrResponse);});promise=promise['finally'](function(){value.$resolved=true;if(!isInstanceCall&&cancellable){value.$cancelRequest=noop;$timeout.cancel(numericTimeoutPromise);timeoutDeferred=numericTimeoutPromise=httpConfig.timeout=null;}});promise.then(successCallback,errorCallback);if(!isInstanceCall){value.$promise=promise;value.$resolved=false;if(cancellable)value.$cancelRequest=cancelRequest;return value;}
return promise;function cancelRequest(value){promise.catch(noop);if(timeoutDeferred!==null){timeoutDeferred.resolve(value);}}};Resource.prototype['$'+name]=function(params,success,error){if(isFunction(params)){error=success;success=params;params={};}
var result=Resource[name].call(this,params,this,success,error);return result.$promise||result;};});return Resource;}
return resourceFactory;}];});})(window,window.angular);(function(window,angular){'use strict';angular.module('ngCookies',['ng']).info({angularVersion:'1.8.2'}).provider('$cookies',[function $CookiesProvider(){var defaults=this.defaults={};function calcOptions(options){return options?angular.extend({},defaults,options):defaults;}
this.$get=['$$cookieReader','$$cookieWriter',function($$cookieReader,$$cookieWriter){return{get:function(key){return $$cookieReader()[key];},getObject:function(key){var value=this.get(key);return value?angular.fromJson(value):value;},getAll:function(){return $$cookieReader();},put:function(key,value,options){$$cookieWriter(key,value,calcOptions(options));},putObject:function(key,value,options){this.put(key,angular.toJson(value),options);},remove:function(key,options){$$cookieWriter(key,undefined,calcOptions(options));}};}];}]);function $$CookieWriter($document,$log,$browser){var cookiePath=$browser.baseHref();var rawDocument=$document[0];function buildCookieString(name,value,options){var path,expires;options=options||{};expires=options.expires;path=angular.isDefined(options.path)?options.path:cookiePath;if(angular.isUndefined(value)){expires='Thu, 01 Jan 1970 00:00:00 GMT';value='';}
if(angular.isString(expires)){expires=new Date(expires);}
var str=encodeURIComponent(name)+'='+encodeURIComponent(value);str+=path?';path='+path:'';str+=options.domain?';domain='+options.domain:'';str+=expires?';expires='+expires.toUTCString():'';str+=options.secure?';secure':'';str+=options.samesite?';samesite='+options.samesite:'';var cookieLength=str.length+1;if(cookieLength>4096){$log.warn('Cookie \''+name+'\' possibly not set or overflowed because it was too large ('+
cookieLength+' > 4096 bytes)!');}
return str;}
return function(name,value,options){rawDocument.cookie=buildCookieString(name,value,options);};}
$$CookieWriter.$inject=['$document','$log','$browser'];angular.module('ngCookies').provider('$$cookieWriter',function $$CookieWriterProvider(){this.$get=$$CookieWriter;});})(window,window.angular);(function(s,e){'use strict';function O(e){var g=[];B(g,D).chars(e);return g.join("")}var C=e.$$minErr("$sanitize"),E,g,F,G,H,q,D,I,J,B;e.module("ngSanitize",[]).provider("$sanitize",function(){function h(a,d){return A(a.split(","),d)}function A(a,d){var c={},b;for(b=0;b<a.length;b++)c[d?q(a[b]):a[b]]=!0;return c}function t(a,d){d&&d.length&&g(a,A(d))}function P(a){for(var d={},c=0,b=a.length;c<b;c++){var k=a[c];d[k.name]=k.value}return d}function K(a){return a.replace(/&/g,"&amp;").replace(Q,function(a){var c=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(c-55296)+(a-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z(a){for(;a;){if(a.nodeType===s.Node.ELEMENT_NODE)for(var d=a.attributes,c=0,b=d.length;c<b;c++){var k=d[c],f=k.name.toLowerCase();if("xmlns:ns1"===f||0===f.lastIndexOf("ns1:",0))a.removeAttributeNode(k),c--,b--}(d=a.firstChild)&&z(d);a=v("nextSibling",a)}}function v(a,d){var c=d[a];if(c&&I.call(d,c))throw C("elclob",d.outerHTML||d.outerText);return c}var y=!1,f=!1;this.$get=["$$sanitizeUri",function(a){y=!0;f&&g(m,l);return function(d){var c=[];J(d,B(c,function(b,c){return!/^unsafe:/.test(a(b,c))}));return c.join("")}}];this.enableSvg=function(a){return H(a)?(f=a,this):f};this.addValidElements=function(a){y||(G(a)&&(a={htmlElements:a}),t(l,a.svgElements),t(r,a.htmlVoidElements),t(m,a.htmlVoidElements),t(m,a.htmlElements));return this};this.addValidAttrs=function(a){y||g(L,A(a,!0));return this};E=e.bind;g=e.extend;F=e.forEach;G=e.isArray;H=e.isDefined;q=e.$$lowercase;D=e.noop;J=function(a,d){null===a||void 0===a?a="":"string"!==typeof a&&(a=""+a);var c=M(a);if(!c)return"";var b=5;do{if(0===b)throw C("uinput");b--;a=c.innerHTML;c=M(a)}while(a!==c.innerHTML);for(b=c.firstChild;b;){switch(b.nodeType){case 1:d.start(b.nodeName.toLowerCase(),P(b.attributes));break;case 3:d.chars(b.textContent)}var k;if(!(k=b.firstChild)&&(1===b.nodeType&&d.end(b.nodeName.toLowerCase()),k=v("nextSibling",b),!k))for(;null==k;){b=v("parentNode",b);if(b===c)break;k=v("nextSibling",b);1===b.nodeType&&d.end(b.nodeName.toLowerCase())}b=k}for(;b=c.firstChild;)c.removeChild(b)};B=function(a,d){var c=!1,b=E(a,a.push);return{start:function(a,f){a=q(a);!c&&w[a]&&(c=a);c||!0!==m[a]||(b("<"),b(a),F(f,function(c,f){var e=q(f),h="img"===a&&"src"===e||"background"===e;!0!==L[e]||!0===N[e]&&!d(c,h)||(b(" "),b(f),b('="'),b(K(c)),b('"'))}),b(">"))},end:function(a){a=q(a);c||!0!==m[a]||!0===r[a]||(b("</"),b(a),b(">"));a==c&&(c=!1)},chars:function(a){c||b(K(a))}}};I=s.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};var Q=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,r=h("area,br,col,hr,img,wbr"),x=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p=h("rp,rt"),n=g({},p,x),x=g({},x,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),p=g({},p,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=h("script,style"),m=g({},r,x,p,n),N=h("background,cite,href,longdesc,src,xlink:href,xml:base"),n=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),p=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),L=g({},N,p,n),M=function(a,d){function c(b){b="<remove></remove>"+b;try{var c=(new a.DOMParser).parseFromString(b,"text/html").body;c.firstChild.remove();return c}catch(d){}}var b;try{b=!!c("")}catch(f){b=!1}if(b)return c;if(!d||!d.implementation)throw C("noinert");b=d.implementation.createHTMLDocument("inert");var e=(b.documentElement||b.getDocumentElement()).querySelector("body");return function(a){e.innerHTML=a;d.documentMode&&z(e);return e}}(s,s.document)}).info({angularVersion:"1.8.2"});e.module("ngSanitize").filter("linky",["$sanitize",function(h){var g=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,t=/^mailto:/i,q=e.$$minErr("linky"),s=e.isDefined,z=e.isFunction,v=e.isObject,y=e.isString;return function(f,e,u){function r(e){e&&l.push(O(e))}function x(f,h){var g,a=p(f);l.push("<a ");for(g in a)l.push(g+'="'+a[g]+'" ');!s(e)||"target"in a||l.push('target="',e,'" ');l.push('href="',f.replace(/"/g,"&quot;"),'">');r(h);l.push("</a>")}if(null==f||""===f)return f;if(!y(f))throw q("notstring",f);for(var p=z(u)?u:v(u)?function(){return u}:function(){return{}},n=f,l=[],w,m;f=n.match(g);)w=f[0],f[2]||f[4]||(w=(f[3]?"http://":"mailto:")+w),m=f.index,r(n.substr(0,m)),x(w,f[0].replace(t,"")),n=n.substring(m+f[0].length);r(n);return h(l.join(""))}}])})(window,window.angular);
/*!
 * angular-ui-mask
 * https://github.com/angular-ui/ui-mask
 * Version: 1.8.7 - 2016-07-26T15:59:07.992Z
 * License: MIT
 */
(function(){'use strict';angular.module('ui.mask',[]).value('uiMaskConfig',{maskDefinitions:{'9':/\d/,'A':/[a-zA-Z]/,'*':/[a-zA-Z0-9]/},clearOnBlurPlaceholder:false,escChar:'\\',eventsToHandle:['input','keyup','click','focus'],addDefaultPlaceholder:true,allowInvalidValue:false}).provider('uiMask.Config',function(){var options={};this.maskDefinitions=function(maskDefinitions){return options.maskDefinitions=maskDefinitions;};this.clearOnBlur=function(clearOnBlur){return options.clearOnBlur=clearOnBlur;};this.clearOnBlurPlaceholder=function(clearOnBlurPlaceholder){return options.clearOnBlurPlaceholder=clearOnBlurPlaceholder;};this.eventsToHandle=function(eventsToHandle){return options.eventsToHandle=eventsToHandle;};this.addDefaultPlaceholder=function(addDefaultPlaceholder){return options.addDefaultPlaceholder=addDefaultPlaceholder;};this.allowInvalidValue=function(allowInvalidValue){return options.allowInvalidValue=allowInvalidValue;};this.$get=['uiMaskConfig',function(uiMaskConfig){var tempOptions=uiMaskConfig;for(var prop in options){if(angular.isObject(options[prop])&&!angular.isArray(options[prop])){angular.extend(tempOptions[prop],options[prop]);}else{tempOptions[prop]=options[prop];}}
return tempOptions;}];}).directive('uiMask',['uiMask.Config',function(maskConfig){function isFocused(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);}
return{priority:100,require:'ngModel',restrict:'A',compile:function uiMaskCompilingFunction(){var options=angular.copy(maskConfig);return function uiMaskLinkingFunction(scope,iElement,iAttrs,controller){var maskProcessed=false,eventsBound=false,maskCaretMap,maskPatterns,maskPlaceholder,maskComponents,minRequiredLength,value,valueMasked,isValid,originalPlaceholder=iAttrs.placeholder,originalMaxlength=iAttrs.maxlength,oldValue,oldValueUnmasked,oldCaretPosition,oldSelectionLength,preventBackspace;var originalIsEmpty=controller.$isEmpty;controller.$isEmpty=function(value){if(maskProcessed){return originalIsEmpty(unmaskValue(value||''));}else{return originalIsEmpty(value);}};function initialize(maskAttr){if(!angular.isDefined(maskAttr)){return uninitialize();}
processRawMask(maskAttr);if(!maskProcessed){return uninitialize();}
initializeElement();bindEventListeners();return true;}
function initPlaceholder(placeholderAttr){if(!placeholderAttr){return;}
maskPlaceholder=placeholderAttr;if(maskProcessed&&!(iElement.val().length===0&&angular.isDefined(iAttrs.placeholder))){iElement.val(maskValue(unmaskValue(iElement.val())));}}
function initPlaceholderChar(){return initialize(iAttrs.uiMask);}
var modelViewValue=false;iAttrs.$observe('modelViewValue',function(val){if(val==='true'){modelViewValue=true;}});iAttrs.$observe('allowInvalidValue',function(val){linkOptions.allowInvalidValue=val===''?true:!!val;formatter(controller.$modelValue);});function formatter(fromModelValue){if(!maskProcessed){return fromModelValue;}
value=unmaskValue(fromModelValue||'');isValid=validateValue(value);controller.$setValidity('mask',isValid);if(!value.length)return undefined;if(isValid||linkOptions.allowInvalidValue){return maskValue(value);}else{return undefined;}}
function parser(fromViewValue){if(!maskProcessed){return fromViewValue;}
value=unmaskValue(fromViewValue||'');isValid=validateValue(value);controller.$viewValue=value.length?maskValue(value):'';controller.$setValidity('mask',isValid);if(isValid||linkOptions.allowInvalidValue){return modelViewValue?controller.$viewValue:value;}}
var linkOptions={};if(iAttrs.uiOptions){linkOptions=scope.$eval('['+iAttrs.uiOptions+']');if(angular.isObject(linkOptions[0])){linkOptions=(function(original,current){for(var i in original){if(Object.prototype.hasOwnProperty.call(original,i)){if(current[i]===undefined){current[i]=angular.copy(original[i]);}else{if(angular.isObject(current[i])&&!angular.isArray(current[i])){current[i]=angular.extend({},original[i],current[i]);}}}}
return current;})(options,linkOptions[0]);}else{linkOptions=options;}}else{linkOptions=options;}
iAttrs.$observe('uiMask',initialize);if(angular.isDefined(iAttrs.uiMaskPlaceholder)){iAttrs.$observe('uiMaskPlaceholder',initPlaceholder);}
else{iAttrs.$observe('placeholder',initPlaceholder);}
if(angular.isDefined(iAttrs.uiMaskPlaceholderChar)){iAttrs.$observe('uiMaskPlaceholderChar',initPlaceholderChar);}
controller.$formatters.unshift(formatter);controller.$parsers.unshift(parser);function uninitialize(){maskProcessed=false;unbindEventListeners();if(angular.isDefined(originalPlaceholder)){iElement.attr('placeholder',originalPlaceholder);}else{iElement.removeAttr('placeholder');}
if(angular.isDefined(originalMaxlength)){iElement.attr('maxlength',originalMaxlength);}else{iElement.removeAttr('maxlength');}
iElement.val(controller.$modelValue);controller.$viewValue=controller.$modelValue;return false;}
function initializeElement(){value=oldValueUnmasked=unmaskValue(controller.$modelValue||'');valueMasked=oldValue=maskValue(value);isValid=validateValue(value);if(iAttrs.maxlength){iElement.attr('maxlength',maskCaretMap[maskCaretMap.length-1]*2);}
if(!originalPlaceholder&&linkOptions.addDefaultPlaceholder){iElement.attr('placeholder',maskPlaceholder);}
var viewValue=controller.$modelValue;var idx=controller.$formatters.length;while(idx--){viewValue=controller.$formatters[idx](viewValue);}
controller.$viewValue=viewValue||'';controller.$render();}
function bindEventListeners(){if(eventsBound){return;}
iElement.bind('blur',blurHandler);iElement.bind('mousedown mouseup',mouseDownUpHandler);iElement.bind('keydown',keydownHandler);iElement.bind(linkOptions.eventsToHandle.join(' '),eventHandler);eventsBound=true;}
function unbindEventListeners(){if(!eventsBound){return;}
iElement.unbind('blur',blurHandler);iElement.unbind('mousedown',mouseDownUpHandler);iElement.unbind('mouseup',mouseDownUpHandler);iElement.unbind('keydown',keydownHandler);iElement.unbind('input',eventHandler);iElement.unbind('keyup',eventHandler);iElement.unbind('click',eventHandler);iElement.unbind('focus',eventHandler);eventsBound=false;}
function validateValue(value){return value.length?value.length>=minRequiredLength:true;}
function unmaskValue(value){var valueUnmasked='',input=iElement[0],maskPatternsCopy=maskPatterns.slice(),selectionStart=oldCaretPosition,selectionEnd=selectionStart+getSelectionLength(input),valueOffset,valueDelta,tempValue='';value=value.toString();valueOffset=0;valueDelta=value.length-maskPlaceholder.length;angular.forEach(maskComponents,function(component){var position=component.position;if(!(position>=selectionStart&&position<selectionEnd)){if(position>=selectionStart){position+=valueDelta;}
if(value.substring(position,position+component.value.length)===component.value){tempValue+=value.slice(valueOffset,position);valueOffset=position+component.value.length;}}});value=tempValue+value.slice(valueOffset);angular.forEach(value.split(''),function(chr){if(maskPatternsCopy.length&&maskPatternsCopy[0].test(chr)){valueUnmasked+=chr;maskPatternsCopy.shift();}});return valueUnmasked;}
function maskValue(unmaskedValue){var valueMasked='',maskCaretMapCopy=maskCaretMap.slice();angular.forEach(maskPlaceholder.split(''),function(chr,i){if(unmaskedValue.length&&i===maskCaretMapCopy[0]){valueMasked+=unmaskedValue.charAt(0)||'_';unmaskedValue=unmaskedValue.substr(1);maskCaretMapCopy.shift();}
else{valueMasked+=chr;}});return valueMasked;}
function getPlaceholderChar(i){var placeholder=angular.isDefined(iAttrs.uiMaskPlaceholder)?iAttrs.uiMaskPlaceholder:iAttrs.placeholder,defaultPlaceholderChar;if(angular.isDefined(placeholder)&&placeholder[i]){return placeholder[i];}else{defaultPlaceholderChar=angular.isDefined(iAttrs.uiMaskPlaceholderChar)&&iAttrs.uiMaskPlaceholderChar?iAttrs.uiMaskPlaceholderChar:'_';return(defaultPlaceholderChar.toLowerCase()==='space')?' ':defaultPlaceholderChar[0];}}
function getMaskComponents(){var maskPlaceholderChars=maskPlaceholder.split(''),maskPlaceholderCopy,components;if(maskCaretMap&&!isNaN(maskCaretMap[0])){angular.forEach(maskCaretMap,function(value){maskPlaceholderChars[value]='_';});}
maskPlaceholderCopy=maskPlaceholderChars.join('');components=maskPlaceholderCopy.replace(/[_]+/g,'_').split('_');components=components.filter(function(s){return s!=='';});var offset=0;return components.map(function(c){var componentPosition=maskPlaceholderCopy.indexOf(c,offset);offset=componentPosition+1;return{value:c,position:componentPosition};});}
function processRawMask(mask){var characterCount=0;maskCaretMap=[];maskPatterns=[];maskPlaceholder='';if(angular.isString(mask)){minRequiredLength=0;var isOptional=false,numberOfOptionalCharacters=0,splitMask=mask.split('');var inEscape=false;angular.forEach(splitMask,function(chr,i){if(inEscape){inEscape=false;maskPlaceholder+=chr;characterCount++;}
else if(linkOptions.escChar===chr){inEscape=true;}
else if(linkOptions.maskDefinitions[chr]){maskCaretMap.push(characterCount);maskPlaceholder+=getPlaceholderChar(i-numberOfOptionalCharacters);maskPatterns.push(linkOptions.maskDefinitions[chr]);characterCount++;if(!isOptional){minRequiredLength++;}
isOptional=false;}
else if(chr==='?'){isOptional=true;numberOfOptionalCharacters++;}
else{maskPlaceholder+=chr;characterCount++;}});}
maskCaretMap.push(maskCaretMap.slice().pop()+1);maskComponents=getMaskComponents();maskProcessed=maskCaretMap.length>1?true:false;}
var prevValue=iElement.val();function blurHandler(){if(linkOptions.clearOnBlur||((linkOptions.clearOnBlurPlaceholder)&&(value.length===0)&&iAttrs.placeholder)){oldCaretPosition=0;oldSelectionLength=0;if(!isValid||value.length===0){valueMasked='';iElement.val('');scope.$apply(function(){if(!controller.$pristine){controller.$setViewValue('');}});}}
if(value!==prevValue){var currentVal=iElement.val();var isTemporarilyEmpty=value===''&&currentVal&&angular.isDefined(iAttrs.uiMaskPlaceholderChar)&&iAttrs.uiMaskPlaceholderChar==='space';if(isTemporarilyEmpty){iElement.val('');}
triggerChangeEvent(iElement[0]);if(isTemporarilyEmpty){iElement.val(currentVal);}}
prevValue=value;}
function triggerChangeEvent(element){var change;if(angular.isFunction(window.Event)&&!element.fireEvent){try{change=new Event('change',{view:window,bubbles:true,cancelable:false});}catch(ex){change=document.createEvent('HTMLEvents');change.initEvent('change',false,true);}finally{element.dispatchEvent(change);}}else if('createEvent'in document){change=document.createEvent('HTMLEvents');change.initEvent('change',false,true);element.dispatchEvent(change);}
else if(element.fireEvent){element.fireEvent('onchange');}}
function mouseDownUpHandler(e){if(e.type==='mousedown'){iElement.bind('mouseout',mouseoutHandler);}else{iElement.unbind('mouseout',mouseoutHandler);}}
iElement.bind('mousedown mouseup',mouseDownUpHandler);function mouseoutHandler(){oldSelectionLength=getSelectionLength(this);iElement.unbind('mouseout',mouseoutHandler);}
function keydownHandler(e){var isKeyBackspace=e.which===8,caretPos=getCaretPosition(this)-1||0,isCtrlZ=e.which===90&&e.ctrlKey;if(isKeyBackspace){while(caretPos>=0){if(isValidCaretPosition(caretPos)){setCaretPosition(this,caretPos+1);break;}
caretPos--;}
preventBackspace=caretPos===-1;}
if(isCtrlZ){iElement.val('');e.preventDefault();}}
function eventHandler(e){e=e||{};var eventWhich=e.which,eventType=e.type;if(eventWhich===16||eventWhich===91){return;}
var val=iElement.val(),valOld=oldValue,valMasked,valAltered=false,valUnmasked=unmaskValue(val),valUnmaskedOld=oldValueUnmasked,caretPos=getCaretPosition(this)||0,caretPosOld=oldCaretPosition||0,caretPosDelta=caretPos-caretPosOld,caretPosMin=maskCaretMap[0],caretPosMax=maskCaretMap[valUnmasked.length]||maskCaretMap.slice().shift(),selectionLenOld=oldSelectionLength||0,isSelected=getSelectionLength(this)>0,wasSelected=selectionLenOld>0,isAddition=(val.length>valOld.length)||(selectionLenOld&&val.length>valOld.length-selectionLenOld),isDeletion=(val.length<valOld.length)||(selectionLenOld&&val.length===valOld.length-selectionLenOld),isSelection=(eventWhich>=37&&eventWhich<=40)&&e.shiftKey,isKeyLeftArrow=eventWhich===37,isKeyBackspace=eventWhich===8||(eventType!=='keyup'&&isDeletion&&(caretPosDelta===-1)),isKeyDelete=eventWhich===46||(eventType!=='keyup'&&isDeletion&&(caretPosDelta===0)&&!wasSelected),caretBumpBack=(isKeyLeftArrow||isKeyBackspace||eventType==='click')&&caretPos>caretPosMin;oldSelectionLength=getSelectionLength(this);if(isSelection||(isSelected&&(eventType==='click'||eventType==='keyup'||eventType==='focus'))){return;}
if(isKeyBackspace&&preventBackspace){iElement.val(maskPlaceholder);scope.$apply(function(){controller.$setViewValue('');});setCaretPosition(this,caretPosOld);return;}
if((eventType==='input')&&isDeletion&&!wasSelected&&valUnmasked===valUnmaskedOld){while(isKeyBackspace&&caretPos>caretPosMin&&!isValidCaretPosition(caretPos)){caretPos--;}
while(isKeyDelete&&caretPos<caretPosMax&&maskCaretMap.indexOf(caretPos)===-1){caretPos++;}
var charIndex=maskCaretMap.indexOf(caretPos);valUnmasked=valUnmasked.substring(0,charIndex)+valUnmasked.substring(charIndex+1);if(valUnmasked!==valUnmaskedOld)
valAltered=true;}
valMasked=maskValue(valUnmasked);oldValue=valMasked;oldValueUnmasked=valUnmasked;if(!valAltered&&val.length>valMasked.length)
valAltered=true;iElement.val(valMasked);if(valAltered){scope.$apply(function(){controller.$setViewValue(valMasked);});}
if(isAddition&&(caretPos<=caretPosMin)){caretPos=caretPosMin+1;}
if(caretBumpBack){caretPos--;}
caretPos=caretPos>caretPosMax?caretPosMax:caretPos<caretPosMin?caretPosMin:caretPos;while(!isValidCaretPosition(caretPos)&&caretPos>caretPosMin&&caretPos<caretPosMax){caretPos+=caretBumpBack?-1:1;}
if((caretBumpBack&&caretPos<caretPosMax)||(isAddition&&!isValidCaretPosition(caretPosOld))){caretPos++;}
oldCaretPosition=caretPos;setCaretPosition(this,caretPos);}
function isValidCaretPosition(pos){return maskCaretMap.indexOf(pos)>-1;}
function getCaretPosition(input){if(!input)
return 0;if(input.selectionStart!==undefined){return input.selectionStart;}else if(document.selection){if(isFocused(iElement[0])){input.focus();var selection=document.selection.createRange();selection.moveStart('character',input.value?-input.value.length:0);return selection.text.length;}}
return 0;}
function setCaretPosition(input,pos){if(!input)
return 0;if(input.offsetWidth===0||input.offsetHeight===0){return;}
if(input.setSelectionRange){if(isFocused(iElement[0])){input.focus();input.setSelectionRange(pos,pos);}}
else if(input.createTextRange){var range=input.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}}
function getSelectionLength(input){if(!input)
return 0;if(input.selectionStart!==undefined){return(input.selectionEnd-input.selectionStart);}
if(window.getSelection){return(window.getSelection().toString().length);}
if(document.selection){return(document.selection.createRange().text.length);}
return 0;}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===null){throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(len===0){return-1;}
var n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!==n){n=0;}else if(n!==0&&n!==Infinity&&n!==-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}
if(n>=len){return-1;}
var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}
return-1;};}};}};}]);}());;
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.7 - 2017-04-15T14:28:36.649Z
 * License: MIT
 */
(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true;}
if(e.metaKey||e.ctrlKey||e.altKey)return true;return false;},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123;},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k);},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k);},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];if(sep)return sep;return KEY[k]?undefined:k;}};function isNil(value){return angular.isUndefined(value)||value===null;}
if(angular.element.prototype.querySelectorAll===undefined){angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector));};}
if(angular.element.prototype.closest===undefined){angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector)){return elem;}else{elem=elem.parentElement;}}
return false;};}
var latestId=0;var uis=angular.module('ui.select',[]).constant('uiSelectConfig',{theme:'bootstrap',searchEnabled:true,sortable:false,placeholder:'',refreshDelay:1000,closeOnSelect:true,skipFocusser:false,dropdownPosition:'auto',removeSelected:true,resetSearchInput:true,generateId:function(){return latestId++;},appendToBody:false,spinnerEnabled:false,spinnerClass:'glyphicon glyphicon-refresh ui-select-spin',backspaceReset:true}).service('uiSelectMinErr',function(){var minErr=angular.$$minErr('ui.select');return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp('\nhttp://errors.angularjs.org/.*'),'');return new Error(message);};}).directive('uisTranscludeAppend',function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone);});}};}).filter('highlight',function(){function escapeRegexp(queryToEscape){return(''+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1');}
return function(matchItem,query){return query&&matchItem?(''+matchItem).replace(new RegExp(escapeRegexp(query),'gi'),'<span class="ui-select-highlight">$&</span>'):matchItem;};}).factory('uisOffset',['$document','$window',function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop('offsetWidth'),height:boundingClientRect.height||element.prop('offsetHeight'),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)};};}]);uis.factory('$$uisDebounce',['$timeout',function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);if(timeoutPromise){$timeout.cancel(timeoutPromise);}
timeoutPromise=$timeout(function(){callback.apply(self,args);},debounceTime);};};}]);uis.directive('uiSelectChoices',['uiSelectConfig','uisRepeatParser','uiSelectMinErr','$compile','$window',function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:'EA',require:'^uiSelect',replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass('ui-select-choices');var theme=tElement.parent().attr('theme')||uiSelectConfig.theme;return theme+'/choices.tpl.html';},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr('repeat',"Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy;var groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll('.ui-select-choices-group');if(groups.length!==1)throw uiSelectMinErr('rows',"Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr('ng-repeat',RepeatParser.getGroupNgRepeatExpression());}
var parserResult=RepeatParser.parse(tAttrs.repeat);var choices=tElement.querySelectorAll('.ui-select-choices-row');if(choices.length!==1){throw uiSelectMinErr('rows',"Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);}
choices.attr('ng-repeat',parserResult.repeatExpression(groupByExp)).attr('ng-if','$select.open');var rowsInner=tElement.querySelectorAll('.ui-select-choices-row-inner');if(rowsInner.length!==1){throw uiSelectMinErr('rows',"Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);}
rowsInner.attr('uis-transclude-append','');var clickTarget=$window.document.addEventListener?choices:rowsInner;clickTarget.attr('ng-click','$select.select('+parserResult.itemName+',$select.skipFocusser,$event)');return function link(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.minimumInputLength=parseInt(attrs.minimumInputLength)||0;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;scope.$watch('$select.search',function(newValue){if(newValue&&!$select.open&&$select.multiple)$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;if(!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength){$select.refresh(attrs.refresh);}else{$select.items=[];}});attrs.$observe('refreshDelay',function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=refreshDelay!==undefined?refreshDelay:uiSelectConfig.refreshDelay;});scope.$watch('$select.open',function(open){if(open){tElement.attr('role','listbox');$select.refresh(attrs.refresh);}else{element.removeAttr('role');}});};}};}]);uis.controller('uiSelectCtrl',['$scope','$element','$timeout','$filter','$$uisDebounce','uisRepeatParser','uiSelectMinErr','uiSelectConfig','$parse','$injector','$window',function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){var ctrl=this;var EMPTY_SEARCH='';ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.paste=uiSelectConfig.paste;ctrl.resetSearchInput=uiSelectConfig.resetSearchInput;ctrl.refreshing=false;ctrl.spinnerEnabled=uiSelectConfig.spinnerEnabled;ctrl.spinnerClass=uiSelectConfig.spinnerClass;ctrl.removeSelected=uiSelectConfig.removeSelected;ctrl.closeOnSelect=true;ctrl.skipFocusser=false;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=undefined;ctrl.dropdownPosition='auto';ctrl.focusser=undefined;ctrl.multiple=undefined;ctrl.disableChoiceExpression=undefined;ctrl.tagging={isActivated:false,fct:undefined};ctrl.taggingTokens={isActivated:false,tokens:undefined};ctrl.lockChoiceExpression=undefined;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.$element=$element;ctrl.$animate=(function(){try{return $injector.get('$animate');}catch(err){return null;}})();ctrl.searchInput=$element.querySelectorAll('input.ui-select-search');if(ctrl.searchInput.length!==1){throw uiSelectMinErr('searchInput',"Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);}
ctrl.isEmpty=function(){return isNil(ctrl.selected)||ctrl.selected===''||(ctrl.multiple&&ctrl.selected.length===0);};function _findIndex(collection,predicate,thisArg){if(collection.findIndex){return collection.findIndex(predicate,thisArg);}else{var list=Object(collection);var length=list.length>>>0;var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list)){return i;}}
return-1;}}
function _resetSearchInput(){if(ctrl.resetSearchInput){ctrl.search=EMPTY_SEARCH;if(ctrl.selected&&ctrl.items.length&&!ctrl.multiple){ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item);},ctrl.selected);}}}
function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++){for(j=0;j<groups.length;j++){if(groups[j].name==[groupNames[i]]){result.push(groups[j]);}}}
return result;}
ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){if(!avoidReset)_resetSearchInput();$scope.$broadcast('uis:activate');ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;if(ctrl.activeIndex===-1&&ctrl.taggingLabel!==false){ctrl.activeIndex=0;}
var container=$element.querySelectorAll('.ui-select-choices-content');var searchInput=$element.querySelectorAll('.ui-select-search');if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function(elem,phase){if(phase==='start'&&ctrl.items.length===0){ctrl.$animate.off('removeClass',searchInput[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue);});}else if(phase==='close'){ctrl.$animate.off('enter',container[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue);});}};if(ctrl.items.length>0){ctrl.$animate.on('enter',container[0],animateHandler);}else{ctrl.$animate.on('removeClass',searchInput[0],animateHandler);}}else{$timeout(function(){ctrl.focusSearchInput(initSearchValue);if(!ctrl.tagging.isActivated&&ctrl.items.length>1){_ensureHighlightVisible();}});}}
else if(ctrl.open&&!ctrl.searchEnabled){ctrl.close();}};ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus();};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name;})[0];};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);if(group){group.items.push(item);}
else{ctrl.groups.push({name:groupName,items:[item]});}});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);if(angular.isFunction(groupFilterFn)){ctrl.groups=groupFilterFn(ctrl.groups);}else if(angular.isArray(groupFilterFn)){ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn);}}
ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items);});}
function setPlainItems(items){ctrl.items=items||[];}
ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result;});};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse('$uisSource'+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){if(newVal!==oldVal)createArrayFromObject();},true);}
ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||(angular.isArray(selectedItems)&&!selectedItems.length)||!ctrl.multiple||!ctrl.removeSelected){ctrl.setItemsFn(data);}else{if(data!==undefined&&data!==null){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem);}):!angular.equals(i,selectedItems);});ctrl.setItemsFn(filteredItems);}}
if(ctrl.dropdownPosition==='auto'||ctrl.dropdownPosition==='up'){$scope.calculateDropdownPos();}
$scope.$broadcast('uis:refresh');};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(items===undefined||items===null){ctrl.items=[];}else{if(!angular.isArray(items)){throw uiSelectMinErr('items',"Expected an array but got '{0}'.",items);}else{ctrl.refreshItems(items);if(angular.isDefined(ctrl.ngModel.$modelValue)){ctrl.ngModel.$modelValue=null;}}}});};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(refreshAttr!==undefined){if(_refreshDelayPromise){$timeout.cancel(_refreshDelayPromise);}
_refreshDelayPromise=$timeout(function(){if($scope.$select.search.length>=$scope.$select.minimumInputLength){var refreshPromise=$scope.$eval(refreshAttr);if(refreshPromise&&angular.isFunction(refreshPromise.then)&&!ctrl.refreshing){ctrl.refreshing=true;refreshPromise.finally(function(){ctrl.refreshing=false;});}}},ctrl.refreshDelay);}};ctrl.isActive=function(itemScope){if(!ctrl.open){return false;}
var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex==ctrl.activeIndex;if(!isActive||itemIndex<0){return false;}
if(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)){itemScope.$eval(ctrl.onHighlightCallback);}
return isActive;};var _isItemSelected=function(item){return(ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item);}).length>0);};var disabledItems=[];function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);if(isDisabled&&disabledItemIndex===-1){disabledItems.push(item);}
if(!isDisabled&&disabledItemIndex>-1){disabledItems.splice(disabledItemIndex,1);}}
function _isItemDisabled(item){return disabledItems.indexOf(item)>-1;}
ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var item=itemScope[ctrl.itemProperty];var itemIndex=ctrl.items.indexOf(item);var isDisabled=false;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return false;if(ctrl.multiple){isDisabled=_isItemSelected(item);}
if(!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)){isDisabled=!!(itemScope.$eval(ctrl.disableChoiceExpression));}
_updateItemDisabled(item,isDisabled);}
return isDisabled;};ctrl.select=function(item,skipFocusser,$event){if(isNil(item)||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){ctrl.clickTriggeredSelect=false;if($event&&($event.type==='click'||$event.type==='touchend')&&item)
ctrl.clickTriggeredSelect=true;if(ctrl.tagging.isActivated&&ctrl.clickTriggeredSelect===false){if(ctrl.taggingLabel===false){if(ctrl.activeIndex<0){if(item===undefined){item=ctrl.tagging.fct!==undefined?ctrl.tagging.fct(ctrl.search):ctrl.search;}
if(!item||angular.equals(ctrl.items[0],item)){return;}}else{item=ctrl.items[ctrl.activeIndex];}}else{if(ctrl.activeIndex===0){if(item===undefined)return;if(ctrl.tagging.fct!==undefined&&typeof item==='string'){item=ctrl.tagging.fct(item);if(!item)return;}else if(typeof item==='string'){item=item.replace(ctrl.taggingLabel,'').trim();}}}
if(_isItemSelected(item)){ctrl.close(skipFocusser);return;}}
_resetSearchInput();$scope.$broadcast('uis:select',item);if(ctrl.closeOnSelect){ctrl.close(skipFocusser);}}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;if(ctrl.ngModel&&ctrl.ngModel.$setTouched)ctrl.ngModel.$setTouched();ctrl.open=false;_resetSearchInput();$scope.$broadcast('uis:close',skipFocusser);};ctrl.setFocus=function(){if(!ctrl.focus)ctrl.focusInput[0].focus();};ctrl.clear=function($event){ctrl.select(null);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus();},0,false);};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation();}else{ctrl.activate();}};ctrl.isLocked=function(){return false;};$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&ctrl.lockChoiceExpression!=="";},_initaliseLockedChoices);function _initaliseLockedChoices(doInitalise){if(!doInitalise)return;var lockedItems=[];function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);if(isLocked&&lockedItemIndex===-1){lockedItems.push(item);}
if(!isLocked&&lockedItemIndex>-1){lockedItems.splice(lockedItemIndex,1);}}
function _isItemlocked(item){return lockedItems.indexOf(item)>-1;}
ctrl.isLocked=function(itemScope,itemIndex){var isLocked=false,item=ctrl.selected[itemIndex];if(item){if(itemScope){isLocked=!!(itemScope.$eval(ctrl.lockChoiceExpression));_updateItemLocked(item,isLocked);}else{isLocked=_isItemlocked(item);}}
return isLocked;};}
var sizeWatch=null;var updaterScheduled=false;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.$element[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent;},updateIfVisible=function(containerWidth){if(containerWidth===0){return false;}
var inputWidth=containerWidth-input.offsetLeft;if(inputWidth<50)inputWidth=containerWidth;ctrl.searchInput.css('width',inputWidth+'px');return true;};ctrl.searchInput.css('width','10px');$timeout(function(){if(sizeWatch===null&&!updateIfVisible(calculateContainerWidth())){sizeWatch=$scope.$watch(function(){if(!updaterScheduled){updaterScheduled=true;$scope.$$postDigest(function(){updaterScheduled=false;if(updateIfVisible(calculateContainerWidth())){sizeWatch();sizeWatch=null;}});}},angular.noop);}});};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex<ctrl.items.length-1){var idx=++ctrl.activeIndex;while(_isItemDisabled(ctrl.items[idx])&&idx<ctrl.items.length){ctrl.activeIndex=++idx;}}
break;case KEY.UP:var minActiveIndex=(ctrl.search.length===0&&ctrl.tagging.isActivated)?-1:0;if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex>minActiveIndex){var idxmin=--ctrl.activeIndex;while(_isItemDisabled(ctrl.items[idxmin])&&idxmin>minActiveIndex){ctrl.activeIndex=--idxmin;}}
break;case KEY.TAB:if(!ctrl.multiple||ctrl.open)ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:if(ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)){ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser);}else{ctrl.activate(false,true);}
break;case KEY.ESC:ctrl.close();break;default:processed=false;}
return processed;}
ctrl.searchInput.on('keydown',function(e){var key=e.which;if(~[KEY.ENTER,KEY.ESC].indexOf(key)){e.preventDefault();e.stopPropagation();}
$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){if(!_handleDropDownSelection(key)&&!ctrl.searchEnabled){e.preventDefault();e.stopPropagation();}
if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){if(ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]){if(ctrl.search.length>0){tagged=true;}}}
if(tagged){$timeout(function(){ctrl.searchInput.triggerHandler('tagged');var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],'').trim();if(ctrl.tagging.fct){newItem=ctrl.tagging.fct(newItem);}
if(newItem)ctrl.select(newItem,true);});}}}});if(KEY.isVerticalMovement(key)&&ctrl.items.length>0){_ensureHighlightVisible();}
if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation();}});ctrl.searchInput.on('paste',function(e){var data;if(window.clipboardData&&window.clipboardData.getData){data=window.clipboardData.getData('Text');}else{data=(e.originalEvent||e).clipboardData.getData('text/plain');}
data=ctrl.search+data;if(data&&data.length>0){if(ctrl.taggingTokens.isActivated){var items=[];for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break;}}
if(items.length===0){items=[data];}
var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;if(newItem){ctrl.select(newItem,true);}});ctrl.search=oldsearch||EMPTY_SEARCH;e.preventDefault();e.stopPropagation();}else if(ctrl.paste){ctrl.paste(data);ctrl.search=EMPTY_SEARCH;e.preventDefault();e.stopPropagation();}}});ctrl.searchInput.on('tagged',function(){$timeout(function(){_resetSearchInput();});});function _ensureHighlightVisible(){var container=$element.querySelectorAll('.ui-select-choices-content');var choices=container.querySelectorAll('.ui-select-choices-row');if(choices.length<1){throw uiSelectMinErr('choices',"Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);}
if(ctrl.activeIndex<0){return;}
var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;if(posY>height){container[0].scrollTop+=posY-height;}else if(posY<highlighted.clientHeight){if(ctrl.isGrouped&&ctrl.activeIndex===0)
container[0].scrollTop=0;else
container[0].scrollTop-=highlighted.clientHeight-posY;}}
var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput();},50);angular.element($window).bind('resize',onResize);$scope.$on('$destroy',function(){ctrl.searchInput.off('keyup keydown tagged blur paste');angular.element($window).off('resize',onResize);});$scope.$watch('$select.activeIndex',function(activeIndex){if(activeIndex)
$element.find('input').attr('aria-activedescendant','ui-select-choices-row-'+ctrl.generatedId+'-'+activeIndex);});$scope.$watch('$select.open',function(open){if(!open)
$element.find('input').removeAttr('aria-activedescendant');});}]);uis.directive('uiSelect',['$document','uiSelectConfig','uiSelectMinErr','uisOffset','$compile','$parse','$timeout',function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:'EA',templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?'/select-multiple.tpl.html':'/select.tpl.html');},replace:true,transclude:true,require:['uiSelect','^ngModel'],scope:true,controller:'uiSelectCtrl',controllerAs:'$select',compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined='{'+match[1]+', '+match[2]+'}';tAttrs.ngClass=combined;tElement.attr('ng-class',combined);}
if(angular.isDefined(tAttrs.multiple))
tElement.append('<ui-select-multiple/>').removeAttr('multiple');else
tElement.append('<ui-select-single/>');if(tAttrs.inputId)
tElement.querySelectorAll('input.ui-select-search')[0].id=tAttrs.inputId;return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||XCLOUD.i18n('Select box','text');$select.focusserTitle=$select.baseTitle+' focus';$select.focusserId='focusser-'+$select.generatedId;$select.closeOnSelect=function(){if(angular.isDefined(attrs.closeOnSelect)){return $parse(attrs.closeOnSelect)();}else{return uiSelectConfig.closeOnSelect;}}();scope.$watch('skipFocusser',function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=skipFocusser!==undefined?skipFocusser:uiSelectConfig.skipFocusser;});$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name;};if(attrs.tabindex){attrs.$observe('tabindex',function(value){$select.focusInput.attr('tabindex',value);element.removeAttr('tabindex');});}
scope.$watch(function(){return scope.$eval(attrs.searchEnabled);},function(newVal){$select.searchEnabled=newVal!==undefined?newVal:uiSelectConfig.searchEnabled;});scope.$watch('sortable',function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=sortable!==undefined?sortable:uiSelectConfig.sortable;});attrs.$observe('backspaceReset',function(){var backspaceReset=scope.$eval(attrs.backspaceReset);$select.backspaceReset=backspaceReset!==undefined?backspaceReset:true;});attrs.$observe('limit',function(){$select.limit=(angular.isDefined(attrs.limit))?parseInt(attrs.limit,10):undefined;});scope.$watch('removeSelected',function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=removeSelected!==undefined?removeSelected:uiSelectConfig.removeSelected;});attrs.$observe('disabled',function(){$select.disabled=attrs.disabled!==undefined?attrs.disabled:false;});attrs.$observe('resetSearchInput',function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=resetSearchInput!==undefined?resetSearchInput:true;});attrs.$observe('paste',function(){$select.paste=scope.$eval(attrs.paste);});attrs.$observe('tagging',function(){if(attrs.tagging!==undefined)
{var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:taggingEval!==true?taggingEval:undefined};}
else
{$select.tagging={isActivated:false,fct:undefined};}});attrs.$observe('taggingLabel',function(){if(attrs.tagging!==undefined)
{if(attrs.taggingLabel==='false'){$select.taggingLabel=false;}
else
{$select.taggingLabel=attrs.taggingLabel!==undefined?attrs.taggingLabel:'(new)';}}});attrs.$observe('taggingTokens',function(){if(attrs.tagging!==undefined){var tokens=attrs.taggingTokens!==undefined?attrs.taggingTokens.split('|'):[',','ENTER'];$select.taggingTokens={isActivated:true,tokens:tokens};}});attrs.$observe('spinnerEnabled',function(){var spinnerEnabled=scope.$eval(attrs.spinnerEnabled);$select.spinnerEnabled=spinnerEnabled!==undefined?spinnerEnabled:uiSelectConfig.spinnerEnabled;});attrs.$observe('spinnerClass',function(){var spinnerClass=attrs.spinnerClass;$select.spinnerClass=spinnerClass!==undefined?attrs.spinnerClass:uiSelectConfig.spinnerClass;});if(angular.isDefined(attrs.autofocus)){$timeout(function(){$select.setFocus();});}
if(angular.isDefined(attrs.focusOn)){scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus();});});}
function onDocumentClick(e){if(!$select.open)return;var contains=false;if(window.jQuery){contains=window.jQuery.contains(element[0],e.target);}else{contains=element[0].contains(e.target);}
if(!contains&&!$select.clickTriggeredSelect){var skipFocusser;if(!$select.skipFocusser){var focusableControls=['input','button','textarea','select'];var targetController=angular.element(e.target).controller('uiSelect');skipFocusser=targetController&&targetController!==$select;if(!skipFocusser)skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase());}else{skipFocusser=true;}
$select.close(skipFocusser);scope.$digest();}
$select.clickTriggeredSelect=false;}
$document.on('click',onDocumentClick);scope.$on('$destroy',function(){$document.off('click',onDocumentClick);});transcludeFn(scope,function(clone){var transcluded=angular.element('<div>').append(clone);var transcludedMatch=transcluded.querySelectorAll('.ui-select-match');transcludedMatch.removeAttr('ui-select-match');transcludedMatch.removeAttr('data-ui-select-match');if(transcludedMatch.length!==1){throw uiSelectMinErr('transcluded',"Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);}
element.querySelectorAll('.ui-select-match').replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll('.ui-select-choices');transcludedChoices.removeAttr('ui-select-choices');transcludedChoices.removeAttr('data-ui-select-choices');if(transcludedChoices.length!==1){throw uiSelectMinErr('transcluded',"Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);}
element.querySelectorAll('.ui-select-choices').replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll('.ui-select-no-choice');transcludedNoChoice.removeAttr('ui-select-no-choice');transcludedNoChoice.removeAttr('data-ui-select-no-choice');if(transcludedNoChoice.length==1){element.querySelectorAll('.ui-select-no-choice').replaceWith(transcludedNoChoice);}});var appendToBody=scope.$eval(attrs.appendToBody);if(appendToBody!==undefined?appendToBody:uiSelectConfig.appendToBody){scope.$watch('$select.open',function(isOpen){if(isOpen){positionDropdown();}else{resetDropdown();}});scope.$on('$destroy',function(){resetDropdown();});}
var placeholder=null,originalWidth='';function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+'px';placeholder[0].style.height=offset.height+'px';element.after(placeholder);originalWidth=element[0].style.width;$document.find('body').append(element);element[0].style.position='absolute';element[0].style.left=offset.left+'px';element[0].style.top=offset.top+'px';element[0].style.width=offset.width+'px';}
function resetDropdown(){if(placeholder===null){return;}
placeholder.replaceWith(element);placeholder=null;element[0].style.position='';element[0].style.left='';element[0].style.top='';element[0].style.width=originalWidth;$select.setFocus();}
var dropdown=null,directionUpClassName='direction-up';scope.$watch('$select.open',function(){if($select.dropdownPosition==='auto'||$select.dropdownPosition==='up'){scope.calculateDropdownPos();}});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position='absolute';dropdown[0].style.top=(offsetDropdown.height*-1)+'px';element.addClass(directionUpClassName);};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position='';dropdown[0].style.top='';};var calculateDropdownPosAfterAnimation=function(){$timeout(function(){if($select.dropdownPosition==='up'){setDropdownPosUp();}else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;if(offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight){setDropdownPosUp(offset,offsetDropdown);}else{setDropdownPosDown(offset,offsetDropdown);}}
dropdown[0].style.opacity=1;});};var opened=false;scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll('.ui-select-dropdown');if(dropdown.length===0){return;}
if($select.search===''&&!opened){dropdown[0].style.opacity=0;opened=true;}
if(!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=true;$select.$animate.on('enter',dropdown,function(elem,phase){if(phase==='close'&&needsCalculated){calculateDropdownPosAfterAnimation();needsCalculated=false;}});}else{calculateDropdownPosAfterAnimation();}}else{if(dropdown===null||dropdown.length===0){return;}
dropdown[0].style.opacity=0;dropdown[0].style.position='';dropdown[0].style.top='';element.removeClass(directionUpClassName);}};};}};}]);uis.directive('uiSelectMatch',['uiSelectConfig',function(uiSelectConfig){return{restrict:'EA',require:'^uiSelect',replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass('ui-select-match');var parent=tElement.parent();var theme=getAttribute(parent,'theme')||uiSelectConfig.theme;var multi=angular.isDefined(getAttribute(parent,'multiple'));return theme+(multi?'/match-multiple.tpl.html':'/match.tpl.html');},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe('placeholder',function(placeholder){$select.placeholder=placeholder!==undefined?XCLOUD.i18n(placeholder,'text'):uiSelectConfig.placeholder;});function setAllowClear(allow){$select.allowClear=(angular.isDefined(allow))?(allow==='')?true:(allow.toLowerCase()==='true'):false;}
attrs.$observe('allowClear',setAllowClear);setAllowClear(attrs.allowClear);if($select.multiple){$select.sizeSearchInput();}}};function getAttribute(elem,attribute){if(elem[0].hasAttribute(attribute))
return elem.attr(attribute);if(elem[0].hasAttribute('data-'+attribute))
return elem.attr('data-'+attribute);if(elem[0].hasAttribute('x-'+attribute))
return elem.attr('x-'+attribute);}}]);uis.directive('uiSelectMultiple',['uiSelectMinErr','$timeout',function(uiSelectMinErr,$timeout){return{restrict:'EA',require:['^uiSelect','^ngModel'],controller:['$scope','$timeout',function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;if(angular.isUndefined($select.selected))
$select.selected=[];$scope.$evalAsync(function(){ngModel=$scope.ngModel;});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent();};ctrl.refreshComponent=function(){if($select.refreshItems){$select.refreshItems();}
if($select.sizeSearchInput){$select.sizeSearchInput();}};ctrl.removeChoice=function(index){if($select.isLocked(null,index))return false;var removedChoice=$select.selected[index];var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)});});ctrl.updateModel();return true;};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder;};}],controllerAs:'$selectMultiple',link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.focusInput=$select.searchInput;ngModel.$isEmpty=function(value){return!value||value.length===0;};ngModel.$parsers.unshift(function(){var locals={},result,resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result);}
return resultMultiple;});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:''}}),locals={},result;if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp);var matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName){if(matches&&matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true;}}}
if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true;}}
return false;};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--){if(!checkFnMultiple($select.selected,inputValue[k])){if(!checkFnMultiple(data,inputValue[k])){resultMultiple.unshift(inputValue[k]);}}}
return resultMultiple;});scope.$watchCollection(function(){return ngModel.$modelValue;},function(newValue,oldValue){if(oldValue!=newValue){if(angular.isDefined(ngModel.$modelValue)){ngModel.$modelValue=null;}
$selectMultiple.refreshComponent();}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(isNil(ngModel.$viewValue)){ngModel.$viewValue=[];}else{throw uiSelectMinErr('multiarr',"Expected model value to be array but got '{0}'",ngModel.$viewValue);}}
$select.selected=ngModel.$viewValue;$selectMultiple.refreshComponent();scope.$evalAsync();};scope.$on('uis:select',function(event,item){if($select.selected.length>=$select.limit){return;}
$select.selected.push(item);var locals={};locals[$select.parserResult.itemName]=item;$timeout(function(){$select.onSelectCallback(scope,{$item:item,$model:$select.parserResult.modelMapper(scope,locals)});});$selectMultiple.updateModel();});scope.$on('uis:activate',function(){$selectMultiple.activeMatchIndex=-1;});scope.$watch('$select.disabled',function(newValue,oldValue){if(oldValue&&!newValue)$select.sizeSearchInput();});$select.searchInput.on('keydown',function(e){var key=e.which;scope.$apply(function(){var processed=false;if(KEY.isHorizontalMovement(key)){processed=_handleMatchSelection(key);}
if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation();}});});function _getCaretPosition(el){if(angular.isNumber(el.selectionStart))return el.selectionStart;else return el.value.length;}
function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||($select.search.length&&key==KEY.RIGHT))return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex)return prev;else return last;break;case KEY.RIGHT:if(!~$selectMultiple.activeMatchIndex||curr===last){$select.activate();return false;}
else return next;break;case KEY.BACKSPACE:if(~$selectMultiple.activeMatchIndex){if($selectMultiple.removeChoice(curr)){return prev;}else{return curr;}}else{return last;}
break;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr;}
else return false;}}
newIndex=getNewActiveMatchIndex();if(!$select.selected.length||newIndex===false)$selectMultiple.activeMatchIndex=-1;else $selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex));return true;}
$select.searchInput.on('keyup',function(e){if(!KEY.isVerticalMovement(e.which)){scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===false?-1:0;});}
if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which)){return;}
$select.activeIndex=$select.taggingLabel===false?-1:0;if($select.taggingLabel===false)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if($select.tagging.fct!==undefined){tagItems=$select.$filter('filter')(items,{'isTag':true});if(tagItems.length>0){tagItem=tagItems[0];}
if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length);}
newItem=$select.tagging.fct($select.search);if(stashArr.some(function(origItem){return angular.equals(origItem,newItem);})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem);})){scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;});return;}
if(newItem)newItem.isTag=true;}else{tagItems=$select.$filter('filter')(items,function(item){return item.match($select.taggingLabel);});if(tagItems.length>0){tagItem=tagItems[0];}
item=items[0];if(item!==undefined&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length);}
newItem=$select.search+' '+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1){return;}
if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;});}
return;}
if(_findCaseInsensitiveDupe(stashArr)){if(hasTag){$select.items=stashArr.slice(1,stashArr.length);}
return;}}
if(hasTag)dupeIndex=_findApproxDupe($select.selected,newItem);if(dupeIndex>-1){items=items.slice(dupeIndex+1,items.length-1);}else{items=[];if(newItem)items.push(newItem);items=items.concat(stashArr);}
scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;if($select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag);if(newItem){$select.items.unshift(newItem);$select.groups.unshift({name:'',items:[newItem],tagging:true});}}});}});function _findCaseInsensitiveDupe(arr){if(arr===undefined||$select.search===undefined){return false;}
var hasDupe=arr.filter(function(origItem){if($select.search.toUpperCase()===undefined||origItem===undefined){return false;}
return origItem.toUpperCase()===$select.search.toUpperCase();}).length>0;return hasDupe;}
function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++){if($select.tagging.fct===undefined){if(tempArr[i]+' '+$select.taggingLabel===needle){dupeIndex=i;}}else{var mockObj=tempArr[i];if(angular.isObject(mockObj)){mockObj.isTag=true;}
if(angular.equals(mockObj,needle)){dupeIndex=i;}}}}
return dupeIndex;}
$select.searchInput.on('blur',function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1;});});}};}]);uis.directive('uiSelectNoChoice',['uiSelectConfig',function(uiSelectConfig){return{restrict:'EA',require:'^uiSelect',replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass('ui-select-no-choice');var theme=tElement.parent().attr('theme')||uiSelectConfig.theme;return theme+'/no-choice.tpl.html';}};}]);uis.directive('uiSelectSingle',['$timeout','$compile',function($timeout,$compile){return{restrict:'EA',require:['^uiSelect','^ngModel'],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){if(isNil(inputValue)){return inputValue;}
var locals={},result;locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result;});ngModel.$formatters.unshift(function(inputValue){if(isNil(inputValue)){return inputValue;}
var data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:''}}),locals={},result;if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result===inputValue;};if($select.selected&&checkFnSingle($select.selected)){return $select.selected;}
for(var i=data.length-1;i>=0;i--){if(checkFnSingle(data[i]))return data[i];}}
return inputValue;});scope.$watch('$select.selected',function(newValue){if(ngModel.$viewValue!==newValue){ngModel.$setViewValue(newValue);}});ngModel.$render=function(){$select.selected=ngModel.$viewValue;};scope.$on('uis:select',function(event,item){$select.selected=item;var locals={};locals[$select.parserResult.itemName]=item;$timeout(function(){$select.onSelectCallback(scope,{$item:item,$model:isNil(item)?item:$select.parserResult.modelMapper(scope,locals)});});});scope.$on('uis:close',function(event,skipFocusser){$timeout(function(){$select.focusser.prop('disabled',false);if(!skipFocusser)$select.focusser[0].focus();},0,false);});scope.$on('uis:activate',function(){focusser.prop('disabled',true);});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true;});});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false;});});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE&&$select.backspaceReset!==false){e.preventDefault();e.stopPropagation();$select.select(undefined);scope.$apply();return;}
if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return;}
if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate();}
scope.$digest();});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE){return;}
$select.activate(focusser.val());focusser.val('');scope.$digest();});}};}]);uis.directive('uiSelectSort',['$timeout','uiSelectConfig','uiSelectMinErr',function($timeout,uiSelectConfig,uiSelectMinErr){return{require:['^^uiSelect','^ngModel'],link:function(scope,element,attrs,ctrls){if(scope[attrs.uiSelectSort]===null){throw uiSelectMinErr('sort','Expected a list to sort');}
var $select=ctrls[0];var $ngModel=ctrls[1];var options=angular.extend({axis:'horizontal'},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis;var draggingClassName='dragging';var droppingClassName='dropping';var droppingBeforeClassName='dropping-before';var droppingAfterClassName='dropping-after';scope.$watch(function(){return $select.sortable;},function(newValue){if(newValue){element.attr('draggable',true);}else{element.removeAttr('draggable');}});element.on('dragstart',function(event){element.addClass(draggingClassName);(event.dataTransfer||event.originalEvent.dataTransfer).setData('text',scope.$index.toString());});element.on('dragend',function(){removeClass(draggingClassName);});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0]);};var removeClass=function(className){angular.forEach($select.$element.querySelectorAll('.'+className),function(el){angular.element(el).removeClass(className);});};var dragOverHandler=function(event){event.preventDefault();var offset=axis==='vertical'?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0);if(offset<(this[axis==='vertical'?'offsetHeight':'offsetWidth']/2)){removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName);}else{removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName);}};var dropTimeout;var dropHandler=function(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData('text'),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex);},20);};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort);var itemToMove=theList[droppedItemIndex];var newIndex=null;if(element.hasClass(droppingBeforeClassName)){if(droppedItemIndex<scope.$index){newIndex=scope.$index-1;}else{newIndex=scope.$index;}}else{if(droppedItemIndex<scope.$index){newIndex=scope.$index;}else{newIndex=scope.$index+1;}}
move.apply(theList,[droppedItemIndex,newIndex]);$ngModel.$setViewValue(Date.now());scope.$apply(function(){scope.$emit('uiSelectSort:change',{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex});});removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off('drop',dropHandler);};element.on('dragenter',function(){if(element.hasClass(draggingClassName)){return;}
element.addClass(droppingClassName);element.on('dragover',dragOverHandler);element.on('drop',dropHandler);});element.on('dragleave',function(event){if(event.target!=element){return;}
removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off('dragover',dragOverHandler);element.off('drop',dropHandler);});}};}]);uis.directive('uisOpenClose',['$parse','$timeout',function($parse,$timeout){return{restrict:'A',require:'uiSelect',link:function(scope,element,attrs,$select){$select.onOpenCloseCallback=$parse(attrs.uisOpenClose);scope.$watch('$select.open',function(isOpen,previousState){if(isOpen!==previousState){$timeout(function(){$select.onOpenCloseCallback(scope,{isOpen:isOpen});});}});}};}]);uis.service('uisRepeatParser',['uiSelectMinErr','$parse',function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw uiSelectMinErr('iexp',"Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);}
var source=match[5],filters='';if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,'');var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);if(filterMatch&&filterMatch[1].trim()){filters=filterMatch[1];source=source.replace(filters,'');}}
return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+' in '+(grouped?'$group.items':'$select.items');if(this.trackByExp){expression+=' track by '+this.trackByExp;}
return expression;}};};self.getGroupNgRepeatExpression=function(){return'$group in $select.groups track by $group.name';};}]);}());angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html","<ul class=\"ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu\" ng-show=\"$select.open && $select.items.length > 0\"><li class=\"ui-select-choices-group\" id=\"ui-select-choices-{{ $select.generatedId }}\"><div class=\"divider\" ng-show=\"$select.isGrouped && $index > 0\"></div><div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label dropdown-header\" ng-bind=\"$group.name\"></div><div ng-attr-id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\" role=\"option\"><span class=\"ui-select-choices-row-inner\"></span></div></li></ul>");$templateCache.put("bootstrap/match-multiple.tpl.html","<span class=\"ui-select-match\"><span ng-repeat=\"$item in $select.selected track by $index\"><span class=\"ui-select-match-item btn btn-default btn-xs\" tabindex=\"-1\" type=\"button\" ng-disabled=\"$select.disabled\" ng-click=\"$selectMultiple.activeMatchIndex = $index;\" ng-class=\"{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}\" ui-select-sort=\"$select.selected\"><span class=\"close ui-select-match-close\" ng-hide=\"$select.disabled\" ng-click=\"$selectMultiple.removeChoice($index)\">&nbsp;&times;</span> <span uis-transclude-append=\"\"></span></span></span></span>");$templateCache.put("bootstrap/match.tpl.html","<div class=\"ui-select-match\" ng-hide=\"$select.open && $select.searchEnabled\" ng-disabled=\"$select.disabled\" ng-class=\"{\'btn-default-focus\':$select.focus}\"><span tabindex=\"-1\" class=\"btn btn-default form-control ui-select-toggle\" aria-label=\"{{ $select.baseTitle }} activate\" ng-disabled=\"$select.disabled\" ng-click=\"$select.activate()\" style=\"outline: 0;\"><span ng-show=\"$select.isEmpty()\" class=\"ui-select-placeholder text-muted\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty()\" class=\"ui-select-match-text pull-left\" ng-class=\"{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}\" ng-transclude=\"\"></span> <i class=\"caret pull-right\" ng-click=\"$select.toggle($event)\"></i> <a ng-show=\"$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)\" aria-label=\"{{ $select.baseTitle }} clear\" style=\"margin-right: 10px\" ng-click=\"$select.clear($event)\" class=\"btn btn-xs btn-link pull-right\"><i class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></i></a></span></div>");$templateCache.put("bootstrap/no-choice.tpl.html","<ul class=\"ui-select-no-choice dropdown-menu\" ng-show=\"$select.items.length == 0\"><li ng-transclude=\"\"></li></ul>");$templateCache.put("bootstrap/select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\" ng-class=\"{open: $select.open}\"><div><div class=\"ui-select-match\"></div><input type=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" class=\"ui-select-search input-xs\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-disabled=\"$select.disabled\" ng-click=\"$select.activate()\" ng-model=\"$select.search\" role=\"combobox\" aria-expanded=\"{{$select.open}}\" aria-label=\"{{$select.baseTitle}}\" ng-class=\"{\'spinner\': $select.refreshing}\" ondrop=\"return false;\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");$templateCache.put("bootstrap/select.tpl.html","<div class=\"ui-select-container ui-select-bootstrap dropdown\" ng-class=\"{open: $select.open}\"><div class=\"ui-select-match\"></div><span ng-show=\"$select.open && $select.refreshing && $select.spinnerEnabled\" class=\"ui-select-refreshing {{$select.spinnerClass}}\"></span> <input type=\"search\" autocomplete=\"off\" tabindex=\"-1\" aria-expanded=\"true\" aria-label=\"{{ $select.baseTitle }}\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" class=\"form-control ui-select-search\" ng-class=\"{ \'ui-select-search-hidden\' : !$select.searchEnabled }\" placeholder=\"{{$select.placeholder}}\" ng-model=\"$select.search\" ng-show=\"$select.open\"><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");$templateCache.put("select2/choices.tpl.html","<ul tabindex=\"-1\" class=\"ui-select-choices ui-select-choices-content select2-results\"><li class=\"ui-select-choices-group\" ng-class=\"{\'select2-result-with-children\': $select.choiceGrouped($group) }\"><div ng-show=\"$select.choiceGrouped($group)\" class=\"ui-select-choices-group-label select2-result-label\" ng-bind=\"$group.name\"></div><ul id=\"ui-select-choices-{{ $select.generatedId }}\" ng-class=\"{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }\"><li role=\"option\" ng-attr-id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}\"><div class=\"select2-result-label ui-select-choices-row-inner\"></div></li></ul></li></ul>");$templateCache.put("select2/match-multiple.tpl.html","<span class=\"ui-select-match\"><li class=\"ui-select-match-item select2-search-choice\" ng-repeat=\"$item in $select.selected track by $index\" ng-class=\"{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}\" ui-select-sort=\"$select.selected\"><span uis-transclude-append=\"\"></span> <a href=\"javascript:;\" class=\"ui-select-match-close select2-search-choice-close\" ng-click=\"$selectMultiple.removeChoice($index)\" tabindex=\"-1\"></a></li></span>");$templateCache.put("select2/match.tpl.html","<a class=\"select2-choice ui-select-match\" ng-class=\"{\'select2-default\': $select.isEmpty()}\" ng-click=\"$select.toggle($event)\" aria-label=\"{{ $select.baseTitle }} select\"><span ng-show=\"$select.isEmpty()\" class=\"select2-chosen\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty()\" class=\"select2-chosen\" ng-transclude=\"\"></span> <abbr ng-if=\"$select.allowClear && !$select.isEmpty()\" class=\"select2-search-choice-close\" ng-click=\"$select.clear($event)\"></abbr> <span class=\"select2-arrow ui-select-toggle\"><b></b></span></a>");$templateCache.put("select2/no-choice.tpl.html","<div class=\"ui-select-no-choice dropdown\" ng-show=\"$select.items.length == 0\"><div class=\"dropdown-content\"><div data-selectable=\"\" ng-transclude=\"\"></div></div></div>");$templateCache.put("select2/select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple select2 select2-container select2-container-multi\" ng-class=\"{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}\"><ul class=\"select2-choices\"><span class=\"ui-select-match\"></span><li class=\"select2-search-field\"><input type=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" role=\"combobox\" aria-expanded=\"true\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-label=\"{{ $select.baseTitle }}\" aria-activedescendant=\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\" class=\"select2-input ui-select-search\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-disabled=\"$select.disabled\" ng-hide=\"$select.disabled\" ng-model=\"$select.search\" ng-click=\"$select.activate()\" style=\"width: 34px;\" ondrop=\"return false;\"></li></ul><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{\'select2-display-none\': !$select.open || $select.items.length === 0}\"><div class=\"ui-select-choices\"></div></div></div>");$templateCache.put("select2/select.tpl.html","<div class=\"ui-select-container select2 select2-container\" ng-class=\"{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}\"><div class=\"ui-select-match\"></div><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{\'select2-display-none\': !$select.open}\"><div class=\"search-container\" ng-class=\"{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}\"><input type=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" ng-class=\"{\'select2-active\': $select.refreshing}\" role=\"combobox\" aria-expanded=\"true\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-label=\"{{ $select.baseTitle }}\" class=\"ui-select-search select2-input\" ng-model=\"$select.search\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div></div>");$templateCache.put("selectize/choices.tpl.html","<div ng-show=\"$select.open\" class=\"ui-select-choices ui-select-dropdown selectize-dropdown\" ng-class=\"{\'single\': !$select.multiple, \'multi\': $select.multiple}\"><div class=\"ui-select-choices-content selectize-dropdown-content\"><div class=\"ui-select-choices-group optgroup\"><div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label optgroup-header\" ng-bind=\"$group.name\"></div><div role=\"option\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\"><div class=\"option ui-select-choices-row-inner\" data-selectable=\"\"></div></div></div></div></div>");$templateCache.put("selectize/match-multiple.tpl.html","<div class=\"ui-select-match\" data-value=\"\" ng-repeat=\"$item in $select.selected track by $index\" ng-click=\"$selectMultiple.activeMatchIndex = $index;\" ng-class=\"{\'active\':$selectMultiple.activeMatchIndex === $index}\" ui-select-sort=\"$select.selected\"><span class=\"ui-select-match-item\" ng-class=\"{\'select-locked\':$select.isLocked(this, $index)}\"><span uis-transclude-append=\"\"></span> <span class=\"remove ui-select-match-close\" ng-hide=\"$select.disabled\" ng-click=\"$selectMultiple.removeChoice($index)\">&times;</span></span></div>");$templateCache.put("selectize/match.tpl.html","<div ng-hide=\"$select.searchEnabled && ($select.open || $select.isEmpty())\" class=\"ui-select-match\"><span ng-show=\"!$select.searchEnabled && ($select.isEmpty() || $select.open)\" class=\"ui-select-placeholder text-muted\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty() || $select.open\" ng-transclude=\"\"></span></div>");$templateCache.put("selectize/no-choice.tpl.html","<div class=\"ui-select-no-choice selectize-dropdown\" ng-show=\"$select.items.length == 0\"><div class=\"selectize-dropdown-content\"><div data-selectable=\"\" ng-transclude=\"\"></div></div></div>");$templateCache.put("selectize/select-multiple.tpl.html","<div class=\"ui-select-container selectize-control multi plugin-remove_button\" ng-class=\"{\'open\': $select.open}\"><div class=\"selectize-input\" ng-class=\"{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}\" ng-click=\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\"><div class=\"ui-select-match\"></div><input type=\"search\" autocomplete=\"off\" tabindex=\"-1\" class=\"ui-select-search\" ng-class=\"{\'ui-select-search-hidden\':!$select.searchEnabled}\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-model=\"$select.search\" ng-disabled=\"$select.disabled\" aria-expanded=\"{{$select.open}}\" aria-label=\"{{ $select.baseTitle }}\" ondrop=\"return false;\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");$templateCache.put("selectize/select.tpl.html","<div class=\"ui-select-container selectize-control single\" ng-class=\"{\'open\': $select.open}\"><div class=\"selectize-input\" ng-class=\"{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}\" ng-click=\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\"><div class=\"ui-select-match\"></div><input type=\"search\" autocomplete=\"off\" tabindex=\"-1\" class=\"ui-select-search ui-select-toggle\" ng-class=\"{\'ui-select-search-hidden\':!$select.searchEnabled}\" ng-click=\"$select.toggle($event)\" placeholder=\"{{$select.placeholder}}\" ng-model=\"$select.search\" ng-hide=\"!$select.isEmpty() && !$select.open\" ng-disabled=\"$select.disabled\" aria-label=\"{{ $select.baseTitle }}\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");}]);
/*!
 * angular-translate - v2.17.1 - 2018-04-16
 * 
 * Copyright (c) 2018 The angular-translate team, Pascal Precht; Licensed MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),a=function(){var a=t.preferredLanguage();angular.isString(a)?t.use(a):n.put(e,t.use())};a.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e)).catch(a):a():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(t,e,n,a){"use strict";var r,i,s,o,u,l,c,f,g,p,h,d,v,m,$,y,b={},S=[],L=t,j=[],w="translate-cloak",C=!1,N=!1,O=".",E=!1,k=!1,P=0,A=!0,z="default",T={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return e}return n.join("-")},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},x=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var t,n,r=e.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if((n=r.languages[t])&&n.length)return n;for(t=0;t<i.length;t++)if((n=r[i[t]])&&n.length)return n;return null};x.displayName="angular-translate/service: getFirstBrowserLanguage";var F=function(){var t=x()||"";return T[z]&&(t=T[z](t)),t};F.displayName="angular-translate/service: getLocale";var I=function(t,e){for(var n=0,a=t.length;n<a;n++)if(t[n]===e)return n;return-1},_=function(){return this.toString().replace(/^\s+|\s+$/g,"")},V=function(t){return angular.isString(t)?t.toLowerCase():t},R=function(t){if(t){for(var e=[],n=V(t),a=0,r=S.length;a<r;a++)e.push(V(S[a]));if((a=I(e,n))>-1)return S[a];if(i){var s;for(var o in i)if(i.hasOwnProperty(o)){var u=!1,l=Object.prototype.hasOwnProperty.call(i,o)&&V(o)===V(t);if("*"===o.slice(-1)&&(u=V(o.slice(0,-1))===V(t.slice(0,o.length-1))),(l||u)&&(s=i[o],I(e,V(s))>-1))return s}}var c=t.split("_");return c.length>1&&I(e,V(c[0]))>-1?c[0]:void 0}},D=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],K(e));return this};this.translations=D,this.cloakClassName=function(t){return t?(w=t,this):w},this.nestedObjectDelimeter=function(t){return t?(O=t,this):O};var K=function(t,e,n,a){var r,i,s;e||(e=[]),n||(n={});for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?K(s,e.concat(r),n,r):(i=e.length?""+e.join(O)+O+r:r,e.length&&r===a&&(n[""+e.join(O)]="@:"+i),n[i]=s));return n};K.displayName="flatObject",this.addInterpolation=function(t){return j.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return p=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(U(t),this):r};var U=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(v=t,this):v},this.translationNotFoundIndicatorRight=function(t){return t?(m=t,this):m},this.fallbackLanguage=function(t){return M(t),this};var M=function(t){return t?(angular.isString(t)?(o=!0,s=[t]):angular.isArray(t)&&(o=!1,s=t),angular.isString(r)&&I(s,r)<0&&s.push(r),this):o?s[0]:s};this.use=function(t){if(t){if(!b[t]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return u=t,this}return u},this.resolveClientLocale=function(){return F()};var H=function(t){return t?(L=t,this):f?f+L:L};this.storageKey=H,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return h=t,d=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(f=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return g=t,this},this.usePostCompiling=function(t){return C=!!t,this},this.forceAsyncReload=function(t){return N=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},z=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():F();return r=S.length?R(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(S=t,e&&(i=e),this):S},this.useLoaderCache=function(t){return!1===t?$=void 0:!0===t?$=!0:void 0===t?$="$translationCache":t&&($=t),this},this.directivePriority=function(t){return void 0===t?P:(P=t,this)},this.statefulFilter=function(t){return void 0===t?A:(A=t,this)},this.postProcess=function(t){return y=t||void 0,this},this.keepContent=function(t){return k=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,a){var i,f,z,T=e.get(p||"$translateDefaultInterpolation"),x=!1,V={},G={},q=function(t,e,n,o,l,g){!u&&r&&(u=r);var p=l&&l!==u?R(l)||l:u;if(l&&lt(l),angular.isArray(t)){return function(t){for(var r={},i=[],s=0,u=t.length;s<u;s++)i.push(function(t){var i=a.defer(),s=function(e){r[t]=e,i.resolve([t,e])};return q(t,e,n,o,l,g).then(s,s),i.promise}(t[s]));return a.all(i).then(function(){return r})}(t)}var h=a.defer();t&&(t=_.apply(t));var d=function(){var t=G[p]||G[r];if(f=0,c&&!t){var e=i.get(L);if(t=G[e],s&&s.length){var n=I(s,e);f=0===n?1:0,I(s,r)<0&&s.push(r)}}return t}();if(d){var v=function(){l||(p=u),it(t,e,n,o,p,g).then(h.resolve,h.reject)};v.displayName="promiseResolved",d.finally(v).catch(angular.noop)}else it(t,e,n,o,p,g).then(h.resolve,h.reject);return h.promise},Y=function(t){return v&&(t=[v,t].join(" ")),m&&(t=[t,m].join(" ")),t},B=function(t){u=t,c&&i.put(q.storageKey(),u),n.$emit("$translateChangeSuccess",{language:t}),T.setLocale(u);var e=function(t,e){V[e].setLocale(u)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(V,e),n.$emit("$translateChangeEnd",{language:t})},J=function(t){if(!t)throw"No language key specified for loading.";var r=a.defer();n.$emit("$translateLoadingStart",{language:t}),x=!0;var i=$;"string"==typeof i&&(i=e.get(i));var s=angular.extend({},d,{key:t,$http:angular.extend({},{cache:i},d.$http)}),o=function(e){var a={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(a,K(t))}):angular.extend(a,K(e)),x=!1,r.resolve({key:t,table:a}),n.$emit("$translateLoadingEnd",{language:t})};o.displayName="onLoaderSuccess";var u=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return u.displayName="onLoaderError",e.get(h)(s).then(o,u),r.promise};if(c&&(!(i=e.get(c)).get||!i.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(j.length){var Q=function(t){var n=e.get(t);n.setLocale(r||u),V[n.getInterpolationIdentifier()]=n};Q.displayName="interpolationFactoryAdder",angular.forEach(j,Q)}var W=function(t){var e=a.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(G[t]){var n=function(t){D(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",G[t].then(n,e.reject)}else e.reject();return e.promise},X=function(t,e,n,r,i){var s=a.defer(),o=function(a){if(Object.prototype.hasOwnProperty.call(a,e)&&null!==a[e]){r.setLocale(t);var o=a[e];if("@:"===o.substr(0,2))X(t,o.substr(2),n,r,i).then(s.resolve,s.reject);else{var l=r.interpolate(a[e],n,"service",i,e);l=ut(e,a[e],l,n,t),s.resolve(l)}r.setLocale(u)}else s.reject()};return o.displayName="fallbackTranslationResolver",W(t).then(o,s.reject),s.promise},Z=function(t,e,n,a,r){var i,s=b[t];if(s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]){if(a.setLocale(t),i=a.interpolate(s[e],n,"filter",r,e),i=ut(e,s[e],i,n,t,r),!angular.isString(i)&&angular.isFunction(i.$$unwrapTrustedValue)){var o=i.$$unwrapTrustedValue();if("@:"===o.substr(0,2))return Z(t,o.substr(2),n,a,r)}else if("@:"===i.substr(0,2))return Z(t,i.substr(2),n,a,r);a.setLocale(u)}return i},tt=function(t,n,a,r){return g?e.get(g)(t,u,n,a,r):t},et=function(t,e,n,r,i,o){var u=a.defer();if(t<s.length){var l=s[t];X(l,e,n,r,o).then(function(t){u.resolve(t)},function(){return et(t+1,e,n,r,i,o).then(u.resolve,u.reject)})}else if(i)u.resolve(i);else{var c=tt(e,n,i);g&&c?u.resolve(c):u.reject(Y(e))}return u.promise},nt=function(t,e,n,a,r){var i;if(t<s.length){var o=s[t];(i=Z(o,e,n,a,r))||""===i||(i=nt(t+1,e,n,a))}return i},at=function(t,e,n,a,r){return et(z>0?z:f,t,e,n,a,r)},rt=function(t,e,n,a){return nt(z>0?z:f,t,e,n,a)},it=function(t,e,n,r,i,o){var u=a.defer(),l=i?b[i]:b,c=n?V[n]:T;if(l&&Object.prototype.hasOwnProperty.call(l,t)&&null!==l[t]){var f=l[t];if("@:"===f.substr(0,2))q(f.substr(2),e,n,r,i,o).then(u.resolve,u.reject);else{var p=c.interpolate(f,e,"service",o,t);p=ut(t,f,p,e,i),u.resolve(p)}}else{var h;g&&!x&&(h=tt(t,e,r)),i&&s&&s.length?at(t,e,c,r,o).then(function(t){u.resolve(t)},function(t){u.reject(Y(t))}):g&&!x&&h?r?u.resolve(r):u.resolve(h):r?u.resolve(r):u.reject(Y(t))}return u.promise},st=function(t,e,n,a,r){var i,o=a?b[a]:b,u=T;if(V&&Object.prototype.hasOwnProperty.call(V,n)&&(u=V[n]),o&&Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]){var l=o[t];"@:"===l.substr(0,2)?i=st(l.substr(2),e,n,a,r):(i=u.interpolate(l,e,"filter",r,t),i=ut(t,l,i,e,a,r))}else{var c;g&&!x&&(c=tt(t,e,r)),a&&s&&s.length?(f=0,i=rt(t,e,u,r)):i=g&&!x&&c?c:Y(t)}return i},ot=function(t){l===t&&(l=void 0),G[t]=void 0},ut=function(t,n,a,r,i,s){var o=y;return o&&("string"==typeof o&&(o=e.get(o)),o)?o(t,n,a,r,i,s):a},lt=function(t){b[t]||!h||G[t]||(G[t]=J(t).then(function(t){return D(t.key,t.table),t}))};q.preferredLanguage=function(t){return t&&U(t),r},q.cloakClassName=function(){return w},q.nestedObjectDelimeter=function(){return O},q.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(M(t),h&&s&&s.length)for(var e=0,n=s.length;e<n;e++)G[s[e]]||(G[s[e]]=J(s[e]));q.use(q.use())}return o?s[0]:s},q.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=I(s,t);e>-1&&(z=e)}else z=0},q.proposedLanguage=function(){return l},q.storage=function(){return i},q.negotiateLocale=R,q.use=function(t){if(!t)return u;var e=a.defer();e.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:t});var r=R(t);return S.length>0&&!r?a.reject(t):(r&&(t=r),l=t,!N&&b[t]||!h||G[t]?G[t]?G[t].then(function(t){return l===t.key&&B(t.key),e.resolve(t.key),t},function(t){return!u&&s&&s.length>0&&s[0]!==t?q.use(s[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),B(t)):(G[t]=J(t).then(function(n){return D(n.key,n.table),e.resolve(n.key),l===t&&B(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),a.reject(t)}),G[t].finally(function(){ot(t)}).catch(angular.noop)),e.promise)},q.resolveClientLocale=function(){return F()},q.storageKey=function(){return H()},q.isPostCompilingEnabled=function(){return C},q.isForceAsyncReloadEnabled=function(){return N},q.isKeepContent=function(){return k},q.refresh=function(t){function e(t){var e=J(t);return G[t]=e,e.then(function(e){b[t]={},D(t,e.table),i[t]=!0},angular.noop),e}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:t});var r=a.defer(),i={};if(r.promise.then(function(){for(var t in b)b.hasOwnProperty(t)&&(t in i||delete b[t]);u&&B(u)},angular.noop).finally(function(){n.$emit("$translateRefreshEnd",{language:t})}),t)b[t]?e(t).then(r.resolve,r.reject):r.reject();else{var o=s&&s.slice()||[];u&&-1===o.indexOf(u)&&o.push(u),a.all(o.map(e)).then(r.resolve,r.reject)}return r.promise},q.instant=function(t,e,n,a,i){var o=a&&a!==u?R(a)||a:u;if(null===t||angular.isUndefined(t))return t;if(a&&lt(a),angular.isArray(t)){for(var l={},c=0,f=t.length;c<f;c++)l[t[c]]=q.instant(t[c],e,n,a,i);return l}if(angular.isString(t)&&t.length<1)return t;t&&(t=_.apply(t));var p,h=[];r&&h.push(r),o&&h.push(o),s&&s.length&&(h=h.concat(s));for(var d=0,$=h.length;d<$;d++){var y=h[d];if(b[y]&&void 0!==b[y][t]&&(p=st(t,e,n,o,i)),void 0!==p)break}if(!p&&""!==p)if(v||m)p=Y(t);else{p=T.interpolate(t,e,"filter",i);var S;g&&!x&&(S=tt(t,e,i)),g&&!x&&S&&(p=S)}return p},q.versionInfo=function(){return"2.17.1"},q.loaderCache=function(){return $},q.directivePriority=function(){return P},q.statefulFilter=function(){return A},q.isReady=function(){return E};var ct=a.defer();ct.promise.then(function(){E=!0}),q.onReady=function(t){var e=a.defer();return angular.isFunction(t)&&e.promise.then(t),E?e.resolve():ct.promise.then(e.resolve),e.promise},q.getAvailableLanguageKeys=function(){return S.length>0?S:null},q.getTranslationTable=function(t){return(t=t||q.use())&&b[t]?angular.copy(b[t]):null};var ft=n.$on("$translateReady",function(){ct.resolve(),ft(),ft=null}),gt=n.$on("$translateChangeEnd",function(){ct.resolve(),gt(),gt=null});if(h){if(angular.equals(b,{})&&q.use()&&q.use(q.use()),s&&s.length)for(var pt=0,ht=s.length;pt<ht;pt++){var dt=s[pt];!N&&b[dt]||(G[dt]=J(dt).then(function(t){return D(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t}))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function n(t,e){"use strict";var n,a={};return a.setLocale=function(t){n=t},a.getInterpolationIdentifier=function(){return"default"},a.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},a.interpolate=function(n,a,r,i,s){a=a||{},a=e.sanitize(a,"params",i,r);var o;return angular.isNumber(n)?o=""+n:angular.isString(n)?(o=t(n)(a),o=e.sanitize(o,"text",i,r)):o="",o},a}function a(t,e,n,a,i){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")},o=function(t){return angular.isString(t)?t.toLowerCase():t};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(u,l){var c=l.translateValues?l.translateValues:void 0,f=l.translateInterpolation?l.translateInterpolation:void 0,g=l.translateSanitizeStrategy?l.translateSanitizeStrategy:void 0,p=u[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",d="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(u,v,m){u.interpolateParams={},u.preText="",u.postText="",u.translateNamespace=r(u);var $={},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=s.apply(v.text()),a=n.match(h);if(angular.isArray(a)){u.preText=a[1],u.postText=a[3],$.translate=e(a[2])(u.$parent);var r=n.match(d);angular.isArray(r)&&r[2]&&r[2].length&&(y._unwatchOld=u.$watch(r[2],function(t){$.translate=t,j()}))}else $.translate=n||void 0}else $.translate=t;j()};!function(t,e,n){if(e.translateValues&&angular.extend(t,a(e.translateValues)(u.$parent)),p)for(var r in n)Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r&&(t[o(r.substr(14,1))+r.substr(15)]=n[r])}(u.interpolateParams,m,l);var b=!0;m.$observe("translate",function(t){void 0===t?y(""):""===t&&b||($.translate=t,j()),b=!1});for(var S in m)m.hasOwnProperty(S)&&"translateAttr"===S.substr(0,13)&&S.length>13&&function(t){m.$observe(t,function(e){$[t]=e,j()})}(S);if(m.$observe("translateDefault",function(t){u.defaultText=t,j()}),g&&m.$observe("translateSanitizeStrategy",function(t){u.sanitizeStrategy=a(t)(u.$parent),j()}),c&&m.$observe("translateValues",function(t){t&&u.$parent.$watch(function(){angular.extend(u.interpolateParams,a(t)(u.$parent))})}),p){for(var L in m)Object.prototype.hasOwnProperty.call(m,L)&&"translateValue"===L.substr(0,14)&&"translateValues"!==L&&function(t){m.$observe(t,function(e){var n=o(t.substr(14,1))+t.substr(15);u.interpolateParams[n]=e})}(L)}var j=function(){for(var t in $)$.hasOwnProperty(t)&&void 0!==$[t]&&w(t,$[t],u,u.interpolateParams,u.defaultText,u.translateNamespace)},w=function(e,n,a,r,i,s){n?(s&&"."===n.charAt(0)&&(n=s+n),t(n,r,f,i,a.translateLanguage,a.sanitizeStrategy).then(function(t){C(t,a,!0,e)},function(t){C(t,a,!1,e)})):C(n,a,!1,e)},C=function(e,a,r,i){if(r||void 0!==a.defaultText&&(e=a.defaultText),"translate"===i){(r||!r&&!t.isKeepContent()&&void 0===m.translateKeepContent)&&v.empty().append(a.preText+e+a.postText);var s=t.isPostCompilingEnabled(),o=void 0!==l.translateCompile,u=o&&"false"!==l.translateCompile;(s&&!o||u)&&n(v.contents())(a)}else{var c=m.$attr[i];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),v.attr(c,e)}};(c||p||m.translateDefault)&&u.$watch("interpolateParams",j,!0),u.$on("translateLanguageChanged",j);var N=i.$on("$translateChangeSuccess",j);v.text().length?y(m.translate?m.translate:""):m.translate&&y(m.translate),j(),u.$on("$destroy",N)}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function i(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,a,r){var i,o,u,l={},c=function(){angular.forEach(i,function(e,i){e&&(l[i]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,o,r.translateInterpolation,void 0,n.translateLanguage,u).then(function(t){a.attr(i,t)},function(t){a.attr(i,t)}))}),angular.forEach(l,function(t,e){i[e]||(a.removeAttr(e),delete l[e])})};s(n,r.translateAttr,function(t){i=t},c),s(n,r.translateValues,function(t){o=t},c),s(n,r.translateSanitizeStrategy,function(t){u=t},c),r.translateValues&&n.$watch(r.translateValues,c,!0),n.$on("translateLanguageChanged",c);var f=e.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",f)}}}function s(t,e,n,a){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),a()},!0),n(t.$eval(e)))}function o(t,e){"use strict";return{compile:function(n){var a=function(e){e.addClass(t.cloakClassName())},r=function(e){e.removeClass(t.cloakClassName())};return a(n),function(n,i,s){var o=r.bind(this,i),u=a.bind(this,i);s.translateCloak&&s.translateCloak.length?(s.$observe("translateCloak",function(e){t(e).then(o,u)}),e.$on("$translateChangeSuccess",function(){t(s.translateCloak).then(o,u)})):t.onReady(o)}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=l(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function l(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?l(t.$parent):void 0}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function f(t,e){"use strict";var n=function(n,a,r,i){if(!angular.isObject(a)){var s=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};a=t(a)(s)}return e.instant(n,a,r,i)};return e.statefulFilter()&&(n.$stateful=!0),n}function g(t){"use strict";return t("translations")}return t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],a.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],i.$inject=["$translate","$rootScope"],o.$inject=["$translate","$rootScope"],f.$inject=["$parse","$translate"],g.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var t,e,n,a=null,r=!1,i=!1;(n={sanitize:function(t,e){return"text"===e&&(t=o(t)),t},escape:function(t,e){return"text"===e&&(t=s(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=l(t,o)),t},escapeParameters:function(t,e){return"params"===e&&(t=l(t,s)),t},sce:function(t,e,n){return"text"===e?t=u(t):"params"===e&&"filter"!==n&&(t=l(t,s)),t},sceParameters:function(t,e){return"params"===e&&(t=l(t,u)),t}}).escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return r=!0,a=t,this},this.$get=["$injector","$log",function(s,o){var u={},l=function(t,e,a,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,e,a);else if(angular.isFunction(n[r]))t=n[r](t,e,a);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!u[n[r]])try{u[n[r]]=s.get(n[r])}catch(t){throw u[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=u[n[r]](t,e,a)}}),t},c=function(){r||i||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return s.has("$sanitize")&&(t=s.get("$sanitize")),s.has("$sce")&&(e=s.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,r){if(a||c(),n||null===n||(n=a),!n)return t;r||(r="service");var i=angular.isArray(n)?n:[n];return l(t,e,r,i)}}}];var s=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},o=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},u=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},l=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var a=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,r){angular.isFunction(t)||(a[r]=l(t,e,n))}),n.splice(-1,1),a}return angular.isNumber(t)?t:!0===t||!1===t?t:angular.isUndefined(t)||null===t?t:e(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",a),a.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",i),i.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",u),u.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",c),c.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",f),f.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",g),g.displayName="$translationCache","pascalprecht.translate"});if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="angular-md5";}
!function(a){a.module("angular-md5",["gdi2290.md5"]),a.module("ngMd5",["gdi2290.md5"]),a.module("gdi2290.md5",["gdi2290.gravatar-filter","gdi2290.md5-service","gdi2290.md5-filter"]),a.module("gdi2290.gravatar-filter",[]).filter("gravatar",["md5",function(a){var b={};return function(c,d){return b[c]||(d=d?a.createHash(d.toString().toLowerCase()):"",b[c]=c?a.createHash(c.toString().toLowerCase()):d),b[c]}}]),a.module("gdi2290.md5-filter",[]).filter("md5",["md5",function(a){return function(b){return b?a.createHash(b.toString().toLowerCase()):b}}]),a.module("gdi2290.md5-service",[]).factory("md5",[function(){var a={createHash:function(a){if(null===a)return null;var b,c,d,e,f,g,h,i,j,k,l=function(a,b){return a<<b|a>>>32-b},m=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},n=function(a,b,c){return a&b|~a&c},o=function(a,b,c){return a&c|b&~c},p=function(a,b,c){return a^b^c},q=function(a,b,c){return b^(a|~c)},r=function(a,b,c,d,e,f,g){return a=m(a,m(m(n(b,c,d),e),g)),m(l(a,f),b)},s=function(a,b,c,d,e,f,g){return a=m(a,m(m(o(b,c,d),e),g)),m(l(a,f),b)},t=function(a,b,c,d,e,f,g){return a=m(a,m(m(p(b,c,d),e),g)),m(l(a,f),b)},u=function(a,b,c,d,e,f,g){return a=m(a,m(m(q(b,c,d),e),g)),m(l(a,f),b)},v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},w=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(x=v(a),h=1732584193,i=4023233417,j=2562383102,k=271733878,b=x.length,c=0;b>c;c+=16)d=h,e=i,f=j,g=k,h=r(h,i,j,k,x[c+0],y,3614090360),k=r(k,h,i,j,x[c+1],z,3905402710),j=r(j,k,h,i,x[c+2],A,606105819),i=r(i,j,k,h,x[c+3],B,3250441966),h=r(h,i,j,k,x[c+4],y,4118548399),k=r(k,h,i,j,x[c+5],z,1200080426),j=r(j,k,h,i,x[c+6],A,2821735955),i=r(i,j,k,h,x[c+7],B,4249261313),h=r(h,i,j,k,x[c+8],y,1770035416),k=r(k,h,i,j,x[c+9],z,2336552879),j=r(j,k,h,i,x[c+10],A,4294925233),i=r(i,j,k,h,x[c+11],B,2304563134),h=r(h,i,j,k,x[c+12],y,1804603682),k=r(k,h,i,j,x[c+13],z,4254626195),j=r(j,k,h,i,x[c+14],A,2792965006),i=r(i,j,k,h,x[c+15],B,1236535329),h=s(h,i,j,k,x[c+1],C,4129170786),k=s(k,h,i,j,x[c+6],D,3225465664),j=s(j,k,h,i,x[c+11],E,643717713),i=s(i,j,k,h,x[c+0],F,3921069994),h=s(h,i,j,k,x[c+5],C,3593408605),k=s(k,h,i,j,x[c+10],D,38016083),j=s(j,k,h,i,x[c+15],E,3634488961),i=s(i,j,k,h,x[c+4],F,3889429448),h=s(h,i,j,k,x[c+9],C,568446438),k=s(k,h,i,j,x[c+14],D,3275163606),j=s(j,k,h,i,x[c+3],E,4107603335),i=s(i,j,k,h,x[c+8],F,1163531501),h=s(h,i,j,k,x[c+13],C,2850285829),k=s(k,h,i,j,x[c+2],D,4243563512),j=s(j,k,h,i,x[c+7],E,1735328473),i=s(i,j,k,h,x[c+12],F,2368359562),h=t(h,i,j,k,x[c+5],G,4294588738),k=t(k,h,i,j,x[c+8],H,2272392833),j=t(j,k,h,i,x[c+11],I,1839030562),i=t(i,j,k,h,x[c+14],J,4259657740),h=t(h,i,j,k,x[c+1],G,2763975236),k=t(k,h,i,j,x[c+4],H,1272893353),j=t(j,k,h,i,x[c+7],I,4139469664),i=t(i,j,k,h,x[c+10],J,3200236656),h=t(h,i,j,k,x[c+13],G,681279174),k=t(k,h,i,j,x[c+0],H,3936430074),j=t(j,k,h,i,x[c+3],I,3572445317),i=t(i,j,k,h,x[c+6],J,76029189),h=t(h,i,j,k,x[c+9],G,3654602809),k=t(k,h,i,j,x[c+12],H,3873151461),j=t(j,k,h,i,x[c+15],I,530742520),i=t(i,j,k,h,x[c+2],J,3299628645),h=u(h,i,j,k,x[c+0],K,4096336452),k=u(k,h,i,j,x[c+7],L,1126891415),j=u(j,k,h,i,x[c+14],M,2878612391),i=u(i,j,k,h,x[c+5],N,4237533241),h=u(h,i,j,k,x[c+12],K,1700485571),k=u(k,h,i,j,x[c+3],L,2399980690),j=u(j,k,h,i,x[c+10],M,4293915773),i=u(i,j,k,h,x[c+1],N,2240044497),h=u(h,i,j,k,x[c+8],K,1873313359),k=u(k,h,i,j,x[c+15],L,4264355552),j=u(j,k,h,i,x[c+6],M,2734768916),i=u(i,j,k,h,x[c+13],N,1309151649),h=u(h,i,j,k,x[c+4],K,4149444226),k=u(k,h,i,j,x[c+11],L,3174756917),j=u(j,k,h,i,x[c+2],M,718787259),i=u(i,j,k,h,x[c+9],N,3951481745),h=m(h,d),i=m(i,e),j=m(j,f),k=m(k,g);var O=w(h)+w(i)+w(j)+w(k);return O.toLowerCase()}};return a}])}(angular);(function(global,factory){if(typeof define==='function'&&define.amd){define([],factory);}else if(typeof module!=='undefined'&&module.exports){module.exports=factory();}else{global.tv4=factory();}}(this,function(){if(!Object.keys){Object.keys=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&typeof obj!=='function'||obj===null){throw new TypeError('Object.keys called on non-object');}
var result=[];for(var prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(var i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};})();}
if(!Object.create){Object.create=(function(){function F(){}
return function(o){if(arguments.length!==1){throw new Error('Object.create implementation only accepts one parameter.');}
F.prototype=o;return new F();};})();}
if(!Array.isArray){Array.isArray=function(vArg){return Object.prototype.toString.call(vArg)==="[object Array]";};}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===null){throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(len===0){return-1;}
var n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!==n){n=0;}else if(n!==0&&n!==Infinity&&n!==-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}
if(n>=len){return-1;}
var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}
return-1;};}
if(!Object.isFrozen){Object.isFrozen=function(obj){var key="tv4_test_frozen_key";while(obj.hasOwnProperty(key)){key+=Math.random();}
try{obj[key]=true;delete obj[key];return false;}catch(e){return true;}};}
var ValidatorContext=function ValidatorContext(parent,collectMultiple,errorMessages,checkRecursive,trackUnknownProperties){this.missing=[];this.missingMap={};this.formatValidators=parent?Object.create(parent.formatValidators):{};this.schemas=parent?Object.create(parent.schemas):{};this.collectMultiple=collectMultiple;this.errors=[];this.handleError=collectMultiple?this.collectError:this.returnError;if(checkRecursive){this.checkRecursive=true;this.scanned=[];this.scannedFrozen=[];this.scannedFrozenSchemas=[];this.scannedFrozenValidationErrors=[];this.validatedSchemasKey='tv4_validation_id';this.validationErrorsKey='tv4_validation_errors_id';}
if(trackUnknownProperties){this.trackUnknownProperties=true;this.knownPropertyPaths={};this.unknownPropertyPaths={};}
this.errorMessages=errorMessages;this.definedKeywords={};if(parent){for(var key in parent.definedKeywords){this.definedKeywords[key]=parent.definedKeywords[key].slice(0);}}};ValidatorContext.prototype.defineKeyword=function(keyword,keywordFunction){this.definedKeywords[keyword]=this.definedKeywords[keyword]||[];this.definedKeywords[keyword].push(keywordFunction);};ValidatorContext.prototype.createError=function(code,messageParams,dataPath,schemaPath,subErrors){var messageTemplate=this.errorMessages[code]||ErrorMessagesDefault[code];if(typeof messageTemplate!=='string'){return new ValidationError(code,"Unknown error code "+code+": "+JSON.stringify(messageParams),dataPath,schemaPath,subErrors);}
var message=messageTemplate.replace(/\{([^{}]*)\}/g,function(whole,varName){var subValue=messageParams[varName];return typeof subValue==='string'||typeof subValue==='number'?subValue:whole;});return new ValidationError(code,message,dataPath,schemaPath,subErrors);};ValidatorContext.prototype.returnError=function(error){return error;};ValidatorContext.prototype.collectError=function(error){if(error){this.errors.push(error);}
return null;};ValidatorContext.prototype.prefixErrors=function(startIndex,dataPath,schemaPath){for(var i=startIndex;i<this.errors.length;i++){this.errors[i]=this.errors[i].prefixWith(dataPath,schemaPath);}
return this;};ValidatorContext.prototype.banUnknownProperties=function(){for(var unknownPath in this.unknownPropertyPaths){var error=this.createError(ErrorCodes.UNKNOWN_PROPERTY,{path:unknownPath},unknownPath,"");var result=this.handleError(error);if(result){return result;}}
return null;};ValidatorContext.prototype.addFormat=function(format,validator){if(typeof format==='object'){for(var key in format){this.addFormat(key,format[key]);}
return this;}
this.formatValidators[format]=validator;};ValidatorContext.prototype.resolveRefs=function(schema,urlHistory){if(schema['$ref']!==undefined){urlHistory=urlHistory||{};if(urlHistory[schema['$ref']]){return this.createError(ErrorCodes.CIRCULAR_REFERENCE,{urls:Object.keys(urlHistory).join(', ')},'','');}
urlHistory[schema['$ref']]=true;schema=this.getSchema(schema['$ref'],urlHistory);}
return schema;};ValidatorContext.prototype.getSchema=function(url,urlHistory){var schema;if(this.schemas[url]!==undefined){schema=this.schemas[url];return this.resolveRefs(schema,urlHistory);}
var baseUrl=url;var fragment="";if(url.indexOf('#')!==-1){fragment=url.substring(url.indexOf("#")+1);baseUrl=url.substring(0,url.indexOf("#"));}
if(typeof this.schemas[baseUrl]==='object'){schema=this.schemas[baseUrl];var pointerPath=decodeURIComponent(fragment);if(pointerPath===""){return this.resolveRefs(schema,urlHistory);}else if(pointerPath.charAt(0)!=="/"){return undefined;}
var parts=pointerPath.split("/").slice(1);for(var i=0;i<parts.length;i++){var component=parts[i].replace(/~1/g,"/").replace(/~0/g,"~");if(schema[component]===undefined){schema=undefined;break;}
schema=schema[component];}
if(schema!==undefined){return this.resolveRefs(schema,urlHistory);}}
if(this.missing[baseUrl]===undefined){this.missing.push(baseUrl);this.missing[baseUrl]=baseUrl;this.missingMap[baseUrl]=baseUrl;}};ValidatorContext.prototype.searchSchemas=function(schema,url){if(schema&&typeof schema==="object"){if(typeof schema.id==="string"){if(isTrustedUrl(url,schema.id)){if(this.schemas[schema.id]===undefined){this.schemas[schema.id]=schema;}}}
for(var key in schema){if(key!=="enum"){if(typeof schema[key]==="object"){this.searchSchemas(schema[key],url);}else if(key==="$ref"){var uri=getDocumentUri(schema[key]);if(uri&&this.schemas[uri]===undefined&&this.missingMap[uri]===undefined){this.missingMap[uri]=uri;}}}}}};ValidatorContext.prototype.addSchema=function(url,schema){if(typeof url!=='string'||typeof schema==='undefined'){if(typeof url==='object'&&typeof url.id==='string'){schema=url;url=schema.id;}
else{return;}}
if(url=getDocumentUri(url)+"#"){url=getDocumentUri(url);}
this.schemas[url]=schema;delete this.missingMap[url];normSchema(schema,url);this.searchSchemas(schema,url);};ValidatorContext.prototype.getSchemaMap=function(){var map={};for(var key in this.schemas){map[key]=this.schemas[key];}
return map;};ValidatorContext.prototype.getSchemaUris=function(filterRegExp){var list=[];for(var key in this.schemas){if(!filterRegExp||filterRegExp.test(key)){list.push(key);}}
return list;};ValidatorContext.prototype.getMissingUris=function(filterRegExp){var list=[];for(var key in this.missingMap){if(!filterRegExp||filterRegExp.test(key)){list.push(key);}}
return list;};ValidatorContext.prototype.dropSchemas=function(){this.schemas={};this.reset();};ValidatorContext.prototype.reset=function(){this.missing=[];this.missingMap={};this.errors=[];};ValidatorContext.prototype.validateAll=function(data,schema,dataPathParts,schemaPathParts,dataPointerPath){var topLevel;schema=this.resolveRefs(schema);if(!schema){return null;}else if(schema instanceof ValidationError){this.errors.push(schema);return schema;}
var startErrorCount=this.errors.length;var frozenIndex,scannedFrozenSchemaIndex=null,scannedSchemasIndex=null;if(this.checkRecursive&&data&&typeof data==='object'){topLevel=!this.scanned.length;if(data[this.validatedSchemasKey]){var schemaIndex=data[this.validatedSchemasKey].indexOf(schema);if(schemaIndex!==-1){this.errors=this.errors.concat(data[this.validationErrorsKey][schemaIndex]);return null;}}
if(Object.isFrozen(data)){frozenIndex=this.scannedFrozen.indexOf(data);if(frozenIndex!==-1){var frozenSchemaIndex=this.scannedFrozenSchemas[frozenIndex].indexOf(schema);if(frozenSchemaIndex!==-1){this.errors=this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);return null;}}}
this.scanned.push(data);if(Object.isFrozen(data)){if(frozenIndex===-1){frozenIndex=this.scannedFrozen.length;this.scannedFrozen.push(data);this.scannedFrozenSchemas.push([]);}
scannedFrozenSchemaIndex=this.scannedFrozenSchemas[frozenIndex].length;this.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex]=schema;this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex]=[];}else{if(!data[this.validatedSchemasKey]){try{Object.defineProperty(data,this.validatedSchemasKey,{value:[],configurable:true});Object.defineProperty(data,this.validationErrorsKey,{value:[],configurable:true});}catch(e){data[this.validatedSchemasKey]=[];data[this.validationErrorsKey]=[];}}
scannedSchemasIndex=data[this.validatedSchemasKey].length;data[this.validatedSchemasKey][scannedSchemasIndex]=schema;data[this.validationErrorsKey][scannedSchemasIndex]=[];}}
var errorCount=this.errors.length;var error=this.validateBasic(data,schema,dataPointerPath)||this.validateNumeric(data,schema,dataPointerPath)||this.validateString(data,schema,dataPointerPath)||this.validateArray(data,schema,dataPointerPath)||this.validateObject(data,schema,dataPointerPath)||this.validateCombinations(data,schema,dataPointerPath)||this.validateFormat(data,schema,dataPointerPath)||this.validateDefinedKeywords(data,schema,dataPointerPath)||null;if(topLevel){while(this.scanned.length){var item=this.scanned.pop();delete item[this.validatedSchemasKey];}
this.scannedFrozen=[];this.scannedFrozenSchemas=[];}
if(error||errorCount!==this.errors.length){while((dataPathParts&&dataPathParts.length)||(schemaPathParts&&schemaPathParts.length)){var dataPart=(dataPathParts&&dataPathParts.length)?""+dataPathParts.pop():null;var schemaPart=(schemaPathParts&&schemaPathParts.length)?""+schemaPathParts.pop():null;if(error){error=error.prefixWith(dataPart,schemaPart);}
this.prefixErrors(errorCount,dataPart,schemaPart);}}
if(scannedFrozenSchemaIndex!==null){this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex]=this.errors.slice(startErrorCount);}else if(scannedSchemasIndex!==null){data[this.validationErrorsKey][scannedSchemasIndex]=this.errors.slice(startErrorCount);}
return this.handleError(error);};ValidatorContext.prototype.validateFormat=function(data,schema){if(typeof schema.format!=='string'||!this.formatValidators[schema.format]){return null;}
var errorMessage=this.formatValidators[schema.format].call(null,data,schema);if(typeof errorMessage==='string'||typeof errorMessage==='number'){return this.createError(ErrorCodes.FORMAT_CUSTOM,{message:errorMessage}).prefixWith(null,"format");}else if(errorMessage&&typeof errorMessage==='object'){return this.createError(ErrorCodes.FORMAT_CUSTOM,{message:errorMessage.message||"?"},errorMessage.dataPath||null,errorMessage.schemaPath||"/format");}
return null;};ValidatorContext.prototype.validateDefinedKeywords=function(data,schema){for(var key in this.definedKeywords){var validationFunctions=this.definedKeywords[key];for(var i=0;i<validationFunctions.length;i++){var func=validationFunctions[i];var result=func(data,schema[key],schema);if(typeof result==='string'||typeof result==='number'){return this.createError(ErrorCodes.KEYWORD_CUSTOM,{key:key,message:result}).prefixWith(null,"format");}else if(result&&typeof result==='object'){var code=result.code||ErrorCodes.KEYWORD_CUSTOM;if(typeof code==='string'){if(!ErrorCodes[code]){throw new Error('Undefined error code (use defineError): '+code);}
code=ErrorCodes[code];}
var messageParams=(typeof result.message==='object')?result.message:{key:key,message:result.message||"?"};var schemaPath=result.schemaPath||("/"+key.replace(/~/g,'~0').replace(/\//g,'~1'));return this.createError(code,messageParams,result.dataPath||null,schemaPath);}}}
return null;};function recursiveCompare(A,B){if(A===B){return true;}
if(typeof A==="object"&&typeof B==="object"){if(Array.isArray(A)!==Array.isArray(B)){return false;}else if(Array.isArray(A)){if(A.length!==B.length){return false;}
for(var i=0;i<A.length;i++){if(!recursiveCompare(A[i],B[i])){return false;}}}else{var key;for(key in A){if(B[key]===undefined&&A[key]!==undefined){return false;}}
for(key in B){if(A[key]===undefined&&B[key]!==undefined){return false;}}
for(key in A){if(!recursiveCompare(A[key],B[key])){return false;}}}
return true;}
return false;}
ValidatorContext.prototype.validateBasic=function validateBasic(data,schema,dataPointerPath){var error;if(error=this.validateType(data,schema,dataPointerPath)){return error.prefixWith(null,"type");}
if(error=this.validateEnum(data,schema,dataPointerPath)){return error.prefixWith(null,"type");}
return null;};ValidatorContext.prototype.validateType=function validateType(data,schema){if(schema.type===undefined){return null;}
var dataType=typeof data;if(data===null){dataType="null";}else if(Array.isArray(data)){dataType="array";}
var allowedTypes=schema.type;if(typeof allowedTypes!=="object"){allowedTypes=[allowedTypes];}
for(var i=0;i<allowedTypes.length;i++){var type=allowedTypes[i];if(type===dataType||(type==="integer"&&dataType==="number"&&(data%1===0))){return null;}}
return this.createError(ErrorCodes.INVALID_TYPE,{type:dataType,expected:allowedTypes.join("/")});};ValidatorContext.prototype.validateEnum=function validateEnum(data,schema){if(schema["enum"]===undefined){return null;}
for(var i=0;i<schema["enum"].length;i++){var enumVal=schema["enum"][i];if(recursiveCompare(data,enumVal)){return null;}}
return this.createError(ErrorCodes.ENUM_MISMATCH,{value:(typeof JSON!=='undefined')?JSON.stringify(data):data});};ValidatorContext.prototype.validateNumeric=function validateNumeric(data,schema,dataPointerPath){return this.validateMultipleOf(data,schema,dataPointerPath)||this.validateMinMax(data,schema,dataPointerPath)||null;};ValidatorContext.prototype.validateMultipleOf=function validateMultipleOf(data,schema){var multipleOf=schema.multipleOf||schema.divisibleBy;if(multipleOf===undefined){return null;}
if(typeof data==="number"){if(data%multipleOf!==0){return this.createError(ErrorCodes.NUMBER_MULTIPLE_OF,{value:data,multipleOf:multipleOf});}}
return null;};ValidatorContext.prototype.validateMinMax=function validateMinMax(data,schema){if(typeof data!=="number"){return null;}
if(schema.minimum!==undefined){if(data<schema.minimum){return this.createError(ErrorCodes.NUMBER_MINIMUM,{value:data,minimum:schema.minimum}).prefixWith(null,"minimum");}
if(schema.exclusiveMinimum&&data===schema.minimum){return this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE,{value:data,minimum:schema.minimum}).prefixWith(null,"exclusiveMinimum");}}
if(schema.maximum!==undefined){if(data>schema.maximum){return this.createError(ErrorCodes.NUMBER_MAXIMUM,{value:data,maximum:schema.maximum}).prefixWith(null,"maximum");}
if(schema.exclusiveMaximum&&data===schema.maximum){return this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE,{value:data,maximum:schema.maximum}).prefixWith(null,"exclusiveMaximum");}}
return null;};ValidatorContext.prototype.validateString=function validateString(data,schema,dataPointerPath){return this.validateStringLength(data,schema,dataPointerPath)||this.validateStringPattern(data,schema,dataPointerPath)||this.validateCustomNumber(data,schema,dataPointerPath)||null;};ValidatorContext.prototype.validateStringLength=function validateStringLength(data,schema){if(typeof data!=="string"){return null;}
if(schema.minLength!==undefined){if(data.length<schema.minLength){return this.createError(ErrorCodes.STRING_LENGTH_SHORT,{length:data.length,minimum:schema.minLength}).prefixWith(null,"minLength");}}
if(schema.maxLength!==undefined){if(data.length>schema.maxLength){return this.createError(ErrorCodes.STRING_LENGTH_LONG,{length:data.length,maximum:schema.maxLength}).prefixWith(null,"maxLength");}}
return null;};ValidatorContext.prototype.validateStringPattern=function validateStringPattern(data,schema){if(typeof data!=="string"||schema.pattern===undefined){return null;}
var regexp=new RegExp(schema.pattern);if(!regexp.test(data)){return this.createError(ErrorCodes.STRING_PATTERN,{pattern:schema.pattern}).prefixWith(null,"pattern");}
return null;};ValidatorContext.prototype.validateCustomNumber=function validateCustomNumber(data,schema){if(typeof data!=="string"){return null;}
if(typeof schema.minimum===undefined&&typeof schema.maximum===undefined){return null;}
if((schema.minimum||schema.maximum)&&schema.type==="string"){if(schema.minimum){var minimum=parseInt(schema.minimum);var data=parseInt(data);if(data<minimum){return this.createError(ErrorCodes.NUMBER_MINIMUM,{value:data,minimum:schema.minimum}).prefixWith(null,"minimum");}}
if(schema.maximum){var maximum=parseInt(schema.maximum);var data=parseInt(data);if(data>maximum){return this.createError(ErrorCodes.NUMBER_MAXIMUM,{value:data,maximum:schema.maximum}).prefixWith(null,"maximum");}}}
return null;};ValidatorContext.prototype.validateArray=function validateArray(data,schema,dataPointerPath){if(!Array.isArray(data)){return null;}
return this.validateArrayLength(data,schema,dataPointerPath)||this.validateArrayUniqueItems(data,schema,dataPointerPath)||this.validateArrayItems(data,schema,dataPointerPath)||null;};ValidatorContext.prototype.validateArrayLength=function validateArrayLength(data,schema){var error;if(schema.minItems!==undefined){if(data.length<schema.minItems){error=(this.createError(ErrorCodes.ARRAY_LENGTH_SHORT,{length:data.length,minimum:schema.minItems})).prefixWith(null,"minItems");if(this.handleError(error)){return error;}}}
if(schema.maxItems!==undefined){if(data.length>schema.maxItems){error=(this.createError(ErrorCodes.ARRAY_LENGTH_LONG,{length:data.length,maximum:schema.maxItems})).prefixWith(null,"maxItems");if(this.handleError(error)){return error;}}}
return null;};ValidatorContext.prototype.validateArrayUniqueItems=function validateArrayUniqueItems(data,schema){if(schema.uniqueItems){for(var i=0;i<data.length;i++){for(var j=i+1;j<data.length;j++){if(recursiveCompare(data[i],data[j])){var error=(this.createError(ErrorCodes.ARRAY_UNIQUE,{match1:i,match2:j})).prefixWith(null,"uniqueItems");if(this.handleError(error)){return error;}}}}}
return null;};ValidatorContext.prototype.validateArrayItems=function validateArrayItems(data,schema,dataPointerPath){if(schema.items===undefined){return null;}
var error,i;if(Array.isArray(schema.items)){for(i=0;i<data.length;i++){if(i<schema.items.length){if(error=this.validateAll(data[i],schema.items[i],[i],["items",i],dataPointerPath+"/"+i)){return error;}}else if(schema.additionalItems!==undefined){if(typeof schema.additionalItems==="boolean"){if(!schema.additionalItems){error=(this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS,{})).prefixWith(""+i,"additionalItems");if(this.handleError(error)){return error;}}}else if(error=this.validateAll(data[i],schema.additionalItems,[i],["additionalItems"],dataPointerPath+"/"+i)){return error;}}}}else{for(i=0;i<data.length;i++){if(error=this.validateAll(data[i],schema.items,[i],["items"],dataPointerPath+"/"+i)){return error;}}}
return null;};ValidatorContext.prototype.validateObject=function validateObject(data,schema,dataPointerPath){if(typeof data!=="object"||data===null||Array.isArray(data)){return null;}
return this.validateObjectMinMaxProperties(data,schema,dataPointerPath)||this.validateObjectRequiredProperties(data,schema,dataPointerPath)||this.validateObjectProperties(data,schema,dataPointerPath)||this.validateObjectDependencies(data,schema,dataPointerPath)||null;};ValidatorContext.prototype.validateObjectMinMaxProperties=function validateObjectMinMaxProperties(data,schema){var keys=Object.keys(data);var error;if(schema.minProperties!==undefined){if(keys.length<schema.minProperties){error=this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM,{propertyCount:keys.length,minimum:schema.minProperties}).prefixWith(null,"minProperties");if(this.handleError(error)){return error;}}}
if(schema.maxProperties!==undefined){if(keys.length>schema.maxProperties){error=this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:keys.length,maximum:schema.maxProperties}).prefixWith(null,"maxProperties");if(this.handleError(error)){return error;}}}
return null;};ValidatorContext.prototype.validateObjectRequiredProperties=function validateObjectRequiredProperties(data,schema){if(schema.required!==undefined){for(var i=0;i<schema.required.length;i++){var key=schema.required[i];if(data[key]===undefined){var error=this.createError(ErrorCodes.OBJECT_REQUIRED,{key:key}).prefixWith(null,""+i).prefixWith(null,"required");if(this.handleError(error)){return error;}}}}
return null;};ValidatorContext.prototype.validateObjectProperties=function validateObjectProperties(data,schema,dataPointerPath){var error;for(var key in data){var keyPointerPath=dataPointerPath+"/"+key.replace(/~/g,'~0').replace(/\//g,'~1');var foundMatch=false;if(schema.properties!==undefined&&schema.properties[key]!==undefined){foundMatch=true;if(error=this.validateAll(data[key],schema.properties[key],[key],["properties",key],keyPointerPath)){return error;}}
if(schema.patternProperties!==undefined){for(var patternKey in schema.patternProperties){var regexp=new RegExp(patternKey);if(regexp.test(key)){foundMatch=true;if(error=this.validateAll(data[key],schema.patternProperties[patternKey],[key],["patternProperties",patternKey],keyPointerPath)){return error;}}}}
if(!foundMatch){if(schema.additionalProperties!==undefined){if(this.trackUnknownProperties){this.knownPropertyPaths[keyPointerPath]=true;delete this.unknownPropertyPaths[keyPointerPath];}
if(typeof schema.additionalProperties==="boolean"){if(!schema.additionalProperties){error=this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(key,"additionalProperties");if(this.handleError(error)){return error;}}}else{if(error=this.validateAll(data[key],schema.additionalProperties,[key],["additionalProperties"],keyPointerPath)){return error;}}}else if(this.trackUnknownProperties&&!this.knownPropertyPaths[keyPointerPath]){this.unknownPropertyPaths[keyPointerPath]=true;}}else if(this.trackUnknownProperties){this.knownPropertyPaths[keyPointerPath]=true;delete this.unknownPropertyPaths[keyPointerPath];}}
return null;};ValidatorContext.prototype.validateObjectDependencies=function validateObjectDependencies(data,schema,dataPointerPath){var error;if(schema.dependencies!==undefined){for(var depKey in schema.dependencies){if(data[depKey]!==undefined){var dep=schema.dependencies[depKey];if(typeof dep==="string"){if(data[dep]===undefined){error=this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY,{key:depKey,missing:dep}).prefixWith(null,depKey).prefixWith(null,"dependencies");if(this.handleError(error)){return error;}}}else if(Array.isArray(dep)){for(var i=0;i<dep.length;i++){var requiredKey=dep[i];if(data[requiredKey]===undefined){error=this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY,{key:depKey,missing:requiredKey}).prefixWith(null,""+i).prefixWith(null,depKey).prefixWith(null,"dependencies");if(this.handleError(error)){return error;}}}}else{if(error=this.validateAll(data,dep,[],["dependencies",depKey],dataPointerPath)){return error;}}}}}
return null;};ValidatorContext.prototype.validateCombinations=function validateCombinations(data,schema,dataPointerPath){return this.validateAllOf(data,schema,dataPointerPath)||this.validateAnyOf(data,schema,dataPointerPath)||this.validateOneOf(data,schema,dataPointerPath)||this.validateNot(data,schema,dataPointerPath)||null;};ValidatorContext.prototype.validateAllOf=function validateAllOf(data,schema,dataPointerPath){if(schema.allOf===undefined){return null;}
var error;for(var i=0;i<schema.allOf.length;i++){var subSchema=schema.allOf[i];if(error=this.validateAll(data,subSchema,[],["allOf",i],dataPointerPath)){return error;}}
return null;};ValidatorContext.prototype.validateAnyOf=function validateAnyOf(data,schema,dataPointerPath){if(schema.anyOf===undefined){return null;}
var errors=[];var startErrorCount=this.errors.length;var oldUnknownPropertyPaths,oldKnownPropertyPaths;if(this.trackUnknownProperties){oldUnknownPropertyPaths=this.unknownPropertyPaths;oldKnownPropertyPaths=this.knownPropertyPaths;}
var errorAtEnd=true;for(var i=0;i<schema.anyOf.length;i++){if(this.trackUnknownProperties){this.unknownPropertyPaths={};this.knownPropertyPaths={};}
var subSchema=schema.anyOf[i];var errorCount=this.errors.length;var error=this.validateAll(data,subSchema,[],["anyOf",i],dataPointerPath);if(error===null&&errorCount===this.errors.length){this.errors=this.errors.slice(0,startErrorCount);if(this.trackUnknownProperties){for(var knownKey in this.knownPropertyPaths){oldKnownPropertyPaths[knownKey]=true;delete oldUnknownPropertyPaths[knownKey];}
for(var unknownKey in this.unknownPropertyPaths){if(!oldKnownPropertyPaths[unknownKey]){oldUnknownPropertyPaths[unknownKey]=true;}}
errorAtEnd=false;continue;}
return null;}
if(error){errors.push(error.prefixWith(null,""+i).prefixWith(null,"anyOf"));}}
if(this.trackUnknownProperties){this.unknownPropertyPaths=oldUnknownPropertyPaths;this.knownPropertyPaths=oldKnownPropertyPaths;}
if(errorAtEnd){errors=errors.concat(this.errors.slice(startErrorCount));this.errors=this.errors.slice(0,startErrorCount);return this.createError(ErrorCodes.ANY_OF_MISSING,{},"","/anyOf",errors);}};ValidatorContext.prototype.validateOneOf=function validateOneOf(data,schema,dataPointerPath){if(schema.oneOf===undefined){return null;}
var validIndex=null;var errors=[];var startErrorCount=this.errors.length;var oldUnknownPropertyPaths,oldKnownPropertyPaths;if(this.trackUnknownProperties){oldUnknownPropertyPaths=this.unknownPropertyPaths;oldKnownPropertyPaths=this.knownPropertyPaths;}
for(var i=0;i<schema.oneOf.length;i++){if(this.trackUnknownProperties){this.unknownPropertyPaths={};this.knownPropertyPaths={};}
var subSchema=schema.oneOf[i];var errorCount=this.errors.length;var error=this.validateAll(data,subSchema,[],["oneOf",i],dataPointerPath);if(error===null&&errorCount===this.errors.length){if(validIndex===null){validIndex=i;}else{this.errors=this.errors.slice(0,startErrorCount);return this.createError(ErrorCodes.ONE_OF_MULTIPLE,{index1:validIndex,index2:i},"","/oneOf");}
if(this.trackUnknownProperties){for(var knownKey in this.knownPropertyPaths){oldKnownPropertyPaths[knownKey]=true;delete oldUnknownPropertyPaths[knownKey];}
for(var unknownKey in this.unknownPropertyPaths){if(!oldKnownPropertyPaths[unknownKey]){oldUnknownPropertyPaths[unknownKey]=true;}}}}else if(error){errors.push(error.prefixWith(null,""+i).prefixWith(null,"oneOf"));}}
if(this.trackUnknownProperties){this.unknownPropertyPaths=oldUnknownPropertyPaths;this.knownPropertyPaths=oldKnownPropertyPaths;}
if(validIndex===null){errors=errors.concat(this.errors.slice(startErrorCount));this.errors=this.errors.slice(0,startErrorCount);return this.createError(ErrorCodes.ONE_OF_MISSING,{},"","/oneOf",errors);}else{this.errors=this.errors.slice(0,startErrorCount);}
return null;};ValidatorContext.prototype.validateNot=function validateNot(data,schema,dataPointerPath){if(schema.not===undefined){return null;}
var oldErrorCount=this.errors.length;var oldUnknownPropertyPaths,oldKnownPropertyPaths;if(this.trackUnknownProperties){oldUnknownPropertyPaths=this.unknownPropertyPaths;oldKnownPropertyPaths=this.knownPropertyPaths;this.unknownPropertyPaths={};this.knownPropertyPaths={};}
var error=this.validateAll(data,schema.not,null,null,dataPointerPath);var notErrors=this.errors.slice(oldErrorCount);this.errors=this.errors.slice(0,oldErrorCount);if(this.trackUnknownProperties){this.unknownPropertyPaths=oldUnknownPropertyPaths;this.knownPropertyPaths=oldKnownPropertyPaths;}
if(error===null&&notErrors.length===0){return this.createError(ErrorCodes.NOT_PASSED,{},"","/not");}
return null;};function parseURI(url){var m=String(url).replace(/^\s+|\s+$/g,'').match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return(m?{href:m[0]||'',protocol:m[1]||'',authority:m[2]||'',host:m[3]||'',hostname:m[4]||'',port:m[5]||'',pathname:m[6]||'',search:m[7]||'',hash:m[8]||''}:null);}
function resolveUrl(base,href){function removeDotSegments(input){var output=[];input.replace(/^(\.\.?(\/|$))+/,'').replace(/\/(\.(\/|$))+/g,'/').replace(/\/\.\.$/,'/../').replace(/\/?[^\/]*/g,function(p){if(p==='/..'){output.pop();}else{output.push(p);}});return output.join('').replace(/^\//,input.charAt(0)==='/'?'/':'');}
href=parseURI(href||'');base=parseURI(base||'');return!href||!base?null:(href.protocol||base.protocol)+
(href.protocol||href.authority?href.authority:base.authority)+
removeDotSegments(href.protocol||href.authority||href.pathname.charAt(0)==='/'?href.pathname:(href.pathname?((base.authority&&!base.pathname?'/':'')+base.pathname.slice(0,base.pathname.lastIndexOf('/')+1)+href.pathname):base.pathname))+
(href.protocol||href.authority||href.pathname?href.search:(href.search||base.search))+
href.hash;}
function getDocumentUri(uri){return uri.split('#')[0];}
function normSchema(schema,baseUri){if(schema&&typeof schema==="object"){if(baseUri===undefined){baseUri=schema.id;}else if(typeof schema.id==="string"){baseUri=resolveUrl(baseUri,schema.id);schema.id=baseUri;}
if(Array.isArray(schema)){for(var i=0;i<schema.length;i++){normSchema(schema[i],baseUri);}}else{if(typeof schema['$ref']==="string"){schema['$ref']=resolveUrl(baseUri,schema['$ref']);}
for(var key in schema){if(key!=="enum"){normSchema(schema[key],baseUri);}}}}}
var ErrorCodes={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1000};var ErrorCodeLookup={};for(var key in ErrorCodes){ErrorCodeLookup[ErrorCodes[key]]=key;}
var ErrorMessagesDefault={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:"Data does not match any schemas from \"anyOf\"",ONE_OF_MISSING:"Data does not match any schemas from \"oneOf\"",ONE_OF_MULTIPLE:"Data is valid against more than one schema from \"oneOf\": indices {index1} and {index2}",NOT_PASSED:"Data matches schema from \"not\"",NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function ValidationError(code,message,dataPath,schemaPath,subErrors){Error.call(this);if(code===undefined){throw new Error("No code supplied for error: "+message);}
this.message=message;this.code=code;this.dataPath=dataPath||"";this.schemaPath=schemaPath||"";this.subErrors=subErrors||null;var err=new Error(this.message);this.stack=err.stack||err.stacktrace;if(!this.stack){try{throw err;}
catch(err){this.stack=err.stack||err.stacktrace;}}}
ValidationError.prototype=Object.create(Error.prototype);ValidationError.prototype.constructor=ValidationError;ValidationError.prototype.name='ValidationError';ValidationError.prototype.prefixWith=function(dataPrefix,schemaPrefix){if(dataPrefix!==null){dataPrefix=dataPrefix.replace(/~/g,"~0").replace(/\//g,"~1");this.dataPath="/"+dataPrefix+this.dataPath;}
if(schemaPrefix!==null){schemaPrefix=schemaPrefix.replace(/~/g,"~0").replace(/\//g,"~1");this.schemaPath="/"+schemaPrefix+this.schemaPath;}
if(this.subErrors!==null){for(var i=0;i<this.subErrors.length;i++){this.subErrors[i].prefixWith(dataPrefix,schemaPrefix);}}
return this;};function isTrustedUrl(baseUrl,testUrl){if(testUrl.substring(0,baseUrl.length)===baseUrl){var remainder=testUrl.substring(baseUrl.length);if((testUrl.length>0&&testUrl.charAt(baseUrl.length-1)==="/")||remainder.charAt(0)==="#"||remainder.charAt(0)==="?"){return true;}}
return false;}
var languages={};function createApi(language){var globalContext=new ValidatorContext();var currentLanguage=language||'en';var api={addFormat:function(){globalContext.addFormat.apply(globalContext,arguments);},language:function(code){if(!code){return currentLanguage;}
if(!languages[code]){code=code.split('-')[0];}
if(languages[code]){currentLanguage=code;return code;}
return false;},addLanguage:function(code,messageMap){var key;for(key in ErrorCodes){if(messageMap[key]&&!messageMap[ErrorCodes[key]]){messageMap[ErrorCodes[key]]=messageMap[key];}}
var rootCode=code.split('-')[0];if(!languages[rootCode]){languages[code]=messageMap;languages[rootCode]=messageMap;}else{languages[code]=Object.create(languages[rootCode]);for(key in messageMap){if(typeof languages[rootCode][key]==='undefined'){languages[rootCode][key]=messageMap[key];}
languages[code][key]=messageMap[key];}}
return this;},freshApi:function(language){var result=createApi();if(language){result.language(language);}
return result;},validate:function(data,schema,checkRecursive,banUnknownProperties){var context=new ValidatorContext(globalContext,false,languages[currentLanguage],checkRecursive,banUnknownProperties);if(typeof schema==="string"){schema={"$ref":schema};}
context.addSchema("",schema);var error=context.validateAll(data,schema,null,null,"");if(!error&&banUnknownProperties){error=context.banUnknownProperties();}
this.error=error;this.missing=context.missing;this.valid=(error===null);return this.valid;},validateResult:function(){var result={};this.validate.apply(result,arguments);return result;},validateMultiple:function(data,schema,checkRecursive,banUnknownProperties){var context=new ValidatorContext(globalContext,true,languages[currentLanguage],checkRecursive,banUnknownProperties);if(typeof schema==="string"){schema={"$ref":schema};}
context.addSchema("",schema);context.validateAll(data,schema,null,null,"");if(banUnknownProperties){context.banUnknownProperties();}
var result={};result.errors=context.errors;result.missing=context.missing;result.valid=(result.errors.length===0);return result;},addSchema:function(){return globalContext.addSchema.apply(globalContext,arguments);},getSchema:function(){return globalContext.getSchema.apply(globalContext,arguments);},getSchemaMap:function(){return globalContext.getSchemaMap.apply(globalContext,arguments);},getSchemaUris:function(){return globalContext.getSchemaUris.apply(globalContext,arguments);},getMissingUris:function(){return globalContext.getMissingUris.apply(globalContext,arguments);},dropSchemas:function(){globalContext.dropSchemas.apply(globalContext,arguments);},defineKeyword:function(){globalContext.defineKeyword.apply(globalContext,arguments);},defineError:function(codeName,codeNumber,defaultMessage){if(typeof codeName!=='string'||!/^[A-Z]+(_[A-Z]+)*$/.test(codeName)){throw new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');}
if(typeof codeNumber!=='number'||codeNumber%1!==0||codeNumber<10000){throw new Error('Code number must be an integer > 10000');}
if(typeof ErrorCodes[codeName]!=='undefined'){throw new Error('Error already defined: '+codeName+' as '+ErrorCodes[codeName]);}
if(typeof ErrorCodeLookup[codeNumber]!=='undefined'){throw new Error('Error code already used: '+ErrorCodeLookup[codeNumber]+' as '+codeNumber);}
ErrorCodes[codeName]=codeNumber;ErrorCodeLookup[codeNumber]=codeName;ErrorMessagesDefault[codeName]=ErrorMessagesDefault[codeNumber]=defaultMessage;for(var langCode in languages){var language=languages[langCode];if(language[codeName]){language[codeNumber]=language[codeNumber]||language[codeName];}}},reset:function(){globalContext.reset();this.error=null;this.missing=[];this.valid=true;},missing:[],error:null,valid:true,normSchema:normSchema,resolveUrl:resolveUrl,getDocumentUri:getDocumentUri,errorCodes:ErrorCodes};return api;}
var tv4=createApi();tv4.addLanguage('en-gb',ErrorMessagesDefault);tv4.tv4=tv4;return tv4;}));'use strict';;!function(undefined){var ObjectPath={parse:function(str){if(typeof str!=='string'){throw new TypeError('ObjectPath.parse must be passed a string');}
var i=0;var parts=[];var d,b,q,c;while(i<str.length){d=str.indexOf('.',i);b=str.indexOf('[',i);if(d===-1&&b===-1){parts.push(str.slice(i,str.length));i=str.length;}
else if(b===-1||(d!==-1&&d<b)){parts.push(str.slice(i,d));i=d+1;}
else{if(b>i){parts.push(str.slice(i,b));i=b;}
q=str.slice(b+1,b+2);if(q!=='"'&&q!=='\''){c=str.indexOf(']',b);if(c===-1)c=str.length;parts.push(str.slice(i+1,c));i=(str.slice(c+1,c+2)==='.')?c+2:c+1;}else{c=str.indexOf(q+']',b);if(c===-1)c=str.length;while(str.slice(c-1,c)==='\\'&&b<str.length){b++;c=str.indexOf(q+']',b);}
parts.push(str.slice(i+2,c).replace(new RegExp('\\'+q,'g'),q));i=(str.slice(c+2,c+3)==='.')?c+3:c+2;}}}
return parts;},stringify:function(arr,quote){if(!Array.isArray(arr))
arr=[arr.toString()];quote=quote==='"'?'"':'\'';return arr.map(function(n){return'['+quote+(n.toString()).replace(new RegExp(quote,'g'),'\\'+quote)+quote+']';}).join('');},normalize:function(data,quote){return ObjectPath.stringify(Array.isArray(data)?data:ObjectPath.parse(data),quote);},registerModule:function(angular){angular.module('ObjectPath',[]).provider('ObjectPath',function(){this.parse=ObjectPath.parse;this.stringify=ObjectPath.stringify;this.normalize=ObjectPath.normalize;this.$get=function(){return ObjectPath;};});}};if(typeof define==='function'&&define.amd){define(function(){return ObjectPath;});}
else if(typeof exports==='object'){exports.ObjectPath=ObjectPath;}
else{window.ObjectPath=ObjectPath;}}();;(function(root,factory){if(typeof define==='function'&&define.amd){define(['angular','objectpath','tv4'],factory);}else if(typeof exports==='object'){module.exports=factory(require('angular'),require('objectpath'),require('tv4'));}else{root.schemaForm=factory(root.angular,root.objectpath,root.tv4);}}(this,function(angular,objectpath,tv4){var deps=[];try{angular.module('ngSanitize');deps.push('ngSanitize');}catch(e){}
try{angular.module('ui.sortable');deps.push('ui.sortable');}catch(e){}
try{angular.module('angularSpectrumColorpicker');deps.push('angularSpectrumColorpicker');}catch(e){}
var schemaForm=angular.module('schemaForm',deps);angular.module('schemaForm').provider('sfPath',[function(){var ObjectPath=window.ObjectPath||objectpath;var sfPath={parse:ObjectPath.parse};if(angular.version.major===1&&angular.version.minor<3){sfPath.stringify=function(arr){return Array.isArray(arr)?arr.join('.'):arr.toString();};}else{sfPath.stringify=ObjectPath.stringify;}
sfPath.normalize=function(data,quote){return sfPath.stringify(Array.isArray(data)?data:sfPath.parse(data),quote);};this.parse=sfPath.parse;this.stringify=sfPath.stringify;this.normalize=sfPath.normalize;this.$get=function(){return sfPath;};}]);angular.module('schemaForm').provider('sfBuilder',['sfPathProvider',function(sfPathProvider){var SNAKE_CASE_REGEXP=/[A-Z]/g;var snakeCase=function(name,separator){separator=separator||'_';return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});};var formId=0;var builders={sfField:function(args){args.fieldFrag.firstChild.setAttribute('sf-field',formId);args.lookup['f'+formId]=args.form;formId++;},ngModel:function(args){if(!args.form.key){return;}
var key=args.form.key;if(args.state.keyRedaction){key=key.slice(args.state.keyRedaction);}
var modelValue;if(!args.state.modelValue){var strKey=sfPathProvider.stringify(key).replace(/"/g,'&quot;');modelValue=(args.state.modelName||'model');if(strKey){modelValue+=(strKey[0]!=='['?'.':'')+strKey;}}else{modelValue=args.state.modelValue;}
var nodes=args.fieldFrag.querySelectorAll('[sf-field-model]');for(var i=0;i<nodes.length;i++){var n=nodes[i];var conf=n.getAttribute('sf-field-model');if(!conf||conf===''){n.setAttribute('ng-model',modelValue);}else if(conf==='replaceAll'){var attributes=n.attributes;for(var j=0;j<attributes.length;j++){if(attributes[j].value&&attributes[j].value.indexOf('$$value')!==-1){attributes[j].value=attributes[j].value.replace(/\$\$value\$\$/g,modelValue);}}}else{var val=n.getAttribute(conf);if(val&&val.indexOf('$$value$$')){n.setAttribute(conf,val.replace(/\$\$value\$\$/g,modelValue));}else{n.setAttribute(conf,modelValue);}}}},simpleTransclusion:function(args){var children=args.build(args.form.items,args.path+'.items',args.state);args.fieldFrag.firstChild.appendChild(children);},ngModelOptions:function(args){if(args.form.ngModelOptions&&Object.keys(args.form.ngModelOptions).length>0){args.fieldFrag.firstChild.setAttribute('ng-model-options',JSON.stringify(args.form.ngModelOptions));}},transclusion:function(args){var transclusions=args.fieldFrag.querySelectorAll('[sf-field-transclude]');if(transclusions.length){for(var i=0;i<transclusions.length;i++){var n=transclusions[i];var sub=n.getAttribute('sf-field-transclude')||'items';var items=args.form[sub];if(items){var childFrag=args.build(items,args.path+'.'+sub,args.state);n.appendChild(childFrag);}}}},condition:function(args){if(args.form.condition){var evalExpr='evalExpr('+args.path+'.condition, { model: model, "arrayIndex": $index})';if(args.form.key){var strKey=sfPathProvider.stringify(args.form.key);evalExpr='evalExpr('+args.path+'.condition,{ model: model, "arrayIndex": $index, '+'"modelValue": model'+(strKey[0]==='['?'':'.')+strKey+'})';}
var children=args.fieldFrag.children||args.fieldFrag.childNodes;for(var i=0;i<children.length;i++){var child=children[i];var ngIf=child.getAttribute('ng-if');child.setAttribute('ng-if',ngIf?'('+ngIf+') || ('+evalExpr+')':evalExpr);}}},array:function(args){var items=args.fieldFrag.querySelector('[schema-form-array-items]');if(items){state=angular.copy(args.state);state.keyRedaction=state.keyRedaction||0;state.keyRedaction+=args.form.key.length+1;if(args.form.schema&&args.form.schema.items&&args.form.schema.items.type&&args.form.schema.items.type.indexOf('object')===-1&&args.form.schema.items.type.indexOf('array')===-1){var strKey=sfPathProvider.stringify(args.form.key).replace(/"/g,'&quot;')+'[$index]';state.modelValue='modelArray[$index]';}else{state.modelName='item';}
state.arrayCompatFlag=true;var childFrag=args.build(args.form.items,args.path+'.items',state);items.appendChild(childFrag);}}};this.builders=builders;var stdBuilders=[builders.sfField,builders.ngModel,builders.ngModelOptions,builders.condition];this.stdBuilders=stdBuilders;this.$get=['$templateCache','schemaFormDecorators','sfPath',function($templateCache,schemaFormDecorators,sfPath){var checkForSlot=function(form,slots){if(form.key){var slot=slots[sfPath.stringify(form.key)];if(slot){while(slot.firstChild){slot.removeChild(slot.firstChild);}
return slot;}}};var build=function(items,decorator,templateFn,slots,path,state,lookup){state=state||{};lookup=lookup||Object.create(null);path=path||'schemaForm.form';var container=document.createDocumentFragment();items.reduce(function(frag,f,index){if(!f.type){return frag;}
var field=decorator[f.type]||decorator['default'];if(!field.replace){var n=document.createElement(snakeCase(decorator.__name,'-'));if(state.arrayCompatFlag){n.setAttribute('form','copyWithIndex($index)');}else{n.setAttribute('form',path+'['+index+']');}
(checkForSlot(f,slots)||frag).appendChild(n);}else{var tmpl;state.arrayCompatFlag=false;var div=document.createElement('div');var template=templateFn(f,field)||templateFn(f,decorator['default']);div.innerHTML=template;tmpl=document.createDocumentFragment();while(div.childNodes.length>0){tmpl.appendChild(div.childNodes[0]);}
var args={fieldFrag:tmpl,form:f,lookup:lookup,state:state,path:path+'['+index+']',build:function(items,path,state){return build(items,decorator,templateFn,slots,path,state,lookup);},};var builderFn=f.builder||field.builder;if(typeof builderFn==='function'){builderFn(args);}else{builderFn.forEach(function(fn){fn(args);});}
(checkForSlot(f,slots)||frag).appendChild(tmpl);}
return frag;},container);return container;};return{build:function(form,decorator,slots,lookup){return build(form,decorator,function(form,field){if(form.type==='template'){return form.template;}
return $templateCache.get(field.template);},slots,undefined,undefined,lookup);},builder:builders,stdBuilders:stdBuilders,internalBuild:build};}];}]);angular.module('schemaForm').provider('schemaFormDecorators',['$compileProvider','sfPathProvider',function($compileProvider,sfPathProvider){var defaultDecorator='';var decorators={};var templateUrl=function(name,form){if(name==='sfDecorator'){name=defaultDecorator;}
var decorator=decorators[name];if(decorator[form.type]){return decorator[form.type].template;}
return decorator['default'].template;};var createDirective=function(name){$compileProvider.directive(name,['$parse','$compile','$http','$templateCache','$interpolate','$q','sfErrorMessage','sfPath','sfSelect',function($parse,$compile,$http,$templateCache,$interpolate,$q,sfErrorMessage,sfPath,sfSelect){return{restrict:'AE',replace:false,transclude:false,scope:true,require:'?^sfSchema',link:function(scope,element,attrs,sfSchema){scope.$on('schemaFormPropagateNgModelController',function(event,ngModel){event.stopPropagation();event.preventDefault();scope.ngModel=ngModel;});scope.showTitle=function(){return scope.form&&scope.form.notitle!==true&&scope.form.title;};scope.listToCheckboxValues=function(list){var values={};angular.forEach(list,function(v){values[v]=true;});return values;};scope.checkboxValuesToList=function(values){var lst=[];angular.forEach(values,function(v,k){if(v){lst.push(k);}});return lst;};scope.buttonClick=function($event,form,e){if(angular.isFunction(form.onClick)){form.onClick($event,form,e);}else if(angular.isString(form.onClick)){if(sfSchema){sfSchema.evalInParentScope(form.onClick,{'$event':$event,form:form,e:e});}else{scope.$eval(form.onClick,{'$event':$event,form:form,e:e});}}};scope.evalExpr=function(expression,locals){if(sfSchema){return sfSchema.evalInParentScope(expression,locals);}
return scope.$eval(expression,locals);};scope.evalInScope=function(expression,locals){if(expression){return scope.$eval(expression,locals);}};scope.interp=function(expression,locals){return(expression&&$interpolate(expression)(locals));};scope.hasSuccess=function(){if(!scope.ngModel){return false;}
return scope.ngModel.$valid&&(!scope.ngModel.$pristine||!scope.ngModel.$isEmpty(scope.ngModel.$modelValue));};scope.hasError=function(){if(!scope.ngModel){return false;}
if(scope.ngModel.$pristine&&scope.ngModel.$isEmpty(scope.ngModel.$modelValue)===false){return scope.ngModel.$invalid;}
return scope.ngModel.$invalid&&!scope.ngModel.$pristine;};scope.errorMessage=function(schemaError){return sfErrorMessage.interpolate((schemaError&&schemaError.code+'')||'default',(scope.ngModel&&scope.ngModel.$modelValue)||'',(scope.ngModel&&scope.ngModel.$viewValue)||'',scope.form,scope.options&&scope.options.validationMessage);};var once=scope.$watch(attrs.form,function(form){if(form){form.ngModelOptions=form.ngModelOptions||{};scope.form=form;var templatePromise;if(form.type==='template'&&form.template){templatePromise=$q.when(form.template);}else{var url=form.type==='template'?form.templateUrl:templateUrl(name,form);templatePromise=$http.get(url,{cache:$templateCache}).then(function(res){return res.data;});}
templatePromise.then(function(template){if(form.key){var key=form.key?sfPathProvider.stringify(form.key).replace(/"/g,'&quot;'):'';template=template.replace(/\$\$value\$\$/g,'model'+(key[0]!=='['?'.':'')+key);}
element.html(template);if(form.condition){var evalExpr='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';if(form.key){evalExpr='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model'+sfPath.stringify(form.key)+'})';}
angular.forEach(element.children(),function(child){var ngIf=child.getAttribute('ng-if');child.setAttribute('ng-if',ngIf?'('+ngIf+') || ('+evalExpr+')':evalExpr);});}
$compile(element.contents())(scope);});if(form.key){scope.$on('schemaForm.error.'+form.key.join('.'),function(event,error,validationMessage,validity){if(validationMessage===true||validationMessage===false){validity=validationMessage;validationMessage=undefined;}
if(scope.ngModel&&error){if(scope.ngModel.$setDirty){scope.ngModel.$setDirty();}else{scope.ngModel.$dirty=true;scope.ngModel.$pristine=false;}
if(validationMessage){if(!form.validationMessage){form.validationMessage={};}
form.validationMessage[error]=validationMessage;}
scope.ngModel.$setValidity(error,validity===true);if(validity===true){scope.ngModel.$validate();scope.$broadcast('schemaFormValidate');}}});scope.$on('$destroy',function(){if(!scope.externalDestructionInProgress){var destroyStrategy=form.destroyStrategy||(scope.options&&scope.options.destroyStrategy)||'remove';if(form.key&&destroyStrategy!=='retain'){var obj=scope.model;if(form.key.length>1){obj=sfSelect(form.key.slice(0,form.key.length-1),obj);}
if(obj===undefined){return;}
var type=(form.schema&&form.schema.type)||'';if(destroyStrategy==='empty'&&type.indexOf('string')!==-1){obj[form.key.slice(-1)]='';}else if(destroyStrategy==='empty'&&type.indexOf('object')!==-1){obj[form.key.slice(-1)]={};}else if(destroyStrategy==='empty'&&type.indexOf('array')!==-1){obj[form.key.slice(-1)]=[];}else if(destroyStrategy==='null'){obj[form.key.slice(-1)]=null;}else{delete obj[form.key.slice(-1)];}}}});}
once();}});}};}]);};var createManualDirective=function(type,templateUrl,transclude){transclude=angular.isDefined(transclude)?transclude:false;$compileProvider.directive('sf'+type[0].toUpperCase()+type.substr(1),function(){return{restrict:'EAC',scope:true,replace:true,transclude:transclude,template:'<sf-decorator form="form"></sf-decorator>',link:function(scope,element,attrs){var watchThis={'items':'c','titleMap':'c','schema':'c'};var form={type:type};var once=true;angular.forEach(attrs,function(value,name){if(name[0]!=='$'&&name.indexOf('ng')!==0&&name!=='sfField'){var updateForm=function(val){if(angular.isDefined(val)&&val!==form[name]){form[name]=val;if(once&&form.type&&(form.key||angular.isUndefined(attrs.key))){scope.form=form;once=false;}}};if(name==='model'){scope.$watch(value,function(val){if(val&&scope.model!==val){scope.model=val;}});}else if(watchThis[name]==='c'){scope.$watchCollection(value,updateForm);}else{attrs.$observe(name,updateForm);}}});}};});};this.createDecorator=function(name,templates){decorators[name]={'__name':name};angular.forEach(templates,function(url,type){decorators[name][type]={template:url,replace:false,builder:[]};});if(!decorators[defaultDecorator]){defaultDecorator=name;}
createDirective(name);};this.defineDecorator=function(name,fields){decorators[name]={'__name':name};angular.forEach(fields,function(field,type){field.builder=field.builder||[];field.replace=angular.isDefined(field.replace)?field.replace:true;decorators[name][type]=field;});if(!decorators[defaultDecorator]){defaultDecorator=name;}
createDirective(name);};this.createDirective=createManualDirective;this.createDirectives=function(templates){angular.forEach(templates,function(url,type){createManualDirective(type,url);});};this.decorator=function(name){name=name||defaultDecorator;return decorators[name];};this.addMapping=function(name,type,url,builder,replace){if(decorators[name]){decorators[name][type]={template:url,builder:builder,replace:!!replace};}};this.defineAddOn=function(name,type,url,builder){if(decorators[name]){decorators[name][type]={template:url,builder:builder,replace:true};}};this.$get=function(){return{decorator:function(name){return decorators[name]||decorators[defaultDecorator];},defaultDecorator:defaultDecorator};};createDirective('sfDecorator');}]);angular.module('schemaForm').provider('sfErrorMessage',function(){var defaultMessages={'default':'Field does not validate',0:'Invalid type, expected {{schema.type}}',1:'No enum match for: {{viewValue}}',10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:'Value is not a multiple of {{schema.multipleOf}}',101:'{{viewValue}} is less than the allowed minimum of {{schema.minimum}}',102:'{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}',103:'{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}',104:'{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}',105:'Value is not a valid number',200:'String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}',201:'String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}',202:'String does not match pattern: {{schema.pattern}}',300:'Too few properties defined, minimum {{schema.minProperties}}',301:'Too many properties defined, maximum {{schema.maxProperties}}',302:'Required',303:'Additional properties not allowed',304:'Dependency failed - key must exist',400:'Array is too short ({{value.length}}), minimum {{schema.minItems}}',401:'Array is too long ({{value.length}}), maximum {{schema.maxItems}}',402:'Array items are not unique',403:'Additional items not allowed',500:'Format validation failed',501:'Keyword failed: "{{title}}"',600:'Circular $refs',1000:'Unknown property (not in schema)'};defaultMessages.number=defaultMessages[105];defaultMessages.required=defaultMessages[302];defaultMessages.min=defaultMessages[101];defaultMessages.max=defaultMessages[103];defaultMessages.maxlength=defaultMessages[201];defaultMessages.minlength=defaultMessages[200];defaultMessages.pattern=defaultMessages[202];this.setDefaultMessages=function(messages){defaultMessages=messages;};this.getDefaultMessages=function(){return defaultMessages;};this.setDefaultMessage=function(error,msg){defaultMessages[error]=msg;};this.$get=['$interpolate',function($interpolate){var service={};service.defaultMessages=defaultMessages;service.interpolate=function(error,value,viewValue,form,global){global=global||{};var validationMessage=form.validationMessage||{};if(error.indexOf('tv4-')===0){error=error.substring(4);}
var message=validationMessage['default']||global['default']||'';[validationMessage,global,defaultMessages].some(function(val){if(angular.isString(val)||angular.isFunction(val)){message=val;return true;}
if(val&&val[error]){message=val[error];return true;}});var context={error:error,value:value,viewValue:viewValue,form:form,schema:form.schema,title:form.title||(form.schema&&form.schema.title)};if(angular.isFunction(message)){return message(context);}else{return $interpolate(message)(context);}};return service;}];});angular.module('schemaForm').provider('schemaForm',['sfPathProvider',function(sfPathProvider){var stripNullType=function(type){if(Array.isArray(type)&&type.length==2){if(type[0]==='null')
return type[1];if(type[1]==='null')
return type[0];}
return type;}
var enumToTitleMap=function(enm){var titleMap=[];enm.forEach(function(name){titleMap.push({name:name,value:name});});return titleMap;};var canonicalTitleMap=function(titleMap,originalEnum){if(!angular.isArray(titleMap)){var canonical=[];if(originalEnum){angular.forEach(originalEnum,function(value,index){canonical.push({name:titleMap[value],value:value});});}else{angular.forEach(titleMap,function(name,value){canonical.push({name:name,value:value});});}
return canonical;}
return titleMap;};var defaultFormDefinition=function(name,schema,options){var rules=defaults[stripNullType(schema.type)];if(rules){var def;for(var i=0;i<rules.length;i++){def=rules[i](name,schema,options);if(def){if(def.schema['x-schema-form']&&angular.isObject(def.schema['x-schema-form'])){def=angular.extend(def,def.schema['x-schema-form']);}
return def;}}}};var stdFormObj=function(name,schema,options){options=options||{};var f=options.global&&options.global.formDefaults?angular.copy(options.global.formDefaults):{};if(options.global&&options.global.supressPropertyTitles===true){f.title=schema.title;}else{f.title=schema.title||name;}
if(schema.description){f.description=schema.description;}
if(options.required===true||schema.required===true){f.required=true;}
if(schema.maxLength){f.maxlength=schema.maxLength;}
if(schema.minLength){f.minlength=schema.minLength;}
if(schema.readOnly||schema.readonly){f.readonly=true;}
if(schema.minimum){f.minimum=schema.minimum+(schema.exclusiveMinimum?1:0);}
if(schema.maximum){f.maximum=schema.maximum-(schema.exclusiveMaximum?1:0);}
if(schema.validationMessage){f.validationMessage=schema.validationMessage;}
if(schema.enumNames){f.titleMap=canonicalTitleMap(schema.enumNames,schema['enum']);}
f.schema=schema;f.ngModelOptions=f.ngModelOptions||{};return f;};var text=function(name,schema,options){if(stripNullType(schema.type)==='string'&&!schema['enum']){var f=stdFormObj(name,schema,options);f.key=options.path;f.type='text';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};var number=function(name,schema,options){if(stripNullType(schema.type)==='number'){var f=stdFormObj(name,schema,options);f.key=options.path;f.type='number';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};var integer=function(name,schema,options){if(stripNullType(schema.type)==='integer'){var f=stdFormObj(name,schema,options);f.key=options.path;f.type='number';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};var checkbox=function(name,schema,options){if(stripNullType(schema.type)==='boolean'){var f=stdFormObj(name,schema,options);f.key=options.path;f.type='checkbox';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};var select=function(name,schema,options){if(stripNullType(schema.type)==='string'&&schema['enum']){var f=stdFormObj(name,schema,options);f.key=options.path;f.type='select';if(!f.titleMap){f.titleMap=enumToTitleMap(schema['enum']);}
options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};var checkboxes=function(name,schema,options){if(stripNullType(schema.type)==='array'&&schema.items&&schema.items['enum']){var f=stdFormObj(name,schema,options);f.key=options.path;f.type='checkboxes';if(!f.titleMap){f.titleMap=enumToTitleMap(schema.items['enum']);}
options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};var fieldset=function(name,schema,options){if(stripNullType(schema.type)==='object'){var f=stdFormObj(name,schema,options);f.type='fieldset';f.items=[];options.lookup[sfPathProvider.stringify(options.path)]=f;angular.forEach(schema.properties,function(v,k){var path=options.path.slice();path.push(k);if(options.ignore[sfPathProvider.stringify(path)]!==true){var required=schema.required&&schema.required.indexOf(k)!==-1;var def=defaultFormDefinition(k,v,{path:path,required:required||false,lookup:options.lookup,ignore:options.ignore,global:options.global});if(def){f.items.push(def);}}});return f;}};var array=function(name,schema,options){if(stripNullType(schema.type)==='array'){var f=stdFormObj(name,schema,options);f.type='array';f.key=options.path;options.lookup[sfPathProvider.stringify(options.path)]=f;var required=schema.required&&schema.required.indexOf(options.path[options.path.length-1])!==-1;var arrPath=options.path.slice();arrPath.push('');f.items=[defaultFormDefinition(name,schema.items,{path:arrPath,required:required||false,lookup:options.lookup,ignore:options.ignore,global:options.global})];return f;}};var defaults={string:[select,text],object:[fieldset],number:[number],integer:[integer],boolean:[checkbox],array:[checkboxes,array]};var postProcessFn=function(form){return form;};this.defaults=defaults;this.stdFormObj=stdFormObj;this.defaultFormDefinition=defaultFormDefinition;this.postProcess=function(fn){postProcessFn=fn;};this.appendRule=function(type,rule){if(!defaults[type]){defaults[type]=[];}
defaults[type].push(rule);};this.prependRule=function(type,rule){if(!defaults[type]){defaults[type]=[];}
defaults[type].unshift(rule);};this.createStandardForm=stdFormObj;this.$get=function(){var service={};service.merge=function(schema,form,ignore,options,readonly,asyncTemplates){form=form||['*'];options=options||{};readonly=readonly||schema.readonly||schema.readOnly;var stdForm=service.defaults(schema,ignore,options);var idx=form.indexOf('*');if(idx!==-1){form=form.slice(0,idx).concat(stdForm.form).concat(form.slice(idx+1));}
var lookup=stdForm.lookup;return postProcessFn(form.map(function(obj){if(typeof obj==='string'){obj={key:obj};}
if(obj.key){if(typeof obj.key==='string'){obj.key=sfPathProvider.parse(obj.key);}}
if(obj.titleMap){obj.titleMap=canonicalTitleMap(obj.titleMap);}
if(obj.itemForm){obj.items=[];var str=sfPathProvider.stringify(obj.key);var stdForm=lookup[str];angular.forEach(stdForm.items,function(item){var o=angular.copy(obj.itemForm);o.key=item.key;obj.items.push(o);});}
if(obj.key){var strid=sfPathProvider.stringify(obj.key);if(lookup[strid]){var schemaDefaults=lookup[strid];angular.forEach(schemaDefaults,function(value,attr){if(obj[attr]===undefined){obj[attr]=schemaDefaults[attr];}});}}
if(readonly===true){obj.readonly=true;}
if(obj.items){obj.items=service.merge(schema,obj.items,ignore,options,obj.readonly,asyncTemplates);}
if(obj.tabs){angular.forEach(obj.tabs,function(tab){tab.items=service.merge(schema,tab.items,ignore,options,obj.readonly,asyncTemplates);});}
if(obj.type==='checkbox'&&angular.isUndefined(obj.schema['default'])){obj.schema['default']=false;}
if(asyncTemplates&&obj.type==='template'&&!obj.template&&obj.templateUrl){asyncTemplates.push(obj);}
return obj;}));};service.defaults=function(schema,ignore,globalOptions){var form=[];var lookup={};ignore=ignore||{};globalOptions=globalOptions||{};if(stripNullType(schema.type)==='object'){angular.forEach(schema.properties,function(v,k){if(ignore[k]!==true){var required=schema.required&&schema.required.indexOf(k)!==-1;var def=defaultFormDefinition(k,v,{path:[k],lookup:lookup,ignore:ignore,required:required,global:globalOptions});if(def){form.push(def);}}});}else{throw new Error('Not implemented. Only type "object" allowed at root level of schema.');}
return{form:form,lookup:lookup};};service.traverseSchema=function(schema,fn,path,ignoreArrays){ignoreArrays=angular.isDefined(ignoreArrays)?ignoreArrays:true;path=path||[];var traverse=function(schema,fn,path){fn(schema,path);angular.forEach(schema.properties,function(prop,name){var currentPath=path.slice();currentPath.push(name);traverse(prop,fn,currentPath);});if(!ignoreArrays&&schema.items){var arrPath=path.slice();arrPath.push('');traverse(schema.items,fn,arrPath);}};traverse(schema,fn,path||[]);};service.traverseForm=function(form,fn){fn(form);angular.forEach(form.items,function(f){service.traverseForm(f,fn);});if(form.tabs){angular.forEach(form.tabs,function(tab){angular.forEach(tab.items,function(f){service.traverseForm(f,fn);});});}};return service;};}]);angular.module('schemaForm').factory('sfSelect',['sfPath',function(sfPath){var numRe=/^\d+$/;return function(projection,obj,valueToSet){if(!obj){obj=this;}
var parts=typeof projection==='string'?sfPath.parse(projection):projection;if(typeof valueToSet!=='undefined'&&parts.length===1){obj[parts[0]]=valueToSet;return obj;}
if(typeof valueToSet!=='undefined'&&typeof obj[parts[0]]==='undefined'){obj[parts[0]]=parts.length>2&&numRe.test(parts[1])?[]:{};}
var value=obj[parts[0]];for(var i=1;i<parts.length;i++){if(parts[i]===''){return undefined;}
if(typeof valueToSet!=='undefined'){if(i===parts.length-1){value[parts[i]]=valueToSet;return valueToSet;}else{var tmp=value[parts[i]];if(typeof tmp==='undefined'||tmp===null){tmp=numRe.test(parts[i+1])?[]:{};value[parts[i]]=tmp;}
value=tmp;}}else if(value){value=value[parts[i]];}}
return value;};}]);angular.module('schemaForm').directive('sfArray',['sfSelect','schemaForm','sfValidator','sfPath',function(sfSelect,schemaForm,sfValidator,sfPath){var setIndex=function(index){return function(form){if(form.key){form.key[form.key.indexOf('')]=index;}};};return{restrict:'A',scope:true,require:'?ngModel',link:function(scope,element,attrs,ngModel){var formDefCache={};scope.validateArray=angular.noop;if(ngModel){scope.$emit('schemaFormPropagateNgModelController',ngModel);}
var once=scope.$watch(attrs.sfArray,function(form){if(!form){return;}
var list=sfSelect(form.key,scope.model);var key=sfPath.normalize(form.key);scope.$watch('model'+(key[0]!=='['?'.':'')+key,function(value){list=scope.modelArray=value;});if(angular.isUndefined(list)){list=[];sfSelect(form.key,scope.model,list);}
scope.modelArray=list;if(form.items){var subForm=form.items[0];if(form.items.length>1){subForm={type:'section',items:form.items.map(function(item){item.ngModelOptions=form.ngModelOptions;if(angular.isUndefined(item.readonly)){item.readonly=form.readonly;}
return item;})};}}
scope.copyWithIndex=function(index){if(!formDefCache[index]){if(subForm){var copy=angular.copy(subForm);copy.arrayIndex=index;schemaForm.traverseForm(copy,setIndex(index));formDefCache[index]=copy;}}
return formDefCache[index];};scope.appendToArray=function(){var len=list.length;var copy=scope.copyWithIndex(len);schemaForm.traverseForm(copy,function(part){if(part.key){var def;if(angular.isDefined(part['default'])){def=part['default'];}
if(angular.isDefined(part.schema)&&angular.isDefined(part.schema['default'])){def=part.schema['default'];}
if(angular.isDefined(def)){sfSelect(part.key,scope.model,def);}}});if(len===list.length){var type=sfSelect('schema.items.type',form);var dflt;if(type==='object'){dflt={};}else if(type==='array'){dflt=[];}
list.push(dflt);}
scope.validateArray();return list;};scope.deleteFromArray=function(index){list.splice(index,1);scope.validateArray();if(ngModel&&ngModel.$setDirty){ngModel.$setDirty();}
return list;};if(!form.titleMap&&form.startEmpty!==true&&list.length===0){scope.appendToArray();}
if(form.titleMap&&form.titleMap.length>0){scope.titleMapValues=[];var updateTitleMapValues=function(arr){scope.titleMapValues=[];arr=arr||[];form.titleMap.forEach(function(item){scope.titleMapValues.push(arr.indexOf(item.value)!==-1);});};updateTitleMapValues(scope.modelArray);scope.$watchCollection('modelArray',updateTitleMapValues);scope.$watchCollection('titleMapValues',function(vals,old){if(vals&&vals!==old){var arr=scope.modelArray;while(arr.length>0){arr.pop();}
form.titleMap.forEach(function(item,index){if(vals[index]){arr.push(item.value);}});scope.validateArray();}});}
if(ngModel){var error;scope.validateArray=function(){if(form.required&&ngModel.$modelValue.length===0){ngModel.$setValidity('tv4-302',false);return;}
var result=sfValidator.validate(form,scope.modelArray.length>0?scope.modelArray:undefined);Object.keys(ngModel.$error).filter(function(k){return k.indexOf('tv4-')===0;}).forEach(function(k){ngModel.$setValidity(k,true);});if(result.valid===false&&result.error&&(result.error.dataPath===''||result.error.dataPath==='/'+form.key[form.key.length-1])){ngModel.$setViewValue(scope.modelArray);error=result.error;ngModel.$setValidity('tv4-'+result.error.code,false);}};scope.$on('schemaFormValidate',scope.validateArray);scope.hasSuccess=function(){if(scope.options&&scope.options.pristine&&scope.options.pristine.success===false){return ngModel.$valid&&!ngModel.$pristine&&!ngModel.$isEmpty(ngModel.$modelValue);}else{return ngModel.$valid&&(!ngModel.$pristine||!ngModel.$isEmpty(ngModel.$modelValue));}};scope.hasError=function(){if(!scope.options||!scope.options.pristine||scope.options.pristine.errors!==false){return ngModel.$invalid;}else{return ngModel.$invalid&&!ngModel.$pristine;}};scope.schemaError=function(){return error;};}
once();});}};}]);angular.module('schemaForm').directive('sfChanged',function(){return{require:'ngModel',restrict:'AC',scope:false,link:function(scope,element,attrs,ctrl){var form=scope.$eval(attrs.sfChanged);if(form&&form.onChange){ctrl.$viewChangeListeners.push(function(){if(angular.isFunction(form.onChange)){form.onChange(ctrl.$modelValue,form);}else{scope.evalExpr(form.onChange,{'modelValue':ctrl.$modelValue,form:form});}});}}};});angular.module('schemaForm').directive('sfField',['$parse','$compile','$http','$templateCache','$interpolate','$q','sfErrorMessage','sfPath','sfSelect',function($parse,$compile,$http,$templateCache,$interpolate,$q,sfErrorMessage,sfPath,sfSelect){return{restrict:'AE',replace:false,transclude:false,scope:true,require:'^sfSchema',link:{pre:function(scope,element,attrs,sfSchema){scope.$on('schemaFormPropagateNgModelController',function(event,ngModel){event.stopPropagation();event.preventDefault();scope.ngModel=ngModel;});scope.form=sfSchema.lookup['f'+attrs.sfField];},post:function(scope,element,attrs,sfSchema){scope.showTitle=function(){return scope.form&&scope.form.notitle!==true&&scope.form.title;};scope.listToCheckboxValues=function(list){var values={};angular.forEach(list,function(v){values[v]=true;});return values;};scope.checkboxValuesToList=function(values){var lst=[];angular.forEach(values,function(v,k){if(v){lst.push(k);}});return lst;};scope.buttonClick=function($event,form){if(angular.isFunction(form.onClick)){form.onClick($event,form);}else if(angular.isString(form.onClick)){if(sfSchema){sfSchema.evalInParentScope(form.onClick,{'$event':$event,form:form});}else{scope.$eval(form.onClick,{'$event':$event,form:form});}}};scope.evalExpr=function(expression,locals){if(sfSchema){return sfSchema.evalInParentScope(expression,locals);}
return scope.$eval(expression,locals);};scope.evalInScope=function(expression,locals){if(expression){return scope.$eval(expression,locals);}};scope.interp=function(expression,locals){return(expression&&$interpolate(expression)(locals));};scope.hasSuccess=function(){if(!scope.ngModel){return false;}
if(scope.options&&scope.options.pristine&&scope.options.pristine.success===false){return scope.ngModel.$valid&&!scope.ngModel.$pristine&&!scope.ngModel.$isEmpty(scope.ngModel.$modelValue);}else{return scope.ngModel.$valid&&(!scope.ngModel.$pristine||!scope.ngModel.$isEmpty(scope.ngModel.$modelValue));}};scope.hasError=function(){if(!scope.ngModel){return false;}
if(!scope.options||!scope.options.pristine||scope.options.pristine.errors!==false){return scope.ngModel.$invalid;}else{return scope.ngModel.$invalid&&!scope.ngModel.$pristine;}};scope.errorMessage=function(schemaError){return sfErrorMessage.interpolate((schemaError&&schemaError.code+'')||'default',(scope.ngModel&&scope.ngModel.$modelValue)||'',(scope.ngModel&&scope.ngModel.$viewValue)||'',scope.form,scope.options&&scope.options.validationMessage);};var form=scope.form;if(form.key){scope.$on('schemaForm.error.'+form.key.join('.'),function(event,error,validationMessage,validity){if(validationMessage===true||validationMessage===false){validity=validationMessage;validationMessage=undefined;}
if(scope.ngModel&&error){if(scope.ngModel.$setDirty){scope.ngModel.$setDirty();}else{scope.ngModel.$dirty=true;scope.ngModel.$pristine=false;}
if(validationMessage){if(!form.validationMessage){form.validationMessage={};}
form.validationMessage[error]=validationMessage;}
scope.ngModel.$setValidity(error,validity===true);if(validity===true){scope.ngModel.$validate();scope.$broadcast('schemaFormValidate');}}});scope.$on('$destroy',function(){if(!scope.externalDestructionInProgress){var destroyStrategy=form.destroyStrategy||(scope.options&&scope.options.destroyStrategy)||'remove';if(form.key&&destroyStrategy!=='retain'){var obj=scope.model;if(form.key.length>1){obj=sfSelect(form.key.slice(0,form.key.length-1),obj);}
if(obj===undefined){return;}
var type=(form.schema&&form.schema.type)||'';if(destroyStrategy==='empty'&&type.indexOf('string')!==-1){obj[form.key.slice(-1)]='';}else if(destroyStrategy==='empty'&&type.indexOf('object')!==-1){obj[form.key.slice(-1)]={};}else if(destroyStrategy==='empty'&&type.indexOf('array')!==-1){obj[form.key.slice(-1)]=[];}else if(destroyStrategy==='null'){obj[form.key.slice(-1)]=null;}else{delete obj[form.key.slice(-1)];}}}});}}}};}]);angular.module('schemaForm').directive('sfMessage',['$injector','sfErrorMessage',function($injector,sfErrorMessage){var $sanitize=$injector.has('$sanitize')?$injector.get('$sanitize'):function(html){return html;};return{scope:false,restrict:'EA',link:function(scope,element,attrs){var message='';if(attrs.sfMessage){scope.$watch(attrs.sfMessage,function(msg){if(msg){message=$sanitize(msg);update(!!scope.ngModel);}});}
var currentMessage;var setMessage=function(msg){if(msg!==currentMessage){element.html(msg);currentMessage=msg;}};var update=function(checkForErrors){if(checkForErrors){if(!scope.hasError()){setMessage(message);}else{var errors=[];angular.forEach(scope.ngModel&&scope.ngModel.$error,function(status,code){if(status){errors.push(code);}});errors=errors.filter(function(e){return e!=='schemaForm';});var error=errors[0];if(error){setMessage(sfErrorMessage.interpolate(error,scope.ngModel.$modelValue,scope.ngModel.$viewValue,scope.form,scope.options&&scope.options.validationMessage));}else{setMessage(message);}}}else{setMessage(message);}};update();var once=scope.$watch('ngModel',function(ngModel){if(ngModel){ngModel.$parsers.push(function(val){update(true);return val;});ngModel.$formatters.push(function(val){update(true);return val;});once();}});scope.$watchCollection('ngModel.$error',function(){update(!!scope.ngModel);});}};}]);angular.module('schemaForm').directive('sfNewArray',['sfSelect','sfPath','schemaForm',function(sel,sfPath,schemaForm){return{scope:false,link:function(scope,element,attrs){scope.min=0;scope.modelArray=scope.$eval(attrs.sfNewArray);var watchFn=function(){scope.modelArray=scope.$eval(attrs.sfNewArray);if(scope.ngModel&&scope.ngModel.$pristine&&scope.firstDigest&&(!scope.options||scope.options.validateOnRender!==true)){return;}else if(scope.validateField){scope.validateField();}};var onChangeFn=function(){if(scope.form&&scope.form.onChange){if(angular.isFunction(scope.form.onChange)){scope.form.onChange(scope.modelArray,scope.form);}else{scope.evalExpr(scope.form.onChange,{'modelValue':scope.modelArray,form:scope.form});}}};var getOrCreateModel=function(){var model=scope.modelArray;if(!model){var selection=sfPath.parse(attrs.sfNewArray);model=[];sel(selection,scope,model);scope.modelArray=model;}
return model;};var once=scope.$watch('form',function(form){if(!form){return;}
if(!form.titleMap&&form.startEmpty!==true&&(!scope.modelArray||scope.modelArray.length===0)){scope.appendToArray();}
if(scope.form&&scope.form.schema&&scope.form.schema.uniqueItems===true){scope.$watch(attrs.sfNewArray,watchFn,true);scope.$watch([attrs.sfNewArray,attrs.sfNewArray+'.length'],onChangeFn);}else{if(scope.$watchGroup){scope.$watchGroup([attrs.sfNewArray,attrs.sfNewArray+'.length'],function(){watchFn();onChangeFn();});}else{scope.$watch(attrs.sfNewArray,function(){watchFn();onChangeFn();});scope.$watch(attrs.sfNewArray+'.length',function(){watchFn();onChangeFn();});}}
if(form.titleMap&&form.titleMap.length>0){scope.titleMapValues=[];var updateTitleMapValues=function(arr){scope.titleMapValues=[];arr=arr||[];form.titleMap.forEach(function(item){scope.titleMapValues.push(arr.indexOf(item.value)!==-1);});};updateTitleMapValues(scope.modelArray);scope.$watchCollection('modelArray',updateTitleMapValues);scope.$watchCollection('titleMapValues',function(vals,old){if(vals&&vals!==old){var arr=getOrCreateModel();while(arr.length>0){arr.pop();}
form.titleMap.forEach(function(item,index){if(vals[index]){arr.push(item.value);}});if(scope.validateField){scope.validateField();}}});}
once();});scope.appendToArray=function(){var empty;var model=getOrCreateModel();if(scope.form&&scope.form.schema&&scope.form.schema.items){var items=scope.form.schema.items;if(items.type&&items.type.indexOf('object')!==-1){empty={};if(!scope.options||scope.options.setSchemaDefaults!==false){empty=angular.isDefined(items['default'])?items['default']:empty;if(empty){schemaForm.traverseSchema(items,function(prop,path){if(angular.isDefined(prop['default'])){sel(path,empty,prop['default']);}});}}}else if(items.type&&items.type.indexOf('array')!==-1){empty=[];if(!scope.options||scope.options.setSchemaDefaults!==false){empty=items['default']||empty;}}else{if(!scope.options||scope.options.setSchemaDefaults!==false){empty=items['default']||empty;}}}
model.push(empty);return model;};scope.deleteFromArray=function(index){var model=scope.modelArray;if(model){model.splice(index,1);}
return model;};var setIndex=function(index){return function(form){if(form.key){form.key[form.key.indexOf('')]=index;}};};var formDefCache={};scope.copyWithIndex=function(index){var form=scope.form;if(!formDefCache[index]){var subForm=form.items[0];if(form.items.length>1){subForm={type:'section',items:form.items.map(function(item){item.ngModelOptions=form.ngModelOptions;if(angular.isUndefined(item.readonly)){item.readonly=form.readonly;}
return item;})};}
if(subForm){var copy=angular.copy(subForm);copy.arrayIndex=index;schemaForm.traverseForm(copy,setIndex(index));formDefCache[index]=copy;}}
return formDefCache[index];};}};}]);angular.module('schemaForm').directive('sfSchema',['$compile','$http','$templateCache','$q','schemaForm','schemaFormDecorators','sfSelect','sfPath','sfBuilder',function($compile,$http,$templateCache,$q,schemaForm,schemaFormDecorators,sfSelect,sfPath,sfBuilder){return{scope:{schema:'=sfSchema',initialForm:'=sfForm',model:'=sfModel',options:'=sfOptions'},controller:['$scope',function($scope){this.evalInParentScope=function(expr,locals){return $scope.$parent.$eval(expr,locals);};var that=this;$scope.lookup=function(lookup){if(lookup){that.lookup=lookup;}
return that.lookup;};}],replace:false,restrict:'A',transclude:true,require:'?form',link:function(scope,element,attrs,formCtrl,transclude){scope.formCtrl=formCtrl;var ignore={};transclude(scope,function(clone){clone.addClass('schema-form-ignore');element.prepend(clone);if(element[0].querySelectorAll){var models=element[0].querySelectorAll('[ng-model]');if(models){for(var i=0;i<models.length;i++){var key=models[i].getAttribute('ng-model');ignore[key.substring(key.indexOf('.')+1)]=true;}}}});var lastDigest={};var childScope;var render=function(schema,form){var asyncTemplates=[];var merged=schemaForm.merge(schema,form,ignore,scope.options,undefined,asyncTemplates);if(asyncTemplates.length>0){$q.all(asyncTemplates.map(function(form){return $http.get(form.templateUrl,{cache:$templateCache}).then(function(res){form.template=res.data;});})).then(function(){internalRender(schema,form,merged);});}else{internalRender(schema,form,merged);}};var internalRender=function(schema,form,merged){if(childScope){scope.externalDestructionInProgress=true;childScope.$destroy();scope.externalDestructionInProgress=false;}
childScope=scope.$new();childScope.schemaForm={form:merged,schema:schema};element.children(':not(.schema-form-ignore)').remove();var slots={};var slotsFound=element[0].querySelectorAll('*[sf-insert-field]');for(var i=0;i<slotsFound.length;i++){slots[slotsFound[i].getAttribute('sf-insert-field')]=slotsFound[i];}
var decorator=schemaFormDecorators.decorator(attrs.sfUseDecorator);var lookup=Object.create(null);scope.lookup(lookup);element[0].appendChild(sfBuilder.build(merged,decorator,slots,lookup));childScope.firstDigest=true;setTimeout(function(){childScope.firstDigest=false;},0);$compile(element.children())(childScope);if(!scope.options||scope.options.setSchemaDefaults!==false){schemaForm.traverseSchema(schema,function(prop,path){if(angular.isDefined(prop['default'])){var val=sfSelect(path,scope.model);if(angular.isUndefined(val)){sfSelect(path,scope.model,prop['default']);}}});}
scope.$emit('sf-render-finished',element);};var defaultForm=['*'];scope.$watch(function(){var schema=scope.schema;var form=scope.initialForm||defaultForm;if(form&&schema&&schema.type&&(lastDigest.form!==form||lastDigest.schema!==schema)&&Object.keys(schema.properties).length>0){lastDigest.schema=schema;lastDigest.form=form;render(schema,form);}});scope.$on('schemaFormRedraw',function(){var schema=scope.schema;var form=scope.initialForm?angular.copy(scope.initialForm):['*'];if(schema){render(schema,form);}});scope.$on('$destroy',function(){scope.externalDestructionInProgress=true;});scope.evalExpr=function(expression,locals){return scope.$parent.$eval(expression,locals);};}};}]);angular.module('schemaForm').directive('schemaValidate',['sfValidator','$parse','sfSelect',function(sfValidator,$parse,sfSelect){return{restrict:'A',scope:false,priority:500,require:'ngModel',link:function(scope,element,attrs,ngModel){scope.$emit('schemaFormPropagateNgModelController',ngModel);var error=null;var form=scope.$eval(attrs.schemaValidate);if(form.copyValueTo){ngModel.$viewChangeListeners.push(function(){var paths=form.copyValueTo;angular.forEach(paths,function(path){sfSelect(path,scope.model,ngModel.$modelValue);});});};var validate=function(viewValue){if(!form){return viewValue;}
if(scope.options&&scope.options.tv4Validation===false){return viewValue;}
var result=sfValidator.validate(form,viewValue);Object.keys(ngModel.$error).filter(function(k){return k.indexOf('tv4-')===0;}).forEach(function(k){ngModel.$setValidity(k,true);});if(!result.valid){ngModel.$setValidity('tv4-'+result.error.code,false);error=result.error;if(ngModel.$validators){return viewValue;}
return undefined;}
return viewValue;};if(typeof form.ngModel==='function'){form.ngModel(ngModel);}
['$parsers','$viewChangeListeners','$formatters'].forEach(function(attr){if(form[attr]&&ngModel[attr]){form[attr].forEach(function(fn){ngModel[attr].push(fn);});}});['$validators','$asyncValidators'].forEach(function(attr){if(form[attr]&&ngModel[attr]){angular.forEach(form[attr],function(fn,name){ngModel[attr][name]=fn;});}});ngModel.$parsers.push(validate);if(ngModel.$validators){ngModel.$validators.schemaForm=function(){return!Object.keys(ngModel.$error).some(function(e){return e!=='schemaForm';});};}
var schema=form.schema;scope.validateField=function(formName){if(formName!=undefined&&ngModel.$$parentForm.$name!==formName){return;}
if(schema&&schema.type.indexOf('array')!==-1){validate(ngModel.$modelValue);}
if(ngModel.$setDirty){ngModel.$setDirty();ngModel.$setViewValue(ngModel.$viewValue);ngModel.$commitViewValue();if(form.required&&ngModel.$isEmpty(ngModel.$modelValue)){ngModel.$setValidity('tv4-302',false);}}else{ngModel.$setViewValue(ngModel.$viewValue);}};ngModel.$formatters.push(function(val){if(ngModel.$pristine&&scope.firstDigest&&(!scope.options||scope.options.validateOnRender!==true)){return val;}
validate(ngModel.$modelValue);return val;});scope.$on('schemaFormValidate',function(event,formName){scope.validateField(formName);});scope.schemaError=function(){return error;};}};}]);return schemaForm;}));(function(root,factory){if(typeof define==='function'&&define.amd){define(['schemaForm'],factory);}else if(typeof exports==='object'){module.exports=factory(require('schemaForm'));}else{root.bootstrapDecorator=factory(root.schemaForm);}}(this,function(schemaForm){angular.module("schemaForm").run(["$templateCache",function($templateCache){$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/actions-trcl.html","<div class=\"btn-group schema-form-actions {{form.htmlClass}}\" ng-transclude=\"\"></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/actions.html","<div class=\"btn-group schema-form-actions {{form.htmlClass}}\"> <input ng-repeat-start=\"item in form.items\" type=\"submit\" class=\"btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}\" value=\"{{item.title}}\" ng-if=\"item.type === \'submit\'\"  title=\"{{item.title}}\" > <button ng-repeat-end=\"\" class=\"btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}\" type=\"button\" ng-disabled=\"form.readonly\" ng-if=\"item.type !== \'submit\'\" ng-click=\"buttonClick($event,item)\" title=\"{{item.title}}\" ><span ng-if=\"item.icon\" class=\"{{item.icon}}\"></span>{{item.title}}</button></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/array.html","<div sf-array=\"form\" class=\"schema-form-array {{form.htmlClass}}\" ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\"><label class=\"control-label\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{ form.title }}</label><ol class=\"list-group\" ng-model=\"modelArray\" ui-sortable=\"\" id=\"{{form.key.slice(-1)[0]}}\"><li class=\"list-group-item {{form.fieldHtmlClass}}\" ng-repeat=\"item in modelArray track by $index\"><button ng-hide=\"form.readonly || form.remove === null\" ng-click=\"deleteFromArray($index)\" style=\"position: relative; z-index: 20;\" type=\"button\" class=\"close pull-right\"><span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span></button><sf-decorator ng-init=\"arrayIndex = $index\" form=\"copyWithIndex($index)\"></sf-decorator></li></ol><div class=\"clearfix\" style=\"padding: 15px;\"><button ng-hide=\"form.readonly || form.add === null\" ng-click=\"appendToArray()\" type=\"button\" class=\"btn {{ form.style.add || \'btn-default\' }} pull-right\"><i class=\"glyphicon glyphicon-plus\"></i> {{ form.add || \'Add\'}}</button></div><div class=\"help-block\" ng-show=\"(hasError() && errorMessage(schemaError())) || form.description\" ng-bind-html=\"(hasError() && errorMessage(schemaError())) || form.description\"></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/checkbox.html","<div ng-if=\"form.XCloudControlStyle === undefined\" control-style=\"form.XCloudControlStyle\" class=\"checkbox single-checkbox-style schema-form-checkbox {{form.htmlClass}}\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\">"+"<label ng-if=\"form.XCloudControlStyle === undefined\" for=\"{{form.key.slice(-1)[0]}}\" class=\"mt3 relative {{form.labelHtmlClass}}\">"+"<span ng-if=\"form.XCloudControlStyle === undefined\" id=\"label{{form.key.slice(-1)[0]}}\" class=\"pr1 relative gradate\" ng-bind-html=\"form.title\"></span>"+" <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ng-if=\"form.XCloudControlStyle === undefined\" ng-required=\"form.required\"  id=\"{{form.key.slice(-1)[0]}}\" type=\"checkbox\" sf-changed=\"form\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" "+"ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" class=\"checkbox-slider yesno colored-azure {{form.fieldHtmlClass}}\" "+"name=\"{{form.key.slice(-1)[0]}}\"><span   title=\"{{form.title}}\" class=\"text pointer\"></span></label>"+"<div id=\"{{form.key.slice(-1)[0] + \'XCloudStatus\'}}\" aria-live=\"polite\" role=\"alert\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}} </div>"+"<div ng-if=\"form.XCloudControlStyle === undefined\" aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>"+"<div ng-if=\"form.XCloudControlStyle === 0 && form.condition === undefined\" control-style=\"form.XCloudControlStyle\" class=\"checkbox single-checkbox-style schema-form-checkbox {{form.htmlClass}}\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\"><label ng-if=\"form.XCloudControlStyle === 0\" class=\"{{form.labelHtmlClass}}\" for=\"{{form.key.slice(-1)[0]}}\"> <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ng-if=\"form.XCloudControlStyle === 0\"  ng-required=\"form.required\" id=\"{{form.key.slice(-1)[0]}}\" type=\"checkbox\" sf-changed=\"form\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" class=\"{{form.fieldHtmlClass}}\" name=\"{{form.key.slice(-1)[0]}}\"> <span ng-if=\"form.XCloudControlStyle === 0\" ng-bind-html=\"form.title\"></span><span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label><div ng-if=\"form.XCloudControlStyle === 0\" aria-invalid=\"true\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/checkboxes-inline.html","<div sf-array=\"form\" ng-model=\"$$value$$\" class=\"form-group schema-form-checkboxes-inline {{form.htmlClass}}\" ng-class=\"{'has-error': form.disableErrorState !== true && hasError(), 'has-success': form.disableSuccessState !== true && hasSuccess()}\"><label class=\"control-label {{form.labelHtmlClass}}\" ng-model-options=\"form.ngModelOptions\"  ng-model=\"$$value$$\" schema-validate=\"form\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label><br/><div class=\"checkbox checkbox-inline multi-checkboxes-style\" ng-repeat=\"val in titleMapValues track by $index\"><label><input aria-describedby=\"{{form.key.slice(-1)[0] + 'Description'}}\" type=\"checkbox\" ng-disabled=\"form.readonly\" sf-changed=\"form\" class=\"{{form.fieldHtmlClass}}\" ng-model=\"titleMapValues[$index]\" id=\"{{form.key.slice(-1)[0]}}\" name=\"{{form.key.slice(-1)[0]}}\" title=\"{{form.title}}\"><span ng-bind-html=\"form.titleMap[$index].name\"></span></label></div><div aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\" id=\"{{form.key.slice(-1)[0] + 'Description'}}\"></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/checkboxes.html","<div sf-array=\"form\" ng-model=\"$$value$$\" class=\"form-group schema-form-checkboxes {{form.htmlClass}}\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\"><label class=\"control-label {{form.labelHtmlClass}}\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label><br/><div class=\"checkbox multi-checkboxes-style\" ng-repeat=\"val in titleMapValues track by $index\"><label> <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" type=\"checkbox\" ng-disabled=\"form.readonly\" sf-changed=\"form\" class=\"{{form.fieldHtmlClass}}\" ng-model=\"titleMapValues[$index]\" id=\"{{form.key.slice(-1)[0]}}\" name=\"{{form.key.slice(-1)[0]}}\" title=\"{{form.title}}\" > <span ng-bind-html=\"form.titleMap[$index].name\"></span></label></div><div  aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/default.html",""+"<div class=\"form-group schema-form-{{form.type}} {{form.htmlClass}}\" "+"ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }\">"+"<label class=\"control-label {{form.labelHtmlClass}}\" ng-class=\"{\'sr-only\': !showTitle()}\" "+"for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label> "+"<span ng-if=\"form.feedback !== false\" class=\"form-control-feedback\""+"ng-class=\"evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': (hasError() || (ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false)) }\" "+"aria-hidden=\"true\"></span> <span ng-if=\"hasError() && !hasSuccess()\" id=\"{{form.key.slice(-1)[0] + \'Status\'}}\" "+"aria-live=\"assertive\" role=\"alert\" class=\"sr-only\">Error</span> <span ng-if=\"hasSuccess() && !hasError()\" id=\"{{form.key.slice(-1)[0] + \'Status\'}}\" id=\"{{form.key.slice(-1)[0] + \'Status\'}}\" "+"aria-live=\"assertive\" role=\"alert\" class=\"sr-only\"> {{form.title}} entered successfuly</span>"+" <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}} {{form.key.slice(-1)[0] + \'XCloudStatus\'}}\" ng-required=\"{{form.required}}\" title=\"{{form.title}}\" ng-if=\"!form.fieldAddonLeft && !form.fieldAddonRight\" ng-show=\"form.key\" type=\"{{form.type}}\" step=\"any\" "+"sf-changed=\"form\" autocomplete=\"on\" placeholder=\"{{form.placeholder}}\" "+"class=\"form-control {{form.fieldHtmlClass}}\" id=\"{{form.key.slice(-1)[0]}}\" ng-model-options=\"form.ngModelOptions\" "+"ng-model=\"$$value$$\" ng-disabled=\"form.readonly\" schema-validate=\"form\" name=\"{{form.key.slice(-1)[0]}}\" "+">"+"<div ng-if=\"form.fieldAddonLeft || form.fieldAddonRight\" ng-class=\"{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}\">"+"<span ng-if=\"form.fieldAddonLeft\" class=\"input-group-addon\" ng-bind-html=\"form.fieldAddonLeft\"></span> "+" <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ng-required=\"{{form.required}}\" title=\"{{form.title}}\" ng-show=\"form.key\" type=\"{{form.type}}\" step=\"any\" sf-changed=\"form\" placeholder=\"{{form.placeholder}}\" "+"class=\"form-control {{form.fieldHtmlClass}}\" id=\"{{form.key.slice(-1)[0]}}\" ng-model-options=\"form.ngModelOptions\" "+"ng-model=\"$$value$$\" ng-disabled=\"form.readonly\" schema-validate=\"form\" name=\"{{form.key.slice(-1)[0]}}\" "+"> "+"<span ng-if=\"form.fieldAddonRight\" class=\"input-group-addon\" ng-bind-html=\"form.fieldAddonRight\"></span>"+"</div> "+"<div id=\"{{form.key.slice(-1)[0] + \'XCloudStatus\'}}\" aria-live=\"polite\" aria-invalid=\"true\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}}</div>"+"<div aria-invalid=\"true\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/fieldset-trcl.html","<fieldset ng-disabled=\"form.readonly\" class=\"schema-form-fieldset {{form.htmlClass}}\"><legend ng-class=\"{\'sr-only\': !showTitle() }\">{{ form.title }}</legend><div class=\"help-block\" ng-show=\"form.description\" ng-bind-html=\"form.description\"></div><div ng-transclude=\"\"></div></fieldset>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/fieldset.html","<fieldset ng-disabled=\"form.readonly\" class=\"schema-form-fieldset {{form.htmlClass}}\"><legend ng-class=\"{\'sr-only\': !showTitle() }\">{{ form.title }}</legend><div class=\"help-block\" ng-show=\"form.description\" ng-bind-html=\"form.description\"></div><sf-decorator ng-repeat=\"item in form.items\" form=\"item\"></sf-decorator></fieldset>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/help.html","<div class=\"helpvalue schema-form-helpvalue {{form.htmlClass}}\" ng-bind-html=\"form.helpvalue\"></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/radio-buttons.html","<div class=\"form-group schema-form-radiobuttons {{form.htmlClass}}\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\"><div>"+"<label class=\"control-label {{form.labelHtmlClass}}\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}</label>"+"</div><div class=\"btn-group\"><label class=\"btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}\" ng-class=\"{ active: item.value === $$value$$ }\" ng-repeat=\"item in form.titleMap\" for=\"{{form.key.slice(-1)[0]}}\"> <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" type=\"radio\" class=\"{{form.fieldHtmlClass}}\" sf-changed=\"form\" style=\"display: none;\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" ng-value=\"item.value\" name=\"{{form.key.join(\'.\')}}\" title=\"{{form.title}}\" id=\"{{form.key.slice(-1)[0]}}\"> <span ng-bind-html=\"item.name\"></span></label></div>"+"<div id=\"{{form.key.join(\'.\') + \'XCloudStatus\'}}\" aria-live=\"polite\" role=\"alert\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}}</div>"+"<div  aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/radios-inline.html","<div class=\"form-group schema-custom-form-radios-inline-wrapper schema-form-radios-inline {{form.htmlClass}}\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\"><label ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" class=\"control-label {{form.labelHtmlClass}}\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label><div><label class=\"radio-inline\" ng-repeat=\"item in form.titleMap\" for=\"{{form.key.join(\'.\') + item.value}}\"> <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" type=\"radio\" class=\"{{form.fieldHtmlClass}} schema-custom-form-radios-inline-input\" sf-changed=\"form\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" ng-value=\"item.value\" name=\"{{form.key.join(\'.\')}}\" title=\"{{form.title}}\" id=\"{{form.key.join(\'.\') + item.value}}\"> <span ng-bind-html=\"item.name\"></span></label></div>"+"<div id=\"{{form.key.join(\'.\') + \'XCloudStatus\'}}\" aria-live=\"polite\" role=\"alert\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}}</div>"+"<div  aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/radios.html","<div class=\"form-group schema-form-radios {{form.htmlClass}}\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\"><label ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" class=\"control-label {{form.labelHtmlClass}}\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}</label><div class=\"radio\" ng-repeat=\"item in form.titleMap\"><label> <input aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}}\" type=\"radio\" class=\"{{form.fieldHtmlClass}}\" sf-changed=\"form\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" ng-value=\"item.value\" name=\"{{form.key.join(\'.\')}}\" title=\"{{form.title}}\" id=\"{{form.key.slice(-1)[0]}}\" > <span ng-bind-html=\"item.name\"></span></label></div>"+"<div id=\"{{form.key.join(\'.\') + \'XCloudStatus\'}}\" aria-live=\"polite\" role=\"alert\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}}</div>"+"<div  aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/section.html","<div class=\"schema-form-section {{form.htmlClass}}\"><sf-decorator ng-repeat=\"item in form.items\" form=\"item\"></sf-decorator></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/select.html","<div class=\"form-group {{form.htmlClass}} schema-form-select\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}\"><label class=\"control-label {{form.labelHtmlClass}}\" ng-show=\"showTitle()\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label>"+"<span ng-if=\"form.feedback !== false\" class=\"form-control-feedback\""+"ng-class=\"evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': (hasError() || (ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false)) }\" "+"aria-hidden=\"true\"></span> <span ng-if=\"hasError() && !hasSuccess()\" id=\"{{form.key.slice(-1)[0] + \'Status\'}}\" "+"aria-live=\"assertive\" role=\"alert\" class=\"sr-only\">Error</span> <span ng-if=\"hasSuccess() && !hasError()\" id=\"{{form.key.slice(-1)[0] + \'Status\'}}\" "+"aria-live=\"assertive\" role=\"alert\" class=\"sr-only\"> {{form.title}} entered successfuly</span>"+"<select aria-describedby=\"{{form.key.slice(-1)[0] + \'Description\'}} {{form.key.slice(-1)[0] + \'XCloudStatus\'}}\" ng-required=\"form.required\" ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" ng-disabled=\"form.readonly\" sf-changed=\"form\" class=\"form-control {{form.fieldHtmlClass}}\" schema-validate=\"form\" aria-selected=\"true\" aria-activedescendant=\"{{form.key.slice(-1)[0]}}\" ng-options=\"item.value as item.name group by item.group for item in form.titleMap\" name=\"{{form.key.slice(-1)[0]}}\" title=\"{{form.title}}\" id=\"{{form.key.slice(-1)[0]}}\"></select>"+"<div id=\"{{form.key.slice(-1)[0] + \'XCloudStatus\'}}\" aria-invalid=\"true\" aria-live=\"polite\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}}</div>"+"<div aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/submit.html","<div class=\"form-group schema-form-submit {{form.htmlClass}}\"> <input aria-describedby=\"{{form.mandatoryFieldCollection}}\" type=\"submit\" class=\"btn disabled {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}\" value=\"{{form.title}}\" ng-if=\"form.type === \'submit\' && form.readonly\" title=\"{{form.title}}\"> <input type=\"submit\" class=\"btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}\" value=\"{{form.title}}\" ng-if=\"form.type === \'submit\' && !form.readonly\" title=\"{{form.title}}\" > <button class=\"btn disabled {{ form.style || \'btn-default\' }}\" type=\"button\" ng-click=\"buttonClick(ngForm, form, $event)\" ng-if=\"form.type !== \'submit\' && form.readonly\" aria-disabled=\"true\" tabindex=\"-1\" title=\"{{form.title}}\"><span ng-if=\"form.icon\" class=\"{{form.icon}}\"></span>{{form.title}}</button> <button class=\"btn {{ form.style || \'btn-default\' }}\" type=\"button\" ng-click=\"buttonClick(ngForm, form, $event)\" ng-if=\"form.type !== \'submit\' && !form.readonly\" title=\"{{form.title}}\"><span ng-if=\"form.icon\" class=\"{{form.icon}}\"></span>{{form.title}}</button> </div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/tabarray.html","<div sf-array=\"form\" ng-init=\"selected = { tab: 0 }\" class=\"clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}\"><div ng-if=\"!form.tabType || form.tabType !== \'right\'\" ng-class=\"{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}\"><ul class=\"nav nav-tabs\" ng-class=\"{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}\"><li ng-repeat=\"item in modelArray track by $index\" ng-click=\"$event.preventDefault() || (selected.tab = $index)\" ng-class=\"{active: selected.tab === $index}\"><a href=\"#\">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide=\"form.readonly\" ng-click=\"$event.preventDefault() || (selected.tab = appendToArray().length - 1)\"><a href=\"#\"><i class=\"glyphicon glyphicon-plus\"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class=\"{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}\"><div class=\"tab-content {{form.fieldHtmlClass}}\"><div class=\"tab-pane clearfix\" ng-repeat=\"item in modelArray track by $index\" ng-show=\"selected.tab === $index\" ng-class=\"{active: selected.tab === $index}\"><sf-decorator ng-init=\"arrayIndex = $index\" form=\"copyWithIndex($index)\"></sf-decorator><button ng-hide=\"form.readonly\" ng-click=\"selected.tab = deleteFromArray($index).length - 1\" type=\"button\" class=\"btn {{ form.style.remove || \'btn-default\' }} pull-right\"><i class=\"glyphicon glyphicon-trash\"></i> {{ form.remove || \'Remove\'}}</button></div></div></div><div ng-if=\"form.tabType === \'right\'\" class=\"col-xs-3\"><ul class=\"nav nav-tabs tabs-right\"><li ng-repeat=\"item in modelArray track by $index\" ng-click=\"$event.preventDefault() || (selected.tab = $index)\" ng-class=\"{active: selected.tab === $index}\"><a href=\"#\">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide=\"form.readonly\" ng-click=\"$event.preventDefault() || appendToArray()\"><a href=\"#\"><i class=\"glyphicon glyphicon-plus\"></i> {{ form.add || \'Add\'}}</a></li></ul></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/tabs.html","<div ng-init=\"selected = { tab: 0 }\" class=\"schema-form-tabs {{form.htmlClass}}\"><ul class=\"nav nav-tabs\"><li ng-repeat=\"tab in form.tabs\" ng-disabled=\"form.readonly\" ng-click=\"$event.preventDefault() || (selected.tab = $index)\" ng-class=\"{active: selected.tab === $index}\"><a href=\"#\">{{ tab.title }}</a></li></ul><div class=\"tab-content {{form.fieldHtmlClass}}\"><div class=\"tab-pane\" ng-disabled=\"form.readonly\" ng-repeat=\"tab in form.tabs\" ng-show=\"selected.tab === $index\" ng-class=\"{active: selected.tab === $index}\"><bootstrap-decorator ng-repeat=\"item in tab.items\" form=\"item\"></bootstrap-decorator></div></div></div>");$templateCache.put("/wp-content/plugins/xcloud/app/apply/schema/decorators/textarea.html","<div class=\"form-group has-feedback {{form.htmlClass}} schema-form-textarea\" ng-class=\"{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}\"><label class=\"{{form.labelHtmlClass}}\" ng-class=\"{\'sr-only\': !showTitle()}\" for=\"{{form.key.slice(-1)[0]}}\">{{form.title}}</label><span class=\"asterisk-text\" ng-if=\"form.required\">*</span> <textarea ng-if=\"!form.fieldAddonLeft && !form.fieldAddonRight\" class=\"form-control {{form.fieldHtmlClass}}\" id=\"{{form.key.slice(-1)[0]}}\" sf-changed=\"form\" placeholder=\"{{form.placeholder}}\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" name=\"{{form.key.slice(-1)[0]}}\" title=\"{{form.title}}\" ng-required=\"form.required\"></textarea><div ng-if=\"form.fieldAddonLeft || form.fieldAddonRight\" ng-class=\"{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}\"><span ng-if=\"form.fieldAddonLeft\" class=\"input-group-addon\" ng-bind-html=\"form.fieldAddonLeft\"></span> <textarea class=\"form-control {{form.fieldHtmlClass}}\" id=\"{{form.key.slice(-1)[0]}}\" sf-changed=\"form\" placeholder=\"{{form.placeholder}}\" ng-disabled=\"form.readonly\" ng-model=\"$$value$$\" ng-model-options=\"form.ngModelOptions\" schema-validate=\"form\" name=\"{{form.key.slice(-1)[0]}}\" title=\"{{form.title}}\"></textarea> <span ng-if=\"form.fieldAddonRight\" class=\"input-group-addon\" ng-bind-html=\"form.fieldAddonRight\"></span></div>"+"<span id=\"{{form.key.slice(-1)[0] + \'XCloudStatus\'}}\" aria-live=\"polite\" role=\"alert\" class=\"help-block red\" ng-if=\"ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false\" >{{form.validationMessage[\"302\"]}}</span>"+"<span  aria-live=\"polite\" class=\"help-block\" sf-message=\"form.description\"  id=\"{{form.key.slice(-1)[0] + \'Description\'}}\" ></span></div>");}]);angular.module('schemaForm').config(['schemaFormDecoratorsProvider',function(decoratorsProvider){var base='/wp-content/plugins/xcloud/app/apply/schema/decorators/';decoratorsProvider.defineDecorator('bootstrapDecorator',{textarea:{template:base+'textarea.html',replace:false},fieldset:{template:base+'fieldset.html',replace:false},array:{template:base+'array.html',replace:false},tabarray:{template:base+'tabarray.html',replace:false},tabs:{template:base+'tabs.html',replace:false},section:{template:base+'section.html',replace:false},conditional:{template:base+'section.html',replace:false},actions:{template:base+'actions.html',replace:false},select:{template:base+'select.html',replace:false},checkbox:{template:base+'checkbox.html',replace:false},checkboxes:{template:base+'checkboxes.html',replace:false},number:{template:base+'default.html',replace:false},password:{template:base+'default.html',replace:false},submit:{template:base+'submit.html',replace:false},button:{template:base+'submit.html',replace:false},radios:{template:base+'radios.html',replace:false},'radios-inline':{template:base+'radios-inline.html',replace:false},radiobuttons:{template:base+'radio-buttons.html',replace:false},help:{template:base+'help.html',replace:false},'default':{template:base+'default.html',replace:false},'checkboxes-inline':{template:base+'checkboxes-inline.html',replace:false},},[]);decoratorsProvider.createDirectives({textarea:base+'textarea.html',select:base+'select.html',checkbox:base+'checkbox.html',checkboxes:base+'checkboxes.html',number:base+'default.html',submit:base+'submit.html',button:base+'submit.html',text:base+'default-.html',date:base+'default.html',password:base+'default.html',datepicker:base+'datepicker.html',input:base+'default.html',radios:base+'radios.html','radios-inline':base+'radios-inline.html',radiobuttons:base+'radio-buttons.html','checkboxes-inline':base+'checkboxes-inline.html'});}]).directive('sfFieldset',function(){return{transclude:true,scope:true,templateUrl:'/wp-content/plugins/xcloud/app/apply/schema/decorators/fieldset-trcl.html',link:function(scope,element,attrs){scope.title=scope.$eval(attrs.title);}};});return schemaForm;}));angular.module("schemaForm").run(["$templateCache",function($templateCache){$templateCache.put("directives/decorators/bootstrap/datepicker/datepicker.html","<div class=\"form-group {{form.htmlClass}}\" ng-class=\"{\'has-error\': hasError()}\">\n  <label class=\"control-label {{form.labelHtmlClass}}\" ng-show=\"showTitle()\">{{form.title}}</label>\n  <div ng-class=\"{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}\">\n    <span ng-if=\"form.fieldAddonLeft\"\n          class=\"input-group-addon\"\n          ng-bind-html=\"form.fieldAddonLeft\"></span>\n    <input ng-show=\"form.key\"\n           type=\"text\"\n           class=\"form-control {{form.fieldHtmlClass}}\"\n           schema-validate=\"form\"\n           ng-model=\"$$value$$\"\n           ng-disabled=\"form.readonly\"\n           pick-a-date=\"form.pickadate\"\n           min-date=\"form.minDate\"\n           max-date=\"form.maxDate\"\n           select-years=\"form.selectYears\"\n           select-months=\"form.selectMonths\"\n           name=\"{{form.key.slice(-1)[0]}}\"\n           format=\"form.format\" />\n    <span ng-if=\"form.fieldAddonRight\"\n          class=\"input-group-addon\"\n          ng-bind-html=\"form.fieldAddonRight\"></span>\n  </div>\n  <span class=\"help-block\">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span>\n</div>\n");}]);angular.module('schemaForm').directive('pickADate',function(){var $=jQuery;var formatDate=function(value){if(angular.isString(value)||angular.isNumber(value)){return new Date(value);}
return value;};return{restrict:'A',require:'ngModel',scope:{ngModel:'=',pickADate:'=',minDate:'=',maxDate:'=',format:'=',selectYears:'=?',selectMonths:'=?'},link:function(scope,element,attrs,ngModel){if(!element.pickadate){return;}
var opts={onClose:function(){element.blur();},formatSubmit:null,selectYears:(scope.selectYears||false),selectMonths:(scope.selectMonths||false)};if(scope.pickADate){angular.extend(opts,scope.pickADate);}
element.pickadate(opts);var defaultFormat='yyyy-mm-dd';var viewFormat=$.fn.pickadate.defaults.format;var picker=element.pickadate('picker');ngModel.$formatters.push(function(value){if(angular.isUndefined(value)||value===null){return value;}
picker.set('view',value,{format:scope.format||defaultFormat});picker.set('highlight',value,{format:scope.format||defaultFormat});return picker.get('highlight',viewFormat);});ngModel.$parsers.push(function(){return picker.get('select',scope.format||defaultFormat);});if(angular.isDefined(attrs.minDate)){var onceMin=scope.$watch('minDate',function(value){if(value){picker.set('min',formatDate(value));onceMin();}},true);}
if(angular.isDefined(attrs.maxDate)){var onceMax=scope.$watch('maxDate',function(value){if(value){picker.set('max',formatDate(value));onceMax();}},true);}}};});angular.module('schemaForm').config(['schemaFormProvider','schemaFormDecoratorsProvider','sfPathProvider',function(schemaFormProvider,schemaFormDecoratorsProvider,sfPathProvider){var datepicker=function(name,schema,options){if(schema.type==='string'&&(schema.format==='date'||schema.format==='date-time')){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='datepicker';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.string.unshift(datepicker);schemaFormDecoratorsProvider.addMapping('bootstrapDecorator','datepicker','directives/decorators/bootstrap/datepicker/datepicker.html');schemaFormDecoratorsProvider.createDirective('datepicker','directives/decorators/bootstrap/datepicker/datepicker.html');}]);
/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
!function(a){"function"==typeof define&&define.amd?define("picker",["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):this.Picker=a(jQuery)}(function(a){function b(f,g,i,m){function n(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",B.component.nodes(w.open),y.box),y.wrap),y.frame),y.holder,'tabindex="-1"')}function o(){z.data(g,B).addClass(y.input).val(z.data("value")?B.get("select",x.format):f.value),x.editable||z.on("focus."+w.id+" click."+w.id,function(a){a.preventDefault(),B.open()}).on("keydown."+w.id,u),e(f,{haspopup:!0,expanded:!1,readonly:!1,owns:f.id+"_root"})}function p(){e(B.$root[0],"hidden",!0)}function q(){B.$holder.on({keydown:u,"focus.toOpen":t,blur:function(){z.removeClass(y.target)},focusin:function(a){B.$root.removeClass(y.focused),a.stopPropagation()},"mousedown click":function(b){var c=b.target;c!=B.$holder[0]&&(b.stopPropagation(),"mousedown"!=b.type||a(c).is("input, select, textarea, button, option")||(b.preventDefault(),B.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var b=a(this),c=b.data(),d=b.hasClass(y.navDisabled)||b.hasClass(y.disabled),e=h();e=e&&(e.type||e.href),(d||e&&!a.contains(B.$root[0],e))&&B.$holder[0].focus(),!d&&c.nav?B.set("highlight",B.component.item.highlight,{nav:c.nav}):!d&&"pick"in c?(B.set("select",c.pick),x.closeOnSelect&&B.close(!0)):c.clear?(B.clear(),x.closeOnClear&&B.close(!0)):c.close&&B.close(!0)})}function r(){var b;x.hiddenName===!0?(b=f.name,f.name=""):(b=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],b=b[0]+f.name+b[1]),B._hidden=a('<input type=hidden name="'+b+'"'+(z.data("value")||f.value?' value="'+B.get("select",x.formatSubmit)+'"':"")+">")[0],z.on("change."+w.id,function(){B._hidden.value=f.value?B.get("select",x.formatSubmit):""})}function s(){v&&l?B.$holder.find("."+y.frame).one("transitionend",function(){B.$holder[0].focus()}):B.$holder[0].focus()}function t(a){a.stopPropagation(),z.addClass(y.target),B.$root.addClass(y.focused),B.open()}function u(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(B.close(!0),!1):void((32==b||c||!w.open&&B.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?B.clear().close():B.open()))}if(!f)return b;var v=!1,w={id:f.id||"P"+Math.abs(~~(Math.random()*new Date))},x=i?a.extend(!0,{},i.defaults,m):m||{},y=a.extend({},b.klasses(),x.klass),z=a(f),A=function(){return this.start()},B=A.prototype={constructor:A,$node:z,start:function(){return w&&w.start?B:(w.methods={},w.start=!0,w.open=!1,w.type=f.type,f.autofocus=f==h(),f.readOnly=!x.editable,f.id=f.id||w.id,"text"!=f.type&&(f.type="text"),B.component=new i(B,x),B.$root=a('<div class="'+y.picker+'" id="'+f.id+'_root" />'),p(),B.$holder=a(n()).appendTo(B.$root),q(),x.formatSubmit&&r(),o(),x.containerHidden?a(x.containerHidden).append(B._hidden):z.after(B._hidden),x.container?a(x.container).append(B.$root):z.after(B.$root),B.on({start:B.component.onStart,render:B.component.onRender,stop:B.component.onStop,open:B.component.onOpen,close:B.component.onClose,set:B.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),v=c(B.$holder[0]),f.autofocus&&B.open(),B.trigger("start").trigger("render"))},render:function(b){return b?(B.$holder=a(n()),q(),B.$root.html(B.$holder)):B.$root.find("."+y.box).html(B.component.nodes(w.open)),B.trigger("render")},stop:function(){return w.start?(B.close(),B._hidden&&B._hidden.parentNode.removeChild(B._hidden),B.$root.remove(),z.removeClass(y.input).removeData(g),setTimeout(function(){z.off("."+w.id)},0),f.type=w.type,f.readOnly=!1,B.trigger("stop"),w.methods={},w.start=!1,B):B},open:function(c){return w.open?B:(z.addClass(y.active),e(f,"expanded",!0),setTimeout(function(){B.$root.addClass(y.opened),e(B.$root[0],"hidden",!1)},0),c!==!1&&(w.open=!0,v&&k.css("overflow","hidden").css("padding-right","+="+d()),s(),j.on("click."+w.id+" focusin."+w.id,function(a){var b=a.target;b!=f&&b!=document&&3!=a.which&&B.close(b===B.$holder[0])}).on("keydown."+w.id,function(c){var d=c.keyCode,e=B.component.key[d],f=c.target;27==d?B.close(!0):f!=B.$holder[0]||!e&&13!=d?a.contains(B.$root[0],f)&&13==d&&(c.preventDefault(),f.click()):(c.preventDefault(),e?b._.trigger(B.component.key.go,B,[b._.trigger(e)]):B.$root.find("."+y.highlighted).hasClass(y.disabled)||(B.set("select",B.component.item.highlight),x.closeOnSelect&&B.close(!0)))})),B.trigger("open"))},close:function(a){return a&&(x.editable?f.focus():(B.$holder.off("focus.toOpen").focus(),setTimeout(function(){B.$holder.on("focus.toOpen",t)},0))),z.removeClass(y.active),e(f,"expanded",!1),setTimeout(function(){B.$root.removeClass(y.opened+" "+y.focused),e(B.$root[0],"hidden",!0)},0),w.open?(w.open=!1,v&&k.css("overflow","").css("padding-right","-="+d()),j.off("."+w.id),B.trigger("close")):B},clear:function(a){return B.set("clear",null,a)},set:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(d=g&&a.isPlainObject(c)?c:d||{},b){g||(h[b]=c);for(e in h)f=h[e],e in B.component.item&&(void 0===f&&(f=null),B.component.set(e,f,d)),("select"==e||"clear"==e)&&z.val("clear"==e?"":B.get(e,x.format)).trigger("change");B.render()}return d.muted?B:B.trigger("set",h)},get:function(a,c){if(a=a||"value",null!=w[a])return w[a];if("valueSubmit"==a){if(B._hidden)return B._hidden.value;a="value"}if("value"==a)return f.value;if(a in B.component.item){if("string"==typeof c){var d=B.component.get(a);return d?b._.trigger(B.component.formats.toString,B.component,[c,d]):""}return B.component.get(a)}},on:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(b){g||(h[b]=c);for(e in h)f=h[e],d&&(e="_"+e),w.methods[e]=w.methods[e]||[],w.methods[e].push(f)}return B},off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;a<namesCount;a+=1)b=c[a],b in w.methods&&delete w.methods[b];return B},trigger:function(a,c){var d=function(a){var d=w.methods[a];d&&d.map(function(a){b._.trigger(a,B,[c])})};return d("_"+a),d(a),B}};return new A}function c(a){var b,c="position";return a.currentStyle?b=a.currentStyle[c]:window.getComputedStyle&&(b=getComputedStyle(a)[c]),"fixed"==b}function d(){if(k.height()<=i.height())return 0;var b=a('<div style="visibility:hidden;width:100px" />').appendTo("body"),c=b[0].offsetWidth;b.css("overflow","scroll");var d=a('<div style="width:100%" />').appendTo(b),e=d[0].offsetWidth;return b.remove(),c-e}function e(b,c,d){if(a.isPlainObject(c))for(var e in c)f(b,e,c[e]);else f(b,c,d)}function f(a,b,c){a.setAttribute(("role"==b?"":"aria-")+b,c)}function g(b,c){a.isPlainObject(b)||(b={attribute:c}),c="";for(var d in b){var e=("role"==d?"":"aria-")+d,f=b[d];c+=null==f?"":e+'="'+b[d]+'"'}return c}function h(){try{return document.activeElement}catch(a){}}var i=a(window),j=a(document),k=a(document.documentElement),l=null!=document.documentElement.style.transition;return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,d="",e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)c=b._.trigger(a.item,a,[e]),d+=b._.node(a.node,c[0],c[1],c[2]);return d},node:function(b,c,d,e){return c?(c=a.isArray(c)?c.join(""):c,d=d?' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},ariaAttr:g},b.extend=function(c,d){a.fn[c]=function(e,f){var g=this.data(c);return"picker"==e?g:g&&"string"==typeof e?b._.trigger(g[e],g,[f]):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b});
/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
(function(factory){if(typeof define=='function'&&define.amd)
define(['picker','jquery'],factory)
else if(typeof exports=='object')
module.exports=factory(require('./picker.js'),require('jquery'))
else factory(Picker,jQuery)}(function(Picker,$){var DAYS_IN_WEEK=7,WEEKS_IN_CALENDAR=6,_=Picker._
function DatePicker(picker,settings){var calendar=this,element=picker.$node[0],elementValue=element.value,elementDataValue=picker.$node.data('value'),valueString=elementDataValue||elementValue,formatString=elementDataValue?settings.formatSubmit:settings.format,isRTL=function(){return element.currentStyle?element.currentStyle.direction=='rtl':getComputedStyle(picker.$root[0]).direction=='rtl'}
calendar.settings=settings
calendar.$node=picker.$node
calendar.queue={min:'measure create',max:'measure create',now:'now create',select:'parse create validate',highlight:'parse navigate create validate',view:'parse create validate viewset',disable:'deactivate',enable:'activate'}
calendar.item={}
calendar.item.clear=null
calendar.item.disable=(settings.disable||[]).slice(0)
calendar.item.enable=-(function(collectionDisabled){return collectionDisabled[0]===true?collectionDisabled.shift():-1})(calendar.item.disable)
calendar.set('min',settings.min).set('max',settings.max).set('now')
if(valueString){calendar.set('select',valueString,{format:formatString,defaultValue:true})}
else{calendar.set('select',null).set('highlight',calendar.item.now)}
calendar.key={40:7,38:-7,39:function(){return isRTL()?-1:1},37:function(){return isRTL()?1:-1},go:function(timeChange){var highlightedObject=calendar.item.highlight,targetDate=new Date(highlightedObject.year,highlightedObject.month,highlightedObject.date+timeChange)
calendar.set('highlight',targetDate,{interval:timeChange})
this.render()}}
picker.on('render',function(){picker.$root.find('.'+settings.klass.selectMonth).on('change',function(){var value=this.value
if(value){picker.set('highlight',[picker.get('view').year,value,picker.get('highlight').date])
picker.$root.find('.'+settings.klass.selectMonth).trigger('focus')}})
picker.$root.find('.'+settings.klass.selectYear).on('change',function(){var value=this.value
if(value){picker.set('highlight',[value,picker.get('view').month,picker.get('highlight').date])
picker.$root.find('.'+settings.klass.selectYear).trigger('focus')}})},1).on('open',function(){var includeToday=''
if(calendar.disabled(calendar.get('now'))){includeToday=':not(.'+settings.klass.buttonToday+')'}
picker.$root.find('button'+includeToday+', select').attr('disabled',false)},1).on('close',function(){picker.$root.find('button, select').attr('disabled',true)},1)}
DatePicker.prototype.set=function(type,value,options){var calendar=this,calendarItem=calendar.item
if(value===null){if(type=='clear')type='select'
calendarItem[type]=value
return calendar}
calendarItem[(type=='enable'?'disable':type=='flip'?'enable':type)]=calendar.queue[type].split(' ').map(function(method){value=calendar[method](type,value,options)
return value}).pop()
if(type=='select'){calendar.set('highlight',calendarItem.select,options)}
else if(type=='highlight'){calendar.set('view',calendarItem.highlight,options)}
else if(type.match(/^(flip|min|max|disable|enable)$/)){if(calendarItem.select&&calendar.disabled(calendarItem.select)){calendar.set('select',calendarItem.select,options)}
if(calendarItem.highlight&&calendar.disabled(calendarItem.highlight)){calendar.set('highlight',calendarItem.highlight,options)}}
return calendar}
DatePicker.prototype.get=function(type){return this.item[type]}
DatePicker.prototype.create=function(type,value,options){var isInfiniteValue,calendar=this
value=value===undefined?type:value
if(value==-Infinity||value==Infinity){isInfiniteValue=value}
else if($.isPlainObject(value)&&_.isInteger(value.pick)){value=value.obj}
else if($.isArray(value)){value=new Date(value[0],value[1],value[2])
value=_.isDate(value)?value:calendar.create().obj}
else if(_.isInteger(value)||_.isDate(value)){value=calendar.normalize(new Date(value),options)}
else{value=calendar.now(type,value,options)}
return{year:isInfiniteValue||value.getFullYear(),month:isInfiniteValue||value.getMonth(),date:isInfiniteValue||value.getDate(),day:isInfiniteValue||value.getDay(),obj:isInfiniteValue||value,pick:isInfiniteValue||value.getTime()}}
DatePicker.prototype.createRange=function(from,to){var calendar=this,createDate=function(date){if(date===true||$.isArray(date)||_.isDate(date)){return calendar.create(date)}
return date}
if(!_.isInteger(from)){from=createDate(from)}
if(!_.isInteger(to)){to=createDate(to)}
if(_.isInteger(from)&&$.isPlainObject(to)){from=[to.year,to.month,to.date+from];}
else if(_.isInteger(to)&&$.isPlainObject(from)){to=[from.year,from.month,from.date+to];}
return{from:createDate(from),to:createDate(to)}}
DatePicker.prototype.withinRange=function(range,dateUnit){range=this.createRange(range.from,range.to)
return dateUnit.pick>=range.from.pick&&dateUnit.pick<=range.to.pick}
DatePicker.prototype.overlapRanges=function(one,two){var calendar=this
one=calendar.createRange(one.from,one.to)
two=calendar.createRange(two.from,two.to)
return calendar.withinRange(one,two.from)||calendar.withinRange(one,two.to)||calendar.withinRange(two,one.from)||calendar.withinRange(two,one.to)}
DatePicker.prototype.now=function(type,value,options){value=new Date()
if(options&&options.rel){value.setDate(value.getDate()+options.rel)}
return this.normalize(value,options)}
DatePicker.prototype.navigate=function(type,value,options){var targetDateObject,targetYear,targetMonth,targetDate,isTargetArray=$.isArray(value),isTargetObject=$.isPlainObject(value),viewsetObject=this.item.view
if(isTargetArray||isTargetObject){if(isTargetObject){targetYear=value.year
targetMonth=value.month
targetDate=value.date}
else{targetYear=+value[0]
targetMonth=+value[1]
targetDate=+value[2]}
if(options&&options.nav&&viewsetObject&&viewsetObject.month!==targetMonth){targetYear=viewsetObject.year
targetMonth=viewsetObject.month}
targetDateObject=new Date(targetYear,targetMonth+(options&&options.nav?options.nav:0),1)
targetYear=targetDateObject.getFullYear()
targetMonth=targetDateObject.getMonth()
while(new Date(targetYear,targetMonth,targetDate).getMonth()!==targetMonth){targetDate-=1}
value=[targetYear,targetMonth,targetDate]}
return value}
DatePicker.prototype.normalize=function(value){value.setHours(0,0,0,0)
return value}
DatePicker.prototype.measure=function(type,value){var calendar=this
if(!value){value=type=='min'?-Infinity:Infinity}
else if(typeof value=='string'){value=calendar.parse(type,value)}
else if(_.isInteger(value)){value=calendar.now(type,value,{rel:value})}
return value}
DatePicker.prototype.viewset=function(type,dateObject){return this.create([dateObject.year,dateObject.month,1])}
DatePicker.prototype.validate=function(type,dateObject,options){var calendar=this,originalDateObject=dateObject,interval=options&&options.interval?options.interval:1,isFlippedBase=calendar.item.enable===-1,hasEnabledBeforeTarget,hasEnabledAfterTarget,minLimitObject=calendar.item.min,maxLimitObject=calendar.item.max,reachedMin,reachedMax,hasEnabledWeekdays=isFlippedBase&&calendar.item.disable.filter(function(value){if($.isArray(value)){var dateTime=calendar.create(value).pick
if(dateTime<dateObject.pick)hasEnabledBeforeTarget=true
else if(dateTime>dateObject.pick)hasEnabledAfterTarget=true}
return _.isInteger(value)}).length
if(!options||(!options.nav&&!options.defaultValue))if((!isFlippedBase&&calendar.disabled(dateObject))||(isFlippedBase&&calendar.disabled(dateObject)&&(hasEnabledWeekdays||hasEnabledBeforeTarget||hasEnabledAfterTarget))||(!isFlippedBase&&(dateObject.pick<=minLimitObject.pick||dateObject.pick>=maxLimitObject.pick))){if(isFlippedBase&&!hasEnabledWeekdays&&((!hasEnabledAfterTarget&&interval>0)||(!hasEnabledBeforeTarget&&interval<0))){interval*=-1}
while(calendar.disabled(dateObject)){if(Math.abs(interval)>1&&(dateObject.month<originalDateObject.month||dateObject.month>originalDateObject.month)){dateObject=originalDateObject
interval=interval>0?1:-1}
if(dateObject.pick<=minLimitObject.pick){reachedMin=true
interval=1
dateObject=calendar.create([minLimitObject.year,minLimitObject.month,minLimitObject.date+(dateObject.pick===minLimitObject.pick?0:-1)])}
else if(dateObject.pick>=maxLimitObject.pick){reachedMax=true
interval=-1
dateObject=calendar.create([maxLimitObject.year,maxLimitObject.month,maxLimitObject.date+(dateObject.pick===maxLimitObject.pick?0:1)])}
if(reachedMin&&reachedMax){break}
dateObject=calendar.create([dateObject.year,dateObject.month,dateObject.date+interval])}}
return dateObject}
DatePicker.prototype.disabled=function(dateToVerify){var
calendar=this,isDisabledMatch=calendar.item.disable.filter(function(dateToDisable){if(_.isInteger(dateToDisable)){return dateToVerify.day===(calendar.settings.firstDay?dateToDisable:dateToDisable-1)%7}
if($.isArray(dateToDisable)||_.isDate(dateToDisable)){return dateToVerify.pick===calendar.create(dateToDisable).pick}
if($.isPlainObject(dateToDisable)){return calendar.withinRange(dateToDisable,dateToVerify)}})
isDisabledMatch=isDisabledMatch.length&&!isDisabledMatch.filter(function(dateToDisable){return $.isArray(dateToDisable)&&dateToDisable[3]=='inverted'||$.isPlainObject(dateToDisable)&&dateToDisable.inverted}).length
return calendar.item.enable===-1?!isDisabledMatch:isDisabledMatch||dateToVerify.pick<calendar.item.min.pick||dateToVerify.pick>calendar.item.max.pick}
DatePicker.prototype.parse=function(type,value,options){var calendar=this,parsingObject={}
if(!value||typeof value!='string'){return value}
if(!(options&&options.format)){options=options||{}
options.format=calendar.settings.format}
calendar.formats.toArray(options.format).map(function(label){var
formattingLabel=calendar.formats[label],formatLength=formattingLabel?_.trigger(formattingLabel,calendar,[value,parsingObject]):label.replace(/^!/,'').length
if(formattingLabel){parsingObject[label]=value.substr(0,formatLength)}
value=value.substr(formatLength)})
return[parsingObject.yyyy||parsingObject.yy,+(parsingObject.mm||parsingObject.m)-1,parsingObject.dd||parsingObject.d]}
DatePicker.prototype.formats=(function(){function getWordLengthFromCollection(string,collection,dateObject){var word=string.match(/[^\x00-\x7F]+|\w+/)[0]
if(!dateObject.mm&&!dateObject.m){dateObject.m=collection.indexOf(word)+1}
return word.length}
function getFirstWordLength(string){return string.match(/\w+/)[0].length}
return{d:function(string,dateObject){return string?_.digits(string):dateObject.date},dd:function(string,dateObject){return string?2:_.lead(dateObject.date)},ddd:function(string,dateObject){return string?getFirstWordLength(string):this.settings.weekdaysShort[dateObject.day]},dddd:function(string,dateObject){return string?getFirstWordLength(string):this.settings.weekdaysFull[dateObject.day]},m:function(string,dateObject){return string?_.digits(string):dateObject.month+1},mm:function(string,dateObject){return string?2:_.lead(dateObject.month+1)},mmm:function(string,dateObject){var collection=this.settings.monthsShort
return string?getWordLengthFromCollection(string,collection,dateObject):collection[dateObject.month]},mmmm:function(string,dateObject){var collection=this.settings.monthsFull
return string?getWordLengthFromCollection(string,collection,dateObject):collection[dateObject.month]},yy:function(string,dateObject){return string?2:(''+dateObject.year).slice(2)},yyyy:function(string,dateObject){return string?4:dateObject.year},toArray:function(formatString){return formatString.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(formatString,itemObject){var calendar=this
return calendar.formats.toArray(formatString).map(function(label){return _.trigger(calendar.formats[label],calendar,[0,itemObject])||label.replace(/^!/,'')}).join('')}}})()
DatePicker.prototype.isDateExact=function(one,two){var calendar=this
if((_.isInteger(one)&&_.isInteger(two))||(typeof one=='boolean'&&typeof two=='boolean')){return one===two}
if((_.isDate(one)||$.isArray(one))&&(_.isDate(two)||$.isArray(two))){return calendar.create(one).pick===calendar.create(two).pick}
if($.isPlainObject(one)&&$.isPlainObject(two)){return calendar.isDateExact(one.from,two.from)&&calendar.isDateExact(one.to,two.to)}
return false}
DatePicker.prototype.isDateOverlap=function(one,two){var calendar=this,firstDay=calendar.settings.firstDay?1:0
if(_.isInteger(one)&&(_.isDate(two)||$.isArray(two))){one=one%7+firstDay
return one===calendar.create(two).day+1}
if(_.isInteger(two)&&(_.isDate(one)||$.isArray(one))){two=two%7+firstDay
return two===calendar.create(one).day+1}
if($.isPlainObject(one)&&$.isPlainObject(two)){return calendar.overlapRanges(one,two)}
return false}
DatePicker.prototype.flipEnable=function(val){var itemObject=this.item
itemObject.enable=val||(itemObject.enable==-1?1:-1)}
DatePicker.prototype.deactivate=function(type,datesToDisable){var calendar=this,disabledItems=calendar.item.disable.slice(0)
if(datesToDisable=='flip'){calendar.flipEnable()}
else if(datesToDisable===false){calendar.flipEnable(1)
disabledItems=[]}
else if(datesToDisable===true){calendar.flipEnable(-1)
disabledItems=[]}
else{datesToDisable.map(function(unitToDisable){var matchFound
for(var index=0;index<disabledItems.length;index+=1){if(calendar.isDateExact(unitToDisable,disabledItems[index])){matchFound=true
break}}
if(!matchFound){if(_.isInteger(unitToDisable)||_.isDate(unitToDisable)||$.isArray(unitToDisable)||($.isPlainObject(unitToDisable)&&unitToDisable.from&&unitToDisable.to)){disabledItems.push(unitToDisable)}}})}
return disabledItems}
DatePicker.prototype.activate=function(type,datesToEnable){var calendar=this,disabledItems=calendar.item.disable,disabledItemsCount=disabledItems.length
if(datesToEnable=='flip'){calendar.flipEnable()}
else if(datesToEnable===true){calendar.flipEnable(1)
disabledItems=[]}
else if(datesToEnable===false){calendar.flipEnable(-1)
disabledItems=[]}
else{datesToEnable.map(function(unitToEnable){var matchFound,disabledUnit,index,isExactRange
for(index=0;index<disabledItemsCount;index+=1){disabledUnit=disabledItems[index]
if(calendar.isDateExact(disabledUnit,unitToEnable)){matchFound=disabledItems[index]=null
isExactRange=true
break}
else if(calendar.isDateOverlap(disabledUnit,unitToEnable)){if($.isPlainObject(unitToEnable)){unitToEnable.inverted=true
matchFound=unitToEnable}
else if($.isArray(unitToEnable)){matchFound=unitToEnable
if(!matchFound[3])matchFound.push('inverted')}
else if(_.isDate(unitToEnable)){matchFound=[unitToEnable.getFullYear(),unitToEnable.getMonth(),unitToEnable.getDate(),'inverted']}
break}}
if(matchFound)for(index=0;index<disabledItemsCount;index+=1){if(calendar.isDateExact(disabledItems[index],unitToEnable)){disabledItems[index]=null
break}}
if(isExactRange)for(index=0;index<disabledItemsCount;index+=1){if(calendar.isDateOverlap(disabledItems[index],unitToEnable)){disabledItems[index]=null
break}}
if(matchFound){disabledItems.push(matchFound)}})}
return disabledItems.filter(function(val){return val!=null})}
DatePicker.prototype.nodes=function(isOpen){var
calendar=this,settings=calendar.settings,calendarItem=calendar.item,nowObject=calendarItem.now,selectedObject=calendarItem.select,highlightedObject=calendarItem.highlight,viewsetObject=calendarItem.view,disabledCollection=calendarItem.disable,minLimitObject=calendarItem.min,maxLimitObject=calendarItem.max,tableHead=(function(collection,fullCollection){if(settings.firstDay){collection.push(collection.shift())
fullCollection.push(fullCollection.shift())}
return _.node('thead',_.node('tr',_.group({min:0,max:DAYS_IN_WEEK-1,i:1,node:'th',item:function(counter){return[collection[counter],settings.klass.weekdays,'scope=col title="'+fullCollection[counter]+'"']}})))})((settings.showWeekdaysFull?settings.weekdaysFull:settings.weekdaysShort).slice(0),settings.weekdaysFull.slice(0)),createMonthNav=function(next){return _.node('div',' ',settings.klass['nav'+(next?'Next':'Prev')]+((next&&viewsetObject.year>=maxLimitObject.year&&viewsetObject.month>=maxLimitObject.month)||(!next&&viewsetObject.year<=minLimitObject.year&&viewsetObject.month<=minLimitObject.month)?' '+settings.klass.navDisabled:''),'data-nav='+(next||-1)+' '+
_.ariaAttr({role:'button',controls:calendar.$node[0].id+'_table'})+' '+'title="'+(next?settings.labelMonthNext:settings.labelMonthPrev)+'"')},createMonthLabel=function(){var monthsCollection=settings.showMonthsShort?settings.monthsShort:settings.monthsFull
if(settings.selectMonths){return _.node('select',_.group({min:0,max:11,i:1,node:'option',item:function(loopedMonth){return[monthsCollection[loopedMonth],0,'value='+loopedMonth+
(viewsetObject.month==loopedMonth?' selected':'')+
(((viewsetObject.year==minLimitObject.year&&loopedMonth<minLimitObject.month)||(viewsetObject.year==maxLimitObject.year&&loopedMonth>maxLimitObject.month))?' disabled':'')]}}),settings.klass.selectMonth,(isOpen?'':'disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id+'_table'})+' '+'title="'+settings.labelMonthSelect+'"')}
return _.node('div',monthsCollection[viewsetObject.month],settings.klass.month)},createYearLabel=function(){var focusedYear=viewsetObject.year,numberYears=settings.selectYears===true?5:~~(settings.selectYears/2)
if(numberYears){var
minYear=minLimitObject.year,maxYear=maxLimitObject.year,lowestYear=focusedYear-numberYears,highestYear=focusedYear+numberYears
if(minYear>lowestYear){highestYear+=minYear-lowestYear
lowestYear=minYear}
if(maxYear<highestYear){var availableYears=lowestYear-minYear,neededYears=highestYear-maxYear
lowestYear-=availableYears>neededYears?neededYears:availableYears
highestYear=maxYear}
return _.node('select',_.group({min:lowestYear,max:highestYear,i:1,node:'option',item:function(loopedYear){return[loopedYear,0,'value='+loopedYear+(focusedYear==loopedYear?' selected':'')]}}),settings.klass.selectYear,(isOpen?'':'disabled')+' '+_.ariaAttr({controls:calendar.$node[0].id+'_table'})+' '+'title="'+settings.labelYearSelect+'"')}
return _.node('div',focusedYear,settings.klass.year)}
return _.node('div',(settings.selectYears?createYearLabel()+createMonthLabel():createMonthLabel()+createYearLabel())+
createMonthNav()+createMonthNav(1),settings.klass.header)+_.node('table',tableHead+
_.node('tbody',_.group({min:0,max:WEEKS_IN_CALENDAR-1,i:1,node:'tr',item:function(rowCounter){var shiftDateBy=settings.firstDay&&calendar.create([viewsetObject.year,viewsetObject.month,1]).day===0?-7:0
return[_.group({min:DAYS_IN_WEEK*rowCounter-viewsetObject.day+shiftDateBy+1,max:function(){return this.min+DAYS_IN_WEEK-1},i:1,node:'td',item:function(targetDate){targetDate=calendar.create([viewsetObject.year,viewsetObject.month,targetDate+(settings.firstDay?1:0)])
var isSelected=selectedObject&&selectedObject.pick==targetDate.pick,isHighlighted=highlightedObject&&highlightedObject.pick==targetDate.pick,isDisabled=disabledCollection&&calendar.disabled(targetDate)||targetDate.pick<minLimitObject.pick||targetDate.pick>maxLimitObject.pick,formattedDate=_.trigger(calendar.formats.toString,calendar,[settings.format,targetDate])
return[_.node('div',targetDate.date,(function(klasses){klasses.push(viewsetObject.month==targetDate.month?settings.klass.infocus:settings.klass.outfocus)
if(nowObject.pick==targetDate.pick){klasses.push(settings.klass.now)}
if(isSelected){klasses.push(settings.klass.selected)}
if(isHighlighted){klasses.push(settings.klass.highlighted)}
if(isDisabled){klasses.push(settings.klass.disabled)}
return klasses.join(' ')})([settings.klass.day]),'data-pick='+targetDate.pick+' '+_.ariaAttr({role:'gridcell',label:formattedDate,selected:isSelected&&calendar.$node.val()===formattedDate?true:null,activedescendant:isHighlighted?true:null,disabled:isDisabled?true:null})),'',_.ariaAttr({role:'presentation'})]}})]}})),settings.klass.table,'id="'+calendar.$node[0].id+'_table'+'" '+_.ariaAttr({role:'grid',controls:calendar.$node[0].id,readonly:true}))+
_.node('div',_.node('button',settings.today,settings.klass.buttonToday,'type=button data-pick='+nowObject.pick+
(isOpen&&!calendar.disabled(nowObject)?'':' disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id}))+
_.node('button',settings.clear,settings.klass.buttonClear,'type=button data-clear=1'+
(isOpen?'':' disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id}))+
_.node('button',settings.close,settings.klass.buttonClose,'type=button data-close=true '+
(isOpen?'':' disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id})),settings.klass.footer)}
DatePicker.defaults=(function(prefix){return{labelMonthNext:'Next month',labelMonthPrev:'Previous month',labelMonthSelect:'Select a month',labelYearSelect:'Select a year',monthsFull:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],weekdaysFull:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],weekdaysShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],today:'Today',clear:'Clear',close:'Close',closeOnSelect:true,closeOnClear:true,format:'yyyy-mm-dd',klass:{table:prefix+'table',header:prefix+'header',navPrev:prefix+'nav--prev',navNext:prefix+'nav--next',navDisabled:prefix+'nav--disabled',month:prefix+'month',year:prefix+'year',selectMonth:prefix+'select--month',selectYear:prefix+'select--year',weekdays:prefix+'weekday',day:prefix+'day',disabled:prefix+'day--disabled',selected:prefix+'day--selected',highlighted:prefix+'day--highlighted',now:prefix+'day--today',infocus:prefix+'day--infocus',outfocus:prefix+'day--outfocus',footer:prefix+'footer',buttonClear:prefix+'button--clear',buttonToday:prefix+'button--today',buttonClose:prefix+'button--close'}}})(Picker.klasses().picker+'__')
Picker.extend('pickadate',DatePicker)}));
/*!
 * Time picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/time.htm
 */
!function(a){"function"==typeof define&&define.amd?define(["picker","jquery"],a):"object"==typeof exports?module.exports=a(require("./picker.js"),require("jquery")):a(Picker,jQuery)}(function(a,b){function c(a,b){var c=this,d=a.$node[0].value,e=a.$node.data("value"),f=e||d,g=e?b.formatSubmit:b.format;c.settings=b,c.$node=a.$node,c.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},c.item={},c.item.clear=null,c.item.interval=b.interval||30,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),f?c.set("select",f,{format:g}):c.set("select",null).set("highlight",c.item.now),c.key={40:1,38:-1,39:1,37:-1,go:function(a){c.set("highlight",c.item.highlight.pick+a*c.item.interval,{interval:a*c.item.interval}),this.render()}},a.on("render",function(){var c=a.$root.children(),d=c.find("."+b.klass.viewset),e=function(a){return["webkit","moz","ms","o",""].map(function(b){return(b?"-"+b+"-":"")+a})},f=function(a,b){e("transform").map(function(c){a.css(c,b)}),e("transition").map(function(c){a.css(c,b)})};d.length&&(f(c,"none"),c[0].scrollTop=~~d.position().top-2*d[0].clientHeight,f(c,""))},1).on("open",function(){a.$root.find("button").attr("disabled",!1)},1).on("close",function(){a.$root.find("button").attr("disabled",!0)},1)}var d=24,e=60,f=12,g=d*e,h=a._;c.prototype.set=function(a,b,c){var d=this,e=d.item;return null===b?("clear"==a&&(a="select"),e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):"interval"==a?d.set("min",e.min,c).set("max",e.max,c):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&d.disabled(e.select)&&d.set("select",b,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",b,c),"min"==a&&d.set("max",e.max,c)),d)},c.prototype.get=function(a){return this.item[a]},c.prototype.create=function(a,c,f){var i=this;return c=void 0===c?a:c,h.isDate(c)&&(c=[c.getHours(),c.getMinutes()]),b.isPlainObject(c)&&h.isInteger(c.pick)?c=c.pick:b.isArray(c)?c=+c[0]*e+ +c[1]:h.isInteger(c)||(c=i.now(a,c,f)),"max"==a&&c<i.item.min.pick&&(c+=g),"min"!=a&&"max"!=a&&(c-i.item.min.pick)%i.item.interval!==0&&(c+=i.item.interval),c=i.normalize(a,c,f),{hour:~~(d+c/e)%d,mins:(e+c%e)%e,time:(g+c)%g,pick:c%g}},c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||h.isDate(a)?d.create(a):a};return h.isInteger(a)||(a=e(a)),h.isInteger(c)||(c=e(c)),h.isInteger(a)&&b.isPlainObject(c)?a=[c.hour,c.mins+a*d.settings.interval]:h.isInteger(c)&&b.isPlainObject(a)&&(c=[a.hour,a.mins+c*d.settings.interval]),{from:e(a),to:e(c)}},c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},c.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},c.prototype.now=function(a,b){var c,d=this.item.interval,f=new Date,g=f.getHours()*e+f.getMinutes(),i=h.isInteger(b);return g-=g%d,c=0>b&&-d>=d*b+g,g+="min"==a&&c?0:d,i&&(g+=d*(c&&"max"!=a?b+1:b)),g},c.prototype.normalize=function(a,b){var c=this.item.interval,d=this.item.min&&this.item.min.pick||0;return b-="min"==a?0:(b-d)%c},c.prototype.measure=function(a,c,f){var g=this;return c||(c="min"==a?[0,0]:[d-1,e-1]),"string"==typeof c?c=g.parse(a,c):c===!0||h.isInteger(c)?c=g.now(a,c,f):b.isPlainObject(c)&&h.isInteger(c.pick)&&(c=g.normalize(a,c.pick,f)),c},c.prototype.validate=function(a,b,c){var d=this,e=c&&c.interval?c.interval:d.item.interval;return d.disabled(b)&&(b=d.shift(b,e)),b=d.scope(b),d.disabled(b)&&(b=d.shift(b,-1*e)),b},c.prototype.disabled=function(a){var c=this,d=c.item.disable.filter(function(d){return h.isInteger(d)?a.hour==d:b.isArray(d)||h.isDate(d)?a.pick==c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[2]||b.isPlainObject(a)&&a.inverted}).length,-1===c.item.enable?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},c.prototype.shift=function(a,b){var c=this,d=c.item.min.pick,e=c.item.max.pick;for(b=b||c.item.interval;c.disabled(a)&&(a=c.create(a.pick+=b),!(a.pick<=d||a.pick>=e)););return a},c.prototype.scope=function(a){var b=this.item.min.pick,c=this.item.max.pick;return this.create(a.pick>c?c:a.pick<b?b:a)},c.prototype.parse=function(a,b,c){var d,f,g,i,j,k=this,l={};if(!b||"string"!=typeof b)return b;c&&c.format||(c=c||{},c.format=k.settings.format),k.formats.toArray(c.format).map(function(a){var c,d=k.formats[a],e=d?h.trigger(d,k,[b,l]):a.replace(/^!/,"").length;d&&(c=b.substr(0,e),l[a]=c.match(/^\d+$/)?+c:c),b=b.substr(e)});for(i in l)j=l[i],h.isInteger(j)?i.match(/^(h|hh)$/i)?(d=j,("h"==i||"hh"==i)&&(d%=12)):"i"==i&&(f=j):i.match(/^a$/i)&&j.match(/^p/i)&&("h"in l||"hh"in l)&&(g=!0);return(g?d+12:d)*e+f},c.prototype.formats={h:function(a,b){return a?h.digits(a):b.hour%f||f},hh:function(a,b){return a?2:h.lead(b.hour%f||f)},H:function(a,b){return a?h.digits(a):""+b.hour%24},HH:function(a,b){return a?h.digits(a):h.lead(b.hour%24)},i:function(a,b){return a?2:h.lead(b.mins)},a:function(a,b){return a?4:g/2>b.time%g?"a.m.":"p.m."},A:function(a,b){return a?2:g/2>b.time%g?"AM":"PM"},toArray:function(a){return a.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return h.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}},c.prototype.isTimeExact=function(a,c){var d=this;return h.isInteger(a)&&h.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(h.isDate(a)||b.isArray(a))&&(h.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:b.isPlainObject(a)&&b.isPlainObject(c)?d.isTimeExact(a.from,c.from)&&d.isTimeExact(a.to,c.to):!1},c.prototype.isTimeOverlap=function(a,c){var d=this;return h.isInteger(a)&&(h.isDate(c)||b.isArray(c))?a===d.create(c).hour:h.isInteger(c)&&(h.isDate(a)||b.isArray(a))?c===d.create(a).hour:b.isPlainObject(a)&&b.isPlainObject(c)?d.overlapRanges(a,c):!1},c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)},c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){for(var c,f=0;f<e.length;f+=1)if(d.isTimeExact(a,e[f])){c=!0;break}c||(h.isInteger(a)||h.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},c.prototype.activate=function(a,c){var d=this,e=d.item.disable,f=e.length;return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,g,i,j;for(i=0;f>i;i+=1){if(g=e[i],d.isTimeExact(g,a)){c=e[i]=null,j=!0;break}if(d.isTimeOverlap(g,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[2]||c.push("inverted")):h.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}if(c)for(i=0;f>i;i+=1)if(d.isTimeExact(e[i],a)){e[i]=null;break}if(j)for(i=0;f>i;i+=1)if(d.isTimeOverlap(e[i],a)){e[i]=null;break}c&&e.push(c)}),e.filter(function(a){return null!=a})},c.prototype.i=function(a,b){return h.isInteger(b)&&b>0?b:this.item.interval},c.prototype.nodes=function(a){var b=this,c=b.settings,d=b.item.select,e=b.item.highlight,f=b.item.view,g=b.item.disable;return h.node("ul",h.group({min:b.item.min.pick,max:b.item.max.pick,i:b.item.interval,node:"li",item:function(a){a=b.create(a);var i=a.pick,j=d&&d.pick==i,k=e&&e.pick==i,l=g&&b.disabled(a),m=h.trigger(b.formats.toString,b,[c.format,a]);return[h.trigger(b.formats.toString,b,[h.trigger(c.formatLabel,b,[a])||c.format,a]),function(a){return j&&a.push(c.klass.selected),k&&a.push(c.klass.highlighted),f&&f.pick==i&&a.push(c.klass.viewset),l&&a.push(c.klass.disabled),a.join(" ")}([c.klass.listItem]),"data-pick="+a.pick+" "+h.ariaAttr({role:"option",label:m,selected:j&&b.$node.val()===m?!0:null,activedescendant:k?!0:null,disabled:l?!0:null})]}})+h.node("li",h.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")+" "+h.ariaAttr({controls:b.$node[0].id})),"",h.ariaAttr({role:"presentation"})),c.klass.list,h.ariaAttr({role:"listbox",controls:b.$node[0].id}))},c.defaults=function(a){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:a+" "+a+"--time",holder:a+"__holder",list:a+"__list",listItem:a+"__list-item",disabled:a+"__list-item--disabled",selected:a+"__list-item--selected",highlighted:a+"__list-item--highlighted",viewset:a+"__list-item--viewset",now:a+"__list-item--now",buttonClear:a+"__button--clear"}}}(a.klasses().picker),a.extend("pickatime",c)});
/*!
 * Legacy browser support
 */
[].map||(Array.prototype.map=function(a,b){for(var c=this,d=c.length,e=new Array(d),f=0;d>f;f++)f in c&&(e[f]=a.call(b,c[f],f,c));return e}),[].filter||(Array.prototype.filter=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),[].indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!==d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1});
/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * http://blog.stevenlevithan.com/archives/cross-browser-split
 */
var nativeSplit=String.prototype.split,compliantExecNpcg=void 0===/()??/.exec("")[1];String.prototype.split=function(a,b){var c=this;if("[object RegExp]"!==Object.prototype.toString.call(a))return nativeSplit.call(c,a,b);var d,e,f,g,h=[],i=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":""),j=0;for(a=new RegExp(a.source,i+"g"),c+="",compliantExecNpcg||(d=new RegExp("^"+a.source+"$(?!\\s)",i)),b=void 0===b?-1>>>0:b>>>0;(e=a.exec(c))&&(f=e.index+e[0].length,!(f>j&&(h.push(c.slice(j,e.index)),!compliantExecNpcg&&e.length>1&&e[0].replace(d,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(e[a]=void 0)}),e.length>1&&e.index<c.length&&Array.prototype.push.apply(h,e.slice(1)),g=e[0].length,j=f,h.length>=b)));)a.lastIndex===e.index&&a.lastIndex++;return j===c.length?(g||!a.test(""))&&h.push(""):h.push(c.slice(j)),h.length>b?h.slice(0,b):h};!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("underscore",r):(n="undefined"!=typeof globalThis?globalThis:n||self,function(){var t=n._,e=n._=r();e.noConflict=function(){return n._=t,e}}())}(this,(function(){var n="1.13.1",r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},t=Array.prototype,e=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,o=t.push,i=t.slice,a=e.toString,f=e.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,l="undefined"!=typeof DataView,s=Array.isArray,p=Object.keys,v=Object.create,h=c&&ArrayBuffer.isView,y=isNaN,d=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],m=Math.pow(2,53)-1;function j(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var o=Array(r+1);for(u=0;u<r;u++)o[u]=arguments[u];return o[r]=e,n.apply(this,o)}}function _(n){var r=typeof n;return"function"===r||"object"===r&&!!n}function w(n){return void 0===n}function A(n){return!0===n||!1===n||"[object Boolean]"===a.call(n)}function x(n){var r="[object "+n+"]";return function(n){return a.call(n)===r}}var S=x("String"),O=x("Number"),M=x("Date"),E=x("RegExp"),B=x("Error"),N=x("Symbol"),I=x("ArrayBuffer"),T=x("Function"),k=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof k&&(T=function(n){return"function"==typeof n||!1});var D=T,R=x("Object"),F=l&&R(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&R(new Map),P=x("DataView");var q=F?function(n){return null!=n&&D(n.getInt8)&&I(n.buffer)}:P,U=s||x("Array");function W(n,r){return null!=n&&f.call(n,r)}var z=x("Arguments");!function(){z(arguments)||(z=function(n){return W(n,"callee")})}();var L=z;function $(n){return O(n)&&y(n)}function C(n){return function(){return n}}function K(n){return function(r){var t=n(r);return"number"==typeof t&&t>=0&&t<=m}}function J(n){return function(r){return null==r?void 0:r[n]}}var G=J("byteLength"),H=K(G),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=c?function(n){return h?h(n)&&!q(n):H(n)&&Q.test(a.call(n))}:C(!1),Y=J("length");function Z(n,r){r=function(n){for(var r={},t=n.length,e=0;e<t;++e)r[n[e]]=!0;return{contains:function(n){return r[n]},push:function(t){return r[t]=!0,n.push(t)}}}(r);var t=b.length,u=n.constructor,o=D(u)&&u.prototype||e,i="constructor";for(W(n,i)&&!r.contains(i)&&r.push(i);t--;)(i=b[t])in n&&n[i]!==o[i]&&!r.contains(i)&&r.push(i)}function nn(n){if(!_(n))return[];if(p)return p(n);var r=[];for(var t in n)W(n,t)&&r.push(t);return g&&Z(n,r),r}function rn(n,r){var t=nn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function tn(n){return n instanceof tn?n:this instanceof tn?void(this._wrapped=n):new tn(n)}function en(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,G(n))}tn.VERSION=n,tn.prototype.value=function(){return this._wrapped},tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value,tn.prototype.toString=function(){return String(this._wrapped)};var un="[object DataView]";function on(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var o=typeof n;return("function"===o||"object"===o||"object"==typeof r)&&function n(r,t,e,o){r instanceof tn&&(r=r._wrapped);t instanceof tn&&(t=t._wrapped);var i=a.call(r);if(i!==a.call(t))return!1;if(F&&"[object Object]"==i&&q(r)){if(!q(t))return!1;i=un}switch(i){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return u.valueOf.call(r)===u.valueOf.call(t);case"[object ArrayBuffer]":case un:return n(en(r),en(t),e,o)}var f="[object Array]"===i;if(!f&&X(r)){if(G(r)!==G(t))return!1;if(r.buffer===t.buffer&&r.byteOffset===t.byteOffset)return!0;f=!0}if(!f){if("object"!=typeof r||"object"!=typeof t)return!1;var c=r.constructor,l=t.constructor;if(c!==l&&!(D(c)&&c instanceof c&&D(l)&&l instanceof l)&&"constructor"in r&&"constructor"in t)return!1}o=o||[];var s=(e=e||[]).length;for(;s--;)if(e[s]===r)return o[s]===t;if(e.push(r),o.push(t),f){if((s=r.length)!==t.length)return!1;for(;s--;)if(!on(r[s],t[s],e,o))return!1}else{var p,v=nn(r);if(s=v.length,nn(t).length!==s)return!1;for(;s--;)if(p=v[s],!W(t,p)||!on(r[p],t[p],e,o))return!1}return e.pop(),o.pop(),!0}(n,r,t,e)}function an(n){if(!_(n))return[];var r=[];for(var t in n)r.push(t);return g&&Z(n,r),r}function fn(n){var r=Y(n);return function(t){if(null==t)return!1;var e=an(t);if(Y(e))return!1;for(var u=0;u<r;u++)if(!D(t[n[u]]))return!1;return n!==hn||!D(t[cn])}}var cn="forEach",ln="has",sn=["clear","delete"],pn=["get",ln,"set"],vn=sn.concat(cn,pn),hn=sn.concat(pn),yn=["add"].concat(sn,cn,ln),dn=V?fn(vn):x("Map"),gn=V?fn(hn):x("WeakMap"),bn=V?fn(yn):x("Set"),mn=x("WeakSet");function jn(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function _n(n){for(var r={},t=nn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function wn(n){var r=[];for(var t in n)D(n[t])&&r.push(t);return r.sort()}function An(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var o=arguments[u],i=n(o),a=i.length,f=0;f<a;f++){var c=i[f];r&&void 0!==t[c]||(t[c]=o[c])}return t}}var xn=An(an),Sn=An(nn),On=An(an,!0);function Mn(n){if(!_(n))return{};if(v)return v(n);var r=function(){};r.prototype=n;var t=new r;return r.prototype=null,t}function En(n){return _(n)?U(n)?n.slice():xn({},n):n}function Bn(n){return U(n)?n:[n]}function Nn(n){return tn.toPath(n)}function In(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}function Tn(n,r,t){var e=In(n,Nn(r));return w(e)?t:e}function kn(n){return n}function Dn(n){return n=Sn({},n),function(r){return rn(r,n)}}function Rn(n){return n=Nn(n),function(r){return In(r,n)}}function Fn(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return function(){return n.apply(r,arguments)}}function Vn(n,r,t){return null==n?kn:D(n)?Fn(n,r,t):_(n)&&!U(n)?Dn(n):Rn(n)}function Pn(n,r){return Vn(n,r,1/0)}function qn(n,r,t){return tn.iteratee!==Pn?tn.iteratee(n,r):Vn(n,r,t)}function Un(){}function Wn(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}tn.toPath=Bn,tn.iteratee=Pn;var zn=Date.now||function(){return(new Date).getTime()};function Ln(n){var r=function(r){return n[r]},t="(?:"+nn(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}}var $n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Cn=Ln($n),Kn=Ln(_n($n)),Jn=tn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Gn=/(.)^/,Hn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Qn=/\\|'|\r|\n|\u2028|\u2029/g;function Xn(n){return"\\"+Hn[n]}var Yn=/^\s*(\w|\$)+\s*$/;var Zn=0;function nr(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=Mn(n.prototype),i=n.apply(o,u);return _(i)?i:o}var rr=j((function(n,r){var t=rr.placeholder,e=function(){for(var u=0,o=r.length,i=Array(o),a=0;a<o;a++)i[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)i.push(arguments[u++]);return nr(n,e,this,this,i)};return e}));rr.placeholder=tn;var tr=j((function(n,r,t){if(!D(n))throw new TypeError("Bind must be called on a function");var e=j((function(u){return nr(n,e,r,this,t.concat(u))}));return e})),er=K(Y);function ur(n,r,t,e){if(e=e||[],r||0===r){if(r<=0)return e.concat(n)}else r=1/0;for(var u=e.length,o=0,i=Y(n);o<i;o++){var a=n[o];if(er(a)&&(U(a)||L(a)))if(r>1)ur(a,r-1,t,e),u=e.length;else for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else t||(e[u++]=a)}return e}var or=j((function(n,r){var t=(r=ur(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=tr(n[e],n)}return n}));var ir=j((function(n,r,t){return setTimeout((function(){return n.apply(null,t)}),r)})),ar=rr(ir,tn,1);function fr(n){return function(){return!n.apply(this,arguments)}}function cr(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var lr=rr(cr,2);function sr(n,r,t){r=qn(r,t);for(var e,u=nn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function pr(n){return function(r,t,e){t=qn(t,e);for(var u=Y(r),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(r[o],o,r))return o;return-1}}var vr=pr(1),hr=pr(-1);function yr(n,r,t,e){for(var u=(t=qn(t,e,1))(r),o=0,i=Y(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function dr(n,r,t){return function(e,u,o){var a=0,f=Y(e);if("number"==typeof o)n>0?a=o>=0?o:Math.max(o+f,a):f=o>=0?Math.min(o+1,f):o+f+1;else if(t&&o&&f)return e[o=t(e,u)]===u?o:-1;if(u!=u)return(o=r(i.call(e,a,f),$))>=0?o+a:-1;for(o=n>0?a:f-1;o>=0&&o<f;o+=n)if(e[o]===u)return o;return-1}}var gr=dr(1,vr,yr),br=dr(-1,hr);function mr(n,r,t){var e=(er(n)?vr:sr)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function jr(n,r,t){var e,u;if(r=Fn(r,t),er(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=nn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function _r(n,r,t){r=qn(r,t);for(var e=!er(n)&&nn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function wr(n){var r=function(r,t,e,u){var o=!er(r)&&nn(r),i=(o||r).length,a=n>0?0:i-1;for(u||(e=r[o?o[a]:a],a+=n);a>=0&&a<i;a+=n){var f=o?o[a]:a;e=t(e,r[f],f,r)}return e};return function(n,t,e,u){var o=arguments.length>=3;return r(n,Fn(t,u,4),e,o)}}var Ar=wr(1),xr=wr(-1);function Sr(n,r,t){var e=[];return r=qn(r,t),jr(n,(function(n,t,u){r(n,t,u)&&e.push(n)})),e}function Or(n,r,t){r=qn(r,t);for(var e=!er(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function Mr(n,r,t){r=qn(r,t);for(var e=!er(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function Er(n,r,t,e){return er(n)||(n=jn(n)),("number"!=typeof t||e)&&(t=0),gr(n,r,t)>=0}var Br=j((function(n,r,t){var e,u;return D(r)?u=r:(r=Nn(r),e=r.slice(0,-1),r=r[r.length-1]),_r(n,(function(n){var o=u;if(!o){if(e&&e.length&&(n=In(n,e)),null==n)return;o=n[r]}return null==o?o:o.apply(n,t)}))}));function Nr(n,r){return _r(n,Rn(r))}function Ir(n,r,t){var e,u,o=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=er(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e>o&&(o=e);else r=qn(r,t),jr(n,(function(n,t,e){((u=r(n,t,e))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)}));return o}function Tr(n,r,t){if(null==r||t)return er(n)||(n=jn(n)),n[Wn(n.length-1)];var e=er(n)?En(n):jn(n),u=Y(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=Wn(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function kr(n,r){return function(t,e,u){var o=r?[[],[]]:{};return e=qn(e,u),jr(t,(function(r,u){var i=e(r,u,t);n(o,r,i)})),o}}var Dr=kr((function(n,r,t){W(n,t)?n[t].push(r):n[t]=[r]})),Rr=kr((function(n,r,t){n[t]=r})),Fr=kr((function(n,r,t){W(n,t)?n[t]++:n[t]=1})),Vr=kr((function(n,r,t){n[t?0:1].push(r)}),!0),Pr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function qr(n,r,t){return r in t}var Ur=j((function(n,r){var t={},e=r[0];if(null==n)return t;D(e)?(r.length>1&&(e=Fn(e,r[1])),r=an(n)):(e=qr,r=ur(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t})),Wr=j((function(n,r){var t,e=r[0];return D(e)?(e=fr(e),r.length>1&&(t=r[1])):(r=_r(ur(r,!1,!1),String),e=function(n,t){return!Er(r,t)}),Ur(n,e,t)}));function zr(n,r,t){return i.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Lr(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[0]:zr(n,n.length-r)}function $r(n,r,t){return i.call(n,null==r||t?1:r)}var Cr=j((function(n,r){return r=ur(r,!0,!0),Sr(n,(function(n){return!Er(r,n)}))})),Kr=j((function(n,r){return Cr(n,r)}));function Jr(n,r,t,e){A(r)||(e=t,t=r,r=!1),null!=t&&(t=qn(t,e));for(var u=[],o=[],i=0,a=Y(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?Er(o,c)||(o.push(c),u.push(f)):Er(u,f)||u.push(f)}return u}var Gr=j((function(n){return Jr(ur(n,!0,!0))}));function Hr(n){for(var r=n&&Ir(n,Y).length||0,t=Array(r),e=0;e<r;e++)t[e]=Nr(n,e);return t}var Qr=j(Hr);function Xr(n,r){return n._chain?tn(r).chain():r}function Yr(n){return jr(wn(n),(function(r){var t=tn[r]=n[r];tn.prototype[r]=function(){var n=[this._wrapped];return o.apply(n,arguments),Xr(this,t.apply(tn,n))}})),tn}jr(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var r=t[n];tn.prototype[n]=function(){var t=this._wrapped;return null!=t&&(r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0]),Xr(this,t)}})),jr(["concat","join","slice"],(function(n){var r=t[n];tn.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=r.apply(n,arguments)),Xr(this,n)}}));var Zr=Yr({__proto__:null,VERSION:n,restArguments:j,isObject:_,isNull:function(n){return null===n},isUndefined:w,isBoolean:A,isElement:function(n){return!(!n||1!==n.nodeType)},isString:S,isNumber:O,isDate:M,isRegExp:E,isError:B,isSymbol:N,isArrayBuffer:I,isDataView:q,isArray:U,isFunction:D,isArguments:L,isFinite:function(n){return!N(n)&&d(n)&&!isNaN(parseFloat(n))},isNaN:$,isTypedArray:X,isEmpty:function(n){if(null==n)return!0;var r=Y(n);return"number"==typeof r&&(U(n)||S(n)||L(n))?0===r:0===Y(nn(n))},isMatch:rn,isEqual:function(n,r){return on(n,r)},isMap:dn,isWeakMap:gn,isSet:bn,isWeakSet:mn,keys:nn,allKeys:an,values:jn,pairs:function(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:_n,functions:wn,methods:wn,extend:xn,extendOwn:Sn,assign:Sn,defaults:On,create:function(n,r){var t=Mn(n);return r&&Sn(t,r),t},clone:En,tap:function(n,r){return r(n),n},get:Tn,has:function(n,r){for(var t=(r=Nn(r)).length,e=0;e<t;e++){var u=r[e];if(!W(n,u))return!1;n=n[u]}return!!t},mapObject:function(n,r,t){r=qn(r,t);for(var e=nn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},identity:kn,constant:C,noop:Un,toPath:Bn,property:Rn,propertyOf:function(n){return null==n?Un:function(r){return Tn(n,r)}},matcher:Dn,matches:Dn,times:function(n,r,t){var e=Array(Math.max(0,n));r=Fn(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:Wn,now:zn,escape:Cn,unescape:Kn,templateSettings:Jn,template:function(n,r,t){!r&&t&&(r=t),r=On({},r,tn.templateSettings);var e=RegExp([(r.escape||Gn).source,(r.interpolate||Gn).source,(r.evaluate||Gn).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(e,(function(r,t,e,i,a){return o+=n.slice(u,a).replace(Qn,Xn),u=a+r.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?o+="'+\n((__t=("+e+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),r})),o+="';\n";var i,a=r.variable;if(a){if(!Yn.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(a,"_",o)}catch(n){throw n.source=o,n}var f=function(n){return i.call(this,n,tn)};return f.source="function("+a+"){\n"+o+"}",f},result:function(n,r,t){var e=(r=Nn(r)).length;if(!e)return D(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=D(o)?o.call(n):o}return n},uniqueId:function(n){var r=++Zn+"";return n?n+r:r},chain:function(n){var r=tn(n);return r._chain=!0,r},iteratee:Pn,partial:rr,bind:tr,bindAll:or,memoize:function(n,r){var t=function(e){var u=t.cache,o=""+(r?r.apply(this,arguments):e);return W(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t},delay:ir,defer:ar,throttle:function(n,r,t){var e,u,o,i,a=0;t||(t={});var f=function(){a=!1===t.leading?0:zn(),e=null,i=n.apply(u,o),e||(u=o=null)},c=function(){var c=zn();a||!1!==t.leading||(a=c);var l=r-(c-a);return u=this,o=arguments,l<=0||l>r?(e&&(clearTimeout(e),e=null),a=c,i=n.apply(u,o),e||(u=o=null)):e||!1===t.trailing||(e=setTimeout(f,l)),i};return c.cancel=function(){clearTimeout(e),a=0,e=u=o=null},c},debounce:function(n,r,t){var e,u,o,i,a,f=function(){var c=zn()-u;r>c?e=setTimeout(f,r-c):(e=null,t||(i=n.apply(a,o)),e||(o=a=null))},c=j((function(c){return a=this,o=c,u=zn(),e||(e=setTimeout(f,r),t&&(i=n.apply(a,o))),i}));return c.cancel=function(){clearTimeout(e),e=o=a=null},c},wrap:function(n,r){return rr(r,n)},negate:fr,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:cr,once:lr,findKey:sr,findIndex:vr,findLastIndex:hr,sortedIndex:yr,indexOf:gr,lastIndexOf:br,find:mr,detect:mr,findWhere:function(n,r){return mr(n,Dn(r))},each:jr,forEach:jr,map:_r,collect:_r,reduce:Ar,foldl:Ar,inject:Ar,reduceRight:xr,foldr:xr,filter:Sr,select:Sr,reject:function(n,r,t){return Sr(n,fr(qn(r)),t)},every:Or,all:Or,some:Mr,any:Mr,contains:Er,includes:Er,include:Er,invoke:Br,pluck:Nr,where:function(n,r){return Sr(n,Dn(r))},max:Ir,min:function(n,r,t){var e,u,o=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=er(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e<o&&(o=e);else r=qn(r,t),jr(n,(function(n,t,e){((u=r(n,t,e))<i||u===1/0&&o===1/0)&&(o=n,i=u)}));return o},shuffle:function(n){return Tr(n,1/0)},sample:Tr,sortBy:function(n,r,t){var e=0;return r=qn(r,t),Nr(_r(n,(function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}})).sort((function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index})),"value")},groupBy:Dr,indexBy:Rr,countBy:Fr,partition:Vr,toArray:function(n){return n?U(n)?i.call(n):S(n)?n.match(Pr):er(n)?_r(n,kn):jn(n):[]},size:function(n){return null==n?0:er(n)?n.length:nn(n).length},pick:Ur,omit:Wr,first:Lr,head:Lr,take:Lr,initial:zr,last:function(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[n.length-1]:$r(n,Math.max(0,n.length-r))},rest:$r,tail:$r,drop:$r,compact:function(n){return Sr(n,Boolean)},flatten:function(n,r){return ur(n,r,!1)},without:Kr,uniq:Jr,unique:Jr,union:Gr,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=Y(n);e<u;e++){var o=n[e];if(!Er(r,o)){var i;for(i=1;i<t&&Er(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:Cr,unzip:Hr,transpose:Hr,zip:Qr,object:function(n,r){for(var t={},e=0,u=Y(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(i.call(n,e,e+=r));return t},mixin:Yr,default:tn});return Zr._=Zr,Zr}));angular.module("schemaForm").run(["$templateCache",function($templateCache){$templateCache.put("directives/decorators/bootstrap/uiselect/multi.html","<div class=\"form-group\" ng-class=\"{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}\" ng-init=\"form.select_models=(form.schema.items| whereMulti : \'value\' : ($$value$$||[]))\">\n  <label class=\"control-label\" ng-show=\"showTitle()\">{{form.title}}</label>\n  <div class=\"form-group\">\n    <ui-select multiple sortable-options=\"{{form.sortableOptions}}\" ng-model=\"form.select_models\" theme=\"bootstrap\" on-select=\"$$value$$.push($item.value)\" on-remove=\"$$value$$.splice($$value$$.indexOf($item.value), 1)\" class=\"{{form.options.uiClass}}\">\n      <ui-select-match placeholder=\"{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}\">{{$item.label}}</ui-select-match>\n      <ui-select-choices repeat=\"item in form.schema.items | propsFilter: {label: $select.search}\"\n         refresh=\"form.options.refreshMethod(form.schema, $select.search)\"\n         refresh-delay=\"form.options.refreshDelay\">\n        <div ng-bind-html=\"item.label | highlight: $select.search\"></div>\n      </ui-select-choices>\n    </ui-select>\n    <input toggle-model type=\"hidden\" ng-model=\"insideModel\" sf-changed=\"form\" schema-validate=\"form\" />\n    <span ng-if=\"form.feedback !== false\"\n      class=\"form-control-feedback\"\n      ng-class=\"evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }\"></span>\n    <div class=\"help-block\"\n      ng-show=\"(hasError() && errorMessage(schemaError())) || form.description\"\n      ng-bind-html=\"(hasError() && errorMessage(schemaError())) || form.description\"></div>\n  </div>\n</div>\n");$templateCache.put("directives/decorators/bootstrap/uiselect/single.html","<div class=\"form-group\" ng-class=\"{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}\" ng-init=\"select_models=(form.schema.items | where : {value: $$value$$})\">\n  <label class=\"control-label\" ng-show=\"showTitle()\">{{form.title}}</label>\n  <div class=\"form-group\" ng-init=\"select_model.selected=select_models[0]\">\n    <ui-select ng-model=\"select_model.selected\" theme=\"bootstrap\" ng-disabled=\"form.disabled\" on-select=\"$$value$$=$item.value\" class=\"{{form.options.uiClass}}\">\n      <ui-select-match placeholder=\"{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}\">{{select_model.selected.label}}</ui-select-match>\n      <ui-select-choices repeat=\"item in form.schema.items | propsFilter: {label: $select.search}\"\n             refresh=\"form.options.refreshMethod(form.schema, $select.search)\"\n             refresh-delay=\"form.options.refreshDelay\">\n        <div ng-bind-html=\"item.label | highlight: $select.search\"></div>\n      </ui-select-choices>\n    </ui-select>\n    <input type=\"hidden\" toggle-single-model sf-changed=\"form\" ng-model=\"insideModel\" schema-validate=\"form\" />\n    <span ng-if=\"form.feedback !== false\"\n      class=\"form-control-feedback\"\n      ng-class=\"evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }\"></span>\n    <div class=\"help-block\"\n      ng-show=\"(hasError() && errorMessage(schemaError())) || form.description\"\n      ng-bind-html=\"(hasError() && errorMessage(schemaError())) || form.description\"></div>\n  </div>\n</div>\n");}]);angular.module('schemaForm-uiselect',['schemaForm','ui.select']).config(['schemaFormProvider','schemaFormDecoratorsProvider','sfPathProvider',function(schemaFormProvider,schemaFormDecoratorsProvider,sfPathProvider){var uiselect=function(name,schema,options){if(schema.type==='string'&&schema.format=='uiselect'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='uiselect';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.string.unshift(uiselect);var uiselect=function(name,schema,options){if(schema.type==='number'&&schema.format=='uiselect'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='uiselect';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.number.unshift(uiselect);var uimultiselect=function(name,schema,options){if(schema.type==='array'&&schema.format=='uiselect'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='uimultiselect';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.array.unshift(uimultiselect);schemaFormDecoratorsProvider.addMapping('bootstrapDecorator','uiselect','directives/decorators/bootstrap/uiselect/single.html');schemaFormDecoratorsProvider.createDirective('uiselect','directives/decorators/bootstrap/uiselect/single.html');schemaFormDecoratorsProvider.addMapping('bootstrapDecorator','uimultiselect','directives/decorators/bootstrap/uiselect/multi.html');schemaFormDecoratorsProvider.createDirective('uimultiselect','directives/decorators/bootstrap/uiselect/multi.html');}]).directive("toggleSingleModel",function(){return{require:'ngModel',restrict:"A",scope:{},replace:true,controller:['$scope',function($scope){$scope.$parent.$watch('select_model.selected',function(){if($scope.$parent.select_model.selected!=undefined){$scope.$parent.insideModel=$scope.$parent.select_model.selected.value;$scope.$parent.ngModel.$setViewValue($scope.$parent.select_model.selected.value);}});}],};}).directive("toggleModel",function(){return{require:'ngModel',restrict:"A",scope:{},replace:true,controller:['$scope',function($scope){$scope.$parent.$watch('form.select_models',function(){if($scope.$parent.form.select_models.length==0){$scope.$parent.insideModel=$scope.$parent.$$value$$;if($scope.$parent.ngModel.$viewValue!=undefined){$scope.$parent.ngModel.$setViewValue($scope.$parent.form.select_models);}}else{$scope.$parent.insideModel=$scope.$parent.form.select_models;$scope.$parent.ngModel.$setViewValue($scope.$parent.form.select_models);}},true);}],};}).filter('whereMulti',function(){return function(items,key,values){var out=[];if(angular.isArray(values)){values.forEach(function(value){for(var i=0;i<items.length;i++){if(value==items[i][key]){out.push(items[i]);break;}}});}else{out=items;}
return out;};}).filter('propsFilter',function(){return function(items,props){var out=[];if(angular.isArray(items)){items.forEach(function(item){var itemMatches=false;var keys=Object.keys(props);for(var i=0;i<keys.length;i++){var prop=keys[i];var text=props[prop].toLowerCase();if(item[prop].toString().toLowerCase().indexOf(text)!==-1){itemMatches=true;break;}}
if(itemMatches){out.push(item);}});}else{out=items;}
return out;};});angular.module("schemaForm").run(["$templateCache",function($templateCache){$templateCache.put("directives/decorators/bootstrap/uiselect/multi.html","<div class=\"form-group {{form.htmlClass}} schema-form-select\" ng-class=\"{\'has-error\': hasError(), \'has-success\': hasSuccess()}\" ng-init=\"$$value$$ = [];form.select_models=(form.schema.items| whereMulti : \'value\' : ($$value$$||[]))\">\n  <label class=\"control-label {{form.labelHtmlClass}} \" ng-show=\"showTitle()\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label>\n  <div class=\"form-group\">\n    <ui-select multiple sortable-options=\"{{form.sortableOptions}}\" ng-model=\"form.select_models\" theme=\"bootstrap\" on-select=\"$$value$$.push($item.value)\" on-remove=\"$$value$$.splice($$value$$.indexOf($item.value), 1)\" class=\"{{form.options.uiClass}}\">\n      <ui-select-match placeholder=\"{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}\">{{$item.label}}</ui-select-match>\n      <ui-select-choices repeat=\"item in form.schema.items | propsFilter: {label: $select.search}\"\n         refresh=\"form.options.refreshMethod(form.schema, $select.search)\"\n         refresh-delay=\"form.options.refreshDelay\">\n        <div ng-bind-html=\"item.label | highlight: $select.search\"></div>\n      </ui-select-choices>\n    </ui-select>\n    <input toggle-model type=\"hidden\" ng-model=\"insideModel\" sf-changed=\"form\" schema-validate=\"form\" />\n\n<div class=\"help-block\"\n      ng-show=\"(hasError() && errorMessage(schemaError())) || form.description\"\n      ng-bind-html=\"(hasError() && errorMessage(schemaError())) || form.description\"></div>\n  </div>\n</div>\n");$templateCache.put("directives/decorators/bootstrap/uiselect/multiselectdropdown.html","<div class=\"form-group {{form.htmlClass}} schema-form-select\" ng-class=\"{\'has-error\': hasError(), \'has-success\': hasSuccess()}\" ng-init=\"$$value$$ = [];form.select_models=(form.items| whereMulti : \'value\' : ($$value$$||[]))\">\n  <label class=\"control-label {{form.labelHtmlClass}} \" ng-show=\"showTitle()\">{{form.title}}<span class=\"asterisk-text\" ng-if=\"form.required\">*</span></label>\n  <div class=\"form-group\">\n    <ui-select multiple sortable-options=\"{{form.sortableOptions}}\" ng-model=\"form.select_models\" theme=\"bootstrap\" on-select=\"$$value$$.push($item.listId)\" on-remove=\"$$value$$.splice($$value$$.indexOf($item.listId), 1)\" class=\"{{form.options.uiClass}}\">\n      <ui-select-match placeholder=\"{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}\">{{$item.label}}</ui-select-match>\n      <ui-select-choices repeat=\"item in form.items | propsFilter: {label: $select.search}\"\n         refresh=\"form.options.refreshMethod(form.schema, $select.search)\"\n         refresh-delay=\"form.options.refreshDelay\">\n        <div ng-bind-html=\"item.label | highlight: $select.search\"></div>\n      </ui-select-choices>\n    </ui-select>\n    <input toggle-model type=\"hidden\" ng-model=\"insideModel\" sf-changed=\"form\" schema-validate=\"form\" />\n\n<div class=\"help-block\"\n      ng-show=\"(hasError() && errorMessage(schemaError())) || form.description\"\n      ng-bind-html=\"(hasError() && errorMessage(schemaError())) || form.description\"></div>\n  </div>\n</div>\n");$templateCache.put("directives/decorators/bootstrap/uiselect/single.html","<div class=\"form-group  has-feedback {{form.htmlClass}}\" ng-class=\"{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}\" ng-init=\"$$value$$ = [];select_models=(form.schema.items | where : {value: $$value$$})\">\n  <label class=\"control-label {{form.labelHtmlClass}} \" ng-show=\"showTitle()\">{{form.title}}</label>\n  <div class=\"form-group\" ng-init=\"$$value$$ = [];select_model.selected=select_models[0]\">\n    <ui-select ng-model=\"select_model.selected\" theme=\"bootstrap\" ng-disabled=\"form.disabled\" on-select=\"$$value$$=$item.value\" class=\"{{form.options.uiClass}}\">\n      <ui-select-match placeholder=\"{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}\">{{select_model.selected.label}}</ui-select-match>\n      <ui-select-choices repeat=\"item in form.schema.items | propsFilter: {label: $select.search}\"\n             refresh=\"form.options.refreshMethod(form.schema, $select.search)\"\n             refresh-delay=\"form.options.refreshDelay\">\n        <div ng-bind-html=\"item.label | highlight: $select.search\"></div>\n      </ui-select-choices>\n    </ui-select>\n    <input type=\"hidden\" toggle-single-model sf-changed=\"form\" ng-model=\"insideModel\" schema-validate=\"form\" />\n    <span ng-if=\"form.feedback !== false\"\n      class=\"form-control-feedback\"\n      ng-class=\"evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }\"></span>\n    <div class=\"help-block\"\n      ng-show=\"(hasError() && errorMessage(schemaError())) || form.description\"\n      ng-bind-html=\"(hasError() && errorMessage(schemaError())) || form.description\"></div>\n  </div>\n</div>\n");}]);angular.module('schemaForm-uiselect',['schemaForm','ui.select']).config(['schemaFormProvider','schemaFormDecoratorsProvider','sfPathProvider',function(schemaFormProvider,schemaFormDecoratorsProvider,sfPathProvider){var uiselect=function(name,schema,options){if(schema.type==='string'&&schema.format=='uiselect'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='uiselect';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.string.unshift(uiselect);var uiselect=function(name,schema,options){if(schema.type==='number'&&schema.format=='uiselect'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='uiselect';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.number.unshift(uiselect);var uimultiselect=function(name,schema,options){if(schema.type==='array'&&schema.format=='uimultiselect'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='uimultiselect';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.array.unshift(uimultiselect);var multiselectdropdown=function(name,schema,options){if(schema.type==='array'&&schema.format=='multiselectdropdown'){var f=schemaFormProvider.stdFormObj(name,schema,options);f.key=options.path;f.type='multiselectdropdown';options.lookup[sfPathProvider.stringify(options.path)]=f;return f;}};schemaFormProvider.defaults.array.unshift(multiselectdropdown);schemaFormDecoratorsProvider.addMapping('bootstrapDecorator','uiselect','directives/decorators/bootstrap/uiselect/single.html');schemaFormDecoratorsProvider.createDirective('uiselect','directives/decorators/bootstrap/uiselect/single.html');schemaFormDecoratorsProvider.addMapping('bootstrapDecorator','uimultiselect','directives/decorators/bootstrap/uiselect/multi.html');schemaFormDecoratorsProvider.createDirective('uimultiselect','directives/decorators/bootstrap/uiselect/multi.html');schemaFormDecoratorsProvider.addMapping('bootstrapDecorator','multiselectdropdown','directives/decorators/bootstrap/uiselect/multiselectdropdown.html');schemaFormDecoratorsProvider.createDirective('multiselectdropdown','directives/decorators/bootstrap/uiselect/multiselectdropdown.html');}]).directive("toggleSingleModel",function(){return{require:'ngModel',restrict:"A",scope:{},replace:true,controller:['$scope',function($scope){$scope.$parent.$watch('select_model.selected',function(){if($scope.$parent.select_model.selected!=undefined){$scope.$parent.insideModel=$scope.$parent.select_model.selected.value;$scope.$parent.ngModel.$setViewValue($scope.$parent.select_model.selected.value);}});}],};}).directive("toggleModel",function(){return{require:'ngModel',restrict:"A",scope:{},replace:true,controller:['$scope','$filter',function($scope,$filter){$scope.$parent.$watch('form.select_models',function(){if($scope.$parent.form.select_models.length==0){$scope.$parent.insideModel=$scope.$parent.$$value$$;if($scope.$parent.ngModel.$dirty){$scope.$parent.$error=$scope.$parent.$error||{};$scope.$parent.$error.required=true;}}else{$scope.$parent.insideModel=$scope.$parent.form.select_models;$scope.$parent.ngModel.$setViewValue($scope.$parent.form.select_models);}},true);$scope.$on(BROAD_CAST_NAMESPACE.SCHEMA_UI_SELECT_NGMODEL_PROPAGATION,function(event,savedItems,field){if(angular.isArray(savedItems)){if(field===$scope.$parent.form.key[0]){$scope.$parent.form.select_models=$filter('whereMulti')($scope.$parent.form.schema.items,'value',savedItems);}}});$scope.$on(BROAD_CAST_NAMESPACE.SCHEMA_MULTISELECT_DROPDOWN_NGMODEL_PROPAGATION,function(event,savedItems,field){if(angular.isArray(savedItems)){if(field===$scope.$parent.form.key[0]){$scope.$parent.form.select_models=$filter('whereMulti')($scope.$parent.form.schema.items,'listId',savedItems);}}});}]};}).filter('whereMulti',function(){return function(items,key,values){var out=[];if(angular.isArray(values)){values.forEach(function(value){for(var i=0;i<items.length;i++){if(value==items[i][key]){out.push(items[i]);break;}}});}else{out=items;}
return out;};}).filter('propsFilter',function(){return function(items,props){var out=[];if(angular.isArray(items)){items.forEach(function(item){var itemMatches=false;var keys=Object.keys(props);for(var i=0;i<keys.length;i++){var prop=keys[i];var text=props[prop].toLowerCase();if(item[prop].toString().toLowerCase().indexOf(text)!==-1){itemMatches=true;break;}}
if(itemMatches){out.push(item);}});}else{out=items;}
return out;};});!function(){var n=function(n,e){var t=this;this.LEVEL={TRACE:4,DEBUG:3,INFO:2,WARN:1,ERROR:0,OFF:-1},this.enhanceLogging=function(r,i,o,u,f,l,a){function c(n,e,r){function i(n,e){if(n){if(void 0!==e.logLevels[n])return e.logLevels[n];if(-1!==n.indexOf("."))return i(n.substring(0,n.lastIndexOf(".")),e)}return void 0!==e.logLevels["*"]?e.logLevels["*"]:t.LEVEL.TRACE}return e>t.LEVEL.OFF&&e<=i(n,r)}function s(e,r,i,o,u){function f(e){var r="undefined"!=typeof n,i=r&&e.length>=2&&"string"==typeof e[0]&&-1!==e[0].indexOf("%");if(i)try{var o=t.countSprintfHolders(e[0]);o>0&&(e[0]=n.apply(null,e),e.splice(1,o))}catch(u){e.unshift(u)}return e}var l=g(r,i,o,u),a=f([].slice.call(e));return[l].concat([].slice.call(a))}function g(t,r,i,o){var u="";if("undefined"!=typeof e)u=e().locale(i).format(r);else{var f=new Date,l=(new Date).toTimeString().match(/^([0-9]{2}:[0-9]{2}:[0-9]{2})/)[0];u=f.getDate()+"-"+(f.getMonth()+1)+"-"+f.getFullYear()+" "+l}return"undefined"!=typeof n?n(o,u,t):u+"::["+t+"]> "}return u.logLevels=u.logLevels||[],function(){if(c(o,i,u)){var n=s(arguments,o,f,l,a);return r.apply(null,n),n}return null}},t.countSprintfHolders=function(e){function t(n){return function(){i=Math.max(i,n)}}var r=/\x25\([a-zA-Z0-9_]+\)[b-fijosuxX]/.test(e);if(r)return 1;var i=0;return n(e,t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10)),i}};"undefined"!=typeof window&&(window.loggingEnhancer=new n(window.sprintf,window.moment)),"undefined"!=typeof exports&&(exports.LoggingEnhancer=n)}();!function(e,n,t,i){"use strict";n.module("logger",[]).provider("logEnhancer",function(){var n=this;this.datetimePattern="LLL",this.datetimeLocale=window.navigator.userLanguage||window.navigator.language||"en",this.prefixPattern="%s::[%s]> ",this.LEVEL=e.LEVEL,this.logLevels={"*":this.LEVEL.TRACE},this.$get=function(){return{enhanceAngularLog:function(t){t.LEVEL=n.LEVEL,t.logLevels=n.logLevels,t.getInstance=function(i){return{trace:e.enhanceLogging(t.debug,t.LEVEL.TRACE,i,t,n.datetimePattern,n.datetimeLocale,n.prefixPattern),debug:e.enhanceLogging(t.debug,t.LEVEL.DEBUG,i,t,n.datetimePattern,n.datetimeLocale,n.prefixPattern),log:e.enhanceLogging(t.log,t.LEVEL.INFO,i,t,n.datetimePattern,n.datetimeLocale,n.prefixPattern),info:e.enhanceLogging(t.info,t.LEVEL.INFO,i,t,n.datetimePattern,n.datetimeLocale,n.prefixPattern),warn:e.enhanceLogging(t.warn,t.LEVEL.WARN,i,t,n.datetimePattern,n.datetimeLocale,n.prefixPattern),error:e.enhanceLogging(t.error,t.LEVEL.ERROR,i,t,n.datetimePattern,n.datetimeLocale,n.prefixPattern)}}}}}}).config(["logEnhancerProvider",function(e){}]).run(["$log","logEnhancer",function(e,n){t||e.warn('sprintf.js not found: https://github.com/alexei/sprintf.js, using fixed layout pattern "%s::[%s]> "'),i||e.warn("moment.js not found: http://momentjs.com, using simple Date format"),n.enhanceAngularLog(e),e.info("logging enhancer initiated")}])}(window.loggingEnhancer,window.angular,window.sprintf,window.moment);(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory);}else if(typeof exports==="object"){module.exports=factory();}else{root.X2JS=factory();}}(this,function(){return function(config){'use strict';var VERSION="1.2.0";config=config||{};initConfigDefaults();initRequiredPolyfills();function initConfigDefaults(){if(config.escapeMode===undefined){config.escapeMode=true;}
config.attributePrefix=config.attributePrefix||"_";config.arrayAccessForm=config.arrayAccessForm||"none";config.emptyNodeForm=config.emptyNodeForm||"text";if(config.enableToStringFunc===undefined){config.enableToStringFunc=true;}
config.arrayAccessFormPaths=config.arrayAccessFormPaths||[];if(config.skipEmptyTextNodesForObj===undefined){config.skipEmptyTextNodesForObj=true;}
if(config.stripWhitespaces===undefined){config.stripWhitespaces=true;}
config.datetimeAccessFormPaths=config.datetimeAccessFormPaths||[];if(config.useDoubleQuotes===undefined){config.useDoubleQuotes=false;}
config.xmlElementsFilter=config.xmlElementsFilter||[];config.jsonPropertiesFilter=config.jsonPropertiesFilter||[];if(config.keepCData===undefined){config.keepCData=false;}}
var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function initRequiredPolyfills(){}
function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)
nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")
nodeLocalName=node.nodeName;return nodeLocalName;}
function getNodePrefix(node){return node.prefix;}
function escapeXmlChars(str){if(typeof(str)=="string")
return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&apos;');else
return str;}
function unescapeXmlChars(str){return str.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,'&');}
function checkInStdFiltersArrayForm(stdFiltersArrayForm,obj,name,path){var idx=0;for(;idx<stdFiltersArrayForm.length;idx++){var filterPath=stdFiltersArrayForm[idx];if(typeof filterPath==="string"){if(filterPath==path)
break;}
else
if(filterPath instanceof RegExp){if(filterPath.test(path))
break;}
else
if(typeof filterPath==="function"){if(filterPath(obj,name,path))
break;}}
return idx!=stdFiltersArrayForm.length;}
function toArrayAccessForm(obj,childName,path){switch(config.arrayAccessForm){case"property":if(!(obj[childName]instanceof Array))
obj[childName+"_asArray"]=[obj[childName]];else
obj[childName+"_asArray"]=obj[childName];break;}
if(!(obj[childName]instanceof Array)&&config.arrayAccessFormPaths.length>0){if(checkInStdFiltersArrayForm(config.arrayAccessFormPaths,obj,childName,path)){obj[childName]=[obj[childName]];}}}
function fromXmlDateTime(prop){var bits=prop.split(/[-T:+Z]/g);var d=new Date(bits[0],bits[1]-1,bits[2]);var secondBits=bits[5].split("\.");d.setHours(bits[3],bits[4],secondBits[0]);if(secondBits.length>1)
d.setMilliseconds(secondBits[1]);if(bits[6]&&bits[7]){var offsetMinutes=bits[6]*60+Number(bits[7]);var sign=/\d\d-\d\d:\d\d$/.test(prop)?'-':'+';offsetMinutes=0+(sign=='-'?-1*offsetMinutes:offsetMinutes);d.setMinutes(d.getMinutes()-offsetMinutes-d.getTimezoneOffset())}
else
if(prop.indexOf("Z",prop.length-1)!==-1){d=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()));}
return d;}
function checkFromXmlDateTimePaths(value,childName,fullPath){if(config.datetimeAccessFormPaths.length>0){var path=fullPath.split("\.#")[0];if(checkInStdFiltersArrayForm(config.datetimeAccessFormPaths,value,childName,path)){return fromXmlDateTime(value);}
else
return value;}
else
return value;}
function checkXmlElementsFilter(obj,childType,childName,childPath){if(childType==DOMNodeTypes.ELEMENT_NODE&&config.xmlElementsFilter.length>0){return checkInStdFiltersArrayForm(config.xmlElementsFilter,obj,childName,childPath);}
else
return true;}
function parseDOMChildren(node,path){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);if(child.nodeType==DOMNodeTypes.ELEMENT_NODE){var childName=getNodeLocalName(child);result[childName]=parseDOMChildren(child,childName);}}
return result;}
else
if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);if(child.nodeType!=DOMNodeTypes.COMMENT_NODE){var childPath=path+"."+childName;if(checkXmlElementsFilter(result,child.nodeType,childName,childPath)){result.__cnt++;if(result[childName]==null){result[childName]=parseDOMChildren(child,childPath);toArrayAccessForm(result,childName,childPath);}
else{if(result[childName]!=null){if(!(result[childName]instanceof Array)){result[childName]=[result[childName]];toArrayAccessForm(result,childName,childPath);}}
(result[childName])[result[childName].length]=parseDOMChildren(child,childPath);}}}}
for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result[config.attributePrefix+attr.name]=attr.value;}
var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;result.__prefix=nodePrefix;}
if(result["#text"]!=null){result.__text=result["#text"];if(result.__text instanceof Array){result.__text=result.__text.join("\n");}
if(config.stripWhitespaces)
result.__text=result.__text.trim();delete result["#text"];if(config.arrayAccessForm=="property")
delete result["#text_asArray"];result.__text=checkFromXmlDateTimePaths(result.__text,childName,path+"."+childName);}
if(result["#cdata-section"]!=null){result.__cdata=result["#cdata-section"];delete result["#cdata-section"];if(config.arrayAccessForm=="property")
delete result["#cdata-section_asArray"];}
if(result.__cnt==0&&config.emptyNodeForm=="text"){result='';}
else
if(result.__cnt==1&&result.__text!=null){result=result.__text;}
else
if(result.__cnt==1&&result.__cdata!=null&&!config.keepCData){result=result.__cdata;}
else
if(result.__cnt>1&&result.__text!=null&&config.skipEmptyTextNodesForObj){if((config.stripWhitespaces&&result.__text=="")||(result.__text.trim()=="")){delete result.__text;}}
delete result.__cnt;if(config.enableToStringFunc&&(result.__text!=null||result.__cdata!=null)){result.toString=function(){return(this.__text!=null?this.__text:'')+(this.__cdata!=null?this.__cdata:'');};}
return result;}
else
if(node.nodeType==DOMNodeTypes.TEXT_NODE||node.nodeType==DOMNodeTypes.CDATA_SECTION_NODE){return node.nodeValue;}}
function startTag(jsonObj,element,attrList,closed){var resultStr="<"+((jsonObj!=null&&jsonObj.__prefix!=null)?(jsonObj.__prefix+":"):"")+element;if(attrList!=null){for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];var attrVal=jsonObj[attrName];if(config.escapeMode)
attrVal=escapeXmlChars(attrVal);resultStr+=" "+attrName.substr(config.attributePrefix.length)+"=";if(config.useDoubleQuotes)
resultStr+='"'+attrVal+'"';else
resultStr+="'"+attrVal+"'";}}
if(!closed)
resultStr+=">";else
resultStr+="/>";return resultStr;}
function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?(jsonObj.__prefix+":"):"")+elementName+">";}
function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1;}
function jsonXmlSpecialElem(jsonObj,jsonObjField){if((config.arrayAccessForm=="property"&&endsWith(jsonObjField.toString(),("_asArray")))||jsonObjField.toString().indexOf(config.attributePrefix)==0||jsonObjField.toString().indexOf("__")==0||(jsonObj[jsonObjField]instanceof Function))
return true;else
return false;}
function jsonXmlElemCount(jsonObj){var elementsCnt=0;if(jsonObj instanceof Object){for(var it in jsonObj){if(jsonXmlSpecialElem(jsonObj,it))
continue;elementsCnt++;}}
return elementsCnt;}
function checkJsonObjPropertiesFilter(jsonObj,propertyName,jsonObjPath){return config.jsonPropertiesFilter.length==0||jsonObjPath==""||checkInStdFiltersArrayForm(config.jsonPropertiesFilter,jsonObj,propertyName,jsonObjPath);}
function parseJSONAttributes(jsonObj){var attrList=[];if(jsonObj instanceof Object){for(var ait in jsonObj){if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf(config.attributePrefix)==0){attrList.push(ait);}}}
return attrList;}
function parseJSONTextAttrs(jsonTxtObj){var result="";if(jsonTxtObj.__cdata!=null){result+="<![CDATA["+jsonTxtObj.__cdata+"]]>";}
if(jsonTxtObj.__text!=null){if(config.escapeMode)
result+=escapeXmlChars(jsonTxtObj.__text);else
result+=jsonTxtObj.__text;}
return result;}
function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj instanceof Object){result+=parseJSONTextAttrs(jsonTxtObj);}
else
if(jsonTxtObj!=null){if(config.escapeMode)
result+=escapeXmlChars(jsonTxtObj);else
result+=jsonTxtObj;}
return result;}
function getJsonPropertyPath(jsonObjPath,jsonPropName){if(jsonObjPath===""){return jsonPropName;}
else
return jsonObjPath+"."+jsonPropName;}
function parseJSONArray(jsonArrRoot,jsonArrObj,attrList,jsonObjPath){var result="";if(jsonArrRoot.length==0){result+=startTag(jsonArrRoot,jsonArrObj,attrList,true);}
else{for(var arIdx=0;arIdx<jsonArrRoot.length;arIdx++){result+=startTag(jsonArrRoot[arIdx],jsonArrObj,parseJSONAttributes(jsonArrRoot[arIdx]),false);result+=parseJSONObject(jsonArrRoot[arIdx],getJsonPropertyPath(jsonObjPath,jsonArrObj));result+=endTag(jsonArrRoot[arIdx],jsonArrObj);}}
return result;}
function parseJSONObject(jsonObj,jsonObjPath){var result="";var elementsCnt=jsonXmlElemCount(jsonObj);if(elementsCnt>0){for(var it in jsonObj){if(jsonXmlSpecialElem(jsonObj,it)||(jsonObjPath!=""&&!checkJsonObjPropertiesFilter(jsonObj,it,getJsonPropertyPath(jsonObjPath,it))))
continue;var subObj=jsonObj[it];var attrList=parseJSONAttributes(subObj)
if(subObj==null||subObj==undefined){result+=startTag(subObj,it,attrList,true);}
else
if(subObj instanceof Object){if(subObj instanceof Array){result+=parseJSONArray(subObj,it,attrList,jsonObjPath);}
else if(subObj instanceof Date){result+=startTag(subObj,it,attrList,false);result+=subObj.toISOString();result+=endTag(subObj,it);}
else{var subObjElementsCnt=jsonXmlElemCount(subObj);if(subObjElementsCnt>0||subObj.__text!=null||subObj.__cdata!=null){result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj,getJsonPropertyPath(jsonObjPath,it));result+=endTag(subObj,it);}
else{result+=startTag(subObj,it,attrList,true);}}}
else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it);}}}
result+=parseJSONTextObject(jsonObj);return result;}
this.parseXmlString=function(xmlDocStr){var isIEParser=window.ActiveXObject||"ActiveXObject"in window;if(xmlDocStr===undefined){return null;}
var xmlDoc;if(window.DOMParser){var parser=new window.DOMParser();var parsererrorNS=null;if(!isIEParser){try{parsererrorNS=parser.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI;}
catch(err){parsererrorNS=null;}}
try{xmlDoc=parser.parseFromString(xmlDocStr,"text/xml");if(parsererrorNS!=null&&xmlDoc.getElementsByTagNameNS(parsererrorNS,"parsererror").length>0){xmlDoc=null;}}
catch(err){xmlDoc=null;}}
else{if(xmlDocStr.indexOf("<?")==0){xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);}
xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr);}
return xmlDoc;};this.asArray=function(prop){if(prop===undefined||prop==null)
return[];else
if(prop instanceof Array)
return prop;else
return[prop];};this.toXmlDateTime=function(dt){if(dt instanceof Date)
return dt.toISOString();else
if(typeof(dt)==='number')
return new Date(dt).toISOString();else
return null;};this.asDateTime=function(prop){if(typeof(prop)=="string"){return fromXmlDateTime(prop);}
else
return prop;};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc);};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);if(xmlDoc!=null)
return this.xml2json(xmlDoc);else
return null;};this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj,"");};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr);};this.getVersion=function(){return VERSION;};}}))
;!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){this.message=a}function e(a){var b=String(a).replace(/=+$/,"");if(b.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,e,g=0,h=0,i="";e=b.charAt(h++);~e&&(c=g%4?64*c+e:e,g++%4)?i+=String.fromCharCode(255&c>>(-2*g&6)):0)e=f.indexOf(e);return i}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.prototype=new Error,d.prototype.name="InvalidCharacterError",b.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||e},{}],2:[function(a,b,c){function d(a){return decodeURIComponent(e(a).replace(/(.)/g,function(a,b){var c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}var e=a("./atob");b.exports=function(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw"Illegal base64url string!"}try{return d(b)}catch(c){return e(b)}}},{"./atob":1}],3:[function(a,b,c){"use strict";function d(a){this.message=a}var e=a("./base64_url_decode");d.prototype=new Error,d.prototype.name="InvalidTokenError",b.exports=function(a,b){if("string"!=typeof a)throw new d("Invalid token specified");b=b||{};var c=b.header===!0?0:1;try{return JSON.parse(e(a.split(".")[c]))}catch(f){throw new d("Invalid token specified: "+f.message)}},b.exports.InvalidTokenError=d},{"./base64_url_decode":2}],4:[function(a,b,c){(function(b){var c=a("./lib/index");"function"==typeof b.window.define&&b.window.define.amd?b.window.define("jwt_decode",function(){return c}):b.window&&(b.window.jwt_decode=c)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/index":3}]},{},[4]);
;/*!
 * Copyright 2017 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 * 
 *      http://aws.amazon.com/apache2.0/
 * 
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License. 
 */


(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["AmazonCognitoIdentity"] = factory();
	else
		root["AmazonCognitoIdentity"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _src = __webpack_require__(12);

	Object.keys(_src).forEach(function (key) {
	  if (key === "default" || key === "__esModule") return;
	  Object.defineProperty(exports, key, {
	    enumerable: true,
	    get: function get() {
	      return _src[key];
	    }
	  });
	});

	var enhancements = _interopRequireWildcard(_src);

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	// The version of crypto-browserify included by aws-sdk only
	// checks for window.crypto, not window.msCrypto as used by
	// IE 11 – so we set it explicitly here
	/*!
	 * Amazon Cognito Auth SDK for JavaScript
	 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

	 * Licensed under the Apache License, Version 2.0 (the "License").
	 * You may not use this file except in compliance with the License.
	 * A copy of the License is located at
	 *
	 *         http://aws.amazon.com/apache2.0/
	 *
	 * or in the "license" file accompanying this file.
	 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	 * OR CONDITIONS OF ANY KIND, either express or implied. See the
	 * License for the specific language governing permissions
	 * and limitations under the License.
	 */

	if (typeof window !== 'undefined' && !window.crypto && window.msCrypto) {
	  window.crypto = window.msCrypto;
	}

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*!
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Amazon Cognito Auth SDK for JavaScript
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License").
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may not use this file except in compliance with the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * A copy of the License is located at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *         http://aws.amazon.com/apache2.0/
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or in the "license" file accompanying this file.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * OR CONDITIONS OF ANY KIND, either express or implied. See the
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * License for the specific language governing permissions
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * and limitations under the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

	var _DecodingHelper = __webpack_require__(6);

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/** @class */
	var CognitoAccessToken = function () {
	  /**
	   * Constructs a new CognitoAccessToken object
	   * @param {string=} AccessToken The JWT access token.
	   */
	  function CognitoAccessToken(AccessToken) {
	    _classCallCheck(this, CognitoAccessToken);

	    // Assign object
	    this.jwtToken = AccessToken || '';
	    this.payload = this.decodePayload();
	  }

	  /**
	   * @returns {string} the record's token.
	   */


	  _createClass(CognitoAccessToken, [{
	    key: 'getJwtToken',
	    value: function getJwtToken() {
	      return this.jwtToken;
	    }

	    /**
	     * Sets new value for access token.
	     * @param {string=} accessToken The JWT access token.
	     * @returns {void}
	     */

	  }, {
	    key: 'setJwtToken',
	    value: function setJwtToken(accessToken) {
	      this.jwtToken = accessToken;
	    }

	    /**
	     * @returns {int} the token's expiration (exp member).
	     */

	  }, {
	    key: 'getExpiration',
	    value: function getExpiration() {
	      if (this.jwtToken === null) {
	        return undefined;
	      }
	      var jwtPayload = this.jwtToken.split('.')[1];
	      return JSON.parse((0, _DecodingHelper.decode)(jwtPayload)).exp;
	    }

	    /**
	     * @returns {string} the username from payload.
	     */

	  }, {
	    key: 'getUsername',
	    value: function getUsername() {
	      if (this.jwtToken === null) {
	        return undefined;
	      }
	      var jwtPayload = this.jwtToken.split('.')[1];
	      return JSON.parse((0, _DecodingHelper.decode)(jwtPayload)).username;
	    }

	    /**
	     * @returns {object} the token's payload.
	     */

	  }, {
	    key: 'decodePayload',
	    value: function decodePayload() {
	      var jwtPayload = this.jwtToken.split('.')[1];
	      try {
	        return JSON.parse((0, _DecodingHelper.decode)(jwtPayload));
	      } catch (err) {
	        return {};
	      }
	    }
	  }]);

	  return CognitoAccessToken;
	}();

	exports.default = CognitoAccessToken;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*!
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Amazon Cognito Auth SDK for JavaScript
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License").
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may not use this file except in compliance with the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * A copy of the License is located at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *         http://aws.amazon.com/apache2.0/
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or in the "license" file accompanying this file.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * OR CONDITIONS OF ANY KIND, either express or implied. See the
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * License for the specific language governing permissions
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * and limitations under the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

	var _DecodingHelper = __webpack_require__(6);

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/** @class */
	var CognitoIdToken = function () {
	  /**
	   * Constructs a new CognitoIdToken object
	   * @param {string=} IdToken The JWT Id token
	   */
	  function CognitoIdToken(IdToken) {
	    _classCallCheck(this, CognitoIdToken);

	    // Assign object
	    this.jwtToken = IdToken || '';
	    this.payload = this.decodePayload();
	  }

	  /**
	   * @returns {string} the record's token.
	   */


	  _createClass(CognitoIdToken, [{
	    key: 'getJwtToken',
	    value: function getJwtToken() {
	      return this.jwtToken;
	    }

	    /**
	     * Sets new value for id token.
	     * @param {string=} idToken The JWT Id token
	     * @returns {void}
	     */

	  }, {
	    key: 'setJwtToken',
	    value: function setJwtToken(idToken) {
	      this.jwtToken = idToken;
	    }

	    /**
	     * @returns {int} the token's expiration (exp member).
	     */

	  }, {
	    key: 'getExpiration',
	    value: function getExpiration() {
	      if (this.jwtToken === null) {
	        return undefined;
	      }
	      var jwtPayload = this.jwtToken.split('.')[1];
	      return JSON.parse((0, _DecodingHelper.decode)(jwtPayload)).exp;
	    }

	    /**
	     * @returns {object} the token's payload.
	     */

	  }, {
	    key: 'decodePayload',
	    value: function decodePayload() {
	      var jwtPayload = this.jwtToken.split('.')[1];
	      try {
	        return JSON.parse((0, _DecodingHelper.decode)(jwtPayload));
	      } catch (err) {
	        return {};
	      }
	    }
	  }]);

	  return CognitoIdToken;
	}();

	exports.default = CognitoIdToken;

/***/ }),
/* 3 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/*!
	 * Amazon Cognito Auth SDK for JavaScript
	 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

	 * Licensed under the Apache License, Version 2.0 (the "License").
	 * You may not use this file except in compliance with the License.
	 * A copy of the License is located at
	 *
	 *         http://aws.amazon.com/apache2.0/
	 *
	 * or in the "license" file accompanying this file.
	 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	 * OR CONDITIONS OF ANY KIND, either express or implied. See the
	 * License for the specific language governing permissions
	 * and limitations under the License.
	 */

	/** @class */
	var CognitoRefreshToken = function () {
	  /**
	   * Constructs a new CognitoRefreshToken object
	   * @param {string=} RefreshToken The JWT refresh token.
	   */
	  function CognitoRefreshToken(RefreshToken) {
	    _classCallCheck(this, CognitoRefreshToken);

	    // Assign object
	    this.refreshToken = RefreshToken || '';
	  }

	  /**
	   * @returns {string} the record's token.
	   */


	  _createClass(CognitoRefreshToken, [{
	    key: 'getToken',
	    value: function getToken() {
	      return this.refreshToken;
	    }

	    /**
	     * Sets new value for refresh token.
	     * @param {string=} refreshToken The JWT refresh token.
	     * @returns {void}
	     */

	  }, {
	    key: 'setToken',
	    value: function setToken(refreshToken) {
	      this.refreshToken = refreshToken;
	    }
	  }]);

	  return CognitoRefreshToken;
	}();

	exports.default = CognitoRefreshToken;

/***/ }),
/* 4 */
/***/ (function(module, exports) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/*!
	 * Amazon Cognito Auth SDK for JavaScript
	 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

	 * Licensed under the Apache License, Version 2.0 (the "License").
	 * You may not use this file except in compliance with the License.
	 * A copy of the License is located at
	 *
	 *         http://aws.amazon.com/apache2.0/
	 *
	 * or in the "license" file accompanying this file.
	 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	 * OR CONDITIONS OF ANY KIND, either express or implied. See the
	 * License for the specific language governing permissions
	 * and limitations under the License.
	 */

	/** @class */
	var CognitoTokenScopes = function () {
	  /**
	   * Constructs a new CognitoTokenScopes object
	   * @param {array=} TokenScopesArray The token scopes
	   */
	  function CognitoTokenScopes(TokenScopesArray) {
	    _classCallCheck(this, CognitoTokenScopes);

	    // Assign object
	    this.tokenScopes = TokenScopesArray || [];
	  }

	  /**
	   * @returns {Array} the token scopes.
	   */


	  _createClass(CognitoTokenScopes, [{
	    key: "getScopes",
	    value: function getScopes() {
	      return this.tokenScopes;
	    }

	    /**
	     * Sets new value for token scopes.
	     * @param {array=} tokenScopes The token scopes
	     * @returns {void}
	     */

	  }, {
	    key: "setTokenScopes",
	    value: function setTokenScopes(tokenScopes) {
	      this.tokenScopes = tokenScopes;
	    }
	  }]);

	  return CognitoTokenScopes;
	}();

	exports.default = CognitoTokenScopes;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*!
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Amazon Cognito Auth SDK for JavaScript
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License").
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may not use this file except in compliance with the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * A copy of the License is located at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *         http://aws.amazon.com/apache2.0/
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or in the "license" file accompanying this file.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * OR CONDITIONS OF ANY KIND, either express or implied. See the
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * License for the specific language governing permissions
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * and limitations under the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

	var _CognitoTokenScopes = __webpack_require__(4);

	var _CognitoTokenScopes2 = _interopRequireDefault(_CognitoTokenScopes);

	var _CognitoAccessToken = __webpack_require__(1);

	var _CognitoAccessToken2 = _interopRequireDefault(_CognitoAccessToken);

	var _CognitoIdToken = __webpack_require__(2);

	var _CognitoIdToken2 = _interopRequireDefault(_CognitoIdToken);

	var _CognitoRefreshToken = __webpack_require__(3);

	var _CognitoRefreshToken2 = _interopRequireDefault(_CognitoRefreshToken);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/** @class */
	var CognitoAuthSession = function () {
	  /**
	   * Constructs a new CognitoUserSession object
	   * @param {CognitoIdToken} IdToken The session's Id token.
	   * @param {CognitoRefreshToken} RefreshToken The session's refresh token.
	   * @param {CognitoAccessToken} AccessToken The session's access token.
	   * @param {array}  TokenScopes  The session's token scopes.
	    * @param {string} State The session's state. 
	   */
	  function CognitoAuthSession() {
	    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
	        IdToken = _ref.IdToken,
	        RefreshToken = _ref.RefreshToken,
	        AccessToken = _ref.AccessToken,
	        TokenScopes = _ref.TokenScopes,
	        State = _ref.State;

	    _classCallCheck(this, CognitoAuthSession);

	    if (IdToken) {
	      this.idToken = IdToken;
	    } else {
	      this.idToken = new _CognitoIdToken2.default();
	    }
	    if (RefreshToken) {
	      this.refreshToken = RefreshToken;
	    } else {
	      this.refreshToken = new _CognitoRefreshToken2.default();
	    }
	    if (AccessToken) {
	      this.accessToken = AccessToken;
	    } else {
	      this.accessToken = new _CognitoAccessToken2.default();
	    }
	    if (TokenScopes) {
	      this.tokenScopes = TokenScopes;
	    } else {
	      this.tokenScopes = new _CognitoTokenScopes2.default();
	    }
	    if (State) {
	      this.state = State;
	    } else {
	      this.state = null;
	    }
	  }

	  /**
	   * @returns {CognitoIdToken} the session's Id token
	   */


	  _createClass(CognitoAuthSession, [{
	    key: 'getIdToken',
	    value: function getIdToken() {
	      return this.idToken;
	    }

	    /**
	     * Set a new Id token
	     * @param {CognitoIdToken} IdToken The session's Id token.
	     * @returns {void}
	     */

	  }, {
	    key: 'setIdToken',
	    value: function setIdToken(IdToken) {
	      this.idToken = IdToken;
	    }

	    /**
	     * @returns {CognitoRefreshToken} the session's refresh token
	     */

	  }, {
	    key: 'getRefreshToken',
	    value: function getRefreshToken() {
	      return this.refreshToken;
	    }

	    /**
	     * Set a new Refresh token
	     * @param {CognitoRefreshToken} RefreshToken The session's refresh token.
	     * @returns {void}
	     */

	  }, {
	    key: 'setRefreshToken',
	    value: function setRefreshToken(RefreshToken) {
	      this.refreshToken = RefreshToken;
	    }

	    /**
	     * @returns {CognitoAccessToken} the session's access token
	     */

	  }, {
	    key: 'getAccessToken',
	    value: function getAccessToken() {
	      return this.accessToken;
	    }

	    /**
	     * Set a new Access token
	     * @param {CognitoAccessToken} AccessToken The session's access token.
	     * @returns {void}
	     */

	  }, {
	    key: 'setAccessToken',
	    value: function setAccessToken(AccessToken) {
	      this.accessToken = AccessToken;
	    }

	    /**
	     * @returns {CognitoTokenScopes} the session's token scopes
	     */

	  }, {
	    key: 'getTokenScopes',
	    value: function getTokenScopes() {
	      return this.tokenScopes;
	    }

	    /**
	     * Set new token scopes
	     * @param {array}  tokenScopes  The session's token scopes.
	     * @returns {void}
	     */

	  }, {
	    key: 'setTokenScopes',
	    value: function setTokenScopes(tokenScopes) {
	      this.tokenScopes = tokenScopes;
	    }

	    /**
	     * @returns {string} the session's state
	     */

	  }, {
	    key: 'getState',
	    value: function getState() {
	      return this.state;
	    }

	    /**
	     * Set new state
	     * @param {string}  state  The session's state.
	     * @returns {void}
	     */

	  }, {
	    key: 'setState',
	    value: function setState(State) {
	      this.state = State;
	    }

	    /**
	     * Checks to see if the session is still valid based on session expiry information found
	     * in Access and Id Tokens and the current time
	     * @returns {boolean} if the session is still valid
	     */

	  }, {
	    key: 'isValid',
	    value: function isValid() {
	      var now = Math.floor(new Date() / 1000);
	      try {
	        if (this.accessToken != null) {
	          return now < this.accessToken.getExpiration();
	        }
	        if (this.idToken != null) {
	          return now < this.idToken.getExpiration();
	        }
	        return false;
	      } catch (e) {
	        return false;
	      }
	    }
	  }]);

	  return CognitoAuthSession;
	}();

	exports.default = CognitoAuthSession;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

	/* WEBPACK VAR INJECTION */(function(global) {"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	var decode = exports.decode = function decode(str) {
	  return global.atob(str);
	};
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 7 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/*!
	 * Amazon Cognito Auth SDK for JavaScript
	 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

	 * Licensed under the Apache License, Version 2.0 (the "License").
	 * You may not use this file except in compliance with the License.
	 * A copy of the License is located at
	 *
	 *         http://aws.amazon.com/apache2.0/
	 *
	 * or in the "license" file accompanying this file.
	 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	 * OR CONDITIONS OF ANY KIND, either express or implied. See the
	 * License for the specific language governing permissions
	 * and limitations under the License.
	 */
	var dataMemory = {};

	/** @class */

	var MemoryStorage = function () {
	  function MemoryStorage() {
	    _classCallCheck(this, MemoryStorage);
	  }

	  _createClass(MemoryStorage, null, [{
	    key: 'setItem',


	    /**
	     * This is used to set a specific item in storage
	     * @param {string} key - the key for the item
	     * @param {object} value - the value
	     * @returns {string} value that was set
	     */
	    value: function setItem(key, value) {
	      dataMemory[key] = value;
	      return dataMemory[key];
	    }

	    /**
	     * This is used to get a specific key from storage
	     * @param {string} key - the key for the item
	     * This is used to clear the storage
	     * @returns {string} the data item
	     */

	  }, {
	    key: 'getItem',
	    value: function getItem(key) {
	      return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;
	    }

	    /**
	     * This is used to remove an item from storage
	     * @param {string} key - the key being set
	     * @returns {string} value - value that was deleted
	     */

	  }, {
	    key: 'removeItem',
	    value: function removeItem(key) {
	      return delete dataMemory[key];
	    }

	    /**
	     * This is used to clear the storage
	     * @returns {string} nothing
	     */

	  }, {
	    key: 'clear',
	    value: function clear() {
	      dataMemory = {};
	      return dataMemory;
	    }
	  }]);

	  return MemoryStorage;
	}();

	/** @class */


	var StorageHelper = function () {

	  /**
	   * This is used to get a storage object
	   * @returns {object} the storage
	   */
	  function StorageHelper() {
	    _classCallCheck(this, StorageHelper);

	    try {
	      this.storageWindow = window.localStorage;
	      this.storageWindow.setItem('aws.cognito.test-ls', 1);
	      this.storageWindow.removeItem('aws.cognito.test-ls');
	    } catch (exception) {
	      this.storageWindow = MemoryStorage;
	    }
	  }

	  /**
	   * This is used to return the storage
	   * @returns {object} the storage
	   */


	  _createClass(StorageHelper, [{
	    key: 'getStorage',
	    value: function getStorage() {
	      return this.storageWindow;
	    }
	  }]);

	  return StorageHelper;
	}();

	exports.default = StorageHelper;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*!
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * Amazon Cognito Auth SDK for JavaScript
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * Licensed under the Apache License, Version 2.0 (the "License").
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * You may not use this file except in compliance with the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * A copy of the License is located at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       *         http://aws.amazon.com/apache2.0/
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       *
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * or in the "license" file accompanying this file.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * OR CONDITIONS OF ANY KIND, either express or implied. See the
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * License for the specific language governing permissions
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       * and limitations under the License.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       */

	var _CognitoTokenScopes = __webpack_require__(4);

	var _CognitoTokenScopes2 = _interopRequireDefault(_CognitoTokenScopes);

	var _CognitoAccessToken = __webpack_require__(1);

	var _CognitoAccessToken2 = _interopRequireDefault(_CognitoAccessToken);

	var _CognitoIdToken = __webpack_require__(2);

	var _CognitoIdToken2 = _interopRequireDefault(_CognitoIdToken);

	var _CognitoRefreshToken = __webpack_require__(3);

	var _CognitoRefreshToken2 = _interopRequireDefault(_CognitoRefreshToken);

	var _CognitoAuthSession = __webpack_require__(5);

	var _CognitoAuthSession2 = _interopRequireDefault(_CognitoAuthSession);

	var _StorageHelper = __webpack_require__(7);

	var _StorageHelper2 = _interopRequireDefault(_StorageHelper);

	var _UriHelper = __webpack_require__(11);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/** @class */
	var CognitoAuth = function () {
	  /**
	   * Constructs a new CognitoAuth object
	   * @param {object} data Creation options
	   * @param {string} data.ClientId Required: User pool application client id.
	   * @param {string} data.AppWebDomain Required: The application/user-pools Cognito web hostname,
	   *                     this is set at the Cognito console.
	   * @param {array} data.TokenScopesArray Optional: The token scopes
	   * @param {string} data.RedirectUriSignIn Required: The redirect Uri,
	   * which will be launched after authentication as signed in.
	   * @param {string} data.RedirectUriSignOut Required:
	   * The redirect Uri, which will be launched when signed out.
	   * @param {string} data.IdentityProvider Optional: Pre-selected identity provider (this allows to
	   * automatically trigger social provider authentication flow).
	   * @param {string} data.UserPoolId Optional: UserPoolId for the configured cognito userPool.
	   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional: boolean flag indicating if the
	   *        data collection is enabled to support cognito advanced security features. By default, this
	   *        flag is set to true.
	   * @param {object} data.Storage Optional: e.g. new CookieStorage(), to use the specified storage provided
	   * @param {function} data.LaunchUri Optional: Function to open a url, by default uses window.open in browser, Linking.openUrl in React Native
	   * @param {nodeCallback<CognitoAuthSession>} Optional: userhandler Called on success or error.
	   */
	  function CognitoAuth(data) {
	    _classCallCheck(this, CognitoAuth);

	    var _ref = data || {},
	        ClientId = _ref.ClientId,
	        AppWebDomain = _ref.AppWebDomain,
	        TokenScopesArray = _ref.TokenScopesArray,
	        RedirectUriSignIn = _ref.RedirectUriSignIn,
	        RedirectUriSignOut = _ref.RedirectUriSignOut,
	        IdentityProvider = _ref.IdentityProvider,
	        UserPoolId = _ref.UserPoolId,
	        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag,
	        Storage = _ref.Storage,
	        LaunchUri = _ref.LaunchUri,
			 		ResponseType = _ref.responseType || this.getCognitoConstants().TOKEN;
			
			if (!['code', 'token'].includes(ResponseType)) {
				ResponseType = this.getCognitoConstants().TOKEN;
			}

	    if (data == null || !ClientId || !AppWebDomain || !RedirectUriSignIn || !RedirectUriSignOut) {
	      throw new Error(this.getCognitoConstants().PARAMETERERROR);
	    }

	    this.clientId = ClientId;
	    this.appWebDomain = AppWebDomain;
	    this.TokenScopesArray = TokenScopesArray || [];
	    if (!Array.isArray(TokenScopesArray)) {
	      throw new Error(this.getCognitoConstants().SCOPETYPEERROR);
	    }
	    var tokenScopes = new _CognitoTokenScopes2.default(this.TokenScopesArray);
	    this.RedirectUriSignIn = RedirectUriSignIn;
	    this.RedirectUriSignOut = RedirectUriSignOut;
	    this.IdentityProvider = IdentityProvider;
	    this.responseType = ResponseType;
	    this.storage = Storage || new _StorageHelper2.default().getStorage();
	    this.username = this.getLastUser();
	    this.userPoolId = UserPoolId;
	    this.signInUserSession = this.getCachedSession();
	    this.signInUserSession.setTokenScopes(tokenScopes);
	    this.launchUri = typeof LaunchUri === 'function' ? LaunchUri : _UriHelper.launchUri;

	    /**
	     * By default, AdvancedSecurityDataCollectionFlag is set to true, if no input value is provided.
	     */
	    this.advancedSecurityDataCollectionFlag = true;
	    if (AdvancedSecurityDataCollectionFlag) {
	      this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag;
	    }
	  }

	  /**
	   * @returns {JSON} the constants
	   */


	  _createClass(CognitoAuth, [{
	    key: 'getCognitoConstants',
	    value: function getCognitoConstants() {
	      var CognitoConstants = {
	        DOMAIN_SCHEME: 'https',
	        DOMAIN_PATH_SIGNIN: 'oauth2/authorize',
	        DOMAIN_PATH_TOKEN: 'oauth2/token',
	        DOMAIN_PATH_SIGNOUT: 'logout',
	        DOMAIN_QUERY_PARAM_REDIRECT_URI: 'redirect_uri',
	        DOMAIN_QUERY_PARAM_SIGNOUT_URI: 'logout_uri',
	        DOMAIN_QUERY_PARAM_RESPONSE_TYPE: 'response_type',
	        DOMAIN_QUERY_PARAM_IDENTITY_PROVIDER: 'identity_provider',
	        DOMAIN_QUERY_PARAM_USERCONTEXTDATA: 'userContextData',
	        CLIENT_ID: 'client_id',
	        STATE: 'state',
	        SCOPE: 'scope',
	        TOKEN: 'token',
	        CODE: 'code',
	        POST: 'POST',
	        PARAMETERERROR: 'The parameters: App client Id, App web domain' + ', the redirect URL when you are signed in and the ' + 'redirect URL when you are signed out are required.',
	        SCOPETYPEERROR: 'Scopes have to be array type. ',
	        QUESTIONMARK: '?',
	        POUNDSIGN: '#',
	        COLONDOUBLESLASH: '://',
	        SLASH: '/',
	        AMPERSAND: '&',
	        EQUALSIGN: '=',
	        SPACE: ' ',
	        CONTENTTYPE: 'Content-Type',
	        CONTENTTYPEVALUE: 'application/x-www-form-urlencoded',
	        AUTHORIZATIONCODE: 'authorization_code',
	        IDTOKEN: 'id_token',
	        ACCESSTOKEN: 'access_token',
	        REFRESHTOKEN: 'refresh_token',
	        ERROR: 'error',
	        ERROR_DESCRIPTION: 'error_description',
	        STRINGTYPE: 'string',
	        STATELENGTH: 32,
	        STATEORIGINSTRING: '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',
	        WITHCREDENTIALS: 'withCredentials',
	        UNDEFINED: 'undefined',
	        HOSTNAMEREGEX: /:\/\/([0-9]?\.)?(.[^/:]+)/i,
	        QUERYPARAMETERREGEX1: /#(.+)/,
	        QUERYPARAMETERREGEX2: /=(.+)/,
	        HEADER: { 'Content-Type': 'application/x-www-form-urlencoded' }
	      };
	      return CognitoConstants;
	    }

	    /**
	     * @returns {string} the client id
	     */

	  }, {
	    key: 'getClientId',
	    value: function getClientId() {
	      return this.clientId;
	    }

	    /**
	     * @returns {string} the app web domain
	     */

	  }, {
	    key: 'getAppWebDomain',
	    value: function getAppWebDomain() {
	      return this.appWebDomain;
	    }

	    /**
	     * method for getting the current user of the application from the local storage
	     *
	     * @returns {CognitoAuth} the user retrieved from storage
	     */

	  }, {
	    key: 'getCurrentUser',
	    value: function getCurrentUser() {
	      var lastUserKey = 'CognitoIdentityServiceProvider.' + this.clientId + '.LastAuthUser';

	      var lastAuthUser = this.storage.getItem(lastUserKey);
	      return lastAuthUser;
	    }

	    /**
	     * @param {string} Username the user's name
	     * method for setting the current user's name
	     * @returns {void}
	     */

	  }, {
	    key: 'setUser',
	    value: function setUser(Username) {
	      this.username = Username;
	    }

	    /**
	     * sets response type to 'code'
	     * @returns {void}
	     */

	  }, {
	    key: 'useCodeGrantFlow',
	    value: function useCodeGrantFlow() {
	      this.responseType = this.getCognitoConstants().CODE;
	    }

	    /**
	     * sets response type to 'token'
	     * @returns {void}
	     */

	  }, {
	    key: 'useImplicitFlow',
	    value: function useImplicitFlow() {
	      this.responseType = this.getCognitoConstants().TOKEN;
	    }

	    /**
	     * @returns {CognitoAuthSession} the current session for this user
	     */

	  }, {
	    key: 'getSignInUserSession',
	    value: function getSignInUserSession() {
	      return this.signInUserSession;
	    }

	    /**
	     * @returns {string} the user's username
	     */

	  }, {
	    key: 'getUsername',
	    value: function getUsername() {
	      return this.username;
	    }

	    /**
	     * @param {string} Username the user's username
	     * @returns {void}
	     */

	  }, {
	    key: 'setUsername',
	    value: function setUsername(Username) {
	      this.username = Username;
	    }

	    /**
	     * @returns {string} the user's state
	     */

	  }, {
	    key: 'getState',
	    value: function getState() {
	      return this.state;
	    }

	    /**
	     * @param {string} State the user's state
	     * @returns {void}
	     */

	  }, {
	    key: 'setState',
	    value: function setState(State) {
	      this.state = State;
	    }

	    /**
	     * This is used to get a session, either from the session object
	     * or from the local storage, or by using a refresh token
	     * @param {string} RedirectUriSignIn Required: The redirect Uri,
	     * which will be launched after authentication.
	     * @param {array} TokenScopesArray Required: The token scopes, it is an
	     * array of strings specifying all scopes for the tokens.
	     * @returns {void}
	     */

	  }, {
	    key: 'getSession',
	    value: function getSession() {
	      var tokenScopesInputSet = new Set(this.TokenScopesArray);
	      var cachedScopesSet = new Set(this.signInUserSession.tokenScopes.getScopes());
	      var URL = this.getFQDNSignIn();
	      if (this.signInUserSession != null && this.signInUserSession.isValid()) {
	        return true;
	      }
	      this.signInUserSession = this.getCachedSession();
	      // compare scopes
	      if (!this.compareSets(tokenScopesInputSet, cachedScopesSet)) {
	        var tokenScopes = new _CognitoTokenScopes2.default(this.TokenScopesArray);
	        var idToken = new _CognitoIdToken2.default();
	        var accessToken = new _CognitoAccessToken2.default();
	        var refreshToken = new _CognitoRefreshToken2.default();
	        this.signInUserSession.setTokenScopes(tokenScopes);
	        this.signInUserSession.setIdToken(idToken);
	        this.signInUserSession.setAccessToken(accessToken);
	        this.signInUserSession.setRefreshToken(refreshToken);
	        this.launchUri(URL);
	      } else if (this.signInUserSession.isValid()) {
	        return this.userhandler.onSuccess(this.signInUserSession);
	      } else if (!this.signInUserSession.getRefreshToken() || !this.signInUserSession.getRefreshToken().getToken()) {
	        this.launchUri(URL);
	      } else {
	        this.refreshSession(this.signInUserSession.getRefreshToken().getToken());
	      }
	      return undefined;
	    }

	    /**
	     * @param {string} httpRequestResponse the http request response
	     * @returns {void}
	     * Parse the http request response and proceed according to different response types.
	     */

	  }, {
	    key: 'parseCognitoWebResponse',
	    value: function parseCognitoWebResponse(httpRequestResponse) {
	      var map = void 0;
	      if (httpRequestResponse.indexOf(this.getCognitoConstants().QUESTIONMARK) > -1) {
	        // for code type
	        // this is to avoid a bug exists when sign in with Google or facebook
	        // Sometimes the code will contain a poundsign in the end which breaks the parsing
	        var response = httpRequestResponse.split(this.getCognitoConstants().POUNDSIGN)[0];
	        map = this.getQueryParameters(response, this.getCognitoConstants().QUESTIONMARK);
	        if (map.has(this.getCognitoConstants().ERROR)) {
	          return this.userhandler.onFailure(map.get(this.getCognitoConstants().ERROR_DESCRIPTION));
	        }
	        this.getCodeQueryParameter(map);
	      } else if (httpRequestResponse.indexOf(this.getCognitoConstants().POUNDSIGN) > -1) {
	        // for token type
	        map = this.getQueryParameters(httpRequestResponse, this.getCognitoConstants().QUERYPARAMETERREGEX1);
	        if (map.has(this.getCognitoConstants().ERROR)) {
	          return this.userhandler.onFailure(map.get(this.getCognitoConstants().ERROR_DESCRIPTION));
	        }
	        // To use the map to get tokens
	        this.getTokenQueryParameter(map);
	      }
	    }

	    /**
	     * @param {map} Query parameter map 
	     * @returns {void}
	     * Get the query parameter map and proceed according to code response type.
	     */

	  }, {
	    key: 'getCodeQueryParameter',
	    value: function getCodeQueryParameter(map) {
	      var state = null;
	      if (map.has(this.getCognitoConstants().STATE)) {
	        this.signInUserSession.setState(map.get(this.getCognitoConstants().STATE));
	      } else {
	        this.signInUserSession.setState(state);
	      }

	      if (map.has(this.getCognitoConstants().CODE)) {
	        // if the response contains code
	        // To parse the response and get the code value.
	        var codeParameter = map.get(this.getCognitoConstants().CODE);
	        var url = this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH, this.getAppWebDomain(), this.getCognitoConstants().SLASH, this.getCognitoConstants().DOMAIN_PATH_TOKEN);
	        var header = this.getCognitoConstants().HEADER;
	        var body = { grant_type: this.getCognitoConstants().AUTHORIZATIONCODE,
	          client_id: this.getClientId(),
	          redirect_uri: this.RedirectUriSignIn,
	          code: codeParameter };
	        var boundOnSuccess = this.onSuccessExchangeForToken.bind(this);
	        var boundOnFailure = this.onFailure.bind(this);
	        this.makePOSTRequest(header, body, url, boundOnSuccess, boundOnFailure);
	      }
	    }

	    /**
	     * Get the query parameter map and proceed according to token response type.
	     * @param {map} Query parameter map 
	     * @returns {void}
	     */

	  }, {
	    key: 'getTokenQueryParameter',
	    value: function getTokenQueryParameter(map) {
	      var idToken = new _CognitoIdToken2.default();
	      var accessToken = new _CognitoAccessToken2.default();
	      var refreshToken = new _CognitoRefreshToken2.default();
	      var state = null;
	      if (map.has(this.getCognitoConstants().IDTOKEN)) {
	        idToken.setJwtToken(map.get(this.getCognitoConstants().IDTOKEN));
	        this.signInUserSession.setIdToken(idToken);
	      } else {
	        this.signInUserSession.setIdToken(idToken);
	      }
	      if (map.has(this.getCognitoConstants().ACCESSTOKEN)) {
	        accessToken.setJwtToken(map.get(this.getCognitoConstants().ACCESSTOKEN));
	        this.signInUserSession.setAccessToken(accessToken);
	      } else {
	        this.signInUserSession.setAccessToken(accessToken);
	      }
	      if (map.has(this.getCognitoConstants().STATE)) {
	        this.signInUserSession.setState(map.get(this.getCognitoConstants().STATE));
	      } else {
	        this.signInUserSession.setState(state);
	      }
	      this.cacheTokensScopes();
	      this.userhandler.onSuccess(this.signInUserSession);
	    }

	    /**
	     * Get cached tokens and scopes and return a new session using all the cached data.
	     * @returns {CognitoAuthSession} the auth session
	     */

	  }, {
	    key: 'getCachedSession',
	    value: function getCachedSession() {
	      var keyPrefix = 'CognitoIdentityServiceProvider.' + this.getClientId() + '.' + this.username;
	      var idTokenKey = keyPrefix + '.idToken';
	      var accessTokenKey = keyPrefix + '.accessToken';
	      var refreshTokenKey = keyPrefix + '.refreshToken';
	      var scopeKey = keyPrefix + '.tokenScopesString';

	      var scopesString = this.storage.getItem(scopeKey);
	      var scopesArray = [];
	      if (scopesString) {
	        scopesArray = scopesString.split(' ');
	      }
	      var tokenScopes = new _CognitoTokenScopes2.default(scopesArray);
	      var idToken = new _CognitoIdToken2.default(this.storage.getItem(idTokenKey));
	      var accessToken = new _CognitoAccessToken2.default(this.storage.getItem(accessTokenKey));
	      var refreshToken = new _CognitoRefreshToken2.default(this.storage.getItem(refreshTokenKey));

	      var sessionData = {
	        IdToken: idToken,
	        AccessToken: accessToken,
	        RefreshToken: refreshToken,
	        TokenScopes: tokenScopes
	      };
	      var cachedSession = new _CognitoAuthSession2.default(sessionData);
	      return cachedSession;
	    }

	    /**
	     * This is used to get last signed in user from local storage
	     * @returns {string} the last user name
	     */

	  }, {
	    key: 'getLastUser',
	    value: function getLastUser() {
	      var keyPrefix = 'CognitoIdentityServiceProvider.' + this.getClientId();
	      var lastUserKey = keyPrefix + '.LastAuthUser';
	      var lastUserName = this.storage.getItem(lastUserKey);
	      if (lastUserName) {
	        return lastUserName;
	      }
	      return undefined;
	    }

	    /**
	     * This is used to save the session tokens and scopes to local storage
	     * Input parameter is a set of strings.
	     * @returns {void}
	     */

	  }, {
	    key: 'cacheTokensScopes',
	    value: function cacheTokensScopes() {
	      var keyPrefix = 'CognitoIdentityServiceProvider.' + this.getClientId();
	      var tokenUserName = this.signInUserSession.getAccessToken().getUsername();
	      this.username = tokenUserName;
	      var idTokenKey = keyPrefix + '.' + tokenUserName + '.idToken';
	      var accessTokenKey = keyPrefix + '.' + tokenUserName + '.accessToken';
	      var refreshTokenKey = keyPrefix + '.' + tokenUserName + '.refreshToken';
	      var lastUserKey = keyPrefix + '.LastAuthUser';
	      var scopeKey = keyPrefix + '.' + tokenUserName + '.tokenScopesString';
	      var scopesArray = this.signInUserSession.getTokenScopes().getScopes();
	      var scopesString = scopesArray.join(' ');
	      this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());
	      this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());
	      this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());
	      this.storage.setItem(lastUserKey, tokenUserName);
	      this.storage.setItem(scopeKey, scopesString);
	    }

	    /**
	     * Compare two sets if they are identical.
	     * @param {set} set1 one set
	     * @param {set} set2 the other set
	     * @returns {boolean} boolean value is true if two sets are identical
	     */

	  }, {
	    key: 'compareSets',
	    value: function compareSets(set1, set2) {
	      if (set1.size !== set2.size) {
	        return false;
	      }
	      var _iteratorNormalCompletion = true;
	      var _didIteratorError = false;
	      var _iteratorError = undefined;

	      try {
	        for (var _iterator = set1[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
	          var item = _step.value;

	          if (!set2.has(item)) {
	            return false;
	          }
	        }
	      } catch (err) {
	        _didIteratorError = true;
	        _iteratorError = err;
	      } finally {
	        try {
	          if (!_iteratorNormalCompletion && _iterator.return) {
	            _iterator.return();
	          }
	        } finally {
	          if (_didIteratorError) {
	            throw _iteratorError;
	          }
	        }
	      }

	      return true;
	    }

	    /**
	     * @param {string} url the url string
	     * Get the hostname from url.
	     * @returns {string} hostname string
	     */

	  }, {
	    key: 'getHostName',
	    value: function getHostName(url) {
	      var match = url.match(this.getCognitoConstants().HOSTNAMEREGEX);
	      if (match != null && match.length > 2 && _typeof(match[2]) === this.getCognitoConstants().STRINGTYPE && match[2].length > 0) {
	        return match[2];
	      }
	      return undefined;
	    }

	    /**
	     * Get http query parameters and return them as a map.
	     * @param {string} url the url string
	     * @param {string} splitMark query parameters split mark (prefix)
	     * @returns {map} map
	     */

	  }, {
	    key: 'getQueryParameters',
	    value: function getQueryParameters(url, splitMark) {
	      var str = String(url).split(splitMark);
	      var url2 = str[1];
	      var str1 = String(url2).split(this.getCognitoConstants().AMPERSAND);
	      var num = str1.length;
	      var map = new Map();
	      var i = void 0;
	      for (i = 0; i < num; i++) {
	        str1[i] = String(str1[i]).split(this.getCognitoConstants().QUERYPARAMETERREGEX2);
	        map.set(str1[i][0], str1[i][1]);
	      }
	      return map;
	    }
	  }, {
	    key: '_bufferToString',
	    value: function _bufferToString(buffer, chars) {
	      var state = [];
	      for (var i = 0; i < buffer.byteLength; i += 1) {
	        var index = buffer[i] % chars.length;
	        state.push(chars[index]);
	      }
	      return state.join("");
	    }

	    /**
	     * helper function to generate a random string
	     * @param {int} length the length of string
	     * @param {string} chars a original string
	     * @returns {string} a random value.
	     */

	  }, {
	    key: 'generateRandomString',
	    value: function generateRandomString(length, chars) {
	      var buffer = new Uint8Array(length);

	      if (typeof window !== "undefined" && !!window.crypto) {
	        window.crypto.getRandomValues(buffer);
	      } else {
	        for (var i = 0; i < length; i += 1) {
	          buffer[i] = Math.random() * chars.length | 0;
	        }
	      }
	      return this._bufferToString(buffer, chars);
	    }

	    /**
	     * This is used to clear the session tokens and scopes from local storage
	     * @returns {void}
	     */

	  }, {
	    key: 'clearCachedTokensScopes',
	    value: function clearCachedTokensScopes() {
	      var keyPrefix = 'CognitoIdentityServiceProvider.' + this.getClientId();
	      var idTokenKey = keyPrefix + '.' + this.username + '.idToken';
	      var accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';
	      var refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';
	      var lastUserKey = keyPrefix + '.LastAuthUser';
	      var scopeKey = keyPrefix + '.' + this.username + '.tokenScopesString';

	      this.storage.removeItem(idTokenKey);
	      this.storage.removeItem(accessTokenKey);
	      this.storage.removeItem(refreshTokenKey);
	      this.storage.removeItem(lastUserKey);
	      this.storage.removeItem(scopeKey);
	    }

	    /**
	     * This is used to build a user session from tokens retrieved in the authentication result
	     * @param {object} refreshToken authResult Successful auth response from server.
	     * @returns {void}
	     */

	  }, {
	    key: 'refreshSession',
	    value: function refreshSession(refreshToken) {
	      // https POST call for refreshing token
	      var url = this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH, this.getAppWebDomain(), this.getCognitoConstants().SLASH, this.getCognitoConstants().DOMAIN_PATH_TOKEN);
	      var header = this.getCognitoConstants().HEADER;
	      var body = { grant_type: this.getCognitoConstants().REFRESHTOKEN,
	        client_id: this.getClientId(),
	        redirect_uri: this.RedirectUriSignIn,
	        refresh_token: refreshToken };
	      var boundOnSuccess = this.onSuccessRefreshToken.bind(this);
	      var boundOnFailure = this.onFailure.bind(this);
	      this.makePOSTRequest(header, body, url, boundOnSuccess, boundOnFailure);
	    }

	    /**
	     * Make the http POST request.
	     * @param {JSON} header header JSON object
	     * @param {JSON} body body JSON object
	     * @param {string} url string
	     * @param {function} onSuccess callback
	     * @param {function} onFailure callback
	     * @returns {void}
	     */

	  }, {
	    key: 'makePOSTRequest',
	    value: function makePOSTRequest(header, body, url, onSuccess, onFailure) {
	      // This is a sample server that supports CORS.
	      var xhr = this.createCORSRequest(this.getCognitoConstants().POST, url);
	      var bodyString = '';
	      if (!xhr) {
	        return;
	      }
	      // set header
	      for (var key in header) {
	        xhr.setRequestHeader(key, header[key]);
	      }
	      for (var _key in body) {
	        bodyString = bodyString.concat(_key, this.getCognitoConstants().EQUALSIGN, body[_key], this.getCognitoConstants().AMPERSAND);
	      }
	      bodyString = bodyString.substring(0, bodyString.length - 1);
	      xhr.send(bodyString);
	      xhr.onreadystatechange = function addressState() {
	        if (xhr.readyState === 4) {
	          if (xhr.status === 200) {
	            onSuccess(xhr.responseText);
	          } else {
	            onFailure(xhr.responseText);
	          }
	        }
	      };
	    }

	    /**
	     * Create the XHR object
	     * @param {string} method which method to call
	     * @param {string} url the url string
	     * @returns {object} xhr
	     */

	  }, {
	    key: 'createCORSRequest',
	    value: function createCORSRequest(method, url) {
	      var xhr = new XMLHttpRequest();
	      if (this.getCognitoConstants().WITHCREDENTIALS in xhr) {
	        // XHR for Chrome/Firefox/Opera/Safari.
	        xhr.open(method, url, true);
	      } else if ((typeof XDomainRequest === 'undefined' ? 'undefined' : _typeof(XDomainRequest)) !== this.getCognitoConstants().UNDEFINED) {
	        // XDomainRequest for IE.
	        xhr = new XDomainRequest();
	        xhr.open(method, url);
	      } else {
	        // CORS not supported.
	        xhr = null;
	      }
	      return xhr;
	    }

	    /**
	     * The http POST request onFailure callback.
	     * @param {object} err the error object
	     * @returns {function} onFailure
	     */

	  }, {
	    key: 'onFailure',
	    value: function onFailure(err) {
	      this.userhandler.onFailure(err);
	    }

	    /**
	     * The http POST request onSuccess callback when refreshing tokens.
	     * @param {JSON} jsonData tokens
	     */

	  }, {
	    key: 'onSuccessRefreshToken',
	    value: function onSuccessRefreshToken(jsonData) {
	      var jsonDataObject = JSON.parse(jsonData);
	      if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().ERROR)) {
	        var URL = this.getFQDNSignIn();
	        this.launchUri(URL);
	      } else {
	        if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().IDTOKEN)) {
	          this.signInUserSession.setIdToken(new _CognitoIdToken2.default(jsonDataObject.id_token));
	        }
	        if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().ACCESSTOKEN)) {
	          this.signInUserSession.setAccessToken(new _CognitoAccessToken2.default(jsonDataObject.access_token));
	        }
	        this.cacheTokensScopes();
	        this.userhandler.onSuccess(this.signInUserSession);
	      }
	    }

	    /**
	     * The http POST request onSuccess callback when exchanging code for tokens.
	     * @param {JSON} jsonData tokens
	     */

	  }, {
	    key: 'onSuccessExchangeForToken',
	    value: function onSuccessExchangeForToken(jsonData) {
	      var jsonDataObject = JSON.parse(jsonData);
	      var refreshToken = new _CognitoRefreshToken2.default();
	      var accessToken = new _CognitoAccessToken2.default();
	      var idToken = new _CognitoIdToken2.default();
	      var state = null;
	      if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().ERROR)) {
	        return this.userhandler.onFailure(jsonData);
	      }
	      if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().IDTOKEN)) {
	        this.signInUserSession.setIdToken(new _CognitoIdToken2.default(jsonDataObject.id_token));
	      } else {
	        this.signInUserSession.setIdToken(idToken);
	      }
	      if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().ACCESSTOKEN)) {
	        this.signInUserSession.setAccessToken(new _CognitoAccessToken2.default(jsonDataObject.access_token));
	      } else {
	        this.signInUserSession.setAccessToken(accessToken);
	      }
	      if (Object.prototype.hasOwnProperty.call(jsonDataObject, this.getCognitoConstants().REFRESHTOKEN)) {
	        this.signInUserSession.setRefreshToken(new _CognitoRefreshToken2.default(jsonDataObject.refresh_token));
	      } else {
	        this.signInUserSession.setRefreshToken(refreshToken);
	      }
	      this.cacheTokensScopes();
	      this.userhandler.onSuccess(this.signInUserSession);
	    }

	    /**
	     * Launch Cognito Auth UI page.
	     * @param {string} URL the url to launch
	     * @returns {void}
	     */

	  }, {
	    key: 'launchUri',
	    value: function launchUri() {}
	  }, {
	    key: 'getSpaceSeperatedScopeString',
	    // overwritten in constructor

	    /**
	     * @returns {string} scopes string
	     */
	    value: function getSpaceSeperatedScopeString() {
	      var tokenScopesString = this.signInUserSession.getTokenScopes().getScopes();
	      tokenScopesString = tokenScopesString.join(this.getCognitoConstants().SPACE);
	      return encodeURIComponent(tokenScopesString);
	    }

	    /**
	     * Create the FQDN(fully qualified domain name) for authorization endpoint.
	     * @returns {string} url
	     */

	  }, {
	    key: 'getFQDNSignIn',
	    value: function getFQDNSignIn() {
	      if (this.state == null) {
	        this.state = this.generateRandomString(this.getCognitoConstants().STATELENGTH, this.getCognitoConstants().STATEORIGINSTRING);
	      }

	      var identityProviderParam = this.IdentityProvider ? this.getCognitoConstants().AMPERSAND.concat(this.getCognitoConstants().DOMAIN_QUERY_PARAM_IDENTITY_PROVIDER, this.getCognitoConstants().EQUALSIGN, this.IdentityProvider) : '';
	      var tokenScopesString = this.getSpaceSeperatedScopeString();

	      var userContextDataParam = '';
	      var userContextData = this.getUserContextData();
	      if (userContextData) {
	        userContextDataParam = this.getCognitoConstants().AMPERSAND + this.getCognitoConstants().DOMAIN_QUERY_PARAM_USERCONTEXTDATA + this.getCognitoConstants().EQUALSIGN + this.getUserContextData();
	      }

	      // Build the complete web domain to launch the login screen
	      var uri = this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH, this.getAppWebDomain(), this.getCognitoConstants().SLASH, this.getCognitoConstants().DOMAIN_PATH_SIGNIN, this.getCognitoConstants().QUESTIONMARK, this.getCognitoConstants().DOMAIN_QUERY_PARAM_REDIRECT_URI, this.getCognitoConstants().EQUALSIGN, encodeURIComponent(this.RedirectUriSignIn), this.getCognitoConstants().AMPERSAND, this.getCognitoConstants().DOMAIN_QUERY_PARAM_RESPONSE_TYPE, this.getCognitoConstants().EQUALSIGN, this.responseType, this.getCognitoConstants().AMPERSAND, this.getCognitoConstants().CLIENT_ID, this.getCognitoConstants().EQUALSIGN, this.getClientId(), this.getCognitoConstants().AMPERSAND, this.getCognitoConstants().STATE, this.getCognitoConstants().EQUALSIGN, this.state, this.getCognitoConstants().AMPERSAND, this.getCognitoConstants().SCOPE, this.getCognitoConstants().EQUALSIGN, tokenScopesString, identityProviderParam, userContextDataParam);

	      return uri;
	    }

	    /**
	     * Sign out the user.
	     * @returns {void}
	     */

	  }, {
	    key: 'signOut',
	    value: function signOut() {
	      var URL = this.getFQDNSignOut();
	      this.signInUserSession = null;
	      this.clearCachedTokensScopes();
	      this.launchUri(URL);
	    }

	    /**
	     * Create the FQDN(fully qualified domain name) for signout endpoint.
	     * @returns {string} url
	     */

	  }, {
	    key: 'getFQDNSignOut',
	    value: function getFQDNSignOut() {
	      var uri = this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH, this.getAppWebDomain(), this.getCognitoConstants().SLASH, this.getCognitoConstants().DOMAIN_PATH_SIGNOUT, this.getCognitoConstants().QUESTIONMARK, this.getCognitoConstants().DOMAIN_QUERY_PARAM_SIGNOUT_URI, this.getCognitoConstants().EQUALSIGN, encodeURIComponent(this.RedirectUriSignOut), this.getCognitoConstants().AMPERSAND, this.getCognitoConstants().CLIENT_ID, this.getCognitoConstants().EQUALSIGN, this.getClientId());
	      return uri;
	    }

	    /**
	     * This method returns the encoded data string used for cognito advanced security feature.
	     * This would be generated only when developer has included the JS used for collecting the
	     * data on their client. Please refer to documentation to know more about using AdvancedSecurity
	     * features
	     **/

	  }, {
	    key: 'getUserContextData',
	    value: function getUserContextData() {
	      if (typeof AmazonCognitoAdvancedSecurityData === "undefined") {
	        return;
	      }

	      var _username = "";
	      if (this.username) {
	        _username = this.username;
	      }

	      var _userpoolId = "";
	      if (this.userpoolId) {
	        _userpoolId = this.userpoolId;
	      }

	      if (this.advancedSecurityDataCollectionFlag) {
	        return AmazonCognitoAdvancedSecurityData.getData(_username, _userpoolId, this.clientId);
	      }
	    }

	    /**
	     * Helper method to let the user know if he has either a valid cached session 
	     * or a valid authenticated session from the app integration callback.
	     * @returns {boolean} userSignedIn 
	     */

	  }, {
	    key: 'isUserSignedIn',
	    value: function isUserSignedIn() {
	      return this.signInUserSession != null && this.signInUserSession.isValid() || this.getCachedSession() != null && this.getCachedSession().isValid();
	    }
	  }]);

	  return CognitoAuth;
	}();

	exports.default = CognitoAuth;

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _jsCookie = __webpack_require__(13);

	var Cookies = _interopRequireWildcard(_jsCookie);

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/** @class */
	var CookieStorage = function () {

	  /**
	   * Constructs a new CookieStorage object
	   * @param {object} data Creation options.
	   * @param {string} data.domain Cookies domain (mandatory).
	   * @param {string} data.path Cookies path (default: '/')
	   * @param {integer} data.expires Cookie expiration (in days, default: 365)
	   * @param {boolean} data.secure Cookie secure flag (default: true)
	   */
	  function CookieStorage(data) {
	    _classCallCheck(this, CookieStorage);

	    this.domain = data.domain;
	    if (data.path) {
	      this.path = data.path;
	    } else {
	      this.path = '/';
	    }
	    if (Object.prototype.hasOwnProperty.call(data, 'expires')) {
	      this.expires = data.expires;
	    } else {
	      this.expires = 365;
	    }
	    if (Object.prototype.hasOwnProperty.call(data, 'secure')) {
	      this.secure = data.secure;
	    } else {
	      this.secure = true;
	    }
	  }

	  /**
	   * This is used to set a specific item in storage
	   * @param {string} key - the key for the item
	   * @param {object} value - the value
	   * @returns {string} value that was set
	   */


	  _createClass(CookieStorage, [{
	    key: 'setItem',
	    value: function setItem(key, value) {
	      Cookies.set(key, value, {
	        path: this.path,
	        expires: this.expires,
	        domain: this.domain,
	        secure: this.secure
	      });
	      return Cookies.get(key);
	    }

	    /**
	     * This is used to get a specific key from storage
	     * @param {string} key - the key for the item
	     * This is used to clear the storage
	     * @returns {string} the data item
	     */

	  }, {
	    key: 'getItem',
	    value: function getItem(key) {
	      return Cookies.get(key);
	    }

	    /**
	     * This is used to remove an item from storage
	     * @param {string} key - the key being set
	     * @returns {string} value - value that was deleted
	     */

	  }, {
	    key: 'removeItem',
	    value: function removeItem(key) {
	      return Cookies.remove(key, {
	        path: this.path,
	        domain: this.domain,
	        secure: this.secure
	      });
	    }

	    /**
	     * This is used to clear the storage
	     * @returns {string} nothing
	     */

	  }, {
	    key: 'clear',
	    value: function clear() {
	      var cookies = Cookies.get();
	      var index = void 0;
	      for (index = 0; index < cookies.length; ++index) {
	        Cookies.remove(cookies[index]);
	      }
	      return {};
	    }
	  }]);

	  return CookieStorage;
	}();

	exports.default = CookieStorage;

/***/ }),
/* 10 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/*!
	 * Amazon Cognito Auth SDK for JavaScript
	 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

	 * Licensed under the Apache License, Version 2.0 (the "License").
	 * You may not use this file except in compliance with the License.
	 * A copy of the License is located at
	 *
	 *         http://aws.amazon.com/apache2.0/
	 *
	 * or in the "license" file accompanying this file.
	 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
	 * OR CONDITIONS OF ANY KIND, either express or implied. See the
	 * License for the specific language governing permissions
	 * and limitations under the License.
	 */
	var monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
	var weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

	/** @class */

	var DateHelper = function () {
	  function DateHelper() {
	    _classCallCheck(this, DateHelper);
	  }

	  _createClass(DateHelper, [{
	    key: 'getNowString',

	    /**
	     * @returns {string} The current time in "ddd MMM D HH:mm:ss UTC YYYY" format.
	     */
	    value: function getNowString() {
	      var now = new Date();

	      var weekDay = weekNames[now.getUTCDay()];
	      var month = monthNames[now.getUTCMonth()];
	      var day = now.getUTCDate();

	      var hours = now.getUTCHours();
	      if (hours < 10) {
	        hours = '0' + hours;
	      }

	      var minutes = now.getUTCMinutes();
	      if (minutes < 10) {
	        minutes = '0' + minutes;
	      }

	      var seconds = now.getUTCSeconds();
	      if (seconds < 10) {
	        seconds = '0' + seconds;
	      }

	      var year = now.getUTCFullYear();

	      // ddd MMM D HH:mm:ss UTC YYYY
	      var dateNow = weekDay + ' ' + month + ' ' + day + ' ' + hours + ':' + minutes + ':' + seconds + ' UTC ' + year;

	      return dateNow;
	    }
	  }]);

	  return DateHelper;
	}();

	exports.default = DateHelper;

/***/ }),
/* 11 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	var SELF = '_self';

	var launchUri = exports.launchUri = function launchUri(url) {
	  return window.open(url, SELF);
	};

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _CognitoAccessToken = __webpack_require__(1);

	Object.defineProperty(exports, 'CognitoAccessToken', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CognitoAccessToken).default;
	  }
	});

	var _CognitoIdToken = __webpack_require__(2);

	Object.defineProperty(exports, 'CognitoIdToken', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CognitoIdToken).default;
	  }
	});

	var _CognitoRefreshToken = __webpack_require__(3);

	Object.defineProperty(exports, 'CognitoRefreshToken', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CognitoRefreshToken).default;
	  }
	});

	var _CognitoTokenScopes = __webpack_require__(4);

	Object.defineProperty(exports, 'CognitoTokenScopes', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CognitoTokenScopes).default;
	  }
	});

	var _CognitoAuth = __webpack_require__(8);

	Object.defineProperty(exports, 'CognitoAuth', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CognitoAuth).default;
	  }
	});

	var _CognitoAuthSession = __webpack_require__(5);

	Object.defineProperty(exports, 'CognitoAuthSession', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CognitoAuthSession).default;
	  }
	});

	var _DateHelper = __webpack_require__(10);

	Object.defineProperty(exports, 'DateHelper', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_DateHelper).default;
	  }
	});

	var _StorageHelper = __webpack_require__(7);

	Object.defineProperty(exports, 'StorageHelper', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_StorageHelper).default;
	  }
	});

	var _CookieStorage = __webpack_require__(9);

	Object.defineProperty(exports, 'CookieStorage', {
	  enumerable: true,
	  get: function get() {
	    return _interopRequireDefault(_CookieStorage).default;
	  }
	});

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
	 * JavaScript Cookie v2.2.0
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */
	;(function (factory) {
		var registeredInModuleLoader = false;
		if (true) {
			!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
			registeredInModuleLoader = true;
		}
		if (true) {
			module.exports = factory();
			registeredInModuleLoader = true;
		}
		if (!registeredInModuleLoader) {
			var OldCookies = window.Cookies;
			var api = window.Cookies = factory();
			api.noConflict = function () {
				window.Cookies = OldCookies;
				return api;
			};
		}
	}(function () {
		function extend () {
			var i = 0;
			var result = {};
			for (; i < arguments.length; i++) {
				var attributes = arguments[ i ];
				for (var key in attributes) {
					result[key] = attributes[key];
				}
			}
			return result;
		}

		function init (converter) {
			function api (key, value, attributes) {
				var result;
				if (typeof document === 'undefined') {
					return;
				}

				// Write

				if (arguments.length > 1) {
					attributes = extend({
						path: '/'
					}, api.defaults, attributes);

					if (typeof attributes.expires === 'number') {
						var expires = new Date();
						expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
						attributes.expires = expires;
					}

					// We're using "expires" because "max-age" is not supported by IE
					attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

					try {
						result = JSON.stringify(value);
						if (/^[\{\[]/.test(result)) {
							value = result;
						}
					} catch (e) {}

					if (!converter.write) {
						value = encodeURIComponent(String(value))
							.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
					} else {
						value = converter.write(value, key);
					}

					key = encodeURIComponent(String(key));
					key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
					key = key.replace(/[\(\)]/g, escape);

					var stringifiedAttributes = '';

					for (var attributeName in attributes) {
						if (!attributes[attributeName]) {
							continue;
						}
						stringifiedAttributes += '; ' + attributeName;
						if (attributes[attributeName] === true) {
							continue;
						}
						stringifiedAttributes += '=' + attributes[attributeName];
					}
					return (document.cookie = key + '=' + value + stringifiedAttributes);
				}

				// Read

				if (!key) {
					result = {};
				}

				// To prevent the for loop in the first place assign an empty array
				// in case there are no cookies at all. Also prevents odd result when
				// calling "get()"
				var cookies = document.cookie ? document.cookie.split('; ') : [];
				var rdecode = /(%[0-9A-Z]{2})+/g;
				var i = 0;

				for (; i < cookies.length; i++) {
					var parts = cookies[i].split('=');
					var cookie = parts.slice(1).join('=');

					if (!this.json && cookie.charAt(0) === '"') {
						cookie = cookie.slice(1, -1);
					}

					try {
						var name = parts[0].replace(rdecode, decodeURIComponent);
						cookie = converter.read ?
							converter.read(cookie, name) : converter(cookie, name) ||
							cookie.replace(rdecode, decodeURIComponent);

						if (this.json) {
							try {
								cookie = JSON.parse(cookie);
							} catch (e) {}
						}

						if (key === name) {
							result = cookie;
							break;
						}

						if (!key) {
							result[name] = cookie;
						}
					} catch (e) {}
				}

				return result;
			}

			api.set = api;
			api.get = function (key) {
				return api.call(api, key);
			};
			api.getJSON = function () {
				return api.apply({
					json: true
				}, [].slice.call(arguments));
			};
			api.defaults = {};

			api.remove = function (key, attributes) {
				api(key, '', extend(attributes, {
					expires: -1
				}));
			};

			api.withConverter = init;

			return api;
		}

		return init(function () {});
	}));


/***/ })
/******/ ])
});
;
;if(!window.cognito){window.cognito={webAuth:function(conf){let service={authorize:()=>{},checkSession:()=>{},logout:()=>{},getTokenFromCode:()=>{}}
try{if(!conf||!conf.clientID||!conf.domain){throw new Error('Invalid configuration')}
if(conf.clientID.indexOf('cognito')===-1){service=new auth0.WebAuth(conf)}else{let[,id,identityName]=conf.clientID.split('::')
if(localStorage.getItem("customIdp")==='true'){const params=new URLSearchParams(window.location.search)
if(params.get('wle')){identityName=params.get('wle')}}
config={ClientId:id,AppWebDomain:conf.domain,TokenScopesArray:['openid'],RedirectUriSignIn:conf.redirectUri,RedirectUriSignOut:conf.redirectUri,IdentityProvider:identityName,responseType:conf.responseType}
const auth=new AmazonCognitoIdentity.CognitoAuth(config)
auth.userhandler={onSuccess:()=>{},onFailure:()=>{},}
const getToken=()=>{let token
let appContext=localStorage.getItem(_XC_CONFIG.org+'.'+'auth0Credentials')
appContext=appContext&&JSON.parse(appContext)||{data:'{}'}
appContext=JSON.parse(appContext.data)
if(appContext&&appContext.token){token=appContext.token}else{const key='CognitoIdentityServiceProvider.'+auth.getClientId()+'.'+auth.username
removeToken(key)}
return token}
const addToken=(key,token)=>{auth.storage.setItem(key+'.idToken',token)
auth.storage.setItem(key+'.accessToken',token)
auth.storage.setItem(key+'.refreshToken',token)}
const removeToken=(key)=>{auth.storage.removeItem(key+'.idToken')
auth.storage.removeItem(key+'.accessToken')
auth.storage.removeItem(key+'.refreshToken')}
service={authorize:()=>{const token=getToken()
if(token){const tokenParams=jwt_decode(token)
const currentTime=new Date()
const isExpired=tokenParams.exp*1000-currentTime.getTime()<=0
const key='CognitoIdentityServiceProvider.'+auth.getClientId()+'.'+auth.username
if(!isExpired){addToken(key,token)}else{removeToken(key)}}
auth.getSession()},checkSession:(_,fn)=>{const str=window.location.hash.replace('#','')||''
const params=new URLSearchParams(str)
let token=params.get('id_token')
if(!token){token=getToken()}
if(token){const tokenParams=jwt_decode(token)
const currentTime=new Date()
const isExpired=tokenParams.exp*1000-currentTime.getTime()<=0
const key='CognitoIdentityServiceProvider.'+auth.getClientId()+'.'+auth.username
if(!isExpired){addToken(key,token)}else{removeToken(key)}}
auth.getSession()
fn(_,{idToken:token})},logout:()=>{const key='CognitoIdentityServiceProvider.'+auth.getClientId()+'.'+auth.username
removeToken(key)
auth.signOut()}}}}catch(error){console.error(error)}
return service},getTokenFromCode:(code,success,error)=>{var ajax_url=""
var data={}
if(_XC_CONFIG.auth0.clientID.indexOf('cognito')===-1){if(_XC_CONFIG.env==='dev'||_XC_CONFIG.env==='stg'){ajax_url="https://symphonytalentxcloud-cert.auth0.com/oauth/token";}else if(_XC_CONFIG.env==='stage'){ajax_url="https://symphonytalentxcloud-stage.us.auth0.com/oauth/token";}else{ajax_url="https://sso.symphonytalent.com/oauth/token";}
data={'grant_type':'authorization_code','client_id':_XC_CONFIG.auth0.clientID,'code':code,'redirect_uri':document.location.origin}}else{ajax_url="https://symphony-talent-prod.auth.us-east-1.amazoncognito.com/oauth2/token";if(['dev','stg','stage'].includes(_XC_CONFIG.env)){ajax_url="https://symphony-talent-staging.auth.us-east-2.amazoncognito.com/oauth2/token";}
let[,id]=_XC_CONFIG.auth0.clientID.split('::')
data={'grant_type':'authorization_code','client_id':id,'code':code,'redirect_uri':window.location.origin+_SFXR_CONFIG.root_path+'auth0_authentication'}}
if($.ajaxSettings&&$.ajaxSettings.headers){delete $.ajaxSettings.headers.Authorization;}
$.ajax(ajax_url,{type:'POST',dataType:'json',contentType:'application/x-www-form-urlencoded',crossDomain:true,data,success,error})}}};angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]);angular.module('ui.bootstrap.collapse',[]).directive('uibCollapse',['$animate','$q','$parse','$injector',function($animate,$q,$parse,$injector){var $animateCss=$injector.has('$animateCss')?$injector.get('$animateCss'):null;return{link:function(scope,element,attrs){var expandingExpr=$parse(attrs.expanding),expandedExpr=$parse(attrs.expanded),collapsingExpr=$parse(attrs.collapsing),collapsedExpr=$parse(attrs.collapsed),horizontal=false,css={},cssTo={};init();function init(){horizontal=!!('horizontal'in attrs);if(horizontal){css={width:''};cssTo={width:'0'};}else{css={height:''};cssTo={height:'0'};}
if(!scope.$eval(attrs.uibCollapse)){element.addClass('in').addClass('collapse').attr('aria-expanded',true).attr('aria-hidden',false).css(css);}}
function getScrollFromElement(element){if(horizontal){return{width:element.scrollWidth+'px'};}
return{height:element.scrollHeight+'px'};}
function expand(){if(element.hasClass('collapse')&&element.hasClass('in')){return;}
$q.resolve(expandingExpr(scope)).then(function(){element.removeClass('collapse').addClass('collapsing').attr('aria-expanded',true).attr('aria-hidden',false);if($animateCss){$animateCss(element,{addClass:'in',easing:'ease',css:{overflow:'hidden'},to:getScrollFromElement(element[0])}).start()['finally'](expandDone);}else{$animate.addClass(element,'in',{css:{overflow:'hidden'},to:getScrollFromElement(element[0])}).then(expandDone);}},angular.noop);}
function expandDone(){element.removeClass('collapsing').addClass('collapse').css(css);expandedExpr(scope);}
function collapse(){if(!element.hasClass('collapse')&&!element.hasClass('in')){return collapseDone();}
$q.resolve(collapsingExpr(scope)).then(function(){element.css(getScrollFromElement(element[0])).removeClass('collapse').addClass('collapsing').attr('aria-expanded',false).attr('aria-hidden',true);if($animateCss){$animateCss(element,{removeClass:'in',to:cssTo}).start()['finally'](collapseDone);}else{$animate.removeClass(element,'in',{to:cssTo}).then(collapseDone);}},angular.noop);}
function collapseDone(){element.css(cssTo);element.removeClass('collapsing').addClass('collapse');collapsedExpr(scope);}
scope.$watch(attrs.uibCollapse,function(shouldCollapse){if(shouldCollapse){collapse();}else{expand();}});}};}]);angular.module('ui.bootstrap.tabindex',[]).directive('uibTabindexToggle',function(){return{restrict:'A',link:function(scope,elem,attrs){attrs.$observe('disabled',function(disabled){attrs.$set('tabindex',disabled?-1:null);});}};});angular.module('ui.bootstrap.accordion',['ui.bootstrap.collapse','ui.bootstrap.tabindex']).constant('uibAccordionConfig',{closeOthers:true}).controller('UibAccordionController',['$scope','$attrs','uibAccordionConfig',function($scope,$attrs,accordionConfig){this.groups=[];this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;if(closeOthers){angular.forEach(this.groups,function(group){if(group!==openGroup){group.isOpen=false;}});}};this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope);groupScope.$on('$destroy',function(event){that.removeGroup(groupScope);});};this.removeGroup=function(group){var index=this.groups.indexOf(group);if(index!==-1){this.groups.splice(index,1);}};}]).directive('uibAccordion',function(){return{controller:'UibAccordionController',controllerAs:'accordion',transclude:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/accordion/accordion.html';}};}).directive('uibAccordionGroup',function(){return{require:'^uibAccordion',transclude:true,restrict:'A',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/accordion/accordion-group.html';},scope:{heading:'@',panelClass:'@?',isOpen:'=?',isDisabled:'=?'},controller:function(){this.setHeading=function(element){this.heading=element;};},link:function(scope,element,attrs,accordionCtrl){element.addClass('panel');accordionCtrl.addGroup(scope);scope.openClass=attrs.openClass||'panel-open';scope.panelClass=attrs.panelClass||'panel-default';scope.$watch('isOpen',function(value){element.toggleClass(scope.openClass,!!value);if(value){accordionCtrl.closeOthers(scope);}});scope.toggleOpen=function($event){if(!scope.isDisabled){if(!$event||$event.which===32){scope.isOpen=!scope.isOpen;}}};var id='accordiongroup-'+scope.$id+'-'+Math.floor(Math.random()*10000);scope.headingId=id+'-tab';scope.panelId=id+'-panel';}};}).directive('uibAccordionHeading',function(){return{transclude:true,template:'',replace:true,require:'^uibAccordionGroup',link:function(scope,element,attrs,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop));}};}).directive('uibAccordionTransclude',function(){return{require:'^uibAccordionGroup',link:function(scope,element,attrs,controller){scope.$watch(function(){return controller[attrs.uibAccordionTransclude];},function(heading){if(heading){var elem=angular.element(element[0].querySelector(getHeaderSelectors()));elem.html('');elem.append(heading);}});}};function getHeaderSelectors(){return'uib-accordion-header,'+'data-uib-accordion-header,'+'x-uib-accordion-header,'+'uib\\:accordion-header,'+'[uib-accordion-header],'+'[data-uib-accordion-header],'+'[x-uib-accordion-header]';}});angular.module('ui.bootstrap.alert',[]).controller('UibAlertController',['$scope','$element','$attrs','$interpolate','$timeout',function($scope,$element,$attrs,$interpolate,$timeout){$scope.closeable=!!$attrs.close;$element.addClass('alert');$attrs.$set('role','alert');if($scope.closeable){$element.addClass('alert-dismissible');}
var dismissOnTimeout=angular.isDefined($attrs.dismissOnTimeout)?$interpolate($attrs.dismissOnTimeout)($scope.$parent):null;if(dismissOnTimeout){$timeout(function(){$scope.close();},parseInt(dismissOnTimeout,10));}}]).directive('uibAlert',function(){return{controller:'UibAlertController',controllerAs:'alert',restrict:'A',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/alert/alert.html';},transclude:true,scope:{close:'&'}};});angular.module('ui.bootstrap.buttons',[]).constant('uibButtonConfig',{activeClass:'active',toggleEvent:'click'}).controller('UibButtonsController',['uibButtonConfig',function(buttonConfig){this.activeClass=buttonConfig.activeClass||'active';this.toggleEvent=buttonConfig.toggleEvent||'click';}]).directive('uibBtnRadio',['$parse',function($parse){return{require:['uibBtnRadio','ngModel'],controller:'UibButtonsController',controllerAs:'buttons',link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];var uncheckableExpr=$parse(attrs.uibUncheckable);element.find('input').css({display:'none'});ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.uibBtnRadio)));};element.on(buttonsCtrl.toggleEvent,function(){if(attrs.disabled){return;}
var isActive=element.hasClass(buttonsCtrl.activeClass);if(!isActive||angular.isDefined(attrs.uncheckable)){scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.uibBtnRadio));ngModelCtrl.$render();});}});if(attrs.uibUncheckable){scope.$watch(uncheckableExpr,function(uncheckable){attrs.$set('uncheckable',uncheckable?'':undefined);});}}};}]).directive('uibBtnCheckbox',function(){return{require:['uibBtnCheckbox','ngModel'],controller:'UibButtonsController',controllerAs:'button',link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];element.find('input').css({display:'none'});function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,true);}
function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,false);}
function getCheckboxValue(attribute,defaultValue){return angular.isDefined(attribute)?scope.$eval(attribute):defaultValue;}
ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()));};element.on(buttonsCtrl.toggleEvent,function(){if(attrs.disabled){return;}
scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue());ngModelCtrl.$render();});});}};});angular.module('ui.bootstrap.carousel',[]).controller('UibCarouselController',['$scope','$element','$interval','$timeout','$animate',function($scope,$element,$interval,$timeout,$animate){var self=this,slides=self.slides=$scope.slides=[],SLIDE_DIRECTION='uib-slideDirection',currentIndex=$scope.active,currentInterval,isPlaying;var destroyed=false;$element.addClass('carousel');self.addSlide=function(slide,element){slides.push({slide:slide,element:element});slides.sort(function(a,b){return+a.slide.index-+b.slide.index;});if(slide.index===$scope.active||slides.length===1&&!angular.isNumber($scope.active)){if($scope.$currentTransition){$scope.$currentTransition=null;}
currentIndex=slide.index;$scope.active=slide.index;setActive(currentIndex);self.select(slides[findSlideIndex(slide)]);if(slides.length===1){$scope.play();}}};self.getCurrentIndex=function(){for(var i=0;i<slides.length;i++){if(slides[i].slide.index===currentIndex){return i;}}};self.next=$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;if(newIndex===0&&$scope.noWrap()){$scope.pause();return;}
return self.select(slides[newIndex],'next');};self.prev=$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;if($scope.noWrap()&&newIndex===slides.length-1){$scope.pause();return;}
return self.select(slides[newIndex],'prev');};self.removeSlide=function(slide){var index=findSlideIndex(slide);slides.splice(index,1);if(slides.length>0&&currentIndex===index){if(index>=slides.length){currentIndex=slides.length-1;$scope.active=currentIndex;setActive(currentIndex);self.select(slides[slides.length-1]);}else{currentIndex=index;$scope.active=currentIndex;setActive(currentIndex);self.select(slides[index]);}}else if(currentIndex>index){currentIndex--;$scope.active=currentIndex;}
if(slides.length===0){currentIndex=null;$scope.active=null;}};self.select=$scope.select=function(nextSlide,direction){var nextIndex=findSlideIndex(nextSlide.slide);if(direction===undefined){direction=nextIndex>self.getCurrentIndex()?'next':'prev';}
if(nextSlide.slide.index!==currentIndex&&!$scope.$currentTransition){goNext(nextSlide.slide,nextIndex,direction);}};$scope.indexOfSlide=function(slide){return+slide.slide.index;};$scope.isActive=function(slide){return $scope.active===slide.slide.index;};$scope.isPrevDisabled=function(){return $scope.active===0&&$scope.noWrap();};$scope.isNextDisabled=function(){return $scope.active===slides.length-1&&$scope.noWrap();};$scope.pause=function(){if(!$scope.noPause){isPlaying=false;resetTimer();}};$scope.play=function(){if(!isPlaying){isPlaying=true;restartTimer();}};$element.on('mouseenter',$scope.pause);$element.on('mouseleave',$scope.play);$scope.$on('$destroy',function(){destroyed=true;resetTimer();});$scope.$watch('noTransition',function(noTransition){$animate.enabled($element,!noTransition);});$scope.$watch('interval',restartTimer);$scope.$watchCollection('slides',resetTransition);$scope.$watch('active',function(index){if(angular.isNumber(index)&&currentIndex!==index){for(var i=0;i<slides.length;i++){if(slides[i].slide.index===index){index=i;break;}}
var slide=slides[index];if(slide){setActive(index);self.select(slides[index]);currentIndex=index;}}});function getSlideByIndex(index){for(var i=0,l=slides.length;i<l;++i){if(slides[i].index===index){return slides[i];}}}
function setActive(index){for(var i=0;i<slides.length;i++){slides[i].slide.active=i===index;}}
function goNext(slide,index,direction){if(destroyed){return;}
angular.extend(slide,{direction:direction});angular.extend(slides[currentIndex].slide||{},{direction:direction});if($animate.enabled($element)&&!$scope.$currentTransition&&slides[index].element&&self.slides.length>1){slides[index].element.data(SLIDE_DIRECTION,slide.direction);var currentIdx=self.getCurrentIndex();if(angular.isNumber(currentIdx)&&slides[currentIdx].element){slides[currentIdx].element.data(SLIDE_DIRECTION,slide.direction);}
$scope.$currentTransition=true;$animate.on('addClass',slides[index].element,function(element,phase){if(phase==='close'){$scope.$currentTransition=null;$animate.off('addClass',element);}});}
$scope.active=slide.index;currentIndex=slide.index;setActive(index);restartTimer();}
function findSlideIndex(slide){for(var i=0;i<slides.length;i++){if(slides[i].slide===slide){return i;}}}
function resetTimer(){if(currentInterval){$interval.cancel(currentInterval);currentInterval=null;}}
function resetTransition(slides){if(!slides.length){$scope.$currentTransition=null;}}
function restartTimer(){resetTimer();var interval=+$scope.interval;if(!isNaN(interval)&&interval>0){currentInterval=$interval(timerFn,interval);}}
function timerFn(){var interval=+$scope.interval;if(isPlaying&&!isNaN(interval)&&interval>0&&slides.length){$scope.next();}else{$scope.pause();}}}]).directive('uibCarousel',function(){return{transclude:true,controller:'UibCarouselController',controllerAs:'carousel',restrict:'A',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/carousel/carousel.html';},scope:{active:'=',interval:'=',noTransition:'=',noPause:'=',noWrap:'&'}};}).directive('uibSlide',['$animate',function($animate){return{require:'^uibCarousel',restrict:'A',transclude:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/carousel/slide.html';},scope:{actual:'=?',index:'=?'},link:function(scope,element,attrs,carouselCtrl){element.addClass('item');carouselCtrl.addSlide(scope,element);scope.$on('$destroy',function(){carouselCtrl.removeSlide(scope);});scope.$watch('active',function(active){$animate[active?'addClass':'removeClass'](element,'active');});}};}]).animation('.item',['$animateCss',function($animateCss){var SLIDE_DIRECTION='uib-slideDirection';function removeClass(element,className,callback){element.removeClass(className);if(callback){callback();}}
return{beforeAddClass:function(element,className,done){if(className==='active'){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction==='next'?'left':'right';var removeClassFn=removeClass.bind(this,element,directionClass+' '+direction,done);element.addClass(direction);$animateCss(element,{addClass:directionClass}).start().done(removeClassFn);return function(){stopped=true;};}
done();},beforeRemoveClass:function(element,className,done){if(className==='active'){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction==='next'?'left':'right';var removeClassFn=removeClass.bind(this,element,directionClass,done);$animateCss(element,{addClass:directionClass}).start().done(removeClassFn);return function(){stopped=true;};}
done();}};}]);angular.module('ui.bootstrap.dateparser',[]).service('uibDateParser',['$log','$locale','dateFilter','orderByFilter','filterFilter',function($log,$locale,dateFilter,orderByFilter,filterFilter){var SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var localeId;var formatCodeToRegex;this.init=function(){localeId=$locale.id;this.parsers={};this.formatters={};formatCodeToRegex=[{key:'yyyy',regex:'\\d{4}',apply:function(value){this.year=+value;},formatter:function(date){var _date=new Date();_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,'yyyy');}},{key:'yy',regex:'\\d{2}',apply:function(value){value=+value;this.year=value<69?value+2000:value+1900;},formatter:function(date){var _date=new Date();_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,'yy');}},{key:'y',regex:'\\d{1,4}',apply:function(value){this.year=+value;},formatter:function(date){var _date=new Date();_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,'y');}},{key:'M!',regex:'0?[1-9]|1[0-2]',apply:function(value){this.month=value-1;},formatter:function(date){var value=date.getMonth();if(/^[0-9]$/.test(value)){return dateFilter(date,'MM');}
return dateFilter(date,'M');}},{key:'MMMM',regex:$locale.DATETIME_FORMATS.MONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value);},formatter:function(date){return dateFilter(date,'MMMM');}},{key:'MMM',regex:$locale.DATETIME_FORMATS.SHORTMONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value);},formatter:function(date){return dateFilter(date,'MMM');}},{key:'MM',regex:'0[1-9]|1[0-2]',apply:function(value){this.month=value-1;},formatter:function(date){return dateFilter(date,'MM');}},{key:'M',regex:'[1-9]|1[0-2]',apply:function(value){this.month=value-1;},formatter:function(date){return dateFilter(date,'M');}},{key:'d!',regex:'[0-2]?[0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value;},formatter:function(date){var value=date.getDate();if(/^[1-9]$/.test(value)){return dateFilter(date,'dd');}
return dateFilter(date,'d');}},{key:'dd',regex:'[0-2][0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value;},formatter:function(date){return dateFilter(date,'dd');}},{key:'d',regex:'[1-2]?[0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value;},formatter:function(date){return dateFilter(date,'d');}},{key:'EEEE',regex:$locale.DATETIME_FORMATS.DAY.join('|'),formatter:function(date){return dateFilter(date,'EEEE');}},{key:'EEE',regex:$locale.DATETIME_FORMATS.SHORTDAY.join('|'),formatter:function(date){return dateFilter(date,'EEE');}},{key:'HH',regex:'(?:0|1)[0-9]|2[0-3]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'HH');}},{key:'hh',regex:'0[0-9]|1[0-2]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'hh');}},{key:'H',regex:'1?[0-9]|2[0-3]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'H');}},{key:'h',regex:'[0-9]|1[0-2]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'h');}},{key:'mm',regex:'[0-5][0-9]',apply:function(value){this.minutes=+value;},formatter:function(date){return dateFilter(date,'mm');}},{key:'m',regex:'[0-9]|[1-5][0-9]',apply:function(value){this.minutes=+value;},formatter:function(date){return dateFilter(date,'m');}},{key:'sss',regex:'[0-9][0-9][0-9]',apply:function(value){this.milliseconds=+value;},formatter:function(date){return dateFilter(date,'sss');}},{key:'ss',regex:'[0-5][0-9]',apply:function(value){this.seconds=+value;},formatter:function(date){return dateFilter(date,'ss');}},{key:'s',regex:'[0-9]|[1-5][0-9]',apply:function(value){this.seconds=+value;},formatter:function(date){return dateFilter(date,'s');}},{key:'a',regex:$locale.DATETIME_FORMATS.AMPMS.join('|'),apply:function(value){if(this.hours===12){this.hours=0;}
if(value==='PM'){this.hours+=12;}},formatter:function(date){return dateFilter(date,'a');}},{key:'Z',regex:'[+-]\\d{4}',apply:function(value){var matches=value.match(/([+-])(\d{2})(\d{2})/),sign=matches[1],hours=matches[2],minutes=matches[3];this.hours+=toInt(sign+hours);this.minutes+=toInt(sign+minutes);},formatter:function(date){return dateFilter(date,'Z');}},{key:'ww',regex:'[0-4][0-9]|5[0-3]',formatter:function(date){return dateFilter(date,'ww');}},{key:'w',regex:'[0-9]|[1-4][0-9]|5[0-3]',formatter:function(date){return dateFilter(date,'w');}},{key:'GGGG',regex:$locale.DATETIME_FORMATS.ERANAMES.join('|').replace(/\s/g,'\\s'),formatter:function(date){return dateFilter(date,'GGGG');}},{key:'GGG',regex:$locale.DATETIME_FORMATS.ERAS.join('|'),formatter:function(date){return dateFilter(date,'GGG');}},{key:'GG',regex:$locale.DATETIME_FORMATS.ERAS.join('|'),formatter:function(date){return dateFilter(date,'GG');}},{key:'G',regex:$locale.DATETIME_FORMATS.ERAS.join('|'),formatter:function(date){return dateFilter(date,'G');}}];if(angular.version.major>=1&&angular.version.minor>4){formatCodeToRegex.push({key:'LLLL',regex:$locale.DATETIME_FORMATS.STANDALONEMONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.STANDALONEMONTH.indexOf(value);},formatter:function(date){return dateFilter(date,'LLLL');}});}};this.init();function getFormatCodeToRegex(key){return filterFilter(formatCodeToRegex,{key:key},true)[0];}
this.getParser=function(key){var f=getFormatCodeToRegex(key);return f&&f.apply||null;};this.overrideParser=function(key,parser){var f=getFormatCodeToRegex(key);if(f&&angular.isFunction(parser)){this.parsers={};f.apply=parser;}}.bind(this);function createParser(format){var map=[],regex=format.split('');var quoteIndex=format.indexOf('\'');if(quoteIndex>-1){var inLiteral=false;format=format.split('');for(var i=quoteIndex;i<format.length;i++){if(inLiteral){if(format[i]==='\''){if(i+1<format.length&&format[i+1]==='\''){format[i+1]='$';regex[i+1]='';}else{regex[i]='';inLiteral=false;}}
format[i]='$';}else{if(format[i]==='\''){format[i]='$';regex[i]='';inLiteral=true;}}}
format=format.join('');}
angular.forEach(formatCodeToRegex,function(data){var index=format.indexOf(data.key);if(index>-1){format=format.split('');regex[index]='('+data.regex+')';format[index]='$';for(var i=index+1,n=index+data.key.length;i<n;i++){regex[i]='';format[i]='$';}
format=format.join('');map.push({index:index,key:data.key,apply:data.apply,matcher:data.regex});}});return{regex:new RegExp('^'+regex.join('')+'$'),map:orderByFilter(map,'index')};}
function createFormatter(format){var formatters=[];var i=0;var formatter,literalIdx;while(i<format.length){if(angular.isNumber(literalIdx)){if(format.charAt(i)==='\''){if(i+1>=format.length||format.charAt(i+1)!=='\''){formatters.push(constructLiteralFormatter(format,literalIdx,i));literalIdx=null;}}else if(i===format.length){while(literalIdx<format.length){formatter=constructFormatterFromIdx(format,literalIdx);formatters.push(formatter);literalIdx=formatter.endIdx;}}
i++;continue;}
if(format.charAt(i)==='\''){literalIdx=i;i++;continue;}
formatter=constructFormatterFromIdx(format,i);formatters.push(formatter.parser);i=formatter.endIdx;}
return formatters;}
function constructLiteralFormatter(format,literalIdx,endIdx){return function(){return format.substr(literalIdx+1,endIdx-literalIdx-1);};}
function constructFormatterFromIdx(format,i){var currentPosStr=format.substr(i);for(var j=0;j<formatCodeToRegex.length;j++){if(new RegExp('^'+formatCodeToRegex[j].key).test(currentPosStr)){var data=formatCodeToRegex[j];return{endIdx:i+data.key.length,parser:data.formatter};}}
return{endIdx:i+1,parser:function(){return currentPosStr.charAt(0);}};}
this.filter=function(date,format){if(!angular.isDate(date)||isNaN(date)||!format){return'';}
format=$locale.DATETIME_FORMATS[format]||format;if($locale.id!==localeId){this.init();}
if(!this.formatters[format]){this.formatters[format]=createFormatter(format);}
var formatters=this.formatters[format];return formatters.reduce(function(str,formatter){return str+formatter(date);},'');};this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format){return input;}
format=$locale.DATETIME_FORMATS[format]||format;format=format.replace(SPECIAL_CHARACTERS_REGEXP,'\\$&');if($locale.id!==localeId){this.init();}
if(!this.parsers[format]){this.parsers[format]=createParser(format,'apply');}
var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex),tzOffset=false;if(results&&results.length){var fields,dt;if(angular.isDate(baseDate)&&!isNaN(baseDate.getTime())){fields={year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()};}else{if(baseDate){$log.warn('dateparser:','baseDate is not a valid date');}
fields={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};}
for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];if(mapper.matcher==='Z'){tzOffset=true;}
if(mapper.apply){mapper.apply.call(fields,results[i]);}}
var datesetter=tzOffset?Date.prototype.setUTCFullYear:Date.prototype.setFullYear;var timesetter=tzOffset?Date.prototype.setUTCHours:Date.prototype.setHours;if(isValid(fields.year,fields.month,fields.date)){if(angular.isDate(baseDate)&&!isNaN(baseDate.getTime())&&!tzOffset){dt=new Date(baseDate);datesetter.call(dt,fields.year,fields.month,fields.date);timesetter.call(dt,fields.hours,fields.minutes,fields.seconds,fields.milliseconds);}else{dt=new Date(0);datesetter.call(dt,fields.year,fields.month,fields.date);timesetter.call(dt,fields.hours||0,fields.minutes||0,fields.seconds||0,fields.milliseconds||0);}}
return dt;}};function isValid(year,month,date){if(date<1){return false;}
if(month===1&&date>28){return date===29&&(year%4===0&&year%100!==0||year%400===0);}
if(month===3||month===5||month===8||month===10){return date<31;}
return true;}
function toInt(str){return parseInt(str,10);}
this.toTimezone=toTimezone;this.fromTimezone=fromTimezone;this.timezoneToOffset=timezoneToOffset;this.addDateMinutes=addDateMinutes;this.convertTimezoneToLocal=convertTimezoneToLocal;function toTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone):date;}
function fromTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone,true):date;}
function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,'');var requestedTimezoneOffset=Date.parse('Jan 01, 1970 00:00:00 '+timezone)/60000;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset;}
function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date;}
function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset));}}]);angular.module('ui.bootstrap.isClass',[]).directive('uibIsClass',['$animate',function($animate){var ON_REGEXP=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/;var IS_REGEXP=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;var dataPerTracked={};return{restrict:'A',compile:function(tElement,tAttrs){var linkedScopes=[];var instances=[];var expToData={};var lastActivated=null;var onExpMatches=tAttrs.uibIsClass.match(ON_REGEXP);var onExp=onExpMatches[2];var expsStr=onExpMatches[1];var exps=expsStr.split(',');return linkFn;function linkFn(scope,element,attrs){linkedScopes.push(scope);instances.push({scope:scope,element:element});exps.forEach(function(exp,k){addForExp(exp,scope);});scope.$on('$destroy',removeScope);}
function addForExp(exp,scope){var matches=exp.match(IS_REGEXP);var clazz=scope.$eval(matches[1]);var compareWithExp=matches[2];var data=expToData[exp];if(!data){var watchFn=function(compareWithVal){var newActivated=null;instances.some(function(instance){var thisVal=instance.scope.$eval(onExp);if(thisVal===compareWithVal){newActivated=instance;return true;}});if(data.lastActivated!==newActivated){if(data.lastActivated){$animate.removeClass(data.lastActivated.element,clazz);}
if(newActivated){$animate.addClass(newActivated.element,clazz);}
data.lastActivated=newActivated;}};expToData[exp]=data={lastActivated:null,scope:scope,watchFn:watchFn,compareWithExp:compareWithExp,watcher:scope.$watch(compareWithExp,watchFn)};}
data.watchFn(scope.$eval(compareWithExp));}
function removeScope(e){var removedScope=e.targetScope;var index=linkedScopes.indexOf(removedScope);linkedScopes.splice(index,1);instances.splice(index,1);if(linkedScopes.length){var newWatchScope=linkedScopes[0];angular.forEach(expToData,function(data){if(data.scope===removedScope){data.watcher=newWatchScope.$watch(data.compareWithExp,data.watchFn);data.scope=newWatchScope;}});}else{expToData={};}}}};}]);angular.module('ui.bootstrap.datepicker',['ui.bootstrap.dateparser','ui.bootstrap.isClass']).value('$datepickerSuppressError',false).value('$datepickerLiteralWarning',true).constant('uibDatepickerConfig',{datepickerMode:'day',formatDay:'dd',formatMonth:'MMMM',formatYear:'yyyy',formatDayHeader:'EEE',formatDayTitle:'MMMM yyyy',formatMonthTitle:'yyyy',maxDate:null,maxMode:'year',minDate:null,minMode:'day',monthColumns:3,ngModelOptions:{},shortcutPropagation:false,showWeeks:true,yearColumns:5,yearRows:4}).controller('UibDatepickerController',['$scope','$element','$attrs','$parse','$interpolate','$locale','$log','dateFilter','uibDatepickerConfig','$datepickerLiteralWarning','$datepickerSuppressError','uibDateParser',function($scope,$element,$attrs,$parse,$interpolate,$locale,$log,dateFilter,datepickerConfig,$datepickerLiteralWarning,$datepickerSuppressError,dateParser){var self=this,ngModelCtrl={$setViewValue:angular.noop},ngModelOptions={},watchListeners=[];$element.addClass('uib-datepicker');$attrs.$set('role','application');if(!$scope.datepickerOptions){$scope.datepickerOptions={};}
this.modes=['day','month','year'];['customClass','dateDisabled','datepickerMode','formatDay','formatDayHeader','formatDayTitle','formatMonth','formatMonthTitle','formatYear','maxDate','maxMode','minDate','minMode','monthColumns','showWeeks','shortcutPropagation','startingDay','yearColumns','yearRows'].forEach(function(key){switch(key){case'customClass':case'dateDisabled':$scope[key]=$scope.datepickerOptions[key]||angular.noop;break;case'datepickerMode':$scope.datepickerMode=angular.isDefined($scope.datepickerOptions.datepickerMode)?$scope.datepickerOptions.datepickerMode:datepickerConfig.datepickerMode;break;case'formatDay':case'formatDayHeader':case'formatDayTitle':case'formatMonth':case'formatMonthTitle':case'formatYear':self[key]=angular.isDefined($scope.datepickerOptions[key])?$interpolate($scope.datepickerOptions[key])($scope.$parent):datepickerConfig[key];break;case'monthColumns':case'showWeeks':case'shortcutPropagation':case'yearColumns':case'yearRows':self[key]=angular.isDefined($scope.datepickerOptions[key])?$scope.datepickerOptions[key]:datepickerConfig[key];break;case'startingDay':if(angular.isDefined($scope.datepickerOptions.startingDay)){self.startingDay=$scope.datepickerOptions.startingDay;}else if(angular.isNumber(datepickerConfig.startingDay)){self.startingDay=datepickerConfig.startingDay;}else{self.startingDay=($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;}
break;case'maxDate':case'minDate':$scope.$watch('datepickerOptions.'+key,function(value){if(value){if(angular.isDate(value)){self[key]=dateParser.fromTimezone(new Date(value),ngModelOptions.getOption('timezone'));}else{if($datepickerLiteralWarning){$log.warn('Literal date support has been deprecated, please switch to date object usage');}
self[key]=new Date(dateFilter(value,'medium'));}}else{self[key]=datepickerConfig[key]?dateParser.fromTimezone(new Date(datepickerConfig[key]),ngModelOptions.getOption('timezone')):null;}
self.refreshView();});break;case'maxMode':case'minMode':if($scope.datepickerOptions[key]){$scope.$watch(function(){return $scope.datepickerOptions[key];},function(value){self[key]=$scope[key]=angular.isDefined(value)?value:$scope.datepickerOptions[key];if(key==='minMode'&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)<self.modes.indexOf(self[key])||key==='maxMode'&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)>self.modes.indexOf(self[key])){$scope.datepickerMode=self[key];$scope.datepickerOptions.datepickerMode=self[key];}});}else{self[key]=$scope[key]=datepickerConfig[key]||null;}
break;}});$scope.uniqueId='datepicker-'+$scope.$id+'-'+Math.floor(Math.random()*10000);$scope.disabled=angular.isDefined($attrs.disabled)||false;if(angular.isDefined($attrs.ngDisabled)){watchListeners.push($scope.$parent.$watch($attrs.ngDisabled,function(disabled){$scope.disabled=disabled;self.refreshView();}));}
$scope.isActive=function(dateObject){if(self.compare(dateObject.date,self.activeDate)===0){$scope.activeDateId=dateObject.uid;return true;}
return false;};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelOptions=extractOptions(ngModelCtrl);if($scope.datepickerOptions.initDate){self.activeDate=dateParser.fromTimezone($scope.datepickerOptions.initDate,ngModelOptions.getOption('timezone'))||new Date();$scope.$watch('datepickerOptions.initDate',function(initDate){if(initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)){self.activeDate=dateParser.fromTimezone(initDate,ngModelOptions.getOption('timezone'));self.refreshView();}});}else{self.activeDate=new Date();}
var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):new Date();this.activeDate=!isNaN(date)?dateParser.fromTimezone(date,ngModelOptions.getOption('timezone')):dateParser.fromTimezone(new Date(),ngModelOptions.getOption('timezone'));ngModelCtrl.$render=function(){self.render();};};this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);if(isValid){this.activeDate=dateParser.fromTimezone(date,ngModelOptions.getOption('timezone'));}else if(!$datepickerSuppressError){$log.error('Datepicker directive: "ng-model" value must be a Date object');}}
this.refreshView();};this.refreshView=function(){if(this.element){$scope.selectedDt=null;this._refreshView();if($scope.activeDt){$scope.activeDateId=$scope.activeDt.uid;}
var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;date=dateParser.fromTimezone(date,ngModelOptions.getOption('timezone'));ngModelCtrl.$setValidity('dateDisabled',!date||this.element&&!this.isDisabled(date));}};this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;model=dateParser.fromTimezone(model,ngModelOptions.getOption('timezone'));var today=new Date();today=dateParser.fromTimezone(today,ngModelOptions.getOption('timezone'));var time=this.compare(date,today);var dt={date:date,label:dateParser.filter(date,format),selected:model&&this.compare(date,model)===0,disabled:this.isDisabled(date),past:time<0,current:time===0,future:time>0,customClass:this.customClass(date)||null};if(model&&this.compare(date,model)===0){$scope.selectedDt=dt;}
if(self.activeDate&&this.compare(dt.date,self.activeDate)===0){$scope.activeDt=dt;}
return dt;};this.isDisabled=function(date){return $scope.disabled||this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$scope.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode});};this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode});};this.split=function(arr,size){var arrays=[];while(arr.length>0){arrays.push(arr.splice(0,size));}
return arrays;};$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?dateParser.fromTimezone(new Date(ngModelCtrl.$viewValue),ngModelOptions.getOption('timezone')):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());dt=dateParser.toTimezone(dt,ngModelOptions.getOption('timezone'));ngModelCtrl.$setViewValue(dt);ngModelCtrl.$render();}else{self.activeDate=date;setMode(self.modes[self.modes.indexOf($scope.datepickerMode)-1]);$scope.$emit('uib:datepicker.mode');}
$scope.$broadcast('uib:datepicker.focus');};$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1);self.refreshView();};$scope.toggleMode=function(direction){direction=direction||1;if($scope.datepickerMode===self.maxMode&&direction===1||$scope.datepickerMode===self.minMode&&direction===-1){return;}
setMode(self.modes[self.modes.indexOf($scope.datepickerMode)+direction]);$scope.$emit('uib:datepicker.mode');};$scope.keys={13:'enter',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down'};var focusElement=function(){self.element[0].focus();};$scope.$on('uib:datepicker.focus',focusElement);$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(!key||evt.shiftKey||evt.altKey||$scope.disabled){return;}
evt.preventDefault();if(!self.shortcutPropagation){evt.stopPropagation();}
if(key==='enter'||key==='space'){if(self.isDisabled(self.activeDate)){return;}
$scope.select(self.activeDate);}else if(evt.ctrlKey&&(key==='up'||key==='down')){$scope.toggleMode(key==='up'?1:-1);}else{self.handleKeyDown(key,evt);self.refreshView();}};$element.on('keydown',function(evt){$scope.$apply(function(){$scope.keydown(evt);});});$scope.$on('$destroy',function(){while(watchListeners.length){watchListeners.shift()();}});function setMode(mode){$scope.datepickerMode=mode;$scope.datepickerOptions.datepickerMode=mode;}
function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=ngModelCtrl.$options||$scope.datepickerOptions.ngModelOptions||datepickerConfig.ngModelOptions||{};ngModelOptions.getOption=function(key){return ngModelOptions[key];};}else{var timezone=ngModelCtrl.$options.getOption('timezone')||($scope.datepickerOptions.ngModelOptions?$scope.datepickerOptions.ngModelOptions.timezone:null)||(datepickerConfig.ngModelOptions?datepickerConfig.ngModelOptions.timezone:null);ngModelOptions=ngModelCtrl.$options.createChild(datepickerConfig.ngModelOptions).createChild($scope.datepickerOptions.ngModelOptions).createChild(ngModelCtrl.$options).createChild({timezone:timezone});}
return ngModelOptions;}}]).controller('UibDaypickerController',['$scope','$element','dateFilter',function(scope,$element,dateFilter){var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1};this.element=$element;function getDaysInMonth(year,month){return month===1&&year%4===0&&(year%100!==0||year%400===0)?29:DAYS_IN_MONTH[month];}
this.init=function(ctrl){angular.extend(ctrl,this);scope.showWeeks=ctrl.showWeeks;ctrl.refreshView();};this.getDates=function(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0,date;while(i<n){date=new Date(current);dates[i++]=date;current.setDate(current.getDate()+1);}
return dates;};this._refreshView=function(){var year=this.activeDate.getFullYear(),month=this.activeDate.getMonth(),firstDayOfMonth=new Date(this.activeDate);firstDayOfMonth.setFullYear(year,month,1);var difference=this.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);if(numDisplayedFromPreviousMonth>0){firstDate.setDate(-numDisplayedFromPreviousMonth+1);}
var days=this.getDates(firstDate,42);for(var i=0;i<42;i++){days[i]=angular.extend(this.createDateObject(days[i],this.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+'-'+i});}
scope.labels=new Array(7);for(var j=0;j<7;j++){scope.labels[j]={abbr:dateFilter(days[j].date,this.formatDayHeader),full:dateFilter(days[j].date,'EEEE')};}
scope.title=dateFilter(this.activeDate,this.formatDayTitle);scope.rows=this.split(days,7);if(scope.showWeeks){scope.weekNumbers=[];var thursdayIndex=(4+7-this.startingDay)%7,numWeeks=scope.rows.length;for(var curWeek=0;curWeek<numWeeks;curWeek++){scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));}}};this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth(),date1.getDate());var _date2=new Date(date2.getFullYear(),date2.getMonth(),date2.getDate());_date1.setFullYear(date1.getFullYear());_date2.setFullYear(date2.getFullYear());return _date1-_date2;};function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;}
this.handleKeyDown=function(key,evt){var date=this.activeDate.getDate();if(key==='left'){date=date-1;}else if(key==='up'){date=date-7;}else if(key==='right'){date=date+1;}else if(key==='down'){date=date+7;}else if(key==='pageup'||key==='pagedown'){var month=this.activeDate.getMonth()+(key==='pageup'?-1:1);this.activeDate.setMonth(month,1);date=Math.min(getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth()),date);}else if(key==='home'){date=1;}else if(key==='end'){date=getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth());}
this.activeDate.setDate(date);};}]).controller('UibMonthpickerController',['$scope','$element','dateFilter',function(scope,$element,dateFilter){this.step={years:1};this.element=$element;this.init=function(ctrl){angular.extend(ctrl,this);ctrl.refreshView();};this._refreshView=function(){var months=new Array(12),year=this.activeDate.getFullYear(),date;for(var i=0;i<12;i++){date=new Date(this.activeDate);date.setFullYear(year,i,1);months[i]=angular.extend(this.createDateObject(date,this.formatMonth),{uid:scope.uniqueId+'-'+i});}
scope.title=dateFilter(this.activeDate,this.formatMonthTitle);scope.rows=this.split(months,this.monthColumns);scope.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1;};this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth());var _date2=new Date(date2.getFullYear(),date2.getMonth());_date1.setFullYear(date1.getFullYear());_date2.setFullYear(date2.getFullYear());return _date1-_date2;};this.handleKeyDown=function(key,evt){var date=this.activeDate.getMonth();if(key==='left'){date=date-1;}else if(key==='up'){date=date-this.monthColumns;}else if(key==='right'){date=date+1;}else if(key==='down'){date=date+this.monthColumns;}else if(key==='pageup'||key==='pagedown'){var year=this.activeDate.getFullYear()+(key==='pageup'?-1:1);this.activeDate.setFullYear(year);}else if(key==='home'){date=0;}else if(key==='end'){date=11;}
this.activeDate.setMonth(date);};}]).controller('UibYearpickerController',['$scope','$element','dateFilter',function(scope,$element,dateFilter){var columns,range;this.element=$element;function getStartingYear(year){return parseInt((year-1)/range,10)*range+1;}
this.yearpickerInit=function(){columns=this.yearColumns;range=this.yearRows*columns;this.step={years:range};};this._refreshView=function(){var years=new Array(range),date;for(var i=0,start=getStartingYear(this.activeDate.getFullYear());i<range;i++){date=new Date(this.activeDate);date.setFullYear(start+i,0,1);years[i]=angular.extend(this.createDateObject(date,this.formatYear),{uid:scope.uniqueId+'-'+i});}
scope.title=[years[0].label,years[range-1].label].join(' - ');scope.rows=this.split(years,columns);scope.columns=columns;};this.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear();};this.handleKeyDown=function(key,evt){var date=this.activeDate.getFullYear();if(key==='left'){date=date-1;}else if(key==='up'){date=date-columns;}else if(key==='right'){date=date+1;}else if(key==='down'){date=date+columns;}else if(key==='pageup'||key==='pagedown'){date+=(key==='pageup'?-1:1)*range;}else if(key==='home'){date=getStartingYear(this.activeDate.getFullYear());}else if(key==='end'){date=getStartingYear(this.activeDate.getFullYear())+range-1;}
this.activeDate.setFullYear(date);};}]).directive('uibDatepicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/datepicker.html';},scope:{datepickerOptions:'=?'},require:['uibDatepicker','^ngModel'],restrict:'A',controller:'UibDatepickerController',controllerAs:'datepicker',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];datepickerCtrl.init(ngModelCtrl);}};}).directive('uibDaypicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/day.html';},require:['^uibDatepicker','uibDaypicker'],restrict:'A',controller:'UibDaypickerController',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],daypickerCtrl=ctrls[1];daypickerCtrl.init(datepickerCtrl);}};}).directive('uibMonthpicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/month.html';},require:['^uibDatepicker','uibMonthpicker'],restrict:'A',controller:'UibMonthpickerController',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],monthpickerCtrl=ctrls[1];monthpickerCtrl.init(datepickerCtrl);}};}).directive('uibYearpicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/year.html';},require:['^uibDatepicker','uibYearpicker'],restrict:'A',controller:'UibYearpickerController',link:function(scope,element,attrs,ctrls){var ctrl=ctrls[0];angular.extend(ctrl,ctrls[1]);ctrl.yearpickerInit();ctrl.refreshView();}};});angular.module('ui.bootstrap.position',[]).factory('$uibPosition',['$document','$window',function($document,$window){var SCROLLBAR_WIDTH;var BODY_SCROLLBAR_WIDTH;var OVERFLOW_REGEX={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/};var PLACEMENT_REGEX={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};var BODY_REGEX=/(HTML|BODY)/;return{getRawNode:function(elem){return elem.nodeName?elem:elem[0]||elem;},parseStyle:function(value){value=parseFloat(value);return isFinite(value)?value:0;},offsetParent:function(elem){elem=this.getRawNode(elem);var offsetParent=elem.offsetParent||$document[0].documentElement;function isStaticPositioned(el){return($window.getComputedStyle(el).position||'static')==='static';}
while(offsetParent&&offsetParent!==$document[0].documentElement&&isStaticPositioned(offsetParent)){offsetParent=offsetParent.offsetParent;}
return offsetParent||$document[0].documentElement;},scrollbarWidth:function(isBody){if(isBody){if(angular.isUndefined(BODY_SCROLLBAR_WIDTH)){var bodyElem=$document.find('body');bodyElem.addClass('uib-position-body-scrollbar-measure');BODY_SCROLLBAR_WIDTH=$window.innerWidth-bodyElem[0].clientWidth;BODY_SCROLLBAR_WIDTH=isFinite(BODY_SCROLLBAR_WIDTH)?BODY_SCROLLBAR_WIDTH:0;bodyElem.removeClass('uib-position-body-scrollbar-measure');}
return BODY_SCROLLBAR_WIDTH;}
if(angular.isUndefined(SCROLLBAR_WIDTH)){var scrollElem=angular.element('<div class="uib-position-scrollbar-measure"></div>');$document.find('body').append(scrollElem);SCROLLBAR_WIDTH=scrollElem[0].offsetWidth-scrollElem[0].clientWidth;SCROLLBAR_WIDTH=isFinite(SCROLLBAR_WIDTH)?SCROLLBAR_WIDTH:0;scrollElem.remove();}
return SCROLLBAR_WIDTH;},scrollbarPadding:function(elem){elem=this.getRawNode(elem);var elemStyle=$window.getComputedStyle(elem);var paddingRight=this.parseStyle(elemStyle.paddingRight);var paddingBottom=this.parseStyle(elemStyle.paddingBottom);var scrollParent=this.scrollParent(elem,false,true);var scrollbarWidth=this.scrollbarWidth(BODY_REGEX.test(scrollParent.tagName));return{scrollbarWidth:scrollbarWidth,widthOverflow:scrollParent.scrollWidth>scrollParent.clientWidth,right:paddingRight+scrollbarWidth,originalRight:paddingRight,heightOverflow:scrollParent.scrollHeight>scrollParent.clientHeight,bottom:paddingBottom+scrollbarWidth,originalBottom:paddingBottom};},isScrollable:function(elem,includeHidden){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal;var elemStyle=$window.getComputedStyle(elem);return overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX);},scrollParent:function(elem,includeHidden,includeSelf){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal;var documentEl=$document[0].documentElement;var elemStyle=$window.getComputedStyle(elem);if(includeSelf&&overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX)){return elem;}
var excludeStatic=elemStyle.position==='absolute';var scrollParent=elem.parentElement||documentEl;if(scrollParent===documentEl||elemStyle.position==='fixed'){return documentEl;}
while(scrollParent.parentElement&&scrollParent!==documentEl){var spStyle=$window.getComputedStyle(scrollParent);if(excludeStatic&&spStyle.position!=='static'){excludeStatic=false;}
if(!excludeStatic&&overflowRegex.test(spStyle.overflow+spStyle.overflowY+spStyle.overflowX)){break;}
scrollParent=scrollParent.parentElement;}
return scrollParent;},position:function(elem,includeMagins){elem=this.getRawNode(elem);var elemOffset=this.offset(elem);if(includeMagins){var elemStyle=$window.getComputedStyle(elem);elemOffset.top-=this.parseStyle(elemStyle.marginTop);elemOffset.left-=this.parseStyle(elemStyle.marginLeft);}
var parent=this.offsetParent(elem);var parentOffset={top:0,left:0};if(parent!==$document[0].documentElement){parentOffset=this.offset(parent);parentOffset.top+=parent.clientTop-parent.scrollTop;parentOffset.left+=parent.clientLeft-parent.scrollLeft;}
return{width:Math.round(angular.isNumber(elemOffset.width)?elemOffset.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemOffset.height)?elemOffset.height:elem.offsetHeight),top:Math.round(elemOffset.top-parentOffset.top),left:Math.round(elemOffset.left-parentOffset.left)};},offset:function(elem){elem=this.getRawNode(elem);var elemBCR=elem.getBoundingClientRect();return{width:Math.round(angular.isNumber(elemBCR.width)?elemBCR.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemBCR.height)?elemBCR.height:elem.offsetHeight),top:Math.round(elemBCR.top+($window.pageYOffset||$document[0].documentElement.scrollTop)),left:Math.round(elemBCR.left+($window.pageXOffset||$document[0].documentElement.scrollLeft))};},viewportOffset:function(elem,useDocument,includePadding){elem=this.getRawNode(elem);includePadding=includePadding!==false?true:false;var elemBCR=elem.getBoundingClientRect();var offsetBCR={top:0,left:0,bottom:0,right:0};var offsetParent=useDocument?$document[0].documentElement:this.scrollParent(elem);var offsetParentBCR=offsetParent.getBoundingClientRect();offsetBCR.top=offsetParentBCR.top+offsetParent.clientTop;offsetBCR.left=offsetParentBCR.left+offsetParent.clientLeft;if(offsetParent===$document[0].documentElement){offsetBCR.top+=$window.pageYOffset;offsetBCR.left+=$window.pageXOffset;}
offsetBCR.bottom=offsetBCR.top+offsetParent.clientHeight;offsetBCR.right=offsetBCR.left+offsetParent.clientWidth;if(includePadding){var offsetParentStyle=$window.getComputedStyle(offsetParent);offsetBCR.top+=this.parseStyle(offsetParentStyle.paddingTop);offsetBCR.bottom-=this.parseStyle(offsetParentStyle.paddingBottom);offsetBCR.left+=this.parseStyle(offsetParentStyle.paddingLeft);offsetBCR.right-=this.parseStyle(offsetParentStyle.paddingRight);}
return{top:Math.round(elemBCR.top-offsetBCR.top),bottom:Math.round(offsetBCR.bottom-elemBCR.bottom),left:Math.round(elemBCR.left-offsetBCR.left),right:Math.round(offsetBCR.right-elemBCR.right)};},parsePlacement:function(placement){var autoPlace=PLACEMENT_REGEX.auto.test(placement);if(autoPlace){placement=placement.replace(PLACEMENT_REGEX.auto,'');}
placement=placement.split('-');placement[0]=placement[0]||'top';if(!PLACEMENT_REGEX.primary.test(placement[0])){placement[0]='top';}
placement[1]=placement[1]||'center';if(!PLACEMENT_REGEX.secondary.test(placement[1])){placement[1]='center';}
if(autoPlace){placement[2]=true;}else{placement[2]=false;}
return placement;},positionElements:function(hostElem,targetElem,placement,appendToBody){hostElem=this.getRawNode(hostElem);targetElem=this.getRawNode(targetElem);var targetWidth=angular.isDefined(targetElem.offsetWidth)?targetElem.offsetWidth:targetElem.prop('offsetWidth');var targetHeight=angular.isDefined(targetElem.offsetHeight)?targetElem.offsetHeight:targetElem.prop('offsetHeight');placement=this.parsePlacement(placement);var hostElemPos=appendToBody?this.offset(hostElem):this.position(hostElem);var targetElemPos={top:0,left:0,placement:''};if(placement[2]){var viewportOffset=this.viewportOffset(hostElem,appendToBody);var targetElemStyle=$window.getComputedStyle(targetElem);var adjustedSize={width:targetWidth+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft)+this.parseStyle(targetElemStyle.marginRight))),height:targetHeight+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop)+this.parseStyle(targetElemStyle.marginBottom)))};placement[0]=placement[0]==='top'&&adjustedSize.height>viewportOffset.top&&adjustedSize.height<=viewportOffset.bottom?'bottom':placement[0]==='bottom'&&adjustedSize.height>viewportOffset.bottom&&adjustedSize.height<=viewportOffset.top?'top':placement[0]==='left'&&adjustedSize.width>viewportOffset.left&&adjustedSize.width<=viewportOffset.right?'right':placement[0]==='right'&&adjustedSize.width>viewportOffset.right&&adjustedSize.width<=viewportOffset.left?'left':placement[0];placement[1]=placement[1]==='top'&&adjustedSize.height-hostElemPos.height>viewportOffset.bottom&&adjustedSize.height-hostElemPos.height<=viewportOffset.top?'bottom':placement[1]==='bottom'&&adjustedSize.height-hostElemPos.height>viewportOffset.top&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?'top':placement[1]==='left'&&adjustedSize.width-hostElemPos.width>viewportOffset.right&&adjustedSize.width-hostElemPos.width<=viewportOffset.left?'right':placement[1]==='right'&&adjustedSize.width-hostElemPos.width>viewportOffset.left&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?'left':placement[1];if(placement[1]==='center'){if(PLACEMENT_REGEX.vertical.test(placement[0])){var xOverflow=hostElemPos.width/2-targetWidth/2;if(viewportOffset.left+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.right){placement[1]='left';}else if(viewportOffset.right+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.left){placement[1]='right';}}else{var yOverflow=hostElemPos.height/2-adjustedSize.height/2;if(viewportOffset.top+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom){placement[1]='top';}else if(viewportOffset.bottom+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.top){placement[1]='bottom';}}}}
switch(placement[0]){case'top':targetElemPos.top=hostElemPos.top-targetHeight;break;case'bottom':targetElemPos.top=hostElemPos.top+hostElemPos.height;break;case'left':targetElemPos.left=hostElemPos.left-targetWidth;break;case'right':targetElemPos.left=hostElemPos.left+hostElemPos.width;break;}
switch(placement[1]){case'top':targetElemPos.top=hostElemPos.top;break;case'bottom':targetElemPos.top=hostElemPos.top+hostElemPos.height-targetHeight;break;case'left':targetElemPos.left=hostElemPos.left;break;case'right':targetElemPos.left=hostElemPos.left+hostElemPos.width-targetWidth;break;case'center':if(PLACEMENT_REGEX.vertical.test(placement[0])){targetElemPos.left=hostElemPos.left+hostElemPos.width/2-targetWidth/2;}else{targetElemPos.top=hostElemPos.top+hostElemPos.height/2-targetHeight/2;}
break;}
targetElemPos.top=Math.round(targetElemPos.top);targetElemPos.left=Math.round(targetElemPos.left);targetElemPos.placement=placement[1]==='center'?placement[0]:placement[0]+'-'+placement[1];return targetElemPos;},adjustTop:function(placementClasses,containerPosition,initialHeight,currentHeight){if(placementClasses.indexOf('top')!==-1&&initialHeight!==currentHeight){return{top:containerPosition.top-currentHeight+'px'};}},positionArrow:function(elem,placement){elem=this.getRawNode(elem);var innerElem=elem.querySelector('.tooltip-inner, .popover-inner');if(!innerElem){return;}
var isTooltip=angular.element(innerElem).hasClass('tooltip-inner');var arrowElem=isTooltip?elem.querySelector('.tooltip-arrow'):elem.querySelector('.arrow');if(!arrowElem){return;}
var arrowCss={top:'',bottom:'',left:'',right:''};placement=this.parsePlacement(placement);if(placement[1]==='center'){angular.element(arrowElem).css(arrowCss);return;}
var borderProp='border-'+placement[0]+'-width';var borderWidth=$window.getComputedStyle(arrowElem)[borderProp];var borderRadiusProp='border-';if(PLACEMENT_REGEX.vertical.test(placement[0])){borderRadiusProp+=placement[0]+'-'+placement[1];}else{borderRadiusProp+=placement[1]+'-'+placement[0];}
borderRadiusProp+='-radius';var borderRadius=$window.getComputedStyle(isTooltip?innerElem:elem)[borderRadiusProp];switch(placement[0]){case'top':arrowCss.bottom=isTooltip?'0':'-'+borderWidth;break;case'bottom':arrowCss.top=isTooltip?'0':'-'+borderWidth;break;case'left':arrowCss.right=isTooltip?'0':'-'+borderWidth;break;case'right':arrowCss.left=isTooltip?'0':'-'+borderWidth;break;}
arrowCss[placement[1]]=borderRadius;angular.element(arrowElem).css(arrowCss);}};}]);angular.module('ui.bootstrap.datepickerPopup',['ui.bootstrap.datepicker','ui.bootstrap.position']).value('$datepickerPopupLiteralWarning',true).constant('uibDatepickerPopupConfig',{altInputFormats:[],appendToBody:false,clearText:'Clear',closeOnDateSelection:true,closeText:'Done',currentText:'Today',datepickerPopup:'yyyy-MM-dd',datepickerPopupTemplateUrl:'uib/template/datepickerPopup/popup.html',datepickerTemplateUrl:'uib/template/datepicker/datepicker.html',html5Types:{date:'yyyy-MM-dd','datetime-local':'yyyy-MM-ddTHH:mm:ss.sss','month':'yyyy-MM'},onOpenFocus:true,showButtonBar:true,placement:'auto bottom-left'}).controller('UibDatepickerPopupController',['$scope','$element','$attrs','$compile','$log','$parse','$window','$document','$rootScope','$uibPosition','dateFilter','uibDateParser','uibDatepickerPopupConfig','$timeout','uibDatepickerConfig','$datepickerPopupLiteralWarning',function($scope,$element,$attrs,$compile,$log,$parse,$window,$document,$rootScope,$position,dateFilter,dateParser,datepickerPopupConfig,$timeout,datepickerConfig,$datepickerPopupLiteralWarning){var cache={},isHtml5DateInput=false;var dateFormat,closeOnDateSelection,appendToBody,onOpenFocus,datepickerPopupTemplateUrl,datepickerTemplateUrl,popupEl,datepickerEl,scrollParentEl,ngModel,ngModelOptions,$popup,altInputFormats,watchListeners=[];this.init=function(_ngModel_){ngModel=_ngModel_;ngModelOptions=extractOptions(ngModel);closeOnDateSelection=angular.isDefined($attrs.closeOnDateSelection)?$scope.$parent.$eval($attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection;appendToBody=angular.isDefined($attrs.datepickerAppendToBody)?$scope.$parent.$eval($attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;onOpenFocus=angular.isDefined($attrs.onOpenFocus)?$scope.$parent.$eval($attrs.onOpenFocus):datepickerPopupConfig.onOpenFocus;datepickerPopupTemplateUrl=angular.isDefined($attrs.datepickerPopupTemplateUrl)?$attrs.datepickerPopupTemplateUrl:datepickerPopupConfig.datepickerPopupTemplateUrl;datepickerTemplateUrl=angular.isDefined($attrs.datepickerTemplateUrl)?$attrs.datepickerTemplateUrl:datepickerPopupConfig.datepickerTemplateUrl;altInputFormats=angular.isDefined($attrs.altInputFormats)?$scope.$parent.$eval($attrs.altInputFormats):datepickerPopupConfig.altInputFormats;$scope.showButtonBar=angular.isDefined($attrs.showButtonBar)?$scope.$parent.$eval($attrs.showButtonBar):datepickerPopupConfig.showButtonBar;if(datepickerPopupConfig.html5Types[$attrs.type]){dateFormat=datepickerPopupConfig.html5Types[$attrs.type];isHtml5DateInput=true;}else{dateFormat=$attrs.uibDatepickerPopup||datepickerPopupConfig.datepickerPopup;$attrs.$observe('uibDatepickerPopup',function(value,oldValue){var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat){dateFormat=newDateFormat;ngModel.$modelValue=null;if(!dateFormat){throw new Error('uibDatepickerPopup must have a date format specified.');}}});}
if(!dateFormat){throw new Error('uibDatepickerPopup must have a date format specified.');}
if(isHtml5DateInput&&$attrs.uibDatepickerPopup){throw new Error('HTML5 date input types do not support custom formats.');}
popupEl=angular.element('<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>');popupEl.attr({'ng-model':'date','ng-change':'dateSelection(date)','template-url':datepickerPopupTemplateUrl});datepickerEl=angular.element(popupEl.children()[0]);datepickerEl.attr('template-url',datepickerTemplateUrl);if(!$scope.datepickerOptions){$scope.datepickerOptions={};}
if(isHtml5DateInput){if($attrs.type==='month'){$scope.datepickerOptions.datepickerMode='month';$scope.datepickerOptions.minMode='month';}}
datepickerEl.attr('datepicker-options','datepickerOptions');if(!isHtml5DateInput){ngModel.$$parserName='date';ngModel.$validators.date=validator;ngModel.$parsers.unshift(parseDate);ngModel.$formatters.push(function(value){if(ngModel.$isEmpty(value)){$scope.date=value;return value;}
if(angular.isNumber(value)){value=new Date(value);}
$scope.date=dateParser.fromTimezone(value,ngModelOptions.getOption('timezone'));return dateParser.filter($scope.date,dateFormat);});}else{ngModel.$formatters.push(function(value){$scope.date=dateParser.fromTimezone(value,ngModelOptions.getOption('timezone'));return value;});}
ngModel.$viewChangeListeners.push(function(){$scope.date=parseDateString(ngModel.$viewValue);});$element.on('keydown',inputKeydownBind);$popup=$compile(popupEl)($scope);popupEl.remove();if(appendToBody){$document.find('body').append($popup);}else{$element.after($popup);}
$scope.$on('$destroy',function(){if($scope.isOpen===true){if(!$rootScope.$$phase){$scope.$apply(function(){$scope.isOpen=false;});}}
$popup.remove();$element.off('keydown',inputKeydownBind);$document.off('click',documentClickBind);if(scrollParentEl){scrollParentEl.off('scroll',positionPopup);}
angular.element($window).off('resize',positionPopup);while(watchListeners.length){watchListeners.shift()();}});};$scope.getText=function(key){return $scope[key+'Text']||datepickerPopupConfig[key+'Text'];};$scope.isDisabled=function(date){if(date==='today'){date=dateParser.fromTimezone(new Date(),ngModelOptions.getOption('timezone'));}
var dates={};angular.forEach(['minDate','maxDate'],function(key){if(!$scope.datepickerOptions[key]){dates[key]=null;}else if(angular.isDate($scope.datepickerOptions[key])){dates[key]=new Date($scope.datepickerOptions[key]);}else{if($datepickerPopupLiteralWarning){$log.warn('Literal date support has been deprecated, please switch to date object usage');}
dates[key]=new Date(dateFilter($scope.datepickerOptions[key],'medium'));}});return $scope.datepickerOptions&&dates.minDate&&$scope.compare(date,dates.minDate)<0||dates.maxDate&&$scope.compare(date,dates.maxDate)>0;};$scope.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate());};$scope.dateSelection=function(dt){$scope.date=dt;var date=$scope.date?dateParser.filter($scope.date,dateFormat):null;$element.val(date);ngModel.$setViewValue(date);if(closeOnDateSelection){$scope.isOpen=false;$element[0].focus();}};$scope.keydown=function(evt){if(evt.which===27){evt.stopPropagation();$scope.isOpen=false;$element[0].focus();}};$scope.select=function(date,evt){evt.stopPropagation();if(date==='today'){var today=new Date();if(angular.isDate($scope.date)){date=new Date($scope.date);date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate());}else{date=dateParser.fromTimezone(today,ngModelOptions.getOption('timezone'));date.setHours(0,0,0,0);}}
$scope.dateSelection(date);};$scope.close=function(evt){evt.stopPropagation();$scope.isOpen=false;$element[0].focus();};$scope.disabled=angular.isDefined($attrs.disabled)||false;if($attrs.ngDisabled){watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(disabled){$scope.disabled=disabled;}));}
$scope.$watch('isOpen',function(value){if(value){if(!$scope.disabled){$timeout(function(){positionPopup();if(onOpenFocus){$scope.$broadcast('uib:datepicker.focus');}
$document.on('click',documentClickBind);var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;if(appendToBody||$position.parsePlacement(placement)[2]){scrollParentEl=scrollParentEl||angular.element($position.scrollParent($element));if(scrollParentEl){scrollParentEl.on('scroll',positionPopup);}}else{scrollParentEl=null;}
angular.element($window).on('resize',positionPopup);},0,false);}else{$scope.isOpen=false;}}else{$document.off('click',documentClickBind);if(scrollParentEl){scrollParentEl.off('scroll',positionPopup);}
angular.element($window).off('resize',positionPopup);}});function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return'-'+$1.toLowerCase();});}
function parseDateString(viewValue){var date=dateParser.parse(viewValue,dateFormat,$scope.date);if(isNaN(date)){for(var i=0;i<altInputFormats.length;i++){date=dateParser.parse(viewValue,altInputFormats[i],$scope.date);if(!isNaN(date)){return date;}}}
return date;}
function parseDate(viewValue){if(angular.isNumber(viewValue)){viewValue=new Date(viewValue);}
if(!viewValue){return null;}
if(angular.isDate(viewValue)&&!isNaN(viewValue)){return viewValue;}
if(angular.isString(viewValue)){var date=parseDateString(viewValue);if(!isNaN(date)){return dateParser.toTimezone(date,ngModelOptions.getOption('timezone'));}}
return ngModelOptions.getOption('allowInvalid')?viewValue:undefined;}
function validator(modelValue,viewValue){var value=modelValue||viewValue;if(!$attrs.ngRequired&&!value){return true;}
if(angular.isNumber(value)){value=new Date(value);}
if(!value){return true;}
if(angular.isDate(value)&&!isNaN(value)){return true;}
if(angular.isString(value)){return!isNaN(parseDateString(value));}
return false;}
function documentClickBind(event){if(!$scope.isOpen&&$scope.disabled){return;}
var popup=$popup[0];var dpContainsTarget=$element[0].contains(event.target);var popupContainsTarget=popup.contains!==undefined&&popup.contains(event.target);if($scope.isOpen&&!(dpContainsTarget||popupContainsTarget)){$scope.$apply(function(){$scope.isOpen=false;});}}
function inputKeydownBind(evt){if(evt.which===27&&$scope.isOpen){evt.preventDefault();evt.stopPropagation();$scope.$apply(function(){$scope.isOpen=false;});$element[0].focus();}else if(evt.which===40&&!$scope.isOpen){evt.preventDefault();evt.stopPropagation();$scope.$apply(function(){$scope.isOpen=true;});}}
function positionPopup(){if($scope.isOpen){var dpElement=angular.element($popup[0].querySelector('.uib-datepicker-popup'));var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;var position=$position.positionElements($element,dpElement,placement,appendToBody);dpElement.css({top:position.top+'px',left:position.left+'px'});if(dpElement.hasClass('uib-position-measure')){dpElement.removeClass('uib-position-measure');}}}
function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=angular.isObject(ngModelCtrl.$options)?ngModelCtrl.$options:{timezone:null};ngModelOptions.getOption=function(key){return ngModelOptions[key];};}else{ngModelOptions=ngModelCtrl.$options;}
return ngModelOptions;}
$scope.$on('uib:datepicker.mode',function(){$timeout(positionPopup,0,false);});}]).directive('uibDatepickerPopup',function(){return{require:['ngModel','uibDatepickerPopup'],controller:'UibDatepickerPopupController',scope:{datepickerOptions:'=?',isOpen:'=?',currentText:'@',clearText:'@',closeText:'@'},link:function(scope,element,attrs,ctrls){var ngModel=ctrls[0],ctrl=ctrls[1];ctrl.init(ngModel);}};}).directive('uibDatepickerPopupWrap',function(){return{restrict:'A',transclude:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepickerPopup/popup.html';}};});angular.module('ui.bootstrap.debounce',[]).factory('$$debounce',['$timeout',function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);if(timeoutPromise){$timeout.cancel(timeoutPromise);}
timeoutPromise=$timeout(function(){callback.apply(self,args);},debounceTime);};};}]);angular.module('ui.bootstrap.multiMap',[]).factory('$$multiMap',function(){return{createNew:function(){var map={};return{entries:function(){return Object.keys(map).map(function(key){return{key:key,value:map[key]};});},get:function(key){return map[key];},hasKey:function(key){return!!map[key];},keys:function(){return Object.keys(map);},put:function(key,value){if(!map[key]){map[key]=[];}
map[key].push(value);},remove:function(key,value){var values=map[key];if(!values){return;}
var idx=values.indexOf(value);if(idx!==-1){values.splice(idx,1);}
if(!values.length){delete map[key];}}};}};});angular.module('ui.bootstrap.dropdown',['ui.bootstrap.multiMap','ui.bootstrap.position']).constant('uibDropdownConfig',{appendToOpenClass:'uib-dropdown-open',openClass:'open'}).service('uibDropdownService',['$document','$rootScope','$$multiMap',function($document,$rootScope,$$multiMap){var openScope=null;var openedContainers=$$multiMap.createNew();this.isOnlyOpen=function(dropdownScope,appendTo){var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var openDropdown=openedDropdowns.reduce(function(toClose,dropdown){if(dropdown.scope===dropdownScope){return dropdown;}
return toClose;},{});if(openDropdown){return openedDropdowns.length===1;}}
return false;};this.open=function(dropdownScope,element,appendTo){if(!openScope){$document.on('click',closeDropdown);}
if(openScope&&openScope!==dropdownScope){openScope.isOpen=false;}
openScope=dropdownScope;if(!appendTo){return;}
var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var openedScopes=openedDropdowns.map(function(dropdown){return dropdown.scope;});if(openedScopes.indexOf(dropdownScope)===-1){openedContainers.put(appendTo,{scope:dropdownScope});}}else{openedContainers.put(appendTo,{scope:dropdownScope});}};this.close=function(dropdownScope,element,appendTo){if(openScope===dropdownScope){$document.off('click',closeDropdown);$document.off('keydown',this.keybindFilter);openScope=null;}
if(!appendTo){return;}
var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var dropdownToClose=openedDropdowns.reduce(function(toClose,dropdown){if(dropdown.scope===dropdownScope){return dropdown;}
return toClose;},{});if(dropdownToClose){openedContainers.remove(appendTo,dropdownToClose);}}};var closeDropdown=function(evt){if(!openScope||!openScope.isOpen){return;}
if(evt&&openScope.getAutoClose()==='disabled'){return;}
if(evt&&evt.which===3){return;}
var toggleElement=openScope.getToggleElement();if(evt&&toggleElement&&toggleElement[0].contains(evt.target)){return;}
var dropdownElement=openScope.getDropdownElement();if(evt&&openScope.getAutoClose()==='outsideClick'&&dropdownElement&&dropdownElement[0].contains(evt.target)){return;}
openScope.focusToggleElement();openScope.isOpen=false;if(!$rootScope.$$phase){openScope.$apply();}};this.keybindFilter=function(evt){if(!openScope){return;}
var dropdownElement=openScope.getDropdownElement();var toggleElement=openScope.getToggleElement();var dropdownElementTargeted=dropdownElement&&dropdownElement[0].contains(evt.target);var toggleElementTargeted=toggleElement&&toggleElement[0].contains(evt.target);if(evt.which===27){evt.stopPropagation();openScope.focusToggleElement();closeDropdown();}else if(openScope.isKeynavEnabled()&&[38,40].indexOf(evt.which)!==-1&&openScope.isOpen&&(dropdownElementTargeted||toggleElementTargeted)){evt.preventDefault();evt.stopPropagation();openScope.focusDropdownEntry(evt.which);}};}]).controller('UibDropdownController',['$scope','$element','$attrs','$parse','uibDropdownConfig','uibDropdownService','$animate','$uibPosition','$document','$compile','$templateRequest',function($scope,$element,$attrs,$parse,dropdownConfig,uibDropdownService,$animate,$position,$document,$compile,$templateRequest){var self=this,scope=$scope.$new(),templateScope,appendToOpenClass=dropdownConfig.appendToOpenClass,openClass=dropdownConfig.openClass,getIsOpen,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,keynavEnabled=false,selectedOption=null,body=$document.find('body');$element.addClass('dropdown');this.init=function(){if($attrs.isOpen){getIsOpen=$parse($attrs.isOpen);setIsOpen=getIsOpen.assign;$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value;});}
keynavEnabled=angular.isDefined($attrs.keyboardNav);};this.toggle=function(open){scope.isOpen=arguments.length?!!open:!scope.isOpen;if(angular.isFunction(setIsOpen)){setIsOpen(scope,scope.isOpen);}
return scope.isOpen;};this.isOpen=function(){return scope.isOpen;};scope.getToggleElement=function(){return self.toggleElement;};scope.getAutoClose=function(){return $attrs.autoClose||'always';};scope.getElement=function(){return $element;};scope.isKeynavEnabled=function(){return keynavEnabled;};scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?angular.element(self.dropdownMenu).find('a'):$element.find('ul').eq(0).find('a');switch(keyCode){case 40:{if(!angular.isNumber(self.selectedOption)){self.selectedOption=0;}else{self.selectedOption=self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1;}
break;}
case 38:{if(!angular.isNumber(self.selectedOption)){self.selectedOption=elems.length-1;}else{self.selectedOption=self.selectedOption===0?0:self.selectedOption-1;}
break;}}
elems[self.selectedOption].focus();};scope.getDropdownElement=function(){return self.dropdownMenu;};scope.focusToggleElement=function(){if(self.toggleElement){self.toggleElement[0].focus();}};function removeDropdownMenu(){$element.append(self.dropdownMenu);}
scope.$watch('isOpen',function(isOpen,wasOpen){var appendTo=null,appendToBody=false;if(angular.isDefined($attrs.dropdownAppendTo)){var appendToEl=$parse($attrs.dropdownAppendTo)(scope);if(appendToEl){appendTo=angular.element(appendToEl);}}
if(angular.isDefined($attrs.dropdownAppendToBody)){var appendToBodyValue=$parse($attrs.dropdownAppendToBody)(scope);if(appendToBodyValue!==false){appendToBody=true;}}
if(appendToBody&&!appendTo){appendTo=body;}
if(appendTo&&self.dropdownMenu){if(isOpen){appendTo.append(self.dropdownMenu);$element.on('$destroy',removeDropdownMenu);}else{$element.off('$destroy',removeDropdownMenu);removeDropdownMenu();}}
if(appendTo&&self.dropdownMenu){var pos=$position.positionElements($element,self.dropdownMenu,'bottom-left',true),css,rightalign,scrollbarPadding,scrollbarWidth=0;css={top:pos.top+'px',display:isOpen?'block':'none'};rightalign=self.dropdownMenu.hasClass('dropdown-menu-right');if(!rightalign){css.left=pos.left+'px';css.right='auto';}else{css.left='auto';scrollbarPadding=$position.scrollbarPadding(appendTo);if(scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){scrollbarWidth=scrollbarPadding.scrollbarWidth;}
css.right=window.innerWidth-scrollbarWidth-
(pos.left+$element.prop('offsetWidth'))+'px';}
if(!appendToBody){var appendOffset=$position.offset(appendTo);css.top=pos.top-appendOffset.top+'px';if(!rightalign){css.left=pos.left-appendOffset.left+'px';}else{css.right=window.innerWidth-
(pos.left-appendOffset.left+$element.prop('offsetWidth'))+'px';}}
self.dropdownMenu.css(css);}
var openContainer=appendTo?appendTo:$element;var dropdownOpenClass=appendTo?appendToOpenClass:openClass;var hasOpenClass=openContainer.hasClass(dropdownOpenClass);var isOnlyOpen=uibDropdownService.isOnlyOpen($scope,appendTo);if(hasOpenClass===!isOpen){var toggleClass;if(appendTo){toggleClass=!isOnlyOpen?'addClass':'removeClass';}else{toggleClass=isOpen?'addClass':'removeClass';}
$animate[toggleClass](openContainer,dropdownOpenClass).then(function(){if(angular.isDefined(isOpen)&&isOpen!==wasOpen){toggleInvoker($scope,{open:!!isOpen});}});}
if(isOpen){if(self.dropdownMenuTemplateUrl){$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){templateScope=scope.$new();$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl;$document.on('keydown',uibDropdownService.keybindFilter);});});}else{$document.on('keydown',uibDropdownService.keybindFilter);}
scope.focusToggleElement();uibDropdownService.open(scope,$element,appendTo);}else{uibDropdownService.close(scope,$element,appendTo);if(self.dropdownMenuTemplateUrl){if(templateScope){templateScope.$destroy();}
var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl;}
self.selectedOption=null;}
if(angular.isFunction(setIsOpen)){setIsOpen($scope,isOpen);}});}]).directive('uibDropdown',function(){return{controller:'UibDropdownController',link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init();}};}).directive('uibDropdownMenu',function(){return{restrict:'A',require:'?^uibDropdown',link:function(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl||angular.isDefined(attrs.dropdownNested)){return;}
element.addClass('dropdown-menu');var tplUrl=attrs.templateUrl;if(tplUrl){dropdownCtrl.dropdownMenuTemplateUrl=tplUrl;}
if(!dropdownCtrl.dropdownMenu){dropdownCtrl.dropdownMenu=element;}}};}).directive('uibDropdownToggle',function(){return{require:'?^uibDropdown',link:function(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl){return;}
element.addClass('dropdown-toggle');dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault();if(!element.hasClass('disabled')&&!attrs.disabled){scope.$apply(function(){dropdownCtrl.toggle();});}};element.on('click',toggleDropdown);element.attr({'aria-haspopup':true,'aria-expanded':false});scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr('aria-expanded',!!isOpen);});scope.$on('$destroy',function(){element.off('click',toggleDropdown);});}};});angular.module('ui.bootstrap.stackedMap',[]).factory('$$stackedMap',function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value});},get:function(key){for(var i=0;i<stack.length;i++){if(key===stack[i].key){return stack[i];}}},keys:function(){var keys=[];for(var i=0;i<stack.length;i++){keys.push(stack[i].key);}
return keys;},top:function(){return stack[stack.length-1];},remove:function(key){var idx=-1;for(var i=0;i<stack.length;i++){if(key===stack[i].key){idx=i;break;}}
return stack.splice(idx,1)[0];},removeTop:function(){return stack.pop();},length:function(){return stack.length;}};}};});angular.module('ui.bootstrap.modal',['ui.bootstrap.multiMap','ui.bootstrap.stackedMap','ui.bootstrap.position']).provider('$uibResolve',function(){var resolve=this;this.resolver=null;this.setResolver=function(resolver){this.resolver=resolver;};this.$get=['$injector','$q',function($injector,$q){var resolver=resolve.resolver?$injector.get(resolve.resolver):null;return{resolve:function(invocables,locals,parent,self){if(resolver){return resolver.resolve(invocables,locals,parent,self);}
var promises=[];angular.forEach(invocables,function(value){if(angular.isFunction(value)||angular.isArray(value)){promises.push($q.resolve($injector.invoke(value)));}else if(angular.isString(value)){promises.push($q.resolve($injector.get(value)));}else{promises.push($q.resolve(value));}});return $q.all(promises).then(function(resolves){var resolveObj={};var resolveIter=0;angular.forEach(invocables,function(value,key){resolveObj[key]=resolves[resolveIter++];});return resolveObj;});}};}];}).directive('uibModalBackdrop',['$animate','$injector','$uibModalStack',function($animate,$injector,$modalStack){return{restrict:'A',compile:function(tElement,tAttrs){tElement.addClass(tAttrs.backdropClass);return linkFn;}};function linkFn(scope,element,attrs){if(attrs.modalInClass){$animate.addClass(element,attrs.modalInClass);scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();if(scope.modalOptions.animation){$animate.removeClass(element,attrs.modalInClass).then(done);}else{done();}});}}}]).directive('uibModalWindow',['$uibModalStack','$q','$animateCss','$document',function($modalStack,$q,$animateCss,$document){return{scope:{index:'@'},restrict:'A',transclude:true,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||'uib/template/modal/window.html';},link:function(scope,element,attrs){element.addClass(attrs.windowTopClass||'');scope.size=attrs.size;scope.close=function(evt){var modal=$modalStack.getTop();if(modal&&modal.value.backdrop&&modal.value.backdrop!=='static'&&evt.target===evt.currentTarget){evt.preventDefault();evt.stopPropagation();$modalStack.dismiss(modal.key,'backdrop click');}};element.on('click',scope.close);scope.$isRendered=true;var modalRenderDeferObj=$q.defer();scope.$$postDigest(function(){modalRenderDeferObj.resolve();});modalRenderDeferObj.promise.then(function(){var animationPromise=null;if(attrs.modalInClass){animationPromise=$animateCss(element,{addClass:attrs.modalInClass}).start();scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animateCss(element,{removeClass:attrs.modalInClass}).start().then(done);});}
$q.when(animationPromise).then(function(){var modal=$modalStack.getTop();if(modal){$modalStack.modalRendered(modal.key);}
if(!($document[0].activeElement&&element[0].contains($document[0].activeElement))){var inputWithAutofocus=element[0].querySelector('[autofocus]');if(inputWithAutofocus){inputWithAutofocus.focus();}else{element[0].focus();}}});});}};}]).directive('uibModalAnimationClass',function(){return{compile:function(tElement,tAttrs){if(tAttrs.modalAnimation){tElement.addClass(tAttrs.uibModalAnimationClass);}}};}).directive('uibModalTransclude',['$animate',function($animate){return{link:function(scope,element,attrs,controller,transclude){transclude(scope.$parent,function(clone){element.empty();$animate.enter(clone,element);});}};}]).factory('$uibModalStack',['$animate','$animateCss','$document','$compile','$rootScope','$q','$$multiMap','$$stackedMap','$uibPosition',function($animate,$animateCss,$document,$compile,$rootScope,$q,$$multiMap,$$stackedMap,$uibPosition){var OPENED_MODAL_CLASS='modal-open';var backdropDomEl,backdropScope;var openedWindows=$$stackedMap.createNew();var openedClasses=$$multiMap.createNew();var $modalStack={NOW_CLOSING_EVENT:'modal.stack.now-closing'};var topModalIndex=0;var previousTopOpenedModal=null;var ARIA_HIDDEN_ATTRIBUTE_NAME='data-bootstrap-modal-aria-hidden-count';var tabbableSelector='a[href], area[href], input:not([disabled]):not([tabindex=\'-1\']), '+'button:not([disabled]):not([tabindex=\'-1\']),select:not([disabled]):not([tabindex=\'-1\']), textarea:not([disabled]):not([tabindex=\'-1\']), '+'iframe, object, embed, *[tabindex]:not([tabindex=\'-1\']), *[contenteditable=true]';var scrollbarPadding;var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name){var separator='-';return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});}
function isVisible(element){return!!(element.offsetWidth||element.offsetHeight||element.getClientRects().length);}
function backdropIndex(){var topBackdropIndex=-1;var opened=openedWindows.keys();for(var i=0;i<opened.length;i++){if(openedWindows.get(opened[i]).value.backdrop){topBackdropIndex=i;}}
if(topBackdropIndex>-1&&topBackdropIndex<topModalIndex){topBackdropIndex=topModalIndex;}
return topBackdropIndex;}
$rootScope.$watch(backdropIndex,function(newBackdropIndex){if(backdropScope){backdropScope.index=newBackdropIndex;}});function removeModalWindow(modalInstance,elementToReceiveFocus){var modalWindow=openedWindows.get(modalInstance).value;var appendToElement=modalWindow.appendTo;openedWindows.remove(modalInstance);previousTopOpenedModal=openedWindows.top();if(previousTopOpenedModal){topModalIndex=parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'),10);}
removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){var modalBodyClass=modalWindow.openedClass||OPENED_MODAL_CLASS;openedClasses.remove(modalBodyClass,modalInstance);var areAnyOpen=openedClasses.hasKey(modalBodyClass);appendToElement.toggleClass(modalBodyClass,areAnyOpen);if(!areAnyOpen&&scrollbarPadding&&scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){if(scrollbarPadding.originalRight){appendToElement.css({paddingRight:scrollbarPadding.originalRight+'px'});}else{appendToElement.css({paddingRight:''});}
scrollbarPadding=null;}
toggleTopWindowClass(true);},modalWindow.closedDeferred);checkRemoveBackdrop();if(elementToReceiveFocus&&elementToReceiveFocus.focus){elementToReceiveFocus.focus();}else if(appendToElement.focus){appendToElement.focus();}}
function toggleTopWindowClass(toggleSwitch){var modalWindow;if(openedWindows.length()>0){modalWindow=openedWindows.top().value;modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass||'',toggleSwitch);}}
function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()===-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){backdropScopeRef=null;});backdropDomEl=undefined;backdropScope=undefined;}}
function removeAfterAnimate(domEl,scope,done,closedDeferred){var asyncDeferred;var asyncPromise=null;var setIsAsync=function(){if(!asyncDeferred){asyncDeferred=$q.defer();asyncPromise=asyncDeferred.promise;}
return function asyncDone(){asyncDeferred.resolve();};};scope.$broadcast($modalStack.NOW_CLOSING_EVENT,setIsAsync);return $q.when(asyncPromise).then(afterAnimating);function afterAnimating(){if(afterAnimating.done){return;}
afterAnimating.done=true;$animate.leave(domEl).then(function(){if(done){done();}
domEl.remove();if(closedDeferred){closedDeferred.resolve();}});scope.$destroy();}}
$document.on('keydown',keydownListener);$rootScope.$on('$destroy',function(){$document.off('keydown',keydownListener);});function keydownListener(evt){if(evt.isDefaultPrevented()){return evt;}
var modal=openedWindows.top();if(modal){switch(evt.which){case 27:{if(modal.value.keyboard){evt.preventDefault();$rootScope.$apply(function(){$modalStack.dismiss(modal.key,'escape key press');});}
break;}
case 9:{var list=$modalStack.loadFocusElementList(modal);var focusChanged=false;if(evt.shiftKey){if($modalStack.isFocusInFirstItem(evt,list)||$modalStack.isModalFocused(evt,modal)){focusChanged=$modalStack.focusLastFocusableElement(list);}}else{if($modalStack.isFocusInLastItem(evt,list)){focusChanged=$modalStack.focusFirstFocusableElement(list);}}
if(focusChanged){evt.preventDefault();evt.stopPropagation();}
break;}}}}
$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement,modalBodyClass=modal.openedClass||OPENED_MODAL_CLASS;toggleTopWindowClass(false);previousTopOpenedModal=openedWindows.top();openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,closedDeferred:modal.closedDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard,openedClass:modal.openedClass,windowTopClass:modal.windowTopClass,animation:modal.animation,appendTo:modal.appendTo});openedClasses.put(modalBodyClass,modalInstance);var appendToElement=modal.appendTo,currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(true);backdropScope.modalOptions=modal;backdropScope.index=currBackdropIndex;backdropDomEl=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');backdropDomEl.attr({'class':'modal-backdrop','ng-style':'{\'z-index\': 1040 + (index && 1 || 0) + index*10}','uib-modal-animation-class':'fade','modal-in-class':'in'});if(modal.backdropClass){backdropDomEl.addClass(modal.backdropClass);}
if(modal.animation){backdropDomEl.attr('modal-animation','true');}
$compile(backdropDomEl)(backdropScope);$animate.enter(backdropDomEl,appendToElement);if($uibPosition.isScrollable(appendToElement)){scrollbarPadding=$uibPosition.scrollbarPadding(appendToElement);if(scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){appendToElement.css({paddingRight:scrollbarPadding.right+'px'});}}}
var content;if(modal.component){content=document.createElement(snake_case(modal.component.name));content=angular.element(content);content.attr({resolve:'$resolve','modal-instance':'$uibModalInstance',close:'$close($value)',dismiss:'$dismiss($value)'});}else{content=modal.content;}
topModalIndex=previousTopOpenedModal?parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'),10)+1:0;var angularDomEl=angular.element('<div uib-modal-window="modal-window"></div>');angularDomEl.attr({'class':'modal','template-url':modal.windowTemplateUrl,'window-top-class':modal.windowTopClass,'role':'dialog','aria-labelledby':modal.ariaLabelledBy,'aria-describedby':modal.ariaDescribedBy,'size':modal.size,'index':topModalIndex,'animate':'animate','ng-style':'{\'z-index\': 1050 + $$topModalIndex*10, display: \'block\'}','tabindex':-1,'uib-modal-animation-class':'fade','modal-in-class':'in'}).append(content);if(modal.windowClass){angularDomEl.addClass(modal.windowClass);}
if(modal.animation){angularDomEl.attr('modal-animation','true');}
appendToElement.addClass(modalBodyClass);if(modal.scope){modal.scope.$$topModalIndex=topModalIndex;}
$animate.enter($compile(angularDomEl)(modal.scope),appendToElement);openedWindows.top().value.modalDomEl=angularDomEl;openedWindows.top().value.modalOpener=modalOpener;applyAriaHidden(angularDomEl);function applyAriaHidden(el){if(!el||el[0].tagName==='BODY'){return;}
getSiblings(el).forEach(function(sibling){var elemIsAlreadyHidden=sibling.getAttribute('aria-hidden')==='true',ariaHiddenCount=parseInt(sibling.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME),10);if(!ariaHiddenCount){ariaHiddenCount=elemIsAlreadyHidden?1:0;}
sibling.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME,ariaHiddenCount+1);sibling.setAttribute('aria-hidden','true');});return applyAriaHidden(el.parent());function getSiblings(el){var children=el.parent()?el.parent().children():[];return Array.prototype.filter.call(children,function(child){return child!==el[0];});}}};function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast('modal.closing',resultOrReason,closing).defaultPrevented;}
function unhideBackgroundElements(){Array.prototype.forEach.call(document.querySelectorAll('['+ARIA_HIDDEN_ATTRIBUTE_NAME+']'),function(hiddenEl){var ariaHiddenCount=parseInt(hiddenEl.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME),10),newHiddenCount=ariaHiddenCount-1;hiddenEl.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME,newHiddenCount);if(!newHiddenCount){hiddenEl.removeAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME);hiddenEl.removeAttribute('aria-hidden');}});}
$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);unhideBackgroundElements();if(modalWindow&&broadcastClosing(modalWindow,result,true)){modalWindow.value.modalScope.$$uibDestructionScheduled=true;modalWindow.value.deferred.resolve(result);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true;}
return!modalWindow;};$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);unhideBackgroundElements();if(modalWindow&&broadcastClosing(modalWindow,reason,false)){modalWindow.value.modalScope.$$uibDestructionScheduled=true;modalWindow.value.deferred.reject(reason);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true;}
return!modalWindow;};$modalStack.dismissAll=function(reason){var topModal=this.getTop();while(topModal&&this.dismiss(topModal.key,reason)){topModal=this.getTop();}};$modalStack.getTop=function(){return openedWindows.top();};$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);if(modalWindow){modalWindow.value.renderDeferred.resolve();}};$modalStack.focusFirstFocusableElement=function(list){if(list.length>0){list[0].focus();return true;}
return false;};$modalStack.focusLastFocusableElement=function(list){if(list.length>0){list[list.length-1].focus();return true;}
return false;};$modalStack.isModalFocused=function(evt,modalWindow){if(evt&&modalWindow){var modalDomEl=modalWindow.value.modalDomEl;if(modalDomEl&&modalDomEl.length){return(evt.target||evt.srcElement)===modalDomEl[0];}}
return false;};$modalStack.isFocusInFirstItem=function(evt,list){if(list.length>0){return(evt.target||evt.srcElement)===list[0];}
return false;};$modalStack.isFocusInLastItem=function(evt,list){if(list.length>0){return(evt.target||evt.srcElement)===list[list.length-1];}
return false;};$modalStack.loadFocusElementList=function(modalWindow){if(modalWindow){var modalDomE1=modalWindow.value.modalDomEl;if(modalDomE1&&modalDomE1.length){var elements=modalDomE1[0].querySelectorAll(tabbableSelector);return elements?Array.prototype.filter.call(elements,function(element){return isVisible(element);}):elements;}}};return $modalStack;}]).provider('$uibModal',function(){var $modalProvider={options:{animation:true,backdrop:true,keyboard:true},$get:['$rootScope','$q','$document','$templateRequest','$controller','$uibResolve','$uibModalStack',function($rootScope,$q,$document,$templateRequest,$controller,$uibResolve,$modalStack){var $modal={};function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl);}
var promiseChain=null;$modal.getPromiseChain=function(){return promiseChain;};$modal.open=function(modalOptions){var modalResultDeferred=$q.defer();var modalOpenedDeferred=$q.defer();var modalClosedDeferred=$q.defer();var modalRenderDeferred=$q.defer();var modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,closed:modalClosedDeferred.promise,rendered:modalRenderDeferred.promise,close:function(result){return $modalStack.close(modalInstance,result);},dismiss:function(reason){return $modalStack.dismiss(modalInstance,reason);}};modalOptions=angular.extend({},$modalProvider.options,modalOptions);modalOptions.resolve=modalOptions.resolve||{};modalOptions.appendTo=modalOptions.appendTo||$document.find('body').eq(0);if(!modalOptions.appendTo.length){throw new Error('appendTo element not found. Make sure that the element passed is in DOM.');}
if(!modalOptions.component&&!modalOptions.template&&!modalOptions.templateUrl){throw new Error('One of component or template or templateUrl options is required.');}
var templateAndResolvePromise;if(modalOptions.component){templateAndResolvePromise=$q.when($uibResolve.resolve(modalOptions.resolve,{},null,null));}else{templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions),$uibResolve.resolve(modalOptions.resolve,{},null,null)]);}
function resolveWithTemplate(){return templateAndResolvePromise;}
var samePromise;samePromise=promiseChain=$q.all([promiseChain]).then(resolveWithTemplate,resolveWithTemplate).then(function resolveSuccess(tplAndVars){var providedScope=modalOptions.scope||$rootScope;var modalScope=providedScope.$new();modalScope.$close=modalInstance.close;modalScope.$dismiss=modalInstance.dismiss;modalScope.$on('$destroy',function(){if(!modalScope.$$uibDestructionScheduled){modalScope.$dismiss('$uibUnscheduledDestruction');}});var modal={scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,closedDeferred:modalClosedDeferred,animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowTopClass:modalOptions.windowTopClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,ariaLabelledBy:modalOptions.ariaLabelledBy,ariaDescribedBy:modalOptions.ariaDescribedBy,size:modalOptions.size,openedClass:modalOptions.openedClass,appendTo:modalOptions.appendTo};var component={};var ctrlInstance,ctrlInstantiate,ctrlLocals={};if(modalOptions.component){constructLocals(component,false,true,false);component.name=modalOptions.component;modal.component=component;}else if(modalOptions.controller){constructLocals(ctrlLocals,true,false,true);ctrlInstantiate=$controller(modalOptions.controller,ctrlLocals,true,modalOptions.controllerAs);if(modalOptions.controllerAs&&modalOptions.bindToController){ctrlInstance=ctrlInstantiate.instance;ctrlInstance.$close=modalScope.$close;ctrlInstance.$dismiss=modalScope.$dismiss;angular.extend(ctrlInstance,{$resolve:ctrlLocals.$scope.$resolve},providedScope);}
ctrlInstance=ctrlInstantiate();if(angular.isFunction(ctrlInstance.$onInit)){ctrlInstance.$onInit();}}
if(!modalOptions.component){modal.content=tplAndVars[0];}
$modalStack.open(modalInstance,modal);modalOpenedDeferred.resolve(true);function constructLocals(obj,template,instanceOnScope,injectable){obj.$scope=modalScope;obj.$scope.$resolve={};if(instanceOnScope){obj.$scope.$uibModalInstance=modalInstance;}else{obj.$uibModalInstance=modalInstance;}
var resolves=template?tplAndVars[1]:tplAndVars;angular.forEach(resolves,function(value,key){if(injectable){obj[key]=value;}
obj.$scope.$resolve[key]=value;});}},function resolveError(reason){modalOpenedDeferred.reject(reason);modalResultDeferred.reject(reason);})['finally'](function(){if(promiseChain===samePromise){promiseChain=null;}});return modalInstance;};return $modal;}]};return $modalProvider;});angular.module('ui.bootstrap.paging',[]).factory('uibPaging',['$parse',function($parse){return{create:function(ctrl,$scope,$attrs){ctrl.setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;ctrl.ngModelCtrl={$setViewValue:angular.noop};ctrl._watchers=[];ctrl.init=function(ngModelCtrl,config){ctrl.ngModelCtrl=ngModelCtrl;ctrl.config=config;ngModelCtrl.$render=function(){ctrl.render();};if($attrs.itemsPerPage){ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage,function(value){ctrl.itemsPerPage=parseInt(value,10);$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage();}));}else{ctrl.itemsPerPage=config.itemsPerPage;}
$scope.$watch('totalItems',function(newTotal,oldTotal){if(angular.isDefined(newTotal)||newTotal!==oldTotal){$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage();}});};ctrl.calculateTotalPages=function(){var totalPages=ctrl.itemsPerPage<1?1:Math.ceil($scope.totalItems/ctrl.itemsPerPage);return Math.max(totalPages||0,1);};ctrl.render=function(){$scope.page=parseInt(ctrl.ngModelCtrl.$viewValue,10)||1;};$scope.selectPage=function(page,evt){if(evt){evt.preventDefault();}
var clickAllowed=!$scope.ngDisabled||!evt;if(clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages){if(evt&&evt.target){evt.target.blur();}
ctrl.ngModelCtrl.$setViewValue(page);ctrl.ngModelCtrl.$render();}};$scope.getText=function(key){return $scope[key+'Text']||ctrl.config[key+'Text'];};$scope.noPrevious=function(){return $scope.page===1;};$scope.noNext=function(){return $scope.page===$scope.totalPages;};ctrl.updatePage=function(){ctrl.setNumPages($scope.$parent,$scope.totalPages);if($scope.page>$scope.totalPages){$scope.selectPage($scope.totalPages);}else{ctrl.ngModelCtrl.$render();}};$scope.$on('$destroy',function(){while(ctrl._watchers.length){ctrl._watchers.shift()();}});}};}]);angular.module('ui.bootstrap.pager',['ui.bootstrap.paging','ui.bootstrap.tabindex']).controller('UibPagerController',['$scope','$attrs','uibPaging','uibPagerConfig',function($scope,$attrs,uibPaging,uibPagerConfig){$scope.align=angular.isDefined($attrs.align)?$scope.$parent.$eval($attrs.align):uibPagerConfig.align;uibPaging.create(this,$scope,$attrs);}]).constant('uibPagerConfig',{itemsPerPage:10,previousText:'« Previous',nextText:'Next »',align:true}).directive('uibPager',['uibPagerConfig',function(uibPagerConfig){return{scope:{totalItems:'=',previousText:'@',nextText:'@',ngDisabled:'='},require:['uibPager','?ngModel'],restrict:'A',controller:'UibPagerController',controllerAs:'pager',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/pager/pager.html';},link:function(scope,element,attrs,ctrls){element.addClass('pager');var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return;}
paginationCtrl.init(ngModelCtrl,uibPagerConfig);}};}]);angular.module('ui.bootstrap.pagination',['ui.bootstrap.paging','ui.bootstrap.tabindex']).controller('UibPaginationController',['$scope','$attrs','$parse','uibPaging','uibPaginationConfig',function($scope,$attrs,$parse,uibPaging,uibPaginationConfig){var ctrl=this;var maxSize=angular.isDefined($attrs.maxSize)?$scope.$parent.$eval($attrs.maxSize):uibPaginationConfig.maxSize,rotate=angular.isDefined($attrs.rotate)?$scope.$parent.$eval($attrs.rotate):uibPaginationConfig.rotate,forceEllipses=angular.isDefined($attrs.forceEllipses)?$scope.$parent.$eval($attrs.forceEllipses):uibPaginationConfig.forceEllipses,boundaryLinkNumbers=angular.isDefined($attrs.boundaryLinkNumbers)?$scope.$parent.$eval($attrs.boundaryLinkNumbers):uibPaginationConfig.boundaryLinkNumbers,pageLabel=angular.isDefined($attrs.pageLabel)?function(idx){return $scope.$parent.$eval($attrs.pageLabel,{$page:idx});}:angular.identity;$scope.boundaryLinks=angular.isDefined($attrs.boundaryLinks)?$scope.$parent.$eval($attrs.boundaryLinks):uibPaginationConfig.boundaryLinks;$scope.directionLinks=angular.isDefined($attrs.directionLinks)?$scope.$parent.$eval($attrs.directionLinks):uibPaginationConfig.directionLinks;$attrs.$set('role','menu');uibPaging.create(this,$scope,$attrs);if($attrs.maxSize){ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize),function(value){maxSize=parseInt(value,10);ctrl.render();}));}
function makePage(number,text,isActive){return{number:number,text:text,active:isActive};}
function getPages(currentPage,totalPages){var pages=[];var startPage=1,endPage=totalPages;var isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;if(isMaxSized){if(rotate){startPage=Math.max(currentPage-Math.floor(maxSize/2),1);endPage=startPage+maxSize-1;if(endPage>totalPages){endPage=totalPages;startPage=endPage-maxSize+1;}}else{startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1;endPage=Math.min(startPage+maxSize-1,totalPages);}}
for(var number=startPage;number<=endPage;number++){var page=makePage(number,pageLabel(number),number===currentPage);pages.push(page);}
if(isMaxSized&&maxSize>0&&(!rotate||forceEllipses||boundaryLinkNumbers)){if(startPage>1){if(!boundaryLinkNumbers||startPage>3){var previousPageSet=makePage(startPage-1,'...',false);pages.unshift(previousPageSet);}
if(boundaryLinkNumbers){if(startPage===3){var secondPageLink=makePage(2,'2',false);pages.unshift(secondPageLink);}
var firstPageLink=makePage(1,'1',false);pages.unshift(firstPageLink);}}
if(endPage<totalPages){if(!boundaryLinkNumbers||endPage<totalPages-2){var nextPageSet=makePage(endPage+1,'...',false);pages.push(nextPageSet);}
if(boundaryLinkNumbers){if(endPage===totalPages-2){var secondToLastPageLink=makePage(totalPages-1,totalPages-1,false);pages.push(secondToLastPageLink);}
var lastPageLink=makePage(totalPages,totalPages,false);pages.push(lastPageLink);}}}
return pages;}
var originalRender=this.render;this.render=function(){originalRender();if($scope.page>0&&$scope.page<=$scope.totalPages){$scope.pages=getPages($scope.page,$scope.totalPages);}};}]).constant('uibPaginationConfig',{itemsPerPage:10,boundaryLinks:false,boundaryLinkNumbers:false,directionLinks:true,firstText:'First',previousText:'Previous',nextText:'Next',lastText:'Last',rotate:true,forceEllipses:false}).directive('uibPagination',['$parse','uibPaginationConfig',function($parse,uibPaginationConfig){return{scope:{totalItems:'=',firstText:'@',previousText:'@',nextText:'@',lastText:'@',ngDisabled:'='},require:['uibPagination','?ngModel'],restrict:'A',controller:'UibPaginationController',controllerAs:'pagination',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/pagination/pagination.html';},link:function(scope,element,attrs,ctrls){element.addClass('pagination');var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return;}
paginationCtrl.init(ngModelCtrl,uibPaginationConfig);}};}]);angular.module('ui.bootstrap.tooltip',['ui.bootstrap.position','ui.bootstrap.stackedMap']).provider('$uibTooltip',function(){var defaultOptions={placement:'top',placementClassPrefix:'',animation:true,popupDelay:0,popupCloseDelay:0,useContentExp:false};var triggerMap={'mouseenter':'mouseleave','click':'click','outsideClick':'outsideClick','focus':'blur','none':''};var globalOptions={};this.options=function(value){angular.extend(globalOptions,value);};this.setTriggers=function setTriggers(triggers){angular.extend(triggerMap,triggers);};function snake_case(name){var regexp=/[A-Z]/g;var separator='-';return name.replace(regexp,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});}
this.$get=['$window','$compile','$timeout','$document','$uibPosition','$interpolate','$rootScope','$parse','$$stackedMap',function($window,$compile,$timeout,$document,$position,$interpolate,$rootScope,$parse,$$stackedMap){var openedTooltips=$$stackedMap.createNew();$document.on('keyup',keypressListener);$rootScope.$on('$destroy',function(){$document.off('keyup',keypressListener);});function keypressListener(e){if(e.which===27){var last=openedTooltips.top();if(last){last.value.close();last=null;}}}
return function $tooltip(ttType,prefix,defaultTriggerShow,options){options=angular.extend({},defaultOptions,globalOptions,options);function getTriggers(trigger){var show=(trigger||options.trigger||defaultTriggerShow).split(' ');var hide=show.map(function(trigger){return triggerMap[trigger]||trigger;});return{show:show,hide:hide};}
var directiveName=snake_case(ttType);var startSym=$interpolate.startSymbol();var endSym=$interpolate.endSymbol();var template='<div '+directiveName+'-popup '+'uib-title="'+startSym+'title'+endSym+'" '+
(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+'content'+endSym+'" ')+'origin-scope="origScope" '+'class="uib-position-measure '+prefix+'" '+'tooltip-animation-class="fade"'+'uib-tooltip-classes '+'ng-class="{ in: isOpen }" '+'>'+'</div>';return{compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function link(scope,element,attrs,tooltipCtrl){var tooltip;var tooltipLinkedScope;var transitionTimeout;var showTimeout;var hideTimeout;var positionTimeout;var adjustmentTimeout;var appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:false;var triggers=getTriggers(undefined);var hasEnableExp=angular.isDefined(attrs[prefix+'Enable']);var ttScope=scope.$new(true);var repositionScheduled=false;var isOpenParse=angular.isDefined(attrs[prefix+'IsOpen'])?$parse(attrs[prefix+'IsOpen']):false;var contentParse=options.useContentExp?$parse(attrs[ttType]):false;var observers=[];var lastPlacement;var positionTooltip=function(){if(!tooltip||!tooltip.html()){return;}
if(!positionTimeout){positionTimeout=$timeout(function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);var initialHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop('offsetHeight');var elementPos=appendToBody?$position.offset(element):$position.position(element);tooltip.css({top:ttPosition.top+'px',left:ttPosition.left+'px'});var placementClasses=ttPosition.placement.split('-');if(!tooltip.hasClass(placementClasses[0])){tooltip.removeClass(lastPlacement.split('-')[0]);tooltip.addClass(placementClasses[0]);}
if(!tooltip.hasClass(options.placementClassPrefix+ttPosition.placement)){tooltip.removeClass(options.placementClassPrefix+lastPlacement);tooltip.addClass(options.placementClassPrefix+ttPosition.placement);}
adjustmentTimeout=$timeout(function(){var currentHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop('offsetHeight');var adjustment=$position.adjustTop(placementClasses,elementPos,initialHeight,currentHeight);if(adjustment){tooltip.css(adjustment);}
adjustmentTimeout=null;},0,false);if(tooltip.hasClass('uib-position-measure')){$position.positionArrow(tooltip,ttPosition.placement);tooltip.removeClass('uib-position-measure');}else if(lastPlacement!==ttPosition.placement){$position.positionArrow(tooltip,ttPosition.placement);}
lastPlacement=ttPosition.placement;positionTimeout=null;},0,false);}};ttScope.origScope=scope;ttScope.isOpen=false;function toggleTooltipBind(){if(!ttScope.isOpen){showTooltipBind();}else{hideTooltipBind();}}
function showTooltipBind(){if(hasEnableExp&&!scope.$eval(attrs[prefix+'Enable'])){return;}
cancelHide();prepareTooltip();if(ttScope.popupDelay){if(!showTimeout){showTimeout=$timeout(show,ttScope.popupDelay,false);}}else{show();}}
function hideTooltipBind(){cancelShow();if(ttScope.popupCloseDelay){if(!hideTimeout){hideTimeout=$timeout(hide,ttScope.popupCloseDelay,false);}}else{hide();}}
function show(){cancelShow();cancelHide();if(!ttScope.content){return angular.noop;}
createTooltip();ttScope.$evalAsync(function(){ttScope.isOpen=true;assignIsOpen(true);positionTooltip();});}
function cancelShow(){if(showTimeout){$timeout.cancel(showTimeout);showTimeout=null;}
if(positionTimeout){$timeout.cancel(positionTimeout);positionTimeout=null;}}
function hide(){if(!ttScope){return;}
ttScope.$evalAsync(function(){if(ttScope){ttScope.isOpen=false;assignIsOpen(false);if(ttScope.animation){if(!transitionTimeout){transitionTimeout=$timeout(removeTooltip,150,false);}}else{removeTooltip();}}});}
function cancelHide(){if(hideTimeout){$timeout.cancel(hideTimeout);hideTimeout=null;}
if(transitionTimeout){$timeout.cancel(transitionTimeout);transitionTimeout=null;}}
function createTooltip(){if(tooltip){return;}
tooltipLinkedScope=ttScope.$new();tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){if(appendToBody){$document.find('body').append(tooltip);}else{element.after(tooltip);}});openedTooltips.add(ttScope,{close:hide});prepObservers();}
function removeTooltip(){cancelShow();cancelHide();unregisterObservers();if(tooltip){tooltip.remove();tooltip=null;if(adjustmentTimeout){$timeout.cancel(adjustmentTimeout);}}
openedTooltips.remove(ttScope);if(tooltipLinkedScope){tooltipLinkedScope.$destroy();tooltipLinkedScope=null;}}
function prepareTooltip(){ttScope.title=attrs[prefix+'Title'];if(contentParse){ttScope.content=contentParse(scope);}else{ttScope.content=attrs[ttType];}
ttScope.popupClass=attrs[prefix+'Class'];ttScope.placement=angular.isDefined(attrs[prefix+'Placement'])?attrs[prefix+'Placement']:options.placement;var placement=$position.parsePlacement(ttScope.placement);lastPlacement=placement[1]?placement[0]+'-'+placement[1]:placement[0];var delay=parseInt(attrs[prefix+'PopupDelay'],10);var closeDelay=parseInt(attrs[prefix+'PopupCloseDelay'],10);ttScope.popupDelay=!isNaN(delay)?delay:options.popupDelay;ttScope.popupCloseDelay=!isNaN(closeDelay)?closeDelay:options.popupCloseDelay;}
function assignIsOpen(isOpen){if(isOpenParse&&angular.isFunction(isOpenParse.assign)){isOpenParse.assign(scope,isOpen);}}
ttScope.contentExp=function(){return ttScope.content;};attrs.$observe('disabled',function(val){if(val){cancelShow();}
if(val&&ttScope.isOpen){hide();}});if(isOpenParse){scope.$watch(isOpenParse,function(val){if(ttScope&&!val===ttScope.isOpen){toggleTooltipBind();}});}
function prepObservers(){observers.length=0;if(contentParse){observers.push(scope.$watch(contentParse,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide();}}));observers.push(tooltipLinkedScope.$watch(function(){if(!repositionScheduled){repositionScheduled=true;tooltipLinkedScope.$$postDigest(function(){repositionScheduled=false;if(ttScope&&ttScope.isOpen){positionTooltip();}});}}));}else{observers.push(attrs.$observe(ttType,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide();}else{positionTooltip();}}));}
observers.push(attrs.$observe(prefix+'Title',function(val){ttScope.title=val;if(ttScope.isOpen){positionTooltip();}}));observers.push(attrs.$observe(prefix+'Placement',function(val){ttScope.placement=val?val:options.placement;if(ttScope.isOpen){positionTooltip();}}));}
function unregisterObservers(){if(observers.length){angular.forEach(observers,function(observer){observer();});observers.length=0;}}
function bodyHideTooltipBind(e){if(!ttScope||!ttScope.isOpen||!tooltip){return;}
if(!element[0].contains(e.target)&&!tooltip[0].contains(e.target)){hideTooltipBind();}}
function hideOnEscapeKey(e){if(e.which===27){hideTooltipBind();}}
var unregisterTriggers=function(){triggers.show.forEach(function(trigger){if(trigger==='outsideClick'){element.off('click',toggleTooltipBind);}else{element.off(trigger,showTooltipBind);element.off(trigger,toggleTooltipBind);}
element.off('keypress',hideOnEscapeKey);});triggers.hide.forEach(function(trigger){if(trigger==='outsideClick'){$document.off('click',bodyHideTooltipBind);}else{element.off(trigger,hideTooltipBind);}});};function prepTriggers(){var showTriggers=[],hideTriggers=[];var val=scope.$eval(attrs[prefix+'Trigger']);unregisterTriggers();if(angular.isObject(val)){Object.keys(val).forEach(function(key){showTriggers.push(key);hideTriggers.push(val[key]);});triggers={show:showTriggers,hide:hideTriggers};}else{triggers=getTriggers(val);}
if(triggers.show!=='none'){triggers.show.forEach(function(trigger,idx){if(trigger==='outsideClick'){element.on('click',toggleTooltipBind);$document.on('click',bodyHideTooltipBind);}else if(trigger===triggers.hide[idx]){element.on(trigger,toggleTooltipBind);}else if(trigger){element.on(trigger,showTooltipBind);element.on(triggers.hide[idx],hideTooltipBind);}
element.on('keypress',hideOnEscapeKey);});}}
prepTriggers();var animation=scope.$eval(attrs[prefix+'Animation']);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal;var appendKey=prefix+'AppendToBody';if(appendKey in attrs&&attrs[appendKey]===undefined){appendToBodyVal=true;}else{appendToBodyVal=scope.$eval(attrs[appendKey]);}
appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody;scope.$on('$destroy',function onDestroyTooltip(){unregisterTriggers();removeTooltip();ttScope=null;});};}};};}];}).directive('uibTooltipTemplateTransclude',['$animate','$sce','$compile','$templateRequest',function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope);var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null;}
if(currentScope){currentScope.$destroy();currentScope=null;}
if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null;});previousElement=currentElement;currentElement=null;}};scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(thisChangeId!==changeCounter){return;}
var newScope=origScope.$new();var template=response;var clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,elem);});currentScope=newScope;currentElement=clone;currentScope.$emit('$includeContentLoaded',src);},function(){if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit('$includeContentError',src);}});scope.$emit('$includeContentRequested',src);}else{cleanupLastIncludeContent();}});scope.$on('$destroy',cleanupLastIncludeContent);}};}]).directive('uibTooltipClasses',['$uibPosition',function($uibPosition){return{restrict:'A',link:function(scope,element,attrs){if(scope.placement){var position=$uibPosition.parsePlacement(scope.placement);element.addClass(position[0]);}
if(scope.popupClass){element.addClass(scope.popupClass);}
if(scope.animation){element.addClass(attrs.tooltipAnimationClass);}}};}]).directive('uibTooltipPopup',function(){return{restrict:'A',scope:{content:'@'},templateUrl:'uib/template/tooltip/tooltip-popup.html'};}).directive('uibTooltip',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibTooltip','tooltip','mouseenter');}]).directive('uibTooltipTemplatePopup',function(){return{restrict:'A',scope:{contentExp:'&',originScope:'&'},templateUrl:'uib/template/tooltip/tooltip-template-popup.html'};}).directive('uibTooltipTemplate',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibTooltipTemplate','tooltip','mouseenter',{useContentExp:true});}]).directive('uibTooltipHtmlPopup',function(){return{restrict:'A',scope:{contentExp:'&'},templateUrl:'uib/template/tooltip/tooltip-html-popup.html'};}).directive('uibTooltipHtml',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibTooltipHtml','tooltip','mouseenter',{useContentExp:true});}]);angular.module('ui.bootstrap.popover',['ui.bootstrap.tooltip']).directive('uibPopoverTemplatePopup',function(){return{restrict:'A',scope:{uibTitle:'@',contentExp:'&',originScope:'&'},templateUrl:'uib/template/popover/popover-template.html'};}).directive('uibPopoverTemplate',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibPopoverTemplate','popover','click',{useContentExp:true});}]).directive('uibPopoverHtmlPopup',function(){return{restrict:'A',scope:{contentExp:'&',uibTitle:'@'},templateUrl:'uib/template/popover/popover-html.html'};}).directive('uibPopoverHtml',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibPopoverHtml','popover','click',{useContentExp:true});}]).directive('uibPopoverPopup',function(){return{restrict:'A',scope:{uibTitle:'@',content:'@'},templateUrl:'uib/template/popover/popover.html'};}).directive('uibPopover',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibPopover','popover','click');}]);angular.module('ui.bootstrap.progressbar',[]).constant('uibProgressConfig',{animate:true,max:100}).controller('UibProgressController',['$scope','$attrs','uibProgressConfig',function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[];$scope.max=getMaxOrDefault();this.addBar=function(bar,element,attrs){if(!animate){element.css({'transition':'none'});}
this.bars.push(bar);bar.max=getMaxOrDefault();bar.title=attrs&&angular.isDefined(attrs.title)?attrs.title:'progressbar';bar.$watch('value',function(value){bar.recalculatePercentage();});bar.recalculatePercentage=function(){var totalPercentage=self.bars.reduce(function(total,bar){bar.percent=+(100*bar.value/bar.max).toFixed(2);return total+bar.percent;},0);if(totalPercentage>100){bar.percent-=totalPercentage-100;}};bar.$on('$destroy',function(){element=null;self.removeBar(bar);});};this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1);this.bars.forEach(function(bar){bar.recalculatePercentage();});};$scope.$watch('maxParam',function(maxParam){self.bars.forEach(function(bar){bar.max=getMaxOrDefault();bar.recalculatePercentage();});});function getMaxOrDefault(){return angular.isDefined($scope.maxParam)?$scope.maxParam:progressConfig.max;}}]).directive('uibProgress',function(){return{replace:true,transclude:true,controller:'UibProgressController',require:'uibProgress',scope:{maxParam:'=?max'},templateUrl:'uib/template/progressbar/progress.html'};}).directive('uibBar',function(){return{replace:true,transclude:true,require:'^uibProgress',scope:{value:'=',type:'@'},templateUrl:'uib/template/progressbar/bar.html',link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element,attrs);}};}).directive('uibProgressbar',function(){return{replace:true,transclude:true,controller:'UibProgressController',scope:{value:'=',maxParam:'=?max',type:'@'},templateUrl:'uib/template/progressbar/progressbar.html',link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]),{title:attrs.title});}};});angular.module('ui.bootstrap.rating',[]).constant('uibRatingConfig',{max:5,stateOn:null,stateOff:null,enableReset:true,titles:['one','two','three','four','five']}).controller('UibRatingController',['$scope','$attrs','uibRatingConfig',function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop},self=this;this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.push(function(value){if(angular.isNumber(value)&&value<<0!==value){value=Math.round(value);}
return value;});this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn;this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;this.enableReset=angular.isDefined($attrs.enableReset)?$scope.$parent.$eval($attrs.enableReset):ratingConfig.enableReset;var tmpTitles=angular.isDefined($attrs.titles)?$scope.$parent.$eval($attrs.titles):ratingConfig.titles;this.titles=angular.isArray(tmpTitles)&&tmpTitles.length>0?tmpTitles:ratingConfig.titles;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates);};this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++){states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(i)},states[i]);}
return states;};this.getTitle=function(index){if(index>=this.titles.length){return index+1;}
return this.titles[index];};$scope.rate=function(value){if(!$scope.readonly&&value>=0&&value<=$scope.range.length){var newViewValue=self.enableReset&&ngModelCtrl.$viewValue===value?0:value;ngModelCtrl.$setViewValue(newViewValue);ngModelCtrl.$render();}};$scope.enter=function(value){if(!$scope.readonly){$scope.value=value;}
$scope.onHover({value:value});};$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue;$scope.onLeave();};$scope.onKeydown=function(evt){if(/(37|38|39|40)/.test(evt.which)){evt.preventDefault();evt.stopPropagation();$scope.rate($scope.value+(evt.which===38||evt.which===39?1:-1));}};this.render=function(){$scope.value=ngModelCtrl.$viewValue;$scope.title=self.getTitle($scope.value-1);};}]).directive('uibRating',function(){return{require:['uibRating','ngModel'],restrict:'A',scope:{readonly:'=?readOnly',onHover:'&',onLeave:'&'},controller:'UibRatingController',templateUrl:'uib/template/rating/rating.html',link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl);}};});angular.module('ui.bootstrap.tabs',[]).controller('UibTabsetController',['$scope',function($scope){var ctrl=this,oldIndex;ctrl.tabs=[];ctrl.select=function(index,evt){if(!destroyed){var previousIndex=findTabIndex(oldIndex);var previousSelected=ctrl.tabs[previousIndex];if(previousSelected){previousSelected.tab.onDeselect({$event:evt,$selectedIndex:index});if(evt&&evt.isDefaultPrevented()){return;}
previousSelected.tab.active=false;}
var selected=ctrl.tabs[index];if(selected){selected.tab.onSelect({$event:evt});selected.tab.active=true;ctrl.active=selected.index;oldIndex=selected.index;}else if(!selected&&angular.isDefined(oldIndex)){ctrl.active=null;oldIndex=null;}}};ctrl.addTab=function addTab(tab){ctrl.tabs.push({tab:tab,index:tab.index});ctrl.tabs.sort(function(t1,t2){if(t1.index>t2.index){return 1;}
if(t1.index<t2.index){return-1;}
return 0;});if(tab.index===ctrl.active||!angular.isDefined(ctrl.active)&&ctrl.tabs.length===1){var newActiveIndex=findTabIndex(tab.index);ctrl.select(newActiveIndex);}};ctrl.removeTab=function removeTab(tab){var index;for(var i=0;i<ctrl.tabs.length;i++){if(ctrl.tabs[i].tab===tab){index=i;break;}}
if(ctrl.tabs[index].index===ctrl.active){var newActiveTabIndex=index===ctrl.tabs.length-1?index-1:index+1%ctrl.tabs.length;ctrl.select(newActiveTabIndex);}
ctrl.tabs.splice(index,1);};$scope.$watch('tabset.active',function(val){if(angular.isDefined(val)&&val!==oldIndex){ctrl.select(findTabIndex(val));}});var destroyed;$scope.$on('$destroy',function(){destroyed=true;});function findTabIndex(index){for(var i=0;i<ctrl.tabs.length;i++){if(ctrl.tabs[i].index===index){return i;}}}}]).directive('uibTabset',function(){return{transclude:true,replace:true,scope:{},bindToController:{active:'=?',type:'@'},controller:'UibTabsetController',controllerAs:'tabset',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/tabs/tabset.html';},link:function(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):false;scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):false;}};}).directive('uibTab',['$parse',function($parse){return{require:'^uibTabset',replace:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/tabs/tab.html';},transclude:true,scope:{heading:'@',index:'=?',classes:'@?',onSelect:'&select',onDeselect:'&deselect'},controller:function(){},controllerAs:'tab',link:function(scope,elm,attrs,tabsetCtrl,transclude){scope.disabled=false;if(attrs.disable){scope.$parent.$watch($parse(attrs.disable),function(value){scope.disabled=!!value;});}
if(angular.isUndefined(attrs.index)){if(tabsetCtrl.tabs&&tabsetCtrl.tabs.length){scope.index=Math.max.apply(null,tabsetCtrl.tabs.map(function(t){return t.index;}))+1;}else{scope.index=0;}}
if(angular.isUndefined(attrs.classes)){scope.classes='';}
scope.select=function(evt){if(!scope.disabled){var index;for(var i=0;i<tabsetCtrl.tabs.length;i++){if(tabsetCtrl.tabs[i].tab===scope){index=i;break;}}
tabsetCtrl.select(index,evt);}};tabsetCtrl.addTab(scope);scope.$on('$destroy',function(){tabsetCtrl.removeTab(scope);});scope.$transcludeFn=transclude;}};}]).directive('uibTabHeadingTransclude',function(){return{restrict:'A',require:'^uibTab',link:function(scope,elm){scope.$watch('headingElement',function updateHeadingElement(heading){if(heading){elm.html('');elm.append(heading);}});}};}).directive('uibTabContentTransclude',function(){return{restrict:'A',require:'^uibTabset',link:function(scope,elm,attrs){var tab=scope.$eval(attrs.uibTabContentTransclude).tab;tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){if(isTabHeading(node)){tab.headingElement=node;}else{elm.append(node);}});});}};function isTabHeading(node){return node.tagName&&(node.hasAttribute('uib-tab-heading')||node.hasAttribute('data-uib-tab-heading')||node.hasAttribute('x-uib-tab-heading')||node.tagName.toLowerCase()==='uib-tab-heading'||node.tagName.toLowerCase()==='data-uib-tab-heading'||node.tagName.toLowerCase()==='x-uib-tab-heading'||node.tagName.toLowerCase()==='uib:tab-heading');}});angular.module('ui.bootstrap.timepicker',[]).constant('uibTimepickerConfig',{hourStep:1,minuteStep:1,secondStep:1,showMeridian:true,showSeconds:false,meridians:null,readonlyInput:false,mousewheel:true,arrowkeys:true,showSpinners:true,templateUrl:'uib/template/timepicker/timepicker.html'}).controller('UibTimepickerController',['$scope','$element','$attrs','$parse','$log','$locale','uibTimepickerConfig',function($scope,$element,$attrs,$parse,$log,$locale,timepickerConfig){var hoursModelCtrl,minutesModelCtrl,secondsModelCtrl;var selected=new Date(),watchers=[],ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS,padHours=angular.isDefined($attrs.padHours)?$scope.$parent.$eval($attrs.padHours):true;$scope.tabindex=angular.isDefined($attrs.tabindex)?$attrs.tabindex:0;$element.removeAttr('tabindex');this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null;});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),secondsInputEl=inputs.eq(2);hoursModelCtrl=hoursInputEl.controller('ngModel');minutesModelCtrl=minutesInputEl.controller('ngModel');secondsModelCtrl=secondsInputEl.controller('ngModel');var mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;if(mousewheel){this.setupMousewheelEvents(hoursInputEl,minutesInputEl,secondsInputEl);}
var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;if(arrowkeys){this.setupArrowkeyEvents(hoursInputEl,minutesInputEl,secondsInputEl);}
$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput;this.setupInputEvents(hoursInputEl,minutesInputEl,secondsInputEl);};var hourStep=timepickerConfig.hourStep;if($attrs.hourStep){watchers.push($scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=+value;}));}
var minuteStep=timepickerConfig.minuteStep;if($attrs.minuteStep){watchers.push($scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=+value;}));}
var min;watchers.push($scope.$parent.$watch($parse($attrs.min),function(value){var dt=new Date(value);min=isNaN(dt)?undefined:dt;}));var max;watchers.push($scope.$parent.$watch($parse($attrs.max),function(value){var dt=new Date(value);max=isNaN(dt)?undefined:dt;}));var disabled=false;if($attrs.ngDisabled){watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(value){disabled=value;}));}
$scope.noIncrementHours=function(){var incrementedSelected=addMinutes(selected,hourStep*60);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min;};$scope.noDecrementHours=function(){var decrementedSelected=addMinutes(selected,-hourStep*60);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max;};$scope.noIncrementMinutes=function(){var incrementedSelected=addMinutes(selected,minuteStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min;};$scope.noDecrementMinutes=function(){var decrementedSelected=addMinutes(selected,-minuteStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max;};$scope.noIncrementSeconds=function(){var incrementedSelected=addSeconds(selected,secondStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min;};$scope.noDecrementSeconds=function(){var decrementedSelected=addSeconds(selected,-secondStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max;};$scope.noToggleMeridian=function(){if(selected.getHours()<12){return disabled||addMinutes(selected,12*60)>max;}
return disabled||addMinutes(selected,-12*60)<min;};var secondStep=timepickerConfig.secondStep;if($attrs.secondStep){watchers.push($scope.$parent.$watch($parse($attrs.secondStep),function(value){secondStep=+value;}));}
$scope.showSeconds=timepickerConfig.showSeconds;if($attrs.showSeconds){watchers.push($scope.$parent.$watch($parse($attrs.showSeconds),function(value){$scope.showSeconds=!!value;}));}
$scope.showMeridian=timepickerConfig.showMeridian;if($attrs.showMeridian){watchers.push($scope.$parent.$watch($parse($attrs.showMeridian),function(value){$scope.showMeridian=!!value;if(ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);refresh();}}else{updateTemplate();}}));}
function getHoursFromTemplate(){var hours=+$scope.hours;var valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(!valid||$scope.hours===''){return undefined;}
if($scope.showMeridian){if(hours===12){hours=0;}
if($scope.meridian===meridians[1]){hours=hours+12;}}
return hours;}
function getMinutesFromTemplate(){var minutes=+$scope.minutes;var valid=minutes>=0&&minutes<60;if(!valid||$scope.minutes===''){return undefined;}
return minutes;}
function getSecondsFromTemplate(){var seconds=+$scope.seconds;return seconds>=0&&seconds<60?seconds:undefined;}
function pad(value,noPad){if(value===null){return'';}
return angular.isDefined(value)&&value.toString().length<2&&!noPad?'0'+value:value.toString();}
this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){var isScrollingUp=function(e){if(e.originalEvent){e=e.originalEvent;}
var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0;};hoursInputEl.on('mousewheel wheel',function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours());}
e.preventDefault();});minutesInputEl.on('mousewheel wheel',function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes());}
e.preventDefault();});secondsInputEl.on('mousewheel wheel',function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementSeconds():$scope.decrementSeconds());}
e.preventDefault();});};this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){hoursInputEl.on('keydown',function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementHours();$scope.$apply();}else if(e.which===40){e.preventDefault();$scope.decrementHours();$scope.$apply();}}});minutesInputEl.on('keydown',function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementMinutes();$scope.$apply();}else if(e.which===40){e.preventDefault();$scope.decrementMinutes();$scope.$apply();}}});secondsInputEl.on('keydown',function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementSeconds();$scope.$apply();}else if(e.which===40){e.preventDefault();$scope.decrementSeconds();$scope.$apply();}}});};this.setupInputEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){if($scope.readonlyInput){$scope.updateHours=angular.noop;$scope.updateMinutes=angular.noop;$scope.updateSeconds=angular.noop;return;}
var invalidate=function(invalidHours,invalidMinutes,invalidSeconds){ngModelCtrl.$setViewValue(null);ngModelCtrl.$setValidity('time',false);if(angular.isDefined(invalidHours)){$scope.invalidHours=invalidHours;if(hoursModelCtrl){hoursModelCtrl.$setValidity('hours',false);}}
if(angular.isDefined(invalidMinutes)){$scope.invalidMinutes=invalidMinutes;if(minutesModelCtrl){minutesModelCtrl.$setValidity('minutes',false);}}
if(angular.isDefined(invalidSeconds)){$scope.invalidSeconds=invalidSeconds;if(secondsModelCtrl){secondsModelCtrl.$setValidity('seconds',false);}}};$scope.updateHours=function(){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);selected.setMinutes(minutes);if(selected<min||selected>max){invalidate(true);}else{refresh('h');}}else{invalidate(true);}};hoursInputEl.on('blur',function(e){ngModelCtrl.$setTouched();if(modelIsEmpty()){makeValid();}else if($scope.hours===null||$scope.hours===''){invalidate(true);}else if(!$scope.invalidHours&&$scope.hours<10){$scope.$apply(function(){$scope.hours=pad($scope.hours,!padHours);});}});$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(minutes)&&angular.isDefined(hours)){selected.setHours(hours);selected.setMinutes(minutes);if(selected<min||selected>max){invalidate(undefined,true);}else{refresh('m');}}else{invalidate(undefined,true);}};minutesInputEl.on('blur',function(e){ngModelCtrl.$setTouched();if(modelIsEmpty()){makeValid();}else if($scope.minutes===null){invalidate(undefined,true);}else if(!$scope.invalidMinutes&&$scope.minutes<10){$scope.$apply(function(){$scope.minutes=pad($scope.minutes);});}});$scope.updateSeconds=function(){var seconds=getSecondsFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(seconds)){selected.setSeconds(seconds);refresh('s');}else{invalidate(undefined,undefined,true);}};secondsInputEl.on('blur',function(e){if(modelIsEmpty()){makeValid();}else if(!$scope.invalidSeconds&&$scope.seconds<10){$scope.$apply(function(){$scope.seconds=pad($scope.seconds);});}});};this.render=function(){var date=ngModelCtrl.$viewValue;if(isNaN(date)){ngModelCtrl.$setValidity('time',false);$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');}else{if(date){selected=date;}
if(selected<min||selected>max){ngModelCtrl.$setValidity('time',false);$scope.invalidHours=true;$scope.invalidMinutes=true;}else{makeValid();}
updateTemplate();}};function refresh(keyboardChange){makeValid();ngModelCtrl.$setViewValue(new Date(selected));updateTemplate(keyboardChange);}
function makeValid(){if(hoursModelCtrl){hoursModelCtrl.$setValidity('hours',true);}
if(minutesModelCtrl){minutesModelCtrl.$setValidity('minutes',true);}
if(secondsModelCtrl){secondsModelCtrl.$setValidity('seconds',true);}
ngModelCtrl.$setValidity('time',true);$scope.invalidHours=false;$scope.invalidMinutes=false;$scope.invalidSeconds=false;}
function updateTemplate(keyboardChange){if(!ngModelCtrl.$modelValue){$scope.hours=null;$scope.minutes=null;$scope.seconds=null;$scope.meridian=meridians[0];}else{var hours=selected.getHours(),minutes=selected.getMinutes(),seconds=selected.getSeconds();if($scope.showMeridian){hours=hours===0||hours===12?12:hours%12;}
$scope.hours=keyboardChange==='h'?hours:pad(hours,!padHours);if(keyboardChange!=='m'){$scope.minutes=pad(minutes);}
$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1];if(keyboardChange!=='s'){$scope.seconds=pad(seconds);}
$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1];}}
function addSecondsToSelected(seconds){selected=addSeconds(selected,seconds);refresh();}
function addMinutes(selected,minutes){return addSeconds(selected,minutes*60);}
function addSeconds(date,seconds){var dt=new Date(date.getTime()+seconds*1000);var newDate=new Date(date);newDate.setHours(dt.getHours(),dt.getMinutes(),dt.getSeconds());return newDate;}
function modelIsEmpty(){return($scope.hours===null||$scope.hours==='')&&($scope.minutes===null||$scope.minutes==='')&&(!$scope.showSeconds||$scope.showSeconds&&($scope.seconds===null||$scope.seconds===''));}
$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners;$scope.incrementHours=function(){if(!$scope.noIncrementHours()){addSecondsToSelected(hourStep*60*60);}};$scope.decrementHours=function(){if(!$scope.noDecrementHours()){addSecondsToSelected(-hourStep*60*60);}};$scope.incrementMinutes=function(){if(!$scope.noIncrementMinutes()){addSecondsToSelected(minuteStep*60);}};$scope.decrementMinutes=function(){if(!$scope.noDecrementMinutes()){addSecondsToSelected(-minuteStep*60);}};$scope.incrementSeconds=function(){if(!$scope.noIncrementSeconds()){addSecondsToSelected(secondStep);}};$scope.decrementSeconds=function(){if(!$scope.noDecrementSeconds()){addSecondsToSelected(-secondStep);}};$scope.toggleMeridian=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();if(!$scope.noToggleMeridian()){if(angular.isDefined(minutes)&&angular.isDefined(hours)){addSecondsToSelected(12*60*(selected.getHours()<12?60:-60));}else{$scope.meridian=$scope.meridian===meridians[0]?meridians[1]:meridians[0];}}};$scope.blur=function(){ngModelCtrl.$setTouched();};$scope.$on('$destroy',function(){while(watchers.length){watchers.shift()();}});}]).directive('uibTimepicker',['uibTimepickerConfig',function(uibTimepickerConfig){return{require:['uibTimepicker','?^ngModel'],restrict:'A',controller:'UibTimepickerController',controllerAs:'timepicker',scope:{},templateUrl:function(element,attrs){return attrs.templateUrl||uibTimepickerConfig.templateUrl;},link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){timepickerCtrl.init(ngModelCtrl,element.find('input'));}}};}]);angular.module('ui.bootstrap.typeahead',['ui.bootstrap.debounce','ui.bootstrap.position']).factory('uibTypeaheadParser',['$parse',function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"'+' but got "'+input+'".');}
return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])};}};}]).controller('UibTypeaheadController',['$scope','$element','$attrs','$compile','$parse','$q','$timeout','$document','$window','$rootScope','$$debounce','$uibPosition','uibTypeaheadParser',function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$$debounce,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];var eventDebounceTime=200;var modelCtrl,ngModelOptions;var minLength=originalScope.$eval(attrs.typeaheadMinLength);if(!minLength&&minLength!==0){minLength=1;}
originalScope.$watch(attrs.typeaheadMinLength,function(newVal){minLength=!newVal&&newVal!==0?1:newVal;});var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0;var isEditable=originalScope.$eval(attrs.typeaheadEditable)!==false;originalScope.$watch(attrs.typeaheadEditable,function(newVal){isEditable=newVal!==false;});var isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop;var isSelectEvent=attrs.typeaheadShouldSelect?$parse(attrs.typeaheadShouldSelect):function(scope,vals){var evt=vals.$event;return evt.which===13||evt.which===9;};var onSelectCallback=$parse(attrs.typeaheadOnSelect);var isSelectOnBlur=angular.isDefined(attrs.typeaheadSelectOnBlur)?originalScope.$eval(attrs.typeaheadSelectOnBlur):false;var isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop;var inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):undefined;var appendToBody=attrs.typeaheadAppendToBody?originalScope.$eval(attrs.typeaheadAppendToBody):false;var appendTo=attrs.typeaheadAppendTo?originalScope.$eval(attrs.typeaheadAppendTo):null;var focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==false;var selectOnExact=attrs.typeaheadSelectOnExact?originalScope.$eval(attrs.typeaheadSelectOnExact):false;var isOpenSetter=$parse(attrs.typeaheadIsOpen).assign||angular.noop;var showHint=originalScope.$eval(attrs.typeaheadShowHint)||false;var parsedModel=$parse(attrs.ngModel);var invokeModelSetter=$parse(attrs.ngModel+'($$$p)');var $setModelValue=function(scope,newValue){if(angular.isFunction(parsedModel(originalScope))&&ngModelOptions.getOption('getterSetter')){return invokeModelSetter(scope,{$$$p:newValue});}
return parsedModel.assign(scope,newValue);};var parserResult=typeaheadParser.parse(attrs.uibTypeahead);var hasFocus;var selected;var scope=originalScope.$new();var offDestroy=originalScope.$on('$destroy',function(){scope.$destroy();});scope.$on('$destroy',offDestroy);var popupId='typeahead-'+scope.$id+'-'+Math.floor(Math.random()*10000);element.attr({'aria-autocomplete':'list','aria-expanded':false,'aria-owns':popupId});var inputsContainer,hintInputElem;if(showHint){inputsContainer=angular.element('<div></div>');inputsContainer.css('position','relative');element.after(inputsContainer);hintInputElem=element.clone();hintInputElem.attr('placeholder','');hintInputElem.attr('tabindex','-1');hintInputElem.val('');hintInputElem.css({'position':'absolute','top':'0px','left':'0px','border-color':'transparent','box-shadow':'none','opacity':1,'background':'none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)','color':'#999'});element.css({'position':'relative','vertical-align':'top','background-color':'transparent'});if(hintInputElem.attr('id')){hintInputElem.removeAttr('id');}
inputsContainer.append(hintInputElem);hintInputElem.after(element);}
var popUpEl=angular.element('<div uib-typeahead-popup></div>');popUpEl.attr({id:popupId,matches:'matches',active:'activeIdx',select:'select(activeIdx, evt)','move-in-progress':'moveInProgress',query:'query',position:'position','assign-is-open':'assignIsOpen(isOpen)',debounce:'debounceUpdate'});if(angular.isDefined(attrs.typeaheadTemplateUrl)){popUpEl.attr('template-url',attrs.typeaheadTemplateUrl);}
if(angular.isDefined(attrs.typeaheadPopupTemplateUrl)){popUpEl.attr('popup-template-url',attrs.typeaheadPopupTemplateUrl);}
var resetHint=function(){if(showHint){hintInputElem.val('');}};var resetMatches=function(){scope.matches=[];scope.activeIdx=-1;element.attr('aria-expanded',false);resetHint();};var getMatchId=function(index){return popupId+'-option-'+index;};scope.$watch('activeIdx',function(index){if(index<0){element.removeAttr('aria-activedescendant');}else{element.attr('aria-activedescendant',getMatchId(index));}});var inputIsExactMatch=function(inputValue,index){if(scope.matches.length>index&&inputValue){return inputValue.toUpperCase()===scope.matches[index].label.toUpperCase();}
return false;};var getMatchesAsync=function(inputValue,evt){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,true);isNoResultsSetter(originalScope,false);$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus){if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1;isNoResultsSetter(originalScope,false);scope.matches.length=0;for(var i=0;i<matches.length;i++){locals[parserResult.itemName]=matches[i];scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});}
scope.query=inputValue;recalculatePosition();element.attr('aria-expanded',true);if(selectOnExact&&scope.matches.length===1&&inputIsExactMatch(inputValue,0)){if(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)){$$debounce(function(){scope.select(0,evt);},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate['default']);}else{scope.select(0,evt);}}
if(showHint){var firstLabel=scope.matches[0].label;if(angular.isString(inputValue)&&inputValue.length>0&&firstLabel.slice(0,inputValue.length).toUpperCase()===inputValue.toUpperCase()){hintInputElem.val(inputValue+firstLabel.slice(inputValue.length));}else{hintInputElem.val('');}}}else{resetMatches();isNoResultsSetter(originalScope,true);}}
if(onCurrentRequest){isLoadingSetter(originalScope,false);}},function(){resetMatches();isLoadingSetter(originalScope,false);isNoResultsSetter(originalScope,true);});};if(appendToBody){angular.element($window).on('resize',fireRecalculating);$document.find('body').on('scroll',fireRecalculating);}
var debouncedRecalculate=$$debounce(function(){if(scope.matches.length){recalculatePosition();}
scope.moveInProgress=false;},eventDebounceTime);scope.moveInProgress=false;function fireRecalculating(){if(!scope.moveInProgress){scope.moveInProgress=true;scope.$digest();}
debouncedRecalculate();}
function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top+=element.prop('offsetHeight');}
scope.query=undefined;var timeoutPromise;var scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue);},waitTime);};var cancelPreviousTimeout=function(){if(timeoutPromise){$timeout.cancel(timeoutPromise);}};resetMatches();scope.assignIsOpen=function(isOpen){isOpenSetter(originalScope,isOpen);};scope.select=function(activeIdx,evt){var locals={};var model,item;selected=true;locals[parserResult.itemName]=item=scope.matches[activeIdx].model;model=parserResult.modelMapper(originalScope,locals);$setModelValue(originalScope,model);modelCtrl.$setValidity('editable',true);modelCtrl.$setValidity('parse',true);onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals),$event:evt});resetMatches();if(scope.$eval(attrs.typeaheadFocusOnSelect)!==false){$timeout(function(){element[0].focus();},0,false);}};element.on('keydown',function(evt){if(scope.matches.length===0||HOT_KEYS.indexOf(evt.which)===-1){return;}
var shouldSelect=isSelectEvent(originalScope,{$event:evt});if(scope.activeIdx===-1&&shouldSelect||evt.which===9&&!!evt.shiftKey){resetMatches();scope.$digest();return;}
evt.preventDefault();var target;switch(evt.which){case 27:evt.stopPropagation();resetMatches();originalScope.$digest();break;case 38:scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1;scope.$digest();target=popUpEl[0].querySelectorAll('.uib-typeahead-match')[scope.activeIdx];target.parentNode.scrollTop=target.offsetTop;break;case 40:scope.activeIdx=(scope.activeIdx+1)%scope.matches.length;scope.$digest();target=popUpEl[0].querySelectorAll('.uib-typeahead-match')[scope.activeIdx];target.parentNode.scrollTop=target.offsetTop;break;default:if(shouldSelect){scope.$apply(function(){if(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)){$$debounce(function(){scope.select(scope.activeIdx,evt);},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate['default']);}else{scope.select(scope.activeIdx,evt);}});}}});element.on('focus',function(evt){hasFocus=true;if(minLength===0&&!modelCtrl.$viewValue){$timeout(function(){getMatchesAsync(modelCtrl.$viewValue,evt);},0);}});element.on('blur',function(evt){if(isSelectOnBlur&&scope.matches.length&&scope.activeIdx!==-1&&!selected){selected=true;scope.$apply(function(){if(angular.isObject(scope.debounceUpdate)&&angular.isNumber(scope.debounceUpdate.blur)){$$debounce(function(){scope.select(scope.activeIdx,evt);},scope.debounceUpdate.blur);}else{scope.select(scope.activeIdx,evt);}});}
if(!isEditable&&modelCtrl.$error.editable){modelCtrl.$setViewValue();scope.$apply(function(){modelCtrl.$setValidity('editable',true);modelCtrl.$setValidity('parse',true);});element.val('');}
hasFocus=false;selected=false;});var dismissClickHandler=function(evt){if(element[0]!==evt.target&&evt.which!==3&&scope.matches.length!==0){resetMatches();if(!$rootScope.$$phase){originalScope.$digest();}}};$document.on('click',dismissClickHandler);originalScope.$on('$destroy',function(){$document.off('click',dismissClickHandler);if(appendToBody||appendTo){$popup.remove();}
if(appendToBody){angular.element($window).off('resize',fireRecalculating);$document.find('body').off('scroll',fireRecalculating);}
popUpEl.remove();if(showHint){inputsContainer.remove();}});var $popup=$compile(popUpEl)(scope);if(appendToBody){$document.find('body').append($popup);}else if(appendTo){angular.element(appendTo).eq(0).append($popup);}else{element.after($popup);}
this.init=function(_modelCtrl){modelCtrl=_modelCtrl;ngModelOptions=extractOptions(modelCtrl);scope.debounceUpdate=$parse(ngModelOptions.getOption('debounce'))(originalScope);modelCtrl.$parsers.unshift(function(inputValue){hasFocus=true;if(minLength===0||inputValue&&inputValue.length>=minLength){if(waitTime>0){cancelPreviousTimeout();scheduleSearchWithTimeout(inputValue);}else{getMatchesAsync(inputValue);}}else{isLoadingSetter(originalScope,false);cancelPreviousTimeout();resetMatches();}
if(isEditable){return inputValue;}
if(!inputValue){modelCtrl.$setValidity('editable',true);return null;}
modelCtrl.$setValidity('editable',false);return undefined;});modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue;var locals={};if(!isEditable){modelCtrl.$setValidity('editable',true);}
if(inputFormatter){locals.$model=modelValue;return inputFormatter(originalScope,locals);}
locals[parserResult.itemName]=modelValue;candidateViewValue=parserResult.viewMapper(originalScope,locals);locals[parserResult.itemName]=undefined;emptyViewValue=parserResult.viewMapper(originalScope,locals);return candidateViewValue!==emptyViewValue?candidateViewValue:modelValue;});};function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=ngModelCtrl.$options||{};ngModelOptions.getOption=function(key){return ngModelOptions[key];};}else{ngModelOptions=ngModelCtrl.$options;}
return ngModelOptions;}}]).directive('uibTypeahead',function(){return{controller:'UibTypeaheadController',require:['ngModel','uibTypeahead'],link:function(originalScope,element,attrs,ctrls){ctrls[1].init(ctrls[0]);}};}).directive('uibTypeaheadPopup',['$$debounce',function($$debounce){return{scope:{matches:'=',query:'=',active:'=',position:'&',moveInProgress:'=',select:'&',assignIsOpen:'&',debounce:'&'},replace:true,templateUrl:function(element,attrs){return attrs.popupTemplateUrl||'uib/template/typeahead/typeahead-popup.html';},link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl;scope.isOpen=function(){var isDropdownOpen=scope.matches.length>0;scope.assignIsOpen({isOpen:isDropdownOpen});return isDropdownOpen;};scope.isActive=function(matchIdx){return scope.active===matchIdx;};scope.selectActive=function(matchIdx){scope.active=matchIdx;};scope.selectMatch=function(activeIdx,evt){var debounce=scope.debounce();if(angular.isNumber(debounce)||angular.isObject(debounce)){$$debounce(function(){scope.select({activeIdx:activeIdx,evt:evt});},angular.isNumber(debounce)?debounce:debounce['default']);}else{scope.select({activeIdx:activeIdx,evt:evt});}};}};}]).directive('uibTypeaheadMatch',['$templateRequest','$compile','$parse',function($templateRequest,$compile,$parse){return{scope:{index:'=',match:'=',query:'='},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||'uib/template/typeahead/typeahead-match.html';$templateRequest(tplUrl).then(function(tplContent){var tplEl=angular.element(tplContent.trim());element.replaceWith(tplEl);$compile(tplEl)(scope);});}};}]).filter('uibTypeaheadHighlight',['$sce','$injector','$log',function($sce,$injector,$log){var isSanitizePresent;isSanitizePresent=$injector.has('$sanitize');function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1');}
function containsHtml(matchItem){return /<.*>/g.test(matchItem);}
return function(matchItem,query){if(!isSanitizePresent&&containsHtml(matchItem)){$log.warn('Unsafe use of typeahead please use ngSanitize');}
matchItem=query?(''+matchItem).replace(new RegExp(escapeRegexp(query),'gi'),'<strong>$&</strong>'):matchItem;if(!isSanitizePresent){matchItem=$sce.trustAsHtml(matchItem);}
return matchItem;};}]);angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion-group.html","<div role=\"tab\" id=\"{{::headingId}}\" aria-selected=\"{{isOpen}}\" class=\"panel-heading\" ng-keypress=\"toggleOpen($event)\">\n"+"  <h4 class=\"panel-title\">\n"+"    <a role=\"button\" data-toggle=\"collapse\" href aria-expanded=\"{{isOpen}}\" aria-controls=\"{{::panelId}}\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\" ng-disabled=\"isDisabled\" uib-tabindex-toggle><span uib-accordion-header ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n"+"  </h4>\n"+"</div>\n"+"<div id=\"{{::panelId}}\" aria-labelledby=\"{{::headingId}}\" aria-hidden=\"{{!isOpen}}\" role=\"tabpanel\" class=\"panel-collapse collapse\" uib-collapse=\"!isOpen\">\n"+"  <div class=\"panel-body\" ng-transclude></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion.html","<div role=\"tablist\" class=\"panel-group\" ng-transclude></div>");}]);angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/alert/alert.html","<button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\n"+"  <span aria-hidden=\"true\">&times;</span>\n"+"  <span class=\"sr-only\">Close</span>\n"+"</button>\n"+"<div ng-transclude></div>\n"+"");}]);angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/carousel.html","<div class=\"carousel-inner\" ng-transclude></div>\n"+"<a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-class=\"{ disabled: isPrevDisabled() }\" ng-show=\"slides.length > 1\">\n"+"  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\n"+"  <span class=\"sr-only\">previous</span>\n"+"</a>\n"+"<a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-class=\"{ disabled: isNextDisabled() }\" ng-show=\"slides.length > 1\">\n"+"  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\n"+"  <span class=\"sr-only\">next</span>\n"+"</a>\n"+"<ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n"+"  <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\n"+"    <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\n"+"  </li>\n"+"</ol>\n"+"");}]);angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/slide.html","<div class=\"text-center\" ng-transclude></div>\n"+"");}]);angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/datepicker.html","<div ng-switch=\"datepickerMode\">\n"+"  <div uib-daypicker ng-switch-when=\"day\" tabindex=\"0\" class=\"uib-daypicker\"></div>\n"+"  <div uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\" class=\"uib-monthpicker\"></div>\n"+"  <div uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\" class=\"uib-yearpicker\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/day.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\n"+"      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\n"+"    </tr>\n"+"    <tr>\n"+"      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\n"+"      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr class=\"uib-weeks\" ng-repeat=\"row in rows track by $index\" role=\"row\">\n"+"      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n"+"      <td ng-repeat=\"dt in row\" class=\"uib-day text-center\" role=\"gridcell\"\n"+"        id=\"{{::dt.uid}}\"\n"+"        ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" class=\"btn btn-default btn-sm\"\n"+"          uib-is-class=\"\n"+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+"            on dt\"\n"+"          ng-click=\"select(dt.date)\"\n"+"          ng-disabled=\"::dt.disabled\"\n"+"          tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/month.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\n"+"      <th colspan=\"{{::yearHeaderColspan}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></i></button></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr class=\"uib-months\" ng-repeat=\"row in rows track by $index\" role=\"row\">\n"+"      <td ng-repeat=\"dt in row\" class=\"uib-month text-center\" role=\"gridcell\"\n"+"        id=\"{{::dt.uid}}\"\n"+"        ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" class=\"btn btn-default\"\n"+"          uib-is-class=\"\n"+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+"            on dt\"\n"+"          ng-click=\"select(dt.date)\"\n"+"          ng-disabled=\"::dt.disabled\"\n"+"          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/year.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\n"+"      <th colspan=\"{{::columns - 2}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr class=\"uib-years\" ng-repeat=\"row in rows track by $index\" role=\"row\">\n"+"      <td ng-repeat=\"dt in row\" class=\"uib-year text-center\" role=\"gridcell\"\n"+"        id=\"{{::dt.uid}}\"\n"+"        ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" class=\"btn btn-default\"\n"+"          uib-is-class=\"\n"+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+"            on dt\"\n"+"          ng-click=\"select(dt.date)\"\n"+"          ng-disabled=\"::dt.disabled\"\n"+"          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepickerPopup/popup.html","<ul role=\"presentation\" class=\"uib-datepicker-popup uib-popup-calendar dropdown-menu uib-position-measure\" dropdown-nested ng-if=\"isOpen\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\n"+"  <li ng-transclude></li>\n"+"  <li ng-if=\"showButtonBar\" class=\"uib-button-bar\">\n"+"    <span class=\"btn-group pull-left\">\n"+"      <button type=\"button\" class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select('today', $event)\" ng-disabled=\"isDisabled('today')\">{{ getText('current') }}</button>\n"+"      <button type=\"button\" class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText('clear') }}</button>\n"+"    </span>\n"+"    <button type=\"button\" class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=\"close($event)\">{{ getText('close') }}</button>\n"+"  </li>\n"+"</ul>\n"+"");}]);angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n"+"");}]);angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pager/pager.html","<li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText('previous')}}</a></li>\n"+"<li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText('next')}}</a></li>\n"+"");}]);angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pagination/pagination.html","<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText('first')}}</a></li>\n"+"<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText('previous')}}</a></li>\n"+"<li role=\"menuitem\" ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\" ng-disabled=\"ngDisabled&&!page.active\" uib-tabindex-toggle>{{page.text}}</a></li>\n"+"<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText('next')}}</a></li>\n"+"<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText('last')}}</a></li>\n"+"");}]);angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-html-popup.html","<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\n"+"");}]);angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-popup.html","<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n"+"");}]);angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-template-popup.html","<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\"\n"+"  uib-tooltip-template-transclude=\"contentExp()\"\n"+"  tooltip-template-transclude-scope=\"originScope()\"></div>\n"+"");}]);angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-html.html","<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n"+"    <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-template.html","<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n"+"    <div class=\"popover-content\"\n"+"      uib-tooltip-template-transclude=\"contentExp()\"\n"+"      tooltip-template-transclude-scope=\"originScope()\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover.html","<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n"+"    <div class=\"popover-content\" ng-bind=\"content\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/bar.html","<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n"+"");}]);angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progress.html","<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>");}]);angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progressbar.html","<div class=\"progress\">\n"+"  <div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/rating/rating.html","<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\" aria-valuetext=\"{{title}}\">\n"+"    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n"+"    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\" ng-attr-title=\"{{r.title}}\"></i>\n"+"</span>\n"+"");}]);angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tab.html","<li ng-class=\"[{active: active, disabled: disabled}, classes]\" class=\"uib-tab nav-item\">\n"+"  <a href ng-click=\"select($event)\" class=\"nav-link\" uib-tab-heading-transclude>{{heading}}</a>\n"+"</li>\n"+"");}]);angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tabset.html","<div>\n"+"  <ul class=\"nav nav-{{tabset.type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n"+"  <div class=\"tab-content\">\n"+"    <div class=\"tab-pane\"\n"+"         ng-repeat=\"tab in tabset.tabs\"\n"+"         ng-class=\"{active: tabset.active === tab.index}\"\n"+"         uib-tab-content-transclude=\"tab\">\n"+"    </div>\n"+"  </div>\n"+"</div>\n"+"");}]);angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/timepicker/timepicker.html","<table class=\"uib-timepicker\">\n"+"  <tbody>\n"+"    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n"+"      <td class=\"uib-increment hours\"><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td>&nbsp;</td>\n"+"      <td class=\"uib-increment minutes\"><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td ng-show=\"showSeconds\">&nbsp;</td>\n"+"      <td ng-show=\"showSeconds\" class=\"uib-increment seconds\"><a ng-click=\"incrementSeconds()\" ng-class=\"{disabled: noIncrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td ng-show=\"showMeridian\"></td>\n"+"    </tr>\n"+"    <tr>\n"+"      <td class=\"form-group uib-time hours\" ng-class=\"{'has-error': invalidHours}\">\n"+"        <input type=\"text\" placeholder=\"HH\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementHours()\" ng-blur=\"blur()\">\n"+"      </td>\n"+"      <td class=\"uib-separator\">:</td>\n"+"      <td class=\"form-group uib-time minutes\" ng-class=\"{'has-error': invalidMinutes}\">\n"+"        <input type=\"text\" placeholder=\"MM\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementMinutes()\" ng-blur=\"blur()\">\n"+"      </td>\n"+"      <td ng-show=\"showSeconds\" class=\"uib-separator\">:</td>\n"+"      <td class=\"form-group uib-time seconds\" ng-class=\"{'has-error': invalidSeconds}\" ng-show=\"showSeconds\">\n"+"        <input type=\"text\" placeholder=\"SS\" ng-model=\"seconds\" ng-change=\"updateSeconds()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementSeconds()\" ng-blur=\"blur()\">\n"+"      </td>\n"+"      <td ng-show=\"showMeridian\" class=\"uib-time am-pm\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\n"+"    </tr>\n"+"    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n"+"      <td class=\"uib-decrement hours\"><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td>&nbsp;</td>\n"+"      <td class=\"uib-decrement minutes\"><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td ng-show=\"showSeconds\">&nbsp;</td>\n"+"      <td ng-show=\"showSeconds\" class=\"uib-decrement seconds\"><a ng-click=\"decrementSeconds()\" ng-class=\"{disabled: noDecrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td ng-show=\"showMeridian\"></td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-match.html","<a href\n"+"   tabindex=\"-1\"\n"+"   ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"\n"+"   ng-attr-title=\"{{match.label}}\"></a>\n"+"");}]);angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+'px', left: position().left+'px'}\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n"+"    <li class=\"uib-typeahead-match\" ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index, $event)\" role=\"option\" id=\"{{::match.id}}\">\n"+"        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n"+"    </li>\n"+"</ul>\n"+"");}]);angular.module('ui.bootstrap.carousel').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find('head').prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');angular.$$uibCarouselCss=true;});angular.module('ui.bootstrap.datepicker').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>');angular.$$uibDatepickerCss=true;});angular.module('ui.bootstrap.position').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>');angular.$$uibPositionCss=true;});angular.module('ui.bootstrap.datepickerPopup').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>');angular.$$uibDatepickerpopupCss=true;});angular.module('ui.bootstrap.tooltip').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find('head').prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>');angular.$$uibTooltipCss=true;});angular.module('ui.bootstrap.timepicker').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-time input{width:50px;}</style>');angular.$$uibTimepickerCss=true;});angular.module('ui.bootstrap.typeahead').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find('head').prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>');angular.$$uibTypeaheadCss=true;});
;/*!
 * Bootstrap v3.4.1 (https://getbootstrap.com/)
 * Copyright 2011-2019 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||n(i).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=function o(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(t.style[i]!==undefined)return{end:e[i]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(s){"use strict";var e='[data-dismiss="alert"]',a=function(t){s(t).on("click",e,this.close)};a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.prototype.close=function(t){var e=s(this),i=e.attr("data-target");i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),i="#"===i?[]:i;var o=s(document).find(i);function n(){o.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),o.length||(o=e.closest(".alert")),o.trigger(t=s.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),s.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(a.TRANSITION_DURATION):n())};var t=s.fn.alert;s.fn.alert=function o(i){return this.each(function(){var t=s(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof i&&e[i].call(t)})},s.fn.alert.Constructor=a,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(s){"use strict";var n=function(t,e){this.$element=s(t),this.options=s.extend({},n.DEFAULTS,e),this.isLoading=!1};function i(o){return this.each(function(){var t=s(this),e=t.data("bs.button"),i="object"==typeof o&&o;e||t.data("bs.button",e=new n(this,i)),"toggle"==o?e.toggle():o&&e.setState(o)})}n.VERSION="3.4.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var e="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",null==n.resetText&&i.data("resetText",i[o]()),setTimeout(s.proxy(function(){i[o](null==n[t]?this.options[t]:n[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=s.fn.button;s.fn.button=i,s.fn.button.Constructor=n,s.fn.button.noConflict=function(){return s.fn.button=t,this},s(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=s(t.target).closest(".btn");i.call(e,"toggle"),s(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){s(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(p){"use strict";var c=function(t,e){this.$element=p(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",p.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",p.proxy(this.pause,this)).on("mouseleave.bs.carousel",p.proxy(this.cycle,this))};function r(n){return this.each(function(){var t=p(this),e=t.data("bs.carousel"),i=p.extend({},c.DEFAULTS,t.data(),"object"==typeof n&&n),o="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new c(this,i)),"number"==typeof n?e.to(n):o?e[o]():i.interval&&e.pause().cycle()})}c.VERSION="3.4.1",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},c.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(p.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},c.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var o=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(o)},c.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},c.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&p.support.transition&&(this.$element.trigger(p.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),o=e||this.getItemForDirection(t,i),n=this.interval,s="next"==t?"left":"right",a=this;if(o.hasClass("active"))return this.sliding=!1;var r=o[0],l=p.Event("slide.bs.carousel",{relatedTarget:r,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=p(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=p.Event("slid.bs.carousel",{relatedTarget:r,direction:s});return p.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),"object"==typeof o&&o.length&&o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(d)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var t=p.fn.carousel;p.fn.carousel=r,p.fn.carousel.Constructor=c,p.fn.carousel.noConflict=function(){return p.fn.carousel=t,this};var e=function(t){var e=p(this),i=e.attr("href");i&&(i=i.replace(/.*(?=#[^\s]+$)/,""));var o=e.attr("data-target")||i,n=p(document).find(o);if(n.hasClass("carousel")){var s=p.extend({},n.data(),e.data()),a=e.attr("data-slide-to");a&&(s.interval=!1),r.call(n,s),a&&n.data("bs.carousel").to(a),t.preventDefault()}};p(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),p(window).on("load",function(){p('[data-ride="carousel"]').each(function(){var t=p(this);r.call(t,t.data())})})}(jQuery),function(a){"use strict";var r=function(t,e){this.$element=a(t),this.options=a.extend({},r.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(document).find(i)}function l(o){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),i=a.extend({},r.DEFAULTS,t.data(),"object"==typeof o&&o);!e&&i.toggle&&/show|hide/.test(o)&&(i.toggle=!1),e||t.data("bs.collapse",e=new r(this,i)),"string"==typeof o&&e[o]()})}r.VERSION="3.4.1",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=a.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return n.call(this);var s=a.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][s])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return a(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var i=a(e);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=a.fn.collapse;a.fn.collapse=l,a.fn.collapse.Constructor=r,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var i=n(e),o=i.data("bs.collapse")?"toggle":e.data();l.call(i,o)})}(jQuery),function(a){"use strict";var r='[data-toggle="dropdown"]',o=function(t){a(t).on("click.bs.dropdown",this.toggle)};function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==e?a(document).find(e):null;return i&&i.length?i:t.parent()}function s(o){o&&3===o.which||(a(".dropdown-backdrop").remove(),a(r).each(function(){var t=a(this),e=l(t),i={relatedTarget:this};e.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&a.contains(e[0],o.target)||(e.trigger(o=a.Event("hide.bs.dropdown",i)),o.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",i)))))}))}o.VERSION="3.4.1",o.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var i=l(e),o=i.hasClass("open");if(s(),!o){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",s);var n={relatedTarget:this};if(i.trigger(t=a.Event("show.bs.dropdown",n)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(a.Event("shown.bs.dropdown",n))}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=l(e),o=i.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&i.find(r).trigger("focus"),e.trigger("click");var n=i.find(".dropdown-menu li:not(.disabled):visible a");if(n.length){var s=n.index(t.target);38==t.which&&0<s&&s--,40==t.which&&s<n.length-1&&s++,~s||(s=0),n.eq(s).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function e(i){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new o(this)),"string"==typeof i&&e[i].call(t)})},a.fn.dropdown.Constructor=o,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(a){"use strict";var s=function(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function r(o,n){return this.each(function(){var t=a(this),e=t.data("bs.modal"),i=a.extend({},s.DEFAULTS,t.data(),"object"==typeof o&&o);e||t.data("bs.modal",e=new s(this,i)),"string"==typeof o?e[o](n):i.show&&e.show(n)})}s.VERSION="3.4.1",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(i){var o=this,t=a.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),t&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:i});t?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):o.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=a.support.transition&&i;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){e.removeBackdrop(),t&&t()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):n()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+n),a(this.fixedContent).each(function(t,e){var i=e.style.paddingRight,o=a(e).css("padding-right");a(e).data("padding-right",i).css("padding-right",parseFloat(o)+n+"px")}))},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),a(this.fixedContent).each(function(t,e){var i=a(e).data("padding-right");a(e).removeData("padding-right"),e.style.paddingRight=i||""})},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=r,a.fn.modal.Constructor=s,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),i=e.attr("href"),o=e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,""),n=a(document).find(o),s=n.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(i)&&i},n.data(),e.data());e.is("a")&&t.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),r.call(n,s,this)})}(jQuery),function(g){"use strict";var o=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],t={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function u(t,e){var i=t.nodeName.toLowerCase();if(-1!==g.inArray(i,e))return-1===g.inArray(i,a)||Boolean(t.nodeValue.match(r)||t.nodeValue.match(l));for(var o=g(e).filter(function(t,e){return e instanceof RegExp}),n=0,s=o.length;n<s;n++)if(i.match(o[n]))return!0;return!1}function n(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;var o=document.implementation.createHTMLDocument("sanitization");o.body.innerHTML=t;for(var n=g.map(e,function(t,e){return e}),s=g(o.body).find("*"),a=0,r=s.length;a<r;a++){var l=s[a],h=l.nodeName.toLowerCase();if(-1!==g.inArray(h,n))for(var d=g.map(l.attributes,function(t){return t}),p=[].concat(e["*"]||[],e[h]||[]),c=0,f=d.length;c<f;c++)u(d[c],p)||l.removeAttribute(d[c].nodeName);else l.parentNode.removeChild(l)}return o.body.innerHTML}var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.4.1",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:t},m.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&g(document).find(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),n=o.length;n--;){var s=o[n];if("click"==s)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",r="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){var e=this.$element.data();for(var i in e)e.hasOwnProperty(i)&&-1!==g.inArray(i,o)&&delete e[i];return(t=g.extend({},this.getDefaults(),e,t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=n(t.template,t.whiteList,t.sanitizeFn)),t},m.prototype.getDelegateOptions=function(){var i={},o=this.getDefaults();return this._options&&g.each(this._options,function(t,e){o[t]!=e&&(i[t]=e)}),i},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var i=this,o=this.tip(),n=this.getUID(this.type);this.setContent(),o.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,r=a.test(s);r&&(s=s.replace(a,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(g(document).find(this.options.container)):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(r){var p=s,c=this.getPosition(this.$viewport);s="bottom"==s&&l.bottom+d>c.bottom?"top":"top"==s&&l.top-d<c.top?"bottom":"right"==s&&l.right+h>c.width?"left":"left"==s&&l.left-h<c.left?"right":s,o.removeClass(p).addClass(s)}var f=this.getCalculatedOffset(s,l,h,d);this.applyPlacement(f,s);var u=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};g.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",u).emulateTransitionEnd(m.TRANSITION_DURATION):u()}},m.prototype.applyPlacement=function(t,e){var i=this.tip(),o=i[0].offsetWidth,n=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top+=s,t.left+=a,g.offset.setOffset(i[0],g.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),i.addClass("in");var r=i[0].offsetWidth,l=i[0].offsetHeight;"top"==e&&l!=n&&(t.top=t.top+n-l);var h=this.getViewportAdjustedDelta(e,t,r,l);h.left?t.left+=h.left:t.top+=h.top;var d=/top|bottom/.test(e),p=d?2*h.left-o+r:2*h.top-n+l,c=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][c],d)},m.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=n(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){var e=this,i=g(this.$tip),o=g.Event("hide.bs."+this.type);function n(){"in"!=e.hoverState&&i.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",n).emulateTransitionEnd(m.TRANSITION_DURATION):n(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,o=e.getBoundingClientRect();null==o.width&&(o=g.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=window.SVGElement&&e instanceof window.SVGElement,s=i?{top:0,left:0}:n?null:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=i?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},o,a,r,s)},m.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},m.prototype.sanitizeHtml=function(t){return n(t,this.options.whiteList,this.options.sanitizeFn)};var e=g.fn.tooltip;g.fn.tooltip=function i(o){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),i="object"==typeof o&&o;!e&&/destroy|hide/.test(o)||(e||t.data("bs.tooltip",e=new m(this,i)),"string"==typeof o&&e[o]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(n){"use strict";var s=function(t,e){this.init("popover",t,e)};if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");s.VERSION="3.4.1",s.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((s.prototype=n.extend({},n.fn.tooltip.Constructor.prototype)).constructor=s).prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();if(this.options.html){var o=typeof i;this.options.sanitize&&(e=this.sanitizeHtml(e),"string"===o&&(i=this.sanitizeHtml(i))),t.find(".popover-title").html(e),t.find(".popover-content").children().detach().end()["string"===o?"html":"append"](i)}else t.find(".popover-title").text(e),t.find(".popover-content").children().detach().end().text(i);t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=n.fn.popover;n.fn.popover=function e(o){return this.each(function(){var t=n(this),e=t.data("bs.popover"),i="object"==typeof o&&o;!e&&/destroy|hide/.test(o)||(e||t.data("bs.popover",e=new s(this,i)),"string"==typeof o&&e[o]())})},n.fn.popover.Constructor=s,n.fn.popover.noConflict=function(){return n.fn.popover=t,this}}(jQuery),function(s){"use strict";function n(t,e){this.$body=s(document.body),this.$scrollElement=s(t).is(document.body)?s(window):s(t),this.options=s.extend({},n.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s.proxy(this.process,this)),this.refresh(),this.process()}function e(o){return this.each(function(){var t=s(this),e=t.data("bs.scrollspy"),i="object"==typeof o&&o;e||t.data("bs.scrollspy",e=new n(this,i)),"string"==typeof o&&e[o]()})}n.VERSION="3.4.1",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},n.prototype.refresh=function(){var t=this,o="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),s.isWindow(this.$scrollElement[0])||(o="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),i=/^#./.test(e)&&s(e);return i&&i.length&&i.is(":visible")&&[[i[o]().top+n,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},n.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),o<=e)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(n[t+1]===undefined||e<n[t+1])&&this.activate(s[t])},n.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=s(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},n.prototype.clear=function(){s(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=s.fn.scrollspy;s.fn.scrollspy=e,s.fn.scrollspy.Constructor=n,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load.bs.scrollspy.data-api",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);e.call(t,t.data())})})}(jQuery),function(r){"use strict";var a=function(t){this.element=r(t)};function e(i){return this.each(function(){var t=r(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof i&&e[i]()})}a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=e.find(".active:last a"),n=r.Event("hide.bs.tab",{relatedTarget:t[0]}),s=r.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(n),t.trigger(s),!s.isDefaultPrevented()&&!n.isDefaultPrevented()){var a=r(document).find(i);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},a.prototype.activate=function(t,e,i){var o=e.find("> .active"),n=i&&r.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),n?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}o.length&&n?o.one("bsTransitionEnd",s).emulateTransitionEnd(a.TRANSITION_DURATION):s(),o.removeClass("in")};var t=r.fn.tab;r.fn.tab=e,r.fn.tab.Constructor=a,r.fn.tab.noConflict=function(){return r.fn.tab=t,this};var i=function(t){t.preventDefault(),e.call(r(this),"show")};r(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(l){"use strict";var h=function(t,e){this.options=l.extend({},h.DEFAULTS,e);var i=this.options.target===h.DEFAULTS.target?l(this.options.target):l(document).find(this.options.target);this.$target=i.on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function i(o){return this.each(function(){var t=l(this),e=t.data("bs.affix"),i="object"==typeof o&&o;e||t.data("bs.affix",e=new h(this,i)),"string"==typeof o&&e[o]()})}h.VERSION="3.4.1",h.RESET="affix affix-top affix-bottom",h.DEFAULTS={offset:0,target:window},h.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?n:s.top;return null!=i&&n<=i?"top":null!=o&&t-o<=l+(r?a:e)&&"bottom"},h.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(h.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},h.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},h.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,o=e.bottom,n=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(o=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof o&&(o=e.bottom(this.$element));var s=this.getState(n,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var a="affix"+(s?"-"+s:""),r=l.Event(a+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(h.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:n-t-o})}};var t=l.fn.affix;l.fn.affix=i,l.fn.affix.Constructor=h,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery);
;
// Custom configuration items on a per system basis: local, cert, prod
//Client details
var clientName = _XC_CONFIG && _XC_CONFIG.org ? _XC_CONFIG.org : 'choc';
// var maxSessionStorageTime = 2 * 60 * 1000; // 2 minutes;
var maxSessionStorageTime = 20 * 60 * 1000; // 20 minutes;
var maxFileSizeforResume = 2048000;
// The default options for the ckEditor to be used for any site.
var ckEditorOptions = {};
var ATS_INSTANCE = '/ats-v2';
var ATSREPORTING_INSTANCE = "/atsreporting";
var DEBUG = _XC_CONFIG && _XC_CONFIG.env !== "prod";
var ATS_URL = "https://atscore.app.smashfly.io";
var PAGE_TEMPLATES = {
    'thank_you': '/wp-content/plugins/xcloud/app/components/apply/thank-you.html'
};
var DASHBOARD_TABS = ['activity', 'edit', 'applications'];

var GIGYA_APIKEY = '3_ZMDOWjFQhiDPP1ioKYzuUGP4v3p2PVhBs-a7ZJt83lyKfEcKhQvl1uUGRfa2ZHEj';
var GIGYA_SOCIAL_SETTINGS =  {};
var CUSTOM_FIELD_MANAGEMENT_SETTINGS = {
    stream             : {
        apply      : {
            enabled     : false,
            controller  : 'applyController',
            templateFlag: 'apply'
        },
        leadCapture: {
            enabled     : false,
            controller  : 'applyController',
            templateFlag: 'join'
        }
    },
    navigation         : {
        url   : "",
        params: {}
    },
    resumeDataParseRule: {
        includeMandatoryFieldCheck: false
    }
};

var DYNAMIC_PAGE_SETTINGS = {
    RESET_PASSWORD_TEMPLATE_FLAG: 'reset'
};

var WCAG_COMPLIANCE_SETTINGS;

var EMAIL_PASSWORD_RESET_NAME = 'Password Reset';
var EMAIL_PASSWORD_RESET_TYPE = 'System';
var EMAIL_ACTIVATION_LINK_NAME = 'Activation Link';
var EMAIL_ACTIVATION_LINK_TYPE = 'System';
var ACTIVE_LANGUAGE_CODE_ID = 1;
var LANGUAGE_COLLECTION = [];
var CALENDAR_SCHEDULING_API_URL = 'https://fpndu7ifx1.execute-api.us-east-1.amazonaws.com/api/v1';

if(_XC_CONFIG) {
    if (_XC_CONFIG.env === 'stg') {
        ATS_URL = "https://pub-cert-atscore.app.smashfly.io";
        CALENDAR_SCHEDULING_API_URL = "https://3vvmvpb589.execute-api.us-east-1.amazonaws.com/api/v1";
    }
    else if (_XC_CONFIG.env === 'dev') {
        ATS_URL = "https://pub-dev-atscore.app.smashfly.io"
        CALENDAR_SCHEDULING_API_URL = "https://fnimn6ktzl.execute-api.us-east-1.amazonaws.com/api/v1";
    }
    else if(_XC_CONFIG.env === 'stage'){
        ATS_URL = "https://pub-stage-atscore.app.smashfly.io";
        CALENDAR_SCHEDULING_API_URL = "https://knjfsepqfk.execute-api.us-east-1.amazonaws.com/api/v1";
    }
    else if(_XC_CONFIG.env === 'perf'){
        ATS_URL = "https://pub-perf-atscore.app.smashfly.io";
        CALENDAR_SCHEDULING_API_URL = "https://knjfsepqfk.execute-api.us-east-1.amazonaws.com/api/v1";
    }

    //Get Session Time out from settings
    if (!isNaN(parseInt(_XC_CONFIG.session_time_out))){
        maxSessionStorageTime = parseInt(_XC_CONFIG.session_time_out) * 60 * 1000;
    }
    GIGYA_APIKEY = _XC_CONFIG.keys.gigya;
    GIGYA_SOCIAL_SETTINGS = _XC_CONFIG.social;

    WCAG_COMPLIANCE_SETTINGS = (_XC_CONFIG.wCAGCompliance);
    CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.enabled = (_XC_CONFIG.custom_field_management.stream.apply.enabled === 'true');
    CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.enabled = (_XC_CONFIG.custom_field_management.stream.leadCapture.enabled === 'true');
    if(CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.enabled) CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.controller = 'candidatePoolController';
    if(CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.enabled) CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller = 'candidatePoolController';
    
    (function() {
        // Didn't want to add this var to a global level so I'm putting it in a self-calling function
        var content_proxy = '/?xccp=';
        if (_XC_CONFIG.lang && _XC_CONFIG.lang !== 'en') {
            content_proxy = '/' + _XC_CONFIG.lang + content_proxy;
        }

        PAGE_TEMPLATES['apply'] = _XC_CONFIG.pages['apply'] ? content_proxy + _XC_CONFIG.pages['apply'] : '';
        PAGE_TEMPLATES['profile'] = _XC_CONFIG.pages['profile'] ? content_proxy + _XC_CONFIG.pages['profile'] : '';
        PAGE_TEMPLATES['join'] = _XC_CONFIG.pages['join'] ? content_proxy + _XC_CONFIG.pages['join'] : '';
        PAGE_TEMPLATES['reset'] = _XC_CONFIG.pages['reset'] ? content_proxy + _XC_CONFIG.pages['reset'] : '';
        PAGE_TEMPLATES['forgot'] = _XC_CONFIG.pages['forgot'] ? content_proxy + _XC_CONFIG.pages['forgot'] : '';
        PAGE_TEMPLATES['login'] = _XC_CONFIG.pages['login'] ? content_proxy + _XC_CONFIG.pages['login'] : '';
        PAGE_TEMPLATES['thank_you'] = _XC_CONFIG.pages['thank_you'] ? content_proxy + _XC_CONFIG.pages['thank_you'] : '';
        PAGE_TEMPLATES['thank_you_apply'] = _XC_CONFIG.pages['thank_you_apply'] ? content_proxy + _XC_CONFIG.pages['thank_you_apply'] : '';
        PAGE_TEMPLATES['apply_join'] = _XC_CONFIG.pages['apply_join'] ? content_proxy + _XC_CONFIG.pages['apply_join'] : '';
        PAGE_TEMPLATES['job_alert'] = _XC_CONFIG.pages['job_alert'] ? content_proxy + _XC_CONFIG.pages['job_alert'] : '';
        PAGE_TEMPLATES['alert_thank_you'] = _XC_CONFIG.pages['alert_thank_you'] ? content_proxy + _XC_CONFIG.pages['alert_thank_you'] : '';
        PAGE_TEMPLATES['assessment_apply'] = _XC_CONFIG.pages['assessment_apply'] ? content_proxy + _XC_CONFIG.pages['assessment_apply'] : '';
        PAGE_TEMPLATES['microsite'] = '/wp-content/plugins/xcloud/app/apply/apply.html';
        PAGE_TEMPLATES['optin_confirmation'] = '/wp-content/plugins/xcloud/app/components/optin_confirmation/optin-confirmation.html';
        PAGE_TEMPLATES['slot_booking'] = '/wp-content/plugins/xcloud/app/components/slot_booking/slot-booking.html';
        PAGE_TEMPLATES['unsubscribe'] = _XC_CONFIG.pages['unsubscribe'] ? content_proxy + _XC_CONFIG.pages['unsubscribe'] : '';
        PAGE_TEMPLATES['auth0_authentication'] = _XC_CONFIG.pages['auth0_authentication'] ? content_proxy + _XC_CONFIG.pages['auth0_authentication'] : '';
        if(CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.enabled){
            PAGE_TEMPLATES['microsite'] = '/wp-content/plugins/xcloud/app/components/candidate_pool/candidate-pool.html';
        }
    })();

    DASHBOARD_TABS = _XC_CONFIG.tabs;
    DYNAMIC_PAGE_SETTINGS.RESET_PASSWORD_TEMPLATE_FLAG =  (_XC_CONFIG.login_modal.disabled === false) ? 'profile' : DYNAMIC_PAGE_SETTINGS.RESET_PASSWORD_TEMPLATE_FLAG;
}

var JOBSAPI_ORG = 1806;
if(cws_opts && cws_opts.org){
    JOBSAPI_ORG = cws_opts.org;
}

// Reverse this for multilingual
if( _XC_CONFIG && !_XC_CONFIG.context ){
    _XC_CONFIG.context = {};
    _XC_CONFIG.context.continue = 'Save and Continue';
    _XC_CONFIG.context.submit = 'Submit Application';
}

if( typeof _SFXR_CONFIG !== 'undefined') {
    EMAIL_PASSWORD_RESET_NAME = 'Password Reset Referrals';
    EMAIL_ACTIVATION_LINK_NAME = 'Referee Activation Link';
}

var ATSREPORTING_URL = "https://cert-data.hrapply.com";
var LEGACY_URL = "https://cert.hrapply.com/" + clientName;

var APPLY_STREAMS = {
    lcp      : _XC_CONFIG && _XC_CONFIG.streams.lcp ? _XC_CONFIG.streams.lcp : 35,
    lcp_short: _XC_CONFIG && _XC_CONFIG.streams.lcp_short ? _XC_CONFIG.streams.lcp_short : 35
};

// Client specific Java Script.  Mainly used to define clientName.
var clientName = clientName;
var ATS_INSTANCE = ATS_INSTANCE;
var ATSREPORTING_INSTANCE = ATSREPORTING_INSTANCE;

var maxLocalStorageTime = maxLocalStorageTime; // One Day = 24 hours * 60 minutes * 60 seconds * 1000 milliseconds.
var maxSessionStorageTime = maxSessionStorageTime; // 30 minutes;

// The default options for the ckEditor to be used for any site.
var ckEditorOptions = ckEditorOptions;
// Common Options:
// uiColor: "#00A0CC"
// skin: 'kama' - installed values: moono, moonocolor, moono-dark (doesn't work iwth uiColor), kama, office2013

'use strict';

// Global Variables & Functions

var GLOBAL_TIMEOUT = 1000;
var ROOT_SCOPE = null;

var MODULE_NAME_UTILS = "st.utils";
var MODULE_NAME_UTILS_ARRAY = "st.utils.ArrayUtil";
var MODULE_NAME_UTILS_LIST = "st.utils.ListService";
var MODULE_NAME_UTILS_LOCAL_STORAGE = "st.utils.LocalStorage";
var MODULE_NAME_UTILS_META = "st.utils.MetaService";
var MODULE_NAME_UTILS_OPTIONS = "st.utils.OptionsService";
var MODULE_NAME_UTILS_SESSION = "st.utils.SessionStorage";
var MODULE_NAME_UTILS_TABLE = "st.utils.TableService";
var MODULE_NAME_UTILS_PAGE = "st.utils.PageService";
var MODULE_NAME_UTILS_GLOBAL_STATE = "st.model.dependency.ModelDependencyFactory";

var MODULE_NAME_USER_AUTH = "st.user.auth.Auth";
var MODULE_NAME_USER_AUTH_BUFFER = "st.user.auth.AuthBuffer";

var MODULE_NAME_SERVICES = "st.services";
var MODULE_NAME_SERVICES_AI = "st.services.AIService";
var MODULE_NAME_SERVICES_APPLICATION = "st.services.ApplicationService";
var MODULE_NAME_SERVICES_HIERARCHY = "st.services.HierarchyService";
var MODULE_NAME_SERVICES_PEOPLE = "st.services.PeopleService";
var MODULE_NAME_SERVICES_REQUISITION = "st.services.RequisitionService";
var MODULE_NAME_SERVICES_USER = "st.services.UserService";
var MODULE_NAME_SERVICES_DATA_SOURCE = "st.services.DataSourceService";
var MODULE_NAME_SERVICES_CHECKIN = "st.services.CheckinService";


var MODULE_NAME_CONTROLLERS_USER_SITE = "st.controllers.user.site";
var MODULE_NAME_CONTROLLERS_USER_SITE_BASE = "st.controllers.user.site.BaseController";
var MODULE_NAME_CONTROLLERS_USER_SITE_MAIN = "st.controllers.user.site.MainController";
var MODULE_NAME_CONTROLLERS_USER_SITE_DASHBOARD = "st.controllers.user.site.DashboardController";
var MODULE_NAME_CONTROLLERS_USER_SITE_LOGIN = "st.controllers.user.site.LoginController";

var MODULE_NAME_CONTROLLERS_USER_SITE_ANALYTICS = "st.controllers.user.site.AnalyticsController";
var MODULE_NAME_CONTROLLERS_USER_SITE_MANAGE_JOBS = "st.controllers.user.site.ManageJobsController";
var MODULE_NAME_CONTROLLERS_USER_SITE_REQUISITION_SCREEN = "st.controllers.user.site.RequisitionScreen";
var MODULE_NAME_CONTROLLERS_USER_SITE_APPLICATION_VIEW = "st.controllers.user.site.ApplicationViewController";
var MODULE_NAME_CONTROLLERS_USER_SITE_REQUISITION_PROFILE = "st.controllers.user.site.RequisitionProfileController";
var MODULE_NAME_CONTROLLERS_USER_SITE_REQUISITION_EDIT = "st.controllers.user.site.RequisitionEditController";
var MODULE_NAME_CONTROLLERS_USER_SITE_SEARCH_APPLICATIONS = "st.controllers.user.site.SearchApplicationsController";
var MODULE_NAME_CONTROLLERS_USER_SITE_ADD_CANDIDATE = "st.controllers.user.site.AddCandidateController";

var MODULE_NAME_CONTROLLERS_USER_SITE_TEMPLATES_EDIT = "st.controllers.user.site.TemplatesEditController";

var MODULE_NAME_APPLY_AUTH = 'st.candidate.auth.AuthService';

var MODULE_NAME_CONTROLLERS_APPLY_SITE_BASE = "st.controllers.apply.site.BaseController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_MAIN = "st.controllers.apply.site.MainController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY = "st.controllers.apply.site.applyController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_LOGIN = "st.controllers.apply.site.LoginController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_AUTH0_LOGIN = "st.controllers.apply.site.auth0AuthenticationController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_SEARCH = "st.controllers.apply.site.SearchController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_SCREENING_QUESTIONS = "st.controllers.apply.site.ScreeningQuestionsController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_SCREEN_QUESTION = "st.controllers.apply.site.QuestionController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_ACCOUNT = "st.controllers.apply.site.AccountController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_CANDIDATE_ACTIVITY = "st.controllers.apply.site.candidateActivityController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_SCHEMA = "st.controllers.apply.site.candidateSchemaFormController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_ACCOUNT_NAV = "st.controllers.apply.site.NavigationController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_CONFIRMATION = "st.controllers.apply.site.confirmationController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_SLOT_BOOKING = "st.controllers.apply.site.slotBookingController";

var MODULE_NAME_CONTROLLERS_DASHBOARD_ATTACHMENT_ACCOUNT = "st.candidate.activity.dashboardAttachmentController";

var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW = "st.controllers.apply.site.ApplyFlow";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORMS = "st.controllers.apply.site.ApplyFlowForms";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORM = "st.controllers.apply.site.ApplyFlowForms";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_CONTAINERS = "st.controllers.apply.site.ApplyFlowContainers";


var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORMS_PERSONAL_INFO = "st.controllers.apply.site.personalInformationFormController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORMS_LEAD_CAPTURE = "st.controllers.apply.site.leadCaptureFormController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORMS_WORK_HISTORY = "st.controllers.apply.site.workHistoryFormController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORMS_EDUCATION = "st.controllers.apply.site.educationHistoryFormController";
var MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW_FORMS_EEO = "st.controllers.apply.site.eeoFormController";

var loginStatus = {loginFailed: false, loginAttempted: false};


function isPromise(deferred) {

    if (angular.isObject(deferred) &&
        angular.isObject(deferred.promise) &&
        deferred.promise.then instanceof Function &&
        deferred.promise["catch"] instanceof Function &&
        deferred.promise["finally"] instanceof Function) {
        //This is a simple Promise
        return true;
    }
    return false;
}

function toggleDebug(rootScope, routeParam) {

    if (ROOT_SCOPE === null) {
        ROOT_SCOPE = rootScope;
    }

    if (routeParam.debug !== undefined) {
        if (routeParam.debug === 'true') {
            rootScope.debugOption = '?debug=true';
            rootScope.showDebug = true;
            DEBUG = true;
        } else {
            rootScope.debugOption = '';
            rootScope.showDebug = false;
            DEBUG = false;
        }
    } else {
        rootScope.debugOption = '';
        rootScope.showDebug = false;
        DEBUG = false;
    }
}

function normalizeObjects(dirty) {
    return angular.fromJson(angular.toJson(dirty));
}

function reOrderFiltered(filter, grouping, orderColumn) {
    var reOrders = filter('orderBy')(grouping, orderColumn);
    var index = 0;
    for (var key in reOrders) {
        reOrders[key][orderColumn] = index++;
    }
}

function reOrder(list, orderColumn) {
    var index = 1;
    for (var key in list) {
        list[key][orderColumn] = index++;
    }
}

function selectAllByName(textName) {
    var textElement = document.getElementById(textName);
    selectAll(textElement);
}

function selectAll(text) {
    text.select();
}

function findLabelByValue(list, value) {
    for (var key in list) {
        if (list[key].value === value) {
            return list[key].label;
        }
    }
    return '';
}

function findActionByValue(list, value) {
    for (var key in list) {
        if (list[key].value === value) {
            return list[key].action;
        }
    }
    return '';
}

function findObjectById(list, id) {
    for (var key in list) {
        if (list[key].id === id) {
            return list[key];
        }
    }
    return null;
}

function findObjectByField(list, field, value) {
    for (var key in list) {
        if (list[key][field] === value) {
            return list[key];
        }
    }
    return null;
}

function length(field) {
    if (field === undefined) {
        return 0;
    }
    return field.length;

}


// Date time functions
function formatDateTime(milliseconds) { // 01/01/2015 1:30 PM

    var formatted = '';
    var offset = 0; // new Date().getTimezoneOffset();

    if (milliseconds !== null) {
        var date = new Date(milliseconds - (offset * 60 * 1000));
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        var hour24 = date.getHours();
        var minutes = date.getMinutes();
        var seconds = date.getSeconds();
        var hour = (hour24 > 12 ? hour24 - 12 : hour24);
        var ampm = (hour24 < 12 ? ' AM' : ' PM');
        if (hour === 0)
            hour = 12;
        return (month < 10 ? '0' : '') + month + '/' + (day < 10 ? '0' : '') + day + '/' + year + ' ' +
            hour + ':' + (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds + ampm;
    }

    return formatted;
}

function formatDate(milliseconds) {

    var formatted = '';
    var offset = 0;  // new Date().getTimezoneOffset();

    if (milliseconds !== null) {
        var date = new Date(milliseconds - (offset * 60 * 1000));
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        return (month < 10 ? '0' : '') + month + '/' + (day < 10 ? '0' : '') + day + '/' + year;
    }
    return formatted;
}

function formatTime(milliseconds) { // 01/01/2015 1:30 PM

    var formatted = '';
    var offset = 0; // new Date().getTimezoneOffset();

    if (milliseconds !== null) {
        var date = new Date(milliseconds - (offset * 60 * 1000));
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        var hour24 = date.getHours();
        var minutes = date.getMinutes();
        var seconds = date.getSeconds();
        var hour = (hour24 > 12 ? hour24 - 12 : hour24);
        var ampm = (hour24 < 12 ? ' AM' : ' PM');
        if (hour === 0)
            hour = 12;
        return hour + ':' + (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds + ampm;
    }

    return formatted;
}


// Uses JQuery and a modal dialog with the id: errorModal
function handleError(reason, errorMsg) {
    if (DEBUG) {
        // console.log(errorMsg);
    }

    if (ROOT_SCOPE !== null) {
        var atsMessage = null;

        if (reason !== undefined && reason !== null) {
            if (reason.data !== undefined && reason.data.message !== undefined) {
                atsMessage = reason.data.message;
            }
        }

        ROOT_SCOPE.errorMessage = errorMsg;
        ROOT_SCOPE.atsMessage = (atsMessage === null ? "" : atsMessage);
        $('#errorModal').modal({backdrop: 'static', keyboard: false, show: true});
    }
}

function hasSuccess(message) {

    if (DEBUG) {
        // console.log('Success: ' + message);
    }

    if (ROOT_SCOPE !== null) {
        ROOT_SCOPE.hasSuccess = true;
        ROOT_SCOPE.successMessage = message;
    }
}

function clearSuccess() {

    if (DEBUG) {
        // console.log('Clearning Success.');
    }

    if (ROOT_SCOPE !== null) {
        ROOT_SCOPE.hasSuccess = false;
    }
}


// Uses hasError t/f toggle to allow ng-show to determine
// the error display method
function hasError(reason, errorMsg) {
    if (ROOT_SCOPE !== null) {
        var atsMessage = null;
        var atsDetail = null;

        if (reason !== undefined && reason !== null) {
            if (reason.data !== undefined && reason.data !== null) {
                if (reason.data.message !== undefined && reason.data.message !== null) {
                    atsMessage = reason.data.message;
                }
                if (reason.data.detail !== undefined && reason.data.detail !== null) {
                    atsDetail = reason.data.detail;
                }

                if (DEBUG) {
                    // console.log(errorMsg + ' AtsMessage: ' + (atsMessage === null ? "" : atsMessage) + '\n - Detail: ' + (atsDetail === null ? "" : atsDetail));
                }
            }
        } else {
            if (DEBUG) {
                // console.log(errorMsg);
            }
        }

        ROOT_SCOPE.errorMessage = errorMsg;
        ROOT_SCOPE.atsMessage = (atsMessage === null ? "" : atsMessage);
        ROOT_SCOPE.atsDetail = (atsDetail === null ? "" : atsDetail);
        ROOT_SCOPE.hasError = true;
    }
}

function htmlDecode(input) {
    if (input === undefined || input === null) {
        input = "&nbsp;";
    }
    var element = document.createElement('div');
    element.innerHTML = input;
    return element.childNodes[0].nodeValue;
}

function singleSignOn(navigateTo, currentUser) {
    var form = document.createElement("form");
    form.setAttribute("method", 'POST');
    form.setAttribute("action", LEGACY_URL + '/Login.ats');

    var hiddenField = document.createElement("input");
    hiddenField.setAttribute("type", "hidden");
    hiddenField.setAttribute("name", 'uname');
    hiddenField.setAttribute("value", currentUser.username);
    form.appendChild(hiddenField);

    hiddenField = document.createElement("input");
    hiddenField.setAttribute("type", "hidden");
    hiddenField.setAttribute("name", 'password');
    hiddenField.setAttribute("value", currentUser.password);
    form.appendChild(hiddenField);

    hiddenField = document.createElement("input");
    hiddenField.setAttribute("type", "hidden");
    hiddenField.setAttribute("name", 'errPage');
    hiddenField.setAttribute("value", 'Setup.ats');
    form.appendChild(hiddenField);

    hiddenField = document.createElement("input");
    hiddenField.setAttribute("type", "hidden");
    hiddenField.setAttribute("name", 'nextPage');
    hiddenField.setAttribute("value", navigateTo);
    form.appendChild(hiddenField);

    document.body.appendChild(form);
    form.submit();
}

function lowerCaseFirst(string) {
    if (string === undefined) {
        return string;
    }

    // Lower the first letter always
    var result = string.charAt(0).toLowerCase();
    var lastPart = string.slice(1);

    // if the next value is lowercase, we're done
    if (lastPart.charAt(0) !== lastPart.charAt(0).toLowerCase()) {

        for (var key = 0; key < lastPart.length; key++) {
            if (lastPart[key] === lastPart[key].toUpperCase()) {
                var nextKey = key + 1;
                if (lastPart.charAt(nextKey) !== undefined && lastPart.charAt(nextKey) !== lastPart.charAt(nextKey).toLowerCase()) {
                    lastPart = lastPart.charAt(key).toLowerCase() + lastPart.slice(key + 1);
                } else {
                    break;
                }
            } else {
                break;
            }
        }
    }

    return result + lastPart;
}

function upperCaseFirst(string) {
    if (string === undefined) {
        return string;
    }

    var result = string.charAt(0).toUpperCase();
    var lastPart = string.slice(1);

    return result + lastPart;
}

function normalizeFieldName(fieldName) {

    var normalized = '';

    for (var x = 0; x < fieldName.length; x++) {
        if (fieldName.charAt(x) === fieldName.charAt(x).toUpperCase() && isChar(fieldName.charAt(x))) {
            normalized = normalized + ' ';
        }
        normalized = normalized + fieldName.charAt(x);
    }

    return upperCaseFirst(normalized);
}

function isChar(str) {
    return /^[a-zA-Z]+$/.test(str);
}

// cleans a json objec of its unknown paramters (ie, extra labels)
// scrub - the object to scrub
// name - the ATS Core name of the object
// metadata - a reference to the metadata angular.service
function scrubObject(scrub, name, metadata) {

    if (scrub === null || scrub === undefined ||
        name === null || name === undefined ||
        metadata === null || metadata === undefined) {

        if (DEBUG) {
            // console.log("scrubObject called with null/undefined parameters!");
        }
        return;
    }

    metadata.getTableMetadata({table: name}).$promise.then(function (result) {

        var tableData = normalizeObjects(result);

        for (var field in scrub) {
            var found = false;

            for (var key in tableData) {
                if (field === tableData[key].fieldName) {
                    found = true;
                    break;
                }
            }

            if (!found) {
                delete scrub[field];
                if (DEBUG) {
                    // console.log("Scrub - Deleted field: " + field);
                }
            }
        }

    }, function (reason) {
        handleError(reason, "Unable to scrub object: " + name);
    });
}

/* Taken from: http://www.movable-type.co.uk/scripts/latlong.html
 *
 * This uses the ‘haversine’ formula to calculate the great-circle distance between
 * two points – that is, the shortest distance over the earth’s surface – giving an
 * ‘as-the-crow-flies’ distance between the points (ignoring any hills they fly
 * over, of course!).
 *
 * Haversine
 * formula:	a = sin²(Δφ/2) + cos φ1 ⋅ cos φ2 ⋅ sin²(Δλ/2)
 * c = 2 ⋅ atan2( √a, √(1−a) )
 * d = R ⋅ c
 * where φ is latitude, λ is longitude, R is earth’s radius (mean radius = 6,371km);
 * note that angles need to be in radians to pass to trig functions!
 *
 */
var METERS_PER_MILE = 1609.34;

function Location(latitude, longitude) {
    this.latitude = Number(latitude);
    this.longitude = Number(longitude);
}

function calculateDistance(locationA, locationB) {

    if (!(locationA instanceof Location) || !(locationB instanceof Location)) {
        return -1;
    }

    var R = 6371e3; // metres

    var φ1 = locationA.latitude * Math.PI / 180;
    var φ2 = locationB.latitude * Math.PI / 180;

    var Δφ = (locationB.latitude - locationA.latitude) * Math.PI / 180;
    var Δλ = (locationB.longitude - locationA.longitude) * Math.PI / 180;

    var a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +
        Math.cos(φ1) * Math.cos(φ2) *
        Math.sin(Δλ / 2) * Math.sin(Δλ / 2);

    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));

    var d = R * c;

    return Number(d / METERS_PER_MILE).toFixed(2);
}

function isValidJSObject(objectToValidate) {
    return objectToValidate !== undefined && objectToValidate !== null;
}

function triggerScroll(elementIdentity,selectorPrefix) {
    try {
        var selector = '#';
        if (selectorPrefix !== undefined) {
            selector = selectorPrefix;
        }
        selector = selector + elementIdentity;
        var selectorElement = jQuery(selector);
        var scrollPX = XCLOUD.apply_filter('thank_you_section_scroll', selectorElement.offset().top + 'px');
        $('html, body').animate({
            scrollTop: scrollPX
        }, 'fast');

    }catch (reason){

    }
}

function setFocus(elementIdentity,selectOnFocus,selectorPrefix,elementPositionIndex){
    try {

        var selector = '#';
        if (selectorPrefix !== undefined) {
            selector = selectorPrefix;
        }
        selector = selector + elementIdentity;

        var selectorElement = jQuery(selector);
        if (elementPositionIndex !== undefined && isNaN(elementPositionIndex) === false) {
            selectorElement = selectorElement[elementPositionIndex];
        }

        if(selectorElement.focus !== undefined) {
            selectorElement.focus();
            if (selectOnFocus !== undefined && selectOnFocus === true) {
                selectorElement.select();
            }
        }
    }catch (reason){

    }
}

// sync between cookie and DB to persist favorite locations
function getHost() {
    var ATS_URL = "https://atscore.app.smashfly.io";
    var ATS_INSTANCE = '/ats-v2';
    if (_XC_CONFIG) {
        if (_XC_CONFIG.env === 'stg') {
            ATS_URL = "https://pub-cert-atscore.app.smashfly.io";
        }
        else if (_XC_CONFIG.env === 'dev') {
            ATS_URL = "https://pub-dev-atscore.app.smashfly.io";
        }
        else if(_XC_CONFIG.env === 'perf'){
            ATS_URL = "https://pub-perf-atscore.app.smashfly.io";
        }
    }
    return ATS_URL + ATS_INSTANCE;
}

function getFavoriteLocationsInCookie() {
    //returns the array of favorite location objects from cookie
    var name = 'location_favorite';
    var cookieData = document.cookie;
    var ca = cookieData.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) === ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) === 0) {
            var x =c.substring(name.length+1, c.length);
            return JSON.parse(x);
        }
    }
    return [];
}

function findIfItsThere(cookieEntry) {
    try{
        var returnValue = {"Exists": false, "Data":[]};
        var filteredEntry = dbData.filter(function (value) {
            return JSON.parse(value.filters).id === JSON.parse(cookieEntry.filters).id;
        });
        if(filteredEntry.length > 0){
            returnValue.Exists = true;
            if(filteredEntry[0].active === 1 || filteredEntry[0].active === "1"){
                // exists and active, block add call
                return returnValue;
            }else{
                // exists but not active, update the entry,
                returnValue.Data = filteredEntry;
                return returnValue;
            }
        }else{
            return returnValue;
        }
    }catch (e) {
        console.log(e);
    }
}

var dbData = [];
function syncFavoriteLocations() {
    try{
        var cookieData = getFavoriteLocationsInCookie();
        if(cookieData.length > 0){
            if (localStorage.getItem('xcloud.credentials') !== null) {
                var credentials = JSON.parse(atob(JSON.parse(localStorage.getItem('xcloud.credentials')).data));
                var host = getHost();
                var token = 'Basic ' + btoa('candidate/' + _XC_CONFIG.org + '/' + credentials.username + ':' + credentials.password);
                var ajaxURLCurrent = host + '/rest/private/candidate/' + _XC_CONFIG.org + '/current';
                jQuery.ajax(ajaxURLCurrent, {
                    beforeSend: function (xhr) {
                        xhr.setRequestHeader("Authorization", token);
                    },
                    success   : function (candidateObj) {
                        var caId = candidateObj.candidateId;
                        if(caId){
                            var ajaxGetFavLocationsURL = host + '/rest/private/candidate/' + _XC_CONFIG.org + '/savesearch/candidate/' + caId;
                            jQuery.ajax(ajaxGetFavLocationsURL,{
                                beforeSend: function (xhr) {
                                    xhr.setRequestHeader("Authorization", token);
                                },
                                success : function (resultData) {
                                    // add filter to flterout locations
                                    dbData = resultData.filter(function (value) {
                                       return value.type === 'location_favorite';
                                    });
                                    for(var i = 0; i <cookieData.length; i++) {
                                        var ExistenceCheck = findIfItsThere(cookieData[i]);
                                        if(!ExistenceCheck.Exists){
                                            // do not exists in DB. So go ahead and add.
                                            cookieData[i].candidateId = caId;
                                            cookieData[i].active = 1;
                                            cookieData[i].frequency = "";
                                            cookieData[i].deliveryMethod = "";
                                            cookieData[i].type = "location_favorite";
                                            var ajaxURL_Add = host + '/rest/private/candidate/' + _XC_CONFIG.org + '/savesearch/add';
                                            jQuery.ajax(ajaxURL_Add, {
                                                beforeSend: function (xhr) {
                                                    xhr.setRequestHeader("Authorization", token);
                                                },
                                                headers   : {
                                                    'Accept'      : 'application/json',
                                                    'Content-Type': 'application/json'
                                                },
                                                data      : JSON.stringify(cookieData[i]),
                                                // data      : data,
                                                datatype  : 'json',
                                                method    : "PUT",
                                                success   : function (data) {
                                                    // added successfully.
                                                },
                                                error     : function (e) {
                                                    console.log(e);
                                                }
                                            });

                                        }else if(ExistenceCheck.Data.length > 0){
                                            // Entry Exists in DB but not active, Go ahead and Update the existing entry
                                            var dataTOUpdate = ExistenceCheck.Data[0];
                                            dataTOUpdate.active = 1;
                                            var ajaxURL_Update = host + '/rest/private/candidate/' + _XC_CONFIG.org + '/savesearch/update';
                                            jQuery.ajax(ajaxURL_Update, {
                                                beforeSend: function (xhr) {
                                                    xhr.setRequestHeader("Authorization", token);
                                                },
                                                headers   : {
                                                    'Accept'      : 'application/json',
                                                    'Content-Type': 'application/json'
                                                },
                                                data      : JSON.stringify(dataTOUpdate),
                                                // data      : data,
                                                datatype  : 'json',
                                                method    : "POST",
                                                success   : function (data) {
                                                    // Updated successfully.
                                                },
                                                error     : function (e) {
                                                    console.log(e);
                                                }
                                            });
                                        }
                                    }
                                    document.cookie = "location_favorite =" + JSON.stringify([]) + ";" + 0 +";path=/";
                                },
                                error : function (e) {
                                    console.log(e);
                                }
                            });
                        }
                    }, error  : function (e) {
                        console.log(e);
                    }
                });
            }
        }
    }catch (e) {
        console.log(e);
    }
}


/**
 * Created by TDadam on 4/27/2018.
 */
var E_MODAL_POPUP_SIZE = {
    LARGE: 'lg',
    NONE : '',
    SMALL: 'sm'
};

var E_COMMUNICATION_TYPE = {
    MARKETING: "marketing",
    SYSTEM   : "system",
    SMS      : "marketing",
    JOBALERT : "job_alert"
};

var E_COMMUNICATION_CHANNEL = {
    EMAIL: "email",
    SMS  : "sms",
};

var EBOOLEAN_TYPE = {
    TRUE : 't',
    FALSE: 'f'
};

var E_WORK_FLOW = {
    APPLY          : 3,
    APPLY_LCP      : 4,
    ALERT_LCP      : 6,
    CREATE_PASSWORD: 0,
    DASHBOARD      : 2,
    JOIN_LCP       : 5,
    MODIFY_PASSWORD: 1,
    MICROSITE_LCP  : 7,
    EVENT_LCP  : 8,
    NONE           : -1
};
var ANGULAR_SCHEMA_FORMATTER = {
    LOOK_UP: {
        DEFAULT  : {
            LABEL_FIELD: "name",
            SOURCE     : "titleMap",
            VALUE_FIELD: "value"
        },
        DROP_DOWN: {
            LABEL_FIELD: "name",
            SOURCE     : "titleMap",
            VALUE_FIELD: "value"
        },
        TYPES    : {
            SELECT         : "select",
            UI_MULTI_SELECT: "uimultiselect",
            UI_SELECT      : "uiuiselect",
            MULTI_SELECT_DROPDOWN : "multiselectdropdown",
        },
        UI_SELECT: {
            LABEL_FIELD: "label",
            SOURCE     : "items",
            VALUE_FIELD: "value",
            LIST_ID_FIELD: "listId"
        }
    }
};


var E_BOOTSTRAP_ALERT = {
    CLASS: {
        DANGER : "alert alert-danger",
        INFO   : "alert alert-info",
        SUCCESS: "alert alert-success",
        WARNING: "alert alert-warning"
    }
};

var E_TEMPLATE_FLAG_TYPE = {
    PROFILE       : 'profile',
    RESET_PASSWORD: 'reset'
};

/**
 * Created by TDadam on 12/17/2017.
 */
// Wrapping this in a self-calling function so that functions/variables in here aren't global
var TEMPLATE_CONSTANTS = (function () {
    function TEMPLATE_STRING(str, context) {
        this.str = str;
        this.context = context;
    }

    // This prototype will make "TEMPLATE_CONSTANTS.TITLE.ACTIONS.CLOSE" return a string rather than [object Object]
    TEMPLATE_STRING.prototype.toString = function () {
        return this.str;
    };

    var _FIELD_TYPES = {
        BUTTON    : "buttons",
        DASHBOARD : "dashboard",
        LABELS    : "labels",
        TITLES    : "titles",
        TEXT      : "text",
        VALIDATION: "validation"
    };
    var _PREFIX = {
        SCHEMA_HELP_BLOCK          : 'SchemaStatus',
        ON_BOARDING_FORM_COMPLETION: "onBoardingFormCompletion"
    };
    var _TITLE = {
        ACTIONS           : {
            ACTION             : new TEMPLATE_STRING("Action", _FIELD_TYPES.TEXT),
            CANCEL             : new TEMPLATE_STRING("Cancel", _FIELD_TYPES.BUTTON),
            CLOSE              : new TEMPLATE_STRING("Close window", _FIELD_TYPES.BUTTON),
            CLICK_HERE         : new TEMPLATE_STRING("click here.", _FIELD_TYPES.BUTTON),
            CREATE_ONE         : new TEMPLATE_STRING("Create one", _FIELD_TYPES.BUTTON),
            CONTINUE           : new TEMPLATE_STRING("Continue", _FIELD_TYPES.BUTTON),
            SUBMIT             : new TEMPLATE_STRING("Submit", _FIELD_TYPES.BUTTON),
            DELETE             : new TEMPLATE_STRING("Delete", _FIELD_TYPES.TEXT),
            DELETE_ACCOUNT     : new TEMPLATE_STRING("Delete Account", _FIELD_TYPES.BUTTON),
            EDIT               : new TEMPLATE_STRING("Edit", _FIELD_TYPES.BUTTON),
            NO                 : new TEMPLATE_STRING("No", _FIELD_TYPES.BUTTON),
            OK                 : new TEMPLATE_STRING("OK", _FIELD_TYPES.BUTTON),
            REMOVE_ATTACHMENT  : new TEMPLATE_STRING("Remove Attachment", _FIELD_TYPES.TEXT),
            DOWNLOAD_ATTACHMENT: new TEMPLATE_STRING("Download Attachment", _FIELD_TYPES.TEXT),
            REMOVE_ACTIVITY    : new TEMPLATE_STRING("Remove Activity", _FIELD_TYPES.TEXT),
            RETURN_TO_HOME     : new TEMPLATE_STRING(" Return to Homepage", _FIELD_TYPES.BUTTON),
            SAVE               : new TEMPLATE_STRING("SAVE", _FIELD_TYPES.BUTTON),
            SKIP               : new TEMPLATE_STRING("SKIP", _FIELD_TYPES.BUTTON),
            SIGN_IN            : new TEMPLATE_STRING("Sign In", _FIELD_TYPES.BUTTON),
            TRY_AGAIN          : new TEMPLATE_STRING("Try again", _FIELD_TYPES.BUTTON),
            VIEW_APPLICATIONS  : new TEMPLATE_STRING("View Applications", _FIELD_TYPES.BUTTON),
            YES_DELETE         : new TEMPLATE_STRING("Yes, Delete", _FIELD_TYPES.BUTTON),
            START              : new TEMPLATE_STRING("Start", _FIELD_TYPES.BUTTON),
            YES                : new TEMPLATE_STRING("Yes", _FIELD_TYPES.BUTTON),
            UPLOAD_FILE        : new TEMPLATE_STRING("Upload File", _FIELD_TYPES.BUTTON),
            UPLOAD_RESUME      : new TEMPLATE_STRING("Upload Resume", _FIELD_TYPES.BUTTON),
            DISMISS            : new TEMPLATE_STRING("Dismiss", _FIELD_TYPES.BUTTON),
            LOGIN              : new TEMPLATE_STRING("Login", _FIELD_TYPES.BUTTON),
            SAVE_DISABLED      : new TEMPLATE_STRING("Save disabled", _FIELD_TYPES.BUTTON),
            ADD                : new TEMPLATE_STRING("Add", _FIELD_TYPES.BUTTON),
            REMOVE_NOTIFICATION: new TEMPLATE_STRING("Remove Notification", _FIELD_TYPES.BUTTON)
        },
        FORMS             : {
            BACKGROUND_INFO   : new TEMPLATE_STRING("Background Information", _FIELD_TYPES.TEXT),
            CONFIRMATION      : new TEMPLATE_STRING("Confirmation", _FIELD_TYPES.TEXT),
            CANDIDATE_INFO    : new TEMPLATE_STRING("Candidate Information", _FIELD_TYPES.TEXT),
            CERTIFICATIONS    : new TEMPLATE_STRING("Certifications", _FIELD_TYPES.TEXT),
            CREATE_PASSWORD   : new TEMPLATE_STRING("CREATE PASSWORD", _FIELD_TYPES.TEXT),
            EEO_INFO          : new TEMPLATE_STRING("EEO Information", _FIELD_TYPES.TEXT),
            EDUCATION_HISTORY : new TEMPLATE_STRING("Education History", _FIELD_TYPES.TEXT),
            EMPLOYMENT_HISTORY: new TEMPLATE_STRING("Employment History", _FIELD_TYPES.TEXT),
            FORGOT_PASSWORD   : new TEMPLATE_STRING("Forgot Password", _FIELD_TYPES.TEXT),
            ON_BOARDING       : new TEMPLATE_STRING("Onboarding", _FIELD_TYPES.TEXT),
            PROFILE_DOWNLOAD  : new TEMPLATE_STRING("Profile Download", _FIELD_TYPES.TEXT),
            RESET_PASSWORD    : new TEMPLATE_STRING("Reset Password", _FIELD_TYPES.TEXT),
            SCREENING         : new TEMPLATE_STRING("Screening", _FIELD_TYPES.TEXT)
        },
        LABELS            : {
            CONFIRMATION                     : new TEMPLATE_STRING("Do you want to close this form?", _FIELD_TYPES.TITLES),
            YOUR_ACCOUNT                     : new TEMPLATE_STRING("Your Account", _FIELD_TYPES.TITLES),
            DELETE_YOUR_ACCOUNT              : new TEMPLATE_STRING("Delete Your Account?", _FIELD_TYPES.TITLES),
            DUE_TITLE                        : new TEMPLATE_STRING("Due by", _FIELD_TYPES.TITLES),
            DO_NOT_HAVE_PROFILE              : new TEMPLATE_STRING("Don't have a talent profile?", _FIELD_TYPES.TITLES),
            FIELDS_ACCESSIBILITY             : {
                DATE_FIELD_YYYY_MM_DD: new TEMPLATE_STRING("Please enter date in YYYY-DD-MM Format", _FIELD_TYPES.TEXT)
            },
            OR                               : new TEMPLATE_STRING("OR", _FIELD_TYPES.TITLES),
            PROGRESS_SAVE                    : new TEMPLATE_STRING("Your progress will not be saved.", _FIELD_TYPES.TITLES),
            IMPORTANT                        : new TEMPLATE_STRING("Saving Form.", _FIELD_TYPES.TITLES),
            FINAL_SAVE_ALERT                 : new TEMPLATE_STRING("This is your last form. If you submit it now, you will not be able to edit it or any of your previous forms.", _FIELD_TYPES.TITLES),
            OF                               : new TEMPLATE_STRING("of", _FIELD_TYPES.TITLES),
            PAGE                             : new TEMPLATE_STRING("Page", _FIELD_TYPES.TITLES),
            SAVING                           : new TEMPLATE_STRING("Saving", _FIELD_TYPES.TITLES),
            PASSWORD                         : new TEMPLATE_STRING("Password", _FIELD_TYPES.LABELS),
            USER_NAME_EMAIL                  : new TEMPLATE_STRING("User Name/Email", _FIELD_TYPES.LABELS),
            EMAIL_ADDRESS                    : new TEMPLATE_STRING("Email address", _FIELD_TYPES.LABELS),
            ALLOW_RESUME_DASHBOARD           : new TEMPLATE_STRING("Want to use your resume to fill out your profile automatically?", _FIELD_TYPES.LABELS),
            YES_PARSE                        : new TEMPLATE_STRING("Yes Please", _FIELD_TYPES.TITLES),
            NO_PARSE                         : new TEMPLATE_STRING("No Thanks", _FIELD_TYPES.TITLES),
            DELETE_ATTACHMENT_CONFIRMATION   : new TEMPLATE_STRING("Are you sure you want to delete this attachment?", _FIELD_TYPES.TITLES),
            DOCUMENT_UPLOAD_CONFIRMATION     : new TEMPLATE_STRING("Attachment uploaded successfully", _FIELD_TYPES.TITLES),
            DOCUMENT_UPLOAD_ERROR            : new TEMPLATE_STRING("Error in uploading Document!!. Please try again after some time.", _FIELD_TYPES.TITLES),
            DOCUMENT_DELETE_ERROR            : new TEMPLATE_STRING("Error in deleting Document!!. Please try again after some time.", _FIELD_TYPES.TITLES),
            DOCUMENT_DELETED_CONFIRMATION    : new TEMPLATE_STRING("Document deleted successfully", _FIELD_TYPES.TITLES),
            ATTACHMENT_DELETED_CONFIRMATION  : new TEMPLATE_STRING("Attachment deleted successfully", _FIELD_TYPES.TITLES),
            RESUME_PARSED_UPLOAD_CONFIRMATION: new TEMPLATE_STRING("Resume parsed and uploaded successfully", _FIELD_TYPES.TITLES),
            RESUME_PARSED_UPLOAD_ERROR       : new TEMPLATE_STRING("Resume parsed Successfully, but Error in uploading Resume!!. Please try again after some time.", _FIELD_TYPES.TITLES),
            RESUME_DELETED_CONFIRMATION      : new TEMPLATE_STRING("Resume deleted successfully", _FIELD_TYPES.TITLES),
            RESUME_UPLOAD_CONFIRMATION       : new TEMPLATE_STRING("Resume uploaded successfully", _FIELD_TYPES.TITLES),
            RESUME_UPLOAD_ERROR              : new TEMPLATE_STRING("Error in uploading Resume!!. Please try again after some time.", _FIELD_TYPES.TITLES),
            PREFERRED_JOB_TITLE              : new TEMPLATE_STRING("Preferred Job Title", _FIELD_TYPES.LABELS),
            ENTER_JOB_TITLE                  : new TEMPLATE_STRING("Enter Job Title(s)", _FIELD_TYPES.LABELS),
            PREFERRED_LOCATIONS              : new TEMPLATE_STRING("Preferred Locations", _FIELD_TYPES.LABELS),
            ENTER_PREFERRED_LOCATIONS        : new TEMPLATE_STRING("Enter Location(s)", _FIELD_TYPES.LABELS),
            AREA_OF_INTEREST                 : new TEMPLATE_STRING("Area of Interest", _FIELD_TYPES.LABELS),
            COMMUNICATIONS                   : new TEMPLATE_STRING("Communications", _FIELD_TYPES.LABELS),
            ENTER_AREA_OF_INTEREST           : new TEMPLATE_STRING("Enter Area(s) of Interest", _FIELD_TYPES.LABELS)
        },
        BANNER            : {
            AND                                   : new TEMPLATE_STRING("and", _FIELD_TYPES.TEXT),
            PREFERENCE_NOTIFICATION_TEXT          : new TEMPLATE_STRING("Please provide Job Title, Area of Interest and Location preferences to enhance our automated job matching.", _FIELD_TYPES.TEXT),
            PREFERENCE_NOTIFICATION_TEXT_2        : new TEMPLATE_STRING("Type your preference and Hit Enter to record entries.", _FIELD_TYPES.TEXT),
            APPLY_ASSESSMENT_HEADER               : new TEMPLATE_STRING("You need to complete the following assessments as part of your application. You can also find these assessments in the To-Do section of your profile.", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_HEADING                   : new TEMPLATE_STRING("Thank you. Your subscription preferences have been updated.", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_SUCCESS_HEADER            : new TEMPLATE_STRING("Access <b><u><a href='/profile/'>your profile</a></u></b> to manage your profile further.", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_FAILED_HEADER             : new TEMPLATE_STRING("We are unable to authenticate this request and cannot unsubscribe you at this time. <br><br> Please access your profile <b><u><a href='/profile/'>here</a></u></b> and manage your Subscription Settings.", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_FAILED_HEADER_LOGINLESS   : new TEMPLATE_STRING("The email unsubscribe link has expired. <br> Please use a more recent e-mail to unsubscribe.", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_EMAIL_INVALID             : new TEMPLATE_STRING("We are unable to validate your User Name` / Email Address information.​", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_SETTINGS_HEADING         : new TEMPLATE_STRING("You are in control of the types of emails that you'd like us to send.​", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_SETTINGS_SUBHEADING         : new TEMPLATE_STRING("Check the boxes you want to keep and uncheck the ones you want to unsubscribe.​", _FIELD_TYPES.TEXT),
            DOWNLOADING                           : new TEMPLATE_STRING("Downloading", _FIELD_TYPES.TEXT),
            DOWNLOAD_INSTRUCTION_CSV              : new TEMPLATE_STRING("If your profile does not start downloading within 10 seconds,", _FIELD_TYPES.TEXT),
            DOWNLOAD_INSTRUCTION_CSV_FILE_TYPE    : new TEMPLATE_STRING("profiles are downloaded as CSV files.", _FIELD_TYPES.TEXT),
            DELETE_ACCOUNT_INFORMATION            : new TEMPLATE_STRING("If you proceed, your account with all your saved information will be erased. This action cannot be undone.", _FIELD_TYPES.TEXT),
            DELETE_ACCOUNT_CAPTCHA                : new TEMPLATE_STRING("Type the word DELETE in upper case to confirm.", _FIELD_TYPES.TEXT),
            DELETE_ACCOUNT_CONFIRMATION_TEXT      : new TEMPLATE_STRING("Your account has been deleted. Click OK to continue.", _FIELD_TYPES.TEXT),
            INTERVIEW_SLOT_UNAVAILABLE_TEXT       : new TEMPLATE_STRING("Sorry, that time slot was just booked. Please refresh your browser to view available times. ", _FIELD_TYPES.TEXT),
            NEW_USER_APPLY_THANK_YOU_MESSAGE      : new TEMPLATE_STRING("Welcome to Candidate Experience. Thank you for your application! Please check your email for an activation link to see the status of your application.", _FIELD_TYPES.TEXT),
            ON_BOARDING_SUB_HEADER                : new TEMPLATE_STRING("PLEASE NOTE: After starting a form, you must complete it. You will not be able to save your progress or come back to finish it. All incomplete form data will be deleted.", _FIELD_TYPES.TEXT),
            RETURNING_USER_APPLY_THANK_YOU_MESSAGE: new TEMPLATE_STRING("Your application was received. A recruiter will contact you if your qualifications and experience align with an open position", _FIELD_TYPES.TEXT),
            RESET_PASSWORD_NON_COMPLIANCE         : new TEMPLATE_STRING("Sorry, we need a password to activate your profile.", _FIELD_TYPES.TEXT),
            GDPR_NON_COMPLIANCE                   : new TEMPLATE_STRING("in accordance with our Privacy Policy we need you to accept this terms to allow us to maintain your profile.", _FIELD_TYPES.TEXT),
            SIGNATURE_PLACEHOLDER                 : new TEMPLATE_STRING("Please type your full name here as per your Profile", _FIELD_TYPES.TEXT),
            TERMS_POLICY_LEFT_TITLE_START         : new TEMPLATE_STRING("Yes, I agree to the", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_START              : new TEMPLATE_STRING("I would like to be contacted with marketing and job alerts from", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_SOFT_OPT_IN_TITLE        : new TEMPLATE_STRING("No, I do not wish to be contacted with marketing and job alerts from", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_END                : new TEMPLATE_STRING("I know I can unsubscribe at any time.", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_EMAIL              : new TEMPLATE_STRING("Emails", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_ALL_EMAILS         : new TEMPLATE_STRING("All Marketing Emails", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_MARKETING_EMAIL    : new TEMPLATE_STRING("Marketing Emails", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_SMS                : new TEMPLATE_STRING("SMS Text", _FIELD_TYPES.TEXT),
            SUBSCRIPTION_TITLE_JOB_ALERTS         : new TEMPLATE_STRING("Job Alert Emails", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_EMAIL                     : new TEMPLATE_STRING("Profile updated, You are successfully unsubscribed form email alerts", _FIELD_TYPES.TEXT),
            SUBSCRIBE_EMAIL                       : new TEMPLATE_STRING("Profile updated, You are successfully subscribed to email alerts", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_EMAIL_SMS                 : new TEMPLATE_STRING("Profile updated, You are successfully unsubscribed form marketing, job alerts and SMS Text", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_EMAIL_SUBSCRIBE_SMS       : new TEMPLATE_STRING("Profile updated, You are successfully subscribed to SMS Text and successfully unsubscribed form marketing, job alerts", _FIELD_TYPES.TEXT),
            UNSUBSCRIBE_SMS_SUBSCRIBE_EMAIL       : new TEMPLATE_STRING("Profile updated, You are successfully subscribed to marketing, job alerts and successfully unsubscribed form SMS Text", _FIELD_TYPES.TEXT),
            SUBSCRIBE_EMAIL_SMS                   : new TEMPLATE_STRING("Profile updated, You are successfully subscribed to marketing, job alerts and SMS Text", _FIELD_TYPES.TEXT),
            TERMS_OF_USE                          : new TEMPLATE_STRING("Terms of Use", _FIELD_TYPES.TEXT),
            PRIVACY_POLICY                        : new TEMPLATE_STRING("Privacy Policy", _FIELD_TYPES.TEXT),
            REQUIRED_FIELD                        : new TEMPLATE_STRING("* Required Fields", _FIELD_TYPES.TEXT),
            SCHOOL_DETAILS                        : new TEMPLATE_STRING("School Details", _FIELD_TYPES.TEXT),
            JOB_DETAILS                           : new TEMPLATE_STRING("Job Details", _FIELD_TYPES.TEXT),
            CERTIFICATE_LICENSE_DETAILS           : new TEMPLATE_STRING("Certificate / License Details", _FIELD_TYPES.TEXT),
            ARE_YOU_SURE_YOU_WANT_TO_DELETE_THE   : new TEMPLATE_STRING("Are you sure you want to delete the", _FIELD_TYPES.TEXT),
            RECORD_SUCCESSFULLY_UPDATED           : new TEMPLATE_STRING("record successfully updated ", _FIELD_TYPES.TEXT),
            HISTORY                               : new TEMPLATE_STRING("history?", _FIELD_TYPES.TEXT),
            PASSWORD_RESET_HAS_BEEN_SUCCESSFUL    : new TEMPLATE_STRING("Password reset has been successful.", _FIELD_TYPES.TEXT),
            WORK_HISTORY_MSG                      : new TEMPLATE_STRING("What work experience do you have?", _FIELD_TYPES.TEXT),
            EDUCATION_HISTORY_MSG                 : new TEMPLATE_STRING("Where did you go to school?", _FIELD_TYPES.TEXT),
            SLOT_BOOKING_ERROR                    : new TEMPLATE_STRING("Sorry, that time slot is no longer available", _FIELD_TYPES.TEXT),
            SLOT_SELECT_TIME                      : new TEMPLATE_STRING("Select a time for your interview session", _FIELD_TYPES.TEXT),
            CANCEL_SLOT_TEXT                      : new TEMPLATE_STRING("You're session is cancelled.", _FIELD_TYPES.TEXT),
            DIFFERENT_SLOT_TEXT                   : new TEMPLATE_STRING("Need a different time?", _FIELD_TYPES.TEXT),
            SLOT_INVITE_TEXT_START                : new TEMPLATE_STRING("You're invited to an interview session at  ", _FIELD_TYPES.TEXT),
            SLOT_INVITE_TEXT_END                  : new TEMPLATE_STRING(". We encourage you to bring a friend, more the merrier!", _FIELD_TYPES.TEXT),
            SLOT_RESERVE_TEXT                     : new TEMPLATE_STRING("Your spot has been reserved", _FIELD_TYPES.TEXT),
            EMAIL_RECEIVE_TEXT                    : new TEMPLATE_STRING("You will receive an email with all the information you need for your group session.", _FIELD_TYPES.TEXT),
            INTERVIEW_SESSION_TEXT_START          : new TEMPLATE_STRING("Interview Session - ", _FIELD_TYPES.TEXT),
            INTERVIEW_SESSION_TEXT_END            : new TEMPLATE_STRING(" careers", _FIELD_TYPES.TEXT),
            CONFIRMATION_BUTTON_TEXT              : new TEMPLATE_STRING("Reserve My Spot", _FIELD_TYPES.TEXT),
            ERROR_MESSAGE_TEXT                    : new TEMPLATE_STRING("Something went wrong. Please try again later!", _FIELD_TYPES.TEXT)
        },
        DASHBOARD         : {
            ATTACHMENT                       : new TEMPLATE_STRING("Attachments", _FIELD_TYPES.LABELS),
            UPDATE_SOCIAL_PROFILE_HEADER     : new TEMPLATE_STRING("Would you like to <span class=\"caps\">Update your profile with your</span> {{socialProvider}} ?", _FIELD_TYPES.TEXT),
            UPDATE_SOCIAL_PROFILE_DESCRIPTION: new TEMPLATE_STRING("Please note that this will overwrite any profile data with profile information from <b>{{socialProvider}}.</b>", _FIELD_TYPES.TEXT),
            DOCUMENTS                        : new TEMPLATE_STRING("Documents", _FIELD_TYPES.LABELS),
            FILE                             : new TEMPLATE_STRING("File", _FIELD_TYPES.LABELS),
            ACTION                           : new TEMPLATE_STRING("Action", _FIELD_TYPES.LABELS),
            ATTACHMENT_TYPE                  : new TEMPLATE_STRING("Type", _FIELD_TYPES.LABELS),
            CHOOSE_A_FILE                    : new TEMPLATE_STRING("Choose a file", _FIELD_TYPES.LABELS),
            CHOOSE_A_DOCUMENT_FILE           : new TEMPLATE_STRING("Choose your file and upload it here. The following file types are supported. (.rtf, .doc, .docx, .txt, .pdf files with a 2MB maximum file size are supported)", _FIELD_TYPES.TEXT),
            CHOOSE_A_IMAGE_OR_DOCUMENT_FILE  : new TEMPLATE_STRING("Choose your file and upload it here. The following file types are supported. (.rtf, .doc, .docx, .txt, .pdf, .png, .jpeg, .jpg files with a 2MB maximum file size are supported)", _FIELD_TYPES.TEXT),
            CHOOSE_A_RESUME_FILE             : new TEMPLATE_STRING("Choose your resume and upload to your profile. (.rtf, .doc, .docx, .txt, .pdf files with a 2MB maximum file size are supported)", _FIELD_TYPES.TEXT),
        },
        CANDIDATE_ACTIVITY: {
            PREFERENCE_ALERT_TEXT : new TEMPLATE_STRING("Keep your Profile Preferences current to enhance automated job matching.", _FIELD_TYPES.TEXT),
            PREFERENCE_LINK_TEXT  : new TEMPLATE_STRING("Manage Preferences", _FIELD_TYPES.TEXT),
            NO_RECENT_ACTIVITY    : new TEMPLATE_STRING("There are no recent activity to show.", _FIELD_TYPES.TEXT),
            NO_ACTIVITY_FOR_FILTER: new TEMPLATE_STRING("No activities for this filter.", _FIELD_TYPES.TEXT),
            NO_RECENT_NOTIFICATION: new TEMPLATE_STRING("There are no recent notification to show.", _FIELD_TYPES.TEXT),
            GO_TO                 : new TEMPLATE_STRING("go to", _FIELD_TYPES.TEXT),
            MY_PROFILE            : new TEMPLATE_STRING("My Profile", _FIELD_TYPES.TEXT),
            SHOW_ACCOUNT_LINK     : window.location.pathname.indexOf('/profile/') === -1,
            RECENT                : new TEMPLATE_STRING("recent", _FIELD_TYPES.DASHBOARD),
            RECENT_ACTIVITY       : new TEMPLATE_STRING("Recent Activity", _FIELD_TYPES.DASHBOARD),
            ACTION                : new TEMPLATE_STRING("action", _FIELD_TYPES.DASHBOARD),
            REMINDER              : new TEMPLATE_STRING("reminder", _FIELD_TYPES.DASHBOARD),
            SUMMARY               : new TEMPLATE_STRING("summary", _FIELD_TYPES.DASHBOARD),
            NOTIFICATION          : new TEMPLATE_STRING("notification", _FIELD_TYPES.DASHBOARD),
            STATUS                : new TEMPLATE_STRING("Status", _FIELD_TYPES.DASHBOARD),
            SUGGESTION            : new TEMPLATE_STRING("suggestion", _FIELD_TYPES.DASHBOARD),
            VIEW_MORE             : new TEMPLATE_STRING("View more", _FIELD_TYPES.DASHBOARD),
            VIEW_LESS             : new TEMPLATE_STRING("View less", _FIELD_TYPES.DASHBOARD),
        },
        HEADER            : {
            GDPR_MIGRATION           : new TEMPLATE_STRING("We Have Updated our Terms of Use and Privacy Policy", _FIELD_TYPES.TEXT),
            REVIEW_AND_COMPLETE      : new TEMPLATE_STRING("Please review and complete", _FIELD_TYPES.TEXT),
            THANK_YOU_ACKNOWLEDGEMENT: new TEMPLATE_STRING("Thank You for Your Acknowledgement.", _FIELD_TYPES.TEXT),
            OPTIN_CONFIRMATION: new TEMPLATE_STRING("Thanks For Your Confirmation.", _FIELD_TYPES.TEXT)
        }
    };
    var _VALIDATION = {
        PREVENT_LOGIN_START           : new TEMPLATE_STRING("Please complete your application to login.", _FIELD_TYPES.VALIDATION),
        PREVENT_LOGIN_LINK            : new TEMPLATE_STRING("Click here to complete your application", _FIELD_TYPES.VALIDATION),
        GDPR_UPDATE_FAILURE           : new TEMPLATE_STRING("Something went wrong! Failed to update preferences.", _FIELD_TYPES.VALIDATION),
        INCOMPLETE                    : new TEMPLATE_STRING("Please complete following forms to continue", _FIELD_TYPES.VALIDATION),
        INVALID_CONTENT               : new TEMPLATE_STRING("Attachment content type is invalid", _FIELD_TYPES.VALIDATION),
        IN_COMPATIBLE_FILE_FORMAT     : new TEMPLATE_STRING("Unsupported file format", _FIELD_TYPES.VALIDATION),
        FILE_SIZE_EXCEED              : new TEMPLATE_STRING("Exceeded file size", _FIELD_TYPES.VALIDATION),
        MAX_UPLOAD_REACHED_START      : new TEMPLATE_STRING("You can only upload ", _FIELD_TYPES.VALIDATION),
        MAX_UPLOAD_REACHED_END        : new TEMPLATE_STRING(" attachments", _FIELD_TYPES.VALIDATION),
        INVALID_CURRENT_PASS          : new TEMPLATE_STRING("Current password is invalid", _FIELD_TYPES.TEXT),
        REUSED_NEW_PASSWORD           : new TEMPLATE_STRING("Your new password cannot be the same as a previously used password. Please enter a different password.", _FIELD_TYPES.TEXT),
        DELETE_MISMATCH               : new TEMPLATE_STRING("Entered keyword does not match the word \"DELETE\" in upper case.", _FIELD_TYPES.VALIDATION),
        INVALID_EMAIL_PASSWORD        : new TEMPLATE_STRING("Invalid email or password entered.", _FIELD_TYPES.VALIDATION),
        ACTIVATE_ACCOUNT              : new TEMPLATE_STRING("Please check your mailbox to activate your Talent Profile account and login. If you do not see activation email please check your spam or junk folder.", _FIELD_TYPES.VALIDATION),
        REQUIRED_FIELDS_NEEDED        : new TEMPLATE_STRING("Please edit your records and provide information for the required fields.", _FIELD_TYPES.VALIDATION),
        REGISTRATION_FAIL             : new TEMPLATE_STRING("Registration Failure: Something went wrong and we could not register with your social profile. Please try again later.", _FIELD_TYPES.VALIDATION),
        WITHOUT_EMAIL_ID              : new TEMPLATE_STRING("To create a new talent profile, please add a valid email address in your social profile and try again.", _FIELD_TYPES.VALIDATION),
        LOGIN_FAIL                    : new TEMPLATE_STRING("Login Failure: Something went wrong and we failed to connect to your social network. Please try again later.", _FIELD_TYPES.VALIDATION),
        UNSUPPORTED_ACTIVITY          : new TEMPLATE_STRING("Unsupported Activity.", _FIELD_TYPES.VALIDATION),
        GENERAL_EXCEPTION             : new TEMPLATE_STRING("General Exception: Something went wrong while trying to access your social profile. Please try again later.", _FIELD_TYPES.VALIDATION),
        DEACTIVATED_MESSAGE           : new TEMPLATE_STRING("Sorry, this account has been deleted at the user's request.", _FIELD_TYPES.VALIDATION),
        FORGOT_PASSWORD_TEXT          : new TEMPLATE_STRING("If an account matches the e-mail address supplied, an e-mail has been sent to the address with reset instructions.", _FIELD_TYPES.VALIDATION),
        FORGOT_PASSWORDERROR_TEXT     : new TEMPLATE_STRING("Enter valid e-mail address.", _FIELD_TYPES.VALIDATION),
        MAX_RECORD_PERMITTED          : new TEMPLATE_STRING("Maximum of {{max_record}} records permitted.", _FIELD_TYPES.VALIDATION),
        MIN_RECORD_PERMITTED          : new TEMPLATE_STRING("Please provide at least {{min_record}}", _FIELD_TYPES.VALIDATION),
        MIN_MAX_RECORD_PERMITTED      : new TEMPLATE_STRING("and no more than {{max_record}} records.", _FIELD_TYPES.VALIDATION),
        SSN_HRLOGIX_VALIDATION_MESSAGE: new TEMPLATE_STRING("This SSN or email address is already in use on a different account. Please send an email to ATSadministrators@bashas.com, which includes your first and last name along with the last 4 digits of your SSN for assistance.", _FIELD_TYPES.VALIDATION),
        CREATE_CANDIDATE_ERROR        : new TEMPLATE_STRING("At this time, we are unable to process your profile creation. Please try again later.", _FIELD_TYPES.TEXT),
        SUCCESSFUL_EMAIL              : new TEMPLATE_STRING("User Name/Email entered successfully", _FIELD_TYPES.TEXT),
        SUCCESSFUL_PASSWORD           : new TEMPLATE_STRING("Password entered successfully", _FIELD_TYPES.TEXT),
        PASSWORDS_MATCHED             : new TEMPLATE_STRING("Passwords Matched", _FIELD_TYPES.TEXT),
    };

    if (_XC_CONFIG.context.applyThankYouMessageForNewUser && _XC_CONFIG.context.applyThankYouMessageForNewUser.length > 0) {
        _TITLE.BANNER.NEW_USER_APPLY_THANK_YOU_MESSAGE = new TEMPLATE_STRING(_XC_CONFIG.context.applyThankYouMessageForNewUser, _FIELD_TYPES.TEXT);
    }

    if (_XC_CONFIG.context.applyThankYouMessageForReturningUser && _XC_CONFIG.context.applyThankYouMessageForReturningUser.length > 0) {
        _TITLE.BANNER.RETURNING_USER_APPLY_THANK_YOU_MESSAGE = new TEMPLATE_STRING(_XC_CONFIG.context.applyThankYouMessageForReturningUser, _FIELD_TYPES.TEXT);
    }

    if (_XC_CONFIG.context.applyAssessmentHeader && _XC_CONFIG.context.applyAssessmentHeader.length > 0) {
        _TITLE.BANNER.APPLY_ASSESSMENT_HEADER = new TEMPLATE_STRING(_XC_CONFIG.context.applyAssessmentHeader, _FIELD_TYPES.TEXT);
    }

    // This is the object the browser will see
    return {
        FIELD_TYPES: _FIELD_TYPES,
        PREFIX     : _PREFIX,
        TITLE      : _TITLE,
        VALIDATION : _VALIDATION,
        RUNTIME    : {}
    };
})();
window.TEMPLATE_CONSTANTS = TEMPLATE_CONSTANTS;

initializeReadOnlyProperties();
initializeElementConstant();

function initializeReadOnlyProperties() {

    // Org name should never need to be translated
    //_XC_CONFIG.org_name = XCLOUD.i18n(_XC_CONFIG.org_name, TEMPLATE_CONSTANTS.FIELD_TYPES.TEXT);

    for (var titles in TEMPLATE_CONSTANTS.TITLE) {
        for (var section in TEMPLATE_CONSTANTS.TITLE[titles]) {
            TEMPLATE_CONSTANTS.TITLE[titles][section].str = XCLOUD.i18n(TEMPLATE_CONSTANTS.TITLE[titles][section].str, TEMPLATE_CONSTANTS.TITLE[titles][section].context);
        }
    }
    for (var validations in TEMPLATE_CONSTANTS.VALIDATION) {
        TEMPLATE_CONSTANTS.VALIDATION[validations].str = XCLOUD.i18n(TEMPLATE_CONSTANTS.VALIDATION[validations].str, TEMPLATE_CONSTANTS.VALIDATION[validations].context);
    }

    if (_XC_CONFIG.login_modal.header === '') {
        _XC_CONFIG.login_modal.header = TEMPLATE_CONSTANTS.TITLE.ACTIONS.SIGN_IN.str;
    }

    if (_XC_CONFIG.login_modal.signInCaption === '') {
        _XC_CONFIG.login_modal.signInCaption = TEMPLATE_CONSTANTS.TITLE.ACTIONS.SIGN_IN.str;
    }

    if (_XC_CONFIG.login_modal.separator === '') {
        _XC_CONFIG.login_modal.separator = TEMPLATE_CONSTANTS.TITLE.LABELS.OR.str;
    }

    _XC_CONFIG.login_modal.passwordInModal = (_XC_CONFIG.login_modal.disabled === false);

    _XC_CONFIG.login_modal.header = XCLOUD.i18n(_XC_CONFIG.login_modal.header, TEMPLATE_CONSTANTS.FIELD_TYPES.TITLES);
    _XC_CONFIG.login_modal.signInCaption = XCLOUD.i18n(_XC_CONFIG.login_modal.signInCaption, TEMPLATE_CONSTANTS.FIELD_TYPES.BUTTON);
    _XC_CONFIG.login_modal.subHeader = XCLOUD.i18n(_XC_CONFIG.login_modal.subHeader, TEMPLATE_CONSTANTS.FIELD_TYPES.TITLES);
    if (_XC_CONFIG.context.onBoarding) {
        if (_XC_CONFIG.context.onBoarding.subHeader && _XC_CONFIG.context.onBoarding.subHeader.length > 0) {
            TEMPLATE_CONSTANTS.TITLE.BANNER.ON_BOARDING_SUB_HEADER = _XC_CONFIG.context.onBoarding.subHeader;
        }
        if (_XC_CONFIG.context.onBoarding.header && _XC_CONFIG.context.onBoarding.header.length > 0) {
            TEMPLATE_CONSTANTS.TITLE.BANNER.ON_BOARDING_HEADER = _XC_CONFIG.context.onBoarding.header;
        }
    }
}

function initializeElementConstant() {
    TEMPLATE_CONSTANTS.ELEMENT_ID = {
        UNAME              : 'uname',
        UNAME_LOGIN_LINK_ID: 'unameLoginLink',
        SIGNATURE          : 'signature'
    };

    if (_XC_CONFIG.terms_condition_text === undefined || _XC_CONFIG.terms_condition_text === null || _XC_CONFIG.terms_condition_text === "" || _XC_CONFIG.terms_condition_text.trim() === "") {
        TEMPLATE_CONSTANTS.TITLE.BANNER.TERMS_POLICY_TITLE = TEMPLATE_CONSTANTS.TITLE.BANNER.TERMS_POLICY_LEFT_TITLE_START.str;
        TEMPLATE_CONSTANTS.TITLE.BANNER.TERMS_POLICY_TITLE += " <u><a  href =" + _XC_CONFIG.copyright.TandC_url + " target=\"_blank\">" + TEMPLATE_CONSTANTS.TITLE.BANNER.TERMS_OF_USE.str + "</a> </u>" + TEMPLATE_CONSTANTS.TITLE.BANNER.AND.str + " <u><a href =" + _XC_CONFIG.copyright.privacyPolicyUrl + " target=\"_blank\">" + TEMPLATE_CONSTANTS.TITLE.BANNER.PRIVACY_POLICY.str + "</a></u>";
    } else {
        TEMPLATE_CONSTANTS.TITLE.BANNER.TERMS_POLICY_TITLE = XCLOUD.i18n(_XC_CONFIG.terms_condition_text, 'text');
    }
    //check if subscription title is present in admin or JSON. If not, use default message
    //priority of subscription title : Json > admin > code
    if (_XC_CONFIG.marketing_subscription_text === undefined || _XC_CONFIG.marketing_subscription_text === null || _XC_CONFIG.marketing_subscription_text === "" || _XC_CONFIG.marketing_subscription_text.trim() === "") {
        // if Soft opt in enabled from admin use different title
        // if (!_XC_CONFIG.GDPR.softOptinEnabled) {
            TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE = "<span class='sub-title-start'>" + TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE_START.str + "</span>";
            TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE += " <b>" + _XC_CONFIG.org_name + "</b>. ";
            TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE += "<span class='sub-title-end'>" + TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE_END.str + "</span>";
            TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE = XCLOUD.i18n(TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE, 'text');
        // } else {
        //     TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE = "<span class='sub-title-start'>" + TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_SOFT_OPT_IN_TITLE.str + "</span>";
        //     TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE += " <b>" + _XC_CONFIG.org_name + "</b>. ";
        // }
    } else {
        TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE = XCLOUD.i18n(_XC_CONFIG.marketing_subscription_text, 'text');
    }

    TEMPLATE_CONSTANTS.TITLE.BANNER.INTERVIEW_SESSION_TEXT = TEMPLATE_CONSTANTS.TITLE.BANNER.INTERVIEW_SESSION_TEXT_START.str;
    TEMPLATE_CONSTANTS.TITLE.BANNER.INTERVIEW_SESSION_TEXT += "<strong>" +_XC_CONFIG.org_name + "</strong>";
    TEMPLATE_CONSTANTS.TITLE.BANNER.INTERVIEW_SESSION_TEXT += TEMPLATE_CONSTANTS.TITLE.BANNER.INTERVIEW_SESSION_TEXT_END.str;

    TEMPLATE_CONSTANTS.TITLE.BANNER.SLOT_INVITE_TEXT = TEMPLATE_CONSTANTS.TITLE.BANNER.SLOT_INVITE_TEXT_START.str;
    TEMPLATE_CONSTANTS.TITLE.BANNER.SLOT_INVITE_TEXT += "<strong>" +_XC_CONFIG.org_name + "</strong>";
    TEMPLATE_CONSTANTS.TITLE.BANNER.SLOT_INVITE_TEXT += TEMPLATE_CONSTANTS.TITLE.BANNER.SLOT_INVITE_TEXT_END.str;

    TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN = TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN_START.str;
    var applicationLink = localStorage.getItem(_XC_CONFIG.org + '.' + 'applicationURL');
    if (applicationLink !== null) {
        TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN += " <br><u><a  href =" + applicationLink + ">" + TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN_LINK.str + " </a> </u>";
    }

    //unsubscribe
    if (_XC_CONFIG.unsubscribe_successful !== null && _XC_CONFIG.unsubscribe_successful !== "" && _XC_CONFIG.unsubscribe_successful.length > 0) {
        TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_SUCCESS_HEADER.str = XCLOUD.i18n(_XC_CONFIG.unsubscribe_successful, 'text')
    }
    if (_XC_CONFIG.unsubscribe_failed_valid_email !== null && _XC_CONFIG.unsubscribe_failed_valid_email !== "" && _XC_CONFIG.unsubscribe_failed_valid_email.length > 0) {
        TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_FAILED_HEADER.str = XCLOUD.i18n(_XC_CONFIG.unsubscribe_failed_valid_email, 'text')
    }
    if (_XC_CONFIG.unsubscribe_invalid_email !== null && _XC_CONFIG.unsubscribe_invalid_email !== "" && _XC_CONFIG.unsubscribe_invalid_email.length > 0) {
        TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_EMAIL_INVALID.str = XCLOUD.i18n(_XC_CONFIG.unsubscribe_invalid_email, 'text')
    }
    if (_XC_CONFIG.candidate_creation_failed_msg !== null && _XC_CONFIG.candidate_creation_failed_msg !== "" && _XC_CONFIG.candidate_creation_failed_msg.length > 0) {
        TEMPLATE_CONSTANTS.VALIDATION.CREATE_CANDIDATE_ERROR.str = XCLOUD.i18n(_XC_CONFIG.candidate_creation_failed_msg, 'text')
    }
    if (_XC_CONFIG.subscription_settings_heading !== null && _XC_CONFIG.subscription_settings_heading !== undefined && _XC_CONFIG.subscription_settings_heading !== "" && _XC_CONFIG.subscription_settings_heading.length > 0) {
        TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_SETTINGS_HEADING.str = XCLOUD.i18n(_XC_CONFIG.subscription_settings_heading, 'text') 
    }
    if (_XC_CONFIG.subscription_settings_subheading !== null && _XC_CONFIG.subscription_settings_subheading !== undefined && _XC_CONFIG.subscription_settings_subheading !== "" && _XC_CONFIG.subscription_settings_subheading.length > 0) {
        TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_SETTINGS_SUBHEADING.str = XCLOUD.i18n(_XC_CONFIG.subscription_settings_subheading, 'text')
    }

    if(typeof _XC_CONFIG.context.confirmation !== 'undefined') {
        if (_XC_CONFIG.context.confirmation.trim() === '') {
            _XC_CONFIG.context.confirmation = '<p>By selecting the \'Submit Application\' button, I agree to the following:</p>' +
                '<p>I certify that the information contained in this application is true and complete to the best of my knowledge and understand that any misrepresentation, omission of facts, or misleading information is ground for refusal to hire, or if hired, dismissal.</p>' +
                '<p>I understand that every aspect of my employment with Symphony Talent, LLC ("the Company") shall be on an "at will" basis, meaning that I or the Company may terminate my employment at any time, or any reason, with or without cause. I also understand that the Company expressly reserves its inherent authority to manage and control the business enterprise and to exercise its sole discretion to determine all issues pertaining to my employment, including all matters pertaining to promotion, job assignment, and the size of the workforce, demotion, transfer and discipline. I further understand and agree that no one other than the President of the Company may modify or change the "at-will" nature of my employment relationship. Any such modifications must be in writing and signed by the President of the Company and me to be effective.</p>' +
                '<p>It is my understanding that my employment at the Company is contingent upon completion of a satisfactory background investigation, reference checks and verification of proof of work eligibility. A negative reference or report may or may not prevent me from working at the Company. However, the reference or report will be evaluated as to its effect upon my employment.</p>';
        }
    }

    if (_XC_CONFIG.context.confirmation && _XC_CONFIG.context.confirmation.length > 0) {
        _XC_CONFIG.context.confirmation = XCLOUD.i18n(_XC_CONFIG.context.confirmation, 'text');
    }

    if (_XC_CONFIG.context.conviction && _XC_CONFIG.context.conviction.length > 0) {
        _XC_CONFIG.context.conviction = XCLOUD.i18n(_XC_CONFIG.context.conviction, 'text');
    }

    if (_XC_CONFIG.context.eeo && _XC_CONFIG.context.conviction.eeo > 0) {
        _XC_CONFIG.context.eeo = XCLOUD.i18n(_XC_CONFIG.context.eeo, 'text');
    }

    if (_XC_CONFIG.context.noThanks && _XC_CONFIG.context.conviction.noThanks > 0) {
        _XC_CONFIG.context.noThanks = XCLOUD.i18n(_XC_CONFIG.context.noThanks, 'text');
    }

    if (typeof (XCLOUD) !== 'undefined') {
        if (typeof (XCLOUD.apply_filter) === 'function') {
            // Apply filter
            TEMPLATE_CONSTANTS = XCLOUD.apply_filter('xcc_template_constant', TEMPLATE_CONSTANTS, _XC_CONFIG);

            /*Add filter can be used in wordpress script as below
            XCLOUD.add_filter('xcc_template_constant', function (tpl_const, xcc_config) { // code goes here.... });*/
        }
    }
}

/**
 * Created by TDadam on 12/21/2017.
 */
window.BROAD_CAST_NAMESPACE = {
        SCHEMA_FORM_VALIDATE : 'schemaFormValidate',
        CURRENT_CANDIDATE_FETCHED: 'CurrentCandidateDetailsFetched',
        UPDATE_CANDIDATE_SCOPE: 'UpdateCandidateScope',
        GET_CANDIDATE_ACTIVITY: 'getCandidateActivityViewModel',
        CANDIDATE_ACTIVITY_VM_REFRESH:'refreshCandidateActivityViewModel',
        SCHEMA_UI_SELECT_NGMODEL_PROPAGATION:'schema.ui.multi.select.ngModelPropagation',
        SCHEMA_MULTISELECT_DROPDOWN_NGMODEL_PROPAGATION:'schema.multi.select.dropdown.ngModelPropagation',
        DASHBOARD_ATTACHMENT_VM_REFRESH:'refreshDashboardAttachmentViewModalService',
        PROFILE_UPDATED:'profileUpdated',
        UNUPLOADED_ATTACHMENT_CLEAR:'applyClearUnuploadedAttachment'
    };
/**
 * Created by TDadam on 12/21/2017.
 */
var ERROR_CONFIGURATION = {};

initializeErrorCodes();
initializeErrorPrefix();
initializeErrorDescription();

function initializeErrorCodes() {
    ERROR_CONFIGURATION.CODES = {
        VALIDATION: {
            EMAIL_EXISTENCE: '9001',
            ZIP_LOOKUP     : '9002',
            SIGNATURE_MATCH: '9003'
        }
    };
}

function initializeErrorPrefix() {
    ERROR_CONFIGURATION.PREFIX = {
        VALIDATION : {
            SCHEMA_ERROR         : 'schemaForm.error.'
        }
    };
    ERROR_CONFIGURATION.PREFIX.VALIDATION.UNAME_EMAIL_EXISTENCE = ERROR_CONFIGURATION.PREFIX.VALIDATION.SCHEMA_ERROR + TEMPLATE_CONSTANTS.ELEMENT_ID.UNAME;
    ERROR_CONFIGURATION.PREFIX.VALIDATION.SIGNATURE_MATCH = ERROR_CONFIGURATION.PREFIX.VALIDATION.SCHEMA_ERROR + TEMPLATE_CONSTANTS.ELEMENT_ID.SIGNATURE;
}

function initializeErrorDescription() {
    /*ERROR_CONFIGURATION.DESCRIPTION = {
        VALIDATION : {
            RESUME: {
                INVALID_CONTENT          : XCLOUD.i18n("Attachment content type is invalid", TEMPLATE_CONSTANTS.FIELD_TYPES.VALIDATION),
                IN_COMPATIBLE_FILE_FORMAT: XCLOUD.i18n("Unsupported file format", TEMPLATE_CONSTANTS.FIELD_TYPES.VALIDATION),
                FILE_SIZE_EXCEED         : XCLOUD.i18n("Exceeded file size", TEMPLATE_CONSTANTS.FIELD_TYPES.VALIDATION)
            },
            FORMS : {
                INCOMPLETE : XCLOUD.i18n("Please complete following forms to continue", TEMPLATE_CONSTANTS.FIELD_TYPES.VALIDATION)
            }
        }
    }*/
}
/**
 * Created by TDadam on 12/21/2017.
 */
var STORAGE_KEY = {};
var STORAGE_TYPE_ENUM = {
    IN_MEMORY: 0,
    LOCAL    : 1,
    SESSION  : 2
};

initializeStorageKey();

function initializeStorageKey() {
    STORAGE_KEY.SCHEMA_LOGIN_REDIRECT = 'schemaLoginRedirect'
}

/**
 * Created by TDadam on 12/17/2017.
 */

/**
 *@name Parser Helper
 * @type {{isStringEmpty: Parser.isStringEmpty}}
 */
var PARSER_HELPER = {
    /**
     *
     * @param object
     * @returns {boolean} returns true in case string is empty
     */
    isStringEmpty : function (object) {
        return (object === undefined || object === null || object.length === 0);
    }
};
'use strict';

var CUSTOM_FIELDS_TEMPLATES = '/wp-content/plugins/xcloud/app/templates/';

// Define our directive
angular.module('com.hrlogix.ats.customfields', [ 'com.hrlogix.ats.global.services',
                                                 'com.hrlogix.ats.public.services' ])

    .controller('customFieldMainController', ['$scope', 'metadata', function ($scope, metadata) {
              
    initialize();

    function initialize() {
        
        $scope.customFields = [];

        if ($scope.type !== undefined && $scope.type !== null && $scope.type !== "") {
            
            metadata.getTableMetadata({table: $scope.type}).$promise.then(function(results) {
                
                $scope.customFields = normalizeObjects(results);

                for (var key in $scope.customFields) {
                    $scope.customFields[key].visualPrefs = angular.fromJson($scope.customFields[key].visualPrefs);
                }

                for (var key in $scope.ngModel) {
                    for (var innerKey in $scope.customFields) {
                        if (key === $scope.customFields[innerKey].columnName) {
                            $scope.customFields[innerKey].result = $scope.ngModel[key];
                        }
                    }
                }

                $scope.results = $scope.customFields;

            }, function(reason) {
                hasError(reason.statusText);
            });
        }

    }   

}]).controller('customFieldController', ['$scope', 'lists', function ($scope, lists) {
        
    initialize();
    
    $scope.getTemplateUrl = function() { 

        switch($scope.field.visualPrefs.type) {
            case 'radio':
                return CUSTOM_FIELDS_TEMPLATES + 'radio.html';
            case 'textarea':
                return CUSTOM_FIELDS_TEMPLATES + 'textarea.html';
            case 'text':
            case 'textbox':
                return CUSTOM_FIELDS_TEMPLATES + 'text.html';
            default:
                return CUSTOM_FIELDS_TEMPLATES + 'blank.html';
        }
    };

    function initialize() {
        if ($scope.field.visualPrefs.list !== undefined 
            && $scope.field.visualPrefs.list !== null 
            && $scope.field.visualPrefs.list !== '') {
            
            lists.getActiveListByName({ name: $scope.field.visualPrefs.list }).$promise.then(function(results) {
                $scope.field.list = normalizeObjects(results);
            }, function(reason) {           
                hasError(reason.statusText); 
            });
        }  

    }   

}]).directive('customFields', function () {
    return {
        restrict: 'E',
        scope: {
            type: "=",
            ngModel: "=",
            results: "="
        },
        replace: true,
        transclude: true,
        controller: 'customFieldMainController',
        templateUrl: CUSTOM_FIELDS_TEMPLATES + 'custom-fields.html'
    };
}).directive('customField', function() {  
    return {
        restrict: 'E',
        scope: { 
           field: '='
        },
        replace: true,
        transclude: false,
        controller: 'customFieldController',
        template: '<ng-include src="getTemplateUrl()"/>'
    };
});

;!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=307)}([function(e,t,a){var n=a(1),r=a(7),i=a(14),o=a(11),l=a(17),s=function(e,t,a){var c,d,u,p,m=e&s.F,f=e&s.G,g=e&s.S,h=e&s.P,v=e&s.B,S=f?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,C=f?r:r[t]||(r[t]={}),y=C.prototype||(C.prototype={});for(c in f&&(a=t),a)u=((d=!m&&S&&void 0!==S[c])?S:a)[c],p=v&&d?l(u,n):h&&"function"==typeof u?l(Function.call,u):u,S&&o(S,c,u,e&s.U),C[c]!=u&&i(C,c,p),h&&y[c]!=u&&(y[c]=u)};n.core=r,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,a){var n=a(4);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,a){var n=a(48)("wks"),r=a(29),i=a(1).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:r)("Symbol."+e))}).store=n},function(e,t,a){var n=a(19),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var a=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=a)},function(e,t,a){e.exports=!a(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,a){var n=a(3),r=a(88),i=a(26),o=Object.defineProperty;t.f=a(8)?Object.defineProperty:function(e,t,a){if(n(e),t=i(t,!0),n(a),r)try{return o(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},function(e,t,a){var n=a(24);e.exports=function(e){return Object(n(e))}},function(e,t,a){var n=a(1),r=a(14),i=a(13),o=a(29)("src"),l=a(125),s=(""+l).split("toString");a(7).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,a,l){var c="function"==typeof a;c&&(i(a,"name")||r(a,"name",t)),e[t]!==a&&(c&&(i(a,o)||r(a,o,e[t]?""+e[t]:s.join(String(t)))),e===n?e[t]=a:l?e[t]?e[t]=a:r(e,t,a):(delete e[t],r(e,t,a)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||l.call(this)}))},function(e,t,a){var n=a(0),r=a(2),i=a(24),o=/"/g,l=function(e,t,a,n){var r=String(i(e)),l="<"+t;return""!==a&&(l+=" "+a+'="'+String(n).replace(o,"&quot;")+'"'),l+">"+r+"</"+t+">"};e.exports=function(e,t){var a={};a[e]=t(l),n(n.P+n.F*r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",a)}},function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},function(e,t,a){var n=a(9),r=a(28);e.exports=a(8)?function(e,t,a){return n.f(e,t,r(1,a))}:function(e,t,a){return e[t]=a,e}},function(e,t,a){var n=a(44),r=a(24);e.exports=function(e){return n(r(e))}},function(e,t,a){"use strict";var n=a(2);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,a){var n=a(18);e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var a=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:a)(e)}},function(e,t,a){var n=a(45),r=a(28),i=a(15),o=a(26),l=a(13),s=a(88),c=Object.getOwnPropertyDescriptor;t.f=a(8)?c:function(e,t){if(e=i(e),t=o(t,!0),s)try{return c(e,t)}catch(e){}if(l(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,a){var n=a(0),r=a(7),i=a(2);e.exports=function(e,t){var a=(r.Object||{})[e]||Object[e],o={};o[e]=t(a),n(n.S+n.F*i((function(){a(1)})),"Object",o)}},function(e,t,a){var n=a(17),r=a(44),i=a(10),o=a(6),l=a(104);e.exports=function(e,t){var a=1==e,s=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u,m=t||l;return function(t,l,f){for(var g,h,v=i(t),S=r(v),C=n(l,f,3),y=o(S.length),A=0,T=a?m(t,y):s?m(t,0):void 0;y>A;A++)if((p||A in S)&&(h=C(g=S[A],A,v),e))if(a)T[A]=h;else if(h)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:T.push(g)}else if(d)return!1;return u?-1:c||d?d:T}}},function(e,t){var a={}.toString;e.exports=function(e){return a.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,a){"use strict";if(a(8)){var n=a(30),r=a(1),i=a(2),o=a(0),l=a(59),s=a(84),c=a(17),d=a(42),u=a(28),p=a(14),m=a(43),f=a(19),g=a(6),h=a(115),v=a(32),S=a(26),C=a(13),y=a(46),A=a(4),T=a(10),_=a(76),E=a(33),I=a(35),b=a(34).f,O=a(78),N=a(29),L=a(5),w=a(22),P=a(49),M=a(47),R=a(80),F=a(40),D=a(52),U=a(41),k=a(79),x=a(106),G=a(9),$=a(20),H=G.f,j=$.f,B=r.RangeError,q=r.TypeError,V=r.Uint8Array,X=Array.prototype,W=s.ArrayBuffer,z=s.DataView,Q=w(0),Y=w(2),J=w(3),K=w(4),Z=w(5),ee=w(6),te=P(!0),ae=P(!1),ne=R.values,re=R.keys,ie=R.entries,oe=X.lastIndexOf,le=X.reduce,se=X.reduceRight,ce=X.join,de=X.sort,ue=X.slice,pe=X.toString,me=X.toLocaleString,fe=L("iterator"),ge=L("toStringTag"),he=N("typed_constructor"),ve=N("def_constructor"),Se=l.CONSTR,Ce=l.TYPED,ye=l.VIEW,Ae=w(1,(function(e,t){return be(M(e,e[ve]),t)})),Te=i((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),_e=!!V&&!!V.prototype.set&&i((function(){new V(1).set({})})),Ee=function(e,t){var a=f(e);if(a<0||a%t)throw B("Wrong offset!");return a},Ie=function(e){if(A(e)&&Ce in e)return e;throw q(e+" is not a typed array!")},be=function(e,t){if(!A(e)||!(he in e))throw q("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ne(M(e,e[ve]),t)},Ne=function(e,t){for(var a=0,n=t.length,r=be(e,n);n>a;)r[a]=t[a++];return r},Le=function(e,t,a){H(e,t,{get:function(){return this._d[a]}})},we=function(e){var t,a,n,r,i,o,l=T(e),s=arguments.length,d=s>1?arguments[1]:void 0,u=void 0!==d,p=O(l);if(null!=p&&!_(p)){for(o=p.call(l),n=[],t=0;!(i=o.next()).done;t++)n.push(i.value);l=n}for(u&&s>2&&(d=c(d,arguments[2],2)),t=0,a=g(l.length),r=be(this,a);a>t;t++)r[t]=u?d(l[t],t):l[t];return r},Pe=function(){for(var e=0,t=arguments.length,a=be(this,t);t>e;)a[e]=arguments[e++];return a},Me=!!V&&i((function(){me.call(new V(1))})),Re=function(){return me.apply(Me?ue.call(Ie(this)):Ie(this),arguments)},Fe={copyWithin:function(e,t){return x.call(Ie(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return K(Ie(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return k.apply(Ie(this),arguments)},filter:function(e){return Oe(this,Y(Ie(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ie(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ie(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Ie(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Ie(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ie(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ie(this),arguments)},lastIndexOf:function(e){return oe.apply(Ie(this),arguments)},map:function(e){return Ae(Ie(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return le.apply(Ie(this),arguments)},reduceRight:function(e){return se.apply(Ie(this),arguments)},reverse:function(){for(var e,t=Ie(this).length,a=Math.floor(t/2),n=0;n<a;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return J(Ie(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Ie(this),e)},subarray:function(e,t){var a=Ie(this),n=a.length,r=v(e,n);return new(M(a,a[ve]))(a.buffer,a.byteOffset+r*a.BYTES_PER_ELEMENT,g((void 0===t?n:v(t,n))-r))}},De=function(e,t){return Oe(this,ue.call(Ie(this),e,t))},Ue=function(e){Ie(this);var t=Ee(arguments[1],1),a=this.length,n=T(e),r=g(n.length),i=0;if(r+t>a)throw B("Wrong length!");for(;i<r;)this[t+i]=n[i++]},ke={entries:function(){return ie.call(Ie(this))},keys:function(){return re.call(Ie(this))},values:function(){return ne.call(Ie(this))}},xe=function(e,t){return A(e)&&e[Ce]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ge=function(e,t){return xe(e,t=S(t,!0))?u(2,e[t]):j(e,t)},$e=function(e,t,a){return!(xe(e,t=S(t,!0))&&A(a)&&C(a,"value"))||C(a,"get")||C(a,"set")||a.configurable||C(a,"writable")&&!a.writable||C(a,"enumerable")&&!a.enumerable?H(e,t,a):(e[t]=a.value,e)};Se||($.f=Ge,G.f=$e),o(o.S+o.F*!Se,"Object",{getOwnPropertyDescriptor:Ge,defineProperty:$e}),i((function(){pe.call({})}))&&(pe=me=function(){return ce.call(this)});var He=m({},Fe);m(He,ke),p(He,fe,ke.values),m(He,{slice:De,set:Ue,constructor:function(){},toString:pe,toLocaleString:Re}),Le(He,"buffer","b"),Le(He,"byteOffset","o"),Le(He,"byteLength","l"),Le(He,"length","e"),H(He,ge,{get:function(){return this[Ce]}}),e.exports=function(e,t,a,s){var c=e+((s=!!s)?"Clamped":"")+"Array",u="get"+e,m="set"+e,f=r[c],v=f||{},S=f&&I(f),C=!f||!l.ABV,T={},_=f&&f.prototype,O=function(e,a){H(e,a,{get:function(){return function(e,a){var n=e._d;return n.v[u](a*t+n.o,Te)}(this,a)},set:function(e){return function(e,a,n){var r=e._d;s&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[m](a*t+r.o,n,Te)}(this,a,e)},enumerable:!0})};C?(f=a((function(e,a,n,r){d(e,f,c,"_d");var i,o,l,s,u=0,m=0;if(A(a)){if(!(a instanceof W||"ArrayBuffer"==(s=y(a))||"SharedArrayBuffer"==s))return Ce in a?Ne(f,a):we.call(f,a);i=a,m=Ee(n,t);var v=a.byteLength;if(void 0===r){if(v%t)throw B("Wrong length!");if((o=v-m)<0)throw B("Wrong length!")}else if((o=g(r)*t)+m>v)throw B("Wrong length!");l=o/t}else l=h(a),i=new W(o=l*t);for(p(e,"_d",{b:i,o:m,l:o,e:l,v:new z(i)});u<l;)O(e,u++)})),_=f.prototype=E(He),p(_,"constructor",f)):i((function(){f(1)}))&&i((function(){new f(-1)}))&&D((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=a((function(e,a,n,r){var i;return d(e,f,c),A(a)?a instanceof W||"ArrayBuffer"==(i=y(a))||"SharedArrayBuffer"==i?void 0!==r?new v(a,Ee(n,t),r):void 0!==n?new v(a,Ee(n,t)):new v(a):Ce in a?Ne(f,a):we.call(f,a):new v(h(a))})),Q(S!==Function.prototype?b(v).concat(b(S)):b(v),(function(e){e in f||p(f,e,v[e])})),f.prototype=_,n||(_.constructor=f));var N=_[fe],L=!!N&&("values"==N.name||null==N.name),w=ke.values;p(f,he,!0),p(_,Ce,c),p(_,ye,!0),p(_,ve,f),(s?new f(1)[ge]==c:ge in _)||H(_,ge,{get:function(){return c}}),T[c]=f,o(o.G+o.W+o.F*(f!=v),T),o(o.S,c,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*i((function(){v.of.call(f,1)})),c,{from:we,of:Pe}),"BYTES_PER_ELEMENT"in _||p(_,"BYTES_PER_ELEMENT",t),o(o.P,c,Fe),U(c),o(o.P+o.F*_e,c,{set:Ue}),o(o.P+o.F*!L,c,ke),n||_.toString==pe||(_.toString=pe),o(o.P+o.F*i((function(){new f(1).slice()})),c,{slice:De}),o(o.P+o.F*(i((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!i((function(){_.toLocaleString.call([1,2])}))),c,{toLocaleString:Re}),F[c]=L?N:w,n||L||p(_,fe,w)}}else e.exports=function(){}},function(e,t,a){var n=a(4);e.exports=function(e,t){if(!n(e))return e;var a,r;if(t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;if("function"==typeof(a=e.valueOf)&&!n(r=a.call(e)))return r;if(!t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,a){var n=a(29)("meta"),r=a(4),i=a(13),o=a(9).f,l=0,s=Object.isExtensible||function(){return!0},c=!a(2)((function(){return s(Object.preventExtensions({}))})),d=function(e){o(e,n,{value:{i:"O"+ ++l,w:{}}})},u=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!s(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return c&&u.NEED&&s(e)&&!i(e,n)&&d(e),e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var a=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++a+n).toString(36))}},function(e,t){e.exports=!1},function(e,t,a){var n=a(90),r=a(63);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,a){var n=a(19),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):i(e,t)}},function(e,t,a){var n=a(3),r=a(91),i=a(63),o=a(62)("IE_PROTO"),l=function(){},s=function(){var e,t=a(60)("iframe"),n=i.length;for(t.style.display="none",a(64).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[i[n]];return s()};e.exports=Object.create||function(e,t){var a;return null!==e?(l.prototype=n(e),a=new l,l.prototype=null,a[o]=e):a=s(),void 0===t?a:r(a,t)}},function(e,t,a){var n=a(90),r=a(63).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,a){var n=a(13),r=a(10),i=a(62)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,a){var n=a(5)("unscopables"),r=Array.prototype;null==r[n]&&a(14)(r,n,{}),e.exports=function(e){r[n][e]=!0}},function(e,t,a){var n=a(4);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,a){var n=a(9).f,r=a(13),i=a(5)("toStringTag");e.exports=function(e,t,a){e&&!r(e=a?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,a){var n=a(0),r=a(24),i=a(2),o=a(66),l="["+o+"]",s=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e,t,a){var r={},l=i((function(){return!!o[e]()||"​"!="​"[e]()})),s=r[e]=l?t(u):o[e];a&&(r[a]=s),n(n.P+n.F*l,"String",r)},u=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,t){e.exports={}},function(e,t,a){"use strict";var n=a(1),r=a(9),i=a(8),o=a(5)("species");e.exports=function(e){var t=n[e];i&&t&&!t[o]&&r.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,a,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(a+": incorrect invocation!");return e}},function(e,t,a){var n=a(11);e.exports=function(e,t,a){for(var r in t)n(e,r,t[r],a);return e}},function(e,t,a){var n=a(23);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,a){var n=a(23),r=a(5)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,a,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?a:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,a){var n=a(3),r=a(18),i=a(5)("species");e.exports=function(e,t){var a,o=n(e).constructor;return void 0===o||null==(a=n(o)[i])?t:r(a)}},function(e,t,a){var n=a(7),r=a(1),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:a(30)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,a){var n=a(15),r=a(6),i=a(32);e.exports=function(e){return function(t,a,o){var l,s=n(t),c=r(s.length),d=i(o,c);if(e&&a!=a){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===a)return e||d||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,a){var n=a(23);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,a){var n=a(5)("iterator"),r=!1;try{var i=[7][n]();i.return=function(){r=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var a=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:a=!0}},i[n]=function(){return o},e(i)}catch(e){}return a}},function(e,t,a){"use strict";var n=a(3);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,a){"use strict";var n=a(46),r=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"==typeof a){var i=a.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,a){"use strict";a(108);var n=a(11),r=a(14),i=a(2),o=a(24),l=a(5),s=a(81),c=l("species"),d=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var p=l(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=m?!i((function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[c]=function(){return a}),a[p](""),!t})):void 0;if(!m||!f||"replace"===e&&!d||"split"===e&&!u){var g=/./[p],h=a(o,p,""[e],(function(e,t,a,n,r){return t.exec===s?m&&!r?{done:!0,value:g.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}})),v=h[0],S=h[1];n(String.prototype,e,v),r(RegExp.prototype,p,2==t?function(e,t){return S.call(e,this,t)}:function(e){return S.call(e,this)})}}},function(e,t,a){var n=a(17),r=a(103),i=a(76),o=a(3),l=a(6),s=a(78),c={},d={};(t=e.exports=function(e,t,a,u,p){var m,f,g,h,v=p?function(){return e}:s(e),S=n(a,u,t?2:1),C=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(m=l(e.length);m>C;C++)if((h=t?S(o(f=e[C])[0],f[1]):S(e[C]))===c||h===d)return h}else for(g=v.call(e);!(f=g.next()).done;)if((h=r(g,S,f.value,t))===c||h===d)return h}).BREAK=c,t.RETURN=d},function(e,t,a){var n=a(1).navigator;e.exports=n&&n.userAgent||""},function(e,t,a){"use strict";var n=a(1),r=a(0),i=a(11),o=a(43),l=a(27),s=a(56),c=a(42),d=a(4),u=a(2),p=a(52),m=a(38),f=a(67);e.exports=function(e,t,a,g,h,v){var S=n[e],C=S,y=h?"set":"add",A=C&&C.prototype,T={},_=function(e){var t=A[e];i(A,e,"delete"==e||"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,a){return t.call(this,0===e?0:e,a),this})};if("function"==typeof C&&(v||A.forEach&&!u((function(){(new C).entries().next()})))){var E=new C,I=E[y](v?{}:-0,1)!=E,b=u((function(){E.has(1)})),O=p((function(e){new C(e)})),N=!v&&u((function(){for(var e=new C,t=5;t--;)e[y](t,t);return!e.has(-0)}));O||((C=t((function(t,a){c(t,C,e);var n=f(new S,t,C);return null!=a&&s(a,h,n[y],n),n}))).prototype=A,A.constructor=C),(b||N)&&(_("delete"),_("has"),h&&_("get")),(N||I)&&_(y),v&&A.clear&&delete A.clear}else C=g.getConstructor(t,e,h,y),o(C.prototype,a),l.NEED=!0;return m(C,e),T[e]=C,r(r.G+r.W+r.F*(C!=S),T),v||g.setStrong(C,e,h),C}},function(e,t,a){for(var n,r=a(1),i=a(14),o=a(29),l=o("typed_array"),s=o("view"),c=!(!r.ArrayBuffer||!r.DataView),d=c,u=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(n=r[p[u++]])?(i(n.prototype,l,!0),i(n.prototype,s,!0)):d=!1;e.exports={ABV:c,CONSTR:d,TYPED:l,VIEW:s}},function(e,t,a){var n=a(4),r=a(1).document,i=n(r)&&n(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,a){t.f=a(5)},function(e,t,a){var n=a(48)("keys"),r=a(29);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,a){var n=a(1).document;e.exports=n&&n.documentElement},function(e,t,a){var n=a(4),r=a(3),i=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=a(17)(Function.call,a(20).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,a){return i(e,a),t?e.__proto__=a:n(e,a),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,a){var n=a(4),r=a(65).set;e.exports=function(e,t,a){var i,o=t.constructor;return o!==a&&"function"==typeof o&&(i=o.prototype)!==a.prototype&&n(i)&&r&&r(e,i),e}},function(e,t,a){"use strict";var n=a(19),r=a(24);e.exports=function(e){var t=String(r(this)),a="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(a+=t);return a}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var a=Math.expm1;e.exports=!a||a(10)>22025.465794806718||a(10)<22025.465794806718||-2e-17!=a(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:a},function(e,t,a){var n=a(19),r=a(24);e.exports=function(e){return function(t,a){var i,o,l=String(r(t)),s=n(a),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===c||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):i:e?l.slice(s,s+2):o-56320+(i-55296<<10)+65536}}},function(e,t,a){"use strict";var n=a(30),r=a(0),i=a(11),o=a(14),l=a(40),s=a(102),c=a(38),d=a(35),u=a(5)("iterator"),p=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,a,f,g,h,v){s(a,t,f);var S,C,y,A=function(e){if(!p&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new a(this,e)}}return function(){return new a(this,e)}},T=t+" Iterator",_="values"==g,E=!1,I=e.prototype,b=I[u]||I["@@iterator"]||g&&I[g],O=b||A(g),N=g?_?A("entries"):O:void 0,L="Array"==t&&I.entries||b;if(L&&(y=d(L.call(new e)))!==Object.prototype&&y.next&&(c(y,T,!0),n||"function"==typeof y[u]||o(y,u,m)),_&&b&&"values"!==b.name&&(E=!0,O=function(){return b.call(this)}),n&&!v||!p&&!E&&I[u]||o(I,u,O),l[t]=O,l[T]=m,g)if(S={values:_?O:A("values"),keys:h?O:A("keys"),entries:N},v)for(C in S)C in I||i(I,C,S[C]);else r(r.P+r.F*(p||E),t,S);return S}},function(e,t,a){var n=a(74),r=a(24);e.exports=function(e,t,a){if(n(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(e))}},function(e,t,a){var n=a(4),r=a(23),i=a(5)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t,a){var n=a(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,a){var n=a(40),r=a(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[r]===e)}},function(e,t,a){"use strict";var n=a(9),r=a(28);e.exports=function(e,t,a){t in e?n.f(e,t,r(0,a)):e[t]=a}},function(e,t,a){var n=a(46),r=a(5)("iterator"),i=a(40);e.exports=a(7).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[n(e)]}},function(e,t,a){"use strict";var n=a(10),r=a(32),i=a(6);e.exports=function(e){for(var t=n(this),a=i(t.length),o=arguments.length,l=r(o>1?arguments[1]:void 0,a),s=o>2?arguments[2]:void 0,c=void 0===s?a:r(s,a);c>l;)t[l++]=e;return t}},function(e,t,a){"use strict";var n=a(36),r=a(107),i=a(40),o=a(15);e.exports=a(72)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,a=this._i++;return!e||a>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?a:"values"==t?e[a]:[a,e[a]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,a){"use strict";var n,r,i=a(53),o=RegExp.prototype.exec,l=String.prototype.replace,s=o,c=(n=/a/,r=/b*/g,o.call(n,"a"),o.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),d=void 0!==/()??/.exec("")[1];(c||d)&&(s=function(e){var t,a,n,r,s=this;return d&&(a=new RegExp("^"+s.source+"$(?!\\s)",i.call(s))),c&&(t=s.lastIndex),n=o.call(s,e),c&&n&&(s.lastIndex=s.global?n.index+n[0].length:t),d&&n&&n.length>1&&l.call(n[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),e.exports=s},function(e,t,a){"use strict";var n=a(71)(!0);e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},function(e,t,a){var n,r,i,o=a(17),l=a(96),s=a(64),c=a(60),d=a(1),u=d.process,p=d.setImmediate,m=d.clearImmediate,f=d.MessageChannel,g=d.Dispatch,h=0,v={},S=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},C=function(e){S.call(e.data)};p&&m||(p=function(e){for(var t=[],a=1;arguments.length>a;)t.push(arguments[a++]);return v[++h]=function(){l("function"==typeof e?e:Function(e),t)},n(h),h},m=function(e){delete v[e]},"process"==a(23)(u)?n=function(e){u.nextTick(o(S,e,1))}:g&&g.now?n=function(e){g.now(o(S,e,1))}:f?(i=(r=new f).port2,r.port1.onmessage=C,n=o(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",C,!1)):n="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),S.call(e)}}:function(e){setTimeout(o(S,e,1),0)}),e.exports={set:p,clear:m}},function(e,t,a){"use strict";var n=a(1),r=a(8),i=a(30),o=a(59),l=a(14),s=a(43),c=a(2),d=a(42),u=a(19),p=a(6),m=a(115),f=a(34).f,g=a(9).f,h=a(79),v=a(38),S=n.ArrayBuffer,C=n.DataView,y=n.Math,A=n.RangeError,T=n.Infinity,_=S,E=y.abs,I=y.pow,b=y.floor,O=y.log,N=y.LN2,L=r?"_b":"buffer",w=r?"_l":"byteLength",P=r?"_o":"byteOffset";function M(e,t,a){var n,r,i,o=new Array(a),l=8*a-t-1,s=(1<<l)-1,c=s>>1,d=23===t?I(2,-24)-I(2,-77):0,u=0,p=e<0||0===e&&1/e<0?1:0;for((e=E(e))!=e||e===T?(r=e!=e?1:0,n=s):(n=b(O(e)/N),e*(i=I(2,-n))<1&&(n--,i*=2),(e+=n+c>=1?d/i:d*I(2,1-c))*i>=2&&(n++,i/=2),n+c>=s?(r=0,n=s):n+c>=1?(r=(e*i-1)*I(2,t),n+=c):(r=e*I(2,c-1)*I(2,t),n=0));t>=8;o[u++]=255&r,r/=256,t-=8);for(n=n<<t|r,l+=t;l>0;o[u++]=255&n,n/=256,l-=8);return o[--u]|=128*p,o}function R(e,t,a){var n,r=8*a-t-1,i=(1<<r)-1,o=i>>1,l=r-7,s=a-1,c=e[s--],d=127&c;for(c>>=7;l>0;d=256*d+e[s],s--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[s],s--,l-=8);if(0===d)d=1-o;else{if(d===i)return n?NaN:c?-T:T;n+=I(2,t),d-=o}return(c?-1:1)*n*I(2,d-t)}function F(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function D(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function k(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function x(e){return M(e,52,8)}function G(e){return M(e,23,4)}function $(e,t,a){g(e.prototype,t,{get:function(){return this[a]}})}function H(e,t,a,n){var r=m(+a);if(r+t>e[w])throw A("Wrong index!");var i=e[L]._b,o=r+e[P],l=i.slice(o,o+t);return n?l:l.reverse()}function j(e,t,a,n,r,i){var o=m(+a);if(o+t>e[w])throw A("Wrong index!");for(var l=e[L]._b,s=o+e[P],c=n(+r),d=0;d<t;d++)l[s+d]=c[i?d:t-d-1]}if(o.ABV){if(!c((function(){S(1)}))||!c((function(){new S(-1)}))||c((function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name}))){for(var B,q=(S=function(e){return d(this,S),new _(m(e))}).prototype=_.prototype,V=f(_),X=0;V.length>X;)(B=V[X++])in S||l(S,B,_[B]);i||(q.constructor=S)}var W=new C(new S(2)),z=C.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||s(C.prototype,{setInt8:function(e,t){z.call(this,e,t<<24>>24)},setUint8:function(e,t){z.call(this,e,t<<24>>24)}},!0)}else S=function(e){d(this,S,"ArrayBuffer");var t=m(e);this._b=h.call(new Array(t),0),this[w]=t},C=function(e,t,a){d(this,C,"DataView"),d(e,S,"DataView");var n=e[w],r=u(t);if(r<0||r>n)throw A("Wrong offset!");if(r+(a=void 0===a?n-r:p(a))>n)throw A("Wrong length!");this[L]=e,this[P]=r,this[w]=a},r&&($(S,"byteLength","_l"),$(C,"buffer","_b"),$(C,"byteLength","_l"),$(C,"byteOffset","_o")),s(C.prototype,{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return F(H(this,4,e,arguments[1]))},getUint32:function(e){return F(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return R(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return R(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){j(this,1,e,D,t)},setUint8:function(e,t){j(this,1,e,D,t)},setInt16:function(e,t){j(this,2,e,U,t,arguments[2])},setUint16:function(e,t){j(this,2,e,U,t,arguments[2])},setInt32:function(e,t){j(this,4,e,k,t,arguments[2])},setUint32:function(e,t){j(this,4,e,k,t,arguments[2])},setFloat32:function(e,t){j(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){j(this,8,e,x,t,arguments[2])}});v(S,"ArrayBuffer"),v(C,"DataView"),l(C.prototype,o.VIEW,!0),t.ArrayBuffer=S,t.DataView=C},function(e,t){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,a){e.exports=!a(120)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,a){e.exports=!a(8)&&!a(2)((function(){return 7!=Object.defineProperty(a(60)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,a){var n=a(1),r=a(7),i=a(30),o=a(61),l=a(9).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:o.f(e)})}},function(e,t,a){var n=a(13),r=a(15),i=a(49)(!1),o=a(62)("IE_PROTO");e.exports=function(e,t){var a,l=r(e),s=0,c=[];for(a in l)a!=o&&n(l,a)&&c.push(a);for(;t.length>s;)n(l,a=t[s++])&&(~i(c,a)||c.push(a));return c}},function(e,t,a){var n=a(9),r=a(3),i=a(31);e.exports=a(8)?Object.defineProperties:function(e,t){r(e);for(var a,o=i(t),l=o.length,s=0;l>s;)n.f(e,a=o[s++],t[a]);return e}},function(e,t,a){var n=a(15),r=a(34).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return o.slice()}}(e):r(n(e))}},function(e,t,a){"use strict";var n=a(8),r=a(31),i=a(50),o=a(45),l=a(10),s=a(44),c=Object.assign;e.exports=!c||a(2)((function(){var e={},t={},a=Symbol(),n="abcdefghijklmnopqrst";return e[a]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[a]||Object.keys(c({},t)).join("")!=n}))?function(e,t){for(var a=l(e),c=arguments.length,d=1,u=i.f,p=o.f;c>d;)for(var m,f=s(arguments[d++]),g=u?r(f).concat(u(f)):r(f),h=g.length,v=0;h>v;)m=g[v++],n&&!p.call(f,m)||(a[m]=f[m]);return a}:c},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,a){"use strict";var n=a(18),r=a(4),i=a(96),o=[].slice,l={},s=function(e,t,a){if(!(t in l)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";l[t]=Function("F,a","return new F("+n.join(",")+")")}return l[t](e,a)};e.exports=Function.bind||function(e){var t=n(this),a=o.call(arguments,1),l=function(){var n=a.concat(o.call(arguments));return this instanceof l?s(t,n.length,n):i(t,n,e)};return r(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,a){var n=void 0===a;switch(t.length){case 0:return n?e():e.call(a);case 1:return n?e(t[0]):e.call(a,t[0]);case 2:return n?e(t[0],t[1]):e.call(a,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(a,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(a,t[0],t[1],t[2],t[3])}return e.apply(a,t)}},function(e,t,a){var n=a(1).parseInt,r=a(39).trim,i=a(66),o=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var a=r(String(e),3);return n(a,t>>>0||(o.test(a)?16:10))}:n},function(e,t,a){var n=a(1).parseFloat,r=a(39).trim;e.exports=1/n(a(66)+"-0")!=-1/0?function(e){var t=r(String(e),3),a=n(t);return 0===a&&"-"==t.charAt(0)?-0:a}:n},function(e,t,a){var n=a(23);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,a){var n=a(4),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,a){"use strict";var n=a(33),r=a(28),i=a(38),o={};a(14)(o,a(5)("iterator"),(function(){return this})),e.exports=function(e,t,a){e.prototype=n(o,{next:r(1,a)}),i(e,t+" Iterator")}},function(e,t,a){var n=a(3);e.exports=function(e,t,a,r){try{return r?t(n(a)[0],a[1]):t(a)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,a){var n=a(215);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,a){var n=a(18),r=a(10),i=a(44),o=a(6);e.exports=function(e,t,a,l,s){n(t);var c=r(e),d=i(c),u=o(c.length),p=s?u-1:0,m=s?-1:1;if(a<2)for(;;){if(p in d){l=d[p],p+=m;break}if(p+=m,s?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;s?p>=0:u>p;p+=m)p in d&&(l=t(l,d[p],p,c));return l}},function(e,t,a){"use strict";var n=a(10),r=a(32),i=a(6);e.exports=[].copyWithin||function(e,t){var a=n(this),o=i(a.length),l=r(e,o),s=r(t,o),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?o:r(c,o))-s,o-l),u=1;for(s<l&&l<s+d&&(u=-1,s+=d-1,l+=d-1);d-- >0;)s in a?a[l]=a[s]:delete a[l],l+=u,s+=u;return a}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,a){"use strict";var n=a(81);a(0)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,a){a(8)&&"g"!=/./g.flags&&a(9).f(RegExp.prototype,"flags",{configurable:!0,get:a(53)})},function(e,t,a){"use strict";var n,r,i,o,l=a(30),s=a(1),c=a(17),d=a(46),u=a(0),p=a(4),m=a(18),f=a(42),g=a(56),h=a(47),v=a(83).set,S=a(235)(),C=a(111),y=a(236),A=a(57),T=a(112),_=s.TypeError,E=s.process,I=E&&E.versions,b=I&&I.v8||"",O=s.Promise,N="process"==d(E),L=function(){},w=r=C.f,P=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[a(5)("species")]=function(e){e(L,L)};return(N||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==b.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var a=e._c;S((function(){for(var n=e._v,r=1==e._s,i=0,o=function(t){var a,i,o,l=r?t.ok:t.fail,s=t.resolve,c=t.reject,d=t.domain;try{l?(r||(2==e._h&&U(e),e._h=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),o=!0)),a===t.promise?c(_("Promise-chain cycle")):(i=M(a))?i.call(a,s,c):s(a)):c(n)}catch(e){d&&!o&&d.exit(),c(e)}};a.length>i;)o(a[i++]);e._c=[],e._n=!1,t&&!e._h&&F(e)}))}},F=function(e){v.call(s,(function(){var t,a,n,r=e._v,i=D(e);if(i&&(t=y((function(){N?E.emit("unhandledRejection",r,e):(a=s.onunhandledrejection)?a({promise:e,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)})),e._h=N||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){v.call(s,(function(){var t;N?E.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})}))},k=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},x=function(e){var t,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===e)throw _("Promise can't be resolved itself");(t=M(e))?S((function(){var n={_w:a,_d:!1};try{t.call(e,c(x,n,1),c(k,n,1))}catch(e){k.call(n,e)}})):(a._v=e,a._s=1,R(a,!1))}catch(e){k.call({_w:a,_d:!1},e)}}};P||(O=function(e){f(this,O,"Promise","_h"),m(e),n.call(this);try{e(c(x,this,1),c(k,this,1))}catch(e){k.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=a(43)(O.prototype,{then:function(e,t){var a=w(h(this,O));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=N?E.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&R(this,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(x,e,1),this.reject=c(k,e,1)},C.f=w=function(e){return e===O||e===o?new i(e):r(e)}),u(u.G+u.W+u.F*!P,{Promise:O}),a(38)(O,"Promise"),a(41)("Promise"),o=a(7).Promise,u(u.S+u.F*!P,"Promise",{reject:function(e){var t=w(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(l||!P),"Promise",{resolve:function(e){return T(l&&this===o?O:this,e)}}),u(u.S+u.F*!(P&&a(52)((function(e){O.all(e).catch(L)}))),"Promise",{all:function(e){var t=this,a=w(t),n=a.resolve,r=a.reject,i=y((function(){var a=[],i=0,o=1;g(e,!1,(function(e){var l=i++,s=!1;a.push(void 0),o++,t.resolve(e).then((function(e){s||(s=!0,a[l]=e,--o||n(a))}),r)})),--o||n(a)}));return i.e&&r(i.v),a.promise},race:function(e){var t=this,a=w(t),n=a.reject,r=y((function(){g(e,!1,(function(e){t.resolve(e).then(a.resolve,n)}))}));return r.e&&n(r.v),a.promise}})},function(e,t,a){"use strict";var n=a(18);function r(e){var t,a;this.promise=new e((function(e,n){if(void 0!==t||void 0!==a)throw TypeError("Bad Promise constructor");t=e,a=n})),this.resolve=n(t),this.reject=n(a)}e.exports.f=function(e){return new r(e)}},function(e,t,a){var n=a(3),r=a(4),i=a(111);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var a=i.f(e);return(0,a.resolve)(t),a.promise}},function(e,t,a){"use strict";var n=a(9).f,r=a(33),i=a(43),o=a(17),l=a(42),s=a(56),c=a(72),d=a(107),u=a(41),p=a(8),m=a(27).fastKey,f=a(37),g=p?"_s":"size",h=function(e,t){var a,n=m(t);if("F"!==n)return e._i[n];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var d=e((function(e,n){l(e,d,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,null!=n&&s(n,a,e[c],e)}));return i(d.prototype,{clear:function(){for(var e=f(this,t),a=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete a[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var a=f(this,t),n=h(a,e);if(n){var r=n.n,i=n.p;delete a._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),a._f==n&&(a._f=r),a._l==n&&(a._l=i),a[g]--}return!!n},forEach:function(e){f(this,t);for(var a,n=o(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(n(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!h(f(this,t),e)}}),p&&n(d.prototype,"size",{get:function(){return f(this,t)[g]}}),d},def:function(e,t,a){var n,r,i=h(e,t);return i?i.v=a:(e._l=i={i:r=m(t,!0),k:t,v:a,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[g]++,"F"!==r&&(e._i[r]=i)),e},getEntry:h,setStrong:function(e,t,a){c(e,t,(function(e,a){this._t=f(e,t),this._k=a,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))}),a?"entries":"values",!a,!0),u(t)}}},function(e,t,a){"use strict";var n=a(43),r=a(27).getWeak,i=a(3),o=a(4),l=a(42),s=a(56),c=a(22),d=a(13),u=a(37),p=c(5),m=c(6),f=0,g=function(e){return e._l||(e._l=new h)},h=function(){this.a=[]},v=function(e,t){return p(e.a,(function(e){return e[0]===t}))};h.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var a=v(this,e);a?a[1]=t:this.a.push([e,t])},delete:function(e){var t=m(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,a,i){var c=e((function(e,n){l(e,c,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=n&&s(n,a,e[i],e)}));return n(c.prototype,{delete:function(e){if(!o(e))return!1;var a=r(e);return!0===a?g(u(this,t)).delete(e):a&&d(a,this._i)&&delete a[this._i]},has:function(e){if(!o(e))return!1;var a=r(e);return!0===a?g(u(this,t)).has(e):a&&d(a,this._i)}}),c},def:function(e,t,a){var n=r(i(t),!0);return!0===n?g(e).set(t,a):n[e._i]=a,e},ufstore:g}},function(e,t,a){var n=a(19),r=a(6);e.exports=function(e){if(void 0===e)return 0;var t=n(e),a=r(t);if(t!==a)throw RangeError("Wrong length!");return a}},function(e,t,a){var n=a(34),r=a(50),i=a(3),o=a(1).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(i(e)),a=r.f;return a?t.concat(a(e)):t}},function(e,t,a){var n=a(6),r=a(68),i=a(24);e.exports=function(e,t,a,o){var l=String(i(e)),s=l.length,c=void 0===a?" ":String(a),d=n(t);if(d<=s||""==c)return l;var u=d-s,p=r.call(c,Math.ceil(u/c.length));return p.length>u&&(p=p.slice(0,u)),o?p+l:l+p}},function(e,t,a){var n=a(8),r=a(31),i=a(15),o=a(45).f;e.exports=function(e){return function(t){for(var a,l=i(t),s=r(l),c=s.length,d=0,u=[];c>d;)a=s[d++],n&&!o.call(l,a)||u.push(e?[a,l[a]]:l[a]);return u}}},function(e,t){var a=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=a)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,a){"use strict";a(122);var n,r=(n=a(294))&&n.__esModule?n:{default:n};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},function(e,t,a){"use strict";a(123),a(266),a(268),a(271),a(273),a(275),a(277),a(279),a(281),a(283),a(285),a(287),a(289),a(293)},function(e,t,a){a(124),a(127),a(128),a(129),a(130),a(131),a(132),a(133),a(134),a(135),a(136),a(137),a(138),a(139),a(140),a(141),a(142),a(143),a(144),a(145),a(146),a(147),a(148),a(149),a(150),a(151),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(161),a(162),a(163),a(164),a(165),a(166),a(167),a(168),a(170),a(171),a(172),a(173),a(174),a(175),a(176),a(177),a(178),a(179),a(180),a(181),a(182),a(183),a(184),a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(192),a(193),a(194),a(195),a(196),a(197),a(198),a(199),a(200),a(201),a(202),a(203),a(205),a(206),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(80),a(229),a(108),a(230),a(109),a(231),a(232),a(233),a(234),a(110),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),e.exports=a(7)},function(e,t,a){"use strict";var n=a(1),r=a(13),i=a(8),o=a(0),l=a(11),s=a(27).KEY,c=a(2),d=a(48),u=a(38),p=a(29),m=a(5),f=a(61),g=a(89),h=a(126),v=a(51),S=a(3),C=a(4),y=a(10),A=a(15),T=a(26),_=a(28),E=a(33),I=a(92),b=a(20),O=a(50),N=a(9),L=a(31),w=b.f,P=N.f,M=I.f,R=n.Symbol,F=n.JSON,D=F&&F.stringify,U=m("_hidden"),k=m("toPrimitive"),x={}.propertyIsEnumerable,G=d("symbol-registry"),$=d("symbols"),H=d("op-symbols"),j=Object.prototype,B="function"==typeof R&&!!O.f,q=n.QObject,V=!q||!q.prototype||!q.prototype.findChild,X=i&&c((function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,a){var n=w(j,t);n&&delete j[t],P(e,t,a),n&&e!==j&&P(j,t,n)}:P,W=function(e){var t=$[e]=E(R.prototype);return t._k=e,t},z=B&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Q=function(e,t,a){return e===j&&Q(H,t,a),S(e),t=T(t,!0),S(a),r($,t)?(a.enumerable?(r(e,U)&&e[U][t]&&(e[U][t]=!1),a=E(a,{enumerable:_(0,!1)})):(r(e,U)||P(e,U,_(1,{})),e[U][t]=!0),X(e,t,a)):P(e,t,a)},Y=function(e,t){S(e);for(var a,n=h(t=A(t)),r=0,i=n.length;i>r;)Q(e,a=n[r++],t[a]);return e},J=function(e){var t=x.call(this,e=T(e,!0));return!(this===j&&r($,e)&&!r(H,e))&&(!(t||!r(this,e)||!r($,e)||r(this,U)&&this[U][e])||t)},K=function(e,t){if(e=A(e),t=T(t,!0),e!==j||!r($,t)||r(H,t)){var a=w(e,t);return!a||!r($,t)||r(e,U)&&e[U][t]||(a.enumerable=!0),a}},Z=function(e){for(var t,a=M(A(e)),n=[],i=0;a.length>i;)r($,t=a[i++])||t==U||t==s||n.push(t);return n},ee=function(e){for(var t,a=e===j,n=M(a?H:A(e)),i=[],o=0;n.length>o;)!r($,t=n[o++])||a&&!r(j,t)||i.push($[t]);return i};B||(l((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(a){this===j&&t.call(H,a),r(this,U)&&r(this[U],e)&&(this[U][e]=!1),X(this,e,_(1,a))};return i&&V&&X(j,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),b.f=K,N.f=Q,a(34).f=I.f=Z,a(45).f=J,O.f=ee,i&&!a(30)&&l(j,"propertyIsEnumerable",J,!0),f.f=function(e){return W(m(e))}),o(o.G+o.W+o.F*!B,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ae=0;te.length>ae;)m(te[ae++]);for(var ne=L(m.store),re=0;ne.length>re;)g(ne[re++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return r(G,e+="")?G[e]:G[e]=R(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in G)if(G[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!B,"Object",{create:function(e,t){return void 0===t?E(e):Y(E(e),t)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=c((function(){O.f(1)}));o(o.S+o.F*ie,"Object",{getOwnPropertySymbols:function(e){return O.f(y(e))}}),F&&o(o.S+o.F*(!B||c((function(){var e=R();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,a,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(a=t=n[1],(C(t)||void 0!==e)&&!z(e))return v(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!z(t))return t}),n[1]=t,D.apply(F,n)}}),R.prototype[k]||a(14)(R.prototype,k,R.prototype.valueOf),u(R,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},function(e,t,a){e.exports=a(48)("native-function-to-string",Function.toString)},function(e,t,a){var n=a(31),r=a(50),i=a(45);e.exports=function(e){var t=n(e),a=r.f;if(a)for(var o,l=a(e),s=i.f,c=0;l.length>c;)s.call(e,o=l[c++])&&t.push(o);return t}},function(e,t,a){var n=a(0);n(n.S,"Object",{create:a(33)})},function(e,t,a){var n=a(0);n(n.S+n.F*!a(8),"Object",{defineProperty:a(9).f})},function(e,t,a){var n=a(0);n(n.S+n.F*!a(8),"Object",{defineProperties:a(91)})},function(e,t,a){var n=a(15),r=a(20).f;a(21)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(n(e),t)}}))},function(e,t,a){var n=a(10),r=a(35);a(21)("getPrototypeOf",(function(){return function(e){return r(n(e))}}))},function(e,t,a){var n=a(10),r=a(31);a(21)("keys",(function(){return function(e){return r(n(e))}}))},function(e,t,a){a(21)("getOwnPropertyNames",(function(){return a(92).f}))},function(e,t,a){var n=a(4),r=a(27).onFreeze;a(21)("freeze",(function(e){return function(t){return e&&n(t)?e(r(t)):t}}))},function(e,t,a){var n=a(4),r=a(27).onFreeze;a(21)("seal",(function(e){return function(t){return e&&n(t)?e(r(t)):t}}))},function(e,t,a){var n=a(4),r=a(27).onFreeze;a(21)("preventExtensions",(function(e){return function(t){return e&&n(t)?e(r(t)):t}}))},function(e,t,a){var n=a(4);a(21)("isFrozen",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,a){var n=a(4);a(21)("isSealed",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,a){var n=a(4);a(21)("isExtensible",(function(e){return function(t){return!!n(t)&&(!e||e(t))}}))},function(e,t,a){var n=a(0);n(n.S+n.F,"Object",{assign:a(93)})},function(e,t,a){var n=a(0);n(n.S,"Object",{is:a(94)})},function(e,t,a){var n=a(0);n(n.S,"Object",{setPrototypeOf:a(65).set})},function(e,t,a){"use strict";var n=a(46),r={};r[a(5)("toStringTag")]="z",r+""!="[object z]"&&a(11)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(e,t,a){var n=a(0);n(n.P,"Function",{bind:a(95)})},function(e,t,a){var n=a(9).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||a(8)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,a){"use strict";var n=a(4),r=a(35),i=a(5)("hasInstance"),o=Function.prototype;i in o||a(9).f(o,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,a){var n=a(0),r=a(97);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(e,t,a){var n=a(0),r=a(98);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(e,t,a){"use strict";var n=a(1),r=a(13),i=a(23),o=a(67),l=a(26),s=a(2),c=a(34).f,d=a(20).f,u=a(9).f,p=a(39).trim,m=n.Number,f=m,g=m.prototype,h="Number"==i(a(33)(g)),v="trim"in String.prototype,S=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){var a,n,r,i=(t=v?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(a=t.charCodeAt(2))||120===a)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,s=t.slice(2),c=0,d=s.length;c<d;c++)if((o=s.charCodeAt(c))<48||o>r)return NaN;return parseInt(s,n)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof m&&(h?s((function(){g.valueOf.call(a)})):"Number"!=i(a))?o(new f(S(t)),a,m):S(t)};for(var C,y=a(8)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;y.length>A;A++)r(f,C=y[A])&&!r(m,C)&&u(m,C,d(f,C));m.prototype=g,g.constructor=m,a(11)(n,"Number",m)}},function(e,t,a){"use strict";var n=a(0),r=a(19),i=a(99),o=a(68),l=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",u=function(e,t){for(var a=-1,n=t;++a<6;)n+=e*c[a],c[a]=n%1e7,n=s(n/1e7)},p=function(e){for(var t=6,a=0;--t>=0;)a+=c[t],c[t]=s(a/e),a=a%e*1e7},m=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var a=String(c[e]);t=""===t?a:t+o.call("0",7-a.length)+a}return t},f=function(e,t,a){return 0===t?a:t%2==1?f(e,t-1,a*e):f(e*e,t/2,a)};n(n.P+n.F*(!!l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a(2)((function(){l.call({})}))),"Number",{toFixed:function(e){var t,a,n,l,s=i(this,d),c=r(e),g="",h="0";if(c<0||c>20)throw RangeError(d);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(g="-",s=-s),s>1e-21)if(a=(t=function(e){for(var t=0,a=e;a>=4096;)t+=12,a/=4096;for(;a>=2;)t+=1,a/=2;return t}(s*f(2,69,1))-69)<0?s*f(2,-t,1):s/f(2,t,1),a*=4503599627370496,(t=52-t)>0){for(u(0,a),n=c;n>=7;)u(1e7,0),n-=7;for(u(f(10,n,1),0),n=t-1;n>=23;)p(1<<23),n-=23;p(1<<n),u(1,1),p(2),h=m()}else u(0,a),u(1<<-t,0),h=m()+o.call("0",c);return h=c>0?g+((l=h.length)<=c?"0."+o.call("0",c-l)+h:h.slice(0,l-c)+"."+h.slice(l-c)):g+h}})},function(e,t,a){"use strict";var n=a(0),r=a(2),i=a(99),o=1..toPrecision;n(n.P+n.F*(r((function(){return"1"!==o.call(1,void 0)}))||!r((function(){o.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,a){var n=a(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,a){var n=a(0),r=a(1).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,a){var n=a(0);n(n.S,"Number",{isInteger:a(100)})},function(e,t,a){var n=a(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,a){var n=a(0),r=a(100),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return r(e)&&i(e)<=9007199254740991}})},function(e,t,a){var n=a(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,a){var n=a(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,a){var n=a(0),r=a(98);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,a){var n=a(0),r=a(97);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,a){var n=a(0),r=a(101),i=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+i(e-1)*i(e+1))}})},function(e,t,a){var n=a(0),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,a){var n=a(0),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,a){var n=a(0),r=a(69);n(n.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,a){var n=a(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,a){var n=a(0),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,a){var n=a(0),r=a(70);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,a){var n=a(0);n(n.S,"Math",{fround:a(169)})},function(e,t,a){var n=a(69),r=Math.pow,i=r(2,-52),o=r(2,-23),l=r(2,127)*(2-o),s=r(2,-126);e.exports=Math.fround||function(e){var t,a,r=Math.abs(e),c=n(e);return r<s?c*(r/s/o+1/i-1/i)*s*o:(a=(t=(1+o/i)*r)-(t-r))>l||a!=a?c*(1/0):c*a}},function(e,t,a){var n=a(0),r=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var a,n,i=0,o=0,l=arguments.length,s=0;o<l;)s<(a=r(arguments[o++]))?(i=i*(n=s/a)*n+1,s=a):i+=a>0?(n=a/s)*n:a;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,a){var n=a(0),r=Math.imul;n(n.S+n.F*a(2)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(e,t){var a=+e,n=+t,r=65535&a,i=65535&n;return 0|r*i+((65535&a>>>16)*i+r*(65535&n>>>16)<<16>>>0)}})},function(e,t,a){var n=a(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,a){var n=a(0);n(n.S,"Math",{log1p:a(101)})},function(e,t,a){var n=a(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,a){var n=a(0);n(n.S,"Math",{sign:a(69)})},function(e,t,a){var n=a(0),r=a(70),i=Math.exp;n(n.S+n.F*a(2)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,a){var n=a(0),r=a(70),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=r(e=+e),a=r(-e);return t==1/0?1:a==1/0?-1:(t-a)/(i(e)+i(-e))}})},function(e,t,a){var n=a(0);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,a){var n=a(0),r=a(32),i=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,a=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");a.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return a.join("")}})},function(e,t,a){var n=a(0),r=a(15),i=a(6);n(n.S,"String",{raw:function(e){for(var t=r(e.raw),a=i(t.length),n=arguments.length,o=[],l=0;a>l;)o.push(String(t[l++])),l<n&&o.push(String(arguments[l]));return o.join("")}})},function(e,t,a){"use strict";a(39)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,a){"use strict";var n=a(71)(!0);a(72)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=n(t,a),this._i+=e.length,{value:e,done:!1})}))},function(e,t,a){"use strict";var n=a(0),r=a(71)(!1);n(n.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,a){"use strict";var n=a(0),r=a(6),i=a(73),o="".endsWith;n(n.P+n.F*a(75)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),a=arguments.length>1?arguments[1]:void 0,n=r(t.length),l=void 0===a?n:Math.min(r(a),n),s=String(e);return o?o.call(t,s,l):t.slice(l-s.length,l)===s}})},function(e,t,a){"use strict";var n=a(0),r=a(73);n(n.P+n.F*a(75)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,a){var n=a(0);n(n.P,"String",{repeat:a(68)})},function(e,t,a){"use strict";var n=a(0),r=a(6),i=a(73),o="".startsWith;n(n.P+n.F*a(75)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),a=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,a):t.slice(a,a+n.length)===n}})},function(e,t,a){"use strict";a(12)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,a){"use strict";a(12)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,a){"use strict";a(12)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,a){"use strict";a(12)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,a){"use strict";a(12)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,a){"use strict";a(12)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,a){"use strict";a(12)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,a){"use strict";a(12)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,a){"use strict";a(12)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,a){"use strict";a(12)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,a){"use strict";a(12)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,a){"use strict";a(12)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,a){"use strict";a(12)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,a){var n=a(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,a){"use strict";var n=a(0),r=a(10),i=a(26);n(n.P+n.F*a(2)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=r(this),a=i(t);return"number"!=typeof a||isFinite(a)?t.toISOString():null}})},function(e,t,a){var n=a(0),r=a(204);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,a){"use strict";var n=a(2),r=Date.prototype.getTime,i=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!n((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),a=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(a>99?a:"0"+o(a))+"Z"}:i},function(e,t,a){var n=Date.prototype,r=n.toString,i=n.getTime;new Date(NaN)+""!="Invalid Date"&&a(11)(n,"toString",(function(){var e=i.call(this);return e==e?r.call(this):"Invalid Date"}))},function(e,t,a){var n=a(5)("toPrimitive"),r=Date.prototype;n in r||a(14)(r,n,a(207))},function(e,t,a){"use strict";var n=a(3),r=a(26);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(n(this),"number"!=e)}},function(e,t,a){var n=a(0);n(n.S,"Array",{isArray:a(51)})},function(e,t,a){"use strict";var n=a(17),r=a(0),i=a(10),o=a(103),l=a(76),s=a(6),c=a(77),d=a(78);r(r.S+r.F*!a(52)((function(e){Array.from(e)})),"Array",{from:function(e){var t,a,r,u,p=i(e),m="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,h=void 0!==g,v=0,S=d(p);if(h&&(g=n(g,f>2?arguments[2]:void 0,2)),null==S||m==Array&&l(S))for(a=new m(t=s(p.length));t>v;v++)c(a,v,h?g(p[v],v):p[v]);else for(u=S.call(p),a=new m;!(r=u.next()).done;v++)c(a,v,h?o(u,g,[r.value,v],!0):r.value);return a.length=v,a}})},function(e,t,a){"use strict";var n=a(0),r=a(77);n(n.S+n.F*a(2)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,a=new("function"==typeof this?this:Array)(t);t>e;)r(a,e,arguments[e++]);return a.length=t,a}})},function(e,t,a){"use strict";var n=a(0),r=a(15),i=[].join;n(n.P+n.F*(a(44)!=Object||!a(16)(i)),"Array",{join:function(e){return i.call(r(this),void 0===e?",":e)}})},function(e,t,a){"use strict";var n=a(0),r=a(64),i=a(23),o=a(32),l=a(6),s=[].slice;n(n.P+n.F*a(2)((function(){r&&s.call(r)})),"Array",{slice:function(e,t){var a=l(this.length),n=i(this);if(t=void 0===t?a:t,"Array"==n)return s.call(this,e,t);for(var r=o(e,a),c=o(t,a),d=l(c-r),u=new Array(d),p=0;p<d;p++)u[p]="String"==n?this.charAt(r+p):this[r+p];return u}})},function(e,t,a){"use strict";var n=a(0),r=a(18),i=a(10),o=a(2),l=[].sort,s=[1,2,3];n(n.P+n.F*(o((function(){s.sort(void 0)}))||!o((function(){s.sort(null)}))||!a(16)(l)),"Array",{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),r(e))}})},function(e,t,a){"use strict";var n=a(0),r=a(22)(0),i=a(16)([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,a){var n=a(4),r=a(51),i=a(5)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,a){"use strict";var n=a(0),r=a(22)(1);n(n.P+n.F*!a(16)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,a){"use strict";var n=a(0),r=a(22)(2);n(n.P+n.F*!a(16)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,a){"use strict";var n=a(0),r=a(22)(3);n(n.P+n.F*!a(16)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,a){"use strict";var n=a(0),r=a(22)(4);n(n.P+n.F*!a(16)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,a){"use strict";var n=a(0),r=a(105);n(n.P+n.F*!a(16)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,a){"use strict";var n=a(0),r=a(105);n(n.P+n.F*!a(16)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,a){"use strict";var n=a(0),r=a(49)(!1),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!a(16)(i)),"Array",{indexOf:function(e){return o?i.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,a){"use strict";var n=a(0),r=a(15),i=a(19),o=a(6),l=[].lastIndexOf,s=!!l&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(s||!a(16)(l)),"Array",{lastIndexOf:function(e){if(s)return l.apply(this,arguments)||0;var t=r(this),a=o(t.length),n=a-1;for(arguments.length>1&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=a+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,a){var n=a(0);n(n.P,"Array",{copyWithin:a(106)}),a(36)("copyWithin")},function(e,t,a){var n=a(0);n(n.P,"Array",{fill:a(79)}),a(36)("fill")},function(e,t,a){"use strict";var n=a(0),r=a(22)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),n(n.P+n.F*i,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(36)("find")},function(e,t,a){"use strict";var n=a(0),r=a(22)(6),i="findIndex",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),n(n.P+n.F*o,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(36)(i)},function(e,t,a){a(41)("Array")},function(e,t,a){var n=a(1),r=a(67),i=a(9).f,o=a(34).f,l=a(74),s=a(53),c=n.RegExp,d=c,u=c.prototype,p=/a/g,m=/a/g,f=new c(p)!==p;if(a(8)&&(!f||a(2)((function(){return m[a(5)("match")]=!1,c(p)!=p||c(m)==m||"/a/i"!=c(p,"i")})))){c=function(e,t){var a=this instanceof c,n=l(e),i=void 0===t;return!a&&n&&e.constructor===c&&i?e:r(f?new d(n&&!i?e.source:e,t):d((n=e instanceof c)?e.source:e,n&&i?s.call(e):t),a?this:u,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},h=o(d),v=0;h.length>v;)g(h[v++]);u.constructor=c,c.prototype=u,a(11)(n,"RegExp",c)}a(41)("RegExp")},function(e,t,a){"use strict";a(109);var n=a(3),r=a(53),i=a(8),o=/./.toString,l=function(e){a(11)(RegExp.prototype,"toString",e,!0)};a(2)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?r.call(e):void 0)})):"toString"!=o.name&&l((function(){return o.call(this)}))},function(e,t,a){"use strict";var n=a(3),r=a(6),i=a(82),o=a(54);a(55)("match",1,(function(e,t,a,l){return[function(a){var n=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=l(a,e,this);if(t.done)return t.value;var s=n(e),c=String(this);if(!s.global)return o(s,c);var d=s.unicode;s.lastIndex=0;for(var u,p=[],m=0;null!==(u=o(s,c));){var f=String(u[0]);p[m]=f,""===f&&(s.lastIndex=i(c,r(s.lastIndex),d)),m++}return 0===m?null:p}]}))},function(e,t,a){"use strict";var n=a(3),r=a(10),i=a(6),o=a(19),l=a(82),s=a(54),c=Math.max,d=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g;a(55)("replace",2,(function(e,t,a,f){return[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):a.call(String(i),n,r)},function(e,t){var r=f(a,e,this,t);if(r.done)return r.value;var u=n(e),p=String(this),m="function"==typeof t;m||(t=String(t));var h=u.global;if(h){var v=u.unicode;u.lastIndex=0}for(var S=[];;){var C=s(u,p);if(null===C)break;if(S.push(C),!h)break;""===String(C[0])&&(u.lastIndex=l(p,i(u.lastIndex),v))}for(var y,A="",T=0,_=0;_<S.length;_++){C=S[_];for(var E=String(C[0]),I=c(d(o(C.index),p.length),0),b=[],O=1;O<C.length;O++)b.push(void 0===(y=C[O])?y:String(y));var N=C.groups;if(m){var L=[E].concat(b,I,p);void 0!==N&&L.push(N);var w=String(t.apply(void 0,L))}else w=g(E,p,I,b,N,t);I>=T&&(A+=p.slice(T,I)+w,T=I+E.length)}return A+p.slice(T)}];function g(e,t,n,i,o,l){var s=n+e.length,c=i.length,d=m;return void 0!==o&&(o=r(o),d=p),a.call(l,d,(function(a,r){var l;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":l=o[r.slice(1,-1)];break;default:var d=+r;if(0===d)return a;if(d>c){var p=u(d/10);return 0===p?a:p<=c?void 0===i[p-1]?r.charAt(1):i[p-1]+r.charAt(1):a}l=i[d-1]}return void 0===l?"":l}))}}))},function(e,t,a){"use strict";var n=a(3),r=a(94),i=a(54);a(55)("search",1,(function(e,t,a,o){return[function(a){var n=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=o(a,e,this);if(t.done)return t.value;var l=n(e),s=String(this),c=l.lastIndex;r(c,0)||(l.lastIndex=0);var d=i(l,s);return r(l.lastIndex,c)||(l.lastIndex=c),null===d?-1:d.index}]}))},function(e,t,a){"use strict";var n=a(74),r=a(3),i=a(47),o=a(82),l=a(6),s=a(54),c=a(81),d=a(2),u=Math.min,p=[].push,m="length",f=!d((function(){RegExp(4294967295,"y")}));a(55)("split",2,(function(e,t,a,d){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[m]||2!="ab".split(/(?:ab)*/)[m]||4!=".".split(/(.?)(.?)/)[m]||".".split(/()()/)[m]>1||"".split(/.?/)[m]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(r,e,t);for(var i,o,l,s=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,f=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,d+"g");(i=c.call(g,r))&&!((o=g.lastIndex)>u&&(s.push(r.slice(u,i.index)),i[m]>1&&i.index<r[m]&&p.apply(s,i.slice(1)),l=i[0][m],u=o,s[m]>=f));)g.lastIndex===i.index&&g.lastIndex++;return u===r[m]?!l&&g.test("")||s.push(""):s.push(r.slice(u)),s[m]>f?s.slice(0,f):s}:"0".split(void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,n){var r=e(this),i=null==a?void 0:a[t];return void 0!==i?i.call(a,r,n):g.call(String(r),a,n)},function(e,t){var n=d(g,e,this,t,g!==a);if(n.done)return n.value;var c=r(e),p=String(this),m=i(c,RegExp),h=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),S=new m(f?c:"^(?:"+c.source+")",v),C=void 0===t?4294967295:t>>>0;if(0===C)return[];if(0===p.length)return null===s(S,p)?[p]:[];for(var y=0,A=0,T=[];A<p.length;){S.lastIndex=f?A:0;var _,E=s(S,f?p:p.slice(A));if(null===E||(_=u(l(S.lastIndex+(f?0:A)),p.length))===y)A=o(p,A,h);else{if(T.push(p.slice(y,A)),T.length===C)return T;for(var I=1;I<=E.length-1;I++)if(T.push(E[I]),T.length===C)return T;A=y=_}}return T.push(p.slice(y)),T}]}))},function(e,t,a){var n=a(1),r=a(83).set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,l=n.Promise,s="process"==a(23)(o);e.exports=function(){var e,t,a,c=function(){var n,r;for(s&&(n=o.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?a():t=void 0,n}}t=void 0,n&&n.enter()};if(s)a=function(){o.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(l&&l.resolve){var d=l.resolve(void 0);a=function(){d.then(c)}}else a=function(){r.call(n,c)};else{var u=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),a=function(){p.data=u=!u}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,a()),t=r}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,a){"use strict";var n=a(113),r=a(37);e.exports=a(58)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(r(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,a){"use strict";var n=a(113),r=a(37);e.exports=a(58)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,a){"use strict";var n,r=a(1),i=a(22)(0),o=a(11),l=a(27),s=a(93),c=a(114),d=a(4),u=a(37),p=a(37),m=!r.ActiveXObject&&"ActiveXObject"in r,f=l.getWeak,g=Object.isExtensible,h=c.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},S={get:function(e){if(d(e)){var t=f(e);return!0===t?h(u(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(u(this,"WeakMap"),e,t)}},C=e.exports=a(58)("WeakMap",v,S,c,!0,!0);p&&m&&(s((n=c.getConstructor(v,"WeakMap")).prototype,S),l.NEED=!0,i(["delete","has","get","set"],(function(e){var t=C.prototype,a=t[e];o(t,e,(function(t,r){if(d(t)&&!g(t)){this._f||(this._f=new n);var i=this._f[e](t,r);return"set"==e?this:i}return a.call(this,t,r)}))})))},function(e,t,a){"use strict";var n=a(114),r=a(37);a(58)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(r(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,a){"use strict";var n=a(0),r=a(59),i=a(84),o=a(3),l=a(32),s=a(6),c=a(4),d=a(1).ArrayBuffer,u=a(47),p=i.ArrayBuffer,m=i.DataView,f=r.ABV&&d.isView,g=p.prototype.slice,h=r.VIEW;n(n.G+n.W+n.F*(d!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||c(e)&&h in e}}),n(n.P+n.U+n.F*a(2)((function(){return!new p(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(o(this),e);for(var a=o(this).byteLength,n=l(e,a),r=l(void 0===t?a:t,a),i=new(u(this,p))(s(r-n)),c=new m(this),d=new m(i),f=0;n<r;)d.setUint8(f++,c.getUint8(n++));return i}}),a(41)("ArrayBuffer")},function(e,t,a){var n=a(0);n(n.G+n.W+n.F*!a(59).ABV,{DataView:a(84).DataView})},function(e,t,a){a(25)("Int8",1,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Uint8",1,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Uint8",1,(function(e){return function(t,a,n){return e(this,t,a,n)}}),!0)},function(e,t,a){a(25)("Int16",2,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Uint16",2,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Int32",4,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Uint32",4,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Float32",4,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){a(25)("Float64",8,(function(e){return function(t,a,n){return e(this,t,a,n)}}))},function(e,t,a){var n=a(0),r=a(18),i=a(3),o=(a(1).Reflect||{}).apply,l=Function.apply;n(n.S+n.F*!a(2)((function(){o((function(){}))})),"Reflect",{apply:function(e,t,a){var n=r(e),s=i(a);return o?o(n,t,s):l.call(n,t,s)}})},function(e,t,a){var n=a(0),r=a(33),i=a(18),o=a(3),l=a(4),s=a(2),c=a(95),d=(a(1).Reflect||{}).construct,u=s((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),p=!s((function(){d((function(){}))}));n(n.S+n.F*(u||p),"Reflect",{construct:function(e,t){i(e),o(t);var a=arguments.length<3?e:i(arguments[2]);if(p&&!u)return d(e,t,a);if(e==a){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var s=a.prototype,m=r(l(s)?s:Object.prototype),f=Function.apply.call(e,m,t);return l(f)?f:m}})},function(e,t,a){var n=a(9),r=a(0),i=a(3),o=a(26);r(r.S+r.F*a(2)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,a){i(e),t=o(t,!0),i(a);try{return n.f(e,t,a),!0}catch(e){return!1}}})},function(e,t,a){var n=a(0),r=a(20).f,i=a(3);n(n.S,"Reflect",{deleteProperty:function(e,t){var a=r(i(e),t);return!(a&&!a.configurable)&&delete e[t]}})},function(e,t,a){"use strict";var n=a(0),r=a(3),i=function(e){this._t=r(e),this._i=0;var t,a=this._k=[];for(t in e)a.push(t)};a(102)(i,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,a){var n=a(20),r=a(35),i=a(13),o=a(0),l=a(4),s=a(3);o(o.S,"Reflect",{get:function e(t,a){var o,c,d=arguments.length<3?t:arguments[2];return s(t)===d?t[a]:(o=n.f(t,a))?i(o,"value")?o.value:void 0!==o.get?o.get.call(d):void 0:l(c=r(t))?e(c,a,d):void 0}})},function(e,t,a){var n=a(20),r=a(0),i=a(3);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},function(e,t,a){var n=a(0),r=a(35),i=a(3);n(n.S,"Reflect",{getPrototypeOf:function(e){return r(i(e))}})},function(e,t,a){var n=a(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,a){var n=a(0),r=a(3),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return r(e),!i||i(e)}})},function(e,t,a){var n=a(0);n(n.S,"Reflect",{ownKeys:a(116)})},function(e,t,a){var n=a(0),r=a(3),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){r(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,a){var n=a(9),r=a(20),i=a(35),o=a(13),l=a(0),s=a(28),c=a(3),d=a(4);l(l.S,"Reflect",{set:function e(t,a,l){var u,p,m=arguments.length<4?t:arguments[3],f=r.f(c(t),a);if(!f){if(d(p=i(t)))return e(p,a,l,m);f=s(0)}if(o(f,"value")){if(!1===f.writable||!d(m))return!1;if(u=r.f(m,a)){if(u.get||u.set||!1===u.writable)return!1;u.value=l,n.f(m,a,u)}else n.f(m,a,s(0,l));return!0}return void 0!==f.set&&(f.set.call(m,l),!0)}})},function(e,t,a){var n=a(0),r=a(65);r&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,a){a(267),e.exports=a(7).Array.includes},function(e,t,a){"use strict";var n=a(0),r=a(49)(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(36)("includes")},function(e,t,a){a(269),e.exports=a(7).Array.flatMap},function(e,t,a){"use strict";var n=a(0),r=a(270),i=a(10),o=a(6),l=a(18),s=a(104);n(n.P,"Array",{flatMap:function(e){var t,a,n=i(this);return l(e),t=o(n.length),a=s(n,0),r(a,n,n,t,0,1,e,arguments[1]),a}}),a(36)("flatMap")},function(e,t,a){"use strict";var n=a(51),r=a(4),i=a(6),o=a(17),l=a(5)("isConcatSpreadable");e.exports=function e(t,a,s,c,d,u,p,m){for(var f,g,h=d,v=0,S=!!p&&o(p,m,3);v<c;){if(v in s){if(f=S?S(s[v],v,a):s[v],g=!1,r(f)&&(g=void 0!==(g=f[l])?!!g:n(f)),g&&u>0)h=e(t,a,f,i(f.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError();t[h]=f}h++}v++}return h}},function(e,t,a){a(272),e.exports=a(7).String.padStart},function(e,t,a){"use strict";var n=a(0),r=a(117),i=a(57),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,a){a(274),e.exports=a(7).String.padEnd},function(e,t,a){"use strict";var n=a(0),r=a(117),i=a(57),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,a){a(276),e.exports=a(7).String.trimLeft},function(e,t,a){"use strict";a(39)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,a){a(278),e.exports=a(7).String.trimRight},function(e,t,a){"use strict";a(39)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,a){a(280),e.exports=a(61).f("asyncIterator")},function(e,t,a){a(89)("asyncIterator")},function(e,t,a){a(282),e.exports=a(7).Object.getOwnPropertyDescriptors},function(e,t,a){var n=a(0),r=a(116),i=a(15),o=a(20),l=a(77);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,a,n=i(e),s=o.f,c=r(n),d={},u=0;c.length>u;)void 0!==(a=s(n,t=c[u++]))&&l(d,t,a);return d}})},function(e,t,a){a(284),e.exports=a(7).Object.values},function(e,t,a){var n=a(0),r=a(118)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},function(e,t,a){a(286),e.exports=a(7).Object.entries},function(e,t,a){var n=a(0),r=a(118)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},function(e,t,a){"use strict";a(110),a(288),e.exports=a(7).Promise.finally},function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(1),o=a(47),l=a(112);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,r.Promise||i.Promise),a="function"==typeof e;return this.then(a?function(a){return l(t,e()).then((function(){return a}))}:e,a?function(a){return l(t,e()).then((function(){throw a}))}:e)}})},function(e,t,a){a(290),a(291),a(292),e.exports=a(7)},function(e,t,a){var n=a(1),r=a(0),i=a(57),o=[].slice,l=/MSIE .\./.test(i),s=function(e){return function(t,a){var n=arguments.length>2,r=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,a)}};r(r.G+r.B+r.F*l,{setTimeout:s(n.setTimeout),setInterval:s(n.setInterval)})},function(e,t,a){var n=a(0),r=a(83);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,a){for(var n=a(80),r=a(31),i=a(11),o=a(1),l=a(14),s=a(40),c=a(5),d=c("iterator"),u=c("toStringTag"),p=s.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(m),g=0;g<f.length;g++){var h,v=f[g],S=m[v],C=o[v],y=C&&C.prototype;if(y&&(y[d]||l(y,d,p),y[u]||l(y,u,v),s[v]=p,S))for(h in n)y[h]||i(y,h,n[h],!0)}},function(e,t,a){var n=function(e){"use strict";var t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,i=Object.create(r.prototype),o=new _(n||[]);return i._invoke=function(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return I()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=y(o,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=c(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}(e,a,o),i}function c(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function u(){}function p(){}function m(){}var f={};l(f,r,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(E([])));h&&h!==t&&a.call(h,r)&&(f=h);var v=m.prototype=u.prototype=Object.create(f);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){var n;this._invoke=function(r,i){function o(){return new t((function(n,o){!function n(r,i,o,l){var s=c(e[r],e,i);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){d.value=e,o(d)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=c(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function E(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},S(C.prototype),l(C.prototype,i,(function(){return this})),e.AsyncIterator=C,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new C(s(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(v),l(v,o,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),T(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;T(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:E(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,a){a(295),e.exports=a(119).global},function(e,t,a){var n=a(296);n(n.G,{global:a(85)})},function(e,t,a){var n=a(85),r=a(119),i=a(297),o=a(299),l=a(306),s=function(e,t,a){var c,d,u,p=e&s.F,m=e&s.G,f=e&s.S,g=e&s.P,h=e&s.B,v=e&s.W,S=m?r:r[t]||(r[t]={}),C=S.prototype,y=m?n:f?n[t]:(n[t]||{}).prototype;for(c in m&&(a=t),a)(d=!p&&y&&void 0!==y[c])&&l(S,c)||(u=d?y[c]:a[c],S[c]=m&&"function"!=typeof y[c]?a[c]:h&&d?i(u,n):v&&y[c]==u?function(e){var t=function(t,a,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,a)}return new e(t,a,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):g&&"function"==typeof u?i(Function.call,u):u,g&&((S.virtual||(S.virtual={}))[c]=u,e&s.R&&C&&!C[c]&&o(C,c,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,a){var n=a(298);e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,a){var n=a(300),r=a(305);e.exports=a(87)?function(e,t,a){return n.f(e,t,r(1,a))}:function(e,t,a){return e[t]=a,e}},function(e,t,a){var n=a(301),r=a(302),i=a(304),o=Object.defineProperty;t.f=a(87)?Object.defineProperty:function(e,t,a){if(n(e),t=i(t,!0),n(a),r)try{return o(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},function(e,t,a){var n=a(86);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,a){e.exports=!a(87)&&!a(120)((function(){return 7!=Object.defineProperty(a(303)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,a){var n=a(86),r=a(85).document,i=n(r)&&n(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,a){var n=a(86);e.exports=function(e,t){if(!n(e))return e;var a,r;if(t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;if("function"==typeof(a=e.valueOf)&&!n(r=a.call(e)))return r;if(!t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},function(e,t,a){a(121),a(308),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(408),a(409),a(410),a(411),a(412),a(413),e.exports=a(414)},function(e,t){!function(){"use strict";angular.module("st.shared.filter",[])}()},function(e,t){angular.module("st.shared.filter").filter("titleCase",(function(){return function(e){return null==e||0===e.length?e:e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}))},function(e,t){!function(){"use strict";angular.module("st.candidate.auth",["ngCookies","ngResource","st.utils","st.services","st.model.dependency","ui.bootstrap"])}()},function(e,t){!function(){"use strict";function e(e,t){var a,n=t.getInstance(MODULE_NAME_USER_AUTH_BUFFER),r=[],i=null;function o(t,r){(a=a||e.get("$http"))(t).then((function(e){r.resolve(e)}),(function(e){n.warn(e),r.reject(e)}))}return{append:function(e,t){r.push({config:e,deferred:t})},rejectAll:function(e){if(e)for(var t=0;t<r.length;++t)r[t].deferred.reject(e);r=[]},retryAll:function(e){for(var t=0;t<r.length;++t)o(e(r[t].config),r[t].deferred);r=[]},setPath:function(e){i=e},getPath:function(){return i}}}angular.module("st.candidate.auth").factory("authBuffer",e),e.$inject=["$injector","$log"]}()},function(e,t){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";var e=angular.module("st.candidate.auth");function t(e,t,a,r,i,o,l,s,c,d,u,p,m,f,g,h,v,S){var C=t.getInstance(MODULE_NAME_APPLY_AUTH),y={_applicationState:f};y.bearerToken={token:"",expiry:""},y.tempToken={token:"",expiry:""};var A=decodeURIComponent(window.location.href),T={tokenState:"",stateType:"NONE",tokenType:"",userPrincipal:"",audKeys:[{audKeyShort:"",methods:["ALL"]}],appType:["XCC","XCEI"]};function E(){y.tempToken.token=null,y.tempToken.expiry=null,_XC_CONFIG.temptoken_timeout&&(window.clearTimeout(_XC_CONFIG.temptoken_timeout),_XC_CONFIG.temptoken_timeout=null),d.remove("tempToken")}function I(){s.retryAll(y.updateAuth0Headers),e.defaults.headers.common.Authorization=y.buildAuth0Header(),y.auth0Token?d.set("auth0Credentials",y.auth0Token,!1):d.set("auth0Credentials",{token:XCLOUD.authToken},!1),y.isLoggedIn=!0}function b(e){return _XC_CONFIG.auth0.sso_enable?"Basic APPLY"+e:y.bearerToken.token?"bearer "+y.bearerToken.token:y.tempToken.token?"bearer "+y.tempToken.token:e.username?"Basic "+btoa("candidate/"+clientName+"/"+e.username.toLowerCase()+":"+e.password):"Basic "+btoa("candidate/"+clientName+"/"+e.username+":"+e.password)}function O(){s.retryAll(y.updateOAuthHeaders),e.defaults.headers.common.Authorization=y.buildOAuthHeader(),d.set("oauthcredentials",y.oAuthToken,!0),y.isLoggedIn=!0,i((function(){r.$broadcast("authenticated")}),50)}r.rememberMe=!1,r.Sessioncounter=60,y.oAuthToken={token:"",authType:"",username:""},y.auth0Token={token:""},y.isAuth0Ready=S.isAuth0Ready(),y.internalToken=angular.copy(y.oAuthToken),y.getCredentials=function(){return this.credentials},y.setCredentials=function(e){this.credentials=e},y.setBearerToken=function(t){var a=this;t&&(this.bearerToken.token=t.token,this.bearerToken.expiry=t.expiry);var n,r=t.expiry-(new Date).getTime();n=Math.floor(r/6e4)>45?r-9e5:r-3e5,e.defaults.headers.common.Authorization=b();var i=d.get("username");if(i&&i.$$state.value&&i.$$state.value.username){var o=i.$$state.value.username;window.clearInterval(_XC_CONFIG.bearer_polling),_XC_CONFIG.bearer_polling=window.setInterval((function(){!function(t,a){t&&a&&new Promise((function(t,n){var r=ATS_URL+ATS_INSTANCE+"/rest/"+clientName+"/token",i=T;i.tokenType="JWS",i.userPrincipal="candidate/"+clientName+"/"+a,i.audKeys[0].audKeyShort="JWS",e.post(r,i).then((function(e){y.setBearerToken(e.data),t(e)}),(function(e){y.resetCurrentSession({skipRedirection:!0}),y.standardLogin({notification:null,reloadOnCancel:!0}),n(e)}))}))}(a.bearerToken.token,o)}),n),d.set("bearerToken",this.bearerToken)}else window.clearInterval(_XC_CONFIG.bearer_polling),d.remove("bearerToken")},y.clearCredentials=function(){this.credentials={username:"",password:""}},y.login=function(t){return C.debug("candidate authentication"),C.debug("url: "+ATS_URL+ATS_INSTANCE),C.debug("credentials "+angular.toJson(t)),e.post(ATS_URL+ATS_INSTANCE+"/rest/login",t,{headers:{Authorization:b(t)},withCredentials:!0})},y.getTempToken=function(t,a){d.set("username",{username:t});var n=y.tempToken.expiry-(new Date).getTime();if(Math.floor(n/6e4)>5&&y.tempToken.token){var r=m.defer();return r.resolve(0),r.promise}return new Promise((function(n,r){var i=ATS_URL+ATS_INSTANCE+"/rest/"+clientName+"/token",o=T;o.tokenType="Temporary Token",o.userPrincipal="candidate/"+clientName+"/"+t,o.audKeys[0].audKeyShort="lgnls",a&&(o.stateType="HASH",o.tokenState=a),_XC_CONFIG.application_logs.enable_candidate_flow_logs&&f.logToDB("SuccessLog",o,"getTempToken-payload",null,null),e.post(i,o).then((function(e){_XC_CONFIG.application_logs.enable_candidate_flow_logs&&f.logToDB("SuccessLog",e.data,"getTempToken-resp",null,null),y.setTempToken(e.data),f.inMemoryStorage.isLoginlessToken=!0,n(e)}),(function(e){_XC_CONFIG.application_logs.enable_candidate_flow_logs&&f.logToDB("FailureLog",o,"getTempToken-err",null,e),E(),r(e)}))}))},y.setTempToken=function(t){this.tempToken.token=t.token,this.tempToken.expiry=t.expiry,e.defaults.headers.common.Authorization=b(),window.location.href.includes("apply/?link")&&y.refreshTempToken(t)},y.refreshTempToken=function(e){var t=e.expiry-(new Date).getTime(),a=Math.max(t-3e5,0),n=d.get("username");if(n&&n.$$state.value&&n.$$state.value.username){var r=n.$$state.value.username;_XC_CONFIG.temptoken_timeout&&window.clearTimeout(_XC_CONFIG.temptoken_timeout),_XC_CONFIG.temptoken_timeout=window.setTimeout((function(){y.getTempToken(r)}),a),d.set("tempToken",this.tempToken)}else window.clearTimeout(_XC_CONFIG.temptoken_timeout),d.remove("tempToken")},y.bearerLogin=function(t){E();var a=m.defer();try{new Promise((function(a,n){e.post(ATS_URL+ATS_INSTANCE+"/rest/login",t,{headers:{Authorization:"Basic "+btoa("candidate/"+clientName+"/"+t.username.toLowerCase()+":"+t.password)},withCredentials:!0}).then((function(e){a(e)}),(function(e){n(e)}))})).then((function(n){new Promise((function(a,n){var r=ATS_URL+ATS_INSTANCE+"/rest/"+clientName+"/token",i=T;i.tokenType="JWS",i.userPrincipal="candidate/"+clientName+"/"+t.username,i.audKeys[0].audKeyShort="JWS",e.post(r,i,{headers:{Authorization:"Basic "+btoa("candidate/"+clientName+"/"+t.username.toLowerCase()+":"+t.password)}}).then((function(e){a(e)}),(function(e){n(e)}))})).then((function(e){d.set("username",{username:t.username}),y.setBearerToken(e.data),a.resolve(n)}),(function(e){console.log(e),a.reject(e)}))}),(function(e){console.log(e),a.reject(e)}))}catch(e){console.log(e),reject(e)}return a.promise},y.logout=function(){C.log("authService logout function"),f.localStorage.keep(),y.loginCancelled("Logout function called"),f.localStorage.restore()},y.getAuthHeader=function(){return b(this.credentials)},y.updateHeaders=function(e){return e.headers.Authorization=y.getAuthHeader(),e},y.loginConfirmed=function(t){t&&(y=angular.extend(y,t)),s.retryAll(y.updateHeaders),y.bearerToken.token||y.tempToken.token||d.set("credentials",this.credentials,!0),null!==localStorage.getItem("applicationURL")&&!1!==f.localStorage.candidate.isReturningUser.get()&&d.remove("applicationURL"),e.defaults.headers.common.Authorization=y.getAuthHeader(),this.isLoggedIn=!0,i((function(){r.$broadcast("authenticated"),r.$broadcast(BROAD_CAST_NAMESPACE.GET_CANDIDATE_ACTIVITY,!0,{})}),50)},y.loginCancelled=function(t){s.rejectAll(t),y.clearCredentials(),e.defaults.headers.common.Authorization=null,E(),c.clear(),d.clear(),this.isLoggedIn=!1,p.socialProvider.reset(),u.remove("xcc"),i((function(){r.$broadcast("loggedOut")}),50),XCLOUD.personalize.init()},y.getLocationPath=function(){C.debug("aservice.getLocationPath");var e=d.get("loginRedirect");return e||s.getPath()},y.getUrlPathIfUserExists=function(){C.debug("aservice.getUrlPathIfUserExists");var e=d.get("loginRedirect");return e||s.getPath()},y.setUrlPathIfUserExists=function(e,t,a){C.debug("aservice.setUrlPathIfUserExists");var n={path:e};t&&(n.username=t),a&&(n.notification=a),d.set("loginRedirect",n)},y.setLocationPath=function(e,t,a){C.debug("aservice.setLocationPath");var n={path:e};t&&(n.username=t),a&&(n.notification=a),d.set("loginRedirect",n)},y.clearUrlPathIfUserExists=function(){C.debug("aservice.clearUrlPathIfUserExists"),s.setPath(null),d.remove("loginRedirect")},y.clearLocationPath=function(){C.debug("aservice.clearLocationPath"),s.setPath(null),d.remove("loginRedirect")},y.setBasicCandidate=function(e){var t=_.pick(e,"firstName","lastName","city","state","country","zip","phone1","candidateId","description","areaInterest","preferences","accessType","veteran");return t.isLocked=!1===f.localStorage.candidate.isReturningUser.get(),d.set("candidate",t),XCLOUD.personalize.init(),t},y.setOAuthToken=function(e,t,a){e=e.replace(/"/g,""),this.oAuthToken.token=e.toString(),this.oAuthToken.authType=t,this.oAuthToken.username=a},y.buildOAuthHeader=function(){return this.oAuthToken.authType+this.oAuthToken.token},y.getOAuthHeader=function(){return this.buildOAuthHeader()},y.updateOAuthHeaders=function(e){return e.headers.Authorization=y.getOAuthHeader(),e},y.socialLogin=function(e,t,a,n){C.debug("Social user authentication");try{y.setOAuthToken(t,"Bearer APPLY ",e),O(),void 0!==a&&a(y.oAuthToken.token)}catch(e){return void 0!==n&&n(e),!1}},y.getSocialInternalToken=function(t,a,n){var r=m.defer();if(C.debug("internal bearer authentication"),n)return r.resolve(0),r.promise;try{var i={method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/token/internal",transformResponse:function(e,t){return e}};return y.internalToken.token=void 0,e(i).then((function(e){y.internalToken.authType=t,y.internalToken.userName=a.email,y.internalToken.token=e.data,r.resolve(y.internalToken)}),(function(e){C.error("internal bearer authentication failed."),C.error(e),r.resolve(e)})),r.promise}catch(e){C.error("internal bearer authentication failed."),C.error(e),r.resolve(e)}},y.extendCurrentBearerAuthentication=function(e){null!=e&&(y.oAuthToken=e,O())},y.isSocialProfileConnection=function(){try{var e=d.get("oauthcredentials",!0,r.rememberMe);return null!=e&&(void 0!==e.$$state.value&&null!==e.$$state.value)}catch(e){return!1}},y.openSignInModal=function(e){e=e||{},!1===_XC_CONFIG.login_modal.disabled?g.open(e,y.signInModalCallback,y.signInModalDismissCallback):o.url("/profile/login/")},y.standardLogin=function(e){var t={};t.email=P.username,t.showSocialWidget=!0,t.showCreateProfileAction=!0,t.reloadWindow=!0,e&&(t=angular.extend(t,e)),y.openSignInModal(t)},y.signInModalCallback=function(e){!0===e.showProgressbar&&f.uiMethods.showProgressBar(!0),!0===e.loadSessionVariables&&y.loadSessionVariables(e.reloadWindow)},y.loadSessionVariables=function(e){r.$broadcast("authenticated"),h.getCurrentCandidate().then((function(t){y.setBasicCandidate(t),f.uiMethods.showProgressBar(!1),!0===e&&l.location.reload()})).catch((function(e){f.uiMethods.showProgressBar(!1),C.error(e)}))},y.signInModalDismissCallback=function(e){!0===e.launchForgotPassword?(f.uiMethods.showProgressBar(!1),g.openPassword({reloadOnCancel:e.reloadOnCancel},y.signInModalCallback,y.signInModalDismissCallback)):!0===e.reloadOnCancel?(f.uiMethods.showProgressBar(!0),e.window.location.reload()):!0===e.showProgressbar&&f.uiMethods.showProgressBar(!0)},y.resetCurrentSession=function(e){y.loginCancelled(),XCLOUD.log_out(!0,e.event,null,e.skipRedirection),XCLOUD.personalize.init()},y.confirmSocialLogin=function(e,t,a,n,r,i){v.login(p.socialProvider,y.socialLogin,e,t,a,n,r,i)},y.setAuth0Token=function(e){e=e.replace(/"/g,""),this.auth0Token.token=e.toString()},y.buildAuth0Header=function(){return""!=this.auth0Token.token?"BEARER APPLY "+this.auth0Token.token:"BEARER APPLY "+XCLOUD.authToken},y.getAuth0Header=function(){return this.buildAuth0Header()},y.auth0Login=function(){jQuery(".loading-container").css("display","block");var t=m.defer();C.debug("internal bearer authentication");try{var a={method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/login",headers:{Authorization:y.getAuth0Header()},data:{username:"",password:""}};return e(a).then((function(e){i((function(){r.$broadcast("auth0AuthenticatedReload")}),50),t.resolve(e)}),(function(e){C.error("Auth0 bearer authentication failed."),C.error(e),t.resolve(e)})),t.promise}catch(e){C.error("Auth0 bearer authentication failed."),C.error(e),t.resolve(e)}},y.updateAuth0Headers=function(e){return e.headers.Authorization=y.getAuth0Header(),e},y.extendAuth0CurrentBearerAuthentication=function(e){null!=e&&(y.setAuth0Token(e),I())},y.checkSession=function(){var e=m.defer();return S.checkSession().then((function(t){if(t.hasOwnProperty("idTokenPayload")){var a=t.idTokenPayload.hasOwnProperty("https://www.symphonytalent.com/apps")?t.idTokenPayload["https://www.symphonytalent.com/apps"]:null;null!==a&&(-1===jQuery.inArray("xcei",a)?(S.XCEIAuthorized=!1,d.set("XCEIAuthorized",!1),o.path("/auth0_authentication/")):t.hasOwnProperty("idToken")&&(d.remove("XCEIAuthorized"),S.XCEIAuthorized=!0,y.setAuth0Token(t.idToken),I(),f.localStorage.candidate.isReturningUser.set({isReturningUser:!0})))}else t.hasOwnProperty("idToken")&&(d.remove("XCEIAuthorized"),S.XCEIAuthorized=!0,y.setAuth0Token(t.idToken),I(),f.localStorage.candidate.isReturningUser.set({isReturningUser:!0}));e.resolve(t)})).catch((function(t){"timeout"!==t.code&&(y.setUrlPathIfUserExists(o.url()),y.loginCancelled(),XCLOUD.removeLocalSession(),XCLOUD.personalize.init(),S.authorize()),e.reject(t)})),e.promise};var N=null;function L(){N=i((function(){!function e(){console.log("resetAuth0Session called @: "+new Date),null!=(P=d.get("auth0Credentials",!1,r.rememberMe))&&void 0!==P.$$state.value&&null!==P.$$state.value&&(P=P.$$state.value,y.checkSession().then((function(t){console.log(t),console.log(y.isLoggedIn),i((function(){r.$broadcast("auth0AuthenticatedReload")}),50),i.cancel(N),N=i((function(){e()}),3e5)})).catch((function(e){C.debug(e)})))}()}),3e5)}var w=d.get("remember_me",!1);null!=w&&void 0!==w.$$state.value&&null!==w.$$state.value&&(r.rememberMe=w.$$state.value);var P=d.get("credentials",!0,r.rememberMe);if(null!=P&&void 0!==P.$$state.value&&null!==P.$$state.value){C.debug("AuthService : checking stored credenetials");var M=P.$$state.value;C.debug(angular.toJson(M)),y.setCredentials(M),e.defaults.headers.common.Authorization=b(M),void 0===M.username?y.loginCancelled("expired credentials"):y.isLoggedIn=!0,i((function(){r.$broadcast("authenticatedReload")}),50)}var R=d.get("bearerToken",!0,r.rememberMe);R.$$state.value&&(R.$$state.value.expiry-(new Date).getTime()>48e4?(y.setBearerToken(R.$$state.value),y.isLoggedIn=!0,r.$broadcast("authenticatedReload")):(y.bearerToken.token=null,y.bearerToken.expiry=null,y.isLoggedIn=!1,_XC_CONFIG.bearer_polling&&(window.clearInterval(_XC_CONFIG.bearer_polling),_XC_CONFIG.bearer_polling=null),d.remove("bearerToken")));var F=d.get("tempToken");if(F.$$state.value&&window.location.href.includes("apply/?link")&&(F.$$state.value.expiry-(new Date).getTime()>36e4?(y.setTempToken(F.$$state.value),y.isLoggedIn=!0,r.$broadcast("authenticatedReload")):E()),null!=(P=d.get("oauthcredentials",!0,r.rememberMe))&&void 0!==P.$$state.value&&null!==P.$$state.value&&(P=P.$$state.value,y.extendCurrentBearerAuthentication(P)),y.isAuth0Ready){var D=!0;if(null!=(P=d.get("auth0Credentials",!1,r.rememberMe))&&void 0!==P.$$state.value&&null!==P.$$state.value){P=P.$$state.value,D=!1,y.setAuth0Token(P.token);var U=d.get("candidate");null!=U&&(void 0!==U.$$state.value&&null!==U.$$state.value?XCLOUD.personalize.init():!y.auth0Token.token.length||D||A.includes("access_token")||(y.setUrlPathIfUserExists(o.url()),S.authorize()))}if(A.includes("access_token")){var k=function(e){for(var t={},a=e.split("&"),n=0;n<a.length;n++){var r=a[n].split("=");2===r.length&&(t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||""))}return t}("access_token"+o.url().split("access_token")[1]);if(i((function(){r.$broadcast("removeAuth0Params")}),50),k.hasOwnProperty("id_token")){var x=jwt_decode(k.id_token),G=x.hasOwnProperty("https://www.symphonytalent.com/apps")?x["https://www.symphonytalent.com/apps"]:null;"string"==typeof G&&G.length>0&&(G=(G=G.replace(/\s/g,"")).split(",")),null!==G&&(-1===jQuery.inArray("xcei",G)?(S.XCEIAuthorized=!1,d.set("XCEIAuthorized",!1)):(S.XCEIAuthorized=!0,d.remove("XCEIAuthorized"),y.setAuth0Token(k.id_token)))}}}return y.getReferralToken=function(){var e=m.defer();y.setUrlPathIfUserExists(o.url());var t=o.absUrl();if(-1===t.indexOf("/auth0_logout/")&&-1===t.indexOf("error")){var a=n("code");if(a&&0==XCLOUD.codeCounter){XCLOUD.codeCounter++;cognito.getTokenFromCode(a,(function(t){y.setAuth0Token(t.id_token),XCLOUD.authToken=t.id_token,e.resolve(t)}),(function t(){e.reject(t),C.error("Error: Cannot get data")}))}else 0==XCLOUD.codeCounter&&S.authorize(),e.resolve(null)}else e.resolve(null);return L(),e.promise},y}e.factory("authService",t),e.config(r),t.$inject=["$http","$log","$resource","$rootScope","$timeout","$location","$window","authBuffer","SessionStorage","LocalStorage","$cookies","ModelDependencyFactory","$q","ApplicationState","SignInModalService","CandidateWorkFlow","socialAuthService","auth0Service"],r.$inject=["$httpProvider"];var n=function(e){var t,a,n=window.location.search.substring(1).split("&");for(a=0;a<n.length;a++)if((t=n[a].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1]);return!1};function r(e){var t,n,r;e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache",e.interceptors.push(["$q","$location","$injector",function(e,i,o){return{request:function(e){if(n=n||o.get("ApplicationState"),e.data&&_XC_CONFIG.is_new_area_interest_config_enabled&&(null!==e.data.areaOfInterestList&&void 0!==e.data.areaOfInterestList&&"object"!==a(e.data.areaOfInterestList[0])||null!==e.data.areaInterest&&void 0!==e.data.areaInterest)){var t=[];void 0!==e.data.areaOfInterestList&&null!==e.data.areaOfInterestList&&""!==e.data.areaOfInterestList&&(t=e.data.areaOfInterestList),void 0!==e.data.areaInterest&&null!==e.data.areaInterest&&""!==e.data.areaInterest&&document.getElementById("areaInterest")&&(t=[]).push(e.data.areaInterest),e.data.areaOfInterestList=[],angular.forEach(t,(function(t){e.data.areaOfInterestList.push({usersId:null,areaOfInterest:t})})),n.inMemoryStorage.systemGeneratedAOI.areaOfInterest&&e.data.areaOfInterestList.push({usersId:null,areaOfInterest:n.inMemoryStorage.systemGeneratedAOI.areaOfInterest,isSystemGenerated:1})}return e},response:function(e){if(e.data&&_XC_CONFIG.is_new_area_interest_config_enabled&&(null!==e.data.areaOfInterestList&&void 0!==e.data.areaOfInterestList||null!==e.data.areaInterest&&void 0!==e.data.areaInterest))if(e.data.areaOfInterestList&&e.data.areaOfInterestList.length>0){for(var t=[],a=0;a<e.data.areaOfInterestList.length;a++)t.push(e.data.areaOfInterestList[a].areaOfInterest);1===t.length&&(e.data.areaInterest=t.join()),e.data.areaOfInterestList=t}else e.data.areaOfInterestList=null,e.data.areaInterest=null;return e},responseError:function(a){if(-1===a.status||401===a.status){loginStatus.loginAttempted&&(loginStatus.loginFailed=!0);t=t||o.get("authBuffer"),r=r||o.get("authService"),!["/profile/","/profile/applications/","/profile/todos/","/profile/interviews/","/profile/offers/","/profile/onboarding/","/profile/edit/","/profile/assessments/","/profile/documents/","/profile/actionpreferences/","/profile/preferences/"].includes(i.path())||"/profile/login/"===i.path()||document.getElementById("signInModal")||i.search().token||(r.resetCurrentSession({skipRedirection:!0}),t.setPath(i.path()),r.standardLogin({notification:null,reloadOnCancel:!0}));var n=e.defer();return t.append(a.config,n),i.search().token||"/profile/login/"==i.path()||document.getElementById("signInModal")?e.reject(a):n.promise}return e.reject(a)}}}])}"true"!==_XC_CONFIG.profile_login_deactivated&&!0!==_XC_CONFIG.profile_login_deactivated&&e.run(["$rootScope","$timeout","$document","authService","$location","SessionStorage","candidate","LocalStorage","ApplicationState",function(e,t,a,n,r,i,o,l,s){if(!n.isAuth0Ready){var c=function(){n.isLoggedIn&&!e.rememberMe?(e.sessionNotificationShow=!0,f=!0,t((function(){jQuery("#sessionCheckNotify").focus()})),e.Sessioncounter=60,e.onTimeout=function(){e.Sessioncounter--,0===e.Sessioncounter&&(t.cancel(e.myTimeOut),f=!1,d()),e.myTimeOut=t(e.onTimeout,1e3)},e.myTimeOut=t(e.onTimeout,1e3)):(e.sessionNotificationShow=!1,f=!1,u())},d=function(){if(n.isLoggedIn&&!f){e.initialLoad=!1,e.sessionNotificationShow=!1;var t=l.get("credentials",!0,e.rememberMe),a=n._applicationState.session.candidate.get(),i=null;if(null!=t&&void 0===t.$$state.value&&(t=l.get("oauthcredentials",!0,e.rememberMe),-1!==r.url().indexOf("/apply/")&&void 0!==t.username&&!0===e.isNewUser)){var s={};s.name=EMAIL_ACTIVATION_LINK_NAME,s.type=EMAIL_ACTIVATION_LINK_TYPE,s.client=clientName,s.username=t.username,a.locked="t",o.updateCandidate(a).$promise.then((function(e){o.emailCandidate(s).$promise.then((function(e){}))})),i=XCLOUD.i18n("Please check your Email and reset password, then you can login",TEMPLATE_CONSTANTS.FIELD_TYPES.VALIDATION)}!0===_XC_CONFIG.login_modal.disabled?(n.loginCancelled(),XCLOUD.log_out(!0),XCLOUD.personalize.init(),null!=t&&n.setUrlPathIfUserExists(r.url(),t.username,i),r.url("/profile/login/")):(n.resetCurrentSession({skipRedirection:!0}),n.standardLogin({notification:i,reloadOnCancel:!0}))}},u=function(a){f||e.rememberMe?t.cancel(m):(t.cancel(m),m=t((function(){c()}),p))},p=maxSessionStorageTime-6e4,m=t((function(){c()}),p),f=!1;e.sessionNotificationShow=!1;'<p class="mt0">Hey! You will be logged off in <span ng-model="Sessioncounter">{{Sessioncounter}}</span> Seconds due to inactivity. <a id="sessionCheckNotify" class="bold" href="#" ng-click="sessionReset($event)">Click here to continue</a></p>',"</div>",jQuery("#sessionNotificationContainer").html('<div ng-show="sessionNotificationShow" class="alert alert-info bold center"><p class="mt0">Hey! You will be logged off in <span ng-model="Sessioncounter">{{Sessioncounter}}</span> Seconds due to inactivity. <a id="sessionCheckNotify" class="bold" href="#" ng-click="sessionReset($event)">Click here to continue</a></p></div>');var g=angular.element(a);angular.forEach(["keydown","keyup","click","DOMMouseScroll","mousewheel","mousedown","touchstart","scroll","focus"],(function(e){g.bind(e,(function(e){u(e)}))}));var h=l.get("credentials",!0,e.rememberMe);null!=h&&void 0!==h.$$state.value&&null!==h.$$state.value&&(h=h.$$state.value,l.set("credentials",h,!0),n.isLoggedIn=!0),null!=(h=l.get("bearerToken",!0,e.rememberMe))&&(void 0!==h.$$state.value&&null!==h.$$state.value&&h.$$state.value.expiry-(new Date).getTime()>48e4?(h=h.$$state.value,l.set("bearerToken",h,!0),n.isLoggedIn=!0):l.remove("bearerToken"));var v=l.get("tempToken");if(v.$$state.value&&window.location.href.includes("apply/?link")&&(v.$$state.value.expiry-(new Date).getTime()>36e4?(h=v.$$state.value,l.set("tempToken",h),n.isLoggedIn=!0):l.remove("tempToken")),null!=(h=l.get("oauthcredentials",!0,e.rememberMe))&&void 0!==h.$$state.value&&null!==h.$$state.value&&(h=h.$$state.value,l.set("oauthcredentials",h,!0),e.$broadcast("authenticatedReload"),n.isLoggedIn=!0),!0!==n.isLoggedIn)s.localStorage.removeAllApplicationState(),"signin"===r.hash()&&(r.hash(""),n.standardLogin());e.sessionReset=function(a){a.preventDefault(),e.sessionNotificationShow=!1,f=!1,e.initialLoad=!1;var n=l.get("credentials",!0,e.rememberMe);null!=n&&void 0!==n.$$state.value&&null!==n.$$state.value&&(n=n.$$state.value,l.set("credentials",n,!0)),null!=(n=l.get("oauthcredentials",!0,e.rememberMe))&&void 0!==n.$$state.value&&null!==n.$$state.value&&(n=n.$$state.value,l.set("oauthcredentials",n,!0)),null!=(n=l.get("bearerToken",!0,e.rememberMe))&&void 0!==n.$$state.value&&null!==n.$$state.value&&(n=n.$$state.value,l.set("bearerToken",n,!0)),null!=(n=l.get("tempToken"))&&void 0!==n.$$state.value&&null!==n.$$state.value&&window.location.href.includes("apply/?link")&&(n=n.$$state.value,l.set("tempToken",n)),t.cancel(e.myTimeOut),u()}}}])}()},function(e,t,a){"use strict";var n=angular.module("com.hrlogix.ats.global.services",["st.utils"]);n.factory("globalService",["$rootScope","$routeParams","LocalStorage",function(e,t,a){var n={toggleDebug:function(){toggleDebug(e,t),void 0!==t.clear&&"true"===t.clear&&a.clear()},getList:function(e){return a.get(e)},setList:function(e,t){a.set(e,t)}};return n}]),n.factory("localStorageService",["localStorageHelper",function(e){var t={getStoredItem:function(t){return e.get(t)},getStoredItemViaPromise:function(t){var a=e.getViaPromise(t);return a},setStoredItem:function(t,a){e.set(t,a)},setStoredItemViaPromise:function(t,a){e.setViaPromise(t,a)}};return t}]),n.factory("LinkedList",(function(){var e=function(e){this.data=e,this.next=null};return function(){this._length=0,this.head=null,this.add=function(t){var a=new e(t),n=this.head;if(!n)return this.head=a,this._length++,a;for(;n.next;)n=n.next;return n.next=a,this._length++,a}}}))},function(e,t,a){"use strict";var n=angular.module("com.hrlogix.ats.private.services",["ngResource"]);n.factory("privateAddress",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/address/:client/id/:addressId",{client:clientName,addressId:"@addressId"},{getAddressById:{method:"GET",withCredentials:!0},getAddressesByUserId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/address/:client/user/:usersId",params:{client:clientName,usersId:"@usersId"},withCredentials:!0},addAddress:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/address/:client",params:{client:clientName},withCredentials:!0},deleteAddress:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/address/:client/:addressId",params:{client:clientName,addressId:"@addressId"},withCredentials:!0}})}]),n.factory("privateApplication",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/requisition/:requisitionId",{client:clientName,requisitionId:"@requisitionId"},{getApplicationsByRequisitionId:{method:"GET",isArray:!0,withCredentials:!0},addApplication:{method:"PUT",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client",params:{client:clientName},withCredentials:!0},combinedAddApplication:{method:"PUT",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/addApplicationAndStep?easyApplyFlag=:easyApplyFlag&callEsb=:callEsb&cwsInitiated=t&enhancedAddApplicationStepFlow=:enhancedAddApplicationStepFlow",params:{client:clientName,easyApplyFlag:"@easyApplyFlag",callEsb:"@callEsb",statusId:"@statusId",dispositionId:"@dispositionId",enhancedAddApplicationStepFlow:"@enhancedAddApplicationStepFlow"},withCredentials:!0,interceptor:{request:function(e){return void 0!==e.params.statusId&&null!=e.params.statusId||delete e.params.statusId,void 0!==e.params.dispositionId&&null!=e.params.dispositionId||delete e.params.dispositionId,e}}},combinedAddApplicationEasyApply:{method:"PUT",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/addApplicationAndStep?easyApplyFlag=t&cwsInitiated=t",params:{client:clientName},withCredentials:!0},addDynamicFormData:{method:"POST",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/dynamic/answer?applicationId=:applicationId",params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0},getApplicationsByCandidateId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/candidate/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0,transformResponse:function(e,t){if(null==t("status")&&null==e)throw new Error("Unauthorized Access (401)");var a={};try{a=e?JSON.parse(e):{}}catch(e){console.error("Error while parsing response data",e)}return a}},getApplicationExistsStatusByReqId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/application/exists/:client/candidate/requisition/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},withCredentials:!0,transformResponse:function(e){var t={};return t.reqStatus=e,t}},getApplication:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/id/:applicationId",params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0},searchApplications:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/search",params:{client:clientName},withCredentials:!0},addApplicationStatuspById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/:applicationId/status/:status",params:{client:clientName,applicationId:"@applicationId",status:"@status"},withCredentials:!0},getApplicationStatusCountsByRequisitionId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/status/counts/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},withCredentials:!0},updateOffertemplete:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/application/:client/offertemplete/update/:applicationId/:approvalChainId/:offerTemplateId",params:{client:clientName,applicationId:"@applicationId",approvalChainId:"@approvalChainId",offerTemplateId:"@offerTemplateId"},withCredentials:!0}})}]),n.factory("privateApplyFlow",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystreams",{client:clientName},{getApplyStreams:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystreams",params:{client:clientName},withCredentials:!0},getApplyStream:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},addApplyStream:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream",params:{client:clientName},withCredentials:!0},updateApplyStream:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream",params:{client:clientName},withCredentials:!0},deleteApplyStream:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},getApplyStreamCfgs:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/configs/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},getApplyStreamCfg:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/config/:applyStreamCfgId",params:{client:clientName,applyStreamCfgId:"@applyStreamCfgId"},withCredentials:!0},addApplyStreamCfg:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/config",params:{client:clientName},withCredentials:!0},deleteApplyStreamCfg:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/config/:applyStreamCfgId",params:{client:clientName,applyStreamCfgId:"@applyStreamCfgId"},withCredentials:!0},deleteApplyStreamCfgByStream:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applystream/config/stream/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},getApplyContainers:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainers/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},getApplyContainer:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/:applyContainerId",params:{client:clientName,applyContainerId:"@applyContainerId"},withCredentials:!0},addApplyContainer:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer",params:{client:clientName},withCredentials:!0},updateApplyContainer:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer",params:{client:clientName},withCredentials:!0},deleteApplyContainer:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/:applyContainerId",params:{client:clientName,applyContainerId:"@applyContainerId"},withCredentials:!0},getApplyContainerCfgs:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/configs/:applyContainerId",params:{client:clientName,applyContainerId:"@applyContainerId"},withCredentials:!0},getApplyContainerCfg:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/config/:applyContainerCfgId",params:{client:clientName,applyContainerCfgId:"@applyContainerCfgId"},withCredentials:!0},addApplyContainerCfg:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/config",params:{client:clientName},withCredentials:!0},deleteApplyContainerCfg:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/config/:applyContainerCfgId",params:{client:clientName,applyContainerCfgId:"@applyContainerCfgId"},withCredentials:!0},deleteApplyContainerCfgByStreamCfg:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycontainer/config/streamcfg/:applyStreamCfgId",params:{client:clientName,applyStreamCfgId:"@applyStreamCfgId"},withCredentials:!0},getAllApplyForms:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyforms/all",params:{client:clientName},withCredentials:!0},getApplyForms:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyforms/:applyContainerId",params:{client:clientName,applyContainerId:"@applyContainerId"},withCredentials:!0},getApplyForm:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/:applyFormId",params:{client:clientName,applyFormId:"@applyFormId"},withCredentials:!0},addApplyForm:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform",params:{client:clientName},withCredentials:!0},updateApplyForm:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform",params:{client:clientName},withCredentials:!0},deleteApplyForm:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/:applyFormId",params:{client:clientName,applyFormId:"@applyFormId"},withCredentials:!0},getApplyFormCfgs:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/configs/:applyFormId",params:{client:clientName,applyFormId:"@applyFormId"},withCredentials:!0},getApplyFormCfg:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/config/:applyFormCfgId",params:{client:clientName,applyFormCfgId:"@applyFormCfgId"},withCredentials:!0},addApplyFormCfg:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/config",params:{client:clientName},withCredentials:!0},deleteApplyFormCfg:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/config/:applyFormCfgId",params:{client:clientName,applyFormCfgId:"@applyFormCfgId"},withCredentials:!0},deleteApplyFormCfgByStream:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applyform/config/stream/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},addApplyCandidate:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycandidate",params:{client:clientName},withCredentials:!0},updateApplyCandidate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycandidate",params:{client:clientName},withCredentials:!0},getApplyCandidateRecordByCandidateId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycandidates/:candidateId",isArray:!0,params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getApplyCandidateByCandidateIdReqId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/applycandidates/:candidateId/:requisitionId",isArray:!0,params:{client:clientName,candidateId:"@candidateId",requisitionId:"@requisitionId"},withCredentials:!0},deleteApplyCandidateRecords:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/delete/:applycandidateId",params:{client:clientName,applycandidateId:"@applycandidateId"},withCredentials:!0}})}]),n.factory("privateApprovalChain",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/all",{client:clientName},{getAllApprovalChains:{method:"GET",isArray:!0,withCredentials:!0},getApprovalChain:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/id/:approvalChainId",params:{client:clientName,approvalChainId:"@approvalChainId"},withCredentials:!0},addApprovalChain:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client",params:{client:clientName},withCredentials:!0},updateApprovalChain:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client",params:{client:clientName},withCredentials:!0},deactivateApprovalChain:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/deactivate/:approvalChainId",params:{client:clientName,approvalChainId:"@approvalChainId"},withCredentials:!0},activateApprovalChain:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/activate/:approvalChainId",params:{client:clientName,approvalChainId:"@approvalChainId"},withCredentials:!0},getApprovalChainDetails:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/details/:approvalChainId",params:{client:clientName,approvalChainId:"@approvalChainId"},withCredentials:!0},getApprovalChainDetail:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/detail/id/:approvalChainDetailId",params:{client:clientName,approvalChainDetailId:"@approvalChainDetailId"},withCredentials:!0},addApprovalChainDetail:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/detail",params:{client:clientName},withCredentials:!0},updateApprovalChainDetail:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/detail",params:{client:clientName},withCredentials:!0},deleteApprovalChainDetail:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/detail/:approvalChainDetailId",params:{client:clientName,approvalChainDetailId:"@approvalChainDetailId"},withCredentials:!0},reorderApprovalChainDetails:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/approvalchain/:client/details/reorder",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateAuthMgmt",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/groups",{client:clientName},{getGroups:{method:"GET",isArray:!0,withCredentials:!0},getGroup:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/group/:groupId",params:{client:clientName,groupId:"@groupId"},withCredentials:!0},addGroup:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/group",params:{client:clientName},withCredentials:!0},updateGroup:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/group",params:{client:clientName},withCredentials:!0},getGroupRoles:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/grouproles/:groupId",params:{client:clientName,groupId:"@groupId"},isArray:!0,withCredentials:!0},getGroupings:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/groupings",isArray:!0,withCredentials:!0},getRoleGroupings:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/rolegroupings",isArray:!0,withCredentials:!0},addGroupRole:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/grouproles",params:{client:clientName},withCredentials:!0},removeGroupRole:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/grouproles/:groupRoleId",params:{client:clientName,groupRoleId:"@groupRoleId"},withCredentials:!0},getRoles:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/roles",params:{client:clientName},isArray:!0,withCredentials:!0},getUserRoles:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/userroles/:userId",params:{client:clientName,userId:"@userId"},isArray:!0,withCredentials:!0},addUserRole:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/userroles",params:{client:clientName},withCredentials:!0},removeUserRole:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/userroles/:userId/:roleId",params:{client:clientName,userId:"@userId",roleId:"@roleId"},withCredentials:!0},clearAuthenticationCache:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/authorization/management/:client/authcache/clear",withCredentials:!0}})}]),n.factory("privateBackground",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/background/:client/orders/:candidateId",{client:clientName,candidateId:"@candidateId"},{getBackgroundOrders:{method:"GET",isArray:!0,withCredentials:!0},getBackgroundPackages:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/background/:client/packages/all",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateCandidate",["$resource","ApplicationState",function(e,t){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/id/:id",{client:clientName,id:"@id"},{getCandidate:{method:"GET",withCredentials:!0},getCurrentCandidate:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/current",params:{client:clientName},withCredentials:!0,transformResponse:function(e,a){if(null==a("status")&&null==e)throw new Error("Unauthorized Access (401)");var n={};(n=JSON.parse(e))&&n.candidateCustomFieldsValueDTO&&n.candidateCustomFieldsValueDTO.customFieldsNameValuePairs&&Object.keys(n.candidateCustomFieldsValueDTO.customFieldsNameValuePairs).length>0&&Object.keys(n.candidateCustomFieldsValueDTO.customFieldsNameValuePairs).forEach((function(e){t.inMemoryStorage.candidateCustomFieldsValueDTO.push(e)}));return t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(n=t.transformCandidateCustomFieldsValueDTO(n,"fromDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),n}},getCurrentCandidateId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/current/id",params:{client:clientName},withCredentials:!0,transformResponse:function(e){var t={};return t.candidateId=parseInt(e),t}},getCandidatesFromList:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/list",params:{client:clientName},withCredentials:!0},startCreateCandidateWorkflow:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/workflow/candidate?formId=:streamId",params:{client:clientName,streamId:"@streamId"},withCredentials:!0,transformRequest:function(e,a){return t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(e=t.transformCandidateCustomFieldsValueDTO(e,"toDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),JSON.stringify(e)}},getCandidatesByRequisitionIdAndStepName:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/requisition/:requisitionId/stepname/:stepName",params:{client:clientName,requisitionId:"@requisitionId",stepName:"@stepName"},withCredentials:!0},getCandidateEducation:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/education/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getCandidateWorkHistory:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/workhistory/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getCertifications:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/certification/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getCandidateProfessionalReferences:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addProfReference:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/add",params:{client:clientName},withCredentials:!0},updateProfReference:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/update",params:{client:clientName},withCredentials:!0},deleteCandidateProfReference:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/:profReferenceId/delete",params:{client:clientName,profReferenceId:"@profReferenceId"},withCredentials:!0},getCandidateAttachments:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},createCandidateAssessment:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/:client/:candidateId/create",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},createCandidateAssessmentForRequisition:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/:client/create/:candidateId/:requisitionId",params:{client:clientName,candidateId:"@candidateId",requisitionId:"@requisitionId"},withCredentials:!0},getCandidateAssessments:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/:client/id/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getCandidateCustomAssessments:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/:client/id/:candidateId/custom",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getAssessmentScores:{method:"GET",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/:client/scores/:assessmentId",params:{client:clientName,assessmentId:"@assessmentId"},withCredentials:!0},startAssessment:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/:client/start/:assessmentId",params:{client:clientName,assessmentId:"@assessmentId"},withCredentials:!0,transformResponse:function(e){var t=[],a={};return a.url=e,t.push(a),t}},addCandidate:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client",params:{client:clientName},withCredentials:!0},updateCandidate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client",params:{client:clientName},withCredentials:!0,transformResponse:function(e,a){if(null==a("status")&&null==e)throw new Error("Unauthorized Access (401)");var n={};try{n=e?JSON.parse(e):{}}catch(e){console.error("Error parsing response data",e)}return t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(n=t.transformCandidateCustomFieldsValueDTO(n,"fromDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),n},transformRequest:function(e,a){return t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(e=t.transformCandidateCustomFieldsValueDTO(e,"toDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),JSON.stringify(e)}},updateViewModel:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/applystream/:streamId/:client",params:{client:clientName,streamId:"@streamId"},withCredentials:!0,transformResponse:function(e){var t={};return t.candidateId=parseInt(e),t},transformRequest:function(e,a){return t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(e=t.transformCandidateCustomFieldsValueDTO(e,"toDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),JSON.stringify(e)}},updateCandidateNoFormId:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client",params:{client:clientName,streamId:"@streamId"},withCredentials:!0},updateCandidatePassword:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/candidatePassword/:client",params:{client:clientName},withCredentials:!0},addWorkHistory:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/workhistory/:client",params:{client:clientName},withCredentials:!0},addWorkHistoryList:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/workhistories/:client",isArray:!0,params:{client:clientName},withCredentials:!0},updateWorkHistory:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/workhistory/:client",params:{client:clientName},withCredentials:!0},deleteWorkHistory:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/workhistory/:client/:workHistoryId",params:{client:clientName,workHistoryId:"@workHistoryId"},withCredentials:!0},deleteAllCandidateWorkHistory:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/workhistory/all/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addCertification:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/certification/:client",params:{client:clientName},withCredentials:!0},updateCertification:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/certification/:client",params:{client:clientName},withCredentials:!0},deleteCertification:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/certification/:client/:certificationId",params:{client:clientName,certificationId:"@certificationId"},withCredentials:!0},deleteAllCandidateCertification:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/certification/all/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addEducation:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/education/:client",params:{client:clientName},withCredentials:!0},addEducationList:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/educations/:client",isArray:!0,params:{client:clientName},withCredentials:!0},updateEducation:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/education/:client",params:{client:clientName},withCredentials:!0},deleteEducationHistory:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/education/:client/:educationId",params:{client:clientName,educationId:"@educationId"},withCredentials:!0},deleteAllCandidateEducation:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/education/all/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addConvictedPse:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/convictedpse",params:{client:clientName},withCredentials:!0},updateConvictedPse:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/convictedpse",params:{client:clientName},withCredentials:!0},getConvictedPse:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/convictedpse/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},deleteConvictedPseById:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/convictedpse/:convictedPseId",params:{client:clientName,convictedPseId:"@convictedPseId"},withCredentials:!0},deleteConvictedPseByCandidateId:{method:"DELETE",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/convictedpse/all/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},deleteAllConvictedPseByCandidateId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/convictedpse/candidateId/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addRelative:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/relative",params:{client:clientName},withCredentials:!0},updateRelative:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/relative",params:{client:clientName},withCredentials:!0},getRelative:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/relative/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},deleteRelativeById:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/relative/:relativeId",params:{client:clientName,convictedPseId:"@relativeId"},withCredentials:!0},deleteRelativeByCandidateId:{method:"DELETE",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/relative/all/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},searchCandidates:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/search",params:{client:clientName},withCredentials:!0},emailCandidate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/email/:candidateId/template/:communicationTemplateId",params:{client:clientName,candidateId:"@candidateId",communicationTemplateId:"@communicationTemplateId"},withCredentials:!0},emailCandidateByApplication:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/email/application/:applicationId/template/:communicationTemplateId",params:{client:clientName,applicationId:"@applicationId",communicationTemplateId:"@communicationTemplateId"},withCredentials:!0},getCandidateAttachmentById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/:client/attachment/:attachmentId",params:{client:clientName,attachmentId:"@attachmentId"},withCredentials:!0},deleteCandidateAttachmentById:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/:client/attachment/:attachmentId",params:{client:clientName,attachmentId:"@attachmentId"},withCredentials:!0},updateInterviewStatus:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/interview/:client",params:{client:clientName},withCredentials:!0},getRecommendedJob:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/ruleConf/recommendrequisitions/:client/candidateid/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},getInterviewListsByCandidateId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/interview/:client/candidate/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0,isArray:!0},getInterviewDetailsByCandidateIdInterviewId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/interviewEvent/:client/getCandidateInterviewByID/:candidateId/:interviewId",params:{client:clientName,candidateId:"@candidateId",interviewId:"@interviewId"},withCredentials:!0},sendInterviewInviteFromCandidatePortal:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/interview/:client/action/:action/externalCalendarId",params:{client:clientName,action:"@action"},withCredentials:!0,isArray:!0},acceptRejectInterview:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/interview/:client/externalCalendarId/:externalCalendarId/candidateId/:candidateId/action/:action",params:{client:clientName,externalCalendarId:"@externalCalendarId",candidateId:"@candidateId",action:"@action"},withCredentials:!0},addReference:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/add",params:{client:clientName},withCredentials:!0},updateReference:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/update",params:{client:clientName},withCredentials:!0},deleteReference:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/:profReferenceId/delete",params:{client:clientName,profReferenceId:"@profReferenceId"},withCredentials:!0},getCandidateReferences:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/profreference/:client/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addCandidateActivity:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidateactivity/:client",params:{client:clientName},withCredentials:!0},getAllCandidateActivities:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidateactivity/:client/all/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0,isArray:!0},updateCandidateActivity:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidateactivity/:client",params:{client:clientName},withCredentials:!0},addCandidateToSocialChannel:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/socialchannelconfig/:client",params:{client:clientName},withCredentials:!0},updateCandidateInSocialChannel:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/socialchannelconfig/:client",params:{client:clientName},withCredentials:!0},updateCandidateAreaOfInterestList:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/areaofinterest/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},updateEventCandidateStatus:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:candidateId/:client/event/:eventId/folderStatus",params:{candidateId:"@candidateId",client:clientName,eventId:"@eventId"},withCredentials:!0},getScreeningResult:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/screeningresults/:client/:candidateId/:applicationId",params:{client:clientName,candidateId:"@candidateId",applicationId:"@applicationId"},headers:{"Content-Type":"text/plain"},transformResponse:function(e){var t={};switch(e){case"450":t.hasQualified=!0;break;case"500":t.hasQualified=!1;break;case null:t.hasQualified=null}return[].push(t),t},isArray:!1,withCredentials:!0}})}]),n.factory("privateCandidateToken",["$resource",function(e){return{getCurrentCandidateByToken:function(t){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/id/:id",{client:clientName,id:"@id"},{query:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/current",params:{client:clientName},headers:{Authorization:"Bearer TEMP "+t},withCredentials:!0}})}}}]),n.factory("privateCandidatePwd",["$resource",function(e){return{resetPassword:function(t){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/id/:id",{client:clientName,id:"@id"},{query:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/:client/reset/",headers:{Authorization:"Bearer TEMP "+t},params:{client:clientName},withCredentials:!0}})}}}]),n.factory("privateCommunicationLog",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/communicationlog/:client/candidate/:candidateId",{client:clientName,candidateId:"@candidateId"},{getCommunicationLogByCandidateId:{method:"GET",isArray:!0,withCredentials:!0}})}]),n.factory("privateCommunicationTemplates",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/communicationtemplate/:client/id/:communicationTemplateId",{client:clientName,communicationTemplateId:"@communicationTemplateId"},{getCommunicationTemplate:{method:"GET",withCredentials:!0},addCommunicationTemplate:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/communicationtemplate/:client",params:{client:clientName},withCredentials:!0},updateCommunicationTemplate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/communicationtemplate/:client",params:{client:clientName},withCredentials:!0},getCommunicationTemplates:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/communicationtemplate/:client/active",params:{client:clientName},withCredentials:!0},getParsedOffer:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/communicationtemplate/:client/parse/offer/:offerId",params:{client:clientName,offerId:"@offerId"},withCredentials:!0}})}]),n.factory("privateConfiguration",["$resource",function(e){return e("configuration/events/actions.json",{},{getEventActionConfigurations:{method:"GET",cache:!1,isArray:!0},getEventPickList:{method:"GET",cache:!1,url:"configuration/events/event_pick_list.json"},getEventTypeLabels:{method:"GET",cache:!1,url:"configuration/events/event_step_labels.json"},getRequisitionExceptionList:{method:"GET",cache:!1,url:"configuration/events/requisition_field_exception_list.json"}})}]),n.factory("privateEvents",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/events/eventtype/all",{},{getAllEventTypes:{method:"GET",isArray:!0,withCredentials:!0},getEventStepConfiguration:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/events/eventstepconfiguration/:eventTypeId",params:{eventTypeId:"@eventTypeId"},withCredentials:!0},getEventConfigurationId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/events/eventconfiguration/:client/:eventTypeId",params:{client:clientName,eventTypeId:"@eventTypeId"},withCredentials:!0},getEventConfigurationData:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/events/eventconfiguration/data/:client/:eventConfigId",params:{client:clientName,eventConfigId:"@eventConfigId"},withCredentials:!0},addEventConfigurationData:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/events/eventconfiguration/:client/:eventTypeId",params:{client:clientName,eventTypeId:"@eventTypeId"},withCredentials:!0},updateEventConfigurationData:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/events/eventconfiguration/data/:client/:eventConfigId",params:{client:clientName,eventConfigId:"@eventConfigId"},withCredentials:!0},getNewEvents:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/events/new/:client",params:{client:clientName},withCredentials:!0},getBuiltAndCompletedEvents:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/events/built/complete/:client",params:{client:clientName},withCredentials:!0},getBuiltAndIncompleteEvents:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/events/built/incomplete/:client",params:{client:clientName},withCredentials:!0},getUnbuiltAndCompleteEvents:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/events/unbuilt/complete/:client",params:{client:clientName},withCredentials:!0},getEventActions:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/events/actions/:client/:eventId",params:{client:clientName,eventId:"@eventId"},withCredentials:!0},getEventStatistics:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/events/statistics/:client",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateHierarchy",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client/id/:id",{client:clientName,id:"@id"},{getHierarchy:{method:"GET",withCredentials:!0},addHierarchy:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client",params:{client:clientName},withCredentials:!0},updateHierarchy:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client",params:{client:clientName},withCredentials:!0},removeHierarchy:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client/:id",params:{client:clientName,id:"@id"},withCredentials:!0},getHierarchyRoot:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client/root",params:{client:clientName},withCredentials:!0},getHierarchyChildren:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client/children/:parentId",params:{client:clientName,parentId:"@parentId"},withCredentials:!0},getHierarchyTree:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/hierarchy/:client/tree",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateLists",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/all/active",{client:clientName},{getActiveListNames:{method:"GET",isArray:!0,withCredentials:!0},getManagedLists:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/managed",withCredentials:!0},getUnmanagedLists:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/unmanaged",withCredentials:!0},addManagedList:{method:"PUT",withCredentials:!0},reorderListData:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/reorder",withCredentials:!0},getAllListDataByName:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/all/:name",params:{client:clientName,name:"@name"},withCredentials:!0},addListItem:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client",withCredentials:!0},updateListItem:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client",withCredentials:!0},activateListItem:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/activate/:id",params:{client:clientName,id:"@id"},withCredentials:!0},deactivateListItem:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/list/:client/deactivate/:id",params:{client:clientName,id:"@id"},withCredentials:!0}})}]),n.factory("privateMessageBranding",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/messagebranding/:client",{client:clientName},{getAllMessageBrandings:{method:"GET",isArray:!0,withCredentials:!0},addMessageBranding:{method:"PUT",withCredentials:!0},updateMessageBranding:{method:"POST",withCredentials:!0},activateMessageBranding:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/messagebranding/:client/activate/:id",params:{client:clientName,id:"@id"},withCredentials:!0},deactivateMessageBranding:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/messagebranding/:client/deactivate/:id",params:{client:clientName,id:"@id"},withCredentials:!0},getMessageBranding:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/messagebranding/:client/id/:id",params:{client:clientName,id:"@id"},withCredentials:!0}})}]),n.factory("privateMeta",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/meta/columnnames/:client/:entityName",{client:clientName,entityName:"@entityName"},{getColumnNames:{method:"GET",isArray:!0,withCredentials:!0}})}]),n.factory("privateMetadata",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/metadata/:client/fields/:entityName",{client:clientName,entityName:"@entityName"},{getTableMetadata:{method:"GET",isArray:!0,withCredentials:!0},getCustomFieldNames:{method:"GET",isArray:!0,withCredentials:!0},addCustomFieldName:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/metadata/:client",params:{client:clientName},withCredentials:!0},updateCustomFieldName:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/metadata/:client",params:{client:clientName},withCredentials:!0},getRawColumnNames:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/metadata/:client/raw/:entity/:customOnly",params:{client:clientName,entity:"@entity",customOnly:"@customOnly"},withCredentials:!0}})}]),n.factory("privateOffer",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/id/:offerId",{client:clientName,offerId:"@offerId"},{getOffer:{method:"GET",withCredentials:!0},getOffersByApplicationIds:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/applicationids",params:{client:clientName},withCredentials:!0},addOffer:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client",params:{client:clientName},withCredentials:!0},updateOffer:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client",params:{client:clientName},withCredentials:!0},updateOfferStatusById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/:offerId/status/:status",params:{client:clientName,offerId:"@offerId",status:"@status"},withCredentials:!0},getOfferTemplate:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/template/id/:offerTemplateId",params:{client:clientName,offerTemplateId:"@offerTemplateId"},withCredentials:!0},getOfferTemplates:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/templates",params:{client:clientName},withCredentials:!0},addOfferTemplate:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/template",params:{client:clientName},withCredentials:!0},updateOfferTemplate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/template",params:{client:clientName},withCredentials:!0},activateOfferTemplate:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/template/activate/:offerTemplateId",params:{client:clientName,offerTemplateId:"@offerTemplateId"},withCredentials:!0},deactivateOfferTemplate:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/template/deactivate/:offerTemplateId",params:{client:clientName,offerTemplateId:"@offerTemplateId"},withCredentials:!0},getOfferElement:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/element/:offerElementId",params:{client:clientName,offerElementId:"@offerElementId"},withCredentials:!0},getOfferElements:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/elements/:offerTemplateId",params:{client:clientName,offerTemplateId:"@offerTemplateId"},withCredentials:!0},addOfferElement:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/element",params:{client:clientName},withCredentials:!0},updateOfferElement:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/element",params:{client:clientName},withCredentials:!0},deleteOfferElement:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/element/:offerElementId",params:{client:clientName,offerElementId:"@offerElementId"},withCredentials:!0},getOfferApprovalsForUser:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/approval/:usersId",params:{client:clientName,usersId:"@usersId"},withCredentials:!0},acceptOffer:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/approval/accept/:offerId/:usersId",params:{client:clientName,offerId:"@offerId",usersId:"@usersId"},withCredentials:!0},rejectOffer:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/approval/reject/:offerId/:usersId",params:{client:clientName,offerId:"@offerId",usersId:"@usersId"},withCredentials:!0},updateOfferApproval:{method:"POST",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/offerapproval/update",params:{client:clientName},withCredentials:!0},addOfferApproval:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/offerapproval",params:{client:clientName},withCredentials:!0},getApprovalByOfferId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/offerapproval/offerid/:offerId",params:{client:clientName,offerId:"@offerId"},isArray:!0,withCredentials:!0},getApprovalByOfferApprovalId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/offerapproval/offerapprovalid/:offerApprovalId",params:{client:clientName,offerApprovalId:"@offerApprovalId"},isArray:!1,withCredentials:!0},removeOfferApproval:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/offerapproval/delete/:offerId",params:{client:clientName,offerId:"@offerId"},withCredentials:!0},extendOffer:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/offer/:client/extend/:offerId",params:{client:clientName,offerId:"@offerId"},withCredentials:!0}})}]),n.factory("privatePage",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/page/info/:client/active",{client:clientName},{getPageInfo:{method:"GET",isArray:!0,withCredentials:!0},getPageVersion:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/page/version/:client",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateQuestions",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/groups/active",{client:clientName},{getActiveQuestionGroups:{method:"GET",isArray:!0,withCredentials:!0},getAllQuestionGroups:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/groups/all",params:{client:clientName},withCredentials:!0},addQuestionGroup:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group",params:{client:clientName},withCredentials:!0},updateQuestionGroup:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group",params:{client:clientName},withCredentials:!0},activateQuestionGroup:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group/activate/:questionGroupId",params:{client:clientName,questionGroupId:"@questionGroupId"},withCredentials:!0},deactivateQuestionGroup:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group/deactivate/:questionGroupId",params:{client:clientName,questionGroupId:"@questionGroupId"},withCredentials:!0},getQuestionGroupDetails:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group/details/:questionGroupId",params:{client:clientName,questionGroupId:"@questionGroupId"},withCredentials:!0},addQuestionGroupDetail:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group/detail/:questionGroupId/:generalQuestionsId",params:{client:clientName,questionGroupId:"@questionGroupId",generalQuestionsId:"@generalQuestionsId"},withCredentials:!0},deleteQuestionGroupDetail:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/group/detail/:questionGroupId/:generalQuestionsId",params:{client:clientName,questionGroupId:"@questionGroupId",generalQuestionsId:"@generalQuestionsId"},withCredentials:!0},getGeneralQuestions:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/questions/:questionGroupId",params:{client:clientName,questionGroupId:"@questionGroupId"},withCredentials:!0},addGeneralQuestion:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/question",params:{client:clientName},withCredentials:!0},updateGeneralQuestion:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/question",params:{client:clientName},withCredentials:!0},activateGeneralQuestion:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/question/activate/:generalQuestionsId",params:{client:clientName,generalQuestionsId:"@generalQuestionsId"},withCredentials:!0},deactivateGeneralQuestion:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/question/deactivate/:generalQuestionsId",params:{client:clientName,generalQuestionsId:"@generalQuestionsId"},withCredentials:!0},getGeneralOptions:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/options/:generalQuestionsId",params:{client:clientName,generalQuestionsId:"@generalQuestionsId"},withCredentials:!0},addGeneralOption:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/option",params:{client:clientName},withCredentials:!0},updateGeneralOption:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/option",params:{client:clientName},withCredentials:!0},activateGeneralOption:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/option/activate/:generalOptionId",params:{client:clientName,generalOptionId:"@generalOptionId"},withCredentials:!0},deactivateGeneralOption:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/general/option/deactivate/:generalOptionId",params:{client:clientName,generalOptionId:"@generalOptionId"},withCredentials:!0},getReqQuestions:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/requisition/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},withCredentials:!0},addReqQuestion:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/requisition",params:{client:clientName},withCredentials:!0},deleteReqQuestion:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/requisition/:requisitionId/:questionGroupId",params:{client:clientName,requisitionId:"@requisitionId",questionGroupId:"@questionGroupId"},withCredentials:!0},getAnswersByCandidateApplicationId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/answers/candidate/:candidateId/application/:applicationId",params:{client:clientName,candidateId:"@candidateId",applicationId:"@applicationId"},withCredentials:!0},getAnswerById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/answer/:answersId",params:{client:clientName,answersId:"@answersId"},withCredentials:!0},addAnswer:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/answer",params:{client:clientName},withCredentials:!0},updateAnswer:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/answer",params:{client:clientName},withCredentials:!0},deleteAnswer:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/questions/:client/answer/:answersId",params:{client:clientName,answersId:"@answersId"},withCredentials:!0}})}]),n.factory("privateReporting",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"reporting/rest/casandra/appcounts_all_by_year/:client",{client:clientName},{getAppCountsAllByYear:{method:"GET",isArray:!0,withCredentials:!0},getLast30DaysAppCounts:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"reporting/rest/casandra/appcounts_all_by_year_month_day/last30/:client",params:{client:clientName},withCredentials:!0},getLast24MonthsAppCounts:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"reporting/rest/casandra/appcounts_all_by_year_month/last24/:client",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateRequisition",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client",{client:clientName},{addRequisition:{method:"PUT",isArray:!1,withCredentials:!0},updateRequisition:{method:"POST",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client",params:{client:clientName},withCredentials:!0},getRequisitionsFromList:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/title/list",params:{client:clientName},withCredentials:!0},getRequisitionsByHierarchyId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/hierarchy/:parentId",params:{client:clientName,parentId:"@parentId"},withCredentials:!0},getRequisitionsByStatus:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/status/:status",params:{client:clientName,status:"@status"},isArray:!0,withCredentials:!0},getRequisitionTemplates:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/templates",params:{client:clientName},isArray:!0,withCredentials:!0},updateRequisitionHierarchyId:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/:id/hierarchy/:hierarchyId",params:{client:clientName,id:"@id",hierarchyId:"@hierarchyId"},withCredentials:!0},getRequisitionStatus:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqstatus/id/:reqStatusId",params:{client:clientName,reqStatusId:"@reqStatusId"},withCredentials:!0},getStatusesByRequisitionId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqstatus/requisition/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},isArray:!0,withCredentials:!0},addRequisitionStatus:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqstatus",params:{client:clientName},withCredentials:!0},searchRequisitions:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/search",params:{client:clientName},withCredentials:!0},addRequisitionApprover:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqapproval",params:{client:clientName},withCredentials:!0},updateRequisitionApprover:{method:"POST",isArray:!1,url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqapproval/update",params:{client:clientName},withCredentials:!0},getApproverByRequisitionId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqapproval/requisition/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},isArray:!0,withCredentials:!0},getApproverByApprovalId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqapproval/requisition/reqapprovalid/:reqApprovalId",params:{client:clientName,reqApprovalId:"@reqApprovalId"},isArray:!0,withCredentials:!0},removeApprover:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqapproval/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},withCredentials:!0},getRequisitionApprovalsForUser:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/requisition/:client/reqapproval/:usersId",params:{client:clientName,usersId:"@usersId"},isArray:!0,withCredentials:!0}})}]),n.factory("privateRequisitionRepository",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/requisitionrepository/:client/requisition/:requisitionId",{client:clientName,requisitionId:"@requisitionId"},{getRequisitionRepositoryByReqId:{method:"GET",isArray:!0,withCredentials:!0}})}]),n.factory("privateShare",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/share/site/:client",{client:clientName},{getSite:{method:"GET",withCredentials:!0},getPostalCodes:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/share/postalcode/:postalcode",params:{postalcode:"@postalcode"},withCredentials:!0}})}]),n.factory("privateStep",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/step/counts/:client/requisition/:requisitionId",{client:clientName,requisitionId:"@requisitionId"},{getStepCountsByRequisitionId:{method:"GET",isArray:!0,withCredentials:!0},getApplicationStepsById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/step/list/:client/:applicationId",isArray:!0,params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0},getApplicationStepsByIdAndStateByHoursInPast:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/step/list/:client/:applicationId/:hoursOld",isArray:!0,params:{client:clientName,applicationId:"@applicationId",hoursOld:"@hoursOld"},withCredentials:!0},getStepCountsByRequisitionIdAndAge:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/step/counts/:client/requisition/age/:requisitionId/:hoursOld",isArray:!0,params:{client:clientName,requisitionId:"@requisitionId",hoursOld:"@hoursOld"},withCredentials:!0},addApplicationStepById:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/step/:client/:applicationId/:usersId/step/:stepValue",params:{client:clientName,applicationId:"@applicationId",usersId:"@usersId",stepValue:"@stepValue"},withCredentials:!0},addApplicationStepByIdForEasyApply:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/step/:client/:applicationId/:usersId/step/:stepValue?easyApplyFlag=t",params:{client:clientName,applicationId:"@applicationId",usersId:"@usersId",stepValue:"@stepValue"},withCredentials:!0}})}]),n.factory("privateTransactionLog",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/transactionlog/:client/candidate/:candidateId/:usersId",{client:clientName,candidateId:"@candidateId",usersId:"@usersId"},{addTransactionLogByCandidateId:{method:"POST",withCredentials:!0},getEntriesByCandidateId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/transactionlog/:client/candidate/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addEntryByCandidateId:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/transactionlog/:client/candidate/:candidateId/:usersId",params:{client:clientName,candidateId:"@candidateId",usersId:"@usersId"},withCredentials:!0}})}]),n.factory("privateUser",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/id/:id",{client:clientName,id:"@id"},{getUser:{method:"GET",withCredentials:!0},getMinimalUser:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/minimal/id/:id",withCredentials:!0},addUser:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client",params:{client:clientName},withCredentials:!0},updateUser:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client",params:{client:clientName},withCredentials:!0},activateUser:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/activate/:id",params:{client:clientName,id:"@id"},withCredentials:!0},deactivateUser:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/deactivate/:id",params:{client:clientName,id:"@id"},withCredentials:!0},getCurrentUser:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/current",params:{client:clientName},withCredentials:!0},getUsersByHierarchyId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/hierarchy/:parentId",params:{client:clientName,parentId:"@parentId"},isArray:!0,withCredentials:!0},updateUserHierarchyId:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/:id/hierarchy/:hierarchyId",params:{client:clientName,id:"@id",hierarchyId:"@hierarchyId"},withCredentials:!0},updateUserPrefs:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/userprefs/:id",params:{client:clientName,id:"@id"},withCredentials:!0},getAllActiveUsersMinimal:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/all/minimal",params:{client:clientName},isArray:!0,withCredentials:!0},emailUserByCandidate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/email/:usersId/candidate/:candidateId/template/:communicationTemplateId",params:{client:clientName,usersId:"@usersId",candidateId:"@candidateId",communicationTemplateId:"@communicationTemplateId"},withCredentials:!0},emailUserByApplication:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/user/:client/email/:usersId/application/:applicationId/template/:communicationTemplateId",params:{client:clientName,usersId:"@usersId",applicationId:"@applicationId",communicationTemplateId:"@communicationTemplateId"},withCredentials:!0}})}]),n.factory("privateVendor",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client/id/:vendorId",{client:clientName,vendorId:"@vendorId"},{getVendorById:{method:"GET",withCredentials:!0},getVendors:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client/all",withCredentials:!0},addVendor:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client",params:{client:clientName},withCredentials:!0},updateVendor:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client",params:{client:clientName},withCredentials:!0},getAllVendorsUsers:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client/user/all/:usersId",params:{client:clientName,usersId:"@usersId"},withCredentials:!0},getActiveVendorsUsers:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client/user/:usersId",params:{client:clientName,usersId:"@usersId"},withCredentials:!0},addVendorUser:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client/user",params:{client:clientName},withCredentials:!0},updateVendorUser:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/vendor/:client/user",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateViewGroup",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/viewgroup/:client/all",{client:clientName},{getAllViewGroups:{method:"GET",isArray:!0,withCredentials:!0},getViewGroupById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/viewgroup/:client/id/:viewGroupId",params:{client:clientName,viewGroupId:"@viewGroupId"},withCredentials:!0}})}]),n.factory("privateFolder",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/folder/:client/candidates/include",{client:clientName},{includeCandidates:{method:"POST",isArray:!0,withCredentials:!0},addCandidateToFolder:{url:ATS_URL+ATS_INSTANCE+"/rest/private/folder/:client/move/folder/",method:"POST",params:{client:clientName},withCredentials:!0},getSlotIdByFolderId:{url:ATS_URL+ATS_INSTANCE+"/rest/private/folder/:client/exists/folder/:folderId",method:"GET",params:{client:clientName,folderId:"@folderId"},withCredentials:!0}})}]),n.factory("privateSlot",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/slot/:client/auth/folder/:folderId?status=active&h=:hashId",{client:clientName},{getSlots:{method:"GET",params:{client:clientName,folderId:"@folderId",hashId:"@hashId"},isArray:!0,withCredentials:!0},getSlotById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/private/slot/:client/slot/:slotId",params:{client:clientName,slotId:"@slotId"},withCredentials:!0},bookCandidateSlot:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/slot/:client/bookslot/slotId/:slotId/folder/:folderId?h=:hashId",params:{client:clientName,slotId:"@slotId",folderId:"@folderId",hashId:"@hashId"},withCredentials:!0},cancelSlot:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/slot/:client/cancelslot/slotId/:slotId/folder/:folderId?h=:hashId",params:{client:clientName,slotId:"@slotId",folderId:"@folderId",hashId:"@hashId"},withCredentials:!0},getCronofySlotPickerConfig:{method:"GET",url:CALENDAR_SCHEDULING_API_URL+"/cronofy/element/:client/slotPicker/folder/:folderId?hashParams=:hashId",params:{client:clientName,folderId:"@folderId",hashId:"@hashId"},withCredentials:!0},bookOpenCalendarSlot:{method:"POST",url:CALENDAR_SCHEDULING_API_URL+"/slot/:client/book/folder/:folderId",params:{client:clientName,folderId:"@folderId"},withCredentials:!0},deleteSlotCalendarEvent:{method:"DELETE",url:CALENDAR_SCHEDULING_API_URL+"/slot/:client/cancel/:slotId/folder/:folderId",params:{client:clientName,slotId:"@slotId",folderId:"@folderId"},withCredentials:!0},getSessionByFolderId:{method:"GET",url:CALENDAR_SCHEDULING_API_URL+"/session/:client/:folderId",params:{client:clientName,folderId:"@folderId"},withCredentials:!0}})}]),n.factory("privateForm",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/formCandidate/:client",{client:clientName},{addCandidateForm:{method:"POST",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateCandidateOptIn",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidateOptin/:client/candidateOptinId/:candidateOptinId/candidateId/:candidateId",{client:clientName},{isExists:{method:"GET",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},consent:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidateOptin/:client/addOptinDetails",params:{client:clientName},withCredentials:!0}})}]),n.factory("privateOnboarding",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/applyflow/:client/onboardingformsmetadata/:applicationId",{client:clientName},{getOnboardingFormJSON:{method:"GET",params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0,isArray:!0},addOnboardingData:{url:ATS_URL+ATS_INSTANCE+"/rest/private/onboarding/:client/onboardingdata/put/candidate/:applicationId",method:"PUT",params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0},addw4Data:{url:ATS_URL+ATS_INSTANCE+"/rest/private/onboarding/:client/w4formdata/add/candidate/:applicationId",method:"PUT",params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0},addEmergencyContactLists:{url:ATS_URL+ATS_INSTANCE+"/rest/private/onboarding/addOnboardingECList/:client",method:"PUT",params:{client:clientName},isArray:!0,withCredentials:!0},addDependentContactList:{url:ATS_URL+ATS_INSTANCE+"/rest/private/onboarding/addOnboardingSubDataList/:client",method:"PUT",isArray:!0,params:{client:clientName},withCredentials:!0},addi9Data:{url:ATS_URL+ATS_INSTANCE+"/rest/private/onboarding/:client/i9formdata/add/candidate/:applicationId",method:"PUT",params:{client:clientName,applicationId:"@applicationId"},withCredentials:!0}})}]),n.factory("privatecandidateSubscription",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/subscriptions",{client:clientName},{addUpdateSubscriptions:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/addsubscriptions",params:{client:clientName},withCredentials:!0},modifySubscription:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/modifysubscription",params:{client:clientName},withCredentials:!0},getSubscription:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/subscriptions/candidateId/:candidateId",params:{candidateId:"@candidateId"},withCredentials:!0}})}]),n.factory("privatecandidateSubscriptionByToken",["$resource",function(e){return{addUpdateSubscriptionsByToken:function(t){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/subscriptions",{client:clientName},{query:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/addsubscriptions",headers:{Authorization:"Bearer temp "+t},params:{client:clientName},withCredentials:!0}})},getSubscriptionByToken:function(t){return e(ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/subscriptions",{client:clientName},{query:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/candidatesubscription/:client/subscriptions/candidateId/:candidateId",headers:{Authorization:"Bearer temp "+t},params:{candidateId:"@candidateId"},withCredentials:!0}})}}}])},function(e,t,a){"use strict";var n=angular.module("com.hrlogix.ats.public.services",["ngResource"]);n.factory("applyflow",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applystreams",{client:clientName},{getApplyStreams:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applystreams",params:{client:clientName},withCredentials:!0},getApplyStreamCfgs:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applystream/configs/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},getApplyContainers:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applycontainers/:applyStreamId",params:{client:clientName,applyStreamId:"@applyStreamId"},withCredentials:!0},getApplyContainerCfgs:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applycontainer/configs/:applyStreamCfgId",params:{client:clientName,applyStreamCfgId:"@applyStreamCfgId"},withCredentials:!0},getApplyForms:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applyforms/:applyStreamCfgId",params:{client:clientName,applyStreamCfgId:"@applyStreamCfgId"},withCredentials:!0},getApplyFormCfgs:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/applyflow/:client/applyform/configs/:applyFormId",params:{client:clientName,applyFormId:"@applyFormId"},withCredentials:!0}})}]),n.factory("candidateSubscription",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/subscriptions",{client:clientName},{getList:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/subscriptions",params:{client:clientName},withCredentials:!0},modify:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/modifysubscription",params:{client:clientName},withCredentials:!0},addUpdateSubscriptions:{method:"POST",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/addsubscriptions",params:{client:clientName},withCredentials:!0},getSubscription:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/subscriptions/candidateId/:candidateId",params:{candidateId:"@candidateId"},withCredentials:!0}})}]),n.factory("candidate",["$resource","ApplicationState",function(e,t){return e(ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/id/:candidateId",{client:clientName},{nameSearchCandidates:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/esservice/:client/name",withCredentials:!0},keywordSearch:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/private/esservice/:client/keyword",withCredentials:!0},getCandidate:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/id/:candidateId",params:{client:clientName,candidateId:"@candidateId"},withCredentials:!0},addCandidate:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client",params:{client:clientName},withCredentials:!0,transformResponse:function(e,a){var n={};return n=JSON.parse(e),t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(n=t.transformCandidateCustomFieldsValueDTO(n,"fromDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),n.headers=a(),n},transformRequest:function(e,a){return t.inMemoryStorage.candidateCustomFieldsValueDTO.length>0&&(e=t.transformCandidateCustomFieldsValueDTO(e,"toDb",t.inMemoryStorage.candidateCustomFieldsValueDTO)),JSON.stringify(e)}},updateCandidate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client",params:{client:clientName},withCredentials:!0},candidateExists:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/exists?username=:username",params:{client:clientName,username:"@username"},withCredentials:!0},candidateExistsOnEmail:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/email/exists?email=:username",params:{client:clientName,username:"@username"},withCredentials:!0},getCandidateActivationByEmail:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/active/email/:username",params:{client:clientName,username:"@username"},withCredentials:!0},emailCandidate:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/email/template/:type/:name?username=:username",params:{client:clientName,type:"@type",name:"@name",username:"@username"},withCredentials:!0},addCandidateToSocialChannel:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/socialchannelconfig/:client/type/:apiKeyType",params:{client:clientName,apiKeyType:"@apiKeyType"},withCredentials:!0},updateCandidateInSocialChannel:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/socialchannelconfig/:client/type/:apiKeyType",params:{client:clientName,apiKeyType:"@apiKeyType"},withCredentials:!0},getSocialChannel:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/socialchannel/:socialChannelName",params:{client:clientName,socialChannelName:"@socialChannelName"},withCredentials:!0},gigyaNotifyRegistration:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/gigya/registration/:client/candidateid/:candidateId/social/:socialChannelId/type/:apiKeyType/:tokenRequired",params:{client:clientName,candidateId:"@candidateId",socialChannelId:"@socialChannelId",apiKeyType:"@apiKeyType",tokenRequired:"@tokenRequired"},withCredentials:!0},getSocialChannelByEmailAndSocialProvider:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/socialchannelconfig/:userEmail/:socialChannelName",params:{client:clientName,userEmail:"@userEmail",socialChannelName:"@socialChannelName"},withCredentials:!0},getCandidateByEmail:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/id/email/:emailId",params:{client:clientName,emailId:"@emailId"},withCredentials:!0},getSocialChannelByEmail:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/socialchannelconfig/:userEmail",params:{client:clientName,userEmail:"@userEmail"},withCredentials:!0},getSocialUserInfo:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/gigya/userinfo/:client/type/:apiKeyType",params:{client:clientName,apiKeyType:GIGYA_SOCIAL_SETTINGS.gigyashortcode},withCredentials:!0},getPostalCodesData:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/share/postalcodeinternational/:postalcode",params:{postalcode:"@postalcode"},isArray:!0,withCredentials:!0},getLanguages:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/languages",params:{client:clientName},withCredentials:!0},getFeatureFlag:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/share/feature/:client/:flagname",params:{client:clientName,flagname:"@flagname"},withCredentials:!0},getSubscriptionTypes:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/subscriptions/types",params:{client:clientName},withCredentials:!0},getCandidateSubscriptionByCandidateId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/subscriptions/candidateId/:candidateId",params:{client:clientName},withCredentials:!0},getCandidateIdByUname:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/id/uname/:uname",params:{client:clientName,uname:"@uname"},withCredentials:!0},modifySubscription:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidatesubscription/:client/modifysubscription",params:{client:clientName},withCredentials:!0},forgotPassword:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/:client/forgotpassword/:uname",params:{client:clientName,uname:"@uname"},withCredentials:!0},validateBashasHrlogixSsnEmail:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/bashas/validateHrlogixSsnEmail"}})}]),n.factory("jobsearch",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/jobsearch/open/:client/internal/:internal",{client:clientName,internal:"@internal"},{searchAllOpenJobs:{method:"GET",isArray:!0,withCredentials:!0},searchOpenJobs:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/jobsearch/open/:client",params:{client:clientName},isArray:!0,withCredentials:!0},getJobCountsByField:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/jobsearch/jobcount/:client/:field/internal/:internal",params:{client:clientName,field:"@field",internal:"@internal"},withCredentials:!0}})}]),n.factory("lists",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/list/:client/name/:name",{client:clientName,name:"@name"},{getActiveListByName:{method:"GET",isArray:!0,withCredentials:!0}})}]),n.factory("metadata",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/metadata/:client/name/:table",{client:clientName,table:"@table"},{getTableMetadata:{method:"GET",isArray:!0,withCredentials:!0},getCustomFieldMetaData:{url:ATS_URL+ATS_INSTANCE+"/rest/public/metadata/:client/fieldmanagement/metadata/:requisitionId",method:"GET",withCredentials:!0,params:{client:clientName,requisitionId:"@requisitionId"}},getCustomFieldMetaDataForEasyApply:{url:ATS_URL+ATS_INSTANCE+"/rest/public/metadata/:client/fieldmanagement/metadata/:requisitionId?easyApplyFlag=t",method:"GET",withCredentials:!0,params:{client:clientName,requisitionId:"@requisitionId"}},getStreamCustomFieldMetaData:{url:ATS_URL+ATS_INSTANCE+"/rest/public/metadata/:client/fieldmanagement/metadata/streamid/:streamId",method:"GET",withCredentials:!0,params:{client:clientName,streamId:"@streamId"}},getFieldsMetadataByRequistionWithCustomFlags:{url:ATS_URL+ATS_INSTANCE+"/rest/public/metadata/:client/fieldmanagement/metadata/streamid/:requisitionId",method:"POST",withCredentials:!0,params:{client:clientName,streamid:"@requisitionId"}}})}]),n.factory("questions",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/groups/active",{client:clientName},{getReqQuestions:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/requisition/:requisitionId",params:{client:clientName,requisitionId:"@requisitionId"},withCredentials:!0},getActiveQuestionGroups:{method:"GET",isArray:!0,withCredentials:!0},getAllQuestionGroups:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/groups/all",params:{client:clientName},withCredentials:!0},getQuestionGroupDetails:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/group/details/:questionGroupId",params:{client:clientName,questionGroupId:"@questionGroupId"},withCredentials:!0},getGeneralQuestions:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/general/questions/:questionGroupId",params:{client:clientName,questionGroupId:"@questionGroupId"},withCredentials:!0},getGeneralOptions:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/general/options/:generalQuestionsId",params:{client:clientName,generalQuestionsId:"@generalQuestionsId"},withCredentials:!0},getAnswersByCandidateApplicationId:{method:"GET",isArray:!0,url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/answers/candidate/:candidateId/application/:applicationId",params:{client:clientName,candidateId:"@candidateId",applicationId:"@applicationId"},withCredentials:!0},getAnswerById:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/answer/:answersId",params:{client:clientName,answersId:"@answersId"},withCredentials:!0},addAnswer:{method:"PUT",url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/answer",params:{client:clientName},withCredentials:!0},updateAnswer:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/answer",params:{client:clientName},withCredentials:!0},deleteAnswer:{method:"DELETE",url:ATS_URL+ATS_INSTANCE+"/rest/public/questions/:client/answer/:answersId",params:{client:clientName,answersId:"@answersId"},withCredentials:!0}})}]),n.factory("ApplicationErrorLog",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/openapi/application/error/:client",{client:clientName},{SetErrorLogPrivate:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/private/openapi/application/error/:client",params:{client:clientName},withCredentials:!0},setErrorLog:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/openapi/application/error/:client",params:{client:clientName},withCredentials:!0}})}]),n.factory("requisition",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/requisition/:client/id/:id",{client:clientName,id:"@id"},{getRequisition:{method:"GET",withCredentials:!0},searchRequisitions:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/requisition/:client/search",params:{client:clientName},withCredentials:!0},getRequisitionIdBySmartpostId:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/requisition/:client/smartpostid/:smartPostId",params:{client:clientName,smartPostId:"@smartPostId"},withCredentials:!0}})}]),n.factory("jobsapi",["$resource",function(e){return e(XCLOUD.apply_filter("jobsapi_url",cws_opts&&cws_opts.api?cws_opts.api+"job/":"https://jobsapi3i-internal.findly.com/api/job/"),{},{getJob:{method:"JSONP",url:XCLOUD.apply_filter("jobsapi_job_url",cws_opts.api+"job/"),params:XCLOUD.apply_filter("jobsapi_job_params",{jobId:"@jobId",_:Math.random()})},getReqs:{method:"JSONP",url:CWS.apply_filter("search_url",cws_opts.api+"job")}})}]),n.factory("publicFolder",["$resource",function(e){return e(ATS_URL+ATS_INSTANCE+"/rest/public/folder/:client/type/:type/requisition/:requisitionId",{client:clientName,type:"@type",requisitionId:"@requisitionId"},{getFolderByRequisitionAndType:{method:"GET",isArray:!0,withCredentials:!0},addCandidateToFolder:{method:"POST",url:ATS_URL+ATS_INSTANCE+"/rest/public/folder/:client/move/candidates/folders/",params:{client:clientName},withCredentials:!0},addCandidateToFolderByEmail:{method:"GET",url:ATS_URL+ATS_INSTANCE+"/rest/public/candidate/:client/addCandidate/:folderId/:email",params:{client:clientName,folderId:"@folderId",email:"@email"},withCredentials:!0}})}])},function(e,t){!function(){"use strict";angular.module("st.utils",["com.hrlogix.ats.public.services","com.hrlogix.ats.private.services","logger"])}()},function(e,t){!function(){"use strict";angular.module("st.services",["com.hrlogix.ats.public.services","com.hrlogix.ats.private.services","st.utils","st.model.dependency"])}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o){t.getInstance(MODULE_NAME_SERVICES);var l=0,s=0,c=0,d={localStorage:{get:f,application:{id:{get:function(){return f("Y9dJ0")},set:function(e){u("Y9dJ0",e)}}},candidate:{id:{get:function(){var e=f("Y9dI0");if(angular.equals({},e)||null===e)return null;return e},set:function(e){u("Y9dI0",e)}},isReturningUser:{get:function(){var e=f("Y9dN0");return void 0!==e.isReturningUser&&e.isReturningUser},set:function(e){u("Y9dN0",e)}}},keep:function(){d.storageToRestore=[];for(var e=0;e<d.localStorage.storageToKeep.length;e++){var t=d.localStorage.storageToKeep[e],a={key:t,value:f(t)};d.storageToRestore.push(a)}},requisition:{id:{get:function(){return f("Y9dK0")},set:function(e){u("Y9dK0",e)}},assessmentPositionCode:{get:function(){return f("Y9dM0")},set:function(e){u("Y9dM0",e)}}},restore:function(){for(var e=0;e<d.storageToRestore.length;e++){var t=d.storageToRestore[e];u(t.key,t.value)}},screening:{isShowComponent:{get:function(){var e=f("Y9dP0");return void 0!==e.show&&e.show},set:function(e){u("Y9dP0",e)}},result:{get:function(){return f("screeningResult")},set:function(e){u("screeningResult",e)}}},storageToKeep:["Y9dJ0","Y9dI0","Y9dK0","Y9dM0","Y9dN0","Y9dP0","screeningResult"],removeAllApplicationState:m},session:{candidate:{get:function(){return f("applyCandidate")},set:function(e){u("applyCandidate",e)},delete:function(){p("applyCandidate")},resume:{applyResumeStateContainer:{get:function(){return h("ApplyResumeStateContainer")},set:function(e){g("ApplyResumeStateContainer",e)},remove:function(){sessionStorage.removeItem("ApplyResumeStateContainer")}}},hiddenFieldGroups:{get:function(){return h("hiddenFieldGroups")},set:function(e){g("hiddenFieldGroups",e)},remove:function(){sessionStorage.removeItem("hiddenFieldGroups")}},socialLoginSession:{get:function(){return h("SocialSiteStateContainer")},set:function(e){g("SocialSiteStateContainer",e)},remove:function(){sessionStorage.removeItem("SocialSiteStateContainer")}},attachments:{get:function(){return h("attachmentContainer")},set:function(e){g("attachmentContainer",e)},remove:function(){sessionStorage.removeItem("attachmentContainer")}}},requisition:{get:function(){return h("applyReq")},set:function(e){g("applyReq",e)},addAttributes:function(e){e&&e.requisition&&(e.requisition.screenInMessage=e.screenInMessage,e.requisition.screenOutMessage=e.screenOutMessage);return e}},removeAllApplicationState:m},uiMethods:{showProgressBar:function(e,t,a){var n=a||".loading-container";e?jQuery(n).css("display","block"):void 0!==t&&!0===t||jQuery(n).css("display","none")}},inMemoryStorage:{candidate:{candidateId:null,zip:null},onboarding:{applicationId:null},educationValidation:{title:""},systemGeneratedAOI:{areaOfInterest:""},formModel:{},multiTypeAttachmentsToBeUploaded:[],multiTypeAttachmentsHasChanged:!0,candidateCustomFieldsValueDTO:[]},isSubmitInProgress:!1,getActiveStreamId:function(){return l},setActiveStreamId:function(e){l=e},getAddToJobFolderDetails:function(){if(0==s)return null;return s},setAddToJobFolderDetails:function(e){s=e},setApplyJoinRequisitionId:function(e){c=e},getApplyJoinRequisitionId:function(){if(0==c)return null;return c},resetJobFolderDetails:function(){s=0},utilityMethods:{mapATSParams:function(e,t){var a=null;if("undefined"!=typeof cws_opts){if(!cws_opts.ATS_params)return e;try{JSON.parse(cws_opts.ATS_params).CONFIG.forEach((function(n){if(t.indexOf(n.ATS_HOST_NAME)>-1){var r=n.MAPPED_PARAMS;for(var i in r)i.toLowerCase()==e.toLowerCase()&&(a=r[i]);a||(a=e)}}))}catch(t){return console.log("Error in parsing ATS Parameter mapping JSON"),e}}return a},addDefaultParams:function(e){var t=null,n=!0,r=a.search();if("undefined"!=typeof cws_opts&&cws_opts.ATS_params)try{return JSON.parse(cws_opts.ATS_params).CONFIG.forEach((function(a){if(a.DEFAULT_PARAM&&e.toLowerCase().indexOf(a.ATS_HOST_NAME.toLowerCase())>-1)if(a.alwaysSendDefault)n=!0,t=a.DEFAULT_PARAM;else{for(var i in r)for(var o in a.MAPPED_PARAMS)o.toLowerCase()!=i.toLowerCase()&&a.MAPPED_PARAMS[o].toLowerCase()!=i.toLowerCase()||(n=!1);t=a.DEFAULT_PARAM}})),n?t:null}catch(e){return console.log("error in Adding default Parameters"),null}},addSingleUrlQueryParam:function(e,t,a){return e.indexOf("?")>-1?e+"&"+t+"="+a:e+"?"+t+"="+a}},logLoginlessErrors:function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(_XC_CONFIG.application_logs.enable_loginless_flow_logs)try{v(e,t,a,n,r)}catch(e){console.error("Error Logging failed: ",e)}},logToDB:v,resumelogToDB:function(e,t,n){var r=i.get("username"),l="",s="";r&&r.$$state.value&&r.$$state.value.username&&(l=r.$$state.value.username);var c="Log Type: ".concat(e,"\n");n&&(c+="Error Details: \n".concat(JSON.stringify(n).replace(/["]/g,""),"\n"));c+="Payload: \n".concat(JSON.stringify(t).replace(/["]/g,""),"\n"),c+="Browser Used: ".concat(navigator.userAgent,"\n"),l&&(s="uname:"+l);o.setErrorLog({error_module:"ResumeFlowLog",error:c,comment:s,page_link:a.url()})},transformCandidateCustomFieldsValueDTO:function(e,t,a){if(e&&a)switch(t){case"toDb":a.forEach((function(t){e[t]&&(e.candidateCustomFieldsValueDTO||(e.candidateCustomFieldsValueDTO={customFieldsNameValuePairs:{}}),e.candidateCustomFieldsValueDTO.customFieldsNameValuePairs[t]=e[t],delete e[t])}));break;case"fromDb":e.candidateCustomFieldsValueDTO&&(a.forEach((function(t){e.candidateCustomFieldsValueDTO.customFieldsNameValuePairs[t]&&(e[t]=e.candidateCustomFieldsValueDTO.customFieldsNameValuePairs[t])})),delete e.candidateCustomFieldsValueDTO.customFieldsNameValuePairs,e.candidateCustomFieldsValueDTO=null)}return e}};return d;function u(e,t){return i.set(e,t)}function p(e){return i.remove(e)}function m(){for(var e=["Y9dJ0","Y9dI0","Y9dK0","Y9dM0","Y9dN0","Y9dP0","screeningResult","applyCandidate"],t=0;t<e.length;t++)p(e[t])}function f(e){var t=i.get(e);return null!=t&&void 0!==t.$$state.value?t.$$state.value:{}}function g(e,t){return r.set(e,t)}function h(e){return r.get(e)}function v(e,t,n,r,l){var s=i.get("bearerToken",!0),c=i.get("tempToken",!0),d=i.get("applyCandidate",!0);d=d.$$state.value?d.$$state.value:r;var u=null,p=_XC_CONFIG.org+"~ CreateCandidateFlow",m="Log Type: ".concat(e,"\n");c.$$state.value?u=c.$$state.value:s.$$state.value&&(u=s.$$state.value),"Loginless"===e&&(p="Loginless Flow",e="FailureLog",m+="API Call Details : ".concat(n,"\n"),n=""),m+=u?"Token: \n".concat(JSON.stringify(u).replace(/["]/g,""),"\n"):"",m+="FailureLog"===e&&l?"Error Details: \n".concat(JSON.stringify(l).replace(/["]/g,""),"\n"):"Operation Successful\n",m+="Payload: \n".concat(JSON.stringify(t).replace(/["]/g,""),"\n"),m+="Browser Used: ".concat(navigator.userAgent,"\n");var f="fn: ".concat(n," ").concat(e);d&&d.uname&&(f+="\nuname: ".concat(JSON.stringify(d.uname))),o.setErrorLog({error_module:p,error:m,comment:f,page_link:a.url()})}}angular.module("st.services").factory("ApplicationState",e),e.$inject=["$q","$log","$location","$window","SessionStorage","LocalStorage","ApplicationErrorLog"]}()},function(e,t){!function(){"use strict";function e(e,t){t.getInstance(MODULE_NAME_SERVICES);return{UL_FOR:function(e,t){var a;a="<h5>"+e+'</h5><br><ul class="messageList">';for(var n=0;n<t.length;n++)a+='<li class="messageListItem"> '+t[n]+"</li>";return a+="</ul>"},SCRIPT_FOR:function(e,t){var a=angular.element(e);void 0!==a&&a.length&&a.length>0&&angular.forEach(t,(function(e){var t=document.createElement("script");t.type=e.type,t.src=e.src,a.append(t)}))}}}angular.module("st.services").factory("HTMLHelper",e),e.$inject=["$q","$log"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i){var o,l,s,c,d,u,p=t.getInstance(MODULE_NAME_SERVICES),m=null,f=null,g="";return _XC_CONFIG.lang&&"en"!=_XC_CONFIG.lang&&(g="/"+_XC_CONFIG.lang),{login:function(t,r,i,g,v,C,y,A){var T=-1;o=t,l=A,s=v,c=C,d=y||S,u=r;var _=e.defer();try{var E={};o.utility.setProfileDefaultsToStorage(),function(t,n){p.debug("fetchSocialChannelByEmailAndProvider");var r=e.defer();m=void 0;var i={};return i.userEmail=t,i.socialChannelName=n,a.getSocialChannelByEmailAndSocialProvider(i).$promise.then((function(e){return m=normalizeObjects(e),r.resolve(e),r.$promise}),(function(e){return m=void 0,r.resolve(m),r.$promise}))}(i.email,i.provider).then((function(){i.isUserRegistered=void 0!==m,E=angular.copy(m),null===i.bearerAccessToken||void 0===i.bearerAccessToken||!1===i.isUserRegistered?function(t){p.debug("fetchCandidateByEmail");var n=e.defer(),r={};return r.emailId=t,a.getCandidateByEmail(r).$promise.then((function(e){f=normalizeObjects(e),n.resolve(f)}),(function(e){f=void 0,n.reject(f)}))}(i.email).then((function(){var t=void 0;f&&(t=f.candidateId),null!=t?(T=t,function(){var t=e.defer();if(p.debug("getSocialChannel"),!0===o.isSocialUserRegistration){var n=o.getProfile(),r={};return r.socialChannelName=n.provider,a.getSocialChannel(r).$promise.then((function(e){try{p.debug("success:getSocialChannel"),m=normalizeObjects(e),t.resolve(0)}catch(e){p.error(e),t.reject(e)}}),(function(e){p.error(e),t.reject(e)}))}t.resolve(0);return t.promise}().then((function(){(function(t,n){var r=e.defer();if(p.debug("processCandidateSocialChannel"),o.isGigyaRegistrationSucceeded=!0,!0===o.isSocialUserRegistration){var i=o.getProfile(),l=function(e,t,a){var n={};return n.socialChannelId=e,n.candidateId=t,n.email=a.email,n.providerUid=a.uid,n.created=new Date,n.updated=new Date,n}(m.socialChannelId,n,i);return null==t||null===t.socialchannelConfigId||void 0===t.socialchannelConfigId?a.addCandidateToSocialChannel({apiKeyType:GIGYA_SOCIAL_SETTINGS.gigyashortcode},l).$promise.then((function(e){r.resolve(0)}),(function(e){o.isGigyaRegistrationSucceeded=!1,o.showNotificationToggle(!0,o.notificationEngine.registrationFail),p.error(e),r.reject(e)})):(l.socialchannelConfigId=t.socialchannelConfigId,a.updateCandidateInSocialChannel({apiKeyType:GIGYA_SOCIAL_SETTINGS.gigyashortcode},l).$promise.then((function(e){r.resolve(0)}),(function(e){o.isGigyaRegistrationSucceeded=!1,o.showNotificationToggle(!0,o.notificationEngine.registrationFail),p.error(e),r.reject(e)})))}r.resolve(0);return r.promise})(E,T).then((function(){o.isGigyaRegistrationSucceeded?(o.utility.clearMergeProfileCache(!0),null==E?(g.action="merge",g.path="/profile/edit/",o.utility.setRedirectDirectionToStorage(g),n.set(o.KeysConfiguration.localStorageSocialMergedProfile,i)):(g.action="dashboard",g.path="/profile/",o.utility.setRedirectDirectionToStorage(g)),_.resolve(0),null===i.bearerAccessToken||void 0===i.bearerAccessToken?(o.setRegistrationCaller(""),o.showNotificationToggle(!0,o.notificationEngine.mergeIntermediateMessage())):h(i,g)):(o.setRegistrationCaller(""),_.reject(0)),d(!1)})).catch((function(e){p.error(e),d(!1)}))})).catch((function(e){p.error(e),d(!1)}))):(d(!1),o.setRegistrationCaller(""),_.reject(0),o.showNotificationToggle(!0,o.notificationEngine.registrationFail))})).catch((function(e){p.error(e),d(!1)})):(h(i,g),_.resolve(0))})).catch((function(e){p.error(e),d(!1),o.showNotificationToggle(!0,o.notificationEngine.generalException)}))}catch(e){p.error(e),d(!1),o.showNotificationToggle(!0,o.notificationEngine.generalException)}}};function h(e,t){var a=o.utility.getRedirectDirectionFromStorage();if(!0===a.isSuccess)switch(a.action){case"merge":t=angular.merge(t,a)}o.utility.setRedirectDirectionToStorage(t),u&&u(e.email,e.bearerAccessToken,v)}function v(){r.localStorage.candidate.isReturningUser.set({isReturningUser:!0}),o.disConnectSocialConnection();var e=o.utility.getRedirectDirectionFromStorage();if(l&&angular.isFunction(l))!0===e.isSuccess&&o.utility.removeRedirectDirectionInStorage(),l();else if(!0===e.isSuccess)switch(e.action){case"merge":s.url(e.path);break;case"apply":o.utility.removeRedirectDirectionInStorage(),c.location.reload();break;case"microsite":n.remove("socialProfileRedirect"),$(".landing-page-content").hide(),$(".landing-page-thank-you").show(),triggerScroll("landing-page-thank-you","."),$timeout((function(){setFocus("landing-page-thank-you",!1,".")}),500),e.path&&(c.location.href=g+e.path);break;default:o.utility.removeRedirectDirectionInStorage(),s.url(e.path)}else s.path("/profile/")}function S(){}}angular.module("st.services").factory("socialAuthService",e),e.$inject=["$q","$log","candidate","LocalStorage","ApplicationState","privateCandidate"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r){t.getInstance(MODULE_NAME_SERVICES);_XC_CONFIG.lang&&"en"!==_XC_CONFIG.lang&&_XC_CONFIG.lang;var i=n.$$protocol+"://"+n.$$host+"/auth0_authentication",o=r.get("XCEIAuthorized").$$state.value;o=void 0===o||o;var l={checkSession:function(){var t=e.defer();return l.webAuth.checkSession({},(function(e,a){angular.equals({},e)||null===e?t.resolve(a):"login_required"!==e.error&&"invalid_token"!==e.error&&"timeout"!==e.error||t.reject(e)})),t.promise},authorize:function(){var e=window.location.search;1==new URLSearchParams(e).has("wle")&&(_XC_CONFIG.auth0.connection="");l.webAuth.authorize({connection:_XC_CONFIG.auth0.connection})},clientDetails:{domain:_XC_CONFIG.auth0.domain,clientId:_XC_CONFIG.auth0.clientID},XCEIAuthorized:o,webAuth:!0===_XC_CONFIG.auth0.sso_enable&&cognito.webAuth({domain:_XC_CONFIG.auth0.domain,redirectUri:i,clientID:_XC_CONFIG.auth0.clientID,responseType:"token id_token"})||{},isAuth0Ready:function(){if((_XC_CONFIG.auth0.sso_enable||XCLOUD.apply_filter("sso_enabled",!1))&&!XCLOUD.in_iframe()&&null!==l.clientDetails.domain&&null!==l.clientDetails.clientId&&""!==l.clientDetails.domain&&""!==l.clientDetails.clientId)return!0;return!1}};return l}angular.module("st.services").factory("auth0Service",e),e.$inject=["$q","$log","$http","$location","LocalStorage"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r){var i=t.getInstance("MODULE_NAME_SERVICES_CHECKIN");return{getCandidateAndUpdateForm:function(e){var t=n.defer(),o=a.search().token;if(angular.element(document.querySelector(".event_details.sfx_event_checkin_form")).length>0&&void 0!==o){var l=function(e){try{var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(atob(t))}catch(e){return console.error("Error decoding token:",e),null}}(o);r((function(){try{!function(e,t,a){if(!a)return void t.resolve("ngForm not available");if(a.uname){a.uname.$setViewValue(e.email),a.uname.$render();var n=document.querySelector('input[name="uname"]');n.classList.add("schema-form-control-disabled"),n.setAttribute("disabled","disabled"),a.uname.$validate()}a.firstName&&(a.firstName.$setViewValue(e.given_name),a.firstName.$render(),a.firstName.$validate());a.lastName&&(a.lastName.$setViewValue(e.family_name),a.lastName.$render(),a.lastName.$validate());t.resolve(e)}(l,t,e)}catch(e){!function(e,t){i.error("Error:",e),t.reject(e)}(e,t)}}),500)}else t.resolve("Not in the expected page");return t.promise}}}angular.module("st.services").factory("CheckinService",e),e.$inject=["$http","$log","$location","$q","$timeout"]}()},function(e,t){!function(){"use strict";function e(e,t){t.getInstance(MODULE_NAME_SERVICES);return{setActivationLink:function(e){if(_XC_CONFIG&&_XC_CONFIG.communicationTplConfig)switch(e){case E_WORK_FLOW.JOIN_LCP:EMAIL_ACTIVATION_LINK_NAME=_XC_CONFIG.communicationTplConfig[_XC_CONFIG.communicationTplConfig.join_lcp];break;case E_WORK_FLOW.APPLY_LCP:EMAIL_ACTIVATION_LINK_NAME=_XC_CONFIG.communicationTplConfig[_XC_CONFIG.communicationTplConfig.apply_lcp];break;case E_WORK_FLOW.ALERT_LCP:EMAIL_ACTIVATION_LINK_NAME=_XC_CONFIG.communicationTplConfig[_XC_CONFIG.communicationTplConfig.alert_lcp];break;case E_WORK_FLOW.MICROSITE_LCP:EMAIL_ACTIVATION_LINK_NAME=_XC_CONFIG.communicationTplConfig[_XC_CONFIG.communicationTplConfig.microsite_lcp];break;case E_WORK_FLOW.APPLY:EMAIL_ACTIVATION_LINK_NAME=_XC_CONFIG.communicationTplConfig.apply_tpl_name}},setResetPasswordLink:function(){_XC_CONFIG&&_XC_CONFIG.communicationTplConfig&&(EMAIL_PASSWORD_RESET_NAME=_XC_CONFIG.communicationTplConfig.pass_reset_tpl_name)}}}angular.module("st.services").factory("communicationTemplateService",e),e.$inject=["$q","$log"]}()},function(e,t){function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}!function(){"use strict";function e(e,t,r,i,o,l,s,c,d,u,p,m){var f=t.getInstance(MODULE_NAME_SERVICES),g=this,h=null;return g.obtainLockState=function(e){return v(e,null)},g.releaseLockState=function(e){return v(e,"t")},g.getCurrentCandidate=function(){var t=e.defer();return l.getCurrentCandidate().$promise.then((function(e){t.resolve(normalizeObjects(e))}),(function(e){o.logLoginlessErrors("Loginless",{},"Current Call - Candidate WorkFlow",null,e),f.error(e)})),t.promise},g.getFeatureFlagFromShareDb=function(t){var a=e.defer(),n={flagname:t};return i.getFeatureFlag(n).$promise.then((function(e){a.resolve(e[t])}),(function(e){deferred.resolve(!1)})),a.promise},g.processSubscriptionsPayload=N,g.emailValidation=function(e){if(e){if(1!==e.split("@").length-1)return!1;var t=e.split("@"),a=t[0],n=t[1],r=n.split(".");if(a.split("'").length-1>1)return!1;if(0==a.indexOf(".")||a.indexOf(".",a.length-1)==a.length-1)return!1;if(1==a.length&&(0==a.indexOf("+")||0==a.indexOf("-")||0==a.indexOf("_")||0==a.indexOf("'")))return!1;if(0==n.indexOf(".")||0==n.indexOf("-"))return!1;for(var i=0;i<r.length;i++){if(0==r[i].indexOf("-")||r[i].indexOf("-")==r[i].length-1)return!1;if(0==r[i].length)return!1}return!0}return!0},g.profile={deactivate:function(){var t=e.defer();try{var a=o.session.candidate.get();if(a&&!angular.equals({},a)){var n={candidateId:a.candidateId},r=ATS_URL+ATS_INSTANCE+"/rest/private/candidate/"+clientName+"/delete";u({url:r,method:"DELETE",withCredentials:!0,headers:{"Content-Type":"application/json"},data:n}).then((function(e){t.resolve(e.data)}),(function(){t.reject(reason)}))}}catch(e){f.error(e),t.reject(e)}return t.promise},termsAndConditions:{optIN:function(t){var a=e.defer();t=I(t);var n=new Date,r={candidateId:t,consentDate:n.getTime()};return d.consent(r).$promise.then((function(e){a.resolve(normalizeObjects(e))}),(function(e){a.reject(e)})),a.promise},hasOptIn:function(t){var a=e.defer(),n={candidateId:t=I(t),candidateOptinId:0};return d.isExists(n).$promise.then((function(e){normalizeObjects(e);a.resolve(!0)}),(function(e){a.resolve(!1)})),a.promise}}},g.current={set:A,get:function(){return h},getFromPath:E,getFromRouteParams:function(e){switch(e){case E_WORK_FLOW.APPLY:return r.requisitionId||r.link?E_WORK_FLOW.APPLY:E_WORK_FLOW.NONE;default:return e}},setFromURLPath:function(e,t){var a=E(e,t);switch(A(a),a){case E_WORK_FLOW.ALERT_LCP:T("/profile/job-alert/"+t+"/");break;case E_WORK_FLOW.JOIN_LCP:T("/profile/join/");break;case E_WORK_FLOW.APPLY:T("/apply/"+t+"/");break;case E_WORK_FLOW.APPLY_LCP:!function(e){g.URLVariables={path:{default:e}}}("/apply/join/"+t+"/")}},URLVariable:function(){return g.URLVariables}},g.preferences={communications:{subscriptions:{marketing:{subscribe:function(e){return S(e,E_COMMUNICATION_TYPE.MARKETING,EBOOLEAN_TYPE.TRUE)},unSubscribe:function(e){return S(e,E_COMMUNICATION_TYPE.MARKETING,EBOOLEAN_TYPE.FALSE)}},sms:{subscribe:function(e){return S(e,E_COMMUNICATION_TYPE.SMS,EBOOLEAN_TYPE.TRUE)},unSubscribe:function(e){return S(e,E_COMMUNICATION_TYPE.SMS,EBOOLEAN_TYPE.FALSE)}},addUpdateSubscriptions:function(t){var a=e.defer(),n={usersId:0,candidateId:t.candidateId,subscriptions:[]},r=N(t).subscriptions;return n.subscriptions=r,p.addUpdateSubscriptions(n).$promise.then((function(e){C(e=normalizeObjects(e)),a.resolve(e)}),(function(e){a.reject(e)})),a.promise},getList:function(){var t=e.defer();return s.getList().$promise.then((function(e){g.preferences.communications.subscriptions.list=normalizeObjects(e),t.resolve(g.preferences.communications.subscriptions.list)}),(function(e){f.error(e),t.reject(e)})),t.promise},getSubscriptionStatus:function(t,a){var n=e.defer();return p.getSubscription({candidateId:a}).$promise.then((function(e){var t=normalizeObjects(e);n.resolve(t)}),(function(e){f.error(e),n.reject(e)})),n.promise},isSubscribed:function(e,t){var a=y(e,t);return void 0===a||a.subscription===EBOOLEAN_TYPE.TRUE}}}},g.isReturningUser=function(){return o.localStorage.candidate.isReturningUser.get()},g.setCandidate=function(e){e&&(o.session.candidate.set(e),o.localStorage.candidate.id.set(e.candidateId))},g.zeoCode=function(t,a){var n=e.defer();try{var r={hasSuccess:!0,reason:"success"},l={},s=o.inMemoryStorage.formModel;if(null!=t.zip||null!=t.zip){var c=o.inMemoryStorage.candidate.zip;l.postalcode=t.zip,c!==t.zip?i.getPostalCodesData(l).$promise.then((function(e){var r=e,i=!1,l=null;if(r&&r.length>0){var c=[];s.countryIso?c=b(r,t.countryIso):s.country?c=b(r,t.country):(i=!0,l=O(r)),c.length>0&&(i=!0,l=c[0])}i&&l&&((1==a&&null==s.country||null==s.country)&&(t.country=l.countryName),(1==a&&null==s.state||null==s.state)&&(t.state=l.provinceName),(1==a&&null==s.city||null==s.city)&&(t.city=l.CityName),(1==a&&null==s.latitude||null==s.latitude)&&(t.latitude=l.latitude),(1==a&&null==s.longitude||null==s.longitude)&&(t.longitude=l.longitude)),o.inMemoryStorage.candidate.zip=t.zip,n.resolve(0)}),(function(e){r.hasSuccess=!1,r.reason=e,n.resolve(0)})):n.resolve(0)}else n.resolve(0)}catch(e){n.resolve(0)}return n.promise},g.checkIsCountryUS=O,g.checkCountryIso=b,g.copyObject=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},g.populateListForConditionalFields=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=n(e);t&&t.length>0&&(o=o.filter((function(e){return t.includes(e.listId)})));if(i&&i.length>0){var l=a(i,2),s=l[0],c=l[1],d=e.filter((function(e){return e.listId>=s&&e.listId<=c}));o=0===t.length?d:[].concat(n(o),n(d.filter((function(e){return!o.some((function(t){return t.listId===e.listId}))}))))}r&&r.length>0&&(o=o.filter((function(e){return!r.includes(e.listId)})));return o},g;function v(t,a){var n;if(!1!==o.localStorage.candidate.isReturningUser.get())return(n=e.defer()).resolve(0),n.promise;if(null==t||void 0===t.retainSession){var r=e.defer();return r.reject("no work flow step identified"),r.promise}return(n=e.defer()).resolve(0),n.promise}function S(t,a,n){var r=e.defer(),i={communicationType:a,subscription:n,userName:t};return s.modify(i).$promise.then((function(e){e=normalizeObjects(e);var n=y(t,a);void 0===n?C(e):n.subscription=e.subscription,r.resolve(e)}),(function(e){r.reject(e)}))}function C(e){g.preferences.communications.subscriptions.list=g.preferences.communications.subscriptions.list||[],g.preferences.communications.subscriptions.list.push(e)}function y(e,t){return _.findWhere(g.preferences.communications.subscriptions.list,{userName:e,communicationType:t})}function A(e){h=e,c.setActivationLink(h)}function T(e){g.URLVariables={path:{default:e}}}function E(e,t,a){return e?e.indexOf("/profile/join/")>-1&&void 0===t?E_WORK_FLOW.JOIN_LCP:e.indexOf("/profile/join/")>-1&&void 0!==t||e.indexOf("/apply/join/")>-1&&void 0!==t?E_WORK_FLOW.APPLY_LCP:e.indexOf("/profile/job-alert/")>-1?E_WORK_FLOW.ALERT_LCP:e.indexOf("/apply/")>-1?E_WORK_FLOW.APPLY:e.indexOf("/campaign/")>-1?window.location.href.indexOf("action=event-registration")>-1?E_WORK_FLOW.EVENT_LCP:E_WORK_FLOW.MICROSITE_LCP:a?E_WORK_FLOW.APPLY_LCP:E_WORK_FLOW.NONE:E_WORK_FLOW.NONE}function I(e){if((e=e||o.localStorage.candidate.id.get())&&!angular.equals({},e))try{return e=parseInt(e)}catch(e){return t.error("parse Int error on candidate id",e),null}return null}function b(e,t){return e.filter((function(e){return e.country.trim().toUpperCase()==t.trim().toUpperCase()||e.countryName.trim().toUpperCase()==t.trim().toUpperCase()}))}function O(e){var t;return(t=e.filter((function(e){return"US"===e.country.toUpperCase()})))[0]?t[0]:e[0]}function N(e){var t=[],a=e.subscription_jobalert_email,n=e.subscription_marketing_email,r=e.subscription_marketing_sms;return void 0!==a&&(t.push({communicationType:"job_alert",channel:"email",subscription:a}),void 0===n&&t.push({communicationType:"marketing",channel:"email",subscription:a})),void 0!==n&&(t.push({communicationType:"marketing",channel:"email",subscription:n}),void 0===a&&t.push({communicationType:"job_alert",channel:"email",subscription:n})),void 0!==r&&t.push({communicationType:"marketing",channel:"sms",subscription:r}),{subscriptions:t=t.reduce((function(e,t){return-1===e.findIndex((function(e){return e.communicationType===t.communicationType&&e.channel===t.channel}))&&e.push(t),e}),[])}}}angular.module("com.hrlogix.ats.global.services").factory("CandidateWorkFlow",e),e.$inject=["$q","$log","$routeParams","candidate","ApplicationState","privateCandidate","candidateSubscription","communicationTemplateService","privateCandidateOptIn","$http","privatecandidateSubscription","$rootScope"]}()},function(e,t){!function(){"use strict";angular.module("st.candidate.activity",["com.hrlogix.ats.global.services","com.hrlogix.ats.public.services","ngCookies","ui.bootstrap","ngSanitize","schemaForm","pascalprecht.translate","schemaForm-uiselect","st.utils","st.services","ui.select","st.shared.filter","analytics.omni.tagging"])}()},function(e,t){!function(){"use strict";angular.module("st.shared.widget",["com.hrlogix.ats.global.services","com.hrlogix.ats.public.services","st.utils","st.services","ngCookies","schemaForm","ui.select","ngSanitize","logger"])}()},function(e,t){!function(){"use strict";angular.module("st.model.dependency",["com.hrlogix.ats.public.services","com.hrlogix.ats.private.services","logger"])}()},function(e,t,a){"use strict";angular.module("com.hrlogix.ats.thirdparty.services",["ngResource"]).directive("fileModel",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,a,n,r){var i=e(n.fileModel).assign;n.fileModel;a.bind("change",(function(){t.$apply((function(){r.$setViewValue(a.val()),r.$render(),i(t.$parent,a[0].files[0]),i(t,a[0].files[0])}))}))}}}]).directive("fileModelApply",["$parse",function(e){return{restrict:"A",link:function(t,a,n){var r=e(n.fileModelApply).assign;a.bind("change",(function(){t.$apply((function(){r(t,a[0].files[0])}))}))}}}]).directive("customOnChange",(function(){return{restrict:"A",link:function(e,t,a){var n=e.$eval(a.customOnChange);t.bind("change",n)}}})).directive("maxlen",(function(){return{restrict:"A",link:function(e,t,a){angular.element(t[0].querySelector(".ui-select-search")).attr("maxlength",a.maxlen)}}})).directive("googleLocationProvider",(function(){return{restrict:"A",link:function(e,t,a,n){var r={types:["(cities)"],multipleSelectionOn:a.multipleSelectionOn,selectionOnNgModel:a.selectionOnNgModel,autocompleteFromId:t[0].id},i=jQuery("#"+t[0].id+" .ui-select-search"),o=new google.maps.places.Autocomplete(i[0],r);google.maps.event.addListener(o,"place_changed",(function(){var t,a,n,r=o.getPlace();if(void 0!==r.address_components){for(var l=0;l<r.address_components.length;l++){var s=r.address_components[l];switch(s.types[0]){case"locality":t=s.long_name;break;case"administrative_area_level_1":a=s.short_name;break;case"country":n=s.short_name}}var c=t;if(void 0===c?(c="",c+=void 0!==a?a:n):c+=void 0!==a?","+a:","+n,void 0!==o.multipleSelectionOn){var d=o.selectionOnNgModel.split(".");if(d.length>0){var u=e[d[0]];void 0===u&&(u=1===d.length?[]:{});for(var p=1;p<=d.length-1;p++)if(void 0===(u=u[d[p]])){if(!(p<=d.length-1))break;u={}}}void 0===u&&(u=[]),u.indexOf(c)<0&&u.push(c),i[0].value="",e.$apply(),i.focus()}}}))}}})).service("bgResumeParser",["$http",function(e){this.parseResume=function(t,a,n,r,i,o){var l=new FormData;l.append(n,t),e.post(a,l,{transformRequest:angular.identity,headers:{"Content-Type":void 0,Accept:"application/xml"}}).then((function(e){null!=r&&r(e.data,o),jQuery(".loading-container").css("display","none")}),(function(e){null!=i&&i(e,o),jQuery(".loading-container").css("display","none")}))}}]).service("bgResumeUpload",["$http","$q",function(e,t){this.parseResume=function(a,n,r,i,o,l,s,c){var d=t.defer(),u=new FormData;return u.append(r,a,o.name),u.append(i,JSON.stringify(o)),e.post(n,u,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then((function(e){d.resolve(e.data),null!=l&&l(e.data,c)}),(function(e){d.reject(e),null!=s&&s(e,c)})),d.promise}}])},function(e,t){!function(){function e(e,t,a,n){t.getInstance(MODULE_NAME_SERVICES);var r,i={E_REASON:{CANCEL:"cancel",ESCAPE:"escape key press"},open:function(e,n,i,s,c){e.style=e.style||{};var d=this;d.modalConfiguration=e,d.callback=s,d.dismissCallback=c;var u={ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,templateUrl:n,controller:i,backdrop:"static",backdropClass:"modal-popup-custom-backdrop",windowClass:e.style.windowClass,size:e.style.size,resolve:{metaDataProvider:function(){var e=d.modalConfiguration;return angular.isArray(e)||(e.progressVisibility=l,e.closeModal=o),d.modalConfiguration}}};void 0!==e.scope&&(u.scope=e.scope);(r=a.open(u)).result.then((function(e){d.response=e,void 0!==d.callback&&d.callback(e)}),(function(e,a){void 0!==d.dismissCallback&&(t.info("Modal dismissed at: "+new Date),d.dismissCallback(e))}))},close:o,progressVisibility:l,registerDismissCallBack:function(e){void 0!==e&&(i.dismissCallback=e)},hideShowPassword:function(e,t){var a=angular.element(document.getElementById(e)),n=angular.element(document.getElementById(t));"password"===a[0].type?(a[0].type="text",n.addClass("glyphicon-eye-close")):(a[0].type="password",n.removeClass("glyphicon-eye-close"))}};return i;function o(){r&&r.close()}function l(e){var t=".loading-container-instance";e?(jQuery(t).css("display","block"),t="#modal-Loader",jQuery(t).css("display","block")):(jQuery(t).css("display","none"),t="#modal-Loader",jQuery(t).css("display","none"))}}angular.module("st.services").factory("schemaModalService",e),e.$inject=["$q","$log","$uibModal","$controller"]}()},function(e,t){!function(){"use strict";function e(e,t,a){var n=t.getInstance(MODULE_NAME_SERVICES),r={submit:function(e,t,a,n){try{e().then((function(e){r.skippedFormGroup=[],r.metaData=e,r.semaphoreCollection=t,r.successCallBack=a,r.errorCallback=n,e.formGroups.length>0&&i(0)}))}catch(e){console.log(e.message)}}};return r;function i(e){for(var t=r.metaData.formGroups[e],n=0;n<t.form.fieldGroups.length;n++){var i=t.form.fieldGroups[n];i.parentId=t.form.id,i.headIndex=e}a.schemaInterpolation.consumerEmitReceiver=o,a.schemaInterpolation.performMetaDataInterpolation(t.form.fieldGroups,r.semaphoreCollection,l,s,{doNotParse:!0})}function o(e,t){a.angularSchemaObserver.registerNgModel(t)}function l(e){try{var t=e[0].headIndex;n.debug("commit form"+t),r.metaData.formGroups[t].form.fieldGroups=e,r.metaData.formGroups[t].form.isInterpolationCompleted=!0,function(e){try{e===r.metaData.formGroups.length?r.successCallBack(r.metaData):i(e)}catch(e){r.errorCallback(e)}}(t+1)}catch(e){r.errorCallback(e)}}function s(e){r.errorCallback(e)}}angular.module("st.services").factory("schemaFormGroupInterpolation",e),e.$inject=["$q","$log","ModelDependencyFactory"]}()},function(e,t){!function(){"use strict";function e(e,t,a){t.getInstance(MODULE_NAME_SERVICES);return{modal:{bootstrap:{show:function(e,t,n){var r={vm:{alertClass:e,message:t},style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE},reloadOnClose:n};a.open(r,"/wp-content/plugins/xcloud/app/shared/components/notification-modal/notification-modal.html","notificationModalController")}}}}}angular.module("st.services").factory("NotificationEngine",e),e.$inject=["$q","$log","schemaModalService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r){e.vm={modalPopup:{close:function(){a.reloadOnClose&&(n.clear(),r.clear(),location.reload());a.closeModal()}}},a.vm&&(e.vm=angular.extend(e.vm,a.vm))}angular.module("st.candidate.activity").controller("notificationModalController",e),e.$inject=["$scope","$log","metaDataProvider","SessionStorage","LocalStorage"]}()},function(e,a){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function e(e,o,l,s,c,d,u,p,m,f,g,h,v,S,C,y,A,T,E,I,b,O,N){var L=o.getInstance(MODULE_NAME_UTILS_GLOBAL_STATE),w={};return function(e,t){var a={isDirtyValid:!1};a.isDirtyValidation=function(e){return a.isDirtyValid=void 0!==e.$modelValue&&e.$modelValue.length>0,(e.$touched||this.isDirtyValid)&&e.$valid},a.isDirtyInValidation=function(e){return a.isDirtyValid=void 0!==e.$modelValue&&e.$modelValue.length>0,(e.$touched||this.isDirtyValid)&&e.$invalid},a.reset=function(){this.isDirtyValid=!1},e.fieldValidator=a}(w),E.setResetPasswordLink(),function(e,t,a,n,r,i,o,l){e.socialProvider={},e.genericPopulate={},e.socialProvider.utility={},e.socialProvider.titleCaseFilter=i,e.socialProvider.enabledProviders=GIGYA_SOCIAL_SETTINGS.providers,e.socialProvider.registrationSource={talentCommunitySocialProfile:"socialprofile-join",applySocialProfile:"socialprofile-apply",signInSocialProfile:"socialprofile-signin"},e.socialProvider.KeysConfiguration={localStorageSocialMergedProfile:"socialMergedProfile",localStorageRedirectKey:"socialProfileRedirect",socialStorageKey:"socialProfileStorage",sessionStorageKey:"socialProfileSession",storageDataMap:[{modelKey:"photoUrl"},{modelKey:"uname"}],HTMLDefinition:{mainContainerId:"socialSiteProvider",mainContainerLoginId:"socialLoginProvider"}},e.socialProvider.notificationMessage="",e.socialProvider.notificationEngine={registrationFail:TEMPLATE_CONSTANTS.VALIDATION.REGISTRATION_FAIL.str,withoutEmailID:TEMPLATE_CONSTANTS.VALIDATION.WITHOUT_EMAIL_ID.str,loginFail:TEMPLATE_CONSTANTS.VALIDATION.LOGIN_FAIL.str,unSupportedActivity:TEMPLATE_CONSTANTS.VALIDATION.UNSUPPORTED_ACTIVITY.str,multipleAccountRestriction:"",deactivatedMessage:TEMPLATE_CONSTANTS.VALIDATION.DEACTIVATED_MESSAGE.str,generalException:TEMPLATE_CONSTANTS.VALIDATION.GENERAL_EXCEPTION.str,mergeIntermediateMessage:function(){return"<span> We see that you have an existing account. This account has been connected with your "+e.socialProvider.titleCaseFilter(e.socialProvider.getProfile().provider)+" profile. Please login with your "+e.socialProvider.titleCaseFilter(e.socialProvider.getProfile().provider)+" profile to access your account. </span>"}},e.socialProvider.createOneLink="/profile/join/",_XC_CONFIG.lang&&"en"!==_XC_CONFIG.lang&&(e.socialProvider.createOneLink="/"+_XC_CONFIG.lang+e.socialProvider.createOneLink);e.socialProvider.TitleEnum={connectTitle:"<p>"+XCLOUD.i18n("Quickly log into your talent profile by using your social network profile or manually enter your credentials below.","text")+"</p><p>"+XCLOUD.i18n("If you have not yet joined our talent community, you can create a talent profile by clicking on your preferred social network below and we'll automatically import your profile information. Or visit our ","text")+'<a href="'+e.socialProvider.createOneLink+'">'+XCLOUD.i18n("Create a Profile","text")+"</a>"+XCLOUD.i18n(" page to enter your personal information manually.","text")+"</p>",joinTitle:XCLOUD.i18n("Quickly join with your social network.","text")},e.socialProvider.showWizard=GIGYA_SOCIAL_SETTINGS.enabled,e.socialProvider.candidateExists=n.candidateExists,e.socialProvider.getSocialUserInfo=n.getSocialUserInfo,e.socialProvider.isSocialUserRegistration=!1,e.socialProvider.isOverrideEducationandWorkHistoryCapture=!0,e.socialProvider.currentBody=void 0,e.socialProvider.isSocialProfileToMerge=!1,e.socialProvider.isGigyaRegistrationSucceeded=!0,e.socialProvider.isShowNotificaiton=!1,e.socialProvider.consumerCollection=[],e.socialProvider.parserCollection=[],e.socialProvider.muteWidget=!1;try{e.socialProvider.jsLoadAwaitCount=0,e.socialProvider.showUIWizard=function(t,a,n){if(!0!==n&&this.reset(),!0===this.showWizard)try{e.socialProvider.jsLoadAwaitCount++,gigya.socialize.showLoginUI({version:2,containerID:"socialLoginProvider",cid:"",width:300,height:60,showTermsLink:!1,hideGigyaLink:!0,buttonsStyle:"fullLogoColored",enabledProviders:this.enabledProviders,sessionExpiration:0,headerText:a||"",authCodeOnly:!0}),gigya.socialize.addEventHandlers({onLogin:t}),e.socialProvider.jsLoadAwaitCount=0}catch(r){e.socialProvider.jsLoadAwaitCount<12&&l((function(t,a,n){e.socialProvider.showUIWizard(t,a,n)}),250,t,a,n)}}}catch(e){t.warn("SocailLogin:An issue has occurred while Gigya Provider Loading!"),t.error(e)}e.socialProvider.resolveAreaOfInterest=function(e){return e},e.socialProvider.userInfoResponse=function(a){try{if(a.status="OK",void 0!==a.status&&"OK"===a.status){var n=JSON.parse(a.userInfo);if(window.localStorage.setItem("socialUser",n.email),e.socialProvider.profile.bearerAccessToken=a.accessToken,e.socialProvider.profile.deactivCheck=a.deactivCheck,e.socialProvider.profile.provider=n.loginProvider,e.socialProvider.profile.uid=n.UID,e.socialProvider.profile.lastName=n.lastName,e.socialProvider.profile.gender=n.gender,e.socialProvider.profile.email=n.email,e.socialProvider.profile.firstName=n.firstName,e.socialProvider.profile.zip=n.zip,e.socialProvider.profile.isSiteUidRegistered=n.isSiteUID,e.socialProvider.profile.state=n.state,e.socialProvider.profile.country=n.country,e.socialProvider.profile.photoUrl=n.photoURL,e.socialProvider.profile.thumbnailUrl=n.thumbnailURL,void 0!==n.profileURL&&-1!==n.profileURL.indexOf("linkedin")&&(e.socialProvider.profile.profileURL=n.profileURL),null!==e.socialProvider.profile.photoUrl&&void 0!==e.socialProvider.profile.photoUrl&&0!==e.socialProvider.profile.photoUrl.length||(e.socialProvider.profile.photoUrl=e.socialProvider.profile.thumbnailUrl),e.socialProvider.profile.workHistory=n.work,e.socialProvider.profile.educationHistory=n.education,n.phones&&(e.socialProvider.profile.phone=n.phones.length>0?n.phones[0].number:null),e.socialProvider.profile.industry=e.socialProvider.resolveAreaOfInterest(n.industry),e.socialProvider.profile.redirectType="none",angular.isArray(e.socialProvider.profile.workHistory)){var r=_.findWhere(e.socialProvider.profile.workHistory,{isCurrent:!0});void 0!==r&&(e.socialProvider.profile.currentTitle=r.title)}e.socialProvider.notificationEngine.multipleAccountRestriction="We identified that you had an existing social profile linked with us,Please use linked social network or site credentials to login.",angular.forEach(e.socialProvider.parserCollection,(function(t){t(e.socialProvider.profile)}))}else t.log("Insufficient social response supplied.");e.socialProvider.resolveCandidateLoginIdentity()}catch(a){e.socialProvider.profile=e.socialProvider.profileBaseModel(),t.error(a),e.socialProvider.internalError(),jQuery(".loading-container-instance").css("display","none"),jQuery("#modal-Loader").css("display","none")}},e.socialProvider.bindProfile=function(t,a,n){this.newCandidateHandlerCaller=t,this.returningCandidateHandlerCaller=a,this.isGigyaRegistrationSucceeded=!0,e.socialProvider.isShowNotificaiton=!1;var r={code:n.authCode,redirectUri:window.location.origin+"/profile/"};this.currentBody=r,this.fetchUserInfo(r,this.userInfoResponse)},e.socialProvider.profileBaseModel=function(){return{bearerAccessToken:void 0,country:"",currentTitle:"",educationHistory:[],email:"",emailExists:!1,firstName:"",gender:"",industry:"",isSiteUidRegistered:!1,isUserRegistered:!1,lastName:"",phone:"",photoURL:"",provider:"",redirectType:"none",uid:"",workHistory:[],zip:""}},e.socialProvider.getProfile=function(){return this.profile},e.socialProvider.setRegistrationCaller=function(t){switch(e.socialProvider.isSocialUserRegistration=!1,e.socialProvider.isOverrideEducationandWorkHistoryCapture=!0,t){case e.socialProvider.registrationSource.applySocialProfile:e.socialProvider.isSocialUserRegistration=!0,e.socialProvider.isOverrideEducationandWorkHistoryCapture=!0;break;case e.socialProvider.registrationSource.talentCommunitySocialProfile:case e.socialProvider.registrationSource.signInSocialProfile:e.socialProvider.isSocialUserRegistration=!0,e.socialProvider.isOverrideEducationandWorkHistoryCapture=!1}this.profile.redirectType=t},e.socialProvider.registerConsumer=function(t){0===this.parserCollection.length&&(this.parserCollection.push(e.socialProvider.candidateParser),this.parserCollection.push(e.socialProvider.educationParser),this.parserCollection.push(e.socialProvider.workHistoryParser)),this.consumerCollection.push(t)},e.socialProvider.reset=function(){this.profile=this.profileBaseModel(),this.consumerCollection=[]},e.socialProvider.notifyConsumer=function(e){angular.forEach(this.consumerCollection,(function(t){t(e)}))},e.genericPopulate.notifyConsumer=function(e){angular.forEach(this.consumerCollection,(function(t){t(e)}))},e.socialProvider.disConnectSocialConnection=function(){this.reset(),this.isSocialUserRegistration=!1,this.isOverrideEducationandWorkHistoryCapture=!0},e.socialProvider.resolveCandidateLoginIdentity=function(){var t=this.getProfile();null!==this.profile.email&&void 0!==this.profile.email&&null!==this.profile.bearerAccessToken&&void 0!==this.profile.bearerAccessToken&&this.profile.bearerAccessToken.length>0?_XC_CONFIG.profile_login_deactivated?(_XC_CONFIG.isLoginLessReturningUser=!0,e.socialProvider.newCandidateHandler(t)):e.socialProvider.returningCandidateHandler(t):"t"===this.profile.deactivCheck?(jQuery(".loading-container").css("display","none"),jQuery(".loading-container-instance").css("display","none"),jQuery("#modal-Loader").css("display","none"),this.showNotificationToggle(!0,e.socialProvider.notificationEngine.deactivatedMessage)):this.candidateExists({username:this.profile.email,clientName:clientName}).$promise.then((function(a){e.socialProvider.newCandidateHandler(t)}),(function(a){_XC_CONFIG.profile_login_deactivated?(_XC_CONFIG.isLoginLessReturningUser=!0,e.socialProvider.newCandidateHandler(t)):e.socialProvider.returningCandidateHandler(t)}))},e.socialProvider.resetEventListeners=function(){void 0!==this.existingSocialProfileHandler&&(this.existingSocialProfileHandler=void 0),void 0!==this.newSocialProfileHandler&&(this.newSocialProfileHandler=void 0)},e.socialProvider.newCandidateHandler=function(e){try{void 0!==this.newCandidateHandlerCaller&&this.newCandidateHandlerCaller(e),this.resetEventListeners(),jQuery(".loading-container-instance").css("display","none"),jQuery("#modal-Loader").css("display","none")}catch(e){console.log(e),jQuery(".loading-container").css("display","none"),jQuery(".loading-container-instance").css("display","none"),jQuery("#modal-Loader").css("display","none")}},e.socialProvider.returningCandidateHandler=function(e){try{this.profile.emailExists=!0,void 0!==this.returningCandidateHandlerCaller&&this.returningCandidateHandlerCaller(e),this.resetEventListeners(),jQuery(".loading-container-instance").css("display","none"),jQuery("#modal-Loader").css("display","none")}catch(e){jQuery(".loading-container").css("display","none"),jQuery(".loading-container-instance").css("display","none"),jQuery("#modal-Loader").css("display","none")}},e.socialProvider.getWorkHistoryModel=function(a,n,r){var i=e.socialProvider.getProfile(),o=[];if(null!=i){if(!angular.isArray(i.workHistory))return n;_.each(i.workHistory,(function(e){if(null!==e.company&&void 0!==e.company){null!==e.title&&void 0!==e.title||(e.title="");var n={candidateId:a,company:e.company,current:!0===e.isCurrent?"t":"f",description:"",title:e.title},i=n;void 0!==r&&void 0!==r.fetchIsCurrentField&&!0===r.fetchIsCurrentField&&(i={isCurrent:e.isCurrent,workElement:n}),o.push(i)}else t.log("command: workhistory record is skipped due to employer un available")}))}return o},e.socialProvider.getEducationHistoryModel=function(a,n){var r=e.socialProvider.getProfile(),i=[];if(null!=r){if(!angular.isArray(r.educationHistory))return n;_.each(r.educationHistory,(function(e){if(null!==e.degree&&void 0!==e.degree){null===e.school&&void 0===e.school&&(e.school=""),null!==e.endYear&&void 0!==e.endYear&&0!==e.endYear?e.completed="t":e.completed="f",e.address={},e.address.city="";var n={candidateId:a,city:e.address.city,completed:e.completed,institution:e.school,levelAttained:e.degree,subject:e.degree};i.push(n)}else t.log("command: eduhistory record is skipped due to degree un available")}))}return i},e.socialProvider.setProfile=function(e){this.profile=e},e.socialProvider.showNotificationToggle=function(e,t){this.isShowNotificaiton=e,this.notificationMessage=t},e.socialProvider.internalError=function(){jQuery(".loading-container").css("display","none"),this.showNotificationToggle(!0,e.socialProvider.notificationEngine.generalException)},e.socialProvider.fetchUserInfo=function(t,a){this.getSocialUserInfo(t).$promise.then((function(e){a(e)}),(function(t){e.socialProvider.internalError()}))},e.socialProvider.utility.setTabIndex=function(){try{var e=jQuery("#socialLoginProvider_uiContainer > div.gigya-login-providers > table > tbody > tr > td > div > div > div > span:nth-child(1) > button");return void 0!==e.length&&0!==e.length&&(e.attr("tabindex",0),jQuery("#socialLoginProvider_uiContainer > div.gigya-login-providers > table > tbody > tr > td > div > div > div > span:nth-child(2) > button").attr("tabindex",0),jQuery("#socialLoginProvider_uiContainer > div.gigya-login-providers > table > tbody > tr > td > div > div > div > span:nth-child(3) > button").attr("tabindex",0),!0)}catch(e){}},e.socialProvider.utility.sessionToStorage=function(a){a=a||{};try{var n={profile:e.socialProvider.getProfile(),externalState:a};o.session.candidate.socialLoginSession.set(n)}catch(e){t.error(e)}},e.socialProvider.utility.sessionFromStorage=function(){var e={isSuccess:!1};try{var a=o.session.candidate.socialLoginSession.get();return null!=a&&((e=a).isSuccess=!0),e}catch(a){return t.error(a),e}},e.socialProvider.utility.deleteFromStorage=function(){o.session.candidate.socialLoginSession.remove()},e.socialProvider.utility.restoreSession=function(a,n){try{a&&a.profile&&(e.socialProvider.profile=e.socialProvider.profile||e.socialProvider.profileBaseModel(),angular.extend(e.socialProvider.profile,a.profile),e.socialProvider.setRegistrationCaller(e.socialProvider.profile.redirectType),this.profile=e.socialProvider.profile,angular.forEach(e.socialProvider.parserCollection,(function(t){t(e.socialProvider.profile)})),n&&(n.internalToken=a.externalState.internalToken))}catch(e){return t.error(e),response}},e.socialProvider.utility.setProfileDefaultsToStorage=function(){try{for(var a={},n=e.socialProvider.getProfile(),i=e.socialProvider.KeysConfiguration,o=0;o<i.storageDataMap.length;o++){var l=i.storageDataMap[o].modelKey;a[l]=n[l]}r.set(i.socialStorageKey,a)}catch(e){t.error(e)}},e.socialProvider.utility.getProfileDefaultsFromStorage=function(){var a={isSuccess:!1};try{var n=e.socialProvider.KeysConfiguration,i=r.get(n.socialStorageKey);return null!=i&&void 0!==i.$$state.value&&((a=i.$$state.value).isSuccess=!0),a}catch(e){return t.error(e),a}},e.socialProvider.utility.loadProfileFromStorage=function(){var t={isSuccess:!1};try{var a=e.socialProvider.KeysConfiguration,n=r.get(a.localStorageSocialMergedProfile);return null!=n&&void 0!==n.$$state.value?(e.socialProvider.setProfile(n.$$state.value),e.socialProvider.isSocialProfileToMerge=!0,t.isSuccess=!0):(t.isSuccess=!1,e.socialProvider.isSocialProfileToMerge=!1),t}catch(a){return e.socialProvider.isSocialProfileToMerge=!1,t}},e.socialProvider.utility.clearMergeProfileCache=function(t){var a={isSuccess:!1};try{var n=e.socialProvider.KeysConfiguration;return!0!==e.socialProvider.isSocialProfileToMerge&&!0!==t||(e.socialProvider.isSocialProfileToMerge=!1,a.isSuccess=!0,!0===t&&r.remove(n.localStorageSocialMergedProfile)),a}catch(e){return a}},e.socialProvider.utility.getRedirectDirectionFromStorage=function(){var t={isSuccess:!1};try{var a=e.socialProvider.KeysConfiguration,n=r.get(a.localStorageRedirectKey);return null!=n&&void 0!==n.$$state.value&&(n=n.$$state.value,t.isSuccess=!0,t.callBack=n.callBack,t.action=n.action,t.path=n.path,t.caller=n.caller),t}catch(e){return t}},e.socialProvider.utility.setRedirectDirectionToStorage=function(t){var a={isSuccess:!1};try{var n=e.socialProvider.KeysConfiguration;r.set(n.localStorageRedirectKey,t),a.isSuccess=!0}catch(e){return a}},e.socialProvider.utility.removeRedirectDirectionInStorage=function(){var t={isSuccess:!1};try{var a=e.socialProvider.KeysConfiguration;r.remove(a.localStorageRedirectKey),t.isSuccess=!0}catch(e){return t}},e.socialProvider.candidateParser=function(t){try{var a={};void 0!==t&&(a.uname=t.email,a.firstName=t.firstName,a.lastName=t.lastName,a.phone1=t.phone,a.zip=t.zip);var n={data:a,identity:"socialSite",key:"candidate"};e.socialProvider.notifyConsumer(n)}catch(e){jQuery(".loading-container").css("display","none")}},e.socialProvider.educationParser=function(a){var n=[];if(null!=a&&angular.isArray(a.educationHistory)){angular.forEach(a.educationHistory,(function(e){if(null!==e.degree&&void 0!==e.degree){null===e.school&&void 0===e.school&&(e.school=""),null!==e.endYear&&void 0!==e.endYear&&0!==e.endYear?e.completed="t":e.completed="f",e.address={},e.address.city="";var a={city:e.address.city,completed:e.completed,institution:e.school,levelAttained:e.degree,subject:e.degree};n.push(a)}else t.log("command: eduhistory record is skipped due to degree un available")}));var r={key:"education",data:n,identity:"socialSite"};e.socialProvider.notifyConsumer(r)}},e.socialProvider.workHistoryParser=function(a){var n=[];if(null!=a&&angular.isArray(a.workHistory)){angular.forEach(a.workHistory,(function(e){if(null!==e.company&&void 0!==e.company){null!==e.title&&void 0!==e.title||(e.title="");var a={company:e.company,current:!0===e.isCurrent?"t":"f",description:"",title:e.title};n.push(a)}else t.log("command: workhistory record is skipped due to employer un available")}));var r={data:n,identity:"socialSite",key:"work_history"};e.socialProvider.notifyConsumer(r)}},e.genericPopulate.candidateParser=function(t){try{var a={};void 0!==t&&(a.areaInterest=t.primaryCategory);var n={data:a,identity:"genericPopulate",key:"candidate"};e.genericPopulate.notifyConsumer(n)}catch(e){jQuery(".loading-container").css("display","none")}}}(w,L,0,p,h,y,A,d),function(e,t,a,n,o,l,s,c,d,u,p,m,f){var g={};e.candidateHelper=g;try{g.captureNonAtsLead=function(e,t){if(e){var n,r=c.defer();return jQuery(".loading-container").css("display","block"),o.getRequisitionIdBySmartpostId({smartPostId:e}).$promise.then((function(e){var i=normalizeObjects(e),o=0;if(i&&(o=i.requisitionId),o){u.setApplyJoinRequisitionId(o);var c={client:clientName,requisitionId:o,type:"live"};l.getFolderByRequisitionAndType(c).$promise.then((function(e){var i=normalizeObjects(e);angular.forEach(i,(function(e,o){t&&(n=i[o].folderId,s.addCandidateToFolder({candidateList:[t],destinationList:[n]}).$promise.then((function(e){r.resolve(e)}),(function(e){a.error(e),r.reject(e)})))}))}),(function(e){a.error(e),r.reject(e)}))}else r.reject("no requisitionId found")}),(function(e){a.error(e),r.reject(e)})),r.promise}},g.captureAtsLead=function(e,t){if(null!=e){var n,r=c.defer(),i={client:clientName,requisitionId:e,type:"live"};return l.getFolderByRequisitionAndType(i).$promise.then((function(e){var i=normalizeObjects(e);angular.forEach(i,(function(e,o){n=i[o].folderId,t&&s.addCandidateToFolder({candidateList:[t],destinationList:[n]}).$promise.then((function(e){r.resolve(e)}),(function(e){a.error(e),r.reject(e)}))}))}),(function(e){a.error(e),r.reject(e)})),r.promise}},g.ApplyDefaultModes=function(e){void 0!==e.accessType&&""!=e.accessType||(e.accessType="E"),delete e.unsubscribeCheck,e.deactivateCheck="f",e.languageCodeId=ACTIVE_LANGUAGE_CODE_ID},g.responsePrototype={hasSuccess:!0,reason:"success"},g.setterProcessor={zeoCode:function(e,a,n,r){var o=angular.copy(g.responsePrototype),l={};l.postalcode=e.zip,null===e.zip&&void 0===e.zip||t.getPostalCodesData(l).$promise.then((function(t){var l=t,s=[],c=!1,d=null;if(l&&l.length>0&&r){var u=[];r.countryIso?u=i(l,r.countryIso):r.country?u=i(l,r.country):(c=!0,d=(s=l.filter((function(e){return"US"===e.country.toUpperCase()})))[0]?s[0]:l[0]),u.length>0&&(c=!0,d=u[0])}c&&d?(!0!==a&&null!==e.country&&void 0!==e.country&&0!==e.country.length||(e.country=d.countryName),!0!==a&&null!==e.state&&void 0!==e.state&&0!==e.country.state||(e.state=d.provinceName),!0!==a&&null!==e.city&&void 0!==e.city&&0!==e.country.city||(e.city=d.CityName),!0!==a&&null!==e.latitude&&void 0!==e.latitude&&0!==e.country.city||(e.latitude=d.latitude),!0!==a&&null!==e.longitude&&void 0!==e.longitude&&0!==e.country.city||(e.longitude=d.longitude)):(e.country=null,e.state=null,e.city=null,e.latitude=null,e.longitude=null),n(o)}),(function(e){o.hasSuccess=!1,o.reason=e,n(o)}))}},g.filters={getCurrentJob:function(e){var t=_.findWhere(e,{current:"t"});return void 0===t&&(t=0!==e.length?n("orderBy")(e,"-endDate",!1)[0]:{}),t},getCurrentEducation:function(e){var t=_.where(e,{completed:"t"});return t=t.length>0?t[0]:{}}},g.parserCollection={resume:{getEducationModel:function(e,t,a){void 0===a&&(a="");var n={},i=[],o=!1;if(3==m.current.getFromPath(p.path(),p.search().link)&&_XC_CONFIG.education_validation_required){o=!0;var l=d.get(u.inMemoryStorage.educationValidation.title);l&&void 0!==l.$$state.value&&(l=l.$$state.value)}if(void 0===e)return i;if(angular.isArray(e))for(var s in e)n={},void 0!==e[s].levelAttained&&e[s].levelAttained&&(n.levelAttained=e[s].levelAttained,n.levelAttained=n.levelAttained.length>80?n.levelAttained.substring(0,79):n.levelAttained),void 0!==e[s].institution&&e[s].institution&&(n.institution=e[s].institution,n.institution=n.institution.length>80?n.institution.substring(0,79):n.institution),void 0!==e[s].city&&e[s].city&&(n.city=e[s].city),void 0!==e[s].state&&e[s].state&&(n.state=e[s].state),void 0!==e[s].endDate&&e[s].endDate&&(n.endDate=e[s].endDate),_XC_CONFIG.education_validation_required&&o&&(n=r(n,l)),n&&i.push(n);else angular.isArray(e)||(void 0!==e.levelAttained&&e.levelAttained&&(n.levelAttained=e.levelAttained,n.levelAttained=n.levelAttained.length>80?n.levelAttained.substring(0,79):n.levelAttained),void 0!==e.institution&&e.institution&&(n.institution=e.institution,n.institution=n.institution.length>80?n.institution.substring(0,79):n.institution),void 0!==e.city&&e.city&&(n.city=e.city),void 0!==e.state&&e.state&&(n.state=e.state),void 0!==e.endDate&&e.endDate&&(n.endDate=e.endDate),_XC_CONFIG.education_validation_required&&o&&(n=r(n,l)),n&&i.push(n));return i},mergeSortedHistory:function(e,t,a){var n=[];if(0!=e.length||0!=t.length){for(var r=0,i=0;r<e.length&&i<t.length;)null==e[r].endDate?t[i].endDate<e[r].startDate?(n.push(e[r]),r++):(n.push(t[i]),i++):e[r].endDate>t[i].endDate?(n.push(e[r]),r++):(n.push(t[i]),i++);for(;r<e.length;)n.push(e[r]),r++;for(;i<t.length;)n.push(t[i]),i++}return angular.forEach(a,(function(e){n.push(e)})),n},getSortedModel:function(e){var t=[],a=[],n=[],r=[],i=[];return angular.forEach(e,(function(e){null==e.startDate&&null==e.endDate?"t"==e.current?i.push(e):r.push(e):null==e.startDate&&null!=e.endDate?"t"==e.current?i.push(e):n.push(e):null!=e.startDate&&null==e.endDate?"t"==e.current?i.push(e):a.push(e):"t"==e.current?i.push(e):t.push(e)})),a=_.sortBy(a,(function(e){return e.startDate})).reverse(),n=_.sortBy(n,(function(e){return e.endDate})).reverse(),t=_.sortBy(t,(function(e){return e.endDate})).reverse(),i=a.concat(t),i=_.sortBy(i,(function(e){return e.startDate})).reverse(),i=this.mergeSortedHistory(i,n,r)},getEmploymentModel:function(e,t,a){var n;void 0===a&&(a="");var r,i=[];if(!e.Employment)return i;if(e.Employment&&angular.isArray(e.Employment)){for(var o in e.Employment)r={title:"",company:"",description:"",endDate:"",address:{city:"",state:""},isCurrent:"f",startDate:""},e.Employment[o].title&&(r.title=e.Employment[o].title,r.title=r.title.length>50?r.title.substring(0,49):r.title),e.Employment[o].company&&(r.company=e.Employment[o].company,r.company=r.company.length>50?r.company.substring(0,49):r.company),"true"===e.Employment[o].current&&(r.isCurrent="t"),e.Employment[o].description&&(r.description=e.Employment[o].description),e.Employment[o].startDate&&(r.startDate=e.Employment[o].startDate),e.Employment[o].description&&(r.endDate=e.Employment[o].endDate),e.Employment[o].address&&(e.Employment[o].address.city&&(r.city=e.Employment[o].address.city),e.Employment[o].address.state&&(r.state=e.Employment[o].address.state)),n={city:r.city,company:r.company,current:r.isCurrent,description:r.description,endDate:r.endDate,startDate:r.startDate,title:r.title,candidateId:a},i.push(n);return i}return e.Employment&&!angular.isArray(e.Employment)?(r={title:"",company:"",description:"",endDate:"",address:{city:"",state:""},isCurrent:"f",startDate:""},e.Employment.title&&(r.title=e.Employment.title,r.title=r.title.length>50?r.title.substring(0,49):r.title),"true"===e.Employment.current&&(r.isCurrent="t"),e.Employment.company&&(r.company=e.Employment.company,r.company=r.company.length>50?r.company.substring(0,49):r.company),e.Employment.description&&(r.description=e.Employment.description),e.Employment.startDate&&(r.startDate=e.Employment.startDate),e.Employment.description&&(r.endDate=e.Employment.endDate),e.Employment.address&&(e.Employment.address.city&&(r.city=e.Employment.address.city),e.Employment.address.state&&(r.state=e.Employment.address.state)),n={city:r.city,company:r.company,current:r.isCurrent,description:r.description,endDate:r.endDate,startDate:r.startDate,title:r.title,candidateId:a},i.push(n),i):void 0}}},g.configuration={loadLanguages:function(){t.getLanguages().$promise.then((function(e){if(LANGUAGE_COLLECTION=normalizeObjects(e),_XC_CONFIG.lang&&"en"!==_XC_CONFIG.lang){var t=_.findWhere(LANGUAGE_COLLECTION,{language:_XC_CONFIG.lang});void 0!==t&&(ACTIVE_LANGUAGE_CODE_ID=t.languageCodeId)}}),(function(e){a.error(e)}))}}}catch(e){a.warn("CandidateModel:An issue has occurred while CandidateModel Loading!"),a.error(e)}}(w,p,L,u,v,C,S,e,h,A,c,T),function(e,t,a,n,r,i,o,l,s,c,d){e.schemaInterpolation={frameworkMetaData:[{streamId:void 0,formId:void 0,schemaDefinition:void 0,formDefinition:void 0}],notificationEngine:{interpolation:{generalMessage:"Something went wrong, we are not able to process your request. Please try again later."}},location:l},e.schemaInterpolation.constructors=[],e.schemaInterpolation.definitionHandler=[],e.schemaInterpolation.fieldHandler=[],e.schemaInterpolation.sectionHandler=[],e.schemaInterpolation.fieldMetaData=[],e.schemaInterpolation.frameworkMetaData=[],e.schemaInterpolation.indexOfFieldGroup=0,e.schemaInterpolation.metaData=[],e.schemaInterpolation.finalizedFormGroup=[],e.schemaInterpolation.skippedFormGroup=[],e.schemaInterpolation.finalizedFrameworkMetaData=[],e.schemaInterpolation.skippedFrameworkMetaData=[],e.schemaInterpolation.domainLookup=[],e.schemaInterpolation.lookUpToFetch=["assmt_position_codes"],e.schemaInterpolation.schemDefinition={properties:{uname:{key:"uname",schema:{pattern:"^((?!\\.)(?!.\\.$)(?!.?\\.\\.)(?!.*\\.\\.)(?!.*\\+\\+)[a-zA-Z0-9+_.'\\-]{1,30})[@]{1}[a-zA-Z0-9\\-]*([.][a-z]{2,})+$",maxLength:75}},dob:{key:"dob",schema:{pattern:"\\d{4}-\\d{2}-\\d{2}",format:"uib-date"}},issueDate:{key:"issueDate",schema:{format:"uib-date"}},phone1:{key:"phone1",schema:{format:"uimask"}},managerPhone:{key:"managerPhone",schema:{format:"uimask"}},subscription:{key:"subscription",schema:{title:TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE}},subscription_marketing_email:{key:"subscription_marketing_email",schema:{title:TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_TITLE}},termsAndPolicy:{key:"termsAndPolicy",schema:{title:TEMPLATE_CONSTANTS.TITLE.BANNER.TERMS_POLICY_TITLE}}}},e.schemaInterpolation.formDefinition={gridDirective:{XCloudType:"template",type:"template"},properties:{uname:{type:"conditional",condition:"uNameEditable === true",items:[{key:"uname",ngModelOptions:{debounce:500},destroyStrategy:"retain",required:!0,$validators:{invalidEmail:d.emailValidation},validationMessage:{302:XCLOUD.i18n("User Name / Email is required.","validation"),202:XCLOUD.i18n("Invalid email address.","validation"),invalidEmail:XCLOUD.i18n("Invalid email address.","validation"),201:XCLOUD.i18n("User Name / Email is too long, maximum {75 chars}","validation"),required:XCLOUD.i18n("User Name / Email is required.","validation")},$asyncValidators:{9001:function(t){return e.angularSchemaObserver.notifyBlurEventListener(t,"uname")}}}]},uNameEditMode:{type:"conditional",condition:"uNameEditable !== true",items:[{readonly:!0,destroyStrategy:"retain",key:"uname",type:"text",required:!0,ngModelOptions:{updateOn:"blur"},fieldHtmlClass:"schema-form-control-disabled",validationMessage:{302:XCLOUD.i18n("User Name / Email is required.","validation"),202:XCLOUD.i18n("Invalid email address.","validation"),201:XCLOUD.i18n("User Name / Email is too long, maximum {75 chars}","validation"),required:XCLOUD.i18n("User Name / Email is required.","validation")},$asyncValidators:{9001:function(t){return e.angularSchemaObserver.notifyBlurEventListener(t,"uname")}}}]},lastFormActionConditionals:["(editModel === true)","(editModel === false)","(rowAdded === true)","(rowAdded === false)"],submitActionConditionals:["(editModel === true)","(editModel === false)","(rowEditMode !== true)","(rowEditMode === true)"],navigationConditionals:["(rowAdded === true)","(rowAdded === false)","(rowAdded === false && rowAddedRequiredFieldMissing === true)","(rowAdded === false && rowAddedRequiredFieldMissing !== true)"],submitActionEnableCondition:"(submitActionSemaphore() === true)",submitActionDisableCondition:"(submitActionSemaphore() === false)",dob:{key:"dob",type:"uib_datepicker",dateOptions:{maxDate:new Date,showWeeks:!1},fieldAddonRight:!0,popupPlacement:"bottom-right",format:"yyyy-MM-dd",validationMessage:{default:XCLOUD.i18n("Enter valid date.","validation")}},issueDate:{key:"issueDate",type:"uib_datepicker",dateOptions:{maxDate:new Date,showWeeks:!1},fieldAddonRight:!0,popupPlacement:"bottom-right",validationMessage:{default:XCLOUD.i18n("Enter valid date.","validation")}},date_6:{key:"date_6",type:"uib_datepicker",dateOptions:{minDate:new Date,showWeeks:!1},format:"yyyy-MM-dd",fieldAddonRight:!0,popupPlacement:"bottom-right",validationMessage:{default:XCLOUD.i18n("Enter valid date.","validation")}},"uib-dateFieldProtoType":{type:"uib_datepicker",dateOptions:{showWeeks:!1},fieldAddonRight:!0,popupPlacement:"bottom-right"},phone1:{key:"phone1",maskFormat:"9999999999?9?9?9?9","ui-options":{clearOnBlur:!1},maskPlaceHolderChar:"space",validationMessage:{default:" "}},managerPhone:{key:"managerPhone",maskFormat:"9999999999?9?9?9?9",maskPlaceHolderChar:"space",validationMessage:{default:" "}}}},_XC_CONFIG.HRL_integration_enabled&&(e.schemaInterpolation.formDefinition.properties.ssn={key:"ssn",ngModelOptions:{updateOn:"blur"},validationMessage:{default:" "},$asyncValidators:{9005:function(t){return console.log(e.angularSchemaObserver.fieldGroupCollection[0]),e.angularSchemaObserver.notifyBlurEventListener(t,"ssn")}}},e.schemaInterpolation.formDefinition.properties.ssn_confirm={key:"ssn_confirm",$validators:{confirm_ssn:function(t){return e.angularSchemaObserver.fieldGroupCollection[0].validateSsn(t,"ssn_confirm")}},$asyncValidators:{9005:function(t){return e.angularSchemaObserver.notifyBlurEventListener(t,"ssn_confirm")}}});e.schemaInterpolation.fetchDomainLookup=function(e,t){return a.loadListNames(e,t)},e.schemaInterpolation.prepareValidationMessage=function(e){var t={key:e.key,validationMessage:{}};if(void 0!==e.required&&!0===e.required){var a=void 0===e.validationMessage?{}:e.validationMessage[302];void 0!==e.validationMessage&&void 0!==e.validationMessage[302]||(t.validationMessage=angular.merge(t.validationMessage,{302:XCLOUD.i18n(e.title,"labels")+" "+XCLOUD.i18n("is required.","validation")}),a=t.validationMessage[302]),void 0!==e.validationMessage&&void 0!==e.validationMessage.required||(t.validationMessage=angular.merge(t.validationMessage,{required:a}))}return void 0===e.maxLength||void 0!==e.validationMessage&&void 0!==e.validationMessage[201]||(t.validationMessage=angular.merge(t.validationMessage,{201:XCLOUD.i18n(e.title,"labels")+" "+XCLOUD.i18n("is too long, maximum {","validation")+e.maxLength+XCLOUD.i18n(" chars}.","validation")})),void 0===e.pattern||void 0!==e.validationMessage&&void 0!==e.validationMessage[202]||(t.validationMessage=angular.merge(t.validationMessage,{202:XCLOUD.i18n(e.title,"labels")+" "+XCLOUD.i18n("is invalid.","validation")})),t},e.schemaInterpolation.notifyOnException=function(a,n,r,i){void 0!==i&&t.error(i),e.schemaInterpolation.semaphoreCollection.progressBar(a),e.schemaInterpolation.semaphoreCollection.notificationMessage(n,r)},e.schemaInterpolation.conditionalDefinition=function(t){if(_XC_CONFIG.HRL_integration_enabled)e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]=TEMPLATE_CONSTANTS.VALIDATION.SSN_HRLOGIX_VALIDATION_MESSAGE.str;else if(!1===_XC_CONFIG.login_modal.disabled)if(_XC_CONFIG.landing_page){var a=e.schemaInterpolation.location.url();e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink" onClick="(function(){angular.element(\'#candidatePoolMainContainer\').scope().setRedirectToCurrent({ email : angular.element(\'#uname\').val(), reloadWindow : true});return false;})();return false;">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>"}else!0===e.schemaInterpolation.semaphoreCollection.isLeadCapture&&!0===e.schemaInterpolation.semaphoreCollection.redirectHandler?e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink" onClick="(function(){angular.element(\'#candidatePoolMainContainer\').scope().setRedirectToCurrent({ email : angular.element(\'#uname\').val(), isLeadCapture : true});return false;})();return false;">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>":e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink" onClick="(function(){angular.element(\'#candidatePoolMainContainer\').scope().setRedirectToCurrent({ email : angular.element(\'#uname\').val(), reloadWindow : true});return false;})();return false;">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>";else{var n=e.schemaInterpolation.languageSupplier("/profile/login");if(_XC_CONFIG.landing_page){a=e.schemaInterpolation.location.url();e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink"  href="'+n+"?micrositeCaller="+a+'"ng-click="setRedirectToCurrent($event)" target="_top">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>"}else!1===e.schemaInterpolation.semaphoreCollection.isLeadCapture?e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink"  href="'+n+'?applyCaller=CFM"ng-click="setRedirectToCurrent($event)" target="_top">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>":!0===e.schemaInterpolation.semaphoreCollection.redirectHandler?e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink"  href="'+n+'?LCPCaller=CFM"ng-click="setRedirectToCurrent($event)" target="_top">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>":e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]="<span id='email_exists_Check'>"+XCLOUD.i18n("It looks like you already have an account,","validation")+' <b><a class="pointer" id="unameLoginLink"  href="'+n+'?applyCaller=CFM"ng-click="setRedirectToCurrent($event)" target="_top">'+XCLOUD.i18n("log in?","validation")+"</a></b></span>"}e.schemaInterpolation.formDefinition.properties.uNameEditMode.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]=e.schemaInterpolation.formDefinition.properties.uname.items[0].validationMessage[ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE]},e.schemaInterpolation.languageSupplier=function(e){var t=_XC_CONFIG.lang;return null!=t&&"en"!==t?"/"+t+e:e},e.schemaInterpolation.metadataConstructor=function(a){t.debug("metadataConstructor execution"),e.schemaInterpolation.conditionalDefinition();var r=n.defer(),i=0;return _.each(a,(function(t){try{if(null!=t&&null!==t.formMetaData&&null!==t.schemaMetaData){var a,n;void 0===e.schemaInterpolation.configurations||!0!==e.schemaInterpolation.configurations.doNotParse?(a=JSON.parse(t.schemaMetaData),n=JSON.parse(t.formMetaData),a=XCLOUD.apply_filter("XCC_SCHEMA_METADATA",a,s.job),n=XCLOUD.apply_filter("XCC_FORM_METADATA",n,s.job),angular.forEach(n[4].items[0].items,(function(t){"subscription"!==t.key&&"subscription_marketing_email"!==t.key&&"termsAndPolicy"!==t.key||(void 0!==t.title&&null!==t.title&&""!==t.title.trim()?e.schemaInterpolation.schemDefinition.properties[t.key].schema.title=t.title:void 0!==a.properties[t.key].title&&null!==a.properties[t.key].title&&""!==a.properties[t.key].title.trim()&&(e.schemaInterpolation.schemDefinition.properties[t.key].schema.title=a.properties[t.key].title)),t.key&&void 0!==a.properties[t.key].storeValuesInNewDesign&&a.properties[t.key].storeValuesInNewDesign&&!c.inMemoryStorage.candidateCustomFieldsValueDTO.includes(t.key)&&c.inMemoryStorage.candidateCustomFieldsValueDTO.push(t.key)}))):(a=t.schemaMetaData,n=t.formMetaData),angular.isArray(n[1].XCloudDefinition.tableMap)&&angular.forEach(n[1].XCloudDefinition.tableMap,(function(e){e.hasOwnProperty("fieldCustomParserDefinition")&&(e.fieldCustomParserDefinition=e.fieldCustomParserDefinition.filter((function(e){return"areaOfInterestList"!==e.field})))})),i++;var u={fieldDefinition:[],fieldLookUpCollection:[],fieldNameCollection:[],formDefinition:n,formTitle:XCLOUD.i18n(n[1].XCloudDefinition.formTitle,"titles"),formStyle:{progressBar:{class:"disabled"},viewStyle:n[1].XCloudDefinition.viewStyle},glyphIcon:n[1].XCloudDefinition.glyphIcon,gridConfiguration:n[1].XCloudDefinition.gridConfiguration,gridEnabled:n[1].XCloudDefinition.gridEnabled,hide:5!==n[1].XCloudDefinition.viewStyle,headIndex:t.headIndex,indexOfForm:i,isFirstForm:!1,isLastForm:!1,mandatoryFieldCollection:[],model:{},parentId:t.parentId,replicate:n[1].XCloudDefinition.replicate,schemaDefinition:a,schemaFormId:t.schemaFormId,schemaStreamId:t.schemaStreamId,table:n[1].XCloudDefinition.table,tableMap:n[1].XCloudDefinition.tableMap,actionsTitleOverride:n[1].XCloudDefinition.actionsTitleOverride,defaultValueFieldObject:{},fieldParserDefinition:{dateFields:[],booleanFields:[]},styles:n[1].XCloudDefinition.styles,candidateCustomFieldsDTOFields:c.inMemoryStorage.candidateCustomFieldsValueDTO};u.styles&&(u.styles=u.styles.replace(/\n/g,"")),void 0!==u.replicate&&(u.replicate="true"===u.replicate||!0===u.replicate),3==d.current.getFromPath(l.path(),l.search().link)&&_XC_CONFIG.education_validation_required&&"education"==u.table&&angular.forEach(u.formDefinition[4].items[0].items,(function(e){"levelAttained"===e.key&&void 0!==e.titleMap&&null!==e.titleMap&&(c.inMemoryStorage.educationValidation.title=e.titleMap)})),1===u.indexOfForm&&(e.angularSchemaObserver.formStyleHandler.viewStyle=u.formStyle.viewStyle,e.angularSchemaObserver.formStyleHandler.progressBar.enabled=n[1].XCloudDefinition.progressBarIsEnabled,e.angularSchemaObserver.formStyleHandler.grid.viewStyle=n[1].XCloudDefinition.gridViewStyle,!1==!n[1].XCloudDefinition.modalThankYouMessage&&o.setModalThankYouMessage(n[1].XCloudDefinition.modalThankYouMessage),void 0===e.angularSchemaObserver.formStyleHandler.grid.viewStyle&&(e.angularSchemaObserver.formStyleHandler.grid.viewStyle=0)),void 0!==u.formDefinition[0].lookUpCollections&&u.formDefinition[0].lookUpCollections.length>0&&void 0!==u.formDefinition[0].lookUpCollections&&u.formDefinition[0].lookUpCollections.length>0&&(e.schemaInterpolation.lookUpToFetch=_.uniq(e.schemaInterpolation.lookUpToFetch.concat(u.formDefinition[0].lookUpCollections))),e.schemaInterpolation.frameworkMetaData.push(u),r.resolve(u)}else e.schemaInterpolation.skippedFrameworkMetaData.push(u),r.resolve(u),e.schemaInterpolation.finalizeHandler()}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}})),r.promise},e.schemaInterpolation.domainLookupConstructor=function(){var a=n.defer();t.debug("domainLookupConstructor execution");try{e.schemaInterpolation.lookUpToFetch.length>0?e.schemaInterpolation.fetchDomainLookup(e.schemaInterpolation.domainLookup,e.schemaInterpolation.lookUpToFetch).then((function(n){a.resolve(0),t.debug("lookup collection for form schema fetched"),e.schemaInterpolation.startDefinitionHandler()})):(a.resolve(0),e.schemaInterpolation.startDefinitionHandler())}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}return a.promise},e.schemaInterpolation.startDefinitionHandler=function(){try{_.each(e.schemaInterpolation.frameworkMetaData,(function(t){e.schemaInterpolation.indexOfFieldGroup=e.schemaInterpolation.indexOfFieldGroup+1,e.schemaInterpolation.executeHandler(e.schemaInterpolation.definitionHandler,t)}))}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.staticDefinitionHandler=function(e){if(void 0!==e.helpvalue)switch(e.helpvalue){case"_XC_CONFIG.context.confirmation":e.helpvalue=_XC_CONFIG.context.confirmation;break;case"_XC_CONFIG.context.conviction":e.helpvalue=_XC_CONFIG.context.conviction;break;case"_XC_CONFIG.context.eeo":e.helpvalue=_XC_CONFIG.context.eeo}},e.schemaInterpolation.formDetermination=function(a){t.debug("formDetermination execution");var r=n.defer();try{void 0===a.gridEnabled&&void 0!==a.gridConfiguration&&(a.gridEnabled=a.gridConfiguration.enabled),void 0===a.table&&angular.isArray(a.tableMap)&&a.tableMap.length>0&&(a.table=a.tableMap[0].name),a.gridEnabled&&(e.schemaInterpolation.formDefinition.gridDirective.template="<schema-Grid table=&quot;"+a.table+"&quot; parent-form-title=\"'"+a.formTitle+"'\"></schema-Grid>",5===e.angularSchemaObserver.formStyleHandler.viewStyle?angular.merge(a.formDefinition[5],e.schemaInterpolation.formDefinition.gridDirective):angular.merge(a.formDefinition[3],e.schemaInterpolation.formDefinition.gridDirective)),e.angularSchemaObserver.formStyleHandler.viewStyle===e.angularSchemaObserver.formStyleHandler.viewStylesEnum.modal&&"section"===a.formDefinition[4].type&&(void 0===a.formDefinition[4].htmlClass&&(a.formDefinition[4].htmlClass=""),a.formDefinition[4].htmlClass+=" "+e.angularSchemaObserver.formStyleHandler.modal.scrollbarCSSClass),e.schemaInterpolation.staticDefinitionHandler(a.formDefinition[2]);var i=1;angular.forEach(a.formDefinition[4].items,(function(t){var n={isuNameContains:!1,uNameFieldIndex:!1,iterationIdentity:a.formTitle+i,iterationTitleIdentity:a.formTitle};i++,_.each(t.items,(function(r,i,o){n.schemaFormId=a.schemaFormId,n.fieldElement=r,n.formSection=t,n.source=o,n.index=i,void 0!==r.key&&r.key.indexOf("phone1")>-1&&void 0!==r.pattern?(a.schemaDefinition.properties[r.key].format=void 0,e.schemaInterpolation.mandatoryFieldExecuter(a,n)):angular.forEach(e.schemaInterpolation.fieldHandler,(function(e){e(a,n)}))})),angular.forEach(e.schemaInterpolation.sectionHandler,(function(e){e(t)})),r.resolve(0)}))}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}return r.promise},e.schemaInterpolation.changeSectionClass=function(e){o.getCalledFromModal()&&(e.hasOwnProperty("items")?e.items.length>0?_XC_CONFIG.lcp_modal_field_class?e.htmlClass=_XC_CONFIG.lcp_modal_field_class:e.htmlClass="col-sm-12":(e.htmlClass="display-none",o.resetCalledFromModal()):o.resetCalledFromModal())},e.schemaInterpolation.mandatoryFieldExecuter=function(t,a){try{if(void 0!==a.fieldElement.key&&"button"!==a.fieldElement.type&&"submit"!==a.fieldElement.type)if(void 0!==a.fieldElement.required&&!0===a.fieldElement.required){if(void 0!==(r=t.schemaDefinition.properties[a.fieldElement.key])&&void 0!==r.title&&(a.fieldElement.title=XCLOUD.i18n(r.title,"labels"),void 0===a.fieldElement.labelHtmlClass?a.fieldElement.labelHtmlClass="":a.fieldElement.labelHtmlClass+=" "),void 0===a.fieldElement.condition){var n=[];n.push(a.fieldElement.key),t.mandatoryFieldCollection=_.uniq(t.mandatoryFieldCollection.concat(n))}void 0!==r&&void 0!==r.default&&(t.defaultValueFieldObject[a.fieldElement.key]=r.default)}else{var r;void 0!==(r=t.schemaDefinition.properties[a.fieldElement.key])&&void 0!==r.default&&(t.defaultValueFieldObject[a.fieldElement.key]=r.default),"checkboxes-inline"===a.fieldElement.type&&(a.fieldElement.title=XCLOUD.i18n(r.title,"labels"))}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.assembleFieldName=function(t,a){try{if(void 0!==a.fieldElement.key){var n=[];n.push(a.fieldElement.key),t.fieldNameCollection=_.uniq(t.fieldNameCollection.concat(n));var r=t.schemaDefinition.properties[a.fieldElement.key];void 0!==r&&t.fieldDefinition.push({key:a.fieldElement.key,title:r.title})}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.ngModelReceiverInjection=function(t){try{void 0!==t&&(t.ngModel=function(t){void 0!==e.schemaInterpolation.consumerEmitReceiver&&e.schemaInterpolation.consumerEmitReceiver("schemaNgModelPropagation",t)})}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.domainValidator=function(t,a){try{var n=e.schemaInterpolation.formDefinition.properties[a.fieldElement.key];if(void 0!==n){if(void 0===_.findWhere(e.schemaInterpolation.coreDependencyBucket,{iterationTitleIdentity:a.iterationTitleIdentity})&&(e.schemaInterpolation.coreDependencyBucket.push({iterationTitleIdentity:a.iterationTitleIdentity,index:a.index}),e.schemaInterpolation.ngModelReceiverInjection("uname"===a.fieldElement.key?n.items[0]:n)),"uname"===a.fieldElement.key){a.isuNameContains=!0,void 0!==a.fieldElement.validationMessage&&(a.fieldElement.validationMessage.hasOwnProperty("302")&&(n.items[0].validationMessage[302]=a.fieldElement.validationMessage[302]),a.fieldElement.validationMessage.hasOwnProperty("required")&&(n.items[0].validationMessage.required=a.fieldElement.validationMessage.required),a.fieldElement.validationMessage.hasOwnProperty("9001")&&(n.items[0].validationMessage[9001]=a.fieldElement.validationMessage[9001])),a.uNameFieldIndex=a.index,n.items[0].title=angular.copy(a.fieldElement.title),a.source[a.index]=angular.copy(n);var r=e.schemaInterpolation.formDefinition.properties.uNameEditMode;r.items[0].title=n.items[0].title,0===a.index&&e.schemaInterpolation.ngModelReceiverInjection(r.items[0]),e.schemaInterpolation.additionalElementCollection.push({iterationIdentity:a.iterationIdentity,section:a.formSection,element:r,index:a.index+1,injected:!1})}"signature"!==a.fieldElement.key?angular.merge(a.fieldElement,n):("signature"===a.fieldElement.key&&void 0!==a.fieldElement.validationMessage&&(a.fieldElement.validationMessage.hasOwnProperty("9003")&&(n.validationMessage[9003]=a.fieldElement.validationMessage[9003]),a.fieldElement.validationMessage.hasOwnProperty("201")&&(n.validationMessage[201]=a.fieldElement.validationMessage[201]),a.fieldElement.validationMessage.hasOwnProperty("302")&&(n.validationMessage[302]=a.fieldElement.validationMessage[302]),a.fieldElement.validationMessage.hasOwnProperty("required")&&(n.validationMessage.required=a.fieldElement.validationMessage.required),n.placeholder=a.fieldElement.placeholder,n.required=a.fieldElement.required,a.source[a.index]=angular.copy(n)),0===a.index&&e.schemaInterpolation.ngModelReceiverInjection(a.fieldElement))}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.protoTypeBuilder=function(t,a){try{var n=t.schemaDefinition.properties[a.fieldElement.key];if(void 0===n||void 0===n.format||"date"!==n.format&&"uib-date"!==n.format){if(void 0!==n&&"boolean"===n.type){var r=[];r.push(a.fieldElement.key),t.fieldParserDefinition.booleanFields=_.uniq(t.fieldParserDefinition.booleanFields.concat(r))}}else{var i;n.format="uib-date";var o=e.schemaInterpolation.formDefinition.properties[a.fieldElement.key],l=angular.copy(o);if(void 0===l&&(l=angular.copy(e.schemaInterpolation.formDefinition.properties["uib-dateFieldProtoType"])),void 0!==a.fieldElement.dateOptions)var s=a.fieldElement.dateOptions.minDate,c=a.fieldElement.dateOptions.maxDate;null!=s&&""!==s&&("today"===s.toLowerCase()?(i=new Date,a.fieldElement.dateOptions.minDate=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0)):"yesterday"===s.toLowerCase()?(i=new Date,a.fieldElement.dateOptions.minDate=new Date(i.getFullYear(),i.getMonth(),i.getDate()-1,0,0,0)):"tomorrow"===s.toLowerCase()?(i=new Date,a.fieldElement.dateOptions.minDate=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1,0,0,0)):(s=new Date(s),a.fieldElement.dateOptions.minDate=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0)),void 0!==l.dateOptions&&void 0!==l.dateOptions.minDate?a.fieldElement.initMaxDate=l.dateOptions.minDate:a.fieldElement.initMinDate=a.fieldElement.dateOptions.minDate),null!=c&&""!==c&&("today"===c.toLowerCase()?(i=new Date,a.fieldElement.dateOptions.maxDate=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0)):"yesterday"===c.toLowerCase()?(i=new Date,a.fieldElement.dateOptions.maxDate=new Date(i.getFullYear(),i.getMonth(),i.getDate()-1,0,0,0)):"tomorrow"===c.toLowerCase()?(i=new Date,a.fieldElement.dateOptions.maxDate=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1,0,0,0)):(c=new Date(c),a.fieldElement.dateOptions.maxDate=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0)),void 0!==l.dateOptions&&void 0!==l.dateOptions.maxDate?a.fieldElement.initMaxDate=l.dateOptions.maxDate:a.fieldElement.initMaxDate=a.fieldElement.dateOptions.maxDate);var d=[];d.push(a.fieldElement.key),angular.merge(a.fieldElement,l),t.fieldParserDefinition.dateFields=_.uniq(t.fieldParserDefinition.dateFields.concat(d))}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.validationSummaryBuilder=function(t,a){try{var n=t.schemaDefinition.properties[a.fieldElement.key];if(void 0!==n){var r={key:a.fieldElement.key,title:n.title,maxLength:n.maxLength,required:a.fieldElement.required,pattern:n.pattern,validationMessage:a.fieldElement.validationMessage};if(r.validationMessage)for(var i in r.validationMessage)r.validationMessage[i]=XCLOUD.i18n(r.validationMessage[i],"validation");var o=angular.copy(e.schemaInterpolation.prepareValidationMessage(r));angular.merge(a.fieldElement,o)}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.domainLookupMap=function(t,a){try{var n=void 0!==a.fieldElement.type&&void 0!==a.fieldElement.titleMap&&!1===angular.isArray(a.fieldElement.titleMap);if(n){var r=e.schemaInterpolation.domainLookup[a.fieldElement.titleMap],i=null;switch(a.fieldElement.type){case ANGULAR_SCHEMA_FORMATTER.LOOK_UP.TYPES.UI_SELECT:case ANGULAR_SCHEMA_FORMATTER.LOOK_UP.TYPES.UI_MULTI_SELECT:case ANGULAR_SCHEMA_FORMATTER.LOOK_UP.TYPES.MULTI_SELECT_DROPDOWN:i=ANGULAR_SCHEMA_FORMATTER.LOOK_UP.UI_SELECT;break;case ANGULAR_SCHEMA_FORMATTER.LOOK_UP.TYPES.SELECT:i=ANGULAR_SCHEMA_FORMATTER.LOOK_UP.DROP_DOWN;break;default:i=ANGULAR_SCHEMA_FORMATTER.LOOK_UP.DEFAULT}var o=e.schemaInterpolation.domainLookupFormatter(r,i);if(i.SOURCE===ANGULAR_SCHEMA_FORMATTER.LOOK_UP.UI_SELECT.SOURCE){var l=o;(a.fieldElement.listInclude||a.fieldElement.listExclude||a.fieldElement.listRange)&&(l=d.populateListForConditionalFields(o,a.fieldElement.listInclude||[],a.fieldElement.listExclude||[],a.fieldElement.listRange||[])),a.fieldElement[i.SOURCE]=l,t.schemaDefinition.properties[a.fieldElement.key][i.SOURCE]=o}else a.fieldElement[i.SOURCE]=o;var s=_.where(t.fieldLookUpCollection,{key:a.fieldElement.key});if(void 0===s||0===s.length){var c={key:a.fieldElement.key,listLookUp:r};t.fieldLookUpCollection.push(c)}}a.titleMapWithList=n}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.lastFieldGroupBuilder=function(t,a){try{e.schemaInterpolation.indexOfFieldGroup===e.schemaInterpolation.fieldMetaData.length-e.schemaInterpolation.skippedFrameworkMetaData.length&&void 0===a.fieldElement.key&&void 0!==a.fieldElement.type&&"conditional"===a.fieldElement.type&&e.schemaInterpolation.formDefinition.properties.lastFormActionConditionals.indexOf(a.fieldElement.condition)>-1&&a.fieldElement.items.length>0&&angular.forEach(a.fieldElement.items,(function(e){"actions"===e.type&&angular.forEach(e.items,(function(e){void 0!==t.actionsTitleOverride&&!1===t.actionsTitleOverride||"Update"!==e.title&&"Continue"!==e.title||(e.title=_XC_CONFIG.context.submit),e.title=XCLOUD.i18n(e.title,"buttons")}))}))}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.fieldGroupActionDisableSemaphore=function(t,a){try{var n=!0===t.gridEnabled&&0!==t.gridConfiguration.minRowCount,r=!1;if(void 0===a.fieldElement.key&&void 0!==a.fieldElement.type&&"conditional"===a.fieldElement.type&&a.fieldElement.items.length>0)if(e.schemaInterpolation.formDefinition.properties.submitActionConditionals.indexOf(a.fieldElement.condition)>-1){for(var i=!1,o=angular.copy(a.fieldElement),l=0;l<a.fieldElement.items.length;l++)if("actions"===a.fieldElement.items[l].type&&a.fieldElement.items[l].items.length>0){for(var s=0;s<a.fieldElement.items[l].items.length;s++)if(o.items[l].items[s].mandatoryFieldCollection=t.mandatoryFieldCollection.join("XCloudStatus ")+"XCloudStatus",-1===o.items[l].items[s].mandatoryFieldCollection.indexOf("termsAndPolicy")&&(o.items[l].items[s].mandatoryFieldCollection+=" termsAndPolicyXCloudStatus"),"button"===a.fieldElement.items[l].items[s].type&&void 0!==a.fieldElement.items[l].items[s].onClick&&(a.fieldElement.items[l].items[s].onClick.indexOf("submitForm")>-1||a.fieldElement.items[l].items[s].onClick.indexOf("updateForm")>-1||a.fieldElement.items[l].items[s].onClick.indexOf("showNextForm")>-1)&&(o.items[l].items[s].readonly=!0,i=!0),"button"===a.fieldElement.items[l].items[s].type&&(o.items[l].items[s].htmlClass="schema-form-actions-row m0",a.fieldElement.items[l].items[s].htmlClass=o.items[l].items[s].htmlClass,void 0!==a.fieldElement.items[l].items[s].onClick&&a.fieldElement.items[l].items[s].onClick.indexOf("skipForm")>-1&&(a.fieldElement.items[l].items[s].readonly=!0),o.items[l].items[s].title=XCLOUD.i18n(o.items[l].items[s].title,"buttons"),a.fieldElement.items[l].items[s].title=o.items[l].items[s].title),"button"===a.fieldElement.items[l].items[s].type&&a.fieldElement.items[l].items[s].onClick.indexOf("showPreviousForm")>-1&&(r=t.index<=1||e.angularSchemaObserver.formStyleHandler.viewStyle!==e.angularSchemaObserver.formStyleHandler.viewStylesEnum.slide&&e.angularSchemaObserver.formStyleHandler.viewStyle!==e.angularSchemaObserver.formStyleHandler.viewStylesEnum.modal),!0===r){r=!1;var c=_.filter(e.schemaInterpolation.additionalElementCollection,(function(e){return e.iterationIdentity===a.iterationIdentity&&e.index<a.index&&!1===e.injected})),d=_.filter(e.schemaInterpolation.additionalElementCollection,(function(e){return e.iterationIdentity===a.iterationIdentity&&e.index>=a.index&&!1===e.injected}));e.schemaInterpolation.spliceOffsetCollection.push({ignoreIncremental:!0,itemIndex:l,itemSubIndex:s,iterationIdentity:a.iterationIdentity,removed:!1,section:a.formSection,sectionItemIndex:a.index+c.length+d.length}),e.schemaInterpolation.spliceOffsetCollection.push({ignoreIncremental:!0,itemIndex:l,itemSubIndex:s,iterationIdentity:a.iterationIdentity,removed:!1,section:a.formSection,sectionItemIndex:a.index+c.length+d.length+1})}a.fieldElement.items[l].type="fieldset",o.items[l].type="fieldset",a.fieldElement.items[l].htmlClass="m0",o.items[l].htmlClass="m0"}i&&(o.condition=o.condition.replace("("," "),o.condition=o.condition.replace(")"," "),a.fieldElement.condition="("+o.condition+" && "+e.schemaInterpolation.formDefinition.properties.submitActionEnableCondition+" )",o.condition="("+o.condition+" && "+e.schemaInterpolation.formDefinition.properties.submitActionDisableCondition+" )",e.schemaInterpolation.additionalElementCollection.push({element:o,index:a.index+1,injected:!1,iterationIdentity:a.iterationIdentity,section:a.formSection}))}else{var u=e.schemaInterpolation.formDefinition.properties.navigationConditionals.indexOf(a.fieldElement.condition),p=0;if(u>-1)for(l=0;l<a.fieldElement.items.length;l++)if("actions"===a.fieldElement.items[l].type&&a.fieldElement.items[l].items.length>0){for(s=0;s<a.fieldElement.items[l].items.length;s++)"button"===a.fieldElement.items[l].items[s].type&&(a.fieldElement.items[l].items[s].htmlClass="schema-form-actions-row m0",a.fieldElement.items[l].items[s].title=XCLOUD.i18n(a.fieldElement.items[l].items[s].title,"buttons")),"button"===a.fieldElement.items[l].items[s].type&&void 0!==a.fieldElement.items[l].items[s].onClick&&(a.fieldElement.items[l].items[s].onClick.indexOf("showNextForm")>-1?void 0!==a.fieldElement.items[l].items[s].readonly&&null!==a.fieldElement.items[l].items[s].readonly||(a.fieldElement.items[l].items[s].readonly=!(0===u)):a.fieldElement.items[l].items[s].onClick.indexOf("skipForm")>-1?(a.fieldElement.items[l].items[s].readonly=!(1===u||3===u),2===u&&(a.fieldElement.items[l].items[s].readonly=!0),r=n):a.fieldElement.items[l].items[s].onClick.indexOf("showPreviousForm")>-1&&(r=t.index<=1||e.angularSchemaObserver.formStyleHandler.viewStyle!==e.angularSchemaObserver.formStyleHandler.viewStylesEnum.slide&&e.angularSchemaObserver.formStyleHandler.viewStyle!==e.angularSchemaObserver.formStyleHandler.viewStylesEnum.modal)),!0===r&&(r=!1,e.schemaInterpolation.spliceOffsetCollection.push({itemIndex:l,itemSubIndex:s-p,iterationIdentity:a.iterationIdentity,removed:!1,section:a.formSection,sectionItemIndex:a.index}),p++);a.fieldElement.items[l].type="fieldset",a.fieldElement.items[l].htmlClass="m0"}}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.additionalElementInsertion=function(){try{for(var t=n.defer(),a=0,r=_.filter(e.schemaInterpolation.additionalElementCollection,{injected:!1}),i=0;i<r.length;i++){var o=r[i];o.injected=!0,o.section.items.splice(o.index+a,0,o.element),a++}return t.resolve(0),t.promise}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.dirtyElementRemoval=function(){try{var t=n.defer(),a=_.filter(e.schemaInterpolation.spliceOffsetCollection,{removed:!1});return angular.forEach(a,(function(t){var a=angular.copy(t.sectionItemIndex),n=_.filter(e.schemaInterpolation.additionalElementCollection,{iterationIdentity:t.iterationIdentity,injected:!0});angular.forEach(n,(function(e){e.index-1<a&&(void 0===t.ignoreIncremental||!1===t.ignoreIncremental)&&(t.sectionItemIndex+=1)})),t.removed=!0,-1===t.itemSubIndex?t.section.items[t.sectionItemIndex].items.splice(t.itemIndex,1):t.section.items[t.sectionItemIndex].items[t.itemIndex].items.splice(t.itemSubIndex,1)})),t.resolve(0),t.promise}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.schemaDetermination=function(a){t.debug("schemaDetermination execution");try{var r=n.defer(),i=a.schemaDefinition.properties;return angular.forEach(e.schemaInterpolation.schemDefinition.properties,(function(e){var t=i[e.key];void 0!==t&&angular.merge(t,e.schema)})),_XC_CONFIG.lang&&angular.forEach(i,(function(e){e.title&&(e.title=XCLOUD.i18n(e.title,"labels"))})),r.resolve(0),r.promise}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.domainLookupFormatter=function(t,a){var n=[];try{return angular.forEach(t,(function(e){var t={};t[a.VALUE_FIELD]=e.value,t[a.LABEL_FIELD]=XCLOUD.i18n(e.label,"lists"),t[a.LIST_ID_FIELD]=e.listId,n.push(t)})),n}catch(t){return e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t),[]}},e.schemaInterpolation.fieldGroupCommit=function(a){t.debug("commit execution");var r=n.defer();return r.resolve(a),e.schemaInterpolation.finalizedFrameworkMetaData.push(a),e.schemaInterpolation.finalizeHandler(),r.promise},e.schemaInterpolation.finalizeHandler=function(){try{if(e.schemaInterpolation.fieldMetaData.length===e.schemaInterpolation.finalizedFrameworkMetaData.length+e.schemaInterpolation.skippedFrameworkMetaData.length&&void 0!==e.schemaInterpolation.successCallBack){var t=e.schemaInterpolation.finalizedFrameworkMetaData.length;e.schemaInterpolation.finalizedFrameworkMetaData[t-1].isLastContainer=!0,e.schemaInterpolation.finalizedFrameworkMetaData[t-1].isLastForm=!0,e.schemaInterpolation.finalizedFrameworkMetaData[0].isFirstForm=!0,e.domainLookup=e.schemaInterpolation.domainLookup,e.schemaInterpolation.successCallBack(e.schemaInterpolation.finalizedFrameworkMetaData)}}catch(t){e.schemaInterpolation.notifyOnException(!1,!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage,t)}},e.schemaInterpolation.executeHandler=function(e,t){_.each(e,(function(e){e(t)}))},e.schemaInterpolation.performMetaDataInterpolation=function(a,n,r,i,o){t.debug("performMetaDataInterpolation execution"),e.schemaInterpolation.additionalElementCollection=[],e.schemaInterpolation.coreDependencyBucket=[],e.schemaInterpolation.indexOfFieldGroup=0,e.schemaInterpolation.definitionHandler=[],e.schemaInterpolation.errorCallback=i,e.schemaInterpolation.fieldHandler=[],e.schemaInterpolation.fieldMetaData=a,e.schemaInterpolation.finalizedFrameworkMetaData=[],e.schemaInterpolation.frameworkMetaData=[],e.schemaInterpolation.constructors=[],e.schemaInterpolation.sectionHandler=[],e.schemaInterpolation.semaphoreCollection=n,e.schemaInterpolation.skippedFrameworkMetaData=[],e.schemaInterpolation.spliceOffsetCollection=[],e.schemaInterpolation.successCallBack=r,e.schemaInterpolation.configurations=o,e.schemaInterpolation.constructors.push(e.schemaInterpolation.metadataConstructor),e.schemaInterpolation.constructors.push(e.schemaInterpolation.domainLookupConstructor),e.schemaInterpolation.definitionHandler.push(e.schemaInterpolation.schemaDetermination),e.schemaInterpolation.definitionHandler.push(e.schemaInterpolation.formDetermination),e.schemaInterpolation.definitionHandler.push(e.schemaInterpolation.fieldGroupCommit),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.mandatoryFieldExecuter),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.assembleFieldName),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.protoTypeBuilder),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.validationSummaryBuilder),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.domainValidator),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.domainLookupMap),e.schemaInterpolation.semaphoreCollection.isLastFormSpecificationRuleApplicable&&e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.lastFieldGroupBuilder),e.schemaInterpolation.fieldHandler.push(e.schemaInterpolation.fieldGroupActionDisableSemaphore),e.schemaInterpolation.sectionHandler.push(e.schemaInterpolation.additionalElementInsertion),e.schemaInterpolation.sectionHandler.push(e.schemaInterpolation.dirtyElementRemoval),e.schemaInterpolation.sectionHandler.push(e.schemaInterpolation.changeSectionClass),e.schemaInterpolation.executeHandler(e.schemaInterpolation.constructors,a)}}(w,L,m,e,0,0,I,c,l,A,T),function(e,r,i,o,l,s,c,d,u,p,m,f,g,h,v){e.angularSchemaObserver={fieldGroupCollection:[],gridDataSourceCollection:[],instanceMemberCollection:{},notificationEngine:{Grid:{invalidConfig:"Invalid configuration we are not able to process your request. Please contact administrator.",dataSourceLoad:"Something went wrong, we are not able to load data. Please try again later."},notImplemented:"Processor is not implemented. We are not able to process your request.",generalMessage:"Something went wrong, we are not able to process your request. Please try again later."},transactionMode:{Insert:0,Update:1},core:{table:"candidate",field:"uname",onBoarding:{editModeTable:["candidate"],fieldGroupSubmitParams:{scopeMembers:{isOfflineStorage:!1}}}},formStyleHandler:{viewStylesEnum:{none:0,accordion:1,slide:2,modal:3},viewStyle:0,utility:{getGridColumnWidth:function(e){var t={columnSize:0,reminder:0};switch(e){case 1:t.columnSize=e;break;case 2:t.columnSize=6;break;case 3:t.columnSize=4;break;case 4:t.columnSize=3;break;case 5:t.columnSize=2,t.reminder=2;break;case 6:t.columnSize=2;break;default:t.columnSize=1}return t}},progressBar:{enabled:!1,cssClassEnum:{active:"active",disabled:"disabled",complete:"complete"},utility:{defaultClass:"",reminder:0,reminderClass:"",setDefaultClass:function(t){var a=e.angularSchemaObserver.formStyleHandler.utility.getGridColumnWidth(t);e.angularSchemaObserver.formStyleHandler.progressBar.utility.defaultClass="col-md-"+a.columnSize+" col-sm-"+a.columnSize+" col-xs-"+a.columnSize+" bs-wizard-step",e.angularSchemaObserver.formStyleHandler.progressBar.utility.reminder=a.reminder,e.angularSchemaObserver.formStyleHandler.progressBar.utility.reminderClass="col-md-"+a.reminder+" col-sm-"+a.reminder+" col-xs-"+a.reminder}},getStepClass:function(t){var a=e.angularSchemaObserver.getFormByIndex(t-1);return null!==a?e.angularSchemaObserver.formStyleHandler.progressBar.utility.defaultClass+" "+a.formStyle.progressBar.class:e.angularSchemaObserver.formStyleHandler.progressBar.utility.defaultClass+" "+e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.disabled},getReminderClass:function(){return e.angularSchemaObserver.formStyleHandler.progressBar.utility.reminderClass},switchTo:function(t){var a=e.angularSchemaObserver.getFormByIndex(t-1),n=e.angularSchemaObserver.getFieldGroupCollectionLength();if(null!==a&&!0===a.editModel){for(var r=t;r<n-1;r++){e.angularSchemaObserver.getFormByIndex(r).formStyle.progressBar.class=e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.disabled}e.angularSchemaObserver.showFieldGroup(a)}},isFormCompleted:function(t){var a=e.angularSchemaObserver.getFormByIndex(t-1);return null!==a&&(a.formStyle.progressBar.class===e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.complete||a.formStyle.progressBar.class===e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.disabledForComplete)},toggleIndicatorCssClass:function(t){for(var a=t;void 0!==a.nextFieldGroup&&null!==a.nextFieldGroup&&(a.nextFieldGroup.formStyle.progressBar.class=e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.disabled,!1!==a.nextFieldGroup.editModel);)a=a.nextFieldGroup;for(a=t;void 0!==a.previousFieldGroup&&null!==a.previousFieldGroup&&!0===a.previousFieldGroup.editModel;)a.previousFieldGroup.formStyle.progressBar.class=e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.complete,a=a.previousFieldGroup}},grid:{viewStyle:0,utility:{getGridColumnSize:function(t){var a=e.angularSchemaObserver.formStyleHandler.utility.getGridColumnWidth(t);return 0===a.reminder&&a.columnSize--,"col-md-"+a.columnSize+" col-sm-10  col-xs-10"}}},modal:{scrollbarCSSClass:"modal-popup-scroll-container"}}},e.angularSchemaObserver.registerExternalJob=function(t){if(e.angularSchemaObserver.externalJob=t,t.hasOwnProperty("Url")){var a=m.search();if(a)for(var n in a)if("job"!==n&&"link"!==n){var r=d.utilityMethods.mapATSParams(n,t.Url);t.Url=d.utilityMethods.addSingleUrlQueryParam(t.Url,r,a[n])}var i=d.utilityMethods.addDefaultParams(t.Url);if(i)for(var o in i)t.Url=d.utilityMethods.addSingleUrlQueryParam(t.Url,o,i[o])}},e.angularSchemaObserver.notifyOnException=function(t,a,n,i){void 0!==i&&r.error(i),e.angularSchemaObserver.semaphoreCollection.progressBar(t),e.angularSchemaObserver.semaphoreCollection.notificationMessage(a,n)},e.angularSchemaObserver.instantiate=function(t,a,n,r,i,o){this.fieldGroupCollection=[],this.gridDataSourceCollection=[],this.schemaDefinitionCollection=t,this.viewModelProcessor=a,this.semaphoreCollection=n,this.candidateIdSupplier=r,this.candidateParameterSupplier=i,this.lastFormConfirmationHandler=o,e.angularSchemaObserver.formStyleHandler.progressBar.utility.setDefaultClass(t.length)},e.angularSchemaObserver.notifyBlurEventListener=function(t,a){try{var n=i.defer(),r=e.angularSchemaObserver.getBlurEventListener(a)[0];if(void 0!==r&&void 0!==r.blurEventListeners){var o=r[r.blurEventListeners[a].handler];if(void 0!==o)return o(t,a,e.angularSchemaObserver.semaphoreCollection.progressBar,l);n.resolve(0)}else n.resolve(0);return n.promise}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.notImplemented,t)}},e.angularSchemaObserver.getForm=function(t){try{return _.findWhere(this.fieldGroupCollection,{title:t})}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getFormByTable=function(t){try{return _.findWhere(this.fieldGroupCollection,{table:t})}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getAllFormByTable=function(t){try{return _.filter(this.fieldGroupCollection,{table:t})}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getFormByAnyFieldName=function(t){try{for(var a={},n=0;n<this.fieldGroupCollection.length;n++)if(this.fieldGroupCollection[n].fieldNameCollection.indexOf(t)>=0){a.form=this.fieldGroupCollection[n];break}return a}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getFormByIndex=function(t){try{var a=null;return void 0!==this.fieldGroupCollection&&this.fieldGroupCollection.length-1>=t&&(a=this.fieldGroupCollection[t]),void 0===a&&(a=null),a}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getFieldGroupCollectionLength=function(){try{return this.fieldGroupCollection.length}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getBlurEventListener=function(t){try{return _.where(this.fieldGroupCollection,(function(e){return void 0!==e.blurEventListeners&&void 0!==e.blurEventListeners[t]}))}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.isAllFormValid=function(t){var a={form:null,invalidForms:[],returnState:!1};try{for(var n=0;n<this.fieldGroupCollection.length;n++)this.fieldGroupCollection[n].title!==t.title&&(a.form=this.fieldGroupCollection[n],void 0!==a.form.externalComponent?a.returnState=a.form.externalComponent.submitActionSemaphore():!0===a.form.gridEnabled?void 0!==a.form.gridHandler&&(a.returnState=a.form.gridHandler.hasMinimumRowFilled(),!0===a.returnState&&(a.returnState=a.form.gridHandler.hasAllRequiredFields())):a.returnState=a.form.submitActionSemaphore(),!1===a.returnState&&a.invalidForms.push(a.form.title));return a.returnState=0===a.invalidForms.length,!0===a.returnState&&(a.form=null),a}catch(t){a.returnState=!1,e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getTransactionMode=function(t){var a={transactionMode:e.angularSchemaObserver.transactionMode.Insert,returnState:!0};try{if(!0===e.angularSchemaObserver.semaphoreCollection.onBoarding)if(e.angularSchemaObserver.core.onBoarding.editModeTable.indexOf(t.table)>=0)return a.transactionMode=e.angularSchemaObserver.transactionMode.Update,a;var n=e.angularSchemaObserver.getAllFormByTable(t.table);t.tableMap&&angular.forEach(t.tableMap,(function(t){var a=e.angularSchemaObserver.getAllFormByTable(t.name);a.length>0&&angular.forEach(a,(function(e){n[n.length]=e}))}));for(var r=0;r<n.length;r++){var i=n[r];if(i.title!==t.title&&!0===i.editModel){a.transactionMode=e.angularSchemaObserver.transactionMode.Update;break}}return a}catch(t){return a.returnState=!1,e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t),a}},e.angularSchemaObserver.isCustomParserContainsField=function(e,t){var a=_.findWhere(t,{groupBy:"mappedFields"});return!!a&&_.contains(a.fieldCollection,e)},e.angularSchemaObserver.refreshAttachmentList=function(e){d.session.candidate.attachments.set(e)},e.angularSchemaObserver.buildTransactionQueue=function(t,a,n,r){try{if("answers"===a)return;var i,o,l=new s,c=!0,d=null;if(void 0!==t&&angular.isArray(t))for(var u,p=0;p<t.length;p++)u=t[p].fields,angular.isArray(u)&&(d=null,void 0!==(o=e.angularSchemaObserver.viewModelProcessor[t[p].name])&&(d=o.keyField),i="candidate"!==a&&"candidate"===t[p].name?{fieldNameCollection:u,isCandidateIdRequired:t[p].name!==e.angularSchemaObserver.core.table&&"candidate_subscription"!==t[p].name,isUNameRequired:"candidate_subscription"===t[p].name,keyField:d,table:t[p].name,transactionIsolated:c,transactionMode:e.angularSchemaObserver.transactionMode.Update,fieldCustomParserDefinition:e.angularSchemaObserver.structureFieldCustomParserDefinition(t[p].fieldCustomParserDefinition)}:{fieldNameCollection:u,isCandidateIdRequired:t[p].name!==e.angularSchemaObserver.core.table&&"candidate_subscription"!==t[p].name,isUNameRequired:"candidate_subscription"===t[p].name,keyField:d,table:t[p].name,transactionIsolated:c,transactionMode:e.angularSchemaObserver.transactionMode.Insert,fieldCustomParserDefinition:e.angularSchemaObserver.structureFieldCustomParserDefinition(t[p].fieldCustomParserDefinition)},r[t[p].name]={},l.add(angular.copy(i)),c=!1);else void 0!==(o=e.angularSchemaObserver.viewModelProcessor[a])&&(d=o.keyField),i={fieldNameCollection:n,isCandidateIdRequired:a!==e.angularSchemaObserver.core.table,isUNameRequired:"candidate_subscription"===a,keyField:d,table:a,transactionIsolated:c,transactionMode:e.angularSchemaObserver.transactionMode.Insert,fieldCustomParserDefinition:[]},r[a]={},l.add(angular.copy(i));return l}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.structureFieldCustomParserDefinition=function(e){if(void 0!==e){for(var t=_.pluck(e,"mappedFields"),a=[],n=0;n<t.length;n++)void 0!==t[n]&&(a=_.uniq(a.concat(t[n])));e.push({groupBy:"mappedFields",fieldCollection:a})}return e},e.angularSchemaObserver.registerNgModel=function(t){try{var a=e.angularSchemaObserver.getFormByAnyFieldName(t.$name);void 0!==a.form&&(a.form.currentFieldGroup=t.$$parentForm)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.registerExternalValidator=function(t,a){try{var n=e.angularSchemaObserver.getFormByIndex(parseInt(a));void 0!==n&&n.registerExternalValidator(t)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!1,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.registerForm=function(t){try{if(void 0===e.angularSchemaObserver.getForm(t.title)){t.nextFieldGroup=null,t.previousFieldGroup=null;var a=e.angularSchemaObserver.fieldGroupCollection;if(t.transactionQueue=e.angularSchemaObserver.buildTransactionQueue(t.tableMap,t.table,t.fieldNameCollection,t.programmaticModel),t.getNextTransaction(),t.editModel=!1,t.customValidation=!1,t.isSingleForm=1===e.angularSchemaObserver.schemaDefinitionCollection.length,t.deletedPreviousRecord=null,void 0!==t.isPartialSave&&!0===t.isPartialSave&&e.angularSchemaObserver.resetModelState(t),a.push(t),a.length>1){var n=a[a.length-2];n.nextFieldGroup=t,t.previousFieldGroup=n}else 1===a.length&&(t.blurEventListeners={uname:{handler:_XC_CONFIG.HRL_integration_enabled?["checkSsnUname"]:["uNameOnBlur"]},zip:{handler:["setZeoCode"]},ssn:{handler:_XC_CONFIG.HRL_integration_enabled?["checkSsnUname"]:null},ssn_confirm:{handler:_XC_CONFIG.HRL_integration_enabled?["checkSsnUname"]:null}},t.hide=!1,e.angularSchemaObserver.onFormActive(t))}e.angularSchemaObserver.schemaDefinitionCollection.length===e.angularSchemaObserver.fieldGroupCollection.length&&(e.angularSchemaObserver.viewModelProcessor.globalConstructor.initialize(),e.angularSchemaObserver.fieldGroupCollection[0].populateForm(e.angularSchemaObserver.onPreLoadComplete),!0===_XC_CONFIG.form_naming_enabled&&e.angularSchemaObserver.setFormURLVariable(e.angularSchemaObserver.fieldGroupCollection[0]))}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.registerGrid=function(t){try{var a="";t.loadFromResume=!0;var n=e.angularSchemaObserver.getForm(t.parentFormTitle);if(void 0===n||void 0===n.gridConfiguration)return a="",void 0!==n&&(a+=n.parentFormTitle+":"),a+=e.angularSchemaObserver.notificationEngine.Grid.invalidConfig,void e.schemaInterpolation.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.Grid.invalidConfig,a);var r=e.angularSchemaObserver.viewModelProcessor[t.table].registerGridConfiguration;void 0!==r?(t.modelHandler=r(n.gridConfiguration,n.fieldDefinition),t.parent=n,n.gridHandler=t):(a=n.parentFormTitle+":"+e.angularSchemaObserver.notificationEngine.notImplemented,e.schemaInterpolation.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.notImplemented,a))}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.registerExternalComponent=function(t){try{var a=e.angularSchemaObserver.getFormByTable(t.table);void 0!==a&&(t.angularSchemaFormContainer=a,a.externalComponent=t)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.unRegisterExternalComponent=function(t){var a=e.angularSchemaObserver.getFormByTable(t.table);void 0!==a&&(a.isShowComponent=!1,delete a.externalComponent,a.previousFieldGroup.nextFieldGroup=a.nextFieldGroup)},e.angularSchemaObserver.notifyOnAction=function(t,a){try{switch(a.transactionMode){case e.angularSchemaObserver.transactionMode.Insert:e.angularSchemaObserver.createHandler(t,a);break;case e.angularSchemaObserver.transactionMode.Update:e.angularSchemaObserver.updateHandler(t,a)}}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.hideNextForm=function(t){try{var a=d.session.candidate.hiddenFieldGroups.get()?d.session.candidate.hiddenFieldGroups.get():[];if(a.length>0)for(var n=0;n<a.length;n++)a[n]===t.nextFieldGroup.title&&a.splice(n,1);a.push(t.nextFieldGroup.title),d.session.candidate.hiddenFieldGroups.set(a)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.removeHiddenNextForm=function(t){try{var a=d.session.candidate.hiddenFieldGroups.get()?d.session.candidate.hiddenFieldGroups.get():[];if(a.length>0)for(var n=0;n<a.length;n++)a[n]===t.nextFieldGroup.title&&a.splice(n,1);d.session.candidate.hiddenFieldGroups.set(a)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.createDynamicQuesObj=function(e,t){a=[];var r,i=[];t.attachmentId&&delete t.attachmentId,null!==f.get("attacmentObject")&&void 0!==f.get("attacmentObject")&&(t.attachments=f.get("attacmentObject"));for(var o=0;o<e.length;o++)if("titleMap"in e[o]){for(var l=0;l<e[o].titleMap.length;l++)"$$hashKey"in e[o].titleMap[l]&&delete e[o].titleMap[l].$$hashKey;i.push({key:e[o].key.join(""),titleMap:e[o].titleMap})}for(var s in t)s&&(r=t[s],Array.isArray(r)?"attachments"===s?r.forEach((function(e){a.push(c(null,e.key,e.attachmentids))})):r.forEach((function(e){a.push(c(e,s,null))})):"object"===n(r)&&null!==r?Array.isArray(r.attachmentids)&&r.attachmentids.forEach((function(e){a.push(c(null,r.key,e))})):a.push(c(r,s,null)));function c(e,t,a){var n={generalOptionId:e,answer:"true",generalQuestionsId:t,attachmentId:null};a&&(n.attachmentId=a);var r=i.find((function(e){if(e.key===t)return e}));if(r){var o=r.titleMap.find((function(t){if(t.value===e)return t}));o&&(n.answer=o.name)}else n.answer=e,n.generalOptionId=null;return n}},e.angularSchemaObserver.retrieveDynamicQuesObj=function(e,t){return e&&t&&0!=a.length?a.map((function(a){var n=Object.assign({},a);return n.candidateId=e,n.requisitionId=t,Object.keys(n).forEach((function(e){n[e]&&"answer"!=e&&(n[e]=1*n[e])})),n})):null},e.angularSchemaObserver.notifyOnRetrieve=function(t,a,n){try{var r=e.angularSchemaObserver.viewModelProcessor[a.table];void 0!==r&&r.retrieve(t,e.angularSchemaObserver.loadModel,n)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.createHandler=function(t,a){try{if(!1===e.angularSchemaObserver.hasRowCapacity(t))return void e.angularSchemaObserver.semaphoreCollection.progressBar(!1);var n=e.angularSchemaObserver.viewModelProcessor[a.table];void 0!==n?n.submit(t,a):e.angularSchemaObserver.viewModelProcessor.baseHelper.submit(t,a)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.updateHandler=function(t,a){try{var n=e.angularSchemaObserver.viewModelProcessor[a.table];void 0!==n?n.update(t,a):e.angularSchemaObserver.viewModelProcessor.baseHelper.update(t,a)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.resetModelHandler=function(t,a){try{e.angularSchemaObserver.viewModelProcessor.baseHelper.gridFormHandler.resetFormModel(t)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.onFormActive=function(t){try{var a=d.session.candidate.get();if(a){var n=!1;if(t.tableMap&&angular.forEach(t.tableMap,(function(e){"attachment"===e.name&&(n=!0)})),"attachment"===t.table||!0===n){var o=i.defer();if(e.activeForm=t,t.form[1].XCloudDefinition.attachmentType||(t.form[1].XCloudDefinition.attachmentType="Document"),t.form[1].XCloudDefinition.isAttachmentRequired||(t.form[1].XCloudDefinition.isAttachmentRequired=!1),u.$broadcast(BROAD_CAST_NAMESPACE.UNUPLOADED_ATTACHMENT_CLEAR),d.session.candidate.attachments.get()){var l=d.session.candidate.attachments.get();if(l&&l.length>0){var s=!1;if(l.length>0&&"All"===t.form[1].XCloudDefinition.attachmentType)s=!0;else _.filter(l,(function(e){e.attachmentType.toLowerCase()===t.form[1].XCloudDefinition.attachmentType.toLowerCase()&&(s=!0)}));!0===s?u.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,{},!0):u.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,{},!1)}}else jQuery(".loading-container").css("display","block"),p.getCandidateAttachments({candidateId:a.candidateId}).$promise.then((function(e){var a=e=normalizeObjects(e);d.session.candidate.attachments.set(e);var n=!1;if(a.length>0&&"All"===t.form[1].XCloudDefinition.attachmentType)n=!0;else _.filter(a,(function(e){e.attachmentType.toLowerCase()===t.form[1].XCloudDefinition.attachmentType.toLowerCase()&&(n=!0)}));return!0===n?u.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,{},!0):u.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,{},!1),jQuery(".loading-container").css("display","none"),o.resolve(e)}),(function(e){r.error(e),jQuery(".loading-container").css("display","none"),o.reject(e)}))}}e.angularSchemaObserver.formStyleHandler.progressBar.toggleIndicatorCssClass(t),t.formStyle.progressBar.class=e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.active,e.angularSchemaObserver.activeForm=t,!0===_XC_CONFIG.form_naming_enabled&&e.angularSchemaObserver.setFormURLVariable(t),void 0!==t.replicate&&!0===t.replicate&&e.angularSchemaObserver.replicateModel({table:t.table,editModel:!0},t.indexOfForm,t.fieldNameCollection,t.model),t.setKeyElementFocus(),t.onFormActive()}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.DashboardUpdateAllFormData=function(t,a){try{if(5===e.angularSchemaObserver.formStyleHandler.viewStyle){e.angularSchemaObserver.replicateModel({table:t.table},t.indexOfForm,t.fieldNameCollection,t.model,!0);var n=d.session.candidate.get();if(n){var r={candidateId:n.candidateId,contextType:"candidate",type:"summary",status:"created",activityData:"Your Talent Profile is updated on [created_datetime]. <a href='/profile/edit' class='action'>View Profile »</a>".toString(),createdDatetime:(new Date).getTime()};p.addCandidateActivity(r).$promise.then((function(e){u.$broadcast(BROAD_CAST_NAMESPACE.GET_CANDIDATE_ACTIVITY,!0,n)}),(function(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}))}}}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},!0===_XC_CONFIG.form_naming_enabled&&(e.angularSchemaObserver.setFormURLVariable=function(e){e.onFormActive(c.current.URLVariable())});e.angularSchemaObserver.onFormLostFocus=function(t){try{t.hide=!0}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.onFormComplete=function(t){try{t.editModel=!0,t.formStyle.progressBar.class=e.angularSchemaObserver.formStyleHandler.progressBar.cssClassEnum.complete}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.showFieldGroup=function(t,a){try{if(!0===e.angularSchemaObserver.activeForm.semaphoreForSenderForm?t.semaphoreForSenderForm=!0:t.indexOfForm<e.angularSchemaObserver.activeForm.indexOfForm?(e.angularSchemaObserver.senderForm=e.angularSchemaObserver.activeForm,t.semaphoreForSenderForm=void 0===a||a):(t.semaphoreForSenderForm=!1,e.angularSchemaObserver.activeForm.semaphoreForSenderForm=!1),e.angularSchemaObserver.onFormLostFocus(e.angularSchemaObserver.activeForm),!0===t.form[1].XCloudDefinition.hideCurrentForm){var n=d.session.candidate.hiddenFieldGroups.get();if(null!=n&&n.length>0)for(var r=0;r<n.length;r++)if(n[r]===t.title){t=t.previousFieldGroup;break}}t.hide=!1,e.angularSchemaObserver.onFormActive(t),t.gridEnabled&&e.angularSchemaObserver.externalDataSourcePreLoad(t)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.offlineSave=function(t){var a=i.defer();if(!1===e.angularSchemaObserver.hasMinimumRowFilled(t))return a.resolve(0),e.angularSchemaObserver.semaphoreCollection.progressBar(!1),a.promise;var n=[];if(angular.forEach(t.tableMap,(function(e){"candidate"===e.name?n.push({table:e.name,transaction:1}):n.push({table:e.name,transaction:0})})),void 0===d.inMemoryStorage.onboarding.tableCollection)d.inMemoryStorage.onboarding.tableCollection=[],d.inMemoryStorage.onboarding.tableCollection=n;else{var r=_.filter(n,(function(e){return!_.findWhere(d.inMemoryStorage.onboarding.tableCollection,e)}));if(r.length>0)for(var o in r)d.inMemoryStorage.onboarding.tableCollection.push(r[o])}for(var l=t.initiateTransaction();null!==l;){for(var o in d.inMemoryStorage.onboarding.tableCollection)d.inMemoryStorage.onboarding.tableCollection[o].table===l.table&&(l.transactionMode=d.inMemoryStorage.onboarding.tableCollection[o].transaction);if(!0!==t.isLastForm)if(!0!==t.gridEnabled&&e.angularSchemaObserver.notifyOnAction(t,l),void 0!==t.nextFieldGroup){if(!0===t.form[1].XCloudDefinition.dependantNextForm)var s=u.customValidation;var c={};if(!0===t.form[1].XCloudDefinition.hideNextForm){var p=d.session.candidate.hiddenFieldGroups.get();if(null!=p&&p.length>0&&!0===t.nextFieldGroup.form[1].XCloudDefinition.hideCurrentForm)for(o=0;o<p.length;o++){if(p[o]===t.nextFieldGroup.title){c=t.nextFieldGroup.nextFieldGroup;break}c=t.nextFieldGroup}else c=t.nextFieldGroup}else c=t.nextFieldGroup;c.customValidation=s,e.angularSchemaObserver.onFormLostFocus(t),c.hide=!1,e.angularSchemaObserver.onFormActive(c),a.resolve(0)}else e.angularSchemaObserver.semaphoreCollection.progressBar(!1),a.resolve(0);else{if(!0!==t.gridEnabled&&(e.angularSchemaObserver.notifyOnAction(t,l),null!==(l=t.getNextTransaction())))continue;void 0!==e.angularSchemaObserver.lastFormConfirmationHandler?(e.angularSchemaObserver.semaphoreCollection.progressBar(!1),e.angularSchemaObserver.lastFormConfirmationHandler(e.angularSchemaObserver.finalSubmit,t)):e.angularSchemaObserver.finalSubmit(t),a.resolve(0)}null!==l&&(l=t.getNextTransaction())}return a.promise},e.angularSchemaObserver.finalSubmit=function(a,n){try{void 0!==n?a.finalSubmitCallBack=n:delete a.finalSubmitCallBack;var r=d.inMemoryStorage.onboarding.tableCollection;a.isOfflineStorage=!1;var i=a.initiateTransaction();for(t in r)i.table=r[t].table,i.transactionMode=r[t].transaction,e.angularSchemaObserver.notifyOnAction(a,i)}catch(t){angular.forEach(e.angularSchemaObserver.fieldGroupCollection,(function(e){e.isOfflineStorage=!0})),e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.updateOnboardingCompletionStatus=function(e,t,a){var n=d.inMemoryStorage.onboarding.tableCollection.map((function(e){return e.table})).indexOf(e);if(d.inMemoryStorage.onboarding.tableCollection.splice(n,1),0===d.inMemoryStorage.onboarding.tableCollection.length){t.status="Completed";var r=new Date,i=r.getMonth()+1,o=r.getDate(),l=r.getFullYear();r=i+"-"+o+"-"+l,t.dueDate=r,a()}},e.angularSchemaObserver.showNextFieldGroup=function(t){try{var a=i.defer();if(u.uploadValidationCheck=!1,!1===e.angularSchemaObserver.hasMinimumRowFilled(t))return a.resolve(0),e.angularSchemaObserver.semaphoreCollection.progressBar(!1),a.promise;t.onTransactionSuccess();var n=t.getNextTransaction();if(null===n&&void 0===t.onCompleteHandler)if(u.isNewUser&&t.isFirstForm){var o=g.get("isWorkFlowTriggered");o&&void 0===o.$$state.value?p.startCreateCandidateWorkflow({streamId:d.getActiveStreamId()},d.session.candidate.get()).$promise.then((function(a){g.set("isWorkFlowTriggered",!0),e.angularSchemaObserver.getFolderData(!0,!0).then((function(a){e.angularSchemaObserver.isLastFormCheck(t)}))}),(function(e){r.error(e)})):e.angularSchemaObserver.getFolderData(!1).then((function(a){e.angularSchemaObserver.isLastFormCheck(t)}))}else e.angularSchemaObserver.isLastFormCheck(t);else e.angularSchemaObserver.onFormComplete(t),null===n?e.angularSchemaObserver.getFolderData(!0,!0).then((function(e){t.onCompleteHandler(t)})):e.angularSchemaObserver.notifyOnAction(t,n)}catch(t){if(_XC_CONFIG.application_logs.enable_candidate_flow_logs){var l="seq 5: error: "+t.message;v.setErrorLog({error_module:"CandidateCreationFlow",error:l,comment:"Candidate Log: "})}e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.isLastFormCheck=function(t){var a=i.defer();if(!0!==t.isLastForm){var n;if(e.angularSchemaObserver.onFormComplete(t),!0!==t.isPartialSave){if(e.angularSchemaObserver.onFormLostFocus(t),t.uNameEditable=!t.editModel,void 0!==t.nextFieldGroup){var o=d.session.candidate.hiddenFieldGroups.get();if(null!=o&&o.length>0&&!0===t.nextFieldGroup.form[1].XCloudDefinition.hideCurrentForm)for(var l=0;l<o.length;l++){if(o[l]===t.nextFieldGroup.title){n=t.nextFieldGroup.nextFieldGroup;break}n=t.nextFieldGroup}else n=t.nextFieldGroup;return n.gridEnabled?e.angularSchemaObserver.externalDataSourcePreLoad(n):e.angularSchemaObserver.semaphoreCollection.progressBar(!1),n.hide=!1,e.angularSchemaObserver.onFormActive(n),e.angularSchemaObserver.DashboardUpdateAllFormData(t,n),a.resolve(0),a.promise}return e.angularSchemaObserver.semaphoreCollection.progressBar(!1),a.resolve(0),a.promise}return void 0!==(n=t.nextFieldGroup)&&n.programmaticSubmit(e.angularSchemaObserver.core.onBoarding.fieldGroupSubmitParams),a.resolve(0),a.promise}try{return void 0!==t.isPartialSave&&void 0!==t.isOfflineStorage&&!1!==t.isPartialSave&&!0!==t.isOfflineStorage?(e.angularSchemaObserver.semaphoreCollection.progressBar(!1),void 0!==t.finalSubmitCallBack&&t.finalSubmitCallBack({result:{parentId:t.parentId,headIndex:t.headIndex,hasSuccess:!0}}),a.resolve(0),a.promise):e.angularSchemaObserver.viewModelProcessor.baseHelper.lastFormHandler(t)}catch(t){r.error(t),a.reject(t),e.angularSchemaObserver.semaphoreCollection.progressBar(!1)}},e.angularSchemaObserver.getFolderData=function(t,a){var n=i.defer(),o=d.session.candidate.get(),l=function(t,a){var n={};if(t){var r=[],i=e.angularSchemaObserver.schemaDefinitionCollection[0].formDefinition[1].XCloudDefinition.folderId;null!=i&&a.candidateId&&(angular.isArray(i)?angular.forEach(i,(function(e){null!=e&&r.push(parseInt(e))})):r.push(parseInt(i)),n.destinationList=r)}return _XC_CONFIG.landing_page&&_XC_CONFIG.landing_page.folder_id&&a.candidateId&&(n.destinationList=n.destinationList||[],n.destinationList.push(parseInt(_XC_CONFIG.landing_page.folder_id))),n}(t,o);return l&&l.hasOwnProperty("destinationList")?function(e,t,a){e.hasOwnProperty("destinationList")?(e.candidateList=[parseInt(t.candidateId)],h.addCandidateToFolder(e).$promise.then((function(e){u.$broadcast("updateCandAfterAddFolder"),a.resolve(0),jQuery(".loader").css("display","none")}),(function(e){r.error(e),a.reject(0)}))):a.resolve(0)}(l,o,n):function(t,a,n){d.getAddToJobFolderDetails()&&t&&!CWS.enhancedSourceTracking.isEnhancedSourceTrackingActive()?(e.candidateHelper.captureNonAtsLead(d.getAddToJobFolderDetails(),a.candidateId).then((function(e){n.resolve(0),jQuery(".loader").css("display","none")})).catch((function(e){n.resolve(0),$scope.globalProgressBarHandler(!1)})),d.resetJobFolderDetails()):n.resolve(0)}(a,o,n),n.promise},e.angularSchemaObserver.editRow=function(t,a){try{var n=e.angularSchemaObserver.getForm(t.parentFormTitle);n.hideForm=!1,o((function(a,n){n.initiateTransaction(),e.angularSchemaObserver.viewParser(n.filter.getFieldParserDefinition(),n.filter.getFieldCollection(),n.fieldLookUpCollection,n.model,a,t.modelHandler)}),0,!0,a,n)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.deleteRow=function(t,a){try{var n=e.angularSchemaObserver.getForm(t.parentFormTitle);e.angularSchemaObserver.viewModelProcessor[t.table].delete(n,a)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.hasMinimumRowFilled=function(t){try{return!0!==t.gridEnabled||t.gridHandler.hasMinimumRowFilled()}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.hasRowCapacity=function(t){try{return!0!==t.gridEnabled||t.gridHandler.hasRowCapacity()}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.onPreLoadComplete=function(t){try{delete t.onPreLoadComplete,angular.forEach(e.angularSchemaObserver.fieldGroupCollection,(function(t){if(t.table!==e.angularSchemaObserver.core.table){var a=e.angularSchemaObserver.viewModelProcessor[t.table];void 0!==a?void 0!==a.initialize&&(t.gridEnabled?a.initialize(t,e.angularSchemaObserver.dataSourceLoader):a.initialize(t,e.angularSchemaObserver.loadModel)):e.angularSchemaObserver.viewModelProcessor.baseHelper.initialize()}})),t.setKeyElementFocus(),e.angularSchemaObserver.semaphoreCollection.startup&&e.angularSchemaObserver.semaphoreCollection.startup.openGDPR&&e.angularSchemaObserver.semaphoreCollection.startup.openGDPR()}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.loadModel=function(t,a,n,r,i,o){try{angular.isArray(t)&&(t=t.length>0?t[0]:null);var l=a.getCurrentTransaction();if(l&&!0===l.transactionIsolated)for(var s=_.filter(e.angularSchemaObserver.fieldGroupCollection,{table:a.table}),c=0;c<s.length;c++){var d=s[c];null===d.getCurrentTransaction()&&d.initiateTransaction(),d.editModel=void 0===n||n,d.uNameEditable=void 0!==r?r:!d.editModel,e.angularSchemaObserver.modelParser(t,d,i,o)}else e.angularSchemaObserver.modelParser(t,a,i,o)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.modelParser=function(t,a,n,r){try{null!=t&&"socialSite"!==r&&"resume"!==r&&a.onTransactionSuccess(),o((function(t,a){var i=a.getCurrentTransaction();null!=t&&e.angularSchemaObserver.databaseToModelConverter(a.filter.getFieldCustomParserDefinition(),a.filter.getFieldParserDefinition(),a.filter.getFieldCollection(),a.fieldLookUpCollection,a.model,t,i);var o=a.getNextTransaction();null===o?(!0===a.isFirstForm&&void 0!==n&&!0===n&&a.validateForm(!0),void 0!==a.onPreLoadComplete&&a.onPreLoadComplete(a)):e.angularSchemaObserver.notifyOnRetrieve(a,o,r)}),500,!0,t,a)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.dataSourceLoader=function(t,a){try{if(null!==t){a.editModel=!0;var n=[];angular.forEach(t,(function(t){var r={};e.angularSchemaObserver.databaseToModelConverter(a.filter.getFieldCustomParserDefinition(),a.filter.getFieldParserDefinition(),a.filter.getFieldCollection(),a.fieldLookUpCollection,r,t,void 0,!0,a.gridHandler.modelHandler),n.push(r)})),a.gridHandler.mandatoryFieldCollection=a.mandatoryFieldCollection,a.gridHandler.setDataSource(n,a.table),e.angularSchemaObserver.saveModelState(a)}}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.replicateModel=function(t,a,n,r,i){try{var o=_.filter(e.angularSchemaObserver.fieldGroupCollection,t);angular.forEach(o,(function(e){void 0!==i&&i?e.indexOfForm!==a&&(r=angular.merge(e.model,_.pick(r,n))):e.indexOfForm<a&&(r=angular.merge(r,_.pick(e.model,n)))}))}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.notImplemented,t)}},e.angularSchemaObserver.notifyExternalDataSourceLoader=function(t){try{e.angularSchemaObserver.fieldGroupCollection[0].initiateTransaction(),e.angularSchemaObserver.fieldGroupCollection[0].currentForm=e.angularSchemaObserver.fieldGroupCollection[0].ngForm,e.angularSchemaObserver.externalDataSourcePreLoad(e.angularSchemaObserver.fieldGroupCollection[0],t)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.pushExternalData=function(t){try{if(void 0!==t&&void 0!==t.key&&void 0!==t.data){var a=e.angularSchemaObserver.getExternalDataSource(t.key,t.identity);if(void 0!==a.source){var n={data:t.data};a.source=angular.extend(a.source,n)}}}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getExternalDataSource=function(t,a){try{var n=e.angularSchemaObserver.viewModelProcessor[t],r={modelProcessor:n};return void 0!==n&&void 0!==n.externalDataSourceCollection&&(r.source=n.externalDataSourceCollection[a]),r}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getPrimaryExternalDataSource=function(t){try{return t[t.primary.identity]}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.getSecondaryExternalDataSource=function(t){try{return t[t.secondary.identity]}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.externalDataSourcePreLoad=function(t,a,n){try{if(angular.isArray(t.table)){var r=!1;angular.forEach(t.table,(function(i){if(!r){var o=e.angularSchemaObserver.getExternalDataSource(i,a);void 0!==o.source&&void 0!==o.source.data&&o.source.data.hasOwnProperty("uname")&&(void 0!==o.source.data.uname&&null!==o.source.data.uname||(e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.withoutEmailID),r=!0)),r||void 0!==o.modelProcessor&&(!0!==t.gridEnabled?void 0!==o.source.data&&e.angularSchemaObserver.loadModel(o.source.data,t,t.editModel,"socialSite"!==a&&t.uNameEditable,!0,a):("dashboard"===n&&0===t.gridHandler.modelHandler.rowCollection.length&&void 0!==o.modelProcessor.externalDataInsertion&&(t.gridHandler.loadFromResume=!0),0===t.gridHandler.modelHandler.rowCollection.length&&!1!==t.gridHandler.loadFromResume&&void 0!==o.modelProcessor.externalDataInsertion&&o.modelProcessor.externalDataInsertion(t)))}}))}else{var i=e.angularSchemaObserver.getExternalDataSource(t.table,a);r=!1;void 0!==i.source&&void 0!==i.source.data&&i.source.data.hasOwnProperty("uname")&&(void 0!==i.source.data.uname&&null!==i.source.data.uname||(e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.withoutEmailID),r=!0)),r||void 0!==i.modelProcessor&&(!0!==t.gridEnabled?e.angularSchemaObserver.loadModel(i.source.data,t,t.editModel,"socialSite"!==a&&t.uNameEditable,!0,a):("dashboard"===n&&0===t.gridHandler.modelHandler.rowCollection.length&&void 0!==i.modelProcessor.externalDataInsertion&&(t.gridHandler.loadFromResume=!0),0===t.gridHandler.modelHandler.rowCollection.length&&!1!==t.gridHandler.loadFromResume&&void 0!==i.modelProcessor.externalDataInsertion&&i.modelProcessor.externalDataInsertion(t)))}}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.programmaticDataSourceInsertion=function(t){try{var a=e.angularSchemaObserver.viewModelProcessor[t.table];void 0!==a&&!0===t.gridEnabled&&t.gridHandler.modelHandler.rowCollection.length>0&&void 0!==a.externalDataInsertion&&a.externalDataInsertion(t)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.externalDataSourceModelReset=function(){try{var t=e.angularSchemaObserver.fieldGroupCollection[0];void 0!==t&&t.fieldNameCollection.indexOf(e.angularSchemaObserver.core.field)>=0&&(t.model={})}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.saveModelState=function(e){e.previousModelState=angular.copy(e.model),e.gridEnabled&&(e.previousModelRowCollectionState=angular.copy(e.rowCollection))},e.angularSchemaObserver.saveModelStateForAll=function(){angular.forEach(e.angularSchemaObserver.fieldGroupCollection,(function(e){e.previousModelState=angular.copy(e.model),e.gridEnabled&&(e.previousModelRowCollectionState=angular.copy(e.rowCollection))}))},e.angularSchemaObserver.restoreModelState=function(){angular.forEach(e.angularSchemaObserver.fieldGroupCollection,(function(e){e.model=angular.copy(e.previousModelState),e.gridEnabled&&(e.rowCollection=angular.copy(e.previousModelRowCollectionState))}))},e.angularSchemaObserver.resetModelState=function(e){e.hide=!0,e.model={},e.gridEnabled&&(e.rowCollection=[])},e.angularSchemaObserver.mergeModel=function(e,t){e=angular.merge(e,t)},e.angularSchemaObserver.multipleFormToSingleColumnMapping=function(t,a,n,r){var i=r.session.candidate.get(),o={},l=t.filter.getFieldCustomParserDefinition();if(void 0!==l)for(var s=0;s<l.length;s++){var c=l[s];if(c.hasOwnProperty("mappedFields")){var d=c.field;if(void 0!==i[d]?(o[d]=angular.fromJson(i[d]),o[d]||(o[d]={})):o[d]={},0!==c.mappedFields.length){for(var u=0;u<c.mappedFields.length;u++){var p=c.mappedFields[u];void 0!==c.parser?a.hasOwnProperty(p)&&(o[d][p]=a[p],delete a[p]):delete a[p]}var m=e.angularSchemaObserver.viewModelProcessor.fieldParser[c.parser];void 0!==m&&(a[c.field]=m[n](o[c.field]))}}}},e.angularSchemaObserver.singleColumnToMultipleFormMapping=function(t,a,n,r){if(null!=t)for(var i=0;i<t.length;i++){var o,l=t[i],s=l.field,c={};if("multiselectDropdownParser"===l.parser)s===a&&(c=(o=e.angularSchemaObserver.viewModelProcessor.fieldParser[l.parser])[r](n[s]),n[a]=c,u.$broadcast(BROAD_CAST_NAMESPACE.SCHEMA_UI_SELECT_NGMODEL_PROPAGATION,n[a],a));else if("customfieldMultiSelectParser"===l.parser)s===a&&(c=(o=e.angularSchemaObserver.viewModelProcessor.fieldParser[l.parser])[r](n[s]),n[a]=c,u.$broadcast(BROAD_CAST_NAMESPACE.SCHEMA_MULTISELECT_DROPDOWN_NGMODEL_PROPAGATION,n[a],a));else if("multiCheckBoxParser"===l.parser)s===a&&(c=(o=e.angularSchemaObserver.viewModelProcessor.fieldParser[l.parser])[r](n[s]),n[a]=c);else if("areaOfInterestList"==a&&"fromDB"==r)u.$broadcast(BROAD_CAST_NAMESPACE.SCHEMA_UI_SELECT_NGMODEL_PROPAGATION,n[a],a);else if(void 0!==l.mappedFields&&null!==l.mappedFields&&void 0!==n[s])for(var d=l.mappedFields,p=0;p<d.length;p++)a===d[p]&&void 0!==(o=e.angularSchemaObserver.viewModelProcessor.fieldParser[l.parser])&&(c=o[r](n[s]),n[a]=c[a],e.angularSchemaObserver.activeForm.$broadcast(BROAD_CAST_NAMESPACE.SCHEMA_UI_SELECT_NGMODEL_PROPAGATION,n[a],a))}},e.angularSchemaObserver.performFieldCustomParser=function(t,a,n,r){if(void 0!==t){var i=_.filter(t,{field:a});if(void 0!==i&&i.length>0){var o=e.angularSchemaObserver.viewModelProcessor.fieldParser[i[0].parser];return void 0!==o?o[r](n):n}return n}return n},e.angularSchemaObserver.databaseToModelConverter=function(t,a,n,r,i,o,l,s,c){try{var d=angular.copy(o);angular.forEach(n,(function(n){if(void 0!==d[n]||e.angularSchemaObserver.isCustomParserContainsField(n,t)){if(d[n]=e.angularSchemaObserver.viewModelProcessor.fieldParser.null.defaults(d[n]),void 0===s||!0===s){void 0!==c&&(d[n]=e.angularSchemaObserver.viewModelProcessor.fieldParser.list.getDisplayText(r,n,d[n]));var o=e.angularSchemaObserver.viewModelProcessor.fieldParser[n];if(void 0===o){var l=a.dateFields.indexOf(n);l>=0?o=e.angularSchemaObserver.viewModelProcessor.fieldParser.genericDateParser:(l=a.booleanFields.indexOf(n))>=0&&(o=e.angularSchemaObserver.viewModelProcessor.fieldParser.booleanParser)}void 0!==o&&(d[n]=o.displayParser(d[n],void 0!==c))}e.angularSchemaObserver.singleColumnToMultipleFormMapping(t,n,d,"fromDB"),d[n]=e.angularSchemaObserver.performFieldCustomParser(t,n,d[n],"fromDB"),(void 0===i[n]||void 0!==d[n]&&(null===d[n]||d[n].length>0||d[n])&&i[n]!==d[n])&&(i=angular.extend(i,_.pick(d,n)))}})),void 0!==c?(i=angular.merge(i,_.pick(d,c.keyField)),void 0!==c.additionalKeyFieldCollection&&c.additionalKeyFieldCollection.length>0&&(i=angular.merge(i,_.pick(d,c.additionalKeyFieldCollection)))):(null===l&&((l={}).keyField=null),i=angular.merge(i,_.pick(d,l.keyField)))}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.viewParser=function(t,a,n,r,i,o){try{var l=angular.copy(i);angular.forEach(a,(function(a){l[a]=e.angularSchemaObserver.viewModelProcessor.fieldParser.list.getDisplayValue(n,a,l[a]);var i=e.angularSchemaObserver.viewModelProcessor.fieldParser[a];if(void 0===i){var o=t.dateFields.indexOf(a);o>=0?i=e.angularSchemaObserver.viewModelProcessor.fieldParser.genericDateParser:(o=t.booleanFields.indexOf(a))>=0&&(i=e.angularSchemaObserver.viewModelProcessor.fieldParser.booleanParser)}void 0!==i&&(l[a]=i.viewParser(l[a])),r=angular.extend(r,_.pick(l,a))})),void 0!==o&&(r=angular.merge(r,_.pick(l,o.keyField)),void 0!==o.additionalKeyFieldCollection&&o.additionalKeyFieldCollection.length>0&&(r=angular.merge(r,_.pick(l,o.additionalKeyFieldCollection))))}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}},e.angularSchemaObserver.modelToDatabaseConverter=function(t,a,n){try{var r=t.filter.getModel();angular.forEach(t.filter.getFieldCollection(),(function(i){if(r[i]=e.angularSchemaObserver.performFieldCustomParser(t.filter.getFieldCustomParserDefinition(),i,r[i],"toDB"),void 0===n||!0===n){var o=e.angularSchemaObserver.viewModelProcessor.fieldParser[i];if(void 0===o){var l=t.filter.getFieldParserDefinition().dateFields.indexOf(i);l>=0?o=e.angularSchemaObserver.viewModelProcessor.fieldParser.genericDateParser:(l=t.filter.getFieldParserDefinition().booleanFields.indexOf(i))>=0&&(o=e.angularSchemaObserver.viewModelProcessor.fieldParser.booleanParser)}void 0!==o&&(r[i]=o.databaseParser(r[i]))}a=angular.merge(a,_.pick(r,i))}));var i=t.getCurrentTransaction();i.isCandidateIdRequired&&(a.candidateId=e.angularSchemaObserver.candidateIdSupplier()),i.isUNameRequired&&(a.email=e.angularSchemaObserver.candidateParameterSupplier("email")),i.transactionMode===e.angularSchemaObserver.transactionMode.Update&&(a=angular.merge(a,_.pick(r,i.keyField))),t.gridEnabled&&(a=angular.merge(a,_.pick(r,t.gridHandler.modelHandler.keyField)),void 0!==t.gridHandler.modelHandler.additionalKeyFieldCollection&&t.gridHandler.modelHandler.additionalKeyFieldCollection.length>0&&(a=angular.merge(a,_.pick(r,t.gridHandler.modelHandler.additionalKeyFieldCollection)),!0!==t.isOfflineStorage&&void 0===a.candidateId&&t.gridHandler.modelHandler.additionalKeyFieldCollection.indexOf("candidateId")>-1&&(a.candidateId=e.angularSchemaObserver.candidateIdSupplier()))),t.extendModelProgrammatically(a),e.angularSchemaObserver.multipleFormToSingleColumnMapping(t,a,"toDB",d),3===t.viewStyle&&t.isOnboardingForm&&t.hasOwnProperty("parentId")&&(a.onboardingFormId=t.parentId)}catch(t){e.angularSchemaObserver.notifyOnException(!1,!0,e.angularSchemaObserver.notificationEngine.generalMessage,t)}}}(w,L,e,d,p,g,T,A,l,b,c,O,h,S,N),function(e){e.onClickActionButton=function(){return $([document.documentElement,document.body]).animate({scrollTop:$("#candidatePoolMainContainer").offset().top},0)}}(w),w}angular.module("st.model.dependency").factory("ModelDependencyFactory",e),e.$inject=["$q","$log","$rootScope","$http","$location","$timeout","$filter","candidate","ListService","$sce","LinkedList","LocalStorage","requisition","privateFolder","publicFolder","titleCaseFilter","ApplicationState","CandidateWorkFlow","communicationTemplateService","leadcaptureModalService","privateCandidate","SessionStorage","ApplicationErrorLog"];var a=[];function r(e,t){var a=_.find(t,(function(t){return t.value==e.levelAttained}));return a?(e.levelAttained=a.value,e):null}function i(e,t){return e.filter((function(e){return e.country.trim().toUpperCase()==t.trim().toUpperCase()||e.countryName.trim().toUpperCase()==t.trim().toUpperCase()}))}}()},function(e,t){!function(){"use strict";function e(e,t,a,n){var r=t.getInstance(MODULE_NAME_UTILS_SESSION);return n.initialLoad=!0,{get:function(e,t){i()||(r.warn("No Session Storage"),deferred.resolve(void 0));var o=a.sessionStorage.getItem(e);if(null==o)return DEBUG&&(console.log("Session Storage: Did not find item for: "+e),console.trace()),null;var l=angular.fromJson(o),s=(new Date).getTime(),c=parseInt(l.date);return s-c>=maxSessionStorageTime&&n.initialLoad&&("credentials"===e||"oauthcredentials"===e)||"auth0Credentials"===e?(n.initialLoad=!1,DEBUG&&console.log("Session Storage: Item for: "+e+" Expired! ("+(s-c)+" >= "+maxSessionStorageTime+")"),a.sessionStorage.removeItem(e),$("body").trigger({type:"xcc_session_expire",session_key:e}),null):(DEBUG&&console.log("Session Storage: Returning item data for: "+e+" JSON: "+l.data),void 0===t&&(t=!1),"credentials"!==e&&"oauthcredentials"!==e||!t||(l.data=JSON.parse(atob(l.data))),angular.fromJson(l.data))},set:function(t,n,l){var s=e.defer();try{i()||s.resolve(0),void 0===l&&(l=!1),"credentials"!==t&&"oauthcredentials"!==t||!l||(n=btoa(JSON.stringify(n)));var c=new o(n);angular.isString(n)||(r.debug("Session Storage: Converting data to JSON String for: "+t),c.data=angular.toJson(n)),r.debug("Session Storage: Storing: "+t),a.sessionStorage.setItem(t,angular.toJson(c)),s.resolve(n)}catch(e){r.error(e),s.reject(e)}return s.promise},supports:i,remove:function(e){if(!i())return;r.debug("Session Storage: Removing: "+e),a.sessionStorage.removeItem(e)},clear:function(){if(!i())return;r.debug("Session Storage: Clearing ALL Session Storage items."),a.sessionStorage.clear(),XCLOUD.personalize.init()}};function i(){try{return"localStorage"in window&&null!==window.sessionStorage}catch(e){return r.error("Session Storage:  check caught exception! MSG:"+e.message),!1}}function o(e){this.date=""+(new Date).getTime(),this.data=e}}angular.module("st.utils").factory("SessionStorage",e),e.$inject=["$q","$log","$window","$rootScope"]}()},function(e,t){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";function e(e,t,n,r){var i=t.getInstance(MODULE_NAME_UTILS_LIST),o={getList:function(e,t,a){e[t]=r.get(t),null===e[t]||void 0===e[t]?n.getActiveListByName({name:t}).$promise.then((function(n){e[t]=normalizeObjects(n),r.set(t,e[t]),null!=a&&a()}),(function(e){i.error(e),i.error("Getting list: "+t)})):null!=a&&a()},loadListNames:function(t,n){var o=e.defer();try{i.debug("loadLists");var l=function(){var t=e.defer();try{var a=!1,o=localStorage.getItem("listTTL");isNaN(Date.parse(o))||(a=!(Math.ceil((new Date-Date.parse(o))/36e5)>5));var l=[];if(a)for(var s in n)l.push(r.get(n[s]));else localStorage.setItem("listTTL",new Date);return t.resolve(0),e.all(l)}catch(e){i.error(e),t.reject(e)}return t.promise}().then((function(a){var r=e.defer();try{i.debug("processLocallyFound");var o=[];for(var l in n){var s=n[l];i.trace(angular.toJson(a[l])),void 0===a[l]||null===a[l]?(i.debug("list: "+s),o.push(s)):(i.trace(angular.toJson(a[l],!0)),t[s]=a[l],i.trace("setting target list to : "+s+" : "+angular.toJson(t[s])))}r.resolve(o)}catch(e){i.error(e),r.reject(e)}return r.promise})).then((function(t){var a=e.defer(),n=[];try{for(var r in i.debug("queueListsToRetrieve "+t.length),t){var o=t[r];i.debug("list to query: "+o),n.push(u(o))}return a.resolve(0),e.all(n)}catch(e){i.error(e),a.reject(e)}return a.promise})).then((function(a){var n=e.defer();try{i.debug("setLocalStorage");var o=[];for(var l in a){var s=a[l];t[s.name]=s.data,i.debug("list queried: "+s.name),o.push(r.set(s.name,s.data))}return n.resolve(0),e.all(o)}catch(e){i.error(e),n.reject(e)}return n.promise})).then((function(){var n=e.defer();if(null===_XC_CONFIG.lang||"en"===_XC_CONFIG.lang||!_XC_i18n)return n.resolve(0),n.promise;for(var r in t)if("object"===a(t[r]))for(var i=0,o=t[r].length;i<o;i++)t[r][i].hasOwnProperty("label")&&(t[r][i].label=XCLOUD.i18n(t[r][i].label,"lists"));return n.resolve(0),n.promise})).then((function(){i.debug("ListService : loadListNames completed")})).catch((function(e){i.error(e),o.reject(e)}));o.resolve(l)}catch(e){i.error(e),o.reject(e)}return o.promise},retrieveLists:function(t){var a={};var n=function(t){var n=e.defer();try{i.trace("resolving data : "+angular.toJson(a)),n.resolve(a)}catch(e){i.error(e),n.reject(e)}return n.promise};return e.when().then((function(){return function(){var n=e.defer();try{for(var r in i.debug("initialize"),t){var o=t[r];i.debug("name of list : "+o),a[o]={}}n.resolve(0)}catch(e){i.error(e),n.reject(e)}return n.promise}()})).then((function(){return function(){var a=e.defer();try{var n=[];for(var o in i.debug("queueLocal"),t){var l=t[o];i.debug("listName: ["+l+"]"),n.push(r.get(l))}a.resolve(n)}catch(e){i.error(e),a.reject(e)}return a.promise}()})).then((function(t){return function(t){return e.all(t)}(t)})).then((function(n){return function(n){var r=e.defer();try{i.trace("dataToShow: "+angular.toJson(n));var o=[];for(var l in i.debug("showLocal"),t){var s=t[l];i.debug("listName: ["+s+"]"),void 0===n[l]||null===n[l]||n[l]==={}?(o.push(s),i.debug(s+" has been pushed to the queue")):i.debug(s+" is not undeifned"),a[s]=n[l]}i.debug("listsNeeded size: "+o.length),r.resolve(o)}catch(e){i.error(e),r.reject(e)}return r.promise}(n)})).then((function(t){return function(t){var a=e.defer();try{var n=[];for(var r in i.debug("queueListsToRetrieve "+t.length),t){var o=t[r];i.debug("list to query: "+o);n.push((function(){return u(o)}))}return i.debug("promiseQueue size: "+n.length),a.resolve(0),e.all(n)}catch(e){i.error(e),a.reject(e)}return a.promise}(t)})).then((function(e){return n()})).catch((function(e){i.error(e)}))},applyFormList:function(e,t){var a=function(e){angular.forEach(s,(function(t,a){s[a]=a==e}))};"initiFormList"===e&&jQuery(".apply-flow-wrapper .widget-body").each((function(e){var t=jQuery(this).attr("id"),a=jQuery(this).attr("form-id");s[t]=!1,"{{applyFormId}}"!==a&&(c[a]=t)}));if("set"===e)return a(t);if("setNext"===e)return function(){var e,t=jQuery(".apply-flow-wrapper .widget-body");i.log(t);for(var n=0,r=t.length;n<r;n++){if("none"!==jQuery(t[n]).css("display")){i.log("Current form found");var o=n+1;if(o<r){e=jQuery(t[o]).attr("id"),i.log("Next form: "+e);break}}}a(e)}();if("get"===e)return s;if("getFormIdList"===e)return c},html404Content:l,sortList:d},l="<div class='entry entry-content-wrapper clearfix' id='search-fail'>";l+="<h1 class='error404-header'>Page Not Found</h1>",l+="<p>Sorry, the page you are looking for is not available.<br>Please choose another page from the menu.</p>",l+="</div>";var s={},c={};return o;function l(){return l}function d(t){var a=e.defer();try{t=_.sortBy(t,"sortOrder"),a.resolve(t)}catch(e){i.error(e),a.reject(e)}return a.promise}function u(t){return n.getActiveListByName({name:t}).$promise.then((function(a){var n=e.defer();try{i.debug("loadActiveList"),d(normalizeObjects(a)).then((function(e){var a={};a.data=e,a.name=t,n.resolve(a)}))}catch(e){i.error(e),n.reject(e)}return n.promise}))}}angular.module("st.utils").factory("ListService",e),e.$inject=["$q","$log","lists","LocalStorage"]}()},function(e,t){!function(){"use strict";function e(e,t,a){var n=t.getInstance(MODULE_NAME_UTILS_LOCAL_STORAGE);return{get:r,getOptions:function(e){return r(e="options."+e)},set:i,setOptions:function(t,a){var r=e.defer();try{return t="options."+t,n.debug("setting options ["+t+"], data ["+angular.toJson(a)+"]"),r.promise.then(i(t,a))}catch(e){n.error(e),r.reject(e)}return r.resolve(0),r.promise},supports:o,remove:function(e){if(!o())return;e=clientName+"."+e,n.debug("Local Storage: Removing: "+e),a.localStorage.removeItem(e)},clear:function(){if(!o())return;n.debug("Local Storage: Clearing ALL local storage items."),a.localStorage.clear()}};function r(t,r,i){var l=e.defer();try{n.debug("module name: "+angular.module("st.utils").name);var s=t;t=clientName+"."+t,o()||(n.warn("No Local Storage"),l.resolve(void 0));var c=a.localStorage.getItem(t);n.trace("LocalStorage item: "+angular.toJson(c,!0)),null==c&&(n.debug("Local Storage: Did not find item for: "+t),l.resolve(void 0));var d=angular.fromJson(c),u=(new Date).getTime(),p=0;null!=d&&(p=parseInt(d.date)),void 0===r&&(r=!1),void 0===i&&(i=!1),"credentials"!==s&&"oauthcredentials"!==s||!r||null===d||void 0!==d.data&&null!==d.data&&(d.data=atob(d.data)),null!==d&&u-p>=maxSessionStorageTime&&("credentials"===s||"oauthcredentials"===s)&&!i?(n.debug("Local Storage: Item for: "+t+" Expired! ("+(u-p)+" >= "+maxSessionStorageTime+")"),a.localStorage.removeItem(t),l.resolve(void 0)):(n.debug("Local Storage: Returning item data for: "+t),null!==d?l.resolve(angular.fromJson(d.data)):l.resolve(null))}catch(e){n.error(e),l.reject(e)}return l.promise}function i(t,r,i){var s=e.defer(),c={};try{void 0===i&&(i=!1),"credentials"!==t&&"oauthcredentials"!==t||!i||(r=btoa(JSON.stringify(r))),r&&r.hasOwnProperty("password")?(angular.copy(r,c),delete c.password):c=r,t=clientName+"."+t,o()||(n.trace("does not support storage"),s.resolve(0));var d=new l(c);angular.isString(c)||(n.trace("Local Storage: Converting data to JSON String for: "+t),d.data=angular.toJson(c)),n.debug("Local Storage: Storing: "+t),a.localStorage.setItem(t,angular.toJson(d)),s.resolve(d)}catch(e){n.error(e),s.reject(e)}return s.promise}function o(){try{var e="localStorage"in window&&null!==window.localStorage;return n.debug("Local Storage is available: "+e),e}catch(e){return n.error(e),n.error("Local Storage check caught exception! MSG:"+e.message),!1}}function l(e){this.date=""+(new Date).getTime(),this.data=e}}angular.module("st.utils").factory("LocalStorage",e),e.$inject=["$q","$log","$window"]}()},function(e,t){!function(){"use strict";angular.module("st.controllers.apply.site",["com.hrlogix.ats.global.services","com.hrlogix.ats.public.services","com.hrlogix.ats.private.services","com.hrlogix.ats.thirdparty.services","com.hrlogix.ats.applyflow","st.utils","st.services","st.candidate.auth","st.model.dependency","st.shared.filter","ui.bootstrap"])}()},function(e,t){!function(){"use strict";angular.module("st.candidate.screening.questions",["com.hrlogix.ats.global.services","com.hrlogix.ats.public.services"])}()},function(e,t,a){"use strict";function n(e,t,a){this.candidateId=e,this.applicationId=t,this.requisitionId=a}var r=angular.module("com.hrlogix.ats.applyflow",["com.hrlogix.ats.global.services","com.hrlogix.ats.public.services","st.shared.widget","st.candidate.activity","st.utils","st.services","ngCookies","schemaForm","pascalprecht.translate","schemaForm-uiselect","ui.select","ngSanitize","st.candidate.screening.questions","st.candidate.auth"]);r.controller("applyFlowMainController",["$scope","$log","$location","$filter","$q","$window","$rootScope","applyflow","SessionStorage","ListService","LocalStorage","requisition","$sce","$timeout","ApplicationState","ApplyWorkFlow","CandidateWorkFlow",function(e,t,a,r,i,o,l,s,c,d,u,p,m,f,g,h,v){var S=t.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW),C=jQuery;!function(){e.reqId=a.search().link,e.applyReq=null,l.req=null,e.applyStream={},e.isLCP=!1,e.isLandingPage=!1!==_XC_CONFIG.landing_page,c.remove("applyReq"),v.current.setFromURLPath(a.path()),"/apply/"!==a.path()||!a.search().job&&a.search().link||(o.location.href="/apply/join/"+(a.search().job?"?job="+a.search().job:""));"/profile/join/"===a.path()&&(e.isLCP=!0);(function(t){var n=i.defer();h.reset(),h.first(),t?"/profile/job-alert/"===a.path()?p.getRequisition({id:t}).$promise.then((function(t){if(e.applyStream.applyStreamId=t?t.applyStreamId:APPLY_STREAMS.lcp,void 0!==e.applyStream.applyStreamId){l.req=t;var a=t.title;l.req.title=m.trustAsHtml(a)}n.resolve(null)})):p.getRequisition({id:t}).$promise.then((function(t){if(e.applyStream.applyStreamId=t?t.applyStreamId:APPLY_STREAMS.lcp,void 0!==e.applyStream.applyStreamId){l.req=t;var a=t.title;l.req.title=m.trustAsHtml(a)}n.resolve(t)})):n.resolve(null);return n.promise})(e.reqId).then((function(t){e.applyReq=t,c.set("applyReq",t),_XC_CONFIG.streams.lcp!==APPLY_STREAMS.lcp&&(APPLY_STREAMS.lcp=_XC_CONFIG.streams.lcp);var a=t?t.applyStreamId:APPLY_STREAMS.lcp;e.applyReq&&g.localStorage.requisition.id.set(e.applyReq.requisitionId),e.isLandingPage&&_XC_CONFIG.landing_page.stream_id&&(a=_XC_CONFIG.landing_page.stream_id);var i=[];void 0!==e.applyReq&&null!==e.applyReq&&null!==e.applyReq.assmtPositionCode&&e.applyReq.assmtPositionCode.length>0&&(i=e.applyReq.assmtPositionCode.split(",")),g.localStorage.requisition.assessmentPositionCode.set(i),e.applyStream.applyStreamId=t?t.applyStreamId:a,void 0===e.applyStream.applyStreamId?C("main .container-fluid").prepend(d.html404Content()):(null!==e.applyReq&&void 0!==e.applyReq&&(g.screeningInMessage=e.applyReq.screenInMessage,g.screeningOutMessage=e.applyReq.screenOutMessage),e.applyStream.requisitionId=e.reqId,e.candidateId=null,e.applicationId=null,e.applyFlowData=new n(e.candidateId,e.applicationId,e.requisitionId),s.getApplyStreamCfgs({applyStreamId:e.applyStream.applyStreamId}).$promise.then((function(t){e.applyStreamConfigs=r("orderBy")(normalizeObjects(t),"sortOrder"),s.getApplyContainers({applyStreamId:e.applyStream.applyStreamId}).$promise.then((function(t){var a=normalizeObjects(t);for(var n in e.applyStreamConfigs)for(var r in a)if(e.applyStreamConfigs[n].applyContainerId===a[r].applyContainerId){e.applyStreamConfigs[n].applyContainer=a[r];break}}),(function(e){S.error(e)}))}),(function(e){S.error(e)})))}))}()}]),r.directive("applyFlow",(function(){return{restrict:"E",scope:{applyStream:"=",candidateId:"=",applicationId:"=",requisitionId:"="},replace:!0,transclude:!1,controller:"applyFlowMainController",templateUrl:"/wp-content/plugins/xcloud/app/templates/apply-flow.html"}})),r.controller("applyContainerController",["$scope","$log","$filter","applyflow",function(e,t,a,n){e.initialized=!1,e.getTemplateUrl=function(){return void 0!==e.applyStreamCfg.applyContainer?(e.initialized||(e.initialized=!0,jQuery(".loading-container").css("display","block"),n.getApplyContainerCfgs({applyStreamCfgId:e.applyStreamCfg.applyStreamCfgId}).$promise.then((function(t){e.applyContainerConfigs=a("orderBy")(normalizeObjects(t),"sortOrder"),n.getApplyForms({applyStreamCfgId:e.applyStreamCfg.applyStreamCfgId}).$promise.then((function(t){var a=normalizeObjects(t);for(var n in e.applyContainerConfigs)for(var r in a)if(e.applyContainerConfigs[n].applyFormId===a[r].applyFormId){e.applyContainerConfigs[n].applyForm=a[r];break}}),(function(e){logger.error(e)}))}),(function(e){logger.error(e)}))),"/wp-content/plugins/xcloud/app/templates/containers/"+e.applyStreamCfg.applyContainer.templateName):""}}]),r.directive("applyFlowContainer",(function(){return{restrict:"E",scope:{applyFlowData:"=",applyStream:"=",applyStreamCfg:"=",isLastContainer:"=",applyContainerId:"="},replace:!0,transclude:!1,controller:"applyContainerController",template:'<ng-include src="getTemplateUrl()"/>'}})),r.controller("applyFormController",["$scope","$log","applyflow",function(e,t,a){e.initialized=!1,e.getTemplateUrl=function(){return void 0!==e.applyForm?(e.initialized||(e.initialized=!0,a.getApplyFormCfgs({applyFormId:e.applyForm.applyFormId}).$promise.then((function(t){var a=normalizeObjects(t);for(var n in a)if(e.applyStream.applyStreamId===a[n].applyStreamId){e.applyFormConfig=a[n],e.applyFormConfig=angular.fromJson(e.applyFormConfig.applyFormConfig);break}}),(function(e){logger.error(e)}))),"/wp-content/plugins/xcloud/app/templates/forms/"+e.applyForm.templateName):""}}]),r.directive("applyFlowForm",(function(){return{restrict:"E",scope:{applyFlowData:"=",applyStream:"=",applyForm:"=",isLastContainer:"=",isLastForm:"=",applyFormId:"=",applyStreamId:"=",applyContainerId:"="},replace:!0,transclude:!1,controller:"applyFormController",template:'<ng-include src="getTemplateUrl()"/>'}})),r.directive("jqdatepicker",(function(){return{restrict:"A",require:"ngModel",scope:!1,link:function(e,t,a,n){t.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"-100:+0",onSelect:function(t){n.$setViewValue(t),e.date=t,e.$apply()}}),n.$validators.dobMax=function(e,t){if(""===e||null==e)return!0;if(e.toString().length<10)return!1;var a=Date.parse(e);return!isNaN(a)&&(a=new Date(e))<new Date}}}})),r.directive("jqexpirationdatepicker1",["$timeout",function(e){return{restrict:"A",require:"ngModel",scope:!1,link:function(t,a,n,r){a.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"c-100:c+100",onSelect:function(a){void 0!==t.compareDate?t.compareDate(r.$name,a,r).then((function(n){(n=normalizeObjects(n))?(r.$setViewValue(a),t.date=a,e((function(){t.$apply()}),500)):(r.$setViewValue(""),t.date="",e((function(){t.$apply()}),500))})):(r.$setViewValue(a),t.date=a,t.$apply())}}),r.$validators.date_MinMax=function(e,t){if(null!=e&&e.toString().length<10)return!1;var a=Date.parse(e);return!isNaN(a)}}}}]),r.directive("jqexpirationdatepicker",(function(){return{restrict:"A",require:"ngModel",scope:!1,link:function(e,t,a,n){t.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"c-0:c+100",onSelect:function(t){n.$setViewValue(t),e.date=t,e.$apply()}}),n.$validators.date_6Max=function(e,t){if(null!=e&&e.toString().length<10)return!1;var a=Date.parse(e);return!isNaN(a)&&(a=new Date(e))>new Date}}}})),r.directive("i18n",(function(){return{restrict:"A",link:function(e,t,a){var n=t.html(),r="XCC";a.i18n&&(r=a.i18n),t.html(XCLOUD.i18n(n,r))}}}))},function(e,t){!function(){"use strict";function e(e,t,a){t.getInstance(MODULE_NAME_UTILS_TABLE);function n(e,t,a){this.currentPage=0,this.pagedItems=[],this.sortOrder="",this.itemsPerPage=a,this.reverse=!1,this.tableData=t,this.originalTableData=t,void 0===this.itemsPerPage&&(this.itemsPerPage=20),this.groupToPages=function(){this.pagedItems=[];for(var e=0;e<this.tableData.length;e++)e%this.itemsPerPage==0?this.pagedItems[Math.floor(e/this.itemsPerPage)]=[this.tableData[e]]:this.pagedItems[Math.floor(e/this.itemsPerPage)].push(this.tableData[e])},this.filterBy=function(t){null!=t?(this.tableData=e("filter")(this.originalTableData,t),this.groupToPages(),this.currentPage=0):(this.tableData=this.originalTableData,this.preparePaginationSorting())},this.reverse=function(e){this.reverse=e,this.preparePaginationSorting()},this.sortBy=function(t){this.sortOrder===t?this.reverse=!this.reverse:this.reverse=!1,this.sortOrder=t,""!==this.sortOrder&&(this.tableData=e("orderBy")(this.originalTableData,this.sortOrder,this.reverse),this.groupToPages(),this.currentPage=0)},this.range=function(e,t){var a=[];t||(t=e,e=0);for(var n=e;n<t;n++)a.push(n);return a},this.prevPage=function(){this.currentPage>0&&this.currentPage--},this.nextPage=function(){this.currentPage<this.pagedItems.length-1&&this.currentPage++},this.setPage=function(e){this.currentPage=e},this.preparePaginationSorting=function(){this.currentPage=0,this.tableData=e("orderBy")(this.originalTableData,this.sortOrder,this.reverse),this.groupToPages()},this.addItem=function(e){this.tableData.push(e),this.originalTableData.push(e),this.preparePaginationSorting()},this.preparePaginationSorting()}return function(e,t){return new n(a,e,t)}}angular.module("st.utils").factory("tableManagementService",e),e.$inject=["$q","$log","$filter"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f,g,h,v){var S=t.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_LOGIN);function C(t,a,i){var o=ATS_URL+ATS_INSTANCE+"/rest/public/candidate/"+clientName+"/password/";t&&void 0!==i&&(o+=i),e.networkError=!1,n.post(o,a).then((function(t){e.showMessage=normalizeObjects(t.data),r.candidateResetPwdCaptchaEnabled&&grecaptcha.reset(forgotPageRecapcha),"Your password reset link has been sent to your mail account."===e.showMessage?(e.passwordUpdate=!0,e.showUpdatedMessage=!0):e.showUpdatedMessage=!0,jQuery(".loading-container").css("display","none")}),(function(t){e.networkError=!0,e.forgotPasswordForm.$invalid=!1,S.log(t),jQuery(".loading-container").css("display","none")}))}function y(){var t=l.getUrlPathIfUserExists();if(null!=(t=t.$$state.value)){var a=!1;return t.hasOwnProperty("path")&&(a=!0,t=t.path),l.clearUrlPathIfUserExists(),a&&-1===t.indexOf("reset-password")&&-1!==t.indexOf("/campaign/")&&(t=e.languageCode+t),t}return null}function A(t){l.isLoggedIn&&(null!=t?void 0!==t.path&&null!==t.path?l.isAuth0Ready&&(-1!==t.path.indexOf("auth0_authentication")&&(t.path="/profile/"),window.location.href=window.location.origin+e.languageCode+t.path):a.path("/profile/"):l.isAuth0Ready?window.location.href=window.location.origin+e.languageCode+"/profile/":a.path("/profile/"))}function T(t){try{e.showLoginNotificationMsg=!1,jQuery(".loading-container").css("display","block"),e.socialProvider.bindProfile(_,E,t)}catch(e){console.log(e),jQuery(".loading-container").css("display","none")}}function _(){e.socialProvider.setRegistrationCaller(e.socialProvider.registrationSource.signInSocialProfile),a.path("/profile/join")}function E(t){e.socialProvider.setRegistrationCaller(e.socialProvider.registrationSource.signInSocialProfile);var a=y(),n={action:"dashboard",path:"/profile/"};null!=a&&(n={action:"CallerFM",path:a}),e.socialProfileAuthenticationEnabler(t,n)}angular.extend(this,i("baseController",{$scope:e})),e.fieldHelpers={socialNetworkNotification:"socialNetworkNotification"},e.forgotPasswordEmail="",v.getFeatureFlagFromShareDb("CandidateResetPwdCaptchaEnabled").then((function(t){r.candidateResetPwdCaptchaEnabled=t,function(){jQuery(".loading-container").css("display","block"),e.loginStatus={},e.googleRecapchaToken=null,e.isGoogleRecapchaToken=!1,e.networkError=!1,e.showLoginErrorMsg=!1,e.showAccActivateMsg=!1,e.showLoginNotificationMsg=!1,r.showAccount=!0,e.passwordUpdate=!1,e.showUpdatedMessage=!1,e.socialProvider=d.socialProvider,e.socialProvider.reset(),e.htmlElementDefinition={email:{id:"emailInput",name:"emailInput"}},e.rememberMe=!1,e.languageCode="",_XC_CONFIG.lang&&"en"!==_XC_CONFIG.lang&&(e.languageCode="/"+_XC_CONFIG.lang);r.candidateResetPwdCaptchaEnabled&&setTimeout((function(){grecaptcha.render("forgotPageRecapcha",{sitekey:_XC_CONFIG.gc_public_key,callback:e.verificationRecapchaToken,"expired-callback":e.expiredRecapchaToken})}),1e3);e.forgetPasswordLink=e.languageCode+"/profile/forgot-password/",S.debug("Login Controller Called."),e.isPasswordRequired=!1,e.isEmailRequired=!1,function(){if(!0===CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.enabled&&a.search().applyCaller||!0===CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.enabled&&a.search().LCPCaller||a.search().micrositeCaller){var e=u.get("schemaLoginRedirect");a.search().micrositeCaller?void 0!==e.$$state.value?l.setUrlPathIfUserExists(a.search().micrositeCaller,e.$$state.value.username):l.setUrlPathIfUserExists(a.search().micrositeCaller):e&&e.$$state.value&&l.setUrlPathIfUserExists(e.$$state.value.path,e.$$state.value.username),u.remove("schemaLoginRedirect")}}();var t=l.getUrlPathIfUserExists();if(t=t.$$state.value,!0===l.isLoggedIn&&!1===p.localStorage.candidate.isReturningUser.get())return localStorage.getItem(_XC_CONFIG.org+".applicationURL")===window.location.href?f.modal.bootstrap.show(E_BOOTSTRAP_ALERT.CLASS.DANGER,TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN_START):f.modal.bootstrap.show(E_BOOTSTRAP_ALERT.CLASS.DANGER,TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN),void jQuery(".loading-container").css("display","none");A(t),t&&t.hasOwnProperty("username")&&(e.credentials={},e.credentials.username=t.username);t&&t.hasOwnProperty("notification")&&null!=t.notification&&""!=t.notification&&(e.showLoginNotificationMsg=!0,e.notificationMsg=t.notification);!l.isLoggedIn&&l.isAuth0Ready&&l.checkSession().then((function(e){console.log(e),console.log(l.isLoggedIn),A(t)})).catch((function(e){S.debug(e)}));jQuery(".loading-container").css("display","none")}()})),e.requiredValidation=function(t,a){e.credentials&&("uname"==a&&e.credentials.username&&(e.isEmailRequired=!1),"password"==a&&e.credentials.password&&(e.isPasswordRequired=!1))},e.unameValidation=function(t){e.requiredValidation(t,"uname"),e.invalidateEmail(t,"xcloud_Signin","uname")},e.checkValidation=function(t){e.invalidateEmail(t,"xcloud_Signin","uname"),void 0!==e.credentials&&e.credentials.username&&e.credentials.password&&!e.invalidEmail||angular.element("input.ng-invalid").first().focus()},e.login=function(){if(e.showLoginErrorMsg=!1,e.showAccActivateMsg=!1,!e.credentials)return e.isPasswordRequired=!0,e.isEmailRequired=!0,!1;if(!e.credentials.username)return e.isEmailRequired=!0,!1;if(!e.credentials.password)return e.isPasswordRequired=!0,!1;l.isLoggedIn=!1,e.loginStatus.loginAttempted=!0,jQuery(".loading-container").css("display","block"),(!_XC_CONFIG.auth0.sso_enable||XCLOUD.in_iframe()||u.get("SSOClientDetails").$$state.value)&&l.bearerLogin(e.credentials).then((function(t){S.debug("Login Success with Status: "+t.status),e.loginStatus.loginFailed=!1,e.loginStatus.loginAttempted=!0,e.showLoginErrorMsg=!1,e.showAccActivateMsg=!1,e.showLoginNotificationMsg=!1,l.setCredentials(e.credentials),l.loginConfirmed(),jQuery(".loading-container").css("display","block"),g.getCurrentCandidate().$promise.then((function(t){var n=normalizeObjects(t);if(void 0!==_XC_CONFIG.analytics_id&&""!==_XC_CONFIG.analytics_id&&null!==_XC_CONFIG.analytics_id&&h.fireOmniTagJS({candidateId:n.candidateId,aid:_XC_CONFIG.analytics_id,calledFrom:"LOGIN"}),jQuery(".loading-container").css("display","none"),"t"!==n.locked){u.set("remember_me",e.rememberMe),u.set("candidate",n),r.rememberMe=e.rememberMe,r.showAccount=!0,p.localStorage.candidate.isReturningUser.set({isReturningUser:!0});var i=y();if(-1!==a.absUrl().indexOf("/profile/login/?LCPCaller=CFM"))m.location.href=e.languageCode+"/profile/";else if(null!=i)m.location.href=e.languageCode+i,jQuery(".loading-container").css("display","none");else{var o=l.getLocationPath();o&&o.path&&-1===o.path.indexOf("reset-password")?(o=o.path,l.clearLocationPath()):o=d.schemaInterpolation.languageSupplier("/profile/"),S.debug("path: defaulting to account"),jQuery(".loading-container").css("display","none"),m.location.replace(o)}syncFavoriteLocations()}else e.showAccActivateMsg=!0,l.loginCancelled()}),(function(e){p.logLoginlessErrors("Loginless",{},"Current Call - Login",null,e),S.error(e),jQuery(".loading-container").css("display","none")}))})).catch((function(t){S.debug("Login Failed with Status: "+t.status),e.loginStatus.loginFailed=!0,e.loginStatus.loginAttempted=!0,e.showLoginErrorMsg=!0,e.showAccActivateMsg=!1;var a=l.getLocationPath();handleError("Data: "+t.data+" Status: "+t.status),a&&a.path&&l.setLocationPath(a.path),jQuery(".loading-container").css("display","none"),setFocus("uname",WCAG_COMPLIANCE_SETTINGS.validator.selectionOnFocus)}))},e.logout=function(){l.logout().then((function(t){e.loginStatus.loginFailed=!1,e.loginStatus.loginAttempted=!1,l.loginCancelled(),e.setCurrentUser(null),XCLOUD.log_out(!0),a.path("/")})).catch((function(e){l.loginCancelled(e.status),handleError("Data: "+e.data+" Status: "+e.status)}))},e.forgotPasswordHandler=function(t){if(e.forgotPasswordForm.$invalid=!0,t){var a={};a.name=EMAIL_PASSWORD_RESET_NAME,a.type=EMAIL_PASSWORD_RESET_TYPE,a.client=clientName,a.username=e.forgotPasswordEmail,e.passwordUpdate=!1,e.showUpdatedMessage=!1,jQuery(".loading-container").css("display","block");var n="Password Reset";_XC_CONFIG.communicationTplConfig&&_XC_CONFIG.communicationTplConfig.pass_reset_tpl_name&&(n=_XC_CONFIG.communicationTplConfig.pass_reset_tpl_name);var i={uname:e.forgotPasswordEmail,communicationTemplate:n};r.candidateResetPwdCaptchaEnabled?C(!0,i,e.googleRecapchaToken):C(!1,i)}else S.debug("There are still invalid fields.")},e.verificationRecapchaToken=function(t){e.$apply((function(){e.forgotPasswordEmail&&(e.forgotPasswordForm.$invalid=!1),e.googleRecapchaToken=t,e.isGoogleRecapchaToken=!0}))},e.expiredRecapchaToken=function(){e.$apply((function(){e.forgotPasswordEmail&&(e.forgotPasswordForm.$invalid=!1),e.googleRecapchaToken=null,e.isGoogleRecapchaToken=!1}))},setTimeout((function(){try{e.socialProvider.jsLoadAwaitCount=0,e.socialProvider.showUIWizard(T,e.socialProvider.TitleEnum.connectTitle)}catch(e){S.warn("An issue has occurred while Gigya Provider Loading!"),S.error(e)}}),50),e.$on(e.broadcastNamespace.candidateModel.socialNetwork.onAccountMerge,(function(t,a){o((function(){setFocus(e.socialProvider.KeysConfiguration.HTMLDefinition.mainContainerId,!1)}),250)})),e.unameAddrole=function(){$("#unameField").attr("role","alert")},e.unameRemoverole=function(){$("#unameField").removeAttr("role")},e.passwordAddrole=function(){$("#passwordField").attr("role","alert")},e.passwordRemoverole=function(){$("#passwordField").removeAttr("role")}}angular.module("st.controllers.apply.site").controller("loginController",e),e.$inject=["$scope","$log","$location","$http","$rootScope","$controller","$timeout","authService","candidate","$q","ModelDependencyFactory","LocalStorage","ApplicationState","$window","NotificationEngine","privateCandidate","omniTaggingFactory","CandidateWorkFlow"]}()},function(e,t){!function(){function e(e,t,a,n){t.getInstance(MODULE_NAME_SERVICES);return{open:function(e,n,i){var o=this;o.configuration=angular.merge(e,_XC_CONFIG.login_modal),o.callback=n,o.dismissCallback=i,a.open({ariaLabelledBy:"modal-main-title",templateUrl:"/wp-content/plugins/xcloud/app/components/login/login.html",controller:"signInController",backdrop:"static",backdropClass:"modal-popup-custom-backdrop",windowClass:"schema-modal-popup",resolve:{loginConfigurations:function(){return o.configuration=o.configuration||{},o.configuration.progressVisibility=r,o.configuration}}}).result.then((function(e){o.response=e,o.callback(e)}),(function(e){void 0!==i&&(t.info("Modal dismissed at: "+new Date),o.dismissCallback(e))}))},openPassword:function(e,n,i){var o=this;o.configuration={},o.callback=n,o.dismissCallback=i,a.open({ariaLabelledBy:"modal-main-title",templateUrl:"/wp-content/plugins/xcloud/app/components/login/forgot-password.html",controller:"ForgotPasswordController",backdrop:"static",backdropClass:"modal-popup-custom-backdrop",windowClass:"schema-modal-popup",resolve:{loginConfigurations:function(){return o.configuration=o.configuration||{},o.configuration.progressVisibility=r,o.configuration}}}).result.then((function(e){o.response=e,o.callback(e)}),(function(e){void 0!==i&&(t.info("Modal dismissed at: "+new Date),o.dismissCallback(e))}))}};function r(e){var t=".loading-container-instance";e?(jQuery(t).css("display","block"),t="#modal-Loader",jQuery(t).css("display","block")):(jQuery(t).css("display","none"),t="#modal-Loader",jQuery(t).css("display","none"))}}angular.module("st.services").factory("SignInModalService",e),e.$inject=["$q","$log","$uibModal","$controller"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d){a.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_LOGIN);e.TEMPLATE_CONSTANTS||(e.TEMPLATE_CONSTANTS=TEMPLATE_CONSTANTS),t.openSignInModal=function(e,t){setTimeout((function(){null!==document.getElementById("Facebook_btn")&&$(".gigya-login-provider-row button#Facebook_btn").attr("tabindex","0"),null!==document.getElementById("LinkedIn_btn")&&$(".gigya-login-provider-row button#LinkedIn_btn").attr("tabindex","0"),null!==document.getElementById("Google_btn")&&$(".gigya-login-provider-row button#Google_btn").attr("tabindex","0")}),1e3);try{if(e&&(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()),$(".xcc-sign-in-submenu").toggle(),!0===r.isLoggedIn&&!1===i.localStorage.candidate.isReturningUser.get())return void(localStorage.getItem(_XC_CONFIG.org+".applicationURL")===window.location.href?s.modal.bootstrap.show(E_BOOTSTRAP_ALERT.CLASS.DANGER,TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN_START):s.modal.bootstrap.show(E_BOOTSTRAP_ALERT.CLASS.DANGER,TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN));var a=n.path();(t=t||{}).showSocialWidget=t.showSocialWidget||!0,t.showCreateProfileAction=t.showCreateProfileAction||!0,"undefined"!=typeof _XCC_CA_CONFIG||"undefined"!=typeof _XCC_PW_CONFIG?t.reloadWindow=!0:t.reloadWindow=a.indexOf("/apply")>=0||a.indexOf("/join")>=0,r.openSignInModal(t)}catch(e){}},t.isShowLoginMenu=function(){return!0===i.localStorage.candidate.isReturningUser.get()||!0!==r.isLoggedIn},t.openLeadCapture=function(e,t){try{d.setIsModalOpen(!0),e&&(e.stopPropagation(),e.preventDefault()),t=t||{};c.open({style:{windowClass:"schema-modal-popup"}},"/wp-content/plugins/xcloud/app/components/leadcapture/leadcapture-modal.html","leadCaptureModalController")}catch(e){}}}angular.module("st.candidate.auth").controller("signInMenuController",e),e.$inject=["$rootScope","$scope","$log","$location","authService","ApplicationState","HTMLHelper","CandidateWorkFlow","NotificationEngine","schemaModalService","leadcaptureModalService"]}()},function(e,t,a){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f){var g=a.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_LOGIN);d.progressVisibility&&d.progressVisibility(!0);var h={authenticationSuccess:!1,reason:"",activityType:0,rememberMe:!1,userName:""};function v(a){g.debug("Login Success with Status: "+a.status),t.vm.validation.showSummary=!1,t.vm.validation.showAccActivateMsg=!1,l.setCredentials(t.vm.credentials),l.loginConfirmed(),d.progressVisibility(!0),m.getCurrentCandidate().$promise.then((function(a){var n=normalizeObjects(a);u.inMemoryStorage.candidate.zip=n.zip,void 0!==_XC_CONFIG.analytics_id&&""!==_XC_CONFIG.analytics_id&&null!==_XC_CONFIG.analytics_id&&f.fireOmniTagJS({candidateId:n.candidateId,aid:_XC_CONFIG.analytics_id,calledFrom:"LOGIN"}),d.progressVisibility(!1),"t"!==n.locked?(c.set("remember_me",t.rememberMe),e.rememberMe=t.rememberMe,e.showAccount=!1,h.activityType=0,h.authenticationSuccess=!0,h.rememberMe=angular.copy(t.rememberMe),h.loadSessionVariables=!1,u.localStorage.candidate.isReturningUser.set({isReturningUser:!0}),syncFavoriteLocations(),S(h)):(t.vm.validation.showAccActivateMsg=!0,l.loginCancelled())}),(function(e){u.logLoginlessErrors("Loginless",{},"Current Call - SignIn",null,e),g.error(e),d.progressVisibility(!1)}))}function S(t){if(t.loadSessionVariables=!0,void 0!==d.redirectURL&&null!==d.redirectURL)t.showProgressbar=!0,r.url(d.redirectURL);else if(d.isLeadCapture){t.showProgressbar=!0;var a=s.schemaInterpolation.languageSupplier("/profile/");window.location.replace(a),t.showProgressbar=!1}else void 0!==d.reloadWindow&&!0===d.reloadWindow?(t.reloadWindow=!0,t.showProgressbar=!0):(d.progressVisibility(!1),e.showAccount=!0,t.showProgressbar=!0);i.close(t)}function C(e){d.progressVisibility(!1),h.reason="Login Failed with Status: "+e.status,h.authenticationSuccess=!1,t.vm.validation.showSummary=!0,t.vm.validation.showAccActivateMsg=!1,u.localStorage.candidate.isReturningUser.set({isReturningUser:!1}),l.loginCancelled(e.status)}function y(e){t.vm.externalService.socialProvider.setRegistrationCaller(t.vm.externalService.socialProvider.registrationSource.signInSocialProfile);var a={action:d.socialUserRedirectAction,path:d.socialUserRedirectURL};l.confirmSocialLogin(e,a,r,o,d.progressVisibility,A)}function A(){h.activityType=1,h.authenticationSuccess=!0,S(h)}function T(e){try{t.showLoginNotificationMsg=!1,d.progressVisibility(!0),t.vm.externalService.socialProvider.bindProfile(_,y,e)}catch(e){console.log(e),d.progressVisibility(!1)}}function _(){t.vm.externalService.socialProvider.setRegistrationCaller(t.vm.externalService.socialProvider.registrationSource.signInSocialProfile),t.vm.externalService.socialProvider.utility.sessionToStorage({newProfile:!0}),r.path("/profile/join/"),o.location.href=r.absUrl()}t.vm={},function(){t.applyCandidate={},t.applyCandidate.uname=d.email,t.vm.externalService={},t.vm.externalService.socialProvider=s.socialProvider,t.vm.flags={},t.vm.validation={showSummary:!1,showAccActivateMsg:!1,validationMessage:""},t.vm.credentials={username:d.email},t.vm.hideCloseButton=d.hideCloseButton,t.vm.UI_Decoration={closeButtonLabel:TEMPLATE_CONSTANTS.TITLE.ACTIONS.CLOSE.str,CREATE_ONE:TEMPLATE_CONSTANTS.TITLE.ACTIONS.CREATE_ONE.str,DO_NOT_HAVE_PROFILE:TEMPLATE_CONSTANTS.TITLE.LABELS.DO_NOT_HAVE_PROFILE.str,header:XCLOUD.i18n(d.header,"text"),subHeader:XCLOUD.i18n(d.subHeader,"text"),separator:d.separator,signInCaption:d.signInCaption,showSocialWidget:d.showSocialWidget,showCreateProfileAction:d.showCreateProfileAction},t.vm.notification=d.notification,!0===t.vm.UI_Decoration.showSocialWidget&&(t.vm.UI_Decoration.showSocialWidget=t.vm.externalService.socialProvider.showWizard);void 0===d.socialUserRedirectAction&&(d.socialUserRedirectAction="dashboard");void 0===d.socialUserRedirectURL&&(d.socialUserRedirectURL="/profile/");t.createOneLink="/profile/join/",_XC_CONFIG.lang&&"en"!==_XC_CONFIG.lang&&(t.createOneLink="/"+_XC_CONFIG.lang+t.createOneLink)}(),t.onFocusState=function(){t.inputGotFocused=!0},t.onFocusLostState=function(){t.inputGotFocused=!1},t.invalidateEmail=function(e,a,n){if(e.preventDefault(),void 0!==t.vm.credentials&&void 0!==t.vm.credentials.username&&null!==t.vm.credentials.username&&""!==t.vm.credentials.username){t.vm.credentials.username=t.vm.credentials.username.replace(/\s+$/,"");/^((?!\\.)(?!.\\.$)(?!.?\\.\\.)(?!.*\\.\\.)(?!.*\\+\\+)[a-zA-Z0-9+_.'\\-]{1,30})[@]{1}[a-zA-Z0-9\\-]*([.][a-z]{2,})+$/.test(t.vm.credentials.username)&&p.emailValidation(t.vm.credentials.username)?(t[a][n].$setValidity("email",!0),t[a][n].$invalid=!1,t.vm.invalidEmail=!1):(t[a][n].$setValidity("email",!1),t[a][n].$touched=!0,t[a][n].$invalid=!0,t.vm.invalidEmail=!0)}else t[a][n].$setValidity("email",!0),t.vm.invalidEmail=!1},t.unameValidation=function(e){t.vm.requiredValidation(e,"uname"),t.invalidateEmail(e,"xcloud_Signin","userName")},t.checkValidation=function(e){t.invalidateEmail(e,"xcloud_Signin","userName"),t.vm.credentials.username&&t.vm.credentials.password&&!t.vm.invalidEmail||angular.element("input.ng-invalid").first().focus()},t.login=function(){if(t.vm.credentials.username||(t.vm.isUsernameRequired=!0),t.vm.credentials.password||(t.vm.isPasswordRequired=!0),!t.vm.credentials.username||!t.vm.credentials.password)return!1;d.progressVisibility(!0),(!_XC_CONFIG.auth0.sso_enable||XCLOUD.in_iframe()||c.get("SSOClientDetails").$$state.value)&&l.bearerLogin(t.vm.credentials).then(v).catch(C)},t.loginModalCancel=function(e,t){e.preventDefault(),h.activityType=-1,h.authenticationSuccess=!1,h.launchForgotPassword=t,h.reloadOnCancel=d.reloadOnCancel,h.window=o,i.dismiss(h)},t.vm.requiredValidation=function(e,a){t.vm.credentials&&("uname"==a&&t.vm.credentials.username&&(t.vm.isUsernameRequired=!1),"password"==a&&t.vm.credentials.password&&(t.vm.isPasswordRequired=!1))},t.onFormKeyPress=function(e){e&&13===e.keyCode&&t.xcloud_Signin&&t.xcloud_Signin.$valid&&t.login()},t.unameAddrole=function(){$("#unameField").attr("role","alert")},t.unameRemoverole=function(){$("#unameField").removeAttr("role")},t.passwordAddrole=function(){$("#passwordField").attr("role","alert")},t.passwordRemoverole=function(){$("#passwordField").removeAttr("role")},setTimeout((function(){try{var e=p.current.getFromPath(r.path());switch(e=p.current.getFromRouteParams(e)){case E_WORK_FLOW.NONE:!0===t.vm.UI_Decoration.showSocialWidget&&(t.vm.externalService.socialProvider.jsLoadAwaitCount=0,t.vm.externalService.socialProvider.showUIWizard(T))}d.progressVisibility(!1)}catch(e){d.progressVisibility(!1),g.warn("An issue has occurred while Gigya Provider Loading!"),g.error(e)}}),5),t.redirectToCreateProfile=function(e){0}}angular.module("st.candidate.auth").controller("signInController",e),e.$inject=["$rootScope","$scope","$log","$q","$location","$uibModalInstance","$window","authService","ModelDependencyFactory","LocalStorage","loginConfigurations","ApplicationState","CandidateWorkFlow","privateCandidate","omniTaggingFactory"]}()},function(e,t){!function(){"use strict";function e(e,t,a){t.getInstance(MODULE_NAME_SERVICES);var n=r();return{getVMSkeleton:r};function r(){return void 0!==n?n:{isShowComponent:!0,coreAuthFailed:!1}}}angular.module("st.services").factory("auth0AuthenticationViewModelService",e),e.$inject=["$q","$log","candidate"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f,g,h,v){var S=t.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_AUTH0_LOGIN);e.vm=v.getVMSkeleton();var C=this;function y(t){-1===t.status?S.error("Core API Timeout error"):(n.defaults.headers.common.Authorization=l.getAuth0Header(),l.isLoggedIn=!0,l.auth0Token.token?p.set("auth0Credentials",l.auth0Token):p.set("auth0Credentials",{token:XCLOUD.authToken},!1),m.localStorage.candidate.isReturningUser.set({isReturningUser:!0}),h.getCurrentCandidate().$promise.then((function(t){var a=normalizeObjects(t);m.inMemoryStorage.candidate.zip=a.zip,console.log(a),jQuery(".loading-container").css("display","none"),p.set("remember_me",e.rememberMe),p.set("candidate",a),r.rememberMe=e.rememberMe,"undefined"!=typeof SFX&&SFX.sso&&SFX.sso.auth(a)||angular.extend(C,i("loginController",{$scope:e}))}),(function(e){m.logLoginlessErrors("Loginless",{},"Current Call - auth0Authentication",null,e),S.error(e),jQuery(".loading-container").css("display","none")})))}function A(t){console.log("TODO: redirect to login and show auto provisioning failed"),e.vm.coreAuthFailed=!0}e.noAccess=!1,e.loginFailed=!1,e.$on("auth0AuthenticatedFailed",(function(){e.loginFailed=!0})),decodeURIComponent(window.location.href).includes("error")&&(e.noAccess=!0,p.clear()),l.isAuth0Ready&&s.XCEIAuthorized?"undefined"!=typeof SFX&&SFX.sso?l.getReferralToken().then((function(e){l.auth0Login().then(y).catch(A)})).catch((function(e){S.debug(e)})):l.auth0Login().then(y).catch(A):!1===s.XCEIAuthorized&&(e.noAccess=!0,p.clear())}angular.module("st.candidate.activity").controller("auth0AuthenticationController",e),e.$inject=["$scope","$log","$location","$http","$rootScope","$controller","$timeout","authService","auth0Service","candidate","$q","ModelDependencyFactory","LocalStorage","ApplicationState","$window","NotificationEngine","privateCandidate","auth0AuthenticationViewModelService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l){var s={ERROR:2,INVALID_TOKEN:3,PASSWORD:0,PASSWORD_ENFORCE:4,SUCCESS:1};function c(e){e.preventDefault(),g()}function d(t){e.vm.panel=t}function u(t){try{t&&t.$valid&&(o.progressVisibility(!0),e.vm.validation.invalidCurrentPass=!1,e.vm.validation.reusedNewPass=!1,i.updatePassword(o.workFlow,e.vm.credentials.password,o.token,o.candidate,e.vm.credentials.currentPassword).then((function(t){if("Success"===t.status)!function(){switch(d(s.SUCCESS),o.workFlow){case E_WORK_FLOW.CREATE_PASSWORD:o.progressVisibility(!1);break;case E_WORK_FLOW.MODIFY_PASSWORD:i.onPasswordUpdateSuccess(),o.progressVisibility(!1)}}();else{switch(t.errorCode){case"PASSWORD_REPETITION_NOT_ALLOWED":e.vm.validation.reusedNewPass=!0;break;case"CURRENT_PASSWORD_IS_INVALID":e.vm.validation.invalidCurrentPass=!0,e.updatePasswordForm.newPassword.$touched=!1}e.vm.credentials.currentPassword="",e.vm.credentials.password="",e.vm.credentials.confirmPassword="",e.updatePasswordForm.confirmPassword.$touched=!1,n.isLoggedIn&&(e.updatePasswordForm.currentPassword.$touched=!1),o.progressVisibility(!1)}})).catch((function(e){d(s.INVALID_TOKEN),o.progressVisibility(!1)})))}catch(e){o.progressVisibility(!1)}}function p(e){e.preventDefault(),m(s.PASSWORD)}function m(t){e.vm.panel=t}function f(){return o.workFlow===E_WORK_FLOW.CREATE_PASSWORD&&e.vm.panel!==s.SUCCESS&&e.vm.panel!==s.INVALID_TOKEN}function g(){!0===f()?m(s.PASSWORD_ENFORCE):l.close()}function h(){return!1}e.vm=i.viewModel.skeleton.get(o.workFlow),o.scope&&angular.extend(e,o.scope),e.loginToAccount=function(e){var t=e;!1===_XC_CONFIG.login_modal.disabled&&(g(),t={email:o.candidate&&o.candidate.uname,reloadWindow:!0});var a="";switch(a="undefined"!=typeof _SFXR_CONFIG?"/":"/profile/",o.workFlow){case E_WORK_FLOW.CREATE_PASSWORD:t.redirectURL=a,t.reloadWindow=!1,t.showSocialWidget=!0}i.redirectToLoginWindow(t)},e.hideShowPassword=function(e,t){l.hideShowPassword(e,t)},e.alertPwdInit=function(){e.pwdVisibility=0},e.alertPwdFocus=function(){e.pwdVisibility=0},e.alertPwdBlur=function(){e.pwdVisibility=1},e.alertcnfPwdInit=function(){e.cfmPwdVisibility=0},e.alertcnfPwdFocus=function(){e.cfmPwdVisibility=0},e.alertcnfPwdBlur=function(){e.cfmPwdVisibility=1},e.E_WORK_FLOW=E_WORK_FLOW,e.E_PANEL=s,e.vm.panel=s.PASSWORD,e.vm.modalPopup={close:g},e.updatePassword=u,o.progressVisibility(!1),function(){switch(o.workFlow){case E_WORK_FLOW.CREATE_PASSWORD:e.vm.isValidToken=!1;break;case E_WORK_FLOW.MODIFY_PASSWORD:}}(),e.dismissModal=c,e.displayPasswordContent=p,e.preventDoubleClick=h,e.$on("modal.closing",(function(e,t,a){!function(e,t){if(!0===f())switch(t){case l.E_REASON.ESCAPE:m(s.PASSWORD_ENFORCE),e.preventDefault()}}(e,t)})),e.passwordCriteriaValidationBlur=function(){var e=document.getElementById("newPassword").value;$("#passowrdCheckError").find(".passwordReqNotMet").addClass("glyphicon glyphicon-remove"),$("#passowrdCheckError").children().not(".passwordReqNotMet").removeClass("glyphicon glyphicon-remove"),$("#passowrdCheckError").children().not(".passwordReqNotMet").addClass("passwordReqMet"),$("#passowrdCheckError").find(".passwordReqNotMet").removeClass("passwordReqMet"),""==e?($("#passowrdCheckError").find(".passwordReqNotMet").attr("role",""),$("#passowrdCheckError").attr("aria-live","assertive")):($("#passowrdCheckError").find(".passwordReqNotMet").attr("role","alert"),$("#passowrdCheckError").removeAttr("aria-live"))},e.passwordCriteriaValidationFocus=function(){$("#passowrdCheckError").removeAttr("aria-live"),$("#passowrdCheckError").children().removeAttr("role")}}angular.module("st.candidate.activity").controller("passwordUpdateModalController",e),e.$inject=["$scope","$rootScope","$log","authService","$location","passwordUpdateService","metaDataProvider","schemaModalService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o){var l=t.getInstance(MODULE_NAME_SERVICES);return{viewModel:{skeleton:{get:function(e){var t;switch(e){case E_WORK_FLOW.CREATE_PASSWORD:t=TEMPLATE_CONSTANTS.TITLE.FORMS.CREATE_PASSWORD.str;break;case E_WORK_FLOW.MODIFY_PASSWORD:t=TEMPLATE_CONSTANTS.TITLE.FORMS.RESET_PASSWORD.str}return{isShowComponent:!0,validation:{invalidCurrentPass:!1,reusedNewPass:!1},credentials:{},configuration:{header:t},workFlow:e}}}},onPasswordUpdateSuccess:function(){i.resetCurrentSession({skipRedirection:!0})},redirectToLoginWindow:function(e){i.openSignInModal(e)},validateToken:function(t){var a={candidate:null,validateToken:!1},n=e.defer();return r.getCurrentCandidateByToken(t).query().$promise.then((function(e){a={candidate:normalizeObjects(e),validToken:!0},n.resolve(a)}),(function(e){o.logLoginlessErrors("Loginless",{},"Current Call by Token - PasswordUpdate",null,e),l.error(e),a.validateToken=!1,n.resolve(a)})),n.promise},updatePassword:function(t,r,i,o,s){e.defer();switch(t){case E_WORK_FLOW.CREATE_PASSWORD:return function(t,a){var r=e.defer();return n.resetPassword(t).query({value:a}).$promise.then((function(e){r.resolve(normalizeObjects(e))}),(function(e){l.error(e),r.reject(0)})),r.promise}(i,r);case E_WORK_FLOW.MODIFY_PASSWORD:return function(t,n,r){var i=e.defer(),o={};return o.currentPassword=r,o.newPassword=n,o.candidateId=t.candidateId,a.updateCandidatePassword(o).$promise.then((function(e){i.resolve(normalizeObjects(e))}),(function(e){l.error(e),i.reject(0)})),i.promise}(o,r,s)}}}}angular.module("st.services").factory("passwordUpdateService",e),e.$inject=["$q","$log","privateCandidate","privateCandidatePwd","privateCandidateToken","authService","ApplicationState"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f,g){var h=a.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_LOGIN),v={authenticationSuccess:!1,reason:"",activityType:0,rememberMe:!1,userName:""};function S(a,n,i){var o=ATS_URL+ATS_INSTANCE+"/rest/public/candidate/"+clientName+"/password/";a&&void 0!==i&&(o+=i),t.networkError=!1,r.post(o,n).then((function(a){t.showMessage=normalizeObjects(a.data),e.candidateResetPwdCaptchaEnabled&&grecaptcha.reset(forgotModelRecapcha),"Your password reset link has been sent to your mail account."===t.showMessage?(t.passwordUpdate=!0,t.showUpdatedMessage=!0):t.showUpdatedMessage=!0,jQuery(".loading-container").css("display","none")}),(function(e){h.log(e),t.networkError=!0,t.forgotPasswordForm.$invalid=!1,jQuery(".loading-container").css("display","none")}))}t.vm={},t.forgotPasswordEmail="",g.getFeatureFlagFromShareDb("CandidateResetPwdCaptchaEnabled").then((function(a){e.candidateResetPwdCaptchaEnabled=a,function(){t.passwordUpdate=!1,t.networkError=!1,t.googleRecapchaToken=null,t.isGoogleRecapchaToken=!1,_XC_CONFIG.disable_site_access&&(t.hideCloseButton=!0);e.candidateResetPwdCaptchaEnabled&&setTimeout((function(){grecaptcha.render("forgotModelRecapcha",{sitekey:_XC_CONFIG.gc_public_key,callback:t.verificationRecapchaToken,"expired-callback":t.expiredRecapchaToken})}),1e3);t.showUpdatedMessage=!1}()})),t.forgotPasswordHandler=function(a){if(t.forgotPasswordForm.$invalid=!0,jQuery("#inVaildEmail").css("display","none"),a){var n={};n.name=EMAIL_PASSWORD_RESET_NAME,n.type=EMAIL_PASSWORD_RESET_TYPE,n.client=clientName,n.username=t.forgotPasswordEmail,t.passwordUpdate=!1,t.showUpdatedMessage=!1,jQuery(".loading-container").css("display","block");var r="Password Reset";_XC_CONFIG.communicationTplConfig&&_XC_CONFIG.communicationTplConfig.pass_reset_tpl_name&&(r=_XC_CONFIG.communicationTplConfig.pass_reset_tpl_name);var i={uname:t.forgotPasswordEmail,communicationTemplate:r};e.candidateResetPwdCaptchaEnabled?S(!0,i,t.googleRecapchaToken):S(!1,i)}else h.debug("There are still invalid fields.")},t.cancel=function(){v.activityType=-1,v.authenticationSuccess=!1,l.dismiss(v)},t.verificationRecapchaToken=function(e){t.$apply((function(){t.forgotPasswordEmail&&(t.forgotPasswordForm.$invalid=!1),t.googleRecapchaToken=e,t.isGoogleRecapchaToken=!0}))},t.expiredRecapchaToken=function(){t.$apply((function(){t.forgotPasswordEmail&&(t.forgotPasswordForm.$invalid=!1),t.googleRecapchaToken=null,t.isGoogleRecapchaToken=!1}))}}angular.module("st.candidate.auth").controller("ForgotPasswordController",e),e.$inject=["$rootScope","$scope","$log","$q","$http","$timeout","$location","$uibModalInstance","$uibModal","$controller","authService","candidate","ModelDependencyFactory","LocalStorage","loginConfigurations","CandidateWorkFlow"]}()},function(e,t){angular.module("st.model.dependency").directive("candidatePoolDirective",(function(){return{restrict:"EA",scope:{formStreamId:"=",caller:"@",thankYouMsg:"@",currentJobId:"="},replace:!0,transclude:!1,controller:"candidatePoolController",templateUrl:"/wp-content/plugins/xcloud/app/components/candidate_pool/candidate-pool.html"}}))},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f,g,h,v,S,C,y,A,T,E,I,b,O,N,L,w,P,M,R){var F=n.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_BASE),D=u.search(),U=!1;function k(e,t){e.externalDataSourceCollection.hasOwnProperty("resume")&&e.externalDataSourceCollection.resume.hasOwnProperty("data")&&(_.isEmpty(e.externalDataSourceCollection.resume.data)||(t.gridHandler.parent.rowAddedRequiredFieldMissing=!0))}e.xnonce=null,e.logString="",e.comment="",e.isApplicationLogEnabled=_XC_CONFIG.application_logs.enable_application_flow_logs,e.isCandidateLogEnabled=_XC_CONFIG.application_logs.enable_candidate_flow_logs,e.isResumeLogEnabled=_XC_CONFIG.application_logs.enable_resume_flow_logs,e.reqIdLink=parseInt(D.link),e.step={},e.application={},e.resumeDataConsumerCollection=[],e.resumeParserListenerCollection=[],e.atsRequisitionId=null,e.streamId=0,e.genericPopulateDataConsumerCollection=[],e.genericPopulateListenerCollection=[],function(){F.debug("candidateBaseController."),e.isAlertLcp=!1,e.attachmentDetails={},e.fileFormName={},t.resumeJSON={},t.resumeParsed=!1,t.applyCandidateId=null,t.customValidation=!1,t.hideFieldGroup=!1,e.alreadyApplied=!1,e.credentials={},e.uniqueEmail=!0,e.deactiveCheck=!0,e.applyCandidate={},e.easyApplyFlag="",e.easyApplyFlag=u.search().easyApplyFlag,e.socialProvider=v.socialProvider,e.fieldValidator=v.fieldValidator,e.CandidateModelHelper=v.candidateHelper,e.schemaInterpolation=v.schemaInterpolation,e.angularSchemaObserver=v.angularSchemaObserver,e.continueBtn="Continue",e.languageCode="",_XC_CONFIG.lang&&"en"!==_XC_CONFIG.lang&&(e.languageCode="/"+_XC_CONFIG.lang);t.candidateResumeUpdated=!1,t.resumeXML=null,t.TEMPLATE_CONSTANTS=TEMPLATE_CONSTANTS,e.parseWorkHistoryFromResume=!0,e.parseEducationFromResume=!0,c.remove("screeningResult")}(),e.$on("globalProgressBarHandler",(function(t,a){e.globalProgressBarHandler(a.state)})),e.globalProgressBarHandler=function(t,a){var n=a||".loading-container";t?jQuery(n).css("display","block"):void 0!==e.semaphoreCollection&&void 0!==e.semaphoreCollection.AlwaysShowProgressbar&&!0===e.semaphoreCollection.AlwaysShowProgressbar&&1!=e.isJobDetailPageFormLoaded||jQuery(n).css("display","none")},t.globalErrorHandler=function(e){F.error(e),jQuery(".loading-container").css("display","none")},e.notificationSemaphoreHandler=function(t,a){e.isShowNotificaiton=t,e.hideErrorMsg=!1,e.notificationMessage=a},e.setRedirectToCurrent=function(e,a){b.getIsModalOpen()&&t.$broadcast("closeLeadCaptureModal"),p.openSignInModal(e)},t.setRedirectToCurrent=function(e,a){b.getIsModalOpen()&&t.$broadcast("closeLeadCaptureModal"),p.openSignInModal(e)},e.setRedirectToCurrentModule=function(){p.setUrlPathIfUserExists(u.url(),e.applyCandidate.uname)},e.getLabelByValue=function(e,t){for(var a in t)if(t[a].value===e)return t[a].label},e.getValueByLabel=function(e,t){for(var a in t)if(t[a].label===e)return t[a].value},e.getValueFromArrayOrString=function(e,t){return null==t&&(t=0),angular.isArray(e)?e[t]:e},e.notifyConsumer=function(e,t){angular.forEach(e,(function(e){e(t)}))},e.registerDataConsumerOfResume=function(t){e.resumeDataConsumerCollection.push(t)},e.candidateIdSupplier=function(){return e.applyCandidate=A.session.candidate.get(),null===e.applyCandidate?-1:e.applyCandidate.candidateId},e.getCandidateParams=function(t){return e.applyCandidate=A.session.candidate.get(),e.applyCandidate[t]},e.registerParserListener=function(t){e.resumeParserListenerCollection.push(t)},e.resetParserOfResume=function(){e.resumeParserListenerCollection=[]},e.resetDataConsumerOfResume=function(){e.resumeDataConsumerCollection=[]},e.registerDataConsumerOfGenericPopulate=function(t){e.genericPopulateDataConsumerCollection.push(t)},e.registerGenericPopulateListener=function(t){e.genericPopulateListenerCollection.push(t)},e.apiProxyHandler=function(n,r){var o=a.defer();if(void 0!==r&&void 0!==r.byPassProxy&&!0===r.byPassProxy)return o.resolve(0),o.promise;if(void 0!==r&&void 0!==r.isOfflineStorage&&!0===r.isOfflineStorage)return o.resolve(r.viewModel),o.promise;if("applyJoinApplicationCreationHandler"==n){var l=function(t){return t?e.modelProcessor.baseHelper.seoRedirectHandler():e.apiProxyHandler("updateCandidateSendEmail")},s=function(t,a,n){t.candidateId=t.candidateId?t.candidateId:A.session.candidate.get().candidateId,t.sfxApplicationMethod="SFX Application",t.status="Applied",CWS.enhancedSourceTracking.getApplicationStatus()&&(t.status=CWS.enhancedSourceTracking.getApplicationStatus()),t.reqScreenValue=0,t.generalScreenValue=0,t.interviewScreenValue=0,t.totalScreenValue=0,CWS.enhancedSourceTracking.isApplyDateDisabled()||(t.applyDate=(new Date).getTime()),_XC_CONFIG.is_internal_site?t.applicationType="I":t.applicationType="E",CWS.enhancedSourceTracking.getEnhancedSourceValue()&&(t.sfxApplicationSource=CWS.enhancedSourceTracking.getEnhancedSourceValue()),"true"===_XC_CONFIG.omniDataEnabled&&void 0!==_XC_CONFIG.analytics_id&&""!==_XC_CONFIG.analytics_id&&null!==_XC_CONFIG.analytics_id&&C.fireOmniTagJS({candidateId:t.candidateId,aid:_XC_CONFIG.analytics_id,calledFrom:"APPLY_START",reqId:e.jobId});var r={easyApplyFlag:"f",callEsb:"f",enhancedAddApplicationStepFlow:"f"};return CWS.enhancedSourceTracking.isEnhancedAddApplicationStepFlowEnabled()&&(r.enhancedAddApplicationStepFlow="t"),isNaN(parseInt(cws_opts.cws_source_tracking_status_id,10))||(r.statusId=parseInt(cws_opts.cws_source_tracking_status_id,10)),isNaN(parseInt(cws_opts.cws_source_tracking_disposition_id,10))||(r.dispositionId=parseInt(cws_opts.cws_source_tracking_disposition_id,10)),null==t.requisitionId||void 0===t.requisitionId||null==t.candidateId||void 0===t.candidateId?l(n):a?m.combinedAddApplication(r,t).$promise.then((function(e){l(n)})):void m.getApplicationExistsStatusByReqId({requisitionId:t.requisitionId}).$promise.then((function(e){var a=normalizeObjects(e);return a&&"true"==a.reqStatus?l(n):m.combinedAddApplication(r,t).$promise.then((function(e){l(n)}))}),(function(e){F.error(e)}))},c=!1;void 0!==r&&void 0!==r.redirectToATS&&(c=r.redirectToATS);var d={};d.candidateId=e.applyCandidate.candidateId,A.getApplyJoinRequisitionId()?(d.requisitionId=A.getApplyJoinRequisitionId(),s(d,e.isNewUser,c)):e.jobId&&M.getRequisitionIdBySmartpostId({smartPostId:e.jobId}).$promise.then((function(t){var a=normalizeObjects(t);a&&(d.requisitionId=a.requisitionId,s(d,e.isNewUser,c))}))}if("addOnboardingData"===n){var h={applicationId:A.inMemoryStorage.onboarding.applicationId};if(void 0!==r&&r.hasOwnProperty("payload"))return function(t,n){var r=a.defer();!0!==n.agree&&"true"!==n.agree||(n.agree="t");var i=(new Date).getTime();return n.formDate=i,n.hasOwnProperty("candidateId")&&delete n.candidateId,O.addOnboardingData(t,n).$promise.then((function(t){try{e.hideErrorMsg=!1,e.onboardingData=normalizeObjects(t),console.log(t),r.resolve(e.onboardingData)}catch(e){F.error(e),r.reject(e)}})),r.promise}(h,r.payload)}if("addw4Data"===n){h={applicationId:A.inMemoryStorage.onboarding.applicationId};if(void 0!==r&&r.hasOwnProperty("payload"))return function(t,n){var r=a.defer();(new Date).getTime();return n.hasOwnProperty("candidateId")&&delete n.candidateId,O.addw4Data(t,n).$promise.then((function(t){try{e.hideErrorMsg=!1,e.w4Data=normalizeObjects(t),console.log(t),r.resolve(e.w4Data)}catch(e){F.error(e),r.reject(e)}})),r.promise}(h,r.payload)}if("addEmergencyContacts"===n&&void 0!==r&&r.hasOwnProperty("payload"))return function(e){var t=a.defer();return angular.forEach(e,(function(e){delete e.emergencyContactId})),O.addEmergencyContactLists(e).$promise.then((function(e){t.resolve(normalizeObjects(e))}),(function(e){F.error(e),t.reject(e)})),t.promise}(r.payload);if("addDependentContacts"===n&&void 0!==r&&r.hasOwnProperty("payload"))return function(e){var t=a.defer();return angular.forEach(e,(function(e){delete e.dependentContactId})),O.addDependentContactList(e).$promise.then((function(e){t.resolve(normalizeObjects(e))}),(function(e){F.error(e),t.reject(e)})),t.promise}(r.payload);if("addi9data"===n){h={applicationId:A.inMemoryStorage.onboarding.applicationId};if(void 0!==r&&r.hasOwnProperty("payload"))return function(e,t){var n=a.defer();return t.i9Data.hasOwnProperty("candidateId")&&delete t.i9Data.candidateId,angular.forEach(t.preparers,(function(e){delete e.candidateId,delete e.onboardingFormId,delete e.preparersId})),O.addi9Data(e,t).$promise.then((function(e){n.resolve(normalizeObjects(e))}),(function(e){F.error(e),n.reject(e)})),n.promise}(h,r.payload)}var v=function(e){for(var t in e)""!=e[t]||Array.isArray(e[t])||delete e[t];return e};if("processAddCandidate"===n){o=a.defer();try{(function(){var n=a.defer(),r=null;try{F.trace("apply candidate: \n"+angular.toJson(e.applyCandidate)),void 0===e.applyCandidate&&n.reject("applyCandidate was not found on $scope"),v(e.applyCandidate);var i=e.applyCandidate.uname.toLowerCase(),o=null;switch(e.applyCandidate.uname=i,e.applyCandidate.email=i,e.applyCandidate.text_18=document.location.href,e.isJobDetailPageFormLoaded&&(r=e.isJobDetailPageFormLoaded),I.current.getFromPath(u.path(),u.search().job,r)){case E_WORK_FLOW.APPLY:e.applyCandidate.sfxContactMethod="SFX Application";break;case E_WORK_FLOW.APPLY_LCP:"t"===e.easyApplyFlag?e.applyCandidate.sfxContactMethod="SFX Short Apply":e.applyCandidate.sfxContactMethod="Apply Join Form";break;case E_WORK_FLOW.JOIN_LCP:e.applyCandidate.sfxContactMethod="Sign Up Form";break;case E_WORK_FLOW.MICROSITE_LCP:e.applyCandidate.sfxContactMethod="Landing Page";break;case E_WORK_FLOW.EVENT_LCP:e.applyCandidate.sfxContactMethod="Event Registration Form"}if(CWS.nativeSourceTracking.isNativeSourceTrackingActive()){var l=CWS.nativeSourceTracking.getConfiguredSourceParameters(),s=null;if(l){if(s=CWS.nativeSourceTracking.getSourceInURL(l))for(var c in s)o=s[c];else{var d=CWS.cookies.getItem("nativeSourceTracking");d&&(o=(d=decodeURIComponent(d)).split("|")[1])}!o&&CWS.nativeSourceTracking.isDefaultSourceTrackingEnabled()&&(o=CWS.nativeSourceTracking.getDefaultSource()),o&&(e.applyCandidate.sfxContactSource=o)}}e.CandidateModelHelper.ApplyDefaultModes(e.applyCandidate);var p=new Date;e.applyCandidate.createDate=e.applyCandidate.updateDate=p.getTime(),delete e.applyCandidate.candidateId,t.resumeParsed&&null!==t.resumeXML&&(e.applyCandidate.resume=t.resumeXML),"undefined"!=typeof _SFXR_CONFIG&&_SFXR_CONFIG.sponsor_id&&(e.applyCandidate.sponsorCandidateId=_SFXR_CONFIG.sponsor_id,e.applyCandidate.refereeCheck="t",e.externalJob&&e.externalJob.details&&(e.applyCandidate.atsRequisitionId=e.externalJob.details.ref,e.applyCandidate.smartpostId=e.externalJob.Id));var m=e.socialProvider.getProfile();I.zeoCode(e.applyCandidate,!0).then((function(){A.inMemoryStorage.candidate.zip=e.applyCandidate.zip,null!==m.profileURL&&void 0!==m.profileURL?e.GetCustomFieldsValue(e.applyCandidate,!0).then((function(t){var a=t;e.applyCandidate[a]=m.profileURL,n.resolve(0)}),(function(e){n.resolve(0)})):n.resolve(0)}),(function(e){n.resolve(0)}))}catch(e){F.error(e),n.reject(e)}return n.promise})().then((function(){(function(){F.debug("executeAddCandidate"),e.applyCandidate.locked=null;var n=null,r=null;e.isCandidateLogEnabled&&A.logToDB("SuccessLog",e.applyCandidate,"prepareAddCandidate",null,null);var i=function(a){F.debug("executeAddCandidate"),A.localStorage.candidate.isReturningUser.set({isReturningUser:!1}),a.headers&&a.headers["x-nonce"]&&(e.xnonce=a.headers["x-nonce"]),delete a.headers,e.applyCandidate=normalizeObjects(a),A.session.candidate.set(e.applyCandidate),A.localStorage.candidate.id.set(e.applyCandidate.candidateId),XCLOUD.apply_filter("XCC_CANDIDATE_CREATED",e.applyCandidate.candidateId),t.isNewUser=!0,t.candidateResumeUpdated=!0,e.credentials.username=e.applyCandidate.uname,e.attachmentDetails.candidateId=e.applyCandidate.candidateId,t.applyCandidateId=e.applyCandidate.candidateId,e.mode="update","true"===_XC_CONFIG.omniDataEnabled&&_XC_CONFIG.analytics_id&&(e.isJobDetailPageFormLoaded&&(r=e.jobId,n=e.isJobDetailPageFormLoaded),C.fireOmniTagJS({candidateId:e.applyCandidate.candidateId,aid:_XC_CONFIG.analytics_id,calledFrom:"LCP",easyApply:!1,fromJdp:n,jobId:r})),F.trace(angular.toJson(e.credentials))},o=a.defer();return _XC_CONFIG.check_candidate_exists_on_submit&&!_XC_CONFIG.profile_login_deactivated&&"true"===_XC_CONFIG.is_microsite_log_in_enabled?e.angularSchemaObserver.notifyBlurEventListener(e.applyCandidate.uname,"uname").then((function(){return f.addCandidate(e.applyCandidate).$promise.then((function(t){try{e.isCandidateLogEnabled&&A.logToDB("SuccessLog",t,"executeAddCandidate-1",null,null),i(t),o.resolve(0)}catch(e){o.reject(e)}return o.promise}),(function(e){return o.reject(e),o.promise}))}),(function(e){return F.error(e),o.reject("Rejecting for duplicate uname"),o.promise})):f.addCandidate(e.applyCandidate).$promise.then((function(t){try{e.isCandidateLogEnabled&&A.logToDB("SuccessLog",t,"executeAddCandidate-2",null,null),i(t),o.resolve(0)}catch(e){o.reject(e)}return o.promise}),(function(e){return o.reject(e),o.promise}))})().then((function(){e.executeSocialProfileDependencyResolver().then((function(){e.getSocialChannel().then((function(){e.processCandidateSocialChannel().then((function(){x().then((function(){e.jobId?A.setAddToJobFolderDetails(e.jobId):e.reqIdLink&&e.isAlertLcp&&e.CandidateModelHelper.captureAtsLead(e.reqIdLink,t.applyCandidateId),e.isResumeLogEnabled&&A.resumelogToDB("SuccessLog - Inside then of Login Function",e.applyCandidate.uname,null),p.getSocialInternalToken("Bearer APPLY ",e.socialProvider.getProfile(),!e.socialProvider.isSocialUserRegistration).then((function(t){if(e.isResumeLogEnabled){var n={internalToken:t,isGigyaRegistrationSucceeded:e.socialProvider.isisGigyaRegistrationSucceeded,isSocialUserRegistration:e.socialProvider.isSocialUserRegistration,uname:e.applyCandidate.uname};A.resumelogToDB("SuccessLog - Inside then of getSocialInternalToken",n,null)}if(e.socialProvider.isGigyaRegistrationSucceeded){var r={internalToken:t};r.mail=e.applyCandidate.uname,e.semaphoreCollection.isLeadCapture?null!==e.jobId&&void 0!==e.jobId?(r.jobId=e.jobId,r.flow="APPLY_LCP"):r.flow="LCP":(r.flow="APPLY",r.reqId=e.reqId),e.socialProvider.utility.sessionToStorage(r)}j().then((function(t){var n={},r=A.session.candidate.resume.applyResumeStateContainer.get();null===r&&(r={}),t.hasOwnProperty("uploadedResume")?t.uploadedResume||(n.isResumeUploaded=!1):void 0!==t&&(n.isResumeUploaded=!0,n.attachmentId=t.attachmentId,n.attachmentName=t.name,n.mail=e.applyCandidate.uname,n.candidateId=e.applyCandidate.candidateId,e.semaphoreCollection.isLeadCapture?null!==e.jobId&&void 0!==e.jobId?(n.jobId=e.jobId,n.flow="APPLY_LCP"):n.flow="LCP":(n.flow="APPLY",n.reqId=e.reqId),n.reqId=e.reqId),r.attachmentChanged=!1,r.ApplyResumeState=n,A.session.candidate.resume.applyResumeStateContainer.set(r),A.inMemoryStorage.multiTypeAttachmentsToBeUploaded.length>0&&B().then((function(e){A.inMemoryStorage.multiTypeAttachmentsHasChanged=!1,A.inMemoryStorage.multiTypeAttachmentsToBeUploaded=[],o.resolve(0)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1),o.resolve(0)})),"false"!==_XC_CONFIG.profile_login_deactivated&&!1!==_XC_CONFIG.profile_login_deactivated&&!1!==_XC_CONFIG.disable_welcome_email||function(){var t=a.defer();if(!0===e.socialProvider.isSocialUserRegistration)return t.resolve(0),t.promise;var n={};return n.name=EMAIL_ACTIVATION_LINK_NAME,n.type=EMAIL_ACTIVATION_LINK_TYPE,n.client=clientName,n.username=e.applyCandidate.email,f.emailCandidate(n).$promise.then((function(e){try{F.debug("Result !!!: "+e),t.resolve(e)}catch(e){F.error(e),t.reject(e)}})),t.promise}().then((function(t){e.isResumeLogEnabled&&A.resumelogToDB("SuccessLog - Activation email sent",e.applyCandidate.uname,null),F.debug("activation email sent")})).catch((function(e){o.resolve(0),F.error(e)})),F.debug("resolving add candidate"),o.resolve(0)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(t){e.isResumeLogEnabled&&A.resumelogToDB("FailureLog - Catch block of getSocialInternalToken",null,t),F.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(t){e.isResumeLogEnabled&&A.resumelogToDB("FailureLog - Catch block of login",null,t),F.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(t){F.error(t),e.isCandidateLogEnabled&&A.logToDB("FailureLog",e.applyCandidate,"executeAddCandidate",null,t),e.globalProgressBarHandler(!1),"Rejecting for duplicate uname"!=t&&N.modal.bootstrap.show(E_BOOTSTRAP_ALERT.CLASS.DANGER,TEMPLATE_CONSTANTS.VALIDATION.CREATE_CANDIDATE_ERROR,!0)}))})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}catch(t){e.isCandidateLogEnabled&&A.logToDB("FailureLog",e.applyCandidate,"CreateCandidate Overall Catch block",null,t),F.error(t),e.globalProgressBarHandler(!1),o.reject(t)}return o.promise}var S=function(n){var r=a.defer();try{!0!==_XC_CONFIG.profile_login_deactivated&&!0!==A.inMemoryStorage.isLoginlessToken&&(e.applyCandidate=normalizeObjects(n),A.session.candidate.set(e.applyCandidate)),p.setBasicCandidate(e.applyCandidate),5===e.angularSchemaObserver.formStyleHandler.viewStyle&&t.$broadcast(BROAD_CAST_NAMESPACE.UPDATE_CANDIDATE_SCOPE,e.applyCandidate);var i=A.inMemoryStorage.multiTypeAttachmentsHasChanged;if(A.inMemoryStorage.multiTypeAttachmentsToBeUploaded.length>0&&i&&(A.inMemoryStorage.multiTypeAttachmentsHasChanged=!1,B().then((function(e){A.inMemoryStorage.multiTypeAttachmentsToBeUploaded=[],r.resolve(0)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1),r.resolve(0)}))),e.isResumeUpdated){var o={isResumeUploaded:!0};o.mail=e.applyCandidate.uname,o.candidateId=e.applyCandidate.candidateId,e.semaphoreCollection.isLeadCapture?null!==e.jobId&&void 0!==e.jobId?(o.jobId=e.jobId,o.flow="APPLY_LCP"):o.flow="LCP":(o.flow="APPLY",o.reqId=e.reqId),o.reqId=e.reqId;var l=A.session.candidate.resume.applyResumeStateContainer.get();null===l&&(l={}),l.attachmentChanged&&j().then((function(e){l.attachmentChanged=!1,l.ApplyResumeState=o,A.session.candidate.resume.applyResumeStateContainer.set(l)}))}t.candidateResumeUpdated=!0,r.resolve(e.applyCandidate)}catch(e){F.error(e),r.reject(e)}return r.promise},y=function(a){if(F.debug("updateCandidate()"),F.trace("applyCandidate: "+angular.toJson(e.applyCandidate)),v(e.applyCandidate),e.isResumeUpdated=!1,"undefined"!=typeof _SFXR_CONFIG&&_SFXR_CONFIG.sponsor_id&&(e.applyCandidate.sponsorCandidateId=_SFXR_CONFIG.sponsor_id,e.externalJob&&e.externalJob.details&&(e.applyCandidate.atsRequisitionId=e.externalJob.details.ref,e.applyCandidate.smartpostId=e.externalJob.Id)),e.attachmentDetails.candidateId=e.applyCandidate.candidateId,void 0!==e.applyCandidate.password&&null!==e.applyCandidate.password||!0!==p.isSocialProfileConnection()&&!p.isAuth0Ready||(e.applyCandidate.password=""),t.resumeParsed&&null!==t.resumeXML&&(e.applyCandidate.resume=t.resumeXML,e.isResumeUpdated=!0),e.applyCandidate.hasOwnProperty("onboardingFormId")&&delete e.applyCandidate.onboardingFormId,e.applyCandidate.uname&&(e.applyCandidate.uname=e.applyCandidate.uname.toLowerCase()),e.applyCandidate.email&&(e.applyCandidate.email=e.applyCandidate.email.toLowerCase()),_XC_CONFIG.isLoginLessReturningUser||!0===A.inMemoryStorage.isLoginlessToken)return I.zeoCode(e.applyCandidate,!0).then((function(){var t={};return null!=a&&a.viewModel?(v(a.viewModel),(t=a.viewModel).uname=e.applyCandidate.uname,delete t.candidateId,e.applyCandidate.country&&(t.country=e.applyCandidate.country),e.applyCandidate.state&&(t.state=e.applyCandidate.state),e.applyCandidate.city&&(t.city=e.applyCandidate.city),e.applyCandidate.latitude&&(t.latitude=e.applyCandidate.latitude),e.applyCandidate.longitude&&(t.longitude=e.applyCandidate.longitude),e.applyCandidate.atsRequisitionId&&(t.atsRequisitionId=e.applyCandidate.atsRequisitionId),e.applyCandidate.sponsorCandidateId&&(t.sponsorCandidateId=e.applyCandidate.sponsorCandidateId),e.applyCandidate.smartpostId&&(t.smartpostId=e.applyCandidate.smartpostId),e.applyCandidate.resume&&(t.resume=e.applyCandidate.resume)):null!=a?(t.uname=e.applyCandidate.uname,!0===a.candidateCreation&&"true"===_XC_CONFIG.is_microsite_log_in_enabled&&(t.locked="t")):(I.copyObject(t,e.applyCandidate),delete t.candidateId),g.updateViewModel({streamId:e.streamId},t).$promise.then((function(e){return S(e)}))}),(function(e){F.error(e),o.reject(e)}));var r=new Date;return e.applyCandidate.updateDate=r.getTime(),I.zeoCode(e.applyCandidate,!0).then((function(){return g.updateCandidate(e.applyCandidate).$promise.then((function(e){return S(e)}),(function(t){throw A.logLoginlessErrors("Loginless",e.applyCandidate,"Update Call - CandidatePoolBaseController: "+n,null,t),F.error(t),t}))}),(function(e){F.error(e),o.reject(e)}))};if("updateCandidate"===n)return y(r);var T=function(n){var r=a.defer();return null!==n.completed&&void 0!==n.completed||(n.completed="t"),null!==e.eduHistoryToUpload&&void 0!==e.eduHistoryToUpload&&e.eduHistoryToUpload.length>0&&void 0!==e.eduHistoryUploaded&&0===e.eduHistoryUploaded.length&&(1===e.angularSchemaObserver.fieldGroupCollection.length||1==e.angularSchemaObserver.activeForm.form[1].XCloudDefinition.persistEducationOnFirstForm)?(g.addEducation(n).$promise.then((function(a){try{for(var n in e.eduHistory=normalizeObjects(a),e.eduHistoryToUpload)(e.resumeParsed||t.resumeParsed)&&(e.eduHistoryToUpload[n].candidateId=e.applyCandidate.candidateId),g.addEducation(e.eduHistoryToUpload[n]).$promise.then((function(t){F.info("add education history record success"),e.eduHistoryUploaded.push(t),r.resolve(t)}),(function(e){hasError(e,"Unable to add employment history record!"),r.reject(e)}));r.resolve(0)}catch(e){F.error(e),r.reject(e)}})),r.promise):g.addEducation(n).$promise.then((function(e){try{n=normalizeObjects(e),r.resolve(n)}catch(e){F.error(e),r.reject(e)}return r.promise}))};if("addEducationHistory"===n)return!1!==r.deletedPreviousRecord||_XC_CONFIG.is_parse_delete_disabled?T(r.viewModel):g.deleteAllCandidateEducation({candidateId:e.applyCandidate.candidateId}).$promise.then((function(e){return r.deletedPreviousRecord="educationHistory",T(r.viewModel)}),(function(e){F.error(e),jQuery(".loading-container").css("display","none")}));if("updateEducation"===n)return function(e){var t=a.defer();return null!==e.completed&&void 0!==e.completed||(e.completed="t"),g.updateEducation(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);var _=function(n){var r=a.defer();if(null!==e.workHistoryToUpload&&void 0!==e.workHistoryToUpload&&e.workHistoryToUpload.length>0&&void 0!==e.workHistoryUploaded&&0===e.workHistoryUploaded.length&&(1===e.angularSchemaObserver.fieldGroupCollection.length||1==e.angularSchemaObserver.activeForm.form[1].XCloudDefinition.persistWorkHistoryOnFirstForm)){for(var i in e.workHistoryToUpload)(e.resumeParsed||t.resumeParsed)&&(e.workHistoryToUpload[i].candidateId=e.applyCandidate.candidateId),0!==parseInt(i)||void 0===n.title&&null===n.title||(e.workHistoryToUpload[i].title=n.title),g.addWorkHistory(e.workHistoryToUpload[i]).$promise.then((function(t){F.info("add employment history record success"),e.workHistoryUploaded.push(t),r.resolve(t)}),(function(e){hasError(e,"Unable to add employment history record!"),r.reject(e)}));return r.promise}return g.addWorkHistory(n).$promise.then((function(e){try{n=normalizeObjects(e),r.resolve(n)}catch(e){F.error(e),r.reject(e)}return r.promise}))};if("addWorkHistory"===n)return!1!==r.deletedPreviousRecord||_XC_CONFIG.is_parse_delete_disabled?_(r.viewModel):g.deleteAllCandidateWorkHistory({candidateId:e.applyCandidate.candidateId}).$promise.then((function(e){return r.deletedPreviousRecord="workHistory",_(r.viewModel)}),(function(e){F.error(e),jQuery(".loading-container").css("display","none")}));if("updateWorkHistory"===n)return function(e){var t=a.defer();return g.updateWorkHistory(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);var b=function(e){var t=a.defer();return g.addCertification(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))};if("addCertification"===n)return!1!==r.deletedPreviousRecord||_XC_CONFIG.is_parse_delete_disabled?b(r.viewModel):g.deleteAllCandidateCertification({candidateId:e.applyCandidate.candidateId}).$promise.then((function(e){return r.deletedPreviousRecord="certification",b(r.viewModel)}),(function(e){F.error(e),jQuery(".loading-container").css("display","none")}));if("updateCertification"===n)return function(e){var t=a.defer();return g.updateCertification(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);var L=function(e){var t=a.defer();return g.addConvictedPse(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))};if("addConvictedPse"===n)return!1!==r.deletedPreviousRecord||_XC_CONFIG.is_parse_delete_disabled?L(r.viewModel):g.deleteConvictedPseByCandidateId({candidateId:e.applyCandidate.candidateId}).$promise.then((function(e){return r.deletedPreviousRecord="convictionHistory",L(r.viewModel)}),(function(e){F.error(e),jQuery(".loading-container").css("display","none")}));if("updateConvictedPse"===n)return function(e){var t=a.defer();return g.updateConvictedPse(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);var w=function(e){var t=a.defer();return g.addRelative(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))};if("addRelative"===n)return!1!==r.deletedPreviousRecord||_XC_CONFIG.is_parse_delete_disabled?w(r.viewModel):g.deleteRelativeByCandidateId({candidateId:e.applyCandidate.candidateId}).$promise.then((function(e){return r.deletedPreviousRecord="relative",w(r.viewModel)}),(function(e){F.error(e),jQuery(".loading-container").css("display","none")}));if("updateRelative"===n)return function(e){var t=a.defer();return g.updateRelative(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);if("addProfReference"===n)return function(e){var t=a.defer();return g.addProfReference(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);if("updateProfReference"===n)return function(e){var t=a.defer();return g.updateProfReference(e).$promise.then((function(a){try{e=normalizeObjects(a),t.resolve(e)}catch(e){F.error(e),t.reject(e)}return t.promise}))}(r.viewModel);if("lastContainerHandler"===n&&(e.globalProgressBarHandler(!0),e.applicationStepServiceHandler().then((function(){e.globalProgressBarHandler(!0),hasSuccess("Application complete, thank you!"),e.isSessionLogged&&"f"===e.applyCandidate.locked||p.isLoggedIn&&(!0===p.isSocialProfileConnection()||p.isAuth0Ready)?(delete t.resumeJSON,delete t.resumeParsed,delete t.applyCandidateId,delete t.screening_answers_submit,delete t.screening_answers,!0===p.isSocialProfileConnection()||p.isAuth0Ready?(t.isReturningUser=null!==e.applyCandidate.locked,A.localStorage.candidate.isReturningUser.set({isReturningUser:t.isReturningUser})):(t.isReturningUser=!0,A.localStorage.candidate.isReturningUser.set({isReturningUser:!0})),e.globalProgressBarHandler(!1),u.url(E.current().url)):(e.globalProgressBarHandler(!0),t.isReturningUser=!1,A.localStorage.candidate.isReturningUser.set({isReturningUser:!1}),e.apiProxyHandler("updateCandidateSendEmail").then((function(){F.debug("Application complete, thank you!: headed to account")})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)})))})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))),"updateCandidateSendEmail"===n){o=a.defer();var P={};try{e.isSessionLogged&&null!==e.applyCandidate.locked&&void 0!==e.applyCandidate.locked||(_XC_CONFIG.profile_login_deactivated||(e.applyCandidate.locked="t",P.candidateCreation=!0),e.isSessionLogged=!e.isSessionLogged),y(P).then((function(t){e.globalProgressBarHandler(!0),e.applyCandidate=t,F.debug("updateCandidate complete");var n=u.url(),r="",o=!1!==_XC_CONFIG.landing_page;e.isLeadCaptureForModal?r=!1:e.isDynamicFormLoaded?e.formMetaDataCollection[0].formDefinition[1].XCloudDefinition.submitAction?"redirect"===e.formMetaDataCollection[0].formDefinition[1].XCloudDefinition.submitAction.type.toLowerCase()?r=e.formMetaDataCollection[0].formDefinition[1].XCloudDefinition.submitAction.message:"text"===e.formMetaDataCollection[0].formDefinition[1].XCloudDefinition.submitAction.type.toLowerCase()&&(e.showThankyouMsg=!0,e.thankYouMsg=e.formMetaDataCollection[0].formDefinition[1].XCloudDefinition.submitAction.message):e.showThankyouMsg=!0:r=-1!==n.indexOf("/apply/")?E.current().url:-1!==n.indexOf("/profile/")?"/profile/thank-you/":o&&_XC_CONFIG.landing_page.destination?_XC_CONFIG.landing_page.destination:"/profile/thank-you/";!function(){e.semaphoreCollection.isLeadCapture||e.globalProgressBarHandler(!1);var t=a.defer();try{e.socialProvider.getProfile();G(E.current().retainSession),!0===e.socialProvider.isSocialUserRegistration?e.socialUserFirstLoginAttempt():e.jobId&&e.jobUrl||I.current.get()===E_WORK_FLOW.ALERT_LCP?e.modelProcessor.baseHelper.seoRedirectHandler():o?($(".landing-page-content").hide(),$(".landing-page-thank-you").show(),XCLOUD.apply_filter("LANDING_PAGE_COMPLETE_EVENT",{candidateid:e.applyCandidate.candidateId,clientname:clientName}),triggerScroll("landing-page-thank-you","."),i((function(){setFocus("landing-page-thank-you",!1,".")}),500),_XC_CONFIG.landing_page.destination&&(window.location.href=r||_XC_CONFIG.landing_page.destination)):r?e.isDynamicFormLoaded?window.location.href=r:(document.title="Thank You",u.url(r),$("#aria-live span").hide(),$("#aria-live").append("<span>"+document.title+" Page</span>"),i((function(){$("h1:first").attr("tabindex","-1"),setFocus("h1:first",!1,"")}),3e3)):(e.globalProgressBarHandler(!1),e.isModalLcpShowThankYou=!0),t.resolve(0)}catch(a){F.error(a),e.globalProgressBarHandler(!1),e.jobId&&e.jobUrl?e.modelProcessor.baseHelper.seoRedirectHandler():u.url(r),t.reject(a)}t.promise}()})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}catch(t){F.error(t),e.globalProgressBarHandler(!1),o.reject(t)}return o.promise}if("login"===n)return x();if("subscriptionAlerts"===n)return function(t){var n=a.defer(),r={};for(var i in r.uname=t.email,r.candidateId=e.applyCandidate.candidateId,t){var o=i;-1!==o.indexOf("subscription")&&(r[o]="f",!0===t[o]&&(r[o]="t"))}return I.preferences.communications.subscriptions.addUpdateSubscriptions(r).then((function(e){n.resolve(0)}),(function(e){n.resolve(0)})),n.promise}(r.viewModel);if("termsAndConditionsOptIn"===n)return function(e){var t=a.defer();return e&&e.termsAndPolicy&&!1!==e.termsAndPolicy?(I.profile.termsAndConditions.optIN(e.candidateId).then((function(e){t.resolve(0)}),(function(e){t.resolve(0)})),t.promise):(t.resolve(0),t.promise)}(r.viewModel);return n===TEMPLATE_CONSTANTS.PREFIX.ON_BOARDING_FORM_COMPLETION?function(e){var t=a.defer();return t.resolve(0),t.promise()}(r.viewModel):void 0},e.fetchCurrentCandidate=function(a,n){p.isLoggedIn?(F.debug("querying candidate"),g.getCurrentCandidate().$promise.then((function(r){if(e.applyCandidate=normalizeObjects(r),A.inMemoryStorage.candidate.zip=e.applyCandidate.zip,e.applyCandidate.ssn&&delete e.applyCandidate.ssn,e.applyCandidate.resume&&(t.resumeUpdated=!0),A.session.candidate.set(e.applyCandidate),A.localStorage.candidate.id.set(e.applyCandidate.candidateId),p.setBasicCandidate(e.applyCandidate),1===a.indexOfForm){var i=null,o=null;null!==e.reqId&&void 0!==e.reqId&&(i=e.reqId),null!==e.jobId&&void 0!==e.jobId&&(o=e.jobId),t.$broadcast(BROAD_CAST_NAMESPACE.CURRENT_CANDIDATE_FETCHED,{candidateId:e.applyCandidate.candidateId,mail:e.applyCandidate.uname,reqId:i,jobId:o})}e.isSessionLogged=!0,e.canInfoComplete=!0,U=p.isSocialProfileConnection()||p.isAuth0Ready,e.genericDataPopulate(),void 0!==n&&n(e.applyCandidate,a),e.semaphoreCollection.isLeadCapture||!0===e.semaphoreCollection.onBoarding||null==i?e.globalProgressBarHandler(!1):m.getApplicationExistsStatusByReqId({requisitionId:i}).$promise.then((function(a){var n=normalizeObjects(a);n&&"true"==n.reqStatus&&(e.alreadyApplied=!0,t.alreadyApplied=!0),e.globalProgressBarHandler(!1)}),(function(e){F.error(e)}))})).catch((function(t){A.logLoginlessErrors("Loginless",{},"Current Call - fetchCurrentCandidate",null,t),F.error(t),e.globalProgressBarHandler(!1)}))):(e.genericDataPopulate(),e.globalProgressBarHandler(!1),F.debug("add new candidate"),e.isSessionLogged=!1,U=!1)},e.fetchCandidateAssociationData=function(t,a,n){if(null===n){var r=null;null!==s.get("dynamicQues")&&void 0!==s.get("dynamicQues")&&(r=s.get("dynamicQues")),a(r,t)}else if(p.isLoggedIn){t.showEditButton=!0;A.session.candidate.get();n({candidateId:e.applyCandidate.candidateId}).$promise.then((function(n){var r=normalizeObjects(n);t.showEditButton=!0,r.length>0?("attachment"===t.table&&(t.rowEditMode=!0),a(r,t)):a(null,t),e.globalProgressBarHandler(!1)}),(function(t){e.globalProgressBarHandler(!1),F.error(t)}))}e.globalProgressBarHandler(!1)},e.applicationStepServiceHandler=function(){var n=a.defer();try{(function(){var n=a.defer(),r=null;try{if(F.debug("prepareAddApplication"),e.applyCandidate=A.session.candidate.get(),e.application.candidateId=e.applyCandidate.candidateId,e.application.requisitionId=e.reqIdLink,"t"===e.easyApplyFlag?e.application.sfxApplicationMethod=e.application.submissionSource="SFX Short Apply":e.application.sfxApplicationMethod="SFX Application","true"===_XC_CONFIG.omniDataEnabled&&void 0!==_XC_CONFIG.analytics_id&&""!==_XC_CONFIG.analytics_id&&null!==_XC_CONFIG.analytics_id&&("t"===e.easyApplyFlag?C.fireOmniTagJS({candidateId:e.application.candidateId,aid:_XC_CONFIG.analytics_id,calledFrom:"APPLY",easyApply:!0,reqId:e.atsRequisitionId}):C.fireOmniTagJS({candidateId:e.application.candidateId,aid:_XC_CONFIG.analytics_id,calledFrom:"APPLY",easyApply:!1,reqId:e.application.requisitionId})),CWS.nativeSourceTracking.isNativeSourceTrackingActive()){var i=CWS.nativeSourceTracking.getConfiguredSourceParameters(),o=null;if(i){if(o=CWS.nativeSourceTracking.getSourceInURL(i))for(var l in o)r=o[l];else{var s=CWS.cookies.getItem("nativeSourceTracking");s&&(r=(s=decodeURIComponent(s)).split("|")[1])}!r&&CWS.nativeSourceTracking.isDefaultSourceTrackingEnabled()&&(r=CWS.nativeSourceTracking.getDefaultSource()),r&&(e.application.sfxApplicationSource=r)}}A.session.candidate.resume.applyResumeStateContainer.remove(),e.application.status="Applied",e.application.reqScreenValue=0,e.application.generalScreenValue=0,e.application.interviewScreenValue=0,e.application.totalScreenValue=0,CWS.enhancedSourceTracking.isApplyDateDisabled()||(e.application.applyDate=(new Date).getTime()),_XC_CONFIG.is_internal_site?e.application.applicationType="I":e.application.applicationType="E",t.screening_answers_submit&&t.screening_answers.length>0&&(e.application.answers=t.screening_answers.filter((function(e){return null!=e.answer}))),_XC_CONFIG.GH_integration_enabled&&(e.application.answers=e.angularSchemaObserver.retrieveDynamicQuesObj(e.application.candidateId,e.application.requisitionId));var c=e.applyCandidate;delete c.password;var u=new Date;u.setDate(u.getDate()+30);d.putObject("xcc",c),n.resolve(0)}catch(e){F.error(e),n.reject(e)}return n.promise})().then((function(r){(function(){try{var t=a.defer();e.isApplicationLogEnabled&&(e.logString="candidateID: "+e.application.candidateId+"requisitionId: "+e.application.requisitionId+" : sequence -2: object "+JSON.stringify(e.application).replace(/["]/g,""),e.comment="Application Log: "+e.application.candidateId,w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment}));var n={easyApplyFlag:"f",callEsb:"f",enhancedAddApplicationStepFlow:"f"};if("t"===e.easyApplyFlag&&(n.easyApplyFlag="t"),_XC_CONFIG.GH_integration_enabled&&(n.callEsb="t"),CWS.enhancedSourceTracking.isEnhancedAddApplicationStepFlowEnabled()&&(n.enhancedAddApplicationStepFlow="t"),_XC_CONFIG.is_new_area_interest_config_enabled&&A.inMemoryStorage.systemGeneratedAOI.areaOfInterest){var r=a.defer(),i=[{usersId:null,areaOfInterest:A.inMemoryStorage.systemGeneratedAOI.areaOfInterest,isSystemGenerated:1}];g.updateCandidateAreaOfInterestList({candidateId:e.application.candidateId},i).$promise.then((function(e){r.resolve(0)}),(function(e){F.error(e),r.reject(e)}))}return m.combinedAddApplication(n,e.application).$promise.then((function(a){e.application=normalizeObjects(a),A.localStorage.application.id.set(e.application.applicationId),e.isApplicationLogEnabled&&(e.logString="applicationId :"+e.application.applicationId+" sequence -1: Application object "+JSON.stringify(e.application).replace(/["]/g,""),e.comment="Application Log: "+e.application.applicationId,w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment})),t.resolve(0)}),(function(a){e.logString="Error sequence -1: Combined Application Failed "+JSON.stringify(a).replace(/["]/g,""),e.comment="Application Log: "+e.application.candidateId,w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment}),t.reject(0)}))}catch(t){e.isApplicationLogEnabled&&(e.logString="Error sequence -1: Combined Application try catch failure "+JSON.stringify(t).replace(/["]/g,""),e.comment="Application Log: ",w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment}))}})().then((function(a){e.isApplicationLogEnabled&&(e.logString="ApplicationID: "+e.application.applicationId+": sequence 1",e.comment="Application Log: "+e.application.applicationId,w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment})),E.next(),A.showScreeningMessageComponent=!1,e.isApplicationLogEnabled&&(e.logString="ApplicationID: "+e.application.applicationId+" : sequence 3: After Add Dynamic Answer :",t.screening_answers_submit&&(e.logString+="screenign_answer_submit is defined: "+t.screening_answers_submit+":"),t.screening_answers&&t.screening_answers.length>0&&(e.logString+="screenign_answer is defined: "+JSON.stringify(t.screening_answers).replace(/["]/g,"")),e.comment="Application Log: "+e.application.applicationId,w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment})),t.screening_answers_submit&&t.screening_answers.length>0?(A.showScreeningMessageComponent=!0,e.isApplicationLogEnabled&&(e.logString="ApplicationID: "+e.application.applicationId+" : sequence 4: Applicaiton has Screeening Answer Check Passed",e.comment="Application Log: "+e.application.applicationId,w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment})),y.setViewModel().then((function(e){if(A.localStorage.screening.result.set(e),F.debug("screening evaluation is completed"),e.hasQualified){var t=A.localStorage.requisition.assessmentPositionCode.get();null!==t&&!0===angular.isArray(t)&&t.length>0?T.createForRequisition(A.session.candidate.get().candidateId,A.session.requisition.get().requisitionId).then((function(e){0===e.length?F.debug("NO assessment for candidate is created"):F.debug("assessment for candidate is created"),n.resolve(0)})).catch((function(e){E.next(),F.error("failed to create assessments"),F.error(e),n.resolve(0)})):(E.next(),F.debug("add Application step completed"),n.resolve(0))}else E.next(),F.debug("add Application step completed"),n.resolve(0)})).catch((function(e){E.next(),F.error(e),n.resolve(0)}))):(E.next(),F.debug("add Application step completed"),n.resolve(0))})).catch((function(t){e.isApplicationLogEnabled&&(e.logString="Error sequence -1: Combined Application Failed "+JSON.stringify(t).replace(/["]/g,""),e.comment="Application Log: ",w.setErrorLog({error_module:"ApplyFlow",error:e.logString,comment:e.comment})),e.globalProgressBarHandler(!1),n.reject(t)}))})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1),n.reject(t)}))}catch(e){F.error(e),n.reject(e)}return n.promise},e.buildModelProcessor=function(){var n={initialize:function(){e.globalProgressBarHandler(!0),e.attachmentDetails={},e.fileFormName={},e.dobPattern="\\d{4}-\\d{2}-\\d{2}",t.resumeJSON={},t.resumeParsed=!1,t.applyCandidateId=null,e.alreadyApplied=!1,e.credentials={},e.uniqueEmail=!0,e.deactiveCheck=!0,e.applyCandidate={},p.isLoggedIn||void 0===e.preLoadExternalDataSource||!0!==e.preLoadExternalDataSource?e.globalProgressBarHandler(!1):e._newSocialProfileHandler()}},r={resume:{},socialSite:{},genericPopulate:{},primary:{identity:"resume"},secondary:{identity:"socialSite"},third:{identity:"genericPopulate"}},l={fieldParsers:{JSON:{fromDB:function(e){try{return null!=e?angular.fromJson(e):e}catch(t){return e}},toDB:function(e){try{return angular.toJson(e)}catch(t){return e}}},arrayToJoin:{toDB:function(e){try{return null!=e&&angular.isArray(e)?e.join():e}catch(t){return e}},fromDB:function(e){try{return null!=e?e.split(","):e}catch(t){return e}}},multiselectDropdownParser:{toDB:function(e){try{return null!=e&&angular.isArray(e)?e.join():e}catch(t){return e}},fromDB:function(e){try{return null!=e?e.split(","):e}catch(t){return e}}},customfieldMultiSelectParser:{toDB:function(e){try{return e}catch(t){return e}},fromDB:function(e){try{return e}catch(t){return e}}},null:{defaults:function(e){return null===e?"":e}},list:{internalCaller:function(e,t,a,n){if(void 0===e||0===e.length)return a;var r=_.where(e,{key:t});return void 0!==r&&r.length>0?n(a,r[0].listLookUp):a},getDisplayText:function(t,a,n){return this.internalCaller(t,a,n,e.getLabelByValue)},getDisplayValue:function(t,a,n){return this.internalCaller(t,a,n,e.getValueByLabel)}},completed:{displayParser:function(e){return!0===e||"t"===e?"Yes":"No"},viewParser:function(e){return"Yes"===e||"No"!==e&&e},databaseParser:function(e){return!0===e?"t":"f"}},current:{displayParser:function(e){return!0===e||"t"===e?"Yes":"No"},viewParser:function(e){return"Yes"===e||"No"!==e&&e},databaseParser:function(e){return!0===e?"t":"f"}},booleanParser:{displayParser:function(e){return!0===e||"true"===e||"t"===e?"Yes":!1===e||"false"===e||"f"===e?"No":e},viewParser:function(e){return"Yes"===e||"No"!==e&&e},databaseParser:function(e){return e}},multiCheckBoxParser:{fromDB:function(e){return!0===e||"true"===e||"t"===e||"Yes"===e||!1!==e&&"false"!==e&&"f"!==e&&"No"!==e&&e},toDB:function(e){return!0===e||"true"===e||"t"===e||"Yes"===e?"true":!1===e||"false"===e||"f"===e||"No"===e?"false":e}},issueDate:{displayParser:function(e,t){return null==e||""===e||0===e||void 0===e?null:!0===t?S("date")(e,"yyyy-MM-dd"):new Date(e)},viewParser:function(e){if(null!==e&&""!==e){var t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}return null},databaseParser:function(e){return S("date")(e,"yyyy-MM-dd")}},dob:{displayParser:function(e,t){return null==e||""===e||0===e||void 0===e?null:!0===t?S("date")(e,"yyyy-MM-dd"):new Date(e)},viewParser:function(e){if(null!==e&&""!==e){var t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}return null},databaseParser:function(e){return S("date")(e,"yyyy-MM-dd")}},genericDateParser:{displayParser:function(e,t){return null==e||""===e||0===e||void 0===e?null:!0===t?S("date")(e,"yyyy-MM-dd"):new Date(e)},viewParser:function(e){if(null!==e&&""!==e){var t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}return null},databaseParser:function(e){return null==e||""===e||void 0===e?null:new Date(e)}}},gridFormHandler:{submit:function(t,a,n){e.globalProgressBarHandler(!0);var r=t.isValidTransactionQueue();if(void 0!==t.gridHandler||r){var i={viewModel:{},isOfflineStorage:t.isOfflineStorage,deletedPreviousRecord:t.deletedPreviousRecord};e.angularSchemaObserver.modelToDatabaseConverter(t,i.viewModel),e.apiProxyHandler(n,i).then((function(n){i.viewModel=n,t.deletedPreviousRecord=i.deletedPreviousRecord;var r={};void 0!==t.gridHandler?(e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,r,i.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.addRow(r,a.table),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t)):(e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,r,i.viewModel,a,!0),e.angularSchemaObserver.mergeModel(t.model,r),e.angularSchemaObserver.showNextFieldGroup(t)),!1!==e.semaphoreCollection.isLeadCapture&&e.angularSchemaObserver.formStyleHandler.viewStyle===e.angularSchemaObserver.formStyleHandler.viewStylesEnum.none||e.globalProgressBarHandler(!1)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},update:function(t,a,n){e.globalProgressBarHandler(!0);var r=t.isValidTransactionQueue();if(void 0!==t.gridHandler||r){var i={viewModel:{},isOfflineStorage:t.isOfflineStorage};e.angularSchemaObserver.modelToDatabaseConverter(t,i.viewModel),e.apiProxyHandler(n,i).then((function(n){if(i.viewModel=n,e.results=n,t.gridHandler){e.gridForm=t.gridHandler.modelHandler;var r={style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE},scope:e};L.open(r,"/wp-content/plugins/xcloud/app/shared/schema_framework/grid_widget/schema-grid-update-confirmation.html","schemaGridModalPopupController")}var o={};void 0!==t.gridHandler?(e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,o,i.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.updateRow(o,a.table),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t)):(e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,o,i.viewModel,a,!0),e.angularSchemaObserver.mergeModel(t.model,o),e.angularSchemaObserver.showNextFieldGroup(t)),!1!==e.semaphoreCollection.isLeadCapture&&e.angularSchemaObserver.formStyleHandler.viewStyle===e.angularSchemaObserver.formStyleHandler.viewStylesEnum.none||e.globalProgressBarHandler(!1)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},deleteSubmitPayload:function(e,t,a){angular.forEach(e,(function(n,r){n[t]===a&&e.splice(r,1)}))},updateSubmitPayload:function(e,t,a){for(var n in e)if(e[n][t]===a[t]){e[n]=a;break}},delete:function(t,a,n,r){if(e.globalProgressBarHandler(!0),void 0!==t.isOfflineStorage&&!0===t.isOfflineStorage)return t.gridHandler.removeRow(r),0===t.gridHandler.modelHandler.rowCollection.length&&(t.gridHandler.loadFromResume=!1),t.model={},t.model.completed=!1,void e.globalProgressBarHandler(!1);a(n).$promise.then((function(a){t.gridHandler.removeRow(r),0===t.gridHandler.modelHandler.rowCollection.length&&(t.gridHandler.loadFromResume=!1),t.model={},t.model.completed=!1,e.globalProgressBarHandler(!1)}),(function(t){F.error(t),e.globalProgressBarHandler(!1)}))},resetFormModel:function(t){var a=t.filter.getFieldParserDefinition().booleanFields,n=t.filter.getFieldParserDefinition().dateFields;t.model={},a.length>0&&angular.forEach(a,(function(e){t.model[e]=!1})),t.currentForm.$setPristine(),t.currentForm.$setUntouched(),t.setKeyElementFocus(),n.length>0&&t.$broadcast("resetDateRange"),5===e.angularSchemaObserver.formStyleHandler.viewStyle&&(t.hideForm=!0)},externalDataInsertion:function(t,n,r){var i=!0===t.isPartialSave&&!1===t.isOfflineStorage,o=r.primary.identity,l=e.angularSchemaObserver.getPrimaryExternalDataSource(r).data;angular.isArray(l)&&0!==l.length||(l=e.angularSchemaObserver.getSecondaryExternalDataSource(r).data,o=r.secondary.identity),!i||angular.isArray(l)&&0!==l.length||(l=t.gridHandler.modelHandler.rowCollection);var s=a.defer();if(p.isLoggedIn){var c=0,d=t.gridHandler.modelHandler.maxRowCount;A.session.candidate.get();if(angular.isArray(l)){var u=function(){angular.forEach(l,(function(a){if((void 0===CUSTOM_FIELD_MANAGEMENT_SETTINGS||void 0===CUSTOM_FIELD_MANAGEMENT_SETTINGS.resumeDataParseRule||!0!==CUSTOM_FIELD_MANAGEMENT_SETTINGS.resumeDataParseRule.includeMandatoryFieldCheck||o!==r.primary.identity||t.isValidModel(a))&&(a.candidateId=e.applyCandidate.candidateId,e.globalProgressBarHandler(!0),0===d||c<d)){c++;var l={viewModel:a,deletedPreviousRecord:t.deletedPreviousRecord};e.apiProxyHandler(n,l).then((function(n){l.viewModel=n;var r={};if(e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,r,l.viewModel,null,!0,t.gridHandler.modelHandler),!1!==i)return angular.extend(a,l.viewModel),s.resolve(0),void e.angularSchemaObserver.showNextFieldGroup(t);t.gridHandler.mandatoryFieldCollection=t.mandatoryFieldCollection,t.gridHandler.addRow(r,t.table),s.resolve(0)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}}))};!1!==t.deletedPreviousRecord||_XC_CONFIG.is_parse_delete_disabled?(u(),e.globalProgressBarHandler(!1)):"addWorkHistory"===n?g.deleteAllCandidateWorkHistory({candidateId:e.applyCandidate.candidateId}).$promise.then((function(a){t.deletedPreviousRecord="workHistory",u(),e.globalProgressBarHandler(!1)})):"addEducationHistory"===n&&g.deleteAllCandidateEducation({candidateId:e.applyCandidate.candidateId}).$promise.then((function(a){t.deletedPreviousRecord="educationHistory",u(),e.globalProgressBarHandler(!1)}))}else e.globalProgressBarHandler(!1),s.resolve(0)}else e.globalProgressBarHandler(!1),s.resolve(0);return s.$promise}},externalDataSourceCollection:angular.copy(r),protoTypeSupplier:{gridConfiguration:function(e,t,a){e.rowCollection=[],e.minRowCount=t.minRowCount,e.maxRowCount=t.maxRowCount,e.title=t.title,e.messageOnMinCount=t.messageOnMinCount,e.messageOnMaxCount=t.messageOnMaxCount,void 0!==t.labelField&&(e.labelField=t.labelField),e.columns=[],angular.forEach(t.headerFields,(function(t){var n=_.findWhere(a,{key:t});void 0!==n&&e.columns.push({key:n.key,title:n.title})}))}},initialize:function(){e.editModel=p.isLoggedIn},submit:function(t,n){a.defer();return e.angularSchemaObserver.showNextFieldGroup(t)},update:function(t,n){a.defer();return e.angularSchemaObserver.showNextFieldGroup(t)},lastFormHandler:function(t){a.defer();if(e.globalProgressBarHandler(!0),e.applyCandidate&&e.applyCandidate.candidateId&&XCLOUD.apply_filter("XCC_LAST_FORM_SUBMIT",e.applyCandidate.candidateId),!0===t.isLastForm){var n=new URL(window.location.href),r=n.searchParams.get("action"),i=n.searchParams.get("event_id"),l="";l="event-check-in"===r&&i?o.location.href.substring(0,220):o.location.href;var s={applyStreamId:e.streamId,candidateId:e.applyCandidate.candidateId,hostUrl:l};_XC_CONFIG.landing_page&&_XC_CONFIG.landing_page.id&&(s.wpLandingPageId=_XC_CONFIG.landing_page.id),P.addCandidateForm(s).$promise.then((function(){if(t.hide=!0,t.editModel=!0,e.semaphoreCollection.isLeadCapture){if(I.current.get()==E_WORK_FLOW.APPLY_LCP&&CWS.enhancedSourceTracking.isEnhancedSourceTrackingActive())try{return e.apiProxyHandler("applyJoinApplicationCreationHandler")}catch(a){return e.modelProcessor.baseHelper.leadCaptureLastFormHandler(t)}return e.modelProcessor.baseHelper.leadCaptureLastFormHandler(t)}if(!e.semaphoreCollection.isDashboard)return e.apiProxyHandler(e.lastFormProxyIndicator);var a=t.nextFieldGroup;e.angularSchemaObserver.DashboardUpdateAllFormData(t,a),e.globalProgressBarHandler(!1)}))}},leadCaptureLastFormHandler:function(n){var r=a.defer();_XC_CONFIG.landing_page;return e.applyCandidate=A.session.candidate.get(),e.eventHandler().then((function(){try{if(F.debug("processAddCandidate complete"),!0!==n.isLastForm||"t"!==e.applyCandidate.locked&&null!==e.applyCandidate.locked&&void 0!==e.applyCandidate.locked)if(!0!==n.isLastForm||"f"!==e.applyCandidate.locked&&!0!==U){if(!0!==n.isLastForm)return e.globalProgressBarHandler(!1),delete n.onCompleteHandler,e.angularSchemaObserver.showNextFieldGroup(n)}else hasSuccess("update complete, thank you!"),delete t.resumeJSON,delete t.resumeParsed,delete t.applyCandidateId,e.jobId&&e.jobUrl?e.modelProcessor.baseHelper.seoRedirectHandler():_XC_CONFIG.landing_page?_XC_CONFIG.landing_page.destination?o.location.href=_XC_CONFIG.landing_page.destination:($(".landing-page-content").hide(),$(".landing-page-thank-you").show(),XCLOUD.apply_filter("LANDING_PAGE_COMPLETE_EVENT",{candidateid:e.applyCandidate.candidateId,clientname:clientName}),triggerScroll("landing-page-thank-you","."),i((function(){setFocus("landing-page-thank-you",!1,".")}),500),_XC_CONFIG.temptoken_timeout&&(window.clearTimeout(_XC_CONFIG.temptoken_timeout),c.remove("tempToken"))):o.location.href=e.languageCode+"/profile/";else e.apiProxyHandler("updateCandidateSendEmail").then((function(){F.debug("Application complete, thank you!: headed to account"),r.resolve(0)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}catch(t){e.globalProgressBarHandler(!1),r.reject(t),F.error(t)}})).catch((function(e){F.error(e)})),r.promise},seoRedirectHandler:function(){if(_XC_CONFIG.xcloudPageAttributes.destination)if(_XC_CONFIG.xcloudPageAttributes.target){if(_XC_CONFIG.xcloudPageAttributes.targetWindow?o.open(_XC_CONFIG.xcloudPageAttributes.destination?_XC_CONFIG.xcloudPageAttributes.destination:e.jobUrl,_XC_CONFIG.xcloudPageAttributes.target,"location=yes"):o.open(_XC_CONFIG.xcloudPageAttributes.destination?_XC_CONFIG.xcloudPageAttributes.destination:e.jobUrl,_XC_CONFIG.xcloudPageAttributes.target),void 0===t.isNewUser||!0!==t.isNewUser)o.open("/profile/");else if(!0===t.isNewUser){3===(f=o.location.pathname.split("/")).length?o.location.href="/"+f[1]+"/thank-you/":4===f.length?o.location.href="/"+f[1]+"/"+f[2]+"/thank-you/":o.location.href="/profile/thank-you/"}}else o.location.href=_XC_CONFIG.xcloudPageAttributes.destination?_XC_CONFIG.xcloudPageAttributes.destination:e.jobUrl;else if(!0===p.isLoggedIn&&I.current.get()===E_WORK_FLOW.JOIN_LCP&&!1===_XC_CONFIG.landing_page){var a=v.schemaInterpolation.languageSupplier("/profile/");!1===A.localStorage.candidate.isReturningUser.get()&&void 0!==localStorage.getItem(_XC_CONFIG.org+".applicationURL")?N.modal.bootstrap.show(E_BOOTSTRAP_ALERT.CLASS.DANGER,TEMPLATE_CONSTANTS.VALIDATION.PREVENT_LOGIN):window.location.replace(a)}else if(e.jobUrl)if("true"===_XC_CONFIG.apply_join_specific_redirection_enabled&&_XC_CONFIG.apply_join_redirect_url.trim())o.location.href=_XC_CONFIG.apply_join_redirect_url;else{var n=u.search();if(e.jobUrl&&n)for(var r in n)if("job"!==r&&"link"!==r){var i=A.utilityMethods.mapATSParams(r,e.jobUrl);e.jobUrl=A.utilityMethods.addSingleUrlQueryParam(e.jobUrl,i,n[r])}try{var l=CWS.nativeSourceTracking&&CWS.nativeSourceTracking.getConfiguredSourceParameters();if(l&&!CWS.nativeSourceTracking.getSourceInURL(l)){var s=e.jobUrl&&A.utilityMethods&&A.utilityMethods.addDefaultParams(e.jobUrl);if(s){var c=e.jobUrl;for(var d in s)c=A.utilityMethods.addSingleUrlQueryParam(c,d,s[d]);e.jobUrl=c}}}catch(e){console.error("Error while configuring tracking parameters: ",e)}if(new URLSearchParams(window.location.search).has("iframe")&&e.jobUrl){var m={};m.old_url=o.location.href,m.new_url=e.jobUrl,window.parent.applyFormIframeTriggerCallback(m)}o.location.href=e.jobUrl}else if(F.log("Fetching job url failed"),void 0===t.isNewUser||!0!==t.isNewUser)o.location.href="/profile";else if(!0===t.isNewUser){var f;3===(f=o.location.pathname.split("/")).length?o.location.href="/"+f[1]+"/thank-you/":4===f.length?o.location.href="/"+f[1]+"/"+f[2]+"/thank-you/":o.location.href="/profile/thank-you/"}},emitReceiver:function(t,a){e.angularSchemaObserver.registerNgModel(a)}},f={keyField:"onboardingId",submit:function(t,a){e.globalProgressBarHandler(!0);var n={viewModel:{},isOfflineStorage:t.isOfflineStorage};void 0===this.submitPayload&&(this.submitPayload={}),!0===n.isOfflineStorage?(e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),angular.merge(this.submitPayload,n.viewModel)):!1===n.isOfflineStorage&&(n.payload=this.submitPayload),e.apiProxyHandler("addOnboardingData",n).then((function(t){if(!1===n.isOfflineStorage){e.angularSchemaObserver.updateOnboardingCompletionStatus("onboarding_data",e.vm.metaDataProvider,e.$close)}e.globalProgressBarHandler(!1)}))}},h={keyField:"w4Id",submit:function(t,a){e.globalProgressBarHandler(!0);var n={viewModel:{},isOfflineStorage:t.isOfflineStorage};void 0===this.submitPayload&&(this.submitPayload={}),!0===n.isOfflineStorage?(e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),angular.merge(this.submitPayload,n.viewModel)):!1===n.isOfflineStorage&&(n.payload=this.submitPayload),e.apiProxyHandler("addw4Data",n).then((function(t){if(!1===n.isOfflineStorage){e.angularSchemaObserver.updateOnboardingCompletionStatus("w4_data",e.vm.metaDataProvider,e.$close)}e.globalProgressBarHandler(!1)}))}},C={keyField:"emergencyContactId",submitPayload:[],emergencyContactId:0,submit:function(t,a){e.globalProgressBarHandler(!0);var n={viewModel:{},isOfflineStorage:t.isOfflineStorage};!0===n.isOfflineStorage?(e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),this.emergencyContactId+=1,n.viewModel.emergencyContactId=this.emergencyContactId):!1===n.isOfflineStorage&&(n.payload=this.submitPayload),e.apiProxyHandler("addEmergencyContacts",n).then((function(r){if(!0===n.isOfflineStorage){n.viewModel=r;var i={};e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,i,n.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.addRow(i,a.table),e.modelProcessor.onboarding_ec.submitPayload.push(n.viewModel),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t),e.globalProgressBarHandler(!1)}else if(!1===n.isOfflineStorage){e.globalProgressBarHandler(!1),e.angularSchemaObserver.updateOnboardingCompletionStatus("onboarding_ec",e.vm.metaDataProvider,e.$close)}})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))},update:function(t,a){if(e.globalProgressBarHandler(!0),void 0!==t.gridHandler){var n={viewModel:{},isOfflineStorage:t.isOfflineStorage},r=this.keyField;e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),e.apiProxyHandler(null,n).then((function(i){n.viewModel=i;var o={};e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,o,n.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.updateRow(o,a.table),e.modelProcessor.baseHelper.gridFormHandler.updateSubmitPayload(e.modelProcessor.onboarding_ec.submitPayload,r,n.viewModel),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t),e.globalProgressBarHandler(!1)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.deleteSubmitPayload(this.submitPayload,this.keyField,a),e.modelProcessor.baseHelper.gridFormHandler.delete(t,null,null,a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=C.keyField,n.labelField="contact",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n}},y={keyField:"dependentContactId",submitPayload:[],dependentContactId:0,submit:function(t,a){e.globalProgressBarHandler(!0);var n={viewModel:{},isOfflineStorage:t.isOfflineStorage};!0===n.isOfflineStorage?(e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),this.dependentContactId+=1,n.viewModel.dependentContactId=this.dependentContactId):!1===n.isOfflineStorage&&(n.payload=this.submitPayload),e.apiProxyHandler("addDependentContacts",n).then((function(r){if(!0===n.isOfflineStorage){n.viewModel=r;var i={};e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,i,n.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.addRow(i,a.table),e.modelProcessor.onboarding_sub_data.submitPayload.push(n.viewModel),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t),e.globalProgressBarHandler(!1)}else if(!1===n.isOfflineStorage){e.globalProgressBarHandler(!1),e.angularSchemaObserver.updateOnboardingCompletionStatus("onboarding_sub_data",e.vm.metaDataProvider,e.$close)}})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))},update:function(t,a){if(e.globalProgressBarHandler(!0),void 0!==t.gridHandler){var n={viewModel:{},isOfflineStorage:t.isOfflineStorage},r=this.keyField;e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),e.apiProxyHandler(null,n).then((function(i){n.viewModel=i;var o={};e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,o,n.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.updateRow(o,a.table),e.modelProcessor.baseHelper.gridFormHandler.updateSubmitPayload(e.modelProcessor.onboarding_sub_data.submitPayload,r,n.viewModel),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t),e.globalProgressBarHandler(!1)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.deleteSubmitPayload(this.submitPayload,this.keyField,a),e.modelProcessor.baseHelper.gridFormHandler.delete(t,null,null,a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=y.keyField,n.labelField="contact",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n}},T={keyField:"preparersId",submitPayload:{i9Data:{},preparers:[]},preparersId:0,submit:function(t,a){e.globalProgressBarHandler(!0);var n={viewModel:{},isOfflineStorage:t.isOfflineStorage};if(!0===n.isOfflineStorage)if(e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),!0===t.gridEnabled){this.preparersId+=1,n.viewModel.preparersId=this.preparersId;var r={};e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,r,n.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.addRow(r,a.table),e.modelProcessor.i9_data.submitPayload.preparers.push(n.viewModel),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t)}else angular.merge(e.modelProcessor.i9_data.submitPayload.i9Data,n.viewModel);else!1===n.isOfflineStorage&&(n.payload=this.submitPayload);e.apiProxyHandler("addi9data",n).then((function(t){if(!1===n.isOfflineStorage){e.angularSchemaObserver.updateOnboardingCompletionStatus("i9_data",e.vm.metaDataProvider,e.$close),e.globalProgressBarHandler(!1)}e.globalProgressBarHandler(!1)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))},update:function(t,a){if(e.globalProgressBarHandler(!0),void 0!==t.gridHandler){var n={viewModel:{},isOfflineStorage:t.isOfflineStorage},r=this.keyField;e.angularSchemaObserver.modelToDatabaseConverter(t,n.viewModel),e.apiProxyHandler(null,n).then((function(i){n.viewModel=i;var o={};e.angularSchemaObserver.databaseToModelConverter(t.filter.getFieldCustomParserDefinition(),t.filter.getFieldParserDefinition(),t.filter.getFieldCollection(),t.fieldLookUpCollection,o,n.viewModel,a,!0,t.gridHandler.modelHandler),t.gridHandler.updateRow(o,a.table),e.modelProcessor.baseHelper.gridFormHandler.updateSubmitPayload(e.modelProcessor.i9_data.submitPayload.preparers,r,n.viewModel),e.modelProcessor.baseHelper.gridFormHandler.resetFormModel(t),e.globalProgressBarHandler(!1)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.deleteSubmitPayload(this.submitPayload.preparers,this.keyField,a),e.modelProcessor.baseHelper.gridFormHandler.delete(t,null,null,a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=T.keyField,n.labelField="preparers",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n}},E={keyField:"candidateId",submit:function(t,n){e.globalProgressBarHandler(!0);var r={};e.angularSchemaObserver.modelToDatabaseConverter(t,r),e.applyCandidate=angular.merge(e.applyCandidate,r),e.apiProxyHandler("processAddCandidate").then((function(){a.defer();if(e.semaphoreCollection.isLeadCapture){var n=_.pick(e.applyCandidate,t.filter.getFieldCollection()),r=new Date;r.setDate(r.getDate()+30);var i={expires:r};d.putObject("xcc",n,i)}return e.angularSchemaObserver.showNextFieldGroup(t)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))},update:function(n,r){e.globalProgressBarHandler(!0);var o={viewModel:{},isOfflineStorage:n.isOfflineStorage};e.applyCandidate=A.session.candidate.get(),void 0!==o.isOfflineStorage&&!0!==o.isOfflineStorage||e.angularSchemaObserver.modelToDatabaseConverter(n,o.viewModel),o.viewModel.hasOwnProperty("onboardingFormId")&&delete o.viewModel.onboardingFormId;var l=function(){for(var t in e.applyCandidate.candidateId&&(o.viewModel.candidateId=e.applyCandidate.candidateId),e.applyCandidate=angular.merge(e.applyCandidate,o.viewModel),o.viewModel)Array.isArray(o.viewModel[t])&&(e.applyCandidate[t]=o.viewModel[t]);A.session.candidate.set(e.applyCandidate),e.apiProxyHandler("updateCandidate",o).then((function(t){var r=a.defer();try{if(F.debug("updateCandidate complete"),e.semaphoreCollection.isLeadCapture&&(e.credentials.username=e.applyCandidate.uname,e.apiProxyHandler("login",{byPassProxy:U})),n.onCompleteHandler=E.onUpdate,e.globalProgressBarHandler(!1),!0===n.isOnboardingForm&&!1===o.isOfflineStorage)e.angularSchemaObserver.updateOnboardingCompletionStatus("candidate",e.vm.metaDataProvider,e.$close);else if(!0!==n.isOnboardingForm)return e.angularSchemaObserver.showNextFieldGroup(n)}catch(t){F.error(t),e.globalProgressBarHandler(!1),r.reject(t)}return r.promise})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))};if(_XC_CONFIG.isLoginLessReturningUser&&!p.isLoggedIn){var s=function(){g.getCurrentCandidateId().$promise.then((function(t){var a=normalizeObjects(t);a&&(e.applyCandidate.candidateId=a.candidateId);var n=e.reqId?e.reqId:A.getApplyJoinRequisitionId();!n&&e.jobId?M.getRequisitionIdBySmartpostId({smartPostId:e.jobId}).$promise.then((function(e){var t=normalizeObjects(e);t&&(n=t.requisitionId,c(n))}),(function(e){F.error(e)})):c(n)}),(function(e){F.error(e)}))},c=function(a){null!=a?(A.setApplyJoinRequisitionId(a),m.getApplicationExistsStatusByReqId({requisitionId:a}).$promise.then((function(a){var n=normalizeObjects(a);n&&"true"==n.reqStatus?(e.alreadyApplied=!0,t.alreadyApplied=!0,e.globalProgressBarHandler(!1)):l()}),(function(e){F.error(e)}))):l()};e.socialProvider.isSocialUserRegistration?(e.socialProvider.returningCandidateHandler(e.socialProvider.getProfile()),i(s,1e3)):(e.credentials.username=o.viewModel.uname,e.apiProxyHandler("login",{byPassProxy:U}).then((function(e){s()})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)})))}else l()},retrieve:function(t,a){return e.fetchCurrentCandidate(t,a)},onUpdate:function(t){a.defer();return e.semaphoreCollection.isLeadCapture?e.modelProcessor.baseHelper.lastFormHandler(t):(e.globalProgressBarHandler(!1),delete t.onCompleteHandler,e.angularSchemaObserver.showNextFieldGroup(t))},externalDataSourceCollection:angular.copy(r)},b={keyField:"educationId",initialize:function(t,a){t.model={},t.model.completed=!1,e.globalProgressBarHandler(!0),this.retrieve(t,a)},retrieve:function(t,a,n){void 0===n||"DB"===n?e.fetchCandidateAssociationData(t,a,g.getCandidateEducation):"socialSite"===n&&a(b.externalDataSourceCollection[n].data,t,null,null,!0,n)},submit:function(t,a){return _XC_CONFIG.isLoginLessReturningUser&&"educationHistory"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),e.modelProcessor.baseHelper.gridFormHandler.submit(t,a,"addEducationHistory")},update:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.update(t,a,"updateEducation")},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteEducationHistory,{educationId:a},a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=b.keyField,n.additionalKeyFieldCollection=["candidateId"],n.labelField="institution",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n},externalDataSourceCollection:angular.copy(r),externalDataInsertion:function(t){a.defer();return _XC_CONFIG.isLoginLessReturningUser&&"educationHistory"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),k(b,t),e.modelProcessor.baseHelper.gridFormHandler.externalDataInsertion(t,"addEducationHistory",b.externalDataSourceCollection)},resetExternalDataSource:function(t){b.externalDataSourceCollection[t]={},e.eduHistoryToUpload&&(e.eduHistoryToUpload=null)}},O={initialize:function(e,t){this.retrieve(e,t)},retrieve:function(t,a,n){e.fetchCandidateAssociationData(t,a,null)},submit:function(t,a){if(e.globalProgressBarHandler(!0),null!==s.get("dynamicQues")&&void 0!==s.get("dynamicQues")&&s.remove("dynamicQues"),t.model){var n=t.model;s.set("dynamicQues",n);for(var r=e.angularSchemaObserver.schemaDefinitionCollection,i=null,o=0;o<r.length;o++)"dynamicQuestionnaire"==r[o].table&&(i=r[o].formDefinition[4].items[0].items);e.angularSchemaObserver.createDynamicQuesObj(i,t.model)}return e.angularSchemaObserver.showNextFieldGroup(t)},update:function(t,a){if(e.globalProgressBarHandler(!0),null!==s.get("dynamicQues")&&void 0!==s.get("dynamicQues")&&s.remove("dynamicQues"),t.model){var n=t.model;s.set("dynamicQues",n);for(var r=e.angularSchemaObserver.schemaDefinitionCollection,i=null,o=0;o<r.length;o++)"dynamicQuestionnaire"==r[o].table&&(i=r[o].formDefinition[4].items[0].items);e.angularSchemaObserver.createDynamicQuesObj(i,t.model)}return e.angularSchemaObserver.showNextFieldGroup(t)}},w={keyField:"workHistoryId",initialize:function(e,t){e.model={},this.retrieve(e,t)},retrieve:function(t,a,n){void 0===n||"DB"===n?e.fetchCandidateAssociationData(t,a,g.getCandidateWorkHistory):"socialSite"===n&&a(w.externalDataSourceCollection[n].data,t,null,null,!0,n)},submit:function(t,a){return _XC_CONFIG.isLoginLessReturningUser&&"workHistory"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),e.modelProcessor.baseHelper.gridFormHandler.submit(t,a,"addWorkHistory")},update:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.update(t,a,"updateWorkHistory")},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteWorkHistory,{workHistoryId:a},a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=w.keyField,n.additionalKeyFieldCollection=["candidateId"],n.labelField="company",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n},externalDataSourceCollection:angular.copy(r),externalDataInsertion:function(t){return _XC_CONFIG.isLoginLessReturningUser&&"workHistory"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),k(w,t),e.modelProcessor.baseHelper.gridFormHandler.externalDataInsertion(t,"addWorkHistory",w.externalDataSourceCollection)},resetExternalDataSource:function(t){w.externalDataSourceCollection[t]={},e.workHistoryToUpload&&(e.workHistoryToUpload=null)}},R={keyField:"certificationId",initialize:function(e,t){e.model={},this.retrieve(e,t)},retrieve:function(t,a,n){e.fetchCandidateAssociationData(t,a,g.getCertifications)},submit:function(t,a){return _XC_CONFIG.isLoginLessReturningUser&&"certification"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),e.modelProcessor.baseHelper.gridFormHandler.submit(t,a,"addCertification")},update:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.update(t,a,"updateCertification")},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteCertification,{certificationId:a},a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=R.keyField,n.additionalKeyFieldCollection=["candidateId"],n.labelField="name",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n},externalDataSourceCollection:angular.copy(r),resetExternalDataSource:function(e){b.externalDataSourceCollection[e]={}}},D={keyField:"attachmentId",initialize:function(e,t){e.model={},this.retrieve(e,t)},retrieve:function(t,a,n){e.fetchCandidateAssociationData(t,a,g.getCandidateAttachments)},submit:function(t,a){e.angularSchemaObserver.showNextFieldGroup(t)},update:function(t,a){e.angularSchemaObserver.showNextFieldGroup(t)},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteCandidateAttachmentById,{attachmentId:a},a)},externalDataSourceCollection:angular.copy(r),resetExternalDataSource:function(e){D.externalDataSourceCollection[e]={}}},x={keyField:"convictedPseId",initialize:function(e,t){e.model={},this.retrieve(e,t)},retrieve:function(t,a,n){e.fetchCandidateAssociationData(t,a,g.getConvictedPse)},submit:function(t,a){return _XC_CONFIG.isLoginLessReturningUser&&"convictionHistory"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),e.modelProcessor.baseHelper.gridFormHandler.submit(t,a,"addConvictedPse")},update:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.update(t,a,"updateConvictedPse")},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteConvictedPseById,{convictedPseId:a},a)},registerGridConfiguration:function(t,a){var n={};return n.keyField=x.keyField,n.additionalKeyFieldCollection=["candidateId"],n.labelField="nature",e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n},externalDataSourceCollection:angular.copy(r),resetExternalDataSource:function(e){x.externalDataSourceCollection[e]={}}},G={keyField:"relativeId",initialize:function(e,t){e.model={},this.retrieve(e,t)},retrieve:function(t,a,n){e.fetchCandidateAssociationData(t,a,g.getRelative)},submit:function(t,a){return _XC_CONFIG.isLoginLessReturningUser&&"relative"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),e.modelProcessor.baseHelper.gridFormHandler.submit(t,a,"addRelative")},update:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.update(t,a,"updateRelative")},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteRelativeById,{relativeId:a},a)},registerGridConfiguration:function(t,a){var n={keyField:"relativeId",additionalKeyFieldCollection:["candidateId"],labelField:"name"};return e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n}},H={keyField:"profReferenceId",initialize:function(e,t){e.model={},this.retrieve(e,t)},retrieve:function(t,a,n){e.fetchCandidateAssociationData(t,a,g.getCandidateProfessionalReferences)},submit:function(t,a){return _XC_CONFIG.isLoginLessReturningUser&&"prof_reference"!==t.deletedPreviousRecord&&(t.deletedPreviousRecord=!1),e.modelProcessor.baseHelper.gridFormHandler.submit(t,a,"addProfReference")},update:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.update(t,a,"updateProfReference")},delete:function(t,a){return e.modelProcessor.baseHelper.gridFormHandler.delete(t,g.deleteCandidateProfReference,{profReferenceId:a},a)},registerGridConfiguration:function(t,a){var n={keyField:"profReferenceId",additionalKeyFieldCollection:["candidateId"],labelField:"name"};return e.modelProcessor.baseHelper.protoTypeSupplier.gridConfiguration(n,t,a),n}},j={keyField:"candidate_optin_id",submit:function(t,n){if(e.globalProgressBarHandler(!0),t.isValidTransactionQueue()){var r={viewModel:{}};e.angularSchemaObserver.modelToDatabaseConverter(t,r.viewModel),e.apiProxyHandler("termsAndConditionsOptIn",r).then((function(n){a.defer();return r.viewModel=n,e.angularSchemaObserver.showNextFieldGroup(t)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},update:function(t,a){e.angularSchemaObserver.showNextFieldGroup(t)},retrieve:function(e,t,a){t&&"genericPopulate"!==a&&t({},e,null,null,null,a)}},B={keyField:"candidate_subscription_id",submit:function(t,n){if(e.globalProgressBarHandler(!0),t.isValidTransactionQueue()){var r={viewModel:{}};_XC_CONFIG.GDPR.softOptinEnabled&&(void 0!==t.model.subscription&&(t.model.subscription=!t.model.subscription),void 0!==t.model.subscription_marketing_email&&(t.model.subscription_marketing_email=!t.model.subscription_marketing_email)),_XC_CONFIG.GDPR.jobAlertSoftOptinEnabled&&void 0!==t.model.subscription_jobalert_email&&(t.model.subscription_jobalert_email=!t.model.subscription_jobalert_email),e.angularSchemaObserver.modelToDatabaseConverter(t,r.viewModel),e.apiProxyHandler("subscriptionAlerts",r).then((function(n){a.defer();return r.viewModel=n,e.angularSchemaObserver.showNextFieldGroup(t)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},update:function(t,n){if(e.globalProgressBarHandler(!0),t.isValidTransactionQueue()){var r={viewModel:{}};_XC_CONFIG.GDPR.softOptinEnabled&&(void 0!==t.model.subscription&&(t.model.subscription=!t.model.subscription),void 0!==t.model.subscription_marketing_email&&(t.model.subscription_marketing_email=!t.model.subscription_marketing_email)),_XC_CONFIG.GDPR.jobAlertSoftOptinEnabled&&void 0!==t.model.subscription_jobalert_email&&(t.model.subscription_jobalert_email=!t.model.subscription_jobalert_email),e.angularSchemaObserver.modelToDatabaseConverter(t,r.viewModel),e.apiProxyHandler("subscriptionAlerts",r).then((function(n){a.defer();return r.viewModel=n,e.angularSchemaObserver.showNextFieldGroup(t)})).catch((function(t){F.error(t),e.globalProgressBarHandler(!1)}))}},retrieve:function(e,t,a){t&&"genericPopulate"!==a&&t({},e,null,null,null,a)}};e.modelProcessor={candidate:E,education:b,work_history:w,certification:R,globalConstructor:n,fieldParser:l.fieldParsers,baseHelper:l,progressBarSemaphore:e.globalProgressBarHandler,candidate_subscription:B,candidate_optin:j,onboarding_data:f,w4_data:h,onboarding_ec:C,onboarding_sub_data:y,i9_data:T,convicted_pse:x,attachment:D,relative:G,prof_reference:H,dynamicQuestionnaire:O}};var x=function(){F.debug("login"),p.isLoggedIn=!1;var t=a.defer();return p.getTempToken(e.credentials.username,e.xnonce).then((function(a){p.loginConfirmed(),e.isResumeLogEnabled&&A.resumelogToDB("SuccessLog - Inside Login Function",a.data,null),t.resolve(e.credentials)}),(function(a){e.isResumeLogEnabled&&A.resumelogToDB("FailureLog - Inside Login Function",e.credentials.username,a),F.error(a),t.reject(a)})).catch((function(a){e.isResumeLogEnabled&&A.resumelogToDB("FailureLog - Inside Login Function",e.credentials.username,a),F.error(a),t.reject(a)})),t.promise},G=function(e){delete t.resumeJSON,delete t.resumeParsed,delete t.applyCandidateId,delete t.screening_answers_submit,delete t.screening_answers,A.inMemoryStorage.isLoginlessToken="",void 0!==e&&!1!==e||p.logout()};e.constructAngularSchemaObserver=function(t,a){void 0===e.modelProcessor&&e.buildModelProcessor(),e.angularSchemaObserver.instantiate(t,e.modelProcessor,e.semaphoreCollection,e.candidateIdSupplier,e.getCandidateParams,a)},e.getCandidateSocialChannelModel=function(e,t,a){var n={};return n.socialChannelId=e,n.candidateId=t,n.email=a.email,n.providerUid=a.uid,n.created=new Date,n.updated=new Date,n},e.executeSocialProfileDependencyResolver=function(){var n=a.defer();if(DEBUG&&F.debug("executeSocialProfileDependencyResolver"),!0===e.socialProvider.isSocialUserRegistration&&!1===e.socialProvider.isOverrideEducationandWorkHistoryCapture)try{void 0!==e.workHistory.length&&0!==e.workHistory.length||(e.workHistoryToUpload=v.socialProvider.getWorkHistoryModel(t.applyCandidateId,e.workHistory),e.workHistoryUploaded=[]),void 0!==e.eduHistory.length&&0!==e.eduHistory.length||(e.eduHistoryToUpload=v.socialProvider.getEducationHistoryModel(t.applyCandidateId,e.eduHistory),e.eduHistoryUploaded=[]),n.resolve(0)}catch(e){F.error(e),n.reject(e)}else n.resolve(0);return n.promise},e.getSocialChannel=function(){var t=a.defer();if(F.debug("getSocialChannel"),!0===e.socialProvider.isSocialUserRegistration){var n=e.socialProvider.getProfile(),r={};return r.socialChannelName=n.provider,f.getSocialChannel(r).$promise.then((function(a){try{F.debug("success:getSocialChannel"),e.socialChannel=normalizeObjects(a),t.resolve(0)}catch(e){F.error(e),t.reject(e)}}),(function(e){F.error(e),t.reject(e)}))}return t.resolve(0),t.promise},e.processCandidateSocialChannel=function(n){var r=a.defer();if(F.debug("processCandidateSocialChannel"),e.socialProvider.isGigyaRegistrationSucceeded=!0,!0===e.socialProvider.isSocialUserRegistration){var i=e.socialProvider.getProfile(),o=e.getCandidateSocialChannelModel(e.socialChannel.socialChannelId,t.applyCandidateId,i);return null==n||null===n.socialchannelConfigId||void 0===n.socialchannelConfigId?f.addCandidateToSocialChannel({apiKeyType:GIGYA_SOCIAL_SETTINGS.gigyashortcode},o).$promise.then((function(e){r.resolve(0)}),(function(t){e.socialProvider.isGigyaRegistrationSucceeded=!1,e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.registrationFail),F.error(t),r.reject(t)})):(o.socialchannelConfigId=n.socialchannelConfigId,f.updateCandidateInSocialChannel({apiKeyType:GIGYA_SOCIAL_SETTINGS.gigyashortcode},o).$promise.then((function(e){r.resolve(0)}),(function(t){e.socialProvider.isGigyaRegistrationSucceeded=!1,e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.registrationFail),F.error(t),r.reject(t)})))}return r.resolve(0),r.promise},e.fetchSocialChannelByEmailAndProvider=function(t,n){F.debug("fetchSocialChannelByEmailAndProvider");var r=a.defer();e.socialChannel=void 0;var i={};return i.userEmail=t,i.socialChannelName=n,f.getSocialChannelByEmailAndSocialProvider(i).$promise.then((function(t){return e.socialChannel=normalizeObjects(t),r.resolve(t),r.$promise}),(function(t){return e.socialChannel=void 0,r.resolve(e.socialChannel),r.$promise}))},e.getSocialChannelByEmail=function(t){F.debug("getSocialChannelByEmail");var n=a.defer();e.socialChannel=void 0;var r={};return r.userEmail=t,f.getSocialChannelByEmail(r).$promise.then((function(t){return e.socialChannel=normalizeObjects(t),n.resolve(t),n.$promise}),(function(t){return e.socialChannel=void 0,n.resolve(e.socialChannel),n.$promise}))},e.fetchCandidateByEmail=function(n){F.debug("fetchCandidateByEmail");var r=a.defer(),i={};return i.emailId=n,f.getCandidateByEmail(i).$promise.then((function(t){e.fetchCandidateByEmailResponse=normalizeObjects(t),r.resolve(e.fetchCandidateByEmailResponse)}),(function(a){t.globalErrorHandler(a),e.fetchCandidateByEmailResponse=void 0,r.reject(e.fetchCandidateByEmailResponse)}))},e.GetCustomFieldsValue=function(e,t){var n=a.defer();return l.getTableMetadata({table:"candidate"}).$promise.then((function(e){try{var t=normalizeObjects(e),a=S("filter")(t,{columnLabel:"linkedInprofileURL"})[0].columnName;n.resolve(a)}catch(e){n.reject(e)}}),(function(e){F.error("Getting metadata: "+tableName+" : "+e)})),n.promise},e.socialProfileAuthenticationEnabler=function(n,r){var i=a.defer();try{var o={};e.socialProvider.utility.setProfileDefaultsToStorage(),e.fetchSocialChannelByEmailAndProvider(n.email,n.provider).then((function(){n.isUserRegistered=void 0!==e.socialChannel,o=angular.copy(e.socialChannel),null===n.bearerAccessToken||void 0===n.bearerAccessToken||!1===n.isUserRegistered?e.fetchCandidateByEmail(n.email).then((function(){var a=void 0;e.fetchCandidateByEmailResponse&&(a=e.fetchCandidateByEmailResponse.candidateId),null!=a?(t.applyCandidateId=a,e.getSocialChannel().then((function(){e.processCandidateSocialChannel(o).then((function(){e.socialProvider.isGigyaRegistrationSucceeded?(e.socialProvider.utility.clearMergeProfileCache(!0),delete t.applyCandidateId,"apply"!=r.action&&(null==o?(r.action="merge",r.path="/profile/edit/",e.socialProvider.utility.setRedirectDirectionToStorage(r),c.set(e.socialProvider.KeysConfiguration.localStorageSocialMergedProfile,n)):(r.action="dashboard",r.path="/profile/",e.socialProvider.utility.setRedirectDirectionToStorage(r))),null===n.bearerAccessToken||void 0===n.bearerAccessToken?(e.socialProvider.setRegistrationCaller(""),e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.mergeIntermediateMessage())):e.socialProfileLogin(n,r),i.resolve(0)):(e.socialProvider.setRegistrationCaller(""),i.reject(0)),e.globalProgressBarHandler(!1)})).catch((function(e){t.globalErrorHandler(e)}))})).catch((function(e){t.globalErrorHandler(e)}))):(e.globalProgressBarHandler(!1),e.socialProvider.setRegistrationCaller(""),i.reject(0),e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.registrationFail))})).catch((function(e){t.globalErrorHandler(e)})):(e.socialProfileLogin(n,r),i.resolve(0))})).catch((function(a){t.globalErrorHandler(a),e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.generalException)}))}catch(a){t.globalErrorHandler(a),e.socialProvider.showNotificationToggle(!0,e.socialProvider.notificationEngine.generalException)}},e.overrideCandidateDataWithSocial=function(a){try{void 0!==a&&(e.applyCandidate.uname=a.email,a.firstName.length>0&&e.applyCandidate.firstName!==a.firstName&&(e.applyCandidate.firstName=a.firstName),a.lastName.length>0&&e.applyCandidate.lastName!==a.lastName&&(e.applyCandidate.lastName=a.lastName),null!==a.phone&&a.phone.length>0&&a.phone!==e.applyCandidate.phone1&&(e.applyCandidate.phone1=a.phone),null!==a.zip&&void 0!==a.zip&&a.zip.length>0&&a.zip!==e.applyCandidate.zip&&(e.applyCandidate.zip=a.zip))}catch(e){t.globalErrorHandler(e)}},e.socialBearerSuccessHandler=function(){e.socialProvider.disConnectSocialConnection(),A.localStorage.candidate.isReturningUser.set({isReturningUser:!0});var t=e.socialProvider.utility.getRedirectDirectionFromStorage();if(e.jobId&&e.jobUrl)!0===t.isSuccess&&e.socialProvider.utility.removeRedirectDirectionInStorage(),e.modelProcessor.baseHelper.seoRedirectHandler();else if(!0===t.isSuccess)switch(_XC_CONFIG.landing_page&&(t.action="microsite",_XC_CONFIG.landing_page.destination?t.path=_XC_CONFIG.landing_page.destination:t.path=""),t.action){case"merge":u.url(t.path);break;case"apply":e.socialProvider.utility.removeRedirectDirectionInStorage(),_XC_CONFIG.profile_login_deactivated||o.location.reload();break;case"microsite":c.remove("socialProfileRedirect"),location.reload(),t.path&&(o.location.href=e.languageCode+t.path);break;default:e.socialProvider.utility.removeRedirectDirectionInStorage(),b.getIsModalOpen()?(b.resetCalledFromModal(),b.setIsModalOpen(!1),o.location.href=e.languageCode+t.path):e.semaphoreCollection.isLeadCapture?window.location.replace(e.languageCode+t.path):u.url(t.path)}else u.path("/profile/");e.globalProgressBarHandler(!1)},e.socialUserFirstLoginAttempt=function(){e.socialProvider.utility.setRedirectDirectionToStorage({action:"dashboard",path:"/profile/"}),void 0!==p.internalToken.token&&p.internalToken.token.length>0?(p.extendCurrentBearerAuthentication(p.internalToken),A.localStorage.candidate.isReturningUser.set({isReturningUser:!0}),e.socialBearerSuccessHandler()):(e.globalProgressBarHandler(!1),e.socialProvider.setRegistrationCaller(""),!1===_XC_CONFIG.login_modal.disabled?u.url("/"):u.url("/profile/login/"),e.socialProvider.showNotificationToggle(!0,v.socialProvider.notificationEngine.loginFail))},e.socialProfileLogin=function(t,a){var n=e.socialProvider.utility.getRedirectDirectionFromStorage();if(!0===n.isSuccess)if("apply"===a.caller)a.path=a.callBackUrl;else switch(n.action){case"merge":a=angular.merge(a,n)}e.socialProvider.utility.setRedirectDirectionToStorage(a),p.socialLogin(t.email,t.bearerAccessToken,e.socialBearerSuccessHandler)},e.socialMergeProfileLogin=function(t){e.socialProvider.utility.removeRedirectDirectionInStorage(),e.socialProvider.setRegistrationCaller(""),null!==t.accessToken&&void 0!==t.accessToken?p.socialLogin(e.socialProvider.getProfile().email,t.accessToken,e.socialBearerSuccessHandler):e.socialProvider.showNotificationToggle(!0,v.socialProvider.notificationEngine.loginFail)},e.$on("attachmentCacheCleared",(function(t,a){e.fileFormName={},e.applyCandidate={},e.angularSchemaObserver.externalDataSourceModelReset(),e.modelProcessor.education.resetExternalDataSource("resume"),e.modelProcessor.work_history.resetExternalDataSource("resume"),e.modelProcessor.certification.resetExternalDataSource("resume"),A.session.candidate.resume.applyResumeStateContainer.remove()}));var H=0;e.$on(BROAD_CAST_NAMESPACE.CURRENT_CANDIDATE_FETCHED,(function(t,a){var n=e.socialProvider.utility.sessionFromStorage();n&&!0===n.isSuccess&&0===H&&void 0!==n.externalState&&null!==n.externalState&&e.applyCandidate.uname===n.externalState.mail&&(e.socialProvider.reset(),e.socialProvider.registerConsumer(e.angularSchemaObserver.pushExternalData),e.socialProvider.utility.restoreSession(n,p),H++)})),e.$on("setDocumentDetails",(function(t,a){var n={lastModified:a.fileFormName.lastModified,lastModifiedDate:a.fileFormName.lastModifiedDate,name:a.fileFormName.name,size:a.fileFormName.size,type:a.fileFormName.type};e.fileFormName=a.fileFormName,e.attachmentDetails=a.attachmentDetails;var r=A.session.candidate.resume.applyResumeStateContainer.get();null===r&&(r={}),void 0!==a.previousResume&&void 0!==a.previousResume.fileFormName?r.attachmentChanged=e.fileFormName.name!==a.previousResume.fileFormName.name||e.fileFormName.size!==a.previousResume.fileFormName.size||e.fileFormName.type!==a.previousResume.fileFormName.type:r.attachmentChanged=void 0!==a.previousResume,r.ApplyResumeFileFormName=n,r.ApplyResumeAttachmentDetails=e.attachmentDetails,A.session.candidate.resume.applyResumeStateContainer.set(r)}));var j=function(){var t=a.defer(),n=e.fileFormName;if(e.isResumeLogEnabled){var r=Object.assign({},e.attachmentDetails);r.fileFormName=e.fileFormName.name,A.resumelogToDB("SuccessLog - Inside Upload Resume Function",r,null)}if(angular.equals({},e.fileFormName))return t.resolve({uploadedResume:!1}),t.promise;F.log("file was selected: ",JSON.stringify(e.attachmentDetails));var i=ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/"+clientName+"/fileFormName/attachmentFormName";return e.attachmentDetails.attachmentType="Resume",h.parseResume(n,i,"fileFormName","attachmentFormName",e.attachmentDetails,(function(a){e.isCandidateLogEnabled&&A.logToDB("SuccessLog",a,"uploadResume",e.applyCandidate,null),t.resolve(a)}),(function(a){e.isCandidateLogEnabled&&A.logToDB("FailureLog",e.attachmentDetails,"uploadResume",e.applyCandidate,a),e.isResumeLogEnabled&&A.resumelogToDB("FailureLog - Inside Upload Resume Function",e.attachmentDetails,a),t.resolve({})})),t.promise},B=function(){var t=ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/"+clientName+"/fileFormName/attachmentFormName",n=A.inMemoryStorage.multiTypeAttachmentsToBeUploaded,r=[];return n.forEach((function(a,n){var i=a.fileFormName;a.attachmentDetails.candidateId=e.candidateIdSupplier();var o=h.parseResume(i,t,"fileFormName","attachmentFormName",a.attachmentDetails);r.push(o)})),a.all(r)};e.genericDataPopulate=function(t){var a=!1,n=cws_opts&&cws_opts.ip_detect&&"function"==typeof get_location_cookie_value&&null!==read_location_cookie();if(void 0!==_XC_CONFIG.field_mapping&&_XC_CONFIG.field_mapping.length>0&&!p.isLoggedIn||n&&!p.isLoggedIn){var r=[q],i={},o={},l={};n&&(l.city="undefined"===get_location_cookie_value("cityname")?"":get_location_cookie_value("cityname"),l.state="undefined"===get_location_cookie_value("statecode")?"":get_location_cookie_value("statecode"),l.zip="undefined"===get_location_cookie_value("postal")?"":get_location_cookie_value("postal"),l.country="undefined"===get_location_cookie_value("countrycode")?"":get_location_cookie_value("countrycode"),l.latitude="undefined"===get_location_cookie_value("latitude")?"":get_location_cookie_value("latitude"),l.longitude="undefined"===get_location_cookie_value("longitude")?"":get_location_cookie_value("longitude")),angular.equals(D,{})&&void 0===t||(void 0!==t?(i=t,angular.equals(D,{})||jQuery.each(D,(function(e,t){i.v=D[e]}))):angular.equals(D,{})||(i=D)),angular.equals(l,{})||(o.locationData=l),angular.equals(i,{})||(o.newQueryString=i),angular.equals(o,{})||angular.forEach(r,(function(e){e(o)})),a=!0}a&&e.notifyConsumer(e.genericPopulateDataConsumerCollection,"genericPopulate")};var q=function(t){try{if(void 0!==t.newQueryString&&void 0!==_XC_CONFIG.field_mapping&&_XC_CONFIG.field_mapping.length>0){var a=t.newQueryString;if(null!=a&&!angular.equals(a,{})){for(var n=JSON.parse(_XC_CONFIG.field_mapping).payLoad_SP_mapping,r=e.angularSchemaObserver.getExternalDataSource("candidate","genericPopulate").source||{},i=0;i<n.length;i++){var o=n[i];void 0===a[o.source]||void 0!==e.applyCandidate[o.destination]&&!angular.equals(e.applyCandidate,{})&&null!==e.applyCandidate[o.destination]&&""!==e.applyCandidate[o.destination]||(r[o.destination]=a[o.source])}angular.equals(r,{})||(e.applyCandidate=angular.merge(angular.copy(e.applyCandidate),r))}}void 0!==t.locationData&&(e.applyCandidate=angular.merge(angular.copy(e.applyCandidate),t.locationData));var l={key:"candidate",data:angular.copy(e.applyCandidate),identity:"genericPopulate"};e.notifyConsumer(e.genericPopulateListenerCollection,l)}catch(e){F.error(e)}},V=function(t){var a,n,r={};try{if(!(a=t.contactInfo))return;!1===e.socialProvider.isSocialUserRegistration&&(void 0!==e.applyCandidate.uname&&null!==e.applyCandidate.uname||"undefined"!==a&&null!==a&&null!==a.email&&"undefined"!==a.email&&(e.applyCandidate.uname=e.getValueFromArrayOrString(a.email,0),e.applyCandidate.uname=e.applyCandidate.uname.toLowerCase())),void 0!==a.firstName&&a.firstName&&(e.applyCandidate.firstName=a.firstName),void 0!==a.lastName&&a.lastName&&(e.applyCandidate.lastName=a.lastName),void 0!==a.email&&a.email&&(e.applyCandidate.email=a.email),void 0!==a.phone1&&a.phone1&&(n=a.phone1.replace(/\D/g,""),e.applyCandidate.phone1=n),void 0!==a.state&&a.state&&(e.applyCandidate.state=a.state),void 0!==a.city&&a.city&&(e.applyCandidate.city=a.city),void 0!==a.city&&a.city&&(e.applyCandidate.city=a.city),void 0!==a.zip&&a.zip&&(e.applyCandidate.zip=a.zip),r={key:"candidate",data:angular.copy(e.applyCandidate),identity:"resume"},e.notifyConsumer(e.resumeParserListenerCollection,r)}catch(e){F.error(e)}},X=function(a){try{if(e.eduHistoryToUpload=[],!e.parseEducationFromResume)return;var n=a.EducationHistory.Education;if(!n)return;!0===t.resumeParsed&&null!=n&&(e.eduHistoryToUpload=v.candidateHelper.parserCollection.resume.getEducationModel(n),e.eduHistoryUploaded=[]);var r={key:"education",data:angular.copy(e.eduHistoryToUpload),identity:"resume"};e.notifyConsumer(e.resumeParserListenerCollection,r)}catch(e){F.error(e)}},W=function(a){try{if(!e.parseWorkHistoryFromResume)return;e.workHistoryToUpload=[];var n=a.EmploymentHistory;if(!n)return;!0===t.resumeParsed&&(e.workHistoryToUpload=v.candidateHelper.parserCollection.resume.getEmploymentModel(n),e.workHistoryUploaded=[]);var r={key:"work_history",data:angular.copy(e.workHistoryToUpload),identity:"resume"};e.notifyConsumer(e.resumeParserListenerCollection,r)}catch(e){F.error(e)}};e.$on("burningGlassParserHandler",(function(a,n){try{var i=n.response,o=!1;n.skipParsing&&(o=n.skipParsing);var l=A.session.candidate.resume.applyResumeStateContainer.get();if(null!=l?l.resumeXMLArg=n:(l={}).resumeXMLArg=n,A.session.candidate.resume.applyResumeStateContainer.set(l),o);else if(p.isLoggedIn&&A.localStorage.candidate.isReturningUser.get()&&!_XC_CONFIG.isLoginLessReturningUser&&0==_XC_CONFIG.landing_page);else var s=[V,X,W];e.resumeXML=i;var c=ATS_URL+ATS_INSTANCE+"/rest/public/thirdparty/resume/transform/html",d=e.resumeXML;if(!o){r({url:c,method:"POST",withCredentials:!0,headers:{"Content-Type":"application/xml"},data:d}).then((function(e){t.resumeXML=e.data}),(function(){t.resumeXML=null}));var u=new X2JS;t.resumeJSON=u.xml_str2json(e.resumeXML);var m=t.resumeJSON.ResDoc;if(void 0===m)return e.$broadcast("burningGlassParserErrorHandler",n)}t.resumeParsed=!0,e.isInvalidContentCV=!1,void 0!==s&&angular.forEach(s,(function(e){e(m)})),e.notifyConsumer(e.resumeDataConsumerCollection,"resume")}catch(t){e.globalProgressBarHandler(!1)}})),e.eventHandler=function(){var t=a.defer(),n=new URL(window.location.href),r=n.searchParams.get("action"),i=n.searchParams.get("event_id"),o=n.searchParams.get("folder_id"),l=e.applyCandidate.candidateId;return"event-registration"!==r&&"event-check-in"!==r||!i?t.resolve(0):o&&l?z(l,o).then((function(){Q(l,i).then((function(e){return t.resolve(Y(e))})).catch((function(e){return t.reject(e)}))})).catch((function(e){F.error(e),t.resolve(0)})):Q(l,i).then((function(e){return t.resolve(Y(e))})).catch((function(e){return t.reject(e)})),t.promise};var z=function(e,t){try{return R.addCandidateToFolder({candidateList:[parseInt(e)],destinationList:[parseInt(t)]}).$promise}catch(e){throw F.error(e),e}},Q=function(e,t){try{return g.updateEventCandidateStatus({candidateId:e,eventId:t},{statusName:"Attended"}).$promise}catch(e){throw F.error(e),e}},Y=function(e){try{return normalizeObjects(e)}catch(e){return F.error(e),0}}}angular.module("st.candidate.activity").controller("candidateBaseHelper",e),e.$inject=["$scope","$rootScope","$q","$log","$http","$timeout","$window","metadata","SessionStorage","LocalStorage","$cookies","$location","authService","privateApplication","candidate","privateCandidate","bgResumeUpload","ModelDependencyFactory","$filter","omniTaggingFactory","screeningMessageViewModelService","ApplicationState","candidateAssessmentService","ApplyWorkFlow","CandidateWorkFlow","leadcaptureModalService","privateOnboarding","NotificationEngine","schemaModalService","ApplicationErrorLog","privateForm","requisition","privateFolder"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f,g,h,v,S,C,y,A,T,_,E,I,b,O){angular.extend(this,l("candidateBaseHelper",{$scope:e})),o.sessionNotificationShow=!1,o.showAccount=!0,e.showNewAngularComponent=!0===_XC_CONFIG.latest_angular_framework||"true"===_XC_CONFIG.latest_angular_framework;var N=t.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_APPLY_FLOW),L=jQuery;function w(){e.resetDataConsumerOfResume(),e.resetParserOfResume(),e.profile_login_deactivated="true"===_XC_CONFIG.profile_login_deactivated||!0===_XC_CONFIG.profile_login_deactivated,e.loginless_already_applied_message=_XC_CONFIG.loginless_already_applied_message,e.jobId=a.search().job,e.reqId=a.search().link,e.easyApplyFlag="",e.easyApplyFlag=a.search().easyApplyFlag,e.isDynamicFormLoaded=!1,e.isJobDetailPageFormLoaded=!1,e.showThankyouMsg=!1,e.isJobClosed=!1,!0===_XC_CONFIG.form_naming_enabled&&(e.jobId||e.reqId?(e.jobId=e.jobId?parseInt(e.jobId):e.jobId,e.reqId=e.reqId?parseInt(e.reqId):e.reqId):(e.reqId=d.requisitionId,e.jobId=d.jobId)),e.reqIdLink=e.reqId,T.requisitionId=e.reqId,e.applyReq=null,o.req=null,e.applyStream={},e.isLandingPage=!1!==_XC_CONFIG.landing_page,e.externalJob={isEnabled:!1},e.job={},e.isInValidJob=!1,_XC_CONFIG.streams.lcp!==APPLY_STREAMS.lcp&&(APPLY_STREAMS.lcp=_XC_CONFIG.streams.lcp),e.jobUrl=null,e.socialAuthenticationEnablerProxy=k,e.lastFormProxyIndicator="lastContainerHandler",e.semaphoreCollection={isLastFormSpecificationRuleApplicable:5!==e.angularSchemaObserver.formStyleHandler.viewStyle,progressBar:e.globalProgressBarHandler,onBoarding:!1,notificationMessage:e.notificationSemaphoreHandler,isLeadCapture:!1,isDashboard:!1,AlwaysShowProgressbar:!1,captureOmniTagging:!1,startup:{openGDPR:b.GDPR.migrationWindow.open}},u.remove("applyReq"),e.semaphoreCollection.isLeadCapture=e.isLandingPage,"/apply/"!==a.path()||!e.jobId&&e.reqId?I.current.setFromURLPath(a.path(),e.reqId||e.jobId):I.current.setFromURLPath("/apply/join/",e.reqId||e.jobId),e.caller&&"from-job-detail-page"===e.caller&&(e.jobId=e.currentJobId,I.current.setFromURLPath("/apply/join/",e.jobId),document.getElementById("candidatePoolMainContainer").classList.add("jobDetailPageFormArea"),e.semaphoreCollection.isLeadCapture=!0,e.isJobDetailPageFormLoaded=!0),!0===e.isLeadCaptureForModal&&I.current.setFromURLPath("/profile/join/"),e.angularSchemaObserver.registerExternalJob(e.externalJob);a.path();function t(t){if(_.reset(),_.first(),e.semaphoreCollection.isLeadCapture)e.candidateId=null,e.applicationId=null;else{e.applyReq=t,u.set("applyReq",t),T.localStorage.requisition.id.set(e.applyReq.requisitionId);var a=t?t.applyStreamId:APPLY_STREAMS.lcp;if(e.isLandingPage&&_XC_CONFIG.landing_page.stream_id&&(I.current.set(E_WORK_FLOW.MICROSITE_LCP),a=_XC_CONFIG.landing_page.stream_id),e.applyStream.applyStreamId=t?t.applyStreamId:a,e.semaphoreCollection.isLeadCapture||void 0!==e.applyStream.applyStreamId){e.applyStream.requisitionId=e.reqId,e.candidateId=null,e.applicationId=null;var n=[];null!==e.applyReq.assmtPositionCode&&e.applyReq.assmtPositionCode.length>0&&(n=e.applyReq.assmtPositionCode.split(",")),T.localStorage.requisition.assessmentPositionCode.set(n)}else L("main .container-fluid").prepend(p.html404Content())}}switch(e.caller&&"dynamic-form-loader"===e.caller&&(document.getElementById("candidatePoolMainContainer").classList.add("dynamicFormArea"),e.semaphoreCollection.isLeadCapture=!0,e.isDynamicFormLoaded=!0),e.semaphoreCollection.isDashboard=5===e.angularSchemaObserver.formStyleHandler.viewStyle,o.dashboardFMEnabled=e.semaphoreCollection.isDashboard,o.staticFormEnabled=!e.semaphoreCollection.isDashboard,e.getRequisitionIdBySmartpostId=function(){var t=r.defer();return f.getRequisitionIdBySmartpostId({smartPostId:e.jobId}).$promise.then((function(a){try{var n=normalizeObjects(a);e.reqId=n.requisitionId,e.reqIdLink=e.reqId,t.resolve(n)}catch(e){N.error(e),t.reject(e)}}),(function(e){N.error(e),t.reject(e)})),t.promise},e.getActiveListByName=function(){var t=r.defer();return O.getActiveListByName({name:"EasyApplyStream"}).$promise.then((function(a){try{e.receivedStreamId=a[0].value,t.resolve(a)}catch(e){N.error(e),t.reject(e)}}),(function(t){N.error(t),e.notificationSemaphoreHandler(!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage),e.globalProgressBarHandler(!1)}))},e.buildModelProcessor(),I.current.get()){case E_WORK_FLOW.APPLY_LCP:case E_WORK_FLOW.ALERT_LCP:e.semaphoreCollection.isLeadCapture=!0;break;case E_WORK_FLOW.JOIN_LCP:e.semaphoreCollection.isLeadCapture=!0,e.semaphoreCollection.redirectHandler=!0}e.semaphoreCollection.isLeadCapture?(e.semaphoreCollection.isLastFormSpecificationRuleApplicable=!1,e.socialAuthenticationEnablerProxy=x,e.lastFormProxyIndicator="updateCandidateSendEmail",I.current.get()===E_WORK_FLOW.ALERT_LCP&&(e.isAlertLcp=!0,e.jobId||e.reqId||(i.location.href=e.languageCode+"/profile/join/")),e.reqId&&h.isLoggedIn&&A.getCurrentCandidate().$promise.then((function(t){e.applyCandidate=normalizeObjects(t),h.setBasicCandidate(e.applyCandidate),(c.get("xcc")||h.isLoggedIn)&&(e.semaphoreCollection.AlwaysShowProgressbar=!0,N.log("User already completed, continue to ATS."),y.candidateHelper.captureAtsLead(e.reqId,e.applyCandidate.candidateId).then((function(t){e.semaphoreCollection.AlwaysShowProgressbar=!1,e.modelProcessor.baseHelper.seoRedirectHandler()}),(function(t){e.semaphoreCollection.AlwaysShowProgressbar=!1,e.modelProcessor.baseHelper.seoRedirectHandler()})))})).catch((function(e){T.logLoginlessErrors("Loginless",{},"Current Call - CandidatePool Controller : ReqId",null,e),N.error(e)})),e.jobId?(T.setAddToJobFolderDetails(e.jobId),h.isLoggedIn?A.getCurrentCandidate().$promise.then((function(a){e.applyCandidate=normalizeObjects(a),h.setBasicCandidate(e.applyCandidate),P().then((function(){R(e.reqId).then(t)}))})).catch((function(e){T.logLoginlessErrors("Loginless",{},"Current Call - CandidatePool Controller : JobId",null,e),N.error(e)})):P().then((function(){R(e.reqId).then(t)}))):R(e.reqId).then(t)):R(e.reqId).then(t),I.getFeatureFlagFromShareDb("jobAlertSubscription").then((function(e){o.jobAlertSubscriptionFlag=e}))}function P(){var t=r.defer();return S.getJob(XCLOUD.apply_filter("jobsapi_job_params_call",{jobId:e.jobId})).$promise.then((function(a){if((a=normalizeObjects(a)).primary_category&&(T.inMemoryStorage.systemGeneratedAOI.areaOfInterest=a.primary_category),!e.easyApplyFlag){if("true"!=_XC_CONFIG.apply_join_specific_redirection_enabled&&1!=_XC_CONFIG.apply_join_specific_redirection_enabled||localStorage.setItem("thankyouDetails",JSON.stringify({title:a.title,spid:a.id})),void 0!==_XC_CONFIG.xcloudPageAttributes.destination)e.jobUrl=_XC_CONFIG.xcloudPageAttributes.destination;else{var n=XCLOUD.apply_filter("jobsapi_ats_field","seo_url");e.jobUrl=a[n]}e.job=a,o.job=a,o.jobTitle=g.trustAsHtml(a.title);n=XCLOUD.apply_filter("jobsapi_ats_field","seo_url");e.externalJob.isEnabled=!0,e.externalJob.Id=e.jobId,e.externalJob.Url=a[n],e.externalJob.details=a,e.genericDataPopulate(e.job),e.angularSchemaObserver.registerExternalJob(e.externalJob),(c.get("xcc")||h.isLoggedIn)&&XCLOUD.apply_filter("xcc_auto_redirect_lcp",!0)&&(e.semaphoreCollection.AlwaysShowProgressbar=!0,N.log("User already completed, continue to ATS."),function(e){var t=r.defer();if(_XC_CONFIG.is_new_area_interest_config_enabled&&T.inMemoryStorage.systemGeneratedAOI.areaOfInterest){var a=[{usersId:null,areaOfInterest:T.inMemoryStorage.systemGeneratedAOI.areaOfInterest,isSystemGenerated:1}];T.inMemoryStorage.systemGeneratedAOI.areaOfInterest="",A.updateCandidateAreaOfInterestList({candidateId:e},a).$promise.then((function(e){t.resolve(0)}),(function(e){N.error(e),t.reject(e)}))}else t.resolve(0)}(e.applyCandidate.candidateId),e.isJobDetailPageFormLoaded||CWS.enhancedSourceTracking.isEnhancedSourceTrackingActive()||y.candidateHelper.captureNonAtsLead(e.jobId,e.applyCandidate.candidateId).then((function(t){e.semaphoreCollection.AlwaysShowProgressbar=!1,e.modelProcessor.baseHelper.seoRedirectHandler()}),(function(t){e.semaphoreCollection.AlwaysShowProgressbar=!1,e.modelProcessor.baseHelper.seoRedirectHandler()})),!e.isJobDetailPageFormLoaded&&CWS.enhancedSourceTracking.isEnhancedSourceTrackingActive()&&e.apiProxyHandler("applyJoinApplicationCreationHandler",{redirectToATS:!0})),e.isInValidJob=!1}t.resolve(0)}),(function(a){e.isInValidJob=!0,t.resolve(0)})),t.promise}function M(e){try{e.metaData[0].formMetaData=JSON.parse(e.metaData[0].formMetaData);for(var t=0;t<e.metaData[0].formMetaData.length;t++)if(e.metaData[0].formMetaData[t].XCloudDefinition&&e.metaData[0].formMetaData[t].XCloudDefinition.tableMap)for(var a=0;a<e.metaData[0].formMetaData[t].XCloudDefinition.tableMap.length;a++){var n=e.metaData[0].formMetaData[t].XCloudDefinition.tableMap[a];"candidate_subscription"===n.name&&(n.fields=n.fields.filter((function(e){return"subscription_jobalert_email"!==e})))}var r=e.metaData[0].formMetaData[4].items[0].items.findIndex((function(e){return"subscription_jobalert_email"===e.key}));return r>0&&e.metaData[0].formMetaData[4].items[0].items.splice(r,1),e.metaData[0].schemaMetaData=JSON.parse(e.metaData[0].schemaMetaData),delete e.metaData[0].schemaMetaData.properties.subscription_jobalert_email,e.metaData[0].schemaMetaData=JSON.stringify(e.metaData[0].schemaMetaData),e.metaData[0].formMetaData=JSON.stringify(e.metaData[0].formMetaData),e}catch(t){return N.error(t),e}}function R(t){var n=r.defer();if(e.schemaInterpolation.consumerEmitReceiver=e.modelProcessor.baseHelper.emitReceiver,e.semaphoreCollection.isLeadCapture){var i=APPLY_STREAMS.lcp;void 0!==a.search().sId&&null!==a.search().sId&&(i=a.search().sId),_XC_CONFIG.landing_page&&_XC_CONFIG.landing_page.stream_id&&(i=_XC_CONFIG.landing_page.stream_id),e.formStreamId&&(i=e.formStreamId),"t"===e.easyApplyFlag?e.getActiveListByName().then((function(){i=e.receivedStreamId,e.getRequisitionIdBySmartpostId().then((function(t){t.applyStreamId=i,e.atsRequisitionId=t.atsRequisitionId,e.semaphoreCollection.isLeadCapture=!1,e.lastFormProxyIndicator="lastContainerHandler",e.streamId=i,T.setActiveStreamId(e.streamId),C.getStreamCustomFieldMetaData({streamId:i}).$promise.then((function(a){0===a.metaData.length?(e.notificationSemaphoreHandler(!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage),e.globalProgressBarHandler(!1)):(!1===o.jobAlertSubscriptionFlag&&(a=M(a)),a.metaData=XCLOUD.apply_filter("XCC_ALL_METADATA",a.metaData),e.schemaInterpolation.performMetaDataInterpolation(a.metaData,e.semaphoreCollection,F)),n.resolve(t)}),(function(t){N.error(t),e.notificationSemaphoreHandler(!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage),e.globalProgressBarHandler(!1)}))})).catch((function(t){N.error(t),e.globalProgressBarHandler(!1)}))})).catch((function(e){handleError(e,"Error getting applyStreamId: "+e)})):(e.streamId=i,T.setActiveStreamId(e.streamId),C.getStreamCustomFieldMetaData({streamId:i}).$promise.then((function(t){0===t.metaData.length?(e.notificationSemaphoreHandler(!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage),e.globalProgressBarHandler(!1)):(!1===o.jobAlertSubscriptionFlag&&(t=M(t)),t.metaData=XCLOUD.apply_filter("XCC_ALL_METADATA",t.metaData),e.schemaInterpolation.performMetaDataInterpolation(t.metaData,e.semaphoreCollection,F)),n.resolve(t)}),(function(t){N.error(t),e.notificationSemaphoreHandler(!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage),e.globalProgressBarHandler(!1)}))),I.current.get()===E_WORK_FLOW.ALERT_LCP&&C.getCustomFieldMetaData({requisitionId:t}).$promise.then((function(e){e=T.session.requisition.addAttributes(e),o.req=e.requisition;var t=e.requisition.title;o.req.title=g.trustAsHtml(t),n.resolve(e.requisition)}),(function(e){N.error(e)}))}else{var l={};"t"===e.easyApplyFlag?l={easyApply:!0}:_XC_CONFIG.is_internal_site&&(l={isInternalApply:!0}),C.getFieldsMetadataByRequistionWithCustomFlags({requisitionId:t},l).$promise.then((function(t){if((t=T.session.requisition.addAttributes(t)).requisition&&t.requisition.category&&(T.inMemoryStorage.systemGeneratedAOI.areaOfInterest=t.requisition.category),e.applyStream.applyStreamId=t.requisition?t.requisition.applyStreamId:APPLY_STREAMS.lcp,e.streamId=e.applyStream.applyStreamId,T.setActiveStreamId(e.streamId),void 0!==e.applyStream.applyStreamId){"closed"==t.requisition.status.toLowerCase()&&(e.isJobClosed=!0),o.req=t.requisition;var a=t.requisition.title;o.req.title=g.trustAsHtml(a),t.metaData=XCLOUD.apply_filter("XCC_ALL_METADATA",t.metaData),e.schemaInterpolation.performMetaDataInterpolation(t.metaData,e.semaphoreCollection,F)}n.resolve(t.requisition)}),(function(t){N.error(t),e.globalProgressBarHandler(!1),e.notificationSemaphoreHandler(!0,e.schemaInterpolation.notificationEngine.interpolation.generalMessage)}))}return n.promise}function F(t){if(E.loadDomainLookup(),e.constructAngularSchemaObserver(t),e.preLoadExternalDataSource=!1,!h.isLoggedIn||"true"!==_XC_CONFIG.profile_login_deactivated&&!0!==_XC_CONFIG.profile_login_deactivated||h.isSocialProfileConnection()&&h.isAuth0Ready)!h.isLoggedIn||"true"!==_XC_CONFIG.profile_login_deactivated&&!0!==_XC_CONFIG.profile_login_deactivated||!h.isSocialProfileConnection()&&!h.isAuth0Ready||(void 0===localStorage.loginlessSocialProfileLoginFlag||!1===localStorage.loginlessSocialProfileLoginFlag?localStorage.loginlessSocialProfileLoginFlag=!0:(localStorage.loginlessSocialProfileLoginFlag=!1,h.logout()));else{var a=u.get("applyReq");h.logout(),null!=a&&u.set("applyReq",a)}if(!0===h.isLoggedIn&&I.current.get()===E_WORK_FLOW.JOIN_LCP&&!1===_XC_CONFIG.landing_page&&e.modelProcessor.baseHelper.seoRedirectHandler(),e.formStyle=t[0].formStyle,void 0!==e.angularSchemaObserver.formStyleHandler.viewStyle&&-1!==e.angularSchemaObserver.formStyleHandler.viewStyle||(!0===e.semaphoreCollection.isLeadCapture?e.angularSchemaObserver.formStyleHandler.viewStyle=e.angularSchemaObserver.formStyleHandler.viewStylesEnum.none:e.angularSchemaObserver.formStyleHandler.viewStyle=e.angularSchemaObserver.formStyleHandler.viewStylesEnum.accordion),t[0].formDefinition[1].XCloudDefinition.doNotParseResumeSection&&t[0].formDefinition[1].XCloudDefinition.doNotParseResumeSection.forEach((function(t){"work-history"===t.toLowerCase()&&(e.parseWorkHistoryFromResume=!1),"education"===t.toLowerCase()&&(e.parseEducationFromResume=!1)})),"true"===t[0].formDefinition[1].XCloudDefinition.isResumeRequired&&(o.resumeRequired=!0),angular.forEach(t,(function(e){e.formDefinition[1].XCloudDefinition.hasOwnProperty("isAttachmentRequired")&&(o.isAttachmentRequired=e.formDefinition[1].XCloudDefinition.isAttachmentRequired)})),1===t.length&&t[0].isFirstForm&&t[0].isLastForm&&void 0!==t[0].tableMap){t[0].table=[];angular.forEach(["work_history","candidate","education"],(function(e){t[0].tableMap.map((function(e){return e.name})).includes(e)||t[0].tableMap.push({name:e,fields:[]})})),angular.forEach(t[0].tableMap,(function(e){"work_history"!==e.name&&"candidate"!==e.name&&"education"!==e.name||!angular.isArray(e.fields)||t[0].table.push(e.name)}))}if(!0!==h.isLoggedIn)try{if(this.socialProfile=e.socialProvider.getProfile(),null===this.socialProfile||void 0===this.socialProfile){var n=e.socialProvider.utility.sessionFromStorage();n.isSuccess&&n.externalState&&!0===n.externalState.newProfile&&(e.socialProvider.utility.restoreSession(n),this.socialProfile=e.socialProvider.getProfile(),e.socialProvider.utility.deleteFromStorage())}null!==this.socialProfile&&void 0!==this.socialProfile&&this.socialProfile.redirectType===e.socialProvider.registrationSource.signInSocialProfile?(e.socialProvider.muteWidget=!0,e.socialProvider.registerConsumer(e.angularSchemaObserver.pushExternalData),e.socialProvider.candidateParser(this.socialProfile),e.socialProvider.educationParser(this.socialProfile),e.socialProvider.workHistoryParser(this.socialProfile),e._newSocialProfileHandler=U,e.preLoadExternalDataSource=!0):(e.socialProvider.muteWidget=!1,e.socialProvider.jsLoadAwaitCount=0,e.socialProvider.showUIWizard(D,e.socialProvider.TitleEnum.joinTitle,!1),e.socialProvider.reset(),e.socialProvider.registerConsumer(e.angularSchemaObserver.pushExternalData))}catch(e){N.warn("An issue has occurred while Gigya Provider Loading!"),N.error(e)}else e.socialProvider.reset(),e.socialProvider.disConnectSocialConnection(),e.socialProvider.utility.removeRedirectDirectionInStorage();e.globalProgressBarHandler(!1),e.registerParserListener(e.angularSchemaObserver.pushExternalData),e.registerDataConsumerOfResume(e.angularSchemaObserver.notifyExternalDataSourceLoader),e.registerGenericPopulateListener(e.angularSchemaObserver.pushExternalData),e.registerDataConsumerOfGenericPopulate(e.angularSchemaObserver.notifyExternalDataSourceLoader),e.formMetaDataCollection=t}function D(t){try{e.globalProgressBarHandler(!0),e.socialProvider.bindProfile(U,e.socialAuthenticationEnablerProxy,t)}catch(t){console.log(t),e.globalProgressBarHandler(!1)}}function U(){try{e.socialProvider.setRegistrationCaller(e.socialProvider.registrationSource.applySocialProfile),e.globalProgressBarHandler(!0),e.angularSchemaObserver.notifyExternalDataSourceLoader("socialSite"),e.socialProvider.utility.removeRedirectDirectionInStorage(),e.socialProvider.utility.setProfileDefaultsToStorage(),e.globalProgressBarHandler(!1)}catch(t){console.log(t),e.globalProgressBarHandler(!1)}}function k(t){e.socialProvider.setRegistrationCaller(e.socialProvider.registrationSource.applySocialProfile);var n={action:"apply",path:a.url(),caller:"apply",callBackUrl:a.url()};e.socialProfileAuthenticationEnabler(t,n)}function x(t){e.socialProvider.setRegistrationCaller(e.socialProvider.registrationSource.talentCommunitySocialProfile);e.socialProfileAuthenticationEnabler(t,{action:"dashboard",path:"/profile/"})}h.isAuth0Ready?h.checkSession().then((function(e){console.log(e),console.log(h.isLoggedIn),h.auth0Login().then(w).catch((function(e){N.error(e)}))})).catch((function(e){N.debug(e)})):w(),e.checkAlreadyApplied=function(){for(var t=0,a=e.candidateApplications.length;t<a;t++)e.candidateApplications[t].requisitionId===parseInt(e.reqIdLink)&&(e.alreadyApplied=!0,o.alreadyApplied=!0)}}angular.module("st.candidate.activity").controller("candidatePoolController",e),e.$inject=["$scope","$log","$location","$filter","$q","$window","$rootScope","$controller","$timeout","$cookies","$routeParams","SessionStorage","ListService","LocalStorage","requisition","$sce","authService","candidate","jobsapi","metadata","ModelDependencyFactory","privateCandidate","ApplicationState","ApplyWorkFlow","candidateAssessmentService","CandidateWorkFlow","migrationService","lists"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m,f,g,h){var v,S;t.resetDependentFields=function(e,a){if(a.hasOwnProperty("resetTriggerValue")){var n=a.resetTriggerValue.split("||");if(n.length>0)for(var r in n)if("string"==typeof n[r]&&(n[r]=n[r].trim()),e==n[r]&&a.hasOwnProperty("fieldsToReset")){var i=a.fieldsToReset.split("||");if(i.length>0)for(var o in i)if(i[o]){"string"==typeof i[o]&&(i[o]=i[o].trim());var l=!1;if(a.hasOwnProperty("resetToValue")){var s=a.resetToValue;s&&(l=!0,"string"==typeof s&&"null"===(s=s.trim())&&(s=null),t.model[i[o]]=s)}l||(t.model[i[o]]=null)}}}},t.angularSchemaObserver=i.angularSchemaObserver,t.candidateHelper=i.candidateHelper,t.canFormBeSkipped=!1,t.currentForm={},t.editModel=!1,t.hideForm=!0,t.isSingleForm=!1,t.showEditButton=!1,t.filter={},t.formStyle={progressBar:{class:"disabled"}},t.programmaticModel={},t.rowAdded=!1,t.rowEditMode=!1,t.socialProvider=i.socialProvider,t.TEMPLATE_CONSTANTS=TEMPLATE_CONSTANTS,t.uNameEditable=!0,t.controlState={},t.isShowComponent=!0,t.isOTPSent=!1,t.isOTPValidated=!1,t.isOTPNeeded=!1;var C=[];function y(){var e=!0,t=m.getRequiredAttachmentKeys();if(t&&t.length>0)if(null!==g.get("attacmentObject")&&void 0!==g.get("attacmentObject")){var a=g.get("attacmentObject");if(a&&a.length>0)for(var n=0;n<t.length;n++){if(!_.find(a,(function(e){return parseInt(e.key)===parseInt(t[n])}))){e=!1;break}}else e=!1}else e=!1;return e}function A(e){var n=a.defer();return u.deleteAllConvictedPseByCandidateId({candidateId:e}).$promise.then((function(e){try{t.newConvictionObject=normalizeObjects(e),n.resolve(t.newConvictionObject),jQuery(".loading-container").css("display","none"),n.resolve(e)}catch(e){n.reject(e),jQuery(".loading-container").css("display","none")}})),n.promise}function T(){var e,o,s=angular.isArray(t.table)?t.table[0]:t.table;switch(s){case"candidate":t.uNameOnBlur=function(e,i,o,s){var c=a.defer();try{n((function(){try{if(angular.isString(e)&&0!==e.length)if(l.isLoggedIn)c.resolve(0),o(!1);else o(!0),(_XC_CONFIG.check_candidate_exists_on_email?s.candidateExistsOnEmail:s.candidateExists)({username:e,clientName:clientName}).$promise.then((function(e){_XC_CONFIG.landing_page&&void 0!==_XC_CONFIG.landing_page.existing_user&&delete _XC_CONFIG.landing_page.existing_user,_XC_CONFIG.isLoginLessReturningUser=!1,o(!1),c.resolve(0),t.removeRedirectToCurrentModule()}),(function(a){_XC_CONFIG.application_logs.enable_candidate_flow_logs&&(t.logString="Error Details: "+JSON.stringify(a).replace(/["]/g,"")+"Model Value of uname: "+e+"Browser Used: "+navigator.userAgent,t.comment="fn: uNameOnBlur "+e,h.setErrorLog({error_module:_XC_CONFIG.org+"~ CreateCandidateFlow",error:t.logString,comment:t.comment,page_link:r.url()})),"true"===_XC_CONFIG.profile_login_deactivated||!0===_XC_CONFIG.profile_login_deactivated?(_XC_CONFIG.isLoginLessReturningUser=!0,o(!1),c.resolve(0)):!_XC_CONFIG.landing_page||!1!==_XC_CONFIG.is_microsite_log_in_enabled&&"false"!==_XC_CONFIG.is_microsite_log_in_enabled?s.getCandidateActivationByEmail({username:e,clientName:clientName}).$promise.then((function(a){c.reject(0);var n=normalizeObjects(a);t.$broadcast(ERROR_CONFIGURATION.PREFIX.VALIDATION.UNAME_EMAIL_EXISTENCE,ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE,!1),o(!1),t.blurAlternative(TEMPLATE_CONSTANTS.ELEMENT_ID.UNAME,TEMPLATE_CONSTANTS.ELEMENT_ID.UNAME_LOGIN_LINK_ID),t.setRedirectToCurrentModule(e),"t"===n[0]&&(E=0,function e(t,a){if(E>12)return;setTimeout((function(){try{E++;var n=jQuery(t);0===n.length?e(t,a):(E=0,a(n))}catch(e){}}),200)}("#email_exists_Check",I))}),(function(e){c.reject(0),o(!1)})):(_XC_CONFIG.landing_page.existing_user=e,o(!1),c.resolve(0),t.removeRedirectToCurrentModule())}));else c.resolve(),o(!1)}catch(e){c.resolve(),o(!1)}}),500,!1)}catch(e){c.resolve(),o(!1)}return c.promise},t.setZeoCode=function(e,r,o){var l=a.defer();t.globalProgressBarHandler=o;try{n((function(){try{if(angular.isString(e)&&0!==e.length){o(!0),l.resolve(0);var a=t.programmaticModel[t.angularSchemaObserver.core.table];a.zip=e,i.candidateHelper.setterProcessor.zeoCode(a,!0,t.modelFactoryResponseHandler,t.model),o(!1)}else l.resolve(),o(!1)}catch(e){l.resolve(0),o(!1)}}),500,!1)}catch(e){l.resolve(0),o(!1)}return l.promise},t.checkSsnUname=(e={ssn:null,uname:null,ssn_confirm:null},o=!0,function(n,r,l,s){var c=a.defer(),d=!1;return r in e&&e[r]!==n&&(e[r]=n,d=!0),"ssn"===r&&t.model.ssn&&t.model.ssn_confirm&&e.ssn!==e.ssn_confirm&&t.$broadcast("schemaForm.error.ssn_confirm","confirm_ssn",!1),d&&e.uname&&e.ssn&&e.ssn_confirm&&e.ssn===e.ssn_confirm?(l(!0),s.validateBashasHrlogixSsnEmail({ssn:e.ssn,email:e.uname}).$promise.then((function(a){var d=normalizeObjects(a);l(!1),d.ssnExists&&!d.emailMatchesInHrl||d.emailMatchesInHrl&&!d.ssnExists?(t.blurAlternative(TEMPLATE_CONSTANTS.ELEMENT_ID.UNAME),t.setRedirectToCurrentModule(n),l(!1),o=!1,c.reject(0)):t.uNameOnBlur(e.uname,"uname",l,s).then((function(){o=!0,c.resolve(0),t.model.uname||"uname"===r||(t.model.uname=e.uname,t.$broadcast(ERROR_CONFIGURATION.PREFIX.VALIDATION.UNAME_EMAIL_EXISTENCE,ERROR_CONFIGURATION.CODES.VALIDATION.EMAIL_EXISTENCE,!0)),t.model.ssn||"ssn"===r||(t.model.ssn=e.ssn,t.$broadcast("schemaForm.error.ssn","9005",!0)),t.model.ssn_confirm||"ssn_confirm"===r||(t.model.ssn_confirm=e.ssn_confirm,t.$broadcast("schemaForm.error.ssn_confirm","9005",!0))}),(function(e){i.schemaInterpolation.notifyOnException(!1,!0,i.schemaInterpolation.notificationEngine.interpolation.generalMessage,e)}))}),(function(e){i.schemaInterpolation.notifyOnException(!1,!0,i.schemaInterpolation.notificationEngine.interpolation.generalMessage,e)}))):d||o?c.resolve(0):c.reject(0),c.promise}),t.validateSsn=function(e,a){return e===t.model.ssn},t.modelFactoryResponseHandler=function(e){!1===e.hasSuccess&&t.globalProgressBarHandler(!1)}}"candidate"!==s&&"onboarding_data"!==s&&"w4_data"!==s&&"i9_data"!==s&&"onboarding_ec"!==s&&"onboarding_sub_data"!==s||(t.signatureMatchOnBlur=function(e,r){var i=a.defer();t.globalProgressBarHandler=r;try{n((function(){try{if(angular.isString(e)&&0!==e.length){var a=JSON.parse(JSON.parse(localStorage.getItem("xcloud.candidate")).data)||{},n=a.firstName+" "+a.lastName||"";e.toLowerCase()!==n.toLowerCase()||e.toUpperCase()!==n.toUpperCase()?(t.$broadcast(ERROR_CONFIGURATION.PREFIX.VALIDATION.SIGNATURE_MATCH,ERROR_CONFIGURATION.CODES.VALIDATION.SIGNATURE_MATCH,!1),t.blurAlternative(TEMPLATE_CONSTANTS.ELEMENT_ID.SIGNATURE,void 0),t.setRedirectToCurrentModule(e),i.reject(0)):(i.resolve(0),r(!1))}}catch(e){i.resolve(0),r(!1)}}),500,!1)}catch(e){i.resolve(),r(!1)}return i.promise})}t.sendOTP=function(e,a,n){t.isOTPSent=!0},t.validateOTP=function(e,a,n){t.isOTPValidated=!1},t.resetOTPValidation=function(e,t,a){this.form[1].XCloudDefinition.hasOwnProperty("otpCountryList")&&-1!==this.form[1].XCloudDefinition.otpCountryList.indexOf(e[t.key.toString()].$modelValue)?this.isOTPNeeded=!0:this.isOTPNeeded=!1},t.getGlyphIcon=function(){return t.glyphIcon},t.$on("applyDashboardDocumentUpdate",(function(e,a){"attachment"===t.table&&(t.rowEditMode=!0)})),t.restoreErrorState=function(e){for(var t in e.$pristine=!1,e.$dirty=!0,e.$error)e.$error.hasOwnProperty(t)&&angular.forEach(e.$error[t],(function(e){void 0!==e.$error&&void 0!==e.$error.schemaForm&&!0===e.$error.schemaForm&&(e.$error.schemaForm=!1)}))},t.onFocusHandler=function(e){t.controlState[e]=!0},t.onBlurHandler=function(e){t.controlState[e]=!1},t.doOutlineOnFocus=function(e){return!0===t.controlState[e]},t.blurAlternative=function(e,a){try{var r="#"+e;jQuery(r).keyup((function(e,a){t.currentForm=t.ngForm;var n=t.currentForm[e.currentTarget.name];jQuery(r).unbind("keyup"),void 0!==n&&n.$validate(),jQuery(r).change((function(e,t){jQuery(r).unbind("change"),jQuery(r).unbind("focusout")})),jQuery(r).focusout((function(e,t){jQuery(r).unbind("focusout"),void 0!==n&&n.$validate()}))})),void 0!==a&&(jQuery(r).attr("schemaBlurFocus",a),void 0!==a&&n((function(){jQuery("#"+a).focus()}),100,!1))}catch(e){}},t.setRedirectToCurrentModule=function(e){var t={path:r.url()};e&&(t.username=e),s.set(STORAGE_KEY.SCHEMA_LOGIN_REDIRECT,t)},t.removeRedirectToCurrentModule=function(){try{var e=s.get(STORAGE_KEY.SCHEMA_LOGIN_REDIRECT);e&&e.$$state.value&&s.remove(STORAGE_KEY.SCHEMA_LOGIN_REDIRECT)}catch(e){}},t.isValidTransactionQueue=function(){return void 0!==t.transactionQueue&&null!==t.transactionQueue.head},t.initiateTransaction=function(){return t.transactionDefaults(),t.getNextTransaction()},t.getNextTransaction=function(){return null===v&&void 0!==t.transactionQueue?(v=t.transactionQueue.head,(S=v).data):null!=S?(v=S,null!==(S=S.next)?S.data:null):S},t.getCurrentTransaction=function(){return null!==S?S.data:null},t.onTransactionSuccess=function(){null!==S&&(S.data.transactionMode=t.angularSchemaObserver.transactionMode.Update)},t.filter.getFieldCollection=function(){return null!==S?S.data.fieldNameCollection:null},t.filter.getFieldCustomParserDefinition=function(){return null!==S?S.data.fieldCustomParserDefinition:null},t.filter.getFieldParserDefinition=function(){return t.fieldParserDefinition},t.filter.getModel=function(){return angular.isUndefined(t.model)?t.model:angular.copy(t.model)},t.extendModelProgrammatically=function(e){if(null!==S){var a=t.programmaticModel[t.getCurrentTransaction().table];if(void 0!==a){var n={};angular.extend(n,a,e),angular.copy(n,e)}}},t.setSocialIconTabIndex=function(e){void 0!==e&&e(!0);var a=t.socialProvider.utility.setTabIndex();t.socialIconObserverAttemptCount++,!1===a&&t.socialIconObserverAttemptCount<20?setTimeout(t.setSocialIconTabIndex,250):void 0!==e&&e(!1)},t.setKeyElementFocus=function(e){return!0},t.onFormActive=function(){t.setKeyElementFocus(),void 0!==t.fieldGroupCount&&(TEMPLATE_CONSTANTS.RUNTIME.fieldGroupIndex="("+TEMPLATE_CONSTANTS.TITLE.LABELS.PAGE.str+" "+t.index+"/"+t.fieldGroupCount+")")},t.submitActionSemaphore=function(){var e,a,n,r=!0;t.currentForm=t.ngForm,0===t.mandatoryFieldCollection.length&&0===C.length&&(r=!0);for(var i=0;i<t.mandatoryFieldCollection.length;i++){var s=t.mandatoryFieldCollection[i],d=t.model[s];if(void 0!==t.model&&void 0===d){r=!1;break}}if(!0===r){for(i=0;i<C.length;i++)if(t.form[1].XCloudDefinition.hasOwnProperty("attachmentType")||(t.form[1].XCloudDefinition.attachmentType="Document"),void 0!==C[i]&&$.isFunction(C[i])){if(!1===C[i]()){t.isFormAttachmentUploaded=!1,r=!1;break}t.isFormAttachmentUploaded=!0}else t.isFormAttachmentUploaded=!0;r&&"dynamicQuestionnaire"===t.form[1].XCloudDefinition.table&&(r=y()),r&&t.isFirstForm&&(e=!0,a=m.getIsMultiTypeAttachmentRequired(),n=o.inMemoryStorage.multiTypeAttachmentsToBeUploaded.length,!0===a&&0===n&&(e=!1),r=e)}if(t.currentForm=t.ngForm,void 0===(r=(!0!==t.currentForm.$pristine||!0===r)&&(void 0===t.currentForm.$name||t.currentForm.$valid&&!0===r||l.isLoggedIn&&!0===t.currentForm.$pristine&&t.isFormAttachmentUploaded&&!0===r))&&(r=!1),!0===r)for(i=0;i<t.mandatoryFieldCollection.length;i++)if(s=t.mandatoryFieldCollection[i],d=t.model[s],void 0!==t.model&&angular.isArray(d)){var u=t.defaultValueFieldObject[s];if(0===d.length){r=!1;break}if(0===d[0].length){r=!1;break}if(d[0]===u){r=!1;break}}if(!0===t.gridEnabled&&!0===r&&(r=!0===t.rowEditMode||t.gridHandler&&t.gridHandler.hasRowCapacity()),!0===r&&t.isLastForm&&5!==t.angularSchemaObserver.formStyleHandler.viewStyle){var p=t.angularSchemaObserver.isAllFormValid(t);!1===(r=p.returnState)?(t.notificationMessage=c.UL_FOR(TEMPLATE_CONSTANTS.VALIDATION.INCOMPLETE.str,p.invalidForms),t.isShowErrorAtBottom=!0):t.isShowErrorAtBottom=!1}return r},t.validateForm=function(e){try{void 0!==e&&!0===e&&t.$apply()}catch(e){}t.$broadcast(BROAD_CAST_NAMESPACE.SCHEMA_FORM_VALIDATE),t.restoreErrorState(t.currentForm)},t.transactionDefaults=function(){S=null,v=null},t.programmaticSubmit=function(e){void 0!==(e=e||{}).scopeMembers&&angular.extend(t,e.scopeMembers);var a=t.initiateTransaction();!0===t.editModel?a.transactionMode=t.angularSchemaObserver.transactionMode.Update:a.transactionMode=t.angularSchemaObserver.getTransactionMode(t).transactionMode,void 0!==t.fieldGroupCount&&(TEMPLATE_CONSTANTS.RUNTIME.transactionStatusIndex=TEMPLATE_CONSTANTS.TITLE.LABELS.SAVING.str+" "+t.index+"/"+t.fieldGroupCount),!0===t.gridEnabled?t.angularSchemaObserver.programmaticDataSourceInsertion(t):t.angularSchemaObserver.notifyOnAction(t,a)},t.submitForm=function(a,n,r){if(2===i.angularSchemaObserver.formStyleHandler.viewStyle&&i.onClickActionButton(),void 0!==t.onPreLoadComplete&&delete t.onPreLoadComplete,_XC_CONFIG.isLoginLessReturningUser&&"candidate"===n)return t.updateForm(a,n);if(t.currentForm=a,t.validateForm(),o.inMemoryStorage.formModel=t.model,!0===a.$valid&&((!0===e.resumeRequired||!0===e.isAttachmentRequired)&&C.length>0&&(!0!==e.resumeParsed&&!e.resumeUpdated||!0!==t.isFormAttachmentUploaded?!0===e.isAttachmentRequired&&!0===t.isFormAttachmentUploaded?a.$valid=!0:a.$valid=!1:a.$valid=!0),a.$valid&&"dynamicQuestionnaire"===t.form[1].XCloudDefinition.table&&(a.$valid=y())),a.$valid){if(void 0!==r&&(r.target.disabled=!0),t.isLastForm&&!1===t.angularSchemaObserver.isAllFormValid(t).returnState)return void t.restoreErrorState(t.currentForm);if(t.isFirstForm&&!1===t.angularSchemaObserver.semaphoreCollection.isLeadCapture){var l=_XC_CONFIG.org+".applicationURL";window.location.href.indexOf("/apply/")>-1&&window.localStorage.setItem(l,window.location.href)}if(t.isLastForm&&!1===t.angularSchemaObserver.semaphoreCollection.isLeadCapture){l=_XC_CONFIG.org+".applicationURL";window.location.href.indexOf("/apply/")>-1&&localStorage.getItem(l)&&window.localStorage.removeItem(l)}if(_XC_CONFIG.landing_page&&"true"!==_XC_CONFIG.is_microsite_log_in_enabled&&!0!==_XC_CONFIG.is_microsite_log_in_enabled&&_XC_CONFIG.landing_page.existing_user)return _XC_CONFIG.isLoginLessReturningUser=!0,delete _XC_CONFIG.landing_page.existing_user,t.updateForm(a,n);if(!0===t.gridEnabled||void 0===t.isPartialSave||!0!==t.isPartialSave){var s=t.initiateTransaction();s.transactionMode=t.angularSchemaObserver.getTransactionMode(t).transactionMode,t.angularSchemaObserver.notifyOnAction(t,s),!0===_XC_CONFIG.form_naming_enabled&&window.dataLayer.push({event:"Analytics Funel",formName:t.angularSchemaObserver.activeForm.title.trim().replace(/\s+/g,"-").toLowerCase(),URL:window.location.href,requisition:o.requisitionId})}else t.angularSchemaObserver.offlineSave(t)}else t.restoreErrorState(t.currentForm)},t.updateForm=function(a,n){if(2===i.angularSchemaObserver.formStyleHandler.viewStyle&&i.onClickActionButton(),t.currentForm=a,t.validateForm(),o.inMemoryStorage.formModel=t.model,!0===a.$valid&&((!0===e.resumeRequired||!0===e.isAttachmentRequired)&&C.length>0&&(!0!==e.resumeParsed&&!e.resumeUpdated||!0!==t.isFormAttachmentUploaded?!0===e.isAttachmentRequired&&!0===t.isFormAttachmentUploaded?a.$valid=!0:a.$valid=!1:a.$valid=!0),a.$valid&&"dynamicQuestionnaire"===t.form[1].XCloudDefinition.table&&(a.$valid=y())),a.$valid)if(5===t.angularSchemaObserver.formStyleHandler.viewStyle&&(t.form[1].XCloudDefinition.hasOwnProperty("summaryFormConfiguration")&&"true"===t.form[1].XCloudDefinition.summaryFormConfiguration.summarizeForm&&(t.showAccountSummary=!0),!0===t.gridEnabled&&t.$broadcast("hideGrid",!1),e.$broadcast(BROAD_CAST_NAMESPACE.PROFILE_UPDATED)),!0===t.gridEnabled||void 0===t.isPartialSave||!0!==t.isPartialSave){var r=t.initiateTransaction();r.transactionMode=t.angularSchemaObserver.transactionMode.Update,t.angularSchemaObserver.notifyOnAction(t,r),!0===_XC_CONFIG.form_naming_enabled&&window.dataLayer.push({event:"Analytics Funel",formName:t.angularSchemaObserver.activeForm.title.trim().replace(/\s+/g,"-").toLowerCase(),URL:window.location.href,requisition:o.requisitionId})}else t.angularSchemaObserver.offlineSave(t);else t.restoreErrorState(t.currentForm)},t.populateForm=function(e){t.transactionDefaults(),void 0!==t.hasRetrieveMuted&&!0===t.hasRetrieveMuted||(t.onPreLoadComplete=e,t.angularSchemaObserver.notifyOnRetrieve(t,t.getNextTransaction()))},t.showForm=function(e){t.hideForm=!1,t.angularSchemaObserver.showFieldGroup(t,e)},t.showPersonalInfoForm=function(){t.showAccountSummary=!1},t.skipForm=function(e,a,n){2===i.angularSchemaObserver.formStyleHandler.viewStyle&&i.onClickActionButton(),void 0===t.isPartialSave||!0!==t.isPartialSave?"undefined"!=typeof event?-1===event.target.getAttribute("class").indexOf("disabled")&&t.angularSchemaObserver.showNextFieldGroup(t):void 0!==n&&-1===n.target.getAttribute("class").indexOf("disabled")&&t.angularSchemaObserver.showNextFieldGroup(t):t.angularSchemaObserver.offlineSave(t)},t.showNextForm=function(e,a,n){2===i.angularSchemaObserver.formStyleHandler.viewStyle&&i.onClickActionButton(),void 0===t.isPartialSave||!0!==t.isPartialSave?"undefined"!=typeof event?-1===event.target.getAttribute("class").indexOf("disabled")&&t.angularSchemaObserver.showNextFieldGroup(t):void 0!==n&&-1===n.target.getAttribute("class").indexOf("disabled")&&t.angularSchemaObserver.showNextFieldGroup(t):t.angularSchemaObserver.offlineSave(t)},t.dependantFieldValidation=function(t,a,n){e.customValidation=!0===t},t.showNextFieldGroup=function(e,a,n,r){(!1!==e&&"false"!==e&&"f"!==e||!1!==r)&&(!0!==e&&"true"!==e&&"t"!==e||!0!==r)?t.angularSchemaObserver.removeHiddenNextForm(t):t.angularSchemaObserver.hideNextForm(t)},t.isBelow18=function(a,n,r){var i=o.session.candidate.get();!0===a||"true"===a||"t"===a?(jQuery(".loading-container").css("display","block"),t.angularSchemaObserver.hideNextForm(t),A(i.candidateId).then((function(){e.$broadcast("doNotShowGrid",!0,t.nextFieldGroup.title)})).catch((function(e){jQuery(".loading-container").css("display","none")}))):t.angularSchemaObserver.removeHiddenNextForm(t)},t.isConvictedValue=function(a,n,r){var i=o.session.candidate.get();!1===a||"false"===a||"f"===a?(jQuery(".loading-container").css("display","block"),t.angularSchemaObserver.hideNextForm(t),A(i.candidateId).then((function(){e.$broadcast("doNotShowGrid",!0,t.nextFieldGroup.title)})).catch((function(e){jQuery(".loading-container").css("display","none")}))):t.angularSchemaObserver.removeHiddenNextForm(t)},t.showPreviousForm=function(e,a,n){2===i.angularSchemaObserver.formStyleHandler.viewStyle&&i.onClickActionButton(),null!==t.previousFieldGroup&&("undefined"!=typeof event?null!==t.previousFieldGroup&&-1===event.target.getAttribute("class").indexOf("disabled")&&t.angularSchemaObserver.showFieldGroup(t.previousFieldGroup,!1):void 0!==n&&null!==t.previousFieldGroup&&-1===n.target.getAttribute("class").indexOf("disabled")&&t.angularSchemaObserver.showFieldGroup(t.previousFieldGroup,!1))},t.cancelRowUpdate=function(e,a){t.currentForm=e,5===t.angularSchemaObserver.formStyleHandler.viewStyle&&t.$broadcast("hideGrid",!1),t.gridHandler.cancelRowUpdate(),t.angularSchemaObserver.resetModelHandler(t,a)},t.$on("geoLocationData",(function(e,a){t.programmaticModel[t.angularSchemaObserver.core.table]=a})),t.$on("notifyChangeMinEndDate",(function(e,a){t.$broadcast("changeMinEndDate",a)})),t.$on("notifyChangeMaxStartDate",(function(e,a){t.$broadcast("changeMaxStartDate",a)})),t.onFormActive=function(e){if(!0===_XC_CONFIG.form_naming_enabled&&e&&e.path&&e.path.default){var a=t.title.trim();a=a.replace(/\s+/g,"-").toLowerCase();var n=e.path.default+t.indexOfForm+"/";void 0!==a&&(n+=a+"/"),n=encodeURI(n),r.path(n,!1),r.search("link",null),r.search("job",null)}};var E=0;function I(e){e.html(i.socialProvider.notificationEngine.deactivatedMessage)}t.TranslatedTitle=XCLOUD.i18n(t.title,"titles"),t.terms_policy_enabled=function(){try{return t.form[1].XCloudDefinition.showCopyright?"false"!=t.form[1].XCloudDefinition.showCopyright:"true"===_XC_CONFIG.copyright.terms_policy_enabled||!0===_XC_CONFIG.copyright.terms_policy_enabled}catch(e){return!0}}(),t.TandC_url=_XC_CONFIG.copyright.TandC_url,t.privacyPolicyUrl=_XC_CONFIG.copyright.privacyPolicyUrl,t.copyrightYear=_XC_CONFIG.copyright.copyrightYear,t.isFormAttachmentUploaded=!0,T(),t.transactionDefaults(),t.angularSchemaObserver.registerForm(t),t.removeRedirectToCurrentModule(),t.registerExternalValidator=function(e){C.push(e)},t.isValidModel=function(e){return function(e){var a=!1;if(void 0===e)return a;if(0===t.mandatoryFieldCollection.length)return a=!0;a=!0;for(var n=0;n<t.mandatoryFieldCollection.length;n++){var r=t.mandatoryFieldCollection[n],i=e[r];if(null==i)return a=!1;if(!1===angular.isArray(i)&&0===i.length)return a=!1;if(!0===angular.isArray(i)&&(0===i.length||0===i[0].length))return a=!1}return a}(e)},t.isSpecificModelFilledAndValid=function(e){var t=this.ngForm[e];return!0!==t.$isEmpty(t.$viewValue)&&!0===t.$valid};var b=e.$on("sf-render-finished",(function(e){console.log(t.ngForm),f.getCandidateAndUpdateForm(t.ngForm),b()}))}angular.module("st.candidate.activity").controller("candidateSchemaFormController",e),e.$inject=["$rootScope","$scope","$q","$timeout","$location","ModelDependencyFactory","ApplicationState","authService","LocalStorage","HTMLHelper","publicFolder","privateCandidate","CandidateWorkFlow","applyAttachmentViewModalService","CheckinService","SessionStorage","ApplicationErrorLog"]}()},function(e,t){angular.module("st.candidate.activity").directive("schemaApplyLeadCaptureForm",(function(){return{restrict:"EA",scope:{applyFlowData:"=",externalJob:"=",defaultValueFieldObject:"=",fieldDefinition:"=",fieldParserDefinition:"=",fieldLookUpCollection:"=",fieldNameCollection:"=",form:"=",glyphIcon:"=",gridConfiguration:"=",gridEnabled:"=",hide:"=",indexOfForm:"=",isFirstForm:"=",isLastForm:"=",mandatoryFieldCollection:"=",model:"=",replicate:"=?",schema:"=",table:"=",tableMap:"=",title:"=",viewStyle:"="},replace:!0,transclude:!1,controller:"applyLeadCaptureController",templateUrl:"/wp-content/plugins/xcloud/app/components/apply_leadcapture/apply-leadcapture.html"}}))},function(e,t){!function(){"use strict";function e(e,t,a,n,r){angular.extend(this,a("candidateSchemaFormController",{$scope:e}))}angular.module("st.candidate.activity").controller("applyLeadCaptureController",e),e.$inject=["$scope","$log","$controller","$location","$window"]}()},function(e,t){angular.module("st.candidate.activity").directive("schemaLeadCaptureForm",(function(){return{restrict:"EA",scope:{applyFlowData:"=",externalJob:"=",defaultValueFieldObject:"=",fieldParserDefinition:"=",fieldDefinition:"=",fieldLookUpCollection:"=",fieldNameCollection:"=",form:"=",glyphIcon:"=",gridConfiguration:"=",gridEnabled:"=",hide:"=",indexOfForm:"=",isFirstForm:"=",isLastForm:"=",mandatoryFieldCollection:"=",model:"=",replicate:"=?",schema:"=",table:"=",tableMap:"=",title:"=",viewStyle:"="},replace:!0,transclude:!1,controller:"leadCaptureController",templateUrl:"/wp-content/plugins/xcloud/app/components/leadcapture/leadcapture.html"}}))},function(e,t){!function(){"use strict";function e(e,t,a,n,r){angular.extend(this,a("candidateSchemaFormController",{$scope:e}))}angular.module("st.candidate.activity").controller("leadCaptureController",e),e.$inject=["$scope","$log","$controller","$location","$window"]}()},function(e,t){!function(){"use strict";angular.module("analytics.omni.tagging",["angular-md5"])}()},function(e,t){!function(){"use strict";angular.module("analytics.omni.tagging").factory("omniTaggingFactory",["md5","ApplicationErrorLog","$location",function(e,t,a){var n={ATS_Join:{se_ca:"lcp",se_ac:"profile_join",se_pr:0,aid:"",se_la:0,uid:""},ATS_apply:{se_ca:"conversion",se_ac:"app_complete",se_la:0,se_pr:0,aid:"",uid:""},ATS_partial_apply:{se_ca:"lcp",se_ac:"profile_join",se_la:0,se_pr:0,aid:"",uid:""},MICROSITE_campaign:{se_ca:"microsite",se_ac:"campaign_complete",se_la:0,se_pr:0,aid:"clientID",uid:""},EASY_APPLY:{se_ca:"conversion",se_ac:"Apply_Complete",se_la:0,se_pr:0,aid:""}};return{omniTaggingCreateTag:function(e){try{_XC_CONFIG.application_logs.enable_omnitag_flow_logs&&t.setErrorLog({error_module:"OmnitagFlow",error:"populated Data: "+JSON.stringify(n),comment:"populated omni data for Flow "+e});var a="https://d.hodes.com/i?tv=pixel_tracker&p=web&e=se&aid=";switch(e){case"ATS_Join":a=(a=(a=(a=(a+=n.ATS_Join.aid)+"&se_ca="+n.ATS_Join.se_ca)+"&se_ac="+n.ATS_Join.se_ac)+"&se_pr="+n.ATS_Join.se_pr)+"&uid="+n.ATS_Join.uid;break;case"ATS_apply":a=(a=(a=(a=(a=(a+=n.ATS_apply.aid)+"&se_ca="+n.ATS_apply.se_ca)+"&se_ac="+n.ATS_apply.se_ac)+"&se_la="+n.ATS_apply.se_la)+"&se_pr="+n.ATS_apply.se_pr)+"&uid="+n.ATS_apply.uid;break;case"ATS_partial_apply":a=(a=(a=(a=(a=(a+=n.ATS_partial_apply.aid)+"&se_ca="+n.ATS_partial_apply.se_ca)+"&se_ac="+n.ATS_partial_apply.se_ac)+"&se_la="+n.ATS_partial_apply.se_la)+"&se_pr="+n.ATS_partial_apply.se_pr)+"&uid="+n.ATS_partial_apply.uid;break;case"MICROSITE_campaign":a=(a=(a=(a=(a=(a+=n.MICROSITE_campaign.aid)+"&se_ca="+n.MICROSITE_campaign.se_ca)+"&se_ac="+n.MICROSITE_campaign.se_ac)+"&se_la="+n.MICROSITE_campaign.se_la)+"&se_pr="+n.MICROSITE_campaign.se_pr)+"&uid="+n.MICROSITE_campaign.uid;break;case"EASY_APPLY":a=(a=(a=(a=(a+=n.EASY_APPLY.aid)+"&se_ca="+n.EASY_APPLY.se_ca)+"&se_ac="+n.EASY_APPLY.se_ac)+"&se_la="+n.EASY_APPLY.se_la)+"&se_pr="+n.EASY_APPLY.se_pr,a+="&ti_ca=cws_apply"}return""}catch(e){t.setErrorLog({error_module:"OmnitagFlow",error:e.message,comment:"error in omnitagflow"})}},omniTagginPopulateParams:function(a,r,i,o){try{_XC_CONFIG.application_logs.enable_omnitag_flow_logs&&t.setErrorLog({error_module:"OmnitagFlow",error:"Params Populated with Value:: aid: "+a+" candidateId: "+r+" reqid: "+i+" email: "+o,comment:r.toString()});var l=e.createHash(o||"");for(var s in n)n.hasOwnProperty(s)&&(n[s].aid=a,n[s].se_pr=r,n[s].se_la=i,n[s].uid=l)}catch(e){t.setErrorLog({error_module:"OmnitagFlow",error:e.message,comment:"error in omnitagflow"})}},fireOmniTagJS:function(e){if(_XC_CONFIG.application_logs.enable_omnitag_flow_logs&&t.setErrorLog({error_module:"OmnitagFlow",error:"Parameters Passed to fireOmniTag:  "+JSON.stringify(e).replaceAll('"'," "),comment:"fireOmnitagJS",page_link:a.url()}),"undefined"!=typeof snowplow){snowplow("newTracker","co","d.hodes.com",{appId:e.aid,platform:"web",contexts:{webPage:!1,performanceTiming:!1,gaCookies:!0,geolocation:!1}});var n=window.location.href,r=new URLSearchParams(window.location.search),i="",o="",l="",s="",c=e.candidateId;"LCP"==e.calledFrom&&(n.toLowerCase().indexOf("/profile/join")>-1&&(i="lcp",o="profile_join",l=c,s=0),n.toLowerCase().indexOf("/apply/join")>-1||e.fromJdp?(i="lcp",o="profile_join",l=c,s=r.has("job")?r.get("job"):e.jobId):n.toLowerCase().indexOf("/apply/?link")>-1&&(i="lcp",o="profile_join",l=c,r.has("link")&&(s=r.get("link"))),_XC_CONFIG.landing_page&&(i="microsite",o="campaign_complete",l=c,s=_XC_CONFIG.landing_page.id),n.toLowerCase().indexOf("profile/job-alert")>-1&&(i="lcp",o="profile_join",l=c,r.has("link")&&(s=r.get("link")))),"APPLY"==e.calledFrom&&(e.easyApply?(i="conversion",o="Apply_Complete",s=e.reqId,l=c):(i="conversion",o="app_complete",s=e.reqId,l=c)),"LOGIN"==e.calledFrom&&(i="login",l=c),"APPLY_START"==e.calledFrom&&(i="applystart",o="App_Start",l=c,s=e.reqId),_XC_CONFIG.application_logs.enable_omnitag_flow_logs&&t.setErrorLog({error_module:"OmnitagFlow",error:"Just before firing Snowplow tag "+JSON.stringify({se_ca:i,se_ac:o,se_la:s,se_pr:l}).replaceAll('"'," "),comment:"fireOmnitagJS",page_link:a.url()}),snowplow("trackStructEvent",i,o,s,l,0)}else _XC_CONFIG.application_logs.enable_omnitag_flow_logs&&t.setErrorLog({error_module:"OmnitagFlow",error:"Snowplow tag not defined. "+JSON.stringify(e).replaceAll('"'," "),comment:"fireOmnitagJS",page_link:a.url()})}}}])}()},function(e,t){angular.module("analytics.omni.tagging").directive("omniTaggingDirective",["omniTaggingFactory","ApplicationErrorLog",function(e,t){return{restrict:"EA",link:function(a,n,r){try{var i=r.flow;"true"===_XC_CONFIG.omniDataEnabled&&void 0!==_XC_CONFIG.analytics_id&&""!==_XC_CONFIG.analytics_id&&null!==_XC_CONFIG.analytics_id&&(a.imgSrc=e.omniTaggingCreateTag(i),_XC_CONFIG.application_logs.enable_omnitag_flow_logs&&t.setErrorLog({error_module:"OmnitagFlow",error:"image src: "+a.imgSrc,comment:"From omni-tagging-directive"}))}catch(e){t.setErrorLog({error_module:"OmnitagFlow",error:"Error in Omni tagging directive: "+e.message,comment:"From omni-tagging-directive"})}},templateUrl:"/wp-content/plugins/xcloud/app/components/omni_tagging/omni-tagging.html"}}])},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s){e.isLeadCaptureForModal=!0,e.isModalLcpShowThankYou=!1,s.setCallFromModal(),angular.extend(this,a("candidatePoolController",{$scope:e})),e.vm={E_PANEL:{LCP:0},decorator:{header:_XC_CONFIG.lcp_modal_header?_XC_CONFIG.lcp_modal_header:"",subHeader:_XC_CONFIG.lcp_modal_sub_header?_XC_CONFIG.lcp_modal_sub_header:""},preventDoubleClick:function(){return!1},modalPopup:{close:function(e){e&&e.preventDefault();o.close()},enableCloseButton:!0,panel:0}},e.$on("modal.closing",(function(e,t,a){s.resetCalledFromModal(),s.setIsModalOpen(!1),function(e,t){switch(t){case o.E_REASON.ESCAPE:}}(0,t)})),e.$on("closeLeadCaptureModal",(function(t,a,n){s.getIsModalOpen()&&e.vm.modalPopup.close()}))}angular.module("st.candidate.activity").controller("leadCaptureModalController",e),e.$inject=["$scope","$log","$controller","$location","$window","metaDataProvider","schemaModalService","migrationService","leadcaptureModalService"]}()},function(e,t){angular.module("st.candidate.activity").directive("leadCaptureModalThankYou",["leadcaptureModalService",function(e){return{restrict:"EA",controller:function(t){t.thankYouMessage=e.getModalThankYouMessage()},templateUrl:"/wp-content/plugins/xcloud/app/components/leadcapture/modal-thank-you.html"}}])},function(e,t){angular.module("st.services").factory("leadcaptureModalService",(function(){var e={},t=!1,a="",n=!1;return e.setIsModalOpen=function(e){n=e},e.getIsModalOpen=function(){return n},e.setCallFromModal=function(){t=!0,console.log(t)},e.getCalledFromModal=function(){return t},e.resetCalledFromModal=function(){t=!1,console.log(t)},e.setModalThankYouMessage=function(e){a=e},e.getModalThankYouMessage=function(){return a},e}))},function(e,t){!function(){"use strict";function e(e,t,a,n,r){var i=this;function o(){this._head=null,this._current=null,this._apply=new a}return i.add=function(e){i._flow._apply.add(e)},i.current=s,i.first=function(){l()},i.next=l,i.obtainCandidateLockState=r.obtainLockState,i.releaseCandidateLockState=r.releaseLockState,i.reset=function(){i._flow=new o,i._flow._apply.add({flow:"application",retainSession:!1,isOptional:!1}),i._flow._apply.add({flow:"application-assessment",url:"/apply/assessment/",retainSession:!0,isOptional:!0}),i._flow._apply.add({flow:"application-thank-you",url:"/apply/thank-you/",retainSession:!1,isOptional:!1})},i.redirectToCurrent=function(){e.url(s().url)},i;function l(){return void 0===i._flow?i._flow:null===i._flow._head?(i._flow._head=i._flow._apply.head,i._flow._current=i._flow._head,i._flow._current.data):null!==i._flow._current?(i._flow._head=i._flow._current,i._flow._current=i._flow._current.next,null!==i._flow._current?i._flow._current.data:i._flow._current):i._flow._current}function s(){return void 0===i._flow?i._flow:void 0!==i._flow._current&&null!==i._flow._current?i._flow._current.data:i._flow._current}}angular.module("com.hrlogix.ats.global.services").factory("ApplyWorkFlow",e),e.$inject=["$location","$q","LinkedList","candidate","CandidateWorkFlow"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r){var i=t.getInstance(MODULE_NAME_SERVICES),o={getViewModel:function(){return void 0===o.vm?n.localStorage.screening.result.get():o.vm},setViewModel:function(){o.vm={isShowComponent:!1};var t=n.session.requisition.get(),l={candidateId:n.session.candidate.get().candidateId,applicationId:n.localStorage.application.id.get()};if(r.isLoggedIn)return a.getScreeningResult(l).$promise.then((function(a){var r=e.defer();try{null!==a.hasQualified&&(o.vm.hasQualified=a.hasQualified,o.vm.isShowComponent=!0===n.showScreeningMessageComponent,!0===o.vm.hasQualified?o.vm.message=t.screenInMessage:o.vm.message=t.screenOutMessage),r.resolve(o.vm)}catch(e){i.error(e),delete o.vm,r.reject(e)}return r.promise}))},hasQualified:function(){var e;e=void 0===o.vm?n.localStorage.screening.result.get():o.vm;return null==e?e:e.hasQualified}};return o}angular.module("st.services").factory("screeningMessageViewModelService",e),e.$inject=["$q","$log","privateCandidate","ApplicationState","authService"]}()},function(e,t){angular.module("st.candidate.screening.questions").directive("screeningMessage",(function(){return{restrict:"EA",replace:!0,transclude:!1,controller:"screeningMessageController",templateUrl:"/wp-content/plugins/xcloud/app/components/screening_questions/screening-message.html"}}))},function(e,t){!function(){"use strict";function e(e,t,a,n){e.vm={isShowComponent:!1},function(){try{e.vm=n.getViewModel()}catch(e){t.error("screening-message init error",e)}}()}angular.module("st.candidate.screening.questions").controller("screeningMessageController",e),e.$inject=["$scope","$log","$q","screeningMessageViewModelService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p){angular.extend(this,t("candidateBaseHelper",{$scope:e}));jQuery;var m=a.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_SCREENING_QUESTIONS);e.backButtonTitle="< Back",e.table="answers",e.mandatoryFieldCollection=[],function(){e.screening=[],e.applyReq=o.get("applyReq"),e.screeningQuestions=[],e.results=e.screeningQuestions,e.isSessionLogged=!1,e.formlistUpdateFlag=!0,e.continueBtn=_XC_CONFIG.context.continue,c.screening_answers_submit=!1,c.screening_answers={},e.screenCompleteIcon=!1,e.formlistUpdateFlag=!0,null!==e.applyReq&&void 0!==e.applyReq&&function(t){try{var a=[];null!=t&&i.getReqQuestions({requisitionId:t}).$promise.then((function(t){for(var n in 0===(a=normalizeObjects(t)).length&&e.angularSchemaObserver.unRegisterExternalComponent(e),a)g(a[n].questionGroupId,e.screeningQuestions)}),(function(a){m.error(a),e.angularSchemaObserver.unRegisterExternalComponent(e),f="Error: : could not get questions for requisitionID :"+t,p.setErrorLog({error_module:"Screening_Question",error:f})}))}catch(e){f=e.message+"function: getReqQuestions",p.setErrorLog({error_module:"Screening_Question",error:f})}}(e.applyReq.requisitionId);d.isLoggedIn&&(e.isSessionLogged=!0);e.angularSchemaObserver.registerExternalComponent(e),!0===e.angularSchemaFormContainer.isLastForm&&(e.continueBtn=_XC_CONFIG.context.submit);e.angularSchemaFormContainer.showEditButton=d.isLoggedIn}();var f="";function g(e,t){try{i.getGeneralQuestions({questionGroupId:e}).$promise.then((function(e){var a=normalizeObjects(e);for(var n in a)"t"===a[n].active&&(a[n].options=[],a[n].answer=null,h(a[n].generalQuestionsId,a[n]),t.push(a[n]))}),(function(t){m.error(t),f="Error: could not get general questions for questionGroupId :"+e,p.setErrorLog({error_module:"Screening_Question",error:f})}))}catch(e){f=e.message+" :function: getGeneralQuestions",p.setErrorLog({error_module:"Screening_Question",error:f})}}function h(e,t){try{i.getGeneralOptions({generalQuestionsId:e}).$promise.then((function(e){t.options=normalizeObjects(e),angular.isArray(t.options)&&(t.options=t.options.filter((function(e){return!e.hasOwnProperty("active")||("t"===e.active||void 0)}))),"VCheck"!==t.type&&"HCheck"!==t.type||(t.options=t.options.sort((function(e,t){return e.sortOrder-t.sortOrder})))}),(function(e){m.error(e),f="Error: could not get general questions for questionGroupId :"+questionGroupId,p.setErrorLog({error_module:"Screening_Question",error:f})}))}catch(e){f=e.message+" :function: getGeneralOptions",p.setErrorLog({error_module:"Screening_Question",error:f})}}e.submitScreeningAnswers=function(t){try{if(t.$invalid)return!1;!0===_XC_CONFIG.form_naming_enabled&&window.dataLayer.push({event:"Analytics Funel",formName:e.angularSchemaObserver.activeForm.title.trim().replace(/\s+/g,"-").toLowerCase(),URL:window.location.href,requisition:u.requisitionId}),e.globalProgressBarHandler(!0),e.applyCandidate=u.session.candidate.get(),e.appId=o.get("appId"),e.answers=[];var a=(new Date).getTime();for(var n in e.results){var r=null;if(null===e.results[n].answer||void 0===e.results[n].answer||!1!==angular.isString(e.results[n].answer)){for(var i in e.results[n].options)e.results[n].answer!==e.results[n].options[i].answer&&"text"!==e.results[n].options[i].answer||(r=e.results[n].options[i].generalOptionId);e.answers.push({candidateId:e.applyCandidate.candidateId,applicationId:e.appId,answer:e.results[n].answer,generalOptionId:r,generalQuestionsId:e.results[n].generalQuestionsId,created:a})}else{var l=Object.keys(e.results[n].answer);for(var s in l)e.answers.push({candidateId:e.applyCandidate.candidateId,applicationId:e.appId,answer:e.results[n].options[parseInt(l[s])].answer,generalOptionId:e.results[n].options[parseInt(l[s])].generalOptionId,generalQuestionsId:e.results[n].generalQuestionsId,created:a})}}c.screening_answers_submit=!0,c.screening_answers=e.answers,e.globalProgressBarHandler(!1),e.angularSchemaObserver.showNextFieldGroup(e.angularSchemaFormContainer)}catch(t){m.error(t),e.globalProgressBarHandler(!1),f=t.message+"function: submitScreeningAnswers",p.setErrorLog({error_module:"Screening_Question",error:f})}},e.submitActionSemaphore=function(){var t=!0,a=_.findWhere(e.results,{required:"t",answer:null});if(void 0===a&&(a=_.findWhere(e.results,{required:"t",answer:void 0})),void 0===a){if(void 0===e.schemaScreeningForm)return t;void 0!==e.angularSchemaFormContainer&&!0===e.angularSchemaFormContainer.isLastForm&&(t=e.angularSchemaObserver.isAllFormValid(e.angularSchemaFormContainer).returnState),t=e.results.length<1||!1===e.schemaScreeningForm.$invalid}else t=!1;return t}}angular.module("st.controllers.apply.site").controller("schemaScreeningController",e),e.$inject=["$scope","$controller","$log","$location","$window","questions","SessionStorage","LocalStorage","$q","$rootScope","authService","ApplicationState","ApplicationErrorLog"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n){var r=t.getInstance(MODULE_NAME_SERVICES),i=[],o={createForRequisition:function(t,n){i=[];if(null!=t&&null!=n)return a.createCandidateAssessmentForRequisition({candidateId:t,requisitionId:n}).$promise.then((function(t){var a=e.defer();try{l(t=normalizeObjects(t)),a.resolve(t)}catch(e){r.error(e),a.reject(e)}return a.promise}));var o=e.defer();return o.reject("invalid arguments"),o.promise},get:function(t){i=[];if(i=[],null!=t)return a.getCandidateAssessments({candidateId:t}).$promise.then((function(t){var a=e.defer();try{var n=normalizeObjects(t);l(n),a.resolve(n)}catch(e){r.error(e),a.reject(e)}return a.promise}));var n=e.defer();return n.reject("invalid arguments"),n.promise},getFromCache:function(){return i},filterFromCache:function(e){return _.filter(i,(function(t){return e.indexOf(t.vendorPositionCode)>-1}))},loadDomainLookup:function(){return o.domainLookup=[],n.loadListNames(o.domainLookup,["assmt_position_codes"])},getLookUpCollection:function(){return o.domainLookup}};return o;function l(e){if(void 0!==e&&angular.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];a.positionLabel=s(a.vendorPositionCode),i.push(a)}}function s(e){if(void 0!==e){var t=_.findWhere(o.domainLookup.assmt_position_codes,{value:e});return void 0===t?e:t.label}return e}}angular.module("st.services").factory("candidateAssessmentService",e),e.$inject=["$q","$log","privateCandidate","ListService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o){t.getInstance(MODULE_NAME_SERVICES);return{getVMFromCache:function(t,r){var i={isShowComponent:!0},o=e.defer();if(i.assessments=a.filterFromCache(t),n.isLoggedIn&&(void 0===i.assessments||i.assessments.length<t.length)){var l=a.getLookUpCollection();void 0===l||0===l.length?a.loadDomainLookup().then((function(){a.get(r).then((function(e){i.assessments=a.filterFromCache(t),s(i),o.resolve(i)}))})):a.get(r).then((function(e){i.assessments=a.filterFromCache(t),s(i),o.resolve(i)}))}else o.resolve(i);return o.promise},getAssessmentStatus:l,obtainCandidateLockState:function(){return o.obtainCandidateLockState(o.current())},releaseCandidateLockState:function(){return o.releaseCandidateLockState(o.current())}};function l(e){var t=e.testStatus;return"invited"===t?"Not Started":"inprocess"===t?"Incomplete":"Completed"}function s(e){if(void 0===e||void 0===e.assessments||0===e.assessments.length)return e;try{for(var t=0;t<e.assessments.length;t++)if("Completed"!==l(e.assessments[t]))return e.isAssessmentCanBeSkipped=!1,e;e.isAssessmentCanBeSkipped=!0}catch(t){e.isAssessmentCanBeSkipped=!1}return e}function l(e){var t=e.testStatus;return"invited"===t?"Not Started":"inprocess"===t?"Incomplete":"Completed"}function s(e){if(void 0===e||void 0===e.assessments||0===e.assessments.length)return e;try{for(var t=0;t<e.assessments.length;t++)if("Completed"!==l(e.assessments[t]))return e.isAssessmentCanBeSkipped=!1,e;e.isAssessmentCanBeSkipped=!0}catch(t){e.isAssessmentCanBeSkipped=!1}return e}}angular.module("st.services").factory("assessmentViewModelService",e),e.$inject=["$q","$log","candidateAssessmentService","authService","candidate","ApplicationState","ApplyWorkFlow"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s){var c,d=r.getInstance(MODULE_NAME_SERVICES);function u(){var t=_.findWhere(e.vm.assessments,{testStatus:"invited"});if(null==t){var a=f();!1===i.localStorage.candidate.isReturningUser.get()&&!1===a.retainSession?o.releaseCandidateLockState().then((function(e){s.logout(),p()})).catch((function(e){d.error("failed to update candidate locked state "),d.error(e)})):p()}}function p(){l.redirectToCurrent()}function m(){var e=l.current();null==e&&(l.reset(),l.first(),l.next())}function f(){return m(),l.next()}e.vm={assessments:[],ApplyWorkFlow:l,getAssessmentStatus:o.getAssessmentStatus,isShowComponent:!0,isAssessmentCanBeSkipped:!1,preventDoubleClick:function(){return!1},startAssessment:function n(r){r.url?(c&&!0!==c.closed?c.location.href=r.url:c=window.open(r.url,"assessmentWindow"),u()):(c=window.open("","assessmentWindow"),t.isNewUser?a({url:ATS_URL+ATS_INSTANCE+"/rest/"+clientName+"/token",method:"POST",data:{tokenState:"",stateType:"NONE",tokenType:"Temporary Token",userPrincipal:"candidate/"+clientName+"/"+i.session.candidate.get().uname,audKeys:[{audKeyShort:"lgnls",methods:["ALL"]}],appType:["XCC","XCEI"]}}).then((function(t){var i=normalizeObjects(t).data.token;a.defaults.headers.common.Authorization="BEARER "+i,a({url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/"+clientName+"/start/"+r.assessmentId,method:"POST",transformResponse:[],data:{}}).then((function(t){r.url=t.data,r.testStatus="inprocess",_.map(e.assessments,(function(e){return e.assessmentId===r.assessmentId?r:e})),n(r)}),(function(t){d.error(t),e.vm.loading=!1,jQuery(".loading-container").css("display","none")}))})):a({url:ATS_URL+ATS_INSTANCE+"/rest/private/candidate/assessment/"+clientName+"/start/"+r.assessmentId,method:"POST",transformResponse:[],data:{}}).then((function(t){r.url=t.data,r.testStatus="inprocess",_.map(e.assessments,(function(e){return e.assessmentId===r.assessmentId?r:e})),n(r)}),(function(t){d.error(t),e.vm.loading=!1,jQuery(".loading-container").css("display","none")})).catch((function(e){d.error("failed to update candidate locked state "),d.error(e)})))},skipFlow:function(){f(),l.redirectToCurrent()},workFlowMovement:u},function(){m();var t=i.localStorage.candidate.id.get(),a=i.localStorage.requisition.assessmentPositionCode.get();null!==a&&!1!==angular.isArray(a)||(a=[]);o.getVMFromCache(a,t).then((function(t){e.vm=angular.merge(e.vm,t),0===e.vm.assessments.length&&u()})).catch((function(e){d.error("failed to update candidate locked state "),d.error(e)}))}()}angular.module("st.candidate.activity").controller("assessmentController",e),e.$inject=["$scope","$rootScope","$http","$location","$log","ApplicationState","assessmentViewModelService","ApplyWorkFlow","authService"]}()},function(e,t){!function(){"use strict";angular.module("st.services").factory("dashboardAttachmentViewModalService",t),t.$inject=["$q","$log","$sce","$rootScope","privateCandidate","candidateActivityViewModelService","ApplicationState","ModelDependencyFactory","bgResumeUpload","bgResumeParser","$http","schemaModalService","privateTransactionLog","SessionStorage"];var e=null;function t(t,a,n,r,i,o,l,s,c,d,u,p,m,f){var g=a.getInstance(MODULE_NAME_SERVICES),h=S(),v={attachments:[],workHistoryToUpload:[],attachmentDetails:{},eduHistoryToUpload:[],resumeXML:{},activeRequest:!1,passedScope:{}};return{getNonVM:function(){return v},getVM:function(){return h},getVMSkeleton:S,getAttachments:y,assignFileDetails:function(e,a,n){var r=t.defer();try{var i=["application/rtf","application/msword","text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],o=["doc","docx","txt","pdf","rtf"];0;var l={};if(l.fileFormName=a,l.isUnsupported=!1,l.isInvalidContentCV=!1,l.fileSizeError=!1,l.attachmentDetails={},l.attachmentDetails.name="",l.uploadFileDisabled=!0,0===e.target.files.length)r.resolve(l);else{var c=i.indexOf(e.target.files[0].type);if(-1===c){var d=e.target.files[0].name.split(".");c=o.indexOf(d[d.length-1].toLowerCase())}(void 0===l.fileFormName||angular.equals(l.fileFormName,{}))&&(l.fileFormName=e.target.files[0]);var u=new Date;-1===c?(l.isUnsupported=!0,l.fileFormName=null):e.target.files[0].size>maxFileSizeforResume?(l.fileSizeError=!0,l.fileFormName=null):(l.attachmentDetails.name=encodeURIComponent(e.target.files[0].name),l.attachmentDetails.name=l.attachmentDetails.name.replace(/%20/g," "),l.attachmentDetails.name=l.attachmentDetails.name.length>60?l.attachmentDetails.name.slice(l.attachmentDetails.name.length-60):l.attachmentDetails.name,l.attachmentDetails.createDate=u.getTime(),l.attachmentDetails.description="",l.attachmentDetails.type=e.target.files[0].type,s.activeForm?"Resume"!==n?s.activeForm.form[1].XCloudDefinition.attachmentType?l.attachmentDetails.attachmentType=s.activeForm.form[1].XCloudDefinition.attachmentType:l.attachmentDetails.attachmentType="Document":l.attachmentDetails.attachmentType=n:(n||(n="Document"),l.attachmentDetails.attachmentType=n),l.attachmentDetails.document=null,null===h.candidateObj&&(h.candidateObj=C()),l.attachmentDetails.candidateId=h.candidateObj.candidateId,l.attachmentDetails.isCanUpload="t",l.uploadFileDisabled=!1),"Resume"===n&&void 0===h.resumeAttachment.modalPopup&&(l.modalPopup={open:T,close:A,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}}),r.resolve(l)}}catch(e){g.error(e),r.reject(e)}return r.promise},deleteDocumentHandler:function(e,a,n){if(null!==f.get("attacmentObject")&&void 0!==f.get("attacmentObject")){for(var r=f.get("attacmentObject"),o=0;o<r.attachmentids.length;o++)r.attachmentids[o]===a&&r.attachmentids.splice(o,1);f.remove("attacmentObject"),0!=r.attachmentids.length&&f.set("attacmentObject",r)}A();var c=t.defer();return jQuery(".loading-container").css("display","block"),i.deleteCandidateAttachmentById({attachmentId:a}).$promise.then((function(t){try{angular.forEach(h.attachments,(function(e,t){e.attachmentId==a&&h.attachments.splice(t,1)})),h.deleteAttachment.attachmentId=0;var r={};return r.attachmentType=n,r.modalType="delete-success",h.attachmentType=n,l.session.candidate.attachments.get()&&s.angularSchemaObserver.refreshAttachmentList(h.attachments),T(e,!0,r),jQuery(".loading-container").css("display","none"),c.resolve(h)}catch(e){g.error(e),jQuery(".loading-container").css("display","none"),c.reject(e)}}),(function(e){g.error(e),jQuery(".loading-container").css("display","none"),c.reject(e)})),c.promise},downloadDocumentHandler:function(e,t){jQuery(".loading-container").css("display","block"),i.getCandidateAttachmentById({attachmentId:e}).$promise.then((function(e,a,n){try{for(var r=e.document,i=atob(r),o=new Array(i.length),l=0;l<i.length;l++)o[l]=i.charCodeAt(l);var s=new Uint8Array(o),c=new Blob([s],{type:t}),d=(window.URL||window.webkitURL).createObjectURL(c);if(window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(c,e.name);else{var u=document.createElement("a");u.href=d,u.setAttribute("download",e.name),document.body.appendChild(u),u.click(),document.body.removeChild(u)}jQuery(".loading-container").css("display","none")}catch(e){g.error(e),jQuery(".loading-container").css("display","none")}}),(function(e){g.error(e),jQuery(".loading-container").css("display","none")}))},deleteExistingWorkHistoryRecords:E,deleteExistingEducationHistoryRecords:I,burningGlassParserErrorHandler:b,burningGlassParserHandler:function(e,a){try{var n=e,r=ATS_URL+ATS_INSTANCE+"/rest/public/thirdparty/resume/transform/html";u({url:r,method:"POST",withCredentials:!0,headers:{"Content-Type":"application/xml"},data:n}).then((function(e){n=e.data}),(function(){n=null}));var o=(new X2JS).xml_str2json(n).ResDoc;if(null===o)return b(e,a);E().then((function(){I().then((function(){O(o).then((function(){(function(e){var a=t.defer();try{v.workHistoryToUpload=[];var n=e.EmploymentHistory;v.workHistoryToUpload=s.candidateHelper.parserCollection.resume.getEmploymentModel(n,{},h.candidateObj.candidateId);var r={key:"work_history",data:angular.copy(v.workHistoryToUpload),identity:"resume"};s.angularSchemaObserver.pushExternalData(r),a.resolve(0)}catch(e){g.error(e),a.reject(e)}return a.promise})(o).then((function(){var e=s.angularSchemaObserver.getForm("Education");s.angularSchemaObserver.externalDataSourcePreLoad(e,null,"dashboard"),g.info("add Education history record success");var t=s.angularSchemaObserver.getForm("Experience");if(s.angularSchemaObserver.externalDataSourcePreLoad(t,null,"dashboard"),g.info("add Work history history record success"),N(a.event,a.attachmentType,a.currentPage,a.parsedResume),n){var r=l.session.candidate.get();r.resume=n,i.updateCandidate(r).$promise.then((function(e){l.session.candidate.set(normalizeObjects(e))}),(function(e){l.logLoginlessErrors("Loginless",r,"Update Call - DashboardAttachment",null,e),g.error(e)}))}}))}))}))}))}catch(e){jQuery(".loading-container").css("display","none")}},resumeEducationHistoryParser:O,uploadFile:N,removeUnuploadedAttachment:function(){var e=t.defer();try{h.documentAttachment.fileFormName=null,h.documentAttachment.attachmentDetails={},h.documentAttachment.uploadFileDisabled=!0,e.resolve(h)}catch(t){g.error(t),e.reject(t)}return e.promise},toggleFocusUploadBtn:function(){var e=t.defer();try{h.showBorderUploadBtn=!h.showBorderUploadBtn,e.resolve(h)}catch(t){g.error(t),e.reject(t)}return e.promise},multipleCallLock:P,multipleCallUnlock:M};function S(){var e={candidateObj:C(),page:"dashboard",modalUploadSuccess:null,modalParsedResume:!1,showBorderUploadBtn:!1,modalPopup:{open:T,close:A,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}},resumeAttachment:{},documentAttachment:{},deleteAttachment:{},INVALID_CONTENT:TEMPLATE_CONSTANTS.VALIDATION.INVALID_CONTENT.str,IN_COMPATIBLE_FILE_FORMAT:TEMPLATE_CONSTANTS.VALIDATION.IN_COMPATIBLE_FILE_FORMAT.str,FILE_SIZE_EXCEED:TEMPLATE_CONSTANTS.VALIDATION.FILE_SIZE_EXCEED.str,REMOVE_ATTACHMENT:TEMPLATE_CONSTANTS.TITLE.ACTIONS.REMOVE_ATTACHMENT.str,DOWNLOAD_ATTACHMENT:TEMPLATE_CONSTANTS.TITLE.ACTIONS.DOWNLOAD_ATTACHMENT.str,UPLOAD_FILE:TEMPLATE_CONSTANTS.TITLE.ACTIONS.UPLOAD_FILE.str,UPLOAD_RESUME:TEMPLATE_CONSTANTS.TITLE.ACTIONS.UPLOAD_RESUME.str,ALLOW_RESUME_DASHBOARD:TEMPLATE_CONSTANTS.TITLE.LABELS.ALLOW_RESUME_DASHBOARD.str,YES_PARSE:TEMPLATE_CONSTANTS.TITLE.LABELS.YES_PARSE.str,NO_PARSE:TEMPLATE_CONSTANTS.TITLE.LABELS.NO_PARSE.str,OK:TEMPLATE_CONSTANTS.TITLE.ACTIONS.OK.str,CANCEL:TEMPLATE_CONSTANTS.TITLE.ACTIONS.CANCEL.str,ATTACHMENT:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.ATTACHMENT.str,DOCUMENTS:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.DOCUMENTS.str,FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.FILE.str,ACTION:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.ACTION.str,ATTACHMENT_TYPE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.ATTACHMENT_TYPE.str,CHOOSE_A_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_FILE.str,CHOOSE_A_DOCUMENT_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_DOCUMENT_FILE.str,CHOOSE_A_IMAGE_OR_DOCUMENT_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_IMAGE_OR_DOCUMENT_FILE.str,CHOOSE_A_RESUME_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_RESUME_FILE.str,DELETE_ATTACHMENT_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.DELETE_ATTACHMENT_CONFIRMATION.str,DOCUMENT_UPLOAD_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_UPLOAD_CONFIRMATION.str,DOCUMENT_UPLOAD_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_UPLOAD_ERROR.str,DOCUMENT_DELETED_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_DELETED_CONFIRMATION.str,ATTACHMENT_DELETED_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.ATTACHMENT_DELETED_CONFIRMATION.str,RESUME_PARSED_UPLOAD_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_PARSED_UPLOAD_CONFIRMATION.str,RESUME_PARSED_UPLOAD_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_PARSED_UPLOAD_ERROR.str,RESUME_DELETED_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_DELETED_CONFIRMATION.str,RESUME_UPLOAD_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_UPLOAD_CONFIRMATION.str,RESUME_UPLOAD_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_UPLOAD_ERROR.str};return e.resumeAttachment={fileFormName:{},isUnsupported:!1,fileSizeError:!1,isInvalidContentCV:!1,uploadFileDisabled:!0,attachmentDetails:{},modalPopup:{}},e.documentAttachment={fileFormName:{},isUnsupported:!1,fileSizeError:!1,uploadFileDisabled:!0,attachmentDetails:{}},e.resumeAttachment.modalPopup={open:T,close:A,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}},e.deleteAttachment.attachmentId=0,e.deleteAttachment.modalPopup={open:T,close:A,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}},e}function C(e){if(e=e||l.session.candidate.get()){if(!angular.equals({},e))return e;e={};var t=l.session.candidate.get();if(null!==(t=parseInt(t))&&!isNaN(t))return e.candidateId=t,e;var a=l.localStorage.get("candidate");if(!angular.equals({},a))return e.candidateId=a.candidateId,e}return null}function y(e,a){var n=t.defer();return(e=C(e))?void 0!==h&&a&&void 0!==h.attachments&&h.attachments.length>0||v.activeRequest?n.resolve(h):(P(),i.getCandidateAttachments({candidateId:e.candidateId}).$promise.then((function(e){h.attachments=normalizeObjects(e);var t=[];if(h.attachments.length){for(var a=0;a<h.attachments.length;a++)/^[a-zA-Z0-9-_.!~*'()% ]+$/.test(h.attachments[a].name)&&(t[a]=h.attachments[a]);h.attachments=t}return jQuery(".loading-container").css("display","none"),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h),M(),n.resolve(h)}),(function(e){g.error(e),jQuery(".loading-container").css("display","none"),n.reject(e)})),n.promise):(h.attachments=[],n.resolve(h))}function A(e){void 0!==e&&("delete-attachment"===e&&(h.deleteAttachment.attachmentId=0),"upload-success"!==e&&"delete-success"!==e&&"upload-error"!==e||(h.modalUploadSuccess=null,h.modalParsedResume=!1),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h)),p.close()}function T(e,t,a){if(jQuery(".loading-container").css("display","none"),console.log(a),e.preventDefault(),t){var n=null,i=h.modalPopup.configuration;switch(a.modalType){case"parse-attachment":n="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-parse-confirmation-modal.html",i=h.resumeAttachment.modalPopup.configuration;break;case"delete-attachment":n="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-delete-confirmation-modal.html",void 0!==a.attachmentId&&(h.deleteAttachment.attachmentId=a.attachmentId),i=h.deleteAttachment.modalPopup.configuration;break;case"upload-success":n="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-resume-parse-and-uploaded-success-modal.html";break;case"upload-error":n="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-resume-parse-and-uploaded-error-modal.html";break;case"delete-success":n="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-delete-success-modal.html"}if(h.modalUploadSuccess=a.attachmentType,h.modalParsedResume=a.modalParsedResume,s.activeForm){var o=!1;s.activeForm.form[1].XCloudDefinition.attachmentType||(s.activeForm.form[1].XCloudDefinition.attachmentType="Document");_.filter(h.attachments,(function(e){e.attachmentType.toLowerCase()===s.activeForm.form[1].XCloudDefinition.attachmentType.toLowerCase()&&(o=!0)}));!0===o?r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h,!0):r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h,!1)}else r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h);p.open(i,n,"dashboardAttachmentController")}}function E(){var e=t.defer();return jQuery(".loading-container").css("display","block"),i.deleteAllCandidateWorkHistory({candidateId:h.candidateObj.candidateId}).$promise.then((function(t){s.angularSchemaObserver.getForm("Experience").gridHandler.modelHandler.rowCollection=[],jQuery(".loading-container").css("display","none"),e.resolve(0)}),(function(t){return g.error(t),jQuery(".loading-container").css("display","none"),e.resolve(0)})),e.promise}function I(){var e=t.defer();return jQuery(".loading-container").css("display","block"),i.deleteAllCandidateEducation({candidateId:h.candidateObj.candidateId}).$promise.then((function(t){s.angularSchemaObserver.getForm("Education").gridHandler.modelHandler.rowCollection=[],jQuery(".loading-container").css("display","none"),e.resolve(0)}),(function(t){return g.error(t),jQuery(".loading-container").css("display","none"),e.resolve(0)})),e.promise}function b(e,t){return"Resume"===t.attachmentType&&(h.resumeAttachment.fileFormName=null,h.resumeAttachment.attachmentDetails={},h.resumeAttachment.uploadFileDisabled=!0,h.resumeAttachment.isInvalidContentCV=!0,jQuery("#resumeUpload").val(null)),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h),jQuery(".loading-container").css("display","none"),0}function O(e){var a=t.defer();try{v.eduHistoryToUpload=[];var n=e.EducationHistory.Education;if(null!=n){v.eduHistoryToUpload=s.candidateHelper.parserCollection.resume.getEducationModel(n,{},h.candidateObj.candidateId);var r={key:"education",data:angular.copy(v.eduHistoryToUpload),identity:"resume"};s.angularSchemaObserver.pushExternalData(r),a.resolve(0)}}catch(e){g.error(e),a.reject(e)}return a.promise}function N(t,a,n,r,i){e=i,t.preventDefault();var o={},l=null;if("Resume"===a){if(A(),o=h.resumeAttachment.attachmentDetails,!h.resumeAttachment.fileFormName)return;l=h.resumeAttachment.fileFormName}else if("Document"===a){if(o=h.documentAttachment.attachmentDetails,!h.documentAttachment.fileFormName)return;l=h.documentAttachment.fileFormName}else{if(o=h.documentAttachment.attachmentDetails,!h.documentAttachment.fileFormName)return;l=h.documentAttachment.fileFormName}null!=a&&(o.attachmentType=a),g.debug("file was selected: ",JSON.stringify(o));var s=ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/"+clientName+"/fileFormName/attachmentFormName",d={};d.attachmentType=a,d.event=t,d.currentPage=void 0!==n?n:null,d.modalParsedResume=void 0!==r&&r,jQuery(".loading-container").css("display","block"),c.parseResume(l,s,"fileFormName","attachmentFormName",o,L,w,d)}function L(t,a){if(e){var n={};null!==f.get("attacmentObject")&&void 0!==f.get("attacmentObject")?(n=f.get("attacmentObject")).attachmentids.push(t.attachmentId):(n.key=e,n.attachmentids=[],n.attachmentids.push(t.attachmentId)),f.set("attacmentObject",n),e=null}"Resume"===a.attachmentType?(h.resumeAttachment.fileFormName=null,h.resumeAttachment.attachmentDetails={},h.resumeAttachment.uploadFileDisabled=!0,jQuery("#resumeUpload").val(null)):(a.attachmentType,h.documentAttachment.fileFormName=null,h.documentAttachment.attachmentDetails={},h.documentAttachment.uploadFileDisabled=!0,jQuery("#documentUpload").val(null)),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h),("Document"===a.attachmentType&&"apply"===a.currentPage||"apply"===a.currentPage)&&r.$broadcast("applyDashboardDocumentUpdate",!0),jQuery(".loading-container").css("display","none");var i={candidateId:h.candidateObj.candidateId,usersId:0};y(h.candidateObj).then((function(e){h=e,l.session.candidate.attachments.get()&&s.angularSchemaObserver.refreshAttachmentList(h.attachments),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h)})),o.addTransactionLog(i,{value:"[candidate.first_name] [candidate.last_name] uploaded an attachment"},h.candidateObj),a.modalType="upload-success",T(a.event,!0,a)}function w(t,a){e&&(e=null),a.modalType="upload-error",T(a.event,!0,a)}function P(){v.activeRequest=!0}function M(){v.activeRequest=!1}}}()},function(e,t){!function(){"use strict";function e(e,t){e.getInstance(MODULE_NAME_SERVICES);return t.getVM()}angular.module("st.services").factory("dashboardAttachmentDataService",e),e.$inject=["$log","dashboardAttachmentViewModalService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p){var m=t.getInstance(MODULE_NAME_CONTROLLERS_DASHBOARD_ATTACHMENT_ACCOUNT);e.unhideUploadImage=!1,e.DA_VM={},e.DA_VM.maxCountToUpload=0,a.uploadValidationCheck=!1,function(){e.DA_VM=l,e.isApplyPage=!1,e.isNoAttachmentFound=!1,e.showErrorMsg=!1,"apply"===e.currentPage&&(e.isApplyPage=!0);void 0!==n.isLoggedIn&&n.isLoggedIn&&void 0!==r.defaults.headers.common.Authorization&&r.defaults.headers.common.Authorization.length>0&&o.getAttachments(e.DA_VM.candidateObj,!0)}(),e.preventDoubleClick=function(){return!1},e.isValid=function(){var t=!1;if(u.activeForm){var a=p.session.candidate.attachments.get();if(a&&a.length>0)_.filter(a,(function(e){e.attachmentType.toLowerCase()===u.activeForm.form[1].XCloudDefinition.attachmentType.toLowerCase()&&(t=!0)}))}if(!t)return e.showErrorMsg=!0,!1;e.showErrorMsg=!1},e.toggleFocusUploadBtn=function(){o.toggleFocusUploadBtn().then((function(e){a.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,e)}))},e.deleteDocumentHandler=function(e,t,n){a.uploadValidationCheck=!1,0!==t&&o.deleteDocumentHandler(e,t,n).then((function(e){}))},e.downloadDocumentHandler=function(e,t){o.downloadDocumentHandler(e,t)},e.assignResumeDetails=function(t){e.$apply((function(){o.assignFileDetails(t,e.DA_VM.resumeAttachment.fileFormName,"Resume").then((function(t){console.log(t),angular.extend(e.DA_VM.resumeAttachment,t),a.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,e.DA_VM)}))}))},e.assignDocumentDetails=function(t){e.$apply((function(){o.assignFileDetails(t,e.DA_VM.documentAttachment.fileFormName).then((function(t){if(angular.extend(e.DA_VM.documentAttachment,t),u.activeForm){var n=!1;_.filter(e.DA_VM.attachments,(function(e){e.attachmentType.toLowerCase()===u.activeForm.form[1].XCloudDefinition.attachmentType.toLowerCase()&&(n=!0)}));!0===n?a.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,e.DA_VM,!0):a.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,e.DA_VM,!1)}else a.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,e.DA_VM)}))}))},e.uploadFromDashboard=function(t,a){i.close();var n=e.DA_VM.resumeAttachment.fileFormName;m.log("file was selected: ",JSON.stringify(e.attachmentDetails));var r=ATS_URL+ATS_INSTANCE+"/rest/public/thirdparty/resume/parse/"+_XC_CONFIG.org+"/fileFormName";jQuery(".loading-container").css("display","block");var l={event:t,currentPage:a,parsedResume:!0,attachmentType:"Resume"};d.parseResume(n,r,"fileFormName",o.burningGlassParserHandler,o.burningGlassParserErrorHandler,l)},e.uploadResume=function(e,t,a){o.uploadFile(e,"Resume",t,a)},e.uploadDocument=function(t,n,r,i){if(void 0!==u.activeForm){var l=u.activeForm.form[4].items[0].items.find((function(e){if(e.key&&e.key[0]===i)return e}));if(l&&l.maxFileCount&&(e.DA_VM.maxCountToUpload=l.maxFileCount,e.DA_VM.attachments&&r&&(e.DA_VM.attachments=e.DA_VM.attachments.filter((function(e){return!e.attachmentType||e.attachmentType.toLowerCase()==r.toLowerCase()}))),e.DA_VM.attachments&&e.DA_VM.attachments.length>=l.maxFileCount))return a.uploadValidationCheck=!0,e.DA_VM.documentAttachment.fileFormName=null,void(e.DA_VM.documentAttachment.uploadFileDisabled=!0)}i?o.uploadFile(t,r,n,void 0,i.trim()):o.uploadFile(t,r,n)},a.$on(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,(function(t,a,n){e.DA_VM!==l&&angular.copy(e.DA_VM,l),e.isNoAttachmentFound=!(void 0===e.DA_VM.attachments||!e.isApplyPage||!1!==n)})),a.$on(BROAD_CAST_NAMESPACE.UNUPLOADED_ATTACHMENT_CLEAR,(function(e){o.removeUnuploadedAttachment(e).then((function(e){}))}))}angular.module("st.candidate.activity").filter("attachmentTypeFilter",(function(){return function(e){return isNaN(parseInt(e))?e:"Document"}})).controller("dashboardAttachmentController",e),e.$inject=["$scope","$log","$rootScope","authService","$http","schemaModalService","dashboardAttachmentViewModalService","dashboardAttachmentDataService","bgResumeUpload","privateCandidate","bgResumeParser","ModelDependencyFactory","ApplicationState"]}()},function(e,t){angular.module("st.candidate.activity").directive("dashboardAttachmentList",["dashboardAttachmentDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"dashboardAttachmentController",templateUrl:"/wp-content/plugins/xcloud/app/components/dashboard_attachment/dashboard-attachment-list.html",scope:{attachmentType:"@",currentPage:"@"},link:function(t,a,n){t.DA_VM=e}}}])},function(e,t){angular.module("st.candidate.activity").directive("dashboardResumeAttachment",["dashboardAttachmentDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"dashboardAttachmentController",templateUrl:"/wp-content/plugins/xcloud/app/components/dashboard_attachment/dashboard-resume-attachment.html",scope:{currentPage:"@"},link:function(t,a,n){t.DA_VM=e}}}])},function(e,t){angular.module("st.candidate.activity").directive("dashboardDocumentAttachment",["dashboardAttachmentDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"dashboardAttachmentController",templateUrl:"/wp-content/plugins/xcloud/app/components/dashboard_attachment/dashboard-document-attachment.html",scope:{attachmentType:"@",currentPage:"@",attachmentKey:"@"},link:function(t,a,n){t.DA_VM=e}}}])},function(e,t){function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}!function(){"use strict";function e(e,t,n,r,i,o,l,s,c,d,u,p,m,f){var g,h=C(),v=[],S={attachments:[],attachmentDetails:{},activeRequest:!1,passedScope:{}};return{getNonVM:function(){return S},getVM:function(){return h},getVMSkeleton:C,getAttachments:A,assignFileDetails:function(t,a,n,r,i){var o=e.defer();try{var l={};if(l.fileFormName=a,l.isUnsupported=!1,l.isInvalidContentCV=!1,l.fileSizeError=!1,l.attachmentDetails={},l.attachmentDetails.name="",l.uploadFileDisabled=!0,l.maxUploadsReached=!1,0===t.target.files.length)o.resolve(l);else{if(null!==f.get("attacmentObject")&&void 0!==f.get("attacmentObject")&&void 0!==i&&!isNaN(parseInt(i))){var s=f.get("attacmentObject"),c=_.find(s,(function(e){return e.key.trim()===r}));if(c&&c.attachmentids.length==i)return l.maxUploadsReached=!0,l.fileFormName=null,o.resolve(l),o.promise}var d=["application/rtf","application/msword","text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].indexOf(t.target.files[0].type);if(-1===d){var u=t.target.files[0].name.split(".");d=["doc","docx","txt","pdf","rtf"].indexOf(u[u.length-1].toLowerCase())}(void 0===l.fileFormName||angular.equals(l.fileFormName,{}))&&(l.fileFormName=t.target.files[0]);var p=new Date;-1===d?(l.isUnsupported=!0,l.fileFormName=null):t.target.files[0].size>maxFileSizeforResume?(l.fileSizeError=!0,l.fileFormName=null):(l.attachmentDetails.name=encodeURIComponent(t.target.files[0].name),l.attachmentDetails.name=l.attachmentDetails.name.replace(/%20/g," "),l.attachmentDetails.name=l.attachmentDetails.name.length>60?l.attachmentDetails.name.slice(l.attachmentDetails.name.length-60):l.attachmentDetails.name,l.attachmentDetails.createDate=p.getTime(),l.attachmentDetails.description="",l.attachmentDetails.type=t.target.files[0].type,n||(n="Document"),l.attachmentDetails.attachmentType=n,l.attachmentDetails.document=null,null===h.candidateObj&&(h.candidateObj=y()),l.attachmentDetails.candidateId=h.candidateObj.candidateId,l.attachmentDetails.isCanUpload="t",l.uploadFileDisabled=!1),o.resolve(l)}}catch(e){logger.error(e),o.reject(e)}return o.promise},deleteDocumentHandler:function(t,n,r,o){var c=e.defer();return jQuery(".loading-container").css("display","block"),i.deleteCandidateAttachmentById({attachmentId:n}).$promise.then((function(e){try{if(null!==f.get("attacmentObject")&&void 0!==f.get("attacmentObject")){var t,i,o=f.get("attacmentObject"),d=_.find(o,(function(e){return e.attachmentids.indexOf(parseInt(n))>-1})),u=_.filter(o,(function(e){return e.key.trim()!=d.key})),p={};if(0===u.length){if(f.remove("attacmentObject"),d.attachmentids.length>1)o=[],p.key=d.key,p.attachmentids=[],d.attachmentids.splice(d.attachmentids.indexOf(n),1),(t=p.attachmentids).push.apply(t,a(d.attachmentids)),o.push(p),f.set("attacmentObject",o)}else if(1===d.attachmentids.length)f.set("attacmentObject",u);else p.key=d.key,p.attachmentids=[],d.attachmentids.splice(d.attachmentids.indexOf(n),1),(i=p.attachmentids).push.apply(i,a(d.attachmentids)),u.push(p),f.set("attacmentObject",u)}angular.forEach(h.attachments,(function(e,t){e.attachmentId==n&&h.attachments.splice(t,1)})),h.deleteAttachment.attachmentId=0;var m={};return m.attachmentType=r,m.modalType="delete-success",h.attachmentType=r,l.session.candidate.attachments.get()&&s.angularSchemaObserver.refreshAttachmentList(h.attachments),jQuery(".loading-container").css("display","none"),c.resolve(h)}catch(e){logger.error(e),jQuery(".loading-container").css("display","none"),c.reject(e)}}),(function(e){logger.error(e),jQuery(".loading-container").css("display","none"),c.reject(e)})),c.promise},downloadDocumentHandler:function(e,t){jQuery(".loading-container").css("display","block"),i.getCandidateAttachmentById({attachmentId:e}).$promise.then((function(e,a,n){try{for(var r=e.document,i=atob(r),o=new Array(i.length),l=0;l<i.length;l++)o[l]=i.charCodeAt(l);var s=new Uint8Array(o),c=new Blob([s],{type:t}),d=(window.URL||window.webkitURL).createObjectURL(c);if(window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(c,e.name);else{var u=document.createElement("a");u.href=d,u.setAttribute("download",e.name),document.body.appendChild(u),u.click(),document.body.removeChild(u)}jQuery(".loading-container").css("display","none")}catch(e){logger.error(e),jQuery(".loading-container").css("display","none")}}),(function(e){logger.error(e),jQuery(".loading-container").css("display","none")}))},uploadSuccess:function(e,t,a,n){if(a){var i={},c=[];if(null!==f.get("attacmentObject")&&void 0!==f.get("attacmentObject")){c=f.get("attacmentObject");var d=_.find(c,(function(e){return e.key.trim()===a}));d?(c=_.filter(c,(function(e){return e.key.trim()!==a})),d.attachmentids.push(e.attachmentId),c.push(d)):(i.key=a,i.attachmentids=[],i.attachmentids.push(e.attachmentId),c.push(i))}else i.key=a,i.attachmentids=[],i.attachmentids.push(e.attachmentId),c.push(i);f.set("attacmentObject",c)}jQuery("#documentUpload").val(null),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h),r.$broadcast("applyDashboardDocumentUpdate",!0),jQuery(".loading-container").css("display","none");var u={candidateId:h.candidateObj.candidateId,usersId:0};A(h.candidateObj).then((function(e){h=e,l.session.candidate.attachments.get()&&s.angularSchemaObserver.refreshAttachmentList(h.attachments),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h)})),o.addTransactionLog(u,{value:"[candidate.first_name] [candidate.last_name] uploaded an attachment"},h.candidateObj),t.modalType="upload-success",E(t.event,!0,t,n)},uploadError:function(e,t,a){t.modalType="upload-error",E(t.event,!0,t,a)},removeUnuploadedAttachment:function(){var t=e.defer();try{h.documentAttachment.fileFormName=null,h.documentAttachment.attachmentDetails={},h.documentAttachment.uploadFileDisabled=!0,t.resolve(h)}catch(e){logger.error(e),t.reject(e)}return t.promise},toggleFocusUploadBtn:function(){var t=e.defer();try{h.showBorderUploadBtn=!h.showBorderUploadBtn,t.resolve(h)}catch(e){logger.error(e),t.reject(e)}return t.promise},multipleCallLock:I,multipleCallUnlock:b,setRequiredAttachmentKeys:function(e){v.push(e)},getRequiredAttachmentKeys:function(){return v},setMultiTypeAttachmentDetails:function(t,a,n){var i=e.defer();try{if(0===t.target.files.length)i.resolve(0);else{n=parseInt(n);var o=["doc","docx","txt","pdf","rtf","png","jpeg","jpg"],s=["application/rtf","application/msword","text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png","image/jpeg"],c=new Date;if(a||(a="Document"),l.inMemoryStorage.multiTypeAttachmentsToBeUploaded.length+t.target.files.length>n)r.$broadcast("maxAttachmentsUploaded");else for(var d=0;d<t.target.files.length;d++){var u=t.target.files[d],p=s.indexOf(u.type);if(-1===p){var m=u.name.split(".");p=o.indexOf(m[m.length-1].toLowerCase())}if(-1===p)r.$broadcast("uploadedAttachmentUnsupported",u.name);else if(u.size>maxFileSizeforResume)r.$broadcast("uploadedAttachmentSizeError",u.name);else{var f={attachmentDetails:{}};f.attachmentDetails.name="",f.fileFormName=u,f.attachmentDetails.name=encodeURIComponent(u.name),f.attachmentDetails.name=f.attachmentDetails.name.replace(/%20/g," "),f.attachmentDetails.name=f.attachmentDetails.name.length>60?f.attachmentDetails.name.slice(f.attachmentDetails.name.length-60):f.attachmentDetails.name,f.attachmentDetails.createDate=c.getTime(),f.attachmentDetails.description="",f.attachmentDetails.type=u.type,f.attachmentDetails.attachmentType=a,f.attachmentDetails.document=null,f.attachmentDetails.isCanUpload="t",l.inMemoryStorage.multiTypeAttachmentsHasChanged=!0,l.inMemoryStorage.multiTypeAttachmentsToBeUploaded.push(f)}}i.resolve(0)}}catch(e){logger.error(e),i.reject(e)}return i.promise},getIsMultiTypeAttachmentRequired:function(){return g},setIsMultiTypeAttachmentRequired:function(e){g=e}};function C(){var e={candidateObj:y(),page:"dashboard",modalUploadSuccess:null,modalParsedResume:!1,showBorderUploadBtn:!1,modalPopup:{open:E,close:T,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}},resumeAttachment:{},documentAttachment:{},deleteAttachment:{},INVALID_CONTENT:TEMPLATE_CONSTANTS.VALIDATION.INVALID_CONTENT.str,IN_COMPATIBLE_FILE_FORMAT:TEMPLATE_CONSTANTS.VALIDATION.IN_COMPATIBLE_FILE_FORMAT.str,FILE_SIZE_EXCEED:TEMPLATE_CONSTANTS.VALIDATION.FILE_SIZE_EXCEED.str,MAX_UPLOAD_REACHED_START:void 0===TEMPLATE_CONSTANTS.VALIDATION.MAX_UPLOAD_REACHED_START?"You can only upload ":TEMPLATE_CONSTANTS.VALIDATION.MAX_UPLOAD_REACHED_START.str,MAX_UPLOAD_REACHED_END:void 0===TEMPLATE_CONSTANTS.VALIDATION.MAX_UPLOAD_REACHED_END?" attachments":TEMPLATE_CONSTANTS.VALIDATION.MAX_UPLOAD_REACHED_END.str,REMOVE_ATTACHMENT:TEMPLATE_CONSTANTS.TITLE.ACTIONS.REMOVE_ATTACHMENT.str,DOWNLOAD_ATTACHMENT:TEMPLATE_CONSTANTS.TITLE.ACTIONS.DOWNLOAD_ATTACHMENT.str,UPLOAD_FILE:TEMPLATE_CONSTANTS.TITLE.ACTIONS.UPLOAD_FILE.str,UPLOAD_RESUME:TEMPLATE_CONSTANTS.TITLE.ACTIONS.UPLOAD_RESUME.str,ALLOW_RESUME_DASHBOARD:TEMPLATE_CONSTANTS.TITLE.LABELS.ALLOW_RESUME_DASHBOARD.str,YES_PARSE:TEMPLATE_CONSTANTS.TITLE.LABELS.YES_PARSE.str,NO_PARSE:TEMPLATE_CONSTANTS.TITLE.LABELS.NO_PARSE.str,OK:TEMPLATE_CONSTANTS.TITLE.ACTIONS.OK.str,CANCEL:TEMPLATE_CONSTANTS.TITLE.ACTIONS.CANCEL.str,ATTACHMENT:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.ATTACHMENT.str,DOCUMENTS:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.DOCUMENTS.str,FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.FILE.str,ACTION:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.ACTION.str,ATTACHMENT_TYPE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.ATTACHMENT_TYPE.str,CHOOSE_A_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_FILE.str,CHOOSE_A_DOCUMENT_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_DOCUMENT_FILE.str,CHOOSE_A_RESUME_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_RESUME_FILE.str,CHOOSE_A_IMAGE_OR_DOCUMENT_FILE:TEMPLATE_CONSTANTS.TITLE.DASHBOARD.CHOOSE_A_IMAGE_OR_DOCUMENT_FILE.str,DELETE_ATTACHMENT_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.DELETE_ATTACHMENT_CONFIRMATION.str,DOCUMENT_UPLOAD_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_UPLOAD_CONFIRMATION.str,DOCUMENT_UPLOAD_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_UPLOAD_ERROR.str,DOCUMENT_DELETE_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_DELETE_ERROR.str,DOCUMENT_DELETED_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.DOCUMENT_DELETED_CONFIRMATION.str,ATTACHMENT_DELETED_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.ATTACHMENT_DELETED_CONFIRMATION.str,RESUME_PARSED_UPLOAD_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_PARSED_UPLOAD_CONFIRMATION.str,RESUME_PARSED_UPLOAD_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_PARSED_UPLOAD_ERROR.str,RESUME_DELETED_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_DELETED_CONFIRMATION.str,RESUME_UPLOAD_CONFIRMATION:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_UPLOAD_CONFIRMATION.str,RESUME_UPLOAD_ERROR:TEMPLATE_CONSTANTS.TITLE.LABELS.RESUME_UPLOAD_ERROR.str};return e.resumeAttachment={fileFormName:{},isUnsupported:!1,fileSizeError:!1,isInvalidContentCV:!1,attachmentDetails:{},modalPopup:{}},e.documentAttachment={fileFormName:{},isUnsupported:!1,fileSizeError:!1,attachmentDetails:{}},e.resumeAttachment.modalPopup={open:E,close:T,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}},e.deleteAttachment.attachmentId=0,e.deleteAttachment.modalPopup={open:E,close:T,configuration:{style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE}}},e}function y(e){if(e=e||l.session.candidate.get()){if(!angular.equals({},e))return e;e={};var t=l.session.candidate.get();if(null!==(t=parseInt(t))&&!isNaN(t))return e.candidateId=t,e;var a=l.localStorage.get("candidate");if(!angular.equals({},a))return e.candidateId=a.candidateId,e}return null}function A(t,a){var n=e.defer();return(t=y(t))?void 0!==h&&a&&void 0!==h.attachments&&h.attachments.length>0||S.activeRequest?n.resolve(h):(I(),i.getCandidateAttachments({candidateId:t.candidateId}).$promise.then((function(e){h.attachments=normalizeObjects(e);var t=[];if(h.attachments.length){for(var a=0;a<h.attachments.length;a++)/^[a-zA-Z0-9-_.!~*'()% ]+$/.test(h.attachments[a].name)&&(t[a]=h.attachments[a]);h.attachments=t}return jQuery(".loading-container").css("display","none"),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h),b(),n.resolve(h)}),(function(e){logger.error(e),jQuery(".loading-container").css("display","none"),n.reject(e)})),n.promise):(h.attachments=[],n.resolve(h))}function T(e){void 0!==e&&("delete-attachment"===e&&(h.deleteAttachment.attachmentId=0),"upload-success"!==e&&"delete-success"!==e&&"upload-error"!==e||(h.modalUploadSuccess=null,h.modalParsedResume=!1),r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h)),p.close()}function E(e,t,a,n){if(jQuery(".loading-container").css("display","none"),e.preventDefault(),t){var i=null,o=h.modalPopup.configuration;switch(a.modalType){case"parse-attachment":i="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-parse-confirmation-modal.html",o=h.resumeAttachment.modalPopup.configuration;break;case"delete-attachment":i="/wp-content/plugins/xcloud/app/components/apply_attachment/apply-attachment-delete-confirmation-modal.html",void 0!==a.attachmentId&&(h.deleteAttachment.attachmentId=a.attachmentId),o=h.deleteAttachment.modalPopup.configuration;break;case"upload-success":i="/wp-content/plugins/xcloud/app/components/dashboard_attachment/attachment-resume-parse-and-uploaded-success-modal.html";break;case"upload-error":i="/wp-content/plugins/xcloud/app/components/apply_attachment/apply-attachment-delete-error-modal.html";break;case"delete-success":i="/wp-content/plugins/xcloud/app/components/apply_attachment/apply-attachment-delete-success-modal.html"}h.modalUploadSuccess=a.attachmentType,h.modalParsedResume=a.modalParsedResume,r.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,h);n&&(o.scope=n),p.open(o,i,"applyAttachmentController")}}function I(){S.activeRequest=!0}function b(){S.activeRequest=!1}}angular.module("st.services").factory("applyAttachmentViewModalService",e),e.$inject=["$q","$log","$sce","$rootScope","privateCandidate","candidateActivityViewModelService","ApplicationState","ModelDependencyFactory","bgResumeUpload","bgResumeParser","$http","schemaModalService","privateTransactionLog","SessionStorage"]}()},function(e,t){!function(){"use strict";function e(e,t){return t.getVM()}angular.module("st.services").factory("applyAttachmentDataService",e),e.$inject=["$log","applyAttachmentViewModalService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c,d,u,p,m){function f(t,a){e.attachmentObj.fileFormName=null,e.attachmentObj.attachmentDetails={},e.attachmentObj.uploadFileDisabled=!0,e.isAttachmentFound=!0,o.uploadSuccess(t,a,e.attachmentKey,e)}function g(t,a){o.uploadError(t,a,e)}e.DA_VM={},e.DA_VM.maxCountToUpload=0,a.uploadValidationCheck=!1,function(){e.attachmentObj={},e.DA_VM=l,e.attachmentObj.uploadFileDisabled=!0,e.extraParam={},e.isNoAttachmentFound=!1,e.showErrorMsg=!1,e.isAttachmentFound=!1,e.multipleCallLock=!1,e.DA_VM.showLoader=!1,function(t){if(null!==m.get("attacmentObject")&&void 0!==m.get("attacmentObject")){var n=m.get("attacmentObject");if(n&&n.length>0)_.find(n,(function(e){return parseInt(e.key)===parseInt(t)}))&&(e.isAttachmentFound=!0,a.$broadcast("attachmentFound",t))}}(e.attachmentKey),e.required&&o.setRequiredAttachmentKeys(e.attachmentKey);void 0!==n.isLoggedIn&&n.isLoggedIn&&void 0!==r.defaults.headers.common.Authorization&&r.defaults.headers.common.Authorization.length>0&&o.getAttachments(e.DA_VM.candidateObj,!0)}(),a.$on("attachmentFound",(function(t,a){e.attachmentKey==a&&(e.isAttachmentFound=!0)})),a.$on("attachmentNotFound",(function(t,a){e.attachmentKey==a&&(e.isAttachmentFound=!1)})),e.preventDoubleClick=function(){return!1},e.toggleFocusUploadBtn=function(){o.toggleFocusUploadBtn().then((function(e){a.$broadcast(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,e)}))},e.deleteAttachmentModal=function(t,a,n){e.DA_VM.showDeleteSuccess=!1,e.DA_VM.showDeleteFailure=!1,e.DA_VM.showDeleteConfirmation=!0,e.DA_VM.deleteAttachment.modalPopup.open(t,a,n,e)},e.deleteDocumentHandler=function(t,n,r){a.uploadValidationCheck=!1,e.DA_VM.showLoader=!0,0===n||e.multipleCallLock||(o.deleteDocumentHandler(t,n,r,e).then((function(t){var n;e.multipleCallLock=!1,e.DA_VM.showLoader=!1,e.DA_VM.showDeleteConfirmation=!1,n=e.attachmentKey,a.$broadcast("attachmentNotFound",n),e.DA_VM.showDeleteSuccess=!0}),(function(t){e.multipleCallLock=!1,e.DA_VM.showLoader=!1,e.DA_VM.showDeleteConfirmation=!1,e.DA_VM.showDeleteFailure=!0})),e.multipleCallLock=!0)},e.downloadDocumentHandler=function(e,t){o.downloadDocumentHandler(e,t)},e.assignDocumentDetails=function(t){e.$apply((function(){e.attachmentType||(e.attachmentType="Document"),o.assignFileDetails(t,e.attachmentObj.fileFormName,e.attachmentType,e.attachmentKey,e.maxUploadItems).then((function(t){angular.extend(e.attachmentObj,t)}))}))},e.uploadDocument=function(t,a,n){e.attachmentType=e.attachmentType.trim().toLowerCase(),e.attachmentKey=e.attachmentKey.trim(),t.preventDefault();var r,i={};if(i=e.attachmentObj.attachmentDetails,e.attachmentObj.fileFormName){r=e.attachmentObj.fileFormName,i.attachmentType=e.attachmentType;var o=ATS_URL+ATS_INSTANCE+"/rest/private/candidate/attachment/"+clientName+"/fileFormName/attachmentFormName";e.extraParam.attachmentType=a,e.extraParam.event=t,e.attachmentDescription&&(i.description=e.attachmentDescription),jQuery(".loading-container").css("display","block"),s.parseResume(r,o,"fileFormName","attachmentFormName",i,f,g,e.extraParam)}},a.$on(BROAD_CAST_NAMESPACE.DASHBOARD_ATTACHMENT_VM_REFRESH,(function(t,a,n){e.DA_VM!==l&&angular.copy(e.DA_VM,l),e.isNoAttachmentFound=!(void 0===e.DA_VM.attachments||!e.isApplyPage||!1!==n)})),a.$on(BROAD_CAST_NAMESPACE.UNUPLOADED_ATTACHMENT_CLEAR,(function(e){o.removeUnuploadedAttachment(e).then((function(e){}))}))}angular.module("st.candidate.activity").controller("applyAttachmentController",e),e.$inject=["$scope","$log","$rootScope","authService","$http","schemaModalService","applyAttachmentViewModalService","applyAttachmentDataService","bgResumeUpload","privateCandidate","bgResumeParser","ModelDependencyFactory","ApplicationState","SessionStorage"]}()},function(e,t){angular.module("st.candidate.activity").directive("applyAttachmentList",["applyAttachmentDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"applyAttachmentController",templateUrl:"/wp-content/plugins/xcloud/app/components/apply_attachment/apply-attachment-list.html",scope:{attachmentType:"@",attachmentKey:"@",currentPage:"@"},link:function(t,a,n){t.DA_VM=e}}}])},function(e,t){angular.module("st.candidate.activity").directive("applyDocumentAttachment",["applyAttachmentDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"applyAttachmentController",templateUrl:"/wp-content/plugins/xcloud/app/components/apply_attachment/apply-document-attachment.html",scope:{attachmentType:"@",attachmentKey:"@",maxUploadItems:"@",attachmentDescription:"@",required:"="},link:function(e,t,a){}}}])},function(e,t){angular.module("st.candidate.activity").directive("multiTypeAttachment",["applyAttachmentDataService",function(e){return{restrict:"EA",transclude:!1,controller:"multiTypeAttachmentController",templateUrl:"/wp-content/plugins/xcloud/app/components/multi-type-attachment/multi-type-attachment.html",scope:{attachmentType:"@",attachmentKey:"@",maxAllowedAttachments:"@",attachmentDescription:"@",required:"=",attachmentLabel:"@"},link:function(e,t,a){}}}])},function(e,t){function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}!function(){"use strict";function e(e,t,n,r,i,o,l,s,c,d,u,p,m,f){function g(t){e.disableUpload=t,e.maxAttachmentsUploaded=t}function h(){return a(m.inMemoryStorage.multiTypeAttachmentsToBeUploaded)}function v(e){m.inMemoryStorage.multiTypeAttachmentsToBeUploaded=a(e)}e.ATTACHMENT_TEMPLATE_CONSTANTS={},function(){e.ATTACHMENT_TEMPLATE_CONSTANTS=s,e.isAttachmentFound=!1,e.unSupportedList=[],e.fileSizeErrorList=[],e.uploadedAttachmentUnsupported=!1,e.uploadedAttachmentSizeError=!1,e.maxAttachmentsUploaded=!1,e.disableUpload=!1,e.multiTypeAttachmentsToBeUploaded=m.inMemoryStorage.multiTypeAttachmentsToBeUploaded,e.required&&l.setIsMultiTypeAttachmentRequired(e.required);e.attachmentType||(e.attachmentType="Document")}(),n.$on("uploadedAttachmentUnsupported",(function(t,a){e.unSupportedList.push(a),e.uploadedAttachmentUnsupported=!0})),n.$on("uploadedAttachmentSizeError",(function(t,a){e.fileSizeErrorList.push(a),e.uploadedAttachmentSizeError=!0})),n.$on("maxAttachmentsUploaded",(function(t,a){e.maxAttachmentsUploaded=!0,e.multiTypeAttachmentsToBeUploaded=h(),e.multiTypeAttachmentsToBeUploaded.length==e.maxAllowedAttachments&&(e.disableUpload=!0),v(e.multiTypeAttachmentsToBeUploaded)})),e.removeAttachment=function(t){e.multiTypeAttachmentsToBeUploaded=h(),e.multiTypeAttachmentsToBeUploaded=e.multiTypeAttachmentsToBeUploaded.filter((function(e){return e.attachmentDetails.name!==t.attachmentDetails.name})),e.multiTypeAttachmentsToBeUploaded.length<e.maxAllowedAttachments&&g(!1),v(e.multiTypeAttachmentsToBeUploaded)},e.updateAttachmentsView=function(t){e.unSupportedList=[],e.fileSizeErrorList=[],e.uploadedAttachmentSizeError=!1,e.uploadedAttachmentUnsupported=!1,e.maxAttachmentsUploaded=!1,l.setMultiTypeAttachmentDetails(t,e.attachmentType,e.maxAllowedAttachments).then((function(){e.multiTypeAttachmentsToBeUploaded=h(),e.multiTypeAttachmentsToBeUploaded.length>0&&(e.isAttachmentFound=!0),e.multiTypeAttachmentsToBeUploaded.length==e.maxAllowedAttachments&&g(!0)}))}}angular.module("st.candidate.activity").controller("multiTypeAttachmentController",e),e.$inject=["$scope","$log","$rootScope","authService","$http","schemaModalService","applyAttachmentViewModalService","applyAttachmentDataService","bgResumeUpload","privateCandidate","bgResumeParser","ModelDependencyFactory","ApplicationState","SessionStorage"]}()},function(e,t){angular.module("st.shared.widget").directive("externalRequiredValidator",["ModelDependencyFactory","$rootScope",function(e,t){return{restrict:"A",link:function(a,n,r){!0===t.resumeRequired?(a.isFileRquired=!0,e.angularSchemaObserver.registerExternalValidator(a.isValid,parseInt(r.externalRequiredValidator))):e.angularSchemaObserver.registerExternalValidator(a.isValid,parseInt(r.externalRequiredValidator))}}}])},function(e,t){function a(e,t,a,n,r,i,o){var l=jQuery;n.getInstance(MODULE_NAME_UTILS_GLOBAL_STATE);e.isFileRquired=!1,e.isFileValid=!1,e.fileHasFocus=!1,e.isUnsupported=!1,e.fileSizeError=!1,e.isInvalidContentCV=!1,e.attachmentDetails={},e.fileFormName={},t.resumeJSON={},t.resumeParsed=!1,e.fileUploadIsValid=!0,e.previousResume={},e.invalidResumeErrorMsg=TEMPLATE_CONSTANTS.VALIDATION.INVALID_CONTENT.str,e.unSupportResumeErrorMsg=TEMPLATE_CONSTANTS.VALIDATION.IN_COMPATIBLE_FILE_FORMAT.str,e.sizeExceedResumeErrorMsg=TEMPLATE_CONSTANTS.VALIDATION.FILE_SIZE_EXCEED.str,e.$on(BROAD_CAST_NAMESPACE.CURRENT_CANDIDATE_FETCHED,(function(a,n){var r=n.candidateId;n.mail;!function(a,n,r,i){var l=o.session.candidate.resume.applyResumeStateContainer.get(),s=!1;null!==l&&l.ApplyResumeState&&l.ApplyResumeState.isResumeUploaded&&l.ApplyResumeState.candidateId===a&&("LCP"===l.ApplyResumeState.flow||"APPLY_LCP"===l.ApplyResumeState.flow&&l.ApplyResumeState.jobId===i?s="true":"APPLY"===l.ApplyResumeState.flow&&l.ApplyResumeState.reqId===r&&(s=!0),s&&(e.fileFormName=l.ApplyResumeFileFormName,e.attachmentDetails=l.ApplyResumeAttachmentDetails,t.$broadcast("setDocumentDetails",{fileFormName:l.ApplyResumeFileFormName,attachmentDetails:l.ApplyResumeAttachmentDetails}),null!==l.resumeXMLArg&&void 0!==l.resumeXMLArg&&t.$broadcast("burningGlassParserHandler",l.resumeXMLArg)))}(r,0,n.reqId,n.jobId)})),"/profile/join/"==window.location.pathname&&setTimeout((function e(){l(".resume-wrapper").find("p:first").attr("id","fileuploadmsg"),l("#fileupload").length>0?(l(".resume-wrapper .red.bold.pt1.ng-binding").wrapAll('<div id="resumeUploadError"></div>'),l("#fileupload").attr("aria-describedby","resumeUploadError fileuploadmsg")):setTimeout(e,5e3)}),5e3),e.assignDocumentDetails=function(t){try{e.$apply((function(){e.isUnsupported=!1,e.fileSizeError=!1})),e.attachmentDetails.name="",e.isInvalidContentCV=!1;var a=["application/rtf","application/msword","text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].indexOf(t.target.files[0].type),n="";if(-1===a&&(n=t.target.files[0].name.split(".").slice(-1).pop(),a=["doc","docx","txt","pdf","rtf"].indexOf(n.toLowerCase())),-1===a)e.$apply((function(){e.isUnsupported=!0}));else if(t.target.files[0].size>maxFileSizeforResume)e.$apply((function(){e.fileSizeError=!0}));else{e.$apply((function(){e.attachmentDetails.name=encodeURIComponent(t.target.files[0].name),e.attachmentDetails.name=e.attachmentDetails.name.replace(/%20/g," "),e.attachmentDetails.name=e.attachmentDetails.name.length>60?e.attachmentDetails.name.slice(e.attachmentDetails.name.length-60):e.attachmentDetails.name,e.attachmentDetails.createDate=(new Date).getTime(),e.attachmentDetails.description="",e.attachmentDetails.type=t.target.files[0].type?t.target.files[0].type:n,e.attachmentDetails.attachmentType="Resume",e.attachmentDetails.document=null,e.attachmentDetails.isCanUpload="t"})),e.$emit("setDocumentDetails",{fileFormName:e.fileFormName,attachmentDetails:e.attachmentDetails,previousResume:e.previousResume});var r=e.fileFormName,o=ATS_URL+ATS_INSTANCE+"/rest/public/thirdparty/resume/parse/"+_XC_CONFIG.org+"/fileFormName";e.$emit("globalProgressBarHandler",{state:!0}),i.parseResume(r,o,"fileFormName",c,s)}}catch(t){e.$emit("globalProgressBarHandler",{state:!1})}l("#fileupload").removeAttr("aria-invalid");var d=0;l("#resumeUploadError .red.bold.pt1").each((function(){0==l(this).hasClass("ng-hide")&&(l("#fileupload").attr("aria-invalid","true"),d=1)})),1==d&&(l("#resumeUploadError").attr("tabindex","0"),setTimeout((function(){l("#resumeUploadError").focus()}),500),setTimeout((function(){l("#fileupload").focus(),l("#resumeUploadError").removeAttr("tabindex")}),1e3))},e.removeAttachment=function(t){return e.clearAttachmentCache(),t.preventDefault(),!1},e.$on("triggerClearAttachmentCache",(function(t,a){e.clearAttachmentCache(a)})),e.clearAttachmentCache=function(a){e.previousResume={fileFormName:e.fileFormName,attachmentDetails:e.attachmentDetails},e.fileFormName={},e.attachmentDetails={},t.resumeParsed=!1,!0===t.resumeRequired&&(e.isFileRquired=!0),d(!1),r.isLoggedIn?t.candidateResumeUpdated||(t.resumeXML=null):e.$emit("attachmentCacheCleared"),jQuery("#fileupload").val(null),o.session.candidate.resume.applyResumeStateContainer.remove()};var s=function(a,n){422==a.status?(e.isInvalidContentCV=!1,!0===t.resumeRequired&&(e.isFileRquired=!1),d(!0),e.$emit("burningGlassParserHandler",{response:a.data,skipParsing:!0})):(e.isInvalidContentCV=!0,d(!1),e.$emit("globalProgressBarHandler",{state:!1}),e.clearAttachmentCache())},c=function(a){e.isInvalidContentCV=!1,!0===t.resumeRequired&&(e.isFileRquired=!1),d(!0),e.$emit("burningGlassParserHandler",{response:a})};function d(t){e.isFileValid=t}e.$on("burningGlassParserErrorHandler",(function(e,t){s(e,t)})),e.onFocusState=function(){e.isFocused=!0},e.onFocusLostState=function(){e.isFocused=!1,e.fileHasFocus=!0},e.isValid=function(){return r.isLoggedIn?(!0===o.localStorage.candidate.isReturningUser.get()&&!0===t.resumeUpdated||null!==o.session.candidate.resume.applyResumeStateContainer.get()&&void 0!==o.session.candidate.resume.applyResumeStateContainer.get()||!0===t.resumeUpdated)&&(e.isFileRquired=!1,!0):(!1===e.isFileValid&&(e.fileHasFocus=!0),e.isFileValid)},e.registerValidator=function(t){angularSchemaObserver.registerExternalValidator(e.isValid,t)}}angular.module("st.shared.widget").controller("schemaResumeController",a),a.$inject=["$scope","$rootScope","$q","$log","authService","bgResumeParser","ApplicationState"]},function(e,t){angular.module("schemaForm").factory("sfValidator",[function(){var e={validate:function(e,t){if(!e)return{valid:!0};var a=e.schema;if(!a)return{valid:!0};e.key.indexOf("phone1")>-1&&void 0!==e.pattern&&null!==e.pattern&&(a.pattern=e.pattern),""===t&&(t=void 0),"number"===e.type&&null===t&&(t=void 0),"string"===a.type&&"uib-date"===a.format&&(null===t?t=void 0:null!=t&&"function"==typeof t.toISOString&&(t=t.toISOString()));var n={type:"object",properties:{}},r=e.key[e.key.length-1];n.properties[r]=a,e.required&&(n.required=[r]);var i={};return angular.isDefined(t)&&(i[r]=t),tv4.validateResult(i,n)}};return e}])},function(e,t){angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){e.defaults.string.unshift((function(t,n,r){if("string"===n.type&&"uimask"===n.format){var i=e.stdFormObj(t,n,r);return i.key=r.path,i.type="schemauimask",r.lookup[a.stringify(r.path)]=i,i}})),t.addMapping("bootstrapDecorator","schemauimask","/wp-content/plugins/xcloud/app/shared/schema_framework/addon/uimask/schema-ui-mask.html"),t.createDirective("schemauimask","/wp-content/plugins/xcloud/app/shared/schema_framework/addon/uimask/schema-ui-mask.html")}])},function(e,t){angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){e.defaults.string.unshift((function(t,n,r){if("string"===n.type&&"uib-date"===n.format){var i=e.stdFormObj(t,n,r);return i.key=r.path,i.type="uib_datepicker",r.lookup[a.stringify(r.path)]=i,i}})),t.addMapping("bootstrapDecorator","uib_datepicker","/wp-content/plugins/xcloud/app/shared/schema_framework/addon/ui-bootstrap-datepicker/ui-bootstrap-datepicker.html"),t.createDirective("uib_datepicker","/wp-content/plugins/xcloud/app/shared/schema_framework/addon/ui-bootstrap-datepicker/ui-bootstrap-datepicker.html")}])},function(e,t){angular.module("schemaForm").directive("uiBootstrapDatepicker",(function(){return{restrict:"A",require:["ngModel"],link:function(e,t,a,n){var r=function(t){var a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return a<10&&(a="0"+a),n<10&&(n="0"+n),"dd-mm-yyyy"===e.form.format.toLowerCase()?t=a+"-"+n+"-"+r:"mm/yyyy"===e.form.format.toLowerCase()&&(t=n+"/"+r),t};if(void 0!==e.form.dateOptions)var i=e.form.dateOptions.defaultDate;void 0!==i&&("today"===i.toLowerCase()?i=r(new Date):("number"==typeof i||"string"==typeof i&&-1===i.indexOf("-")&&-1===i.indexOf("/"))&&(i=r(new Date(i))),n[0].$setViewValue(i),n[0].$render()),n[0].$parsers.push((function(t){if(void 0!==e.form.dateOptions)var n=e.form.dateOptions.minDate,r=e.form.dateOptions.maxDate;var i=function(e,t,a){if(null==e)return e;if(void 0!==t&&void 0!==a){if(e>=t&&e<=a)return e}else if(void 0!==t){if(e>=t)return e}else{if(void 0===a)return e;if(e<=a)return e}};if(void 0===e.form.dateOptions||void 0===e.form.dateOptions.minMode||"month"!==e.form.dateOptions.minMode.toLowerCase()&&"year"!==e.form.dateOptions.minMode.toLowerCase()||null===t||t.setDate(t.getDate()+2),"true"===a.isStartDate||"true"===a.isEndDate){var o=angular.copy(t);return"true"===a.isStartDate&&(void 0!==e.form.dateOptions&&void 0!==e.form.dateOptions.minMode&&"month"===e.form.dateOptions.minMode.toLowerCase()&&null!==o?o.setMonth(o.getMonth()+1):(void 0!==e.form.dateOptions&&void 0!==e.form.dateOptions.minMode&&null!==o&&"year"!==e.form.dateOptions.minMode.toLowerCase()||void 0===e.form.dateOptions&&null!==o)&&o.setDate(o.getDate()+1),e.$emit("notifyChangeMinEndDate",o)),"true"===a.isEndDate&&(void 0!==e.form.dateOptions&&void 0!==e.form.dateOptions.minMode&&"month"===e.form.dateOptions.minMode.toLowerCase()&&null!==o?o.setMonth(o.getMonth()-1):(void 0!==e.form.dateOptions&&void 0!==e.form.dateOptions.minMode&&null!==o&&"year"!==e.form.dateOptions.minMode.toLowerCase()||void 0===e.form.dateOptions&&null!==o)&&o.setDate(o.getDate()-1),e.$emit("notifyChangeMaxStartDate",o)),i(t,n,r)}return i(t,n,r)})),e.$on("changeMinEndDate",(function(t,n){e.form.key[0]===a.id&&"true"===a.isEndDate&&(void 0===e.form.dateOptions&&(e.form.dateOptions={}),e.form.dateOptions.minDate=n)})),e.$on("changeMaxStartDate",(function(t,n){e.form.key[0]===a.id&&"true"===a.isStartDate&&(void 0===e.form.dateOptions&&(e.form.dateOptions={}),e.form.dateOptions.maxDate=n)})),e.$on("resetDateRange",(function(t){void 0===e.form.dateOptions&&(e.form.dateOptions={}),e.form.dateOptions.minDate=e.form.initMinDate,e.form.dateOptions.maxDate=e.form.initMaxDate}))}}}))},function(e,t){angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){e.defaults.string.unshift((function(t,n,r){if("string"===n.type&&"location"===n.format){var i=e.stdFormObj(t,n,r);return i.key=r.path,i.type="googleLocationPicker",r.lookup[a.stringify(r.path)]=i,i}})),t.addMapping("bootstrapDecorator","googleLocationPicker","/wp-content/plugins/xcloud/app/shared/schema_framework/addon/google-place-autocomplete/google-place-autocomplete.html"),t.createDirective("googleLocationPicker","/wp-content/plugins/xcloud/app/shared/schema_framework/addon/google-place-autocomplete/google-place-autocomplete.html")}])},function(e,t){angular.module("schemaForm").directive("googlePlaceAutocomplete",["$http","$log","ModelDependencyFactory",function(e,t,a){return{restrict:"A",require:"ngModel",link:function(n,r,i,o){var l,s="",c={},d=r[0],u=new google.maps.places.Autocomplete(d,{types:["geocode"]});n.isHttps="https:"===window.location.protocol,google.maps.event.addListener(u,"place_changed",(function(){n.$apply((function(){l=u.getPlace(),s=r.val(),o.$setViewValue(s),c={},angular.forEach(l.address_components,(function(e){for(type in e.types)"postal_code"===e.types[type]?c.zip=e.short_name:"locality"===e.types[type]||"administrative_area_level_3"===e.types[type]?c.city=e.long_name:"administrative_area_level_1"===e.types[type]?(c.state=e.long_name,c.stateIso=e.short_name):"country"===e.types[type]&&(c.country=e.long_name,c.countryIso=e.short_name)})),c.latitude=l.geometry.location.lat(),c.longitude=l.geometry.location.lng(),n.$emit("geoLocationData",c)}))})),n.setGeoLocation=function(){navigator.geolocation&&(a.angularSchemaObserver.semaphoreCollection.progressBar(!0),navigator.geolocation.getCurrentPosition((function(r){e({url:"https://nominatim.openstreetmap.org/reverse?format=json&addressdetails=1&lat="+r.coords.latitude+"&lon="+r.coords.longitude,method:"GET"}).then((function(e){console.log(e),c={};var t=e.data.address;void 0!==t.city&&(c.city=t.city),void 0!==t.country&&(c.country=t.country,c.countryIso=t.country_code.toUpperCase()),void 0!==t.postcode&&(c.zip=t.postcode),void 0!==t.state&&(c.state=t.state),c.latitude=r.coords.latitude,c.longitude=r.coords.longitude,t.industrial=void 0===t.industrial?"":t.industrial+", ",t.state=void 0===t.state?"":t.state+", ",t.road=void 0===t.road?"":t.road+", ",s=t.industrial+t.road+t.city+", "+t.state+t.country,o.$setViewValue(s),o.$render(),a.angularSchemaObserver.semaphoreCollection.progressBar(!1),n.$emit("geoLocationData",c)}),(function(e){t.error(e),a.angularSchemaObserver.semaphoreCollection.progressBar(!1)}))}),(function(e){t.warn(e),a.angularSchemaObserver.semaphoreCollection.progressBar(!1)})))},r.on("blur",(function(e){d.value.trim()!==s&&(o.$setViewValue(""),d.value="",c={})}))}}}])},function(e,t){angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/datepicker/datepicker.html",'<div class="form-group {{form.htmlClass}}" ng-class="{\'has-error\': hasError()}">\n  <label for="{{form.key.slice(-1)[0]}}" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label>\n  <div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}">\n    <span ng-if="form.fieldAddonLeft"\n          class="input-group-addon"\n          ng-bind-html="form.fieldAddonLeft"></span>\n    <input ng-required="form.required" ng-show="form.key"\n           type="text"\n           class="form-control schema-text-uppercase {{form.fieldHtmlClass}}"\n           schema-validate="form"\n           ng-model="$$value$$"\n           ng-disabled="form.readonly"\n           pick-a-date="form.pickadate"\n           min-date="form.minDate"\n           max-date="form.maxDate"\n           select-years="form.selectYears"\n           select-months="form.selectMonths"\n           name="{{form.key.slice(-1)[0]}}"\n           id="{{form.key.slice(-1)[0]}}"\n           format="form.format"\n            placeholder="{{form.format}}"\n            title="{{form.key.slice(-1)[0]}}"\n            />\n    <span ng-if="form.fieldAddonRight"\n          class="input-group-addon"\n          ng-bind-html="form.fieldAddonRight"></span>\n  </div>\n  <span id="{{form.key.slice(-1)[0] + \'XCloudStatus\'}}" aria-live="polite" role="alert" class="help-block red" ng-show="ngModel.$touched && ngModel.$error.required && ngModel.$dirty === false" >{{form.validationMessage["302"]}}</span><span aria-live="polite"  role="alert" class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span>\n</div>\n')}])},function(e,t){function a(e,t,a,n,r,i){jQuery;var o=t.getInstance(MODULE_NAME_UTILS_GLOBAL_STATE),l={isMinimumRowsDefined:!1,isMaximumRowsDefined:!1,minRowMessage:"",maxRowMessage:"",requiredFieldMessage:TEMPLATE_CONSTANTS.VALIDATION.REQUIRED_FIELDS_NEEDED.str};function s(){var t=e.hasRowCapacity();!0===t&&0===e.modelHandler.minRowCount?e.parent.rowAdded=e.modelHandler.rowCollection.length>0:e.parent.rowAdded=e.hasMinimumRowFilled(),!1===t?(e.isShowInfo=!1,e.isShowWarning=!0,e.notificationMessage=l.maxRowMessage):!1===e.hasMinimumRowFilled()?(e.isShowWarning=!1,e.isShowInfo=!0,e.notificationMessage=l.minRowMessage):(e.isShowWarning=!1,e.isShowInfo=!1),e.hasAllRequiredFields()?e.parent.rowAddedRequiredFieldMissing=!1:(e.requiredFieldMessage=l.requiredFieldMessage,e.parent.rowAdded=!1,e.parent.rowAddedRequiredFieldMissing=!0)}function c(){l.actions=["edit","delete"],l.isMinimumRowsDefined=void 0!==e.modelHandler.minRowCount&&e.modelHandler.minRowCount>0,l.isMaximumRowsDefined=void 0!==e.modelHandler.maxRowCount&&e.modelHandler.maxRowCount>0,l.isMinimumRowsDefined&&(void 0!==e.modelHandler.messageOnMinCount?l.minRowMessage=e.modelHandler.messageOnMinCount:(l.minRowMessage=TEMPLATE_CONSTANTS.VALIDATION.MIN_RECORD_PERMITTED.str.replace("{{min_record}}",e.modelHandler.minRowCount),!0===l.isMaximumRowsDefined&&(l.minRowMessage+=" "+TEMPLATE_CONSTANTS.VALIDATION.MIN_MAX_RECORD_PERMITTED.str.replace("{{max_record}}",e.modelHandler.maxRowCount)))),l.isMaximumRowsDefined&&(void 0!==e.modelHandler.messageOnMaxCount?l.maxRowMessage=e.modelHandler.messageOnMaxCount:l.maxRowMessage=TEMPLATE_CONSTANTS.VALIDATION.MAX_RECORD_PERMITTED.str.replace("{{max_record}}",e.modelHandler.maxRowCount)),l.dataGridColumnSize=e.angularSchemaObserver.formStyleHandler.grid.utility.getGridColumnSize(e.modelHandler.columns.length,12-l.actions.length)}e.parent={},e.angularSchemaObserver=n.angularSchemaObserver,e.parent.rowAddedRequiredFieldMissing=!1,e.subTitleCollection={education:{subTitle:TEMPLATE_CONSTANTS.TITLE.BANNER.SCHOOL_DETAILS.str},work_history:{subTitle:TEMPLATE_CONSTANTS.TITLE.BANNER.JOB_DETAILS.str},certification:{subTitle:TEMPLATE_CONSTANTS.TITLE.BANNER.CERTIFICATE_LICENSE_DETAILS.str}},e.getDataGridColumnSize=function(){return l.dataGridColumnSize},e.getSubTitle=function(){return void 0===e.modelHandler.title?e.subTitleCollection[e.table].subTitle:e.modelHandler.title},e.addRow=function(t,a){try{e.table=a,!0===e.doNotShowGrid&&(e.doNotShowGrid=!1),e.modelHandler.rowCollection.push(t),e.modelHandler.rowCollection=n.candidateHelper.parserCollection.resume.getSortedModel(e.modelHandler.rowCollection),s(),e.$digest(e.modelHandler.rowCollection),e.$digest(e.isRequiredFieldValid)}catch(e){}},e.updateRow=function(t,a){try{for(var r in e.table=a,e.currentRowForEdit=t,e.modelHandler.rowCollection)if(e.modelHandler.rowCollection[r][e.modelHandler.keyField]===t[e.modelHandler.keyField]){e.modelHandler.rowCollection[r]=t;break}e.modelHandler.rowCollection=n.candidateHelper.parserCollection.resume.getSortedModel(e.modelHandler.rowCollection),e.parent.rowEditMode=!1,e.hasAllRequiredFields()?(e.parent.rowAdded=!0,e.parent.rowAddedRequiredFieldMissing=!1):(e.requiredFieldMessage=l.requiredFieldMessage,e.parent.rowAdded=!1,e.parent.rowAddedRequiredFieldMissing=!0),e.$digest(e.modelHandler.rowCollection)}catch(e){}},e.editRow=function(t,a){e.parent.rowEditMode=!0,e.currentRowForEdit=t,e.hideGrid=!0,void 0!==a&&a.preventDefault(),document.getElementById(Object.keys(t)[0])&&document.getElementById(Object.keys(t)[0]).focus(),e.angularSchemaObserver.editRow(e,t)},e.$on("hideGrid",(function(t,a){e.hideGrid=a})),e.$on("doNotShowGrid",(function(t,a,n){e.parentFormTitle===n&&(e.doNotShowGrid=a,e.parent.rowAdded=!1,e.parent.rowEditMode=!1,e.modelHandler.rowCollection=[])})),e.deleteConfirmation=function(t,a){void 0!==a&&a.preventDefault(),e.currentRowForDelete=t;var n={style:{windowClass:"schema-modal-popup",size:E_MODAL_POPUP_SIZE.NONE},scope:e};r.open(n,"/wp-content/plugins/xcloud/app/shared/schema_framework/grid_widget/schema-grid-modal-popup.html","schemaGridModalPopupController")},e.removeRow=function(t){delete e.currentRowForEdit,angular.forEach(e.modelHandler.rowCollection,(function(a,n){a[e.modelHandler.keyField]===t&&e.modelHandler.rowCollection.splice(n,1)})),s(),e.parent.rowEditMode=!1},e.setDataSource=function(t,a){try{e.table=a,e.modelHandler.rowCollection=angular.copy(t),s(),e.$digest(e.modelHandler.rowCollection),e.$digest(e.isRequiredFieldValid)}catch(t){t.message.indexOf("$digest already in progress")<0&&(o.debug(e.angularSchemaObserver.notificationEngine.Grid.dataSourceLoad),o.error(e.angularSchemaObserver.notificationEngine.Grid.dataSourceLoad))}},e.cancelRowUpdate=function(){e.currentRowForEdit={},e.parent.rowEditMode=!1},e.hasMinimumRowFilled=function(){return 0===e.modelHandler.minRowCount||e.modelHandler.minRowCount<=e.modelHandler.rowCollection.length},e.hasAllRequiredFields=function(){if(void 0!==e.mandatoryFieldCollection&&e.modelHandler.rowCollection.length>0)for(var t in e.modelHandler.rowCollection){var a=e.modelHandler.rowCollection[t];for(var n in e.mandatoryFieldCollection){var r=e.mandatoryFieldCollection[n];if(a.hasOwnProperty(r)&&(null===a[r]||void 0===a[r]||""===a[r]))return e.isRequiredFieldValid=!1,!1}}return e.isRequiredFieldValid=!0,!0},e.hasRowCapacity=function(){return 0===e.modelHandler.maxRowCount||e.modelHandler.rowCollection.length<e.modelHandler.maxRowCount},function(){e.angularSchemaObserver.registerGrid(e),e.modelHandler.rowCollection=[],e.hideGrid=!1,e.doNotShowGrid=!1,void 0===e.modelHandler.labelField&&(e.modelHandler.labelField=e.modelHandler.keyField);c(),e.isShowInfo=!1,!0===l.isMinimumRowsDefined&&(e.isShowInfo=!1===e.hasMinimumRowFilled(),e.notificationMessage=l.minRowMessage)}()}angular.module("st.shared.widget").controller("schemaGridController",a),a.$inject=["$scope","$log","$timeout","ModelDependencyFactory","schemaModalService","candidateProfileViewModelService"]},function(e,t){function a(e,t,a,n,r){jQuery,t.getInstance(MODULE_NAME_UTILS_GLOBAL_STATE);function i(){r.close()}e.angularSchemaObserver=n.angularSchemaObserver,e.deleteRow=function(t,a){void 0!==a&&a.preventDefault(),e.angularSchemaObserver.deleteRow(e,t),i()},e.MP_VM={modalPopup:{close:i},RECORD_SUCCESSFULLY_UPDATED:TEMPLATE_CONSTANTS.TITLE.BANNER.RECORD_SUCCESSFULLY_UPDATED.str,ARE_YOU_SURE_YOU_WANT_TO_DELETE_THE:TEMPLATE_CONSTANTS.TITLE.BANNER.ARE_YOU_SURE_YOU_WANT_TO_DELETE_THE.str,HISTORY:TEMPLATE_CONSTANTS.TITLE.BANNER.HISTORY.str,ok:TEMPLATE_CONSTANTS.TITLE.ACTIONS.OK.str,cancel:TEMPLATE_CONSTANTS.TITLE.ACTIONS.CANCEL.str},e.MP_VM.subTitleCollection={educationId:TEMPLATE_CONSTANTS.TITLE.BANNER.SCHOOL_DETAILS.str,workHistoryId:TEMPLATE_CONSTANTS.TITLE.BANNER.JOB_DETAILS.str,certificationId:TEMPLATE_CONSTANTS.TITLE.BANNER.CERTIFICATE_LICENSE_DETAILS.str}}angular.module("st.shared.widget").controller("schemaGridModalPopupController",a),a.$inject=["$scope","$log","$timeout","ModelDependencyFactory","schemaModalService"]},function(e,t){angular.module("st.shared.widget").directive("schemaGrid",(function(){return{restrict:"EA",scope:{table:"=",parentFormTitle:"="},replace:!0,transclude:!1,controller:"schemaGridController",templateUrl:"/wp-content/plugins/xcloud/app/shared/schema_framework/grid_widget/schema-grid.html"}}))},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i){t.getInstance(MODULE_NAME_SERVICES);return{GDPR:{migrationWindow:{open:function(){if(!0!==_XC_CONFIG.migration.GDPR.termsAndConditionsEnabled)return;if(!0!==i.isLoggedIn||!0!==r.localStorage.candidate.isReturningUser.get())return;var e=r.localStorage.candidate.id.get();a.profile.termsAndConditions.hasOptIn(e).then((function(t){if(!0!==t){var a={configuration:{candidate:e,style:{windowClass:"schema-modal-popup"}}};n.open(a.configuration,"/wp-content/plugins/xcloud/app/components/candidate_migration/gdpr-migration-modal.html","GDPRMigrationController")}}),(function(e){}))}},updateTermsAndMarketing:function(t){var n=e.defer(),i=r.session.candidate.get();!i||angular.equals({},i)?n.reject("invalid argument"):a.profile.termsAndConditions.optIN().then((function(e){!0!==t.subscribe?a.preferences.communications.subscriptions.marketing.unSubscribe(i.email).then((function(e){n.resolve(!0)})).catch((function(e){n.reject(e)})):n.resolve(!0)}),(function(e){n.reject(e)}));return n.promise}}}}angular.module("st.services").factory("migrationService",e),e.$inject=["$q","$log","CandidateWorkFlow","schemaModalService","ApplicationState","authService"]}()},function(e,t){angular.module("com.hrlogix.ats.applyflow").controller("schemaUtilityController",["$scope","$rootScope","$q","$log","ModelDependencyFactory",function(e,t,a,n,r){jQuery,n.getInstance(MODULE_NAME_UTILS_GLOBAL_STATE);e.angularSchemaObserver=r.angularSchemaObserver,e.candidateHelper=r.candidateHelper}])},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l,s,c){var d=t.getInstance(MODULE_NAME_SERVICES),u=h(),p={edit:" class='ml1 boldfont' ng-class=activeTab('edit') ng-click=nav.switchTabs('edit',$event)",preferences:" class='ml1 boldfont' ng-class=activeTab('preferences',true) ng-click=nav.switchTabs('preferences',$event)",applications:" class='ml1 boldfont' ng-class=activeTab('applications') ng-click=nav.switchTabs('applications',$event)",todos:" class='ml1 boldfont' ng-class=activeTab('todos') ng-click=nav.switchTabs('todos',$event)",documents:" class='ml1 boldfont' ng-class=activeTab('documents') ng-click=nav.switchTabs('documents',$event)",interviews:" class='ml1 boldfont' ng-class=activeTab('interviews',true) ng-click=nav.switchTabs('interviews',$event)",onboarding:" class='ml1 boldfont' ng-class=activeTab('onboarding',true) ng-click=nav.switchTabs('onboarding',$event)",assessments:" class='ml1 boldfont' ng-class=activeTab('assessments',true) ng-click=nav.switchTabs('assessments',$event)"},m={candidate_activity:{},activeRequest:!1},f={nonVM:m,getViewModel:function(t,a){var n=e.defer();if(!0===t||angular.equals(u,h()))return v(a);n.resolve(u);return n.promise},getVMSkeleton:h,addTransactionLog:function(t,a,n){var i=e.defer();return c.addEntryByCandidateId(t,a).$promise.then((function(e){r.$broadcast(BROAD_CAST_NAMESPACE.GET_CANDIDATE_ACTIVITY,!0,n)}),(function(e){d.error(e),jQuery(".loading-container").css("display","none"),i.reject(e)})),i.promise},getCandidateActivities:v,filterCandidateActivity:function(e){"recent"!==e?(u.activity=n("filter")(m.candidate_activity,{type:e}),u.activity=l(u.activity,7)):u.activity=l(m.candidate_activity,7);return u},addCandidateActivity:function(t,a,n,o,l,s,c){var p=e.defer();try{if(c=C(c)){var m={candidateId:c.candidateId,contextType:t,type:a,status:n,activityData:o.toString(),createdDatetime:l,completedDatetime:s};i.addCandidateActivity(m).$promise.then((function(e){r.$broadcast(BROAD_CAST_NAMESPACE.GET_CANDIDATE_ACTIVITY,!0,c),p.resolve(u)}))}}catch(e){d.error(e),delete f.vm,jQuery(".loading-container").css("display","none"),p.reject(e)}return p.promise},updateCandidateActivity:function(t,a,r,o,s,c,p,g){var h=e.defer();try{if(p=C(p)){var v={activityId:t,candidateId:p.candidateId,contextType:a,type:r,status:o,activityData:s.toString(),createdDatetime:c,completedDatetime:(new Date).getTime()};i.updateCandidateActivity(v).$promise.then((function(e){var t=normalizeObjects(e);for(var a in m.candidate_activity){var r=m.candidate_activity[a];r.activityId===t.activityId&&(r.status=o)}m.candidate_activity=n("filter")(m.candidate_activity,{status:"!removed"}),u.activity_notifications=angular.copy(n("filter")(m.candidate_activity,{status:"!completed",type:"notification"}).reverse()),u.activity=l(m.candidate_activity,7),h.resolve(u)}))}}catch(e){d.error(e),delete f.vm,jQuery(".loading-container").css("display","none"),h.reject(e)}return h.promise},checkCandidatePreference:y,multipleCallLock:A,multipleCallUnlock:T,getTextChanges:g};return f;function g(e){var t,a=e.match(/href='\/profile|\/[a-z]+|\/[0-9]+/g),n=e.match(/\/[0-9]+/g);if(a)if(void 0!==a[1]){var r=a[1].slice(1);r in p&&(e=e.replace("class='action'",p[r]))}else null!=n&&(t=n[0].slice(1),e=e.replace("class='action'","class='ml1 boldfont' ng-class=activeTab('offers',true) ng-click=nav.switchTabs('offers',$event);goToOffer("+t+")"));return e}function h(){return{activity:{},activity_notifications:{},activityNotificationsWidgetConfig:"undefined"!=typeof _XCC_CA_CONFIG?_XCC_CA_CONFIG:{},preferenceNotification:!1,isShowComponent:!0}}function v(t){var a=e.defer();try{(t=C(t))?m.activeRequest?a.resolve(u):(A(),i.getAllCandidateActivities({candidateId:t.candidateId}).$promise.then((function(e){for(var r in m.candidate_activity=normalizeObjects(e),m.candidate_activity=n("filter")(m.candidate_activity,{status:"!removed"}),u.activity_notifications=angular.copy(n("filter")(m.candidate_activity,{status:"!completed",type:"notification"}).reverse()),u.activity_notifications){var i=u.activity_notifications[r];i.activityData=i.activityData.replace(" on [created_datetime]",""),i.activityData=S(i.activityData),i.activityData=g(i.activityData)}var o=[];for(var s in m.candidate_activity){var c=m.candidate_activity[s],d=!1;if(-1!==c.activityData.indexOf("You added a new file")){var p=c.activityData.replace(" [created_datetime].","");p=p.replace("You added a new file ",""),/^[a-zA-Z0-9-_.!~*'()% ]+$/.test(p)||(d=!0)}d||(c.activityData=S(c.activityData),c.activityData=g(c.activityData),c.activityData=c.activityData.replace("[created_datetime]",formatDate(c.createdDatetime)+" "+formatTime(c.createdDatetime)),o[s]=c)}return m.candidate_activity=o,u.activity=l(m.candidate_activity,7),u.isShowComponent=!0,u.preferenceNotification=y(t),T(),a.resolve(u)}),(function(e){d.error(e),T(),a.reject(e)}))):a.resolve(u)}catch(e){d.error(e),delete f.vm,a.reject(e)}return a.promise}function S(e){if(null===_XC_CONFIG.lang||"en"===_XC_CONFIG.lang||!_XC_i18n)return e;var t="",a={file_uploaded:function(e){return e.replace(/(You added a new file )(.+\..+?)( on \[created_datetime\]\.)\s*/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[filename]"+n,"dashboard");return r=r.replace("[filename]",a)}))},applications:function(e){return e.replace(/(Your application for )(.+?)( is .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[job_title]"+n,"dashboard");return r=r.replace("[job_title]",a)}))},hired:function(e){return e.replace(/(Congratulations! You are hired for )(.+?)( position on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[job_title]"+n,"dashboard");return r=r.replace("[job_title]",a)}))},offer:function(e){return e.replace(/(Congratulations! We are pleased to offer you the position of )(.+?)( on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[job_title]"+n,"dashboard");return r=r.replace("[job_title]",a)}))},offer_accept:function(e){return e.replace(/(You accepted an offer for )(.+?)( on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[job_title]"+n,"dashboard");return r=r.replace("[job_title]",a)}))},offer_decline:function(e){return e.replace(/(You declined an offer for )(.+?)( on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[job_title]"+n,"dashboard");return r=r.replace("[job_title]",a)}))},completed_app:function(e){return e.replace(/(You completed an application for )(.+?)( on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[job_title]"+n,"dashboard");return r=r.replace("[job_title]",a)}))},assessment1:function(e){return e.replace(/(You were asked to take )(.+?)( assessment on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[assessment_name]"+n,"dashboard");return r=r.replace("[assessment_name]",a)}))},assessment2:function(e){return e.replace(/(You completed )(.+?)( assessment on .+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[assessment_name]"+n,"dashboard");return r=r.replace("[assessment_name]",a)}))},assessment_notification1:function(e){return e.replace(/(You were asked to take )(.+?)( assessment.+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[assessment_name]"+n,"dashboard");return r=r.replace("[assessment_name]",a)}))},assessment_notification2:function(e){return e.replace(/(You completed )(.+?)( assessment.+)/,(function(e,t,a,n){var r=XCLOUD.i18n(t+"[assessment_name]"+n,"dashboard");return r=r.replace("[assessment_name]",a)}))},else:function(e){return XCLOUD.i18n(e,"dashboard")}},n=e=e.replace(/\s*<a href=(.+?)>(.+?)<\/a>/,(function(e,a,n){return t=" <a href="+a+">"+XCLOUD.i18n(n,"dashboard")+"</a>",""}));for(var r in a)if((n=a[r](e))!==e)break;return n+" "+t}function C(e){return(e=e||o.session.candidate.get())&&!angular.equals({},e)?e:null}function y(e){var t=!0;if(null!==e.preferences&&!angular.equals({},e.preferences)){var a=angular.fromJson(e.preferences);null!=a&&(void 0!==a.areaOfInterest&&a.areaOfInterest.length>0&&(t=!1),void 0!==a.location&&a.location.length>0&&(t=!1),void 0!==a.jobTitle&&a.jobTitle.length>0&&(t=!1))}return t}function A(){m.activeRequest=!0}function T(){m.activeRequest=!1}}angular.module("st.services").factory("candidateActivityViewModelService",e),e.$inject=["$q","$log","$sce","$filter","$rootScope","privateCandidate","ApplicationState","tableManagementService","authService","privateTransactionLog"]}()},function(e,t){!function(){"use strict";function e(e,t){e.getInstance(MODULE_NAME_SERVICES);return t.getVMSkeleton()}angular.module("st.services").factory("candidateActivityDataService",e),e.$inject=["$log","candidateActivityViewModelService"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o){var l=t.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_CANDIDATE_ACTIVITY);e.vm_ca=n.getVMSkeleton(),angular.copy(e.vm_ca,r),e.activity_notifications={},e.activitySelectOptions=[{"optionid:":"recent",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.RECENT_ACTIVITY.str,val:"recent"},{"optionid:":"action",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.ACTION.str,val:"action"},{"optionid:":"reminder",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.REMINDER.str,val:"reminder"},{"optionid:":"summary",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.SUMMARY.str,val:"summary"},{"optionid:":"notification",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.NOTIFICATION.str,val:"notification"},{"optionid:":"status",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.STATUS.str,val:"status"},{"optionid:":"suggestion",title:TEMPLATE_CONSTANTS.TITLE.CANDIDATE_ACTIVITY.SUGGESTION.str,val:"suggestion"}],e.activityIcons={action:{icons:"fa-bolt",customcss:"gold"},reminder:{icons:"fa-calendar-check-o",customcss:"red"},summary:{icons:"fa-info-circle",customcss:"blue"},notification:{icons:"fa-exclamation-triangle",customcss:"darkorange"},status:{icons:"fa-check-circle",customcss:"darkgreen"},suggestion:{icons:"fa-lightbulb-o",customcss:"black"}},e.activityfilterItem={item:e.activitySelectOptions[0]},e.getCandidateActivityViewModelService=function(t,a){void 0!==o.defaults.headers.common.Authorization&&o.defaults.headers.common.Authorization.length>0?n.getViewModel(t,a).then((function(t){e.vm_ca=t,angular.copy(e.vm_ca,r)})):l.debug("Candidate Activity cannot be called due to authorization token not set")},function(){try{void 0!==a.isLoggedIn&&a.isLoggedIn&&e.getCandidateActivityViewModelService(!0)}catch(e){l.error("Candidate Activity init error",e)}}(),e.activityFilter=function(t){e.vm_ca=n.filterCandidateActivity(t),angular.copy(e.vm_ca,r)},e.toggleViewMoreNotifications=function(t){try{e.showAllNotifications=!e.showAllNotifications,e.notificationNumber=t}catch(e){console.log(e)}},e.updateCandidateActivity=function(t,a,i,o,s,c,d,u){try{n.updateCandidateActivity(t,a,i,o,s,c,d,u).then((function(t){e.vm_ca=t,angular.copy(e.vm_ca,r)}))}catch(e){l.error("Candidate Activity update error",e)}},i.$on(BROAD_CAST_NAMESPACE.GET_CANDIDATE_ACTIVITY,(function(t,a,n){e.getCandidateActivityViewModelService(a,n)})),e.$on(BROAD_CAST_NAMESPACE.CANDIDATE_ACTIVITY_VM_REFRESH,(function(t,a){e.vm_ca=a,angular.copy(e.vm_ca,r)}))}angular.module("st.controllers.apply.site").controller("candidateActivityController",e),e.$inject=["$scope","$log","authService","candidateActivityViewModelService","candidateActivityDataService","$rootScope","$http"]}()},function(e,t){angular.module("st.controllers.apply.site").directive("candidateActivity",["candidateActivityDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"candidateActivityController",templateUrl:"/wp-content/plugins/xcloud/app/components/candidate_activity/candidate-activity.html",link:function(t,a,n){t.vm_ca=e}}}]).directive("compile",["$compile",function(e){return function(t,a,n){t.$watch((function(e){return e.$eval(n.compile)}),(function(n){a.html(n),e(a.contents())(t)}))}}])},function(e,t){angular.module("st.controllers.apply.site").directive("candidateActivityNotification",["candidateActivityDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"candidateActivityController",templateUrl:"/wp-content/plugins/xcloud/app/components/candidate_activity/candidate-activity-notification.html",link:function(t,a,n){t.vm_can=e}}}])},function(e,t){angular.module("st.controllers.apply.site").directive("candidateActivityNotificationWidget",["candidateActivityDataService",function(e){return{restrict:"EA",replace:!0,transclude:!1,controller:"candidateActivityController",templateUrl:"/wp-content/plugins/xcloud/app/components/candidate_activity/candidate-activity-notification-widget.html",link:function(t,a,n){t.vm_canw=e,console.log(t.vm_canw)}}}])},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l){angular.extend(this,r("signInMenuController",{$scope:e}));var s=t.getInstance(MODULE_NAME_CONTROLLERS_APPLY_SITE_MAIN);s.debug("Main Controller Called."),s.debug("logged in : ["+o.isLoggedIn+"]"),l.candidateHelper.configuration.loadLanguages(),i.TEMPLATE_CONSTANTS=TEMPLATE_CONSTANTS,e.$on("authenticated",(function(){s.debug("authenticated"),e.isLoggedIn=o.isLoggedIn})),e.$on("authenticatedReload",(function(){s.debug("authenticatedReload"),e.isLoggedIn=o.isLoggedIn})),e.$on("loggedOut",(function(){s.debug("loggedOut"),e.currentUser=null,e.isLoggedIn=!1})),e.logout=e.logOut=function(){return o.loginCancelled(),!0},e.clearLocalStorage=function(){return a.search("clear","true"),!0},e.clearSuccess=function(){clearSuccess()}}angular.module("st.controllers.apply.site").controller("mainController",e),e.$inject=["$scope","$log","$location","$window","$controller","$rootScope","authService","ModelDependencyFactory"]}()},function(e,t){angular.module("com.hrlogix.ats.applyflow").controller("preferencesController",["$scope","$rootScope","$location","candidate","CandidateWorkFlow",function(e,t,a,n,r,i){function o(t,a){e.showNotificationMsg=t,e.notificationMsg=a}angular.extend(this,n("baseController",{$scope:e})),function(){t.sessionNotificationShow=!1,t.showAccount=!0,e.showNotificationMsg=!1,e.notificaitonEngine={badRequest:"Bad Request !!",autoJobEmailsUnSubScribeSuccess:"You have been successfully unsubscribed from auto job email communications,you may re-subscribe from profile dashboard",autoJobEmailsUnSupportedMedia:"Bad Request !! unsupported media",autoJobEmailsFailure:"Something went wrong !! unable to process your request"},t.globalProgressBarHandler(!0);try{if(a.search().action){var n=a.search().action;switch(n){case"unsubscribe":if(a.search().email)!function(a,n){e.fetchCandidateByEmail(a).then((function(){var r=void 0;if(e.fetchCandidateByEmailResponse&&(r=e.fetchCandidateByEmailResponse.candidateId),null!=r)switch(n){case"unsubscribe":return void i.preferences.communications.subscriptions.marketing.unSubscribe(a).$promise.then((function(a){t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.autoJobEmailsUnSubScribeSuccess)}),(function(a){t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.autoJobEmailsFailure)}))}else t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.autoJobEmailsFailure)})).catch((function(a){t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.autoJobEmailsFailure)}))}(a.search().email,n);else t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.autoJobEmailsUnSupportedMedia);break;default:t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.badRequest)}}else t.globalProgressBarHandler(!1),o(!0,e.notificaitonEngine.badRequest)}catch(e){t.globalProgressBarHandler(!1)}}()}])},function(e,t,a){"use strict";var n=angular.module("st.apply.site",["ngRoute","ngSanitize","com.hrlogix.ats.applyflow","ui.mask","com.hrlogix.ats.global.services","com.hrlogix.ats.public.services","com.hrlogix.ats.private.services","st.utils","st.services","st.candidate.auth","st.controllers.apply.site","st.model.dependency"]);n.run(["$log",function(e){e.logLevels[MODULE_NAME_UTILS]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_ARRAY]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_LIST]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_LOCAL_STORAGE]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_META]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_OPTIONS]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_SESSION]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_UTILS_TABLE]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES_AI]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES_APPLICATION]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES_HIERARCHY]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES_PEOPLE]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES_REQUISITION]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_SERVICES_USER]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_USER_AUTH]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_USER_AUTH_BUFFER]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_BASE]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_MAIN]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_DASHBOARD]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_LOGIN]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_ANALYTICS]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_MANAGE_JOBS]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_REQUISITION_SCREEN]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_APPLICATION_VIEW]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_REQUISITION_PROFILE]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_REQUISITION_EDIT]=e.LEVEL.INFO,e.logLevels[MODULE_NAME_CONTROLLERS_USER_SITE_SEARCH_APPLICATIONS]=e.LEVEL.INFO,e.logLevels["*"]=DEBUG?e.LEVEL.TRACE:e.LEVEL.ERROR}]),n.config(["$locationProvider","$routeProvider","$logProvider","$httpProvider","$sceDelegateProvider",function(e,t,a,n,r){e.hashPrefix(""),a.debugEnabled(DEBUG),t.when("/deprecated/",{templateUrl:"notemplate",controller:"nocontroller",caseInsensitiveMatch:!0}).when("/apply/slot-book/",{templateUrl:"/wp-content/plugins/xcloud/app/components/slot_booking/slot-booking.html",controller:"slotBookingController",caseInsensitiveMatch:!0}).when("/apply/thank-you/",{templateUrl:PAGE_TEMPLATES.thank_you_apply,controller:"applyThankYouController",caseInsensitiveMatch:!0}).when("/apply/assessment/",{templateUrl:PAGE_TEMPLATES.assessment_apply,controller:"assessmentController",caseInsensitiveMatch:!0}).when("/apply/join/",{templateUrl:PAGE_TEMPLATES.apply_join,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/apply/join/:jobId/:stepId/:pageName/",{templateUrl:PAGE_TEMPLATES.apply_join,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/apply/join/:jobId/:stepId/",{templateUrl:PAGE_TEMPLATES.apply_join,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/apply/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.controller,caseInsensitiveMatch:!0}).when("/r/:sponsorHandle/apply/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.controller,caseInsensitiveMatch:!0}).when("/apply/:requisitionId/:stepId/:pagename/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.controller,caseInsensitiveMatch:!0}).when("/apply/:requisitionId/:stepId/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.controller,caseInsensitiveMatch:!0}).when("/apply/:requisitionId/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.apply.controller,caseInsensitiveMatch:!0}).when("/profile/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/join/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/r/:sponsorHandle/profile/join/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/join/:stepId/:pagename/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/join/:stepId/",{templateUrl:PAGE_TEMPLATES[CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.templateFlag],controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/r/:sponsorHandle/apply/join/",{templateUrl:PAGE_TEMPLATES.apply_join,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/job-alert/",{templateUrl:PAGE_TEMPLATES.job_alert,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/job-alert/:jobId/:stepId/:pagename/",{templateUrl:PAGE_TEMPLATES.job_alert,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/job-alert/:jobId/:stepId/",{templateUrl:PAGE_TEMPLATES.job_alert,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/job-alert/:jobId/",{templateUrl:PAGE_TEMPLATES.job_alert,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/campaign/:name/",{templateUrl:PAGE_TEMPLATES.microsite,controller:CUSTOM_FIELD_MANAGEMENT_SETTINGS.stream.leadCapture.controller,caseInsensitiveMatch:!0}).when("/profile/login/",{templateUrl:PAGE_TEMPLATES.login,controller:"loginController",caseInsensitiveMatch:!0}).when("/profile/thank-you/",{templateUrl:PAGE_TEMPLATES.thank_you,controller:"applyController",caseInsensitiveMatch:!0}).when("/profile/alert-thank-you/",{templateUrl:PAGE_TEMPLATES.alert_thank_you,controller:"thankYouAlertController",caseInsensitiveMatch:!0}).when("/profile/reset-password/",{templateUrl:PAGE_TEMPLATES[DYNAMIC_PAGE_SETTINGS.RESET_PASSWORD_TEMPLATE_FLAG],controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/forgot-password/",{templateUrl:PAGE_TEMPLATES.forgot,controller:"loginController",caseInsensitiveMatch:!0}).when("/profile/applications/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/todos/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/interviews/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/interviews/:interviewId/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/offers/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/offers/:offerId/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/onboarding/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/assessments/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/edit/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/preferences/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/documents/",{templateUrl:PAGE_TEMPLATES.profile,controller:"accountController",caseInsensitiveMatch:!0}).when("/profile/actionpreferences/",{templateUrl:"/wp-content/plugins/xcloud/app/apply/preferences.html",controller:"preferencesController",caseInsensitiveMatch:!0}).when("/unsubscribe/",{templateUrl:PAGE_TEMPLATES.unsubscribe,controller:"unsubscribeController",caseInsensitiveMatch:!0}).when("/auth0_authentication/",{templateUrl:PAGE_TEMPLATES.auth0_authentication,controller:"auth0AuthenticationController",caseInsensitiveMatch:!0}).when("/optin-confirmation/",{templateUrl:PAGE_TEMPLATES.optin_confirmation,controller:"optinConfirmationController",caseInsensitiveMatch:!0}),e.html5Mode({enabled:!0,rewriteLinks:!1,requireBase:!1}),r.resourceUrlWhitelist(["self","https://jobsapi-google.cert.m-cloud.io/**","https://jobsapi-google.m-cloud.io/**","https://jobsapi-internal.m-cloud.io/**","https://jobsapi-internal.cert.m-cloud.io/**"])}]),n.run(["$route","$rootScope","$location","$log",function(e,t,a,n){var r=a.path;a.path=function(n,i){if(!1===i)var o=e.current,l=t.$on("$locationChangeSuccess",(function(){e.current=o,l(),XCLOUD.refresh_language_switcher()}));var s=r.apply(a,[n]);return XCLOUD.refresh_language_switcher(),s},t.$on("$viewContentLoaded",XCLOUD.view_loaded)}])},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i){var o=t.getInstance(MODULE_NAME_SERVICES),l=s();return{getVMSkeleton:s,getSubscriptionTypes:function(){return a.getSubscriptionTypes().$promise.then((function(t){var a=e.defer();try{var n=normalizeObjects(t);a.resolve(n)}catch(e){o.error(e),a.reject(e)}return a.promise}))},getCandidateIdByUname:function(t){var n=e.defer();try{a.getCandidateByEmail({emailId:t}).$promise.then((function(e){var t=normalizeObjects(e);n.resolve(t)}))}catch(e){o.error(e),n.reject(e)}return n.promise},modifySubscription:function(t,n){var r={usersId:0,communicationTypesId:0,communicationType:"",subscription:"",candidateId:0,userName:""};return r.communicationTypesId=n.communicationTypesId,r.communicationType=n.type,r.subscription="f",r.candidateId=t.candidateId,r.userName=t.uname,a.modifySubscription(r).$promise.then((function(t){var a=e.defer();try{var n=normalizeObjects(t);a.resolve(n)}catch(e){o.error(e),a.reject(e)}return a.promise}))},addUpdateSubscriptions:function(t,a){var n=e.defer();return i.addUpdateSubscriptionsByToken(a).query(t).$promise.then((function(t){n=e.defer();try{var a=normalizeObjects(t);n.resolve(a)}catch(e){o.error(e),n.reject(e)}return n.promise}))},getCandidateSubscriptionByCandidateId:function(t,a){return i.getSubscriptionByToken(a).query({candidateId:t.candidateId}).$promise.then((function(t){var a=e.defer();try{var n=normalizeObjects(t);a.resolve(n)}catch(e){o.error(e),a.reject(e)}return a.promise}))},getCandidate:function(t){var n=e.defer();try{a.getCandidate({candidateId:t.candidateId}).$promise.then((function(e){var t=normalizeObjects(e);n.resolve(t)}))}catch(e){o.error(e),n.reject(e)}return n.promise}};function s(){return void 0!==l?l:{isShowComponent:!0,unsubscribeSuccess:!1,unsubscribeFailed:!1,unsubscribeInvalidEmail:!1,UNSUBSCRIBE_SUCCESS_HEADER:TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_SUCCESS_HEADER.str,UNSUBSCRIBE_FAILED_HEADER:TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_FAILED_HEADER.str,UNSUBSCRIBE_EMAIL_INVALID:TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_EMAIL_INVALID.str,UNSUBSCRIBE_FAILED_HEADER_LOGINLESS:TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_FAILED_HEADER_LOGINLESS.str,SUBSCRIPTION_SETTINGS_HEADING:TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_SETTINGS_HEADING.str,SUBSCRIPTION_SETTINGS_SUBHEADING:TEMPLATE_CONSTANTS.TITLE.BANNER.SUBSCRIPTION_SETTINGS_SUBHEADING.str,HIDE_SUBSCRIPTION_TEXT_1:_XC_CONFIG.hide_subscription_text_1,HIDE_SUBSCRIPTION_TEXT_2:_XC_CONFIG.hide_subscription_text_2}}}angular.module("st.services").factory("unsubscribeViewModelService",e),e.$inject=["$q","$log","candidate","candidateSubscription","privatecandidateSubscription","privatecandidateSubscriptionByToken"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o){var l=a.getInstance(MODULE_NAME_SERVICES);!function(){e.vm=i.getVMSkeleton(),e.communicationSubscriptions={},e.vm.UNSUBSCRIBE_HEADING=TEMPLATE_CONSTANTS.TITLE.BANNER.UNSUBSCRIBE_HEADING.str,o.getFeatureFlagFromShareDb("jobAlertSubscription").then((function(e){r.jobAlertSubscriptionFlag=e})),e.unsubscribeModal=!0,e.isLoginLessClient=!0===_XC_CONFIG.profile_login_deactivated;try{var a=t.defer(),s=n.search();if(void 0!==s.token){e.unsubscribeToken=s.token.trim();var c=jwt_decode(e.unsubscribeToken).email;void 0!==c?(c=c.replace(" ","+"),jQuery(".loading-container").css("display","block"),i.getCandidateIdByUname(c).then((function(t){void 0!==(t=t).candidateId?(e.candidateId=t.candidateId,i.getCandidateSubscriptionByCandidateId(t,e.unsubscribeToken).then((function(t){if(0!==t.length)for(var n=0;n<t.length;n++)E_COMMUNICATION_TYPE.MARKETING===t[n].communicationType&&E_COMMUNICATION_CHANNEL.EMAIL===t[n].channel?"f"===t[n].subscription?e.communicationSubscriptions.emailUnsubscribeCheck="f":e.communicationSubscriptions.emailUnsubscribeCheck="t":E_COMMUNICATION_TYPE.JOBALERT===t[n].communicationType&&E_COMMUNICATION_CHANNEL.EMAIL===t[n].channel&&r.jobAlertSubscriptionFlag&&("f"===t[n].subscription?e.communicationSubscriptions.jobAlertUnsubscribeCheck="f":e.communicationSubscriptions.jobAlertUnsubscribeCheck="t");else e.communicationSubscriptions.emailUnsubscribeCheck="t",e.communicationSubscriptions.jobAlertUnsubscribeCheck="t";jQuery(".loading-container").css("display","none"),a.resolve(0)})).catch((function(t){l.error(t),e.vm.unsubscribeFailed=!0,e.unsubscribeModal=!1,jQuery(".loading-container").css("display","none")}))):(e.vm.unsubscribeInvalidEmail=!0,e.unsubscribeModal=!1)})).catch((function(t){l.error(t),e.vm.unsubscribeFailed=!0,e.unsubscribeModal=!1,jQuery(".loading-container").css("display","none")}))):(e.vm.unsubscribeFailed=!0,e.unsubscribeModal=!1)}else e.vm.unsubscribeFailed=!0,e.unsubscribeModal=!1}catch(t){l.error(t),e.vm.unsubscribeFailed=!0,jQuery(".loading-container").css("display","none")}}(),e.putCandidateSubscription=function(){var a=t.defer(),n={usersId:0,candidateId:e.candidateId,subscriptions:[]},r={};e.communicationSubscriptions.emailUnsubscribeCheck&&(r.subscription_marketing_email=e.communicationSubscriptions.emailUnsubscribeCheck),e.communicationSubscriptions.jobAlertUnsubscribeCheck&&(r.subscription_jobalert_email=e.communicationSubscriptions.jobAlertUnsubscribeCheck);var l=o.processSubscriptionsPayload(r).subscriptions;return n.subscriptions=l,i.addUpdateSubscriptions(n,e.unsubscribeToken).then((function(t){e.vm.unsubscribeSuccess=!0,e.unsubscribeModal=!1,a.resolve(0)}),(function(t){e.unsubscribeModal=!1,e.vm.unsubscribeFailed=!0,a.resolve(0)})),a.promise}}angular.module("st.candidate.activity").controller("unsubscribeController",e),e.$inject=["$scope","$q","$log","$location","$rootScope","unsubscribeViewModelService","CandidateWorkFlow"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r){var i=t.getInstance(MODULE_NAME_SERVICES);this.vm={formCollection:[],isShowComponent:!0},this.getMetaData=function(t,s,c){var d=e.defer();return o.notifyObserverRegistration=s,n.getStreamCustomFieldMetaData({streamId:t}).$promise.then((function(e){e.metaData.length?(r.dashboardFMEnabled=c.isDashboard,r.staticFormEnabled=!1,o.vm.isShowComponent=!0):(r.dashboardFMEnabled=!1,r.staticFormEnabled=!0,o.vm.isShowComponent=!1),a.schemaInterpolation.performMetaDataInterpolation(e.metaData,c,l),d.resolve(e)}),(function(e){r.dashboardFMEnabled=!1,r.staticFormEnabled=!0,o.vm.isShowComponent=!1,i.error(e),d.reject(e)}))};var o=this;return o;function l(e){o.notifyObserverRegistration(e),o.vm.formCollection=e}}angular.module("st.services").factory("candidateProfileViewModelService",e),e.$inject=["$q","$log","ModelDependencyFactory","metadata","$rootScope"]}()},function(e,t){!function(){"use strict";function e(e,t,a,n,r,i,o,l){angular.extend(this,r("candidateBaseHelper",{$scope:e})),e.disableDashboardFM=function(){e.vm=l.vm,t.dashboardFMEnabled=!1,t.staticFormEnabled=!0,e.vm.isShowComponent=!1},function t(){e.semaphoreCollection={isLastFormSpecificationRuleApplicable:!1,progressBar:e.globalProgressBarHandler,notificationMessage:e.notificationSemaphoreHandler,isLeadCapture:!1,isDashboard:!0,AlwaysShowProgressbar:!1,captureOmniTagging:!1},void 0!==n.isLoggedIn&&n.isLoggedIn?void 0!==e.widgetStreamId&&""!==e.widgetStreamId&&null!==e.widgetStreamId||"undefined"!=typeof _XC_CONFIG&&(!0===_XC_CONFIG.dash_fm_enabled||"true"===_XC_CONFIG.dash_fm_enabled)&&null!==_XC_CONFIG.dash_fm_stream&&""!==_XC_CONFIG.dash_fm_stream&&0!==_XC_CONFIG.dash_fm_stream?(e.streamId=_XC_CONFIG.dash_fm_stream,l.getMetaData(_XC_CONFIG.dash_fm_stream,e.constructAngularSchemaObserver,e.semaphoreCollection).then((function(t){e.vm=l.vm}))):e.disableDashboardFM():n.isAuth0Ready?e.$on("auth0AuthenticatedReload",(function(){t()})):e.disableDashboardFM()}()}angular.module("st.candidate.activity").controller("candidateProfilePlaceholderController",e),e.$inject=["$scope","$rootScope","$log","authService","$controller","$location","$window","candidateProfileViewModelService"]}()},function(e,t){angular.module("st.candidate.activity").directive("schemaDashboardCandidateProfilePlaceholder",(function(){return{restrict:"EA",scope:{widgetStreamId:"=",callerId:"@"},replace:!0,transclude:!1,controller:"candidateProfilePlaceholderController",templateUrl:"/wp-content/plugins/xcloud/app/components/dashboard_candidate_profile/candidate-profile-placeholder.html"}}))},function(e,t){!function(){"use strict";function e(e,t,a,n,r){angular.extend(this,a("candidateSchemaFormController",{$scope:e})),e.form[1].XCloudDefinition.hasOwnProperty("summaryFormConfiguration")&&"true"===e.form[1].XCloudDefinition.summaryFormConfiguration.summarizeForm&&(e.showAccountSummary=!0,e.booleanDisplayParser=e.angularSchemaObserver.viewModelProcessor.fieldParser.booleanParser.displayParser,e.hasHeaderFields=e.form[1].XCloudDefinition.summaryFormConfiguration.hasOwnProperty("headerFields"))}angular.module("st.candidate.activity").controller("candidateProfileController",e),e.$inject=["$scope","$log","$controller","$location","$window"]}()},function(e,t){angular.module("st.candidate.activity").directive("schemaDashboardCandidateProfile",(function(){return{restrict:"EA",scope:{applyFlowData:"=",externalJob:"=",defaultValueFieldObject:"=",fieldParserDefinition:"=",fieldDefinition:"=",fieldLookUpCollection:"=",fieldNameCollection:"=",form:"=",glyphIcon:"=",gridConfiguration:"=",gridEnabled:"=",hide:"=",indexOfForm:"=",isFirstForm:"=",isLastForm:"=",mandatoryFieldCollection:"=",model:"=",replicate:"=?",schema:"=",table:"=",tableMap:"=",title:"=",viewStyle:"=",callerId:"="},replace:!0,transclude:!1,controller:"candidateProfileController",templateUrl:function(e,t){return"/wp-content/plugins/xcloud/app/components/dashboard_candidate_profile/"+t.template+".html"}}}))}]);
;"use strict";document.addEventListener("focusin",function(t){t=t&&t.target&&t.target.closest&&t.target.closest("input,select,textarea,button,meter,progress");t&&window[gtm4wp_datalayer_name].push({event:"gtm4wp.formElementEnter",inputID:t.getAttribute("id")||"(no input ID)",inputName:t.getAttribute("name")||"(no input name)",inputClass:t.getAttribute("class")||"(no input class)",formID:t.form&&t.form.getAttribute("id")||"(no form ID)",formName:t.form&&t.form.getAttribute("name")||"(no form name)",formClass:t.form&&t.form.getAttribute("class")||"(no form class)"})},!1),document.addEventListener("focusout",function(t){t=t&&t.target&&t.target.closest&&t.target.closest("input,select,textarea,button,meter,progress");t&&window[gtm4wp_datalayer_name].push({event:"gtm4wp.formElementLeave",inputID:t.getAttribute("id")||"(no input ID)",inputName:t.getAttribute("name")||"(no input name)",inputClass:t.getAttribute("class")||"(no input class)",formID:t.form&&t.form.getAttribute("id")||"(no form ID)",formName:t.form&&t.form.getAttribute("name")||"(no form name)",formClass:t.form&&t.form.getAttribute("class")||"(no form class)"})},!1);
;(function ($) {
    "use strict";

    $(document).ready(function () {
        var aviabodyclasses = AviaBrowserDetection('html');

        $.avia_utilities = $.avia_utilities || {};
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && 'ontouchstart' in document.documentElement) {
            $.avia_utilities.isMobile = true;
        }
        else {
            $.avia_utilities.isMobile = false;
        }


        //check if user uses IE7 - if yes don't execute the function or the menu will break
        if (aviabodyclasses.indexOf("avia-msie-7") == -1) avia_responsive_menu();

        // decreases header size when user scrolls down
        avia_header_size();

        // set sidebar main menu option
        avia_sidebar_menu();

        //activates the sticky submenu
        avia_sticky_submenu();

        //show scroll top button
        avia_scroll_top_fade();

        //show scroll top button
        avia_site_preloader();

        //creates search tooltip
        new $.AviaTooltip({
            "class": 'avia-search-tooltip',
            data: 'avia-search-tooltip',
            event: 'click',
            position: 'bottom',
            scope: "body",
            attach: 'element'
        });

        //creates relate posts tooltip
        new $.AviaTooltip({
            "class": 'avia-related-tooltip',
            data: 'avia-related-tooltip',
            scope: ".related_posts, .av-share-box",
            attach: 'element',
            delay: 0
        });

        //creates ajax search
        new $.AviaAjaxSearch({scope: '#header'});

        // actiavte portfolio sorting
        if ($.fn.avia_iso_sort)
            $('.grid-sort-container').avia_iso_sort();

        //activates the mega menu javascript
        if ($.fn.aviaMegamenu)
            $(".main_menu .menu").aviaMegamenu({modify_position: true});


        $.avia_utilities.avia_ajax_call();


    });

    $.avia_utilities = $.avia_utilities || {};

    $.avia_utilities.avia_ajax_call = function (container) {
        if (typeof container == 'undefined') {
            container = 'body';
        }
        ;


        $('a.avianolink').on('click', function (e) {
            e.preventDefault();
        });
        $('a.aviablank').attr('target', '_blank');

        //activates the prettyphoto lightbox
        $(container).avia_activate_lightbox();

        //scrollspy for main menu. must be located before smoothscrolling
        if ($.fn.avia_scrollspy) {
            if (container == 'body') {
                $('body').avia_scrollspy({target: '.main_menu .menu li > a'});
            }
            else {
                $('body').avia_scrollspy('refresh');
            }
        }

        //smooth scrooling
        //if ($.fn.avia_smoothscroll)
        //    $('a[href*="#"]', container).avia_smoothscroll(container);

        avia_small_fixes(container);

        avia_hover_effect(container);

        avia_iframe_fix(container);

        //activate html5 video player
        if ($.fn.avia_html5_activation && $.fn.mediaelementplayer)
            $(".avia_video, .avia_audio", container).avia_html5_activation({ratio: '16:9'});

    }

    // -------------------------------------------------------------------------------------------
    // Error log helper
    // -------------------------------------------------------------------------------------------

    $.avia_utilities.log = function (text, type, extra) {
        if (typeof console == 'undefined') {
            return;
        }
        if (typeof type == 'undefined') {
            type = "log"
        }
        type = "AVIA-" + type.toUpperCase();
        CWS.log("[" + type + "] " + text);
        if (typeof extra != 'undefined') CWS.log(extra);
    }


    // -------------------------------------------------------------------------------------------
    // modified SCROLLSPY by bootstrap
    // -------------------------------------------------------------------------------------------


    function AviaScrollSpy(element, options) {
        var self = this;

        var process = $.proxy(self.process, self)
            , refresh = $.proxy(self.refresh, self)
            , $element = $(element).is('body') ? $(window) : $(element)
            , href
        self.$body = $('body')
        self.$win = $(window)
        self.options = $.extend({}, $.fn.avia_scrollspy.defaults, options)
        self.selector = (self.options.target
        || ((href = $(element).attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) //strip for ie7
        || '')

        self.activation_true = false;

        if (self.$body.find(self.selector + "[href*='#']").length) {
            self.$scrollElement = $element.on('scroll.scroll-spy.data-api', process);
            self.$win.on('av-height-change', refresh);
            self.$body.on('av_resize_finished', refresh);
            self.activation_true = true;
            self.checkFirst();

            setTimeout(function () {
                self.refresh()
                self.process()

            }, 100);
        }

    }

    AviaScrollSpy.prototype = {

        constructor: AviaScrollSpy
        , checkFirst: function () {

            var current = window.location.href.split('#')[0],
                matching_link = this.$body.find(this.selector + "[href='" + current + "']").attr('href', current + '#top');
        }
        , refresh: function () {

            if (!this.activation_true) return;

            var self = this
                , $targets

            this.offsets = $([])
            this.targets = $([])

            $targets = this.$body
                .find(this.selector)
                .map(function () {
                    var $el = $(this)
                        , href = $el.data('target') || $el.attr('href')
                        , hash = this.hash
                        , hash = hash.replace(/\//g, "")
                        , $href = /^#\w/.test(hash) && $(hash)

                    return ( $href
                        && $href.length
                        && [[$href.position().top + (!$.isWindow(self.$scrollElement.get(0)) && self.$scrollElement.scrollTop()), href]] ) || null
                })
                .sort(function (a, b) {
                    return a[0] - b[0]
                })
                .each(function () {
                    self.offsets.push(this[0])
                    self.targets.push(this[1])
                })

        }

        , process: function () {

            if (!this.offsets) return;
            if (isNaN(this.options.offset)) this.options.offset = 0;

            var scrollTop = this.$scrollElement.scrollTop() + this.options.offset
                , scrollHeight = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight
                , maxScroll = scrollHeight - this.$scrollElement.height()
                , offsets = this.offsets
                , targets = this.targets
                , activeTarget = this.activeTarget
                , i

            if (scrollTop >= maxScroll) {
                return activeTarget != (i = targets.last()[0])
                    && this.activate(i)
            }

            for (i = offsets.length; i--;) {
                activeTarget != targets[i]
                && scrollTop >= offsets[i]
                && (!offsets[i + 1] || scrollTop <= offsets[i + 1])
                && this.activate(targets[i])
            }
        }

        , activate: function (target) {
            var active
                , selector

            this.activeTarget = target

            $(this.selector)
                .parent('.' + this.options.applyClass)
                .removeClass(this.options.applyClass)

            selector = this.selector
            + '[data-target="' + target + '"],'
            + this.selector + '[href="' + target + '"]'


            active = $(selector)
                .parent('li')
                .addClass(this.options.applyClass)

            if (active.parent('.sub-menu').length) {
                active = active.closest('li.dropdown_ul_available').addClass(this.options.applyClass)
            }

            active.trigger('activate')
        }

    }


    /* AviaScrollSpy PLUGIN DEFINITION
     * =========================== */

    $.fn.avia_scrollspy = function (option) {
        return this.each(function () {
            var $this = $(this)
                , data = $this.data('scrollspy')
                , options = typeof option == 'object' && option
            if (!data) $this.data('scrollspy', (data = new AviaScrollSpy(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    $.fn.avia_scrollspy.Constructor = AviaScrollSpy

    $.fn.avia_scrollspy.calc_offset = function () {
        var offset_1 = (parseInt($('.html_header_sticky #main').data('scroll-offset'), 10)) || 0,
            offset_2 = ($(".html_header_sticky:not(.html_top_nav_header) #header_main_alternate").outerHeight()) || 0,
            offset_3 = ($(".html_header_sticky.html_header_unstick_top_disabled #header_meta").outerHeight()) || 0,
            offset_4 = 1,
            offset_5 = parseInt($('html').css('margin-top'), 10) || 0,
            offset_6 = parseInt($('.av-frame-top ').outerHeight(), 10) || 0;

        return offset_1 + offset_2 + offset_3 + offset_4 + offset_5 + offset_6;
    }

    $.fn.avia_scrollspy.defaults =
    {
        offset: $.fn.avia_scrollspy.calc_offset(),
        applyClass: 'current-menu-item'
    }


    function avia_site_preloader() {
        var win = $(window), preloader_active = $('html.av-preloader-active'), pre_wrap;

        if (preloader_active.length) {
            var hide = function () {
                pre_wrap.avia_animate({opacity: 0}, function () {
                    preloader_active.removeClass('av-preloader-active');
                });
            };


            pre_wrap = $('.av-siteloader-wrap');
            setTimeout(function () {
                $.avia_utilities.preload({container: preloader_active, global_callback: hide});

                //fallback
                setTimeout(function () {
                    if (preloader_active.is('.av-preloader-active')) {
                        hide();
                        $.avia_utilities.log('Hide Preloader (Fallback)');
                    }

                }, 4000);

                if (pre_wrap.is('.av-transition-enabled')) {
                    var comp = new RegExp(location.host),
                        exclude = " .no-transition, .mfp-iframe, .lightbox-added, .grid-links-ajax a, #menu-item-search a";

                    preloader_active.on('click', 'a:not(' + exclude + ')', function (e) {
                        if (!e.metaKey && !e.ctrlKey && !e.altKey && !e.shiftKey) {
                            var link = this;
                            if (comp.test(link.href) && link.href.split('#')[0] != location.href.split('#')[0] && link.target == "") {
                                if (link.href.indexOf('mailto:') == -1 && link.href.indexOf('add-to-cart=') == -1) {
                                    e.preventDefault();
                                    preloader_active.addClass('av-preloader-active av-preloader-reactive');
                                    pre_wrap.avia_animate({opacity: 1}, function () {
                                        window.location = link.href;
                                    });
                                }
                            }
                        }
                    });
                }


            }, 500);
        }
    }


    // -------------------------------------------------------------------------------------------
    // detect browser and add class to body
    // -------------------------------------------------------------------------------------------

    function AviaBrowserDetection(outputClassElement) {
        if (typeof($.browser) !== 'undefined') {
            var bodyclass = '', version = $.browser.version ? parseInt($.browser.version) : "";

            if ($.browser.msie) {
                bodyclass += 'avia-msie';
            } else if ($.browser.webkit) {
                bodyclass += 'avia-webkit';
            } else if ($.browser.mozilla) {
                bodyclass += 'avia-mozilla';
            }

            if ($.browser.version) bodyclass += ' ' + bodyclass + '-' + version + ' ';
            if ($.browser.name)    bodyclass += ' avia-' + $.browser.name + ' avia-' + $.browser.name + '-' + version + ' ';

            if ($.browser.ipad) {
                bodyclass += ' avia-ipad ';
            } else if ($.browser.iphone) {
                bodyclass += ' avia-iphone ';
            } else if ($.browser.android) {
                bodyclass += ' avia-android ';
            } else if ($.browser.win) {
                bodyclass += ' avia-windows ';
            } else if ($.browser.mac) {
                bodyclass += ' avia-mac ';
            } else if ($.browser.linux) {
                bodyclass += ' avia-linux ';
            }
        }

        if (outputClassElement) $(outputClassElement).addClass(bodyclass)

        return bodyclass;
    }


    // -------------------------------------------------------------------------------------------
    // responsive menu function
    // -------------------------------------------------------------------------------------------

    function avia_responsive_menu() {
        var $html = $('html'), win = $(window), header = $('.responsive #header');

        if (!header.length) return;

        var menu = header.find('.main_menu ul:eq(0)'),
            first_level_items = menu.find('>li').length,
            bottom_menu = $('html').is('.html_bottom_nav_header'),
            container = $('#wrap_all'),
            show_menu_btn = $('#advanced_menu_toggle'),
            hide_menu_btn = $('#advanced_menu_hide'),
            mobile_advanced = menu.clone().attr({id: "mobile-advanced", "class": ""}),
            sub_hidden = $html.is('.html_header_mobile_behavior'),
            insert_menu = function () {
                if (first_level_items == 0) {
                    show_menu_btn.remove();
                }
                else {
                    var after_menu = $('#header .logo');
                    show_menu_btn.insertAfter(after_menu);
                    mobile_advanced.find('.noMobile').remove();
                    mobile_advanced.prependTo(container);
                    hide_menu_btn.prependTo(container);
                }
            },
            set_height = function () {
                var height = mobile_advanced.outerHeight(true), win_h = win.height();

                if (height < win_h) height = win_h;
                container.css({'height': height});

                mobile_advanced.css({position: 'absolute', 'min-height': win_h});
                /*check if stylesheets are disabled then dont show multiple menu*/
                if(jQuery(".check-style-enabled").css("width") !== "0px"){
                    mobile_advanced.css({display: 'none'});
                }
            },
            hide_menu = function () {
                container.removeClass('show_mobile_menu');
                setTimeout(function () {
                    container.css({'height': "auto", 'overflow': 'hidden', 'minHeight': 0});
                    mobile_advanced.css({display: 'none'});
                    $('#header,#main').removeAttr('aria-hidden'); // EJB
                    show_menu_btn.removeAttr('aria-hidden').focus(); // EJB
                }, 600);
                //$('#mobile-advanced').removeAttr('tabindex'); // EJB
                return false;
            },
            autohide = function () {
                if (container.is('.show_mobile_menu') && hide_menu_btn.css('display') == 'none') {
                    hide_menu();
                }
            },
            show_menu = function () {
                if (container.is('.show_mobile_menu')) {
                    hide_menu();
                }
                else {
                    win.scrollTop(0);
                    mobile_advanced.css({display: 'block'});
                    setTimeout(function(){container.addClass('show_mobile_menu'); },10);
                    set_height();
                    setTimeout(function () {
                        hide_menu_btn.removeAttr('aria-hidden').focus(); // EJB
                        //$('#mobile-advanced > li:first-child > a:first-child').focus(); // EJB
                        $('#header,#main').attr('aria-hidden', 'true');//{'aria-hidden':'true','tabindex':'-1'}); // EJB
                    }, 600);
                }
                return false;
            };
        mobile_advanced.find("*")
            .each(function() {
                var id = this.id || "";
                //var match = id.match(/^(.*)(\d)+$/i) || [];
                if (id.length > 0) {
                    this.id = this.id + '_m';
                }
            });



        $html.on('click', '#mobile-advanced li a, #mobile-advanced .mega_menu_title', function () {
            var current = $(this);

            //if submenu items are hidden do the toggle
            if (sub_hidden) {
                var list_item = current.siblings('ul, .avia_mega_div');
                if (current.siblings('ul').children('.avia_mega_text_block').length && current.siblings('ul').children('li').length == 1) {
                    list_item = '';
                }
                if (list_item.length) {
                    if (list_item.hasClass('visible_sublist')) {
                        list_item.removeClass('visible_sublist');
                    }
                    else {
                        list_item.addClass('visible_sublist');
                    }
                    set_height();
                    return false;
                }
            }

            //when clicked on anchor link remove the menu so the body can scroll to the anchor
            if (current.filter('[href*="#"]').length) {
                container.removeClass('show_mobile_menu');
                container.css({'height': "auto"});
            }

        });


        show_menu_btn.click(show_menu);
        hide_menu_btn.click(hide_menu);
        win.on('debouncedresize', autohide);
        insert_menu();

        $('#mobile-advanced li:last').not('.menu-item-has-children').keydown(function (e) {
            if (!e.shiftKey && e.keyCode === 9) {
                e.preventDefault();
                setTimeout(function () {
                    $('#advanced_menu_hide').removeAttr('aria-hidden').focus(); // EJB
                }, 500);
            }
        });

        var shift_tab = false;
        hide_menu_btn.focus(function () {
            $(document).keydown(function (e) {
                if (e.shiftKey && e.key === 'Tab') {
                    shift_tab = true;
                }
                else if (e.key === 'Tab') {
                    shift_tab = false;
                }
            });
        }).focusout(function () {
            if (shift_tab) {
                $('#mobile-advanced li:last-child a').focus();
            }
        });
    }


    // -------------------------------------------------------------------------------------------
    // html 5 videos
    // -------------------------------------------------------------------------------------------
    $.fn.avia_html5_activation = function (options) {
        var defaults =
        {
            ratio: '16:9'
        };

        var options = $.extend(defaults, options),
            isMobile = $.avia_utilities.isMobile;

        // if(isMobile) return;

        this.each(function () {
            var fv = $(this),
                id_to_apply = '#' + fv.attr('id'),
                posterImg = fv.attr('poster');


            fv.mediaelementplayer({
                // if the <video width> is not specified, this is the default
                defaultVideoWidth: 480,
                // if the <video height> is not specified, this is the default
                defaultVideoHeight: 270,
                // if set, overrides <video width>
                videoWidth: -1,
                // if set, overrides <video height>
                videoHeight: -1,
                // width of audio player
                audioWidth: 400,
                // height of audio player
                audioHeight: 30,
                // initial volume when the player starts
                startVolume: 0.8,
                // useful for <audio> player loops
                loop: false,
                // enables Flash and Silverlight to resize to content size
                enableAutosize: false,
                // the order of controls you want on the control bar (and other plugins below)
                features: ['playpause', 'progress', 'current', 'duration', 'tracks', 'volume'],
                // Hide controls when playing and mouse is not over the video
                alwaysShowControls: false,
                // force iPad's native controls
                iPadUseNativeControls: false,
                // force iPhone's native controls
                iPhoneUseNativeControls: false,
                // force Android's native controls
                AndroidUseNativeControls: false,
                // forces the hour marker (##:00:00)
                alwaysShowHours: false,
                // show framecount in timecode (##:00:00:00)
                showTimecodeFrameCount: false,
                // used when showTimecodeFrameCount is set to true
                framesPerSecond: 25,
                // turns keyboard support on and off for this instance
                enableKeyboard: true,
                // when this player starts, it will pause other players
                pauseOtherPlayers: false,
                poster: posterImg,
                success: function (mediaElement, domObject) {

                    setTimeout(function () {
                        if (mediaElement.pluginType == 'flash') {
                            mediaElement.addEventListener('canplay', function () {
                                fv.trigger('av-mediajs-loaded');
                            }, false);
                        }
                        else {
                            fv.trigger('av-mediajs-loaded').addClass('av-mediajs-loaded');
                        }

                        mediaElement.addEventListener('ended', function () {
                            fv.trigger('av-mediajs-ended');
                        }, false);

                    }, 10);

                },
                // fires when a problem is detected
                error: function () {

                },

                // array of keyboard commands
                keyActions: []
            });

        });
    }


    // -------------------------------------------------------------------------------------------
    // hover effect for images
    // -------------------------------------------------------------------------------------------
    function avia_hover_effect(container) {
        //hover overlay for mobile device doesnt really make sense. in addition it often slows down the click event
        if ($.avia_utilities.isMobile) return;

        var overlay = "", cssTrans = $.avia_utilities.supports('transition');

        if (container == 'body') {
            var elements = $('#main a img').parents('a').not('.noLightbox, .noLightbox a, .avia-gallery-thumb a, .avia-layerslider a, .noHover, .noHover a').add('#main .avia-hover-fx');
        }
        else {
            var elements = $('a img', container).parents('a').not('.noLightbox, .noLightbox a, .avia-gallery-thumb a, .avia-layerslider a, .noHover, .noHover a').add('.avia-hover-fx', container);
        }

        elements.each(function (e) {
            var link = $(this),
                current = link.find('img:first');

            if (current.hasClass('alignleft')) link.addClass('alignleft').css({float: 'left', margin: 0, padding: 0});
            if (current.hasClass('alignright')) link.addClass('alignright').css({
                float: 'right',
                margin: 0,
                padding: 0
            });
            if (current.hasClass('aligncenter')) link.addClass('aligncenter').css({
                float: 'none',
                'text-align': 'center',
                margin: 0,
                padding: 0
            });

            if (current.hasClass('alignnone')) {
                link.addClass('alignnone').css({margin: 0, padding: 0});
                ;
                if (!link.css('display') || link.css('display') == 'inline') {
                    link.css({display: 'inline-block'});
                }
            }

            if (!link.css('position') || link.css('position') == 'static') {
                link.css({position: 'relative', overflow: 'hidden'});
            }

            var url = link.attr('href'),
                span_class = "overlay-type-video",
                opa = link.data('opacity') || 0.7,
                overlay_offset = 5,
                overlay = link.find('.image-overlay');

            if (url) {
                if (url.match(/(jpg|gif|jpeg|png|tif)/)) span_class = "overlay-type-image";
                if (!url.match(/(jpg|gif|jpeg|png|\.tif|\.mov|\.swf|vimeo\.com|youtube\.com)/)) span_class = "overlay-type-extern";
            }

            if (!overlay.length) {
                overlay = $("<span class='image-overlay " + span_class + "'><span class='image-overlay-inside'></span></span>").appendTo(link);
            }

            link.on('mouseenter', function (e) {
                var current = link.find('img:first'),
                    _self = current.get(0),
                    outerH = current.outerHeight(),
                    outerW = current.outerWidth(),
                    pos = current.position(),
                    linkCss = link.css('display'),
                    overlay = link.find('.image-overlay');

                if (outerH > 100) {

                    if (!overlay.length) {
                        overlay = $("<span class='image-overlay " + span_class + "'><span class='image-overlay-inside'></span></span>").appendTo(link);

                    }
                    //can be wrapped into if !overlay.length statement if chrome fixes fade in problem
                    if (link.height() == 0) {
                        link.addClass(_self.className);
                        _self.className = "";
                    }
                    if (!linkCss || linkCss == 'inline') {
                        link.css({display: 'block'});
                    }
                    //end wrap

                    overlay.css({
                        left: (pos.left - overlay_offset) + parseInt(current.css("margin-left"), 10),
                        top: pos.top + parseInt(current.css("margin-top"), 10)
                    })
                        .css({
                            overflow: 'hidden',
                            display: 'block',
                            'height': outerH,
                            'width': (outerW + (2 * overlay_offset))
                        });

                    if (cssTrans === false) overlay.stop().animate({opacity: opa}, 400);
                }
                else {
                    overlay.css({display: "none"});
                }

            }).on('mouseleave', elements, function () {

                if (overlay.length) {
                    if (cssTrans === false) overlay.stop().animate({opacity: 0}, 400);
                }
            });
        });
    }


// -------------------------------------------------------------------------------------------
// Smooth scrooling when clicking on anchor links
// todo: maybe use https://github.com/ryanburnette/scrollToBySpeed/blob/master/src/scrolltobyspeed.jquery.js in the future
// -------------------------------------------------------------------------------------------

    (function ($) {
        $.fn.avia_smoothscroll = function (apply_to_container) {
            if (!this.length) return;

            var the_win = $(window),
                $header = $('#header'),
                $main = $('.html_header_top.html_header_sticky #main').not('.page-template-template-blank-php #main'),
                $meta = $('.html_header_top.html_header_unstick_top_disabled #header_meta'),
                $alt = $('.html_header_top:not(.html_top_nav_header) #header_main_alternate'),
                shrink = $('.html_header_top.html_header_shrinking').length,
                fixedMainPadding = 0,
                isMobile = $.avia_utilities.isMobile,
                sticky_sub = $('.sticky_placeholder:first'),
                calc_main_padding = function () {
                    if ($header.css('position') == "fixed") {
                        var tempPadding = parseInt($main.data('scroll-offset'), 10) || 0,
                            non_shrinking = parseInt($meta.outerHeight(), 10) || 0,
                            non_shrinking2 = parseInt($alt.outerHeight(), 10) || 0;

                        if (tempPadding > 0 && shrink) {
                            tempPadding = (tempPadding / 2 ) + non_shrinking + non_shrinking2;
                        }
                        else {
                            tempPadding = tempPadding + non_shrinking + non_shrinking2;
                        }

                        tempPadding += parseInt($('html').css('margin-top'), 10);
                        fixedMainPadding = tempPadding;
                    }
                    else {
                        fixedMainPadding = parseInt($('html').css('margin-top'), 10);
                    }

                };

            if (isMobile) shrink = false;

            calc_main_padding();
            the_win.on("debouncedresize av-height-change", calc_main_padding);

            var hash = window.location.hash.replace(/\//g, "");

            //if a scroll event occurs at pageload and an anchor is set and a coresponding element exists apply the offset to the event
            if (fixedMainPadding > 0 && hash && apply_to_container == 'body' && hash.charAt(1) != "!" && hash.indexOf("=") === -1) {
                var scroll_to_el = $(hash), modifier = 0;

                if (scroll_to_el.length) {
                    the_win.on('scroll.avia_first_scroll', function () {
                        setTimeout(function () { //small delay so other scripts can perform necessary resizing
                            if (sticky_sub.length && scroll_to_el.offset().top > sticky_sub.offset().top) {
                                modifier = sticky_sub.outerHeight() - 3;
                            }
                            the_win.off('scroll.avia_first_scroll').scrollTop(scroll_to_el.offset().top - fixedMainPadding - modifier);
                        }, 10);
                    });
                }
            }

            return this.each(function () {
                $(this).click(function (e) {

                    var newHash = this.hash.replace(/\//g, ""),
                        clicked = $(this),
                        data = clicked.data();

                    if (newHash != '' && newHash != '#' && newHash != '#prev' && newHash != '#next' && !clicked.is('.comment-reply-link, #cancel-comment-reply-link, .no-scroll')) {
                        var container = "", originHash = "";

                        if ("#next-section" == newHash) {
                            originHash = newHash;
                            container = clicked.parents('.container_wrap:eq(0)').nextAll('.container_wrap:eq(0)');
                            newHash = '#' + container.attr('id');
                        }
                        else {
                            container = $(this.hash.replace(/\//g, ""));
                        }


                        if (container.length) {
                            var cur_offset = the_win.scrollTop(),
                                container_offset = container.offset().top,
                                target = container_offset - fixedMainPadding,
                                hash = window.location.hash,
                                hash = hash.replace(/\//g, ""),
                                oldLocation = window.location.href.replace(hash, ''),
                                newLocation = this,
                                duration = data.duration || 1200,
                                easing = data.easing || 'easeInOutQuint';

                            if (sticky_sub.length && container_offset > sticky_sub.offset().top) {
                                target -= sticky_sub.outerHeight() - 3;
                            }

                            // make sure it's the same location
                            if (oldLocation + newHash == newLocation || originHash) {
                                if (cur_offset != target) // if current pos and target are the same dont scroll
                                {
                                    if (!(cur_offset == 0 && target <= 0 )) // if we are at the top dont try to scroll to top or above
                                    {
                                        // animate to target and set the hash to the window.location after the animation
                                        $('html:not(:animated),body:not(:animated)').animate({scrollTop: target}, duration, easing, function () {

                                            // add new hash to the browser location
                                            //window.location.href=newLocation;
                                            if (window.history.replaceState)
                                                window.history.replaceState("", "", newHash);
                                        });
                                    }
                                }
                                // cancel default click action
                                e.preventDefault();
                            }
                        }
                    }
                });
            });
        };
    })(jQuery);


    // -------------------------------------------------------------------------------------------
    // iframe fix for firefox and ie so they get proper z index
    // -------------------------------------------------------------------------------------------
    function avia_iframe_fix(container) {
        var iframe = jQuery('iframe[src*="youtube.com"]:not(.av_youtube_frame)', container),
            youtubeEmbed = jQuery('iframe[src*="youtube.com"]:not(.av_youtube_frame) object, iframe[src*="youtube.com"]:not(.av_youtube_frame) embed', container).attr('wmode', 'opaque');

        iframe.each(function () {
            var current = jQuery(this),
                src = current.attr('src');

            if (src) {
                if (src.indexOf('?') !== -1) {
                    src += "&wmode=opaque";
                }
                else {
                    src += "?wmode=opaque";
                }

                current.attr('src', src);
            }
        });
    }

    // -------------------------------------------------------------------------------------------
    // small js fixes for pixel perfection :)
    // -------------------------------------------------------------------------------------------
    function avia_small_fixes(container) {
        if (!container) container = document;

        //make sure that iframes do resize correctly. uses css padding bottom iframe trick
        var win = jQuery(window),
            iframes = jQuery('.avia-iframe-wrap iframe:not(.avia-slideshow iframe):not( iframe.no_resize):not(.avia-video iframe)', container),
            adjust_iframes = function () {
                iframes.each(function () {

                    var iframe = jQuery(this), parent = iframe.parent(), proportions = 56.25;

                    if (this.width && this.height) {
                        proportions = (100 / this.width) * this.height;
                        parent.css({"padding-bottom": proportions + "%"});
                    }
                });
            };

        adjust_iframes();

    }

    // -------------------------------------------------------------------------------------------
    // Ligthbox activation
    // -------------------------------------------------------------------------------------------

    (function ($) {
        $.fn.avia_activate_lightbox = function (variables) {
            var defaults = {
                    groups: ['.avia-slideshow', '.avia-gallery', '.isotope', '.post-entry', '.sidebar', '#main', '.main_menu'],
                    autolinkElements: 'a.lightbox, a[rel^="prettyPhoto"], a[rel^="lightbox"], a[href$=jpg], a[href$=png], a[href$=gif], a[href$=jpeg], a[href*=".jpg?"], a[href*=".png?"], a[href*=".gif?"], a[href*=".jpeg?"], a[href$=".mov"] , a[href$=".swf"] , a:regex(href, .vimeo\.com/[0-9]) , a[href*="youtube.com/watch"] , a[href*="screenr.com"], a[href*="iframe=true"]',
                    videoElements: 'a[href$=".mov"] , a[href$=".swf"] , a:regex(href, .vimeo\.com/[0-9]) , a[href*="youtube.com/watch"] , a[href*="screenr.com"], a[href*="iframe=true"]',
                    exclude: '.noLightbox, .noLightbox a, .fakeLightbox, .lightbox-added, a[href*="dropbox.com"]',
                },

                options = $.extend({}, defaults, variables),

                av_popup = {
                    type: 'image',
                    mainClass: 'avia-popup mfp-zoom-in',
                    tLoading: '',
                    tClose: '',
                    removalDelay: 300, //delay removal by X to allow out-animation
                    closeBtnInside: true,
                    closeOnContentClick: false,
                    midClick: true,
                    fixedContentPos: false, // allows scrolling when lightbox is open but also removes any jumping because of scrollbar removal

                    image: {
                        titleSrc: function (item) {
                            var title = item.el.attr('title');
                            if (!title) title = item.el.find('img').attr('title');
                            if (!title) title = item.el.parent().next('.wp-caption-text').html();
                            if (typeof title == "undefined") return "";
                            return title;
                        }
                    },

                    gallery: {
                        // delegate: 	options.autolinkElements,
                        tPrev: '',
                        tNext: '',
                        tCounter: '%curr% / %total%',
                        enabled: true,
                        preload: [1, 1] // Will preload 1 - before current, and 1 after the current image
                    },

                    callbacks: {
                        beforeOpen: function () {
                            //add custom css class for different styling
                            if (this.st.el && this.st.el.data('fixed-content')) {
                                this.fixedContentPos = true;
                            }
                        },


                        open: function () {
                            //overwrite default prev + next function. Add timeout for css3 crossfade animation
                            $.magnificPopup.instance.next = function () {
                                var self = this;
                                self.wrap.removeClass('mfp-image-loaded');
                                setTimeout(function () {
                                    $.magnificPopup.proto.next.call(self);
                                }, 120);
                            }
                            $.magnificPopup.instance.prev = function () {
                                var self = this;
                                self.wrap.removeClass('mfp-image-loaded');
                                setTimeout(function () {
                                    $.magnificPopup.proto.prev.call(self);
                                }, 120);
                            }

                            //add custom css class for different styling
                            if (this.st.el && this.st.el.data('av-extra-class')) {
                                this.wrap.addClass(this.currItem.el.data('av-extra-class'));
                            }


                        },
                        imageLoadComplete: function () {
                            var self = this;
                            setTimeout(function () {
                                self.wrap.addClass('mfp-image-loaded');
                            }, 16);
                        },
                        change: function () {

                            if (this.currItem.el) {
                                var current = this.currItem.el;

                                this.content.find('.av-extra-modal-content, .av-extra-modal-markup').remove();

                                if (current.data('av-extra-content')) {
                                    var extra = current.data('av-extra-content');
                                    this.content.append("<div class='av-extra-modal-content'>" + extra + "</div>");
                                }

                                if (current.data('av-extra-markup')) {
                                    var markup = current.data('av-extra-markup');
                                    this.wrap.append("<div class='av-extra-modal-markup'>" + markup + "</div>");
                                }
                            }
                        },
                    }
                },

                active = !$('html').is('.av-custom-lightbox');

            if (!active) return this;

            return this.each(function () {
                var container = $(this),
                    videos = $(options.videoElements, this).not(options.exclude).addClass('mfp-iframe'), /*necessary class for the correct lightbox markup*/
                    ajaxed = !container.is('body') && !container.is('.ajax_slide');

                for (var i = 0; i < options.groups.length; i++) {
                    $(options.groups[i]).each(function () {
                        var links = $(options.autolinkElements, this);

                        if (ajaxed) links.removeClass('lightbox-added');
                        links.not(options.exclude).addClass('lightbox-added').magnificPopup(av_popup);
                    });
                }

            });
        }
    })(jQuery);


// -------------------------------------------------------------------------------------------
// Avia Menu
// -------------------------------------------------------------------------------------------

    (function ($) {
        $.fn.aviaMegamenu = function (variables) {
            var defaults =
            {
                modify_position: true,
                delay: 300
            };

            var options = $.extend(defaults, variables),
                win = $(window),
                width_select = $('html').is('.html_header_sidebar') ? "#main" : "#header",
                the_main = $(width_select + ' .container:first'),
                css_block = $("<style type='text/css' id='av-browser-width-mm'></style>").appendTo('head:first'),
                calc_dimensions = function () {
                    var css = "",
                        w_12 = Math.round(the_main.width());

                    css += " #header .three.units{width:" + ( w_12 * 0.25) + "px;}";
                    css += " #header .six.units{width:" + ( w_12 * 0.50) + "px;}";
                    css += " #header .nine.units{width:" + ( w_12 * 0.75) + "px;}";
                    css += " #header .twelve.units{width:" + ( w_12 ) + "px;}";

                    //ie8 needs different insert method
                    try {
                        css_block.text(css);
                    }
                    catch (err) {
                        css_block.remove();
                        css_block = $("<style type='text/css' id='av-browser-width-mm'>" + css + "</style>").appendTo('head:first');
                    }

                };

            if ($('.avia_mega_div').length > 0) {
                win.on('debouncedresize', calc_dimensions);
                calc_dimensions();
            }

            return this.each(function () {
                var the_html = $('html:first'),
                    main = $('#main .container:first'),
                    left_menu = the_html.filter('.html_menu_left, .html_logo_center').length,
                    isMobile = $.avia_utilities.isMobile,
                    menu = $(this),
                    menuItems = menu.find(">li:not(.ignore_menu)"),
                    megaItems = menuItems.find(">div").parent().css({overflow: 'hidden'}),
                    menuActive = menu.find('>.current-menu-item>a, >.current_page_item>a'),
                    dropdownItems = menuItems.find(">ul").parent(),
                    parentContainer = menu.parent(),
                    mainMenuParent = menu.parents('.main_menu').eq(0),
                    parentContainerWidth = parentContainer.width(),
                    delayCheck = {},
                    mega_open = [];


                if (!menuActive.length) {
                    menu.find('.current-menu-ancestor:eq(0) a:eq(0), .current_page_ancestor:eq(0) a:eq(0)').parent().addClass('active-parent-item')
                }
                if (!the_html.is('.html_header_top')) {
                    options.modify_position = false;
                }


                menuItems.on('click', 'a', function () {
                    if (this.href == window.location.href + "#" || this.href == window.location.href + "/#")
                        return false;
                });

                menuItems.each(function () {
                    var item = $(this),
                        pos = item.position(),
                        megaDiv = item.find("div:first").css({opacity: 0, display: "none"}),
                        normalDropdown = "";

                    //check if we got a mega menu
                    if (!megaDiv.length) {
                        normalDropdown = item.find(">ul").css({display: "none"});
                    }

                    //if we got a mega menu or dropdown menu add the arrow beside the menu item
                    if (megaDiv.length || normalDropdown.length) {
                        var link = item.addClass('dropdown_ul_available').find('>a');
                        link.append('<span class="dropdown_available"></span>');

                        //is a mega menu main item doesnt have a link to click use the default cursor
                        if (typeof link.attr('href') != 'string' || link.attr('href') == "#") {
                            link.css('cursor', 'default').click(function () {
                                return false;
                            });
                        }
                    }


                    //correct position of mega menus
                    if (options.modify_position && megaDiv.length) {
                        item.one('mouseenter', function () {
                            calc_offset(item, pos, megaDiv, parentContainerWidth)
                        });
                    }


                });


                function calc_offset(item, pos, megaDiv, parentContainerWidth) {
                    if (!left_menu) {
                        if (pos.left + megaDiv.width() < parentContainerWidth) {
                            megaDiv.css({right: -megaDiv.outerWidth() + item.outerWidth()});
                            //item.css({position:'static'});
                        }
                        else if (pos.left + megaDiv.width() > parentContainerWidth) {
                            megaDiv.css({right: -mainMenuParent.outerWidth() + (pos.left + item.outerWidth() )});
                        }
                    }
                    else {
                        if (megaDiv.width() > pos.left + item.outerWidth()) {
                            megaDiv.css({left: (pos.left * -1)});
                        }
                        else if (pos.left + megaDiv.width() > parentContainerWidth) {
                            megaDiv.css({left: (megaDiv.width() - pos.left) * -1});
                        }
                    }
                }

                function megaDivShow(i) {
                    if (delayCheck[i] == true) {
                        var item = megaItems.filter(':eq(' + i + ')').css({overflow: 'visible'}).find("div:first"),
                            link = megaItems.filter(':eq(' + i + ')').find("a:first");
                        mega_open["check" + i] = true;

                        item.stop().css('display', 'block').animate({opacity: 1}, 300);

                        if (item.length) {
                            link.addClass('open-mega-a');
                        }
                    }
                }

                function megaDivHide(i) {
                    if (delayCheck[i] == false) {
                        megaItems.filter(':eq(' + i + ')').find(">a").removeClass('open-mega-a');

                        var listItem = megaItems.filter(':eq(' + i + ')'),
                            item = listItem.find("div:first");


                        item.stop().css('display', 'block').animate({opacity: 0}, 300, function () {
                            $(this).css('display', 'none');
                            listItem.css({overflow: 'hidden'});
                            mega_open["check" + i] = false;
                        });
                    }
                }

                if (isMobile) {
                    megaItems.each(function (i) {

                        $(this).bind('click', function () {
                            if (mega_open["check" + i] != true) return false;
                        });
                    });
                }


                //bind event for mega menu
                megaItems.each(function (i) {

                    $(this).hover(
                        function () {
                            delayCheck[i] = true;
                            setTimeout(function () {
                                megaDivShow(i);
                            }, options.delay);
                        },

                        function () {
                            delayCheck[i] = false;
                            setTimeout(function () {
                                megaDivHide(i);
                            }, options.delay);
                        }
                    );
                });


                // bind events for dropdown menu
                dropdownItems.find('li').andSelf().each(function () {
                    var currentItem = $(this),
                        sublist = currentItem.find('ul:first'),
                        showList = false;

                    if (sublist.length) {
                        sublist.css({display: 'block', opacity: 0, visibility: 'hidden'});
                        var currentLink = currentItem.find('>a');

                        currentLink.bind('mouseenter', function () {
                            sublist.stop().css({visibility: 'visible'}).animate({opacity: 1});
                        });

                        currentItem.bind('mouseleave', function () {
                            sublist.stop().animate({opacity: 0}, function () {
                                sublist.css({visibility: 'hidden'});
                            });
                        });

                    }

                });

            });
        };
    })(jQuery);


// -------------------------------------------------------------------------------------------
//Portfolio sorting
// -------------------------------------------------------------------------------------------

    $.fn.avia_iso_sort = function (options) {
        return this.each(function () {
            var the_body = $('body'),
                container = $(this),
                portfolio_id = container.data('portfolio-id'),
                parentContainer = container.parents('.entry-content-wrapper, .avia-fullwidth-portfolio'),
                filter = parentContainer.find('.sort_width_container[data-portfolio-id="' + portfolio_id + '"]').find('#js_sort_items').css({
                    visibility: "visible",
                    opacity: 0
                }),
                links = filter.find('a'),
                imgParent = container.find('.grid-image'),
                isoActive = false,
                items = $('.post-entry', container);

            function applyIso() {
                container.addClass('isotope_activated').isotope({
                    layoutMode: 'fitRows', itemSelector: '.flex_column'
                });

                container.isotope('on', 'layoutComplete', function () {
                    container.css({overflow: 'visible'});
                    the_body.trigger('av_resize_finished');
                });

                isoActive = true;
                setTimeout(function () {
                    parentContainer.addClass('avia_sortable_active');
                }, 0);
            };

            links.bind('click', function () {
                var current = $(this),
                    selector = current.data('filter'),
                    linktext = current.html(),
                    activeCat = parentContainer.find('.av-current-sort-title');

                if (activeCat.length) activeCat.html(linktext);

                links.removeClass('active_sort');
                current.addClass('active_sort');
                container.attr('id', 'grid_id_' + selector);

                parentContainer.find('.open_container .ajax_controlls .avia_close').trigger('click');
                //container.css({overflow:'hidden'})
                container.isotope({layoutMode: 'fitRows', itemSelector: '.flex_column', filter: '.' + selector});

                return false;
            });

            // update columnWidth on window resize
            $(window).on('debouncedresize', function () {
                applyIso();
            });

            $.avia_utilities.preload({
                container: container, single_callback: function () {
                    filter.animate({opacity: 1}, 400);
                    applyIso();

                    //call a second time to for the initial resizing
                    setTimeout(function () {
                        applyIso();
                    });

                    imgParent.css({height: 'auto'}).each(function (i) {
                        var currentLink = $(this);

                        setTimeout(function () {
                            currentLink.animate({opacity: 1}, 1500);
                        }, (100 * i));
                    });
                }
            });

        });
    };


    function avia_sticky_submenu() {
        var win = $(window),
            html = $('html:first'),
            header = $('.html_header_top.html_header_sticky #header'),
            html_margin = parseInt($('html:first').css('margin-top'), 10),
            setWitdth = $('.html_header_sidebar #main, .boxed #main'),
            menus = $('.av-submenu-container'),
            bordermod = html.is('.html_minimal_header') ? 0 : 1,
            calc_margin = function () {
                html_margin = parseInt(html.css('margin-top'), 10);
                if (!$('.mobile_menu_toggle:visible').length) {
                    $('.av-open-submenu').removeClass('av-open-submenu');
                }
            },
            calc_values = function () {
                var content_width = setWitdth.width();
                html_margin = parseInt(html.css('margin-top'), 10);
                menus.width(content_width);

            },
            check = function (placeholder, no_timeout) {
                var menu_pos = this.offset().top,
                    top_pos = placeholder.offset().top,
                    scrolled = win.scrollTop(),
                    modifier = html_margin, fixed = false;


                if (header.length) modifier += header.outerHeight() + parseInt(header.css('margin-top'), 10);

                if (scrolled + modifier > top_pos) {
                    if (!fixed) {
                        this.css({top: modifier - bordermod, position: 'fixed'});
                        fixed = true
                    }
                }
                else {
                    this.css({top: 'auto', position: 'absolute'});
                    fixed = false
                }

            },
            toggle = function (e) {
                e.preventDefault();

                var clicked = $(this),
                    menu = clicked.siblings('.av-subnav-menu');

                if (menu.hasClass('av-open-submenu')) {
                    menu.removeClass('av-open-submenu');
                }
                else {
                    menu.addClass('av-open-submenu');
                }
            };

        win.on("debouncedresize av-height-change", calc_margin);
        calc_margin();

        if (setWitdth.length) {
            win.on("debouncedresize av-height-change", calc_values);
            calc_values();
        }

        $(".av-sticky-submenu").each(function () {
            var menu = $(this), placeholder = menu.next('.sticky_placeholder'), mobile_button = menu.find('.mobile_menu_toggle');
            win.on('scroll', function () {
                window.requestAnimationFrame($.proxy(check, menu, placeholder))
            });

            if (mobile_button.length) {
                mobile_button.on('click', toggle);
            }


        });

        html.on('click', '.av-submenu-hidden .av-open-submenu li a', function () {
            var current = $(this);

            var list_item = current.siblings('ul, .avia_mega_div');
            if (list_item.length) {
                if (list_item.hasClass('av-visible-sublist')) {
                    list_item.removeClass('av-visible-sublist');
                }
                else {
                    list_item.addClass('av-visible-sublist');
                }
                return false;
            }
        });

        $('.avia_mobile').on('click', '.av-menu-mobile-disabled li a', function () {
            var current = $(this);
            var list_item = current.siblings('ul');
            if (list_item.length) {
                if (list_item.hasClass('av-visible-mobile-sublist')) {

                }
                else {
                    $('.av-visible-mobile-sublist').removeClass('av-visible-mobile-sublist');
                    list_item.addClass('av-visible-mobile-sublist');
                    return false;
                }

            }
        });


    }


    function avia_sidebar_menu() {
        var win = $(window),
            main = $('#main'),
            sb_header = $('.html_header_sidebar #header_main'),
            sidebar = $('.html_header_sidebar #header.av_conditional_sticky');

        if (!sb_header.length) return;
        // main.css({"min-height":sb_header.outerHeight()});


        if (!sidebar.length) return;

        var innerSidebar = $('#header_main'),
            wrap = $('#wrap_all'),
            subtract = parseInt($('html').css('margin-top'), 10),
            calc_values = function () {
                if (innerSidebar.outerHeight() < win.height()) {
                    sidebar.addClass('av_always_sticky');
                }
                else {
                    sidebar.removeClass('av_always_sticky');
                }

                wrap.css({'min-height': win.height() - subtract});
            };

        calc_values();
        win.on("debouncedresize av-height-change", calc_values);
    }

    function av_change_class($element, change_method, class_name) {
        if ($element[0].classList) {
            if (change_method == "add") {
                $element[0].classList.add(class_name);
            }
            else {
                $element[0].classList.remove(class_name);
            }
        }
        else {
            if (change_method == "add") {
                $element.addClass(class_name);
            }
            else {
                $element.removeClass(class_name);
            }
        }
    }


    //check if the browser supports element rotation
    function avia_header_size() {
        var win = $(window),
            header = $('.html_header_top.html_header_sticky #header'),
            unsticktop = $('.av_header_unstick_top');

        if (!header.length && !unsticktop.length) return;

        var logo = $('#header_main .container .logo img, #header_main .container .logo a'),
            elements = $('#header_main .container:first, #header_main .main_menu ul:first-child > li > a:not(.avia_mega_div a, #header_main_alternate a), #header_main #menu-item-shop .cart_dropdown_link'),
            el_height = $(elements).filter(':first').height(),
            isMobile = $.avia_utilities.isMobile,
            scroll_top = $('#scroll-top-link'),
            transparent = header.is('.av_header_transparency'),
            shrinking = header.is('.av_header_shrinking'),
            topbar_height = header.find('#header_meta').outerHeight(),
            set_height = function () {
                var st = win.scrollTop(), newH = 0, st_real = st;

                if (unsticktop) st -= topbar_height;
                if (st < 0) st = 0;

                if (shrinking && !isMobile) {
                    if (st < el_height / 2) {
                        newH = el_height - st;
                        if (st <= 0) {
                            newH = el_height;
                        }

                        av_change_class(header, 'remove', 'header-scrolled');
                        //header.removeClass('header-scrolled');
                    }
                    else {
                        newH = el_height / 2;
                        //header.addClass('header-scrolled');
                        av_change_class(header, 'add', 'header-scrolled');
                    }

                    if (st - 30 < el_height) {
                        av_change_class(header, 'remove', 'header-scrolled-full');
                    }
                    else {
                        av_change_class(header, 'add', 'header-scrolled-full');
                    }


                    elements.css({'height': newH + 'px', 'lineHeight': newH + 'px'});
                    logo.css({'maxHeight': newH + 'px'});
                }

                if (unsticktop.length) {
                    if (st <= 0) {
                        if (st_real <= 0) st_real = 0;
                        unsticktop.css({"margin-top": "-" + st_real + "px"});
                    }
                    else {
                        unsticktop.css({"margin-top": "-" + topbar_height + "px"});
                    }
                }

                if (transparent) {
                    if (st > 50) {
                        //header.removeClass('av_header_transparency');
                        av_change_class(header, 'remove', 'av_header_transparency');
                    }
                    else {
                        //header.addClass('av_header_transparency');
                        av_change_class(header, 'add', 'av_header_transparency');
                    }
                }


            }

        if ($('body').is('.avia_deactivate_menu_resize')) shrinking = false;

        if (!transparent && !shrinking && !unsticktop.length) return;

        win.on('debouncedresize', function () {
            el_height = $(elements).attr('style', "").filter(':first').height();
            set_height();
        });
        win.on('scroll', function () {
            window.requestAnimationFrame(set_height)
        });
        set_height();
    }


    function avia_scroll_top_fade() {
        var win = $(window),
            timeo = false,
            scroll_top = $('#scroll-top-link'),
            set_status = function () {
                var st = win.scrollTop();

                if (st < 500) {
                    scroll_top.removeClass('avia_pop_class');
                }
                else if (!scroll_top.is('.avia_pop_class')) {
                    scroll_top.addClass('avia_pop_class');
                }
            };

        win.on('scroll', function () {
            window.requestAnimationFrame(set_status)
        });
        set_status();
    }


    $.AviaAjaxSearch = function (options) {
        var defaults = {
            delay: 300,                //delay in ms until the user stops typing.
            minChars: 3,               //dont start searching before we got at least that much characters
            scope: 'body'

        }

        this.options = $.extend({}, defaults, options);
        this.scope = $(this.options.scope);
        this.timer = false;
        this.lastVal = "";

        this.bind_events();
    }


    $.AviaAjaxSearch.prototype =
    {
        bind_events: function () {
            this.scope.on('keyup', '#s:not(".av_disable_ajax_search #s")', $.proxy(this.try_search, this));
        },

        try_search: function (e) {
            clearTimeout(this.timer);

            //only execute search if chars are at least "minChars" and search differs from last one
            if (e.currentTarget.value.length >= this.options.minChars && this.lastVal != $.trim(e.currentTarget.value)) {
                //wait at least "delay" miliseconds to execute ajax. if user types again during that time dont execute
                this.timer = setTimeout($.proxy(this.do_search, this, e), this.options.delay);
            }
        },

        do_search: function (e) {
            var obj = this,
                currentField = $(e.currentTarget).attr("autocomplete", "off"),
                form = currentField.parents('form:eq(0)'),
                results = form.find('.ajax_search_response'),
                loading = $('<div class="ajax_load"><span class="ajax_load_inner"></span></div>'),
                action = form.attr('action'),
                values = form.serialize();
            values += '&action=avia_ajax_search';

            //check if the form got get parameters applied and also apply them
            if (action.indexOf('?') != -1) {
                action = action.split('?');
                values += "&" + action[1];
            }

            if (!results.length) results = $('<div class="ajax_search_response"></div>').appendTo(form);

            //return if we already hit a no result and user is still typing
            if (results.find('.ajax_not_found').length && e.currentTarget.value.indexOf(this.lastVal) != -1) return;

            this.lastVal = e.currentTarget.value;

            $.ajax({
                url: avia_framework_globals.ajaxurl,
                type: "POST",
                data: values,
                beforeSend: function () {
                    loading.insertAfter(currentField);
                },
                success: function (response) {
                    if (response == 0) response = "";
                    results.html(response);
                },
                complete: function () {
                    loading.remove();
                }
            });
        }
    }


    $.AviaTooltip = function (options) {
        var defaults = {
            delay: 1500,                //delay in ms until the tooltip appears
            delayOut: 300,             	//delay in ms when instant showing should stop
            delayHide: 0,             	//delay hiding of tooltip in ms
            "class": "avia-tooltip",   	//tooltip classname for css styling and alignment
            scope: "body",             	//area the tooltip should be applied to
            data: "avia-tooltip",     	//data attribute that contains the tooltip text
            attach: "body",          	//either attach the tooltip to the "mouse" or to the "element" // todo: implement mouse, make sure that it doesnt overlap with screen borders
            event: 'mouseenter',       	//mousenter and leave or click and leave
            position: 'top',             //top or bottom
            extraClass: 'avia-tooltip-class', //extra class that is defined by a tooltip element data attribute
            permanent: false 			// always display the tooltip?

        }

        this.options = $.extend({}, defaults, options);
        this.body = $('body');
        this.scope = $(this.options.scope);
        this.tooltip = $('<div class="' + this.options['class'] + ' avia-tt"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></div>');
        this.inner = $('<div class="inner_tooltip"></div>').prependTo(this.tooltip);
        this.open = false;
        this.timer = false;
        this.active = false;

        this.bind_events();
    }

    $.AviaTooltip.openTTs = [];
    $.AviaTooltip.prototype =
    {
        bind_events: function () {
            var perma_tooltips = '.av-permanent-tooltip [data-' + this.options.data + ']',
                default_tooltips = '[data-' + this.options.data + ']:not( .av-permanent-tooltip [data-' + this.options.data + '])';

            this.scope.on('av_permanent_show', perma_tooltips, $.proxy(this.display_tooltip, this));
            $(perma_tooltips).addClass('av-perma-tooltip').trigger('av_permanent_show');


            this.scope.on(this.options.event + ' mouseleave', default_tooltips, $.proxy(this.start_countdown, this));

            if (this.options.event != 'click') {
                this.scope.on('mouseleave', default_tooltips, $.proxy(this.hide_tooltip, this));
            }
            else {
                this.body.on('mousedown', $.proxy(this.hide_tooltip, this));
            }

        },

        start_countdown: function (e) {
            clearTimeout(this.timer);

            if (e.type == this.options.event) {
                var delay = this.options.event == 'click' ? 0 : this.open ? 0 : this.options.delay;

                this.timer = setTimeout($.proxy(this.display_tooltip, this, e), delay);
            }
            else if (e.type == 'mouseleave') {
                this.timer = setTimeout($.proxy(this.stop_instant_open, this, e), this.options.delayOut);
            }
            e.preventDefault();
        },

        reset_countdown: function (e) {
            clearTimeout(this.timer);
            this.timer = false;
        },

        display_tooltip: function (e) {
            var target = this.options.event == "click" ? e.target : e.currentTarget,
                element = $(target),
                text = element.data(this.options.data),
                newTip = element.data('avia-created-tooltip'),
                extraClass = element.data('avia-tooltip-class'),
                attach = this.options.attach == 'element' ? element : this.body,
                offset = this.options.attach == 'element' ? element.position() : element.offset(),
                position = element.data('avia-tooltip-position'),
                align = element.data('avia-tooltip-alignment'),
                force_append = false;

            text = $.trim(text);

            if (element.is('.av-perma-tooltip')) {
                offset = {top: 0, left: 0};
                attach = element;
                force_append = true;
            }

            if (text == "") return;
            if (position == "" || typeof position == 'undefined') position = this.options.position;
            if (align == "" || typeof align == 'undefined') align = 'center';

            if (typeof newTip != 'undefined') {
                newTip = $.AviaTooltip.openTTs[newTip];
            }
            else {
                this.inner.html(text);
                newTip = this.tooltip.clone();

                if (this.options.attach == 'element' && force_append !== true) {
                    newTip.insertAfter(attach);
                }
                else {
                    newTip.appendTo(attach);
                }

                if (extraClass != "") newTip.addClass(extraClass);
            }

            this.open = true;
            this.active = newTip;

            if ((newTip.is(':animated:visible') && e.type == 'click') || element.is('.' + this.options['class']) || element.parents('.' + this.options['class']).length != 0) return;


            var animate1 = {}, animate2 = {}, pos1 = "", pos2 = "";

            if (position == "top" || position == "bottom") {
                switch (align) {
                    case "left":
                        pos2 = offset.left;
                        break;
                    case "right":
                        pos2 = offset.left + element.outerWidth() - newTip.outerWidth();
                        break;
                    default:
                        pos2 = (offset.left + (element.outerWidth() / 2)) - (newTip.outerWidth() / 2);
                        break;
                }
            }
            else {
                switch (align) {
                    case "top":
                        pos1 = offset.top;
                        break;
                    case "bottom":
                        pos1 = offset.top + element.outerHeight() - newTip.outerHeight();
                        break;
                    default:
                        pos1 = (offset.top + (element.outerHeight() / 2)) - (newTip.outerHeight() / 2);
                        break;
                }
            }

            switch (position) {
                case "top":
                    pos1 = offset.top - newTip.outerHeight();
                    animate1 = {top: pos1 - 10, left: pos2};
                    animate2 = {top: pos1};
                    break;
                case "bottom":
                    pos1 = offset.top + element.outerHeight();
                    animate1 = {top: pos1 + 10, left: pos2};
                    animate2 = {top: pos1};
                    break;
                case "left":
                    pos2 = offset.left - newTip.outerWidth();
                    animate1 = {top: pos1, left: pos2 - 10};
                    animate2 = {left: pos2};
                    break;
                case "right":
                    pos2 = offset.left + element.outerWidth();
                    animate1 = {top: pos1, left: pos2 + 10};
                    animate2 = {left: pos2};
                    break;
            }

            animate1['display'] = "block";
            animate1['opacity'] = 0;
            animate2['opacity'] = 1;


            newTip.css(animate1).stop().animate(animate2, 200);
            newTip.find('input, textarea').focus();
            $.AviaTooltip.openTTs.push(newTip);
            element.data('avia-created-tooltip', $.AviaTooltip.openTTs.length - 1);

        },

        hide_tooltip: function (e) {
            var element = $(e.currentTarget), newTip, animateTo,
                position = element.data('avia-tooltip-position'),
                align = element.data('avia-tooltip-alignment');

            if (position == "" || typeof position == 'undefined') position = this.options.position;
            if (align == "" || typeof align == 'undefined') align = 'center';

            if (this.options.event == 'click') {
                element = $(e.target);

                if (!element.is('.' + this.options['class']) && element.parents('.' + this.options['class']).length == 0) {
                    if (this.active.length) {
                        newTip = this.active;
                        this.active = false;
                    }
                }
            }
            else {
                newTip = element.data('avia-created-tooltip');
                newTip = typeof newTip != 'undefined' ? $.AviaTooltip.openTTs[newTip] : false;
            }

            if (newTip) {
                var animate = {opacity: 0};

                switch (position) {
                    case "top":
                        animate['top'] = parseInt(newTip.css('top'), 10) - 10;
                        break;
                    case "bottom":
                        animate['top'] = parseInt(newTip.css('top'), 10) + 10;
                        break;
                    case "left":
                        animate['left'] = parseInt(newTip.css('left'), 10) - 10;
                        break;
                    case "right":
                        animate['left'] = parseInt(newTip.css('left'), 10) + 10;
                        break;
                }

                newTip.animate(animate, 200, function () {
                    newTip.css({display: 'none'});
                });
            }
        },

        stop_instant_open: function (e) {
            this.open = false;
        }
    }


})(jQuery);


/*!
 * Isotope PACKAGED v2.0.0
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 */

(function (t) {
    function e() {
    }

    function i(t) {
        function i(e) {
            e.prototype.option || (e.prototype.option = function (e) {
                t.isPlainObject(e) && (this.options = t.extend(!0, this.options, e))
            })
        }

        function n(e, i) {
            t.fn[e] = function (n) {
                if ("string" == typeof n) {
                    for (var s = o.call(arguments, 1), a = 0, u = this.length; u > a; a++) {
                        var p = this[a], h = t.data(p, e);
                        if (h)if (t.isFunction(h[n]) && "_" !== n.charAt(0)) {
                            var f = h[n].apply(h, s);
                            if (void 0 !== f)return f
                        } else r("no such method '" + n + "' for " + e + " instance"); else r("cannot call methods on " + e + " prior to initialization; " + "attempted to call '" + n + "'")
                    }
                    return this
                }
                return this.each(function () {
                    var o = t.data(this, e);
                    o ? (o.option(n), o._init()) : (o = new i(this, n), t.data(this, e, o))
                })
            }
        }

        if (t) {
            var r = "undefined" == typeof console ? e : function (t) {
                console.error(t)
            };
            return t.bridget = function (t, e) {
                i(e), n(t, e)
            }, t.bridget
        }
    }

    var o = Array.prototype.slice;
    "function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], i) : i(t.jQuery)
})(window), function (t) {
    function e(e) {
        var i = t.event;
        return i.target = i.target || i.srcElement || e, i
    }

    var i = document.documentElement, o = function () {
    };
    i.addEventListener ? o = function (t, e, i) {
        t.addEventListener(e, i, !1)
    } : i.attachEvent && (o = function (t, i, o) {
        t[i + o] = o.handleEvent ? function () {
            var i = e(t);
            o.handleEvent.call(o, i)
        } : function () {
            var i = e(t);
            o.call(t, i)
        }, t.attachEvent("on" + i, t[i + o])
    });
    var n = function () {
    };
    i.removeEventListener ? n = function (t, e, i) {
        t.removeEventListener(e, i, !1)
    } : i.detachEvent && (n = function (t, e, i) {
        t.detachEvent("on" + e, t[e + i]);
        try {
            delete t[e + i]
        } catch (o) {
            t[e + i] = void 0
        }
    });
    var r = {bind: o, unbind: n};
    "function" == typeof define && define.amd ? define("eventie/eventie", r) : "object" == typeof exports ? module.exports = r : t.eventie = r
}(this), function (t) {
    function e(t) {
        "function" == typeof t && (e.isReady ? t() : r.push(t))
    }

    function i(t) {
        var i = "readystatechange" === t.type && "complete" !== n.readyState;
        if (!e.isReady && !i) {
            e.isReady = !0;
            for (var o = 0, s = r.length; s > o; o++) {
                var a = r[o];
                a()
            }
        }
    }

    function o(o) {
        return o.bind(n, "DOMContentLoaded", i), o.bind(n, "readystatechange", i), o.bind(t, "load", i), e
    }

    var n = t.document, r = [];
    e.isReady = !1, "function" == typeof define && define.amd ? (e.isReady = "function" == typeof requirejs, define("doc-ready/doc-ready", ["eventie/eventie"], o)) : t.docReady = o(t.eventie)
}(this), function () {
    function t() {
    }

    function e(t, e) {
        for (var i = t.length; i--;)if (t[i].listener === e)return i;
        return -1
    }

    function i(t) {
        return function () {
            return this[t].apply(this, arguments)
        }
    }

    var o = t.prototype, n = this, r = n.EventEmitter;
    o.getListeners = function (t) {
        var e, i, o = this._getEvents();
        if (t instanceof RegExp) {
            e = {};
            for (i in o)o.hasOwnProperty(i) && t.test(i) && (e[i] = o[i])
        } else e = o[t] || (o[t] = []);
        return e
    }, o.flattenListeners = function (t) {
        var e, i = [];
        for (e = 0; t.length > e; e += 1)i.push(t[e].listener);
        return i
    }, o.getListenersAsObject = function (t) {
        var e, i = this.getListeners(t);
        return i instanceof Array && (e = {}, e[t] = i), e || i
    }, o.addListener = function (t, i) {
        var o, n = this.getListenersAsObject(t), r = "object" == typeof i;
        for (o in n)n.hasOwnProperty(o) && -1 === e(n[o], i) && n[o].push(r ? i : {listener: i, once: !1});
        return this
    }, o.on = i("addListener"), o.addOnceListener = function (t, e) {
        return this.addListener(t, {listener: e, once: !0})
    }, o.once = i("addOnceListener"), o.defineEvent = function (t) {
        return this.getListeners(t), this
    }, o.defineEvents = function (t) {
        for (var e = 0; t.length > e; e += 1)this.defineEvent(t[e]);
        return this
    }, o.removeListener = function (t, i) {
        var o, n, r = this.getListenersAsObject(t);
        for (n in r)r.hasOwnProperty(n) && (o = e(r[n], i), -1 !== o && r[n].splice(o, 1));
        return this
    }, o.off = i("removeListener"), o.addListeners = function (t, e) {
        return this.manipulateListeners(!1, t, e)
    }, o.removeListeners = function (t, e) {
        return this.manipulateListeners(!0, t, e)
    }, o.manipulateListeners = function (t, e, i) {
        var o, n, r = t ? this.removeListener : this.addListener, s = t ? this.removeListeners : this.addListeners;
        if ("object" != typeof e || e instanceof RegExp)for (o = i.length; o--;)r.call(this, e, i[o]); else for (o in e)e.hasOwnProperty(o) && (n = e[o]) && ("function" == typeof n ? r.call(this, o, n) : s.call(this, o, n));
        return this
    }, o.removeEvent = function (t) {
        var e, i = typeof t, o = this._getEvents();
        if ("string" === i)delete o[t]; else if (t instanceof RegExp)for (e in o)o.hasOwnProperty(e) && t.test(e) && delete o[e]; else delete this._events;
        return this
    }, o.removeAllListeners = i("removeEvent"), o.emitEvent = function (t, e) {
        var i, o, n, r, s = this.getListenersAsObject(t);
        for (n in s)if (s.hasOwnProperty(n))for (o = s[n].length; o--;)i = s[n][o], i.once === !0 && this.removeListener(t, i.listener), r = i.listener.apply(this, e || []), r === this._getOnceReturnValue() && this.removeListener(t, i.listener);
        return this
    }, o.trigger = i("emitEvent"), o.emit = function (t) {
        var e = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(t, e)
    }, o.setOnceReturnValue = function (t) {
        return this._onceReturnValue = t, this
    }, o._getOnceReturnValue = function () {
        return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
    }, o._getEvents = function () {
        return this._events || (this._events = {})
    }, t.noConflict = function () {
        return n.EventEmitter = r, t
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function () {
        return t
    }) : "object" == typeof module && module.exports ? module.exports = t : this.EventEmitter = t
}.call(this), function (t) {
    function e(t) {
        if (t) {
            if ("string" == typeof o[t])return t;
            t = t.charAt(0).toUpperCase() + t.slice(1);
            for (var e, n = 0, r = i.length; r > n; n++)if (e = i[n] + t, "string" == typeof o[e])return e
        }
    }

    var i = "Webkit Moz ms Ms O".split(" "), o = document.documentElement.style;
    "function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function () {
        return e
    }) : "object" == typeof exports ? module.exports = e : t.getStyleProperty = e
}(window), function (t) {
    function e(t) {
        var e = parseFloat(t), i = -1 === t.indexOf("%") && !isNaN(e);
        return i && e
    }

    function i() {
        for (var t = {
            width: 0,
            height: 0,
            innerWidth: 0,
            innerHeight: 0,
            outerWidth: 0,
            outerHeight: 0
        }, e = 0, i = s.length; i > e; e++) {
            var o = s[e];
            t[o] = 0
        }
        return t
    }

    function o(t) {
        function o(t) {
            if ("string" == typeof t && (t = document.querySelector(t)), t && "object" == typeof t && t.nodeType) {
                var o = r(t);
                if ("none" === o.display)return i();
                var n = {};
                n.width = t.offsetWidth, n.height = t.offsetHeight;
                for (var h = n.isBorderBox = !(!p || !o[p] || "border-box" !== o[p]), f = 0, c = s.length; c > f; f++) {
                    var d = s[f], l = o[d];
                    l = a(t, l);
                    var y = parseFloat(l);
                    n[d] = isNaN(y) ? 0 : y
                }
                var m = n.paddingLeft + n.paddingRight, g = n.paddingTop + n.paddingBottom, v = n.marginLeft + n.marginRight, _ = n.marginTop + n.marginBottom, I = n.borderLeftWidth + n.borderRightWidth, L = n.borderTopWidth + n.borderBottomWidth, z = h && u, S = e(o.width);
                S !== !1 && (n.width = S + (z ? 0 : m + I));
                var b = e(o.height);
                return b !== !1 && (n.height = b + (z ? 0 : g + L)), n.innerWidth = n.width - (m + I), n.innerHeight = n.height - (g + L), n.outerWidth = n.width + v, n.outerHeight = n.height + _, n
            }
        }

        function a(t, e) {
            if (n || -1 === e.indexOf("%"))return e;
            var i = t.style, o = i.left, r = t.runtimeStyle, s = r && r.left;
            return s && (r.left = t.currentStyle.left), i.left = e, e = i.pixelLeft, i.left = o, s && (r.left = s), e
        }

        var u, p = t("boxSizing");
        return function () {
            if (p) {
                var t = document.createElement("div");
                t.style.width = "200px", t.style.padding = "1px 2px 3px 4px", t.style.borderStyle = "solid", t.style.borderWidth = "1px 2px 3px 4px", t.style[p] = "border-box";
                var i = document.body || document.documentElement;
                i.appendChild(t);
                var o = r(t);
                u = 200 === e(o.width), i.removeChild(t)
            }
        }(), o
    }

    var n = t.getComputedStyle, r = n ? function (t) {
        return n(t, null)
    } : function (t) {
        return t.currentStyle
    }, s = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
    "function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], o) : "object" == typeof exports ? module.exports = o(require("get-style-property")) : t.getSize = o(t.getStyleProperty)
}(window), function (t, e) {
    function i(t, e) {
        return t[a](e)
    }

    function o(t) {
        if (!t.parentNode) {
            var e = document.createDocumentFragment();
            e.appendChild(t)
        }
    }

    function n(t, e) {
        o(t);
        for (var i = t.parentNode.querySelectorAll(e), n = 0, r = i.length; r > n; n++)if (i[n] === t)return !0;
        return !1
    }

    function r(t, e) {
        return o(t), i(t, e)
    }

    var s, a = function () {
        if (e.matchesSelector)return "matchesSelector";
        for (var t = ["webkit", "moz", "ms", "o"], i = 0, o = t.length; o > i; i++) {
            var n = t[i], r = n + "MatchesSelector";
            if (e[r])return r
        }
    }();
    if (a) {
        var u = document.createElement("div"), p = i(u, "div");
        s = p ? i : r
    } else s = n;
    "function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function () {
        return s
    }) : window.matchesSelector = s
}(this, Element.prototype), function (t) {
    function e(t, e) {
        for (var i in e)t[i] = e[i];
        return t
    }

    function i(t) {
        for (var e in t)return !1;
        return e = null, !0
    }

    function o(t) {
        return t.replace(/([A-Z])/g, function (t) {
            return "-" + t.toLowerCase()
        })
    }

    function n(t, n, r) {
        function a(t, e) {
            t && (this.element = t, this.layout = e, this.position = {x: 0, y: 0}, this._create())
        }

        var u = r("transition"), p = r("transform"), h = u && p, f = !!r("perspective"), c = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "otransitionend",
            transition: "transitionend"
        }[u], d = ["transform", "transition", "transitionDuration", "transitionProperty"], l = function () {
            for (var t = {}, e = 0, i = d.length; i > e; e++) {
                var o = d[e], n = r(o);
                n && n !== o && (t[o] = n)
            }
            return t
        }();
        e(a.prototype, t.prototype), a.prototype._create = function () {
            this._transn = {ingProperties: {}, clean: {}, onEnd: {}}, this.css({position: "absolute"})
        }, a.prototype.handleEvent = function (t) {
            var e = "on" + t.type;
            this[e] && this[e](t)
        }, a.prototype.getSize = function () {
            this.size = n(this.element)
        }, a.prototype.css = function (t) {
            var e = this.element.style;
            for (var i in t) {
                var o = l[i] || i;
                e[o] = t[i]
            }
        }, a.prototype.getPosition = function () {
            var t = s(this.element), e = this.layout.options, i = e.isOriginLeft, o = e.isOriginTop, n = parseInt(t[i ? "left" : "right"], 10), r = parseInt(t[o ? "top" : "bottom"], 10);
            n = isNaN(n) ? 0 : n, r = isNaN(r) ? 0 : r;
            var a = this.layout.size;
            n -= i ? a.paddingLeft : a.paddingRight, r -= o ? a.paddingTop : a.paddingBottom, this.position.x = n, this.position.y = r
        }, a.prototype.layoutPosition = function () {
            var t = this.layout.size, e = this.layout.options, i = {};
            e.isOriginLeft ? (i.left = this.position.x + t.paddingLeft + "px", i.right = "") : (i.right = this.position.x + t.paddingRight + "px", i.left = ""), e.isOriginTop ? (i.top = this.position.y + t.paddingTop + "px", i.bottom = "") : (i.bottom = this.position.y + t.paddingBottom + "px", i.top = ""), this.css(i), this.emitEvent("layout", [this])
        };
        var y = f ? function (t, e) {
            return "translate3d(" + t + "px, " + e + "px, 0)"
        } : function (t, e) {
            return "translate(" + t + "px, " + e + "px)"
        };
        a.prototype._transitionTo = function (t, e) {
            this.getPosition();
            var i = this.position.x, o = this.position.y, n = parseInt(t, 10), r = parseInt(e, 10), s = n === this.position.x && r === this.position.y;
            if (this.setPosition(t, e), s && !this.isTransitioning)return this.layoutPosition(), void 0;
            var a = t - i, u = e - o, p = {}, h = this.layout.options;
            a = h.isOriginLeft ? a : -a, u = h.isOriginTop ? u : -u, p.transform = y(a, u), this.transition({
                to: p,
                onTransitionEnd: {transform: this.layoutPosition},
                isCleaning: !0
            })
        }, a.prototype.goTo = function (t, e) {
            this.setPosition(t, e), this.layoutPosition()
        }, a.prototype.moveTo = h ? a.prototype._transitionTo : a.prototype.goTo, a.prototype.setPosition = function (t, e) {
            this.position.x = parseInt(t, 10), this.position.y = parseInt(e, 10)
        }, a.prototype._nonTransition = function (t) {
            this.css(t.to), t.isCleaning && this._removeStyles(t.to);
            for (var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)
        }, a.prototype._transition = function (t) {
            if (!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(t), void 0;
            var e = this._transn;
            for (var i in t.onTransitionEnd)e.onEnd[i] = t.onTransitionEnd[i];
            for (i in t.to)e.ingProperties[i] = !0, t.isCleaning && (e.clean[i] = !0);
            if (t.from) {
                this.css(t.from);
                var o = this.element.offsetHeight;
                o = null
            }
            this.enableTransition(t.to), this.css(t.to), this.isTransitioning = !0
        };
        var m = p && o(p) + ",opacity";
        a.prototype.enableTransition = function () {
            this.isTransitioning || (this.css({
                transitionProperty: m,
                transitionDuration: this.layout.options.transitionDuration
            }), this.element.addEventListener(c, this, !1))
        }, a.prototype.transition = a.prototype[u ? "_transition" : "_nonTransition"], a.prototype.onwebkitTransitionEnd = function (t) {
            this.ontransitionend(t)
        }, a.prototype.onotransitionend = function (t) {
            this.ontransitionend(t)
        };
        var g = {"-webkit-transform": "transform", "-moz-transform": "transform", "-o-transform": "transform"};
        a.prototype.ontransitionend = function (t) {
            if (t.target === this.element) {
                var e = this._transn, o = g[t.propertyName] || t.propertyName;
                if (delete e.ingProperties[o], i(e.ingProperties) && this.disableTransition(), o in e.clean && (this.element.style[t.propertyName] = "", delete e.clean[o]), o in e.onEnd) {
                    var n = e.onEnd[o];
                    n.call(this), delete e.onEnd[o]
                }
                this.emitEvent("transitionEnd", [this])
            }
        }, a.prototype.disableTransition = function () {
            this.removeTransitionStyles(), this.element.removeEventListener(c, this, !1), this.isTransitioning = !1
        }, a.prototype._removeStyles = function (t) {
            var e = {};
            for (var i in t)e[i] = "";
            this.css(e)
        };
        var v = {transitionProperty: "", transitionDuration: ""};
        return a.prototype.removeTransitionStyles = function () {
            this.css(v)
        }, a.prototype.removeElem = function () {
            this.element.parentNode.removeChild(this.element), this.emitEvent("remove", [this])
        }, a.prototype.remove = function () {
            if (!u || !parseFloat(this.layout.options.transitionDuration))return this.removeElem(), void 0;
            var t = this;
            this.on("transitionEnd", function () {
                return t.removeElem(), !0
            }), this.hide()
        }, a.prototype.reveal = function () {
            delete this.isHidden, this.css({display: ""});
            var t = this.layout.options;
            this.transition({from: t.hiddenStyle, to: t.visibleStyle, isCleaning: !0})
        }, a.prototype.hide = function () {
            this.isHidden = !0, this.css({display: ""});
            var t = this.layout.options;
            this.transition({
                from: t.visibleStyle,
                to: t.hiddenStyle,
                isCleaning: !0,
                onTransitionEnd: {
                    opacity: function () {
                        this.isHidden && this.css({display: "none"})
                    }
                }
            })
        }, a.prototype.destroy = function () {
            this.css({position: "", left: "", right: "", top: "", bottom: "", transition: "", transform: ""})
        }, a
    }

    var r = t.getComputedStyle, s = r ? function (t) {
        return r(t, null)
    } : function (t) {
        return t.currentStyle
    };
    "function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property"], n) : (t.Outlayer = {}, t.Outlayer.Item = n(t.EventEmitter, t.getSize, t.getStyleProperty))
}(window), function (t) {
    function e(t, e) {
        for (var i in e)t[i] = e[i];
        return t
    }

    function i(t) {
        return "[object Array]" === f.call(t)
    }

    function o(t) {
        var e = [];
        if (i(t))e = t; else if (t && "number" == typeof t.length)for (var o = 0, n = t.length; n > o; o++)e.push(t[o]); else e.push(t);
        return e
    }

    function n(t, e) {
        var i = d(e, t);
        -1 !== i && e.splice(i, 1)
    }

    function r(t) {
        return t.replace(/(.)([A-Z])/g, function (t, e, i) {
            return e + "-" + i
        }).toLowerCase()
    }

    function s(i, s, f, d, l, y) {
        function m(t, i) {
            if ("string" == typeof t && (t = a.querySelector(t)), !t || !c(t))return u && u.error("Bad " + this.constructor.namespace + " element: " + t), void 0;
            this.element = t, this.options = e({}, this.constructor.defaults), this.option(i);
            var o = ++g;
            this.element.outlayerGUID = o, v[o] = this, this._create(), this.options.isInitLayout && this.layout()
        }

        var g = 0, v = {};
        return m.namespace = "outlayer", m.Item = y, m.defaults = {
            containerStyle: {position: "relative"},
            isInitLayout: !0,
            isOriginLeft: !0,
            isOriginTop: !0,
            isResizeBound: !0,
            isResizingContainer: !0,
            transitionDuration: "0.4s",
            hiddenStyle: {opacity: 0, transform: "scale(0.001)"},
            visibleStyle: {opacity: 1, transform: "scale(1)"}
        }, e(m.prototype, f.prototype), m.prototype.option = function (t) {
            e(this.options, t)
        }, m.prototype._create = function () {
            this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), e(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
        }, m.prototype.reloadItems = function () {
            this.items = this._itemize(this.element.children)
        }, m.prototype._itemize = function (t) {
            for (var e = this._filterFindItemElements(t), i = this.constructor.Item, o = [], n = 0, r = e.length; r > n; n++) {
                var s = e[n], a = new i(s, this);
                o.push(a)
            }
            return o
        }, m.prototype._filterFindItemElements = function (t) {
            t = o(t);
            for (var e = this.options.itemSelector, i = [], n = 0, r = t.length; r > n; n++) {
                var s = t[n];
                if (c(s))if (e) {
                    l(s, e) && i.push(s);
                    for (var a = s.querySelectorAll(e), u = 0, p = a.length; p > u; u++)i.push(a[u])
                } else i.push(s)
            }
            return i
        }, m.prototype.getItemElements = function () {
            for (var t = [], e = 0, i = this.items.length; i > e; e++)t.push(this.items[e].element);
            return t
        }, m.prototype.layout = function () {
            this._resetLayout(), this._manageStamps();
            var t = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
            this.layoutItems(this.items, t), this._isLayoutInited = !0
        }, m.prototype._init = m.prototype.layout, m.prototype._resetLayout = function () {
            this.getSize()
        }, m.prototype.getSize = function () {
            this.size = d(this.element)
        }, m.prototype._getMeasurement = function (t, e) {
            var i, o = this.options[t];
            o ? ("string" == typeof o ? i = this.element.querySelector(o) : c(o) && (i = o), this[t] = i ? d(i)[e] : o) : this[t] = 0
        }, m.prototype.layoutItems = function (t, e) {
            t = this._getItemsForLayout(t), this._layoutItems(t, e), this._postLayout()
        }, m.prototype._getItemsForLayout = function (t) {
            for (var e = [], i = 0, o = t.length; o > i; i++) {
                var n = t[i];
                n.isIgnored || e.push(n)
            }
            return e
        }, m.prototype._layoutItems = function (t, e) {
            function i() {
                o.emitEvent("layoutComplete", [o, t])
            }

            var o = this;
            if (!t || !t.length)return i(), void 0;
            this._itemsOn(t, "layout", i);
            for (var n = [], r = 0, s = t.length; s > r; r++) {
                var a = t[r], u = this._getItemLayoutPosition(a);
                u.item = a, u.isInstant = e || a.isLayoutInstant, n.push(u)
            }
            this._processLayoutQueue(n)
        }, m.prototype._getItemLayoutPosition = function () {
            return {x: 0, y: 0}
        }, m.prototype._processLayoutQueue = function (t) {
            for (var e = 0, i = t.length; i > e; e++) {
                var o = t[e];
                this._positionItem(o.item, o.x, o.y, o.isInstant)
            }
        }, m.prototype._positionItem = function (t, e, i, o) {
            o ? t.goTo(e, i) : t.moveTo(e, i)
        }, m.prototype._postLayout = function () {
            this.resizeContainer()
        }, m.prototype.resizeContainer = function () {
            if (this.options.isResizingContainer) {
                var t = this._getContainerSize();
                t && (this._setContainerMeasure(t.width, !0), this._setContainerMeasure(t.height, !1))
            }
        }, m.prototype._getContainerSize = h, m.prototype._setContainerMeasure = function (t, e) {
            if (void 0 !== t) {
                var i = this.size;
                i.isBorderBox && (t += e ? i.paddingLeft + i.paddingRight + i.borderLeftWidth + i.borderRightWidth : i.paddingBottom + i.paddingTop + i.borderTopWidth + i.borderBottomWidth), t = Math.max(t, 0), this.element.style[e ? "width" : "height"] = t + "px"
            }
        }, m.prototype._itemsOn = function (t, e, i) {
            function o() {
                return n++, n === r && i.call(s), !0
            }

            for (var n = 0, r = t.length, s = this, a = 0, u = t.length; u > a; a++) {
                var p = t[a];
                p.on(e, o)
            }
        }, m.prototype.ignore = function (t) {
            var e = this.getItem(t);
            e && (e.isIgnored = !0)
        }, m.prototype.unignore = function (t) {
            var e = this.getItem(t);
            e && delete e.isIgnored
        }, m.prototype.stamp = function (t) {
            if (t = this._find(t)) {
                this.stamps = this.stamps.concat(t);
                for (var e = 0, i = t.length; i > e; e++) {
                    var o = t[e];
                    this.ignore(o)
                }
            }
        }, m.prototype.unstamp = function (t) {
            if (t = this._find(t))for (var e = 0, i = t.length; i > e; e++) {
                var o = t[e];
                n(o, this.stamps), this.unignore(o)
            }
        }, m.prototype._find = function (t) {
            return t ? ("string" == typeof t && (t = this.element.querySelectorAll(t)), t = o(t)) : void 0
        }, m.prototype._manageStamps = function () {
            if (this.stamps && this.stamps.length) {
                this._getBoundingRect();
                for (var t = 0, e = this.stamps.length; e > t; t++) {
                    var i = this.stamps[t];
                    this._manageStamp(i)
                }
            }
        }, m.prototype._getBoundingRect = function () {
            var t = this.element.getBoundingClientRect(), e = this.size;
            this._boundingRect = {
                left: t.left + e.paddingLeft + e.borderLeftWidth,
                top: t.top + e.paddingTop + e.borderTopWidth,
                right: t.right - (e.paddingRight + e.borderRightWidth),
                bottom: t.bottom - (e.paddingBottom + e.borderBottomWidth)
            }
        }, m.prototype._manageStamp = h, m.prototype._getElementOffset = function (t) {
            var e = t.getBoundingClientRect(), i = this._boundingRect, o = d(t), n = {
                left: e.left - i.left - o.marginLeft,
                top: e.top - i.top - o.marginTop,
                right: i.right - e.right - o.marginRight,
                bottom: i.bottom - e.bottom - o.marginBottom
            };
            return n
        }, m.prototype.handleEvent = function (t) {
            var e = "on" + t.type;
            this[e] && this[e](t)
        }, m.prototype.bindResize = function () {
            this.isResizeBound || (i.bind(t, "resize", this), this.isResizeBound = !0)
        }, m.prototype.unbindResize = function () {
            this.isResizeBound && i.unbind(t, "resize", this), this.isResizeBound = !1
        }, m.prototype.onresize = function () {
            function t() {
                e.resize(), delete e.resizeTimeout
            }

            this.resizeTimeout && clearTimeout(this.resizeTimeout);
            var e = this;
            this.resizeTimeout = setTimeout(t, 100)
        }, m.prototype.resize = function () {
            this.isResizeBound && this.needsResizeLayout() && this.layout()
        }, m.prototype.needsResizeLayout = function () {
            var t = d(this.element), e = this.size && t;
            return e && t.innerWidth !== this.size.innerWidth
        }, m.prototype.addItems = function (t) {
            var e = this._itemize(t);
            return e.length && (this.items = this.items.concat(e)), e
        }, m.prototype.appended = function (t) {
            var e = this.addItems(t);
            e.length && (this.layoutItems(e, !0), this.reveal(e))
        }, m.prototype.prepended = function (t) {
            var e = this._itemize(t);
            if (e.length) {
                var i = this.items.slice(0);
                this.items = e.concat(i), this._resetLayout(), this._manageStamps(), this.layoutItems(e, !0), this.reveal(e), this.layoutItems(i)
            }
        }, m.prototype.reveal = function (t) {
            var e = t && t.length;
            if (e)for (var i = 0; e > i; i++) {
                var o = t[i];
                o.reveal()
            }
        }, m.prototype.hide = function (t) {
            var e = t && t.length;
            if (e)for (var i = 0; e > i; i++) {
                var o = t[i];
                o.hide()
            }
        }, m.prototype.getItem = function (t) {
            for (var e = 0, i = this.items.length; i > e; e++) {
                var o = this.items[e];
                if (o.element === t)return o
            }
        }, m.prototype.getItems = function (t) {
            if (t && t.length) {
                for (var e = [], i = 0, o = t.length; o > i; i++) {
                    var n = t[i], r = this.getItem(n);
                    r && e.push(r)
                }
                return e
            }
        }, m.prototype.remove = function (t) {
            t = o(t);
            var e = this.getItems(t);
            if (e && e.length) {
                this._itemsOn(e, "remove", function () {
                    this.emitEvent("removeComplete", [this, e])
                });
                for (var i = 0, r = e.length; r > i; i++) {
                    var s = e[i];
                    s.remove(), n(s, this.items)
                }
            }
        }, m.prototype.destroy = function () {
            var t = this.element.style;
            t.height = "", t.position = "", t.width = "";
            for (var e = 0, i = this.items.length; i > e; e++) {
                var o = this.items[e];
                o.destroy()
            }
            this.unbindResize(), delete this.element.outlayerGUID, p && p.removeData(this.element, this.constructor.namespace)
        }, m.data = function (t) {
            var e = t && t.outlayerGUID;
            return e && v[e]
        }, m.create = function (t, i) {
            function o() {
                m.apply(this, arguments)
            }

            return Object.create ? o.prototype = Object.create(m.prototype) : e(o.prototype, m.prototype), o.prototype.constructor = o, o.defaults = e({}, m.defaults), e(o.defaults, i), o.prototype.settings = {}, o.namespace = t, o.data = m.data, o.Item = function () {
                y.apply(this, arguments)
            }, o.Item.prototype = new y, s(function () {
                for (var e = r(t), i = a.querySelectorAll(".js-" + e), n = "data-" + e + "-options", s = 0, h = i.length; h > s; s++) {
                    var f, c = i[s], d = c.getAttribute(n);
                    try {
                        f = d && JSON.parse(d)
                    } catch (l) {
                        u && u.error("Error parsing " + n + " on " + c.nodeName.toLowerCase() + (c.id ? "#" + c.id : "") + ": " + l);
                        continue
                    }
                    var y = new o(c, f);
                    p && p.data(c, t, y)
                }
            }), p && p.bridget && p.bridget(t, o), o
        }, m.Item = y, m
    }

    var a = t.document, u = t.console, p = t.jQuery, h = function () {
    }, f = Object.prototype.toString, c = "object" == typeof HTMLElement ? function (t) {
        return t instanceof HTMLElement
    } : function (t) {
        return t && "object" == typeof t && 1 === t.nodeType && "string" == typeof t.nodeName
    }, d = Array.prototype.indexOf ? function (t, e) {
        return t.indexOf(e)
    } : function (t, e) {
        for (var i = 0, o = t.length; o > i; i++)if (t[i] === e)return i;
        return -1
    };
    "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "doc-ready/doc-ready", "eventEmitter/EventEmitter", "get-size/get-size", "matches-selector/matches-selector", "./item"], s) : t.Outlayer = s(t.eventie, t.docReady, t.EventEmitter, t.getSize, t.matchesSelector, t.Outlayer.Item)
}(window), function (t) {
    function e(t) {
        function e() {
            t.Item.apply(this, arguments)
        }

        return e.prototype = new t.Item, e.prototype._create = function () {
            this.id = this.layout.itemGUID++, t.Item.prototype._create.call(this), this.sortData = {}
        }, e.prototype.updateSortData = function () {
            if (!this.isIgnored) {
                this.sortData.id = this.id, this.sortData["original-order"] = this.id, this.sortData.random = Math.random();
                var t = this.layout.options.getSortData, e = this.layout._sorters;
                for (var i in t) {
                    var o = e[i];
                    this.sortData[i] = o(this.element, this)
                }
            }
        }, e
    }

    "function" == typeof define && define.amd ? define("isotope/js/item", ["outlayer/outlayer"], e) : (t.Isotope = t.Isotope || {}, t.Isotope.Item = e(t.Outlayer))
}(window), function (t) {
    function e(t, e) {
        function i(t) {
            this.isotope = t, t && (this.options = t.options[this.namespace], this.element = t.element, this.items = t.filteredItems, this.size = t.size)
        }

        return function () {
            function t(t) {
                return function () {
                    return e.prototype[t].apply(this.isotope, arguments)
                }
            }

            for (var o = ["_resetLayout", "_getItemLayoutPosition", "_manageStamp", "_getContainerSize", "_getElementOffset", "needsResizeLayout"], n = 0, r = o.length; r > n; n++) {
                var s = o[n];
                i.prototype[s] = t(s)
            }
        }(), i.prototype.needsVerticalResizeLayout = function () {
            var e = t(this.isotope.element), i = this.isotope.size && e;
            return i && e.innerHeight !== this.isotope.size.innerHeight
        }, i.prototype._getMeasurement = function () {
            this.isotope._getMeasurement.apply(this, arguments)
        }, i.prototype.getColumnWidth = function () {
            this.getSegmentSize("column", "Width")
        }, i.prototype.getRowHeight = function () {
            this.getSegmentSize("row", "Height")
        }, i.prototype.getSegmentSize = function (t, e) {
            var i = t + e, o = "outer" + e;
            if (this._getMeasurement(i, o), !this[i]) {
                var n = this.getFirstItemSize();
                this[i] = n && n[o] || this.isotope.size["inner" + e]
            }
        }, i.prototype.getFirstItemSize = function () {
            var e = this.isotope.filteredItems[0];
            return e && e.element && t(e.element)
        }, i.prototype.layout = function () {
            this.isotope.layout.apply(this.isotope, arguments)
        }, i.prototype.getSize = function () {
            this.isotope.getSize(), this.size = this.isotope.size
        }, i.modes = {}, i.create = function (t, e) {
            function o() {
                i.apply(this, arguments)
            }

            return o.prototype = new i, e && (o.options = e), o.prototype.namespace = t, i.modes[t] = o, o
        }, i
    }

    "function" == typeof define && define.amd ? define("isotope/js/layout-mode", ["get-size/get-size", "outlayer/outlayer"], e) : (t.Isotope = t.Isotope || {}, t.Isotope.LayoutMode = e(t.getSize, t.Outlayer))
}(window), function (t) {
    function e(t, e) {
        var o = t.create("masonry");
        return o.prototype._resetLayout = function () {
            this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
            var t = this.cols;
            for (this.colYs = []; t--;)this.colYs.push(0);
            this.maxY = 0
        }, o.prototype.measureColumns = function () {
            if (this.getContainerWidth(), !this.columnWidth) {
                var t = this.items[0], i = t && t.element;
                this.columnWidth = i && e(i).outerWidth || this.containerWidth
            }
            this.columnWidth += this.gutter, this.cols = Math.floor((this.containerWidth + this.gutter) / this.columnWidth), this.cols = Math.max(this.cols, 1)
        }, o.prototype.getContainerWidth = function () {
            var t = this.options.isFitWidth ? this.element.parentNode : this.element, i = e(t);
            this.containerWidth = i && i.innerWidth
        }, o.prototype._getItemLayoutPosition = function (t) {
            t.getSize();
            var e = t.size.outerWidth % this.columnWidth, o = e && 1 > e ? "round" : "ceil", n = Math[o](t.size.outerWidth / this.columnWidth);
            n = Math.min(n, this.cols);
            for (var r = this._getColGroup(n), s = Math.min.apply(Math, r), a = i(r, s), u = {
                x: this.columnWidth * a,
                y: s
            }, p = s + t.size.outerHeight, h = this.cols + 1 - r.length, f = 0; h > f; f++)this.colYs[a + f] = p;
            return u
        }, o.prototype._getColGroup = function (t) {
            if (2 > t)return this.colYs;
            for (var e = [], i = this.cols + 1 - t, o = 0; i > o; o++) {
                var n = this.colYs.slice(o, o + t);
                e[o] = Math.max.apply(Math, n)
            }
            return e
        }, o.prototype._manageStamp = function (t) {
            var i = e(t), o = this._getElementOffset(t), n = this.options.isOriginLeft ? o.left : o.right, r = n + i.outerWidth, s = Math.floor(n / this.columnWidth);
            s = Math.max(0, s);
            var a = Math.floor(r / this.columnWidth);
            a -= r % this.columnWidth ? 0 : 1, a = Math.min(this.cols - 1, a);
            for (var u = (this.options.isOriginTop ? o.top : o.bottom) + i.outerHeight, p = s; a >= p; p++)this.colYs[p] = Math.max(u, this.colYs[p])
        }, o.prototype._getContainerSize = function () {
            this.maxY = Math.max.apply(Math, this.colYs);
            var t = {height: this.maxY};
            return this.options.isFitWidth && (t.width = this._getContainerFitWidth()), t
        }, o.prototype._getContainerFitWidth = function () {
            for (var t = 0, e = this.cols; --e && 0 === this.colYs[e];)t++;
            return (this.cols - t) * this.columnWidth - this.gutter
        }, o.prototype.needsResizeLayout = function () {
            var t = this.containerWidth;
            return this.getContainerWidth(), t !== this.containerWidth
        }, o
    }

    var i = Array.prototype.indexOf ? function (t, e) {
        return t.indexOf(e)
    } : function (t, e) {
        for (var i = 0, o = t.length; o > i; i++) {
            var n = t[i];
            if (n === e)return i
        }
        return -1
    };
    "function" == typeof define && define.amd ? define("masonry/masonry", ["outlayer/outlayer", "get-size/get-size"], e) : t.Masonry = e(t.Outlayer, t.getSize)
}(window), function (t) {
    function e(t, e) {
        for (var i in e)t[i] = e[i];
        return t
    }

    function i(t, i) {
        var o = t.create("masonry"), n = o.prototype._getElementOffset, r = o.prototype.layout, s = o.prototype._getMeasurement;
        e(o.prototype, i.prototype), o.prototype._getElementOffset = n, o.prototype.layout = r, o.prototype._getMeasurement = s;
        var a = o.prototype.measureColumns;
        o.prototype.measureColumns = function () {
            this.items = this.isotope.filteredItems, a.call(this)
        };
        var u = o.prototype._manageStamp;
        return o.prototype._manageStamp = function () {
            this.options.isOriginLeft = this.isotope.options.isOriginLeft, this.options.isOriginTop = this.isotope.options.isOriginTop, u.apply(this, arguments)
        }, o
    }

    "function" == typeof define && define.amd ? define("isotope/js/layout-modes/masonry", ["../layout-mode", "masonry/masonry"], i) : i(t.Isotope.LayoutMode, t.Masonry)
}(window), function (t) {
    function e(t) {
        var e = t.create("fitRows");
        return e.prototype._resetLayout = function () {
            this.x = 0, this.y = 0, this.maxY = 0
        }, e.prototype._getItemLayoutPosition = function (t) {
            t.getSize(), 0 !== this.x && t.size.outerWidth + this.x > this.isotope.size.innerWidth && (this.x = 0, this.y = this.maxY);
            var e = {x: this.x, y: this.y};
            return this.maxY = Math.max(this.maxY, this.y + t.size.outerHeight), this.x += t.size.outerWidth, e
        }, e.prototype._getContainerSize = function () {
            return {height: this.maxY}
        }, e
    }

    "function" == typeof define && define.amd ? define("isotope/js/layout-modes/fit-rows", ["../layout-mode"], e) : e(t.Isotope.LayoutMode)
}(window), function (t) {
    function e(t) {
        var e = t.create("vertical", {horizontalAlignment: 0});
        return e.prototype._resetLayout = function () {
            this.y = 0
        }, e.prototype._getItemLayoutPosition = function (t) {
            t.getSize();
            var e = (this.isotope.size.innerWidth - t.size.outerWidth) * this.options.horizontalAlignment, i = this.y;
            return this.y += t.size.outerHeight, {x: e, y: i}
        }, e.prototype._getContainerSize = function () {
            return {height: this.y}
        }, e
    }

    "function" == typeof define && define.amd ? define("isotope/js/layout-modes/vertical", ["../layout-mode"], e) : e(t.Isotope.LayoutMode)
}(window), function (t) {
    function e(t, e) {
        for (var i in e)t[i] = e[i];
        return t
    }

    function i(t) {
        return "[object Array]" === h.call(t)
    }

    function o(t) {
        var e = [];
        if (i(t))e = t; else if (t && "number" == typeof t.length)for (var o = 0, n = t.length; n > o; o++)e.push(t[o]); else e.push(t);
        return e
    }

    function n(t, e) {
        var i = f(e, t);
        -1 !== i && e.splice(i, 1)
    }

    function r(t, i, r, u, h) {
        function f(t, e) {
            return function (i, o) {
                for (var n = 0, r = t.length; r > n; n++) {
                    var s = t[n], a = i.sortData[s], u = o.sortData[s];
                    if (a > u || u > a) {
                        var p = void 0 !== e[s] ? e[s] : e, h = p ? 1 : -1;
                        return (a > u ? 1 : -1) * h
                    }
                }
                return 0
            }
        }

        var c = t.create("isotope", {layoutMode: "masonry", isJQueryFiltering: !0, sortAscending: !0});
        c.Item = u, c.LayoutMode = h, c.prototype._create = function () {
            this.itemGUID = 0, this._sorters = {}, this._getSorters(), t.prototype._create.call(this), this.modes = {}, this.filteredItems = this.items, this.sortHistory = ["original-order"];
            for (var e in h.modes)this._initLayoutMode(e)
        }, c.prototype.reloadItems = function () {
            this.itemGUID = 0, t.prototype.reloadItems.call(this)
        }, c.prototype._itemize = function () {
            for (var e = t.prototype._itemize.apply(this, arguments), i = 0, o = e.length; o > i; i++) {
                var n = e[i];
                n.id = this.itemGUID++
            }
            return this._updateItemsSortData(e), e
        }, c.prototype._initLayoutMode = function (t) {
            var i = h.modes[t], o = this.options[t] || {};
            this.options[t] = i.options ? e(i.options, o) : o, this.modes[t] = new i(this)
        }, c.prototype.layout = function () {
            return !this._isLayoutInited && this.options.isInitLayout ? (this.arrange(), void 0) : (this._layout(), void 0)
        }, c.prototype._layout = function () {
            var t = this._getIsInstant();
            this._resetLayout(), this._manageStamps(), this.layoutItems(this.filteredItems, t), this._isLayoutInited = !0
        }, c.prototype.arrange = function (t) {
            this.option(t), this._getIsInstant(), this.filteredItems = this._filter(this.items), this._sort(), this._layout()
        }, c.prototype._init = c.prototype.arrange, c.prototype._getIsInstant = function () {
            var t = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
            return this._isInstant = t, t
        }, c.prototype._filter = function (t) {
            function e() {
                f.reveal(n), f.hide(r)
            }

            var i = this.options.filter;
            i = i || "*";
            for (var o = [], n = [], r = [], s = this._getFilterTest(i), a = 0, u = t.length; u > a; a++) {
                var p = t[a];
                if (!p.isIgnored) {
                    var h = s(p);
                    h && o.push(p), h && p.isHidden ? n.push(p) : h || p.isHidden || r.push(p)
                }
            }
            var f = this;
            return this._isInstant ? this._noTransition(e) : e(), o
        }, c.prototype._getFilterTest = function (t) {
            return s && this.options.isJQueryFiltering ? function (e) {
                return s(e.element).is(t)
            } : "function" == typeof t ? function (e) {
                return t(e.element)
            } : function (e) {
                return r(e.element, t)
            }
        }, c.prototype.updateSortData = function (t) {
            this._getSorters(), t = o(t);
            var e = this.getItems(t);
            e = e.length ? e : this.items, this._updateItemsSortData(e)
        }, c.prototype._getSorters = function () {
            var t = this.options.getSortData;
            for (var e in t) {
                var i = t[e];
                this._sorters[e] = d(i)
            }
        }, c.prototype._updateItemsSortData = function (t) {
            for (var e = 0, i = t.length; i > e; e++) {
                var o = t[e];
                o.updateSortData()
            }
        };
        var d = function () {
            function t(t) {
                if ("string" != typeof t)return t;
                var i = a(t).split(" "), o = i[0], n = o.match(/^\[(.+)\]$/), r = n && n[1], s = e(r, o), u = c.sortDataParsers[i[1]];
                return t = u ? function (t) {
                    return t && u(s(t))
                } : function (t) {
                    return t && s(t)
                }
            }

            function e(t, e) {
                var i;
                return i = t ? function (e) {
                    return e.getAttribute(t)
                } : function (t) {
                    var i = t.querySelector(e);
                    return i && p(i)
                }
            }

            return t
        }();
        c.sortDataParsers = {
            parseInt: function (t) {
                return parseInt(t, 10)
            }, parseFloat: function (t) {
                return parseFloat(t)
            }
        }, c.prototype._sort = function () {
            var t = this.options.sortBy;
            if (t) {
                var e = [].concat.apply(t, this.sortHistory), i = f(e, this.options.sortAscending);
                this.filteredItems.sort(i), t !== this.sortHistory[0] && this.sortHistory.unshift(t)
            }
        }, c.prototype._mode = function () {
            var t = this.options.layoutMode, e = this.modes[t];
            if (!e)throw Error("No layout mode: " + t);
            return e.options = this.options[t], e
        }, c.prototype._resetLayout = function () {
            t.prototype._resetLayout.call(this), this._mode()._resetLayout()
        }, c.prototype._getItemLayoutPosition = function (t) {
            return this._mode()._getItemLayoutPosition(t)
        }, c.prototype._manageStamp = function (t) {
            this._mode()._manageStamp(t)
        }, c.prototype._getContainerSize = function () {
            return this._mode()._getContainerSize()
        }, c.prototype.needsResizeLayout = function () {
            return this._mode().needsResizeLayout()
        }, c.prototype.appended = function (t) {
            var e = this.addItems(t);
            if (e.length) {
                var i = this._filterRevealAdded(e);
                this.filteredItems = this.filteredItems.concat(i)
            }
        }, c.prototype.prepended = function (t) {
            var e = this._itemize(t);
            if (e.length) {
                var i = this.items.slice(0);
                this.items = e.concat(i), this._resetLayout(), this._manageStamps();
                var o = this._filterRevealAdded(e);
                this.layoutItems(i), this.filteredItems = o.concat(this.filteredItems)
            }
        }, c.prototype._filterRevealAdded = function (t) {
            var e = this._noTransition(function () {
                return this._filter(t)
            });
            return this.layoutItems(e, !0), this.reveal(e), t
        }, c.prototype.insert = function (t) {
            var e = this.addItems(t);
            if (e.length) {
                var i, o, n = e.length;
                for (i = 0; n > i; i++)o = e[i], this.element.appendChild(o.element);
                var r = this._filter(e);
                for (this._noTransition(function () {
                    this.hide(r)
                }), i = 0; n > i; i++)e[i].isLayoutInstant = !0;
                for (this.arrange(), i = 0; n > i; i++)delete e[i].isLayoutInstant;
                this.reveal(r)
            }
        };
        var l = c.prototype.remove;
        return c.prototype.remove = function (t) {
            t = o(t);
            var e = this.getItems(t);
            if (l.call(this, t), e && e.length)for (var i = 0, r = e.length; r > i; i++) {
                var s = e[i];
                n(s, this.filteredItems)
            }
        }, c.prototype._noTransition = function (t) {
            var e = this.options.transitionDuration;
            this.options.transitionDuration = 0;
            var i = t.call(this);
            return this.options.transitionDuration = e, i
        }, c
    }

    var s = t.jQuery, a = String.prototype.trim ? function (t) {
        return t.trim()
    } : function (t) {
        return t.replace(/^\s+|\s+$/g, "")
    }, u = document.documentElement, p = u.textContent ? function (t) {
        return t.textContent
    } : function (t) {
        return t.innerText
    }, h = Object.prototype.toString, f = Array.prototype.indexOf ? function (t, e) {
        return t.indexOf(e)
    } : function (t, e) {
        for (var i = 0, o = t.length; o > i; i++)if (t[i] === e)return i;
        return -1
    };
    "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "matches-selector/matches-selector", "isotope/js/item", "isotope/js/layout-mode", "isotope/js/layout-modes/masonry", "isotope/js/layout-modes/fit-rows", "isotope/js/layout-modes/vertical"], r) : t.Isotope = r(t.Outlayer, t.getSize, t.matchesSelector, t.Isotope.Item, t.Isotope.LayoutMode)
}(window);


/*!
 Waypoints - 4.0.0
 Copyright © 2011-2015 Caleb Troughton
 Licensed under the MIT license.
 https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
 */
!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=y+l-f,h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();


/*!
 * jQuery Browser Plugin 0.1.0
 * https://github.com/gabceb/jquery-browser-plugin
 *
 * Original jquery-browser code Copyright 2005, 2015 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2015 Gabriel Cebrian
 * https://github.com/gabceb
 *
 * Released under the MIT license
 *
 * Date: 23-11-2015
 */!function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";function b(a){void 0===a&&(a=window.navigator.userAgent),a=a.toLowerCase();var b=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(silk)/.exec(a)||/(android)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||/(playbook)/.exec(a)||/(bb)/.exec(a)||/(blackberry)/.exec(a)||[],d={},e={browser:b[5]||b[3]||b[1]||"",version:b[2]||b[4]||"0",versionNumber:b[4]||b[2]||"0",platform:c[0]||""};if(e.browser&&(d[e.browser]=!0,d.version=e.version,d.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(d[e.platform]=!0),(d.android||d.bb||d.blackberry||d.ipad||d.iphone||d.ipod||d.kindle||d.playbook||d.silk||d["windows phone"])&&(d.mobile=!0),(d.cros||d.mac||d.linux||d.win)&&(d.desktop=!0),(d.chrome||d.opr||d.safari)&&(d.webkit=!0),d.rv||d.iemobile){var f="msie";e.browser=f,d[f]=!0}if(d.edge){delete d.edge;var g="msedge";e.browser=g,d[g]=!0}if(d.safari&&d.blackberry){var h="blackberry";e.browser=h,d[h]=!0}if(d.safari&&d.playbook){var i="playbook";e.browser=i,d[i]=!0}if(d.bb){var j="blackberry";e.browser=j,d[j]=!0}if(d.opr){var k="opera";e.browser=k,d[k]=!0}if(d.safari&&d.android){var l="android";e.browser=l,d[l]=!0}if(d.safari&&d.kindle){var m="kindle";e.browser=m,d[m]=!0}if(d.safari&&d.silk){var n="silk";e.browser=n,d[n]=!0}return d.name=e.browser,d.platform=e.platform,d}return window.jQBrowser=b(window.navigator.userAgent),window.jQBrowser.uaMatch=b,a&&(a.browser=window.jQBrowser),window.jQBrowser});

/*Vimeo Frogaloop API for videos*/
var Froogaloop = function () {
    function e(a) {
        return new e.fn.init(a)
    }

    function g(a, c, b) {
        if (!b.contentWindow.postMessage)return !1;
        a = JSON.stringify({method: a, value: c});
        b.contentWindow.postMessage(a, h)
    }

    function l(a) {
        var c, b;
        try {
            c = JSON.parse(a.data), b = c.event || c.method
        } catch (e) {
        }
        try {
            if(c === undefined && a.data !== undefined && a.data !== null){
                c = a.data, b = c.event || c.method;
            }
        } catch (e) {
        }
        "ready" != b || k || (k = !0);
        if (!/^https?:\/\/player.vimeo.com/.test(a.origin))return !1;
        "*" === h && (h = a.origin);
        a = c.value;
        var m = c.data, f = "" === f ? null : c.player_id;
        c = f ? d[f][b] : d[b];
        b = [];
        if (!c)return !1;
        void 0 !== a && b.push(a);
        m && b.push(m);
        f && b.push(f);
        return 0 < b.length ? c.apply(null, b) : c.call()
    }

    function n(a, c, b) {
        b ? (d[b] || (d[b] = {}), d[b][a] = c) : d[a] = c
    }

    var d = {}, k = !1, h = "*";
    e.fn = e.prototype = {
        element: null, init: function (a) {
            "string" === typeof a && (a = document.getElementById(a));
            this.element = a;
            return this
        }, api: function (a, c) {
            if (!this.element || !a)return !1;
            var b = this.element, d = "" !== b.id ? b.id : null, e = c && c.constructor && c.call && c.apply ? null : c, f = c && c.constructor && c.call && c.apply ? c : null;
            f && n(a, f, d);
            g(a, e, b);
            return this
        }, addEvent: function (a, c) {
            if (!this.element)return !1;
            var b = this.element, d = "" !== b.id ? b.id : null;
            n(a, c, d);
            "ready" != a ? g("addEventListener", a, b) : "ready" == a && k && c.call(null, d);
            return this
        }, removeEvent: function (a) {
            if (!this.element)return !1;
            var c = this.element, b = "" !== c.id ? c.id : null;
            a:{
                if (b && d[b]) {
                    if (!d[b][a]) {
                        b = !1;
                        break a
                    }
                    d[b][a] = null
                } else {
                    if (!d[a]) {
                        b = !1;
                        break a
                    }
                    d[a] = null
                }
                b = !0
            }
            "ready" != a && b && g("removeEventListener", a, c)
        }
    };
    e.fn.init.prototype = e.fn;
    window.addEventListener ? window.addEventListener("message", l, !1) : window.attachEvent("onmessage", l);
    return window.Froogaloop =
        window.$f = e
}();


// http://paulirish.com/2011/requestanimationframe-for-smart-animating/ + http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel. can be removed if IE9 is no longer supported or all parallax scripts are gone MIT license
(function () {
    var lastTime = 0;
    var vendors = ['ms', 'moz', 'webkit', 'o'];
    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame']
    }
    if (!window.requestAnimationFrame)window.requestAnimationFrame = function (callback, element) {
        var currTime = new Date().getTime();
        var timeToCall = Math.max(0, 16 - (currTime - lastTime));
        var id = window.setTimeout(function () {
            callback(currTime + timeToCall)
        }, timeToCall);
        lastTime = currTime + timeToCall;
        return id
    };
    if (!window.cancelAnimationFrame)window.cancelAnimationFrame = function (id) {
        clearTimeout(id)
    }
}());

jQuery.expr[':'].regex = function (elem, index, match) {
    var matchParams = match[3].split(','),
        validLabels = /^(data|css):/,
        attr = {
            method: matchParams[0].match(validLabels) ?
                matchParams[0].split(':')[0] : 'attr',
            property: matchParams.shift().replace(validLabels, '')
        },
        regexFlags = 'ig',
        regex = new RegExp(matchParams.join('').replace(/^\s+|\s+$/g, ''), regexFlags);
    return regex.test(jQuery(elem)[attr.method](attr.property));
}






;(function ($) {
    "use strict";

    $(document).ready(function () {
        //global variables that are used on several ocassions
        $.avia_utilities = $.avia_utilities || {};

        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && 'ontouchstart' in document.documentElement) {
            $.avia_utilities.isMobile = true;
        }
        else {
            $.avia_utilities.isMobile = false;
        }

        //activate fixed bg fallback for mobile
        if ($.fn.avia_mobile_fixed)
            $('.avia-bg-style-fixed').avia_mobile_fixed();

        //activate parallax scrolling for backgrounds.
        if ($.fn.avia_parallax)
            $('.av-parallax').avia_parallax();

        //calculate the browser height and append a css rule to the head
        if ($.fn.avia_browser_height)
            $('.av-minimum-height, .avia-fullscreen-slider').avia_browser_height();

        //calculate the height of each video section
        if ($.fn.avia_video_section)
            $('.av-section-with-video-bg').avia_video_section();

        //creates team social icon tooltip
        new $.AviaTooltip({'class': "avia-tooltip", data: "avia-tooltip", delay: 0, scope: "body"});

        //creates icon element tooltip
        new $.AviaTooltip({
            'class': "avia-tooltip avia-icon-tooltip",
            data: "avia-icon-tooltip",
            delay: 0,
            scope: "body"
        });

        activate_shortcode_scripts();

        //layer slider height helper
        $('.avia-layerslider').layer_slider_height_helper();

        //"ajax" portfolio
        $('.grid-links-ajax').avia_portfolio_preview();

        // actiavte the masonry script: sorting/loading/etc
        if ($.fn.avia_masonry)
            $('.av-masonry').avia_masonry();

        //activate the accordion
        if ($.fn.aviaccordion)
            $('.aviaccordion').aviaccordion();


        //activate the accordion
        if ($.fn.avia_textrotator)
            $('.av-rotator-container').avia_textrotator();


    });


    $(window).load(function () {
        //initialize after images are loaded
    });


// -------------------------------------------------------------------------------------------
// ACTIVATE ALL SHORTCODES
// -------------------------------------------------------------------------------------------

    function activate_waypoints(container) {
        //activates simple css animations of the content once the user scrolls to an elements
        if ($.fn.avia_waypoints) {
            if (typeof container == 'undefined') {
                container = 'body';
            }
            ;

            $('.avia_animate_when_visible', container).avia_waypoints();
            $('.avia_animate_when_almost_visible', container).avia_waypoints({offset: '80%'});
        }
    }


    function activate_shortcode_scripts(container) {
        if (typeof container == 'undefined') {
            container = 'body';
        }

        //activates the form shortcode
        if ($.fn.avia_ajax_form) {
            $('.avia_ajax_form', container).avia_ajax_form();
        }

        activate_waypoints(container);

        //activate the video api
        if ($.fn.aviaVideoApi) {
            $('.avia-slideshow iframe[src*="youtube.com"], .av_youtube_frame, .avia-slideshow iframe[src*="vimeo.com"], .avia-slideshow video').aviaVideoApi({}, 'li');
        }

        //activates the toggle shortcode
        if ($.fn.avia_sc_toggle) {
            $('.togglecontainer', container).avia_sc_toggle();
        }

        //activates the tabs shortcode
        if ($.fn.avia_sc_tabs) {
            $('.top_tab', container).avia_sc_tabs();
            $('.sidebar_tab', container).avia_sc_tabs({sidebar: true});
        }

        //activates behavior and animation for gallery
        if ($.fn.avia_sc_gallery) {
            $('.avia-gallery', container).avia_sc_gallery();
        }

        //activates animated number shortcode
        if ($.fn.avia_sc_animated_number) {
            $('.avia-animated-number', container).avia_sc_animated_number();
        }

        //animation for elements that are not connected like icon shortcode
        if ($.fn.avia_sc_animation_delayed) {
            $('.av_font_icon', container).avia_sc_animation_delayed({delay: 100});
            $('.avia-image-container', container).avia_sc_animation_delayed({delay: 100});
            $('.av-hotspot-image-container', container).avia_sc_animation_delayed({delay: 100});
        }

        //activates animation for iconlist
        if ($.fn.avia_sc_iconlist) {
            $('.avia-icon-list', container).avia_sc_iconlist();
        }

        //activates animation for progress bar
        if ($.fn.avia_sc_progressbar) {
            $('.avia-progress-bar-container', container).avia_sc_progressbar();
        }

        //activates animation for testimonial
        if ($.fn.avia_sc_testimonial) {
            $('.avia-testimonial-wrapper', container).avia_sc_testimonial();
        }

        //activate the fullscreen slider
        $('.avia-slideshow.av_fullscreen', container).aviaFullscreenSlider();

        //activate the aviaslider
        $('.avia-slideshow:not(.av_fullscreen)', container).aviaSlider();

        //content slider
        $('.avia-content-slider-active', container).aviaSlider({
            wrapElement: '.avia-content-slider-inner',
            slideElement: '.slide-entry-wrap',
            fullfade: true
        });

        //testimonial slider
        $('.avia-slider-testimonials', container).aviaSlider({
            wrapElement: '.avia-testimonial-row',
            slideElement: '.avia-testimonial',
            fullfade: true
        });

        //load and activate maps
        if ($.fn.aviaMaps) {
            $('.avia-google-map-container', container).aviaMaps();
        }

        //load magazine sorting
        if ($.fn.aviaMagazine) {
            $('.av-magazine-tabs-active', container).aviaMagazine();
        }

        //load image hotspot
        if ($.fn.aviaHotspots) {
            $('.av-hotspot-image-container', container).aviaHotspots();
        }

        //load countdown
        if ($.fn.aviaCountdown) {
            $('.av-countdown-timer', container).aviaCountdown();
        }

        //load countdown
        if ($.fn.aviaCountdown) {
            $('.av-countdown-timer', container).aviaCountdown();
        }


    }


// -------------------------------------------------------------------------------------------
// 
// AVIA Countdown
// 
// -------------------------------------------------------------------------------------------
    (function ($) {
        "use strict";

        var _units = ['weeks', 'days', 'hours', 'minutes', 'seconds'],
            _second = 1000,
            _minute = _second * 60,
            _hour = _minute * 60,
            _day = _hour * 24,
            _week = _day * 7,
            ticker = function (_self) {
                var _time = {},
                    _now = new Date(),
                    _timestamp = _self.end - _now;

                if (_timestamp <= 0) {
                    clearInterval(_self.countdown);
                    return;
                }

                _self.time.weeks = Math.floor(_timestamp / _week);
                _self.time.days = Math.floor((_timestamp % _week) / _day);
                _self.time.hours = Math.floor((_timestamp % _day) / _hour);
                _self.time.minutes = Math.floor((_timestamp % _hour) / _minute);
                _self.time.seconds = Math.floor((_timestamp % _minute) / _second);

                switch (_self.data.maximum) {
                    case 1:
                        _self.time.seconds = Math.floor(_timestamp / _second);
                        break;
                    case 2:
                        _self.time.minutes = Math.floor(_timestamp / _minute);
                        break;
                    case 3:
                        _self.time.hours = Math.floor(_timestamp / _hour);
                        break;
                    case 4:
                        _self.time.days = Math.floor(_timestamp / _day);
                        break;
                }

                for (var i in _self.time) {
                    if (typeof _self.update[i] == "object") {
                        if (_self.firstrun || _self.oldtime[i] != _self.time[i]) {
                            var labelkey = ( _self.time[i] === 1 ) ? "single" : "multi";

                            _self.update[i].time_container.text(_self.time[i]);
                            _self.update[i].label_container.text(_self.update[i][labelkey]);
                        }
                    }
                }

                //show ticker
                if (_self.firstrun) _self.container.addClass('av-countdown-active')

                _self.oldtime = $.extend({}, _self.time);
                _self.firstrun = false;
            };


        $.fn.aviaCountdown = function (options) {
            if (!this.length) return;

            return this.each(function () {
                var _self = {};
                _self.update = {};
                _self.time = {};
                _self.oldtime = {};
                _self.firstrun = true;

                _self.container = $(this);
                _self.data = _self.container.data();
                _self.end = new Date(_self.data.year, _self.data.month, _self.data.day, _self.data.hour, _self.data.minute);

                for (var i in _units) {
                    _self.update[_units[i]] = {
                        time_container: _self.container.find('.av-countdown-' + _units[i] + ' .av-countdown-time'),
                        label_container: _self.container.find('.av-countdown-' + _units[i] + ' .av-countdown-time-label'),
                    };

                    if (_self.update[_units[i]].label_container.length) {
                        _self.update[_units[i]].single = _self.update[_units[i]].label_container.data('label');
                        _self.update[_units[i]].multi = _self.update[_units[i]].label_container.data('label-multi');
                    }
                }

                ticker(_self);
                _self.countdown = setInterval(function () {
                    ticker(_self);
                }, _self.data.interval);


            });
        }

    }(jQuery));


// -------------------------------------------------------------------------------------------
// 
// AVIA Image Hotspots
// 
// -------------------------------------------------------------------------------------------
    (function ($) {
        "use strict";

        $.fn.aviaHotspots = function (options) {
            if (!this.length) return;

            return this.each(function () {
                var _self = {};

                _self.container = $(this);
                _self.hotspots = _self.container.find('.av-image-hotspot');

                _self.container.on('avia_start_animation', function () {
                    setTimeout(function () {
                        _self.hotspots.each(function (i) {
                            var current = $(this);
                            setTimeout(function () {
                                current.addClass('av-display-hotspot');
                            }, 300 * i);
                        });
                    }, 400);
                });

            });
        }

    }(jQuery));


// -------------------------------------------------------------------------------------------
// 
// AVIA Magazine function for magazine sorting
// 
// -------------------------------------------------------------------------------------------
    (function ($) {
        "use strict";

        var animating = false,
            methods = {

                switchMag: function (clicked, _self) {
                    var current = $(clicked)

                    if (current.is('.active_sort') || animating) return;

                    var filter = current.data('filter'),
                        oldContainer = _self.container.filter(':visible'),
                        newContainer = _self.container.filter('.' + filter);

                    //switch Class
                    animating = true;
                    _self.sort_buttons.removeClass('active_sort');
                    current.addClass('active_sort');

                    //apply fixed heiht for transition
                    _self.magazine.height(_self.magazine.outerHeight());

                    //switch items
                    oldContainer.avia_animate({opacity: 0}, 200, function () {
                        oldContainer.css({display: 'none'});
                        newContainer.css({opacity: 0, display: 'block'}).avia_animate({opacity: 1}, 150, function () {
                            _self.magazine.avia_animate({height: (newContainer.outerHeight() + _self.sort_bar.outerHeight())}, 150, function () {
                                _self.magazine.height('auto');
                                animating = false;
                            });

                        });
                    });
                }
            };


        $.fn.aviaMagazine = function (options) {
            if (!this.length) return;

            return this.each(function () {
                var _self = {};

                _self.magazine = $(this),
                    _self.sort_buttons = _self.magazine.find('.av-magazine-sort a');
                _self.container = _self.magazine.find('.av-magazine-group');
                _self.sort_bar = _self.magazine.find('.av-magazine-top-bar');

                _self.sort_buttons.on('click', function (e) {
                    e.preventDefault();
                    methods.switchMag(this, _self);
                });
            });
        }

    }(jQuery));

// -------------------------------------------------------------------------------------------
// 
// AVIA MAPS API - loads the google maps api asynchronously 
// 
// afterwards applies the map to the container
// 
// -------------------------------------------------------------------------------------------


    (function ($) {
        "use strict";

        $.AviaMapsAPI = function (options, container) {
            if (typeof window.av_google_map == 'undefined') {
                $.avia_utilities.log('Map creation stopped, var av_google_map not found');
                return
            }

            // gatehr container and map data
            this.container = container;
            this.$container = $(container);
            this.$body = $('body');
            this.$mapid = this.$container.data('mapid') - 1;
            this.$data = window.av_google_map[this.$mapid];
            this.retina = window.devicePixelRatio > 1;

            // set up the whole api object
            this._init(options);
        }

        $.AviaMapsAPI.apiFiles =
        {
            loading: false,
            finished: false,
            src: 'https://maps.googleapis.com/maps/api/js?v=3.6&sensor=false&callback=aviaOnGoogleMapsLoaded'
        }

        $.AviaMapsAPI.prototype =
        {
            _init: function () {
                this._bind_execution();
                this._getAPI();
            },

            _getAPI: function () {
                //make sure the api file is loaded only once
                if ((typeof window.google == 'undefined' || typeof window.google.maps == 'undefined') && $.AviaMapsAPI.apiFiles.loading == false) {
                    $.AviaMapsAPI.apiFiles.loading = true;
                    var script = document.createElement('script');
                    script.type = 'text/javascript';
                    script.src = $.AviaMapsAPI.apiFiles.src;

                    document.body.appendChild(script);
                }
                else if ((typeof window.google != 'undefined' && typeof window.google.maps != 'undefined') || $.AviaMapsAPI.apiFiles.loading == false)
                //else if($.AviaMapsAPI.apiFiles.finished === true)
                {
                    this._applyMap();
                }
            },

            _bind_execution: function () {
                this.$body.on('av-google-maps-api-loaded', $.proxy(this._applyMap, this));
            },

            _applyMap: function () {
                if (typeof this.map != 'undefined') return;
                if (!this.$data.marker || !this.$data.marker[0] || !this.$data.marker[0].long || !this.$data.marker[0].long) {
                    $.avia_utilities.log('Latitude or Longitude missing', 'map-error');
                    return;
                }

                var _self = this,
                    mobile_drag = $.avia_utilities.isMobile ? this.$data.mobile_drag_control : true,
                    zoomValue = this.$data.zoom == "auto" ? 10 : this.$data.zoom;

                this.mapVars = {
                    mapMaker: false, //mapmaker tiles are user generated content maps. might hold more info but also be inaccurate
                    mapTypeControl: false,
                    backgroundColor: 'transparent',
                    streetViewControl: false,
                    panControl: this.$data.pan_control,
                    zoomControl: this.$data.zoom_control,
                    draggable: mobile_drag,
                    scrollwheel: false,
                    zoom: zoomValue,
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    center: new google.maps.LatLng(this.$data.marker[0].lat, this.$data.marker[0].long),
                    styles: [{featureType: "poi", elementType: "labels", stylers: [{visibility: "off"}]}]
                };

                this.map = new google.maps.Map(this.container, this.mapVars);

                this._applyMapStyle();

                if (this.$data.zoom == "auto") {
                    this._setAutoZoom();
                }

                google.maps.event.addListenerOnce(this.map, 'tilesloaded', function () {
                    _self._addMarkers();
                });
            },

            _setAutoZoom: function () {
                var bounds = new google.maps.LatLngBounds();

                for (var key in this.$data.marker) {
                    bounds.extend(new google.maps.LatLng(this.$data.marker[key].lat, this.$data.marker[key].long));
                }

                this.map.fitBounds(bounds);
            },

            _applyMapStyle: function () {
                var stylers = [], style = [], mapType;

                if (this.$data.hue != "") stylers.push({hue: this.$data.hue});
                if (this.$data.saturation != "") stylers.push({saturation: this.$data.saturation});

                if (stylers.length) {
                    style = [{
                        featureType: "all",
                        elementType: "all",
                        stylers: stylers
                    }, {
                        featureType: "poi",
                        stylers: [
                            {visibility: "off"}
                        ]
                    }];

                    mapType = new google.maps.StyledMapType(style, {name: "av_map_style"});
                    this.map.mapTypes.set('av_styled_map', mapType);
                    this.map.setMapTypeId('av_styled_map');
                }
            },

            _addMarkers: function () {
                for (var key in this.$data.marker) {
                    var _self = this;

                    (function (key, _self) {
                        setTimeout(function () {
                            var marker = "";

                            if (!_self.$data.marker[key] || !_self.$data.marker[key].long || !_self.$data.marker[key].long) {
                                $.avia_utilities.log('Latitude or Longitude for single marker missing', 'map-error');
                                return;
                            }

                            _self.$data.LatLng = new google.maps.LatLng(_self.$data.marker[key].lat, _self.$data.marker[key].long);

                            var markerArgs = {
                                flat: false,
                                position: _self.$data.LatLng,
                                animation: google.maps.Animation.BOUNCE,
                                map: _self.map,
                                title: _self.$data.marker[key].address,
                                optimized: false
                            };

                            //set a custom marker image if available. also set the size and reduce the marker on retina size so its sharp
                            if (_self.$data.marker[key].icon && _self.$data.marker[key].imagesize) {
                                var size = _self.$data.marker[key].imagesize, half = "", full = "";

                                if (_self.retina && size > 40) size = 40;			//retina downsize to at least half the px size
                                half = new google.maps.Point(size / 2, size); 	//used to position the marker
                                full = new google.maps.Size(size, size); 		//marker size
                                markerArgs.icon = new google.maps.MarkerImage(_self.$data.marker[key].icon, null, null, half, full);
                            }

                            marker = new google.maps.Marker(markerArgs);

                            setTimeout(function () {
                                marker.setAnimation(null);
                                _self._infoWindow(_self.map, marker, _self.$data.marker[key]);
                            }, 500);

                        }, 200 * (parseInt(key, 10) + 1));

                    }(key, _self));
                }
            },

            _infoWindow: function (map, marker, data) {
                var info = $.trim(data.content);

                if (info != "") {
                    var infowindow = new google.maps.InfoWindow({
                        content: info
                    });

                    google.maps.event.addListener(marker, 'click', function () {
                        infowindow.open(map, marker);
                    });

                    if (data.tooltip_display) infowindow.open(map, marker);
                }
            }


        }

        //simple wrapper to call the api. makes sure that the api data is not applied twice
        $.fn.aviaMaps = function (options) {
            return this.each(function () {
                var self = $.data(this, 'aviaMapsApi');

                if (!self) {
                    self = $.data(this, 'aviaMapsApi', new $.AviaMapsAPI(options, this));
                }
            });
        }

    })(jQuery);

//this function is executed once the api file is loaded
    window.aviaOnGoogleMapsLoaded = function () {
        $('body').trigger('av-google-maps-api-loaded');
        $.AviaMapsAPI.apiFiles.finished = true;
    };


// -------------------------------------------------------------------------------------------
// 
// AVIA VIDEO API - make sure that youtube, vimeo and html 5 use the same interface
// 
// requires froogaloop vimeo library and youtube iframe api (yt can be loaded async)
// 
// -------------------------------------------------------------------------------------------


    (function ($) {
        "use strict";

        $.AviaVideoAPI = function (options, video, option_container) {
            // actual video element. either iframe or video
            this.$video = $(video);

            // container where the AviaVideoAPI object will be stored as data, and that can receive events like play, pause etc 
            // also the container that allows to overwrite javacript options by adding html data- attributes
            this.$option_container = option_container ? $(option_container) : this.$video;

            //mobile device?
            this.isMobile = $.avia_utilities.isMobile;

            //iamge fallback use
            this.fallback = this.isMobile ? this.$option_container.is('.av-mobile-fallback-image') : false;

            if (this.fallback) return;

            // set up the whole api object
            this._init(options);

        }

        $.AviaVideoAPI.defaults = {

            loop: false,
            mute: false,
            controls: false,
            events: 'play pause mute unmute loop toggle reset unload'

        };

        $.AviaVideoAPI.apiFiles =
        {
            youtube: {loaded: false, src: 'https://www.youtube.com/iframe_api'}
        }

        $.AviaVideoAPI.prototype =
        {
            _init: function (options) {
                // set slider options
                this.options = this._setOptions(options);

                // info which video service we are using: html5, vimeo or youtube
                this.type = this._getPlayerType();

                // store the player object to the this.player variable created by one of the APIs (mediaelement, youtube, vimeo)
                this._setPlayer();

                // set to true once the events are bound so it doesnt happen a second time by accident or racing condition
                this.eventsBound = false;

                // info if the video is playing
                this.playing = false;

                //set css class that video is currently not playing
                this.$option_container.addClass('av-video-paused');

                //play pause indicator
                this.pp = $.avia_utilities.playpause(this.$option_container);
            },


            //set the video options by first merging the default options and the passed options, then checking the video element if any data attributes overwrite the option set
            _setOptions: function (options) {
                var newOptions = $.extend(true, {}, $.AviaVideoAPI.defaults, options),
                    htmlData = this.$option_container.data(),
                    i = "";

                //overwritte passed option set with any data properties on the html element
                for (i in htmlData) {
                    if (htmlData.hasOwnProperty(i) && (typeof htmlData[i] === "string" || typeof htmlData[i] === "number" || typeof htmlData[i] === "boolean")) {
                        newOptions[i] = htmlData[i];
                    }
                }

                return newOptions;
            },


            //get the player type
            _getPlayerType: function () {
                var vid_src = this.$video.get(0).src || this.$video.data('src');


                if (this.$video.is('video'))                return 'html5';
                if (this.$video.is('.av_youtube_frame'))    return 'youtube';
                if (vid_src.indexOf('vimeo.com') != -1)    return 'vimeo';
                if (vid_src.indexOf('youtube.com') != -1)    return 'youtube';
            },

            //get the player object
            _setPlayer: function () {
                var _self = this;

                switch (this.type) {
                    case "html5":

                        this.player = this.$video.data('mediaelementplayer');
                        this._playerReady();

                        break;

                    case "vimeo":

                        this.player = Froogaloop(this.$video.get(0));
                        this._playerReady();

                        break;

                    case "youtube":

                        this._getAPI(this.type);
                        $('body').on('av-youtube-iframe-api-loaded', function () {
                            _self._playerReady();
                        });

                        break;
                }
            },

            _getAPI: function (api) {
                //make sure the api file is loaded only once
                if ($.AviaVideoAPI.apiFiles[api].loaded === false) {
                    $.AviaVideoAPI.apiFiles[api].loaded = true;
                    //load the file async
                    var tag = document.createElement('script'),
                        first = document.getElementsByTagName('script')[0];

                    tag.src = $.AviaVideoAPI.apiFiles[api].src;
                    first.parentNode.insertBefore(tag, first);
                }
            },


            //wait for player to be ready, then bind events
            _playerReady: function () {
                var _self = this;

                this.$option_container.on('av-video-loaded', function () {
                    _self._bindEvents();
                });

                switch (this.type) {
                    case "html5":

                        this.$video.on('av-mediajs-loaded', function () {
                            _self.$option_container.trigger('av-video-loaded');
                        });
                        this.$video.on('av-mediajs-ended', function () {
                            _self.$option_container.trigger('av-video-ended');
                        });

                        break;
                    case "vimeo":

                        //finish event must be applied after ready event for firefox
                        _self.player.addEvent('ready', function () {
                            _self.$option_container.trigger('av-video-loaded');
                            _self.player.addEvent('finish', function () {
                                _self.$option_container.trigger('av-video-ended');
                            });
                        });

                        // vimeo sometimes does not fire. fallback jquery load event should fix this
                        // currently not used because it causes firefox problems
                        /*
                         this.$video.load(function()
                         {
                         if(_self.eventsBound == true || typeof _self.eventsBound == 'undefined') return;
                         _self.$option_container.trigger('av-video-loaded');
                         $.avia_utilities.log('VIMEO Fallback Trigger');
                         });
                         */


                        break;

                    case "youtube":

                        var params = _self.$video.data();

                        if (_self._supports_video()) params.html5 = 1;

                        _self.player = new YT.Player(_self.$video.attr('id'), {
                            videoId: params.videoid,
                            height: _self.$video.attr('height'),
                            width: _self.$video.attr('width'),
                            playerVars: params,
                            events: {
                                'onReady': function () {
                                    _self.$option_container.trigger('av-video-loaded');
                                },
                                'onError': function (player) {
                                    $.avia_utilities.log('YOUTUBE ERROR:', 'error', player);
                                },
                                'onStateChange': function (event) {
                                    if (event.data === YT.PlayerState.ENDED) {
                                        var command = _self.options.loop != false ? 'loop' : 'av-video-ended';
                                        _self.$option_container.trigger(command);
                                    }
                                }
                            }
                        });


                        break;
                }

                //fallback always trigger after 2 seconds
                setTimeout(function () {
                    if (_self.eventsBound == true || typeof _self.eventsBound == 'undefined' || _self.type == 'youtube') {
                        return;
                    }
                    $.avia_utilities.log('Fallback Video Trigger "' + _self.type + '":', 'log', _self);

                    _self.$option_container.trigger('av-video-loaded');

                }, 2000);

            },

            //bind events we should listen to, to the player
            _bindEvents: function () {
                if (this.eventsBound == true || typeof this.eventsBound == 'undefined') {
                    return;
                }

                var _self = this, volume = 'unmute';

                this.eventsBound = true;

                this.$option_container.on(this.options.events, function (e) {
                    _self.api(e.type);
                });

                if (!_self.isMobile) {
                    //set up initial options
                    if (this.options.mute != false) {
                        volume = "mute";
                    }
                    if (this.options.loop != false) {
                        _self.api('loop');
                    }

                    _self.api(volume);
                }

                //set timeout to prevent racing conditions with other scripts
                setTimeout(function () {
                    _self.$option_container.trigger('av-video-events-bound').addClass('av-video-events-bound');
                }, 50);
            },


            _supports_video: function () {
                return !!document.createElement('video').canPlayType;
            },


            /************************************************************************
             PUBLIC Methods
             *************************************************************************/

            api: function (action) {
                //commands on mobile can not be executed if the player was not started manually
                if (this.isMobile && !this.was_started()) return;

                // prevent calling of unbound function
                if (this.options.events.indexOf(action) === -1) return;

                // broadcast that the command was executed
                this.$option_container.trigger('av-video-' + action + '-executed');

                // calls the function based on action. eg: _html5_play()
                if (typeof this['_' + this.type + '_' + action] == 'function') {
                    this['_' + this.type + '_' + action].call(this);
                }

                //call generic function eg: _toggle() or _play()
                if (typeof this['_' + action] == 'function') {
                    this['_' + action].call(this);
                }

            },

            was_started: function () {
                if (!this.player) return false;

                switch (this.type) {
                    case "html5":
                        if (this.player.getCurrentTime() > 0) return true;
                        break;

                    case "vimeo":
                        if (this.player.api('getCurrentTime') > 0) return true;
                        break;

                    case "youtube":
                        if (this.player.getPlayerState() !== -1) return true;
                        break;
                }

                return false;
            },

            /************************************************************************
             Generic Methods, are always executed and usually set variables
             *************************************************************************/
            _play: function () {
                this.playing = true;
                this.$option_container.addClass('av-video-playing').removeClass('av-video-paused');
            },

            _pause: function () {
                this.playing = false;
                this.$option_container.removeClass('av-video-playing').addClass('av-video-paused');
            },

            _loop: function () {
                this.options.loop = true;
            },

            _toggle: function () {
                var command = this.playing == true ? 'pause' : 'play';

                this.api(command);
                this.pp.set(command);
            },


            /************************************************************************
             VIMEO Methods
             *************************************************************************/

            _vimeo_play: function () {
                this.player.api('play');
            },

            _vimeo_pause: function () {
                this.player.api('pause');
            },

            _vimeo_mute: function () {
                this.player.api('setVolume', 0);
            },

            _vimeo_unmute: function () {
                this.player.api('setVolume', 0.7);
            },

            _vimeo_loop: function () {
                // currently throws error, must be set in iframe
                // this.player.api('setLoop', true);
            },

            _vimeo_reset: function () {
                this.player.api('seekTo', 0);
            },

            _vimeo_unload: function () {
                this.player.api('unload');
            },

            /************************************************************************
             YOUTUBE Methods
             *************************************************************************/

            _youtube_play: function () {
                this.player.playVideo();
            },

            _youtube_pause: function () {
                this.player.pauseVideo()
            },

            _youtube_mute: function () {
                this.player.mute();
            },

            _youtube_unmute: function () {
                this.player.unMute();
            },

            _youtube_loop: function () {
                // does not work properly with iframe api. needs to manual loop on "end" event
                // this.player.setLoop(true);
                if (this.playing == true) this.player.seekTo(0);
            },

            _youtube_reset: function () {
                this.player.stopVideo();
            },

            _youtube_unload: function () {
                this.player.clearVideo();
            },

            /************************************************************************
             HTML5 Methods
             *************************************************************************/

            _html5_play: function () {
                //disable stoping of other videos in case the user wants to run section bgs
                this.player.options.pauseOtherPlayers = false;
                this.player.play();
            },

            _html5_pause: function () {
                this.player.pause();
            },

            _html5_mute: function () {
                this.player.setMuted(true);
            },

            _html5_unmute: function () {
                this.player.setVolume(0.7);
            },

            _html5_loop: function () {
                this.player.options.loop = true;
            },

            _html5_reset: function () {
                this.player.setCurrentTime(0);
            },

            _html5_unload: function () {
                this._html5_pause();
                this._html5_reset();
            }
        }

        //simple wrapper to call the api. makes sure that the api data is not applied twice
        $.fn.aviaVideoApi = function (options, apply_to_parent) {
            return this.each(function () {
                // by default save the object as data to the initial video. 
                // in the case of slideshows its more benefitial to save it to a parent element (eg: the slide)
                var applyTo = this;

                if (apply_to_parent) {
                    applyTo = $(this).parents(apply_to_parent).get(0);
                }

                var self = $.data(applyTo, 'aviaVideoApi');

                if (!self) {
                    self = $.data(applyTo, 'aviaVideoApi', new $.AviaVideoAPI(options, this, applyTo));
                }
            });
        }

    })(jQuery);

    window.onYouTubeIframeAPIReady = function () {
        $('body').trigger('av-youtube-iframe-api-loaded');
    };


// -------------------------------------------------------------------------------------------
// Masonry
// -------------------------------------------------------------------------------------------

    $.fn.avia_masonry = function (options) {
        //return if we didnt find anything
        if (!this.length) return this;

        var the_body = $('body'),
            the_win = $(window),
            isMobile = $.avia_utilities.isMobile,
            loading = false,
            methods = {


                masonry_filter: function () {
                    var current = $(this),
                        linktext = current.html(),
                        selector = current.data('filter'),
                        masonry = current.parents('.av-masonry:eq(0)'),
                        container = masonry.find('.av-masonry-container:eq(0)'),
                        links = masonry.find('.av-masonry-sort a'),
                        activeCat = masonry.find('.av-current-sort-title');

                    links.removeClass('active_sort');
                    current.addClass('active_sort');
                    container.attr('id', 'masonry_id_' + selector);

                    if (activeCat.length) activeCat.html(linktext);

                    methods.applyMasonry(container, selector, function () {
                        container.css({overflow: 'visible'});
                    });

                    return false;
                },

                applyMasonry: function (container, selector, callback) {
                    var filters = selector ? {filter: '.' + selector} : {};

                    container.isotope(filters, function () {
                        the_win.trigger('av-height-change');
                    });

                    if (typeof callback == 'function') {
                        setTimeout(callback, 0);
                    }
                },

                show_bricks: function (bricks, callback) {
                    bricks.each(function (i) {
                        var currentLink = $(this),
                            browserPrefix = $.avia_utilities.supports('transition'),
                            multiplier = isMobile ? 0 : 100;

                        setTimeout(function () {
                            if (browserPrefix === false) {
                                currentLink.css({visibility: "visible", opacity: 0}).animate({opacity: 1}, 1500);
                            }
                            else {
                                currentLink.addClass('av-masonry-item-loaded');
                            }

                            if (i == bricks.length - 1 && typeof callback == 'function') {
                                callback.call();
                                the_win.trigger('av-height-change');
                            }

                        }, (multiplier * i));
                    });
                },

                loadMore: function (e) {
                    e.preventDefault();

                    if (loading) return false;

                    loading = true;

                    var current = $(this),
                        data = current.data(),
                        masonry = current.parents('.av-masonry:eq(0)'),
                        container = masonry.find('.av-masonry-container'),
                        loader = $.avia_utilities.loading(),
                        finished = function () {
                            loading = false;
                            loader.hide();
                            the_body.trigger('av_resize_finished');
                        };

                    //calculate a new offset	
                    if (!data.offset) {
                        data.offset = 0;
                    }
                    data.offset += data.items;
                    data.action = 'avia_ajax_masonry_more';


                    $.ajax({
                        url: avia_framework_globals.ajaxurl,
                        type: "POST",
                        data: data,
                        beforeSend: function () {
                            loader.show();
                        },
                        success: function (response) {
                            if (response.indexOf("{av-masonry-loaded}") !== -1) {
                                //fetch the response. if any php warnings were displayed before rendering of the items the are removed by the string split
                                var response = response.split('{av-masonry-loaded}'),
                                    new_items = $(response.pop()).filter('.isotope-item');

                                //check if we got more items than we need. if not we have reached the end of items
                                if (new_items.length > data.items) {
                                    new_items = new_items.not(':last');
                                }
                                else {
                                    current.addClass('av-masonry-no-more-items');
                                }

                                var load_container = $('<div class="loadcontainer"></div>').append(new_items);


                                $.avia_utilities.preload({
                                    container: load_container, single_callback: function () {
                                        var links = masonry.find('.av-masonry-sort a'),
                                            filter_container = masonry.find('.av-sort-by-term');

                                        filter_container.hide();

                                        loader.hide();
                                        container.isotope('insert', new_items);
                                        $.avia_utilities.avia_ajax_call(container);
                                        setTimeout(function () {
                                            methods.show_bricks(new_items, finished);
                                        }, 150);
                                        setTimeout(function () {
                                            the_win.trigger('av-height-change');
                                        }, 550);
                                        if (links) {
                                            $(links).each(function (filterlinkindex) {
                                                var filterlink = $(this),
                                                    sort = filterlink.data('filter');

                                                if (new_items) {
                                                    $(new_items).each(function (itemindex) {
                                                        var item = $(this);

                                                        if (item.hasClass(sort)) {
                                                            var term_count = filterlink.find('.avia-term-count').text();
                                                            filterlink.find('.avia-term-count').text(' ' + (parseInt(term_count) + 1) + ' ');

                                                            if (filterlink.hasClass('avia_hide_sort')) {
                                                                filterlink.removeClass('avia_hide_sort').addClass('avia_show_sort');
                                                                masonry.find('.av-masonry-sort .' + sort + '_sep').removeClass('avia_hide_sort').addClass('avia_show_sort');
                                                                masonry.find('.av-masonry-sort .av-sort-by-term').removeClass('hidden');
                                                            }
                                                        }
                                                    });
                                                }
                                            });

                                        }

                                        filter_container.fadeIn();
                                    }
                                });
                            }
                            else {
                                finished();
                            }
                        },
                        error: finished,
                        complete: function () {

                        }
                    });
                }

            };

        return this.each(function () {
            var masonry = $(this),
                container = masonry.find('.av-masonry-container'),
                bricks = masonry.find('.isotope-item'),
                filter = masonry.find('.av-masonry-sort').css({
                    visibility: "visible",
                    opacity: 0
                }).on('click', 'a', methods.masonry_filter),
                load_more = masonry.find('.av-masonry-load-more').css({visibility: "visible", opacity: 0});

            $.avia_utilities.preload({
                container: container, single_callback: function () {
                    var start_animation = function () {
                        filter.animate({opacity: 1}, 400);

                        //fix for non aligned elements because of scrollbar
                        if (container.outerHeight() + container.offset().top + $('#footer').outerHeight() > $(window).height()) {
                            $('html').css({'overflow-y': 'scroll'});
                        }

                        methods.applyMasonry(container, false, function () {
                            masonry.addClass('avia_sortable_active');
                            container.removeClass('av-js-disabled ');
                        });

                        methods.show_bricks(bricks, function () {
                            load_more.css({opacity: 1}).on('click', methods.loadMore);
                        });

                        //container.isotope( 'reLayout' );

                    };

                    if (isMobile) {
                        start_animation();
                    }
                    else {
                        masonry.waypoint(start_animation, {offset: '80%'});
                    }

                    // update columnWidth on window resize
                    $(window).on('debouncedresize', function () {
                        methods.applyMasonry(container, false, function () {
                            masonry.addClass('avia_sortable_active');
                        });
                    });
                }
            });


        });
    };


// -------------------------------------------------------------------------------------------
// Avia AJAX Portfolio
// -------------------------------------------------------------------------------------------

    (function ($) {
        "use strict";
        $.avia_utilities = $.avia_utilities || {};

        $.fn.avia_portfolio_preview = function (passed_options) {
            var win = $(window),
                the_body = $('body'),
                isMobile = $.avia_utilities.isMobile,
                defaults =
                {
                    open_in: '.portfolio-details-inner',
                    easing: 'easeOutQuint',
                    timing: 800,
                    transition: 'slide' // 'fade' or 'slide'
                },

                options = $.extend({}, defaults, passed_options);

            return this.each(function () {
                var container = $(this),
                    portfolio_id = container.data('portfolio-id'),
                    target_wrap = $('.portfolio_preview_container[data-portfolio-id="' + portfolio_id + '"]'),
                    target_container = target_wrap.find(options.open_in),
                    items = container.find('.grid-entry'),
                    content_retrieved = {},
                    is_open = false,
                    animating = false,
                    index_open = false,
                    ajax_call = false,
                    methods,
                    controls,
                    loader = $.avia_utilities.loading();

                methods =
                {
                    load_item: function (e) {
                        e.preventDefault();

                        var link = $(this),
                            post_container = link.parents('.post-entry:eq(0)'),
                            post_id = "ID_" + post_container.data('ajax-id'),
                            clickedIndex = items.index(post_container);

                        //check if current item is the clicked item or if we are currently animating
                        if (post_id === is_open || animating == true) {
                            return false;
                        }

                        animating = true;

                        container.find('.active_portfolio_item').removeClass('active_portfolio_item');
                        post_container.addClass('active_portfolio_item');
                        loader.show();

                        methods.ajax_get_contents(post_id, clickedIndex);
                    },

                    scroll_top: function () {
                        setTimeout(function () {
                            var target_offset = target_wrap.offset().top - 175,
                                window_offset = win.scrollTop();

                            if (window_offset > target_offset || target_offset - window_offset > 100) {
                                $('html:not(:animated),body:not(:animated)').animate({scrollTop: target_offset}, options.timing, options.easing);
                            }
                        }, 10);
                    },

                    attach_item: function (post_id) {
                        content_retrieved[post_id] = $(content_retrieved[post_id]).appendTo(target_container);
                        ajax_call = true;
                    },

                    remove_video: function () {
                        var del = target_wrap.find('iframe, .avia-video').parents('.ajax_slide:not(.open_slide)');

                        if (del.length > 0) {
                            del.remove();
                            content_retrieved["ID_" + del.data('slideId')] = undefined;
                        }
                    },

                    show_item: function (post_id, clickedIndex) {

                        //check if current item is the clicked item or if we are currently animating
                        if (post_id === is_open) {
                            return false;
                        }
                        animating = true;


                        loader.hide();

                        if (false === is_open) {
                            target_wrap.addClass('open_container');
                            content_retrieved[post_id].addClass('open_slide');

                            methods.scroll_top();

                            target_wrap.css({display: 'none'}).slideDown(options.timing, options.easing, function () {
                                if (ajax_call) {
                                    activate_shortcode_scripts(content_retrieved[post_id]);
                                    $.avia_utilities.avia_ajax_call(content_retrieved[post_id]);
                                    the_body.trigger('av_resize_finished');
                                    ajax_call = false;
                                }

                                methods.remove_video();
                                the_body.trigger('av_resize_finished');
                            });

                            index_open = clickedIndex;
                            is_open = post_id;
                            animating = false;


                        }
                        else {
                            methods.scroll_top();

                            var initCSS = {zIndex: 3},
                                easing = options.easing;

                            if (index_open > clickedIndex) {
                                initCSS.left = '-110%';
                            }
                            if (options.transition === 'fade') {
                                initCSS.left = '0%';
                                initCSS.opacity = 0;
                                easing = 'easeOutQuad';
                            }

                            //fixate height for container during animation
                            target_container.height(target_container.height()); //outerHeight = border problems?

                            content_retrieved[post_id].css(initCSS).avia_animate({
                                'left': "0%",
                                opacity: 1
                            }, options.timing, easing);
                            content_retrieved[is_open].avia_animate({opacity: 0}, options.timing, easing, function () {
                                content_retrieved[is_open].attr({'style': ""}).removeClass('open_slide');
                                content_retrieved[post_id].addClass('open_slide');
                                //+ 2 fixes border problem (slides move up and down 2 px on transition)
                                target_container.avia_animate({height: content_retrieved[post_id].outerHeight() + 2}, options.timing / 2, options.easing, function () {
                                    target_container.attr({'style': ""});
                                    is_open = post_id;
                                    index_open = clickedIndex;
                                    animating = false;

                                    methods.remove_video();
                                    if (ajax_call) {
                                        the_body.trigger('av_resize_finished');
                                        activate_shortcode_scripts(content_retrieved[post_id]);
                                        $.avia_utilities.avia_ajax_call(content_retrieved[post_id]);
                                        ajax_call = false;
                                    }

                                });

                            });
                        }
                    },

                    ajax_get_contents: function (post_id, clickedIndex) {
                        if (content_retrieved[post_id] !== undefined) {
                            methods.show_item(post_id, clickedIndex);
                            return;
                        }

                        content_retrieved[post_id] = $('#avia-tmpl-portfolio-preview-' + post_id.replace(/ID_/, "")).html();

                        //this line is necessary to prevent w3 total cache from messing up the portfolio if inline js is compressed
                        content_retrieved[post_id] = content_retrieved[post_id].replace('/*<![CDATA[*/', '').replace('*]]>', '');

                        methods.attach_item(post_id);

                        $.avia_utilities.preload({
                            container: content_retrieved[post_id], single_callback: function () {
                                methods.show_item(post_id, clickedIndex);
                            }
                        });
                    },

                    add_controls: function () {
                        controls = target_wrap.find('.ajax_controlls');

                        target_wrap.avia_keyboard_controls({27: '.avia_close', 37: '.ajax_previous', 39: '.ajax_next'});
                        //target_wrap.avia_swipe_trigger({prev:'.ajax_previous', next:'.ajax_next'});

                        items.each(function () {

                            var current = $(this), overlay;

                            current.addClass('no_combo').bind('click', function (event) {
                                overlay = current.find('.slideshow_overlay');

                                if (overlay.length) {
                                    event.stopPropagation();
                                    methods.load_item.apply(current.find('a:eq(0)'));
                                    return false;
                                }
                            });


                        });
                    },

                    control_click: function () {
                        var showItem,
                            activeID = container.find('.active_portfolio_item').data('ajax-id'),
                            active = container.find('.post-entry-' + activeID);

                        switch (this.hash) {
                            case '#next':

                                showItem = active.nextAll('.post-entry:visible:eq(0)').find('a:eq(0)');
                                if (!showItem.length) {
                                    showItem = $('.post-entry:visible:eq(0)', container).find('a:eq(0)');
                                }
                                showItem.trigger('click');

                                break;
                            case '#prev':

                                showItem = active.prevAll('.post-entry:visible:eq(0)').find('a:eq(0)');
                                if (!showItem.length) {
                                    showItem = $('.post-entry:visible:last', container).find('a:eq(0)');
                                }
                                showItem.trigger('click');

                                break;
                            case '#close':

                                animating = true;

                                target_wrap.slideUp(options.timing, options.easing, function () {
                                    container.find('.active_portfolio_item').removeClass('active_portfolio_item');
                                    content_retrieved[is_open].attr({'style': ""}).removeClass('open_slide');
                                    target_wrap.removeClass('open_container');
                                    animating = is_open = index_open = false;
                                    methods.remove_video();
                                    the_body.trigger('av_resize_finished');
                                });

                                break;
                        }
                        return false;
                    },


                    resize_reset: function () {
                        if (is_open === false) {
                            target_container.html('');
                            content_retrieved = [];
                        }
                    }
                };

                methods.add_controls();

                container.on("click", "a", methods.load_item);
                controls.on("click", "a", methods.control_click);
                if (jQuery.support.leadingWhitespace) {
                    win.bind('debouncedresize', methods.resize_reset);
                }

            });
        };
    }(jQuery));


// -------------------------------------------------------------------------------------------
// Fullscreen Slideshow 
// 
// extends avia slideshow script with a more sophisticated preloader and fixed size for slider
// -------------------------------------------------------------------------------------------


    $.AviaFullscreenSlider = function (options, slider) {
        this.$slider = $(slider);
        this.$inner = this.$slider.find('.avia-slideshow-inner');
        this.$innerLi = this.$inner.find('>li');
        this.$caption = this.$inner.find('.avia-slide-wrap .caption_container');
        this.$win = $(window);
        this.isMobile = $.avia_utilities.isMobile;
        this.property = {};
        this.scrollPos = "0";
        this.transform3d = document.documentElement.className.indexOf('avia_transform3d') !== -1 ? true : false;
        this.ticking = false;


        if ($.avia_utilities.supported.transition === undefined) {
            $.avia_utilities.supported.transition = $.avia_utilities.supports('transition');
        }

        this._init(options);
    }

    $.AviaFullscreenSlider.defaults = {

        //height of the slider in percent
        height: 100,

        //subtract elements from the height
        subtract: '#wpadminbar, #header, #main>.title_container'


    };

    $.AviaFullscreenSlider.prototype =
    {
        _init: function (options) {
            var _self = this;
            //set the default options
            this.options = $.extend(true, {}, $.AviaFullscreenSlider.defaults, options);

            if (this.$slider.data('slide_height')) this.options.height = this.$slider.data('slide_height');

            //elements that get subtracted from the image height
            this.$subtract = $(this.options.subtract);


            // set the slideshow size
            this._setSize();

            // set resizing script on window resize
            this.$win.on('debouncedresize', $.proxy(this._setSize, this));

            //parallax scroll if element if leaving viewport
            setTimeout(function () {
                if (!_self.isMobile) //disable parallax scrolling on mobile
                    _self.$win.on('scroll', $.proxy(_self._on_scroll, _self));

            }, 100);
            /**/

            //activate the defaule slider
            this.$slider.aviaSlider({bg_slider: true});


        },

        _on_scroll: function (e) {
            var _self = this;

            if (!_self.ticking) {
                _self.ticking = true;
                window.requestAnimationFrame($.proxy(_self._parallax_scroll, _self));
            }
        },


        _fetch_properties: function (slide_height) {
            this.property.offset = this.$slider.offset().top;
            this.property.wh = this.$win.height();
            this.property.height = slide_height || this.$slider.outerHeight();

            //re-position the slider
            this._parallax_scroll();
        },

        _setSize: function () {
            if (!$.fn.avia_browser_height) {

                var viewport = this.$win.height(),
                    slide_height = Math.ceil((viewport / 100) * this.options.height);

                if (this.$subtract.length && this.options.height == 100) {
                    this.$subtract.each(function () {
                        slide_height -= this.offsetHeight - 0.5;
                    });
                }
                else {
                    slide_height -= 1;
                }
                this.$slider.height(slide_height).removeClass('av-default-height-applied');
                this.$inner.css('padding', 0);
            }


            this._fetch_properties(slide_height);
        },

        _parallax_scroll: function (e) {
            if (this.isMobile) return; //disable parallax scrolling on mobile

            var winTop = this.$win.scrollTop(),
                winBottom = winTop + this.property.wh,
                scrollPos = "0",
                prop = {}, prop2 = {};

            if (this.property.offset < winTop && winTop <= this.property.offset + this.property.height) {
                scrollPos = Math.round((winTop - this.property.offset) * 0.3);
            }

            if (this.scrollPos != scrollPos) {
                //slide background parallax
                this.scrollPos = scrollPos;

                //currently no 3d transform, because of browser quirks
                //this.transform3d = false;

                if (this.transform3d) {
                    prop[$.avia_utilities.supported.transition + "transform"] = "translate3d(0px," + scrollPos + "px,0px)";
                }
                else {
                    prop[$.avia_utilities.supported.transition + "transform"] = "translate(0px," + scrollPos + "px)";
                }


                this.$inner.css(prop);


                //slider caption parallax

                // prop2[$.avia_utilities.supported.transition+"transform"] = "translate(0px,-"+ ( scrollPos * 1) +"px)";
                /*
                 prop2['opacity'] = Math.ceil((this.$slider.height() - (scrollPos * 2)) / 100)/ 10;
                 prop2['opacity'] = prop2['opacity'] < 0 ? 0 : prop2['opacity'];
                 this.$caption.css(prop2);
                 */
            }

            this.ticking = false;
        }
    };


    $.fn.aviaFullscreenSlider = function (options) {
        return this.each(function () {
            var active = $.data(this, 'aviaFullscreenSlider');

            if (!active) {
                //make sure that the function doesnt get aplied a second time
                $.data(this, 'aviaFullscreenSlider', 1);

                //create the preparations for fullscreen slider
                new $.AviaFullscreenSlider(options, this);
            }
        });
    }

// -------------------------------------------------------------------------------------------
// makes sure that the fixed container height is removed once the layerslider is loaded, so it adapts to the screen resolution
// -------------------------------------------------------------------------------------------

    $.AviaParallaxElement = function (options, element) {
        this.$el = $(element).addClass('active-parallax');
        this.$win = $(window);
        this.$body = $('body');
        this.$parent = this.$el.parent();
        this.property = {};
        this.isMobile = $.avia_utilities.isMobile;
        this.ratio = this.$el.data('avia-parallax-ratio') || 0.5;
        this.transform = document.documentElement.className.indexOf('avia_transform') !== -1 ? true : false;
        this.transform3d = document.documentElement.className.indexOf('avia_transform3d') !== -1 ? true : false;
        this.ticking = false;

        if ($.avia_utilities.supported.transition === undefined) {
            $.avia_utilities.supported.transition = $.avia_utilities.supports('transition');
        }

        this._init(options);
    }

    $.AviaParallaxElement.prototype = {

        _init: function (options) {
            var _self = this;
            if (_self.isMobile) {
                return; //disable parallax scrolling on mobile
            }

            //fetch window constants
            setTimeout(function () {
                _self._fetch_properties();
            }, 30);

            this.$win.on("debouncedresize av-height-change", $.proxy(_self._fetch_properties, _self));
            this.$body.on("av_resize_finished", $.proxy(_self._fetch_properties, _self));


            //activate the scrolling
            setTimeout(function () {
                _self.$win.on('scroll', $.proxy(_self._on_scroll, _self));

            }, 100);
        },

        _fetch_properties: function () {
            this.property.offset = this.$parent.offset().top;
            this.property.wh = this.$win.height();
            this.property.height = this.$parent.outerHeight();

            //set the height of the element based on the windows height, offset ratio and parent height
            this.$el.height(Math.ceil((this.property.wh * this.ratio) + this.property.height));

            //re-position the element
            this._parallax_scroll();
        },

        _on_scroll: function (e) {
            var _self = this;

            if (!_self.ticking) {
                _self.ticking = true;
                window.requestAnimationFrame($.proxy(_self._parallax_scroll, _self));
            }
        },

        _parallax_scroll: function (e) {
            var winTop = this.$win.scrollTop(),
                winBottom = winTop + this.property.wh,
                scrollPos = "0",
                prop = {};

            //shift element when it moves into viewport
            if (this.property.offset < winBottom && winTop <= this.property.offset + this.property.height) {
                scrollPos = Math.ceil((winBottom - this.property.offset) * this.ratio);

                //parallax movement via backround position change, although
                if (this.transform3d) {
                    prop[$.avia_utilities.supported.transition + "transform"] = "translate3d(0px," + scrollPos + "px, 0px)";
                }
                else if (this.transform) {
                    prop[$.avia_utilities.supported.transition + "transform"] = "translate(0px," + scrollPos + "px)";
                }
                else {
                    prop["background-position"] = "0px " + scrollPos + "px";
                }

                this.$el.css(prop);
            }

            this.ticking = false;
        }
    };


    $.fn.avia_parallax = function (options) {
        return this.each(function () {
            var self = $.data(this, 'aviaParallax');

            if (!self) {
                self = $.data(this, 'aviaParallax', new $.AviaParallaxElement(options, this));
            }
        });
    }


// -------------------------------------------------------------------------------------------
// Helper to allow fixed bgs on mobile
// -------------------------------------------------------------------------------------------

    $.fn.avia_mobile_fixed = function (options) {
        var isMobile = $.avia_utilities.isMobile;
        if (!isMobile) return;

        return this.each(function () {
            var current = $(this).addClass('av-parallax-section'),
                $background = current.attr('style'),
                $attachment_class = current.data('section-bg-repeat'),
                template = "";

            if ($attachment_class == 'stretch' || $attachment_class == 'no-repeat') {
                $attachment_class = " avia-full-stretch";
            }
            else {
                $attachment_class = "";
            }

            template = "<div class='av-parallax " + $attachment_class + "' data-avia-parallax-ratio='0.0' style = '" + $background + "' ></div>";

            current.prepend(template);
            current.attr('style', '');
        });
    }


// -------------------------------------------------------------------------------------------
// makes sure that the fixed container height is removed once the layerslider is loaded, so it adapts to the screen resolution
// -------------------------------------------------------------------------------------------

    $.fn.layer_slider_height_helper = function (options) {
        return this.each(function () {
            var container = $(this),
                first_div = container.find('>div:first'),
                timeout = false,
                counter = 0,
                reset_size = function () {
                    if (first_div.height() > 0 || counter > 5) {
                        container.height('auto');
                    }
                    else {
                        timeout = setTimeout(reset_size, 500);
                        counter++;
                    }
                };

            if (!first_div.length) return;

            timeout = setTimeout(reset_size, 0);
        });
    }

// -------------------------------------------------------------------------------------------
// testimonial shortcode javascript
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_testimonial = function (options) {
        return this.each(function () {
            var container = $(this), elements = container.find('.avia-testimonial');


            //trigger displaying of thumbnails
            container.on('avia_start_animation', function () {
                elements.each(function (i) {
                    var element = $(this);
                    setTimeout(function () {
                        element.addClass('avia_start_animation')
                    }, (i * 150));
                });
            });
        });
    }


// -------------------------------------------------------------------------------------------
// Progress bar shortcode javascript
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_progressbar = function (options) {
        return this.each(function () {
            var container = $(this), elements = container.find('.progress');


            //trigger displaying of thumbnails
            container.on('avia_start_animation', function () {
                elements.each(function (i) {
                    var element = $(this);
                    setTimeout(function () {
                        element.addClass('avia_start_animation')
                    }, (i * 250));
                });
            });
        });
    }

// -------------------------------------------------------------------------------------------
// Iconlist shortcode javascript
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_iconlist = function (options) {
        return this.each(function () {
            var iconlist = $(this), elements = iconlist.find('>li');


            //trigger displaying of thumbnails
            iconlist.on('avia_start_animation', function () {
                elements.each(function (i) {
                    var element = $(this);
                    setTimeout(function () {
                        element.addClass('avia_start_animation')
                    }, (i * 350));
                });
            });
        });
    }


// -------------------------------------------------------------------------------------------
//  shortcode javascript for delayed animation even when non connected elements are used
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_animation_delayed = function (options) {
        var global_timer = 0,
            delay = options.delay || 50;

        return this.each(function () {
            var elements = $(this);

            //trigger displaying of thumbnails
            elements.on('avia_start_animation', function () {
                var element = $(this);
                global_timer++;
                setTimeout(function () {
                    element.addClass('avia_start_delayed_animation');
                    global_timer--;
                }, (global_timer * delay));
            });
        });
    }


// -------------------------------------------------------------------------------------------
// Section Height Helper
// -------------------------------------------------------------------------------------------

    $.fn.avia_browser_height = function () {
        if (!this.length) return;

        var win = $(window),
            html_el = $('html'),
            subtract = $('#wpadminbar, #header.av_header_top:not(.html_header_transparency #header), #main>.title_container'),
            css_block = $("<style type='text/css' id='av-browser-height'></style>").appendTo('head:first'),
            sidebar_menu = $('.html_header_sidebar #top #header_main'),
            full_slider = $('.html_header_sidebar .avia-fullscreen-slider.avia-builder-el-0.avia-builder-el-no-sibling').addClass('av-solo-full'),
            calc_height = function () {
                var css = "",
                    wh100 = win.height(),
                    ww100 = win.width(),
                    wh100_mod = wh100,
                    whCover = (wh100 / 9) * 16,
                    wwCover = (ww100 / 16) * 9,
                    wh75 = Math.round(wh100 * 0.75),
                    wh50 = Math.round(wh100 * 0.5),
                    wh25 = Math.round(wh100 * 0.25),
                    solo = 0;

                if (sidebar_menu.length) solo = sidebar_menu.height();

                subtract.each(function () {
                    wh100_mod -= this.offsetHeight - 1;
                });

                var whCoverMod = (wh100_mod / 9) * 16;

                //fade in of section content with minimum height once the height has been calculated
                css += ".avia-section.av-minimum-height .container{opacity: 1; }\n";

                //various section heights (100-25% as well as 100% - header/adminbar in case its the first builder element)
                css += ".av-minimum-height-100 .container, .avia-fullscreen-slider .avia-slideshow, #top.avia-blank .av-minimum-height-100 .container{height:" + wh100 + "px;}\n";
                css += ".av-minimum-height-75 .container	{height:" + wh75 + "px;}\n";
                css += ".av-minimum-height-50 .container {height:" + wh50 + "px;}\n";
                css += ".av-minimum-height-25 .container {height:" + wh25 + "px;}\n";
                css += ".avia-builder-el-0.av-minimum-height-100 .container, .avia-builder-el-0.avia-fullscreen-slider .avia-slideshow{height:" + wh100_mod + "px;}\n";

                css += "#top .av-solo-full .avia-slideshow {min-height:" + solo + "px;}\n";

                //fullscreen video calculations
                if (ww100 / wh100 < 16 / 9) {
                    css += "#top .av-element-cover iframe, #top .av-element-cover embed, #top .av-element-cover object, #top .av-element-cover video{width:" + whCover + "px; left: -" + (whCover - ww100) / 2 + "px;}\n";
                }
                else {
                    css += "#top .av-element-cover iframe, #top .av-element-cover embed, #top .av-element-cover object, #top .av-element-cover video{height:" + wwCover + "px; top: -" + (wwCover - wh100) / 2 + "px;}\n";
                }

                if (ww100 / wh100_mod < 16 / 9) {
                    css += "#top .avia-builder-el-0 .av-element-cover iframe, #top .avia-builder-el-0 .av-element-cover embed, #top .avia-builder-el-0 .av-element-cover object, #top .avia-builder-el-0 .av-element-cover video{width:" + whCoverMod + "px; left: -" + (whCoverMod - ww100) / 2 + "px;}\n";
                }
                else {
                    css += "#top .avia-builder-el-0 .av-element-cover iframe, #top .avia-builder-el-0 .av-element-cover embed, #top .avia-builder-el-0 .av-element-cover object, #top .avia-builder-el-0 .av-element-cover video{height:" + wwCover + "px; top: -" + (wwCover - wh100_mod) / 2 + "px;}\n";
                }

                //ie8 needs different insert method
                try {
                    css_block.text(css);
                }
                catch (err) {
                    css_block.remove();
                    css_block = $("<style type='text/css' id='av-browser-height'>" + css + "</style>").appendTo('head:first');
                }


                setTimeout(function () {
                    win.trigger('av-height-change');
                    /*broadcast the height change*/
                }, 100);
            };

        win.on('debouncedresize', calc_height);
        calc_height();
    }

// -------------------------------------------------------------------------------------------
// Video Section helper
// -------------------------------------------------------------------------------------------

    $.fn.avia_video_section = function () {
        if (!this.length) return;

        var elements = this.length, content = "",
            win = $(window),
            css_block = $("<style type='text/css' id='av-section-height'></style>").appendTo('head:first'),
            calc_height = function (section, counter) {
                if (counter === 0) {
                    content = "";
                }

                var css = "",
                    the_id = '#' + section.attr('id'),
                    wh100 = section.height(),
                    ww100 = section.width(),
                    aspect = section.data('sectionVideoRatio').split(':'),
                    video_w = aspect[0],
                    video_h = aspect[1],
                    whCover = (wh100 / video_h ) * video_w,
                    wwCover = (ww100 / video_w ) * video_h;

                //fullscreen video calculations
                if (ww100 / wh100 < video_w / video_h) {
                    css += "#top " + the_id + " .av-section-video-bg iframe, #top " + the_id + " .av-section-video-bg embed, #top " + the_id + " .av-section-video-bg object, #top " + the_id + " .av-section-video-bg video{width:" + whCover + "px; left: -" + (whCover - ww100) / 2 + "px;}\n";
                }
                else {
                    css += "#top " + the_id + " .av-section-video-bg iframe, #top " + the_id + " .av-section-video-bg embed, #top " + the_id + " .av-section-video-bg object, #top " + the_id + " .av-section-video-bg video{height:" + wwCover + "px; top: -" + (wwCover - wh100) / 2 + "px;}\n";
                }

                content = content + css;

                if (elements == counter + 1) {
                    //ie8 needs different insert method
                    try {
                        css_block.text(content);
                    }
                    catch (err) {
                        css_block.remove();
                        css_block = $("<style type='text/css' id='av-section-height'>" + content + "</style>").appendTo('head:first');
                    }
                }
            };


        return this.each(function (i) {
            var self = $(this);

            win.on('debouncedresize', function () {
                calc_height(self, i);
            });
            calc_height(self, i);
        });

    }


// -------------------------------------------------------------------------------------------
// Gallery shortcode javascript
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_gallery = function (options) {
        return this.each(function () {
            var gallery = $(this), images = gallery.find('img'), big_prev = gallery.find('.avia-gallery-big');


            //trigger displaying of thumbnails
            gallery.on('avia_start_animation', function () {
                images.each(function (i) {
                    var image = $(this);
                    setTimeout(function () {
                        image.addClass('avia_start_animation')
                    }, (i * 110));
                });
            });

            if (gallery.hasClass('deactivate_avia_lazyload')) gallery.trigger('avia_start_animation');

            //trigger thumbnail hover and big prev image change
            if (big_prev.length) {
                gallery.on('mouseenter', '.avia-gallery-thumb a', function () {
                    var _self = this;

                    big_prev.attr('data-onclick', _self.getAttribute("data-onclick"));
                    big_prev.height(big_prev.height());
                    big_prev.attr('href', _self.href)

                    var newImg = _self.getAttribute("data-prev-img"),
                        oldImg = big_prev.find('img'),
                        oldImgSrc = oldImg.attr('src');

                    if (newImg != oldImgSrc) {
                        var next_img = new Image();
                        next_img.src = newImg;

                        var $next = $(next_img);

                        if (big_prev.hasClass('avia-gallery-big-no-crop-thumb')) {
                            $next.css({'height': big_prev.height(), 'width': 'auto'});
                        }

                        big_prev.stop().animate({opacity: 0}, function () {
                            $next.insertAfter(oldImg);
                            oldImg.remove();
                            big_prev.animate({opacity: 1});

                            big_prev.attr('title', $(_self).attr('title'));

                        });
                    }
                });

                big_prev.on('click', function () {
                    var imagelink = gallery.find('.avia-gallery-thumb a').eq(this.getAttribute("data-onclick") - 1);

                    if (imagelink && !imagelink.hasClass('aviaopeninbrowser')) {
                        imagelink.trigger('click');
                    }
                    else if (imagelink) {
                        var imgurl = imagelink.attr("href");

                        if (imagelink.hasClass('aviablank') && imgurl != '') {
                            window.open(imgurl, '_blank');
                        }
                        else if (imgurl != '') {
                            window.open(imgurl, '_self');
                        }
                    }
                    return false;
                });


                $(window).on("debouncedresize", function () {
                    big_prev.height('auto');
                });

            }
        });
    }
// -------------------------------------------------------------------------------------------
// Tree Transversal - EJB
// -------------------------------------------------------------------------------------------
    $.fn.getParent = function (num) {
        var last = this[0];
        for (var i = 0; i < num; i++) {
            last = last.parentNode;
        }
        return jQuery(last);
    };
// -------------------------------------------------------------------------------------------
// Toggle shortcode javascript
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_toggle = function (options) {
        var defaults =
        {
            single: '.single_toggle',
            heading: '.toggler',
            content: '.toggle_wrap',
            sortContainer: '.taglist'
        };

        var win = $(window),
            options = $.extend(defaults, options);

        return this.each(function () {
            var container = $(this).addClass('enable_toggles'),
                toggles = $(options.single, container),
                heading = $(options.heading, container),
                allContent = $(options.content, container),
                sortLinks = $(options.sortContainer + " a", container),
                initialClosed = true;

            heading.each(function (i) {
                var thisheading = $(this), content = thisheading.next(options.content, container);

                function scroll_to_viewport() {
                    //check if toggle title is in viewport. if not scroll up
                    var el_offset = content.offset().top,
                        scoll_target = el_offset - 50 - parseInt($('html').css('margin-top'), 10);

                    if (win.scrollTop() > el_offset) {
                        $('html:not(:animated),body:not(:animated)').animate({scrollTop: scoll_target}, 200);
                    }
                }

                if (content.css('visibility') != "hidden") {
                    initialClosed = false;
                    thisheading.addClass('activeTitle');
                    thisheading.attr({'aria-expanded': 'true', 'tabindex': '0'});
                    content.attr({'aria-expanded': 'true','aria-hidden': 'false'});
                    //thisheading.attr({'aria-selected': 'true', 'tabindex': '0'});
                    //content.attr({'aria-hidden': 'false'});
                } else {
                    thisheading.attr({'aria-expanded': 'false', 'tabindex': '-1'});
                    content.attr({'aria-expanded': 'false','aria-hidden': 'true'});
                }

                thisheading.on('click', function () {
                    if (content.css('visibility') != "hidden") {
                        content.slideUp(100, function () {
                            content.removeClass('active_tc').attr({style: ''});
                            // content.attr({'aria-hidden': 'true'});
                            win.trigger('av-height-change');
                        });
                        thisheading.removeClass('activeTitle');
                        thisheading.attr({'aria-expanded': 'false'});
                        content.attr({'aria-expanded': 'false','aria-hidden': 'true'});
                        //thisheading.attr({'aria-selected': 'false', 'tabindex': '-1'});

                    }
                    else {
                        if (container.is('.toggle_close_all')) {
                            allContent.not(content).slideUp(100, function () {
                                $(this).removeClass('active_tc').attr({style: ''});
                                scroll_to_viewport();
                            });
                            //allContent.attr({'aria-hidden': 'true'});
                            heading.removeClass('activeTitle');
                            heading.attr({'aria-expanded': 'false'});
                            allContent.attr({'aria-expanded': 'false','aria-hidden': 'true'});
                            //heading.attr({'aria-selected': 'false', 'tabindex': '-1'});
                        }
                        content.addClass('active_tc').slideDown(100,

                            function () {
                                if (!container.is('.toggle_close_all')) {
                                    scroll_to_viewport();
                                }

                                win.trigger('av-height-change');
                            }
                        );
                        thisheading.addClass('activeTitle');
                        thisheading.attr({'aria-expanded': 'true'});
                        content.attr({'aria-expanded': 'true','aria-hidden': 'false'});
                        //thisheading.attr({'aria-selected': 'true', 'tabindex': '0'});
                        //content.attr({'aria-hidden': 'false'});
                        location.replace(thisheading.data('fake-id'));
                    }
                });

                /* https://dequeuniversity.com/library/aria/tabpanels-accordions/sf-tabless-multiselect-accordion
                http://codepen.io/akornmeier/pen/oxgKgr */
                /* EJB */

                thisheading.on('keydown', function (e) {
                    var $target = $(e.currentTarget);
                    var $subMenu = $target.next("div.toggle_wrap");
                    var key = e.which;
                    if (key === 13 || key === 32) {
                        if (!$subMenu.hasClass("active_tc")) {
                            expandMenu($target,$subMenu,container);
                        } else {
                            collapseMenu($target,$subMenu);
                        }
                        e.preventDefault();
                    } else if (key === 37 || key === 38) { // left/up arrow
                        // if there's a previous one, go to that; otherwise nothing
                        var prevItem = $(e.currentTarget)
                            .getParent(2)
                            .prev(".av_toggle_section")
                            .find(".toggler")
                            .first();
                        if (prevItem.length > 0) {
                            $target.attr('tabindex','-1');
                            prevItem.focus().attr('tabindex','0');
                        }
                        e.preventDefault();
                        e.stopPropagation();
                    } else if (key === 39 || key === 40) { // right/down arrow
                        // if there's a next one, go to that; otherwise nothing
                        var nextItem = $(e.currentTarget)
                            .getParent(2)
                            .next(".av_toggle_section")
                            .find(".toggler")
                            .first();
                        if (nextItem.length > 0) {
                            $target.attr('tabindex','-1');
                            nextItem.focus().attr('tabindex','0');

                        }
                        e.preventDefault();
                        e.stopPropagation();
                    } else if (key === 27) { // esc
                        //close the menu
                        if ($subMenu.hasClass("active_tc")) {
                            collapseMenu($target,$subMenu);
                        }
                        e.preventDefault();
                    }
                });

            });

            if (initialClosed) {
                $(heading[0]).attr('tabindex','0');

            }

            var collapseMenu = function(thisheading,content) {
                content.slideUp(100, function () {
                    content.removeClass('active_tc').attr({style: ''});
                    // content.attr({'aria-hidden': 'true'});
                    win.trigger('av-height-change');
                });
                thisheading.removeClass('activeTitle');
                thisheading.attr({'aria-expanded': 'false'});
                content.attr({'aria-expanded': 'false','aria-hidden': 'true'});

            };
            var expandMenu = function(thisheading,content,container) {
                content.addClass('active_tc').slideDown(100,

                    function () {
                        /*if (!container.is('.toggle_close_all')) {
                            scroll_to_viewport();
                        }*/

                        win.trigger('av-height-change');
                    }
                );
                thisheading.addClass('activeTitle');
                thisheading.attr({'aria-expanded': 'true'});
                content.attr({'aria-expanded': 'true','aria-hidden': 'false'});
                //thisheading.attr({'aria-selected': 'true', 'tabindex': '0'});
                //content.attr({'aria-hidden': 'false'});
                location.replace(thisheading.data('fake-id'));

            };

            sortLinks.click(function (e) {

                e.preventDefault();
                var show = toggles.filter('[data-tags~="' + $(this).data('tag') + '"]'),
                    hide = toggles.not('[data-tags~="' + $(this).data('tag') + '"]');

                sortLinks.removeClass('activeFilter');
                $(this).addClass('activeFilter');
                heading.filter('.activeTitle').trigger('click');
                show.slideDown();
                hide.slideUp();
            });


            function trigger_default_open(hash) {
                if (!hash && window.location.hash) hash = window.location.hash;
                if (!hash) return;

                var open = heading.filter('[data-fake-id="' + hash + '"]');

                if (open.length) {
                    if (!open.is('.activeTitle')) open.trigger('click');
                    window.scrollTo(0, container.offset().top - 70);
                }
            }

            trigger_default_open(false);

            $('a').on('click', function () {
                var hash = $(this).attr('href');
                if (typeof hash != "undefined" && hash) {
                    hash = hash.replace(/^.*?#/, '');
                    trigger_default_open('#' + hash);
                }
            });

        });
    };


// -------------------------------------------------------------------------------------------
// Tab Shortcode
// -------------------------------------------------------------------------------------------

    $.fn.avia_sc_tabs = function (options) {
        var defaults =
        {
            heading: '.tab',
            content: '.tab_content',
            active: 'active_tab',
            sidebar: false
        };

        var win = $(window);
        options = $.extend(defaults, options);

        return this.each(function () {
            var container = $(this),
                tab_titles = $('<div class="tab_titles" role="tablist"></div>').prependTo(container),
                tabs = $(options.heading, container),
                content = $(options.content, container),
                newtabs = false,
                oldtabs = false;

            newtabs = tabs.clone();
            oldtabs = tabs.addClass('fullsize-tab');
            tabs = newtabs;
            tabs = tabs.attr({'role':'tab'});
            content = content.attr({'role': 'tabpanel', 'tabindex': '0'});

            tabs.prependTo(tab_titles).each(function (i) {
                var tab = $(this), the_oldtab = false;
                if (newtabs) the_oldtab = oldtabs.filter(':eq(' + i + ')');
                tab.attr({'aria-controls': content[i].id});

                if(tab.hasClass('active_tab')){
                    tab.attr({'tabindex': '0', 'aria-selected': 'true'});
                }else{
                    tab.attr({'tabindex': '-1', 'aria-selected': 'false'});
                }

                tab.addClass('tab_counter_' + i).bind('click focus', function () {
                    open_content(tab, i, the_oldtab);
                    return false;
                });

                if (newtabs) {
                    the_oldtab.bind('click focus', function () {
                        open_content(the_oldtab, i, tab);
                        return false;
                    });
                }

                tab.on('keydown', function (e) {
                    var $target = $(e.currentTarget);
                    var key = e.which;
                    if (key === 13 || key === 32) {
                        e.preventDefault();
                    } else if (key === 37 || key === 38) { // left/up arrow
                        // if there's a previous one, go to that; otherwise nothing
                        var prevItem = $(e.currentTarget)
                            .prev(".tab")
                            .first();
                        if (prevItem.length > 0) {
                            $target.attr({'tabindex':'-1', 'aria-selected':'false'});
                            prevItem.focus().attr({'tabindex':'0', 'aria-selected':'true'});
                        }

                        e.preventDefault();
                        e.stopPropagation();
                    } else if (key === 39 || key === 40) { // right/down arrow
                        // if there's a next one, go to that; otherwise nothing
                        var nextItem = $(e.currentTarget)
                            .next(".tab")
                            .first();
                        if (nextItem.length > 0) {
                            $target.attr({'tabindex':'-1', 'aria-selected':'false'});
                            nextItem.focus().attr({'tabindex':'0', 'aria-selected':'true'});
                        }

                        e.preventDefault();
                        e.stopPropagation();
                    }
                });
            });

            set_size();
            trigger_default_open(false);
            win.on("debouncedresize", set_size);

            $('a').on('click focus', function () {
                var hash = $(this).attr('href');
                if (typeof hash != "undefined" && hash) {
                    hash = hash.replace(/^.*?#/, '');
                    trigger_default_open('#' + hash);
                }
            });

            function set_size() {
                if (!options.sidebar) return;
                content.css({'min-height': tab_titles.outerHeight() + 1});
            }

            function open_content(tab, i, alternate_tab) {
                if (!tab.is('.' + options.active)) {
                    $('.' + options.active, container).removeClass(options.active);
                    $('.' + options.active + '_content', container).removeClass(options.active + '_content');

                    tab.addClass(options.active);

                    var new_loc = tab.data('fake-id');
                    if (typeof new_loc == 'string') location.replace(new_loc);

                    if (alternate_tab) alternate_tab.addClass(options.active);
                    var active_c = content.filter(':eq(' + i + ')').addClass(options.active + '_content');

                    if (typeof click_container != 'undefined' && click_container.length) {
                        sidebar_shadow.height(active_c.outerHeight());
                    }

                    //check if tab title is in viewport. if not scroll up
                    var el_offset = active_c.offset().top,
                        scoll_target = el_offset - 50 - parseInt($('html').css('margin-top'), 10);

                    if (win.scrollTop() > el_offset) {
                        $('html:not(:animated),body:not(:animated)').scrollTop(scoll_target);
                    }
                }
            }

            function trigger_default_open(hash) {
                if (!hash && window.location.hash) hash = window.location.hash;
                if (!hash) return;

                var open = tabs.filter('[data-fake-id="' + hash + '"]');

                if (open.length) {
                    if (!open.is('.active_tab')) open.trigger('click focus');
                    window.scrollTo(0, container.offset().top - 70);
                }
            }

        });
    };


// -------------------------------------------------------------------------------------------
// Big Number animation shortcode javascript
// -------------------------------------------------------------------------------------------

    (function ($) {
        $.fn.avia_sc_animated_number = function (options) {
            var skipStep = false,
                start_count = function (element, countTo, increment, current, fakeCountTo) {
                    //calculate the new number
                    var newCount = current + increment;

                    //if the number is bigger than our final number set the number and finish
                    if (newCount >= fakeCountTo) {
                        element.text(countTo); //exit
                    }
                    else {
                        var prepend = "", addZeros = countTo.toString().length - newCount.toString().length

                        //if the number has less digits than the final number some zeros where omitted. add them to the front
                        for (var i = addZeros; i > 0; i--) {
                            prepend += "0";
                        }

                        element.text(prepend + newCount);
                        window.requestAnimationFrame(function () {
                            start_count(element, countTo, increment, newCount, fakeCountTo)
                        });
                    }
                };

            return this.each(function () {
                var number_container = $(this), elements = number_container.find('.avia-single-number'), countTimer = number_container.data('timer') || 3000;

                //prepare elements
                elements.each(function (i) {
                    var element = $(this), text = element.text();
                    if (window.addEventListener) element.text(text.replace(/./g, "0"));
                    /*https://github.com/AviaThemes/wp-themes/issues/812*/
                });

                //trigger number animation
                number_container.addClass('number_prepared').on('avia_start_animation', function () {
                    elements.each(function (i) {
                        var element = $(this), countTo = element.data('number'), fakeCountTo = countTo, current = parseInt(element.text(), 10), zeroOnly = /^0+$/.test(countTo), increment = 0;


                        //fallback for decimals like 00 or 000
                        if (zeroOnly && countTo !== 0) fakeCountTo = countTo.replace(/0/g, '9');

                        increment = Math.round(fakeCountTo * 32 / countTimer);
                        if (increment == 0 || increment % 10 == 0) increment += 1;

                        setTimeout(function () {
                            start_count(element, countTo, increment, current, fakeCountTo);
                        }, 300);
                    });
                });
            });
        }
    })(jQuery);


// -------------------------------------------------------------------------------------------
// contact form ajax
// -------------------------------------------------------------------------------------------

    (function ($) {
        $.fn.avia_ajax_form = function (variables) {
            var defaults =
            {
                sendPath: 'send.php',
                responseContainer: '.ajaxresponse'
            };

            var options = $.extend(defaults, variables);

            return this.each(function () {
                var form = $(this),
                    form_sent = false,
                    send =
                    {
                        formElements: form.find('textarea, select, input[type=text], input[type=checkbox], input[type=hidden]'),
                        validationError: false,
                        button: form.find('input:submit'),
                        dataObj: {}
                    },

                    responseContainer = form.next(options.responseContainer + ":eq(0)");

                send.button.bind('click', checkElements);


                //change type of email forms on mobile so the e-mail keyboard with @ sign is used
                if ($.avia_utilities.isMobile) {
                    send.formElements.each(function (i) {
                        var currentElement = $(this), is_email = currentElement.hasClass('is_email');
                        if (is_email) currentElement.attr('type', 'email');
                    });
                }


                function send_ajax_form() {
                    if (form_sent) {
                        return false;
                    }

                    form_sent = true;
                    send.button.addClass('av-sending-button');
                    send.button.val(send.button.data('sending-label'));

                    var redirect_to = form.data('avia-redirect') || false,
                        action = form.attr('action');

                    responseContainer.load(action + ' ' + options.responseContainer, send.dataObj, function () {
                        if (redirect_to && action != redirect_to) {
                            form.attr('action', redirect_to);
                            location.href = redirect_to;
                            // form.submit();
                        }
                        else {
                            responseContainer.removeClass('hidden').css({display: "block"});
                            form.slideUp(400, function () {
                                responseContainer.slideDown(400, function () {
                                    $('body').trigger('av_resize_finished');
                                });
                                send.formElements.val('');
                            });
                        }
                    });
                }

                function checkElements() {
                    // reset validation var and send data
                    send.validationError = false;
                    send.datastring = 'ajax=true';

                    send.formElements.each(function (i) {
                        var currentElement = $(this),
                            surroundingElement = currentElement.parent(),
                            value = currentElement.val(),
                            name = currentElement.attr('name'),
                            classes = currentElement.attr('class'),
                            nomatch = true;

                        if (currentElement.is(':checkbox')) {
                            if (currentElement.is(':checked')) {
                                value = true
                            } else {
                                value = ''
                            }
                        }

                        send.dataObj[name] = encodeURIComponent(value);

                        if (classes && classes.match(/is_empty/)) {
                            if (value == '') {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("error");
                                send.validationError = true;
                            }
                            else {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("valid");
                            }
                            nomatch = false;
                        }

                        if (classes && classes.match(/is_email/)) {
                            if (!value.match(/^[\w|\.|\-]+@\w[\w|\.|\-]*\.[a-zA-Z]{2,20}$/)) {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("error");
                                send.validationError = true;
                            }
                            else {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("valid");
                            }
                            nomatch = false;
                        }

                        if (classes && classes.match(/is_phone/)) {
                            if (!value.match(/^(\d|\s|\-|\/|\(|\)|\[|\]|e|x|t|ension|\.|\+|\_|\,|\:|\;){3,}$/)) {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("error");
                                send.validationError = true;
                            }
                            else {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("valid");
                            }
                            nomatch = false;
                        }

                        if (classes && classes.match(/is_number/)) {
                            if (!($.isNumeric(value)) || value == "") {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("error");
                                send.validationError = true;
                            }
                            else {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("valid");
                            }
                            nomatch = false;
                        }

                        if (classes && classes.match(/captcha/)) {
                            var verifier = form.find("#" + name + "_verifier").val(),
                                lastVer = verifier.charAt(verifier.length - 1),
                                finalVer = verifier.charAt(lastVer);

                            if (value != finalVer) {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("error");
                                send.validationError = true;
                            }
                            else {
                                surroundingElement.removeClass("valid error ajax_alert").addClass("valid");
                            }
                            nomatch = false;
                        }

                        if (nomatch && value != '') {
                            surroundingElement.removeClass("valid error ajax_alert").addClass("valid");
                        }
                    });

                    if (send.validationError == false) {
                        send_ajax_form();
                    }
                    return false;
                }
            });
        };
    })(jQuery);


// -------------------------------------------------------------------------------------------
// Aviaccordion Slideshow 
// 
// accordion slider script
// -------------------------------------------------------------------------------------------

    $.AviaccordionSlider = function (options, slider) {
        this.$slider = $(slider);
        this.$inner = this.$slider.find('.aviaccordion-inner');
        this.$slides = this.$inner.find('.aviaccordion-slide');
        this.$images = this.$inner.find('.aviaccordion-image');
        this.$last = this.$slides.filter(':last');
        this.$titles = this.$slider.find('.aviaccordion-preview');
        this.$titlePos = this.$slider.find('.aviaccordion-preview-title-pos');
        this.$titleWrap = this.$slider.find('.aviaccordion-preview-title-wrap');
        this.$win = $(window);

        if ($.avia_utilities.supported.transition === undefined) {
            $.avia_utilities.supported.transition = $.avia_utilities.supports('transition');
        }

        this.browserPrefix = $.avia_utilities.supported.transition;
        this.cssActive = this.browserPrefix !== false ? true : false;
        this.transform3d = document.documentElement.className.indexOf('avia_transform3d') !== -1 ? true : false;
        this.isMobile = $.avia_utilities.isMobile;
        this.property = this.browserPrefix + 'transform',
            this.count = this.$slides.length;
        this.open = false;
        this.autoplay = false;
        this.increaseTitle = this.$slider.is(".aviaccordion-title-on-hover");
        // this.cssActive    = false; //testing no css3 browser

        this._init(options);
    }

    $.AviaccordionSlider.prototype =
    {
        _init: function (options) {
            var _self = this;
            _self.options = $.extend({}, options, this.$slider.data());
            $.avia_utilities.preload({
                container: this.$slider, single_callback: function () {
                    _self._kickOff();
                }
            });
        },

        _kickOff: function () {
            var _self = this;

            _self._calcMovement();
            _self._bindEvents();
            _self._showImages();
            _self._autoplay();
        },

        _autoplay: function () {
            var _self = this;

            if (_self.options.autoplay) {
                _self.autoplay = setInterval(function () {
                    _self.open = _self.open === false ? 0 : _self.open + 1;
                    if (_self.open >= _self.count) _self.open = 0;
                    _self._move({}, _self.open);

                }, _self.options.interval * 1000)
            }
        },

        _showImages: function () {
            var _self = this, counter = 0, delay = 300, title_delay = this.count * delay;

            if (this.cssActive) {
                setTimeout(function () {
                    _self.$slider.addClass('av-animation-active');
                }, 10);
            }

            this.$images.each(function (i) {
                var current = $(this), timer = delay * (i + 1);

                setTimeout(function () {
                    current.avia_animate({opacity: 1}, 400, function () {
                        current.css($.avia_utilities.supported.transition + "transform", "none");
                    });
                }, timer);
            });

            if (_self.increaseTitle) title_delay = 0;

            this.$titlePos.each(function (i) {
                var current = $(this), new_timer = title_delay + 100 * (i + 1);

                setTimeout(function () {
                    current.avia_animate({opacity: 1}, 200, function () {
                        current.css($.avia_utilities.supported.transition + "transform", "none");
                    });
                }, new_timer);
            });
        },

        _bindEvents: function () {
            var trigger = this.isMobile ? "click" : "mouseenter";

            this.$slider.on(trigger, '.aviaccordion-slide', $.proxy(this._move, this));
            this.$slider.on('mouseleave', '.aviaccordion-inner', $.proxy(this._move, this));
            this.$win.on('debouncedresize', $.proxy(this._calcMovement, this));
            this.$slider.on('av-prev av-next', $.proxy(this._moveTo, this));

            if (this.isMobile) {
                this.$slider.avia_swipe_trigger({
                    next: this.$slider,
                    prev: this.$slider,
                    event: {prev: 'av-prev', next: 'av-next'}
                });
            }

        },

        _titleHeight: function () {
            var th = 0;

            this.$titleWrap.css({'height': 'auto'}).each(function () {
                var new_h = $(this).outerHeight();
                if (new_h > th) th = new_h;

            }).css({'height': th + 2});

        },

        _calcMovement: function (event, allow_repeat) {
            var _self = this,
                containerWidth = this.$slider.width(),
                defaultPos = this.$last.data('av-left'),
                imgWidth = this.$images.filter(':last').width() || containerWidth,
                imgWidthPercent = Math.floor((100 / containerWidth) * imgWidth),
                allImageWidth = imgWidthPercent * _self.count,
                modifier = 3, // 10 - _self.count,
                tempMinLeft = 100 - imgWidthPercent,
                minLeft = tempMinLeft > defaultPos / modifier ? tempMinLeft : 0,
                oneLeft = minLeft / (_self.count - 1 ),
                titleWidth = imgWidth;


            if (allImageWidth < 110 && allow_repeat !== false) {
                //set height if necessary
                var slideHeight = this.$slider.height(),
                    maxHeight = (slideHeight / allImageWidth) * 110;

                this.$slider.css({'max-height': maxHeight});
                _self._calcMovement(event, false);
                return;
            }

            //backup so the minimized slides dont get too small
            if (oneLeft < 2) minLeft = 0;

            this.$slides.each(function (i) {
                var current = $(this), newLeft = 0, newRight = 0, defaultLeft = current.data('av-left');

                if (minLeft !== 0) {
                    newLeft = oneLeft * i;
                    newRight = imgWidthPercent + newLeft - oneLeft;
                }
                else {
                    newLeft = defaultLeft / Math.abs(modifier);
                    newRight = 100 - ((newLeft / i) * (_self.count - i));
                }

                if (i == 1 && _self.increaseTitle) {
                    titleWidth = newRight + 1;
                }

                if (_self.cssActive) {
                    //if we are not animating based on the css left value but on css transform we need to subtract the left value
                    newLeft = newLeft - defaultLeft;
                    newRight = newRight - defaultLeft;
                    defaultLeft = 0;
                }

                current.data('av-calc-default', defaultLeft);
                current.data('av-calc-left', newLeft);
                current.data('av-calc-right', newRight);

            });

            if (_self.increaseTitle) {
                _self.$titles.css({width: titleWidth + "%"});
            }
        },

        _moveTo: function (event) {
            var direction = event.type == "av-next" ? 1 : -1,
                nextSlide = this.open === false ? 0 : this.open + direction;

            if (nextSlide >= 0 && nextSlide < this.$slides.length) this._move(event, nextSlide);
        },

        _move: function (event, direct_open) {
            var _self = this,
                slide = event.currentTarget,
                itemNo = typeof direct_open != "undefined" ? direct_open : this.$slides.index(slide);

            this.open = itemNo;

            if (_self.autoplay && typeof slide != "undefined") {
                clearInterval(_self.autoplay);
                //how this is working -- sonar qube
                //_self.autoplay == false;
            }

            this.$slides.removeClass('aviaccordion-active-slide').each(function (i) {
                var current = $(this),
                    dataSet = current.data(),
                    trans_val = i <= itemNo ? dataSet.avCalcLeft : dataSet.avCalcRight,
                    transition = {},
                    reset = event.type == 'mouseleave' ? 1 : 0,
                    active = itemNo === i ? _self.$titleWrap.eq(i) : false;

                if (active) current.addClass('aviaccordion-active-slide');

                if (reset) {
                    trans_val = dataSet.avCalcDefault;
                    this.open = false;
                }

                if (_self.cssActive) //do a css3 animation
                {
                    //move the slides
                    transition[_self.property] = _self.transform3d ? "translate3d(" + trans_val + "%, 0, 0)" : "translate(" + trans_val + "%,0)"; //3d or 2d transform?
                    current.css(transition);
                }
                else {
                    transition.left = trans_val + "%";
                    current.stop().animate(transition, 700, 'easeOutQuint');
                }
            });
        }
    };


    $.fn.aviaccordion = function (options) {
        return this.each(function () {
            var active = $.data(this, 'AviaccordionSlider');

            if (!active) {
                //make sure that the function doesnt get aplied a second time
                $.data(this, 'AviaccordionSlider', 1);

                //create the preparations for fullscreen slider
                new $.AviaccordionSlider(options, this);
            }
        });
    }


// -------------------------------------------------------------------------------------------
// Aviaccordion Slideshow 
// 
// accordion slider script
// -------------------------------------------------------------------------------------------

    $.AviaTextRotator = function (options, slider) {
        this.$win = $(window);
        this.$slider = $(slider);
        this.$inner = this.$slider.find('.av-rotator-text');
        this.$slides = this.$inner.find('.av-rotator-text-single');
        this.$current = this.$slides.eq(0);
        this.open = 0;
        this.count = this.$slides.length;

        if ($.avia_utilities.supported.transition === undefined) {
            $.avia_utilities.supported.transition = $.avia_utilities.supports('transition');
        }

        this.browserPrefix = $.avia_utilities.supported.transition;
        this.cssActive = this.browserPrefix !== false ? true : false;
        this.property = this.browserPrefix + 'transform',

            //this.cssActive    = false; //testing no css3 browser

            this._init(options);
    }

    $.AviaTextRotator.prototype =
    {
        _init: function (options) {
            var _self = this;

            if (this.count <= 1) return;

            _self.options = $.extend({}, options, this.$slider.data());
            _self.$inner.addClass('av-rotation-active');
            if (_self.options.fixwidth == 1) this.$inner.width(this.$current.width());
            _self._autoplay();
        },

        _autoplay: function () {
            var _self = this;

            _self.autoplay = setInterval(function () {
                _self.open = _self.open === false ? 0 : _self.open + 1;
                if (_self.open >= _self.count) _self.open = 0;
                _self._move({}, _self.open);

            }, _self.options.interval * 1000)
        },

        _move: function (event) {
            var _self = this,
                modifier = 30 * _self.options.animation,
                fade_out = {opacity: 0},
                fade_start = {display: 'inline', opacity: 0},
                fade_in = {opacity: 1};

            this.$next = _self.$slides.eq(this.open);

            if (this.cssActive) {
                fade_out[_self.property] = "translate(0px," + modifier + "px)";
                fade_start[_self.property] = "translate(0px," + (modifier * -1) + "px)";
                fade_in[_self.property] = "translate(0px,0px)";
            }
            else {
                fade_out['top'] = modifier;
                fade_start['top'] = (modifier * -1);
                fade_in['top'] = 0;
            }


            _self.$current.avia_animate(fade_out, function () {
                _self.$current.css({display: 'none'});
                _self.$next.css(fade_start).avia_animate(fade_in, function () {
                    _self.$current = _self.$slides.eq(_self.open);
                });
            });
        }
    };


    $.fn.avia_textrotator = function (options) {
        return this.each(function () {
            var active = $.data(this, 'AviaTextRotator');

            if (!active) {
                //make sure that the function doesnt get aplied a second time
                $.data(this, 'AviaTextRotator', 1);

                //create the preparations for fullscreen slider
                new $.AviaTextRotator(options, this);
            }
        });
    }


// -------------------------------------------------------------------------------------------
// HELPER FUNCTIONS
// -------------------------------------------------------------------------------------------


//waipoint script when something comes into viewport
    $.fn.avia_waypoints = function (options_passed) {
        if (!$('html').is('.avia_transform')) return;

        var defaults = {offset: 'bottom-in-view', triggerOnce: true},
            options = $.extend({}, defaults, options_passed),
            isMobile = $.avia_utilities.isMobile;

        return this.each(function () {
            var element = $(this);

            setTimeout(function () {
                if (isMobile) {
                    element.addClass('avia_start_animation').trigger('avia_start_animation');
                }
                else {
                    element.waypoint(function (direction) {
                        $(this.element).addClass('avia_start_animation').trigger('avia_start_animation');

                    }, options);
                }
            }, 100)

        });
    };


// window resize script
    var $event = $.event, $special, resizeTimeout;

    $special = $event.special.debouncedresize = {
        setup: function () {
            $(this).on("resize", $special.handler);
        },
        teardown: function () {
            $(this).off("resize", $special.handler);
        },
        handler: function (event, execAsap) {
            // Save the context
            var context = this,
                args = arguments,
                dispatch = function () {
                    // set correct event type
                    event.type = "debouncedresize";
                    $event.dispatch.apply(context, args);
                };

            if (resizeTimeout) {
                clearTimeout(resizeTimeout);
            }

            execAsap ?
                dispatch() :
                resizeTimeout = setTimeout(dispatch, $special.threshold);
        },
        threshold: 150
    };


    $.easing['jswing'] = $.easing['swing'];

    $.extend($.easing,
        {
            def: 'easeOutQuad',
            swing: function (x, t, b, c, d) {
                return $.easing[$.easing.def](x, t, b, c, d);
            },
            easeInQuad: function (x, t, b, c, d) {
                return c * (t /= d) * t + b;
            },
            easeOutQuad: function (x, t, b, c, d) {
                return -c * (t /= d) * (t - 2) + b;
            },
            easeInOutQuad: function (x, t, b, c, d) {
                if ((t /= d / 2) < 1) return c / 2 * t * t + b;
                return -c / 2 * ((--t) * (t - 2) - 1) + b;
            },
            easeInCubic: function (x, t, b, c, d) {
                return c * (t /= d) * t * t + b;
            },
            easeOutCubic: function (x, t, b, c, d) {
                return c * ((t = t / d - 1) * t * t + 1) + b;
            },
            easeInOutCubic: function (x, t, b, c, d) {
                if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;
                return c / 2 * ((t -= 2) * t * t + 2) + b;
            },
            easeInQuart: function (x, t, b, c, d) {
                return c * (t /= d) * t * t * t + b;
            },
            easeOutQuart: function (x, t, b, c, d) {
                return -c * ((t = t / d - 1) * t * t * t - 1) + b;
            },
            easeInOutQuart: function (x, t, b, c, d) {
                if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;
                return -c / 2 * ((t -= 2) * t * t * t - 2) + b;
            },
            easeInQuint: function (x, t, b, c, d) {
                return c * (t /= d) * t * t * t * t + b;
            },
            easeOutQuint: function (x, t, b, c, d) {
                return c * ((t = t / d - 1) * t * t * t * t + 1) + b;
            },
            easeInOutQuint: function (x, t, b, c, d) {
                if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;
                return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
            },
            easeInSine: function (x, t, b, c, d) {
                return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;
            },
            easeOutSine: function (x, t, b, c, d) {
                return c * Math.sin(t / d * (Math.PI / 2)) + b;
            },
            easeInOutSine: function (x, t, b, c, d) {
                return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;
            },
            easeInExpo: function (x, t, b, c, d) {
                return (t == 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;
            },
            easeOutExpo: function (x, t, b, c, d) {
                return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;
            },
            easeInOutExpo: function (x, t, b, c, d) {
                if (t == 0) return b;
                if (t == d) return b + c;
                if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;
                return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;
            },
            easeInCirc: function (x, t, b, c, d) {
                return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;
            },
            easeOutCirc: function (x, t, b, c, d) {
                return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;
            },
            easeInOutCirc: function (x, t, b, c, d) {
                if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;
                return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;
            },
            easeInElastic: function (x, t, b, c, d) {
                var s = 1.70158;
                var p = 0;
                var a = c;
                if (t == 0) return b;
                if ((t /= d) == 1) return b + c;
                if (!p) p = d * .3;
                if (a < Math.abs(c)) {
                    a = c;
                    var s = p / 4;
                }
                else var s = p / (2 * Math.PI) * Math.asin(c / a);
                return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
            },
            easeOutElastic: function (x, t, b, c, d) {
                var s = 1.70158;
                var p = 0;
                var a = c;
                if (t == 0) return b;
                if ((t /= d) == 1) return b + c;
                if (!p) p = d * .3;
                if (a < Math.abs(c)) {
                    a = c;
                    var s = p / 4;
                }
                else var s = p / (2 * Math.PI) * Math.asin(c / a);
                return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
            },
            easeInOutElastic: function (x, t, b, c, d) {
                var s = 1.70158;
                var p = 0;
                var a = c;
                if (t == 0) return b;
                if ((t /= d / 2) == 2) return b + c;
                if (!p) p = d * (.3 * 1.5);
                if (a < Math.abs(c)) {
                    a = c;
                    var s = p / 4;
                }
                else var s = p / (2 * Math.PI) * Math.asin(c / a);
                if (t < 1) return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
                return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;
            },
            easeInBack: function (x, t, b, c, d, s) {
                if (s == undefined) s = 1.70158;
                return c * (t /= d) * t * ((s + 1) * t - s) + b;
            },
            easeOutBack: function (x, t, b, c, d, s) {
                if (s == undefined) s = 1.70158;
                return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;
            },
            easeInOutBack: function (x, t, b, c, d, s) {
                if (s == undefined) s = 1.70158;
                if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;
                return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;
            },
            easeInBounce: function (x, t, b, c, d) {
                return c - jQuery.easing.easeOutBounce(x, d - t, 0, c, d) + b;
            },
            easeOutBounce: function (x, t, b, c, d) {
                if ((t /= d) < (1 / 2.75)) {
                    return c * (7.5625 * t * t) + b;
                } else if (t < (2 / 2.75)) {
                    return c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;
                } else if (t < (2.5 / 2.75)) {
                    return c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;
                } else {
                    return c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;
                }
            },
            easeInOutBounce: function (x, t, b, c, d) {
                if (t < d / 2) return jQuery.easing.easeInBounce(x, t * 2, 0, c, d) * .5 + b;
                return jQuery.easing.easeOutBounce(x, t * 2 - d, 0, c, d) * .5 + c * .5 + b;
            }
        });

})(jQuery);


/*utility functions*/


(function ($) {
    "use strict";

    $.avia_utilities = $.avia_utilities || {};

    /************************************************************************
     gloabl loading function
     *************************************************************************/
    $.avia_utilities.loading = function (attach_to, delay) {

        var loader = {

            active: false,

            show: function () {
                if (loader.active === false) {
                    loader.active = true;
                    loader.loading_item.css({display: 'block', opacity: 0});
                }

                loader.loading_item.stop().animate({opacity: 0.7});
            },

            hide: function () {
                if (typeof delay === 'undefined') {
                    delay = 600;
                }

                loader.loading_item.stop().delay(delay).animate({opacity: 0}, function () {
                    loader.loading_item.css({display: 'none'});
                    loader.active = false;
                });
            },

            attach: function () {
                if (typeof attach_to === 'undefined') {
                    attach_to = 'body';
                }

                loader.loading_item = $('<div class="avia_loading_icon"></div>').css({display: "none"}).appendTo(attach_to);
            }
        }

        loader.attach();
        return loader;
    };

    /************************************************************************
     gloabl play/pause visualizer function
     *************************************************************************/
    $.avia_utilities.playpause = function (attach_to, delay) {

        var pp = {

            active: false,
            to1: "",
            to2: "",
            set: function (status) {
                pp.loading_item.removeClass('av-play av-pause');
                pp.to1 = setTimeout(function () {
                    pp.loading_item.addClass('av-' + status);
                }, 10);
                pp.to2 = setTimeout(function () {
                    pp.loading_item.removeClass('av-' + status);
                }, 1500);
            },

            attach: function () {
                if (typeof attach_to === 'undefined') {
                    attach_to = 'body';
                }

                pp.loading_item = $('<div class="avia_playpause_icon"></div>').css({display: "none"}).appendTo(attach_to);
            }
        }

        pp.attach();
        return pp;
    };


    /************************************************************************
     preload images, as soon as all are loaded trigger a special load ready event
     *************************************************************************/
    $.avia_utilities.preload = function (options_passed) {
        new $.AviaPreloader(options_passed);
    }

    $.AviaPreloader = function (options) {
        this.win = $(window);
        this.defaults =
        {
            container: 'body',
            maxLoops: 10,
            trigger_single: true,
            single_callback: function () {
            },
            global_callback: function () {
            }

        };
        this.options = $.extend({}, this.defaults, options);
        this.preload_images = 0;

        this.load_images();
    }

    $.AviaPreloader.prototype =
    {
        load_images: function () {
            var _self = this;

            if (typeof _self.options.container === 'string') {
                _self.options.container = $(_self.options.container);
            }

            _self.options.container.each(function () {
                var container = $(this);

                container.images = container.find('img');
                container.allImages = container.images;

                _self.preload_images += container.images.length;
                setTimeout(function () {
                    _self.checkImage(container);
                }, 10);
            });
        },

        checkImage: function (container) {
            var _self = this;

            container.images.each(function () {
                if (this.complete === true) {
                    container.images = container.images.not(this);
                    _self.preload_images -= 1;
                }
            });

            if (container.images.length && _self.options.maxLoops >= 0) {
                _self.options.maxLoops -= 1;
                setTimeout(function () {
                    _self.checkImage(container);
                }, 500);
            }
            else {
                _self.preload_images = _self.preload_images - container.images.length;
                _self.trigger_loaded(container);
            }
        },

        trigger_loaded: function (container) {
            var _self = this;

            if (_self.options.trigger_single !== false) {
                _self.win.trigger('avia_images_loaded_single', [container]);
                _self.options.single_callback.call(container);
            }

            if (_self.preload_images === 0) {
                _self.win.trigger('avia_images_loaded');
                _self.options.global_callback.call();
            }

        }
    }


    /************************************************************************
     CSS Easing transformation table
     *************************************************************************/
    /*
     Easing transform table from jquery.animate-enhanced plugin
     http://github.com/benbarnett/jQuery-Animate-Enhanced
     */
    $.avia_utilities.css_easings = {
        linear: 'linear',
        swing: 'ease-in-out',
        bounce: 'cubic-bezier(0.0, 0.35, .5, 1.3)',
        easeInQuad: 'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
        easeInCubic: 'cubic-bezier(0.550, 0.055, 0.675, 0.190)',
        easeInQuart: 'cubic-bezier(0.895, 0.030, 0.685, 0.220)',
        easeInQuint: 'cubic-bezier(0.755, 0.050, 0.855, 0.060)',
        easeInSine: 'cubic-bezier(0.470, 0.000, 0.745, 0.715)',
        easeInExpo: 'cubic-bezier(0.950, 0.050, 0.795, 0.035)',
        easeInCirc: 'cubic-bezier(0.600, 0.040, 0.980, 0.335)',
        easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.04)',
        easeOutQuad: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',
        easeOutCubic: 'cubic-bezier(0.215, 0.610, 0.355, 1.000)',
        easeOutQuart: 'cubic-bezier(0.165, 0.840, 0.440, 1.000)',
        easeOutQuint: 'cubic-bezier(0.230, 1.000, 0.320, 1.000)',
        easeOutSine: 'cubic-bezier(0.390, 0.575, 0.565, 1.000)',
        easeOutExpo: 'cubic-bezier(0.190, 1.000, 0.220, 1.000)',
        easeOutCirc: 'cubic-bezier(0.075, 0.820, 0.165, 1.000)',
        easeOutBack: 'cubic-bezier(0.175, 0.885, 0.320, 1.275)',
        easeInOutQuad: 'cubic-bezier(0.455, 0.030, 0.515, 0.955)',
        easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1.000)',
        easeInOutQuart: 'cubic-bezier(0.770, 0.000, 0.175, 1.000)',
        easeInOutQuint: 'cubic-bezier(0.860, 0.000, 0.070, 1.000)',
        easeInOutSine: 'cubic-bezier(0.445, 0.050, 0.550, 0.950)',
        easeInOutExpo: 'cubic-bezier(1.000, 0.000, 0.000, 1.000)',
        easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.150, 0.860)',
        easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.55)',
        easeInOutBounce: 'cubic-bezier(0.580, -0.365, 0.490, 1.365)',
        easeOutBounce: 'cubic-bezier(0.760, 0.085, 0.490, 1.365)'
    };

    /************************************************************************
     check if a css feature is supported and save it to the supported array
     *************************************************************************/
    $.avia_utilities.supported = {};
    $.avia_utilities.supports = (function () {
        var div = document.createElement('div'),
            vendors = ['Khtml', 'Ms', 'Moz', 'Webkit'];  // vendors	= ['Khtml', 'Ms','Moz','Webkit','O']; 

        return function (prop, vendor_overwrite) {
            if (div.style[prop] !== undefined) {
                return "";
            }
            if (vendor_overwrite !== undefined) {
                vendors = vendor_overwrite;
            }

            prop = prop.replace(/^[a-z]/, function (val) {
                return val.toUpperCase();
            });

            var len = vendors.length;
            while (len--) {
                if (div.style[vendors[len] + prop] !== undefined) {
                    return "-" + vendors[len].toLowerCase() + "-";
                }
            }

            return false;
        };

    }());

    /************************************************************************
     animation function
     *************************************************************************/
    $.fn.avia_animate = function (prop, speed, easing, callback) {
        if (typeof speed === 'function') {
            callback = speed;
            speed = false;
        }
        if (typeof easing === 'function') {
            callback = easing;
            easing = false;
        }
        if (typeof speed === 'string') {
            easing = speed;
            speed = false;
        }

        if (callback === undefined || callback === false) {
            callback = function () {
            };
        }
        if (easing === undefined || easing === false) {
            easing = 'easeInQuad';
        }
        if (speed === undefined || speed === false) {
            speed = 400;
        }

        if ($.avia_utilities.supported.transition === undefined) {
            $.avia_utilities.supported.transition = $.avia_utilities.supports('transition');
        }


        if ($.avia_utilities.supported.transition !== false) {
            var prefix = $.avia_utilities.supported.transition + 'transition',
                cssRule = {},
                cssProp = {},
                thisStyle = document.body.style,
                end = (thisStyle.WebkitTransition !== undefined) ? 'webkitTransitionEnd' : (thisStyle.OTransition !== undefined) ? 'oTransitionEnd' : 'transitionend';

            //translate easing into css easing
            easing = $.avia_utilities.css_easings[easing];

            //create css transformation rule
            cssRule[prefix] = 'all ' + (speed / 1000) + 's ' + easing;
            //add namespace to the transition end trigger
            end = end + ".avia_animate";

            //since jquery 1.10 the items passed need to be {} and not [] so make sure they are converted properly
            for (var rule in prop) {
                if (prop.hasOwnProperty(rule)) {
                    cssProp[rule] = prop[rule];
                }
            }
            prop = cssProp;


            this.each(function () {
                var element = $(this), css_difference = false, rule, current_css;

                for (rule in prop) {
                    if (prop.hasOwnProperty(rule)) {
                        current_css = element.css(rule);

                        if (prop[rule] != current_css && prop[rule] != current_css.replace(/px|%/g, "")) {
                            css_difference = true;
                            break;
                        }
                    }
                }

                if (css_difference) {
                    //if no transform property is set set a 3d translate to enable hardware acceleration
                    if (!($.avia_utilities.supported.transition + "transform" in prop)) {
                        prop[$.avia_utilities.supported.transition + "transform"] = "translateZ(0)";
                    }

                    element.on(end, function (event) {
                        if (event.target != event.currentTarget) return false;

                        cssRule[prefix] = "none";

                        element.off(end);
                        element.css(cssRule);
                        setTimeout(function () {
                            callback.call(element);
                        });
                    });

                    setTimeout(function () {
                        element.css(cssRule);
                    }, 10);
                    setTimeout(function () {
                        element.css(prop);
                    }, 20);
                }
                else {
                    setTimeout(function () {
                        callback.call(element);
                    });
                }

            });
        }
        else // if css animation is not available use default JS animation
        {
            this.animate(prop, speed, easing, callback);
        }

        return this;
    };

})(jQuery);


/* ======================================================================================================================================================
 Avia Slideshow
 ====================================================================================================================================================== */

(function ($) {
    "use strict";

    $.AviaSlider = function (options, slider) {
        var self = this;

        this.$win = $(window);

        this.$slider = $(slider);

        this.isMobile = $.avia_utilities.isMobile;

        this._prepareSlides(options);

        //default preload images then init slideshow
        $.avia_utilities.preload({
            container: this.$slider, single_callback: function () {
                self._init(options);
            }
        });
    }

    $.AviaSlider.defaults = {

        //interval between autorotation switches
        interval: 5,

        //autorotation active or not
        autoplay: false,

        //set if the loop will stop at the last/first slide or if the slides will loop infinite
        //set to false for infinite loop, "last" to stop at the last slide or "first" to stop at the first slide
        stopinfiniteloop: false,

        //fade or slide animation
        animation: 'slide',

        //transition speed when switching slide
        transitionSpeed: 900,

        //easing method for the transition
        easing: 'easeInOutQuart',

        //slide wrapper
        wrapElement: '>ul',

        //slide element
        slideElement: '>li',

        //pause if mouse cursor is above item
        hoverpause: false,

        //attach images as background
        bg_slider: false,

        //delay of miliseconds to wait before showing the next slide
        show_slide_delay: 0,

        //if slider animation is set to "fade" the fullfade property sets the crossfade behaviour
        fullfade: false

    };

    $.AviaSlider.prototype =
    {
        _init: function (options) {
            // set slider options
            this.options = this._setOptions(options);

            //slidewrap
            this.$sliderUl = this.$slider.find(this.options.wrapElement);

            // slide elements
            this.$slides = this.$sliderUl.find(this.options.slideElement);

            // goto dots
            this.gotoButtons = this.$slider.find('.avia-slideshow-dots a');

            //perma caption
            this.permaCaption = this.$slider.find('>.av-slideshow-caption');

            // slide count
            this.itemsCount = this.$slides.length;

            // current image index
            this.current = 0;

            //loop count
            this.loopCount = 0;

            // control if the slicebox is animating
            this.isAnimating = false;

            // css browser prefix like -webkit-, -moz-
            this.browserPrefix = $.avia_utilities.supports('transition');

            // css3 animation?
            this.cssActive = this.browserPrefix !== false ? true : false;

            // css3D animation?
            this.css3DActive = document.documentElement.className.indexOf('avia_transform3d') !== -1 ? true : false;

            //store the aviaVideoApi object for the current slide if available
            this.video = false;

            //if we have a bg slider no images were preloaded yet. in that case start preloading and attaching images
            if (this.options.bg_slider == true) {
                //create array that holds all image urls to preload
                this.imageUrls = [];

                //create a preloader icon to indicate loading
                this.loader = $.avia_utilities.loading(this.$slider);

                //preload the images ony by one
                this._bgPreloadImages();

            }
            else //if it was a default slider all images are already loaded and we can start showing the slider
            {
                //kickoff the slider: bind functions, show first slide, if active start the autorotation timer
                this._kickOff();
            }
        },

        //set the slider options by first merging the efault options and the passed options, then checking the slider element if any data attributes overwrite the option set
        _setOptions: function (options) {
            var newOptions = $.extend(true, {}, $.AviaSlider.defaults, options),
                htmlData = this.$slider.data(),
                i = "";

            //overwritte passed option set with any data properties on the html element
            for (i in htmlData) {
                if (htmlData.hasOwnProperty(i)) {
                    if (typeof htmlData[i] === "string" || typeof htmlData[i] === "number" || typeof htmlData[i] === "boolean") {
                        newOptions[i] = htmlData[i];
                    }
                }
            }

            return newOptions;
        },

        _prepareSlides: function (options) {
            //if its a mobile device find all video slides that need to be altered
            if (this.isMobile) {
                var alter = this.$slider.find('.av-mobile-fallback-image');
                alter.each(function () {
                    var current = $(this).removeClass('av-video-slide').data({
                            'avia_video_events': true,
                            'video-ratio': 0
                        }),
                        fallback = current.data('mobile-img');

                    current.find('.av-click-overlay, .mejs-mediaelement, .mejs-container').remove();

                    if (!fallback) {
                        var appendTo = current.find('.avia-slide-wrap');
                        $('<p class="av-fallback-message"><span>Please set a mobile device fallback image for this video in your wordpress backend</span></p>').appendTo(appendTo);
                    }

                    if (options && options.bg_slider) {
                        current.data('img-url', fallback);
                    }
                    else {
                        var image = $('<img src="' + fallback + '" alt="" title="" />');
                        current.find('.avia-slide-wrap').append(image);
                    }

                });
            }

        },

        //start preloading the background images
        _bgPreloadImages: function (callback) {
            this._getImageURLS();
            this._preloadSingle(0, function () {
                this._kickOff();
                this._preloadNext(1);
            });
        },

        //if we are using a background image slider, fetch the images from a data attribute and preload them one by one
        _getImageURLS: function () {
            var _self = this;

            //collect url strings of the images to preload
            this.$slides.each(function (i) {
                _self.imageUrls[i] = [];
                _self.imageUrls[i]['url'] = $(this).data("img-url");

                //if no image is passed we can set the slide to loaded
                if (typeof _self.imageUrls[i]['url'] == 'string') {
                    _self.imageUrls[i]['status'] = false;
                }
                else {
                    _self.imageUrls[i]['status'] = true;
                }
            });
        },


        _preloadSingle: function (key, callback) {
            var _self = this,
                objImage = new Image();

            if (typeof _self.imageUrls[key]['url'] == 'string') {
                $(objImage).bind('load error', function () {
                    _self.imageUrls[key]['status'] = true;
                    _self.$slides.eq(key).css('background-image', 'url(' + _self.imageUrls[key]['url'] + ')');
                    if (typeof callback == 'function') callback.apply(_self, [objImage, key]);
                });

                objImage.src = _self.imageUrls[key]['url'];
            }
            else {
                if (typeof callback == 'function') callback.apply(_self, [objImage, key]);
            }
        },

        _preloadNext: function (key) {
            if (typeof this.imageUrls[key] != "undefined") {
                this._preloadSingle(key, function () {
                    this._preloadNext(key + 1);
                });
            }
        },


        //bind click events of slide controlls to the public functions
        _bindEvents: function () {
            var self = this,
                win = $(window);

            this.$slider.on('click', '.next-slide', $.proxy(this.next, this));
            this.$slider.on('click', '.prev-slide', $.proxy(this.previous, this));
            this.$slider.on('click', '.goto-slide', $.proxy(this.go2, this));

            if (this.options.hoverpause) {
                this.$slider.on('mouseenter', $.proxy(this.pause, this));
                this.$slider.on('mouseleave', $.proxy(this.resume, this));
            }

            if (this.options.stopinfiniteloop && this.options.autoplay) {
                if (this.options.stopinfiniteloop == 'last') {
                    this.$slider.on('avia_slider_last_slide', $.proxy(this._stopSlideshow, this));
                }
                else if (this.options.stopinfiniteloop == 'first') {
                    this.$slider.on('avia_slider_first_slide', $.proxy(this._stopSlideshow, this));
                }
            }

            win.on('debouncedresize.aviaSlider', $.proxy(this._setSize, this));

            //if its a desktop browser add arrow navigation, otherwise add touch nav
            if (!this.isMobile) {
                this.$slider.avia_keyboard_controls();
            }
            else {
                this.$slider.avia_swipe_trigger();
            }

            self._attach_video_events();
        },

        //kickoff the slider by binding all functions to slides and buttons, show the first slide and start autoplay
        _kickOff: function () {
            var self = this,
                first_slide = self.$slides.eq(0),
                video = first_slide.data('video-ratio');

            // bind events to to the controll buttons
            self._bindEvents();

            this.$slider.removeClass('av-default-height-applied');

            //show the first slide. if its a video set the correct size, otherwise make sure to remove the % padding
            if (video) {
                self._setSize(true);
            }
            else {
                self.$sliderUl.css('padding', 0);
                self.$win.trigger('av-height-change');
            }

            first_slide.css({visibility: 'visible', opacity: 0}).avia_animate({opacity: 1}, function () {
                var current = $(this).addClass('active-slide');

                if (self.permaCaption.length) {
                    self.permaCaption.addClass('active-slide');
                }
            });


            // start autoplay if active
            if (self.options.autoplay) {
                self._startSlideshow();
            }

        },

        //calculate which slide should be displayed next and call the executing transition function
        _navigate: function (dir, pos) {

            if (this.isAnimating || this.itemsCount < 2) {
                return false;
            }

            this.isAnimating = true;

            // current item's index
            this.prev = this.current;

            // if position is passed
            if (pos !== undefined) {
                this.current = pos;
                dir = this.current > this.prev ? 'next' : 'prev';
            }
            // if not check the boundaries
            else if (dir === 'next') {
                this.current = this.current < this.itemsCount - 1 ? this.current + 1 : 0;

                if (this.current === 0 && this.options.autoplay_stopper == 1 && this.options.autoplay) {
                    this.isAnimating = false;
                    this.current = this.prev;
                    this._stopSlideshow();
                    return false;
                }
            }
            else if (dir === 'prev') {
                this.current = this.current > 0 ? this.current - 1 : this.itemsCount - 1;
            }

            //set goto button
            this.gotoButtons.removeClass('active').eq(this.current).addClass('active');

            //set slideshow size
            this._setSize();

            //if we are using a background slider make sure that the image is loaded. if not preload it, then show the slide
            if (this.options.bg_slider == true) {
                if (this.imageUrls[this.current]['status'] == true) {
                    this['_' + this.options.animation].call(this, dir);
                }
                else {
                    this.loader.show();
                    this._preloadSingle(this.current, function () {
                        this['_' + this.options.animation].call(this, dir);
                        this.loader.hide();
                    });
                }
            }
            else //no background loader -> images are already loaded
            {
                //call the executing function. for example _slide, or _fade. since the function call is absed on a var we can easily extend the slider with new animations
                this['_' + this.options.animation].call(this, dir);
            }

            if (this.current == 0) {
                this.loopCount++;
                this.$slider.trigger('avia_slider_first_slide');
            }
            else if (this.current == this.itemsCount - 1) {
                this.$slider.trigger('avia_slider_last_slide');
            }
            else {
                this.$slider.trigger('avia_slider_navigate_slide');
            }
        },

        //if the next slide has a different height than the current change the slideshow height
        _setSize: function (instant) {
            //if images are attached as bg images the slider has a fixed height
            if (this.options.bg_slider == true) return;

            var self = this,
                slide = this.$slides.eq(this.current),
                current = Math.floor(this.$sliderUl.height()),
                ratio = slide.data('video-ratio'),
                setTo = ratio ? this.$sliderUl.width() / ratio : Math.floor(slide.height()),
                video_height = slide.data('video-height'), //forced video height %. needs to be set only once
                video_toppos = slide.data('video-toppos'); //forced video top position

            this.$sliderUl.height(current).css('padding', 0); //make sure to set the slideheight to an actual value

            if (setTo != current) {
                if (instant == true) {
                    this.$sliderUl.css({height: setTo});
                    this.$win.trigger('av-height-change');
                }
                else {
                    this.$sliderUl.avia_animate({height: setTo}, function () {
                        self.$win.trigger('av-height-change');
                    });
                }
            }

            if (video_height && video_height != "set") {
                slide.find('iframe, embed, video, object, .av_youtube_frame').css({
                    height: video_height + '%',
                    top: video_toppos + '%'
                });
                slide.data('video-height', 'set');
            }
        },


        _slide: function (dir) {
            var sliderWidth = this.$slider.width(),
                direction = dir === 'next' ? -1 : 1,
                property = this.browserPrefix + 'transform',
                reset = {}, transition = {}, transition2 = {},
                trans_val = ( sliderWidth * direction * -1),
                trans_val2 = ( sliderWidth * direction);

            //do a css3 animation
            if (this.cssActive) {
                property = this.browserPrefix + 'transform';

                //do a translate 3d transformation if available, since it uses hardware acceleration
                if (this.css3DActive) {
                    reset[property] = "translate3d(" + trans_val + "px, 0, 0)";
                    transition[property] = "translate3d(" + trans_val2 + "px, 0, 0)";
                    transition2[property] = "translate3d(0,0,0)";
                }
                else //do a 2d transform. still faster than a position "left" change
                {
                    reset[property] = "translate(" + trans_val + "px,0)";
                    transition[property] = "translate(" + trans_val2 + "px,0)";
                    transition2[property] = "translate(0,0)";
                }
            }
            else {
                reset.left = trans_val;
                transition.left = trans_val2;
                transition2.left = 0;
            }

            this._slide_animate(reset, transition, transition2);
        },

        _slide_up: function (dir) {
            var sliderHeight = this.$slider.height(),
                direction = dir === 'next' ? -1 : 1,
                property = this.browserPrefix + 'transform',
                reset = {}, transition = {}, transition2 = {},
                trans_val = ( sliderHeight * direction * -1),
                trans_val2 = ( sliderHeight * direction);

            //do a css3 animation
            if (this.cssActive) {
                property = this.browserPrefix + 'transform';

                //do a translate 3d transformation if available, since it uses hardware acceleration
                if (this.css3DActive) {
                    reset[property] = "translate3d( 0," + trans_val + "px, 0)";
                    transition[property] = "translate3d( 0," + trans_val2 + "px, 0)";
                    transition2[property] = "translate3d(0,0,0)";
                }
                else //do a 2d transform. still faster than a position "left" change
                {
                    reset[property] = "translate( 0," + trans_val + "px)";
                    transition[property] = "translate( 0," + trans_val2 + "px)";
                    transition2[property] = "translate(0,0)";
                }
            }
            else {
                reset.top = trans_val;
                transition.top = trans_val2;
                transition2.top = 0;
            }

            this._slide_animate(reset, transition, transition2);
        },


        //slide animation: do a slide transition by css3 transform if possible. if not simply do a position left transition
        _slide_animate: function (reset, transition, transition2) {

            var self = this,
                displaySlide = this.$slides.eq(this.current),
                hideSlide = this.$slides.eq(this.prev);

            hideSlide.trigger('pause');
            if (!displaySlide.data('disableAutoplay')) displaySlide.trigger('play');

            displaySlide.css({visibility: 'visible', zIndex: 4, opacity: 1, left: 0, top: 0});
            displaySlide.css(reset);

            hideSlide.avia_animate(transition, this.options.transitionSpeed, this.options.easing);

            var after_slide = function () {
                self.isAnimating = false;
                displaySlide.addClass('active-slide');
                hideSlide.css({visibility: 'hidden'}).removeClass('active-slide');
                self.$slider.trigger('avia-transition-done');
            }

            if (self.options.show_slide_delay > 0) {
                setTimeout(function () {
                    displaySlide.avia_animate(transition2, self.options.transitionSpeed, self.options.easing, after_slide);
                }, self.options.show_slide_delay);
            }
            else {
                displaySlide.avia_animate(transition2, self.options.transitionSpeed, self.options.easing, after_slide);
            }

        },

        //simple fade transition of the slideshow
        _fade: function () {
            var self = this,
                displaySlide = this.$slides.eq(this.current),
                hideSlide = this.$slides.eq(this.prev),
                properties = {visibility: 'visible', zIndex: 3, opacity: 0},
                fadeCallback = function () {
                    self.isAnimating = false;
                    displaySlide.addClass('active-slide');
                    hideSlide.css({visibility: 'hidden', zIndex: 2}).removeClass('active-slide');
                    self.$slider.trigger('avia-transition-done');
                };

            hideSlide.trigger('pause');
            if (!displaySlide.data('disableAutoplay')) displaySlide.trigger('play');

            if (self.options.fullfade == true) {
                hideSlide.avia_animate({opacity: 0}, 200, 'linear', function () {
                    displaySlide.css(properties).avia_animate({opacity: 1}, self.options.transitionSpeed, 'linear', fadeCallback);
                });
            }
            else {
                displaySlide.css(properties).avia_animate({opacity: 1}, self.options.transitionSpeed / 2, 'linear', function () {
                    hideSlide.avia_animate({opacity: 0}, 200, 'linear', fadeCallback);
                });
            }

        },


        /************************************************************************
         Video functions
         *************************************************************************/

        //bind events to the video that tell the slider to autorotate once a video has been played
        _attach_video_events: function () {
            var self = this, $html = $('html');

            self.$slides.each(function (i) {
                var currentSlide = $(this),
                    caption = currentSlide.find('.caption_fullwidth, .av-click-overlay'),
                    mejs = currentSlide.find('.mejs-mediaelement');

                if (currentSlide.data('avia_video_events') != true) {
                    currentSlide.data('avia_video_events', true);

                    currentSlide.on('av-video-events-bound', {
                        slide: currentSlide,
                        wrap: mejs,
                        iteration: i,
                        self: self
                    }, onReady);

                    currentSlide.on('av-video-ended', {slide: currentSlide, self: self}, onFinish);

                    currentSlide.on('av-video-play-executed', function () {
                        setTimeout(function () {
                            self.pause()
                        }, 100);
                    });

                    caption.on('click', {slide: currentSlide}, toggle);

                    // also if the player was loaded before the _bindEvents function was bound trigger it manually
                    if (currentSlide.is('.av-video-events-bound')) currentSlide.trigger('av-video-events-bound');
                }
            });


            //helper functions
            function onReady(event) {
                //autostart for first slide
                if (event.data.iteration === 0) {
                    event.data.wrap.css('opacity', 0);
                    if (!event.data.self.isMobile && !event.data.slide.data('disableAutoplay')) {
                        event.data.slide.trigger('play');
                    }
                    setTimeout(function () {
                        event.data.wrap.avia_animate({opacity: 1}, 400);
                    }, 50);
                }
                else if ($html.is('.avia-msie') && !event.data.slide.is('.av-video-service-html5')) {
                    /*
                     * Internet Explorer fires the ready event for external videos once they become visible
                     * as oposed to other browsers which always fire immediately.
                     */
                    if (!event.data.slide.data('disableAutoplay')) event.data.slide.trigger('play');
                }

            }


            function onFinish(event) {
                //if the video is not looped resume the slideshow
                if (!event.data.slide.is('.av-single-slide') && !event.data.slide.is('.av-loop-video')) {
                    event.data.slide.trigger('reset');
                    self._navigate('next');
                    self.resume();
                }

                //safari 8 workaround for self hosted videos which wont loop by default
                if (event.data.slide.is('.av-loop-video') && event.data.slide.is('.av-video-service-html5')) {
                    if ($html.is('.avia-safari-8')) {
                        setTimeout(function () {
                            event.data.slide.trigger('play');
                        }, 1);
                    }
                }
            }

            function toggle(event) {
                if (event.target.tagName != "A") {
                    event.data.slide.trigger('toggle');
                }
            }

        },


        /************************************************************************
         Slideshow control functions
         *************************************************************************/

        _timer: function (callback, delay, first) {
            var self = this, start, remaining = delay;

            self.timerId = 0;

            this.pause = function () {
                window.clearTimeout(self.timerId);
                remaining -= new Date() - start;
            };

            this.resume = function () {
                start = new Date();
                self.timerId = window.setTimeout(callback, remaining);
            };

            this.destroy = function () {
                window.clearTimeout(self.timerId);
            };

            this.resume(true);
        },

        //start autorotation
        _startSlideshow: function () {
            var self = this;

            this.isPlaying = true;

            this.slideshow = new this._timer(function () {
                self._navigate('next');

                if (self.options.autoplay) {
                    self._startSlideshow();
                }

            }, (this.options.interval * 1000));
        },

        //stop autorotation
        _stopSlideshow: function () {
            if (this.options.autoplay) {

                this.slideshow.destroy();
                this.isPlaying = false;
                this.options.autoplay = false;
            }
        },

        // public method: shows next image
        next: function (e) {
            e.preventDefault();
            this._stopSlideshow();
            this._navigate('next');
        },

        // public method: shows previous image
        previous: function (e) {
            e.preventDefault();
            this._stopSlideshow();
            this._navigate('prev');
        },

        // public method: goes to a specific image
        go2: function (pos) {
            //if we didnt pass a number directly lets asume someone clicked on a link that triggered the goto transition
            if (isNaN(pos)) {
                //in that case prevent the default link behavior and set the slide number to the links hash
                pos.preventDefault();
                pos = pos.currentTarget.hash.replace('#', '');
            }

            pos -= 1;

            if (pos === this.current || pos >= this.itemsCount || pos < 0) {
                return false;
            }

            this._stopSlideshow();
            this._navigate(false, pos);

        },

        // public method: starts the slideshow
        // any call to next(), previous() or goto() will stop the slideshow autoplay
        play: function () {
            if (!this.isPlaying) {
                this.isPlaying = true;

                this._navigate('next');
                this.options.autoplay = true;
                this._startSlideshow();
            }

        },

        // public methos: pauses the slideshow
        pause: function () {
            if (this.isPlaying) {
                this.slideshow.pause();
            }
        },

        // publiccmethos: resumes the slideshow
        resume: function () {
            if (this.isPlaying) {
                this.slideshow.resume();
            }
        },

        // public methos: destroys the instance
        destroy: function (callback) {
            this.slideshow.destroy(callback);
        }

    }

    //simple wrapper to call the slideshow. makes sure that the slide data is not applied twice
    $.fn.aviaSlider = function (options) {
        return this.each(function () {
            var self = $.data(this, 'aviaSlider');

            if (!self) {
                self = $.data(this, 'aviaSlider', new $.AviaSlider(options, this));
            }
        });
    }


})(jQuery);


// -------------------------------------------------------------------------------------------
// keyboard controls
// -------------------------------------------------------------------------------------------

(function ($) {
    "use strict";

    /************************************************************************
     keyboard arrow nav
     *************************************************************************/
    $.fn.avia_keyboard_controls = function (options_passed) {
        var defaults =
            {
                37: '.prev-slide',	// prev
                39: '.next-slide'	// next
            },

            methods = {

                mousebind: function (slider) {
                    slider.hover(
                        function () {
                            slider.mouseover = true;
                        },
                        function () {
                            slider.mouseover = false;
                        }
                    );
                },

                keybind: function (slider) {
                    $(document).keydown(function (e) {
                        if (slider.mouseover && typeof slider.options[e.keyCode] !== 'undefined') {
                            var item;

                            if (typeof slider.options[e.keyCode] === 'string') {
                                item = slider.find(slider.options[e.keyCode]);
                            }
                            else {
                                item = slider.options[e.keyCode];
                            }

                            if (item.length) {
                                item.trigger('click', ['keypress']);
                                return false;
                            }
                        }
                    });
                }
            };


        return this.each(function () {
            var slider = $(this);
            slider.options = $.extend({}, defaults, options_passed);
            slider.mouseover = false;

            methods.mousebind(slider);
            methods.keybind(slider);

        });
    };


    /************************************************************************
     swipe nav
     *************************************************************************/
    $.fn.avia_swipe_trigger = function (passed_options) {
        var win = $(window),
            isMobile = $.avia_utilities.isMobile,
            defaults =
            {
                prev: '.prev-slide',
                next: '.next-slide',
                event: {
                    prev: 'click',
                    next: 'click'
                }
            },

            methods = {

                activate_touch_control: function (slider) {
                    var i, differenceX, differenceY;

                    slider.touchPos = {};
                    slider.hasMoved = false;

                    slider.on('touchstart', function (event) {
                        slider.touchPos.X = event.originalEvent.touches[0].clientX;
                        slider.touchPos.Y = event.originalEvent.touches[0].clientY;
                    });

                    slider.on('touchend', function (event) {
                        slider.touchPos = {};
                        if (slider.hasMoved) {
                            event.preventDefault();
                        }
                        slider.hasMoved = false;
                    });

                    slider.on('touchmove', function (event) {
                        if (!slider.touchPos.X) {
                            slider.touchPos.X = event.originalEvent.touches[0].clientX;
                            slider.touchPos.Y = event.originalEvent.touches[0].clientY;
                        }
                        else {
                            differenceX = event.originalEvent.touches[0].clientX - slider.touchPos.X;
                            differenceY = event.originalEvent.touches[0].clientY - slider.touchPos.Y;

                            //check if user is scrolling the window or moving the slider
                            if (Math.abs(differenceX) > Math.abs(differenceY)) {
                                event.preventDefault();

                                if (slider.touchPos !== event.originalEvent.touches[0].clientX) {
                                    if (Math.abs(differenceX) > 50) {
                                        i = differenceX > 0 ? 'prev' : 'next';

                                        if (typeof slider.options[i] === 'string') {
                                            slider.find(slider.options[i]).trigger(slider.options.event[i], ['swipe']);
                                        }
                                        else {
                                            slider.options[i].trigger(slider.options.event[i], ['swipe']);
                                        }

                                        slider.hasMoved = true;
                                        slider.touchPos = {};
                                        return false;
                                    }
                                }
                            }
                        }
                    });
                }
            };

        return this.each(function () {
            if (isMobile) {
                var slider = $(this);

                slider.options = $.extend({}, defaults, passed_options);

                methods.activate_touch_control(slider);
            }
        });
    };


}(jQuery));





;/*! Magnific Popup - v0.9.9 - 2013-12-27
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
(function(e){var t,n,i,o,r,a,s,l="Close",c="BeforeClose",d="AfterClose",u="BeforeAppend",p="MarkupParse",f="Open",m="Change",g="mfp",h="."+g,v="mfp-ready",C="mfp-removing",y="mfp-prevent-close",w=function(){},b=!!window.jQuery,I=e(window),x=function(e,n){t.ev.on(g+e+h,n)},k=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},T=function(n,i){t.ev.triggerHandler(g+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},E=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(n){i||(i=e(document.body));var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,l=n.items;for(r=0;l.length>r;r++)if(s=l[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return t.updateItemHTML(),void 0;t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):o,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=k("bg").on("click"+h,function(){t.close()}),t.wrap=k("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=k("container",t.wrap)),t.contentContainer=k("content"),t.st.preloader&&(t.preloader=k("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(r=0;c.length>r;r++){var d=c[r];d=d.charAt(0).toUpperCase()+d.slice(1),t["init"+d].call(t)}T("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(x(p,function(e,t,n,i){n.close_replaceWith=E(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(E())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:I.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),I.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var u=t.wH=I.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(u)){var g=t._getScrollbarSize();g&&(m.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var C=t.st.mainClass;return t.isIE7&&(C+=" mfp-ie7"),C&&t._addClassToMFP(C),t.updateItemHTML(),T("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),o.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),T(f),n},close:function(){t.isOpen&&(T(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(C),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){T(l);var n=C+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}o.off("keyup"+h+" focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,T(d)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||I.height();t.fixedContentPos||t.wrap.css("height",t.wH),T("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(T("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;T("FirstMarkupParse",o),t.currTemplate[i]=o?e(o):!0}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,T(m,n),r=n.type,t.container.prepend(t.contentContainer),T("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(E()):t.content=e:t.content="",T(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,a=0;r.length>a;a++)if(o.el.hasClass("mfp-"+r[a])){i=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,T("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(r||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>I.width())return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};T("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||I.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),T(p,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(o=e.split("_"),o.length>1){var i=t.find(h+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(h+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,n){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){_();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=b?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),b?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var P,O,z,M="inline",B=function(){z&&(O.after(z.addClass(P)).detach(),z=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),x(l+"."+M,function(){B()})},getInline:function(n,i){if(B(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(O||(P=o.hiddenClass,O=k(P),P="mfp-"+P),z=r.after(O).detach().removeClass(P)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var F,H="ajax",L=function(){F&&i.removeClass(F)},A=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(H,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(H),F=t.st.ajax.cursor,x(l+"."+H,A),x("BeforeChange."+H,A)},getAjax:function(n){F&&i.addClass(F),t.updateStatus("loading");var o=e.extend({url:n.src,success:function(i,o,r){var a={data:i,xhr:r};T("ParseAjax",a),t.appendContent(e(a.data),H),n.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),T("AjaxContentAdded")},error:function(){L(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var j,N=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),x(f+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),x(l+n,function(){e.cursor&&i.removeClass(e.cursor),I.off("resize"+h)}),x("Resize"+n,t.resizeImage),t.isLowIE&&x("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){j&&clearInterval(j),j=setInterval(function(){return i.naturalWidth>0?(t._onImageHasSize(e),void 0):(n>200&&clearInterval(j),n++,3===n?o(10):40===n?o(50):100===n&&o(500),void 0)},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,T("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",r).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:N(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(j&&clearInterval(j),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var W,R=function(){return void 0===W&&(W=void 0!==document.createElement("p").style.MozTransform),W};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},d=function(){t.content.css("visibility","visible")};x("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return d(),void 0;r=s(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){d(),setTimeout(function(){r.remove(),e=r=null,T("ZoomAnimationEnded")},16)},a)},16)}}),x(c+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;r=s(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),x(l+i,function(){t._allowZoom()&&(d(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var s={width:i.width(),height:(b?i.innerHeight():i[0].offsetHeight)-a-r};return R()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var Z="iframe",q="//about:blank",D=function(e){if(t.currTemplate[Z]){var n=t.currTemplate[Z].find("iframe");n.length&&(e||(n[0].src=q),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(Z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(Z),x("BeforeChange",function(e,t,n){t!==n&&(t===Z?D():n===Z&&D(!0))}),x(l+"."+Z,function(){D()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=o),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var K=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},Y=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",x(f+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),x("UpdateStatus"+i,function(e,n){n.text&&(n.text=Y(n.text,t.currItem.index,t.items.length))}),x(p+i,function(e,i,o,r){var a=t.items.length;o.counter=a>1?Y(n.tCounter,r.index,a):""}),x("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),a=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y),s=r?"mfpFastClick":"click";o[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(k("b",o[0],!1,!0),k("a",o[0],!1,!0),k("b",a[0],!1,!0),k("a",a[0],!1,!0)),t.container.append(o.add(a))}}),x(m+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),x(l+i,function(){o.off(i),t.wrap.off("click"+i),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=K(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=K(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;(t.direction?o:i)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?i:o)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=K(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),T("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,T("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(x("ImageHasSize."+U,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),x("ElementParse."+U,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){I.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;e.fn.mfpFastClick=function(o){return e(this).each(function(){var a,s=e(this);if(n){var l,c,d,u,p,f;s.on("touchstart"+r,function(e){u=!1,f=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,d=p.clientY,I.on("touchmove"+r,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,f=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-d)>10)&&(u=!0,i())}).on("touchend"+r,function(e){i(),u||f>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),o())})})}s.on("click"+r,function(){a||o()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+r+" click"+r),n&&I.off("touchmove"+r+" touchend"+r)}}(),_()})(window.jQuery||window.Zepto);
</script>

</body>
</html>

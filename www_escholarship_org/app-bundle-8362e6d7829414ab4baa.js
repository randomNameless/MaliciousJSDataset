!function(e){function t(t){for(var r,i,c=t[0],l=t[1],u=t[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+""+({1:"cms",2:"downloadjs",4:"vendors~cms",5:"vendors~pdfjs"}[e]||e)+"-bundle-"+{1:"ce9244c9accc3ce38a0d",2:"4e37197a4baf8f6290f6",4:"3119f4666c9ef21f8cd8",5:"337e8d7986abca6705bb"}[e]+".js"}(e);var l=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/js/",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;o.push([368,3]),n()}({10:function(e,t,n){"use strict";t.a="/images/"},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(370),i=n(42),c=n(1),l=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var y,h,v,g=function(e){function t(){return s(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentWillMount",value:function(){if("undefined"!=typeof document){var e=document.createElement("script");e.async=!0,e.innerHTML="function openDepositWiz(event) {event.preventDefault(); document.getElementById('wizardlyDeposit').click();}",document.body.appendChild(e)}}},{key:"render",value:function(){var e=this.props.html;if(e){var t=this.props.h1Level?this.props.h1Level:3,n=9;e.replace(/(<\/?[hH])([1-9]+)/g,(function(e,t,r){return n=Math.min(n,parseInt(r))}));var r=e.replace(/(<\/?[hH])([1-9]+)/g,(function(e,r,a){return r+(parseInt(a)+t-n)})).replace(/<a href=\"http:\/\/open-deposit-wizard\.com\">/g,'<a href="" onClick="openDepositWiz(event);">');return this.props.p_wrap&&(r=i.a.p_wrap(r)),"undefined"!=typeof document?a.a.createElement(o.a,{dynamic:"true"},a.a.createElement("div",{className:"c-clientmarkup",dangerouslySetInnerHTML:{__html:r}})):a.a.createElement("div",{className:"c-clientmarkup",dangerouslySetInnerHTML:{__html:r}})}return null}}])&&p(n.prototype,r),c&&p(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,c}(a.a.Component);y=g,h="propTypes",v={html:l.a.string,h1Level:l.a.number,p_wrap:l.a.bool},(h=b(h))in y?Object.defineProperty(y,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[h]=v},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(236),l=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var h=function(e){function t(){var e;s(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return b(e=f(this,t,[].concat(r)),"stripHtml",(function(e){return e.replace(/<(?:.|\n)*?>/gm,"")})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.title?this.stripHtml(e.title):"eScholarship",n=[1,"",e.contribs],r=n[0],o=n[1],i=n[2];return e.contribs&&""!=e.contribs||e.abstract&&""!=e.abstract||(r=null),e.abstract&&""!=e.abstract&&(i=i+" | Abstract: "+(o=this.stripHtml(e.abstract))),a.a.createElement(l.a,null,a.a.createElement("title",null,t),a.a.createElement("meta",{id:"meta-title",property:"citation_title",content:t}),a.a.createElement("meta",{id:"og-title",property:"og:title",content:t}),a.a.createElement("meta",{name:"twitter:widgets:autoload",content:"off"}),a.a.createElement("meta",{name:"twitter:dnt",content:"on"}),a.a.createElement("meta",{name:"twitter:widgets:csp",content:"on"}),a.a.createElement("meta",{name:"google-site-verification",content:"lQbRRf0vgPqMbnbCsgELjAjIIyJjiIWo917M7hBshvI"}),e.abstract&&a.a.createElement("meta",{id:"meta-abstract",name:"citation_abstract",content:o}),r&&a.a.createElement("meta",{id:"meta-description",name:"description",content:i}),r&&a.a.createElement("meta",{id:"og-description",name:"og:description",content:i}),a.a.createElement("meta",{id:"og-image",property:"og:image",content:"https://escholarship.org/images/escholarship-facebook2.jpg"}),a.a.createElement("meta",{id:"og-image-width",property:"og:image:width",content:"1242"}),a.a.createElement("meta",{id:"og-image-height",property:"og:image:height",content:"1242"}),this.props.children)}}])&&p(n.prototype,r),o&&p(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);b(h,"propTypes",{title:i.a.string.isRequired,contribs:i.a.string,abstract:i.a.string})},13:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(3),l=n.n(c),u=n(38),s=n(8),p=n(369);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}function y(e,t,n){return t=h(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return m(this,t),y(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("a",{href:"#maincontent",className:"c-skipnav"},"Skip to main content")}}])&&d(n.prototype,r),o&&d(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component),E=n(14),_=n(23),w=n(16);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function P(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t,n){return t=N(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],N(e).constructor):t.apply(e,n))}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var x=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return T(e=k(this,t,[].concat(r)),"state",{isOpen:!1}),e}return C(t,e),P(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"c-drawer__nav-buttons"},a.a.createElement("details",{className:"c-widgetselector__selector",open:this.state.isOpen,ref:function(t){return e.detailsEl=t}},a.a.createElement("summary",{"aria-label":"select widget type",onClick:function(t){return setTimeout((function(){return e.setState({isOpen:e.detailsEl.open})}),0)}}),a.a.createElement("div",{className:"c-widgetselector__menu"},a.a.createElement("div",{className:"c-widgetselector__sub-heading",id:"c-widgetselector__sub-heading"},this.props.title),a.a.createElement("div",{className:"c-widgetselector__items","aria-labelledby":"c-widgetselector__sub-heading",role:"list",onClick:function(t){return e.setState({isOpen:!1})}},this.props.children))))}}])}(a.a.Component),A=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return T(e=k(this,t,[].concat(r)),"state",e.setupState(e.props)),e}return C(t,e),P(t,[{key:"setupState",value:function(e){return{data:this.generateData(e.navItems),firstIsFixed:e.navItems[0].type.includes("fixed")}}},{key:"componentWillReceiveProps",value:function(e){e.fetchingData||l.a.isEqual(this.props,e)||this.setState(this.setupState(e))}},{key:"generateData",value:function(e){var t=this;return function e(t){if(t)return t.filter((function(t){return t.children&&(t.children=e(t.children)),t.id>=0||-9999==t.id}))}(function e(n){if(n)return n.map((function(n){var r={id:n.id,type:n.type,slug:n.slug,title:a.a.createElement(w.a,{to:"/uc/".concat(t.props.unit).concat(n.type.includes("fixed")?"":"/nav/".concat(n.id))},n.name),subtitle:a.a.createElement("i",null,n.hidden&&"hidden ",n.type.replace(/_/g," "))};return n.type.includes("folder")&&(n.id>=0||-9999==n.id)?(r.children=e(n.sub_nav),r.expanded=!0):r.noChildren=!0,r}))}(e))}},{key:"travOrder",value:function(e){var t=this;return e.map((function(e){var n={id:e.id};return e.children&&(n.sub_nav=t.travOrder(e.children)),n}))}},{key:"render",value:function(){var e=this,t=this.props.cms.modules.SortableTree;return a.a.createElement(t,{treeData:this.state.data,isVirtualized:!1,scaffoldBlockPxWidth:30,maxDepth:2,canDrag:function(t){var n=t.node;if(n.type.includes("fixed"))return!1;var r="page"==n.type?n.slug:n.type;return!!(e.props.cms.permissions.nav_perms[r]||{}).reorder},canDrop:function(t){var n=t.node,r=t.nextTreeIndex,a=t.nextParent;return!(e.state.firstIsFixed&&r<=0)&&(!a||!n.type.includes("folder")&&(!a.noChildren&&!!a.type.includes("folder")))},onChange:function(t){return e.setState({data:t})},onMoveNode:function(){return e.props.onChangeOrder(e.travOrder(e.state.data))}})}}])}(a.a.Component),B=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return T(e=k(this,t,[].concat(r)),"state",e.setupState(e.props)),e}return C(t,e),P(t,[{key:"setupState",value:function(e){return{data:this.generateData(e.sidebarWidgets)}}},{key:"componentWillReceiveProps",value:function(e){e.fetchingData||l.a.isEqual(this.props,e)||this.setState(this.setupState(e))}},{key:"generateData",value:function(e){var t=this;if(e)return e.map((function(e){return{id:e.id,kind:e.kind,title:a.a.createElement(w.a,{to:"/uc/".concat(t.props.unit,"/sidebar/").concat(e.id)},"Text"==e.kind&&e.attrs&&e.attrs.title?e.attrs.title:e.kind.replace(/([a-z])([A-Z][a-z])/g,"$1 $2")),subtitle:a.a.createElement("i",null,"Text"==e.kind?"text widget":"built-in widget")}}))}},{key:"travOrder",value:function(e){return e.map((function(e){return e.id}))}},{key:"render",value:function(){var e=this,t=this.props.cms.modules.SortableTree;return a.a.createElement(t,{treeData:this.state.data,isVirtualized:!1,scaffoldBlockPxWidth:30,maxDepth:1,onChange:function(t){return e.setState({data:t})},onMoveNode:function(){return e.props.onChangeOrder(e.travOrder(e.state.data))}})}}])}(a.a.Component),q=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return T(e=k(this,t,[].concat(r)),"state",e.setupState(e.props)),e}return C(t,e),P(t,[{key:"setupState",value:function(e){return{data:e.items}}},{key:"componentWillReceiveProps",value:function(e){e.fetchingData||l.a.isEqual(this.props,e)||this.setState(this.setupState(e))}},{key:"render",value:function(){var e=this,t=this.props.cms.modules.SortableTree;return a.a.createElement(t,{treeData:this.state.data,isVirtualized:!1,scaffoldBlockPxWidth:30,maxDepth:1,canDrag:function(){return!1},onChange:function(t){return e.setState({data:t})}})}}])}(a.a.Component),M=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T(e=k(this,t,[].concat(r)),"addNavItem",(function(t,n){t.preventDefault(),e.props.sendApiData("POST","/api/unit/".concat(e.props.data.unit.id,"/nav"),{navType:n})})),T(e,"addSidebarWidget",(function(t,n){t.preventDefault(),e.props.sendApiData("POST","/api/unit/".concat(e.props.data.unit.id,"/sidebar"),{widgetKind:n})})),T(e,"reorderNav",(function(t){e.props.sendApiData("PUT","/api/unit/".concat(e.props.data.unit.id,"/navOrder"),{order:JSON.stringify(t)})})),T(e,"reorderSidebar",(function(t){e.props.sendApiData("PUT","/api/unit/".concat(e.props.data.unit.id,"/sidebarOrder"),{order:JSON.stringify(t)})})),T(e,"render",(function(){return a.a.createElement(s.a.CMS.Consumer,null,(function(t){return a.a.createElement("div",null,e.props.fetchingData&&a.a.createElement("div",{className:"c-drawer__working-overlay"}),a.a.createElement(t.modules.Sidebar,{sidebar:e.drawerContent(t),open:t.isEditingPage,docked:t.isEditingPage,sidebarClassName:"c-drawer"},e.props.children))}))})),e}return C(t,e),P(t,[{key:"drawerContent",value:function(e){var t=this,n=[{id:"profile",title:a.a.createElement(w.a,{to:"/uc/".concat(this.props.data.unit.id,"/profile")},("journal"===this.props.data.unit.type?"Journal Profile":this.props.data.unit.type.includes("series")&&"Series Profile")||"campus"===this.props.data.unit.type&&"Campus Profile"||"Unit Profile")}];return["oru","journal","campus"].includes(this.props.data.unit.type)&&n.push({id:"carousel",title:a.a.createElement(w.a,{to:"/uc/".concat(this.props.data.unit.id,"/carousel")},"Carousel Builder")}),"root"==this.props.data.unit.type&&(n.push({id:"redirects",title:a.a.createElement(w.a,{to:"/uc/root/redirects/static"},"Sitewide Redirects")}),n.push({id:"authorSearch",title:a.a.createElement(w.a,{to:"/uc/root/authorSearch"},"Author/User Search")})),e.permissions.super&&"root"!=this.props.data.unit.id&&n.push({id:"unitBuilder",title:a.a.createElement(w.a,{to:"/uc/".concat(this.props.data.unit.id,"/unitBuilder")},"Unit Builder")}),"journal"===this.props.data.unit.type&&n.push({id:"issueConfig",title:a.a.createElement(w.a,{to:"/uc/".concat(this.props.data.unit.id,"/issueConfig")},"Issue Configuration")}),"root"!=this.props.data.unit.type&&n.push({id:"userConfig",title:a.a.createElement(w.a,{to:"/uc/".concat(this.props.data.unit.id,"/userConfig")},"Users")}),a.a.createElement("div",null,a.a.createElement("div",{className:"c-drawer__heading"},"Site Settings"),a.a.createElement(q,{cms:e,items:n}),a.a.createElement("div",{className:"c-drawer__heading"},"Navigation Items",!this.props.data.unit.type.includes("series")&&a.a.createElement(x,{title:"Add Nav Item"},a.a.createElement("a",{href:"",key:"page",onClick:function(e){return t.addNavItem(e,"page")}},"Page"),a.a.createElement("a",{href:"",key:"url",onClick:function(e){return t.addNavItem(e,"link")}},"External Link"),a.a.createElement("a",{href:"",key:"folder",onClick:function(e){return t.addNavItem(e,"folder")}},"Dropdown Menu"))),this.props.data.unit.type.includes("series")?a.a.createElement("div",{className:"c-drawer__row"},"To make changes to navigation items, navigate to your unit’s homepage"):a.a.createElement(A,{cms:e,unit:this.props.data.unit.id,navItems:this.props.data.header.nav_bar,fetchingData:this.props.fetchingData,onChangeOrder:this.reorderNav}),a.a.createElement("div",{className:"c-drawer__heading"},"Sidebar Widgets",!this.props.data.unit.type.includes("series")&&a.a.createElement(x,{title:"Add Widget"},a.a.createElement("a",{href:"",key:"RecentArticles",onClick:function(e){return t.addSidebarWidget(e,"RecentArticles")}},"Recent Articles"),a.a.createElement("a",{href:"",key:"Text",onClick:function(e){return t.addSidebarWidget(e,"Text")}},"Text"),a.a.createElement("a",{href:"",key:"TwitterFeed",onClick:function(e){return t.addSidebarWidget(e,"TwitterFeed")}},"Twitter Feed"))),this.props.data.unit.type.includes("series")?a.a.createElement("div",{className:"c-drawer__row"},"To make changes to sidebar widgets, navigate to your unit’s homepage"):a.a.createElement(B,{cms:e,unit:this.props.data.unit.id,sidebarWidgets:this.props.data.sidebar,fetchingData:this.props.fetchingData,onChangeOrder:this.reorderSidebar}))}}])}(a.a.Component);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t,n){return t=z(t),function(e,t){if(t&&("object"==I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],z(e).constructor):t.apply(e,n))}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return(t=H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}a.a.Component;var J=n(374);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function Z(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}function K(e,t,n){return t=Q(t),function(e,t){if(t&&("object"==G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Q(e).constructor):t.apply(e,n))}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(){return $(this,t),K(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props.location.search,n=e.location.search;(this.props.location.pathname!==e.location.pathname||t.includes("start")&&!t.includes("start=0")&&t!==n)&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}])&&Y(n.prototype,r),a&&Y(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(a.a.Component),te=Object(J.a)(ee),ne=n(15),re=n(31),ae=n(12),oe=n(35);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function ue(e,t,n){return t=se(t),function(e,t){if(t&&("object"==ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],se(e).constructor):t.apply(e,n))}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=function(e,t){if("object"!=ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ie(t)?t:t+""}var de="undefined"!=typeof window?window.sessionStorage:null,be={tex:{packages:{"[+]":["html"]},inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},messageStyle:"none",startup:{typeset:!0}},ye=function(e){function t(){var e;ce(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return fe(e=ue(this,t,[].concat(r)),"onLogin",(function(t,n){e.state.adminLogin&&t==e.state.adminLogin.username&&n==e.state.adminLogin.token||(e.setSessionData({username:t,token:n}),e.setState({adminLogin:{loggedIn:!0,username:t,token:n},isEditingPage:!1}))})),fe(e,"onLogout",(function(){e.setSessionData(null),e.setState({adminLogin:{loggedIn:!1}})})),fe(e,"onEditingPageChange",(function(t){e.setSessionData(Object.assign(e.getSessionData(),{isEditingPage:t})),e.setState({isEditingPage:t})})),fe(e,"fetchPageData",(function(t){e.dataURL=e.pageDataURL(t);var n=e.dataURL;if(e.dataURL){var r=e.pageDataURL(t),a=e.getSessionData();a&&(r+=r.indexOf("?")<0?"?":"&",r+="username="+a.username+"&token="+a.token),e.setState({fetchingData:!0,permissions:e.state&&e.pagePermissionsUnit()==e.state.permissionsUnit?e.state.permissions:null}),i.a.getJSON(r).done((function(t){n==e.dataURL?(e.setState({pageData:t,fetchingData:!1}),e.pagePermissionsUnit()!=e.state.permissionsUnit&&e.fetchPermissions()):console.log("Note: discarding obsolete API data from:",n)})).fail((function(t,n,r){var a=t.responseJSON&&t.responseJSON.message?t.responseJSON.message:"error"==n&&r?r:n||"error";e.setState({pageData:{error:a},fetchingData:!1})}))}else e.setState({fetchingData:!1,permissions:null})})),fe(e,"sendApiData",(function(t,n,r){e.setState({fetchingData:!0}),i.a.getJSON({type:t,url:n,data:l.a.merge(l.a.cloneDeep(r),{username:e.state.adminLogin.username,token:e.state.adminLogin.token})}).done((function(t){t.nextURL?(e.setState({fetchingData:!1,permissionsUnit:null}),e.props.history.push(t.nextURL)):(e.fetchPermissions(!0),e.fetchPageData())})).fail((function(t){alert("Error"+(t.responseJSON?":\n".concat(t.responseJSON.message):" ".concat(t.status,":\n").concat(t.statusText,"."))),e.fetchPermissions(!0),e.fetchPageData()}))})),fe(e,"sendBinaryFileData",(function(t,n,r){e.setState({fetchingData:!0}),r.append("username",e.state.adminLogin.username),r.append("token",e.state.adminLogin.token),i.a.ajax({type:t,url:n,data:r,contentType:!1,processData:!1}).done((function(t){t.nextURL?(e.setState({fetchingData:!1}),e.props.history.push(t.nextURL)):e.fetchPageData()})).fail((function(t){alert("Error"+(t.responseJSON?":\n".concat(t.responseJSON.message):" ".concat(t.status,":\n").concat(t.statusText,"."))),e.fetchPageData()}))})),fe(e,"runExtGATracker",(function(e,t){u.a.ga("create",t,"auto",{name:e}),u.a.ga(e+".send","pageview",{page:window.location.pathname})})),fe(e,"extGA",(function(t){"undefined"!=typeof window&&(/jmie_sfews/.test(t)&&e.runExtGATracker("sfewsTracker","UA-31540406-1"),/^nanocad/.test(t)&&e.runExtGATracker("nanocadTracker","UA-17962781-1"),/^uciem_westjem/.test(t)&&e.runExtGATracker("westjemTracker","UA-34762732-1"),/^ucla_epss/.test(t)&&e.runExtGATracker("epssTracker","UA-111990925-2"),/^refract/.test(t)&&e.runExtGATracker("refractTracker","UA-130336975-1"),/^itsdavis_ncst/.test(t)&&e.runExtGATracker("itsdavisncstTracker","UA-54945925-1"),/^acgcc_jtas/.test(t)&&e.runExtGATracker("jtasTracker","UA-141570725-1"),/^psf/.test(t)&&e.runExtGATracker("psfTracker","UA-152312010-1"),/^cioa_ciap/.test(t)&&e.runExtGATracker("ciapTracker","UA-164954982-1"),/^lawandpoliticaleconomy/.test(t)&&e.runExtGATracker("lawandpoliticaleconomyTracker","UA-187281152-1"),/^energy_ambitions/.test(t)&&e.runExtGATracker("energyambitionsTracker","UA-192190770-1"),/^glossapsycholinguistics/.test(t)&&e.runExtGATracker("glossapsycholinguisticsTracker","UA-217482135-1"))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(t,e),r=t,(o=[{key:"getEmptyState",value:function(){return{pageData:null,isEditingPage:!1,cmsModules:null}}},{key:"componentWillMount",value:function(){var e=this.getEmptyState();this.pageDataURL(this.props)?this.props.staticContext&&this.props.staticContext.pageData?(e.fetchingData=!1,e.pageData=this.props.staticContext.pageData):"undefined"!=typeof window&&window.jscholApp_initialPageData?(e.fetchingData=!1,e.pageData=window.jscholApp_initialPageData,delete window.jscholApp_initialPageData):(e.fetchingData=!0,this.fetchPageData(this.props)):e.pageData={},this.setState(e)}},{key:"componentDidMount",value:function(){var e=this,t=this.getSessionData();t&&setTimeout((function(){e.setState({adminLogin:{loggedIn:!0,username:t.username,token:t.token},isEditingPage:t.isEditingPage}),setTimeout((function(){return e.fetchPermissions()}),0)}),0)}},{key:"getSessionData",value:function(){return de&&JSON.parse(de.getItem("escholLogin"))}},{key:"setSessionData",value:function(e){return de&&de.setItem("escholLogin",JSON.stringify(e))}},{key:"isPageEditable",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.location.pathname==e.location.pathname&&this.props.location.search==e.location.search||(this.setState({fetchingData:!0}),setTimeout((function(){return t.fetchPageData()}),0))}},{key:"pageDataURL",value:function(){return"/api/pageData"+this.props.location.pathname+this.props.location.search}},{key:"pagePermissionsUnit",value:function(){return null}},{key:"renderData",value:function(){throw"Derived class must override renderData method"}},{key:"needHeaderFooter",value:function(){return!0}},{key:"shouldShowDrawer",value:function(){return this.state.adminLogin&&this.state.adminLogin.loggedIn&&this.state.cmsModules&&this.state.pageData&&this.state.permissions&&this.state.permissions.admin&&"header"in this.state.pageData&&"nav_bar"in this.state.pageData.header&&!this.state.pageData.id}},{key:"renderContent",value:function(){return this.state.pageData&&void 0!==this.state.pageData.error?a.a.createElement("div",{className:"body"},this.renderError(),a.a.createElement("div",{className:"c-toplink"},a.a.createElement("a",{href:"javascript:window.scrollTo(0, 0)"},"Top")),this.needHeaderFooter()&&a.a.createElement(_.a,null)):this.shouldShowDrawer()?a.a.createElement(M,{data:this.state.pageData,sendApiData:this.sendApiData,sendBinaryFileData:this.sendBinaryFileData,fetchingData:this.state.fetchingData},a.a.createElement("div",{className:"body",style:{padding:"20px"}},a.a.createElement(p.b,{version:3,config:be,src:"/js/MathJax-3.2.2/es5/tex-chtml.js",hideUnilTypeset:"every"},this.needHeaderFooter()&&a.a.createElement(g,null),this.state.pageData?this.renderData(this.state.pageData):this.renderLoading(),this.needHeaderFooter()&&a.a.createElement(_.a,null)))):"undefined"==typeof document?a.a.createElement("div",{className:"body"},this.needHeaderFooter()&&a.a.createElement(g,null),this.state.pageData?this.renderData(this.state.pageData):this.renderLoading(),this.needHeaderFooter()&&a.a.createElement("div",null,a.a.createElement("div",{className:"c-toplink"},a.a.createElement("a",{href:"javascript:window.scrollTo(0, 0)"},"Top")),a.a.createElement(_.a,null))):a.a.createElement(p.b,{version:3,config:be,src:"/js/MathJax-3.2.2/es5/tex-chtml.js"},a.a.createElement("div",{className:"body"},this.needHeaderFooter()&&a.a.createElement(g,null),this.state.pageData?this.renderData(this.state.pageData):this.renderLoading(),this.needHeaderFooter()&&a.a.createElement("div",null,a.a.createElement("div",{className:"c-toplink"},a.a.createElement("a",{href:"javascript:window.scrollTo(0, 0)"},"Top")),a.a.createElement(_.a,null))))}},{key:"fetchPermissions",value:function(e){var t=this,r=this.pagePermissionsUnit();r&&this.state.adminLogin&&this.state.adminLogin.loggedIn&&!this.state.fetchingPerms&&(e||!this.state.permissions)&&(this.setState({fetchingPerms:!0}),i.a.getJSON("/api/permissions/".concat(r,"?username=").concat(this.state.adminLogin.username,"&token=").concat(this.state.adminLogin.token)).done((function(e){e.error?(t.setSessionData(null),t.setState({fetchingPerms:!1,adminLogin:null,permissions:null,isEditingPage:!1}),alert("Login note: "+e.message)):(t.setState({fetchingPerms:!1,permissions:e,permissionsUnit:r}),t.state.cmsModules||Promise.all([n.e(4),n.e(1)]).then(function(e){t.setState({cmsModules:{Trumbowyg:n(612).default,Sidebar:n(613).default,SortableTree:n(616).default}})}.bind(null,n)).catch(n.oe))})).fail((function(e,n,r){t.setState({pageData:{error:n},fetchingPerms:!1,adminLogin:null,permissions:null,isEditingPage:!1})})))}},{key:"render",value:function(){var e=this;return a.a.createElement(te,null,a.a.createElement(s.a.CMS.Provider,{value:{loggedIn:this.state.adminLogin&&this.state.adminLogin.loggedIn,username:this.state.adminLogin&&this.state.adminLogin.username,token:this.state.adminLogin&&this.state.adminLogin.token,onLogin:this.onLogin,onLogout:this.onLogout,isEditingPage:this.state.adminLogin&&this.state.adminLogin.loggedIn&&this.state.isEditingPage,onEditingPageChange:this.onEditingPageChange,fetchPageData:function(){return e.fetchPageData(e.props)},goLocation:function(t){return e.props.history.push(t)},modules:this.state.cmsModules,showingDrawer:this.shouldShowDrawer(),permissions:this.state.permissions}},this.renderContent()))}},{key:"renderLoading",value:function(){return a.a.createElement("div",null,this.needHeaderFooter()&&a.a.createElement(E.a,null),a.a.createElement("h2",{style:{marginTop:"5em",marginBottom:"5em"}},"Loading..."))}},{key:"renderError",value:function(){var e=this.state.pageData,t=e.message?e.message:e.error?e.error:null;return a.a.createElement("div",null,a.a.createElement(ae.a,{title:t}),a.a.createElement(E.a,null),e.header&&e.unit&&a.a.createElement(oe.a,{navBar:e.header.nav_bar,unit:e.unit,socialProps:e.header.social}),e.header&&!e.unit&&a.a.createElement("div",{className:"c-navbar"},a.a.createElement(ne.a,{data:e.header.nav_bar}),"}"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(re.a,{error:t})))))}}])&&le(r.prototype,o),c&&le(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,c}(a.a.Component);t.a=ye},14:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(16),i=n(17),c=n(53),l=n(56),u=n(10);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function m(e,t,n){return t=d(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var v=function(e){function t(){var e;p(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(e=m(this,t,[].concat(r)),"state",{searchActive:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(l.a,null),a.a.createElement("header",{id:"#top",className:"c-header"},a.a.createElement(o.a,{className:"c-header__logo1",to:"/"},a.a.createElement("picture",null,a.a.createElement("source",{srcSet:u.a+"logo_escholarship.svg",media:"(min-width: "+i.screen3+")"}),a.a.createElement("img",{src:u.a+"logo_eschol-mobile.svg",alt:"eScholarship"}))),a.a.createElement("div",{className:this.state.searchActive?"c-header__search--active":"c-header__search"},a.a.createElement(c.a,{onClose:function(){return e.setState({searchActive:!1})}})),a.a.createElement("button",{className:"c-header__search-open-button","aria-label":"open search field",onClick:function(){return e.setState({searchActive:!0})}})))}}])&&f(n.prototype,r),s&&f(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.a.Component);t.a=v},15:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function u(e,t,n){return t=s(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return i(this,t),u(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("details",{className:"c-nav__sub",open:this.props.open,ref:function(t){return e.navsub=t}},a.a.createElement("summary",{className:"c-nav__sub-button",onClick:function(t){e.props.onSubmenuChanged(!e.navsub.open),t.preventDefault()}},this.props.name),a.a.createElement("div",{className:"c-nav__sub-items"},a.a.createElement("button",{className:"c-nav__sub-items-button","aria-label":"return to menu",onClick:function(){e.props.onSubmenuChanged(!1)}},"Main Menu"),this.props.children))}}])&&c(n.prototype,r),o&&c(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component),m=n(17),d=n(16);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function h(e,t,n){return t=v(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(n=h(this,t,[e]),"widthChange",(function(){n.setState({isOpen:n.mq.matches})})),E(n,"onNavClick",(function(){return n.setState({submenuActive:null,isOpen:!!n.mq.matches})})),n.state={submenuActive:null,isOpen:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){"undefined"!=typeof matchMedia&&(this.mq=matchMedia("(min-width:"+m.screen3+")"),this.mq.addListener(this.widthChange),this.widthChange())}},{key:"getNavItemJSX",value:function(e){return"link"==e.type?a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:e.url,onClick:this.onNavClick},e.name)):a.a.createElement("li",{key:e.id},a.a.createElement(d.a,{to:e.url,onClick:this.onNavClick},e.name))}},{key:"render",value:function(){var e=this,t=this.props.data.filter((function(e){return!e.hidden})).map((function(t){return t.type.includes("folder")?a.a.createElement("li",{key:t.id},a.a.createElement(f,{name:t.name,open:e.state.submenuActive==t.name,onSubmenuChanged:function(n){return e.setState({submenuActive:n?t.name:null})}},a.a.createElement("ul",null,t.sub_nav.filter((function(e){return!e.hidden})).map((function(t){return e.getNavItemJSX(t)}))))):e.getNavItemJSX(t)}));return a.a.createElement("nav",{className:"c-nav"},a.a.createElement("details",{open:this.state.isOpen?"open":"",className:"c-nav__main",ref:function(t){return e.details=t}},a.a.createElement("summary",{className:"c-nav__main-button",onClick:function(t){e.setState({isOpen:!e.details.open}),t.preventDefault()}},"Menu"),a.a.createElement("ul",{className:this.state.submenuActive?"c-nav__main-items--submenu-active":"c-nav__main-items"},t)))}}])&&y(n.prototype,r),o&&y(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);t.a=w},17:function(e){e.exports=JSON.parse('{"screen1":"480px","screen2":"760px","screen3":"870px","screen4":"1280px","screen5":"1400px"}')},18:function(e,t,n){"use strict";var r,a=n(0),o=n.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}"undefined"!=typeof document&&(r=n(284));var m=null,d=function(e){function t(){return c(this,t),s(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){"undefined"!=typeof document&&(m||(m=r(".c-lazyimage")),m.observe(),"puppeteer"==navigator.userAgent&&document.querySelectorAll(".c-lazyimage").forEach((function(e){return m.triggerLoad(e)})))}},{key:"render",value:function(){return this.props.clickable?o.a.createElement("a",{href:this.props.src,target:"_blank"},o.a.createElement("img",{className:"c-lazyimage","data-src":this.props.src,alt:this.props.alt})):o.a.createElement("img",{className:"c-lazyimage","data-src":this.props.src,alt:this.props.alt})}}])&&l(n.prototype,a),i&&l(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(o.a.Component);t.a=d},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(4),l=n.n(c),u=n(57),s=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}if("undefined"!=typeof document)n(26);var E=null;"undefined"!=typeof document&&(E=new(function(){return h((function e(){var t=this;b(this,e),v(this,"queue",[]),v(this,"service",(function(){for(var e=new Date;t.queue.length>0&&new Date-e<100;){t.queue.shift()()}setTimeout(t.service,10)})),setTimeout(this.service,10)}),[{key:"append",value:function(e){this.queue.push(e)}}])}())(10));var _=function(e){function t(){var e;b(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v(e=f(this,t,[].concat(r)),"render",(function(){var t=s.a.renderToStaticMarkup(a.a.createElement("div",null,e.props.children)).replace(/^<div>/,"").replace(/<\/div>$/,"");return/\\\(|\\\[|\$\$/.test(t)?(e.truncate=!1,a.a.createElement(e.props.element,{className:e.props.className,ref:function(t){return e.domEl=t}},e.props.children)):(e.truncate=!0,a.a.createElement(e.props.element,{className:e.props.className,ref:function(t){return e.domEl=t},dangerouslySetInnerHTML:{__html:t}}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;"puppeteer"!=navigator.userAgent&&this.truncate&&E.append((function(){e.domEl&&(l()(e.domEl).dotdotdot(e.props.options?e.props.options:{watch:"window"}),E.append((function(){return e.domEl&&l()(e.domEl).trigger("update")})))}))}},{key:"componentWillUnmount",value:function(){this.domEl=null}}])}(a.a.Component);v(_,"propTypes",{element:i.a.string.isRequired,options:i.a.object})},23:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(18),i=n(16),c=n(8),l=n(10);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function m(e,t,n){return t=d(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return s(this,t),m(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("footer",{className:"c-footer"},a.a.createElement("nav",{className:"c-footer__nav"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(i.a,{to:"/"},"Home")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/aboutEschol"},"About eScholarship")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/campuses"},"Campus Sites")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/ucoapolicies"},"UC Open Access Policy")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/publishing"},"eScholarship Publishing")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.cdlib.org/about/accessibility.html"},"Accessibility")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/privacypolicy"},"Privacy Statement")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/policies"},"Site Policies")),a.a.createElement("li",null,a.a.createElement(i.a,{to:"/terms"},"Terms of Use")),a.a.createElement(c.a.CMS.Consumer,null,(function(e){return e.loggedIn?a.a.createElement("li",null,a.a.createElement(i.a,{to:"/logout",onClick:function(){return setTimeout((function(){return e.onLogout()}),0)}},a.a.createElement("strong",null,"Admin Logout"))):a.a.createElement("li",null,a.a.createElement(i.a,{to:"/login"},a.a.createElement("strong",null,"Admin Login")))})),a.a.createElement("li",null,a.a.createElement("a",{href:"https://help.escholarship.org"},a.a.createElement("strong",null,"Help"))))),a.a.createElement("div",{className:"c-footer__logo"},a.a.createElement(i.a,{to:"/"},a.a.createElement(o.a,{src:l.a+"logo_footer-eschol.svg",alt:"eScholarship, University of California"}))),a.a.createElement("div",{className:"c-footer__copyright"},"Powered by the",a.a.createElement("br",null),a.a.createElement("a",{href:"http://www.cdlib.org"},"California Digital Library"),a.a.createElement("br",null),"Copyright © 2017",a.a.createElement("br",null),"The Regents of the University of California"))}}])&&p(n.prototype,r),u&&p(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,u}(a.a.Component);t.a=y},237:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(46),l=n(16);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var h=function(t){function n(){var e;s(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return b(e=f(this,n,[].concat(r)),"state",{modalOpen:!1}),b(e,"closeWizardModal",(function(t){e.setState({modalOpen:!1})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this;return a.a.createElement("div",{id:"repository",className:"c-homesection__2"},a.a.createElement("div",{className:"c-homesection__2-map"}),a.a.createElement("div",{className:"c-homesection__2-description"},a.a.createElement("h3",null,"Institutional Repository"),a.a.createElement("p",null,"eScholarship serves as the institutional repository for the ten University of California campuses and affiliated research centers."),a.a.createElement("p",null,"eScholarship Repository content includes postprints (previously published articles), as well as working papers, electronic theses and dissertations (ETDs), student capstone projects, and seminar/conference proceedings.")),a.a.createElement("button",{id:"wizardlyDeposit",className:"c-homesection__2-deposit",onClick:function(e){t.setState({modalOpen:!0}),e.preventDefault()}},"Deposit Work"),a.a.createElement(l.a,{to:"/campuses",className:"c-homesection__2-browse-campuses"},"Browse campuses"),a.a.createElement("h3",{className:"c-homesection__2-metrics-heading"},"Repository Holdings"),a.a.createElement("div",{className:"o-stat"},a.a.createElement("div",{className:"o-stat--articles"},a.a.createElement("a",{href:"/search?type_of_work=article"},this.props.stats.statsCountArticles.toLocaleString())," Articles"),a.a.createElement("div",{className:"o-stat--books"},a.a.createElement("a",{href:"/search?type_of_work=monograph"},this.props.stats.statsCountBooks.toLocaleString())," Books"),a.a.createElement("div",{className:"o-stat--theses"},a.a.createElement("a",{href:"/search?type_of_work=dissertation"},this.props.stats.statsCountThesesDiss.toLocaleString())," Theses")),a.a.createElement("a",{href:"/search",className:"c-homesection__2-browse-all"},"Browse all eScholarship holdings"),a.a.createElement(l.a,{to:"/repository",className:"c-homesection__2-more"},"Learn more about the eScholarship repository"),a.a.createElement("div",{id:"wizardModalBase"},a.a.createElement(c.a,{showModal:this.state.modalOpen,parentSelector:function(){return e("#wizardModalBase")[0]},onCancel:function(e){return t.closeWizardModal(e)},campuses:this.props.campuses,data:{campusID:null,campusName:null,unitID:null,unitName:null}})))}}])&&p(r.prototype,o),i&&p(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(a.a.Component);b(h,"propTypes",{campuses:i.a.array.isRequired}),t.a=h}).call(this,n(4))},238:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(8);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function u(e,t,n){return t=s(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(t){function n(){var t;c(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return f(t=u(this,n,[].concat(a)),"state",{fetchingData:!0,series:null}),f(t,"currentSeries",null),f(t,"fetchSeries",(function(n){n&&n!=t.currentSeries&&!["eScholarship","root"].includes(n)&&(t.currentSeries=n,e.getJSON("/api/wizardlySeries/".concat(n)).done((function(e){t.setState({series:e,fetchingData:!1})})).fail((function(e,n,r){t.setState({fetchingData:!1})})))})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(n,t),r=n,(i=[{key:"render",value:function(){var e=this,t=this.state.series&&this.state.series.length>0?this.state.series.map((function(t){return t.directSubmit&&"moribund"==t.directSubmit?a.a.createElement("li",{key:t.id},a.a.createElement("a",{onClick:function(n){n.preventDefault(),e.props.goForward(6,{arg:"6_moribund",type:"series",seriesName:t.name})},href:""},t.name)):t.directSubmit&&["hide","disabled"].includes(t.directSubmit)?a.a.createElement("li",{key:t.id},a.a.createElement("a",{onClick:function(n){n.preventDefault(),e.props.goForward(6,{arg:"6_disabled",type:"series",seriesName:t.name})},href:""},t.name)):a.a.createElement("li",{key:t.id},a.a.createElement("a",{href:e.props.subi_link+t.id},t.name))})):null;return!this.state.fetchingData&&this.state.series&&(1==this.state.series.length&&(this.props.closeModal(),window.location=this.props.subi_link+this.state.series[0].id),0==this.state.series.length&&(t=a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goForward(6,{arg:"6_disabled",seriesName:"NONE"})},href:""},"...No Series Found...")))),a.a.createElement(o.a.Wiz.Consumer,null,(function(n){return e.fetchSeries(n.unitID),a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},n.campusName," Deposit"),a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goBackward()},href:""},a.a.createElement("span",null,"Go back")),a.a.createElement("button",{onClick:e.props.closeModal},a.a.createElement("span",null,"Close"))),e.state.fetchingData?a.a.createElement("div",{className:"c-wizard__heading"},"Loading..."):[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"Into which ",a.a.createElement("b",null,n.unitName)," series would you like to deposit your work?"),a.a.createElement("ul",{key:"1",className:"c-wizard__list"},t),a.a.createElement("footer",{key:"2"},"We use these questions to direct you to the right place to deposit your materials.")])}))}}])&&l(r.prototype,i),s&&l(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,s}(a.a.Component);t.a=d}).call(this,n(4))},239:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(8);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function u(e,t,n){return t=s(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(t){function n(){var t;c(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return f(t=u(this,n,[].concat(a)),"state",{fetchingData:!0,units:null}),f(t,"currentCampus",null),f(t,"fetchUnits",(function(n){n&&n!=t.currentCampus&&!["eScholarship","root"].includes(n)&&(t.currentCampus=n,e.getJSON("/api/wizardlyORUs/".concat(n)).done((function(e){t.setState({units:e,fetchingData:!1})})).fail((function(e,n,r){t.setState({fetchingData:!1})})))})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(n,t),r=n,(i=[{key:"render",value:function(){var e=this,t=this.state.units&&this.state.units.length>0?this.state.units.map((function(t){return t.directSubmit&&"moribund"==t.directSubmit?a.a.createElement("li",{key:t.id},a.a.createElement("a",{onClick:function(n){n.preventDefault(),e.props.goForward(6,{arg:"6_moribund",type:"unit",unitID:t.id,unitName:t.name})},href:""},t.name)):t.directSubmit&&["hide","disabled"].includes(t.directSubmit)?a.a.createElement("li",{key:t.id},a.a.createElement("a",{onClick:function(n){n.preventDefault(),e.props.goForward(6,{arg:"6_disabled",type:"unit",unitID:t.id,unitName:t.name})},href:""},t.name)):a.a.createElement("li",{key:t.id},a.a.createElement("a",{onClick:function(n){n.preventDefault(),e.props.goForward(5,{unitID:t.id,unitName:t.name})},href:""},t.name))})):null;return a.a.createElement(o.a.Wiz.Consumer,null,(function(n){e.fetchUnits(n.campusID);var r=3;return n.arg&&n.arg.includes("student")&&(r=n.launchedFromRoot?2:1),a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},n.campusName," Deposit"),a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goBackward(r)},href:""},a.a.createElement("span",null,"Go back")),a.a.createElement("button",{onClick:e.props.closeModal},a.a.createElement("span",null,"Close"))),e.state.fetchingData?a.a.createElement("div",{className:"c-wizard__heading"},"Loading..."):[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"What is your departmental affiliation?"),a.a.createElement("ul",{key:"1",className:"c-wizard__list"},t),a.a.createElement("footer",{key:"2"},"Don't see your department? ",a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000131086-request-a-new-unit"},"Add it to eScholarship here"),".")])}))}}])&&l(r.prototype,i),s&&l(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,s}(a.a.Component);t.a=d}).call(this,n(4))},24:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(16);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return c(this,t),s(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.array?null:{margin:"20px 0px 20px"},t=this.props.array?this.props.array.length-1:0,n=this.props.array?this.props.array.map((function(e,n){return a.a.createElement("li",{key:n},a.a.createElement(o.a,{className:n==t?"c-breadcrumb-link--active":null,to:e.url},e.name))})):a.a.createElement(o.a,{to:"/"},"eScholarship");return a.a.createElement("nav",{className:"c-breadcrumb",style:e},a.a.createElement("ul",null,n))}}])&&l(n.prototype,r),i&&l(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(a.a.Component);t.a=m},240:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=function(t){function n(){var t;l(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return m(t=s(this,n,[].concat(a)),"state",{rows:t.props.query.rows?t.props.query.rows:"10",sort:t.props.query.sort?t.props.query.sort:"rel"}),m(t,"handleChange",(function(n){"rows"==n.target.name&&t.setState({rows:n.target.value}),"sort"==n.target.name&&t.setState({sort:n.target.value}),e("[name=start]").val("0"),e("#"+t.props.formButton).click()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var e=10*Math.ceil((this.state.rows>this.props.count?this.props.count:this.state.rows)/10);return a.a.createElement("div",{className:"c-sort"},a.a.createElement("div",{className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"c-sort1"},"Sort By:"),a.a.createElement("select",{name:"sort",id:"c-sort1",form:this.props.formName,value:this.state.sort,onChange:this.handleChange},this.props.relQueryOff?a.a.createElement("option",{value:""},"Default"):a.a.createElement("option",{value:"rel"},"Relevance"),a.a.createElement("option",{value:"a-title"},"A-Z By Title"),a.a.createElement("option",{value:"z-title"},"Z-A By Title"),a.a.createElement("option",{value:"a-author"},"A-Z By Author"),a.a.createElement("option",{value:"z-author"},"Z-A By Author"),a.a.createElement("option",{value:"asc"},"Date Ascending"),a.a.createElement("option",{value:"desc"},"Date Descending"))),this.props.count>10&&a.a.createElement("div",{className:"o-input__droplist1 c-sort__page-input"},a.a.createElement("label",{htmlFor:"c-sort2"},"Show:"),a.a.createElement("select",{name:"rows",id:"c-sort2",form:this.props.formName,value:e,onChange:this.handleChange},a.a.createElement("option",{value:"10"},"10"),a.a.createElement("option",{value:"20"},"20"),this.props.count>20&&a.a.createElement("option",{value:"30"},"30"),this.props.count>30&&a.a.createElement("option",{value:"40"},"40"),this.props.count>40&&a.a.createElement("option",{value:"50"},"50"),this.props.count>100&&a.a.createElement("option",{value:"100"},"100"))))}}])&&u(r.prototype,o),i&&u(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(a.a.Component);m(b,"propTypes",{formName:i.a.string,formButton:i.a.string,relQueryOff:i.a.bool,query:i.a.shape({q:i.a.string,rows:i.a.string,sort:i.a.string,start:i.a.string}).isRequired,count:i.a.number.isRequired}),t.a=b}).call(this,n(4))},241:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(242),i=n(243),c=n(244),l=n(36),u=n(34),s=n(8),p=n(9),f=n(3),m=n.n(f),d=n(245),b=n.n(d),y=n(62);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function E(e,t,n){return t=_(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var S=[{value:"faculty",label:"Faculty"},{value:"researcher",label:"Researchers"},{value:"grad",label:"Graduate Students"},{value:"undergrad",label:"Undergraduate Students"},{value:"practitioner",label:"Practitioners"}],P=[{value:"clarivate",label:"Clarivate"},{value:"doaj",label:"DOAJ"},{value:"ebsco",label:"EBSCO"},{value:"pubmed",label:"PubMed"},{value:"road",label:"ROAD"},{value:"scopus",label:"SCOPUS"},{value:"jstor",label:"JSTOR"}],k=[{value:"arch",label:"Architecture"},{value:"art",label:"Arts and Humanities"},{value:"bus",label:"Business"},{value:"edu",label:"Education"},{value:"eng",label:"Engineering"},{value:"law",label:"Law"},{value:"life",label:"Life Sciences"},{value:"medicine",label:"Medicine and Health Sciences"},{value:"physical",label:"Physical Sciences and Mathematics"},{value:"social",label:"Social and Behavioral Sciences"}],N=function(t){function n(){var t;v(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return O(t=E(this,n,[].concat(a)),"state",{newData:t.props.data,banner_flag_visible:t.props.data.logo,tos:t.props.data.tos,indexed:"indexed"in t.props.data?P.filter((function(e){return t.props.data.indexed.includes(e.value)})):"",disciplines:"disciplines"in t.props.data?k.filter((function(e){return t.props.data.disciplines.includes(e.value)})):"",contentby:"contentby"in t.props.data?S.filter((function(e){return t.props.data.contentby.includes(e.value)})):""}),O(t,"updatetos",(function(e){t.setState({tos:e})})),O(t,"updateIndexed",(function(e){t.setState({indexed:e})})),O(t,"updateDisciplines",(function(e){t.setState({disciplines:e})})),O(t,"updateContentby",(function(e){t.setState({contentby:e})})),O(t,"handleSubmit",(function(n,r){n.preventDefault();var a=new FormData,o=[];for(var i in r)r[i]instanceof File&&(a.append(i,r[i]),o.push(i));if(0!==o.length){for(var c in o)delete r[o[c]];t.props.sendBinaryFileData("POST","/api/unit/"+t.props.unit.id+"/upload",a)}t.state.tos instanceof Object&&(r.tos=t.state.tos.format("L")),e.isEmptyObject(r)||t.props.sendApiData("PUT",n.target.action,{data:r})})),O(t,"handleImageChange",(function(e){e.preventDefault();var n=new FileReader,r=e.target.files[0],a={},o=e.target.name;n.onloadend=function(){a[o]={imagePreviewUrl:n.result},t.setData(a)},n.readAsDataURL(r),t.setState({banner_flag_visible:!0})})),O(t,"setData",(function(e){t.setState({newData:Object.assign(m.a.cloneDeep(t.state.newData),e)})})),O(t,"setMarqueeData",(function(e){var n=Object.assign(m.a.cloneDeep(t.state.newData.marquee),e);t.setData({marquee:n})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(n,t),r=n,(f=[{key:"renderUnitConfig",value:function(){var e=this,t=this.props.data,n=this.state.newData.logo&&this.state.newData.logo.imagePreviewUrl?this.state.newData.logo.imagePreviewUrl:t.logo?"/cms-assets/"+t.logo.asset_id:"http://placehold.it/400x100?text=No+logo",r=this.state.newData.hero&&this.state.newData.hero.imagePreviewUrl?this.state.newData.hero.imagePreviewUrl:t.hero?"/cms-assets/"+t.hero.asset_id:"http://placehold.it/500x200?text=No+hero+image";return a.a.createElement(s.a.CMS.Consumer,null,(function(u){var s=!(u.permissions&&u.permissions.super),f=e.props.unit.type.indexOf("series")>=0||"campus"==e.props.unit.type&&s,m=Object.assign({},e.props.header),d=e.state.newData.bgColor||t.bgColor,h=e.state.newData.elColor||t.elColor,v=d.replace("#",""),g="black"===h?"000000":"ffffff";return m.bgColor=d,m.elColor=h,a.a.createElement("div",null,a.a.createElement("h3",null,"Unit Configuration"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(p.a,{to:"/api/unit/".concat(e.props.unit.id,"/profileContentConfig"),onSubmit:e.handleSubmit},a.a.createElement("input",{type:"hidden",name:"unitConfigSection",defaultValue:"yes"}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"unitName"},"Name: ",s?"(restricted)":""),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"unitName",type:"text",defaultValue:t.name,onChange:function(t){return e.setData({name:t.target.value})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"logoImage"},"Logo image",f?"(restricted)":""),a.a.createElement("img",{src:n,alt:"Logo"}),a.a.createElement("br",null),!f&&a.a.createElement("div",null,a.a.createElement("input",{type:"file",id:"logoImage",name:"logo",onChange:e.handleImageChange}),a.a.createElement("br",null),a.a.createElement("br",null),e.state.banner_flag_visible&&[a.a.createElement("label",{key:"0",className:"c-editable-page__label",htmlFor:"logoIsBanner"},"Suppress typeset site name next to logo: "),a.a.createElement("p",{key:"1"},"Check the box below if your logo image contains the full, legible title of your site."),a.a.createElement("input",{key:"2",type:"checkbox",id:"logoIsBanner",name:"logoIsBanner",defaultChecked:t.logo&&t.logo.is_banner})],"campus"==e.props.unit.type&&a.a.createElement("div",null,a.a.createElement("hr",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"heroImage"},"Hero image",f?"(restricted)":""),a.a.createElement("img",{src:r,alt:"Hero Image"}),a.a.createElement("input",{type:"file",id:"heroImage",name:"hero",onChange:e.handleImageChange}),a.a.createElement("br",null),a.a.createElement("br",null))),a.a.createElement("br",null),u.permissions&&u.permissions.super&&!f&&a.a.createElement("div",{className:"c-subheadercontrols"},a.a.createElement("h1",null,"Subheader Color Controls"),a.a.createElement(o.a,{textLabel:"Subheader Background Color",backgroundColor:d,onBackgroundColorChange:function(t){e.setData({bgColor:t})}}),a.a.createElement(i.a,{fieldsetLabel:"Subheader Element Color",onElementColorChange:function(t){e.setData({elColor:t})},isDefault:h}),a.a.createElement(c.a,{checkForeground:g,checkBackground:v}),a.a.createElement("h2",null,"Sample Banner"),a.a.createElement(l.a,{unit:e.props.unit,header:m})),u.permissions&&u.permissions.super&&a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"status"},"Unit status: "),a.a.createElement("select",{name:"status",defaultValue:t.status},a.a.createElement("option",{value:"active"},"Active"),a.a.createElement("option",{value:"hidden"},"Hidden"),a.a.createElement("option",{value:"archived"},"Archived")),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"directSubmit"},"Direct submit: "),a.a.createElement("select",{name:"directSubmit",defaultValue:t.directSubmit},a.a.createElement("option",{value:"enabled"},"Enabled"),a.a.createElement("option",{value:"disabled"},"Disabled"),a.a.createElement("option",{value:"moribund"},"Archived")),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"directSubmitURL"},"Direct submit URL (for external submission management): "),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"directSubmitURL",type:"text",defaultValue:t.directSubmitURL,onChange:function(t){return e.setData({directSubmitURL:t.target.value})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"directManageURLauthor"},"Direct manage URL for Authors (for external submission management): "),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"directManageURLauthor",type:"text",defaultValue:t.directManageURLauthor,onChange:function(t){return e.setData({directManageURLauthor:t.target.value})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"directManageURLeditor"},"Direct manage URL for Editors (for external submission management): "),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"directManageURLeditor",type:"text",defaultValue:t.directManageURLeditor,onChange:function(t){return e.setData({directManageURLeditor:t.target.value})}}),e.props.unit.type.indexOf("series")>=0&&a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"elementsID"},"Elements numeric group ID (for secondary association on deposit): "),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"elementsID",type:"text",defaultValue:t.elementsID,onChange:function(t){return e.setData({elementsID:t.target.value})}}))),"journal"==e.props.unit.type&&a.a.createElement("div",null,a.a.createElement("br",null),s?a.a.createElement("div",null,a.a.createElement("div",null,"DOAJ Seal (restricted):"),a.a.createElement("span",null,t.doaj?"Seal displayed":"No seal displayed")):a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"doajSeal"},"DOAJ Seal: "),a.a.createElement("input",{disabled:s,type:"checkbox",id:"doajSeal",name:"doajSeal",defaultChecked:t.doaj})),a.a.createElement("br",null),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"issn"},"ISSN: "),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"issn",type:"text",defaultValue:t.issn}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"eissn"},"E-ISSN: "),a.a.createElement("input",{disabled:s,className:"c-editable-page__input",id:"eissn",type:"text",defaultValue:t.eissn}),s?a.a.createElement("div",null,a.a.createElement("div",null,"Altmetric™ (restricted):"),a.a.createElement("span",{id:"altmetrics_ok"},t.altmetrics_ok?"Altmetric data provided in articles":"No Altmetric data provided in articles")):a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"altmetrics_ok"},"Altmetric™: "),a.a.createElement("input",{disabled:s,type:"checkbox",id:"altmetrics_ok",name:"altmetrics_ok",defaultChecked:t.altmetrics_ok})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"indexed"},"Indexed by: "),a.a.createElement(y.a,{name:"indexed",value:e.state.indexed,options:P,onChange:e.updateIndexed,isMulti:!0})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"tos"},"eScholarship TOS Version on File: "),a.a.createElement(b.a,{id:"tos",name:"tos",timeFormat:!1,value:e.state.tos,onChange:e.updatetos}),a.a.createElement("br",null)),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"disciplines"},"Relevant Discipline(s): "),a.a.createElement(y.a,{name:"disciplines",value:e.state.disciplines,options:k,onChange:e.updateDisciplines,isMulti:!0})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"pub_freq"},"Target publication frequency: "),a.a.createElement("select",{name:"pub_freq",defaultValue:t.pub_freq},a.a.createElement("option",{value:"incremental"},"Incremental"),a.a.createElement("option",{value:"fortnightly"},"Fortnightly"),a.a.createElement("option",{value:"monthly"},"Monthly"),a.a.createElement("option",{value:"quarterly"},"Quarterly"),a.a.createElement("option",{value:"yearly"},"Yearly"),a.a.createElement("option",{value:"twoyearly"},"2-years"))),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"oaspa"},"OASPA Status: "),a.a.createElement("select",{name:"oaspa",defaultValue:t.oaspa},a.a.createElement("option",{value:"notSubmitted"},"Not Submitted"),a.a.createElement("option",{value:"submitted"},"Submitted"),a.a.createElement("option",{value:"accepted"},"Accepted"),a.a.createElement("option",{value:"rejected"},"Rejected"))),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"apc"},"APC Amount: "),a.a.createElement("input",{className:"c-editable-page__input",id:"apc",type:"text",defaultValue:t.apc})),a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"contentby"},"Journal content primarily by: "),a.a.createElement(y.a,{name:"contentby",value:e.state.contentby,options:S,onChange:e.updateContentby,isMulti:!0}))),/series|journal/.test(e.props.unit.type)&&a.a.createElement("div",null,s?a.a.createElement("div",null,a.a.createElement("div",null,"Commenting enabled in hypothes.is (restricted): "),a.a.createElement("span",null,t.commenting_ok?"Yes":"No")):a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"commenting_ok"},"Commenting enabled in hypothes.is: "),a.a.createElement("input",{type:"checkbox",id:"commenting_ok",name:"commenting_ok",defaultChecked:t.commenting_ok})),a.a.createElement("br",null)),a.a.createElement("button",{type:"submit"},"Save Changes"))))))}))}},{key:"renderSocialConfig",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",null,a.a.createElement("h3",null,"Social Media Links"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("div",null,a.a.createElement(p.a,{to:"/api/unit/".concat(this.props.unit.id,"/profileContentConfig"),onSubmit:this.handleSubmit},a.a.createElement("p",null,"You may provide links to your social media page(s). These will appear as icons in your site's navigation bar."),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"facebook"},"Facebook Page Name: "),a.a.createElement("p",null,"The portion of your Facebook page's URL that appears after: http://www.facebook.com/_____"),a.a.createElement("input",{className:"c-editable-page__input",id:"facebook",name:"facebook",type:"text",defaultValue:t.facebook,onChange:function(t){return e.setData({facebook:t.target.value})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"twitter"},"Twitter Username: "),a.a.createElement("p",null,"The portion of your Twitter page's URL that appears after: http://www.twitter.com/_____"),a.a.createElement("input",{className:"c-editable-page__input",id:"twitter",name:"twitter",type:"text",defaultValue:t.twitter,onChange:function(t){return e.setData({twitter:t.target.value})}}),a.a.createElement("button",{type:"submit"},"Save Changes")))))))}},{key:"renderAboutConfig",value:function(){var e=this,t=this.state.newData,n=t.marquee.about?t.marquee.about:"";return a.a.createElement("div",null,a.a.createElement("h3",{id:"marquee"},"About Text"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(p.a,{to:"/api/unit/".concat(this.props.unit.id,"/profileContentConfig"),onSubmit:this.handleSubmit},a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"aboutText"},"About Text"),a.a.createElement("p",null,"About text will appear at the top of your site's landing page. It should be fewer than 400 characters in length."),a.a.createElement(u.a,{className:"c-editable-page__input",name:"about",id:"about",html:n,unit:this.props.unit.id,onChange:function(t){return e.setMarqueeData({about:t})},buttons:[["strong","em","underline","link","superscript","subscript"]]}),a.a.createElement("button",{type:"submit"},"Save Changes"))))))}},{key:"renderJournalConfig",value:function(){var e=this.props.data;return a.a.createElement("div",null,a.a.createElement("h3",{id:"main-content-config"},"Main Content Configuration"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(p.a,{to:"/api/unit/".concat(this.props.unit.id,"/profileContentConfig"),onSubmit:this.handleSubmit},a.a.createElement("input",{type:"hidden",name:"journalConfigSection",defaultValue:"yes"}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"magazine_layout"},"Magazine layout?"),a.a.createElement("input",{type:"checkbox",id:"magazine_layout",name:"magazine_layout",defaultChecked:e.magazine_layout}),a.a.createElement("p",null,"(leave this unchecked for simple layout)"),a.a.createElement("p",null,"Display Issue Rule:"),a.a.createElement("input",{className:"c-editable-page__radio",type:"radio",id:"issueRuleFirstMostRecent",name:"issue_rule",value:"firstMostRecent",defaultChecked:"secondMostRecent"!=e.issue_rule}),a.a.createElement("label",{className:"c-editable-page__radio-label",htmlFor:"issueRuleFirstMostRecent"},"Most recent issue"),a.a.createElement("input",{className:"c-editable-page__radio",type:"radio",id:"issueRuleSecondMostRecent",name:"issue_rule",value:"secondMostRecent",defaultChecked:"secondMostRecent"==e.issue_rule}),a.a.createElement("label",{className:"c-editable-page__radio-label",htmlFor:"issueRuleSecondMostRecent"},"Second-most recent issue"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("button",null,"Save Changes"))))))}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderUnitConfig(),this.renderSocialConfig(),this.renderAboutConfig(),"journal"==this.props.unit.type&&this.renderJournalConfig())}}])&&g(r.prototype,f),d&&g(r,d),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,f,d}(a.a.Component);t.a=N}).call(this,n(4))},242:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",{className:"c-backgroundcolorpicker"},a.a.createElement("label",{htmlFor:"subheader-bgcolorpicker"},e.textLabel,":"),a.a.createElement("input",{id:"subheader-bgcolorpicker",type:"color",value:e.backgroundColor,onChange:function(t){e.onBackgroundColorChange(t.target.value)}}))}},243:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("fieldset",{className:"c-elementcolorpicker",onChange:function(t){e.onElementColorChange(t.target.value)}},a.a.createElement("legend",null,e.fieldsetLabel),a.a.createElement("input",{id:"elementcolorpicker-black",type:"radio",name:"elementcolorpicker",value:"black",defaultChecked:"black"===e.isDefault}),a.a.createElement("label",{htmlFor:"elementcolorpicker-black"},"Black"),a.a.createElement("input",{id:"elementcolorpicker-white",type:"radio",name:"elementcolorpicker",value:"white",defaultChecked:"white"===e.isDefault}),a.a.createElement("label",{htmlFor:"elementcolorpicker-white"},"White"))}},244:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",{className:"c-checkcontrast"},a.a.createElement("a",{href:"https://webaim.org/resources/contrastchecker/?fcolor=".concat(e.checkForeground,"&bcolor=").concat(e.checkBackground),target:"_blank"},"Check that this element and background color combination passes WCAG AA accessibility for Normal Text at webaim.org."))}},246:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(9),i=n(34),c=n(45),l=n(1),u=n.n(l),s=n(3),p=n.n(s),f=n(10);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return t=v(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var O=function(t){function n(){var t;d(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return _(t=h(this,n,[].concat(a)),"state",{newData:t.props.data}),_(t,"handleSubmit",(function(n,r){n.preventDefault();var a=new FormData,o=[];for(var i in r)r[i]instanceof File&&(a.append(i,r[i]),o.push(i));if(0!==o.length){for(var c in o)delete r[o[c]];t.props.sendBinaryFileData("POST","/api/unit/"+t.props.unit.id+"/upload",a)}e.isEmptyObject(r)||t.props.sendApiData("PUT",n.target.action,{data:r})})),_(t,"handleImageChange",(function(e){e.preventDefault();var n=new FileReader,r=e.target.files[0],a={},o=e.target.name;n.onloadend=function(){a[o]={imagePreviewUrl:n.result},t.setData(a)},n.readAsDataURL(r)})),_(t,"removeImage",(function(e){e.preventDefault();var n={};n[e.target.dataset.input]={imagePreviewUrl:"http://placehold.it/400x100?text=No+logo"},t.setData(n);var r=new FormData;r.append(e.target.dataset.input,""),t.props.sendBinaryFileData("POST","/api/unit/"+t.props.unit.id+"/upload",r)})),_(t,"setData",(function(e){t.setState({newData:Object.assign(p.a.cloneDeep(t.state.newData),e)})})),_(t,"setSlideData",(function(e,n){var r=t.state.newData.marquee.slides;r[n]=Object.assign(p.a.cloneDeep(r[n]),e),t.setMarqueeData({slides:r})})),_(t,"removeImagePreview",(function(e){var n=p.a.cloneDeep(t.state.newData.marquee.slides);delete n[e].imagePreviewUrl,document.getElementById("slideImage").value="",t.setMarqueeData({slides:n})})),_(t,"handleSlideImageChange",(function(e,n){e.preventDefault();var r=new FileReader,a=e.target.files[0];r.onloadend=function(){t.setSlideData({imagePreviewUrl:r.result},n)},r.readAsDataURL(a)})),_(t,"setMarqueeData",(function(e){var n=Object.assign(p.a.cloneDeep(t.state.newData.marquee),e);t.setData({marquee:n})})),_(t,"addSlide",(function(){var e=p.a.cloneDeep(t.state.newData.marquee.slides)||[];e.push({header:"Sample header",text:"<p>sample text</p>",image:"https://static.pexels.com/photos/40797/wild-flowers-flowers-plant-macro-40797.jpeg"}),t.setMarqueeData({slides:e})})),_(t,"addSlideHandler",(function(e){e.preventDefault(),t.addSlide()})),_(t,"removeSlide",(function(e){t.props.sendApiData("DELETE","/api/unit/"+t.props.unit.id+"/removeCarouselSlide/"+e)})),t}return g(n,t),y(n,[{key:"componentWillMount",value:function(){!this.props.data.marquee.slides&&this.addSlide()}},{key:"renderSlideConfig",value:function(e){var t=this;return e.map((function(n,r){return a.a.createElement("div",{style:{padding:"10px",border:"1px solid black"},key:r},a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"header"+r},"Header:"),a.a.createElement("input",{className:"c-editable-page__input",id:"header"+r,name:"header"+r,type:"text",defaultValue:n.header,onChange:function(e){return t.setSlideData({header:e.target.value},r)}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"text"+r},"Text:"),a.a.createElement(i.a,{className:"c-editable-page__input",name:"text"+r,id:"text"+r,html:n.text,unit:t.props.unit.id,onChange:function(e){return t.setSlideData({text:e},r)},buttons:[["strong","em","underline","link"]]}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"slideImage-"+r},"Image: "),a.a.createElement("div",{style:{marginBottom:"20px",color:"#555",width:"100%"}},a.a.createElement("input",{type:"file",id:"slideImage"+r,name:"slideImage"+r,onChange:function(e){return t.handleSlideImageChange(e,r)}})),a.a.createElement("button",{disabled:1==e.length,onClick:function(){return t.removeSlide(r)}},"Remove Slide"))}))}},{key:"render",value:function(){var e=this,t=this.state.newData;return a.a.createElement("div",null,a.a.createElement("h3",{id:"marquee"},"Landing Page Carousel"),a.a.createElement(c.a,{marquee:t.marquee,forceOn:!0}),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(o.a,{to:"/api/unit/".concat(this.props.unit.id,"/carouselConfig"),onSubmit:this.handleSubmit},a.a.createElement("div",{className:"can-toggle can-toggle--size-small"},a.a.createElement("input",{id:"displayCarousel",name:"carouselFlag",type:"checkbox",defaultChecked:t.marquee.carousel,onChange:function(t){return e.setMarqueeData({carousel:t.target.checked})}}),a.a.createElement("label",{htmlFor:"displayCarousel"},a.a.createElement("div",{className:"can-toggle__label-text"},"Publish Carousel"),a.a.createElement("div",{className:"can-toggle__switch","data-checked":"Enabled","data-unchecked":"Disabled"})),a.a.createElement("div",{className:"c-editable-floatright"},a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000124100-using-the-site-editing-tool"},a.a.createElement("img",{className:"c-editable-help__icon",src:f.a+"icon_help.svg",alt:"Get help on landing page carousel"}))),a.a.createElement("br",null)),a.a.createElement("div",null,t.marquee.slides&&this.renderSlideConfig(t.marquee.slides),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(t){return e.addSlideHandler(t)}},"Add slide"),a.a.createElement("div",{className:"c-editable-floatright"},a.a.createElement("button",{type:"submit"},"Save Changes"))),a.a.createElement("br",null),a.a.createElement("br",null))))))}}])}(a.a.Component),j=function(e){function t(){return d(this,t),h(this,t,arguments)}return g(t,e),y(t,[{key:"renderUnitsDropdown",value:function(){return a.a.createElement("select",{name:"unit_id"+this.props.index,defaultValue:this.props.contentCarousel.unit_id},this.props.campusUnits.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))}},{key:"render",value:function(){var e=this.props,t="disabled"+e.index,n="journals"+e.index,r="featuredUnit"+e.index;return a.a.createElement("div",null,a.a.createElement("input",{className:"c-editable-page__radio-vertical",type:"radio",id:t,name:"mode"+e.index,value:"disabled",defaultChecked:"disabled"==e.contentCarousel.mode}),a.a.createElement("label",{className:"c-editable-page__radio-label",htmlFor:t},"Disabled"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("input",{className:"c-editable-page__radio-vertical",type:"radio",id:n,name:"mode"+e.index,value:"journals",defaultChecked:"journals"==e.contentCarousel.mode}),a.a.createElement("label",{className:"c-editable-page__radio-label",htmlFor:n},"Campus Journal Covers"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("input",{className:"c-editable-page__radio-vertical",type:"radio",id:r,name:"mode"+e.index,value:"unit",defaultChecked:"unit"==e.contentCarousel.mode}),a.a.createElement("label",{className:"c-editable-page__radio-label",htmlFor:r},"Featured Unit"),this.renderUnitsDropdown())}}])}(a.a.Component),S=function(e){function t(){var e;d(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return _(e=h(this,t,[].concat(r)),"handleSubmit",(function(t,n){t.preventDefault(),e.props.sendApiData("PUT",t.target.action,{data:n})})),e}return g(t,e),y(t,[{key:"render",value:function(){var e=this.props.data;return a.a.createElement("div",null,a.a.createElement("h3",{className:"c-editable-h3"},"Content Carousel(s)"),a.a.createElement("div",{className:"c-editable-floatright"},a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000124100-using-the-site-editing-tool"},a.a.createElement("img",{className:"c-editable-help__icon",src:f.a+"icon_help.svg",alt:"Get help on content carousels"}))),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(o.a,{to:"/api/unit/".concat(this.props.unit.id,"/campusCarouselConfig"),onSubmit:this.handleSubmit},a.a.createElement("p",null,"Content carousels may be used to feature content collections on your campus landing pages."),a.a.createElement("div",{className:"c-editable-page__label"},"Content Carousel 1"),a.a.createElement(j,{unit:this.props.unit,contentCarousel:e.contentCar1,index:1,campusUnits:e.campusUnits}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{className:"c-editable-page__label"},"Content Carousel 2"),a.a.createElement(j,{unit:this.props.unit,contentCarousel:e.contentCar2,index:2,campusUnits:e.campusUnits}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("button",{type:"submit"},"Save Changes"))))))}}])}(a.a.Component),P=function(e){function t(){return d(this,t),h(this,t,arguments)}return g(t,e),y(t,[{key:"render",value:function(){var e=this.props.data;return a.a.createElement("div",null,"campus"!=this.props.unit.type&&a.a.createElement(O,this.props),"campus"==this.props.unit.type&&(e.contentCar1||e.contentCar2)&&a.a.createElement(S,{data:e,unit:this.props.unit,sendApiData:this.props.sendApiData}))}}])}(a.a.Component);_(P,"propTypes",{data:u.a.shape({contentCar1:u.a.shape({mode:u.a.string,unit_id:u.a.string}),contentCar2:u.a.shape({mode:u.a.string,unit_id:u.a.string}),campusUnits:u.a.arrayOf(u.a.shape({id:u.a.string,name:u.a.string})),marquee:u.a.shape({about:u.a.string,carousel:u.a.bool})}),unit:u.a.shape({id:u.a.string.isRequired,name:u.a.string.isRequired,type:u.a.string}).isRequired,sendApiData:u.a.any,sendBinaryFileData:u.a.any}),t.a=P}).call(this,n(4))},248:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(3),i=n.n(o),c=n(249),l=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var h=function(t){function n(){var t;s(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return b(t=f(this,n,[].concat(a)),"state",{isOpen:!0}),b(t,"clearAll",(function(t){e("[name=start]").val("0");e(":checked").prop("checked",!1);e(":text").val("")})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,t),r=n,(o=[{key:"componentWillReceiveProps",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this,t='Your search: "'+this.props.query.q+'"',n=null;if(!i.a.isEmpty(this.props.query.filters)){n=[];for(var r=0,o=["type_of_work","peer_reviewed","supp_file_types","pub_year","campuses","departments","journals","disciplines","rights"];r<o.length;r++){var c=o[r];if(this.props.query.filters[c]&&this.props.query.filters[c].filters.length>0){var u=this.props.query.filters[c].filters.map((function(e){return"displayName"in e?e.displayName:e.value}));n.push({filterDisplay:this.props.query.filters[c].display,filters:u.join(", "),filterType:c})}}}var s=this.props.count+this.props.info_count;return a.a.createElement("div",{className:n?"c-filter--active":"c-filter"},a.a.createElement("h1",{className:"c-filter__heading",dangerouslySetInnerHTML:{__html:t}}),a.a.createElement("input",{type:"hidden",name:"q",value:"All items"==this.props.query.q?"":l()(this.props.query.q)}),a.a.createElement("div",{className:"c-filter__results"},s," results"),a.a.createElement("div",{className:"c-filter__inactive-note"},"No filters applied"),a.a.createElement("details",{className:"c-filter__active",open:this.state.isOpen},a.a.createElement("summary",null,a.a.createElement("span",null,a.a.createElement("strong",null,n&&n.length)," filter",n&&1==n.length?"":"s"," applied")),a.a.createElement("button",{className:"c-filter__clear-all",onClick:this.clearAll},"clear all"),a.a.createElement("ul",{className:"c-filter__active-list"},n&&n.map((function(t){return a.a.createElement("li",{key:t.filterType},a.a.createElement("button",{onClick:e.props.handler,"data-filter-type":t.filterType},t.filterDisplay," (",t.filters,")"))})))),a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000148939-using-advanced-search-beta-",className:"c-filter__tips"},"Search tips"))}}])&&p(r.prototype,o),c&&p(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,c}(a.a.Component);t.a=h}).call(this,n(4))},250:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(0),a=n.n(r),o=n(13),i=n(31),c=n(14),l=n(35),u=n(24),s=n(46),p=n(37),f=n(58),m=n(12);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){return t=g(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],g(e).constructor):t.apply(e,n))}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}var j=function(e){function t(){var e;h(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w(e=v(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(i.a,{error:"Not Found"}))))})),e}return E(t,e),y(t)}(a.a.Component),S=function(t){function n(){var e;h(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return w(e=v(this,n,[].concat(r)),"state",{modalOpen:!1}),w(e,"closeWizardModal",(function(t){e.setState({modalOpen:!1})})),e}return E(n,t),y(n,[{key:"pagePermissionsUnit",value:function(){return"root"}},{key:"renderData",value:function(t){var n=this,r=a.a.createElement(p.a,{data:t.sidebar});return a.a.createElement("div",null,a.a.createElement(c.a,null),a.a.createElement(l.a,{navBar:t.header.nav_bar,unit:t.unit,socialProps:t.header.social}),a.a.createElement(m.a,{title:t.pageNotFound?"Not Found":t.content&&t.content.title?t.content.title:"eScholarship"},a.a.createElement("link",{rel:"canonical",href:"https://escholarship.org"+this.props.location.pathname})),t.pageNotFound?a.a.createElement(j,null):a.a.createElement("div",{id:"wizardModalBase"},a.a.createElement(u.a,{array:t.header.breadcrumb}),a.a.createElement("button",{style:{display:"none"},id:"wizardlyDeposit",onClick:function(e){n.setState({modalOpen:!0}),e.preventDefault()}},"Deposit"),a.a.createElement(s.a,{showModal:this.state.modalOpen,parentSelector:function(){return e("#wizardModalBase")[0]},onCancel:function(e){return n.closeWizardModal(e)},campuses:t.header.campuses,data:{campusID:null,campusName:null,unitID:null,unitName:null}}),a.a.createElement(f.a,{unit:t.unit,data:t.content,sidebar:r,fetchPageData:this.fetchPageData})))}}])}(o.a)}).call(this,n(4))},303:function(e,t,n){var r={"./af":80,"./af.js":80,"./ar":81,"./ar-dz":82,"./ar-dz.js":82,"./ar-kw":83,"./ar-kw.js":83,"./ar-ly":84,"./ar-ly.js":84,"./ar-ma":85,"./ar-ma.js":85,"./ar-ps":86,"./ar-ps.js":86,"./ar-sa":87,"./ar-sa.js":87,"./ar-tn":88,"./ar-tn.js":88,"./ar.js":81,"./az":89,"./az.js":89,"./be":90,"./be.js":90,"./bg":91,"./bg.js":91,"./bm":92,"./bm.js":92,"./bn":93,"./bn-bd":94,"./bn-bd.js":94,"./bn.js":93,"./bo":95,"./bo.js":95,"./br":96,"./br.js":96,"./bs":97,"./bs.js":97,"./ca":98,"./ca.js":98,"./cs":99,"./cs.js":99,"./cv":100,"./cv.js":100,"./cy":101,"./cy.js":101,"./da":102,"./da.js":102,"./de":103,"./de-at":104,"./de-at.js":104,"./de-ch":105,"./de-ch.js":105,"./de.js":103,"./dv":106,"./dv.js":106,"./el":107,"./el.js":107,"./en-au":108,"./en-au.js":108,"./en-ca":109,"./en-ca.js":109,"./en-gb":110,"./en-gb.js":110,"./en-ie":111,"./en-ie.js":111,"./en-il":112,"./en-il.js":112,"./en-in":113,"./en-in.js":113,"./en-nz":114,"./en-nz.js":114,"./en-sg":115,"./en-sg.js":115,"./eo":116,"./eo.js":116,"./es":117,"./es-do":118,"./es-do.js":118,"./es-mx":119,"./es-mx.js":119,"./es-us":120,"./es-us.js":120,"./es.js":117,"./et":121,"./et.js":121,"./eu":122,"./eu.js":122,"./fa":123,"./fa.js":123,"./fi":124,"./fi.js":124,"./fil":125,"./fil.js":125,"./fo":126,"./fo.js":126,"./fr":127,"./fr-ca":128,"./fr-ca.js":128,"./fr-ch":129,"./fr-ch.js":129,"./fr.js":127,"./fy":130,"./fy.js":130,"./ga":131,"./ga.js":131,"./gd":132,"./gd.js":132,"./gl":133,"./gl.js":133,"./gom-deva":134,"./gom-deva.js":134,"./gom-latn":135,"./gom-latn.js":135,"./gu":136,"./gu.js":136,"./he":137,"./he.js":137,"./hi":138,"./hi.js":138,"./hr":139,"./hr.js":139,"./hu":140,"./hu.js":140,"./hy-am":141,"./hy-am.js":141,"./id":142,"./id.js":142,"./is":143,"./is.js":143,"./it":144,"./it-ch":145,"./it-ch.js":145,"./it.js":144,"./ja":146,"./ja.js":146,"./jv":147,"./jv.js":147,"./ka":148,"./ka.js":148,"./kk":149,"./kk.js":149,"./km":150,"./km.js":150,"./kn":151,"./kn.js":151,"./ko":152,"./ko.js":152,"./ku":153,"./ku-kmr":154,"./ku-kmr.js":154,"./ku.js":153,"./ky":155,"./ky.js":155,"./lb":156,"./lb.js":156,"./lo":157,"./lo.js":157,"./lt":158,"./lt.js":158,"./lv":159,"./lv.js":159,"./me":160,"./me.js":160,"./mi":161,"./mi.js":161,"./mk":162,"./mk.js":162,"./ml":163,"./ml.js":163,"./mn":164,"./mn.js":164,"./mr":165,"./mr.js":165,"./ms":166,"./ms-my":167,"./ms-my.js":167,"./ms.js":166,"./mt":168,"./mt.js":168,"./my":169,"./my.js":169,"./nb":170,"./nb.js":170,"./ne":171,"./ne.js":171,"./nl":172,"./nl-be":173,"./nl-be.js":173,"./nl.js":172,"./nn":174,"./nn.js":174,"./oc-lnc":175,"./oc-lnc.js":175,"./pa-in":176,"./pa-in.js":176,"./pl":177,"./pl.js":177,"./pt":178,"./pt-br":179,"./pt-br.js":179,"./pt.js":178,"./ro":180,"./ro.js":180,"./ru":181,"./ru.js":181,"./sd":182,"./sd.js":182,"./se":183,"./se.js":183,"./si":184,"./si.js":184,"./sk":185,"./sk.js":185,"./sl":186,"./sl.js":186,"./sq":187,"./sq.js":187,"./sr":188,"./sr-cyrl":189,"./sr-cyrl.js":189,"./sr.js":188,"./ss":190,"./ss.js":190,"./sv":191,"./sv.js":191,"./sw":192,"./sw.js":192,"./ta":193,"./ta.js":193,"./te":194,"./te.js":194,"./tet":195,"./tet.js":195,"./tg":196,"./tg.js":196,"./th":197,"./th.js":197,"./tk":198,"./tk.js":198,"./tl-ph":199,"./tl-ph.js":199,"./tlh":200,"./tlh.js":200,"./tr":201,"./tr.js":201,"./tzl":202,"./tzl.js":202,"./tzm":203,"./tzm-latn":204,"./tzm-latn.js":204,"./tzm.js":203,"./ug-cn":205,"./ug-cn.js":205,"./uk":206,"./uk.js":206,"./ur":207,"./ur.js":207,"./uz":208,"./uz-latn":209,"./uz-latn.js":209,"./uz.js":208,"./vi":210,"./vi.js":210,"./x-pseudo":211,"./x-pseudo.js":211,"./yo":212,"./yo.js":212,"./zh-cn":213,"./zh-cn.js":213,"./zh-hk":214,"./zh-hk.js":214,"./zh-mo":215,"./zh-mo.js":215,"./zh-tw":216,"./zh-tw.js":216};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=303},31:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(9),i=n(16),c=n(1),l=n.n(c),u=n(10);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var y,h,v,g=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=f(this,t,[e]);var r=window.location.pathname.split("/"),a=r[r.length-1]||"Error",o=!r.includes("uc")&&!r.includes("item");return n.state={errorTerm:a,suggestAlternative:o},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-servererror"},a.a.createElement("h1",{className:"c-servererror__message"},"Not Found"==this.props.error?"I couldn't find what you were looking for.":this.props.error?this.props.error:"Error."),a.a.createElement("img",{className:"c-servererror__image",src:u.a+"squirrel.jpg",alt:"squirrel"}),a.a.createElement("p",null,"You can try searching for it:"),a.a.createElement(o.a,{to:"/search",method:"GET",className:"c-servererror__search"},a.a.createElement("label",{htmlFor:"c-servererror__input",className:"c-servererror__label"},"Search for it!"),a.a.createElement("input",{type:"search",className:"c-servererror__input",name:"q",id:"c-servererror__input",defaultValue:this.state.errorTerm}),a.a.createElement("button",{className:"c-servererror__button","aria-label":"Search"})),this.state.suggestAlternative&&/\d/.test(this.state.errorTerm)&&a.a.createElement("p",null,"Or you might want to try:  ",a.a.createElement("a",{href:"https://escholarship.org/uc/item/".concat(this.state.errorTerm)},"https://escholarship.org/uc/item/",this.state.errorTerm)),a.a.createElement("small",null,"If you think this is a problem with eScholarship, please visit our ",a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000171663"},"Help Center"),"."),a.a.createElement("small",null,"Or return to the ",a.a.createElement(i.a,{to:"/"},"homepage"),"."),a.a.createElement("div",{style:{display:"none"},id:"serverError"},this.props.error)," ")}}])&&p(n.prototype,r),c&&p(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,c}(a.a.Component);y=g,h="propTypes",v={error:l.a.string.isRequired},(h=b(h))in y?Object.defineProperty(y,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[h]=v,t.a=g},32:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(21);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function p(e,t,n){return t=f(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var y=function(e){function t(){var e;u(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(e=p(this,t,[].concat(r)),"handleClick",(function(t,n){t.preventDefault(),e.props.changeTab(n)})),d(e,"asList",(function(e,t){return t.map((function(n,r){var o=0==r?"c-authorlist__begin":r+1==t.length?"c-authorlist__end":null;return 0==r&&t.length-1>0&&"Author"!=e?a.a.createElement("li",{key:r+n.name,className:o},a.a.createElement("span",{className:"c-authorlist__heading"},e,"(s):")," ",a.a.createElement("a",{href:"/search/?q="+encodeURIComponent("author:"+n.name)},n.name),"; "):0==r&&t.length-1==0&&"Author"!=e?a.a.createElement("li",{key:r+n.name,className:o},a.a.createElement("span",{className:"c-authorlist__heading"},e,"(s):")," ",a.a.createElement("a",{href:"/search/?q="+encodeURIComponent("author:"+n.name)},n.name)," "):r<t.length-1?a.a.createElement("li",{key:r+n.name,className:o},a.a.createElement("a",{href:"/search/?q="+encodeURIComponent("author:"+n.name)},n.name),"; "):a.a.createElement("li",{key:r+n.name,className:o},a.a.createElement("a",{href:"/search/?q="+encodeURIComponent("author:"+n.name)},n.name)," ")}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.pubdate?t.pubdate.match(/\d{4}/):null,r=t.source,o=t.authors&&!t.author_hide?this.asList("Author",t.authors):null,l=t.editors?this.asList("Editor",t.editors):null,u=t.advisors?this.asList("Advisor",t.advisors):null,s=(o?o.length:0)+(l?l.length:0)+(u?u.length:0),p=!!t.pubdate,f=!!t.changeTab,m=t.id?"/uc/item/"+t.id.replace(/^qt/,""):null;return a.a.createElement("div",{className:"c-authorlist"},n&&a.a.createElement("time",{className:"c-authorlist__year"},n[0]),(o&&o.length>0||l&&l.length>0||u&&u.length>0)&&p&&f&&a.a.createElement(c.a,{element:"ul",className:"c-authorlist__list",options:{watch:"window",after:".c-authorlist__list-more-link",ellipsis:" ",wrap:"children",callback:function(){return i()(".c-authorlist__list-more-link").click((function(t){return e.handleClick(t,"author")}))}}},o,l,u,s>6&&a.a.createElement("li",null,a.a.createElement("a",{href:m,className:"c-authorlist__list-more-link"},"et al."))),(o&&o.length>0||l&&l.length>0||u&&u.length>0)&&!f&&a.a.createElement(c.a,{element:"ul",className:"c-authorlist__list"},o,l,u),n&&"ojs"==r&&a.a.createElement("div",{className:"c-authorlist__copyright"},"© ",n[0]," by the author(s). ",a.a.createElement("a",{href:"https://escholarship.org/terms"},"Learn more"),"."))}}])&&s(n.prototype,r),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);t.a=y},33:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function f(e,t,n){return t=m(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var h=function(t){function n(){var t;s(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b(t=f(this,n,[].concat(o)),"next",(function(n,r,a,o){if(n.preventDefault(),parseInt(a)+parseInt(r)<=t.clampedCount()){var i=parseInt(a)+parseInt(r);e("[form="+t.props.formName+"][name="+o+"]").val(i),e("#"+t.props.formButton).click()}})),b(t,"previous",(function(n,r,a,o){if(n.preventDefault(),parseInt(a)>=parseInt(r)){var i=parseInt(a)-parseInt(r);e("[form="+t.props.formName+"][name="+o+"]").val(i),e("#"+t.props.formButton).click()}})),b(t,"first",(function(n,r,a){n.preventDefault(),parseInt(r)>0&&(e("[form="+t.props.formName+"][name="+a+"]").val(0),e("#"+t.props.formButton).click())})),b(t,"last",(function(n,r,a,o){n.preventDefault();var i=Math.floor(t.clampedCount()/r)*r;(i=t.clampedCount()%r>0?i:i-r)!=a&&(e("[form="+t.props.formName+"][name="+o+"]").val(i),e("#"+t.props.formButton).click())})),b(t,"page",(function(n,r,a,o){n.preventDefault();var i=(n.target.text-1)*r;i!=a&&(e("[form="+t.props.formName+"][name="+o+"]").val(i),e("#"+t.props.formButton).click())})),b(t,"prevNextButton",(function(e,n,r,o){return"Previous"==e?a.a.createElement("li",{className:"c-pagination__prev"},a.a.createElement("a",{href:"","aria-label":"go to "+e+" result set",onClick:function(e){return t.previous(e,n,r,o)}},e)):a.a.createElement("li",{className:"c-pagination__next"},a.a.createElement("a",{href:"","aria-label":"go to "+e+" result set",onClick:function(e){return t.next(e,n,r,o)}},e))})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,t),function(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"clampedCount",value:function(){return Math.min(this.props.count,9999)}},{key:"getPaging",value:function(e,t,n){for(var r=[],a=t;a<=n;a++)r.push({num:a,className:a==e?"c-pagination__item--current":"c-pagination__item",label:a==e?"you are on result set "+a:"go to result set "+a});return r}},{key:"renderPagination",value:function(e,t,n,r,o){var i=this;if(n<=5){var c=this.getPaging(t,1,n);return a.a.createElement("ul",null,c.map((function(t){return a.a.createElement("li",{key:t.num},a.a.createElement("a",{href:"","aria-label":t.label,className:t.className,onClick:function(t){return i.page(t,e,r,o)}},t.num))})))}if(t<=4){var l=this.getPaging(t,1,4);return a.a.createElement("ul",null,l.map((function(t){return a.a.createElement("li",{key:t.num},a.a.createElement("a",{href:"","aria-label":t.label,className:t.className,onClick:function(t){return i.page(t,e,r,o)}},t.num))})),n>5&&a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"go to result set "+n,className:"c-pagination__item",onClick:function(t){return i.last(t,e,r,o)}},n)),this.prevNextButton("Next",e,r,o))}if(t>n-4){var u=this.getPaging(t,n-3,n);return a.a.createElement("ul",null,this.prevNextButton("Previous",e,r,o),n>5&&a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"go to result set 1",className:"c-pagination__item",onClick:function(e){return i.first(e,r,o)}},"1")),u.map((function(t){return a.a.createElement("li",{key:t.num},a.a.createElement("a",{href:"","aria-label":t.label,className:t.className,onClick:function(t){return i.page(t,e,r,o)}},t.num))})))}return a.a.createElement("ul",null,this.prevNextButton("Previous",e,r,o),a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"go to result set 1",className:"c-pagination__item",onClick:function(e){return i.first(e,r,o)}},"1")),a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"go to result set "+(t-1),className:"c-pagination__item",onClick:function(t){return i.previous(t,e,r,o)}},t-1)),a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"you are on result set "+t,className:"c-pagination__item c-pagination__item--current",onClick:function(t){return i.page(t,e,r,o)}},t)),a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"go to result set "+(t+1),className:"c-pagination__item",onClick:function(t){return i.next(t,e,r,o)}},t+1)),a.a.createElement("li",null,a.a.createElement("a",{href:"","aria-label":"go to result set "+n,className:"c-pagination__item",onClick:function(t){return i.last(t,e,r,o)}},n)),this.prevNextButton("Next",e,r,o))}},{key:"render",value:function(){var e=this.props,t=l(e.is_info?[12,e.query.info_start,"info_start"]:[e.query.rows,e.query.start,"start"],3),n=t[0],r=t[1],o=t[2],i=Math.ceil(r/n)+1,c=Math.ceil(this.clampedCount()/n),u=c<=5?"c-pagination":i<=4?"c-pagination--next":i>c-4?"c-pagination--prev":"c-pagination--prev--next";return a.a.createElement("nav",{className:u},this.props.is_info&&a.a.createElement("input",{type:"hidden",name:"info_start",form:this.props.formName,value:this.props.query.info_start}),this.renderPagination(n,i,c,r,o))}}])}(a.a.Component);b(h,"propTypes",{query:i.a.shape({q:i.a.string,rows:i.a.string,sort:i.a.string,info_start:i.a.string,start:i.a.string}).isRequired,is_info:i.a.bool}),t.a=h}).call(this,n(4))},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(8);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function p(e,t,n){return t=f(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var b,y,h,v=[["strong","em","underline"],["formatting"],["fancyCreateLink","unlink"],["image-upload","file-upload"],["unorderedList","orderedList"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["horizontalRule"],["table"],["superscript","subscript","strikethrough"],["fancyRemoveFormat"]],g=function(e){function t(){return u(this,t),p(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(r=[{key:"componentWillMount",value:function(){this.id=this.props.id?this.props.id:"trumbo-"+(new Date).getTime(),this.initialHTML=this.props.html,this.props.onChange(this.props.html)}},{key:"render",value:function(){var e=this,t=this.props.buttons?this.props.buttons:v;return a.a.createElement(c.a.CMS.Consumer,null,(function(n){return n.modules&&a.a.createElement(n.modules.Trumbowyg,{id:e.id,buttons:t,data:e.initialHTML,shouldInjectSvgIcons:!1,svgIconsPath:"/node_modules/trumbowyg/dist/ui/icons.svg",onChange:function(t){return e.props.onChange(t.target.innerHTML)},disabled:e.props.disabled,tabToIndent:!0,plugins:{uploadImage:{serverPath:"/api/unit/".concat(e.props.unit,"/uploadEditorImg?username=").concat(n.username,"&token=").concat(n.token,"&context=").concat(e.props.imageContext),fileFieldName:"image",urlPropertyName:"link"},uploadFile:{serverPath:"/api/unit/".concat(e.props.unit,"/uploadEditorFile?username=").concat(n.username,"&token=").concat(n.token),fileFieldName:"file",urlPropertyName:"link"}}})}))}}])&&s(n.prototype,r),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);b=g,y="propTypes",h={html:i.a.string.isRequired,unit:i.a.string.isRequired,imageContext:i.a.string,buttons:i.a.array},(y=d(y))in b?Object.defineProperty(b,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[y]=h},35:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function p(e,t,n){return t=f(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return l(this,t),p(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-language"},a.a.createElement("a",{href:"",className:"o-textlink__primary"},a.a.createElement("abbr",{className:"c-language__small-label",title:"Español"},"ES"),a.a.createElement("span",{className:"c-language__large-label"},"Español")),a.a.createElement("a",{href:"",className:"o-textlink__primary"},a.a.createElement("abbr",{className:"c-language__small-label",title:"Português"},"PT"),a.a.createElement("span",{className:"c-language__large-label"},"Português")))}}])&&u(n.prototype,r),o&&u(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component),b=n(15),y=n(10);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}function _(e,t,n){return t=w(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],w(e).constructor):t.apply(e,n))}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(){return v(this,t),_(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-socialicons"},this.props.facebook&&a.a.createElement("a",{href:"http://www.facebook.com/"+this.props.facebook},a.a.createElement("img",{src:y.a+"logo_facebook-circle-black.svg",alt:"Facebook"})),this.props.rss&&a.a.createElement("a",{href:this.props.rss},a.a.createElement("img",{src:y.a+"logo_rss-circle-black.svg",alt:"RSS"})))}}])&&g(n.prototype,r),o&&g(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function N(e,t,n){return t=C(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var R,x,A,B=function(e){function t(){return P(this,t),N(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-navbar"},this.props.navBar&&a.a.createElement(b.a,{data:this.props.navBar,unitId:this.props.unit.id}),this.props.socialProps&&a.a.createElement(j,{facebook:this.props.socialProps.facebook,twitter:this.props.socialProps.twitter,rss:this.props.socialProps.rss}),this.props.languages&&a.a.createElement(d,null))}}])&&k(n.prototype,r),o&&k(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);R=B,x="propTypes",A={navBar:i.a.arrayOf(i.a.shape({name:i.a.string.isRequired,slug:i.a.string,url:i.a.string,file:i.a.file,sub_nav:i.a.array})),socialProps:i.a.shape({facebook:i.a.string,twitter:i.a.string,rss:i.a.string}),unit:i.a.shape({id:i.a.string.isRequired,name:i.a.string.isRequired,type:i.a.string.isRequired,extent:i.a.object}).isRequired},(x=T(x))in R?Object.defineProperty(R,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):R[x]=A;t.a=B},36:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=(n(38),n(16)),l=n(4),u=n.n(l),s=n(41);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function b(e,t,n){return t=y(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}a.a.Component;var v=n(46),g=n(19),E=n.n(g);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function P(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}function N(e,t,n){return t=C(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return j(this,t),N(this,t,arguments)}return D(t,e),P(t,[{key:"render",value:function(){return a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},this.props.header),a.a.createElement("span",null," "),a.a.createElement("button",{onClick:this.props.closeModal},a.a.createElement("span",null,"Close")))}}])}(a.a.Component),x=function(e){function t(){return j(this,t),N(this,t,arguments)}return D(t,e),P(t,[{key:"render",value:function(){var e="https://submit.escholarship.org",t="campus"==this.props.type?e:e+"/subi/directAdmin?target="+this.props.unit_id,n=this.props.directSubmitURL_manage,r=this.props.directManageURLauthor?this.props.directManageURLauthor:n,o=this.props.directManageURLeditor?this.props.directManageURLeditor:t,i=this.props.directSubmitURL_manage?"Editor Login":"Log in to manage your submissions";return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement(R,{header:this.props.header,closeModal:this.props.closeModal}),a.a.createElement("div",{className:"c-wizard__heading"}),a.a.createElement("div",{className:"c-wizard__message"},this.props.directSubmitURL_manage&&[a.a.createElement("br",{key:"0"}),a.a.createElement("div",{key:"1",className:"c-wizard__centered"},a.a.createElement("a",{className:"c-wizard__external-link",href:r},"Author Login"))],a.a.createElement("br",null),a.a.createElement("div",{className:"c-wizard__centered"}," ",a.a.createElement("a",{className:"c-wizard__external-link",href:o},i)),a.a.createElement("br",null)),a.a.createElement("footer",null))}}])}(a.a.Component),A=function(e){function t(){return j(this,t),N(this,t,arguments)}return D(t,e),P(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement(R,{header:this.props.header,closeModal:this.props.closeModal}),a.a.createElement("div",{className:"c-wizard__heading"},"UC Publication Management"),a.a.createElement("div",{className:"c-wizard__message"},a.a.createElement("p",null,"Faculty use the UC Publication Management system for all eScholarship deposits– including to claim and deposit publications in compliance with the ",a.a.createElement("a",{href:"http://osc.universityofcalifornia.edu/open-access-policy"},"UC Academic Senate faculty Open Access Policy"),"."),a.a.createElement("a",{className:"c-wizard__external-link",href:"https://oapolicy.universityofcalifornia.edu"},"Go to UC Publication Management")),a.a.createElement("footer",null,"Alternately, you may choose to wait for the system to automatically detect your new publication and send you a deposit link via email."))}}])}(a.a.Component),B=function(e){function t(){return j(this,t),N(this,t,arguments)}return D(t,e),P(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement(R,{header:this.props.header,closeModal:this.props.closeModal}),a.a.createElement("div",{className:"c-wizard__heading"},"We’re sorry..."),a.a.createElement("div",{className:"c-wizard__message"},a.a.createElement("p",null,"This ",this.props.type," is ",a.a.createElement("b",null,"not currently accepting")," new submissions.")),a.a.createElement("footer",null))}}])}(a.a.Component),q=function(e){function t(){return j(this,t),N(this,t,arguments)}return D(t,e),P(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement(R,{header:this.props.header,closeModal:this.props.closeModal}),a.a.createElement("div",{className:"c-wizard__heading"},"We’re sorry..."),a.a.createElement("div",{className:"c-wizard__message"},a.a.createElement("p",null,"This ",this.props.type," is no longer active and is ",a.a.createElement("b",null,"not accepting")," new submissions")),a.a.createElement("footer",null,"If you are affiliated with this ",this.props.type," and interested in re-activating it, ",a.a.createElement("a",{href:"https://help.escholarship.org/support/tickets/new"},"contact eScholarship support"),"."))}}])}(a.a.Component),M=function(e){function t(){return j(this,t),N(this,t,arguments)}return D(t,e),P(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement(R,{header:this.props.header,closeModal:this.props.closeModal}),a.a.createElement("div",{className:"c-wizard__heading"}),a.a.createElement("div",{className:"c-wizard__message"},a.a.createElement("p",null,"Please review the ",this.props.type,"'s Policies and Submission Guidelines pages before continuing."),a.a.createElement("a",{className:"c-wizard__external-link",href:this.props.directSubmitURL},"Submit your material")),a.a.createElement("footer",null))}}])}(a.a.Component),I=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return O(e=N(this,t,[].concat(r)),"state",{showModal:e.props.showModal}),O(e,"openModal",(function(){e.setState({showModal:!0})})),O(e,"closeModal",(function(){e.setState({showModal:!1}),e.props.onCancel()})),e}return D(t,e),P(t,[{key:"componentWillReceiveProps",value:function(e){_.isEqual(this.props.showModal,e.showModal)||this.setState({showModal:e.showModal})}},{key:"render",value:function(){var e="oru"==this.props.type?"unit":this.props.type;return a.a.createElement("div",{className:"c-modal"},a.a.createElement(E.a,{parentSelector:this.props.parentSelector,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"c-wizard__modal",overlayClassName:"c-modal__overlay"},a.a.createElement("div",{className:"c-wizard"},"Manage Submissions"==this.props.header?a.a.createElement(x,{header:this.props.header,type:e,unit_id:this.props.unit_id,closeModal:this.closeModal,directManageURLauthor:this.props.directManageURLauthor,directManageURLeditor:this.props.directManageURLeditor,directSubmitURL_manage:this.props.directSubmitURL_manage}):"disabled"==this.props.directSubmit?"campus"==e?a.a.createElement(A,{header:this.props.header,closeModal:this.closeModal}):a.a.createElement(B,{header:this.props.header,type:e,closeModal:this.closeModal}):"moribund"==this.props.directSubmit?a.a.createElement(q,{header:this.props.header,type:e,closeModal:this.closeModal}):a.a.createElement(M,{header:this.props.header,type:e,directSubmitURL:this.props.directSubmitURL,closeModal:this.closeModal}))))}}])}(a.a.Component);O(I,"propTypes",{showModal:i.a.bool.isRequired,onCancel:i.a.any,type:i.a.string,directSubmit:i.a.string,directSubmitURL:i.a.string,directSubmitURL_manage:i.a.string,header:i.a.string,unit_id:i.a.string});var F=I;function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function H(e,t,n){return t=J(t),function(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],J(e).constructor):t.apply(e,n))}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t,n){return(t=Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}var Z=function(e){function t(){var e;V(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return $(e=H(this,t,[].concat(r)),"state",{depositModalOpen:!1,manageModalOpen:!1}),$(e,"closeWizardModal",(function(t){e.setState({depositModalOpen:!1,manageModalOpen:!1})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=(this.props,this.props.header),n=this.props.unit?this.props.unit:{id:"unknown",type:"unknown",name:"unknown"},r="other"!=t.campusID&&"campus"!=n.type,o="\n      c-subheader\n      ".concat(t.logo?"has-banner":"","\n      ").concat(t.logo&&t.logo.is_banner?"is-wide":"","\n      ").concat(r?"has-campus-label":"","\n      is-").concat(t.elColor?t.elColor:"black","\n    "),i=U(n.type.includes("series")?[t.ancestorID,t.ancestorName]:[n.id,n.name],2),l=i[0],s=i[1],p=t.directSubmitURL?t.directSubmitURL:"https://submit.escholarship.org/subi/directSubmit?target="+n.id,f=t.directSubmitURL?t.directSubmitURL:null,m=t.directManageURLauthor?t.directManageURLauthor:null,d=t.directManageURLeditor?t.directManageURLeditor:null,b=null,y=a.a.createElement("button",{id:"wizardlyDeposit",className:"o-button__3",onClick:function(t){e.setState({depositModalOpen:!0}),t.preventDefault()}},"journal"==n.type?"Submit":"Deposit");if("journal"==n.type||t.directSubmitURL||["moribund","disabled","hide"].includes(t.directSubmit))b=a.a.createElement(F,{showModal:this.state.depositModalOpen,parentSelector:function(){return u()("#wizardModalBase")[0]},onCancel:function(t){return e.closeWizardModal(t)},header:"journal"==n.type?n.name:t.campusName+" Deposit",type:n.type,directSubmit:t.directSubmit,directSubmitURL:p,directManageURLauthor:m,directManageURLeditor:d});else{var h=U("oru"==n.type?[n.id,n.name]:n.type.includes("series")?[t.ancestorID,t.ancestorName]:[null,null],2),g=h[0],E=h[1];b=a.a.createElement(v.a,{key:g,showModal:this.state.depositModalOpen,parentSelector:function(){return u()("#wizardModalBase")[0]},onCancel:function(t){return e.closeWizardModal(t)},campuses:t.campuses,data:{campusID:t.campusID,campusName:t.campusName,unitID:g,unitName:E}})}var _=a.a.createElement("button",{id:"wizardlyManage",className:"o-button__3",onClick:function(t){e.setState({manageModalOpen:!0}),t.preventDefault()}},"Manage",a.a.createElement("span",{className:"c-subheader__button-fragment"},"Submissions")),w=a.a.createElement(F,{showModal:this.state.manageModalOpen,parentSelector:function(){return u()("#wizardModalBase")[0]},onCancel:function(t){return e.closeWizardModal(t)},header:"Manage Submissions",type:n.type,unit_id:n.id,directSubmitURL_manage:f,directManageURLauthor:m,directManageURLeditor:d});return a.a.createElement("div",{className:o,style:{backgroundColor:t.bgColor}},a.a.createElement(c.a,{to:"/uc/"+l,className:"c-subheader__title"},a.a.createElement("h1",null,s)),t.logo&&a.a.createElement(c.a,{to:"/uc/"+l,className:"c-subheader__banner"},a.a.createElement("img",{src:t.logo.url,alt:n.name+" banner"})),r&&a.a.createElement("a",{className:"c-subheader__campus",href:"/uc/"+t.campusID},t.campusName),a.a.createElement("div",{id:"wizardModalBase",className:"c-subheader__buttons"},y,b,_,w))}}])&&W(n.prototype,r),o&&W(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);$(Z,"propTypes",{header:i.a.shape({campusID:i.a.string.isRequired,campusName:i.a.string.isRequired,ancestorID:i.a.string,ancestorName:i.a.string,campuses:i.a.array.isRequired,directSubmit:i.a.string,directSubmitURL:i.a.string,directManageURLauthor:i.a.string,directManageURLeditor:i.a.string,logo:i.a.shape({url:i.a.string.isRequired,width:i.a.number,height:i.a.number})}),unit:i.a.shape({id:i.a.string.isRequired,name:i.a.string.isRequired,type:i.a.string.isRequired,extent:i.a.object}).isRequired});t.a=Z},368:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),i=n.n(o),c=n(375),l=n(377),u=n(376),s=n(38),p=n(19),f=n.n(p),m=n(1),d=n.n(m),b=n(13),y=n(14),h=n(15),v=n(17);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}function j(e,t,n){return t=S(t),function(e,t){if(t&&("object"==g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],S(e).constructor):t.apply(e,n))}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(){return E(this,t),j(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("a",{name:this.props.name,ref:function(t){t&&window.location.hash.toLowerCase().replace(/^#/,"")==e.props.name&&setTimeout((function(){return t.scrollIntoView()}),0)}})}}])&&w(n.prototype,r),o&&w(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component),N=n(16);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function R(e,t,n){return t=x(t),function(e,t){if(t&&("object"==C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}var q,M,I,F=function(e){function t(){return D(this,t),R(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.hero_data;return e?a.a.createElement("div",{className:"c-hero",style:{backgroundImage:"url("+e.hero.url+")"}},a.a.createElement("h1",null,"Open Access Publications from the University of California"),a.a.createElement("div",{className:"c-hero__campus"},a.a.createElement("span",null,e.unit_name),a.a.createElement(N.a,{to:"/campuses"},"Explore all of our campuses"))):a.a.createElement("div",null)}}])&&T(n.prototype,r),o&&T(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);q=F,M="propTypes",I={hero_data:d.a.shape({unit_id:d.a.string.isRequired,unit_name:d.a.string.isRequired,hero:d.a.shape({url:d.a.string,width:d.a.number,height:d.a.number})})},(M=B(M))in q?Object.defineProperty(q,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):q[M]=I;var L=F;function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}function H(e,t,n){return t=J(t),function(e,t){if(t&&("object"==U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],J(e).constructor):t.apply(e,n))}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(){return z(this,t),H(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),function(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handleClick",value:function(e,t){e.preventDefault(),this.props.changeAnchor(t)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"c-teaser"},a.a.createElement("section",null,a.a.createElement("header",null,a.a.createElement("h2",null,"eScholarship Publishing")),a.a.createElement("p",null,"Open Access publishing for journals, monographs, conference proceedings and more."),a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"home_publishing")}},"Learn More")),a.a.createElement("section",null,a.a.createElement("header",null,a.a.createElement("h2",null,"eScholarship Repository")),a.a.createElement("p",null,"Open Access repository services for UC researchers to share their scholarly output."),a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"home_repository")}},"Learn More")))}}])}(a.a.Component);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Q(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}function X(e,t,n){return t=ee(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ee(e).constructor):t.apply(e,n))}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){return Z(this,t),X(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(t,e),function(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-homesection__1"},a.a.createElement("div",{className:"c-homesection__1-description"},a.a.createElement("h3",null,"Good for Authors"),a.a.createElement("p",null,"Open Access research is read and cited more than access-restricted scholarship, increasing the academic impact of and public engagement with your ideas."),a.a.createElement("h3",null,"Good for Readers"),a.a.createElement("p",null,"The University of California’s Open Access policies extend the University’s public mission to share broadly — throughout California, the nation, and the world — the research and knowledge produced at our campuses.")),a.a.createElement("h3",{className:"c-homesection__1-metrics-heading"},"Metrics of Use"),a.a.createElement("div",{className:"o-stat"},a.a.createElement("div",{className:"o-stat--item"},a.a.createElement("b",null,this.props.stats.statsCountItems.toLocaleString())," Items"),a.a.createElement("div",{className:"o-stat--view"},a.a.createElement("b",null,this.props.stats.statsCountViews.toLocaleString())," Views")),a.a.createElement(N.a,{to:"/ucoapolicies",className:"c-homesection__1-link"},"Learn more about UC Open Access"))}}])}(a.a.Component),re=n(237),ae=n(18),oe=n(10);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ue(r.key),r)}}function ue(e){var t=function(e,t){if("object"!=ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ie(t)?t:t+""}function se(e,t,n){return t=pe(t),function(e,t){if(t&&("object"==ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],pe(e).constructor):t.apply(e,n))}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return ce(this,t),se(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(t,e),function(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-journalgrid"},a.a.createElement(N.a,{to:"/uc/anrcs_californiaagriculture"},a.a.createElement(ae.a,{src:oe.a+"homecover_CalAg.png",alt:"California Agriculture journal"})),a.a.createElement(N.a,{to:"/uc/psf"},a.a.createElement(ae.a,{src:oe.a+"homecover_psf.png",alt:"Parks Stewardship Forum"})),a.a.createElement(N.a,{to:"/uc/our_bsj"},a.a.createElement(ae.a,{src:oe.a+"homecover_glitch.png",alt:"Berkeley Scientific Journal"})),a.a.createElement(N.a,{to:"/uc/alephucla"},a.a.createElement(ae.a,{src:oe.a+"homecover_aleph.png",alt:"Aleph, UCLA Undergraduate Research Journal"})),a.a.createElement(N.a,{to:"/uc/alonfilipinxjournal"},a.a.createElement(ae.a,{src:oe.a+"homecover_af.png",alt:"Alon: Journal for Filipinx American and Diasporic Studies"})),a.a.createElement("div",{className:"c-journalgrid__all"},a.a.createElement(N.a,{to:"/journals"},"View all ",a.a.createElement("strong",null,this.props.count_journals)," current journals")))}}])}(a.a.Component);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,he(r.key),r)}}function he(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}function ve(e,t,n){return t=ge(t),function(e,t){if(t&&("object"==de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ge(e).constructor):t.apply(e,n))}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(){return be(this,t),ve(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}(t,e),function(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"publishing",className:"c-homesection__3"},a.a.createElement("div",{className:"c-homesection__3-description"},a.a.createElement("h3",null,"eScholarship Publishing"),a.a.createElement("p",null,"eScholarship Publishing is an open access publishing platform subsidized by the University of California, managed by the California Digital Library, and offered free of charge to UC-affiliated departments, research units, publishing programs and individual scholars."),a.a.createElement("p",null,"We offer publishing and production tools, including a full editorial and peer review system, as well as professional support and consulting services.")),a.a.createElement("div",{className:"c-homesection__3-journalgrid"},a.a.createElement(me,{count_journals:this.props.count_journals})),a.a.createElement(N.a,{to:"/publishing",className:"c-homesection__3-link"},"Learn more about eScholarship Publishing"))}}])}(a.a.Component),we=(n(23),n(12));function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,De(r.key),r)}}function Pe(e,t,n){return t=ke(t),function(e,t){if(t&&("object"==Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ke(e).constructor):t.apply(e,n))}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t,n){return(t=De(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}var Te=function(e){function t(){var e;je(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ce(e=Pe(this,t,[].concat(r)),"changeAnchor",(function(e){window.location.hash=e})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(t,e),function(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"renderData",value:function(e){return a.a.createElement("div",null,a.a.createElement(we.a,{title:"eScholarship",descrip:"Open Access Publications from the University of California"},a.a.createElement("meta",{id:"og-url",property:"og:url",content:"https://escholarship.org"})),a.a.createElement(y.a,null),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar})),a.a.createElement(L,{hero_data:e.hero_data}),a.a.createElement($,{changeAnchor:this.changeAnchor}),a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"c-homesection"},a.a.createElement("header",null,a.a.createElement("h2",null,"Why Open Access with eScholarship?")),a.a.createElement(ne,{stats:e.stats})),a.a.createElement(k,{name:"home_publishing"}),a.a.createElement("section",{className:"c-homesection"},a.a.createElement("header",null,a.a.createElement("h2",null,"eScholarship is an open access publishing platform")),a.a.createElement(_e,{count_journals:e.stats.statsCountEscholJournals})),a.a.createElement(k,{name:"home_repository"}),a.a.createElement("section",{className:"c-homesection"},a.a.createElement("header",null,a.a.createElement("h2",null,"eScholarship is the institutional repository for the UC system")),a.a.createElement(re.a,{stats:e.stats,campuses:e.header.campuses}))))}}])}(b.a);Ce(Te,"propTypes",{hero_data:d.a.shape({unit_id:d.a.string.isRequired,unit_name:d.a.string.isRequired,hero:d.a.shape({url:d.a.string,width:d.a.number,height:d.a.number})}),stats:d.a.shape({statsCountItems:d.a.number.isRequired,statsCountViews:d.a.number.isRequired,statsCountEscholJournals:d.a.number.isRequired,statsCountOrus:d.a.number.isRequired,statsCountArticles:d.a.number.isRequired,statsCountThesesDiss:d.a.number.isRequired,statsCountBooks:d.a.number.isRequired})});var Re=Te,xe=n(53),Ae=n(9);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t,n){return(t=Le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Fe(e,t,n){return t&&Ie(e.prototype,t),n&&Ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Be(t)?t:t+""}function Ue(e,t,n){return t=ze(t),function(e,t){if(t&&("object"==Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ze(e).constructor):t.apply(e,n))}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}function We(e,t){return(We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(){return Me(this,t),Ue(this,t,arguments)}return Ve(t,e),Fe(t,[{key:"render",value:function(){var e=this.props,t=null;return e.unitID&&(t=[a.a.createElement("input",{key:"r2",type:"radio",id:"c-search2__refine-campus",name:"searchType",value:e.unitID,onFocus:this.props.makeActive,onBlur:this.props.makeInactive}),a.a.createElement("label",{key:"l2",htmlFor:"c-search2__refine-campus"},"This ","Department"==e.label?"Dept.":e.label),a.a.createElement("input",{key:"h",type:"hidden",name:"searchUnitType",value:this.props.searchUnitType})]),a.a.createElement("fieldset",null,a.a.createElement("legend",null,"Refine Search"),a.a.createElement("div",{className:this.props.refineActive?"c-search2__refine--active":"c-search2__refine"},a.a.createElement("input",{key:"r1",type:"radio",id:"c-search2__refine-eschol",name:"searchType",value:"eScholarship",defaultChecked:!0,onFocus:this.props.makeActive,onBlur:this.props.makeInactive}),a.a.createElement("label",{key:"l1",htmlFor:"c-search2__refine-eschol"},"All of eScholarship"),t))}}])}(a.a.Component),Je=function(e){function t(){var e;Me(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return qe(e=Ue(this,t,[].concat(r)),"state",{refineActive:!1}),qe(e,"makeActive",(function(){return e.setState({refineActive:!0})})),qe(e,"makeInactive",(function(){return e.setState({refineActive:!1})})),e}return Ve(t,e),Fe(t,[{key:"render",value:function(){var e,t,n=this;return["series","monograph_series","seminar_series","special"].includes(this.props.type)?(e="Series",t="series"):"oru"==this.props.type?(e="Department",t="departments"):"journal"==this.props.type?(e="Journal",t="journals"):"campus"==this.props.type&&(e="Campus",t="campuses"),a.a.createElement(Ae.a,{to:"/search",autoComplete:"off",className:"c-search2"},a.a.createElement("div",{className:"c-search2__inputs"},a.a.createElement("div",{className:"c-search2__form"},a.a.createElement("label",{className:"c-search2__label",htmlFor:"global-search"},"Search eScholarship"),a.a.createElement("input",{type:"search",name:"q",id:"global-search",className:"c-search2__field",placeholder:"Search",onFocus:this.makeActive,onBlur:this.makeInactive,autoComplete:"off",autoCapitalize:"off"})),a.a.createElement(He,{refineActive:this.state.refineActive,label:e,makeActive:this.makeActive,makeInactive:this.makeInactive,unitID:this.props.unitID,searchUnitType:t})),a.a.createElement("button",{type:"submit",className:"c-search2__submit-button","aria-label":"search"}),a.a.createElement("button",{type:"button",className:"c-search2__search-close-button","aria-label":"close search field",onClick:function(){return n.props.onClose()}}))}}])}(a.a.Component),Ge=n(56);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xe(r.key),r)}}function Ze(e,t,n){return t=Ke(t),function(e,t){if(t&&("object"==$e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ke(e).constructor):t.apply(e,n))}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}var et=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ze(this,t,[e])).state={searchActive:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(t,e),function(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,!this.props.hideAdminBar&&a.a.createElement(Ge.a,null),a.a.createElement("header",{id:"#top",className:"c-header"},a.a.createElement(N.a,{className:"c-header__logo2",to:"/"},a.a.createElement("picture",null,a.a.createElement("source",{srcSet:oe.a+"logo_eschol-small.svg",media:"(min-width: "+v.screen3+")"}),a.a.createElement("img",{src:oe.a+"logo_eschol-mobile.svg",alt:"eScholarship"})),a.a.createElement("div",{className:"c-header__logo2-tagline"},"Open Access Publications from the University of California")),a.a.createElement("div",{className:this.state.searchActive?"c-header__search--active":"c-header__search"},this.props.searchComp&&"1"==this.props.searchComp?a.a.createElement(xe.a,{query:this.props.query,onClose:function(){return e.setState({searchActive:!1})}}):a.a.createElement(Je,{type:this.props.type,unitID:this.props.unitID,onClose:function(){return e.setState({searchActive:!1})}})),a.a.createElement("button",{className:"c-header__search-open-button","aria-label":"open search field",onClick:function(){return e.setState({searchActive:!0})}})))}},{key:"componentDidMount",value:function(){}}])}(a.a.Component);!function(e,t,n){(t=Xe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(et,"propTypes",{type:d.a.string,unitID:d.a.string,searchComp:d.a.string,hideAdminBar:d.a.bool});var tt=et,nt=n(36),rt=n(24);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lt(r.key),r)}}function ct(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e){var t=function(e,t){if("object"!=at(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==at(t)?t:t+""}function ut(e,t,n){return t=st(t),function(e,t){if(t&&("object"==at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],st(e).constructor):t.apply(e,n))}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}function ft(e,t){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(){return ot(this,t),ut(this,t,arguments)}return pt(t,e),ct(t,[{key:"statNumify",value:function(e){return[e?e.toLocaleString():null,e>1?"s":""]}},{key:"render",value:function(){var e=this.statNumify(this.props.item.publications),t=this.statNumify(this.props.item.units),n=this.statNumify(this.props.item.journals);return a.a.createElement("dd",null,e[0]&&a.a.createElement("span",null,e[0]," Publication",e[1]),t[0]&&a.a.createElement("span",null,", ",t[0]," Unit",t[1]),n[0]&&a.a.createElement("span",null,", ",n[0]," Journal",n[1]))}}])}(a.a.Component),dt=function(e){function t(){return ot(this,t),ut(this,t,arguments)}return pt(t,e),ct(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("dl",{className:"c-descriptionlist"},this.props.campusesStats.map((function(e,t){return""!=e.id&&[a.a.createElement("dt",{key:t},a.a.createElement(N.a,{to:"/uc/"+e.id},e.name)),a.a.createElement(mt,{key:"99",item:e})]}))),a.a.createElement("h3",null,"Other Locations"),a.a.createElement("dl",{className:"c-descriptionlist"},this.props.otherStats.map((function(e,t){return""!=e.id&&[a.a.createElement("dt",{key:t},a.a.createElement(N.a,{to:"/uc/"+e.id},e.name)),a.a.createElement(mt,{key:"99",item:e})]}))))}}])}(a.a.Component);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ht(r.key),r)}}function ht(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:t+""}function vt(e,t,n){return t=gt(t),function(e,t){if(t&&("object"==bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],gt(e).constructor):t.apply(e,n))}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vt(this,t,[e])).state={open:!1,date:new Date},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(t,e),function(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement("details",{className:"c-togglelist__sublist",ref:function(t){return e.details=t},open:this.props.override.date>this.state.date?this.props.override.open:this.state.open},a.a.createElement("summary",{onClick:function(t){e.setState({open:!e.details.open,date:new Date}),t.preventDefault()},"aria-label":"list of sub items"}),a.a.createElement("ul",null,this.props.children.map((function(n){return n.children?a.a.createElement("li",{key:n.id},a.a.createElement(N.a,{to:"/uc/"+n.id},n.name),a.a.createElement(t,{override:e.props.override},n.children)):a.a.createElement("li",{key:n.id},a.a.createElement(N.a,{to:"/uc/"+n.id},n.name))}))))}}])}(a.a.Component);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jt(r.key),r)}}function jt(e){var t=function(e,t){if("object"!=wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wt(t)?t:t+""}function St(e,t,n){return t=Pt(t),function(e,t){if(t&&("object"==wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Pt(e).constructor):t.apply(e,n))}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=St(this,t,[e])).state={override:{open:!1,date:new Date}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(t,e),function(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"c-togglelist"},a.a.createElement("div",{className:"c-togglelist__buttons"},a.a.createElement("button",{className:"o-button__2",onClick:function(){return e.setState({override:{open:!0,date:new Date}})}},"Expand All"),a.a.createElement("button",{className:"o-button__2",onClick:function(){return e.setState({override:{open:!1,date:new Date}})}},"Collapse All")),a.a.createElement("ul",{className:"c-togglelist__mainlist"},this.props.depts.map((function(t){return t.children?a.a.createElement("li",{key:t.id},a.a.createElement(N.a,{to:"/uc/"+t.id},t.name),a.a.createElement(_t,{override:e.state.override},t.children)):a.a.createElement("li",{key:t.id},a.a.createElement(N.a,{to:"/uc/"+t.id},t.name))}))))}}])}(a.a.Component),Ct=n(37);function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xt(r.key),r)}}function xt(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dt(t)?t:t+""}function At(e,t,n){return t=Bt(t),function(e,t){if(t&&("object"==Dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Bt(e).constructor):t.apply(e,n))}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(e){function t(){return Tt(this,t),At(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(t,e),function(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement(f.a,{isOpen:this.props.isOpen,parentSelector:this.props.parentSelector,contentLabel:"onRequestClose Example",onRequestClose:this.props.onCancel,className:"c-modal--open",overlayClassName:"c-modal__overlay"},a.a.createElement("div",{className:"modal__header"},a.a.createElement("h2",null,this.props.header)),a.a.createElement("div",{className:"modal__content"},this.props.content),a.a.createElement("div",{className:"c-modal__footer"},this.props.onCancel&&a.a.createElement("button",{className:"c-modal__button-close",onClick:this.props.onCancel},"Cancel"),a.a.createElement("button",{className:"o-button__3",onClick:this.props.onOK},this.props.okLabel)))}}])}(a.a.Component);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gt(r.key),r)}}function Ut(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zt(e,t,n){return t=Vt(t),function(e,t){if(t&&("object"==It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vt(e).constructor):t.apply(e,n))}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ht(e,t)}function Ht(e,t){return(Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e,t,n){return(t=Gt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){var t=function(e,t){if("object"!=It(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=It(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==It(t)?t:t+""}var $t=function(e){function t(){var e;Ft(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jt(e=zt(this,t,[].concat(r)),"content",a.a.createElement("div",null,"You've reached a portion of our site that isn't quite ready.",a.a.createElement("br",null),a.a.createElement("br",null),"For more information, or to provide feedback, visit the ",a.a.createElement("a",{href:"https://help.escholarship.org/support/discussions/9000052123",target:"_blank"},"Help Center"),".")),e}return Wt(t,e),Ut(t,[{key:"render",value:function(){return a.a.createElement(Mt,{isOpen:this.props.isOpen,header:"Coming Soon",content:this.content,onOK:this.props.onOK,okLabel:"OK"})}}])}(a.a.Component),Yt=function(e){function t(){var e;Ft(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Jt(e=zt(this,t,[].concat(r)),"state",{modalOpen:!1}),Jt(e,"closeModal",(function(t){e.setState({modalOpen:!1})})),Jt(e,"clickHandler",(function(t){e.setState({modalOpen:!0}),t.preventDefault()})),e}return Wt(t,e),Ut(t,[{key:"render",value:function(){var e=this;return"button"==this.props.element?a.a.createElement("button",{className:this.props.className,onClick:function(t){return e.clickHandler(t)}},this.props.children,a.a.createElement($t,{isOpen:this.state.modalOpen,onOK:function(t){return e.closeModal(t)}})):a.a.createElement("a",{href:"",className:this.props.className,onClick:function(t){return e.clickHandler(t)}},this.props.children,a.a.createElement($t,{isOpen:this.state.modalOpen,onOK:function(t){return e.closeModal(t)}}))}}])}(a.a.Component);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,en(r.key),r)}}function Xt(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function en(e){var t=function(e,t){if("object"!=Zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zt(t)?t:t+""}function tn(e,t,n){return t=nn(t),function(e,t){if(t&&("object"==Zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],nn(e).constructor):t.apply(e,n))}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&an(e,t)}function an(e,t){return(an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var on=function(e){function t(){return Kt(this,t),tn(this,t,arguments)}return rn(t,e),Xt(t,[{key:"pagePermissionsUnit",value:function(){return this.props.match.params.campusID?this.props.match.params.campusID:"root"}},{key:"renderData",value:function(e){return a.a.createElement("div",null,["campuses","all_journals"].includes(e.browse_type)?a.a.createElement("div",null,a.a.createElement(y.a,null),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar}))):a.a.createElement("div",null,a.a.createElement(tt,{type:"campus",unitID:e.campusID}),a.a.createElement(nt.a,{unit:e.unit,header:e.header}),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar}))),a.a.createElement(rt.a,{array:e.breadcrumb}),a.a.createElement(cn,e))}}])}(b.a),cn=function(e){function t(){return Kt(this,t),tn(this,t,arguments)}return rn(t,e),Xt(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},"campuses"==e.browse_type&&a.a.createElement(ln,{campusesStats:e.campusesStats,otherStats:e.otherStats}),"all_journals"==e.browse_type&&a.a.createElement(un,{journals:e.journals,archived:e.archived,campuses:e.campuses}),"units"==e.browse_type&&a.a.createElement(sn,{campus:e.unit,units:e.campusUnits,pageTitle:e.pageTitle}),"journals"==e.browse_type&&a.a.createElement(pn,{campus:e.unit,journals:e.campusJournals,archived:e.campusJournalsArchived,pageTitle:e.pageTitle})),a.a.createElement("aside",null,a.a.createElement(Ct.a,{data:this.props.sidebar})))}}])}(a.a.Component),ln=function(e){function t(){return Kt(this,t),tn(this,t,arguments)}return rn(t,e),Xt(t,[{key:"render",value:function(){return a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(we.a,{title:"Campuses"}),a.a.createElement("header",null,a.a.createElement("h2",null,"Campuses and Other Locations")),a.a.createElement(dt,{campusesStats:this.props.campusesStats,otherStats:this.props.otherStats}))}}])}(a.a.Component),un=function(e){function t(e){var n;return Kt(this,t),(n=tn(this,t,[e])).state={campusID:"",isActive:e.isActive},n.changeCampus=n.changeCampus.bind(n),n}return rn(t,e),Xt(t,[{key:"componentWillUnmount",value:function(){this.setState({campusID:""})}},{key:"getVisibleJournals",value:function(e,t){var n=!1,r=e.map((function(e,r){var o=(""==t||e.ancestor_unit.includes(t))&&a.a.createElement("li",{key:r},a.a.createElement(N.a,{to:"/uc/"+e.id},e.name));return o&&(n=!0),o}));return!!n&&r}},{key:"changeCampus",value:function(e){this.setState({campusID:e.target.value})}},{key:"render",value:function(){var e=this.props,t=this.getVisibleJournals(e.journals,this.state.campusID),n=this.getVisibleJournals(e.archived,this.state.campusID),r=e.campuses.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)}));return a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(we.a,{title:"Journals"}),a.a.createElement("header",null,a.a.createElement("h2",null,"Journals")),a.a.createElement("div",{className:"o-well-colored"},"Are you a UC-affiliated faculty member, researcher, or student interested in publishing a journal on eScholarship? ",a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000127857-starting-a-new-journal-on-escholarship"},"Learn more about the journal proposal process"),"."),a.a.createElement("div",{className:"o-input__inline"},a.a.createElement("div",{className:"o-input__droplist1"},a.a.createElement("label",{className:"o-input__label--hidden",htmlFor:"o-input__droplist-label2"},"Campus"),a.a.createElement("select",{name:"campusID",id:"o-input__droplist-label2",onChange:this.changeCampus,value:this.state.campusID},r))),t&&a.a.createElement("ul",{className:"o-textlist2"},t),n&&a.a.createElement("div",null,a.a.createElement("h2",null,"Archived Journals"),a.a.createElement("ul",{className:"o-textlist2"},n)),!(t||n)&&[a.a.createElement("p",{key:"0"},a.a.createElement("br",null)),a.a.createElement("p",{key:"1"},"No journals found matching that criteria",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))],a.a.createElement("br",null),a.a.createElement("br",null))}}])}(a.a.Component),sn=function(e){function t(){return Kt(this,t),tn(this,t,arguments)}return rn(t,e),Xt(t,[{key:"render",value:function(){return a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(we.a,{title:this.props.pageTitle+" - "+this.props.campus.name}),a.a.createElement("header",null,a.a.createElement("h2",null,this.props.pageTitle)),a.a.createElement("div",{className:"o-well-colored"},"Looking for an academic or research unit that's not listed? ",a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000131086-request-a-new-unit"},"Learn how to add yours"),"."),a.a.createElement(Nt,{depts:this.props.units}))}}])}(a.a.Component),pn=function(e){function t(){return Kt(this,t),tn(this,t,arguments)}return rn(t,e),Xt(t,[{key:"getVisibleJournals",value:function(e){return e.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(N.a,{to:"/uc/"+e.id},e.name))}))}},{key:"render",value:function(){var e=this.props,t=e.journals.length>0?this.getVisibleJournals(e.journals):null,n=e.archived.length>0?this.getVisibleJournals(e.archived):null;return a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(we.a,{title:this.props.pageTitle+" - "+this.props.campus.name}),a.a.createElement("header",null,a.a.createElement("h2",null,this.props.pageTitle)),t&&a.a.createElement("ul",{className:"o-textlist2"},t),n&&a.a.createElement("div",null,a.a.createElement("h2",null,"Archived Journals"),a.a.createElement("ul",{className:"o-textlist2"},n)),!(t||n)&&[a.a.createElement("p",{key:"0"},a.a.createElement("br",null)),a.a.createElement("p",{key:"1"},"No journals currently listed.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))])}}])}(a.a.Component),fn=on,mn=n(4),dn=n.n(mn),bn=n(35),yn=n(41);function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jn(r.key),r)}}function En(e,t,n){return t=_n(t),function(e,t){if(t&&("object"==hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],_n(e).constructor):t.apply(e,n))}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function On(e,t,n){return(t=jn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e){var t=function(e,t){if("object"!=hn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hn(t)?t:t+""}var Sn=function(e){function t(){var e;vn(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return On(e=En(this,t,[].concat(r)),"getLink",(function(e,t,n,r){e.preventDefault(),dn.a.getJSON("/api/mediaLink/"+t+"/"+n+"/"+r).done((function(e){window.location=e.url})).fail((function(e,t,n){console.log("Failed! textStatus=",t,", err=",n)}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wn(e,t)}(t,e),function(e,t,n){return t&&gn(e.prototype,t),n&&gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement(yn.a,{detailsClass:"c-share",summarySpan:"Share"},a.a.createElement("div",{className:"c-share__list"},a.a.createElement("a",{className:"c-share__email",href:"",onClick:function(n){e.getLink(n,t.type,t.id,"email")}},"Email"),a.a.createElement("a",{className:"c-share__facebook",href:"",onClick:function(n){e.getLink(n,t.type,t.id,"facebook")}},"Facebook")))}}])}(a.a.Component),Pn=n(8);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,An(r.key),r)}}function Dn(e,t,n){return t=Tn(t),function(e,t){if(t&&("object"==kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Tn(e).constructor):t.apply(e,n))}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xn(e,t,n){return(t=An(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e){var t=function(e,t){if("object"!=kn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kn(t)?t:t+""}var Bn=function(e){function t(){var e;Nn(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return xn(e=Dn(this,t,[].concat(r)),"state",{modalOpen:!1,inProgress:!1}),xn(e,"onClose",(function(){return e.setState({modalOpen:!1,inProgress:!1})})),xn(e,"onOpen",(function(){return e.setState({modalOpen:!0,message:null,redirectTo:null})})),xn(e,"onOK",(function(){e.props.sendApiData("DELETE","/api/item/qt".concat(e.props.itemID),{publicMessage:e.state.publicMessage,internalComment:e.state.internalComment,redirectTo:e.state.redirectTo}),e.onClose()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rn(e,t)}(t,e),function(e,t,n){return t&&Cn(e.prototype,t),n&&Cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement(Pn.a.CMS.Consumer,null,(function(t){return t.loggedIn&&t.permissions&&t.permissions.super?a.a.createElement("div",null,a.a.createElement("button",{className:"o-button__3",onClick:e.onOpen},"Withdraw"),a.a.createElement("div",{className:"c-modal"},a.a.createElement(f.a,{isOpen:e.state.modalOpen,contentLabel:"Withdraw Item",onRequestClose:e.onClose,className:"c-modal--open",overlayClassName:"c-modal__overlay"},a.a.createElement("div",{className:"modal__header"},a.a.createElement("h2",null,"Withdraw Item"),a.a.createElement("button",{className:"c-modal__header-close",onClick:e.onClose},a.a.createElement("span",null,"Close"))),a.a.createElement("div",{className:"modal__content"},a.a.createElement("div",{className:"c-withdrawmodal__warning"},a.a.createElement("b",null,"WARNING: ")," This item will be permanently withdrawn (and optionally redirected to another item)."),a.a.createElement("label",{className:"c-withdrawmodal__label",htmlFor:"publicMessage"},"Withdrawal reason (public):"),a.a.createElement("input",{className:"c-withdrawmodal__public-message",id:"publicMessage",type:"text",onChange:function(t){return e.setState({publicMessage:t.target.value})}}),a.a.createElement("label",{className:"c-withdrawmodal__label",htmlFor:"internalComment"},"Internal comment (optional, e.g. ticket URL):"),a.a.createElement("input",{className:"c-withdrawmodal__internal-comment",id:"internalComment",type:"text",onChange:function(t){return e.setState({internalComment:t.target.value})}}),a.a.createElement("label",{className:"c-withdrawmodal__label",htmlFor:"redirectTo"},"Identifier of item to redirect to (optional, form of 'qtxxxxxxxx'):"),a.a.createElement("input",{className:"c-withdrawmodal__redirect-to",id:"redirectTo",type:"text",onChange:function(t){return e.setState({redirectTo:t.target.value})}})),a.a.createElement("div",{className:"c-modal__footer"},a.a.createElement("div",null,a.a.createElement("button",{className:"c-modal__button-close",onClick:e.onClose},"Cancel, back to safety"),a.a.createElement("button",{className:"o-button__3",onClick:e.onOK},"Yes, withdraw this item")))))):null}))}}])}(a.a.Component);function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hn(r.key),r)}}function Fn(e,t,n){return t&&In(e.prototype,t),n&&In(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ln(e,t,n){return t=Un(t),function(e,t){if(t&&("object"==qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Un(e).constructor):t.apply(e,n))}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vn(e,t)}function Vn(e,t){return(Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e,t,n){return(t=Hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e){var t=function(e,t){if("object"!=qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qn(t)?t:t+""}var Jn=function(e){function t(){var e;Mn(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Wn(e=Ln(this,t,[].concat(r)),"linkBuyPrint",(function(){window.location=e.props.attrs.buy_link})),e}return zn(t,e),Fn(t,[{key:"render",value:function(){var e=this,t=this.props,n=function(e){return{"application/pdf":function(){return["PDF",t.pdf_url,".pdf"]},"text/html":function(){return["HTML","",".html"]},default:function(){return["Content","",""]}}[e]()},r=t.content_type?n(t.content_type):n("default"),o=r[0],i=r[1],c="eScholarship UC item "+t.id+r[2];if("glossapsycholinguistics"==t.journal_id&&!!t.attrs.supp_files&&1==t.attrs.supp_files.filter((function(e){return e.file=="qt"+t.id+".pdf"})).length&&!!t.attrs.supp_files&&1==t.attrs.supp_files.filter((function(e){return e.file=="qt"+t.id+".xml"})).length){var l=(t.preview_key?"/preview/":"/content/")+"qt"+t.id+"/supp/",u=t.preview_key?"?preview_key="+t.preview_key:"",s=l+"qt"+t.id+".pdf"+u,p=l+"qt"+t.id+".xml"+u,f="eScholarship UC item "+t.id+".pdf",m="eScholarship UC item "+t.id+".xml";return a.a.createElement("div",{className:"c-itemactions"},a.a.createElement("div",{className:"o-download"},t.download_restricted?a.a.createElement("a",{href:s,className:"o-download__button",onClick:function(){return alert("Download restricted until "+t.download_restricted),!1}},"Download PDF"):a.a.createElement("a",{href:s,className:"o-download__button",download:f},"Download PDF"),a.a.createElement(yn.a,{detailsClass:"o-download__formats",ariaLabel:"formats"},a.a.createElement("ul",{className:"o-download__nested-menu"},a.a.createElement("li",{className:"o-download__nested-list1"},"Main",a.a.createElement("ul",null,a.a.createElement("li",null,t.download_restricted?a.a.createElement("a",{href:s,onClick:function(){return alert("Download restricted until "+t.download_restricted),!1}},"PDF"):a.a.createElement("a",{href:s,download:f},"PDF")),a.a.createElement("li",null,t.download_restricted?a.a.createElement("a",{href:p,onClick:function(){return alert("Download restricted until "+t.download_restricted),!1}},"XML"):a.a.createElement("a",{href:p,download:m},"XML"))))))),a.a.createElement(Sn,{type:"item",id:this.props.id}))}return a.a.createElement("div",{className:"c-itemactions"},a.a.createElement("div",{className:"o-download"},t.download_restricted?a.a.createElement("a",{href:"",className:"o-download__button",onClick:function(){return alert("Download restricted until "+t.download_restricted),!1}},"Download ",o):a.a.createElement("a",{href:i,className:"o-download__button",download:c},"Download ",o),a.a.createElement(yn.a,{detailsClass:"o-download__formats",ariaLabel:"formats"},a.a.createElement("ul",{className:"o-download__nested-menu"},t.content_type&&["HTML","PDF"].includes(o)&&a.a.createElement("li",{className:"o-download__nested-list1"},"Main",a.a.createElement("ul",null,"PDF"==o&&a.a.createElement("li",null,t.download_restricted?a.a.createElement("a",{href:"",onClick:function(){return alert("Download restricted until "+t.download_restricted),!1}},"PDF"):a.a.createElement("a",{href:i,download:c},"PDF")),"HTML"==o&&[a.a.createElement("li",{key:"0"},a.a.createElement(Yt,{element:"a"},"ePub")),a.a.createElement("li",{key:"1"},a.a.createElement(Yt,{element:"a"},"HTML"))]))))),a.a.createElement(Bn,{itemID:this.props.id,sendApiData:this.props.sendApiData}),t.attrs.buy_link&&a.a.createElement("button",{onClick:function(){e.linkBuyPrint()},className:"c-itemactions__button-print"},"Buy in Print"),a.a.createElement(Sn,{type:"item",id:this.props.id}))}}])}(a.a.Component),Gn=function(e){function t(){return Mn(this,t),Ln(this,t,arguments)}return zn(t,e),Fn(t,[{key:"render",value:function(){var e=this.props,t="published"==e.status&&!e.content_type&&!e.attrs.pub_web_loc&&e.attrs.supp_files&&e.attrs.supp_files.length>0?null:a.a.createElement("div",{className:"o-alert1",role:"alert"},"pending"==e.status?"This item has not yet been published on eScholarship":e.attrs.withdrawn_message?e.attrs.withdrawn_message:"This item is not available for download from eScholarship");return a.a.createElement("div",{className:"c-itemactions"},t,!/withdrawn/.test(e.status)&&a.a.createElement(Bn,{itemID:this.props.id,fetchingData:this.props.fetchingData,sendApiData:this.props.sendApiData}),/withdrawn|pending/.test(e.status)?a.a.createElement("div",{className:"c-share"}):a.a.createElement(Sn,{type:"item",id:e.id}))}}])}(a.a.Component),$n=function(e){function t(){return Mn(this,t),Ln(this,t,arguments)}return zn(t,e),Fn(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",null,"published"==e.status&&e.content_type?a.a.createElement(Jn,e):a.a.createElement(Gn,e))}}])}(a.a.Component);Wn($n,"propTypes",{id:d.a.string.isRequired,status:d.a.string.isRequired,content_type:d.a.string,pdf_url:d.a.string,attrs:d.a.any,download_restricted:d.a.bool});var Yn=$n,Zn=n(11),Kn=n(32);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ar(r.key),r)}}function tr(e,t,n){return t=nr(t),function(e,t){if(t&&("object"==Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],nr(e).constructor):t.apply(e,n))}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(e,t){if("object"!=Qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qn(t)?t:t+""}var or=function(e){function t(){return Xn(this,t),tr(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}(t,e),function(e,t,n){return t&&er(e.prototype,t),n&&er(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){if(this.props.rights.includes("publicdomain")){var e=this.props.rights,t=this.props.size,n=e.match(/^https:\/\/creativecommons.org\/publicdomain\/zero\/(\d\.\d)\/$/)[1];return a.a.createElement("a",{href:e,className:this.props.classname?this.props.classname:"c-publocation__license"},a.a.createElement(ae.a,{src:oe.a+"cc-".concat("zero","-").concat(t,".svg"),alt:"Creative Commons CC0 public domain dedication, version ".concat(n,".")}))}var r=this.props.rights,o=this.props.size,i=r.match(/^https:\/\/creativecommons.org\/licenses\/(by|by-nc|by-nc-nd|by-nc-sa|by-nd|by-sa)\/(\d\.\d)\/$/),c=i[1],l=i[2];return a.a.createElement("a",{href:r,className:this.props.classname?this.props.classname:"c-publocation__license"},a.a.createElement(ae.a,{src:oe.a+"cc-".concat(c,"-").concat(o,".svg"),alt:"Creative Commons '".concat(c.toUpperCase(),"' version ").concat(l," license")}))}}])}(a.a.Component);!function(e,t,n){(t=ar(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(or,"propTypes",{rights:d.a.string,size:d.a.oneOf(["small","large"]),classname:d.a.string});var ir=or;function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mr(r.key),r)}}function sr(e,t,n){return t=pr(t),function(e,t){if(t&&("object"==cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],pr(e).constructor):t.apply(e,n))}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){var t=function(e,t){if("object"!=cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cr(t)?t:t+""}var dr=function(e){function t(){return lr(this,t),sr(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fr(e,t)}(t,e),function(e,t,n){return t&&ur(e.prototype,t),n&&ur(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e,t=this.props;t.doi&&(e=t.doi.startsWith("http")?t.doi:"https://doi.org/"+t.doi);var n,r,o=t.pub_web_loc&&t.pub_web_loc.length>0?t.pub_web_loc.map((function(e,t){return a.a.createElement("a",{key:t,className:"c-pubinfo__link",href:e},e)})):e?a.a.createElement("a",{href:e,className:"c-pubinfo__link"},e):null,i=a.a.createElement("div",{className:"c-pubinfo__statement"},"No data is associated with this publication."),c=this.props.content_type?null:i;return this.props.data_avail_stmnt&&(n=this.props.data_avail_stmnt,r={publicRepo:[a.a.createElement("div",{key:"0",className:"c-pubinfo__statement"},"The data associated with this publication are available at:"),a.a.createElement("a",{key:"1",className:"c-pubinfo__link",href:n.url},n.url)],publicRepoLater:a.a.createElement("div",{className:"c-pubinfo__statement"},"Associated data will be made available after this publication is published"),suppFiles:a.a.createElement("div",{className:"c-pubinfo__statement"},"The data associated with this publication are in the supplemental files."),withinManuscript:a.a.createElement("div",{className:"c-pubinfo__statement"},"The data associated with this publication are within the manuscript."),onRequest:a.a.createElement("div",{className:"c-pubinfo__statement"},"The data associated with this publication are available upon request."),thirdParty:[a.a.createElement("div",{key:"0",className:"c-pubinfo__statement"},"The data associated with this publication are managed by:"),a.a.createElement("a",{className:"c-pubinfo__link",href:n.contact},n.contact)],notAvail:a.a.createElement("div",{className:"c-pubinfo__statement"},"The data associated with this publication are not available for this reason: ",n.reason),default:i},c=n.type?r[n.type]:r[n.default]),a.a.createElement("div",{className:"c-pubinfo"},o&&a.a.createElement("h2",{className:"c-pubinfo__location-heading"},"Published Web Location"),o,c,this.props.rights&&a.a.createElement(ir,{rights:this.props.rights,size:"large",classname:"c-pubinfo__license"}))}}])}(a.a.Component);!function(e,t,n){(t=mr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dr,"propTypes",{doi:d.a.string,pub_web_loc:d.a.any,content_type:d.a.string,data_avail_stmnt:d.a.shape({type:d.a.string,url:d.a.string,contact:d.a.string,reason:d.a.string}),rights:d.a.string});var br=dr;function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Or(r.key),r)}}function gr(e,t,n){return t=Er(t),function(e,t){if(t&&("object"==yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Er(e).constructor):t.apply(e,n))}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t){return(_r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wr(e,t,n){return(t=Or(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e){var t=function(e,t){if("object"!=yr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yr(t)?t:t+""}var jr=function(e){function t(){var e;hr(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wr(e=gr(this,t,[].concat(r)),"initted",!1),wr(e,"render",(function(){return a.a.createElement("div",{id:"pdfjs-cdl-wrapper",ref:function(t){e.compDiv=t,setTimeout((function(){return e.initViewer()}),0)},dangerouslySetInnerHTML:e.viewerHTML()})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}(t,e),function(e,t,n){return t&&vr(e.prototype,t),n&&vr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentWillReceiveProps",value:function(e){this.initted=this.initted&&this.props.url==e.url}},{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(t){e.initted=!1}}},{key:"componentWillUnmount",value:function(){this.compDiv=null,window.webViewerUnload&&window.webViewerUnload()}},{key:"shouldComponentUpdate",value:function(){return!this.initted}},{key:"initViewer",value:function(){var e=this;!this.initted&&this.compDiv&&("block"==window.getComputedStyle(document.getElementsByClassName("c-pdfview__viewer")[0]).display?(this.initted=!0,window.location.hash&&/^#page=/.test(window.location.hash)&&this.compDiv.scrollIntoView(),window.DEFAULT_URL=this.props.url,window.get_pdfjs_width=function(){var e=dn()(window).width();return e>=parseInt(v.screen2)?.72*e-120:e-21},n.e(5).then(function(e){n(614),window.webViewerLoad(),dn()("#pdfjs-viewer").css("visibility","visible")}.bind(null,n)).catch(n.oe)):setTimeout((function(){return e.initViewer()}),500))}},{key:"viewerHTML",value:function(){return{__html:'\n <div id="pdfjs-viewer" className="jsonly">\n  <noscript>\n    <embed src='.concat(this.props.url,' type=\'application/pdf\' />\n  </noscript>\n    <div id="outerContainer">\n\n      <div id="sidebarContainer">\n        <div id="toolbarSidebar">\n          <div class="splitToolbarButton toggled">\n            <button id="viewThumbnail" class="toolbarButton toggled" title="Show Thumbnails" tabindex="2" data-l10n-id="thumbs">\n               <span data-l10n-id="thumbs_label">Thumbnails</span>\n            </button>\n            <button id="viewOutline" class="toolbarButton" title="Show Document Outline (double-click to expand/collapse all items)" tabindex="3" data-l10n-id="document_outline">\n               <span data-l10n-id="document_outline_label">Document Outline</span>\n            </button>\n            <button id="viewAttachments" class="toolbarButton" title="Show Attachments" tabindex="4" data-l10n-id="attachments">\n               <span data-l10n-id="attachments_label">Attachments</span>\n            </button>\n          </div>\n        </div>\n        <div id="sidebarContent">\n          <div id="thumbnailView">\n          </div>\n          <div id="outlineView" class="hidden">\n          </div>\n          <div id="attachmentsView" class="hidden">\n          </div>\n        </div>\n        <div id="sidebarResizer" class="hidden"></div>\n      </div>  \x3c!-- sidebarContainer --\x3e\n\n      <div id="mainContainer">\n        <div class="findbar hidden doorHanger" id="findbar">\n          <div id="findbarInputContainer">\n            <input id="findInput" class="toolbarField" title="Find" placeholder="Find in document…" tabindex="91" data-l10n-id="find_input">\n            <div class="splitToolbarButton">\n              <button id="findPrevious" class="toolbarButton findPrevious" title="Find the previous occurrence of the phrase" tabindex="92" data-l10n-id="find_previous">\n                <span data-l10n-id="find_previous_label">Previous</span>\n              </button>\n              <div class="splitToolbarButtonSeparator"></div>\n              <button id="findNext" class="toolbarButton findNext" title="Find the next occurrence of the phrase" tabindex="93" data-l10n-id="find_next">\n                <span data-l10n-id="find_next_label">Next</span>\n              </button>\n            </div>\n          </div>\n\n          <div id="findbarOptionsOneContainer">\n            <input type="checkbox" id="findHighlightAll" class="toolbarField" tabindex="94">\n            <label for="findHighlightAll" class="toolbarLabel" data-l10n-id="find_highlight">Highlight all</label>\n            <input type="checkbox" id="findMatchCase" class="toolbarField" tabindex="95">\n            <label for="findMatchCase" class="toolbarLabel" data-l10n-id="find_match_case_label">Match case</label>\n          </div>\n          <div id="findbarOptionsTwoContainer">\n            <input type="checkbox" id="findEntireWord" class="toolbarField" tabindex="96">\n            <label for="findEntireWord" class="toolbarLabel" data-l10n-id="find_entire_word_label">Whole words</label>\n            <span id="findResultsCount" class="toolbarLabel hidden"></span>\n          </div>\n\n          <div id="findbarMessageContainer">\n            <span id="findMsg" class="toolbarLabel"></span>\n          </div>\n        </div>  \x3c!-- findbar --\x3e\n\n        <div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight">\n          <div id="secondaryToolbarButtonContainer">\n            <button id="secondaryPresentationMode" class="secondaryToolbarButton presentationMode visibleLargeView" title="Switch to Presentation Mode" tabindex="51" data-l10n-id="presentation_mode">\n              <span data-l10n-id="presentation_mode_label">Presentation Mode</span>\n            </button>\n\n            <button id="secondaryOpenFile" class="secondaryToolbarButton openFile visibleLargeView" title="Open File" tabindex="52" data-l10n-id="open_file">\n              <span data-l10n-id="open_file_label">Open</span>\n            </button>\n\n            <button id="secondaryPrint" class="secondaryToolbarButton print visibleMediumView" title="Print" tabindex="53" data-l10n-id="print">\n              <span data-l10n-id="print_label">Print</span>\n            </button>\n\n            <button id="secondaryDownload" class="secondaryToolbarButton download visibleMediumView" title="Download" tabindex="54" data-l10n-id="download">\n              <span data-l10n-id="download_label">Download</span>\n            </button>\n\n            <a href="#" id="secondaryViewBookmark" class="secondaryToolbarButton bookmark visibleSmallView" title="Current view (copy or open in new window)" tabindex="55" data-l10n-id="bookmark">\n              <span data-l10n-id="bookmark_label">Current View</span>\n            </a>\n\n            <div class="horizontalToolbarSeparator visibleLargeView"></div>\n\n            <button id="firstPage" class="secondaryToolbarButton firstPage" title="Go to First Page" tabindex="56" data-l10n-id="first_page">\n              <span data-l10n-id="first_page_label">Go to First Page</span>\n            </button>\n            <button id="lastPage" class="secondaryToolbarButton lastPage" title="Go to Last Page" tabindex="57" data-l10n-id="last_page">\n              <span data-l10n-id="last_page_label">Go to Last Page</span>\n            </button>\n\n            <div class="horizontalToolbarSeparator"></div>\n\n            <button id="pageRotateCw" class="secondaryToolbarButton rotateCw" title="Rotate Clockwise" tabindex="58" data-l10n-id="page_rotate_cw">\n              <span data-l10n-id="page_rotate_cw_label">Rotate Clockwise</span>\n            </button>\n            <button id="pageRotateCcw" class="secondaryToolbarButton rotateCcw" title="Rotate Counterclockwise" tabindex="59" data-l10n-id="page_rotate_ccw">\n              <span data-l10n-id="page_rotate_ccw_label">Rotate Counterclockwise</span>\n            </button>\n\n            <div class="horizontalToolbarSeparator"></div>\n\n            <button id="cursorSelectTool" class="secondaryToolbarButton selectTool toggled" title="Enable Text Selection Tool" tabindex="60" data-l10n-id="cursor_text_select_tool">\n              <span data-l10n-id="cursor_text_select_tool_label">Text Selection Tool</span>\n            </button>\n            <button id="cursorHandTool" class="secondaryToolbarButton handTool" title="Enable Hand Tool" tabindex="61" data-l10n-id="cursor_hand_tool">\n              <span data-l10n-id="cursor_hand_tool_label">Hand Tool</span>\n            </button>\n\n            <div class="horizontalToolbarSeparator"></div>\n\n            <button id="scrollVertical" class="secondaryToolbarButton scrollModeButtons scrollVertical toggled" title="Use Vertical Scrolling" tabindex="62" data-l10n-id="scroll_vertical">\n              <span data-l10n-id="scroll_vertical_label">Vertical Scrolling</span>\n            </button>\n            <button id="scrollHorizontal" class="secondaryToolbarButton scrollModeButtons scrollHorizontal" title="Use Horizontal Scrolling" tabindex="63" data-l10n-id="scroll_horizontal">\n              <span data-l10n-id="scroll_horizontal_label">Horizontal Scrolling</span>\n            </button>\n            <button id="scrollWrapped" class="secondaryToolbarButton scrollModeButtons scrollWrapped" title="Use Wrapped Scrolling" tabindex="64" data-l10n-id="scroll_wrapped">\n              <span data-l10n-id="scroll_wrapped_label">Wrapped Scrolling</span>\n            </button>\n\n            <div class="horizontalToolbarSeparator scrollModeButtons"></div>\n\n            <button id="spreadNone" class="secondaryToolbarButton spreadModeButtons spreadNone toggled" title="Do not join page spreads" tabindex="65" data-l10n-id="spread_none">\n              <span data-l10n-id="spread_none_label">No Spreads</span>\n            </button>\n            <button id="spreadOdd" class="secondaryToolbarButton spreadModeButtons spreadOdd" title="Join page spreads starting with odd-numbered pages" tabindex="66" data-l10n-id="spread_odd">\n              <span data-l10n-id="spread_odd_label">Odd Spreads</span>\n            </button>\n            <button id="spreadEven" class="secondaryToolbarButton spreadModeButtons spreadEven" title="Join page spreads starting with even-numbered pages" tabindex="67" data-l10n-id="spread_even">\n              <span data-l10n-id="spread_even_label">Even Spreads</span>\n            </button>\n\n            <div class="horizontalToolbarSeparator spreadModeButtons"></div>\n\n            <button id="documentProperties" class="secondaryToolbarButton documentProperties" title="Document Properties…" tabindex="68" data-l10n-id="document_properties">\n              <span data-l10n-id="document_properties_label">Document Properties…</span>\n            </button>\n          </div>\n        </div>  \x3c!-- secondaryToolbar --\x3e\n\n        <div class="toolbar">\n          <div id="toolbarContainer">\n            <div id="toolbarViewer">\n              <div id="toolbarViewerLeft">\n                <button id="sidebarToggle" class="toolbarButton" title="Toggle Sidebar" tabindex="11" data-l10n-id="toggle_sidebar">\n                  <span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span>\n                </button>\n                <div class="toolbarButtonSpacer"></div>\n                <button id="viewFind" class="toolbarButton" title="Find in Document" tabindex="12" data-l10n-id="findbar">\n                  <span data-l10n-id="findbar_label">Find</span>\n                </button>\n                <div class="splitToolbarButton hiddenSmallView">\n                  <button class="toolbarButton pageUp" title="Previous Page" id="previous" tabindex="13" data-l10n-id="previous">\n                    <span data-l10n-id="previous_label">Previous</span>\n                  </button>\n                  <div class="splitToolbarButtonSeparator"></div>\n                  <button class="toolbarButton pageDown" title="Next Page" id="next" tabindex="14" data-l10n-id="next">\n                    <span data-l10n-id="next_label">Next</span>\n                  </button>\n                </div>\n                <input type="number" id="pageNumber" class="toolbarField pageNumber" title="Page" value="1" size="4" min="1" tabindex="15" data-l10n-id="page">\n                <span id="numPages" class="toolbarLabel"></span>\n              </div>\n              <div id="toolbarViewerRight">\n                <button id="presentationMode" class="toolbarButton presentationMode hiddenLargeView" title="Switch to Presentation Mode" tabindex="31" data-l10n-id="presentation_mode">\n                  <span data-l10n-id="presentation_mode_label">Presentation Mode</span>\n                </button>\n\n                <button id="openFile" class="toolbarButton openFile hiddenLargeView" title="Open File" tabindex="32" data-l10n-id="open_file">\n                  <span data-l10n-id="open_file_label">Open</span>\n                </button>\n\n                <button id="print" class="toolbarButton print hiddenMediumView" title="Print" tabindex="33" data-l10n-id="print">\n                  <span data-l10n-id="print_label">Print</span>\n                </button>\n\n                <button id="download" class="toolbarButton download hiddenMediumView" title="Download" tabindex="34" data-l10n-id="download">\n                  <span data-l10n-id="download_label">Download</span>\n                </button>\n                <a href="#" id="viewBookmark" class="toolbarButton bookmark hiddenSmallView" title="Current view (copy or open in new window)" tabindex="35" data-l10n-id="bookmark">\n                  <span data-l10n-id="bookmark_label">Current View</span>\n                </a>\n\n                <div class="verticalToolbarSeparator hiddenSmallView"></div>\n\n                <button id="secondaryToolbarToggle" class="toolbarButton" title="Tools" tabindex="36" data-l10n-id="tools">\n                  <span data-l10n-id="tools_label">Tools</span>\n                </button>\n              </div>\n              <div id="toolbarViewerMiddle">\n                <div class="splitToolbarButton">\n                  <button id="zoomOut" class="toolbarButton zoomOut" title="Zoom Out" tabindex="21" data-l10n-id="zoom_out">\n                    <span data-l10n-id="zoom_out_label">Zoom Out</span>\n                  </button>\n                  <div class="splitToolbarButtonSeparator"></div>\n                  <button id="zoomIn" class="toolbarButton zoomIn" title="Zoom In" tabindex="22" data-l10n-id="zoom_in">\n                    <span data-l10n-id="zoom_in_label">Zoom In</span>\n                   </button>\n                </div>\n                <span id="scaleSelectContainer" class="dropdownToolbarButton">\n                  <select id="scaleSelect" title="Zoom" tabindex="23" data-l10n-id="zoom">\n                    <option id="pageAutoOption" title="" value="auto" selected="selected" data-l10n-id="page_scale_auto">Automatic Zoom</option>\n                    <option id="pageActualOption" title="" value="page-actual" data-l10n-id="page_scale_actual">Actual Size</option>\n                    <option id="pageFitOption" title="" value="page-fit" data-l10n-id="page_scale_fit">Page Fit</option>\n                    <option id="pageWidthOption" title="" value="page-width" data-l10n-id="page_scale_width">Page Width</option>\n                    <option id="customScaleOption" title="" value="custom" disabled="disabled" hidden="true"></option>\n                    <option title="" value="0.5" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 50 }\'>50%</option>\n                    <option title="" value="0.75" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 75 }\'>75%</option>\n                    <option title="" value="1" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 100 }\'>100%</option>\n                    <option title="" value="1.25" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 125 }\'>125%</option>\n                    <option title="" value="1.5" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 150 }\'>150%</option>\n                    <option title="" value="2" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 200 }\'>200%</option>\n                    <option title="" value="3" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 300 }\'>300%</option>\n                    <option title="" value="4" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 400 }\'>400%</option>\n                  </select>\n                </span>\n              </div>\n            </div>\n            <div id="loadingBar">\n              <div class="progress">\n                <div class="glimmer">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <menu type="context" id="viewerContextMenu">\n          <menuitem id="contextFirstPage" label="First Page"\n                    data-l10n-id="first_page"></menuitem>\n          <menuitem id="contextLastPage" label="Last Page"\n                    data-l10n-id="last_page"></menuitem>\n          <menuitem id="contextPageRotateCw" label="Rotate Clockwise"\n                    data-l10n-id="page_rotate_cw"></menuitem>\n          <menuitem id="contextPageRotateCcw" label="Rotate Counter-Clockwise"\n                    data-l10n-id="page_rotate_ccw"></menuitem>\n        </menu>\n\n        <div id="viewerContainer" tabindex="0">\n          <div id="viewer" class="pdfViewer"></div>\n        </div>\n\n        <div id="errorWrapper" hidden=\'true\'>\n          <div id="errorMessageLeft">\n            <span id="errorMessage"></span>\n            <button id="errorShowMore" data-l10n-id="error_more_info">\n              More Information\n            </button>\n            <button id="errorShowLess" data-l10n-id="error_less_info" hidden=\'true\'>\n              Less Information\n            </button>\n          </div>\n          <div id="errorMessageRight">\n            <button id="errorClose" data-l10n-id="error_close">\n              Close\n            </button>\n          </div>\n          <div class="clearBoth"></div>\n          <textarea id="errorMoreInfo" hidden=\'true\' readonly="readonly"></textarea>\n        </div>\n      </div> \x3c!-- mainContainer --\x3e\n\n      <div id="overlayContainer" class="hidden">\n        <div id="passwordOverlay" class="container hidden">\n          <div class="dialog">\n            <div class="row">\n              <p id="passwordText" data-l10n-id="password_label">Enter the password to open this PDF file:</p>\n            </div>\n            <div class="row">\n              <input type="password" id="password" class="toolbarField">\n            </div>\n            <div class="buttonRow">\n              <button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">Cancel</span></button>\n              <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">OK</span></button>\n            </div>\n          </div>\n        </div>\n        <div id="documentPropertiesOverlay" class="container hidden">\n          <div class="dialog">\n            <div class="row">\n              <span data-l10n-id="document_properties_file_name">File name:</span> <p id="fileNameField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_file_size">File size:</span> <p id="fileSizeField">-</p>\n            </div>\n            <div class="separator"></div>\n            <div class="row">\n              <span data-l10n-id="document_properties_title">Title:</span> <p id="titleField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_author">Author:</span> <p id="authorField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_subject">Subject:</span> <p id="subjectField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_keywords">Keywords:</span> <p id="keywordsField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_creation_date">Creation Date:</span> <p id="creationDateField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_modification_date">Modification Date:</span> <p id="modificationDateField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_creator">Creator:</span> <p id="creatorField">-</p>\n            </div>\n            <div class="separator"></div>\n            <div class="row">\n              <span data-l10n-id="document_properties_producer">PDF Producer:</span> <p id="producerField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_version">PDF Version:</span> <p id="versionField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_page_count">Page Count:</span> <p id="pageCountField">-</p>\n            </div>\n            <div class="row">\n              <span data-l10n-id="document_properties_page_size">Page Size:</span> <p id="pageSizeField">-</p>\n            </div>\n            <div class="separator"></div>\n            <div class="row">\n              <span data-l10n-id="document_properties_linearized">Fast Web View:</span> <p id="linearizedField">-</p>\n            </div>\n            <div class="buttonRow">\n              <button id="documentPropertiesClose" class="overlayButton"><span data-l10n-id="document_properties_close">Close</span></button>\n            </div>\n          </div>\n        </div>\n\x3c!--#if !(FIREFOX || MOZCENTRAL)--\x3e\n        <div id="printServiceOverlay" class="container hidden">\n          <div class="dialog">\n            <div class="row">\n              <span data-l10n-id="print_progress_message">Preparing document for printing…</span>\n            </div>\n            <div class="row">\n              <progress value="0" max="100"></progress>\n              <span data-l10n-id="print_progress_percent" data-l10n-args=\'{ "progress": 0 }\' class="relative-progress">0%</span>\n            </div>\n            <div class="buttonRow">\n              <button id="printCancel" class="overlayButton"><span data-l10n-id="print_progress_close">Cancel</span></button>\n            </div>\n          </div>\n        </div>\n\x3c!--#endif--\x3e\n\x3c!--#if CHROME--\x3e\n\x3c!--#include viewer-snippet-chrome-overlays.html--\x3e\n\x3c!--#endif--\x3e\n      </div>  \x3c!-- overlayContainer --\x3e\n\n    </div> \x3c!-- outerContainer --\x3e\n    <div id="printContainer"></div>\n </div> \x3c!-- pdfjs-viewer --\x3e\n    ').replace('div class="progress"','div class="progress indeterminate" style="width:100%;"')}}}])}(a.a.Component);function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ar(r.key),r)}}function Nr(e,t,n){return t&&kr(e.prototype,t),n&&kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cr(e,t,n){return t=Dr(t),function(e,t){if(t&&("object"==Sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Dr(e).constructor):t.apply(e,n))}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rr(e,t)}function Rr(e,t){return(Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xr(e,t,n){return(t=Ar(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e){var t=function(e,t){if("object"!=Sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sr(t)?t:t+""}var Br=function(e){function t(){var e;Pr(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xr(e=Cr(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",{id:"hypothesis-placeholder"})})),e}return Tr(t,e),Nr(t,[{key:"componentDidMount",value:function(){var e=this,t=!1,n=0;this.pdfWatch=setInterval((function(){!t&&e.destroyHypothesis()&&(t=!0,n=800);var r=document.querySelectorAll("#pdfjs-viewer .page");r&&0!=r.length&&(clearInterval(e.pdfWatch),e.pdfWatch=null,setTimeout((function(){var e=document.createElement("script");window.hypothesisConfig=function(){return{app:"https://hypothes.is/app.html"}},e.src="https://hypothes.is/embed.js",console.log("Installing Hypothesis."),document.head.appendChild(e)}),n))}),200)}},{key:"destroyHypothesis",value:function(){var e=document.querySelector('link[type="application/annotator+html"]');return!!e&&(console.log("Destroying Hypothesis."),setTimeout((function(){var t=new Event("destroy");e.dispatchEvent(t);for(var n=document.querySelectorAll("script.js-hypothesis-config"),r=0;r<n.length;r++)n[r].remove()}),500),!0)}},{key:"componentWillUnmount",value:function(){this.pdfWatch&&(clearInterval(this.pdfWatch),this.pdfWatch=null),this.destroyHypothesis()}}])}(a.a.Component),qr=function(e){function t(){var e;Pr(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return xr(e=Cr(this,t,[].concat(r)),"view",(function(){if(e.props.download_restricted)alert("Download restricted until "+e.props.download_restricted);else{var t=e.props.url.indexOf("?")>=0?"&":"?";window.location=e.props.url+t+"v=lg"+(e.props.preview_key?"&preview_key="+e.props.preview_key:"")}})),e}return Tr(t,e),Nr(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.url==e.url)}},{key:"render",value:function(){var e=this,t=this.props.url.indexOf("?")>=0?"&":"?",n=this.props.url+(this.props.preview_key?t+"preview_key="+this.props.preview_key:"");return a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement(k,{name:"article_main"}),a.a.createElement("summary",null,"Main Content"),a.a.createElement("div",{className:"c-pdfview"},a.a.createElement("button",{onClick:function(){e.view()},className:"c-pdfview__button-download"},"Download PDF to View"),a.a.createElement("button",{onClick:function(){e.view()},className:"c-pdfview__button-view"},"View Larger")),!this.props.download_restricted&&a.a.createElement("div",{className:"c-pdfview__accessibility"},"For improved accessibility of PDF content, ",a.a.createElement("a",{href:n},"download the file")," to your device."),a.a.createElement("div",{className:"c-pdfview__viewer"},a.a.createElement(jr,{url:this.props.url.replace(".pdf","_noSplash_"+this.props.content_key+".pdf")+(this.props.preview_key?t+"preview_key="+this.props.preview_key:"")})),this.props.commenting_ok&&a.a.createElement(Br,null))}}])}(a.a.Component);function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lr(r.key),r)}}function Lr(e){var t=function(e,t){if("object"!=Mr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mr(t)?t:t+""}function Ur(e,t,n){return t=zr(t),function(e,t){if(t&&("object"==Mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],zr(e).constructor):t.apply(e,n))}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vr(e,t){return(Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Wr=function(e){function t(){return Ir(this,t),Ur(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vr(e,t)}(t,e),function(e,t,n){return t&&Fr(e.prototype,t),n&&Fr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e={audio:"Audio",data:"Others",doc:"Documents",image:"Images",video:"Videos"};return a.a.createElement("div",{className:"c-itemactions"},a.a.createElement("div",{className:"o-input__droplist2"},a.a.createElement("label",{htmlFor:"o-input__droplist-label2"},"Refine media type by:"),a.a.createElement("select",{name:"filterType",id:"o-input__droplist-label2",onChange:this.props.changeType,value:this.props.filterType},a.a.createElement("option",{value:""},"All"),this.props.mimeTypes.map((function(t){return a.a.createElement("option",{key:t,value:t},e[t])})))),a.a.createElement("div",{className:"o-download"}))}}])}(a.a.Component);function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$r(r.key),r)}}function $r(e){var t=function(e,t){if("object"!=Hr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hr(t)?t:t+""}function Yr(e,t,n){return t=Zr(t),function(e,t){if(t&&("object"==Hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Zr(e).constructor):t.apply(e,n))}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kr(e,t){return(Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Qr=function(e){function t(){return Jr(this,t),Yr(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kr(e,t)}(t,e),function(e,t,n){return t&&Gr(e.prototype,t),n&&Gr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"o-mediafeature--"+this.props.type},a.a.createElement("h2",null,this.props.title),function(){switch(e.props.type){case"image":return a.a.createElement("div",{className:"o-mediafeature__item"},a.a.createElement("img",{src:e.props.url,alt:e.props.title}));case"video":return a.a.createElement("div",{className:"o-mediafeature__item"},a.a.createElement("video",{src:e.props.url,controls:!0,poster:oe.a+"logo_eschol-media-thumbnail.png"}));case"audio":return a.a.createElement("div",{className:"o-mediafeature__item"},a.a.createElement("audio",{src:e.props.url,controls:!0}));default:return a.a.createElement("div",{className:"o-mediafeature__item"},a.a.createElement("strong",null,"No preview available"),a.a.createElement("a",{className:"o-textlink__left-icon",href:e.props.url,download:e.props.file},"Download ",e.props.title))}}(),a.a.createElement("div",{className:"o-mediafeature__description"},this.props.description),a.a.createElement("a",{href:"{this.props.doi}",className:"o-mediafeature__doi"},this.props.doi))}}])}(a.a.Component);function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oa(r.key),r)}}function na(e,t,n){return t=ra(t),function(e,t){if(t&&("object"==Xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ra(e).constructor):t.apply(e,n))}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){return(aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oa(e){var t=function(e,t){if("object"!=Xr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xr(t)?t:t+""}var ia=function(e){function t(){return ea(this,t),na(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aa(e,t)}(t,e),function(e,t,n){return t&&ta(e.prototype,t),n&&ta(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){dn()(".o-mediafile__heading, .o-mediafile__description").dotdotdot({watch:"window"})}},{key:"render",value:function(){var e=this.props,t={audio:"play audio file",image:"view larger",video:"play video file"},n=t[e.mimeSimple]?t[e.mimeSimple]:e.file;return a.a.createElement("div",{className:e.isSelected?"o-mediafile--"+e.mimeSimple+"--selected":"o-mediafile--"+e.mimeSimple},a.a.createElement("h2",{className:"o-mediafile__heading"},e.title),"image"==e.mimeSimple?a.a.createElement("div",{className:"o-mediafile__preview",href:e.url,onClick:e.openViewer},a.a.createElement("img",{src:e.url,alt:e.title})):a.a.createElement("div",{className:"o-mediafile__preview",href:e.url,"aria-label":n,onClick:e.openViewer}),a.a.createElement("div",{className:"o-mediafile__description"},e.description),a.a.createElement("button",{className:"o-mediafile__view",onClick:e.openViewer},a.a.createElement("span",null,"View Media")),a.a.createElement("a",{href:e.url,className:"o-mediafile__download",download:e.file},"Download"))}}])}(a.a.Component);!function(e,t,n){(t=oa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ia,"propTypes",{mimeSimple:d.a.string.isRequired,title:d.a.string.isRequired,file:d.a.string.isRequired,description:d.a.string,url:d.a.string.isRequired,isSelected:d.a.bool.isRequired,openViewer:d.a.any.isRequired});var ca=ia;function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e){return function(e){if(Array.isArray(e))return pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sa(e,t){if(e){if("string"==typeof e)return pa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(e,t):void 0}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,va(r.key),r)}}function da(e,t,n){return t=ba(t),function(e,t){if(t&&("object"==la(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ba(e).constructor):t.apply(e,n))}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){return(ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ha(e,t,n){return(t=va(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e){var t=function(e,t){if("object"!=la(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==la(t)?t:t+""}var ga=function(e){function t(){var e;fa(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ha(e=da(this,t,[].concat(r)),"state",{filterType:"",mediaFeature:null,featureFile:"",featureUrl:"",featureMimesimple:"",featureTitle:"",featureDescription:""}),ha(e,"changeType",(function(t){e.setState({filterType:t.target.value})})),ha(e,"openViewer",(function(t,n,r,a,o,i){e.setState({mediaFeature:t,featureFile:n,featureUrl:r,featureMimesimple:a,featureTitle:o,featureDescription:i}),e.mediaViewerFeature.focus(),e.mediaViewerFeature.scrollIntoView({behavior:"smooth"})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ya(e,t)}(t,e),function(e,t,n){return t&&ma(e.prototype,t),n&&ma(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getVisibleFiles",value:function(e,t){var n=this,r=!1,o=e.map((function(e,o){var i=e.title,c=e.description;e.title||(i=c,c="",e.description||(i=e.file));var l,u={audio:1,data:2,image:3,video:4},s="doc"==e.mimeSimple?"data":e.mimeSimple;if(e.mimeSimple.includes(t)||""==t){var p=(n.props.preview_key?"/preview/":"/content/")+"qt"+n.props.id+"/supp/"+e.file+(n.props.preview_key?"?preview_key="+n.props.preview_key:"");l=a.a.createElement(ca,{key:o,mimeSimple:s,title:i,file:e.file,description:c,url:p,isSelected:n.state.mediaFeature==u[s],openViewer:function(){return n.openViewer(u[s],e.file,p,s,i,c)}})}return l&&(r=!0),l}));return!!r&&o}},{key:"render",value:function(){var e=this,t=this.props.supp_files,n=[],r=[];if(t){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=sa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(t);try{for(i.s();!(o=i.n()).done;){var c=o.value,l="data";if(c.mimeType&&"unknown"!=c.mimeType){var u=c.mimeType.split("/");l="text"==u[0]||"application"==u[0]&&["pdf","msword","postscript","wordperfect","pdf"].includes(u[1])?"doc":"image"==u[0]&&["jpeg","jpg","png","gif"].includes(u[1])?"image":["music","audio"].includes(u[0])?"audio":["video"].includes(u[0])?u[0]:"data"}c.mimeSimple=l,n.push(c)}}catch(e){i.e(e)}finally{i.f()}r=ua(new Set(n.map((function(e){return e.mimeSimple}))))}var s=this.getVisibleFiles(n,this.state.filterType);return a.a.createElement("div",{className:"c-mediaviewer"},a.a.createElement("div",{className:"c-mediaviewer__feature",ref:function(t){return e.mediaViewerFeature=t},tabIndex:"-1"},this.state.mediaFeature&&""!=this.state.mediaFeature?a.a.createElement(Qr,{file:this.state.featureFile,url:this.state.featureUrl,type:this.state.featureMimesimple,title:this.state.featureTitle,description:this.state.featureDescription}):null),n&&n.length>1&&r.length>1&&a.a.createElement(Wr,{mimeTypes:r,filterType:this.state.filterType,changeType:this.changeType}),n?a.a.createElement("div",{className:"c-mediafilegrid"},s||a.a.createElement("p",null,"No files found matching that mime type.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))):a.a.createElement("div",{className:"c-mediafilegrid"},"No supplemental material included with this item"))}}])}(a.a.Component);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ka(r.key),r)}}function Oa(e,t,n){return t=ja(t),function(e,t){if(t&&("object"==Ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ja(e).constructor):t.apply(e,n))}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sa(e,t){return(Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pa(e,t,n){return(t=ka(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e){var t=function(e,t){if("object"!=Ea(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ea(t)?t:t+""}var Na=function(e){function t(){var e;_a(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Pa(e=Oa(this,t,[].concat(r)),"view",(function(){window.location=e.props.pub_web_loc})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sa(e,t)}(t,e),function(e,t,n){return t&&wa(e.prototype,t),n&&wa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"c-viewexternal"},a.a.createElement("button",{onClick:function(){e.view()},className:"c-viewexternal__action"},"View on External Site"),a.a.createElement("div",{className:"c-viewexternal__text"},"Item not freely available? Link broken?"),a.a.createElement("a",{href:"https://help.escholarship.org/support/tickets/new",className:"c-viewexternal__report-link"},"Report a problem accessing this item"))}}])}(a.a.Component);function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t,n){return(t=Aa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aa(r.key),r)}}function xa(e,t,n){return t&&Ra(e.prototype,t),n&&Ra(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aa(e){var t=function(e,t){if("object"!=Ca(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ca(t)?t:t+""}function Ba(e,t,n){return t=qa(t),function(e,t){if(t&&("object"==Ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],qa(e).constructor):t.apply(e,n))}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ia(e,t)}function Ia(e,t){return(Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Fa=function(e){function t(){return Ta(this,t),Ba(this,t,arguments)}return Ma(t,e),xa(t,[{key:"render",value:function(){return a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Abstract"),a.a.createElement(Zn.a,{html:this.props.abstract,p_wrap:!0,h1Level:3}),this.props.unit&&this.props.unit.id.match(/^.*_postprints/)&&a.a.createElement("p",{className:"o-well-colored"},"Many UC-authored scholarly publications are freely available on this site because of the UC's ",a.a.createElement("a",{href:"https://osc.universityofcalifornia.edu/open-access-at-uc/open-access-policy/"},"open access policies"),". ",a.a.createElement("a",{href:"https://help.escholarship.org/support/tickets/new"},"Let us know how this access is important for you.")))}}])}(a.a.Component),La=function(e){function t(){var e;Ta(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Da(e=Ba(this,t,[].concat(r)),"renderHtml",(function(e){return a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement(k,{name:"article_main"}),a.a.createElement("summary",null,"Main Content"),a.a.createElement(Zn.a,{html:e.content_html,h1Level:3}),a.a.createElement("br",null),a.a.createElement("br",null))})),e}return Ma(t,e),xa(t,[{key:"render",value:function(){var e=this.props;switch(e.status){case"empty":return a.a.createElement(Va,null);case"published":case"pending":return e.content_type?"application/pdf"==e.content_type?a.a.createElement(qr,{url:e.pdf_url,content_key:e.content_key,download_restricted:e.download_restricted,commenting_ok:e.commenting_ok,preview_key:e.preview_key}):"text/html"==e.content_type?this.renderHtml(e):raise("unknown content_type '"+e.content_type+"'"):e.attrs.pub_web_loc&&e.attrs.pub_web_loc.length>0?a.a.createElement(Va,{pub_web_loc:e.attrs.pub_web_loc,supp_files:e.attrs.supp_files,changeTab:e.changeTab}):e.attrs.supp_files&&e.attrs.supp_files.length>0?a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Main Content"),a.a.createElement(ga,{id:this.props.id,supp_files:this.props.attrs.supp_files,preview_key:this.props.preview_key})):a.a.createElement(Ua,{message:"This item is not available from eScholarship."});case"withdrawn":case"withdrawn-junk":return a.a.createElement(Ua,{message:e.attrs.withdrawn_message});case"embargoed":return a.a.createElement(za,{date:e.attrs.embargo_date,pub_web_loc:e.attrs.pub_web_loc,formatDate:e.formatDate});default:throw"unknown status '"+e.status+"'"}}}])}(a.a.Component),Ua=function(e){function t(){return Ta(this,t),Ba(this,t,arguments)}return Ma(t,e),xa(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("br",null)),a.a.createElement("div",{className:"o-itemunavailable__withdrawn"},this.props.message?a.a.createElement("p",{className:"o-itemunavailable__lede"},this.props.message):a.a.createElement("p",{className:"o-itemunavailable__lede"},"This item has been withdrawn and is ",a.a.createElement("strong",null,"no longer available"),".")))}}])}(a.a.Component),za=function(e){function t(){return Ta(this,t),Ba(this,t,arguments)}return Ma(t,e),xa(t,[{key:"render",value:function(){var e=this.props.formatDate(this.props.date);return a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Main Content"),a.a.createElement("div",{className:"o-itemunavailable__embargoed"},a.a.createElement("h3",{className:"o-itemunavailable__lede"},"This item is under embargo until",a.a.createElement("strong",null," ",e),"."),this.props.pub_web_loc&&this.props.pub_web_loc.length>0&&[a.a.createElement("p",{key:"0"},"You may have access to the publisher's version here:"),a.a.createElement("a",{key:"1",href:this.props.pub_web_loc[0],className:"o-textlink__secondary"},this.props.pub_web_loc[0]),a.a.createElement("a",{key:"2",href:"",className:"o-textlink__secondary"},"Notify me by email when this item becomes available")]))}}])}(a.a.Component),Va=function(e){function t(){return Ta(this,t),Ba(this,t,arguments)}return Ma(t,e),xa(t,[{key:"handleClick",value:function(e,t){e.preventDefault(),this.props.changeTab(t)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,this.props.pub_web_loc&&this.props.pub_web_loc.length>0&&a.a.createElement(Na,{pub_web_loc:this.props.pub_web_loc[0]}),this.props.supp_files&&this.props.supp_files.length>0&&a.a.createElement("div",{style:{paddingLeft:"25px"}},a.a.createElement("br",null),a.a.createElement("br",null),"All content for this item is under the ",a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"supplemental")},className:"o-textlink__secondary"},"Supplemental Material")," tab."),!this.props.pub_web_loc&&!this.props.supp_files&&a.a.createElement("div",{style:{paddingLeft:"25px"}},a.a.createElement("br",null),a.a.createElement("br",null),"The text for this item is currently unavailable."),a.a.createElement("p",null," "),a.a.createElement("p",null," "),a.a.createElement("p",null," "))}}])}(a.a.Component),Wa=function(e){function t(){return Ta(this,t),Ba(this,t,arguments)}return Ma(t,e),xa(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-tabcontent"},this.props.attrs.abstract&&!/withdrawn/.test(this.props.status)&&[a.a.createElement(k,{key:"0",name:"article_abstract"}),a.a.createElement(Fa,{key:"1",status:e.status,abstract:e.attrs.abstract,unit:e.unit})],a.a.createElement(La,e))}}])}(a.a.Component);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$a(r.key),r)}}function $a(e){var t=function(e,t){if("object"!=Ha(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ha(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ha(t)?t:t+""}function Ya(e,t,n){return t=Za(t),function(e,t){if(t&&("object"==Ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Za(e).constructor):t.apply(e,n))}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Qa=function(e){function t(){return Ja(this,t),Ya(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ka(e,t)}(t,e),function(e,t,n){return t&&Ga(e.prototype,t),n&&Ga(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-modal"},a.a.createElement(f.a,{isOpen:this.props.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.props.handleCloseModal,className:"c-modal--open",overlayClassName:"c-modal__overlay"},a.a.createElement("div",{className:"modal__header"},a.a.createElement("button",{className:"c-modal__header-close",onClick:this.props.handleCloseModal},a.a.createElement("span",null,"Close"))),a.a.createElement("div",{className:"modal__content"},this.props.children)))}}])}(a.a.Component);function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lo(r.key),r)}}function no(e,t,n){return t&&to(e.prototype,t),n&&to(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ro(e,t,n){return t=ao(t),function(e,t){if(t&&("object"==Xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ao(e).constructor):t.apply(e,n))}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&io(e,t)}function io(e,t){return(io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function co(e,t,n){return(t=lo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e){var t=function(e,t){if("object"!=Xa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xa(t)?t:t+""}if("undefined"!=typeof document)n(26);var uo=function(e){function t(){var e;eo(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return co(e=ro(this,t,[].concat(r)),"state",{showModal:!1}),co(e,"handleOpenModal",(function(){return e.setState({showModal:!0})})),co(e,"handleCloseModal",(function(){return e.setState({showModal:!1})})),e}return oo(t,e),no(t,[{key:"render",value:function(){var e=this.props,t=(e.preview_key?"/preview/":"/content/")+"qt"+e.id+"/supp/"+e.file+(e.preview_key?"?preview_key="+e.preview_key:""),n="doc"==e.mimeSimple?"data":e.mimeSimple,r={audio:"play audio file",image:"view larger",video:"play video file"},o=r[n]?r[n]:e.file;return a.a.createElement("div",{className:"o-mediafile--"+n},a.a.createElement("h2",{className:"o-mediafile__heading",ref:function(t){e.title&&e.title.length>38&&dn()(t).dotdotdot({watch:"window"})}},e.title),a.a.createElement("div",{className:"o-mediafile__preview",onClick:this.handleOpenModal,"aria-label":o,target:"_blank"},"image"==n&&a.a.createElement("img",{className:"o-mediafile__image",src:t,alt:e.file})),a.a.createElement("div",{className:"o-mediafile__description",ref:function(t){e.description&&e.description.length>0&&dn()(t).dotdotdot({watch:"window"})}},e.description),a.a.createElement("button",{className:"o-mediafile__view",onClick:this.handleOpenModal},a.a.createElement("span",null,"View Media")),a.a.createElement("a",{href:t,className:"o-mediafile__download",download:e.file},"Download"),a.a.createElement("a",{href:e.doi,className:"o-mediafile__doi"},e.doi),a.a.createElement(Qa,{showModal:this.state.showModal,handleCloseModal:this.handleCloseModal},a.a.createElement(Qr,{file:e.file,url:t,type:n,title:e.title,description:e.description,doi:e.doi})))}}])}(a.a.Component),so=function(e){function t(){return eo(this,t),ro(this,t,arguments)}return oo(t,e),no(t,[{key:"getVisibleFiles",value:function(e,t){var n=this,r=!1,o=e.map((function(e,o){var i=e.title,c=(e.doi,e.description),l=!1;e.title||(i=c,c="",e.description||(l=!0,i=e.file));var u=(e.mimeSimple.includes(t)||""==t)&&a.a.createElement(uo,{key:o,id:n.props.id,mimeSimple:e.mimeSimple,title:i,file:e.file,doi:e.doi,description:c,useFilenameForTitle:l,preview_key:n.props.preview_key});return u&&(r=!0),u}));return!!r&&o}},{key:"render",value:function(){var e=this.getVisibleFiles(this.props.supp_files,this.props.filterType);return a.a.createElement("div",{className:"c-mediafilegrid"},e||a.a.createElement("p",null,"No files found matching that mime type.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null)))}}])}(a.a.Component);function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e){return function(e){if(Array.isArray(e))return bo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){if(e){if("string"==typeof e)return bo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bo(e,t):void 0}}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wo(r.key),r)}}function vo(e,t,n){return t=go(t),function(e,t){if(t&&("object"==po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],go(e).constructor):t.apply(e,n))}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){return(Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _o(e,t,n){return(t=wo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wo(e){var t=function(e,t){if("object"!=po(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=po(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==po(t)?t:t+""}var Oo=function(e){function t(){var e;yo(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return _o(e=vo(this,t,[].concat(r)),"state",{filterType:""}),_o(e,"changeType",(function(t){e.setState({filterType:t.target.value})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eo(e,t)}(t,e),function(e,t,n){return t&&ho(e.prototype,t),n&&ho(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props.attrs.supp_files,t=[],n=[];if(e){var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.doi&&!i.doi.startsWith("http")&&(i.doi="https://doi.org/"+i.doi);var c="data";if(i.mimeType&&"unknown"!=i.mimeType){var l=i.mimeType.split("/");c="text"==l[0]||"application"==l[0]&&["pdf","msword","postscript","wordperfect","pdf"].includes(l[1])?"doc":"image"==l[0]&&["jpeg","jpg","png","gif"].includes(l[1])?"image":["music","audio"].includes(l[0])?"audio":["video"].includes(l[0])?l[0]:"data"}i.mimeSimple=c,i.doi=i.doi,t.push(i)}}catch(e){o.e(e)}finally{o.f()}n=fo(new Set(t.map((function(e){return e.mimeSimple}))))}return a.a.createElement("div",{className:"c-tabcontent"},a.a.createElement("h1",{className:"c-tabcontent__main-heading",tabIndex:"-1"},"Supplemental Material"),t&&t.length>1&&n.length>1&&a.a.createElement(Wr,{mimeTypes:n,filterType:this.state.filterType,changeType:this.changeType}),t?a.a.createElement(so,{id:this.props.id,supp_files:t,filterType:this.state.filterType,preview_key:this.props.preview_key}):a.a.createElement("div",null,"No supplemental material included with this item"))}}])}(a.a.Component),jo=n(42);function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t,n){return(t=Do(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Do(r.key),r)}}function Co(e,t,n){return t&&No(e.prototype,t),n&&No(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Do(e){var t=function(e,t){if("object"!=So(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=So(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==So(t)?t:t+""}function To(e,t,n){return t=Ro(t),function(e,t){if(t&&("object"==So(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ro(e).constructor):t.apply(e,n))}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ao(e,t)}function Ao(e,t){return(Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(e){function t(){return ko(this,t),To(this,t,arguments)}return xo(t,e),Co(t,[{key:"render",value:function(){var e=jo.a.sumValueTotals(this.props.usage,"hits"),t=e.toLocaleString(),n=this.props.usage.length>0?Math.round(e/this.props.usage.length).toLocaleString():0,r=jo.a.sumValueTotals(this.props.usage,"downloads"),o=r.toLocaleString(),i=this.props.usage.length>0?Math.round(r/this.props.usage.length).toLocaleString():0;return a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",null,a.a.createElement("caption",null,"Total Usage"),a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Actions"),a.a.createElement("th",{scope:"col"},"Total"),a.a.createElement("th",{scope:"col"},"Monthly Average"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"Hits"),a.a.createElement("td",null,t),a.a.createElement("td",null,n)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"Downloads"),a.a.createElement("td",null,o),a.a.createElement("td",null,i)))))}}])}(a.a.Component),qo=function(e){function t(){var e;ko(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Po(e=To(this,t,[].concat(r)),"getMonth",(function(e,t){var n=e.length;return 0==n?"":(t>n&&(t=n),(n<12?e:e.slice(-12))[t-1].month)})),Po(e,"state",{from:e.getMonth(e.props.usage,1),to:e.getMonth(e.props.usage,12)}),Po(e,"changeFrom",(function(t){e.setState({from:t.target.value})})),Po(e,"changeTo",(function(t){e.setState({to:t.target.value})})),e}return xo(t,e),Co(t,[{key:"render",value:function(){var e=this,t=this.props.usage.map((function(e){return e.month})),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=t.map((function(e,t){return a.a.createElement("option",{key:t,value:e},(r=e.split("-"),n[parseInt(r[1])-1]+" "+r[0]));var r})),o=this.props.usage.map((function(t,n){if(t.month>=e.state.from&&t.month<=e.state.to)return a.a.createElement("tr",{key:n},a.a.createElement("th",{scope:"row"},t.month),a.a.createElement("td",null,t.hits.toLocaleString()),a.a.createElement("td",null,t.downloads.toLocaleString()))}));return a.a.createElement("div",null,a.a.createElement("h2",{className:"o-heading3"},"By Month"),a.a.createElement("div",{className:"c-itemactions"},a.a.createElement("div",{className:"o-input__droplist2"},a.a.createElement("label",{htmlFor:"o-input__droplist-label2"},"From:"),a.a.createElement("select",{name:"",id:"o-input__droplist-label2",onChange:this.changeFrom,value:this.state.from},r)),a.a.createElement("div",{className:"o-input__droplist2"},a.a.createElement("label",{htmlFor:"o-input__droplist-label2"},"To:"),a.a.createElement("select",{name:"",id:"o-input__droplist-label2",onChange:this.changeTo,value:this.state.to},r))),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Month"),a.a.createElement("th",{scope:"col"},"Hits"),a.a.createElement("th",{scope:"col"},"Downloads"))),a.a.createElement("tbody",null,o))))}}])}(a.a.Component),Mo=function(e){function t(){var e;ko(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Po(e=To(this,t,[].concat(r)),"state",{altmetrics_nodata:!1,dimensions_nodata:!1}),Po(e,"scripts",["https://badge.dimensions.ai/badge.js","https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"]),e}return xo(t,e),Co(t,[{key:"componentDidMount",value:function(){var e=this;"undefined"!=typeof document&&(this.scripts.forEach((function(e){var t=document.createElement("script");t.src=e,t.async=!0,document.body.appendChild(t)})),dn()(".altmetric-embed").on("altmetric:hide",(function(){e.setState({altmetrics_nodata:!0})})),dn()(".__dimensions_badge_embed__").on("dimensions_embed:hide",(function(){e.setState({dimensions_nodata:!0})})))}},{key:"componentWillUpdate",value:function(){window.__dimensions_embed&&window.__dimensions_embed.addBadges()}},{key:"render",value:function(){var e;return this.props.attrs.local_ids&&_.each(this.props.attrs.local_ids,(function(t){"pmid"==t.type&&void 0===e&&(e=t.id)})),a.a.createElement("div",{className:"c-tabcontent"},a.a.createElement("h1",{className:"c-tabcontent__main-heading",tabIndex:"-1"},"Metrics"),this.props.altmetrics_ok||this.props.usage&&(!this.props.usage||0!=this.props.usage.length)?a.a.createElement("div",{className:"c-tabcontent__divide2x"},this.props.usage&&this.props.usage.length>0?a.a.createElement("div",{className:"c-tabcontent__divide2x-child"},a.a.createElement(Bo,{usage:this.props.usage}),a.a.createElement(qo,{usage:this.props.usage}),a.a.createElement("div",{className:"o-well-colored"},"Note: Due to the evolving nature of web traffic, the data presented here should be considered approximate and subject to revision. ",a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/folders/9000181583"},"Learn more"),".")):a.a.createElement("div",{className:"c-tabcontent__divide2x-child"},a.a.createElement("div",{className:"o-well-colored"},"No usage data currently found for this item.")),a.a.createElement("div",{className:"c-tabcontent__divide2x-child"},this.props.altmetrics_ok&&(this.props.attrs.doi||e)&&[a.a.createElement("h2",{key:"0",className:"o-heading3"},"Online Attention"),a.a.createElement("p",{key:"1"},a.a.createElement("span",{className:"altmetric-embed","data-pmid":e,"data-doi":this.props.attrs.doi,"data-badge-type":"donut","data-badge-details":"right","data-hide-no-mentions":"true"})),a.a.createElement("div",{key:"2",className:this.state.altmetrics_nodata?"c-tabcontent-reveal":"c-tabcontent-hide"},"AltMetric® data is unavailable for this item."),a.a.createElement("p",{key:"3"},a.a.createElement("br",null))],(this.props.attrs.doi||e)&&[a.a.createElement("h2",{key:"0",className:"o-heading3"},"Citations"),a.a.createElement("p",{key:"1"},a.a.createElement("span",{className:"__dimensions_badge_embed__","data-pmid":e,"data-doi":this.props.attrs.doi,"data-hide-zero-citations":"true","data-legend":"always","data-style":"small_circle"})),a.a.createElement("div",{key:"2",className:this.state.dimensions_nodata?"c-tabcontent-reveal":"c-tabcontent-hide"},"Citation data is unavailable for this item.")])):a.a.createElement("div",{className:"o-well-colored"},"No usage data currently found for this item."))}}])}(a.a.Component);Po(Mo,"propTypes",{usage:d.a.arrayOf(d.a.shape({month:d.a.string,hits:d.a.number,downloads:d.a.number})).isRequired,altmetrics_ok:d.a.bool,attrs:d.a.shape({doi:d.a.string,local_ids:d.a.array})});var Io=Mo;function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jo(r.key),r)}}function zo(e,t,n){return t=Vo(t),function(e,t){if(t&&("object"==Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vo(e).constructor):t.apply(e,n))}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wo(e,t){return(Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e,t,n){return(t=Jo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jo(e){var t=function(e,t){if("object"!=Fo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fo(t)?t:t+""}var Go=function(e){function t(){var e;Lo(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ho(e=zo(this,t,[].concat(r)),"customIssueTitle",(function(e,t,n,r){return"0"==e&&"0"==t?r:n?"volume_only"===n?"Volume "+e:t:t?e+"("+t+")":e})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wo(e,t)}(t,e),function(e,t,n){return t&&Uo(e.prototype,t),n&&Uo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"addDot",value:function(e){return e=e.trim(),/[.?]$/.test(e)?e+" ":e+". "}},{key:"localIdLabel",value:function(e){var t={arXiv:"arXiv ID: ",lbnl:"LBNL Report #: ",merritt:"Merritt ID: ",oa_harvester:"UCPMS ID: ",other:"",pmid:"Pubmed ID: ",pmcid:"PubMed Central ID: ",proquest:"ProQuest ID: ",repec:"RePEc ID: ",report:"Report #: ",default:""};return t[e]?t[e]:t.default}},{key:"formatAuth",value:function(e){var t;return e.lname?(t=e.lname,e.fname&&(/^[A-Z]{2,3}/.test(e.fname)?t+=", "+e.fname:(t+=", "+e.fname.substr(0,1).toLocaleUpperCase()+".",e.mname&&(t+=" "+e.mname.substr(0,1).toLocaleUpperCase())))):t=e.organization?e.organization:e.name,t}},{key:"formatDoi",value:function(e){return/^10\./.test(e)?"http://dx.doi.org/"+e:"doi:"+e}},{key:"formatCitation",value:function(e){var t=this,n="";try{var r=e.authors;r&&r.length>0&&(1==r.length?n+=this.formatAuth(r[0]):r.length<8?(n+=_.map(r.slice(0,r.length-1),this.formatAuth).join(", "),n+=", & "+this.formatAuth(r[r.length-1])):n+=_.map(r.slice(0,6),this.formatAuth).join("; ")+", et al.",n=this.addDot(n));var a=/^(\d\d\d\d)/.exec(e.published);a&&(n+="("+a[1]+"). "),n+="monograph"==e.genre?"<em>"+e.title+"</em>":e.title,n=this.addDot(n),e.attrs.book_title?(n=this.addDot(n+"In <em>"+e.attrs.book_title+"</em>"),e.attrs.publisher&&(n=this.addDot(n+"Location: "+e.attrs.publisher))):e.unit&&"monograph_series"==e.unit.type&&e.attrs.publisher?n=this.addDot(n+"Location: "+e.attrs.publisher):e.unit&&"series"==e.unit.type&&e.attrs.publisher&&(n=this.addDot(n+"<em>"+e.attrs.publisher+"</em>"));var o=e.attrs.ext_journal;if(o&&o.name)n+="<em>"+o.name+"</em>, ",o.volume?(n+=o.volume,o.issue&&(n+="("+o.issue+")")):o.issue&&(n+=o.issue),o.fpage&&(n+=", "+o.fpage,o.lpage&&(n+="-"+o.lpage)),n=this.addDot(n);else if("journal"==e.unit.type&&e.citation){n+="<em>"+e.unit.name+"</em>";var i="";"issue_only"==e.numbering?i+=e.citation.issue:e.citation.volume&&"0"!=e.citation.volume&&(i+=e.citation.volume,"volume_only"!=e.numbering&&e.citation.issue&&"0"!=e.citation.issue&&(i+="("+e.citation.issue+")")),""!=i&&(n+=", "+i),n=this.addDot(n)}else if(e.unit&&"series"==e.unit.type&&e.attrs.publisher){if(n+=e.header.campusName,e.unit&&e.unit.name){var c="oru"==e.unit.type?e.unit.name:e.header.ancestorName;c!=e.header.campusName&&(c.startsWith(e.header.campusName)&&(c=c.substr(e.header.campusName.length)),n+=": "+c.trim())}n=this.addDot(n)}else if(e.header.campusName&&"monograph"!=e.genre&&"journal"!=e.genre&&!e.attrs.book_title){if(n+="<em>"+e.header.campusName,e.unit&&e.unit.name){var l="oru"==e.unit.type?e.unit.name:e.header.ancestorName;l!=e.header.campusName&&(l.startsWith(e.header.campusName)&&(l=l.substr(e.header.campusName.length)),n+=": "+l.trim())}n+="</em>",n=this.addDot(n)}e.attrs.local_ids&&_.each(e.attrs.local_ids,(function(e){var r=t.localIdLabel(e.type);""!=r&&"oa_harvester"!=e.type&&(n=t.addDot(n+r+e.id))})),e.attrs.doi&&(n+=this.formatDoi(e.attrs.doi)+" ");var u=window.location.href.split("#")[0];n+="Retrieved from "+u}catch(e){return console.log("Warning: Exception occurred in citation processing:",e),""}return n}},{key:"contribList",value:function(e){return e.map((function(e,t){var n=e.ORCID_id?"https://orcid.org/"+e.ORCID_id:null;return[a.a.createElement("dt",{key:t},a.a.createElement("a",{href:"/search/?q="+encodeURIComponent("author:"+e.name)},e.name)),a.a.createElement("dd",{key:t+1},e.institution?e.institution:e.department?e.department:"","  ",n?a.a.createElement("a",{className:"o-textlink__secondary",href:n},n):"")]}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.attrs.author_hide?null:this.contribList(t.authors),r=t.editors?this.contribList(t.editors):null,o=t.advisors?this.contribList(t.advisors):null,i=t.header&&t.header.breadcrumb?t.header.breadcrumb[t.header.breadcrumb.length-1]:null,c=null,l=null,u=null,s=null;if(t.attrs.ext_journal){var p=t.attrs.ext_journal;c=p.name,l=p.volume,u=p.issue}else if(t.citation){var f=t.citation;l=f.volume?f.volume:"",u=f.issue,s=i?i.url:null}var m,d=i?i.name:null;if(c||l||u){var b=this.customIssueTitle(l,u,t.numbering,d);m=c?c+", "+b:b}var y,h=t.attrs.ext_journal&&t.attrs.ext_journal.issn;t.unit&&(y="journal"==t.unit.type?"Journal":"Series");var v,g,E="https://escholarship.org/uc/item/"+t.id,_=t.appearsIn.map((function(e,t){return a.a.createElement("span",{key:t},a.a.createElement(N.a,{to:"/uc/"+e.id,className:"o-textlink__secondary"},e.name),a.a.createElement("br",null))}));t.attrs.doi&&(v=t.attrs.doi.startsWith("http")?t.attrs.doi:"https://doi.org/"+t.attrs.doi),t.attrs.local_ids&&(g=t.attrs.local_ids.map((function(t,n){var r=e.localIdLabel(t.type);return t.id.startsWith("http")?a.a.createElement("span",{key:n},a.a.createElement("a",{href:t.id,className:"o-textlink__secondary"},r,t.id),a.a.createElement("br",null)):a.a.createElement("span",{key:n},r,t.id,a.a.createElement("br",null))})));var w="monograph"==t.genre?"Book":"Article";return a.a.createElement("div",{className:"c-tabcontent"},!t.attrs.orig_citation&&a.a.createElement("div",{className:"c-itemactions"}),a.a.createElement("h1",{className:"c-tabcontent__main-heading",tabIndex:"-1"},"Author & ",w," Info"),a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Author(s)"),t.attrs.author_hide||0==t.authors.length?a.a.createElement("dl",{className:"c-descriptionlist"},"No author information available"):a.a.createElement("dl",{className:"c-descriptionlist"},n)),r&&a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Editor(s)"),a.a.createElement("dl",{className:"c-descriptionlist"},r)),o&&a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Advisor(s)"),a.a.createElement("dl",{className:"c-descriptionlist"},o)),a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Citation"),a.a.createElement("dl",{className:"c-descriptionlist"},t.attrs.custom_citation&&[a.a.createElement("dt",{key:"dt-custom"},"Preferred:"),a.a.createElement("dd",{key:"dd-custom"},a.a.createElement(Zn.a,{html:t.attrs.custom_citation}))],a.a.createElement("dt",{key:"dt-apa"},"Suggested:"),a.a.createElement("dd",{key:"dd-apa"},a.a.createElement(Zn.a,{html:this.formatCitation(t)})),t.attrs.orig_citation&&[a.a.createElement("dt",{key:"dt-orig"},"Original:"),a.a.createElement("dd",{key:"dd-orig"},t.attrs.orig_citation)])),a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Other information"),a.a.createElement("dl",{className:"c-descriptionlist"},t.attrs.is_peer_reviewed&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Peer-Reviewed")),a.a.createElement("br",{key:"1"})],t.attrs.isbn&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"ISBN:")),a.a.createElement("dd",{key:"1"},t.attrs.isbn)],h&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"ISSN:")),a.a.createElement("dd",{key:"1"},h)],t.published&&(!t.attrs.pub_publish||"true"!=t.show_pub_dates)&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Publication Date:")),a.a.createElement("dd",{key:"1"},t.published)],"true"==t.show_pub_dates&&t.attrs.pub_publish&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Publication Date:")),a.a.createElement("dd",{key:"1"},t.attrs.pub_publish)],"true"==t.show_pub_dates&&t.attrs.pub_accept&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Acceptance Date:")),a.a.createElement("dd",{key:"1"},t.attrs.pub_accept)],"true"==t.show_pub_dates&&t.attrs.pub_submit&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Submission Date:")),a.a.createElement("dd",{key:"1"},t.attrs.pub_submit)],y&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,y,":")),a.a.createElement("dd",{key:"1"},_)],m&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Journal Issue:")),a.a.createElement("dd",{key:"1"},s?a.a.createElement(N.a,{to:s,className:"o-textlink__secondary"},m):a.a.createElement("span",null,m))],a.a.createElement("dt",null,a.a.createElement("strong",null,"Permalink:")),a.a.createElement("dd",null,a.a.createElement("a",{href:E,className:"o-textlink__secondary"},E)),v&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"DOI:")),a.a.createElement("dd",{key:"1"},a.a.createElement("a",{href:v,className:"o-textlink__secondary"},v))],t.attrs.addl_info&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Additional Info:")),a.a.createElement("dd",{key:"1"},a.a.createElement(Zn.a,{html:t.attrs.addl_info,h1Level:2}))],g&&[a.a.createElement("dt",{key:"0"},a.a.createElement("strong",null,"Local Identifier(s):")),a.a.createElement("dd",{key:"1"},g)])))}}])}(a.a.Component),$o=n(3),Yo=n.n($o);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xo(r.key),r)}}function Xo(e){var t=function(e,t){if("object"!=Zo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zo(t)?t:t+""}function ei(e,t,n){return t=ti(t),function(e,t){if(t&&("object"==Zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ti(e).constructor):t.apply(e,n))}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e,t){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ri=function(e){function t(){return Ko(this,t),ei(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ni(e,t)}(t,e),function(e,t,n){return t&&Qo(e.prototype,t),n&&Qo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"displayObject",value:function(e,t,n){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t?a.a.createElement("tr",{key:e+t},a.a.createElement("th",{scope:"row"},e),a.a.createElement("td",null,String(t))):Yo.a.isEmpty(t)?a.a.createElement("tr",{key:e+n},a.a.createElement("th",{scope:"row"},e),a.a.createElement("td",null,"null")):a.a.createElement("tr",{key:e+n},a.a.createElement("th",{scope:"row"},e),a.a.createElement("td",null,a.a.createElement("pre",null,JSON.stringify(t,null,2))))}},{key:"noUnit",value:function(){return a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"None"),a.a.createElement("td",null,"No unit associated with this item"))}},{key:"render",value:function(){var e=this,t=this.props,n=Object.keys(t).map((function(n,r){if(!Yo.a.isFunction(t[n])&&"attrs"!=n&&"unit"!=n&&"unit_attrs"!=n&&"citation"!=n&&"currentTab"!=n&&"header"!=n&&"sidebar"!=n&&"usage"!=n)return e.displayObject(n,t[n],r)})),r=Object.keys(t.attrs).map((function(n,r){return e.displayObject(n,t.attrs[n],r)})),o=t.unit_attrs?Object.keys(t.unit_attrs).map((function(n,r){return e.displayObject(n,t.unit_attrs[n],r)})):this.noUnit(),i=t.unit?a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"unit"),a.a.createElement("td",null,a.a.createElement("pre",null,JSON.stringify(t.unit,null,2)))),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"ancestorID"),a.a.createElement("td",null,t.header.ancestorID)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"ancestorName"),a.a.createElement("td",null,t.header.ancestorName)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"campusID"),a.a.createElement("td",null,t.header.campusID)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"campusName"),a.a.createElement("td",null,t.header.campusName)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"directSubmit"),a.a.createElement("td",null,t.header.directSubmit)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"directSubmitURL"),a.a.createElement("td",null,t.header.directSubmitURL)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"directManageURLauthor"),a.a.createElement("td",null,t.header.directManageURLauthor)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"directManageURLeditor"),a.a.createElement("td",null,t.header.directManageURLeditor))):this.noUnit();return a.a.createElement("div",{className:"c-tabcontent"},a.a.createElement("h1",{className:"c-tabcontent__main-heading",tabIndex:"-1"},"Metadata for item ",a.a.createElement("strong",null,t.id),"  (","React.js version "+a.a.version,")"),a.a.createElement("div",{className:"c-datatable c-datatable-leftalign"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Item Props"),a.a.createElement("th",{scope:"col"},"Description"))),a.a.createElement("tbody",null,n)),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Item Attrs"),a.a.createElement("th",{scope:"col"},"Description"))),a.a.createElement("tbody",null,r)),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Unit Props"),a.a.createElement("th",{scope:"col"},"Description"))),i),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Unit Attrs"),a.a.createElement("th",{scope:"col"},"Description"))),a.a.createElement("tbody",null,o))))}}])}(a.a.Component);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pi(r.key),r)}}function ci(e,t,n){return t=li(t),function(e,t){if(t&&("object"==ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],li(e).constructor):t.apply(e,n))}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ui(e,t){return(ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function si(e,t,n){return(t=pi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e){var t=function(e,t){if("object"!=ai(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ai(t)?t:t+""}var fi=function(e){function t(){var e;oi(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return si(e=ci(this,t,[].concat(r)),"state",{moreTabs:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}(t,e),function(e,t,n){return t&&ii(e.prototype,t),n&&ii(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"tabFocus",value:function(e){this.props.changeTab(e)}},{key:"componentWillReceiveProps",value:function(e){this.props.currentTab!=e.currentTab&&setTimeout((function(){return dn()(".c-tabcontent__main-heading").focus()}),0)}},{key:"render",value:function(){var e=this,t=this.props,n="published"==t.status&&!t.content_type&&!t.attrs.pub_web_loc&&t.attrs.supp_files&&t.attrs.supp_files.length>0,r="monograph"==t.genre?"Book":"Article";return a.a.createElement("div",{className:"c-tabs"},a.a.createElement("div",{className:this.state.moreTabs?"c-tabs__tabs--show-all":"c-tabs__tabs"},["published","empty"].includes(t.status)&&a.a.createElement("button",{className:"c-tabs__button-more",onClick:function(){return e.setState({moreTabs:!e.state.moreTabs})},"aria-label":"Show all tabs"},"..."),a.a.createElement("button",{className:"main"==t.currentTab?"c-tabs__button--active":"c-tabs__button",onClick:function(){return e.tabFocus("main")}},"Main Content"),["published","pending"].includes(t.status)&&t.attrs.supp_files&&!n&&a.a.createElement("button",{className:"supplemental"==t.currentTab?"c-tabs__button--active":"c-tabs__button",onClick:function(){return e.tabFocus("supplemental")}},"Supplemental Material"),"published"==t.status&&a.a.createElement("button",{className:"metrics"==t.currentTab?"c-tabs__button--active":"c-tabs__button",onClick:function(){return e.tabFocus("metrics")}},"Metrics"),!/withdrawn/.test(t.status)&&a.a.createElement("button",{className:"author"==t.currentTab?"c-tabs__button--active":"c-tabs__button",onClick:function(){return e.tabFocus("author")}},"Author & ",r," Info"),a.a.createElement(Pn.a.CMS.Consumer,null,(function(n){return n.loggedIn&&n.permissions&&n.permissions.super?a.a.createElement("button",{className:"meta"==t.currentTab?"c-tabs__button--active":"c-tabs__button",onClick:function(){return e.tabFocus("meta")}},"Meta"):null}))),a.a.createElement("div",{className:"c-tabs__content"},"main"==t.currentTab&&a.a.createElement(Wa,t),"supplemental"==t.currentTab&&a.a.createElement(Oo,t),"metrics"==t.currentTab&&a.a.createElement(Io,t),"author"==t.currentTab&&a.a.createElement(Go,t),"meta"==t.currentTab&&a.a.createElement(Pn.a.CMS.Consumer,null,(function(e){return e.loggedIn&&e.permissions&&e.permissions.super?a.a.createElement(ri,t):null})),a.a.createElement("p",null,a.a.createElement("br",null))))}}])}(a.a.Component);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ei(r.key),r)}}function yi(e,t,n){return t=hi(t),function(e,t){if(t&&("object"==mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],hi(e).constructor):t.apply(e,n))}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vi(e,t){return(vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gi(e,t,n){return(t=Ei(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e){var t=function(e,t){if("object"!=mi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mi(t)?t:t+""}var _i=function(e){function t(){var e;di(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return gi(e=yi(this,t,[].concat(r)),"state",{show:!0}),gi(e,"widthChange",(function(){e.setState({show:e.mq.matches})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vi(e,t)}(t,e),function(e,t,n){return t&&bi(e.prototype,t),n&&bi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof matchMedia&&(this.mq=matchMedia("(min-width:"+v.screen2+")"),this.mq.addListener(this.widthChange),this.widthChange())}},{key:"handleClick",value:function(e,t){e.preventDefault(),this.props.changeTab(t)}},{key:"render",value:function(){var e=this,t="monograph"==this.props.genre?"Book":"Article",n=this.props.attrs.toc&&this.props.attrs.toc.divs;return a.a.createElement("section",{className:"o-columnbox1",hidden:!this.state.show},a.a.createElement("header",null,a.a.createElement("h2",null,"Jump To")),a.a.createElement("div",{className:"c-jump"},a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"article_main")}},t),a.a.createElement("ul",{className:"c-jump__tree","aria-labelledby":"c-jump__label"},this.props.attrs.abstract&&!n&&a.a.createElement("li",null,a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"article_abstract")}},"Abstract")),!n&&a.a.createElement("li",null,a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"article_main")}},"Main Content")),n&&n.map((function(t){return a.a.createElement("li",{key:t.title},a.a.createElement(N.a,{to:"#",onClick:function(n){return e.handleClick(n,t.anchor)}},t.title))}))),a.a.createElement("ul",{className:"c-jump__siblings"},this.props.attrs.supp_files&&a.a.createElement("li",null,a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"supplemental")}},"Supplemental Material")),a.a.createElement("li",null,a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"metrics")}},"Metrics")),a.a.createElement("li",null,a.a.createElement(N.a,{to:"#",onClick:function(t){return e.handleClick(t,"author")}},"Author & ",t," Info")))))}}])}(a.a.Component);function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(){return(Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ri(r.key),r)}}function Pi(e,t,n){return t=Ci(t),function(e,t){if(t&&("object"==wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ci(e).constructor):t.apply(e,n))}function ki(){return(ki="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ni(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(null,arguments)}function Ni(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ci(e)););return e}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Di(e,t){return(Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ti(e,t,n){return(t=Ri(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e){var t=function(e,t){if("object"!=wi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wi(t)?t:t+""}if("undefined"!=typeof document)n(26);var xi=["main","supplemental","metrics","author","meta"],Ai=xi.concat(["article_abstract","article_main","article_references"]),Bi=["January","February","March","April","May","June","July","August","September","October","November","December"],qi=function(e){function t(){var e;ji(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ti(e=Pi(this,t,[].concat(r)),"articleHashHandler",(function(e,t){if(/^article|^$/.test(e))return"main";if(t)for(var n in t.divs)if(e==t.divs[n].anchor)return"main";return e})),Ti(e,"state",{currentTab:"main"}),Ti(e,"formatDate",(function(e){if(e){var t=/^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(e);if(null==t)return e;var n=parseInt(t[1]),r=parseInt(t[2]),a=parseInt(t[3]);return"".concat(Bi[r-1]," ").concat(a,", ").concat(n)}return(new Date).toLocaleString("en-us",{year:"numeric",month:"long",day:"numeric"})})),Ti(e,"changeTab",(function(t){var n=e.state.pageData&&e.state.pageData.attrs&&e.state.pageData.attrs.toc;e.articleHashHandler(t.toLowerCase().replace(/^#/,""),n)!=e.state.currentTab?(e.setState({currentTab:e.articleHashHandler(t,n)}),setTimeout((function(){return window.location.hash=t}),200)):window.location.hash=t})),Ti(e,"renderData",(function(t){var n=xi.includes(e.state.currentTab)?e.state.currentTab:"main",r=t,o=r.attrs,i=o.author_hide?null:r.authors.slice(0,85).map((function(e,t){return a.a.createElement("meta",{key:t,id:"meta-author"+t,name:"citation_author",content:e.name})})),c=[o.author_hide?"":r.authors.length>0?"Author(s): "+r.authors.slice(0,85).map((function(e){return e.name})).join("; "):"",r.editors?"Editor(s): "+r.editors.slice(0,85).map((function(e){return e.name})).join("; "):"",r.advisors?"Advisor(s): "+r.advisors.slice(0,85).map((function(e){return e.name})).join("; "):""].filter((function(e){return""!==e})).join(" | "),l=r.unit&&"journal"==r.unit.type?a.a.createElement("meta",{id:"meta-journal_title",name:"citation_journal_title",content:r.unit.name}):null,u=null,s=null,p=null,f=null,m=null;if(o.ext_journal){var d=o.ext_journal;l=d.name&&a.a.createElement("meta",{id:"meta-journal_title",name:"citation_journal_title",content:d.name}),u=d.issn&&a.a.createElement("meta",{id:"meta-issn",name:"citation_issn",content:d.issn}),s=d.volume&&a.a.createElement("meta",{id:"meta-volume",name:"citation_volume",content:d.volume}),p=d.issue&&a.a.createElement("meta",{id:"meta-issue",name:"citation_issue",content:d.issue}),f=d.fpage&&a.a.createElement("meta",{id:"meta-firstpage",name:"citation_firstpage",content:d.fpage}),m=d.lpage&&a.a.createElement("meta",{id:"meta-lastpage",name:"citation_lastpage",content:d.lpage})}else if(r.citation){var b=r.citation;u=b.issn&&a.a.createElement("meta",{id:"meta-issn",name:"citation_issn",content:b.issn}),s=b.volume&&a.a.createElement("meta",{id:"meta-volume",name:"citation_volume",content:b.volume}),p=b.issue&&a.a.createElement("meta",{id:"meta-issue",name:"citation_issue",content:b.issue})}var y=o.disciplines?o.disciplines.join("; "):null,h=/withdrawn/.test(r.status);return r.unit&&e.extGA(r.unit.id),a.a.createElement("div",null,"pending"==r.status&&a.a.createElement("span",{className:"c-preview-watermark"}),h&&a.a.createElement(we.a,null," ",a.a.createElement("meta",{id:"meta-robots",name:"robots",content:"noindex"})," "),!h&&a.a.createElement(we.a,{title:r.title,contribs:c,abstract:o.abstract},i,r.published&&a.a.createElement("meta",{id:"meta-publication_date",name:"citation_publication_date",content:r.published}),o.isbn&&a.a.createElement("meta",{id:"meta-isbn",name:"citation_isbn",content:o.isbn}),o.doi&&a.a.createElement("meta",{id:"meta-doi",name:"citation_doi",content:o.doi}),l," ",u," ",s," ",p," ",f," ",m,"dissertation"==r.genre&&r.header&&a.a.createElement("meta",{id:"meta-dissertation_institution",name:"citation_dissertation_institution",content:r.header.breadcrumb[1].name}),r.added&&a.a.createElement("meta",{id:"meta-online_date",name:"citation_online_date",content:r.added}),y&&a.a.createElement("meta",{id:"meta-keywords",name:"citation_keywords",content:y}),!r.download_restricted&&r.pdf_url&&a.a.createElement("meta",{id:"meta-pdf_url",name:"citation_pdf_url",content:"http"==r.pdf_url.substr(0,4)?r.pdf_url:"https://escholarship.org"+r.pdf_url}),a.a.createElement("link",{rel:"canonical",href:"https://escholarship.org/uc/item/"+r.id})),a.a.createElement(tt,{type:r.unit?r.unit.type:null,unitID:r.appearsIn&&r.appearsIn.length>0?r.appearsIn[0].id:null,hideAdminBar:!0}),r.header&&a.a.createElement(nt.a,{unit:r.unit,header:r.header}),r.header&&a.a.createElement(bn.a,{navBar:r.header.nav_bar,unit:r.unit,socialProps:r.header.social}),a.a.createElement(rt.a,{array:r.header?r.header.breadcrumb:null}),a.a.createElement("div",{className:e.state.fetchingData?"c-columns--sticky-sidebar is-loading-data":"c-columns--sticky-sidebar"},a.a.createElement("main",{id:"maincontent"},a.a.createElement(Yn,{id:r.id,status:r.status,content_type:r.content_type,pdf_url:r.pdf_url,attrs:r.attrs,download_restricted:r.download_restricted,sendApiData:e.sendApiData,journal_id:r.unit.id}),a.a.createElement("h2",{className:"c-tabcontent__main-heading",tabIndex:"-1"},a.a.createElement(Zn.a,{html:r.title})),a.a.createElement(Kn.a,{pubdate:r.published,source:r.source,author_hide:o.author_hide,authors:r.authors,editors:r.editors,advisors:r.advisors,changeTab:e.changeTab}),(o.doi||o.pub_web_loc||r.rights||r.attrs.data_avail_stmnt||!r.content_type)&&!h&&a.a.createElement(br,{doi:o.doi,pub_web_loc:o.pub_web_loc,content_type:r.content_type,data_avail_stmnt:r.attrs.data_avail_stmnt,rights:r.rights}),a.a.createElement(fi,Oi({currentTab:n,changeTab:e.changeTab,formatDate:e.formatDate},r))),a.a.createElement("aside",null,"published"==r.status&&r.content_type&&a.a.createElement(_i,{changeTab:e.changeTab,genre:r.genre,attrs:r.attrs}),r.sidebar&&!h&&a.a.createElement(Ct.a,{data:r.sidebar}))))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Di(e,t)}(t,e),function(e,t,n){return t&&Si(e.prototype,t),n&&Si(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"pagePermissionsUnit",value:function(){return"root"}},{key:"tabNameFromHash",value:function(){return"undefined"!=typeof location?location.hash.toLowerCase().replace(/^#/,""):""}},{key:"componentDidMount",value:function(){var e=this,n=this.state.pageData&&this.state.pageData.attrs&&this.state.pageData.attrs.toc;this.setState({currentTab:this.articleHashHandler(this.tabNameFromHash(),n)}),window.onpopstate=function(t){var n=e.state.pageData&&e.state.pageData.attrs&&e.state.pageData.attrs.toc,r=e.articleHashHandler(e.tabNameFromHash(),n);r!=e.state.currentTab&&Ai.includes(r)&&e.setState({currentTab:r})};for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];ki(Ci(t.prototype),"componentDidMount",this).apply(this,a)}}])}(b.a);Ti(qi,"propTypes",{currentTab:d.a.oneOf(Ai)});var Mi=qi,Ii=n(31);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(){return(Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Ui(e,t,n){return(t=Hi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hi(r.key),r)}}function Wi(e,t,n){return t&&Vi(e.prototype,t),n&&Vi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hi(e){var t=function(e,t){if("object"!=Fi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fi(t)?t:t+""}function Ji(e,t,n){return t=Gi(t),function(e,t){if(t&&("object"==Fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Gi(e).constructor):t.apply(e,n))}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yi(e,t)}function Yi(e,t){return(Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Zi=function(e){return e.toString().substr(0,4)+"-"+e.toString().substr(4,2)},Ki=function(e){return e&&e.toLocaleString()},Qi=function(e){var t=[];return Yo.a.each(e,(function(e,n){return t.push(e.toString()+" "+n+(1==e||n.endsWith("ies")?"":n.endsWith("s")?"es":"s"))})),t.join(", ")},Xi=function(e,t,n){return"/uc/".concat(e,"/stats").concat(t?"/"+t:"").concat(n)},ec=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},tc=function(e){return e.indexOf("postprints:")>=0?"    "+ec(e.replace("postprints:","")):"unknown"==e?e:ec(e)},nc=function(e,t){var r=[];Yo.a.each(e.children,(function(e){Yo.a.each(e.children,(function(e){var t=[];Yo.a.each(e.children,(function(e){var n;e.children[0]?Yo.a.each(e.children,(function(e){n=(n?n+"\n":"")+(void 0===e.innerHTML?"":e.innerHTML)})):n=e.innerHTML,n=n.replace(/<!--[^>]+-->/g,"").replace(/%$/,"").replace(/&nbsp;/g," "),/^[0-9,]+$/.test(n)?t.push(parseInt(n.replace(/,/g,""))):/^[0-9,.]+$/.test(n)?t.push(parseFloat(n.replace(/,/g,""))):t.push('"'+n.toString().replace('"',"'")+'"')})),r.push(t.join(","))}))})),n.e(2).then(function(e){var a;a=t.unitID?t.unitID.replace(/^root$/,"eschol")+"_"+t.pageName+".csv":"author_"+t.pageName+".csv",n(615)(r.join("\n"),a,"text/csv")}.bind(null,n)).catch(n.oe)},rc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this.props,t=e.match.params.pageName||"summary",n=t.indexOf("issue")>=0,r=t.indexOf("by_month")>=0,o=e.match.params.unitID?"/uc/".concat(e.match.params.unitID,"/stats"):"/uc/author/".concat(e.match.params.personID,"/stats"),i=e.match.params.unitID?e.data.unit_name:e.data.author_name;return a.a.createElement("div",null,a.a.createElement(we.a,{title:"".concat(e.title,": ").concat(e.data.unit_name||e.data.author_name||"current")},a.a.createElement("meta",{id:"meta-robots",name:"robots",content:"noindex"}),a.a.createElement("link",{rel:"canonical",href:"https://escholarship.org"+e.location.pathname})),a.a.createElement("h1",null,"summary"==t?i:a.a.createElement(N.a,{to:o},i)),e.data.parent_id&&!n&&a.a.createElement("p",null,"Parent: ",a.a.createElement(N.a,{to:Xi(e.data.parent_id,e.match.params.pageName,e.location.search)},e.data.parent_name)),a.a.createElement("h2",null,"eScholarship stats: ",e.title,r?"":" for ".concat(e.data.date_str)))}}])}(a.a.Component),ac=function(e){function t(){var e;zi(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ui(e=Ji(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",null,e.props.onDownload&&a.a.createElement("div",{className:"c-statsReport-bottomButtons"},a.a.createElement("button",{className:"o-button__8",onClick:e.props.onDownload},"Download CSV"),a.a.createElement("div",{className:"c-toplink"},a.a.createElement("a",{href:"javascript:window.scrollTo(0, 0)"},"Top"))),a.a.createElement("div",{className:"c-statsReport-disclaimer"},a.a.createElement("hr",null),"Note: Due to the evolving nature of web traffic, the data presented here should be considered approximate and subject to revision. ",a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/folders/9000181583"},"Learn more"),"."))})),e}return $i(t,e),Wi(t)}(a.a.Component),oc=function(e){function t(){var e;zi(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ui(e=Ji(this,t,[].concat(r)),"onChangeRange",(function(t){return e.setState({customDates:"custom"==t.target.value})})),e}return $i(t,e),Wi(t,[{key:"componentWillMount",value:function(){this.setState({customDates:"custom"==this.props.data.range})}},{key:"componentWillReceiveProps",value:function(e){this.setState({customDates:"custom"==e.data.range})}},{key:"render",value:function(){var e=this.props;return a.a.createElement(Ae.a,{to:e.location.pathname,method:"GET"},a.a.createElement("div",{className:"c-daterange"},a.a.createElement("div",{className:"o-input__inline"},a.a.createElement("div",{key:"range",className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"range"},"Date range"),a.a.createElement("select",{id:"range",name:"range",defaultValue:e.data.range,onChange:this.onChangeRange},a.a.createElement("option",{value:"1mo"},"Last month"),a.a.createElement("option",{value:"4mo"},"Last 4 months"),a.a.createElement("option",{value:"12mo"},"Last 12 months"),a.a.createElement("option",{value:"5yr"},"Last 5 years"),a.a.createElement("option",{value:"all"},"All time"),a.a.createElement("option",{value:"custom"},"Custom"))),this.state.customDates&&[a.a.createElement("div",{key:"st_yr",className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"st_yr"},"Start year"),a.a.createElement("select",{id:"st_yr",name:"st_yr",defaultValue:e.data.st_yr},e.data.all_years.map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement("div",{key:"st_mo",className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"st_mo"},"Start month"),a.a.createElement("select",{id:"st_mo",name:"st_mo",defaultValue:e.data.st_mo},Yo.a.range(1,13).map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement("div",{key:"en_yr",className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"en_yr"},"End year"),a.a.createElement("select",{id:"en_yr",name:"en_yr",defaultValue:e.data.en_yr},e.data.all_years.map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement("div",{key:"en_mo",className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"en_mo"},"End month"),a.a.createElement("select",{id:"en_mo",name:"en_mo",defaultValue:e.data.en_mo},Yo.a.range(1,13).map((function(e){return a.a.createElement("option",{key:e,value:e},e)}))))],e.showLimit&&a.a.createElement("div",{key:"limit",className:"o-input__droplist1"},a.a.createElement("label",{htmlFor:"limit"},"Max items:"),a.a.createElement("select",{id:"limit",name:"limit",defaultValue:e.data.limit},a.a.createElement("option",{key:50,value:50},"50"),a.a.createElement("option",{key:100,value:100},"100"),a.a.createElement("option",{key:200,value:200},"200"),a.a.createElement("option",{key:500,value:500},"500")))),a.a.createElement("button",{type:"submit",key:"submit"},"Update")))}}])}(a.a.Component),ic=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Summary"},this.props)),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Deposits"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,Ki(t.posts)),a.a.createElement("td",null,Ki(t.hits)),a.a.createElement("td",null,Ki(t.downloads)),a.a.createElement("td",null,Ki(t.hits-t.downloads)))))),a.a.createElement("h2",null,"Top Referrers"),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,Yo.a.map(t.referrals,(function(e){return a.a.createElement("th",{scope:"col",key:e[0]},e[0])})))),a.a.createElement("tbody",null,a.a.createElement("tr",null,Yo.a.map(t.referrals,(function(e){return a.a.createElement("td",{key:e[0]},Ki(e[1]))})))))),a.a.createElement("h2",null,"Available Reports"),a.a.createElement("ul",{className:"c-reportList"},a.a.createElement("li",null,"History by:","journal"==t.unit_type&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/history_by_issue")},"Issue"),a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/history_by_item")},"Item"),t.has_children&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/history_by_unit")},"Unit"),a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/referrals")},"Referrer")),a.a.createElement("li",null,"Breakdown by:",a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/breakdown_by_month")},"Month"),"journal"==t.unit_type&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/breakdown_by_issue")},"Issue"),a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/breakdown_by_item")},"Item"),t.has_children&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/breakdown_by_unit")},"Unit"),t.num_categories>1&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/breakdown_by_category")},"Category")),(t.num_categories>1||t.has_children)&&a.a.createElement("li",null,"Deposits by:",t.has_children&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/deposits_by_unit")},"Unit"),t.num_categories>1&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/deposits_by_category")},"Category")),(t.num_categories>1||t.has_children)&&a.a.createElement("li",null,"Average requests per item by:",t.has_children&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/avg_by_unit")},"Unit"),t.num_categories>1&&a.a.createElement(N.a,{to:"/uc/".concat(this.props.match.params.unitID,"/stats/avg_by_category")},"Category")),a.a.createElement(Pn.a.CMS.Consumer,null,(function(t){return t.loggedIn&&t.permissions&&t.permissions.super&&"root"==e.props.match.params.unitID&&a.a.createElement("li",null,"Other:",a.a.createElement(N.a,{to:"/uc/root/stats/deposits_by_oa"},"Deposits by OA"),a.a.createElement(N.a,{to:"/uc/root/stats/all_users"},"All users"))}))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),cc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"History by Item"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t,showLimit:!0}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Item"),a.a.createElement("th",{scope:"col",key:"item",className:"c-statsReport-title"},"Title"),t.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total requests"),t.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e,n){return a.a.createElement("tr",{key:n},a.a.createElement("th",{scope:"row",key:"id",className:"c-statsReport-id"},a.a.createElement(N.a,{to:"/uc/item/".concat(n.replace(/^qt/,""))},n.replace(/^qt/,""))),a.a.createElement("td",{key:"item",className:"c-statsReport-title"},e.title),t.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(e.total_hits)),t.report_months.map((function(t){return a.a.createElement("td",{key:t},e.by_month[t]>0?Ki(e.by_month[t]):null)})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),lc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"History by Issue"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Vol/Iss"),t.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total requests"),t.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(n){var r=n[0],o=n[1];return a.a.createElement("tr",{key:r},a.a.createElement("th",{scope:"row",key:"id"},a.a.createElement(N.a,{to:"/uc/".concat(e.props.match.params.unitID,"/").concat(o.vol_num,"/").concat(o.iss_num)},r)),t.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(o.total_hits)),t.report_months.map((function(e){return a.a.createElement("td",{key:e},o.by_month[e]>0?Ki(o.by_month[e]):null)})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),uc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data,n=t.report_months,r=n.filter((function(e){return 201711!=e}));return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"History by Referrer"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"ref"},"Referrer"),r.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total referrals"),r.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e){return a.a.createElement("tr",{key:e.referrer},a.a.createElement("th",{scope:"row",key:"id"},e.referrer),r.length>1&&a.a.createElement("td",{key:"total"},Ki(e.total_referrals)),r.map((function(t){return a.a.createElement("td",{key:t},e.by_month[t]>0?Ki(e.by_month[t]):null)})))}))))),(n.indexOf(201710)>=0||n.indexOf(201711)>=0||n.indexOf(201712)>=0)&&a.a.createElement("p",null,"Note: Referral data was not collected from Oct 19 to Dec 4, 2017."),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),sc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Breakdown by Item"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t,showLimit:!0}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Item"),a.a.createElement("th",{scope:"col",className:"c-statsReport-title"},"Title"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"),a.a.createElement("th",{scope:"col"},"%Dnld"))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("th",{scope:"row",className:"c-statsReport-id"},a.a.createElement(N.a,{to:"/uc/item/".concat(t.replace(/^qt/,""))},t.replace(/^qt/,""))),a.a.createElement("th",{className:"c-statsReport-title"},e.title),a.a.createElement("td",null,Ki(e.total_hits)),a.a.createElement("td",null,Ki(e.total_downloads)),a.a.createElement("td",null,e.total_hits>0&&Ki(e.total_hits-e.total_downloads)),a.a.createElement("td",null,e.total_hits>0&&(100*e.total_downloads/e.total_hits).toFixed(1)+"%"))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),pc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Breakdown by Issue"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Vol/Iss"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"),a.a.createElement("th",{scope:"col"},"%Dnld"))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(t){var n=t[0],r=t[1];return a.a.createElement("tr",{key:n},a.a.createElement("th",{scope:"row"},a.a.createElement(N.a,{to:"/uc/".concat(e.props.match.params.unitID,"/").concat(r.vol_num,"/").concat(r.iss_num)},n)),a.a.createElement("td",null,Ki(r.total_hits)),a.a.createElement("td",null,Ki(r.total_downloads)),a.a.createElement("td",null,r.total_hits>0&&Ki(r.total_hits-r.total_downloads)),a.a.createElement("td",null,r.total_hits>0&&(100*r.total_downloads/r.total_hits).toFixed(1)+"%"))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),fc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Breakdown by Month"},this.props)),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Month"),a.a.createElement("th",{scope:"col"},"Deposits"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"),a.a.createElement("th",{scope:"col"},"%Dnld"))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e){return a.a.createElement("tr",{key:e[0]},a.a.createElement("th",{scope:"row"},Zi(e[0])),a.a.createElement("td",null,Ki(e[1])),a.a.createElement("td",null,Ki(e[2])),a.a.createElement("td",null,Ki(e[3])),a.a.createElement("td",null,e[2]>0&&Ki(e[2]-e[3])),a.a.createElement("td",null,e[2]>0&&(100*e[3]/e[2]).toFixed(1)+"%"))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),mc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Breakdown by Category"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Category"),a.a.createElement("th",{scope:"col"},"Deposits"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"),a.a.createElement("th",{scope:"col"},"%Dnld"))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e){return a.a.createElement("tr",{key:e.category},a.a.createElement("th",{scope:"row"},tc(e.category)),a.a.createElement("td",null,Ki(e.total_deposits)),a.a.createElement("td",null,Ki(e.total_requests)),a.a.createElement("td",null,Ki(e.total_downloads)),a.a.createElement("td",null,e.total_requests>0&&Ki(e.total_requests-e.total_downloads)),a.a.createElement("td",null,e.total_requests>0&&(100*e.total_downloads/e.total_requests).toFixed(1)+"%"))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),dc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Deposits by Category"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Category"),t.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total deposits"),t.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e){return a.a.createElement("tr",{key:e.category},a.a.createElement("th",{scope:"row",key:"id"},tc(e.category)),t.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(e.total_deposits)),t.report_months.map((function(t){return a.a.createElement("td",{key:t},Ki(e.by_month[t]>0?e.by_month[t]:null))})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),bc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Deposits by OA policy relation"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Category"),t.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total deposits"),t.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e){return a.a.createElement("tr",{key:e.category},a.a.createElement("th",{scope:"row",key:"id"},tc(e.category)),t.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(e.total_deposits)),t.report_months.map((function(t){return a.a.createElement("td",{key:t},Ki(e.by_month[t]>0?e.by_month[t]:null))})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),yc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Deposits by Unit"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Unit"),t.any_drill_down&&a.a.createElement("th",{scope:"col",key:"dd"},"Drill down"),t.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total deposits"),t.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(n){return a.a.createElement("tr",{key:n.unit_name},a.a.createElement("th",{scope:"row",key:"id"},"Overall"!=n.unit_name?a.a.createElement(N.a,{to:"/uc/".concat(n.unit_id,"/stats")},n.unit_name):n.unit_name),t.any_drill_down&&a.a.createElement("td",{key:"dd"},n.child_types&&a.a.createElement(N.a,{to:"/uc/".concat(n.unit_id,"/stats/deposits_by_unit").concat(e.props.location.search)},Qi(n.child_types))),t.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(n.total_deposits)),t.report_months.map((function(e){return a.a.createElement("td",{key:e},Ki(n.by_month[e]>0?n.by_month[e]:null))})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),hc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"History by Unit"},t)),a.a.createElement(oc,t),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Unit"),t.data.any_drill_down&&a.a.createElement("th",{scope:"col",key:"dd"},"Drill down"),t.data.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Total requests"),t.data.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.data.report_data,(function(e){return a.a.createElement("tr",{key:e.unit_name},a.a.createElement("th",{scope:"row",key:"id"},"Overall"!=e.unit_name?a.a.createElement(N.a,{to:"/uc/".concat(e.unit_id,"/stats")},e.unit_name):e.unit_name),t.data.any_drill_down&&a.a.createElement("td",{key:"dd"},e.child_types&&a.a.createElement(N.a,{to:Xi(e.unit_id,t.match.params.pageName,t.location.search)},Qi(e.child_types))),t.data.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(e.total_requests)),t.data.report_months.map((function(t){return a.a.createElement("td",{key:t},Ki(e.by_month[t]>0?e.by_month[t]:null))})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),vc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Average Requests per Item by Unit"},t)),a.a.createElement(oc,t),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Unit"),t.data.any_drill_down&&a.a.createElement("th",{scope:"col",key:"dd"},"Drill down"),t.data.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Avg req/item"),t.data.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.data.report_data,(function(e){return a.a.createElement("tr",{key:e.unit_name},a.a.createElement("th",{scope:"row",key:"id"},"Overall"!=e.unit_name?a.a.createElement(N.a,{to:"/uc/".concat(e.unit_id,"/stats")},e.unit_name):e.unit_name),t.data.any_drill_down&&a.a.createElement("td",{key:"dd"},e.child_types&&a.a.createElement(N.a,{to:Xi(e.unit_id,t.match.params.pageName,t.location.search)},Qi(e.child_types))),t.data.report_months.length>1&&a.a.createElement("td",{key:"total"},Ki(e.total_avg)),t.data.report_months.map((function(t){return a.a.createElement("td",{key:t},Ki(e.by_month[t]>0?e.by_month[t]:null))})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),gc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Average Requests per Item by Category"},this.props)),a.a.createElement(oc,{location:this.props.location,data:t}),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col",key:"id"},"Category"),t.report_months.length>1&&a.a.createElement("th",{scope:"col",key:"total"},"Avg req/item"),t.report_months.map((function(e){return a.a.createElement("th",{scope:"col",key:e},Zi(e))})))),a.a.createElement("tbody",null,Yo.a.map(t.report_data,(function(e){return a.a.createElement("tr",{key:e.category},a.a.createElement("th",{scope:"row",key:"id"},tc(e.category)),t.report_months.length>1&&a.a.createElement("td",{key:"total"},e.total_avg),t.report_months.map((function(t){return a.a.createElement("td",{key:t},e.by_month[t]>0?e.by_month[t]:null)})))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),Ec=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Breakdown by Unit"},t)),a.a.createElement(oc,t),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Unit"),t.data.any_drill_down&&a.a.createElement("th",{scope:"col"},"Drill down"),a.a.createElement("th",{scope:"col"},"Deposits"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"),a.a.createElement("th",{scope:"col"},"%Dnld"))),a.a.createElement("tbody",null,Yo.a.map(t.data.report_data,(function(e){return a.a.createElement("tr",{key:e.unit_name},a.a.createElement("th",{scope:"row",key:"id"},"Overall"!=e.unit_name?a.a.createElement(N.a,{to:"/uc/".concat(e.unit_id,"/stats")},e.unit_name):e.unit_name),t.data.any_drill_down&&a.a.createElement("th",{key:"dd"},e.child_types&&a.a.createElement(N.a,{to:Xi(e.unit_id,t.match.params.pageName,t.location.search)},Qi(e.child_types))),a.a.createElement("td",null,Ki(e.total_deposits)),a.a.createElement("td",null,Ki(e.total_requests)),a.a.createElement("td",null,Ki(e.total_downloads)),a.a.createElement("td",null,e.total_requests>0&&Ki(e.total_requests-e.total_downloads)),a.a.createElement("td",null,e.total_requests>0&&(100*e.total_downloads/e.total_requests).toFixed(1)+"%"))}))))),a.a.createElement(ac,{onDownload:function(t){return nc(e.table,e.props.match.params)}}))}}])}(a.a.Component),_c=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this.props.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"Summary"},this.props)),e.variations.length>1&&a.a.createElement("p",null,"(* see below for name/email variations)"),a.a.createElement("div",{className:"c-datatable"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Deposits"),a.a.createElement("th",{scope:"col"},"Total requests"),a.a.createElement("th",{scope:"col"},"Download"),a.a.createElement("th",{scope:"col"},"View-only"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,Ki(e.posts)),a.a.createElement("td",null,Ki(e.hits)),a.a.createElement("td",null,Ki(e.downloads)),a.a.createElement("td",null,Ki(e.hits-e.downloads)))))),a.a.createElement("h2",null,"Available Reports"),a.a.createElement("ul",{className:"c-reportList"},a.a.createElement("li",null,"History by:",a.a.createElement(N.a,{to:"/uc/author/".concat(this.props.match.params.personID,"/stats/history_by_item")},"Item")),a.a.createElement("li",null,"Breakdown by:",a.a.createElement(N.a,{to:"/uc/author/".concat(this.props.match.params.personID,"/stats/breakdown_by_item")},"Item"),a.a.createElement(N.a,{to:"/uc/author/".concat(this.props.match.params.personID,"/stats/breakdown_by_month")},"Month"))),e.variations.length>1&&a.a.createElement("div",null,"* Author name/email variations included in these reports:",a.a.createElement("ul",null,Yo.a.map(e.variations,(function(e){return a.a.createElement("li",{key:e[0]+e[1]},e[0]," <",e[1],">")})))),a.a.createElement(ac,null))}}])}(a.a.Component),wc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data;return a.a.createElement("div",{className:"c-statsReport"},a.a.createElement(rc,Li({title:"All Users"},t)),a.a.createElement(Ae.a,{to:t.location.pathname,method:"GET"},a.a.createElement("div",{className:"c-daterange"},a.a.createElement("div",null,a.a.createElement("div",{className:"o-input__inline"},a.a.createElement("span",{className:"c-statsReport-dateSection"},"Unit types:"),a.a.createElement("input",{type:"checkbox",id:"type-campus",name:"type-campus",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"type-campus")}),a.a.createElement("label",{htmlFor:"type-campus",className:"c-statsReport-checkbox-label"},"Campus"),a.a.createElement("input",{type:"checkbox",id:"type-oru",name:"type-oru",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"type-oru")}),a.a.createElement("label",{htmlFor:"type-oru",className:"c-statsReport-checkbox-label"},"ORU"),a.a.createElement("input",{type:"checkbox",id:"type-series",name:"type-series",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"type-series")}),a.a.createElement("label",{htmlFor:"type-series",className:"c-statsReport-checkbox-label"},"Series"),a.a.createElement("input",{type:"checkbox",id:"type-journal",name:"type-journal",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"type-journal")}),a.a.createElement("label",{htmlFor:"type-journal",className:"c-statsReport-checkbox-label"},"Journal"))),a.a.createElement("div",null,a.a.createElement("div",{className:"o-input__inline"},a.a.createElement("span",{className:"c-statsReport-dateSection"},"Journal roles:"),a.a.createElement("input",{type:"checkbox",id:"role-JournalManager",name:"role-JournalManager",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-JournalManager")}),a.a.createElement("label",{htmlFor:"role-JournalManager",className:"c-statsReport-checkbox-label"},"Manager"),a.a.createElement("input",{type:"checkbox",id:"role-JournalEditor",name:"role-JournalEditor",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-JournalEditor")}),a.a.createElement("label",{htmlFor:"role-JournalEditor",className:"c-statsReport-checkbox-label"},"Journal Editor"),a.a.createElement("input",{type:"checkbox",id:"role-SectionEditor",name:"role-SectionEditor",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-SectionEditor")}),a.a.createElement("label",{htmlFor:"role-SectionEditor",className:"c-statsReport-checkbox-label"},"Section Editor"),a.a.createElement("input",{type:"checkbox",id:"role-LayoutEditor",name:"role-LayoutEditor",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-LayoutEditor")}),a.a.createElement("label",{htmlFor:"role-LayoutEditor",className:"c-statsReport-checkbox-label"},"Layout Editor"),a.a.createElement("input",{type:"checkbox",id:"role-Reviewer",name:"role-Reviewer",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-Reviewer")}),a.a.createElement("label",{htmlFor:"role-Reviewer",className:"c-statsReport-checkbox-label"},"Reviewer"),a.a.createElement("input",{type:"checkbox",id:"role-CopyEditor",name:"role-CopyEditor",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-CopyEditor")}),a.a.createElement("label",{htmlFor:"role-CopyEditor",className:"c-statsReport-checkbox-label"},"Copy Editor"),a.a.createElement("input",{type:"checkbox",id:"role-Proofreader",name:"role-Proofreader",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-Proofreader")}),a.a.createElement("label",{htmlFor:"role-Proofreader",className:"c-statsReport-checkbox-label"},"Proofreader"),a.a.createElement("input",{type:"checkbox",id:"role-JournalAuthor",name:"role-JournalAuthor",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-JournalAuthor")}),a.a.createElement("label",{htmlFor:"role-JournalAuthor",className:"c-statsReport-checkbox-label"},"Author"),a.a.createElement("input",{type:"checkbox",id:"role-Reader",name:"role-Reader",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-Reader")}),a.a.createElement("label",{htmlFor:"role-Reader",className:"c-statsReport-checkbox-label"},"Reader"),a.a.createElement("input",{type:"checkbox",id:"role-SubscriptionManager",name:"role-SubscriptionManager",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-SubscriptionManager")}),a.a.createElement("label",{htmlFor:"role-SubscriptionManager",className:"c-statsReport-checkbox-label"},"Subscription Manager")),a.a.createElement("div",{className:"o-input__inline"},a.a.createElement("span",{className:"c-statsReport-dateSection"},"eSchol roles:"),a.a.createElement("input",{type:"checkbox",id:"role-UnitAdmin",name:"role-UnitAdmin",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-UnitAdmin")}),a.a.createElement("label",{htmlFor:"role-UnitAdmin",className:"c-statsReport-checkbox-label"},"Unit Admin"),a.a.createElement("input",{type:"checkbox",id:"role-StatsReceiver",name:"role-StatsReceiver",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-StatsReceiver")}),a.a.createElement("label",{htmlFor:"role-StatsReceiver",className:"c-statsReport-checkbox-label"},"Stats Receiver"),a.a.createElement("input",{type:"checkbox",id:"role-Submitter",name:"role-Submitter",className:"c-statsReport-checkbox",defaultChecked:Yo.a.includes(n.selection,"role-Submitter")}),a.a.createElement("label",{htmlFor:"role-Submitter",className:"c-statsReport-checkbox-label"},"Submitter"))),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",key:"submit"},"Update")))),a.a.createElement("br",null),n.report_data[0]?a.a.createElement("div",{className:"c-datatable c-datatable-leftalign"},a.a.createElement("table",{ref:function(t){return e.table=t}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Email"),a.a.createElement("th",{scope:"col"},"Name"),Yo.a.map(n.all_roles,(function(e){return[a.a.createElement("th",{scope:"col",key:"".concat(e,"-1")},e.replace(/([A-Z][^A-Z]*)([A-Z].*)/,"$1 $2")," by id"),a.a.createElement("th",{scope:"col",key:"".concat(e,"-2")},e.replace(/([A-Z][^A-Z]*)([A-Z].*)/,"$1 $2")," by name")]})))),a.a.createElement("tbody",null,Yo.a.map(n.report_data,(function(e){return a.a.createElement("tr",{key:e.email},a.a.createElement("td",null,e.email),a.a.createElement("td",null,e.name),Yo.a.map(n.all_roles,(function(t){return[a.a.createElement("td",{key:"".concat(t,"-1")},Yo.a.map(e.roles[t],(function(e){return a.a.createElement("div",{key:e[0]},e[0])}))),a.a.createElement("td",{key:"".concat(t,"-2")},Yo.a.map(e.roles[t],(function(e){return a.a.createElement("div",{key:e[1]},e[1])})))]})))}))))):a.a.createElement("div",null,a.a.createElement("i",null,"(no matching users)")),n.report_data[0]&&a.a.createElement(ac,{onDownload:function(n){return nc(e.table,t.match.params)}}))}}])}(a.a.Component),Oc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"needHeaderFooter",value:function(){return!1}},{key:"pagePermissionsUnit",value:function(){return this.props.match.params.unitID}},{key:"renderContent",value:function(){return this.state.pageData&&this.state.pageData.error?this.renderError():this.state.pageData&&!this.state.fetchingData?this.renderData(this.state.pageData):this.renderLoading()}},{key:"renderData",value:function(e){var t=this.props.match.params.pageName||"summary";return"summary"==t?a.a.createElement(ic,Li({data:e},this.props)):"history_by_item"==t?a.a.createElement(cc,Li({data:e},this.props)):"history_by_issue"==t?a.a.createElement(lc,Li({data:e},this.props)):"breakdown_by_item"==t?a.a.createElement(sc,Li({data:e},this.props)):"breakdown_by_issue"==t?a.a.createElement(pc,Li({data:e},this.props)):"breakdown_by_month"==t?a.a.createElement(fc,Li({data:e},this.props)):"referrals"==t?a.a.createElement(uc,Li({data:e},this.props)):"deposits_by_category"==t?a.a.createElement(dc,Li({data:e},this.props)):"deposits_by_unit"==t?a.a.createElement(yc,Li({data:e},this.props)):"history_by_unit"==t?a.a.createElement(hc,Li({data:e},this.props)):"breakdown_by_unit"==t?a.a.createElement(Ec,Li({data:e},this.props)):"breakdown_by_category"==t?a.a.createElement(mc,Li({data:e},this.props)):"avg_by_unit"==t?a.a.createElement(vc,Li({data:e},this.props)):"avg_by_category"==t?a.a.createElement(gc,Li({data:e},this.props)):"deposits_by_oa"==t?a.a.createElement(bc,Li({data:e},this.props)):"all_users"==t?a.a.createElement(wc,Li({data:e},this.props)):a.a.createElement(Ii.a,{error:"Not Found"})}}])}(b.a),jc=function(e){function t(){return zi(this,t),Ji(this,t,arguments)}return $i(t,e),Wi(t,[{key:"needHeaderFooter",value:function(){return!1}},{key:"renderContent",value:function(){return this.state.pageData&&this.state.pageData.error?this.renderError():this.state.pageData&&!this.state.fetchingData?this.renderData(this.state.pageData):this.renderLoading()}},{key:"renderData",value:function(e){var t=this.props.match.params.pageName||"summary";return"summary"==t?a.a.createElement(_c,Li({data:e},this.props)):"history_by_item"==t?a.a.createElement(cc,Li({data:e},this.props)):"breakdown_by_item"==t?a.a.createElement(sc,Li({data:e},this.props)):"breakdown_by_month"==t?a.a.createElement(fc,Li({data:e},this.props)):void 0}}])}(b.a);function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nc(r.key),r)}}function Nc(e){var t=function(e,t){if("object"!=Sc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sc(t)?t:t+""}function Cc(e,t,n){return t=Dc(t),function(e,t){if(t&&("object"==Sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Dc(e).constructor):t.apply(e,n))}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tc(e,t){return(Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Rc=function(e){function t(){return Pc(this,t),Cc(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}(t,e),function(e,t,n){return t&&kc(e.prototype,t),n&&kc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement(Ae.a,{to:"/search",method:"GET"},a.a.createElement("div",{className:"c-campussearch"},a.a.createElement("label",{htmlFor:"c-campussearch__search",className:"c-campussearch__label"},"Discover ",this.props.campusName," scholarship"),a.a.createElement("div",{className:"c-campussearch__search"},a.a.createElement("input",{type:"search",name:"q",className:"c-campussearch__input",id:"c-campussearch__search"}),a.a.createElement("input",{type:"hidden",name:"searchUnitType",value:"campuses"}),a.a.createElement("input",{type:"hidden",name:"searchType",value:this.props.campusID}),a.a.createElement("button",{type:"submit",className:"c-campussearch__button","aria-label":"Search"}))))}}])}(a.a.Component);function xc(e){return(xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qc(r.key),r)}}function qc(e){var t=function(e,t){if("object"!=xc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xc(t)?t:t+""}function Mc(e,t,n){return t=Ic(t),function(e,t){if(t&&("object"==xc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ic(e).constructor):t.apply(e,n))}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fc(e,t){return(Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Lc=function(e){function t(){return Ac(this,t),Mc(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fc(e,t)}(t,e),function(e,t,n){return t&&Bc(e.prototype,t),n&&Bc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props.hero&&this.props.hero.url?"url("+this.props.hero.url+")":null;return a.a.createElement("div",{className:"c-campushero",style:{backgroundImage:e}},a.a.createElement("div",{className:"c-campushero__lede"},"Share your research ",a.a.createElement("span",null,"with a global audience")),a.a.createElement("div",{className:"c-campushero__text"},"The eScholarship suite of open access publishing services gives UC scholars direct control over the creation and dissemination of the full range of their research."),a.a.createElement("div",{className:"c-campushero__link"},a.a.createElement(N.a,{to:"/uc/"+this.props.campusID+"/about"},"Get started")))}}])}(a.a.Component),Uc=n(40);function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$c(r.key),r)}}function Hc(e,t,n){return t=Jc(t),function(e,t){if(t&&("object"==zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Jc(e).constructor):t.apply(e,n))}function Jc(e){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gc(e,t){return(Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $c(e){var t=function(e,t){if("object"!=zc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zc(t)?t:t+""}var Yc=function(e){function t(){return Vc(this,t),Hc(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}(t,e),function(e,t,n){return t&&Wc(e.prototype,t),n&&Wc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props.campusStats,t=this.props.allStats,n=1==e.journal_count?"":"s",r=1==e.oru_count?"":"s";return a.a.createElement(Uc.a,{className:"c-statcarousel",options:{cellAlign:"left",contain:!0,initialIndex:0,pageDots:!1}},a.a.createElement("div",{className:"c-statcarousel__section-heading"},a.a.createElement("h2",null,this.props.campusName),a.a.createElement("div",{className:"o-stat--item c-statcarousel__cell"},a.a.createElement("a",{href:"/search?campuses="+this.props.campusID},e.item_count.toLocaleString())," Items")),e.view_count>0&&a.a.createElement("div",{className:"o-stat--view c-statcarousel__cell"},a.a.createElement("b",null,e.view_count.toLocaleString())," Views"),e.journal_count>0&&a.a.createElement("div",{className:"o-stat--journals c-statcarousel__cell"},a.a.createElement("a",{href:"/"+this.props.campusID+"/journals"},e.journal_count.toLocaleString())," eScholarship Journal",n),e.oru_count>0&&a.a.createElement("div",{className:"o-stat--units c-statcarousel__cell"},a.a.createElement("a",{href:"/"+this.props.campusID+"/units"},e.oru_count.toLocaleString())," Research Unit",r),a.a.createElement("div",{className:"c-statcarousel__section-heading"},a.a.createElement("h2",null,"All eScholarship"),a.a.createElement("div",{className:"o-stat--item c-statcarousel__cell"},a.a.createElement("b",null,t.all_item_count.toLocaleString())," Items")),a.a.createElement("div",{className:"o-stat--view c-statcarousel__cell"},a.a.createElement("b",null,t.all_view_count.toLocaleString())," Views"),a.a.createElement("div",{className:"o-stat--journals c-statcarousel__cell"},a.a.createElement("a",{href:"/journals"},t.all_journal_count.toLocaleString())," eScholarship Journals"),a.a.createElement("div",{className:"o-stat--units c-statcarousel__cell"},a.a.createElement("b",null,t.all_oru_count.toLocaleString())," Research Units"))}}])}(a.a.Component);!function(e,t,n){(t=$c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yc,"propTypes",{campusName:d.a.string.isRequired,campusID:d.a.string.isRequired,campusStats:d.a.shape({item_count:d.a.number,view_count:d.a.number,journal_count:d.a.number,oru_count:d.a.number}).isRequired,allStats:d.a.shape({all_item_count:d.a.number,all_view_count:d.a.number,all_journal_count:d.a.number,all_oru_count:d.a.number}).isRequired});var Zc=Yc;function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,il(r.key),r)}}function el(e,t,n){return t&&Xc(e.prototype,t),n&&Xc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tl(e,t,n){return t=nl(t),function(e,t){if(t&&("object"==Kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],nl(e).constructor):t.apply(e,n))}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&al(e,t)}function al(e,t){return(al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ol(e,t,n){return(t=il(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function il(e){var t=function(e,t){if("object"!=Kc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kc(t)?t:t+""}var cl=function(e){function t(){return Qc(this,t),tl(this,t,arguments)}return rl(t,e),el(t,[{key:"render",value:function(){var e,t,n,r=this.props.result,o="/uc/item/"+r.id.replace(/^qt/,"");return r.authors&&(e=r.authors.map((function(e,t){return a.a.createElement("li",{key:t},e.name)}))),a.a.createElement("div",{className:"c-unitcarousel__item"},a.a.createElement("h3",null,a.a.createElement("a",{href:o},a.a.createElement(Zn.a,{html:r.title}))),e&&a.a.createElement("div",{className:"c-unitcarousel__item-authorlist"},a.a.createElement("div",{className:"c-authorlist"},a.a.createElement("ul",{className:"c-authorlist__list"},e))),a.a.createElement("div",{className:"c-unitcarousel__item-type--".concat((n=r.genre,"article"==n?"article":"monograph"==n?"book":"dissertation"==n||"etd"==n?"thesis":"multimedia"==n?"multimedia":"article"))},(t=r.genre).charAt(0).toUpperCase()+t.slice(1)))}}])}(a.a.Component);ol(cl,"propTypes",{result:d.a.shape({id:d.a.string.isRequired,title:d.a.string.isRequired,authors:d.a.array,genre:d.a.string}).isRequired});var ll=function(e){function t(){var e;Qc(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ol(e=tl(this,t,[].concat(r)),"scrollDown",(function(){e.scrollBox.scrollBy({top:100,behavior:"smooth"}),e.scrollBox.focus()})),ol(e,"scrollUp",(function(){e.scrollBox.scrollBy({top:-100,behavior:"smooth"}),e.scrollBox.focus()})),e}return rl(t,e),el(t,[{key:"render",value:function(){var e=this,t=this.props,n=1==t.item_count?"":"s";return a.a.createElement("div",{className:"c-campuscarouselframe"},a.a.createElement("h2",{className:"c-campuscarouselframe__heading"},a.a.createElement(N.a,{to:"/uc/"+t.titleID},t.titleName)),a.a.createElement("div",{className:"c-campuscarouselframe__carousel"},a.a.createElement("div",{className:"c-unitcarousel"},a.a.createElement("button",{className:"c-unitcarousel__button-up",onClick:this.scrollUp,"aria-label":"Scroll Up"}),a.a.createElement("div",{className:"c-unitcarousel__scrollbox",ref:function(t){return e.scrollBox=t},tabIndex:"-1"},t.slides.map((function(e,t){return a.a.createElement(cl,{key:t,result:e})}))),a.a.createElement("button",{className:"c-unitcarousel__button-down",onClick:this.scrollDown,"aria-label":"Scroll Down"}))),a.a.createElement("div",{className:"c-campuscarouselframe__stats"},t.item_count>0&&a.a.createElement("div",{className:"o-stat--item"},a.a.createElement(N.a,{to:"/uc/"+t.titleID},t.item_count.toLocaleString()),"Item",n),t.view_count>0&&a.a.createElement("div",{className:"o-stat--view"},a.a.createElement("b",null,t.view_count.toLocaleString()),"Views")))}}])}(a.a.Component);ol(ll,"propTypes",{titleID:d.a.string.isRequired,titleName:d.a.string.isRequired,slides:d.a.arrayOf(d.a.shape({id:d.a.string.isRequired,title:d.a.string.isRequired,authors:d.a.array,genre:d.a.string})).isRequired,item_count:d.a.number.isRequired,view_count:d.a.number.isRequired});var ul=ll;function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yl(r.key),r)}}function ml(e,t,n){return t=dl(t),function(e,t){if(t&&("object"==sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],dl(e).constructor):t.apply(e,n))}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bl(e,t){return(bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yl(e){var t=function(e,t){if("object"!=sl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sl(t)?t:t+""}if("undefined"!=typeof document)n(26);var hl=function(e){function t(){return pl(this,t),ml(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bl(e,t)}(t,e),function(e,t,n){return t&&fl(e.prototype,t),n&&fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){dn()(".o-journal2 figcaption").dotdotdot({watch:"window"})}},{key:"render",value:function(){var e=this.props,t=1==e.item_count?"":"s";return a.a.createElement("div",{className:"c-campuscarouselframe"},a.a.createElement("h2",{className:"c-campuscarouselframe__heading"},a.a.createElement(N.a,{to:"/"+e.titleID+"/journals"},e.titleName," Journals")),a.a.createElement("div",{className:"c-campuscarouselframe__carousel"},a.a.createElement(Uc.a,{className:"c-journalcarousel",options:{cellAlign:"left",initialIndex:0,pageDots:!1,imagesLoaded:!0,percentPosition:!1}},e.slides.map((function(e){return a.a.createElement("div",{key:e.unit_id,className:"c-journalcarousel__item"},a.a.createElement("a",{href:"/uc/"+e.unit_id,className:"o-journal2"},a.a.createElement("figure",null,e.cover?a.a.createElement("img",{src:"/cms-assets/"+e.cover.asset_id,alt:e.name}):a.a.createElement("img",{src:oe.a+"/temp_article.png",alt:e.name}),a.a.createElement("figcaption",null,e.name))))})))),a.a.createElement("div",{className:"c-campuscarouselframe__stats"},e.item_count>0&&a.a.createElement("div",{className:"o-stat--item"},a.a.createElement(N.a,{to:"/"+e.titleID+"/journals"},e.item_count.toLocaleString()),"Item",t),e.view_count>0&&a.a.createElement("div",{className:"o-stat--view"},a.a.createElement("b",null,e.view_count.toLocaleString()),"Views")))}}])}(a.a.Component);!function(e,t,n){(t=yl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(hl,"propTypes",{titleID:d.a.string.isRequired,titleName:d.a.string.isRequired,slides:d.a.arrayOf(d.a.shape({unit_id:d.a.string.isRequired,name:d.a.string.isRequired,cover:d.a.shape({width:d.a.number,height:d.a.number,asset_id:d.a.string})})).isRequired,item_count:d.a.number.isRequired,view_count:d.a.number.isRequired});var vl=hl;function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function El(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sl(r.key),r)}}function wl(e,t,n){return t=Ol(t),function(e,t){if(t&&("object"==gl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ol(e).constructor):t.apply(e,n))}function Ol(e){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jl(e,t){return(jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sl(e){var t=function(e,t){if("object"!=gl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gl(t)?t:t+""}var Pl=function(e){function t(){return El(this,t),wl(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jl(e,t)}(t,e),function(e,t,n){return t&&_l(e.prototype,t),n&&_l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"renderCampusCarousel",value:function(e){return"unit"==e.mode?a.a.createElement(ul,e.data):"journals"==e.mode?a.a.createElement(vl,e.data):void 0}},{key:"render",value:function(){var e=this.props.data,t=this.props.unit;return a.a.createElement("div",null,a.a.createElement(Lc,{hero:e.hero,campusID:t.id}),a.a.createElement(Zc,{campusName:t.name,campusID:t.id,campusStats:e.campusStats,allStats:e.allStats}),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement(Rc,{campusID:t.id,campusName:t.name}),e.contentCar1&&e.contentCar1.mode&&"disabled"!=e.contentCar1.mode&&e.contentCar1.data&&this.renderCampusCarousel(e.contentCar1),e.contentCar2&&e.contentCar2.mode&&"disabled"!=e.contentCar2.mode&&e.contentCar2.data&&this.renderCampusCarousel(e.contentCar2)),a.a.createElement("aside",null,this.props.sidebar)))}}])}(a.a.Component);!function(e,t,n){(t=Sl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Pl,"propTypes",{data:d.a.shape({hero:d.a.shape({url:d.a.string,width:d.a.number,height:d.a.number}),campusStats:d.a.shape({item_count:d.a.number,view_count:d.a.number,journal_count:d.a.number,oru_count:d.a.number}).isRequired,allStats:d.a.shape({all_item_count:d.a.number,all_view_count:d.a.number,all_journal_count:d.a.number,all_oru_count:d.a.number}).isRequired,contentCar1:d.a.shape({mode:d.a.string,data:d.a.shape({titleID:d.a.string,titleName:d.a.string,slides:d.a.array,item_count:d.a.number,view_count:d.a.number})})})});var kl=Pl,Nl=n(45),Cl=n(21);function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xl(r.key),r)}}function xl(e){var t=function(e,t){if("object"!=Dl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dl(t)?t:t+""}function Al(e,t,n){return t=Bl(t),function(e,t){if(t&&("object"==Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Bl(e).constructor):t.apply(e,n))}function Bl(e){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ql(e,t){return(ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ml=function(e){function t(){return Tl(this,t),Al(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ql(e,t)}(t,e),function(e,t,n){return t&&Rl(e.prototype,t),n&&Rl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props.supp_files.map((function(e,t,n){var r;if(e.count>=1)return r="video"===e.type||"image"===e.type?1!=e.count?e.type+"s":e.type:"audio"===e.type?1!=e.count?"audio files":"audio file":"pdf"===e.type?1!=e.count?"PDFs":"PDF":"zip"===e.type?a.a.createElement("abbr",{title:"zips"},1!=e.count?"ZIPs":"ZIP"):1!=e.count?"files":"file",a.a.createElement("li",{key:e+t,className:"c-medialist__"+e.type},e.count," supplemental ",r)}));return a.a.createElement("ul",{className:"c-medialist"},e)}}])}(a.a.Component);function Il(e){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gl(r.key),r)}}function Ll(e,t,n){return t&&Fl(e.prototype,t),n&&Fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t,n){return t=Vl(t),function(e,t){if(t&&("object"==Il(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vl(e).constructor):t.apply(e,n))}function Vl(e){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hl(e,t)}function Hl(e,t){return(Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jl(e,t,n){return(t=Gl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e){var t=function(e,t){if("object"!=Il(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Il(t)?t:t+""}a.a.Component;var $l=function(e){function t(){return Ul(this,t),zl(this,t,arguments)}return Wl(t,e),Ll(t,[{key:"render",value:function(){var e=this.props.result,t="/uc/item/"+e.id.replace(/^qt/,""),n=jo.a.sumValueTotals(e.supp_files,"count");return a.a.createElement("div",{className:"c-pub"},a.a.createElement(Cl.a,{element:this.props.h,className:"c-pub__heading"},a.a.createElement("a",{href:t},a.a.createElement(Zn.a,{html:e.title}))),a.a.createElement(Kn.a,{author_hide:e.author_hide,authors:e.authors,editors:e.editors,advisors:e.advisors,id:e.id}),e.pub_year&&a.a.createElement("div",{className:"c-scholworks__publication"},"(",e.pub_year,")"),e.abstract&&a.a.createElement(Cl.a,{element:"div",className:"c-pub__abstract"},a.a.createElement(Zn.a,{html:e.abstract,p_wrap:!0,h1Level:3})),n>0&&a.a.createElement(Ml,{supp_files:e.supp_files}))}}])}(a.a.Component);Jl($l,"propTypes",{h:d.a.string.isRequired,result:d.a.shape({id:d.a.string,title:d.a.string,genre:d.a.string,peerReviewed:d.a.bool,author_hide:d.a.bool,authors:d.a.array,supp_files:d.a.array,pub_year:d.a.number,abstract:d.a.string,rights:d.a.string}).isRequired});var Yl=$l;function Zl(e){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ou(r.key),r)}}function Xl(e,t,n){return t&&Ql(e.prototype,t),n&&Ql(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eu(e,t,n){return t=tu(t),function(e,t){if(t&&("object"==Zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],tu(e).constructor):t.apply(e,n))}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ru(e,t)}function ru(e,t){return(ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function au(e,t,n){return(t=ou(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ou(e){var t=function(e,t){if("object"!=Zl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zl(t)?t:t+""}var iu=function(e){function t(){return Kl(this,t),eu(this,t,arguments)}return nu(t,e),Xl(t,[{key:"render",value:function(){var e=this.props.data,t=e.count==e.previewLimit+1?"":"s";return a.a.createElement("details",{className:"c-togglecontent c-unitseries"},a.a.createElement("summary",null,a.a.createElement(N.a,{to:"/uc/"+e.unit_id},e.name," (",e.count,")")),e.items.map((function(e){return a.a.createElement(Yl,{key:e.id,result:e,h:"h3"})})),e.count>e.previewLimit&&a.a.createElement("div",{className:"c-unitseries__publications2"},e.count-e.previewLimit," more work",t," — ",a.a.createElement(N.a,{to:"/uc/"+e.unit_id},"show all")))}}])}(a.a.Component);au(iu,"propTypes",{data:d.a.shape({unit_id:d.a.string.isRequired,name:d.a.string.isRequired,count:d.a.number.isRequired,previewLimit:d.a.number.isRequired,items:d.a.arrayOf(d.a.shape({id:d.a.string.isRequired,title:d.a.string.isRequired,abstract:d.a.string,authors:d.a.array,content_type:d.a.string,supp_files:d.a.array})).isRequired})});var cu=function(e){function t(){var e;Kl(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return au(e=eu(this,t,[].concat(r)),"seriesCompListMaker",(function(e){var t=[];for(var n in e)e[n].items.length>0&&t.push(a.a.createElement(iu,{key:e[n].unit_id,data:e[n]}));return t})),e}return nu(t,e),Xl(t,[{key:"render",value:function(){var e=this.props.data,t=this.seriesCompListMaker(e.series),n=this.seriesCompListMaker(e.monograph_series),r=this.props.marquee;return a.a.createElement("div",null,(r.carousel&&r.slides||r.about)&&a.a.createElement(Nl.a,{marquee:r}),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h2",null,this.props.unit.name)),a.a.createElement("div",{className:"c-itemactions"},a.a.createElement(Sn,{type:"unit",id:this.props.unit.id})),0==this.props.unit.extent.count?a.a.createElement("div",{className:"c-unitseries__publications1"},"There are currently no publications in this collection."):a.a.createElement("div",{className:"c-unitseries__publications1"},"There are ",this.props.unit.extent.count," publications in this collection, published between ",this.props.unit.extent.pub_year.start," and ",this.props.unit.extent.pub_year.end,"."),t.length>0&&t,n.length>0&&n,e.journals.length>0&&a.a.createElement("div",{className:"c-unitlist"},a.a.createElement("h3",null,"Journals"),a.a.createElement("ul",null,e.journals.map((function(e){return a.a.createElement("li",{key:e.unit_id},a.a.createElement(N.a,{to:"/uc/"+e.unit_id},e.name))}))," ")),e.related_orus.length>0&&a.a.createElement("div",{className:"c-unitlist"},a.a.createElement("h3",null,"Related Research Centers & Groups"),a.a.createElement("ul",null,e.related_orus.map((function(e){return a.a.createElement("li",{key:e.unit_id},a.a.createElement(N.a,{to:"/uc/"+e.unit_id},e.name))})))))),a.a.createElement("aside",null,this.props.sidebar)))}}])}(a.a.Component);au(cu,"propTypes",{unit:d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,type:d.a.string.isRequired,extent:d.a.object}).isRequired,data:d.a.shape({series:d.a.array.isRequired,monograph_series:d.a.array.isRequired,journals:d.a.arrayOf(d.a.shape({name:d.a.string,unit_id:d.a.string})),related_orus:d.a.arrayOf(d.a.shape({name:d.a.string,unit_id:d.a.string}))}).isRequired,marquee:d.a.shape({carousel:d.a.any,about:d.a.about})});var lu=cu;function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bu(r.key),r)}}function fu(e,t,n){return t=mu(t),function(e,t){if(t&&("object"==uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],mu(e).constructor):t.apply(e,n))}function mu(e){return(mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function du(e,t){return(du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bu(e){var t=function(e,t){if("object"!=uu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uu(t)?t:t+""}var yu=function(e){function t(){return su(this,t),fu(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&du(e,t)}(t,e),function(e,t,n){return t&&pu(e.prototype,t),n&&pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props.result,t="/uc/item/"+e.id.replace(/^qt/,"");return a.a.createElement("div",{className:"c-pubpreview"},e.thumbnail&&a.a.createElement(N.a,{to:t,className:"c-pubpreview__img"},a.a.createElement("img",{src:"/cms-assets/"+e.thumbnail.asset_id,alt:"Cover page of ".concat(e.title)})),a.a.createElement(Yl,{result:this.props.result,h:this.props.h}))}}])}(a.a.Component);!function(e,t,n){(t=bu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yu,"propTypes",{h:d.a.string.isRequired,result:d.a.shape({id:d.a.string,title:d.a.string,genre:d.a.string,peerReviewed:d.a.bool,journalInfo:d.a.any,unitInfo:d.a.any,authors:d.a.array,supp_files:d.a.array,pub_year:d.a.number,abstract:d.a.string,rights:d.a.string,thumbnail:d.a.shape({width:d.a.number.isRequired,height:d.a.number.isRequired,asset_id:d.a.string.isRequired,timestamp:d.a.number.isRequired,image_type:d.a.string.isRequired})}).isRequired});var hu=yu,vu=n(240),gu=n(33);function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ou(r.key),r)}}function Ou(e){var t=function(e,t){if("object"!=Eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eu(t)?t:t+""}function ju(e,t,n){return t=Su(t),function(e,t){if(t&&("object"==Eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Su(e).constructor):t.apply(e,n))}function Su(e){return(Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pu(e,t){return(Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ku=function(e){function t(){return _u(this,t),ju(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pu(e,t)}(t,e),function(e,t,n){return t&&wu(e.prototype,t),n&&wu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-sortpagination"},a.a.createElement(vu.a,{formName:e.formName,formButton:e.formButton,query:e.query,count:e.count,relQueryOff:e.relQueryOff}),a.a.createElement("input",{type:"hidden",name:"start",form:e.formName,value:e.query.start}),this.props.count>this.props.query.rows&&a.a.createElement(gu.a,{formName:e.formName,formButton:e.formButton,query:e.query,count:e.count}))}}])}(a.a.Component);function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mu(r.key),r)}}function Tu(e,t,n){return t&&Du(e.prototype,t),n&&Du(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ru(e,t,n){return t=xu(t),function(e,t){if(t&&("object"==Nu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],xu(e).constructor):t.apply(e,n))}function xu(e){return(xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Au(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bu(e,t)}function Bu(e,t){return(Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qu(e,t,n){return(t=Mu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mu(e){var t=function(e,t){if("object"!=Nu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nu(t)?t:t+""}var Iu=function(e){function t(){var e;Cu(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return qu(e=Ru(this,t,[].concat(r)),"state",{isOpen:!1}),e}return Au(t,e),Tu(t,[{key:"closeSelector",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"o-customselector"},a.a.createElement("h2",{className:"o-customselector__heading"},t.unit.name),a.a.createElement("details",{open:this.state.isOpen,ref:function(t){return e.details=t},className:"o-customselector__selector"},a.a.createElement("summary",{"aria-label":"Select a different series",onClick:function(t){e.setState({isOpen:!e.details.open}),t.preventDefault()}}),a.a.createElement("div",{className:"o-customselector__menu"},a.a.createElement("ul",{className:"o-customselector__items",role:"list"},t.series.map((function(t,n){return a.a.createElement("li",{key:n},a.a.createElement(N.a,{to:"/uc/"+t.unit_id,onClick:function(){return e.closeSelector()}},t.name))}))))))}}])}(a.a.Component);qu(Iu,"propTypes",{unit:d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,type:d.a.string,extent:d.a.object}).isRequired,series:d.a.array.isRequired});var Fu=function(e){function t(){var e;Cu(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return qu(e=Ru(this,t,[].concat(r)),"handleSubmit",(function(e,t){for(var n in t)(""==t[n]||"sort"===n&&"rel"===t[n]||"rows"===n&&"10"===t[n]||"start"===n&&"0"===t[n])&&delete t[n];return!0})),e}return Au(t,e),Tu(t,[{key:"render",value:function(){var e=this.props.data,t=this.props.unit,n=e.series.filter((function(e){return e.unit_id!=t.id})).sort((function(e,t){return Number(e.ordering)-Number(t.ordering)}));return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("div",{className:"c-itemactions"},e.series.length>1?a.a.createElement(Iu,{unit:t,series:n}):a.a.createElement("h3",{className:"o-heading3"},t.name),a.a.createElement(Sn,{type:"unit",id:t.id})),this.props.marquee.about&&a.a.createElement(Zn.a,{html:this.props.marquee.about,h1Level:2}),0==this.props.data.count?a.a.createElement("div",null,a.a.createElement("hr",null),a.a.createElement("p",null,a.a.createElement("br",null),a.a.createElement("br",null),'There are currently no publications in this series "',t.name,'".')):a.a.createElement(Ae.a,{id:"seriesForm",to:"/uc/"+this.props.unit.id+"/search",method:"GET",onSubmit:this.handleSubmit},this.props.data.count>2&&a.a.createElement(ku,{formName:"seriesForm",formButton:"series-form-submit",query:e.query,count:e.count,relQueryOff:!0}),a.a.createElement("div",null,e.searchResults.map((function(e){return a.a.createElement(hu,{h:"h2",key:e.id,result:e})}))),e.count>e.query.rows&&a.a.createElement(gu.a,{formName:"seriesForm",formButton:"series-form-submit",query:e.query,count:e.count}),a.a.createElement("button",{type:"submit",id:"series-form-submit",style:{display:"none"}},"Search")))),a.a.createElement("aside",null,this.props.sidebar))}}])}(a.a.Component);qu(Fu,"propTypes",{unit:d.a.shape({id:d.a.string.isRequired,name:d.a.string,type:d.a.string,extent:d.a.object}).isRequired,data:d.a.shape({count:d.a.number.isRequired,query:d.a.shape({q:d.a.string,rows:d.a.string,sort:d.a.string,start:d.a.string}).isRequired,searchResults:d.a.array.isRequired,series:d.a.array}).isRequired,marquee:d.a.shape({about:d.a.string})});var Lu=Fu;function Uu(e){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wu(r.key),r)}}function Wu(e){var t=function(e,t){if("object"!=Uu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uu(t)?t:t+""}function Hu(e,t,n){return t=Ju(t),function(e,t){if(t&&("object"==Uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ju(e).constructor):t.apply(e,n))}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gu(e,t){return(Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $u=function(e){function t(){return zu(this,t),Hu(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}(t,e),function(e,t,n){return t&&Vu(e.prototype,t),n&&Vu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"c-journalinfo"},this.props.doaj&&a.a.createElement("img",{src:oe.a+"temp_journalinfo.png",alt:"DOAJ"}),this.props.rights&&a.a.createElement(ir,{rights:this.props.rights,size:"large"}),a.a.createElement("ul",null,this.props.issn&&a.a.createElement("li",null,a.a.createElement("b",null,"ISSN:")," ",this.props.issn),this.props.eissn&&a.a.createElement("li",null,a.a.createElement("b",null,"e-ISSN:")," ",this.props.eissn)))}}])}(a.a.Component);function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ns(r.key),r)}}function Qu(e,t,n){return t=Xu(t),function(e,t){if(t&&("object"==Yu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xu(e).constructor):t.apply(e,n))}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ts(e,t,n){return(t=ns(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e){var t=function(e,t){if("object"!=Yu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yu(t)?t:t+""}if("undefined"!=typeof document)n(26);var rs=function(e){function t(){var e;Zu(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ts(e=Qu(this,t,[].concat(r)),"openAndAdjust",(function(t){dn()(e.caption).trigger("destroy"),dn()(e.caption).removeClass("c-issue__caption-truncate"),e.descr&&dn()(e.descr).height(dn()(e.descr)[0].offsetHeight+dn()(e.caption)[0].offsetHeight-40)})),ts(e,"handleMissingThumbnail",(function(t){dn()(e.title).css("left","0")})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&es(e,t)}(t,e),function(e,t,n){return t&&Ku(e.prototype,t),n&&Ku(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=this;this.caption&&(dn()(this.caption).dotdotdot({watch:"window",after:".c-issue__caption-truncate-more",callback:function(){return dn()(e.caption).find(".c-issue__caption-truncate-more").click(e.openAndAdjust)}}),setTimeout((function(){return dn()(e.caption).trigger("update")}),0)),this.thumbnail||this.handleMissingThumbnail()}},{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"c-issue"},t.title&&a.a.createElement("h3",{ref:function(t){return e.title=t},dangerouslySetInnerHTML:{__html:t.title}}),t.cover&&a.a.createElement("figure",{className:"c-issue__thumbnail",ref:function(t){return e.thumbnail=t}},a.a.createElement(ae.a,{src:"/cms-assets/"+t.cover.asset_id,alt:"Issue cover",clickable:!0}),t.cover.caption&&(/<[a-z][\s\S]*>/i.test(t.cover.caption)?a.a.createElement("figcaption",{className:"c-issue__caption",ref:function(t){return e.caption=t}},a.a.createElement("div",null,a.a.createElement("i",null,"Cover Caption:"),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.cover.caption}}),a.a.createElement("button",{className:"c-issue__caption-truncate-more"},"More"))):a.a.createElement("figcaption",{className:"c-issue__caption c-issue__caption-truncate",ref:function(t){return e.caption=t}},a.a.createElement("div",null,a.a.createElement("i",null,"Cover Caption:"),a.a.createElement("span",null,t.cover.caption),a.a.createElement("button",{className:"c-issue__caption-truncate-more"},"More"))))),t.description&&a.a.createElement("div",{className:"c-issue__description",ref:function(t){return e.descr=t}},a.a.createElement(Zn.a,{html:t.description,h1Level:3})))}}])}(a.a.Component);function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cs(r.key),r)}}function cs(e){var t=function(e,t){if("object"!=as(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=as(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==as(t)?t:t+""}function ls(e,t,n){return t=us(t),function(e,t){if(t&&("object"==as(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],us(e).constructor):t.apply(e,n))}function us(e){return(us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ss(e,t){return(ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ps=function(e){function t(){return os(this,t),ls(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ss(e,t)}(t,e),function(e,t,n){return t&&is(e.prototype,t),n&&is(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-itemactions"},e.buy_link&&a.a.createElement("a",{className:"c-itemactions__link-buy",href:e.buy_link},"Buy Issue"),a.a.createElement("div",{className:"o-download"}),a.a.createElement(Sn,{type:"unit",id:this.props.unit_id}))}}])}(a.a.Component);function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_s(r.key),r)}}function bs(e,t,n){return t&&ds(e.prototype,t),n&&ds(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ys(e,t,n){return t=hs(t),function(e,t){if(t&&("object"==fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],hs(e).constructor):t.apply(e,n))}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gs(e,t)}function gs(e,t){return(gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Es(e,t,n){return(t=_s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _s(e){var t=function(e,t){if("object"!=fs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fs(t)?t:t+""}var ws=function(e){function t(){var e;ms(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Es(e=ys(this,t,[].concat(r)),"getIssuePath",(function(e,t,n){return"/uc/".concat(e,"/").concat(t,"/").concat(n)})),Es(e,"getPubYear",(function(e){return e.match(/\d{4}/)})),e}return vs(t,e),bs(t,[{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"o-customselector"},a.a.createElement("h2",{className:"o-customselector__heading"},t.current_issue_title?t.current_issue_title:"This Issue"),a.a.createElement("details",{className:"o-customselector__selector"},a.a.createElement("summary",{"aria-label":"Select a different issue"}),a.a.createElement("div",{className:"o-customselector__menu"},a.a.createElement("ul",{className:"o-customselector__items"},t.issues.map((function(t){return a.a.createElement("li",{key:t.id},a.a.createElement(N.a,{to:e.getIssuePath(t.unit_id,t.volume,t.issue)},t.name))}))))))}}])}(a.a.Component);Es(ws,"propTypes",{current_issue_title:d.a.string,issues:d.a.array.isRequired});var Os=function(e){function t(){return ms(this,t),ys(this,t,arguments)}return vs(t,e),bs(t,[{key:"render",value:function(){var e=this.props.issue,t=this.props.issues.find((function(t){return t.issue_id===e.id})).name;return a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(ps,{unit_id:e.unit_id,buy_link:e.buy_link}),a.a.createElement(ws,{current_issue_title:t,issues:this.props.issues}),(e.cover||e.title||e.description)&&a.a.createElement(rs,{cover:e.cover,title:e.title,description:e.description}),a.a.createElement("div",null,"magazine"==this.props.display?e.sections.map((function(e){return a.a.createElement("div",{key:e.name},a.a.createElement("h3",{className:"o-heading1a"},e.name),a.a.createElement("div",{className:"o-dividecontent2x--ruled"},e.articles.map((function(e){return a.a.createElement(Yl,{h:"h4",key:e.id,result:e})}))))})):e.sections.map((function(e){return a.a.createElement("div",{key:e.name},a.a.createElement("h3",{className:"o-heading1a"},e.name),e.articles.map((function(e){return a.a.createElement(Yl,{h:"h4",key:e.id,result:e})})))}))))}}])}(a.a.Component);Es(Os,"propTypes",{display:d.a.string.isRequired,issue:d.a.shape({id:d.a.number,unit_id:d.a.string,volume:d.a.string,issue:d.a.string,numbering:d.a.string,published:d.a.string,title:d.a.string,description:d.a.string,cover:d.a.shape({asset_id:d.a.string.isRequired,width:d.a.number.isRequired,height:d.a.number.isRequired,image_type:d.a.string.isRequired,caption:d.a.string}),rights:d.a.string,sections:d.a.arrayOf(d.a.shape({articles:d.a.array,id:d.a.number,issue_id:d.a.number,name:d.a.string})).isRequired}).isRequired,issues:d.a.array.isRequired});var js=function(e){function t(){return ms(this,t),ys(this,t,arguments)}return vs(t,e),bs(t,[{key:"render",value:function(){var e=this.props.data,t=this.props.marquee;return a.a.createElement("div",null,(t.carousel&&t.slides||t.about)&&a.a.createElement(Nl.a,{marquee:t}),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},this.props.data.issue?a.a.createElement(Os,{issue:e.issue,issues:e.issuesSubNav,display:e.display}):a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("p",null,"This journal's first issue is coming soon.",a.a.createElement("br",null)," ",a.a.createElement("br",null)," ",a.a.createElement("br",null)," ",a.a.createElement("br",null)," "))),a.a.createElement("aside",null,(e.doaj||e.issue&&e.issue.rights||e.issn||e.eissn)&&a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h2",null,"Journal Information")),a.a.createElement($u,{doaj:e.doaj,rights:e.issue&&e.issue.rights,issn:e.issn,eissn:e.eissn})),this.props.sidebar)))}}])}(a.a.Component);Es(js,"propTypes",{unit:d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,type:d.a.string.isRequired,extent:d.a.object}).isRequired,data:d.a.shape({display:d.a.string,doaj:d.a.bool,issn:d.a.string,eissn:d.a.string,issue:d.a.object,issuesSubNav:d.a.array}).isRequired,marquee:d.a.shape({carousel:d.a.any,about:d.a.about})});var Ss=js;function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bs(r.key),r)}}function Ns(e,t,n){return t&&ks(e.prototype,t),n&&ks(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t,n){return t=Ts(t),function(e,t){if(t&&("object"==Ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ts(e).constructor):t.apply(e,n))}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xs(e,t)}function xs(e,t){return(xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function As(e,t,n){return(t=Bs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bs(e){var t=function(e,t){if("object"!=Ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ps(t)?t:t+""}a.a.Component;var qs=function(e){function t(){return Cs(this,t),Ds(this,t,arguments)}return Rs(t,e),Ns(t,[{key:"render",value:function(){var e=this.props.result,t=[];"article"===e.genre&&t.push({display:"Article",tagStyle:"article"}),"monograph"===e.genre&&t.push({display:"Book",tagStyle:"book"}),"dissertation"===e.genre&&t.push({display:"Thesis",tagStyle:"thesis"}),"multimedia"===e.genre&&t.push({display:"Multimedia",tagStyle:"multimedia"}),!0===e.peerReviewed&&t.push({display:"Peer Reviewed",tagStyle:"peer"});var n,r,o="/uc/item/"+e.id.replace(/^qt/,"");return"journalInfo"in e?(n=e.journalInfo.displayName,r=e.journalInfo.link_path):"unitInfo"in e&&(n=e.unitInfo.displayName,r=e.unitInfo.link_path),a.a.createElement("section",{className:"c-scholworks"},a.a.createElement("div",{className:"c-scholworks__main-column"},a.a.createElement("ul",{className:"c-scholworks__tag-list"},t.map((function(e,t,n){return a.a.createElement("li",{key:e+t,className:"c-scholworks__tag-"+e.tagStyle},e.display)}))),a.a.createElement("div",null,a.a.createElement(Cl.a,{element:this.props.h,className:"c-scholworks__heading"},a.a.createElement("a",{href:o},a.a.createElement(Zn.a,{html:e.title})))),a.a.createElement(Kn.a,{author_hide:e.author_hide,authors:e.authors,editors:e.editors,advisors:e.advisors,item_id:e.id}),e.pub_year&&n&&a.a.createElement("div",{className:"c-scholworks__publication"},a.a.createElement(N.a,{to:"/uc/"+r},n)," (",e.pub_year,")"),e.abstract&&a.a.createElement(Cl.a,{element:"div",className:"c-scholworks__abstract"},a.a.createElement(Zn.a,{html:e.abstract,h1Level:3})),a.a.createElement("div",{className:"c-scholworks__media"},a.a.createElement(Ml,{supp_files:e.supp_files}))),(e.rights||e.thumbnail)&&a.a.createElement("div",{className:"c-scholworks__ancillary"},e.thumbnail&&a.a.createElement(N.a,{to:o,className:"c-scholworks__thumbnail"},a.a.createElement("img",{src:"/cms-assets/"+e.thumbnail.asset_id,alt:"Cover page: ".concat(e.title)})),e.rights&&a.a.createElement(ir,{rights:e.rights,size:"small",classname:"c-scholworks__license"})))}}])}(a.a.Component);As(qs,"propTypes",{h:d.a.string.isRequired,result:d.a.shape({id:d.a.string,title:d.a.string,genre:d.a.string,peerReviewed:d.a.bool,journalInfo:d.a.shape({link_path:d.a.string.isRequired,displayName:d.a.string.isRequired}),unitInfo:d.a.shape({link_path:d.a.string.isRequired,displayName:d.a.string.isRequired}),authors:d.a.array,supp_files:d.a.array,pub_year:d.a.number,abstract:d.a.string,rights:d.a.string,thumbnail:d.a.shape({width:d.a.number.isRequired,height:d.a.number.isRequired,asset_id:d.a.string.isRequired,timestamp:d.a.number.isRequired,image_type:d.a.string.isRequired})}).isRequired});var Ms=qs;function Is(e){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ws(r.key),r)}}function Us(e,t,n){return t=zs(t),function(e,t){if(t&&("object"==Is(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],zs(e).constructor):t.apply(e,n))}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vs(e,t){return(Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ws(e){var t=function(e,t){if("object"!=Is(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Is(t)?t:t+""}var Hs=function(e){function t(){return Fs(this,t),Us(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vs(e,t)}(t,e),function(e,t,n){return t&&Ls(e.prototype,t),n&&Ls(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props.data;return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(ku,{query:e.query,count:e.count}),a.a.createElement("div",null,e.searchResults.map((function(e){return a.a.createElement(Ms,{h:"h2",key:e.id,result:e})}))))),a.a.createElement("aside",null,a.a.createElement("section",{className:"o-columnbox2"},a.a.createElement(Sn,null)),this.props.sidebar))}}])}(a.a.Component);!function(e,t,n){(t=Ws(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Hs,"propTypes",{unit:d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,type:d.a.string.isRequired}).isRequired,data:d.a.shape({count:d.a.number.isRequired,searchResults:d.a.array.isRequired,query:d.a.shape({q:d.a.string,rows:d.a.string,sort:d.a.string,start:d.a.string,filters:d.a.shape({departments:d.a.shape({display:d.a.string,fieldName:d.a.string,filters:d.a.array})})}).isRequired})});var Js=n(58),Gs=n(241),$s=n(246);function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zs(){return(Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,op(r.key),r)}}function Qs(e,t,n){return t&&Ks(e.prototype,t),n&&Ks(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t,n){return t=tp(t),function(e,t){if(t&&("object"==Ys(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],tp(e).constructor):t.apply(e,n))}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function np(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rp(e,t)}function rp(e,t){return(rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ap(e,t,n){return(t=op(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e){var t=function(e,t){if("object"!=Ys(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ys(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ys(t)?t:t+""}var ip=function(e){function t(){var e;Xs(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ap(e=ep(this,t,[].concat(r)),"render",(function(){return a.a.createElement("select",{disabled:e.props.disableEdit,name:"rights-".concat(e.props.voliss),defaultValue:e.props.rights||"none"},a.a.createElement("option",{value:"none"},"None"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by/4.0/"},"CC BY v4.0"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nc/4.0/"},"CC BY-NC v4.0"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},"CC BY-NC-ND v4.0"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nc-sa/4.0/"},"CC BY-NC-SA v4.0"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nd/4.0/"},"CC BY-ND v4.0"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-sa/4.0/"},"CC BY-SA v4.0"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by/3.0/"},"(old CC BY v3.0)"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nc/3.0/"},"(old CC BY-NC v3.0)"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nc-nd/3.0/"},"(old CC BY-NC-ND v3.0)"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nc-sa/3.0/"},"(old CC BY-NC-SA v3.0)"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-nd/3.0/"},"(old CC BY-ND v3.0)"),a.a.createElement("option",{value:"https://creativecommons.org/licenses/by-sa/3.0/"},"(old CC BY-SA v3.0)"))})),e}return np(t,e),Qs(t)}(a.a.Component),cp=function(e){function t(){var e;Xs(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ap(e=ep(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",null,Yo.a.map({volume_only:"volume",issue_only:"issue",both:"both"},(function(t,n){return a.a.createElement("label",{key:n},a.a.createElement("input",{disabled:e.props.disableEdit,type:"radio",name:"numbering-".concat(e.props.voliss),value:n,defaultChecked:e.props.numbering==n}),t)})))})),e}return np(t,e),Qs(t)}(a.a.Component),lp=function(e){function t(){var e;Xs(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ap(e=ep(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",null,Yo.a.map({true:"on",false:"off"},(function(t,n){return a.a.createElement("label",{key:n},a.a.createElement("input",{disabled:e.props.disableEdit,type:"radio",name:"show_pub_dates-".concat(e.props.voliss),value:n,defaultChecked:e.props.show_pub_dates==n}),t)})))})),e}return np(t,e),Qs(t)}(a.a.Component),up=function(e){function t(){return Xs(this,t),ep(this,t,arguments)}return np(t,e),Qs(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("tr",null,!e.isDefault&&a.a.createElement("td",null,e.voliss),a.a.createElement("td",null,a.a.createElement(ip,e)),a.a.createElement("td",null,a.a.createElement(cp,e)),a.a.createElement("td",null,a.a.createElement("input",{disabled:e.disableEdit,type:"text",name:"buy_link-".concat(e.voliss),defaultValue:e.buy_link})),a.a.createElement("td",null,a.a.createElement(lp,e)))}}])}(a.a.Component),sp=function(e){function t(){var e;Xs(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ap(e=ep(this,t,[].concat(r)),"handleSubmit",(function(t,n){t.preventDefault(),e.props.sendApiData("PUT",t.target.action,{data:n})})),e}return np(t,e),Qs(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement(Ae.a,{to:"/api/unit/".concat(e.unit.id,"/issueConfig"),onSubmit:this.handleSubmit},a.a.createElement("table",{className:"c-issueTable"},a.a.createElement("thead",null,a.a.createElement("tr",null,!e.isDefault&&a.a.createElement("th",null,"Issue"),a.a.createElement("th",null,"License"),a.a.createElement("th",null,"Numbering"),a.a.createElement("th",null,"Buy Link"),a.a.createElement("th",null,"Show submit/accept dates"))),a.a.createElement("tbody",null,e.data.map((function(t){return a.a.createElement(up,Zs({key:t.voliss,isDefault:e.isDefault,disableEdit:e.disableEdit},t))})))),e.disableEdit?a.a.createElement("p",null,"Only eScholarship staff may change this information."):a.a.createElement("button",{type:"submit"},"Save Changes"))}}])}(a.a.Component),pp=function(e){function t(){var e;Xs(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ap(e=ep(this,t,[].concat(r)),"render",(function(){return a.a.createElement(Pn.a.CMS.Consumer,null,(function(t){var n=e.props,r={unit:n.unit,sendApiData:n.sendApiData,disableEdit:!(t.permissions&&t.permissions.super)};return a.a.createElement("div",null,a.a.createElement("h3",null,"Issue Configuration"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("h4",null,"Defaults for Future Issues"),a.a.createElement(sp,Zs({isDefault:!0,data:n.data.slice(0,1)},r)),a.a.createElement("h4",null,"Past Issues"),a.a.createElement(sp,Zs({isDefault:!1,data:n.data.slice(1)},r))))))}))})),e}return np(t,e),Qs(t)}(a.a.Component);function fp(e){return(fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gp(r.key),r)}}function dp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bp(e,t,n){return t=yp(t),function(e,t){if(t&&("object"==fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],yp(e).constructor):t.apply(e,n))}function yp(e){return(yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t){return(hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vp(e,t,n){return(t=gp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e){var t=function(e,t){if("object"!=fp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fp(t)?t:t+""}var Ep=function(e){function t(){var e;dp(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vp(e=bp(this,t,[].concat(r)),"state",{anyChanges:!1}),vp(e,"handleSubmit",(function(e,t,n){e.preventDefault(),n("PUT",e.target.action,{data:t})})),vp(e,"render",(function(){return a.a.createElement(Pn.a.CMS.Consumer,null,(function(t){var n=e.props,r=(n.sendApiData,!(t.permissions&&t.permissions.super));return a.a.createElement("div",null,a.a.createElement("h3",null,"User Configuration"),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",null,a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement(Ae.a,{to:"/api/unit/".concat(n.unit.id,"/userConfig"),onSubmit:function(t,r){return e.handleSubmit(t,r,n.sendApiData)}},a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Name"),a.a.createElement("th",{scope:"col"},"Account"),a.a.createElement("th",{scope:"col"},"Admin"),a.a.createElement("th",{scope:"col"},"Stats"),a.a.createElement("th",{scope:"col"},"Submit"))),a.a.createElement("tbody",null,Yo.a.map(n.data.user_roles,(function(t){return a.a.createElement("tr",{key:t.user_id},a.a.createElement("td",{className:"c-editable-tableCell"},t.name),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement(N.a,{to:"/userAccount/".concat(t.user_id)},t.email)),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"checkbox",name:"admin-".concat(t.user_id),defaultChecked:t.roles.admin,disabled:r,onChange:function(){return e.setState({anyChanges:!0})}})),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"checkbox",name:"stats-".concat(t.user_id),defaultChecked:t.roles.stats,disabled:r,onChange:function(){return e.setState({anyChanges:!0})}})),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"checkbox",name:"submit-".concat(t.user_id),defaultChecked:t.roles.submit,disabled:r,onChange:function(){return e.setState({anyChanges:!0})}})))})),a.a.createElement("tr",{key:"newuser"},a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("i",null,"(add role for user)")),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"email",name:"email-newuser",disabled:r,placeholder:"existing email"})),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"checkbox",name:"admin-newuser",disabled:r,onChange:function(){return e.setState({anyChanges:!0})}})),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"checkbox",name:"stats-newuser",disabled:r,onChange:function(){return e.setState({anyChanges:!0})}})),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"checkbox",name:"submit-newuser",disabled:r,onChange:function(){return e.setState({anyChanges:!0})}})))))),a.a.createElement("button",{type:"submit",disabled:!e.state.anyChanges,className:"c-editable-pCell"},"Save changes"))))))}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hp(e,t)}(t,e),function(e,t,n){return t&&mp(e.prototype,t),n&&mp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(a.a.Component),_p=n(34);function wp(e){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tp(r.key),r)}}function Sp(e,t,n){return t&&jp(e.prototype,t),n&&jp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pp(e,t,n){return t=kp(t),function(e,t){if(t&&("object"==wp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],kp(e).constructor):t.apply(e,n))}function kp(e){return(kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cp(e,t)}function Cp(e,t){return(Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Dp(e,t,n){return(t=Tp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tp(e){var t=function(e,t){if("object"!=wp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wp(t)?t:t+""}var Rp=function(e){function t(){var e;Op(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Dp(e=Pp(this,t,[].concat(r)),"state",{newData:e.props.data}),Dp(e,"onSave",(function(){return e.props.sendApiData("PUT","/api/unit/".concat(e.props.unit.id,"/sidebar/").concat(e.props.data.id),e.state.newData)})),Dp(e,"onDelete",(function(){return e.props.sendApiData("DELETE","/api/unit/".concat(e.props.unit.id,"/sidebar/").concat(e.props.data.id),{})})),Dp(e,"setData",(function(t){e.setState({newData:Yo.a.merge(Yo.a.cloneDeep(e.state.newData),t)})})),e}return Np(t,e),Sp(t,[{key:"componentWillReceiveProps",value:function(e){Yo.a.isEqual(this.props,e)||this.setState({newData:e.data})}},{key:"render",value:function(){var e=this,t=this.props.data,n=Yo.a.isEqual(t,this.state.newData);return a.a.createElement("div",null,"Text"==t.kind&&a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"title"},"Title"),a.a.createElement("input",{className:"c-editable-page__input",id:"title",type:"text",defaultValue:t.attrs.title,onChange:function(t){return e.setData({attrs:{title:t.target.value}})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"text"},"Text"),a.a.createElement(_p.a,{id:"text",html:t.attrs.html,unit:this.props.unit.id,imageContext:"sidebar",onChange:function(t){return e.setData({attrs:{html:t}})}})),"TwitterFeed"==t.kind&&a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"title"},"Title"),a.a.createElement("input",{className:"c-editable-page__input",id:"title",type:"text",defaultValue:t.attrs.title,onChange:function(t){return e.setData({attrs:{title:t.target.value}})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"twitter_handle"},"Twitter Handle"),a.a.createElement("p",null,"The portion of your Twitter page's URL that appears after: http://www.twitter.com/_____"),a.a.createElement("input",{className:"c-editable-page__input",id:"twitter_handle",type:"text",defaultValue:t.attrs.twitter_handle,onChange:function(t){return e.setData({attrs:{twitter_handle:t.target.value}})}})),a.a.createElement("p",null,a.a.createElement("button",{className:"c-editable-page__button",onClick:this.onSave,disabled:n},"Save"),a.a.createElement("button",{className:"c-editable-page__button",onClick:this.onDelete},"Delete")))}}])}(a.a.Component);Dp(Rp,"propTypes",{data:d.a.shape({id:d.a.number.isRequired,kind:d.a.string.isRequired,attrs:d.a.object.isRequired})});var xp=function(e){function t(){return Op(this,t),Pp(this,t,arguments)}return Np(t,e),Sp(t,[{key:"render",value:function(){var e=this.props,t="Text"==e.data.kind&&e.data.attrs.title?e.data.attrs.title:e.data.kind.replace(/([a-z])([A-Z][a-z])/g,"$1 $2"),n="Text"==e.data.kind?"text widget":"built-in widget";return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"".concat(t," (").concat(n,")"))),a.a.createElement(Rp,{unit:e.unit,data:e.data,sendApiData:e.sendApiData}))))}}])}(a.a.Component);function Ap(e){return(Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vp(r.key),r)}}function Mp(e,t,n){return t&&qp(e.prototype,t),n&&qp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ip(e,t,n){return t=Fp(t),function(e,t){if(t&&("object"==Ap(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Fp(e).constructor):t.apply(e,n))}function Fp(e){return(Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}function Up(e,t){return(Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zp(e,t,n){return(t=Vp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e){var t=function(e,t){if("object"!=Ap(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ap(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ap(t)?t:t+""}Dp(xp,"propTypes",{sendApiData:d.a.func.isRequired,unit:d.a.shape({id:d.a.string.isRequired}).isRequired,data:d.a.shape({id:d.a.number.isRequired,kind:d.a.string.isRequired,attrs:d.a.object.isRequired})});var Wp=function(e){function t(){var e;Bp(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return zp(e=Ip(this,t,[].concat(r)),"state",{newData:e.props.data}),zp(e,"onSave",(function(){return e.props.sendApiData("PUT","/api/unit/".concat(e.props.unit.id,"/nav/").concat(e.props.data.id),e.state.newData)})),zp(e,"onDelete",(function(){return e.props.sendApiData("DELETE","/api/unit/".concat(e.props.unit.id,"/nav/").concat(e.props.data.id),{})})),zp(e,"setData",(function(t){e.setState({newData:Object.assign(Yo.a.cloneDeep(e.state.newData),t)})})),e}return Lp(t,e),Mp(t,[{key:"componentWillReceiveProps",value:function(e){Yo.a.isEqual(this.props,e)||this.setState({newData:e.data})}},{key:"render",value:function(){var e=this,t=this.props.data,n=Yo.a.isEqual(t,this.state.newData);return a.a.createElement(Pn.a.CMS.Consumer,null,(function(r){var o=r.permissions&&r.permissions.nav_perms[t.slug]||{};return a.a.createElement("div",null,"page"==t.type&&a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"slug"},"Page URL",!o.change_slug&&" (restricted)"),r.permissions&&r.permissions.super&&a.a.createElement("p",null,"Must consist of numbers and/or letters only. No spaces."),a.a.createElement("input",{disabled:!o.change_slug,className:"c-editable-page__input",id:"slug",type:"text",defaultValue:t.slug,onChange:function(t){return e.setData({slug:t.target.value})}})),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"name"},"Navigation Bar Label"),a.a.createElement("p",null,"For optimal display, use fewer than 25 characters"),a.a.createElement("input",{className:"c-editable-page__input",id:"name",type:"text",defaultValue:t.name,onChange:function(t){return e.setData({name:t.target.value})}}),"page"==t.type&&a.a.createElement("div",null,o.remove?a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"hidden"},"Hidden (select checkbox to omit this from the navigation bar)"),a.a.createElement("input",{className:"c-editable-page__input",type:"checkbox",id:"hidden",name:"hidden",defaultChecked:t.hidden,onChange:function(t){return e.setData({hidden:t.target.checked})}})):a.a.createElement("div",null,a.a.createElement("div",{className:"c-editable-page__label"},"Hidden (restricted)"),a.a.createElement("span",null,"Page is ".concat(t.hidden?"":"not ","hidden."))),a.a.createElement("br",null),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"title"},"Page Title"),a.a.createElement("p",null,"Generally the same as Navigation Bar Label, but in some cases longer and more descriptive."),a.a.createElement("input",{className:"c-editable-page__input",id:"title",type:"text",defaultValue:t.title,onChange:function(t){return e.setData({title:t.target.value})}}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"text"},"Text",!o.change_text&&" (restricted)"),a.a.createElement(_p.a,{id:"text",html:t.attrs.html,unit:e.props.unit.id,imageContext:"content",disabled:!o.change_text,onChange:function(t){return e.setData({attrs:{html:t}})}})),"link"==t.type&&a.a.createElement("div",null,a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"url"},"External Link URL"),a.a.createElement("input",{className:"c-editable-page__input",id:"url",type:"text",defaultValue:t.url,onChange:function(t){return e.setData({url:t.target.value})}})),a.a.createElement("p",null,a.a.createElement("button",{className:"c-editable-page__button",onClick:e.onSave,disabled:n},"Save"),a.a.createElement("button",{className:"c-editable-page__button",onClick:e.onDelete},"Delete")))}))}}])}(a.a.Component);zp(Wp,"propTypes",{data:d.a.shape({id:d.a.number.isRequired,name:d.a.string.isRequired})});var Hp=function(e){function t(){return Bp(this,t),Ip(this,t,arguments)}return Lp(t,e),Mp(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},e.data.title?e.data.title:e.data.name+" ("+e.data.type+")")),a.a.createElement(Wp,{unit:e.unit,data:e.data,sendApiData:e.sendApiData}))))}}])}(a.a.Component);function Jp(e){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gp(){return(Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function $p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nf(r.key),r)}}function Zp(e,t,n){return t&&Yp(e.prototype,t),n&&Yp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kp(e,t,n){return t=Qp(t),function(e,t){if(t&&("object"==Jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Qp(e).constructor):t.apply(e,n))}function Qp(e){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ef(e,t)}function ef(e,t){return(ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tf(e,t,n){return(t=nf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e){var t=function(e,t){if("object"!=Jp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jp(t)?t:t+""}zp(Hp,"propTypes",{sendApiData:d.a.func.isRequired,unit:d.a.shape({id:d.a.string.isRequired}).isRequired,data:d.a.shape({id:d.a.number.isRequired,name:d.a.string.isRequired})});var rf=function(e){function t(){var e;$p(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return tf(e=Kp(this,t,[].concat(r)),"onSave",(function(t){var n=parseInt(t.target.dataset.id);e.props.sendApiData("PUT","/api/redirect/".concat(e.props.kind,"/").concat(n),{from_path:dn()("#from-".concat(n))[0].value,to_path:dn()("#to-".concat(n))[0].value,descrip:dn()("#descrip-".concat(n))[0].value})})),tf(e,"onDelete",(function(t){if(confirm("Delete redirect?")){var n=parseInt(t.target.dataset.id);e.props.sendApiData("DELETE","/api/redirect/".concat(e.props.kind,"/").concat(n),{})}})),e}return Xp(t,e),Zp(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{type:"text",id:"from-".concat(e.id),defaultValue:e.from_path})),a.a.createElement("td",null,a.a.createElement("input",{type:"text",id:"to-".concat(e.id),defaultValue:e.to_path})),a.a.createElement("td",null,a.a.createElement("input",{type:"text",id:"descrip-".concat(e.id),defaultValue:e.descrip})),a.a.createElement("td",null,a.a.createElement("button",{onClick:this.onSave,"data-id":e.id},"save"),a.a.createElement("button",{onClick:this.onDelete,"data-id":e.id},"delete")))}}])}(a.a.Component),af=function(e){function t(){var e;$p(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return tf(e=Kp(this,t,[].concat(r)),"onAdd",(function(t){parseInt(t.target.dataset.id);e.props.sendApiData("POST","/api/redirect/".concat(e.props.data.kind),{from_path:dn()("#from-new")[0].value,to_path:dn()("#to-new")[0].value,descrip:dn()("#descrip-new")[0].value})})),e}return Xp(t,e),Zp(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Sitewide Redirects")),a.a.createElement("p",null,"Categories:",["static","item","unit"].map((function(t){return a.a.createElement("span",{key:t}," ",e.data.kind==t?a.a.createElement("b",null,t):a.a.createElement(N.a,{to:"/uc/root/redirects/"+t},t)," |")}))),a.a.createElement("h3",null,e.data.kind[0].toUpperCase()+e.data.kind.substring(1)," Redirects"),a.a.createElement("table",{className:"c-redirectTable"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"From"),a.a.createElement("th",null,"To"),a.a.createElement("th",null,"Descrip"),a.a.createElement("th",null,"Action"))),a.a.createElement("tbody",null,e.data.redirects.map((function(t){return a.a.createElement(rf,Gp({key:t.id,kind:e.data.kind,sendApiData:e.sendApiData},t))})),a.a.createElement("tr",{key:"new"},a.a.createElement("td",null,a.a.createElement("input",{type:"text",id:"from-new"})),a.a.createElement("td",null,a.a.createElement("input",{type:"text",id:"to-new"})),a.a.createElement("td",null,a.a.createElement("input",{type:"text",id:"descrip-new"})),a.a.createElement("td",null,a.a.createElement("button",{onClick:this.onAdd},"add"))))))))}}])}(a.a.Component);function of(e){return(of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ff(r.key),r)}}function uf(e,t,n){return t=sf(t),function(e,t){if(t&&("object"==of(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],sf(e).constructor):t.apply(e,n))}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pf(e,t){return(pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ff(e){var t=function(e,t){if("object"!=of(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=of(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==of(t)?t:t+""}tf(af,"propTypes",{data:d.a.shape({kind:d.a.string.isRequired,redirects:d.a.array.isRequired}).isRequired,sendApiData:d.a.func.isRequired});var mf=function(e){function t(){return cf(this,t),uf(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pf(e,t)}(t,e),function(e,t,n){return t&&lf(e.prototype,t),n&&lf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props;return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Author/User Search")),a.a.createElement(Ae.a,{to:e.location.pathname,method:"GET"},a.a.createElement("label",{htmlFor:"authSearchBox"},"Search for (email or name, partial ok): "),a.a.createElement("input",{type:"text",size:"40",name:"q",id:"authorSearchBox",defaultValue:e.data.search_str})," ",a.a.createElement("button",{type:"submit"},"Go")),e.data.authors&&e.data.authors.length>0&&a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("h2",null,"Author matches"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Stats link"),a.a.createElement("th",{scope:"col"},"Name(s)"),a.a.createElement("th",{scope:"col"},"Email(s)"))),a.a.createElement("tbody",null,Yo.a.map(e.data.authors,(function(e){return a.a.createElement("tr",{key:e.person_id},a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement(N.a,{to:"/uc/author/".concat(e.person_id,"/stats")},e.person_id)),a.a.createElement("td",{className:"c-editable-tableCell"},Yo.a.map(e.names,(function(e){return a.a.createElement("div",{key:e},e)}))),a.a.createElement("td",{className:"c-editable-tableCell"},Yo.a.map(e.emails,(function(e){return a.a.createElement("div",{key:e},e)}))))}))))),e.data.accounts&&e.data.accounts.length>0&&a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("h2",null,"User account matches"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Email / account link"),a.a.createElement("th",{scope:"col"},"Name"),a.a.createElement("th",{scope:"col"},"Unit(s)"))),a.a.createElement("tbody",null,Yo.a.map(e.data.accounts,(function(e){return a.a.createElement("tr",{key:e.email},a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement(N.a,{to:"/userAccount/".concat(e.user_id)},e.email)),a.a.createElement("td",{className:"c-editable-tableCell"},e.name),a.a.createElement("td",{className:"c-editable-tableCell"},Yo.a.map(e.units.slice(0,5),(function(e){return a.a.createElement("div",{key:e},a.a.createElement(N.a,{to:"/uc/".concat(e)},e))})),e.units.length>5&&a.a.createElement("div",{key:"..."},"...")))}))))),e.data.forwards&&e.data.forwards.length>0&&a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("h2",null,"Forwarded email matches"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Current email / acct link"),a.a.createElement("th",{scope:"col"},"Previous email addr(s)"))),a.a.createElement("tbody",null,Yo.a.map(e.data.forwards,(function(e){return a.a.createElement("tr",{key:e.user_id},a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement(N.a,{to:"/userAccount/".concat(e.user_id)},e.cur_email)),a.a.createElement("td",{className:"c-editable-tableCell"},Yo.a.map(e.prev_emails,(function(e){return a.a.createElement("div",{key:e},e)}))))}))))))))}}])}(a.a.Component);function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Of(r.key),r)}}function hf(e,t,n){return t&&yf(e.prototype,t),n&&yf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vf(e,t,n){return t=gf(t),function(e,t){if(t&&("object"==df(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],gf(e).constructor):t.apply(e,n))}function gf(e){return(gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ef(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_f(e,t)}function _f(e,t){return(_f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wf(e,t,n){return(t=Of(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Of(e){var t=function(e,t){if("object"!=df(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=df(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==df(t)?t:t+""}!function(e,t,n){(t=ff(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mf,"propTypes",{data:d.a.shape({search_str:d.a.string,authors:d.a.array}).isRequired,sendApiData:d.a.func.isRequired});var jf={series:"paper series",monograph_series:"monograph series",oru:"ORU",journal:"journal"},Sf=function(e){function t(){var e;bf(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return wf(e=vf(this,t,[].concat(r)),"state",e.setupState(e.props)),e}return Ef(t,e),hf(t,[{key:"setupState",value:function(e){return{data:this.generateData(e.subUnits)}}},{key:"componentWillReceiveProps",value:function(e){e.fetchingData||_.isEqual(this.props,e)||this.setState(this.setupState(e))}},{key:"generateData",value:function(e){if(e)return e.map((function(e){return{id:e.id,title:a.a.createElement(N.a,{to:"/uc/".concat(e.id)},e.name),subtitle:a.a.createElement("span",null,e.id," ",a.a.createElement("i",null,"(",jf[e.type],")"))}}))}},{key:"travOrder",value:function(e){return e.map((function(e){return e.id}))}},{key:"render",value:function(){var e=this,t=this.props.cms.modules.SortableTree;return a.a.createElement(t,{treeData:this.state.data,isVirtualized:!1,maxDepth:1,onChange:function(t){return e.setState({data:t})},onMoveNode:function(){return e.props.onChangeOrder(e.travOrder(e.state.data))}})}}])}(a.a.Component),Pf=function(e){function t(){var e;bf(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return wf(e=vf(this,t,[].concat(r)),"reorderUnits",(function(t){e.props.sendApiData("PUT","/api/unit/".concat(e.props.unit.id,"/unitOrder"),{order:JSON.stringify(t)})})),e}return Ef(t,e),hf(t,[{key:"render",value:function(){var e=this,t=this.props;return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Unit Builder")),t.data.sub_units.length>0&&a.a.createElement("details",{className:"c-togglecontent",open:!0},a.a.createElement("summary",null,"Arrange sub-units"),a.a.createElement(Pn.a.CMS.Consumer,null,(function(n){return n&&n.modules&&a.a.createElement(Sf,{cms:n,unit:t.unit.id,subUnits:t.data.sub_units,onChangeOrder:e.reorderUnits})}))),a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"List parent unit(s)"),a.a.createElement("ul",null,t.data.parent_units.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:"/uc/"+e.id},e.name))})))),/oru|campus/.test(t.unit.type)&&a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"Add new sub-unit"),a.a.createElement(Ae.a,{onSubmit:function(e,n){e.preventDefault(),t.sendApiData("PUT","/api/unit/".concat(t.unit.id,"/unitBuilder"),n)}},a.a.createElement("p",null,a.a.createElement("i",null,"Make sure you are accessing this page from the desired parent unit.")),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"newUnitID"},"Unit URL: "),a.a.createElement("p",null,"Must consist of lower-case numbers/letters or underscores only. No spaces."),a.a.createElement("input",{className:"c-editable-page__input",id:"newUnitID",name:"newUnitID",type:"text"}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"name"},"Name: "),a.a.createElement("input",{className:"c-editable-page__input",id:"name",name:"name",type:"text"}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"type"},"Unit type: "),a.a.createElement("select",{name:"type"},["oru","journal","series","monograph_series"].map((function(e){return a.a.createElement("option",{key:e,value:e},jf[e])}))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"hidden"},"Hidden: "),a.a.createElement("input",{type:"checkbox",id:"hidden",name:"hidden",defaultChecked:!0}),a.a.createElement("button",{type:"submit"},"Create Unit"))),/oru|campus/.test(t.unit.type)&&a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"Adopt existing unit as sub-unit"),a.a.createElement(Ae.a,{onSubmit:function(e,n){e.preventDefault(),t.sendApiData("PUT","/api/unit/".concat(t.unit.id,"/adoptUnit"),n)}},a.a.createElement("p",null,a.a.createElement("i",null,"Make sure you are accessing this page from the desired parent unit.")),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"existingUnitID"},"Existing unit URL to adopt: "),a.a.createElement("input",{className:"c-editable-page__input",id:"existingUnitID",name:"existingUnitID",type:"text"}),a.a.createElement("button",{type:"submit"},"Adopt Unit"))),/oru|campus/.test(t.unit.type)&&a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"Disown sub-unit"),a.a.createElement(Ae.a,{onSubmit:function(e,n){e.preventDefault(),t.sendApiData("PUT","/api/unit/".concat(t.unit.id,"/disownUnit"),n)}},a.a.createElement("p",null,a.a.createElement("i",null,"This option will only work for child units that have at least one other parent, to avoid orphans. You can use Delete Unit for units that only have one parent.")),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"existingUnitID"},"Child unit URL to disown: "),a.a.createElement("input",{className:"c-editable-page__input",id:"existingUnitID",name:"existingUnitID",type:"text"}),a.a.createElement("button",{type:"submit"},"Disown Unit"))),a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"Move this unit"),a.a.createElement(Ae.a,{onSubmit:function(e,n){e.preventDefault(),t.sendApiData("PUT","/api/unit/".concat(t.unit.id,"/moveUnit"),n)}},a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"targetUnitID"},"Destination parent unit: "),a.a.createElement("input",{className:"c-editable-page__input",id:"targetUnitID",name:"targetUnitID",type:"text"}),a.a.createElement("button",{type:"submit"},"Move Unit '",t.unit.id,"'"))),a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"Copy unit content"),a.a.createElement(Ae.a,{onSubmit:function(e,n){e.preventDefault(),t.sendApiData("PUT","/api/unit/".concat(t.unit.id,"/copyUnit"),n)}},a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"targetParentID"},"Destination parent unit: "),a.a.createElement("input",{className:"c-editable-page__input",id:"targetParentID",name:"targetParentID",type:"text"}),a.a.createElement("label",{className:"c-editable-page__label",htmlFor:"newUnitID"},"Name for copied unit: "),a.a.createElement("input",{className:"c-editable-page__input",id:"newUnitID",name:"newUnitID",type:"text"}),a.a.createElement("button",{type:"submit"},"Copy unit '",t.unit.id,"'"))),a.a.createElement("details",{className:"c-togglecontent"},a.a.createElement("summary",null,"Delete this unit"),a.a.createElement(Ae.a,{onSubmit:function(e,n){e.preventDefault(),t.sendApiData("PUT","/api/unit/".concat(t.unit.id,"/deleteUnit"),n)}},a.a.createElement("p",null,a.a.createElement("i",null,"Note:")," This will fail (harmlessly) if the unit has any items or sub-units."),a.a.createElement("button",{type:"submit",className:"o-button__3"},"Delete unit '",t.unit.id,"'"))))))}}])}(a.a.Component);function kf(e){return(kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Df(r.key),r)}}function Df(e){var t=function(e,t){if("object"!=kf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kf(t)?t:t+""}function Tf(e,t,n){return t=Rf(t),function(e,t){if(t&&("object"==kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Rf(e).constructor):t.apply(e,n))}function Rf(e){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xf(e,t){return(xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}wf(Pf,"propTypes",{data:d.a.shape({sub_units:d.a.arrayOf(d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,type:d.a.string.isRequired}))}).isRequired,sendApiData:d.a.func.isRequired});var Af=function(e){function t(){return Nf(this,t),Tf(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xf(e,t)}(t,e),function(e,t,n){return t&&Cf(e.prototype,t),n&&Cf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"pagePermissionsUnit",value:function(){return this.props.match.params.unitID}},{key:"cmsPage",value:function(e,t){var n=this;if((!this.state.adminLogin||this.state.fetchingPerms||this.state.isEditingPage)&&this.state.adminLogin)return t;console.log("Editing turned off; redirecting to unit page."),setTimeout((function(){return n.props.history.push("root"==e.unit.id?"/":"/uc/".concat(e.unit.id))}),0)}},{key:"renderData",value:function(e){var t,n=a.a.createElement(Ct.a,{data:e.sidebar}),r=e.unit.name;return this.state.fetchingData?t=a.a.createElement("h2",{style:{marginTop:"5em",marginBottom:"5em"}},"Loading..."):"search"===this.props.match.params.pageName?(this.extGA(e.unit.id),t=a.a.createElement(Lu,{unit:e.unit,data:e.content,sidebar:n,marquee:e.marquee})):"profile"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(Gs.a,{header:e.header,unit:e.unit,data:e.content,sendApiData:this.sendApiData,sendBinaryFileData:this.sendBinaryFileData})),r="Profile: ".concat(e.unit.name)):"carousel"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement($s.a,{unit:e.unit,data:e.content,sendApiData:this.sendApiData,sendBinaryFileData:this.sendBinaryFileData})),r="Carousel: ".concat(e.unit.name)):"issueConfig"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(pp,{unit:e.unit,data:e.content,sendApiData:this.sendApiData})),r="Issue config: ".concat(e.unit.name)):"userConfig"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(Ep,{unit:e.unit,data:e.content,sendApiData:this.sendApiData})),r="User config: ".concat(e.unit.name)):"unitBuilder"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(Pf,{unit:e.unit,data:e.content,sendApiData:this.sendApiData})),r="Unit builder: ".concat(e.unit.name)):"nav"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(Hp,{unit:e.unit,data:e.content,sendApiData:this.sendApiData})),r="Navigation: ".concat(e.unit.name)):"sidebar"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(xp,{unit:e.unit,data:e.content,sendApiData:this.sendApiData})),r="Sidebar: ".concat(e.unit.name)):"redirects"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(af,{data:e.content,sendApiData:this.sendApiData})),r="Redirects"):"authorSearch"===this.props.match.params.pageName?(t=this.cmsPage(e,a.a.createElement(mf,{data:e.content,location:this.props.location,sendApiData:this.sendApiData})),r="Author Search"):this.props.match.params.pageName&&!e.content.issue?(t=a.a.createElement(Js.a,{unit:e.unit,data:e.content,sidebar:n,fetchPageData:this.fetchPageData}),r=e.content.title):(this.extGA(e.unit.id),t="oru"===e.unit.type?a.a.createElement(lu,{unit:e.unit,data:e.content,sidebar:n,marquee:e.marquee}):"campus"==e.unit.type?a.a.createElement(kl,{unit:e.unit,data:e.content,sidebar:n}):e.unit.type.includes("series")?a.a.createElement(Lu,{unit:e.unit,data:e.content,sidebar:n,marquee:e.marquee}):"journal"===e.unit.type?a.a.createElement(Ss,{unit:e.unit,data:e.content,sidebar:n,marquee:e.marquee}):a.a.createElement(Ii.a,{error:"Not Found"})),a.a.createElement("div",null,a.a.createElement(we.a,{title:r},a.a.createElement("link",{rel:"canonical",href:"https://escholarship.org"+this.props.location.pathname})),"root"==e.unit.type?a.a.createElement(y.a,null):a.a.createElement(tt,{type:e.unit.type,unitID:e.unit.id}),"root"!=e.unit.type&&a.a.createElement(nt.a,{unit:e.unit,header:e.header}),a.a.createElement(bn.a,{navBar:e.header.nav_bar,unit:e.unit,socialProps:e.header.social}),a.a.createElement(rt.a,{array:e.header.breadcrumb}),t)}}])}(b.a),Bf=n(247),qf=n.n(Bf),Mf=n(248);function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uf(r.key),r)}}function Uf(e){var t=function(e,t){if("object"!=If(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=If(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==If(t)?t:t+""}function zf(e,t,n){return t=Vf(t),function(e,t){if(t&&("object"==If(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vf(e).constructor):t.apply(e,n))}function Vf(e){return(Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wf(e,t){return(Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}a.a.Component;function Hf(e){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,em(r.key),r)}}function $f(e,t,n){return t&&Gf(e.prototype,t),n&&Gf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yf(e,t,n){return t=Zf(t),function(e,t){if(t&&("object"==Hf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Zf(e).constructor):t.apply(e,n))}function Zf(e){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}function Qf(e,t){return(Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xf(e,t,n){return(t=em(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function em(e){var t=function(e,t){if("object"!=Hf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hf(t)?t:t+""}if("undefined"!=typeof document)n(26);var tm=function(e){function t(){return Jf(this,t),Yf(this,t,arguments)}return Kf(t,e),$f(t,[{key:"componentDidMount",value:function(){dn()(".c-infopages__text").dotdotdot({watch:"window"})}},{key:"render",value:function(){var e=this.props.result,t="root"==e.ancestor_id?"/":"/uc/".concat(e.ancestor_id),n=e.isPage&&"root"==e.ancestor_id?"/".concat(e.target_id):e.isPage?"/uc/".concat(e.ancestor_id,"/").concat(e.target_id):"/uc/".concat(e.target_id);return a.a.createElement("div",{className:"c-infopages__item"},a.a.createElement("h3",null,e.topmost_name&&a.a.createElement("b",null,e.topmost_name),e.ancestor_id&&e.ancestor_name&&a.a.createElement(N.a,{to:t},e.ancestor_name),a.a.createElement(N.a,{to:n,className:"c-infopages__title"},e.target_name)),e.content&&a.a.createElement("div",{className:"c-infopages__text",dangerouslySetInnerHTML:{__html:e.content}}))}}])}(a.a.Component);Xf(tm,"propTypes",{result:d.a.shape({isPage:d.a.bool.isRequired,topmost_name:d.a.string,ancestor_id:d.a.string,ancestor_name:d.a.string,target_id:d.a.string.isRequired,target_name:d.a.string.isRequired,content:d.a.string}).isRequired});var nm=function(e){function t(){var e;Jf(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Xf(e=Yf(this,t,[].concat(r)),"state",{showMore:!1}),e}return Kf(t,e),$f(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"c-infopages"},a.a.createElement("div",{className:"c-infopages__items"},0!=this.props.info_count?this.props.infoResults.slice(0,3).map((function(e){return a.a.createElement(tm,{key:e.id,result:e})})):a.a.createElement("p",null,a.a.createElement("br",null),a.a.createElement("br",null),"No results found.",a.a.createElement("br",null),a.a.createElement("br",null))),this.props.info_count>3&&a.a.createElement("button",{className:"c-infopages__toggle",onClick:function(){return e.setState({showMore:!0})},hidden:this.state.showMore},"Show more results"),a.a.createElement("div",{className:"c-infopages__show-more",hidden:!this.state.showMore},a.a.createElement("div",{className:"c-infopages__items"},this.props.infoResults.slice(3,12).map((function(e){return a.a.createElement(tm,{key:e.id,result:e})}))),this.props.info_count>12?[a.a.createElement(gu.a,{key:"0",formName:"facetForm",formButton:"facet-form-submit",query:this.props.query,count:this.props.info_count,is_info:!0}),a.a.createElement("button",{key:"1",className:"c-infopages__toggle",onClick:function(){return e.setState({showMore:!1})}},"Show fewer results")]:a.a.createElement("button",{className:"c-infopages__toggle",onClick:function(){return e.setState({showMore:!1})}},"Show fewer results")))}}])}(a.a.Component);Xf(nm,"propTypes",{query:d.a.shape({q:d.a.string,rows:d.a.string,sort:d.a.string,info_start:d.a.string,start:d.a.string}).isRequired,infoResults:d.a.array.isRequired,info_count:d.a.number.isRequired});var rm=nm;function am(e){return(am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function om(e){return function(e){if(Array.isArray(e))return lm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function im(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cm(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function cm(e,t){if(e){if("string"==typeof e)return lm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(e,t):void 0}}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hm(r.key),r)}}function pm(e,t,n){return t&&sm(e.prototype,t),n&&sm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fm(e,t,n){return t=mm(t),function(e,t){if(t&&("object"==am(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],mm(e).constructor):t.apply(e,n))}function mm(e){return(mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bm(e,t)}function bm(e,t){return(bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ym(e,t,n){return(t=hm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e){var t=function(e,t){if("object"!=am(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==am(t)?t:t+""}if("undefined"!=typeof document)n(26);var vm=function(e){function t(){var e;um(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ym(e=fm(this,t,[].concat(r)),"handleChange",(function(t){var n,r=[];if("rights"==e.props.data.facetType&&"public"!=e.props.data.facet.value)n=[{displayName:e.props.data.facet.value,value:e.props.data.facet.value}];else if("departments"==e.props.data.facetType&&"descendents"in e.props.data.facet){n=[{displayName:e.label+" (All)",value:e.props.data.facet.value}];var a,o=im(e.props.data.facet.descendents);try{for(o.s();!(a=o.n()).done;){var i=a.value;r.push({displayName:i.displayName,value:i.value})}}catch(e){o.e(e)}finally{o.f()}}else n=[{displayName:e.label,value:e.props.data.facet.value}];e.props.handler(t,n,r)})),e}return dm(t,e),pm(t,[{key:"checkFacet",value:function(e){if(e.query){var t,n=im(e.query);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.data.facet.value==r.value)return!0}}catch(e){n.e(e)}finally{n.f()}if(e.data.ancestorChecked)return!0}return!1}},{key:"componentDidUpdate",value:function(e,t){this.checkFacet(this.props)===this.checkFacet(e)||this.props.data.ancestorChecked||e.data.ancestorChecked||(dn()("[name=start]").val("0"),dn()("#facet-form-submit").click())}},{key:"render",value:function(){var e=this,n=this.props.data.facet,r=n.value.replace(/ /g,"_");this.label=n.displayName?n.displayName:n.value;var o="rights"==this.props.data.facetType?"c-checkbox__attrib-".concat(n.value.toLowerCase()).replace(/ /g,"-"):"";return a.a.createElement("li",{className:o},a.a.createElement("input",{id:"".concat(this.props.data.facetType,"-").concat(r),className:"c-checkbox__input",type:"checkbox",name:this.props.data.facetType,value:n.value,onChange:this.handleChange,checked:this.checkFacet(this.props),disabled:!!this.props.data.ancestorChecked}),a.a.createElement("label",{htmlFor:"".concat(this.props.data.facetType,"-").concat(r),className:"c-checkbox__label"},this.label," (",n.count,")"),n.descendents&&a.a.createElement("ul",{className:"c-checkbox"},n.descendents.map((function(n){var r={facetType:e.props.data.facetType,facet:n,ancestorChecked:e.checkFacet(e.props)};return a.a.createElement(t,{key:n.value,data:r,query:e.props.query,handler:e.props.handler})}))))}}])}(a.a.Component),gm=function(e){function t(e){var n;return um(this,t),ym(n=fm(this,t,[e]),"handleSubmit",(function(e){var t;t=n.pub_year_start.value||n.pub_year_end.value?n.pub_year_start.value+"-"+n.pub_year_end.value:"",n.submitForm(),n.props.handler(e,{value:t})})),ym(n,"handleKeyPress",(function(e){return 13!=(e.keyCode||e.which||e.charCode)||(e.stopPropagation(),e.preventDefault(),!1)})),n.state=n.setupState(e),n}return dm(t,e),pm(t,[{key:"componentWillReceiveProps",value:function(e){Yo.a.isEqual(this.props.query,e.query)||this.setState(this.setupState(e))}},{key:"setupState",value:function(e){return{pub_year_start:e.data.range&&e.data.range.pub_year_start?e.data.range.pub_year_start:"",pub_year_end:e.data.range&&e.data.range.pub_year_end?e.data.range.pub_year_end:""}}},{key:"startYear",value:function(){return this.props.data.range&&this.props.data.range.pub_year_start?this.props.data.range.pub_year_start:""}},{key:"endYear",value:function(){return this.props.data.range&&this.props.data.range.pub_year_end?this.props.data.range.pub_year_end:""}},{key:"submitForm",value:function(){dn()("[name=start]").val("0"),dn()("#facet-form-submit").click()}},{key:"render",value:function(){var e=this,t=(new Date).getFullYear();return a.a.createElement("div",{className:"c-pubyear"},a.a.createElement("div",{className:"c-pubyear__field"},a.a.createElement("label",{htmlFor:"c-pubyear__textfield1"},"From:"),a.a.createElement("input",{id:"c-pubyear__textfield1",name:"pub_year_start",type:"text",maxLength:"4",placeholder:"1900",defaultValue:this.state.pub_year_start,ref:function(t){e.pub_year_start=t},onKeyPress:this.handleKeyPress})),a.a.createElement("div",{className:"c-pubyear__field"},a.a.createElement("label",{htmlFor:"c-pubyear__textfield2"},"To:"),a.a.createElement("input",{id:"c-pubyear__textfield2",name:"pub_year_end",type:"text",maxLength:"4",placeholder:t,defaultValue:this.state.pub_year_end,ref:function(t){e.pub_year_end=t},onKeyPress:this.handleKeyPress})),a.a.createElement("button",{className:"c-pubyear__button",onClick:this.handleSubmit},"Apply"))}}])}(a.a.Component),Em=function(e){function t(){var e;um(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ym(e=fm(this,t,[].concat(r)),"state",{modalOpen:!1}),ym(e,"handleChange",(function(t,n,r){var a;if(t.target.checked)if(Yo.a.isEmpty(e.props.query))a={display:e.props.data.display,fieldName:e.props.data.fieldName,filters:n};else{if(a=dn.a.extend(!0,{},e.props.query),r.length>0){var o=function(e){var t=a.filters.findIndex((function(t){return t.value==r[e].value}));t>=0&&a.filters.splice(t,1)};for(var i in r)o(i)}a.filters=a.filters.concat(n)}else
//!event.target.checked means we're in the business of removing filters
if(e.props.query.filters.length>1){a=dn.a.extend(!0,{},e.props.query);var c=function(e){var t=a.filters.findIndex((function(t){return t.value==n[e].value}));a.filters.splice(t,1)};for(var l in n)c(l)}e.props.handler(t,a,t.target.name)})),ym(e,"pubDateChange",(function(t,n){var r;""!==n.value&&(Yo.a.isEmpty(e.props.query)?r={display:e.props.data.display,fieldName:e.props.data.fieldName,filters:[n]}:(r=dn.a.extend(!0,{},e.props.query)).filters=[n]),e.props.handler(t,r,"pub_year")})),ym(e,"closeModal",(function(t,n){e.setState({modalOpen:!1})})),ym(e,"getFacetNodes",(function(t){return a.a.createElement("ul",{className:"supp_file_types"==e.props.data.fieldName?"c-checkbox--2column":"c-checkbox"},t.map((function(t){return a.a.createElement(vm,{key:t.value,data:{facetType:e.props.data.fieldName,facet:t},query:e.props.query.filters,handler:e.handleChange})})))})),ym(e,"getLength",(function(t){var n=t.descendents;return n?n.length+Math.max.apply(Math,om(n.map(e.getLength))):1})),ym(e,"facetsSliced",(function(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=0,c=[],l=im(t);try{for(l.s();!(r=l.n()).done;){var u=r.value;if((!a||u.value in o==!1)&&(c.push(u),(i+=e.getLength(u))>=n))break}}catch(e){l.e(e)}finally{l.f()}return c})),ym(e,"traverse",(function(t,n){var r,a=im(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.apply(e,[o]),o.descendents&&e.traverse(o.descendents,n)}}catch(e){a.e(e)}finally{a.f()}})),ym(e,"checkedFacetsFromTree",(function(t,n){var r={};return e.traverse(t,(function(e){e.value in n&&(r[e.value]=!0)})),r})),e}return dm(t,e),pm(t,[{key:"sliceArrangeFacets",value:function(e){if(!this.props.query.filters)return this.facetsSliced(e,6);var t,n={},r=im(this.props.query.filters);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.value]=!0}}catch(e){r.e(e)}finally{r.f()}var o=[];!function e(t){var r,a=im(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.value in n&&o.unshift(i),i.descendents&&e(i.descendents)}}catch(e){a.e(e)}finally{a.f()}}(e);var i=6-Object.keys(o).length;if(i>0){var c=this.facetsSliced(e,i,!0,n),l=this.checkedFacetsFromTree(c,n);return l&&(o=o.filter((function(e){return e.value in l==!1}))),o.concat(c)}return this.facetsSliced(o,Math.max(6,Object.keys(n).length))}},{key:"render",value:function(){var e,t,n,r=this,o=this.props.data;if(o.facets){var i=["departments","journals"].includes(o.fieldName);n=i&&o.facets.length>6,this.state.modalOpen?e=[]:i?(e=Yo.a.orderBy(o.facets,["count"],["desc"]),e=n&&o.facets.length>5?this.sliceArrangeFacets(e):e):e=o.facets,t=this.getFacetNodes(e)}else t="pub_year"==o.fieldName?a.a.createElement(gm,{data:o,query:this.props.query,handler:this.pubDateChange}):[];return a.a.createElement("details",{className:"c-facetbox",open:this.props.open},a.a.createElement("summary",{className:"c-facetbox__summary"},a.a.createElement("span",{id:this.props.index},o.display)),a.a.createElement("fieldset",{"aria-labelledby":this.props.index},t,n&&a.a.createElement("div",{id:"facetModalBase-".concat(o.fieldName)},a.a.createElement("button",{className:"c-facetbox__show-more",onClick:function(e){r.setState({modalOpen:!0}),e.preventDefault()}},"Show more"),a.a.createElement(Mt,{isOpen:this.state.modalOpen,parentSelector:function(){return dn()("#facetModalBase-".concat(o.fieldName))[0]},header:"Refine By "+o.display,onOK:function(e){return r.closeModal(e,o.fieldName)},okLabel:"Done",onCancel:function(e){return r.closeModal(e,o.fieldName)},content:a.a.createElement("div",null,this.getFacetNodes(o.facets))}))))}}])}(a.a.Component),_m=function(e){function t(){var e;um(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ym(e=fm(this,t,[].concat(r)),"state",{query:e.props.query,refineActive:!1,drawerOpen:!1}),ym(e,"widthChange",(function(){e.setState({refineActive:e.mq.matches,drawerOpen:e.mq.matches})})),ym(e,"changeFacet",(function(t,n,r){var a=dn.a.extend(!0,{},e.state.query);n?a.filters[r]=n:delete a.filters[r],e.setState({query:a})})),ym(e,"removeFilters",(function(t){var n=dn.a.extend(!0,{},e.state.query),r=dn()(t.target).data("filter-type");delete n.filters[r],e.setState({query:n})})),e}return dm(t,e),pm(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof matchMedia&&(this.mq=matchMedia("(min-width:"+v.screen1+")"),this.mq.addListener(this.widthChange),this.widthChange())}},{key:"componentWillReceiveProps",value:function(e){Yo.a.isEqual(this.props.query,e.query)||this.setState({query:e.query})}},{key:"render",value:function(){var e=this,t=this.props,n=this.props.data.facets.map((function(t,n){var r=t.fieldName,o=e.state.query.filters&&e.state.query.filters[r]?e.state.query.filters[r]:{};t.facets;return a.a.createElement(Em,{key:r,index:"facetbox"+n,data:t,query:o,handler:e.changeFacet,open:[0,1].includes(n)})}));return a.a.createElement("div",null,a.a.createElement(Mf.a,{query:this.state.query,count:t.data.count,info_count:t.info_count,handler:this.removeFilters}),a.a.createElement("div",{className:this.state.refineActive?"c-refine--no-drawer":"c-refine--has-drawer"},a.a.createElement("button",{className:"c-refine__button--open",onClick:function(){return e.setState({drawerOpen:!0})},hidden:this.state.drawerOpen},"Refine Results"),a.a.createElement("button",{className:"c-refine__button--close",onClick:function(){return e.setState({drawerOpen:!1})},hidden:!this.state.drawerOpen},"Back to Results"),a.a.createElement("div",{className:this.state.drawerOpen?"c-refine__drawer--opened":"c-refine__drawer--closed"},n)),a.a.createElement("button",{type:"submit",id:t.formButton,style:{display:"none"}},"Search"))}}])}(a.a.Component),wm=function(e){function t(){var e;um(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ym(e=fm(this,t,[].concat(r)),"formFilter",(function(e){var t={};for(var n in e)""==e[n]||"sort"===n&&"rel"===e[n]||"rows"===n&&"10"===e[n]||"start"===n&&"0"===e[n]||(t[n]=e[n]);return t})),e}return dm(t,e),pm(t,[{key:"renderData",value:function(e){var t={facets:e.facets,count:e.count};return a.a.createElement("div",{className:"l_search"},a.a.createElement(we.a,{title:"Search"}),a.a.createElement(tt,{searchComp:"1",query:qf.a.parse(this.props.location.search)}),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar})),a.a.createElement(Ae.a,{id:"facetForm",to:"/search",filter:this.formFilter,className:"c-columns"},a.a.createElement("aside",null,a.a.createElement(_m,{formName:"facetForm",formButton:"facet-form-submit",data:t,info_count:e.info_count,query:e.query})),a.a.createElement("main",{id:"maincontent"},e.info_count>0&&a.a.createElement("section",{className:this.state.fetchingData?"o-columnbox1 is-loading-data":"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h2",{className:"o-columnbox1__heading","aria-live":"polite"},"Informational Pages ("+e.info_count+" results)")),a.a.createElement(rm,{query:e.query,info_count:e.info_count,infoResults:e.infoResults})),a.a.createElement("section",{className:this.state.fetchingData?"o-columnbox1 is-loading-data":"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h2",{className:"o-columnbox1__heading","aria-live":"polite"},"Scholarly Works (",e.count+" results"+(e.count>1e4?", showing first 10000":""),")")),e.count>2&&a.a.createElement(ku,{formName:"facetForm",formButton:"facet-form-submit",query:e.query,count:e.count}),0!=e.count?e.searchResults.map((function(e){return a.a.createElement(Ms,{h:"h3",key:e.id,result:e})})):a.a.createElement("div",{className:"o-well-large"},"No results found."),e.count>e.query.rows&&a.a.createElement(gu.a,{formName:"facetForm",formButton:"facet-form-submit",query:e.query,count:e.count})))))}}])}(b.a),Om=n(250);function jm(e){return(jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,km(r.key),r)}}function km(e){var t=function(e,t){if("object"!=jm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jm(t)?t:t+""}function Nm(e,t,n){return t=Cm(t),function(e,t){if(t&&("object"==jm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Cm(e).constructor):t.apply(e,n))}function Cm(e){return(Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dm(e,t){return(Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Tm=function(e){function t(){return Sm(this,t),Nm(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dm(e,t)}(t,e),function(e,t,n){return t&&Pm(e.prototype,t),n&&Pm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"renderData",value:function(e){var t=this;return"undefined"!=typeof document&&setTimeout((function(){var e=t.props.location.prevPathname;window.location="https://submit.escholarship.org/secure/jscholLogin?returnTo="+encodeURIComponent(window.location.href.replace("/login","/loginSuccess"+(e&&!e.match(/login|logout/)?e:"")))+"&nonce="+t.state.pageData.nonce}),100),a.a.createElement("div",null,a.a.createElement(we.a,{title:"Login"}),a.a.createElement(y.a,null),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar})),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Login")),a.a.createElement("p",null,"Redirecting to login page...")))))}}])}(b.a);function Rm(e){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bm(r.key),r)}}function Bm(e){var t=function(e,t){if("object"!=Rm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rm(t)?t:t+""}function qm(e,t,n){return t=Mm(t),function(e,t){if(t&&("object"==Rm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Mm(e).constructor):t.apply(e,n))}function Mm(e){return(Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Im(e,t){return(Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Fm=function(e){function t(){return xm(this,t),qm(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}(t,e),function(e,t,n){return t&&Am(e.prototype,t),n&&Am(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"renderData",value:function(e){var t=this;return a.a.createElement("div",null,a.a.createElement(we.a,{title:"Login Success"}),a.a.createElement(y.a,null),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar})),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Login Success")),a.a.createElement(Pn.a.CMS.Consumer,null,(function(e){var n=e.username;return n||("undefined"!=typeof document&&(setTimeout((function(){return e.onLogin(t.state.pageData.username,t.state.pageData.key)}),0),t.props.match.params[0]&&setTimeout((function(){return t.props.history.push("/"+t.props.match.params[0])}),1e3)),n=t.state.pageData.username),a.a.createElement("div",null,a.a.createElement("p",null,"You are logged in as '",n,"'."),t.props.match.params[0]&&a.a.createElement("p",null,"Returning to where you left off..."))}))))))}}])}(b.a);function Lm(e){return(Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vm(r.key),r)}}function Vm(e){var t=function(e,t){if("object"!=Lm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lm(t)?t:t+""}function Wm(e,t,n){return t=Gm(t),function(e,t){if(t&&("object"==Lm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Gm(e).constructor):t.apply(e,n))}function Hm(){return(Hm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Jm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(null,arguments)}function Jm(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Gm(e)););return e}function Gm(e){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $m(e,t){return($m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ym=function(e){function t(){return Um(this,t),Wm(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}(t,e),function(e,t,n){return t&&zm(e.prototype,t),n&&zm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=this;Hm(Gm(t.prototype),"componentDidMount",this).call(this),"undefined"!=typeof document&&setTimeout((function(){e.sendApiData("POST","/api/logout",{});var t=e.props.location.prevPathname;window.location="https://submit.escholarship.org/Shibboleth.sso/Logout?return="+encodeURIComponent(window.location.href.replace("/logout","/logoutSuccess"+(t&&!t.match(/login|logout/)?t:"")))}),100)}},{key:"renderData",value:function(e){return a.a.createElement("div",null,a.a.createElement(we.a,{title:"Logout"}),a.a.createElement(y.a,null),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar})),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Logout")),a.a.createElement("p",null,"Redirecting to logout page...")))))}}])}(b.a);function Zm(e){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xm(r.key),r)}}function Xm(e){var t=function(e,t){if("object"!=Zm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zm(t)?t:t+""}function ed(e,t,n){return t=td(t),function(e,t){if(t&&("object"==Zm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],td(e).constructor):t.apply(e,n))}function td(e){return(td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nd(e,t){return(nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var rd=function(e){function t(){return Km(this,t),ed(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nd(e,t)}(t,e),function(e,t,n){return t&&Qm(e.prototype,t),n&&Qm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"renderData",value:function(e){var t=this;return"undefined"!=typeof document&&this.props.match.params[0]&&setTimeout((function(){return t.props.history.push("/"+t.props.match.params[0])}),1e3),a.a.createElement("div",null,a.a.createElement(we.a,{title:"Logout Success"}),a.a.createElement(y.a,null),a.a.createElement("div",{className:"c-navbar"},a.a.createElement(h.a,{data:e.header.nav_bar})),a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"Logout")),a.a.createElement("div",null,a.a.createElement("p",null,"Logged out."),this.props.match.params[0]&&a.a.createElement("p",null,"Returning to where you left off..."))))))}}])}(b.a);function ad(e){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pd(r.key),r)}}function cd(e,t,n){return t=ld(t),function(e,t){if(t&&("object"==ad(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ld(e).constructor):t.apply(e,n))}function ld(e){return(ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ud(e,t){return(ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sd(e,t,n){return(t=pd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pd(e){var t=function(e,t){if("object"!=ad(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ad(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ad(t)?t:t+""}var fd=function(e){function t(){var e;od(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return sd(e=cd(this,t,[].concat(r)),"handleSubmit",(function(t,n){t.preventDefault(),e.sendApiData("PUT",t.target.action,{data:n}),e.setState({anyChanges:!1})})),sd(e,"onDeleteForward",(function(t,n){e.sendApiData("DELETE","/api/userEmailForward/".concat(t),{data:{email:n}})})),sd(e,"onAddForward",(function(t,n){var r=e.forwardEmailEl.value;e.sendApiData("POST","/api/userEmailForward/".concat(n),{data:{email:r}})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ud(e,t)}(t,e),function(e,t,n){return t&&id(e.prototype,t),n&&id(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"pagePermissionsUnit",value:function(){return"root"}},{key:"renderData",value:function(e){var t=this,n=e.flags;return a.a.createElement("div",null,a.a.createElement(y.a,null),a.a.createElement(we.a,{title:"eScholarship"}),a.a.createElement("div",{className:this.state.fetchingData?"c-columns is-loading-data":"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},"User Account")),a.a.createElement("h2",null,e.first_name," ",e.last_name," <",e.email,">"),a.a.createElement("div",{className:"c-editable-pTable"},a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("div",{className:"c-editable-pCell"},"Registration date:"),a.a.createElement("div",{className:"c-editable-pCell"},e.registered)),a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("div",{className:"c-editable-pCell"},"Last login date:"),a.a.createElement("div",{className:"c-editable-pCell"},e.last_login))),a.a.createElement("h3",null,"Settings"),a.a.createElement(Ae.a,{to:"/api/userFlags/".concat(e.user_id),onSubmit:this.handleSubmit},a.a.createElement("div",{className:"c-editable-pTable"},a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("input",{id:"flag_validated",type:"checkbox",className:"c-editable-pCell",name:"flag_validated",defaultChecked:n.validated,onChange:function(){return t.setState({anyChanges:!0})}}),a.a.createElement("label",{htmlFor:"flag_validated",className:"c-editable-pCell"},"Validated email address")),a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("input",{id:"flag_opted_out",type:"checkbox",className:"c-editable-pCell",name:"flag_opted_out",defaultChecked:n.opted_out,onChange:function(){return t.setState({anyChanges:!0})}}),a.a.createElement("label",{htmlFor:"flag_opted_out",className:"c-editable-pCell"},"Opted out of emails")),a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("input",{id:"flag_bouncing",type:"checkbox",className:"c-editable-pCell",name:"flag_bouncing",defaultChecked:n.bouncing,onChange:function(){return t.setState({anyChanges:!0})}}),a.a.createElement("label",{htmlFor:"flag_bouncing",className:"c-editable-pCell"},"Bouncing email address")),a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("input",{id:"flag_superuser",type:"checkbox",className:"c-editable-pCell",name:"flag_superuser",defaultChecked:n.superuser,onChange:function(){return t.setState({anyChanges:!0})}}),a.a.createElement("label",{htmlFor:"flag_superuser",className:"c-editable-pCell"},"Super-user"))),a.a.createElement("div",{className:"c-editable-pTable"},a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("label",{htmlFor:"new_password",className:"c-editable-pCell"},"Set new password:"),a.a.createElement("input",{id:"new_password",type:"password",className:"c-editable-pCell",name:"new_password",onChange:function(){return t.setState({anyChanges:!0})}}))),a.a.createElement("div",{className:"c-editable-pTable"},a.a.createElement("div",{className:"c-editable-pRow"},a.a.createElement("button",{type:"submit",disabled:!this.state.anyChanges,className:"c-editable-pCell"},"Save changes")))),a.a.createElement("div",null,a.a.createElement("h3",null,"Previous email addresses"),a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Prev email"),a.a.createElement("th",{scope:"col"},"Action"))),a.a.createElement("tbody",null,_.map(e.prev_emails,(function(n){return a.a.createElement("tr",{key:n},a.a.createElement("td",{className:"c-editable-tableCell"},n),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("button",{onClick:function(r){return t.onDeleteForward(e.user_id,n)}},"remove")))})),a.a.createElement("tr",{key:"new"},a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("input",{type:"email",placeholder:"email",ref:function(e){return t.forwardEmailEl=e}})),a.a.createElement("td",{className:"c-editable-tableCell"},a.a.createElement("button",{onClick:function(n){return t.onAddForward(n,e.user_id)}},"add"))))))),e.unit_roles.length>0&&a.a.createElement("div",null,a.a.createElement("h3",null,"Unit roles"),a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Unit"),a.a.createElement("th",{scope:"col"},"Role(s)"))),a.a.createElement("tbody",null,_.map(e.unit_roles,(function(e){return a.a.createElement("tr",{key:e[0]},a.a.createElement("td",{className:"c-editable-tableCell"},e[0]?a.a.createElement(N.a,{to:"/uc/".concat(e[0])},e[0]):"<root>"),a.a.createElement("td",{className:"c-editable-tableCell"},e[1].join(", ")))})))))),e.journal_roles.length>0&&a.a.createElement("div",null,a.a.createElement("h3",null,"Journal roles"),a.a.createElement("div",{className:"c-datatable-nomaxheight"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Journal"),a.a.createElement("th",{scope:"col"},"Role(s)"))),a.a.createElement("tbody",null,_.map(e.journal_roles,(function(e){return a.a.createElement("tr",{key:e[0]},a.a.createElement("td",{className:"c-editable-tableCell"},e[0]?a.a.createElement(N.a,{to:"/uc/".concat(e[0])},e[0]):"<root>"),a.a.createElement("td",{className:"c-editable-tableCell"},e[1].join(", ")))}))))))))))}}])}(b.a);function md(e){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wd(r.key),r)}}function bd(e,t,n){return t&&dd(e.prototype,t),n&&dd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hd(e,t,n){return t=vd(t),function(e,t){if(t&&("object"==md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],vd(e).constructor):t.apply(e,n))}function vd(e){return(vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ed(e,t)}function Ed(e,t){return(Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _d(e,t,n){return(t=wd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wd(e){var t=function(e,t){if("object"!=md(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=md(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==md(t)?t:t+""}"undefined"!=typeof document&&(n(266),n(267),n(268).polyfill());var Od=!1;function jd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];/componentWillMount has been renamed/.test(n[0])||/A future version of React will block javascript: URLs/.test(n[0])||/Failed prop type/.test(n[0])||/componentWillReceiveProps has been renamed/.test(n[0])||/useLayoutEffect does nothing on the server/.test(n[0])||/Prop [\s\S]* did not match[\s\S]*dangerouslySetInnerHTML/.test(n.toString())||/Expected server HTML to contain a matching[\s\S]*MathJax/.test(n.toString())?(Od||Sd("Note: jschol react warning(s) filtered out. Disable filtering if upgrading."),Od=!0):e.apply(console,n)}var Sd=console.warn;console.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];jd.apply(void 0,[Sd].concat(t))};var Pd=console.log;console.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];jd.apply(void 0,[Pd].concat(t))};var kd=console.debug;console.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];jd.apply(void 0,[kd].concat(t))};var Nd=console.error;console.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];jd.apply(void 0,[Nd].concat(t))};var Cd=console.info;console.info=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];jd.apply(void 0,[Cd].concat(t))},Array.prototype.includes=n(333).shim(),s.a.initialize("UA-26286226-1",{debug:!1});var Dd=null,Td=function(e){function t(){var e;yd(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return _d(e=hd(this,t,[].concat(r)),"render",(function(){return e.props.location.pathname!=Dd&&(e.props.location.prevPathname=Dd,Dd=e.props.location.pathname,"undefined"!=typeof document&&(s.a.set({page:window.location.pathname+window.location.search,anonymizeIp:!0}),s.a.pageview(window.location.pathname+window.location.search))),null})),e}return gd(t,e),bd(t)}(a.a.Component),Rd=function(e){function t(){var e;yd(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _d(e=hd(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",null,a.a.createElement(c.a,{path:"*",component:Td}),a.a.createElement(l.a,null," ",a.a.createElement(c.a,{exact:!0,path:"/",component:Re}),a.a.createElement(c.a,{exact:!0,path:"/campuses",component:fn}),a.a.createElement(c.a,{exact:!0,path:"/journals",component:fn}),a.a.createElement(c.a,{exact:!0,path:"/:campusID/units",component:fn}),a.a.createElement(c.a,{exact:!0,path:"/:campusID/journals",component:fn}),a.a.createElement(c.a,{exact:!0,path:"/uc/item/:itemID",component:Mi}),a.a.createElement(c.a,{exact:!0,path:"/uc/author/:personID/stats",component:jc}),a.a.createElement(c.a,{exact:!0,path:"/uc/author/:personID/stats/:pageName",component:jc}),a.a.createElement(c.a,{exact:!0,path:"/uc/:unitID/stats",component:Oc}),a.a.createElement(c.a,{exact:!0,path:"/uc/:unitID/stats/:pageName",component:Oc}),a.a.createElement(c.a,{exact:!0,path:"/uc/:unitID",component:Af}),a.a.createElement(c.a,{path:"/uc/:unitID/:pageName/*",component:Af}),a.a.createElement(c.a,{exact:!0,path:"/uc/:unitID/:pageName",component:Af}),a.a.createElement(c.a,{path:"/uc/:unitID/*",component:Af}),a.a.createElement(c.a,{exact:!0,path:"/search",component:wm}),a.a.createElement(c.a,{exact:!0,path:"/login",component:Tm}),a.a.createElement(c.a,{exact:!0,path:"/loginSuccess",component:Fm}),a.a.createElement(c.a,{path:"/loginSuccess/*",component:Fm}),a.a.createElement(c.a,{exact:!0,path:"/logout",component:Ym}),a.a.createElement(c.a,{exact:!0,path:"/logoutSuccess",component:rd}),a.a.createElement(c.a,{path:"/logoutSuccess/*",component:rd}),a.a.createElement(c.a,{path:"/userAccount/:userID",component:fd}),a.a.createElement(c.a,{path:"*",component:Om.a})," "))})),e}return gd(t,e),bd(t)}(a.a.Component);"undefined"!=typeof document&&(f.a.setAppElement("#main"),window.jscholApp_initialPageData?i.a.hydrate(a.a.createElement(u.a,null,a.a.createElement(Rd,null)),document.getElementById("main")):i.a.render(a.a.createElement(u.a,null,a.a.createElement(Rd,null)),document.getElementById("main")));t.default=Rd},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(0),a=n.n(r),o=n(11),i=n(32);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=function(e){function t(){var e;u(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return m(e=s(this,t,[].concat(r)),"render",(function(){return a.a.createElement("ul",{className:"c-relateditems"},e.props.data.items.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("h3",null,a.a.createElement("a",{className:"o-textlink__secondary",href:"/uc/item/".concat(e.id.replace(/^qt/,""))},a.a.createElement(o.a,{html:e.title}))),a.a.createElement(i.a,{author_hide:e.author_hide,authors:e.authors,editors:e.editors,advisors:e.advisors,id:e.id}))})))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,r&&l(n.prototype,r),c&&l(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,c}(a.a.Component),y=n(252);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}function _(e,t,n){return t=w(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],w(e).constructor):t.apply(e,n))}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}a.a.Component;function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t,n){return t=N(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],N(e).constructor):t.apply(e,n))}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}var R=function(e){function t(){var e;P(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return D(e=k(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",null,e.props.data?e.props.data.map((function(e){return"RecentArticles"==e.kind&&0==e.attrs.items||"TwitterFeed"==e.kind?null:a.a.createElement("section",{key:e.id,className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h2",null,e.attrs&&e.attrs.title?e.attrs.title:e.kind.replace(/([a-z])([A-Z][a-z])/g,"$1 $2"))),"Text"==e.kind?a.a.createElement(o.a,{html:e.attrs.html,h1Level:3}):"RecentArticles"==e.kind?a.a.createElement(b,{data:e.attrs}):a.a.createElement("p",null,a.a.createElement("i",null,"Not yet implemented")))})):null)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,r&&S(n.prototype,r),i&&S(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(a.a.Component)},40:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(57),i=n.n(o),c=n(1),l=n.n(c),u=n(4),s=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t,n){return t=b(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}if("undefined"!=typeof document){var v=n(289);n(26)}var g,E,_,w=function(e){function t(){return f(this,t),d(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){try{this.flkty=new v(this.domEl,this.props.options)}catch(e){console.log("Exception initializing flickity:",e)}this.props.truncate&&(s()(this.domEl).find(this.props.truncate),s()(this.domEl).find(this.props.truncate).each((function(){s()(this).dotdotdot({watch:"window"})})))}},{key:"componentDidUpdate",value:function(e){try{this.flkty&&this.flkty.destroy(),this.flkty=new v(this.domEl,this.props.options)}catch(e){console.log("Exception re-initializing flickity:",e)}}},{key:"componentWillUnmount",value:function(){try{this.flkty&&this.flkty.destroy()}catch(e){console.log("Exception destroying flickity:",e)}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.className,ref:function(t){return e.domEl=t},dangerouslySetInnerHTML:{__html:i.a.renderToStaticMarkup(a.a.createElement("div",null,this.props.children)).replace(/^<div>/,"").replace(/<\/div>$/,"")}})}}])&&m(n.prototype,r),o&&m(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);g=w,E="propTypes",_={className:l.a.string.isRequired,options:l.a.object.isRequired},(E=h(E))in g?Object.defineProperty(g,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[E]=_,t.a=w},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t=u(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var m=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(e=l(this,t,[].concat(r)),"state",{isOpen:!1}),p(e,"onItemClicked",(function(){e.anyFocused=!1,e.setState({isOpen:!1})})),p(e,"onFocus",(function(){e.anyFocused=!0})),p(e,"onBlur",(function(){e.anyFocused=!1,setTimeout((function(){!e.anyFocused&&e.mounted&&e.setState({isOpen:!1})}),500)})),p(e,"render",(function(){return a.a.createElement("details",{className:e.props.detailsClass,open:e.state.isOpen?"open":"",onFocus:e.onFocus,onBlur:e.onBlur,ref:function(t){return e.details=t}},a.a.createElement("summary",{"aria-label":e.props.ariaLabel,onFocus:e.onFocus,onBlur:e.onBlur,ref:function(t){return e.summary=t},onClick:function(t){setTimeout((function(){e.setState({isOpen:e.details.open}),e.summary.focus()}),0)}},e.props.summarySpan&&a.a.createElement("span",null,e.props.summarySpan)),a.a.createElement("div",{onClick:e.onItemClicked},e.props.children))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}}])&&c(n.prototype,r),o&&c(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component)},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"sumValueTotals",value:function(e,t){return 0==e.length?0:e.reduce((function(e,n){return null==n[t]?e:e+n[t]}),0)}},{key:"p_wrap",value:function(e){return e.startsWith("<p>")&&e.endsWith("</p>")?e:"<p>"+e+"</p>"}}],(t=null)&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},45:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(40),l=n(11),u=n(4),s=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function d(e,t,n){return t=b(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}if("undefined"!=typeof document)n(26);var g=function(e){function t(){var e;f(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(e=d(this,t,[].concat(r)),"destroydotdotdot",(function(t){s()(e.aboutElement).trigger("destroy"),s()(e.aboutElement).removeClass("c-marquee__sidebar-truncate"),s()(e.aboutElement).removeClass("o-columnbox__truncate1"),s()(e.aboutElement).find(".c-marquee__sidebar-more").hide()})),h(e,"renderMarquee",(function(t,n){return a.a.createElement("div",{className:"c-marquee"},a.a.createElement(c.a,{className:"c-marquee__carousel",truncate:".c-marquee__carousel-cell",options:{cellAlign:"left",contain:!0,initialIndex:0,imagesLoaded:!0}},t),e.props.marquee.about&&a.a.createElement("aside",{className:"c-marquee__sidebar"},a.a.createElement("section",{className:"o-columnbox2"},a.a.createElement("header",null,a.a.createElement("h2",null,"About")),a.a.createElement("div",{className:"c-marquee__sidebar-truncate",ref:function(t){return e.aboutElement=t}},a.a.createElement(l.a,{html:n,h1Level:3})))))})),h(e,"renderAbout",(function(t){return a.a.createElement("section",{className:"o-columnbox2"},a.a.createElement("header",null,a.a.createElement("h2",null,"About")),a.a.createElement("div",{className:"o-columnbox__truncate1",ref:function(t){return e.aboutElement=t}},a.a.createElement(l.a,{html:t,h1Level:3})))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.aboutElement&&(s()(this.aboutElement).dotdotdot({watch:"window",after:".c-marquee__sidebar-more",callback:function(){s()(e.aboutElement).find(".c-marquee__sidebar-more").click(e.destroydotdotdot)}}),setTimeout((function(){return s()(e.aboutElement).trigger("update")}),0))}},{key:"render",value:function(){var e=this.props.marquee.about?"<div>"+this.props.marquee.about+'</div><button class="c-marquee__sidebar-more">More</button>':null,t=this.props.marquee,n=[];return t.slides&&(n=this.props.marquee.slides.map((function(e,t){var n;return n=e.imagePreviewUrl?e.imagePreviewUrl:e.image&&"string"==typeof e.image?e.image:e.image&&e.image.asset_id?"/cms-assets/"+e.image.asset_id:"",a.a.createElement("div",{key:t,className:"c-marquee__carousel-cell",style:{backgroundImage:"url('"+n+"')"}},a.a.createElement("h2",null,e.header),e.text&&a.a.createElement(l.a,{html:e.text,h1Level:3}))}))),this.props.forceOn||t.carousel&&t.slides&&t.slides.length>0?this.renderMarquee(n,e):(!t.carousel||t.slides&&0!=t.slides.length)&&t.carousel||!t.about?void 0:this.renderAbout(e)}}])&&m(n.prototype,r),o&&m(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);h(g,"propTypes",{forceOn:i.a.bool,marquee:i.a.shape({about:i.a.string,carousel:i.a.bool,slides:i.a.arrayOf(i.a.shape({header:i.a.string,image:i.a.oneOfType([i.a.string,i.a.object]),text:i.a.string,imagePreviewUrl:i.a.string}))})}),t.a=g},46:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(8),i=n(1),c=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function p(e,t,n){return t=f(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var b,y,h,v=function(e){function t(){return u(this,t),p(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(r=[{key:"campusList",value:function(e,t){var n=this;return e.map((function(e){return"lbnl"==e.id?a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:"https://oapolicy.universityofcalifornia.edu"},e.name)):"anrcs"==e.id?a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:n.props.subi_link+e.id},e.name)):""!=e.id?a.a.createElement("li",{key:e.id},a.a.createElement("a",{onClick:function(r){r.preventDefault(),n.props.goForward(t,{campusID:e.id})},href:""},e.name)):void 0}))}},{key:"render",value:function(){var e=this;return a.a.createElement(o.a.Wiz.Consumer,null,(function(t){var n="2_student"==t.arg?4:3;return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},"eScholarship Deposit"),a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goBackward()},href:""},a.a.createElement("span",null,"Go back")),a.a.createElement("button",{onClick:e.props.closeModal},a.a.createElement("span",null,"Close"))),a.a.createElement("div",{className:"c-wizard__heading"},"Which UC Campus are you affiliated with?"),a.a.createElement("ul",{className:"c-wizard__list"},e.campusList(e.props.campuses,n)),a.a.createElement("footer",null,"We use these questions to direct you to the right place to deposit your materials."))}))}}])&&s(n.prototype,r),i&&s(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(a.a.Component);b=v,y="propTypes",h={campusID:c.a.string,arg:c.a.string,goBackward:c.a.any.isRequired,goForward:c.a.any.isRequired,campuses:c.a.array},(y=d(y))in b?Object.defineProperty(b,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[y]=h;var g=v;function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t,n){return t=P(t),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],P(e).constructor):t.apply(e,n))}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}var T="https://help.escholarship.org/support/tickets/new",R=function(e){function t(){var e;j(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C(e=S(this,t,[].concat(r)),"render",(function(){return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},e.props.campusName," Deposit"),a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goBackward()},href:""},a.a.createElement("span",null,"Go back")),a.a.createElement("button",{onClick:e.props.closeModal},a.a.createElement("span",null,"Close"))),e.props.children?e.props.children:[a.a.createElement("p",{key:"0"},"Template variable does not compute"),a.a.createElement("p",{key:"1"},"Please ",a.a.createElement("a",{href:T},"contact eScholarship")," and report this error, thank you."),a.a.createElement("footer",{key:"2"})])})),e}return k(t,e),O(t)}(a.a.Component),x=function(e){function t(){return j(this,t),S(this,t,arguments)}return k(t,e),O(t,[{key:"render",value:function(){var e=this;return a.a.createElement(o.a.Wiz.Consumer,null,(function(t){var n="series"==t.type?t.seriesName:t.unitName;return a.a.createElement(R,{campusName:t.campusName,goBackward:e.props.goBackward,closeModal:e.props.closeModal},"6_senate"==t.arg&&[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"UC Publication Management"),a.a.createElement("div",{key:"1",className:"c-wizard__message"},a.a.createElement("p",null,"Faculty use the UC Publication Management system for all eScholarship deposits– including to claim and deposit publications in compliance with the ",a.a.createElement("a",{href:"http://osc.universityofcalifornia.edu/open-access-policy"},"UC Academic Senate faculty Open Access Policy"),"."),a.a.createElement("a",{className:"c-wizard__external-link",href:"https://oapolicy.universityofcalifornia.edu"},"Go to UC Publication Management")),a.a.createElement("footer",{key:"2"},"Alternately, you may choose to wait for the system to automatically detect your new publication and send you a deposit link via email.")],/https/.test(t.arg)&&[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"Deposit your data in Dryad"),a.a.createElement("div",{key:"1",className:"c-wizard__message"},a.a.createElement("p",null,t.campusName," faculty, students and staff can take advantage of Dryad, a specialized data publication and preservation service."),a.a.createElement("a",{className:"c-wizard__external-link",href:t.arg},"Go to ",t.campusName," Dryad")),a.a.createElement("footer",{key:"2"})],"6_sorry"==t.arg&&[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"We’re sorry..."),a.a.createElement("div",{key:"1",className:"c-wizard__message"},a.a.createElement("p",null,"eScholarship currently accepts deposits from University of California affiliated faculty, researchers, staff and students only."),a.a.createElement("p",null,"Check the ",a.a.createElement("a",{href:"http://www.opendoar.org/"},"Directory of Open Access Repositories")," to find out if an Open Access repository is available at your institution.")),a.a.createElement("footer",{key:"2"})],"6_moribund"==t.arg&&[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"We’re sorry..."),a.a.createElement("div",{key:"1",className:"c-wizard__message"},a.a.createElement("p",null,"This ",t.type," ",a.a.createElement("b",null,"(",n,")")," is no longer active and is not accepting new deposits."),a.a.createElement("p",null,"Check the ",a.a.createElement("a",{href:"http://www.opendoar.org/"},"Directory of Open Access Repositories")," to find out if an Open Access repository is available at your institution.")),a.a.createElement("footer",{key:"2"},"If you are affiliated with this unit and interested in re-activating this series ",a.a.createElement("a",{href:T},"contact eScholarship support"),".")],"6_disabled"==t.arg&&[a.a.createElement("div",{key:"0",className:"c-wizard__heading"},"We’re sorry..."),a.a.createElement("div",{key:"1",className:"c-wizard__message"},a.a.createElement("p",null,"This ",t.type," ",a.a.createElement("b",null,"(",n,")")," is not currently accepting new deposits."),a.a.createElement("p",null,"You may find more information on the ",a.a.createElement("a",{href:"/uc/"+t.unitID},"unit’s page"),".")),a.a.createElement("footer",{key:"2"})])}))}}])}(a.a.Component),A=n(16);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}function U(e,t,n){return t=z(t),function(e,t){if(t&&("object"==B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],z(e).constructor):t.apply(e,n))}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){return I(this,t),U(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),function(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement(o.a.Wiz.Consumer,null,(function(t){var n=t.campusName,r=q(t.launchedFromRoot?["eScholarship","University of California",2,2]:[n,n,3,4],4),o=r[0],i=r[1],c=r[2],l=r[3];return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},o," Deposit"),a.a.createElement("button",{onClick:e.props.closeModal},a.a.createElement("span",null,"Close"))),a.a.createElement("div",{className:"c-wizard__heading"},"How are you affiliated with ",a.a.createElement("b",null,i),"?"),a.a.createElement("ul",{className:"c-wizard__list"},a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goForward(6,{arg:"6_senate"})},href:""},"Senate-represented faculty")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goForward(c,{arg:c+"_faculty"})},href:""},"Other faculty or staff")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goForward(l,{arg:l+"_student"})},href:""},"Student")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goForward(6,{arg:"6_sorry"})},href:""},"Not affiliated"))),o&&"eScholarship"!=o?a.a.createElement("footer",null,"We use these questions to direct you to the right place to deposit your materials."):a.a.createElement("footer",null,"Affiliated with a different UC campus?",a.a.createElement("br",null),a.a.createElement(A.a,{to:"/campuses"},"Find your campus here.")))}))}}])}(a.a.Component),H=n(238);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J(t)?t:t+""}function Z(e,t,n){return t=K(t),function(e,t){if(t&&("object"==J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],K(e).constructor):t.apply(e,n))}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var X={ucb:"https://datadryad.org",uci:"https://datadryad.org",ucm:"https://datadryad.org",ucop:"https://datadryad.org",ucr:"https://datadryad.org",ucsc:"https://datadryad.org",ucsf:"https://datadryad.org"},ee=function(e){function t(){return G(this,t),Z(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(t,e),function(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this;return a.a.createElement(o.a.Wiz.Consumer,null,(function(t){var n=t.launchedFromRoot?2:1;return a.a.createElement("div",{className:"c-wizard__step"},a.a.createElement("header",null,a.a.createElement("h1",{tabIndex:"-1"},t.campusName," Deposit"),a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goBackward(n)},href:""},a.a.createElement("span",null,"Go back")),a.a.createElement("button",{onClick:e.props.closeModal},a.a.createElement("span",null,"Close"))),a.a.createElement("div",{className:"c-wizard__heading"},"What kind of material are you depositing?"),a.a.createElement("ul",{className:"c-wizard__list"},a.a.createElement("li",null,a.a.createElement("a",{href:e.props.subi_link+t.campusID+"_postprints"},"A published (or accepted) scholarly article, book or chapter")),Object.keys(X).includes(t.campusID)&&a.a.createElement("li",null,a.a.createElement("a",{onClick:function(n){n.preventDefault(),e.props.goForward(6,{arg:X[t.campusID]})},href:""},"Data (independent or associated with a publication)")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){t.preventDefault(),e.props.goForward(4)},href:""},"Any other material (e.g., working paper, multimedia)"))),a.a.createElement("footer",null,"We use these questions to direct you to the right place to deposit your materials."))}))}}])}(a.a.Component),te=n(239),ne=n(19),re=n.n(ne);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t,n){return t=ue(t),function(e,t){if(t&&("object"==ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ue(e).constructor):t.apply(e,n))}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}function pe(e,t){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}var de="https://submit.escholarship.org/subi/directSubmit?target=",be=function(e){function t(){var e;ce(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fe(e=le(this,t,[].concat(r)),"render",(function(){return a.a.createElement(re.a,{closeTimeoutMS:1e3,isOpen:e.props.isOpen,parentSelector:e.props.parentSelector,onRequestClose:e.props.onRequestClose,className:"c-wizard__modal",portalClassName:"c-wiz-modal__portal",overlayClassName:"c-modal__overlay"},a.a.createElement("div",{className:"c-wizard"},e.props.children))})),e}return se(t,e),ie(t)}(a.a.Component),ye=function(e){function t(){var e;ce(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return fe(e=le(this,t,[].concat(r)),"init",(function(){return{wizardStep:e.props.data.unitID?5:1,wizardDir:"fwd",campuses:e.props.campuses,campusID:e.props.data.campusID,campusName:e.props.data.campusName,unitID:e.props.data.unitID,unitName:e.props.data.unitName,seriesName:null,arg:null,type:null}})),fe(e,"state",{showModal:e.props.showModal,launchedFromRoot:!e.props.data.campusID||"root"==e.props.data.campusID,data:e.init()}),fe(e,"basicCampuses",(function(e){var t=[];return e.forEach((function(e){["lbnl","anrcs"].includes(e.id)||t.push(e)})),t})),fe(e,"getCampusName",(function(t){if(!t||"root"==t)return"eScholarship";var n=_.find(e.props.campuses,{id:t});return n?n.name:e.state.data.campusName})),fe(e,"goForward",(function(t,n){setTimeout((function(){return e.tabFocus()}),0);var r=n&&n.campusID?n.campusID:e.state.data.campusID;e.setState({data:{wizardStep:t,wizardDir:"fwd",campuses:n&&/_student/.test(n.arg)?e.basicCampuses(e.props.campuses):e.props.campuses,prevStep:e.state.data.wizardStep,campusID:r,campusName:e.getCampusName(r),unitID:n&&n.unitID?n.unitID:e.state.data.unitID,unitName:n&&n.unitName?n.unitName:e.state.data.unitName,seriesName:n&&n.seriesName?n.seriesName:e.state.data.seriesName,arg:n&&n.arg?n.arg:e.state.data.arg,type:n&&n.type?n.type:e.state.data.type}})})),fe(e,"goBackward",(function(t){var n;setTimeout((function(){return e.tabFocus()}),0);var r=1==(n=t||(e.state.data.prevStep?e.state.data.prevStep:e.state.data.wizardStep-1))&&e.state.launchedFromRoot;e.setState({data:{wizardStep:n,wizardDir:"bkw",campuses:e.state.data.campuses,prevStep:null,campusID:r?null:e.state.data.campusID,campusName:r?null:e.state.data.campusName,unitID:e.state.data.unitID,unitName:e.state.data.unitName,arg:e.state.data.arg}})})),fe(e,"tabFocus",(function(){var e=document.querySelector(".c-wizard__current-fwd h1, .c-wizard__current-bkw h1");e&&e.focus()})),fe(e,"handleCloseModal",(function(){e.setState({showModal:!1}),e.setState({data:e.init()}),e.props.onCancel()})),e}return se(t,e),ie(t,[{key:"componentWillReceiveProps",value:function(e){_.isEqual(this.props.showModal,e.showModal)||this.setState({showModal:e.showModal})}},{key:"render",value:function(){var e=this.state.data;return a.a.createElement("div",{className:"c-modal"},a.a.createElement(o.a.Wiz.Provider,{value:{launchedFromRoot:this.state.launchedFromRoot,campusName:e.campusName?e.campusName:"eScholarship",campusID:e.campusID,unitID:e.unitID,unitName:e.unitName,seriesName:e.seriesName,arg:e.arg,type:e.type}},a.a.createElement(be,{isOpen:this.state.showModal&&1===e.wizardStep,onRequestClose:this.handleCloseModal,parentSelector:this.props.parentSelector},a.a.createElement("div",{className:1===e.wizardStep?"c-wizard__current-".concat(e.wizardDir):"c-wizard__standby-".concat(e.wizardDir),"aria-hidden":1!==e.wizardStep||null},a.a.createElement(W,{goForward:this.goForward,closeModal:this.handleCloseModal}))),a.a.createElement(be,{isOpen:this.state.showModal&&2===e.wizardStep,onRequestClose:this.handleCloseModal,parentSelector:this.props.parentSelector},a.a.createElement("div",{className:2===e.wizardStep?"c-wizard__current-".concat(e.wizardDir):"c-wizard__standby-".concat(e.wizardDir),"aria-hidden":2!==e.wizardStep||null},a.a.createElement(g,{goForward:this.goForward,goBackward:this.goBackward,closeModal:this.handleCloseModal,campuses:e.campuses,subi_link:de}))),a.a.createElement(be,{isOpen:this.state.showModal&&3===e.wizardStep,onRequestClose:this.handleCloseModal,parentSelector:this.props.parentSelector},a.a.createElement("div",{className:3===e.wizardStep?"c-wizard__current-".concat(e.wizardDir):"c-wizard__standby-".concat(e.wizardDir),"aria-hidden":3!==e.wizardStep||null},a.a.createElement(ee,{goForward:this.goForward,goBackward:this.goBackward,closeModal:this.handleCloseModal,subi_link:de}))),a.a.createElement(be,{isOpen:this.state.showModal&&4===e.wizardStep,onRequestClose:this.handleCloseModal,parentSelector:this.props.parentSelector},a.a.createElement("div",{className:4===e.wizardStep?"c-wizard__current-".concat(e.wizardDir):"c-wizard__standby-".concat(e.wizardDir),"aria-hidden":4!==e.wizardStep||null},a.a.createElement(te.a,{goForward:this.goForward,goBackward:this.goBackward,closeModal:this.handleCloseModal}))),a.a.createElement(be,{isOpen:this.state.showModal&&5===e.wizardStep,onRequestClose:this.handleCloseModal,parentSelector:this.props.parentSelector},a.a.createElement("div",{className:5===e.wizardStep?"c-wizard__current-".concat(e.wizardDir):"c-wizard__standby-".concat(e.wizardDir),"aria-hidden":5!==e.wizardStep||null},a.a.createElement(H.a,{goForward:this.goForward,goBackward:this.goBackward,closeModal:this.handleCloseModal,subi_link:de}))),a.a.createElement(be,{isOpen:this.state.showModal&&6===e.wizardStep,onRequestClose:this.handleCloseModal,parentSelector:this.props.parentSelector},a.a.createElement("div",{className:6===e.wizardStep?"c-wizard__current-".concat(e.wizardDir):"c-wizard__standby-".concat(e.wizardDir),"aria-hidden":6!==e.wizardStep||null},a.a.createElement(x,{goBackward:this.goBackward,closeModal:this.handleCloseModal})))))}}])}(a.a.Component);fe(ye,"propTypes",{showModal:c.a.bool.isRequired,onCancel:c.a.any,campuses:c.a.array.isRequired,data:c.a.shape({campusID:c.a.string,campusName:c.a.string,unitID:c.a.string,unitName:c.a.string})});t.a=ye},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),o=n(9);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return c(this,t),s(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.query,n=t&&t.q?t.q:"",r=[];return t&&Object.keys(t).forEach((function(e){var n=t[e];["q","start","info_start"].includes(e)||("string"==typeof n?r.push(a.a.createElement("input",{type:"hidden",key:e,name:e,value:n})):n.forEach((function(t){r.push(a.a.createElement("input",{type:"hidden",key:e+t,name:e,value:t}))})))})),a.a.createElement(o.a,{to:"/search",className:"c-search1"},a.a.createElement("label",{className:"c-search1__label",htmlFor:"c-search1__field"},"search"),a.a.createElement("input",{type:"search",id:"c-search1__field",name:"q",className:"c-search1__field",placeholder:"Search over 500,000 items",defaultValue:n,autoCapitalize:"off"}),r,a.a.createElement("button",{type:"submit",className:"c-search1__submit-button","aria-label":"submit search"}),a.a.createElement("button",{type:"button",className:"c-search1__search-close-button","aria-label":"close search field",onClick:function(){return e.props.onClose()}}))}}])&&l(n.prototype,r),i&&l(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(a.a.Component)},56:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(8),i=n(10);t.a=function(e){return a.a.createElement(o.a.CMS.Consumer,null,(function(e){return a.a.createElement("div",{style:{marginTop:e.permissions&&e.permissions.admin&&e.modules&&e.showingDrawer?"-20px":"-10px"}},e.loggedIn&&a.a.createElement("div",{className:"c-adminbar"},a.a.createElement("div",{className:"c-adminbar__edit-pg"},e.permissions&&e.permissions.admin&&e.modules?a.a.createElement("button",{className:"c-adminbar__edit-pg-button",onClick:function(t){return e.onEditingPageChange(!e.isEditingPage)}},e.isEditingPage?"Done editing":"Edit page"):a.a.createElement("button",{className:"c-adminbar__edit-pg-button",disabled:!0},"Edit page"),a.a.createElement("a",{href:"https://help.escholarship.org/support/solutions/articles/9000124100-using-the-site-editing-tool"},a.a.createElement("img",{className:"c-adminbar-help__icon",src:i.a+"icon_help-white.svg",alt:"Get help on content carousels"}))),a.a.createElement("div",{className:"c-adminbar__logged-in-msg"},"Logged in as '",e.username,"'")))}))}},58:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(11);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function p(e,t,n){return t=f(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var b,y,h,v=function(e){function t(){return u(this,t),p(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-columns"},a.a.createElement("main",{id:"maincontent"},a.a.createElement("section",{className:"o-columnbox1"},a.a.createElement("header",null,a.a.createElement("h1",{className:"o-columnbox1__heading"},this.props.data.title)),a.a.createElement(c.a,{html:this.props.data.attrs.html,h1Level:2}))),a.a.createElement("aside",null,this.props.sidebar))}}])&&s(n.prototype,r),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);b=v,y="propTypes",h={data:i.a.shape({slug:i.a.string.isRequired,name:i.a.string.isRequired,title:i.a.string.isRequired,attrs:i.a.shape({html:i.a.string.isRequired})}),sidebar:i.a.object.isRequired},(y=d(y))in b?Object.defineProperty(b,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[y]=h,t.a=v},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var s=c((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));l(s,"CMS",a.a.createContext({})),l(s,"Wiz",a.a.createContext({}))},9:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(233),l=n(4),u=n.n(l),s=n(71);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){return t=b(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var g=function(e){function t(){var e;m(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(e=d(this,t,[].concat(r)),"formEl",a.a.createRef()),h(e,"onSubmit",(function(t){var n=Object(c.a)(e.formEl.current);e.props.filter&&(n=e.props.filter(n)),e.props.onSubmit?(t.target.action=e.props.to,e.props.onSubmit(t,n)):(t.preventDefault(),e.props.history.push(e.props.to+"?"+u.a.param(n).replace(/%5B%5D/g,"")))})),h(e,"render",(function(){return a.a.createElement("form",{id:e.props.id,onSubmit:e.onSubmit,ref:e.formEl,className:e.props.className},e.props.children)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,r&&f(n.prototype,r),o&&f(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a.Component);h(g,"propTypes",{id:i.a.string,to:i.a.string,onSubmit:i.a.func,className:i.a.string,filter:i.a.func}),t.a=Object(s.a)(g)}});
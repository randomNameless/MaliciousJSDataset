!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="103fc637-783a-4c4b-96b8-2d1f2d62acbc",e._sentryDebugIdIdentifier="sentry-dbid-103fc637-783a-4c4b-96b8-2d1f2d62acbc")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@ce094590bd2291e3264b21d2f92bffc273e4a131"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[8551],{70327:(e,n,t)=>{t.d(n,{S:()=>u});var o=t(83567),a=t(37116),l=t(74059),r=/*#__PURE__*/t.n(l),i=t(52017),s=t(36665);let c={checkbox:"Gtcb7",block:"tCD0e",label:"h7IR_",check:"mSBP0",checkIcon:"U1bgp",checked:"DzrPF",focusVisible:"hXjtP",content:"OtHsX",disabled:"WJeWN",danger:"KZn1Q"};var d=t(60397);let u=({checked:e,color:n="default",label:t,description:l,displayMode:u="inline",context:m,disabled:h,...b})=>{let[v,f]=(0,s.useState)(!1),[p,x]=(0,s.useState)(b.defaultChecked??!1),k=e??p;return/*#__PURE__*/(0,d.jsxs)("label",{className:r()(c.checkbox,c[m],{[c.default]:"default"===n,[c.danger]:"danger"===n,[c.block]:"block"===u}),children:[/*#__PURE__*/(0,d.jsx)(o.s,{children:/*#__PURE__*/(0,d.jsx)(a.S,{...b,checked:e??k,className:r()(c.check,b.className),clickOnEnter:!0,disabled:h,onBlur:()=>f(!1),onChange:e=>{x(e.target.checked),b.onChange?.(e)},onFocusVisible:()=>f(!0)})}),/*#__PURE__*/(0,d.jsx)("div",{className:r()(c.check,{[c.checked]:k},{[c.disabled]:h},{[c.focusVisible]:v}),children:/*#__PURE__*/(0,d.jsx)(i.f0N,{className:c.checkIcon})}),/*#__PURE__*/(0,d.jsx)("p",{className:c.label,children:t})]})}},18642:(e,n,t)=>{t.d(n,{z:()=>b});var o=t(83237),a=t(83567),l=t(59881),r=t(74059),i=/*#__PURE__*/t.n(r),s=t(52017),c=t(36665);let d={radio:"fBQsy",label:"tHYTK"},u={radio:"pxvHL",block:"b4th4",label:"h6QpP",check:"qg5oo",checkIcon:"OB8Da",checked:"g0bQ8",focusVisible:"Og4oP",content:"C_xeO",disabled:"w5rqU"},m={radioGroup:"mak2V",chipGroup:"EiBE2"};var h=t(60397);let b=({context:e="content",options:n,defaultSelectedValue:t,selectedValue:a,onChange:l,disabled:r,mode:i="radio",...s})=>{let[d,u]=(0,c.useState)(a??t),b=s["aria-labelledby"];(0,c.useEffect)(()=>{u(a)},[a]);let p="chip"===i?f:v,x="chip"===i?m.chipGroup:m.radioGroup;return/*#__PURE__*/(0,h.jsx)(o.J,{className:x,...b&&{"aria-labelledby":b},children:n.map(n=>/*#__PURE__*/(0,h.jsx)(p,{...n,...r&&{disabled:!0},checked:n.value===d,context:e,mode:i,name:n.name??n.value.toString(),onChange:()=>{u(n.value),l?.(n.value)}},n.value))})},v=({label:e,checked:n,context:t,disabled:o,mode:r,...d})=>{let[m,b]=(0,c.useState)(!1);return/*#__PURE__*/(0,h.jsxs)("label",{className:i()(u.radio,u[t],{[u.block]:"radioBlock"===r}),children:[/*#__PURE__*/(0,h.jsx)(a.s,{children:/*#__PURE__*/(0,h.jsx)(l.s,{className:i()(u.check,d.className),clickOnSpace:!0,...d,checked:n,disabled:o,onBlur:e=>{b(!1),d.onBlur?.(e)},onFocusVisible:e=>{b(!0),d.onFocus?.(e)}})}),/*#__PURE__*/(0,h.jsx)("div",{className:i()(u.check,{[u.checked]:n},{[u.disabled]:o},{[u.focusVisible]:m}),children:/*#__PURE__*/(0,h.jsx)(s.f0N,{className:u.checkIcon})}),/*#__PURE__*/(0,h.jsx)("span",{className:i()(u.label,{[u.disabled]:o}),children:e})]})},f=({label:e,checked:n,disabled:t,...o})=>{let[r,i]=(0,c.useState)(!1);return/*#__PURE__*/(0,h.jsxs)("label",{className:d.radio,"data-checked":n,"data-disabled":t,"data-focus-visible":r||void 0,children:[/*#__PURE__*/(0,h.jsx)(a.s,{children:/*#__PURE__*/(0,h.jsx)(l.s,{clickOnSpace:!0,...o,checked:n,disabled:t,onBlur:e=>{i(!1),o.onBlur?.(e)},onFocusVisible:e=>{i(!0),o.onFocus?.(e)}})}),/*#__PURE__*/(0,h.jsx)("span",{className:d.label,children:e})]})}},48551:(e,n,t)=>{t.d(n,{C:()=>v,V:()=>f});var o=t(70327),a=t(84634),l=t(85191),r=t(82301),i=t(30617),s=t(16067),c=t(36665),d=t(4613),u=t(19086),m=t(373),h=t(60397);let b=({onClick:e,children:n})=>/*#__PURE__*/(0,h.jsx)(a.Dr,{danger:!0,onClick:e,children:n}),v=({blogName:e,renderMenuItem:n})=>{let{communityId:t}=(0,u.V)({communityId:m.z.string().optional()}),{data:o}=(0,r.tK)(t??"",{enabled:!!t});return o&&o.canInvite?/*#__PURE__*/(0,h.jsx)(f,{blogName:e,communityId:o.name,renderMenuItem:n}):null},f=({communityId:e,blogName:n,membersModule:t,renderMenuItem:a=e=>/*#__PURE__*/(0,h.jsx)(b,{...e})})=>{let{_c:r}=(0,d.Us)(),{mutate:u}=(0,i.yh)(e,t),[m,v]=(0,c.useState)(!1),[f,p]=(0,c.useState)(!1),x=r("Menu item label for removing a community member","Remove @%1$s",[n]);return/*#__PURE__*/(0,h.jsxs)(h.Fragment,{children:[a({onClick:()=>{v(!0)},children:x}),/*#__PURE__*/(0,h.jsx)(s.g,{educationBannerText:/*#__PURE__*/(0,h.jsx)(l.Ay,{comment:"[Communities] Educational banner text in member removal modal. [p/] is a placeholder for paragraphs.",components:{p:/*#__PURE__*/(0,h.jsx)("p",{})},children:"[p] This person will be removed from this community, and unable to view comments, reactions, or members. [/p] [p]They will be notified and shown the selected reason and note.[/p]"}),isOpen:m,modalTitle:r("[Communities] Title for member removal modal","Remove member"),onSubmit:({note:e,reason:t,successFn:o})=>{u({blogName:n,note:e,reason:t,banUser:f},{onSuccess:()=>{o()}})},renderExtraBodyContent:()=>/*#__PURE__*/(0,h.jsx)(o.S,{checked:f,context:"content",label:r("Label for the checkbox to indicate the user also wants to ban the blog and any other blog that user owns","Also ban them from rejoining."),onChange:e=>p(e.target.checked)}),setIsOpen:v,submitButtonLabel:f?r("Confirmation modal for removing a community member - primary action (ban checkbox checked)","Remove and ban"):r("Confirmation modal for removing a community member - primary action (ban checkbox not checked)","Remove")})]})}},16067:(e,n,t)=>{t.d(n,{g:()=>j});var o=t(69998),a=t(80715),l=t(18642),r=t(70426),i=t(23390),s=t(36665),c=t(4613),d=t(83567),u=t(52017),m=t(66404),h=t(85191),b=t(94048),v=t(25183),f=t(85025);let p={helpButtonContainer:"UyBS5",helpButton:"fFwQS",tooltip:"z8X4n",modalContent:"DLFvz",modalFooter:"S9vSY",educationBanner:"o5TqQ",sectionLabel:"ogv2c",sectionLabelDescription:"hSPH0",noteTextarea:"gty8w",validationError:"sG03a",icon:"Dz8Ma"};var x=t(60397);let k=()=>{let{_c:e}=(0,c.Us)(),{logEvent:n}=(0,v.Ul)(),{shouldShowCommunityModeratorHandbookTooltipShown:t,communityModeratorHandbookTooltipShown:o}=(0,f.H)(),a=t(),l=()=>{o()},r=/*#__PURE__*/(0,x.jsxs)("a",{className:p.helpButton,href:"https://help.tumblr.com/moderating-communities/",onClick:a?l:()=>{},target:"_blank",children:[/*#__PURE__*/(0,x.jsx)(d.s,{children:e("[Communities] Screenreader-only label for help icon in content moderation modal","Help")}),/*#__PURE__*/(0,x.jsx)(u.NCC,{})]});return a?/*#__PURE__*/(0,x.jsx)(m.A,{content:/*#__PURE__*/(0,x.jsx)("div",{children:/*#__PURE__*/(0,x.jsx)(h.Ay,{comment:"[Tour Guide] Text that is shown as a tooltip to inform new mods/admins to visit the moderator handbook",components:{b:/*#__PURE__*/(0,x.jsx)("b",{})},children:"The [b]Moderator Handbook[/b] is highly recommended to help you understand your new responsibilities."})}),isOpen:a,onDismiss:l,onFirstShow:()=>{n({eventName:b.R.CommunityModeratorHandbookTooltipShown})},popoverProps:{targetStyles:{flex:0},skipClickToClose:!1,useFlex:!0},tooltipWrapperClassName:p.tooltip,withDismissButton:!0,children:r}):r};function g({text:e}){return/*#__PURE__*/(0,x.jsxs)("div",{className:p.validationError,children:[/*#__PURE__*/(0,x.jsx)(u.dXD,{className:p.icon,filled:!0}),/*#__PURE__*/(0,x.jsx)("p",{children:e})]})}let C=e=>"tumblr_guidelines"===e||"other"===e;function j({finalFocus:e,isOpen:n,onSubmit:t,setIsOpen:d,modalTitle:u,educationBannerText:m,submitButtonLabel:h,renderExtraBodyContent:b}){let{_c:v,_t:f}=(0,c.Us)(),[j,y]=(0,s.useState)(null),[S,N]=(0,s.useState)(""),[w,A]=(0,s.useState)({}),B=[{label:v("[Communities] Moderation reason label","Off-topic"),value:"off_topic"},{label:v("[Communities] Moderation reason label","Spam"),value:"spam"},{label:v("[Communities] Moderation reason label","Against community guidelines"),value:"community_guidelines"},{label:v("[Communities] Moderation reason label","Inappropriate behaviour"),value:"inappropriate_behavior"},{label:v("[Communities] Moderation reason label","Not allowed on Tumblr"),value:"tumblr_guidelines"},{label:v("[Communities] Moderation reason label","Other"),value:"other"}],I=e=>B.find(n=>n.value===e).label,P=()=>{y(null),N(""),A({})},T=()=>{P(),d(!1)},_=/*#__PURE__*/(0,x.jsxs)("div",{className:p.modalFooter,children:[/*#__PURE__*/(0,x.jsx)(o.tA,{context:"content",onClick:T,children:f("Cancel")}),/*#__PURE__*/(0,x.jsx)(o.jn,{color:"danger",context:"content",onClick:()=>{let e={};if(j?C(j)&&!S&&(e.moderationNote=v("[Communities] Placeholder text and validation message for note field in moderation modal",'A note is required when selecting "%1$s".',[I(j)])):e.reason=v("[Communities] Moderation modal error message when no content removal reason selected","You must choose a reason."),Object.keys(e).length>0){A(e);return}j&&t({note:S,reason:j,successFn:()=>{d(!1),P()}})},children:h})]}),F=j&&C(j)?v("[Communities] Placeholder text and validation message for note field in moderation modal",'A note is required when selecting "%1$s".',[I(j)]):v("[Communities] Placeholder text for note field in moderation modal","Add an optional note...");return n?/*#__PURE__*/(0,x.jsx)(i.A,{onGlassClick:()=>d(!1),children:/*#__PURE__*/(0,x.jsx)(a.a,{autoFocusOnHide:!0,backdrop:!1,finalFocus:e,footer:_,headerText:u,isOpen:n,onClose:T,pinToSide:"right",renderHeader:e=>/*#__PURE__*/(0,x.jsx)(a.a.Header,{...e,children:/*#__PURE__*/(0,x.jsx)("div",{className:p.helpButtonContainer,children:/*#__PURE__*/(0,x.jsx)(k,{})})}),size:"l",children:/*#__PURE__*/(0,x.jsxs)(r.B,{className:p.modalContent,direction:"column",gap:"m",children:[/*#__PURE__*/(0,x.jsx)("p",{className:p.educationBanner,children:m}),/*#__PURE__*/(0,x.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,x.jsxs)(r.B,{direction:"column",gap:"xs",children:[/*#__PURE__*/(0,x.jsx)("label",{className:p.sectionLabel,id:"reason-label",children:v("[Communities] Form field label in content moderation modal","Reason")}),/*#__PURE__*/(0,x.jsxs)(x.Fragment,{children:[/*#__PURE__*/(0,x.jsx)(l.z,{"aria-labelledby":"reason-label",mode:"chip",onChange:e=>{y(e),A({})},options:B,selectedValue:j??void 0}),w.reason&&/*#__PURE__*/(0,x.jsx)(g,{text:w.reason})]})]})}),/*#__PURE__*/(0,x.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,x.jsx)("label",{className:p.sectionLabel,htmlFor:"moderationNote",children:v("[Communities] Form field label in moderation modal","Note")}),/*#__PURE__*/(0,x.jsx)("p",{className:p.sectionLabelDescription,children:v("[Communities] Description for field in content moderation modal","This is shown to other admins, moderators, and the post author.")}),/*#__PURE__*/(0,x.jsx)("textarea",{className:p.noteTextarea,id:"moderationNote",onChange:e=>{N(e.target.value),A({})},placeholder:F,value:S}),w.moderationNote&&/*#__PURE__*/(0,x.jsx)(g,{text:w.moderationNote}),b?.()]})]})})}):null}},37116:(e,n,t)=>{t.d(n,{S:()=>x});var o=t(66034),a=(0,o.B0)(),l=a.useContext;a.useScopedContext,a.useProviderContext,a.ContextProvider,a.ScopedContextProvider;var r=t(36665),i=(0,r.createContext)(!1),s=t(91292),c=t(48277),d=t(21368),u=t(47766),m=t(96723),h=t(60397),b="input";function v(e,n){n?e.indeterminate=!0:e.indeterminate&&(e.indeterminate=!1)}function f(e){return Array.isArray(e)?e.toString():e}var p=(0,o.ab)(function(e){var n,t,{store:o,name:a,value:p,checked:x,defaultChecked:k}=e,g=(0,u.YG)(e,["store","name","value","checked","defaultChecked"]);let C=l();o=o||C;let[j,y]=(0,r.useState)(null!=k&&k),S=(0,c.O$)(o,e=>{if(void 0!==x)return x;if((null==e?void 0:e.value)===void 0)return j;if(null!=p){if(Array.isArray(e.value)){let n=f(p);return e.value.includes(n)}return e.value===p}return!Array.isArray(e.value)&&"boolean"==typeof e.value&&e.value}),N=(0,r.useRef)(null),w=(n=(0,d.vO)(N,b),t=g.type,"input"===n&&(!t||"checkbox"===t)),A=S?"mixed"===S:void 0,B="mixed"!==S&&S,I=(0,m.$f)(g),[P,T]=(0,d.CH)();(0,r.useEffect)(()=>{let e=N.current;e&&(v(e,A),w||(e.checked=B,void 0!==a&&(e.name=a),void 0!==p&&(e.value=`${p}`)))},[P,A,w,B,a,p]);let _=g.onChange,F=(0,d._q)(e=>{if(I){e.stopPropagation(),e.preventDefault();return}if(v(e.currentTarget,A),w||(e.currentTarget.checked=!e.currentTarget.checked,T()),null==_||_(e),e.defaultPrevented)return;let n=e.currentTarget.checked;y(n),null==o||o.setValue(e=>{if(null==p)return n;let t=f(p);return Array.isArray(e)?n?e.includes(t)?e:[...e,t]:e.filter(e=>e!==t):e!==t&&t})}),O=g.onClick,D=(0,d._q)(e=>{null==O||O(e),!e.defaultPrevented&&(w||F(e))});return g=(0,d.w7)(g,e=>/* @__PURE__ */(0,h.jsx)(i.Provider,{value:B,children:e}),[B]),g=(0,u.ko)((0,u.IA)({role:w?void 0:"checkbox",type:w?"checkbox":void 0,"aria-checked":S},g),{ref:(0,d.SV)(N,g.ref),onChange:F,onClick:D}),g=(0,s.D)((0,u.IA)({clickOnEnter:!w},g)),(0,m.HR)((0,u.IA)({name:w?a:void 0,value:w?p:void 0,checked:B},g))}),x=(0,o.Rf)(function(e){let n=p(e);return(0,o.n)(b,n)})},59881:(e,n,t)=>{t.d(n,{s:()=>v,z:()=>b});var o=t(36023),a=t(66034),l=(0,a.B0)([o.ws],[o.aN]),r=l.useContext;l.useScopedContext,l.useProviderContext,l.ContextProvider,l.ScopedContextProvider;var i=t(90001),s=t(48277),c=t(21368),d=t(47766),u=t(96723),m=t(36665),h="input",b=(0,a.ab)(function(e){var n,t,{store:o,name:a,value:l,checked:b}=e,v=(0,d.YG)(e,["store","name","value","checked"]);let f=r();o=o||f;let p=(0,c.Bi)(v.id),x=(0,m.useRef)(null),k=(0,s.O$)(o,e=>null!=b?b:function(e,n){if(void 0!==n)return null!=e&&null!=n?n===e:!!n}(l,null==e?void 0:e.value));(0,m.useEffect)(()=>{p&&k&&(null==o?void 0:o.getState().activeId)!==p&&(null==o||o.setActiveId(p))},[o,k,p]);let g=v.onChange,C=(n=(0,c.vO)(x,h),t=v.type,"input"===n&&(!t||"radio"===t)),j=(0,u.$f)(v),[y,S]=(0,c.CH)();(0,m.useEffect)(()=>{let e=x.current;e&&(C||(void 0!==k&&(e.checked=k),void 0!==a&&(e.name=a),void 0!==l&&(e.value=`${l}`)))},[y,C,k,a,l]);let N=(0,c._q)(e=>{if(j){e.preventDefault(),e.stopPropagation();return}(null==o?void 0:o.getState().value)!==l&&(C||(e.currentTarget.checked=!0,S()),null==g||g(e),e.defaultPrevented||null==o||o.setValue(l))}),w=v.onClick,A=(0,c._q)(e=>{null==w||w(e),!e.defaultPrevented&&(C||N(e))}),B=v.onFocus,I=(0,c._q)(e=>{if(null==B||B(e),e.defaultPrevented||!C||!o)return;let{moves:n,activeId:t}=o.getState();n&&(p&&t!==p||N(e))});return v=(0,d.ko)((0,d.IA)({id:p,role:C?void 0:"radio",type:C?"radio":void 0,"aria-checked":k},v),{ref:(0,c.SV)(x,v.ref),onChange:N,onClick:A,onFocus:I}),v=(0,i.k)((0,d.IA)({store:o,clickOnEnter:!C},v)),(0,u.HR)((0,d.IA)({name:C?a:void 0,value:C?l:void 0,checked:k},v))}),v=(0,a.ph)((0,a.Rf)(function(e){let n=b(e);return(0,a.n)(h,n)}))},83237:(e,n,t)=>{t.d(n,{J:()=>h});var o=t(36665),a=(0,o.createContext)(void 0),l=t(66034),r=t(21368),i=t(47766),s=t(96723),c=t(60397),d=(0,l.ab)(function(e){let[n,t]=(0,o.useState)();return e=(0,r.w7)(e,e=>/* @__PURE__ */(0,c.jsx)(a.Provider,{value:t,children:e}),[]),e=(0,i.IA)({role:"group","aria-labelledby":n},e),(0,s.HR)(e)});(0,l.Rf)(function(e){let n=d(e);return(0,l.n)("div",n)});var u=(0,l.ab)(function(e){var{store:n}=e;return d((0,i.YG)(e,["store"]))});(0,l.Rf)(function(e){let n=u(e);return(0,l.n)("div",n)});var m=(0,l.ab)(function(e){var{store:n}=e,t=(0,i.YG)(e,["store"]);return u(t=(0,i.IA)({role:"radiogroup"},t))}),h=(0,l.Rf)(function(e){let n=m(e);return(0,l.n)("div",n)})}}]);
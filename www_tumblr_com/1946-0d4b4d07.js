!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="79fff24e-3582-4483-bff8-bc690b55c0eb",e._sentryDebugIdIdentifier="sentry-dbid-79fff24e-3582-4483-bff8-bc690b55c0eb")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@ce094590bd2291e3264b21d2f92bffc273e4a131"},(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[1946],{81328:(e,r,o)=>{"use strict";o.d(r,{A:()=>a});let a={dialog:"FTqYf",closeButton:"N6Kf4",heading:"eWuI1",body:"CTYKm",modalActionButtons:"Q53Gq",confirmCancelButton:"tGcvj",dismissButton:"LFCvP"}},86722:(e,r,o)=>{"use strict";o.d(r,{A:()=>a});let a={dialog:"clHno",backdrop:"zStED",button:"gnxzg",closeButton:"R0Xlv"}},89136:(e,r,o)=>{"use strict";o.d(r,{A:()=>a});let a={content:"ueVRR",loading:"_JVH1",button:"IMMt_",hero:"ueDdc",canceledHero:"znZtn",heading:"N0aPR",description:"j2j0M",subscriberInfo:"afgMB",perks:"GJsIB",modalActionButtons:"HqY8o",managePaymentsButton:"vVDFt",modalActionsTop:"BuuXZ",defaultButton:"_Uk2U",perkCard:"XIGRY",loadingCard:"BkvLG",loadingCardContent:"gQnWz",adjustSubscriptionSheet:"LF0LO"}},81440:(e,r,o)=>{"use strict";o.d(r,{A:()=>a});let a={buttonWrapper:"NWfwL",button:"SDuYR"}},9412:(e,r,o)=>{"use strict";o.d(r,{A:()=>h});var a=o(88346),t=/*#__PURE__*/o.n(a),l=o(74059),n=/*#__PURE__*/o.n(l),i=o(11100),s=o(39977),c=o(70933),d=o(86619),u=o(36665),p=o(89972);let g={button:"sECH1",rounded:"C_ENj",border:"cxxrq",selectedValueContainer:"LAF8V",ul:"X_YtI",li:"OIL2C",dropdownOptionsContainer:"jjHk8",label:"ox5cL"};var b=o(60397);class m extends u.Component{constructor(...e){super(...e),t()(this,"state",{selectedValue:"",isOpen:!1}),t()(this,"toggle",()=>this.setState(e=>({isOpen:!e.isOpen}))),t()(this,"toggleClose",()=>this.setState(()=>({isOpen:!1}))),t()(this,"renderMenu",()=>{let{options:e,onClick:r}=this.props,{selectedValue:o}=this.state,a=e.find(({value:e})=>e===o);return/*#__PURE__*/(0,b.jsx)("ul",{className:g.ul,children:e.map(({label:e,labelLong:o,value:t,icon:l})=>/*#__PURE__*/(0,b.jsxs)("li",{"aria-selected":a?.value===t,className:g.li,onClick:()=>{this.setState(()=>({selectedValue:t})),r(t),this.toggleClose()},onKeyDown:()=>{this.setState(()=>({selectedValue:t})),r(t),this.toggleClose()},role:"option",children:[l,/*#__PURE__*/(0,b.jsx)("div",{className:g.label,children:o||e}),a?.value===t&&/*#__PURE__*/(0,b.jsx)(c.A,{size:{width:10.8,height:8.09}})]},t))})})}componentDidMount(){this.setState(()=>({selectedValue:this.props.initialValue}))}render(){let{options:e,popoverProps:r}=this.props,{selectedValue:o,isOpen:a}=this.state,t=e.find(({value:e})=>e===o);return/*#__PURE__*/(0,b.jsx)(d.Ay,{height:"auto",position:p.$x.Bottom,targetStyles:{width:"100%"},width:250,...r,isOpen:a,popoverWrapperClassName:g.dropdownOptionsContainer,render:this.renderMenu,toggle:this.toggle,children:/*#__PURE__*/(0,b.jsx)(i.A,{wrapperClassName:n()(g.button,{[g.rounded]:this.props.rounded,[g.border]:this.props.border}),children:/*#__PURE__*/(0,b.jsxs)("div",{className:g.selectedValueContainer,children:[t?.label,/*#__PURE__*/(0,b.jsx)(s.Q5,{size:{width:11,height:11}})]})})})}}let h=m},24524:(e,r,o)=>{"use strict";o.d(r,{P:()=>f,A:()=>P});var a=o(74059),t=/*#__PURE__*/o.n(a),l=o(28230),n=o(17886),i=o(85191);let s={creditCardLogo:"nC4hC",text:"OEz91",logo:"NErP7",digits:"YhC7x",americanexpress:"kELje",discover:"cXWjm",mastercard:"s5cFj",visa:"ve6Vt"};var c=o(60397);let d=["americanexpress","discover","mastercard","visa"],u=({className:e,digits:r,name:o})=>{let a=o.toLowerCase().replace(/\s/g,""),l=d.includes(a);return/*#__PURE__*/(0,c.jsxs)("div",{className:t()(s.creditCardLogo,e),children:[/*#__PURE__*/(0,c.jsx)("div",{className:t()({[s.text]:!l,[s.logo]:l,[s[a]]:l}),"data-testid":"creditCardLogo",children:!l&&o}),!!r&&/*#__PURE__*/(0,c.jsx)("span",{className:s.digits,children:r})]})};var p=o(36665),g=o(55321),b=o(94048),m=o(30344),h=o(57020),y=o(83092),x=o(4613),v=o(56281),j=o(56040),k=/*#__PURE__*/o.n(j),T=o(95683);let N={wrapper:"Kz0DZ",cc:"Gy2oW",ccDetails:"PoRzR",ccExpiry:"FcKVd",vertical:"QFzLH",logo:"w__75",action:"DmbDn",button:"p6oSd"},f="https://paypal.com/myaccount/autopay",P=({baseRoute:e,ccExpiryMonth:r,ccExpiryYear:o,ccNumber:a,ccType:s,className:d,label:j,layout:P="horizontal"})=>{let{_c:w,apiFetch:C,features:{enableTumblrPremium:z},logEvent:A}=(0,x.Us)(),[S,B]=(0,g.ok)(),{toggleToast:R}=(0,v.Y)(),[G,D]=(0,p.useState)(!1),[E,I]=(0,p.useState)(!1);(0,p.useEffect)(()=>{(0,T.Sn)(window.location.search)&&!E&&(e&&A({eventName:e===m.JR.Premium?b.R.AdFreeBrowsingPaymentMethodDone:b.R.PostpPaymentMethodDone}),A({eventName:b.R.PremiumPaymentMethodDone,eventDetails:{paymentMethod:s}}),R(w("[Payment & Purchases] Notice that appears after successfully updating payment method.","Payment method successfully updated."),"success"),S.delete("update"),B(S),I(!0))},[w,e,A,E,S,B,R]);let F=!!r&&!!s&&!!a&&!!o;return/*#__PURE__*/(0,c.jsxs)("div",{className:t()(N.wrapper,N[P],d),children:[F&&/*#__PURE__*/(0,c.jsxs)("div",{className:N.cc,children:["vertical"===P&&/*#__PURE__*/(0,c.jsx)(i.Ay,{comment:"Credit card type and last four digits.",params:{type:(0,y.Z)(s),digits:a},children:"[type] ending in [digits]"}),/*#__PURE__*/(0,c.jsxs)("div",{className:N.ccDetails,children:[/*#__PURE__*/(0,c.jsx)(u,{className:N.logo,digits:"horizontal"===P?a:void 0,name:s}),/*#__PURE__*/(0,c.jsx)("span",{className:N.ccExpiry,children:/*#__PURE__*/(0,c.jsx)(i.Ay,{comment:"[Payment & Purchases] Credit card expiry date.",params:{month:r.toString().padStart(2,"0"),year:o.toString().substring(2)},children:"Exp. [month]/[year]"})})]})]}),/*#__PURE__*/(0,c.jsx)("div",{className:N.action,children:/*#__PURE__*/(0,c.jsx)(n.A,{backgroundColor:k().paletteGray65,className:N.button,disabled:G,disabledBackgroundColor:k().paletteGray65,disabledTextColor:k().paletteGray65,disabledTheme:"border",isRounded:"vertical"===P,label:w("Update payment method label text","Update your payment method"),onClick:()=>{D(!0),e&&A({eventName:e===m.JR.Premium?b.R.AdFreeBrowsingPaymentMethodTap:b.R.PostpPaymentMethodTap,eventDetails:{premiumEnabled:z}}),(0,h.eB)(C,e??m.JR.Premium,window.location.host,window.location.pathname).then(({response:e})=>{A({eventName:b.R.PremiumPaymentMethodPress,eventDetails:{payment_method:e?.type}}),e?.type==="paypal"?window.location.assign(f):window.location.assign(e.links.updatePaymentMethodUrl.href)}).catch(()=>{D(!1),A({eventName:b.R.PremiumApiError,eventDetails:{action:"get_payment_method"}}),R(w("[Payment & Purchases] Error message that appears when there is a problem getting payment method.","Oops! There was a problem getting your payment method."))})},size:"small",textColor:k().paletteGray65,theme:"border",children:G?/*#__PURE__*/(0,c.jsxs)(c.Fragment,{children:[" ",/*#__PURE__*/(0,c.jsx)(l.A,{color:k().paletteGray65,small:!0})]}):j??/*#__PURE__*/(0,c.jsx)(i.Ay,{comment:"Payment method update button default label",children:"Update"})})})]})}},5540:(e,r,o)=>{"use strict";o.d(r,{E:()=>c,T:()=>d});var a=o(49315),t=o(373),l=o(90789),n=o(4613);let i=t.z.object({label:t.z.string(),action:t.z.object({method:t.z.enum(["GET","POST","PUT","DELETE"]),href:t.z.string(),bodyParams:t.z.record(t.z.boolean())})}),s=t.z.lazy(()=>(0,l.h)(t.z.object({actions:t.z.array(t.z.object({key:t.z.string(),label:t.z.string(),url:t.z.string().optional(),paymentMethod:t.z.string().optional(),badgeIcon:t.z.string().optional(),backgroundColor:t.z.string().optional(),borderColor:t.z.string().optional(),textColor:t.z.string().optional()})).optional(),title:t.z.string(),subtitle:t.z.string(),subscriptionInfo:t.z.string().optional().nullable(),subscriptionStatus:t.z.string(),paymentMethod:t.z.string().optional(),extraInfo:t.z.string().nullable().optional(),perks:t.z.array(t.z.object({backgroundImage:t.z.string(),key:t.z.string().optional(),title:t.z.string(),subtitle:t.z.string(),currentSelection:t.z.string().optional(),infoLabel:t.z.string().optional(),enabled:t.z.boolean().optional(),button:t.z.object({backgroundColor:t.z.string().optional(),textColor:t.z.string().optional(),label:t.z.string(),url:t.z.string()}).optional(),dropdown:t.z.object({showBlazeAds:i.optional(),showAllAds:i.optional(),hideAllAds:i.optional()}).optional()}))}))),c=["premium-perks-info"];function d(){let{apiFetchWithSchema:e}=(0,n.Us)();return(0,a.I)({queryKey:c,queryFn:async()=>{let{response:r}=await e("/v2/premium/perks",s,{});return r},staleTime:36e5})}},5005:(e,r,o)=>{"use strict";o.d(r,{I5:()=>b,aC:()=>y,i4:()=>m,ut:()=>h});var a=o(49315),t=o(8254),l=o(75170),n=o(90789),i=o(30344),s=o(4613),c=o(373),d=o(5540),u=o(43492);let p=c.z.object({id:c.z.number(),status:c.z.nativeEnum(i.bI),price:c.z.number(),period:c.z.nativeEnum(i.DF),periodAbbreviation:c.z.string(),periodAdverb:c.z.string(),currencyCode:c.z.string(),startTime:c.z.number(),nextBillingTime:c.z.number().nullable().optional(),endTime:c.z.number().nullable().optional(),cancelledTime:c.z.number().nullable().optional(),canRequestRefund:c.z.boolean(),canCancel:c.z.boolean(),canReactivate:c.z.boolean(),canRepurchase:c.z.boolean(),isManagedByTumblrpay:c.z.boolean(),paymentMethod:c.z.enum(["android_in_app_purchase","apple_in_app_purchase","tumblrpay_gift","ppcp-gateway","woocommerce_payments"])}),g=(0,n.h)(p),b=["premium-subscription"],m=()=>{let{apiFetchWithSchema:e}=(0,s.Us)();return(0,a.I)({queryKey:b,queryFn:async()=>(await e("/v2/premium/subscription",g,{method:"GET",schemaErrorPrintFullResponse:!0})).response,staleTime:36e5,retry:e=>e>3})},h=()=>{let{apiFetchWithSchema:e}=(0,s.Us)(),r=(0,t.jE)();return(0,l.n)({mutationFn:async()=>(await e("/v2/premium/subscription",g,{method:"DELETE",schemaErrorPrintFullResponse:!0})).response,onSuccess:()=>{r.invalidateQueries({queryKey:b}),r.invalidateQueries({queryKey:u.Vh}),r.invalidateQueries({queryKey:d.E})}})},y=()=>{let{apiFetchWithSchema:e}=(0,s.Us)(),r=(0,t.jE)();return(0,l.n)({mutationFn:async()=>(await e("/v2/premium/subscription",g,{method:"PATCH",schemaErrorPrintFullResponse:!0,body:{status:i.bI.Active}})).response,onSuccess:()=>{r.invalidateQueries({queryKey:b}),r.invalidateQueries({queryKey:u.Vh}),r.invalidateQueries({queryKey:d.E})}})}},43492:(e,r,o)=>{"use strict";o.d(r,{Vh:()=>d,jp:()=>u});var a=o(49315),t=o(90789),l=o(30344),n=o(4613),i=o(373);let s=i.z.array(i.z.object({productGroup:i.z.string(),icon:i.z.string(),title:i.z.string(),subtitle:i.z.string(),subscription:i.z.object({id:i.z.number(),description:i.z.string().optional(),status:i.z.nativeEnum(l.bI),price:i.z.number(),period:i.z.nativeEnum(l.DF),periodAbbreviation:i.z.string(),periodAdverb:i.z.string(),currencyCode:i.z.string(),startTime:i.z.number(),nextBillingTime:i.z.number().nullable().optional(),endTime:i.z.number().nullable().optional(),cancelledTime:i.z.number().nullable().optional(),canRequestRefund:i.z.boolean(),canCancel:i.z.boolean(),canReactivate:i.z.boolean(),canRepurchase:i.z.boolean(),isManagedByTumblrpay:i.z.boolean(),alertInfo:i.z.string().optional(),paymentMethod:i.z.string().optional(),paymentMethodLabel:i.z.string(),extraInfo:i.z.string().optional(),actions:i.z.array(i.z.object({label:i.z.string(),key:i.z.string(),url:i.z.string().optional(),backgroundColor:i.z.string().optional(),paymentMethod:i.z.string().optional(),textColor:i.z.string().optional()}))})})),c=(0,t.h)(s),d=["premium-subscriptions"],u=({enabled:e})=>{let{apiFetchWithSchema:r}=(0,n.Us)();return(0,a.I)({queryKey:d,queryFn:async()=>(await r("/v2/premium/subscriptions",c,{method:"GET",schemaErrorPrintFullResponse:!0})).response,enabled:e,retry:e=>e>3})}},87079:(e,r,o)=>{"use strict";o.d(r,{r:()=>i});var a=o(49315),t=o(30344),l=o(57020),n=o(4613);let i=()=>{let{apiFetch:e}=(0,n.Us)();return(0,a.I)({queryKey:["tumblrmart-payment-method"],queryFn:async()=>{let{response:r}=await (0,l.eB)(e,t.JR.Premium,window.location.host,window.location.pathname);return{ccExpiryMonth:r?.expiryMonth,ccExpiryYear:r?.expiryYear,ccNumber:r?.lastFour,ccType:r?.cardNetwork,isValid:r?.type==="paypal"||r?.type==="card"&&!!r?.lastFour&&!!r?.cardNetwork&&!!r?.expiryMonth&&!!r?.expiryYear,type:r?.type,updateUrl:r?.links?.updatePaymentMethodUrl?.href}}})}},27974:(e,r,o)=>{"use strict";o.d(r,{q:()=>w});var a=o(36665),t=o(53986),l=o(98566),n=o(94048),i=o(4613),s=o(25183),c=o(97792),d=o(21331),u=o(74059),p=/*#__PURE__*/o.n(u),g=o(11100),b=o(80715),m=o(69010),h=o(28230),y=o(85191),x=o(5005),v=o(86722),j=o(84236),k=o(56281),T=o(95683),N=o(81328),f=o(60397);let P=({onClose:e,onCancelSubscription:r})=>{let{_c:o,_t:l,_getLocaleDateString:u}=(0,i.Us)(),{logEvent:P}=(0,s.Ul)(),[w,C]=(0,a.useState)(!0),{mutate:z,isPending:A}=(0,x.ut)(),{toggleToast:S}=(0,k.Y)(),B=(0,t.zy)(),{data:R}=(0,x.i4)(),G=(0,a.useCallback)(()=>{C(!1),e?.()},[e]);if(!1===w||!R)return null;let D=(0,T.m)(R,"nextBillingTime",u,j.N.MonthDayYearLong),E=o("[Premium] Cancel subscription button label","Cancel subscription");return/*#__PURE__*/(0,f.jsxs)(b.f,{backdrop:/*#__PURE__*/(0,f.jsx)("div",{className:v.A.backdrop}),className:N.A.dialog,onClose:G,open:w,children:[/*#__PURE__*/(0,f.jsx)(c.d,{"aria-label":l("Close"),className:N.A.closeButton,children:/*#__PURE__*/(0,f.jsx)(m.A,{size:{width:12,height:12}})}),/*#__PURE__*/(0,f.jsx)(d.X,{className:N.A.heading,children:o("[Premium] Dialog heading for canceling premium subscription","Are you sure you want to cancel?")}),/*#__PURE__*/(0,f.jsx)("div",{className:N.A.body,children:/*#__PURE__*/(0,f.jsx)(y.Ay,{components:{p:/*#__PURE__*/(0,f.jsx)("p",{})},params:{nextBillingLabel:D},children:"[p]We’re sorry to see you go, but we understand. Once cancelled, you’ll retain access to your perks until [nextBillingLabel].[/p] [p]After this date your subscription will expire and you will lose access to Premium Perks.[/p] [p]You won’t be billed again, and you can renew at any time.[/p]"})}),/*#__PURE__*/(0,f.jsxs)("div",{className:N.A.modalActionButtons,children:[/*#__PURE__*/(0,f.jsx)(g.A,{className:p()(v.A.button,N.A.confirmCancelButton),label:E,onClick:()=>{P({eventName:n.R.TumblrPremiumSubscriptionCancelConfirm}),z(void 0,{onError:()=>{S(l("Something went wrong. Please try again."),"error"),P({eventName:n.R.PremiumApiError,eventDetails:{action:"cancel",source:B.pathname,using_iap:!1}})},onSuccess:()=>{P({eventName:n.R.PremiumCancelConfirm,eventDetails:{using_iap:!1,source:B.pathname}}),S(o("[Premium] Subscription cancelled toast","Subscription cancelled."),"success"),r?.()},onSettled:()=>{G()}})},children:A?/*#__PURE__*/(0,f.jsx)(h.A,{centerOrientation:"horizontal",small:!0}):E}),/*#__PURE__*/(0,f.jsx)(c.d,{className:p()(v.A.button,N.A.dismissButton),children:l("Nevermind")})]})]})},w=({action:e,borderColor:r,onCancelSubscription:o,onClick:c})=>{let{logEvent:d}=(0,s.Ul)(),{_c:u}=(0,i.Us)(),p=(0,t.zy)(),[g,b]=(0,a.useState)(!1),m=()=>b(!0),h=u("[Premium] Cancel subscription button label","Cancel your subscription");return/*#__PURE__*/(0,f.jsxs)(f.Fragment,{children:[g&&/*#__PURE__*/(0,f.jsx)(P,{onCancelSubscription:o,onClose:()=>b(!1)}),/*#__PURE__*/(0,a.createElement)(l.K,{...e,backgroundColor:e?.backgroundColor,borderColor:r,color:"danger",key:e?.key||"cancel",label:e?.label||h,onClick:()=>{m(),d({eventName:n.R.PremiumCancelPress,eventDetails:{using_iap:!1,source:p.pathname}}),c?.()},productGroup:"premium",textColor:e?.textColor})]})}},59921:(e,r,o)=>{"use strict";o.d(r,{Z:()=>m});var a=o(12044),t=o(5005),l=o(28304),n=o(53986),i=o(98566),s=o(84236),c=o(94048),d=o(4613),u=o(25183),p=o(56281),g=o(95683),b=o(36665);let m=({action:e,onClick:r})=>{let{logEvent:o}=(0,u.Ul)(),{_c:m,_t:h,_getLocaleDateString:y}=(0,d.Us)(),{mutate:x,isPending:v}=(0,t.aC)(),{data:j}=(0,l.Py)(),k=(0,n.Zp)(),{toggleToast:T}=(0,p.Y)();return/*#__PURE__*/(0,b.createElement)(i.K,{...e,isLoading:v,key:e?.key||"renew",label:e?.label||m("[Premium] Renew subscription button label","Renew subscription"),onClick:()=>{r?.(),j?.user?.hasTumblrPremium?x(void 0,{onError:()=>{T(h("Something went wrong. Please try again."),"error")},onSuccess:e=>{T(m("[Premium] Subscription renewed toast","Your subscription has been renewed! Your next billing date will be %1$s.",[(0,g.m)(e,"nextBillingTime",y,s.N.MonthDayYearLong)]),"success")}}):k(a.ry.premium),o({eventName:c.R.TumblrPremiumSubscriptionRenewTap})},productGroup:"premium"})}},5770:(e,r,o)=>{"use strict";o.d(r,{M:()=>g});var a=o(74059),t=/*#__PURE__*/o.n(a),l=o(11100),n=o(28230),i=o(77527),s=o(4613),c=o(6809),d=o(89136);let u={error:"v38by",errorContent:"yo2iR",errorText:"gSgTK",errorButton:"anBPp"};var p=o(60397);let g=({title:e,description:r,onRetry:o,isRetrying:a})=>{let{_c:g}=(0,s.Us)(),b=g("[Premium] Label for retry button when networking is erroring","Try again");return/*#__PURE__*/(0,p.jsx)("div",{className:u.error,children:/*#__PURE__*/(0,p.jsxs)("div",{className:u.errorContent,children:[/*#__PURE__*/(0,p.jsx)("div",{className:d.A.logo,children:/*#__PURE__*/(0,p.jsx)("img",{alt:"",height:96,src:i})}),/*#__PURE__*/(0,p.jsxs)("div",{className:u.errorBody,children:[/*#__PURE__*/(0,p.jsx)("h1",{className:d.A.heading,children:e}),/*#__PURE__*/(0,p.jsx)("div",{className:u.errorText,children:r})]}),/*#__PURE__*/(0,p.jsx)(l.A,{className:t()(d.A.defaultButton,u.errorButton),label:b,onClick:()=>o(),children:a?/*#__PURE__*/(0,p.jsx)("div",{style:{height:"16px"},children:/*#__PURE__*/(0,p.jsx)(n.A,{centerOrientation:"horizontalAndVertical",color:c.colorGray60,small:!0})}):b})]})})}},80960:(e,r,o)=>{"use strict";o.d(r,{e:()=>M});var a=o(97792),t=o(74059),l=/*#__PURE__*/o.n(t),n=o(80715),i=o(79184),s=o(28230),c=o(5540),d=o(36665),u=o(77527),p=o(7524),g=o(32232),b=o(98566),m=o(94048),h=o(4613),y=o(25183),x=o(6809),v=o(27974),j=o(59921),k=o(87676),T=o(5770),N=o(11100),f=o(28918);let P=(0,o(20928).Kk)("dot-loader",{size:{width:20,height:20}});var w=o(9412),C=o(8254),z=o(75170);let A=()=>{let{apiFetch:e}=(0,h.Us)(),r=(0,C.jE)();return(0,z.n)({mutationFn:({url:r,method:o,bodyParams:a})=>e(r,{method:o,body:a}),onSuccess:()=>{r.invalidateQueries({queryKey:c.E})}})};var S=o(84072),B=o(94721),R=o(56040),G=/*#__PURE__*/o.n(R);let D={button:"cs2zK",dropdown:"q801L",animating:"RMBIC",animatingIcon:"B6JRn",isSuccess:"SxhgL",isError:"TIUhz",perkCard:"AKAFO",perkCardDisabled:"jphhY",perkCardImage:"HgH6x",perkInfoLabel:"zcrFn",perkInfo:"XCQVm",perkCardTitle:"puRej",perkCardSubtitle:"bOGfF",perkCardButtonWrapper:"lI95L",error:"KmzDz",retry:"hDlbj"};var E=o(60397);let I=({perk:e,onNavigate:r})=>{let{backgroundImage:o,button:a,dropdown:t,enabled:n,infoLabel:i,key:s,subtitle:c,title:u}=e,{mutate:p,isError:g}=A(),{_c:b}=(0,h.Us)(),{logEvent:x}=(0,y.Ul)(),[v,j]=(0,d.useState)(null),[k,T]=(0,d.useState)(null),C=b("[Premium] Failure message for when the user tried to update their premium ad settings","We’re unable to save your ad-free preference. Please check your internet connection."),z=t&&Object.keys(t).length?Object.values(t).map((e,r)=>({label:e.label,value:Object.keys(t)[r],action:e.action})):void 0,R=e=>{x({eventName:m.R.PremiumPerkCardPress,eventDetails:{perk_key:s}}),r?.(e)},I=e=>{let r=z?.length?z.filter(r=>r.value===e)[0]:void 0,o=r?.action;switch(r?.value){case"showAllAds":x({eventName:m.R.PremiumAdsSettingsShowAll});break;case"showBlazeAds":x({eventName:m.R.PremiumAdsSettingsShowBlaze});break;case"hideAllAds":x({eventName:m.R.PremiumAdsSettingsShowNone})}o&&p({url:o.href,method:o.method,bodyParams:(0,B.m)({show_ads_anyway:!1,...o.bodyParams})},{onSuccess:()=>{j(null),T(/*#__PURE__*/(0,E.jsx)(f.A,{colors:{primary:G().glassGreen},size:{width:19,height:19}})),setTimeout(()=>{T(null)},4e3)},onError:()=>{j(/*#__PURE__*/(0,E.jsxs)("div",{className:D.error,children:[/*#__PURE__*/(0,E.jsx)("div",{children:C}),/*#__PURE__*/(0,E.jsx)("button",{className:D.retry,onClick:()=>I(e),children:"Retry"})]})),T(/*#__PURE__*/(0,E.jsx)(P,{size:{width:19,height:19}}))}})};return/*#__PURE__*/(0,E.jsxs)("div",{className:l()(D.perkCard,{[D.perkCardDisabled]:!1===n}),"data-testid":"perk-card",children:[i&&/*#__PURE__*/(0,E.jsx)("div",{className:D.perkInfoLabel,children:i}),/*#__PURE__*/(0,E.jsx)("div",{className:D.perkCardImage,style:{backgroundImage:`url(${o})`}}),/*#__PURE__*/(0,E.jsxs)("div",{className:D.perkInfo,children:[/*#__PURE__*/(0,E.jsx)("h2",{className:D.perkCardTitle,children:u}),/*#__PURE__*/(0,E.jsx)("p",{className:D.perkCardSubtitle,children:c})]}),a&&!1!==n&&/*#__PURE__*/(0,E.jsx)(N.A,{className:D.button,label:a.label,onClick:a.url?()=>R(a.url):void 0,style:{background:a.backgroundColor,color:a.textColor},wrapperClassName:D.perkCardButtonWrapper,children:a.label}),v,z&&/*#__PURE__*/(0,E.jsxs)("div",{className:l()(D.dropdown,{[D.animating]:!!k}),children:[k?/*#__PURE__*/(0,E.jsx)("span",{className:l()(D.animatingIcon,{[D.isError]:g,[D.isSuccess]:!g}),children:k}):null,/*#__PURE__*/(0,E.jsx)(w.A,{border:!0,initialValue:e.currentSelection?(0,S.xQ)(e.currentSelection):"show_all_ads",onClick:I,options:z,rounded:!0})]})]})};var F=o(86722),O=o(89136);let M=({isOpen:e,onClose:r,onNavigate:o})=>{let{hasOpenedPerks:t,setHasOpenedPerks:N}=(0,k.s)(),[f,P]=(0,d.useState)(!1),{data:w,isError:C,refetch:z}=(0,c.T)(),{_c:A}=(0,h.Us)(),{logEvent:S}=(0,y.Ul)(),B=A("[Premium] Title of Premium sign up dialog","Tumblr Premium"),R=(0,d.useMemo)(()=>Array(6).fill(null).map((e,r)=>/*#__PURE__*/(0,E.jsx)("div",{className:l()(D.perkCard,O.A.perkCard,O.A.loadingCard),children:/*#__PURE__*/(0,E.jsxs)("div",{className:O.A.loadingCardContent,children:[/*#__PURE__*/(0,E.jsx)(i.A,{width:32}),/*#__PURE__*/(0,E.jsx)("span",{children:A("[Premium] Loading text when fetching a users Premium perks","Loading your perks.")})]})},`card-${r}`)),[A]);return((0,d.useEffect)(()=>{e&&S({eventName:m.R.PremiumPerksScreenShown})},[e,S]),(0,d.useEffect)(()=>{e&&!t&&N(!0)},[e,t,S,N]),e)?/*#__PURE__*/(0,E.jsxs)(n.f,{backdrop:/*#__PURE__*/(0,E.jsx)("div",{className:F.A.backdrop}),className:F.A.dialog,onClose:r,open:e,children:[/*#__PURE__*/(0,E.jsx)(p.A,{}),/*#__PURE__*/(0,E.jsxs)("div",{className:l()(O.A.content,{[O.A.loading]:C||f}),children:[/*#__PURE__*/(0,E.jsx)(a.d,{className:F.A.closeButton}),C||f?/*#__PURE__*/(0,E.jsx)(T.M,{description:A("[Premium] Description for perks dialog when perks request fails","We were unable to connect to tumblr.com. This usually means there was a problem with your connection to the internet."),isRetrying:f,onRetry:()=>{P(!0),z().finally(()=>{P(!1)})},title:A("[Premium] Title for perks dialog when perks request failed","Please check your network connection")}):(()=>{let e=w?.subscriptionStatus==="pending-cancel",r=()=>w?.actions&&w?.actions.length>0?w.actions.map(e=>{if("renew"===e.key)return/*#__PURE__*/(0,E.jsx)(j.Z,{action:e},e.key);if("cancel"===e.key)return/*#__PURE__*/(0,E.jsx)(v.q,{action:e},e.key);if("manage_payment"===e.key)return/*#__PURE__*/(0,E.jsx)(g.D,{action:e,onClick:o,productGroup:"premium"},e.key);{let{key:r,...o}=e;return/*#__PURE__*/(0,E.jsx)(b.K,{...o,productGroup:"premium"},r)}}):null;return/*#__PURE__*/(0,E.jsxs)(E.Fragment,{children:[/*#__PURE__*/(0,E.jsxs)("div",{className:l()(O.A.hero,{[O.A.canceledHero]:w?.subscriptionStatus==="pending-cancel"&&"tumblrpay_gift"!==w.paymentMethod}),"data-testid":"premium-perks-hero",children:[/*#__PURE__*/(0,E.jsx)("img",{alt:w?.title?"":B,height:96,src:u}),/*#__PURE__*/(0,E.jsx)("h1",{className:O.A.heading,children:w?.title?w?.title:/*#__PURE__*/(0,E.jsx)(s.A,{centerOrientation:"horizontal",color:x.colorGray60})}),/*#__PURE__*/(0,E.jsx)("div",{className:O.A.description,children:w?.subtitle}),w?.extraInfo?/*#__PURE__*/(0,E.jsx)("section",{className:O.A.adjustSubscriptionSheet,dangerouslySetInnerHTML:{__html:w.extraInfo||""}}):null,/*#__PURE__*/(0,E.jsx)(E.Fragment,{children:e?/*#__PURE__*/(0,E.jsx)("div",{className:l()(O.A.modalActionButtons,O.A.modalActionsTop),children:r()}):null}),/*#__PURE__*/(0,E.jsx)("div",{className:O.A.subscriberInfo,children:w?.subscriptionInfo})]}),/*#__PURE__*/(0,E.jsx)("div",{className:O.A.perks,children:w?.perks&&w?.perks.length>0?w.perks.map(e=>/*#__PURE__*/(0,E.jsx)(I,{onNavigate:o,perk:e},e.title)):R}),e?null:/*#__PURE__*/(0,E.jsx)("div",{className:O.A.modalActionButtons,children:r()})]})})()]})]}):null}},38436:(e,r,o)=>{"use strict";o.d(r,{M:()=>Q});var a=o(97792),t=o(74059),l=/*#__PURE__*/o.n(t),n=o(80715),i=o(79184),s=o(28230),c=o(11100),d=o(36665);let u={tabs:"gNATz",buttonClass:"pfeql",tab:"rjkgF",isSelected:"T_CfA",glider:"zjiwC"};var p=o(60397);let g=e=>{let{children:r,index:o,isSelected:a,label:t,onClick:n,tabClassName:i}=e;return/*#__PURE__*/(0,p.jsx)(c.A,{"aria-selected":a,className:u.buttonClass,label:t,onClick:n,role:"tab",wrapperClassName:l()(u.tab,i,{[u.isSelected]:a}),children:/*#__PURE__*/(0,p.jsx)("div",{tabIndex:o,children:r})})},b=e=>{let{sliderTabs:r}=e,o=r.length,a=`${1/o*100}%`,[t,l]=(0,d.useState)(0);return/*#__PURE__*/(0,p.jsxs)("div",{className:u.tabs,role:"tablist",children:[r.map((e,r)=>/*#__PURE__*/(0,p.jsx)(g,{index:r,isSelected:t===r,onClick:()=>{e.onClick(),l(r)},children:e.children},e.label)),/*#__PURE__*/(0,p.jsx)("span",{className:u.glider,style:{width:a}})]})};var m=o(85191),h=o(27120),y=o(12044),x=o(49315),v=o(90789),j=o(4613),k=o(373);let T=k.z.object({title:k.z.string(),subtitle:k.z.string().optional().nullable(),pricePoints:k.z.object({monthly:k.z.object({sku:k.z.string(),period:k.z.string(),priceCents:k.z.number()}),yearly:k.z.object({sku:k.z.string(),period:k.z.string(),priceCents:k.z.number()})}),perks:k.z.array(k.z.object({avatarUrl:k.z.string(),title:k.z.string(),subtitle:k.z.string()})),membershipInfo:k.z.object({title:k.z.string(),subtitle:k.z.string()})}),N=(0,v.h)(T),f=()=>["premium-info"],P=()=>{let{apiFetchWithSchema:e}=(0,j.Us)();return(0,x.I)({queryKey:f(),queryFn:async()=>(await e("/v2/premium/info",N,{method:"GET",schemaErrorPrintFullResponse:!0})).response,refetchOnMount:!1,refetchOnWindowFocus:!1})};var w=o(5005),C=o(77527),z=o(7524),A=o(45836),S=o(94048),B=o(30344),R=o(25183),G=o(6809),D=/*#__PURE__*/o.n(G),E=o(99805),I=o(95683),F=o(5770),O=o(86722),M=o(5540),_=o(32232),Y=o(98566),U=o(39460),L=o(27974),W=o(59921);let q={dialog:"IhUJI",content:"AiALR",copyBlock:"enHco",title:"FLeWn",subtitle:"fgOG_",extraInfo:"iK0Dh",buttonContainer:"t4H8P",closeButton:"mYo2j",adjustSubscriptionSheet:"pcoXz"},K=({isOpen:e,onClose:r})=>{let{data:o}=(0,M.T)(),{logEvent:t}=(0,R.Ul)();return(0,d.useEffect)(()=>{e&&t({eventName:S.R.PremiumOnHoldView})}),/*#__PURE__*/(0,p.jsx)(n.f,{backdrop:/*#__PURE__*/(0,p.jsx)("div",{className:O.A.backdrop}),className:l()(q.dialog),onClose:r,open:e,children:/*#__PURE__*/(0,p.jsxs)("div",{className:q.content,children:[/*#__PURE__*/(0,p.jsx)(a.d,{className:l()(O.A.closeButton,q.closeButton)}),/*#__PURE__*/(0,p.jsx)("div",{children:/*#__PURE__*/(0,p.jsx)("img",{alt:"",height:96,src:C})}),o?o&&/*#__PURE__*/(0,p.jsxs)(p.Fragment,{children:[/*#__PURE__*/(0,p.jsxs)("div",{className:q.copyBlock,children:[/*#__PURE__*/(0,p.jsx)("div",{className:q.title,children:o.title}),/*#__PURE__*/(0,p.jsx)("div",{className:q.subtitle,children:o.subtitle}),/*#__PURE__*/(0,p.jsx)("div",{className:q.extraInfo,children:o?.subscriptionInfo}),o.extraInfo?/*#__PURE__*/(0,p.jsx)("section",{className:q.adjustSubscriptionSheet,dangerouslySetInnerHTML:{__html:o.extraInfo||""}}):null]}),/*#__PURE__*/(0,p.jsx)("div",{className:q.buttonContainer,children:o?.actions&&o?.actions.length>0?o.actions.map(e=>{if("renew"===e.key)return/*#__PURE__*/(0,p.jsx)(W.Z,{action:e},e.key);if("cancel"===e.key)return/*#__PURE__*/(0,p.jsx)(L.q,{action:e,onCancelSubscription:r},e.key);if("manage_payment"===e.key)return/*#__PURE__*/(0,p.jsx)(_.D,{action:{...e,url:e?.url??(0,y.yK)({page:U.e.Purchases})},productGroup:"premium"},e.key);{let{key:r,...o}=e;return/*#__PURE__*/(0,p.jsx)(Y.K,{...o,productGroup:"premium"},r)}}):/*#__PURE__*/(0,p.jsx)(_.D,{productGroup:"premium"})})]}):/*#__PURE__*/(0,p.jsx)(s.A,{})]})})},V={dialog:"tvKKY",subscriptionDetailsContent:"ctEoR",heading:"akEGF",closeButton:"WSGbk",spotlights:"vbEEx",content:"g9qCM",loader:"C6mPN",loadingState:"uBOmv",subscriptionDetails:"mAUoH",hero:"Re2fk",subscriptionToggle:"JxacZ",yearlySelection:"R4SZv",selected:"cZnz6",billingFrequency:"nmfdY",savingPercentageCopy:"RRf6I",valueProp:"ypc2R",title:"LJgaS",buyNowSheet:"Z4XHF",savingsExplanation:"FExlc",crossedOutMonthly:"jyal6",largeNumberCopy:"b24nY",savingsExplanationCopy:"ITFxd",checkoutButtonContainer:"oIc5V",getPremiumNowButtonWrapper:"akHhw",termsAndConditionsCopy:"Le5P9",perkDetails:"HfAqf",perkIcon:"VJsrY",perksList:"en2ht",perkContainer:"cTwc5",perkCopies:"mS_RM",perkTitle:"TSBlV",perkSubtitle:"Tf0xf",supportTumblrSheet:"YGy_k",supportersCopy:"Y8DUg",supportCTA:"vpmnx",monthlyCostAnnually:"FRIDb",buttonWrapper:"QYzuG",getPremiumNowButton:"VeGXp",mobileFooter:"MOOoB"},X=({iconUrl:e,title:r,subtitle:o})=>/*#__PURE__*/(0,p.jsxs)("div",{className:V.perkContainer,children:[/*#__PURE__*/(0,p.jsx)("span",{className:V.perkIcon,children:/*#__PURE__*/(0,p.jsx)("img",{alt:"",src:e})}),/*#__PURE__*/(0,p.jsxs)("div",{className:V.perkCopies,children:[/*#__PURE__*/(0,p.jsx)("div",{className:V.perkTitle,children:r}),/*#__PURE__*/(0,p.jsx)("div",{className:V.perkSubtitle,children:o})]})]}),H=({selectedPeriod:e,termAmount:r})=>{let{_c:o}=(0,j.Us)(),{logEvent:a}=(0,R.Ul)(),t=o("[Premium] Label on upsell button in modal","Get Premium Now");return/*#__PURE__*/(0,p.jsxs)("div",{className:V.buyNowSheet,children:[/*#__PURE__*/(0,p.jsx)("span",{className:V.savingsExplanation,children:r}),/*#__PURE__*/(0,p.jsx)("div",{className:V.checkoutButtonContainer,children:/*#__PURE__*/(0,p.jsx)(A.A,{backgroundColor:D().colorPurple,className:V.getPremiumNowButtonWrapper,disabled:!1,label:t,loaderColor:D().colorWhite,onClick:()=>{a({eventName:S.R.PremiumPurchasePress,eventDetails:{using_iap:!1,source:"upsell-modal",period:e}})},period:e,redirectPath:`${y.ry.premium}?intro=true`,textColor:D().colorBlack,theme:"default",children:/*#__PURE__*/(0,p.jsxs)("div",{className:V.buttonWrapper,children:[/*#__PURE__*/(0,p.jsx)("span",{className:V.icon,children:/*#__PURE__*/(0,p.jsx)(i.A,{})}),/*#__PURE__*/(0,p.jsx)("span",{className:V.label,children:t})]})})}),/*#__PURE__*/(0,p.jsx)("div",{className:V.termsAndConditionsCopy,children:/*#__PURE__*/(0,p.jsx)("span",{children:/*#__PURE__*/(0,p.jsx)(m.Ay,{components:{link:/*#__PURE__*/(0,p.jsx)("a",{href:"https://help.tumblr.com/premium/",target:"_blank"})},children:"Ad-Free excludes certain promotional content. [link]Learn more[/link]."})})})]})},Q=({isOpen:e,onClose:r,isLoading:o})=>{let{_c:t,_getPriceInCurrency:c}=(0,j.Us)(),{logEvent:u}=(0,R.Ul)(),[g,y]=(0,d.useState)(B.DF.Year),{isPending:x,isError:v,refetch:k,data:T}=P(),{width:N}=(0,h.DC)(),[f,A]=(0,d.useState)(!1),{data:G}=(0,w.i4)(),D=N<E.layoutWidth;if((0,d.useEffect)(()=>{e&&u({eventName:S.R.PremiumOnboardingScreenShown})}),!e)return null;let M=()=>/*#__PURE__*/(0,p.jsx)("div",{className:V.perkDetails,children:/*#__PURE__*/(0,p.jsxs)("div",{className:V.loadingState,children:[/*#__PURE__*/(0,p.jsx)(i.A,{}),/*#__PURE__*/(0,p.jsx)("p",{children:t("[Premium] Loading state on Premium signup modal","One moment please...")})]})});return G?.status==="on-hold"?/*#__PURE__*/(0,p.jsx)(K,{isOpen:!0,onClose:r}):/*#__PURE__*/(0,p.jsxs)(n.f,{backdrop:/*#__PURE__*/(0,p.jsx)("div",{className:O.A.backdrop}),className:l()(V.dialog,O.A.dialog),onClose:r,open:e,children:[/*#__PURE__*/(0,p.jsx)("div",{className:V.spotlights,children:/*#__PURE__*/(0,p.jsx)(z.A,{})}),/*#__PURE__*/(0,p.jsxs)("div",{className:V.content,children:[/*#__PURE__*/(0,p.jsx)(a.d,{className:O.A.closeButton}),v||f?/*#__PURE__*/(0,p.jsx)("div",{className:V.perkDetails,children:/*#__PURE__*/(0,p.jsx)(F.M,{description:t("[Premium] Description for perks dialog when subscriber info request failed","We’re unable to load information about Tumblr Premium Perks. Please check your network connection and try again."),isRetrying:f,onRetry:()=>{A(!0),k().finally(()=>{A(!1)})},title:t("[Premium] Title for perks dialog when subscriber info request failed","We're having trouble...")})}):x||o?M():(()=>{if(!T)return M();let e=T.pricePoints.monthly.priceCents,r=T.pricePoints.yearly.priceCents/12,o=T.pricePoints.yearly.priceCents,a=`${Math.floor((e-r)/e*100)}`,n=(0,I.$g)(e,"USD",c),i=(0,I.$g)(r,"USD",c),d=(0,I.$g)(o,"USD",c),u=()=>g===B.DF.Year?/*#__PURE__*/(0,p.jsx)(m.Ay,{components:{crossedOutSpan:/*#__PURE__*/(0,p.jsx)("span",{className:V.crossedOutMonthly}),largerNumberSpan:/*#__PURE__*/(0,p.jsx)("span",{className:V.largeNumberCopy}),normalTextSpan:/*#__PURE__*/(0,p.jsx)("span",{className:V.savingsExplanationCopy})},params:{priceMonthly:n,monthlyPriceAnnually:i,priceAnnually:d},children:"[crossedOutSpan][priceMonthly][/crossedOutSpan] [largerNumberSpan][monthlyPriceAnnually][/largerNumberSpan] [normalTextSpan]/ month, billed annually for [priceAnnually][/normalTextSpan]"}):/*#__PURE__*/(0,p.jsx)(m.Ay,{components:{largerNumberSpan:/*#__PURE__*/(0,p.jsx)("span",{className:V.largeNumberCopy}),normalTextSpan:/*#__PURE__*/(0,p.jsx)("span",{className:V.savingsExplanationCopy})},params:{priceMonthly:n},children:"[largerNumberSpan][priceMonthly][/largerNumberSpan] [normalTextSpan]/ month[/normalTextSpan]"}),h=t('[Premium] Term used for billing monthly given the choices "yearly" and "monthly"',"Monthly");return/*#__PURE__*/(0,p.jsxs)(p.Fragment,{children:[/*#__PURE__*/(0,p.jsx)("div",{className:V.subscriptionDetails,children:/*#__PURE__*/(0,p.jsxs)(p.Fragment,{children:[/*#__PURE__*/(0,p.jsx)("div",{children:/*#__PURE__*/(0,p.jsx)("img",{alt:"",height:96,src:C})}),/*#__PURE__*/(0,p.jsxs)("div",{className:V.subscriptionDetailsContent,children:[/*#__PURE__*/(0,p.jsxs)("div",{className:V.hero,children:[/*#__PURE__*/(0,p.jsx)("div",{className:V.subscriptionToggle,children:/*#__PURE__*/(0,p.jsx)(b,{sliderTabs:[{label:t("[Premium] The label used for accessibility on a toggle which chooses the yearly term length","Yearly SAVE %1$s%",[a]),onClick:()=>y(B.DF.Year),children:/*#__PURE__*/(0,p.jsxs)("div",{className:V.yearlySelection,children:[/*#__PURE__*/(0,p.jsx)("span",{className:l()(V.billingFrequency,{[V.selected]:!(g!==B.DF.Year)}),children:t('[Premium] Term used for billing annually given the choices "yearly" and "monthly"',"Yearly")}),/*#__PURE__*/(0,p.jsx)("span",{className:V.savingPercentageCopy,children:t('[Premium] Following the "yearly" billing, this text tells the user how much they\'d save over monthly',"SAVE %1$s%",[a])})]})},{label:h,onClick:()=>y(B.DF.Month),children:/*#__PURE__*/(0,p.jsx)("span",{className:l()(V.billingFrequency,{[V.selected]:!(g!==B.DF.Month)}),children:h})}]})}),/*#__PURE__*/(0,p.jsx)("div",{className:V.valueProp,children:/*#__PURE__*/(0,p.jsx)("div",{className:V.title,children:T.title})})]}),!D&&/*#__PURE__*/(0,p.jsx)(H,{selectedPeriod:g,termAmount:u()})]})]})}),/*#__PURE__*/(0,p.jsx)("div",{className:V.perkDetails,children:x?/*#__PURE__*/(0,p.jsx)("div",{className:V.loader,children:/*#__PURE__*/(0,p.jsx)(s.A,{})}):/*#__PURE__*/(0,p.jsxs)(p.Fragment,{children:[/*#__PURE__*/(0,p.jsx)("div",{className:V.perksList,children:T.perks.map(e=>/*#__PURE__*/(0,p.jsx)(X,{iconUrl:e.avatarUrl,subtitle:e.subtitle,title:e.title},e.title))}),/*#__PURE__*/(0,p.jsxs)("div",{className:V.supportTumblrSheet,children:[/*#__PURE__*/(0,p.jsx)("div",{className:V.supportersCopy,children:T.membershipInfo.title}),/*#__PURE__*/(0,p.jsx)("div",{className:V.supportCTA,children:T.membershipInfo.subtitle})]})]})}),D&&/*#__PURE__*/(0,p.jsx)("div",{className:V.mobileFooter,children:/*#__PURE__*/(0,p.jsx)(H,{selectedPeriod:g,termAmount:u()})})]})})()]})]})}},87676:(e,r,o)=>{"use strict";o.d(r,{s:()=>i});var a=o(36665),t=o(51713),l=o(68484);let n="lastOpenedPremiumPerksMonth",i=()=>{let[e,r]=(0,t.Q)(n,()=>l.A.getItem(n)===JSON.stringify(new Date().getUTCMonth()));return(0,a.useEffect)(()=>{if(e){let e=JSON.stringify(new Date().getUTCMonth());l.A.setItem(n,e)}},[e]),{hasOpenedPerks:e,setHasOpenedPerks:r}}},7524:(e,r,o)=>{"use strict";o.d(r,{A:()=>i});var a=o(74059),t=/*#__PURE__*/o.n(a);let l={spotlights:"HbNY8",spotlightAnimation:"aAyWA",spotlight:"oh2Ph",spotlightPath1:"ifDTb",spotlightPath2:"WrBSR"};var n=o(60397);let i=()=>/*#__PURE__*/(0,n.jsxs)("svg",{className:t()(l.spotlights,l.spotlightAnimation),fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",children:[/*#__PURE__*/(0,n.jsxs)("defs",{children:[/*#__PURE__*/(0,n.jsxs)("filter",{colorInterpolationFilters:"sRGB",gradientUnits:"objectBoundingBox",height:"1",id:"filter",width:"1",x:"0",y:"0",children:[/*#__PURE__*/(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),/*#__PURE__*/(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),/*#__PURE__*/(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"})]}),/*#__PURE__*/(0,n.jsxs)("linearGradient",{gradientUnits:"objectBoundingBox",id:"grad",x1:"0",x2:"1",y1:"0",y2:"1",children:[/*#__PURE__*/(0,n.jsx)("stop",{offset:"0",stopColor:"white",stopOpacity:".3"}),/*#__PURE__*/(0,n.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]}),/*#__PURE__*/(0,n.jsx)("g",{filter:"url(#filter)",children:/*#__PURE__*/(0,n.jsx)("path",{className:t()(l.spotlight,l.spotlightPath1,l.spotlightAnimation),d:"m-121.713-102.019 414.328 240.495-110.574 129.963-303.754-370.458Z",fill:"url(#grad)"})}),/*#__PURE__*/(0,n.jsx)("g",{filter:"url(#filter)",children:/*#__PURE__*/(0,n.jsx)("path",{className:t()(l.spotlight,l.spotlightPath2,l.spotlightAnimation),d:"m36.264-162.496 304.407 361.081-45.829 34.115L36.265-162.496Z",fill:"url(#grad)"})})]})},45836:(e,r,o)=>{"use strict";o.d(r,{A:()=>j});var a=o(74059),t=/*#__PURE__*/o.n(a),l=o(28230),n=o(17886),i=o(12044),s=o(36665),c=o(45872),d=o(39460),u=o(4613),p=o(56281),g=o(6865),b=o(39932),m=o(84007),h=o(56040),y=/*#__PURE__*/o.n(h),x=o(81440),v=o(60397);let j=({children:e,period:r,label:o,textColor:a,backgroundColor:h,loaderColor:j,theme:k,className:T,disabled:N,onClick:f,onSetFetch:P,redirectPath:w,giftReceiverBlog:C,giftIsAnonymous:z,giftMessage:A,trackingSource:S})=>{let{apiFetch:B,isLoggedIn:R,_t:G}=(0,u.Us)(),{toggleToast:D}=(0,p.Y)(),[E,I]=(0,s.useState)(!1),F=e=>{if(!R)return;let r={...S&&{source:S},...w&&{path:w},...C&&{gift_receiver_tumblelog:C},...C&&{gift_is_anonymous:z},...A&&{gift_message:A}};I(!0),P?.(!0),(0,b.A)(B,e,window.location.host,r).fetch().then(({response:e})=>{window.location.assign(e.url)}).catch(()=>{I(!1),P?.(!1),D((0,m.X)((0,g.vf)(G)),"error")})},O=R?void 0:(0,i.rn)({formToShow:c.t.Login},{redirect_to:(0,i.yK)({page:d.e.AdFreeBrowsing})}),M=N?{disabled:N,disabledTheme:"default",disabledBackgroundColor:y().paletteGray13,disabledTextColor:y().paletteGray40}:{},_=e||o;return/*#__PURE__*/(0,v.jsx)(n.A,{backgroundColor:h,borderColor:"border"===k?h:void 0,className:x.A.button,href:O,label:o,onClick:()=>{f?.(),E||F(r)},size:"small",textColor:a,theme:k,wrapperClassName:t()(x.A.buttonWrapper,T),...M,children:E?/*#__PURE__*/(0,v.jsxs)(v.Fragment,{children:[" ",/*#__PURE__*/(0,v.jsx)(l.A,{color:j,small:!0})]}):_})}},32232:(e,r,o)=>{"use strict";o.d(r,{D:()=>d});var a=o(24524),t=o(87079),l=o(94048),n=o(4613),i=o(25183),s=o(98566),c=o(36665);let d=({action:e,productGroup:r,onClick:o})=>{let{logEvent:d}=(0,i.Ul)(),{_c:u}=(0,n.Us)(),{isPending:p,data:g}=(0,t.r)(),b=e?.url?e.url:g?.type==="paypal"?a.P:g?.updateUrl;return/*#__PURE__*/(0,c.createElement)(s.K,{...e,isLoading:p,key:e?.key||"manage_subscription",label:e?.label||u("[Subscriptions & purchases] Button label for managing payment method","Manage your subscription"),onClick:()=>{b&&o?.(b),("premium"===r||"ad_free"===r)&&d({eventName:l.R.PremiumManageSubscriptionPress,eventDetails:{productGroup:r}})},productGroup:r,url:b})}},98566:(e,r,o)=>{"use strict";o.d(r,{K:()=>u});var a=o(69998),t=o(28230);o(36665);var l=o(55321),n=o(94048),i=o(25183);let s=e=>!!(e.includes("help.tumblr.com")||e.includes("tumblr.com/support"));var c=o(6809),d=o(60397);let u=({backgroundColor:e,borderColor:r,color:o,isLoading:u=!1,key:p,label:g,onClick:b,productGroup:m,textColor:h,type:y=!1,url:x})=>{let{logEvent:v}=(0,i.Ul)(),j=()=>{v({eventName:n.R.TumblrPremiumSubscriptionManageButtonClicked,eventDetails:{actionKey:p,productGroup:m}}),b?.()},k={...e&&{backgroundColor:e},...h&&{color:h},...r&&{borderColor:r}},T=x?/*#__PURE__*/(0,d.jsx)(l.N_,{target:s(x)?"_blank":void 0,to:x}):void 0,N=/*#__PURE__*/(0,d.jsx)(d.Fragment,{children:u?/*#__PURE__*/(0,d.jsx)("div",{style:{height:c.spaceXl},children:/*#__PURE__*/(0,d.jsx)(t.A,{centerOrientation:"horizontalAndVertical",color:c.colorGray60,small:!0})}):g});return"primary"===y?/*#__PURE__*/(0,d.jsx)(a.jn,{color:o,context:"content",disabled:u,layout:"full",onClick:j,render:T,size:"large",children:N}):/*#__PURE__*/(0,d.jsx)(a.tA,{color:o,context:"content",disabled:u,layout:"full",onClick:j,render:T,size:"large",style:k,children:N})}},6809:e=>{e.exports={colorNavy:"rgba(0, 25, 53, 1)",colorBlue:"rgba(0, 184, 255, 1)",colorPurple:"rgba(124, 92, 255, 1)",colorPink:"rgba(255, 97, 206, 1)",colorRed:"rgba(255, 73, 48, 1)",colorOrange:"rgba(255, 138, 0, 1)",colorYellow:"rgba(232, 215, 58, 1)",colorGreen:"rgba(1, 207, 53, 1)",colorBlack:"rgba(0, 0, 0, 1)",colorWhite:"rgba(255, 255, 255, 1)",colorTransparent:"rgba(255, 255, 255, 0)",colorNavy3:"rgba(251, 252, 252, 1)",colorNavy5:"rgba(242, 244, 245, 1)",colorNavy10:"rgba(229, 232, 235, 1)",colorNavy15:"rgba(217, 221, 225, 1)",colorNavy20:"rgba(204, 209, 215, 1)",colorNavy30:"rgba(179, 186, 194, 1)",colorNavy40:"rgba(153, 163, 174, 1)",colorNavy50:"rgba(128, 140, 154, 1)",colorNavy60:"rgba(102, 117, 134, 1)",colorNavy70:"rgba(76, 94, 114, 1)",colorNavy80:"rgba(51, 71, 93, 1)",colorNavy85:"rgba(38, 59, 83, 1)",colorNavy90:"rgba(26, 48, 73, 1)",colorNavy95:"rgba(13, 36, 63, 1)",colorNavy100:"rgba(0, 25, 53, 1)",colorNavyTint3:"rgba(0, 25, 53, 0.03)",colorNavyTint5:"rgba(0, 25, 53, 0.05)",colorNavyTint10:"rgba(0, 25, 53, 0.1)",colorNavyTint15:"rgba(0, 25, 53, 0.15)",colorNavyTint20:"rgba(0, 25, 53, 0.2)",colorNavyTint30:"rgba(0, 25, 53, 0.3)",colorNavyTint40:"rgba(0, 25, 53, 0.4)",colorNavyTint50:"rgba(0, 25, 53, 0.5)",colorNavyTint60:"rgba(0, 25, 53, 0.6)",colorNavyTint70:"rgba(0, 25, 53, 0.7)",colorNavyTint80:"rgba(0, 25, 53, 0.8)",colorNavyTint85:"rgba(0, 25, 53, 0.85)",colorNavyTint90:"rgba(0, 25, 53, 0.9)",colorNavyTint95:"rgba(0, 25, 53, 0.95)",colorGray3:"rgba(247, 247, 247, 1)",colorGray5:"rgba(242, 242, 242, 1)",colorGray10:"rgba(229, 229, 229, 1)",colorGray15:"rgba(217, 217, 217, 1)",colorGray20:"rgba(204, 204, 204, 1)",colorGray30:"rgba(179, 179, 179, 1)",colorGray40:"rgba(153, 153, 153, 1)",colorGray50:"rgba(128, 128, 128, 1)",colorGray60:"rgba(102, 102, 102, 1)",colorGray70:"rgba(76, 76, 76, 1)",colorGray80:"rgba(51, 51, 51, 1)",colorGray85:"rgba(38, 38, 38, 1)",colorGray90:"rgba(26, 26, 26, 1)",colorGray95:"rgba(13, 13, 13, 1)",colorGray100:"rgba(0, 0, 0, 1)",colorBlackTint3:"rgba(0, 0, 0, 0.03)",colorBlackTint5:"rgba(0, 0, 0, 0.05)",colorBlackTint10:"rgba(0, 0, 0, 0.1)",colorBlackTint15:"rgba(0, 0, 0, 0.15)",colorBlackTint20:"rgba(0, 0, 0, 0.2)",colorBlackTint30:"rgba(0, 0, 0, 0.3)",colorBlackTint40:"rgba(0, 0, 0, 0.4)",colorBlackTint50:"rgba(0, 0, 0, 0.5)",colorBlackTint60:"rgba(0, 0, 0, 0.6)",colorBlackTint70:"rgba(0, 0, 0, 0.7)",colorBlackTint80:"rgba(0, 0, 0, 0.8)",colorBlackTint85:"rgba(0, 0, 0, 0.85)",colorBlackTint90:"rgba(0, 0, 0, 0.9)",colorBlackTint95:"rgba(0, 0, 0, 0.95)",colorWhiteTint3:"rgba(255, 255, 255, 0.03)",colorWhiteTint5:"rgba(255, 255, 255, 0.05)",colorWhiteTint10:"rgba(255, 255, 255, 0.1)",colorWhiteTint15:"rgba(255, 255, 255, 0.15)",colorWhiteTint20:"rgba(255, 255, 255, 0.2)",colorWhiteTint30:"rgba(255, 255, 255, 0.3)",colorWhiteTint40:"rgba(255, 255, 255, 0.4)",colorWhiteTint50:"rgba(255, 255, 255, 0.5)",colorWhiteTint60:"rgba(255, 255, 255, 0.6)",colorWhiteTint70:"rgba(255, 255, 255, 0.7)",colorWhiteTint80:"rgba(255, 255, 255, 0.8)",colorWhiteTint85:"rgba(255, 255, 255, 0.85)",colorWhiteTint90:"rgba(255, 255, 255, 0.9)",colorWhiteTint95:"rgba(255, 255, 255, 0.95)",colorBlue5:"rgba(229, 248, 255, 1)",colorBlue10:"rgba(204, 241, 255, 1)",colorBlue20:"rgba(153, 227, 255, 1)",colorBlue30:"rgba(102, 212, 255, 1)",colorBlue40:"rgba(51, 198, 255, 1)",colorBlue50:"rgba(0, 184, 255, 1)",colorBlue60:"rgba(0, 147, 204, 1)",colorBlue70:"rgba(0, 110, 153, 1)",colorBlue80:"rgba(0, 74, 102, 1)",colorBlue90:"rgba(0, 37, 51, 1)",colorBlue95:"rgba(0, 18, 25, 1)",colorBlueTint5:"rgba(0, 184, 255, 0.05)",colorBlueTint10:"rgba(0, 184, 255, 0.1)",colorBlueTint20:"rgba(0, 184, 255, 0.2)",colorBlueTint30:"rgba(0, 184, 255, 0.3)",colorBlueTint40:"rgba(0, 184, 255, 0.4)",colorBlueTint50:"rgba(0, 184, 255, 0.5)",colorBlueTint60:"rgba(0, 184, 255, 0.6)",colorBlueTint70:"rgba(0, 184, 255, 0.7)",colorBlueTint80:"rgba(0, 184, 255, 0.8)",colorBlueTint90:"rgba(0, 184, 255, 0.9)",colorBlueTint95:"rgba(0, 184, 255, 0.95)",colorPurple5:"rgba(242, 239, 255, 1)",colorPurple10:"rgba(229, 222, 255, 1)",colorPurple20:"rgba(203, 190, 255, 1)",colorPurple30:"rgba(176, 157, 255, 1)",colorPurple40:"rgba(150, 125, 255, 1)",colorPurple50:"rgba(124, 92, 255, 1)",colorPurple60:"rgba(99, 74, 204, 1)",colorPurple70:"rgba(74, 55, 153, 1)",colorPurple80:"rgba(50, 37, 102, 1)",colorPurple90:"rgba(25, 18, 51, 1)",colorPurple95:"rgba(12, 9, 25, 1)",colorPurpleTint5:"rgba(124, 92, 255, 0.05)",colorPurpleTint10:"rgba(124, 92, 255, 0.1)",colorPurpleTint20:"rgba(124, 92, 255, 0.2)",colorPurpleTint30:"rgba(124, 92, 255, 0.3)",colorPurpleTint40:"rgba(124, 92, 255, 0.4)",colorPurpleTint50:"rgba(124, 92, 255, 0.5)",colorPurpleTint60:"rgba(124, 92, 255, 0.6)",colorPurpleTint70:"rgba(124, 92, 255, 0.7)",colorPurpleTint80:"rgba(124, 92, 255, 0.8)",colorPurpleTint90:"rgba(124, 92, 255, 0.9)",colorPurpleTint95:"rgba(124, 92, 255, 0.95)",colorPink5:"rgba(255, 239, 250, 1)",colorPink10:"rgba(255, 223, 245, 1)",colorPink20:"rgba(255, 192, 235, 1)",colorPink30:"rgba(255, 160, 226, 1)",colorPink40:"rgba(255, 129, 216, 1)",colorPink50:"rgba(255, 97, 206, 1)",colorPink60:"rgba(204, 78, 165, 1)",colorPink70:"rgba(153, 58, 124, 1)",colorPink80:"rgba(102, 39, 82, 1)",colorPink90:"rgba(51, 19, 41, 1)",colorPink95:"rgba(25, 10, 21, 1)",colorPinkTint5:"rgba(255, 97, 206, 0.05)",colorPinkTint10:"rgba(255, 97, 206, 0.1)",colorPinkTint20:"rgba(255, 97, 206, 0.2)",colorPinkTint30:"rgba(255, 97, 206, 0.3)",colorPinkTint40:"rgba(255, 97, 206, 0.4)",colorPinkTint50:"rgba(255, 97, 206, 0.5)",colorPinkTint60:"rgba(255, 97, 206, 0.6)",colorPinkTint70:"rgba(255, 97, 206, 0.7)",colorPinkTint80:"rgba(255, 97, 206, 0.8)",colorPinkTint90:"rgba(255, 97, 206, 0.9)",colorPinkTint95:"rgba(255, 97, 206, 0.95)",colorRed5:"rgba(255, 237, 234, 1)",colorRed10:"rgba(255, 219, 214, 1)",colorRed20:"rgba(255, 182, 172, 1)",colorRed30:"rgba(255, 146, 131, 1)",colorRed40:"rgba(255, 109, 89, 1)",colorRed50:"rgba(255, 73, 48, 1)",colorRed60:"rgba(204, 58, 38, 1)",colorRed70:"rgba(153, 44, 29, 1)",colorRed80:"rgba(102, 29, 19, 1)",colorRed90:"rgba(51, 15, 10, 1)",colorRed95:"rgba(25, 7, 5, 1)",colorRedTint5:"rgba(255, 73, 48, 0.05)",colorRedTint10:"rgba(255, 73, 48, 0.1)",colorRedTint20:"rgba(255, 73, 48, 0.2)",colorRedTint30:"rgba(255, 73, 48, 0.3)",colorRedTint40:"rgba(255, 73, 48, 0.4)",colorRedTint50:"rgba(255, 73, 48, 0.5)",colorRedTint60:"rgba(255, 73, 48, 0.6)",colorRedTint70:"rgba(255, 73, 48, 0.7)",colorRedTint80:"rgba(255, 73, 48, 0.8)",colorRedTint90:"rgba(255, 73, 48, 0.9)",colorRedTint95:"rgba(255, 73, 48, 0.95)",colorOrange5:"rgba(255, 243, 229, 1)",colorOrange10:"rgba(255, 232, 204, 1)",colorOrange20:"rgba(255, 208, 153, 1)",colorOrange30:"rgba(255, 185, 102, 1)",colorOrange40:"rgba(255, 161, 51, 1)",colorOrange50:"rgba(255, 138, 0, 1)",colorOrange60:"rgba(204, 110, 0, 1)",colorOrange70:"rgba(153, 83, 0, 1)",colorOrange80:"rgba(102, 55, 0, 1)",colorOrange90:"rgba(51, 28, 0, 1)",colorOrange95:"rgba(25, 14, 0, 1)",colorOrangeTint5:"rgba(255, 138, 0, 0.05)",colorOrangeTint10:"rgba(255, 138, 0, 0.1)",colorOrangeTint20:"rgba(255, 138, 0, 0.2)",colorOrangeTint30:"rgba(255, 138, 0, 0.3)",colorOrangeTint40:"rgba(255, 138, 0, 0.4)",colorOrangeTint50:"rgba(255, 138, 0, 0.5)",colorOrangeTint60:"rgba(255, 138, 0, 0.6)",colorOrangeTint70:"rgba(255, 138, 0, 0.7)",colorOrangeTint80:"rgba(255, 138, 0, 0.8)",colorOrangeTint90:"rgba(255, 138, 0, 0.9)",colorOrangeTint95:"rgba(255, 138, 0, 0.95)",colorYellow5:"rgba(253, 251, 235, 1)",colorYellow10:"rgba(250, 247, 216, 1)",colorYellow20:"rgba(246, 239, 176, 1)",colorYellow30:"rgba(241, 231, 137, 1)",colorYellow40:"rgba(237, 223, 97, 1)",colorYellow50:"rgba(232, 215, 58, 1)",colorYellow60:"rgba(186, 172, 46, 1)",colorYellow70:"rgba(139, 129, 35, 1)",colorYellow80:"rgba(93, 86, 23, 1)",colorYellow90:"rgba(46, 43, 12, 1)",colorYellow95:"rgba(23, 21, 6, 1)",colorYellowTint5:"rgba(232, 215, 58, 0.05)",colorYellowTint10:"rgba(232, 215, 58, 0.1)",colorYellowTint20:"rgba(232, 215, 58, 0.2)",colorYellowTint30:"rgba(232, 215, 58, 0.3)",colorYellowTint40:"rgba(232, 215, 58, 0.4)",colorYellowTint50:"rgba(232, 215, 58, 0.5)",colorYellowTint60:"rgba(232, 215, 58, 0.6)",colorYellowTint70:"rgba(232, 215, 58, 0.7)",colorYellowTint80:"rgba(232, 215, 58, 0.8)",colorYellowTint90:"rgba(232, 215, 58, 0.9)",colorYellowTint95:"rgba(232, 215, 58, 0.95)",colorGreen5:"rgba(230, 250, 235, 1)",colorGreen10:"rgba(204, 245, 215, 1)",colorGreen20:"rgba(153, 236, 174, 1)",colorGreen30:"rgba(103, 226, 134, 1)",colorGreen40:"rgba(52, 217, 93, 1)",colorGreen50:"rgba(1, 207, 53, 1)",colorGreen60:"rgba(1, 166, 42, 1)",colorGreen70:"rgba(1, 124, 32, 1)",colorGreen80:"rgba(0, 83, 21, 1)",colorGreen90:"rgba(0, 41, 11, 1)",colorGreen95:"rgba(0, 21, 5, 1)",colorGreenTint5:"rgba(1, 207, 53, 0.05)",colorGreenTint10:"rgba(1, 207, 53, 0.1)",colorGreenTint20:"rgba(1, 207, 53, 0.2)",colorGreenTint30:"rgba(1, 207, 53, 0.3)",colorGreenTint40:"rgba(1, 207, 53, 0.4)",colorGreenTint50:"rgba(1, 207, 53, 0.5)",colorGreenTint60:"rgba(1, 207, 53, 0.6)",colorGreenTint70:"rgba(1, 207, 53, 0.7)",colorGreenTint80:"rgba(1, 207, 53, 0.8)",colorGreenTint90:"rgba(1, 207, 53, 0.9)",colorGreenTint95:"rgba(1, 207, 53, 0.95)",colorRainbow0:"rgba(0, 184, 255, 1)",colorRainbow1:"rgba(1, 207, 53, 1)",colorRainbow2:"rgba(116, 211, 56, 1)",colorRainbow3:"rgba(232, 215, 58, 1)",colorRainbow4:"rgba(255, 138, 0, 1)",colorRainbow5:"rgba(255, 105, 24, 1)",colorRainbow6:"rgba(255, 73, 48, 1)",colorRainbow7:"rgba(255, 85, 127, 1)",colorRainbow8:"rgba(255, 97, 206, 1)",colorRainbow9:"rgba(190, 95, 230, 1)",colorRainbow10:"rgba(124, 92, 255, 1)",spaceXxxs:"2px",spaceXxs:"4px",spaceXs:"8px",spaceS:"12px",spaceM:"16px",spaceL:"20px",spaceXl:"24px",spaceXxl:"28px",spaceXxxl:"32px",radiusNone:"0px",radiusXxxs:"2px",radiusXxs:"4px",radiusXs:"8px",radiusS:"12px",radiusM:"16px",radiusL:"20px",radiusXl:"24px",radiusXxl:"28px",radiusXxxl:"32px",radiusRound:"9999px",radiusThumbS:"2px",radiusThumbM:"4px",radiusThumbL:"8px",radiusAvatarS:"2px",radiusAvatarM:"4px",radiusAvatarL:"8px",radiusAvatarRound:"9999px",radiusUiSquare:"8px",radiusUiRound:"9999px",radiusPostImage:"4px",radiusBadge:"4px",radiusLabel:"2px",radiusButton:"9999px",radiusDropdown:"8px",radiusBanner:"8px",radiusModalS:"12px",radiusModalM:"16px",radiusModalL:"20px",radiusPanel:"8px",radiusPanelMobile:"12px"}},77527:(e,r,o)=>{"use strict";e.exports=o.p+"src/routes/main/settings/premium/assets/premium-tee-d5841e45.gif"}}]);
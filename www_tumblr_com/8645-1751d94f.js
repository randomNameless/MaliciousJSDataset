!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c94f3cbb-a7fd-4f6d-a7ad-dfd658fa7b2a",e._sentryDebugIdIdentifier="sentry-dbid-c94f3cbb-a7fd-4f6d-a7ad-dfd658fa7b2a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@ce094590bd2291e3264b21d2f92bffc273e4a131"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[8645],{164:(e,t,s)=>{s.d(t,{A:()=>a});let a={blogRowFollowButton:"kk3cQ"}},41507:(e,t,s)=>{s.d(t,{A:()=>a});let a={messaging:"_v5gz",messagingDesktop:"FBnVP",inboxWrapper:"EXUkD",paginationLoader:"PDF9O",inboxLoader:"Zd01K",headerWrapper:"mBa_9",hidden:"Tjbvn",emailNotVerified:"lVtP0"}},48683:(e,t,s)=>{s.d(t,{A:()=>a});let a={hidden:"KqFuf",loaderContainer:"QtIm7",loader:"tdkvS",modalContainer:"DsRgF",modal:"DFrXP",modalHeader:"VWh7r",modalBody:"xmT1m",modalButton:"PfwXc"}},75473:(e,t,s)=>{s.d(t,{A:()=>a});let a={main:"gp1sd",followingTimeline:"qN8sP",toolbarWrapper:"L_YdV",toolbar:"tUznf",searchAllTumblrButton:"jHjJb",activeIconButton:"nm8Or",inactiveIconButton:"wxF59",banner:"XLWxA",emptyView:"H4bQ8",errorView:"Q4af_",blogTimeline:"EYjNC",ownBlogTimeline:"gC8eT",isPermalinkPage:"M56Om",viewBlogButton:"hNMyY",followingRow:"bT3Jv",explicitBannerReview:"V9405",explicitBannerNotice:"Hsbsh",explicitBannerReviewLink:"ue5Wf",moreContent:"oFuUq",moreContentTitle:"VNh6c",moreContentLink:"kDr0N"}},78209:(e,t,s)=>{s.d(t,{A:()=>a});let a={videoHubs:"sBrUG",videoHubCardGrid:"xbZIU",videoHubCardWrapper:"AhIXl",videoHubTitle:"rHyKD",videoHubSubtitle:"ctoub",videoHubPlayIcon:"el2ZN"}},54866:(e,t,s)=>{s.d(t,{A:()=>a});let a={timeline:"j8ha0",isSorting:"avWLs",masonry:"qr36f",gridded:"RlWaM",noContent:"cRPdZ",newDesktopLayout:"vWxXZ",masonryEmptyView:"GWJvH",manualPaginatorButtonsGrid:"Tj4be",restoreTimelineText:"rqHFc",animateOut:"x7_ZU",animateIn:"O5WoU",animateContainerIn:"E4obd",none:"ZRX9S"}},28506:(e,t,s)=>{s.d(t,{A:()=>a});let a={body:"usqcu",noContentWrapper:"y494b",noContent:"mt9CN",graphHeader:"sw6Ng",graphOptions:"C7ZIb",selector:"PArAC",caret:"dw8RI",graphPlaceholder:"RvAxT",statsContainer:"pK05E",miniHeading:"FRX9k",filter:"tKBLd",biggestFans:"eoHPO",topPost:"xrsGX",blogs:"Lfo8a",blogCard:"ch0bE",loader:"I40ti"}},69571:(e,t,s)=>{s.d(t,{A:()=>a});let a={postColumn:"f5mVe",emptyView:"cQqe6",emptyViewCTA:"TYWhv"}},29437:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(94782),n=s(36665),i=s(1500);function r(e,t,s){let r=(0,a.MA)(()=>(0,i.s)(e,null!=t?t:0,s),[e,t,s]);return(0,n.useEffect)(()=>()=>r.cancel(),[r]),r}},1500:(e,t,s)=>{s.d(t,{s:()=>a});let a=(e,t,s)=>{let a,n,i,r,o;let l=0,d=0,c=!1,m=!1,p=!0;function u(t){let s=a,r=n;return a=void 0,n=void 0,d=t,i=e.apply(r,s)}function h(e,t){r=setTimeout(e,t)}function g(e){let s=e-(o||0),a=e-d;return void 0===o||s>=t||s<0||m&&a>=l}function b(){let e=Date.now();if(g(e))return x(e);h(b,function(e){let s=e-(o||0),a=e-d,n=t-s;return m?Math.min(n,l-a):n}(e))}function x(e){return(r=void 0,p&&a)?u(e):(a=n=void 0,i)}function f(){return void 0!==r}function v(...e){let s=Date.now(),r=g(s);if(a=e,n=this,o=s,r){if(!f()){var l;return d=l=o,h(b,t),c?u(l):i}if(m)return h(b,t),u(o)}return f()||h(b,t),i}return s&&(c=!!s.leading,m="maxWait"in s,void 0!==s.maxWait&&(l=Math.max(s.maxWait,t)),p="trailing"in s?!!s.trailing:p),v.cancel=function(){void 0!==r&&clearTimeout(r),d=0,r=void 0,a=o=n=void 0},v.flush=function(){return f()?x(Date.now()):i},v.pending=f,v}},94782:(e,t,s)=>{s.d(t,{MA:()=>n});var a=s(36665);function n(e,t){var s=(0,a.useState)(function(){return{inputs:t,result:e()}})[0],n=(0,a.useRef)(!0),i=(0,a.useRef)(s),r=n.current||t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}(t,i.current.inputs)?i.current:{inputs:t,result:e()};return(0,a.useEffect)(function(){n.current=!1,i.current=r},[r]),r.result}},76725:(e,t,s)=>{s.d(t,{A:()=>b});var a=s(6678),n=s(11100),i=s(21237),r=s(46466),o=s(17886),l=s(57216),d=s(36665),c=s(4613),m=s(56040);let p={menu:"FIUNu",content:"wXqHu",section:"gr2Nr",item:"TsGca",subItem:"Vezw8"};var u=s(60397);let h={width:20,height:20},g=({children:e,filters:t,toggle:s,setSelections:a,selection:n})=>{let r=t.join(","),o={labelledBy:r,onChange:a(t),checked:t.some(e=>!n.has(e))};return/*#__PURE__*/(0,u.jsxs)(u.Fragment,{children:[/*#__PURE__*/(0,u.jsx)("label",{id:r,children:e}),s?/*#__PURE__*/(0,u.jsx)(l.A,{...o,controlled:!0}):/*#__PURE__*/(0,u.jsx)(i.A,{...o})]})},b=({onClose:e,onSubmit:t,filters:s})=>{let{_t:i,_c:l,features:{definitelySomething:b}}=(0,c.Us)(),[x,f]=(0,d.useState)(s),v={selection:x,setSelections:e=>()=>f(t=>{let s=new Set(t);return e.every(e=>t.has(e))?e.forEach(e=>s.delete(e)):e.forEach(e=>s.add(e)),s})};return/*#__PURE__*/(0,u.jsxs)("div",{className:p.menu,children:[/*#__PURE__*/(0,u.jsxs)("header",{children:[/*#__PURE__*/(0,u.jsx)("h2",{children:i("Filters")}),/*#__PURE__*/(0,u.jsx)(n.A,{label:i("Close"),onClick:e,children:/*#__PURE__*/(0,u.jsx)(r.A,{colors:{primary:m.paletteGray65},size:h})})]}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.content,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["rollups"],toggle:!1,children:i("Group similar notifications")})})}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["mention_in_post","mention_in_reply"],toggle:!0,children:i("Mentions")})}),/*#__PURE__*/(0,u.jsxs)(a.A,{showCollapsable:!x.has("mention_in_post")||!x.has("mention_in_reply"),children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["mention_in_post"],toggle:!1,children:i("Mentioned in a post")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["mention_in_reply"],toggle:!1,children:i("Mentioned in a reply")})})]})]}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["reblog_with_content","reblog_naked","tags"],toggle:!0,children:i("Reblogs")})}),/*#__PURE__*/(0,u.jsxs)(a.A,{showCollapsable:!x.has("reblog_with_content")||!x.has("reblog_naked")||!x.has("tags"),children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["reblog_with_content"],toggle:!1,children:i("Reblogs with comment")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["reblog_naked"],toggle:!1,children:i("Reblogs without comment")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["tags"],toggle:!1,children:i("Show tags added in Reblogs")})})]})]}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["follow"],toggle:!1,children:i("New followers")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["like"],toggle:!1,children:i("Likes")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["reply","reply_to_comment"],toggle:!1,children:i("Replies")})})}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["answered_ask","ask"],toggle:!0,children:i("Asks")})}),/*#__PURE__*/(0,u.jsxs)(a.A,{showCollapsable:!x.has("ask")||!x.has("answered_ask"),children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["ask"],toggle:!1,children:i("Received new ask")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["answered_ask"],toggle:!1,children:i("Ask answered")})})]})]}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["conversational_note"],toggle:!1,children:l("Notifications from users replying to others' posts you've subscribed to","Note subscriptions")})})}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_flagged","post_appeal_accepted","post_appeal_rejected","spam_reported"],toggle:!0,children:i("Content flagging")})}),/*#__PURE__*/(0,u.jsxs)(a.A,{showCollapsable:!x.has("post_flagged")||!x.has("post_appeal_accepted")||!x.has("post_appeal_rejected")||!x.has("spam_reported"),children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_flagged"],toggle:!1,children:i("Post flagged")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_appeal_accepted"],toggle:!1,children:i("Appeal accepted")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_appeal_rejected"],toggle:!1,children:i("Appeal rejected")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["spam_reported"],toggle:!1,children:i("Spam reported")})})]})]}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_attribution"],toggle:!1,children:i("Your GIF used in a post")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["what_you_missed"],toggle:!1,children:i("Posts you missed")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["new_group_blog_member"],toggle:!1,children:i("New group blog members")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["back_in_town"],toggle:!1,children:i("Back in Town")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["posting_prompt"],toggle:!1,children:l("Notifications that encourage users to create a new post based on a prompt","Posting prompts")})})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["blaze_approved","blaze_completed","blaze_rejected","blaze_golden_buzzed","blaze_blazee_created","blaze_blazer_canceled","blaze_blazee_canceled","blaze_blazer_approved","blaze_blazee_approved","blaze_blazer_golden_buzzed","blaze_blazee_golden_buzzed","blaze_blazer_rejected","blaze_blazee_rejected","blaze_blazer_extinguished","blaze_blazee_extinguished","blaze_blazer_completed","blaze_blazee_completed"],toggle:!0,children:l("Notification filter text for Post Blaze items","Post Blaze")})})}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_community_label_accepted","post_community_label_flagged","post_community_label_rejected"],toggle:!0,children:l("Notification filter text for Post Content Label items","Post Content Label")})}),/*#__PURE__*/(0,u.jsxs)(a.A,{showCollapsable:!x.has("post_community_label_accepted")||!x.has("post_community_label_flagged")||!x.has("post_community_label_rejected"),children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_community_label_accepted"],toggle:!1,children:l("Notification filter text for an Approved Content Label","Appeal Accepted")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_community_label_flagged"],toggle:!1,children:l("Notification filter text for a Flagged Content Label","Added Content Label")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["post_community_label_rejected"],toggle:!1,children:l("Notification filter text for a Rejected Content Label","Appeal Rejected")})})]})]}),/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["gift"],toggle:!0,children:l("Notification filter text for Gift items","Gifts")})})}),/*#__PURE__*/(0,u.jsxs)("div",{className:p.section,children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["milestone_like","milestone_post","milestone_birthday","milestone_reblog_received","milestone_like_received"],toggle:!0,children:l("Notification filter text for milestone items","Milestones")})}),/*#__PURE__*/(0,u.jsxs)(a.A,{showCollapsable:!x.has("milestone_like")||!x.has("milestone_post")||!x.has("milestone_birthday")||!x.has("milestone_reblog_received")||!x.has("milestone_like_received"),children:[/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["milestone_like"],toggle:!1,children:l("Notification filter text for a Likes milestone","Likes milestones")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["milestone_post"],toggle:!1,children:l("Notification filter text for a Posts Blaze","Posts milestones")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["milestone_birthday"],toggle:!1,children:l("Notification filter text for a Birthday milestone","Birthday milestones")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["milestone_reblog_received"],toggle:!1,children:l("Notification filter text for a Reblogs Received milestone","Reblogs received milestones")})}),/*#__PURE__*/(0,u.jsx)("div",{className:p.subItem,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["milestone_like_received"],toggle:!1,children:l("Notification filter text for a Likes Received milestone","Likes received milestones")})})]})]}),b&&/*#__PURE__*/(0,u.jsx)("div",{className:p.section,children:/*#__PURE__*/(0,u.jsx)("div",{className:p.item,children:/*#__PURE__*/(0,u.jsx)(g,{...v,filters:["boop"],toggle:!1,children:"Boops"})})})]}),/*#__PURE__*/(0,u.jsxs)("footer",{children:[/*#__PURE__*/(0,u.jsx)(o.A,{backgroundColor:m.paletteGray65,onClick:()=>f(new Set),textColor:m.paletteGray65,theme:"border",children:i("Reset")}),/*#__PURE__*/(0,u.jsx)(o.A,{backgroundColor:m.paletteAccent,onClick:()=>t(x),textColor:m.paletteWhite,theme:"default",children:i("Apply filters")})]})]})}},21237:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(70933),r=s(56040);let o={wrapper:"SJR84",box:"uNugm"};var l=s(60397);let d=({checked:e,labelledBy:t,boxClassName:s,wrapperClassName:a,...d})=>/*#__PURE__*/(0,l.jsxs)("div",{className:n()(o.wrapper,a),children:[/*#__PURE__*/(0,l.jsx)("input",{"aria-labelledby":t,checked:e,type:"checkbox",...d}),/*#__PURE__*/(0,l.jsx)("div",{className:n()(o.box,s),children:e&&/*#__PURE__*/(0,l.jsx)(i.A,{colors:{primary:r.paletteWhite},size:{height:12,width:12}})})]})},7606:(e,t,s)=>{s.d(t,{K:()=>c});var a=s(21331),n=s(97792),i=s(80715),r=s(36665),o=s(69998);let l={container:"R2VSD",heading:"d35L4",contentWrapper:"q9P6T",controls:"SAa3l"};var d=s(60397);let c=({isOpen:e,heading:t,children:s,primaryAction:c,secondaryAction:m,onClose:p})=>{let[u,h]=(0,r.useState)(!0),g=(0,r.useCallback)(e=>{h(!1),p?.(e)},[p]);return void 0===e&&!1===u?null:/*#__PURE__*/(0,d.jsx)(i.a,{isOpen:e??u,onClose:g,renderHeader:()=>null,size:"s",children:/*#__PURE__*/(0,d.jsxs)("div",{className:l.container,children:[/*#__PURE__*/(0,d.jsx)(a.X,{className:l.heading,children:t}),/*#__PURE__*/(0,d.jsx)("div",{className:l.contentWrapper,children:s}),/*#__PURE__*/(0,d.jsxs)("div",{className:l.controls,children:[m&&/*#__PURE__*/(0,d.jsx)(n.d,{render:/*#__PURE__*/(0,d.jsx)(o.tA,{context:"content",layout:"medium",onClick:e=>{m.onClick?.(e)},size:"medium"}),children:m.text}),c&&/*#__PURE__*/(0,d.jsx)(n.d,{render:/*#__PURE__*/(0,d.jsx)(o.jn,{color:c.type,context:"content",layout:"medium",onClick:e=>{c.onClick?.(e)},size:"medium"}),children:c.text})]})]})})}},87580:(e,t,s)=>{s.d(t,{J:()=>o});var a=s(74059),n=/*#__PURE__*/s.n(a);let i={label:"uxqpX",large:"O71si",chrome:"f8NX6",secondary:"xcSSm",content:"OLBDR",primary:"iOnpq",image:"SwCM_"};var r=s(60397);let o=e=>/*#__PURE__*/(0,r.jsx)("div",{className:n()(i.label,{[i.large]:"large"===e.size,[i.chrome]:"chrome"===e.context,[i.content]:"content"===e.context,[i.color]:"color"===e.context,[i.image]:"image"===e.context,[i.primary]:"primary"===e.style,[i.secondary]:"secondary"===e.style}),children:e.children})},40200:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(74059),n=/*#__PURE__*/s.n(a);let i={panel:"MjEPb","context-content":"K9dA1","context-chrome":"zu7fY",squareCornersOnMobile:"TejTM"};var r=s(60397);let o=({children:e,context:t="content",squareCornersOnMobile:s=!1})=>/*#__PURE__*/(0,r.jsx)("section",{className:n()({[i.panel]:!0,[i[`context-${t}`]]:!0,[i.squareCornersOnMobile]:s}),children:e})},71226:(e,t,s)=>{s.d(t,{m:()=>i});let a={dotGlow:"kUY6q",dot:"UNR6O"};var n=s(60397);let i=()=>/*#__PURE__*/(0,n.jsx)("div",{"aria-hidden":!0,className:a.dotGlow,children:/*#__PURE__*/(0,n.jsx)("div",{className:a.dot})})},35528:(e,t,s)=>{s.d(t,{s:()=>u});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(27699),r=s(47457),o=s(79708),l=s(43776),d=s(70426);let c={userRow:"m2Bdx",userBlock:"l4Qpd",avatarContainer:"y8wKa",small:"deHVW",rightContent:"RIcm_",header:"_25lo",medium:"L2HBn",large:"n_fvx",avatar:"Cqt6p",square:"C5tPL",circle:"QS4mY",avatarBadge:"eafbD",chrome:"hd9yU",content:"pLL0g",copy:"zmkgk",headline:"W0XIT",subheader:"x66yu",title:"d7ZC6",badges:"Kkrh1",badge:"dS8W1",label:"beV_K",info:"Fuxs_",timestamp:"QOpFt"};var m=s(60397);let p={small:36,medium:40,large:44,header:44},u=({avatarBadge:e,avatarBadgeColor:t,avatarBlog:s,avatarImage:a,avatarShape:u=l.b.Circle,avatarShowBlogCard:h=!0,content:g,context:b,label:x,rightContent:f,size:v,subheader:j,timestamp:y,title:w,tumblrmartAccessories:A,userBlockAriaLabel:C,withAvatarLink:N=!0})=>/*#__PURE__*/(0,m.jsxs)("div",{className:n()(c.userRow,c[b],c[v]),children:[/*#__PURE__*/(0,m.jsxs)("div",{"aria-label":C,className:c.userBlock,children:[/*#__PURE__*/(0,m.jsxs)("div",{className:c.avatarContainer,children:[a&&/*#__PURE__*/(0,m.jsx)(i.A,{avatarShape:u,blog:s,dimension:p[v],imageResponse:a,isLink:N,name:s?.name,showBlogCard:h,url:s&&(0,o.cm)({peeprBlogname:s.name}),wrapperClassName:n()(c.avatar,c[u])}),/*#__PURE__*/(0,m.jsx)("div",{className:c.avatarBadge,style:{backgroundColor:t},children:e})]}),/*#__PURE__*/(0,m.jsxs)(d.B,{className:c.copy,direction:"column",gap:"none",children:[/*#__PURE__*/(0,m.jsxs)("div",{className:c.headline,children:[/*#__PURE__*/(0,m.jsx)("div",{className:c.title,children:w}),A&&/*#__PURE__*/(0,m.jsx)(r.v,{areIndividualBadgesPresentationOnly:!0,badgeClassName:c.badge,badgesContainerClassName:c.badges,badgeSize:16,badgeSpacing:0,canShowBadges:!0,tumblrmartAccessories:A}),/*#__PURE__*/(0,m.jsx)("div",{className:c.label,children:x})]}),/*#__PURE__*/(0,m.jsxs)("div",{className:c.subheader,children:[/*#__PURE__*/(0,m.jsx)("div",{className:c.info,children:j}),/*#__PURE__*/(0,m.jsx)("div",{className:c.timestamp,children:y})]}),/*#__PURE__*/(0,m.jsx)("div",{className:c.content,children:g})]})]}),/*#__PURE__*/(0,m.jsx)("div",{className:c.rightContent,children:f})]})},27725:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(1226),n=s(36665),i=s(4613);let r={followButton:"mrvd7",followButtonWrapper:"SYe4j"};var o=s(60397);function l(e){let{_t:t}=(0,i.Us)(),{blog:s,onClick:l}=e,{name:d,url:c}=s,[m,p]=(0,n.useState)(e.selected??!!s.followed);return((0,n.useEffect)(()=>{void 0!==e.selected&&p(!!e.selected)},[e.selected]),s.canBeFollowed)?/*#__PURE__*/(0,o.jsx)(a.A,{blogName:d,blogUrl:c,className:r.followButton,extraFollowParams:e.extraFollowParams,following:!!m,isBlogCarousel:!0,isPeeprHeader:!1,onFollow:(e,t)=>{p(t),l?.(e,t)},wrapperClassName:r.followButtonWrapper,children:e=>e?t("Following"):t("Follow")}):null}},33116:(e,t,s)=>{s.d(t,{t:()=>o});var a=s(69998),n=s(4613),i=s(7409),r=s(60397);let o=({following:e,context:t="content",showUnfollow:s,...o})=>{let{_c:l}=(0,n.Us)(),d={following:e,...o};return e&&!s?null:/*#__PURE__*/(0,r.jsx)(i.E,{...d,renderButton:({onClick:s})=>/*#__PURE__*/(0,r.jsx)(a.tA,{context:t,onClick:s,children:e?l("Label for a button that allows you to unfollow a blog","Unfollow"):l("Label for a button that allows you to follow a blog","Follow")})})}},67370:(e,t,s)=>{s.d(t,{dl:()=>i,jv:()=>r});var a=s(20928);let n=e=>(0,a.Kk)("arrow-round",{style:{transform:`rotate(${e}deg)`,transformOrigin:"center"},size:{width:24,height:24}}),i=n(0);n(90);let r=n(180);n(270)},96288:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(20928).Kk)("gif",{altIcon:"gif-alt",size:{width:24,height:24},useAltIcon:!1})},87206:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(20928).Kk)("plus",{size:{width:16,height:16}})},30773:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(20928).Kk)("posts-all",{size:{width:24,height:24}})},42535:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(20928).Kk)("posts-empty",{size:{width:100,height:100}})},81772:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(20928).Kk)("posts-photo",{altIcon:"posts-photo-alt",size:{width:24,height:24},useAltIcon:!1})},91117:(e,t,s)=>{s.d(t,{y:()=>a});let a=(0,s(20928).Kk)("trending",{size:{width:24,height:24}})},40394:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(20928).Kk)("visibility",{size:{width:24,height:24}})},53962:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(27120),n=s(83087),i=s(4613),r=s(24972),o=s(99805),l=/*#__PURE__*/s.n(o),d=s(10936),c=s(60397);let m=function(e){let{width:t,margins:s=0,maximumNumberOfColumns:a,getNumberOfColumns:n,masonryProps:i}=e,{columnWidth:r,columnSpacing:o}=i,l=Math.min(isNaN(Number(a))?100:Number(a),n?.(t)||Math.floor((t-2*s)/(r+o)));return t?/*#__PURE__*/(0,c.jsx)(d.A,{...i,numberOfColumns:l}):null},p=({masonryProps:e,masonryRendersWithSidebar:t,maximumNumberOfColumns:s,forceNumberOfColumnsToMaximum:o})=>{let{features:{redpopDesktopVerticalNav:d,reblogRedesignNew:p}}=(0,i.Us)(),{isMobile:u}=(0,n.Ri)(),{width:h}=(0,a.DC)(),g=d&&!u;return/*#__PURE__*/(0,c.jsx)(m,{getNumberOfColumns:e=>o&&s?s:(0,r.xp)(e,t,g),masonryProps:{columnWidth:l().timelineMasonryPostWidth,columnSpacing:l().timelineMasonryPostSpacing,elementSpacing:p?0:l().timelineMasonryPostSpacing,...e},maximumNumberOfColumns:s,width:h})}},25737:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(27699),r=s(11100),o=s(43776);let l={chatListItemWrapper:"_vFtf",chatListItem:"leMd5",avatar:"xCv4H",content:"GyW8v",header:"uX3_z",name:"pTvJc",unread:"lx_bn",new:"Y8xri",preview:"FZe6i",previewTwoLines:"sAY6a",previewOneLine:"iVhqZ",isMobile:"F1eQQ"};var d=s(60397);let c=({previewContent:e,otherParticipant:t,label:s,openConversationOnClick:a,isMobile:c,unread:m,isOnline:p,conversationId:u})=>{let h=n()(l.chatListItem,{[l.isMobile]:c}),g=c?38:34,b="string"==typeof e,x=n()(l.preview,{[l.previewOneLine]:b,[l.previewTwoLines]:!b}),f=n()(l.header,{[l.unread]:m});return/*#__PURE__*/(0,d.jsxs)(r.A,{className:h,label:s,onClick:e=>a(e,{conversationId:u,otherParticipantName:t.name}),wrapperClassName:l.chatListItemWrapper,children:[/*#__PURE__*/(0,d.jsx)("div",{className:l.avatar,children:/*#__PURE__*/(0,d.jsx)(i.A,{avatarShape:o.b.Circle,dimension:g,imageResponse:t.avatar,isAdult:t.isAdult,isOnline:p})}),/*#__PURE__*/(0,d.jsxs)("div",{className:l.content,children:[/*#__PURE__*/(0,d.jsxs)("div",{className:f,children:[/*#__PURE__*/(0,d.jsx)("div",{className:l.name,children:t.name}),m&&/*#__PURE__*/(0,d.jsx)("div",{className:l.new})]}),/*#__PURE__*/(0,d.jsx)("div",{className:x,children:e})]})]})}},36737:(e,t,s)=>{s.d(t,{M:()=>q});var a=s(49315),n=s(79375),i=s(28230),r=s(66794),o=s(81896),l=s(85191),d=s(83087),c=s(28304),m=s(36665),p=s(51305),u=s(4613),h=s(57620),g=s(64145),b=s(56040),x=/*#__PURE__*/s.n(b),f=s(63985),v=s(5590),j=s(71429),y=s(25737);let w={previewContentSpecial:"GC6tB"};var A=s(60397);class C extends m.Component{render(){let{selectedBlog:e,conversations:t,openConversationOnClick:s,appContext:{_t:a}}=this.props,n=a("Conversation");return/*#__PURE__*/(0,A.jsx)(d.Ay,{children:({isMobile:a})=>t.map((t,i)=>{let r=t.participants.find(t=>t.name!==e.name),o=t.messages.data[0];if(!o)return null;let l=t.participants.find(e=>e.uuid===o.participant),d=!!l&&this.getPreviewContent(o,l.name),c=(0,v.s)(r?.secondsSinceLastActivity);return r&&/*#__PURE__*/(0,A.jsx)(y.A,{conversationId:t.id,isMobile:a,isOnline:c,label:n,openConversationOnClick:s,otherParticipant:r,previewContent:d,unread:t.unreadMessagesCount>0},i)})})}getPreviewContent(e,t){let s=[f.G.Post,f.G.Image,f.G.Sticker].includes(e.type)?w.previewContentSpecial:"";return/*#__PURE__*/(0,A.jsxs)(A.Fragment,{children:[/*#__PURE__*/(0,A.jsx)("span",{className:s,children:this.getMessagePreviewText(e,t)}),e.post&&e.type===f.G.Post&&!(0,j.X)(e.post)&&e.post?.summary&&/*#__PURE__*/(0,A.jsxs)("span",{children:['Â "',e.post.summary,'"']},"summary")]})}getMessagePreviewText(e,t){let{selectedBlog:s,appContext:{_t:a}}=this.props;switch(e.type){case f.G.Image:case f.G.Sticker:return a("%1$s sent a photo",[t]);case f.G.Post:return a(e.post&&!(0,j.X)(e.post)?"%1$s sent a post":"%1$s sent a post that's no longer available",[t]);case f.G.Text:{let t=e.participant===s.uuid?/*#__PURE__*/(0,A.jsxs)("span",{className:w.previewContentSpecial,children:[s.name,":"]}):"",a=e.content?.text;return/*#__PURE__*/(0,A.jsxs)("span",{children:[t," ",a]})}}}}let N=(0,u.Lk)(C),k={inbox:"ftU4D"},I=function({conversations:e,selectedBlog:t,openConversationOnClick:s}){return/*#__PURE__*/(0,A.jsx)("div",{className:k.inbox,children:/*#__PURE__*/(0,A.jsx)(N,{conversations:e,openConversationOnClick:s,selectedBlog:t})})};var _=s(88346),S=/*#__PURE__*/s.n(_),P=s(74059),T=/*#__PURE__*/s.n(P),R=s(27699),B=s(11100);let O=(0,s(20928).Kk)("messaging-smiley",{size:{width:49,height:49}});var L=s(78774);let E={empty:"QH5q4",prompt:"uPfvs",suggestions:"qdKhK",avatar:"e8_q_",wiggle:"d76rQ"};class M extends m.Component{constructor(...e){super(...e),S()(this,"state",{currentIndex:0}),S()(this,"refreshRandomIndexMS",3e3),S()(this,"getOnClick",e=>t=>this.props.openConversationOnClick(t,{otherParticipantName:e}))}componentDidMount(){let{suggestedParticipants:e}=this.props;0!==e.length&&(this.currentIndexInterval=setInterval(()=>{this.setState({currentIndex:(0,L.A)(0,e.length-1)})},this.refreshRandomIndexMS))}componentWillUnmount(){this.currentIndexInterval&&clearInterval(this.currentIndexInterval)}render(){let{appContext:{_t:e},suggestedParticipants:t}=this.props,{currentIndex:s}=this.state;return/*#__PURE__*/(0,A.jsxs)("div",{className:E.empty,children:[/*#__PURE__*/(0,A.jsx)("div",{className:E.smiley,children:/*#__PURE__*/(0,A.jsx)(O,{colors:{primary:x().paletteGray65},size:{width:64,height:64}})}),/*#__PURE__*/(0,A.jsx)("div",{className:E.prompt,children:e("Talk to a Tumblr")}),t.length>0&&/*#__PURE__*/(0,A.jsx)("div",{className:E.suggestions,children:t.map((t,a)=>/*#__PURE__*/(0,A.jsx)(B.A,{label:e("Start conversation"),onClick:this.getOnClick(t.name),wrapperClassName:T()(E.avatar,{[E.wiggle]:s===a}),children:/*#__PURE__*/(0,A.jsx)(R.A,{dimension:35,imageResponse:t.avatar})},a))})]})}}let z=(0,u.Lk)(M);var D=s(41507);let F=e=>`${e.id}`,W=(e,t)=>({items:e.response.conversations,link:t,nextLink:e.response.links?.next?.href,prevLink:e.response.links?.prev?.href});function U({selectedBlogName:e,openConversationOnClick:t}){let{apiFetch:s}=(0,u.Us)(),{data:n}=(0,a.I)({queryKey:["suggested-participants",e],queryFn:async()=>{try{return(await (0,p.sJ)(s,{forBlogName:e})).response.blogs}catch(e){if(!(0,g.U)(e))throw e;return[]}}}),{data:i}=(0,c.Py)();return i?.user?.isEmailVerified?/*#__PURE__*/(0,A.jsx)(z,{openConversationOnClick:t,suggestedParticipants:n??[]}):/*#__PURE__*/(0,A.jsx)("p",{className:D.A.emailNotVerified,children:/*#__PURE__*/(0,A.jsx)(l.Ay,{comment:"Text shown in messages window where there are no messages, and the user has not verified their email address",children:"There's nothing here right now. You can send new messages once you've verified your email address."})})}let H=/*#__PURE__*/(0,A.jsx)("div",{className:D.A.paginationLoader,children:/*#__PURE__*/(0,A.jsx)(i.A,{centerOrientation:"horizontal",color:x().gray65,small:!0})}),G=/*#__PURE__*/(0,A.jsx)(n.A,{}),$=e=>{let{features:{redpopRealTimeDashboardMessaging:t}}=(0,u.Us)(),s=e.uuid,{updateInboxData:a}=(0,h.Z)(),n=(0,m.useCallback)(async({apiFetch:e},n)=>{let i;return i=n?await e(n):await (s?(0,p.f_)(e,{selectedBlogUuid:s}):Promise.reject()),t&&s&&a(s,i.response),W(i,n)},[s,t,a]);return(0,m.useMemo)(()=>(0,o.R)({getStableIdForItem:F,moduleId:`messaging-${s}`,fetchResults:n}),[n,s])},q=/*#__PURE__*/(0,m.forwardRef)((e,t)=>{let{selectedBlog:s,popoverContext:a,initialLoader:n=G}=e,{isMobile:i}=(0,d.Ri)(),{openConversationWindow:o}=(0,h.Z)(),l=$(s),{refresh:c}=l.useData(),p=(0,m.useCallback)((e,t)=>{o({...t,selectedBlogName:s.name}),a?.closeContainingPopover()},[a,s.name,o]),u=(0,m.useMemo)(()=>({renderItems:e=>/*#__PURE__*/(0,A.jsx)(I,{conversations:e,openConversationOnClick:p,selectedBlog:s}),renderType:"bulk"}),[p,s]),g=(0,m.useMemo)(()=>/*#__PURE__*/(0,A.jsx)(U,{openConversationOnClick:p,selectedBlogName:s.name}),[s.name,p]);return(0,m.useImperativeHandle)(t,()=>({refresh:c}),[c]),/*#__PURE__*/(0,A.jsx)(r.n,{emptyView:g,initialLoader:n,loader:H,module:l,paginationMode:"endless",proximityThreshold:100,renderer:u,withPullToRefresh:i})})},79831:(e,t,s)=>{s.d(t,{Ay:()=>d,SZ:()=>o});var a=s(62674),n=s(36665),i=s(4613),r=s(60397);let o="moatContainer",l=(e,t)=>{let{advertiserId:s,campaignId:a,adGroupId:n,creativeId:i}=e,r=[["moatClientLevel1",s||""],["moatClientLevel2",a||""],["moatClientLevel3",n||""],["moatClientLevel4",i||""]].map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"),o=`https://z.moatads.com/${t}/moatad.js#${r}`,l=`MOAT-${t}?${r.replace(/&/g,"&amp;")}`,d=document.createElement("script");d.src=o,d.async=!0;let c=document.createElement("noscript");return c.className=l,{moatScript:d,moatNoscript:c}},d=(0,a.J)(({timelineObject:{adGroupId:e,advertiserId:t,campaignId:s,creativeId:a},setInViewCallback:o})=>{let d=!(e&&t&&s&&a),{features:{useMoat:c}}=(0,i.Us)(),m=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!c)return;let n=m.current,{moatScript:i,moatNoscript:r}=l({adGroupId:e,advertiserId:t,campaignId:s,creativeId:a},"tumblrdisplay725780052135");o?.(()=>{n?.appendChild(i),n?.appendChild(r)})},[e,t,s,a,o,c]),c&&!d?/*#__PURE__*/(0,r.jsx)("div",{className:"moatScriptsContainer",ref:m}):null},!0)},19065:(e,t,s)=>{s.d(t,{N:()=>el,A:()=>ed});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(74059),r=/*#__PURE__*/s.n(i),o=s(79831),l=s(3488),d=s(49723),c=s(36490),m=s(96883),p=s(36665),u=s(54934);let h=s.p+"src/assets/monetization/html/iab-safeframe/sf-843dd697.html",g={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0},b=/*#__PURE__*/function(e){return e.GeometryUpdated="geom-update",e}({});var x=s(76383);class f extends x.A{constructor(e){super(`Could not load the Safeframe Library with error: ${e}`,"SafeframeLoadError")}}var v=s(99805),j=/*#__PURE__*/s.n(v),y=s(87203);let w=()=>window.$sf?.host?.boot!==void 0,A=(e,t,s)=>{let a=N(e),n=s?.self&&C(s.self),i=a&&k(a);return t===b.GeometryUpdated&&!!a&&!!n&&a.parentElement?.dataset.isResizable==="true"&&!!i&&(I(a,n),I(i,n),!0)},C=e=>{if(!e||!e.w||!e.h)return null;let t=function(e=j().postWidth){return Math.min(e,y.jq()?.innerWidth||0)}(j().postWidth),s=t/e.w;return 1===s?null:{w:t,h:Math.ceil(e.h*s)}},N=e=>document.getElementById(`sf_pos_rel_el_${e}`),k=e=>e.querySelector("iframe"),I=(e,t)=>{e.style.width=`${t.w}px`,e.style.height=`${t.h}px`},_=()=>{new window.$sf.host.Config({renderFile:h,positions:{},onPosMsg:A})},S=()=>new Promise((e,t)=>{let s=0,a=()=>w()?e():s>=10?t("Exceeded max attempts to check for the Safeframe API."):void(s+=1,setTimeout(a,1e3));a()}),P=async()=>{try{return window.$sf||(await s.e(6884).then(s.t.bind(s,3195,23)),await s.e(8567).then(s.t.bind(s,78438,23)),await s.e(7848).then(s.t.bind(s,31167,23)),_()),await S()}catch(e){throw new f(e)}};var T=s(60397);class R extends p.Component{constructor(...e){super(...e),n()(this,"createHtmlField",()=>{let{frameUrl:e,conf:t,html:s}=this.props,a=JSON.stringify(t);if(e)return`
        {
          "id" : "${t.id}",
          "html" : "<script src=\\"${e}\\"></script>",
          "conf" : ${a}
        }
        `;if(s){let e=JSON.stringify(s);return`
        {
          "id" : "${t.id}",
          "html" : ${e},
          "conf" : ${a}
        }
        `}return""})}componentDidUpdate(e){(this.props.html!==e.html||this.props.frameUrl!==e.frameUrl)&&(this.generateSafeframeData(),w()&&(window.$sf.host.nuke(this.props.conf.id),window.$sf.host.boot()))}async componentDidMount(){if(this.generateSafeframeData(),R.HAS_BEEN_INITIALIZED)w()&&window.$sf.host.boot();else{let e=Node.prototype.removeChild;Node.prototype.removeChild=function(t){return t.parentNode!==this?(t.remove&&t.remove(),t):e.call(this,t)},await P(),R.HAS_BEEN_INITIALIZED=!0}}componentWillUnmount(){this.props.conf.id&&w()&&window.$sf.host.nuke(this.props.conf.id)}render(){return/*#__PURE__*/(0,T.jsx)("div",{id:this.props.conf.id})}generateSafeframeData(){let{adRequestContext:{currentAdRequests:e},conf:{id:t}}=this.props,s=document.createElement("script");if(s.className="sf_data",s.type="text/x-safeframe",s.innerHTML=this.createHtmlField(),t){let s=e[t];s?.setStartTime()}document.body.appendChild(s)}}n()(R,"HAS_BEEN_INITIALIZED",!1);let B=(0,u.bb)(R,{adRequestContext:!0}),O=class{constructor(e,t){if("object"==typeof e){if(this.id=e.id,this.dest=e.dest||t,this.bg=e.bg||"transparent",this.tgt=e.tgt||"_top",this.css=e.css,this.w="string"==typeof e.w?String(e.w):Number(e.w)||0,this.h=Number(e.h)||0,this.z=Number(e.z)||0,this.supports=e.supports||g,this.w&&this.h)this.size="string"==typeof this.w?"":`${this.w}x${this.h}`;else{let t=e.size;if(t){let e=t.split(/x/gi);this.w=Number(e[0])||0,this.h=Number(e[1])||0,this.size=t}else this.size=""}}else this.id=e,this.dest=t}};var L=s(18270),E=s(98323),M=s(93448),z=s(83322),D=s(84072);let F=e=>!!e.streamGlobalPosition||e.supplyProviderId===M._.DASHBOARD;var W=s(60298),U=s(76931),H=s(79393),G=s(21540),$=s(28230),q=s(88571),V=s(94048),X=s(66869),K=s(4613),Q=s(25183),Y=s(56281),J=s(68484),Z=s(11100),ee=s(13275),et=s(48683);let es=e=>{let{headerText:t,bodyText:s,buttonText:a,onClose:n}=e;return/*#__PURE__*/(0,T.jsx)(ee.A,{compact:!0,modalWrapperClass:"rewardModal",onClose:n,showClose:!1,theme:ee.v.Default,children:/*#__PURE__*/(0,T.jsx)("div",{className:et.A.modalContainer,children:/*#__PURE__*/(0,T.jsxs)("div",{className:et.A.modal,children:[/*#__PURE__*/(0,T.jsx)("h3",{className:et.A.modalHeader,children:t}),/*#__PURE__*/(0,T.jsx)("p",{className:et.A.modalBody,children:s}),/*#__PURE__*/(0,T.jsx)(Z.A,{className:et.A.modalButton,onClick:n,children:a})]})})})},ea=e=>{let{_c:t,apiFetch:s,configRef:a}=(0,K.Us)(),{toggleToast:n}=(0,Y.Y)(),{logEvent:i}=(0,Q.Ul)(),r=(e,t)=>{i({eventName:e,eventDetails:{...t,ad_id:y.adId,ad_instance_id:y.adInstanceId,campaign_id:y.campaignId,ad_provider_id:y.adProviderId,ad_request_id:y.adRequestId,supply_request_id:y.supplyRequestId}})},o=(0,p.useRef)(""),l=(0,p.useRef)(null),[d,c]=(0,p.useState)(!1),[m,u]=(0,p.useState)(!1),h=(0,p.useRef)(0),g=e=>{b.current=e,u(e)},b=(0,p.useRef)(m);b.current=m;let[x,f]=(0,p.useState)(!1),[v,j]=(0,p.useState)(!1),{ad:y,onEmpty:w,onFilled:A,onError:C,onAdReported:N,showReportAd:k,presentationStyle:I}=e,_=a?.rewardedAdTimeoutSeconds??5,S=(0,p.useRef)(null),[P,R]=(0,p.useState)(!1),B=()=>"true"===J.R.getItem(G.E9);(0,p.useEffect)(()=>()=>{S.current&&(clearTimeout(S.current),S.current=null)},[]);let O=e=>{(0,X.Ay)(s).rewardedAdFinishAd(o.current).fetch().then(()=>{o.current="",e()},e=>{c(!1),g(!1),j(!0),r(V.R.TSPAdFreeFailedToGrantReward,{error_type:e?.name,error_description:e?.message})})},E=()=>{n(t("Toast notification on Tumblr Ad-Free landing page after a user finishes watching a rewarded video ad.","Enjoy 30 min of Ad-free browsing"),"success","rewarded-ad-granted")},M=y.actions?.[0]&&{...y.actions[0],tspSkipLightbox:!1};return/*#__PURE__*/(0,T.jsxs)(T.Fragment,{children:[/*#__PURE__*/(0,T.jsx)(L.A,{ctaOnClick:()=>{if(r(V.R.TSPAdFreeRewardedAdButtonClick),B()){r(V.R.TSPAdFreeCTAButtonClickedWithAdBlockerEnabled),R(!0);return}g(!0),h.current=Date.now(),(0,X.Ay)(s).rewardedAdStartAd(y).fetch().then(e=>{o.current=e.response.token,c(!0)},e=>{j(!0),g(!1),r(V.R.TSPAdFreeFailedToGenerateJWToken,{error_type:e?.name,error_description:e?.message})}),S.current=setTimeout(()=>{b.current&&(f(!0),c(!1),g(!1),r(V.R.TSPAdFreeRewardedAdRequestTimeout),O(()=>{r(V.R.TSPAdFreeRewardGrantedAfterTimeout,{error_description:"The request timed out. It took longer for the Google SDK to respond",error_type:"ad_request_timeout"})}))},1e3*_)},isNarrow:I===H.A.masonry,onAdReported:N,presentationStyle:I,showReportAd:k,timelineObject:{...y,actions:M?[M]:[]}}),P&&/*#__PURE__*/(0,T.jsx)(es,{bodyText:t("Pop-up message when the user has ad-block enabled and we show a rewarded ad.","Looks like you have an ad-blocker enabled. Please disable it to watch the ad and get 30 minutes of ad-free browsing."),buttonText:t("Button for dismissing pop-up when the user has ad-block enabled and we show a rewarded ad.","Dismiss"),headerText:t("Header for pop-up message when the user has ad-block enabled and we show a rewarded ad.","Ad-blocker detected"),onClose:()=>{R(!1)}}),d&&/*#__PURE__*/(0,T.jsx)(q.x,{autoRefreshWhenUnfilled:!0,onEmpty:()=>{w?.(),O(()=>{f(!0),r(V.R.TSPAdFreeAlertDidRender,{loading_time:h.current-Date.now()}),c(!1),g(!1),r(V.R.TSPAdFreeRewardGrantedAfterError,{error_description:"No fill for a rewarded ad",error_type:"no_fill"})})},onError:C,onFilled:A,onSlotClosed:()=>{o.current="",n(t("Toast notification on Tumblr Ad-Free landing page when a user closes rewarded video ad before it finishes.","Almost made it to ad-free browsing!"),"info","rewarded-ad-closed"),c(!1),r(V.R.TSPAdFreeRewardSkipped),setTimeout(()=>{window.location.assign("/dashboard")},1500)},onSlotGranted:()=>{r(V.R.TSPAdFreeRewardEarned),O(()=>{E(),setTimeout(()=>{window.location.assign("/dashboard")},1500)})},onSlotReady:e=>(l.current=e,r(V.R.TSPAdFreeRewardedAdDidRender,{loading_time:h.current-Date.now()}),g(!1),l.current.makeRewardedVisible(),!1),skipLogging:!0}),m&&/*#__PURE__*/(0,T.jsx)("div",{className:et.A.loaderContainer,children:/*#__PURE__*/(0,T.jsx)("div",{className:et.A.loader,children:/*#__PURE__*/(0,T.jsx)($.A,{})})}),x&&/*#__PURE__*/(0,T.jsx)(es,{bodyText:t("Pop-up message when we can't load an ad so we just reward a user with ad-free browsing.","Well that didn't work! But you did a thing, so have 30 minutes of Ad-free on us."),buttonText:t("Button for dismissing pop-up after getting ad free browsing experience for a limited time","Dismiss"),headerText:t("Header for pop-up message when we can't load a rewarded ad and just give the reward to the user","Congrats"),onClose:()=>{f(!1),E(),setTimeout(()=>{window.location.assign("/dashboard")},1500)}}),v&&/*#__PURE__*/(0,T.jsx)(es,{bodyText:t("Pop-up message when backend fails to grant a reward to user.","We're sorry. Something went wrong. Please try again later."),buttonText:t("Button label for dismissing pop-up after getting an error from the backend when trying to grant a reward to user","Dismiss"),headerText:t("Header for pop-up message when the backend fails to grant a reward to user","Oops"),onClose:()=>{j(!1),c(!1),g(!1)}})]})},en=(e,t)=>{window.native=window.native||[],window.native?.push({passbackHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage(`{"flurryMsg": {"noAd": "${e}"}}`,"*")},successHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage(`{"flurryMsg": {"adAvailable": "${e}"}}`,"*")},errorHandler:(t={})=>{let{error:s="Unknown Flurry Error"}=t;window.top&&window.top.postMessage&&window.top.postMessage(`{"flurryMsg": {"adError": "${e}", "errorMsg": "${s}"}}`,"*")},code:t}),window.apiKey="XQN3HX9KDMPKQNDS5DJK",window.publisherUrl="https://www.tumblr.com/"},ei=(e,t,s="")=>{let a=window.getSuid?.(),n={dcn:"8a969588016f6ff76855f7d814460018",pos:t,secure:"1"};a&&(n["u(id)"]=a),s&&(n.us_privacy=s),e&&(n["p(supplyId)"]=e),window.admaxAd?.(n),setTimeout(()=>{let t=document.querySelector('div[id^="ad"]');if(t){let s=Array.from(t.childNodes).find(e=>8===e.nodeType);s?.textContent?.trim()==="No Ads"&&window.top.postMessage(`{"oneMobileMsg": {"noAd": "${e}"}}`,"*")}else window.top.postMessage(`{"oneMobileMsg": {"noAd": "${e}"}}`,"*")},7e3)};var er=s(15192);let eo=()=>"https://s.yimg.com/dy/ads/native.js";class el extends p.Component{constructor(...e){super(...e),n()(this,"safeFrameScriptMapping",{[z.Sk.Google]:()=>"",[z.Sk.GoogleRewarded]:()=>"",[z.Sk.Smart]:()=>"",[z.Sk.Teads]:e=>`<script src="//a.teads.tv/page/${e}/tag?supply_id=${this.props.supplyOpportunityInstanceId}"></script>`,[z.Sk.OneMobile]:e=>`<script src="https://web.ssp.yahoo.com/js/admax/admax_api_https.js"></script>
    <script>
    const supplyOpportunityInstanceId = "${this.props.supplyOpportunityInstanceId}"
    const placementId = "${e}"
    const ccpaPrivacyConsentString = "${this.props.adContext?.privacy?.ccpaPrivacyString||""}"
    const init = ${ei}
    init(supplyOpportunityInstanceId, placementId, ccpaPrivacyConsentString)
    </script>`,[z.Sk.Flurry]:e=>`<script type="text/javascript">
    (function() {
      const supplyOpportunityInstanceId = "${this.props.supplyOpportunityInstanceId}"
      const placementId = "${e}"
      const init = ${en};
      init(supplyOpportunityInstanceId, placementId)
    })();
    </script>
    <script async src="${eo()}"></script>`})}componentWillUnmount(){let{ad:e}=this.props;(0,z.xu)(e)&&e.clientSideAdType===z.Sk.Teads&&window.teads?.cleanup()}render(){let{ad:e,presentationStyle:t,streamPosition:s,onEmpty:a,onFilled:n,onError:i,adContext:{adPlacementConfiguration:p},appContext:{features:u},updateAdInstance:h,onAdReported:g,showReportAd:b}=this.props;if(!e)return null;let x=this.generateSafeFrameConfig();if((0,z.xu)(e)||e.adProviderId===z.sf.TripleliftBanner||(0,z.e4)(e)){(0,z.LO)(e)&&e.adProviderId===z.sf.TripleliftBanner&&h?.({creativeId:e.creativeId,adProviderId:e.adProviderId,adBody:e?.adm?.toString(),advertiserDomain:e?.advertiserDomain?.[0],advertiserName:"Triple Lift, Inc."});let t=/*#__PURE__*/(0,T.jsx)(B,{conf:x,html:this.generateHTMLFromAd(e)},x.id);if((0,z.xu)(e)&&e.clientSideAdType===z.Sk.Google){let s=`google_ad_${e.mediationCandidateId}`,r=e.supplyProviderId===M._.BLOG_PAGE,o=p?.placements?.[D.xQ(e.adSourceTag)];t=u.prebidAdInfeed?/*#__PURE__*/(0,T.jsx)(d.ve,{adUnitId:o?.adPlacementId,onEmpty:a,onError:i,onFilled:n,onPeepr:r,slotId:s,updateAdInstance:h}):/*#__PURE__*/(0,T.jsx)(l.Ay,{adUnitId:o?.adPlacementId,onEmpty:a,onError:i,onFilled:n,onPeepr:r,slotId:s,updateAdInstance:h})}else if((0,z.xu)(e)&&e.clientSideAdType===z.Sk.Smart){let r=`${s}_${e.supplyOpportunityInstanceId}`;t=/*#__PURE__*/(0,T.jsx)(c.Ay,{onEmpty:a,onError:i,onFilled:n,slotId:r,supplyProviderId:this.props.location})}return/*#__PURE__*/(0,T.jsxs)("div",{className:r()(o.SZ,{[er.A.adTimelineObject]:F(e)}),"data-is-resizable":(0,z.xu)(e)&&!(0,z.e1)(e),style:{width:x.w},children:[/*#__PURE__*/(0,T.jsx)(o.Ay,{timelineObject:e}),t]})}if((0,z.Tt)(e)&&t){let s=t===H.A.masonry;h?.({adProviderId:z.sf.Smart,advertiserId:e?.advertiserId,advertiserName:e?.sponsoredBy||e?.blogName,advertiserUrl:e?.blog?.url,creativeId:e.creativeId,campaignId:e?.campaignId,adId:e?.adId,blogId:e?.blog.uuid,postId:e?.id.toString(),isTumblrSponsoredPost:!0,isBlaze:!!e?.isBlazed,isWordPressBlaze:e?.adProviderId===z.sf.Smart&&e?.advertiserId===z.Fk.WordPress,isBlazePro:e?.adProviderId===z.sf.Smart&&e?.advertiserId===z.Fk.BlazePro});let r=(0,W.i)(e.actions);return r?.text&&r?.urls.web&&r.urls.web?.includes("rewarded-video")?/*#__PURE__*/(0,T.jsx)(ea,{ad:e,onAdReported:g,onEmpty:a,onError:i,onFilled:n,presentationStyle:t,showReportAd:b}):/*#__PURE__*/(0,T.jsx)(L.A,{getAdInstance:this.props.getAdInstance,isNarrow:s,onAdReported:g,presentationStyle:t,showReportAd:b,timelineObject:e})}return(0,z.mB)(e)?/*#__PURE__*/(0,T.jsx)("div",{className:r()(er.A.listTimelineObject,{[er.A.reblogRedesignEnabled]:u.reblogRedesignNew}),children:/*#__PURE__*/(0,T.jsx)(m.Ay,{timelineObject:e,updateAdInstance:h})}):null}generateHTMLFromAd(e){let{appContext:{features:t},adContext:{adPlacementConfiguration:s},location:a=M._.DASHBOARD,streamPosition:n}=this.props;if((0,z.xu)(e)&&e.clientSideAdType in this.safeFrameScriptMapping){let i=(0,U.LB)(e.clientSideAdType,e.adSourceTag,s,a,n,t);return this.safeFrameScriptMapping[e.clientSideAdType](i)}return e&&this.isAdmAd(e)&&"string"==typeof e.adm?e?.adm:""}generateSafeFrameConfig(){let e;let{supplyOpportunityInstanceId:t,ad:s,presentationStyle:a=H.A.desktop,appContext:{getBrowserInfo:n}}=this.props;return e=s&&this.isAdmAd(s)?{w:"auto",h:s?.height||"auto"}:{w:n().deviceType===E.Ay.Desktop?a?.desktopPostWidth??H.A.desktop.desktopPostWidth:a?.mobilePostWidth??H.A.mobile.mobilePostWidth,h:(0,z.xu)(s)?a?.maximumContentHeight??"auto":0},new O({id:(s?.supplyOpportunityInstanceId||t)+(s?.id||s.adInstanceId),dest:(s?.supplyOpportunityInstanceId||t)+(s?.id||s.adInstanceId),supports:{"exp-push":1},...e})}isAdmAd(e){return!!((0,z.e4)(e)||(0,z.mB)(e)&&e.adProviderId===z.sf.TripleliftBanner)}}let ed=(0,u.bb)(el,{appContext:!0,adContext:!0})},3488:(e,t,s)=>{s.d(t,{Ay:()=>y,J8:()=>f,PX:()=>j,Q$:()=>x,gV:()=>v});var a=s(30157),n=s(15192),i=s(28304),r=s(36665),o=s(55321),l=s(94048),d=s(83322),c=s(4613),m=s(25183),p=s(63140),u=s(49723),h=s(60397);let g="google-ads-script",b=["fluid"],x="/22749103964/Right.Rail",f=e=>{let t=document.createElement("script");t.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",t.async=!0,t.nonce=e,t.id=g,document.head.appendChild(t)},v=()=>document.getElementById(g),j=e=>{let t=window;return t.googletag?.pubads?.()?.getSlots?.()?.filter(t=>t.getSlotElementId()===e)||[]},y=e=>{let{cspNonce:t,isAdmin:s}=(0,c.Us)(),{logEvent:g}=(0,m.Ul)(),{isPending:x,data:f}=(0,i.Py)(),{isPeeprShowing:y,isModalShowing:w,isModalAdSafe:A}=(0,p.w)(),{adUnitId:C,slotId:N}=e,[k]=(0,o.ok)(),I=r.useRef(),_=r.useRef(),[S,P]=r.useState(0),T=r.useRef(null),R=r.useRef(!1),B=!w||A,O=r.useCallback(([e])=>{R.current||_.current===e.target.clientHeight||(_.current=e.target.clientHeight,P(0))},[_]);r.useEffect(()=>(I.current?.disconnect(),I.current||"undefined"==typeof ResizeObserver||(I.current=new ResizeObserver(O)),T.current&&I.current?.observe(T.current),()=>{I.current?.disconnect()}),[T,O]);let L=e=>{g({eventName:l.R.GoogleAdFilled,eventDetails:{slotId:N,event:e}})},E=()=>{let t=window;e.onImpressionViewable&&t.googletag?.pubads?.()?.removeEventListener?.("impressionViewable",e.onImpressionViewable),t.googletag?.cmd.push(()=>{t.googletag?.destroySlots(j(N))}),e.onCleanUp?.()},M=(a,n,i)=>{if(x)return;let r=window;if(r.googletag||(r.googletag={},r.googletag.cmd=[]),(!n||e.onPeepr)&&i){if(R.current=!1,!C){e.onError?.();return}}else{R.current=!0,_.current&&_.current>0&&P(_.current);return}r.googletag?.cmd.push(()=>{r.googletag?.defineSlot(C,e.adSizes??b,a)?.setForceSafeFrame(!0)?.addService(r.googletag?.pubads()),r.googletag?.pubads()?.setTargeting("nonce",t)?.setTargeting("is_admin",s?"1":"0");let n=f?.user?.userUuid;n&&r.googletag?.pubads()?.setPublisherProvidedId(n)?.setTargeting("user",n),r.googletag?.enableServices(),r.googletag?.pubads().addEventListener("slotRenderEnded",t=>{if(t.slot.getSlotElementId()===a){if(t.isEmpty)e.onEmpty?.();else{L(t),e.onFilled?.();let s={adProviderId:d.Sk.Google,advertiserName:"Google LLC"+" (Advertiser "+t.slot.getResponseInformation()?.advertiserId+")",adId:t.slot.getEscapedQemQueryId?.()};u.cZ(t.advertiserId?.toString())||e.updateAdInstance?.(s)}}}),e.onImpressionViewable&&r.googletag?.pubads().addEventListener("impressionViewable",e.onImpressionViewable),e.beforeDisplay?.(a,C),e.disableAutoDisplay||r.googletag?.display(a)})};return r.useEffect(()=>{if(!v()){let e=window;e.PWT=e.PWT||{HookForPrebidSetConfig:void 0},e.PWT.HookForPrebidSetConfig=()=>{e.owpbjs?.setUserIdentities({pubProvidedEmailHash:{MD5:f?.user?.emailHash?.md5,SHA1:f?.user?.emailHash?.sha1,SHA256:f?.user?.emailHash?.sha256}})},k.get("pwtv")&&s?(0,a.gm)(t,k.get("pwtv")):(0,a.gm)(t)}return M(N,!!y,B),E},[N,y,e.onPeepr,B]),/*#__PURE__*/(0,h.jsx)("div",{className:n.A.inFeedBanner,"data-testid":N,id:N,ref:T,style:S>0?{minHeight:`${S}px`}:{}})}},88571:(e,t,s)=>{s.d(t,{A:()=>m,x:()=>c});var a=s(3488),n=s(30157),i=s(36665),r=s(94048),o=s(68437),l=s(4613),d=s(25183);let c=e=>{let t="production"===o.A.Development?"/22639388115/rewarded_web_example":"/22749103964/rewarded-ad-web",{cspNonce:s}=(0,l.Us)(),{logEvent:c}=(0,d.Ul)(),[m,p]=(0,i.useState)(1),u=(0,i.useRef)(null),h=null,g=(t,s)=>{e.skipLogging||c({eventName:t,eventDetails:{event:s,refreshCount:m}})},b=()=>{let e=window;if(u.current&&(clearTimeout(u.current),u.current=null),h){let t=e.googletag?.pubads().getSlots().filter(e=>e.getSlotElementId()===h?.getSlotElementId());t&&t.length&&e.googletag?.destroySlots(t)}},x=t=>{t.slot.getSlotElementId()===h?.getSlotElementId()&&(!e.onSlotReady||e.onSlotReady?.(t))&&(t.makeRewardedVisible(),window.googletag?.pubads().removeEventListener("rewardedSlotReady",x))},f=t=>{t.slot.getSlotElementId()===h?.getSlotElementId()&&(e.onSlotClosed?.(t),b(),g(r.R.RewardedAdClosed,t),window.googletag?.pubads().removeEventListener("rewardedSlotClosed",f))},v=t=>{t.slot.getSlotElementId()===h?.getSlotElementId()&&(e.onSlotGranted?.(t),b(),g(r.R.RewardedAdGranted,t),window.googletag?.pubads().removeEventListener("rewardedSlotGranted",v))},j=t=>{t.slot.getSlotElementId()===h?.getSlotElementId()&&(t.isEmpty?e.autoRefreshWhenUnfilled?(g(r.R.GoogleRewardedAdUnfilled,t),m<=10&&(u.current=setTimeout(()=>{p(e=>e+1)},3e3*m))):e.onEmpty?.():(g(r.R.GoogleRewardedAdFilled,t),e.onFilled?.()))},y=()=>{let e=window;e.googletag||(e.googletag={},e.googletag.cmd=[]),e.googletag?.cmd.push(()=>{e.googletag&&(e.googletag?.pubads().setForceSafeFrame(!0),(h=e.googletag.defineOutOfPageSlot(t,e.googletag?.enums.OutOfPageFormat.REWARDED))&&(h.addService(e.googletag.pubads()),e.googletag?.pubads().addEventListener("rewardedSlotReady",x).addEventListener("rewardedSlotClosed",f).addEventListener("rewardedSlotGranted",v).addEventListener("slotRenderEnded",j),e.googletag?.enableServices(),e.googletag?.display(h)))})};return(0,i.useEffect)(()=>((0,a.gV)()||(0,n.gm)(s),y(),b),[m]),null},m=c},49723:(e,t,s)=>{s.d(t,{cZ:()=>p,ve:()=>u});var a=s(3488),n=s(5388),i=s(94048),r=s(83322),o=s(25183),l=s(70889),d=s(99805),c=/*#__PURE__*/s.n(d),m=s(60397);function p(e){return"5326195875"===e}let u=e=>{let{slotId:t}=e,{logEvent:s}=(0,o.Ul)(),{columnWidth:d}=(0,l.cg)()||{},p=[];p=d===n.Qp?[[250,250],[240,400],[250,360],[200,200]]:d===c().timelineMasonryPostWidth?[[300,600],[300,250],[250,250],[250,360],[240,400],[200,200]]:[[300,600],[300,250],[336,280],[480,320],[320,480],"fluid"];let u=e=>{s({eventName:i.R.PrebidAdFilled,eventDetails:{slotId:t,event:e}})},h=()=>{s({eventName:i.R.PrebidAdUnfilled,eventDetails:{slotId:t}})},g=()=>(0,a.PX)(t);return/*#__PURE__*/(0,m.jsx)(a.Ay,{adSizes:p,adUnitId:e.adUnitId,beforeDisplay:()=>{let s=window;s.PWT?.requestBids(s.PWT?.generateConfForGPT(g()),function(a){a.length>0?a.forEach(s=>{if(u(s),t===s.divId){let t={adProviderId:r.hT.Prebid,adId:s?.bidData?.kvp?.hb_adid,creativeId:s?.bidData?.kvp?.hb_crid,advertiserName:s?.bidData?.kvp?.hb_bidder,adBody:s?.bidData?.wb?.adHtml};e.updateAdInstance?.(t)}}):h(),g().length>0&&(s.PWT?.addKeyValuePairsToGPTSlots(a),s.googletag?.display(t))})},disableAutoDisplay:!0,onEmpty:e.onEmpty,onError:e.onError,onFilled:e.onFilled,onPeepr:e.onPeepr,slotId:t,updateAdInstance:e.updateAdInstance})}},30157:(e,t,s)=>{s.d(t,{gm:()=>i});var a=s(3488);let n="prebid-ads-script",i=(e,t)=>{if(r())return;let s=window;s.PWT=s.PWT||{jsLoaded:void 0,HookForPrebidSetConfig:void 0},s.PWT.jsLoaded=s.PWT.jsLoaded||(()=>{(0,a.J8)(e)});let i=document.createElement("script");i.async=!0,i.nonce=e,i.id=n,i.src="//ads.pubmatic.com/AdServer/js/pwt/163304/10410"+(t?`/${t}`:"")+"/pwt.js",document.head.appendChild(i),setTimeout(()=>{(0,a.gV)()||(0,a.J8)(e)},1e3)},r=()=>document.getElementById(n)},36490:(e,t,s)=>{s.d(t,{Ay:()=>b});var a=s(28304),n=s(36665),i=s(94048),r=s(93448),o=s(83322),l=s(4613),d=s(33309),c=s(60397);let m="smart-ads-script",p="https://www15.smartadserver.com",u={RIGHT_RAIL:112148,RIGHT_RAIL_SLIM:120684,VIDEO_HUBS:118954},h={DASHBOARD_DESKTOP_WEB:1485677,BLOG_POST_PAGES_DESKTOP_WEB:1485682,BLOG_POST_PAGES_LOGGED_OUT_DESKTOP_WEB:1494033,VIDEO_HUBS_PAGES_DESKTOP_WEB:1723866},g=(e,t,s)=>`sas_${t}_${e}`+(s?`_${s}`:""),b=e=>{let{supplyProviderId:t=r._.RIGHT_RAIL,slotId:s="",houseAd:b=!1,FallbackAdComponent:x=null,logRightRailData:f=!1,fallbackAdProps:v={supplyProviderId:t,logRightRailData:f}}=e,j=(0,d.A)(),{cspNonce:y,isLoggedIn:w,logEvent:A,tumblrIponwebUserId:C,features:N,isAdmin:k}=(0,l.Us)(),[I,_]=(0,n.useState)("initializing"),{isPending:S,data:P}=(0,a.Py)(),T=N.rightRailEnableSmart,R=(0,n.useRef)(null),B=(0,n.useRef)(null),O={[r._.RIGHT_RAIL]:{pageId:h.DASHBOARD_DESKTOP_WEB,formatId:N.redpopDesktopVerticalNav?u.RIGHT_RAIL_SLIM:u.RIGHT_RAIL},[r._.PEEPR_RIGHT_RAIL]:{pageId:w?h.BLOG_POST_PAGES_DESKTOP_WEB:h.BLOG_POST_PAGES_LOGGED_OUT_DESKTOP_WEB,formatId:u.RIGHT_RAIL},[r._.TUMBLR_TV]:{pageId:h.VIDEO_HUBS_PAGES_DESKTOP_WEB,formatId:u.VIDEO_HUBS}},L=O[t]?O[t]:O[r._.RIGHT_RAIL],E=g(t,L.formatId,s),M=()=>document.getElementById(m),z=()=>{let e=window;e.sas?.events.off("ad",U,E),e.sas?.events.off("noad",H,E),e.sas?.events.off("error",G,E),e.sas?.clean(E),B.current&&R.current&&B.current.unobserve(R.current)},D=t=>{let s=window;if(t.data&&t.data?.type==="SmartAdCallBack"&&t.origin===s.location.origin){let s=t.data;s.data&&s.data.sas_tagId===E&&e.updateAdInstance?.({adProviderId:o.Sk.Smart,creativeId:s.data.sas_rtb_creativeId||s.data.sas_creativeId,advertiserId:s.data.sas_rtb_advertiserId||s.data.sas_advertiserId,campaignId:s.data.sas_rtb_campaignId||s.data.sas_campaignId,advertiserName:s.data.sas_rtb_advertiserIdName||"Smart AdServer SAS"})}t.origin===p&&t.data&&"sasRefresh"===t.data.action&&s.sas?.refresh()},F=()=>{let e=window,t=document.createElement("script");t.src="https://ced.sascdn.com/tag/3905/smart.js",t.async=!0,t.nonce=y,t.id=m,document.body.appendChild(t),e.sas||(e.sas={cmd:[],call:()=>null,setup:()=>null,render:()=>null,refresh:()=>void 0,clean:()=>void 0,events:{history:()=>[{}],on:()=>void 0,off:()=>void 0}}),e.sas?.cmd.push(function(){e.sas?.setup({networkid:3905,domain:p,async:!0})}),window.addEventListener("message",D)},W=e=>window?.sas?.events.history("call").map(e=>e?.data?.ad.formats[0].tagId).includes(e),U=()=>{f&&A({eventName:i.R.RightRailAdRender,eventDetails:{rendered:"true"}}),e.onFilled?.()},H=()=>{j.current&&_("noad"),e.onEmpty?.()},G=()=>{j.current&&_("error"),e.onError?.()},$=()=>{if(w&&S)return;let e={};e.nonce=y,k&&(e.is_admin=1),b&&(e.house_ad=1),w&&(C&&(e.user=C),P?.isLoggedIn&&P.user.bornYear&&(e.age=new Date().getFullYear()-P.user.bornYear));let t=window;if(W(E))t.sas?.events.on("ad",U,E),t.sas?.events.on("noad",H,E),t.sas?.events.on("error",G,E),t.sas?.refresh();else{let s=Object.entries(e).map(e=>e.join("=")).join(";");L.formatId===u.RIGHT_RAIL||L.formatId===u.RIGHT_RAIL_SLIM?t.sas?.cmd.push(function(){t.sas?.events.on("ad",U,E),t.sas?.events.on("noad",H,E),t.sas?.events.on("error",G,E),t.sas?.call("onecall",{siteId:471751,pageId:L.pageId,formats:[{id:L.formatId,tagId:E}],target:s}),t.sas?.render(E)}):L.formatId===u.VIDEO_HUBS&&(B.current=new IntersectionObserver((e,a)=>{e.forEach(e=>{e.isIntersecting&&e.target.id===E&&(t.sas?.cmd.push(function(){t.sas?.events.on("ad",U,E),t.sas?.events.on("noad",H,E),t.sas?.events.on("error",G,E),t.sas?.call("std",{siteId:471751,pageId:L.pageId,formatId:L.formatId,tagId:E,target:s})}),a.unobserve(e.target))})}),R.current&&B.current.observe(R.current))}};return((0,n.useEffect)(()=>{if(T)return M()||F(),z},[]),(0,n.useEffect)(()=>{if(T)return $(),z},[S,P]),T&&"noad"!==I&&"error"!==I)?/*#__PURE__*/(0,c.jsx)("div",{"data-testid":E,id:E,ref:R}):x?/*#__PURE__*/(0,c.jsx)(x,{updateAdInstance:e.updateAdInstance,...v}):null}},43397:(e,t,s)=>{s.d(t,{Jy:()=>j,Ay:()=>w});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(36490),r=s(62674),o=s(75185),l=s(36665),d=s(77008);let c=/*#__PURE__*/function(e){return e.NO_FILL="no_fill",e.OTHER="other",e}({});var m=s(83322);let p={[m.Sk.Google]:"googleNativeDashboardHydraSource",[m.Sk.GoogleRewarded]:"googleRewardedPremiumHydraSource",[m.Sk.Teads]:"teadsHydraSource",[m.Sk.Flurry]:"flurryHydraSource",[m.Sk.OneMobile]:"oneMobileHydraSource",[m.Sk.IponWeb]:"iponwebMrecHydraSource",[m.Sk.Smart]:"smartBannerHydraSource",[m.Sk.Post]:"",[m.sf.TripleliftBanner]:"",[m.sf.Smart]:"smartHydraSource",[m.sf.TripleliftNative]:"tripleliftNativeHydraSource",[m.sf.Smaato]:"smaatoHydraSource"};var u=s(93448),h=s(84072),g=s(54934),b=s(76931),x=s(64942),f=s(19869),v=s(79228);class j extends l.Component{constructor(...e){super(...e),n()(this,"state",{currentIndex:0,currentClientSideAdType:void 0,served:!1}),n()(this,"adTypeInitMapping",{[m.Sk.Google]:f.A,[m.Sk.GoogleRewarded]:f.A,[m.Sk.Smart]:f.A,[m.Sk.Teads]:e=>{try{let{timelineObject:{supplyOpportunityInstanceId:t},appContext:{logEvent:s,features:{teadsLivePlacementNoCollapse:a}}}=this.props,{currentAd:n}=this.state,i=JSON.parse(e.data);if(!t||!i.tumblrMsg)return;switch(t){case i.tumblrMsg[d.Tq.NoAd]:a||this.handleNoAdResponse(m.Sk.Teads);return;case i.tumblrMsg[d.Tq.AdServed]:this.handleSuccessfulAdResponse();return;case i.tumblrMsg[d.Tq.TeadsImpression]:s(this.generateAnalyticsEvent({eventName:d.x5.ForeignImpression,ad:n}))}}catch(e){return}},[m.Sk.OneMobile]:e=>{try{let t=JSON.parse(e.data),{supplyOpportunityInstanceId:s}=this.props.timelineObject;if(!s)return;s===t.oneMobileMsg[d.Tq.NoAd]&&this.handleNoAdResponse(m.Sk.OneMobile)}catch(e){return}},[m.Sk.Flurry]:e=>{try{let t=JSON.parse(e.data),{timelineObject:{supplyOpportunityInstanceId:s}}=this.props;if(!s)return;switch(s){case t.flurryMsg[d.Tq.NoAd]:this.handleNoAdResponse(m.Sk.Flurry);return;case t.flurryMsg[d.Tq.AdServed]:this.handleSuccessfulAdResponse();return;case t.flurryMsg[d.Tq.AdError]:this.handleNoAdResponse(m.Sk.Flurry,t.flurryMsg.errorMsg);return}}catch(e){return}}}),n()(this,"fallbackAdMapping",{[u._.RIGHT_RAIL]:()=>{let{appContext:{features:{wordAdsWebAdSource:e}}}=this.props;return e?{Component:i.Ay,props:{supplyProviderId:this.props.supplyProviderId}}:null},[u._.EXPLORE]:()=>{let{appContext:{features:{wordAdsWebAdSource:e}}}=this.props;return e?{Component:i.Ay,props:{supplyProviderId:this.props.supplyProviderId}}:null},[u._.COMMUNITY_HUB]:()=>{let{appContext:{features:{wordAdsWebAdSource:e}}}=this.props;return e?{Component:i.Ay,props:{supplyProviderId:this.props.supplyProviderId}}:null}}),n()(this,"getAdToRender",(0,o.A)((e,t,s)=>{let a=t||s;return a?.id===e?.id?{...a,...e}:a},{maxSize:1})),n()(this,"onBeforeUnload",()=>{let{appContext:{logEvent:e},timelineObject:t}=this.props;if(this.detachAdEventHandlers(this.state.currentAd),0===this.state.currentIndex&&!this.state.currentAd&&((0,m.Tt)(t)||t?.resources?.backfill)){let s=(0,m.Tt)(t)?t:t.resources?.backfill;e(this.generateAnalyticsEvent({eventName:d.$P.AdDropped,ad:s,dropReason:d.zt.WaterfallNotUsed}),{sendPayloadImmediately:!0})}}),n()(this,"handleSuccessfulAdResponse",()=>{let e,t;let{currentAd:s,currentIndex:a}=this.state,{appContext:{logEvent:n},adContext:{adPlacementConfiguration:i,hydraConfigInstanceId:r},setProvideEventDetails:o,setImpressionsEnabled:l,timelineObject:c}=this.props;!(0,m.Tt)(c)&&c.resources?(e=c.resources.clientSideAds,t=c.resources.backfill):(e=[],t=c);let p=e.length,u=this.getCurrentAdRequest();if(u&&(u.setEndTime(),u.generateAdInstance()),(0,m.Tt)(c)||(0,m.Tt)(s)||(n(this.generateAnalyticsEvent({eventName:d.bY.AdRequest,ad:s,adRequestStatus:d.L6.AdFilled})),o(()=>this.generateAnalyticsEvent({eventName:d.x5.Impression,ad:s}).eventDetails),l(!0),n(this.generateAnalyticsEvent({eventName:d.$P.SupplyOpportunityFilled,ad:s}))),(0,m.Tt)(s)){let e=this.state.fillId||(0,v.A)();(0,x.j)(n,i,s,r,e),this.setState({fillId:e,served:!0})}else this.setState({served:!0});a<=p&&t&&!(0,m.Tt)(c)&&n(this.generateAnalyticsEvent({eventName:d.$P.AdDropped,ad:t,dropReason:d.zt.BackfillNotNeeded}))}),n()(this,"handleNoAdResponse",(e,t)=>{let{logEvent:s}=this.props.appContext,{currentClientSideAdType:a,currentAd:n}=this.state,i=this.getCurrentAdRequest();i?.setEndTime(),i?.setErrorDetails(t?{error_type:c.OTHER,provider_error_message:t}:{error_type:c.NO_FILL}),s(this.generateAnalyticsEvent({eventName:d.bY.AdRequest,ad:n,...t?{adRequestStatus:d.L6.AdError}:{adRequestStatus:d.L6.NoAd}})),a===e&&this.getNextAd(),this.state.currentAd||this.props.onEmpty?.()}),n()(this,"generateAnalyticsEvent",e=>{let{isInstream:t,timelineObject:s,supplyProviderId:a,rootSupplyOpportunityId:n,refresh:i,adContext:{adPlacementConfiguration:r,hydraConfigInstanceId:o,adProviderInstanceIdMap:l},appContext:{features:c},dashboardContext:{tabId:g}}=this.props,{streamGlobalPosition:x}=s,{eventName:f,ad:j,adRequestStatus:y,dropReason:w=d.zt.BackfillNotNeeded}=e,A={tab:g,refresh:i,root_supply_opportunity_instance_id:n,...r&&{hydra_signature:r.signature,hydra_config_instance_id:o}},C=this.getCurrentAdRequest(),N=a||u._.DASHBOARD;switch(!Object.values(d.bY).includes(f)&&(A.supply_opportunity_instance_id=s.supplyOpportunityInstanceId,A.supply_provider_id=N,t&&(A.stream_session_id=s.streamSessionId,A.stream_global_position=x)),f){case d.$P.MediationOpportunityMissed:A.supply_request_id=s?.supplyRequestId;break;case d.$P.AdDropped:((0,m.LO)(j)||(0,m.Tt)(j)||(0,m.e4)(j))&&(A.ad_provider_id=j.adProviderId,A.ad_provider_placement_id=(0,h.LW)(j.adProviderPlacementId||""),A.ad_provider_foreign_placement_id=j.adProviderForeignPlacementId,A.ad_provider_instance_id=j.adProviderInstanceId,A.ad_request_id=j.adRequestId,A.supply_opportunity_instance_id=s.supplyOpportunityInstanceId,A.mediation_candidate_id=j.mediationCandidateId,A.ad_instance_id=j.adInstanceId,A.ad_instance_age=this.getAdInstanceAge(j),A.supply_request_id=s.supplyRequestId,A.supply_provider_id=s.supplyProviderId,A.drop_reason=w,A.is_tumblr_sponsored_post=j.isTumblrSponsoredPost?1:0,A.placement_id=j.placementId);break;case d.x5.ForeignImpression:case d.$P.MediationCandidateConsideration:if((0,m.xu)(j)||(0,m.e4)(j)){if(A.ad_provider_id=(0,m.e4)(j)?j.adProviderId:j.clientSideAdType,A.is_tumblr_sponsored_post=0,(0,m.xu)(j)){let e=p[A.ad_provider_id];r&&e&&(A.ad_provider_placement_id=(0,h.LW)(e),A.ad_provider_foreign_placement_id=(0,b.LB)(j.clientSideAdType,j.adSourceTag,r,N,x,c),A.ad_provider_instance_id=l[e])}j.placementId&&(A.placement_id=j.placementId)}(0,m.Tt)(j)&&(A.ad_provider_id=j.adProviderId,A.is_tumblr_sponsored_post=1,A.ad_provider_placement_id=(0,h.LW)(j.adProviderPlacementId||""),A.ad_provider_foreign_placement_id=j.adProviderForeignPlacementId,A.ad_provider_instance_id=j.adProviderInstanceId),A.mediation_candidate_id=j?.mediationCandidateId,A.supply_request_id=s.supplyRequestId,A.supply_provider_id=N;break;case d.$P.SupplyOpportunityFilled:{if((0,m.xu)(j)||(0,m.e4)(j)){if(j.placementId&&(A.placement_id=j.placementId),A.ad_provider_id=(0,m.e4)(j)?j.adProviderId:j.clientSideAdType,A.is_tumblr_sponsored_post=0,(0,m.xu)(j)){let e=p[A.ad_provider_id];r&&(A.ad_provider_placement_id=(0,h.LW)(e),A.ad_provider_foreign_placement_id=(0,b.LB)(j.clientSideAdType,j.adSourceTag,r,N,x,c),A.ad_provider_instance_id=l[e])}A.ad_request_id=C?.adRequestId,A.mediation_candidate_id=j.mediationCandidateId,C?.adInstances&&C.adInstances[0]&&(A.ad_instance_id=C.adInstances[0].ad_instance_id,A.ad_instance_age=this.getAdInstanceAge(j)),A.supply_request_id=s.supplyRequestId,A.supply_provider_id=N,j.placementId&&(A.placement_id=j.placementId)}let e=(0,v.A)();A.fill_id=e,this.setState({fillId:e});break}case d.x5.Impression:if((0,m.xu)(j)||(0,m.e4)(j)){if(A.ad_provider_id=(0,m.e4)(j)?j.adProviderId:j.clientSideAdType,A.is_tumblr_sponsored_post=0,(0,m.xu)(j)){let e=p[A.ad_provider_id];r&&(A.ad_provider_foreign_placement_id=(0,b.LB)(j.clientSideAdType,j.adSourceTag,r,N,x,c),A.ad_provider_placement_id=(0,h.LW)(e),A.ad_provider_instance_id=l[e])}A.mediation_candidate_id=j.mediationCandidateId,C?.adInstances[0]&&(A.ad_instance_id=C.adInstances[0].ad_instance_id,A.ad_instance_age=this.getAdInstanceAge(j)),A.supply_request_id=s.supplyRequestId,A.supply_provider_id=s.supplyProviderId}if(this.state.fillId)A.fill_id=this.state.fillId;else{let e=(0,v.A)();A.fill_id=e,this.setState({fillId:e})}A.ad_request_id=C?.adRequestId;break;case d.bY.AdRequest:if((0,m.xu)(j)||(0,m.e4)(j)){if(A.ad_provider_id=(0,m.e4)(j)?j.adProviderId:j.clientSideAdType,(0,m.xu)(j)){let e=p[A.ad_provider_id];r&&(A.ad_provider_foreign_placement_id=(0,b.LB)(j.clientSideAdType,j.adSourceTag,r,N,x,c),A.ad_provider_placement_id=(0,h.LW)(e),A.ad_provider_instance_id=l[e])}A.ad_instances=C?.adInstances}A.ad_request_is_success=y===d.L6.AdError?0:1,A.ad_request_id=C?.adRequestId,A.ads_returned=y===d.L6.AdFilled?1:0,A.ad_request_latency=C&&C.requestEndTime-C.requestStartTime,A.ads_requested=1,y===d.L6.AdError&&(A.ad_request_error_detail=C?.errorDetails)}return{eventName:f,eventDetails:A}})}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload),this.determineAdFetch()}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload),this.onBeforeUnload()}componentDidUpdate(e){let{appContext:{features:{rightRailFallback:t}}}=this.props;this.props.timelineObject.supplyOpportunityInstanceId!==e.timelineObject.supplyOpportunityInstanceId&&this.setState(e=>({currentIndex:0,...t&&{previousAd:e.currentAd||e.previousAd}}),()=>this.determineAdFetch())}render(){let{children:e,supplyProviderId:t=u._.DASHBOARD,timelineObject:s}=this.props,{streamGlobalPosition:a,supplyOpportunityInstanceId:n}=s,{currentClientSideAdType:i,currentAd:r,served:o}=this.state,l=this.getAdToRender(s,r),d=this.getFallBackAd();return(l||d)&&e?.({supplyOpportunityInstanceId:n,location:t,streamPosition:t===u._.DASHBOARD?a:void 0,ad:l,fallbackAd:d||{},adServed:o,onFilled:this.handleSuccessfulAdResponse,onEmpty:()=>{this.handleNoAdResponse(i)},onError:()=>{this.handleNoAdResponse(i)}})}getNextAd(){let{currentAd:e,currentIndex:t}=this.state,{timelineObject:s,appContext:{logEvent:a}}=this.props,n=(0,m.Tt)(s)?[s]:s.resources?.clientSideAds||[],i=(0,m.e4)(s)?s:s.resources?.backfill,r=n.length;this.detachAdEventHandlers(e);let o=t===r?i:t<r?n[t]:void 0;a(this.generateAnalyticsEvent(o?{eventName:d.$P.MediationCandidateConsideration,ad:o}:0!==n.length||i?{eventName:d.$P.MediationOpportunityMissed}:{eventName:d.$P.SupplyOpportunityMissed}));let l={currentIndex:t+1,currentClientSideAdType:o?o.clientSideAdType||m.Sk.Post:void 0,currentAd:o||void 0};!o||(0,m.xu)(o)&&this.adTypeInitMapping[o.clientSideAdType]||(l.served=!0),this.setState(l,()=>{(0,m.Tt)(o)&&this.handleSuccessfulAdResponse()}),(0,m.Tt)(o)||(this.initializeAdEventHandlers(o),this.initializeAdRequest(o))}getFallBackAd(){let{supplyProviderId:e,isApproachingView:t}=this.props;return t()&&e&&e in this.fallbackAdMapping?this.fallbackAdMapping[e]?.():null}initializeAdRequest(e){let{adRequestContext:{generateNewAdRequest:t,clearAdRequest:s},timelineObject:{supplyOpportunityInstanceId:a}}=this.props;e?t(a,(0,m.e4)(e)?this.handleSuccessfulAdResponse:void 0):s(a)}initializeAdEventHandlers(e){if(!(0,m.xu)(e))return;let t=this.adTypeInitMapping[e.clientSideAdType];t&&window.addEventListener("message",t)}determineAdFetch(){let{isApproachingView:e,setApproachingViewCallback:t}=this.props;e()?this.getNextAd():t(()=>this.getNextAd())}detachAdEventHandlers(e){if(!(0,m.xu)(e))return;let t=this.adTypeInitMapping[e.clientSideAdType];t&&window.removeEventListener("message",t)}getCurrentAdRequest(){let{timelineObject:{supplyOpportunityInstanceId:e},adRequestContext:{currentAdRequests:t}}=this.props;return t[e]}getAdInstanceAge(e){return(0,m.xu)(e)?this.getCurrentAdRequest()?.getAdInstanceAge():(0,m.LO)(e)||(0,m.e4)(e)?new Date().getTime()-e.adInstanceCreatedTimestamp:void 0}}let y=(0,g.bb)(j,{appContext:!0,adContext:!0,adRequestContext:!0,dashboardContext:!0}),w=(0,r.J)(y,!0)},96883:(e,t,s)=>{s.d(t,{Ay:()=>C,SX:()=>y});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(74059),r=/*#__PURE__*/s.n(i),o=s(69998),l=s(11914),d=s(62674),c=s(75185),m=s(36665),p=s(59015),u=s(94048),h=s(83322),g=s(56356),b=s(54934),x=s(64942),f=s(79393);let v={nativeIponWebAd:"uOyjG",adText:"kJSyc",additionalDescription:"yZn7q",adBottom:"M6GZi",adDomain:"fqqjn",nativeimg:"bOcQa"};var j=s(60397);let y=(e,t)=>{if("title"in t&&(e.title=t.title.text),"img"in t)switch(t.img.type){case p.W3.Icon:e.avatar=t.img;break;case p.W3.Main:e.img=t.img}if("data"in t)switch(t.data.type){case p.BR.Sponsored:e.sponsorName=t.data.value;break;case p.BR.Description:e.description=t.data.value;break;case p.BR.AdditionalDesc:e.additionalDescription=t.data.value;break;case p.BR.CTAText:e.cta=t.data.value;break;case p.BR.DisplayURL:e.displayURL=t.data.value}return e};class w extends m.Component{constructor(...e){super(...e),n()(this,"state",{}),n()(this,"getPostContextValue",(0,c.A)(e=>({post:e,presentationStyle:f.A.iponweb}),{maxSize:1})),n()(this,"onClick",()=>{let{adm:e,placementId:t}=this.props.timelineObject,{logEvent:s}=this.props.appContext,{sendClickADMBeacon:a}=this.props.adContext;s({eventName:u.R.Click,eventDetails:{placement_id:t}}),a(e)})}componentDidMount(){let{adContext:{adPlacementConfiguration:e,hydraConfigInstanceId:t},appContext:{logEvent:s},timelineObject:a}=this.props;this.generateIOWModel(),(0,x.j)(s,e,a,t)}render(){let{iponWebResponse:e}=this.state,{features:t}=this.props.appContext;if(!e||!e?.avatar)return null;let s="string"!=typeof this.props.timelineObject.adm?this.props.timelineObject.adm?.native:void 0,a=e.img?/*#__PURE__*/(0,j.jsx)(l.jA,{imageResponse:[{url:e.img.url,width:e.img.w,height:e.img.h,hasOriginalDimensions:!0}]}):null,n={creativeId:this.props.timelineObject.creativeId,adProviderId:this.props.timelineObject.adProviderId,advertiserName:e.sponsorName,advertiserDomain:this.props.timelineObject.advertiserDomain?.[0]||e.sponsorName,advertiserUrl:s?.link?.url,advertiserId:this.props.timelineObject.advertiserId,campaignId:this.props.timelineObject?.campaignId,adMediaUrl:e?.img?.url,adTitle:e?.title,adBody:e?.description,isWordPressBlaze:this.props.timelineObject?.adProviderId===h.sf.Smart&&this.props.timelineObject?.advertiserId===h.Fk.WordPress,isBlazePro:this.props.timelineObject?.adProviderId===h.sf.Smart&&this.props.timelineObject?.advertiserId===h.Fk.BlazePro};return this.props.updateAdInstance?.(n),/*#__PURE__*/(0,j.jsx)(g._5.Provider,{value:this.getPostContextValue(this.props.timelineObject),children:/*#__PURE__*/(0,j.jsxs)("a",{className:r()(v.nativeIponWebAd,{[v.reblogRedesignEnabled]:t.reblogRedesignNew}),href:s?.link?.url,onClick:this.onClick,rel:"noopener",role:"button",target:"_blank",children:[/*#__PURE__*/(0,j.jsxs)("div",{className:v.adText,children:[/*#__PURE__*/(0,j.jsx)("h2",{children:e.title}),/*#__PURE__*/(0,j.jsx)("p",{children:e.description}),e.additionalDescription&&/*#__PURE__*/(0,j.jsx)("p",{className:v.additionalDescription,children:e.additionalDescription})]}),a,/*#__PURE__*/(0,j.jsxs)("div",{className:v.adBottom,children:[e.displayURL&&/*#__PURE__*/(0,j.jsx)("div",{className:v.adDomain,children:e.displayURL}),e.cta&&/*#__PURE__*/(0,j.jsx)(o.jn,{context:"content",layout:e.displayURL?"large":"full",children:e.cta})]})]})})}generateIOWModel(){let e="string"!=typeof this.props.timelineObject.adm&&this.props.timelineObject.adm?.native?.assets||[];this.setState({iponWebResponse:e.reduce(y,{})})}}let A=(0,b.bb)(w,{appContext:!0,adContext:!0}),C=(0,d.J)(A)},52012:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(28230),r=s(85191),o=s(36665),l=s(4613),d=s(6865),c=s(84007),m=s(56040),p=s(75473),u=s(60397);function h({blogName:e,isPostPermalink:t=!1,searchTerm:s,isExplicit:a=!1}){let h;let{_t:g,_c:b}=(0,l.Us)(),[x,f]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{f(!0)},[]),t){if(a)return/*#__PURE__*/(0,u.jsx)("div",{className:n()(p.A.banner,p.A.emptyView),children:/*#__PURE__*/(0,u.jsx)(r.Ay,{comment:"Error message for missing explicit post.",components:{link:/*#__PURE__*/(0,u.jsx)("a",{href:"https://help.tumblr.com/hc/articles/9807936690711-Mature-Content",rel:"noopener",target:"_blank"})},children:"This content has been hidden due to its potentially sensitive nature. For more information read our [link]Sexually Explicit Content Policy[/link]."})});h=(0,c.X)((0,d.yY)(g,b,e))}else h=s?(0,c.X)((0,d.zL)(b,s)):(0,c.X)((0,d.Mf)(g));return/*#__PURE__*/(0,u.jsx)("div",{className:n()(p.A.banner,p.A.emptyView),children:x?h:/*#__PURE__*/(0,u.jsx)(i.A,{centerOrientation:"horizontal",color:m.blogContrastingTitleColor,small:!0})})}},37575:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(4613),r=s(6865),o=s(84007),l=s(75473),d=s(60397);function c({errorStr:e}){let{_t:t}=(0,i.Us)(),s=e??(0,o.X)((0,r.vf)(t));return/*#__PURE__*/(0,d.jsx)("div",{className:n()(l.A.banner,l.A.errorView),children:s})}},5388:(e,t,s)=>{s.d(t,{Qp:()=>_,WC:()=>O,wG:()=>S,zi:()=>P});var a=s(77227),n=s(85531),i=s(62718),r=s(96273),o=s(83087),l=s(36665),d=s(53986),c=s(18776),m=s(43337),p=s(66910),u=s(83322),h=s(12673),g=s(25175),b=s(77309),x=s(72580),f=s(28436),v=s(4613),j=s(59330),y=s(3077),w=s(79393),A=s(56040),C=/*#__PURE__*/s.n(A),N=s(52012),k=s(37575),I=s(60397);let _=260,S=/*#__PURE__*/(0,I.jsx)(a.D,{color:C().blogContrastingLinkColor,condensed:!0}),P={prev:{backgroundColor:C().blogLinkColor15,color:C().blogLinkColor}},T=(e,t,s)=>{let{peeprPostId:a,peeprSearchTerm:n,peeprTag:i,...o}=t,{peeprPostRole:l,peeprSearchMode:d,peeprSelectedPostType:m}=(0,j.A)(o),u=async({apiFetch:t,apiFetchWithSchema:s},r)=>{let o=r?await t(r):await (i?(0,x.K)(s,{blogIdentifier:e,queryParams:{postType:m,tag:i}}):n?function(e,t,s,a,n){return new h._(e,`/v2/blog/${t}/search/${s}`,{method:"GET",queryParams:{reblog_info:!0,...(0,g.k9)(g.P$),post_type:(0,p.kb)(a?.postType),npf:!0,post_role:a?a.postRole&&a.postRole.toUpperCase():"ANY",sort:a?a.postSort:p.Zh.CreatedDesc}})}(t,e,encodeURIComponent(n),{postRole:l,postSort:"top"===d?p.Zh.PopularityDesc:p.Zh.CreatedDesc,postType:m}):a?(0,b.i)(t,e,a):(0,f.D)(s,e,!1,m,a)).fetch();return(0,c.BP)(o)?{elements:o.response.posts,links:o.response.links}:o.response.timeline},v=`peepr-posts-${e}-${a}-${l}-${d}-${n}-${m}-${i}`;return(0,r.U)({fetchTimeline:u,prefetchedResults:s,timelineId:v,itemSourceName:"peeprPosts"})},R=e=>{let t=async({apiFetch:t},s)=>{let a=s?await t(s):await new h._(t,`/v2/blog/${e}/likes`,{method:"GET",queryParams:{...(0,g.k9)(g.P$),reblog_info:!0}}).fetch();return{elements:a.response.likedPosts,links:a.response.links}},s=`peepr-likes-${e}`;return(0,r.U)({fetchTimeline:t,timelineId:s,itemSourceName:"peeprLikes"})},B=e=>{let t=async({apiFetch:t},s)=>{let a=s?await t(s):await new h._(t,`/v2/blog/${e}/following`,{method:"GET",queryParams:{...(0,g.k9)(["name","avatar","title","url","blogViewUrl","uuid","descriptionNpf","updated","followed","isFollowingYou","durationBlogFollowingYou","durationFollowingBlog"])}}).fetch();return{elements:a.response.blogs,links:a.response.links}},s=`peepr-following-${e}`;return(0,r.U)({fetchTimeline:t,timelineId:s,itemSourceName:"peeprFollowing"})},O=({initialTimeline:e,onPostsLoaded:t,setPost:s,tabView:a,timelineDisplayMode:r,updateDisplayModeList:c})=>{let{_c:p,_t:h}=(0,v.Us)(),{isMobile:g}=(0,o.Ri)(),{initialLocationKey:b}=(0,n.og)(),{key:x}=(0,d.zy)(),f=(0,d.g)(),A=(0,y.e)(),{peeprPostId:C,peeprSearchTerm:O,peeprTag:L,...E}=f,{peeprSelectedPostType:M}=(0,j.A)(E),z=!!C,D=(0,l.useMemo)(()=>x===(b??x)&&void 0!==e?{items:e.objects,nextLink:e.nextLink?.href,prevLink:e.prevLink?.href,link:void 0}:void 0,[b,e,x]),F=(0,l.useMemo)(()=>{switch(a){case m.En.Likes:return R(A);case m.En.Following:return B(A);default:return T(A,f,D)}},[A,f,D,a]),W=(0,l.useMemo)(()=>g||z?u.X2.List:r,[g,z,r]),U=(0,l.useMemo)(()=>/*#__PURE__*/(0,I.jsx)(N.A,{blogName:A,isPostPermalink:z,searchTerm:O}),[A,z,O]),H=(0,l.useMemo)(()=>{switch(a){case m.En.Likes:return p("Message for the error view displayed when there are no liked posts to show to the user","No Liked posts");case m.En.Following:return h("This blog does not follow anyone");default:return}},[p,h,a]),G=(0,l.useMemo)(()=>/*#__PURE__*/(0,I.jsx)(k.A,{errorStr:H}),[H]),$=(0,l.useMemo)(()=>({...g||r===u.X2.Masonry?w.A.newPeeprMobile:w.A.newPeeprDesktop,expandNotesOnMount:z&&"video"!==M,showsAvatarInline:g&&z,showsPosterAvatar:g&&z}),[g,z,M,r]),{pages:q,fetchStatus:V}=F.module.useData(),X=(0,l.useMemo)(()=>q.flatMap(({items:e})=>e),[q]);return(0,l.useEffect)(()=>{"loaded"===V&&(c(X),a===m.En.Posts&&(t?.(X),z&&(0,u.zA)(X[0])&&X[0].id.toString()===C?s(X[0]):s(null)))},[X,V]),/*#__PURE__*/(0,I.jsx)(i.A,{displayMode:W,doesNotRemoveUnfollowedObjects:!0,emptyView:U,errorView:G,loader:S,manualPaginatingButtonStyles:P,masonryColumnWidth:_,masonryRendersWithSidebar:!0,maximumNumberOfColumns:2,overridePresentationStyle:$,timelineModule:F},F.timelineId)}},98247:(e,t,s)=>{s.d(t,{Lr:()=>N,Oi:()=>A,Zy:()=>C});var a=s(96288),n=s(30773),i=s(10495),r=s(4186),o=s(7562),l=s(14492),d=s(81772),c=s(36867),m=s(94952),p=s(54949),u=s(15781),h=s(82419),g=s(57216),b=s(36665),x=s(89972),f=s(4613),v=s(56040);let j={originalPostsFilter:"RaAUX",toggleLabel:"UHdt6"};var y=s(60397);let w=x.$x.Bottom,A=(e,t)=>{switch(t){case"ask":return e("A search filter option for including search results for posts that are asks","Ask");case"audio":return e("A search filter option for including search results for posts that contain audio","Audio");case"chat":return e("A search filter option for including search results for posts that are chats","Chat");case"gif":return e("A search filter option for including search results for posts that contain GIFs","GIF");case"link":return e("A search filter option for including search results for posts that are links","Link");case"photo":return e("A search filter option for including search results for posts that contain photos","Photo");case"quote":return e("A search filter option for including search results for posts that are quotes","Quote");case"text":return e("A search filter option for including search results for posts that contain text","Text");case"video":return e("A search filter option for including search results for posts that contain video","Video");case"poll":return e("A search filter option for including search results for posts that contain polls","Poll");default:return e("A search filter option for including search results for posts of all types","All types")}},C=(e,t)=>{switch(t){case"ask":return e("Ask");case"audio":return e("Audio");case"chat":return e("Chat");case"gif":return e("GIFs");case"link":return e("Link");case"photo":return e("Photo");case"quote":return e("Quote");case"text":return e("Text");case"video":return e("Video");case"poll":return e("Poll");default:return e("All types")}},N=({pathGenerator:e,isDisabled:t,selectedValue:s,onChange:x,onToggleOriginalPostsOnly:N,originalPostsOnly:k})=>{let{_c:I,_t:_,features:{searchFilterUpdatedTranslationsComplete:S}}=(0,f.Us)(),P=(0,b.useCallback)(e=>S?A(I,e):C(_,e),[I,_,S]),T=(0,b.useMemo)(()=>[{value:void 0,label:P(),icon:/*#__PURE__*/(0,y.jsx)(n.A,{colors:{primary:v.colorTextPostFilter}})},{value:"text",label:P("text"),icon:/*#__PURE__*/(0,y.jsx)(p.A,{colors:{primary:v.colorTextPostFilter}})},{value:"photo",label:P("photo"),icon:/*#__PURE__*/(0,y.jsx)(d.A,{colors:{primary:v.colorPhotoPost}})},{value:"gif",label:P("gif"),icon:/*#__PURE__*/(0,y.jsx)(a.A,{colors:{primary:v.colorGifPost}})},{value:"quote",label:P("quote"),icon:/*#__PURE__*/(0,y.jsx)(m.A,{colors:{primary:v.colorQuotePost}})},{value:"link",label:P("link"),icon:/*#__PURE__*/(0,y.jsx)(l.A,{colors:{primary:v.colorLinkPost}})},{value:"chat",label:P("chat"),icon:/*#__PURE__*/(0,y.jsx)(o.A,{colors:{primary:v.colorChatPost}})},{value:"audio",label:P("audio"),icon:/*#__PURE__*/(0,y.jsx)(r.A,{colors:{primary:v.colorAudioPost}})},{value:"video",label:P("video"),icon:/*#__PURE__*/(0,y.jsx)(u.A,{colors:{primary:v.colorVideoPost}})},{value:"ask",label:P("ask"),icon:/*#__PURE__*/(0,y.jsx)(i.A,{colors:{primary:v.colorAskPost}})},{value:"poll",label:P("poll"),icon:/*#__PURE__*/(0,y.jsx)(c.A,{colors:{primary:v.colorPollPost}})}],[P]),R="original-posts-on-search-toggle",B=N&&/*#__PURE__*/(0,y.jsxs)("div",{className:j.originalPostsFilter,children:[/*#__PURE__*/(0,y.jsx)(g.A,{checked:!!k,id:R,onChange:N}),/*#__PURE__*/(0,y.jsx)("label",{className:j.toggleLabel,htmlFor:R,children:I("Post search option. It filters out regblogs, so only original posts are presented to the user.","Original posts only")})]}),O=T.find(({value:e})=>e===s),L=void 0===s,E=!!k,M=E&&L?I("Indicates that the original posts filter is selected in the filter options","Original posts"):E&&!L&&O?.label?I("Indicates that the original posts filter is selected alongside another post filter option","Original posts, %1$s",[O?.label]):O?.label;return/*#__PURE__*/(0,y.jsx)(h.$,{customElement:B,customLabel:M,isDisabled:t,label:_("Filter by post type"),onChange:x,options:T,pathGenerator:e,popoverProps:{height:"auto",maxHeight:"70vh",width:"auto",position:w},selectedValue:s})}},81830:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(82419),n=s(36665),i=s(4613),r=s(60397);function o({pathGenerator:e,selectedValue:t,defaultValue:s,onChange:o,withCommunities:l}){let{_c:d}=(0,i.Us)(),c=(0,n.useMemo)(()=>{let e=[{label:d("Search filter request mode option","Top"),value:"top"},{label:d("Search filter request mode option","Latest"),value:"recent"}];return l&&e.push({label:d("Search filter request mode option","Communities"),value:"community"}),e},[d,l]);return/*#__PURE__*/(0,r.jsx)(a.$,{defaultValue:s,label:d("Search filter request mode label","Request mode"),onChange:o,options:c,pathGenerator:e,selectedValue:t})}},8008:(e,t,s)=>{s.d(t,{A:()=>d,O:()=>l});var a=s(82419),n=s(36665),i=s(37629),r=s(4613),o=s(60397);let l=(e,t)=>{switch(t){case i.em.AllTime:return e("All time");case i.em.Year:return e("Last year");case i.em.Season:return e("Last 6 months");case i.em.Month:return e("Last month");case i.em.Week:return e("Last week");case i.em.Today:return e("Today");default:return e("Last %1$s days",[t.toString()])}};function d({pathGenerator:e,selectedValue:t,defaultValue:s,onChange:d}){let{_t:c}=(0,r.Us)(),m=(0,n.useMemo)(()=>[{value:i.em.AllTime,label:l(c,i.em.AllTime)},{value:i.em.Year,label:l(c,i.em.Year)},{value:i.em.Season,label:l(c,i.em.Season)},{value:i.em.Month,label:l(c,i.em.Month)},{value:i.em.Week,label:l(c,i.em.Week)},{value:i.em.Today,label:l(c,i.em.Today)}],[c]);return/*#__PURE__*/(0,o.jsx)(a.$,{customLabel:l(c,t),defaultValue:s,label:c("Filter by time"),onChange:d,options:m,pathGenerator:e,selectedValue:t})}},82419:(e,t,s)=>{s.d(t,{$:()=>x});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(11100),r=s(90937),o=s(71273),l=s(70933),d=s(86619),c=s(36665),m=s(89972),p=s(56040);let u={searchSelectorWrapper:"QVo7R",searchSelector:"twcne",isOpen:"F0J4T",caret:"JjPjA",searchDropdownItem:"X3Lal",isDisabled:"utlpw",searchDropdownLabel:"BxUUm",searchDropdownIcon:"wRFbP",containerLeft:"V9niT"};var h=s(60397);let g=m.$x.Bottom,b={width:14,height:14},x=({customElement:e,customLabel:t,defaultValue:s,isDisabled:a=!1,label:m,onChange:x,options:f,pathGenerator:v,popoverProps:j,selectedValue:y})=>{let[w,A]=(0,c.useState)(!1);void 0===s&&f.length>0&&(s=f[0].value);let C=e=>{e!==N&&x?.(e)},N=y??s,k=f.find(({value:e})=>e===N),I={width:"auto",height:"auto",maxHeight:"70vh",position:g,closeForAllExternalClicks:!0,...j},_=y!==s&&void 0!==y;return/*#__PURE__*/(0,h.jsx)("div",{children:/*#__PURE__*/(0,h.jsx)(d.Ay,{...I,component:/*#__PURE__*/(0,h.jsxs)(h.Fragment,{children:[e,f.map(({value:e,label:t,icon:s})=>/*#__PURE__*/(0,h.jsxs)(r.A,{className:u.searchDropdownItem,isDisabled:a,linkTo:v(e),onClick:()=>C(e),children:[/*#__PURE__*/(0,h.jsxs)("div",{className:u.containerLeft,children:[s&&/*#__PURE__*/(0,h.jsx)("div",{className:u.searchDropdownIcon,children:s}),/*#__PURE__*/(0,h.jsx)("div",{className:u.searchDropdownLabel,children:t})]}),N===e&&/*#__PURE__*/(0,h.jsx)(l.A,{colors:{primary:p.paletteBlue},size:b})]},e?e.toString():""))]}),isOpen:w,toggle:()=>A(!w),children:/*#__PURE__*/(0,h.jsxs)(i.A,{className:n()(u.searchSelector,{[u.active]:_,[u.isOpen]:w}),label:m||"",wrapperClassName:u.searchSelectorWrapper,children:[t||k?.label,/*#__PURE__*/(0,h.jsx)("span",{className:u.caret,children:/*#__PURE__*/(0,h.jsx)(o.oj,{})})]})})})}},12854:(e,t,s)=>{s.d(t,{Ay:()=>T});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(74059),r=/*#__PURE__*/s.n(i),o=s(88617),l=s(11100),d=s(91945),c=s(55618),m=s(36665),p=s(4613),u=s(56040),h=/*#__PURE__*/s.n(u),g=s(164);let b={sidebarBlogRow:"iOplf",clickableBlogRow:"WaV4Y",closeButton:"dxDX3"};var x=s(60397);class f extends m.Component{render(){let{appContext:{_t:e},avatar:t,avatarShape:s,blogName:a,blogTitle:n,blogUrl:i,className:r,isFollowed:m,onClose:p,onFollow:u,rowTheme:f="dark"}=this.props,v=void 0!==u&&!m&&/*#__PURE__*/(0,x.jsx)(d.A,{blogName:a,blogUrl:i,className:g.A.blogRowFollowButton,following:!!m,onFollow:u}),j=/*#__PURE__*/(0,x.jsx)(l.A,{label:e("Dismiss Recommendation"),onClick:p,wrapperClassName:b.closeButton,children:/*#__PURE__*/(0,x.jsx)(c.h,{colors:{primary:h().paletteTransparentWhite13},size:{width:10,height:10}})});return/*#__PURE__*/(0,x.jsx)("div",{className:b.sidebarBlogRow,children:/*#__PURE__*/(0,x.jsx)(o.A,{avatar:t,avatarShape:s,blogName:a,blogTitle:n,blogUrl:i,className:r,clickableBlogRowClassName:b.clickableBlogRow,closeButton:j,floatingButton:v,isMobile:!1,openBlogCard:"body",theme:f})})}}let v=(0,p.Lk)(f);var j=s(28230),y=s(21728),w=s(66869),A=s(74082),C=s(65392),N=s(61703),k=/*#__PURE__*/s.n(N);let I={loadingBlogs:"B4rcz",recommendedBlogs:"PwJi6",blogRowHolder:"kqme1",blogRow:"_fk31",dismiss:"Kxfe3",follow:"vN7wd",hide:"ou8zw",dashboardEmpty:"E4V_b",dismissAll:"W9GZw"};class _ extends m.Component{constructor(...e){super(...e),n()(this,"state",{indexesToRemove:[],animationType:"none",fetchBlogsIsLoading:!1,...this.props.getInitialContent()}),n()(this,"apiHelper",(0,w.Ay)(this.props.appContext.apiFetch)),n()(this,"fetchInProgress",null),n()(this,"renderRows",e=>{let{rowTheme:t,animationTimeout:s,className:a}=this.props,{blogs:n,indexesToRemove:i}=this.state;return n.slice(0,this.getNumberOfBlogsToShow()).map((n,o)=>/*#__PURE__*/(0,x.jsx)("li",{className:I.blogRowHolder,children:/*#__PURE__*/(0,x.jsx)("div",{className:r()(I.blogRow,{[I.dismiss]:this.isBlogInAnimationState(o,"dismiss-blog"),[I.follow]:this.isBlogInAnimationState(o,"follow-blog"),[I.hide]:this.isBlogInAnimationState(o,"none")}),style:function(e,t,s,a){return t.length>0&&e>Math.max(...t)&&"exiting"===s?{transform:`translateY(-${59*t.length}px)`,transition:`transform ${a}ms ease-out`}:{}}(o,i,e,s),children:/*#__PURE__*/(0,x.jsx)(v,{avatar:n.avatar??[],blogName:n.name,blogTitle:n.title??"",blogUrl:n.url,className:a,isFollowed:n.followed,onClose:this.animateDismissBlog.bind(this,o),onFollow:n.canBeFollowed?this.animateFollowBlog.bind(this,o):void 0,rowTheme:t})})},`${n.name}-${o}`))}),n()(this,"getNumberOfBlogsToShow",()=>this.props.numberOfBlogsToShow+this.state.indexesToRemove.length),n()(this,"isBlogInAnimationState",(e,t)=>this.state.indexesToRemove.includes(e)&&this.state.animationType===t),n()(this,"fetchBlogs",()=>{let{nextLink:e}=this.state,{apiFetch:t}=this.props.appContext;e&&(this.cancelInProgressFetchIfNecessary(),this.fetchInProgress=(0,A.A)(t(e.href)),this.setState({fetchBlogsIsLoading:!0}),this.fetchInProgress.then(e=>{let{blogs:t}=this.state,{getContentFromResponse:s}=this.props,{nextLink:a,blogs:n}=s(e);this.setState({nextLink:a,blogs:t.concat(n),fetchBlogsIsLoading:!1})}))}),n()(this,"logBlogDismissal",(e,t)=>{Promise.all(t.map(t=>this.apiHelper.logBlogDismissal(e[t].url).fetch()))}),n()(this,"rowRemovalComplete",()=>{let{blogs:e,animationType:t,indexesToRemove:s}=this.state;"dismiss-blog"===t&&this.logBlogDismissal(e,s),this.setState({animationType:"none"})}),n()(this,"removeRow",()=>{let{blogs:e,indexesToRemove:t}=this.state,s=e.filter((e,s)=>!t.includes(s));this.setState({indexesToRemove:[],blogs:s}),s.length<=5&&this.fetchBlogs()}),n()(this,"animateDismissBlog",e=>this.setState({indexesToRemove:[e],animationType:"dismiss-blog"})),n()(this,"animateFollowBlog",e=>this.setState({indexesToRemove:[e],animationType:"follow-blog"})),n()(this,"animateDismissAllBlogs",()=>{let{blogs:e}=this.state,t=Math.min(this.props.numberOfBlogsToShow,e.length);this.setState({indexesToRemove:(0,C.A)(0,t),animationType:"dismiss-blog"})}),n()(this,"cancelInProgressFetchIfNecessary",()=>this.fetchInProgress?.cancel())}componentDidMount(){this.fetchBlogs()}componentDidUpdate(e){e.title!==this.props.title&&this.setState(this.props.getInitialContent())}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){let{title:e,numberOfBlogsToShow:t,dismissAllLabel:s,appContext:{_t:a},animationTimeout:n}=this.props,{blogs:i,animationType:r,fetchBlogsIsLoading:o}=this.state;return!i.length&&o?/*#__PURE__*/(0,x.jsx)("div",{className:I.loadingBlogs,children:/*#__PURE__*/(0,x.jsx)(j.A,{small:!0})}):i.length||o?/*#__PURE__*/(0,x.jsxs)(x.Fragment,{children:[/*#__PURE__*/(0,x.jsx)("ul",{"aria-label":e,className:I.recommendedBlogs,style:{height:59*t},children:/*#__PURE__*/(0,x.jsx)(y.Ay,{in:"none"!==r,onEntered:()=>{this.rowRemovalComplete()},onExited:()=>{this.removeRow()},timeout:n,children:this.renderRows})}),s&&/*#__PURE__*/(0,x.jsx)("div",{className:I.dismissAll,children:/*#__PURE__*/(0,x.jsx)(l.A,{label:s,onClick:this.animateDismissAllBlogs,children:s})})]}):/*#__PURE__*/(0,x.jsx)("span",{className:I.dashboardEmpty,children:a("No more blogs available.")})}}n()(_,"defaultProps",{numberOfBlogsToShow:4,title:"",animationTimeout:k().postSlideOutDurationInMs});let S=(0,p.Lk)(_);class P extends m.Component{render(){return/*#__PURE__*/(0,x.jsx)(S,{...this.props})}}n()(P,"defaultProps",_.defaultProps);let T=P},22335:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(11100),r=s(4613);let o={button:"sNQra",followButton:"WdYx4",unfollowButton:"tnoMg",linkText:"D2Wgl"};var l=s(12477),d=s(60397);let c=({className:e,extraStyles:t,...s})=>{let{_t:a}=(0,r.Us)();return/*#__PURE__*/(0,d.jsx)(l.C,{...s,renderButton:({onClick:s,isFollowingTag:r})=>/*#__PURE__*/(0,d.jsx)(i.A,{className:r?o.unfollowButton:o.followButton,label:r?a("Unfollow this tag"):a("Follow this tag"),onClick:s,style:t,wrapperClassName:n()(o.button,e),children:r?a("Unfollow"):/*#__PURE__*/(0,d.jsx)("span",{className:o.linkText,children:a("Follow")})})})}},12477:(e,t,s)=>{s.d(t,{C:()=>m});var a=s(12044),n=s(36665),i=s(53986),r=s(8079),o=s(4613),l=s(68331),d=s(13718),c=s(4532);let m=({tag:e,pageName:t,isFollowed:s,onFollowChange:m,renderButton:p})=>{let{_c:u,apiFetch:h,isLoggedIn:g}=(0,o.Us)(),{pathname:b}=(0,i.zy)(),{openLoginWall:x}=(0,l.K)(),[f,v]=(0,n.useState)(g&&s);(0,n.useEffect)(()=>{g&&void 0===s?(0,r.Y5)(h,e).fetch().then(({response:{following:e}})=>v(!!e)):v(g&&s)},[h,g,e,s]);let j=(0,c.i)(b,"tag_follow_button"),y=(0,d.A)(j),w=(0,n.useCallback)(()=>{g?(0,r.Wy)(h,e,t).fetch().then(()=>{v(!0),m?.(!0)}):x({action:{type:"followTag",tagLabel:e,page:t,redirect:(0,a.gn)(e)},title:u('Login wall: Title shown when user clicks on the "Follow tag" button, after exceeding click counter limit',"Sign up to follow your favoritesâ¦"),text:u('Login wall: Text shown when user clicks on the "Follow tag" button, after exceeding click counter limit',"â¦and countless others just like them. Create and curate your dashboard experience of all your favorite blogs and tags drawn from your likes, loves, interests, and tastes. Dive in!"),options:{glassOverlay:!0,isDismissible:!0},source:y})},[g,h,e,t,m,x,u,y]),A=(0,n.useCallback)(()=>(0,r.Zo)(h,e,t).fetch().then(()=>{v(!1),m?.(!1)}),[h,e,t,m]);return g&&void 0===f?null:p({onClick:f?A:w,isFollowingTag:f})}},89549:(e,t,s)=>{s.d(t,{A:()=>j});var a=s(11914),n=s(22335),i=s(69998),r=s(4613),o=s(12477),l=s(60397);let d=({...e})=>{let{_t:t}=(0,r.Us)();return/*#__PURE__*/(0,l.jsx)(o.C,{...e,renderButton:({onClick:e,isFollowingTag:s})=>/*#__PURE__*/(0,l.jsx)(i.tA,{context:"chrome",onClick:e,children:s?t("Unfollow"):t("Follow")})})};var c=s(62674),m=s(66449),p=s(85191),u=s(94048),h=s(25183),g=s(56040),b=s(99805),x=/*#__PURE__*/s.n(b);let f={tagInfoRow:"Hd659",tagLink:"TdzhK",tagImage:"Q6sGq",tagDescription:"q5Itx",tagName:"ApbQB",postsCount:"TeFaP",tagFloatingButton:"NxY7q"},v={tagInfoRow:"u8J1W",tagLink:"MgGEG",tagImage:"ZqH9E",tagDescription:"wVZAK",tagName:"hIUaH",subtitleNumber:"p_IvR",postsCount:"M523y"},j=(0,c.J)(({timelineObject:e})=>{let{features:{communitiesSearchRedesignWeb:t}}=(0,r.Us)(),{logEvent:s}=(0,h.Ul)(),i=e.newPostsCount,o=e.newPostsCountInt,c=e.followersCount??"0",b=e.followersCountInt??0,j=!!e.showFollowersCount,y=!!e.showNewPostsCount,w=t?v:f,A=t?44:x().desktopPostAvatarSize,C=null;return y?C=/*#__PURE__*/(0,l.jsxs)(p.P0,{comment:"The number of posts this topic has had recently. Placeholder is the count of posts",components:{b:t?/*#__PURE__*/(0,l.jsx)("strong",{className:v.subtitleNumber}):/*#__PURE__*/(0,l.jsx)("b",{})},exemptNumberKeyFromParamCheck:!0,number:o,params:{newPostsCount:i},children:[/*#__PURE__*/(0,l.jsx)(p.M$,{children:"[newPostsCount] recent post"}),/*#__PURE__*/(0,l.jsx)(p.$e,{children:"[b][newPostsCount][/b] recent posts"})]}):j&&(C=/*#__PURE__*/(0,l.jsxs)(p.P0,{comment:"The number of followers this topic has. Placeholder is the count of followers",components:{b:t?/*#__PURE__*/(0,l.jsx)("strong",{className:w.subtitleNumber}):/*#__PURE__*/(0,l.jsx)("b",{})},exemptNumberKeyFromParamCheck:!0,number:b,params:{followersCount:c},children:[/*#__PURE__*/(0,l.jsx)(p.M$,{children:"[followersCount] follower"}),/*#__PURE__*/(0,l.jsx)(p.$e,{children:"[b][followersCount][/b] followers"})]})),/*#__PURE__*/(0,l.jsxs)("div",{className:w.tagInfoRow,children:[/*#__PURE__*/(0,l.jsxs)(m.A,{className:w.tagLink,onClick:()=>{s({eventName:u.R.SearchResultsTagElementTap,eventDetails:{tag:e.hubName}})},tagName:e.hubName,children:[/*#__PURE__*/(0,l.jsx)("div",{className:w.tagImage,children:/*#__PURE__*/(0,l.jsx)(a.yH,{altText:e.hubName,imageResponse:[{url:e.image,width:A,height:A}],isSquare:!0,sizes:`${A}px`})}),/*#__PURE__*/(0,l.jsxs)("div",{className:w.tagDescription,children:[/*#__PURE__*/(0,l.jsxs)("div",{className:w.tagName,children:["#",e.hubName]}),/*#__PURE__*/(0,l.jsx)("div",{className:w.postsCount,children:C})]})]}),/*#__PURE__*/(0,l.jsx)("div",{className:w.tagFloatingButton,children:t?/*#__PURE__*/(0,l.jsx)(d,{isFollowed:e.isFollowed,pageName:"search",tag:e.hubName}):/*#__PURE__*/(0,l.jsx)(n.A,{extraStyles:{backgroundColor:"transparent",color:g.paletteAccent,border:"none"},isFollowed:e.isFollowed,pageName:"search",tag:e.hubName})})]},e.id)})},85388:(e,t,s)=>{s.d(t,{Ay:()=>ak,ID:()=>aC});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(74059),r=/*#__PURE__*/s.n(i),o=s(22335),l=s(66449),d=s(85191),c=s(94048),m=s(4613),p=s(56040),u=/*#__PURE__*/s.n(p);let h={communityHeaderWrapper:"ScibS",tagLink:"ve9db",communityHeaderImage:"uQnmG",communityHeaderTagName:"zGQaS",communityHeaderSubtitle:"iqdyd",communityHubFollowButton:"LGuOI"};var g=s(60397);let b=function({timelineObject:e}){let{logEvent:t}=(0,m.Us)(),s=e.newPostsCount,a=e.newPostsCountInt,n=e.followersCount??"0",i=e.followersCountInt??0,r=!!e.showFollowersCount,u=!!e.showNewPostsCount;return/*#__PURE__*/(0,g.jsxs)("div",{className:h.communityHeaderWrapper,children:[/*#__PURE__*/(0,g.jsx)(l.A,{className:h.tagLink,onClick:()=>{t({eventName:c.R.HeaderTapped,eventDetails:{tag:e.hubName}})},tagName:e.hubName,children:/*#__PURE__*/(0,g.jsxs)("div",{className:h.communityHeaderImage,style:{backgroundImage:`linear-gradient(${p.transparentBlack7}, ${p.transparentBlack65}), url("${e.headerImage}")`},children:[/*#__PURE__*/(0,g.jsxs)("div",{className:h.communityHeaderTagName,children:["#",e.hubName]}),/*#__PURE__*/(0,g.jsxs)("div",{className:h.communityHeaderSubtitle,children:[r&&/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"The number of followers this topic has. Placeholder is the count of followers",components:{b:/*#__PURE__*/(0,g.jsx)("b",{})},exemptNumberKeyFromParamCheck:!0,number:i,params:{followersCount:n},children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[followersCount] follower"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[b][followersCount][/b] followers"})]}),r&&u&&"Â /Â ",u&&/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"The number of posts this topic has had recently. Placeholder is the count of posts",components:{b:/*#__PURE__*/(0,g.jsx)("b",{})},exemptNumberKeyFromParamCheck:!0,number:a,params:{newPostsCount:s},children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[newPostsCount] recent post"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[b][newPostsCount][/b] recent posts"})]})]})]})}),/*#__PURE__*/(0,g.jsx)(o.A,{className:h.communityHubFollowButton,isFollowed:e.isFollowed,pageName:"search",tag:e.hubName})]},e.hubName)};var x=s(93972),f=s(79831),v=s(43397),j=s(89549),y=s(44554),w=s(25183);let A={tagRibbon:"Y_M3_",pillTag:"HSIaV",pillIcon:"ZsnTE"},C=function({timelineObject:e}){let{logEvent:t}=(0,w.Ul)(),s=e=>{t({eventName:c.R.TagRibbonTagTap,eventDetails:{tag:e}})};return/*#__PURE__*/(0,g.jsx)("div",{className:A.tagRibbon,children:e.resources.map(({name:e,link:t})=>/*#__PURE__*/(0,g.jsxs)(l.A,{className:A.tagLink,isPill:!0,onClick:()=>s(e),pillClassName:A.pillTag,tagName:e,toOverride:t?.href,children:[/*#__PURE__*/(0,g.jsx)("div",{className:A.pillIcon,children:/*#__PURE__*/(0,g.jsx)(y.A,{})}),e]},e))},e.id)};var N=s(69998),k=s(62674),I=s(55321),_=s(33410),S=s(83322),P=s(9119),T=s(56281),R=s(26238),B=s(74460),O=s(19869);let L={announcement:"Te4Pg",content:"IZ6UF",text:"RDn0h",title:"RUFdS",options:"YEJRy",option:"GVCZ4"},E=(0,k.J)(({timelineObject:e})=>{let{logEvent:t}=(0,w.Ul)(),{apiFetch:s,_c:a}=(0,m.Us)(),{onRemoveTimelineObject:n}=(0,P._X)(),{toggleToast:i}=(0,T.Y)(),r=(e,s,a)=>{t({eventName:c.R.BannerActionClick,eventDetails:{is_dismiss:e,action_label:s,banner_id:a}})},o=e=>e.onTap===S.Jj.Dismiss?l:O.A,l=t=>{n?.(P.iN(e)),t?.response.message&&i?.(t.response.message)},d=(e,t)=>{switch(r(t.onTap===S.Jj.Dismiss,t.text,p?.bannerId),e){case _.J.Web:o(t)();break;case _.J.Action:{let e=(0,R.A)(t.link,s,o(t));e?.()}}},p=(0,B.M)(e);if(!p)return null;let u=e=>{let t;let{text:s,displayType:a,link:n}=e,{type:i,href:r,launchNewTab:o}=n;if(i!==_.J.Web&&i!==_.J.Action)return null;let l=()=>{d(i,e)},c=!1===o?"_self":"_blank";switch(a){case S.N5.Selected:t=/*#__PURE__*/(0,g.jsx)(N.jn,{context:"chrome",layout:"full",onClick:l,render:i===_.J.Web?/*#__PURE__*/(0,g.jsx)(I.N_,{target:c,to:r}):void 0,size:"large",children:s},s);break;case S.N5.Discreet:t=/*#__PURE__*/(0,g.jsx)(N.tA,{context:"chrome",layout:"full",onClick:l,render:i===_.J.Web?/*#__PURE__*/(0,g.jsx)(I.N_,{target:c,to:r}):void 0,size:"large",children:s})}return t},{title:h,options:b}=p,x=b&&b.length>0?/*#__PURE__*/(0,g.jsx)("div",{className:L.options,children:b.map(e=>/*#__PURE__*/(0,g.jsx)("div",{className:L.option,children:u(e)},e.text))}):null;return/*#__PURE__*/(0,g.jsx)("article",{"aria-label":a("[Timeline] A notice on the timeline that communicates information to the user, usually with an action and a dismiss button","Announcement"),className:L.announcement,children:/*#__PURE__*/(0,g.jsxs)("div",{className:L.content,children:[/*#__PURE__*/(0,g.jsx)("div",{className:L.text,children:/*#__PURE__*/(0,g.jsx)("h3",{className:L.title,children:h})}),x]})})});var M=s(39977),z=s(94683),D=s(11914),F=s(22552),W=s(8313),U=s(36665),H=s(92861);let G={answerTimeContainer:"CiFOS",answerTimeBanner:"tDrb8",leftContent:"r46S_",image:"EhYXO",sponsoredIndicator:"fv3fw",adMeatballMenu:"T7awP"},$=(0,k.J)(e=>{let{text:t,iconUrl:s,links:a,placementId:n}=e.timelineObject,i=e.timelineObject,{features:r}=(0,m.Us)(),{logEvent:o}=(0,w.Ul)(),l=(0,U.useCallback)(()=>{o({eventName:c.R.Click,eventDetails:{placement_id:n}})},[o,n]),d=s?[{url:s,height:64,width:64}]:null;return/*#__PURE__*/(0,g.jsxs)("div",{className:G.answerTimeContainer,children:[/*#__PURE__*/(0,g.jsxs)("a",{className:G.answerTimeBanner,href:a.destination?.href,onClick:l,rel:"noopener",target:"_blank",children:[/*#__PURE__*/(0,g.jsxs)("div",{className:G.leftContent,children:[d&&/*#__PURE__*/(0,g.jsx)("figure",{className:G.image,children:/*#__PURE__*/(0,g.jsx)(D.yH,{imageResponse:d,isSquare:!0,sizes:"25px"})}),/*#__PURE__*/(0,g.jsx)("div",{className:G.description,children:t})]}),/*#__PURE__*/(0,g.jsx)("div",{className:G.caret,children:/*#__PURE__*/(0,g.jsx)(M.eh,{colors:{primary:u().paletteTransparentWhite65},size:{height:13,width:13}})})]}),i.displayType===H.q.Sponsored&&/*#__PURE__*/(0,g.jsxs)("div",{className:G.sponsoredIndicator,children:[/*#__PURE__*/(0,g.jsx)(W.A,{className:G.sponsoredContainer,color:u().paletteTransparentWhite65,link:i.sponsoredBadgeUrl,showAdFreeLink:!1,showSpinner:!1}),/*#__PURE__*/(0,g.jsx)("span",{className:G.adMeatballMenu,children:/*#__PURE__*/(0,g.jsx)(F.A,{getAdInstance:()=>({advertiserName:i?.sponsoredBy||i?.blogName||i?.blog?.name,adProviderId:S.sf.Smart,isTumblrSponsoredPost:!0}),icon:/*#__PURE__*/(0,g.jsx)(z.W,{colors:{primary:u().paletteTransparentWhite65},size:{width:18,height:10}}),showAdFree:!1,showWhyAd:r.digitalServiceAct})})]})]})});var q=s(56365),V=s(10621),X=s(13275),K=s(82427),Q=s(1258),Y=s(2960);let J={marqueeContainer:"mSpAO",marqueeElement:"nset3",marquee:"_G9gk",marqueeUrl:"BtPJ5"},Z=e=>{let{url:t,ctaText:s}=e;return/*#__PURE__*/(0,g.jsx)("div",{className:J.marqueeContainer,role:"marquee",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>/*#__PURE__*/(0,g.jsxs)("span",{className:J.marqueeElement,children:[/*#__PURE__*/(0,g.jsx)("span",{className:J.marqueeText,children:s}),/*#__PURE__*/(0,g.jsx)("span",{children:"â"}),/*#__PURE__*/(0,g.jsxs)("a",{className:J.marqueeUrl,href:t,children:[t,/*#__PURE__*/(0,g.jsx)(Y.A,{colors:{primary:u().black},size:{width:11,height:11}})]})]},a))})};var ee=s(11100),et=s(17886),es=s(56356);let ea={container:"v4Qva",blazeAgainButton:"_FSbg",contactSupportButton:"tClC2"},en=({className:e,onClickContactSupport:t,onClickBlazeAgain:s})=>{let{wwwBaseUrl:a,_c:n}=(0,m.Us)(),{post:{canBlaze:i}}=(0,es.gY)(),o=n("Blaze again button","Blaze again"),l=n("Contact support button","Contact support");return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(ea.container,e),children:[/*#__PURE__*/(0,g.jsx)(et.A,{className:ea.contactSupportButton,feature:!1,href:`${a}/support`,label:l,onClick:t,theme:"border",children:/*#__PURE__*/(0,g.jsx)("span",{children:l})}),i&&/*#__PURE__*/(0,g.jsx)(ee.A,{label:o,onClick:s,wrapperClassName:ea.blazeAgainButton,children:o})]})};var ei=s(92123),er=s(58897),eo=s(98778),el=s(40394);let ed={container:"yCNr1",metric:"rQBeX",metricQty:"N1Jhz"},ec=({className:e,iconSize:t={width:24,height:24},iconColor:s=p.paletteGray80,itemClassName:a,itemLabelClassName:n,impressions:i,likes:o,reblogs:l,shares:d})=>{let{_cn:c,_getLocaleNumberString:u}=(0,m.Us)(),h=e=>e?u(e,"compact"):"0",b=({icon:e,ariaLabel:t,amount:s})=>/*#__PURE__*/(0,g.jsxs)("div",{className:r()(ed.metric,a),children:[e,/*#__PURE__*/(0,g.jsx)("p",{"aria-label":t,className:r()(ed.metricQty,n),children:s})]});return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(ed.container,e),children:[/*#__PURE__*/(0,g.jsx)(b,{amount:h(i),ariaLabel:c("Accessibility label for the number of impressions of a Blaze campaign","%1$s impression","%1$s impressions",i),icon:/*#__PURE__*/(0,g.jsx)(el.A,{colors:{primary:s},size:t})}),/*#__PURE__*/(0,g.jsx)(b,{amount:h(o),ariaLabel:c("Accessibility label for the number of likes of a Blaze campaign","%1$s like","%1$s likes",o),icon:/*#__PURE__*/(0,g.jsx)(ei.A,{emptyIconColors:{primary:s},filled:!1,size:t})}),/*#__PURE__*/(0,g.jsx)(b,{amount:h(l),ariaLabel:c("Accessibility label for the number of reblogs of a Blaze campaign","%1$s reblog","%1$s reblogs",l),icon:/*#__PURE__*/(0,g.jsx)(er.A,{colors:{primary:s},isRounded:!0,size:t})}),/*#__PURE__*/(0,g.jsx)(b,{amount:h(d),ariaLabel:c("Accessibility label for the number of shares of a Blaze campaign","%1$s share","%1$s shares",d),icon:/*#__PURE__*/(0,g.jsx)(eo.A,{colors:{primary:s},size:t})})]})};var em=s(95931),ep=s(84236),eu=s(32880);let eh={header:"ktZLq",postContainer:"VXJCd",activity:"M8EEV",title:"ibxKI",content:"QCP_G",campaignStatus:"FiXWk",metric:"NfCZL",metricLabel:"mrrMS",boppNotice:"MEM8E",blazeIcon:"yRcwV",intro:"w9XYs"},eg=({className:e,campaignInfo:t})=>{let s,a;let{_getLocaleDateString:n,_getLocaleNumberString:i,_c:o}=(0,m.Us)(),{post:l}=(0,es.gY)(),{startTime:p,endTime:h,impressionGoal:b,status:x,isSingleUserBlaze:f=!0,userIsBlazer:v,userIsBlazee:j,blazerBlog:y}=t,w=!f&&(!!v||!!j)&&!!y,A=/*#__PURE__*/(0,g.jsx)(q.A,{blog:y,krakenEventName:c.R.Posts,children:y?.name}),C=/*#__PURE__*/(0,g.jsx)(q.A,{blog:l.blog,krakenEventName:c.R.Posts,children:l.blogName});switch(x){case"completed":s=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign activity intro message",params:{impressionGoal:i(b),startDate:n(new Date(1e3*p),ep.N.NumericDayMonthShortYear,!0),endDate:n(new Date(1e3*h),ep.N.NumericDayMonthShortYear,!0)},children:"Your campaign was live for 24h from [startDate] - [endDate], for a selected audience of [impressionGoal]."}),a=o("Blaze campaign status","Completed");break;case"extinguished":s=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign activity intro message for extinguished campaigns",params:{impressionGoal:i(b),startDate:n(new Date(1e3*p),ep.N.NumericDayMonthShortYear,!0)},children:"Your campaign was active on [startDate] for a selected audience of [impressionGoal], but it was stopped before it finished."}),a=o("Blaze campaign status","Extinguished");break;default:return(0,eu.M)(x)}let N=n(new Date(1e3*p),ep.N.MonthDayYearShort,!0)+" - "+n(new Date(1e3*h),ep.N.MonthDayYearShort,!0),k=t.sponsoredImpressions+t.earnedImpressions,I=t.sponsoredLikes+t.earnedLikes,_=t.sponsoredReblogs+t.earnedReblogs,S=t.sponsoredShares+t.earnedShares;return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(eh.header,e),children:[/*#__PURE__*/(0,g.jsx)("h1",{className:eh.title,children:N}),/*#__PURE__*/(0,g.jsx)("div",{className:eh.content,children:/*#__PURE__*/(0,g.jsx)("div",{className:eh.postContainer,children:/*#__PURE__*/(0,g.jsx)(em.I,{...l})})}),/*#__PURE__*/(0,g.jsx)("div",{className:eh.campaignStatus,children:a}),/*#__PURE__*/(0,g.jsx)(ec,{className:eh.metrics,iconColor:u().paletteGray40,iconSize:{height:24,width:24},impressions:k,itemClassName:eh.metric,itemLabelClassName:eh.metricLabel,likes:I,reblogs:_,shares:S}),/*#__PURE__*/(0,g.jsx)("p",{className:eh.intro,children:s}),/*#__PURE__*/(0,g.jsx)("div",{className:eh.activity,children:w&&/*#__PURE__*/(0,g.jsxs)("div",{className:eh.boppNotice,children:[v&&/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Label description for a Blazed post, blazed an other's user post",components:{blazerBlogLink:C},children:"You sponsored a post made by [blazerBlogLink/]."}),j&&!v&&/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Label description for a Blazed post, blazed from an other user",components:{blazeeBlogLink:A},children:"This campaign was sponsored by [blazeeBlogLink/]."})]})})]})};var eb=s(99146),ex=s(79347),ef=s(86619),ev=s(83087),ej=s(89972),ey=s(99805),ew=/*#__PURE__*/s.n(ey);let eA=({children:e})=>{let{isSmartphone:t}=(0,ev.Ri)(),[s,a]=(0,U.useState)(!1),n=()=>a(!s);return t?/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsx)(ex.A,{colors:{primary:p.paletteGray40},onClick:n,size:{height:15,width:15}}),/*#__PURE__*/(0,g.jsx)(eb.A,{glassCallback:n,isAboveOverlays:!0,isOpen:s,position:"bottom",children:e})]}):/*#__PURE__*/(0,g.jsx)(ef.Ay,{component:e,isOpen:s,position:ej.$x.RightStart,toggle:n,type:ej.oO.Hover,width:ey.blazeInsightsPopoverWidth,children:/*#__PURE__*/(0,g.jsx)(ex.A,{colors:{primary:p.paletteGray40},size:{height:15,width:15}})})},eC={popover:"sDsUc",header:"L7mvX",headerDescription:"iqpqN",title:"ongB1",emoji:"sEal0"},eN=({title:e,titleEmoji:t,description:s})=>/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsxs)("div",{className:eC.title,children:[t&&/*#__PURE__*/(0,g.jsx)("span",{"aria-label":"",className:eC.emoji,role:"img",children:t}),e]}),/*#__PURE__*/(0,g.jsx)("p",{children:s})]}),ek=()=>/*#__PURE__*/(0,g.jsxs)("div",{className:eC.popover,children:[/*#__PURE__*/(0,g.jsx)("div",{className:eC.header,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: header title",children:"What does it all mean?"})}),/*#__PURE__*/(0,g.jsx)("p",{className:eC.headerDescription,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign campaign goal popover: description",children:"Finetune your Blaze experience with these tailor-made campaign goals."})}),/*#__PURE__*/(0,g.jsx)("hr",{}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign goal popover: Sales goal description",children:"When the sales goal is selected, the campaign focuses on driving traffic to the website address specified during your campaign creation. Blaze your business."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign goal: Sales section title",children:"Sales"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign goal: Engagement section description",children:"If the engagement goal was assigned, the campaign aims to increase engagement on the post selected for your Blaze campaign. It's for content that simply has to be shared."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign goal: Engagement section title",children:"Engagement"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign goal popover: Follower goal description",children:"When the followers goal is selected, the campaign focuses on finding more followers, fans, and friends for the blog linked to the Blaze campaign. Find your people."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign goal popover: Follower section title",children:"More Followers"})})]}),eI=()=>/*#__PURE__*/(0,g.jsxs)("div",{className:eC.popover,children:[/*#__PURE__*/(0,g.jsx)("div",{className:eC.header,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: header title",children:"What does this mean?"})}),/*#__PURE__*/(0,g.jsx)("p",{className:eC.headerDescription,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign engagements popover: description",children:"This is a breakdown of engagements your Blazed post received during its campaign."})}),/*#__PURE__*/(0,g.jsx)("hr",{}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign engagements popover: engagements description",children:"This refers to actions your post received when someone viewed your post (reblogs, likes, shares, follows, clicks, replies). How many times your post received an action (reblogs, likes, shares, follows, clicks, replies)."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: engagements section title",children:"Engagements"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign engagements popover: paid description",children:"The amount via Blaze is a direct result from when your Blaze campaign ran."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: paid section title",children:"Via Blaze"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign engagements popover: earned description",children:"The amount earned is from people spreading your post further, and aren't a direct result of the audience you paid for."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: earned section title",children:"Earned"})})]}),e_=()=>/*#__PURE__*/(0,g.jsxs)("div",{className:eC.popover,children:[/*#__PURE__*/(0,g.jsx)("div",{className:eC.header,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: header title",children:"What does this mean?"})}),/*#__PURE__*/(0,g.jsx)("p",{className:eC.headerDescription,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign overview popover: description",children:"This is a summary of the audience reached and the engagements received during your Blaze campaign."})}),/*#__PURE__*/(0,g.jsx)("hr",{}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign overview popover: audience description",children:"Number of people who were shown your Blazed post."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: audience section title",children:"Audience"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign overview popover: engagements description",children:"Interactions with your Blazed post (reblogs, likes, shares, follows, clicks, replies)."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: engagements section title",children:"Engagements"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign overview popover: paid description",children:"These are the engagements your Blazed post received as a direct result of being Blazed to an audience of your choosing."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: paid section title",children:"Via Blaze"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign overview popover: earned description",children:'"Earned" refers to the audience and engagements the post achieves organically during the campaign, i.e. not as a direct result of being Blazed.'}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: earned section title",children:"Earned"})})]}),eS=()=>/*#__PURE__*/(0,g.jsxs)("div",{className:eC.popover,children:[/*#__PURE__*/(0,g.jsx)("div",{className:eC.header,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: header title",children:"What does this mean?"})}),/*#__PURE__*/(0,g.jsx)("p",{className:eC.headerDescription,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign targeting popover: description",children:"These are the details of your campaign's targeting settings."})}),/*#__PURE__*/(0,g.jsx)("hr",{}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign targeting popover: Location section description",children:"It shows the country that was targeted when this campaign was live."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: Location section title",children:"Location"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign targeting popover: Language section description",children:"It shows which language-speaking audience was targeted when this campaign was live."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: Language section title",children:"Language"})}),/*#__PURE__*/(0,g.jsx)(eN,{description:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign targeting popover: Tags section description",children:"It lists tags the campaign targeted when it was live."}),title:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign popover: Tags section title",children:"Tags"})})]});var eP=s(20928);let eT=(0,eP.Kk)("followers",{size:{width:25,height:24}}),eR=(0,eP.Kk)("pointer",{size:{width:24,height:24}});var eB=s(94818);let eO={container:"HaeOc",title:"uit_7",topIcons:"yi4Zv",leftIcons:"GgZbk",icons:"j63Zg",description:"zi9vL",tagListContainer:"gGm8i",tag:"RDKrD",tagContainer:"XmG36"},eL={width:24,height:24},eE=p.paletteGray40,eM=({metric:e,campaignInfo:t})=>{let s,a,n,i,o,l;let{_getLocaleNumberString:c}=(0,m.Us)(),p=0,u="top",h=!1,b="";switch(e){case"impressions":p=t.totalImpressions,s=t.sponsoredImpressions,a=t.earnedImpressions,u="top",l=/*#__PURE__*/(0,g.jsx)(el.A,{colors:{primary:eE},size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Section title of a Blaze campaign, description for how many people have been shown a post",children:"people reached"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X impressions from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X impressions earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"engagements":p=t.totalEngagements,s=t.sponsoredEngagements,a=t.earnedEngagements,u="top",l=/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsx)(er.A,{colors:{primary:eE},isRounded:!0,size:eL}),/*#__PURE__*/(0,g.jsx)(ei.A,{emptyIconColors:{primary:eE},filled:!1,size:eL}),/*#__PURE__*/(0,g.jsx)(eo.A,{colors:{primary:eE},size:eL}),/*#__PURE__*/(0,g.jsx)(eT,{colors:{primary:eE},size:eL}),/*#__PURE__*/(0,g.jsx)(eR,{colors:{primary:eE},size:eL}),/*#__PURE__*/(0,g.jsx)(eB.A,{emptyIconColors:{primary:eE},filled:!1,size:eL})]}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Engagements section title of a Blaze campaign",children:"engagements"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X engagements from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X engagements earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"reblogs":p=t.totalReblogs,s=t.sponsoredReblogs,a=t.earnedReblogs,u="top",l=/*#__PURE__*/(0,g.jsx)(er.A,{colors:{primary:eE},isRounded:!0,size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Reblogs section title of a Blaze campaign",children:"reblogs"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X reblogs from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X reblogs earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"likes":p=t.totalLikes,s=t.sponsoredLikes,a=t.earnedLikes,u="top",l=/*#__PURE__*/(0,g.jsx)(ei.A,{emptyIconColors:{primary:eE},filled:!1,size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Likes section title of a Blaze campaign",children:"likes"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X likes from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X likes earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"shares":p=t.totalShares,s=t.sponsoredShares,a=t.earnedShares,u="top",l=/*#__PURE__*/(0,g.jsx)(eo.A,{colors:{primary:eE},size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Shares section title of a Blaze campaign",children:"shares"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X shares from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X shares earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"follows":p=t.totalFollows,s=t.sponsoredFollows,a=t.earnedFollows,u="top",l=/*#__PURE__*/(0,g.jsx)(eT,{colors:{primary:eE},size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Follows section title of a Blaze campaign",children:"follows"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X follows from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X follows earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"clicks":p=t.totalClicks,s=t.sponsoredClicks,a=t.earnedClicks,u="top",l=/*#__PURE__*/(0,g.jsx)(eR,{colors:{primary:eE},size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Clicks section title of a Blaze campaign",children:"clicks"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X clicks from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X clicks earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"replies":p=t.totalReplies,s=t.sponsoredReplies,a=t.earnedReplies,u="top",l=/*#__PURE__*/(0,g.jsx)(eB.A,{emptyIconColors:{primary:eE},filled:!1,size:eL}),n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Replies section title of a Blaze campaign",children:"replies"}),i=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign: Abbreviation of X replies from paid impressions",params:{count:c(s,"compact")},children:"[count] via Blaze"}),o=/*#__PURE__*/(0,g.jsxs)(d.P0,{comment:"Blaze campaign: Abbreviation of X replies earned",formatNumberWithLocale:!0,number:a,children:[/*#__PURE__*/(0,g.jsx)(d.M$,{children:"[number] earned"}),/*#__PURE__*/(0,g.jsx)(d.$e,{children:"[number] earned"})]});break;case"location":h=!0,n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Location targeting section title of a Blaze campaign",children:"Location"}),i=t.countryAudienceDescription;break;case"language":h=!0,n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Language targeting section title of a Blaze campaign",children:"Language"}),i=t.languageAudienceDescription;break;case"tags":if(h=!0,n=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Tags targeting section title of a Blaze campaign",children:"Tags"}),t.tagsAudience){let e=t.tagsAudience.split(",").map(e=>/*#__PURE__*/(0,g.jsxs)("span",{className:eO.tag,children:["#",e]},e));i=/*#__PURE__*/(0,g.jsx)("div",{className:eO.tagListContainer,children:e}),b=eO.tagContainer}else i="-"}return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(eO.container,b),children:[/*#__PURE__*/(0,g.jsxs)("div",{className:eO.title,children:[/*#__PURE__*/(0,g.jsx)("div",{className:"top"===u?eO.topIcons:eO.leftIcons,children:/*#__PURE__*/(0,g.jsx)("span",{className:eO.icons,children:l})}),/*#__PURE__*/(0,g.jsxs)("h3",{children:[h?"":c(p,"compact")," ",n]})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:eO.description,children:[/*#__PURE__*/(0,g.jsx)("p",{children:i}),/*#__PURE__*/(0,g.jsx)("p",{children:o})]})]})},ez={body:"pxXIi",title:"Q3Wzh",footer:"lBLjU",section:"ARWH6",targetingSection:"Z6KOK",campaignGoalSection:"Snm10",metricsContainer:"AuVKd",engagementContainer:"_7hEfa",targetingContainer:"NXtez",campaignGoalIconHeader:"BU2mq",campaignGoalSubheader:"C_0Mq",simpleMetricContainer:"J6x9p",simpleMetric:"USjlu",simpleMetricLabel:"totSw"},eD=({campaignInfo:e,onClickContactSupport:t,onClickBlazeAgain:s})=>{let{_c:a,features:{blazeGoalSelectionV2:n}}=(0,m.Us)();return/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsx)(Q.Ay,{page:"BlazeInsights"}),/*#__PURE__*/(0,g.jsx)(eg,{campaignInfo:e}),/*#__PURE__*/(0,g.jsxs)("div",{className:ez.body,children:[/*#__PURE__*/(0,g.jsx)(en,{className:ez.footer,onClickBlazeAgain:s,onClickContactSupport:t}),/*#__PURE__*/(0,g.jsxs)("section",{"aria-label":a("Blaze campaign Overview section title","Overview"),className:ez.section,role:"list",children:[/*#__PURE__*/(0,g.jsxs)("h1",{className:ez.title,children:[/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Blaze campaign Overview section title",children:"Overview"}),/*#__PURE__*/(0,g.jsx)(eA,{children:/*#__PURE__*/(0,g.jsx)(e_,{})})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:ez.metricsContainer,children:[/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"impressions"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"engagements"})]})]}),/*#__PURE__*/(0,g.jsxs)("section",{"aria-label":a("Engagements section title of a Blaze campaign","Engagements"),className:ez.section,role:"list",children:[/*#__PURE__*/(0,g.jsxs)("h1",{className:ez.title,children:[/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Engagements section title of a Blaze campaign",children:"Engagements"}),/*#__PURE__*/(0,g.jsx)(eA,{children:/*#__PURE__*/(0,g.jsx)(eI,{})})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:ez.engagementContainer,children:[/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"reblogs"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"likes"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"shares"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"follows"}),e.hasLinks&&"sales"!==e.campaignGoal&&/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"clicks"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"replies"})]})]}),n&&/*#__PURE__*/(0,g.jsxs)("section",{"aria-label":a("Campaign Goal section title for a blaze campaign","Campaign Goal"),className:r()(ez.section,ez.campaignGoalSection),role:"list",children:[/*#__PURE__*/(0,g.jsxs)("h1",{className:ez.title,children:[/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Campaign goal section title of a Blaze campaign",children:"Campaign Goal"}),/*#__PURE__*/(0,g.jsx)(eA,{children:/*#__PURE__*/(0,g.jsx)(ek,{})})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:ez.campaignGoalIconHeader,children:[/*#__PURE__*/(0,g.jsx)("div",{className:ez.campaignGoalIcon,children:/*#__PURE__*/(0,g.jsx)(K.R,{goal:e.campaignGoal})}),/*#__PURE__*/(0,g.jsx)("div",{className:ez.campaignGoalSubheader,children:e.campaignGoalDescription})]}),"sales"===e.campaignGoal&&/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsxs)("div",{className:ez.simpleMetricContainer,children:[/*#__PURE__*/(0,g.jsx)("span",{className:ez.simpleMetricLabel,children:a("Label for button click metric for tumblr blaze campaigns with sales goal","Button clicks:")}),/*#__PURE__*/(0,g.jsx)("span",{className:ez.simpleMetric,children:e.totalClicks})]}),/*#__PURE__*/(0,g.jsx)(Z,{ctaText:e.ctaButtonDescription??"",url:e.ctaButtonUrl??""})]})]}),/*#__PURE__*/(0,g.jsxs)("section",{"aria-label":a("Targeting section title of a Blaze campaign","Targeting"),className:r()(ez.section,ez.targetingSection),role:"list",children:[/*#__PURE__*/(0,g.jsxs)("h1",{className:ez.title,children:[/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Targeting section title of a Blaze campaign",children:"Targeting"}),/*#__PURE__*/(0,g.jsx)(eA,{children:/*#__PURE__*/(0,g.jsx)(eS,{})})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:ez.targetingContainer,children:[/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"location"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"language"}),/*#__PURE__*/(0,g.jsx)(eM,{campaignInfo:e,metric:"tags"})]})]})]})]})};var eF=s(12289),eW=s(79393);let eU={container:"leVy7",blazeAgainButton:"cWqN5",blazeAgainButtonInner:"lFuwX",actionButton:"YzmTr"},eH=({canBlaze:e,campaignStatus:t,onClickBlazeAgain:s,onClickViewInsights:a,onClickExtinguish:n})=>{let{features:i,_c:r}=(0,m.Us)(),{tumblrBlazeLandingPageCampaignInsights:o}=i,l=r("Blaze again button","Blaze again"),d=r("View Blaze insights button","Insights"),c=r("Extinguish campaign button","Extinguish"),p=e$(t),u=eq(t);return/*#__PURE__*/(0,g.jsxs)("div",{className:eU.container,children:[o&&p&&/*#__PURE__*/(0,g.jsx)(ee.A,{label:d,onClick:a,wrapperClassName:eU.actionButton,children:d}),"rejected"!==t&&e&&/*#__PURE__*/(0,g.jsx)(ee.A,{className:eU.blazeAgainButtonInner,label:l,onClick:s,wrapperClassName:eU.blazeAgainButton,children:l}),u&&/*#__PURE__*/(0,g.jsx)(ee.A,{label:c,onClick:n,wrapperClassName:eU.actionButton,children:c})]})},eG={post:"IOzxh",container:"NRB1z",left:"eFAeT",postTitleContainer:"C3OQ9",right:"NDFeY",status:"ODi7v",active:"Bqx1i",pending:"eKTP_",date:"YCfHE",descriptionContainer:"_wwjA",metrics:"n2TrC",metric:"osXRO",content:"YY6ov",postContainer:"xSly9"},e$=e=>["completed","extinguished"].includes(e),eq=e=>["approved","pending"].includes(e),eV=({timelineObject:e})=>{let t;let{_c:s,_getLocaleDateString:a,isAdmin:n}=(0,m.Us)(),{logEvent:i}=(0,w.Ul)(),[o,l]=(0,U.useState)(!1),[p,u]=(0,U.useState)(!1),{isSmartphone:h}=(0,ev.Ri)(),{status:b,createdAt:x,sponsoredImpressions:f,earnedImpressions:v,sponsoredLikes:j,earnedLikes:y,sponsoredReblogs:A,earnedReblogs:C,sponsoredShares:N,earnedShares:k,isSingleUserBlaze:I=!0,userIsBlazer:_=!0,userIsBlazee:S=!1,blazerBlog:P}=e,T=e.post,{canBlaze:R,blogName:B}=T,O={post:T,presentationStyle:eW.A.blaze},L=()=>l(e=>!e),E=()=>u(e=>!e),{basePage:M}=(0,V.lK)(),z=()=>{L(),i({eventName:c.R.BlazeLandingPageBlazeAgainTap})};switch(b){case"approved":t=s("Blaze campaign status: Approved","Approved");break;case"canceled":t=s("Blaze campaign status: Canceled","Canceled");break;case"completed":t=s("Blaze campaign status: Completed","Completed");break;case"created":t=s("Blaze campaign status: Created","Created");break;case"extinguished":t=s("Blaze campaign status: Extinguished","Extinguished");break;case"pending":t=s("Blaze campaign status: Pending","Pending");break;case"rejected":t=s("Blaze campaign status: Rejected","Rejected")}let D=P?/*#__PURE__*/(0,g.jsx)(q.A,{blog:P,krakenEventName:c.R.Posts,children:P?.name}):/*#__PURE__*/(0,g.jsx)("span",{children:P?.name}),F=T?/*#__PURE__*/(0,g.jsx)(q.A,{blog:T.blog,krakenEventName:c.R.Posts,children:B}):/*#__PURE__*/(0,g.jsx)("span",{children:B});return/*#__PURE__*/(0,g.jsx)(es._5.Provider,{value:O,children:/*#__PURE__*/(0,g.jsx)(eF.eG.Provider,{value:{blazeCampaign:e},children:/*#__PURE__*/(0,g.jsxs)("article",{className:eG.post,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:eG.container,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:eG.left,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:eG.postTitleContainer,children:[/*#__PURE__*/(0,g.jsx)("div",{className:eG.content,children:/*#__PURE__*/(0,g.jsx)("div",{className:eG.postContainer,children:/*#__PURE__*/(0,g.jsx)(em.A,{openInPeepr:!0,showHover:!1,timelineObject:T})})}),/*#__PURE__*/(0,g.jsxs)("div",{className:eG.title,children:[/*#__PURE__*/(0,g.jsx)("div",{className:r()(eG.status,{[eG.active]:"approved"===b,[eG.pending]:"pending"===b}),children:t}),/*#__PURE__*/(0,g.jsx)("div",{className:eG.date,children:a(new Date(1e3*x),ep.N.Notes,!0)})]})]}),!I&&/*#__PURE__*/(0,g.jsxs)("div",{className:eG.descriptionContainer,children:[_&&/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Label description for a Blazed post, blazed an other's user post",components:{blazerBlogLink:F},children:"You sponsored [blazerBlogLink/]'s post"}),S&&!_&&/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Label description for a Blazed post, blazed from an other user",components:{blazeeBlogLink:D},children:"Sponsored by [blazeeBlogLink/] with Blaze"})]})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:eG.right,children:[/*#__PURE__*/(0,g.jsx)(ec,{className:eG.metrics,iconSize:{height:24,width:24},impressions:f+v,itemClassName:eG.metric,likes:j+y,reblogs:A+C,shares:N+k}),/*#__PURE__*/(0,g.jsx)(eH,{campaignStatus:b,canBlaze:R,onClickBlazeAgain:z,onClickExtinguish:()=>{L(),"approved"===b?i({eventName:c.R.BlazeExtinguished,eventDetails:{is_admin:n},page:M}):i({eventName:c.R.BlazeCanceled,eventDetails:{is_admin:n},page:M})},onClickViewInsights:()=>{E(),i({eventName:c.R.ScreenView,page:"BlazeInsights"})}})]})]}),/*#__PURE__*/(0,g.jsx)(V.Ay,{productPopoverIsOpen:o,toggleProductPopover:L}),e$(b)&&p&&/*#__PURE__*/(0,g.jsx)(X.A,{modalWrapperClass:"blazeInsights",onClose:E,theme:h?X.v.Default:X.v.Rounded,children:/*#__PURE__*/(0,g.jsx)(eD,{campaignInfo:{...e,status:b},onClickBlazeAgain:z,onClickContactSupport:()=>{i({eventName:c.R.BlazeLandingPageSupportTap,eventDetails:{sendPayloadImmediately:!0}})}})})]})})})};var eX=s(48630),eK=s(88617),eQ=s(33116),eY=s(91945),eJ=s(164);let eZ={timelineBlogRow:"wtNDp",followButton:"r6SOU"},e0=({className:e,context:t="content",rowTheme:s,avatar:a,avatarShape:n,blogName:i,blogTitle:o,blogUrl:l,onClick:d,onFollow:c,isFollowed:m,withFdsFollowButton:p})=>{let u=p?/*#__PURE__*/(0,g.jsx)(eQ.t,{blogName:i,blogUrl:l,context:t,following:!!m,onFollow:c,showUnfollow:!0}):/*#__PURE__*/(0,g.jsx)(eY.A,{blogName:i,blogUrl:l,className:r()(eJ.A.blogRowFollowButton,eZ.followButton),following:!!m,onFollow:c,showUnfollowText:!0});return/*#__PURE__*/(0,g.jsx)("div",{className:eZ.timelineBlogRow,children:/*#__PURE__*/(0,g.jsx)(eK.A,{avatar:a,avatarShape:n,blogName:i,blogTitle:o,blogUrl:l,className:e,floatingButton:u,isMobile:!1,onClick:d,openBlogCard:"body",theme:s||"dark"})})},e1=({timelineObject:e})=>{let{isLoggedIn:t}=(0,m.Us)(),[s,a]=(0,U.useState)(void 0),n=e.resources[0];if(!n)return null;let i=s??n.followed;return/*#__PURE__*/(0,g.jsx)(e0,{avatar:n.avatar,avatarShape:n.theme?.avatarShape,blogName:n.name,blogTitle:n.title,blogUrl:n.url,isFollowed:i,onFollow:()=>{t&&a(!i)},rowTheme:"blog"},e.id)};var e6=s(55713),e2=s(71468),e3=s(53986);let e4={textContainer:"H2SSj",actionContainer:"js3m2",actionButton:"sz2wV"},e7=({timelineObject:e})=>{let{features:t}=(0,m.Us)(),s=(0,e2.Ic)(e.resources.isParticipating??null),a=(0,e2.HS)(),n=s.data;(0,e2.gD)({active:!!t.definitelySomething&&!1!==n,initialData:e.resources.boops});let i=(0,e2.Rz)(),r=(0,e2.qj)();(0,U.useEffect)(()=>{null===s.data&&void 0!==e.resources.isParticipating&&a(e.resources.isParticipating)},[s.data,e.resources.isParticipating,a]);let o=(0,e3.zy)().pathname;return t.definitelySomething&&"/_labs/patio"!==o?/*#__PURE__*/(0,g.jsxs)("div",{children:[/*#__PURE__*/(0,g.jsx)(e6.m,{}),!1===n&&/*#__PURE__*/(0,g.jsxs)("div",{className:e4.textContainer,children:[/*#__PURE__*/(0,g.jsxs)("div",{children:["Youâve opted out of boops today.",/*#__PURE__*/(0,g.jsx)("br",{}),"You wonât be able to send or receive any boops on any blogs."]}),/*#__PURE__*/(0,g.jsx)(ee.A,{className:e4.actionButton,onClick:()=>r.mutate(),children:"Wait, I want to see all of this!"})]}),/*#__PURE__*/(0,g.jsxs)("div",{className:e4.actionContainer,children:[null===n?/*#__PURE__*/(0,g.jsx)(ee.A,{className:e4.actionButton,onClick:()=>r.mutate(),children:"Start"}):null,!1!==n?/*#__PURE__*/(0,g.jsx)(ee.A,{className:e4.actionButton,onClick:()=>i.mutate(),children:"Opt out"}):null]})]}):/*#__PURE__*/(0,g.jsx)("div",{})};var e9=s(69010);let e8={ctaCard:"YPDbZ",ctaContent:"vUbJS",withImage:"Qb2yW",text:"oPeFl",textPositionTop:"c49bG",textPositionBottom:"u0WK9",button:"KQzUb",ctaAction:"ZGCkJ"},e5=({ctaCard:e,onActionClick:t,isDoingAction:s=!1})=>{let a=!!e.image?.response,n=e.image?.textPosition||S.DI.Middle;return/*#__PURE__*/(0,g.jsxs)("div",{className:e8.ctaCard,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:r()(e8.ctaContent,{[e8.withImage]:a,[e8.textPositionTop]:n===S.DI.Top,[e8.textPositionMiddle]:n===S.DI.Middle,[e8.textPositionBottom]:n===S.DI.Bottom}),children:[e.image?.response&&/*#__PURE__*/(0,g.jsx)(D.jA,{altText:e.text,imageResponse:e.image.response,sizes:""}),/*#__PURE__*/(0,g.jsx)("p",{className:e8.text,children:e.text})]}),/*#__PURE__*/(0,g.jsx)(ee.A,{className:e8.ctaAction,disabled:s,onClick:t,wrapperClassName:e8.button,children:e.buttonText})]})},te={callToAction:"AYRVj",cardWrapper:"jCB92",visible:"FYQEO",dismissalButton:"HIc07"},tt=(e,t)=>{let s={...e.bodyParams,cardIndex:t.toString()};return{...e,bodyParams:s}},ts=({timelineObject:e})=>{let{campaignName:t,dismissal:s,elements:a}=e,[n,i]=(0,U.useState)(!1),[o,l]=(0,U.useState)(0),{_t:d,apiFetch:u}=(0,m.Us)(),{logEvent:h}=(0,w.Ul)(),{onRemoveTimelineObject:b}=(0,P._X)(),x=()=>a[o],f=e=>{h({eventName:c.R.TimeLineCTAClick,eventDetails:{is_dismissal:e,campaign_name:t,card_index:o}})},v=()=>b((0,P.iN)(e)),j=()=>{let{action:e}=x();f(!1),e?e.type===_.J.Web?y(s.options[0].link,A):y(e,C):C()},y=(e,t)=>{i(!0),(0,R.A)(e,u,t)()},A=()=>{let{action:e}=x(),{href:t}=e;t&&window.location.assign(t)},C=()=>{a.length===o+1?v():(i(!1),l(o+1))};return/*#__PURE__*/(0,g.jsxs)("div",{className:te.callToAction,children:[a.map((e,t)=>/*#__PURE__*/(0,g.jsx)("div",{className:r()(te.cardWrapper,{[te.visible]:t===o}),children:/*#__PURE__*/(0,g.jsx)(e5,{ctaCard:e,isDoingAction:n,onActionClick:j})},t)),/*#__PURE__*/(0,g.jsx)(ee.A,{className:te.dismissalButton,disabled:n,label:d("Close"),onClick:()=>{let e=tt(s.options[0].link,o);f(!0),y(e,v)},children:/*#__PURE__*/(0,g.jsx)(e9.A,{colors:{primary:p.paletteTransparentWhite13}})})]})};var ta=s(18785);let tn=s.p+"src/assets/images/tour-guide/heart border 1-4729e853.svg",ti=s.p+"src/assets/images/tour-guide/heart border 2-75fd75aa.svg",tr=s.p+"src/assets/images/tour-guide/reblog border 1-c1d9d794.svg",to=s.p+"src/assets/images/tour-guide/reblog border 2-c93a5638.svg";var tl=s(44111),td=s(70426);let tc={celebration:"t3dLo",heading:"D1IY6",body:"y7aw1",button:"ZKWeK",communityCelebration:"eg1_9",communityCelebrationContent:"b_rp_",communityCelebrationContentTextWrapper:"y2LJf",communityCelebrationHeading:"nfqZr",communityCelebrationBody:"tSUo6",communityCelebrationImage:"VMjw1"},tm=({timelineObject:e})=>{let t,s;let{celebrationType:a,title:n,body:i,button:r}=e,{onRemoveTimelineObject:o}=(0,P._X)(),{logEvent:l}=(0,w.Ul)();switch(a){case"first_like":t=tn,s=ti;break;case"first_reblog":t=tr,s=to}return"first_community_post"===a||"first_community_comment"===a||"first_reaction"===a?/*#__PURE__*/(0,g.jsxs)("div",{className:tc.communityCelebration,children:[/*#__PURE__*/(0,g.jsx)("img",{alt:"",className:tc.communityCelebrationImage,src:e.image?.url}),/*#__PURE__*/(0,g.jsxs)(td.B,{className:tc.communityCelebrationContent,gap:"xl",children:[/*#__PURE__*/(0,g.jsxs)(td.B,{className:tc.communityCelebrationContentTextWrapper,gap:"xs",children:[/*#__PURE__*/(0,g.jsx)("h1",{className:tc.communityCelebrationHeading,children:n}),/*#__PURE__*/(0,g.jsx)("p",{className:tc.communityCelebrationBody,children:i})]}),r&&"dismiss"===r.links.tap.type&&/*#__PURE__*/(0,g.jsx)("div",{className:tc.dismissButtonWrapper,children:/*#__PURE__*/(0,g.jsx)(N.tA,{color:"light",context:"color",onClick:()=>{o?.({id:e.id,objectType:S.vt.Celebration,placementId:e.placementId})},size:"large",children:r.label})})]})]}):/*#__PURE__*/(0,g.jsxs)("div",{className:tc.celebration,children:[t&&/*#__PURE__*/(0,g.jsx)("img",{alt:"",className:tc.topImage,src:t}),/*#__PURE__*/(0,g.jsx)("h1",{className:tc.heading,children:/*#__PURE__*/(0,g.jsx)(tl.A,{text:n})}),/*#__PURE__*/(0,g.jsx)("p",{className:tc.body,children:i}),r&&/*#__PURE__*/(0,g.jsx)(q.A,{className:tc.button,href:r.links.tap.href,onClick:()=>{l({eventName:c.R.CelebrationCTAClicked,eventDetails:{celebrationType:a}})},showBlogCard:!1,children:r.label}),s&&/*#__PURE__*/(0,g.jsx)("img",{alt:"",className:tc.bottomImage,src:s})]})},tp={wrapper:"Lriof",titleWrapper:"ihB_7",bodyWrapper:"KOEvW"},tu=({timelineObject:{title:e,body:t}})=>/*#__PURE__*/(0,g.jsxs)("div",{className:tp.wrapper,children:[/*#__PURE__*/(0,g.jsx)("div",{className:tp.titleWrapper,children:e}),/*#__PURE__*/(0,g.jsx)("div",{className:tp.bodyWrapper,children:t})]});var th=s(36552),tg=s(6323),tb=s(1526),tx=s(57830);let tf={hrWithLabel:"r64Rl",text:"ndiCy",lineChunk:"h6feK"},tv=({timelineObject:e})=>{let{lineColor:t,labelContentBlock:s}=e,a={borderColor:t};return/*#__PURE__*/(0,g.jsxs)("div",{className:tf.hrWithLabel,children:[/*#__PURE__*/(0,g.jsx)("div",{className:tf.lineChunk,style:a}),/*#__PURE__*/(0,g.jsx)("div",{className:tf.text,children:(0,tx.kf)(s.text,s.formatting)}),/*#__PURE__*/(0,g.jsx)("div",{className:tf.lineChunk,style:a})]})};var tj=s(19065),ty=s(96883),tw=s(76776),tA=s(93448),tC=s(66910),tN=s(40297),tk=s(86857);let tI={instreamAd:"XJ7bf",reblogRedesignEnabled:"Wx4xZ",withOutline:"KfPvh",hidden:"f3f_v"},t_=({location:e=tA._.DASHBOARD,ad:t,adServed:s,supplyOpportunityInstanceId:a,streamPosition:n,presentationStyle:i,onFilled:o,onEmpty:l,onError:d})=>{let{features:p,_c:u}=(0,m.Us)(),{logEvent:h}=(0,w.Ul)(),{toggleToast:b}=(0,T.Y)(),x=(0,U.useRef)(null),[f,v]=(0,U.useState)(!1),{sendClickADMBeacon:j}=(0,tN.W)(),y=e=>{x.current=e},A=()=>x.current,C=e=>{(0,tk.U)(e,x.current,h,b,u),v(!0)};if(f)return null;let N=(0,S.xu)(t)&&t.clientSideAdType===S.Sk.Google||(0,S.Tt)(t)||(0,S.LO)(t),k={blog:{name:"",url:"",avatar:[],isAdult:!1},permalinkUrl:""},I=/*#__PURE__*/(0,g.jsx)(g.Fragment,{});if(t&&!(0,S.Tt)(t)){if("adm"in t&&t.adm&&"string"!=typeof t.adm&&"native"in t.adm&&t.adm.native){let e=t.adm.native.assets.reduce(ty.SX,{}),s={url:e.avatar?.url??"",width:e.avatar?.w??0,height:e.avatar?.h??0,hasOriginalDimensions:!0};k={blog:{name:"",advertiserName:e.sponsorName,url:t.adm.native.link?.url,avatar:[s],isAdult:!1},permalinkUrl:"",onClick:()=>{h({eventName:c.R.Click,eventDetails:{placement_id:t?.placementId}}),j(t?.adm)}},y({adProviderId:t.adProviderId,advertiserName:e.sponsorName}),I=/*#__PURE__*/(0,g.jsx)(tw.I,{getAdInstance:A||void 0,hideSponsoredText:!0,isAd:!0,isFollowingReblogger:!1,onAdReported:C,postAttribution:k,postState:tC.Wu.Published,presentationStyle:eW.A.iponweb,showReportAd:N,showsFollowButton:!1,showsSponsored:!1,showWhyAd:p.digitalServiceAct})}else I=/*#__PURE__*/(0,g.jsx)(tw.I,{getAdInstance:A,isAd:!0,isFollowingReblogger:!1,onAdReported:C,postAttribution:k,postState:tC.Wu.Published,showReportAd:N,showsFollowButton:!1,showsSponsored:!0,showWhyAd:p.digitalServiceAct})}return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(tI.instreamAd,tI.withOutline,{[tI.hidden]:!s,[tI.reblogRedesignEnabled]:p.reblogRedesignNew}),children:[t&&!(0,S.Tt)(t)&&I,/*#__PURE__*/(0,g.jsx)(tj.A,{ad:t,getAdInstance:A,location:e,onAdReported:C,onEmpty:l,onError:d,onFilled:o,presentationStyle:i,showReportAd:N,streamPosition:n,supplyOpportunityInstanceId:a,updateAdInstance:y})]})};var tS=s(85366);let tP={chicletRow:"hMigf",groupTop:"gFol4",groupBottom:"R5Hde",groupMiddle:"zm_kH",chiclet:"vVKEw"},tT=({timelineObject:{columnCount:e,position:t,elements:s}})=>/*#__PURE__*/(0,g.jsx)("div",{className:r()(tP.chicletRow,{[tP.groupTop]:"group_top"===t,[tP.groupMiddle]:"group_middle"===t,[tP.groupBottom]:"group_bottom"===t}),style:{gridTemplateColumns:`repeat(${e}, 1fr)`},children:s.map(e=>/*#__PURE__*/(0,g.jsx)(tS.A,{chiclet:e,className:tP.chiclet},e.id))});var tR=s(12177),tB=s(27699),tO=s(60324),tL=s(8578),tE=s(14130),tM=s(18585),tz=s(77621),tD=s(27717),tF=s(75185),tW=s(79146),tU=s(44724),tH=s(69384),tG=s(2056),t$=s(29856);let tq={liked:"QXbpy",likeButton:"EIVbN"},tV=({postUrl:e,color:t=u().paletteGray65})=>{let{_c:s}=(0,m.Us)(),{post:{liked:a}}=(0,es.gY)();return/*#__PURE__*/(0,g.jsx)("a",{"aria-label":a?s("Like button: Unlike label","Unlike"):s("Like button: Like label","Like"),className:r()(tq.likeButton,{[tq.liked]:a}),href:(0,tR.O)(e,{action:"like"}),rel:"noopener",target:"_blank",children:/*#__PURE__*/(0,g.jsx)(ei.A,{emptyIconColors:{primary:t},filled:a,size:{width:23,height:21}})})};var tX=s(90937),tK=s(58162),tQ=s(40310);let tY={meatballMenu:"yn46M",sendAPost:"hs8pl",meatballItem:"tKPww",red:"Wwiyv",thin:"UL4kX"},tJ=()=>{let{_c:e,wwwBaseUrl:t}=(0,m.Us)(),[s,a]=(0,U.useState)(!1),{post:{id:n,blogName:i,slug:o,blog:l,shortUrl:d,placementId:c,earnedId:p}}=(0,es.gY)(),{isMobile:u}=(0,ev.Ri)(),h=(0,tW.M)(i,n,o,"embed"),b=(0,tK.v)(i,h,t,{postId:n.toString()}),x=/*#__PURE__*/(0,g.jsxs)("div",{className:tY.meatballMenu,children:[/*#__PURE__*/(0,g.jsx)(tQ.A,{blog:l,className:tY.sendAPost,earnedId:p,hideMessaging:!0,id:n,isMobile:u,placementId:c,postUrl:h,shortUrl:d,slug:o}),/*#__PURE__*/(0,g.jsx)(tX.A,{alwaysExternalLink:!0,className:r()(tY.meatballItem,tY.red),linkTo:b,children:e("Menu item to report a post or blog","Report abuse")},"report"),/*#__PURE__*/(0,g.jsx)(tX.A,{className:r()(tY.meatballItem,tY.thin),children:e("Menu item to close the popover menu it's inside","Close")})]});return/*#__PURE__*/(0,g.jsx)(ef.Ay,{closeForAllExternalClicks:!0,component:x,height:"auto",isOpen:s,position:ej.$x.Top,toggle:()=>a(!s),usePortals:!0,width:u?300:400,children:/*#__PURE__*/(0,g.jsx)(ee.A,{label:e("Label for screen readers on the button that opens the post options popover","More options"),children:/*#__PURE__*/(0,g.jsx)(z.W,{size:{width:18,height:10}})})})};var tZ=s(12044);let t0={reblogButton:"f7IhF"},t1=({color:e=u().paletteGray65})=>{let{_c:t,wwwBaseUrl:s}=(0,m.Us)(),{post:{reblogKey:a,id:n,blogName:i}}=(0,es.gY)(),o={reblogKey:a,blogName:i,postId:n.toString()};return/*#__PURE__*/(0,g.jsx)("a",{"aria-label":t("Reblog button: Reblog label","Reblog"),className:r()(t0.reblogButton),href:`${s}${(0,tZ.ed)(o)}?source=embed`,rel:"noopener",target:"_blank",children:/*#__PURE__*/(0,g.jsx)(er.A,{colors:{primary:e},size:{width:23,height:21}})})},t6={header:"NGv38",headerContent:"VkveT",leftContent:"JPZii",leftContentMain:"oGowI",avatar:"rxMh1",attribution:"OfyCG",hasBadges:"cS9cW",attributionHeaderText:"CMfen",leftContentMainStacked:"SLBB7",postAttribution:"nOkib",reblogAttribution:"lnu0J",rebloggedFromName:"bOQD6",rightContent:"YLk78",footerWrapper:"zvrdN",footer:"Bpgt9",noteCountButton:"vHNg4",noteCountContainer:"KiFLn",noteCountTypes:"WuD7A",noteCountReply:"iRv98",noteCountReblog:"MCZbA",noteCountLike:"YAKYo",controls:"SGI72",controlIcon:"muKGV",contentSource:"pcM78",communityLabels:"NE55d",communityLabelsHeader:"uk6IY",communityLabelsText:"rej_I"},t2=(0,tF.A)((e,t)=>({presentationStyle:t,post:{...e,canReply:e.canReply&&t.showsReplyButton,canSendInMessage:e.canSendInMessage&&t.showsShareButton},isNarrow:!1,getIsLongPost:()=>!1}),{maxSize:1}),t3=({timelineObject:e,presentationStyle:t=eW.A.embed})=>{let s;let{_t:a,wwwBaseUrl:n}=(0,m.Us)(),{isMobile:i}=(0,ev.Ri)(),o=(0,U.useRef)(null),{trail:l,content:c,layout:p,blog:h,id:b,placementId:x,earnedId:f,adm:v,rebloggedFromName:j,rebloggedFromUrl:y,rebloggedFromAdvertiserName:w,rebloggedFromId:A,tags:C,liked:N,slug:k,communityLabels:I,sourceTitle:_,sourceUrl:S,isNsfw:P,postUrl:T}=e,{avatarDimension:R,reblogIconSize:B}=t,O={content:c,layout:p,blog:h,post:{id:b,timestamp:e?.timestamp},isContributedContent:!0},L=(0,tW.M)(h.name,b,k,"embed"),E=(0,tU.A)(e),M=j&&y?{blogName:w||j,permalinkUrl:y,postId:A}:void 0,z=E?.blog?.advertiserName||E?.blog?.name,D=M&&E?a("%1$s reblogged a post from %2$s",[E.blog.name,M.blogName]):z?a("Posted by %1$s",[z]):void 0,F=!!l.length&&!!c.length,W=!!c.length&&!l.length,H=!!E.blog.followed,G=F?[...l,O]:l;if(P||E.blog?.isAdult)return/*#__PURE__*/(0,g.jsx)(tM.A,{});let $=/*#__PURE__*/(0,g.jsx)(t$.X,{disableFollow:!0,parentEarnedId:f,parentPlacementId:x,showBlogCards:!1,trail:G}),V=W&&/*#__PURE__*/(0,g.jsx)(tH.Ay,{adm:v,blocks:c,isOriginalPost:!0,layouts:p,placementId:x,postingBlog:h}),X=E&&!E.blog.isBloglessAdvertiser&&/*#__PURE__*/(0,g.jsx)("div",{className:t6.avatar,children:/*#__PURE__*/(0,g.jsx)(tB.A,{blog:E.blog,dimension:R,imageResponse:E.blog.avatar,isAdult:E.blog.isAdult,isLink:!0,name:E.blog.name,placementId:x,showBlogCard:!1})}),K=M&&/*#__PURE__*/(0,g.jsxs)("div",{className:t6.reblogAttribution,children:[/*#__PURE__*/(0,g.jsx)(er.A,{isCompact:!0,size:B}),/*#__PURE__*/(0,g.jsx)("div",{className:t6.rebloggedFromName,children:/*#__PURE__*/(0,g.jsx)(q.A,{blogName:M.blogName,placementId:x,postId:M.postId,showBlogCard:!1,children:M.blogName})})]}),Q=E?.permalinkUrl&&E.blog.url&&!E.blog.advertiserName?/*#__PURE__*/(0,g.jsx)(q.A,{blog:E.blog,blogName:E.blog.name,placementId:x,postId:b,postSlug:k,showBlogCard:!1,children:z}):/*#__PURE__*/(0,g.jsx)("span",{children:z}),Y=/*#__PURE__*/(0,g.jsxs)("div",{className:r()(t6.attribution,{[t6.hasBadges]:!!E.blog.tumblrmartAccessories?.badges?.length}),children:[/*#__PURE__*/(0,g.jsxs)("div",{className:t6.postAttribution,children:[/*#__PURE__*/(0,g.jsx)("span",{className:t6.attributionHeaderText,children:Q}),/*#__PURE__*/(0,g.jsx)(tG.p,{canShowBadges:E?.blog?.canShowBadges,tumblrmartAccessories:E.blog.tumblrmartAccessories})]}),K]}),J=!!_&&!!S&&/*#__PURE__*/(0,g.jsx)("div",{className:r()(t6.contentSource),children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:'Content source. The placeholder is a link to the source of the post (like "website.com").',components:{link:/*#__PURE__*/(0,g.jsx)("a",{href:S,rel:"noopener noreferrer",target:"_blank"})},params:{sourceTitle:_},children:"Source: [link][sourceTitle][/link]"})});return s=I?.hasCommunityLabel?/*#__PURE__*/(0,g.jsxs)("div",{className:t6.communityLabels,children:[/*#__PURE__*/(0,g.jsx)("h2",{className:t6.communityLabelsHeader,children:a("Mature Content")}),/*#__PURE__*/(0,g.jsx)("p",{className:t6.communityLabelsText,children:a("This content has been hidden due to its potentially mature nature.")}),/*#__PURE__*/(0,g.jsx)("p",{children:/*#__PURE__*/(0,g.jsx)("a",{className:t6.communityLabelsLink,href:L,rel:"noopener",target:"_blank",children:a("View on blog")})})]}):/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[$,V,J]}),/*#__PURE__*/(0,g.jsx)(es._5.Provider,{value:t2(e,t),children:/*#__PURE__*/(0,g.jsxs)("article",{children:[/*#__PURE__*/(0,g.jsx)(tL.A,{canonicalUrl:T}),/*#__PURE__*/(0,g.jsxs)("header",{"aria-label":D,className:t6.header,role:"banner",children:[X,/*#__PURE__*/(0,g.jsxs)("div",{className:t6.headerContent,children:[/*#__PURE__*/(0,g.jsx)("div",{className:t6.leftContent,children:Y?/*#__PURE__*/(0,g.jsx)("div",{className:r()(t6.leftContentMain,{[t6.leftContentMainStacked]:!!M}),children:Y}):null}),/*#__PURE__*/(0,g.jsxs)("div",{className:t6.rightContent,children:[/*#__PURE__*/(0,g.jsx)("a",{href:n,rel:"noopener",target:"_blank",children:/*#__PURE__*/(0,g.jsx)(tO.A,{colors:{primary:u().paletteBlack},size:{width:67,height:13}})}),!H&&/*#__PURE__*/(0,g.jsx)(et.A,{feature:!1,href:(0,tR.A)(L,{action:"follow"}),isRounded:!0,target:"_blank",children:a("Follow")})]})]})]}),/*#__PURE__*/(0,g.jsx)("div",{className:t6.contentWrapper,children:s}),/*#__PURE__*/(0,g.jsxs)("div",{className:t6.footerWrapper,children:[/*#__PURE__*/(0,g.jsx)(tz.A,{collapsedHeight:i?ey.wrappedTagsMobileHeight:ey.wrappedTagsDesktopHeight,tags:C,useExternalLinks:t.useExternalLinks}),/*#__PURE__*/(0,g.jsxs)("footer",{"aria-label":a("Post Footer"),className:t6.footer,role:"contentinfo",children:[/*#__PURE__*/(0,g.jsx)("div",{className:t6.noteCount,children:/*#__PURE__*/(0,g.jsx)("a",{className:t6.noteCountButton,href:`${L}#notes-${b}`,rel:"noopener",target:"_blank",children:/*#__PURE__*/(0,g.jsx)("span",{className:t6.noteCountContainer,ref:o,children:/*#__PURE__*/(0,g.jsx)(tE.A,{containerRef:o})})})}),/*#__PURE__*/(0,g.jsxs)("div",{className:t6.controls,children:[/*#__PURE__*/(0,g.jsx)("div",{className:t6.controlIcon,children:/*#__PURE__*/(0,g.jsx)(tJ,{})}),/*#__PURE__*/(0,g.jsx)("div",{className:t6.controlIcon,children:/*#__PURE__*/(0,g.jsx)(tD.A,{content:a("Reblog"),position:ej.$x.Top,children:/*#__PURE__*/(0,g.jsx)(t1,{})})}),/*#__PURE__*/(0,g.jsx)("div",{className:t6.controlIcon,children:/*#__PURE__*/(0,g.jsx)(tD.A,{content:a(N?"Liked":"Like"),position:ej.$x.Top,...N&&{color:tD.y.RED},children:/*#__PURE__*/(0,g.jsx)(tV,{postUrl:L})})})]})]})]})]})})};var t4=s(87185);let t7={communityLabels:"m849Z",communityLabelsHeader:"UgSaB",communityLabelsText:"ar36A"},t9=(0,tF.A)((e,t)=>({presentationStyle:t,post:{...e,canReply:e.canReply&&t.showsReplyButton,canSendInMessage:e.canSendInMessage&&t.showsShareButton},isNarrow:!1,getIsLongPost:()=>!1}),{maxSize:1}),t8=({timelineObject:e,presentationStyle:t=eW.A.embed})=>{let s;let{_t:a}=(0,m.Us)(),{content:n,layout:i,blog:r,id:o,placementId:l,adm:d,slug:c,communityLabels:p,isNsfw:u,postUrl:h}=e,b=(0,tW.M)(r.name,o,c,"embed");if(u||r?.isAdult)return/*#__PURE__*/(0,g.jsx)(tM.A,{});let x={type:S.vt.Post,url:b,post:{id:o},showPlatform:!0};return r&&r.uuid&&r.name&&r.url&&(x.blog={uuid:r.uuid,name:r.name,url:r.url}),s=p?.hasCommunityLabel?/*#__PURE__*/(0,g.jsxs)("div",{className:t7.communityLabels,children:[/*#__PURE__*/(0,g.jsx)("h2",{className:t7.communityLabelsHeader,children:a("Mature Content")}),/*#__PURE__*/(0,g.jsx)("p",{className:t7.communityLabelsText,children:a("This content has been hidden due to its potentially mature nature.")}),/*#__PURE__*/(0,g.jsx)("p",{children:/*#__PURE__*/(0,g.jsx)("a",{className:t7.communityLabelsLink,href:b,rel:"noopener",target:"_blank",children:a("View on blog")})})]}):/*#__PURE__*/(0,g.jsx)(tH.Ay,{adm:d,blocks:n,isOriginalPost:!0,layouts:i,placementId:l,postingBlog:r}),/*#__PURE__*/(0,g.jsx)(es._5.Provider,{value:t9(e,t),children:/*#__PURE__*/(0,g.jsxs)("article",{children:[/*#__PURE__*/(0,g.jsx)(tL.A,{canonicalUrl:h}),/*#__PURE__*/(0,g.jsx)("div",{className:t7.contentWrapper,children:s}),/*#__PURE__*/(0,g.jsx)(t4.A,{attribution:x})]})})};var t5=s(18270),se=s(37355);let st=({timelineObject:e})=>{let{title:t,subtitle:s,destinationUrl:a}=e,{logEvent:n}=(0,w.Ul)(),i=(0,e3.zy)();return/*#__PURE__*/(0,g.jsx)(se.Y,{destinationUrl:a,onClick:()=>{n({eventName:c.R.PremiumBannerPress,eventDetails:{location:"timeline",source:i.pathname}})},subtitle:s,title:t})};var ss=s(75776),sa=s(19377),sn=s(34753),si=s(37629),sr=s(19086),so=s(35870),sl=s(63229);let sd={ctaLink:"pafF1"},sc=()=>{let{logEvent:e}=(0,w.Ul)(),t=(0,e3.zy)(),{searchTerm:s,searchMode:a,selectedPostType:n}=(0,sr.V)(si.Ss),i=(0,so.J)(t.search),r=(0,sn.Z_)({params:{searchTerm:s,searchMode:a,selectedPostType:n},path:t.pathname},i),o=(0,sl.P)({...sa._u,searchTerm:r.searchTerm,selectedTime:si.em.AllTime},sa._u);return/*#__PURE__*/(0,g.jsx)(ss.A,{className:sd.ctaLink,onClick:()=>{e({eventName:c.R.SearchResultsClearFiltersCtaTap})},to:o,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Action to reset the filters on the search page",children:"Clear filters"})})},sm={Selected:"selected"},sp={Dismiss:"dismiss"};var su=s(94721);let sh={signpostCta:"pl1kW",dismiss:"P0vNG",buttonsWrapper:"KcFoc",signpostOption:"g9DRM",selected:"_KWJ_",masonryMode:"Si8xi"},sg=({signpostOption:e,postTitle:t,dismiss:s})=>{let{apiFetch:a}=(0,m.Us)(),{logEvent:n}=(0,w.Ul)(),{toggleToast:i}=(0,T.Y)(),o=(0,e3.Zp)(),{text:l,displayType:d,iconKey:p,onTap:u}=e,h=d===sm.Selected,b=r()(sh.signpostOption,{[sh.selected]:h}),x=(0,eP.Kk)(p),f=async()=>{n({eventName:c.R.SignpostCTATapped,eventDetails:{title:t,...u.eventDetails,type:u.eventDetails?.type||"default"}}),u.action===sp.Dismiss&&s();let{links:e={},afterTapMessage:r}=u;if(e.action){let{href:t,method:s,bodyParams:n}=e.action;await a(t,{method:s,body:(0,su.m)(n)})}if(e.destination&&e.destination){let{href:t,launchNewTab:s}=e.destination;t.startsWith("/")&&!s?o(t):window.open(t,s?"_blank":"_self")}r&&i(r)};return/*#__PURE__*/(0,g.jsxs)(ee.A,{onClick:f,wrapperClassName:b,children:[p&&/*#__PURE__*/(0,g.jsx)(x,{size:{width:18,height:18}}),l]})},sb=(0,k.J)(({timelineObject:e})=>{let{resources:t,display:s,id:a,objectType:n,placementId:i}=e,{onRemoveTimelineObject:o,displayMode:l}=(0,P._X)(),[d,c]=(0,U.useState)(!1),m=()=>{o?.({id:a,objectType:n,placementId:i}),c(!0)},p=t.options.map((e,t)=>/*#__PURE__*/(0,g.jsx)(sg,{dismiss:m,postTitle:s.title,signpostOption:e},t)).reverse(),u=l===S.X2.Masonry,h=r()(sh.buttonsWrapper,{[sh.masonryMode]:u});return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(sh.signpostCta,{[sh.dismiss]:d}),children:[s.media&&/*#__PURE__*/(0,g.jsx)(D.m1,{imageResponse:s.media.media,isSquare:!1,isTransparent:!0}),/*#__PURE__*/(0,g.jsx)("h1",{children:s.title}),/*#__PURE__*/(0,g.jsx)("p",{children:t.description}),/*#__PURE__*/(0,g.jsx)("div",{className:h,children:p})]})});var sx=s(30344),sf=s(46670),sv=s(43776),sj=s(95683),sy=s(79708),sw=s(57620);let sA={meatballMenu:"yH8FA",meatballItem:"D8y52"},sC=({subscriberInfo:{planOwner:e,blogName:t}})=>{let{_c:s}=(0,m.Us)(),{openConversationWindow:a}=(0,sw.Z)();return/*#__PURE__*/(0,g.jsxs)("div",{className:sA.meatballMenu,children:[/*#__PURE__*/(0,g.jsx)(tX.A,{className:sA.meatballItem,keepDropdownOpenAfterClick:!1,linkTo:(0,sy.cm)({peeprBlogname:t}),children:s("Menu item to view the blog","View Blog")},"View blog"),/*#__PURE__*/(0,g.jsx)(tX.A,{className:sA.meatballItem,keepDropdownOpenAfterClick:!0,onClick:()=>{a({selectedBlogName:e,otherParticipantName:t})},children:s("Menu item to message blog","Message")},"Message")]})},sN={subscriber:"j99wS",member:"bN_1q",avatar:"elCGV",blogName:"xWYkn",date:"d5xXI",price:"uF5P9",actions:"tGth_",more:"EWLNr"},sk=(e,t)=>{let{price:s,currencyCode:a,periodAbbreviation:n}=e,i=(0,sj.$g)(s,a,t);return`${i}/${n}`},sI=(e,t)=>{let{startTime:s}=e;return t(new Date(1e3*s),ep.N.Notes,!0)},s_=({subscriberInfo:e,subscriberInfo:{avatar:t,blogName:s,subscription:a}})=>{let{_getLocaleDateString:n,_getPriceInCurrency:i}=(0,m.Us)();return/*#__PURE__*/(0,g.jsxs)("div",{className:sN.subscriber,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:sN.member,children:[/*#__PURE__*/(0,g.jsx)(tB.A,{avatarShape:sv.b.Square,className:sN.avatar,dimension:ey.radarAvatarSize,imageResponse:t,name:s,showBlogCard:!0}),/*#__PURE__*/(0,g.jsx)(q.A,{blogName:s,showBlogCard:!0,children:/*#__PURE__*/(0,g.jsx)("span",{className:sN.blogName,children:s})})]}),/*#__PURE__*/(0,g.jsx)("span",{className:sN.date,children:sI(a,n)}),/*#__PURE__*/(0,g.jsx)("span",{className:sN.price,children:sk(a,i)}),/*#__PURE__*/(0,g.jsx)("div",{className:sN.actions,children:/*#__PURE__*/(0,g.jsx)(sf.A,{height:"auto",isChromeless:!0,position:ej.$x.BottomEnd,render:()=>/*#__PURE__*/(0,g.jsx)(sC,{subscriberInfo:e}),type:ej.oO.Click,width:"216px",children:/*#__PURE__*/(0,g.jsx)(ee.A,{wrapperClassName:sN.more,children:/*#__PURE__*/(0,g.jsx)(z.W,{colors:{primary:u().paletteGray65}})})})})]})},sS={subscriber:"HdJYO",member:"fdt9t",avatar:"mncDp",blogName:"B73mx",inactiveSince:"Z8zJd",inactiveStatus:"FzIve",actions:"g8mTb",more:"kmBcT"},sP=({status:e})=>{switch(e){case sx.bI.Cancelled:return/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"Cancelled"});case sx.bI.OnHold:return/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"On-Hold"});default:return/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"Expired"})}},sT=({subscriberInfo:e,subscriberInfo:{avatar:t,blogName:s,subscription:a}})=>{let{_getLocaleDateString:n}=(0,m.Us)(),{status:i}=a;return/*#__PURE__*/(0,g.jsxs)("div",{className:sS.subscriber,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:sS.member,children:[/*#__PURE__*/(0,g.jsx)(tB.A,{avatarShape:sv.b.Square,className:sS.avatar,dimension:ey.radarAvatarSize,imageResponse:t,name:s,showBlogCard:!0}),/*#__PURE__*/(0,g.jsx)(q.A,{blogName:s,showBlogCard:!0,children:/*#__PURE__*/(0,g.jsx)("span",{className:sS.blogName,children:s})})]}),/*#__PURE__*/(0,g.jsx)("span",{className:sS.inactiveSince,children:(0,sj.m)(a,"endTime",n)}),/*#__PURE__*/(0,g.jsx)("span",{className:sS.inactiveStatus,children:/*#__PURE__*/(0,g.jsx)(sP,{status:i})}),/*#__PURE__*/(0,g.jsx)("div",{className:sS.actions,children:/*#__PURE__*/(0,g.jsx)(sf.A,{height:"auto",isChromeless:!0,position:ej.$x.BottomEnd,render:()=>/*#__PURE__*/(0,g.jsx)(sC,{subscriberInfo:e}),type:ej.oO.Click,width:"216px",children:/*#__PURE__*/(0,g.jsx)(ee.A,{wrapperClassName:sS.more,children:/*#__PURE__*/(0,g.jsx)(z.W,{colors:{primary:u().paletteGray65}})})})})]})},sR=({timelineObject:e})=>{let{subscription:{status:t}}=e;return t===sx.bI.Active||t===sx.bI.Pending||t===sx.bI.PendingCancel?/*#__PURE__*/(0,g.jsx)(s_,{subscriberInfo:e}):/*#__PURE__*/(0,g.jsx)(sT,{subscriberInfo:e})};var sB=s(99904),sO=s(96894),sL=s(23390),sE=s(90657),sM=s(28230),sz=s(35641),sD=s(7463),sF=s(22696);let sW={container:"UPJCY",perkContainer:"RKpvd",perkPill:"yi1kb",pill:"_IvWq",footer:"dnt9O"},sU=({onDismiss:e,onCancelClick:t,memberPerks:s,blogName:a,subscription:n,type:i,isLoading:r})=>{let{_t:o,_getLocaleDateString:l}=(0,m.Us)(),d=(0,sj.m)(n,"nextBillingTime",l),c=i===sF.Qh.Paywall;return/*#__PURE__*/(0,g.jsxs)(sL.A,{centerContent:!0,onGlassClick:e,children:[/*#__PURE__*/(0,g.jsx)(sE.Ay,{disable:sE.WC}),/*#__PURE__*/(0,g.jsx)(sz.m,{body:/*#__PURE__*/(0,g.jsxs)("div",{children:[c?o("Are you sure you want to stop supporting %1$s? You'll miss out on exclusive content plus...",[a]):o("Are you sure you want to stop supporting Tumblr? You'll miss out on new stages of your badge..."),c&&/*#__PURE__*/(0,g.jsx)("div",{className:sW.perkContainer,children:s?.map((e,t)=>/*#__PURE__*/g.jsx("span",{className:sW.perkPill,children:/*#__PURE__*/g.jsx(sD.A,{className:sW.pill,children:e})},t))}),r&&/*#__PURE__*/(0,g.jsx)("span",{className:sW.loader,children:/*#__PURE__*/(0,g.jsx)(sM.A,{centerOrientation:"horizontalAndVertical",color:u().paletteBlack})})]}),buttons:[{text:o("Nevermind"),onClick:e,buttonStyle:sz.s.Confirm},{text:o("Cancel subscription"),onClick:t,buttonStyle:sz.s.Cancel}],className:sW.container,footer:/*#__PURE__*/(0,g.jsx)("div",{className:sW.footer,children:o("Your subscription will still be active until the end of your current billing period. Cancellation will be effective on %1$s.",[d])}),title:o("Now wait just a minute")})]})};var sH=s(66869),sG=s(84991);let s$={items:"wFg_m",item:"tOYA1",button:"uV7We",toggle:"LyzRP",cancelButton:"iiHzj"},sq=({blogName:e,subscription:t})=>{let{_c:s,_t:a,apiFetch:n,getUserInfo:i,wwwBaseUrl:o}=(0,m.Us)(),{canCancel:l,canRepurchase:c,isManagedByTumblrpay:p,memberPerks:h}=t,{openConversationWindow:b}=(0,sw.Z)(),{toggleToast:x}=(0,T.Y)(),[f,v]=(0,U.useState)(!1),[j,y]=(0,U.useState)(!1),w=async()=>{let t=await i(),s=(0,sG.A)(t.blogs);b({selectedBlogName:s?.name,otherParticipantName:e})},A=(0,U.useCallback)(()=>{(0,sH.Ay)(n).unsubscribeToBlogMembership(e).fetch().then(()=>{v(!1),window.location.reload()}).catch(()=>{v(!1),x(a("Something went wrong. Please try again."),"error")})},[e,a,x,n]),C=()=>v(!f);return/*#__PURE__*/(0,g.jsxs)("div",{className:s$.popover,children:[/*#__PURE__*/(0,g.jsx)(sf.A,{component:/*#__PURE__*/(0,g.jsxs)("div",{className:s$.items,children:[/*#__PURE__*/(0,g.jsx)(tX.A,{className:s$.item,linkTo:(0,tZ.s$)({blogName:e}),children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Button linking to the user's creator profile",children:"View Profile"})}),/*#__PURE__*/(0,g.jsx)(tX.A,{className:s$.item,isWrappingButton:!0,children:/*#__PURE__*/(0,g.jsx)(ee.A,{onClick:w,wrapperClassName:r()(s$.button,s$.messageButton),children:/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Opens a messaging window to start a conversation with blog owner",children:"Message"})})}),/*#__PURE__*/(0,g.jsx)(tX.A,{alwaysExternalLink:!0,className:s$.item,linkTo:`${o}/support`,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"Contact support"})}),l&&p&&/*#__PURE__*/(0,g.jsx)(tX.A,{className:s$.item,isWrappingButton:!0,children:/*#__PURE__*/(0,g.jsx)(ee.A,{onClick:C,wrapperClassName:r()(s$.button,s$.cancelButton),children:/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"Cancel subscription"})})}),c&&p&&/*#__PURE__*/(0,g.jsx)(tX.A,{className:s$.item,isDisabled:j,isWrappingButton:!0,children:/*#__PURE__*/(0,g.jsx)(ee.A,{onClick:()=>{var t,s;y(!0),(t=sx.DF.Month,s=window.location.host,(0,sH.Ay)(n).generateCheckoutUrl(e,{period:t,host:s})).fetch().then(({response:e})=>{window.location.assign(e.url)}).catch(()=>{y(!1),x(a("Something went wrong. Please try again."),"error")})},wrapperClassName:s$.button,children:/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"Renew subscription"})})})]}),height:"auto",position:ej.$x.BottomEnd,usePortals:!0,width:250,children:/*#__PURE__*/(0,g.jsx)(ee.A,{label:s("Opens a menu containing a list of actions to perform on a subscription","Subscription actions"),wrapperClassName:s$.toggle,children:/*#__PURE__*/(0,g.jsx)(z.W,{colors:{primary:u().paletteGray65}})})}),f&&/*#__PURE__*/(0,g.jsx)("div",{className:s$.cancellationContainer,children:/*#__PURE__*/(0,g.jsx)(sU,{blogName:e,memberPerks:h,onCancelClick:A,onDismiss:C,subscription:t,type:sF.Qh.Paywall})})]})},sV={items:"Wo9EF",item:"I_m3R",button:"zVRAI",toggle:"oWNRi",cancelButton:"wf0z7"},sX=({subscription:e,actions:t})=>{let{_c:s,apiFetch:a}=(0,m.Us)(),{canCancel:n,isManagedByTumblrpay:i}=e,{toggleToast:o}=(0,T.Y)(),[l,d]=(0,U.useState)(!1),[c,p]=(0,U.useState)(!1),h=()=>d(!l),b=(0,U.useCallback)(()=>{p(!0),(0,sH.Ay)(a).unsubscribeFromSupporterBadge().fetch().then(()=>window.location.reload()).catch(()=>{p(!1),d(!1),o(s("An unknown error that appears when cancelling a sub","Something went wrong. Please try again."),"error")})},[s,o,a]);return/*#__PURE__*/(0,g.jsxs)("div",{className:sV.popover,children:[/*#__PURE__*/(0,g.jsx)(sf.A,{component:/*#__PURE__*/(0,g.jsx)("div",{className:sV.items,children:t.map(({label:e,url:t,key:s})=>"cancel"===s?n&&i&&/*#__PURE__*/(0,g.jsx)(tX.A,{className:sV.item,isDisabled:c,linkTo:t,children:/*#__PURE__*/(0,g.jsx)(ee.A,{onClick:h,wrapperClassName:r()(sV.button,sV.cancelButton),children:e})},s):/*#__PURE__*/(0,g.jsx)(tX.A,{className:sV.item,isDisabled:c,linkTo:t,children:e},s))}),height:"auto",position:ej.$x.BottomEnd,usePortals:!0,width:250,children:/*#__PURE__*/(0,g.jsx)(ee.A,{label:s("Opens a menu containing a list of actions to perform on a subscription","Subscription actions"),wrapperClassName:sV.toggle,children:/*#__PURE__*/(0,g.jsx)(z.W,{colors:{primary:u().paletteGray65}})})}),l&&/*#__PURE__*/(0,g.jsx)("div",{className:sV.cancellationContainer,children:/*#__PURE__*/(0,g.jsx)(sU,{isLoading:c,onCancelClick:b,onDismiss:h,subscription:e,type:sF.Qh.Supporter})})]})},sK={subscription:"lwm3X",member:"YK1By",avatar:"Ndj6c",blogName:"Ju3ao",column:"yQEkv",price:"Tk6kK",cancellationMessage:"CgUNj",date:"KCnB5",actions:"bs37e",cancellationInfo:"WIcuN",options:"koTB_"},sQ=({subscriptionInfo:e})=>{let{avatar:t,blogName:s,subscription:a}=e,{status:n}=a,{_t:i,_c:o,_getLocaleDateString:l}=(0,m.Us)(),c=(0,sj.Ri)(a),p=(0,sj.m)(a,"endTime",l),u=(0,sj.m)(a,"nextBillingTime",l),h=(0,S.SC)(e),b=h?/*#__PURE__*/(0,g.jsx)(tB.A,{avatarShape:sv.b.Square,className:sK.avatar,dimension:ey.subscriptionAvatarSize,imageResponse:t}):(0,sO.L6)(t,o("[Badge Management] Badge hover card badge image.","Image of a badge."),sK.icon);return/*#__PURE__*/(0,g.jsxs)("div",{className:sK.subscription,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:sK.member,children:[b,/*#__PURE__*/(0,g.jsx)("span",{className:sK.blogName,children:s||e.title})]}),n!==sx.bI.PendingCancel&&/*#__PURE__*/(0,g.jsx)("span",{className:r()(sK.price,sK.column),children:c}),/*#__PURE__*/(0,g.jsx)("span",{className:r()(sK.column,{[sK.date]:n!==sx.bI.PendingCancel,[sK.cancellationMessage]:n===sx.bI.PendingCancel}),children:n===sx.bI.PendingCancel?/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"cancellation effective date",params:{date:p},children:"Cancellation effective [date]"}):u}),/*#__PURE__*/(0,g.jsx)("div",{className:sK.actions,children:h?/*#__PURE__*/(0,g.jsx)(sq,{blogName:s,subscription:a}):/*#__PURE__*/(0,g.jsx)(sX,{actions:e.actions,subscription:a})}),n===sx.bI.PendingCancel&&/*#__PURE__*/(0,g.jsx)(sB.A,{message:h?/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Cancellation message",components:{bold:/*#__PURE__*/(0,g.jsx)("strong",{})},params:{blogname:s,date:p},children:"This subscription will still be active until the end of your current billing period. Enjoy exclusive +Posts and perks from [blogname] until [bold][date][/bold]."}):/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"Cancellation message",components:{bold:/*#__PURE__*/(0,g.jsx)("strong",{})},params:{date:p},children:"This subscription will still be active until the end of your current billing period ([bold][date][/bold])."}),theme:"info",title:i(h?"Your Post+ subscription has been cancelled":"Your subscription has been cancelled"),wrapperClassName:sK.cancellationInfo})]})},sY={subscription:"MMaPu",member:"E8t7S",avatar:"vkWQP",blogName:"PYsHz",date:"JplSy",cancellationInfo:"GdfMv",actions:"bKR7d",warning:"vnEom",expand:"Xw2oI"},sJ=({subscriptionInfo:e})=>{let t;let{avatar:s,blogName:a,subscription:n}=e,{status:i}=n,{_c:r,_getLocaleDateString:o}=(0,m.Us)(),l=(0,sj.m)(n,"endTime",o),c=(0,S.SC)(e);switch(i){case sx.bI.Cancelled:t=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"cancelled on date",params:{date:l},children:"Cancelled [date]"});break;case sx.bI.OnHold:t=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"on-hold effective date",params:{date:l},children:"On-Hold since [date]"});break;default:t=/*#__PURE__*/(0,g.jsx)(d.Ay,{comment:"expired on date",params:{date:l},children:"Expired [date]"})}let p=c?/*#__PURE__*/(0,g.jsx)(tB.A,{avatarShape:sv.b.Square,className:sY.avatar,dimension:ey.subscriptionAvatarSize,imageResponse:s}):(0,sO.L6)(s,r("[Badge Management] Badge hover card badge image.","Image of a badge."),sY.icon);return/*#__PURE__*/(0,g.jsxs)("div",{className:sY.subscription,children:[/*#__PURE__*/(0,g.jsxs)("div",{className:sY.member,children:[p,/*#__PURE__*/(0,g.jsx)("span",{className:sY.blogName,children:a||e.title})]}),/*#__PURE__*/(0,g.jsx)("span",{className:sY.date,children:t}),/*#__PURE__*/(0,g.jsx)("div",{className:sY.actions,children:c?/*#__PURE__*/(0,g.jsx)(sq,{blogName:a,subscription:n}):/*#__PURE__*/(0,g.jsx)(sX,{actions:e.actions,subscription:n})}),i===sx.bI.OnHold&&/*#__PURE__*/(0,g.jsx)(sB.A,{message:/*#__PURE__*/(0,g.jsx)(d.Ay,{children:"This subscription is on hold due to a payment issue. Please check your payment information."}),theme:"info",wrapperClassName:sY.cancellationInfo})]})},sZ=({timelineObject:e})=>{let{subscription:{status:t}}=e;return t===sx.bI.Active||t===sx.bI.Pending||t===sx.bI.PendingCancel?/*#__PURE__*/(0,g.jsx)(sQ,{subscriptionInfo:e}):/*#__PURE__*/(0,g.jsx)(sJ,{subscriptionInfo:e})};var s0=s(26854),s1=s(19726),s6=s(45952);let s2=/*#__PURE__*/function(e){return e.Image="image",e.Video="video",e}({});var s3=s(89054),s4=/*#__PURE__*/s.n(s3);let s7={takeoverBanner:"njwip",destinationLink:"Z4Uny",videoWrapper:"Cewkz",videoInnerWrapper:"xACoA",videoImageCTA:"H4DuS",ctaButton:"erLM8",sponsoredIndicator:"RPM5v",sponsoredContainer:"bfkG1",adMeatballMenu:"T5j7G",takeoverBannerImage:"nVX2y"},s9=["ad.doubleclick.net","creatives.sascdn.com"];class s8 extends U.Component{constructor(...e){super(...e),n()(this,"provideEventDetails",s6.L),n()(this,"getVideoCrossOrigin",e=>{let t=e?new URL(e).hostname:"";if(!(s9.indexOf(t)>-1))return"anonymous"}),n()(this,"renderVideoTakeover",e=>{let{timelineObject:t}=this.props,{text:s,sponsoredDayVideoDisableAutoLooping:a,sponsoredDayVideoDisableSound:n}=t,{height:i,width:o,url:l}=e;return/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[this.renderCTALinkContent(/*#__PURE__*/(0,g.jsx)("div",{className:s7.videoWrapper,style:{paddingBottom:`${i/o*100}%`},children:/*#__PURE__*/(0,g.jsx)("div",{className:r()(s7.videoInnerWrapper,f.SZ),children:/*#__PURE__*/(0,g.jsx)(s1.Ay,{disableAutolooping:a,hasNoMaxUndockedHeight:!0,isVideoSponsoredDay:!0,media:{height:i,width:o,url:l},minHeight:i/o*100,playerStyle:{borderRadius:s4().borderRadiusForSmallElements},soundDisabled:n,timelineObject:t,useViewabilityTracker:!0,videoElementProps:{crossOrigin:this.getVideoCrossOrigin(l)}})})}),this.logClickOnBanner(c.R.VideoClickThrough)),this.renderCTALinkContent(/*#__PURE__*/(0,g.jsx)("div",{className:s7.ctaButton,children:s}),this.logClickOnButton,s7.videoImageCTA),this.renderSponsoredIndicator()]})}),n()(this,"renderImageTakeover",e=>{let{text:t}=this.props.timelineObject,s=!t||0===t.trim().length,a=/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[(0,S.by)(this.props.timelineObject)&&/*#__PURE__*/(0,g.jsx)(f.Ay,{timelineObject:this.props.timelineObject}),/*#__PURE__*/(0,g.jsx)(s0.A,{className:s7.takeoverBannerImage,imageResponse:e,sizes:`(max-width: ${ew().phoneResponsiveMaxBreakpoint}px) 100vw, ${ew().postWidth}px`})]});return/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsxs)("div",{className:r()(s7.takeoverBanner,f.SZ),style:{paddingBottom:"40%"},children:[this.renderCTALinkContent(a,this.logClickOnBanner(c.R.PhotoClickThrough),s7.destinationLink),this.renderSponsoredIndicator()]}),!s&&this.renderCTALinkContent(/*#__PURE__*/(0,g.jsx)("div",{className:s7.ctaButton,children:t}),this.logClickOnButton,s7.videoImageCTA)]})}),n()(this,"renderCTALinkContent",(e,t,s)=>{let{sponsoredDayClickthrough:a,blog:n}=this.props.timelineObject,i={children:e,onClick:t,className:s};return a&&n?/*#__PURE__*/(0,g.jsx)(q.A,{blog:n,blogName:n.name,showBlogCard:!1,...i}):/*#__PURE__*/(0,g.jsx)("a",{href:this.getDestinationLink(),rel:"noopener",target:"_blank",...i})}),n()(this,"renderSponsoredIndicator",()=>{let{displayType:e,sponsoredBadgeUrl:t}=this.props.timelineObject,{features:s}=this.props.appContext;return e===H.q.Sponsored&&/*#__PURE__*/(0,g.jsxs)("div",{className:s7.sponsoredIndicator,children:[/*#__PURE__*/(0,g.jsx)(W.A,{className:s7.sponsoredContainer,color:u().paletteBlack,link:t,showAdFreeLink:!1}),/*#__PURE__*/(0,g.jsx)("span",{className:s7.adMeatballMenu,children:/*#__PURE__*/(0,g.jsx)(F.A,{getAdInstance:()=>this.getAdInstance(),icon:/*#__PURE__*/(0,g.jsx)(z.W,{colors:{primary:u().paletteBlack},size:{width:18,height:10}}),showAdFree:!1,showWhyAd:s.digitalServiceAct})})]})}),n()(this,"logClickOnBanner",e=>()=>{this.logClick(c.R.Click),this.logClick(e)}),n()(this,"logClickOnButton",()=>{this.logClick(c.R.Click),this.logClick(c.R.CTAButton)}),n()(this,"logClick",e=>{let{timelineObject:t,logEvent:s}=this.props;s({eventName:e,eventDetails:{placement_id:t.placementId,...this.provideEventDetails(t,!0)}})}),n()(this,"getDestinationLink",()=>this.props.timelineObject.links?.destination?.href)}getAdInstance(){return{advertiserName:this.props?.timelineObject?.sponsoredBy||this.props?.timelineObject?.blogName,adProviderId:this.props?.timelineObject?.adProviderId||S.sf.Smart,isTumblrSponsoredPost:!0}}render(){let{assets:e}=this.props.timelineObject;if(!e||!this.getDestinationLink())return null;let{videoAsset:t,imageAssets:s}=e.reduce((e,t)=>{switch(t.type){case s2.Video:e.videoAsset=t;break;case s2.Image:e.imageAssets.push(t)}return e},{imageAssets:[]});return t||s.length>0?/*#__PURE__*/(0,g.jsx)("div",{className:s7.takeoverWrapper,children:t?this.renderVideoTakeover(t):!!s.length&&this.renderImageTakeover(s)}):null}}let s5=(0,k.J)(e=>/*#__PURE__*/(0,g.jsx)(s8,{...e,adContext:(0,tN.W)(),appContext:(0,m.Us)(),logEvent:(0,w.Ul)().logEvent}));var ae=s(52017),at=s(6809);let as={container:"QKm6q",copy:"BnVIB",usersIcon:"YMEfb",title:"KYgQq",description:"mV8AT"},aa={row:{height:"auto",padding:`${at.spaceL} ${at.spaceXl}`,margin:`${at.spaceS} 0`},flex:{minHeight:th.jI.FLEX_CARD_HEIGHT_PX,padding:`${at.spaceL} ${at.spaceXxxl} ${at.spaceXl} ${at.spaceXxxl}`}},an=(0,k.J)(({displayMode:e,timelineObject:{ctaButton:t,description:s,objectType:a,title:n}})=>{let{logEvent:i}=(0,w.Ul)();return/*#__PURE__*/(0,g.jsxs)("div",{className:as.container,style:aa[e],children:[/*#__PURE__*/(0,g.jsxs)("div",{className:as.copy,children:["flex"===e&&/*#__PURE__*/(0,g.jsx)("div",{className:as.usersIcon,children:/*#__PURE__*/(0,g.jsx)(ae.Qrg,{filled:!0})}),/*#__PURE__*/(0,g.jsx)("div",{className:as.title,children:n}),/*#__PURE__*/(0,g.jsx)("div",{className:as.description,children:s})]}),/*#__PURE__*/(0,g.jsx)(N.jn,{context:"color",onClick:()=>i({eventName:c.R.TimelineActionMessageButtonClick,eventDetails:{trackable_type:a}}),render:/*#__PURE__*/(0,g.jsx)(I.N_,{target:t.button.links.tap.launchNewTab?"_blank":void 0,to:t.button.links.tap.href}),size:"large",children:t.button.label})]})}),ai={centered:"mkkHd"},ar=({timelineObject:{button:e}})=>{let{apiFetch:t}=(0,m.Us)(),s={};switch(e.links.tap.type){case _.J.Web:s.href=e.links.tap.href,s.className=ai.centered;break;case _.J.Action:s.onClick=(0,R.A)(e.links.tap,t),s.wrapperClassName=ai.centered}return/*#__PURE__*/(0,g.jsx)(et.A,{isRounded:!0,...s,children:e.label})},ao={messageContainer:"Ks9nn",card:"E6VuV",icon:"rOe7u",title:"fuFUP",row:"Lk2lj",dismissal:"Ltmw8",description:"ZR5vI"},al=e=>{let t=(0,eP.Hu)(e,24);return/*#__PURE__*/(0,g.jsx)(t,{filled:!0})},ad=(0,k.J)(({timelineObject:e,displayMode:t="row"})=>{let{description:s,dismissal:a,icon:n,title:i}=e,{apiFetch:o}=(0,m.Us)(),{logEvent:l}=(0,w.Ul)(),{onRemoveTimelineObject:d}=(0,P._X)(),p=(0,U.useMemo)(()=>{let[t]=a?.options??[];if(!t)return null;let{link:s,text:n}=t,i={"aria-label":n,context:"chrome",title:n,onClickCapture:()=>{l({eventName:c.R.TimelineMessageDismiss}),d?.(P.iN(e))}};switch(s.type){case _.J.Action:i.onClick=(0,R.A)(s,o);break;case _.J.API:i.onClick=()=>o(s.href,{body:s.bodyParams,method:s.method});break;case _.J.Web:i.render=/*#__PURE__*/(0,g.jsx)(I.N_,{target:s.launchNewTab?"_blank":void 0,to:s.href})}return/*#__PURE__*/(0,g.jsx)(N.JD,{...i,children:/*#__PURE__*/(0,g.jsx)(ae.iRy,{})})},[o,a?.options,d,e,l]);return/*#__PURE__*/(0,g.jsxs)("div",{className:r()(ao.messageContainer,{[ao.card]:"card"===t,[ao.row]:"row"===t}),style:{height:"card"===t?th.jI.FLEX_CARD_HEIGHT_PX:"auto"},children:[n&&"card"===t&&/*#__PURE__*/(0,g.jsx)("div",{className:ao.icon,children:al(n)}),/*#__PURE__*/(0,g.jsx)("div",{className:ao.title,children:i}),/*#__PURE__*/(0,g.jsx)("div",{className:ao.dismissal,children:p}),/*#__PURE__*/(0,g.jsx)("div",{className:ao.description,children:s})]})});var ac=s(16418);let am={titleObject:"HphhS",titleArea:"KDoiW",highlightedText:"rR_oZ",auxActionLink:"EUG7h",centerTitle:"_TztT"},ap=({timelineObject:{text:e,highlightText:t,links:s,alignment:a,auxAction:n}})=>{let i=[e];if(t){let s=RegExp(`(${(0,ac.N)(t)})`,"gi");i=e.split(s).reduce((e,s,a)=>{if(!s)return e;let n=s.toLowerCase()===t.toLowerCase()?/*#__PURE__*/(0,g.jsx)("span",{"data-testid":`highlight-${a}`,children:s},a):s;return e.push(n),e},[])}let o=r()(am.titleArea,{[am.centerTitle]:"center"===a,[am.highlightedText]:!s?.tap}),l=n&&/*#__PURE__*/(0,g.jsx)(I.N_,{className:am.auxActionLink,to:n.links.href,children:n.text});return s?.tap?/*#__PURE__*/(0,g.jsxs)("div",{className:am.titleObject,children:[/*#__PURE__*/(0,g.jsx)("div",{className:o,children:/*#__PURE__*/(0,g.jsx)(q.A,{className:am.highlightedText,href:s.tap.href,showBlogCard:!1,children:i})}),l]}):/*#__PURE__*/(0,g.jsxs)("div",{className:am.titleObject,children:[/*#__PURE__*/(0,g.jsx)("div",{className:o,children:i}),l]})};var au=s(61409),ah=s(78209);let ag=function({timelineObject:{elements:e}}){return/*#__PURE__*/(0,g.jsx)("div",{className:ah.A.videoHubCardGrid,children:e.map(e=>/*#__PURE__*/(0,g.jsx)("div",{className:ah.A.videoHubCardItem,children:/*#__PURE__*/(0,g.jsx)(au.xi,{videoHub:e})},e.id))})};var ab=s(41076);let ax={videoHubPlayIcon:"TAze8",title:"xCIcJ",description:"FgLa6",videoHubsFeatured:"k6rvV",videoHubsFeaturedInner:"wggkC",imageWrapper:"Opfji",bannerBg:"MOLiI"},af=function({timelineObject:e}){let{_c:t}=(0,m.Us)(),s=e.media?.[0],a=s.poster??s;return/*#__PURE__*/(0,g.jsxs)("div",{children:[/*#__PURE__*/(0,g.jsxs)("span",{children:[/*#__PURE__*/(0,g.jsx)("h2",{className:ax.title,children:t("Text above banner showing a recommended video hub","Recommended")}),/*#__PURE__*/(0,g.jsx)("p",{className:ax.description,children:t("Description for banner that shows a recommended video hub","Stuff we think you'll like")})]}),/*#__PURE__*/(0,g.jsx)("div",{className:ax.videoHubsFeatured,children:/*#__PURE__*/(0,g.jsx)("div",{className:ax.videoHubsFeaturedInner,children:/*#__PURE__*/(0,g.jsxs)(I.N_,{to:e.links?.tap.href,children:[/*#__PURE__*/(0,g.jsx)("span",{className:ax.bannerBg,style:{backgroundImage:`url(${a.url})`}}),/*#__PURE__*/(0,g.jsx)("span",{className:ax.imageWrapper,children:/*#__PURE__*/(0,g.jsx)("img",{alt:t("Alt text for banner image that links to the Recommended video hub channel","Banner image showing a preview of the Recommended channel"),loading:"lazy",src:e.media?.[0].url})}),/*#__PURE__*/(0,g.jsx)("div",{className:ax.videoHubPlayIcon,children:/*#__PURE__*/(0,g.jsx)(ab.A,{size:{width:45,height:45}})})]})})})]})};var av=s(77769),aj=s(19974),ay=s(98323),aw=s(22720),aA=s(63426);let aC=()=>3;class aN extends U.Component{constructor(...e){super(...e),n()(this,"state",{hasErrored:!1}),n()(this,"assignRef",e=>this.ref=e),n()(this,"getPresentationStyle",(e,t)=>{let{presentationStyle:s,displayMode:a}=this.props;return s||(a===S.X2.Masonry?eW.A.masonry:t?{...e===ay.Ay.Desktop?eW.A.desktop:eW.A.mobile,autoLimitContentHeight:!0}:e===ay.Ay.Desktop?eW.A.desktop:eW.A.mobile)}),n()(this,"toggleExpanded",()=>{this.props.toggleExpandedInGrid&&this.props.toggleExpandedInGrid(this.props.timelineObject,aC())}),n()(this,"handleGridViewClick",e=>{e.preventDefault(),this.toggleExpanded()})}shouldComponentUpdate(e,t){return!(0,aw.n)(e,this.props)||t.hasErrored!==this.state.hasErrored}componentDidCatch(e){this.setState({hasErrored:!0});let{id:t,objectType:s}=this.props.timelineObject,a=`[TimelineObject error: object type ${s} with ID ${t}] ${e.message}`;window.dispatchEvent(new ErrorEvent("error",{error:e,message:a}))}render(){if(this.state.hasErrored)return null;let{timelineObject:e,displayMode:t}=this.props;if(t!==S.X2.Embed&&(0,S.zA)(e)&&e.isNsfw&&!e.blog.isMember)return null;switch(t){case S.X2.Grid:return this.renderInGrid();case S.X2.Embed:return this.renderEmbed();case S.X2.List:default:return this.renderInList()}}renderInList(e){let{timelineObject:t,className:s,noMargin:a,appContext:{features:n}}=this.props;if(t.isExpandedInGrid&&!e)return null;let i=(0,S.zA)(t)||(0,S.tj)(t)?r()(aA.A.listTimelineObject,{[aA.A.sortDragDropTarget]:t.queuedState===tC.nQ.Queued,[aA.A.animateOut]:t.animateOut,[aA.A.masonryTimelineObject]:this.props.displayMode===S.X2.Masonry}):(0,S.Gn)(t)?r()(aA.A.listTimelineObject,{[aA.A.animateOut]:t.animateOut}):(0,S.g2)(t)||(0,S.MT)(t)?r()(aA.A.listTimelineObject,aA.A.paywallTimelineObject):aA.A.listTimelineObject,o=this.renderObjectInList();return o&&/*#__PURE__*/(0,g.jsx)("div",{className:r()(i,s,{[aA.A.noMargin]:a,[aA.A.reblogRedesignEnabled]:n.reblogRedesignNew}),"data-id":(0,S.zA)(t)?t.id:void 0,ref:this.assignRef,tabIndex:-1,children:/*#__PURE__*/(0,g.jsx)("div",{className:aA.A.listTimelineObjectInner,tabIndex:-1,children:o})})}renderObjectInList(){let{timelineObject:e,displayMode:t,isInboxTimeline:s,isMobile:a,index:n,presentationStyle:i,appContext:{features:o,getBrowserInfo:l}}=this.props;e.displayType===H.q.Sponsored&&(e.adInstanceCreationTime=Date.now());let d=t===S.X2.Masonry||l().deviceType===ay.Ay.Desktop&&i?.desktopPostWidth===av.PATIO_NARROW_COLUMN_POST_WIDTH;if((0,S.zA)(e)&&!(0,S.Tt)(e))return/*#__PURE__*/(0,g.jsx)(ev.Ay,{children:({device:t})=>/*#__PURE__*/(0,g.jsx)(t5.A,{isInInboxTimeline:s,isNarrow:d,postIndex:n??0,presentationStyle:this.getPresentationStyle(t,!0),timelineObject:e})});if((0,S.tj)(e))return/*#__PURE__*/(0,g.jsx)(ta.A,{displayMode:t,timelineObject:e});if((0,S.bQ)(e))return/*#__PURE__*/(0,g.jsx)(tv,{timelineObject:e});if((0,S.rp)(e))return/*#__PURE__*/(0,g.jsx)(tu,{timelineObject:e});if((0,S.ZS)(e))return/*#__PURE__*/(0,g.jsx)(ap,{timelineObject:e});if((0,S.GL)(e))return/*#__PURE__*/(0,g.jsx)(s5,{timelineObject:e});if((0,S.Gn)(e))return/*#__PURE__*/(0,g.jsx)(E,{timelineObject:e});if((0,S.My)(e))return/*#__PURE__*/(0,g.jsx)(ts,{timelineObject:e});if((0,S.vk)(e))return/*#__PURE__*/(0,g.jsx)(sR,{timelineObject:e});if((0,S.E$)(e))return/*#__PURE__*/(0,g.jsx)(sZ,{timelineObject:e});if(((0,S.iW)(e)||(0,S.Tt)(e))&&o.redpopMoneyballAds)return/*#__PURE__*/(0,g.jsx)(ev.Ay,{children:({device:t})=>/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[(0,S.Tt)(e)&&e.admMediaType!==S.zR.TspVideo&&/*#__PURE__*/(0,g.jsx)(f.Ay,{timelineObject:e}),/*#__PURE__*/(0,g.jsx)(v.Ay,{isInstream:!0,supplyProviderId:tA._.DASHBOARD,timelineObject:e,children:({ad:s,adServed:a,supplyOpportunityInstanceId:n,location:i,streamPosition:l,onFilled:d,onEmpty:c,onError:m})=>/*#__PURE__*/(0,g.jsx)("div",{className:r()(aA.A.listTimelineObject,f.SZ,{[aA.A.reblogRedesignEnabled]:o.reblogRedesignNew}),children:/*#__PURE__*/(0,g.jsx)(t_,{ad:s,adServed:a,location:i,onEmpty:c,onError:m,onFilled:d,presentationStyle:this.getPresentationStyle(t,(0,S.Tt)(e)&&!!e.isBlazed),streamPosition:l,supplyOpportunityInstanceId:n})})})]})});if((0,S.zl)(e))return/*#__PURE__*/(0,g.jsx)($,{timelineObject:e});if((0,S.mB)(e)){let t=e.supplyProviderId??tA._.DASHBOARD;return/*#__PURE__*/(0,g.jsx)(t_,{ad:e,adServed:!0,fallbackAd:{},location:t,streamPosition:t===tA._.DASHBOARD?e.streamGlobalPosition:void 0,supplyOpportunityInstanceId:e.supplyOpportunityInstanceId})}return(0,S.Fo)(e)?/*#__PURE__*/(0,g.jsx)(eX.A,{context:t===S.X2.List?"content":"chrome",timelineObject:e}):(0,S.$K)(e)?/*#__PURE__*/(0,g.jsx)(e1,{timelineObject:e}):(0,S.gj)(e)?/*#__PURE__*/(0,g.jsx)(tg.C,{timelineObject:e}):(0,S.Id)(e)?t===S.X2.List?/*#__PURE__*/(0,g.jsx)(tb.o,{buttonMode:a?"pivot":"none",context:"content",timelineObject:e}):/*#__PURE__*/(0,g.jsx)(th.me,{displayMode:t===S.X2.Masonry?"flex":"static",timelineObject:e,withAvatar:!0}):(0,S.fc)(e)?/*#__PURE__*/(0,g.jsx)(an,{displayMode:t===S.X2.Masonry?"flex":"row",timelineObject:e}):(0,S.Hn)(e)?/*#__PURE__*/(0,g.jsx)(ad,{displayMode:t===S.X2.Masonry?"card":"row",timelineObject:e}):(0,S.HT)(e)?/*#__PURE__*/(0,g.jsx)(j.A,{timelineObject:e}):(0,S.Sn)(e)?/*#__PURE__*/(0,g.jsx)(b,{timelineObject:e}):(0,S.Ei)(e)?/*#__PURE__*/(0,g.jsx)(C,{timelineObject:e}):(0,S.r9)(e)?/*#__PURE__*/(0,g.jsx)(sc,{}):(0,S.Tb)(e)?/*#__PURE__*/(0,g.jsx)(tT,{timelineObject:e}):(0,S.HQ)(e)?/*#__PURE__*/(0,g.jsx)(tm,{timelineObject:e}):(0,S.V2)(e)?/*#__PURE__*/(0,g.jsx)(ar,{timelineObject:e}):(0,S.K2)(e)?/*#__PURE__*/(0,g.jsx)(sb,{timelineObject:e}):(0,S.zo)(e)?/*#__PURE__*/(0,g.jsx)(eV,{timelineObject:e}):(0,S.Lm)(e)?/*#__PURE__*/(0,g.jsx)(ag,{timelineObject:e}):(0,S.B_)(e)?/*#__PURE__*/(0,g.jsx)(af,{timelineObject:e}):(0,S.KG)(e)&&o.enableTumblrPremium?/*#__PURE__*/(0,g.jsx)(st,{timelineObject:e}):(0,S.$G)(e)?/*#__PURE__*/(0,g.jsx)(e7,{timelineObject:e}):("production"===aj.A.Development&&console.warn(`Unsupported timeline object type "${e.objectType}" with ID ${e.id}`),null)}renderInGrid(){let{timelineObject:e,gridChildren:t,hoverContent:s,appContext:{_c:a}}=this.props,n=`calc(${100/aC()}% - 2px)`;return(0,S.zA)(e)?e.isExpandedInGrid?/*#__PURE__*/(0,g.jsx)("div",{className:aA.A.expandedGridObjectContainer,children:this.renderInList(!0)}):/*#__PURE__*/(0,g.jsxs)("div",{className:aA.A.gridTimelineObject,ref:this.assignRef,style:{width:n},children:[/*#__PURE__*/(0,g.jsx)("button",{"aria-label":a("Button that shows the full post content when clicked, shown on posts that are very long","Expand"),className:aA.A.gridObjectExpandCover,onClick:this.toggleExpanded,children:/*#__PURE__*/(0,g.jsx)("div",{className:aA.A.gridObjectExpandCoverInner,tabIndex:-1,children:/*#__PURE__*/(0,g.jsx)("div",{className:r()(aA.A.expandedCover,{[aA.A.expandedCoverIsExpanded]:e.hasExpandedVersionBelowIt})})})}),/*#__PURE__*/(0,g.jsx)(em.A,{children:t,className:aA.A.postInGrid,forceHover:e.hasExpandedVersionBelowIt,hoverContent:s,onClick:this.handleGridViewClick,tabIndex:-1,timelineObject:e})]}):null}renderEmbed(){let{timelineObject:e,presentationStyle:t}=this.props;return(0,S.zA)(e)?t===eW.A.embedGif?/*#__PURE__*/(0,g.jsx)(t8,{presentationStyle:t,timelineObject:e}):/*#__PURE__*/(0,g.jsx)(t3,{presentationStyle:t,timelineObject:e}):null}}n()(aN,"defaultProps",{displayMode:S.X2.List});let ak=/*#__PURE__*/(0,U.forwardRef)((e,t)=>{let s=(0,m.Us)(),{isMobile:a}=(0,ev.Ri)();return(0,x.L9)(e.timelineObject),/*#__PURE__*/(0,g.jsx)(aN,{ref:t,...e,appContext:s,isMobile:a})})},48630:(e,t,s)=>{s.d(t,{A:()=>g});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(56365),r=s(35528),o=s(33116),l=s(62674),d=s(36665),c=s(4613),m=s(41276);let p={cover:"ORE7n",description:"ZoV6R",followButton:"w6x4o",blogRow:"ngnqP",chrome:"tMsyD",content:"S01d5"};var u=s(60397);let h=({blog:e,context:t="chrome",isFollowed:s,onFollow:a,onClick:l,withDescription:c=!1})=>{let h=(0,d.useMemo)(()=>/*#__PURE__*/(0,u.jsx)("div",{className:p.followButton,children:/*#__PURE__*/(0,u.jsx)(o.t,{blogName:e.name,blogUrl:e.url,context:t,following:!!s,onFollow:a,showUnfollow:!0})}),[e.name,e.url,t,s,a]),g=(0,d.useMemo)(()=>/*#__PURE__*/(0,u.jsx)("div",{className:p.description,children:(0,m.W)(e.descriptionNpf)}),[e.descriptionNpf]);return/*#__PURE__*/(0,u.jsxs)("div",{className:n()(p.blogRow,{[p.chrome]:"chrome"===t,[p.content]:"content"===t}),children:[/*#__PURE__*/(0,u.jsx)(i.A,{blogName:e.name,className:p.cover,href:e.url,onClick:l,showBlogCard:!0,useInlinePopover:!0}),/*#__PURE__*/(0,u.jsx)(r.s,{avatarBlog:e,avatarImage:e.avatar,avatarShape:e.theme?.avatarShape,avatarShowBlogCard:!1,content:c&&g,context:t,rightContent:h,size:"header",subheader:e.title,title:e.name})]})},g=(0,l.J)(({context:e,onClick:t,timelineObject:s,withDescription:a=!1})=>{let{isLoggedIn:n}=(0,c.Us)(),[i,r]=(0,d.useState)(void 0),o=s.resources[0],l=(0,d.useMemo)(()=>o&&{...o,posts:void 0},[o]),m=i??o?.followed,p=(0,d.useCallback)(()=>{n&&r(!m)},[m,n]);return o?/*#__PURE__*/(0,u.jsx)(h,{blog:l,context:e,isFollowed:!!m,onClick:t,onFollow:p,withDescription:a}):null})},10761:(e,t,s)=>{s.d(t,{O:()=>W});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(28230),r=s(27699),o=s(56365),l=s(34835),d=s(27725),c=s(95931),m=s(76300),p=s(19221),u=s(43776),h=s(94048),g=s(66910),b=s(76146),x=s(5590),f=s(99805),v=/*#__PURE__*/s.n(f);let j={postCard:"_X19c",cardHeader:"txEJf",avatarWrapper:"_5p5FC",cardHeaderBar:"xuN5Q",square:"ZtkzZ",circle:"K0Rj5",animateAvatar:"w6XLs",cardPost:"BQhXD",cardFooter:"nEems"};var y=s(60397);let w=e=>e.find(({trail:e,content:t,type:s})=>{if(s!==g.hW)return!1;let a=(0,m.A)(e,t,!0);return!(!a||Array.isArray(a))&&a.type===p._B.Image}),A=({blog:e,posts:t,onDismiss:s})=>{let{theme:a={},secondsSinceLastActivity:i=999999,avatar:m}=e,{avatarShape:p=u.b.Circle}=a;if(!t)return null;let g=w(t);return g?/*#__PURE__*/(0,y.jsxs)("div",{className:j.postCard,style:(0,b.A)(e),children:[/*#__PURE__*/(0,y.jsxs)("div",{className:j.cardHeader,children:[/*#__PURE__*/(0,y.jsx)("div",{className:n()(j.avatarWrapper,j.animateAvatar,p===u.b.Circle?j.circle:j.square),children:/*#__PURE__*/(0,y.jsx)(o.A,{blog:e,blogName:e.name,href:e.url,krakenEventName:h.R.BlogUrlClick,rel:"noopener",showBlogCard:!0,target:"_blank",children:/*#__PURE__*/(0,y.jsx)(r.A,{avatarShape:p,bigStatusIndicator:!0,dimension:f.miniBlogCardAvatarSize,imageResponse:m,isOnline:(0,x.s)(i)})})}),/*#__PURE__*/(0,y.jsx)("div",{className:j.cardHeaderBar,children:/*#__PURE__*/(0,y.jsx)(l.Ay,{blog:e,hideFollowButton:!0,hideHeaderImage:!0,isBlogCardHeader:!0,isDismissible:!0,onDismiss:s})})]}),/*#__PURE__*/(0,y.jsx)("div",{className:j.cardPost,children:/*#__PURE__*/(0,y.jsx)(c.A,{blurImageBackground:!0,openInPeepr:!0,prioritizeImageBlocks:!0,timelineObject:g})}),/*#__PURE__*/(0,y.jsx)("div",{className:j.cardFooter,children:/*#__PURE__*/(0,y.jsx)(d.A,{blog:e})})]}):null};var C=s(12854),N=s(36665),k=s(11469),I=s(83322),_=s(4613),S=s(42670);let P={desktopContainer:"B15CE",usesNewDimensions:"gvSHK",title:"uJiXu",collapseSpacingInMobile:"GmRO3",postCardWrapper:"pqNoe",blogRows:"Pyyts"};var T=s(12177),R=s(25175);let B=e=>({blogs:L(e.response.timeline?.elements),nextLink:O(e)}),O=({response:e})=>{let t=e.timeline?.links?.next;return t?.href?{...t,href:(0,T.O)(t?.href,(0,R.k9)(R.WQ))}:t},L=e=>e.reduce((e,{dismissal:t,resources:s,display:a})=>{if(Array.isArray(s)){let n=e=>e;a?.reason&&(n=e=>({...e,recommendationReason:a.reason,dismissal:t||void 0})),e.push(...s.map(n))}return e},[]),E=({title:e,collapseSpacingInMobile:t})=>e&&/*#__PURE__*/(0,y.jsx)("div",{className:n()(P.title,{[P.collapseSpacingInMobile]:t}),children:e}),M=e=>{let{timelineObject:t,collapseSpacingInMobile:s,rowTheme:a,title:i}=e,{_t:r}=(0,_.Us)(),o=(0,N.useMemo)(()=>L(t.elements),[t.elements]),l=(0,N.useCallback)(()=>({blogs:o,nextLink:O({response:{timeline:t}})}),[t,o]);return 0===o.length?null:/*#__PURE__*/(0,y.jsxs)("div",{className:n()(P.desktopContainer,{[P.usesNewDimensions]:"blog"!==a}),children:[/*#__PURE__*/(0,y.jsx)(E,{collapseSpacingInMobile:s,title:i}),/*#__PURE__*/(0,y.jsx)(C.Ay,{className:P.blogRows,dismissAllLabel:r("Show more blogs"),getContentFromResponse:B,getInitialContent:l,rowTheme:a||"dark",title:i})]})},z=/*#__PURE__*/(0,y.jsx)("div",{className:P.blogCarouselLoader,children:/*#__PURE__*/(0,y.jsx)(i.A,{centerOrientation:"horizontalAndVertical"})}),D=e=>e.name,F=e=>{let{apiFetch:t}=(0,_.Us)(),[s,a]=(0,N.useState)(new Set),{collapseSpacingInMobile:n,timelineObject:i,title:r}=e,{elements:o,links:l}=i,d=(0,N.useMemo)(()=>({items:L(o),nextCursor:l?.next?.href}),[o,l?.next]),c=(0,N.useCallback)(e=>t(e).then(e=>({items:L(e.response.timeline.elements),nextCursor:e.response.timeline.links?.next?.href})),[t]),m=(0,N.useCallback)(e=>w(e.posts)?/*#__PURE__*/(0,y.jsx)("div",{className:P.postCardWrapper,children:/*#__PURE__*/(0,y.jsx)(A,{blog:(0,k.xc)(e),onDismiss:()=>{a(t=>new Set([...t,D(e)]))},posts:e.posts})}):null,[]);return/*#__PURE__*/(0,y.jsxs)(y.Fragment,{children:[/*#__PURE__*/(0,y.jsx)(E,{collapseSpacingInMobile:n,title:r}),/*#__PURE__*/(0,y.jsx)(S.r,{dismissedItems:s,fetchNext:c,getItemKey:D,initialPage:d,itemWidth:v().timelineMasonryPostWidth,loader:z,renderItem:m})]})},W=e=>{let{collapseSpacingInMobile:t=!0,displayMode:s,rowTheme:a,timelineObject:n}=e,i=n?.display?.title||"";return s===I.X2.List?/*#__PURE__*/(0,y.jsx)(F,{collapseSpacingInMobile:!!t,timelineObject:n,title:i}):/*#__PURE__*/(0,y.jsx)(M,{collapseSpacingInMobile:!!t,rowTheme:a,timelineObject:n,title:i})}},42670:(e,t,s)=>{s.d(t,{r:()=>u});var a=s(99976),n=s(52642),i=s(27120),r=s(36665),o=s(72591),l=s(25183),d=s(99805);let c={container:"q1ZAL",lastCarouselItem:"N7rEi"};var m=s(60397);let p=/*#__PURE__*/(0,r.memo)(({children:e,isFirst:t,isLast:s,itemGap:a,opacity:n})=>{let i=(0,r.useMemo)(()=>({marginLeft:t?0:a,opacity:n}),[t,a,n]);return/*#__PURE__*/(0,m.jsx)("div",{className:s?c.lastCarouselItem:void 0,style:i,children:e})});function u(e){let{dismissedItems:t=new Set,fetchNext:s,getItemKey:u,initialPage:h,itemGap:g=d.carouselItemSpacing,itemWidth:b,loader:x,renderItem:f}=e,{width:v}=(0,i.DC)(),[j,y]=(0,r.useState)(h.nextCursor),[w,A]=(0,r.useState)(h.items),[C,N]=(0,r.useState)(!1),k=(0,r.useCallback)(e=>{j&&e&&(N(!0),s(j).then(e=>{e.items.length&&A([...w,...e.items]),y(e.nextCursor),N(!1)},()=>N(!1)))},[j,w,s]),I=(0,r.useMemo)(()=>w.map((e,t)=>({renderedItem:f(e),key:u(e),position:t})).filter(e=>!!e.renderedItem&&!t.has(e.key)),[w,t,f,u]);return/*#__PURE__*/(0,m.jsx)(a.A,{className:c.container,itemWidth:b+("string"==typeof g?parseInt(g):g),visibleWidth:v,children:/*#__PURE__*/(0,m.jsx)(n.A.Consumer,{children:({window:e})=>/*#__PURE__*/(0,m.jsxs)(m.Fragment,{children:[I.map(({renderedItem:t,key:s,position:a},n)=>{let i=n===I.length-1;return/*#__PURE__*/(0,m.jsx)(o.pL,{onChange:i?k:void 0,rootMargin:"0px 400px 0px 0px",skip:!i,children:/*#__PURE__*/(0,m.jsx)(l.sv,{eventDetails:{position:a},children:/*#__PURE__*/(0,m.jsx)(p,{isFirst:0===n,isLast:i,itemGap:g,opacity:e[n]?.opacity||0,children:t},s)})},s)}),C&&x]})})})}},18785:(e,t,s)=>{s.d(t,{A:()=>O});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(36665),r=s(19974),o=s(83322),l=s(4613),d=s(99805),c=s(10761),m=s(28230),p=s(62674),u=s(36552),h=s(94048),g=s(25183),b=s(6809),x=s(42670),f=s(60397);let v=({id:e})=>e.toString(),j=/*#__PURE__*/(0,f.jsx)(m.A,{centerOrientation:"horizontalAndVertical"}),y=(0,p.J)(({timelineObject:e})=>{let{apiFetch:t}=(0,l.Us)(),{logEvent:s}=(0,g.Ul)(),[a,n]=(0,i.useState)(new Set),{elements:r,links:o}=e,d=(0,i.useCallback)(async a=>{let n=await t(a);return s({eventName:h.R.CommunitiesCarouselPagination,eventDetails:{logging_reason:e.recommendationReason?.loggingReason}}),{items:n.response.timeline.elements,nextCursor:n.response.timeline.links?.next?.href}},[t,s,e.recommendationReason?.loggingReason]),c=(0,i.useMemo)(()=>({items:r,nextCursor:o?.next?.href}),[r,o?.next?.href]),m=(0,i.useCallback)(e=>/*#__PURE__*/(0,f.jsx)(u.me,{onDismiss:()=>n(t=>new Set(t).add(e.id.toString())),timelineObject:e,withAvatar:!1}),[]);return/*#__PURE__*/(0,f.jsx)(x.r,{dismissedItems:a,fetchNext:d,getItemKey:v,initialPage:c,itemGap:b.spaceS,itemWidth:264,loader:j,renderItem:m})});var w=s(6323);let A=({id:e})=>e.toString(),C=/*#__PURE__*/(0,f.jsx)(m.A,{centerOrientation:"horizontalAndVertical"}),N=(0,p.J)(({timelineObject:e})=>{let{apiFetch:t}=(0,l.Us)(),{logEvent:s}=(0,g.Ul)(),{elements:a,links:n}=e,r=(0,i.useCallback)(async a=>{let n=await t(a);return s({eventName:h.R.CommunityCategoryCardsCarouselPagination,eventDetails:{logging_reason:e.recommendationReason?.loggingReason}}),{items:n.response.timeline.elements,nextCursor:n.response.timeline.links?.next?.href}},[t,s,e.recommendationReason?.loggingReason]),o=(0,i.useMemo)(()=>({items:a,nextCursor:n?.next?.href}),[a,n?.next?.href]),d=(0,i.useCallback)(e=>/*#__PURE__*/(0,f.jsx)(w.C,{timelineObject:e}),[]);return/*#__PURE__*/(0,f.jsx)(x.r,{fetchNext:r,getItemKey:A,initialPage:o,itemGap:b.spaceXs,itemWidth:174,loader:C,renderItem:d})});var k=s(91828),I=s(61409);let _={carouselLoaderVideoHubsCard:"w3kAG",videoHubCardCarouselItem:"SEBxd"},S=/*#__PURE__*/(0,f.jsx)("div",{className:_.carouselLoaderVideoHubsCard,children:/*#__PURE__*/(0,f.jsx)(m.A,{centerOrientation:"horizontalAndVertical"})}),P=e=>`${e.id}`,T=e=>/*#__PURE__*/(0,f.jsx)("div",{className:_.videoHubCardCarouselItem,children:/*#__PURE__*/(0,f.jsx)(I.xi,{videoHub:e})}),R=e=>{let{apiFetch:t}=(0,l.Us)(),{timelineObject:s}=e,{elements:a,links:n}=s,r=d.videoHubCardCarouselItemWidth+d.videoHubCardCarouselItemRightPadding,o=(0,i.useMemo)(()=>({items:a,nextCursor:n?.next?.href}),[a,n?.next]),c=(0,i.useCallback)(e=>t(e).then(e=>({items:e.response.timeline.elements,nextCursor:e.response.timeline.links?.next?.href})),[t]);return/*#__PURE__*/(0,f.jsx)(x.r,{fetchNext:c,getItemKey:P,initialPage:o,itemWidth:r,loader:S,renderItem:T})};class B extends i.Component{constructor(...e){super(...e),n()(this,"logWarningInConsole",()=>{let{timelineObject:e}=this.props;e&&"production"===r.A.Development&&(0===e.elements.length?console.warn(`Unsupported unknown carousel timeline object type with ID ${e.id}`):console.warn(`Unsupported carousel timeline object type "${e.elements[0].objectType}" with ID ${e.id}`))})}render(){let{timelineObject:e}=this.props;return(0,o.cH)(e)?/*#__PURE__*/(0,f.jsx)(c.O,{...this.props,timelineObject:e}):(0,o.yy)(e)?/*#__PURE__*/(0,f.jsx)(y,{...this.props,timelineObject:e}):(0,o.VF)(e)?/*#__PURE__*/(0,f.jsx)(N,{timelineObject:e}):(0,o.Qm)(e)?/*#__PURE__*/(0,f.jsx)(k.G,{...this.props,itemGap:d.narrowCarouselItemSpacing,itemWidth:d.tagChicletCarouselItemWith,loaderClass:"carouselLoaderChiclet",timelineObject:e}):(0,o.aL)(e)?/*#__PURE__*/(0,f.jsx)(k.G,{...this.props,itemWidth:d.tagCardCarouselItemWidth,loaderClass:"carouselLoaderTagCard",timelineObject:e}):(0,o.GH)(e)?/*#__PURE__*/(0,f.jsx)(R,{...this.props,timelineObject:e}):(this.logWarningInConsole(),null)}}let O=(0,l.Lk)(B)},91828:(e,t,s)=>{s.d(t,{G:()=>U,A:()=>G});var a=s(28230),n=s(11914),i=s(22335),r=s(66449),o=s(94048),l=s(4613),d=s(27984),c=s(25183),m=s(99805),p=/*#__PURE__*/s.n(m),u=s(41791);let h={tagCard:"quD2R",tagCardTitle:"jOrvN",tagCardPosts:"XtlxR",tagImage:"pAmwO",followButton:"FvvEQ"};var g=s(60397);let b=({tagName:e,posts:t,backgroundColor:s,borderColor:a,isFollowed:m})=>{let{_c:b}=(0,l.Us)(),{tabId:x}=(0,d.Vd)(),{logEvent:f}=(0,c.Ul)(),v=(0,u.Uw)(s);return/*#__PURE__*/(0,g.jsxs)("div",{className:h.tagCard,style:{backgroundColor:s,borderColor:a},children:[/*#__PURE__*/(0,g.jsxs)(r.A,{onClick:()=>{f({eventName:o.R.ClickedOnTagCard,eventDetails:{tag:e,tab:x}})},tagName:e,children:[/*#__PURE__*/(0,g.jsx)("div",{className:h.tagCardTitle,style:{color:v},children:/*#__PURE__*/(0,g.jsxs)("span",{children:["#",e]})}),/*#__PURE__*/(0,g.jsx)("div",{className:h.tagCardPosts,children:t.slice(0,2).map(({objectData:{backgroundImage:t}},s)=>t?/*#__PURE__*/(0,g.jsx)("div",{className:h.tagImage,children:/*#__PURE__*/(0,g.jsx)(n.jA,{altText:b("Alt text for a tag's image. Placeholder is the untranslated tag text.","#%1$s",[e]),imageResponse:[{url:t,width:p().tagCardImageWidth,height:p().tagCardImageWidth*p().tagCardImageSizeRatio}],isSquare:!1,sizes:`${2*p().tagCardImageWidth}px`})},s):null)})]}),/*#__PURE__*/(0,g.jsx)(i.A,{className:h.followButton,extraStyles:{backgroundColor:v,color:s},isFollowed:m,pageName:"tagged",tag:e})]})};var x=s(36665),f=s(83322);let v=s.p+"src/assets/videos/carousel/aged_postref-e4cac741.mp4",j=s.p+"src/assets/videos/carousel/aged_postref-2a1f0006.webm",y=s.p+"src/assets/videos/carousel/changes-91c7a7b0.mp4",w=s.p+"src/assets/videos/carousel/changes-4a0ea398.webm",A=s.p+"src/assets/videos/carousel/explore-9b9aad4a.mp4",C=s.p+"src/assets/videos/carousel/explore-15f47fc4.webm",N=s.p+"src/assets/videos/carousel/for_you-66f88213.mp4",k=s.p+"src/assets/videos/carousel/for_you-c1a9c8bd.webm",I=s.p+"src/assets/videos/carousel/merch-d1e81be9.mp4",_=s.p+"src/assets/videos/carousel/merch-ab8b2df8.webm",S=s.p+"src/assets/videos/carousel/staff_picks-011b4f2c.mp4",P=s.p+"src/assets/videos/carousel/staff_picks-a6a2f284.webm",T=s.p+"src/assets/videos/carousel/tagged-19a5b2a2.mp4",R=s.p+"src/assets/videos/carousel/tagged-eeb34763.webm",B=s.p+"src/assets/videos/carousel/trending-07dcb725.mp4",O=s.p+"src/assets/videos/carousel/trending-9f04dba5.webm",L="https://assets.tumblr.com/images/carousel",E={[`${L}/aged_postref.gif`]:{mp4:v,webm:j},[`${L}/changes.gif`]:{mp4:y,webm:w},[`${L}/explore.gif`]:{mp4:A,webm:C},[`${L}/for_you.gif`]:{mp4:N,webm:k},[`${L}/merch.gif`]:{mp4:I,webm:_},[`${L}/staff_picks.gif`]:{mp4:S,webm:P},[`${L}/tagged.gif`]:{mp4:T,webm:R},[`${L}/trending.gif`]:{mp4:B,webm:O}};var M=s(19869),z=s(42670);let D={tagChicletLink:"NWfPW",tagChicletWrapper:"aJgDC",tagChicletBg:"TQmoN",tagChicletBgShader:"T4ddP"};function F(e){switch(e.objectType){case f.$6.FollowedTag:return/*#__PURE__*/(0,g.jsx)(H,{tag:e});case f.$6.Tag:return/*#__PURE__*/(0,g.jsx)(b,{...e})}}function W(e){return e.tagName}function U(e){let{apiFetch:t}=(0,l.Us)(),{itemGap:s,itemWidth:n,timelineObject:i,loaderClass:r}=e,{elements:o,links:d}=i,c=(0,x.useMemo)(()=>({items:o,nextCursor:d?.next?.href}),[o,d?.next]),m=(0,x.useMemo)(()=>/*#__PURE__*/(0,g.jsx)("div",{className:r,children:/*#__PURE__*/(0,g.jsx)(a.A,{centerOrientation:"horizontalAndVertical"})}),[r]),p=(0,x.useCallback)(e=>t(e).then(e=>({items:e.response.timeline.elements,nextCursor:e.response.timeline.links?.next?.href})),[t]);return/*#__PURE__*/(0,g.jsx)(z.r,{fetchNext:p,getItemKey:W,initialPage:c,itemGap:s,itemWidth:n,loader:m,renderItem:F})}function H({tag:e}){let t=function(e){let t=new URL(e,"https://invalid.tld/");return t.search="",E[t.href]||void 0}(e.backgroundImage),[s,a]=(0,x.useState)(!1);return/*#__PURE__*/(0,g.jsx)(r.A,{className:D.tagChicletLink,onClick:M.A,tagName:e.tagName,toOverride:e.links?.tap?.href,children:/*#__PURE__*/(0,g.jsxs)("div",{className:D.tagChicletWrapper,"data-testid":"chiclet-wrapper",style:e.backgroundImage&&!t?{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("${e.backgroundImage}")`,backgroundSize:"cover",backgroundPosition:"center"}:e.backgroundColor&&!t?{backgroundColor:e.backgroundColor}:void 0,children:[t&&/*#__PURE__*/(0,g.jsxs)("video",{autoPlay:!0,className:D.tagChicletBg,crossOrigin:"anonymous",loop:!0,muted:!0,onLoadedMetadata:()=>a(!0),playsInline:!0,style:s?{display:"block"}:{},children:[/*#__PURE__*/(0,g.jsx)("source",{src:t.webm,type:"video/webm"}),/*#__PURE__*/(0,g.jsx)("source",{src:t.mp4,type:"video/mp4"})]}),t&&/*#__PURE__*/(0,g.jsx)("div",{className:D.tagChicletBgShader}),/*#__PURE__*/(0,g.jsx)("span",{children:e.tagName})]})})}let G=U},36552:(e,t,s)=>{s.d(t,{jI:()=>P,me:()=>B,t3:()=>T});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(27699),r=s(69998),o=s(87580),l=s(52017),d=s(62674),c=s(85366),m=s(12044),p=s(36665),u=s(55321),h=s(33410),g=s(72571),b=s(94048),x=s(4613),f=s(50902),v=s(27984),j=s(25183),y=s(26238),w=s(34588),A=s(57574);let C={ANIMATE_OUT_DURATION_MS:"300",CONTENT_HEIGHT_PX:"172",wrapper:"rj2AL",communityCard:"kvzqV",animateOut:"eS_fk",cover:"qKOfy",header:"VHoKL",content:"gUAKZ",cardLabels:"OuaBX",dismissal:"IwpXC",title:"KjcJF",description:"YmIEY",tags:"Hzn1C",headerBottom:"yG2DA",avatar:"oCB23",headerCopy:"GJZlF",extendedTitle:"CtMHn",shortenedTitle:"TRZmj",copy:"Z2xdy",textRow:"hfao_",thumbs:"ULpQe",thumb:"Y7U4T",cta:"_EECR"};var N=s(44645),k=s(60397);let I=parseInt(C.CONTENT_HEIGHT_PX),_=Math.floor(264/(16/9)),S=Math.floor(300/(16/9)),P={STATIC_WIDTH_PX:264,STATIC_CARD_HEIGHT_PX:I+_,FLEX_CARD_HEIGHT_PX:I+S},T=({timelineObject:e,bluespacePage:t,tabId:s,tabPosition:a})=>({community_id:e.resourceIds[0],logging_reason:e.recommendationReason?.loggingReason,serve_id:e.serveId,tab_position:a,tab:s,trackable_type:e.objectType,query_string:(0,g.ke)(t)?t.extraAttributes?.searchTerm:void 0}),R=(0,d.J)(({displayMode:e="static",onDismiss:t,timelineObject:{cardLabels:s=[],ctaButton:a,description:d,dismissal:g,displayTagsInHeader:f,headerImage:v,joinType:I,links:P,posts:T,resources:R,tagsV2:B,textRows:O,title:L},withAvatar:E=!1})=>{let{_c:M,apiFetch:z}=(0,x.Us)(),{logEvent:D}=(0,j.Ul)(),[F,W]=(0,p.useState)(!1),U="flex"===e?300:264,H=parseInt(C.ANIMATE_OUT_DURATION_MS),G=(0,p.useMemo)(()=>new A.A(v).getOriginalSourceClosestToWidth(U),[U,v]),$=(0,p.useMemo)(()=>`
    linear-gradient(to top, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.2) 100%),
    linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)),
    url(${G.url})
  `,[G.url]),q=(0,p.useMemo)(()=>B?/*#__PURE__*/(0,k.jsx)("div",{className:C.tags,children:B.flatMap(({name:e},t,{length:s})=>[/*#__PURE__*/(0,k.jsxs)(u.N_,{onClick:()=>D({eventName:b.R.CommunityCardTagClick,eventDetails:{tag_name:e}}),to:(0,m.gn)(e),children:["#",e]},e),...t!==s-1?["  "]:[]])}):null,[D,B]),V=(0,p.useMemo)(()=>{let[e]=g?.options??[];if(!e)return null;let{link:s,text:a}=e,n={"aria-label":a,context:"image",title:a,onClickCapture:()=>{if(D({eventName:b.R.Dismiss}),t){let e=w.gP()?.("(prefers-reduced-motion: no-preference)").matches?H:0;W(!0),setTimeout(t,e)}}};switch(s.type){case h.J.Action:n.onClick=(0,y.A)(s,z);break;case h.J.API:n.onClick=()=>z(s.href,{body:s.bodyParams,method:s.method});break;case h.J.Web:n.render=/*#__PURE__*/(0,k.jsx)(u.N_,{target:s.launchNewTab?"_blank":void 0,to:s.href})}return/*#__PURE__*/(0,k.jsx)(r.JD,{...n,children:/*#__PURE__*/(0,k.jsx)(l.V5W,{})})},[H,z,g?.options,D,t]);return/*#__PURE__*/(0,k.jsx)("section",{className:n()(C.wrapper,{[C.animateOut]:F}),style:{width:"flex"===e?"100%":U},children:/*#__PURE__*/(0,k.jsxs)("div",{className:C.communityCard,children:[P&&/*#__PURE__*/(0,k.jsx)(u.N_,{"aria-label":M("[Communities] Accessible text label for link to community","Go to community"),className:C.cover,onClick:()=>D({eventName:b.R.CommunityCardClick}),to:P.tap.href}),/*#__PURE__*/(0,k.jsxs)("div",{className:C.header,style:{backgroundImage:$,height:"flex"===e?S:_},children:[/*#__PURE__*/(0,k.jsx)("div",{className:C.cardLabels,children:s.map(e=>/*#__PURE__*/(0,k.jsx)(o.J,{context:"image",style:e.style,children:e.text},e.text))}),/*#__PURE__*/(0,k.jsx)("div",{className:C.dismissal,children:V}),/*#__PURE__*/(0,k.jsxs)("div",{className:C.headerBottom,children:[E&&/*#__PURE__*/(0,k.jsx)("div",{className:C.avatar,children:/*#__PURE__*/(0,k.jsx)(i.A,{dimension:44,eventName:b.R.CommunityCardClick,imageResponse:R[0].avatarImage,isCommunity:!0,name:R[0].name,showBlogCard:!1,url:P?.tap.href})}),/*#__PURE__*/(0,k.jsxs)("div",{className:C.headerCopy,children:[/*#__PURE__*/(0,k.jsx)("h2",{className:n()(C.title,{[C.shortenedTitle]:E,[C.extendedTitle]:!E}),children:L}),f&&q]})]})]}),/*#__PURE__*/(0,k.jsxs)("div",{className:C.content,children:[/*#__PURE__*/(0,k.jsxs)("div",{className:C.copy,children:[/*#__PURE__*/(0,k.jsx)("div",{className:C.description,children:d}),!f&&q,/*#__PURE__*/(0,k.jsxs)("div",{className:C.textRow,children:[O?.length&&/*#__PURE__*/(0,k.jsx)(N.E,{context:"chrome",textRow:O[0]},O[0].text),O?.length&&I&&/*#__PURE__*/(0,k.jsx)("span",{children:"Â Â·Â "}),I&&/*#__PURE__*/(0,k.jsx)(N.E,{context:"chrome",textRow:{text:I,highlightedText:I}})]})]}),T&&/*#__PURE__*/(0,k.jsx)("div",{className:C.thumbs,children:T.map(e=>/*#__PURE__*/(0,k.jsx)(c.A,{chiclet:e,className:C.thumb,krakenEventDetails:{post_id:e.id},krakenEventName:b.R.CommunityCardPostPreviewClick},e.id))}),a&&/*#__PURE__*/(0,k.jsx)("div",{className:C.cta,children:/*#__PURE__*/(0,k.jsx)(r.tA,{color:"default",content:"text",context:"chrome",layout:"full",onClick:()=>D({eventName:b.R.CommunityCardCTAClick,eventDetails:{cta_type:a.ctaType}}),render:/*#__PURE__*/(0,k.jsx)(u.N_,{target:a.button.links.tap.launchNewTab?"_blank":void 0,to:a.button.links.tap.href}),size:"medium",children:a.button.label})})]})]})})}),B=e=>{let{timelineObject:t}=e,s=(0,f.v)(),{tabId:a,tabPosition:n}=(0,v.Vd)(),i=(0,p.useMemo)(()=>T({timelineObject:t,bluespacePage:s,tabId:a,tabPosition:n}),[s,a,n,t]);return/*#__PURE__*/(0,k.jsx)(j.sv,{eventDetails:i,children:/*#__PURE__*/(0,k.jsx)(R,{...e})})}},44645:(e,t,s)=>{s.d(t,{E:()=>m});var a=s(12154),n=s(26203),i=s(71226),r=s(52017),o=s(47741);let l={textRow:"wjhBM",dotContainer:"N6_1K"};var d=s(60397);let c=({icon:e,context:t})=>"dot"===e.type?/*#__PURE__*/(0,d.jsx)("div",{className:l.dotContainer,children:/*#__PURE__*/(0,d.jsx)(i.m,{})}):"trending"===e.type?/*#__PURE__*/(0,d.jsx)(r.jsE,{}):"facepile"===e.type?/*#__PURE__*/(0,d.jsx)(n.g,{avatars:e.blogs.flatMap(({avatar:e})=>e?[e]:[]),context:t}):null,m=({textRow:{text:e,highlightedText:t,icon:s},context:n})=>{let i=t?(0,a.A)({mixedString:e.replace(t,"{{highlight/}}"),components:{highlight:/*#__PURE__*/(0,d.jsx)("strong",{style:{color:"content"===n?o.colorContentFg:o.colorChromeFg},children:t})}}):e;return/*#__PURE__*/(0,d.jsxs)("div",{className:l.textRow,children:[s&&/*#__PURE__*/(0,d.jsx)(c,{context:n,icon:s}),/*#__PURE__*/(0,d.jsx)("span",{children:i})]})}},6323:(e,t,s)=>{s.d(t,{C:()=>p});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(36665),r=s(55321),o=s(94048),l=s(4613),d=s(25183);let c={cover:"oISzm",root:"nY3JD",normal:"RPXx5",large:"sGH3l",footer:"GutOb",content:"GpJEZ",communityCategoryImage:"BA0OQ",withCount:"SCeUL",label:"hWjvj",sublabel:"BV4gt"};var m=s(60397);let p=({displayMode:e="static",timelineObject:t})=>{let{size:s,communityCategory:{image:a,label:p,communityCount:u,links:h}}=t,{_cn:g}=(0,l.Us)(),{logEvent:b}=(0,d.Ul)(),x="number"==typeof u,f=(0,i.useCallback)(()=>{b({eventName:o.R.CommunityCategoryCardClick,eventDetails:{category:p,size:s}})},[p,b,s]);return/*#__PURE__*/(0,m.jsxs)("div",{className:n()(c.root,{[c[s]]:"static"===e}),children:[/*#__PURE__*/(0,m.jsx)(r.N_,{className:c.cover,onClick:f,to:h.tap.href}),/*#__PURE__*/(0,m.jsxs)("div",{className:n()(c.content),children:[/*#__PURE__*/(0,m.jsx)("div",{className:c.communityCategoryImage,style:{backgroundImage:`url("${a[0]?.url}")`}}),/*#__PURE__*/(0,m.jsxs)("div",{className:n()(c.footer,{[c.withCount]:x}),children:[/*#__PURE__*/(0,m.jsx)("div",{className:c.label,children:p}),x&&/*#__PURE__*/(0,m.jsx)("div",{className:c.sublabel,children:g("[Communities] Label on community category indicating how many communities it contains","%1$s community","%1$s communities",u)})]})]})]})}},1526:(e,t,s)=>{s.d(t,{o:()=>I});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(27699),r=s(69998),o=s(87580),l=s(52017),d=s(62674),c=s(85191),m=s(36665),p=s(55321),u=s(94048),h=s(83322),g=s(4613),b=s(50902),x=s(27984),f=s(25183),v=s(47741),j=s(36552),y=s(44645);let w={root:"rGtDT",chromeRoot:"wGzWf",contentRoot:"jBW90",avatar:"xKsLi",body:"UwXX0",cover:"j3aCp",pivotIcon:"BGnbK",info:"JI41B",cta:"H5jKm",title:"s3_eW",cardLabels:"OeDDj",headline:"RFsN3",secondaryContent:"vSJjf",count:"nIXM2",textRows:"aECk8",description:"zGDfg"};var A=s(60397);let C=/*#__PURE__*/(0,A.jsx)(l.zs8,{className:w.pivotIcon}),N={chrome:{color:v.colorChromeFg},content:{color:v.colorContentFg}},k=(0,d.J)(({buttonMode:e="cta",context:t,omitDescription:s=!1,timelineObject:{cardLabels:a=[],ctaButton:l,description:d,joinType:h,links:b,resources:x,textRows:v,title:j}})=>{let{_c:k}=(0,g.Us)(),{_getLocaleNumberString:I}=(0,g.Us)(),{logEvent:_}=(0,f.Ul)(),S=a.filter(e=>"primary"===e.style),P=(0,m.useMemo)(()=>{switch(e){case"cta":return l&&/*#__PURE__*/(0,A.jsx)("div",{className:w.cta,children:/*#__PURE__*/(0,A.jsx)(r.tA,{color:"default",content:"text",context:t,layout:"full",onClick:()=>_({eventName:u.R.CommunityRowCTAClick}),render:/*#__PURE__*/(0,A.jsx)(p.N_,{target:l.button.links.tap.launchNewTab?"_blank":void 0,to:l.button.links.tap.href}),size:"medium",children:l.button.label})});case"pivot":return C;case"none":return null}},[e,t,l,_]),T=(0,m.useMemo)(()=>{let e=(v||[]).concat(h?[{text:h,highlightedText:h}]:[]);return e.length?/*#__PURE__*/(0,A.jsx)("div",{className:w.textRows,children:e.map((e,s)=>/*#__PURE__*/(0,A.jsxs)(m.Fragment,{children:[0!==s&&/*#__PURE__*/(0,A.jsx)("span",{children:"Â Â·Â "}),/*#__PURE__*/(0,A.jsx)(y.E,{context:t,textRow:e})]},s))}):/*#__PURE__*/(0,A.jsxs)(c.P0,{comment:"The number of members this community has. Placeholder is the total members",components:{b:/*#__PURE__*/(0,A.jsx)("span",{className:w.count})},exemptNumberKeyFromParamCheck:!0,number:x[0].memberCount,params:{memberCount:I(x[0].memberCount,"short")},children:[/*#__PURE__*/(0,A.jsx)(c.M$,{children:"[b][memberCount][/b] member"}),/*#__PURE__*/(0,A.jsx)(c.$e,{children:"[b][memberCount][/b] members"})]})},[I,t,h,x,v]);return/*#__PURE__*/(0,A.jsxs)("div",{className:n()(w.root,{[w.chromeRoot]:"chrome"===t,[w.contentRoot]:"content"===t}),children:[b&&/*#__PURE__*/(0,A.jsx)(p.N_,{"aria-label":k("[Communities] Accessible text label for link to community","Go to community"),className:w.cover,onClick:()=>_({eventName:u.R.CommunityRowClick}),to:b.tap.href}),/*#__PURE__*/(0,A.jsx)("div",{className:w.avatar,children:/*#__PURE__*/(0,A.jsx)(i.A,{dimension:44,eventName:u.R.CommunityRowClick,imageResponse:x[0].avatarImage,isCommunity:!0,name:x[0].name,showBlogCard:!1,url:b?.tap.href})}),/*#__PURE__*/(0,A.jsxs)("div",{className:w.body,children:[/*#__PURE__*/(0,A.jsxs)("div",{className:w.info,children:[/*#__PURE__*/(0,A.jsxs)("div",{className:w.headline,children:[/*#__PURE__*/(0,A.jsx)("div",{className:w.title,style:N[t],children:j}),/*#__PURE__*/(0,A.jsx)("div",{className:w.cardLabels,children:S.map(e=>/*#__PURE__*/(0,A.jsx)(o.J,{context:"content",style:e.style,children:e.text},e.text))})]}),P]}),!s&&/*#__PURE__*/(0,A.jsx)("div",{className:w.description,children:d}),/*#__PURE__*/(0,A.jsx)("div",{className:w.secondaryContent,children:T})]})]})}),I=e=>{let t=(0,m.useMemo)(()=>({...e.timelineObject,objectType:h.vt.CommunityRow}),[e.timelineObject]),s=(0,b.v)(),{tabId:a,tabPosition:n}=(0,x.Vd)(),i=(0,m.useMemo)(()=>(0,j.t3)({timelineObject:t,bluespacePage:s,tabId:a,tabPosition:n}),[s,t,a,n]);return/*#__PURE__*/(0,A.jsx)(f.sv,{eventDetails:i,children:/*#__PURE__*/(0,A.jsx)(k,{...e,timelineObject:t})})}},18585:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(96248),n=s(65447),i=s(85191),r=s(4613);let o={missingWrapper:"S1Ly1",logoLink:"_0QRP",header:"vudm0",text:"dmkXT",searchBarContainer:"imAUs"};var l=s(60397);let d=()=>{let{wwwBaseUrl:e}=(0,r.Us)();return/*#__PURE__*/(0,l.jsxs)("div",{className:o.missingWrapper,children:[/*#__PURE__*/(0,l.jsx)("a",{className:o.logoLink,href:e,rel:"noopener",target:"_blank",children:/*#__PURE__*/(0,l.jsx)(a.Q,{})}),/*#__PURE__*/(0,l.jsx)("h1",{className:o.header,children:/*#__PURE__*/(0,l.jsx)(i.Ay,{children:"This post is gone now."})}),/*#__PURE__*/(0,l.jsx)("p",{className:o.text,children:/*#__PURE__*/(0,l.jsx)(i.Ay,{children:"But there's more where that came from:"})}),/*#__PURE__*/(0,l.jsx)(n.I,{containerClassName:o.searchBarContainer,context:"content",enableTypeahead:!1,hardLinkToSearchPage:!0,searchInNewWindow:!0})]})}},61409:(e,t,s)=>{s.d(t,{xi:()=>f});var a=s(41076),n=s(75776),i=s(12044),r=s(36665),o=s(94048),l=s(11221),d=s(25183),c=s(58217),m=s(56040),p=/*#__PURE__*/s.n(m),u=s(75108),h=s(78209),g=s(60397);let b=e=>{let t=u.BE(e)?.content;if(!t)return;let s=t.find(u.Q0);if(s)return s?.poster?.[0].url;{let e=t.find(u.uX);return e?.media?.[0].url??e?.media?.[0].poster?.url}},x=(e,t=!0)=>{let s=e.links?.tap.href,a=t?(0,u.BE)(e.hubName):void 0;if(!a&&s){let e=new URL(s);return{pathname:e.pathname,search:e.search}}{let t=a?.blogName,s=a?.id!==void 0?a?.id.toString():void 0;return{pathname:(0,i.J7)({hubName:e.hubName,blogName:t,postId:s})}}},f=({videoHub:e})=>{let t={[l.A.cybernetic]:p().paletteAccent,[l.A.vampire]:p().paletteTransparentWhite65,[l.A.pumpkin]:p().paletteWhiteOnDark,[l.A.snowBright]:p().paletteWhiteOnDark,[l.A.pride]:p().paletteWhiteOnDark}[(0,c.M)().name]||e.borderColor,[s,i]=(0,r.useState)(e.media?.[0]?.url??e.media?.[0]?.poster?.url),[u,f]=(0,r.useState)(x(e,!1)),{logEvent:v}=(0,d.Ul)(),j=()=>{e&&(i(t=>b(e.hubName)??t),f(x(e)))};return(0,r.useEffect)(()=>{let t=t=>{t.key===`video_hub_${e.hubName}_last_post_viewed`&&j()};return window.addEventListener("storage",t),j(),()=>window.removeEventListener("storage",t)},[]),/*#__PURE__*/(0,g.jsx)(n.A,{onClick:()=>v({eventName:o.R.VideoHubCardTapped,eventDetails:{tag:e.hubName}}),to:u,children:/*#__PURE__*/(0,g.jsxs)("div",{className:h.A.videoHubCardWrapper,style:{backgroundImage:`linear-gradient(360deg, ${m.transparentBlack85} 0%, transparent 50%), url("${s}")`,borderColor:t,filter:`drop-shadow(1px 1px 0px ${t}) drop-shadow(2px 2px 0px ${t})`},children:[/*#__PURE__*/(0,g.jsx)("div",{className:h.A.videoHubPlayIcon,children:/*#__PURE__*/(0,g.jsx)(a.A,{size:{width:70,height:70}})}),/*#__PURE__*/(0,g.jsx)("div",{className:h.A.videoHubTitle,children:e.title}),/*#__PURE__*/(0,g.jsx)("div",{className:h.A.videoHubSubtitle,children:e.subtitle||(e.tags||[]).map(e=>`#${e}`).join(" ")})]})})}},62718:(e,t,s)=>{s.d(t,{A:()=>O});var a=s(74059),n=/*#__PURE__*/s.n(a),i=s(93972),r=s(41475),o=s(53962),l=s(66794),d=s(85388),c=s(83087),m=s(36665),p=s(94048),u=s(83322),h=s(4613),g=s(25183),b=s(9119),x=s(87119),f=s(56040),v=s(96273);let j={timeline:"Evcyl",masonry:"W0qvx",gridded:"cQesS",noContent:"z9lvY",newDesktopLayout:"klGip",masonryEmptyView:"JLk4c"};var y=s(81860),w=s(18511),A=s(79228);let C=({displayMode:e,expandedItemIds:t,setExpandedItemIds:s,rawItems:a})=>{let n=(0,d.ID)();(0,m.useEffect)(()=>{let i;if(e!==u.X2.Grid)return;let r=a.filter(u.zA),o=[];for(let e=0;e<r.length;e+=1){let s=r[e],a=(0,v.P)(s),l=e%n+1;t.includes(a)&&(i?o.push(a):i=s),l===n&&i&&(i=void 0)}o.length&&s(t.filter(e=>!o.includes(e)))},[e,n,a,t,s]);let i=(0,m.useCallback)(s=>{let a;let i=[];if(e!==u.X2.Grid)return s;let r=s.filter(u.zA);for(let e=0;e<r.length;e+=1){let s=r[e],o=(0,v.P)(s),l=s,d=e%n+1;if(t.includes(o)&&!a&&(a=s,l={...s,hasExpandedVersionBelowIt:!0}),i.push(l),e===r.length-1&&a){let e=n-d;for(let t=0;t<e;t+=1)i.push({id:(0,A.A)()});i.push({...a,isExpandedInGrid:!0});break}d===n&&a&&(i.push({...a,isExpandedInGrid:!0}),a=void 0)}return i},[e,t,n]);return{toggleExpandedInGrid:(0,m.useCallback)(i=>{if(e!==u.X2.Grid)return;let r=a.filter(u.zA),o=(0,v.P)(i),l=r.findIndex(e=>(0,v.P)(e)===o);s((0,w.jM)(t,e=>{let t=e.indexOf(o);if(t>=0){e.splice(t,1);return}if(l<0)return;let s=l-l%n,a=s+n;r.slice(s,a).forEach(t=>{let s=(0,v.P)(t),a=e.indexOf(s);a>=0&&e.splice(a,1)}),e.push(o)}))},[e,t,n,a,s]),transformItems:i}};var N=s(99805),k=/*#__PURE__*/s.n(N);let I=e=>!(0,u.iW)(e),_=(e,t,s,a)=>({getIsAnchorCandidate:I,initialItemHeight:300,itemGap:s?0:a?k().mobileMarginBetweenPosts:k().marginBetweenPostsReblogRedesign,persistedItemIds:t,renderItem:e,renderType:"single"});var S=s(60397);let P=[],T={[u.X2.Embed]:p.R.TimelineDisplayModeToggleEmbed,[u.X2.Grid]:p.R.TimelineDisplayModeToggleGrid,[u.X2.List]:p.R.TimelineDisplayModeToggleList,[u.X2.Masonry]:p.R.TimelineDisplayModeToggleMasonry},R=e=>(0,u.cH)(e)||(0,u.aL)(e)||(0,u.ZS)(e)||(0,u.yy)(e)||(0,u.VF)(e),B=(e,t)=>{let s=(0,u.tj)(e)&&!t.carousels?.some(t=>t===e?.elements[0]),a=t.objects?.some(t=>t===e.objectType);return!!(s||a)};function O(e){let{disableHotkeys:t,displayMode:s=u.X2.List,doesNotRemoveUnfollowedObjects:a,emptyView:p,endOfTimelineView:w,errorView:A,filteredTimelineObjectTypes:N,forceMasonryNumberOfColumnsToMaximum:k,gapless:I,gridChildren:O,hoverContent:L,initialLoader:E,isElementPinnedToMasonryUpperRight:M,isInboxTimeline:z,loader:D,manualPaginatingButtonStyles:F,masonryColumnWidth:W,masonryRendersWithSidebar:U,maximumNumberOfColumns:H,overridePresentationStyle:G,timelineModule:$,timelineObjectClassName:q,withPullToRefresh:V}=e,{_c:X,endlessScrollingDisabled:K}=(0,h.Us)(),{isSmartphone:Q}=(0,c.Ri)(),{logEvent:Y}=(0,g.Ul)(),{activePage:J,pages:Z}=$.module.useData(),ee=(0,m.useMemo)(()=>K?J?J.items:P:Z.flatMap(e=>e.items),[K,J,Z]),{expandedItemIds:et,setExpandedItemIds:es}=$.useGridData(),{transformItems:ea,toggleExpandedInGrid:en}=C({displayMode:s,expandedItemIds:et,rawItems:ee,setExpandedItemIds:es}),ei=(0,m.useCallback)(e=>ea(e.filter(e=>!(N&&B(e,N)))),[N,ea]),er=(0,m.useRef)([]),eo=(0,m.useRef)(null),el=(0,y.o)($,s,!!a,er.current),ed=(0,m.useMemo)(()=>/*#__PURE__*/(0,S.jsx)("div",{className:n()(j.noContent,j.newDesktopLayout,{[j.masonryEmptyView]:s===u.X2.Masonry}),children:X("String to show when there are no posts in a timeline (e.g., no likes on /likes, no results for /tagged/atagnoonehasused).","No posts available.")}),[s,X]),ec=(0,m.useCallback)((e,t,a)=>{let i=(0,v.P)(e);return/*#__PURE__*/(0,S.jsx)(d.Ay,{className:n()(q,e.className),displayMode:s,gridChildren:O,hoverContent:L,index:t,isInboxTimeline:z,noMargin:!!I,presentationStyle:G,ref:e=>{er.current[t]=e,a?.(e)},timelineObject:{...e},toggleExpandedInGrid:en},i)},[s,I,G,en,z,O,L,q]),{dockedTimelineObject:em}=(0,i.qt)(),ep=em?$.module.getStableIdForItem(em):void 0,eu=(0,m.useMemo)(()=>ep?[ep]:[],[ep]),eh=(0,m.useMemo)(()=>s===u.X2.List?_(ec,eu,I,Q):s===u.X2.Masonry?{renderType:"bulk",renderItems:e=>{let t=[],s=0,a=e.map(e=>{if(M?.(e))t.push(s);else if(R(e))return null;let a=ec(e,s);return s+=1,a}).filter(e=>!!e);return/*#__PURE__*/(0,S.jsx)(o.A,{forceNumberOfColumnsToMaximum:k,masonryProps:{pinnedToUpperRightIndexes:t,children:a,...W&&{columnWidth:W}},masonryRendersWithSidebar:U,maximumNumberOfColumns:H})}}:s===u.X2.Grid?{renderType:"bulk",renderItems:e=>{let t=e.map((e,t)=>ec(e,t));return/*#__PURE__*/(0,S.jsx)("div",{className:j.gridded,children:t})}}:void 0,[s,k,I,M,Q,W,U,H,eu,ec]);return(0,x.A)(()=>{Y({eventName:T[s]})},[s]),/*#__PURE__*/(0,S.jsx)(b.ti.Provider,{value:el,children:/*#__PURE__*/(0,S.jsx)("div",{className:n()(j.timeline,{[j.masonry]:s===u.X2.Masonry}),"data-timeline-id":$.timelineId,children:/*#__PURE__*/(0,S.jsx)(r.Ay,{disabled:t,disableScrollPositionDependentHotKeys:[u.X2.Grid,u.X2.Masonry].includes(s),getPostRefs:()=>er.current,getScrollerMethods:()=>eo.current||void 0,children:eh?/*#__PURE__*/(0,S.jsx)(l.n,{disableHotkeys:t,displayMode:s,emptyView:p,endOfTimelineView:w,errorView:A,initialLoader:E,loader:D,manualPaginatingButtonStyles:F,withPullToRefresh:V,emptyView:p??ed,module:$.module,renderer:eh,scrollerRef:eo,transformItems:ei}):/*#__PURE__*/(0,S.jsx)("div",{style:{backgroundColor:f.paletteWhite,padding:"20px 10px"},children:"This display mode is not yet supported in TimelineV2."})})})})}},96273:(e,t,s)=>{s.d(t,{P:()=>o,U:()=>l});var a=s(81896),n=s(83322),i=s(51713);let r=(e,t)=>({items:e.elements,link:t,nextLink:e.links?.next?.href,prevLink:e.links?.prev?.href}),o=e=>{let t=e.isExpandedInGrid?":expanded":"",s=`${e.placementId?e.placementId:""}${e.id}`;if(e.objectType)switch(e.objectType){case n.vt.BlazedPost:case n.vt.Post:s=`${e.objectType}-${e.id}`}return`${s}${t}`},l=e=>{let{timelineId:t,itemSourceName:s,fetchTimeline:n,forcePersistence:l,getSearchParamsForCurrentPage:d,prefetchedResults:c,manualPaginationSearchParamsStore:m}=e,p=`${t}-grid`,u=(0,a.R)({fetchResults:(e,t,s,a)=>n(e,t,s,a).then(e=>r(e,t)),forcePersistence:l,getSearchParamsForCurrentPage:d,getStableIdForItem:o,itemSourceName:s,moduleId:t,prefetchedResults:c,manualPaginationSearchParamsStore:m});return{useGridData:()=>{let[e,t]=(0,i.Q)(p,[]);return{expandedItemIds:e,setExpandedItemIds:t}},timelineId:t,module:u}}},81860:(e,t,s)=>{s.d(t,{V:()=>m,o:()=>p});var a=s(81896),n=s(43897),i=s(18511),r=s(36665),o=s(83322),l=s(80410),d=s(19869),c=s(96273);let m=e=>{let{updateQueryData:t}=e.module.useUpdater();return(0,r.useCallback)(({elementsToInject:e,insertionOptions:s})=>{t(t=>{let n=t.flatMap(e=>e.items),{insertionPointIdentifiers:i,insertionType:r}="custom"===s.insertionType?s.getInsertionOptions(n,e):s;if("noop"!==r){if(i){let s=(0,c.P)(i),o=n.findIndex(e=>(0,c.P)(e)===s),l=(0,a.t)(o,t);if(!l)return;let d="prepend"===r?l.itemIndex:l.itemIndex+1;l.page.items.splice(d,0,...e)}else"prepend"===r?t[0]?.items.unshift(...e):t[t.length-1]?.items.push(...e)}})},[t])},p=(e,t,s,a)=>{let{refreshCounts:p}=(0,l.U)(),{expandedItemIds:u,setExpandedItemIds:h}=e.useGridData(),{removeItems:g,updateQueryData:b}=e.module.useUpdater(),x=m(e),f=(0,r.useCallback)((e,t)=>{let s=(0,c.P)(e);b(e=>e.forEach(e=>e.items.forEach(e=>{(0,c.P)(e)===s&&t(e)})))},[b]),v=(0,r.useCallback)((e,t)=>{b(s=>s.forEach(s=>s.items.forEach(s=>{(0,o.zA)(s)&&s.id===e&&t(s)})))},[b]),j=(0,r.useCallback)((e,t)=>{b(s=>s.forEach(s=>s.items.forEach(s=>{(0,o.zA)(s)&&(s.id===e?s.isPinned=t:t&&s.isPinned&&(s.isPinned=!1))})))},[b]),y=(0,r.useCallback)((e,t)=>v(e,e=>(0,n.IT)(e,t)),[v]),w=(0,r.useCallback)((e,t)=>v(e,e=>(0,n.Gd)(e,t)),[v]),A=(0,r.useCallback)((e,t)=>v(e,e=>(0,n.Fq)(e,t)),[v]),C=(0,r.useCallback)(e=>v(e,e=>(0,n.Hr)(e)),[v]),N=(0,r.useCallback)((e,t=!0)=>{b(s=>s.forEach(s=>s.items.forEach(s=>{(0,o.zA)(s)&&(0,n.xW)(s,e,t)})))},[b]),k=(0,r.useCallback)((e,t)=>v(e,e=>(0,n.Dh)(e,t)),[v]),I=(0,r.useCallback)((e,n)=>{let r=(0,c.P)({...e,isExpandedInGrid:!1}),l=[...u];if(s&&n?.wasBlogUnfollowed)return d.A;if(t===o.X2.Grid){let e=u.indexOf(r);e>=0&&h((0,i.jM)(u,t=>{t.splice(e,1)}))}let m=g(e=>(0,c.P)(e)===r);return p(),a.pop(),()=>{m(),t===o.X2.Grid&&h(l)}},[t,s,u,a,p,g,h]);return(0,r.useMemo)(()=>({displayMode:t,onReplyAdded:y,onReplyRemoved:w,onLike:A,onReblogged:C,onFollow:N,onNotesUpdate:k,onQueueReorder:d.A,onRemoveTimelineObject:I,onInjectTimelineObjects:x,onPin:j,onEditTimelineObject:f}),[t,f,N,x,A,k,j,C,I,y,w])}},48375:(e,t,s)=>{s.d(t,{Ay:()=>em});var a=s(88346),n=/*#__PURE__*/s.n(a),i=s(74059),r=/*#__PURE__*/s.n(i),o=s(52734),l=s(93972),d=s(41475),c=s(53962),m=s(77227),p=s(33598),u=s(11100),h=s(90657),g=s(39977),b=s(27120),x=s(36665),f=s(3218),v=s(54934),j=s(56139),y=s(56040),w=/*#__PURE__*/s.n(y),A=s(99805),C=/*#__PURE__*/s.n(A),N=s(26696);let k={manualPaginatorButtons:"m3lOJ",manualPaginatorButton:"PY8Tb",next:"B5txQ",prev:"jIdvc",manualPaginatorButtonInner:"Xp6EK"};var I=s(60397);let _={width:13,height:13},S={href:"DON'T FETCH ME! OH GUY, PLEASE DON'T FETCH ME!"},P={prevNextLinks:[],linkForCurrentPage:S};class T extends N.A{constructor(...e){super(...e),n()(this,"addObjectsToExisting",this.props.concatenate?e=>{let{objects:t}=this.state,{direction:s,getObjectsFromResponse:a}=this.props;return s===f.N6.Top?a(e).concat(t):t.concat(a(e))}:e=>this.props.getObjectsFromResponse(e)),n()(this,"shouldRenderMainLoader",()=>{let{hasFetchedInitialPage:e,loadingNextPage:t}=this.state;return!e||t}),n()(this,"preHandleContentFetch",e=>{let{updateUrlFromCurrentPageLink:t}=this.props,{linkForCurrentPage:s}=this.state;switch(e){case f.Ry.Initial:return;case f.Ry.Refresh:t?.();return;case f.Ry.Pagination:t?.(s?.href);return}}),n()(this,"getHotkeyCommands",()=>{let{prevNextLinks:e,nextLink:t}=this.state,s=[];return 0!==e.length&&s.push({key:h.qW.Left,command:this.onClickPrevious}),t&&s.push({key:h.qW.Right,command:this.onClickNext}),s}),n()(this,"renderPaginationButtons",e=>{let{prevNextLinks:t,nextLink:s}=this.state,{prevButtonIsRefresh:a,manualPaginatorButtonCss:{containerClassName:n,prevButtonStyle:i,nextButtonStyle:o}={},appContext:{_c:l},nextButton:d,concatenate:c,disableHotkeys:m}=this.props,p=l("The label for a button to return to the previous page of results","Previous"),b=l("The label for a button to refresh the contents of a set of posts to show the newest content in it","Latest"),f=l("The label for a button to go to the next page of results","Next"),v=!!t.length,j=v?this.onClickPrevious:this.refresh,y=v?p:b,A=v?{color:w().paletteWhite,background:w().paletteTransparentWhite65}:{color:w().paletteTransparentWhite87,background:"transparent",border:`2px solid ${w().paletteTransparentWhite87}`},C=!c&&v||a,N=!!s;return C||N?/*#__PURE__*/(0,I.jsxs)("div",{className:r()(k.manualPaginatorButtons,n),ref:this.setButtonContainerRef,children:[m?null:/*#__PURE__*/(0,I.jsx)(h.Ay,{hotkey:this.getHotkeyCommands()}),C&&/*#__PURE__*/(0,I.jsxs)(u.A,{className:k.manualPaginatorButtonInner,label:p,onClick:j,wrapperClassName:r()(k.manualPaginatorButton,k.prev),wrapperStyle:{...A,...i},children:[/*#__PURE__*/(0,I.jsx)(g.Up,{colors:{primary:i?.color||A.color||"currentcolor"},size:_}),y]}),N&&(d?/*#__PURE__*/(0,x.cloneElement)(d,{label:f,onClick:this.onClickNext}):/*#__PURE__*/(0,I.jsxs)(u.A,{className:k.manualPaginatorButtonInner,label:f,onClick:this.onClickNext,wrapperClassName:r()(k.manualPaginatorButton,k.next),wrapperStyle:{color:w().paletteWhite,background:w().paletteAccent,...this.getNextButtonStyle(e)},children:[f,/*#__PURE__*/(0,I.jsx)(g.eh,{colors:{primary:o&&o.color||w().paletteWhite},size:_})]}))]}):null}),n()(this,"onClickPrevious",()=>{let{prevNextLinks:e,firstPageInfo:t,linkForCurrentPage:s}=this.state,{updateUrlFromCurrentPageLink:a}=this.props,n=e.pop();if(!this.canFetchNextPage(n))return Promise.resolve();if(n===S&&t){let{endpointApiRequest:e,objects:n}=t;return this.nextPageApiRequest=e,a?.(e.getSearchParams(),!0),this.setState({...P,objects:n,nextLink:s},this.scrollToBottom),Promise.resolve()}return this.scrollToTop(),new Promise(t=>{this.setState({prevNextLinks:e,objects:[],linkForCurrentPage:n},t)}).then(()=>this.fetchNextPage(n)).then(()=>this.scrollToBottom())}),n()(this,"onClickNext",()=>{let{prevNextLinks:e,linkForCurrentPage:t,nextLink:s,objects:a}=this.state,{endpointApiRequest:n,concatenate:i}=this.props;return this.canFetchNextPage(s)&&n?(i||this.scrollToTop(),new Promise(r=>{this.setState({objects:i?this.state.objects:[],prevNextLinks:[...e,t],linkForCurrentPage:s,...t===S&&{firstPageInfo:{objects:a,endpointApiRequest:n}}},r)}).then(()=>this.fetchNextPage())):Promise.resolve()}),n()(this,"setButtonContainerRef",e=>this.setState({buttonsContainerRef:e})),n()(this,"getNextButtonStyle",e=>{let{manualPaginatorButtonCss:{doNotAccountForLowerRightContent:t,nextButtonStyle:s}={},messagingContext:{offsetToAvoidLowerRightContentPx:a}}=this.props;if(t)return s;let{buttonsContainerRef:n}=this.state,i=n&&e?e-n.getBoundingClientRect().right:0;return{...s,transform:`translateX(-${i<a?a-i+C().lowerRightContentEdgeMarginPx:0}px)`}})}render(){let{manualPaginatorButtonCss:{doNotAccountForLowerRightContent:e}={}}=this.props;return/*#__PURE__*/(0,I.jsxs)(I.Fragment,{children:[super.render(),!this.shouldRenderMainLoader()&&(e?this.renderPaginationButtons():/*#__PURE__*/(0,I.jsx)(b.xv,{children:({bodyWidth:e})=>this.renderPaginationButtons(e)}))]})}getEmptyInitialState(){let e=this.props.getInitialPage?.()?.prevLink;return{...super.getEmptyInitialState(),...P,...e&&{prevNextLinks:[e]}}}didChangeEndpoint(e){let t=super.didChangeEndpoint(e)&&(!this.nextPageApiRequest||!this.props.endpointApiRequest?.isEqualTo(this.nextPageApiRequest,!0));return t&&(this.nextPageApiRequest=null),t}getFetchNextPageRequest(e){return this.nextPageApiRequest=super.getFetchNextPageRequest(e),this.nextPageApiRequest}onPagination(e){super.onPagination(e);let{requestType:t,response:s}=e,{getPrevLink:a}=this.props,n=a?.(s);this.setState(e=>({...[f.Ry.Initial,f.Ry.Refresh].includes(t)?P:e,...!!n&&{prevNextLinks:[n]}}))}}n()(T,"defaultProps",{...N._});let R=(0,v.R5)(T,{appContext:!0,messagingContext:!0});(0,j.r)(R,`Inner${R.name}`);class B extends x.Component{render(){return/*#__PURE__*/(0,I.jsx)(R,{...this.props,ref:this.props.forwardedRef})}}var O=s(21723),L=s(68376),E=s(93479),M=s(85388),z=s(63426),D=s(29504),F=s(83087),W=s(18511),U=s(75185),H=s(94048),G=s(66910),$=s(83322),q=s(5509),V=s(4613),X=s(25183),K=s(80410),Q=s(72991),Y=s(9119),J=s(31122),Z=s(19869),ee=s(61703),et=/*#__PURE__*/s.n(ee),es=s(79228),ea=s(54866),en=s(43897);function ei(e,t){return Number(e.scheduledPublishTime)-Number(t.scheduledPublishTime)}let er=e=>!(0,$.iW)(e),eo=e=>{let t=e.isExpandedInGrid?":expanded":"",s=`${e.placementId?e.placementId:""}${e.id}`;return`${s}${t}`};class el extends x.Component{constructor(...e){super(...e),n()(this,"state",{isSorting:!1}),n()(this,"postRefs",this.props.forwardedPostRefs||[]),n()(this,"scrollerRef",/*#__PURE__*/(0,x.createRef)()),n()(this,"elements",[]),n()(this,"getTimelineContextValue",(0,U.A)(e=>({displayMode:e,onReplyAdded:this.onReplyAdded,onReplyRemoved:this.onReplyRemoved,onLike:this.onLike,onReblogged:this.onReblogged,onFollow:this.onFollow,onNotesUpdate:this.onNotesUpdate,onQueueReorder:this.onQueueReorder,onRemoveTimelineObject:this.onRemoveTimelineObject,onInjectTimelineObjects:this.onInjectTimelineObjects,onPin:this.onPin,onEditTimelineObject:this.onEdit}),{maxSize:1})),n()(this,"getEmptyView",(0,U.A)(({displayMode:e,features:t})=>/*#__PURE__*/(0,I.jsx)("div",{className:r()(ea.A.noContent,{[ea.A.newDesktopLayout]:t.redpopDesktopVerticalNav,[ea.A.masonryEmptyView]:e===$.X2.Masonry}),children:this.props.appContext._c("String to show when there are no posts in a timeline (e.g., no likes on /likes, no results for /tagged/atagnoonehasused).","No posts available.")}))),n()(this,"getScrollerMethods",()=>this.scrollerRef.current||void 0),n()(this,"getPersistedItemIds",(0,U.A)(e=>e?[eo(e)]:[])),n()(this,"renderTimelineElements",({objects:e,refresh:t,transformObjects:s})=>{let{appContext:{features:{redpopScrollPersistence:a},endlessScrollingDisabled:n},deviceContext:{isSmartphone:i},dockableContext:{dockedTimelineObject:r},displayMode:l,id:d,isQueue:m,maximumNumberOfColumns:p,forceMasonryNumberOfColumnsToMaximum:u,masonryColumnWidth:h,masonryRendersWithSidebar:g,scrollContainer:b,setInjectTimelineItemsCallback:x,isElementPinnedToMasonryUpperRight:f}=this.props;this.elements=e,this.transformObjects=s,this.refresh=t,x?.(this.onInjectTimelineObjects);let v=[],j=e.map((e,t)=>(f?.(e)&&v.push(t),this.renderElement(e,t)));if(l===$.X2.Masonry)return/*#__PURE__*/(0,I.jsx)(c.A,{forceNumberOfColumnsToMaximum:u,masonryProps:{pinnedToUpperRightIndexes:v,children:j,...h&&{columnWidth:h}},masonryRendersWithSidebar:g,maximumNumberOfColumns:p});if(m){let t=/*#__PURE__*/(0,I.jsx)(D.$c.Provider,{value:this.getQueueContext(e),children:j});return/*#__PURE__*/(0,I.jsx)(F.Ay,{children:({isMobile:e})=>e?t:/*#__PURE__*/(0,I.jsx)(E.A,{fallback:null,children:/*#__PURE__*/(0,I.jsx)(o.A,{className:"sortableContainer",onChange:Z.A,options:{animation:150,onStart:this.onQueueSortStart,onEnd:this.onQueueSortEnd,draggable:`.${z.A.sortDragDropTarget}`,handle:`.${O.A.reorderButton}`,forceFallback:!0},children:t})})})}if(l===$.X2.Grid)return/*#__PURE__*/(0,I.jsx)("div",{className:ea.A.gridded,children:j});let y=i?C().mobileMarginBetweenPosts:C().marginBetweenPostsReblogRedesign;return/*#__PURE__*/(0,I.jsx)(L.HO,{disableVirtualization:n,getIsAnchorCandidate:er,id:d||"default",identifierFunction:eo,initialItemHeight:300,itemGap:y,itemRenderer:this.renderElement,items:e,persistedItemIds:this.getPersistedItemIds(r),ref:this.scrollerRef,scrollContainer:b&&(0,J.s)(b)?b:null,withScrollRestoration:!!a})}),n()(this,"renderElement",(e,t,s)=>{let{timelineObjectClassName:a,gridChildren:n,hoverContent:i}=this.props,o=eo(e);return/*#__PURE__*/(0,I.jsx)(M.Ay,{className:r()(a,e.className),displayMode:this.props.displayMode,gridChildren:n,hoverContent:i,index:t,isInboxTimeline:this.props.isInboxTimeline,presentationStyle:this.props.overridePresentationStyle,ref:e=>{this.postRefs[t]=e,s?.(e)},timelineObject:{...e},toggleExpandedInGrid:this.toggleExpandedInGrid},o)}),n()(this,"getManualPaginatorButtonCSS",()=>{let{displayMode:e,manualPaginatorButtonCss:t}=this.props,s=e===$.X2.Grid?ea.A.manualPaginatorButtonsGrid:void 0;return{...t&&t,containerClassName:s}}),n()(this,"apiQueueSort",(e,t)=>{let{apiFetch:s}=this.props.appContext,{blogName:a,id:n,insertAfter:i,oldIndex:r}=e;return a?(0,q.tP)(s,{blogName:a,id:n,insertAfter:i}).fetch().catch(()=>t(n,r)):(t(n,r),Promise.reject())}),n()(this,"onQueueSortStart",()=>{this.setState({isSorting:!0})}),n()(this,"onQueueSortEnd",e=>{this.setState({isSorting:!1});let t=this.getSortParameters(e);this.onQueueReorder(t.id,t.newIndex),this.apiQueueSort({...t},this.onQueueReorder)}),n()(this,"onNoteStatusUpdated",(e,t)=>{this.transformObjects(s=>s.map(s=>(0,$.zA)(s)&&s.id===e?t(s):s))}),n()(this,"onReplyAdded",(e,t)=>this.onNoteStatusUpdated(e,e=>(0,en.gq)(e,t))),n()(this,"onReplyRemoved",(e,t)=>this.onNoteStatusUpdated(e,e=>(0,en.c$)(e,t))),n()(this,"onReblogged",e=>this.onNoteStatusUpdated(e,e=>(0,en.dP)(e))),n()(this,"onLike",(e,t)=>this.onNoteStatusUpdated(e,e=>(0,en.xv)(e,t))),n()(this,"onLikeEvent",e=>e.detail.id&&this.onLike(e.detail.id,!!e.detail.like)),n()(this,"onNotesUpdate",(e,t)=>this.onNoteStatusUpdated(e,e=>(0,en.ts)(e,t))),n()(this,"onEdit",(e,t)=>{this.transformObjects(s=>(0,W.jM)(s,s=>{s.forEach(s=>{s.id===e.id&&t(s)})}))}),n()(this,"onPin",(e,t)=>{this.transformObjects(s=>s.map(s=>(0,$.zA)(s)?s.id!==e?t&&s.isPinned?{...s,isPinned:!1}:s:{...s,isPinned:t}:s))}),n()(this,"onFollow",(e,t=!0)=>{this.transformObjects(s=>s.map(s=>(0,$.zA)(s)?(0,en.jj)(s,e,t):s))}),n()(this,"onQueueReorder",(e,t)=>{this.transformObjects(s=>{let a=s.find(t=>t.id===e);if(void 0===a)return s;let n=s.filter(e=>G.Wu.Queued===e.state&&G.nQ.Scheduled===e.queuedState),i=s.filter(e=>G.Wu.Queued===e.state&&G.nQ.Queued===e.queuedState),r=i.map((e,t)=>e.scheduledPublishTime),o=i.indexOf(a),l=[...i];return l.splice(t,0,l.splice(o,1)[0]),[...n,...l.map((e,t)=>({...e,scheduledPublishTime:r[t]}))].sort(ei)})}),n()(this,"onInjectTimelineObjects",({elementsToInject:e,insertionOptions:t})=>{this.transformObjects(s=>{let{insertionPointIdentifiers:a,insertionType:n}="custom"===t.insertionType?t.getInsertionOptions(s,e):t;if("noop"===n)return s;if(a){let t=s.findIndex(e=>e.id===a.id);if(-1===t)return s;let i=[...s];return i.splice("prepend"===n?t:t+1,0,...e),i}return"prepend"===n?[...e,...s]:[...s,...e]})}),n()(this,"onRemoveTimelineObject",({id:e},{wasBlogUnfollowed:t}={})=>{let s,a,n,i;let{isQueue:r,displayMode:o,doesNotRemoveUnfollowedObjects:l,postCountContext:{refreshCounts:d}}=this.props;if(l&&t)return Z.A;if(o===$.X2.Grid){let t=(0,M.ID)();this.toggleExpandedInGrid({id:e,hasExpandedVersionBelowIt:!0},t)}return this.transformObjects(t=>{a=[...t];let o=t.find(t=>t.id===e);if(void 0===o)return t;if(s=t.indexOf(o),i=(0,$.zA)(o),(n=[...t]).splice(s,1),i&&r&&o.state===G.Wu.Queued&&o.queuedState===G.nQ.Queued){let e=t.filter(e=>e.state===G.Wu.Queued&&e.queuedState===G.nQ.Queued).map(e=>e.scheduledPublishTime);n=[...n.filter(e=>e.state===G.Wu.Queued&&e.queuedState===G.nQ.Scheduled),...n.filter(e=>e.state===G.Wu.Queued&&e.queuedState===G.nQ.Queued).map((t,s)=>(t.scheduledPublishTime=e[s],t))].sort(ei)}return t}),setTimeout(()=>{this.transformObjects(e=>n),d(),this.postRefs.pop()},et().postSlideOutDurationInMs),()=>this.transformObjects(()=>a)}),n()(this,"toggleExpandedInGrid",(e,t)=>{this.props.displayMode===$.X2.Grid&&this.transformObjects(s=>{let a=s.findIndex(({id:t})=>t===e.id);if(-1===a)return s;let n=0;for(let e=0;e<s.length&&!(e>=a);e+=1)s[e].isExpandedInGrid&&(n+=1);let i=a+n*(t-1),r=t-i%t,o=a+r,l=a-(t-r);for(let e=l;e<o;e+=1){let t={...s[e]};void 0===s[e]&&(t.id=(0,es.A)()),delete t.hasExpandedVersionBelowIt,s[e]=t}let d=s[o]&&s[o].isExpandedInGrid?o+1:o;if(e.hasExpandedVersionBelowIt)return[...s.slice(0,o),...s.slice(d,s.length)];let c={...structuredClone(e),isExpandedInGrid:!0},m=[...s.slice(0,o),c,...s.slice(d,s.length)];return m[a]={...m[a],hasExpandedVersionBelowIt:!0},m})}),n()(this,"getPostRefs",()=>this.postRefs)}componentDidMount(){window.addEventListener("timelineobject:like",this.onLikeEvent),this.props.setRefreshCallback?.(this.refresh)}componentWillUnmount(){window.removeEventListener("timelineobject:like",this.onLikeEvent)}componentDidUpdate(e){if(e.displayMode!==this.props.displayMode){let e={[$.X2.Grid]:H.R.TimelineDisplayModeToggleGrid,[$.X2.List]:H.R.TimelineDisplayModeToggleList,[$.X2.Masonry]:H.R.TimelineDisplayModeToggleMasonry,[$.X2.Embed]:H.R.TimelineDisplayModeToggleEmbed}[this.props.displayMode];this.props.logEvent({eventName:e})}}render(){let{isSorting:e}=this.state,{debug:t,displayMode:s,onPagination:a,onPaginationError:n,hidesPullToRefresh:i,getNextLink:o,endpointApiRequest:l,getInitialPage:c,isObjectOmittedFromRender:u,getObjectsFromResponse:h,initialLoader:g,loader:b,scrollContainer:x,emptyView:f,errorView:v,isQueue:j,prevButtonIsRefresh:y,getPrevLink:w,updateUrlFromCurrentPageLink:A,disableHotkeys:C,appContext:{endlessScrollingDisabled:N,features:k}}=this.props,_={debug:t,endpointApiRequest:l,scrollContainer:x,errorView:v,onPagination:a,onPaginationError:n,getNextLink:o,getInitialPage:c,getObjectsFromResponse:h,isObjectOmittedFromRender:u,updateUrlFromCurrentPageLink:A,loader:b||/*#__PURE__*/(0,I.jsx)(m.D,{condensed:!0}),initialLoader:g,pullToRefresh:!i,lockScrollOnObjectUpdate:j,emptyView:f||this.getEmptyView({displayMode:s,features:k}),children:this.renderTimelineElements};return/*#__PURE__*/(0,I.jsx)(Y.ti.Provider,{value:this.getTimelineContextValue(this.props.displayMode),children:/*#__PURE__*/(0,I.jsx)("div",{className:r()(ea.A.timeline,{[ea.A.isSorting]:e,[ea.A.masonry]:s===$.X2.Masonry}),"data-timeline":l?.getGivenPath(),"data-which":l?.getWhichQueryParam(),children:/*#__PURE__*/(0,I.jsx)(Q.s.Provider,{value:x&&(0,J.s)(x)?x:null,children:/*#__PURE__*/(0,I.jsx)(d.Ay,{disabled:C,disableScrollPositionDependentHotKeys:[$.X2.Grid,$.X2.Masonry].includes(s),getPostRefs:this.getPostRefs,getScrollerMethods:this.getScrollerMethods,children:N?/*#__PURE__*/(0,I.jsx)(B,{..._,disableHotkeys:C,getPrevLink:w,manualPaginatorButtonCss:this.getManualPaginatorButtonCSS(),prevButtonIsRefresh:y}):/*#__PURE__*/(0,I.jsx)(p.Ay,{..._,fetchDistance:1600})})})})})}getQueueContext(e){return{allPosts:e.map(e=>e.id),queuedPosts:e.filter(e=>G.Wu.Queued===e.state&&G.nQ.Queued===e.queuedState).map(e=>e.id)}}getSortParameters(e){let t=e.item.dataset.id,s=this.elements,a=s.filter(e=>G.Wu.Queued===e.state&&G.nQ.Queued===e.queuedState).map(e=>e.id),n=s.find(e=>e.id===t),i=n?.blogName,r=a.findIndex(t=>s[e.oldIndex].id===t),o=a.findIndex(t=>s[e.newIndex].id===t);return{blogName:i,id:t,insertAfter:s[e.newIndex-1]&&s[e.newIndex-1].id||0,oldIndex:r,newIndex:o}}}n()(el,"defaultProps",{hidesPullToRefresh:!1,displayMode:$.X2.List,errorView:null,getNextLink:e=>e?.response?.timeline?.links?.next});let ed=e=>/*#__PURE__*/(0,I.jsx)(el,{...e,appContext:(0,V.Us)(),deviceContext:(0,F.Ri)(),dockableContext:(0,l.qt)(),logEvent:(0,X.Ul)().logEvent,postCountContext:(0,K.U)()});class ec extends x.Component{render(){return/*#__PURE__*/(0,I.jsx)(ed,{...this.props})}}n()(ec,"defaultProps",el.defaultProps);let em=ec},47280:(e,t,s)=>{s.d(t,{n:()=>m});var a=s(11100),n=s(71310),i=s(36665),r=s(55321),o=s(4613),l=s(1161);let d={container:"pgfyp",previewImageWrapper:"caIxN",previewImage:"JxYPL",name:"JO6pk",description:"zMmjq"};var c=s(60397);let m=({avatar:e,id:t,name:s,description:m,blogs:p,onRowClick:u,type:h="link"})=>{let{logEvent:g}=(0,o.Us)(),b=i.useMemo(()=>/*#__PURE__*/(0,c.jsxs)(c.Fragment,{children:[/*#__PURE__*/(0,c.jsx)(l.k,{avatar:e,blogs:p,dimensions:156,id:t}),/*#__PURE__*/(0,c.jsxs)("div",{className:d.details,children:[/*#__PURE__*/(0,c.jsx)("div",{className:d.name,children:s}),/*#__PURE__*/(0,c.jsx)("div",{className:d.description,children:m})]})]}),[e,p,m,t,s]),x={className:d.container,onClick:()=>{g({eventName:"CollectionsPreviewClick"}),u?.(t)},"aria-label":s};return"button"===h?/*#__PURE__*/(0,c.jsx)(a.A,{...x,children:b}):/*#__PURE__*/(0,c.jsx)(r.N_,{...x,to:(0,n.fT)({id:t}),children:b})}},79380:(e,t,s)=>{s.d(t,{Wb:()=>o,yB:()=>d});var a=s(96273),n=s(36665),i=s(25175),r=s(83400);let o=(e,t,s)=>async({apiFetch:a},n)=>{let{response:r}=await a(n||`/v2/communities/${e}/timeline`,{queryParams:{type:t,...s?{invite_hash:s}:{},...(0,i.k9)(i.WQ),reblog_info:!0}});return r.timeline},l=(e,t,s)=>(0,a.U)({fetchTimeline:o(e,t,s),timelineId:`communities-${e}-${t}`,itemSourceName:"communitiesPosts",forcePersistence:!0}),d=(e,t)=>{let s=(0,r.EH)(e);return(0,n.useMemo)(()=>l(e,t,s),[e,s,t])}},76007:(e,t,s)=>{s.d(t,{Ev:()=>d,_s:()=>o});var a=s(49315),n=s(25175),i=s(4613),r=s(32880);function o(e,t){return["blog-info",e,t]}async function l(e,t,s){let a=function(e){switch(e){case"peepr":return{...(0,n.k9)(["admin","advertiserName","allowSearchIndexing","analyticsUrl","ask","askPageTitle","avatar","blogViewUrl","canonicalUrl","canBeBooped","canBeFollowed","canMessage","canMessage","canSubmit","canSubscribe","descriptionNpf","followed","isAdult","isBrandSafe","isBlockedFromPrimary","isBloglessAdvertiser","isHiddenFromBlogNetwork","isMember","isPasswordProtected","isPaywallOn","name","paywallAccess","primary","shareFollowing","shareLikes","shouldShowGift","shouldShowTumblrmartGift","subscribed","subscriptionPlan","theme","title","topTags","url","uuid","created","tumblrmartAccessories","showBadgeManagement","canShowBadges"]),reblog_info:!0};case"blogSettings":return(0,n.k9)(["admin","canMessage","canOnboardToPaywall","descriptionNpf","tumblrmartAccessories","canSubmit","isAdult","isGroupChannel","isPremiumPartner","isPasswordProtected","isPrivateChannel","isTumblrpayOnboarded","primary","replyConditions","showAuthorAvatar","supportsReplies","timezone","url","blogViewUrl","showBadgeManagement","canShowBadges"]);case"avatar":return{...(0,n.k9)(["avatar"])};default:return(0,r.M)(e)}}(s);return(await e(`/v2/blog/${t}/info`,{queryParams:a})).response.blog}let d=(e,t,s={})=>{let{apiFetch:n}=(0,i.Us)();return(0,a.I)({queryKey:o(e,t),queryFn:async()=>l(n,e,t),refetchOnWindowFocus:!1,retry:(e,t)=>!t.response&&e>3,staleTime:6e4,...s})}},83763:(e,t,s)=>{s.d(t,{P5:()=>d,qv:()=>r,ML:()=>o});var a=s(49315);s(25175);let n=(e,t)=>e("/v2/tabs",{method:"GET",queryParams:{...t}});var i=s(4613);let r=["dashboard-tabs"];function o(){let{apiFetch:e}=(0,i.Us)();return(0,a.I)({queryKey:r,queryFn:()=>l(e),staleTime:6e4})}async function l(e,t){let{response:{tabs:s}}=await n(e,t);return s}async function d(e,t,s){return t.fetchQuery({queryKey:r,queryFn:()=>l(e,s)})}},62797:(e,t,s)=>{s.d(t,{v:()=>j});var a=s(90616),n=s(40200),i=s(77227),r=s(66794),o=s(81896),l=s(44368),d=s(36665),c=s(33748),m=s(4613),p=s(56040),u=s(43542),h=s(28506),g=s(60397);let b=/*#__PURE__*/(0,g.jsx)(i.D,{color:p.paletteTransparentWhite65,condensed:!0}),x=e=>e.ids?.length?e.ids.join(","):e.id||`${e.timestamp}`,f=(e,t)=>({items:e.response.notifications,link:t,nextLink:e.response.links?.next?.href,prevLink:e.response.links?.prev?.href}),v=({blogName:e,allowOrDeny:t,allowOrDenySet:s,useGenericFormatting:a,onInitialFetch:n})=>{let i=[...s.values()].join("-"),r=async({apiFetch:i},r)=>{if(!r){let r=await (0,c.u)(i,{blogName:e,allowOrDeny:t,allowOrDenySet:s,useGenericFormatting:a});return n?.(),f(r)}return f(await i(r),r)};return(0,o.R)({getStableIdForItem:x,moduleId:`activity-${e}-${t}-${i}`,fetchResults:r})},j=/*#__PURE__*/(0,d.forwardRef)(function(e,t){let{blogName:s,blogAvatar:i,activityFilterBlockList:o,showBlockButton:c=!0}=e,{_t:p,features:x}=(0,m.Us)(),{refetch:f}=(0,l.p)(),j=(0,d.useMemo)(()=>({renderItems:e=>{let t=e.filter(e=>(0,u.pu)().includes(e.type));return/*#__PURE__*/(0,g.jsx)(n.Z,{context:"content",children:/*#__PURE__*/(0,g.jsx)(a.R,{notifications:t,showBlockButton:c,showTags:!o.has("tags"),tumblelogAvatar:i,tumblelogName:s})},"activityNotifications")},renderType:"bulk"}),[s,i,c,o]),y=(0,d.useMemo)(()=>v({blogName:s,allowOrDeny:"deny",allowOrDenySet:o,useGenericFormatting:x.redpopGenericActivityItems,onInitialFetch:()=>{f()}}),[s,o,x.redpopGenericActivityItems,f]),{refresh:w}=y.useData();(0,d.useImperativeHandle)(t,()=>({refresh:w}),[w]);let A=(0,d.useMemo)(()=>/*#__PURE__*/(0,g.jsx)("div",{className:h.A.noContentWrapper,children:/*#__PURE__*/(0,g.jsx)("div",{className:h.A.noContent,children:p("Check back when you make a post to see Likes, Reblogs, new followers, and more.")})}),[p]);return/*#__PURE__*/(0,g.jsx)(r.n,{emptyView:A,loader:b,module:y,paginationMode:"endless",renderer:j})})},20264:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(42535),n=s(69571),i=s(60397);let r=({message:e,cta:t,ctaLink:s,linkTarget:r="_blank"})=>/*#__PURE__*/(0,i.jsxs)("div",{className:n.A.emptyView,children:[/*#__PURE__*/(0,i.jsx)(a.A,{}),e,/*#__PURE__*/(0,i.jsx)("div",{className:n.A.emptyViewCTA,children:/*#__PURE__*/(0,i.jsx)("a",{href:s,target:r,children:t})})]})},77769:(e,t,s)=>{s.r(t),s.d(t,{PATIO_NARROW_COLUMN_POST_WIDTH:()=>sc,PATIO_WIDE_COLUMN_POST_WIDTH:()=>sd,Patio:()=>sm});var a=s(3851),n=s(74059),i=/*#__PURE__*/s.n(n),r=s(52734),o=s(92496),l=s(65189),d=s(90657),c=s(1258),m=s(93479),p=s(18511),u=s(36665),h=s(72571),g=s(98323),b=s(94048),x=s(4613),f=s(25183),v=s(79228),j=s(87206),y=s(17886),w=s(56040),A=/*#__PURE__*/s.n(w);let C={callout:"c6rjd",betaLabel:"a77Se",calloutParagraph:"Oxjr8"};var N=s(60397);let k=()=>{let{_c:e}=(0,x.Us)();return/*#__PURE__*/(0,N.jsxs)("div",{className:C.callout,children:[/*#__PURE__*/(0,N.jsx)("span",{className:C.betaLabel,children:"Beta"}),/*#__PURE__*/(0,N.jsx)("p",{className:C.calloutParagraph,children:e("A message explaining that this feature is in progress and could be buggy","You may encounter bugs or weird behavior. Some functionality may change as we work.")})]})};var I=s(47752),_=s(21331),S=s(97792);let P={dialog:"gDeru",heading:"KTE2C",controls:"_0PvhS",button:"_ZK0e",primary:"KC2zb",secondary:"x2js_"},T=({open:e,heading:t,children:s,actionButtonText:a,className:n,dismissButtonText:r,onClose:o,onActionClick:l,onDismissClick:d})=>{let[c,m]=(0,u.useState)(!0),p=(0,u.useCallback)(e=>{m(!1),o?.(e)},[o]);return void 0===e&&!1===c?null:/*#__PURE__*/(0,N.jsxs)(I.lG,{autoFocusOnShow:!1,className:i()(P.dialog,n),onClose:p,open:e??c,portal:!0,children:[/*#__PURE__*/(0,N.jsx)(_.X,{className:P.heading,children:t}),s,/*#__PURE__*/(0,N.jsxs)("div",{className:P.controls,children:[/*#__PURE__*/(0,N.jsx)(S.d,{className:i()(P.button,a?P.secondary:P.primary),onClick:d,children:r}),a?/*#__PURE__*/(0,N.jsx)(S.d,{className:i()(P.button,P.primary),onClick:l,children:a}):null]})]})};var R=s(66404),B=s(85191),O=s(68484);let L=({step:e,children:t})=>{let s=u.useContext(F);return s&&E(e,s)?/*#__PURE__*/(0,N.jsx)(R.A,{children:/*#__PURE__*/(0,N.jsx)(N.Fragment,{children:t}),content:z(e),isOpen:s.currentStep===e&&!s.isHidden,onDismiss:()=>s.moveToNextStep()}):t},E=(e,t)=>"addNewColumn"===e||t?.columnIndex===1,M=()=>{let e=u.useContext(F);return u.useMemo(()=>({hideStep:t=>{E(t,e)&&e?.currentStep===t&&e?.hideStep()},moveToNextStepFrom:t=>{E(t,e)&&e?.currentStep===t&&e?.moveToNextStep()}}),[e])},z=e=>{switch(e){case"addNewColumn":return/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:'First step in the onboarding for Patio, where we explain what the "plus" button does.',children:'You can add columns by clicking this "plus" button.'});case"columnOptions":return/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Second step in the onboarding for Patio, where we explain the meatballs menu of a column.",components:{br:/*#__PURE__*/(0,N.jsx)("br",{})},children:"Every column has this menu.[br /]All kinds of interesting settings are here, like changing how the column looks, refreshing the content, and configuring column-specific settings and filters.[br /]Oh, you can also remove the column from here!"});case"refreshColumn":return/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Third step in the onboarding for Patio, where we explain that clicking on a column's header refreshes the column.",children:"You can also refresh the column content by clicking on its header!"});case"moveColumn":return/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Final step in the oboarding for Patio, where we explain how to move a column to a different position, and we finish the onboarding.",components:{br:/*#__PURE__*/(0,N.jsx)("br",{})},children:"One last tip, you can move columns to a different position by dragging from the column icon.[br /][br /]Hope you enjoy Patio!"});default:return}},D=["intro","addNewColumn","columnOptions","refreshColumn","moveColumn","finished"],F=/*#__PURE__*/u.createContext(void 0),W="patioOnboarding",U={step:D[0],isHidden:!1},H=({children:e,columns:t})=>{let{features:{tumblrPatioOnboarding:s}}=(0,x.Us)(),[a]=u.useState(()=>t.length>=2&&"1"===t[0].id&&!("displayMode"in t[0])&&!("size"in t[0])&&"2"===t[1].id&&!("displayMode"in t[1])&&!("size"in t[1]));return s&&a?/*#__PURE__*/(0,N.jsx)(G,{children:e}):e},G=({children:e})=>{let{logEvent:t}=(0,f.Ul)(),[s,n]=u.useState(()=>{let e=O.A.getItem(W);if(e)try{return JSON.parse(e)}catch(e){return{step:"finished",isHidden:!1}}return U}),i=(0,a.A)(s.step);u.useEffect(()=>{"intro"!==s.step||O.A.getItem(W)?i&&"finished"!==i&&"finished"===s.step&&t({eventName:b.R.PatioOnboardingFinished}):t({eventName:b.R.PatioOnboardingStarted})},[s.step,t,i]),u.useEffect(()=>{O.A.setItem(W,JSON.stringify(s))},[s]);let r=u.useMemo(()=>({currentStep:s.step,isHidden:s.isHidden,hideStep:()=>{n(e=>({...e,isHidden:!0}))},moveToNextStep:()=>{n(e=>{let t=D.indexOf(e.step);return{step:D[Math.min(t+1,D.length-1)],isHidden:!1}})}}),[s.isHidden,s.step]);return/*#__PURE__*/(0,N.jsxs)(F.Provider,{value:r,children:[e,r?.currentStep==="intro"?/*#__PURE__*/(0,N.jsxs)(T,{dismissButtonText:/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Button text for the intro modal for Patio, that closes the modal and reveals the feature",children:"Let's go!"}),heading:/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Title for the intro modal for Patio",children:"Welcome to Patio!"}),onClose:()=>r?.moveToNextStep(),children:[/*#__PURE__*/(0,N.jsx)("p",{children:/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"First paragraph of the intro modal for Patio, where we briefly explain what Patio is",children:'Patio is a customizable page that allows you to organize your feeds into many "columns" side-by-side, creating a very dense but lively view of Tumblr.'})}),/*#__PURE__*/(0,N.jsx)("p",{children:/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Second paragraph of the intro modal for Patio, where we briefly explain how Patio works",children:"You can add, remove, and rearrange columns. Each column can be a different feed on Tumblr, like For You, Following, your Activity, a specific blog, a tag, search results, etc."})}),/*#__PURE__*/(0,N.jsx)("p",{children:/*#__PURE__*/(0,N.jsx)(B.Ay,{comment:"Third paragraph of the intro modal for Patio, where we say we'll walk the user through an onboarding tour",children:"Let's do a quick tour to get you up to speed!"})}),/*#__PURE__*/(0,N.jsx)(k,{})]}):void 0]})},$=({columnIndex:e,children:t})=>{let s=u.useContext(F),a=u.useMemo(()=>s?{...s,columnIndex:e}:void 0,[s,e]);return/*#__PURE__*/(0,N.jsx)(F.Provider,{value:a,children:t})},q={newColumn:"gQqv7"};function V({disabled:e,onClick:t}){let{_c:s}=(0,x.Us)(),{hideStep:a}=M();return/*#__PURE__*/(0,N.jsx)("div",{className:q.newColumn,children:/*#__PURE__*/(0,N.jsx)(L,{step:"addNewColumn",children:/*#__PURE__*/(0,N.jsx)(y.A,{backgroundColor:A().transparent,disabled:e,label:s("Button to add a new column on Patio","Add a new column"),onClick:()=>{t(),a("addNewColumn")},children:/*#__PURE__*/(0,N.jsx)(j.A,{colors:{primary:e?A().paletteTransparentWhite13:A().paletteTransparentWhite40},size:{width:24,height:24}})})})})}var X=s(11100),K=s(67370),Q=s(46302);let Y={scrollRightButton:"YzQ8S",scrollLeftButton:"hu38h"};function J({containerRef:e,onLeftClick:t,onRightClick:s}){let{_c:a}=(0,x.Us)(),[n,i]=u.useState(!0),[r,o]=u.useState(!1),[l,d]=u.useState(!1),c=u.useCallback(()=>{e.current&&(o(e.current.scrollLeft<=0),d(e.current.scrollLeft+e.current.clientWidth>=e.current.scrollWidth))},[e]);return u.useEffect(()=>{if(!e.current)return;let{scrollWidth:t,clientWidth:s}=e.current;i(s>=t)}),u.useEffect(()=>{if(!e.current)return;let t=(0,Q.A)(()=>{e.current&&c()},500,{maxWait:300});return e.current.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e,c]),u.useEffect(()=>{c()},[]),/*#__PURE__*/(0,N.jsxs)(N.Fragment,{children:[/*#__PURE__*/(0,N.jsx)(X.A,{className:Y.scrollLeftButton,disabled:n||r,label:a("Label for arrow button on Patio that lets users scroll left","Scroll left"),onClick:t,style:{left:e?.current?.getBoundingClientRect().left||256},children:/*#__PURE__*/(0,N.jsx)(K.jv,{colors:{primary:w.paletteBlack},size:{width:28,height:28}})}),/*#__PURE__*/(0,N.jsx)(X.A,{className:Y.scrollRightButton,disabled:n||l,label:a("Label for arrow button on Patio that lets users scroll right","Scroll right"),onClick:s,children:/*#__PURE__*/(0,N.jsx)(K.dl,{colors:{primary:w.paletteBlack},size:{width:28,height:28}})})]})}var Z=s(83322),ee=s(77227),et=s(72991),es=s(31122),ea=s(28304),en=s(62797);let ei={container:"n4if2"};function er({column:e,setRefreshCallback:t}){let s=(0,ea.Py)(),a=u.useMemo(()=>new Set(e.filters),[e.filters]),n=s.data?.user?.blogs?.find(t=>t.name===e.blogName),i=n?.avatar;return/*#__PURE__*/(0,N.jsx)("div",{className:ei.container,children:/*#__PURE__*/(0,N.jsx)(en.v,{activityFilterBlockList:a,blogAvatar:i,blogName:e.blogName??"",ref:e=>{e&&t?.(e.refresh)},showBlockButton:!1})})}var eo=s(36737);let el={container:"DqHCa"},ed=/*#__PURE__*/(0,N.jsx)(ee.D,{condensed:!0});function ec(e){let{column:t,setRefreshCallback:s}=e,a=(0,ea.Py)(),n=a.data?.user?.blogs?.find(e=>e.name===t.blogName),i=(0,u.useCallback)(e=>{e&&s?.(()=>(e.refresh(),Promise.resolve()))},[s]);return n?/*#__PURE__*/(0,N.jsx)("div",{className:el.container,children:/*#__PURE__*/(0,N.jsx)(eo.M,{initialLoader:ed,ref:i,selectedBlog:n})}):null}var em=s(48375),ep=s(62718),eu=s(83763),eh=s(44368),eg=s(20264),eb=s(3218),ex=s(79393),ef=s(96273),ev=s(79380),ej=s(49437),ey=s(31702),ew=s(18326),eA=s(8486),eC=s(37629),eN=s(66869),ek=s(12673),eI=s(5509),e_=s(59454),eS=s(25175),eP=s(35870),eT=s(90437);let eR=({apiFetch:e},t)=>(function(e,t,s){return new eE(e,s,t.getGivenPath(),{method:"GET",queryParams:(0,eP.J)(t.getSearchParams())})})(e,(0,eI.R4)(e,{blogName:t.blogName}),eO),eB=(e,t)=>{let s,a="";switch(e.type){case"following":s=async({apiFetch:e},t)=>(t?await e(t):await (0,eN.Ay)(e).getDashboard().fetch()).response.timeline;break;case"for-you":s=async({apiFetch:e},t)=>(t?await e(t):await e("/v2/tabs/for_you?reblog_info=true",{queryParams:{...(0,eS.oS)()}})).response.timeline;break;case"your-tags":s=async({apiFetch:e},t)=>(t?await e(t):await e("/v2/timeline/hubs",{queryParams:{...(0,eS.oS)()}})).response.timeline;break;case"trending":s=async({apiFetch:e,apiFetchWithSchema:t},s)=>(s?await e(s):await (0,ey.e6)([e,t],eA.ZF.Trending).fetch()).response.timeline;break;case"staff-picks":s=async({apiFetch:e,apiFetchWithSchema:t},s)=>(s?await e(s):await (0,ey.e6)([e,t],eA.ZF.StaffPicks).fetch()).response.timeline;break;case"answer-time":s=async({apiFetch:e,apiFetchWithSchema:t},s)=>(s?await e(s):await (0,ey.e6)([e,t],eA.ZF.AnswerTime).fetch()).response.timeline;break;case"search":a=[e.query,e.searchMode??"recent",e.postType,e.days??eC.em.AllTime].join("-"),s=async({apiFetch:t},s)=>(s?await t(s):await (0,e_.wg)(t,{timelineType:"post",searchKeyword:e.query,requestMode:e.searchMode??"recent",postType:e.postType,days:e.days??eC.em.AllTime,limit:20,skipComponent:"related_tags,blog_search",querySource:"search_box_typed_query"}).fetch()).response.timeline;break;case"tag":{let t=e.sort??"recent";a=[e.tag,t].join("-"),s=async({apiFetch:s},a)=>(a?await s(a):await (0,eT.LR)(s,{params:{tag:e.tag}},{sort:t,query_source:"search_box_typed_query"}).fetch()).response.timeline;break}case"blog":a=e.blogName,s=async({apiFetch:t,apiFetchWithSchema:s},a)=>eO(a?await t(a):await (0,ej.K5)(s,e.blogName).fetch()).response.timeline;break;case"drafts":a=e.blogName,s=async({apiFetch:t},s)=>eO(s?await t(s):await (0,eN.Ay)(t).getDrafts(e.blogName).fetch()).response.timeline;break;case"queue":a=e.blogName,s=async({apiFetch:t},s)=>eO(s?await t(s):await (0,eI.R4)(t,{blogName:e.blogName}).fetch()).response.timeline;break;case"inbox":s=async({apiFetch:e},t)=>eO(t?await e(t):await (0,eN.Ay)(e).getInboxSubmissions({offset:null,sort:null}).fetch()).response.timeline;break;case"community":a=e.communityId,s=(0,ev.Wb)(e.communityId,"recent",null);break;case"collection":a=e.collectionId,s=async({apiFetch:t},s)=>(s?await t(s):await (0,ew.cg)(t,{params:{timelineName:"pack"}},{id:e.collectionId}).fetch()).response.timeline;break;case"likes":s=async({apiFetch:e},t)=>eL(t?await e(t):await (0,eN.Ay)(e).getLikes({}).fetch()).response.timeline;break;default:throw Error(`Unsupported column type: ${e.type}`)}let n=async(e,a,n,i)=>(t({requestType:a?eb.Ry.Pagination:eb.Ry.Initial}),s(e,a,n,i)),i=`${e.type}-${e.id}`;return(0,ef.U)({timelineId:a?`${i}-${a}`:i,itemSourceName:"patio",fetchTimeline:n,manualPaginationSearchParamsStore:"location-state"})},eO=e=>{let{posts:t}=e.response;return{...e,response:{...e.response,timeline:{elements:t,links:e.response.links}}}},eL=e=>{let{likedPosts:t}=e.response;return{...e,response:{...e.response,timeline:{elements:t,links:e.response.links}}}};class eE extends ek._{constructor(e,t,s,a){super(e,s,a),this._apiFetch=e,this.transform=t}create(e,t){return new eE(this._apiFetch,this.transform,e,t)}fetch(){return this._apiFetch(this.givenPath,this.options).then(this.transform)}}function eM({column:e,isColumnSelected:t,setRefreshCallback:s}){let{_t:a,apiFetch:n,apiFetchWithSchema:i}=(0,x.Us)(),r=(0,et.Z)(),o=u.useMemo(()=>"queue"===e.type?eR({apiFetch:n,apiFetchWithSchema:i},e):void 0,[n,i,e]),l=u.useMemo(()=>{switch(e.type){case"queue":return/*#__PURE__*/(0,N.jsx)(eg.A,{cta:a("Learn how to queue a post."),ctaLink:"https://help.tumblr.com/hc/articles/231481827-Queued-Posts",message:a("Nothing in the queue")});case"drafts":return/*#__PURE__*/(0,N.jsx)(eg.A,{cta:a("Learn how to make a draft."),ctaLink:"https://help.tumblr.com/hc/articles/231476267-Drafts",message:a("No drafts available")});default:return}},[a,e.type]),d=u.useMemo(()=>{switch(e.type){case"answer-time":return e.displayMode===Z.X2.Masonry?ex.A.answerTimeMobile:ex.A.answerTimeDesktop;case"blog":return ex.A.blogViewDesktop;case"drafts":return ex.A.drafts;case"inbox":return ex.A.inboxDesktop;case"queue":return ex.A.queue;case"community":return ex.A.community;default:return}},[e.displayMode,e.type]),c=u.useMemo(()=>{switch(e.type){case"tag":case"trending":case"staff-picks":case"answer-time":return!0;default:return!1}},[e.type]),m=(0,eh.p)(),p=m.refetch,h=(0,eu.ML)(),g=u.useCallback(e=>"following"===e.type&&h.data?.[0]?.id==="following"?(m.data?.unseenPosts??0)>0:"inbox"===e.type?(m.data?.inboxCount??0)>0:"community"===e.type&&(m.data?.unreadCommunityPostCounts?.[`@@${e.communityId}`]??0)>0,[h.data,m.data?.inboxCount,m.data?.unreadCommunityPostCounts,m.data?.unseenPosts]),b=u.useCallback(({requestType:t})=>{(t===eb.Ry.Initial||t===eb.Ry.Refresh)&&g(e)&&p()},[g,e,p]),f=u.useMemo(()=>eB(e,b),[e,b]),{refresh:v}=f.module.useData();return u.useEffect(()=>{"queue"!==e.type&&s?.(()=>v())},[e.type,v,s]),"queue"===e.type?/*#__PURE__*/(0,N.jsx)(em.Ay,{disableHotkeys:!t,displayMode:e.displayMode??Z.X2.List,doesNotRemoveUnfollowedObjects:c,emptyView:l,endpointApiRequest:o,forceMasonryNumberOfColumnsToMaximum:!0,getObjectsFromResponse:({response:e})=>e.timeline?.elements||[],id:f.timelineId,isQueue:!0,maximumNumberOfColumns:3,onPagination:b,overridePresentationStyle:{...d??(e.displayMode===Z.X2.Masonry?ex.A.masonry:ex.A.desktop),desktopPostWidth:"wide"===e.size?sd:sc,autoLimitContentHeight:!0},scrollContainer:r,setRefreshCallback:s}):/*#__PURE__*/(0,N.jsx)(ep.A,{disableHotkeys:!t,displayMode:e.displayMode??Z.X2.List,doesNotRemoveUnfollowedObjects:c,emptyView:l,forceMasonryNumberOfColumnsToMaximum:!0,isInboxTimeline:"inbox"===e.type,maximumNumberOfColumns:3,overridePresentationStyle:{...d??(e.displayMode===Z.X2.Masonry?ex.A.masonry:ex.A.desktop),desktopPostWidth:"wide"===e.size?sd:sc,autoLimitContentHeight:!0},timelineModule:f})}let ez={columnContent:"H3jRV"};function eD({column:e,isColumnSelected:t,isRefreshing:s,scrollContainer:a,setScrollContainer:n,setRefreshCallback:i}){let r=(()=>{switch(e.type){case"activity":return/*#__PURE__*/(0,N.jsx)(er,{column:e,setRefreshCallback:i});case"messages":return/*#__PURE__*/(0,N.jsx)(ec,{column:e,setRefreshCallback:i});default:return/*#__PURE__*/(0,N.jsxs)(N.Fragment,{children:[s&&"queue"===e.type?/*#__PURE__*/(0,N.jsx)(ee.D,{condensed:!0}):null,/*#__PURE__*/(0,N.jsx)(eM,{column:e,isColumnSelected:t,setRefreshCallback:i})]})}})();return/*#__PURE__*/(0,N.jsx)("div",{className:ez.columnContent,ref:e=>{n(e)},tabIndex:0,children:/*#__PURE__*/(0,N.jsx)(et.s.Provider,{value:(0,es.s)(a)?a:null,children:r})})}var eF=s(90937),eW=s(23390),eU=s(70933),eH=s(94683),eG=s(86619),e$=s(19913),eq=s(89972),eV=s(27699),eX=s(76007),eK=s(43776);function eQ({blogName:e}){let t=(0,eX.Ev)(e,"avatar");return t.data?/*#__PURE__*/(0,N.jsx)(eV.A,{avatarShape:eK.b.Circle,dimension:28,imageResponse:t.data?.avatar||[]}):null}var eY=s(46383);function eJ({selectedBlogName:e,filterBlogs:t=()=>!0,onSelectBlog:s}){let a=(0,ea.Py)(),n=u.useMemo(()=>a.data?.user?.blogs.filter(t),[t,a.data?.user?.blogs]);return n?/*#__PURE__*/(0,N.jsx)(eY.Ay,{align:"left",blogs:n,displayAvatar:!1,onClickSelectedBlog:e=>s(e),selectedBlog:n.find(t=>t.name===e)??n[0],textColor:w.paletteWhiteOnDark}):null}var eZ=s(20928);let e0=(0,eZ.Kk)("activity-outline",{size:{width:20,height:21}});var e1=s(63024),e6=s(89665),e2=s(52017),e3=s(11221),e4=s(58217);let e7={[e3.A.ghost]:e2.OlG,[e3.A.pumpkin]:e2.vP6,[e3.A.vampire]:e2.$A},e9=({...e})=>{let t=e7[(0,e4.M)().name]??e2.Qs8;return/*#__PURE__*/(0,N.jsx)(t,{...e})};var e8=s(20162);let e5=(0,eZ.Kk)("help",{size:{width:20,height:21}}),te=(0,eZ.Kk)("home-outline",{size:{width:20,height:21}});var tt=s(92123);let ts=(0,eZ.Kk)("mail-outline",{size:{width:20,height:21}});var ta=s(44554);let tn=(0,eZ.Kk)("snowman-outline",{size:{width:20,height:21}}),ti=(0,eZ.Kk)("sparkle",{size:{width:12,height:12}}),tr=(0,eZ.Kk)("star-outline",{size:{width:14,height:14}}),to=(0,eZ.Kk)("tag",{size:{width:20,height:21}});var tl=s(91117),td=s(39270),tc=s(13275),tm=s(35641),tp=s(18776),tu=s(29751),th=s(47280),tg=s(15432);let tb={modalWrapper:"ejLW9",columnOptions:"LwLC3",columnOptionsTitle:"Mm_4z",buttonContainer:"qHayw",buttonList:"pQzLB",columnButton:"MewSQ",label:"wUkKl",inputContainer:"VSY8w",textInput:"zrDPQ"},tx={label:"L8MKD",previewContainer:"pXDhX"};function tf({onRowClick:e}){let[t,s]=(0,u.useState)(null),a=(0,tg.A)(t,250),{data:n,isFetching:r,isFetched:o}=(0,tu.Ge)(a??"");return/*#__PURE__*/(0,N.jsxs)("label",{className:i()(tb.field,tx.label),children:["Collection Id"," ",/*#__PURE__*/(0,N.jsx)("input",{autoFocus:!0,name:"collectionId",onChange:e=>{s(e.target.value)},value:t??""}),/*#__PURE__*/(0,N.jsx)("div",{className:tx.previewContainer,children:n?/*#__PURE__*/(0,N.jsx)(th.n,{...n,onRowClick:e,type:"button"}):o?/*#__PURE__*/(0,N.jsx)(th.n,{avatar:[],blogs:[],description:"",id:"",name:r?"Collection ...":"Collection not found",onRowClick:()=>null,type:"button"}):null})]})}var tv=s(88617),tj=s(61493),ty=s(71310),tw=s(28798);let tA={container:"lnMpF",community:"MS24q"};function tC({onRowClick:e}){let{data:t}=(0,tw.sV)();return t?/*#__PURE__*/(0,N.jsx)("ul",{className:tA.container,children:t.map(t=>{let s={name:t.title,avatar:t.avatarImage,title:t.description,uuid:`@@${t.name}`,url:(0,ty.n)({communityId:t.name})},a=(0,tj.H)(s);return/*#__PURE__*/(0,N.jsx)("li",{className:i()(tA.community),children:/*#__PURE__*/(0,N.jsx)(tv.A,{...a,internalLink:!0,onClick:s=>{s.preventDefault(),e(t.name)},openBlogCard:"none",openInPeepr:!1,showBlogTitle:!0,theme:"light"})},t.name)})}):null}var tN=s(65447),tk=s(53986),tI=s(80845);let t_={container:"gg0IL",searchBarContainer:"NCTb0"};function tS({resultType:e,onRowClick:t,placeholder:s}){return/*#__PURE__*/(0,N.jsx)("span",{className:t_.container,children:/*#__PURE__*/(0,N.jsx)(tk.jb.Provider,{value:{basename:"",future:{v7_relativeSplatPath:!1},static:!1,navigator:{createHref:()=>"",push:e=>{let s=(0,tI.o1)(e);s.pathname.startsWith("/search")?t(decodeURIComponent(s.pathname.split("/")[2])):s.pathname.startsWith("/tagged")?t(decodeURIComponent(s.pathname.split("/")[2])):2===s.pathname.split("/").length&&t(decodeURIComponent(s.pathname.split("/")[1])),document.activeElement?.blur()},replace:()=>{},go:()=>{}}},children:/*#__PURE__*/(0,N.jsx)(tN.I,{containerClassName:t_.searchBarContainer,context:"content",hideIcon:!0,hidePivots:!0,initialSearchTerm:void 0,placeholder:s,resultTypes:e?[e]:void 0})})})}let tP=e=>[{type:"activity",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(e0,{colors:t,size:e}),label:e("Label for the activity icon on Patio","Activity"),create:({user:e})=>({type:"activity",blogName:e.blogs[0].name})},{type:"answer-time",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(e5,{colors:t,size:e}),label:e("Label for the answer time icon on Patio","Answer time"),create:()=>({type:"answer-time"})},{type:"blog",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(tn,{colors:t,size:e}),label:e("Label for the blog icon on Patio","Blog"),renderColumnOptions:t=>({body:/*#__PURE__*/(0,N.jsx)(tS,{onRowClick:e=>{t({type:"blog",blogName:e})},placeholder:e("Placeholder text for the Blog search bar when user is creating a Blog column on Patio","Enter a blog..."),resultType:tp.DF}),title:e("Heading for a dialog when creating a new Blog column on the Patio screen","Add a Blog column")})},{type:"community",icon:({colors:e})=>/*#__PURE__*/(0,N.jsx)(e2.nFg,{emptyIconColors:e}),label:e("Label for the communities icon on Patio","Community"),renderColumnOptions:t=>({body:/*#__PURE__*/(0,N.jsx)(tC,{onRowClick:e=>{t({type:"community",communityId:e})}}),title:e("Heading for a dialog when creating a new Community column on the Patio screen","Add a Community column")})},{type:"collection",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(e6.q,{colors:t,size:e}),label:e("Label for the collection icon on Patio","Collection"),renderColumnOptions:t=>({body:/*#__PURE__*/(0,N.jsx)(tf,{onRowClick:e=>{t({type:"collection",collectionId:e})}}),title:e("Heading for a dialog when creating a new Collection column on the Patio screen","Add a Collection column")})},{type:"drafts",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(e8.A,{colors:t,size:e}),label:e("Label for the drafts icon on Patio","Drafts"),create:({user:e})=>({type:"drafts",blogName:e.blogs[0].name})},{type:"following",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(te,{colors:t,size:e}),label:e("Label for the following icon on Patio","Following"),create:()=>({type:"following"})},{type:"for-you",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(ti,{colors:t,size:e}),label:e("Label for the For You icon on Patio","For you"),create:()=>({type:"for-you"})},{type:"inbox",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(ts,{colors:t,size:e}),label:e("Label for the inbox icon on Patio","Inbox"),create:()=>({type:"inbox"})},{type:"likes",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(tt.A,{colors:t,emptyIconColors:{...t},filled:!1,size:e}),label:e("Label for the likes icon on Patio","Likes"),create:()=>({type:"likes"})},{type:"messages",icon:({colors:e})=>/*#__PURE__*/(0,N.jsx)(e9,{emptyIconColors:e}),label:e("Label for the Messages icon on Patio","Messages"),create:({user:e})=>({type:"messages",blogName:(0,td.$)(e).name})},{type:"queue",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(e1.A,{colors:t,size:e}),label:e("Label for the queue icon on Patio","Queue"),create:({user:e})=>({type:"queue",blogName:e.blogs[0].name})},{type:"search",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(ta.A,{colors:t,size:e}),label:e("Label for the search icon on Patio","Search"),renderColumnOptions:t=>({body:/*#__PURE__*/(0,N.jsx)(tS,{onRowClick:e=>{t({type:"search",query:e})}}),title:e("Heading for a dialog when creating a new Search column on the Patio screen","Add a Search column")})},{type:"staff-picks",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(tr,{colors:t,size:e}),label:e("Label for the Staff picks icon on Patio","Staff picks"),create:()=>({type:"staff-picks"})},{type:"tag",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(to,{colors:t,size:e}),label:e("Label for the tag icon on Patio","Tag"),renderColumnOptions:t=>({body:/*#__PURE__*/(0,N.jsx)(tS,{onRowClick:e=>{t({type:"tag",tag:e})},placeholder:e("Placeholder text for the Tag search bar when user is creating a Blog column on Patio","Enter a tag..."),resultType:tp.jR}),title:e("Heading for a dialog when creating a new Tag column on the Patio screen","Add a Tag column")})},{type:"trending",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(tl.y,{colors:t,size:e}),label:e("Label for the trending icon on Patio","Trending"),create:()=>({type:"trending"})},{type:"your-tags",icon:({size:e,colors:t})=>/*#__PURE__*/(0,N.jsx)(to,{colors:t,size:e}),label:e("Label for the Your Tags icon on Patio","Your tags"),create:()=>({type:"your-tags"})}];function tT({onAddColumn:e,onClose:t}){let s=(0,ea.Py)(),{_c:a,features:n}=(0,x.Us)(),i=u.useRef(null),r=M();u.useEffect(()=>{i.current&&i.current.focus()},[]);let o=(0,u.useMemo)(()=>tP(a).filter(({type:e})=>{switch(e){case"collection":return n.tumblrPatioCollections;case"community":return n.tumblrPatioCommunities;default:return!0}}).sort((e,t)=>e.label>t.label?1:t.label>e.label?-1:0),[a,n.tumblrPatioCollections,n.tumblrPatioCommunities]),[l,d]=(0,u.useState)(o),[c,m]=(0,u.useState)(),p=u.useCallback(()=>{t(),r.moveToNextStepFrom("addNewColumn")},[t,r]),h=u.useCallback(t=>{e(t),r.moveToNextStepFrom("addNewColumn")},[e,r]),g=s.data?.user;if(!g)return null;let b=e=>{"renderColumnOptions"in e?m(e):"create"in e&&h(e.create({user:g}))},f=/*#__PURE__*/(0,N.jsx)("div",{className:tb.inputContainer,children:/*#__PURE__*/(0,N.jsx)("input",{className:tb.textInput,onChange:e=>{let t=e.target.value;d(t.length?o.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())):o)},placeholder:a("Placeholder text for Patio column selection modal","Filter columns"),ref:i,type:"text"})});return c&&"renderColumnOptions"in c?(()=>{if(!(c&&"renderColumnOptions"in c))return null;let e=[{text:a("Label for button to cancel creation of a new Patio column","Cancel"),onClick:()=>{m(void 0),d(o)},buttonStyle:tm.s.Neutral}],{body:t,title:s}=c.renderColumnOptions(h);return/*#__PURE__*/(0,N.jsx)(eW.A,{onGlassClick:p,children:/*#__PURE__*/(0,N.jsx)(tm.m,{body:t,buttonContainerClassname:tb.buttonContainer,buttons:e,className:tb.columnOptions,title:s,titleClassname:tb.columnOptionsTitle,verticalAlignment:"top"})})})():/*#__PURE__*/(0,N.jsx)(tc.A,{modalWrapperClass:"patioColumnMaker",modalWrapperClassname:tb.modalWrapper,onClose:p,subtitle:f,title:a("Title of modal for selecting a Patio column type","Add a column"),verticalAlignment:"top",children:/*#__PURE__*/(0,N.jsx)("div",{children:/*#__PURE__*/(0,N.jsx)("ul",{className:tb.buttonList,children:l.map(e=>/*#__PURE__*/(0,N.jsx)("li",{className:tb.button,children:/*#__PURE__*/(0,N.jsxs)(X.A,{className:tb.columnButton,label:e.label,onClick:()=>b(e),children:[/*#__PURE__*/(0,N.jsx)("span",{children:e.icon({size:{width:24,height:24},colors:{primary:A().paletteGray65}})}),/*#__PURE__*/(0,N.jsx)("div",{className:tb.label,children:e.label})]})},e.type))})})})}function tR({column:e}){let t=(0,tu.Ge)(e.collectionId);return t.data?`${t.data?.name} - Collection`:"Collection"}var tB=s(82301);function tO({column:e}){let t=(0,tB.tK)(e.communityId);return t.data?`${t.data?.title}`:"Community"}let tL={searchBarContainer:"qDCPn"};function tE({column:e,isNewColumn:t,onUpdateColumn:s}){let{logEvent:a}=(0,f.Ul)(),n=u.useContext(tk.jb);return/*#__PURE__*/(0,N.jsx)(tk.jb.Provider,{value:u.useMemo(()=>({basename:"",future:{v7_relativeSplatPath:!1},static:!1,navigator:{createHref:()=>"",push:t=>{let i=(0,tI.o1)(t);if(i.pathname.startsWith("/search")){let e=decodeURIComponent(i.pathname.split("/")[2]);s(t=>({...t,query:e})),a({eventName:b.R.ColumnSearchQueryChanged})}else if(i.pathname.startsWith("/tagged")){let t=decodeURIComponent(i.pathname.split("/")[2]);s(e=>({type:"tag",tag:t})),a({eventName:b.R.ColumnTypeChanged,eventDetails:{from_column_type:e.type,to_column_type:"tag"}})}else if(2===i.pathname.split("/").length){let t=decodeURIComponent(i.pathname.split("/")[1]);s(e=>({type:"blog",blogName:t})),a({eventName:b.R.ColumnTypeChanged,eventDetails:{from_column_type:e.type,to_column_type:"blog"}})}else n.navigator.push(t),a({eventName:b.R.ColumnSearchNavigatedAway});document.activeElement?.blur()},replace:()=>{},go:()=>{}}}),[e.type,a,s,n.navigator]),children:/*#__PURE__*/(0,N.jsx)(tN.I,{autoFocus:t&&!e.query,containerClassName:tL.searchBarContainer,context:"chrome",hideIcon:!0,initialSearchTerm:e.query||void 0})})}function tM({column:e,isNewColumn:t,isInSidebarNav:s,onUpdateColumn:a}){let{_c:n}=(0,x.Us)();switch(e.type){case"following":return n("Heading for a Patio column that contains the following timeline","Following");case"for-you":return n("Heading for a Patio column that contains the for you timeline","For you");case"your-tags":return n("Heading for a Patio column that contains your followed tags","Your tags");case"trending":return n("Heading for a Patio column that contains the trending timeline","Trending");case"staff-picks":return n("Heading for a Patio column that contains the staff picks timeline","Staff picks");case"answer-time":return n("Heading for a Patio column that contains the answer time timeline","Answer time");case"search":return s?n("Heading for a Patio column that contains a search timeline for a specific search term",'Search "%1$s"',[`${e.query}`]):/*#__PURE__*/(0,N.jsx)(tE,{column:e,isNewColumn:t,onUpdateColumn:e=>a?.(e)});case"tag":return e.tag;case"activity":case"blog":case"drafts":case"messages":case"queue":return e.blogName;case"inbox":return n("Heading for a Patio column that contains the user's inbox","Inbox");case"collection":return/*#__PURE__*/(0,N.jsx)(tR,{column:e});case"community":return/*#__PURE__*/(0,N.jsx)(tO,{column:e});case"likes":return n("Heading for a Patio column that contains the user's likes","Likes")}}function tz({communityId:e}){let{data:t}=(0,tB.tK)(e);return t?/*#__PURE__*/(0,N.jsx)(eV.A,{avatarShape:eK.b.Square,dimension:28,imageResponse:t?.avatarImage||[]}):null}var tD=s(76725),tF=s(98247),tW=s(81830),tU=s(8008);let tH={dialogContent:"IhWiL"};function tG({onClose:e,onApply:t,searchMode:s,days:a,postType:n,postRole:i}){let{_c:r,features:o}=(0,x.Us)(),[l,d]=u.useState(s??"recent"),[c,m]=u.useState(a??eC.em.AllTime),[p,h]=u.useState(n),[g,b]=u.useState(i);return/*#__PURE__*/(0,N.jsx)(tm.m,{body:/*#__PURE__*/(0,N.jsxs)("div",{className:tH.dialogContent,children:[/*#__PURE__*/(0,N.jsx)(tW.A,{defaultValue:"recent",onChange:e=>{d(e&&"community"!==e?e:"recent")},pathGenerator:()=>"",selectedValue:l}),"top"===l&&/*#__PURE__*/(0,N.jsx)(tU.A,{defaultValue:eC.em.AllTime,onChange:e=>{m(e??eC.em.AllTime)},pathGenerator:()=>"",selectedValue:c}),/*#__PURE__*/(0,N.jsx)(tF.Lr,{onChange:e=>{h(e)},onToggleOriginalPostsOnly:o.reblogsInGlobalSearch?()=>{b(e=>"original"===e?"any":"original")}:void 0,originalPostsOnly:o.reblogsInGlobalSearch?"original"===g:void 0,pathGenerator:()=>"",selectedValue:p})]}),buttons:[{text:r("Label for button to cancel modifying the settings of a Patio Search column","Cancel"),onClick:e,buttonStyle:tm.s.Neutral},{text:r("Label for button to save new settings for a Patio Search column","Save"),onClick:()=>t({searchMode:l,days:c,postRole:g,postType:p}),buttonStyle:tm.s.Confirm}],title:r("Title of the modal to edit the search column settings","Search settings"),useWhiteContainerDesign:!0})}let t$={dialogBody:"GsISH"};function tq({onClose:e,onApply:t,mode:s}){let{_c:a}=(0,x.Us)(),[n,i]=u.useState(s??"recent");return/*#__PURE__*/(0,N.jsx)(tm.m,{body:/*#__PURE__*/(0,N.jsx)("div",{className:t$.dialogBody,children:/*#__PURE__*/(0,N.jsx)(tW.A,{defaultValue:"recent",onChange:e=>{i(e&&"community"!==e?e:"recent")},pathGenerator:()=>"",selectedValue:n})}),buttons:[{text:a("Label for button to cancel modifying the settings of a Patio Tag column","Cancel"),onClick:e,buttonStyle:tm.s.Neutral},{text:a("Label for button to save new settings for a Patio Tag column","Save"),onClick:()=>t(n),buttonStyle:tm.s.Confirm}],title:a("Title of the modal to edit the tag column settings","Tag settings"),useWhiteContainerDesign:!0})}function tV({column:e,onUpdateColumn:t,onClose:s}){let{logEvent:a}=(0,f.Ul)();switch(e.type){case"activity":return/*#__PURE__*/(0,N.jsx)(tD.A,{filters:new Set(e.filters),onClose:s,onSubmit:e=>{t(t=>({...t,filters:Array.from(e)})),s(),a({eventName:b.R.ColumnSettingsChanged})}});case"search":return/*#__PURE__*/(0,N.jsx)(tG,{days:e.days,onApply:e=>{t(t=>({...t,...e})),s(),a({eventName:b.R.ColumnSettingsChanged})},onClose:s,postRole:e.postRole,postType:e.postType,searchMode:e.searchMode});case"tag":return/*#__PURE__*/(0,N.jsx)(tq,{mode:e.sort,onApply:e=>{t(t=>({...t,sort:e})),s(),a({eventName:b.R.ColumnSettingsChanged})},onClose:s});default:throw Error(`[Settings] Unsupported column type: ${e.type}`)}}let tX={columnHeader:"PfnPI",columntTitle:"V74Hd",meatballsMenuButton:"qYv_Q",meatballsPopoverWrapper:"jNPkW",meatballsPopoverContent:"DI3wh",meatballsItem:"O_kIn",meatballsDivider:"DS2l8",removeMeatballsItem:"ktosD",reorderItemHandle:"mJ5gp",iconOrAvatar:"nR1xg",reorderButton:"qBPgC"};function tK({column:e,isNewColumn:t,onClick:s,onUpdateColumn:a,onRemoveColumn:n,onRefresh:r}){let{_c:o}=(0,x.Us)(),{logEvent:l}=(0,f.Ul)(),[d,c]=u.useState(!1),m=(0,ea.Py)(),{moveToNextStepFrom:p,hideStep:h}=M(),g=tP(o).find(t=>t.type===e.type);if(!g)throw Error("Unsupported column type");return/*#__PURE__*/(0,N.jsx)(L,{step:"refreshColumn",children:/*#__PURE__*/(0,N.jsxs)("div",{className:tX.columnHeader,children:[/*#__PURE__*/(0,N.jsx)("div",{className:tX.reorderItemHandle,onMouseDown:()=>p("moveColumn"),children:/*#__PURE__*/(0,N.jsxs)(L,{step:"moveColumn",children:[/*#__PURE__*/(0,N.jsx)(e$.A,{wrapperClassName:i()("__item-handle__",tX.reorderButton)}),/*#__PURE__*/(0,N.jsx)("div",{className:tX.iconOrAvatar,children:"blog"===e.type?/*#__PURE__*/(0,N.jsx)(eQ,{blogName:e.blogName}):"community"===e.type?/*#__PURE__*/(0,N.jsx)(tz,{communityId:e.communityId}):g.icon({size:{width:24,height:24}})})]})}),/*#__PURE__*/(0,N.jsx)("h2",{className:tX.columntTitle,onClick:e=>{e.currentTarget===e.target&&(s(),p("refreshColumn"))},tabIndex:-1,children:["activity","queue","drafts","messages"].includes(e.type)||"blog"===e.type&&m.data?.user?.blogs?.find(t=>t.name===e.blogName)?/*#__PURE__*/(0,N.jsx)(eJ,{filterBlogs:"messages"===e.type?e=>e.canMessage??!1:void 0,onSelectBlog:e=>{a(t=>({...t,blogName:e.name})),l({eventName:b.R.ColumnBlogChanged})},selectedBlogName:e.blogName}):/*#__PURE__*/(0,N.jsx)(tM,{column:e,isNewColumn:t,onUpdateColumn:a})}),/*#__PURE__*/(0,N.jsx)(L,{step:"columnOptions",children:/*#__PURE__*/(0,N.jsx)(tQ,{displayMode:e.displayMode??Z.X2.List,onDisplayChange:(e,t)=>{a(s=>({...s,displayMode:e,size:t}));let s="column";"wide"===t&&e===Z.X2.List?s="wide":e===Z.X2.Masonry?s="grid":e===Z.X2.Grid&&(s="thumbnails"),l({eventName:b.R.ColumnLayoutChanged,eventDetails:{layout:s}})},onMenuClose:()=>p("columnOptions"),onMenuOpen:()=>h("columnOptions"),onRefresh:r,onRemove:n,onSettings:()=>{c(!0)},showDisplayModeOptions:!["activity","messages","queue"].includes(e.type),showSettings:["activity","search","tag"].includes(e.type),size:e.size??"normal"})}),d?/*#__PURE__*/(0,N.jsxs)(eW.A,{onGlassClick:()=>{c(!1)},children:[/*#__PURE__*/(0,N.jsx)(tV,{column:e,onClose:()=>c(!1),onUpdateColumn:a}),";"]}):null]})})}function tQ({showDisplayModeOptions:e,showSettings:t,displayMode:s,onDisplayChange:a,size:n,onMenuOpen:r,onMenuClose:o,onRemove:l,onRefresh:d,onSettings:c}){let{_c:m}=(0,x.Us)(),p=m("Label for setting the normal width on a Patio Column","Column"),h=m("Label for setting the wider width on a Patio Column","Wide column"),g=m("Label for setting the layout to grid view on a Patio Column","Grid view"),b=m("Label for setting the layout to thumbnail view on a Patio Column","Thumbnails"),f=m("Label for refreshing a Patio Column","Refresh"),v=m("Label for opening the settings dropdown for a Patio Column","Settings"),j=m("Label for removing a Patio Column","Remove"),y=()=>/*#__PURE__*/(0,N.jsx)("div",{className:tX.meatballsDivider}),[A,C]=u.useState(!1);return/*#__PURE__*/(0,N.jsx)(eG.Ay,{closeForAllExternalClicks:!0,height:"auto",isOpen:A,popoverWrapperClassName:tX.meatballsPopoverWrapper,position:eq.$x.Bottom,render:()=>/*#__PURE__*/(0,N.jsxs)("div",{className:tX.meatballsPopoverContent,children:[/*#__PURE__*/(0,N.jsx)(eF.A,{className:tX.meatballsItem,onClick:()=>d(),title:f,children:f},"refresh"),t?/*#__PURE__*/(0,N.jsx)(eF.A,{className:tX.meatballsItem,onClick:()=>{c()},title:v,children:v},"settings"):null,/*#__PURE__*/(0,N.jsx)(y,{}),/*#__PURE__*/(0,N.jsxs)(eF.A,{className:tX.meatballsItem,onClick:()=>{a(Z.X2.List,"normal")},title:p,children:[/*#__PURE__*/(0,N.jsx)("span",{children:p}),s===Z.X2.List&&"normal"===n?/*#__PURE__*/(0,N.jsx)(eU.A,{colors:{primary:w.paletteAccent},size:{width:16,height:12}}):null]},"normalWidth"),/*#__PURE__*/(0,N.jsxs)(eF.A,{className:i()(tX.meatballsItem),onClick:()=>{a(Z.X2.List,"wide")},title:h,children:[/*#__PURE__*/(0,N.jsx)("span",{children:h}),"wide"===n&&s===Z.X2.List?/*#__PURE__*/(0,N.jsx)(eU.A,{colors:{primary:w.paletteAccent},size:{width:16,height:12}}):null]},"wideWidth"),e?/*#__PURE__*/(0,N.jsxs)(eF.A,{className:i()(tX.meatballsItem),onClick:()=>{a(Z.X2.Masonry,"wide")},title:g,children:[/*#__PURE__*/(0,N.jsx)("span",{children:g}),s===Z.X2.Masonry?/*#__PURE__*/(0,N.jsx)(eU.A,{colors:{primary:w.paletteAccent},size:{width:16,height:12}}):null]},"gridView"):null,e?/*#__PURE__*/(0,N.jsxs)(eF.A,{className:i()(tX.meatballsItem),onClick:()=>{a(Z.X2.Grid,"wide")},title:b,children:[/*#__PURE__*/(0,N.jsx)("span",{children:b}),s===Z.X2.Grid?/*#__PURE__*/(0,N.jsx)(eU.A,{colors:{primary:w.paletteAccent},size:{width:16,height:12}}):null]},"thumbnailView"):null,/*#__PURE__*/(0,N.jsx)(y,{}),/*#__PURE__*/(0,N.jsx)(eF.A,{className:i()(tX.meatballsItem,tX.removeMeatballsItem),onClick:()=>l(),title:j,children:j},"remove")]}),shouldFocusContentOnPopoverOpen:!0,toggle:()=>{C(e=>!e),A?o():r()},usePortals:!0,children:/*#__PURE__*/(0,N.jsx)(X.A,{className:tX.meatballsMenuButton,label:v,children:/*#__PURE__*/(0,N.jsx)(eH.W,{colors:{primary:w.paletteTransparentWhite40},size:{width:18,height:5}})})})}let tY={column:"GdwvN",columnWide:"LRIjp",columnExtraWide:"LuB0e"};function tJ({className:e,column:t,elementRef:s,index:a,isNewColumn:n,onUpdateColumn:r,onRemoveColumn:o}){let{logEvent:l}=(0,x.Us)(),c=u.useRef(),[m,p]=u.useState(null),[h,g]=u.useState(!1),[v,j]=u.useState(!1),y=u.useMemo(()=>"queue"===t.type&&t.displayMode!==Z.X2.List?{...t,displayMode:Z.X2.List,size:"normal"}:t,[t]),w=async()=>{g(!0),await c.current?.(),g(!1)},A=async()=>{!h&&m&&((m instanceof HTMLElement?m.scrollTop:m.scrollY)>0?(m.scrollTo({top:0,behavior:"smooth"}),l({eventName:b.R.ColumnScrolledToTopFromHeader,eventDetails:{column_type:y.type,column_index:a}})):(await w(),l({eventName:b.R.ColumnRefreshedFromHeader,eventDetails:{column_type:y.type,column_index:a}})))},C=async()=>{await w(),l({eventName:b.R.ColumnRefreshed,eventDetails:{column_type:y.type,column_index:a}})},k=(0,u.useRef)(e=>{c.current=e});return u.useEffect(()=>{if(v){let e=e=>{(e.key===d.qW.Up||e.key===d.qW.Down)&&m?.focus()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}},[v,m]),/*#__PURE__*/(0,N.jsx)(f.sv,{eventDetails:{column_type:y.type,column_index:a},children:/*#__PURE__*/(0,N.jsx)($,{columnIndex:a,children:/*#__PURE__*/(0,N.jsxs)("div",{className:i()([tY.column,e,{[tY.columnWide]:"wide"===y.size&&y.displayMode!==Z.X2.Masonry,[tY.columnExtraWide]:y.displayMode===Z.X2.Masonry}]),id:y.id,onBlur:()=>j(!1),onFocus:()=>j(!0),ref:s,tabIndex:0,children:[/*#__PURE__*/(0,N.jsx)(tK,{column:y,isNewColumn:n,onClick:A,onRefresh:C,onRemoveColumn:o,onUpdateColumn:r}),/*#__PURE__*/(0,N.jsx)(eD,{column:y,isColumnSelected:v,isRefreshing:h,scrollContainer:m,setRefreshCallback:k.current,setScrollContainer:p})]})})})}var tZ=s(7606),t0=s(12044);let t1=()=>{let e=(0,tk.Zp)(),{_c:t}=(0,x.Us)(),[s,a]=(0,u.useState)(!0),n=()=>{a(!1),e(t0.ry.dashboard)},i=t("[Patio] Humorous title hinting to users that requires too much space for mobile usage","It's a little cramped in here...");return/*#__PURE__*/(0,N.jsx)(tZ.K,{heading:i,isOpen:s,onClose:n,primaryAction:{text:t("[Patio] Button text for redirecting mobile users to the dashboard from the patio page","Go to Dashboard"),onClick:n},children:/*#__PURE__*/(0,N.jsx)("div",{children:t("[Patio] Explanation for mobile users why Patio isn't available","Patio is only available on the desktop version of Tumblr. We hope to see you there soon!")})})};var t6=s(85712);let t2={container:"I1C5C",sortableContainer:"hQqo5",narrowNav:"C6etJ",dockedMediaWrapper:"FzRrz",dockedMediaPostWrapperClassName:"jv3xO"};var t3=s(29437),t4=s(856),t7=s(8254),t9=s(49315),t8=s(75170),t5=s(90789),se=s(71078),st=s(74834),ss=s(373);let sa=ss.z.object({id:ss.z.string(),displayMode:ss.z.nativeEnum(Z.X2).optional(),size:ss.z.enum(["normal","wide"]).optional()}),sn=ss.z.discriminatedUnion("type",[sa.merge(ss.z.object({type:ss.z.literal("for-you")})),sa.merge(ss.z.object({type:ss.z.literal("following")})),sa.merge(ss.z.object({type:ss.z.literal("your-tags")})),sa.merge(ss.z.object({type:ss.z.literal("trending")})),sa.merge(ss.z.object({type:ss.z.literal("staff-picks")})),sa.merge(ss.z.object({type:ss.z.literal("answer-time")})),sa.merge(ss.z.object({type:ss.z.literal("inbox")})),sa.merge(ss.z.object({type:ss.z.literal("likes")})),sa.merge(ss.z.object({type:ss.z.literal("activity"),blogName:ss.z.string(),filters:ss.z.array(ss.z.enum(se.Q1)).readonly().optional()})),sa.merge(ss.z.object({type:ss.z.literal("messages"),blogName:ss.z.string()})),sa.merge(ss.z.object({type:ss.z.literal("search"),query:ss.z.string(),searchMode:ss.z.enum(["recent","top"]).optional(),postType:ss.z.enum(["ask","audio","chat","gif","link","photo","quote","text","poll","video"]).optional(),postRole:ss.z.enum(["original","any"]).optional(),days:ss.z.nativeEnum(eC.em).optional()})),sa.merge(ss.z.object({type:ss.z.literal("tag"),tag:ss.z.string(),sort:ss.z.enum(["recent","top"]).optional()})),sa.merge(ss.z.object({type:ss.z.literal("blog"),blogName:ss.z.string()})),sa.merge(ss.z.object({type:ss.z.literal("queue"),blogName:ss.z.string()})),sa.merge(ss.z.object({type:ss.z.literal("drafts"),blogName:ss.z.string()})),sa.merge(ss.z.object({type:ss.z.literal("collection"),collectionId:ss.z.string()})),sa.merge(ss.z.object({type:ss.z.literal("community"),communityId:ss.z.string()}))]),si=ss.z.array(ss.z.object({}).passthrough()),sr=(0,t5.h)(ss.z.object({config:si})),so=(e,t)=>(0,t4.j)({queryKey:["patio-columns"],queryFn:async()=>{let{config:s}=(await e("/v2/column/config",sr)).response;return 0===s.length?await t():s.flatMap(e=>{let t=sn.safeParse(e);return t.success?[t.data]:("function"==typeof self.reportError&&reportError(new st.y("/v2/column/config",t.error,e)),[])})},staleTime:36e5}),sl=async(e,t,s)=>{let a=await (0,ea.me)(e,t,s),n=await (0,eu.P5)(e,t),i=[n?.[0]?.id==="stuff_for_you"?{type:"for-you",id:"1"}:{type:"following",id:"1"}],r=a.isLoggedIn?a?.user?.blogs?.[0]?.name:void 0;return r&&i.push({type:"activity",id:"2",blogName:r}),i},sd="540px",sc="360px";function sm(){let{columns:e,setColumns:t}=function(){let{data:e,isPending:t}=function(){let e=(0,t7.jE)(),{apiFetchWithSchema:t,apiFetch:s,isLoggedIn:a}=(0,x.Us)();return(0,t9.I)(so(t,()=>sl(s,e,a)))}(),s=(0,a.A)(e),n=function(){let{apiFetchWithSchema:e,apiFetch:t,isLoggedIn:s}=(0,x.Us)(),a=(0,t7.jE)();return u.useCallback(n=>{a.setQueryData(so(e,()=>sl(t,a,s)).queryKey,n)},[t,e,s,a])}(),{mutate:i}=function(){let{apiFetchWithSchema:e}=(0,x.Us)();return(0,t8.n)({mutationFn:async t=>(await e("/v2/column/config",sr,{method:"POST",body:{config:t}})).response.config})}(),r=(0,t3.A)(i,1e3);return u.useEffect(()=>{!t&&s&&s!==e&&r(e??[])},[e,t,r,s]),{columns:e,setColumns:n}}(),s=(0,a.A)(e),[n,j]=u.useState(!1),y=u.useRef(null),w=u.useRef([]),{endlessScrollingDisabled:A,getBrowserInfo:C}=(0,x.Us)(),k=C().deviceType===g.bq.Desktop,{logEvent:I}=(0,f.Ul)();u.useEffect(()=>{let t=e?.length??0;s&&t>s.length&&y.current?.scrollTo({left:y.current.scrollWidth})},[s,e]);let _=u.useCallback((s,a,n)=>{if(!e)return;let{oldIndex:i,newIndex:r}=n;if(i===r)return;let o=e[i];t((0,p.jM)(e,e=>{e.splice(r,0,e.splice(i,1)[0])})),I({eventName:b.R.ColumnMoved,eventDetails:{moved_column_type:o.type,old_index:i,new_index:r}})},[e,I,t]),S=s&&e&&s.length<e.length?e[e.length-1].id:void 0;function P(){return w.current.findIndex(e=>e?.contains(document.activeElement))}function T(){return w.current.findIndex(e=>!!e&&e.getBoundingClientRect().left>=(y.current?.offsetLeft??0))}function R(e,{focus:t=!1}={}){let s=w.current?.[e];s&&(t&&s.focus({preventScroll:!0}),e===w.current?.length-1?y.current?.scrollTo({left:y.current.scrollWidth}):s.scrollIntoView())}return/*#__PURE__*/(0,N.jsxs)(N.Fragment,{children:[/*#__PURE__*/(0,N.jsx)(c.Ay,{page:t6.I.analyticsPageName}),/*#__PURE__*/(0,N.jsxs)(o.A,{activePage:h.Qi.patio,mainContentIsFullWidth:!0,children:[!k&&/*#__PURE__*/(0,N.jsx)(t1,{}),e&&/*#__PURE__*/(0,N.jsxs)(H,{columns:e,children:[/*#__PURE__*/(0,N.jsx)(d.Ay,{hotkey:[{key:d.qW.Left,modifiers:{shiftKey:A},command:()=>{let e=P();R(-1===e?T():Math.max(0,e-1),{focus:!0})}},{key:d.qW.Right,modifiers:{shiftKey:A},command:()=>{let e=P();R(-1===e?T():Math.min(e+1,w.current?.length-1),{focus:!0})}}]}),/*#__PURE__*/(0,N.jsx)(m.A,{fallback:null,children:/*#__PURE__*/(0,N.jsx)("div",{className:t2.container,ref:y,children:/*#__PURE__*/(0,N.jsxs)(r.A,{className:t2.sortableContainer,onChange:_,options:{animation:150,draggable:".__draggable-item__",handle:".__item-handle__",forceFallback:!1,onStart:e=>{e.clone.innerHTML=""}},tag:"div",children:[e.map((e,s)=>/*#__PURE__*/(0,N.jsx)(tJ,{className:i()(["__draggable-item__",t2.column]),column:e,elementRef:e=>{w.current[s]=e},index:s,isNewColumn:S===e.id,onRemoveColumn:()=>{t(t=>t.filter(t=>t.id!==e.id)),I({eventName:b.R.ColumnRemoved,eventDetails:{column_type:e.type,column_idex:s}})},onUpdateColumn:s=>{t(t=>t.map(t=>t.id===e.id?{...s(e),id:e.id}:t))}},e.id)),/*#__PURE__*/(0,N.jsx)(V,{disabled:e.length>=15,onClick:()=>j(!0)}),/*#__PURE__*/(0,N.jsx)(J,{containerRef:y,onLeftClick:()=>{R(Math.max(0,T()-1))},onRightClick:()=>{R(Math.min(w.current.findLastIndex(e=>!!e&&e.getBoundingClientRect().right<=(y.current?.offsetLeft??0)+(y.current?.offsetWidth??0))+1,w.current?.length-1))}})]})})}),n&&/*#__PURE__*/(0,N.jsx)(tT,{onAddColumn:s=>{let a=e.length;t(e=>[...e,{id:(0,v.A)(),...s}]),j(!1),I({eventName:b.R.ColumnAdded,eventDetails:{column_type:s.type,column_index:a}})},onClose:()=>j(!1)})]}),/*#__PURE__*/(0,N.jsx)("div",{className:t2.dockedMediaWrapper,children:/*#__PURE__*/(0,N.jsx)(l.A,{noCover:!0,postWrapperClassName:t2.dockedMediaPostWrapperClassName})})]})]})}},34753:(e,t,s)=>{s.d(t,{GW:()=>c,I8:()=>d,Z_:()=>x,nG:()=>m,x3:()=>b});var a=s(19377),n=s(66910),i=s(37629),r=s(59454),o=s(74082);let l={blog:{limit:20},tag:{limit:20}},d=(e,t)=>{let s=(0,i.WF)(t.src);return(0,o.A)((0,r.wg)(e,{searchKeyword:t.searchTerm,timelineType:"tag",querySource:s,...l.tag}).fetch())},c=(e,t)=>{let s=(0,i.WF)(t.src);return(0,o.A)((0,r.wg)(e,{searchKeyword:t.searchTerm,timelineType:"blog",querySource:s,...l.blog}).fetch())},m=(e,t,s)=>{let a=(0,i.WF)(t.src);return(0,o.A)(e("/v2/timeline/search",{queryParams:{timeline_type:"community",query:t.searchTerm,query_source:a,limit:s.limit??21,request_source:s.requestSource,join_types:t.selectedJoinTypes?.join(","),sort:t.selectedRankingMode}}))},p=e=>Object.values([...i.Kl,"community"]).includes(e)?e:a._u.activeTimeline,u=e=>{if(!e)return;let t=e.split(",");if(!(t.length<1))return t.filter(n.kA)},h=e=>{if(!e)return;let t=e.split(",");if(!(t.length<1))return t.filter(i.gB)},g=e=>Object.values(i.Kl).includes(e)?e:a._u.activeTimeline;function b({params:e,path:t,activeTimelineOverride:s},a={}){let{v:n}=a;return"community"===(s??p(n))?function(e,t={}){let{searchTerm:s=""}=e,{rankingMode:a}=t,n=(0,i.zB)(a)?a:void 0;return{activeTimeline:"community",searchTerm:s,selectedJoinTypes:h(t.joinTypes),selectedRankingMode:n}}(e,a):x({params:e,path:t},a)}function x({params:e,path:t},s={}){let{selectedPostType:r,searchTerm:o=""}=e,l=t.split("/"),d=i.y8.find(e=>l.includes(e)),{v:c,t:m,src:p,postTypes:h}=s,b=Number(m),f=b<36e3&&b>=0?b:a._u.selectedTime,v=g(c),j=u(h),y=d??a._u.searchMode,w=(0,n.kA)(r)?r:void 0;return{searchTerm:o,selectedTime:f,activeTimeline:v,postRole:s?.post_role||void 0,searchMode:y,selectedPostType:w,selectedPostTypes:j,src:"typed_query"===p?"typed_query":"recent_search"===p?"recent_search":"suggested_tag"===p?"suggested_tag":void 0}}},82139:(e,t,s)=>{s.d(t,{C:()=>a});let a={postType:void 0,postRole:"any",postSort:s(66910).Zh.CreatedDesc}},77008:(e,t,s)=>{s.d(t,{$P:()=>a,L6:()=>l,Tq:()=>o,bY:()=>r,x5:()=>i,zt:()=>n});let a=/*#__PURE__*/function(e){return e.MediationCandidateConsideration="mediation_candidate_consideration",e.SupplyOpportunityMissed="supply_opportunity_missed",e.SupplyOpportunityFilled="supply_opportunity_filled",e.MediationOpportunityMissed="mediation_opportunity_missed",e.AdDropped="ad_dropped",e}({}),n=/*#__PURE__*/function(e){return e.BackfillNotNeeded="backfill_not_needed",e.WaterfallNotUsed="waterfall_not_used",e}({}),i=/*#__PURE__*/function(e){return e.ForeignImpression="foreign_impression",e.Impression="impression",e}({}),r=/*#__PURE__*/function(e){return e.AdRequest="ad_request",e}({}),o=/*#__PURE__*/function(e){return e.NoAd="noAd",e.AdServed="adAvailable",e.AdError="adError",e.TeadsImpression="impression",e}({}),l=/*#__PURE__*/function(e){return e.AdFilled="AdFilled",e.NoAd="NoAd",e.AdError="AdError",e}({})},43337:(e,t,s)=>{s.d(t,{En:()=>n,Tv:()=>i}),s(82139);var a=s(66910);let n={Posts:"Posts",Likes:"Likes",Following:"Following"};function i({postSort:e,postRole:t,postType:s}){return{peeprSelectedPostType:s,..."any"!==t&&{peeprPostRole:t},...e===a.Zh.PopularityDesc&&{peeprSearchMode:"top"}}}},28436:(e,t,s)=>{s.d(t,{D:()=>n});var a=s(72580);let n=(e,t,s,n,i,r,o)=>(0,a.K)(e,{postId:i,shouldIncludeBlogSummary:s,blogIdentifier:t,extraBlogQueryParams:["admin","theme","canMessage","askPageTitle","canBeBooped","canBeFollowed","followed","analyticsUrl","topTags","allowSearchIndexing","isHiddenFromBlogNetwork","shouldShowGift","shouldShowTumblrmartGift"],includePinnedPosts:!0,queryParams:{...n&&{postType:n},...r&&{beforeId:r},...o}})},16418:(e,t,s)=>{s.d(t,{N:()=>i});let a=/[\\^$.*+?()[\]{}|]/g,n=RegExp(a.source);function i(e){return e&&n.test(e)?e.replace(a,"\\$&"):e}},59330:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(66910),n=s(37629);function i({peeprSearchMode:e,peeprPostRole:t,peeprSelectedPostType:s,param1:r,param2:o}={}){if(e&&t&&s)return{peeprSearchMode:e,peeprPostRole:t,peeprSelectedPostType:s};let l=null,d=null,c=null;return[r,o].forEach(e=>{e&&((0,n.fS)(e)?l=e:(0,a.FV)(e)?d=e:(0,a.XP)(e)&&(c=e))}),{...null!==l&&{peeprSearchMode:l},...null!==d&&{peeprPostRole:d},...s&&{peeprSelectedPostType:s}||null!==c&&{peeprSelectedPostType:c}}}},3077:(e,t,s)=>{s.d(t,{e:()=>i});let a=e=>e.replace(/^@/,"");var n=s(53986);let i=()=>{let{peeprBlogname:e}=(0,n.g)();return a(e)}},24972:(e,t,s)=>{s.d(t,{xp:()=>d});var a=s(99805),n=/*#__PURE__*/s.n(a);let i=n().timelineMasonryPostWidth+n().timelineMasonryPostSpacing,r=n().sidebarWidth+n().sidebarMargin,o=n().newSidebarMaxWidth+n().mainColumnGap+n().sidebarSeparatorWidth,l=n().navigationWidthFull+n().mainColumnGap,d=(e,t=!1,s=!1)=>{let a=e;return t&&(a-=s?o:r),s&&(a-=l,a+=n().timelineMasonryPostSpacing),Math.min(4,Math.max(Math.floor(a/i),s?2:0))}},86857:(e,t,s)=>{s.d(t,{U:()=>n});var a=s(94048);function n(e,t,s,n,i){let r={eventName:a.R.ReportAd,eventDetails:{ad_provider_id:t?.adProviderId,creative_id:t?.creativeId,advertiser_id:t?.advertiserId,campaign_id:t?.campaignId,ad_id:t?.adId,complain_reason:e,post_id:t?.postId,blog_id:t?.blogId,advertiser_name:t?.advertiserName,reported_ad_body:t?.adBody,reported_ad_media_url:t?.adMediaUrl,reported_ad_title:t?.adTitle,adomain:t?.advertiserDomain}};null===t?n(i("A toast message for reporting an ad, but something went wrong when reporting it","Something went wrong. Could not report ad."),"error"):n(i("A toast message for reporting an ad","Thanks for reporting this ad!"),"success"),s(r,{sendPayloadImmediately:!0})}},76931:(e,t,s)=>{s.d(t,{LB:()=>o});var a=s(93448),n=s(83322),i=s(84072);let r=/*#__PURE__*/function(e){return e.GOOGLE_NATIVE_HIGH_TIER_DASHBOARD="googleNativeHighTierDashboardHydraSource",e.GOOGLE_NATIVE_DASHBOARD="googleNativeDashboardHydraSource",e.GOOGLE_NATIVE_LOW_TIER_DASHBOARD="googleNativeLowTierDashboardHydraSource",e.TEADS_DASHBOARD_SUBSEQUENT="teadsDashboard",e.TEADS_DASHBOARD_TOP="teadsDashboardTop",e.TEADS_TEST_DASHBOARD="teadsTestHydraSource",e.TEADS_DEFAULT="teadsHydraSource",e.FLURRY_DEFAULT="flurryHydraSource",e.ONE_MOBILE_DEFAULT="oneMobileHydraSource",e}({}),o=(e,t,s,o=a._.DASHBOARD,l,d={})=>{let c=s?.placements;if(!c)return"";switch(e){case n.Sk.Google:return c[i.xQ(t)]?.adPlacementId??c[r.GOOGLE_NATIVE_DASHBOARD]?.adPlacementId??"";case n.Sk.Teads:if(d.teadsTestPlacement)return c[r.TEADS_TEST_DASHBOARD].adPlacementId;if(o===a._.DASHBOARD){if(void 0!==l&&l<=3)return c[r.TEADS_DASHBOARD_TOP].adPlacementId;return c[r.TEADS_DASHBOARD_SUBSEQUENT].adPlacementId}return c[r.TEADS_DEFAULT].adPlacementId;case n.Sk.Flurry:return c[r.FLURRY_DEFAULT].adPlacementId;case n.Sk.OneMobile:return c[r.ONE_MOBILE_DEFAULT].adPlacementId;default:return""}}},64942:(e,t,s)=>{s.d(t,{j:()=>r});var a=s(77008),n=s(93448),i=s(84072);let r=(e,t,s,r,o)=>{let{supplyRequestId:l,supplyOpportunityInstanceId:d,adProviderId:c,isTumblrSponsoredPost:m,sponsoredBadgeUrl:p,adProviderForeignPlacementId:u,adProviderPlacementId:h,adProviderInstanceId:g,mediationCandidateId:b,streamSessionId:x,streamGlobalPosition:f,placementId:v,price:j,creativeId:y,adId:w,adRequestId:A,adInstanceId:C,adInstanceCreatedTimestamp:N,advertiserId:k}=s,I=new Date().getTime()-N;e({eventName:a.$P.SupplyOpportunityFilled,eventDetails:{price:j,supply_opportunity_instance_id:d,supply_provider_id:n._.DASHBOARD,supply_request_id:l,ad_provider_id:c,advertiser_id:k,is_tumblr_sponsored_post:m||p?1:0,ad_provider_placement_id:(0,i.LW)(h||""),ad_provider_foreign_placement_id:u,ad_provider_instance_id:g,mediation_candidate_id:b,stream_session_id:x,stream_global_position:f,placement_id:v,fill_id:o||s.fillId,hydra_config_instance_id:r,hydra_signature:t?.signature,creative_id:y,ad_id:w,ad_instance_age:I,ad_request_id:A,ad_instance_id:C}},{sendPayloadImmediately:!0})}},63229:(e,t,s)=>{s.d(t,{P:()=>d,i:()=>l});var a=s(12044),n=s(66910),i=s(37629),r=s(82421),o=s(2553);function l({searchTerm:e,selectedJoinTypes:t,selectedRankingMode:s}){let n=(0,r.A)(a.ry.search,{searchTerm:e}),o=new URLSearchParams;o.set("v","community"),t&&t.length!==i.Hb.length&&o.set("joinTypes",t.join(",")),s&&"relevance"!==s&&o.set("rankingMode",s);let l=o.toString();return l?`${n}?${l}`:n}function d({postRole:e,searchTerm:t,searchMode:s,selectedPostType:i,selectedPostTypes:l,selectedTime:d,activeTimeline:c,src:m},{searchMode:p,selectedPostType:u,selectedTime:h,activeTimeline:g,postRole:b}){let x={searchTerm:t,...s!==p&&{searchMode:s},...i!==u&&(0,n.kA)(i)&&!l?.length&&{selectedPostType:i}},f=(0,r.A)((0,o.A)(a.ry.searchWithOptionalParams,x),x),v=new URLSearchParams;d&&d!==h&&v.set("t",d.toString()),c!==g&&v.set("v",c),e&&e!==b&&v.set("post_role",e),l&&l.length!==n.W5.length&&v.set("postTypes",l.join(",")),m&&v.set("src",m);let j=v.toString();return j?`${f}?${j}`:f}},15432:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(36665);function n(e,t){let[s,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},75108:(e,t,s)=>{s.d(t,{BE:()=>d,Q0:()=>o,hg:()=>c,uX:()=>l});var a=s(38985),n=s(66910),i=s(65785),r=s(68484);let o=e=>(0,n.HT)(e)&&(0,i.$D)(e),l=e=>(0,n.TW)(e)&&(e.media?.[0].type===a.mJ.Gif||e.media?.[0].type===a.mJ.Webp),d=e=>{try{let t=r.A.getItem(`video_hub_${e}_last_post_viewed`);if(t){let e=JSON.parse(t);if(e.id&&e.blogName)return e}}catch(e){console.error(e)}},c=(e,t)=>{try{let s;t?(s=JSON.stringify(t),r.A.setItem(`video_hub_${e}_last_post_viewed`,s)):r.A.removeItem(`video_hub_${e}_last_post_viewed`),window.dispatchEvent(new StorageEvent("storage",{key:`video_hub_${e}_last_post_viewed`,newValue:s}))}catch(e){console.error(e)}}}}]);
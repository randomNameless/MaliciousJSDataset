<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>11.BBN5JLiR.chunk.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGpoiAgACxAX8AQQELfwBBJAt/AEHYAAt/AEH6AAt/AEGuAQt/AEG0AQt/AEG+AQt/AEHGAQt/AEHOAQt/AEHeAQt/AEHoAQt/AEHwAQt/AEH6AQt/AEGEAgt/AEGmAgt/AEG2Agt/AEHIAgt/AEHQAgt/AEHeAgt/AEHmAgt/AEHuAgt/AEH4Agt/AEGAAwt/AEGGAwt/AEGQAwt/AEGYAwt/AEGiAwt/AEGsAwt/AEG2Awt/AEHEAwt/AEHQAwt/AEHaAwt/AEHiAwt/AEHoAwt/AEHwAwt/AEH4Awt/AEH+Awt/AEGEBAt/AEGWBAt/AEGgBAt/AEG0BAt/AEG+BAt/AEHIBAt/AEHOBAt/AEHWBAt/AEHgBAt/AEHmBAt/AEHsBAt/AEH2BAt/AEGEBQt/AEGKBQt/AEGeBQt/AEG0BQt/AEG2BQt/AEHGBQt/AEHUBQt/AEHYBQt/AEHiBQt/AEHqBQt/AEHuBQt/AEH0BQt/AEH8BQt/AEGEBgt/AEGIBgt/AEGQBgt/AEGYBgt/AEGsBgt/AEHEBgt/AEHYBgt/AEHsBgt/AEGABwt/AEGeBwt/AEGyBwt/AEHGBwt/AEHeBwt/AEH8Bwt/AEGKCAt/AEGSCAt/AEGgCAt/AEGwCAt/AEHKCAt/AEHSCAt/AEHYCAt/AEHsCAt/AEGOCQt/AEGwCQt/AEHSCQt/AEH0CQt/AEH6CQt/AEGICgt/AEGSCgt/AEGgCgt/AEGmCgt/AEG6Cgt/AEHcCgt/AEH+Cgt/AEGECwt/AEGSCwt/AEGaCwt/AEGqCwt/AEGyCwt/AEG0Cwt/AEG2Cwt/AEG+Cwt/AEHICwt/AEHQCwt/AEHaCwt/AEH6Cwt/AEGWDAt/AEGuDAt/AEHIDAt/AEHaDAt/AEHsDAt/AEGGDQt/AEGmDQt/AEHADQt/AEHYDQt/AEH+DQt/AEGcDgt/AEG0Dgt/AEHODgt/AEHuDgt/AEGKDwt/AEGwDwt/AEHODwt/AEHgDwt/AEHuDwt/AEH8Dwt/AEGIEAt/AEGYEAt/AEGsEAt/AEHEEAt/AEHcEAt/AEH6EAt/AEGCEQt/AEGKEQt/AEGQEQt/AEGWEQt/AEGeEQt/AEGmEQt/AEG2EQt/AEHEEQt/AEHKEQt/AEHWEQt/AEHkEQt/AEHsEQt/AEH2EQt/AEGGEgt/AEGUEgt/AEGsEgt/AEG2Egt/AEHAEgt/AEHQEgt/AEHSEgt/AEHcEgt/AEHkEgt/AEHyEgt/AEH4Egt/AEGAEwt/AEGKEwt/AEGSEwt/AEGyEwt/AEG6Ewt/AEHEEwt/AEHOEwt/AEHWEwt/AEHiEwt/AEH8Ewt/AEGOFAt/AEGaFAt/AEGeFAt/AEGmFAt/AEG0FAt/AEHAFAt/AEGUFQt/AEGmFQt/AEHmFQsHuI2AgACyAQZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoBmRhdGE0MQMpBmRhdGE0MgMqBmRhdGE0MwMrBmRhdGE0NAMsBmRhdGE0NQMtBmRhdGE0NgMuBmRhdGE0NwMvBmRhdGE0OAMwBmRhdGE0OQMxBmRhdGE1MAMyBmRhdGE1MQMzBmRhdGE1MgM0BmRhdGE1MwM1BmRhdGE1NAM2BmRhdGE1NQM3BmRhdGE1NgM4BmRhdGE1NwM5BmRhdGE1OAM6BmRhdGE1OQM7BmRhdGE2MAM8BmRhdGE2MQM9BmRhdGE2MgM+BmRhdGE2MwM/BmRhdGE2NANABmRhdGE2NQNBBmRhdGE2NgNCBmRhdGE2NwNDBmRhdGE2OANEBmRhdGE2OQNFBmRhdGE3MANGBmRhdGE3MQNHBmRhdGE3MgNIBmRhdGE3MwNJBmRhdGE3NANKBmRhdGE3NQNLBmRhdGE3NgNMBmRhdGE3NwNNBmRhdGE3OANOBmRhdGE3OQNPBmRhdGE4MANQBmRhdGE4MQNRBmRhdGE4MgNSBmRhdGE4MwNTBmRhdGE4NANUBmRhdGE4NQNVBmRhdGE4NgNWBmRhdGE4NwNXBmRhdGE4OANYBmRhdGE4OQNZBmRhdGE5MANaBmRhdGE5MQNbBmRhdGE5MgNcBmRhdGE5MwNdBmRhdGE5NANeBmRhdGE5NQNfBmRhdGE5NgNgBmRhdGE5NwNhBmRhdGE5OANiBmRhdGE5OQNjB2RhdGExMDADZAdkYXRhMTAxA2UHZGF0YTEwMgNmB2RhdGExMDMDZwdkYXRhMTA0A2gHZGF0YTEwNQNpB2RhdGExMDYDagdkYXRhMTA3A2sHZGF0YTEwOANsB2RhdGExMDkDbQdkYXRhMTEwA24HZGF0YTExMQNvB2RhdGExMTIDcAdkYXRhMTEzA3EHZGF0YTExNANyB2RhdGExMTUDcwdkYXRhMTE2A3QHZGF0YTExNwN1B2RhdGExMTgDdgdkYXRhMTE5A3cHZGF0YTEyMAN4B2RhdGExMjEDeQdkYXRhMTIyA3oHZGF0YTEyMwN7B2RhdGExMjQDfAdkYXRhMTI1A30HZGF0YTEyNgN+B2RhdGExMjcDfwdkYXRhMTI4A4ABB2RhdGExMjkDgQEHZGF0YTEzMAOCAQdkYXRhMTMxA4MBB2RhdGExMzIDhAEHZGF0YTEzMwOFAQdkYXRhMTM0A4YBB2RhdGExMzUDhwEHZGF0YTEzNgOIAQdkYXRhMTM3A4kBB2RhdGExMzgDigEHZGF0YTEzOQOLAQdkYXRhMTQwA4wBB2RhdGExNDEDjQEHZGF0YTE0MgOOAQdkYXRhMTQzA48BB2RhdGExNDQDkAEHZGF0YTE0NQORAQdkYXRhMTQ2A5IBB2RhdGExNDcDkwEHZGF0YTE0OAOUAQdkYXRhMTQ5A5UBB2RhdGExNTADlgEHZGF0YTE1MQOXAQdkYXRhMTUyA5gBB2RhdGExNTMDmQEHZGF0YTE1NAOaAQdkYXRhMTU1A5sBB2RhdGExNTYDnAEHZGF0YTE1NwOdAQdkYXRhMTU4A54BB2RhdGExNTkDnwEHZGF0YTE2MAOgAQdkYXRhMTYxA6EBB2RhdGExNjIDogEHZGF0YTE2MwOjAQdkYXRhMTY0A6QBB2RhdGExNjUDpQEHZGF0YTE2NgOmAQdkYXRhMTY3A6cBB2RhdGExNjgDqAEHZGF0YTE2OQOpAQdkYXRhMTcwA6oBB2RhdGExNzEDqwEHZGF0YTE3MgOsAQdkYXRhMTczA60BB2RhdGExNzQDrgEHZGF0YTE3NQOvAQdkYXRhMTc2A7ABC4WcgIAAsQEAQQELIWJiOWU1YjJmMWFiNDgwZTRhNzE1OTc3YjdiMWI0Mjc5AABBJAsyYmI5ZTViMmYxYWI0ODBlNGE3MTU5NzdiN2IxYjQyNzkubWVzc2FnZV9yZWFjdGlvbgAAQdgACyFhYTgxNTFiMzE3NzM3YTNlNzlkOGUzMzg0ZTYwODJkZQAAQfoACzNhYTgxNTFiMzE3NzM3YTNlNzlkOGUzMzg0ZTYwODJkZS51c2VfZml4ZWRfYW5zd2VycwAAQa4BCwR1cmwAAEG0AQsId2VidmlldwAAQb4BCwdzdHJpbmcAAEHGAQsHc3RyaW5nAABBzgELDnF1aWNrX3JlcGxpZXMAAEHeAQsIc3RpY2tlcgAAQegBCwZsYWJlbAAAQfABCwhjaGVja2VkAABB+gELCXNraWxsX2lkAABBhAILIGVtYmVkZGVkX2NoYXRfaGlkZV93aGVuX29mZmxpbmUAAEGmAgsPcXVldWVfdGVtcGxhdGUAAEG2AgsQZmFjZWJvb2tDb25uZWN0AABByAILB2hlYWRlcgAAQdACCwxpbmZvcm1hdGlvbgAAQd4CCwZ2YWx1ZQAAQeYCCwZsYWJlbAAAQe4CCwlyZXF1aXJlZAAAQfgCCwdyYXRpbmcAAEGAAwsFbmFtZQAAQYYDCwhzdWJqZWN0AABBkAMLBmVtYWlsAABBmAMLCXRleHRhcmVhAABBogMLCG1lc3NhZ2UAAEGsAwsJdGV4dGFyZWEAAEG2AwsMaW5mb3JtYXRpb24AAEHEAwsKdW5kZWZpbmVkAABB0AMLCG9wdGlvbnMAAEHaAwsHJTJDJTIwAABB4gMLBCUyMAAAQegDCwZlbWFpbAAAQfADCwZlbWFpbAAAQfgDCwVuYW1lAABB/gMLBW5hbWUAAEGEBAsQTWlzc2luZyUyMGVtYWlsAABBlgQLCXRleHRhcmVhAABBoAQLEk1pc3NpbmclMjBtZXNzYWdlAABBtAQLCHN1YmplY3QAAEG+BAsIc3ViamVjdAAAQcgECwVuYW1lAABBzgQLBmVtYWlsAABB1gQLCHN1YmplY3QAAEHgBAsEJTBBAABB5gQLBWZpbGUAAEHsBAsJY3VzdG9tSWQAAEH2BAsMaW5mb3JtYXRpb24AAEGEBQsEJTBBAABBigULE2NoZWNrYm94X2Zvcl9lbWFpbAAAQZ4FCxVjb25maXJtX3N1YnNjcmlwdGlvbgAAQbQFCwEAAEG2BQsOZ3JvdXBfY2hvb3NlcgAAQcYFCwxncm91cFNlbGVjdAAAQdQFCwNpZAAAQdgFCwhjaGVja2VkAABB4gULBmluZGV4AABB6gULAl8AAEHuBQsFbmFtZQAAQfQFCwZlbWFpbAAAQfwFCwdyYXRpbmcAAEGEBgsCXwAAQYgGCwdyYXRpbmcAAEGQBgsHdGlja2V0AABBmAYLEnN5c3RlbU1lc3NhZ2VUeXBlAABBrAYLFnJhdGluZy5jaGF0X2NvbW1lbnRlZAAAQcQGCxJzeXN0ZW1NZXNzYWdlVHlwZQAAQdgGCxJyYXRpbmcuY2hhdF9yYXRlZAAAQewGCxJzeXN0ZW1NZXNzYWdlVHlwZQAAQYAHCxxyYXRpbmcuY2hhdF9yYXRpbmdfY2FuY2VsZWQAAEGeBwsSc3lzdGVtTWVzc2FnZVR5cGUAAEGyBwsScmF0aW5nLmNoYXRfcmF0ZWQAAEHGBwsWcmF0aW5nLmNoYXRfY29tbWVudGVkAABB3gcLHHJhdGluZy5jaGF0X3JhdGluZ19jYW5jZWxlZAAAQfwHCwxmaWxsZWRfZm9ybQAAQYoICwdhbnN3ZXIAAEGSCAsMZmlsbGVkX2Zvcm0AAEGgCAsPc3lzdGVtX21lc3NhZ2UAAEGwCAsZbWFudWFsX2FyY2hpdmVkX2N1c3RvbWVyAABByggLB2Fuc3dlcgAAQdIICwRsYzIAAEHYCAsTZ3JlZXRpbmdfdW5pcXVlX2lkAABB7AgLIWJiOWU1YjJmMWFiNDgwZTRhNzE1OTc3YjdiMWI0Mjc5AABBjgkLIWFhODE1MWIzMTc3MzdhM2U3OWQ4ZTMzODRlNjA4MmRlAABBsAkLIWJiOWU1YjJmMWFiNDgwZTRhNzE1OTc3YjdiMWI0Mjc5AABB0gkLIWFhODE1MWIzMTc3MzdhM2U3OWQ4ZTMzODRlNjA4MmRlAABB9AkLBWZvcm0AAEH6CQsMZmlsbGVkX2Zvcm0AAEGICgsIbWVzc2FnZQAAQZIKCw1yaWNoX21lc3NhZ2UAAEGgCgsEbGMyAABBpgoLE2dyZWV0aW5nX3VuaXF1ZV9pZAAAQboKCyFiYjllNWIyZjFhYjQ4MGU0YTcxNTk3N2I3YjFiNDI3OQAAQdwKCyFhYTgxNTFiMzE3NzM3YTNlNzlkOGUzMzg0ZTYwODJkZQAAQf4KCwVmaWxlAABBhAsLDCUyMDF4JTJDJTIwAABBkgsLBiUyMDJ4AABBmgsLD3N5c3RlbV9tZXNzYWdlAABBqgsLB2N1c3RvbQAAQbILCwEAAEG0CwsBAABBtgsLB2Fuc3dlcgAAQb4LCwhhbnN3ZXJzAABByAsLB3N0cmluZwAAQdALCwhhbnN3ZXJzAABB2gsLH2FyY2hpdmVkX2N1c3RvbWVyX2Rpc2Nvbm5lY3RlZAAAQfoLCxpyb3V0aW5nLmFyY2hpdmVkX2luYWN0aXZlAABBlgwLFm1hbnVhbF9hcmNoaXZlZF9hZ2VudAAAQa4MCxltYW51YWxfYXJjaGl2ZWRfY3VzdG9tZXIAAEHIDAsQc3lzdGVtX2FyY2hpdmVkAABB2gwLEGN1c3RvbWVyX2Jhbm5lZAAAQewMCxlyb3V0aW5nLmFyY2hpdmVkX2RlbGV0ZWQAAEGGDQsecm91dGluZy5hcmNoaXZlZF9kaXNjb25uZWN0ZWQAAEGmDQsZcm91dGluZy5hcmNoaXZlZF9vZmZsaW5lAABBwA0LF3JvdXRpbmcuYXJjaGl2ZWRfb3RoZXIAAEHYDQslcm91dGluZy5hcmNoaXZlZF9yZW1vdGVseV9zaWduZWRfb3V0AABB/g0LHHJvdXRpbmcuYXJjaGl2ZWRfc2lnbmVkX291dAAAQZwOCxdyb3V0aW5nLmFzc2lnbmVkX290aGVyAABBtA4LGXJvdXRpbmcuYXNzaWduZWRfZGVsZXRlZAAAQc4OCx5yb3V0aW5nLmFzc2lnbmVkX2Rpc2Nvbm5lY3RlZAAAQe4OCxpyb3V0aW5nLmFzc2lnbmVkX2luYWN0aXZlAABBig8LJXJvdXRpbmcuYXNzaWduZWRfcmVtb3RlbHlfc2lnbmVkX291dAAAQbAPCxxyb3V0aW5nLmFzc2lnbmVkX3NpZ25lZF9vdXQAAEHODwsRY2hhdF90cmFuc2ZlcnJlZAAAQeAPCw1hZ2VudF9qb2luZWQAAEHuDwsMYWdlbnRfYWRkZWQAAEH8DwsLYWdlbnRfbGVmdAAAQYgQCw5hZ2VudF9yZW1vdmVkAABBmBALEnJhdGluZy5jaGF0X3JhdGVkAABBrBALFnJhdGVfbWVfY29uZmlybWF0aW9uXwAAQcQQCxZyYXRpbmcuY2hhdF9jb21tZW50ZWQAAEHcEAsccmF0aW5nLmNoYXRfcmF0aW5nX2NhbmNlbGVkAABB+hALB2N1c3RvbQAAQYIRCwdudW1iZXIAAEGKEQsFZ29vZAAAQZARCwRiYWQAAEGWEQsHc3RyaW5nAABBnhELB3JhdGluZwAAQaYRCw5xdWlja19yZXBsaWVzAABBthELDXJpY2hfbWVzc2FnZQAAQcQRCwVjYXJkAABByhELC3BsYWluX3RleHQAAEHWEQsMZmlsbGVkX2Zvcm0AAEHkEQsGZW1vamkAAEHsEQsIbWVzc2FnZQAAQfYRCw5tZXNzYWdlX2RyYWZ0AABBhhILDHVybF9wcmV2aWV3AABBlBILFmN1c3RvbV9zeXN0ZW1fbWVzc2FnZQAAQawSCwljdXN0b21lcgAAQbYSCwlDdXN0b21lcgAAQcASCw9odHRwcyUzQSUyRiUyRgAAQdASCwEAAEHSEgsJSU5URVJOQUwAAEHcEgsHbnVtYmVyAABB5BILDGZpbGxlZF9mb3JtAABB8hILBW5hbWUAAEH4EgsGZW1haWwAAEGAEwsJQ3VzdG9tZXIAAEGKEwsHY2xpZW50AABBkhMLH3VwZGF0ZV9jdXN0b21lcl9yZXF1ZXN0X2ZhaWxlZAAAQbITCwd0aWNrZXQAAEG6EwsIb2ZmbGluZQAAQcQTCwhvZmZsaW5lAABBzhMLB29ubGluZQAAQdYTCwpub3RfZm91bmQAAEHiEwsYZ2V0X2Zvcm1fcmVxdWVzdF9mYWlsZWQAAEH8EwsQd2VsY29tZV90b19jaGF0AABBjhQLCk5PVF9GT1VORAAAQZoUCwNpZAAAQZ4UCwdzeXN0ZW0AAEGmFAsNTUlTU0lOR19VU0VSAABBtBQLCk5PVF9GT1VORAAAQcAUC1NodHRwcyUzQSUyRiUyRmFwaS5oZWxwZGVzay5jb20lMkZ2MSUyRmNvbnRhY3RGb3JtcyUyRmZvcm1TZXR0aW5ncyUzRmxjTGljZW5zZUlEJTNEAABBlBULECUyNmxjR3JvdXBJRCUzRAAAQaYVCz9GYWlsZWQlMjB0byUyMGZldGNoJTIwSGVscERlc2slMjB0aWNrZXQlMjBmb3JtJTIwY29uZmlndXJhdGlvbgAAQeYVCwVhdG9iAA=='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
import {
    ft as e,
    au as t,
    S as r,
    ao as s,
    ce as a,
    Z as n,
    bK as i,
    aI as o,
    o as p,
    ae as u,
    T as l,
    L as c,
    N as d,
    dw as m,
    ba as g,
    fu as h,
    D as y,
    bG as f,
    Q as v,
    W as _,
    dj as b,
    a3 as I,
    aB as x,
    j as T,
    fv as w,
    b8 as k,
    u as M,
    fd as S,
    k as U
} from './3.CTouE0Tp.chunk.js';
import {
    q,
    u as j
} from './5.D_uKc_ak.chunk.js';
import {
    h as V,
    g as B,
    d as C,
    t as D,
    c as F
} from './6.D_CKFAbE.chunk.js';
const A = e => {
        let {
            id: t,
            authorId: r,
            timestamp: s,
            serverId: a = t,
            threadId: n = null,
            seen: i = !1
        } = e;
        return {
            id: t,
            serverId: a,
            thread: n,
            author: r,
            timestamp: s,
            seen: i
        };
    }, E = e => {
        let {
            id: t,
            customId: r,
            authorId: s,
            timestamp: a,
            threadId: n,
            properties: i,
            seen: o,
            serverId: p,
            type: u,
            text: l,
            urlDetails: c,
            ...d
        } = e;
        return d;
    }, O = e => q(lS(0, 0), e.properties) ? { reaction: t(lS(0, 1), e.properties) } : null, N = e => q(lS(0, 2), e.properties) ? { useFixedAnswers: t(lS(0, 3), e.properties) } : null, L = t => {
        if (t.urlDetails) {
            const {urlDetails: e} = t;
            return {
                ...A(t),
                type: 'url_preview',
                properties: {
                    serverType: t.type,
                    title: e.title,
                    description: e.description,
                    image: {
                        url: e.imageUrl,
                        link: e.url
                    }
                }
            };
        }
        if (e(t.text)) {
            return {
                ...A(t),
                type: 'emoji',
                properties: {
                    serverType: t.type,
                    text: t.text,
                    ...E(t)
                }
            };
        }
        return {
            ...A(t),
            type: 'message',
            properties: {
                serverType: t.type,
                text: t.text,
                ...E(t)
            }
        };
    }, z = e => {
        switch (e.type) {
        case lS(0, 4):
            return V(e.value) ? null : e;
        case lS(0, 5): {
                if (V(e.value))
                    return null;
                const r = B(e.value);
                if (!r)
                    return e;
                if (/chatbot\.com$/.test(r)) {
                    const r = C(D(F(e.value)));
                    if (r.p)
                        try {
                            const t = JSON.parse(window[lS(0, 176, true)](r.p));
                            if (t.url)
                                return {
                                    ...e,
                                    proxiedValue: t.url
                                };
                        } catch (t) {
                            return e;
                        }
                }
                return e;
            }
        default:
            return e;
        }
    }, G = e => {
        const t = {};
        return lS(0, 6) == typeof e.title && (t.title = e.title), lS(0, 7) == typeof e.subtitle && (t.subtitle = e.subtitle), e.image && (t.image = {
            ...e.image,
            link: e.image.url
        }), e.buttons && (t.buttons = e.buttons.map(z).filter(Boolean)), t;
    }, R = e => {
        switch (e.template) {
        case lS(0, 8): {
                const t = e.elements[0];
                return {
                    ...A(e),
                    type: 'message',
                    properties: {
                        serverType: e.type,
                        text: t.title,
                        quickReplies: t.buttons.map(e => ({
                            type: e.type,
                            text: e.text,
                            value: e.value,
                            postbackId: e.postbackId
                        })),
                        ...O(e),
                        ...N(e)
                    }
                };
            }
        case lS(0, 9): {
                const t = e.elements[0].image;
                return {
                    ...A(e),
                    type: 'sticker',
                    properties: {
                        serverType: e.type,
                        url: t.url,
                        name: t.name,
                        ...O(e),
                        ...N(e)
                    }
                };
            }
        default: {
                if (e.elements.length > 1) {
                    return {
                        ...A(e),
                        type: 'carousel',
                        properties: {
                            serverType: e.type,
                            cards: e.elements.map(G)
                        }
                    };
                }
                const t = e.elements[0];
                if (1 === Object.keys(t).length && t.image) {
                    const {image: r} = t;
                    return {
                        ...A(e),
                        type: 'image_preview',
                        properties: {
                            name: r.name,
                            serverType: e.type,
                            url: r.url,
                            ...r.alternativeText && { alternativeText: r.alternativeText },
                            ...O(e),
                            ...N(e)
                        }
                    };
                }
                return {
                    ...A(e),
                    type: 'rich_message',
                    properties: {
                        serverType: e.type,
                        card: G(t),
                        ...O(e),
                        ...N(e)
                    }
                };
            }
        }
    }, H = e => {
        const t = {
            ...A(e),
            type: 'system_message',
            properties: {
                serverType: e.type,
                systemMessageType: e.systemMessageType,
                defaultText: e.text
            }
        };
        return e.textVars && (t.properties.textVariables = e.textVars), t;
    }, P = {
        question: { type: 'text' },
        checkbox_for_email: {
            type: 'checkbox',
            meta: 'confirm_subscription'
        },
        header: { type: 'information' },
        skill: { type: 'group_select' }
    }, Q = e => e.map((e, t) => {
        const r = {};
        return q(lS(0, 10), e) && (r.label = e.label), q(lS(0, 11), e) && (r.checked = e.checked), r.value = String(t), q(lS(0, 12), e) && (r.value = String(e.skill_id)), q(lS(0, 13), e) && (r.ticketFormDisabled = Boolean(e.embedded_chat_hide_when_offline)), q(lS(0, 14), e) && (r.queueTemplate = e.queue_template), r;
    }), J = e => {
        let t = !1;
        const r = {
            fields: e.fields.sort((e, t) => e.order - t.order).map((e, r) => {
                const s = {};
                if (lS(0, 15) === e.type)
                    return t = !0, !1;
                e.id ? s.name = e.id : -1 === [
                    lS(0, 16),
                    lS(0, 17)
                ].indexOf(e.type) && (s.name = String(r)), q(lS(0, 18), e) && (s.value = e.value), q(lS(0, 19), e) && (s.label = e.label), q(lS(0, 20), e) && (s.required = e.required), lS(0, 21) === e.type && (s.commentLabel = e.options[0]), e.skills && e.skills.length > 0 ? s.options = Q(e.skills) : e.options && e.options.length > 0 && (e.options_data ? s.options = Q(e.options_data) : o(e.options[0]) ? s.options = e.options.map((e, t) => {
                    let {label: r} = e;
                    return {
                        label: r,
                        value: String(t)
                    };
                }) : s.options = e.options.map((e, t) => ({
                    label: e,
                    value: String(t)
                }))), e.serverType && (s.serverType = e.serverType);
                const {
                    type: a,
                    meta: n
                } = (e => ({
                    type: P[e] && P[e].type || e,
                    meta: P[e] && P[e].meta || !1
                }))(e.type);
                return s.type = a, n && (s.meta = n), s;
            }).filter(Boolean)
        };
        return e.id && (r.id = e.id), t && (r.facebookConnect = !0), r;
    }, K = e => ({
        ...e,
        fields: e.fields.map(e => {
            switch (e.type) {
            case lS(0, 22):
            case lS(0, 23):
                return {
                    ...e,
                    maxLength: 1024
                };
            case lS(0, 24):
            case lS(0, 25):
                return {
                    ...e,
                    required: !0
                };
            default:
                return e;
            }
        })
    }), W = e => {
        let {
            license: t,
            group: o,
            pageUrl: p,
            form: u,
            answers: l
        } = e;
        const c = ((e, t) => {
                const o = s(e => lS(0, 26) === e ? lS(0, 27) : e, e);
                return t.fields.map(e => {
                    if (lS(0, 28) === e.type)
                        return null;
                    const t = {
                        type: e.type,
                        text: lS(0, 29) != typeof document ? a(e.label) : e.label,
                        serverType: e.serverType
                    };
                    return (e.name in o || e.type in o) && (lS(0, 30) in e ? t.value = n(o[e.name]).map(t => r(e => e.value === t, e.options).label).join(lS(0, 31)) : e.name in o ? t.value = o[e.name] : t.value = o[e.type], t.value = i(t.value), t.text = t.text + lS(0, 32) + t.value), t;
                }).filter(Boolean);
            })(l, u), d = r(e => lS(0, 33) === e.type || lS(0, 34) === e.serverType, c), m = r(e => lS(0, 35) === e.type || lS(0, 36) === e.serverType, c);
        if (!d)
            throw new Error(lS(0, 37));
        if (!r(e => lS(0, 38) === e.type, c))
            throw new Error(lS(0, 39));
        const g = r(e => lS(0, 40) === e.type || lS(0, 41) === e.serverType, c), h = c.filter(e => {
                let {
                    type: t,
                    serverType: r
                } = e;
                return -1 === [
                    lS(0, 42),
                    lS(0, 43),
                    lS(0, 44)
                ].indexOf(r || t);
            }).map(e => {
                let {text: t} = e;
                return t;
            }).join(lS(0, 45));
        return {
            ...g && g.value && { subject: g.value },
            message: { text: h },
            requester: {
                email: d.value,
                ...m && m.value && { name: m.value }
            },
            integration: {
                type: 'livechat',
                ID: String(t),
                teamID: String(o),
                ...p && { referenceURL: p }
            }
        };
    }, Z = (e, t) => {
        const {
                requester: r,
                message: s,
                subject: a
            } = t, {text: n} = s, {
                name: i,
                email: o
            } = r;
        return {
            id: e,
            text: n,
            ...a && { subject: a },
            visitor: {
                name: i || null,
                email: o || null
            }
        };
    }, $ = {
        group_chooser: 'select',
        header: 'information',
        name: 'text',
        question: 'text',
        subject: 'text',
        checkbox_for_email: 'checkbox'
    }, X = (e, t) => e.getSessionUser().serverId === t.authorId, Y = (e, t) => X(e, t) ? e.getSessionUser().id : t.authorId, ee = (e, t) => {
        if (lS(0, 46) === t.type)
            return t.id;
        if (X(e, t))
            return lS(0, 47) in t && e.hasEvent(c, t.customId) ? t.customId : t.id;
        const r = e.getEventByServerId(c, t.id);
        return r ? r.id : t.id;
    }, te = e => null != e && e.groupIds ? e.groupIds[0] : null, re = (e, t) => {
        const r = e.getSessionUser().serverId, s = d(t.filter(e => e.present && e.id !== r));
        return s ? s.id : null;
    }, se = (e, t) => {
        let {
            chat: r,
            chat: {
                thread: s,
                users: a
            }
        } = t;
        return {
            id: r.id,
            active: s.active,
            agent: re(e, a),
            events: s.events.map(t => ce(e, {
                ...t,
                seen: !1
            })).filter(Boolean),
            group: te(r.access),
            thread: s.id,
            properties: ve(s)
        };
    }, ae = (e, t) => ({
        ...t,
        type: e,
        fields: t.fields.reduce((e, t) => {
            let {
                id: r,
                ...s
            } = t;
            const a = {
                ...s,
                type: $[s.type] || s.type,
                serverName: r,
                serverType: s.type
            };
            if (lS(0, 48) === a.type)
                a.value = a.label.replace(/<br(\s)?(\/)?>/gi, lS(0, 49));
            else if (lS(0, 50) === s.type)
                a.meta = lS(0, 51), a.label = lS(0, 52), a.options = [{
                        label: s.label,
                        checked: s.checked,
                        value: 'index0_0',
                        originalValue: '0'
                    }], s.checked && (a.defaultValue = [a.options[0].value]);
            else if (s.options) {
                const e = lS(0, 53) === s.type;
                e && (a.meta = lS(0, 54)), a.options = a.options.map((t, r) => {
                    const s = e ? t.groupId : t.id;
                    return {
                        ...p([
                            lS(0, 55),
                            lS(0, 56)
                        ], t),
                        value: lS(0, 57) + r + lS(0, 58) + s,
                        originalValue: String(s)
                    };
                });
            }
            return a.name = u(s.type, [
                lS(0, 59),
                lS(0, 60),
                lS(0, 61)
            ]) ? s.type : l() + lS(0, 62) + r, lS(0, 63) === s.type ? [].concat(e, [
                a,
                {
                    name: 'rateComment',
                    type: 'textarea',
                    label: a.commentLabel,
                    required: !1,
                    dependOn: 'rating'
                }
            ]) : [].concat(e, [a]);
        }, [])
    }), ne = e => K(ae(lS(0, 64), e)), ie = (e, t) => {
        const r = e.getSessionUser().serverId, {
                [r]: s,
                ...a
            } = t;
        return {
            sessionUserSeenUpTo: s,
            latestOtherUserSeenUpTo: d(g(a).filter(Boolean).sort())
        };
    }, oe = e => {
        const t = h(e => lS(0, 65) in e && lS(0, 66) === e.systemMessageType, e), r = h(e => lS(0, 67) in e && lS(0, 68) === e.systemMessageType, e), s = h(e => lS(0, 69) in e && lS(0, 70) === e.systemMessageType, e);
        return e.filter((e, a) => {
            const n = lS(0, 71) in e && [
                    lS(0, 72),
                    lS(0, 73),
                    lS(0, 74)
                ].includes(e.systemMessageType), i = lS(0, 75) === e.type && !e.fields.some(e => lS(0, 76) in e && Boolean(e.answer));
            return !n && !i || a === t || a === r || a === s && s > r;
        });
    }, pe = e => {
        if (!e)
            return !1;
        const {
            events: t,
            active: r
        } = e;
        if (r)
            return !0;
        if (!t.length)
            return !1;
        const s = t[0], a = d(t);
        return 2 !== t.length || lS(0, 77) !== s.type || lS(0, 78) !== a.type || lS(0, 79) !== a.systemMessageType || s.fields.some(e => lS(0, 80) in e && Boolean(e.answer));
    }, ue = (e, t) => {
        let {
            thread: r,
            users: s,
            eventsSeenUpToMap: a
        } = t;
        const n = e.getSessionUser().serverId, i = re(e, s), {
                sessionUserSeenUpTo: o,
                latestOtherUserSeenUpTo: p
            } = ie(e, a);
        if (!pe(r))
            return {
                thread: null,
                eventsSeenUpToMap: a
            };
        const {
            id: u,
            active: l,
            events: c,
            access: d
        } = r;
        return {
            thread: {
                id: u,
                active: l,
                agent: l ? i : null,
                events: (l ? c : oe(c)).map(t => {
                    const r = t.authorId === n ? p >= t.createdAt : o >= t.createdAt;
                    return ce(e, {
                        ...t,
                        seen: r
                    });
                }).filter(Boolean),
                group: te(d),
                properties: ve(r)
            },
            eventsSeenUpToMap: a
        };
    }, le = e => {
        let {
            properties: t,
            ...r
        } = e;
        if (lS(0, 81) in t) {
            const e = t.lc2;
            if (lS(0, 82) in e)
                return ((e, t) => {
                    const r = L({ ...e });
                    return r.properties = {
                        ...r.properties,
                        invitation: !0,
                        subtype: e.subtype,
                        id: t.greeting_id,
                        uniqueId: t.greeting_unique_id
                    }, r;
                })(r, e);
            if (e.welcome_message)
                return ((e, t) => {
                    var r;
                    return L({
                        ...e,
                        welcomeMessage: !0,
                        ...(null == (r = t.chats) ? void 0 : r.formatting) && { formatting: t.chats.formatting },
                        ...lS(0, 83) in t && { reaction: t.bb9e5b2f1ab480e4a715977b7b1b4279.message_reaction },
                        ...lS(0, 84) in t && { useFixedAnswers: t.aa8151b317737a3e79d8e3384e6082de.use_fixed_answers }
                    });
                })(r, t);
        }
        return ((e, t) => {
            var r;
            return L({
                ...e,
                ...t.url_details && { urlDetails: t.url_details },
                ...t.translation && { translation: xe(t.translation) },
                ...(null == (r = t.chats) ? void 0 : r.formatting) && { formatting: t.chats.formatting },
                ...lS(0, 85) in t && { reaction: t.bb9e5b2f1ab480e4a715977b7b1b4279.message_reaction },
                ...lS(0, 86) in t && { useFixedAnswers: t.aa8151b317737a3e79d8e3384e6082de.use_fixed_answers }
            });
        })(r, t);
    }, ce = (e, t) => {
        const r = {
            ...t,
            id: ee(e, t),
            serverId: t.id,
            authorId: Y(e, t),
            timestamp: new Date(t.createdAt).getTime()
        };
        switch (r.type) {
        case lS(0, 87):
            return me(r);
        case lS(0, 88):
            return ge(r);
        case lS(0, 89):
            return le(r);
        case lS(0, 90):
            return (e => {
                if (lS(0, 91) in e.properties && lS(0, 92) in e.properties.lc2) {
                    const t = R(e);
                    return t.properties = {
                        ...t.properties,
                        invitation: !0,
                        subtype: e.subtype,
                        id: e.properties.lc2.greeting_id,
                        uniqueId: e.properties.lc2.greeting_unique_id,
                        ...lS(0, 93) in e.properties && { reaction: e.properties.bb9e5b2f1ab480e4a715977b7b1b4279.message_reaction }
                    }, t;
                }
                const t = R(e);
                return lS(0, 94) in e.properties && (t.properties = {
                    ...t.properties,
                    useFixedAnswers: e.properties.aa8151b317737a3e79d8e3384e6082de.use_fixed_answers
                }), t;
            })(r);
        case lS(0, 95):
            return (e => {
                if (e.thumbnails) {
                    const {thumbnails: t} = e, r = {
                            ...A(e),
                            type: 'image_preview',
                            properties: {
                                name: e.name,
                                serverType: e.type,
                                ...t.default,
                                link: e.url,
                                srcSet: t.default.url + lS(0, 96) + t.high.url + lS(0, 97),
                                ...O(e),
                                ...N(e)
                            }
                        };
                    return e.alternativeText && (r.properties.alternativeText = e.alternativeText), r;
                }
                return {
                    ...A(e),
                    type: 'message',
                    properties: {
                        serverType: e.type,
                        text: e.name,
                        url: e.url,
                        ...e.alternativeText && { alternativeText: e.alternativeText },
                        ...O(e),
                        ...N(e)
                    }
                };
            })(r);
        case lS(0, 98):
            return he(r);
        case lS(0, 99):
            return de(r);
        default:
            return null;
        }
    }, de = e => {
        const {
            properties: t,
            customId: r
        } = e;
        return {
            ...A(e),
            type: 'custom',
            properties: {
                ...t,
                customId: r
            }
        };
    }, me = e => {
        var t;
        const r = {
            ...e,
            fields: e.fields.map(e => e.id ? e : {
                ...e,
                id: l()
            })
        };
        return {
            ...A(r),
            type: 'form',
            properties: {
                answered: !1,
                formType: (null == (t = r.properties.lc2) ? void 0 : t.form_type) || null,
                fields: ae(lS(0, 100), r).fields,
                formId: r.formId.replace(/_[0-9]+/, lS(0, 101))
            }
        };
    }, ge = e => {
        var t;
        return {
            ...A(e),
            type: 'form',
            properties: {
                answered: !0,
                formId: e.formId,
                formType: (null == (t = e.properties.lc2) ? void 0 : t.form_type) || null,
                fields: e.fields.filter(e => lS(0, 102) in e || lS(0, 103) in e && 0 !== e.answers.length).map(e => {
                    if (lS(0, 104) == typeof e.answer)
                        return e;
                    if (lS(0, 105) in e) {
                        const {
                            answers: t,
                            ...r
                        } = e;
                        return {
                            ...r,
                            answer: t.map(e => {
                                let {label: t} = e;
                                return t;
                            })
                        };
                    }
                    return {
                        ...e,
                        answer: e.answer.label
                    };
                })
            }
        };
    }, he = e => {
        switch (e.systemMessageType) {
        case lS(0, 106):
        case lS(0, 107):
            return H({
                ...e,
                systemMessageType: 'client_inactive'
            });
        case lS(0, 108):
            return H({
                ...e,
                systemMessageType: 'operator_closed_session',
                textVars: { operator: e.textVars.agent }
            });
        case lS(0, 109):
            return H({
                ...e,
                systemMessageType: 'chat_closed_by_customer'
            });
        case lS(0, 110):
        case lS(0, 111):
        case lS(0, 112):
        case lS(0, 113):
        case lS(0, 114):
        case lS(0, 115):
        case lS(0, 116):
        case lS(0, 117):
            return H({
                ...e,
                systemMessageType: 'chat_session_closed'
            });
        case lS(0, 118):
            return H({
                ...e,
                systemMessageType: 'user_transfer',
                textVars: { operator: e.textVars.agent }
            });
        case lS(0, 119):
        case lS(0, 120):
        case lS(0, 121):
        case lS(0, 122):
        case lS(0, 123):
            return H({
                ...e,
                systemMessageType: 'user_transfer',
                textVars: { operator: e.textVars.agent_added }
            });
        case lS(0, 124):
            return H({
                ...e,
                systemMessageType: 'user_transfer',
                textVars: { operator: e.textVars.targets }
            });
        case lS(0, 125):
        case lS(0, 126):
            return H({
                ...e,
                systemMessageType: 'operator_joined_conference',
                textVars: { operator: e.textVars.agent }
            });
        case lS(0, 127):
        case lS(0, 128):
            return H({
                ...e,
                systemMessageType: 'operator_left_conference',
                textVars: { operator: e.textVars.agent }
            });
        case lS(0, 129):
            return H({
                ...e,
                systemMessageType: lS(0, 130) + e.textVars.score
            });
        case lS(0, 131):
            return H({
                ...e,
                systemMessageType: 'rate_me_comment_added',
                textVars: { comment: e.textVars.comment }
            });
        case lS(0, 132):
            return H({
                ...e,
                systemMessageType: 'rate_me_cancel'
            });
        case lS(0, 133): {
                const {
                    systemMessageType: t,
                    ...r
                } = e;
                return H(r);
            }
        default:
            return null;
        }
    }, ye = e => {
        const {
            score: t,
            comment: r
        } = e;
        return {
            ...lS(0, 134) == typeof t && { rate: 1 === t ? lS(0, 135) : lS(0, 136) },
            ...lS(0, 137) == typeof r && { rateComment: r }
        };
    }, fe = e => ({
        position: e.position,
        waitingTime: e.waitTime
    }), ve = e => ({
        ...lS(0, 138) in e.properties && ye(e.properties.rating),
        ...e.queue && { queue: fe(e.queue) },
        timestamp: new Date(e.createdAt).getTime()
    }), _e = (e, t) => {
        const r = {
            event: ce(e, t.event),
            author: {
                ...t.agent,
                type: 'agent'
            }
        };
        var s;
        return r.event.properties = {
            ...r.event.properties,
            invitation: !0,
            id: t.id,
            addon: t.addon,
            uniqueId: t.uniqueId,
            accepted: t.accepted,
            type: (s = r.event, s.properties.quickReplies ? lS(0, 139) : lS(0, 140) === s.type ? lS(0, 141) : lS(0, 142)),
            subtype: t.subtype,
            receivedFirstTime: t.displayedFirstTime,
            isExitIntent: t.isExitIntent
        }, r;
    }, be = (e, t) => {
        const {
            type: r,
            id: s
        } = t;
        switch (r) {
        case lS(0, 143): {
                const {
                    formId: e,
                    ...r
                } = t;
                return {
                    customId: r.customId,
                    formId: e,
                    ...r
                };
            }
        case lS(0, 144):
        case lS(0, 145):
        case lS(0, 146):
        case lS(0, 147): {
                const {
                        text: r,
                        triggeredBy: a
                    } = t.properties, n = {
                        type: 'message',
                        customId: s,
                        text: r
                    };
                (() => {
                    const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    const t = e.getEvent(c, a.event);
                                    t && t.thread && t.serverId ? n.postback = {
                                        id: a.button.postbackId,
                                        type: 'message',
                                        value: a.button.value,
                                        eventId: t.serverId,
                                        threadId: t.thread
                                    } : n.properties = { c5e4f61e1a6c3b1521b541bc5c5a2ac5: { postback_id: a.button.postbackId } };
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance0.exports;
                    return __exports.data(a ? 1 : 0);
                })();
                return n;
            }
        case lS(0, 148): {
                const {
                    recipients: e,
                    text: r
                } = t.properties;
                return {
                    type: 'system_message',
                    customId: s,
                    text: r,
                    recipients: e,
                    systemMessageType: 'custom'
                };
            }
        default:
            return;
        }
    }, Ie = (e, t) => {
        if (t.id === e.getSessionUser().serverId || lS(0, 149) === t.type) {
            const e = {
                id: t.id,
                type: 'customer'
            };
            return t.name && lS(0, 150) !== t.name && (e.name = t.name), t.email && (e.email = t.email), t.sessionFields && (e.properties = t.sessionFields), e;
        }
        return {
            id: t.id,
            type: t.type,
            name: t.name,
            avatar: t.avatar ? lS(0, 151) + m(t.avatar) : lS(0, 152),
            properties: {
                jobTitle: t.jobTitle,
                isBot: t.isBot || !1
            }
        };
    }, xe = e => ({
        sourceLangCode: e.source_lang_code,
        targetLangCode: e.target_lang_code,
        targetMessage: e.target_message
    }), Te = (e, t) => {
        const r = S(e, c);
        return r ? {
            ...t,
            events: t.events.map(e => e.properties.welcomeMessage || e.properties.invitation ? {
                ...e,
                id: r.id
            } : e)
        } : t;
    }, we = e => ({
        ...e,
        properties: {
            ...e.properties,
            accepted: !0
        }
    }), ke = (e, t) => {
        let {sdk: r} = e;
        const {
            uniqueId: s,
            id: a
        } = t.event.properties;
        return r.acceptGreeting({
            greetingId: a,
            uniqueId: s
        }).then(() => we(t), e => {
            if (lS(0, 153) === e.code)
                return we(t);
            throw e;
        });
    }, Me = function (e, t) {
        var s;
        let {
                sdk: a,
                store: n
            } = e, {
                group: i,
                customerStartingEvent: o,
                agentFakeEvent: p
            } = void 0 === t ? {} : t;
        const u = {
            chat: {
                thread: { properties: {} },
                properties: {}
            }
        };
        y(n) && (u.continuous = !0, u.chat.properties.routing = { email_follow_up: !0 }), lS(0, 154) == typeof i && (u.chat.access = { groupIds: [i] });
        let l = {};
        (() => {
            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var d, m;
                            l = {
                                ...f(Boolean, {
                                    name: null == (d = r(e => lS(0, 156) === e.type, o.fields)) ? void 0 : d.answer,
                                    email: null == (m = r(e => lS(0, 157) === e.type, o.fields)) ? void 0 : m.answer
                                })
                            };
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance1.exports;
            return __exports.data(lS(0, 155) === (null == o ? void 0 : o.type) ? 1 : 0);
        })();
        const g = n.getSessionUser();
        g.name && lS(0, 158) !== g.name || (l.name = n.localize(lS(0, 159)));
        const h = v(l) ? Promise.resolve() : a.updateCustomer(l).catch(e => _(lS(0, 160), e));
        (() => {
            const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        u.active = !1, u.chat.thread.properties.routing = { offline_message: !0 }, u.chat.thread.events = [be(n, o)];
                    },
                    impFunc2: () => {
                        {
                            const e = n.getEvents(c).filter(e => e.type === b && null === e.serverId);
                            (() => {
                                const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                const e = be(n, o);
                                                j(u.chat.thread.events) ? u.chat.thread.events.push(e) : u.chat.thread.events = [e];
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance3.exports;
                                return __exports.data((v(e) || (u.chat.thread.events = e.map(e => be(n, e))), o) ? 1 : 0);
                            })();
                            p && (u.chat.thread.properties = (e => ({
                                lc2: {
                                    welcome_author_id: e.author,
                                    ...e.properties.invitation ? {
                                        greeting_id: e.properties.id,
                                        greeting_unique_id: e.properties.uniqueId
                                    } : { welcome_text: e.properties.originalText }
                                }
                            }))(p));
                        }
                    }
                }
            });
            const __exports = __ifInstance2.exports;
            return __exports.data(lS(0, 161) === (null == o || null == (s = o.properties.lc2) ? void 0 : s.form_type) ? 1 : 0);
        })();
        const I = n.getChat(c).serverId;
        return I ? h.then(() => a.resumeChat({
            ...u,
            chat: {
                ...u.chat,
                id: I
            }
        })).then(e => Te(n, se(n, e))) : h.then(() => a.startChat(u)).then(e => Te(n, se(n, e)));
    }, Se = e => {
        let {sdk: t} = e;
        return t.listChats().then(e => {
            let {chatsSummary: t} = e;
            const r = d(t);
            return r ? (e => {
                let {
                    id: t,
                    active: r,
                    access: s,
                    lastThreadId: a
                } = e;
                return {
                    id: t,
                    active: r,
                    lastThreadId: a,
                    group: te(s)
                };
            })(r) : null;
        });
    }, Ue = (e, t) => {
        let {sdk: r} = e, {groupIds: s} = t;
        return r.listGroupStatuses({ groupIds: s }).then(e => s.reduce((t, r) => {
            const s = e[r];
            return t[r] = s ? (e => lS(0, 162) === e ? lS(0, 163) : lS(0, 164))(s) : lS(0, 165), t;
        }, {}));
    }, qe = (e, t) => {
        let {groupId: r} = t;
        return Ue(e, { groupIds: [r] }).then(e => {
            let {[r]: t} = e;
            return t;
        });
    }, je = (e, t) => {
        let {store: r} = e;
        return U({
            organizationId: t.organizationId,
            licenseId: r.getApplicationState().license,
            groupId: t.groupId,
            region: t.region,
            version: t.localizationVersion,
            language: t.language
        });
    }, Ve = function (e, t, r) {
        let {sdk: s} = e;
        return void 0 === r && (r = ae), s.getForm(t).then(e => e.enabled ? {
            enabled: !0,
            form: r(t.type, e.form)
        } : e).catch(e => (_(lS(0, 166), e), { enabled: !1 }));
    }, Be = e => {
        let {
            sdk: t,
            store: r
        } = e;
        return t.getPredictedAgent().then(e => {
            let {
                agent: t,
                queue: s
            } = e;
            const a = r.localize(lS(0, 167));
            return {
                agent: t,
                groupHasQueue: s,
                message: L((n = {
                    id: I(r.getIndexedEvents(c)),
                    type: 'message',
                    authorId: t.id,
                    text: x(r, a, { agent: t.name }),
                    originalText: a,
                    welcomeMessage: !0
                }, {
                    ...n,
                    serverId: null,
                    timestamp: Date.now(),
                    seen: !0,
                    properties: n.properties || {}
                }))
            };
            var n;
        });
    }, Ce = (e, t) => Ve(e, {
        groupId: t,
        type: 'postchat'
    }), De = (e, t) => Ve(e, {
        groupId: t,
        type: 'ticket'
    }, (e, t) => ne(t)), Fe = (e, t) => {
        let {store: r} = e, {groupId: s} = t;
        const {
            license: a,
            region: n,
            organizationId: i
        } = r.getApplicationState();
        return T({
            organizationId: i,
            licenseId: a,
            groupId: s,
            region: n,
            version: 'tfm'
        }).then(e => e.__unsafeProperties.ticketFormMode || w(e));
    }, Ae = (e, t) => {
        let {sdk: r} = e, {chatId: s} = t;
        return r.getChat({ chatId: s }).then(e => {
            let {
                users: t,
                eventsSeenUpToMap: r
            } = e;
            return {
                users: t,
                eventsSeenUpToMap: r
            };
        });
    }, Ee = (e, t) => {
        let {
                sdk: r,
                store: s
            } = e, {
                chatId: a,
                threadId: n
            } = t;
        return r.getChat({
            chatId: a,
            threadId: n
        }).then(e => ue(s, {
            thread: e.thread,
            users: e.users,
            eventsSeenUpToMap: e.eventsSeenUpToMap
        }));
    }, Oe = (e, t) => t.next().then(t => {
        let {
            value: r,
            done: s
        } = t;
        return r ? {
            value: r.threads.map(t => ((e, t) => {
                let {thread: r} = t;
                const {
                        id: s,
                        active: a,
                        events: n,
                        access: i
                    } = r, {eventsSeenUpToMap: o} = e.getChat(c).properties, p = e.getSessionUser().serverId, {
                        sessionUserSeenUpTo: u,
                        latestOtherUserSeenUpTo: l
                    } = ie(e, o);
                return pe(r) ? {
                    id: s,
                    active: a,
                    events: oe(n).map(t => {
                        const r = t.authorId === p ? l >= t.createdAt : u >= t.createdAt;
                        return ce(e, {
                            ...t,
                            seen: r
                        });
                    }).filter(Boolean),
                    group: te(i),
                    properties: ve(r)
                } : null;
            })(e, { thread: t })),
            done: s
        } : {
            value: r,
            done: s
        };
    }).catch(e => {
        if (lS(0, 168) === e.code)
            return {
                value: [],
                done: !0
            };
        throw e;
    }), Ne = (e, t) => {
        let {
            sdk: r,
            store: s
        } = e;
        const a = r.getChatHistory({ chatId: t });
        return { next: () => Oe(s, a) };
    }, Le = (e, t) => {
        let {
            sdk: r,
            store: s
        } = e;
        const a = r.getChatHistory({ chatId: t });
        return Promise.all([
            a.next(),
            Ae({
                sdk: r,
                store: s
            }, { chatId: t })
        ]).then(e => {
            let [{
                    value: t,
                    done: r
                }, {
                    users: n,
                    eventsSeenUpToMap: i
                }] = e;
            const o = k(lS(0, 169), n);
            if (t && t.threads.some(e => e.events.some(e => lS(0, 170) !== e.authorId && !(e.authorId in o)))) {
                const e = new Error();
                throw e.code = lS(0, 171), e;
            }
            return {
                threads: t && t.threads.map(e => ue(s, {
                    thread: e,
                    users: n,
                    eventsSeenUpToMap: i
                }).thread).filter(Boolean),
                eventsSeenUpToMap: i,
                hasMore: !r,
                iterator: { next: () => Oe(s, a) }
            };
        }).catch(e => {
            if (lS(0, 172) === e.code)
                return {
                    threads: [],
                    hasMore: !1
                };
            throw e;
        });
    }, ze = async (e, t) => {
        const r = await M(lS(0, 173) + e + lS(0, 174) + t);
        if (!r.ok)
            throw new Error(lS(0, 175));
        return r.json();
    };
export {
    Ue as A,
    be as B,
    ne as a,
    ye as b,
    fe as c,
    xe as d,
    _e as e,
    ze as f,
    se as g,
    W as h,
    qe as i,
    De as j,
    Fe as k,
    Se as l,
    ce as m,
    Me as n,
    Be as o,
    ae as p,
    Le as q,
    K as r,
    Ne as s,
    J as t,
    Ce as u,
    ke as v,
    Ie as w,
    je as x,
    Ee as y,
    Z as z
};</script>
</body>
</html>

<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>67043797.scripts.html</title>
</head>
<body>
<script>!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",b,c.prototype.close)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),"object"==typeof c&&c);e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){"use strict";function b(){a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(){var d,e,f=a(this);if(!f.is(".disabled, :disabled"))return d=c(f),e=d.hasClass("open"),b(),e||d.toggleClass("open"),f.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){"use strict";function b(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var b;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(b=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,b?this.process(b):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.next();c.length||(c=a(this.$menu.find("li")[0])),c.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();b.length||(b=this.$menu.find("li").last()),b.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var b=a(this);b.data("typeahead")||b.typeahead(b.data())})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&h>=d?"top":!1,this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),!function(a){var b=function(c,d,e){e&&(e.stopPropagation(),e.preventDefault()),this.$element=a(c),this.$newElement=null,this.button=null,this.options=a.extend({},a.fn.selectpicker.defaults,this.$element.data(),"object"==typeof d&&d),null==this.options.title&&(this.options.title=this.$element.attr("title")),this.val=b.prototype.val,this.render=b.prototype.render,this.refresh=b.prototype.refresh,this.selectAll=b.prototype.selectAll,this.deselectAll=b.prototype.deselectAll,this.init()};b.prototype={constructor:b,init:function(){this.options.container?this.$element.css("visibility","hidden"):this.$element.hide(),this.multiple=this.$element.prop("multiple");var b=void 0!==this.$element.attr("class")?this.$element.attr("class").split(/\s+/):"",c=this.$element.attr("id");this.$element.after(this.createView()),this.$newElement=this.$element.next(".bootstrap-select"),this.options.container&&this.selectPosition(),this.button=this.$newElement.find("> button"),void 0!==c&&(this.button.attr("id",c),a('label[for="'+c+'"]').click(a.proxy(this,function(){this.$newElement.find("button#"+c).focus()})));for(var d=0;d<b.length;d++)"selectpicker"!=b[d]&&this.$newElement.addClass(b[d]);this.multiple&&this.$newElement.addClass("show-tick"),this.button.addClass(this.options.style),this.checkDisabled(),this.checkTabIndex(),this.clickListener(),this.$element.bind("DOMNodeInserted DOMNodeRemoved",a.proxy(this.refresh,this)),this.render(),this.setSize()},createDropdown:function(){var b="<div class='btn-group bootstrap-select'><button type='button' class='btn dropdown-toggle clearfix' data-toggle='dropdown'><span class='filter-option pull-left'></span>&nbsp;<span class='caret'></span></button><ul class='dropdown-menu' role='menu'></ul></div>";return a(b)},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi(),$li=this.createLi(),this.$newElement.find("ul").append($li)},destroyLi:function(){this.$newElement.find("li").remove()},createLi:function(){var b=this,c=[],d=[],e="";if(this.$element.find("option").each(function(){c.push(a(this).text())}),this.$element.find("option").each(function(){var c=void 0!==a(this).attr("class")?a(this).attr("class"):"",e=a(this).text(),f=void 0!==a(this).data("subtext")?'<small class="muted">'+a(this).data("subtext")+"</small>":"";if(e+=f,a(this).parent().is("optgroup")&&1!=a(this).data("divider"))if(0==a(this).index()){var g=a(this).parent().attr("label"),h=void 0!==a(this).parent().data("subtext")?'<small class="muted">'+a(this).parent().data("subtext")+"</small>":"";g+=h,d.push(0!=a(this)[0].index?'<div class="div-contain"><div class="divider"></div></div><dt>'+g+"</dt>"+b.createA(e,"opt "+c):"<dt>"+g+"</dt>"+b.createA(e,"opt "+c))}else d.push(b.createA(e,"opt "+c));else d.push(1==a(this).data("divider")?'<div class="div-contain"><div class="divider"></div></div>':b.createA(e,c))}),c.length>0)for(var f=0;f<c.length;f++){{this.$element.find("option").eq(f)}e+="<li rel="+f+">"+d[f]+"</li>"}return 0!=this.$element.find("option:selected").length||b.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(e)},createA:function(a,b){return'<a tabindex="-1" href="#" class="'+b+'"><span class="pull-left">'+a+'</span><i class="icon-ok check-mark"></i></a>'},render:function(){var b=this;this.$element.find("option").each(function(c){b.setDisabled(c,a(this).is(":disabled")||a(this).parent().is(":disabled")),b.setSelected(c,a(this).is(":selected"))});var c=this.$element.find("option:selected").map(function(){return void 0!=a(this).attr("title")?a(this).attr("title"):a(this).text()}).toArray(),d=c.join(", ");if(b.multiple&&b.options.selectedTextFormat.indexOf("count")>-1){var e=b.options.selectedTextFormat.split(">");
(e.length>1&&c.length>e[1]||1==e.length&&c.length>=2)&&(d=c.length+" of "+this.$element.find("option").length+" selected")}d||(d=void 0!=b.options.title?b.options.title:b.options.noneSelectedText),b.$newElement.find(".filter-option").html(d)},setSize:function(){function b(){var b=g-a(window).scrollTop(),f=window.innerHeight,j=i+parseInt(d.css("margin-top"))+parseInt(d.css("margin-bottom"))+2,k=f-b-h-j;menuHeight=k,c.$newElement.hasClass("dropup")&&(menuHeight=b-j),minHeight=d.find("li").length+d.find("dt").length>3?3*e+j-2:0,d.css({"max-height":menuHeight+"px","overflow-y":"auto","min-height":minHeight+"px"})}var c=this,d=this.$newElement.find(".dropdown-menu"),e=(d.find("li > a"),this.$newElement.addClass("open").find(".dropdown-menu li > a").outerHeight());this.$newElement.removeClass("open");var f=d.find("li .divider").outerHeight(!0),g=this.$newElement.offset().top,h=this.$newElement.outerHeight(),i=parseInt(d.css("padding-top"))+parseInt(d.css("padding-bottom"))+parseInt(d.css("border-top-width"))+parseInt(d.css("border-bottom-width"));if("auto"==this.options.size)b(),a(window).resize(b),a(window).scroll(b);else if(this.options.size&&"auto"!=this.options.size&&d.find("li").length>this.options.size){var j=d.find("li > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),k=d.find("li").slice(0,j+1).find(".div-contain").length;menuHeight=e*this.options.size+k*f+i,d.css({"max-height":menuHeight+"px","overflow-y":"auto"})}if("auto"==this.options.width){this.$newElement.find(".dropdown-menu").css("min-width","0");var l=this.$newElement.find(".dropdown-menu").css("width");this.$newElement.css("width",l),this.options.container&&this.$element.css("width",l)}else this.options.width&&"auto"!=this.options.width&&(this.$newElement.css("width",this.options.width),this.options.container&&this.$element.css("width",this.options.width))},selectPosition:function(){var a=this.$element.offset().top,b=this.$element.offset().left;this.$newElement.appendTo(this.options.container),this.$newElement.css({position:"absolute",top:a+"px",left:b+"px"})},refresh:function(){this.reloadLi(),this.render(),this.setSize(),this.checkDisabled(),this.options.container&&this.selectPosition()},setSelected:function(a,b){b?this.$newElement.find("li").eq(a).addClass("selected"):this.$newElement.find("li").eq(a).removeClass("selected")},setDisabled:function(a,b){b?this.$newElement.find("li").eq(a).addClass("disabled"):this.$newElement.find("li").eq(a).removeClass("disabled")},checkDisabled:function(){this.$element.is(":disabled")?(this.button.addClass("disabled"),this.button.click(function(a){a.preventDefault()}),this.button.on("focusin",function(){a(this).blur()})):!this.$element.is(":disabled")&&this.button.hasClass("disabled")&&(this.button.removeClass("disabled"),this.button.click(function(){return!0}))},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var a=this.$element.attr("tabindex");this.button.attr("tabindex",a)}},clickListener:function(){var b=this;a("body").on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click","li a",function(c){var d=a(this).parent().index(),e=a(this).parent(),f=e.parents(".bootstrap-select"),g=b.$element.val();if(b.multiple&&c.stopPropagation(),c.preventDefault(),b.$element.not(":disabled")&&!a(this).parent().hasClass("disabled")){if(b.multiple){var h=b.$element.find("option").eq(d).prop("selected");h?b.$element.find("option").eq(d).removeAttr("selected"):b.$element.find("option").eq(d).prop("selected",!0).attr("selected","selected")}else b.$element.find("option").removeAttr("selected"),b.$element.find("option").eq(d).prop("selected",!0).attr("selected","selected");f.find(".filter-option").html(e.text()),f.find("button").focus(),g!=b.$element.val()&&b.$element.trigger("change"),b.render()}}),this.$newElement.on("click","li.disabled a, li dt, li .div-contain",function(b){b.preventDefault(),b.stopPropagation(),$select=a(this).parent().parents(".bootstrap-select"),$select.find("button").focus()}),this.$element.on("change",function(){b.render()})},val:function(a){return void 0!=a?(this.$element.val(a),this.$element.trigger("change"),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected"),this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected"),this.render()}},a.fn.selectpicker=function(c,d){var e,f=arguments,g=this.each(function(){if(a(this).is("select")){var g=a(this),h=g.data("selectpicker"),i="object"==typeof c&&c;if(h){if(i)for(var j in i)h.options[j]=i[j]}else g.data("selectpicker",h=new b(this,i,d));"string"==typeof c&&(property=c,h[property]instanceof Function?([].shift.apply(f),e=h[property].apply(h,f)):e=h.options[property])}});return void 0!=e?e:g},a.fn.selectpicker.defaults={style:null,size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",width:null,container:!1}}(window.jQuery),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],c instanceof Array&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));e.tweens instanceof Array&&this.add(e.tweens,0,e.align,e.stagger)},e=[],f=function(a){var b,c={};for(b in a)c[b]=a[b];return c},g=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||e)},h=e.slice,i=d.prototype=new b;return d.version="1.10.2",i.constructor=d,i.kill()._gc=!1,i.to=function(a,b,d,e){return b?this.add(new c(a,b,d),e):this.set(a,d,e)},i.from=function(a,b,d,e){return this.add(c.from(a,b,d),e)},i.fromTo=function(a,b,d,e,f){return b?this.add(c.fromTo(a,b,d,e),f):this.set(a,e,f)},i.staggerTo=function(a,b,e,g,i,j,k,l){var m,n=new d({onComplete:j,onCompleteParams:k,onCompleteScope:l});for("string"==typeof a&&(a=c.selector(a)||a),!(a instanceof Array)&&a.length&&a!==window&&a[0]&&(a[0]===window||a[0].nodeType&&a[0].style&&!a.nodeType)&&(a=h.call(a,0)),g=g||0,m=0;m<a.length;m++)e.startAt&&(e.startAt=f(e.startAt)),n.to(a[m],b,f(e),m*g);return this.add(n,i)},i.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},i.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},i.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},i.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},i.add=function(e,f,g,h){var i,j,k,l,m;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array){for(g=g||"normal",h=h||0,i=f,j=e.length,k=0;j>k;k++)(l=e[k])instanceof Array&&(l=new d({tweens:l})),this.add(l,i),"string"!=typeof l&&"function"!=typeof l&&("sequence"===g?i=l._startTime+l.totalDuration()/l._timeScale:"start"===g&&(l._startTime-=l.delay())),i+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is neither a tween, timeline, function, nor a string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(m=this;m._gc&&m._timeline;)m._timeline.smoothChildTiming?m.totalTime(m._totalTime,!0):m._enabled(!0,!1),m=m._timeline;return this},i.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},i._remove=function(a,c){return b.prototype._remove.call(this,a,c),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},i.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},i.insert=i.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},i.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},i.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},i.addPause=function(a,b,c,d){return this.call(g,["{self}",b,c,d],this,a)},i.removeLabel=function(a){return delete this._labels[a],this},i.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},i._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e instanceof Array)for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},i.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(a,b){return this.play(a,b)},i.gotoAndStop=function(a,b){return this.pause(a,b)},i.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j=this._dirty?this.totalDuration():this._totalDuration,k=this._time,l=this._startTime,m=this._timeScale,n=this._paused;if(a>=j?(this._totalTime=this._time=j,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===this._duration&&(0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,a=j+1e-6):1e-7>a?(this._totalTime=this._time=0,(0!==k||0===this._duration&&this._rawPrevTime>0)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==k&&this._first||c||i){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==k&&a>0&&(this._active=!0),0===k&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=k)for(d=this._first;d&&(g=d._next,!this._paused||n);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||n);)(d._active||d._startTime<=k&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._gc||(l===this._startTime||m!==this._timeScale)&&(0===this._time||j>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))}},i._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},i.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},i.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},i._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},i.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},i._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},i.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},i._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},i.progress=function(a){return arguments.length?this.totalTime(this.duration()*a,!1):this._time/this.duration()},i.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},i.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},i.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),window._gsDefine&&window._gsQueue.pop()(),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=[],f=new c(null,null,1,0),g=function(a){for(;a;){if(a._paused)return!0;a=a._timeline}return!1},h=d.prototype=new a;return h.constructor=d,h.kill()._gc=!1,d.version="1.10.2",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},h.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},h.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},h.tweenTo=function(a,c){c=c||{};var d,g,h={ease:f,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(d in c)h[d]=c[d];return h.time=this._parseTimeOrLabel(a),g=new b(this,Math.abs(Number(h.time)-this._time)/this._timeScale||.001,h),h.onStart=function(){g.target.paused(!0),g.vars.time!==g.target.time()&&g.duration(Math.abs(g.vars.time-g.target.time())/g.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||g,c.onStartParams||e)},g},h.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},h.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j,k=this._dirty?this.totalDuration():this._totalDuration,l=this._duration,m=this._time,n=this._totalTime,o=this._startTime,p=this._timeScale,q=this._rawPrevTime,r=this._paused,s=this._cycle;if(a>=k?(this._locked||(this._totalTime=k,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===l&&(0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=l,a=l+1e-6)):1e-7>a?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===l&&this._rawPrevTime>0&&!this._locked)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===l&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):(this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(j=l+this._repeatDelay,this._cycle=this._totalTime/j>>0,0!==this._cycle&&this._cycle===this._totalTime/j&&this._cycle--,this._time=this._totalTime-this._cycle*j,this._yoyo&&0!==(1&this._cycle)&&(this._time=l-this._time),this._time>l?(this._time=l,a=l+1e-6):this._time<0?this._time=a=0:a=this._time))),this._cycle!==s&&!this._locked){var t=this._yoyo&&0!==(1&s),u=t===(this._yoyo&&0!==(1&this._cycle)),v=this._totalTime,w=this._cycle,x=this._rawPrevTime,y=this._time;if(this._totalTime=s*l,this._cycle<s?t=!t:this._totalTime+=l,this._time=m,this._rawPrevTime=0===l?q-1e-5:q,this._cycle=s,this._locked=!0,m=t?0:l,this.render(m,b,0===l),b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||e),u&&(m=t?l+1e-6:-1e-6,this.render(m,!0,!1)),this._locked=!1,this._paused&&!r)return;this._time=y,this._totalTime=v,this._cycle=w,this._rawPrevTime=x}if(!(this._time!==m&&this._first||c||i))return void(n!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&0!==this._totalTime&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=m)for(d=this._first;d&&(g=d._next,!this._paused||r);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||r);)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._locked||this._gc||(o===this._startTime||p!==this._timeScale)&&(0===this._time||k>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))},h.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],h=this.getChildren(a,b,c),i=0,j=h.length;for(d=0;j>d;d++)e=h[d],e._paused||e._timeline._time>=e._startTime&&e._timeline._time<e._startTime+e._totalDuration/e._timeScale&&(g(e._timeline)||(f[i++]=e));return f},h.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},h.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},h.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},h.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},h.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},h.totalDuration=function(b){return arguments.length?-1===this._repeat?this:this.duration((b-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},h.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},h.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},h.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},h.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],c instanceof Array&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));e.tweens instanceof Array&&this.add(e.tweens,0,e.align,e.stagger)},e=[],f=function(a){var b,c={};for(b in a)c[b]=a[b];return c},g=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||e)},h=e.slice,i=d.prototype=new b;return d.version="1.10.2",i.constructor=d,i.kill()._gc=!1,i.to=function(a,b,d,e){return b?this.add(new c(a,b,d),e):this.set(a,d,e)},i.from=function(a,b,d,e){return this.add(c.from(a,b,d),e)},i.fromTo=function(a,b,d,e,f){return b?this.add(c.fromTo(a,b,d,e),f):this.set(a,e,f)},i.staggerTo=function(a,b,e,g,i,j,k,l){var m,n=new d({onComplete:j,onCompleteParams:k,onCompleteScope:l});for("string"==typeof a&&(a=c.selector(a)||a),!(a instanceof Array)&&a.length&&a!==window&&a[0]&&(a[0]===window||a[0].nodeType&&a[0].style&&!a.nodeType)&&(a=h.call(a,0)),g=g||0,m=0;m<a.length;m++)e.startAt&&(e.startAt=f(e.startAt)),n.to(a[m],b,f(e),m*g);return this.add(n,i)},i.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},i.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},i.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},i.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},i.add=function(e,f,g,h){var i,j,k,l,m;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array){for(g=g||"normal",h=h||0,i=f,j=e.length,k=0;j>k;k++)(l=e[k])instanceof Array&&(l=new d({tweens:l})),this.add(l,i),"string"!=typeof l&&"function"!=typeof l&&("sequence"===g?i=l._startTime+l.totalDuration()/l._timeScale:"start"===g&&(l._startTime-=l.delay())),i+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is neither a tween, timeline, function, nor a string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(m=this;m._gc&&m._timeline;)m._timeline.smoothChildTiming?m.totalTime(m._totalTime,!0):m._enabled(!0,!1),m=m._timeline;return this},i.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},i._remove=function(a,c){return b.prototype._remove.call(this,a,c),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},i.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},i.insert=i.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},i.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},i.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},i.addPause=function(a,b,c,d){return this.call(g,["{self}",b,c,d],this,a)},i.removeLabel=function(a){return delete this._labels[a],this},i.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},i._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e instanceof Array)for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},i.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(a,b){return this.play(a,b)},i.gotoAndStop=function(a,b){return this.pause(a,b)},i.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j=this._dirty?this.totalDuration():this._totalDuration,k=this._time,l=this._startTime,m=this._timeScale,n=this._paused;if(a>=j?(this._totalTime=this._time=j,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===this._duration&&(0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,a=j+1e-6):1e-7>a?(this._totalTime=this._time=0,(0!==k||0===this._duration&&this._rawPrevTime>0)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==k&&this._first||c||i){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==k&&a>0&&(this._active=!0),0===k&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=k)for(d=this._first;d&&(g=d._next,!this._paused||n);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||n);)(d._active||d._startTime<=k&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._gc||(l===this._startTime||m!==this._timeScale)&&(0===this._time||j>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))}},i._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},i.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},i.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},i._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},i.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},i._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},i.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},i._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},i.progress=function(a){return arguments.length?this.totalTime(this.duration()*a,!1):this._time/this.duration()},i.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},i.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},i.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),window._gsDefine&&window._gsQueue.pop()(),function(a){"use strict";var b,c,d,e,f,g=a.GreenSockGlobals||a,h=function(a){var b,c=a.split("."),d=g;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},i=h("com.greensock"),j=[].slice,k=function(){},l={},m=function(b,c,d,e){this.sc=l[b]?l[b].sc:[],l[b]=this,this.gsClass=null,this.func=d;var f=[];this.check=function(i){for(var j,k,n,o,p=c.length,q=p;--p>-1;)(j=l[c[p]]||new m(c[p],[])).gsClass?(f[p]=j.gsClass,q--):i&&j.sc.push(this);if(0===q&&d)for(k=("com.greensock."+b).split("."),n=k.pop(),o=h(k.join("."))[n]=this.gsClass=d.apply(d,f),e&&(g[n]=o,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+b.split(".").join("/"),[],function(){return o}):"undefined"!=typeof module&&module.exports&&(module.exports=o)),p=0;p<this.sc.length;p++)this.sc[p].check()
},this.check(!0)},n=a._gsDefine=function(a,b,c,d){return new m(a,b,c,d)},o=i._class=function(a,b,c){return b=b||function(){},n(a,[],function(){return b},c),b};n.globals=g;var p=[0,0,1,1],q=[],r=o("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?p.concat(b):p},!0),s=r.map={},t=r.register=function(a,b,c,d){for(var e,f,g,h,j=b.split(","),k=j.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=j[k],e=d?o("easing."+f,null,!0):i.easing[f]||{},g=l.length;--g>-1;)h=l[g],s[f+"."+h]=s[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(d=r.prototype,d._calcEnd=!1,d.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},b=["Linear","Quad","Cubic","Quart","Quint,Strong"],c=b.length;--c>-1;)d=b[c]+",Power"+c,t(new r(null,null,1,c),d,"easeOut",!0),t(new r(null,null,2,c),d,"easeIn"+(0===c?",easeNone":"")),t(new r(null,null,3,c),d,"easeInOut");s.linear=i.easing.Linear.easeIn,s.swing=i.easing.Quad.easeInOut;var u=o("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});d=u.prototype,d.addEventListener=function(a,b,c,d,g){g=g||0;var h,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)h=j[i],h.c===b&&h.s===c?j.splice(i,1):0===k&&h.pr<g&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:g}),this!==e||f||e.wake()},d.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},d.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c)};var v=a.requestAnimationFrame,w=a.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},y=x();for(b=["ms","moz","webkit","o"],c=b.length;--c>-1&&!v;)v=a[b[c]+"RequestAnimationFrame"],w=a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];o("Ticker",function(a,b){var c,d,g,h,i,j=this,l=x(),m=b!==!1&&v,n=function(a){y=x(),j.time=(y-l)/1e3;var b,e=j.time-i;(!c||e>0||a===!0)&&(j.frame++,i+=e+(e>=h?.004:h-e),b=!0),a!==!0&&(g=d(n)),b&&j.dispatchEvent("tick")};u.call(j),this.time=this.frame=0,this.tick=function(){n(!0)},this.sleep=function(){null!=g&&(m&&w?w(g):clearTimeout(g),d=k,g=null,j===e&&(f=!1))},this.wake=function(){null!==g&&j.sleep(),d=0===c?k:m&&v?v:function(a){return setTimeout(a,1e3*(i-j.time)+1|0)},j===e&&(f=!0),n(2)},this.fps=function(a){return arguments.length?(c=a,h=1/(c||60),i=this.time+h,void j.wake()):c},this.useRAF=function(a){return arguments.length?(j.sleep(),m=a,void j.fps(c)):m},j.fps(a),setTimeout(function(){m&&(!g||j.frame<5)&&j.useRAF(!1)},1500)}),d=i.Ticker.prototype=new i.events.EventDispatcher,d.constructor=i.Ticker;var z=o("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,M){f||e.wake();var c=this.vars.useFrames?L:M;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});e=z.ticker=new i.Ticker,d=z.prototype,d._dirty=d._gc=d._initted=d._paused=!1,d._totalTime=d._time=0,d._rawPrevTime=-1,d._next=d._last=d._onUpdate=d._timeline=d.timeline=null,d._paused=!1;var A=function(){x()-y>2e3&&e.wake(),setTimeout(A,2e3)};A(),d.play=function(a,b){return arguments.length&&this.seek(a,b),this.reversed(!1).paused(!1)},d.pause=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!0)},d.resume=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!1)},d.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},d.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},d.reverse=function(a,b){return arguments.length&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},d.render=function(){},d.invalidate=function(){return this},d._enabled=function(a,b){return f||e.wake(),this._gc=!a,this._active=a&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration,b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},d._kill=function(){return this._enabled(!1,!1)},d.kill=function(a,b){return this._kill(a,b),this},d._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},d._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},d.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=c instanceof Array&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},d.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},d.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},d.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},d.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},d.totalTime=function(a,b,c){if(f||e.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,g=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:g._time)-(this._reversed?d-a:a)/this._timeScale,g._dirty||this._uncache(!1),g._timeline)for(;g._timeline;)g._timeline._time!==(g._startTime+g._totalTime)/g._timeScale&&g.totalTime(g._totalTime,!0),g=g._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==a&&this.render(a,b,!1)}return this},d.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},d.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||1e-6,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},d.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._totalTime,!0)),this):this._reversed},d.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){f||a||e.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=!a&&this._totalTime>0&&this._totalTime<this._totalDuration,a||0===d||0===this._duration||this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var B=o("core.SimpleTimeline",function(a){z.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});d=B.prototype=new z,d.constructor=B,d.kill()._gc=!1,d._first=d._last=null,d._sortChildren=!1,d.add=d.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._timeline&&this._uncache(!0),this},d._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},d.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},d.rawTime=function(){return f||e.wake(),this._totalTime};var C=o("TweenLite",function(b,c,d){if(z.call(this,c,d),this.render=C.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:C.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?K[C.defaultOverwrite]:"number"==typeof i?i>>0:K[i],(h||b instanceof Array)&&"number"!=typeof b[0])for(this._targets=g=j.call(b,0),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(j.call(f,0))):(this._siblings[e]=N(f,this,!1),1===i&&this._siblings[e].length>1&&O(f,this,null,1,this._siblings[e])):(f=g[e--]=C.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=N(b,this,!1),1===i&&this._siblings.length>1&&O(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),D=function(b){return b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},E=function(a,b){var c,d={};for(c in a)J[c]||c in b&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!G[c]||G[c]&&G[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};d=C.prototype=new z,d.constructor=C,d.kill()._gc=!1,d.ratio=0,d._firstPT=d._targets=d._overwrittenProps=d._startAt=null,d._notifyPluginsOfEnabled=!1,C.version="1.10.2",C.defaultEase=d._ease=new r(null,null,1,1),C.defaultOverwrite="auto",C.ticker=e,C.autoSleep=!0,C.selector=a.$||a.jQuery||function(b){return a.$?(C.selector=a.$,a.$(b)):a.document?a.document.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var F=C._internals={},G=C._plugins={},H=C._tweenLookup={},I=0,J=F.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},L=z._rootFramesTimeline=new B,M=z._rootTimeline=new B;M._startTime=e.time,L._startTime=e.frame,M._active=L._active=!0,z._updateRoot=function(){if(M.render((e.time-M._startTime)*M._timeScale,!1,!1),L.render((e.frame-L._startTime)*L._timeScale,!1,!1),!(e.frame%120)){var a,b,c;for(c in H){for(b=H[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete H[c]}if(c=M._first,(!c||c._paused)&&C.autoSleep&&!L._first&&1===e._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||e.sleep()}}},e.addEventListener("tick",z._updateRoot);var N=function(a,b,c){var d,e,f=a._gsTweenID;if(H[f||(a._gsTweenID=f="t"+I++)]||(H[f]={target:a,tweens:[]}),b&&(d=H[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return H[f].tweens},O=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+1e-10,l=[],m=0,n=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||P(b,0,n),0===P(h,j,n)&&(l[m++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale+1e-10>k&&((n||!h._initted)&&k-h._startTime<=2e-10||(l[m++]=h)));for(f=m;--f>-1;)h=l[f],2===d&&h._kill(c,a)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&h._enabled(!1,!1)&&(g=!0);return g},P=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime,g=1e-10;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*g>f-b?g:(f+=a.totalDuration()/a._timeScale/e)>b+g?0:f-b-g};d._init=function(){var a,b,c,d,e=this.vars,f=this._overwrittenProps,g=this._duration,h=e.immediateRender,i=e.ease;if(e.startAt){if(this._startAt&&this._startAt.render(-1,!0),e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=C.to(this.target,0,e.startAt),h)if(this._time>0)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&e.immediateRender&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(0===this._time){c={};for(d in e)J[d]&&"autoCSS"!==d||(c[d]=e[d]);return c.overwrite=0,void(this._startAt=C.to(this.target,0,c))}if(this._ease=i?i instanceof r?e.easeParams instanceof Array?i.config.apply(i,e.easeParams):i:"function"==typeof i?new r(i,e.easeParams):s[i]||C.defaultEase:C.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f);if(b&&C._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate,this._initted=!0},d._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;this.vars.css||b.style&&b!==a&&b.nodeType&&G.css&&this.vars.autoCSS!==!1&&E(this.vars,b);for(f in this.vars){if(k=this.vars[f],J[f])k instanceof Array&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(G[f]&&(i=new G[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&O(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):h},d.render=function(a,b,c){var d,e,f,g=this._time;if(a>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===this._duration&&((0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&(c=!0,this._rawPrevTime>0&&(e="onReverseComplete",b&&(a=-1))),this._rawPrevTime=a);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===this._duration&&this._rawPrevTime>0)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=a)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var h=a/this._duration,i=this._easeType,j=this._easePower;(1===i||3===i&&h>=.5)&&(h=1-h),3===i&&(h*=2),1===j?h*=h:2===j?h*=h*h:3===j?h*=h*h*h:4===j&&(h*=h*h*h*h),this.ratio=1===i?1-h:2===i?h:a/this._duration<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(a/this._duration);if(this._time!==g||c){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/this._duration):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==g&&a>=0&&(this._active=!0),0===g&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===this._duration)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||q))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startAt.render(a,b,c),b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||q)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||q)))}},d._kill=function(a,b){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:C.selector(b)||b;var c,d,e,f,g,h,i,j;if((b instanceof Array||D(b))&&"number"!=typeof b[0])for(c=b.length;--c>-1;)this._kill(a,b[c])&&(h=!0);else{if(this._targets){for(c=this._targets.length;--c>-1;)if(b===this._targets[c]){g=this._propLookup[c]||{},this._overwrittenProps=this._overwrittenProps||[],d=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==this.target)return!1;g=this._propLookup,d=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(g){i=a||g,j=a!==d&&"all"!==d&&a!==g&&(null==a||a._tempKill!==!0);for(e in i)(f=g[e])&&(f.pg&&f.t._kill(i)&&(h=!0),f.pg&&0!==f.t._overwriteProps.length||(f._prev?f._prev._next=f._next:f===this._firstPT&&(this._firstPT=f._next),f._next&&(f._next._prev=f._prev),f._next=f._prev=null),delete g[e]),j&&(d[e]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},d.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},d._enabled=function(a,b){if(f||e.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=N(d[c],this,!0);else this._siblings=N(this.target,this,!0)}return z.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?C._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},C.to=function(a,b,c){return new C(a,b,c)},C.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new C(a,b,c)},C.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new C(a,b,d)},C.delayedCall=function(a,b,c,d,e){return new C(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})},C.set=function(a,b){return new C(a,0,b)},C.killTweensOf=C.killDelayedCallsTo=function(a,b){for(var c=C.getTweensOf(a),d=c.length;--d>-1;)c[d]._kill(b,a)},C.getTweensOf=function(a){if(null==a)return[];a="string"!=typeof a?a:C.selector(a)||a;var b,c,d,e;if((a instanceof Array||D(a))&&"number"!=typeof a[0]){for(b=a.length,c=[];--b>-1;)c=c.concat(C.getTweensOf(a[b]));for(b=c.length;--b>-1;)for(e=c[b],d=b;--d>-1;)e===c[d]&&c.splice(b,1)}else for(c=N(a).concat(),b=c.length;--b>-1;)c[b]._gc&&c.splice(b,1);return c};var Q=o("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=Q.prototype},!0);if(d=Q.prototype,Q.version="1.10.1",Q.API=2,d._firstPT=null,d._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},d.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=b+(b>0?.5:-.5)|0:d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},d._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},d._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},C._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},Q.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===Q.API&&(G[(new a[b])._propName]=a[b]);return!0},n.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=o("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){Q.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new Q(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,Q.activate([g]),g},b=a._gsQueue){for(c=0;c<b.length;c++)b[c]();for(d in l)l[d].func||a.console.log("GSAP encountered missing dependency: com.greensock."+d)}f=!1}(window),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=[].slice,e=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=e.prototype.render},f=function(a){return a.jquery||a.length&&a!==window&&a[0]&&(a[0]===window||a[0].nodeType&&a[0].style&&!a.nodeType)},g=e.prototype=c.to({},.1,{}),h=[];e.version="1.10.2",g.constructor=e,g.kill()._gc=!1,e.killTweensOf=e.killDelayedCallsTo=c.killTweensOf,e.getTweensOf=c.getTweensOf,e.ticker=c.ticker,g.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},g.updateTo=function(a,b){var d,e=this.ratio;b&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted)if(b)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var f=this._time;this.render(0,!0,!1),this._initted=!1,this.render(f,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var g,h=1/(1-e),i=this._firstPT;i;)g=i.s+i.c,i.c*=h,i.s=g-i.c,i=i._next}return this},g.render=function(a,b,c){var d,e,f,g,i,j,k,l=this._dirty?this.totalDuration():this._totalDuration,m=this._time,n=this._totalTime,o=this._cycle;if(a>=l?(this._totalTime=l,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete"),0===this._duration&&((0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&(c=!0,this._rawPrevTime>0&&(e="onReverseComplete",b&&(a=-1))),this._rawPrevTime=a)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==n||0===this._duration&&this._rawPrevTime>0)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=a)):this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(g=this._duration+this._repeatDelay,this._cycle=this._totalTime/g>>0,0!==this._cycle&&this._cycle===this._totalTime/g&&this._cycle--,this._time=this._totalTime-this._cycle*g,this._yoyo&&0!==(1&this._cycle)&&(this._time=this._duration-this._time),this._time>this._duration?this._time=this._duration:this._time<0&&(this._time=0)),this._easeType?(i=this._time/this._duration,j=this._easeType,k=this._easePower,(1===j||3===j&&i>=.5)&&(i=1-i),3===j&&(i*=2),1===k?i*=i:2===k?i*=i*i:3===k?i*=i*i*i:4===k&&(i*=i*i*i*i),this.ratio=1===j?1-i:2===j?i:this._time/this._duration<.5?i/2:1-i/2):this.ratio=this._ease.getRatio(this._time/this._duration)),m===this._time&&!c)return void(n!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)));if(!this._initted){if(this._init(),!this._initted)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/this._duration):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==m&&a>=0&&(this._active=!0),0===n&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===this._duration)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startAt.render(a,b,c),b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),this._cycle!==o&&(b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||h)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||h)))},e.to=function(a,b,c){return new e(a,b,c)},e.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new e(a,b,c)},e.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new e(a,b,d)},e.staggerTo=e.allTo=function(a,b,g,i,j,k,l){i=i||0;var m,n,o,p,q=g.delay||0,r=[],s=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),j.apply(l||this,k||h)};for(a instanceof Array||("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=d.call(a,0))),m=a.length,o=0;m>o;o++){n={};for(p in g)n[p]=g[p];n.delay=q,o===m-1&&j&&(n.onComplete=s),r[o]=new e(a[o],b,n),q+=i}return r},e.staggerFrom=e.allFrom=function(a,b,c,d,f,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,e.staggerTo(a,b,c,d,f,g,h)},e.staggerFromTo=e.allFromTo=function(a,b,c,d,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,e.staggerTo(a,b,d,f,g,h,i)},e.delayedCall=function(a,b,c,d,f){return new e(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:f,overwrite:0})},e.set=function(a,b){return new e(a,0,b)},e.isTweening=function(a){for(var b,d=c.getTweensOf(a),e=d.length;--e>-1;)if(b=d[e],b._active||b._startTime===b._timeline._time&&b._timeline._active)return!0;return!1};var i=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(i(f,b)),e=d.length),f=f._next;return d},j=e.getAllTweens=function(b){return i(a._rootTimeline,b).concat(i(a._rootFramesTimeline,b))};e.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=j(0!=e),k=i.length,l=c&&d&&e;for(h=0;k>h;h++)g=i[h],(l||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g.totalDuration()):g._enabled(!1,!1))},e.killChildTweensOf=function(a,b){if(null!=a){var g,h,i,j,k,l=c._tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=d(a,0)),a instanceof Array)for(j=a.length;--j>-1;)e.killChildTweensOf(a[j],b);else{g=[];for(i in l)for(h=l[i].target.parentNode;h;)h===a&&(g=g.concat(l[i].tweens)),h=h.parentNode;for(k=g.length,j=0;k>j;j++)b&&g[j].totalTime(g[j].totalDuration()),g[j]._enabled(!1,!1)}}};var k=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=j(e),i=c&&d&&e,k=h.length;--k>-1;)g=h[k],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return e.pauseAll=function(a,b,c){k(!0,a,b,c)},e.resumeAll=function(a,b,c){k(!1,a,b,c)},e.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||1e-6,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},g.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},g.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},g.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},g.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},g.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},g.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},g.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},g.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},e},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],c instanceof Array&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));e.tweens instanceof Array&&this.add(e.tweens,0,e.align,e.stagger)},e=[],f=function(a){var b,c={};for(b in a)c[b]=a[b];return c},g=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||e)},h=e.slice,i=d.prototype=new b;return d.version="1.10.2",i.constructor=d,i.kill()._gc=!1,i.to=function(a,b,d,e){return b?this.add(new c(a,b,d),e):this.set(a,d,e)},i.from=function(a,b,d,e){return this.add(c.from(a,b,d),e)},i.fromTo=function(a,b,d,e,f){return b?this.add(c.fromTo(a,b,d,e),f):this.set(a,e,f)},i.staggerTo=function(a,b,e,g,i,j,k,l){var m,n=new d({onComplete:j,onCompleteParams:k,onCompleteScope:l});for("string"==typeof a&&(a=c.selector(a)||a),!(a instanceof Array)&&a.length&&a!==window&&a[0]&&(a[0]===window||a[0].nodeType&&a[0].style&&!a.nodeType)&&(a=h.call(a,0)),g=g||0,m=0;m<a.length;m++)e.startAt&&(e.startAt=f(e.startAt)),n.to(a[m],b,f(e),m*g);return this.add(n,i)},i.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)
},i.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},i.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},i.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},i.add=function(e,f,g,h){var i,j,k,l,m;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array){for(g=g||"normal",h=h||0,i=f,j=e.length,k=0;j>k;k++)(l=e[k])instanceof Array&&(l=new d({tweens:l})),this.add(l,i),"string"!=typeof l&&"function"!=typeof l&&("sequence"===g?i=l._startTime+l.totalDuration()/l._timeScale:"start"===g&&(l._startTime-=l.delay())),i+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is neither a tween, timeline, function, nor a string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(m=this;m._gc&&m._timeline;)m._timeline.smoothChildTiming?m.totalTime(m._totalTime,!0):m._enabled(!0,!1),m=m._timeline;return this},i.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},i._remove=function(a,c){return b.prototype._remove.call(this,a,c),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},i.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},i.insert=i.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},i.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},i.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},i.addPause=function(a,b,c,d){return this.call(g,["{self}",b,c,d],this,a)},i.removeLabel=function(a){return delete this._labels[a],this},i.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},i._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e instanceof Array)for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},i.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(a,b){return this.play(a,b)},i.gotoAndStop=function(a,b){return this.pause(a,b)},i.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j=this._dirty?this.totalDuration():this._totalDuration,k=this._time,l=this._startTime,m=this._timeScale,n=this._paused;if(a>=j?(this._totalTime=this._time=j,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===this._duration&&(0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,a=j+1e-6):1e-7>a?(this._totalTime=this._time=0,(0!==k||0===this._duration&&this._rawPrevTime>0)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==k&&this._first||c||i){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==k&&a>0&&(this._active=!0),0===k&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=k)for(d=this._first;d&&(g=d._next,!this._paused||n);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||n);)(d._active||d._startTime<=k&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._gc||(l===this._startTime||m!==this._timeScale)&&(0===this._time||j>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))}},i._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},i.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},i.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},i._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},i.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},i._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},i.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},i._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},i.progress=function(a){return arguments.length?this.totalTime(this.duration()*a,!1):this._time/this.duration()},i.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},i.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},i.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=[],f=new c(null,null,1,0),g=function(a){for(;a;){if(a._paused)return!0;a=a._timeline}return!1},h=d.prototype=new a;return h.constructor=d,h.kill()._gc=!1,d.version="1.10.2",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},h.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},h.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},h.tweenTo=function(a,c){c=c||{};var d,g,h={ease:f,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(d in c)h[d]=c[d];return h.time=this._parseTimeOrLabel(a),g=new b(this,Math.abs(Number(h.time)-this._time)/this._timeScale||.001,h),h.onStart=function(){g.target.paused(!0),g.vars.time!==g.target.time()&&g.duration(Math.abs(g.vars.time-g.target.time())/g.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||g,c.onStartParams||e)},g},h.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},h.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j,k=this._dirty?this.totalDuration():this._totalDuration,l=this._duration,m=this._time,n=this._totalTime,o=this._startTime,p=this._timeScale,q=this._rawPrevTime,r=this._paused,s=this._cycle;if(a>=k?(this._locked||(this._totalTime=k,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===l&&(0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=l,a=l+1e-6)):1e-7>a?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===l&&this._rawPrevTime>0&&!this._locked)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===l&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):(this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(j=l+this._repeatDelay,this._cycle=this._totalTime/j>>0,0!==this._cycle&&this._cycle===this._totalTime/j&&this._cycle--,this._time=this._totalTime-this._cycle*j,this._yoyo&&0!==(1&this._cycle)&&(this._time=l-this._time),this._time>l?(this._time=l,a=l+1e-6):this._time<0?this._time=a=0:a=this._time))),this._cycle!==s&&!this._locked){var t=this._yoyo&&0!==(1&s),u=t===(this._yoyo&&0!==(1&this._cycle)),v=this._totalTime,w=this._cycle,x=this._rawPrevTime,y=this._time;if(this._totalTime=s*l,this._cycle<s?t=!t:this._totalTime+=l,this._time=m,this._rawPrevTime=0===l?q-1e-5:q,this._cycle=s,this._locked=!0,m=t?0:l,this.render(m,b,0===l),b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||e),u&&(m=t?l+1e-6:-1e-6,this.render(m,!0,!1)),this._locked=!1,this._paused&&!r)return;this._time=y,this._totalTime=v,this._cycle=w,this._rawPrevTime=x}if(!(this._time!==m&&this._first||c||i))return void(n!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&0!==this._totalTime&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=m)for(d=this._first;d&&(g=d._next,!this._paused||r);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||r);)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._locked||this._gc||(o===this._startTime||p!==this._timeScale)&&(0===this._time||k>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))},h.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],h=this.getChildren(a,b,c),i=0,j=h.length;for(d=0;j>d;d++)e=h[d],e._paused||e._timeline._time>=e._startTime&&e._timeline._time<e._startTime+e._totalDuration/e._timeScale&&(g(e._timeline)||(f[i++]=e));return f},h.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},h.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},h.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},h.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},h.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},h.totalDuration=function(b){return arguments.length?-1===this._repeat?this:this.duration((b-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},h.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},h.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},h.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},h.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=Math.PI/180,c=[],d=[],e=[],f={},g=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,b,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=c[j],u=d[j],v=(u+t)*b*.25/(g?.5:e[j]||.5),o=l-(l-k)*(g?.5*b:0!==t?v/t:0),p=l+(m-l)*(g?.5*b:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*b*.5,p=l+(m-l)*b*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,b,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][b])&&"="===m.charAt(1)&&(a[i][b]=f[b]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][b],0,0,a[-1>h?0:1][b]),n;for(i=0;h>i;i++)j=a[i][b],k=a[i+1][b],n[i]=new g(j,0,0,k),e&&(l=a[i+2][b],c[i]=(c[i]||0)+(k-j)*(k-j),d[i]=(d[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][b],0,0,a[i+1][b]),n},l=function(a,b,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==b&&(b=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(c.length=d.length=e.length=0,n=w.length;--n>-1;)o=w[n],f[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,f[o],m);for(n=c.length;--n>-1;)c[n]=Math.sqrt(c[n]),d[n]=Math.sqrt(d[n]);if(!i){for(n=w.length;--n>-1;)if(f[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/d[q]+p[q].da/c[q],e[q]=(e[q]||0)+r*r;for(n=e.length;--n>-1;)e[n]=Math.sqrt(e[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,b,g,i,f[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;)for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;return!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=i+(i>0?.5:-.5)>>0),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var p,q,r,s,t,u,v,w=this._autoRotate;for(e=w.length;--e>-1;)f=w[e][2],u=w[e][3]||0,v=w[e][4]===!0?1:a,g=this._beziers[w[e][0]],p=this._beziers[w[e][1]],g&&p&&(g=g[c],p=p[c],q=g.a+(g.b-g.a)*h,s=g.b+(g.c-g.b)*h,q+=(s-q)*h,s+=(g.c+(g.d-g.c)*h-s)*h,r=p.a+(p.b-p.a)*h,t=p.b+(p.c-p.b)*h,r+=(t-r)*h,t+=(p.c+(p.d-p.c)*h-t)*h,i=Math.atan2(t-r,s-q)*v+u,n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=window._gsDefine.globals.CSSPlugin;if(a){var c=a._internals,d=c._parseToProxy,e=c._setPluginRatio,f=c.CSSPropTween;c._registerComplexSpecialProp("bezier",{parser:function(a,c,g,h,i,j){c instanceof Array&&(c={values:c}),j=new p;var k,l,m,n=c.values,o=n.length-1,q=[],r={};if(0>o)return i;for(k=0;o>=k;k++)m=d(a,n[k],h,i,j,o!==k),q[k]=m.end;for(l in c)r[l]=c[l];return r.values=q,i=new f(a,"bezier",0,0,m.pt,2),i.data=m,i.plugin=j,i.setRatio=e,0===r.autoRotate&&(r.autoRotate=!0),!r.autoRotate||r.autoRotate instanceof Array||(k=r.autoRotate===!0?0:Number(r.autoRotate)*b,r.autoRotate=null!=m.end.left?[["left","top","rotation",k,!0]]:null!=m.end.x?[["x","y","rotation",k,!0]]:!1),r.autoRotate&&(h._transform||h._enableTransforms(!1),m.autoRotate=h._target._gsTransform),j._onInitTween(m.proxy,r,h._tween),i}})}},q._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h={},i=g.prototype=new a("css");i.constructor=g,g.version="1.10.2",g.API=2,g.defaultTransformPerspective=0,i="px",g.suffixMap={top:i,right:i,bottom:i,left:i,width:i,height:i,fontSize:i,padding:i,margin:i,perspective:i};var j,k,l,m,n,o,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,q=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,r=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,s=/[^\d\-\.]/g,t=/(?:\d|\-|\+|=|#|\.)*/g,u=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,w=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,y=/([A-Z])/g,z=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,B=function(a,b){return b.toUpperCase()},C=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,G=Math.PI/180,H=180/Math.PI,I={},J=document,K=J.createElement("div"),L=J.createElement("img"),M=g._internals={_specialProps:h},N=navigator.userAgent,O=function(){var a,b=N.indexOf("Android"),c=J.createElement("div");return l=-1!==N.indexOf("Safari")&&-1===N.indexOf("Chrome")&&(-1===b||Number(N.substr(b+8,1))>3),n=l&&Number(N.substr(N.indexOf("Version/")+8,1))<6,m=-1!==N.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(N),o=parseFloat(RegExp.$1),c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",a=c.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),P=function(a){return u.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(a){window.console&&console.log(a)},R="",S="",T=function(a,b){b=b||K;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(S=3===d?"ms":c[d],R="-"+S.toLowerCase()+"-",S+a):null},U=J.defaultView?J.defaultView.getComputedStyle:function(){},V=g.getStyle=function(a,b,c,d,e){var f;return O||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||U(a,null))?(a=c.getPropertyValue(b.replace(y,"-$1").toLowerCase()),f=a||c.length?a:c[b]):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):P(a)},W=function(a,b,c,d,e){if("px"===d||!d)return c;if("auto"===d||!c)return 0;var f,g=C.test(b),h=a,i=K.style,j=0>c;return j&&(c=-c),"%"===d&&-1!==b.indexOf("border")?f=c/100*(g?a.clientWidth:a.clientHeight):(i.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;","%"!==d&&h.appendChild?i[g?"borderLeftWidth":"borderTopWidth"]=c+d:(h=a.parentNode||J.body,i[g?"width":"height"]=c+d),h.appendChild(K),f=parseFloat(K[g?"offsetWidth":"offsetHeight"]),h.removeChild(K),0!==f||e||(f=W(a,b,c,d,!0))),j?-f:f},X=function(a,b,c){if("absolute"!==V(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=V(a,"margin"+d,c);return a["offset"+d]-(W(a,b,parseFloat(e),e.replace(t,""))||0)},Y=function(a,b){var c,d,e={};if(b=b||U(a,null))if(c=b.length)for(;--c>-1;)e[b[c].replace(z,B)]=b.getPropertyValue(b[c]);else for(c in b)e[c]=b[c];else if(b=a.currentStyle||a.style)for(c in b)e[c.replace(z,B)]=b[c];return O||(e.opacity=P(a)),d=xb(a,b,!1),e.rotation=d.rotation*H,e.skewX=d.skewX*H,e.scaleX=d.scaleX,e.scaleY=d.scaleY,e.x=d.x,e.y=d.y,wb&&(e.z=d.z,e.rotationX=d.rotationX*H,e.rotationY=d.rotationY*H,e.scaleZ=d.scaleZ),e.filters&&delete e.filters,e},Z=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(s,"")?f:0:X(a,g),void 0!==j[g]&&(h=new lb(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},$={width:["Left","Right"],height:["Top","Bottom"]},_=["marginLeft","marginRight","marginTop","marginBottom"],ab=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=$[b],f=e.length;for(c=c||U(a,null);--f>-1;)d-=parseFloat(V(a,"padding"+e[f],c,!0))||0,d-=parseFloat(V(a,"border"+e[f]+"Width",c,!0))||0;return d},bb=function(a,b){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(s,"")),b.oy=parseFloat(e.replace(s,""))),d+" "+e+(c.length>2?" "+c[2]:"")},cb=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},db=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},eb=function(a,b,c,d){var e,f,g,h,i=1e-6;return null==a?h=b:"number"==typeof a?h=a*G:(e=2*Math.PI,f=a.split("_"),g=Number(f[0].replace(s,""))*(-1===a.indexOf("rad")?G:1)-("="===a.charAt(1)?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),i>h&&h>-i&&(h=0),h},fb={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},gb=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},hb=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,a>>8&255,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),fb[a]?fb[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,a>>8&255,255&a]):"hsl"===a.substr(0,3)?(a=a.match(p),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=.5>=g?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=gb(e+1/3,b,c),a[1]=gb(e,b,c),a[2]=gb(e-1/3,b,c),a):(a=a.match(p)||fb.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):fb.black},ib="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(i in fb)ib+="|"+i+"\\b";ib=new RegExp(ib+")","gi");var jb=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ib)||[""])[0]:"",g=a.split(f).join("").match(r)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(p,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(o=a.replace(F,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ib)||[f])[0],m=a.split(b).join("").match(r)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(f=a.replace(F,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(r)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},kb=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},lb=(M._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=b>0?b+.5|0:b-.5|0:i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),mb=(M._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=I;for(c._transform=null,I=b,d=k=c.parse(a,b,d,e),I=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new lb(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new lb(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},M.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof mb||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),nb=g.parseComplex=function(a,b,c,d,e,f,g,h,i,k){c=c||f||"",g=new mb(a,b,0,0,g,k?2:1,null,!1,h,c,d),d+="";var l,m,n,o,r,s,t,u,v,w,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=j!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(F,", ").split(" "),B=B.join(" ").replace(F,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=k,l=0;C>l;l++)if(o=A[l],r=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,cb(r,u),r.replace(q,""),D&&-1!==r.indexOf("px"),!0);
else if(e&&("#"===o.charAt(0)||fb[o]||x.test(o)))z=","===r.charAt(r.length-1)?"),":")",o=hb(o),r=hb(r),v=o.length+r.length>6,v&&!O&&0===r[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(O||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],r[0]-o[0],",",!0,!0).appendXtra("",o[1],r[1]-o[1],",",!0).appendXtra("",o[2],r[2]-o[2],v?",":z,!0),v&&(o=o.length<4?1:o[3],g.appendXtra("",o,(r.length<4?1:r[3])-o,z,!1)));else if(s=o.match(p)){if(t=r.match(q),!t||t.length!==s.length)return g;for(n=0,m=0;m<s.length;m++)y=s[m],w=o.indexOf(y,n),g.appendXtra(o.substr(n,w-n),Number(y),cb(t[m],y),"",D&&"px"===o.substr(w+y.length,2),0===m),n=w+y.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(z=g.xs0+g.data.s,l=1;l<g.l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},ob=9;for(i=mb.prototype,i.l=i.pr=0;--ob>0;)i["xn"+ob]=0,i["xs"+ob]="";i.xs0="",i._next=i._prev=i.xfirst=i.data=i.plugin=i.setRatio=i.rxp=null,i.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new mb(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var pb=function(a,b){b=b||{},this.p=b.prefix?T(a)||a:a,h[a]=h[this.p]=this,this.format=b.formatter||jb(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},qb=M._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new pb(f[d],b)},rb=function(a){if(!h[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";qb(a,{parser:function(a,c,d,e,f,g,i){var j=(window.GreenSockGlobals||window).com.greensock.plugins[b];return j?(j._cssRegister(),h[d].parse(a,c,d,e,f,g,i)):(Q("Error: "+b+" js file not loaded."),f)}})}};i=pb.prototype,i.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(F.test(c)||F.test(b)?(h=b.replace(F,"|").split("|"),i=c.replace(F,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(c=-1===l?i:h,c[g]+=" "+m));b=h.join(", "),c=i.join(", ")}return nb(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},i.parse=function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){qb(a,{parser:function(a,d,e,f,g,h){var i=new mb(a,e,0,0,g,2,e,!1,c);return i.plugin=h,i.setRatio=b(a,d,f._tween,e),i},priority:c})};var sb="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),tb=T("transform"),ub=R+"transform",vb=T("transformOrigin"),wb=null!==T("perspective"),xb=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var e,f,h,i,j,k,l,m,n,o,p,q,r,s=c?a._gsTransform||{skewY:0}:{skewY:0},t=s.scaleX<0,u=2e-5,v=1e5,w=-Math.PI+1e-4,x=Math.PI-1e-4,y=wb?parseFloat(V(a,vb,b,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0;for(tb?e=V(a,ub,b,!0):a.currentStyle&&(e=a.currentStyle.filter.match(D),e=e&&4===e.length?[e[0].substr(4),Number(e[2].substr(4)),Number(e[1].substr(4)),e[3].substr(4),s.x||0,s.y||0].join(","):""),f=(e||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=f.length;--h>-1;)i=Number(f[h]),f[h]=(j=i-(i|=0))?(j*v+(0>j?-.5:.5)|0)/v+i:i;if(16===f.length){var z=f[8],A=f[9],B=f[10],C=f[12],E=f[13],F=f[14];if(s.zOrigin&&(F=-s.zOrigin,C=z*F-f[12],E=A*F-f[13],F=B*F+s.zOrigin-f[14]),!c||d||null==s.rotationX){var G,H,I,J,K,L,M,N=f[0],O=f[1],P=f[2],Q=f[3],R=f[4],S=f[5],T=f[6],U=f[7],W=f[11],X=s.rotationX=Math.atan2(T,B),Y=w>X||X>x;X&&(J=Math.cos(-X),K=Math.sin(-X),G=R*J+z*K,H=S*J+A*K,I=T*J+B*K,z=R*-K+z*J,A=S*-K+A*J,B=T*-K+B*J,W=U*-K+W*J,R=G,S=H,T=I),X=s.rotationY=Math.atan2(z,N),X&&(L=w>X||X>x,J=Math.cos(-X),K=Math.sin(-X),G=N*J-z*K,H=O*J-A*K,I=P*J-B*K,A=O*K+A*J,B=P*K+B*J,W=Q*K+W*J,N=G,O=H,P=I),X=s.rotation=Math.atan2(O,S),X&&(M=w>X||X>x,J=Math.cos(-X),K=Math.sin(-X),N=N*J+R*K,H=O*J+S*K,S=O*-K+S*J,T=P*-K+T*J,O=H),M&&Y?s.rotation=s.rotationX=0:M&&L?s.rotation=s.rotationY=0:L&&Y&&(s.rotationY=s.rotationX=0),s.scaleX=(Math.sqrt(N*N+O*O)*v+.5|0)/v,s.scaleY=(Math.sqrt(S*S+A*A)*v+.5|0)/v,s.scaleZ=(Math.sqrt(T*T+B*B)*v+.5|0)/v,s.skewX=0,s.perspective=W?1/(0>W?-W:W):0,s.x=C,s.y=E,s.z=F}}else if(!(wb&&!d&&f.length&&s.x===f[4]&&s.y===f[5]&&(s.rotationX||s.rotationY)||void 0!==s.x&&"none"===V(a,"display",b))){var Z=f.length>=6,$=Z?f[0]:1,_=f[1]||0,ab=f[2]||0,bb=Z?f[3]:1;s.x=f[4]||0,s.y=f[5]||0,k=Math.sqrt($*$+_*_),l=Math.sqrt(bb*bb+ab*ab),m=$||_?Math.atan2(_,$):s.rotation||0,n=ab||bb?Math.atan2(ab,bb)+m:s.skewX||0,o=k-Math.abs(s.scaleX||0),p=l-Math.abs(s.scaleY||0),Math.abs(n)>Math.PI/2&&Math.abs(n)<1.5*Math.PI&&(t?(k*=-1,n+=0>=m?Math.PI:-Math.PI,m+=0>=m?Math.PI:-Math.PI):(l*=-1,n+=0>=n?Math.PI:-Math.PI)),q=(m-s.rotation)%Math.PI,r=(n-s.skewX)%Math.PI,(void 0===s.skewX||o>u||-u>o||p>u||-u>p||q>w&&x>q&&q*v|!1||r>w&&x>r&&r*v|!1)&&(s.scaleX=k,s.scaleY=l,s.rotation=m,s.skewX=n),wb&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(g.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=y;for(h in s)s[h]<u&&s[h]>-u&&(s[h]=0);return c&&(a._gsTransform=s),s},yb=function(a){var b,c,d=this.data,e=-d.rotation,f=e+d.skewX,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,p,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x,x=d.y;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,p=(d.oyp?r*d.oy*.01:d.oy)-r/2,w+=n-(n*h+p*i),x+=p-(n*j+p*k)),s)n=q/2,p=r/2,v+=", Dx="+(n-(n*h+p*i)+w)+", Dy="+(p-(n*j+p*k)+x)+")";else{var y,z,A,B=8>o?1:-1;for(n=d.ieOffsetX||0,p=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),ob=0;4>ob;ob++)z=_[ob],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):W(this.t,z,parseFloat(y),y.replace(t,""))||0,A=c!==d[z]?2>ob?-d.ieOffsetX:-d.ieOffsetY:2>ob?n-d.ieOffsetX:p-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===ob||2===ob?1:B)))+"px";v+=", sizingMethod='auto expand')"}l.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(E,v):v+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===v.indexOf("Dx=0, Dy=0")||u.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf("gradient(")&&l.removeAttribute("filter"))}},zb=function(){var a,b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=this.data,D=this.t.style,E=C.rotation,F=C.scaleX,G=C.scaleY,H=C.scaleZ;if(m&&(z=D.top?"top":D.bottom?"bottom":parseFloat(V(this.t,"top",null,!1))?"bottom":"top",v=V(this.t,z,null,!1),A=parseFloat(v)||0,B=v.substr((A+"").length)||"px",C._ffFix=!C._ffFix,D[z]=(C._ffFix?A+.05:A-.05)+B),E||C.skewX)t=Math.cos(E),u=Math.sin(E),a=t,e=u,C.skewX&&(E-=C.skewX,t=Math.cos(E),u=Math.sin(E)),b=-u,f=t;else{if(!C.rotationY&&!C.rotationX&&1===H)return void(D[tb]="translate3d("+C.x+"px,"+C.y+"px,"+C.z+"px)"+(1!==F||1!==G?" scale("+F+","+G+")":""));a=f=1,b=e=0}k=1,c=d=g=h=i=j=l=n=o=0,q=C.perspective,p=q?-1/q:0,r=C.zOrigin,s=1e5,E=C.rotationY,E&&(t=Math.cos(E),u=Math.sin(E),i=k*-u,n=p*-u,c=a*u,g=e*u,k*=t,p*=t,a*=t,e*=t),E=C.rotationX,E&&(t=Math.cos(E),u=Math.sin(E),v=b*t+c*u,w=f*t+g*u,x=j*t+k*u,y=o*t+p*u,c=b*-u+c*t,g=f*-u+g*t,k=j*-u+k*t,p=o*-u+p*t,b=v,f=w,j=x,o=y),1!==H&&(c*=H,g*=H,k*=H,p*=H),1!==G&&(b*=G,f*=G,j*=G,o*=G),1!==F&&(a*=F,e*=F,i*=F,n*=F),r&&(l-=r,d=c*l,h=g*l,l=k*l+r),d=(v=(d+=C.x)-(d|=0))?(v*s+(0>v?-.5:.5)|0)/s+d:d,h=(v=(h+=C.y)-(h|=0))?(v*s+(0>v?-.5:.5)|0)/s+h:h,l=(v=(l+=C.z)-(l|=0))?(v*s+(0>v?-.5:.5)|0)/s+l:l,D[tb]="matrix3d("+[(a*s|0)/s,(e*s|0)/s,(i*s|0)/s,(n*s|0)/s,(b*s|0)/s,(f*s|0)/s,(j*s|0)/s,(o*s|0)/s,(c*s|0)/s,(g*s|0)/s,(k*s|0)/s,(p*s|0)/s,d,h,l,q?1+-l/q:1].join(",")+")"},Ab=function(){var a,b,c,d,e,f,g,h,i,j=this.data,k=this.t,l=k.style;m&&(a=l.top?"top":l.bottom?"bottom":parseFloat(V(k,"top",null,!1))?"bottom":"top",b=V(k,a,null,!1),c=parseFloat(b)||0,d=b.substr((c+"").length)||"px",j._ffFix=!j._ffFix,l[a]=(j._ffFix?c+.05:c-.05)+d),j.rotation||j.skewX?(e=j.rotation,f=e-j.skewX,g=1e5,h=j.scaleX*g,i=j.scaleY*g,l[tb]="matrix("+(Math.cos(e)*h|0)/g+","+(Math.sin(e)*h|0)/g+","+(Math.sin(f)*-i|0)/g+","+(Math.cos(f)*i|0)/g+","+j.x+","+j.y+")"):l[tb]="matrix("+j.scaleX+",0,0,"+j.scaleY+","+j.x+","+j.y+")"};qb("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(a,b,c,d,f,g,h){if(d._transform)return f;var i,j,k,l,m,n,o,p=d._transform=xb(a,e,!0,h.parseTransform),q=a.style,r=1e-6,s=sb.length,t=h,u={};if("string"==typeof t.transform&&tb)k=q.cssText,q[tb]=t.transform,q.display="block",i=xb(a,null,!1),q.cssText=k;else if("object"==typeof t){if(i={scaleX:db(null!=t.scaleX?t.scaleX:t.scale,p.scaleX),scaleY:db(null!=t.scaleY?t.scaleY:t.scale,p.scaleY),scaleZ:db(null!=t.scaleZ?t.scaleZ:t.scale,p.scaleZ),x:db(t.x,p.x),y:db(t.y,p.y),z:db(t.z,p.z),perspective:db(t.transformPerspective,p.perspective)},o=t.directionalRotation,null!=o)if("object"==typeof o)for(k in o)t[k]=o[k];else t.rotation=o;i.rotation=eb("rotation"in t?t.rotation:"shortRotation"in t?t.shortRotation+"_short":"rotationZ"in t?t.rotationZ:p.rotation*H,p.rotation,"rotation",u),wb&&(i.rotationX=eb("rotationX"in t?t.rotationX:"shortRotationX"in t?t.shortRotationX+"_short":p.rotationX*H||0,p.rotationX,"rotationX",u),i.rotationY=eb("rotationY"in t?t.rotationY:"shortRotationY"in t?t.shortRotationY+"_short":p.rotationY*H||0,p.rotationY,"rotationY",u)),i.skewX=null==t.skewX?p.skewX:eb(t.skewX,p.skewX),i.skewY=null==t.skewY?p.skewY:eb(t.skewY,p.skewY),(j=i.skewY-p.skewY)&&(i.skewX+=j,i.rotation+=j)}for(null!=t.force3D&&(p.force3D=t.force3D,n=!0),m=p.force3D||p.z||p.rotationX||p.rotationY||i.z||i.rotationX||i.rotationY||i.perspective,m||null==t.scale||(i.scaleZ=1);--s>-1;)c=sb[s],l=i[c]-p[c],(l>r||-r>l||null!=I[c])&&(n=!0,f=new mb(p,c,p[c],l,f),c in u&&(f.e=u[c]),f.xs0=0,f.plugin=g,d._overwriteProps.push(f.n));return l=t.transformOrigin,(l||wb&&m&&p.zOrigin)&&(tb?(n=!0,c=vb,l=(l||V(a,c,e,!1,"50% 50%"))+"",f=new mb(q,c,0,0,f,-1,"transformOrigin"),f.b=q[c],f.plugin=g,wb?(k=p.zOrigin,l=l.split(" "),p.zOrigin=(l.length>2&&(0===k||"0px"!==l[2])?parseFloat(l[2]):k)||0,f.xs0=f.e=q[c]=l[0]+" "+(l[1]||"50%")+" 0px",f=new mb(p,"zOrigin",0,0,f,-1,f.n),f.b=k,f.xs0=f.e=p.zOrigin):f.xs0=f.e=q[c]=l):bb(l+"",p)),n&&(d._transformType=m||3===this._transformType?3:2),f},prefix:!0}),qb("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),qb("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g){b=this.format(b);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=a.style;for(p=parseFloat(a.offsetWidth),q=parseFloat(a.offsetHeight),h=b.split(" "),i=0;i<x.length;i++)this.p.indexOf("border")&&(x[i]=T(x[i])),l=k=V(a,x[i],e,!1,"0px"),-1!==l.indexOf(" ")&&(k=l.split(" "),l=k[0],k=k[1]),m=j=h[i],n=parseFloat(l),s=l.substr((n+"").length),t="="===m.charAt(1),t?(o=parseInt(m.charAt(0)+"1",10),m=m.substr(2),o*=parseFloat(m),r=m.substr((o+"").length-(0>o?1:0))||""):(o=parseFloat(m),r=m.substr((o+"").length)),""===r&&(r=d[c]||s),r!==s&&(u=W(a,"borderLeft",n,s),v=W(a,"borderTop",n,s),"%"===r?(l=u/p*100+"%",k=v/q*100+"%"):"em"===r?(w=W(a,"borderLeft",1,"em"),l=u/w+"em",k=v/w+"em"):(l=u+"px",k=v+"px"),t&&(m=parseFloat(l)+o+r,j=parseFloat(k)+o+r)),g=nb(y,x[i],l+" "+k,m+" "+j,!1,"0px",g);return g},prefix:!0,formatter:jb("0px 0px 0px 0px",!1,!0)}),qb("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",p=e||U(a,null),q=this.format((p?o?p.getPropertyValue(n+"-x")+" "+p.getPropertyValue(n+"-y"):p.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=V(a,"backgroundImage").replace(A,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),L.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-L.width:a.offsetHeight-L.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:bb}),qb("backgroundSize",{defaultValue:"0 0",formatter:bb}),qb("perspective",{defaultValue:"0px",prefix:!0}),qb("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),qb("transformStyle",{prefix:!0}),qb("backfaceVisibility",{prefix:!0}),qb("margin",{parser:kb("marginTop,marginRight,marginBottom,marginLeft")}),qb("padding",{parser:kb("paddingTop,paddingRight,paddingBottom,paddingLeft")}),qb("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>o?(i=a.currentStyle,j=8>o?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(V(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),qb("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),qb("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),qb("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,"borderTopWidth",e,!1,"0px")+" "+V(a,"borderTopStyle",e,!1,"solid")+" "+V(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ib)||["#000"])[0]}}),qb("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){var f=a.style,g="cssFloat"in f?"cssFloat":"styleFloat";return new mb(f,g,0,0,e,-1,c,!1,0,f[g],b)}});var Bb=function(a){var b,c=this.t,d=c.filter||V(this.data,"filter"),e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")?(c.removeAttribute("filter"),b=!V(this.data,"filter")):(c.filter=d.replace(w,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("opacity")?0===e&&this.xn1||(c.filter+=" alpha(opacity="+e+")"):c.filter=d.replace(u,"opacity="+e))};qb("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(V(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return b=parseFloat(b),j&&1===h&&"hidden"===V(a,"visibility",e)&&0!==b&&(h=0),O?f=new mb(i,"opacity",h,b-h,f):(f=new mb(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Bb),j&&(f=new mb(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n)),f}});var Cb=function(a,b){b&&(a.removeProperty?a.removeProperty(b.replace(y,"-$1").toLowerCase()):a.removeAttribute(b))},Db=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.className=0===a?this.b:this.e;for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Cb(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};qb("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.className,p=a.style.cssText;if(g=f._classNamePT=new mb(a,d,0,0,g,2),g.setRatio=Db,g.pr=-11,c=!0,g.b=o,k=Y(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),f._tween._duration&&(a.className=g.e,j=Z(a,k,Y(a),i,m),a.className=o,g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)),g}});var Eb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration){if("all"===this.e)return this.t.style.cssText="",void(this.t._gsTransform&&delete this.t._gsTransform);for(var b,c=this.t.style,d=this.e.split(","),e=d.length,f=h.transform.parse;--e>-1;)b=d[e],h[b]&&(b=h[b].parse===f?tb:h[b].p),Cb(c,b)}};for(qb("clearProps",{parser:function(a,b,d,e,f){return f=new mb(a,d,0,0,f,2),f.setRatio=Eb,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),i="bezier,throwProps,physicsProps,physics2D".split(","),ob=i.length;ob--;)rb(i[ob]);i=g.prototype,i._firstPT=null,i._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,j=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=U(a,""),f=this._overwriteProps;var i,m,o,p,q,r,s,t,u,w=a.style;if(k&&""===w.zIndex&&(i=V(a,"zIndex",e),("auto"===i||""===i)&&(w.zIndex=0)),"string"==typeof b&&(p=w.cssText,i=Y(a,e),w.cssText=p+";"+b,i=Z(a,i,Y(a)).difs,!O&&v.test(b)&&(i.opacity=parseFloat(RegExp.$1)),b=i,w.cssText=p),this._firstPT=m=this.parse(a,b,null),this._transformType){for(u=3===this._transformType,tb?l&&(k=!0,""===w.zIndex&&(s=V(a,"zIndex",e),("auto"===s||""===s)&&(w.zIndex=0)),n&&(w.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):w.zoom=1,o=m;o&&o._next;)o=o._next;t=new mb(a,"transform",0,0,null,2),this._linkCSSP(t,null,o),t.setRatio=u&&wb?zb:tb?Ab:yb,t.data=this._transform||xb(a,e,!0),f.pop()}if(c){for(;m;){for(r=m._next,o=p;o&&o.pr>m.pr;)o=o._next;(m._prev=o?o._prev:q)?m._prev._next=m:p=m,(m._next=o)?o._prev=m:q=m,m=r}this._firstPT=p}return!0},i.parse=function(a,b,c,f){var g,i,k,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],i=h[g],i?c=i.parse(a,n,g,this,c,f,b):(m=V(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&x.test(n)?(q||(n=hb(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=nb(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(k=parseFloat(m),o=k||0===k?m.substr((k+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(k=ab(a,g,e),o="px"):"left"===g||"top"===g?(k=X(a,g,e),o="px"):(k="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(t,"")):(l=parseFloat(n),p=q?n.substr((l+"").length)||"":""),""===p&&(p=d[g]||o),n=l||0===l?(r?l+k:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&(k||0===k)&&(k=W(a,g,k,o),"%"===p?(k/=W(a,g,100,"%")/100,k>100&&(k=100),b.strictUnits!==!0&&(m=k+"%")):"em"===p?k/=W(a,g,1,"em"):(l=W(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+k+p)),r&&(l+=k),!k&&0!==k||!l&&0!==l?void 0!==s[g]&&(n||n+""!="NaN"&&null!=n)?(c=new mb(s,g,l||k||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):Q("invalid "+g+" tween value: "+b[g]):(c=new mb(s,g,k,l-k,c,0,g,j!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=nb(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},i.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=b>0?b+.5|0:b-.5|0:f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;)2!==e.type?e.t[e.p]=e.e:e.setRatio(a),e=e._next},i._enableTransforms=function(a){this._transformType=a||3===this._transformType?3:2,this._transform=this._transform||xb(this._target,e,!0)},i._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},i._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Fb=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Fb(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(Y(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Fb(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h=b.to(a,c,d),i=[h],j=[],k=[],l=[],m=b._internals.reservedProps;for(a=h._targets||h.target,Fb(a,j,l),h.render(c,!0),Fb(a,k),h.render(0,!0),h._enabled(!0),e=l.length;--e>-1;)if(f=Z(l[e],j[e],k[e]),f.firstMPT){f=f.difs;for(g in d)m[g]&&(f[g]=d[g]);i.push(b.to(l[e],c,f))}return i},a.activate([g]),g},!0),function(){var a=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=a.prototype;b._onInitAllProps=function(){for(var a,b,c,d=this._tween,e=d.vars.roundProps instanceof Array?d.vars.roundProps:d.vars.roundProps.split(","),f=e.length,g={},h=d._propLookup.roundProps;--f>-1;)g[e[f]]=1;for(f=e.length;--f>-1;)for(a=e[f],b=d._firstPT;b;)c=b._next,b.pg?b.t._roundProps(g,!0):b.n===a&&(this._add(b.t,a,b.s,b.c),c&&(c._prev=b._prev),b._prev?b._prev._next=c:d._firstPT===b&&(d._firstPT=c),b._next=b._prev=null,d._propLookup[a]=h),b=c;return!1},b._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,!0),this._overwriteProps.push(b)}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(a,b){var c;if("function"!=typeof a.setAttribute)return!1;this._target=a,this._proxy={};for(c in b)this._addTween(this._proxy,c,parseFloat(a.getAttribute(c)),b[c],c)&&this._overwriteProps.push(c);return!0},set:function(a){this._super.setRatio.call(this,a);for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=c[d],this._target.setAttribute(b,this._proxy[b]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(a,b){"object"!=typeof b&&(b={rotation:b}),this.finals={};var c,d,e,f,g,h,i=b.useRadians===!0?2*Math.PI:360,j=1e-6;for(c in b)"useRadians"!==c&&(h=(b[c]+"").split("_"),d=h[0],e=parseFloat("function"!=typeof a[c]?a[c]:a[c.indexOf("set")||"function"!=typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]()),f=this.finals[c]="string"==typeof d&&"="===d.charAt(1)?e+parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)):Number(d)||0,g=f-e,h.length&&(d=h.join("_"),-1!==d.indexOf("short")&&(g%=i,g!==g%(i/2)&&(g=0>g?g+i:g-i)),-1!==d.indexOf("_cw")&&0>g?g=(g+9999999999*i)%i-(g/i|0)*i:-1!==d.indexOf("ccw")&&g>0&&(g=(g-9999999999*i)%i-(g/i|0)*i)),(g>j||-j>g)&&(this._addTween(a,c,e,e+g,c),this._overwriteProps.push(c)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=window.GreenSockGlobals||window,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d){var e=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(e,a),e},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a||1,this._p2=b||d,this._p3=this._p2/g*(Math.asin(1/this._p1)||0)},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*g/this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),function(a){"use strict";var b,c,d,e,f,g=a.GreenSockGlobals||a,h=function(a){var b,c=a.split("."),d=g;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},i=h("com.greensock"),j=[].slice,k=function(){},l={},m=function(b,c,d,e){this.sc=l[b]?l[b].sc:[],l[b]=this,this.gsClass=null,this.func=d;var f=[];this.check=function(i){for(var j,k,n,o,p=c.length,q=p;--p>-1;)(j=l[c[p]]||new m(c[p],[])).gsClass?(f[p]=j.gsClass,q--):i&&j.sc.push(this);if(0===q&&d)for(k=("com.greensock."+b).split("."),n=k.pop(),o=h(k.join("."))[n]=this.gsClass=d.apply(d,f),e&&(g[n]=o,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+b.split(".").join("/"),[],function(){return o}):"undefined"!=typeof module&&module.exports&&(module.exports=o)),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},n=a._gsDefine=function(a,b,c,d){return new m(a,b,c,d)},o=i._class=function(a,b,c){return b=b||function(){},n(a,[],function(){return b},c),b};n.globals=g;var p=[0,0,1,1],q=[],r=o("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?p.concat(b):p},!0),s=r.map={},t=r.register=function(a,b,c,d){for(var e,f,g,h,j=b.split(","),k=j.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=j[k],e=d?o("easing."+f,null,!0):i.easing[f]||{},g=l.length;--g>-1;)h=l[g],s[f+"."+h]=s[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(d=r.prototype,d._calcEnd=!1,d.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},b=["Linear","Quad","Cubic","Quart","Quint,Strong"],c=b.length;--c>-1;)d=b[c]+",Power"+c,t(new r(null,null,1,c),d,"easeOut",!0),t(new r(null,null,2,c),d,"easeIn"+(0===c?",easeNone":"")),t(new r(null,null,3,c),d,"easeInOut");s.linear=i.easing.Linear.easeIn,s.swing=i.easing.Quad.easeInOut;var u=o("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});d=u.prototype,d.addEventListener=function(a,b,c,d,g){g=g||0;var h,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)h=j[i],h.c===b&&h.s===c?j.splice(i,1):0===k&&h.pr<g&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:g}),this!==e||f||e.wake()},d.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},d.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c)};var v=a.requestAnimationFrame,w=a.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},y=x();for(b=["ms","moz","webkit","o"],c=b.length;--c>-1&&!v;)v=a[b[c]+"RequestAnimationFrame"],w=a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];o("Ticker",function(a,b){var c,d,g,h,i,j=this,l=x(),m=b!==!1&&v,n=function(a){y=x(),j.time=(y-l)/1e3;var b,e=j.time-i;(!c||e>0||a===!0)&&(j.frame++,i+=e+(e>=h?.004:h-e),b=!0),a!==!0&&(g=d(n)),b&&j.dispatchEvent("tick")};u.call(j),this.time=this.frame=0,this.tick=function(){n(!0)},this.sleep=function(){null!=g&&(m&&w?w(g):clearTimeout(g),d=k,g=null,j===e&&(f=!1))},this.wake=function(){null!==g&&j.sleep(),d=0===c?k:m&&v?v:function(a){return setTimeout(a,1e3*(i-j.time)+1|0)},j===e&&(f=!0),n(2)},this.fps=function(a){return arguments.length?(c=a,h=1/(c||60),i=this.time+h,void j.wake()):c},this.useRAF=function(a){return arguments.length?(j.sleep(),m=a,void j.fps(c)):m},j.fps(a),setTimeout(function(){m&&(!g||j.frame<5)&&j.useRAF(!1)},1500)}),d=i.Ticker.prototype=new i.events.EventDispatcher,d.constructor=i.Ticker;var z=o("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,M){f||e.wake();var c=this.vars.useFrames?L:M;c.add(this,c._time),this.vars.paused&&this.paused(!0)
}});e=z.ticker=new i.Ticker,d=z.prototype,d._dirty=d._gc=d._initted=d._paused=!1,d._totalTime=d._time=0,d._rawPrevTime=-1,d._next=d._last=d._onUpdate=d._timeline=d.timeline=null,d._paused=!1;var A=function(){x()-y>2e3&&e.wake(),setTimeout(A,2e3)};A(),d.play=function(a,b){return arguments.length&&this.seek(a,b),this.reversed(!1).paused(!1)},d.pause=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!0)},d.resume=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!1)},d.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},d.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},d.reverse=function(a,b){return arguments.length&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},d.render=function(){},d.invalidate=function(){return this},d._enabled=function(a,b){return f||e.wake(),this._gc=!a,this._active=a&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration,b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},d._kill=function(){return this._enabled(!1,!1)},d.kill=function(a,b){return this._kill(a,b),this},d._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},d._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},d.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=c instanceof Array&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},d.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},d.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},d.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},d.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},d.totalTime=function(a,b,c){if(f||e.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,g=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:g._time)-(this._reversed?d-a:a)/this._timeScale,g._dirty||this._uncache(!1),g._timeline)for(;g._timeline;)g._timeline._time!==(g._startTime+g._totalTime)/g._timeScale&&g.totalTime(g._totalTime,!0),g=g._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==a&&this.render(a,b,!1)}return this},d.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},d.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||1e-6,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},d.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._totalTime,!0)),this):this._reversed},d.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){f||a||e.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=!a&&this._totalTime>0&&this._totalTime<this._totalDuration,a||0===d||0===this._duration||this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var B=o("core.SimpleTimeline",function(a){z.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});d=B.prototype=new z,d.constructor=B,d.kill()._gc=!1,d._first=d._last=null,d._sortChildren=!1,d.add=d.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._timeline&&this._uncache(!0),this},d._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},d.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},d.rawTime=function(){return f||e.wake(),this._totalTime};var C=o("TweenLite",function(b,c,d){if(z.call(this,c,d),this.render=C.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:C.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?K[C.defaultOverwrite]:"number"==typeof i?i>>0:K[i],(h||b instanceof Array)&&"number"!=typeof b[0])for(this._targets=g=j.call(b,0),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(j.call(f,0))):(this._siblings[e]=N(f,this,!1),1===i&&this._siblings[e].length>1&&O(f,this,null,1,this._siblings[e])):(f=g[e--]=C.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=N(b,this,!1),1===i&&this._siblings.length>1&&O(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),D=function(b){return b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},E=function(a,b){var c,d={};for(c in a)J[c]||c in b&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!G[c]||G[c]&&G[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};d=C.prototype=new z,d.constructor=C,d.kill()._gc=!1,d.ratio=0,d._firstPT=d._targets=d._overwrittenProps=d._startAt=null,d._notifyPluginsOfEnabled=!1,C.version="1.10.2",C.defaultEase=d._ease=new r(null,null,1,1),C.defaultOverwrite="auto",C.ticker=e,C.autoSleep=!0,C.selector=a.$||a.jQuery||function(b){return a.$?(C.selector=a.$,a.$(b)):a.document?a.document.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var F=C._internals={},G=C._plugins={},H=C._tweenLookup={},I=0,J=F.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},L=z._rootFramesTimeline=new B,M=z._rootTimeline=new B;M._startTime=e.time,L._startTime=e.frame,M._active=L._active=!0,z._updateRoot=function(){if(M.render((e.time-M._startTime)*M._timeScale,!1,!1),L.render((e.frame-L._startTime)*L._timeScale,!1,!1),!(e.frame%120)){var a,b,c;for(c in H){for(b=H[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete H[c]}if(c=M._first,(!c||c._paused)&&C.autoSleep&&!L._first&&1===e._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||e.sleep()}}},e.addEventListener("tick",z._updateRoot);var N=function(a,b,c){var d,e,f=a._gsTweenID;if(H[f||(a._gsTweenID=f="t"+I++)]||(H[f]={target:a,tweens:[]}),b&&(d=H[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return H[f].tweens},O=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+1e-10,l=[],m=0,n=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||P(b,0,n),0===P(h,j,n)&&(l[m++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale+1e-10>k&&((n||!h._initted)&&k-h._startTime<=2e-10||(l[m++]=h)));for(f=m;--f>-1;)h=l[f],2===d&&h._kill(c,a)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&h._enabled(!1,!1)&&(g=!0);return g},P=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime,g=1e-10;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*g>f-b?g:(f+=a.totalDuration()/a._timeScale/e)>b+g?0:f-b-g};d._init=function(){var a,b,c,d,e=this.vars,f=this._overwrittenProps,g=this._duration,h=e.immediateRender,i=e.ease;if(e.startAt){if(this._startAt&&this._startAt.render(-1,!0),e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=C.to(this.target,0,e.startAt),h)if(this._time>0)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&e.immediateRender&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(0===this._time){c={};for(d in e)J[d]&&"autoCSS"!==d||(c[d]=e[d]);return c.overwrite=0,void(this._startAt=C.to(this.target,0,c))}if(this._ease=i?i instanceof r?e.easeParams instanceof Array?i.config.apply(i,e.easeParams):i:"function"==typeof i?new r(i,e.easeParams):s[i]||C.defaultEase:C.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f);if(b&&C._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate,this._initted=!0},d._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;this.vars.css||b.style&&b!==a&&b.nodeType&&G.css&&this.vars.autoCSS!==!1&&E(this.vars,b);for(f in this.vars){if(k=this.vars[f],J[f])k instanceof Array&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(G[f]&&(i=new G[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&O(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):h},d.render=function(a,b,c){var d,e,f,g=this._time;if(a>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===this._duration&&((0===a||this._rawPrevTime<0)&&this._rawPrevTime!==a&&(c=!0,this._rawPrevTime>0&&(e="onReverseComplete",b&&(a=-1))),this._rawPrevTime=a);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===this._duration&&this._rawPrevTime>0)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=a)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var h=a/this._duration,i=this._easeType,j=this._easePower;(1===i||3===i&&h>=.5)&&(h=1-h),3===i&&(h*=2),1===j?h*=h:2===j?h*=h*h:3===j?h*=h*h*h:4===j&&(h*=h*h*h*h),this.ratio=1===i?1-h:2===i?h:a/this._duration<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(a/this._duration);if(this._time!==g||c){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/this._duration):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==g&&a>=0&&(this._active=!0),0===g&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===this._duration)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||q))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startAt.render(a,b,c),b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||q)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||q)))}},d._kill=function(a,b){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:C.selector(b)||b;var c,d,e,f,g,h,i,j;if((b instanceof Array||D(b))&&"number"!=typeof b[0])for(c=b.length;--c>-1;)this._kill(a,b[c])&&(h=!0);else{if(this._targets){for(c=this._targets.length;--c>-1;)if(b===this._targets[c]){g=this._propLookup[c]||{},this._overwrittenProps=this._overwrittenProps||[],d=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==this.target)return!1;g=this._propLookup,d=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(g){i=a||g,j=a!==d&&"all"!==d&&a!==g&&(null==a||a._tempKill!==!0);for(e in i)(f=g[e])&&(f.pg&&f.t._kill(i)&&(h=!0),f.pg&&0!==f.t._overwriteProps.length||(f._prev?f._prev._next=f._next:f===this._firstPT&&(this._firstPT=f._next),f._next&&(f._next._prev=f._prev),f._next=f._prev=null),delete g[e]),j&&(d[e]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},d.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},d._enabled=function(a,b){if(f||e.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=N(d[c],this,!0);else this._siblings=N(this.target,this,!0)}return z.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?C._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},C.to=function(a,b,c){return new C(a,b,c)},C.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new C(a,b,c)},C.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new C(a,b,d)},C.delayedCall=function(a,b,c,d,e){return new C(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})},C.set=function(a,b){return new C(a,0,b)},C.killTweensOf=C.killDelayedCallsTo=function(a,b){for(var c=C.getTweensOf(a),d=c.length;--d>-1;)c[d]._kill(b,a)},C.getTweensOf=function(a){if(null==a)return[];a="string"!=typeof a?a:C.selector(a)||a;var b,c,d,e;if((a instanceof Array||D(a))&&"number"!=typeof a[0]){for(b=a.length,c=[];--b>-1;)c=c.concat(C.getTweensOf(a[b]));for(b=c.length;--b>-1;)for(e=c[b],d=b;--d>-1;)e===c[d]&&c.splice(b,1)}else for(c=N(a).concat(),b=c.length;--b>-1;)c[b]._gc&&c.splice(b,1);return c};var Q=o("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=Q.prototype},!0);if(d=Q.prototype,Q.version="1.10.1",Q.API=2,d._firstPT=null,d._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},d.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=b+(b>0?.5:-.5)|0:d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},d._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},d._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},C._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},Q.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===Q.API&&(G[(new a[b])._propName]=a[b]);return!0},n.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=o("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){Q.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new Q(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,Q.activate([g]),g},b=a._gsQueue){for(c=0;c<b.length;c++)b[c]();for(d in l)l[d].func||a.console.log("GSAP encountered missing dependency: com.greensock."+d)}f=!1}(window),function(a){"use strict";var b,c,d,e=a.fn.animate,f=a.fn.stop,g=!0,h=function(a,b){"function"==typeof a&&this.each(a),b()},i=function(a,b,c,d,e){e="function"==typeof e?e:null,b="function"==typeof b?b:null,(b||e)&&(d[a]=e?h:c.each,d[a+"Scope"]=c,d[a+"Params"]=e?[b,e]:[b])},j={overwrite:1,delay:1,useFrames:1,runBackwards:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,autoCSS:1},k=function(a,b){for(var c in j)j[c]&&void 0!==a[c]&&(b[c]=a[c])},l=function(a){return function(b){return a.getRatio(b)}},m={},n=function(){var e,f,g,h=window.GreenSockGlobals||window;if(b=h.TweenMax||h.TweenLite,b&&(e=(b.version+".0.0").split("."),f=!(Number(e[0])>0&&Number(e[1])>7),h=h.com.greensock,c=h.plugins.CSSPlugin,m=h.easing.Ease.map||{}),!b||!c||f)return b=null,void(!d&&window.console&&(window.console.log("The jquery.gsap.js plugin requires the TweenMax (or at least TweenLite and CSSPlugin) JavaScript file(s)."+(f?" Version "+e.join(".")+" is too old.":"")),d=!0));if(a.easing){for(g in m)a.easing[g]=l(m[g]);n=!1}};a.fn.animate=function(d,f,h,j){if(d=d||{},n&&(n(),!b||!c))return e.call(this,d,f,h,j);if(!g||d.skipGSAP===!0||"object"==typeof f&&"function"==typeof f.step||null!=d.scrollTop||null!=d.scrollLeft)return e.call(this,d,f,h,j);var l,o,p,q,r=a.speed(f,h,j),s={ease:m[r.easing]||(r.easing===!1?m.linear:m.swing)},t=this,u="object"==typeof f?f.specialEasing:null;for(o in d){if(l=d[o],l instanceof Array&&m[l[1]]&&(u=u||{},u[o]=l[1],l=l[0]),"toggle"===l||"hide"===l||"show"===l)return e.call(this,d,f,h,j);s[-1===o.indexOf("-")?o:a.camelCase(o)]=l}if(u){q=[];for(o in u)l=q[q.length]={},k(s,l),l.ease=m[u[o]]||s.ease,-1!==o.indexOf("-")&&(o=a.camelCase(o)),l[o]=s[o];0===q.length&&(q=null)}return p=function(c){if(q)for(var d=q.length;--d>-1;)b.to(t,a.fx.off?0:r.duration/1e3,q[d]);i("onComplete",r.old,t,s,c),b.to(t,a.fx.off?0:r.duration/1e3,s)},r.queue!==!1?t.queue(r.queue,p):p(),t},a.fn.stop=function(a,c){if(f.call(this,a,c),b){if(c)for(var d,e=b.getTweensOf(this),g=e.length;--g>-1;)d=e[g].totalTime()/e[g].totalDuration(),d>0&&1>d&&e[g].seek(e[g].totalDuration());b.killTweensOf(this)}return this},a.gsap={enabled:function(a){g=a},version:"0.1.6"}}(jQuery),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.protocolCheck=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b,c){return a.addEventListener?(a.addEventListener(b,c),{remove:function(){a.removeEventListener(b,c)}}):(a.attachEvent(b,c),{remove:function(){a.detachEvent(b,c)}})}function d(a,b){var c=document.createElement("iframe");return c.src=b,c.id="hiddenIframe",c.style.display="none",a.appendChild(c),c}function e(a,b,e){function f(){clearTimeout(g),i.remove(),e()}var g=setTimeout(function(){b(),i.remove()},n),h=document.querySelector("#hiddenIframe");h||(h=d(document.body,"about:blank"));var i=c(window,"blur",f);h.contentWindow.location.href=a}function f(a,b,d){function e(){clearTimeout(f),h.remove(),d()}for(var f=setTimeout(function(){b(),h.remove()},n),g=window;g!=g.parent;)g=g.parent;var h=c(g,"blur",e);window.location=a}function g(a,b,c){var e=document.querySelector("#hiddenIframe");e||(e=d(document.body,"about:blank"));try{e.contentWindow.location.href=a,c()}catch(f){"NS_ERROR_UNKNOWN_PROTOCOL"==f.name&&b()}}function h(a,b,c){10===m()?i(a,b,c):9===m()||11===m()?e(a,b,c):j(a,b,c)}function i(a,b,c){var e=setTimeout(b,n);window.addEventListener("blur",function(){clearTimeout(e),c()});var f=document.querySelector("#hiddenIframe");f||(f=d(document.body,"about:blank"));try{f.contentWindow.location.href=a}catch(g){b(),clearTimeout(e)}}function j(a,b,c){var d=window.open("","","width=0,height=0");d.document.write("<iframe src='"+a+"'></iframe>"),setTimeout(function(){try{d.location.href,d.setTimeout("window.close()",n),c()}catch(a){d.close(),b()}},n)}function k(a,b,c){navigator.msLaunchUri(a,c,b)}function l(){var a=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;return{isOpera:a,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isChrome:!!window.chrome&&!a,isIE:!1||!!document.documentMode}}function m(){var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else if("Netscape"===navigator.appName){var b=navigator.userAgent,c=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a}const n=3500;b.exports=function(a,b,c){function d(){b&&b()}function e(){c&&c()}if(navigator.msLaunchUri)k(a,b,c);else{var i=l();i.isFirefox?g(a,d,e):i.isChrome?f(a,d,e):i.isIE&&h(a,d,e)}}},{}]},{},[1])(1)});var Base=function(){};Base.extend=function(a,b){"use strict";var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!==arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return"object"==a?f:e.valueOf()},c.call(f,b),"function"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&"function"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\bbase\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return"object"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(e=this.extend||e);for(var f={toSource:null},g=["constructor","toString","valueOf"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)"function"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});var FlipClock;!function(a){"use strict";FlipClock=function(a,b,c){return new FlipClock.Factory(a,b,c)},FlipClock.Lang={},FlipClock.Base=Base.extend({buildDate:"2013-11-07",version:"0.3.1",constructor:function(b,c){"object"!=typeof b&&(b={}),"object"!=typeof c&&(c={}),this.setOptions(a.extend(!0,{},b,c))},callback:function(a){if("function"==typeof a){for(var b=[],c=1;c<=arguments.length;c++)arguments[c]&&b.push(arguments[c]);a.apply(this,b)}},log:function(a){window.console&&console.log&&console.log(a)},getOption:function(a){return this[a]?this[a]:!1},getOptions:function(){return this},setOption:function(a,b){this[a]=b},setOptions:function(a){for(var b in a)"undefined"!=typeof a[b]&&this.setOption(b,a[b])}}),FlipClock.Factory=FlipClock.Base.extend({autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",defaultClockFace:"HourlyCounter",defaultLanguage:"english",language:"english",lang:!1,face:!0,running:!1,time:!1,timer:!1,lists:[],$wrapper:!1,constructor:function(b,c,d){this.lists=[],this.running=!1,this.base(d),this.$wrapper=a(b).addClass(this.classes.wrapper),this.time=new FlipClock.Time(this,c?Math.round(c):0),this.timer=new FlipClock.Timer(this,d),this.lang=this.loadLanguage(this.language),this.face=this.loadClockFace(this.clockFace,d),this.autoStart&&this.start()},loadClockFace:function(a,b){var c,d="Face";return a=a.ucfirst()+d,c=FlipClock[a]?new FlipClock[a](this,b):new FlipClock[this.defaultClockFace+d](this,b),c.build(),c},loadLanguage:function(a){var b;return b=FlipClock.Lang[a.ucfirst()]?FlipClock.Lang[a.ucfirst()]:FlipClock.Lang[a]?FlipClock.Lang[a]:FlipClock.Lang[this.defaultLanguage]},localize:function(a,b){var c=this.lang,d=a.toLowerCase();return"object"==typeof b&&(c=b),c&&c[d]?c[d]:a},start:function(a){var b=this;b.running||b.countdown&&!(b.countdown&&b.time.time>0)?b.log("Trying to start timer when countdown already at 0"):(b.face.start(b.time),b.timer.start(function(){b.flip(),"function"==typeof a&&a()}))},stop:function(a){this.face.stop(),this.timer.stop(a);for(var b in this.lists)this.lists[b].stop()},reset:function(a){this.timer.reset(a),this.face.reset()},setTime:function(a){this.time.time=a,this.face.setTime(a)},getTime:function(){return this.time},setCountdown:function(a){var b=this.running;this.countdown=a?!0:!1,b&&(this.stop(),this.start())},flip:function(){this.face.flip()}}),FlipClock.Face=FlipClock.Base.extend({dividers:[],factory:!1,lists:[],constructor:function(a,b){this.base(b),this.factory=a,this.dividers=[]},build:function(){},createDivider:function(b,c,d){"boolean"!=typeof c&&c||(d=c,c=b);var e=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");d&&(e=""),b=this.factory.localize(b);var f=['<span class="'+this.factory.classes.divider+" "+(c?c:"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(b?b:"")+"</span>",e,"</span>"];return a(f.join(""))},createList:function(a,b){"object"==typeof a&&(b=a,a=0);var c=new FlipClock.List(this.factory,a,b);return c},reset:function(){},setTime:function(a){this.flip(a)},addDigit:function(a){var b=this.createList(a,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});b.$obj.insertBefore(this.factory.lists[0].$obj),this.factory.lists.unshift(b)},start:function(){},stop:function(){},flip:function(b,c){var d=this;c||(d.factory.countdown?(d.factory.time.time<=0&&d.factory.stop(),d.factory.time.time--):d.factory.time.time++);var e=d.factory.lists.length-b.length;0>e&&(e=0);var f=!1;a.each(b,function(a,b){a+=e;var g=d.factory.lists[a];if(g){var h=g.digit;g.select(b),b!=h&&!c&&g.play()}else d.addDigit(b),f=!0});for(var g=0;g<b.length;g++)g>=e&&d.factory.lists[g].digit!=b[g]&&d.factory.lists[g].select(b[g])}}),FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$obj:!1,items:[],constructor:function(a,b){this.factory=a,this.digit=b,this.$obj=this.createList(),b>0&&this.select(b),this.factory.$wrapper.append(this.$obj)},select:function(a){"undefined"==typeof a?a=this.digit:this.digit=a;{var b=this.$obj.find('[data-digit="'+a+'"]');this.$obj.find("."+this.classes.active).removeClass(this.classes.active),this.$obj.find("."+this.classes.before).removeClass(this.classes.before)}this.factory.countdown?b.is(":last-child")?this.$obj.find(":first-child").addClass(this.classes.before):b.next().addClass(this.classes.before):b.is(":first-child")?this.$obj.find(":last-child").addClass(this.classes.before):b.prev().addClass(this.classes.before),b.addClass(this.classes.active)},play:function(){this.$obj.addClass(this.factory.classes.play)},stop:function(){var a=this;setTimeout(function(){a.$obj.removeClass(a.factory.classes.play)},this.factory.timer.interval)},createList:function(){for(var b=a('<ul class="'+this.classes.flip+'" />'),c=0;10>c;c++){var d=a(['<li data-digit="'+c+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+c+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+c+"</div>","</div>","</a>","</li>"].join(""));this.items.push(d),b.append(d)}return b}}),FlipClock.Time=FlipClock.Base.extend({minimumDigits:0,time:0,factory:!1,constructor:function(a,b,c){this.base(c),this.factory=a,b&&(this.time=b)},convertDigitsToArray:function(a){var b=[];a=a.toString();for(var c=0;c<a.length;c++)a[c].match(/^\d*$/g)&&b.push(a[c]);return b},digit:function(a){var b=this.toString(),c=b.length;return b[c-a]?b[c-a]:!1},digitize:function(b){var c=[];return a.each(b,function(a,b){b=b.toString(),1==b.length&&(b="0"+b);for(var d=0;d<b.length;d++)c.push(b[d])}),c.length>this.minimumDigits&&(this.minimumDigits=c.length),this.minimumDigits>c.length&&c.unshift("0"),c},getDayCounter:function(a){var b=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return a&&b.push(this.getSeconds(!0)),this.digitize(b)
},getDays:function(a){var b=this.time/60/60/24;return a&&(b%=7),Math.floor(b)},getHourCounter:function(){var a=this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)]);return a},getHourly:function(){return this.getHourCounter()},getHours:function(a){var b=this.time/60/60;return a&&(b%=24),Math.floor(b)},getMilitaryTime:function(){var a=new Date,b=this.digitize([a.getHours(),a.getMinutes(),a.getSeconds()]);return b},getMinutes:function(a){var b=this.time/60;return a&&(b%=60),Math.floor(b)},getMinuteCounter:function(){var a=this.digitize([this.getMinutes(),this.getSeconds(!0)]);return a},getSeconds:function(a){var b=this.time;return a&&(60==b?b=0:b%=60),Math.ceil(b)},getTime:function(){var a=new Date,b=a.getHours(),c=this.digitize([b>12?b-12:0===b?12:b,a.getMinutes(),a.getSeconds()]);return c},getWeeks:function(){var a=this.time/60/60/24/7;return mod&&(a%=52),Math.floor(a)},removeLeadingZeros:function(b,c){var d=0,e=[];return a.each(c,function(a){b>a?d+=parseInt(c[a],10):e.push(c[a])}),0===d?e:c},toString:function(){return this.time.toString()}}),FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,constructor:function(a,b){this.base(b),this.factory=a,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(a){clearInterval(this.timer),this.count=0,this._setInterval(a),this.callback(this.callbacks.reset)},start:function(a){this.factory.running=!0,this._createTimer(a),this.callback(this.callbacks.start)},stop:function(a){this.factory.running=!1,this._clearInterval(a),this.callback(this.callbacks.stop),this.callback(a)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(a){this._setInterval(a)},_destroyTimer:function(a){this._clearInterval(),this.timer=!1,this.callback(a),this.callback(this.callbacks.destroy)},_interval:function(a){this.callback(this.callbacks.interval),this.callback(a),this.count++},_setInterval:function(a){var b=this;b.timer=setInterval(function(){b._interval(a)},this.interval)}}),String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},a.fn.FlipClock=function(b,c){return"object"==typeof b&&(c=b,b=0),new FlipClock(a(this),b,c)},a.fn.flipClock=function(b,c){return a.fn.FlipClock(b,c)}}(jQuery),function(){FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},FlipClock.Lang.en=FlipClock.Lang.English,FlipClock.Lang["en-us"]=FlipClock.Lang.English,FlipClock.Lang.english=FlipClock.Lang.English}(jQuery),function(){FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"},FlipClock.Lang.es=FlipClock.Lang.Spanish,FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish,FlipClock.Lang.spanish=FlipClock.Lang.Spanish}(jQuery),function(){FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},FlipClock.Lang.de=FlipClock.Lang.German,FlipClock.Lang["de-de"]=FlipClock.Lang.German,FlipClock.Lang.german=FlipClock.Lang.German}(jQuery),function(a){FlipClock.CounterFace=FlipClock.Face.extend({autoStart:!1,constructor:function(a,b){a.timer.interval=0,a.autoStart=!1,a.increment=function(){a.countdown=!1,a.setTime(a.getTime().time+1)},a.decrement=function(){a.countdown=!0,a.setTime(a.getTime().time-1)},a.setValue=function(b){a.setTime(b)},a.setCounter=function(b){a.setTime(b)},this.base(a,b)},build:function(){var b=this,c=this.factory.$wrapper.find("ul"),d=[],e=this.factory.getTime().digitize([this.factory.getTime().time]);e.length>c.length&&a.each(e,function(a,c){var e=b.createList(c);e.select(c),d.push(e)}),a.each(d,function(a,b){b.play()}),this.factory.lists=d},flip:function(a){var b=this.factory.getTime().digitize([this.factory.getTime().time]);this.base(b,a)}})}(jQuery),function(a){FlipClock.HourlyCounterFace=FlipClock.Face.extend({clearExcessDigits:!0,constructor:function(a,b){this.base(a,b)},build:function(b,c){var d=this,e=this.factory.$wrapper.find("ul"),f=[];c=c?c:this.factory.time.getHourCounter(),c.length>e.length&&a.each(c,function(a,b){f.push(d.createList(b))}),this.factory.lists=f,a(this.createDivider("Seconds")).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj),a(this.createDivider("Minutes")).insertBefore(this.factory.lists[this.factory.lists.length-4].$obj),b||a(this.createDivider("Hours",!0)).insertBefore(this.factory.lists[0].$obj),this.clearExcessDigits&&this._clearExcessDigits(),this.autoStart&&this.start()},flip:function(a,b){b||(b=this.factory.time.getHourCounter()),this.base(b,a)},_clearExcessDigits:function(){for(var a=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4],c=6;10>c;c++)a.$obj.find("li:last-child").remove(),b.$obj.find("li:last-child").remove()}})}(jQuery),function(){FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(a,b){this.base(a,b)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(a){this.base(a,this.factory.time.getMinuteCounter())}})}(jQuery),function(a){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(a,b){a.countdown=!1,this.base(a,b)},build:function(b){var c=this,d=this.factory.$wrapper.find("ul");b=b?b:this.factory.time.time||this.factory.time.getMilitaryTime(),b.length>d.length&&a.each(b,function(a,b){c.factory.lists.push(c.createList(b))}),this.dividers.push(this.createDivider()),this.dividers.push(this.createDivider()),a(this.dividers[0]).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj),a(this.dividers[1]).insertBefore(this.factory.lists[this.factory.lists.length-4].$obj),this._clearExcessDigits(),this.autoStart&&this.start()},flip:function(a){a=a?a:this.factory.time.getMilitaryTime(),this.base(a)},_clearExcessDigits:function(){for(var a=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4],c=6;10>c;c++)a.$obj.find("li:last-child").remove(),b.$obj.find("li:last-child").remove()}})}(jQuery),function(a){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(b){b=b?b:this.factory.time.time?this.factory.time.time:this.factory.time.getTime(),this.base(b),this.meridiumText=this._isPM()?"PM":"AM",this.meridium=a(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.factory.lists[this.factory.lists.length-1].$obj)},flip:function(){this.meridiumText!=this._getMeridium()&&(this.meridiumText=this._getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime())},_getMeridium:function(){return(new Date).getHours()>=12?"PM":"AM"},_isPM:function(){return"PM"==this._getMeridium()?!0:!1},_clearExcessDigits:function(){for(var a=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4],c=6;10>c;c++)a.$obj.find("li:last-child").remove(),b.$obj.find("li:last-child").remove()}})}(jQuery),function(a){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(a,b){this.base(a,b)},build:function(b,c){var d=this,e=this.factory.$wrapper.find("ul"),f=[],g=0;c=c?c:this.factory.time.getDayCounter(this.showSeconds),c.length>e.length&&a.each(c,function(a,b){f.push(d.createList(b))}),this.factory.lists=f,this.showSeconds?a(this.createDivider("Seconds")).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj):g=2,a(this.createDivider("Minutes")).insertBefore(this.factory.lists[this.factory.lists.length-4+g].$obj),a(this.createDivider("Hours")).insertBefore(this.factory.lists[this.factory.lists.length-6+g].$obj),a(this.createDivider("Days",!0)).insertBefore(this.factory.lists[0].$obj),this._clearExcessDigits(),this.autoStart&&this.start()},flip:function(a,b){b||(b=this.factory.time.getDayCounter(this.showSeconds)),this.base(b,a)},_clearExcessDigits:function(){for(var a=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4],c=6;10>c;c++)a.$obj.find("li:last-child").remove(),b.$obj.find("li:last-child").remove()}})}(jQuery),window.GF=window.GF||{},GF.Gon={account:null,setting:{siteId:1,digitalDomain:"www.direct2drive.com",assetDomain:"i2e7g6m3.ssl.hwcdn.net",imageDomain:"http://cdn.direct2drive.com",retailDomain:"www.direct2drive.com",isDebug:!1,apiUrl:"//www.direct2drive.com/backend",channelUrl:"//www.direct2drive.com/channel.html",currentYear:"2014",version:"v1.0.0-beta1",collectionTitle:"Pub Store",payment:"stripe",paypalEnv:"production",allowPlatforms:["PC","PS3","PS4","PS-Vita","Nintendo Switch","Xbox One"],streaming_download_url:"https://prod-d2d-malibu.direct2drive.com/client/download/windows/Malibu%20Cloud%20Play.exe",d2d_client_download_url:"http://cdn.direct2drive.com/prod/client/D2D_Windows_Client_Setup.exe"},ubisoft:{env:"PROD",appId:"59adae69-0388-4a38-bd8c-1f5cb3a714ef",genomeId:"80a6a365-1488-4d0c-902b-91c68e9de788",url:"https://connect.ubisoft.com"},oauth:{facebook:{client_id:"1704202596473259"},google:{client_id:"1032292640188-jl0c5ffjkpsg3onpue6gqmqvh2t6sii5.apps.googleusercontent.com"}},siteId:{region_1:1,region_2:2,region_284:3,region_286:3},malibu:{protocolKeys:{email:"",game_id:"5009901",token:"",resolution:"",fullscreen:"1",vsync:"1",mgmt_ip:"prod-d2d-malibu.direct2drive.com",mgmt_port:"443",mgmt_https:"1"}},vipWhiteList:["demo01.atgames@gmail.com","demo02.atgames@gmail.com","demo03.atgames@gmail.com","demo04.atgames@gmail.com","demo05.atgames@gmail.com","demo06.atgames@gmail.com","demo07.atgames@gmail.com","demo08.atgames@gmail.com","demo09.atgames@gmail.com","demo10.atgames@gmail.com","will.lee@atgames.net","nelson.herrera@atgames.net","liavatar@gmail.com","a0935828011@gmail.com"],premiumSubscription:{price:"14.99"},stripePublicKey:"pk_live_JjSqiw1xtFa66nsXhIGBLkum00omZGQJCe",kount:{enabled:!1,data_collector:"https://ssl.kaptcha.com/collect/sdk?m=100136"}},localStorage.debugLevel=4,window.GF=window.GF||{},GF.config=angular.module("GF.config",[]),GF.def=angular.module("GF.def",[]),GF.ddl=angular.module("GF.ddl",[]),GF.app=angular.module("GF",["ngRoute","ngCookies","ngResource","ngAnimate","ngSanitize","ngStorage","angulartics","angulartics.google.analytics","youtube-embed","checklist-model","GF.config","GF.def","GF.ddl","seo","timer","angular-jwt","ngScrollbars","dibari.angular-ellipsis","satellizer"]).config(["$sceDelegateProvider","ScrollBarsProvider","$authProvider",function(a,b,c){a.resourceUrlWhitelist(["self","https://www.youtube.com/embed/**"]),b.defaults={scrollInertia:300,axis:"y",theme:"minimal",autoHideScrollbar:!0},c.tokenName="_st",c.tokenPrefix="Satellizer",c.tokenHeader="_SAuth",c.facebook({clientId:GF.Gon.oauth.facebook.client_id,requiredUrlParams:["display","scope"],scope:["email","public_profile"],url:GF.Gon.setting.apiUrl+"/api/account/auth/facebook"}),c.google({clientId:GF.Gon.oauth.google.client_id,requiredUrlParams:["scope"],scope:["email","profile"],url:GF.Gon.setting.apiUrl+"/api/account/auth/google"})}]),GF.constant={eventcategory:"digital",v:"20140204"},window.log=function(a){log.history=log.history||[],log.history.length>=20&&log.history.shift(),log.history.push(a),this.console&&console.log(a)},window.isHttps=function(){return"https:"===window.location.protocol},window.onerror=function(){var a=Array.prototype.slice.call(arguments);a.unshift("ERROR"),log(a)},$(function(){$("<iframe />").attr({id:"gf-channel",src:GF.Gon.setting.channelUrl+"?no-cache=no-cache","class":"hide"}).appendTo("body"),$(window).on("message",function(a){var b=window.location.protocol+"//"+window.location.host;if(a.originalEvent.origin===b){var c=a.originalEvent.data;("string"==typeof c||c instanceof String)&&c.length>0&&(c=JSON.parse(c));var d=angular.element("body").scope();d.$safeApply(function(){d.$broadcast(c.event,{isSuccess:c.isSuccess,eventType:c.eventType,data:c.response,id:c.id})})}})}),function(){var a={};GF.tmpl=function b(c,d){_.each(d,function(a,b){d[b]=a.replace(/"/g,'\\"')});var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}(),function(){navigator&&navigator.appVersion&&navigator.appVersion.indexOf("NT 5.1")>0&&$("html").addClass("xp")}(),$.removeCookie("view"),GF.app.config(["$httpProvider","$routeProvider","$locationProvider","$analyticsProvider","gfPartialConfig","jwtOptionsProvider",function(a,b,c,d,e,f){a.interceptors.push("gfHttpInterceptor"),a.interceptors.push("gfAuthInterceptor"),a.interceptors.push("jwtInterceptor"),a.defaults.headers.common.Accept="* / *, application/json, text/plain",a.defaults.headers.patch={"Content-Type":"application/json;charset=utf-8",accept:"*/*"},f.config({tokenGetter:["jwtHelper","$cookieStore","$window",function(a,b){return b.get("token")}],unauthenticatedRedirectPath:"/",unauthenticatedRedirector:["$window",function(a){a.location.reload()}],whiteListedDomains:["localhost"]}),c.html5Mode(!1),c.hashPrefix("!"),b.when("",{template:" ",controller:"SplashController"}).when("/",{template:" ",controller:"SplashController"}).when("/region/:code",{template:" ",controller:"RegionController"}).when("/registration",{pageType:"normal",title:"Registration",description:"",templateUrl:e.account.registration}).when("/complete-registration",{pageType:"normal",title:"Complete Registration",description:"",templateUrl:e.account.completeRegistration}).when("/complete-reset-password",{pageType:"normal",title:"Reset password",description:"",templateUrl:e.account.completeResetPassword}).when("/complete-purchased",{pageType:"normal",title:"Purchase",description:"",templateUrl:e.account.completePurchase,controller:"CompletePurchaseController"}).when("/purchase-fail/:err",{pageType:"normal",title:"Purchase Fail",description:"",templateUrl:e.account.completePurchase,controller:"CompletePurchaseController"}).when("/confirmation/:token",{pageType:"normal",title:"Confirmation",description:"",templateUrl:e.account.confirmation}).when("/reconfirmation/:token",{pageType:"normal",title:"Reconfirmation",description:"",templateUrl:e.account.reconfirmation}).when("/complete-forget-password",{pageType:"normal",title:"Forget Password",description:"",templateUrl:e.account.completeForgetPassword}).when("/reset-password/:token",{pageType:"normal",title:"Reset Password",description:"",templateUrl:e.account.resetPassword}).when("/my-account",{pageType:"normal",title:"My Account",description:"",templateUrl:e.account.myAccount,controller:"MyAccountController",reloadOnSearch:!1}).when("/my-account/:tabName",{pageType:"normal",title:":tabName - My Account",description:"",templateUrl:e.account.myAccount,controller:"MyAccountController",reloadOnSearch:!1}).when("/cart",{pageType:"normal",title:"Cart",description:"",templateUrl:e.account.cart,controller:"CartController",reloadOnSearch:!1}).when("/pc",{pageType:"default",title:"Browse - PC",description:"",templateUrl:e.home,controller:"HomeController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/download",{pageType:"normal",title:"Browse - PC",description:"",templateUrl:e.home,controller:"HomeController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/download/:genre",{pageType:"normal",title:"Browse :genre - PC",description:"",templateUrl:e.home,controller:"HomeController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/d2dplus",{pageType:"normal",title:"D2D Plus - PC",description:"",templateUrl:e.d2dplus,controller:"D2DPlusController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/subscription",{pageType:"normal",title:"Subscription - PC",description:"",templateUrl:e.subscription,controller:"D2DPlusController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/rental",{pageType:"normal",title:"Rental - PC",description:"",templateUrl:e.rental,controller:"D2DPlusController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/tradein",{pageType:"normal",title:"Trade In - PC",description:"",templateUrl:e.tradein,controller:"D2DPlusController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/adsdrm",{pageType:"normal",title:"ADS DRM - PC",description:"",templateUrl:e.adsdrm,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/comingsoon",{pageType:"normal",title:"Coming Soon - PC",description:"",templateUrl:e.comingsoon,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/pc/onsale",{pageType:"normal",title:"Onsale - PC",description:"",templateUrl:e.onsale,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/mac",{pageType:"default",title:"Browse - Mac",description:"",templateUrl:e.home,controller:"HomeController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/mac/download",{pageType:"normal",title:"Browse - Mac",description:"",templateUrl:e.home,controller:"HomeController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/mac/download/:genre",{pageType:"normal",title:"Browse :genre - Mac",description:"",templateUrl:e.home,controller:"HomeController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/mac/comingsoon",{pageType:"normal",title:"Coming Soon - Mac",description:"",templateUrl:e.comingsoon,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/mac/onsale",{pageType:"normal",title:"Onsale - mac",description:"",templateUrl:e.onsale,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/psn/search",{pageType:"normal",title:"PlayStation®Network - Search",description:"",templateUrl:e.psn,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/collection",{pageType:"normal",title:"Collection",description:"",templateUrl:e.featured,controller:"CollectionController",caseInsensitiveMatch:!0}).when("/collections/:cid",{pageType:"normal",title:"Collection Browse",description:"",templateUrl:e.collection_browse,controller:"CollectionBrowseController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/search",{pageType:"normal",title:"Search",description:"",templateUrl:e.search,caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/sitemap",{pageType:"normal",title:"Site Map",description:"",templateUrl:e.sitemap,controller:"SitemapController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/byob-:slug/:pid",{templateUrl:e.byob,controller:"ByobController",caseInsensitiveMatch:!0}).when("/download-:slug/:pid",{pageType:"productDetail",templateUrl:e.product,controller:"ProductController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/preview-:preview/:pid",{pageType:"productDetail",templateUrl:e.product,controller:"ProductController",caseInsensitiveMatch:!0,reloadOnSearch:!1}).when("/promotion/:promoId",{pageType:"normal",title:"Promotion",description:"",templateUrl:e.promotion,controller:"PromotionController",caseInsensitiveMatch:!0}).when("/arcade-stores/:cid",{pageType:"normal",title:"Arcade Store",description:"",templateUrl:e.arcade_store,controller:"CollectionBrowseController",caseInsensitiveMatch:!0}).when("/streaming",{pageType:"normal",title:"Streaming",description:"",templateUrl:e.Streaming.index,controller:"MalibuStreamingController",reloadOnSearch:!1,caseInsensitiveMatch:!0}).when("/streaming/subscribe",{pageType:"normal",title:"Streaming - subscribe",description:"",templateUrl:e.Streaming.subscribe,controller:"StreamingMailingListController",caseInsensitiveMatch:!0}).when("/instant-play",{pageType:"normal",title:"Instant Play",description:"",templateUrl:e.Streaming.instantPlay,controller:"MalibuInstantPlayController",caseInsensitiveMatch:!0}).when("/rewards-disabled",{pageType:"normal",title:"D2D Rewards",description:"",templateUrl:e.rewards,controller:"RewardsController",resolve:{vipTiers:["gfAccountManager",function(a){return a.vipTiers()}]},caseInsensitiveMatch:!0}).when("/cloud-play",{pageType:"normal",title:"Cloud Play",description:"",templateUrl:e.Streaming.cloudPlay,controller:"MalibuCloudPlayController",caseInsensitiveMatch:!0}).when("/about-us",{pageType:"normal",title:"About us",description:"",templateUrl:e.aboutUs.index}).when("/about-us/open-letter",{pageType:"normal",title:"Open Letter",description:"",templateUrl:e.aboutUs.openLetter}).when("/about-us/affiliate-program",{pageType:"normal",title:"Affiliate Program",description:"",templateUrl:e.aboutUs.affiliateProgram}).when("/about-us/privacy-policy",{pageType:"normal",title:"Privacy Policy",description:"",templateUrl:e.aboutUs.privacyPolicy}).when("/about-us/terms-of-use",{pageType:"normal",title:"Terms of use",description:"",templateUrl:e.aboutUs.termsOfUse}).when("/error",{pageType:"normal",title:"Error",description:"",templateUrl:e.error,caseInsensitiveMatch:!0}).when("/maintenance",{pageType:"normal",title:"Maintenance",description:"",templateUrl:e.maintenance,caseInsensitiveMatch:!0}).when("/gdpr",{pageType:"normal",title:"GDPR",description:"GDPR",templateUrl:e.gdpr.opt,controller:"GdprController",caseInsensitiveMatch:!0}).when("/400",{pageType:"normal",title:"400 Error",description:"",templateUrl:e.badrequest,caseInsensitiveMatch:!0}).when("/404",{pageType:"normal",title:"404 Error",description:"",templateUrl:e.notfound,controller:"PageNotFoundController",caseInsensitiveMatch:!0}).otherwise({redirectTo:"/404"})}]),$.validator.addMethod("ContainsAtLeastOneDigit",function(a){return/[0-9]/i.test(a)},"Must contain at least one number"),$.validator.addMethod("notEqual",function(a,b,c){return this.optional(b)||a!==c},"Please specify a different (non-default) value"),$.validator.addMethod("CheckEmailFitForLiveGamer",function(a,b){return this.optional(b)||/^[^\@\.][^\@]*@([a-zA-Z\d-]{1,63}\.)*[a-zA-Z]{2,6}$/.test(a)},"Please enter a valid email address"),GF.app.run(["$rootScope","gfNavigation","gfPartialConfig","gfApplicationTask","gfAsset","gfUrl","gfApiConfig","gfResource","gfDebug","$location","gfVip","gfAccountManager",function(a,b,c,d,e,f,g,h,i,j,k,l){l.d2d_countries().then(function(b){a.countryCode=b.data.items}),a.$safeApply=function(){var a,b,c=!1;if(1===arguments.length){var d=arguments[0];"function"==typeof d?b=d:a=d}else a=arguments[0],b=arguments[1],3===arguments.length&&(c=!!arguments[2]);a=a||this,b=b||function(){},c||!a.$$phase?a.$apply?a.$apply(b):a.apply(b):b()},a.toggle=function(a){return a?void $("#navDropdown").dropdown("toggle"):void($("#navDropdown").parent().hasClass("open")||void 0===a&&$("#navDropdown").dropdown("toggle"))},a.gf={siteId:GF.Gon.setting.siteId,partial:c,asset:e,url:f,resource:h,version:GF.Gon.setting.version,collectionTitle:GF.Gon.setting.collectionTitle,electron:!1,navigation:{platforms:[],sections:[],genres:[]},disableNotice:!1};var m={excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,availableScreenResolution:!0},screen:{detectScreenOrientation:!1}};Fingerprint2.get(m,function(b){var c=Fingerprint2.x64hash128(b.map(function(a){return a.value}).join(),31);a.gf.fingerprint=c}),void 0===a.view&&(i.log("get region start."),$.ajax({url:f.getApiUrl()+g.region,async:!1,dataType:"json",success:function(b){a.view=b.region.view}})),0===a.gf.navigation.genres.length&&(i.log("get Genres start."),$.ajax({url:f.getApiUrl()+g.genre,async:!1,dataType:"json",success:function(b){$.each(b.items,function(b,c){a.gf.navigation.genres.push(c)})}})),a.$on("$routeChangeStart",function(){$("body").removeAttr("style"),"/registration"!==j.path()&&(a.previousLocation=j.path())}),a.$watch("view",function(b){a.gf.siteId=GF.Gon.siteId["region_"+b]}),a.$on("$routeChangeSuccess",function(c,d,e){a.$emit("GF_EVENT_PIXELEZE_TRACKING",{}),b.init();var f=j.path();if(a.needToHideNav="/registration"===f||"/gdpr"===f?!0:!1,$("#xsollaCheckout").hasClass("hide")||($("#d2d-main-view-wrapper").show(),$("#xsollaCheckout").addClass("hide")),$("#iframeCheckout").hasClass("hide")||($("#d2d-main-view-wrapper").show(),$("#iframeCheckout").addClass("hide")),!e&&d.params&&d.params.q&&(d.params.q=d.params.q.split("+").join(" ")),"/cart"===d.originalPath){var g=!1;_.forEach(a.cart.cart_details,function(a){return"ADS"===a.product.drm_type&&(_.forEach(a.offer_items,function(a){return angular.isDefined(a.trade_in_price)&&a.trade_in_price>0?(g=!0,!1):void 0}),g===!0)?!1:void 0}),g===!0&&a.$broadcast("GF_EVENT_ADS_DRM_REMINDER",{type:"Reminder",body:'You have included a "D2D Trade-in Eligible" title in your cart. You won\'t be able to play this game on Steam but you will be able to trade it in on D2D and use the credit toward your next purchase!'})}a.hidePopCart="/cart"===j.path(),b.checkGenre(),k.setVipTier()}),d.init()}]),GF.app.factory("gfAnimation",["gfAsset","gfAnimator","gfDebug","$route","$rootScope",function(a,b,c,d,e){var f=null,g=function(a){var b="Medium";switch(a.source&&a.source.definition&&(b=a.source.definition),b){case"Small":return"timer-sm";case"Medium":return"timer-md";case"Large":return"timer-lg";default:return"timer-md"}},h=function(a){var b=angular.element(a).scope().hero,c=[];if(b.design&&b.design.displays&&b.design.displays.length>0&&(c=b.design.displays),b.timer)for(var d=b.timer,e=0,f=d.design.displays.length;f>e;e++){var g=d.design.displays[e];"Timer"===g.name&&(g.ttl=d.timeToLive),c=c.concat([g])}return c};return{animate:function(c){var i=h(c),j=0;f=new TimelineLite,f.pause();for(var k=0;k<i.length;k++){var l=c.find(".design-panel .container-full"),m=$("<img />").attr({src:a.getAssetClientPath(i[k].file)});m.attr({index:k}),function(a){if("Timer"===a.name){var c=$("<div />");c.css(b.getPositions(a.properties,c,l)).css("position","absolute").addClass(g(a)),l.append(c);var h=c.FlipClock({autoStart:!1,clockFace:"DailyCounter",countdown:!0,callbacks:{stop:function(){d.reload(),e.$safeApply()}}});h.setTime(a.ttl/1e3),h.start(),j++}else m.load(function(){var c=$(this),d=this.src.substr(this.src.lastIndexOf("/")+1);if(j++,d.indexOf("bkg")>=0)return void l.append(c);c.css(b.getPositions(a.properties,c,l,this.attributes.index.value-i.length)),l.append(c);var e=0;void 0!==a.animation.start&&(e=a.animation.start/1e3);var g=0,h=TweenLite.from(c,g,b.getProperties(a.animation));e+=f.time(),f.add(h,e),j===i.length&&f.play()})}(i[k])}}}}]),GF.app.controller("BrowseController",["$scope","$timeout","$route","$location","$rootScope","$cookieStore","gfPartialConfig","gfProductQuery","gfDebug","gfUrl","gfMerchandising","AdCollection","gfNavigation","gaService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){var a=c.current.params.pf;return a?Array.isArray(a)?a=a.map(Number):(a="PC"===a?1100:"Mac"===a?1200:parseInt(a),p()!==a&&m.reset(a)):a=p(),Array.isArray(a)?a:[a]}function p(){return m.getPlatform().code}var q=25;switch(a.filters={},a.hideFilter=d.path().match(/search$/g)||d.path().match(/onsale$/g),a.keywords=c.current.params.q,a.d2dPlusType=c.current.params.pType,a.filters.platforms=o(),console.log("$route.current.templateUrl:",c.current.templateUrl),c.current.templateUrl){case g.whatsnew:d.search($.extend(d.search(),{releaseDate:2,sort:3}));break;case g.comingsoon:d.search($.extend(d.search(),{releaseDate:1,sort:3}));break;case g.onsale:d.search($.extend(d.search(),{price:1})),k.getDisplay().then(function(b){b&&(a.browseAds=l.create(b.groups,"InternalAds").items)});break;case g.psn:a.filters.platforms=[1300,1310,1320],d.search($.extend(d.search(),{pf:a.filters.platforms}));break;case g.collection_browse:case g.arcade_store:a.filters.collection=c.current.params.cid,a.filters.platforms=null,a.hideEsrb=!0,q=10;break;case g.bundles:d.search($.extend(d.search(),{sort:4})),a.filters.bundles={},a.filters.bundles="byob"===c.current.params.genre?{"bundles.custom":!0}:{"bundles.all":!0};break;case g.bestselling:a.filters.bestselling=!0;break;case g.adsdrm:a.filters.drmTypes=[12],a.filters.d2dPlusType=1}a.$watch("filters",function(c){c.sort&&b(function(){d.search("page",null),a.filter()},1)},!0),a.next=function(){a.paging.index++,d.search("page",a.paging.index),a.filter(a.paging.index)},a.previous=function(){a.paging.index--,d.search("page",a.paging.index),a.filter(a.paging.index)},a.filter=function(){(void 0===f.get("token")||void 0!==e.gf.account)&&(c.current.templateUrl!==g.home||void 0!==e.gf.genre_id&&""!==e.gf.genre_id)&&(a.products=[],a.paging={size:q,index:parseInt(d.search().page||1),isLast:!1,isEmpty:!1,isFetching:!1},a.paging.isFetching||(a.paging.isFetching=!0,h.get(a.paging,a.filters.price,a.filters.releaseDate,a.filters.esrb,a.filters.sort,a.filters.bundles,a.filters.bestselling,a.keywords,a.promotionsSize,a.filters.platforms,a.filters.genres,a.filters.publishers,a.filters.collection,a.filters.drmTypes,a.filters.d2dPlusType).then(function(b){if(a.paging.isFetching=!1,b.products){if(a.paging.isLast=b.products.isLastPage,a.paging.isEmpty=0===b.products.totalItems,a.products=b.products.items,a.total=b.products.totalItems,a.start=(a.paging.index-1)*a.paging.size+1,a.end=a.paging.index*a.paging.size>b.products.totalItems?b.products.totalItems:a.paging.index*a.paging.size,a.showPreviousBtn=1!==a.paging.index,a.showNextBtn=!b.products.isLastPage,i.log("BrowseController product query results",b.products,a.paging),$.map(a.products,function(b,c){var d=a.keywords?"Search":"Browse",e=(a.paging.index-1)*q+c+1;n.ecAddImpression(b,d,e)}),n.sendPageView(),b.promotions)for(var c=0;c<b.promotions.length;c++)new Date(b.promotions[c].endDate).getFullYear()>2098&&(b.promotions[c].endDate=null);a.promotions=b.promotions}var e=!d.search().page;e||$("body,html").animate({scrollTop:$(".browse-module").offset().top-120},400)})))},a.getProductUrl=function(a){return"ConsoleGame"===a.productType?j.getRetailProductUrl(a.id,a.uriSafeTitle):"CustomBundle"===a.productType?j.getByobUrl(a.id,a.uriSafeTitle):j.getProductUrl(a.id,a.uriSafeTitle)},a.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){console.log("query browser  data"),a.filter()}),a.$on("POWER_SEARCH",function(b,c){a.filters.platforms=c.platforms,a.filters.genres=c.genres,a.filters.publishers=c.publishers,a.filters.esrb.psQuery=c.esrb,a.filters.price=c.price}),a.sendGa=function(b,c){var d=a.keywords?"Search":"Browse",e=(a.paging.index-1)*q+c+1;n.ecSetActionClick(b,d,e)}}]),GF.app.controller("PowerSearchController",["$scope","$route","$location","$rootScope","gfDebug","gfUrl","gfGenre","gfPlatforms","gfSitemap","gfContentRatings","gfDDL","gfContaintRating","gfNavigation",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){var a=b.current.params.pf;return a?Array.isArray(a)?a=a.map(Number):(a="PC"===a?1100:"Mac"===a?1200:parseInt(a),o()!==a&&m.reset(a)):a=o(),Array.isArray(a)?a:[a]}function o(){return m.getPlatform().code}function p(){var b=0;return angular.isNumber(a.result.value)&&(b=a.result.value),b}a.genres=d.gf.navigation.genres,a.publishersListLimit=5,a.clickWords="show more",a.iconStyle="plus",a.result={},a.selectedPlatforms=n(),a.selectedGenres=[],a.selectedPublishers=[],a.selectedContentRatings=[],a.showMore=function(){5===a.publishersListLimit?(a.publishersListLimit=a.publishers.length,a.clickWords="show less",a.iconStyle="minus"):(a.publishersListLimit=5,a.clickWords="show more",a.iconStyle="plus")},a.filter=function(){c.search($.extend(c.search(),{pf:a.selectedPlatforms}));var b={platforms:a.selectedPlatforms,genres:a.selectedGenres,publishers:a.selectedPublishers,esrb:a.selectedContentRatings,price:a.prices[p()]};d.$broadcast("POWER_SEARCH",b)},h.get().then(function(b){var c=GF.Gon.setting.allowPlatforms;c&&"All"!==c[0]?(a.platforms=[],_.forEach(b.platforms,function(b){_.include(c,b.platform)&&a.platforms.push(b)})):a.platforms=b.platforms}),i.get().then(function(b){a.publishers=b.featuredPublishers}),j.get().then(function(b){var c=l[b.content_ratings[0].content_rating_type];a.content_ratings=[],angular.forEach(b.content_ratings,function(a){-1!==c.indexOf(a.name.toLowerCase().replace(/ /g,""))&&this.push(a)
},a.content_ratings)}),a.prices=k.getPrices()}]),GF.app.controller("CartController",["$scope","gfCart","gfUrl","gfApiConfig","$rootScope","$cookieStore","$location","$timeout","gfChannel","$http","gaService","gfAccountManager","gfError",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){L||(L=!0,b.getCart().then(function(b){b&&(b.cart.recommendation&&b.cart.recommendation.length>0&&(a.recommendation=b.cart.recommendation),a.$emit("GF_EVENT_UPDATECART",b),b.cart.cart_details.length>0&&a.$broadcast("GF_EVENT_OPENCART"),L=!1),e.isLogin=$.cookie("token")||e.gf.account?!0:!1,_.forEach(a.recommendation,function(a,b){k.ecAddImpression(a,"Recommendation_cart",b+1)}),k.sendPageView()}))}function o(a){return p()?a.enable():a.disable()}function p(){return e.gf.account&&a.cart&&0!==a.cart.cart_details.length}function q(){a.cart&&0!==a.cart.cart_details.length?$.cookie("token")||e.gf.account?k.ecSetActionCheckout(a.cart.cart_details,a.cart.currency_symbol,"PayPal"):(L=!0,a.$emit("GF_EVENT_OPENLOGIN")):e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Checkout Fail",body:"There are no items in shopping cart"})}function r(){e.paypalReady||(e.paypalReady=!0,paypal.Button.render({env:GF.Gon.setting.paypalEnv,style:{color:"black",shape:"rect",tagline:!1},validate:function(b){o(b),a.$watch("cart",function(){o(b)},!0),a.$watch("gf.account",function(){o(b)},!0)},onClick:function(){q()},payment:function(){if(!$.cookie("token")&&!e.gf.account)return L=!0,void a.$emit("GF_EVENT_OPENLOGIN");if(a.cart.cart_details.length>5)return void e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Checkout Fail",body:"Due to transaction limit, you can not purchase more than 5 items at one time. Please remove some items in your shopping cart. Thanks "});var d="en-US";"undefined"!=typeof navigator.languages?d=navigator.languages[0]:"undefined"!=typeof navigator.language&&(d=navigator.language);var f={redirect:c.getFullPath("redirect.html","https"===g.$$protocol),locale:d};return new paypal.Promise(function(c,d){b.checkout(f).then(function(b){if(422===b.status){var f=H(b.data);return 4010===b.data.errors.error_code?e.$emit("GF_EVENT_ACCOUNT_UNCONFIRMED",{type:"Email Confirmation Required",body:f[0]}):e.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:f[0],products:f[1]}),d(b)}return a.paypalD2DPaymentID=b.payment,c(b.id)})})},onAuthorize:function(a){return new paypal.Promise(function(f,i){b.purchase({payment_id:a.paymentID,payer_id:a.payerID,ris_session_id:window.ka.sessionId,token:a.token}).then(function(a){if(422===a.status){e.$broadcast("GF_EVENT_UPDATECART");var b=H(a.data,!1);return e.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:b[0]}),i(a)}return h(function(){g.path("complete-purchased").search({status:"success",paymentId:a.payment_id}).replace()},800),j.get(c.getApiUrl()+d.completePurchased+"/"+a.payment_id).success(function(a,b){200===b&&k.ecSetActionPurchase(a.payment,a.products,a.currency_symbol)}),f()})})},onCancel:function(){e.$broadcast("GF_EVENT_UPDATECART"),a.paypalD2DPaymentID&&b.abortCheckout({id:a.paypalD2DPaymentID}),a.paypalD2DPaymentID=void 0,i.getAccount().then(function(a){a&&(e.gf.account=a.account)})}},"#paypal-button"))}function s(){return u().details.coupon_discount}function t(){return u().details.redeem_discount}function u(){return a.cart.discount_detail.discounts}function v(a,b){k.ecSetActionClick(a,"Recommendation_cart",b+1)}function w(c){a.cart.cart_details.forEach(function(a,b){a.id===c&&k.ecSetActionRemove(a.product,"ShoppingCart",b+1)}),b.updateCart(c).then(function(b){e.cart=a.cart=b.cart,e.$broadcast("GF_EVENT_UPDATECART",b)})}function x(a){var b=a.which||a.keyCode;13===b&&a.preventDefault()}function y(){g.path("/")}function z(){g.path("cart")}function A(){a.cart.coupon_details.length>0||!a.couponCode||(a.couponLoading=!0,b.addCoupon(a.couponCode).then(function(b){b.cart.message?e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Add Coupon Fail",body:b.cart.message}):(e.cart=a.cart=b.cart,a.couponCode="",a.$emit("GF_EVENT_UPDATECART",b))}).finally(function(){a.couponLoading=!1}))}function B(c){a.couponRemoveLoading||(a.couponRemoveLoading=!0,b.removeCoupon(c).then(function(b){b.cart.message?e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Remove Coupon Fail",body:b.cart.message}):(e.cart=a.cart=b.cart,a.$emit("GF_EVENT_UPDATECART",b))}).finally(function(){a.couponRemoveLoading=!1}))}function C(f){if(!$.cookie("token")&&!e.gf.account)return L=!0,void a.$emit("GF_EVENT_OPENLOGIN");if(a.cart.cart_details.length>5)return void e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Checkout Fail",body:"Due to transaction limit, you can not purchase more than 5 items at one time. Please remove some items in your shopping cart. Thanks "});var n="en-US";"undefined"!=typeof navigator.languages?n=navigator.languages[0]:"undefined"!=typeof navigator.language&&(n=navigator.language);var o={redirect:c.getFullPath("redirect.html","https"===g.$$protocol),locale:n};void 0!==f&&(o=angular.extend(o,{gift:f})),void 0!==window.ka&&(o=angular.extend(o,{ris_session_id:window.ka.sessionId})),b.checkout(o).then(function(n){if(500===n.status)return void e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Error",body:n.data.error});if(422!==n.status)b.isStripe()?void 0!==n.payment_id&&void 0!==n.amount&&(k.ecSetActionCheckout(a.cart.cart_details,a.cart.currency_symbol,"Stripe"),"0.0"!==n.amount&&n.client_secret?l.accountInfo().then(function(b){a.account=b.data,K(n)},function(a){m.handleApiError(a)}):(h(function(){g.path("complete-purchased").search({status:"success",paymentId:n.payment_id}).replace()},800),j.get(c.getApiUrl()+d.completePurchased+"/"+n.payment_id).success(function(a,b){200===b&&k.ecSetActionPurchase(a.payment,a.products,a.currency_symbol)}))):b.isPaypal()?void 0!==n.call_url&&(e.call_url=n.call_url,a.hide_cart=!0,$("#cart-view").css("margin","0"),$("#iframeCheckout").css("background-color","#000").removeClass("hide"),$(".footer-module").css("margin-top","-5px"),$("#paywallFrame").attr("src",e.call_url),a.$on("$destroy",function(){i.getAccount().then(function(a){a&&(e.gf.account=a.account)})})):b.isXsolla()?void 0!==n.call_url&&(a.$emit("GF_EVENT_OPEN_CHECKOUT"),a.hide_cart=!0,$("#cart-view").css("margin","0"),$("#xsollaCheckout").css("background-color","#000").removeClass("hide"),$(".footer-module").css("margin-top","-5px"),$("#paywallFrame").attr("src",e.call_url),a.$on("$destroy",function(){a.paypalReady=!1,i.getAccount().then(function(a){a&&(e.gf.account=a.account)})})):void 0!==n.call_url?a.$emit("GF_EVENT_OPEN_CHECKOUT"):g.path("complete-purchased").replace();else if(void 0!==n.data.errors.base){var o=H(n.data,f);4010===n.data.errors.error_code?e.$emit("GF_EVENT_ACCOUNT_UNCONFIRMED",{type:"Email Confirmation Required",body:o[0]}):4011===n.data.errors.error_code?e.$emit("GF_EVENT_OPENMESSAGE",{type:"Email Billing Address Required",body:o[0],products:o[1]},function(){g.path("/my-account/account-info"),a.$apply()}):e.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:o[0],products:o[1]})}else e.errors={},angular.forEach(n.data.errors,function(b,c){a.giftForm[c].$setValidity("server",!1),a.errors[c]=b.join(", ")})})}function D(c,d){d?(_.forEach(d.cart.cart_details,function(a){return G(a)}),e.cart=a.cart=d.cart,e.cartId=d.cart.id,d.cart.message&&e.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Notice",body:d.cart.message}),d.cart.recommendation&&d.cart.recommendation.length>0&&(a.recommendation=d.cart.recommendation)):(L=!0,b.getCart().then(function(b){L=!1,b&&a.$emit("GF_EVENT_UPDATECART",b)}))}function E(){g.path("/")}function F(){n()}function G(a){return a.originPrice=0,a.discountedPrice=0,a.vipPrice=0,_.forEach(a.offer_items,function(b){a.originPrice+=parseFloat(b.atgames_price),a.discountedPrice+=parseFloat(b.discounted_price),a.vipPrice+=parseFloat(b.vip_price)}),a.originPrice.toFixed(2),a.discountedPrice.toFixed(2),a.vipPrice.toFixed(2),a.vipPrice>0&&(a.discountedPrice=a.vipPrice),a}function H(a,b){var c,d=[];return a.errors?(a.errors.product_ids&&_.forEach(a.errors.product_ids,function(a){var b=_.find(e.cart.cart_details,{product:{id:a}});b&&d.push(b.product.title)}),c=d.join(", "),a.errors.error_code?87===a.errors.error_code?c="Your purchase cannot be completed. Please contact Customer Support at http://support.direct2drive.com for assistance.":1294===a.errors.error_code?(c="You are trying to purchase "+c,c+=" which you have traded in before.",c+="Traded-in products cannot be purchased again.",d=void 0):c="7002"===a.code?a.error:4010===a.errors.error_code?'In order to complete a purchase on D2D, you must confirm your email address. To have a new confirmation email sent to your email address, click the "Resend" button.':a.errors.base.join(", "):b?(c+=" cannot be purchased because "+b.email+" already owns ",c+=d.length>1?"these products.":"this product."):(c+=" cannot be purchased because ",c+=d.length>1?"these products are ":"the product is ",c+="already owned."),[c,d]):(c=a.error.message?a.error.message:a.error,[c,[]])}function I(b){var c="."+b,d=document.querySelector(c),f=d.querySelector('button[type="submit"]'),g=document.querySelector("span.Header-loggedInEmail");if(f.innerText="Pay "+(a.cart&&a.cart.currency_symbol||"$")+String(a.paymentSource.amount/100),e.gf.account?g.innerHTML=e.gf.account.emailAddress:g.style.display="none",a.account){if(a.account.user_name){var h=$("#"+b+"-name");h.val(a.account.address.user_name),h.removeClass("empty")}if(a.account.address.street_1){var i=$("#"+b+"-address1");i.val(a.account.address.street_1),i.removeClass("empty")}if(a.account.address.street_2){var j=$("#"+b+"-address2");j.val(a.account.address.street_2),j.removeClass("empty")}if(a.account.address.city){var k=$("#"+b+"-city");k.val(a.account.address.city),k.removeClass("empty")}if(a.account.address.state){var l=$("#"+b+"-state");l.val(a.account.address.state),l.removeClass("empty")}if(a.account.address.country){var m=$("#"+b+"-country");m.val(a.account.address.country.code2),m.removeClass("empty")}if(a.account.address.zipcode){var n=$("#"+b+"-zip");n.val(a.account.address.zipcode),n.removeClass("empty")}}}function J(f,i){function l(){a.sending=!1,Array.prototype.forEach.call(w.querySelectorAll("input[type='text'], input[type='email'], input[type='tel'], button[type='submit']"),function(a){a.removeAttribute("disabled")})}function m(){a.sending=!0,Array.prototype.forEach.call(w.querySelectorAll("input[type='text'], input[type='email'], input[type='tel'], button[type='submit']"),function(a){a.setAttribute("disabled","true")})}function n(){w.reset(),f.forEach(function(a){a.clear()}),x.classList.remove("visible"),l(),v.classList.remove("submitting"),v.classList.remove("submitted"),z.classList.remove("success")}function o(){var a=document.createElement("input");a.type="submit",a.style.display="none",w.appendChild(a),a.click(),a.remove()}function p(b){if("succeeded"!==b.paymentIntent.status)return x.classList.add("visible"),void v.classList.remove("submitting");v.classList.remove("submitting"),v.classList.add("submitted"),document.querySelector("button.close").classList.add("success");var e={status:"success",paymentId:a.paymentSource.payment_id};h(function(){$("#stripePaywall").modal("hide"),n(),g.path("complete-purchased").search(e).replace()},800),j.get(c.getApiUrl()+d.completePurchased+"/"+a.paymentSource.payment_id).success(function(a,b){200===b&&(console.log(a),k.ecSetActionPurchase(a.payment,a.products,a.currency_symbol))})}function q(a){x.classList.add("visible"),y.innerText=a.error.message,v.classList.remove("submitting"),l()}function r(b){var c,d=w.querySelector("#"+i+"-name"),g=w.querySelector("#"+i+"-address1"),h=w.querySelector("#"+i+"-address2"),j=w.querySelector("#"+i+"-city"),k=w.querySelector("#"+i+"-state"),l=w.querySelector("#"+i+"-zip"),m=w.querySelector("#"+i+"-country");c=O.confirmCardPayment(a.paymentSource.client_secret,{payment_method:{card:b?{token:b}:f[0],billing_details:{name:d?d.value:void 0,email:e.gf.account.emailAddress,address:{city:j?j.value:void 0,country:m?m.value:void 0,line1:g?g.value:void 0,line2:h?h.value:void 0,postal_code:l?l.value:void 0,state:k?k.value:void 0}}}}),c.then(function(a){a.error?q(a):p(a)})}function s(a){$("#stripePaywall").modal("hide"),n(),e.$broadcast("GF_EVENT_UPDATECART"),e.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:a+'<br/>Please contact <a href="http://support.direct2drive.com" target="_blank">Customer Support</a> for assistance.'})}function t(c){var d=w.querySelector("#"+i+"-name"),f=w.querySelector("#"+i+"-address1"),g=w.querySelector("#"+i+"-address2"),h=w.querySelector("#"+i+"-city"),j=w.querySelector("#"+i+"-state"),k=w.querySelector("#"+i+"-zip"),l=w.querySelector("#"+i+"-country");b.stripeKount({ris_session_id:window.ka.sessionId,payment_id:a.paymentSource.payment_id,identifier:c.id,card_token:c,billing_details:{name:d?d.value:void 0,email:e.gf.account.emailAddress,address:{line1:f?f.value:void 0,line2:g?g.value:void 0,city:h?h.value:void 0,state:j?j.value:void 0,postal_code:k?k.value:void 0,country:l?l.value:void 0}}}).then(function(a){null!==a?a.result?r(c.id):s("Your purchase cannot be completed. #"+a.data.code):s("Your purchase cannot be completed.")})}var u="."+i,v=document.querySelector(u),w=v.querySelector("form"),x=w.querySelector(".error"),y=x.querySelector(".message"),z=document.querySelector("button.close"),A={};f.forEach(function(a,b){a.on("change",function(a){if(a.error)x.classList.add("visible"),A[b]=a.error.message,y.innerText=a.error.message;else{A[b]=null;var c=Object.keys(A).sort().reduce(function(a,b){return a||A[b]},null);c?y.innerText=c:x.classList.remove("visible")}})}),w.addEventListener("submit",function(b){if(b.preventDefault(),a.sending)return!1;var c=!0;if(Array.prototype.forEach.call(w.querySelectorAll("input"),function(a){return a.checkValidity&&!a.checkValidity()?void(c=!1):void 0}),!c)return void o();if(v.classList.add("submitting"),m(),GF.Gon.kount.enabled){var d=a.account.user_name,e=a.account.address.country?a.account.address.country.code2:"";f[0].name=d,f[0].address_country=e,O.createToken(f[0]).then(function(a){a.error?q(a):t(a.token)})}else r()}),z.addEventListener("click",function(a){a.preventDefault(),$("#stripePaywall").modal("hide"),n(),e.$broadcast("GF_EVENT_UPDATECART")})}function K(b){a.paymentSource=b;var c=document.querySelectorAll(".cell.paywall.stripePaywall .input");Array.prototype.forEach.call(c,function(a){a.addEventListener("focus",function(){a.classList.add("focused")}),a.addEventListener("blur",function(){a.classList.remove("focused")}),a.addEventListener("keyup",function(){0===a.value.length?a.classList.add("empty"):a.classList.remove("empty")})}),null===a.cardNumber&&(a.cardNumber=P.create("card",{iconStyle:"solid",style:M,classes:N}),a.cardNumber.mount("#stripePaywall-card"),J([a.cardNumber],"stripePaywall")),I("stripePaywall"),$("#stripePaywall").modal()}a.hide_cart=!1,e.hidePopCart="/cart"===g.path(),a.recommendation=void 0,a.redeemLoading=!1,a.redeemRemoveLoading=!1,a.couponLoading=!1,a.couponRemoveLoading=!1,a.couponPlaceholder=e.isLogin?"Enter Coupon Code.":"Login to enter coupon.",a.paymentSource=null,a.cardNumber=null,a.paypalD2DPaymentID=void 0,a.cartUtil=b,a.sending=!1,a.removeItem=w,a.stopEnter=x,a.checkoutCart=C,a.goIndex=y,a.goCart=z,a.applyCoupon=A,a.removeCoupon=B,a.clickRecommendation=v,a.couponDiscount=s,a.redeemDiscount=t,e.$on("GF_EVENT_UPDATECART",D),a.$on("GF_EVENT_LOGOUT_SUCCESS",E),a.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",F);var L=!1,M={base:{color:"#FFF",fontWeight:500,fontFamily:"Source Code Pro, Consolas, Menlo, monospace",fontSize:"16px",fontSmoothing:"antialiased","::placeholder":{color:"#CFD7DF"},":-webkit-autofill":{color:"#e39f48"}},invalid:{color:"#E25950","::placeholder":{color:"#FFCCA5"}}},N={focus:"focused",empty:"empty",invalid:"invalid"},O=Stripe(GF.Gon.stripePublicKey),P=O.elements({fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Quicksand"}],locale:"auto"});void 0!==f.get("token")||L||n(),$(window).scrollTop(0),"/cart"===g.$$path&&(b.isPaypal()&&!e.paypalReady&&r(),a.$on("$destroy",function(){e.paypalReady=!1}))}]),GF.app.controller("CollectionBrowseController",["$scope","$routeParams","$timeout","$route","$location","$rootScope","$cookieStore","gfPartialConfig","gfProductQuery","gfDebug","gfUrl","gfMerchandising","AdCollection","gfNavigation",function(a,b,c,d,e,f,g,h,i,j,k,l){a.getPromotionBackground=function(){l.getPromotionBackground(b.cid).then(function(b){if(b)if("null"===b)a.backgroundUnavailable=!0;else{var c=b.promotion;a.hero={design:c.design.images},void 0===c.design.images.background&&(a.backgroundUnavailable=!0),a.$emit("GF_EVENT_SEODATA",{TITLE:c.name,DESCRIPTION:c.name})}})},a.getPromotionBackground()}]),GF.app.controller("CollectionController",["$scope","gfMerchandising",function(a,b){b.getAllPromotions().then(function(b){if(b){for(var c=0;c<b.length;c++)new Date(b[c].endDate).getFullYear()>2098&&(b[c].endDate=null);for(a.promotions=[];b.length;)a.promotions.push(b.splice(0,6))}})}]),GF.app.controller("CompletePurchaseController",["$rootScope","$scope","$route","$routeParams","$location","$timeout","$http","gfApiConfig","gfUrl","gfCart","gfVip",function(a,b,c,d,e,f,g,h,i,j,k){function l(){return void 0!==a.cartId?void g.get(i.getApiUrl()+h.completePurchase+"/"+a.cartId).success(function(b,c){200===c?(a.$broadcast("GF_EVENT_UPDATECART"),n(b),a.gf.account.gdprOptIn||a.$emit("GF_EVENT_OPEN_GDPR_CONFIRMATION")):403===c?e.path("/"):f(l,800)}).error(function(){}):void f(l,800)}function m(){return void 0!==d.paymentId?void g.get(i.getApiUrl()+h.xsollaCompletePurchased+"/"+d.paymentId).success(function(b,c){200===c?(a.$broadcast("GF_EVENT_UPDATECART"),k.reloadAccount(),n(b),a.gf.account.gdprOptIn||a.$emit("GF_EVENT_OPEN_GDPR_CONFIRMATION")):403===c?e.path("/"):f(m,800)}).error(function(){}):void f(m,800)}function n(c){b.purchased=c,b.discountDetails=c.payment.discount_detail;var d={};if(c.payment){d.OrderId=c.payment.id&&""!==c.payment.id?c.payment.id:"";var e=c.payment.total&&""!==c.payment.total?parseFloat(c.payment.total,2):0,f=c.payment.tax&&""!==c.payment.tax?parseFloat(c.payment.tax,2):0;d.OrderTotal=(e-f).toString(),d.PromoCode=c.payment.coupon_code&&""!==c.payment.coupon_code?c.payment.coupon_code:"",d.Discount=c.payment.discount_detail&&c.payment.discount_detail.discounts&&c.payment.discount_detail.discounts.total_discount?c.payment.discount_detail.discounts.total_discount:0,d.Currency=c.payment.discount_detail&&c.payment.discount_detail.discounts&&c.payment.discount_detail.discounts.details&&c.payment.discount_detail.discounts.details.coupon_discount&&c.payment.discount_detail.discounts.details.coupon_discount.currency?c.payment.discount_detail.discounts.details.coupon_discount.currency:""}a.$emit("GF_EVENT_PIXELEZE_TRACKING",d),$("#pleaseWaitDialog").modal("hide");var g="https://shareasale.com/sale.cfm?amount="+c.payment.total+"&tracking="+c.payment.id+"&transtype=sale&merchantID=66731";$("body").append('<img src="'+g+'" width="1" height="1" />')}function o(b){a.$broadcast();var c="";switch(b){case"3001":c="Profile saved";break;case"4001":c="Your purchase has been declined, please contact our billing support at d2dsupport.livegamer.com";break;case"4002":c="User is currently blocked";break;case"5001":c="Unknown System Error"}g.post(i.getApiUrl()+h.completePurchase,{cart_id:a.cartId,error_code:b}).success(function(){a.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Purchase Fail",body:c,click:function(){e.path("/")}})}).error(function(){a.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Purchase Fail",body:c,click:function(){e.path("/")}})})}b.$on("GF_EVENT_REFRESH_PURCHASE_REDEEM_STATUS",function(a,c){c&&c.length&&(b.purchased.payment.entitlement_enable=!1)});var p=e.hash();if(-1!==p.indexOf("myAccount"))return void e.path("/my-account/my-subscription");if(-1!==p.indexOf("d2dplus"))return void e.path("/pc/d2dplus");b.$emit("GF_EVENT_CLOSE_CHECKOUT");var q="Please checkout again.";j.isStripe()||j.isPaypal()||j.isXsolla()?void 0!==d.status&&"troubled"!==d.status?($("#pleaseWaitDialog").modal(),m()):($("#purchase-info").hide(),a.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Purchase Fail",body:q,click:function(){e.path("/")}})):void 0===d.err?($("#pleaseWaitDialog").modal(),l()):o(d.err)}]),GF.app.controller("FirstVisitController",["$scope","$rootScope","gfError","$location","$route","gfPartialConfig","defCoupon","gfMailChimp",function(a,b,c,d,e,f,g,h){a.email="",a.error=!1,a.success=!1,a.waiting=!1,a.requestSubscribe=function(){var c={email:a.email,region_id:b.view};a.error=!1,a.errorMsg=null,a.waiting=!0,h.subscribe(c).then(function(){switch(a.waiting=!1,b.$emit("GF_EVENT_CLOSE_FIRST_VISIT"),b.$emit("GF_EVENT_FIRST_VISIT_COUPON"),b.view){case 1:b.coupon_code=g.US.code;break;case 2:b.coupon_code=g.UK.code;break;default:b.coupon_code=g.EU.code}},function(){})}}]),GF.app.controller("ForgetPasswordController",["$scope","$rootScope","gfAccountManager","$location","$route",function(a,b,c,d,e){function f(){if($("#forgetPasswordForm").valid()){var e="";e=b.gf.account?b.gf.account.emailAddress:a.userEmail;var f={account:{email:e}};a.error=!1,a.errorMsg=null,a.waiting=!0,c.requestResetPassword(f).then(function(c){return a.waiting=!1,c.data.error?(a.error=!0,void(a.errorMsg=c.data.error)):(b.$emit("GF_EVENT_CLOSE_FORGET_PASSWORD"),void d.path("/complete-forget-password"))},function(){})}}function g(){if($("#resetPasswordForm").valid()){var b={account:{reset_password_token:e.current.params.token,password:a.password,password_confirmation:a.confirmPassword},source:e.current.params.source};c.resetPasswordWithToken(b).then(function(b){return b.data.error?(a.error=!0,void(a.errorMsg=b.data.error)):void d.path("/complete-reset-password")})}}function h(){if($("#changePasswordForm").valid()){var b={account:{current_password:a.currentPassword,password:a.newPassword,password_confirmation:a.confirmPassword}};c.updatePassword(b).then(function(b){return 422===b.status?(a.error=!0,a.success=!1,void(a.errorMsg="Your password is incorrect.")):(a.error=!1,a.success=!0,a.successMsg="Your password updated successfully",void 0)})}}a.userEmail="",a.error=!1,a.success=!1,a.waiting=!1,a.requestResetPassword=f,a.resetPassword=g,a.updatePassword=h}]),GF.app.controller("HomeController",["$rootScope","$scope","$route","gfMerchandising","gfUrl","gfAsset","gfDDL","gfProductQuery","AdCollection","gfGlobalNotification","$cookieStore","gfPartialConfig","defHeroType","$window","gaService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){d.shelves(b.featureTabsSetting).then(function(b){if(b){var c=a.featured.items,d=q(b).items;a.featured.items=_.merge(c,d)}})}function q(a){var c={};return c.tabs=b.featureTabsSetting,c.tab=c.tabs[0],c.items={},c.setTab=function(a){c.tab=a},angular.forEach(a.shelves,function(a){"Featured"!==a.shelf&&(c.items[a.shelf]=a.items)}),c}function r(){x||(x=!0,d.getDisplay().then(function(c){x=!1,c&&(a.ads=i.create(c.groups,"InternalAds").items,a.featured=t(c),a.heros=u(c),a.squares=v(c),b.skin=w(c),o.sendPageView(),b.fromShelves(),j.display(s("Notifications",c.groups)))}).finally(function(){x=!1}))}function s(a,b){if($.isArray(b))for(var c=0;c<b.length;c++)if(b[c].name===a)return b[c]}function t(a){var b={};b.tabs=g.getFeaturedTabs(),b.tab=b.tabs[0],b.items={},b.items[b.tab.value]=function(){var b=s("FeaturedProductsTop",a.groups);return b&&b.items?$.map(b.items,function(b){var c=a.products[b.product.productVariantId];return c?c:void 0}):[]}(),b.setTab=function(a){b.tab=a};var c=[],d=s("FeaturedProductsBottom",a.groups).items;return _(d).forEach(function(b){c.push(a.products[b.product.productVariantId])}),b.fixed=c,b.fixedHeadline=s("FeaturedProductsBottom",a.groups).headline||"headline",b}function u(a){var b=s("HeroItems",a.groups);return b&&b.items?$.map(b.items,function(b,c){var d=b.type===m.PRODUCT_IMAGE.id||b.type===m.PRODUCT_VIDEO.id;if(d&&b.product){var f=a.products[b.product.productVariantId];if(f){var g={type:b.type,product:f,isVideo:b.type===m.PRODUCT_VIDEO.id,autoplay:b.product.is_autoplay,design:b.product.design,linkUrl:"CustomBundle"===f.productType?e.getByobUrl(f.id,f.uriSafeTitle):e.getProductUrl(f.id,f.uriSafeTitle)};if(g.isVideo){var h=b.product.design.video_path;if(h&&/https:\/\/youtu\.be/.test(h)===!0){var i=h.match(/youtu\.be\/(.*)/);g.design.images.big="https://img.youtube.com/vi/"+i[1]+"/hqdefault.jpg",g.design.images.small="https://img.youtube.com/vi/"+i[1]+"/default.jpg"}}return o.ecAddImpression(f,"Hero",c+1),g}}else{if(b.type===m.COLLECTION.id&&b.promotion&&b.promotion.design)return o.ecAddPromo(b.promotion.id,"[PM] "+b.promotion.name,"Hero"),{type:b.type,promotion:b.promotion,design:b.promotion.design,linkUrl:e.getPromotionUrl(b.promotion.id)};if(b.type===m.EXTERNAL_VIDEO.id)return{type:b.type,isVideo:b.type===m.EXTERNAL_VIDEO.id,autoplay:b.is_autoplay,video_code:b.video_code,video_source:"https://www.youtube.com/embed/"+b.video_code+"?rel=0&amp;showinfo=0",design:{images:{small:"//img.youtube.com/vi/"+b.video_code+"/0.jpg"}}}}}):[]}function v(a){var b=s("Squares",a.groups);return b&&b.items?$.map(b.items,function(b,c){if(b.square){var d=a.products[b.square.url_or_id],f={};return d?(f={image:b.square.image,url:e.getProductUrl(d.id,d.uriSafeTitle),product:d},o.ecAddImpression(d,"Squares",c+1)):f={image:b.square.image,url:b.square.url_or_id},f}}):[]}function w(a){var b=s("skin",a.groups);return b?(o.ecAddImpression({title:b.headline||"skin"},"Skin"),o.ecAddPromo(null,b.headline||"skin","Skin"),b):{}}var x=!1;a.ads={},a.featured={},a.heros={},a.squares={},a.navStatus=a.gf.disableNotice,b.getMerchandisingDisplay=r,b.featureTabsSetting=g.getFeaturedTabs(),b.fromShelves=p,b.variant=n.variant,b.$watch("gf.genre_id",function(a){a&&b.getMerchandisingDisplay()}),b.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){a.gf.account&&b.getMerchandisingDisplay()})}]),GF.app.controller("MyAccountController",["$scope","$rootScope","$q","gfPartialConfig","gfAuthManager","$location","$routeParams","gfAccountManager","gfMerchandising","$timeout","gfDebug","streamingService","gfGlobalNotification","premiumService","instantPlayHelper","gaService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){a.fetchingMyGames!==!0&&(a.fetchingMyGames=!0,a.sortingDirection="desc"===a.sortingDirection?"asc":"desc",a.sortingField="title",t(a.page,a.eachPage))}function r(){a.fetchingMyGames!==!0&&(a.fetchingMyGames=!0,a.sortingDirection="desc"===a.sortingDirection?"asc":"desc",a.sortingField="purchased_at",t(a.page,a.eachPage))}function s(b,c){a.fetchingMyGames!==!0&&(a.fetchingMyGames=!0,a.page=b||1,a.eachPage=c||10,a.showPreviousBtn=!1,a.showNextBtn=!1,t(a.page,a.eachPage))}function t(b,c){var d=angular.copy(a.myGameActiveTab),e={purchase_type:d,page:b,per_page:c};a.sortingField&&(e.sorting=a.sortingField,e.direction=a.sortingDirection),h.getInventories(e).then(function(b){var c=b.data.items;a.fullData=c,a.paging=b.data.paging,a.inventories=c,a.total=a.paging.totalItems,a.start=(a.paging.currentPageIndex-1)*a.paging.pageSize+1,a.end=a.paging.pageSize*a.paging.currentPageIndex>a.paging.totalItems?a.paging.totalItems:a.paging.pageSize*a.paging.currentPageIndex,a.showPreviousBtn=a.paging.isFirstPage===!0?!1:!0,a.showNextBtn=a.paging.isLastPage===!0?!1:!0,a.fetchingMyGames=!1}).finally(function(){a.fetchingMyGames=!1,a.myGameActiveTab=d})}function u(a){return a.game_keys.some(function(a){return"activated"===a.entitlement_status})}function v(b){a.myGameActiveTab=b,s()}function w(a){return moment(a).fromNow()}function x(){n.activePremiumProducts().then(function(b){b.available===!0&&(a.subscriptionProducts=b.products),a.collectionAvailable=b.available},function(b){a.error=b}),n.getPlanPrice().then(function(b){a.planPrice=b.subscription_price},function(){a.planPrice=0}),n.getMyPremium().then(function(c){angular.isDefined(c)&&(b.premium=c.premium),a.subscriptionPanel=!0,a.spinnerPanel=!1},function(){b.premium={},a.subscriptionPanel=!0,a.spinnerPanel=!1})}function y(){a.disableTradeInBtn=!0}function z(){s()}function A(){a.$apply(function(){a.disableTradeInBtn=!1})}function B(){F(),D()}function C(){b.$emit("GF_EVENT_OPEN_UP_SUBSCRIPTION")}function D(b){a.backgroundRetry=b||!1,G();var d=0,e=window.setInterval(function(){d++,a.$emit("GF_EVENT_UPDATE_MALIBU_PROGRESS"),d>=10&&clearInterval(e)},1800),f=j(function(){g.resolve()},2e4),g=c.defer();h.fetchStreaminInfo(g).then(function(b){switch(b.status){case 0:a.$emit("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE");break;case 200:a.streamingInfo=b.data.streaming,a.pendingJobs=b.data.pending_jobs,a.pendingStatus=a.pendingJobs.status,angular.forEach(a.streamingInfo,function(b){b.bonus===!0?(a.bonusCloudPlayTicket=b,E(a.bonusCloudPlayTicket,b)):(b.bonus===!1||angular.isUndefined(b.bonus))&&(a.paidCloudPlayTicket=b,E(a.paidCloudPlayTicket,b))}),H();break;default:switch(b.data.code){case 101:a.$emit("GF_EVENT_NO_MALIBU_TICKET");break;default:a.$emit("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE")}b.data.pending_jobs&&(a.pendingJobs=b.data.pending_jobs,a.pendingJobs.status===!0&&(a.pendingStatus=!0))}}).finally(function(){j.cancel(f),clearInterval(e),a.pendingStatus===!0&&a.$emit("GF_EVENT_PENDING_STREAMING_JOBS")})}function E(a,b){var c=b.ticket_expire_at;c&&(a.ticketExpired=c.expired,a.expireDateDiff=c.human)}function F(){i.getActiveInstantPlayCollection().then(function(b){if(b){if(1001===b.code)a.collectionAvailable=!1;else{var c=b.instantPlay;a.instantPlay=c,a.products=c.products,a.collectionAvailable=!0,_.forEach(a.products,function(a){_.forEach(a.offerActions,function(b,c){"Purchase"===a.offerActions[c].offerActionType&&(a.purchaseAction=a.offerActions[c])})}),m.display(b.notifications)}k.log(a.products),_.forEach(a.products,function(b,c){p.ecAddImpression(b,"[IP] "+a.instantPlay.name,c+1)}),p.sendPageView()}})}function G(){a.communicateWithMalibuInitiated!==!0&&(a.communicateWithMalibuInitiated=!0,a.malibuServiceUnavailable=void 0,a.malibuServiceInstruction=void 0,a.progress=10)}function H(){a.communicateWithMalibuInitiated=!1}function I(){l.lockLaunchBtn()}function J(){a.$apply(function(){l.unlockLaunchBtn()})}function K(){return l.launchingClient()}function L(){a.showPreviousBtn=1===a.page?!1:!0,a.showNextBtn=a.page===a.totalPage?!1:!0}function M(b,c,d){return a.start=(b-1)*c+1,a.end=c*b>d.length?d.length:c*b,d.slice((b-1)*c,b*c)}function N(){a.page--,"purchase-history"===X&&(a.orders=M(a.page,a.eachPage,a.fullData)),L()}function O(){a.page++,"purchase-history"===X&&(a.orders=M(a.page,a.eachPage,a.fullData)),L()}function P(){a.start=1,a.page=1,a.eachPage=10,h.getPayments().then(function(b){a.fullData=b.data.payments,a.orders=M(a.page,a.eachPage,a.fullData),a.total=a.fullData.length,a.totalPage=Math.ceil(a.total/a.eachPage),L()})}function Q(){a.vip&&($(".main-view").css({"background-image":"url(images/vip/vip_"+a.vip.tier+"_member_bg.png)","background-size":"100%"}),a.vip.tier>=5&&$(".main-view").css({"background-repeat":"no-repeat"}))}function R(b){switch(f.path("/my-account/"+b.name),a.activeTab=b,a.activeTab.title){case"Screenshots":a.getMedia();break;case"Videos":a.getMedia();break;case"User Reviews":a.userReviewtype=null,a.userReviewId=null}}function S(){return T()?angular.isDefined(a.paidCloudPlayTicket)&&a.paidCloudPlayTicket.expireDateDiff&&!a.paidCloudPlayTicket.ticketExpired?!0:angular.isDefined(a.bonusCloudPlayTicket)&&a.bonusCloudPlayTicket.expireDateDiff&&!a.bonusCloudPlayTicket.ticketExpired?!0:!1:!1}function T(){return U()||V()}function U(){return angular.isDefined(a.paidCloudPlayTicket)}function V(){return angular.isDefined(a.bonusCloudPlayTicket)}function W(){return _.isEmpty(b.gf.account.loyalty_misc)||b.gf.account.loyalty_misc.welcome!==!0}e.isLogin()||(b.redirect_url=f.path(),f.path("/"));var X=g.tabName||"streaming";b.launchingMalibuClient=!1,a.streaming_download_url=GF.Gon.setting.streaming_download_url,a.previous=N,a.next=O,a.setTab=R,a.tabs=[{title:"Streaming",partial:d.MyAccountTabs.myGames.streaming,name:"streaming",execute:function(){B()}},{title:"My Games",partial:d.MyAccountTabs.myGames.index,name:"my-games",execute:function(){s()}},{title:"Account Info",partial:d.MyAccountTabs.accountInfo,name:"account-info",execute:function(){}},{title:"Purchase History",partial:d.MyAccountTabs.purchaseHistory,name:"purchase-history",execute:function(){P()
}}],a.recommandationPartial=d.MyAccountTabs.myGames.recommandation,a.activeTab=_.find(a.tabs,{name:X}),a.communicateWithMalibuInitiated=!1,a.communicateWithMalibuStart=G,a.malibuServiceUnavailable=void 0,a.progress=10,a.instantPlayAvailable=o.instantPlayAvailable,a.disableLaunchBtn=K,a.collectionAvailable=!1,a.vip=b.gf.vip,a.able2Launch=S,a.atLeastOneTicket=T,a.hasPaidTicket=U,a.hasBonusTicket=V,a.onLoadTime=Date.now(),a.pendingStatus=!1,a.backgroundRetry=!1,a.retryCount=0,a.changePurchaseType=v,a.expiresIn=w,a.myGameActiveTab="all",a.fetchGamesByPage=t,a.initiateTradeIn=y,a.disableTradeInBtn=!1,a.subscriptionPanel=!1,a.spinnerPanel=!0,a.wallet={amount:0,currency:{code:"USD",symbol:"$"}},a.sortingTitle=q,a.sortingDate=r,a.sortingField=void 0,a.sortingDirection=void 0,a.unsubscribe=C,a.showRedeemButton=u,_.find(a.tabs,{name:X}).execute(),Q(),a.$on("GF_EVENT_LOGOUT_SUCCESS",function(){f.path("/")}),a.$on("GF_EVENT_TRADE_IN_FAILED",function(){z()}),a.$on("GF_EVENT_CLOSE_INITIATE_TRADE_IN",function(){A()}),a.$on("GF_EVENT_TRADE_IN_PROGRESSING",function(){a.$apply(function(){a.disableTradeInBtn=!0})}),a.$on("GF_EVENT_TRADE_IN_COMPLETE",function(){z()}),a.$on("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_START",function(){I()}),a.$on("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_DONE",function(){J()}),a.$on("GF_EVENT_NO_MALIBU_TICKET",function(){a.malibuServiceInstruction="You have not met the requirements to utilize this service. Cloud Play™ will be unlocked upon a purchase of at least $10 from D2D.",H()}),a.$on("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE",function(){a.malibuServiceUnavailable="Cloud Play™ is currently unavailable. Please check your connectivity",H()}),a.$on("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_START",function(){I()}),a.$on("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE",function(){J()}),a.$on("GF_EVENT_PENDING_STREAMING_JOBS",function(){Date.now()-a.onLoadTime<=3e5&&(a.retryCount++,j(function(){D(!0)},12e3))}),a.$on("GF_EVENT_SUBSCRIBE_PREMIUM_COMPLETE",function(){x()}),a.$on("GF_EVENT_REFRESH_INVENTORIES_DATA",function(b,c){c&&c.length&&c.forEach(function(b){a.inventories.forEach(function(c,d){b.id===c.id&&a.inventories[d].game_keys.forEach(function(a){a.entitlement_status="redeemed"})})})}),a.$watch(function(){"true"===f.search().reload&&(s(),a.$emit("GF_EVENT_UPDATECART"),a.$emit("GF_EVENT_CLOSE_CHECKOUT"),f.url(f.path()))},function(){},!0),b.gf.account&&W()&&h.loyalty1stWelcome().then(function(c){var d=c.data;d.performed!==!0&&(b.gf.account.loyalty_misc={welcome:!0},a.$emit("GF_EVENT_OPEN_CAMPAIGN",{name:"loyaltyFirstTimeCongrats",tier:d.current_tier}))}),a.isTempEmail=function(a){var b=new RegExp("@my7h1c4l\\.z00");return b.test(a)}}]),GF.app.controller("MalibuStreamingController",["$rootScope","$scope","$location","gfDebug","gfUrl","gfGlobalNotification","gfMerchandising","$timeout","gfAccountManager","$q","anchorSmoothScroll","streamingService","streamingCampaign","instantPlayHelper","gaService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){c.hash("bottom"),k.scrollTo(a)}function q(){b.$on("$viewContentLoaded",function(){-1!==window.location.href.indexOf("#how-to-use")&&h(function(){window.location=window.location.href.replace("#how-to-use","#reset")},1e3)}),g.getActiveInstantPlayCollection().then(function(a){if(a){if(1001===a.code)b.collectionAvailable=!1;else{var c=a.instantPlay;b.instantPlay=c,b.products=c.products,b.collectionAvailable=!0,_.forEach(b.products,function(a){_.forEach(a.offerActions,function(b,c){"Purchase"===a.offerActions[c].offerActionType&&(a.purchaseAction=a.offerActions[c])})}),f.display(a.notifications)}d.log(b.products),_.forEach(b.products,function(a,c){o.ecAddImpression(a,"[IP] "+b.instantPlay.name,c+1)}),o.sendPageView()}}),a.gf.account&&(r(),w())}function r(){i.switchStreamingSrvStatus().then(function(a){200===a.status&&(b.ableToSwitchingServer=a.data.ableToSwitch)})}function s(){b.communicateWithMalibuInitiated=!1}function t(){l.lockLaunchBtn()}function u(){l.unlockLaunchBtn()}function v(){return l.launchingClient()}function w(a){b.backgroundRetry=a||!1,y();var c=0,d=window.setInterval(function(){c++,b.$emit("GF_EVENT_UPDATE_MALIBU_PROGRESS"),c>=10&&clearInterval(d)},1800),e=h(function(){f.resolve()},2e4),f=j.defer();i.fetchStreaminInfo(f).then(function(a){switch(a.status){case 0:b.$emit("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE");break;case 200:b.streamingInfo=a.data.streaming,b.pendingJobs=a.data.pending_jobs,b.pendingStatus=b.pendingJobs.status,angular.forEach(b.streamingInfo,function(a){a.bonus===!0?(b.bonusCloudPlayTicket=a,x(b.bonusCloudPlayTicket,a)):(a.bonus===!1||angular.isUndefined(a.bonus))&&(b.paidCloudPlayTicket=a,x(b.paidCloudPlayTicket,a))}),s();break;default:switch(a.data.code){case 101:b.$emit("GF_EVENT_NO_MALIBU_TICKET");break;default:b.$emit("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE")}a.data.pending_jobs&&(b.pendingJobs=a.data.pending_jobs,b.pendingJobs.status===!0&&(b.pendingStatus=!0))}}).finally(function(){h.cancel(e),clearInterval(d),b.pendingStatus===!0&&b.$emit("GF_EVENT_PENDING_STREAMING_JOBS")})}function x(a,b){var c=b.ticket_expire_at;c&&(a.ticketExpired=c.expired,a.expireDateDiff=c.human)}function y(){b.communicateWithMalibuInitiated!==!0&&(b.communicateWithMalibuInitiated=!0,b.malibuServiceUnavailable=void 0,b.malibuServiceInstruction=void 0,b.progress=10)}function z(){return A()?angular.isDefined(b.paidCloudPlayTicket)&&b.paidCloudPlayTicket.expireDateDiff&&!b.paidCloudPlayTicket.ticketExpired?!0:angular.isDefined(b.bonusCloudPlayTicket)&&b.bonusCloudPlayTicket.expireDateDiff&&!b.bonusCloudPlayTicket.ticketExpired?!0:!1:!1}function A(){return B()||C()}function B(){return angular.isDefined(b.paidCloudPlayTicket)}function C(){return angular.isDefined(b.bonusCloudPlayTicket)}function D(){b.onLoadTime=Date.now(),w(!0)}a.launchingMalibuClient=!1,b.streaming_download_url=GF.Gon.setting.streaming_download_url,b.setInstantPlayData=q,b.communicateWithMalibuInitiated=!1,b.communicateWithMalibuStart=y,b.malibuServiceUnavailable=void 0,b.collectionAvailable=!1,b.instantPlayAvailable=n.instantPlayAvailable,b.disableLaunchBtn=v,b.progress=10,b.popoverNotification=!1,b.able2Launch=z,b.atLeastOneTicket=A,b.hasPaidTicket=B,b.hasBonusTicket=C,b.onLoadTime=Date.now(),b.pendingStatus=!1,b.backgroundRetry=!1,b.retryCount=0,b.streamingCampaign=m,b.gotoElement=p,b.$on("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_START",function(){t()}),b.$on("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_DONE",function(){u()}),b.$on("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE",function(){b.malibuServiceUnavailable="Service temporarily unavailable. Please try again later.",s()}),b.$on("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_START",function(){t()}),b.$on("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE",function(){u(),q()}),b.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){q()}),b.$on("GF_EVENT_PENDING_STREAMING_JOBS",function(){Date.now()-b.onLoadTime<=3e5&&(b.retryCount++,h(function(){w(!0)},12e3))}),b.$on("GF_EVENT_CAMPAIGN_REDEEMED",function(){D()}),b.clickProduct=function(a,c){o.ecSetActionClick(a,"[IP] "+b.instantPlay.name,c)},q(),b.gotoMyAccountCloudPlay=function(){return $.cookie("token")||a.gf.account?void c.path("/my-account"):(a.redirect_url="/my-account",void b.$emit("GF_EVENT_OPENLOGIN"))},b.loginOnInstantPlay=function(){a.redirect_url="/instant-play",b.$emit("GF_EVENT_OPENLOGIN")},b.getProductUrl=function(a){return e.getProductUrl(a.id,a.uriSafeTitle)},b.returnProductPath=function(a){return e.getProductUrl(a.id,a.uriSafeTitle,!0)}}]),GF.app.controller("MalibuInstantPlayController",["$rootScope","$scope","$location","gfDebug","gfUrl","gfGlobalNotification","gfMerchandising","instantPlayHelper","gaService",function(a,b,c,d,e,f,g,h,i){function j(){g.getActiveInstantPlayCollection().then(function(a){if(a){if(1001===a.code)b.collectionAvailable=!1;else{var c=a.instantPlay;b.instantPlay=c,b.products=c.products,b.collectionAvailable=!0,_.forEach(b.products,function(a){_.forEach(a.offerActions,function(b,c){"Purchase"===a.offerActions[c].offerActionType&&(a.purchaseAction=a.offerActions[c])})}),f.display(a.notifications)}d.log(b.products),_.forEach(b.products,function(a,c){i.ecAddImpression(a,"[IP] "+b.instantPlay.name,c+1)}),i.sendPageView()}})}function k(){b.communicateWithMalibuInitiated!==!0&&(b.communicateWithMalibuInitiated=!0,b.malibuServiceUnavailable=void 0)}function l(){b.communicateWithMalibuInitiated=!1}function m(){b.launchingMalibuClient=!0}function n(){b.launchingMalibuClient=!1}b.streaming_download_url=GF.Gon.setting.streaming_download_url,b.setInstantPlayData=j,b.communicateWithMalibuInitiated=!1,b.communicateWithMalibuStart=k,b.malibuServiceUnavailable=void 0,b.launchingMalibuClient=!1,b.collectionAvailable=!1,b.instantPlayAvailable=h.instantPlayAvailable,b.$on("GF_EVENT_COMM_MALIBU_START",function(){k()}),b.$on("GF_EVENT_COMM_MALIBU_DONE",function(){l()}),b.$on("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE",function(){b.malibuServiceUnavailable="Service temporarily unavailable. Please try again later.",l()}),b.$on("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_START",function(){m()}),b.$on("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE",function(){n(),j()}),b.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){j()}),b.clickProduct=function(a,c){i.ecSetActionClick(a,"[IP] "+b.instantPlay.name,c)},j(),b.gotoMyAccountCloudPlay=function(){return $.cookie("token")||a.gf.account?void c.path("/my-account"):(a.redirect_url="/my-account",void b.$emit("GF_EVENT_OPENLOGIN"))},b.loginOnInstantPlay=function(){a.redirect_url="/instant-play",b.$emit("GF_EVENT_OPENLOGIN")},b.getProductUrl=function(a){return e.getProductUrl(a.id,a.uriSafeTitle)},b.returnProductPath=function(a){return e.getProductUrl(a.id,a.uriSafeTitle,!0)}}]),GF.app.controller("MalibuCloudPlayController",["$rootScope","$scope","$routeParams","$location","gfDebug","gfGlobalNotification",function(a,b,c,d){b.streaming_download_url=GF.Gon.setting.streaming_download_url,b.gotoMyAccountCloudPlay=function(){return $.cookie("token")||a.gf.account?void d.path("/my-account"):(a.redirect_url="/my-account",void b.$emit("GF_EVENT_OPENLOGIN"))}}]),GF.app.controller("accountInfoController",["$scope","$rootScope","gfAccountManager","oauthService","gfError",function(a,b,c,d,e){function f(){i()}function g(){i()}function h(){c.accountInfo().then(function(b){a.account={user_name:b.data.user_name,subscribe:b.data.subscribe,allow_tracking:b.data.allow_tracking,address:b.data.address||{}}},function(a){e.handleApiError(a)})}function i(){d.connectedAuth().then(function(b){a.connections=b.providers},function(){})}function j(){if($("#accountUpdate").valid()){var d={user_name:a.account.user_name,gdpr:a.account.subscribe,allow_tracking:a.account.allow_tracking};c.updateAccount(d).then(function(c){"successed"===c.data.messages&&(b.gf.account.firstName=a.account.user_name,b.gf.account.gdprOptIn=a.account.subscribe,b.gf.account.allow_tracking=a.account.tracking,b.$emit("GF_EVENT_OPENMESSAGE",{type:"Update Successful",body:"Your profile was updated successfully"}))})}}function k(){if($("#extraInfoUpdate").valid()){var d={address:a.account.address};c.updateAccount(d).then(function(a){"successed"===a.data.messages&&b.$emit("GF_EVENT_OPENMESSAGE",{type:"Update Successful",body:"Your billing info was updated successfully"})})}}function l(){a.account.subscribe=!a.account.subscribe}function m(){a.account.allow_tracking=!a.account.allow_tracking}function n(){a.emailVerified=!1}function o(){if($("#reverifyEmailForm").valid()){var d=a.newEmail,e={email:d};c.reconfirmations(e).then(function(a){"successed"===a.data.messages?b.$emit("GF_EVENT_OPENMESSAGE",{type:"Email Update Initiated",body:"We have sent a confirmation email to "+d+". In order to complete your email address update, please follow the instructions in that email."}):b.$emit("GF_EVENT_OPENMESSAGE",{type:"Email Update Failed",body:"New email is invalid or already exists. We can not update email successfully."})})}}function p(a){var b=new RegExp("@my7h1c4l\\.z00");return b.test(a)}a.emailVerified=!0,a.$on("GF_EVENT_LOGIN_SUCCESS",f),a.$on("GF_EVENT_DISCONNECT",g),a.updateAccount=j,a.updateExtraInfo=k,a.setSubscribe=l,a.setAllowTracking=m,a.updateEmail=n,a.reverifyEmail=o,a.isTempEmail=p,h(),i()}]),GF.app.controller("PageNotFoundController",["$scope","gfAsset",function(a,b){a.imagePath=function(){var a=["img/errors/404-cholera.png","img/errors/404-dysentery.png","img/errors/404-exhaustion.png","img/errors/404-measles.png","img/errors/404-snakebite.png"];return b.getAssetPath(a[Math.floor(5*Math.random())])}()}]),GF.app.controller("ProductController",["$scope","$location","$rootScope","$q","$routeParams","gfProductQuery","gfAsset","gfPartialConfig","gfMedia","gfDebug","gfModalManager","$compile","gfUrl","OfferModel","$filter","$cookieStore","gaService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(a){return _.forEach(a,function(a){"1"===a.type.toString()&&(t(a),a=s(a))}),a}function s(a){a.item.sources.sort(function(a,b){var c=new RegExp(/\d+/).exec(a.definition)[0],d=new RegExp(/\d+/).exec(b.definition)[0];return d-c})}function t(a){_.remove(a.item.sources,function(a){return/^[a-z]+$/i.test(a.definition)})}function u(){a.getProductData(),a.userLogin()}function v(){return $.cookie("token")&&c.gf.account}c.$on("$locationChangeSuccess",function(){null===e.mediaType&&(jwplayer("videoPlayer").id&&jwplayer("videoPlayer").stop(),$("#mediabrowser").modal("hide"))}),a.ComputerPlatforms=function(a){return/^(PC|Mac)$/i.test(a.name)},a.PlaystationPlatforms=function(a){return/^PS.*/i.test(a.name)},a.tabs=[{title:"Summary",partial:h.productTabs.summary},{title:"Screenshots",partial:h.productTabs.screenshots},{title:"Videos",partial:h.productTabs.videos}],a.activeTab=a.tabs[0],a.setTab=function(b){switch(a.activeTab=b,a.activeTab.title){case"Screenshots":a.getMedia();break;case"Videos":a.getMedia();break;case"User Reviews":a.userReviewtype=null,a.userReviewId=null}},a.loadReviewsTab=function(b,c){a.userReviewtype=b,a.userReviewId=c,a.activeTab=a.tabs[3]},a.openCreateProfileWindow=function(){k.get("createReviewerProfile",!0).then(function(b){l(b.contents())(a),b.modal("show")})},a.openWriteReviewWindow=function(){k.get("writeReview",!0).then(function(b){l(b.contents())(a),b.modal("show")})},a.writeReview=function(){a.reviewer.needsToCreateReviewerProfile?a.openCreateProfileWindow():a.openWriteReviewWindow()},a.getProductData=function(){f.getProduct(e.pid,e.preview).then(function(c){if(c&&c.product){if("CustomBundle"===c.product.productType&&(j.log("Redirecting to BYOB url"),b.path(m.getByobUrl(c.product.id,c.product.uriSafeTitle,!0)).replace()),j.log(e.pid,c),a.recommendedProducts=c.recommendedProducts,a.product=c.product,a.product.url=b.absUrl(),a.product.returnurl=m.getProductUrl(a.product.id,a.product.uriSafeTitle,!0),a.product.offerModel=n.create(c.product.offerActions,c.product.skuIdsPurchased),a.countryRestrictions="This title is available for purchase in "+o("arrayToString")(a.product.countryRestrictions)+".",a.medias=r(c.topMedia),a.mostRecentUserReviews=c.mostRecentUserReviews,a.mostHelpfulUserReviews=c.mostHelpfulUserReviews,a.currentUserRating=c.currentUserRating,a.reviewer=c.reviewer,a.hero=function(){var a={product:c.product,design:void 0!==c.merchandisingInfo&&void 0!==c.merchandisingInfo.product?c.merchandisingInfo.product.design:null};return a.design={background:c.product.backImage,background_color:c.product.background_color},a.overlays=c.product.overlays,a}(),e.download&&a.$watch("product.offerModel.purchaseOffer",function(b){b&&b.hasBeenPurchased&&b.skuId&&a.$emit("GF_EVENT_OPENDOWNLOAD",{skuIds:[b.skuId],fileType:"product",isHttp:e.http?!0:!1})}),e.mediaType){var d={type:e.mediaType,id:e.mediaId};a.loadMediaBrowser(d)}var f="US",g=c.product.title.match(/{(\w+)}/);g instanceof Array&&(f=g[1]),a.$emit("GF_EVENT_SEODATA",{PRODUCT_TITLE:c.product.title,PRODUCT_PLATFORM:void 0!==c.product.platform?c.product.platform.name:"PC",PRODUCT_SHORT_DESCRIPTION:c.product.shortDescription.length<50?c.product.title+". "+c.product.shortDescription+" ["+f+"]":c.product.shortDescription+" ["+f+"]",PRODUCT_IMAGE:c.product.frontImage}),a.$emit("GF_EVENT_TRACKINGDATA",{udo:c.product.trackingModel}),_.forEach(a.recommendedProducts,function(a,b){q.ecAddImpression(a,"Recommendation",b+1)}),q.ecSetActionDetail(c.product)}})},a.clickRecommendation=function(a,b){q.ecSetActionClick(a,"Recommendation",b)},a.countGamesInBundle=function(a){return a?Object.keys(a).length:0};var w=!1,x=!1;a.getMedia=function(b,c){if(!w&&!x){w=!0;var f=i.get(e.pid,"image",100,1,e.preview),g=i.get(e.pid,"video",100,1,e.preview);d.all([f,g]).then(function(d){a.screenshots=r(d[0].items),a.videos=d[1].items,console.log(a.videos),x=!0,y(b,c)})}};var y=function(a,b){void 0!==b&&b(a)};a.mediatabs=[{title:"Screenshots"},{title:"Videos"}],a.activeMediaTab=a.mediatabs[0],a.setMediaTab=function(b){a.activeMediaTab=b,"Screenshots"===b.title&&a.screenshots&&(a.selectedItem=a.screenshots[0]);try{jwplayer("videoPlayer").stop()}catch(c){}},a.loadMediaBrowser=function(d){x?("1"===d.type.toString()?(a.activeMediaTab=a.mediatabs[0],_.forEach(a.screenshots,function(a){a.id===d.id&&(d=a)})):(a.activeMediaTab=a.mediatabs[1],_.forEach(a.videos,function(a){a.id===d.id&&(d=a)})),a.selectedItem=d,k.get("mediabrowser",!0).then(function(d){l(d.contents())(a),d.on("show",function(){var a=this;window.onhashchange=function(b){-1===b.newURL.indexOf("?")&&$(a).modal("hide")},c.$on("$routeChangeSuccess",function(){$(a).modal("hide")})}),d.on("hidden",function(){$("#videoPlayer").length?jwplayer("videoPlayer").stop():$("#youtubePlayer").length&&c.$broadcast("GF_EVENT_YOUTUBE_STOP"),b.search("mediaType",null),b.search("mediaId",null),a.$safeApply()}),d.modal("show")})):a.getMedia(d,a.loadMediaBrowser)},a.getMediaType=function(a){return 0===a.type?"VIDEO":1===a.type?"SCREENSHOT":"UNKNOWN"},a.isMediaVideo=function(a){return 0===a.type?!0:!1},a.getMediaPreviewUrl=function(a){return 0===a.type?g.getVideoPreviewUrl(a.item):1===a.type?a.item.sources[a.item.sources.length-1].url:null},a.getMediaCount=function(b){switch(b){case"Screenshots":return a.screenshots.length;case"Videos":return a.videos.length;default:return 0}},a.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",u),a.$on("GF_EVENT_NO_TRIAL",u),a.userLogin=v,(void 0===p.get("token")||void 0!==c.gf.account)&&a.getProductData()}]),GF.app.controller("PromotionController",["$scope","$routeParams","gfMerchandising","gfDebug","gfGlobalNotification","instantPlayHelper","gaService",function(a,b,c,d,e,f,g){a.showLoadingIcon=!0,a.instantPlayAvailable=f.instantPlayAvailable,a.getPromotionBackground=function(){c.getPromotionBackground(b.promoId).then(function(b){if(b)if("null"===b)a.backgroundUnavailable=!0;else{var c=b.promotion;a.hero={design:c.design.images},void 0===c.design.images.background&&(a.backgroundUnavailable=!0)}})},a.getPromotionData=function(){c.getPromotion(b.promoId).then(function(b){if(b){if("null"===b)a.unavailable=!0;else{var c=b.promotion;for(a.promotion=c,a.products=[];c.products.length;)a.products.push(c.products.splice(0,6));a.hero={design:c.design.images};for(var f=0;f<a.products.length;f++)for(var h=0;h<a.products[f].length;h++)if(a.products[f][h].offerActions.length>0)for(var i=0;i<a.products[f][h].offerActions.length;i++)"Purchase"===a.products[f][h].offerActions[i].offerActionType&&(a.products[f][h].purchaseAction=a.products[f][h].offerActions[i]);e.display(b.notifications)}d.log(a.products[0]),_.forEach(a.products,function(a,c){_.forEach(a,function(a,d){g.ecAddImpression(a,"[PM] "+b.promotion.name,6*c+d+1)})}),g.sendPageView()}a.showLoadingIcon=!1})},a.clickProduct=function(b,c){g.ecSetActionClick(b,"[PM] "+a.promotion.name,c)},a.getPromotionBackground(),a.getPromotionData(),a.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){a.getPromotionData()})}]),GF.app.controller("RegionController",["$location","$routeParams",function(a,b){switch(b.code){case"UK":$.cookie("region","302",{expires:new Date((new Date).getTime()+36e5)});break;default:$.cookie("region","301",{expires:new Date((new Date).getTime()+36e5)})}a.path("/").replace()}]),GF.app.controller("SitemapController",["$scope","$location","$route","gfNavigation","$http","gfUrl","gfApiConfig","gfError","gfSitemap",function(a,b,c,d,e,f,g,h,i){i.get().then(function(b){a.subStores=b.subStores,a.publishers=[],angular.forEach(b.featuredPublishers,function(b){-1===a.publishers.indexOf(b.company_name)&&this.push(b.company_name)},a.publishers)}),a.platforms=[{title:"PC",url:"/#!/pc"}],a.stores=[{title:"Trade In",url:"/#!/pc/tradein"},{title:"Coming Soon",url:"/#!/pc/comingsoon?releaseDate=1&sort=3"},{title:"Flashback Zone",url:"/#!/promotion/88"},{title:"On Sale",url:"/#!/pc/onsale?price=1"},{title:"Pub Store",url:"/#!/collection"}],a.infos=[{title:"About Us",link:"/#!/about-us"},{title:"Affiliate Program",link:"/#!/about-us/affiliate-program"},{title:"Support",link:"https://support.direct2drive.com/#top"},{title:"Email Us",link:"https://support.direct2drive.com/customer/portal/emails/new"},{title:"Privacy Policy",link:"/#!/about-us/privacy-policy"},{title:"Terms of Use",link:"/#!/about-us/terms-of-use"}],a.accounts=[{title:"My Account",link:"/#!/my-account"},{title:"My Games",link:"#!/my-account/my-games"},{title:"Account Info",link:"#!/my-account/account-info"},{title:"Purchase History",link:"#!/my-account/purchase-history"}]}]),GF.app.controller("SearchController",["$scope","$location","$route","gfNavigation",function(a,b,c){a.getPlaceHolder=function(){return"Search Store"},a.submit=function(){var d=a.keywords;a.keywords="",b.path("/search").search({q:d}),c.reload()}}]),GF.app.controller("SplashController",["$scope","$rootScope","$location","$routeParams","gfUrlConfig",function(a,b,c,d,e){if(!localStorage.defaultPath){var f=e.links[1e4];localStorage.platformId=f.code,localStorage.defaultPath=f.path}c.path(localStorage.defaultPath).replace(),d.download&&d.skuId&&(c.search("download",null),c.search("skuId",null),a.$emit("GF_EVENT_OPENDOWNLOAD",{skuIds:[d.skuId],fileType:"product",isHttp:function(){return d.http?(c.search("http",null),!0):!1}()}))}]),GF.app.controller("SubscribeController",["$scope","$rootScope","gfError","$location","$route","gfPartialConfig","defCoupon","gfMailChimp",function(a,b,c,d,e,f,g,h){a.email="",a.error=!1,a.success=!1,a.waiting=!1,a.requestSubscribe=function(){var c={email:a.email,region_id:b.view};a.error=!1,a.errorMsg=null,a.waiting=!0,h.subscribe(c).then(function(){a.waiting=!1,b.$emit("GF_EVENT_CLOSE_SUBSCRIBE"),b.$emit("GF_EVENT_SUBSCRIBE_OK")},function(){})}}]),GF.app.controller("UserReviewsController",["$scope","$routeParams","gfUserReviews",function(a,b,c){var d=5;a.init=function(){if(a.activeReviewTab=a.reviewTabs[0],a.userReviewtype)for(var b=0;b<a.reviewTabs.length;b++)if(a.userReviewtype===a.reviewTabs[b].value){a.activeReviewTab=a.reviewTabs[b];break}a.getUserReviews(!1)},a.reviewTabs=[{title:"Most Helpful",value:"MostHelpful"},{title:"Most Recent",value:"MostRecent"}],a.setReviewTab=function(b){a.activeReviewTab=b,a.getUserReviews(!1)},a.getUserReviews=function(e){e||(a.userReviews=[],a.paging={size:d,index:1,isLast:!1,isEmpty:!1,isFetching:!1}),!a.paging||a.paging.isLast||a.paging.isEmpty||(e&&(a.paging.size=d,a.paging.index=a.paging.index+1),a.paging.isFetching||(a.paging.isFetching=!0,c.get(b.pid,d,a.paging.index,a.activeReviewTab.value).then(function(b){b&&(a.paging.isFetching=!1,a.paging.isLast=b.isLastPage,a.paging.isEmpty=0===b.totalItems,a.userReviews.push.apply(a.userReviews,b.items),a.total=b.totalItems)})))}}]),GF.app.controller("RewardsController",["$rootScope","$scope","gfDebug","gfVip","vipTiers","gfMerchandising","gaService",function(a,b,c,d,e,f,g){function h(){var c=a.gf.account;if(!angular.isUndefined(c))if(b.current_vip_tier=d.setVipTier(),b.next_vip_tier=d.getNextVipTier(),b.current_vip_tier&&void 0===b.next_vip_tier)b.member_vip_tier=b.current_vip_tier.name,b.amountToNextTier=void 0,b.currentTierProgress="100%",b.next_vip_tier=b.current_vip_tier,b.top_tier=!0;else if(void 0===b.current_vip_tier)b.member_vip_tier="Non member";else{b.member_vip_tier=b.current_vip_tier.name;var e=b.next_vip_tier.purchase_price;b.amountToNextTier=b.next_vip_tier.purchase_price-c.purchase_amount,b.currentTierProgress=100-b.amountToNextTier/e*100,b.currentTierProgress>=90&&(b.currentTierProgress-=6),b.currentTierProgress+="%"}}b.currentTier=0,b.amountToNextTier=0,b.currentTierProgress="0%",b.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){h()}),d.setTiers(e.tiers),b.vips=a.gf.vips,b.next_vip_tier=d.getNextVipTier(),_.forEach(b.vips,function(a,c){a.purchase_display_text=a.purchase_price<=0?"<$"+Math.round(100*b.vips[c+1].purchase_price)/100:"$"+Math.round(100*a.purchase_price)/100}),angular.isDefined(a.gf.account)&&h()}]),GF.app.controller("StreamingMailingListController",["$rootScope","$scope","$routeParams","$location","gfDebug","gfSubscribeMailingList",function(a,b,c,d,e,f){b.subscribed=!1,b.submitting=!1,b.subscribeStreamingMailingList=function(){b.email&&(b.submitting=!0,f.subscribeStreamingList({email:b.email}).then(function(a){var c=a.sendy;c===!0&&(b.subscribed=c,b.submitting=!1)},function(){b.submitting=!1}))}}]),GF.app.controller("GdprController",["$scope","$rootScope","$location","gfGdprMailOptin","gfDebug",function(a,b,c,d,e){var f=c.search().result,g=!0;(void 0===f||"opt_out"===f)&&(f="opt_out",g=!1),a.result=f;var h={email:c.search().email,opt_in:g};d.subscribe(h).then(function(a){e.log("gdpr response success:"+a)},function(a){e.log("gdpr response error:"+a)})}]),GF.app.controller("D2DPlusController",["$rootScope","$scope","$location","gfNavigation","gfProductQuery","$anchorScroll","$http","gfApiConfig","gfUrl","gfDebug","premiumService","trialCampaign",function(a,b,c,d,e,f,g,h,i,j,k,l){b.rental="rental",b.tradin="tradin",b.subscription="subscription",b.spinnerPanel=!0,b.featured={items:{}},b.trialCampaign=l,k.getPlanPrice().then(function(a){b.planPrice=a.subscription_price,b.spinnerPanel=!1},function(){b.planPrice=0}),b.gotoElement=function(a){c.hash(a),f.yOffset=180,f()}}]),GF.app.controller("PremiumIntroController",["$rootScope","$scope","$routeParams","$location","gfDebug","gfUrl","gfPartialConfig","premiumService",function(a,b,c,d,e,f,g,h){function i(){h.activePremiumProducts().then(function(a){a.available===!0&&(b.products=a.products),b.collectionAvailable=a.available},function(a){b.error=a}),j()}function j(){a.gf.account&&h.getMyPremium().then(function(a){angular.isDefined(a)&&(b.premium=a.premium)},function(a){b.error=a})}b.premium=void 0,b.getMyPremium=j,b.getProductUrl=k,b.$on("GF_EVENT_SUBSCRIBE_PREMIUM_COMPLETE",function(){d.path("/my-account/my-subscription")}),b.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){b.getMyPremium()}),i();var k=function(a){return f.getProductUrl(a.id,a.uriSafeTitle)}}]),GF.app.controller("PremiumSubscriptionController",["$scope","$rootScope","$location","premiumService","validSubscription",function(a,b,c,d,e){function f(){return $.cookie("token")||b.gf.account?(a.startProcessing=!0,void d.subscribePremium().then(function(c){if(500===c.status)b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Error",body:c.error});else if(422===c.status){var d;d=87===c.errors.error_code?"Your purchase cannot be completed. Please contact Customer Support at http://support.direct2drive.com for assistance.":4010===c.errors.error_code?'In order to complete a purchase on D2D, you must confirm your email address. To have a new confirmation email sent to your email address, click the "Resend" button.':5010===c.errors.error_code?"Your've already subscribed to D2D Premium.":c.errors.base.join(", "),4010===c.errors.error_code?b.$emit("GF_EVENT_ACCOUNT_UNCONFIRMED",{type:"Email Confirmation Required",body:d}):b.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:d}),a.startProcessing=!1}void 0!==c.call_url&&(b.call_url=c.call_url,$(".premium-op").hide(),$("#xsollaCheckout").css("background-color","#898989").removeClass("hide"),$(".footer-module").css("margin-top","-5px"),$("#paywallFrame").attr("src",b.call_url))})):void a.$emit("GF_EVENT_OPENLOGIN")}b.hidePopCart="/premium/subscribe"===c.path(),a.hide_cart=!0,a.validSubscription=e.valid,a.startProcessing=!1,a.subscribePremium=f,$(".footer-module").css("margin-top","24px"),$(window).scrollTop(0),a.$on("GF_EVENT_LOGOUT_SUCCESS",function(){c.path("/")})}]),GF.app.controller("PremiumStopRenewingController",["$scope","$rootScope","$location","premiumService","validSubscription",function(a,b,c,d,e){function f(){return $.cookie("token")||b.gf.account?(a.startProcessing=!0,void d.stopRenewingPremium().then(function(d){500===d.status&&(b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Error",body:d.data.error}),a.startProcessing=!1),b.$emit("GF_EVENT_OPENMESSAGE",{type:"Action Complete",body:"Your D2D Premium's renewal is canceled."}),c.path("/subscription")})):void a.$emit("GF_EVENT_OPENLOGIN")}b.hidePopCart=c.path().search("premium"),a.hide_cart=!0,a.validSubscription=e.valid,a.startProcessing=!1,a.stopRenewingPremium=f,a.$on("GF_EVENT_LOGOUT_SUCCESS",function(){c.path("/")})}]),GF.app.controller("PremiumCancelController",["$scope","$rootScope","$location","premiumService","validSubscription",function(a,b,c,d,e){function f(){return $.cookie("token")||b.gf.account?(a.startProcessing=!0,void d.cancelPremium().then(function(d){500===d.status&&(b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Error",body:d.data.error}),a.startProcessing=!1),b.$emit("GF_EVENT_OPENMESSAGE",{type:"Action Complete",body:"Your D2D Premium is canceled."}),c.path("/subscription")})):void a.$emit("GF_EVENT_OPENLOGIN")}b.hidePopCart=c.path().search("premium"),a.hide_cart=!0,a.validSubscription=e.valid,a.startProcessing=!1,a.cancelPremium=f,a.$on("GF_EVENT_LOGOUT_SUCCESS",function(){c.path("/")})}]),GF.app.controller("SignSuccessConfirmController",["$scope","$location",function(a,b){function c(){b.path("/my-account/account-info"),a.$emit("GF_EVENT_CLOSE_SIGNUP_SUCCESS")}a.onClose=c}]),GF.app.directive("gfActionBuy",["$compile","$rootScope","$filter","gfCart","gfUrl","gfModalManager","gaService",function(a,b,c,d,e,f,g){var h=function(a){a.getProductRequirementsName=function(){for(var b="",d=0;d<a.productRequirements.length;d++)b+=(d>0?" or ":"")+a.productRequirements[d].product.title+" ("+c("gfFilterPlatform")(a.productRequirements[d].product.platformId)+")";return b},a.getProductRequirementsState=function(){return 1===a.productRequirements.length?a.productRequirements[0].purchaseRequired?"single-required":"single-not-required":a.productRequirements.length>1?"multiple":void 0},a.getProductRequirement=function(){var b=a.productRequirements[0].product;return b.getPurchaseAction=function(){for(var a=0;a<b.offerActions.length;a++)if("Purchase"===b.offerActions[a].offerActionType)return b.offerActions[a]},b.getProductPath=function(){return e.getProductUrl(b.id,b.uriSafeTitle,!0)},a.productRequirements[0].product},a.hasProductRequirement=function(){if(a.productRequirements){for(var b=0;b<a.productRequirements.length;b++){var c=a.productRequirements[b];if(c.purchaseRequired&&c.product&&c.product.offerActions)for(var d=0;d<c.product.offerActions.length;d++){var e=c.product.offerActions[d];if("Purchase"===e.offerActionType&&e.hasBeenPurchased)return!1}}return!0}return!1}};return{scope:{product:"=",productlist:"=",position:"=",btnClass:"@"},link:function(c,e){void 0===c.product.offerActions[0].rentalPrice&&e.addClass(c.btnClass),e.on("click",function(){h(c.product),c.product.hasProductRequirement()?f.get("productRequirement",!0).then(function(b){a(b.contents())(c),b.modal("show")}):b.$safeApply(function(){d.addCart(c.product.id).then(function(a){a.cart.message?(b.$broadcast("GF_EVENT_UPDATECART",a),b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Add to Cart Fail",body:a.cart.message},function(){b.$broadcast("GF_EVENT_OPENCART")})):(b.$broadcast("GF_EVENT_UPDATECART",a),b.$broadcast("GF_EVENT_OPENCART"),g.ecSetActionAdd(c.product,c.productlist||"Detail",c.position))})})})}}}]),GF.app.directive("gfActionCloseFirstVisit",["gfModalManager",function(a){var b=function(){var b=a.find("firstVisit");null!==b&&b.modal("hide")
};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseFirstVisitCoupon",["gfModalManager",function(a){var b=function(){var b=a.find("firstVisitCoupon");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseForgetPassword",["gfAuthManager",function(a){var b=function(){a.closeForgetPassword()};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseKey",["gfModalManager",function(a){var b=function(){var b=a.find("showKey");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseLogin",["gfAuthManager",function(a){var b=function(){a.cancelLogin()};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseSubscribe",["gfModalManager",function(a){var b=function(){var b=a.find("subscribe");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseSubscribeOk",["gfModalManager",function(a){var b=function(){var b=a.find("subscribe-success");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCreateReviewerProfile",["gfUserReviews","gfError","gfUrl",function(a,b){return{restrict:"EA",link:function(c){var d=function(a){c.hasError=!0,c.failureMessage="Sorry, but we were unable to process your request due to a system error. Please try again later.",a&&(c.failureMessage=a)},e=function(){a.productIsReviewableByUser(c.product.id).then(function(a){var e=!1,f={};a.requestSucceeded?e=!0:409===a.status?a.data&&a.data.failureError&&(f=a.data.failureError,801===f.id&&(f.message="Sorry, you may not write a review of this game due to your Parental Control Settings.")):b.handleApiError(a),e?(c.reviewer=a,$("#createReviewerProfile").modal("hide"),c.openWriteReviewWindow()):(c.productNotReviewable=!0,d(f.message))})};c.productNotReviewable=!1,c.submit=function(){c.reviewSubmitted=!0,c.hasError=!1,c.theForm.$valid&&a.createReviewerProfile(c.userReviewForm.username).then(function(a){if(a){var c=!1,f={};a.requestSucceeded?c=!0:409===a.status?a.data&&a.data.failureError&&(f=a.data.failureError):b.handleApiError(a),c?e():d(f.message)}else d()})}}}}]),GF.app.directive("gfActionDownload",["$rootScope",function(a){return{link:function(b,c){c.on("click",function(){var d=c.closest("#download").find("form input[type=checkbox]");d.is(":checked")&&(localStorage.hasDownloader=!0),b.$emit("GF_EVENT_DEEPLINKING_GFDC",a.gf.action)})}}}]),GF.app.directive("gfActionDownloadBuild",["gfPartialConfig","$rootScope","$window",function(a){return{restrict:"EA",templateUrl:a.MyAccountTabs.myGames.build,scope:{gameFiles:"=gameFiles",btnClass:"@",btnGroupClass:"@"},link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_OPEN_DOWNLOAD_FILES",{files:a.gameFiles})})}}}]),GF.app.directive("gfActionDownloadBonusItem",["gfChannel","$window","gfError","$rootScope","$compile","gfModalManager",function(a,b,c,d,e,f){var g=function(a){var b=[];if(a.skuIdsPurchased.length>0)b.push(a.skuIdsPurchased[0]);else if(a.offerActions.length>0)for(var c=0;c<a.offerActions.length;c++)"Purchase"===a.offerActions[c].offerActionType&&a.offerActions[c].hasBeenPurchased&&b.push(a.offerActions[c].skuId);return b},h=function(a,b){for(var c=0;c<b.length;c++)if(a===b[c].itemId)return b[c].url;return null},i=function(){d.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:"The download location is currently unavailable."})},j=function(a){return c.handleApiError(a),null};return{restrict:"EA",scope:{spec:"=",product:"="},link:function(c,d){var k=g(c.product);k.length>0&&(d[0].disabled=!1),d.on("click",function(){f.get("downloadBonusItem").then(function(a){e(a.contents())(c),a.modal("show"),a.on("shown",l)})});var l=function(){0!==k.length&&c.$apply(a.getDownloadLocations(k,"bonusitem").then(function(a){if(a){var d=h(c.spec.id,a[0].locations);d?b.location.assign(d):i()}},j))}}}}]),GF.app.directive("gfActionGetProductKey",["gfPartialConfig","$rootScope","$window","gfAccountManager",function(a,b,c,d){function e(a){return f(a)&&!g(a)}function f(a){return"SecuRom"===a.product_item.drm}function g(a){return _.find(a.game_keys,function(a){return a.is_securom})}function h(a){return d.getSecuromKey(a.id)}function i(a){return a.game_keys.some(function(a){return"activated"===a.entitlement_status||"redeemed"===a.entitlement_status})}return{restrict:"EA",templateUrl:a.MyAccountTabs.myGames.key,scope:{inventory:"=inventory",btnClass:"@",btnGroupClass:"@"},link:function(a,b){var c=a.inventory,d=c.game_keys;a.isUbisoftGame=i(c),b.on("click",function(){c.isLoading=!0,a.$emit("GF_EVENT_SHOW_KEY",c),e(c)?h(c).then(function(a){a.data.game_key&&(d.push(a.data.game_key),c.isLoading=!1)}):c.isLoading=!1})}}}]),GF.app.directive("gfActionLogin",["gfAuthManager","$location","gfModalManager","$rootScope",function(a,b,c,d){var e=function(a){var e=[],f=JSON.parse(a.responseText);if(400===a.status){if(a.responseText&&f.modelState)for(var g in f.modelState){var h=f.modelState[g][0];g=g.substr(g.indexOf(".")+1),h=h.substr(h.indexOf(":|:")+3),e.push(g+": "+h)}}else 409===a.status&&f.failureError&&f.failureError.message&&(e.push(f.failureError.message),102===f.failureError.id?d.resendBtn=!0:104===f.failureError.id&&(b.path("/complete-forget-password"),c.find("login").modal("hide")));var i=$('<ul class="login-error" />');return i.append("<li>(Login failed. Please try again.)</li>"),i},f=function(a){a.off("click").addClass("disabled").append('<i class="icon-repeat icon-spin" style="margin-left:8px"></i>')},g=function(a){a.on("click",h).removeClass("disabled").find("i").remove()},h=function(){var b=$(this),c=b.closest("#login");c.find("ul.alert-error").remove();var d=b.closest("form");if(d.valid()){var h=d.find("#loginEmail").val(),i=d.find("#loginPassword").val();a.login(h,i).then(function(){},function(a){d.before(e(a)),g(b)}),f(b)}};return{link:function(a,b){b.closest("form").validate(),b.on("click",h)}}}]),GF.app.directive("gfActionLogout",["gfAuthManager",function(a){return{link:function(b,c){c.on("click",function(){a.logout()})}}}]),GF.app.directive("gfActionOpenCart",["$rootScope",function(a){return{restrict:"EA",link:function(b,c){c.on("click",function(){a.$broadcast("GF_EVENT_OPENCART")})}}}]),GF.app.directive("gfActionRequirementContinue",["$compile","$rootScope","$location","gfCart",function(a,b,c,d){return{link:function(a,e){e.on("click",function(){var a=e.closest("#productRequirement").find("form input[name=requirement-options]:checked"),f=a.data("skuId"),g=a.data("skuIds"),h=a.data("path");b.$safeApply(function(){if(f)d.addCart(f,!0).then(function(a){b.$broadcast("GF_EVENT_UPDATECART",a),b.$broadcast("GF_EVENT_OPENCART")});else if(g){var a=g.split(",");d.addCart(a[0],!0).then(function(){d.addCart(a[1],!0).then(function(a){b.$broadcast("GF_EVENT_UPDATECART",a),b.$broadcast("GF_EVENT_OPENCART")})})}else h&&c.path(h)})})}}}]),GF.app.directive("gfActionResendConfirmation",["gfAccountManager",function(a){function b(b,f){var g=b.gf.account.emailAddress;g||(g=b.gf.account.unconfirmedEmail),f.on("click",function(){var b={account:{email:g}};a.resendConfirmAccount(b).then(function(a){f.before(200===a.status?d({message:"Confirmation email has been successfully sent to your email address."}):c({message:"Error. Resend confirmation email failed"})),f.hide()},function(){f.before(c({message:"Error. Resend confirmation email failed"})),f.removeClass("disabled").find("i").remove()}),e(f)})}var c=function(a){var b=[];b.push(a.message);for(var c=$('<ul style="list-style-type: none;"/>'),d=0;d<b.length;d++)c.append("<li>"+b[d]+"</li>");return c},d=function(a){var b=[];b.push(a.message);for(var c=$('<ul style="list-style-type: none;"/>'),d=0;d<b.length;d++)c.append('<li style="color:#c37319;">'+b[d]+"</li>");return c},e=function(a){a.off("click").addClass("disabled").append('<i class="icon-repeat icon-spin" style="margin-left:8px"></i>')};return{link:b}}]),GF.app.directive("gfActionSignUp",["$rootScope","$location","gfAuthManager","$timeout",function(a,b,c,d){var e=function(a){var b=[],c=JSON.parse(a.responseText);if(grecaptcha.reset(),422===a.status){if(a.responseText)if(c.errors)_(c.errors).forEach(function(a){b.push(a)});else for(var d in c){var e=c[d][0];d=d.substr(d.indexOf(".")+1),b.push(d+": "+e)}}else 409===a.status&&c.failureError&&c.failureError.message&&b.push(c.failureError.message);ga("send","event","Registered","Register error",b[0]);for(var f=$('<ul class="alert alert-error" />'),g=0;g<b.length;g++)f.append("<li>"+b[g]+"</li>");return f},f=function(a){a.off("click").addClass("disabled").append('<i class="icon-repeat icon-spin" style="margin-left:8px"></i>')},g=function(a){a.on("click",h).removeClass("disabled").find("i").remove()},h=function(){var b=angular.element(this).scope(),d=$(this),h=d.closest("#signup");h.find("ul.alert-error").remove();var i=angular.element(this).scope().$parent;if(!i.reCaptcha)return i.captchaError="Please fill up captcha",i.$safeApply(),g(d),void $("#registerForm").click();var j=d.closest("form");if(j.valid()){var k={user_name:j.find("#signupUserName").val(),last_name:j.find("#signupLastName").val(),email:j.find("#signupEmail").val(),password:j.find("#signupPassword").val(),gdpr:b.$parent.subscribe};c.signUp(k,i.reCaptcha).then(function(){c.login(k.email,k.password),ga("send","event","Registered","Registered","sub "+b.$parent.subscribe),a.$emit("GF_EVENT_SIGNUP_SUCCESS")},function(a){j.before(e(a)),g(d)}),f(d),a.account=void 0}},i=function(a){var b=angular.element($("#Register")).scope().$parent;b.reCaptcha=a,delete b.captchaError,b.$safeApply(),d(function(){b.captchaError="Please fill up captcha",delete b.reCaptcha,b.$safeApply()},12e4)};return{link:function(c,d){a.gf.account&&b.path("/"),c.$parent.subscribe=!1,c.$parent.setSubscribe=function(){this.subscribe=this.subscribe?!1:!0},grecaptcha.render("captcha",{sitekey:"6LegvwATAAAAAL-H1rw7-0oXTl9i-g_-IH1DMBow",callback:i,theme:"dark"}),d.closest("form").validate(),d.on("click",h)}}}]),GF.app.directive("gfActionSubscribe",["gfUrl",function(a){return{link:function(b,c){c.on("click",function(){b.$apply(function(){window.location.href=a.getSignUpUrl()})})}}}]),GF.app.directive("gfActionViewCustomBundle",["$location","gfUrl",function(a,b){return{link:function(c,d){d.on("click",function(d){d.preventDefault(),d.stopPropagation(),c.$apply(function(){a.path(b.getByobUrl(c.product.id,c.product.uriSafeTitle,!0))})})}}}]),GF.app.directive("gfActionWriteReview",["$window","gfUserReviews","gfUrl","gfError",function(a,b,c,d){return{restrict:"EA",link:function(a){var c=function(){a.headerText="Write a Review",a.mode="write",a.reviewSubmitted=!1},e=function(b){a.headerText="Write a Review",a.mode="error",a.failureMessage="Sorry, but we were unable to process your request due to a system error. Please try again later.",b&&(a.failureMessage=b)},f=function(b){a.headerText="Preview Your Review",a.review=b,a.mode="preview"},g=function(c,d){b.submitReview(a.product.id,a.currentUserRating.score,a.userReviewForm.title,a.userReviewForm.body,c).then(d)};c(),a.maxReviewBodyCharacters=2e3,a.ensureCharacterLimitation=function(){a.userReviewForm.body=a.userReviewForm.body.substring(0,a.maxReviewBodyCharacters)},a.characterLimitNotice=function(b){var c=a.maxReviewBodyCharacters;return b&&(c-=b.length),1>c&&(c=0),c},a.edit=function(){c()},a.submit=function(){if(a.reviewSubmitted=!0,a.theForm.$valid&&0!==a.currentUserRating.score)switch(a.mode){case"write":g(!0,function(a){if(a){var b=!1,c=0;if(a.requestSucceeded)b=!0;else{if(409!==a.status)return void d.handleApiError(a);a.data&&a.data.failureError&&(c=a.data.failureError,801===c.id&&(c.message=c.message="Sorry, you may not write a review of this game due to your Parental Control Settings."))}b?f(a.reviewDetail):e(c.message)}else e()});break;case"preview":g(!1,function(b){if(b)if(b.requestSucceeded)b.reviewDetail.hasLanguageViolations?f(b.reviewDetail):(a.mode="submitted",a.headerText="Thank you");else{if(409!==b.status)return void d.handleApiError(b);e()}else e()})}}}}}]),GF.app.directive("gfOfferActions",["gfPartialConfig","$rootScope","$window",function(a,b,c){var d=function(a){if(void 0!==a){if("CustomBundle"===a.productType)return void(a.buttonState="build");e(a),a.skuIdsPurchased.length>0?f(a):a.purchaseAction||a.subscribeAction?a.subscribeAction&&a.subscribeAction.canSubscribe?g(a):a.subscribeAction?h(a):a.purchaseAction&&i(a):a.buttonState="not-for-sale"}},e=function(a){if(a.offerActions){var b=$.grep(a.offerActions,function(a){return"Subscribe"===a.offerActionType}),c=$.grep(a.offerActions,function(a){return"Purchase"===a.offerActionType});b.length>0&&(a.subscribeAction=b[0]),c.length>0&&(a.purchaseAction=c[0])}},f=function(a){a.purchaseAction&&a.purchaseAction.isPreorderOffer?a.buttonState="purchase-preordered-v"+c.variant:(a.purchaseAction={skuId:a.skuIdsPurchased[0]},a.buttonState=a.hasActivationKeysOnly?"purchase-keyonly":a.hasPurchaseActivationKeys?"purchase-download-key":"purchase-download")},g=function(a){a.buttonState=a.purchaseAction?a.subscribeAction.hasActivationKeys?"subscribe-download-buy-key":"subscribe-download-buy":"subscribe-download-only"},h=function(a){a.buttonState=b.gf.account?a.purchaseAction?"subscribe-buy":"subscribe-only":a.purchaseAction?"login-subscribe-buy":"login-subscribe-only"},i=function(a){a.buttonState=a.purchaseAction.isPreorderOffer?"purchase-preorder-v"+c.variant:a.purchaseAction.isFreePurchase?"purchase-free":"purchase-buy-v"+c.variant};return{restrict:"EA",templateUrl:a.module.offers,scope:{product:"=product",productlist:"=productlist",position:"=position",btnClass:"@",btnGroupClass:"@",btnLayout:"@",priceLayout:"@",type:"="},link:function(a,c){"H"===a.btnLayout?(a.layoutHeight="display:inline; float:left; margin-left:5px; height:49px;",a.layoutCss="buy-button-h",void 0!==a.product.offerActions[0].rentalPrice&&(a.layoutCss="buy-button-h-rental")):"Hide"===a.btnLayout&&(a.buttonHide=!0),"opacity0"!==a.priceLayout&&(a.priceCss="background-color:rgba(0, 0, 0, 0.6);"),b.gf.account&&(a.logined=!0),a.$watch("product",function(){"subscription"!==a.type&&d(a.product),a.hasDiscount=a.product.purchaseAction.isOnSale,a.suggestedPrice=a.product.purchaseAction.suggestedPrice,a.purchasePrice=a.product.purchaseAction.purchasePrice,a.product.purchaseAction.vipPrice&&(a.vipPrice=a.product.purchaseAction.vipPrice,a.vip=a.vipPrice.vip)}),a.$on("GF_EVENT_REFRESH_ACCOUNT_DATA",function(){a.logined=angular.isDefined(b.gf.account)}),c.on("click",function(a){("BUTTON"===$(a.target).prop("tagName")||"BUTTON"===$(a.target).parent().prop("tagName"))&&(a.stopPropagation(),a.preventDefault()),($(a.target).hasClass("dropdown-toggle")||$(a.target).parent().hasClass("dropdown-toggle"))&&$(c).find(".dropdown-menu").toggle()})}}}]),GF.app.directive("gfActionLaunchD2dClient",["$rootScope","gfDebug","d2dClientService",function(a,b,c){return{restrict:"EA",scope:{launchArgs:"="},link:function(d,e){e.on("click",function(){return b.log("Launch D2D client btn. clicked."),e.attr("disabled","disabled"),c.isLaunching()!==!0?c.userLoggedIn()?void c.launchD2DClient(d.launchArgs,$(this)):(a.$broadcast("GF_EVENT_OPENLOGIN"),void c.unlockLaunchBtn()):void 0})}}}]),GF.app.directive("gfActionLaunchMalibuClient",["$rootScope","gfDebug","streamingService",function(a,b,c){return{restrict:"EA",scope:{gameId:"="},link:function(d,e){e.on("click",function(){if(e.attr("disabled","disabled"),b.log("Launching: ",c.launchingClient()),c.launchingClient()!==!0){if(!c.userLoggedIn())return a.$broadcast("GF_EVENT_OPENLOGIN"),void c.unlockLaunchBtn();if(c.userLoggedIn()){var f={launchType:"CloudPlay",streamingGameId:d.gameId};c.askingUsageTracking(f)===!1&&c.launchCloudPlay(f)}}})}}}]),GF.app.directive("gfActionLaunchMalibuInstantPlay",["$rootScope","gfDebug","streamingService",function(a,b,c){return{restrict:"EA",scope:{gameId:"=gameId",collectionId:"=collectionId",canInstantPlay:"=canInstantPlay",offer:"=offer",returnUrl:"=returnUrl"},template:'<span ng-if="!processing"><img class="play-now-pad-icon" src="images/streaming/play_icon_pad.png"> PLAY NOW</span><span ng-if="processing" disabled class="btn-gf-loader">&nbsp</span>',link:function(d,e){a.$watch("launchingMalibuClient",function(){a.launchingMalibuClient===!1&&(d.processing=!1)}),e.on("click",function(){if(b.log("Launching: ",c.launchingClient()),c.launchingClient()===!0)return void(d.processing=!1);if(!c.userLoggedIn())return a.$broadcast("GF_EVENT_OPENLOGIN"),void c.unlockLaunchBtn();if(angular.isDefined(d.canInstantPlay)&&d.canInstantPlay!==!0)return c.unlockLaunchBtn(),void a.$broadcast("GF_EVENT_NO_TRIAL",{type:"",body:"Thank you for playing! Only one trial is allowed per game. Please purchase the game to continue."});if(d.processing=!0,c.userLoggedIn()){var e={launchType:"InstantPlay",streamingGameId:d.gameId,collectionId:d.collectionId,canInstantPlay:d.canInstantPlay,offer:d.offer,returnUrl:d.returnUrl,element:$(this)};c.askingUsageTracking(e)===!1&&c.launchInstantPlay(e)}})}}}]),GF.app.directive("gfActionLaunchMalibuInstantPlayBadge",["$rootScope","gfDebug","streamingService",function(a,b,c){return{restrict:"EA",scope:{gameId:"=gameId",collectionId:"=collectionId",canInstantPlay:"=canInstantPlay",offer:"=offer",returnUrl:"=returnUrl"},template:'<span ng-if="!processing"><img class="play-now-pad-icon" src="images/streaming/instantplay_badge.png"></span><span ng-if="processing" disabled class="btn-gf-loader">&nbsp</span>',link:function(d,e){a.$watch("launchingMalibuClient",function(){a.launchingMalibuClient===!1&&(d.processing=!1)}),e.on("click",function(){if(b.log("Launching: ",c.launchingClient()),c.launchingClient()===!0)return void(d.processing=!1);if(!c.userLoggedIn())return a.$broadcast("GF_EVENT_OPENLOGIN"),void c.unlockLaunchBtn();if(angular.isDefined(d.canInstantPlay)&&d.canInstantPlay!==!0)return c.unlockLaunchBtn(),void a.$broadcast("GF_EVENT_NO_TRIAL",{type:"",body:"Thank you for playing! Only one trial is allowed per game. Please purchase the game to continue."});if(d.processing=!0,c.userLoggedIn()){var e={launchType:"InstantPlay",streamingGameId:d.gameId,collectionId:d.collectionId,canInstantPlay:d.canInstantPlay,offer:d.offer,returnUrl:d.returnUrl,element:$(this)};c.askingUsageTracking(e)===!1&&c.launchInstantPlay(e)}})}}}]),GF.app.directive("gfActionRedeemBonus20hrs",["$rootScope","$location","$timeout","gfAccountManager","gfDebug","streamingCampaign",function(a,b,c,d,e,f){function g(){return $.cookie("token")&&a.gf.account}var h=function(a){document.getElementById("download-client").src=a};return{restrict:"EA",link:function(c,i,j){i.on("click",function(){return g()?void d.redeemBonus20hrs().then(function(c){switch(c.status){case 200:var d=c.data.userId,g=GF.Gon.setting.streaming_download_url+"?user_id="+d;e.log("Redeem success"),h(g);var i=j.containerId;angular.isDefined(i)&&$('[id="'+i+'"]').hide(),a.gf.account[f.currentCampaignName()]=!0,a.$broadcast("GF_EVENT_CAMPAIGN_REDEEMED",{name:"bonus20hrsCloudPlay"}),b.path("/streaming").hash("how-to-use");break;case 422:e.log("Redeem error")}a.$emit("GF_EVENT_CLOSE_CAMPAIGN",{name:"bonus20hrsCloudPlay"}),a.$emit("GF_EVENT_OPENMESSAGE",{type:"Congratulations",body:"You will automatically receive "+f.bonusHours()+" FREE hours when you open the client."})}):void a.$broadcast("GF_EVENT_OPENLOGIN")})}}}]),GF.app.directive("gfActionCloseBonus20hrs",["gfModalManager",function(a){var b=function(){var b=a.find("bonus20hrsCloudPlay");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionRedeemFreeTrial",["$rootScope","$location","$timeout","gfAccountManager","gfDebug","trialCampaign",function(a,b,c,d,e,f){function g(){return $.cookie("token")&&a.gf.account}return{restrict:"EA",link:function(c,h){h.on("click",function(){return g()?void d.redeemTrialCampaign().then(function(c){switch(c.status){case 200:e.log("Redeem success"),a.gf.account[f.currentCampaignName()]=!0,b.path("/pc/d2dplus");break;case 422:e.log("Redeem error")}a.$emit("GF_EVENT_CLOSE_CAMPAIGN",{name:"freeSubscriptionTrial"}),a.$emit("GF_EVENT_OPENMESSAGE",{type:"Congratulations",body:"You can access D2D subscription from D2D Plus Client now."})}):void a.$broadcast("GF_EVENT_OPENLOGIN")})}}}]),GF.app.directive("gfActionCloseFreeTrial",["gfModalManager",function(a){var b=function(){var b=a.find("freeSubscriptionTrial");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseLoyaltyFirstTimeCongrats",["gfModalManager",function(a){var b=function(){var b=a.find("loyaltyFirstTimeCongrats");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseTradeIn",["$rootScope",function(a){var b=function(){a.$emit("GF_EVENT_CLOSE_INITIATE_TRADE_IN")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseTradeInComplete",["gfModalManager",function(a){var b=function(){var b=a.find("tradeInComplete");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionTradeIn",["gfPartialConfig","$rootScope","$window",function(a){return{restrict:"EA",templateUrl:a.MyAccountTabs.myGames.tradeInBtn,scope:{productItem:"=productItem"},link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_INITIATE_TRADE_IN",a.productItem)})}}}]),GF.app.directive("gfActionProceedTradeIn",["$rootScope","gfAccountManager","gfDebug",function(a,b){return{restrict:"EA",scope:{productItem:"=productItem"},template:'<span ng-if="!processing">Trade In</span><span ng-if="processing" class="btn-gf-loader">&nbsp;</span>',link:function(c,d){d.on("click",function(){c.processing=!0,a.$broadcast("GF_EVENT_TRADE_IN_PROGRESSING"),b.tradeIn(c.productItem.trade_in_pid).then(function(b){200===b.status?a.$broadcast("GF_EVENT_TRADE_IN_COMPLETE"):(a.$broadcast("GF_EVENT_TRADE_IN_FAILED"),a.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Trade-In failed",body:"Sorry. Something went wrong."}))}).finally(function(){c.processing=!1})})}}}]),GF.app.directive("gfActionHowToActivateAdsDrm",["gfPartialConfig","$rootScope","$window","gfAccountManager",function(a){return{restrict:"EA",templateUrl:a.MyAccountTabs.myGames.adsDrmActivationTut,scope:{inventory:"=inventory",btnClass:"@",btnGroupClass:"@"},link:function(a,b){var c=a.inventory;b.on("click",function(){a.$emit("GF_EVENT_SHOW_ADS_DRM_INSTRUCTION",c)})}}}]),GF.app.directive("gfActionCloseAdsInstruction",["gfModalManager",function(a){var b=function(){var b=a.find("showAdsDrmInstruction");null!==b&&b.modal("hide")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionCloseAdsDrmReminder",["$rootScope",function(a){var b=function(){a.$emit("GF_EVENT_CLOSE_ADS_DRM_REMINDER")};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfActionUsageTracking",["$rootScope","gfAccountManager","gfDebug",function(a,b,c){return{scope:{args:"="},link:function(d,e){var f={allow_tracking:!1};e.on("click",function(){f.allow_tracking="btn-not-allow-tracking"===e.context.id?!1:!0,b.updateAccount(f).then(function(b){"successed"===b.data.messages?(a.gf.account.allow_tracking=f.allow_tracking,angular.isDefined(d.args)&&("CloudPlay"===d.args.launchType?a.$emit("GF_EVENT_LAUNCH_CLOUD_PLAY",d.args):"InstantPlay"===d.args.launchType&&a.$emit("GF_EVENT_LAUNCH_INSTANT_PLAY",d.args))):c.log("UpdateAccount response.data:"+b.data)}),a.$emit("GF_EVENT_CLOSE_USAGE_TRACKING")})}}}]),GF.app.directive("gfActionUnSubscription",["$rootScope","gfAccountManager","gfDebug","premiumService",function(a,b,c,d){return{link:function(b,e){e.on("click",function(){$(e).attr("disabled",!0),d.stopRenewingPremium().then(function(){$(e).attr("disabled",!1),a.premium.stop_renewing=!0,a.$emit("GF_EVENT_CLOSE_UP_SUBSCRIPTION"),a.$emit("GF_EVENT_OPEN_UP_SUBSCRIPTION_COMPLETE")},function(b){a.$emit("GF_EVENT_CLOSE_UP_SUBSCRIPTION"),c.log("error response: "+b)})})}}}]),GF.app.directive("switchingSrvBtn",["gfPartialConfig","$rootScope","$window",function(){return{restrict:"EA",link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_EXPLAIN_SWITCH_SRV")})}}}]),GF.app.directive("initSwitchSrvBtn",["gfPartialConfig","$rootScope","$window",function(){return{restrict:"EA",link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_CANCEL_SWITCH_SRV"),a.$emit("GF_EVENT_OPEN_CONFIRM_SWITCH_SRV")})}}}]),GF.app.directive("cancelSwitchSrvBtn",["gfPartialConfig","$rootScope","$window",function(){return{restrict:"EA",link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_CANCEL_SWITCH_SRV")})}}}]),GF.app.directive("confirmSwitchSrvBtn",["gfPartialConfig","$rootScope","$window","gfAccountManager",function(a,b,c,d){return{restrict:"EA",template:'<span ng-if="!processing">Yes</span><span ng-if="processing" class="btn-gf-loader">&nbsp;</span>',link:function(a,c){a.processing=!1,c.on("click",function(){a.processing=!0,d.switchStreamingSrv().then(function(c){a.$emit("GF_EVENT_CANCEL_CONFIRM_SWITCH_SRV"),200===c.status?a.$emit("GF_EVENT_SWITCH_SRV_DONE"):c.data.code>0?b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Sorry",body:c.data.error}):b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Switching server failed",body:"Sorry. Something went wrong."})}).finally(function(){a.processing=!1})})}}}]),GF.app.directive("cancelConfirmSwitchSrvBtn",["gfPartialConfig","$rootScope","$window",function(){return{restrict:"EA",link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_CANCEL_CONFIRM_SWITCH_SRV")})}}}]),GF.app.directive("closeSwitchSrvBtn",["gfPartialConfig","$rootScope","$window","streamingService",function(a,b,c,d){return{restrict:"EA",link:function(a,b){b.on("click",function(){d.defaultCloudPlayGameId();a.$emit("GF_EVENT_CLOSE_SWITCH_SRV_DONE");var b={launchType:"CloudPlay",streamingGameId:d.defaultCloudPlayGameId()};d.askingUsageTracking(b)===!1&&d.launchCloudPlay(b)})}}}]),GF.app.directive("subscribePremiumBtn",["$rootScope","gfAccountManager","gfDebug",function(a,b){function c(){return $.cookie("token")&&a.gf.account}return{restrict:"EA",link:function(a,d){d.on("click",function(){return c()?void b.subscribePremium().then(function(){}):void a.$emit("GF_EVENT_OPENLOGIN")})}}}]),GF.app.directive("gfActionRental",["$rootScope","premiumService","$compile",function(a,b){return{scope:{product:"="},link:function(c,d){d.on("click",function(){if(!$.cookie("token")&&!a.gf.account)return void c.$emit("GF_EVENT_OPENLOGIN");if("rentalCheckoutButton"===d.context.id||"checkoutAgainButton"===d.context.id){$(d).attr("disabled",!0);var e=$("#rentalSelect").find(":selected").val(),f=a.rentalProductId,g=!1;"checkoutAgainButton"===d.context.id&&(g=!0),b.rent(e,f,g).then(function(b){$(d).attr("disabled",!1),a.$emit("GF_EVENT_CLOSE_RENTAL"),a.$emit("GF_EVENT_CLOSE_RENTAL_MESSAGE"),void 0!==b.call_url&&(a.call_url=b.call_url,$("#d2d-main-view-wrapper").hide(),$("#xsollaCheckout").css("background-color","#898989").removeClass("hide"),$(".footer-module").css("margin-top","-5px"),$("#paywallFrame").attr("src",a.call_url),$(window).scrollTop(0))},function(b){a.$emit("GF_EVENT_CLOSE_RENTAL");var c=b.error;if("errors"in b){if(87===b.errors.error_code)c="Your purchase cannot be completed. Please contact Customer Support at http://support.direct2drive.com for assistance.";else if(4010===b.errors.error_code)return c='In order to complete a purchase on D2D, you must confirm your email address. To have a new confirmation email sent to your email address, click the "Resend" button.',void a.$emit("GF_EVENT_ACCOUNT_UNCONFIRMED",{type:"Email Confirmation Required",body:c})}else{if("4003"===b.code||"4006"===b.code)return void a.$emit("GF_EVENT_OPEN_RENTAL_MESSAGE",{type:"Warning",body:c});"4004"===b.code&&a.$emit("GF_EVENT_CLOSE_RENTAL_MESSAGE")}a.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:c})})}else{var h=c.product.offerActions[0].rentalPrice.currency.symbol,i=parseFloat(c.product.offerActions[0].rentalPrice.amount);a.rentalPriceArray=[{days:1,price:h+(1*i).toFixed(2)},{days:2,price:h+(2*i).toFixed(2)},{days:3,price:h+(3*i).toFixed(2)},{days:4,price:h+(4*i).toFixed(2)},{days:5,price:h+(5*i).toFixed(2)}],a.rentalProductId=c.product.id,a.$emit("GF_EVENT_OPEN_RENTAL",c.product)}})}}}]),GF.app.directive("gfActionPremiumSubscription",["$rootScope","premiumService","$compile","gfUrl",function(a,b,c,d){return{link:function(c,e){e.on("click",function(){var f="#!/complete-purchased#";if(f+="d2dPlusSubscriptionBtn"===e.context.id?"d2dplus":"myAccount",!$.cookie("token")&&!a.gf.account)return void c.$emit("GF_EVENT_OPENLOGIN");var g={return_url:d.getFullPath(f,!1)};$(e).attr("disabled",!0),b.subscribePremium(g).then(function(b){$(e).attr("disabled",!1),void 0!==b.call_url&&(a.call_url=b.call_url,"d2dPlusSubscriptionBtn"===e.context.id?$("#d2dplus-page-wrapper").hide():$("#my-account").hide(),$("#xsollaCheckout").css("background-color","#898989").removeClass("hide"),$(".footer-module").css("margin-top","-5px"),$("#paywallFrame").attr("src",a.call_url),$(window).scrollTop(0))},function(b){$(e).attr("disabled",!1);var c=b.error;if("errors"in b)if(87===b.errors.error_code)c="Your purchase cannot be completed. Please contact Customer Support at http://support.direct2drive.com for assistance.";else{if(4010===b.errors.error_code)return c='In order to complete a purchase on D2D, you must confirm your email address. To have a new confirmation email sent to your email address, click the "Resend" button.',void a.$emit("GF_EVENT_ACCOUNT_UNCONFIRMED",{type:"Email Confirmation Required",body:c});5010===b.errors.error_code&&(c="Your've already subscribed to D2D Premium.")}else{if("4003"===b.code)return void a.$emit("GF_EVENT_OPEN_RENTAL_MESSAGE",{type:"Error",body:c});"4004"===b.code&&a.$emit("GF_EVENT_CLOSE_RENTAL_MESSAGE")}a.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:c})})})}}}]),GF.app.directive("gfActionUbisoftRedeem",["gfPartialConfig","$rootScope",function(a,b){var c=function(a){a.find(".btn").attr("disabled",!0).addClass("disabled").append('<i class="icon-repeat icon-spin" style="margin-left:8px"></i>')},d=function(a){a.find(".btn").attr("disabled",!1).removeClass("disabled").find("i").remove()},e=function(a,c){b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Redeem Successful",body:a+" was redeemed successfully"}),b.$broadcast("GF_EVENT_REFRESH_INVENTORIES_DATA",c),b.$broadcast("GF_EVENT_REFRESH_PURCHASE_REDEEM_STATUS",c)},f=function(a){b.$broadcast("GF_EVENT_OPENMESSAGE",{type:"Redeem Failed",body:a+" was redeem failed"})};return{restrict:"EA",templateUrl:a.MyAccountTabs.myGames.ubisoftRedeem,scope:{inventory:"=inventory",title:"=title",paymentId:"=paymentId",btnClass:"@",btnGroupClass:"@"},link:function(a,g){var h=a.inventory,i=a.title||a.inventory.product_item.title,j=a.paymentId||h.game_keys.map(function(a){return a.payment_id}).filter(function(a){return a})[0];g.find(".btn").on("click",function(){j&&(c(g),b.redeemID=j,b.connectSDK?a.$emit("GF_EVENT_UBISOFT_LOGIN",function(a,b){d(g),"success"===a?e(i,b):"failed"===a&&f(i)}):a.$emit("GF_EVENT_UBISOFT_CONNECT_INIT",function(a,b){d(g),"success"===a?e(i,b):"failed"===a&&f(i)}))})}}}]),GF.app.directive("gfActionContinueWithOauth",["$rootScope","$cookieStore","$filter","oauthService",function(a,b,c,d){function e(a,b){b.attr("disabled",a.disabled),b.html(a.disabled===!0?'<i class="fa fa-refresh fa-spin fa-fw"></i>':'<i class="'+f+'" aria-hidden="true"></i> Link '+a.provider)}function f(a){var b=c("lowercase")(a),d="";switch(b){case"facebook":d="fa fa-facebook-official";break;case"google":d="fa fa-google"}return d}return{scope:{provider:"="},link:function(f,g){var h=c("lowercase")(f.provider);f.disabled=!1,g.on("click",function(){f.disabled=!0,e(f,$(g)),d.login(h).then(function(c){var d=c.data;if(d&&d.account){var e=JSON.parse(d.account).account;a.gf.account=e,b.put("token",e.token),f.$emit("GF_EVENT_LOGIN_SUCCESS"),f.$emit("GF_EVENT_UPDATECART")}}).catch(function(b){a.$emit("GF_EVENT_OPENMESSAGE",{type:b.data.error,body:b.data.reason})}).finally(function(){a.$emit("GF_EVENT_CLOSELOGIN"),f.disabled=!1,e(f,$(g))})})}}}]),GF.app.directive("gfActionDisconnectWithOauth",["$rootScope","$cookieStore","$filter","oauthService",function(a,b,c,d){function e(a,b){b.attr("disabled",a),b.html(a===!0?'<i class="fa fa-refresh fa-spin fa-fw"></i>...':"Unlink")
}return{scope:{provider:"="},link:function(f,g){var h=c("lowercase")(f.provider);f.disabled=!1,g.on("click",function(){e(f.disabled,$(g)),d.disconnectAuth(h).then(function(c){c&&c.disconnected&&(f.$emit("GF_EVENT_DISCONNECT"),c.sign_out&&(a.gf.account=null,a.premium=null,b.remove("token"),a.$broadcast("GF_EVENT_LOGOUT_SUCCESS"),a.$emit("GF_EVENT_UPDATECART",{cart:{cart:[]}})))}).catch(function(a){console.warn(a)}).finally(function(){f.disabled=!1,e(f.disabled,$(g))})})}}}]),GF.app.directive("cuFocus",["$rootScope",function(){return{retrict:"A",require:"ngModel",link:function(a,b,c,d){d.$focused=!1,b.bind("focus",function(){a.$apply(function(){d.$focused=!0})}).bind("blur",function(){a.$apply(function(){d.$focused=!1})})}}}]),GF.app.directive("gfGdprConfirmation",["gfGdprMailOptin","$rootScope","gfDebug",function(a,b,c){return{link:function(d,e){e.on("click",function(){var e={email:b.gf.account.emailAddress,opt_in:!0};a.subscribe(e).then(function(a){b.gf.account.gdprOptIn=a.subscribe,c.log("gdpr response success:",a,b.gf.account)},function(a){c.log("gdpr response error:",a)}).finally(function(){d.$emit("GF_EVENT_CLOSE_GDPR_CONFIRMATION")})})}}}]),GF.app.directive("gfUnSubscribe",["gfGdprMailOptin","$rootScope","gfDebug",function(){return{link:function(a,b){b.on("click",function(){a.$emit("GF_EVENT_CLOSE_UP_SUBSCRIPTION")})}}}]),GF.app.directive("loadPyplLib",[function(){return{link:function(a,b){var c='<script src="https://www.paypalobjects.com/api/checkout.js"></script>',d=angular.element(c);"paypal"===GF.Gon.setting.payment&amp;&amp;b.append(d)}}}]),GF.app.directive("loadStripeLib",[function(){return{link:function(a,b){var c='<script src="https://js.stripe.com/v3/"></script>',d=angular.element(c);"stripe"===GF.Gon.setting.payment&amp;&amp;b.append(d)}}}]),GF.app.directive("loadKountLib",[function(){return{link:function(a,b){var c='<script defer="" src="'+GF.Gon.kount.data_collector+'"></script>',d=angular.element(c);if(GF.Gon.kount.enabled===!0){b.append(d);var e=new window.ka.ClientSDK;e.autoLoadEvents()}}}}]),GF.app.directive("gfAdActivity",["$rootScope","defAdActivity",function(){return{restrict:"A",link:function(){}}}]),GF.app.directive("gfAnchorScroll",["$window","$location","$timeout",function(a,b,c){return{link:function(d){d.$last&amp;&amp;c(function(){var c=document.getElementById(b.hash()),d=$(".navbar").height();c&amp;&amp;(c.scrollIntoView(),a.scrollBy(0,-d))},0)}}}]),GF.app.directive("gfCarouselMedia",["$timeout","$location","$rootScope","$routeParams",function(a,b,c,d){var e=function(a){b.path(b.path()).search($.extend(b.search(),{mediaType:1,mediaId:a})).replace()};return{restrict:"EA",link:function(c,f){null===d.mediaType?b.search($.extend(b.search(),{mediaType:1,mediaId:c.selectedItem.id})):c.selectedItem&amp;&amp;e(c.selectedItem.id),f.carousel({interval:5e3}),f.on("slid",function(){var a=angular.element(f).find(".active img").attr("image-id");e(a),c.$safeApply()});var g=75,h=angular.element("#mediabrowser"),i=h.height()-g,j=h.width(),k=j/i,l=function(a){var b,c=a.currentTarget,d=c.naturalWidth/c.naturalHeight;b=k&gt;d?"width: auto; height: "+i+"px":"width: "+j+"px; height: auto",c.setAttribute("style",b)};a(function(){var a=angular.element(f).find("img");angular.forEach(a,function(a){var b=angular.element(a);b.load(l).attr({src:b.attr("url")})})},0)}}}]),GF.app.directive("gfCarouselPaging",["gfPartialConfig","gfTemplate","$compile",function(a,b,c){var d=function(a,b){return(a%b+b)%b};return{scope:{rows:"="},link:function(e,f,g){e.$watch("rows",function(h){if(h){var i=parseInt(g.pageSize);e.start=1,e.end=i,e.current=0,e.total=e.$parent.items.length,b.get(a.util.paging).then(function(a){a&amp;&amp;(f.html(a),c(f.contents())(e),e.previous=function(){e.current=d(e.current-1,h),$(f).parent(".carousel").carousel("prev")},e.next=function(){e.current=d(e.current+1,h),$(f).parent(".carousel").carousel("next")},e.$watch("current",function(){e.start=e.current*i+1,e.end=e.current*i+i&gt;e.total?e.total:e.current*i+i}))})}})}}}]),GF.app.directive("gfConfirmAccount",["gfAccountManager","$rootScope","$route","$location","gfPartialConfig","gfAuthManager","defAdActivity",function(a,b,c,d,e,f){return{link:function(g,h){h.on("click",function(){a.confirmAccount({confirmation_token:c.current.params.token}).then(function(a){return a.data.error?(g.error=!0,void(g.errorMsg=a.data.error)):void(c.current.templateUrl!==e.account.reconfirmation?(b.$emit("GF_EVENT_OPENMESSAGE",{type:"",body:"Congratulations, your D2D Account has been confirmed!"}),d.path("/my-account")):(f.logout(),b.$emit("GF_EVENT_OPENMESSAGE",{type:"Email Successfully Updated",body:"Your email has been modified. Please use new email address to sign in. Thanks!"}),d.path("/")))},function(){})})}}}]),GF.app.directive("gfDownloadLink",["$window",function(a){return{restrict:"EA",scope:{link:"=link"},link:function(b,c){c.on("click",function(){a.open(b.link,"DownloadWindow")})}}}]),GF.app.directive("gfFacebookButton",["$compile","$timeout","$rootScope",function(){return{restrict:"AE",link:function(a,b,c){c.$observe("href",function(a){a&amp;&amp;FB.XFBML.parse()})}}}]),GF.app.directive("gfFeatured",["gfPartialConfig","gfTemplate","$compile",function(a){var b=function(a){for(var b=[],c=0;c<a.length;c+=5)b.push(a.slice(c,c+5));return =",type:"="},link:function(e,f){e.$watch(" ="},link:function(a){a.$watch("items",function(c){c&&($.map(c,function(a,b){a.position='b+1}),a.activeItems=b(c))})}}}]),GF.app.directive("gfFeaturedBottom",["gfPartialConfig","gfTemplate","$compile",function(a,b,c){var' b="[],c=0;c&lt;a.length;c+=5)b.push(a.slice(c,c+5));return" b};return{scope:{items:"=",headline:" b};return{templateurl:a.module.featured,scope:{items:"=",type:" d="function(a){for(var" items",function(g){g&&($.map(g,function(a,b){a.position="b+1}),e.fixedItems=d(g),e.fixedItems.length">0?b.get(a.module.featuredBottom).then(function(a){a&amp;&amp;(f.html(a),c(f.contents())(e),f.find("#featured-fix").carousel({pause:!0,interval:!1}))}):f.html('<div class="text-center pad-large">No results to display</div>'))})}}}]),GF.app.directive("gfHash",["$location",function(a){return{link:function(b,c){c.on("click",function(){localStorage.hash?b.$safeApply(function(){a.hash(localStorage.hash),localStorage.removeItem("hash")}):a.hash()&amp;&amp;b.$safeApply(function(){a.hash("reset")})})}}}]),GF.app.directive("gfHero",["$compile","$rootScope","gfTemplate","gfPartialConfig","instantPlayHelper",function(a,b,c,d,e){return{template:'<div class="design-panel"><div class="container-full"><div class="hero"></div></div></div>',scope:{hero:"=hero",fixed:"@",backgroundMask:"@",login:"=login"},link:function(f,g){var h=!0,i=null,j=null;f.product={},f.instantPlayAvailable=e.instantPlayAvailable;var k=function(a){var b=g.find(".design-panel .hero");if("true"===f.backgroundMask)b.addClass("hero-mask"),$("body").css("background-color","#0B0C09"),a.design&amp;&amp;a.design.background&amp;&amp;b.css("background-image","url("+a.design.background+")");else if(a.design&amp;&amp;a.design.background_color&amp;&amp;$("body").css("background-color",a.design.background_color),a.design&amp;&amp;a.design.background){var c=$("<img/>").attr({src:a.design.background});c.css({margin:"0 auto"}),c.load(function(){var a=$(this);b.append(a)})}a.overlays&amp;&amp;a.overlays[0]&amp;&amp;$.each(a.overlays,function(a,c){var d=$("<img/>").attr({src:c.overlayImage});d.css({"z-index":"2",position:"absolute",width:c.width/2100*100+"%",top:c.overlayY/800*100+"%",left:c.overlayX/2100*100+"%"}),d=d.wrap("<div></div>"),d.load(function(){var a=$(this);a=a.wrap("<div></div>"),b.append(a),$(a).wrap("<a _blank"="" href="+c.overlayURL+' target="></a>')})})};b.$safeApply(function(){f.$watch("hero",function(b){b&amp;&amp;(i=j,j=JSON.stringify(b.design),b.product&amp;&amp;(f.product=b.product,f.headband=b.headband,h&amp;&amp;c.get(d.module.pricing).then(function(b){b&amp;&amp;(g.append(b),h=!1,a(g.contents())(f),"true"===f.fixed&amp;&amp;g.find(".pricing-panel").css("position","fixed"))})),i!==j&amp;&amp;k(b))})})}}}]),GF.app.directive("gfHeroRotator",["gfPartialConfig","gfAsset","gfTemplate","$compile","$rootScope","$timeout","gaService",function(a,b,c,d,e,f,g){function h(a){return _.forEach(a,function(a){switch(a.type){case 1:a.promotion.marketingUrl=b.getAssetClientPath(a.promotion.marketingUrl),a.title=a.promotion.title;break;case 0:a.title=a.product.title}}),a}return{scope:{heros:"=",squares:"="},link:function(b,i){function j(){var a='[data-slide-number="'+b.currentSlide+'"]';i.find(a).find(".product-normal").removeClass("product-normal").addClass("product-video")}function k(){var a='[data-slide-number="'+b.currentSlide+'"]';i.find(a).find(".product-video").removeClass("product-video").addClass("product-normal")}function l(a){b.videoPlaying=!1,a=parseInt(a),i.find("[id^=carousel-selector-]").removeClass("selected"),i.find("[id^=carousel-selector-"+a+"]").addClass("selected"),i.find(".carousel").carousel(a),e.$broadcast("GF_EVENT_HERO_ROTATOR_MANUALLLY_STARTED")}function m(){b.videoPlaying||i.find(".carousel").carousel()}function n(){i.find(".carousel").carousel("pause")}b.sendGa=function(a,b,c){try{a.product?g.ecSetActionClick(a.product,b,c):a.promotion&amp;&amp;g.ecSetActionPromoClick(a.promotion.id,"[PM] "+a.promotion.name,b)}catch(d){console.log(d)}},b.$watch("heros",function(g){g&amp;&amp;(b.activeHeros=h(g),b.activeHeros.length?c.get(a.module.heroRotator).then(function(a){a&amp;&amp;(i.html(a),d(i.contents())(b),i.find(".carousel").carousel({pause:!0,interval:5e3}),b.videoPlaying=!1,b.select=l,b.start=m,b.stop=n,b.currentSlide=0,f(function(){e.$broadcast("GF_EVENT_HEOR_SELECTED",0),ga("send","event","HomePage","Hero loaded","",{nonInteraction:!0})},50),i.find(".carousel").on("slid",function(){k();var a=i.find(".item.active").data("slide-number");b.currentSlide=a=parseInt(a),i.find("[id^=carousel-selector-]").removeClass("selected"),i.find("[id^=carousel-selector-"+a+"]").addClass("selected"),e.$broadcast("GF_EVENT_HEOR_SELECTED",a)}),b.$on("youtube.player.ready",function(){var a=i.find(".item.active").data("slide-number");a=parseInt(a),e.$broadcast("GF_EVENT_HEOR_SELECTED",a)}),b.$on("youtube.player.playing",function(a,c){j(),e.$broadcast("GF_EVENT_HEOR_VIDEO_PLAYING",c),b.videoPlaying=!0,n()}),b.$on("youtube.player.ended",function(){b.videoPlaying=!1,m()}),b.$on("GF_EVENT_HEOR_VIDEO_READY",function(){var a=i.find(".item.active").data("slide-number");a=parseInt(a),e.$broadcast("GF_EVENT_HEOR_SELECTED",a)}),b.$on("GF_EVENT_HEOR_VIDEO_PLAYING",function(){j(),b.videoPlaying=!0,n()}),b.$on("GF_EVENT_HEOR_VIDEO_ENDED",function(){k(),b.videoPlaying=!1,m()}))}):(i.html('<div style="margin-top:240px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'),f(function(){0===g.length&amp;&amp;i.html('<div style="margin-top:240px;">No results to display</div>')},1e3)))})}}}]),GF.app.directive("gfHeroVideoPlayer",["$location","$routeParams","$sessionStorage","gfPartialConfig","$compile",function(a,b,c,d,e){var f=function(a){var b="";switch(a){case"youtube":b='<youtube-video player="youtubePlayer" player-height="\'390px\'" player-width="\'930px\'" video-url="videoUrl"></youtube-video>';break;case"jwPlayer":b='<div class="video-player" gf-jwplayer="" id="videoPlayer-{{heroIndex}}" jwplayer-config="jwPlayerConfig"></div>'}return b+='<div class="age-gating" ng-show="status == \'init\' || status == \'invalid\'"> <div ng-show="status == \'invalid\'"> <div class="age-gating-title">THIS CONTENT IS FOR MATURE AUDIENCES ONLY</div> </div> <div ng-show="status == \'init\' || status == \'invalid\'"> <div class="age-gating-title">Please Enter Your Birthday</div> <select class="span2 show-tick" data-style="btn-select" ng-model="bd.month" ng-options="m as m for m in monthes"> <option value="">MONTH</option> </select> <select class="span2 show-tick" data-style="btn-select" ng-model="bd.day" ng-options="m as m for m in days"> <option value="">DAY</option> </select> <select class="span2 show-tick" data-style="btn-select" ng-model="bd.year" ng-options="m as m for m in years"> <option value="">YEAR</option> </select> <div><a class="btn btn-warning" ng-click="enterBirthday()">Submit</a></div> </div></div>'},g=function(a){var b=a.video_path;return/https:\/\/youtu.be/.test(b)===!0?"youtube":"jwPlayer"};return{restrict:"EA",scope:{video:"=",heroIndex:"=",autoplay:"=",playerHeight:"=",playerWidth:"="},link:function(a,b){function d(b){a.status=c.ageGatingStatus||"init","valid"!==a.status&amp;&amp;(c.ageGatingStatus=a.status,a.$apply(),setTimeout(function(){"youtube"===a.videoPlayer?a.youtubePlayer.stopVideo():jwplayer(b).stop()},10))}function h(){i()?(a.status="valid","youtube"===a.videoPlayer?a.youtubePlayer.playVideo():jwplayer(a.jwPlayerConfig.name).play()):a.status="invalid",c.ageGatingStatus=a.status}function i(){var b=new Date(a.bd.year+18,a.bd.month,a.bd.day);return b<new a="$(this),e=a.height()+a.scrollTop(),f=c.offset().top+c.height();e" date).getyear()).reverse(),a.bd='{},a.enterBirthday=h,a.jwPlayerConfig={name:j(a.heroIndex),width:a.playerWidth,height:a.playerHeight,listbar:null,file:k.video_path,image:k.images.big},a.$on("GF_EVENT_HERO_ROTATOR_MANUALLLY_STARTED",function(){"youtube"===a.videoPlayer?a.youtubePlayer.stopVideo():jwplayer(a.jwPlayerConfig.name).stop()}),a.$on("GF_EVENT_HEOR_SELECTED",function(b,c){c===a.heroIndex&amp;&amp;a.autoplay&amp;&amp;("youtube"===a.videoPlayer?a.youtubePlayer.playVideo():jwplayer(a.jwPlayerConfig.name).play())}),a.$on("GF_EVENT_HEOR_VIDEO_PLAYING",function(b,c){a.jwPlayerConfig.name===c&amp;&amp;k.isMatureRequired?d(c):a.youtubePlayer===c&amp;&amp;k.isMatureRequired&amp;&amp;d(c)}),b.html(f(a.videoPlayer)).show(),e(b.contents())(a)}}}]),GF.app.directive("gfInfiniteScroll",["$window",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){angular.element(a).on("scroll.infiniteScroll",function(){var' date}function="" j(a){return"videoplayer-"+a}var="" k='a.video;a.videoPlayer=g(k),"youtube"===a.videoPlayer&amp;&amp;(a.videoUrl=k.video_path),a.days=_.range(1,32),a.monthes=_.range(1,13),a.years=_.range(1900,1901+(new'>f-100&amp;&amp;b.$apply(d.gfInfiniteScroll)}),b.$on("$destroy",function(){angular.element(a).off("scroll.infiniteScroll")}),c.on("click","a",function(a){localStorage.hash=$(a.currentTarget).attr("id")})}}}]),GF.app.directive("gfJwplayer",["$rootScope","$location","gfUrl","$route",function(a,b,c,d){return{restrict:"EA",scope:{jwplayerConfig:"=jwplayerConfig"},link:function(c){function e(b){void 0!==b&amp;&amp;(b=_.defaults(b,g),jwplayer(b.name).setup(b).on("ready",function(){a.$broadcast("GF_EVENT_HEOR_VIDEO_READY",b.name),b.autostart&amp;&amp;jwplayer(b.name).stop().playlistItem(b.startIndex).play(!0)}).on("play",function(){a.$broadcast("GF_EVENT_HEOR_VIDEO_PLAYING",b.name)}).on("complete",function(){a.$broadcast("GF_EVENT_HEOR_VIDEO_ENDED",b.name)}),b.resizable&amp;&amp;$(window).resize(function(){jwplayer(b.name).resize($(window.top).width(),$(window.top).height()-100)}))}function f(a){"ProductController"===d.current.controller&amp;&amp;(b.path(b.path()).search($.extend(b.search(),{mediaType:0,mediaId:jwplayer(c.jwplayerConfig.name).getPlaylistItem(a.index).mediaid})).replace(),c.$apply())}var g={resizable:!1,autostart:!1,startIndex:0,width:"100%",height:$(window.top).height()-100,stretching:"uniform",listbar:{position:"right",size:120},events:{onPlaylistItem:f}};c.$watch("jwplayerConfig",function(){c.jwplayerConfig&amp;&amp;e(c.jwplayerConfig)})}}}]),GF.app.directive("gfModalActivationKey",["$compile","$rootScope","gfModalManager","gfChannel","gfError","gfDebug",function(a,b,c,d,e){var f=function(a){return e.handleApiError(a),null};return{restrict:"EA",scope:{skuId:"@",isUpp:"@",btnClass:"@"},link:function(e,g){g.addClass(e.btnClass),g.on("click",function(){b.$safeApply(function(){d.getActivationKey(e.skuId,e.isUpp).then(function(d){d&amp;&amp;d.keys&amp;&amp;d.keys.length&gt;0?(e.keys=d.keys,e.keyInstructions=d.keyInstructions,c.get("activationKey",!0).then(function(b){a(b.contents())(e),b.modal("show")})):b.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:"A problem retrieving the activation key this game. For more information please contact Direct2Drive Customer Support."})},f)})})}}}]),GF.app.directive("gfModalDownload",["gfNavigation",function(a){return{scope:{skuId:"@",btnClass:"@"},link:function(b,c){c.addClass(b.btnClass),"Mac"!==a.getPlatform().value&amp;&amp;c.tooltip({title:'Having trouble with download? Click <a href="/">here</a> for instruction!',html:!0,delay:{show:1e3,hide:3e3},placement:"bottom",container:c.closest(".offer-actions")}),c.closest(".offer-actions").on("click",".tooltip a",function(a){a.preventDefault(),a.stopPropagation(),localStorage.hasDownloader=!1,b.$emit("GF_EVENT_OPENDOWNLOAD",{skuIds:[b.skuId],fileType:"product",isHttp:!1})}),c.on("click",function(){b.$emit("GF_EVENT_OPENDOWNLOAD",{skuIds:[b.skuId],fileType:"product",isHttp:"Mac"===a.getPlatform().value?!0:!1})})}}}]),GF.app.directive("gfModalForgetPassword",["gfAuthManager",function(a){var b=function(){a.cancelLogin(),a.forgetPassword()};return{link:function(a,c){c.on("click",b)}}}]),GF.app.directive("gfModalLogin",["$rootScope","$compile","defAdActivity",function(){return{link:function(a,b){b.on("click",function(){void 0!==b.attr("goBack")&amp;&amp;"1"===b.attr("goBack")&amp;&amp;a.$emit("GF_EVENT_CLOSE_FORGET_PASSWORD"),a.$emit("GF_EVENT_OPENLOGIN")})}}}]),GF.app.directive("gfModalSubscribe",["$compile","gfModalManager",function(a,b){return{restrict:"EA",template:'<button class="btn btn-mini btn-warning" style="margin: 0px 10px 0px;padding: 0px 3px;border-width: 0px;"><a title="Subscribe to our mail list"><i class="fa fa-envelope fa-fw" style="font-size: 15px;"></i><b>Subscribe</b></a></button>',scope:{},link:function(c,d){d.on("click",function(){b.get("subscribe").then(function(b){a(b.contents())(c),b.modal("show")})})}}}]),GF.app.directive("gfNav",["$window","$timeout",function(){return{restrict:"A",link:function(a){a.$watch("gf.navigation",function(a){a&amp;&amp;(a.genres&amp;&amp;a.genres.length||a.sections&amp;&amp;a.sections.length)})}}}]),GF.app.directive("gfNotificationContainer",["$compile","gfStorage","gfGlobalNotification","$timeout",function(a,b,c,d){return{restrict:"EA",template:'<div class="gf-notification-container"><div class="notification" ng-show="message"><button class="close-button btn-icon" ng-click="removeMessage(message)">×</button><div class="message">{{message.text}}<br/><a class="text-small" ng-href="{{message.referenceUrl}}" ng-show="message.referenceUrl">{{message.referenceUrl}}</a></div></div></div>',controller:["$scope",function(a){a.removeMessage=function(c){b.put("notificationId",c.id),a.message=null}}],link:function(a){a.$on("GF_EVENT_GLOBAL_NOTIFICATION",function(){d(function(){var d=b.get("notificationId");c.message.id!==d&amp;&amp;(a.message=c.message)},3e3)})}}}]),GF.app.directive("gfPopoverCart",["$timeout","gfPartialConfig",function(a,b){return{restrict:"EA",templateUrl:b.navigation.cart,controller:"CartController",link:function(b,c){b.$on("GF_EVENT_OPENCART",function(){a(function(){c.addClass("show-cart"),a(function(){c.removeClass("show-cart")},2e3)})})}}}]),GF.app.directive("gfPricingPanel",["$window",function(a){parseFloat($(".container-full").css("height"))/2-60;$(".pricing-panel-background").css("opacity","0");return{restrict:"A",scope:{product:"=product"},link:function(b){var c=angular.element(a);$(".pricing-panel-background").css("opacity","0.8"),b.product.offerActions[0].isOnSale&amp;&amp;void 0!==b.product.offerActions[0].rentalPrice&amp;&amp;b.product.allow_trade_in&amp;&amp;($(".pricing-panel-background").css("height","100px"),$(".offerButtons").css("margin-bottom","10px")),c.on("scroll.pricingPanel",function(){}),b.$on("$destroy",function(){c.off("scroll.pricingPanel")})}}}]),GF.app.directive("gfProductDisplay",["gfUrl","gfPartialConfig","gaService",function(a,b,c){var d=function(a){if($.isArray(a))for(var b=0;b<a.length;b++)if("purchase"===a[b].offeractiontype)return a?a.totalpercentoff="" a[b]},e="function(a){return">49?"discount-highlight":"discount-normal":void 0};return{templateUrl:b.module.productDisplay,replace:!0,scope:{product:"=",productlist:"=",position:"=",type:"="},link:function(b,f){b.$watch("product",function(f){f&amp;&amp;(f.url=a.getProductUrl(f.id,f.uriSafeTitle),f.purchaseAction=d(f.offerActions),f.hasDiscount=f.purchaseAction&amp;&amp;f.purchaseAction.totalPercentOff&gt;0,f.discountBurst=e(f.purchaseAction),c.ecAddImpression(f,b.productlist,b.position))}),f.on("click",function(){c.ecSetActionClick(b.product,b.productlist,b.position)})}}}]),GF.app.directive("gfProductPatch",function(){return{template:'<button class="btn btn-default" ng-show="product.patchVersion"><strong>Patch V {{product.patchVersion}} Available</strong></button>',link:function(a,b){a.$watch("product.offerModel",function(c){c&amp;&amp;c.hasPurchaseOffer()&amp;&amp;(c.purchaseOffer.hasBeenPurchased?(b.find("button").removeClass("disabled"),b.on("click",function(){a.$emit("GF_EVENT_OPEN_DOWNLOAD_FILES",{skuIds:[c.purchaseOffer.skuId],fileType:"patch"})})):(b.off("click"),b.find("button").addClass("disabled").tooltip({title:"Please log in or purchase this product to access patches.",placement:"bottom"})))})}}}),GF.app.directive("gfProductQueryPromotions",["gfUrl","gfAsset","$compile",function(a,b,c){var d='<div class="panel pad browse-item"><div class="row-fluid"><ul><li class="span2" ng-repeat="promotion in localPromotions | limitTo:6"><a href="{{gfUrl.getPromotionUrl(promotion.id)}}"><img ng-src="{{gfAsset.getAssetClientPath(promotion.marketingUrl)}}"/><h5>{{promotion.name}}</h5></a><p class="text-mini text-light" ng-show="promotion.endDate">Ends {{promotion.endDate | date}}</p></li></ul></div></div>';return{scope:{promotions:"=",itemIndex:"@"},link:function(e,f){e.localPromotions=angular.copy(e.promotions),e.gfUrl=a,e.gfAsset=b,e.localPromotions&amp;&amp;e.itemIndex&gt;0&amp;&amp;e.itemIndex%50===0&amp;&amp;(e.promotions.splice(0,5),f.append(c(d)(e)))}}}]),GF.app.directive("gfPropertyMatch",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){if(!d||!c.gfPropertyMatch)return null;var e=function(){var b=a.$eval(c.ngModel),d=a.$eval(c.gfPropertyMatch),e=a.$eval(c.checkcase);return"undefined"==typeof e&amp;&amp;(e=!0),!e&amp;&amp;b&amp;&amp;d&amp;&amp;(b=b.toLowerCase(),d=d.toLowerCase()),b===d};a.$watch(e,function(a){d.$setValidity("notMatch",a)})}}}),GF.app.directive("gfScrollByob",["$window",function(a){var b=$(".byob-offers").offset().top;return{link:function(c,d){angular.element(a).on("scroll.byob",function(){var a=$(this),c=$(".global-nav .globals"),e=d.find(".byob-offers"),f=d.find(".byob-content");$("html").hasClass("ie")||(c.height()+a.scrollTop()&gt;=b?e.hasClass("docked")||(e.css({top:c.height(),width:e.width()}).addClass("docked"),f.css({"margin-top":e.height()+20})):e.hasClass("docked")&amp;&amp;(e.removeAttr("style").removeClass("docked"),f.removeAttr("style")))}),c.$on("$destroy",function(){angular.element(a).off("scroll.byob")})}}}]),GF.app.directive("gfScrollTop",["$window",function(a){var b='<button class="btn btn-default scroll-top" type="button"><strong>Top </strong><i class="icon-caret-up"></i></button>';return{link:function(c,d){angular.element(a).on("scroll",function(){$(this).scrollTop()&gt;d.offset().top-50?0===d.find("button.scroll-top").length&amp;&amp;(d.append(b),d.find("button.scroll-top").on("click",function(){$("body,html").animate({scrollTop:d.offset().top-50},400)})):d.find("button.scroll-top").remove()})}}}]),GF.app.directive("gfScrollToReview",["$window","$location","$timeout",function(a,b,c){var d=function(b){c(function(){var c=document.getElementById(b),d=$(".navbar").height(),e=$(".pricing-panel").height(),f=50;c&amp;&amp;(c.scrollIntoView(),a.scrollBy(0,-(d+e+f)))},0)};return{link:function(a,b,c){var e=a.$eval(c.gfScrollToReview);e&amp;&amp;d(e)}}}]),GF.app.directive("gfSelect",["$location","$timeout","gfDDL",function(a,b,c){var d=function(b,c){var d=a.search();if(d[c])for(var e=0;e<b.length;e++)if(b[e].value===d[c])return b[0]};return{template:'<select="" b[e];return="" class="span12 show-tick" data-style="btn-select" ng-model="option" ng-options="o.text for o in options">',scope:!0,link:function(e,f,g){var h=g.filter,i=c.get(h,$.cookie("view"));e.$watch("option",function(b,c){e.filters[h]=b,b!==c&amp;&amp;a.search(h,b.value)}),e.options=i,e.option=d(i,h);var j=f.find("select");$("html").hasClass("ie8")||(j.selectpicker(),j.on("change init",function(b){if("change"===b.type&amp;&amp;(a.search().page&amp;&amp;a.search($.extend(a.search(),{page:1})),a.hash()&amp;&amp;a.hash("reset")),"0"!==j.val()){var c=f.find(".bootstrap-select span.caret");c.addClass("hide");var d=$('<span class="icon icon-remove"></span>').on("mouseenter",function(){$(this).removeClass("icon-remove").addClass("icon-remove-sign")}).on("mouseleave",function(){$(this).removeClass("icon-remove-sign").addClass("icon-remove")}).on("click",function(a){a.stopPropagation(),$(this).remove(),c.removeClass("hide"),j.selectpicker("val","0")});f.append(d)}})),b(function(){"0"!==j.val()&amp;&amp;j.trigger("init")},0)}}}]),GF.app.directive("gfSeoSection",["$rootScope","$route","$location","$analytics","gfSeo",function(a,b,c,d,e){var f=function(a,b){if(b&amp;&amp;(b.title&amp;&amp;a.find("title").html(b.title),b.meta))for(var c in b.meta){var d=a.find('meta[name="'+c+'"]');if(d.length)d.attr("content",b.meta[c]);else{var e={name:c,content:b.meta[c]};/^og:/.test(c)&amp;&amp;(e.property=c),a.append($("<meta/>",e))}}};return{link:function(c,d){a.$on("GF_EVENT_SEODATA",function(a,c){var g=e.getSeoData(c,b.current);f(d,g)}),a.$on("$routeChangeSuccess",function(a,b){var c=e.getSeoData(null,b);f(d,c)})}}}]),GF.app.directive("gfSkin",["gaService",function(a){return{link:function(b,c){b.$watch("skin",function(a){if(void 0!==a&amp;&amp;void 0!==a.background){var b={"background-color":a.background_color||"#000000"};a.background&amp;&amp;(b["background-image"]="url("+a.background+")"),$("body").css(b)}else $("body").removeAttr("style")}),c.on("click",function(){a.ecSetActionClick({title:b.skin.headline||"skin"},"Skin"),a.ecSetActionPromoClick(null,b.skin.headline||"skin","Skin")})}}}]),GF.app.directive("gfTypeahead",["$location","$route","gfUrl","gfProductQuery","gfNavigation",function(a,b,c,d){var e,f,g,h=1,i=15,j=!1,k=function(b,c,e){$("form.navbar-search button i").removeClass().addClass("fa fa-repeat fa-spin");var l={platform:(a.search().pf||[]).map(Number),"search.keywords":b,"search.titleonly":!0,pageSize:i,pageIndex:h};d.getTypeaheadResults(l).then(function(a){a&amp;&amp;(f=[],g={},$.each(a.products.items,function(a,b){g[b.title]=b,f.push(b.title)}),c(f),e[0].value!==b?k(e[0].value,c,e):(j=!1,$("form.navbar-search button i").removeClass().addClass("fa fa-search")))})},l=function(a,b){return e=g[a],e?c.getProductUrl(e.id,e.uriSafeTitle,b):void 0};return $.extend($.fn.typeahead.Constructor.prototype,{render:function(a){var b=this;return a=$(a).map(function(a,c){return a=$(b.options.item).attr("data-value",c),a.find("a").attr("href",l(c,!1)),a.find("a").html(b.highlighter(c)),a[0]}),a.first().addClass("active"),this.$menu.html(a),this}}),{restrict:"A",link:function(c,d){d.typeahead({items:i,minLength:3,source:function(a,b){f=[],g={},j||(j=!0,c.$safeApply(k(a,b,d)))},matcher:function(){return!0},updater:function(d){c.$safeApply(function(){var c=l(d,!0);c?(a.search("q",null).search("pf",null),a.path(c)):(a.path("/search").search({q:d}),b.reload())})},sorter:function(a){return a.unshift(this.query),a}})}}}]),GF.app.directive("gfTwitter",["$compile","$timeout","$rootScope",function(a,b){return{restrict:"AE",link:function(a,c,d){d.$observe("done",function(a){a&amp;&amp;b(function(){twttr.widgets&amp;&amp;twttr.widgets.createShareButton(d.url,c[0],function(){},{count:"none",text:d.text,via:d.via})},1e3)})}}}]),GF.app.directive("gfUserPanel",["$compile","$rootScope","$cookieStore","gfPartialConfig","gfTemplate","gfChannel",function(a,b,c,d,e){return{restrict:"EA",link:function(f,g){var h;h=b.gf.account?d.navigation.logout:d.navigation.login,h&amp;&amp;e.get(h).then(function(b){b&amp;&amp;(g.html(b),a(g.contents())(f))}),b.$watch("gf.account",function(){var h;b.gf.account?(h=d.navigation.login,b.gf.account&amp;&amp;ga("set","&amp;uid",b.gf.account.id)):c.get("token")||(h=d.navigation.logout),h&amp;&amp;e.get(h).then(function(b){b&amp;&amp;(g.html(b),a(g.contents())(f))})},!0)}}}]),GF.app.directive("gfUserRatingControl",["$compile","gfUserReviews","gfPartialConfig",function(a,b,c){return{restrict:"EA",scope:{max:"=",rating:"=",productId:"@"},templateUrl:c.module.ratingcontrol,link:function(a){a.isBusy=!1,a.ratings=new Array(a.max);var c=-1;a.isHovered=function(a){return c&gt;=a},a.hover=function(a){c=a},a.nohover=function(){c=-1},a.select=function(c){return a.isBusy?a.rating:(a.isBusy=!0,b.rateTitle(a.productId,c+1).then(function(b){b&amp;&amp;(a.isBusy=!1)}),a.rating=c+1,a.rating)},a.isSelected=function(b){return a.rating&gt;b}}}}]),GF.app.directive("gfUserReview",["$compile","gfUserReviews","gfModalManager",function(a,b,c){return{restrict:"EA",scope:!0,link:function(d){d.voteReviewHelpful=function(a,c){b.voteUserReviewHelpful(a,c).then(function(a){d.submitted=a&amp;&amp;"true"===a?"Thank you for your valuable feedback. Your vote will be reflected shortly.":"Sorry, we cannot process your request at this time."})},d.reportAbuse=function(){c.get("confirmReportAbuse",!0).then(function(b){a(b.contents())(d),b.modal("show")})},d.flag=function(){b.flagReviewAsAbusive(d.review.id).then(function(){})}}}}]),GF.app.directive("gfVideoPlayer",["$location","$routeParams","gfAsset","$compile",function(a,b,c,d){function e(a){return _(a).forEach(function(a){a.label=a.definition||a.label,a.file=a.url||a.file}),a}var f=function(a){var b="";switch(a){case"youtube":b='<div class="embed-responsive embed-responsive-16by9" id="youtubePlayer"><youtube-video class="embed-responsive-item" player="youtubePlayer" video-url="videoUrl"></youtube-video></div>';break;case"jwPlayer":b='<div class="video-player" gf-jwplayer="" id="videoPlayer" jwplayer-config="jwPlayerConfig"></div>'}return b};return{restrict:"EA",scope:{items:"=items",selectedItem:"="},link:function(g,h){g.$watch("items",function(){if(g.items.length&gt;0){var i="";g.selectedItem=g.selectedItem&amp;&amp;0===g.selectedItem.type?g.selectedItem:g.items[0];var j=g.selectedItem,k=j.item.sources[j.item.sources.length-1].url;/https:\/\/youtu.be/.test(k)===!0?(i="youtube",g.videoUrl=k,g.$on("GF_EVENT_YOUTUBE_STOP",function(){g.youtubePlayer.stopVideo()})):(i="jwPlayer",g.jwPlayerConfig={name:"videoPlayer",playlist:[],startIndex:0,autostart:!0,resizable:!0},_.forEach(g.items,function(a){var b=a.item.sources;b=e(b);var d=c.getVideoPreviewUrl(a.item),f={image:d,sources:b,mediaid:a.id};g.jwPlayerConfig.playlist.push(f)})),void 0!==g.selectedItem&amp;&amp;("jwPlayer"===i&amp;&amp;_.forEach(g.items,function(a,b){a.id===g.selectedItem.id&amp;&amp;(g.jwPlayerConfig.startIndex=b)}),b.mediaType?a.path(a.path()).search($.extend(a.search(),{mediaType:0,mediaId:g.selectedItem.id})).replace():a.search($.extend(a.search(),{mediaType:0,mediaId:g.selectedItem.id}))),h.html(f(i)).show(),d(h.contents())(g)}})}}}]),GF.app.directive("gfYoutubePlayer",["$location","$routeParams",function(){return{restrict:"EA",template:'<youtube-video player="player" player-height="playerHeight" player-width="playerWidth" video-id="videoId"></youtube-video>',scope:{videoId:"=",heroIndex:"=",autoplay:"=",playerHeight:"=",playerWidth:"="},link:function(a){a.$on("GF_EVENT_HERO_ROTATOR_MANUALLLY_STARTED",function(){a.player.stopVideo()}),a.$on("GF_EVENT_HEOR_SELECTED",function(b,c){c===a.heroIndex&amp;&amp;a.autoplay&amp;&amp;a.player.playVideo()})}}}]),GF.app.directive("gfSimplePopover",["$location","$routeParams",function(){return{restrict:"EA",template:"<span>{{label}}</span>",link:function(a,b,c){a.label=c.popoverLabel||"",$(b).popover({trigger:c.popoverTrigger||"click",html:!0,template:'<div class="popover simple-popover" role="tooltip"><div class="arrow simple-popover-arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',content:c.popoverHtml,placement:c.popoverPlacement,offset:"20px 100px"})}}}]),GF.app.directive("gfMySubscriptionProductDisplay",["gfUrl","gfPartialConfig",function(a){return{scope:{product:"="},link:function(b){b.$watch("product",function(b){b&amp;&amp;(b.url=a.getProductUrl(b.id,b.uriSafeTitle))})}}}]),GF.app.directive("gfTextEllipsis",function(){return{restrict:"EA",template:'<div data-ellipsis="" data-ellipsis-append="&lt;p&gt;&lt;span class=\'text-ellipsis_btn\'&gt; More (+) &lt;/span&gt;&lt;/p&gt;" data-ellipsis-append-click="showToggle()" data-ng-bind="text" ng-if="show" ng-style="style"></div><div ng-if="!show">{{text}}<p><span class="\'text-ellipsis_btn\'" ng-click="showToggle()"> Less (-) </span></p></div>',scope:{maxHeight:"=",text:"="},link:function(a,b){$(b).addClass("text-ellipsis"),a.style={"max-height":a.maxHeight},a.show=!0,a.showToggle=function(){a.show=!a.show
}}}}),GF.app.filter("arrayToString",function(){return function(a){if($.isArray(a)){if(a.sort(),0===a.length)return"";if(1===a.length)return a[0];if(2===a.length)return a[0]+" and "+a[1];if(a.length&gt;2)for(var b="",c=0;c<a.length;c++){if(c===a.length-2)return "+a[c+1];b+='a[c]+",' "}}return="" 1:return"mm="" 1:return"mmm="" 2:return"dd="" a[b.id][c]}return="" a[b][c];if(b.id)return="" and="" a}}),gf.app.filter("gffiltercurrency",["$filter",function(a){return="" b="b||140,a.length" b+='a[c]+",' b?b.text?b.text:"medium"='e?a("date")(b,d()):a("date")(b.date,c()):"N/A"}}]),GF.app.filter("gfFilterPlatform",["defPlatform",function(a){return' b}}]),gf.app.filter("gffilterrating",["defrating","gfasset","gfresource",function(a,b,c){return="" c="function(){switch(b.gf.siteId){case" dd="" dd,="" e='b.amount,"save"===d&amp;&amp;(e=b.save),a("currency")(e,b.currency.symbol)}}}]),GF.app.filter("gfFilterDate",["$filter","$rootScope",function(a,b){var' f='a[d.rating.rating];if(f)return"image"===e?b.getAssetPath(f.image):f[e]}return"image"===e?c.get("IMAGE_NOT_RATED",!0):c.get("TEXT_NOT_RATED")}}]),GF.app.filter("gfStringEllipsis",function(){return' function(a,b){return="" function(b,c){if(b){if(c='c||"name",$.isNumeric(b))return' function(b,c,d){if(b){var="" function(b,e){return="" function(d,e){if(d&&d.rating){if(e='e||"name",1===d.rating.rating)return"image"===e?c.get("IMAGE_RATING_PENDING",!0):c.get("TEXT_RATING_PENDING");var' mm="" mmm="" yyyy";case="" yyyy";default:return"mm="" yyyy";default:return"mmm="" yyyy"}},d="function(){switch(b.gf.siteId){case" yyyy"}};return="">b?a.substring(0,b)+" ...":a}}),GF.app.filter("gfFilterContentRated",[function(){return function(a){return a&amp;&amp;a.rating?!0:!1}}]),GF.app.filter("gfFilterParseMembershipName",function(){return function(a){return a.toLowerCase().replace(/d2d/g,"D2D")}}),GF.app.filter("placeholder",function(){return function(a,b){return a?a:b}}),GF.app.factory("AdCollection",["gfAsset","gfUrl",function(a,b){function c(a){this.data=a,1===a.type?(this.marketingUrl=a.promotion.marketingUrl,this.referenceUrl=b.getPromotionUrl(a.promotion.id)):2===a.type&amp;&amp;(this.marketingUrl=a.link.marketingUrl,this.referenceUrl=a.link.referenceUrl)}function d(a){if(this.data=a,this.items=[],a&amp;&amp;a.items)for(var b=0,d=a.items.length;d&gt;b;b++)this.items.push(new c(a.items[b]))}return{create:function(a,b){var c=[];if(b){for(var e=0,f=a.length;f&gt;e;e++)if(a[e].name===b){c=a[e];break}}else c=a;return new d(c)}}}]),GF.app.factory("OfferModel",function(){function a(a,b){if(a&amp;&amp;a.length&amp;&amp;a.length&gt;0){this.data=a,this.purchaseOffers=[],this.subscribeOffers=[];for(var c=0;c<a.length;c++)"purchase"===a[c].offeractiontype?this.purchaseoffers.push(a[c]):"subscribe"===a[c].offeractiontype&&this.subscribeoffers.push(a[c]);this.purchaseoffer=this.purchaseoffers[0],this.subscribeoffer=this.subscribeoffers[0]}else b&&b.length&&b.length="">0&amp;&amp;(this.data=b,this.purchaseOffer={hasBeenPurchased:!0,skuId:b[0]})}return a.prototype.hasPurchaseOffer=function(){return this.purchaseOffer?!0:!1},a.prototype.getPurchaseOfferPrice=function(){return this.purchaseOffer&amp;&amp;this.purchaseOffer.listPrice?this.purchaseOffer.listPrice:void 0},{create:function(b,c){return new a(b,c)}}}),GF.app.factory("TierModel",function(){function a(a){this.data=a,this.isFlipped=!1}return a.prototype.constructor=a,a.prototype.getTierName=function(){return this.data.tierName},a.prototype.getTierPrice=function(){return this.data.purchasePrice},a.prototype.getTierRequirement=function(){return this.data.tierQuantityRequired},a.prototype.getProgressPercentage=function(a){return{width:this.getCurrentQuantity(a)/this.data.tierQuantityRequired*100+"%"}},a.prototype.getCurrentQuantity=function(a){var b=this.data.tierQuantityRequired;return b&gt;=a?a:b},a.prototype.isUnlocked=function(){return this.isFlipped?"flipped":""},{create:function(b){return new a(b)}}}),GF.config.constant("gfApiConfig",{genre:"/d2d/genres",publishers:"/d2d/publishers",platforms:"/d2d/platforms",content_ratings:"/d2d/content_ratings",product:"/api/product/get",productPreview:"/api/product/preview",productDownloadLocation:"/api/product/downloadlocations",productQuery:"/api/productquery/findpage",productQuerySphinx:"/api/productquery/findpage_sql",media:"/api/product/getmedia",mediaPreview:"/api/product/preview_media",allMedia:"/api/product/getallmedia",getActivationKey:"/api/product/getpurchasedactivationkeys",getUppActivationKey:"/api/product/getsubscriptionactivationkeys",merchandising:"/api/merchandising/getdisplay",merchandisingShelves:"/api/merchandising/shelves",promotion:"/api/merchandising/getpromotion",promotionBackground:"/api/merchandising/getpromotion_background",allPromotions:"/api/merchandising/getpromotions",rewardOffers:"/api/merchandising/reward_offers",activeInstantPlayCollection:"/d2d/streaming/active_instant_play_collection",getCart:"/api/account/shopping_carts",addCart:"/api/account/shopping_carts",addCoupon:"/api/account/shopping_carts/coupon",redeemCredits:"/api/account/shopping_carts/redeem",removeRedeem:"/api/account/shopping_carts/remove_redeem",updateCart:"/api/account/shopping_carts/",checkout:"/d2d/stripe/pay",livegamerCheckout:"/d2d/livegamer/pay",xsollaCheckout:"/d2d/xsolla/pay",paypalCheckout:"/d2d/paypal/pay",stripeCheckout:"/d2d/stripe/pay",stripePurchase:"/d2d/stripe/purchase",stripeKount:"/d2d/stripe/kt",paypalPurchase:"/d2d/paypal/purchase",paypalAbortCheckout:"/d2d/paypal/on_abort_checkout",getAccount:"/api/account/getcurrent",signUp:"/api/account/sign_up",confirmation:"/d2d/account/confirmation",login:"/api/account/login",logout:"/api/account/logout",accountInfo:"/api/account/show",updateAccount:"/api/account/update",resetPassword:"/api/account/password",updatePassword:"/api/account/update_password",countries:"/api/countries",d2d_countries:"/d2d/countries",inventories:"/api/account/inventories",getSecuromKey:"/api/account/inventories/get_securom_key",purchases:"/api/account/purchases",payments:"/api/account/payments",completePurchase:"/api/account/purchases",xsollaCompletePurchased:"/api/account/complete_purchased",completePurchased:"/api/account/complete_purchased",failPurchase:"/api/account/purchases/fail",reconfirmations:"/api/account/update_email",walletBalance:"/api/account/wallet",getMontereyLaunchInfo:"/d2d/monterey/launch_info",tradeIn:"/api/account/wallet/trade_in",region:"/d2d/regions/get_region/",sitemap:"/d2d/sitemap",mailChimp:"/d2d/mailchimp/subscribe",vips:"/api/account/vips",loyalty1stWelcome:"/api/account/loyalty_1st_welcome",getUserReviews:"/api/userreview/findpage",flagReviewAsAbusive:"/api/userreview/flagreviewasabusive",voteUserReviewHelpful:"/api/userreview/voteuserreviewhelpful",rateTitle:"/api/userreview/ratetitle",reviewTitle:"/api/userreview/reviewtitle",createReviewerProfile:"/api/userreview/createreviewerprofile",productIsReviewableByUser:"/api/userreview/productisreviewablebyuser",fetchStreamingInfo:"/api/account/streaming",cloudPlay:"/api/account/streaming/play",streamingCampaign:"/d2d/streaming/campaign",redeemBonus20hrs:"/api/account/streaming/bonus20hrs",switchStreamingSrv:"/api/account/streaming/switching_server",switchStreamingSrvStatus:"/api/account/streaming/switching_server_status",instantPlay:"/d2d/streaming/instant_play",instantPlayAck:"/d2d/streaming/instant_play_ack",subscribeStreamingMailingList:"/d2d/streaming/subscribe",unsubscribeStreamingMailingList:"/d2d/streaming/unsubscribe",optin:"/api/account/gdpr",connectedAuth:"/api/account/social",disconnectAuth:"/api/account/social/disconnect",activePremiumProducts:"/d2d/premium/active_games",isSubscribed:"/api/account/premium/subscribed",premiumStatus:"/api/account/premium",subscribePremium:"/d2d/xsolla/subscribe_premium",stopRenewing:"/api/account/premium/stop_renewing",cancelPremium:"/api/account/premium/cancel",planPrice:"/d2d/premium/plan_price",trialCampaign:"/d2d/premium/campaign",redeemTrialCampaign:"/d2d/premium/redeem_free_trial",rent:"/d2d/xsolla/rent",ubisoftPaypalRedeem:"/d2d/paypal/redeem",ubisoftStripeRedeem:"/d2d/stripe/redeem"}),GF.config.constant("gfContaintRating",{ESRB:["ratingpending","everyone","e10+","teen","mature"],PEGI:["3","7","12","16","18"]}),GF.config.constant("gfPartialConfig",{home:"/partials/home.html",footer:"/partials/footer.html",comingsoon:"/partials/comingsoon.html",subscription:"/partials/d2d-plus/subscription.html",rental:"/partials/d2d-plus/rental.html",d2dplus:"/partials/d2d-plus/d2dplus.html",tradein:"/partials/d2d-plus/tradein.html",adsdrm:"/partials/adsdrm.html",featured:"/partials/collection.html",onsale:"/partials/onsale.html",psn:"/partials/psn.html",sitemap:"/partials/sitemap.html",search:"/partials/search.html",product:"/partials/product.html",promotion:"/partials/promotion.html",collection_browse:"/partials/collection_browse.html",arcade_store:"/partials/arcade_store.html",notfound:"/partials/404.html",error:"/partials/error.html",badrequest:"/partials/400.html",rewards:"/partials/rewards.html",maintenance:"/partials/maintenance.html",component:{heroVideoPlayer:"/partials/component/hero-video-player.html"},module:{heroRotator:"/partials/module/hero-rotator.html",browse:"/partials/module/browse.html",powerSearch:"/partials/module/powerSearch.html",featured:"/partials/module/featured.html",featuredBottom:"/partials/module/featuredBottom.html",pricing:"/partials/module/pricing.html",offers:"/partials/module/offers.html",ratingcontrol:"/partials/module/rating.html",accountControl:"/partials/module/account.html",productDisplay:"/partials/module/product-display.html"},modal:{firstVisit:"/partials/modal/firstVisit.html",firstVisitCoupon:"/partials/modal/firstVisitCoupon.html",cart:"/partials/modal/cart.html",login:"/partials/modal/login.html",forgetPassword:"/partials/modal/forgetPassword.html",activationKey:"/partials/modal/activation-key.html",productRequirement:"/partials/modal/product-requirement.html",downloadFiles:"/partials/modal/download-files.html",mediabrowser:"partials/modal/mediabrowser.html",message:"partials/modal/message.html",unconfirmMsg:"partials/modal/unconfirmMsg.html",confirmReportAbuse:"/partials/modal/confirm-abuse-report.html",downloadBonusItem:"/partials/modal/download-bonus-item.html",checkout:"/partials/modal/checkout.html",showKey:"/partials/modal/showKey.html",showAdsDrmInstruction:"/partials/modal/showAdsDrmInstruction.html",sendGift:"/partials/modal/sendGift.html",subscribe:"/partials/modal/subscribe.html","subscribe-success":"/partials/modal/subscribe-success.html",clientNotInstalled:"/partials/modal/clientNotInstalled.html",malibuUnavailable:"/partials/modal/malibuUnavailable.html",bonus20hrsCloudPlay:"/partials/modal/campaigns/bonus-20hrs-cloudplay.html",freeSubscriptionTrial:"/partials/modal/campaigns/free-subscription-trial.html",loyaltyFirstTimeCongrats:"/partials/modal/campaigns/loyalty-first-time-congrats.html",gdprConfirmation:"/partials/modal/gdpr-confirmation.html",unSubscribe:"/partials/modal/un-subscribe.html",unSubscribeComplete:"/partials/modal/un-subscribe-complete.html",rental:"/partials/modal/rental.html",startTradeIn:"/partials/modal/startTradeIn.html",tradeInComplete:"/partials/modal/tradeInComplete.html",adsDrmReminder:"/partials/modal/adsDrmReminder.html",usageTracking:"/partials/modal/usageTracking.html",switchSrvBetterUx:"/partials/modal/streaming/switchSrvBetterUx.html",switchSrvConfirmation:"/partials/modal/streaming/switchSrvConfirmation.html",switchSrvAllSet:"/partials/modal/streaming/switchSrvAllSet.html",d2dClientNotInstalled:"/partials/modal/d2dClientNotInstalled.html",rentalMessage:"/partials/modal/rental-checkout.html",ubisoftLogin:"/partials/modal/ubisoft-login-iframe.html",signupSuccessConfirm:"/partials/modal/signupSuccessConfirm.html"},navigation:{index:"/partials/navigation.html",login:"/partials/navigation/login.html",logout:"/partials/navigation/logout.html",cart:"/partials/navigation/cart.html"},popover:{cart:"/partials/popover/cart.html"},productTabs:{summary:"/partials/product/summary.html",reviewsCritic:"/partials/product/reviews-critic.html",reviewsUser:"/partials/product/reviews-user.html",screenshots:"/partials/product/screenshots.html",videos:"/partials/product/videos.html"},account:{registration:"/partials/account/registration.html",completeRegistration:"/partials/account/complete-registration.html",completePurchase:"/partials/account/complete-purchase.html",resetPassword:"/partials/account/reset-password.html",myAccount:"/partials/account/my-account.html",completeForgetPassword:"/partials/account/complete-forget-password.html",confirmation:"/partials/account/confirmation.html",reconfirmation:"/partials/account/reconfirmation.html",completeResetPassword:"/partials/account/complete-reset-password.html",cart:"/partials/account/cart.html",xsollaPaywall:"/partials/account/xsolla-cart.html",stripePaywall:"/partials/account/stripe-paywall.html",paypalPaywall:"/partials/account/iframe-paywall.html"},util:{paging:"/partials/util/carousel-paging.html"},MyAccountTabs:{myGames:{index:"/partials/account/my-games.html",build:"/partials/account/my-games-build.html",tradeInBtn:"/partials/account/trade-in-btn.html",key:"/partials/account/my-games-key.html",adsDrmActivationTut:"/partials/account/ads-drm-activation-tut.html",streaming:"/partials/account/streaming.html",recommandation:"/partials/account/my-recommandation.html",ubisoftRedeem:"/partials/account/ubisoft-redeem.html"},subscription:"/partials/account/my-subscription.html",wallet:"/partials/account/wallet.html",myCoupons:"/partials/account/my-coupons.html",accountInfo:"/partials/account/account-info.html",paymentInfo:"/partials/account/payment-info.html",purchaseHistory:"/partials/account/purchase-history.html",changePassword:"/partials/account/change-password.html"},Streaming:{index:"/partials/streaming/index.html",instantPlay:"/partials/streaming/instant-play.html",cloudPlay:"/partials/streaming/cloud-play.html",subscribe:"/partials/streaming/subscribe.html"},Premium:{intro:"/partials/premium/index.html",subscribe:"/partials/premium/subscribe.html",stopRenew:"/partials/premium/stop-renewing.html",cancelPremium:"/partials/premium/cancel.html"},aboutUs:{index:"/partials/about-us/index.html",openLetter:"/partials/about-us/open-letter.html",affiliateProgram:"/partials/about-us/affiliate-program.html",privacyPolicy:"/partials/about-us/privacy-policy.html",termsOfUse:"/partials/about-us/terms-of-use.html"},checkout:{stripe:"/partials/checkout/stripe.html",paypal:"/partials/checkout/paypal.html"},adTrack:{index:"/partials/ad-track.html"},gdpr:{opt:"/partials/gdpr/opt.html"}}),GF.config.constant("gfResourceConfig",{1:{IMAGE_LOGO:"img/logo-gfd-us.png",IMAGE_RATING_PENDING:"img/ratings/esrb-rp.png",IMAGE_NOT_RATED:"img/ratings/esrb-nr.png",TEXT_RATING_PENDING:"ESRB: Rating Pending",TEXT_NOT_RATED:"ESRB: Not Rated"},2:{IMAGE_LOGO:"img/logo-gfd-uk.png",IMAGE_RATING_PENDING:"img/ratings/pegi-rp.png",IMAGE_NOT_RATED:"img/ratings/pegi-nr.png",TEXT_RATING_PENDING:"PEGI: Rating Pending",TEXT_NOT_RATED:"PEGI: Not Rated"},3:{IMAGE_LOGO:"img/logo-gfd-uk.png",IMAGE_RATING_PENDING:"img/ratings/pegi-rp.png",IMAGE_NOT_RATED:"img/ratings/pegi-nr.png",TEXT_RATING_PENDING:"PEGI: Rating Pending",TEXT_NOT_RATED:"PEGI: Not Rated"}}),GF.config.constant("gfSeoConfig",{1:{"default":{title:"Direct2Drive",meta:{title:"Buy and Download the Latest PC and Mac Games - Direct2Drive",keywords:"PC games, Download PC games, Buy PC games, PC downloads, Mac downloads, Mac games, Download Mac games, Buy Mac games, Direct2Drive digital, digital download, PC gaming, online games, online gaming, download computer games, download PC games, download Mac games, video game downloads, buy games online, down load games",description:"Buy and download the latest PC games at the new Direct2Drive Digital site. Choose from over 2,500 PC and Mac games to buy and play.","og:type":"website","og:title":"Buy and Download the Latest PC and Mac Games - Direct2Drive","og:description":"Buy and download the latest PC games at the new Direct2Drive Digital site. Choose from over 2,500 PC and Mac games to buy and play.","og:site_name":"Direct2Drive","og:image":"https://pbs.twimg.com/profile_images/522059395350274048/RSGhGri7.jpeg","og:image:width":"355","og:image:height":"355"}},normal:{title:"&lt;%=TITLE%&gt; - Direct2Drive",isTemplate:!0,meta:{title:"&lt;%=TITLE%&gt;",keywords:"&lt;%=TITLE%&gt;, PC, Mac, games, buy, download, digital, computer",description:"&lt;%=DESCRIPTION%&gt;","og:type":"website","og:title":"&lt;%=TITLE%&gt;","og:description":"&lt;%=DESCRIPTION%&gt;","og:site_name":"Direct2Drive","og:image":"https://pbs.twimg.com/profile_images/522059395350274048/RSGhGri7.jpeg","og:image:width":"355","og:image:height":"355"}},productDetail:{title:"&lt;%=PRODUCT_TITLE%&gt; - Direct2Drive",isTemplate:!0,meta:{title:"&lt;%=PRODUCT_TITLE%&gt;",keywords:"&lt;%=PRODUCT_TITLE%&gt;, &lt;%=PRODUCT_PLATFORM%&gt;, PC, Mac, games, buy, download, digital, computer",description:"&lt;%=PRODUCT_SHORT_DESCRIPTION%&gt;","og:type":"game","og:title":"&lt;%=PRODUCT_TITLE%&gt;","og:description":"&lt;%=PRODUCT_SHORT_DESCRIPTION%&gt;","og:site_name":"Direct2Drive","og:image":"&lt;%=PRODUCT_IMAGE%&gt;","og:image:width":"271","og:image:height":"388"}}}}),GF.config.constant("gfUrlConfig",{links:{1e4:{url:"/#!/pc",path:"/pc",title:"PC",value:"PC",code:1100,icon:"icon-windows"},2e4:{url:"/#!/mac",path:"/mac",title:"Mac",value:"Mac",code:1200,icon:"icon-apple"},10100:{url:"/#!/pc/download",path:"/pc/download",title:"Games",value:"Games",code:0,icon:"icon-windows"},10200:{url:"/#!/pc/d2dplus",path:"/pc/d2dplus",title:"D2D Plus",value:"D2D Plus",code:0,icon:"icon-d2dplus"},10300:{url:"/#!/pc/comingsoon",path:"/pc/comingsoon",title:"Coming Soon",value:"Coming Soon",code:0,icon:"icon-time"},10500:{url:"/#!/pc/onsale",path:"/pc/onsale",title:"On Sale",value:"On Sale",code:0,icon:"icon-tag"},20100:{url:"/#!/mac/download",path:"/mac/download",title:"Games",value:"Buy Mac Downloads",code:0,icon:"icon-apple"},20200:{url:"/#!/mac/comingsoon",path:"/mac/comingsoon",title:"Coming Soon",value:"Coming Soon",code:0,icon:"icon-time"},20300:{url:"/#!/mac/d2dplus",path:"/mac/d2dplus",title:"D2D Plus",value:"D2D Plus",code:0,icon:"icon-d2dplus"},20400:{url:"/#!/mac/onsale",path:"/mac/onsale",title:"On Sale",value:"On Sale",code:0,icon:"icon-tag"},30700:{url:"/#!/collection",path:"/collection",title:GF.Gon.setting.collectionTitle||"Collections",value:GF.Gon.setting.collectionTitle||"Collections",code:null,icon:"icon-collections"},30800:{url:"/#!/promotion/581",path:"",title:"PlayStation®Network",value:"PlayStation®Network",code:0,icon:"icon-playstation"},30901:{url:"/#!/collections/88",path:"",title:"Flashback Zone",value:"Flashback Zone",code:0,icon:"icon-star"},30902:{url:"/#!/collections/89",path:"",title:"Flashback Zone",value:"Flashback Zone",code:0,icon:"icon-star"},30903:{url:"/#!/arcade-stores/1305",path:"",title:"Legends Arcade Supported Games",value:"Legends Arcade Supported Games",code:0,icon:"icon-acnet","new":!0},30904:{url:"/#!/arcade-stores/1306",path:"",title:"Legends Arcade Supported Games",value:"Legends Arcade Supported Games",code:0,icon:"icon-acnet","new":!0},31e3:{url:"/#!/streaming",path:"/streaming",title:"Streaming",value:"Streaming",code:0,icon:"fa fa-cloud","new":!1},32100:{url:"/#!/psn/search",path:"",title:"PlayStation®Network",value:"PlayStation®Network",code:0,icon:"icon-playstation"},33e3:{url:"/#!/rewards",path:"/rewards",title:"D2D Rewards",value:"D2D Rewards",code:0,icon:"fa fa-usd font-italic"}},groups:{1:{"pc-section":{platforms:[1e4],sections:[10100,10200,10500,30903,31e3]}},2:{"pc-section":{platforms:[1e4],sections:[10100,10500,30904,31e3]}},3:{"pc-section":{platforms:[1e4],sections:[10100,10500,30904,31e3]}}},publishers:[30700],"pc-default":{group:"pc-section",actives:[1e4]},"mac-default":{group:"mac-section",actives:[2e4]},"/pc":{group:"pc-section",actives:[1e4,10100]},"/pc/download":{group:"pc-section",actives:[1e4,10100]},"/pc/d2dplus":{group:"pc-section",actives:[1e4,10200]},"/pc/comingsoon":{group:"pc-section",actives:[1e4,10300]},"/pc/onsale":{group:"pc-section",actives:[1e4,10500]},"/mac":{group:"mac-section",actives:[2e4,20100]},"/mac/download":{group:"mac-section",actives:[2e4,20100]},"/mac/comingsoon":{group:"mac-section",actives:[2e4,20200]},"/mac/onsale":{group:"mac-section",actives:[2e4,20400]},"/collection":{group:"pc-section",actives:[1e4,30700]},"/promotion/5":{group:"pc-section",actives:[1e4,30800]},"/collections/88":{group:"pc-section",actives:[1e4,30901]},"/collections/89":{group:"pc-section",actives:[1e4,30902]},"/streaming":{group:"pc-section",actives:[1e4,31e3]},"/psn/search":{group:"pc-section",actives:[1e4,32100]},"/rewards":{group:"pc-section",actives:[1e4,33e3]}}),GF.ddl.constant("ddlEsrb",{1:[{text:"All ESRB",value:0,query:{esrb:null}},{text:"E10+",value:1,query:{esrb:400}},{text:"Everyone",value:2,query:{esrb:300}},{text:"Mature",value:3,query:{esrb:600}},{text:"Rating Pending",value:4,query:{esrb:0}},{text:"Teen",value:5,query:{esrb:500}}],2:[{text:"All PEGI",value:0,query:{pegi:null}},{text:"Pending",value:1,query:{pegi:0}},{text:"3",value:2,query:{pegi:3}},{text:"7",value:3,query:{pegi:4}},{text:"12",value:4,query:{pegi:12}},{text:"16",value:5,query:{pegi:16}},{text:"18",value:6,query:{pegi:18}}],3:[{text:"All PEGI",value:0,query:{pegi:null}},{text:"Pending",value:1,query:{pegi:0}},{text:"3",value:2,query:{pegi:3}},{text:"7",value:3,query:{pegi:4}},{text:"12",value:4,query:{pegi:12}},{text:"16",value:5,query:{pegi:16}},{text:"18",value:6,query:{pegi:18}}]}),GF.ddl.constant("ddlFeaturedTab",{1:[{name:"Featured",value:"Featured"},{name:"Popular",value:"Popular",query:{"sort.field":"bestselling","sort.direction":"desc"}},{name:"New",value:"New",query:{newreleases:!0,"sort.field":"releasedate","sort.direction":"desc"}},{name:"On Sale",value:"OnSale",query:{onsale:"true","sort.field":"mostpopular","sort.direction":"desc"}},{name:"Pre-Purchase",value:"PreOrders",query:{release_date:"1","sort.field":"releasedate","sort.direction":"asc"}},{name:"Under $10",value:"Under10",query:{"price.underprice":10,"sort.field":"mostpopular","sort.direction":"desc"}},{name:"Under $30",value:"Under30",query:{"price.underprice":30,"sort.field":"mostpopular","sort.direction":"desc"}}],2:[{name:"Featured",value:"Featured"},{name:"Popular",value:"Popular",query:{"sort.field":"bestselling","sort.direction":"desc"}},{name:"New",value:"New",query:{newreleases:!0,"sort.field":"releasedate","sort.direction":"desc"}},{name:"On Sale",value:"OnSale",query:{onsale:!0,"sort.field":"mostpopular","sort.direction":"desc"}},{name:"Pre-Purchase",value:"PreOrders",query:{release_date:1,"sort.field":"releasedate","sort.direction":"asc"}},{name:"Under £10",value:"Under10",query:{"price.underprice":10,"sort.field":"mostpopular","sort.direction":"desc"}},{name:"Under £30",value:"Under30",query:{"price.underprice":30,"sort.field":"mostpopular","sort.direction":"desc"}}],3:[{name:"Featured",value:"Featured"},{name:"Popular",value:"Popular",query:{"sort.field":"bestselling","sort.direction":"desc"}},{name:"New",value:"New",query:{newreleases:!0,"sort.field":"releasedate","sort.direction":"desc"}},{name:"On Sale",value:"OnSale",query:{onsale:!0,"sort.field":"mostpopular","sort.direction":"desc"}},{name:"Pre-Purchase",value:"PreOrders",query:{release_date:1,"sort.field":"releasedate","sort.direction":"asc"}},{name:"Under €10",value:"Under10",query:{"price.underprice":10,"sort.field":"mostpopular","sort.direction":"desc"}},{name:"Under €30",value:"Under30",query:{"price.underprice":30,"sort.field":"mostpopular","sort.direction":"desc"}}]}),GF.ddl.constant("ddlPrice",{1:[{text:"All Prices",value:0,query:null},{text:"On Sale",value:1,query:{onsale:!0}},{text:"$10 and Under",value:2,query:{"price.underprice":10}},{text:"$20 and Under",value:3,query:{"price.underprice":20}},{text:"$30 and Under",value:4,query:{"price.underprice":30}},{text:"$40 and Under",value:5,query:{"price.underprice":40}},{text:"$50 and Under",value:6,query:{"price.underprice":50}},{text:"Over $50",value:7,query:{"price.overprice":50}}],2:[{text:"All Prices",value:0,query:null},{text:"On Sale",value:1,query:{onsale:!0}},{text:"£10 and Under",value:2,query:{"price.underprice":10}},{text:"£20 and Under",value:3,query:{"price.underprice":20}},{text:"£30 and Under",value:4,query:{"price.underprice":30}},{text:"£40 and Under",value:5,query:{"price.underprice":40}},{text:"£50 and Under",value:6,query:{"price.underprice":50}},{text:"Over £50",value:7,query:{"price.overprice":50}}],3:[{text:"All Prices",value:0,query:null},{text:"On Sale",value:1,query:{onsale:!0}},{text:"€10 and Under",value:2,query:{"price.underprice":10}},{text:"€20 and Under",value:3,query:{"price.underprice":20}},{text:"€30 and Under",value:4,query:{"price.underprice":30}},{text:"€40 and Under",value:5,query:{"price.underprice":40}},{text:"€50 and Under",value:6,query:{"price.underprice":50}},{text:"Over €50",value:7,query:{"price.overprice":50}}]}),GF.ddl.constant("ddlReleaseDate",{1:[{text:"All Release Dates",value:0,query:null},{text:"Pre-Purchase",value:1,query:{release_date:1}},{text:"Last 60 Days",value:2,query:{release_date:4}},{text:"Last Year",value:3,query:{"releasedate.startdate":(new Date).getFullYear()-1+"-01-01","releasedate.enddate":(new Date).getFullYear()-1+"-12-31"}},{text:"2000-2010",value:4,query:{"releasedate.startdate":"2000-01-01","releasedate.enddate":"2010-01-01"}},{text:"1990-2000",value:5,query:{"releasedate.startdate":"1990-01-01","releasedate.enddate":"2000-01-01"}},{text:"Older than 1990",value:6,query:{"releasedate.enddate":"1990-01-01"}}]}),GF.ddl.constant("ddlSort",{1:[{text:"Release Date",value:3,query:{"sort.field":"releasedate","sort.direction":"desc"}},{text:"Bestselling",value:0,query:{"sort.field":"bestselling","sort.direction":"desc"}},{text:"Title",value:1,query:{"sort.field":"title","sort.direction":"asc"}},{text:"Newly Available",value:4,query:{"sort.field":"releasedate","sort.direction":"desc"}},{text:"Price (low to high)",value:6,query:{"sort.field":"price","sort.direction":"asc"}},{text:"Price (high to low)",value:7,query:{"sort.field":"price","sort.direction":"desc"}}]}),GF.ddl.constant("ddlUserRating",{1:[{text:"All User Ratings",value:0,query:null},{text:"9 and Higher",value:1,query:{"userrating.lowerrating":9}},{text:"8 and Higher",value:2,query:{"userrating.lowerrating":8}},{text:"7 and Higher",value:3,query:{"userrating.lowerrating":7}},{text:"6 and Higher",value:4,query:{"userrating.lowerrating":6}},{text:"5 and Higher",value:5,query:{"userrating.lowerrating":5}},{text:"Not Rated",value:6,query:{"userrating.lowerrating":0,"userrating.upperrating":0}}]}),GF.def.constant("defAdActivity",{LANDING:{id:568994,description:"Landing Page"},JOIN:{id:555034,description:"Account Creation - Join Button"},JOIN_LINK:{id:570152,description:"Account Creation - Join Direct2Drive Link"},REGISTER:{id:555035,description:"Account Creation - Register Button"},CONFIRMATION:{id:555036,description:"Account Creation - Confirmation Page"},EMAIL_CONFIRMATION:{id:555051,description:"Account Creation - E-mail Conf. Click"},LOGIN:{id:555037,description:"Sign In - Login Button"},SIGN_IN:{id:555038,description:"Sign In - Sign In Button"},BUY:{id:555039,description:"Game Purchase - Store Buy Now Button Click"},COUPON:{id:555040,description:"Game Purchase - Apply Coupon Button Click"},CHECKOUT:{id:555041,description:"Game Purchase - Checkout Button Click"},PAYMENT:{id:555042,description:"Game Purchase - Payment Method Conf Click"},PAYMENT_COMPLETE:{id:555043,description:"Game Purchase - Payment Complete Button Clic"},PAYMENT_CONFIRMATION:{id:555044,description:"Game Purchase - Confirmation Page"}}),GF.def.constant("defHeroType",{PRODUCT_IMAGE:{id:0,description:"Product Image"},COLLECTION:{id:1,description:"Collection"},PRODUCT_VIDEO:{id:2,description:"Product Video"},EXTERNAL_VIDEO:{id:3,description:"External Video"}}),GF.def.constant("defCoupon",{US:{code:"10NEWSLETTER"},UK:{code:"10NEWSLETTERUK"},EU:{code:"10NEWSLETTEREU"}}),GF.def.constant("defPlatform",{1100:{name:"PC",icon:"icon-windows-8"},1200:{name:"Mac",icon:"icon-apple"},1300:{name:"PS3",icon:"icon-ps3"},1310:{name:"PS4",icon:"icon-ps4"},1320:{name:"PS-Vita",icon:"icon-psvita"},1400:{name:"Nintendo Switch",icon:"icon-ns"},1500:{name:"Xbox One",icon:"icon-xb1"}}),GF.def.constant("defRating",{50:{name:"ESRB: Not Rated",image:"img/ratings/esrb-nr.png"},100:{name:"ESRB: Early Childhood",image:"img/ratings/esrb-ec.png"},200:{name:"ESRB: Kids To Adults",image:"img/ratings/esrb-e.png"},300:{name:"ESRB: Everyone",image:"img/ratings/esrb-e.png"},400:{name:"ESRB: Everyone 10 Plus",image:"img/ratings/esrb-e10.png"},500:{name:"ESRB: Teen",image:"img/ratings/esrb-t.png"},550:{name:"ESRB: Not Rated",image:"img/ratings/esrb-nr.png"},600:{name:"ESRB: Mature",image:"img/ratings/esrb-m.png"},700:{name:"ESRB: AO",image:"img/ratings/esrb-ao.png"},2700:{name:"PEGI: Not Rated",image:"img/ratings/pegi-nr.png"},2e3:{name:"PEGI: 3",image:"img/ratings/pegi-3.png"},2100:{name:"PEGI: 7",image:"img/ratings/pegi-7.png"},2200:{name:"PEGI: 12",image:"img/ratings/pegi-12.png"},2400:{name:"PEGI: 16",image:"img/ratings/pegi-16.png"},2500:{name:"PEGI: 18",image:"img/ratings/pegi-18.png"},2800:{name:"PEGI: Not Rated",image:"img/ratings/pegi-nr.png"}}),GF.app.factory("gfAccountManager",["$http","gfError","gfDebug","gfUrl","gfApiConfig",function(a,b,c,d,e){var f=function(a){return a},g=function(a){return a},h=function(){return a.get(d.getApiUrl()+e.accountInfo).then(f,g)},i=function(b){return a({url:d.getApiUrl()+e.updateAccount,data:b,method:"PATCH"}).then(f,g)},j=function(b){return a.post(d.getApiUrl()+e.resetPassword,b).then(f,g)},k=function(b){return a.put(d.getApiUrl()+e.resetPassword,b).then(f,g)},l=function(b){return a.get(d.getApiUrl()+e.confirmation,{params:b}).then(f,g)},m=function(b){return a.post(d.getApiUrl()+e.confirmation,b).then(f,g)},n=function(b){return a({url:d.getApiUrl()+e.reconfirmations,data:b,method:"PATCH"}).then(f,g)},o=function(b){return a({url:d.getApiUrl()+e.updatePassword,data:b,method:"PATCH"}).then(f,g)},p=function(b){return a.get(d.getApiUrl()+e.inventories,{params:b}).then(f,g)},q=function(b){return a.get(d.getApiUrl()+e.fetchStreamingInfo,{timeout:b.promise}).then(f,g)},r=function(b){return a.get(d.getApiUrl()+e.cloudPlay,{timeout:b.promise}).then(f,g)},s=function(b,c,h){return a.post(d.getApiUrl()+e.instantPlay,{game_id:c,offer_item_id:h},{timeout:b.promise}).then(f,g)},t=function(b,c,h){return a.post(d.getApiUrl()+e.instantPlayAck,{game_id:c,collection_id:b,offer_item_id:h}).then(f,g)},u=function(){return a.get(d.getApiUrl()+e.streamingCampaign).then(f,g)},v=function(){return a.get(d.getApiUrl()+e.redeemBonus20hrs).then(f,g)},w=function(){return a.get(d.getApiUrl()+e.trialCampaign).then(f,g)},x=function(){return a.get(d.getApiUrl()+e.redeemTrialCampaign).then(f,g)},y=function(b){return a({url:d.getApiUrl()+e.getSecuromKey,data:{account_inventory_id:b},method:"POST"}).then(f,g)},z=function(){return a.get(d.getApiUrl()+e.payments,{params:{per_page:65355}}).then(f,g)},A=function(){return a.get(d.getApiUrl()+e.countries,{params:{paging:!1}}).then(f,g)},B=function(){return a.get(d.getApiUrl()+e.d2d_countries,{params:{paging:!1}}).then(f,g)},C=function(){return a.get(d.getApiUrl()+e.walletBalance).then(f,g)},D=function(b){return a.post(d.getApiUrl()+e.tradeIn,{game_item_id:b}).then(f,g)},E=function(){return a.get(d.getApiUrl()+e.getMontereyLaunchInfo).then(f,g)},F=function(){return a.get(d.getApiUrl()+e.vips).then(f,g)},G=function(){return a.get(d.getApiUrl()+e.vips).then(function(a){return a.data})},H=function(){return a.post(d.getApiUrl()+e.loyalty1stWelcome).then(f,g)},I=function(){return a.get(d.getApiUrl()+e.switchStreamingSrvStatus).then(f,g)},J=function(){return a.post(d.getApiUrl()+e.switchStreamingSrv).then(f,g)};return{accountInfo:h,confirmAccount:l,updateAccount:i,requestResetPassword:j,resetPasswordWithToken:k,resendConfirmAccount:m,reconfirmations:n,updatePassword:o,getInventories:p,fetchStreaminInfo:q,cloudPlay:r,instantPlay:s,instantPlayAck:t,streamingCampaign:u,trialCampaign:w,redeemTrialCampaign:x,redeemBonus20hrs:v,getSecuromKey:y,getPayments:z,countries:A,d2d_countries:B,walletBalance:C,tradeIn:D,getMontereyLaunchInfo:E,vips:F,vipTiers:G,loyalty1stWelcome:H,switchStreamingSrvStatus:I,switchStreamingSrv:J}
}]),GF.app.factory("gfAdTracking",[function(){function a(a){var b=Math.random()+"";b=1e6*b;var c=(window.isHttps()?"https":"http",['<iframe &amp;rnd=",b,'" ad-track.html?activityid=",a.id," src="'," style="display:none"></iframe>'].join(""));$("body").append(c),console.log("sent ad tracking: "+a.description)}return{send:a}}]),GF.app.factory("oauthService",["$rootScope","$http","$q","$location","gfDebug","gfUrl","gfApiConfig","$auth",function(a,b,c,d,e,f,g,h){var i=function(a){return h.authenticate(a)},j=function(){var a=c.defer(),d=a.promise;return b.get(f.getApiUrl()+g.connectedAuth).success(function(b){a.resolve(b)}).error(function(b){a.reject(b)}),d},k=function(a){var d=c.defer(),e=d.promise;return b.delete(f.getApiUrl()+g.disconnectAuth,{params:{provider:a}}).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),e};return{login:i,connectedAuth:j,disconnectAuth:k}}]),GF.app.factory("gfCart",["$http","$rootScope","gfUrl","gfApiConfig","gfDebug","gfError",function(a,b,c,d,e,f){var g=function(a){return a.data},h=function(a){if(409===a.status)e.warn("gfCart",a.data),a.data&amp;&amp;a.data.failureError&amp;&amp;b.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:a.data.failureError.message});else{if(422===a.status)return a;f.handleApiError(a)}return null},i=function(){return e.log("gfCart.getCart()",c.getApiUrl()+d.getCart),a.get(c.getApiUrl()+d.getCart).then(g,h)},j=function(b,f){return e.log("gfCart.addCart()",b),a.post(c.getApiUrl()+d.addCart,{product_id:b,allowNonRequiredBase:f}).then(g,h)},k=function(b){return e.log("gfCart.addCoupon()",b),a.post(c.getApiUrl()+d.addCoupon,{coupon_code:b}).then(g,h)},l=function(){return e.log("gfCart.redeemCredits()"),a.post(c.getApiUrl()+d.redeemCredits).then(g,h)},m=function(){return e.log("gfCart.removeRedeem()"),a.post(c.getApiUrl()+d.removeRedeem).then(g,h)},n=function(b,f){return e.log("gfCart.addCartByob()",b,f),a.post(c.getApiUrl()+d.addCart,{skuId:b,contentSkuIds:f}).then(g,h)},o=function(b){return e.log("gfCart.updateCart()",b),a({url:c.getApiUrl()+d.updateCart+b,method:"DELETE"}).then(g,h)},p=function(b){return e.log("gfCart.removeCoupon()",b),a({url:c.getApiUrl()+d.addCoupon+"/"+b,method:"DELETE"}).then(g,h)},q=function(){return u("livegamer")},r=function(){return u("xsolla")},s=function(){return u("stripe")},t=function(){return u("paypal")},u=function(a){return e.log("checkout payment",GF.Gon.setting.payment),GF.Gon.setting.payment?GF.Gon.setting.payment.toLowerCase()===a:!0},v=function(a){return e.log("gfCart.checkout()",a),s()?D(a):r()?A(c.getApiUrl()+d.xsollaCheckout,a):t()?A(c.getApiUrl()+d.paypalCheckout,a):x(a)},w=function(b){return e.log("gfCart.abortCheckout()",b),a.post(c.getApiUrl()+d.paypalAbortCheckout,b).then(g,h)},x=function(b){return e.log("gfCart.livegamerCheckout()",b),a.post(c.getApiUrl()+d.livegamerCheckout,b).then(g,h)},y=function(a){return a.data},z=function(a){if(409===a.status)e.warn("gfCart checkout error",a.data),a.data&amp;&amp;a.data.failureError&amp;&amp;b.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:a.data.failureError.message});else{if(422===a.status||500===a.status)return a;f.handleApiError(a)}return null},A=function(b,c){return e.log("gfCart.checkout()",b,c),a.post(b,c).then(y,z)},B=function(a){return a.data},C=function(a){if(409===a.status)e.warn("gfCart stripe checkout error",a.data),a.data&amp;&amp;a.data.failureError&amp;&amp;b.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:a.data.failureError.message});else{if(422===a.status||500===a.status)return a;f.handleApiError(a)}return null},D=function(b){return e.log("gfCart.stripeCheckout()",b),a.post(c.getApiUrl()+d.stripeCheckout,b).then(B,C)},E=function(b){return e.log("gfCart.purchase()",b),s()?a.post(c.getApiUrl()+d.stripePurchase,b).then(g,h):t()?a.post(c.getApiUrl()+d.paypalPurchase,b).then(g,h):void 0},F=function(b){return e.log("gfCart.stripeKount()",b),a.post(c.getApiUrl()+d.stripeKount,b).then(g,h)};return{getCart:i,addCart:j,addCoupon:k,addCartByob:n,updateCart:o,removeCoupon:p,checkout:v,livegamerCheckout:x,stripeCheckout:D,isLivegamer:q,isXsolla:r,isStripe:s,isPaypal:t,purchase:E,redeemCredits:l,removeRedeem:m,abortCheckout:w,stripeKount:F}}]),GF.app.factory("gfChannel",["$rootScope","$cookieStore","$q","$timeout","gfUrl","gfApiConfig","gfUrl","gfDebug","gfAuthManager",function(a,b,c,d,e,f,g,h,i){var j=[],k=function(){return t({eventType:"GET_ACCOUNT",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.getAccount,type:"GET"}})},l=function(a,b){return t({eventType:"SIGN_UP",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.signUp,type:"POST",data:{account:a,"g-recaptcha-response":b}}})},m=function(a,b){return t({eventType:"LOGIN",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.login,type:"POST",data:{email:a,password:b}}})},n=function(a){return t({eventType:"LOGIN",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.login,type:"POST",data:{remember_token:a}}})},o=function(){return t({eventType:"LOGOUT",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.logout,type:"DELETE"}})},p=function(){return t({eventType:"GET_ACCOUNT_INFO",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.accountInfo,type:"GET",date:{d:"123"}}})},q=function(a,b,c){return t({eventType:"GET_DOWNLOAD_LOCATIONS",xhr:{id:(new Date).getTime(),url:e.getApiUrl()+f.productDownloadLocation,type:"POST",data:{skuIds:a,filetype:b,forhttp:c}}})},r=function(a,b){return a=parseInt(a,10),b="true"===b,t({eventType:"GET_ACTIVATION_KEY",xhr:{id:(new Date).getTime(),url:b?e.getApiUrl()+f.getUppActivationKey:e.getApiUrl()+f.getActivationKey,type:"GET",data:{skuId:a}}})},s=function(b,c){return 401===c.status?(i.registerPostLoginApi(b.callConfig,!0,b.callPromise),a.$broadcast("GF_EVENT_OPENLOGIN"),!0):!1},t=function(d){var e=c.defer();if(v()){var f=$("#gf-channel");d.xhr.headers={},void 0!==b.get("token")&amp;&amp;(d.xhr.headers.Authorization="Bearer "+b.get("token")),d.xhr.headers.fp=btoa(a.gf.fingerprint),j.push({callPromise:e,callConfig:d}),f[0].contentWindow.postMessage(JSON.stringify(d),g.getFullPath("","https:"===window.location.protocol))}return e.promise},u=function(a){if(v()){var c=$("#gf-channel");a.xhr.headers={},void 0!==b.get("token")&amp;&amp;(a.xhr.headers.Authorization="Bearer "+b.get("token")),c[0].contentWindow.postMessage(JSON.stringify(a),g.getFullPath("","https:"===window.location.protocol))}};a.$on("GF_EVENT_SECURE_CALL_COMPLETE",function(a,b){for(var c=0;c<j.length;c++)if(j[c].callconfig.xhr.id===b.id){b.issuccess?(j[c].callpromise.resolve(b.data),j.splice(c,1)):s(j[c],b.data)||(j[c].callpromise.reject(b.data),j.splice(c,1));break}}),a.$on("gf_event_closelogin",function(){j=[]});var "+b).then(k,l)},s="function(b){return" "+b).then(p,q)}function="" "+b+"?region="+c).then(k,l):a.get(d.getApiUrl()+e.product+" 0='g.gf.genre_id||""===g.gf.genre_id)return!1;z.genre=g.gf.genre_id}return' 3='a.value&amp;&amp;"Pre-Purchase"===b.text?{"sort.field":"releasedate","sort.direction":"asc"}:a.query},o=function(a){return' a="" a.data.substores="[],angular.forEach(a.data.collections,function(a){this.push(a)},a.data.subStores),a.data.featuredPublishers=[],angular.forEach(a.data.publishers,function(a){-1!==h.indexOf(a.company_name.toLowerCase().replace(/" a.data},f="function(a){return" a.data},g="function(a){return" a.data},l="function(a){return" a.data}function="" a.get(b.getapiurl()+c.content_ratings).then(e,f)};return{get:g}}]),gf.app.service("gfglobalnotification",["$rootscope",function(a){this.display="function(b){if(b&amp;&amp;b.items){if(b.items.length&lt;1)return;var" a.get(b.getapiurl()+c.genre,{params:{paging:!1}}).then(e,f)};return{get:g}}]),gf.app.factory("gfplatforms",["$http","gfurl","gfapiconfig","gferror",function(a,b,c,d){var="" a.get(b.getapiurl()+c.platforms).then(e,f)};return{get:g}}]),gf.app.factory("gfsitemap",["$http","gfurl","gfapiconfig","gferror",function(a,b,c,d){var="" a.get(b.getapiurl()+c.sitemap).then(e,f)},h='["2k","aspyr","atari","axis","bethesda","bitcomposer","cdprojektred","daedalic","deepsilver","doubleeleven","gaijin","dovetailgames","encoreinteractive","iceberg","kiss","konami","libredia","mergegames","plugindigital","rebelliongames","rockstar","team17","thqnordic","versusevil","vivamedia","warnerbros"];return{get:g}}]),GF.app.factory("gfContentRatings",["$http","gfUrl","gfApiConfig","gfError",function(a,b,c,d){var' a.get(c.getapiurl()+d.activeinstantplaycollection,{params:{pagenumber:1,pagesize:1e3}}).then(p,q)}function="" a.get(c.getapiurl()+d.allpromotions,{params:{pagenumber:1,pagesize:1e3}}).then(p,q)}function="" a.get(c.getapiurl()+d.merchandising,{params:{genre:f.gf.genre_id||"",platform:b.code}}).then(p,q)}function="" a.get(c.getapiurl()+d.promotion+"="" a.get(c.getapiurl()+d.promotionbackground+"="" a.get(c.getapiurl()+d.rewardoffers,{params:{pagenumber:1,pagesize:1e3}}).then(p,q)}function="" a.get(d.getapiurl()+e.getuserreviews,{params:j}).then(f,g)},k="function(b,c){var" a.get(d.getapiurl()+e.productisreviewablebyuser,{params:c}).then(f,function(a){return="" a.get(d.getapiurl()+e.productquery,{params:$.extend({},{pagesize:25},m(),b.query)}).then(k,l)},t="function(b){return" a.get(d.getapiurl()+e.productquery,{params:b}).then(k,l)},r="function(b,c){return" a.get(d.getapiurl()+e.productquery,{params:z}).then(k,l)},q="function(b){return" a.gf.channelready?!0:(h.log("channel="" a.post(b.getapiurl()+c.mailchimp,d).then(e,f)};return{subscribe:g}}]),gf.app.factory("gfsubscribemailinglist",["$http","gfurl","gfapiconfig","gferror",function(a,b,c,d){var="" a.post(b.getapiurl()+c.subscribestreamingmailinglist,d).then(e,f)},h="function(d){return" a.post(b.getapiurl()+c.unsubscribestreamingmailinglist,d).then(e,f)};return{subscribestreaminglist:g,unsubscribestreaminglist:h}}]),gf.app.factory("gfmedia",["$http","gfurl","gfapiconfig","gferror",function(a,b,c,d){var="" a.post(d.getapiurl()+e.createreviewerprofile,{username:b}).then(f,function(a){return="" a.post(d.getapiurl()+e.flagreviewasabusive,b).then(f,g)},i="function(b,c){var" a.post(d.getapiurl()+e.ratetitle,h).then(f,g)},l="function(b,c,g,h,i){var" a.post(d.getapiurl()+e.reviewtitle,j).then(f,function(a){return="" a.post(d.getapiurl()+e.voteuserreviewhelpful,h).then(f,g)},j="function(b,c,h,i){var" a?{"search.keywords":a,"search.titleonly":!1}:null},p="function(b,c,f,j,m,p,q,r,s,t,u,v,w,x,y){var" angular.foreach(b,function(a){"featured"!="a.value&amp;&amp;(a.query.pageindex=1,a.query.pagesize=15,e.push($.extend({},{query:j()},{value:a.value},{query:a.query})))}),a.post(c.getApiUrl()+d.merchandisingShelves,{shelves:e}).then(p,q)}function" a})},m="function(b){return" a})},n="function(b){var" a})};return{get:j,flagreviewasabusive:h,voteuserreviewhelpful:i,ratetitle:k,submitreview:l,createreviewerprofile:m,productisreviewablebyuser:n}}]),gf.app.factory("gfubisoftredeem",["$http","gfurl","gfapiconfig","gferror",function(a,b,c,d){var="" b="(g.search().pf||[]).map(Number);e.getSection()}return" b.d2d_plus='j.tradeIn,a.get(d.getApiUrl()+e.productQuery,{params:b}).then(k,l)};return{get:p,getProduct:r,getTypeaheadResults:q,getFeatured:s,getRentalProducts:t,getTradeinProducts:u,d2dPlusTypes:j}}]),GF.app.factory("gfUserReviews",["$http","gfError","gfDebug","gfUrl","gfApiConfig",function(a,b,c,d,e){var' b.handleapierror(a),null},h="function(b){return" b.handleapierror(a),null}return{getdisplay:h,shelves:i,getpromotion:k,getpromotionbackground:l,getallpromotions:m,getactiveinstantplaycollection:n,rewardoffers:o}}]),gf.app.factory("gfproductquery",["$http","$location","gferror","gfurl","gfapiconfig","gfnavigation","$rootscope","$route","gfpartialconfig",function(a,b,c,d,e,f,g,h,i){var="" c="{productId:b};return" c.handleapierror(a),null},m="function(){var" c?a.get(d.getapiurl()+e.productpreview+"="" d.handleapierror(a),null},g="function(d){var" e="function(a){return" f="Date.now(),g={startDate:f,endDate:f};e.streamingCampaign().then(function(a){angular.isDefined(a.data.campaign)&amp;&amp;(g.startDate=Date.parse(a.data.campaign.startDate),g.endDate=Date.parse(a.data.campaign.endDate),g.bonusHours=a.data.campaign.bonusHours)},function(){});var" failed"),!1)};return{getaccount:k,signup:l,login:m,authlogin:n,logout:o,accountinfo:p,getdownloadlocations:q,getactivationkey:r,repostsecurecall:u}}]),gf.app.factory("gfgenre",["$http","gfurl","gfapiconfig","gferror",function(a,b,c,d){var="" g,""))&&this.push(a)},a.data.featuredpublishers),a.data},f="function(a){return" g.bonushours},m="function(){var" g.enddate},l="function(){return" g.startdate},k="function(){return" g;return"paypal"='GF.Gon.setting.payment?g=b.getApiUrl()+c.ubisoftPaypalRedeem:"stripe"===GF.Gon.setting.payment&amp;&amp;(g=b.getApiUrl()+c.ubisoftStripeRedeem),a.post(g,d).then(e,f)};return{redeem:g}}]),GF.app.factory("streamingCampaign",["$rootScope","$http","gfError","gfDebug","gfAccountManager",function(a,b,c,d,e){var' h='function(){return"bonus20hrs"},i=function(){return"bonus20hrsCloudPlay"},j=function(){return' h(){{var="" i(b){var="" j="{productId:b,score:c,title:g,body:h,preview:i};return" j(){var="" j?(k.region='j,a.get(b.getApiUrl()+c.mediaPreview,{params:k}).then(e,f)):a.get(b.getApiUrl()+c.media,{params:k}).then(e,f)};return{get:g}}]),GF.app.factory("gfMerchandising",["$http","gfError","gfUrl","gfApiConfig","gfNavigation","$rootScope","$location",function(a,b,c,d,e,f,g){function' k="{productid:d,pageSize:h,pageIndex:i,type:g};return" k(b){isnan(b)?{promotionname:b}:{id:b};return="" l(b){isnan(b)?{promotionname:b}:{id:b};return="" m(){return="" n(){return="" o(){return="" p(a){return="" q(a){return="" v="function(){return" z='$.extend({},{pagesize:b.size,pageindex:b.index},{"platform[]":t},{"genre[]":u},{"publisher[]":v},{collection:w},{"esrb[]":j.psQuery},c.query,j.query,f.query,n(m,f),p,{bestselling:q},o(r),{promotionsSize:s},{"drm_types[]":x},{d2d_plus:y});if(h.current.templateUrl===i.home){if(void'>j()&amp;&amp;a<k()},n=function(){return a="" angular.isdefined(a.gf.account)&&null!='a.gf.account?a.gf.account[h()]===!0:!1};return{campaign:g,currentCampaignName:h,modalName:i,campaignStartDate:j,campaignEndDate:k,bonusHours:l,onCampaign:m,showCampaign:n,redeemed:o}}]),GF.app.factory("trialCampaign",["$rootScope","$http","gfError","gfDebug","gfAccountManager",function(a,b,c,d,e){var' f="Date.now(),g={startDate:f,endDate:f};e.trialCampaign().then(function(a){angular.isDefined(a.data.campaign)&amp;&amp;(g.startDate=Date.parse(a.data.campaign.startDate),g.endDate=Date.parse(a.data.campaign.endDate))},function(){});var" g.enddate},l="function(){var" g.startdate},k="function(){return" h='function(){return"freeTrialEvent"},i=function(){return"freeSubscriptionTrial"},j=function(){return' m()?angular.isdefined(a.gf.account)&&null!="a.gf.account?a.gf.account[h()]!==!0:!0:!1},o=function(){return">j()&amp;&amp;a<k()},m=function(){return a.scale&&(a.scalex&&(b.scalex='a.scaleX),a.scaleY&amp;&amp;(b.scaleY=a.scaleY)),a.fade&amp;&amp;(b.alpha=0),a.slide&amp;&amp;(a.slideX&amp;&amp;(b.left=(a.slideX&lt;0?"-=":"+=")+Math.abs(a.slideX)),a.slideY&amp;&amp;(b.top=(a.slideY&lt;0?"-=":"+=")+Math.abs(a.slideY))),b},getPositions:function(a,b,c,d){var' angular.isdefined(a.gf.account)&&null!='a.gf.account?a.gf.account[h()]===!0:!1};return{campaign:g,currentCampaignName:h,modalName:i,campaignStartDate:j,campaignEndDate:k,onCampaign:l,showCampaign:m,redeemed:n}}]),GF.app.factory("gfAnimator",["gfAsset",function(){return{getProperties:function(a){var' b="{};return" c.width()="" e="{},f=1200,g=0;return" l()?angular.isdefined(a.gf.account)&&null!="a.gf.account?a.gf.account[h()]!==!0:!0:!1},n=function(){return">f&amp;&amp;(g=(c.width()-f)/2),e.zIndex=d,e.maxWidth=b[0].width,a&amp;&amp;(null!==a.top&amp;&amp;(e.top=a.top),null!==a.right&amp;&amp;(e.right="50%",e.marginRight=-(c.width()/2)+g+a.right),null!==a.left&amp;&amp;(e.left="50%",e.marginLeft=-(c.width()/2)+g+a.left),"horizontalCenter"in a&amp;&amp;(e.left="50%",e.marginLeft=-b[0].width/2+a.horizontalCenter)),e}}}]),GF.app.factory("gfApplicationTask",["$timeout","$window","$compile","$rootScope","$cookieStore","gfChannel","gfDebug","gfError","gfModalManager","gfNavigation","gfAuthManager","$route","$location","gfUrlConfig","gfVip","streamingCampaign","streamingService","trialCampaign","gfUbisoftRedeem",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){return d.gf.account?"yes":"no"}var u=function(){g.log("gfApplicationtask registers pixeleze tracking event"),d.$on("GF_EVENT_PIXELEZE_TRACKING",function(a,b){return}),g.log("gfApplicationtask registers channel ready event"),d.$on("GF_EVENT_CHANNEL_READY",function(a,b){g.log("Event Channel Ready caught",b),b.isSuccess?(d.gf.channelReady=!0,e.get("token")&amp;&amp;k.authLogin(e.get("token")).then(function(){},function(){e.remove("token")})):d.gf.channelReady=!1}),g.log("gfApplicationtask registers deeplinking event"),d.$on("GF_EVENT_DEEPLINKING_GFDC",function(a,c){d.$watch("gf.channelReady",function(a){a&amp;&amp;(c.isHttp&amp;&amp;d.$emit("GF_EVENT_TRACKINGDATA",{udo:{event_category:GF.constant.eventcategory,event_value:1,event_action:"click Download With HTTP",event_label:j.getPlatform().title}}),f.getDownloadLocations(c.skuIds,c.fileType,c.isHttp).then(function(a){if($.isArray(a)&amp;&amp;a.length&gt;0&amp;&amp;$.isArray(a[0].locations)&amp;&amp;a[0].locations.length&gt;0){var c=a[0].locations[0];"LocationAvailable"===c.locationStatus?(g.log("Deep Linking Url",a[0].locations[0].url),b.location=a[0].locations[0].url):"PreorderPendingRelease"===c.locationStatus?d.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:"This pre-order is not available yet. For more information please contact Direct2Drive Customer Support."}):d.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:"A problem occurred downloading this game. For more information please contact Direct2Drive Customer Support."})}else d.$emit("GF_EVENT_OPENMESSAGE",{type:"Error",body:"A problem occurred downloading this game. For more information please contact Direct2Drive Customer Support."})},function(a){h.handleApiError(a)}))}),d.$safeApply()}),g.log("gfApplicationtask registers firstvisit event"),d.$on("GF_EVENT_FIRST_VISIT",function(){i.get("firstVisit",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers close firstvisit event"),d.$on("GF_EVENT_CLOSE_FIRST_VISIT",function(){var a=i.find("firstVisit");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers firsvisitcoupon event"),d.$on("GF_EVENT_FIRST_VISIT_COUPON",function(){i.get("firstVisitCoupon",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers close firsvisitcoupon event"),d.$on("GF_EVENT_CLOSE_FIRST_VISIT_COUPON",function(){var a=i.find("firstVisitCoupon");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers close subscribe event"),d.$on("GF_EVENT_CLOSE_SUBSCRIBE",function(){var a=i.find("subscribe");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers open subscribe ok"),d.$on("GF_EVENT_SUBSCRIBE_OK",function(){i.get("subscribe-success",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers openlogin event"),d.$on("GF_EVENT_OPENLOGIN",function(){i.get("login",!0).then(function(a){d.resendBtn=!1,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers account unconfirmed notice event"),d.$on("GF_EVENT_ACCOUNT_UNCONFIRMED",function(a,b){d.resendBtn=!0,d.$emit("GF_EVENT_UNCONFIRMED_MSG",{type:b.type,body:b.body})}),g.log("gfApplicationtask registers open checkout event"),d.$on("GF_EVENT_OPEN_CHECKOUT",function(){i.get("checkout",!0).then(function(b){c(b.contents())(d),b.modal("show"),$(".modal-backdrop").bind("click",function(){d.$broadcast("GF_EVENT_UPDATECART")}),$("#paywall-form").attr("action",d.call_url),a(function(){$("#paywall-form").submit()},300)})}),g.log("gfApplicationtask registers close checkout event"),d.$on("GF_EVENT_CLOSE_CHECKOUT",function(){var a=i.find("checkout");null!==a&amp;&amp;a.modal("hide")}),d.$on("GF_EVENT_FORGET_PASSWORD",function(){i.get("forgetPassword",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),d.$on("GF_EVENT_SIGNUP_SUCCESS",function(){i.get("signupSuccessConfirm",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),d.$on("GF_EVENT_CLOSE_SIGNUP_SUCCESS",function(){var a=i.find("signupSuccessConfirm");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers show key event"),d.$on("GF_EVENT_SHOW_KEY",function(a,b){i.get("showKey",!0).then(function(a){d.inventory=b,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers show ADS DRM activation instruction event"),d.$on("GF_EVENT_SHOW_ADS_DRM_INSTRUCTION",function(a,b){i.get("showAdsDrmInstruction",!0).then(function(a){d.inventory=b,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask initiate trade in event"),d.$on("GF_EVENT_INITIATE_TRADE_IN",function(a,b){i.get("startTradeIn",!0).then(function(a){d.gf.tradeInItem=b,c(a.contents())(d),a.modal({backdrop:"static",keyboard:!1}),a.on("hidden",function(){d.$broadcast("GF_EVENT_CLOSE_INITIATE_TRADE_IN")}),a.modal("show")})}),g.log("gfApplicationtask close initiate trade in event"),d.$on("GF_EVENT_CLOSE_INITIATE_TRADE_IN",function(){var a=i.find("startTradeIn");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask trade in failed event"),d.$on("GF_EVENT_TRADE_IN_FAILED",function(){var a=i.find("startTradeIn");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask trade in complete event"),d.$on("GF_EVENT_TRADE_IN_COMPLETE",function(){var a=i.find("startTradeIn");null!==a&amp;&amp;a.modal("hide"),i.get("tradeInComplete",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask ADS DRM reminder event"),d.$on("GF_EVENT_ADS_DRM_REMINDER",function(a,b){i.get("adsDrmReminder",!0).then(function(a){d.gf.message=b,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask close ADS DRM reminder event"),d.$on("GF_EVENT_CLOSE_ADS_DRM_REMINDER",function(){var a=i.find("adsDrmReminder");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask close usage tracking event"),d.$on("GF_EVENT_CLOSE_USAGE_TRACKING",function(){var a=i.find("usageTracking");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers closelogin event"),d.$on("GF_EVENT_CLOSELOGIN",function(){var a=i.find("login");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers close forget password event"),d.$on("GF_EVENT_CLOSE_FORGET_PASSWORD",function(){var a=i.find("forgetPassword");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers loginsuccess event"),d.$on("GF_EVENT_LOGIN_SUCCESS",function(){var a=i.find("login");null!==a&amp;&amp;a.modal("hide"),"/registration"===l.current.$$route.originalPath&amp;&amp;m.path(d.previousLocation),void 0!==d.redirect_url&amp;&amp;(m.path(d.redirect_url),d.redirect_url=void 0),d.gf.account[p.currentCampaignName()]!==!0&amp;&amp;e.get(p.modalName())!==!0&amp;&amp;p.onCampaign()&amp;&amp;d.$emit("GF_EVENT_OPEN_CAMPAIGN",{name:p.modalName(),bonusHours:p.bonusHours()}),d.gf.account[r.currentCampaignName()]===!0&amp;&amp;e.get(r.modalName())!==!0&amp;&amp;r.onCampaign()&amp;&amp;d.$emit("GF_EVENT_OPEN_TRIAL_CAMPAIGN",{name:r.modalName(),info:r.campaign})}),d.$on("GF_EVENT_LOGOUT_SUCCESS",function(){e.remove(p.modalName()),e.remove(r.modalName()),o.setVipTier()}),g.log("gfApplicationtask registers openmessage event"),d.$on("GF_EVENT_OPENMESSAGE",function(a,b,e){i.get("message",!0).then(function(a){d.gf.message=b,c(a.contents())(d),a.modal("show"),$("#message").off("hidden.bs.modal"),"function"==typeof e&amp;&amp;$("#message").on("hidden.bs.modal",function(){e()})})}),g.log("gfApplicationtask open rental message event"),d.$on("GF_EVENT_OPEN_RENTAL_MESSAGE",function(a,b){i.get("rentalMessage",!0).then(function(a){d.gf.message=b,c(a.contents())(d),a.modal({backdrop:"static",keyboard:!1}),a.modal("show"),$("#rental-message").off("hidden.bs.modal")})}),g.log("gfApplicationtask close rental message event"),d.$on("GF_EVENT_CLOSE_RENTAL_MESSAGE",function(){var a=i.find("rentalMessage");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask account unconfirmed event"),d.$on("GF_EVENT_UNCONFIRMED_MSG",function(a,b,e){i.get("unconfirmMsg",!0).then(function(a){d.gf.message=b,c(a.contents())(d),a.modal("show"),$("#unconfirmMsg").off("hidden.bs.modal"),"function"==typeof e&amp;&amp;$("#unconfirmMsg").on("hidden.bs.modal",function(){e()})})}),g.log("gfApplicationtask registers open download files event"),d.$on("GF_EVENT_OPEN_DOWNLOAD_FILES",function(a,b){i.get("downloadFiles",!0).then(function(a){d.files=b.files,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers opendownload event"),d.$on("GF_EVENT_OPENDOWNLOAD",function(a,b){"true"===localStorage.hasDownloader||b.isHttp?d.$emit("GF_EVENT_DEEPLINKING_GFDC",b):i.get("download",!0).then(function(a){d.gf.action=b,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers client not installed detected event"),d.$on("GF_EVENT_CLIENT_NOT_INSTALLED",function(a,b){i.get("clientNotInstalled",!0).then(function(a){d.gf.download_client_link=GF.Gon.setting.streaming_download_url,d.gf.message=b,a.modal({backdrop:"static",keyboard:!1}),c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers D2D client not installed detected event"),d.$on("GF_EVENT_D2D_CLIENT_NOT_INSTALLED",function(a,b){i.get("d2dClientNotInstalled",!0).then(function(a){d.gf.download_client_link=GF.Gon.setting.d2d_client_download_url,d.gf.message=b,a.modal({backdrop:"static",keyboard:!1}),c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers user have already play the trial event"),d.$on("GF_EVENT_NO_TRIAL",function(a,b){i.get("message",!0).then(function(a){d.gf.message=b,c(a.contents())(d),a.modal("show"),$("#message").off("hidden.bs.modal")})}),g.log("gfApplicationtask registers open campaign event"),d.$on("GF_EVENT_OPEN_CAMPAIGN",function(a,b){var f=b.name;e.put(f,!0),i.get(f,!0).then(function(a){d.gf.campaign=b,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers close campaign event"),d.$on("GF_EVENT_CLOSE_CAMPAIGN",function(a,b){var c=b.name,d=i.find(c);null!==d&amp;&amp;d.modal("hide")}),g.log("gfApplicationtask registers open trial campaign event"),d.$on("GF_EVENT_OPEN_TRIAL_CAMPAIGN",function(a,b){var f=b.name;e.put(f,!0),i.get(f,!0).then(function(a){d.gf.trialCampaign=b,c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers close trial campaign event"),d.$on("GF_EVENT_CLOSE_TRIAL_CAMPAIGN",function(a,b){var c=b.name,d=i.find(c);null!==d&amp;&amp;d.modal("hide")}),g.log("gfApplicationtask open gdpr event"),d.$on("GF_EVENT_OPEN_GDPR_CONFIRMATION",function(){i.get("gdprConfirmation",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask close gdpr event"),d.$on("GF_EVENT_CLOSE_GDPR_CONFIRMATION",function(){var a=i.find("gdprConfirmation");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask open un-subscription event"),d.$on("GF_EVENT_OPEN_UP_SUBSCRIPTION",function(){i.get("unSubscribe",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask close un-subscription event"),d.$on("GF_EVENT_CLOSE_UP_SUBSCRIPTION",function(){var a=i.find("unSubscribe");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask open un-subscription-complete event"),d.$on("GF_EVENT_OPEN_UP_SUBSCRIPTION_COMPLETE",function(){i.get("unSubscribeComplete",!0).then(function(a){c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask close un-subscription-complete event"),d.$on("GF_EVENT_CLOSE_UP_SUBSCRIPTION_COMPLETE",function(){var a=i.find("unSubscribeComplete");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask open rental event"),d.$on("GF_EVENT_OPEN_RENTAL",function(a,b){i.get("rental",!0).then(function(a){d.gf.rentalCheckoutProduct=b,c(a.contents())(d),a.modal({backdrop:"static",keyboard:!1}),a.modal("show")})}),g.log("gfApplicationtask close rental event"),d.$on("GF_EVENT_CLOSE_RENTAL",function(){var a=i.find("rental");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers explain switching server event"),d.$on("GF_EVENT_EXPLAIN_SWITCH_SRV",function(){i.get("switchSrvBetterUx",!0).then(function(a){c(a.contents())(d),a.modal({backdrop:"static",keyboard:!1}),a.on("hidden",function(){d.$broadcast("GF_EVENT_CANCEL_SWITCH_SRV")}),a.modal("show")})}),g.log("gfApplicationtask registers cancel switch server event"),d.$on("GF_EVENT_CANCEL_SWITCH_SRV",function(){var a=i.find("switchSrvBetterUx");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers switch server confirmation event"),d.$on("GF_EVENT_OPEN_CONFIRM_SWITCH_SRV",function(){i.get("switchSrvConfirmation",!0).then(function(a){c(a.contents())(d),a.modal({backdrop:"static",keyboard:!1}),a.on("hidden",function(){d.$broadcast("GF_EVENT_CANCEL_CONFIRM_SWITCH_SRV")}),a.modal("show")})}),g.log("gfApplicationtask registers switch server cancel confirmation event"),d.$on("GF_EVENT_CANCEL_CONFIRM_SWITCH_SRV",function(){var a=i.find("switchSrvConfirmation");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers switch server all set event"),d.$on("GF_EVENT_SWITCH_SRV_DONE",function(){i.get("switchSrvAllSet",!0).then(function(a){c(a.contents())(d),a.modal({backdrop:"static",keyboard:!1}),a.on("hidden",function(){d.$broadcast("GF_EVENT_CLOSE_SWITCH_SRV_DONE")}),a.modal("show"),e.get("token")&amp;&amp;k.authLogin(e.get("token")).then(function(){},function(){e.remove("token")})})}),g.log("gfApplicationtask registers switch server switch server done event"),d.$on("GF_EVENT_CLOSE_SWITCH_SRV_DONE",function(){var a=i.find("switchSrvAllSet");null!==a&amp;&amp;a.modal("hide")}),g.log("gfApplicationtask registers usage tracking event"),d.$on("GF_EVENT_USAGE_TRACKING_CONTROLLED",function(a,b){i.get("usageTracking",!0).then(function(a){d.gf.message=b,a.modal({backdrop:"static",keyboard:!1}),c(a.contents())(d),a.modal("show")})}),g.log("gfApplicationtask registers trigger launch cloud play event"),d.$on("GF_EVENT_LAUNCH_CLOUD_PLAY",function(a,b){g.log("Launching Cloud Play: ",JSON.stringify(b)),q.launchCloudPlay(b)}),g.log("gfApplicationtask registers trigger launch instant play event"),d.$on("GF_EVENT_LAUNCH_INSTANT_PLAY",function(a,b){g.log("Launching Instant Play: ",JSON.stringify(b)),q.launchInstantPlay(b)}),d.$on("tokenHasExpired",function(){b.location.reload()}),g.log("gfActionUbisoftRedeem open ubisoft login iframe event"),d.$on("GF_EVENT_UBISOFT_LOGIN",function(a,b){var e=GF.Gon.ubisoft.appId,f=GF.Gon.ubisoft.genomeId,g=encodeURIComponent(window.location.href),h=GF.Gon.ubisoft.url+"/login",j="en-US";"undefined"!=typeof navigator.languages?j=navigator.languages[0]:"undefined"!=typeof navigator.language&amp;&amp;(j=navigator.language);var k=h+"?appId="+e+"&amp;genomeId="+f+"⟨="+j+"&amp;nextUrl="+g;i.get("ubisoftLogin",!0).then(function(a){a.find("iframe").attr("src",k),a.find("iframe").on("load",function(){try{this.contentWindow.location.href===window.location.href&amp;&amp;(a.modal("hide"),d.$broadcast("GF_EVENT_UBISOFT_REDEEM",b))}catch(c){}}),c(a.contents())(d),a.modal("show"),$(".modal-backdrop").bind("click",function(){"function"==typeof b&amp;&amp;b("cancel")
})})}),g.log("gfActionUbisoftRedeem log out of ubisoft account event"),d.$on("GF_EVENT_UBISOFT_LOGOUT",function(a,b){d.connectSDK?d.connectSDK.getTicket().subscribe(function(a){"ok"===a.status?d.connectSDK.logout(a.payload.ticket,a.payload.sessionId).subscribe(function(){d.connectSDK=null,"function"==typeof b&amp;&amp;b()}):"function"==typeof b&amp;&amp;b()}):"function"==typeof b&amp;&amp;b()}),g.log("gfActionUbisoftRedeem ubisoft env init event"),d.$on("GF_EVENT_UBISOFT_CONNECT_INIT",function(a,b){var c=encodeURIComponent(window.location.href),e="en-US";"undefined"!=typeof navigator.languages?e=navigator.languages[0]:"undefined"!=typeof navigator.language&amp;&amp;(e=navigator.language),window.Connect.init({env:GF.Gon.ubisoft.env,appId:GF.Gon.ubisoft.appId,genomeId:GF.Gon.ubisoft.genomeId,lang:e,nextUrl:c,thirdPartyCookiesSupport:!1}),window.Connect.sdk.subscribe(function(a){d.connectSDK=a,d.$broadcast("GF_EVENT_UBISOFT_LOGIN",b)})}),g.log("gfActionUbisoftRedeem ubisoft redeem event"),d.$on("GF_EVENT_UBISOFT_REDEEM",function(a,b){d.connectSDK&amp;&amp;d.connectSDK.getTicket().subscribe(function(a){if("ok"===a.status){var c={transaction_id:d.redeemID,user_id:a.payload.userId,user_ticket:a.payload.ticket};s.redeem(c).then(function(a){"function"==typeof b&amp;&amp;b("success",a.items)},function(a){console.log(a),"function"==typeof b&amp;&amp;b("failed")})}else d.$broadcast("GF_EVENT_UBISOFT_LOGIN",b)})})},v=function(){d.$on("GF_EVENT_TRACKINGDATA",function(a,b){if(window.utag){var c=b.udo;c&amp;&amp;(c.account_member=t(),window.utag.view(c))}}),d.$on("$routeChangeSuccess",function(a,b){window.utag&amp;&amp;"productDetail"!==b.pageType&amp;&amp;window.utag.view({account_member:t()})})};return{init:function(){u(),v()}}}]),GF.app.factory("gfAuthInterceptor",["$rootScope","$q","$location","$cookieStore","$injector","gfApiConfig","gfUrl",function(a,b){return{request:function(b){return b.headers=b.headers||{},b.headers.fp=btoa(a.gf.fingerprint),b},responseError:function(a){return b.reject(a)}}}]),GF.app.factory("gfAuthManager",["$rootScope","$q","$cookieStore","$injector",function(a,b,c,d){var e,f,g,h,i=[],j=[],k=function(b,e){return h=h||d.get("gfChannel"),h.signUp(b,e).then(function(b){b&amp;&amp;b.account&amp;&amp;(a.gf.account=b.account,c.put("token",b.account.token),a.$emit("GF_EVENT_LOGIN_SUCCESS"),i.length&gt;0?s():u())})},l=function(b,e){return h=h||d.get("gfChannel"),h.login(b,e).then(function(b){b&amp;&amp;b.account&amp;&amp;(a.gf.account=b.account,c.put("token",b.account.token),a.$emit("GF_EVENT_LOGIN_SUCCESS"),i.length&gt;0?s():u())})},m=function(b){return h=h||d.get("gfChannel"),h.authLogin(b).then(function(b){b&amp;&amp;b.account?(a.gf.account=b.account,c.put("token",b.account.token),a.$emit("GF_EVENT_LOGIN_SUCCESS"),i.length&gt;0?s():u()):(c.remove("token"),u())})},n=function(){return h=h||d.get("gfChannel"),g=g||d.get("$auth"),h.logout().then(function(){a.$broadcast("GF_EVENT_UBISOFT_LOGOUT",function(){a.gf.account=null,a.premium=null,c.remove("token"),g.logout(),a.$broadcast("GF_EVENT_LOGOUT_SUCCESS"),a.$emit("GF_EVENT_UPDATECART",{cart:{cart:[]}}),u()})})},o=function(){i=[],j=[],a.$emit("GF_EVENT_CLOSELOGIN")},p=function(){a.$emit("GF_EVENT_FORGET_PASSWORD")},q=function(){a.$emit("GF_EVENT_CLOSE_FORGET_PASSWORD")},r=function(c,d,f){return void 0===f&amp;&amp;(f=b.defer()),e=a.gf.account,j.push(f.promise),i.push({apiPromise:f,apiCallConfig:c,apiSecure:d}),f.promise},s=function(){b.all(j).then(function(){j=[],v()&amp;&amp;u()});for(var a=0;a<i.length;a++)i[a].apicallconfig.headers.authorization="bearer "='a[0]?c()+a:c()+"/"+a:void' "+b},c="function(){return" "+c.get("token"),t(i[a]);i='[]},t=function(a){a.apiSecure?(h=h||d.get("gfChannel"),h.repostSecureCall(a.apiCallConfig)):(f=f||d.get("$http"),f(a.apiCallConfig).then(function(b){a.apiPromise.resolve(b)}))},u=function(){a.$broadcast("GF_EVENT_REFRESH_ACCOUNT_DATA")},v=function(){return' "+gf.gon.setting.assetdomain+"="" "+gf.gon.setting.assetdomain:"http:="" "},b="function(b){return" "},d="function(a){return" 0},e="function(){return" a="function(){return" a()+"="" a?"="" c.get("token")?!0:json.stringify(e)!='JSON.stringify(a.gf.account)};return{signUp:k,login:l,forgetPassword:p,closeForgetPassword:q,authLogin:m,logout:n,cancelLogin:o,registerPostLoginApi:r,isLogin:v}}]),GF.app.factory("gfAsset",function(){var' cdn.direct2drive.com="" client":"="" date).getfullyear()},f="function(a){if(!a.previewUrl&amp;&amp;a.sources.length" digital="" gf.gon&&gf.gon.setting&&gf.gon.setting.assetdomain?"="" gf.gon&&gf.gon.setting&&gf.gon.setting.currentyear?gf.gon.setting.currentyear:(new="" images="">0){var b=a.sources[a.sources.length-1].url;if(/https:\/\/youtu.be/.test(b)===!0){var c=b.match(/youtu\.be\/(.*)/);return"https://img.youtube.com/vi/"+c[1]+"/default.jpg"}}return a.previewUrl};return{getAssetClientDomain:a,getAssetClientPath:b,getAssetDomain:c,getAssetPath:d,getCurrentYear:e,getVideoPreviewUrl:f}}),GF.app.factory("gfDDL",["$rootScope","ddlPrice","ddlEsrb","ddlFeaturedTab","ddlReleaseDate","ddlSort","ddlUserRating","gfNavigation",function(a,b,c,d,e,f,g,h){var i=function(g,h){switch(g=g||a.gf.siteId||1,h){case"price":return g in b||(g=1),b[g];case"esrb":return g in c||(g=1),c[g];case"featuredTab":return g in d||(g=1),d[g];case"releaseDate":return g in e||(g=1),e[g];case"sort":return g in f||(g=1),f[g]}};return{getPrices:function(a){return i(a,"price")},getEsrbs:function(a){return i(a,"esrb")},getFeaturedTabs:function(a){var b=i(a,"featuredTab"),c=b.slice(),d=h.getSection(),e=d?d.code:null;if("20"===e)for(var f=c.length-1;f&gt;0;f--)("PreOrders"===c[f].value||"Bundles"===c[f].value)&amp;&amp;c.splice(f,1);return c},getReleaseDates:function(a){return i(a,"releaseDate")},getUserRatings:function(a){return i(a,"userRating")},getSorts:function(a){return i(a,"sort")},get:function(a,b){return i(b,a)}}}]),GF.app.factory("gfDebug",function(){var a=function(){return GF.Gon&amp;&amp;GF.Gon.setting&amp;&amp;GF.Gon.setting.isDebug},b=function(){if(a()&amp;&amp;localStorage.debugLevel&gt;=4){var b=Array.prototype.slice.call(arguments);b.unshift("DEBUG"),log(b)}},c=function(){if(a()&amp;&amp;localStorage.debugLevel&gt;=3){var b=Array.prototype.slice.call(arguments);b.unshift("INFO"),log(b)}},d=function(){if(a()&amp;&amp;localStorage.debugLevel&gt;=2){var b=Array.prototype.slice.call(arguments);b.unshift("WARNING"),log(b)}},e=function(){if(a()&amp;&amp;localStorage.debugLevel&gt;=1){var b=Array.prototype.slice.call(arguments);b.unshift("ERROR"),log(b)}};return{log:b,debug:b,info:c,warn:d,error:e}}),GF.app.factory("gfError",["$location","$rootScope","gfDebug",function(a,b,c){return{handleApiError:function(d){c.warn("Web API Error",d.status,d),404===d.status?a.path("/404").replace():401===d.status?b.$broadcast("GF_EVENT_OPENLOGIN"):400===d.status?a.path("/400").replace():403===d.status||409===d.status||(503===d.status?a.path("/maintenance").replace():500&lt;=d.status&amp;&amp;d.status&lt;600?a.path("/error").replace():0===d.status||(c.error("Unknown HTTP Status",d),a.path("/error").replace()))}}}]),GF.app.factory("$exceptionHandler",["gfDebug",function(a){return function(b,c){a.error(b,b.stack,c)}}]),GF.app.factory("gfHttpInterceptor",["$rootScope","$q","gfAuthManager","$injector","$cookieStore",function(a,b,c,d,e){return{responseError:function(d){return 401===d.status?(a.gf.account=null,e.remove("token"),a.$emit("GF_EVENT_UPDATECART",{cart:{cart:[]}}),a.$broadcast("GF_EVENT_REFRESH_ACCOUNT_DATA"),a.$broadcast("GF_EVENT_OPENLOGIN"),c.registerPostLoginApi(d.config,!1)):b.reject(d)},response:function(b){var c=d.get("$http"),e=d.get("$timeout");return c.pendingRequests.length&lt;1&amp;&amp;e(function(){c.pendingRequests.length&lt;1&amp;&amp;a.htmlReady()},1e3),b}}}]),GF.app.factory("gfModalManager",["$timeout","$q","gfPartialConfig","gfDebug","gfTemplate",function(a,b,c,d,e){var f=$("#gf-modals");return{get:function(g,h){var i=b.defer();return a(function(){var a=c.modal[g];if(a){var b="#"+g,j=f.find(b);j.data("modal")&amp;&amp;j.data("modal").isShown?(d.warn("Modal is already shown!",b),i.reject(null)):!h&amp;&amp;j.length&gt;0?i.resolve(j):e.get(a).then(function(a){a&amp;&amp;(h&amp;&amp;j.remove(),f.append(a),i.resolve(f.find(b)))})}else d.warn("TemplateId NOT found!"),i.reject(null)},1),i.promise},find:function(a){if(c.modal[a]){var b=f.find("#"+a);return b.data("modal")&amp;&amp;b.data("modal").isShown?b:null}}}}]),GF.app.factory("gfNavigation",["$rootScope","$location","gfUrlConfig","gfDebug","gfGenre","gfAccountManager","gfPartialConfig","$timeout","$route","$q",function(a,b,c,d,e,f,g,h,i,j){function k(b){var c=a.gf.navigation;if(c&amp;&amp;c[b])for(var d=0;d<c[b].length;d++)if(c[b][d].isactive)return 0!="a.gf.navigation?a.gf.navigation.genres:[],publishers:[]},g?(g.platforms&amp;&amp;$.each(g.platforms,function(b,d){var" a.gf.navigation="{platforms:[],sections:[],genres:void" c.groups||(f="1);var" c[b][d];return="" f="$.extend({},c.links[d]);$.inArray(d,e.actives)" g="c.groups[f][e.group];return" in="" l(e){var="" null}function="">-1&amp;&amp;(f.isActive=!0,a.platform_url=f.url,localStorage.platformId=f.code,localStorage.defaultPath=f.path),a.gf.navigation.platforms.push(f)}),c.publishers&amp;&amp;$.each(c.publishers,function(b,d){var f=$.extend({},c.links[d]);$.inArray(d,e.actives)&gt;-1&amp;&amp;(f.isActive=!0,a.publisher_url=f.url,localStorage.publisherId=f.code,localStorage.defaultPath=f.path),a.gf.navigation.publishers.push(f)}),g.sections&amp;&amp;$.each(g.sections,function(b,d){var f=$.extend({},c.links[d]);$.inArray(d,e.actives)&gt;-1&amp;&amp;(f.isActive=!0,g.genres&amp;&amp;(f.showArrow=!0)),a.gf.navigation.sections.push(f)}),void m()):(d.warn("gfNavigation group NOT found, redirecting to 404"),b.path("/404").replace(),null)}function m(){a.gf.navigation.genres.length&gt;0?n(a.gf.navigation.genres):o().then(function(a){n(a)})}function n(b){$.each(b,function(b,c){var d=c.genre_name.toString();d=d.replace(/( |\/)/g,"-"),c.url="/download/"+d,d===i.current.params.genre?(a.setGenreId(c.genre_id),console.error("genre_id = "+a.gf.genre_id),c.isActive=!0):c.isActive=!1}),void 0===i.current.params.genre&amp;&amp;(a.gf.genre_id=a.gf.navigation.genres[0].genre_id,a.gf.navigation.genres[0].isActive=!0)}function o(){if(0===a.gf.navigation.genres.length)return e.get().then(function(b){return a.gf.navigation.genres.length=0,$.each(b.items,function(b,c){a.gf.navigation.genres.push(c)}),b.items});var b=j.defer();return b.resolve(a.gf.navigation.genres),b.promise}function p(a){switch(a=parseInt(a,10)){case 1100:l(c["pc-default"]);break;case 1200:l(c["mac-default"]);break;default:l(c["pc-default"])}}return a.d2d_client_download_url=GF.Gon.setting.d2d_client_download_url,a.setGenreId=function(b){a.gf.genre_id=b},{init:function(){var e=b.path();if(e){d.log("gfNavigation initializing",e);var f=c[e.toLowerCase()];if(f)l(f);else{var g="mac"===e.split("/")[1]?1200:1100;localStorage.platformId=g,p(localStorage.platformId)}}a.gf.electron=navigator.userAgent.toLowerCase().indexOf("electron/")&gt;-1,a.navStatus=a.gf.disableNotice,a.disableNav=function(){a.gf.disableNotice=!0,a.navStatus=a.gf.disableNotice}},reset:function(a){a&amp;&amp;(d.log("gfNavigation resetting",a),p(a))},getPlatform:function(){var a=k("platforms");return a?a:c.links[1e4]},getSection:function(){var a=k("sections");return a?a:c.links[10100]},getGenre:function(){var a=k("genres");return a?a:c.links[10101]},checkGenre:function(){if(void 0===i.current.params.genre&amp;&amp;a.gf.navigation.genres.length){var b=a.gf.navigation.genres[0].genre_id;a.setGenreId(b)}_(a.gf.navigation.genres).forEach(function(b){b.isActive=a.gf.genre_id===b.genre_id})}}}]),GF.app.factory("gfResource",["$rootScope","gfResourceConfig","gfAsset",function(a,b,c){return{get:function(d,e,f){return f=f||a.gf.siteId||1,f in b&amp;&amp;b[f][d]||(f=1),e?c.getAssetPath(b[f][d]):b[f][d]}}}]),GF.app.factory("gfSeo",["gfSeoConfig",function(a){return{getSeoData:function(b,c,d){if(c){d in a||(d=1),a[d][c.pageType]||(c.pageType="default");var e=a[d][c.pageType];if(e){var f,g;if(e.isTemplate&amp;&amp;b)return g=GF.tmpl(JSON.stringify(e),b),JSON.parse(g);if(e.isTemplate){if(!c.title)return"";if(c.keys&amp;&amp;c.keys.length&gt;=1){var h=c.keys[0].name,i=c.params[h];f=c.title.replace(":"+h,i)}else f=c.title;return b={TITLE:f,DESCRIPTION:c.description},g=GF.tmpl(JSON.stringify(e),b),JSON.parse(g)}return e}}}}}]),GF.app.factory("gfStorage",function(){return{get:function(a){return JSON.parse(localStorage.getItem(a))},put:function(a,b){"string"==typeof b?localStorage.setItem(a,b):localStorage.setItem(a,JSON.stringify(b))},remove:function(a){localStorage.removeItem(a)},init:function(a){var b=this.get(a);return b||(b={},this.put(a,b)),b}}}),GF.app.factory("gfTemplate",["$templateCache","$q","$http","$rootScope","$timeout","gfDebug",function(a,b,c,d,e,f){return{get:function(g){var h=b.defer();return a.get(g)?e(function(){h.resolve(a.get(g))},1):d.$safeApply(function(){c.get(g).success(function(b){f.log("Template fetched via $http.",g),a.put(g,b),h.resolve(b)}).error(function(){f.warn("Template fetched via $http FAILED."),h.reject(null)})}),h.promise}}}]),GF.app.factory("gfUrl",function(){var a=function(a,c){return c?"https:"+b()+"/"+a:"http:"+b()+"/"+a},b=function(){return GF.Gon&amp;&amp;GF.Gon.setting&amp;&amp;GF.Gon.setting.digitalDomain?"//"+GF.Gon.setting.digitalDomain:"//cdn.direct2drive.com"},c=function(){return GF.Gon&amp;&amp;GF.Gon.setting&amp;&amp;GF.Gon.setting.apiUrl?GF.Gon.setting.apiUrl:"//cdn.direct2drive.com"},d=function(){return GF.Gon&amp;&amp;GF.Gon.setting&amp;&amp;GF.Gon.setting.retailDomain?"//"+GF.Gon.setting.retailDomain:"//www.direct2drive.com"},e=function(a){return a?"/registration":"/#!/registration"},f=function(a){return a?"/complete-registration":"/#!/complete-registration"},g=function(a,b,c){return b=b||"game",c?"/download-"+b.toLowerCase()+"/"+a:"/#!/download-"+b.toLowerCase()+"/"+a},h=function(a,b){return d()+"/Buy-"+b+"/"+a},i=function(a,b){return b?"/promotion/"+a:"/#!/promotion/"+a},j=function(a,b){return b?"/search?q="+a+"&amp;pf=PC":"/#!/search?q="+a+"&amp;pf=PC"},k=function(a,b,c){return b=b||"game",c?"/byob-"+b.toLowerCase()+"/"+a:"/#!/byob-"+b.toLowerCase()+"/"+a};return{getFullPath:a,getSignUpUrl:e,getSignUpCompleteUrl:f,getProductUrl:g,getPromotionUrl:i,getPublishersUrl:j,getByobUrl:k,getApiUrl:c,getRetailProductUrl:h,getRetailUrl:function(){return d()},getSupportUrl:function(){return"//support.direct2drive.com"},getCorporateUrl:function(){return"//www.atgames.net/"},getSitemapUrl:function(){return"/#!/sitemap"},getForgotPasswordUrl:function(){return d()+"/member/forgot-password"},getAccountUrl:function(){return"/#!/my-account"},getLoginUrl:function(){return d()+"/member/logon"},getCheckoutUrl:function(){return d()+"/checkout/default"},getNewsUrl:function(){return d()+"/news"},getHowItWorksUrl:function(){return d()+"/Features/HowItWorks"},getAboutUsUrl:function(){return"/#!/about-us"},getAffiliateProgramUrl:function(){return"/#!/about-us/affiliate-program"},getPrivacyPolicyUrl:function(){return"/#!/about-us/privacy-policy"},getTermsOfUseUrl:function(){return"/#!/about-us/terms-of-use"},getJobsUrl:function(){return d()+"/about-us/jobs"},getContactUsUrl:function(){return d()+"/support/index/contact"},getDownloadClientUrl:function(){return d()+""},getMobileAppUrl:function(){return d()+"/mobile"},getGiftCertificateUrl:function(){return d()+"/Gift-Certificate"},getRewardsUrl:function(){return d()+"/activity/rewards"},getWriterRumbleUrl:function(){return d()+"/mobile/writerrumble"},getBuyPS4Url:function(){return d()+"/store/ps4/"},getBuyPS3Url:function(){return d()+"/store/ps3/"},getBuyPSVitaUrl:function(){return d()+"/store/psvita/"},getBuyPS2Url:function(){return d()+"/store/ps2/"},getBuyPSPUrl:function(){return d()+"/store/psp-games/"},getBuyXboxOneUrl:function(){return d()+"/store/xbox-one/"},getBuyXbox360Url:function(){return d()+"/store/xbox-360/"},getBuyWiiUUrl:function(){return d()+"/store/Wii-U/"},getBuyWiiUrl:function(){return d()+"/store/Wii/"},getBuy3DSUrl:function(){return d()+"/store/nintendo-3ds/"},getBuyPreOrdersUrl:function(){return d()+"/buy-games/Browse/?cat=ComingSoon"},getRentPS4Url:function(){return d()+"/ps4/"},getRentPS3Url:function(){return d()+"/ps3/"},getRentPSVitaUrl:function(){return d()+"/psvita/"},getRentXboxOneUrl:function(){return d()+"/xbox-one/"},getRentXbox360Url:function(){return d()+"/xbox-360/"},getRentWiiUUrl:function(){return d()+"/Wii-U/"},getRentWiiUrl:function(){return d()+"/Wii/"},getRent3DSUrl:function(){return d()+"/nintendo-3ds/"},getRentDSUrl:function(){return d()+"/nintendo-ds/"},getRentMoreUrl:function(){return d()+"/more-platforms/"},getModifyParentalControlsLink:function(){return d()+"/account/parental-controls/"},getMoviesLink:function(){return d()+"/movies/"},getRewardsFaqUrl:function(){return"//support.direct2drive.com/customer/en/portal/articles/2925166-faq"},getRewardsTermsOfConditionsUrl:function(){return"//support.direct2drive.com/customer/en/portal/articles/2925198-terms-and-conditions"},getTradeInUrl:function(){return"/#!/pc/tradein"},getAdsdrmUrl:function(){return"/#!/pc/adsdrm"},getAdsdrmRentalUrl:function(){return"/#!/pc/adsdrm?pType=2"},getAdsdrmTradeInUrl:function(){return"/#!/pc/adsdrm?pType=1"}}}),GF.app.service("anchorSmoothScroll",function(){this.scrollTo=function(a){function b(){return this.pageYOffset?this.pageYOffset:document.documentElement&amp;&amp;document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function c(a){for(var b=document.getElementById(a),c=b.offsetTop,d=b;d.offsetParent&amp;&amp;d.offsetParent!==document.body;)d=d.offsetParent,c+=d.offsetTop;return c}var d=b(),e=c(a)-120,f=e&gt;d?e-d:d-e;if(100&gt;f)return void scrollTo(0,e);var g,h=Math.round(f/100);h&gt;=20&amp;&amp;(h=20);var i=Math.round(f/25),j=e&gt;d?d+i:d-i,k=0;if(e&gt;d)for(g=d;e&gt;g;g+=i)setTimeout("window.scrollTo(0, "+j+")",k*h),j+=i,j&gt;e&amp;&amp;(j=e,k++);else for(g=d;g&gt;e;g-=i)setTimeout("window.scrollTo(0, "+j+")",k*h),j-=i,e&gt;j&amp;&amp;(j=e,k++)}}),GF.app.factory("gfVip",["$rootScope","$cookieStore","gfAuthManager","gfAccountManager",function(a,b,c,d){var e=function(){d.vips().then(function(b){return a.gf.vips=[],$.each(b.data.tiers,function(b,c){a.gf.vips.push(c)}),a.gf.vips})},f=function(){var b=a.gf.account,c=0;c=void 0===b||null===b?0:b.vip_tier,void 0===a.gf.vips&amp;&amp;this.setVipTiers();var d=_.find(a.gf.vips,{tier:c});return a.gf.vip=d,d},g=function(){var b=a.gf.account,c=0;c=void 0===b||null===b?0:b.vip_tier,c+=1;var d=_.find(a.gf.vips,{tier:c});return d},h=function(b){return a.gf.vips=[],$.each(b,function(b,c){a.gf.vips.push(c)}),b},i=function(){b.get("token")&amp;&amp;c.authLogin(b.get("token")).then(function(){},function(){})};return{setVipTiers:e,setVipTier:f,getNextVipTier:g,setTiers:h,reloadAccount:i}}]),GF.app.factory("gfGdprMailOptin",["$http","gfUrl","gfApiConfig","gfError",function(a,b,c,d){var e=function(a){return a.data},f=function(a){return d.handleApiError(a),null},g=function(d){return a.post(b.getApiUrl()+c.optin,d).then(e,f)};return{subscribe:g}}]),GF.app.factory("streamingService",["$rootScope","$q","$timeout","$analytics","$location","gfDebug","gfAccountManager",function(a,b,c,d,e,f,g){function h(b,c,e){var g=angular.copy(GF.Gon.malibu.protocolKeys);g.email=c,g.token=b,g.game_id=e;var h=[];_.each(g,function(a,b){h.push(b+"="+a)});var j=h.join(":"),k="mas:"+btoa(j);f.log(k),a.gf.electron?(a.$broadcast("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_DONE"),window.open(k),d.eventTrack("Launch",{category:"Cloud Play",label:"Click",from:"Electron"})):i(k)}function i(b){f.log("Launching Malibu Client",b),window.protocolCheck(b,function(){a.$broadcast("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_DONE"),a.$broadcast("GF_EVENT_CLIENT_NOT_INSTALLED",{type:"Streaming client not installed",body:"Please install streaming client first."}),f.log("Launching Malibu Client - Not installed"),d.eventTrack("Launch",{category:"Cloud Play",label:"Not Installed"})},function(){a.$broadcast("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_DONE"),f.log("Launching Malibu Client - Done"),d.eventTrack("Launch",{category:"Cloud Play",label:"Click"})})}function j(b){var c=angular.copy(GF.Gon.malibu.protocolKeys);c.email=b.userId,c.token=b.token,c.game_id=b.streamingGameId,b.returnUrl&amp;&amp;(c.buy_url="https+"+l()+"/#!"+b.returnUrl,f.log(c.buy_url));var e=[];_.each(c,function(a,b){e.push(b+"="+a)});var g=e.join(":"),h="mas:"+btoa(g);f.log(h),a.gf.electron?(a.$broadcast("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE"),window.open(h),d.eventTrack("Play",{category:"Instant Play",label:"Click",from:"Electron"})):k(b,h)}function k(b,c){window.protocolCheck(c,function(){a.$broadcast("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE"),a.$broadcast("GF_EVENT_CLIENT_NOT_INSTALLED",{type:"Streaming client not installed",body:"Please install streaming client first."}),f.log("Launching Malibu Client - Not installed"),d.eventTrack("Play",{category:"Instant Play",label:"Not Installed"})},function(){a.$broadcast("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE"),g.instantPlayAck(b.collectionId,b.offer,b.streamingGameId).then(function(a){f.log(a),d.eventTrack("Play",{category:"Instant Play",label:"Click"})}),f.log("Launching Malibu Client - Done"),b.returnUrl&amp;&amp;e.path(b.returnUrl)})}function l(){return GF.Gon&amp;&amp;GF.Gon.setting&amp;&amp;GF.Gon.setting.digitalDomain?GF.Gon.setting.digitalDomain:"www.direct2drive.com"}var m=angular.copy(GF.Gon.malibu.protocolKeys),n=m.game_id||5009901,o=function(d){f.log("Launching Cloud Play",d),a.launchingMalibuClient=!0,a.$broadcast("GF_EVENT_LAUNCH_MALIBU_CLOUD_PLAY_START");var e=d.streamingGameId,i=c(function(){j.resolve()},2e4),j=b.defer();g.cloudPlay(j).then(function(b){switch(b.status){case 0:a.$broadcast("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE"),a.launchingMalibuClient=!1;break;case 200:var c=b.data.token,d=b.data.userId;h(c,d,e);break;default:switch(b.data.code){case 101:a.$broadcast("GF_EVENT_NO_MALIBU_TICKET");break;default:a.launchingMalibuClient=!1,a.$broadcast("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE")}}}).finally(function(){c.cancel(i)})},p=function(d){f.log("Launching Instant Play",d);var e=d.element,h=d.streamingGameId,i=d.offer;$(".play-demo-now-product-page").attr("disabled","disabled"),a.launchingMalibuClient=!0,a.$broadcast("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_START");var k=c(function(){l.resolve()},3e4),l=b.defer();g.instantPlay(l,h,i).then(function(b){switch(b.status){case 0:a.$broadcast("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE"),a.launchingMalibuClient=!1;break;case 200:var c=JSON.parse(JSON.stringify(d));c.token=b.data.token,c.userId=b.data.userId,j(c);break;default:switch(b.data.code){case 101:a.$broadcast("GF_EVENT_NO_MALIBU_TICKET");break;case 2001:a.$broadcast("GF_EVENT_NO_TRIAL",{type:"",body:b.data.error}),a.launchingMalibuClient=!1,a.$broadcast("GF_EVENT_LAUNCH_MALIBU_INSTANT_PLAY_DONE");break;default:a.launchingMalibuClient=!1,a.$broadcast("GF_EVENT_MALIBU_SERVICE_UNAVAILABLE")}}}).finally(function(){c.cancel(k),e.attr("disabled",!1)})},q=function(b){return null===a.gf.account.allow_tracking?(f.log("Ask Usage Tracking",b),a.launchingMalibuClient=!0,a.$broadcast("GF_EVENT_USAGE_TRACKING_CONTROLLED",{type:"Usage Tracking",body:'Hi D2D user, in order to provide you with better streaming experience, D2D would like to record your streaming usage to gather useful data and improve our streaming service. You can also edit this tracking setting in your "Account" page as well.',args:b}),!0):!1},r=function(){return n},s=function(){a.launchingMalibuClient=!0},t=function(){a.launchingMalibuClient=!1},u=function(){return a.launchingMalibuClient},v=function(){return $.cookie("token")&amp;&amp;a.gf.account};return{defaultCloudPlayGameId:r,userLoggedIn:v,lockLaunchBtn:s,unlockLaunchBtn:t,launchingClient:u,launchCloudPlay:o,launchInstantPlay:p,askingUsageTracking:q}}]),GF.app.factory("d2dClientService",["$rootScope","$q","$timeout","$analytics","$location","gfDebug",function(a,b,c,d,e,f){function g(a){var b=[];_.each(a,function(a,c){b.push(c+"="+h(a))});var c=b.join(":"),d="d2d:"+btoa(c);return f.log(d),d}function h(a){var b=new RegExp("://","g"),c=a.replace(b,"+");return c}var i=function(b,c){f.log("Launching D2D Client",b),a.launchingD2DClient=!0,a.$broadcast("GF_EVENT_LAUNCH_D2D_CLIENT_START");var e=g(b);window.protocolCheck(e,function(){a.$broadcast("GF_EVENT_LAUNCH_D2D_CLIENT_DONE"),a.$broadcast("GF_EVENT_D2D_CLIENT_NOT_INSTALLED",{type:"D2D Client not installed",body:"Please install D2D Client first."}),f.log("Launching D2D Client - Not installed"),c.attr("disabled",!1),d.eventTrack("Launch D2D Client",{category:"D2D Client",label:"Not Installed"})},function(){a.$broadcast("GF_EVENT_LAUNCH_D2D_CLIENT_DONE"),f.log("Launching D2D Client - Done"),c.attr("disabled",!1),d.eventTrack("Launch D2D Client",{category:"D2D Client",label:"Click"})}),a.launchingD2DClient=!1},j=function(){a.launchingD2DClient=!0},k=function(){a.launchingD2DClient=!1},l=function(){return a.launchingD2DClient},m=function(){return $.cookie("token")&amp;&amp;a.gf.account};return{launchD2DClient:i,lockLaunchBtn:j,unlockLaunchBtn:k,isLaunching:l,userLoggedIn:m}}]),GF.app.factory("premiumService",["$rootScope","$http","$q","$location","gfDebug","gfUrl","gfApiConfig",function(a,b,c,d,e,f,g){var h=function(){var a=c.defer(),d=a.promise;return b.get(f.getApiUrl()+g.planPrice).success(function(b){a.resolve(b)}).error(function(b){a.reject(b)}),d};return{getPlanPrice:h}}]),GF.app.factory("instantPlayHelper",["$rootScope","$http","gfError","gfDebug",function(){var a=function(a){if(angular.isDefined(a)&amp;&amp;angular.isDefined(a.instant_play)&amp;&amp;!_.isEmpty(a.instant_play)){var b=a.instant_play;if(b.instant_play_enable!==!0||angular.isUndefined(b.start_at)||angular.isUndefined(b.end_at))return!1;var c=new Date(b.start_at),d=new Date(b.end_at),e=Date.now();return e&gt;=c&amp;&amp;d&gt;=e?!0:!1}return!1};return{instantPlayAvailable:a}}]),GF.app.factory("gaService",["$rootScope",function(a){function b(a,b,c){if(a||b){var d={};return a&amp;&amp;(d.id=a),b&amp;&amp;(d.name=b),c&amp;&amp;(d.position=c),d}}function c(b){if(!Array.isArray(b))return"";var c=b.filter(function(a){return"Purchase"===a.offerActionType}),d=a.gf.account?"vipPrice":"purchasePrice";return c.length&amp;&amp;c[0][d].currency&amp;&amp;c[0][d].currency.isoCode&amp;&amp;k(c[0][d].currency.isoCode),c.length?c[0][d].amount:""}function d(a){return Array.isArray(a)?a.map(function(a){return"string"==typeof a?a:a.name}).join("/"):""}function e(a){if(!Array.isArray(a))return"";var b=a.filter(function(a){return"Purchase"===a.offerActionType});return b.length?b[0].instant_play.instant_play_enable||!1:!1}function f(a,b,f){if(a&amp;&amp;(a.id||a.title)){var g={};return a.id&amp;&amp;(g.id=a.id),a.title&amp;&amp;(g.name=a.title),a.publisher&amp;&amp;(g.brand=a.publisher),a.genres&amp;&amp;(g.category=d(a.genres)),a.offerActions&amp;&amp;(g.quantity=1,g.price=c(a.offerActions),g.instant_play_enable=e(a.offerActions)),b&amp;&amp;(g.list=b),f&amp;&amp;(g.position=f),g}}function g(a){var b="USD";switch(a){case"$":b="USD";break;case"€":b="EUR";break;case"£":b="GBP"}return b}function h(a){var b=JSON.parse(JSON.stringify(a.product));return b.genres=a.product.genres.map(function(a){return{name:a}}),b.offerActions=[{instant_play:{},offerActionType:"Purchase",vipPrice:{amount:a.offer_items.reduce(function(a,b){return parseFloat(a.vip_price)+parseFloat(b.vip_price)},{vip_price:0})},purchasePrice:{amount:a.offer_items.reduce(function(a,b){return parseFloat(a.discounted_price)+parseFloat(b.discounted_price)},{discounted_price:0})}}],b}function i(a){if(a&amp;&amp;a.id){var b={affiliation:"Direct2Drive"};return a.id&amp;&amp;(b.id=a.id),a.title&amp;&amp;(b.name=a.title),a.tax&amp;&amp;(b.tax=a.tax),a.shipping&amp;&amp;(b.shipping=a.shipping),a.total&amp;&amp;(b.revenue=a.total),a.coupon_code&amp;&amp;(b.coupon=a.coupon_code),b}}function j(a){var b=JSON.parse(JSON.stringify(a));return b.offerActions=[{instant_play:{},offerActionType:"Purchase",vipPrice:{amount:a.discounted_price},purchasePrice:{amount:a.discounted_price}}],b}function k(a){ga("set","currencyCode",a)}function l(a,c,d){var e=b(a,c,d);e&amp;&amp;ga("ec:addPromo",e)}function m(a,b,c){l(a,b,c),ga("ec:setAction","promo_click"),ga("send","event",c,"click",b)}function n(a,b,c){var d=f(a,b,c);d&amp;&amp;ga("ec:addImpression",d)}function o(a,b,c){if(b){var d=f(a,b,c),e="show detail";b.indexOf("[IP]")&gt;-1&amp;&amp;(e="instant play"),d&amp;&amp;ga("ec:addProduct",d),ga("ec:setAction","click",{list:b}),ga("send","event",b,"click",e)}}function p(a){var b=f(a);b&amp;&amp;(ga("ec:addProduct",b),ga("ec:setAction","detail"),ga("send","pageview"))}function q(a,b,c){var d=f(a,b,c);d&amp;&amp;(ga("ec:addProduct",d),ga("ec:setAction","add"),ga("send","event",b,"click","add to cart"))}function r(a,b,c){var d=f(a,b,c);d&amp;&amp;(ga("ec:addProduct",d),ga("ec:setAction","remove"),ga("send","event",b,"click","remove from cart"))}function s(a,b,c){a&amp;&amp;a.length&amp;&amp;(k(g(b)),a.forEach(function(a){var b=f(h(a));b&amp;&amp;ga("ec:addProduct",b)}),ga("ec:setAction","checkout",{step:1,option:c}),ga("send","pageview"))}function t(a,b,c){a&amp;&amp;b&amp;&amp;b.length&amp;&amp;(k(g(c)),b.forEach(function(a){var b=f(j(a));b.dimension1=a.is_securom?"securom":"non-securom",b&amp;&amp;ga("ec:addProduct",b)}),ga("ec:setAction","purchase",i(a)),ga("send","pageview"))}function u(){ga("send","pageview")}return{ecAddPromo:l,ecSetActionPromoClick:m,ecAddImpression:n,ecSetActionClick:o,ecSetActionDetail:p,ecSetActionAdd:q,ecSetActionRemove:r,ecSetActionCheckout:s,ecSetActionPurchase:t,sendPageView:u}}]),angular.module("GF").run(["$templateCache",function(a){"use strict";a.put("/partials/400.html",'<div class="container-fluid text-center"><img ng-src="{{gf.asset.getAssetPath(\'img/errors/400.png\')}}"/></div>'),a.put("/partials/404.html",'<div class="container-fluid text-center"><img ng-src="{{imagePath}}"/></div>'),a.put("/partials/about-us/affiliate-program.html",'<div class="container account" id="compelete-signup"><div class="registration panel privacyPolicyContent"><div class="row-fluid"><div class="registration-title text-center"><h1>Direct2Drive Affiliate program</h1></div><div><section><h3>Who We Are?</h3><p>Welcome to Direct2Drive! We are dedicated to offering you the newest digital games at great prices. We offer exclusive deals on our extensive library of games from Action to Strategy and everything in-between for both PC and Mac gamers.</p><h3>How does an affiliate program work?</h3><p>Affiliates get a set commission for every sale thy generate on our site. Just place a text link or banner on your site and when a customer clicks through to Direct2Drive and makes a purchase, you get a commission. We offer tracking, regular specials/sales, coupon codes and more if you join our affiliate program. <a href="https://account.shareasale.com/a-joinprogram.cfm?merchantID=99045" target="_blank">Join our affiliate program today!</a></p><h3>Why Partner With Direct2Drive?</h3><ol><li>We offer the newest digital games at great prices.</li><li>We offer exclusive deals not found anywhere else.</li><li>Our extensive library of games range from Action to Strategy for both PC &amp; Mac gamers.</li></ol><h3>Commission</h3><p>We offer a 5% commission based on order value a cookie duration of 30 days! So you can earn money up to 30 days after a click—even if a customer come directly to our site after the click! We track the sale and credit you the for bring the buyer. Super simple.</p><h3>Tools</h3><p>We take care of the tracking portion through our third party online network Shareasale. The network tracks sales, earnings, commissions and gives affiliates access to our banners, text links, and data feed. Contact us at <a href="mailto:direct2drive@affiliatemanager.com">direct2drive@affiliatemanager.com</a> for more details and a full list of our available tools.</p><h3>Dedicated Management</h3><p>The Direct2Drive affiliate program is managed by the professional <a href="https://affiliatemanager.com" target="_blank">AffiliateManager.com</a>. As an industry leader and 2017 AvantLink Agency of the Year Award (two years in a row) – we are here to help! We eat, sleep, and breathe affiliate marketing, so please do not hesitate to ask us any questions you feel will assist you in making money with us. The most likely outcome would be that we have heard the question before and can provide you with the best answer and/or solution to move forward and start receiving checks immediately.</p><h3>Join Now</h3><p>Why wait? Join now and start earning money right away through a partnership with us. The signup process is very quick and easy and can be <a href="https://account.shareasale.com/a-login.cfm?invalid=1&amp;reason=1&amp;redirect=%2Fa%2Djoinprogram%2Ecfm?merchantID%3D99045" target="_blank">completed here</a>.</p></section></div></div></div></div>'),a.put("/partials/about-us/index.html",'<a name="top"><a><div class="container account aboutUs" id="compelete-signup"><div class="registration panel"><div class="row-fluid"><section><h1>About Us</h1><p>Welcome to Direct2Drive! We are dedicated to offering you the newest digital games at great prices. We offer exclusive deals on our extensive library of games from Action to Strategy and everything in-between for both PC and Mac gamers.</p></section><br/><br/><section><h1>About Our Parent Company</h1><p>AtGames develops innovative interactive entertainment products for worldwide distribution. Founded in 2001 by veterans in digital media and information technology industries. AtGames sells and distributes various products in North America, Latin America, Europe, C.I.S., Australia, and Asia.</p></section></div></div></div></a></a>'),a.put("/partials/about-us/open-letter.html",'<a name="top">/<a><div class="container account" id="compelete-signup" onload="scrollTop()"><div class="registration panel"><div class="row-fluid"><div class="registration-title text-center"><h1></h1></div><div><section><p>Dear Gamers,</p><p>The team here at Direct2Drive.com is extremely excited to bring games to another level.  We have been working at a feverish pace to transition from the GameFly Digital platform to what you are experiencing on Direct2Drive.com.  But we are not even close to being done.  This site is a work in progress.  We won’t be satisfied until we bring you all the best games, methods to discover games, and a quality forum for gamers to discuss all things gaming.</p><p>We are working with the top publishers in the industry to really create a landscape where you the gamers are thought of first.</p><p>We love games.  You love games.  Our job here is to ensure that we evolve with the games industry.</p><p>Thank you for being part of our community and please let us know how we’re doing by providing feedback at <a href="http://support.direct2drive.com">support.direct2drive.com</a>.</p><p>Don’t forget to <a href="https://www.facebook.com/Direct2Drive1">Like us</a> on Facebook and <a href="https://twitter.com/Direct2Drive">Follow us</a> on Twitter</p><p> </p><p>Ed Lin<br/>General Manager<br/>Direct2Drive.com</p></section></div></div></div></div></a></a>'),a.put("/partials/about-us/privacy-policy.html",'<div class="container account" id="compelete-signup"><div class="registration panel privacyPolicyContent"><div class="row-fluid"><div class="registration-title text-center"><h1>Privacy Policy</h1></div><div><section><h4>Revised Direct2Drive.com Privacy Policy as of May 23, 2018</h4><p>Direct2Drive.com (“Direct2Drive” or “D2D”) is committed to protecting our customer’s data. This revised privacy policy applies to Direct2Drive customers within the European Economic Area (EEA) under the auspices of the EU GDPR as well as our customers in other regions.</p><h3>Ordinary Course of Business</h3><p>Direct2Drive strives to minimize its customer data footprint to protect the privacy of our customers. We typically temporarily collect customer data for the following types of activities:</p><ul><li><b>Account creation.</b> Creating a user account on D2D requires:<ul><li>The user’s name (first and last)</li><li>An email address</li><li>A password (created by the user)</li></ul></li><li><b>Transactions.</b> We analyze the following customer data to help prevent fraudulent purchases:<ul><li>Email address</li><li>Title name(s)</li><li>Purchase amount (in units and local currency)</li><li>Time and frequency of purchase</li></ul></li><li><b>Customer support.</b> Creating a support ticket requires a customer to provide:<ul><li>Game title</li><li>Description of issue encountered</li><li>Operating system</li><li>Anti-virus software or firewalls installed</li><li>Additional information as needed based on the nature of the request, possibly including the email address and name used on the account for verification purposes, wireless connection type for trouble-shooting, etc.</li></ul></li><li><b>Streaming service participation.</b> For customers participating in Direct2Drive’s streaming service, we may document customer data to improve the value of the offering, including:<ul><li>Email address</li><li>Total play time</li><li>Geographic location and time zone (to help gauge network distance)</li><li>Session start time</li></ul></li><li><b>Promotions.</b> We execute promotions to provide price incentives for our customers. Notice of these promotions is delivered via optional registration on our email list. Customers can stop receiving promotional emails from Direct2Drive at any time by unchecking the box in the “Account Info” tab after logging in on the Direct2Drive.com website or by clicking the “unsubscribe” link in the bottom of any promotional emails.</li><li><b>Surveys.</b> We may occasionally offer customers a chance to provide feedback through surveys delivered via email or the website. The intent of these surveys is to improve the customer experience and may request the following information from customers:<ul><li>Email address</li><li>Answers to survey questions (to be determined based on the purpose of the survey)</li></ul></li></ul><h3>Payment Processing</h3><p>Direct2Drive utilizes the services of a third-party transaction processor (PayPal, www.paypal.com) to help prevent fraudulent transactions. PayPal uses proprietary algorithms to analyze payment data for fraud. For more information about PayPal’s privacy policy please visit <a href="https://www.paypal.com/us/webapps/mpp/ua/privacy-full" target="_blank">https://www.paypal.com/us/webapps/mpp/ua/privacy-full</a>.</p><h3>Data Sharing</h3><p>We will only use customer data for the purposes described in this Privacy Policy.</p><h3>Data Security</h3><p>We employ a variety of electronic and physical measures to protect customer data from unauthorized use. We also require our third-party service providers to have similar safeguards in place.</p><h3>Data Retention</h3><p>We retain customer data only as long as is necessary for business or legal requirements. When the data is deemed unnecessary we purge it using secure processes.</p><h3>Marketing</h3><p>We periodically market our promotions via email. We value the privacy of our customers and understand that managing email communications is important to privacy. As such, we provide multiple venues to both subscribe and unsubscribe from our email lists.</p><h3>Special Exceptions</h3><p>We reserve the right to disclose personally identifiable information in our possession if we have a good faith belief that it is necessary to: (1) comply with the law or legal process served on us; (2) protect and defend our rights or property or those of others; (3) respond to fraud, abuse or unauthorized use of our services; (4) enforce our Website Visitors Agreement and Terms of Use, our Acceptable Use Policy or related standards; or (5) act in an emergency to protect your safety or that of another. We may also share information if we sell or transfer all or a portion of our business operations, merge or combine with another organization.</p><h3>Children\'s Privacy</h3><p>Our websites are not directed at, or intended for use by, children under the age of 13. We do not knowingly allow anyone under 18 to provide any personal information on Direct2Drive.com. You can find more information about protecting children’s privacy by contacting the FTC or viewing its website at <a href="http://www.ftc.gov">http://www.ftc.gov</a></p><h3>California Residents</h3><p>California law permits residents who have provided personal information to us to request information about disclosure of personal information to third parties for their marketing purposes. As detailed above, our policy is not to disclose personal information collected online or otherwise for any third party’s direct marketing purposes without first obtaining the customer’s consent.</p><h3>Contacting us</h3><p>We are happy to address any customer questions or concerns about our privacy policies at <a href="mailTo:support@direct2drive.com">support@direct2drive.com</a>.</p><h3>Cookies policy</h3><p>We minimize our use of cookies on Direct2Drive.com. The intent of these cookies is to make the user experience more convenient by maintaining an active session if the user navigates away from the site and then returns.</p><h3>Changes to our Privacy Policy</h3><p>We will notify our users of any changes to our privacy policy on both the website and via email. Historically, these changes have been infrequent. Any such changes will be prospective and will not affect information collected prior to the change in policy. For any changes made, the date of the last update will be clearly documented in the policy itself and all related communications.</p></section></div></div></div></div>'),a.put("/partials/about-us/terms-of-use.html",'<a name="top">/<a><div class="container account" id="compelete-signup" onload="alert()"><div class="registration panel"><div class="row-fluid"><div class="registration-title text-center"><h1>Terms of Use</h1></div><div><section><h3>Acceptance of Terms</h3><p>These terms were last updated on November 7, 2014.</p><p>Welcome to Direct2Drive. The Direct2Drive.com and Direct2Drive.uk websites, including all subpages and successor pages thereto (collectively, the "Websites"), and other services offered by Direct2Drive (the "Service") are owned and operated by AtGames Cloud Holdings Ltd. (hereinafter referred to as "Direct2Drive", "we" or "us"). The Website and the Service are collectively and individually referred to as the "Direct2Drive Site and Services."</p><p><b>Direct2Drive provides the Direct2Drive Site and Services to you subject to the following Terms of Use (the "Agreement"), which may be updated occasionally, at our sole discretion.</b> The most current version of these Terms of Use will always be on this page and will supersede all previous versions. There will always be a link to the most current Terms of Use on the www.Direct2Drive.com homepage. <b>By using, visiting, downloading, installing, or browsing any portion of the Direct2Drive Site and Services, you accept and agree to be bound by these terms. Please read this Agreement carefully, as it requires the use of arbitration on an individual basis to resolve disputes, rather than jury trials or class actions, and also limits the remedies available to you in the event of a dispute.</b></p><h3>These Terms of Use:</h3><p><ul><li>Govern your use of the Direct2Drive Site and Services, as applicable. By using, visiting, downloading, installing, or browsing the Website, Downloader or Service, you accept and agree to be bound by these Terms of Use to the exclusion of all other terms. If you do not agree to these Terms of Use, you must immediately discontinue use of the Direct2Drive Site and Services.</li><li>Are an ongoing contract between you and Direct2Drive and apply to your use of the Direct2Drive Site and Services. These Terms of Use affect your rights and you should read them carefully.</li><li>Set forth the entire agreement regarding the subject matter discussed herein. If any provision of this Agreement is found to be unlawful, void, or unenforceable, it will not affect the validity and enforceability of any other provision.</li></ul></p><h3>Changes to Terms of Use</h3><p><b>We reserve the right, in our sole and absolute discretion, to change, modify, add or remove portions of these Terms of Use from time to time (with or without notice). Your continued use of the Direct2Drive Site and Services, or any portion thereof, after changes are posted means that you accept and agree to be bound by such changes. As such, it is your responsibility to review the Terms of Use periodically.</b></p><h3>Privacy</h3><p>Any information you submit to us, or any information we collect in connection with the Direct2Drive Site and Services, is subject to Direct2Drive’s Online Privacy Policy.</p><h3>Your Account</h3><p>If you use any portion of the Direct2Drive Site and Services, you represent and warrant that all information you supply to Direct2Drive is complete and accurate. You must have internet access to use the transactional portions of the Direct2Drive Site and Services, as well as a valid major credit or debit card (“Card”) (accepted for all transactions on the Website) or a valid PayPal account (accepted for physical and digital game purchases on the Website). “Payment Method” shall mean payment by Card and/or PayPal account, as may be applicable in each instance. Direct2Drive accepts most major Cards. To view a list of accepted Cards, please see the “Credit Cards and Billing Info” link in the “My Account” section of the Website.</p><p>You are solely responsible for maintaining the confidentiality of your account information, including your password, and for restricting access to your computer and mobile device. You also agree not to impersonate any other person while using the Direct2Drive Site and Services. By using any part of the Direct2Drive Site and Services, you agree to accept responsibility for all activities that occur under your account or password. You agree to notify Direct2Drive immediately of any unauthorized use of your account or password, or any other breach of security of which you become aware. It is also your responsibility at all times to provide and maintain an accurate and working email address, delivery address, and telephone number</p><p>For detailed information outlying the collection, use, and disclosure of Payments and Transaction Information that is governed by these Terms of Use, please visit:<br/><a href="https://www.paypal.com/us/webapps/mpp/ua/useragreement-full">https://www.paypal.com/us/webapps/mpp/ua/useragreement-full</a></p><p>You are responsible for providing all equipment and software necessary to access the Direct2Drive Site and Services, including a computer that is suitable to purchased digital games.</p><h3>License and Limitations of Use</h3><p>WHILE INDIVIDUALS UNDER THE AGE OF 18 MAY UTILIZE THE DIRECT2DRIVE SITE OR SERVICE, THEY MAY DO SO ONLY UNDER THE SUPERVISION AND WITH THE CONSENT OF A PARENT OR LEGAL GUARDIAN. By subscribing to the Service, you represent that you are at least 18 years of age and reside in one of the 50 United States or the District of Columbia, and by using the Service, you represent that you either (i) are 18 years of age or older, or (ii) have received consent from your parent or legal guardian to access his or her subscription to the Service. Any registration with, use of or access to the Website or Service by anyone under the age of 13 is strictly prohibited and in violation of this Agreement. Note that the Direct2Drive Site and Services are not directed at collecting information from children under the age of 13, nor are they intended to be used by children under the age of 13. If we receive notice that we have inadvertently collected information from a child under 13, we will take all reasonable steps to delete the information collected from that child.</p><p>The games and content we publish and/or distribute through the Direct2Drive Site and Services are strictly for personal and non-commercial use. Subject to the terms and conditions of this Agreement, including your payment of all applicable fees, we agree to deliver games to you and grant you a limited, non-exclusive, non-transferable, revocable, non-sublicensable license to access the Direct2Drive Site and Services for that limited purpose only. All rights not explicitly granted herein are reserved by Direct2Drive or its licensors. Any unauthorized use of the Direct2Drive Site and Services will automatically and immediately terminate the license(s) granted by us.</p><p>Except as expressly provided herein, you may not: (i) modify, disassemble, decompile or reverse engineer any part of the Direct2Drive Site and Services, except to the extent that such restriction is expressly prohibited by law; (ii) rent, lease, loan, resell, sublicense, distribute or otherwise transfer the Direct2Drive Site and Services, or any portion thereof, to any third party or use the Direct2Drive Site and Services to provide time sharing or similar services for any third party; (iii) make any copies of the Direct2Drive Site and Services; (iv) remove, circumvent, disable, damage or otherwise interfere with security-related features of the Direct2Drive Site and Services, features that prevent or restrict use or copying of any content accessible through the Direct2Drive Site and Services, or features that enforce limitations on use of the Direct2Drive Site and Services; or (v) delete the copyright and other proprietary rights notices on the Direct2Drive Site and Services.</p><h3>Credit Card Billing &amp; Subscription Fees</h3><p>For information regarding Direct2Drive Site and Services policies covering Card billing procedures, or any premium content subscription fees, or other form of recurring payment, please visit: <a href="https://www.paypal.com/us/webapps/mpp/ua/useragreement-full">https://www.paypal.com/us/webapps/mpp/ua/useragreement-full</a></p><h3>Purchases and Pricing</h3><p>Prices and availability of products on the Direct2Drive Site and Services are subject to change without notice. We reserve the right to limit purchase quantities. Dealer orders will not be accepted without prior written permission. Direct2Drive reserves the right to cancel any order placed through any portion of the Direct2Drive Site and Services.</p><p>Prices for used, new, pre-purchase and pre-order items are displayed on the Direct2Drive Site and Services as these items become available.</p><p>A full description on Direct2Drive Site and Services pricing terms is available here:<br/><a href="https://www.paypal.com/us/webapps/mpp/ua/useragreement-full">https://www.paypal.com/us/webapps/mpp/ua/useragreement-full</a></p><p>“With respect to items placed into or saved to your shopping cart, we will confirm the total price of your order before you complete the checkout process, and authorize your Payment Method for the total price before it enters the fulfillment process; however, we do NOT charge your Payment Method until after your order has entered the fulfillment process unless it is a pre-purchase including an unreleased title. Your Payment Method is charged in full for pre-purchases when the order is placed.”</p><p>From time to time, a small number of items may be mispriced. Errors will be corrected where discovered and Direct2Drive reserves the right to revoke any stated offer and to correct any errors, inaccuracies or omissions including after an order has been submitted.</p><p>If we discover a mispricing, we will do one of the following:<ul><li>If an item\'s correct price is lower than our stated price, we will charge the lower amount and ship you the item.</li><li>If an item\'s correct price is higher than our stated price, we will (at our discretion) either contact you for instructions before shipping or cancel your order and notify you of such cancellation.</li></ul></p><h3>Sales Tax</h3><p>Direct2Drive will collect and remit sales tax on purchases as required by applicable law for transactions made through the Direct2Drive Site and Services. Sales tax charged is based on the ZIP code included in your shipping address. For sales of digital goods or other instances where a shipping address is not applicable, the sales tax charged is based on the ZIP code included in the billing address. At checkout, we will display the estimated sales tax for your order. This is only an estimate; the final sales tax charged for any purchase will be determined by your ZIP code at the time your order enters the fulfillment process and your Payment Method is charged.</p><h3>Pre-Orders and Pre-Purchases</h3><p>Select products will be available to pre-order prior to their release dates (“Pre-Order”). Pre-ordering a product reserves your quantity of the product. Upon placing the order, your Card will be authorized for the total amount of the order. Your Card will be charged only after your order has entered the shipping process.</p><p>Other select products will be available to pre-purchase prior to their release dates (“Pre-Purchase”). Pre-Purchasing a product means your Card will be charged for the product upon placing the order.</p><p>The release date of a Pre-Order or a Pre-Purchase is subject to change, and we make no warranty that we will ship the item or have it available for download on the date of release stated at the time you place your order. Should the release date of a Pre-Order or Pre-Purchase change, we will notify you via email. You may also elect to cancel a Pre-Order at any time up until the time your Payment Method is charged through the Purchase History page under My Account. Pre-Purchases are non-cancellable and you may not cancel after you place the order.</p><p>Sometimes, the price of a Pre-Order may change. Should the price of an item change after you have placed a Pre-Order through any portion of the Direct2Drive Site and Services, we will send you an email to notify you of the change and ask you to confirm that you still wish to pre-order the item. If you do not confirm your Pre-Order, it will be cancelled. For a Pre-Purchase item, we will not adjust your price after the order has been placed.</p><p>Direct2Drive reserves the right to cancel a Pre-Order or a Pre-Purchase at any time. In the event a Pre-Order is cancelled by Direct2Drive, any and all charges for that Pre-Order product will be voided. In the event a Pre-Purchase is cancelled by Direct2Drive, we will refund the amount of the original charge for the product to your Payment Method.</p><h3>Coupons, Direct2Drive Dollars, and Other Virtual Goods</h3><p>Direct2Drive may issue coupons, and/or fictional property representing virtual achievements (for example, badges or trophies) (collectively “Direct2Drive Property”) from time to time for reasons including but not limited to, special promotions, your participation in the Rewards Program (as described below), and your participation in a Direct2Drive-issued survey.</p><p>Coupons issued are valid for a limited time only and may include restrictions on which products qualify for use of the coupon. Percent-off coupons are applicable towards the unit price of qualifying items (exclusive of tax and shipping charges) and may not be combined with other offers. Shipping coupons may discount the shipping cost of your purchase when applied during the checkout process. Shipping coupons may be valid only for a specific shipping method which must be selected during checkout in order to qualify for use of the coupon. The actual discount resulting from a shipping coupon is determined during checkout based on the quantity of qualifying items in your order. From time to time, Direct2Drive may issue special-use coupons that are only available for limited-time use and expire less than 180 days from issuance. Coupons are not redeemable for cash, are non-transferable and may not be applied to past orders. Unused portions of redeemed coupons will be forfeited at the completion of the transaction.</p><p>You understand and agree that Direct2Drive Property represents a limited license right governed solely by the terms of this Agreement and is available for distribution at Direct2Drive\'s sole discretion. Direct2Drive Property is not redeemable for any sum of money or monetary value from Direct2Drive at any time. You acknowledge that you do not have any ownership interest in the account(s) you use to access the Direct2Drive Site and Services, nor do you possess any rights of access or rights to data stored by or on behalf of Direct2Drive on Direct2Drive servers, including without limitation any data representing or embodying any or all of your Direct2Drive Property. You agree that Direct2Drive has the absolute right to manage, regulate, control, modify and/or eliminate Direct2Drive Property as it sees fit in its sole discretion, in any general or specific case, and that Direct2Drive will have no liability to you based on its exercise of such right. All data on Direct2Drive\'s servers are subject to deletion, alteration or transfer. NOTWITHSTANDING ANY VALUE ATTRIBUTED TO SUCH DATA BY YOU OR ANY THIRD PARTY, YOU UNDERSTAND AND AGREE THAT ANY DATA, ACCOUNT HISTORY AND ACCOUNT CONTENT RESIDING ON DIRECT2DRIVE\'S SERVERS MAY BE DELETED, ALTERED, MOVED OR TRANSFERRED AT ANY TIME FOR ANY REASON IN DIRECT2DRIVE\'S SOLE DISCRETION, WITH OR WITHOUT NOTICE AND WITHOUT LIABILITY OF ANY KIND. DIRECT2DRIVE DOES NOT PROVIDE OR GUARANTEE, AND EXPRESSLY DISCLAIMS, ANY VALUE, CASH OR OTHERWISE, ATTRIBUTED TO ANY DATA RESIDING ON DIRECT2DRIVE\'S SERVERS. YOU ACKNOWLEDGE AND AGREE THAT DIRECT2DRIVE IS NOT REQUIRED TO PROVIDE A REFUND OR COMPENSATION FOR THE DIRECT2DRIVE PROPERTY FOR ANY REASON, AND THAT YOU WILL NOT RECEIVE MONEY OR OTHER COMPENSATION FOR UNUSED DIRECT2DRIVE PROPERTY, INCLUDING WITHOUT LIMITATION DIRECT2DRIVE DOLLARS, WHEN AN ACCOUNT IS CLOSED, WHETHER SUCH CLOSURE IS VOLUNTARY OR INVOLUNTARY.</p><h3>Digital Games Returns Policy</h3><h2>All DIGITAL GAME SALES ARE FINAL AND CANNOT BE RETURNED.</h2><h3>Gift Certificates</h3><p>Gift certificates must be bought and redeemed directly through the Website, and may only be used toward the purchase of a Service subscription. Gift certificate recipients will need a valid Card to activate their gift subscription. The recipient\'s Card will only be authorized, it will not be charged. Unless the recipient cancels prior to the end of the gift subscription period, Direct2Drive will begin to charge the recipient\'s Card for monthly subscription fees (plus applicable taxes) at the completion of the gift subscription period. WE DO NOT GIVE PRO-RATED REFUNDS IF CANCELLATION IS INITIATED DURING THE MIDDLE OF A BILLING CYCLE.</p><p>Gift certificates are not redeemable for purchases of non-subscription products from the Website or purchases from our partners. Except as otherwise required by applicable law, gift certificates cannot be used to purchase additional gift certificates, are not redeemable for cash and cannot be returned for a cash refund. Direct2Drive is not responsible for lost or stolen gift certificates. We retain the right to close customer accounts and request alternative forms of payment if a fraudulently obtained gift certificate is redeemed.</p><p>Gift certificates are non-transferrable beyond the original gift recipient and may not be resold. Direct2Drive does not condone the re-selling of gift certificates privately or on auction/marketplace websites, and we are under no obligation to honor re-sold gift certificate memberships. Direct2Drive also does not offer and is not required to provide customer support for issues that may arise from transactions involving the resale of Direct2Drive gift certificates.</p><h3>Safe Shopping</h3><p>Federal law limits your liability for unauthorized charges to your account. The Fair Credit Billing Act (FCBA) states that your credit card company (creditor) cannot hold you liable for more than $50 in the unlikely event a fraudulent charge occurs on your account. Direct2Drive will pay up to $50 of your liability if your Card is used fraudulently at the Service.</p><p>We will assume the aforementioned $50 liability only if the unauthorized use of your Payment Method resulted through no fault of your own from purchases made at the Website while using our secure server. In the event of unauthorized use of your Payment Method, you must notify your Payment Method provider in accordance with the FCBA reporting rules and procedures.</p><p>In cases of unauthorized Card use within a household that result in purchases from the Website, the item(s) must be unopened (for new game sales) and received by Direct2Drive in playable condition within thirty (30) days of the date of the sale to receive a full refund. If Direct2Drive receives the purchased game in a playable condition within thirty-one (31) to sixty (60) days of the date of the sale, a credit equal to 80% of the purchase amount will be applied to your Card. Purchased games received more than sixty (60) days after the date of sale will not be eligible for credit. In cases of unauthorized Card use within a household that result in game rental subscriptions, we will credit up to one (1) month of service if all games are returned in playable condition within seven (7) days of the date you notify us of the unauthorized Card use (but in no event any later than forty-five (45) following the date of the unauthorized Card use).</p><h3>All digital game sales are final and cannot be returned.</h3><h3>Intellectual Property</h3><p>All content and data included on the Website, including but not limited to graphics, text, user interfaces, visual interfaces, photographs, trademarks, sounds, music, artwork, computer code, logos, button icons, and software, (collectively, “Content”) including but not limited to the design, structure, selection, expression, look and feel and arrangement of such Content, is the property of Direct2Drive, and/or its suppliers or licensors, and is protected by trade dress, copyright, patent and trademark laws, and other intellectual property rights and unfair competition laws. No Content may be reproduced, republished, uploaded, posted, publicly displayed, encoded, translated, transmitted, distributed, accessed or otherwise used without express written permission from Direct2Drive.</p><p>You agree not to interfere with, decompile, reverse engineer or disassemble any software, products or processes accessible through the Direct2Drive Site and Services, not to insert any code or manipulate any content on the Direct2Drive Site and Services, and not to use data mining, data gathering or any other extraction methods. Direct2Drive does not condone the copying of video games or other infringing activities.</p><p>Direct2Drive is a registered trademark of Direct2Drive, Inc. Direct2Drive\'s trademarks may not be used in connection with any product or service that is not expressly permitted by Direct2Drive in writing, in any manner that is likely to cause confusion among customers, or in any manner that disparages or discredits Direct2Drive. All other trademarks not owned by Direct2Drive that appear on the Direct2Drive Site and Services or on games are the property of their respective owners, who may or may not be affiliated with, connected to, or sponsored by Direct2Drive. Any images of persons or personalities contained on the Direct2Drive Site and Services or in games shall not be an indication of endorsement of any particular product or the Direct2Drive Site and Services unless otherwise specifically indicated.</p><h3>Website Content</h3><p>Direct2Drive may offer synopses, reviews, instruction manuals, user comments and other information pertaining to the games we distribute. Under no circumstances shall Direct2Drive, or Direct2Drive’s parent, subsidiaries, suppliers, licensors or other affiliated companies, or their respective shareholders, directors, officers, agents or employees (individually and collectively, the “Direct2Drive Parties”) be held liable for any loss or damage caused by your reliance on information obtained through the Website. It is your responsibility to evaluate and make your own independent judgment about the information, opinion, advice and other content available through the Direct2Drive Site and Services.</p><p>Some hyperlinks on the Website may lead to other websites that are not owned or controlled by Direct2Drive. Such sites are provided solely as a convenience to our visitors. Direct2Drive has not reviewed these sites and has no control over the content of such sites. Connecting to linked sites and/or downloading any information from linked sites is done entirely at your own risk. Direct2Drive makes no representation or warranty that downloads from linked sites will meet any prescribed specification, nor do we make any representation or warranty that such linked sites will not contain viruses or otherwise impact your computer.</p><p>DIRECT2DRIVE DOES NOT WARRANT, ENDORSE, GUARANTEE, OR ASSUME RESPONSIBILITY FOR ANY PRODUCT OR SERVICE ADVERTISED OR OFFERED BY A THIRD PARTY THROUGH OUR WEBSITE OR SERVICE OR ANY HYPERLINKED WEBSITE OR SERVICE, OR FEATURED IN ANY BANNER OR OTHER ADVERTISING, AND DIRECT2DRIVE WILL NOT BE A PARTY TO OR IN ANY WAY MONITOR ANY TRANSACTION BETWEEN YOU AND THIRD-PARTY PROVIDERS OF PRODUCTS OR SERVICES.</p><h3>Electronic Communications</h3><p>By using any portion of the Direct2Drive Site and Services, you agree to receive notices and electronic communications from Direct2Drive. These communications may include information about your account, such as shipping and confirmation e-mails, or information related to the Direct2Drive Site and Services, and features. These communications are also part of your subscription to our Service. If you subscribe to or follow a user or product through any portion of the Direct2Drive Site and Services, we may send you notifications about that user or product. You agree that any notice, agreements, disclosures, or other communications that we provide to you electronically satisfy any legal requirements that such communications be in writing.</p><h3>Conduct on the Direct2Drive Site and Services</h3><p>By using any portion of the Direct2Drive Site and Services, you agree (i) not to upload, post, email, or otherwise send or transmit any material that contains software viruses or any other computer code, files, or programs designed to interrupt, destroy, or limit the functionality of any computer software, hardware, equipment, or content associated with any portion of the Direct2Drive Site and Services;(ii) not to interfere in any way with the servers or networks connected to any portion of the Direct2Drive Site and Services; (iii) not to violate any of the procedures, policies, or regulations of networks connected to the Direct2Drive Site and Services, the terms of which are incorporated herein; and (iv) not to conduct yourself in an offensive manner or impersonate any other person while using any portion of the Direct2Drive Site and Services, or use any portion of the Direct2Drive Site and Services for any unlawful purpose.</p><h3>User Reviews and Other User-Submitted Content</h3><p>Visitors may post, upload or submit reviews, comments, suggestions, ideas, questions, answers, or other content (collectively “User Content”) as provided for on the Direct2Drive Site and Services. You retain ownership of your User Content. You agree not to post User Content that: (i) may create a risk of harm, loss, physical or mental injury, emotional distress, death, disability, disfigurement, or physical or mental illness to you or to any other person; (ii) may create a risk of any other loss or damage to any person or property; (iii) seeks to harm or exploit children by exposing them to inappropriate content, asking for personally identifiable details or otherwise; (iv) may constitute or contribute to a crime or tort; (v) contains any information or content that we may deem to be unlawful, harmful, abusive, racially or ethnically offensive, defamatory, infringing, invasive of personal privacy or publicity rights, harassing, humiliating to other people (publicly or otherwise), libelous, threatening, profane, or otherwise objectionable; (vi) contains any information or content that is illegal (including, without limitation, the disclosure of insider information under securities law or of another party’s trade secrets); (vii) contains any information or content that you do not have a right to make available under any law or under contractual or fiduciary relationships; or (viii) contains any information or content that you know is not correct and current. You agree that any User Content that you post does not and will not violate third-party rights of any kind, including without limitation any intellectual property rights or rights of privacy. To the extent that your User Content contains music, you hereby represent that you are the owner of all the copyright rights, including without limitation the performance, mechanical, and sound recordings rights, with respect to each and every musical composition (including lyrics) and sound recording contained in such User Content and have the power to grant the license granted herein. Direct2Drive reserves the right, but is not obligated, to reject, modify and/or remove any User Content for any reason at any time. You understand that publishing your User Content on the Website is not a substitute for registering it with the U.S. Copyright Office, the Writer’s Guild of America, or any other rights organization. Direct2Drive is free to use any comments, information, ideas, concepts, reviews or techniques or other material you may post, upload, submit, send or otherwise provide to us (without acknowledgement or compensation) for any purpose on an unrestricted basis.</p><p>If you do post, upload, submit, send or otherwise provide content or User Content, and unless we indicate otherwise, you grant Direct2Drive and its affiliates and sublicensees a non-exclusive, royalty-free, perpetual, irrevocable, and fully sub-licensable right to use, reproduce, modify, adapt, publish, translate, create derivative works from, distribute, and display such User Content throughout the world in any media. You grant Direct2Drive and its affiliates and sub-licensees the right to use the name that you submit in connection with such User Content, if they choose. You understand and agree that Direct2Drive may feature your posts or submissions and you hereby grant Direct2Drive permission to do so without further consideration or compensation to you. You represent and warrant that (i) you own or otherwise control all of the rights to the User Content that you post; (ii) that the User Content is accurate; (iii) that the User Content does not violate the intellectual property rights, including without limitation rights of publicity or privacy, or any third party; (iv) you have the written consent of each and every identifiable natural person in the content to use such person’s name or likeness in the manner contemplated by the Direct2Drive Site and Services and this Agreement, and each such person has released you from any liability that may arise in relation to such use; (v) that use of the User Content you supply does not violate this policy and will not cause injury to any person or entity; and (vi) that you will indemnify and hold harmless the Direct2Drive Parties and the volunteer moderators (individually and collectively, the “Moderators”) for all claims arising from content you supply. Direct2Drive takes no responsibility and assumes no liability for any content posted by you or any third party.</p><p>You understand and agree that Direct2Drive grants you the limited right to “post” (i.e. disclose) certain User Content and/or information from the Direct2Drive Site and Services to third-party social networking services, and that any User Content and/or information so posted or disclosed by you is subject to the policies and restrictions of the applicable social networking service, and not Direct2Drive.</p><h3>Copyright Complaints</h3><p>If you believe that material on the Website is infringing your rights under U.S. copyright law, you may file a complaint of such claimed infringement with Direct2Drive\'s designated copyright agent:</p><p><b><p>By Mail to:</p><p>AtGames Digital Media Inc.</p>Attn: Customer Service<br/>PO Box 1015<br/>Hawthorne, CA 90251-2015<br/><br/>By E-mail: <a href="mailto://support@direct2Drive.com">support@direct2Drive.com</a></b></p><p>For your complaint to be valid under the Digital Millennium Copyright Act (DMCA), you must provide the following information when providing notice of the claimed copyright infringement:<ul><li>An electronic or physical signature of the person authorized to act on behalf of the owner of the copyright interest;</li><li>Identification of the copyrighted work that you claim has been infringed upon;</li><li>A description of where the material that you claim is infringing is located on the site;</li><li>A statement by you that you have a good-faith belief that the use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law;</li><li>A statement by you made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on behalf of the copyright owner.</li></ul></p><p>You should be aware that, under the DMCA, claimants who make misrepresentations concerning copyright infringement might be liable for damages incurred as a result of the removal or blocking of the material, court costs, and attorney\'s fees.</p><h3>No Warranty; Disclaimers</h3><p>THE CONTENT OF THE DIRECT2DRIVE SITE AND SERVICES, AND THE PRODUCTS WE DELIVER (INCLUDING, BUT NOT LIMITED TO, GAMES AND OTHER THIRD PARTY CONTENT) ARE PROVIDED ON AN "AS IS" AND “AS AVAILABLE” BASIS. ALL INFORMATION PROVIDED ON THE SITE IS SUBJECT TO CHANGE WITHOUT NOTICE.DIRECT2DRIVE, ITS SUPPLIERS AND LICENSORS MAKE NO REPRESENTATIONS OR WARRANTIES, WHETHER EXPRESS OR IMPLIED, OF ANY KIND ABOUT THE DIRECT2DRIVE SITE AND SERVICES AND ANY CONTENT PROVIDED IN CONNECTION THEREWITH. DIRECT2DRIVE, ITS SUPPLIERS AND LICENSORS ASSUME NO LIABILITY OR RESPONSIBILITY FOR ANY ERRORS OR OMISSIONS IN THE CONTENT OF THE DIRECT2DRIVE SITE AND SERVICES, FOR ANY FAILURES, DELAYS, OR INTERRUPTIONS IN THE DELIVERY OF ANY CONTENT CONTAINED ON THE DIRECT2DRIVE SITE AND SERVICES, FOR ANY LOSSES OR DAMAGES ARISING FROM THE USE OF THE DIRECT2DRIVE SITE AND SERVICES, OR FOR ANY CONDUCT BY USERS OF THE DIRECT2DRIVE SITE AND SERVICES. TO THE FULL EXTENT PERMISSIBLE BY LAW, DIRECT2DRIVE, ITS SUPPLIERS AND LICENSORS DISCLAIM ALL REPRESENTATIONS AND WARRANTIES ABOUT THE DIRECT2DRIVE SITE AND SERVICES AND THE GAMES WE DELIVER, INCLUDINGWARRANTIES OF ACCURACY, MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. IN ADDITION, WE DO NOT REPRESENT OR WARRANT THAT THE INFORMATION ACCESSIBLE VIA THE DIRECT2DRIVE SITE AND SERVICES IS ACCURATE, COMPLETE, OR CURRENT. ANY CONTENT DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE DIRECT2DRIVE SITE AND SERVICES IS DOWNLOADED AT YOUR OWN RISK AND YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR MOBILE DEVICE OR LOSS OF DATA THAT RESULTS FROM SUCH DOWNLOAD OR YOUR USE OF THE DIRECT2DRIVE SITE AND SERVICES. YOU ASSUME TOTAL RESPONSIBILITY FOR YOUR USE OF THE DIRECT2DRIVE SITE AND SERVICES AND ANY LINKED SITES. YOUR SOLE REMEDY AGAINST DIRECT2DRIVE, ITS SUPPLIERS AND LICENSORS, FOR DISSATISFACTION WITH THE DIRECT2DRIVE SITE OR SERVICES IS TO STOP USING THE DIRECT2DRIVE SITE AND SERVICES.</p><p>Direct2Drive reserves the right to do any of the following, at any time, without notice: (1) to modify, suspend or terminate operation of or access to the Direct2Drive Site and Services, or any portion thereof, for any reason; (2) to modify or change the Direct2Drive Site and Services, or any portion thereof, and any applicable policies or terms; and (3) to interrupt the operation of the Direct2Drive Site and Services, or any portion thereof, as necessary to perform routine or non-routine maintenance, error correction, or other changes.</p><h3>Limitation of Liability</h3><p>EXCEPT WHERE PROHIBITED BY LAW, IN NO EVENT SHALL THE DIRECT2DRIVE PARTIES, OR ANY OF THEM, BE LIABLE (JOINTLY OR SEVERALLY) TO YOU FOR ANY SPECIAL, INCIDENTAL, INDIRECT, CONSEQUENTIAL OR PUNITIVE DAMAGES OF ANY KIND AND HOWEVER CAUSED, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA, OR PROFITS, WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT OF OR IN CONNECTION WITH ANY OR ALL OF THE DIRECT2DRIVE SITE AND SERVICES OR ANY THIRD PARTY CONTENT PROVIDED IN CONNECTION THEREWITH, OR THE USE OR PERFORMANCE OF ANY PRODUCTS (INCLUDING, BUT NOT LIMITED TO, GAMES) OR THE INFORMATION ON OUR WEBSITE. IN NO EVENT SHALL THE DIRECT2DRIVE PARTIES, OR ANY OF THEM, BE LIABLE (JOINTLY OR SEVERALLY) TO YOU FOR ANY DAMAGE OF ANY KIND TO YOUR MOBILE DEVICE, GAME CONSOLE, OR OTHER EQUIPMENT ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF ANY GAMES. WHILE DIRECT2DRIVE WILL MAKE A REASONABLE EFFORT TO RETURN ANY CUSTOMER\'S PROPERTY IT RECEIVES INADVERTENTLY, DIRECT2DRIVE WILL NOT BE LIABLE FOR ANY LOSSES OF OR DAMAGE TO SUCH PROPERTY. IF ANY APPLICABLE AUTHORITY HOLDS ANY PORTION OF THIS SECTION TO BE UNENFORCEABLE, THEN LIABILITY WILL BE LIMITED TO THE FULLEST POSSIBLE EXTENT PERMITTED BY APPLICABLE LAW.</p><p>IF, NOTWITHSTANDING THE OTHER PROVISIONS OF THESE TERMS OF USE, DIRECT2DRIVE IS FOUND TO BE LIABLE TO YOU FOR ANY DAMAGE OR LOSS WHICH ARISES OUT OF OR IS IN ANY WAY CONNECTED WITH YOUR USE OF THE DIRECT2DRIVE SITE AND SERVICES OR THIRD PARTY CONTENT PROVIDED IN CONNECTION THEREWITH, THE TOTAL LIABILITY OF DIRECT2DRIVE, ITS SUPPLIERS AND LICENSORS SHALL IN NO EVENT EXCEED THE GREATER OF (1) THE TOTAL AMOUNT OF ANY SUBSCRIPTION FEES PAID BY YOU IN THE SIX (6) MONTHS IMMEDIATELY PRECEDING THE EVENTS GIVING RISE TO YOUR CLAIM, AND (2) ONE HUNDRED DOLLARS ($100). SOME JURISDICTIONS DO NOT ALLOW LIMITATIONS OF LIABILITY, SO THE FOREGOING LIMITATIONS MAY NOT APPLY TO YOU.</p><p>You agree that the provisions contained in this section will survive any termination or expiration of this Agreement and/or your account, or of discontinuation of all or any portion of the Direct2Drive Site and Services.</p><h3>Indemnification</h3><p>You agree to defend, indemnify and hold harmless the Direct2Drive Parties and the Moderators from and against any and all claims, damages, obligations, losses, liabilities, costs or debt, and expenses (including but not limited to attorney\'s fees) arising from or related to: (i) your use of and access to the Direct2Drive Site and Services and any third party content provided in connection therewith, including any data or content transmitted or received by you; (ii) your violation of any term of this Agreement, including without limitation your breach of any of the representations and warranties contained herein; (iii) your violation of any third-party right, including without limitation any right of privacy or intellectual property rights; (iv) your violation of any applicable law, rule or regulation; (v) any claim or damages that arise as a result of any of your User Content or any content that is submitted via your account; or (vi) any other party’s access and use of any portion of the Direct2Drive Site and Services with your unique username, password or other appropriate security code. You agree that the provisions contained in this section will survive any termination or expiration of this Agreement and/or your account, or of discontinuation of all or any portion of the Direct2Drive Site and Services.</p><h3>Arbitration Agreement</h3><p>Any claim or dispute between you and Direct2Drive that arises in whole or in part from all or any portion of the Direct2Drive Site and Services or otherwise in connection with this Agreement (a "Dispute") shall be decided exclusively by binding arbitration as set forth in this section, and not by courts of general jurisdiction. Arbitration is more informal than a lawsuit in court. Arbitration uses a neutral arbitrator instead of a judge or jury, allows for more limited discovery than in court, and is subject to very limited review by courts. Arbitrators can award the same damages and relief that a court can award. You agree that, by agreeing to this Agreement, the U.S. Federal Arbitration Act governs the interpretation and enforcement of this provision and that you and Direct2Drive are each waiving the right to a trial by jury. YOU AND DIRECT2DRIVE AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY IN YOUR OR ITS INDIVIDUAL CAPACITY, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE PROCEEDING.</p><p>If you elect to seek arbitration in connection with a Dispute, you must first send to Direct2Drive, by certified mail, a written notice of the claim (“Notice”) to the Direct2Drive address set forth at the end of this Agreement. If Direct2Drive elects to seek arbitration in connection with a Dispute, it will send, by certified mail, a written Notice to the address used for your Direct2Drive account. A Notice, whether sent by you or by Direct2Drive, must (a) describe the nature and basis of the claim or dispute; and (b) set forth the specific relief sought. If Direct2Drive and you do not reach an agreement to resolve the claim within thirty (30) days after the Notice is received, you or Direct2Drive may commence an arbitration proceeding or file a claim in small claims court. During the arbitration, the amount of any settlement offer made by Direct2Drive or you shall not be disclosed to the arbitrator. You may download or copy a form Notice and a form to initiate arbitration at www.adr.org. If you are required to pay a filing fee, after Direct2Drive receives Notice that you have commenced arbitration, it will promptly reimburse you for your payment of the filing fee, unless your claim is for greater than US$10,000. The arbitration will be governed by the Commercial Arbitration Rules and the Supplementary Procedures for Consumer Related Disputes (collectively, "AAA Rules") of the American Arbitration Association ("AAA"), as modified by this Agreement, and will be administered by the AAA. The AAA Rules and Forms are available online at www.adr.org, by calling the AAA at 1-800-778-7879 or by writing to Direct2Drive at the address set forth at the end of this Agreement. The arbitrator is bound by the terms of this Agreement. All issues are for the arbitrator to decide, including issues relating to the scope and enforceability of this arbitration provision. Unless Direct2Drive and you agree otherwise, any arbitration hearings will take place in the county (or parish) of your billing address. (If you reside outside of the United States, any arbitration hearings will take place in your country of residence at a location reasonably convenient to you, but will remain subject to the AAA Rules including the AAA rules regarding the selection of an arbitrator). If your claim is for US$10,000 or less, Direct2Drive agrees that you may choose whether the arbitration will be conducted solely on the basis of documents submitted to the arbitrator, through a telephonic hearing, or by an in-person hearing as established by the AAA Rules. If your claim exceeds US$10,000, the right to a hearing will be determined by the AAA Rules. Regardless of the manner in which the arbitration is conducted, the arbitrator shall issue a reasoned written decision sufficient to explain the essential findings and conclusions on which the award is based. If the arbitrator issues you an award that is greater than the value of Direct2Drive’s last written settlement offer made before an arbitrator was selected (or if Direct2Drive did not make a settlement offer before an arbitrator was selected), then Direct2Drive will pay you the amount of the award or US$1,000, whichever is greater. Except as expressly set forth herein, the payment of all filing, administration and arbitrator fees will be governed by the AAA Rules.</p><h3>Violation of These Terms of Use</h3><p>Direct2Drive may disclose any information we have about you (including your identity) if we determine that such disclosure is necessary in connection with any investigation or complaint regarding your use of the Direct2Drive Site and Services, or to identify, contact or bring legal action against someone who may be causing injury to or interference with (either intentionally or unintentionally) Direct2Drive’s rights or property, or the rights or property of visitors to or users of the Direct2Drive Site and Services, including Direct2Drive’s customers. Direct2Drive reserves the right at all times to disclose any information that Direct2Drive deems necessary to comply with any applicable law, regulation, legal process or governmental request. Direct2Drive may also disclose your information when Direct2Drive determines that applicable law requires or permits such disclosure, including exchanging information with other companies and organizations for fraud protection purposes.</p><p>You agree that Direct2Drive may, in its sole discretion and without prior notice, terminate your access to the Direct2Drive Site and Services and/or block your future access to the Direct2Drive Site and Services if we determine that you have violated these Terms of Use or other agreements associated with your use of the Direct2Drive Site and Services. You also agree that any violation by you of this Agreement will constitute an unlawful and unfair business practice, and will cause irreparable harm to Direct2Drive, for which monetary damages would be inadequate, and you consent to Direct2Drive obtaining any injunctive or equitable relief that Direct2Drive deems necessary or appropriate in such circumstances. These remedies are in addition to any other remedies Direct2Drive may have at law or in equity.</p><p>You agree that Direct2Drive may, in its sole discretion and without prior notice, terminate your access to the Direct2Drive Site and Services, for cause, which includes but is not limited to (1) requests by law enforcement or other government agencies, (2) a request by you (self-initiated account deletions), (3) discontinuance or material modification of the Direct2Drive Site and Services or any portion thereof, or (4) unexpected technical issues or problems.</p><p>You agree that Direct2Drive will not be liable to you or to any third party for termination of your access to the Site as a result of any violation of these Terms of Use.</p><h3>Miscellaneous Provisions</h3><p>You agree that: the Direct2Drive Site and Services shall be deemed (i) solely based in California; and (ii) a passive service that does not give rise to personal jurisdiction over Direct2Drive, either specific or general, in jurisdictions other than California. This Agreement shall be governed by the internal substantive laws of the State of California, without respect to its conflict of laws principles. The application of the United Nations Convention on Contracts for the International Sale of Goods is expressly excluded.</p><p>This Agreement, and any rights and licenses granted hereunder, may not be transferred or assigned by you, but may be assigned by Direct2Drive without restriction. Any attempted transfer or assignment in violation hereof shall be null and void.</p><p>No waiver of any term of this Agreement shall be deemed a further or continuing waiver of such term or any other term, and Direct2Drive\'s failure to assert any right or provision under this Agreement shall not constitute a waiver of such right or provision.</p><p>You may not export or re-export any content or any copy or adaptation of such content, or any product or service offered on the Direct2Drive Site and Services, in violation of any applicable laws or regulations, including without limitation United States export laws and regulations.</p><p>If any provisions of this Agreement are held by a court or other tribunal of competent jurisdiction to be void or unenforceable, such provisions shall be limited or eliminated to the minimum extent necessary and replaced with a valid provision that best accomplishes the intent of the terms of this Agreement, so that the Agreement shall remain in full force and effect. This Agreement constitutes the entire agreement between you and Direct2Drive with respect to your use of the Direct2Drive Site and Services, and any and all other written or oral agreements or understandings previously existing between you and Direct2Drive with respect to such use are hereby superseded and cancelled.</p><h3>To Contact Direct2Drive</h3><p>If you have a question or concern about these Terms of Use, please contact support@direct2Drive.com or by mail: <b><p>Attn: Customer Service</p>AtGames Digital Media Inc.<br/>PO Box 1015<br/>Hawthorne, CA 90251-2015<br/><br/>By E-mail: <a href="mailto://support@direct2Drive.com">support@direct2Drive.com</a></b></p><p>Follow us: @Direct2Drive on Twitter | Direct2Drive on Facebook</p><p>Read more: <a href="https://www.direct2drive.com/#!/about-us/terms-of-use#ixzz3FP6PF8NV">Terms of Use</a><br/>Follow us: @Direct2Drive on Twitter | Direct2Drive on Facebook</p></section></div></div></div></div></a></a>'),a.put("/partials/account/account-info.html",'<div class="form-horizontal" id="accountUpdateForm" ng-controller="accountInfoController"><div class="info panel"><div class="control-group"><label class="control-label" for="signupEmail">Email Address</label><div class="controls" ng-show="isTempEmail(gf.account.emailAddress)"><span class="text-info"><i class="fa fa-question-circle-o qmark-middle pull-right" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;Looking forward to staying in touch!&lt;/strong&gt;&lt;/h5&gt;&lt;p style=\'width:100%;\'&gt;Update and confirm your email address to access all D2D features.&lt;/p&gt;" popover-placement="top" popover-trigger="hover"></i></span> <span class="icon-edit icon-2x" ng-click="updateEmail();"></span></div><div class="controls" ng-show="!isTempEmail(gf.account.emailAddress)"><span class="text-info" style="line-height:30px">{{gf.account.emailAddress}}</span></div></div><div class="row-fluid" ng-show="!emailVerified &amp;&amp; isTempEmail(gf.account.emailAddress)"><form id="reverifyEmailForm" name="reverifyEmailForm" ng-submit="reverifyEmail();" novalidate=""><div class="control-group"><label class="control-label" for="newEmail">New Email</label><div class="controls"><div><input checkemailfitforlivegamer="true" class="span10" id="newEmail" name="newEmail" ng-model="newEmail" placeholder="Please fill in your new email address." required="" type="email"/></div></div></div><div class="control-group"><label class="control-label" for="confirmEmail">Confirm Email</label><div class="controls"><div><input checkemailfitforlivegamer="true" class="span10" cu-focus="" gf-property-match="newEmail" id="confirmEmail" name="confirmEmail" ng-model="confirmEmail" placeholder="Confirm new email" required="" type="email"/></div><div class="error" for="confirmEmail" ng-show="!reverifyEmailForm.confirmEmail.$pristine &amp;&amp; !!reverifyEmailForm.confirmEmail.$error.notMatch &amp;&amp; !reverifyEmailForm.confirmEmail.$focused">Emails do not match</div><div class="text-left"><button class="btn btn-default" ng-disabled="!!reverifyEmailForm.confirmEmail.$error.notMatch || !!reverifyEmailForm.$invalid" type="submit">Update Email</button></div></div></div></form></div><form id="accountUpdate" name="accountUpdate" ng-submit="updateAccount();" novalidate=""><div class="control-group"><label class="control-label" for="firstName">User Name</label><div class="controls" style="padding-top:5px"><label style="cursor:default">{{account.user_name}}</label></div></div><div class="control-group"><label class="control-label" for="subscribe"><i class="fa" ng-class="!account.subscribe ? \'fa-square-o\': \'fa-check-square-o\'" ng-click="setSubscribe();"></i></label><div class="controls"><span class="subscribeDesc">Subscribe to our Mailing List to receive special promotional offers</span></div><label class="control-label"><i class="fa" ng-class="!account.allow_tracking ? \'fa-square-o\': \'fa-check-square-o\'" ng-click="setAllowTracking();"></i></label><div class="controls"><span class="trackingDesc">Allow D2D to track my streaming usage data</span></div></div><div class="control-group"><button class="btn btn-default" type="submit"><strong>Update Account Info</strong></button></div></form><div class="row-fluid" ng-show="connections"><div class="linearHorizon"></div><div class="control-group gf-repeat-animation" ng-repeat="connection in connections | filter: { source: \'!atgames\' }"><label class="control-label"><i aria-hidden="true" class="fa fa-3x fa-facebook-official" ng-if="connection.source === \'Facebook\'" ng-style="connection.connected ? {\'color\':\'#3b5998\'} : \'\'"></i> <i aria-hidden="true" class="fa fa-3x fa-google" ng-if="connection.source === \'Google\'" ng-style="connection.connected ? {\'color\':\'#d9534f\'} : \'\'"></i></label><div class="controls" style="padding-top:5px"><button class="btn btn-default btn-large" gf-action-disconnect-with-oauth="" ng-if="connection.connected" provider="connection.source">Unlink</button> <button class="btn btn-default btn-large" gf-action-continue-with-oauth="" ng-if="!connection.connected" provider="connection.source">Link {{connection.source}}</button></div></div></div><div><div class="linearHorizon"></div><form autocomplete="off" class="form-horizontal" id="extraInfoUpdate" name="extraInfoUpdate" ng-submit="updateExtraInfo();"><div class="fieldset-group"><fieldset><div class="control"><label for="street_1">Name</label><input id="user_name" name="user_name" ng-model="account.address.user_name" required="" type="text"/></div><div class="control"><label for="street_1">Address</label><input id="street_1" name="street_1" ng-model="account.address.street_1" required="" type="text"/></div><div class="control"><label for="street_2"></label><input id="street_2" name="street_2" ng-model="account.address.street_2" type="text"/></div><div class="control three_column"><label for="city">City</label><input id="city" name="city" ng-model="account.address.city" required="" type="text"/><label for="state">State</label><input id="state" name="state" ng-model="account.address.state" required="" type="text"/><label for="zipcode">ZIP</label><input id="zipcode" name="zipcode" ng-model="account.address.zipcode" required="" type="text"/></div><div class="control"><label for="country_code_id">Country</label><select id="country_code_id" name="country_code_id" ng-model="account.address.country_code_id" ng-options="country.country_code_id as country.country_full_name for country in countryCode" required=""><option value=""></option></select></div></fieldset></div><div class="control-group"><button class="btn btn-default" type="submit"><strong>Update Billing Info</strong></button></div></form></div><div ng-if="gf.account &amp;&amp; gf.account.emailAddress"><div class="linearHorizon"></div><form autocomplete="off" class="form-horizontal" id="changePasswordForm" name="theForm" ng-controller="ForgetPasswordController" ng-submit="updatePassword();"><div class="alert alert-danger errors" ng-show="error">{{errorMsg}}</div><div class="alert alert-success" ng-show="success">{{successMsg}}</div><fieldset><div class="control-group"><label class="control-label" for="currentPassword">Current Password</label><div class="controls"><input style="display:none" type="password"/> <input autocomplete="new-password" id="currentPassword" name="currentPassword" ng-model="currentPassword" required="" type="password"/></div></div><div class="control-group pssword"><label class="control-label" for="newPassword">New Password</label><div class="controls"><input containsatleastonedigit="true" id="newPassword" maxlength="16" minlength="8" name="newPassword" ng-model="newPassword" required="" type="password"/></div></div><div class="control-group"><label class="control-label" for="confirmPassword">Confirm Password</label><div class="controls"><input equalto="#newPassword" id="confirmPassword" name="confirmPassword" ng-model="confirmPassword" required="" type="password"/></div></div><div class="control-group"><button class="btn btn-default" type="submit"><strong>Update Password</strong></button></div></fieldset><div class="control-group"><a gf-modal-forget-password="" style="margin-right:5px">Forgot your password?</a> <i class="fa fa-question-circle-o qmark-middle" gf-simple-popover="" ng-if="gf.account.emailAddress" popover-html="&lt;h5&gt;&lt;strong&gt;Signed up through Google/Facebook?&lt;/strong&gt;&lt;/h5&gt;&lt;p style=\'width:100%;\'&gt;If you has never set your password before, please use this link and we will send you instructions through your registered email address.&lt;/p&gt;" popover-placement="right" popover-trigger="hover"></i></div></form></div></div><script>$("#reverifyEmailForm").validate();</script></div>'),a.put("/partials/account/ads-drm-activation-tut.html",'<div class="offer-actions"><div><button class="btn btn-primary" ng-class="btnClass"><span>Instruction</span></button></div></div>'),a.put("/partials/account/cart.html",'<div id="cart-view"><div id="cart-view-content" ng-hide="hide_cart"><div class="cart-header"><h3>My Shopping Cart <i class="fa fa-shopping-cart fa-4"></i></h3></div><div class="row-fluid item-bar"><div class="span4">Your item(s)</div><div class="span2 text-center">Platform</div><div class="span2 text-center">Genre</div><div class="span2 text-center">DRM</div><div class="span2 text-center">Price ({{cart.currency_symbol || \'$\'}})</div></div><div class="item-list"><div ng-repeat="item in cart.cart_details"><div class="row-fluid"><div class="span2"><img alt="{{item.product.title}}" class="thumbnail-img" ng-src="{{item.product.thumbnail_image}}"/></div><div class="span2 itme-detail">{{item.product.title}} <span class="has-own-count" ng-if="item.product.has_own">Already Own: {{item.product.own_count}}</span></div><div class="span2 text-center itme-detail"><i class="{{platform | gfFilterPlatform:\'icon\'}} icon-2x icon-fade" ng-repeat="platform in item.product.platform_ids" title="{{platform | gfFilterPlatform}}"></i></div><div class="span2 text-center itme-detail"><div ng-repeat="genre in item.product.genres">{{genre}}</div></div><div class="span2 text-center itme-detail"><div ng-switch="" on="item.product.drm_type"><img ng-switch-when="" src="images/drm_free.png" title="DRM Free"/> <img ng-switch-when="NONE" src="images/drm_free.png" title="DRM Free"/> <img ng-switch-when="Steam" src="images/drm_steam.png" title="Steam"/> <img ng-switch-when="Origin" src="images/drm_origin.png" title="Origin"/> <img ng-switch-when="SecuRom" src="images/drm_securom.png" title="D2D DRM"/> <img ng-switch-when="MMO" src="images/drm_mmo.png" title="MMO"/> <img ng-switch-when="Uplay" src="images/drm_uplay.png" title="Uplay"/> <img ng-switch-when="Rockstar" src="images/drm_rockstar.png" title="Rockstar Games Social Club"/> <img ng-switch-when="Sony" src="images/drm_sony.png" title="Sony"/> <img ng-switch-when="ESO" src="images/drm_eso.png" title="ESO"/> <img ng-switch-when="ADS" src="images/drm_ads.png" title="ADS"/> <img ng-switch-when="Nintendo" src="images/drm_nintendo.png" title="Nintendo"/> <img ng-switch-when="Xbox" src="images/drm_xbox.png" title="Xbox"/> <img ng-switch-when="Oculus" src="images/drm_oculus.png" title="Oculus"/> <img ng-switch-when="Bethesda" src="images/drm_bethesda.png" title="Bethesda"/> <img ng-switch-when="Epic Games" src="images/drm_epic.png" title="Epic Games"/><div ng-switch-default="">{{product.drmType}}</div></div></div><div class="span1 text-right itme-detail"><del ng-show="item.originPrice !== item.discountedPrice ">{{item.originPrice | currency:cart.currency_symbol:2}}</del> {{item.discountedPrice | currency:cart.currency_symbol:2}}</div><div class="span1 itme-detail"><i class="icon-remove-sign" ng-click="removeItem(item.id);"></i></div></div><div class="linearHorizon" ng-class="{\'has-own\': item.product.has_own}"></div></div><div class="membership-info" ng-if="(cart.streaming.estimated_hours &gt; 0 || cart.vip.top_tier_save &gt; 0)"><div class="malibu-cloud-play" ng-if="(cart.streaming.estimated_hours &gt; 0)"><img alt="malibu cloud play" src="images/malibu_cloud_play.png"/> <strong>You will receive <span>{{cart.streaming.estimated_hours}} hour(s)</span> of FREE Cloud Play™ playtime when you complete this purchase!</strong></div><div class="vip-upgrade-info" ng-if="(cart.vip.top_tier_save &gt; 0)"><div><img align="left" src="images/vip/vip_5_discount.png"/> <strong>You are only <span>${{cart.vip.only_amount_to_top_tier}}</span> from Platinum Membership.<br/>Level up and save an additional <span>${{cart.vip.top_tier_save}}</span>!</strong></div></div></div><div ng-show="gf.account &amp;&amp; (!cart || cart.cart_details.length == 0)  "><h4>Your Shopping Cart is empty.</h4></div><div ng-show="!gf.account"><h4>Please Login.</h4></div></div><div class="item-summary row-fluid"><div class="summary-detail"><div class="span7"><form class="text-left" ng-show="cart.coupon_details.length == 0" ng-submit="applyCoupon()"><div class="input-append"><input autocomplete="off" id="appendedInputButton" ng-disabled="!isLogin" ng-model="couponCode" placeholder="Enter Coupon Code." type="text"/> <button class="btn btn-default-post" ng-disabled="!couponCode"><span ng-if="!couponLoading">Apply</span> <span class="btn-gf-loader" ng-if="couponLoading">       </span></button></div></form><div class="row-fluid" ng-repeat="coupon in cart.coupon_details" ng-show="cart.cart_details.length &gt; 0"><div ng-if="coupon.code === \'ACNET_10P_DISCOUNT\'"><div><div class="span8 arcadenet-discount-block"><strong>ArcadeNet subscription <span>10%</span> discount</strong></div><div class="span4 arcadenet-remove-container"><i ng-class="{\'icon-minus-sign\':!couponRemoveLoading, \'icon-gf-loader\':couponRemoveLoading}" ng-click="removeCoupon(coupon.id)" ng-disabled="couponRemoveLoading"></i></div></div></div><div ng-if="coupon.code !== \'ACNET_10P_DISCOUNT\'"><div class="span4">{{coupon.code}}</div><div class="span4">{{coupon.coupon_description}}</div><div class="span4"><i ng-class="{\'icon-remove-sign\':!couponRemoveLoading, \'icon-gf-loader\':couponRemoveLoading}" ng-click="removeCoupon(coupon.id)" ng-disabled="couponRemoveLoading"></i></div></div></div><div ng-show="recommendation.length &gt; 0">GAMES YOU MAY ALSO LIKE:<br/><div><div class="span2" ng-repeat="product in recommendation" ng-show="product.price.amount &gt; 0" style="display:inline-block"><a ng-click="clickRecommendation(product, $index+1)" ng-href="#!/download-{{product.uriSafeTitle|lowercase}}/{{product.id}}" title="{{product.title}}"><img ng-src="{{product.thumbnailImage}}"/></a><div class="text-center"><span class="text-strikethrough" ng-show="product.isOnSale">{{product.suggestedPrice | gfFilterCurrency}}</span> <span>{{product.price | gfFilterCurrency}}</span></div></div></div></div></div><div class="span5 price-detail" ng-show="cart.cart_details.length &gt; 0"><div class="row-fluid"><div class="span9">Subtotal</div><div class="span3">{{cart.gross_price|currency:cart.currency_symbol :2 }}</div></div><div class="row-fluid" ng-if="couponDiscount().amount &gt; 0"><div class="span9">Coupon</div><div class="span3">{{ couponDiscount().amount | currency:cart.currency_symbol :2}}</div></div><div class="row-fluid" ng-if="redeemDiscount().amount &gt; 0"><div class="span9">D2D Credit</div><div class="span3">{{ redeemDiscount().amount | currency:cart.currency_symbol :2}} <i ng-class="{\'icon-remove-sign\':!redeemRemoveLoading, \'icon-gf-loader\':redeemRemoveLoading}" ng-click="removeRedeem();" ng-disabled="redeemRemoveLoading"></i></div></div><div class="row-fluid"><div class="span12"><hr/></div></div><div class="row-fluid"><div class="span9">Total</div><div class="span3">{{cart.net_price|currency:cart.currency_symbol :2}}</div></div></div></div></div><div class="cart-footer"><div class="row-fluid"><div class="span6"><div class="controls controls-row"></div></div><div class="span6 text-right"><div class="controls controls-row"><span class="pull-right" id="siteseal"><script async="" src="https://seal.godaddy.com/getSeal?sealID=AlrQTApbumyaduj1DCoheR0jJK4zQoiyIzh2Ii7snGxzMK2mFx"></script><img alt="SSL site seal - click to verify" onclick="verifySeal()" src="https://seal.godaddy.com/images/3/en/siteseal_gd_3_h_d_m.gif" style="cursor:pointer;cursor:hand"/></span></div><br/><div ng-if="cartUtil.isStripe()" ng-include="gf.partial.checkout.stripe"></div><div ng-if="cartUtil.isPaypal()" ng-include="gf.partial.checkout.paypal"></div></div></div><div class="row-fluid"> </div></div></div></div><div class="modal hide" data-backdrop="static" data-keyboard="false" id="processingDialog"><div class="modal-header"><h4>Your Order is in Progress. Please wait for Confirmation…</h4></div><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 100%"></div></div></div></div>'),a.put("/partials/account/change-password.html",'<form autocomplete="off" class="form-horizontal" id="changePasswordForm" name="theForm" ng-controller="ForgetPasswordController" ng-submit="updatePassword();"><div class="info panel"><div class="alert alert-danger errors" ng-show="error">{{errorMsg}}</div><div class="alert alert-success" ng-show="success">{{successMsg}}</div><div class="control-group"><label class="control-label" for="currentPassword">Current Password</label><div class="controls"><input style="display:none" type="password"/> <input autocomplete="new-password" id="currentPassword" name="currentPassword" ng-model="currentPassword" required="" type="password"/></div></div><div class="control-group pssword"><label class="control-label" for="newPassword">New Password</label><div class="controls"><input containsatleastonedigit="true" id="newPassword" maxlength="16" minlength="8" name="newPassword" ng-model="newPassword" required="" type="password"/></div></div><div class="control-group"><label class="control-label" for="confirmPassword">Confirm Password</label><div class="controls"><input equalto="#newPassword" id="confirmPassword" name="confirmPassword" ng-model="confirmPassword" required="" type="password"/></div></div><div class="control-group"><button class="btn btn-default" type="submit"><strong>Update</strong></button></div></div></form>'),a.put("/partials/account/complete-forget-password.html",'<div class="container account" id="compelete-signup"><div class="registration panel"><div class="row-fluid text-center"><div class="registration-title"><h1>Password Assistance</h1></div><div><section class="complete-description"><div>You will recieve an e-mail from us with instructions for resetting your password.<br/>If you don\'t receive this e-mail, please check your junk mail folder or visit our support page to contact Customer Service for further assistance.</div></section></div></div></div></div>'),a.put("/partials/account/complete-purchase.html",'<div class="modal hide" data-backdrop="static" data-keyboard="false" id="pleaseWaitDialog"><div class="modal-header"><h4>Your Order is in Progress. Please wait for Confirmation…</h4></div><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 100%"></div></div></div></div><div id="purchase-info"><h1>Purchase Confirmation</h1><div class="panel"><div>Dear {{purchased.user_name}}<p>Thanks you for your purchase! Once your item(s) has been processed, we will send you an email with your digital items ready for download. Happy gaming.</p></div></div><div class="panel"><h4 ng-show="purchased.gift_to_email">Purchased as a gift for {{purchased.gift_to_email}}</h4><div><div class="orderInfo"><h4>Order Number: {{purchased.payment.id}}</h4>Order Submitted: {{purchased.payment.payment_date | date:\'medium\'}}</div></div><div class="summary"><h4>Download Summary</h4><div class="summary-table"><div class="rows thead"><div class="col1">Item</div><div class="col4">Share</div><div class="col2">Price</div><div class="col3">Digital Key</div></div><div class="rows" ng-repeat="product in purchased.products"><div class="col1"><a href="{{product.url}}" target="_blank">{{product.title}}</a></div><div class="col4"><span class="fb-share-button social" data-href="{{product.url}}" data-layout="button" gf-facebook-button="" style="top: -5px"></span> <span data-done="{{product.title}}" data-text="Buy {{product.title}} for {{product.purchaseAction.purchasePrice.currency.symbol}}{{product.purchaseAction.purchasePrice.amount}}" data-url="{{product.url}}" data-via="Direct2Drive" gf-twitter=""></span></div><div class="col2"><del ng-show="product.price !== product.discounted_price ">{{product.price | currency:purchased.currency_symbol:2}}</del> {{product.discounted_price | currency:purchased.currency_symbol:2}}</div><div class="col3">View in <a ng-href="#!/my-account/purchase-history">Purchase History</a></div></div></div></div><div class="rows"><div class="payment-summary"><div><span>Subtotal :</span> <span>{{purchased.payment.subtotal| currency:purchased.currency_symbol:2}}</span></div><div ng-show="discountDetails.discounts.total_discount !== 0"><span>Discounts:</span> <span>{{ discountDetails.discounts.total_discount | currency:purchased.currency_symbol:2}}</span></div><div><span>Tax :</span> <span>{{purchased.payment.tax | currency:purchased.currency_symbol:2}}</span></div><div class="summary-total"><span>Total :</span> <span>{{purchased.payment.total | currency:purchased.currency_symbol:2}}</span></div></div><div class="payment-redeem" ng-if="purchased &amp;&amp; purchased.payment.entitlement_enable"><div class="redeem-button"><gf-action-ubisoft-redeem payment-id="purchased.payment.id" title="\'Your digital items\'"></gf-action-ubisoft-redeem></div><div class="redeem-description">Press the Redeem button to automatically activate your purchase on Uplay.</div></div></div><br/><div class="text-center" ng-if="purchased.gift_to_email === null &amp;&amp;\n      purchased.payment.estimated_hours !== null &amp;&amp;\n      purchased.payment.estimated_hours &gt; 0"><a class="btn btn-danger" ng-href="#!/my-account/streaming" style="color: #fff"><b></b>Start using your Free Cloud Play™ time</a></div><div class="text-center" ng-if="purchased.gift_to_email !== null ||\n      purchased.payment.estimated_hours === null ||\n      purchased.payment.estimated_hours &lt;= 0"><a ng-href="#!/my-account">BACK TO YOUR ACCOUNT</a></div></div></div>'),a.put("/partials/account/complete-registration.html",'<div class="container account" id="compelete-signup"><div class="registration panel"><div class="row-fluid text-center"><div class="registration-title"><h1>Thanks for signing up with Direct2Drive!</h1></div><br/><br/><div><h4>Check Your Email To Activate Your Account</h4><section class="complete-description">To complete the process please check your email. Within the email you will find a link which you must click in order to activate your account.</section></div></div></div></div>'),a.put("/partials/account/complete-reset-email.html",'<div class="container account" id="compelete-signup"><div class="registration panel"><div class="row-fluid text-center"><div class="registration-title"><h1>Password Assitance</h1></div><div><section class="complete-description"><div>You will recieve an e-mail from us with instuctions for resetting your password.<br/>If you don\'t receive this e-mail, please check your junk mail folder or visit our support page to contact Customer Service for further assistance.</div></section></div></div></div></div>'),a.put("/partials/account/complete-reset-password.html",'<div class="container account" id="compelete-signup"><div class="registration panel"><div class="row-fluid text-center"><div class="registration-title"><h1>Your password has been changed</h1></div><div><section class="complete-description"><div><h4>Use your new password to login to the Direct2Drive.</h4><div class="text-center"><a class="btn btn-primary" ng-href="#!/">Home</a></div></div></section></div></div></div></div>'),a.put("/partials/account/confirmation.html",'<div class="container account" id="compelete-signup"><div class="registration panel"><div class="row-fluid text-center"><div class="registration-title"><h1>Thanks for signing up with Direct2Drive!</h1></div><div class="alert alert-danger errors" ng-show="error">{{errorMsg}}</div><br/><br/><div><h4>We just need one more thing to complete registration:</h4><button class="btn btn-primary" gf-confirm-account="">CONFIRM YOUR ACCOUNT</button></div></div></div></div>'),a.put("/partials/account/iframe-paywall.html","<style>iframe {\n     border: none;\n     border-image-source: initial;\n     border-image-slice: initial;\n     border-image-width: initial;\n     border-image-outset: initial;\n     border-image-repeat: initial;\n     border-width: 0;\n     border-style: none;\n     border-color: initial;\n }</style><div 0="" 600px;margin:="" :="" ?="" auto\"="" class="hide" id="iframeCheckout" ng-style='\"navStatus' style='\"width:' {'padding-top':'135px'}\"="" {'padding-top':'95px'}=""><iframe border="0" height="750" id="paywallFrame" name="paywallFrame" width="100%"></iframe></div>"),a.put("/partials/account/my-account.html",'<div class="account" id="my-account"><div class="panel tabPanel"><div class="row-fluid" id="my-account-header"><div class="span2"><h3>My Account</h3></div><div class="span7">{{ isTempEmail(gf.account.emailAddress) ? (gf.account.userName || \'\') : gf.account.emailAddress }}</div><div class="span3"><div class="membership-level-badge" ng-if="vip"><img class="membership-text" ng-src="images/vip/vip_{{vip.tier}}_member_txt.png"/><img class="membership-icon" ng-src="images/vip/vip_{{vip.tier}}_member_icon.png"/></div></div></div><div class="container-fluid text-center"><div class="row-fluid"><div class="span2"><ul class="nav nav-tabs nav-stacked" id="my-account-tabs-option"><li ng-class="{active:(activeTab == tab)}" ng-repeat="tab in tabs"><a ng-click="setTab(tab)">{{tab.title}}</a></li></ul></div><div class="span10 no-space"><div ng-include="" src="activeTab.partial"></div></div></div></div></div></div>'),a.put("/partials/account/my-coupons.html",'<div class="my-coupons"><div class="row coupon-header header"><div class="span4">Savings</div><div class="span4">Expiration Date</div><div class="span4">Code</div></div><div class="panel"><div class="gf-repeat-animation" ng-repeat="coupon in coupons"><div class="row"><div class="span4 text-left"><div>{{coupon.title}}</div><div>{{coupon.desc}}</div></div><div class="span4 text-center">{{coupon.expirationDate}}</div><div class="span4 text-middle">{{coupon.code}}</div></div><div class="linearHorizon"></div></div></div></div>'),a.put("/partials/account/my-games-build.html",'<br/><div class="offer-actions"><div><button btn-class="{{btnClass}}" class="btn btn-primary"><span>Download</span></button></div></div>'),a.put("/partials/account/my-games-key.html","<div class="offer-actions"><div><button btn-primary\"="" class='\"btn' ng-class="btnClass"><span>{{isUbisoftGame ? 'Get Product Info' : 'Get Product Code'}}</span></button></div></div>"),a.put("/partials/account/my-games.html",'<div class="my-games"><div class="row header"></div><div class="panel"><div class="gamelist-table-container"><table class="table" ng-hide="(inventories &amp;&amp; inventories.length === 0) || fetchingMyGames"><thead><tr><th style="width:12%"></th><th style="width:30%"><a class="sorting-header" ng-click="sortingTitle();">Title <i class="fa fa-sort pull-right"></i></a></th><th style="width:10%">DRM</th><th style="width:13%">Type</th><th style="width:15%"><a class="sorting-header" ng-click="sortingDate();">Acquired Date <i class="fa fa-sort pull-right"></i></a></th><th style="width:20%;text-align:center">Actions</th></tr></thead><tbody><tr class="gf-repeat-animation" ng-repeat="inventory in inventories  | orderBy : \'-date\' "><td><img alt="{{inventory.product_item.title}}" class="thumbnail-img" ng-src="{{inventory.product_item.thumbnail_image}}"/></td><td><h4>{{inventory.product_item.title}}</h4><div ng-show="inventory.gift_from_email"><i class="fa fa-gift fa-3x"></i> From: {{inventory.gift_from_email}}</div></td><td><div ng-switch="" on="inventory.product_item.drm"><img ng-switch-when="" src="images/drm_free.png" title="DRM Free"/> <img ng-switch-when="NONE" src="images/drm_free.png" title="DRM Free"/> <img ng-switch-when="Steam" src="images/drm_steam.png" title="Steam"/> <img ng-switch-when="Origin" src="images/drm_origin.png" title="Origin"/> <img ng-switch-when="SecuRom" src="images/drm_securom.png" title="D2D DRM"/> <img ng-switch-when="MMO" src="images/drm_mmo.png" title="MMO"/> <img ng-switch-when="Uplay" src="images/drm_uplay.png" title="Uplay"/> <img ng-switch-when="Rockstar" src="images/drm_rockstar.png" title="Rockstar Games Social Club"/> <img ng-switch-when="Sony" src="images/drm_sony.png" title="Sony"/> <img ng-switch-when="ESO" src="images/drm_eso.png" title="ESO"/> <img ng-switch-when="ADS" src="images/drm_ads.png" title="ADS"/> <img ng-switch-when="Nintendo" src="images/drm_nintendo.png" title="Nintendo"/> <img ng-switch-when="Xbox" src="images/drm_xbox.png" title="Xbox"/> <img ng-switch-when="Oculus" src="images/drm_oculus.png" title="Oculus"/> <img ng-switch-when="Bethesda" src="images/drm_bethesda.png" title="Bethesda"/> <img ng-switch-when="Epic Games" src="images/drm_epic.png" title="Epic Games"/><div ng-switch-default="">{{product.drmType}}</div></div></td><td><div ng-switch="" on="inventory.purchase_type"><span ng-switch-default="">Purchased</span> <span ng-switch-when="purchase">Purchased</span> <span ng-switch-when="rental"><img alt="" src="images/d2d-plus/rental_icon.png"/> Rental</span></div></td><td><span class="purchased-date">{{ inventory.payment_date | date:"MM/dd/yyyy" }}</span><div ng-switch="" on="inventory.purchase_type"><span ng-switch-when="rental">expires {{ expiresIn(inventory.rental.expired_at) }}</span></div></td><td><div class="action"><div class="verticalButton" style="width: 140px"><gf-action-how-to-activate-ads-drm inventory="inventory" ng-show="inventory.product_item.drm === \'ADS\' &amp;&amp; inventory.game_keys.length &gt; 0"></gf-action-how-to-activate-ads-drm><gf-action-get-product-key inventory="inventory" ng-show="(inventory.game_keys.length &gt; 0 || inventory.product_item.drm === \'SecuRom\') &amp;&amp; inventory.product_item.drm !== \'ADS\' "></gf-action-get-product-key><gf-action-download-build game-files="inventory.game_files" ng-show="inventory.game_files.length &gt; 0 &amp;&amp; inventory.product_item.drm !== \'ADS\'"></gf-action-download-build><gf-action-ubisoft-redeem inventory="inventory" ng-show="showRedeemButton(inventory)"></gf-action-ubisoft-redeem></div></div></td></tr></tbody></table><i class="fa fa-spinner fa-spin no-animate" ng-show="fetchingMyGames" style="font-size:60px"></i></div><div class="empty" ng-cloak="" ng-show="inventories &amp;&amp; inventories.length === 0 &amp;&amp; !fetchingMyGames"><h3>You have not made any purchases.</h3></div><div class="paging text-center" ng-show="paging.hasNextPage || paging.hasPreviousPage"><a class="paging-action" ng-click="fetchGamesByPage(paging.previousPageIndex, paging.pageSize)" ng-show="showPreviousBtn">‹</a><div class="paging-info">{{start}} - {{end}} of {{total}}</div><a class="paging-action" ng-click="fetchGamesByPage(paging.nextPageIndex, paging.pageSize)" ng-show="showNextBtn">›</a></div></div></div>'),a.put("/partials/account/my-recommandation.html",'<div class="my-recommandation">YOU MAY ALSO LIKE<div style="width:100%"><ul class="thumbnails"><li ng-if="instantPlayAvailable(product.purchaseAction)" ng-repeat="product in products" style="width: 110px"><div><a ng-click="clickProduct(product, $index+1)" ng-href="{{getProductUrl(product)}}"><img alt="{{product.title}}" class="product-main" ng-src="{{product.thumbnailImage}}"/></a><div style="height: 80px; overflow:hidden"><a ng-href="{{getProductUrl(product)}}"><h6>{{product.title}}</h6></a></div><div class="row-fluid" ng-hide="!!gf.account.emailAddress"><div style="background-color: #ff5700; padding: 3px; width: 85%"><a class="btn-non-login" ng-click="loginOnInstantPlay()" style="color: #000; font-weight: 700">Login to access a FREE trial!</a></div></div><div class="row-fluid" ng-show="!!gf.account.emailAddress"><div ng-if="product.purchaseAction.instant_play.canInstantPlay"><div style="background-color: #F89820; padding: 3px; width: 85%"><a can-instant-play="product.purchaseAction.instant_play.canInstantPlay" class="malibu-buttons-play-now" collection-id="instantPlay.id" game-id="product.streaming_game_id" gf-action-launch-malibu-instant-play="" ng-disabled="disableLaunchBtn()" ng-hide="launchingMalibuClient" offer="product.purchaseAction.instant_play.oid" return-url="returnProductPath(product)" title="PLAY NOW"></a></div></div></div></div></li></ul></div></div>'),a.put("/partials/account/my-subscription.html",'<div class="panel myaccount-subscription-panel"><img src="images/d2d-plus/subscription_title.png"/><p class="subscription-status-text">YOUR CURRENT SUBSCRIPTION STATUS</p><div id="myaccount-subscription-wrapper" ng-if="subscriptionPanel"><p class="subscription-status-desc"><span>{{ premium ? \'YOU ARE SUBSCRIBED\' : \'YOU ARE NOT SUBSCRIBED\' }}</span><br/><small class="subscription-detail" ng-if="premium">{{ premium.stop_renewing ? \'You have canceled auto-renew for your subscription. Your subscription status will end on:\' : \' Your subscription will auto-renew at:\'}} {{ premium.end_date | date:"MM/dd/yyyy" }}</small></p><div ng-if="premium"><div class="subscription-btn-group"><a class="btn btn-success subscribed-btn" gf-action-launch-d2d-client="" launch-args="{ action: \'browse\', path: \'my-account/my-subscription\' }">Launch D2D Client and Start Playing &gt;</a> <a class="btn btn-dafault unsubscribed-btn" ng-click="unsubscribe()" ng-if="!premium.stop_renewing">Want to un-subscribe?</a></div></div><div ng-if="!premium"><a class="btn btn-success" gf-action-premium-subscription="">Subscribe Now for ${{ planPrice }} / month!</a></div><hr/><div class="subscription-games-panel" ng-scrollbars="" ng-scrollbars-config="config"><div ng-repeat="product in subscriptionProducts" style="display: inline-block"><div gf-my-subscription-product-display="" product="product" style="display: inline-block"><a href="{{product.url}}"><div class="card text-center"><img alt="{{product.title}}" class="thumbnail-img" ng-src="{{product.thumbnailImage}}"/><div class="card-body"><h5 class="card-title text-center">{{product.title}}</h5></div></div></a></div></div></div></div><i class="fa fa-spinner fa-spin" id="subsctiptionSpinner" ng-if="spinnerPanel" style="font-size:60px"></i></div>'),a.put("/partials/account/payment-info.html",'<div class="payment-info"><div><div class="connect-info"><span class="connect-title">Connect to Live Gamer <span class="loading-animate">...</span></span></div><div><img src="images/livegamer_logo.jpg"/></div></div></div>'),a.put("/partials/account/purchase-history.html",'<div class="my-games"><div class="row header"></div><div class="panel"><div class="gf-repeat-animation" ng-repeat="order in orders"><div class="order-block"><div class="row block-title"><div class="span2 text-middle"><h4>Order #</h4></div><div class="span2 text-middle"><h4></h4></div><div class="span3 text-middle"><h4>Title</h4></div><div class="span3 text-middle"><h4>Date of Purchase</h4></div><div class="span2 text-middle"><h4>Price</h4></div></div><div class="row"><div class="span2 genre text-center"><div># {{order.id}}</div></div><div class="gf-repeat-animation" ng-repeat="product in order.products track by product.id"><div class="span2"><img alt="{{product.title}}" class="thumbnail-img" ng-src="{{product.thumbnail_image}}"/></div><div class="span4 text-middle"><h4>{{product.title}}</h4></div><div class="span4 text-middle"><div class="span12 text-middle" ng-if="product.purchase_type === \'purchase\'"><div class="date-of-purchases-s" ng-if="product.trade_in === undefined"><span>Purchase:</span> {{ order.payment_date | date:"MM/dd/yyyy" }}</div><div class="date-of-purchases-s" ng-if="product.trade_in"><span>Purchase:</span> {{ order.payment_date | date:"MM/dd/yyyy" }} <span>Trade-in:</span> {{ product.trade_in.trade_in_date | date:"MM/dd/yyyy" }}</div></div><div class="span12 text-middle" ng-if="product.purchase_type === \'rental\'"><div class="date-of-purchases-s"><span>Rental:</span> {{ order.payment_date | date:"MM/dd/yyyy" }}</div></div></div><div class="span2 text-middle"><div class="span12 text-middle" ng-if="product.purchase_type === \'purchase\'"><div class="price-s" ng-if="product.trade_in"><span>Purchase:</span> {{ product.price | currency : ( order.currency.currency_symbol || order.currency.currency_code_iso ) + " " : 2 }} <span>Trade-in:</span> <span style="color:#fff"><embed class="sm-coin svg-purchaseHistory" src="../../images/dcoin.svg"/>{{ product.trade_in.trade_in_price }}</span></div><div class="price-s" ng-if="product.trade_in === undefined"><span>Purchase:</span> {{ product.price | currency : ( order.currency.currency_symbol || order.currency.currency_code_iso ) + " " : 2 }}</div></div><div class="price-s" ng-if="product.purchase_type === \'rental\'"><span>Rental:</span> {{ order.price | currency : ( order.currency.currency_symbol || order.currency.currency_code_iso ) + " " : 2 }}</div></div></div></div><div ng-show="order.to_account.email"><hr/><i class="fa fa-gift fa-3x"></i> for: {{order.to_account.email}}</div></div><div class="linearHorizon"></div></div><div class="empty" ng-show="orders &amp;&amp; orders.length === 0"><h3>You have not made any purchases.</h3></div><div class="paging text-center" ng-show="!!total === true"><a class="paging-action" ng-click="previous()" ng-show="showPreviousBtn">‹</a><div class="paging-info">{{start}} - {{end}} of {{total}}</div><a class="paging-action" ng-click="next()" ng-show="showNextBtn">›</a></div></div></div>'),a.put("/partials/account/reconfirmation.html",'<div class="container account" id="compelete-signup"><div class="registration panel"><div class="row-fluid text-center"><div class="registration-title"><h1>Reconfirmation</h1></div><div class="alert alert-danger errors" ng-show="error">{{errorMsg}}</div><br/><br/><div><h4>We just need one more thing to complete reconfirmation:</h4><button class="btn btn-primary" gf-confirm-account="">CONFIRM YOUR ACCOUNT</button></div></div></div></div>'),a.put("/partials/account/registration.html",'<div class="register-header"><a href="/#!/" id="top"><img src="images/d2d_horiz.png"/></a></div><div class="container register-form" gf-ad-activity="JOIN" id="signup"><div class="registration panel register-form__panel"><div class="row-fluid register-form__header"><h4>It\'s dangerous to go alone! Create Your Account.</h4></div><form autocomplete="off" class="form-horizontal" id="registerForm" name="theForm"><div class="control-group"><label class="control-label register-form__label" for="signupUserName">Your Name</label><div class="controls"><input class="register-form__input" id="signupUserName" name="signupUserName" placeholder="Username" required="" type="text"/></div></div><br/><div class="control-group"><label class="control-label register-form__label" for="signupEmail">Email</label><div class="controls"><input checkemailfitforlivegamer="true" class="register-form__input" cu-focus="" id="signupEmail" name="signupEmail" ng-model="account.email" placeholder="Email" required="" type="email"/></div></div><div class="control-group"><label class="control-label register-form__label" for="signupConfirmEmail">Confirm Email</label><div class="controls"><input checkcase="false" checkemailfitforlivegamer="true" class="register-form__input" cu-focus="" gf-property-match="account.email" id="signupConfirmEmail" name="signupConfirmEmail" ng-model="account.confirmEmail" placeholder="Confirm Email" required="" type="email"/><div class="error" for="signupConfirmEmail" ng-show="!theForm.signupConfirmEmail.$pristine &amp;&amp; !!theForm.signupConfirmEmail.$error.notMatch &amp;&amp; !theForm.signupConfirmEmail.$focused">Emails do not match</div></div></div><br/><div class="control-group"><label class="control-label register-form__label" for="signupPassword">Password</label><div class="controls password"><input class="register-form__input" containsatleastonedigit="true" cu-focus="" id="signupPassword" minlength="16" name="signupPassword" ng-model="account.password" placeholder="Password" required="" type="password"/><div class="password-rule"><p>Must be between 8 – 16 characters and hava at least 1 number</p></div></div></div><div class="control-group"><label class="control-label register-form__label" for="signupConfirmPassword">Confirm Password</label><div class="controls"><input class="register-form__input" cu-focus="" gf-property-match="account.password" id="signupConfirmPassword" name="signupConfirmPassword" ng-model="account.confirmPassword" placeholder="Confirm Password" required="" type="password"/><div class="error" for="signupConfirmPassword" ng-show="!theForm.signupConfirmPassword.$pristine &amp;&amp; !!theForm.signupConfirmPassword.$error.notMatch &amp;&amp; !theForm.signupConfirmPassword.$focused">Passwords do not match</div></div></div><div class="control-group"><label class="control-label" for="subscribe"><i class="fa" ng-class="!subscribe ? \'fa-square-o\': \'fa-check-square-o\'" ng-click="setSubscribe();"></i></label><div class="controls"><span class="subscribeDesc">Yes! Add me to Direct2Drive\'s mailling list to get the latest offers and sweet gaming deals!</span></div></div><div class="control-group" id="captchaLayer"><div class="controls"><div id="captcha"></div><div class="error">{{captchaError}}</div></div></div><div class="control-group" id="submitLayer"><div class="controls"><button analytics-category="Register" analytics-event="Register" analytics-on="" class="btn btn-warning" gf-action-sign-up="" id="Register" ng-disabled="theForm.$invalid || !reCaptcha" type="submit"><strong>REGISTER</strong></button></div></div></form><div class="text-center register-form__terms">By Completing your Registration. you are agreeing with Direct2Drive\'s <a ng-href="{{gf.url.getTermsOfUseUrl()}}#top" rel="nofollow" target="_blank">Terms of Use</a> and <a ng-href="{{gf.url.getPrivacyPolicyUrl()}}#top" rel="nofollow" target="_blank">Privacy Policy</a>.</div></div></div><script>$("#registerForm").validate();</script>'),a.put("/partials/account/reset-password.html",'<div class="container account" id="signup" ng-controller="ForgetPasswordController"><div class="registration panel"><div class="row-fluid"><div class="registration-title"><h1>Reset Password</h1><div class="alert alert-danger errors" ng-show="error">{{errorMsg}}</div></div></div><form class="form-horizontal" id="resetPasswordForm" name="resetPasswordForm" ng-submit="resetPassword();" novalidate=""><div class="control-group"><label class="control-label" for="state">New Password</label><div class="controls password"><input autocomplete="off" containsatleastonedigit="true" cu-focus="" id="newPassword" maxlength="16" minlength="8" name="newPassword" ng-model="password" placeholder="Password" required="" type="password"/><div class="password-rule"><div class="password-rule-title">Requirements</div><ul><li>Must be between 8 – 16 characters</li><li>Must contain at least one number</li></ul></div></div></div><div class="control-group"><label class="control-label" for="state">Confirm Password</label><div class="controls"><input autocomplete="off" cu-focus="" equalto="#newPassword" id="confirmPassword" name="confirmPassword" ng-model="confirmPassword" placeholder="Confirm Password" required="" type="password"/></div></div><div class="control-group"><div class="controls"><button class="btn btn-default" type="submit"><strong>Update</strong></button></div></div></form></div></div>'),a.put("/partials/account/streaming.html",'<div class="row header malibu-cloud-play-header ng-scope"></div><div class="streaming-account" id="streaming"><section class="streaming-top"><header class="malibu-head"><img src="images/streaming/header_d2d_logo.png"/> <img src="images/streaming/instantplay_tab_logo.png"/></header><div class="row-fluid"><div class="span12"><div class="panel-download-client"><span>The D2D streaming Client is required to use both Cloud Play™ and Instant Play™.</span> <a class="c-btn btn-download-streaming-client" href="{{streaming_download_url}}"><b class="button-text">Download Here <img src="images/streaming/download_icon.png"/></b></a></div></div></div><div class="row-fluid malibu-player"><div class="span6"><div class="instant-play"><header><img src="images/streaming/instantplay_txt.png"/></header><div class="panel panel-constant panel-account malibu-instant-play"><div class="row" ng-if="collectionAvailable &amp;&amp; instantPlay.any_instant_playable"><ul class="thumbnails" ng-if="!!gf.account.emailAddress"><li class="span6" ng-if="instantPlayAvailable(product.purchaseAction)" ng-repeat="product in products"><div class="thumbnail"><div class="screenshot-container"><img ng-src="{{product.screenshot.item.sources[0].url}}"/></div><h3>{{product.title}}</h3><p class="description">{{product.tinyDescription}}</p><div class="discount"><span class="pointer" ng-if="product.purchaseAction.totalPercentOff &gt; 0"> {{product.purchaseAction.totalPercentOff | number:0 }}%  OFF</span> <span class="discount-price">{{product.purchaseAction.purchasePrice.amount |currency:product.purchaseAction.purchasePrice.currency.symbol }}</span></div><div class="malibu-buttons malibu-buttons-account" ng-if="product.purchaseAction.instant_play.canInstantPlay"><a class="malibu-buttons-buy account-malibu-button" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" product="product"><span><img src="images/streaming/buy_icon.png"/> BUY NOW</span></a> <a can-instant-play="product.purchaseAction.instant_play.canInstantPlay" class="malibu-buttons-play-now account-malibu-button" collection-id="instantPlay.id" game-id="product.streaming_game_id" gf-action-launch-malibu-instant-play="" ng-disabled="disableLaunchBtn()" offer="product.purchaseAction.instant_play.oid" return-url="returnProductPath(product)" title="PLAY NOW"></a></div><div class="malibu-buttons" ng-if="!product.purchaseAction.instant_play.canInstantPlay"><a class="malibu-buttons-buy" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" product="product"><span><img src="images/streaming/buy_icon.png"/> BUY NOW</span></a></div></div></li></ul></div><div ng-if="!(collectionAvailable &amp;&amp; instantPlay.any_instant_playable)"><br/><br/><p class="contact-support">There is currently no Instant Play™ Spotlight active. For more information please <a ng-href="{{gf.url.getSupportUrl()+\'/customer/portal/emails/new\'}}" target="_blank">contact support</a>.</p></div></div></div></div><div class="span6"><div class="cloud-play"><header><img src="images/cloudplay_txt.png"/></header><div class="panel panel-constant panel-account malibu-cloud-play malibu-cloud-play-account"><div class="paid-play-section" ng-if="paidCloudPlayTicket.expireDateDiff"><small class="remaining-playtime-title">Your Remaining Cloud Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Cloud Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Cloud Play time is rewarded to you when you make purchases at D2D. For every $10 you spend in one transaction, you will receive 1 Cloud Play streaming hour.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>{{paidCloudPlayTicket.time_left.sign}}{{paidCloudPlayTicket.time_left.hours}}</strong> <span>{{paidCloudPlayTicket.time_left.hours &gt; 1 ? \'hours\' : \'hour\' }}</span> <strong>{{paidCloudPlayTicket.time_left.minutes}}</strong> <span>minutes</span></div><small class="remaining-playtime-expire-date">Cloud Play time expires on: {{paidCloudPlayTicket.ticket_expire_at.date | date:\'MM/dd/yyyy\' }}</small><div ng-class="{true: \'pending-cover\', false: \'hide\'}[paidCloudPlayTicket.pending_jobs]" ng-show="paidCloudPlayTicket.pending_jobs"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><p class="cloud-play-message" ng-if="!atLeastOneTicket() &amp;&amp; pendingJobs.status !== true">Play your games on a powerful cloud computer! D2D provides you with an easy way to play hardware intensive games without the headache and cost of buying your own top-notch PC. This means that you can run hight-end games on your low-end PC, or simply experiment with higher settings.</p><p class="spend" ng-if="!atLeastOneTicket() &amp;&amp; pendingJobs.status !== true"><strong>For every <span>$10</span> you spend in one transaction on D2D,<br/>you\'ll receive <span>one hour</span> of FREE Cloud Play™ playtime!</strong></p><div ng-if="pendingJobs.paid === true &amp;&amp; !hasPaidTicket()"><small class="remaining-playtime-title">Your Remaining Cloud Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Cloud Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Cloud Play time is rewarded to you when you make purchases at D2D. For every $10 you spend in one transaction, you will receive 1 Cloud Play streaming hour.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>00</strong> <span>hour</span> <strong>00</strong> <span>minute</span></div><small class="remaining-playtime-expire-date">Cloud Play time expires on: -</small><div class="pending-cover"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><div class="bonus-play-section" ng-if="bonusCloudPlayTicket.expireDateDiff"><small class="remaining-playtime-title">Your Remaining Bonus Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Bonus Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Bonus Play time is rewarded to you when you participate in D2D Streaming events. Bonus Play Time will expire along with the event.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>{{bonusCloudPlayTicket.time_left.sign}}{{bonusCloudPlayTicket.time_left.hours}}</strong> <span>{{bonusCloudPlayTicket.time_left.hours &gt; 1 ? \'hours\' : \'hour\' }}</span> <strong>{{bonusCloudPlayTicket.time_left.minutes}}</strong> <span>minutes</span></div><small class="remaining-playtime-expire-date">Bonus Play time expires on: {{bonusCloudPlayTicket.ticket_expire_at.date | date:\'MM/dd/yyyy\' }}</small><div ng-class="{true: \'pending-cover\', false: \'hide\'}[bonusCloudPlayTicket.pending_jobs]" ng-show="bonusCloudPlayTicket.pending_jobs"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><div ng-if="pendingJobs.bonus === true &amp;&amp; !hasBonusTicket()"><small class="remaining-playtime-title">Your Remaining Bonus Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Bonus Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Bonus Play time is rewarded to you when you participate in D2D Streaming events. Bonus Play Time will expire along with the event.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>00</strong> <span>hour</span> <strong>00</strong> <span>minute</span></div><small class="remaining-playtime-expire-date">Bonus Play time expires on: -</small><div class="pending-cover"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><br/><div ng-if="able2Launch()"><p class="cloudplay-section-text"><img src="images/streaming/account_launch_title.png"/></p><p class="switch-srv" ng-if="ableToSwitchingServer"><span class="switch-srv-content-sm">Switch to D2D\'s new server for faster streaming!</span><button class="c-btn switch-srv-btn" switching-srv-btn="">Switch Now</button></p><div ng-hide="disableLaunchBtn()"><div class="row-fluid"><div class="span12"><ul class="launch-desktop-row"><li class="span6"><a class="btn1 btn-danger1" game-id="5009901" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Windows"><img class="launch-btn-img launch_windows" src="images/streaming/launch_windows_default.png"/></a></li><li class="span6"><a class="btn1 btn-danger1" game-id="5009902" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Steam"><img class="launch-btn-img launch_steam" src="images/streaming/launch_steam_default.png"/></a></li></ul></div></div><div class="row-fluid"><div class="span12"><ul class="launch-desktop-row"><li class="span6"><a class="btn1 btn-danger1" game-id="5009903" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Origin"><img class="launch-btn-img launch_origin" src="images/streaming/launch_origin_default.png"/></a></li><li class="span6"><a class="btn1 btn-danger1" game-id="5009904" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Blizzard"><img class="launch-btn-img launch_blizzard" src="images/streaming/launch_blizzard_default.png"/></a></li></ul></div></div></div><div ng-if="disableLaunchBtn()"><div class="row-fluid"><b><i class="fa fa-cog fa-spin fa-3x fa-fw"></i></b></div></div></div><div><p class="cloudplay-section-text smaller" style="font-size:0.8em">Direct2Drive does not record or retain any user infomation, including account logins.</p><p class="smaller">For more Cloud Play™ terms and conditions, please visit <a ng-href="{{gf.url.getSupportUrl()}}">D2D support page</a>.</p></div></div></div></div></div></section></div>'),a.put("/partials/account/stripe-paywall.html",'<div class="modal hide" data-backdrop="static" data-keyboard="false" id="stripePaywall"><div class="paywall-header"><button aria-hidden="true" class="close" type="button">×</button><div class="Header-logo"><div class="Header-logoWrap"><div class="Header-logoBevel"></div><div class="Header-logoBorder"></div><img class="Header-logoImageCatchError" src="/images/d2d_fb_icon.png"/><div alt="Logo" class="Header-logoImage" style="background-image: url(\'/images/d2d_fb_icon.png\')"></div></div></div><h1 class="Header-companyName">Direct2Drive</h1><h2 class="Header-purchaseDescription">Easy Play Game</h2><div class="Header-account" style="position: relative"><div><div class="Header-accountBar"><div class="Header-loggedInBar"></div><span class="Header-loggedInEmail" title="user-email">logined user email</span></div></div></div></div><div class="paywall-body"><div class="cell paywall stripePaywall"><div id="payment-request"><div id="payment-request-button"></div></div><form><fieldset><div data-locale-reversible=""><div class="row"><div class="field"><input autocomplete="name-level1" class="input empty" data-tid="elements_examples.form.name_placeholder" id="stripePaywall-name" placeholder="Jane Doe" required="" type="text"/><label data-tid="elements_examples.form.name_label" for="stripePaywall-name">Name</label><div class="baseline"></div></div></div><div class="row"><div class="field"><input autocomplete="address1-line" class="input empty" data-tid="elements_examples.form.address1_placeholder" id="stripePaywall-address1" placeholder="258 Kansas Street" required="" type="text"/><label data-tid="elements_examples.form.address1_label" for="stripePaywall-address1">Billing Address1</label><div class="baseline"></div></div></div><div class="row"><div class="field"><input autocomplete="address2-line" class="input empty" data-tid="elements_examples.form.address2_placeholder" id="stripePaywall-address2" placeholder="258 Kansas Street" type="text" value="{{account.address.street_2}}"/><label data-tid="elements_examples.form.address2_label" for="stripePaywall-address2">Billing Address2</label><div class="baseline"></div></div></div><div class="row" data-locale-reversible=""><div class="field half-width"><input autocomplete="address-level2" class="input empty" data-tid="elements_examples.form.city_placeholder" id="stripePaywall-city" placeholder="El Segundo" required="" type="text"/><label data-tid="elements_examples.form.city_label" for="stripePaywall-city">City</label><div class="baseline"></div></div><div class="field quarter-width"><input autocomplete="address-level1" class="input empty" data-tid="elements_examples.form.state_placeholder" id="stripePaywall-state" placeholder="CA" required="" type="text"/><label data-tid="elements_examples.form.state_label" for="stripePaywall-state">State</label><div class="baseline"></div></div><div class="field quarter-width"><input autocomplete="postal-code" class="input empty" data-tid="elements_examples.form.postal_code_placeholder" id="stripePaywall-zip" placeholder="90245" required="" type="text"/><label data-tid="elements_examples.form.postal_code_label" for="stripePaywall-zip">ZIP</label><div class="baseline"></div></div></div></div><div class="row"><div class="field"><select class="input Select-control" id="stripePaywall-country" required=""><option disabled="" hidden="" selected="" value="">Select country…</option><option ng-repeat="country in countryCode" value="{{country.code2}}">{{country.country_full_name}}</option></select><label data-tid="elements_examples.form.country_label" for="stripePaywall-country">Country</label><div class="baseline"></div></div></div><div class="row"><div class="field"><div class="input empty" id="stripePaywall-card"></div><label data-tid="elements_examples.form.card_label" for="stripePaywall-card">Card</label><div class="baseline"></div></div></div><div class="row"><button data-tid="elements_examples.form.pay_button" type="submit">Pay $</button></div></fieldset><div class="error" role="alert"><svg height="17" viewbox="0 0 17 17" width="17" xmlns="http://www.w3.org/2000/svg"><path class="base" d="M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z" fill="#000"></path><path class="glyph" d="M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z" fill="#FFF"></path></svg> <span class="message"></span></div></form><div class="success"><div class="icon"><svg height="84px" version="1.1" viewbox="0 0 84 84" width="84px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><circle class="border" cx="42" cy="42" fill="none" r="40" stroke="#000" stroke-linecap="round" stroke-width="4"></circle><path class="checkmark" d="M23.375 42.5488281 36.8840688 56.0578969 64.891932 28.0500338" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"></path></svg></div><h3 class="title" data-tid="elements_examples.success.title">Payment successful</h3></div></div></div></div>'),a.put("/partials/account/trade-in-btn.html",'<br/><div class="offer-actions"><div><button class="btn btn-primary btn-trade-in"><span><img class="tradin-icon" src="images/tradein_icon.png"/> Trade In</span></button></div></div>'),a.put("/partials/account/ubisoft-redeem.html",'<br/><div class="offer-actions"><div><button class="btn btn-primary" ng-class="btnClass"><span>Redeem</span></button></div></div>'),a.put("/partials/account/wallet.html",'<div class="row header myaccount-wallet-header"></div><div class="panel myaccount-wallet"><img src="images/D2D_wallet.png"/><p class="wallet-section-text">What is My D2D Wallet?</p><p class="text-grey">The D2D Wallet shows any remaining funds that you can apply to the purchase of your next tradable game.</p><small class="wallet-balance-title">Your Current D2D Wallet Balance:</small><hr/><div class="wallet-status-block"><div class="center-align"><span class="wallet-balance" ng-show="wallet"><embed class="lg-coin svg-wallet" src="../../images/dcoin.svg"/>{{ wallet.balance }}</span></div></div><hr/><p class="wallet-section-history-title">Trade In History</p><div class="row-fluid history-container" ng-scrollbars="" ng-scrollbars-config="config"><div class="span12"><div class="row-fluid" ng-repeat="record in wallet.history"><div ng-if="record.purpose === \'trade_in\'"><div class="span2"><div class="wallet-action"><span class="action-badge wallet-action-trade-in">Trade in</span></div></div><div class="span6 history-info">{{ record.product.title }}</div><div class="span2">{{ record.transactionDate | date:"MM/dd/yyyy" }}</div><div class="span2">+<embed class="sm-coin svg-tradeInHistory" src="../../images/dcoin.svg"/>{{ record.transactionAmount }}</div></div><div ng-if="record.purpose === \'redeem\'"><div class="span2"><div class="wallet-action"><span class="action-badge wallet-action-redeem">Used</span></div></div><div class="span6 history-info">Order # {{ record.payment.orderId }}</div><div class="span2">{{ record.transactionDate | date:"MM/dd/yyyy" }}</div><div class="span2">-<embed class="sm-coin svg-tradeInHistory" src="../../images/dcoin.svg"/>{{ record.transactionAmount }}</div></div></div></div></div></div>'),a.put("/partials/account/xsolla-cart.html","<style>iframe {\n    border: none;\n    border-image-source: initial;\n    border-image-slice: initial;\n    border-image-width: initial;\n    border-image-outset: initial;\n    border-image-repeat: initial;\n    border-width: 0;\n    border-style: none;\n    border-color: initial;\n}</style><div :="" ?="" class="hide" id="xsollaCheckout" ng-style='\"navStatus' {'padding-top':'135px'}\"="" {'padding-top':'95px'}=""><iframe border="0" height="750" id="xsollaPaywallFrame" name="xsollaPaywallFrame" width="100%"></iframe></div>"),a.put("/partials/adsdrm.html","<div class="container-fluid"><div class="browse-module" ng-include="" src="gf.partial.module.browse"></div></div>"),a.put("/partials/arcade_store.html",'<div ng-hide="backgroundUnavailable"><div class="promotion-background" gf-hero="" hero="hero"></div></div><div class="loading-icon" ng-show="showLoadingIcon"><div class="progress progress-striped active"><div class="bar" style="width: 100%"></div></div></div><div class="store-desc">Legends Arcade Supported Games is a growing library of curated titles that work with the Legends connected home arcade series of products from AtGames, including the <a href="https://arcades.atgames.net/" target="_blank">Legends Ultimate</a> and Legends Gamer. Every digital PC game title offered here can be played through <a href="https://www.atgames.net/arcadenet/byog" target="_blank">BYOG™</a> (Bring Your Own Game) and is compatible with each product\'s unique controls. Refer to the individual game listing for compatibility with your specific Legends connected home arcade series product.</div><div class="container-fluid"><div class="browse-module" ng-include="" src="gf.partial.module.browse"></div></div>'),a.put("/partials/checkout/paypal.html",'<div class="controls controls-row button-group"><button analytics-category="Continue shopping" analytics-event="Continue shopping" analytics-on="" class="btn btn-default" ng-click="goIndex();" ng-if="!gfCart.isPaypal()"><strong>Continue shopping</strong></button> <button analytics-category="Proceed to Checkout" analytics-event="Proceed to Checkout" analytics-on="" class="btn btn-primary checkout" ng-click="checkoutCart();" ng-disabled="cart.cart_details.length==0 || !cart">Proceed to Checkout <i class="fa fa-caret-right"></i></button><div id="paypal-button"></div></div>'),a.put("/partials/checkout/stripe.html",'<div class="controls controls-row button-group"><button analytics-category="Continue shopping" analytics-event="Continue shopping" analytics-on="" class="btn btn-default" ng-click="goIndex();"><strong>Continue shopping</strong></button> <button analytics-category="Proceed to Checkout" analytics-event="Proceed to Checkout" analytics-on="" class="btn btn-primary checkout" ng-click="checkoutCart();" ng-disabled="cart.cart_details.length==0 || !cart" ng-keydown="stopEnter($event)">Proceed to Checkout <i class="fa fa-caret-right"></i></button></div>'),a.put("/partials/collection.html",'<div class="container-fluid"><h1>{{gf.collectionTitle}}</h1><div class="row-fluid" ng-repeat="row in promotions"><ul class="thumbnails"><li class="span2" ng-repeat="promotion in row"><a href="{{gf.url.getPromotionUrl(promotion.id)}}"><img ng-src="{{promotion.marketingUrl}}"/><h5>{{promotion.name}}</h5></a><p class="text-mini text-light" ng-show="promotion.endDate">Ends {{promotion.endDate | date}}</p></li></ul></div></div>'),a.put("/partials/collection_browse.html","<div ng-hide="backgroundUnavailable"><div class="promotion-background" gf-hero="" hero="hero"></div></div><div class="container-fluid"><div class="browse-module" ng-include="" src="gf.partial.module.browse"></div></div>"),a.put("/partials/comingsoon.html","<div class="container-fluid"><div class="browse-module" ng-include="" src="gf.partial.module.browse"></div></div>"),a.put("/partials/component/hero-video-player.html",'<div class="video-player" gf-jwplayer="" id="videoPlayer-{{heroIndex}}" jwplayer-config="jwPlayerConfig"></div><div class="age-gating" ng-show="status == \'init\' || status == \'invalid\'"><div ng-show="status == \'invalid\'"><div class="age-gating-title">THIS CONTENT IS FOR MATURE AUDIENCES ONLY</div></div><div ng-show="status == \'init\' || status == \'invalid\'"><div class="age-gating-title">Please Enter Your Birthday</div><select class="span2 show-tick" data-style="btn-select" ng-model="bd.month" ng-options="m as m for m in monthes"><option value="">MONTH</option></select><select class="span2 show-tick" data-style="btn-select" ng-model="bd.day" ng-options="m as m for m in days"><option value="">DAY</option></select><select class="span2 show-tick" data-style="btn-select" ng-model="bd.year" ng-options="m as m for m in years"><option value="">YEAR</option></select><div><a class="btn btn-warning" ng-click="enterBirthday()">Submit</a></div></div></div>'),a.put("/partials/d2d-plus/d2dplus.html",'<div id="d2dplus-page-wrapper"><div class="d2d-plus-wrapper" id="d2dplus"><section><header class="d2d-client-head"><img src="images/d2d-plus/d2dplus_title.png"/></header><div class="row-fluid"><div class="span12"><div class="panel-download-client"><span>The D2D Plus Client is required to take advantage of D2D Plus services.</span> <a class="c-btn btn-download-streaming-client" ng-href="{{d2d_client_download_url}}"><b class="button-text">Download Here <img src="images/streaming/download_icon.png"/></b></a></div></div></div><div class="row-fluid"><div class="span12"><div class="what-is-d2d-plus"><div class="d2d-plus-panel panel-constant"><h4><i>WHAT IS D2D PLUS?</i></h4><div class="desc-title">How does it work?</div><div class="desc-content">We use a non-Steam DRM that allows gamers to play games. These titles won\'t show up in your Steam Library. Just download the D2D Plus client and then purchase the titles to download the games and start playing them.</div><div class="desc-title">How do I start?</div><div class="desc-content">It\'s easy. Click on the "Download Here" button above to start!</div></div></div></div></div><hr style="border-color: #888"/></section></div><div ng-include="" src="gf.partial.tradein"></div><div ng-include="" src="gf.partial.rental"></div><div ng-include="" src="gf.partial.subscription"></div><div ng-include="" src="gf.partial.Streaming.instantPlay"></div><div ng-include="" src="gf.partial.Streaming.cloudPlay"></div></div>'),a.put("/partials/d2d-plus/rental.html",'<span id="rental-section"></span><div class="d2d-plus-wrapper" id="rental" style="border: none"><div class="row-fluid" style="float: right"><a class="span2 btn btn-default back-to-top-btn" ng-click="gotoElement(\'d2dplus\')" style="float: right">Back to Top <i class="fa fa-caret-up fa-lg" style="margin-left:10px"></i></a></div><section><header class="d2d-client-head"><img src="images/d2d-plus/rental_title.png"/><span class="badge badge-dark">Coming Soon</span></header><div class="row-fluid"><div class="span12 d2d-plus-panel"><div class="span6 d2d-plus-panel panel-constant"><h4><i>WHAT IS D2D RENTAL?</i></h4><div class="desc-title">What is it?</div><div class="desc-content">Digital PC game rental is probably what you think it is – a service that allows you to try a game for 1 – 3 days at a low daily price. This can be a great way to experience a game before buying it.</div><div class="desc-title">How does it work?</div><div class="desc-content">Download the D2D Plus client, launch it, then select the game that you are looking for. You will be presented with a choice on how long you would like to rent it. Make your selection, download the game, then enjoy it until the end of your rental period. When your rental period ends you will no longer be able to play the game and can delete the game file from your local drive.</div></div><div class="span6 d2d-plus-panel panel-constant"><div class="desc-title" style="margin-top:50px">How long does it last?</div><div class="desc-content">Anywhere from 1 to 3 days, according to your preference.</div><div class="desc-title">What does it cost?</div><div class="desc-content">Rentals are currently priced at $2.99 (or the equivalent local currency) per 24-hour block of time.</div><div class="desc-title">How do I start?</div><div class="desc-content">Download the D2D Plus client, then click on the Rental button to see the available games!</div></div></div></div></section><hr style="border-color: #888"/></div>'),a.put("/partials/d2d-plus/subscription.html",'<span id="subscription-section"></span><div class="d2d-plus-wrapper" id="subscription" style="border: none"><div class="row-fluid" style="float: right"><a class="span2 btn btn-default back-to-top-btn" ng-click="gotoElement(\'d2dplus\')" style="float: right">Back to Top <i class="fa fa-caret-up fa-lg" style="margin-left:10px"></i></a></div><section><header class="d2d-client-head"><img src="images/d2d-plus/subscription_title.png"/><span class="badge badge-dark">Coming Soon</span></header><div class="row-fluid"><div class="span12 d2d-plus-panel"><div class="span6 d2d-plus-panel panel-constant"><h4><i>WHAT IS D2D SUBSCRIPTION?</i></h4><div class="desc-title">What is it?</div><div class="desc-content">Like variety in your gaming life? Our digital PC gaming subscription service might be perfect for you. For a low monthly fee, you get unlimited access to our library of titles. Play as few or many titles as you like. With our Subscription program, it’s all about gaming options.</div><div class="desc-title">How does it work?</div><div class="desc-content">Start by downloading the D2D Plus client. Launch it, browse the library of titles, then select and download the games that interest you. Play as much as you want during your subscription period.</div></div><div class="span6 d2d-plus-panel panel-constant"><div class="desc-title" style="margin-top:50px">How long does it last?</div><div class="desc-content">It’s up to you – subscriptions provide library access one month at a time.</div><div class="desc-title">What does it cost?</div><div class="desc-content">Our subscription program is currently ${{ planPrice }} (or the equivalent local currency) per month, subject to change.</div><div class="desc-title">How do I start?</div><div class="desc-content">Download the D2D Plus client, then click on the Subscription button to view the games library and sign up!</div></div></div></div></section><hr style="border-color: #888"/><div class="row-fluid" style="float: right"><a class="span2 btn btn-default back-to-top-btn" ng-click="gotoElement(\'d2dplus\')" style="float: right">Back to Top <i class="fa fa-caret-up fa-lg" style="margin-left:10px"></i></a></div></div>'),a.put("/partials/d2d-plus/tradein.html",'<span id="tradein-section"></span><div class="d2d-plus-wrapper" id="tradein" style="border: none"><div class="row-fluid" style="float: right"><a class="span2 btn btn-default back-to-top-btn" ng-click="gotoElement(\'d2dplus\')" style="float: right">Back to Top <i class="fa fa-caret-up fa-lg" style="margin-left:10px"></i></a></div><section><header class="d2d-client-head"><img src="images/d2d-plus/trade-in/tradein_title.png"/></header><div class="row-fluid"><div class="span6"><div class="what-is-d2d-trade-in"><div class="d2d-plus-panel panel-constant"><h4><i>WHAT IS D2D TRADE IN?</i></h4><div class="desc-title">What are Tradable Games?</div><div class="desc-content">It\'s simple: games that you can trade back in for credit when you are done playing them. Mind-blowing, right? Console gamers have been doing this forever and we\'re proud to finally be able to bring the concept to PC digital title as well.</div><div class="desc-title">How is it possible to make digital PC game tradable?</div><div class="desc-content">Great question. There are two essential ingredients: publisher participation and the use of a proprietary DRM software that keeps games secure while still allowing them to be traded.</div><div class="desc-title">Are these tradable games playable on Steam?</div><div class="desc-content">No. We use a non-Steam DRM to secure the game files but also allow them to be tradable.</div><div class="desc-title">Why do I need to download a separate client?</div><div class="desc-content">Similar to Steam and a few large publishers, we use a local client to launch the games in your library. You can download the Windows client from the "Download Here" button above.</div><div class="desc-title">How do I launch my games?</div><div class="desc-content">It\'s easy. In the D2D Windows client, go to "My Games" under the "My Account" header. Click on the "Actions" button next to your games to launch it.</div></div></div></div><div class="span6"><div class="how-does-it-work"><div class="d2d-plus-panel panel-constant"><h4><i>HOW DOES IT WORK?</i></h4><div class="steps"><div class="span3 img"><img alt="" src="../../images/d2d-plus/trade-in/step_icon1.png"/></div><div class="span3 step"><span class="step-background">STEP 1</span></div><div class="span6 desc"><div class="span6 step-content">Buy a tradable game on Direct2Drive</div></div></div><div class="steps"><div class="span3 img"><img alt="" src="../../images/d2d-plus/trade-in/step_icon2.png"/></div><div class="span3 step"><span class="step-background">STEP 2</span></div><div class="span6 desc"><div class="span6 step-content enjoy-the-game">Enjoy the game!</div></div></div><div class="steps"><div class="span3 img"><img alt="" src="../../images/d2d-plus/trade-in/step_icon3.png"/></div><div class="span3 step"><span class="step-background">STEP 3</span></div><div class="span6 desc"><div class="span6 step-content">When done with the game, check its trade value on Direct2Drive</div></div></div><div class="steps"><div class="span3 img"><img alt="" src="../../images/d2d-plus/trade-in/step_icon4.png"/></div><div class="span3 step"><span class="step-background">STEP 4</span></div><div class="span6 desc"><div class="span6 step-content">Trade the game for D2D credit toward your next purchase</div></div></div></div></div></div></div><hr ng-if="collectionAvailable || expireDateDiff"/></section><hr style="border-color: #888"/></div>'),a.put("/partials/error.html",'<div class="container-fluid text-center"><img ng-src="{{gf.asset.getAssetPath(\'img/errors/critical-error.png\')}}"/></div>'),a.put("/partials/footer.html",'<div class="row-fluid action-bar"><div class="container-fluid text-center"></div></div><div class="row-fluid content"><div class="container-fluid"><div class="row-fluid"><div class="span2 border-left pad-left"><ul><li><p><strong>About Direct2Drive</strong></p></li><li><a ng-href="{{gf.url.getAboutUsUrl()}}#top" rel="nofollow">About Us</a></li><li><a ng-href="{{gf.url.getAffiliateProgramUrl()}}#top" rel="nofollow">Affiliate Program</a></li><li><a ng-href="{{gf.url.getSupportUrl()}}#top" rel="nofollow">Support</a></li><li><a ng-href="{{gf.url.getSitemapUrl()}}#top" rel="nofollow">Sitemap</a></li><li><a ng-href="{{gf.url.getPrivacyPolicyUrl()}}#top" rel="nofollow">Privacy Policy</a></li><li><a ng-href="{{gf.url.getTermsOfUseUrl()}}#top" rel="nofollow">Terms of Use</a></li></ul></div></div><div class="pad"></div><div class="row-fluid text-center"><p class="text-mini text-light">Copyright: © AtGames Cloud Holdings Ltd. All rights reserved. All trademarks are property of their respective owners in the US and other countries.</p></div></div></div>'),a.put("/partials/gdpr/opt.html","<div class="flex-container"><div id="opt-bg"><div class="opt-content"><div =="opt_in" \"="" class="opt-in" ng-if='\"result'><p>Thanks for opting in to continue receiving emails from us! We’re constantly working to deliver great game deals to you. We hope to see you again soon at Direct2Drive.com!</p><br/><p>Sincerely,<br/>Your Friends at Direct2Drive</p></div><div =="opt_out" \"="" ng-if='\"result'><p class="opt-out">Fatal error! BSOD! Well, maybe not, but on a serious note, we’re sad to see you depart from our email list but always welcome you at the website. We hope you’ll stop by again soon to check out the latest games and deals at Direct2Drive.com.</p></div></div><div class="opt-link"><a href='\"http://www.direct2drive.com/\"'>Go shopping at Direct2Drive.com</a></div></div></div><style>.flex-container {\n    display: flex;\n    padding: 100px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #opt-bg {\n    background-image: url('../images/gdpr/optin_bg.png');\n    background-repeat: no-repeat;\n    background-color: #f1f1f1;\n    width: 700px;\n    height: 355px;\n    margin: 10px;\n    text-align: center;\n  }\n\n  .opt-content {\n    color: #fff;\n    padding: 100px;\n    font-size: 17px;\n    text-align: left;\n    background: transparent;\n  }\n\n  .opt-out {\n    margin-bottom: 60px;\n  }\n\n  .opt-link>a:active,\n  .opt-link>a:visited,\n  .opt-link>a:link {\n    color: #fca539;\n    font-size: 13px;\n    text-decoration: underline;\n  }</style>"),a.put("/partials/home.html",'<div class="container-fluid home"><a class="skin" gf-skin="" ng-href="{{skin.marketingUrl}}" ng-show="skin.background"></a><div class="hero-module panel pad"><div class="hero-wrapper" gf-hero-rotator="" heros="heros" squares="squares"></div></div><div class="featured-module panel pad"><div class="row-fluid text-center"><ul class="nav gf-pills"><li ng-class="{active:(tab == featured.tab)}" ng-repeat="tab in featured.tabs"><a ng-click="featured.setTab(tab)">{{tab.name}}</a></li></ul></div><div class="row-fluid"><div gf-featured="" items="featured.items[featured.tab.value]"></div><div gf-featured-bottom="" headline="featured.fixedHeadline" items="featured.fixed"></div></div></div><div class="browse-module" ng-include="" src="gf.partial.module.browse"></div><div class="panel pad"><div class="row-fluid"><div class="col-10-2" ng-repeat="ad in ads"><a href="{{ad.referenceUrl}}"><img ng-src="{{ad.marketingUrl}}"/></a></div></div></div></div><div gf-notification-container=""></div>'),a.put("/partials/maintenance.html",'<div class="container-fluid text-center" style="padding-top: 20px"><img src="images/D2D_loader_FullSpinner_Static.png"/><h1>Maintenance</h1><h3>Sorry for the inconvenience.</h3><h3>We\'re making updates to improve your experience.</h3><h3>Direct2Drive should be back shortly!</h3></div>'),a.put("/partials/modal/activation-key.html",'<div class="modal hide fade" id="activationKey"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h4>Product Activation Key</h4></div><div class="modal-body"><div ng-repeat="key in keys"><h5>{{key.name}}</h5><p>{{key.keyCode}}</p></div><p ng-bind-html="keyInstructions"></p></div><div class="modal-footer"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal"><strong>Close</strong></button></div></div>'),a.put("/partials/modal/adsDrmReminder.html",'<div class="modal hide fade compact-modal" id="adsDrmReminder"><div class="modal-header"><h3>{{ gf.message.type }}</h3></div><div class="modal-body"><div class="control-group"><p class="reminder-body">{{ gf.message.body }}</p></div></div><div class="modal-footer"><div class="text-right"><button class="btn btn-got-it" gf-action-close-ads-drm-reminder="" href="#">Got it</button></div></div></div>'),a.put("/partials/modal/campaigns/bonus-20hrs-cloudplay.html",'<div class="modal hide fade bonus20hrs-modal" id="bonus20hrsCloudPlay"><div class="modal-body"><a class="cancel" gf-action-close-bonus20hrs=""></a><h3>{{gf.campaign.bonusHours}}HOURS</h3><div class="bonus-message">Congratulations! You are eligible for receiving {{gf.campaign.bonusHours}} FREE hours of D2D Cloud Play™ Streaming time. Just Click the “Redeem &amp; Download” button below, after installing the Cloud Play™ client, you will automatically receive {{gf.campaign.bonusHours}} FREE hours when you open the client. This is a limited time offer. Act fast before the deal is gone!</div><img src="images/streaming/Bonus20hrsCloudPlayPromotion.png"/> <a class="redeem" gf-action-redeem-bonus20hrs=""></a></div><iframe id="download-client" style="display:none"></iframe></div>'),a.put("/partials/modal/campaigns/free-subscription-trial.html",'<div class="modal hide fade free-trial-modal" id="freeSubscriptionTrial"><div class="modal-body"><a class="cancel" gf-action-close-free-trial="">X</a><div class="bonus-message">Try out D2D+ Subscription for FREE!<br/><br/>D2D+ Subscription lets you download and play a<br/>catalog of games all on your own PC.<br/><br/>Subscribe now and begin playing instantly!<br/></div><div class="event-info">This promotion runs from {{gf.trialCampaign.info.startDate | date:"MM-dd-yyyy H:mm:ss"}} to {{gf.trialCampaign.info.endDate | date:"MM-dd-yyyy H:mm:ss"}}.<br/>No purchase necessary. No payment information needed.</div><img src="images/d2d-plus/trial-promo-bkg.png"/> <a class="redeem" gf-action-redeem-free-trial=""></a></div></div>'),a.put("/partials/modal/campaigns/loyalty-first-time-congrats.html",'<div class="modal hide fade first-time-congrats-modal" id="loyaltyFirstTimeCongrats"><div class="modal-body"><a class="cancel" gf-action-close-loyalty-first-time-congrats=""></a><p class="membership-tier-info text-center">You are already a <span>{{gf.campaign.tier.name | gfFilterParseMembershipName }}</span>.<br/>Your first purchase will include a <span ng-if="gf.campaign.tier.genba_discount">{{gf.campaign.tier.genba_discount}}% ~</span><span>{{gf.campaign.tier.purchase_discount}}%</span> discount!</p><img src="images/vip/first-time-congrats.png"/> <img class="membership-badge" src="images/vip/vip_{{gf.campaign.tier.tier}}_discount.png"/></div></div>'),a.put("/partials/modal/checkout.html",'<div class="modal hide fade" id="checkout"><script class="stripe-button" data-amount="2000" data-description="2 widgets ($20.00)" data-image="/square-image.png" data-key="pk_test_zqteYRdxM3AFisOz0D4SgwCg" data-name="Demo Site" src="https://checkout.stripe.com/checkout.js"></script></div>'),a.put("/partials/modal/clientNotInstalled.html",'<div class="modal hide fade" id="clientNotInstalled"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>{{gf.message.type}}</h3></div><div class="modal-body"><h5 class="text-center">{{gf.message.body}}</h5><p style="text-align:center"><a class="button rounded" download="D2D-setup.exe" href="{{gf.download_client_link}}" style="color:#c37319"><span class="button-text with-pre-icon">Download Windows Client</span></a></p></div><div class="modal-footer"><div class="text-center"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()"><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/confirm-abuse-report.html",'<div class="modal hide fade" id="confirmReportAbuse"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>Confirm</h3></div><div class="modal-body"><h5 class="text-center">Are you sure you want to report this user review as abusive?</h5></div><div class="modal-footer"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="flag()"><strong>Yes</strong></button> <button aria-hidden="true" class="btn btn-default" data-dismiss="modal"><strong>No</strong></button></div></div>'),a.put("/partials/modal/d2dClientNotInstalled.html",'<div class="modal hide fade" id="d2dClientNotInstalled"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>{{gf.message.type}}</h3></div><div class="modal-body"><h5 class="text-center">{{gf.message.body}}</h5><p style="text-align:center"><a class="button rounded" download="d2d_windows_client_setup.exe" href="{{gf.download_client_link}}" style="color:#c37319"><span class="button-text with-pre-icon">Download D2D Client</span></a></p></div><div class="modal-footer"><div class="text-center"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()"><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/download-bonus-item.html",'<div class="modal hide fade" id="downloadBonusItem"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>Bonus Item</h3></div><div class="modal-body"><h5 class="text-center">The download of {{spec.name}} was started through your browser.</h5></div><div class="modal-footer"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal"><strong>Ok</strong></button></div></div>'),a.put("/partials/modal/download-files.html",'<div class="modal hide fade" id="downloadFiles"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h4>Download Files</h4></div><div class="modal-body"><table class="table"><thead><tr><th class="span6">File Type</th><th class="span3">File Size</th><th class="span3">Download</th></tr></thead><tbody><tr ng-repeat="file in files"><td>{{file.type}}</td><td>{{file.size}}</td><td><button class="btn btn-primary" data-link="file.location" gf-download-link=""><a>Download</a></button></td></tr></tbody></table></div></div>'),a.put("/partials/modal/firstVisit.html",'<div class="modal modal-coupon hide fade" id="firstVisit"><div class="modal-header modal-header-coupon"><button class="close" gf-action-close-first-visit="" type="button">×</button> <img alt="DirectToDrive" class="logo-gf" src="images/d2d_horiz.png"/></div><div class="modal-body modal-body-coupon"><br/><h1><i><b>10% OFF</b></i></h1><br/>On your next purchase when you join our mailing list!<br/>Receive exclusive offers and the latest updates when you sign up!<br/><br/><br/><div id="mc_embed_signup"><form class="validate form-horizontal" id="subscribeForm" name="subscribeForm" ng-controller="FirstVisitController" ng-submit="requestSubscribe();" novalidate="" target="_blank"><input class="email" id="email" name="EMAIL" ng-model="email" placeholder="Enter your email" required="" type="email"/><br/><br/><div style="position: absolute; left: -5000px"><input name="b_fa38e672b4fe101546fb90f4f_58d074e74b" tabindex="-1" type="text"/></div><button class="btn btn-default btn-lg" ng-disabled="subscribeForm.$invalid" type="submit"><strong>Submit</strong></button></form></div></div><div class="modal-footer modal-footer-coupon"><small>By joining our mailing list, you agree to our <a ng-href="{{gf.url.getTermsOfUseUrl()}}" target="_blank">terms and conditions</a>.<br/>Discount not valid with any other offers. Some exclusions apply.</small></div></div>'),a.put("/partials/modal/firstVisitCoupon.html",'<div class="modal modal-coupon hide fade" id="firstVisitCoupon" ng-controller="FirstVisitController"><div class="modal-header modal-header-coupon"><button class="close" gf-action-close-first-visit-coupon="" type="button">×</button> <img alt="DirectToDrive" class="logo-gf" src="images/d2d_horiz.png"/></div><div class="modal-body modal-body-coupon"><br/><h1><i><b>Thank You!</b></i></h1><br/>Your coupon code is:<br/><h2><b style="color: rgb(248, 152, 29)">{{coupon_code}}</b></h2><br/>Keep checking your email for the latest updates and<br/>exclusives from Direct<b style="color: rgb(248, 152, 29)">2</b>Drive.com!<br/><button class="btn btn-default btn-lg" gf-action-close-first-visit-coupon="" type="button">Continue Shopping</button></div><div class="modal-footer modal-footer-coupon"><small>By joining our mailing list, you agree to our <a ng-href="{{gf.url.getTermsOfUseUrl()}}" target="_blank">terms and conditions.</a><br/>Discount not valid with any other offers. Some exclusions apply.</small></div></div>'),a.put("/partials/modal/forgetPassword.html",'<div class="modal hide fade" id="forgetPassword"><div class="modal-header"><button class="close" gf-action-close-forget-password="" type="button">×</button><h3>Forgot Your Password?</h3></div><div class="modal-body"><form class="form-horizontal" id="forgetPasswordForm" ng-controller="ForgetPasswordController" ng-submit="requestResetPassword();" novalidate=""><div class="control-group">After you provide the information requested below, we will send a message explaining how to reset your password.</div><div class="alert alert-danger" ng-show="error">{{errorMsg}}</div><div class="control-group" ng-show="!gf.account"><label class="control-label" for="forgetPasswordEmail">Email *</label><div class="controls"><input id="forgetPasswordEmail" name="forgetPasswordEmail" ng-model="userEmail" placeholder="Email" required="" type="email"/></div></div><div class="control-group" ng-show="gf.account"><label class="control-label" for="forgetPasswordEmailLogin">Email *</label><div class="controls"><input id="forgetPasswordEmailLogin" name="forgetPasswordEmailLogin" ng-disabled="true" ng-value="gf.account.emailAddress" placeholder="Email" required="" type="email"/></div></div><div class="control-group"><div class="controls"><button class="btn btn-default" ng-disabled="waiting" type="submit"><strong>Send Email</strong></button></div></div></form></div><div class="modal-footer"><a gf-modal-login="" goback="1" ng-if="!gf.account">Back to Login</a></div></div><script>$("#forgetPasswordForm").validate();</script>'),a.put("/partials/modal/gdpr-confirmation.html",'<div class="modal hide fade modal-gdpr" id="gdprConfirmation"><div class="modal-body"><h3 class="title">Connect with Us</h3><p>Thank you for your purchase!<br/>Sign up to receive the latest news on our upcoming promotions.<br/>Be the first to know about upcoming deals!</p></div><div class="modal-footer"><div class="text-right"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()" style="background: #81807f"><strong>Not Now</strong></button> <button class="btn btn-default" gf-gdpr-confirmation="" style="background: #c37319"><strong>Sign Me Up</strong></button></div></div></div>'),a.put("/partials/modal/login.html",'<div class="modal hide fade login-modal" id="login"><div class="modal-header text-center" style="padding:5px"><button class="close" gf-action-close-login="" type="button">×</button> <img alt="DirectToDrive" class="logo-gf" src="images/d2dlogo_white.png" style="height:40px"/></div><div class="modal-body" style="position:relative; max-height:initial"><div class="control-group"><div class="row-fluid"><div class="controls text-center"><button class="btn btn-default btn-large btn-facebook" gf-action-continue-with-oauth="" provider="\'Facebook\'"><i aria-hidden="true" class="fa fa-facebook-official"></i> Link Facebook</button></div></div><div class="row-fluid mt-5"><div class="controls text-center"><button class="btn btn-default btn-large btn-google-plus" gf-action-continue-with-oauth="" provider="\'Google\'"><i aria-hidden="true" class="fa fa-google"></i> Link Google</button></div></div></div><hr class="login-modal__hr"/><form class="login-modal__form" data-toggle="validator" novalidate="" role="form"><div class="row-fluid"><h3>Login <span style="font-size:14px; font-weight:normal">with your <a href="https://www.direct2drive.com/">Direct2Drive</a> account or <a href="https://www.atgames.net/arcadenet/">ArcadNet™</a> account</span></h3></div><div class="row-fluid"><div class="span5"><input class="login-modal__input" id="loginEmail" name="loginEmail" placeholder="Email" required="" type="email" value="{{gf.account.emailAddress}}"/></div><div class="span4"><input class="login-modal__input" id="loginPassword" name="loginPassword" placeholder="Password" required="" type="password"/></div><div class="span3"><button analytics-category="Sign in" analytics-event="Sign in" analytics-on="" class="btn btn-default login-modal__btn -login" gf-action-login="" type="submit"><strong>Login</strong></button></div><div class="span5 offset5"><a gf-modal-forget-password="">Forgot your password?</a> <i class="fa fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;Forgot Your Password?&lt;/strong&gt;&lt;/h5&gt;&lt;p&gt;If you signed up D2D account through Google/Facebook and has never set your password before, please use Forgot Password to set your password. We\'ll send you instructions through your registered email address.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i></div></div></form><hr class="login-modal__hr"/><form autocomplete="off" class="login-modal__form" id="registerForm" name="theForm"><div class="row-fluid"><h3>Sign Up</h3></div><div class="row-fluid"><div class="span5"><div class="controls"><input class="login-modal__input" id="signupUserName" name="signupUserName" placeholder="Username" required="" type="text"/></div><div class="controls"><input checkemailfitforlivegamer="true" class="login-modal__input" cu-focus="" id="signupEmail" name="signupEmail" ng-model="account.email" placeholder="Email" required="" type="email"/></div><div class="controls password"><input class="login-modal__input" containsatleastonedigit="true" cu-focus="" id="signupPassword" minlength="16" name="signupPassword" ng-model="account.password" placeholder="Password" required="" type="password"/><div class="password-rule"><p>Must be between 8 – 16 characters and have at least 1 number</p></div></div></div><div class="span7 text-right"><div class="control-group" id="captchaLayer"><div class="controls"><div id="captcha"></div><div class="error">{{captchaError}}</div></div></div></div></div><div class="row-fluid"><div class="span5"><div class="controls"><input class="login-modal__input" cu-focus="" gf-property-match="account.password" id="signupConfirmPassword" name="signupConfirmPassword" ng-model="account.confirmPassword" placeholder="Confirm Password" required="" type="password"/><div class="error" for="signupConfirmPassword" ng-show="!theForm.signupConfirmPassword.$pristine &amp;&amp; !!theForm.signupConfirmPassword.$error.notMatch &amp;&amp; !theForm.signupConfirmPassword.$focused">Passwords do not match</div></div></div><div class="span12 text-left"><div class="control-group"><div class="controls"><i class="fa" ng-class="!subscribe ? \'fa-square-o\': \'fa-check-square-o\'" ng-click="setSubscribe();"></i> <span class="subscribeDesc">Yes! Add me to Direct2Drive\'s mailling list to get the latest offers and sweet gaming deals!</span></div></div></div><div class="span12 text-right"><div class="controls"><button analytics-category="Register" analytics-event="Register" analytics-on="" class="btn btn-default login-modal__btn -login" gf-action-sign-up="" id="Register" ng-disabled="theForm.$invalid || !reCaptcha" type="submit"><strong>Sign Up</strong></button></div></div></div></form></div></div>'),a.put("/partials/modal/malibuUnavailable.html",'<div class="modal hide fade" id="malibuUnavailable"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>{{gf.message.type}}</h3></div><div class="modal-body"><h5 class="text-center">{{gf.message.body}}</h5></div><div class="modal-footer"><div class="text-center"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()"><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/mediabrowser.html",'<div class="media-browser modal hide fade" id="mediabrowser" tabindex="-1"><div class="pad"><div class="row-fluid" id="navBar"><div class="span10 offset1 text-center"><ul class="nav gf-pills"><li ng-class="{active: tab == activeMediaTab}" ng-repeat="tab in mediatabs"><a ng-click="setMediaTab(tab)">{{tab.title}} <strong>({{getMediaCount(tab.title)}})</strong></a></li></ul></div><div class="span1"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="icon-remove-sign"></i></button></div></div><div class="row-fluid" ng-switch="" on="activeMediaTab.title"><span ng-switch-when="Screenshots"><div class="media-details-carousel carousel slide" gf-carousel-media="" id="screenshotCarousel" ng-show="screenshots.length &gt; 1"><div class="carousel-inner"><div class="item" ng-class="{active : (selectedItem &amp;&amp; (selectedItem.id == screenshot.id)) }" ng-repeat="screenshot in screenshots"><img image-id="{{screenshot.id}}" url="{{screenshot.item.sources[0].url}}"/></div></div><a class="carousel-control left" data-slide="prev" data-target="#screenshotCarousel" ng-show="screenshots.length &gt; 1"><i class="icon-chevron-left icon-2x"></i></a> <a class="carousel-control right" data-slide="next" data-target="#screenshotCarousel" ng-show="screenshots.length &gt; 1"><i class="icon-chevron-right icon-2x"></i></a></div><div class="carousel-empty text-center pad-large" ng-hide="screenshots.length &gt; 1">No results to display</div></span> <span ng-switch-when="Videos"><div gf-video-player="" items="videos" selected-item="selectedItem" tabindex="0"></div></span></div></div></div>'),a.put("/partials/modal/message.html",'<div class="modal hide fade" id="message"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>{{gf.message.type}}</h3></div><div class="modal-body"><h5 class="text-center" ng-bind-html="gf.message.body"></h5><div class="text-center" ng-repeat="product in gf.message.products">{{product}}</div></div><div class="modal-footer"><div class="text-center"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()"><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/product-requirement.html",'<div class="modal hide fade" id="productRequirement"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>Previous Purchase Required</h3></div><div class="modal-body"><div class="row-fluid"><div class="span3"><img alt="{{product.title}}" ng-src="{{product.frontImage || product.detailImage}}"/></div><div class="span9" ng-switch="" on="product.getProductRequirementsState()"><form ng-switch-when="single-not-required"><h5>{{product.title}} ({{product.platform.name}}) requires {{product.getProductRequirementsName()}} to play.</h5><div><label class="radio"><input checked="" data-sku-id="{{product.purchaseAction.skuId}}" name="requirement-options" type="radio"/> Yes, I have {{product.getProductRequirement().title}}. Add {{product.title}} to my cart.</label><label class="radio"><input data-sku-id="{{product.purchaseAction.skuId}}" name="requirement-options" type="radio"/> I don\'t have {{product.getProductRequirement().title}}, but I want to purchase {{product.title}} anyway.</label><label class="radio"><input data-path="{{product.getProductRequirement().getProductPath()}}" name="requirement-options" type="radio"/> Show me {{product.getProductRequirement().title}} instead.</label></div></form><form ng-switch-when="single-required"><h5>Due to licensing requirements, {{product.title}} will not play on your system unless you\'ve purchased {{product.getProductRequirementsName()}} from us. According to your Account History, you\'ve never purchased {{product.getProductRequirementsName()}} from us.</h5><div><label class="radio"><input checked="" data-sku-id="{{product.getProductRequirement().getPurchaseAction().skuId}}" name="requirement-options" type="radio"/> I\'d like to purchase {{product.getProductRequirement().title}} - {{product.getProductRequirement().getPurchaseAction().purchasePrice | gfFilterCurrency}}</label><label class="radio"><input data-sku-ids="{{product.getProductRequirement().getPurchaseAction().skuId}}, {{product.purchaseAction.skuId}}" name="requirement-options" type="radio"/> I\'d like to purchase both:<br/>{{product.getProductRequirement().title}} - {{product.getProductRequirement().getPurchaseAction().purchasePrice | gfFilterCurrency}}<br/>{{product.title}} - {{product.purchaseAction.purchasePrice | gfFilterCurrency}}</label></div></form><form ng-switch-when="multiple"><h5>{{product.title}} ({{product.platform.name}}) requires {{product.getProductRequirementsName()}} to play.</h5><div><label class="radio"><input checked="" data-sku-id="{{product.purchaseAction.skuId}}" name="requirement-options" type="radio"/> Yes, I have the required products. Add {{product.title}} to my cart.</label><label class="radio"><input data-sku-id="{{product.purchaseAction.skuId}}" name="requirement-options" type="radio"/> I don\'t have have the required products but I want to purchase {{product.title}} anyway.</label></div></form></div></div></div><div class="modal-footer"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal"><strong>Cancel</strong></button> <button class="btn btn-default" data-dismiss="modal" gf-action-requirement-continue=""><strong>Continue</strong></button></div></div>'),a.put("/partials/modal/rental-checkout.html",'<div class="modal hide fade" id="rentalMessage"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>{{gf.message.type}}</h3></div><div class="modal-body"><h5 class="text-center">{{gf.message.body}}</h5><div class="text-center" ng-repeat="product in gf.message.products">{{product}}</div></div><div class="modal-footer"><div class="text-center"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()"><strong>No</strong></button> <button aria-hidden="true" class="btn btn-default" data-dismiss="modal" gf-action-rental="" id="checkoutAgainButton"><strong>Yes</strong></button></div></div></div>'),a.put("/partials/modal/rental.html",'<div class="modal hide fade modal-gdpr" id="rental"><div class="modal-body"><h3 class="title">Rental</h3><p>You are about to rent: <strong>{{ gf.rentalCheckoutProduct.title }}</strong>. Please select your rental period and click "checkout" to proceed.</p><select id="rentalSelect"><option ng-repeat="rentalObject in rentalPriceArray" value="{{ rentalObject.days }}">{{ rentalObject.days }}-Day Rental: {{ rentalObject.price }}</option></select></div><div class="modal-footer"><div class="text-right"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()" style="background: #81807f"><strong>Cancel</strong></button> <button class="btn btn-default" gf-action-rental="" id="rentalCheckoutButton" style="background: #c37319"><strong>Checkout</strong></button></div></div></div>'),a.put("/partials/modal/sendGift.html",'<div class="modal hide fade" id="sendGift"><div class="modal-header"><div class="gift pull-right"><i class="fa fa-gift fa-4x"></i></div><h3 class="text-center">PURCHASE AS A GIFT</h3></div><div class="modal-body"><h4 class="text-center">RECIPIENT INFO:</h4><form class="form-horizontal" id="giftForm" name="giftForm" novalidate="" role="form"><div class="control-group"><label class="control-label" for="loginEmail">First Name:</label><div class="controls"><input id="firstName" name="gift_first_name" ng-maxlength="20" ng-model="firstName" placeholder="First Name" required="" type="text"/><div class="validation-error" ng-show="giftForm.gift_first_name.$error.maxlength">Input text can not be more than 20 characters.</div><div class="validation-error" ng-show="giftForm.gift_first_name.$error.required &amp;&amp; giftForm.gift_first_name.$dirty">This field is required.</div><div class="validation-error" ng-show="!!giftForm.gift_first_name.$error.server ">{{errors.gift_first_name}}</div></div></div><div class="control-group"><label class="control-label" for="loginEmail">Last Name:</label><div class="controls"><input id="gift_last_name" name="gift_last_name" ng-maxlength="20" ng-model="lastName" placeholder="Last Name" required="" type="text"/><div class="validation-error" ng-show="giftForm.gift_last_name.$error.maxlength">Input text can not be more than 20 characters.</div><div class="validation-error" ng-show="giftForm.gift_last_name.$error.required &amp;&amp; giftForm.gift_last_name.$dirty">This field is required.</div><div class="validation-error" ng-show="!!giftForm.gift_last_name.$error.server ">{{errors.gift_last_name}}</div></div></div><div class="control-group"><label class="control-label" for="gift_email">Email:</label><div class="controls"><input id="gift_email" name="gift_email" ng-model="email" ng-pattern="/[^@]+@([^@\\.]+\\.)+[^@\\.]/i" placeholder="Email" required="" type="email"/><div class="validation-error" ng-show="giftForm.gift_email.$error.required &amp;&amp; giftForm.gift_email.$dirty">This field is required.</div><div class="validation-error" ng-show="giftForm.gift_email.$error.email || giftForm.gift_email.$error.pattern">This is not a valid email.</div><div class="validation-error" ng-show="!!giftForm.gift_email.$error.server ">{{errors.gift_email}}</div></div></div><div class="control-group"><label class="control-label" for="gift_mail_body">Message:</label><div class="controls"><textarea id="gift_mail_body" name="gift_mail_body" ng-maxlength="256" ng-minlength="3" ng-model="mailBody" required=""></textarea><div class="validation-error" ng-show="giftForm.gift_mail_body.$error.minlength">Input text can not be less than 3 characters.</div><div class="validation-error" ng-show="giftForm.gift_mail_body.$error.maxlength">Input text can not be more than 256 characters.</div><div class="validation-error" ng-show="giftForm.gift_mail_body.$error.required &amp;&amp; giftForm.gift_mail_body.$dirty">This field is required.</div><div class="validation-error" ng-show="!!giftForm.gift_mail_body.$error.server ">{{errors.gift_mail_body}}</div></div></div></form></div><div class="modal-footer"><button class="btn btn-close btn-default" data-dismiss="modal"><strong>CANCEL</strong></button>  </div></div>'),a.put("/partials/modal/showAdsDrmInstruction.html",'<div class="modal hide fade" id="showAdsDrmInstruction"><div class="modal-header"><button class="close button-close" gf-action-close-ads-instruction="" type="button">×</button><h3>ADS DRM Instruction</h3></div><div class="modal-body"><div class="progress progress-striped active" ng-show="inventory.isLoading"><div class="bar" style="width: 100%"></div></div><div class="control-group" ng-hide="inventory.isLoading" ng-repeat="game_key in inventory.game_keys"><div class="keyIntro" ng-bind-html="game_key.instructions"></div></div></div><div class="modal-footer"><div class="text-right"><button class="btn btn-close btn-default" gf-action-close-ads-instruction=""><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/showKey.html",'<div class="modal hide fade" id="showKey"><div class="modal-header"><button class="close button-close" gf-action-close-key="" type="button">×</button><h3>{{inventory.game_keys[0].entitlement_status === \'no_entitlement\' ? \'Product Activation Key\' : \'Product Infomation\'}}</h3></div><div class="modal-body"><div class="progress progress-striped active" ng-show="inventory.isLoading"><div class="bar" style="width: 100%"></div></div><div class="control-group" ng-hide="inventory.isLoading" ng-repeat="game_key in inventory.game_keys"><div class="keyTitle">{{game_key.name}}</div><div class="keyCode" ng-show="game_key.entitlement_status === \'no_entitlement\'">{{game_key.key}}</div><div class="keyIntro" ng-bind-html="game_key.instructions"></div><div class="keyIntro" ng-show="!game_key.key&amp;&amp;inventory.is_preorder">This is a pre-purchased game. Check back on the game\'s Release Date to receive your key and instructions on how to install.</div><div class="keyIntro" ng-if="!game_key.key&amp;&amp;inventory.product_item.drm == \'NONE\' ">This is a DRM Free game, so there is no key required for activation.</div></div></div><div class="modal-footer"><div class="text-right"><button class="btn btn-close btn-default" gf-action-close-key=""><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/signupSuccessConfirm.html",'<div class="modal hide fade" id="signupSuccessConfirm"><div class="modal-header signup-title">Thank you for signing up for D2D</div><div class="modal-body signup-content">We have sent an email for you to verify your account. Please be aware that it might take up to 5 min before you receive the email. Next step is to fill out your billing information, so we can process your order. Thanks.</div><div class="modal-footer"><div class="text-center" ng-controller="SignSuccessConfirmController"><a class="btn btn-default" ng-click="onClose()">Next</a></div></div></div>'),a.put("/partials/modal/startTradeIn.html",'<div class="modal hide fade compact-modal" id="startTradeIn"><div class="modal-header"><h3>Trade In for<embed class="lg-coin svg-start-trade-in-title" src="../../images/dcoin.svg"/>{{ gf.tradeInItem.trade_in_price.amount }}</h3></div><div class="modal-body"><div class="control-group"><div class="trade-in-price">You can trade in this game for<embed class="sm-coin" src="../../images/dcoin.svg"/>{{ gf.tradeInItem.trade_in_price.amount }} D2D Credit.</div><p class="trade-in-desc">Once the trade in is done, you will receive the credits in your<br/>D2D Wallet balance and the game will be removed from your library.</p><p class="trade-in-notice">You can still view the games\'s purchase and trade-in record in<br/>"Purchase History".</p><p class="trade-in-disclaimer">IMPORTANT: Once game is traded-in, the same game cannot be purchased again.</p><p class="trade-in-faq"><a class="faq-link" ng-href="https://support.direct2drive.com/customer/en/portal/articles/2942859-faq" target="_blank">What is D2D Trade In?</a></p></div></div><div class="modal-footer"><div class="text-right"><button class="btn btn-cancel" gf-action-close-trade-in="" href="#">Cancel</button> <button class="btn btn-trade-in" gf-action-proceed-trade-in="" href="#" product-item="gf.tradeInItem">Trade In</button></div></div></div>'),a.put("/partials/modal/streaming/switchSrvAllSet.html",'<div class="modal hide fade compact-modal" id="switchSrvAllSet"><div class="modal-header"><h3>All Set!</h3></div><div class="modal-body"><div class="control-group"><p class="body-content">You have agreed to switch to our new faster streaming server. The next time you launch your Cloud Play desktop, you will begin a brand new instance in our new faster server.</p></div></div><div class="modal-footer"><div class="text-right"><button class="btn btn-general-got-it" close-switch-srv-btn="" href="#">Got it</button></div></div></div>'),a.put("/partials/modal/streaming/switchSrvBetterUx.html",'<div class="modal hide fade compact-modal" id="switchSrvBetterUx"><div class="modal-header"><h3>Better Experience</h3></div><div class="modal-body"><div class="control-group"><p class="body-content">Hi D2D user, We\'ve recently upgraded our servers and would like to invite you to switch over. These new servers provide faster performance and better frame rates for games.</p><p class="body-content">If you like to switch to our new servers please save your data before converting to our new server. Once you convert to the new server you will not be able to access the information from your old server.</p></div></div><div class="modal-footer"><div class="text-right"><button cancel-switch-srv-btn="" class="btn btn-general-cancel" href="#">Not Now</button> <button class="btn btn-general-got-it" href="#" init-switch-srv-btn="">Switch</button></div></div></div>'),a.put("/partials/modal/streaming/switchSrvConfirmation.html",'<div class="modal hide compact-modal" id="switchSrvConfirmation"><div class="modal-header"><h3>Confirmation</h3></div><div class="modal-body"><div class="control-group"><p class="body-content">Warning: Converting to the new server will result in losing data from your old streaming instance.</p><p class="body-content">Are you sure you want to convert?</p></div></div><div class="modal-footer"><div class="text-right"><button cancel-confirm-switch-srv-btn="" class="btn btn-general-cancel" href="#">Cancel</button> <button class="btn btn-general-got-it" confirm-switch-srv-btn="" href="#">Yes</button></div></div></div>'),a.put("/partials/modal/subscribe-success.html",'<div class="modal modal-coupon hide fade" id="subscribe-success"><div class="modal-header modal-header-coupon"><button class="close" gf-action-close-subscribe-ok="" type="button">×</button> <img alt="DirectToDrive" class="logo-gf" src="images/d2d_horiz.png"/></div><div class="modal-body modal-body-coupon"><h2>Thank you!</h2><button class="btn btn-default btn-lg" gf-action-close-subscribe-ok="" type="button">Continue Shopping</button></div><div class="modal-footer modal-footer-coupon"></div></div>'),a.put("/partials/modal/subscribe.html",'<div class="modal modal-coupon hide fade" id="subscribe"><div class="modal-header modal-header-coupon"><button class="close" gf-action-close-subscribe="" type="button">×</button> <img alt="DirectToDrive" class="logo-gf" src="images/d2d_horiz.png"/></div><div class="modal-body modal-body-coupon"><h2>Join our mail list to receive the latest offers!</h2><br/><br/><div id="mc_embed_signup"><form class="validate form-horizontal" id="subscribeForm" name="subscribeForm" ng-controller="SubscribeController" ng-submit="requestSubscribe();" novalidate="" target="_blank"><input class="email" id="email" name="EMAIL" ng-model="email" placeholder="Enter your email" required="" type="email"/><br/><br/><div style="position: absolute; left: -5000px"><input name="b_fa38e672b4fe101546fb90f4f_58d074e74b" tabindex="-1" type="text"/></div><button class="btn btn-default btn-lg" ng-disabled="subscribeForm.$invalid" type="submit"><strong>Submit</strong></button></form></div></div><div class="modal-footer modal-footer-coupon"></div></div>'),a.put("/partials/modal/tradeInComplete.html",'<div class="modal hide fade compact-modal" id="tradeInComplete"><div class="modal-header"><h3>Trade In Complete</h3></div><div class="modal-body"><div class="control-group"><p class="trade-in-desc">Your Trade in is complete. You will receive the credits in your<br/>D2D Wallet balance and the game will be removed from your library.</p><p class="trade-in-notice">You can still view the games\'s purchase and trade-in record in<br/>"Purchase History".</p></div></div><div class="modal-footer"><div class="text-right"><button class="btn btn-trade-in" gf-action-close-trade-in-complete="" href="#">Got it</button></div></div></div>'),a.put("/partials/modal/ubisoft-login-iframe.html",'<style>iframe {\n      border: none;\n      border-image-source: initial;\n      border-image-slice: initial;\n      border-image-width: initial;\n      border-image-outset: initial;\n      border-image-repeat: initial;\n      border-width: 0;\n      border-style: none;\n      border-color: initial;\n  }</style><div class="modal hide fade" id="ubisoftLogin"><iframe border="0" height="750" id="ubisoftIframe" name="ubisoftIframe" width="600"></iframe></div>'),a.put("/partials/modal/un-subscribe-complete.html",'<div class="modal hide fade modal-gdpr" id="unSubscribeComplete"><div class="modal-body"><h3 class="title">Progress Complete</h3><p>You are now unsubscribed from D2D\'s subscription program.<br/>You may now remove the game files you have downloaded during<br/>your subscription and free up your disk space.<br/><br/>We hope to see you again soon!</p></div><div class="modal-footer"><div class="text-right"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" style="background: #c37319"><strong>Get it</strong></button></div></div></div>'),a.put("/partials/modal/un-subscribe.html",'<div class="modal hide fade modal-gdpr" id="unSubscribe"><div class="modal-body"><h3 class="title">Un-Subscribe</h3><p>We are sorry to see that you want to leave our D2D Subscription program for some reason.<br/><br/>The subscription fee for your remaining subscription period is not refundable but you will keep your subscription status until the current billing cycle ends.<br/><br/>Please let us know what you think of our subscription program and we will improve upon it to make you want to subscribe with us again!<br/><br/>Please leave your comments for us <a href="https://support.direct2drive.com/customer/portal/emails/new" style="color:blue" target="_blank">here</a></p></div><div class="modal-footer"><div class="text-right"><button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()" style="background: #81807f"><strong>Cancel</strong></button> <button class="btn btn-default" gf-action-un-subscription="" style="background: #c37319"><strong>Un-Subscribe</strong></button></div></div></div>'),a.put("/partials/modal/unconfirmMsg.html",'<div class="modal hide fade" id="unconfirmMsg"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button">×</button><h3>{{gf.message.type}}</h3></div><div class="modal-body"><h5 class="text-center">{{gf.message.body}}</h5></div><div class="modal-footer"><div class="text-center"><button class="btn btn-default" gf-action-resend-confirmation="" ng-if="resendBtn === true" style="background: #c37319;font-size: 14px"><strong>Resend</strong></button> <button aria-hidden="true" class="btn btn-default" data-dismiss="modal" ng-click="gf.message.click()"><strong>Close</strong></button></div></div></div>'),a.put("/partials/modal/usageTracking.html",'<div class="modal hide fade compact-modal" id="usageTracking"><div class="modal-header"><h3>{{ gf.message.type }}</h3></div><div class="modal-body"><div class="control-group"><p class="reminder-body">{{ gf.message.body }}</p></div></div><div class="modal-footer"><div class="text-right"><button args="gf.message.args" class="btn btn-do-not-allow" gf-action-usage-tracking="" href="#" id="btn-not-allow-tracking">Do Not Allow</button> <button args="gf.message.args" class="btn btn-allow" gf-action-usage-tracking="" href="#" id="btn-allow-tracking">Allow Tracking</button></div></div></div>'),a.put("/partials/module/browse.html",'<div gf-scroll-top="" ng-controller="BrowseController"><div class="panel pad" ng-show="browseAds"><div class="row-fluid"><div class="col-10-2" ng-repeat="ad in browseAds"><a href="{{ad.referenceUrl}}"><img ng-src="{{ad.marketingUrl}}"/></a></div></div></div><div class="row-fluid"><div class="span12 panel pad-large"><div class="row-fluid" ng-hide="{{hideFilter}}"><div class="span10 offset1"><div class="row-fluid margin-bottom-small"><div class="span4" filter="price" gf-select=""></div><div class="span4" filter="releaseDate" gf-select=""></div><div class="span4" filter="esrb" gf-select="" ng-hide="hideEsrb"></div></div></div></div><div class="row-fluid"><div class="span10 offset1"><div class="row-fluid margin-bottom-default"><div class="span5 text-right"><span class="text-light text-large matching-games">{{total | number}} matching games</span> <span class="text-light text-large keywords" ng-show="!!keywords">for <strong>\'{{keywords}}\'</strong></span></div><div class="span1 text-right"><span class="text-light text-small">Sort by</span></div><div class="span3" filter="sort" gf-select=""></div></div></div></div><div class="row-fluid browse-results"><div class="gf-repeat-animation" ng-repeat="product in products"><div gf-product-query-promotions="" item-index="{{$index}}" promotions="promotions"></div><a class="row-fluid browse-item" gf-anchor-scroll="" id="{{product.id}}" ng-click="sendGa(product, $index)" ng-href="{{getProductUrl(product)}}"><div class="span1 text-left"><img alt="{{product.title}}" class="thumbnail-img" ng-src="{{product.thumbnailImage}}"/></div><div class="span3 title"><div><h4>{{product.title}}</h4></div></div><div class="span2 genre text-center"><div ng-repeat="genre in product.genres">{{genre.name}}</div></div><div class="span1 publisher text-center"><div ng-switch="" on="product.drmType"><img ng-switch-when="" src="images/drm_free.png" title="DRM Free"/> <img ng-switch-when="NONE" src="images/drm_free.png" title="DRM Free"/> <img ng-switch-when="Steam" src="images/drm_steam.png" title="Steam"/> <img ng-switch-when="Origin" src="images/drm_origin.png" title="Origin"/> <img ng-switch-when="SecuRom" src="images/drm_securom.png" title="D2D DRM"/> <img ng-switch-when="MMO" src="images/drm_mmo.png" title="MMO"/> <img ng-switch-when="Uplay" src="images/drm_uplay.png" title="Uplay"/> <img ng-switch-when="Rockstar" src="images/drm_rockstar.png" title="Rockstar Games Social Club"/> <img ng-switch-when="Sony" src="images/drm_sony.png" title="Sony"/> <img ng-switch-when="ESO" src="images/drm_eso.png" title="ESO"/> <img ng-switch-when="ADS" src="images/drm_ads.png" title="ADS"/> <img ng-switch-when="Nintendo" src="images/drm_nintendo.png" title="Nintendo"/> <img ng-switch-when="Xbox" src="images/drm_xbox.png" title="Xbox"/> <img ng-switch-when="Oculus" src="images/drm_oculus.png" title="Oculus"/> <img ng-switch-when="Bethesda" src="images/drm_bethesda.png" title="Bethesda"/> <img ng-switch-when="Epic Games" src="images/drm_epic.png" title="Epic Games"/><div ng-switch-default="">{{product.drmType}}</div></div></div><div class="span1 platform text-center"><i class="{{platformId | gfFilterPlatform:\'icon\'}} icon-2x icon-fade" ng-repeat="platformId in product.platformIds" title="{{platformId | gfFilterPlatform}}"></i></div><div class="span2 release-date text-center"><strong>{{product.releaseDate | gfFilterDate}}</strong><br/><span class="text-mini text-light">Release Date</span></div><div class="span2 action text-right"><div class="row-fluid"><span class="span12"><div gf-offer-actions="" position="product.position" product="product" productlist="keywords ? \'Search\' : \'Browse\'"></div></span></div></div></a></div><div class="paging text-center" ng-show="!paging.isFetching &amp;&amp; total &gt; 0"><a class="paging-action" ng-click="previous()" ng-show="showPreviousBtn">‹</a><div class="paging-info">{{start}} - {{end}} of {{total}}</div><a class="paging-action" ng-click="next()" ng-show="showNextBtn">›</a></div><div class="row-fluid pad text-center text-light" ng-show="paging.isFetching"><i class="icon-repeat icon-2x icon-spin"></i></div><h2 class="text-center" ng-show="paging.isEmpty">No Games Found!</h2></div></div></div></div>'),a.put("/partials/module/featured.html",'<div ng-if="!items" style="min-height: 366px;margin-bottom:20px;text-align:center; vertical-align:middle;line-height:214px"><i class="fa fa-spin fa-spinner fa-3x fa-fw"></i><div style="min-height:40px"></div></div><div class="carousel slide" id="featured" ng-if="items.length"><div class="carousel-inner"><div class="item" ng-class="{active : $first}" ng-repeat="item in activeItems track by $id($index)"><div class="span2" ng-class="{offset1 : $first}" ng-repeat="product in item track by $id($index)"><div class="product-display" gf-product-display="" position="product.position" product="product" productlist="\'FeaturedTop_\'+$root.featured.tab.name" type="type"></div></div></div></div><div gf-carousel-paging="" page-size="5" rows="activeItems.length" style="min-height:40px"></div></div><div class="text-center pad-large" ng-if="items &amp;&amp; !items.length">No results to display</div><div class="row-fluid"><div class="span10 offset1"><hr/></div></div>'),a.put("/partials/module/featuredBottom.html",'<div class="row-fluid"><div class="text-center"><div class="fixed-title text-center">{{headline}}</div></div></div><div class="carousel slide" id="featured-fix"><div class="carousel-inner"><div class="item" ng-class="{active : $first}" ng-repeat="item in fixedItems"><div class="span2" ng-class="{offset1 : $first}" ng-repeat="product in item track by $id($index)"><div gf-product-display="" position="product.position" product="product" productlist="\'FeaturedBottom\'" type="type"></div></div></div></div><div gf-carousel-paging="" page-size="5" rows="fixedItems.length"></div></div>'),a.put("/partials/module/hero-rotator.html",'<div class="hero-rotator" ng-mouseenter="stop()" ng-mouseleave="start()"><div class="carousel slide" id="hero"><div class="carousel-inner"><div class="item" data-slide-number="{{$index}}" ng-class="{active : $first}" ng-repeat="hero in activeHeros" ng-switch="hero.type"><div ng-switch-when="0"><div class="product-info"><div class="product-title product-normal">{{ hero.title}}</div><div class="product-offer product-normal"><div btn-class="btn-large" btn-layout="H" gf-offer-actions="" position="$index+1" product="hero.product" productlist="\'Hero\'"></div></div></div><a ng-click="sendGa(hero, \'Hero\', $index+1)" ng-href="{{hero.linkUrl}}"><img ng-src="{{hero.design.images.big}}"/></a></div><div ng-switch-when="1"><div class="product-info"><div class="product-title product-normal">{{ hero.promotion.name }}</div><div class="product-offer product-normal"><div btn-class="btn-large" btn-layout="H" gf-offer-actions="" position="$index+1" product="hero.product" productlist="\'Hero\'"></div></div></div><a ng-click="sendGa(hero, \'Hero\', $index+1)" ng-href="{{hero.linkUrl}}"></a> <img ng-src="{{hero.design.images.big}}"/></div><div ng-switch-when="2"><div class="product-info"><gf-hero-video-player autoplay="" hero-index="$index" player-height="\'392\'" player-width="\'930\'" video="hero.design"></gf-hero-video-player><a ng-click="sendGa(hero, \'Hero\', $index+1)" ng-href="{{hero.linkUrl}}"><div class="product-title product-normal">{{ hero.product.title }}</div></a><div class="product-offer product-normal"><div btn-class="btn-large" btn-layout="H" gf-offer-actions="" position="$index+1" product="hero.product" productlist="\'Hero\'"></div></div></div></div><div ng-switch-when="3"><gf-youtube-player autoplay="" hero-index="$index" player-height="\'390px\'" player-width="\'930px\'" video-id="hero.video_code"></gf-youtube-player></div></div></div></div><div class="division"></div><ul class="carousel-thumbnails inline"><li><a class="link" id="carousel-selector-{{$index}}" ng-class="{selected : $first, video : hero.isVideo }" ng-click="select($index)" ng-repeat="hero in activeHeros"><div class="thumbnail-img"><i class="fa fa-play-circle-o fa-3x" ng-show="hero.isVideo"></i> <img ng-src="{{hero.design.images.small}}"/></div></a></li></ul></div><div class="promotion"><div class="square" ng-repeat="square in squares"><div class="product-offer" ng-if="square.product"><div btn-class="btn-large" btn-layout="Hide" gf-offer-actions="" position="$index+1" product="square.product" productlist="\'Squares\'"></div></div><a class="link" ng-click="sendGa(square, \'Squares\', $index+1)" ng-href="{{square.url}}"><img class="squareImage" ng-src="{{square.image}}"/></a></div></div>'),a.put("/partials/module/offers.html",'<div class="offer-actions {{layoutCss}}" ng-switch="" on="product.buttonState" style="min-width:170px"><div ng-if="type !== \'subscription\'"><div ng-if="product.buttonState !== \'not-for-sale\'" style="{{priceCss}} border-radius:3px; font-size:12px; margin-bottom:5px; {{layoutHeight}}"><div ng-if="logined &amp;&amp; vip.tier"><table style="color:#b0b0b0; font-size:12px; font-weight:bold; letter-spacing:-1px; text-align:center; width:179px"><tr><td><div style="border-right:solid 1px #b0b0b0; height:41px; float:right; margin-left:3px"></div><div ng-if="hasDiscount"><div style="font-size:12px; line-height:18px">Was: {{suggestedPrice | gfFilterCurrency}}</div><div style="font-size:12px; line-height:20px">Now: {{purchasePrice | gfFilterCurrency}}</div></div><div ng-if="!hasDiscount"><div style="font-size:13px; line-height:18px">Now:</div><div style="font-size:16px; line-height:20px">{{purchasePrice | gfFilterCurrency}}</div></div></td><td><div style="line-height:15px"><img src="images/vip/member_price_word.png"/></div><div class="vip_color_{{vip.tier}}" style="font-size:24px; line-height:24px">{{vipPrice | gfFilterCurrency}}</div></td></tr></table></div><div ng-if="!logined || !vip.tier"><table style="color:#b0b0b0; font-size:12px; font-weight:bold; letter-spacing:-1px; text-align:center; width:179px"><tr><td><div style="border-right:solid 1px #b0b0b0; height:41px; float:right; margin-left:3px"></div><div ng-if="hasDiscount"><div style="font-size:13px; line-height:18px">Was:</div><div style="font-size:16px; line-height:20px">{{suggestedPrice | gfFilterCurrency}}</div></div><div ng-if="!hasDiscount"><div style="font-size:13px; line-height:44px">Now</div></div></td><td><div ng-if="hasDiscount"><div style="font-size:12px; line-height:15px; color:white">Now:</div><div style="font-size:22px; line-height:22px; color:white">{{purchasePrice | gfFilterCurrency}}</div></div><div ng-if="!hasDiscount"><div style="font-size:24px; line-height:44px; color:white">{{purchasePrice | gfFilterCurrency}}</div></div></td></tr></table></div></div><div itemprop="offers" itemscope="" itemtype="http://schema.org/Offer" ng-hide="buttonHide" ng-switch-when="purchase-preorder-v0" style="{{layoutHeight}}"><meta content="{{product.purchaseAction.purchasePrice.currency.isoCode}}" itemprop="priceCurrency"/><button btn-class="{{btnClass}}" class="btn btn-primary" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" position="position" product="product" productlist="productlist"><i class="icon-cart icon-large"></i> Pre-Purchase <span ng-show="!hasDiscount">Now</span><link href="http://schema.org/PreOrder" itemprop="availability"/></button></div><div itemprop="offers" itemscope="" itemtype="http://schema.org/Offer" ng-switch-when="purchase-preorder-v1"><meta content="{{product.purchaseAction.purchasePrice.currency.isoCode}}" itemprop="priceCurrency"/><button btn-class="{{btnClass}}" class="btn btn-success" gf-action-buy="" position="position" product="product" productlist="productlist">Pre-Purchase <span class="text-strikethrough" ng-show="product.purchaseAction.isOnSale">{{product.purchaseAction.suggestedPrice | gfFilterCurrency}}</span> <span itemprop="price">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</span><link href="http://schema.org/PreOrder" itemprop="availability"/></button></div><div ng-switch-when="purchase-preordered"><button class="btn btn-success disabled" ng-class="btnClass">Pre-Purchase</button></div><div ng-switch-when="purchase-free"><button btn-class="{{btnClass}}" class="btn btn-success" gf-action-buy="" position="position" product="product" productlist="productlist">Free</button></div><div itemprop="offers" itemscope="" itemtype="http://schema.org/Offer" ng-hide="buttonHide" ng-show="product.purchaseAction.purchasePrice.amount !== \'\'" ng-switch-when="purchase-buy-v0" style="{{layoutHeight}}"><meta content="{{product.purchaseAction.purchasePrice.currency.isoCode}}" itemprop="priceCurrency"/><button btn-class="{{btnClass}}" class="btn btn-primary" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" position="position" product="product" productlist="productlist"><i class="icon-cart icon-large"></i> Buy <span ng-show="!hasDiscount">Now</span><link href="http://schema.org/InStock" itemprop="availability"/></button></div><div itemprop="offers" itemscope="" itemtype="http://schema.org/Offer" ng-show="product.purchaseAction.purchasePrice.amount !== \'\'" ng-switch-when="purchase-buy-v1"><meta content="{{product.purchaseAction.purchasePrice.currency.isoCode}}" itemprop="priceCurrency"/><button btn-class="{{btnClass}}" class="btn btn-success" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" position="position" product="product" productlist="productlist">Buy <span ng-show="!product.purchaseAction.isOnSale">Now</span> <span class="text-strikethrough" ng-show="product.purchaseAction.isOnSale">{{product.purchaseAction.suggestedPrice | gfFilterCurrency}}</span> <span itemprop="price">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</span><link href="http://schema.org/InStock" itemprop="availability"/></button></div><div ng-switch-when="purchase-keyonly"><button btn-class="{{btnClass}}" class="btn btn-success" gf-modal-activation-key="" is-upp="false" sku-id="{{product.purchaseAction.skuId}}">Get Activation Key</button></div><div ng-switch-when="purchase-download"><button btn-class="{{btnClass}}" class="btn btn-success" gf-modal-download="" sku-id="{{product.purchaseAction.skuId}}">Download Now</button></div><div ng-switch-when="purchase-download-key"><div class="btn-group" ng-class="btnGroupClass"><button btn-class="{{btnClass}}" class="btn btn-success" gf-modal-download="" sku-id="{{product.purchaseAction.skuId}}">Download Now</button> <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" ng-class="btnClass"><span class="caret"></span></button><ul class="dropdown-menu"><li><a gf-modal-activation-key="" is-upp="false" sku-id="{{product.purchaseAction.skuId}}">Get Activation Key</a></li></ul></div></div><div ng-switch-when="subscribe-download-buy"><div class="btn-group" ng-class="btnGroupClass"><button btn-class="{{btnClass}}" class="btn btn-primary" gf-modal-download="" sku-id="{{product.purchaseAction.skuId}}"><i class="icon-upp"></i> Download Now</button> <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" ng-class="btnClass"><span class="caret"></span></button><ul class="dropdown-menu"><li><a gf-action-buy="" position="position" product="product" productlist="productlist">Buy <span href="https://schema.org/InStock" itemprop="availability" ng-show="!product.purchaseAction.isOnSale">Now</span> <span class="text-strikethrough" ng-show="product.purchaseAction.isOnSale">{{product.purchaseAction.suggestedPrice | gfFilterCurrency}}</span> <span itemprop="price">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</span></a></li></ul></div></div><div ng-switch-when="subscribe-download-buy-key"><div class="btn-group" ng-class="btnGroupClass"><button btn-class="{{btnClass}}" class="btn btn-primary" gf-modal-download="" sku-id="{{product.purchaseAction.skuId}}"><i class="icon-upp"></i> Download Now</button> <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" ng-class="btnClass"><span class="caret"></span></button><ul class="dropdown-menu"><li><a gf-action-buy="" position="position" product="product" productlist="productlist">Buy <span ng-show="!product.purchaseAction.isOnSale">Now</span> <span class="text-strikethrough" ng-show="product.purchaseAction.isOnSale">{{product.purchaseAction.suggestedPrice | gfFilterCurrency}}</span> <span itemprop="price">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</span></a></li><li><a gf-modal-activation-key="" is-upp="true" sku-id="{{product.subscribeAction.skuId}}">Get Activation Key</a></li></ul></div></div><div ng-switch-when="subscribe-download-only"><button btn-class="{{btnClass}}" class="btn btn-primary" gf-modal-download="" sku-id="{{product.purchaseAction.skuId}}"><i class="icon-upp"></i> Download Now</button></div><div ng-switch-when="subscribe-buy"><div class="btn-group" ng-class="btnGroupClass"><button class="btn btn-primary" gf-modal-subscribe="" ng-class="btnClass"><i class="icon-upp"></i> Download Now</button> <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" ng-class="btnClass"><span class="caret"></span></button><ul class="dropdown-menu"><li><a gf-action-buy="" position="position" product="product" productlist="productlist">Buy <span ng-show="!product.purchaseAction.isOnSale">Now</span> <span class="text-strikethrough" ng-show="product.purchaseAction.isOnSale">{{product.purchaseAction.suggestedPrice | gfFilterCurrency}}</span> <span itemprop="price">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</span></a></li></ul></div></div><div ng-switch-when="subscribe-only"><button class="btn btn-primary" gf-modal-subscribe="" ng-class="btnClass"><i class="icon-upp"></i> Download Now</button></div><div ng-switch-when="login-subscribe-buy"><div class="btn-group" ng-class="btnGroupClass"><button class="btn btn-primary" gf-modal-login="" ng-class="btnClass"><i class="icon-upp"></i> Download Now</button> <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" ng-class="btnClass"><span class="caret"></span></button><ul class="dropdown-menu"><li><a gf-action-buy="" position="position" product="product" productlist="productlist">Buy <span ng-show="!product.purchaseAction.isOnSale">Now</span> <span class="text-strikethrough" ng-show="product.purchaseAction.isOnSale">{{product.purchaseAction.suggestedPrice | gfFilterCurrency}}</span> <span itemprop="price">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</span></a></li></ul></div></div><div ng-switch-when="login-subscribe-only"><button class="btn btn-primary" gf-modal-login="" ng-class="btnClass"><i class="icon-upp"></i> Download Now</button></div><div ng-switch-when="build"><button class="btn btn-primary" gf-action-view-custom-bundle="" ng-class="btnClass">Start Building Now</button></div><div ng-switch-when="not-for-sale"><button class="btn btn-default disabled" ng-class="btnClass">Not for Sale</button></div><div ng-switch-default=""></div></div></div>'),a.put("/partials/module/powerSearch.html",'<form ng-controller="PowerSearchController"><legend>Publisher</legend><div class="control-group publisher-group"><label class="checkbox" ng-repeat="publisher in publishers | limitTo: publishersListLimit"><input checklist-change="filter()" checklist-model="selectedPublishers" checklist-value="publisher.company_id" type="checkbox"/>{{publisher.company_name}}</label><a ng-click="showMore()" ng-show="publishers.length &gt; 5"><i class="icon-{{iconStyle}}"></i> {{clickWords}}</a></div><legend>Price</legend><div class="control-group"><label class="checkbox" ng-repeat="price in prices"><input checklist-change="filter()" checklist-model="selectedPrices" checklist-value="price" ng-false-value="null" ng-model="result.value" ng-true-value="{{price.value}}" type="checkbox"/>{{price.text}}</label></div><legend>Platform</legend><div class="control-group"><label class="checkbox" ng-repeat="platform in platforms"><input checklist-change="filter()" checklist-model="selectedPlatforms" checklist-value="platform.id" type="checkbox"/>{{platform.platform}}</label></div><legend>Genre</legend><div class="control-group"><label class="checkbox" ng-repeat="genre in genres"><input checklist-change="filter()" checklist-model="selectedGenres" checklist-value="genre.genre_id" type="checkbox"/>{{genre.genre_name}}</label></div><legend>{{content_ratings[0].content_rating_type}} Rating</legend><div class="control-group"><label class="checkbox" ng-repeat="content_rating in content_ratings"><input checklist-change="filter()" checklist-model="selectedContentRatings" checklist-value="content_rating.id" type="checkbox"/>{{content_rating.name}}</label></div></form>'),a.put("/partials/module/pricing.html",'<div class="pricing-panel" gf-pricing-panel="" product="product"><div class="pricing-panel-background"></div><div class="pricing-panel-content"><div class="container-fluid pad"><div class="row-fluid"><div class="pull-right"><div btn-class="btn-large" btn-layout="H" class="span12 offerButtons" gf-offer-actions="" price-layout="opacity0" product="product"></div><div class="text-center" ng-show="product.offerActions[0].isOnSale"><b class="on-sale-countdown pull-right">Offer ends in:<timer end-time="product.offerActions[0][\'purchasePrice\'].endTime*1000"><span ng-show="days">{{days}} day<span ng-show="days &gt; 1">s</span>,</span> <span ng-show="hours">{{hours}}:</span> <span ng-show="minutes">{{minutes}}:</span> {{seconds}}</timer></b></div></div><div class="span7 product-title margin-right-default margin-top-mini"><h1 itemprop="name">{{product.title}}</h1><span ng-show="product.headband">- {{headband.text}}</span></div><div class="row-fluid pull-right" ng-if="instantPlayAvailable(product.purchaseAction)"><div><a can-instant-play="product.purchaseAction.instant_play.canInstantPlay" class="play-demo-now-product-page" collection-id="product.activeCollection" game-id="product.streaming_game_id" gf-action-launch-malibu-instant-play-badge="" offer="product.purchaseAction.instant_play.oid" title="PLAY NOW"></a></div></div><div class="span2 margin-top-mini pull-right" gf-product-patch=""></div></div></div><div class="container-fluid trade-in-badge" ng-if="product.allow_trade_in &amp;&amp; product.offerActions[0].trade_in_price &gt; 0"><div class="pull-left"><span><img src="images/trade_badge.png"/></span></div></div></div></div>'),a.put("/partials/module/product-display.html",'<div><div class="boxart text-center"><a ng-href="{{product.url}}"><img ng-src="{{product.detailImage}}" title="{{product.title}}"/><div class="{{product.discountBurst}} discount-boxart" ng-show="product.hasDiscount"><div class="value"><strong>-{{product.purchaseAction.totalPercentOff | number:0}}</strong>%</div></div></a></div><div btn-class="btn-small" btn-group-class="dropup" gf-offer-actions="" position="position" product="product" productlist="productlist" type="type"></div></div>'),a.put("/partials/module/rating.html",'<table><tr><td class="span1 panel-light" ng-class="{hovered: isHovered($index), selected: isSelected($index)}" ng-click="select($index)" ng-mouseenter="hover($index)" ng-mouseleave="nohover()" ng-repeat="rating in ratings track by $index"></td><td class="span2 text-center rating-value"><div ng-show="!isBusy">{{rating}}</div><i class="icon-repeat icon-1x icon-spin" ng-show="isBusy"></i></td></tr></table>'),a.put("/partials/navigation.html",'<div class="navbar navbar-inverse navbar-fixed-top global-nav" gf-nav=""><div class="navbar-inner"><div class="row-fluid globals"><ul class="nav pull-left social-toolset"><li class="fb-like social" data-action="like" data-href="https://www.facebook.com/Direct2Drive1" data-layout="button" data-share="false" data-show-faces="true" data-width="57"></li><li class="social"><a class="twitter-follow-button" data-show-count="false" data-show-screen-name="false" href="https://twitter.com/Direct2Drive"></a></li><li gf-modal-subscribe=""></li></ul><div class="container-fluid text-left"><ul class="nav"><a href="/#!/"><img alt="DirectToDrive" class="logo-gf" src="images/d2d_horiz.png"/></a></ul><ul class="nav pull-right toolset" id="navMenu"><li ng-hide="hidePopCart"><div gf-popover-cart="" id="popover-cart"></div></li><li><div class="user-panel" gf-user-panel=""></div></li><li><div><a class="btn btn-over" ng-href="{{gf.url.getSupportUrl()}}" rel="nofollow"><strong>Support</strong></a></div></li><li><div><a class="btn btn-over" ng-href="{{gf.url.getCorporateUrl()}}" rel="nofollow"><strong>Corporate</strong></a></div></li></ul><ul class="nav pull-right toolset"><li><form class="navbar-search form-search" ng-controller="SearchController" ng-submit="submit()"><div class="input-append"><input autocomplete="off" class="search-query gf-search" gf-typeahead="" maxlength="25" ng-model="keywords" placeholder="{{getPlaceHolder()}}" type="text"/> <button class="btn btn-default gf-search-btn" type="submit"><i class="fa fa-search"></i></button></div></form></li></ul></div></div><div class="row-fluid sections" ng-show="gf.navigation.sections.length &gt; 0"><div class="container-fluid"><ul class="nav"><li ng-class="{active:section.isActive}" ng-mouseleave="toggle( section.title === \'Games\' );" ng-repeat="section in gf.navigation.sections" ng-switch="section.title"><a class="dropdown-toggle" data-target="#" data-toggle="dropdown" id="navDropdown" ng-mouseover="toggle()" ng-switch-when="Games"><i class="icon-time"></i>{{section.title}} <b class="caret"></b></a><ul aria-labelledby="dLabel" class="dropdown-menu" id="navDropdownMenu" ng-switch-when="Games" role="menu"><li class="nav-header">Browse by genre</li><li ng-class="{active:genre.isActive}" ng-repeat="genre in gf.navigation.genres"><a ng-href="{{platform_url + genre.url}}">{{genre.genre_name}}</a></li><li class="divider"></li><li class="nav-header">Browse by ALL Platform</li><li ng-class="{active:platform.isActive}" ng-repeat="platform in gf.navigation.platforms"><a ng-href="{{platform.url}}">{{platform.title}}</a></li><li class="divider"></li><li class="nav-header">Browse by Publishers</li><li ng-class="{active:publisher.isActive}" ng-repeat="publisher in gf.navigation.publishers"><a ng-href="{{publisher.url}}">{{publisher.title}}</a></li></ul><a ng-hide="\'Games\' == section.title" ng-href="{{section.url}}" ng-switch-default=""><i class="{{section.icon}}"></i>{{section.title}} <span ng-if="section.new" style="background: #f8a235;padding: 1px 5px;font-size: 12px;border-radius: 8px;color: #fff">NEW!</span></a></li><li><a ng-href="{{coleco.link}}"><span class="coleco-vision"></span>{{coleco.title}}</a></li></ul><ul class="nav pull-right"></ul></div><ul aria-labelledby="dropdownMenu" class="dropdown-menu" role="menu"><li><a href="#" tabindex="-1">Regular link</a></li><li class="disabled"><a href="#" tabindex="-1">Disabled link</a></li><li><a href="#" tabindex="-1">Another link</a></li></ul></div></div></div>'),a.put("/partials/navigation/cart.html",'<button class="btn btn-cart" ng-click="goCart();"><i class="icon-cart icon-large"></i> <span class="badge" ng-class="(cart.cart_details.length &gt; 0) ? \'badge-info\' : \'\'">{{cart.cart_details.length || 0}}</span></button><div class="popover-container"><div class="popoverCart popover bottom fade in" id="popoverCart"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"><div class="cart-popover"><div class="alert" ng-show="cart.bulletins.length &gt; 0"><button class="close" data-dismiss="alert" type="button">×</button><ul class="unstyled"><li ng-repeat="bulletin in cart.bulletins">{{bulletin.message}}</li></ul></div><div class="row-fluid cartList" ng-repeat="item in cart.cart_details"><div class="span3"><a ng-href="#!/download-{{item.product.uriSafeTitle|lowercase}}/{{item.product.id}}" title="{{item.product.title}}"><img alt="Battlefield: Hardline" class="thumbnail-img" ng-src="{{item.product.thumbnail_image}}"/></a></div><div class="span8"><a ng-href="#!/download-{{item.product.uriSafeTitle|lowercase}}/{{item.product.id}}" title="{{item.product.title}}"><div class="productItem">{{item.product.title}}</div><div class="productPrice">Price: <del ng-show="item.originPrice !== item.discountedPrice">{{item.originPrice | currency:cart.currency_symbol:2}}</del> {{item.discountedPrice | currency:cart.currency_symbol:2}}</div></a> <i class="{{platform | gfFilterPlatform:\'icon\'}} icon-1x icon-fade" ng-repeat="platform in item.product.platform_ids" title="{{platform | gfFilterPlatform}}"></i></div><div class="span1 vertical-align" ng-click="removeItem(item.id);"><i class="icon-remove-sign"></i></div></div><div ng-show="!cart || cart.cart_details.length == 0"><h5>Your Shopping Cart is empty.</h5></div><div class="row-fluid"><a class="btn btn-close btn-info span12" ng-disabled="!cart.cart_details.length" ng-href="#!/cart"><strong>View Cart ( {{cart.cart_details.length || 0}} items)</strong></a></div></div></div></div></div>'),a.put("/partials/navigation/login.html",'<div class="btn-group"><a class="btn btn-over dropdown-toggle" data-toggle="dropdown"><strong>{{gf.account.userName}}</strong> <span class="caret"></span></a><ul class="dropdown-menu"><li><a ng-href="{{gf.url.getAccountUrl()}}">My Account</a></li><li><a analytics-category="Logout" analytics-event="Logout" analytics-on="" gf-action-logout="" href="">Logout</a></li></ul></div>'),a.put("/partials/navigation/logout.html",'<div><a analytics-category="Login" analytics-event="Login" analytics-on="" class="btn btn-over" gf-modal-login="" href=""><strong>Login/Sign Up</strong></a></div>'),a.put("/partials/oauth.html","oauth.html"),a.put("/partials/onsale.html",'<div class="container-fluid"><div class="row-fluid"><div class="span2"><div class="powerSearch-module" ng-include="" src="gf.partial.module.powerSearch"></div></div><div class="span10"><div class="browse-module havePowerSearchBrowse" ng-include="" src="gf.partial.module.browse"></div></div></div></div>'),a.put("/partials/premium/cancel.html",'<header class="premium-head"><img src="images/D2D_premium_r.png"/></header><div class="premium"><section class="detail" style="padding-top:20px"><div class="row-fluid"><div class="span12 text-center darker-background"><p ng-if="validSubscription === true"><a class="btn-subscribe-premium-now" ng-click="cancelPremium()" ng-disabled="startProcessing" ng-hide="startProcessing">Cancel D2D Subscription</a></p><p ng-if="validSubscription === false"><strong>Your\'ve not subscribed to D2D Premium yet.</strong> <a ng-href="/#!/subscription/subscribe">Subscribe Now for $14.99 / month</a></p></div></div></section></div>'),a.put("/partials/premium/index.html",'<header class="premium-head"><img src="images/D2D_premium_r.png"/></header><div class="premium"><div class="premium-intro"><section class="left-section no-padding-right"><img src="images/rainbow_line.png"/><div class="text-intro"><h3>What is D2D PREMIUM?</h3><p><strong>D2D Premium</strong> is a D2D exclusive subscription program where we hand-pick<br/>5 great titles for you to play <strong>FREE</strong><span class="greyout">*</span> every month. Get to play some of the<br/>top new indie titles before anyone else; or try out cult classics that you<br/>have missed, all with a monthly fee of just $10.99! There is no commitment, cancel any time!</p><p class="greyout"><span class="superscript">*</span>D2D Premium monthly subscription fee applies.</p></div></section><section class="right-section"><ul class="list-features"><li class="icon-exclusive"><img class="exclusive" src="images/premium_icon01.png"/><p class="icon-text exclusive">Play exclusive indie<br/>titles every month</p></li><li class="icon-no-commitment"><img class="no-commitment" src="images/premium_icon02.png"/><p class="icon-text no-commitment">New games to try<br/>with no commitment</p></li></ul></section></div><section class="detail"><h3>This month\'s D2D Premium lineup</h3><div class="premium-collection"><div class="premium-title"><span></span></div><div class="download-client"><a href="{{streaming_download_url}}"><div>Be sure to download the D2D Windows Desktop Client first!  <img src="images/streaming/instant_download_icon.png"/></div></a></div></div><div class="premium-games"><div class="lineup"><div class="lineup-item" ng-repeat="product in products"><a ng-href="{{getProductUrl(product)}}"><img alt="{{product.title}}" class="product-main" ng-src="{{product.frontImage}}"/></a></div></div></div><div class="row-fluid"><div class="span12 text-center darker-background"><p><strong>Play these games for FREE when you subscribe to D2D Premium!</strong></p></div></div><div class="row-fluid subscribe-btn-section" ng-if="!premium || !premium.subscribed "><div class="span6 offset3 text-center"><a class="btn-subscribe-premium-now" ng-href="/#!/subscription/subscribe">Subscribe Now for $19.99 / month</a></div></div></section></div>'),a.put("/partials/premium/stop-renewing.html",'<header class="premium-head"><img src="images/D2D_premium_r.png"/></header><div class="premium"><section class="detail" style="padding-top:20px"><div class="row-fluid"><div class="span12 text-center darker-background"><p ng-if="validSubscription === true"><a class="btn-subscribe-premium-now" ng-click="stopRenewingPremium()" ng-disabled="startProcessing" ng-hide="startProcessing">Stop Renewing</a></p><p ng-if="validSubscription === false"><strong>Your\'ve not subscribed to D2D Premium yet.</strong> <a ng-href="/#!/subscription/subscribe">Subscribe Now for $10.99 / month</a></p></div></div></section></div>'),a.put("/partials/premium/subscribe.html",'<div class="premium-op"><header class="premium-head"><img src="images/D2D_premium_r.png"/></header><div class="premium"><section class="detail" style="padding-top:20px"><div class="row-fluid"><div class="span12 text-center darker-background"><p ng-if="validSubscription === true"><strong>Congrats! Your\'ve already subscribed to D2D Premium.</strong> <a ng-href="/#!/subscription">Check this month\'s D2D Premium lineup.</a></p><p ng-if="validSubscription === false"><a class="btn-subscribe-premium-now" ng-click="subscribePremium()" ng-disabled="startProcessing" ng-hide="startProcessing">Subscribe</a></p></div></div></section></div></div>'),a.put("/partials/product.html",'<div itemscope="" itemtype="http://schema.org/Product"><div background-mask="true" fixed="true" gf-hero="" hero="hero" login="userLogin()"></div><div class="container-fluid product"><div class="row-fluid"><div class="panel span3 pad"><div class="boxart margin-bottom-default text-center"><img alt="{{product.title}} box art" itemprop="image" ng-src="{{product.frontImage}}"/><div ng-class="(product.purchaseAction.totalPercentOff&gt;49) ? \'discount-highlight discount-boxart\' : \'discount-normal discount-boxart\'" ng-show="product.purchaseAction.totalPercentOff &gt; 0"><div class="value"><strong>-{{product.purchaseAction.totalPercentOff | number:0 }}</strong>%</div></div></div><div class="row-fluid esrb" ng-hide="product.productType == \'Bundle\'" ng-if="product.contentRating | gfFilterContentRated"><div class="span4"><img alt="{{product.contentRating | gfFilterRating}}" ng-src="{{product.contentRating | gfFilterRating:\'image\'}}"/></div><div class="span8 text-light text-small"><ul class="unstyled"><li ng-repeat="descriptor in product.contentRating.descriptors track by $index">{{descriptor}}</li></ul></div></div><table class="product-meta-data" ng-hide="product.productType == \'Bundle\'"><tr><td><strong>Genre</strong></td><td class="text-light">{{product.genre.name}}<div ng-repeat="genre in product.genres">{{genre.name}}</div></td></tr><tr><td><strong>Developer</strong></td><td class="text-light">{{product.developer}}</td></tr><tr><td><strong>Publisher</strong></td><td class="text-light" itemprop="brand">{{product.publisher}}</td></tr><tr><td><strong>Release Date</strong></td><td class="text-light">{{product.releaseDate | gfFilterDate}}</td></tr><tr><td><strong>Platform</strong></td><td class="text-light"><i class="{{platform.id | gfFilterPlatform:\'icon\'}} icon-2x icon-fade" ng-repeat="platform in product.platforms" style="margin-right: 10px" title="{{platform.id | gfFilterPlatform}}"></i></td></tr><tr><td><strong>DRM</strong></td><td class="text-light" ng-switch="" on="product.drmType"><img alt="DRM FRree" ng-src="images/drm_free.png" ng-switch-when="" title="DRM Free"/> <img alt="DRM FRree" ng-src="images/drm_free.png" ng-switch-when="NONE" title="DRM Free"/> <img alt="DRM: Steam" ng-src="images/drm_steam.png" ng-switch-when="Steam" title="Steam"/> <img alt="DRM: Origin" ng-src="images/drm_origin.png" ng-switch-when="Origin" title="Origin"/> <img alt="D2D DRM" ng-src="images/drm_securom.png" ng-switch-when="SecuRom" title="D2D DRM"/> <img alt="DRM: MMO" ng-src="images/drm_mmo.png" ng-switch-when="MMO" title="MMO"/> <img alt="DRM: Uplay" ng-src="images/drm_uplay.png" ng-switch-when="Uplay" title="Uplay"/> <img alt="DRM: Rockstar Games Social Club" ng-src="images/drm_rockstar.png" ng-switch-when="Rockstar" title="Rockstar Games Social Club"/> <img alt="DRM: Sony" ng-src="images/drm_sony.png" ng-switch-when="Sony" title="Sony"/> <img alt="DRM: ESO" ng-switch-when="ESO" src="images/drm_eso.png" title="ESO"/> <img alt="DRM: ADS" ng-switch-when="ADS" src="images/drm_ads.png" title="ADS"/> <img alt="DRM: Nintendo" ng-switch-when="Nintendo" src="images/drm_nintendo.png" title="Nintendo"/> <img alt="DRM: Xbox" ng-switch-when="Xbox" src="images/drm_xbox.png" title="Xbox"/> <img alt="DRM: Oculus" ng-switch-when="Oculus" src="images/drm_oculus.png" title="Oculus"/> <img alt="DRM: Bethesda" ng-switch-when="Bethesda" src="images/drm_bethesda.png" title="Bethesda"/> <img alt="DRM: Epic Games" ng-switch-when="Epic Games" src="images/drm_epic.png" title="Epic Games"/><div ng-switch-default="">{{product.drmType}}</div></td></tr></table><div class="text-small margin-bottom-default" ng-show="product.publisherSupportUri"><i class="icon-caret-right"></i> <a ng-href="{{product.publisherSupportUri}}">Publisher Support</a></div><div ng-show="recommendedProducts &amp;&amp; recommendedProducts.length &gt; 0"><div class="margin-bottom-small"><strong>Recommended Games:</strong></div><a class="span-12 margin-bottom-default" href="{{gf.url.getProductUrl(recProduct.id, recProduct.uriSafeTitle)}}" ng-click="clickRecommendation(recProduct, $index+1)" ng-repeat="recProduct in recommendedProducts"><img alt="{{recProduct.title}} box art" class="span4" ng-src="{{recProduct.thumbnailImage}}"/><div class="span8"><div><strong>{{recProduct.title}}</strong></div><div class="text-light text-small" ng-show="recProduct.contentRating">{{recProduct.contentRating | gfFilterRating}}</div><div class="text-light text-small">{{recProduct.publisher}}</div><div class="text-light text-small">{{recProduct.releaseDate | gfFilterDate}}</div><div class="text-light text-small"><i class="{{platform.id | gfFilterPlatform:\'icon\'}} icon-2x icon-fade" ng-repeat="platform in recProduct.platforms" title="{{platform.id | gfFilterPlatform}}"></i></div><div class="text-light text-small" ng-switch="" on="recProduct.drmType"><img alt="DRM FRree" ng-src="images/drm_free.png" ng-switch-when="" title="DRM Free"/> <img alt="DRM FRree" ng-src="images/drm_free.png" ng-switch-when="NONE" title="DRM Free"/> <img alt="DRM: Steam" ng-src="images/drm_steam.png" ng-switch-when="Steam" title="Steam"/> <img alt="DRM: Origin" ng-src="images/drm_origin.png" ng-switch-when="Origin" title="Origin"/> <img alt="D2D DRM" ng-src="images/drm_securom.png" ng-switch-when="SecuRom" title="D2D DRM"/> <img alt="DRM: MMO" ng-src="images/drm_mmo.png" ng-switch-when="MMO" title="MMO"/> <img alt="DRM: Uplay" ng-src="images/drm_uplay.png" ng-switch-when="Uplay" title="Uplay"/> <img alt="DRM: Rockstar Games Social Club" ng-src="images/drm_rockstar.png" ng-switch-when="Rockstar" title="Rockstar Games Social Club"/> <img alt="DRM: Sony" ng-src="images/drm_sony.png" ng-switch-when="Sony" title="Sony"/> <img alt="DRM: ESO" ng-switch-when="ESO" src="images/drm_eso.png" title="ESO"/> <img alt="DRM: ADS" ng-switch-when="ADS" src="images/drm_ads.png" title="ADS"/> <img alt="DRM: Nintendo" ng-switch-when="Nintendo" src="images/drm_nintendo.png" title="Nintendo"/> <img alt="DRM: Xbox" ng-switch-when="Xbox" src="images/drm_xbox.png" title="Xbox"/> <img alt="DRM: Oculus" ng-switch-when="Oculus" src="images/drm_oculus.png" title="Oculus"/> <img alt="DRM: Bethesda" ng-switch-when="Bethesda" src="images/drm_bethesda.png" title="Bethesda"/> <img alt="DRM: Epic Games" ng-switch-when="Epic Games" src="images/drm_epic.png" title="Epic Games"/><div ng-switch-default="">{{recProduct.drmType}}</div></div></div></a></div></div><div class="panel span9 pad-large"><div class="row-fluid text-center"><div class="pull-left span3"><span class="fb-like social" data-action="like" data-href="{{product.url}}" data-layout="button" data-share="true" data-show-faces="false" gf-facebook-button="" style="top: -5px"></span> <span data-done="{{product.title}}" data-text="Buy {{product.title}} for {{product.purchaseAction.purchasePrice.currency.symbol}}{{product.purchaseAction.purchasePrice.amount}}" data-url="{{product.url}}" data-via="Direct2Drive" gf-twitter=""></span></div><ul class="nav gf-pills"><li ng-class="{active:(activeTab == tab)}" ng-repeat="tab in tabs"><a ng-click="setTab(tab)" ng-hide="tab.title == \'User Reviews\' &amp;&amp; (product.productType === \'Bundle\' || product.productType === \'CustomBundle\')">{{tab.title}}</a></li></ul></div><div ng-include="" src="activeTab.partial"></div></div></div></div></div><div gf-notification-container=""></div>'),a.put("/partials/product/reviews-critic.html","<p>Critic Reviews</p>"),a.put("/partials/product/reviews-user.html",'<div class="reviews" gf-infinite-scroll="getUserReviews(true)" gf-scroll-to-review="(userReviewId == null) ? \'reviewsSection\' : userReviewId" id="reviewsSection" ng-controller="UserReviewsController" ng-init="init()"><div class="row-fluid text-center" ng-show="userReviews.length &gt; 0"><ul class="nav gf-pills"><li ng-class="{active:(activeReviewTab == tab)}" ng-repeat="tab in reviewTabs"><button ng-click="setReviewTab(tab)">{{tab.title}}</button></li></ul></div><div gf-user-review="" ng-repeat="review in userReviews"><a id="{{review.id}}"></a><div class="row-fluid"><div class="span2"><div class="rating-box panel-light pad text-center"><p class="rating">{{review.userRatingScore}}</p><p ng-class="(review.userRatingScoreName == \'Above Average\') ? \'text-light text-small\' : \'text-light\'">{{review.userRatingScoreName}}</p></div></div><div class="span10 pad"><div class="review-title" ng-bind-html-unsafe="review.reviewTitle"></div><small class="text-light">Posted by <strong>{{review.reviewerName}}</strong>({{review.reviewerCity}}, {{review.reviewerState}}) {{review.dateCreated | gfFilterDate: \'medium\'}}</small><br/><small class="text-light">Member since {{review.reviewerMemberSinceDate | date:\'MMM yyyy\'}}</small><br/><small class="text-light"><em>{{review.countHelpful}} out of {{review.totalHelpfulVotesCast}} gamers ({{review.percentageHelpful}}%) found this review helpful</em></small><br/><br/><div class="margin-bottom-large" ng-bind-html-unsafe="review.reviewBody"></div><div class="row-fluid"><div class="pull-left margin-right-small text-light"><strong>Was this review helpful?</strong></div><div class="pull-left margin-right-small"><button class="btn btn-icon" ng-click="voteReviewHelpful(review.id, true)"><i class="icon-thumbs-up"></i></button></div><div class="pull-left margin-right-small"><button class="btn btn-icon" ng-click="voteReviewHelpful(review.id, false)"><i class="icon-thumbs-down"></i></button></div><div class="pull-left"><span class="text-small cursor-pointer" ng-click="reportAbuse(review.id)">Report Abuse</span></div></div><div class="row-fluid margin-top-small"><div class="span12 text-small">{{submitted}}</div></div></div></div><div class="divider" ng-show="!$last"></div><div class="row-fluid pad" ng-show="$last">End of results</div></div><div class="row-fluid pad text-center text-light" ng-show="paging.isFetching"><i class="icon-repeat icon-2x icon-spin"></i></div><div class="row-fluid pad" ng-show="total == 0">No reviews yet!</div></div>'),a.put("/partials/product/screenshots.html",'<div class="row-fluid margin-bottom-large top-media" ng-show="screenshots.length &gt; 0"><ul class="thumbnails"><li class="col-10-2" ng-repeat="media in screenshots"><div class="cursor-pointer"><div class="media-wrapper"><img alt="screenshot #{{$index + 1}}" ng-click="loadMediaBrowser(media)" ng-src="{{getMediaPreviewUrl(media)}}"/></div></div></li></ul></div><div class="row-fluid pad-large" ng-hide="screenshots.length &gt; 0">No Screenshots Available</div>'),a.put("/partials/product/summary.html",'<div class="row-fluid margin-bottom-large top-media" ng-show="medias.length &gt; 0"><ul class="thumbnails"><li class="col-10-2" ng-repeat="media in medias"><div class="cursor-pointer"><div class="media-wrapper"><div class="media-overlay-video" ng-click="loadMediaBrowser(media)" ng-show="{{isMediaVideo(media)}}"></div><img alt="screenshot #{{$index + 1}}" ng-click="loadMediaBrowser(media)" ng-src="{{getMediaPreviewUrl(media)}}"/></div><div class="panel-light text-light text-small text-center" ng-show="activeTab.title == \'Summary\'"><strong>{{getMediaType(media)}}</strong></div></div></li></ul></div><div class="panel-light pad margin-bottom-large" ng-show="product.productRequirements.length">Requires the base game <a href="{{gf.url.getProductUrl(product.productRequirements[0].product.id, product.productRequirements[0].product.uriSafeTitle)}}">{{product.productRequirements[0].product.title}}</a> in order to play.</div><div class="panel-light pad margin-bottom-large" ng-show="product.requirements"><i class="icon-exclamation"></i> {{product.requirements}}</div><div class="margin-bottom-large" itemprop="description" ng-bind-html="product.description"></div><div class="panel-light pad margin-bottom-large" ng-show="product.countryRestrictions.length"><gf-text-ellipsis max-height="\'100px\'" text="countryRestrictions"></gf-text-ellipsis></div><div class="bundles margin-bottom-large" ng-show="countGamesInBundle(product.bundledSkuProducts) &gt; 0"><h3 class="section-heading">ALSO IN THIS BUNDLE</h3><ul class="unstyled"><li class="row-fluid" ng-repeat="bundledProduct in product.bundledSkuProducts"><div class="span2"><a href="{{gf.url.getProductUrl(bundledProduct.id, bundledProduct.uriSafeTitle)}}"><img alt="{{bundledProduct.title}} box art" ng-src="{{bundledProduct.frontImage}}"/></a></div><div class="span10"><h4><a href="{{gf.url.getProductUrl(bundledProduct.id, bundledProduct.uriSafeTitle)}}">{{bundledProduct.title}}</a> <a class="btn pull-right btn-default" href="{{gf.url.getProductUrl(bundledProduct.id, bundledProduct.uriSafeTitle)}}"><strong>Game Details</strong> <span class="icon-caret-right icon-large"></span></a></h4><p><strong>Publisher</strong>: {{bundledProduct.publisher}}</p><p class="text-light text-small"><span>Release Date: {{bundledProduct.releaseDate | gfFilterDate}}</span>, <span>{{bundledProduct.contentRating | gfFilterRating }}</span></p><p ng-bind-html="bundledProduct.description"></p></div></li></ul></div><div class="bundles margin-bottom-large" ng-show="product.bundlesOfferedIn.length"><h3 class="section-heading">THIS GAME IS ALSO IN THE FOLLOWING {{(product.bundlesOfferedIn.length === 1) ? \'BUNDLE\' : \'BUNDLES\'}}</h3><ol class="unstyled"><li class="row-fluid" ng-repeat="bundle in product.bundlesOfferedIn"><div class="span2"><a href="{{(bundle.productType === \'CustomBundle\') ? gf.url.getByobUrl(bundle.id, bundle.uriSafeTitle) : gf.url.getProductUrl(bundle.id, bundle.uriSafeTitle)}}"><img alt="{{bundle.title}} box art" ng-src="{{bundle.frontImage}}"/></a></div><div class="span10"><h4><a href="{{(bundle.productType === \'CustomBundle\') ? gf.url.getByobUrl(bundle.id, bundle.uriSafeTitle) : gf.url.getProductUrl(bundle.id, bundle.uriSafeTitle)}}">{{bundle.title}}</a> <a class="btn pull-right btn-default" href="{{(bundle.productType === \'CustomBundle\') ? gf.url.getByobUrl(bundle.id, bundle.uriSafeTitle) : gf.url.getProductUrl(bundle.id, bundle.uriSafeTitle)}}"><strong>Bundle Details</strong> <span class="icon-caret-right icon-large"></span></a></h4><p class="text-light text-small"><span>Release Date: {{bundle.releaseDate | gfFilterDate}}</span></p><p ng-bind-html="bundle.description" ng-show="bundle.productType === \'Bundle\'"></p><div ng-show="bundle.productType === \'CustomBundle\'"><p>This is a Build Your Own Bundle with these {{countGamesInBundle(bundle.bundledSkuProducts)}} games:</p><ol class="unstyled"><li class="row-fluid" ng-repeat="game in bundle.bundledSkuProducts"><a href="{{gf.url.getProductUrl(game.id, game.uriSafeTitle)}}">{{game.title}}</a></li></ol></div></div></li></ol></div><div class="margin-bottom-large" ng-show="product.bonusItems.length"><p class="section-heading">FREE BONUS ITEMS INCLUDED</p><div ng-repeat="spec in product.bonusItems"><div class="row-fluid"><div class="span10"><h4>{{spec.name}}</h4><span class="text-light">{{spec.description}}</span></div><div class="span2"><span class="pull-right" ng-show="spec.isDownloadable"><button class="btn btn-default" disabled="" gf-action-download-bonus-item="" product="product" spec="spec">Download</button></span></div></div><div class="divider"></div></div></div><div class="margin-bottom-large" ng-show="product.techSpecs.length"><p class="section-heading">SYSTEM REQUIREMENTS</p><table class="system-requirements"><tr ng-repeat="spec in product.techSpecs"><td class="span4"><strong>{{spec.name}}</strong></td><td class="span8">{{spec.value}}</td></tr></table></div><div class="margin-bottom-large text-light text-small" ng-show="product.copyright"><em>{{product.copyright}}</em></div>'),a.put("/partials/product/videos.html",'<div class="row-fluid margin-bottom-large top-media" ng-show="videos.length &gt; 0" ng-switch="" on="activeTab.title"><ul class="thumbnails"><li class="col-10-2" ng-repeat="media in videos"><div class="cursor-pointer"><div class="media-wrapper"><div class="media-overlay-video" ng-click="loadMediaBrowser(media)" ng-show="{{isMediaVideo(media)}}"></div><img ng-click="loadMediaBrowser(media)" ng-src="{{getMediaPreviewUrl(media)}}"/></div></div></li></ul></div><div class="row-fluid pad-large" ng-hide="videos.length &gt; 0">No Videos Available</div>'),a.put("/partials/promotion.html",'<div ng-hide="backgroundUnavailable"><div class="promotion-background" gf-hero="" hero="hero"></div></div><div class="loading-icon" ng-show="showLoadingIcon"><div class="progress progress-striped active"><div class="bar" style="width: 100%"></div></div></div><div class="container-fluid promotion" ng-hide="unavailable"><div class="panel pad-large"><div class="row-fluid" ng-repeat="row in products"><ul class="thumbnails"><li class="span2" ng-repeat="product in row"><div class="margin-bottom-small text-center"><div class="boxart"><a href="{{gf.url.getProductUrl(product.id, product.uriSafeTitle)}}" ng-click="clickProduct(product, $parent.$index * 6 + $index+1)"><img ng-src="{{product.detailImage}}"/><div ng-class="(product.purchaseAction &amp;&amp; product.purchaseAction.totalPercentOff&gt;49) ? \'discount-highlight discount-boxart\' : \'discount-normal discount-boxart\'" ng-show="product.purchaseAction &amp;&amp; product.purchaseAction.totalPercentOff &gt; 0"><div class="value"><strong>-{{product.purchaseAction.totalPercentOff | number:0}}</strong>%</div></div></a> <a href="{{gf.url.getProductUrl(product.id, product.uriSafeTitle)}}" ng-if="(product.purchaseAction &amp;&amp; product.purchaseAction.instant_play) &amp;&amp; instantPlayAvailable(product.purchaseAction)"><div class="value"><div class="instant-play-hex-badge boxart-instant-play-with-discount"></div></div></a></div><div class="margin-top-mini"><div btn-class="btn-small" gf-offer-actions="" position="$parent.$index * 6 + $index + 1" product="product" productlist="\'[PM] \' + promotion.name"></div></div></div></li></ul></div></div></div><div class="container-fluid text-center unavailable" ng-show="unavailable"><h3>This offer is not available.</h3><h3>Check out our other great deals <a href="/#!/pc/onsale">here</a>.</h3></div><div gf-notification-container=""></div>'),a.put("/partials/psn.html",'<div class="container-fluid"><div class="row-fluid"><div class="span2"><div class="powerSearch-module" ng-include="" src="gf.partial.module.powerSearch"></div></div><div class="span10"><div class="browse-module havePowerSearchBrowse" ng-include="" src="gf.partial.module.browse"></div></div></div></div>'),a.put("/partials/rewards.html",'<header class="rewards-head"><img src="images/rewards/rewards_title.png"/></header><div class="rewards-title"><h2>What is D2D Rewards?</h2></div><div class="rewards"><div class="rewards-intro"><section class="left-section no-padding-right"><div class="text-intro"><p>D2D Rewards™ is Direct2Drive’s membership program designed to give PC gamers the opportunity to earn big discounts on the games they love. The concept is simple: the more you spend on Direct2Drive, the greater your discount. It’s that easy!<br/><br/>There’s no cost to sign up so log into your account today and see how big your discounts are. For more information, please visit our <a ng-href="{{gf.url.getRewardsFaqUrl()}}#top" rel="nofollow">FAQ</a> and <a ng-href="{{gf.url.getRewardsTermsOfConditionsUrl()}}#top" rel="nofollow">Terms and Conditions</a> pages.</p></div></section><section class="right-section"><ul class="list-features"><li class="icon-better-rewards"><img src="images/rewards/rewards_icon01.png"/><p class="icon-text better-rewards">Your purchases earn you bigger discounts. Spend more, get more!</p></li><li class="icon-vip-crown"><img src="images/rewards/rewards_icon02.png"/><p class="icon-text vip-crown">Members-only discounts on top of promotion prices</p></li></ul></section></div></div><div class="member-tier"><section class="tier-bar"><img class="current-level" ng-if="!top_tier" src="images/vip/vip_{{current_vip_tier.tier}}_discount.png" title="{{current_vip_tier.name}}"/><img class="tier-progress" src="images/rewards/rewards_bar_bg.png"/><img class="bar-meter" ng-style="{ width: currentTierProgress }" src="images/rewards/rewards_bar_meter.png"/><img class="next-level" ng-if="next_vip_tier" src="images/vip/vip_{{next_vip_tier.tier}}_discount.png" title="{{next_vip_tier.name}}"/><span class="current-level-info font-italic" ng-if="!current_vip_tier">Log into your account or create a new account today to see your eligible discount!</span> <span class="current-level-info font-italic" ng-if="current_vip_tier">current membership tier: {{member_vip_tier}}</span> <span class="level-info font-italic" ng-if="amountToNextTier">${{amountToNextTier|number:2}} Until next tier</span></section></div><div class="member-tier-table"><table><thead><tr><th style="width:26%"></th><th ng-repeat="vip in vips" style="width:14%"><img class="tier-flag" src="images/rewards/rewards_{{vip.tier}}_flag.png"/></th><th style="width:4%"></th></tr></thead><tbody><tr><td class="p-left">Membership</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td class="p-left">Game Purchases</td><th ng-repeat="vip in vips">{{vip.purchase_display_text}}</th><td></td></tr><tr><td class="p-left">Most Titles</td><th ng-repeat="vip in vips"><img ng-if="vip.purchase_discount==0" src="images/rewards/rewards_x_icon.png"/><span ng-if="vip.purchase_discount&gt;0">{{vip.purchase_discount | number:0}}%</span></th><td></td></tr><tr><td class="p-left">All Others</td><th ng-repeat="vip in vips"><img ng-if="vip.genba_discount==0" src="images/rewards/rewards_x_icon.png"/><span ng-if="vip.genba_discount&gt;0">{{vip.genba_discount | number:0}}%</span></th><td></td></tr></tbody></table></div>'),a.put("/partials/search.html",'<div class="container-fluid"><div class="row-fluid"><div class="span2"><div class="powerSearch-module" ng-include="" src="gf.partial.module.powerSearch"></div></div><div class="span10"><div class="browse-module havePowerSearchBrowse" ng-include="" src="gf.partial.module.browse"></div></div></div></div>'),a.put("/partials/sitemap.html",'<div class="container-fluid text-left sitemap"><h1>Site Map</h1><div class="row-fluid"><div class="span3"><h3>Game Genres</h3><ul><li ng-repeat="genre in gf.navigation.genres"><a ng-href="{{platform_url + genre.url}}">{{genre.genre_name}}</a></li></ul><h3 class="platform_header">Platforms</h3><ul><li ng-repeat="platform in platforms"><a ng-href="{{platform.url}}">{{platform.title}}</a></li></ul></div><div class="span3"><h3>Stores</h3><ol><ul><li ng-repeat="store in stores"><a ng-href="{{store.url}}">{{store.title}}</a></li></ul><ul class="subStores"><li ng-repeat="subStore in subStores"><a ng-href="{{gf.url.getPromotionUrl(subStore.id)}}">{{subStore.name}}</a></li></ul></ol></div><div class="span3"><h3>Featured Publishers</h3><ul><li ng-repeat="publisher in publishers"><a ng-href="{{gf.url.getPublishersUrl(publisher)}}">{{publisher}}</a></li></ul></div><div class="span3"><h3>Company Info</h3><ul class="company_info"><li ng-repeat="info in infos"><a ng-href="{{info.link}}">{{info.title}}</a></li></ul><h3 class="my_account_header">My Account</h3><ul><li><a analytics-category="Login" analytics-event="Login" analytics-on="" gf-modal-login="" href="">Login/Sign Up</a></li><li ng-repeat="account in accounts"><a ng-href="{{account.link}}">{{account.title}}</a></li></ul></div></div></div>'),a.put("/partials/streaming/cloud-play.html",'<header class="malibu-head"><img src="images/streaming/header_d2d_logo.png"/><img src="images/streaming/header_cloudplay_logo_1.png"/><span class="badge badge-dark">Coming Soon</span></header><div class="malibu-streaming"><section class="intro"><h3>What is cloud play™?</h3><p>Play any PC games you own on a powerful cloud computer!<br/>Cloud Play provides you with an easy way to <strong>play your hardware intensive games without the headache and cost of buying your own top-notch PC.</strong> This means that you can run high-end<br/>games on your low-end PC.</p><div class="features"><ul class="list-features"><li class="icon-cloud">200GB of storage included FREE</li><li class="icon-pc">Stream with ultra low latency at 1080p and 60 FPS</li><li class="icon-hd">Securely log into gaming platforms to download and play your own games</li><li class="icon-global">Stream across the continental US with little lag</li></ul></div></section><div class="detail"><section class="left-section"><div class="how-it-works"><h3>How does it work?</h3><dl class="dl-horizontal"><dt><div class="badge badge-theme">1</div></dt><dd><span>Earn Cloud Play™ hours by purchasing a game from D2D.</span> <span>Every <strong>$10</strong> you spend in one transaction earns you <strong>1 free hour</strong> of Cloud Play™.</span></dd><dt><div class="badge badge-theme">2</div></dt><dd><sapn>Go to the <a ng-click="gotoMyAccountCloudPlay()">Cloud Play™ tab</a> in your <strong>Account page</strong>.</sapn></dd><dt><div class="badge badge-theme">3</div></dt><dd><p>Download the <strong>D2D Streaming client</strong> and launch your gaming PC. Origin, Steam and Uplay are pre-installed - simply log in, download your games, and play away!</p></dd><dt><div class="badge badge-theme">4</div></dt><dd><p>Cloud Play™ is in open beta. Accumulated hours expire and all hard drives are erased on future, so make sure to get your gaming time in by then.</p></dd></dl></div></section><section class="right-section"><div class="spec"><h3>Cloud Play™ Computer Specifications</h3><dl class="dl-horizontal"><dt><strong>CPU</strong></dt><dd>Intel Xeon® E5-2670 2.60GHz</dd><dt><strong>GPU</strong></dt><dd>Nvidia GRID K520</dd><dt><strong>RAM</strong></dt><dd>15 GB</dd><dt><strong>Storage</strong></dt><dd>200 GB SSD</dd><dt><strong>Max Bandwidth</strong></dt><dd>1,000 Mbps</dd><dt><strong>OS</strong></dt><dd>Windows Server 2016 64 bit</dd></dl><b>LAN connection recommended for optimal streaming</b><p>When in the Cloud Play™ Client, press <strong>F12</strong> for options.</p></div></section></div></div>'),a.put("/partials/streaming/index.html",'<div id="streaming"><section class="streaming-top"><header class="malibu-head"><img src="images/streaming/header_d2d_logo.png"/> <img src="images/streaming/instantplay_tab_logo.png"/></header><div class="row-fluid"><div class="span12"><div class="panel-download-client"><span>The D2D streaming Client is required to use both Cloud Play™ and Instant Play™.</span> <a class="c-btn btn-download-streaming-client" href="{{streaming_download_url}}"><b class="button-text">Download Here <img src="images/streaming/download_icon.png"/></b></a></div><div class="panel-download-client"><img src="images/streaming/lightbulb_icon.png"/> <b><i>LEARN HOW TO USE D2D CLOUD PLAY™.</i></b> <span class="more"><a ng-click="gotoElement(\'how-to-use\')">MORE INFO</a><i class="fa fa-angle-double-down" style="color:#F89820"></i></span></div></div></div><div class="row-fluid malibu-player"><div class="span6"><div class="instant-play"><header><img src="images/streaming/instantplay_txt.png"/> <span class="more"><a ng-click="gotoElement(\'malibu-instant\')">MORE INFO</a><i class="fa fa-angle-double-down" style="color:#F89820"></i></span></header><div class="panel malibu-instant-play panel-constant"><div class="row" ng-if="collectionAvailable &amp;&amp; instantPlay.any_instant_playable"><ul class="thumbnails"><li class="span6" ng-if="instantPlayAvailable(product.purchaseAction)" ng-repeat="product in products"><div class="thumbnail"><div class="screenshot-container"><img ng-src="{{product.screenshot.item.sources[0].url}}"/></div><h3>{{product.title}}</h3><p class="description">{{product.tinyDescription}}</p><div class="discount"><span class="pointer" ng-if="product.purchaseAction.totalPercentOff &gt; 0"> {{product.purchaseAction.totalPercentOff | number:0 }}%  OFF</span> <span class="discount-price">{{product.purchaseAction.purchasePrice.amount |currency:product.purchaseAction.purchasePrice.currency.symbol }}</span></div><div class="malibu-buttons" ng-if="product.purchaseAction.instant_play.canInstantPlay"><a class="malibu-buttons-buy" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" product="product"><span><img src="images/streaming/buy_icon.png"/> BUY NOW</span></a> <a can-instant-play="product.purchaseAction.instant_play.canInstantPlay" class="malibu-buttons-play-now" collection-id="instantPlay.id" game-id="product.streaming_game_id" gf-action-launch-malibu-instant-play="" ng-disabled="disableLaunchBtn()" offer="product.purchaseAction.instant_play.oid" return-url="returnProductPath(product)" title="PLAY NOW"></a></div><div class="malibu-buttons" ng-if="!product.purchaseAction.instant_play.canInstantPlay"><a class="malibu-buttons-buy" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" product="product"><span><img src="images/streaming/buy_icon.png"/> BUY NOW</span></a></div></div></li></ul></div><div ng-if="!(collectionAvailable &amp;&amp; instantPlay.any_instant_playable)"><br/><p class="contact-support">There is currently no Instant Play™ Spotlight active. For more information please <a ng-href="{{gf.url.getSupportUrl()+\'/customer/portal/emails/new\'}}" target="_blank">contact support</a>.</p></div></div></div></div><div class="span6"><div class="cloud-play"><header><img src="images/cloudplay_txt.png"/> <span class="more"><a ng-click="gotoElement(\'malibu-cloud-play\')">MORE INFO</a><i class="fa fa-angle-double-down" style="color:#F89820"></i></span></header><div class="panel malibu-cloud-play"><div class="paid-play-section" ng-if="paidCloudPlayTicket.expireDateDiff"><small class="remaining-playtime-title">Your Remaining Cloud Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Cloud Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Cloud Play time is rewarded to you when you make purchases at D2D. For every $10 you spend in one transaction, you will receive 1 Cloud Play streaming hour.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>{{paidCloudPlayTicket.time_left.sign}}{{paidCloudPlayTicket.time_left.hours}}</strong> <span>{{paidCloudPlayTicket.time_left.hours &gt; 1 ? \'hours\' : \'hour\' }}</span> <strong>{{paidCloudPlayTicket.time_left.minutes}}</strong> <span>minutes</span></div><small class="remaining-playtime-expire-date">Cloud Play time expires on: {{paidCloudPlayTicket.ticket_expire_at.date | date:\'MM/dd/yyyy\' }}</small><div ng-class="{true: \'pending-cover\', false: \'hide\'}[paidCloudPlayTicket.pending_jobs]" ng-show="paidCloudPlayTicket.pending_jobs"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><p class="cloud-play-message" ng-if="!atLeastOneTicket() &amp;&amp; pendingJobs.status !== true">Play your games on a powerful cloud computer! D2D provides you with an easy way to play hardware intensive games without the headache and cost of buying your own top-notch PC. This means that you can run hight-end games on your low-end PC, or simply experiment with higher settings.</p><p class="spend" ng-if="!atLeastOneTicket() &amp;&amp; pendingJobs.status !== true"><strong>For every <span>$10</span> you spend in one transaction on D2D,<br/>you\'ll receive <span>one hour</span> of FREE Cloud Play™ playtime!</strong></p><div ng-if="pendingJobs.paid === true &amp;&amp; !hasPaidTicket()"><small class="remaining-playtime-title">Your Remaining Cloud Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Cloud Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Cloud Play time is rewarded to you when you make purchases at D2D. For every $10 you spend in one transaction, you will receive 1 Cloud Play streaming hour.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>00</strong> <span>hour</span> <strong>00</strong> <span>minute</span></div><small class="remaining-playtime-expire-date">Cloud Play time expires on: -</small><div class="pending-cover"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><div class="bonus-play-section" ng-if="bonusCloudPlayTicket.expireDateDiff"><small class="remaining-playtime-title">Your Remaining Bonus Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Bonus Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Bonus Play time is rewarded to you when you participate in D2D Streaming events. Bonus Play Time will expire along with the event.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>{{bonusCloudPlayTicket.time_left.sign}}{{bonusCloudPlayTicket.time_left.hours}}</strong> <span>{{bonusCloudPlayTicket.time_left.hours &gt; 1 ? \'hours\' : \'hour\' }}</span> <strong>{{bonusCloudPlayTicket.time_left.minutes}}</strong> <span>minutes</span></div><small class="remaining-playtime-expire-date">Bonus Play time expires on: {{bonusCloudPlayTicket.ticket_expire_at.date | date:\'MM/dd/yyyy\' }}</small><div ng-class="{true: \'pending-cover\', false: \'hide\'}[bonusCloudPlayTicket.pending_jobs]" ng-show="bonusCloudPlayTicket.pending_jobs"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><div ng-if="pendingJobs.bonus === true &amp;&amp; !hasBonusTicket()"><small class="remaining-playtime-title">Your Remaining Bonus Play™ Playtime:</small> <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What is Bonus Play Time?&lt;/strong&gt;&lt;/h5&gt;&lt;p class=\'explain-different\'&gt;Bonus Play time is rewarded to you when you participate in D2D Streaming events. Bonus Play Time will expire along with the event.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i><div class="remaining-playtime"><strong>00</strong> <span>hour</span> <strong>00</strong> <span>minute</span></div><small class="remaining-playtime-expire-date">Bonus Play time expires on: -</small><div class="pending-cover"><p class="pending-notice"><img src="images/streaming/time_icon.png"/><span>Updating information... Please check back later.</span></p></div></div><br/><div ng-if="able2Launch()"><p class="cloudplay-section-text"><img src="images/streaming/account_launch_title.png"/></p><p class="switch-srv" ng-if="ableToSwitchingServer"><span class="switch-srv-content">Switch to D2D\'s new server for faster streaming!</span><button class="c-btn switch-srv-btn" switching-srv-btn="">Switch Now</button></p><div ng-hide="disableLaunchBtn()"><div class="row-fluid"><div class="span12"><ul class="launch-desktop-row"><li class="span6"><a class="btn1 btn-danger1" game-id="5009901" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Windows"><img class="launch-btn-img launch_windows" src="images/streaming/launch_windows_default.png"/></a></li><li class="span6"><a class="btn1 btn-danger1" game-id="5009902" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Steam"><img class="launch-btn-img launch_steam" src="images/streaming/launch_steam_default.png"/></a></li></ul></div></div><div class="row-fluid"><div class="span12"><ul class="launch-desktop-row"><li class="span6"><a class="btn1 btn-danger1" game-id="5009903" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Origin"><img class="launch-btn-img launch_origin" src="images/streaming/launch_origin_default.png"/></a></li><li class="span6"><a class="btn1 btn-danger1" game-id="5009904" gf-action-launch-malibu-client="" ng-disabled="disableLaunchBtn()" ng-if="able2Launch()" title="Launch Malibu Cloud Play™ Client - Blizzard"><img class="launch-btn-img launch_blizzard" src="images/streaming/launch_blizzard_default.png"/></a></li></ul></div></div></div><div ng-if="disableLaunchBtn()"><div class="row-fluid"><b><i class="fa fa-cog fa-spin fa-3x fa-fw"></i></b></div></div></div><small class="fastened">PC with Windows 8 or later recommended</small><div><p class="cloudplay-section-text smaller" style="font-size:0.8em">Direct2Drive does not record or retain any user information, including account logins.</p><p class="smaller">For more Cloud Play™ terms and conditions, please visit <a ng-href="{{gf.url.getSupportUrl()}}">D2D support page</a>.</p></div></div><header class="sub-titles"><h3>GET NOTIFIED FOR FREE STREAMING HOURS</h3></header><div class="panel malibu-instant-play streaming-notification"><div class="spend"><a class="c-btn btn-click-here" href="#!/streaming/subscribe"><b>Click Here</b></a> to sign up for streaming event notifications.  <i class="fa fa-2x fa-question-circle-o qmark-middle" gf-simple-popover="" popover-html="&lt;h5&gt;&lt;strong&gt;What are D2D Streaming Events ?&lt;/strong&gt;&lt;/h5&gt;&lt;p&gt;D2D regularly holds events to give away free streaming hours for users to experience our fast streaming service. Sign up to receive notifications on when these events will be held.&lt;/p&gt;" popover-placement="bottom" popover-trigger="hover"></i></div></div><header class="sub-titles" ng-if="streamingCampaign.onCampaign()"><h3>{{streamingCampaign.bonusHours()}} HOURS OF CLOUD PLAY™ FREE!</h3></header><div ng-if="streamingCampaign.onCampaign()"><div class="panel malibu-instant-play streaming-event-redeem" id="redeem-container" ng-if="streamingCampaign.showCampaign() &amp;&amp; !streamingCampaign.redeemed()"><div class="spend"><span><a class="c-btn btn-click-here" container-id="redeem-container" gf-action-redeem-bonus20hrs="" ng-click="gotoElement(\'how-to-use\')"><b>Click Here</b></a></span> to redeem {{streamingCampaign.bonusHours()}} free hours of Cloud Play™ </div></div><div class="panel malibu-instant-play streaming-event-redeem" ng-if="!streamingCampaign.showCampaign() &amp;&amp; streamingCampaign.redeemed()"><div class="streaming-notification-info"><div class="spend">You have redeemed the free Cloud Play™ streaming hours.</div></div></div><iframe id="download-client" style="display:none"></iframe></div></div></div></div><hr ng-if="collectionAvailable || expireDateDiff"/></section><section><div class="malibu-title" id="malibu-instant"><img src="images/streaming/instantplay_txt.png"/></div><div class="malibu-streaming"><div class="instant-play-intro"><section class="left-section no-padding-right"><h3>What is instant play™?</h3><p>Try out games with our rotating reel of instant-play trials! These may include themed promotions, timed access to current hits, first-look demos, and more. Instant play™ and try! Buy the ones you like. <strong>No purchase necessary!</strong></p><p>Press <strong>F12</strong> while you are in game to change your resolution and FPS settings.</p><div class="features"><ul class="list-features"><li class="icon-cloud-pad">Try out games without cumbersome game downloads</li><li class="icon-cart">New Spotlights updated regularly Try and buy only the games you like!</li></ul></div></section><section class="right-section"><div class="instant-play-exp"><dl class="dl-horizontal"><dt class="justify"><div class="badge badge-theme">1</div></dt><dd><p>Download the D2D Streaming client. This client <strong>only needs to be downloaded once</strong> to access all the games.</p></dd><dt class="justify"><div class="badge badge-theme">2</div></dt><dd><p>Click "<strong>Play Now</strong>" on any game below. Enjoy <strong>ten minutes</strong> of play. You can only access each trial once, so make it count!</p></dd><dt class="justify"><div class="badge badge-theme">3</div></dt><dd><p>If you like the game, buy it at this promotional price for a limited time!</p></dd></dl></div></section></div></div></section><section id="malibu-cloud-play"><div class="malibu-title"><img src="images/cloudplay_txt.png"/></div><div class="malibu-streaming"><section class="intro"><h3>What is cloud play™?</h3><p>Play your games on a powerful cloud computer! D2D provides you with an easy way to <strong>play hardware intensive games without the headache and cost of buying your own top-notch PC</strong>. This means that you can run high-end games on your low-end PC, or simply experiment with higher settings.</p><div class="features"><ul class="list-features"><li class="icon-cloud">200GB of storage included FREE</li><li class="icon-pc">Stream with ultra low latency at 1080p and 60 FPS</li><li class="icon-hd">Securely log into gaming platforms to download and play your own games</li><li class="icon-global">Stream across the continental US with little lag</li></ul></div></section><div class="detail"><section class="left-section"><div class="how-it-works"><h3>How does it work?</h3><dl class="dl-horizontal"><dt><div class="badge badge-theme">1</div></dt><dd><span>Earn Cloud Play™ hours by purchasing a game from D2D.</span> <span>Every <strong>$10</strong> you spend in one transaction earns you <strong>1 free hour</strong> of Cloud Play™.</span></dd><dt><div class="badge badge-theme">2</div></dt><dd><sapn>Go to the <a ng-click="gotoMyAccountCloudPlay()">Cloud Play™ tab</a> in your <strong>Account page</strong>.</sapn></dd><dt><div class="badge badge-theme">3</div></dt><dd><p>Download the <strong>D2D Streaming client</strong> and launch your gaming PC. Origin, Steam and Uplay are pre-installed - simply log in, download your games, and play away!</p></dd></dl></div></section><section class="right-section"><div class="spec"><h3>Cloud Play™ Computer Specifications</h3><dl class="dl-horizontal"><dt><strong>CPU</strong></dt><dd>Intel Xeon® E5-2670 2.60GHz</dd><dt><strong>GPU</strong></dt><dd>Nvidia GRID K520</dd><dt><strong>RAM</strong></dt><dd>15 GB</dd><dt><strong>Storage</strong></dt><dd>200 GB SSD</dd><dt><strong>Max Bandwidth</strong></dt><dd>1,000 Mbps</dd><dt><strong>OS</strong></dt><dd>Windows Server 2016 64 bit</dd></dl><b>LAN connection recommended for optimal streaming</b><p>When in the Cloud Play™ Client, press <strong>F12</strong> for options.</p></div></section></div></div></section><section id="how-to-use"><div class="malibu-title"><img src="images/streaming/howto_title.png"/></div><div class="malibu-streaming"><div class="intro"><ul><li><img alt="" src="images/streaming/1.png"/> Log in or Sign up to D2D</li><li><img alt="" src="images/streaming/2.png"/> Click the "Streaming" tab at the nav bar</li><li><img alt="" src="images/streaming/3.png"/> Click the "Download Here" button to download D2D streaming client</li><li class="li-imgs"><img alt="" src="images/streaming/img_1.png"/></li><li><img alt="" src="images/streaming/4.png"/> Click the downloaded client to start installation</li><li class="li-imgs"><img alt="" src="images/streaming/img_2.png"/></li><li><img alt="" src="images/streaming/5.png"/> After installing the Streaming client, click on "Windows" to launch Cloud Play™</li><li class="li-imgs"><img alt="" src="images/streaming/img_3.png"/></li><li><img alt="" src="images/streaming/6.png"/> The client will connect you to server. This may take a couple minutes as the server boots up</li><li><img alt="" src="images/streaming/7.png"/> Once connected you will see your Cloud Play™ desktop</li><li><img alt="" src="images/streaming/8.png"/> You can open any game platform and install your own library of games</li><li><img alt="" src="images/streaming/9.png"/> You can either press F12 or click the menu bar to hide the menu</li><li class="li-imgs"><img alt="" src="images/streaming/img_4.png"/> <img alt="" src="images/streaming/img_5.png"/></li></ul></div></div></section></div>'),a.put("/partials/streaming/instant-play.html",'<header class="malibu-head"><img src="images/streaming/header_d2d_logo.png"/><img src="images/streaming/header_instantplay_logo_1.png"/><span class="badge badge-dark">Coming Soon</span></header><div class="malibu-streaming"><div class="instant-play-intro"><section class="left-section no-padding-right"><h3>What is instant play™?</h3><p>Try out games with our rotating reel of instant-play trials! These may include themed promotions, timed access to current hits, first-look demos, and more. Instant play™ and try! Buy the ones you like. <strong>No purchase necessary!</strong></p><p>Press <strong>F12</strong> while you are in game to change your resolution and FPS settings.</p><div class="features"><ul class="list-features"><li class="icon-cloud-pad">Try out games without cumbersome game downloads</li><li class="icon-cart">New Spotlights updated regularly Try and buy only the games you like!</li></ul></div></section><section class="right-section"><div class="instant-play-exp"><dl class="dl-horizontal"><dt class="justify"><div class="badge badge-theme">1</div></dt><dd><p>Download the D2D Streaming client. This client <strong>only needs to be downloaded once</strong> to access all the games.</p></dd><dt class="justify"><div class="badge badge-theme">2</div></dt><dd><p>Click "<strong>Play Now</strong>" on any game below. Enjoy <strong>ten minutes</strong> of play. You can only access each trial once, so make it count!</p></dd><dt class="justify"><div class="badge badge-theme">3</div></dt><dd><p>If you like the game, buy it at this promotional price for a limited time!</p></dd></dl></div></section></div><div class="instant-play-detail" ng-if="collectionAvailable &amp;&amp; instantPlay.any_instant_playable"><div class="game-collection"><div class="game-title"><span>{{instantPlay.name}}</span></div><div class="download-client"><a href="{{streaming_download_url}}"><div>Be sure to download the D2D Streaming Client first!  <img src="images/streaming/instant_download_icon.png"/></div></a></div></div><div class="malibu-instant-play-games"><div class="games" style="width:100%"><div class="row-fluid"><div class="span12"><ul class="thumbnails"><li class="span3" ng-if="instantPlayAvailable(product.purchaseAction)" ng-repeat="product in products"><div class="thumbnail"><a ng-click="clickProduct(product, $index+1)" ng-href="{{getProductUrl(product)}}"><img alt="{{product.title}}" class="product-main" ng-src="{{product.frontImage}}"/></a><div class="caption"><a ng-href="{{getProductUrl(product)}}"><h4>{{product.title}}</h4></a><p>{{product.tinyDescription}}</p></div><div class="price-section"><div class="discount" ng-if="product.purchaseAction.isOnSale"><img src="images/streaming/discount_banner.png"/><div class="discount-txt">{{product.purchaseAction.totalPercentOff | number:0 }}%  OFF</div></div><p class="price pull-right">{{product.purchaseAction.purchasePrice | gfFilterCurrency}}</p></div><div class="row-fluid" ng-hide="!!gf.account.emailAddress"><div class="span12"><a class="btn-non-login" ng-click="loginOnInstantPlay()">Login to access a FREE trial!</a></div></div><div class="row-fluid" ng-show="!!gf.account.emailAddress"><div ng-if="product.purchaseAction.instant_play.canInstantPlay"><div class="span12 btn-margin-bottom"><div class="btn-section"><div class="span6"><a class="btn-buy-now" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" product="product"><span><img src="images/streaming/buy_icon.png"/> BUY NOW</span></a></div><div class="span6"><a can-instant-play="product.purchaseAction.instant_play.canInstantPlay" class="btn-play-now" collection-id="instantPlay.id" game-id="product.streaming_game_id" gf-action-launch-malibu-instant-play="" ng-click="communicateWithMalibuStart()" ng-disabled="communicateWithMalibuInitiated" offer="product.purchaseAction.instant_play.oid" return-url="returnProductPath(product)" title="PLAY NOW"><span ng-if="!communicateWithMalibuInitiated"><img class="play-now-pad-icon" src="images/streaming/play_icon_pad.png"/> PLAY NOW</span> <span ng-if="communicateWithMalibuInitiated"><div class="com-init"><img class="play-now-pad-icon" src="images/streaming/play_icon_pad.png"/> PLAY NOW</div></span></a></div></div></div></div><div ng-if="!product.purchaseAction.instant_play.canInstantPlay"><div class="span12 btn-margin-bottom"><div class="btn-section"><div class="span12"><a class="btn-buy-now" gf-action-buy="" ng-disabled="product.purchaseAction.buyableFromCountry === \'N\'" product="product"><span><img src="images/streaming/buy_icon.png"/> BUY NOW</span></a></div></div></div></div></div></div></li></ul></div></div></div></div><div class="row-fluid"><div class="span12 text-center darker-background"><p><strong>Be on the lookout for the next Instant Play™ spotlight!</strong></p></div></div></div><div class="instant-play-nv" ng-if="!collectionAvailable || !instantPlay.any_instant_playable"><div class="row-fluid"><div class="span12 text-center darker-background"><p class="contact-support">There is currently no Instant Play™ Spotlight active. For more information please <a ng-href="{{gf.url.getSupportUrl()+\'/customer/portal/emails/new\'}}" target="_blank">contact support</a>.</p></div></div></div></div><div class="d2d-plus-wrapper" style="border-top: none"><hr style="border-color: #888"/><div class="row-fluid" style="float: right"><a class="span2 btn btn-default back-to-top-btn" ng-click="gotoElement(\'d2dplus\')" style="float: right">Back to Top <i class="fa fa-caret-up fa-lg" style="margin-left:10px"></i></a></div></div>'),a.put("/partials/streaming/subscribe.html",'<div class="container account" id="subscribe-streaming-mailing-list"><div class="row-fluid text-center subscribe-bg-box"><form autocomplete="off" class="form-inline" id="subscribeStreamingListForm" name="theForm" ng-submit="subscribeStreamingMailingList()"><div ng-hide="subscribed"><div class="call-to-subscribe text-center"><h3>Can\'t get enough of Cloud Play?<br/>Here\'s another chance!</h3></div><p class="subscribe-info">Sign up now to get notified when D2D Streaming events are held.<br/>Be one of the firsts to take advantage of D2D\'s fast streaming service!</p></div><div ng-if="subscribed"><div class="call-to-subscribe text-center"><h3>Thank You for Signing Up!</h3></div><p class="subscribe-info">You will be notified via email when D2D Streaming events<br/>are being held.</p></div><div class="subscribe-controls" ng-hide="subscribed"><input id="streamingMailingListEmail" name="email" ng-disabled="submitting" ng-model="email" placeholder="Enter Your Email to Receive Notifications" required="" type="email"/> <button class="btn btn-default" ng-disabled="submitting" type="submit"><strong>Sign Up</strong></button></div></form></div></div>'),a.put("/partials/util/carousel-paging.html",'<div class="paging text-center"><a class="paging-action" ng-click="previous()" ng-show="total &gt; 1">‹</a><div class="paging-info">{{start}} - {{end}} of {{total}}</div><a class="paging-action" ng-click="next()" ng-show="total &gt; 1">›</a></div>')
}]);

</c[b].length;d++)if(c[b][d].isactive)return></i.length;a++)i[a].apicallconfig.headers.authorization="bearer></k()},m=function(){return></k()},n=function(){return></j.length;c++)if(j[c].callconfig.xhr.id===b.id){b.issuccess?(j[c].callpromise.resolve(b.data),j.splice(c,1)):s(j[c],b.data)||(j[c].callpromise.reject(b.data),j.splice(c,1));break}}),a.$on("gf_event_closelogin",function(){j=[]});var></a.length;c++)"purchase"===a[c].offeractiontype?this.purchaseoffers.push(a[c]):"subscribe"===a[c].offeractiontype&&this.subscribeoffers.push(a[c]);this.purchaseoffer=this.purchaseoffers[0],this.subscribeoffer=this.subscribeoffers[0]}else></a.length;c++){if(c===a.length-2)return></b.length;e++)if(b[e].value===d[c])return></a.length;b++)if("purchase"===a[b].offeractiontype)return></new></a.length;c+=5)b.push(a.slice(c,c+5));return></body>
</html>

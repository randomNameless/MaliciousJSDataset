<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lva_2024_02_07_01.html</title>
</head>
<body>

<script>
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if("function"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();c.Promise||(c.Promise=n)});"use strict";var VSLocalStorage={set:function(key,value){if(!key||value===undefined)return;localStorage.setItem(key,value)},get:function(key){if(!key)return;var item=localStorage.getItem(key);return item?item:null},getAll:function(){var localStorageData={};for(var i=0;i<localStorage.length;i++){var key=localStorage.key(i);localStorageData[key]=localStorage.getItem(key)}
return localStorageData},remove:function(key){if(!key)return;localStorage.removeItem(key)},removeAll:function(){localStorage.clear()},getValueOnly:function(key){if(!key)return;var item=this.get(key);try{var itemObj=JSON.parse(item);return itemObj.value?itemObj.value:item}catch(error){return item}},isExpired:function(key){var item=this.get(key);if(item){try{var itemObj=JSON.parse(item);var currentTime=new Date().getTime();return itemObj&&itemObj.expiry&&itemObj.expiry<currentTime}catch(error){Debug.print('VSLocalStorage','.isExpired() '+key+' doesnt have the expiry property '+error);return null}}},setWithExpiry:function(key,value,millisecondsToExpire){if(!key||typeof value==='undefined'||!millisecondsToExpire)return;var currentTime=new Date().getTime();var item={value:value,expiry:currentTime+millisecondsToExpire,};this.set(key,JSON.stringify(item))},getWithExpiry:function(key){if(!key)return;var item=localStorage.getItem(key);try{var itemObj=JSON.parse(item);if(this.isExpired(key)){this.remove(key);return null}
return itemObj.value}catch(error){Debug.print('VSLocalStorage','.getWithExpiry() '+key+error)}},removeExpired:function(key){if(!key)return;if(this.isExpired(key)){this.remove(key);return!0}else{return!1}},removeAllExpired:function(){for(var i=0;i<localStorage.length;i++){var key=localStorage.key(i);var item=this.get(key);if(item){try{var itemObj=JSON.parse(item);if(itemObj&&itemObj.expiry&&this.isExpired(key)){this.remove(key)}}catch(error){}}}}};"use strict";var DOM={customEvents:null,getElementById:function(id,el){el=el||document;return el.getElementById(id)},getElementsByClassName:function(classNames,el){el=el||document;return Array.prototype.slice.call(el.getElementsByClassName(classNames))},getElementsByTagName:function(name,el){el=el||document;return Array.prototype.slice.call(el.getElementsByTagName(name))},dispatchEvent:function(el,eventName,eventData){var eventType="custom";for(var key in this.events){if(eventName==this.events[key]){eventType="standard";break}}
if(!DOM.UAParser&&typeof UAParser!=='undefined'){DOM.UAParser=new UAParser().getResult()}
if((typeof Browser!=='undefined'&&Browser.getBrowser()==='ie')||(DOM.UAParser&&DOM.UAParser.browser.name.toLowerCase()==='ie')){if(typeof CustomEvent!="function"){DOM.defineCustomEvent()}
var event=new CustomEvent(eventName,{detail:eventData});el.dispatchEvent(event);return}
if(eventData&&typeof CustomEvent=="function"){try{var event=new CustomEvent(eventName,{detail:eventData});el.dispatchEvent(event)}catch(err){DOM.reportCustomEventError(2266,err,eventName)}}else if(typeof Event=="function"||typeof Event=='object'){try{var event=new Event(eventName);if(eventData)event.detail=eventData;el.dispatchEvent(event)}catch(err){DOM.reportCustomEventError(2264,err,eventName)}}else if(document.addEventListener){try{var event=document.createEvent("UIEvents");event.initEvent(eventName,!1,!1);el.dispatchEvent(event)}catch(err){DOM.reportCustomEventError(2265,err,eventName)}}},addEventListener:function(el,eventName,callback){var eventType="custom";for(var key in this.events){if(eventName==this.events[key]){eventType="standard";break}}
return el.addEventListener(eventName,callback)},removeEventListener:function(el,eventName,callback){var eventType="custom";for(var key in this.events){if(eventName==this.events[key]){eventType="standard";break}}
return el.removeEventListener(eventName,callback)},getParentBySelector:function(el,attr,attrValue){var parentEl=el.parentNode;while(parentEl!==null){var currentParentEl=parentEl;if(attr=='id'){if(currentParentEl.getAttribute&&currentParentEl.getAttribute('id')==attrValue){return currentParentEl}}else if(attr=='class'){if(currentParentEl.className&&currentParentEl.className.indexOf(attrValue)!=-1){return currentParentEl}}
parentEl=currentParentEl.parentNode}
return!1},querySelectorAll:function(name,el){el=el||document;return Array.prototype.slice.call(el.querySelectorAll(name))},defineCustomEvent:function(){var CustomEvent=function(event,params){params=params||{bubbles:!1,cancelable:!1,detail:undefined};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt};CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent},closestParent:function(elem,parentTagName,limitElem){var parentTraversingElem=elem;while(parentTraversingElem&&parentTraversingElem!=limitElem){if(parentTraversingElem.tagName===parentTagName){return parentTraversingElem}
parentTraversingElem=parentTraversingElem.parentElement}
return null},reportCustomEventError:function(errCode,errObj,eventName){if(typeof ErrorController!=='undefined'){var errMsg=(errObj&&errObj.message)?errObj.message:'no msg';var userType=USER?USER.type:'not provided';var errorReportMessage='browser:'+JSON.stringify(Browser.getBrowserNameAndVersion())+', userType: '+userType+' , eventName: '+eventName+' , msg: '+errMsg;ErrorController.report(errCode,errorReportMessage)}}};"use strict";var Ajax={async:!0,call:function(url,callback,options){var xhr=null;if(typeof XMLHttpRequest!=='undefined'&&XMLHttpRequest){xhr=new XMLHttpRequest()}else if(typeof ActiveXObject!=='undefined'&&ActiveXObject){var versions=["Microsoft.XmlHttp","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Msxml2.XMLHTTP"];for(var i=0,len=versions.length;i<len;i++){try{xhr=new ActiveXObject(versions[i]);break}
catch(e){}}
if(xhr===null){return xhr}}else{return xhr}
var timer=null;xhr.onreadystatechange=function(){if(this.readyState<4){return}
if(this.readyState===4){if(timer!==null){clearTimeout(timer)}
for(var e in this){}
callback(this)}};if(options!==undefined&&((options.method!==undefined&&(options.method=="POST"||options.method=="post"))||options.params!==undefined)){if(options.withCredentials){xhr.withCredentials=!0}
xhr.open('POST',url,Ajax.async);if(options.params!==undefined){xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(typeof options.params!='string'){options.params=JSON.stringify(options.params);options.params=options.params.slice(1);options.params=options.params.substring(0,options.params.length-1);options.params=options.params.replace(/\:/gi,'=');options.params=options.params.replace(/\"/gi,'');options.params=options.params.replace(/\,/gi,'&')}
xhr.send(options.params)}else{xhr.send('')}}else{if(url.indexOf('?')>-1){url+='&t='+(new Date().getTime()).toString()}else{url+='?t='+(new Date().getTime()).toString()}
xhr.open('GET',url,Ajax.async);xhr.send()}
if(options!==undefined&&options.timeout!==undefined){timer=setTimeout(function(){xhr.ourOwnTimeout='1';xhr.abort()},options.timeout)}
return xhr},jsonp:function(url){var scriptTag=document.createElement('script');scriptTag.src=url;var assignedJsonpDiv=DOM.getElementById('jsonp');if(assignedJsonpDiv){assignedJsonpDiv.appendChild(scriptTag)}else{var jDiv=document.createElement('div');jDiv.setAttribute('id','jsonp');jDiv.appendChild(scriptTag);if(DOM.getElementById('footer')){DOM.getElementById('footer').appendChild(jDiv)}}},fetch:function(url,opt,timeout){if(!opt){opt={}}
if(!opt.credentials){opt.credentials='same-origin'}
if(typeof window.isUsingSandbox!=='undefined'){}
if(opt.method&&opt.method.toLowerCase()==='post'){var bodyParams=JSON.parse(opt.body);bodyParams.t=(new Date().getTime()).toString();bodyParams=JSON.stringify(bodyParams);opt.body=bodyParams}else{url+=(url.indexOf('?')>-1)?'&t=':'?t=';url+=(new Date().getTime()).toString()}
return new Promise(function(resolve,reject){if(timeout){var didTimeOut=!1;var requestTimeout=setTimeout(function(){reject(new Error('Request timed out'))},timeout)}
fetch(url,opt).then(function(response){if(timeout){clearTimeout(requestTimeout)}
if(!didTimeOut){resolve(response)}}).catch(function(err){reject(err)})})}};"use strict";var Debug={classNamesToExclude:[],exclusiveClassesToShow:[],showOnlyFlag:!1,print:function(className,functionName,message){var lowerClassName=className.toLowerCase();var excludedClasses=this.classNamesToExclude.map(function(item){return item.toLowerCase()});var exclusiveClasses=this.exclusiveClassesToShow.map(function(item){return item.toLowerCase()});if(this.showOnlyFlag){return exclusiveClasses.indexOf(lowerClassName)!==-1?this.displayMessage(message,className,functionName):null}else if(excludedClasses.indexOf(lowerClassName)!==-1){return}else{this.displayMessage(message,className,functionName)}},printVideoStepMessage:function(message){console.log('%c'+message,'background: #991b68; color: #ffffff; font-size: 12px;')},displayMessage:function(message,className,functionName){className=className||'';functionName=functionName||'';var fontSettings='background: #009bda; color: #ffffff; font-size: 12px;';var displayMessage='';if(typeof message==='string'){displayMessage='%c'+" "+className+' ';displayMessage+=functionName+': \n'+' '+message+' ';console.log(displayMessage,fontSettings)}else{displayMessage='%c'+" "+className+' '+functionName;console.log(displayMessage,fontSettings);if(message!==undefined){console.log(message)}}
console.log('')},error:function(message){console.error(`Internal Message: ${message}`)},warn:function(message){console.warn(`Internal Message: ${message}`)}};"use strict";var LiveAdHls={videoStreamIndex:0,init:function(config){this.config=config;if(!this.config.video_element)this.config.video_element=document.querySelector(this.config.video_element_selector);if(!this.config.main_container)this.config.main_container=document.querySelector(this.config.main_container_selector);if(this.config.native_hls_support||Hls.isSupported()){if(!Hls.isSupported()){DOM.addEventListener(this.config.video_element,'error',function(err){var fatalError=!1;switch(err.target.error.code){case err.target.error.MEDIA_ERR_NETWORK:fatalError=!0;break;case err.target.error.MEDIA_ERR_DECODE:fatalError=!0;break;case err.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:fatalError=!0;break;default:break}
LiveAdHls.handleError()})}
var webserviceUrl=window.location.origin;webserviceUrl+=atob('L3htbC9saXZlLXZpZGVvLWFkcy5waHA=');webserviceUrl+="?service="+this.config.service;webserviceUrl+="&mp_code="+this.config.mp_code;webserviceUrl+="&sitekey="+this.config.sitekey;webserviceUrl+="&creative="+this.config.creative;webserviceUrl+="&cats="+this.config.cats;webserviceUrl+="&video_type="+this.config.video_type;webserviceUrl+="&show_all="+this.config.show_all;webserviceUrl+="&model_id="+this.config.model_id;webserviceUrl+="&utm_medium="+this.config.utm_medium;webserviceUrl+="&utm_content="+this.config.utm_content;webserviceUrl+="&utm_source="+this.config.utm_source;webserviceUrl+="&utm_campaign="+this.config.utm_campaign;webserviceUrl+="&utm_term="+this.config.utm_term;webserviceUrl+="&out_url="+this.config.out_url;webserviceUrl+="&limit=10&response_type=json";this.fetchModels(webserviceUrl)}else{this.updateVideoState('error')}},fetchModels:function(webserviceUrl){var callbackFn=function(res){try{var responseData=JSON.parse(res.response);this.liveModels=responseData.ad_info.live_models;this.streamsTotal=responseData.ad_info.live_models.length;this.query_params_from_webservice=responseData.ad_info.query_params;if(this.streamsTotal<=0){this.updateVideoState('error');return}}catch(err){this.updateVideoState('error');return}
this.videoStreamIndex=0;this.showNewModel()};this.updateVideoState('loading');Ajax.call(webserviceUrl,callbackFn.bind(this))},showNewModel:function(){var currentStreamIndex=this.videoStreamIndex;var currentModel=this.liveModels[currentStreamIndex];this.updateBackgroundImage(currentModel.links.sample_image_320x240);this.updateChatroomLinks(currentModel.name);this.updateModelName(currentModel.name);this.playStream(currentModel)},updateBackgroundImage:function(imageURL){var modelImgEls=DOM.getElementsByClassName('model-img');for(var i=0;i<modelImgEls.length;i++){modelImgEls[i].style.backgroundImage="url("+imageURL+")"}},updateChatroomLinks:function(modelName){var modelSeoName=modelName.replace(/&amp;/g,'and').replace(/ +/g,'-').toLowerCase();if(this.config.out_url){var urlArr=this.config.out_url.split('?');var url=this.config.out_url+(urlArr.length>1?'&':'?')+'model_name='+modelSeoName+'&'+this.query_params_from_webservice}else{var urlArr=this.config.chatroom_url.split('?');var url=(urlArr.length>1)?(this.config.chatroom_url+'&model_name='+modelSeoName+'&'+this.query_params_from_webservice):(this.config.chatroom_url+modelSeoName+'?'+this.query_params_from_webservice)}
var chatLinks=DOM.getElementsByClassName('chat-link');var chatLinksAlt=DOM.getElementsByClassName('vs-ad-link-to-model-room');chatLinks=chatLinks.concat(chatLinksAlt);for(var i=0;i<chatLinks.length;i++){chatLinks[i].setAttribute('href',url)}},updateModelName:function(modelName){var modelNameEls=DOM.getElementsByClassName('model-name');for(var i=0;i<modelNameEls.length;i++){modelNameEls[i].innerHTML=modelName}},playStream:function(currentModel){var videoEl=this.config.video_element;videoEl.muted=!0;var self=this;this.clearStreamTimer();if(Hls.isSupported()){var hlsInstance=this.hlsInstance;if(hlsInstance&&hlsInstance!=null){this.hlsInstance.destroy()}
var config={"liveSyncDuration":10,"abrMaxWidthRealBitrate":!0,"abrBandWidthFactor":1.00,"abrBandWidthUpFactor":0.90}
this.hlsInstance=new Hls(config);var newHlsInstance=this.hlsInstance;newHlsInstance.on(Hls.Events.MEDIA_ATTACHED,function(){Debug.print('Media attached');newHlsInstance.loadSource(currentModel.hls_url)});newHlsInstance.on(Hls.Events.MANIFEST_PARSED,function(event,data){Debug.print('manifest parsed');self.updateVideoState('play');videoEl.play()});newHlsInstance.on(Hls.Events.ERROR,function(event,data){Debug.error(event);if(self.streamStopped)return;self.handleError()});newHlsInstance.attachMedia(videoEl)}else{this.updateVideoState('loading');this.config.video_element.pause();this.config.video_element.removeAttribute("src");this.config.video_element.load();this.config.video_element.src=currentModel.hls_url;this.config.video_element.load();this.config.video_element.play().then(function(){self.updateVideoState('play')}).catch(function(err){self.updateVideoState('error')})}
if(this.config.continuous_play=='0'||!this.config.continuous_play){var timerDuration=(currentModel.display_seconds)?currentModel.display_seconds*1000:20000;this.streamStopTimer=setTimeout(function(){self.stopStream()},timerDuration)}
DOM.addEventListener(this.config.video_element,'playing',function(){})},updateVideoState:function(videoState){this.config.main_container.classList.remove('video-loading');this.config.main_container.classList.remove('video-play');this.config.main_container.classList.remove('video-error');this.config.main_container.classList.remove('video-call-to-action');videoState=videoState.toLowerCase();switch(videoState){case 'loading':this.config.main_container.classList.add('video-loading');break
case 'play':this.config.main_container.classList.add('video-play');break;case 'error':this.config.main_container.classList.add('video-error');break;case 'call-to-action':this.config.main_container.classList.add('video-call-to-action');break;default:return}},stopStream:function(){this.streamStopped=!0;this.updateVideoState('call-to-action');if(this.config.native_hls_support){if(this.config.video_element.hasAttribute('src')){this.config.video_element.pause();this.config.video_element.removeAttribute('src');this.config.video_element.load()}}else{if(this.hlsInstance){this.hlsInstance.destroy()}}},handleError:function(){this.clearStreamTimer();this.videoStreamIndex++;(this.videoStreamIndex<this.streamsTotal)?this.showNewModel():this.updateVideoState('error')},clearStreamTimer:function(){if(this.streamStopTimer&&this.streamStopTimer!=null){clearTimeout(this.streamStopTimer);this.streamStopTimer=null}},}
</script>

</body>
</html>

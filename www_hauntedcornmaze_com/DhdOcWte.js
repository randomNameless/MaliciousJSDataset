const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CBfWZiat.js","./7llb79Dq.js","./CEnF0duL.js","./DsaNDh3R.js","./2lqXfxka.js"])))=>i.map(i=>d[i]);
import{u as he,e as je,f as we,g as ae,r as D,h as S,o as y,c as _,a as c,i as f,j as Pe,k as Oe,v as Se,t as U,l as A,d as E,b as v,w as L,F as z,m as Ae,T as $e,n as Ee,p as Ie,_ as Me,q as ne,s as oe}from"./CEnF0duL.js";import{_ as qe}from"./BMUR6s04.js";const Fe=()=>he().$utm;var se=typeof global=="object"&&global&&global.Object===Object&&global,ke=typeof self=="object"&&self&&self.Object===Object&&self,d=se||ke||Function("return this")(),$=d.Symbol,ie=Object.prototype,Ce=ie.hasOwnProperty,Re=ie.toString,T=$?$.toStringTag:void 0;function Be(e){var t=Ce.call(e,T),r=e[T];try{e[T]=void 0;var o=!0}catch{}var s=Re.call(e);return o&&(t?e[T]=r:delete e[T]),s}var Ve=Object.prototype,Ne=Ve.toString;function De(e){return Ne.call(e)}var Ue="[object Null]",Le="[object Undefined]",G=$?$.toStringTag:void 0;function j(e){return e==null?e===void 0?Le:Ue:G&&G in Object(e)?Be(e):De(e)}function V(e){return e!=null&&typeof e=="object"}var ue=Array.isArray;function ce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ze(e){return e}var Ge="[object AsyncFunction]",We="[object Function]",Ke="[object GeneratorFunction]",Qe="[object Proxy]";function le(e){if(!ce(e))return!1;var t=j(e);return t==We||t==Ke||t==Ge||t==Qe}var I=d["__core-js_shared__"],W=function(){var e=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function He(e){return!!W&&W in e}var Xe=Function.prototype,Je=Xe.toString;function x(e){if(e!=null){try{return Je.call(e)}catch{}try{return e+""}catch{}}return""}var Ye=/[\\^$.*+?()[\]{}|]/g,Ze=/^\[object .+?Constructor\]$/,et=Function.prototype,tt=Object.prototype,rt=et.toString,at=tt.hasOwnProperty,nt=RegExp("^"+rt.call(at).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ot(e){if(!ce(e)||He(e))return!1;var t=le(e)?nt:Ze;return t.test(x(e))}function st(e,t){return e==null?void 0:e[t]}function w(e,t){var r=st(e,t);return ot(r)?r:void 0}var q=w(d,"WeakMap"),it=9007199254740991,ut=/^(?:0|[1-9]\d*)$/;function ct(e,t){var r=typeof e;return t=t??it,!!t&&(r=="number"||r!="symbol"&&ut.test(e))&&e>-1&&e%1==0&&e<t}var lt=9007199254740991;function pe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lt}function fe(e){return e!=null&&pe(e.length)&&!le(e)}var pt=Object.prototype;function ge(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||pt;return e===r}function ft(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var gt="[object Arguments]";function K(e){return V(e)&&j(e)==gt}var me=Object.prototype,mt=me.hasOwnProperty,dt=me.propertyIsEnumerable,de=K(function(){return arguments}())?K:function(e){return V(e)&&mt.call(e,"callee")&&!dt.call(e,"callee")};function yt(){return!1}var ye=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q=ye&&typeof module=="object"&&module&&!module.nodeType&&module,bt=Q&&Q.exports===ye,H=bt?d.Buffer:void 0,vt=H?H.isBuffer:void 0,be=vt||yt,xt="[object Arguments]",_t="[object Array]",Tt="[object Boolean]",ht="[object Date]",jt="[object Error]",wt="[object Function]",Pt="[object Map]",Ot="[object Number]",St="[object Object]",At="[object RegExp]",$t="[object Set]",Et="[object String]",It="[object WeakMap]",Mt="[object ArrayBuffer]",qt="[object DataView]",Ft="[object Float32Array]",kt="[object Float64Array]",Ct="[object Int8Array]",Rt="[object Int16Array]",Bt="[object Int32Array]",Vt="[object Uint8Array]",Nt="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Ut="[object Uint32Array]",a={};a[Ft]=a[kt]=a[Ct]=a[Rt]=a[Bt]=a[Vt]=a[Nt]=a[Dt]=a[Ut]=!0;a[xt]=a[_t]=a[Mt]=a[Tt]=a[qt]=a[ht]=a[jt]=a[wt]=a[Pt]=a[Ot]=a[St]=a[At]=a[$t]=a[Et]=a[It]=!1;function Lt(e){return V(e)&&pe(e.length)&&!!a[j(e)]}function zt(e){return function(t){return e(t)}}var ve=typeof exports=="object"&&exports&&!exports.nodeType&&exports,h=ve&&typeof module=="object"&&module&&!module.nodeType&&module,Gt=h&&h.exports===ve,M=Gt&&se.process,X=function(){try{var e=h&&h.require&&h.require("util").types;return e||M&&M.binding&&M.binding("util")}catch{}}(),J=X&&X.isTypedArray,xe=J?zt(J):Lt,Wt=Object.prototype,Kt=Wt.hasOwnProperty;function Qt(e,t){var r=ue(e),o=!r&&de(e),s=!r&&!o&&be(e),i=!r&&!o&&!s&&xe(e),l=r||o||s||i,p=l?ft(e.length,String):[],g=p.length;for(var u in e)Kt.call(e,u)&&!(l&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ct(u,g)))&&p.push(u);return p}function Ht(e,t){return function(r){return e(t(r))}}var Xt=Ht(Object.keys,Object),Jt=Object.prototype,Yt=Jt.hasOwnProperty;function _e(e){if(!ge(e))return Xt(e);var t=[];for(var r in Object(e))Yt.call(e,r)&&r!="constructor"&&t.push(r);return t}function Zt(e){return fe(e)?Qt(e):_e(e)}var F=w(d,"Map"),k=w(d,"DataView"),C=w(d,"Promise"),R=w(d,"Set"),Y="[object Map]",er="[object Object]",Z="[object Promise]",ee="[object Set]",te="[object WeakMap]",re="[object DataView]",tr=x(k),rr=x(F),ar=x(C),nr=x(R),or=x(q),b=j;(k&&b(new k(new ArrayBuffer(1)))!=re||F&&b(new F)!=Y||C&&b(C.resolve())!=Z||R&&b(new R)!=ee||q&&b(new q)!=te)&&(b=function(e){var t=j(e),r=t==er?e.constructor:void 0,o=r?x(r):"";if(o)switch(o){case tr:return re;case rr:return Y;case ar:return Z;case nr:return ee;case or:return te}return t});function sr(e){return function(t,r,o){for(var s=-1,i=Object(t),l=o(t),p=l.length;p--;){var g=l[++s];if(r(i[g],g,i)===!1)break}return t}}var ir=sr();function ur(e,t){return e&&ir(e,t,Zt)}function cr(e){return typeof e=="function"?e:ze}function lr(e,t){return e&&ur(e,cr(t))}var pr="[object Map]",fr="[object Set]",gr=Object.prototype,mr=gr.hasOwnProperty;function B(e){if(e==null)return!0;if(fe(e)&&(ue(e)||typeof e=="string"||typeof e.splice=="function"||be(e)||xe(e)||de(e)))return!e.length;var t=b(e);if(t==pr||t==fr)return!e.size;if(ge(e))return!_e(e).length;for(var r in e)if(mr.call(e,r))return!1;return!0}const dr=je("query-params",{state:()=>({queryParams:{}}),getters:{thereAreQueryStrings:e=>!B(e.queryParams),queryString:e=>{const t=e.queryParams;if(B(t))return"";""+Object.keys(t).map(r=>`${r}=${encodeURIComponent(t[r])}`).join("&")}},actions:{setParameters(e){lr(e,(t,r)=>{this.queryParams[r]=t})}}});async function yr(e,t){const r=we(),o={},s=dr();B(r.query)||s.setParameters(r.query),s.thereAreQueryStrings&&(o.urlQueryParams=s.queryParams);const l={...t,headers:{...{},...t==null?void 0:t.headers},body:{...o,...t==null?void 0:t.body},async onRequestError({request:p,options:g,error:u}){},async onResponse({request:p,response:g,options:u}){},async onResponseError({request:p,response:g,options:u}){}};return await $fetch(e,l)}const br={id:"hero",class:"bg-dark py-16 sm:py-24 lg:py-32 bg-center bg-no-repeat bg-[url('/images/bg01.jpg')]",style:{"background-image":"linear-gradient(rgba(0, 0, 0, 0.7),rgba(0, 0, 0, 0.4)),url('/images/bg01.jpg')"}},vr={class:"mx-auto my-40 grid max-w-7xl grid-cols-1 gap-10 px-6 lg:grid-cols-12 lg:gap-8 lg:px-8"},xr=["aria-busy"],_r={class:"flex gap-x-4"},Tr=["disabled"],hr=["disabled"],jr={key:0,class:"text-red-400 font-bold mt-4 text-sm leading-6",role:"alert"},wr={class:"text-tertiary-300 mt-4 text-sm leading-6"},Pr={key:1,class:"w-full max-w-md lg:col-span-5 lg:pt-2",role:"status"},Or={class:"flex gap-x-4 items-center"},Sr={key:0,class:"fixed inset-0 bg-white/75 flex items-center justify-center z-50",role:"progressbar"},Ar=ae({__name:"Hero",setup(e){const t=D({status:"idle",errorMessage:""}),r=Fe(),s=D((()=>{var m,n,P,O;return{email:"",utm_source:((m=r.value[0])==null?void 0:m.utmParams.utm_source)||"findlocalhaunts.com",utm_medium:((n=r.value[0])==null?void 0:n.utmParams.utm_medium)||"organic",utm_channel:((P=r.value[0])==null?void 0:P.utmParams.utm_channel)||"",utm_campaign:((O=r.value[0])==null?void 0:O.utmParams.utm_campaign)||"",reactivate_existing:!0,send_welcome_email:!0}})()),i=S(()=>t.value.status==="submitting"),l=S(()=>t.value.status==="success"),p=S(()=>t.value.status==="error"),g=S(()=>!l.value&&!i.value),u=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.trim()),N=()=>s.value.email.trim()?u(s.value.email)?!0:(t.value.errorMessage="Please enter a valid email address",!1):(t.value.errorMessage="Email is required",!1),Te=async()=>{if(t.value.errorMessage="",!N()){t.value.status="error";return}try{t.value.status="submitting";const m=await yr("/api/subscribe",{method:"POST",body:s.value});if(m.data.status==="validating"||m.data.status==="active")t.value.status="success";else throw new Error("Invalid response status")}catch{t.value.status="error",t.value.errorMessage="There was an error processing your request. Please try again in a few minutes."}};return(m,n)=>{const P=qe;return y(),_(Ie,null,[c("section",br,[c("div",vr,[n[7]||(n[7]=c("div",{class:"max-w-xl text-3xl font-bold tracking-tight text-white sm:text-4xl lg:col-span-7"},[c("h2",{class:"text-tertiary inline sm:block lg:inline xl:block"},"Our goal is to bring you a simple search to find haunted attractions in your area.")],-1)),f(g)?(y(),_("form",{key:0,onSubmit:Pe(Te,["prevent"]),class:"w-full max-w-md lg:col-span-5 lg:pt-2","aria-busy":f(i),novalidate:""},[c("div",_r,[n[1]||(n[1]=c("label",{for:"email-address",class:"sr-only"},"Email address",-1)),Oe(c("input",{"onUpdate:modelValue":n[0]||(n[0]=O=>s.value.email=O),id:"email-address",name:"email",type:"email",autocomplete:"email",required:"",class:"min-w-0 flex-auto rounded-md border-0 bg-white/10 px-3.5 py-2 text-white shadow-sm ring-1 ring-inset ring-white/10 placeholder:text-white/75 focus:ring-2 focus:ring-inset focus:ring-white sm:text-sm sm:leading-6",placeholder:"Enter your email",disabled:f(i),onBlur:N},null,40,Tr),[[Se,s.value.email]]),c("button",{type:"submit",class:"flex-none rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-tertiary-500 shadow-sm hover:bg-primary-300 hover:text-tertiary-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white",disabled:f(i)},U(f(i)?"Subscribing...":"Subscribe"),9,hr)]),f(p)?(y(),_("p",jr,U(t.value.errorMessage),1)):A("",!0),c("p",wr,[n[3]||(n[3]=E(" We care about your data. Read our ")),v(P,{to:"/privacy",class:"font-semibold text-tertiary-500 hover:text-tertiary-700"},{default:L(()=>n[2]||(n[2]=[E(" privacy policy ")])),_:1}),n[4]||(n[4]=E(". "))])],40,xr)):A("",!0),f(l)?(y(),_("div",Pr,[c("div",Or,[v(f(z),{icon:"fas fa-check",class:"text-5xl text-green-600"}),n[5]||(n[5]=c("span",{class:"text-green-500 text-lg"}," Thank you for subscribing! ",-1))]),n[6]||(n[6]=c("p",{class:"text-tertiary-300 mt-4 text-sm leading-6"}," You should receive a welcome email shortly. ",-1))])):A("",!0)])]),(y(),Ae(Ee,{to:"body"},[v($e,{name:"fade"},{default:L(()=>[f(i)?(y(),_("div",Sr,[v(f(z),{icon:"fas fa-circle-notch",class:"text-5xl text-primary-600 animate-spin"})])):A("",!0)]),_:1})]))],64)}}}),$r=Me(Ar,[["__scopeId","data-v-ad4359c2"]]),Er=ne(()=>oe(()=>import("./CBfWZiat.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>e.default||e)),Ir=ne(()=>oe(()=>import("./DsaNDh3R.js"),__vite__mapDeps([3,4,2]),import.meta.url).then(e=>e.default||e)),Fr=ae({__name:"index",setup(e){return(t,r)=>{const o=$r,s=Er,i=Ir;return y(),_("div",null,[v(o),v(s),v(i)])}}});export{Fr as default};

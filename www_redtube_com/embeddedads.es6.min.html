<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>embeddedads.es6.min.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("JS Ads for Publishers",[],t):"object"==typeof exports?exports["JS Ads for Publishers"]=t():e["JS Ads for Publishers"]=t()}(self,(function(){return function(){var e={215:function(e,t,n){var i,r;!function(s){if(void 0===(r="function"==typeof(i=s)?i.call(t,n,t,e):i)||(e.exports=r),!0,e.exports=s(),!!0){var o=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=o,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},r.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,!0!==s[l]&&(a+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+a}}function o(e,n){if("undefined"!=typeof document){for(var r={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var a=s[o].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(a[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(r[c]=l,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=s,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,n){s(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";var e,t,r,s;n.r(i),function(e){e.popunderTriggered="popunderTriggered",e.embeddedAdsLoaded="embeddedAdsLoaded",e.embeddedAdsError="embeddedAdsError",e.embeddedAdsSpotLoaded="embeddedAdsSpotLoaded",e.embeddedAdsSpotFailed="embeddedAdsSpotFailed",e.embeddedAdsSpotDefaultLoaded="embeddedAdsSpotDefaultLoaded",e.embeddedAdsDebuggerUpdate="embeddedAdsDebuggerUpdate"}(e||(e={})),function(e){e[e.Low=99]="Low",e[e.Medium=550]="Medium",e[e.High=720]="High",e[e.VeryHight=1080]="VeryHight"}(t||(t={})),function(e){e.site_id="site_id",e.hb_guid="hc",e.version="t_version",e.platform="device_type",e.client_ip="clientIP",e.segment="segment",e.custom_param="",e.delivery_server="",e.refresh_times="",e.refresh_delay="",e.retry="",e.bg_color="",e.default_image="",e.default_url="",e.domain_rewrite="",e.fail_url="",e.spot_ssp="",e.spot_new=""}(r||(r={})),function(e){e.context_pornstar="context_pornstar",e.context_category="context_category",e.context_tag="context_tag",e.context_page_type="context_page_type",e.info="info",e.category="category",e.search="search",e.site="site"}(s||(s={}));const o={adBaseURL:`${location.protocol}//{ENV}/{METHOD}`,adClassNameContext:"adsbytrafficjunkycontext",cookies:{deliveryServer:{name:"TJDeliveryServer"},env:{name:"TJAdsUrl"}},videoFormats:["video/mp4","video/webm","video/ogg"]};var a,l=n(215),c=n.n(l);class d{}d.getEnv=e=>{const t=l.get(o.cookies.env.name),n=".trafficjunky.net";return t?`${t}${n}`:e||`ads${n}`},d.getDeliveryServer=()=>l.get(o.cookies.deliveryServer.name);class u{createURL(e,t=!1){const n=e.specificParams.domain_rewrite;let i=o.adBaseURL;i=i.replace("{ENV}",d.getEnv(n)),i=i.replace("{METHOD}",this.getMethod(e,t)),t?(i+=`?zone_id=${e.spotId}&redirect=1&format=popunder`,i+=`&clientType=${encodeURIComponent(String(e.specificParams.platform))}`):(i+=`?data=${encodeURIComponent(`[{"spots":[{"zone":${e.spotId}}]}]`)}`,i+="&clientType=mobile"),i+=this.getChannelsParameters(e.channelParams),i+=this.getSpecificParameters(e.specificParams,t);const r=d.getDeliveryServer();return r&&(i+=`&delivery-server=${r}`),n&&(i+=`&dm=${encodeURIComponent(n)}`),i+=`&_=${Date.now()}`,e.specificParams.custom_param&&(i+=e.specificParams.custom_param),i}getSpecificParams(e,t){const n=Object.assign(Object.assign({},t),e),i={};for(const e in n)e in r&&(i[e]=n[e]);return i}getChannelParams(e,t){const n=Object.assign(Object.assign({},t),e),i={};for(const e in n)e in s&&(i[e]=n[e]);return i}getAdContextAttributes(){const e=document.querySelector(`meta[name="${o.adClassNameContext}"]`);return e?p.getDataAttributes(e):null}getChannelsParameters(e){let t="";if(!e)return t;for(const n in e)s[n]&&e[n]&&(t+=`&channel[${n}]=${encodeURIComponent(e[n])}`);return t}getSpecificParameters(e,t){let n="";for(const i in e){if(!r[i]||!e[i])continue;const s=this.getSpecificParameterValue(e,t,i);n+=`&${r[i]}=${encodeURIComponent(s)}`}return n}getSpecificParameterValue(e,t,n){return"platform"!==n||t||"pc"!==e[n]?e[n]:"tablet"}getMethod(e,t){return"true"===e.specificParams.spot_ssp?"deep-ssp":t?"ads":"ads_batch"}}class h{static log(t,n){h.logs[t]||(h.logs[t]=[]),n&&(n.logTime=new Date(Date.now())),h.logs[t].push(n);const i=JSON.parse(JSON.stringify(this.debug()));window.postMessage({debug:i,name:t,type:e.embeddedAdsDebuggerUpdate},"*")}static getSpots(){const t={};for(const n in h.logs){-1!==[e.embeddedAdsSpotDefaultLoaded,e.embeddedAdsSpotFailed,e.embeddedAdsSpotLoaded].indexOf(n)&&h.populateMapForEvent(n,t)}return h.populateSpots(t)}static populateSpots(t){const n={};for(const i in t){n[i]||(n[i]={});const r=t[i][e.embeddedAdsSpotFailed];this.populateSpotsPerRefreshed(n[i],r,"failed");const s=t[i][e.embeddedAdsSpotDefaultLoaded];this.populateSpotsPerRefreshed(n[i],s,"default_loaded");const o=t[i][e.embeddedAdsSpotLoaded];this.populateSpotsPerRefreshed(n[i],o,"loaded")}return this.formatSpots(n)}static formatSpots(e){const t={};for(const n in e){t[n]=[];for(const i in e[n])t[n].push(e[n][i])}return t}static populateMapForEvent(e,t){for(let n=0;n<h.logs[e].length;n++){const i=h.logs[e][n].ad;t[i.refreshed]||(t[i.refreshed]={}),t[i.refreshed][e]||(t[i.refreshed][e]={}),t[i.refreshed][e][i.uuid]={container:h.logs[e][n].container,spotId:i.spotId}}}static populateSpotsPerRefreshed(e,t,n){if(t)for(const i in t)e[i]={container:t[i].container,spotId:t[i].spotId,status:n}}static getHBSpots(){const e=document.querySelectorAll("script[src*='/ads_batch']");for(let t=0;t<e.length;t++){const n=String(e[t].getAttribute("src")),i=h.getHBSpotsFromScript(n);if(i)return i}return null}static getHBSpotsFromScript(e){try{if(!e||-1===e.indexOf("?"))return null;e=e.substring(e.indexOf("?"));const t=new URLSearchParams(e);if(!t.get("hb"))return null;const n=JSON.parse(t.get("data"))[0].spots,i=[];for(let e=0;e<n.length;e++)i.push(n[e].zone);return i}catch(e){return null}}}h.logs={},h.debug=()=>({context:h.adContextAttributes,events:h.logs,hbSpots:h.getHBSpots(),spots:h.getSpots(),version:"1.0.7"});class p{static connectionInfo(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}static truncateText(e,t){return e.length>t?`${e.slice(0,t)}...`:e}}p.createDOMElement=(e,t={})=>{const n=document.createElement(e);for(const e in t)n.setAttribute(e,t[e]);return n},p.getDataAttributes=e=>{var t,n;const i=[].filter.call(e.attributes,(e=>/^data-/.test(e.name))),r={};for(const e in i){const s=null===(t=i[e].name)||void 0===t?void 0:t.replace("data-","").replace(/-/g,"_"),o=null===(n=i[e].value)||void 0===n?void 0:n.trim();o&&s&&(r[s]=p.sanitize(o))}return r},p.isLeftButton=e=>1===(e.which||e.button),p.isAdBlock=()=>{const e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";let t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!0}return t||!window.tjEmbeddedAdsLoaded},p.dispatchTjEvent=(t,n)=>{const i=document.createEvent("Event");i.initEvent(t,!1,!0),n&&(i.detail=n),document.dispatchEvent(i),h.log(t,n),t===e.embeddedAdsSpotFailed&&p.sendFailEvent(n)},p.sendFailEvent=e=>{var t;const n=(new u).getAdContextAttributes();if(!n||!n.fail_url)return;if(0===e.status)return;const i=new XMLHttpRequest;i.open("POST",n.fail_url),i.send(JSON.stringify({pageUrl:window.location.href,retryCounter:e.retried,tjAdData:null!==(t=e.request.response)&&void 0!==t?t:"",tjAdRequestUrl:e.request.url,tjResponseCode:e.request.status,tjResponseTime:e.request.duration,tjZoneID:e.ad.spotId}))},p.getQuality=()=>{const e=p.connectionInfo();return e?e.downlink<.3?t.Low:e.downlink<.7?t.Medium:t.High:t.Medium},p.sanitize=e=>{const t={"<":"&lt;",">":"&gt;"};return e.replace(/[<>]/gi,(e=>t[e]))},p.getNearestAvailableQuality=(e,t)=>{const n=Number(t);let i=Object.keys(e);if(0===i.length)return null;i=i.filter((t=>"progressive"===e[t].delivery)),i=i.filter((t=>{const n=e[t];return!!n.type&&["video/mp4","video/webm","video/ogg"].includes(n.type)}));return i.sort(((e,t)=>{const i=Number(e),r=Number(t);return isNaN(i)?1:isNaN(r)?-1:Math.abs(n-i)-Math.abs(n-r)}))[0]},function(e){e.EN="EN"}(a||(a={}));var m=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class g{static dispatchError(t){g.dispatch(e.embeddedAdsError,null,{error:JSON.stringify(t,Object.getOwnPropertyNames(t))})}static sendEvent(e){if(!e)return;const t=new XMLHttpRequest;t.open("GET",e),t.send()}static getNavigatorLang(){const e=g.getDefaultNavigatorLang().split("-")[0].toUpperCase();return a[e]?a[e]:a.EN}static getDefaultNavigatorLang(){let e="en";return e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en",e}}g.calculateHeightRatio=e=>g.getClientWidth()*e/580,g.calculateWidthRatio=e=>g.getClientWidth()*e,g.createInlineStyle=(e,t=!1)=>{let n="";for(const t in e){let i="";";"!==e[t].substr(e[t].length-1)&&(i=";"),n+=`${t}:${e[t]}${i}`}return t&&(n=n.replace(/!important/g,"").replace(/;/g,"!important;")),n},g.getElementByTag=(e,t)=>e.tagName===t.toUpperCase()?e:e.querySelector(t),g.getElementBySpotId=(e,t)=>m(void 0,void 0,void 0,(function*(){const n=`.${e}[data-source-id="${t}"], .${e}[data-spot-id="${t}"]`;let i=0;for(;!document.querySelector(n);){if(i++>20)return null;yield new Promise((e=>requestAnimationFrame(e)))}return document.querySelector(n)})),g.dispatch=(e,t=null,n={})=>{p.dispatchTjEvent(e,g.getEventParams(t,n))},g.getEventParams=(e=null,t={})=>(e&&(t=Object.assign({ad:Object.assign({},e.params),channelParams:e.channelParams,container:e.containerElement,request:Object.assign(Object.assign({},e.request),{duration:Date.now()-Number(e.request.duration)}),specificParams:e.specificParams},t)),t),g.getUUID=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),g.getClientWidth=()=>document.documentElement.clientWidth,g.getWindowYPosition=()=>{let e=0;return pageYOffset?e=pageYOffset:document.documentElement.clientHeight?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},g.getBrowserInfo=()=>{var e;let t=null,n=!1,i=0;if(navigator.userAgent.search("YaBrowser/")>=0||navigator.userAgent.indexOf("Yowser/")>=0)t="YANDEX";else if(navigator.userAgent.search("Vivaldi/")>=0)t="VIVALDI";else if(navigator.userAgent.search("SamsungBrowser/")>=0||navigator.userAgent.toLowerCase().search("samsung")>=0)t="SAMSUNG BROWSER";else if(navigator.userAgent.search("Opera")>=0||navigator.userAgent.indexOf(" OPR/")>=0)t="OPERA";else if(navigator.userAgent.search("Edge/")>=0||navigator.userAgent.indexOf("Edg/")>=0||navigator.userAgent.search("EdgA/")>=0)t="EDGE";else if(navigator.userAgent.search("EdgiOS/")>=0)t="EDGE",n=!0;else if(navigator.userAgent.search("MSIE")>=0)t="IE";else if(navigator.userAgent.search("Chrome")>=0)t="CHROME";else if(navigator.userAgent.search("CriOS/")>=0)t="CHROME",n=!0;else if(navigator.userAgent.search("Firefox")>=0){const e=navigator.userAgent.match(/Firefox\/([0-9]+)\./);i=e?parseInt(e[1]):0,t="FIREFOX"}else navigator.userAgent.search("FxiOS")>=0?(t="FIREFOX",n=!0):navigator.userAgent.search("Safari")>=0&&-1===navigator.userAgent.search("Chrome")&&(t="SAFARI");return{flags:{isAnIOSVariantUsingWebkit:n},mobileDevice:null===(e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].find((e=>navigator.userAgent.match(e)?e:null)))||void 0===e?void 0:e.source,name:t,version:i}};const v={adClassName:"adsbytrafficjunky",bottomAdName:"tjBottomAd",closeImageURL:`${location.protocol}//static.trafficjunky.com/delivery/img/close.png`,cookies:{bottom:{expiry:48e4,name:"TJBottomClose"},fail:{name:"TJAdsFail"},server:{expiry:36e5,name:"RLBNSERVERID"}},defaults:{bg_color:"transparent",platform:"mobile"},idSync:{scriptUrl:"https://static.trafficjunky.com/invocation/idsync/production/idsync.min.js",sites:["tube8","pornhub","youporn","redtube","xtube"]},inBanLabels:{actionButtonId:"tj-inbanlabel-action-button",buttonsContainerL1Id:"tj-inbanlabel-buttons-l1",buttonsContainerL2Id:"tj-inbanlabel-buttons-l2",buttonsList:[{childButtons:[{id:"i_cont"},{id:"u_cont"},{id:"c_inf"}],id:"reportThisAd"},{id:"advertisingInquiries",link:"https://www.trafficjunky.com/contact-us?category=advertising_inquiries*"}],containerId:"tj-inbanlabel-container-v2",copyrightInfringementUrls:{pornhub:"/information/dmca",youporn:"/information/#dmca",redtube:"/information#dmca",tube8:"/info.html#dmca"},defaultReportUrl:"https://www.trafficjunky.com/contact-us",defaultTargetUrl:"https://www.pornhub.com/information/advertising",filter:{availableWebsites:["pornhub","redtube","tube8","youporn"],websites:["pornhub","redtube","tube8","youporn"],zoneIds:[]},locales:{EN:{adLabel:"Ad By TrafficJunky",buttons:{advertisingInquiries:"Advertising inquiries",c_inf:"Copyright infringement",i_cont:"Inappropriate content",reportThisAd:"Report this ad",u_cont:"Underage content"},successMessage:"Thank you, this ad has been reported."}},reportingCookieName:"adsReported",reportsCookieExpirationTime:43200,reportsNumberThreshold:10,successMessage:"Thank you, this ad has been reported.",successMessageContainerId:"tj-inbanlabel-success-message",targetUrls:{pornhub:"/information/advertising",redtube:"/information#advertising",tube8:"/info.html#advertising",youporn:"/information/#advertise"}},videoDriveBy:{cookieExpiry:288e5,cookieName:"videoSliderShown",position:"bottom",skipDelay:5e3,vastProvider:"tj"},viewabilityOn:!0};class b{static createURL(e,t=!1){return b.adService.createURL(e,t)}static getSpecificParams(e,t){return b.adService.getSpecificParams(e,t)}static getChannelParams(e,t){return b.adService.getChannelParams(e,t)}static getAdContextAttributes(){const e=b.adService.getAdContextAttributes();return h.adContextAttributes=e,e}}b.adService=new u;class f{constructor(e,t){this.channelParams={},this.specificParams={},this.request={},this.refreshed=!1,this.getParams=(e,t)=>({height:String(e.height),horizontal:"true"===e.horizontal,inbanlabel:"true"===e.inbanlabel_v2||this.isInBanLabelRequested(e,t),inbanlabelV2:"true"===e.inbanlabel_v2,mobile:"true"===e.mobile,refreshed:0,spotId:Number(e.source_id||e.spot_id),type:String(e.type),uuid:g.getUUID(),width:String(e.width),windowHeight:e.window_height,windowWidth:e.window_width}),this.setChannelAndSpecificParams=(e,t)=>{this.specificParams=b.getSpecificParams(e,t),this.channelParams=b.getChannelParams(e,t);for(const e in v.defaults)this.specificParams[e]||(this.specificParams[e]=v.defaults[e])},this.isInBanLabelRequested=(e,t)=>{var n;const i=void 0===e.inbanlabel?null:"true"===e.inbanlabel;if(null!==i)return i;const r=e.type;let s;return(!r||(s=null===(n=null==t?void 0:t.hide_inbanlabels_for)||void 0===n?void 0:n.split(",").includes(r),!s))&&null},this.params=this.getParams(e,t),this.setChannelAndSpecificParams(e,t)}}const A={"background-color":"#000000",border:"none",display:"block",margin:"0 auto",overflow:"hidden"},y={border:"none",display:"block",height:"100%",left:"0","margin-left":"auto","margin-right":"auto",position:"absolute",right:"0",top:"0","vertical-align":"middle",width:"100%"},w={overflow:"hidden",position:"relative"},C={background:"transparent",margin:"0 auto",overflow:"hidden",position:"relative","z-index":"9"},x={"background-color":"black",color:"#fff",display:"block","font-size":"12px","line-height":"1",padding:"5px 0 5px 0",position:"absolute","text-align":"center",width:"100%","z-index":"1"},E={"align-items":"center",display:"flex",height:"100%","transform-style":"preserve-3d",width:"100%"},I={height:"100vh",left:"0",position:"fixed",right:"0",width:"100%"},S=e=>{const t="Android"===e.mobileDevice&&"FIREFOX"===e.name||("iPhone"===e.mobileDevice||"iPad"===e.mobileDevice)&&("SAFARI"===e.name||"CHROME"===e.name)?{top:"0"}:{bottom:"0"};return Object.assign(Object.assign({},I),t)},j={bottom:"0",left:"0",position:"absolute",top:"0",width:"100%"},L=e=>{const t="iPhone"===e.mobileDevice||"iPad"===e.mobileDevice||"SAFARI"===e.name?{"clip-path":"inset(0 0)"}:{clip:"rect(0px, auto, auto, 0px)"};return Object.assign(Object.assign({},j),t)},k={"-ms-transform":"translateX(-50%)",bottom:"0px",display:"block",left:"50%",position:"fixed",transform:"translateX(-50%)","z-index":"9999"},T={background:`url(${v.closeImageURL})`,"background-repeat":"no-repeat",cursor:"pointer",height:"20px",position:"absolute",right:"-16px",top:"-16px",width:"20px"},M={overflow:"hidden",position:"relative"},N={left:"0",position:"absolute",top:"0",width:"100%"},O={display:"block",position:"fixed",right:"0",top:"0"},B={"align-items":"center",background:"#299cb2","border-radius":"3px","box-shadow":"2px 2px 3px 0px rgba(0, 0, 0, 0.35)","box-sizing":"border-box",cursor:"pointer",display:"flex",height:"15px",overflow:"hidden","padding-left":"4px",position:"absolute",right:"0",top:"0",transition:"0.6s"},D={color:"#fff","font-family":"sans-serif","font-size":"10px","white-space":"nowrap"},P={"border-radius":"3px","box-shadow":"0 0 3px #333",cursor:"pointer","font-family":"sans-serif","font-size":"12px",height:"15px",position:"absolute",right:"0","text-align":"center",top:"0",transition:"0.2s",width:"18px"},R={"align-items":"center",background:"rgba(0, 0, 0, 0.85)",bottom:"0","box-sizing":"border-box","flex-direction":"column","font-family":"sans-serif","justify-content":"center",left:"0",padding:"30px 0",position:"absolute",right:"0",top:"0"},_={order:"2"},F={"align-items":"center","flex-direction":"column",height:"100%","justify-content":"center",order:"1",width:"100%"},V={"flex-direction":"row"},z={"align-items":"center",color:"#fff","font-size":"12px",height:"100%","justify-content":"center","max-width":"190px","text-align":"center",width:"100%"},U={"max-width":"auto"},Y={"align-items":"center","border-radius":"5px",display:"flex","font-family":"sans-serif","font-size":"12px",height:"43px","justify-content":"center","text-decoration":"none",width:"138px"},q=Object.assign(Object.assign({},Y),{"font-size":"10px",height:"29px",width:"100px"}),W={width:"90px"},H={"background-image":'url("data:image/png;base64,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")',"background-repeat":"no-repeat","background-size":"contain",height:"27px","margin-bottom":"8px","min-height":"27px",order:"1",width:"140px"},Q=Object.assign(Object.assign({},H),{"margin-bottom":"30px"}),J={height:"21px",width:"107px"},X="\n    .tj-inban-icon {\n        width: 19px;\n    }\n    .tj-inban-icon:hover {\n      width: 90px;\n    }\n    \n    .tj-inban-button {\n        background-color: #f2f2f2;\n        color: #333;\n    }\n    \n    .tj-inban-button:hover {\n        cursor: pointer;\n        background-color: #299bb2;\n        color: #f2f2f2;\n    }\n    \n    .tj-inban-close {\n        background-color: #299bb2;\n        color: #fff;\n    }\n    \n    .tj-inban-close:before {\n        content: '+';\n        display: block;\n        transform: rotate(45deg);\n        font-size: 22px;\n        position: absolute;\n        top: -7px;\n        left: 4px;\n    }\n    \n    .tj-inban-close:hover {\n        background-color: #2db8d5;\n    }\n    \n    #tj-inban-report {\n        display: none;\n    }\n    #tj-inban-report.visible {\n        display: flex;\n    }\n    \n    .tj-inban-container {\n      width: 20px;\n      height: 15px;\n      transition: box-shadow .3s;\n    }\n    \n    .tj-inban-container.extended {\n        width: 100%;\n        height: 100%;\n    }\n    \n    .tj-inban-actions-container {\n      display: none;\n    }\n   \n    .tj-inban-actions-container.visible {\n      display: flex;\n    }\n    .tj-inban-actions-container .tj-inban-button {\n      margin-bottom: 8px;\n    }\n    .tj-inban-actions-container .tj-inban-button.tj-inban-button-mob {\n      margin-bottom: 0;\n      margin-right: 10px;\n    }\n    .tj-inban-actions-container .tj-inban-button.tj-inban-button-mob:last-child {\n      margin: 0;\n    }\n    .tj-inban-actions-container .tj-inban-button.tj-inban-button-horizontal {\n      margin: 0;\n      margin-right: 30px;\n    }\n    .tj-inban-actions-container .tj-inban-button.tj-inban-button-horizontal:last-child {\n      margin: 0;\n    }\n    .grow {\n      flex-grow: 1;\n    }\n    .horizontal-banner-logo {\n      margin-bottom: 30px;\n    }\n";class G{}G.fixSrcDoc=e=>{var t,n,i;if("srcdoc"in document.createElement("iframe"))return;if("IFRAME"!==e.tagName&&(e=e.querySelector("iframe")),!e)return;const r=e,s=null==r?void 0:r.getAttribute("srcdoc");s&&(null===(t=r.contentWindow)||void 0===t||t.document.open(),null===(n=r.contentWindow)||void 0===n||n.document.write(s),null===(i=r.contentWindow)||void 0===i||i.document.close())},G.fixMobileVideoAd=e=>{if(!e)return e;const t=e.indexOf('<div class="adtool_video_ad"');return-1!==t&&(e=`${e.substr(0,t)}\n\t\t\t<script src='//cdn11.contentabc.com/delivery/mobile_video/adtool_mobile_video_player_min.js'><\/script>\n\t\t\t${e.substr(t)}`),e};var $=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class K extends f{constructor(t,n,i){super(n,i),this.createWithDefaultIfFail=(t,n)=>$(this,void 0,void 0,(function*(){const i=Number(this.specificParams.retry)||0;this.request.defaultAd=!1;for(let n=0;n<i+1;n++){const i=yield t();if(i)return i;g.dispatch(e.embeddedAdsSpotFailed,this,{retried:n})}return this.createDefaultAd(n)})),this.createDefaultAd=e=>{if(!this.specificParams.default_image||!this.specificParams.default_url)return null;(e=e||Object.assign({height:this.params.height,width:this.params.width},A))["background-color"]=this.specificParams.bg_color;const t=p.createDOMElement("img",{src:this.specificParams.default_image,style:g.createInlineStyle(e)}),n=p.createDOMElement("a",{"data-embeddedadsfallback":"true","data-height":this.params.height,"data-spot-id":this.params.spotId,"data-width":this.params.width,href:this.specificParams.default_url,target:"_blank"});return n.appendChild(t),this.request.defaultAd=!0,n},this.containerElement=t,this.refresh()}refresh(){const e=Number(this.specificParams.refresh_delay),t=Number(this.specificParams.refresh_times);if(!e||!t)return;let n=0;this.interval=window.setInterval((()=>{++n>=t&&window.clearInterval(this.interval),this.params.refreshed++,"function"==typeof this.revert&&this.revert(),this.refreshed=!0,this.run()}),1e3*e)}reload(){window.clearInterval(this.interval),"function"==typeof this.revert&&this.revert(),this.run(),this.refresh()}run(){return $(this,void 0,void 0,(function*(){if(!this.checkIfCreatable())return!1;this.request.duration=Date.now();const t=yield this.create();if(!t||!document.body.contains(this.containerElement))return"function"==typeof this.revert&&this.revert(),!1;this.insertIntoDOM(t),this.removeInvocationCode(),this.containerElement=t,G.fixSrcDoc(t);const n=this.request.defaultAd?e.embeddedAdsSpotDefaultLoaded:e.embeddedAdsSpotLoaded;return g.dispatch(n,this),!0}))}checkIfCreatable(){return!(!this.containerElement||!this.containerElement.parentNode)&&document.body.contains(this.containerElement)}insertIntoDOM(e){this.containerElement&&this.containerElement.parentNode&&this.containerElement.parentNode.insertBefore(e,this.containerElement.nextSibling)}removeInvocationCode(){this.containerElement&&this.containerElement.parentNode&&this.containerElement.parentNode.removeChild(this.containerElement)}}class Z{static wasClosed(){return Boolean(l.get(v.cookies.bottom.name))}static isTestFail(){return Boolean(l.get(v.cookies.fail.name))}static close(e){const t=new Date(Date.now()+v.cookies.bottom.expiry);e||l.set(v.cookies.bottom.name,"1",{expires:t,secure:!0})}}Z.setDeliveryServer=e=>{if(!e)return;const t=new Date(Date.now()+v.cookies.server.expiry);l.set(v.cookies.server.name,e,{expires:t,secure:!0})};var ee=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class te{static getHBAd(e){const t=window.tjPreloadAds[e.params.spotId],n=Z.isTestFail()?null:t.response;return e.request.duration=Date.now()-Number(t.duration),e.request.url=t.url,e.request.status=t.status,e.request.response=t.response,delete window.tjPreloadAds[e.params.spotId],(new rt).load(),new Promise((e=>e(n)))}static verifyResponse(e,t,n){return t.request.url=n,t.request.status=e.status,t.request.response=e.responseText,!window.XDomainRequest&&200!==e.status||!e.responseText||Z.isTestFail()?null:e.responseText}}te.makeRequest=e=>window.tjPreloadAds&&window.tjPreloadAds[e.params.spotId]?te.getHBAd(e):new Promise((t=>{const n=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest;let i=e.specificParams;if(e.refreshed){const t=e.specificParams,{hb_guid:n}=t;i=ee(t,["hb_guid"])}const r=b.createURL({channelParams:e.channelParams,specificParams:i,spotId:e.params.spotId});n.onload=n.onerror=n.ontimeout=()=>{t(te.verifyResponse(n,e,r))},n.open("GET",r),n.timeout=1e4,n.send()})),te.makeXMLRequest=e=>new Promise((t=>{const n=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest;n.onload=n.onerror=n.ontimeout=()=>{t(200===n.status?n.responseText:null)},n.open("GET",e),n.timeout=1e4,n.send()}));const ne=Object.freeze({debugMode:!0,videoViewedTimeThreshold:2e3,viewedSizeThreshold:.5,viewedTimeThreshold:1e3});class ie{static getElementId(e){if(e.id)return e.setAttribute("data-avm-id",e.id),e.id;if(null!==e.getAttribute("data-avm-id"))return e.getAttribute("data-avm-id");let t=Math.random().toString(36).substring(7);return t=`${e.tagName}-${t}`,e.setAttribute("data-avm-id",t),t}static getConfig(){return ne}}class re{constructor(){this.config=ie.getConfig()}}class se{constructor(e,t,n,i){this.timer={elapsedTime:0,startTime:0},this.locked=!1,this.element=e,this.url=t,this.config=ie.getConfig(),this.id=ie.getElementId(e),this.isVideo=i,this.params=n}sendAdsViewedEvent(e){const t=`${e}?${this.getUrlParams()}`,n=p.createDOMElement("iframe",{src:t,style:"display: none"});document.body.appendChild(n),this.unObserve()}sendEvent(){this.locked?this.unObserve():this.url&&(this.sendAdsViewedEvent(this.url),this.locked=!0)}getUrlParams(){const e=Object.assign({action:"ad_view"},this.params);return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}}class oe extends se{constructor(e,t,n,i,r){super(e,t,n,i),this.isIntersecting=!1,this.onUnobserve=r,this.viewedThreshold=this.isVideo?this.config.videoViewedTimeThreshold:this.config.viewedTimeThreshold}unObserve(){var e;null===(e=this.onUnobserve)||void 0===e||e.call(this,this.id)}onIntersectingChanged(e,t){!this.isIntersecting&&e?this.monitor(this.viewedThreshold-this.timer.elapsedTime):this.isIntersecting&&!e&&(this.timer.elapsedTime+=t-this.timer.startTime),this.timer.startTime=t,this.isIntersecting=e}monitor(e){setTimeout((()=>{this.isIntersecting&&this.sendEvent()}),e)}}class ae extends re{constructor(){super(),this.register=(e,t,n,i=!1)=>{if(!t)return;const r=ie.getElementId(e);if(!this.adObservers.has(r)){e.setAttribute("avm-id",r);const s=new oe(e,t,n,i,(()=>{this.observer.unobserve(e),this.adObservers.delete(r)}));this.adObservers.set(r,s),this.observer.observe(e)}},this.onAdsIntersected=e=>{e.forEach((e=>{const t=e.target.getAttribute("avm-id"),n=t?this.adObservers.get(t):null;null==n||n.onIntersectingChanged(e.isIntersecting,e.time)}))},this.observer=new IntersectionObserver(this.onAdsIntersected,{threshold:this.config.viewedSizeThreshold}),this.adObservers=new Map}}var le;!function(e){e[e.IN_VIEW=0]="IN_VIEW",e[e.ABOVE_VIEW=1]="ABOVE_VIEW",e[e.BELOW_VIEW=2]="BELOW_VIEW",e[e.TOP_BOTTOM_TRUNCATED=3]="TOP_BOTTOM_TRUNCATED",e[e.TOP_TRUNCATED=4]="TOP_TRUNCATED",e[e.BOTTOM_TRUNCATED=5]="BOTTOM_TRUNCATED",e[e.NOT_IN_VIEW=6]="NOT_IN_VIEW"}(le||(le={}));class ce extends se{constructor(e,t,n,i,r){super(e,t,n,i),this.check=()=>{const e=this.determineVisibility(this.element);this.isViewing(e)?(0===this.timer.elapsedTime&&-1===this.timer.startTime&&(this.timer.startTime=Date.now()),this.timer.elapsedTime=Date.now()-this.timer.startTime):(this.timer.elapsedTime=0,this.timer.startTime=-1),this.timer.elapsedTime>this.viewedThreshold&&this.sendEvent()},this.viewedThreshold=this.isVideo?this.config.videoViewedTimeThreshold:this.config.viewedTimeThreshold,this.onUnobserve=r}unObserve(){var e;null===(e=this.onUnobserve)||void 0===e||e.call(this,this.id)}isViewing(e){return[le.TOP_TRUNCATED,le.BOTTOM_TRUNCATED].includes(e.state)?e.value<=-this.config.viewedSizeThreshold:e.state===le.IN_VIEW&&e.value>=this.config.viewedSizeThreshold}determineVisibility(e){const t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom,i=t-n;return t>=0&&n<=window.innerHeight?{state:le.IN_VIEW,value:1}:t<0&&n<=window.innerHeight?{state:le.TOP_TRUNCATED,value:n/i}:t>=0&&n>window.innerHeight?{state:le.BOTTOM_TRUNCATED,value:(window.innerHeight-t)/i}:{state:le.NOT_IN_VIEW,value:0}}}class de extends re{constructor(){super(),this.interval=null,this.monitor=()=>{this.observers.forEach((e=>{e.check()}))},this.removeObserver=e=>{this.observers.delete(e),0===this.observers.size&&null!==this.interval&&(window.clearInterval(this.interval),this.interval=null)},this.startMonitoring=()=>{null===this.interval&&(this.interval=window.setInterval(this.monitor,89))},this.observers=new Map}register(e,t,n,i){if(!t)return;const r=ie.getElementId(e);this.observers.has(r)||(this.observers.set(r,new ce(e,t,n,i,(()=>{this.removeObserver(r)}))),this.startMonitoring())}}class ue{static getInstance(){return ue.instance||(ue.instance="IntersectionObserver"in window?new ae:new de),ue.instance}}var he=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class pe{static create(e,t,n,i=!0){return he(this,void 0,void 0,(function*(){let r=n;return r||(r=yield pe.getJSONFromContent(e)),pe.createSync(e,t,r,i)}))}static createSync(e,t,n,i=!0){const r=pe.createIframe(e,t);return pe.inject(r,e,n,i)}static inject(e,t,n,i=!0){const r=n;if(!r)return null;let s=pe.getHTMLFromJSON(r);if(!s)return null;t.request.data=r;const o=g.getBrowserInfo();return"CHROME"===o.name&&o.flags.isAnIOSVariantUsingWebkit&&(s=this.applyIOSChromeFixToHtmlString(s)),e.setAttribute("srcdoc",s),i&&this.attachViewabilityListener(e,r,t),e}static applyIOSChromeFixToHtmlString(e){var t,n;const i=(new DOMParser).parseFromString(e,"text/html");return i.querySelectorAll("a").forEach((e=>{"_blank"===e.getAttribute("target")&&e.getAttribute("href")&&(e.removeAttribute("target"),e.setAttribute("onclick",`event.preventDefault(); window.open('${e.getAttribute("href")}')`))})),null!==(n=null===(t=i.querySelector("html"))||void 0===t?void 0:t.outerHTML)&&void 0!==n?n:e}static attachViewabilityListener(e,t,n){var i,r;const s=Object.assign({},t);s.viewEventUrl=(null===(i=n.specificParams)||void 0===i?void 0:i.domain_rewrite)?`https://${n.specificParams.domain_rewrite}/fla/log`:"https://ads.trafficjunky.net/fla/log",v.viewabilityOn&&ue.getInstance().register(e,s.viewEventUrl,{ad_id:null==s?void 0:s.ad_id,campaign_id:null==s?void 0:s.campaign_id,initial_zone_id:null===(r=n.params)||void 0===r?void 0:r.spotId,member_id:null==s?void 0:s.member_id,zone_id:null==s?void 0:s.zone_id})}}pe.wrap=(e,t,n)=>{const i=pe.createIframe(e,n);return i.setAttribute("srcdoc",t.outerHTML),i},pe.createIframe=(e,t)=>{(t=t||Object.assign({},A))["background-color"]=e.specificParams.bg_color;return p.createDOMElement("iframe",{allowtransparency:"true","data-embeddedads":"true","data-spot-id":e.params.spotId,height:e.params.height,marginheight:"0",marginwidth:"0",scrolling:"no",style:g.createInlineStyle(t,!0),width:e.params.width})},pe.getJSONFromContent=e=>he(void 0,void 0,void 0,(function*(){const t=yield te.makeRequest(e);if(!t)return null;try{return JSON.parse(t)[0]}catch(e){return null}})),pe.getHTMLFromJSON=e=>{let t="";return e.full_html?t=e.full_html:e.html&&(t=e.html),G.fixMobileVideoAd(t)};class me{constructor(e,t){this.lastPlayPos=0,this.currentPlayPos=0,this.bufferingDetected=!1,this.video="VIDEO"===e.tagName?e:e.firstChild,this.mediaFiles=t,this.setQuality(p.getQuality()),Object.keys(this.mediaFiles).length>1&&setInterval(this.checkBuffering,50)}checkBuffering(){if(!this.video)return;this.currentPlayPos=this.video.currentTime;this.isBuffering(.03)&&(this.bufferingDetected=!0),this.isBuffering(.03,!0)&&(this.bufferingDetected=!1),this.lastPlayPos=this.currentPlayPos}isBuffering(e,t=!1){return!!this.video.paused&&(t?this.bufferingDetected&&this.currentPlayPos>this.lastPlayPos+e:!this.bufferingDetected&&this.currentPlayPos<this.lastPlayPos+e)}setQuality(e){let t=this.mediaFiles[e];if(!t){const n=p.getNearestAvailableQuality(this.mediaFiles,e);if(!n)return;t=this.mediaFiles[n]}t&&(this.video.src=t.url)}}class ge{}var ve;ge.skipButton=(e,t)=>g.createInlineStyle({"align-items":"center","background-color":"rgba(0, 0, 0, 0.5)",color:"white",cursor:"default",display:"flex","font-family":"sans-serif","font-size":"14px","font-weight":"normal",height:`${e}`,"justify-content":"center","min-width":`${t}`,padding:"0 10px 0",position:"absolute",right:"0","text-align":"center",top:"0",transition:"opacity .3s","user-select":"none"}),ge.video=g.createInlineStyle({height:"100%",position:"absolute",right:"0"}),ge.expandButton=g.createInlineStyle({"background-color":"rgba(0, 0, 0, 0.3)",bottom:"0",cursor:"pointer",display:"none",height:"20px",padding:"8px",position:"absolute",width:"20px"}),ge.wrapper=g.createInlineStyle({"background-color":"#e91e62",height:"100%"}),ge.adBanner=g.createInlineStyle({float:"right",height:"100%",position:"relative"}),ge.adBannerImg=(e,t,n)=>g.createInlineStyle({"background-image":`url('${e}')`,"background-repeat":"no-repeat","background-size":"contain",height:`${t}px`,position:"absolute",right:"0",top:"0",width:`${n}px`}),ge.adContainer=(e,t)=>{const n={"background-color":"#3b3b3b",height:"240px",left:`${e+2}px`,position:"fixed",width:"426px","z-index":"99"};return window.innerWidth<430&&(n.height="180px",n.width="320px"),"top"===t?n.top="20px":n.bottom="20px",g.createInlineStyle(n)},function(e){e.AdaptiveVideo="adaptive_video",e.Video="video",e.Iframe="iframe",e.Image="image",e.VideoBanner="video_banner",e.Static="static",e.PrerollVideo="preroll_video",e.Native="native"}(ve||(ve={}));class be{constructor(e){this.registerEvents=(e,t)=>{this.events.push({callback:t,time:e}),this.events.sort(((e,t)=>e.time>t.time?1:e.time<t.time?-1:0))},this.registerFirstQuartile=e=>(this.registerEvents(.25,e),this),this.registerMidpoint=e=>(this.registerEvents(.5,e),this),this.registerThirdQuartile=e=>(this.registerEvents(.75,e),this),this.startListening=()=>{this.video.addEventListener("timeupdate",(()=>{if(this.events.length<=0)return;const e=this.video.currentTime/this.video.duration,t=this.events[0];e>t.time&&(t.callback(),this.events.shift())}))},this.video=e,this.events=[]}}var fe=null!==c()&&void 0!==c()?c():class{static set(e,t,n){const i=[`${e}=${null!=t?t:""}`];if(null==n?void 0:n.expires){const e=n.expires instanceof Date?n.expires.getTime()-(new Date).getTime():n.expires;i.push("; max-age="+e/1e3)}(null==n?void 0:n.secure)&&i.push("; secure"),document.cookie=i.join("")}static get(e){const t=`${e}=`;if(document.cookie.length>0){let e=document.cookie.indexOf(t);if(-1!==e){e+=t.length;const n=document.cookie.indexOf(";",e);return document.cookie.substring(e,-1===n?document.cookie.length:n)}}return null}};const Ae={cancelAnimationFrame:()=>{},requestAnimationFrame:()=>0};if(window){const e=["ms","moz","webkit","o"],t=window;Ae.requestAnimationFrame=e.map((e=>t[`${e}RequestAnimationFrame`])).reduce(((e,t)=>e||t),window.requestAnimationFrame),Ae.cancelAnimationFrame=e.map((e=>t[`${e}CancelAnimationFrame`]||t[`${e}CancelRequestAnimationFrame`])).reduce(((e,t)=>e||t),window.cancelAnimationFrame)}if(!Ae.requestAnimationFrame){let e=0;Ae.requestAnimationFrame=t=>{const n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout((()=>{t(n+i)}),i);return e=n+i,r},Ae.cancelAnimationFrame||(Ae.cancelAnimationFrame=e=>clearTimeout(e))}const ye=Ae.requestAnimationFrame;Ae.cancelAnimationFrame;class we{getValue(e,t,n=null){let i=null;const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++){const t=r[e],s=this.strip(t.textContent);if(s&&(!n||n&&s!==n)){i=s;break}}return i}strip(e){return e?e.replace("<![CDATA[","").replace("]]>","").trim():null}}var Ce;!function(e){e.Start="start",e.FirstQuartile="firstQuartile",e.Midpoint="midpoint",e.ThirdQuartile="thirdQuartile",e.Complete="complete",e.Mute="mute",e.Unmute="unmute",e.Pause="pause",e.Resume="resume",e.Fullscreen="fullscreen",e.Skip="skip",e.Click="click",e.Impression="impression"}(Ce||(Ce={}));class xe extends we{get(e){const t={},n=e.querySelectorAll("TrackingEvents Tracking");for(let e=0;e<n.length;e++){const i=n[e],r=i.getAttribute("event"),s=i,o=this.strip(s.textContent);this.addEventUrl(t,r,o)}return 0!==Object.keys(t).length?t:null}addEventUrl(e,t,n){t&&n&&Ce[t.charAt(0).toUpperCase()+t.slice(1)]&&(e[t]||(e[t]=[]),e[t].push(n))}}class Ee extends we{get(e){if(!(e=e.querySelectorAll("VideoClicks")[0]))return null;const t=this.getValue(e,"VideoClicks ClickThrough");if(!t)return null;const n=[],i=e.querySelectorAll("VideoClicks ClickTracking");for(let e=0;e<i.length;e++){const t=i[e],r=this.strip(t.textContent);r&&n.push(r)}return{clickThrough:t,clickTracking:n}}}class Ie extends we{get(e){const t={},n=e.querySelectorAll("MediaFiles MediaFile");for(let e=0;e<n.length;e++){const i=n[e],r=i,s=this.strip(r.textContent),a=Number(i.getAttribute("height")),l=i.getAttribute("type"),c=l&&o.videoFormats.includes(l);s&&c&&(t[a]={bitrate:Number(i.getAttribute("bitrate")),delivery:i.getAttribute("delivery"),height:a,type:l,url:s,width:Number(i.getAttribute("width"))})}return t}}class Se extends we{constructor(){super(...arguments),this.getWithVideoClicksEvents=e=>{e.events||(e.events={});let t=e.events[Ce.Click]||[];return t=[...t,...e.videoClicks.clickTracking],e.events[Ce.Click]=t,e}}get(e){const t=[],n=e.querySelectorAll("Creatives Creative");for(let e=0;e<n.length;e++){let i=n[e];const r=i.getAttribute("AdID");if(i=i.querySelectorAll("Linear")[0],!i)continue;const s=this.getCreative(i,r);s&&t.push(this.getWithVideoClicksEvents(s))}return t.length?t:null}getCompanion(e){if(!e.querySelector("Creatives Creative CompanionAds Companion"))return null;const t=this.getValue(e,"StaticResource");return t?{clickThrough:this.getValue(e,"CompanionClickThrough"),clickTracking:this.getValue(e,"CompanionClickTracking"),staticResource:t}:null}getCreative(e,t){const n=(new Ee).get(e),i=(new Ie).get(e);return n&&Object.keys(i).length?{duration:this.getValue(e,"Duration"),events:(new xe).get(e),id:t,mediaFiles:i,videoClicks:n}:null}}class je extends we{get(e){const t=new Se,n=t.get(e),i=t.getCompanion(e);return n?{adSystem:this.getValue(e,"AdSystem"),companion:i,creatives:n}:null}}var Le=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class ke{}ke.getVAST=(e,t)=>null==t?Promise.resolve(null):"adtool"===e.provider&&e.url?ke.getAdtoolVAST(e.url):Promise.resolve(ke.getTJVAST(null==t?void 0:t.full_html)),ke.getTJVAST=e=>{if(!e)return null;const t=(new DOMParser).parseFromString(e,"application/xml").querySelectorAll("InLine")[0];return t?(new je).get(t):null},ke.getAdtoolVAST=e=>Le(void 0,void 0,void 0,(function*(){if(!e)return null;const t=yield te.makeXMLRequest(e);if(null==t)return null;const n=(new DOMParser).parseFromString(t,"application/xml").querySelectorAll("InLine")[0];return n?(new je).get(n):null})),ke.getOptions=(e,t)=>{const n=g.calculateHeightRatio,i=g.calculateWidthRatio;return Object.assign(Object.assign({},t),{canSkip:!0,imageDivisionAt:i(.75),initSkipAd:!1,initialAdPosition:e,playAdVideo:!1,reachedBanner:!1,skipAd:!0,skipButtonHeight:"36px",skipButtonWidth:"28%",smallBannerHeight:n(99),smallBannerWidth:i(.25)})},ke.dispatchEvents=e=>{e&&e.forEach((e=>g.sendEvent(e)))},ke.hideVolumeControl=e=>{const t=document.createElement("STYLE");t.innerHTML=`\n\t\t\tvideo#${e}::-webkit-media-controls-volume-slider {\n\t\t\t\tdisplay:none;\n\t\t\t}\n\t\t\t\n\t\t\tvideo#${e}::-webkit-media-controls-mute-button {\n\t\t\t\tdisplay:none;\n\t\t\t}\n\t\t`,document.head.appendChild(t)},ke.triggerFullScreen=e=>{(e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen).call(e)},ke.getNewPosition=(e,t)=>e>t?e-10<t?e-(t+e):e-10:e+10>t?e+(t-e):e+10,ke.getExpandButton=()=>{const e=p.createDOMElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ2OS4zMzMgNDY5LjMzMyIgZmlsbD0iI0ZGRiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDY5LjMzMyA0NjkuMzMzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0xNjAsMEgxMC42NjdDNC43NzEsMCwwLDQuNzcxLDAsMTAuNjY3VjE2MGMwLDUuODk2LDQuNzcxLDEwLjY2NywxMC42NjcsMTAuNjY3SDMyYzUuODk2LDAsMTAuNjY3LTQuNzcxLDEwLjY2Ny0xMC42NjcKCQkJCVY0Mi42NjdIMTYwYzUuODk2LDAsMTAuNjY3LTQuNzcxLDEwLjY2Ny0xMC42NjdWMTAuNjY3QzE3MC42NjcsNC43NzEsMTY1Ljg5NiwwLDE2MCwweiIvPgoJCQk8cGF0aCBmaWxsPSIjRkZGIiBkPSJNNDU4LjY2NywwSDMwOS4zMzNjLTUuODk2LDAtMTAuNjY3LDQuNzcxLTEwLjY2NywxMC42NjdWMzJjMCw1Ljg5Niw0Ljc3MSwxMC42NjcsMTAuNjY3LDEwLjY2N2gxMTcuMzMzVjE2MAoJCQkJYzAsNS44OTYsNC43NzEsMTAuNjY3LDEwLjY2NywxMC42NjdoMjEuMzMzYzUuODk2LDAsMTAuNjY3LTQuNzcxLDEwLjY2Ny0xMC42NjdWMTAuNjY3QzQ2OS4zMzMsNC43NzEsNDY0LjU2MywwLDQ1OC42NjcsMHoiLz4KCQkJPHBhdGggZmlsbD0iI0ZGRiIgZD0iTTQ1OC42NjcsMjk4LjY2N2gtMjEuMzMzYy01Ljg5NiwwLTEwLjY2Nyw0Ljc3MS0xMC42NjcsMTAuNjY3djExNy4zMzNIMzA5LjMzM2MtNS44OTYsMC0xMC42NjcsNC43NzEtMTAuNjY3LDEwLjY2NwoJCQkJdjIxLjMzM2MwLDUuODk2LDQuNzcxLDEwLjY2NywxMC42NjcsMTAuNjY3aDE0OS4zMzNjNS44OTYsMCwxMC42NjctNC43NzEsMTAuNjY3LTEwLjY2N1YzMDkuMzMzCgkJCQlDNDY5LjMzMywzMDMuNDM3LDQ2NC41NjMsMjk4LjY2Nyw0NTguNjY3LDI5OC42Njd6Ii8+CgkJCTxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0xNjAsNDI2LjY2N0g0Mi42NjdWMzA5LjMzM2MwLTUuODk2LTQuNzcxLTEwLjY2Ny0xMC42NjctMTAuNjY3SDEwLjY2N0M0Ljc3MSwyOTguNjY3LDAsMzAzLjQzNywwLDMwOS4zMzN2MTQ5LjMzMwoJCQkJYzAsNS44OTYsNC43NzEsMTAuNjY3LDEwLjY2NywxMC42NjdIMTYwYzUuODk2LDAsMTAuNjY3LTQuNzcxLDEwLjY2Ny0xMC42Njd2LTIxLjMzMwoJCQkJQzE3MC42NjcsNDMxLjQzOCwxNjUuODk2LDQyNi42NjcsMTYwLDQyNi42Njd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=",style:g.createInlineStyle({fill:"#FFFFFF"}),width:"100%"}),t=p.createDOMElement("div",{style:ge.expandButton});return t.appendChild(e),t};var Te,Me=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Ne{}Te=Ne,Ne.getVAST=(e,t)=>null==t?Promise.resolve(null):"adtool"===e.provider&&e.url&&Te.isValidAdtool(e.url)?Te.getAdtoolVAST(e.url):Promise.resolve(Te.getTJVAST(null==t?void 0:t.full_html)),Ne.isValidAdtool=e=>{const t=e.split("/")[2];return void 0!==t&&null!==t.match(/adtng.com/i)},Ne.getTJVAST=e=>{if(!e)return null;const t=(new DOMParser).parseFromString(e,"application/xml").querySelectorAll("InLine")[0];return t?(new je).get(t):null},Ne.getAdtoolVAST=e=>Me(void 0,void 0,void 0,(function*(){if(!e)return null;const t=yield te.makeXMLRequest(e);if(null==t)return null;const n=(new DOMParser).parseFromString(t,"application/xml").querySelectorAll("InLine")[0];return n?(new je).get(n):null}));class Oe{}Oe.handleClose=()=>`\n\t   const bannerContainer = document.getElementById('${v.inBanLabels.containerId}');\n      const reportContainer = document.getElementById('tj-inban-report');\n      const buttonsContainer = document.getElementsByClassName('tj-inban-actions-container');\n      reportContainer.className = '';\n      bannerContainer.className = bannerContainer.className.replace(" extended", '');\n      Array.prototype.forEach.call(buttonsContainer, (elem) => {\n          elem.className = 'tj-inban-actions-container';\n      })\n\t`,Oe.handleOnReportClick=()=>`\n    const buttonsContainerL1 = document.getElementById('${v.inBanLabels.buttonsContainerL1Id}');\n    const buttonsContainerL2 = document.getElementById('${v.inBanLabels.buttonsContainerL2Id}');\n    buttonsContainerL1.className = 'tj-inban-actions-container';\n    buttonsContainerL2.className = 'tj-inban-actions-container visible';\n  `,Oe.handleReportCategorySelect=()=>`\n      const buttonsContainerL1 = document.getElementById('${v.inBanLabels.buttonsContainerL1Id}');\n      const buttonsContainerL2 = document.getElementById('${v.inBanLabels.buttonsContainerL2Id}');\n      const messageContainer = document.getElementById('${v.inBanLabels.successMessageContainerId}');\n      buttonsContainerL1.className = 'tj-inban-actions-container';\n      buttonsContainerL2.className = 'tj-inban-actions-container';\n      messageContainer.className = 'tj-inban-actions-container visible';\n    `,Oe.getSuccessMessageContainer=(e,t)=>{const n=p.createDOMElement("div",{class:"tj-inban-actions-container",id:v.inBanLabels.successMessageContainerId,style:g.createInlineStyle(e?Object.assign(Object.assign({},z),U):z)});return n.innerText=t.successMessage,n},Oe.setReport=e=>{const t=fe.get(v.inBanLabels.reportingCookieName),n={expires:v.inBanLabels.reportsCookieExpirationTime},i=t?""+(+t+1):"1";Number(i)>=v.inBanLabels.reportsNumberThreshold&&Oe.disableTjReport(e),fe.set(v.inBanLabels.reportingCookieName,i,n)},Oe.disableTjReport=e=>{const t=null==e?void 0:e.document.getElementById(v.inBanLabels.actionButtonId);null==t||t.removeAttribute("onclick")},Oe.handleActionButtonClick=()=>`\n      const currentContainer = document.getElementById('${v.inBanLabels.containerId}');\n      const reportContainer = document.getElementById('tj-inban-report');\n      const buttonsContainerL1 = document.getElementById('${v.inBanLabels.buttonsContainerL1Id}');\n      currentContainer.className = currentContainer.className + ' extended';\n      reportContainer.className = 'visible';\n      buttonsContainerL1.className = buttonsContainerL1.className + ' visible';\n    `,Oe.createCloseButton=()=>{const e=p.createDOMElement("div",{style:g.createInlineStyle(P)});return e.className="tj-inban-close",e.setAttribute("onclick",`${Oe.handleClose()}`),e},Oe.getBannerOverflow=(e,t)=>{const n=!!e.mobile,i=!!e.horizontal,r=n?q:Y,s=i?Object.assign(Object.assign({},F),V):F,o=p.createDOMElement("div",{class:""+(i?"":"grow"),style:g.createInlineStyle(_)}),a=p.createDOMElement("div",{class:"tj-inban-actions-container",id:v.inBanLabels.buttonsContainerL1Id,style:g.createInlineStyle(s)}),l=p.createDOMElement("div",{class:"tj-inban-actions-container",id:v.inBanLabels.buttonsContainerL2Id,style:g.createInlineStyle(s)}),c=Oe.getSuccessMessageContainer(i,t);return v.inBanLabels.buttonsList.forEach((s=>{var o,c;let d;s.childButtons?(d=p.createDOMElement("div",{style:g.createInlineStyle(r)}),d.setAttribute("onclick",Oe.handleOnReportClick()),s.childButtons.forEach((s=>{const o=n?Object.assign(Object.assign({},r),W):r,a="tj-inban-button tj-inban-button-report "+(n?"tj-inban-button-mob":""),c=p.createDOMElement("a",{class:`${a} ${i&&!n?"tj-inban-button-horizontal":""}`,href:Oe.getReportUrl(e,s.id),style:g.createInlineStyle(o),target:"_blank"});c.innerText=t.buttons[s.id],c.setAttribute("onclick",Oe.handleReportCategorySelect()),l.appendChild(c)}))):(d=p.createDOMElement("a",{href:null===(c=null===(o=v.inBanLabels.buttonsList)||void 0===o?void 0:o.find((e=>e.id===s.id)))||void 0===c?void 0:c.link,style:g.createInlineStyle(r),target:"_blank"}),d.setAttribute("onclick",Oe.handleReportCategorySelect()));const u="tj-inban-button "+(n?"tj-inban-button-mob":"");d.className=`${u} ${i&&!n?"tj-inban-button-horizontal":""}`,d.innerText=t.buttons[s.id],a.appendChild(d)})),o.appendChild(a),o.appendChild(l),o.appendChild(c),o},Oe.handleReportingThreshold=e=>{e.addEventListener("load",(function(){const e=this.contentWindow,t=null==e?void 0:e.document.getElementById(v.inBanLabels.successMessageContainerId),n=fe.get(v.inBanLabels.reportingCookieName);Number(n)>=v.inBanLabels.reportsNumberThreshold&&e&&Oe.disableTjReport(e);const i=new MutationObserver((()=>{(null==t?void 0:t.className.split(" ").includes("visible"))&&e&&(Oe.setReport(e),Oe.disableTjReport(e))}));t&&i.observe(t,{attributes:!0,childList:!0})}))},Oe.getReportUrl=(e,t)=>{var n,i;const r=null==e?void 0:e.site,s=`?ref=10047411428&ref_time=1697567746&category=${t}`,o=`${v.inBanLabels.defaultReportUrl}${s}`;return"c_inf"===t&&null!==(i=null===(n=v.inBanLabels.copyrightInfringementUrls)||void 0===n?void 0:n[r])&&void 0!==i?i:o},Oe.getReportContainer=e=>{const t=e.mobile,n=!!e.horizontal,i=g.getNavigatorLang(),r=v.inBanLabels.locales[i],s=p.createDOMElement("style");s.innerHTML=X;const o=t?Object.assign(Object.assign({},H),J):H,a=p.createDOMElement("div",{id:"tj-inban-report",style:g.createInlineStyle(R)}),l=Oe.createCloseButton(),c=p.createDOMElement("div",{style:g.createInlineStyle(!t&&n?Q:o)});return a.appendChild(s),a.appendChild(c),a.appendChild(l),a.appendChild(Oe.getBannerOverflow(e,r)),a};class Be{}Be.shouldShowLabel=e=>{var t,n,i,r,s,o,a,l;if(!1===e.params.inbanlabel)return!1;if(!0===e.params.inbanlabel||!v.inBanLabels.filter||!(null===(t=v.inBanLabels.filter)||void 0===t?void 0:t.websites)||!(null===(n=e.channelParams)||void 0===n?void 0:n.site))return!0;const c=null===(i=e.channelParams)||void 0===i?void 0:i.site;if(!(null===(r=v.inBanLabels.filter)||void 0===r?void 0:r.websites.find((e=>e===c))))return!0;let d=!1;return(null===(s=v.inBanLabels.filter)||void 0===s?void 0:s.availableWebsites)&&(d=Boolean(null===(o=v.inBanLabels.filter)||void 0===o?void 0:o.availableWebsites.find((e=>e===c)))),(null===(a=v.inBanLabels.filter)||void 0===a?void 0:a.zoneIds)&&(d=d||Boolean(null===(l=v.inBanLabels.filter)||void 0===l?void 0:l.zoneIds.find((t=>t===e.params.spotId)))),d},Be.getLabel=e=>{const t=p.createDOMElement("div",{style:g.createInlineStyle(D)});t.innerText=e.adLabel;const n=p.createDOMElement("div",{style:g.createInlineStyle(B)});return n.appendChild(t),n.className="tj-inban-icon",n},Be.getInBanLabelsContainer=e=>{var t,n;const i=g.getNavigatorLang(),r=v.inBanLabels.locales[i],s=p.createDOMElement("div",{style:g.createInlineStyle(D)});s.innerText="Ads by TrafficJunky",s.className="tj-inban-tooltip";const o=Be.getLabel(r),a=p.createDOMElement("style");a.innerHTML=X;const l=(null===(n=null===(t=null==e?void 0:e.request)||void 0===t?void 0:t.data)||void 0===n?void 0:n.ad_info_url)||Be.getTargetUrl(e),c=p.createDOMElement("a",{href:l,target:"_blank"});c.appendChild(o);const d=p.createDOMElement("div",{style:g.createInlineStyle(O)});return d.appendChild(c),d.appendChild(a),d},Be.getInBanLabelsV2Container=(e,t)=>{const n=g.getNavigatorLang(),i=v.inBanLabels.locales[n],r=Be.getLabel(i),s=p.createDOMElement("div",{class:"tj-inban-container",id:v.inBanLabels.containerId,style:g.createInlineStyle(O)}),o=Oe.getReportContainer(null==e?void 0:e.params),a=p.createDOMElement("div",{id:v.inBanLabels.actionButtonId});return a.setAttribute("onclick",Oe.handleActionButtonClick()),a.appendChild(r),s.appendChild(a),s.appendChild(o),Oe.handleReportingThreshold(t),s},Be.getTargetUrl=e=>{var t,n,i;const r=null===(t=e.channelParams)||void 0===t?void 0:t.site;return r&&null!==(i=null===(n=v.inBanLabels.targetUrls)||void 0===n?void 0:n[r])&&void 0!==i?i:v.inBanLabels.defaultTargetUrl},Be.wrapWithInBanLabel=(e,t)=>{var n;if(!e||!Be.shouldShowLabel(t))return e;let i;return i=t.params.inbanlabelV2?Be.getInBanLabelsV2Container(t,e):Be.getInBanLabelsContainer(t),e.setAttribute("srcdoc",`${null===(n=e.getAttribute("srcdoc"))||void 0===n?void 0:n.split("</body>")[0]}${i.outerHTML}</body></html>`),e};var De=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Pe extends K{constructor(e,t,n){super(e,t,n),this.screenWidth=document.documentElement.clientWidth,this.skipButtonCountingStarted=!1,this.createAd=()=>De(this,void 0,void 0,(function*(){try{if(fe.get(v.videoDriveBy.cookieName))return null;const e=yield pe.getJSONFromContent(this);if(!e||e.media_type!==ve.PrerollVideo)return null;const t=yield Ne.getVAST(this.vastProvider,e);return t?(this.vast=t,this.initAdParameters(e),setTimeout((()=>this.initBindings()),1e3),this.buildAd()):null}catch(e){return null}})),this.create=()=>De(this,void 0,void 0,(function*(){if(!this.hasShown())return new Promise((e=>{const t=()=>{window.removeEventListener("scroll",t),this.createAd().then((t=>{e(t)}))};window.addEventListener("scroll",t)}))})),this.closeAd=e=>{var t;this.slide(this.elements.adContainer,!1),this.elements.videoEl.pause(),ke.dispatchEvents(null===(t=this.vast.creatives[0].events)||void 0===t?void 0:t[e?"skip":"complete"]),this.setCookie()},this.setCookie=()=>{fe.set(v.videoDriveBy.cookieName,`${(new Date).getTime()}`,Pe.getCookieOptions())},this.hasShown=()=>{this.currentExpirationTime=this.specificAttrs.cookie_expiry||v.videoDriveBy.cookieExpiry;const e=fe.get(v.videoDriveBy.cookieName);if(void 0===e||""===e||null===e)return!1;const t=(new Date).getTime()-Number(e);return!(isNaN(t)||t>Number(this.currentExpirationTime))},this.initAdParameters=e=>{this.options=ke.getOptions(this.screenWidth,v.videoDriveBy),this.overrideAttributes(),this.request.data=Object.assign(Object.assign({},this.request.data),{ad_id:e.ad_id,ad_info_url:e.ad_info_url,campaign_id:e.campaign_id,media_type:e.media_type,member_id:e.member_id})},this.initBindings=()=>{const{videoEl:e,expandButton:t}=this.elements;window.addEventListener("resize",this.handleResize),this.addVideoEvents(e),t.addEventListener("click",(()=>ke.triggerFullScreen(this.elements.videoEl))),this.handleScroll(),window.addEventListener("scroll",(()=>this.handleScroll())),window.addEventListener("touchemove",(()=>this.handleScroll()))},this.addVideoEvents=e=>{new be(e).registerFirstQuartile((()=>{var e;ke.dispatchEvents(null===(e=this.vast.creatives[0].events)||void 0===e?void 0:e.firstQuartile)})).registerMidpoint((()=>{var e;ke.dispatchEvents(null===(e=this.vast.creatives[0].events)||void 0===e?void 0:e.midpoint)})).registerThirdQuartile((()=>{var e;ke.dispatchEvents(null===(e=this.vast.creatives[0].events)||void 0===e?void 0:e.thirdQuartile)})).startListening(),e.addEventListener("ended",(()=>this.closeAd(!1)))},this.handleResize=()=>{this.justResized=!0;let e=document.documentElement.clientWidth;this.isVisible&&(e-=this.elements.adContainer.clientWidth),this.elements.adContainer.style.left=`${e}px`,setTimeout((()=>{this.justResized=!1}),200)},this.slide=(e,t)=>{this.options.reachedBanner=!0;let n=e.offsetLeft;window.requestAnimationFrame=ye;const i=t?document.documentElement.clientWidth-e.clientWidth:document.documentElement.clientWidth+e.clientWidth,r=()=>{const s=e.offsetLeft;if(t?s<=i:s>=i)this.isVisible=t,e.style.left=`${i}px`,this.options.playAdVideo||(this.options.playAdVideo=!0,this.setCookie());else{const i=t?e.offsetLeft-e.clientWidth:e.offsetLeft+e.clientWidth;n=ke.getNewPosition(n,i),e.style.left=`${n}px`,ye(r)}};ye(r),this.startSkipButtonCounting()},this.handleScroll=()=>{if(this.justResized)return;g.getWindowYPosition()>5&&!this.options.reachedBanner&&this.slide(this.elements.adContainer,!0)},this.getSkipButtonContainer=e=>{const{skipButtonHeight:t,skipButtonWidth:n}=this.options,i=p.createDOMElement("div",{style:ge.skipButton(t,n)}),r=p.createDOMElement("span",{style:"display: inline-block;vertical-align: middle;height: 100%;"});return i.appendChild(r),i.appendChild(e),i},this.getSkipButton=()=>p.createDOMElement("span"),this.createInBanLabelButton=e=>{var t,n;const i=g.getNavigatorLang(),r=v.inBanLabels.locales[i],s=p.createDOMElement("style");s.innerHTML=X;const o=(null===(n=null===(t=null==this?void 0:this.request)||void 0===t?void 0:t.data)||void 0===n?void 0:n.ad_info_url)||Be.getTargetUrl(this),a=Be.getLabel(r);a.style.top="auto",a.style.bottom="0";const l=p.createDOMElement("a",{href:o,target:"_blank"});return l.appendChild(a),e.appendChild(l),e.appendChild(s),e},this.startSkipButtonCounting=()=>{if(this.elements.skipButton&&!this.skipButtonCountingStarted&&this.options.canSkip&&this.options.skipDelay>0){let e=Math.round(this.options.skipDelay/1e3);const t=setInterval((()=>{this.elements.skipButton?(this.elements.skipButton.innerHTML=` Skip Ad in ${--e}s`,e<1&&(this.elements.skipButton.innerHTML=" Skip Ad",this.elements.skipButton.addEventListener("click",(()=>this.closeAd(!0))),this.elements.skipButton.style.cursor="pointer",clearInterval(t))):clearInterval(t)}),1e3)}},this.getVideoContainer=()=>{const e="vdb-player",t=p.createDOMElement("a",{href:this.vast.creatives[0].videoClicks.clickThrough,style:ge.wrapper,target:"_blank"});t.onclick=()=>{var e;return ke.dispatchEvents(null===(e=this.vast.creatives[0].events)||void 0===e?void 0:e.click)};const n=p.createDOMElement("video",Object.assign({style:ge.video},{autoplay:!0,disableRemotePlayback:!0,muted:!0,playsInline:!0,"webkit-playsinline":""}));n.id=e,n.onplaying=()=>{var e;return ke.dispatchEvents(null===(e=this.vast.creatives[0].events)||void 0===e?void 0:e.start)},n.onfullscreenchange=()=>{var e;document.fullscreenElement&&ke.dispatchEvents(null===(e=this.vast.creatives[0].events)||void 0===e?void 0:e.fullscreen)},ke.hideVolumeControl(e);const i=this.vast.creatives[0].mediaFiles;for(const e in i){const t=i[e];n.appendChild(p.createDOMElement("source",{src:t.url,type:t.type}))}return new me(n,this.vast.creatives[0].mediaFiles),n.load(),n.muted=!0,t.appendChild(n),t},this.getAdBanner=()=>{var e,t;const n=p.createDOMElement("div",{style:ge.adBanner}),{smallBannerHeight:i,smallBannerWidth:r}=this.options,s=null===(e=this.vast.companion)||void 0===e?void 0:e.staticResource;if(!s)return null;const o=p.createDOMElement("img",{style:ge.adBannerImg(s,i,r)}),a=p.createDOMElement("a",{href:null===(t=this.vast.companion)||void 0===t?void 0:t.clickThrough,target:"_blank"});return a.appendChild(o),n.appendChild(a),n},this.buildAd=()=>{const e=p.createDOMElement("div",{style:ge.adContainer(++this.screenWidth,this.options.position)}),t=this.getVideoContainer(),n=t.firstChild;e.appendChild(t);const i=this.getAdBanner();i&&e.appendChild(i);const r=g.createInlineStyle({height:`${this.params.height}`,width:`${this.params.width}`}),s=p.createDOMElement("div",{style:r}),o=this.createInBanLabelButton(s);let a;if(e.appendChild(o),this.options.canSkip){a=this.getSkipButton();const t=this.getSkipButtonContainer(a);e.appendChild(t)}const l=ke.getExpandButton();return e.appendChild(l),this.elements={adContainer:e,expandButton:l,inBanLabel:o,skipButton:a,videoEl:n},e},this.specificAttrs=t,this.vastProvider={provider:"adtool"===this.specificAttrs.vast_provider?"adtool":"tj",url:this.specificAttrs.vast_url}}overrideAttributes(){this.options.canSkip="false"!==this.specificAttrs.can_skip,this.specificAttrs.position&&(this.options.position=this.specificAttrs.position);const e=Number(this.specificAttrs.skip_delay);isNaN(e)||(this.options.skipDelay=e)}static getCookieOptions(){return{secure:!0}}}class Re{constructor(e,t){this.create=e=>{const t=pe.createSync(this.baseAd,e,this.json);return this.youpornFixFrame(t),Be.wrapWithInBanLabel(t,this.baseAd)},this.baseAd=e,this.json=t}youpornFixFrame(e){e&&"youporn"===this.baseAd.channelParams.site&&"auto"===this.baseAd.params.height&&e.addEventListener("load",(()=>{var t,n;const i=null===(t=e.contentWindow)||void 0===t?void 0:t.document.body.scrollWidth,r=null===(n=e.contentWindow)||void 0===n?void 0:n.document.body.scrollHeight;i&&r&&(e.style.aspectRatio=`${i}/${r}`,e.style.maxHeight="none")}))}}class _e extends Re{constructor(){super(...arguments),this.create=()=>{try{const e=this.stringToVAST();if(!e)return null;this.vast=e,this.baseAd.request.data=this.json;const t=this.createVideo(),n=this.createOverlay(),i=this.createWrapper(t,n);return new me(t,this.vast.creatives[0].mediaFiles),Be.wrapWithInBanLabel(pe.wrap(this.baseAd,i),this.baseAd)}catch(e){return null}},this.getEventScript=(e,t)=>{if(!t)return null;const n=p.createDOMElement("script");return n.innerHTML=`document.getElementById('${e}').onclick = function() { \n\t\t\t\t\t\t\t\tvar xhr = new XMLHttpRequest(); \n\t\t\t\t\t\t\t\txhr.open('GET', '${t}'); \n\t\t\t\t\t\t\t\txhr.send(); \n\t\t\t\t\t\t    };`,n}}createWrapper(e,t){const{width:n,height:i}=this.baseAd.params,r=g.createInlineStyle(Object.assign(Object.assign({},M),{height:i,width:n})),s=p.createDOMElement("div",{style:r});return s.appendChild(e),t&&s.appendChild(t),s}createOverlay(){if(!this.vast.companion)return null;const{staticResource:e,clickThrough:t,clickTracking:n}=this.vast.companion,i=p.createDOMElement("img",{src:e,style:g.createInlineStyle(N)});if(!t)return i;const r=p.createDOMElement("a",{href:t,id:"overlay",target:"_blank"}),s=this.getEventScript("overlay",n);return r.appendChild(i),s&&r.appendChild(s),r}createVideo(){const e=p.createDOMElement("video",{autoplay:!0,disableRemotePlayback:!0,loop:!0,muted:"muted",playsinline:"",preload:"auto",style:"width: 100%","webkit-playsinline":""});e.muted=!0,e.volume=0;const{clickThrough:t,clickTracking:n}=this.vast.creatives[0].videoClicks,i=p.createDOMElement("a",{href:t,id:"video",target:"_blank"}),r=this.getEventScript("video",n[0]);return i.appendChild(e),r&&i.appendChild(r),i}stringToVAST(){const e=(new DOMParser).parseFromString(this.json.full_html,"application/xml").querySelectorAll("InLine")[0];return e?(new je).get(e):null}}class Fe{constructor(){this.create=(e,t)=>t.media_type===ve.VideoBanner?new _e(e,t):new Re(e,t)}}var Ve=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class ze extends K{constructor(){super(...arguments),this.getIframeAd=(e,t)=>Ve(this,void 0,void 0,(function*(){const n=e||(yield pe.getJSONFromContent(this));if(!n)return null;const i=(new Fe).create(this,n);return i?i.create(t):null}))}create(){return Ve(this,void 0,void 0,(function*(){return yield this.createWithDefaultIfFail(this.getIframeAd)}))}}var Ue=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Ye extends ze{constructor(){super(...arguments),this.style=Object.assign(Object.assign({},y),{"min-height":`${this.params.height}`}),this.create=()=>Ue(this,void 0,void 0,(function*(){const e=yield pe.getJSONFromContent(this);if((null==e?void 0:e.media_type)===ve.VideoBanner)return this.createWithDefaultIfFail((()=>this.getIframeAd(e)));const t=yield this.createWithDefaultIfFail((()=>Ue(this,void 0,void 0,(function*(){const t=yield pe.create(this,this.style,e);return Be.wrapWithInBanLabel(t,this)}))),this.style);return t?this.createResponsiveWrapper(t):null})),this.createResponsiveWrapper=e=>{const t=Number(this.params.width.slice(0,-2)),n=Number(this.params.height.slice(0,-2)),i=Math.floor(n/t*100),r=g.createInlineStyle(Object.assign(Object.assign({},w),{"padding-top":`${i}%`}),!0),s=p.createDOMElement("div",{style:r});return s.appendChild(e),s}}}var qe=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class We extends K{constructor(){super(...arguments),this.createBottomAdElement=()=>qe(this,void 0,void 0,(function*(){const e=yield this.createWithDefaultIfFail((()=>pe.create(this,void 0,void 0,!1)));if(!e)return null;const t=this.createContainer(),n=g.createInlineStyle({height:`${this.params.height}`,width:`${this.params.width}`}),i=p.createDOMElement("div",{style:n});i.appendChild(this.createCloseButton(t)),i.appendChild(e);const r=this.createInBanLabelButton(i);return t.appendChild(r),t})),this.createCloseButton=e=>{const t=p.createDOMElement("div"),n=this.checkIsEssentialsCookiesSelectedEU();return t.setAttribute("style",g.createInlineStyle(T)),t.onclick=()=>{document.body.removeChild(e),Z.close(n)},t},this.checkIsEssentialsCookiesSelectedEU=()=>{var e;return"1"===new URLSearchParams(null===(e=null==this?void 0:this.specificParams)||void 0===e?void 0:e.custom_param).get("noc")},this.createContainer=()=>{const e=v.bottomAdName,t=p.createDOMElement("div",{id:e});return t.setAttribute("style",g.createInlineStyle(k)),t},this.createInBanLabelButton=e=>{var t,n;const i=g.getNavigatorLang(),r=v.inBanLabels.locales[i],s=p.createDOMElement("style");s.innerHTML=X;const o=(null===(n=null===(t=null==this?void 0:this.request)||void 0===t?void 0:t.data)||void 0===n?void 0:n.ad_info_url)||Be.getTargetUrl(this),a=Be.getLabel(r),l=p.createDOMElement("a",{href:o,target:"_blank"});return l.appendChild(a),e.appendChild(l),e.appendChild(s),e}}create(){return qe(this,void 0,void 0,(function*(){return window.tjBottomAdLoaded=!0,yield this.createBottomAdElement()}))}insertIntoDOM(e){document.body.appendChild(e)}checkIfCreatable(){return!Z.wasClosed()&&!window.tjBottomAdLoaded&&super.checkIfCreatable()}revert(){delete window.tjBottomAdLoaded}}var He=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Qe extends ze{constructor(){super(...arguments),this.create=()=>He(this,void 0,void 0,(function*(){const e=yield pe.getJSONFromContent(this);return e?(this.jsonContent=e,yield this.createWithDefaultIfFail(this.createParallaxAd)):null})),this.createParallaxAd=()=>He(this,void 0,void 0,(function*(){const e=yield this.createContainer(),t=g.createInlineStyle({height:`${this.params.height}`,width:`${this.params.width}`}),n=p.createDOMElement("div",{style:t});return e.appendChild(n),e})),this.createContainer=()=>He(this,void 0,void 0,(function*(){var e,t;const n=p.createDOMElement("div"),i=p.createDOMElement("span",{style:g.createInlineStyle(x)});i.innerText="Ad by TrafficJunky";const r=p.createDOMElement("a",{href:"https://trafficjunky.com",style:"display: block",target:"_blank"});r.appendChild(i),n.setAttribute("style",g.createInlineStyle(Object.assign(Object.assign({},C),{height:null!==(e=this.params.windowHeight)&&void 0!==e?e:"300px",width:null!==(t=this.params.windowWidth)&&void 0!==t?t:"300px"}))),n.insertAdjacentElement("afterbegin",r);const s=yield this.createContent();return n.insertAdjacentElement("beforeend",s),n})),this.createContent=()=>He(this,void 0,void 0,(function*(){const e=g.getBrowserInfo(),t=p.createDOMElement("div",{style:g.createInlineStyle(L(e))}),n=p.createDOMElement("div",{style:g.createInlineStyle(S(e))}),i=p.createDOMElement("div",{style:g.createInlineStyle(E)}),r=yield this.getIframeAd(this.jsonContent);return r&&(i.insertAdjacentElement("beforeend",r),n.insertAdjacentElement("afterbegin",i),t.insertAdjacentElement("afterbegin",n)),t.className="parallax-content",t}))}}class Je{constructor(){const e=document.createElement("style");this.element=e}insertRule(e){this.element.innerHTML+=e}}class Xe extends Error{}var Ge=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class $e extends K{constructor(e,t,n){super(e,t,n),this.style=Object.assign(Object.assign({},y),{"min-height":`${this.params.height}`}),this.getNativeParams=(e,t)=>{var n,i,r,s,o,a,l,c,d,u;const h=String(e.type),p=null==t?void 0:t.site,m=this.findTheme(null!=p?p:null);if("native"!==h)throw new Error;return Object.assign(Object.assign({},this.getParams(e,null!=t?t:null)),{adBadgeBackground:null!==(n=e.ad_badge_background)&&void 0!==n?n:m.adBadgeBackground,adBadgeColor:null!==(i=e.ad_badge_color)&&void 0!==i?i:m.adBadgeColor,adBadgeFont:null!==(r=e.ad_badge_font)&&void 0!==r?r:m.adBadgeFont,brandNameColor:null!==(s=e.brand_name_color)&&void 0!==s?s:m.brandNameColor,brandNameFont:null!==(o=e.brand_name_font)&&void 0!==o?o:m.brandNameFont,brandNameHoverColor:null!==(a=e.brand_name_hover_color)&&void 0!==a?a:m.brandNameHoverColor,loadingBarColor:null!==(l=e.loading_bar_color)&&void 0!==l?l:m.loadingBarColor,site:p,titleColor:null!==(c=e.title_color)&&void 0!==c?c:m.titleColor,titleFont:null!==(d=e.title_font)&&void 0!==d?d:m.titleFont,titleHoverColor:null!==(u=e.title_hover_color)&&void 0!==u?u:m.titleHoverColor,type:h})},this.create=()=>Ge(this,void 0,void 0,(function*(){return yield this.createWithDefaultIfFail(this.createNativeAd)})),this.parseNativeAdJson=e=>{try{const t=JSON.parse(e.full_html);if(!function(e){const t=Object.keys(e);return t.includes("title")&&t.includes("brandName")&&t.includes("url")&&t.includes("creative_url")&&t.includes("tracking_image_url")}(t))throw new Xe("Native Ad content does not match interface");return Object.assign(Object.assign({},e),t)}catch(e){throw new Xe("Native Ad content is not valid JSON")}},this.createNativeAd=()=>Ge(this,void 0,void 0,(function*(){var e,t;try{const e=yield pe.getJSONFromContent(this);if(!e||(t=e).media_type!==ve.Native&&t.media_type!==ve.Image)return null;this.jsonContent=this.parseNativeAdJson(e),this.request.data=this.jsonContent}catch(e){return null}const n=g.getNavigatorLang(),i=v.inBanLabels.locales[n],r=(parseInt(this.params.height,10)-70)/parseInt(this.params.width,10)*100,s=g.createInlineStyle({"box-sizing":"border-box",height:"100%","max-width":this.params.width,"padding-bottom":"70px","padding-top":`${r}%`,position:"relative"}),o=p.createDOMElement("div",{style:s}),a=this.createIframe(),l=this.createTrackingImageHTMLString(),c=this.createThumbnailHTMLString(),d=this.createTitleContainerHTMLString(),u=this.createBrandNameContainerHTMLString(i);return this.stylesheet.insertRule("\n            a {\n                text-decoration: none;\n                color: inherit;\n            }\n\t\t\t.title__container {\n\t\t\t\tmargin-top: 7px;\n\t\t\t\theight: 60px;\n\t\t\t}\n        "),a.srcdoc=`\n            <html>\n                <head>\n                    ${null===(e=this.stylesheet)||void 0===e?void 0:e.element.outerHTML}\n                </head>\n                <body>\n                  <div id="${v.inBanLabels.containerId}">\n                    ${l}\n                    ${c}\n\t\t\t\t\t<div class="title__container">\n\t\t\t\t\t\t${d}\n\t\t\t\t\t\t${u}\n\t\t\t\t\t</div>\n                  </div>\n                </body>\n            </html>\n        `,this.params.inbanlabelV2&&Oe.handleReportingThreshold(a),o.appendChild(a),o})),this.createThumbnailHTMLString=()=>(this.stylesheet.insertRule(`\n            .thumbnail__container {\n                position: relative;\n            }\n            .thumbnail__container video {\n                z-index: -1;\n            }\n            .thumbnail__container:hover video {\n                z-index: 100;\n            }\n            .thumbnail__container:hover .thumbnail__loading-bar {\n                display: block;\n            }\n            .thumbnail__link {\n                display: block;\n            }\n            .thumbnail__loading-bar {\n                background-color: ${this.params.loadingBarColor};\n                position: absolute;\n                top: 0;\n                left: 0;\n                height: 4px;\n                width: 0%;\n                z-index: 105;\n                display: none;\n                transition: width 0.1s linear;\n            }\n        `),`\n            <div class="thumbnail__container">\n              <a href="${this.jsonContent.url}" target="_blank" class="thumbnail__link" rel="nofollow noopener">\n                ${this.createCreativeImageHTMLString()}\n                ${this.createThumbnailPreviewVideoHTMLString()}\n              </a>\n              ${this.createThumbnailScriptHTMLString()}\n            </div>\n        `),this.createCreativeImageHTMLString=()=>(this.stylesheet.insertRule("\n            .thumbnail__creative-image {\n                display: block;\n                width: 100%; \n            }\n        "),`<img src="${this.jsonContent.creative_url}" class="thumbnail__creative-image"/>`),this.createTrackingImageHTMLString=()=>(this.stylesheet.insertRule("\n            .tracking-pixel {\n                position: absolute;\n                visibility: hidden;\n                z-index: -1000;\n            }\n        "),`<img src="${this.jsonContent.tracking_image_url}" class="tracking-pixel"/>`),this.createThumbnailPreviewVideoHTMLString=()=>this.shouldShowVideoPreview?(this.stylesheet.insertRule("\n            .thumbnail__preview-video {\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n                object-fit: cover;\n            }\n        "),`\n            <div class="thumbnail__loading-bar"></div>\n            <video\n                class="thumbnail__preview-video"\n                src="${this.jsonContent.preview_video_url}"\n                preload="none"\n                playsinline\n                webkit-playsinline\n\t\t\t\tloop\n                muted>\n            </video>\n        `):"",this.createThumbnailScriptHTMLString=()=>{if(!this.shouldShowVideoPreview)return"";const e=p.createDOMElement("script");return e.innerHTML=`\n            (${function(){const e=document.querySelector(".thumbnail__container"),t=document.querySelector("video"),n=document.querySelector(".thumbnail__loading-bar");if(!e||!t||!n)return;const i="ontouchstart"in window,r=()=>{t.currentTime=0,n.style.width="2%",t.play(),t.style.zIndex="1"};if(i){t.removeAttribute("loop");let n=!1;e.addEventListener("touchstart",(()=>{n=!0,r()})),e.addEventListener("touchend",(()=>{n=!1})),t.addEventListener("ended",(()=>{n?t.play():t.style.zIndex="-1"})),new IntersectionObserver((e=>{const n=e.length?e[0]:null;!n||n.isIntersecting||t.paused||(t.pause(),t.style.zIndex="-1")}),{threshold:.5}).observe(e)}else e.addEventListener("mouseover",(()=>{r()})),e.addEventListener("mouseout",(()=>{t.pause(),t.style.zIndex="-1"}));t.addEventListener("progress",(()=>{const e=t.buffered,i=t.duration,r=e.end(0);r&&(n.style.width=r/i*100+"%")})),t.addEventListener("canplaythrough",(()=>{n.style.display="none"}))}.toString()})()\n        `,e.outerHTML},this.createTitleContainerHTMLString=()=>{var e,t,n;return this.stylesheet.insertRule(`\n            .title {\n                color: ${null!==(e=this.params.titleColor)&&void 0!==e?e:""};\n                font: ${null!==(t=this.params.titleFont)&&void 0!==t?t:""};\n                margin: 0 0 0.2rem;\n            }\n            \n            .title:hover {\n                color: ${null!==(n=this.params.titleHoverColor)&&void 0!==n?n:""};\n            }\n        `),`\n            <h3 class="title">\n                <a href="${this.jsonContent.url}" target="_blank" title="${this.jsonContent.title}" rel="nofollow noopener">\n                    ${p.truncateText(this.jsonContent.title,87)}\n                </a>\n            </h3>\n        `},this.createBrandNameContainerHTMLString=e=>{var t,n,i,r,s,o,a,l,c;this.stylesheet.insertRule(`\n            .brand__container {\n                display: flex;\n                align-items: center;\n            }            \n            \n            .brand {\n                color: ${null!==(t=this.params.brandNameColor)&&void 0!==t?t:""};\n                font: ${null!==(n=this.params.brandNameFont)&&void 0!==n?n:""};\n            }\n            \n            .tj-label {\n                color: ${null!==(i=this.params.brandNameColor)&&void 0!==i?i:""};\n                font: ${null!==(r=this.params.brandNameFont)&&void 0!==r?r:""};\n                margin-top: 0.1em;\n            }\n            \n            .brand:hover {\n                color: ${null!==(s=this.params.brandNameHoverColor)&&void 0!==s?s:""};\n            }\n            \n            .brand__badge {\n                border-radius: 4px;\n                border: 2px solid ${null!==(o=this.params.adBadgeBackground)&&void 0!==o?o:""}; \n                color: ${null!==(a=this.params.adBadgeColor)&&void 0!==a?a:""};\n                font: ${null!==(l=this.params.adBadgeFont)&&void 0!==l?l:""};\n                margin: 0 0.5em 0 0;\n                height: 14px;\n                width: 20px;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n            .brand__badge:hover {\n              cursor: pointer;\n            }\n        `);const d=Oe.getReportContainer(this.params);return`\n        <div>\n            <div class="brand__container">\n                ${this.params.inbanlabelV2?`\n           <span\n              id="${v.inBanLabels.actionButtonId}"\n              class="brand__badge"\n              onclick="${Oe.handleActionButtonClick()}"\n            >\n              Ad\n            </span>\n            `:`\n          <a href="${(null===(c=this.jsonContent)||void 0===c?void 0:c.ad_info_url)||Be.getTargetUrl(this)}" target="_blank">\n            <span\n              id="${v.inBanLabels.actionButtonId}"\n              class="brand__badge"\n            >\n              Ad\n            </span>\n           </a>\n        `}\n                <a href="${this.jsonContent.url}" target="_blank" title="${this.jsonContent.brandName}" rel="nofollow noopener">\n                    <span class="brand">${p.truncateText(this.jsonContent.brandName,25)}</span>\n                </a>\n            </div> \n            <div class="tj-label">${e.adLabel}</div>\n            ${this.params.inbanlabelV2?`<div>${d.outerHTML}</div>`:""}\n        </div>\n        `},this.createIframe=()=>{const e=pe.createIframe(this,{border:"none",height:"100%",left:"0","max-height":this.params.height,position:"absolute",top:"0",width:"100%"});return pe.attachViewabilityListener(e,this.jsonContent,this),e},this.findTheme=e=>{const t=Object.freeze({adBadgeBackground:"#3A87E8",adBadgeColor:"#3A87E8",adBadgeFont:"bold 12px sans-serif",brandNameColor:"#767678",brandNameFont:"14px sans-serif",brandNameHoverColor:"#bfc5d1",loadingBarColor:"#368cf3",titleColor:"#a8aeb6",titleFont:"15px sans-serif",titleHoverColor:"#bfc5d1"});return"pornhub"===e?Object.assign({},t):t},this.params=this.getNativeParams(t,n),this.stylesheet=new Je}get shouldShowVideoPreview(){var e;return null===(e=this.jsonContent)||void 0===e?void 0:e.preview_video_url}}var Ke=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Ze extends ze{create(){const e=Object.create(null,{create:{get:()=>super.create}});return Ke(this,void 0,void 0,(function*(){const t=yield e.create.call(this);return t&&(t.style.setProperty("position","absolute"),t.style.setProperty("left","-9999px"),t.style.setProperty("right","-9999px")),t}))}}class et{constructor(){this.create=(e,t,n)=>"bottom"===t.type?new We(e,t,n):"skin"===t.type?new Ze(e,t,n):"native"===t.type?new $e(e,t,n):this.isResponsive(t,n)?new Ye(e,t,n):"video-drive-by"===t.type?new Pe(e,t,n):"scrollable"===t.type?new Qe(e,t,n):new ze(e,t,n),this.isResponsive=(e,t)=>{if("responsive"!==e.type)return!1;const n=e.info||(null==t?void 0:t.info);if(!n)return!0;let i=!0;try{i="partner"!==JSON.parse(n).content_type}catch(e){}return i}}}var tt=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class nt{constructor(){this.sync=e=>tt(this,void 0,void 0,(function*(){if(this.verify(e)&&!window.tjIdSyncSynced&&!this.checkIsContextForbidsCookies(e)){window.tjIdSyncSynced=!0;try{const e=yield this.get();if(!e)return;e.set_TJ_uid().fp_get().sync()}catch(e){}}})),this.get=()=>tt(this,void 0,void 0,(function*(){return new Promise((e=>{if(window.idsync)return e(window.idsync);const t=document.createElement("script");t.defer=!0,t.src=`${v.idSync.scriptUrl}?v=${this.getCacheVersion()}`,t.onload=t.onerror=()=>e(window.idsync),document.body.insertAdjacentElement("beforeend",t)}))})),this.getCacheVersion=()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime()},this.verify=e=>{if(!e)return!1;const t=e.site,n="publisher"===e.invocation_type;return!(-1===v.idSync.sites.indexOf(t)&&!n)&&-1===window.navigator.userAgent.indexOf("MSIE")}}checkIsContextForbidsCookies(e){return"1"===new URLSearchParams(null==e?void 0:e.custom_param).get("noc")}}var it=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class rt{constructor(){this.idSyncService=new nt,this.preload=()=>{if(!window.tjPreloadAds)return;const e=b.getAdContextAttributes();for(const t in window.tjPreloadAds)"response"in window.tjPreloadAds[t]&&(window.tjPreloadAds[t].loaded||(window.tjPreloadAds[t].loaded=!0,new Promise((()=>it(this,void 0,void 0,(function*(){const n=yield g.getElementBySpotId(v.adClassName,t);n&&this.run(n,e)}))))))},this.load=()=>{const e=document.getElementsByClassName(v.adClassName),t=b.getAdContextAttributes(),n=[];this.idSyncService.sync(t);for(let i=0;i<e.length;i++){const r=this.run(e[i],t);r&&n.push(r)}return Promise.all(n)},this.reload=e=>{const t=rt.ads[e];if(t)for(let e=0;e<t.length;e++)t[e].reload()},this.run=(e,t)=>{const n=p.getDataAttributes(e);if(!this.canCreate(n))return null;e.setAttribute("data-loading","true");const i=(new et).create(e,n,t);return rt.ads[i.params.spotId]||(rt.ads[i.params.spotId]=[]),rt.ads[i.params.spotId].push(i),i.run()},this.verifyAttributes=e=>!(!this.verify(e,["source_id"])&&!this.verify(e,["spot_id"]))&&("video-drive-by"===e.type||this.verify(e,["height","width"])),this.verify=(e,t)=>{let n=!0;for(let i=0;i<t.length;i++)e[t[i]]||(n=!1);return n},this.setDeliveryServer=()=>{const e=b.getAdContextAttributes();Z.setDeliveryServer(null==e?void 0:e.delivery_server)}}init(){window.tjLoadEmbeddedAds=this.load,window.tjPreloadEmbeddedAds=this.preload,window.tjReloadEmbeddedAdsSpot=this.reload,window.tjDebug=h.debug,this.setDeliveryServer()}canCreate(e){if(e.loading)return!1;if(!this.verifyAttributes(e))return!1;const t=e.spot_id;return!(window.tjPreloadAds&&window.tjPreloadAds[t]&&!window.tjPreloadAds[t].loaded)}}function st(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e){for(let t=0;t<this.length;t++)if(this[t]===e)return!0;return!1}}),window.Map||Object.defineProperty(window,"Map",{value:function(){const e={};this.has=function(t){return void 0!==e[t]},this.get=function(t){return e[t]},this.set=function(t,n){e[t]=n},this.delete=function(t){delete e[t]}}})}rt.ads={};class ot{constructor(){this.embeddedAdsService=new rt}init(){if(window.tjEmbeddedAdsLoaded)return!1;st();try{window.tjEmbeddedAdsLoaded=!0,this.sendLoadedEvent(),this.launch()}catch(e){return g.dispatchError(e),!1}return!0}launch(){this.embeddedAdsService.init(),this.embeddedAdsService.preload(),"loading"!==document.readyState?this.embeddedAdsService.load():document.addEventListener("DOMContentLoaded",(()=>{try{this.embeddedAdsService.load()}catch(e){g.dispatchError(e)}}))}sendLoadedEvent(){let t={};if(void 0!==window.tjEmbeddedAdsDuration){const e=void 0!==window.tjPreloadAds?Object.assign({},window.tjPreloadAds):null;t={duration:Date.now()-window.tjEmbeddedAdsDuration,tjPreloadAds:e}}p.dispatchTjEvent(e.embeddedAdsLoaded,t)}}(new ot).init()}(),i}()}));
</script>

</body>
</html>

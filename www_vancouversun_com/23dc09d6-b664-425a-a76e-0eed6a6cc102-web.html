<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>23dc09d6-b664-425a-a76e-0eed6a6cc102-web.html</title>
</head>
<body>

<script>
/*! @permutive/javascript-sdk v20.23.4 (web) (built 2024-12-02T21:35:32.003Z) */(()=>{"use strict";var __webpack_modules__={2865:(e,t,r)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}r.d(t,{w:()=>n})},3939:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(2275),i=r(9727);function a(e){return(0,n.zG)((0,i.Y3)((()=>JSON.parse(e))),(0,i.fS)(n.gn))}},502:(e,t,r)=>{r.r(t),r.d(t,{CleanRoomAddon:()=>b,load:()=>h});var n=r(1578),i=r(2865),a=r(366),s=r(1385),o=r(2275),c=r(9727),u=r(9246),l=r(2846),d=r(704),f=r(109),p=r(7145);class m{prefix="[clean_room]";api;sessionManager;permutive;logger;clientContext;viewId;async putOrResetUnprocessed(e){return(0,o.zG)(e,c.g_((()=>u.Y3((()=>this.unprocessedPrebidAuctions.reset()),i.w)),(e=>u.Y3((()=>this.unprocessedPrebidAuctions.put(e)),i.w))),u.vx((e=>(this.reportError(`Unprocessed auctions failed to put. Got ${e}`),u.F2((0,o.Q1)())))),(e=>e()))}unprocessedPrebidAuctions;debouncedPutOrResetUnprocessed=this.setupUnprocessedPrebidAuctions();stagedAuctions={};trackableAuctions={};get allAuctions(){return{...this.stagedAuctions,...this.trackableAuctions}}trackAuctionsInterval=null;constructor(e){this.permutive=e.permutive,this.api=e.api,this.logger=e.logger,this.unprocessedPrebidAuctions=e.unprocessedEvents.PrebidAuctions,this.sessionManager=e.sessionManager,this.clientContext=e.clientContext,this.viewId=e.viewId,(0,o.zG)(e.pbjs,l.UI(c.EQ((()=>{this.logInfo("Waiting for PrebidJS to start PrebidAuctions tracking...")}),(e=>this.startPrebidAuctions(e)))))}async startPrebidAuctions(e){await this.trackUnprocessedPrebidAuctions(),this.logDebug("Starting PrebidAuctions tracking",{prebid:e});const t=(0,p.zi)(e),r=e=>0===e.bidsReceived.length&&0===e.noBids.length?null:(0,o.zG)(this.mapToStagedAuctions(e),s.tS((()=>s.Y3((()=>e.bidsReceived.forEach((e=>{var r;("rendered"===(r=e).status||"targetingSet"===r.status)&&this.setBidToWon(t,e)}))),(e=>{const t=`Failed to process auction. Got ${(0,i.w)(e)}`;return this.reportError(t),(0,i.w)(t)})))));e.onEvent("auctionEnd",(e=>{r(e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const n=r=>{const n=(0,d.qh)(r);this.logDebug("Processing setTargeting event",{adUnitCodes:n});const i=s.DT((e=>{let[t,r]=e;return!!t&&!!r.hb_adid}),(()=>new Error("Missing targeting data"))),c=(0,o.ls)(i,s.tS((t=>{let[r,{hb_adid:n}]=t;return(0,o.zG)(e.getAllPrebidWinningBids(),(0,a.Ew)((e=>e.adId===n&&e.adUnitCode===r)),s.Yo((()=>new Error("Prebid winning bid does not exist"))))})),s.UI((e=>{this.setBidToWon(t,e)})));return n.forEach(c)};e.onEvent("setTargeting",(e=>{n(e),this.storeAuctionsAsUnprocessed(this.allAuctions)})),e.onEvent("bidWon",(e=>{this.setBidToWon(t,e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const c=(e,r)=>{this.logDebug("Processing render event",{isRendered:e,props:r}),r.bid&&(e&&this.setBidToRendered(t,r.bid),this.promoteAuctionToTrackable(r.bid),this.storeAuctionsAsUnprocessed(this.allAuctions),this.trackEligibleAuctions())};e.onEvent("adRenderSucceeded",(e=>{c(!0,e)})),e.onEvent("adRenderFailed",(e=>{c(!1,e)})),e.getEvents().forEach((e=>"auctionEnd"===e.eventType?r(e.args):"setTargeting"===e.eventType?n(e.args):"bidWon"===e.eventType?this.setBidToWon(t,e.args):"adRenderSucceeded"===e.eventType?c(!0,e.args):"adRenderFailed"===e.eventType?c(!1,e.args):void 0)),this.storeAuctionsAsUnprocessed(this.allAuctions,{debounced:!1}),(0,d.aT)((async()=>{this.trackAuctionsInterval=null;const e=this.allAuctions;this.stagedAuctions={},this.trackableAuctions={},await this.trackPrebidAuctions(e,{useBeacon:!0}),await this.storeAuctionsAsUnprocessed(null,{debounced:!1})}))}trackUnprocessedPrebidAuctions(){return(0,o.zG)(u.Y3((async()=>(0,o.zG)(await this.unprocessedPrebidAuctions.getIfPresent(),c.g_((()=>this.logDebug("No unprocessed PrebidAuctions found")),(e=>{let{props:t,...r}=e;return this.logDebug("Found unprocessed PrebidAuctions",{props:t,unprocessedData:r}),Promise.all([this.permutive.track("PrebidAuctions",t,{unprocessedData:r}),this.unprocessedPrebidAuctions.reset()])})))),(e=>{const t=`Failed to track unprocessed PrebidAuctions. Got ${(0,i.w)(e)}`;return this.reportError(t),(0,i.w)(t)})),(e=>e()))}setupUnprocessedPrebidAuctions(){const e=new f.b(1e3,2500),t=this.putOrResetUnprocessed.bind(this);return e.schedule(t)}async storeAuctionsAsUnprocessed(e){let{debounced:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.logDebug("Store auctions as unprocessed",{auctionsToStore:e,debounced:t});const r=u.Y3((async()=>{const t=(0,d.qh)(e??{}).map((e=>{let[t,r]=e;return{...r,auction_id:t}})),r=await this.clientContext.getClient();return(0,o.zG)(t,c.DT((e=>e.length>0)),c.UI((e=>({client:r,props:this.makePrebidAuctionProperties({auctions:e}),viewId:this.viewId.get(),sessionId:this.sessionManager.getSessionId()}))))}),i.w);return(0,o.zG)(r,u.EQ((e=>{this.reportError(`Failed to process auctions: ${e}`)}),(e=>{const r=this.debouncedPutOrResetUnprocessed(e);return t?r:Promise.all([this.putOrResetUnprocessed(e),r])})),(e=>e()))}mapBidProperties(e,t){var r;return{ad_id:t.adId,ad_unit_code:t.adUnitCode,advertiser_domains:(0,p.Cg)(t),advertiser_id:(e=>{var t,r;const n=e.rubicon&&"object"==typeof e.rubicon&&"advertiserId"in e.rubicon&&e.rubicon.advertiserId||(null==e||null===(t=e.meta)||void 0===t?void 0:t.buyerId)||(null==e||null===(r=e.meta)||void 0===r?void 0:r.advertiserId);return n?`${n}`:void 0})(t),advertiser_name:(e=>{var t,r,n;const i=(null===(t=e.meta)||void 0===t?void 0:t.clickUrl)||(null===(r=e.adomain)||void 0===r?void 0:r[0])||(null===(n=e.meta)||void 0===n?void 0:n.advertiserName);return i?`${i}`:void 0})(t),bid_available:"string"==typeof t.statusMessage&&t.statusMessage.indexOf("empty")<0,bidder:t.bidder,bidder_timeout:(0,d.rH)(e.bidderTimeout),brand_id:(e=>{var t;const r=null===(t=e.meta)||void 0===t?void 0:t.brandId;return r?`${r}`:void 0})(t),brand_name:(e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.brandName})(t),cpm:(0,p.Qd)(t),creative_id:`${t.creativeId}`,deal_id:(0,p.$7)(t),dsp_id:(0,p.cs)(t),hb_pb:null===(r=t.adserverTargeting)||void 0===r?void 0:r.hb_pb,height:(0,d.rH)(t.height),request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,time_to_respond:t.timeToRespond,width:(0,d.rH)(t.width)}}collectAdUnitCodes(e){const t=new Set;return e.reduce(((e,r)=>{let{adUnitCode:n}=r;return!n||t.has(n)||(t.add(n),e.push({ad_unit_code:n})),e}),[])}mapToStagedAuctions(e){return s.Y3((()=>{const{auctionId:t,bidsReceived:r,noBids:n}=e,i=this.collectAdUnitCodes(r),a=this.collectAdUnitCodes(n);return this.stagedAuctions[t]={bids:i,no_bids:a},this.logDebug("Added auction",this.stagedAuctions[t]),this.stagedAuctions[t]}),(e=>{const t=`Failed to map auction. Got ${(0,i.w)(e)}`;return this.reportError(t),(0,i.w)(t)}))}findAuction(e){return(0,o.zG)(this.getStagedAuction(e.auctionId),s.vx((()=>this.getTrackableAuction(e.auctionId))),s.vx((()=>this.mapToStagedAuctions({auctionId:e.auctionId,bidsReceived:[e],bidderRequests:[],noBids:[]}))))}setBidByOperation(e,t,r){const n=e=>e.hasOwnProperty("ad_id"),c=(r,c)=>{const u=e=>e.ad_id===r.adId,l=e=>e.ad_unit_code===r.adUnitCode,[d,f]=(0,o.zG)(c,(0,a.uK)((e=>n(e)&&u(e)&&l(e))),(e=>[e.left,e.right]));this.logDebug(`Bids for ${t}`,{nonMatching:d,matching:f});const p=(0,o.ls)(s.DT((e=>1===e.length),(()=>new Error("No matching bids"))),s.UI((e=>{let[r]=e;return this.logDebug(`Found bid for ${t}`,{found:r}),{found:r,others:d}}))),m=s.DT((e=>e.length<=1),(()=>new Error("Ad ID is not unique"))),g=(0,o.ls)(p,s.vx((()=>s.Y3((()=>{const i=this.mapBidProperties(e,r),a=d.filter((e=>!(!l(e)||!n(e))||!l(e)));return this.logDebug(`Creating bid for ${t}`,{created:i,others:a}),{found:i,others:a}}),(e=>(0,i.w)(`Failed to create bid. Got ${(0,i.w)(e)}`))))));return(0,o.zG)(f,m,s.tS(g))};return(0,o.ls)((e=>(0,o.zG)(this.findAuction(e),s.tS((n=>(0,o.zG)(c(e,n.bids),s.tS((e=>{let{found:t,others:n}=e;return s.Y3((()=>({updated:r(t),others:n})),i.w)})),s.UI((e=>{let{updated:r,others:i}=e;const a=[r,...i];n.bids=a,this.logDebug(`Bid operation ${t} successful`,r,a)}))))))),s.Vn((e=>{const r=`Failed bid operation ${t}. Got ${(0,i.w)(e)}`;return this.reportError(r),(0,i.w)(r)})))}setBidToWon(e,t){return this.setBidByOperation(e,"setWon",(e=>({...e,winning_bid:!0})))(t)}setBidToRendered(e,t){return this.setBidByOperation(e,"setRendered",(e=>({...e,winning_bid:!0,is_rendered:!0,rendered_timestamp:(new Date).getTime()})))(t)}promoteAuctionToTrackable(e){let{auctionId:t}=e;const r=this.stagedAuctions[t];if(r){if(this.trackableAuctions[t])return this.logError("Auction is already promoted to trackable",{auction:this.trackableAuctions[t]});this.trackableAuctions[t]=r,delete this.stagedAuctions[t],this.logDebug("Auction promoted to trackable",{auctionId:t,trackableAuctions:this.trackableAuctions})}}trackEligibleAuctions(){if(this.trackAuctionsInterval)return;this.trackAuctionsInterval=(0,d.PQ)((async()=>{if(!this.trackAuctionsInterval)return;this.trackAuctionsInterval=null;const e=this.trackableAuctions;this.trackableAuctions={},await this.trackPrebidAuctions(e),await this.storeAuctionsAsUnprocessed(this.stagedAuctions,{debounced:!1})}),{timeout:5e3})}async trackPrebidAuctions(e,t){const r=(0,d.qh)(e).map((e=>{let[t,r]=e;return{...r,auction_id:t}}));r.length&&(await this.permutive.track("PrebidAuctions",this.makePrebidAuctionProperties({auctions:r}),t),this.logDebug("Tracked auctions",{auctions:r}))}makePrebidAuctionProperties(e){return{aggregations:e,isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"}}getStagedAuction(e){return(0,o.zG)(this.stagedAuctions[e],s.DT(Boolean,(()=>new Error("Staged auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}getTrackableAuction(e){return(0,o.zG)(this.trackableAuctions[e],s.DT(Boolean,(()=>new Error("Trackable auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}reportError(e){return this.api.reportError(`${this.prefix} ${e}`)}logInfo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(this.prefix,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}const g="clean_room",h=e=>{(0,n.Hn)(g)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[g,{}]})};class b extends m{}},7205:(e,t,r)=>{r.r(t),r.d(t,{SspAddon:()=>L,filterCohortsUsedInTargeting:()=>B,load:()=>j,realService:()=>A,sspService:()=>O,stubService:()=>M});var n=r(2846),i=r(1578),a=r(2275),s=r(1583),o=r(3593),c=r(2925),u=r(7560),l=(r(1890),r(1385)),d=r(1717),f=(r(9172),r(1586));const p=e=>[e,d.of(e)],m=f.li,g=f.Yg,h=e=>p(l.F2(e));var b=r(9727);const v="RefEventual",_=e=>t=>n.vP((0,a.zG)(t,n.UI(m),n.UI(e)),(0,a.zG)(t,n.UI(g),n.UI(d.UI(e)))),y=e=>t=>n.vP((0,a.zG)(n.vP((0,a.zG)(e,n.UI(m)),(0,a.zG)(t,n.UI(m))),n.UI((e=>{let[t,r]=e;return r(t)}))),(0,a.zG)(n.vP((0,a.zG)(e,n.UI(g)),(0,a.zG)(t,n.UI(g))),n.UI((e=>{let[t,r]=e;return d.ap(t)(r)})))),w=n.UI(m),k={URI:v,map:(e,t)=>_(t)(e)},S={URI:v,map:k.map,ap:(e,t)=>y(t)(e)},I="RefEventualEither",E=e=>n.a9(h(e)),P=u.UI(k,l.dO),x=c.ap(S,l.G5),G=e=>(e=>t=>{const r=t();return(0,a.zG)(n.fF((()=>r)),n.UI(b.fS((()=>e))),n.UI((e=>(0,a.bc)(e,(()=>r)))))})(l.F2(e)),z={URI:I,map:(e,t)=>P(t)(e)},U={URI:I,map:z.map,ap:(e,t)=>x(t)(e)};r(817);var D=r(704);const C=(e,t)=>r=>({all:(0,a.zG)(r,P(e)),byAdServer:(0,D.mQ)((0,a.ls)(t,b.UI((e=>(0,a.zG)(r,P(e))))))});var q=r(9246),T=r(7029);const O=A;function M(e,t,r,i,a){return o.of({cohorts:b.YP,externalData:{[F]:n.a9(b.YP)}})}function A(e,t,r,u,l){const d=(0,i.Hn)(R),f=d("ssps",s.cS),p=d("all_cohort_mapping",{}),m=f.includes("google_pps"),g=d("affinity_enabled",!1);return(0,a.zG)(l.consent,o.KD([[e=>!e,o.of(E(b.YP))],o.K4((i=>{let{stopped:o}=i;u.debug("[ssp] Addon started, affinity enabled: ",g);const d=(0,a.zG)(l.cohorts,P((0,a.ls)(s.hX((e=>e in p)),s.tS((e=>p[e]))))),f=(0,a.zG)(n.vP(l.url,o),n.UI((e=>{let[t,r]=e;return(0,a.zG)(t,b.hX((()=>g&&!r)))})),n.UI(b.UI((r=>q.Y3((()=>e.req({method:"GET",url:t.getEndpointUrl("/standard-audiences/v1/affinity",b.YP,[["url",r]]),withCredentials:!1,dataType:"json"})),String)))),n.UI(b.UI(q.Vn((0,D.bw)((e=>r(`Failed to fetch affinity cohorts: ${e}`)))))),n.UI(b.UI(q.UI((e=>e.affinity_values)))),n.UI(b.fS((()=>q.of(s.bM())))),n.VS(G(s.bM())));return(0,a.zG)((0,c.gz)(U)(d,f),P(s.xH),P((e=>[...new Set(e)])),P(b.G))}))]),o.UI(n.xH),o.UI((e=>({cohorts:(0,a.zG)(e,P(b.fS((()=>s.bM()))),C((e=>e),(e=>"dfp"===e.id&&m?b.G(B):b.YP)),b.G),externalData:{[F]:(0,a.zG)(w(e),n.UI(b.Uo),n.UI(b.xH),n.UI(b.UI(B)),n.D8(b.Eh(s.Eh(T.Eq))),n.UI(b.UI((e=>({ssps:f,cohorts:e})))))}}))))}const B=e=>[...new Set(e.map((e=>e.replace(/-ac$/,"").replace(/-aw$/,"").replace(/-c$/,""))))],R="ssp",j=e=>{(0,i.Hn)(R)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[R,{}]})};class L{constructor(e){}}const F="_pssps"},9172:(e,t,r)=>{r.d(t,{GL:()=>o,HJ:()=>c,N1:()=>l,NC:()=>n,RP:()=>i,SF:()=>d,UM:()=>u,ho:()=>p,iE:()=>f});const n=performance.now(),i=(new Date).getTime();let a=[],s=!1;const o=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return c((()=>e(...r)))},c=(e,t)=>{if(!s){const r=self.setTimeout(e,t);return()=>self.clearTimeout(r)}let r;const n=()=>{void 0!==r&&s&&a.length<1e4&&a.push([r,performance.now()]),r=void 0},i=[self.setTimeout((()=>{r=performance.now(),self.requestAnimationFrame(n),e()}),t),self.setTimeout(n,t)];return()=>{void 0===r&&i.forEach((e=>self.clearTimeout(e)))}},u=(e,t)=>{if(!s){const r=self.setInterval(e,t);return()=>self.clearInterval(r)}let r=!1,n=()=>{};const i=self.setInterval((()=>{n=c((()=>{r||e()}))}),t);return()=>{r=!0,n(),self.clearInterval(i)}},l=e=>()=>{return t=e(),new Promise(((e,r)=>t.then(o(e),o(r))));var t},d=e=>{const t=l(e);return()=>new Promise((e=>c((()=>e(t())))))},f=()=>{const e=a;return a=[],e},p=e=>{s=e}},2846:(e,t,r)=>{r.d(t,{ap:()=>y,a9:()=>b,Ue:()=>m,gS:()=>g,D8:()=>z,VS:()=>w,xH:()=>k,En:()=>h,p4:()=>G,fF:()=>P,UI:()=>_,Rp:()=>S,vP:()=>I,bw:()=>U,yY:()=>x,YP:()=>v});var n=r(2865),i=r(1385),a=r(2275),s=r(9727),o=r(1583),c=r(704);function u(e){let t=e,r=[],n=!1;return{addListener(e){if(n)return()=>{};let i=t;const a=()=>{Object.is(t,i)||(i=t,e(t))};r=[...r,a];return()=>{r=r.filter((e=>e!==a))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,r.forEach((e=>e())))},terminate(){n=!0,r=[]}}}function l(e,t){let r=0;return function(){try{if(r++>0)throw new Error(e);return t(...arguments)}finally{r--}}}function d(e,t){let r=[...new Set(e)].filter((e=>"final"!==e.state));if(0===r.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===r.length?"final":r.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,a]=f(n(),(e=>"might_change"!==e&&t())),s=()=>a(n());return r.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":r=e.filter((e=>"final"!==e.state)),s();break;case"might_change":a("might_change");break;case"nominal":s();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:r,notify:n,addListener:i}=u(e),a={state:e,onStateChange:i},s=l("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),a.state=e,n(e)}finally{"final"===e&&r()}}));return[a,s]}var p=r(2444);function m(e){const[t,r,n]=function(){const[e,t]=f("nominal"),r=l("Disallowed recursion in Branch.",(r=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),r()}finally{t(n)}}));return[e,r,()=>t("final")]}(),[i,a]=D(t,e);return[i,e=>r((()=>a(e))),n]}function g(e){let t=e.empty;const r=()=>()=>{const r=t;return t=e.empty,r},[n,i,a]=m(r());return[n,n=>{t=e.concat(t,n),i(r())},a]}function h(e,t){return r=>{let n=new Array(e).fill(t.empty);return new Array(e).fill(null).map(((e,i)=>(0,a.zG)(r,_(p.UI((e=>{const r=t.concat(n[i],e);return n=n.map(((r,n)=>n===i?t.empty:t.concat(r,e))),r}))))))}}function b(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function v(e){return t=>{const r=t.onChange(e);return e(t.current),r}}function _(e,t){if(t){const[r,n]=D(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),r}return t=>_(e,t)}const y=e=>w((t=>_(t)(e)));function w(e,t){return t?k(_(e,t)):t=>k(_(e,t))}function k(e){if("final"===e.branch.state)return e.current;const[t,r]=function(e,t){let r=t;const n=[e.state,r.state].includes("might_change")?"might_change":"nominal",[i,a]=f(n),s=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(s((()=>r)));const o=s((()=>e));let c=r.onStateChange(o);return[i,e=>{r=e,c(),c=e.onStateChange(o),o(r.state)}]}(e.branch,e.current.branch),[n,i]=D(t,e.current.current);let a=e.current.onChange(i);return e.onChange((e=>{a(),a=e.onChange(i),r(e.branch),i(e.current)})),n}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{if(2===t.length){let r=t[0];return _((e=>(r=t[1](r,e),r)),e)}let r=s.bM();return _((e=>{const n=t[0](r,e);return r=s.G(n),n}),e)}}function I(){if(0===arguments.length||C(arguments.length<=0?void 0:arguments[0]))return E(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>E(...e)),_((0,a.ls)(o.Su(((e,r)=>[t[e],r])),Object.fromEntries)))}function E(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return b([]);if(1===t.length)return _((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const i=t.map((0,c.vg)("branch")),a=()=>{n&&(n=!1,u(t.map((e=>e.current))))},s=d(i,a),[o,u]=D(s,t.map((e=>e.current)));return o}function P(e){const[t,r,n]=m(s.YP);return e().then((0,a.ls)(s.G,r,n)),t}const x=e=>()=>s.pC(e.current)?Promise.resolve(e.current.value):new Promise((t=>{const r=(0,a.zG)(e,v(s.UI((e=>{r(),t(e)}))))}));function G(e){const[t,r,o]=m(s.YP);return e.then(i.F2).catch((0,a.ls)(n.w,i.t$)).then((0,a.ls)(s.G,r,o)),t}function z(e){const t=e.hasOwnProperty("equals")?e.equals:e;return function(e){return t=>{if("final"===t.branch.state)return t;let r=s.YP;return _((t=>{if(s.Wi(r))return r=s.G(t),t;const n=e(r.value,t);return r=s.G(n),n}),t)}}(((e,r)=>t(e,r)?e:r))}function U(e){return t=>(v(e)(t),t)}function D(e,t){if("final"===e.state)return[b(t),()=>{}];const r=u(t);e.onStateChange((e=>{"final"===e&&r.terminate()}));let n=t;return[{get current(){return n},onChange:r.addListener,branch:e},l("Disallowed recursion in Ref.",(e=>{n=e,r.notify(n)}))]}function C(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},3593:(e,t,r)=>{r.d(t,{K4:()=>c,KD:()=>g,UI:()=>d,ak:()=>m,bw:()=>f,dQ:()=>u,of:()=>l,vP:()=>p});var n=r(2846),i=r(2275),a=r(704),s=r(7054),o=r(9727);const c=e=>(0,i.ls)((t=>{let{previousState:r,...n}=t;return e(n)}),(e=>({value:e,state:n.a9(void 0)}))),u=i.yR,l=(0,i.ls)(i.a9,c),d=e=>t=>(0,i.ls)(t,(0,a.rO)({value:e})),f=e=>t=>(0,i.ls)(t,(0,a.rO)({value:(0,a.bw)(e)}));function p(e){return t=>{let{previousState:r,...a}=t;const o=v(r)?r:{},c=(0,i.zG)(e,s.Su(((e,t)=>t({previousState:o[e],...a}))));return{value:(0,i.zG)(c,s.UI((e=>e.value))),state:(0,i.zG)(c,s.UI((e=>e.state)),(e=>n.vP(e)))}}}function m(e,t){return r=>(0,i.ls)((0,a.rO)({previousState:b}),(a=>{const s=r(a),o=t(s.value)({...a,previousState:a.previousState[e]});return{value:(0,i.zG)([s.value,o.value],(t=>{let[r,n]=t;if(!v(r))throw new Error("Service.bind() was passed an upstream Service with a non-record value.");return{...r,[e]:n}})),state:(0,i.zG)(n.vP(s.state,o.state),n.UI((t=>{let[r,n]=t;if(void 0===r)return{[e]:n};if(!v(r))throw new Error("Service.bind() was passed an upstream Service with a non-record state.");return{...r,[e]:n}})))}}))}const g=e=>{const t=e.slice(0,-1),r=e.slice(-1)[0],s=[...t.map((e=>{let[t,r]=e;return[t,(0,i.a9)(r)]})),(0,i.a9)(r)];return o=(0,a.lo)(s),(0,i.ls)(n.UI(o),h);var o};function h(e){const t=(0,i.zG)(e,n.Rp(0,(e=>e+1)));return r=>{let{previousState:a,stopped:s,...c}=r;return(0,i.zG)(n.vP(e,t),n.Rp(((e,r)=>{let[u,l]=r;return(0,i.zG)(e,o.UI((e=>e.state.current)),o.fS((()=>a)),(e=>u({previousState:e,stopped:(0,i.zG)(n.vP(s,t),n.UI((e=>{let[t,r]=e;return t||r!==l}))),...c})))})),(e=>({value:n.UI((e=>e.value),e),state:n.VS((e=>e.state),e)})))}}function b(e){return v(e)?e:{}}function v(e){return"object"==typeof e&&null!==e}},4672:(e,t,r)=>{r(7124)},4393:(e,t,r)=>{r.d(t,{lg:()=>h,Bt:()=>v});var n=r(366),i=r(2275),a=r(9727),s=r(7029),o=r(704);class c{userId;network;api;logger;constructor(e,t,r,n){this.userId=e,this.network=t,this.api=r,this.logger=n}tag="appnexus";ttlInSeconds=86400;usedForThirdPartyData=!0;url="https://ib.adnxs.com/getuidj";invalidAliases=["","0","-1"];getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,o.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,i.zG)((0,a.DT)((e=>this.isValidAlias(e.uid)))(e),(0,a.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:a.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class u{config;network;api;userId;logger;url;resetUrl;constructor(e,t,r,n,i){this.config=e,this.network=t,this.api=r,this.userId=n,this.logger=i,this.url=`https://23dc09d6-b664-425a-a76e-0eed6a6cc102.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}tag="pxid";ttlInSeconds=86400;usedForThirdPartyData=!1;getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,o.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,a.ij)(e.uid)})),(e=>({type:"attempted",result:a.YP})))}reset(){return(0,o.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}class l{cookies;constructor(e){this.cookies=e}tag="sailthru";ttlInSeconds=0;usedForThirdPartyData=!1;getId(){return Promise.resolve({type:"attempted",result:(0,a.ij)(this.cookies.getCookie("sailthru_hid",!0))})}reset(){return Promise.resolve()}}var d=r(2846),f=r(7054),p=r(3940),m=r(1385);const g=p.ff((e=>void 0===e));class h{metrics;trace;permutiveData;identityProviderEnv;logger;ref;setReady;thirdParty;rawRef;identityMapRef;setIdentityMap;providers={};static emailSHA256Regex=/^[a-f0-9]{64}$/;constructor(e,t,r,n,c){this.metrics=e,this.trace=t,this.permutiveData=r,this.identityProviderEnv=n,this.logger=c;const u=this.getCachedIdentitiesAndMigrateIfRequired(),[l,p]=d.Ue(u);this.identityMapRef=l,this.setIdentityMap=p,l.onChange((0,i.ls)(f.z7((e=>!b.has(e))),(0,o.bw)((e=>{this.logger.debug("[identities] Persisting",e),this.permutiveData.setData("identities",e)})))),this.rawRef=(0,i.zG)(l,d.UI((0,i.ls)(f.UI((e=>e.value)),f.hX(g))),d.D8(f.Eh(s.Eq)));const[m,h]=d.Ue(!1);this.ref=(0,i.zG)(d.vP(m,this.rawRef),d.UI((e=>{let[t,r]=e;return(0,i.zG)(r,(0,a.DT)((()=>t)))}))),this.setReady=()=>{e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"identity_ready",time_origin:"sdk_init"}),h(!0)},this.thirdParty=this.prepareThirdPartyIdentities()}get identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),r=[{load:e=>{return t=e.config,r=e.network,n=e.api,i=e.userId,s=e.logger,(0,a.G)(new u(t,r,n,i,s));var t,r,n,i,s}},{load:e=>{return t=e.userId,r=e.network,n=e.api,i=e.logger,(0,a.G)(new c(t,r,n,i));var t,r,n,i}},{load:e=>(e.cookies,e.messages,a.YP)},{load:e=>{return t=e.cookies,(0,a.G)(new l(t));var t}},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,a.YP)}],s=(0,n.oA)(r.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,i.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(s).then((e=>e.map((e=>{let[t,r]=e;return this.providers[t.tag]=t,this.mapTPDIdentityIfPresent(t.tag,r,t.ttlInSeconds)})))).then((e=>this.setIdentities(e))).then((0,o.bw)((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()})))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},r=Object.entries(e).map((e=>{let[t,{id:r,expiry:n,priority:i}]=e;return{tag:t,...r?{id:r}:{},...n?{expiry:n}:{},...void 0!==i?{priority:i}:{}}})),i=r.filter((e=>((e,t)=>!!e.id&&!(0,n.t9)(s.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),o=r.filter((e=>((e,t)=>!!e.id&&!!(0,n.t9)(s.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),c=(0,n.DZ)((e=>(0,a.ij)(e.priority)))(i),u=c.length>0?Math.max(...c):0,l=i.map((e=>void 0!==e.priority?{...e,priority:e.priority}:{...e,priority:u+1})),d=o.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+_}:{tag:e.tag,id:e.id,priority:u+y}));return l.concat(d)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,r=e=>"string"==typeof e.id&&"string"==typeof e.tag,a=e=>"email_sha256"!==e.tag||h.emailSHA256Regex.test(e.id);return"string"==typeof e?(o=e).length>0?{left:[],right:[{id:o,tag:"default"}]}:{left:[t],right:[]}:Array.isArray(e)?(s=e,(0,i.zG)(s,n.tV((0,i.ls)(m.DT(r,(()=>t)),m.Y$(a,(()=>"Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")))))):{left:[t],right:[]};var s,o}extractIdentifyFromQueue(e){let{global:t}=e;const r=()=>t.q.findIndex((e=>"identify"===e.functionName)),n=(e,i)=>{if(e<0)return i;const a=t.q.splice(e,1)[0],s=this.parseCustomerDefinedIdentities(a.arguments[0]);return n(r(),{left:i.left.concat(s.left),right:i.right.concat(s.right)})},{left:i,right:a}=n(r(),{left:[],right:[]});return i.forEach((e=>this.logger.warn("Invalid identity provided during init",e))),a}setIdentities(e){const t=e.reduce(((e,t)=>{let{tag:r,id:n,expiry:i,priority:a}=t;return void 0===this.identities[r]&&this.logger.debug(`identities[${r}]: added`),e[r]={...n?{value:n}:{},...i?{expiry:i}:{},...void 0!==a?{priority:a}:{}},e}),{}),r=this.rawRef.current;this.setIdentityMap({...this.identities,...t});const n=this.rawRef.current;return{identifyRequestRequired:()=>!f.xb(n)&&!f.Eh(s.Eq).equals(r,n)}}async reset(){this.setIdentityMap({}),await Promise.all(Object.values(this.providers).map((e=>e.reset())))}getFilteredIdentities(e){return(0,o.m8)(...Object.entries(this.identities).filter((t=>{let[r,n]=t;return e(r,n)})).map((e=>{let[t,{value:r,expiry:n,priority:a}]=e;return(0,i.bc)(t,{id:r,...n?{expiry:n}:{},...void 0!==a?{priority:a}:{}})})))}shouldAskForNewIdentity(e){var t;const r=(0,a.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,a.g_)((()=>!0),this.isIdentityExpired)(r)}getCachedTPDIdentity(e){return this.identities[e]?(0,a.ij)(this.identities[e].value):a.YP}mapTPDIdentityIfPresent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const n=()=>Date.now()+Math.floor(1e3*r);return(0,a.g_)((()=>({tag:e,expiry:n()})),(t=>({tag:e,id:t,expiry:n()})))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,i.bc)(e,a.YP):(0,i.zG)(t.result,(t=>this.metrics.track({name:(0,a.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(r=>(0,i.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,o.m8)(...Object.entries(e).filter((e=>{let[t,r]=e;return!this.isIdentityExpired(r)&&!b.has(t)}))))(this.permutiveData.getData("identities")||{})}}const b=new Set(["public","email","email_md5","email_sha256","ip_address"]),v=(e,t,r,i,a)=>{const o=(e,t)=>{const r=["(null)"];return r.indexOf(e)>-1||!!k[e]||(0,n.jV)(s.Eq)(t,r).length>0},c=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":o,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,r)=>["thestudentroom.co.uk"].some((e=>r.indexOf(e)>-1))&&(0,n.jV)(s.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":o,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":c,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":c,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},l={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!w[e]},d=u[e]||l[t];return!!d&&d(a,r,i)},_=2,y=3,w={},k={}},7771:(e,t,r)=>{r.d(t,{z:()=>n});class n{ingestIfEligible(e){return Promise.resolve()}}},3250:(e,t,r)=>{r.d(t,{u6:()=>a});var n=r(3593);r(2846),r(704);const i={prebid:{onReady:()=>({})}},a=e=>n.of(i)},2210:(e,t,r)=>{r.d(t,{CL:()=>o,EW:()=>c,PH:()=>s,eV:()=>i,jH:()=>u,t2:()=>a});var n=r(1578);const i=(0,n.MU)("track_form_submission",!0),a=((0,n.MU)("track_pageview_complete",!0),(0,n.MU)("track_pageview_engagement",!0)),s=((0,n.$S)("sync_segments_cookie",!1),(0,n.$S)("track_slot_clicked",!0)),o=(0,n.$S)("track_slot_rendered",!0),c=(0,n.$S)("track_slot_viewable",!1),u=(0,n.$S)("track_targeting_keys",!1)},7149:(e,t,r)=>{r.d(t,{v:()=>s});class n{logger;permutive;id;segmentCode;triggerType;config;workspaceLevelConfig;prefix="[Activation]";constructor(e,t,r,n,i,a,s){this.logger=e,this.permutive=t,this.id=r,this.segmentCode=n,this.triggerType=i,this.config=a,this.workspaceLevelConfig=s}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const r={reaction_id:this.id,type:e};this.permutive.track("Reaction",r,t),this.logger.log(this.prefix,r.type,r)}}var i=r(1578);const a={dfp:{dfp:[105553,106086,106669,122231,116596,106683,127861,170773,106259,154473,106690,106246,106057,113096,135736,106979,106925,133541,106072,105833,106769,106444,106755,116594,145932,116417,136211,115269,135824,109232,109565,105825,106684,113092,106408,105550,106258,106449,110603,107063,124045,106754,106657,123556,106949,113089,105547,106791,107348,106940,106956,105982,109188,109290,107342,107041,105826,106069,103315,109543,105692,106757,106924,106887,106893,116612,113094,106074,106257,106075,103444,135497,107220,114815,114685,105690,107311,107329,121835,107198,147062,130926,105538,107316,114835,107221,106894,136907,106062,153570,136598,106785,147063,106055,105536,106245,116592,127860,106772,122111,114820,113290,106891,120908,123553,106787,121598,113095,106788,103316,105543,155876,106411,106652,107351,107328,103314,107330,154089,106923,109289,107184,106253,106685,107233,96400,116615,106753,149705,109229,107353,122065,106039,121599,115302,105541,105827,109057,107199,107317,107343,107312,116165,106759,114684,106691,113785,116414,110514,116162,175679,107320,105829,127864,113097,106792,103579,105542,106261,107352,117115,106056,114087,107346,109287,106365,106031,130317,123557,123552,117045,105689,115296,120698,106437,122234,141894,106950,107188,111797,105544,130318,117735,106660,106073,105620,107038,105688,106688,114817,120702,105539,107231,111793,107341,106664,155110,117065,114686,114825,106889,122208,107354,105835,106027,115476,106445,106255,105759,123551,107484,107359,107192,127862,116595,106790,106770,106948,106070,127249,135956,127865,126030,114824,122240,144200,106786,120700,106784,139887,109489,109566,106663,107189,107321,106843,107195,110515,106421,105549,114827,104503,130316,107043,107218,106423,123550,105758,167876,107187,106953,106890,106758,106966,114444,106939,111761,122229,109230,120699,116161,106771,141981,106677,106041,116608,127832,105537,114736,103329,106083,116593,116164,105755,106653,106256,106945,106689,144071,106093,106954,105693,105548,158599,107318,105540,162741,106418,107360,147061,106842,146539,101404,147415,128625,106686,113093,106844,127863,165787,105691,106088,106888,116419,111792,106789,111796,106087,106662,139866,133555,107350,136087,109493,122241,176015,176014,176245,176689,176695,179637,180069,138311,180313,180314,175332,180694,183159,178104,183389,177155,177154,177157,177156,177152,177151,177149,177150,183984,184137,184144,185537,185449,187748,187749,178017,188322,187642,188427,188906,188792,189628,189970,180312,185183,190299,190301,190302,190303,190304,190305,190306,191764,193102,183356,193365,193914,180315,193324,193323,193322,193321,193320,193319,193318,193317,193316,193315,193314,193312,193311,193306,193301,193296,193293,193292,193288,193265,193262,193261,193253,193236,193309,193307,193305,193302,193299,193295,193291,193266,193264,193263,193255,193250,193229,193308,193304,193303,193300,193297,193294,193290,193289,193268,193260,193256,193254,193252,193235,193232,193231,193298,193269,193267,193251,193237,193234,193233,187750,192300,164139,102267,100738,108995,190574,190463,190575,202799,203015,203017,202683,202680,202172,202173,202174,196414,192499,192498,192496,192495,192493,192490,192501,192504,192510,198302,198300,192487,192485,187985,187631,186850,184138,192486,185926,184145,203030,204784,206683,207771,207772,209485,208319,210231,210230,211541,211540,210686],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:376},appnexus:{},appnexus_adserver:[],nativo:[],rubicon_ssp:[106940,106771,106925,106923,106924,116165,106949,109493,114686,106365,109543,106784,120702,106652,128625,116595,114444,106683,106890,105691,105544,116596,105693,122065,105690,122234,106758,106246,105542,114736,106418,136087,106686,114827,122111,105755,106689,123557,105540,105759,105689,106889,105833,124045,106253,106966,106786,106408,113290,106772,106759,123551,114685,105549,105539,105620,105825,105541,130318,116594,106979,114835,106792,106844,106945,117115,107038,106790,106843,105827,106954,106893,116162,123552,105538,106887,116164,109489,105829,107043,106785,106754,106684,106891,106755,120908,130316,106258,114815,105536,114825,105826,105553,136211,114820,103329,106245,106411,106757,122229,106041,106027,105550,105547,116592,105688,123553,123556,106789,106691,116593,106956,115302,106075,105835,114824,127865,106685,105543,106256,106257,106690,106842,115269,109057,103579,106031,122208,106787,105982,106939,106255,106259,106444,114817,106770,105537,106791,122231,106039,106950,106948,117735,101404,126030,105758,105548,106888,106261,106788,116608,116615,130926,106769,116612,121598,105692,114684,116161,104503,107041,123550,106688,106953,106894],smart:[],freewheel:[]};class s{logger;permutive;clientContext;constructor(e,t,r){this.logger=e,this.permutive=t,this.clientContext=r}getSpecializedActivations(e){return a[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,r=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(r):n.criteria.some(r));var n}}},1578:(e,t,r)=>{r.d(t,{$S:()=>s,Hn:()=>i,MU:()=>a});const n={standard_cohorts:{auto_init:!0,activationConfigs:[]},piano:{auto_init:!1,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"14648",activationConfigs:[]},clean_room:{auto_init:!0,pass_cohorts_to_prebid:!0,cohort_ssp_config:[["brrj",["6290526429"]],["brrv",["6298504545"]],["bsjf",["6355154340"]],["bsjr",["6361244531"]],["bvdp",["6355154341"]],["byfg",["6747335178"]],["byjx",["6763023755"]]],activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["google_pps"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},all_cohort_mapping:{1e7:["bgyz"],10000001:["bhgp"],10000002:["bhhc"],10000003:["bhhg"],10000004:["bhhk"],10000005:["bhhp"],10000006:["bhhv"],10000007:["bhhy"],10000008:["bhie"],10000010:["bhis"],10000011:["bhiz"],10000012:["bhji"],10000013:["bhjq"],10000014:["bhka"],10000015:["bhkl"],10000016:["bhkr"],10000017:["bhky"],10000018:["bhlg"],10000019:["bhli"],10000020:["bhlo"],10000021:["bhlp"],10000022:["bhnd"],10000023:["bhnl"],10000024:["bhnp"],10000025:["bhnw"],10000026:["bhoj"],10000035:["bgzb"],10000036:["bhgq"],10000037:["bhgs"],10000038:["bhgw"],10000039:["bhgy"],10000040:["bhgz"],10000041:["bhhe"],10000042:["bhhh"],10000043:["bhhw"],10000044:["bhhx"],10000045:["bhhz"],10000046:["bhia"],10000047:["bhif"],10000048:["bhig"],10000049:["bhii"],10000050:["bhij"],10000051:["bhik"],10000052:["bhim"],10000053:["bhip"],10000054:["bhit"],10000055:["bhiu"],10000056:["bhiv"],10000057:["bhiy"],10000058:["bhjm"],10000059:["bhjr"],10000060:["bhjs"],10000061:["bhjw"],10000062:["bhjx"],10000063:["bhkm"],10000064:["bhir"],10000065:["bhko"],10000066:["bhkp"],10000067:["bhkq"],10000068:["bhkz"],10000069:["bhla"],10000070:["bhlb"],10000071:["bhle"],10000072:["bhlf"],10000073:["bhlq"],10000074:["bhlt"],10000075:["bhlu"],10000076:["bhlw"],10000077:["bhlx"],10000078:["bhly"],10000079:["bhmb"],10000080:["bhmi"],10000081:["bhmj"],10000082:["bhml"],10000083:["bhmp"],10000084:["bhmr"],10000085:["bhmw"],10000086:["bhmz"],10000087:["bhne"],10000088:["bhnf"],10000089:["bhni"],10000090:["bhnn"],10000324:["bhhj"],10000325:["bhhi"],10000327:["bhku"],10000328:["bhkt"],10000329:["bhkw"],10000330:["bhkv"],10000687:["bgzc"],10000688:["bgza"],10000689:["bhha"],10000690:["bhgt"],10000691:["bhgx"],10000692:["bhgv"],10000693:["bhgr"],10000694:["bhgu"],10000695:["bhhb"],10000696:["bhhd"],10000697:["bhhf"],10000698:["bhhl"],10000699:["bhho"],10000700:["bhhm"],10000701:["bhhn"],10000702:["bhhq"],10000703:["bhht"],10000704:["bhhu"],10000705:["bhhs"],10000706:["bhhr"],10000707:["bhib"],10000708:["bhid"],10000709:["bhic"],10000710:["bhio"],10000711:["bhin"],10000712:["bhil"],10000713:["bhiq"],10000714:["bhih"],10000715:["bhiw"],10000716:["bhix"],10000717:["bhja"],10000718:["bhjc"],10000719:["bhjd"],10000720:["bhje"],10000721:["bhjf"],10000722:["bhjb"],10000723:["bhjg"],10000724:["bhjh"],10000725:["bhjo"],10000726:["bhjk"],10000727:["bhjn"],10000728:["bhjj"],10000729:["bhjl"],10000730:["bhjy"],10000731:["bhju"],10000732:["bhjv"],10000733:["bhjz"],10000734:["bhjt"],10000735:["bhkj"],10000736:["bhkk"],10000737:["bhki"],10000738:["bhkd"],10000739:["bhkc"],10000740:["bhkf"],10000741:["bhkh"],10000742:["bhkb"],10000743:["bhkg"],10000744:["bhke"],10000745:["bhjp"],10000746:["bhkn"],10000747:["bhkx"],10000748:["bhks"],10000749:["bhld"],10000750:["bhlc"],10000751:["bhlh"],10000752:["bhlk"],10000753:["bhlj"],10000754:["bhll"],10000755:["bhlm"],10000756:["bhlv"],10000757:["bhna"],10000758:["bhmv"],10000759:["bhmt"],10000760:["bhmy"],10000761:["bhmc"],10000762:["bhmo"],10000763:["bhls"],10000764:["bhmq"],10000765:["bhme"],10000766:["bhmh"],10000767:["bhlz"],10000768:["bhlr"],10000769:["bhnb"],10000770:["bhmk"],10000771:["bhmu"],10000772:["bhmx"],10000773:["bhmg"],10000774:["bhmd"],10000775:["bhmf"],10000776:["bhnc"],10000777:["bhmn"],10000778:["bhmm"],10000779:["bhma"],10000780:["bhms"],10000781:["bhng"],10000782:["bhnj"],10000783:["bhnh"],10000784:["bhnk"],10000785:["bhno"],10000786:["bhnm"],10000787:["bhnu"],10000788:["bhnv"],10000789:["bhns"],10000790:["bhnt"],10000791:["bhnq"],10000792:["bhnr"],10000793:["bhob"],10000794:["bhny"],10000795:["bhod"],10000796:["bhoh"],10000797:["bhog"],10000798:["bhnz"],10000799:["bhoa"],10000800:["bhoe"],10000801:["bhnx"],10000802:["bhoc"],10000803:["bhof"]},affinity_enabled:!1,activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"06c543a3-9619-454e-ba1a-5e4a81e9c48b",tt:"EveryTime",sc:103314,c:{},wc:{}},{id:"ec74d141-705e-4eeb-bca7-34a5f91b1cb9",tt:"EveryTime",sc:103316,c:{},wc:{}}]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:290940,product_type:"INVITE_PARTNER",activationConfigs:[]},prebid:{auto_init:!0,revenue_insights_enabled:!0,data_provider_config:{ac_bidders:[]},activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!1,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},google_pps__curation_platform:{auto_init:!0,activation_method:"prebid",ssp_code:"google_pps",type:"curation_platform",activationConfigs:[]},sailthru:{auto_init:!1,activationConfigs:[{id:"5beba47f-07e2-43d2-8e8b-5bad71adfa29",tt:"EveryTime",sc:103315,c:{},wc:{}},{id:"f4135e16-2484-445f-b279-1de09f3baf5e",tt:"EveryTime",sc:103314,c:{},wc:{}}]}},i=e=>{const t=n[e];return(e,r)=>(null==t?void 0:t[e])??r},a=i("web"),s=i("dfp");i("facebook_pixel_v2")},5297:(e,t,r)=>{r.d(t,{z:()=>a,k:()=>s});var n=r(6924);class i{context;constructor(e){this.context=e}getContext(){return this.context}updateContext(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((e=>{let[t,r]=e;this.context[t]=r}))}}class a extends i{constructor(e){super(e)}getClient(){return Promise.resolve(s())}}const s=()=>{const e="PermutiveWebSDK/v20.23.4";return{type:"web",user_agent:navigator.userAgent?`${navigator.userAgent} ${e}`:e,url:(0,n.bk)(window.location.href),domain:window.location.hostname||"",title:document.title,referrer:(0,n.bk)(document.referrer)}}},2871:(e,t,r)=>{r.d(t,{J:()=>c});var n=r(2275),i=r(9727),a=r(1849);const s=e=>t=>class extends t{key=e;put(e){return this.db.then((t=>t.put(e,this.key))).then(n.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(i.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},o=e=>(0,n.zG)(class{db;constructor(e){this.db=Promise.resolve((0,a.E)(e.namespace,e.logger,e.consent))}},s(e));class c extends(o("permutive-unprocessed-pba")){constructor(e){super(e)}}},6809:(e,t,r)=>{r.d(t,{LP:()=>a,dG:()=>n,eP:()=>i});const n=4096,i=`Cookie exceeds maximum supported size of ${n} bytes for most browsers.`,a="Cookie is missing required parameters."},1961:(e,t,r)=>{r.d(t,{Eq:()=>d,X:()=>f,b:()=>l});var n=r(2846),i=r(3593),a=r(5191),s=r(7029),o=r(6627),c=r(2275),u=r(9727);const l=()=>({continent:void 0,environment:"",events_count:0,os:"",sample_rate:0,sdk_version:"",segments_count:0,session_count:0,session_init_count:0,session_view_count:0,user_agent:""}),d=a.n_({continent:{equals:(e,t)=>e===t},environment:s.Eq,events_count:o.Eq,os:s.Eq,sample_rate:o.Eq,sdk_version:s.Eq,segments_count:o.Eq,session_count:o.Eq,session_init_count:o.Eq,session_view_count:o.Eq,user_agent:s.Eq}),f=e=>{const t=m(e.userId),r=(0,c.zG)(n.vP(e.userId,e.sessionId),n.UI((e=>{let[t,r]=e;return`${t},${r}`})),m),a=String(Math.random()),s=(0,c.zG)(e.sdkVariant,u.UI((e=>`-${e}`)),u.fS((()=>""))),o={environment:"web",events_count:0,os:p(window.navigator.userAgent||""),sample_rate:e.sampleRate,sdk_version:"v20.23.4"+s,segments_count:0,user_agent:window.navigator.userAgent||""};return(0,c.zG)(i.vP({session_count:t(e.sessionId),session_init_count:r(n.a9(a)),session_view_count:r(e.viewId)}),i.UI((0,c.ls)((t=>n.vP({...t,continent:(0,c.zG)(e.continent,n.UI(u.FS))})),n.UI((e=>({...o,...e}))))))},p=e=>{const t=e.toLowerCase();return t.includes("windows")?"windows":t.includes("iphone")||t.includes("ipad")?"ios":t.includes("android")?"android":t.includes("macintosh")?"macos":t.includes("linux")?"linux":"unknown"},m=e=>t=>i.dQ((r=>{let{previousState:i}=r;const u=(0,c.zG)(n.vP(e,t),n.Rp(function(e){if(null!==e&&"object"==typeof e&&"scope"in e&&"lastValue"in e&&"count"in e)return e;return{scope:"",lastValue:"",count:1}}(i),((e,t)=>{let[r,n]=t;return{scope:r,lastValue:n,count:r!==e.scope?1:n!==e.lastValue?e.count+1:e.count}})),n.D8(a.n_({scope:s.Eq,lastValue:s.Eq,count:o.Eq})));return{state:u,value:(0,c.zG)(u,n.UI((e=>e.count)))}}))},8268:(e,t,r)=>{r.d(t,{p:()=>f});var n=r(2865),i=r(2275),a=r(704),s=r(1961),o=r(2846),c=r(1583),u=r(9246),l=r(1717),d=r(9172);const f=e=>{let t=e.context.current;(0,i.zG)(e.context,o.D8(s.Eq),o.Rp((0,i.bc)(s.b(),s.b()),((e,t)=>{let[,r]=e;return(0,i.bc)(r,t)})),(e=>e.onChange((e=>{let[r,n]=e;s.Eq.equals({...r,continent:void 0},{...n,continent:void 0})||p({beacon:!1}),t=n}))));const r="[Metrics Reporter]";let f=!0;const p=async a=>{let{beacon:s}=a;const o=t,d=(0,i.zG)(u.of(e.metrics.consume()),u.Y$((()=>f),(()=>{})),u.tS(c.EQ((()=>u.of(void 0)),(t=>u.Y3((()=>(async(t,r)=>{if(!t)return e.api.metrics(r);if(!e.api.metricsBeacon(r))throw new Error("Failed to send beacon.")})(s,{context:o,items:t})),(i=>{f=!1,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.logger.error(r,...n)}(`Failed to publish metrics ${(0,n.w)(i).message}`,t)}))))),l.UI(i.Q1));return d()},m=()=>{(0,d.HJ)((()=>p({beacon:!1}).finally((()=>m()))),5e3)};m(),(0,a.Bf)((()=>p({beacon:!0})),{capture:!1})}},2226:(e,t,r)=>{r.d(t,{u:()=>n});class n{trace;metrics;messages;_isRealtime=!1;_isReady=!1;constructor(e,t,r){this.trace=e,this.metrics=t,this.messages=r}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){const t=performance.now();this._isRealtime=!0,this.trace.measureSinceInit("sdk_realtime").finish(),this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{},t),this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"sdk_realtime",time_origin:"sdk_init"},t),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){const e=performance.now();this._isReady=!0,this.trace.measureSinceInit("sdk_ready").finish(),this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{},e),this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"sdk_ready",time_origin:"sdk_init"},e),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},5966:(e,t,r)=>{r.d(t,{a:()=>_});var n=r(2275),i=r(7054),a=r(7029),s=(r(6511),i.dp,i.xb,function(e){return function(t){return Object.keys(t).sort(e.compare)}}),o=s(a.Df);i.dx,i.e$;i.Bu,i.P5,i.Su,i.UI;i.ri;function c(e){return i.vP(e)}i._r;i.jt;i.yW,i.G,i.t9;var u=i.HA,l=(i.nn,i.kp),d=i.CC,f=i.RF,p=(i.I8,i.mS,i.RJ,i._Y,i.V_),m=i.EW,g=i.nu,h=(i.SW,i.zV,i.Ub,i.vA,i.qS),b=(i.mK,function(e){return function(t){var r=s(e);return function(e,n){var i=r(e);if(0===i.length)return t.of({});for(var a=t.of({}),s=function(r){a=t.ap(t.map(a,(function(e){return function(t){return e[r]=t,e}})),n(r,e[r]))},o=0,c=i;o<c.length;o++){s(c[o])}return a}}});i.hX,i.DZ,i.uK,i.tV;i.oA,i.oh;var v="Record";i.Eh,i.uZ,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,i.nr,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df;class _{config;localStorage;logger;permutiveData;cookies;externalData;constructor(e,t,r,n,i,a){this.config=e,this.localStorage=t,this.logger=r,this.permutiveData=n,this.cookies=i,this.externalData=a}async reset(){return this.logger.log("Resetting State"),(0,n.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>o({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-prebid-id":!0,"permutive-events-cache":!0,_pssps:!0,_ppsts:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataMiscKey),this.localStorage.delete(this.config.permutiveDataQueriesKey)])),n.Q1)}}},1248:(e,t,r)=>{r.d(t,{u:()=>n});class n{permutiveData;permutiveReset;userId;viewId;logger;constructor(e,t,r,n,i){this.permutiveData=e,this.permutiveReset=t,this.userId=r,this.viewId=n,this.logger=i}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.logger.warn("getStateSizeInBytes needs to be updated to reflect new event persistence"),this.permutiveData.getDataSize()}reset(){return this.permutiveReset.reset()}}},6410:(e,t,r)=>{r.d(t,{W:()=>n});class n{ref;constructor(e){this.ref=e}get(){return this.ref.current}}},1849:(e,t,r)=>{r.d(t,{E:()=>i});var n=r(9638);const i=(e,t,r)=>{const i=window.localStorage;return(0,n.rK)(i,"[Local Storage]",e,t,r)}},6646:(e,t,r)=>{r.d(t,{u:()=>i});r(1287);var n=r(9638);const i=(e,t,r)=>{const i=window.sessionStorage;return(0,n.rK)(i,"[Session Storage]",e,t,r)}},9638:(e,t,r)=>{r.d(t,{oP:()=>c,rK:()=>d});var n=r(2865),i=r(3939),a=r(1385),s=r(2275),o=r(2216);class c{storage;namespace;constructor(e,t){this.storage=e,this.namespace=t}async put(e,t){const r=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(r,JSON.stringify(e)),t}async get(e){const t=this.namespace.getNamespacedStorageKey(e.toString()),r=this.storage.getItem(t);return null===r?null:(0,i.A)(r)}async delete(e){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}async deleteStore(){}}const u=e=>{const{logger:t,consent:r,prefix:n}=e,i=(e,r)=>(t.debug(`${n} Failed to write ${String(r)} as consent is revoked`),Promise.resolve(r));return e=>class extends e{put=(0,o.v)(super.put.bind(this),i,(()=>!r.current))}},l=e=>{const{logger:t,prefix:r,storage:i}=e;return e=>class extends e{isSupported=null;isStorageSupported(){return null!==this.isSupported||(this.isSupported=a.Y3((()=>{const e="_permutive_ls_test";return i.setItem(e,e),i.getItem(e),i.removeItem(e),!0}),n.w),(0,s.zG)(this.isSupported,a.EQ((e=>{t.warn(`${r} Is NOT supported`,e)}),(()=>{t.debug(`${r} Is supported`)})))),this.isSupported}async put(e,t){return(0,s.zG)(this.isStorageSupported(),a.EQ((e=>{throw e}),(()=>super.put(e,t))))}async get(e){return(0,s.zG)(this.isStorageSupported(),a.EQ((()=>null),(()=>super.get(e))))}async delete(e){return(0,s.zG)(this.isStorageSupported(),a.EQ(s.Q1,(()=>super.delete(e))))}async deleteStore(){return(0,s.zG)(this.isStorageSupported(),a.EQ(s.Q1,(()=>super.deleteStore())))}}},d=(e,t,r,n,i)=>new((0,s.zG)(c,l({logger:n,prefix:t,storage:e}),u({logger:n,consent:i,prefix:t})))(e,r)},7124:(e,t,r)=>{r.d(t,{SD:()=>d});var n=r(9727),i=r(1583),a=r(7054),s=r(2275),o=r(2846),c=r(704);const u={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468},l="[TCF]",d=(e,t)=>{const[r,d,p]=(0,s.zG)(o.Ue(n.YP),(e=>{let[r,...i]=e;return[(0,s.zG)(r,o.bw(n.UI((e=>{t.debug(l,`Status "${e.type}"`,e)})))),...i]})),m=e.__tcfapi;if(m){const e=new Set(["tcloaded","useractioncomplete"]);m("addEventListener",2,((r,i)=>{i?"loaded"===r.cmpStatus&&e.has(r.eventStatus)&&(t.debug(l,"TCF API loaded",r),d(n.G({type:"loaded",data:r}))):(t.warn(l,"TCF API failed to register event listener"),d(n.G({type:"aborted"})),p())}))}else t.debug(l,"TCF API missing from the page"),d(n.G({type:"missing"})),p();const[g,h]=(0,s.zG)(o.gS(i.uZ()),(e=>{let[t,r]=e;return[t,(0,s.ls)(i.of,r)]}));return(0,s.zG)(o.vP(r,g),o.bw((e=>{let[r,i]=e;return(0,s.zG)(r,n.UI((e=>{const r=i();switch(t.debug(l,`Processing ${r.length} listeners`,r),e.type){case"missing":r.forEach((r=>{let[n,i]=r;t.debug(l,`Invoking ${n} as TCF API missing`),i(e)}));break;case"aborted":r.forEach((e=>{let[r]=e;t.debug(l,`Invoking ${r} skipped as TCF API aborted`)}));break;case"loaded":r.forEach((r=>{let[i,o]=r;(0,s.zG)(f(e.data),n.EQ((()=>{t.debug(l,`Invoking ${i} as GDPR does not apply`),o(e)}),(r=>(0,s.zG)(u,a.P5(i),n.tS((e=>(0,s.zG)(r,a.P5(e.toString())))),n.UI((r=>{r?(t.debug(l,`${i} has consent`,{vendor:i}),o(e)):t.debug(l,`${i} does not have consent`,{vendor:i})}))))))}))}})))}))),{registerVendorOnValidConsent:(e,t)=>h([e,t]),getStatusOrAbortOnTimeout:e=>new Promise((t=>{const i=setTimeout((()=>t({type:"aborted"})),e);(0,s.zG)(r,o.UI(n.UI((e=>{clearTimeout(i),t(e)}))))})).then((0,c.bw)((e=>t.debug(l,"TCF status resolved as",{status:e})))),tcfApiStatusRef:r}},f=e=>e.gdprApplies?n.G(e.vendor.consents):n.YP},7865:(e,t,r)=>{r.d(t,{C:()=>o});var n=r(366),i=r(2275);r(4223),r(3250);const a=(s=[[{name:"dfp",import:Promise.resolve().then(r.bind(r,9167))}],[],[],[],[],[],[{name:"clean_room",import:Promise.resolve().then(r.bind(r,502))}],[{name:"dbm",import:Promise.resolve().then(r.bind(r,1243))}],[{name:"ddp",import:Promise.resolve().then(r.bind(r,2954))}],[],[{name:"facebook_pixel_v2",import:Promise.resolve().then(r.bind(r,2991))}],[],[],[],[],[],[],[{name:"piano",import:Promise.resolve().then(r.bind(r,6778))}],[],[{name:"prebid",import:Promise.resolve().then(r.bind(r,3854))}],[],[],[],[{name:"rubicon_ssp",import:Promise.resolve().then(r.bind(r,695))}],[],[{name:"tracking_pixel",import:Promise.resolve().then(r.bind(r,7661))}],[],[],[{name:"web",import:Promise.resolve().then(r.bind(r,9331))}],[],[],[{name:"ssp",import:Promise.resolve().then(r.bind(r,7205))}],[],[]],(0,i.zG)((0,n.xH)(s),(0,n.u4)({},((e,t)=>({...e,[t.name]:t.import})))));var s;const o=e=>{const t=Object.entries(a).map((async t=>{let[r,n]=t;return e.logger.log(`Loading addon ${r}`),(await n).load(e)}));return Promise.all(t)}},5864:(e,t,r)=>{r.r(t),r.d(t,{createAddon:()=>S,getCachedDFPSegments:()=>w});var n=r(2865),i=r(1385),a=r(2275),s=r(9727),o=r(1583),c=r(2846),u=r(1578),l=r(704);const d="_pdfps";r(6809);var f=r(366),p=r(7029);let m=!1;let g=null;const h=(e,t)=>{const{logger:r}=t;(0,a.zG)(e,s.UI((e=>{!0!==m&&e.pubadsReady&&(g??=n=>{let{slot:i}=n;const{getContentUrl:s}=i;if(!s||"function"!=typeof s)return;(0,a.zG)(s(),(0,p.pn)("&trunc=1"))&&(r.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:r}=e;m||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),m=!0,r.debug("DFP has exceeded targeting limit"))})(t),g&&e.pubads().removeEventListener("slotRenderEnded",g),g=null)},e.pubads().addEventListener("slotRenderEnded",g))})))},b=(e,t,r,n)=>{const{logger:i}=t;h(e,t);(0,a.zG)(e,s.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:a}=e.pubads(),s=t("permutive")||[],o=Object.values(r.eligibleSegments).map(String).concat(r.allSeenCloudCohorts).concat("rts"),c=(0,f.uK)((e=>o.includes(e))),{left:u}=c(s),l=n.concat(u).concat("rts");i.debug("DFP setting GPT targeting to",l),a("permutive",l)}))})(e))))};var v=r(9167);const _={liveSegments:[],cloudCohorts:[],allSeenCloudCohorts:[],eligibleSegments:{}},y={segments:_,getGAMKeyValues:()=>({permutive:""})},w=e=>e.getExternalJsonData(d)||[],k=(e,t,r)=>{const{logger:i,externalData:a,api:s}=t;let o=r.map(String).concat(_.cloudCohorts);i.debug("DFP is updating with targeting values",o),b(e,t,_,o);try{a.setExternalJsonData(d,o)}catch(e){const t=(0,n.w)(e),r="DFP failed to set data. Got:";i.error(r,t),s.reportError(`${r} ${t.message}`)}return((e,t)=>{let{api:r,logger:n}=e;(0,u.$S)("sync_segments_cookie",!1)?(n.debug("DFP syncing segment cookie _pdfps"),r.segmentSync({key:d,value:t})):n.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(o)),i.debug("DFP live segments updated to",r),r},S=async e=>{const{api:t,logger:r,activationManager:n,messages:u,externalData:f,nextGenOutput:p,userId:m,cookies:g}=e,h=await(0,l.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1});s.Wi(h)&&r.error("[DFP]: unable to find google tag script on the page"),(0,a.zG)(h,s.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));y.getGAMKeyValues=()=>({...(0,a.zG)((0,v.generateProjectSpecificKVs)(e),i.Vn((e=>{var r;return r=e,t.reportError(`[DFP] ${r}`,m.get()),e})),i.fS((()=>({})))),permutive:y.segments.liveSegments.join(",")}),_.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),r={};for(const e of t.dfp)r[e]=e;for(const e of Object.keys(t.dfp_legacy)){const n=Number(e);r[n]=t.dfp_legacy[n]}return r})(n);const b=(0,a.zG)(p.queryLanguageCohorts.all,c.UI((e=>(r.debug("DFP received QL segments",{qlSegments:e}),((e,t)=>e.filter((e=>e in t)).map((e=>t[e])))(e,_.eligibleSegments)))),c.D8(l.cO)),w=p.activations.dfp??c.a9(o.bM()),S=(0,a.zG)(w,c.Rp(o.bM(),((e,t)=>[...new Set([...e,...t])])));return(0,a.zG)(c.vP(b,w,S),c.YP((0,l.Z_)(t,m,(t=>{let[n,i,a]=t;r.debug("DFP received updated cohorts",{filteredQlSegments:n,cloudCohorts:i}),_.cloudCohorts=i,_.allSeenCloudCohorts=a,_.liveSegments=k(h,e,n)})))),r.debug("DFP initialised with segments",_),(0,a.zG)(h,s.UI((e=>{e.secureSignalProviders=e.secureSignalProviders||[],e.secureSignalProviders.push({id:"permutive-secure-signal",collectorFunction:c.yY(p.addons.secureSignal)})}))),u.on("permutive:reset",(0,l.Z_)(t,m,(()=>{r.debug("DFP received 'permutive:reset' event"),f.removeExternalData(d),g.deleteCookie(d)}))),u.emit("permutive:dfp:ready"),y}},9167:(e,t,r)=>{r.r(t),r.d(t,{generateProjectSpecificKVs:()=>x,load:()=>f});var n=r(2865),i=r(1385),a=r(9727),s=r(2275),o=r(2210),c=r(1578),u=r(704),l=r(5864);const d={},f=e=>{(0,c.Hn)("dfp")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["dfp",{}]}),window.googletag=window.googletag||{},window.googletag.cmd.push((()=>p(e)))},p=e=>{e.permutive.ready((0,u.Z_)(e.api,e.userId,(()=>S(e.metrics))),"realtime");I(e.externalData);(0,s.zG)(x(e),i.tS((e=>i.Y3((()=>(0,u.qh)(e).forEach((e=>{let[t,r]=e;googletag.pubads().setTargeting(t,r)}))),n.w))),i.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),_(e.permutive),googletag.cmd.push((()=>{y(e.permutive),w(e.permutive)})),window.addEventListener("message",g(e.permutive),!1)},m=e=>{let{advertiserId:t,campaignId:r,lineItemId:n,creativeId:i}=e;return{advertiser_id:(0,u.rH)(t),campaign_id:(0,u.rH)(r),line_item_id:(0,u.rH)(n),creative_id:(0,u.rH)(i)}},g=e=>t=>{try{const r=JSON.parse(t.data);if(!r.permutive_type||"google_ad_click"!==r.permutive_type)return;const{ad_unit_path:n,creative_id:i,advertiser_id:a,order_id:s,line_item_id:o}=(null==r?void 0:r.data)??{},c=m({lineItemId:o,advertiserId:a,campaignId:s,creativeId:i});let u;Object.keys(d).some((e=>{const{slot:t,creative_id:r}=d[e];if((null==t?void 0:t.ad_unit_path)===n&&r===c.creative_id)return u=d[e],!0})),u=u??{...c,is_empty:!1},h(e,u)}catch{}},h=(e,t)=>{o.PH&&t&&e.track("SlotClicked",t)},b={},v=(e,t,r)=>{d[t]=r,k(e,r),b[t]&&b[t](),b[t]=P(e,t)},_=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const r=t.getResponseInformation();if(!r)return;const n={...m(r),is_empty:!1,service_name:"publisher_ads",slot:E(t)},i=t.getSlotElementId();v(e,i,n)}))},y=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const r={...m(t),is_empty:t.isEmpty,service_name:t.serviceName,slot:E(t.slot)};if(t.size){const[e,n]=t.size;"number"==typeof e&&"number"==typeof n&&(r.width=e,r.height=n)}const n=t.slot.getSlotElementId();v(e,n,r)}))},w=e=>{o.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:r,serviceName:n}=t;const i=r.getResponseInformation();if(!i)return;const a={...m(i),service_name:n,slot:E(r)};e.track("SlotViewable",a)}))},k=(e,t)=>{if(!o.CL)return;var r;r={...t,rendered_timestamp:Date.now()},e.track("SlotRendered",r)},S=e=>{let t=0;const r=googletag.pubadsReady&&googletag.pubads().getSlots();r&&r.forEach((e=>e.getResponseInformation()&&t++));const n=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:n,value:1,labels:{target:"dfp"}})},I=e=>{const t=(0,l.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:r}=googletag.pubads(),n=e("permutive")||[];r("permutive",[...new Set([...t.map(String),...n])])}))},E=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return o.jH?{...t,...(()=>{const t={},r=[];let n=[];const i=(e,i)=>{const a="slot"===e?e=>t[e]=1:()=>{},s=i.getTargetingKeys();n=s;for(let s=0;s<n.length;s++){const o=n[s];if(void 0!==t[o]&&"service"===e)continue;const c=[],u=i.getTargeting(o);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(a(o),r.push({key:o,value:c}))}};return i("slot",e),i("service",googletag.pubads()),{targeting_keys:r}})()}:t},P=(e,t)=>{let r=[];const n=()=>(0,s.zG)((0,s.bc)((0,s.zG)(a.Y3((()=>document.getElementById(t))),a.tS(a.ij),a.tS(a.KQ((e=>e.querySelector("iframe"))))),a.ij(document.activeElement)),a.RD,a.UI((r=>{let[n,i]=r;"hidden"===document.visibilityState&&n===i&&h(e,d[t])})));return document.addEventListener("visibilitychange",n),r.push((()=>document.removeEventListener("visibilitychange",n))),()=>{r.forEach((e=>e())),r=[]}},x=e=>{let{userId:t,viewId:r}=e;return i.Y3((()=>({})),n.w)}},6778:(e,t,r)=>{r.r(t),r.d(t,{load:()=>i});var n=r(704);const i=e=>{{const t=t=>{const{permutive:r}=e,i={loginRequired:function(e){r.track("PianoLoginRequired",{template_id:e.templateId,offer_id:e.offerId,term_id:e.termId,container_selector:e.containerSelector,experience:{id:e.experienceId,execution_id:e.experienceExecutionId,action_id:e.experienceActionId},start_screen:e.startScreen},{useBeacon:!0})},showTemplate:function(e){const t=e.activeMeters?JSON.parse(e.activeMeters):[];r.track("PianoShowTemplate",{template_id:e.templateId,offer_id:e.offerId,container_selector:e.containerSelector,experience:{id:e.experienceId,execution_id:e.experienceExecutionId,action_id:e.experienceActionId},meters:t.map((e=>({name:e.meterName,max_views:e.maxViews,views:e.views,views_left:e.viewsLeft,total_views:e.totalViews})))})},showOffer:function(e){r.track("PianoShowOffer",{template_id:e.templateId,offer_id:e.offerId,container_selector:e.containerSelector,experience:{id:e.experienceId,execution_id:e.experienceExecutionId,action_id:e.experienceActionId}})},startCheckout:function(e){r.track("PianoCheckoutStart",{template_id:e.templateId,offer_id:e.offerId,term_id:e.termId,container_selector:e.containerSelector,experience:{id:e.experienceId},iframe_id:e.iframeId})},checkoutComplete:function(e){r.track("PianoCheckoutComplete",{user_id:e.uid,term_id:e.termId,term_conversion_id:e.termConversionId,resource_id:e.rid,charge_amount:e.chargeAmount,charge_currency:e.chargeCurrency,started_at:"string"==typeof e.startedAt?new Date(e.startedAt).toISOString():void 0,expires_at:"number"!=typeof e.expires||Number.isNaN(e.expires)?void 0:new Date(1e3*e.expires).toISOString()},{useBeacon:!0})},checkoutClose:function(e){r.track("PianoCheckoutClose",{state:e.state})},meterActive:function(e){r.track("PianoMeterActive",{name:e.meterName,max_views:e.maxViews,views:e.views,views_left:e.viewsLeft,total_views:e.totalViews})},meterExpired:function(e){r.track("PianoMeterExpired",{name:e.meterName,max_views:e.maxViews,views:e.views,views_left:e.viewsLeft,total_views:e.totalViews})}}[t]||function(){};return(0,n.Z_)(e.api,e.userId,i)},r=function(){window.tp=window.tp||[];["loginRequired","showTemplate","showOffer","startCheckout","checkoutComplete","checkoutClose","meterActive","meterExpired"].forEach((function(e){window.tp.push(["addHandler",e,t(e)])}))};(0,n.Z_)(e.api,e.userId,(function(){window.__permutive=window.__permutive||{},window.__permutive.pianoEvents=window.__permutive.pianoEvents||[],window.__permutive.pianoEvents.forEach((function(e){t(e.name)(e.e)})),r()}))()}}},1243:(e,t,r)=>{r.r(t),r.d(t,{load:()=>i});var n=r(1578);const i=e=>{(0,n.Hn)("dbm")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["dbm",{}]})}},2954:(e,t,r)=>{r.r(t),r.d(t,{DDPPixel:()=>c,load:()=>u});class n{options;storageKey;syncTimeoutSeconds;tcfStatus;constructor(e,t,r){this.options=e,this.storageKey=t,this.syncTimeoutSeconds=r,this.tcfStatus=e.tcfStatus,this.sendPixel()}sendPixel(){const e=this.options.permutiveData.getData(this.storageKey);e&&!this.isExpired(e)||this.makeUrl(this.options.config.apiKey,this.options.state.userId.get()).then((e=>{this.fire(e),this.options.permutiveData.setData(this.storageKey,(new Date).getTime())}))}fire(e){(new Image).src=e}isExpired(e){return isNaN(e)||(new Date).getTime()>e+1e3*this.syncTimeoutSeconds}}var i=r(1385),a=r(2275),s=r(704);const o=("https:"===location.protocol?"https:":"http:")+"//cm.g.doubleclick.net/pixel?google_nid=permutive_dmp&google_cm&type=ddp";class c extends n{constructor(e){super(e,"addon:ddp",86400)}async makeUrl(e,t){return(0,a.zG)(this.addGDPRParams(),i.Vn((0,s.bw)((e=>this.options.api.reportError(`Failed to make ddp url. ${e}`,t)))),i.EQ((()=>""),(r=>`${o}&k=${e}&u=${t}&${r}`)))}addGDPRParams(){return i.Y3((()=>{if("missing"===this.options.tcfStatus.type)return"gdpr=0";return`gdpr=1&gdpr_consent=${"loaded"===this.options.tcfStatus.type?this.options.tcfStatus.data.tcString:""}`}),(e=>`Failed to retrieve GDPR query params. Got ${e}`))}}const u=()=>{}},2991:(e,t,r)=>{r.r(t),r.d(t,{FacebookV2Pixel:()=>l,load:()=>d});var n=r(1578),i=r(704),a=r(2275);class s{isFirstRun;cachedSegmentsMembership;constructor(e,t){this.isFirstRun=void 0===e.permutiveData.getData(t),this.cachedSegmentsMembership=new Set(e.nextGenOutput.queryLanguageCohorts.all.current),this.isFirstRun&&e.permutiveData.setData(t,!0),e.messages.on("permutive:reset",(()=>e.permutiveData.setData(t,!1)))}}var o=r(817);class c extends s{constructor(e,t,r){super(e,r);const n=(0,a.zG)(e.activationManager.getActivations(t),(0,o.vM)((e=>String(e.getSegmentCode()))));if(this.isFirstRun)for(const e of this.cachedSegmentsMembership){const t=String(e);t in n&&n[t].forEach((e=>this.fire(e,!0)))}e.permutive.on("SegmentEntry",(e=>{const t=e.properties.segment_number,r=String(t);r in n&&n[r].forEach((e=>this.fire(e,!0)))})),e.permutive.on("SegmentExit",(e=>{const t=e.properties.segment_number,r=String(t);r in n&&n[r].forEach((e=>this.fire(e,!1)))}))}}const u=(0,n.Hn)("facebook_pixel_v2");class l extends c{isUsingCoreSetup=void 0;constructor(e){super(e,"facebook_pixel_v2","addon:facebook_pixel_v2")}fire(e,t){this.isUsingCoreSetup??=u("is_using_core_setup",void 0),void 0===this.isUsingCoreSetup?(this.fireWithSegmentProperty(t,e.getSegmentCode()),this.fireWithSegmentEventName(t,e.getSegmentCode())):this.isUsingCoreSetup?this.fireWithSegmentEventName(t,e.getSegmentCode()):this.fireWithSegmentProperty(t,e.getSegmentCode()),e.trackImpression()}fireWithSegmentProperty(e,t){fbq("trackCustom",!0===e?"PermutiveSegmentEntry":"PermutiveSegmentExit",{segment_id:t})}fireWithSegmentEventName(e,t){fbq("trackCustom",(!0===e?"PermutiveSegmentEntry_":"PermutiveSegmentExit_")+t)}}const d=e=>{(0,n.Hn)("facebook_pixel_v2")("auto_init",!1)&&(0,i.a4)((()=>e.permutive.addon("facebook_pixel_v2",{})),(()=>"undefined"!=typeof fbq),{waitTimeInMs:1e3,maxAttempts:3})}},695:(e,t,r)=>{r.r(t),r.d(t,{RubiconSspAddon:()=>c,load:()=>o});var n=r(2275),i=r(704),a=r(2846);const s="_prubicons",o=e=>{e.q.push({functionName:"addon",arguments:["rubicon_ssp",{}]})};class c{options;liveSegments=[];eligibleSegments={};constructor(e){this.options=e,this.liveSegments=e.externalData.getExternalJsonData(s)||[];const t=this.options.activationManager.getSpecializedActivations("rubicon_ssp");for(let e=0;e<t.length;e++)this.eligibleSegments[t[e]]=!0;(0,n.zG)(e.nextGenOutput.queryLanguageCohorts.all,a.YP((e=>this.updateIfNecessary(e))))}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.liveSegments)||this.options.externalData.setExternalJsonData(s,t),this.liveSegments=t}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},7661:(e,t,r)=>{r.r(t),r.d(t,{PixelAddon:()=>s,load:()=>a});var n=r(1578),i=r(704);const a=e=>{(0,n.Hn)("tracking_pixel")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["tracking_pixel",{}]})};class s{options;activations;latestStateByDomain;eligibleSegmentsForEntries;eligibleSegmentsForExits;constructor(e){const t=this;this.options=e,this.latestStateByDomain=this.options.permutiveData.getData("addon:tracking_pixel")||{},this.activations=this.options.activationManager.getActivations("tracking_pixel");const r=0===Object.keys(this.latestStateByDomain).length;this.eligibleSegmentsForEntries={},this.eligibleSegmentsForExits={};for(let e=0;e<this.activations.length;e++){const t=this.activations[e],r=t.getTriggerType(),n=t.getSegmentCode(),i=t.getConfig().pixel_url,a=this.extractPixelType(i);"OnEntry"===r?(a in this.eligibleSegmentsForEntries||(this.eligibleSegmentsForEntries[a]={}),this.eligibleSegmentsForEntries[a][n]=t):"OnExit"===r&&(a in this.eligibleSegmentsForExits||(this.eligibleSegmentsForExits[a]={}),this.eligibleSegmentsForExits[a][n]=t)}const n=e.nextGenOutput.queryLanguageCohorts.all;r&&(0,i.Z_)(e.api,e.userId,(()=>this.firePixelsIfNecessary(n.current))),n.onChange((0,i.Z_)(e.api,e.userId,(e=>t.firePixelsIfNecessary(e))))}extractPixelType(e){return e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]}firePixelsIfNecessary(e){const t=Object.keys({...this.eligibleSegmentsForEntries,...this.eligibleSegmentsForExits}),r={},n=this.eligibleSegmentsForEntries,i=this.eligibleSegmentsForExits;t.forEach((t=>{r[t]=r[t]||[];for(let a=0;a<e.length;a++){const s=e[a];(n[t]&&n[t][s]||i[t]&&i[t][s])&&r[t].push(e[a])}})),t.forEach((e=>{const t=r[e]||[],a=Array.isArray(this.latestStateByDomain[e])?this.latestStateByDomain[e]:[];for(let r=0;r<t.length;r++){const i=t[r];if(-1===a.indexOf(i)){const t=n[e]&&n[e][i];"OnEntry"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}for(let r=0;r<a.length;r++){const n=a[r];if(-1===t.indexOf(n)){const t=i[e]&&i[e][n];"OnExit"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}})),this.latestStateByDomain=r,this.options.state.setPermutiveData("addon:tracking_pixel",this.latestStateByDomain)}firePixel(e){(new Image).src=e.getConfig().pixel_url,e.trackImpression()}}},9331:(e,t,r)=>{r.r(t),r.d(t,{WebAddon:()=>k,load:()=>w});var n=r(2865),i=r(1385),a=r(2275),s=r(6627),o=r(9727),c=r(5586),u=r(2210),l=r(1578),d=r(704);const f=(0,l.MU)("add_alchemy_entities",!1),p=(0,l.MU)("add_alchemy_taxonomy",!1);function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{...e&&p?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{},...e&&f?{entity_names:"$alchemy_entity_names"}:{},classifications_watson:{taxonomy_labels:"$taxonomy_labels"}}}function g(e,t,r,n){const i={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",...h(),...e,...t};r.track("Pageview",i).then((e=>{e&&n.emit("permutive:event:pageview",e)}))}function h(){return{}}var b=r(9172);const v=["mousemove","click","scroll"],_=["email","tel","submit","reset","button","file","password","radio","checkbox"],y=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],w=e=>{(0,l.Hn)("web")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["web",{auto_init:!0}]})};class k{permutive;options;api;clientContext;logger;dirtyState=!1;cancelEngagementTimer=()=>{};totalCompletion=0;totalEngagedTime=0;pageEngagementDetected;cleanupPageEngagementDetection=a.Q1;constructor(e){this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.options.customProperties.setCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0}).bind(this),g(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),u.t2&&(this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}sendFormSubmissionEvent(e){{const t=e.currentTarget,r={form:{method:t.method||"GET",properties:this.serializeForm(t),..."string"==typeof t.id?{id:t.id}:{},...t.name&&"string"==typeof t.name?{name:t.name}:{},...t.action&&"string"==typeof t.action?{action:t.action}:{}}};this.permutive.track("FormSubmission",r)}}async trackEngagementInterval(e){const t=this.updateState(e);!function(e,t,r,n,i,a){const s={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t,...i,completion:r,total_completion:n};a.track("PageviewEngagement",s)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive)}async reset(e){this.disablePageEngagementDetection(),this.dirtyState=!1;const t=this.updateWebOptions(e);this.options.pageviewState.setState(((e,r)=>{var n,i;return{viewId:(null===(n=t.context)||void 0===n?void 0:n.view_id)??(0,d.k$)(),watsonEnabled:(null===(i=t.watson)||void 0===i?void 0:i.enabled)??r.watsonEnabled}})),this.totalCompletion=0,this.totalEngagedTime=0,this.options.customProperties.setCustomProps(this.options.page||{}),this.enablePageEngagementDetection(),g(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),u.t2&&(this.cancelEngagementTimer(),this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==_.indexOf(e.type.toLowerCase())||-1!==y.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return(0,b.UM)((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,r=t=>e(t)?(0,o.G)(t):t.parentElement?e(t.parentElement)?(0,o.G)(t.parentElement):r(t.parentElement):o.YP;u.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,a.ls)(o.DT(this.canTrackPermutiveEvent("FormSubmission")),o.UI((0,d.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this)))))));(0,l.MU)("track_link_click",!0)&&document.body.addEventListener("click",(0,a.ls)(o.DT(this.canTrackPermutiveEvent("LinkClick")),o.UI((e=>({event:e,anchor:(0,a.zG)(e.target,o.ij,o.tS(o.DT(t)),o.tS(r))}))),o.DZ((e=>{let{event:t,anchor:r}=e;return o.pC(r)?o.G({event:t,anchor:r.value}):o.YP})),o.UI((e=>{let{event:t,anchor:r}=e;return S(this.permutive,r,(n=t,!("_blank"===r.target||n.metaKey||n.ctrlKey||n.shiftKey||2===n.which||3===n.which)));var n}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),r=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:r,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,a.zG)((0,i.Y3)((0,a.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,c.uZ)(s.Df)(0,1)),n.w),(0,i.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,i.Y3)((()=>{e(),this.cleanupPageEngagementDetection=a.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,n.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,a.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const r=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>r(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||v}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>{var r,s;return(0,a.zG)(null===(r=this.options)||void 0===r||null===(s=r.filterPermutiveEvent)||void 0===s?void 0:s[e],o.DT((e=>"function"==typeof e)),o.tS((0,a.ls)((e=>i.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,n.w)(e)}`)))),i.tS(i.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,d.bw)(i.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),o.Uo)),o.fS((()=>!0)))}}updateWebOptions(e){(0,d.Kn)(e)||(e={}),e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent,"context"in e&&!(0,d.Kn)(e.context)&&delete e.context;const t={addPageEngagementDetection:void 0,context:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options={...this.options,...t,...e}}}const S=(e,t,r)=>{if(window.location.href&&t.href){const n=0===t.href.indexOf("data:")?"NOT_URL":t.href;e.track("LinkClick",{dest_url:n},{useBeacon:r})}}},8249:(e,t,r)=>{r.d(t,{a:()=>n});class n{messages;handlers={};messageQueue={};constructor(e){var t,r;this.messages=e;null===(t=(r=window).addEventListener)||void 0===t||t.call(r,"message",(e=>{var t;"permutive"===(null==e||null===(t=e.data)||void 0===t?void 0:t.origin)&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){var e,t;null===(e=(t=window).postMessage)||void 0===e||e.call(t,{origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const r=t[e];this.handle(r)}}}handle(e){if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(this.messageQueue[e.data.type]??=[]).push(e)}}}},9965:(e,t,r)=>{r.d(t,{o:()=>n,s:()=>i});class n extends Error{static errorName="NetworkRequestFailedError";name=n.errorName;constructor(){super(n.defaultMessage)}static get defaultMessage(){return"Network request failed"}}class i extends Error{static errorName="NetworkRequestTimeoutError";name=i.errorName;constructor(){super(i.defaultMessage)}static get defaultMessage(){return"Network request timed out"}}},9262:(e,t,r)=>{r.d(t,{F:()=>d});var n=r(2865),i=r(2275),a=r(9727),s=r(1583),o=r(6924),c=r(9965),u=r(2444);class l{urls;config;network;metricsCollector;logger;webClient;prefix="[API]";constructor(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>a.YP;this.urls=e,this.config=t,this.network=r,this.metricsCollector=n,this.logger=i,this.webClient=s}async reportError(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const l=(0,n.w)(e);if(this.logError("Reporting error:\n",l),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const d=(0,i.zG)(this.webClient,u.UI(a.fS((()=>{var e,t,r,n;return{domain:(null===(e=self.location)||void 0===e?void 0:e.hostname)??"",referrer:"document"in self?null===(t=self.document)||void 0===t?void 0:t.referrer:"",url:(null===(r=self.location)||void 0===r?void 0:r.href)??"",user_agent:(null===(n=navigator)||void 0===n?void 0:n.userAgent)??""}}))),u.UI((e=>{var n,i;const a={error_message:(null==l||null===(n=l.message)||void 0===n?void 0:n.toString())??"",stack_trace:null==l||null===(i=l.stack)||void 0===i?void 0:i.split("\n")},s=t?{user_id:t}:{};return{platform:"web",sdk_version:"v20.23.4",ql_runtime_version:"v13.1.0",timestamp:r,domain:e.domain,url:(0,o.bk)(e.url),referrer:(0,o.bk)(e.referrer),user_agent:e.user_agent,error_message:a.error_message??String(l),stack_trace:a.stack_trace,...s}}))),f=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",a.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),p=e=>{this.metricsCollector.trackCounter({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};await(0,i.zG)([c.o,c.s],s.Ew((e=>l.name===e.errorName||l.message.indexOf(e.errorName)>=0||l.message.indexOf(e.defaultMessage)>=0)),a.g_((()=>{const e=d();return f(e).catch((0,i.ls)(n.w,(e=>this.logError(e))))}),(async e=>p(e.errorName))))}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}class d extends l{identifyPromise;identify(e,t,r){const n=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",a.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:r},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(n):this.identifyPromise=n()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",a.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[],ahoCorasickLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/23dc09d6-b664-425a-a76e-0eed6a6cc102-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",a.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,r){const n=e.startTimer(t,{});return this.network.req(r).then((r=>(0,i.zG)(e.stopTimer(t,n),(e=>r))))}}},3503:(e,t,r)=>{r.d(t,{E:()=>_});var n=r(1385),i=r(2275),a=r(9965),s=r(9172),o=r(9727),c=r(7963),u=function(e){return"Left"===e._tag},l=function(e){return"Right"===e._tag};function d(e){return{_tag:"Left",left:e}}function f(e){return{_tag:"Right",right:e}}function p(e,t){return{_tag:"Both",left:e,right:t}}var m=function(e,t,r){return function(n){switch(n._tag){case"Left":return e(n.left);case"Right":return t(n.right);case"Both":return r(n.left,n.right)}}},g=m;g(f,d,(function(e,t){return p(t,e)}));var h=f,b="These",v=(i.yR,i.yR,c.Xl,r(704));class _{metrics;constructor(e){this.metrics=e}req(e){return this.reqImpl(e).then((e=>(0,i.MZ)(e)))}reqWithBeacon(e){var t,r;let{url:n,payload:i}=e;const a=JSON.stringify(i),s=(null===(t=navigator)||void 0===t||null===(r=t.sendBeacon)||void 0===r?void 0:r.call(t,n,JSON.stringify(i)))??!1;return this.trackRequestMetrics({is_beacon:!0,is_error:!s,request:{method:"POST",url:n,content_length:a.length}}),s}reqImpl(e){const t="arraybuffer",{url:r,dataType:u,contentType:l,method:d,withCredentials:m,timeout:g}=e;return new Promise(((h,b)=>{const _=new XMLHttpRequest,y="POST"===e.method?"string"==typeof(w=e.payload)?w:JSON.stringify(w):null;var w;const k=e=>this.trackRequestMetrics({is_beacon:!1,request:{method:d,url:r,content_length:(null==y?void 0:y.length)??0},response:e});_.onload=(0,s.GL)((()=>{var e,r;return(0,i.zG)(_.status,n.DT((e=>e<400),(()=>{const e="text"===_.responseType||""===_.responseType?_.responseText:"Couldn't access response text";return`Failed ajax request. Status code was ${_.status}. ${e}`})),n.tS((()=>"json"===u?_.responseText?n.Y3((()=>JSON.parse(_.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(_.responseText)}. Got ${e}`)):n.F2(null):"text"===u?n.F2(_.responseText):n.F2(_.response))),(0,v.bw)((0,i.ls)(o.IS,(r={content_length:"text"===_.responseType||""===_.responseType?(null===(e=_.responseText)||void 0===e?void 0:e.length)??0:_.responseType===t?_.response.byteLength:0,response_time_ms:self.performance.now()-S,status_code:_.status},function(e){return c.Wi(e)?f(r):p(e.value,r)}),k)),n.EQ(b,h))})),_.onerror=(0,s.GL)((()=>{k(n.t$("network error")),b(new a.o)})),_.ontimeout=(0,s.GL)((()=>{k(n.t$("timeout")),b(new a.s)})),_.open(d,r,!0),l&&_.setRequestHeader("content-type",l),_.timeout=g||_.timeout,_.withCredentials=m||_.withCredentials,_.responseType="binary"===u?t:_.responseType;const S=self.performance.now();_.send(y)}))}trackRequestMetrics(e){var t;if(null===(t=this.metrics)||void 0===t||!t.isEnabled())return;const r=new URL(e.request.url).pathname;if(r.includes("metrics"))return;const n=t=>this.metrics.track({name:"sdk_http_request_count_total",value:1,labels:{request_method:e.request.method,request_path:r,request_content_length:e.request.content_length,...t}});var a;!0===e.is_beacon?n({is_beacon:!0,is_error:e.is_error}):(0,i.zG)((a=e.response,u(a)?c.YP:(l(a),c.G(a.right))),o.aD((()=>({})),(e=>({response_content_length:e.content_length,response_status:e.status_code,response_time_ms:e.response_time_ms}))),(t=>({is_beacon:!1,is_error:!l(e.response),...t})),n)}}},9168:(e,t,r)=>{r.r(t),r.d(t,{startMaster:()=>ue});var n=r(2846),i=r(2275),a=r(3593),s=r(9727),o=r(1583),c=r(704),u=r(2444),l=r(7054),d=r(2925),f=r(8491),p=r(817);var m=r(1717),g=r(8543),h=r(7560),b=r(4219);function v(e,t){return function(r){return e.map(r,t.compact)}}function _(e,t,r){var n=v(e,t),a=(0,h.UI)(e,r);return function(e){return b.s4(n((0,i.zG)(e,a(s.IS))),n((0,i.zG)(e,a(s.EK))))}}function y(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filter(e,r)}))}}}function w(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filterMap(e,r)}))}}}function k(e,t){var r=y(e,t);return function(e){var t=r((0,f.ff)(e)),n=r(e);return function(e){return(0,b.s4)(t(e),n(e))}}}function S(e,t){var r=w(e,t);return function(e){return function(t){return(0,b.s4)((0,i.zG)(t,r((function(t){return(0,s.IS)(e(t))}))),(0,i.zG)(t,r((function(t){return(0,s.EK)(e(t))}))))}}}var I=r(7963);function E(e){return(0,i.ls)(s.G,e.of)}function P(e){return(0,i.a9)(e.of(s.YP))}function x(e){return function(t){return e.map(t,s.G)}}function G(e){return(0,i.ls)(s.ij,e.of)}function z(e){var t=G(e);return function(e){return(0,i.ls)(e,t)}}function U(e){var t=j(e),r=z(e);return function(e){return t(r(e))}}function D(e){return function(t){return(0,i.ls)(t,e.of)}}function C(e){var t=j(e),r=D(e);return function(e){return t(r(e))}}function q(e){return function(t){return function(r){return e.of(s.DT(t)(r))}}}function T(e){return(0,i.ls)(s.Uo,e.of)}function O(e){return function(t,r){return function(n){return e.map(n,s.EQ(t,r))}}}function M(e){return function(t,r){return function(n){return e.chain(n,s.EQ(t,r))}}}function A(e){return function(t){return function(r){return e.chain(r,s.EQ(t,e.of))}}}function B(e){return(0,h.UI)(e,s.dO)}function R(e){return(0,d.ap)(e,s.G5)}function j(e){var t=P(e);return function(r){return function(n){return e.chain(n,s.EQ((function(){return t()}),r))}}}function L(e){var t=E(e);return function(r){return function(n){return e.chain(n,s.EQ(r,t))}}}var F=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},$=function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},N=E(m.PM),K=(m.PM,m.of,m.PM,m.dO,m.UI(s.Uo)),Y=(m.dO,m.qo,m.UA,m.PM,function(e){return function(){return F(void 0,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e().then(I.G)];case 1:return[2,t.sent()];case 2:return t.sent(),[2,I.YP];case 3:return[2]}}))}))}}),Q=(m.PM,m.UA,m.PM,m.UA,B(m.dO)),H=R(m.Hi),W=N,V=j(m.UA),J=(m.UA,m.PM,m.dO,s.Ri,m.dO,s.Ri,s.dO,m.dO,s.xu,m.dO,s.xu,m.dO,s.xu,m.dO,s.xu,function(e,t){return(0,i.zG)(e,Q(t))}),X=function(e,t){return(0,i.zG)(e,H(t))},Z=function(e,t){return(0,i.zG)(e,V(t))},ee="TaskOption",te={URI:ee,map:J},re={URI:ee,map:J,ap:X,chain:Z},ne=(I.F4,(0,h.YO)(te)),ie=(0,g.a)(re),ae=(I.Xl,r(9172)),se=r(1586);const oe=(e,t)=>{const[r,a]=n.gS(o.uZ());return(0,i.zG)(t,n.UI(u.UI((t=>{o.Od(t)&&e.all().then((e=>(0,i.zG)(t,o.UI((0,se.H5)((()=>e))),a)))}))),n.UI((e=>e()))),r},ce=(e,t)=>{let r=!1;return n.UI(u.UI((0,c.bw)((n=>{r||(r=(0,i.zG)(n,o.G((e=>{let[,t]=e;return"Pageview"===t.name}))),r&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:t,time_origin:"sdk_init"}))}))))};function ue(e){let{eventsCacheFactory:t,metrics:g,trace:h,migratedStateMaps:b,worker:v,..._}=e;return e=>a.dQ((0,i.ls)((0,c.rO)({previousState:le}),(a=>{let{stopped:c,previousState:y}=a;(0,i.zG)(c,n.YP((e=>e&&v.stop()))),v.send({..._,migratedStateMaps:y.stateMigrated?{external:s.YP,internal:s.YP}:b(),previousState:y.workerState}),h.measureSinceInit("post_worker_config_duration").finish(),g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_sent_worker_config",time_origin:"sdk_init"},performance.now());const w=h.startSpan("worker_config_response_duration"),k=v.next();k.then((()=>{w.finish(),g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_received_worker_config_response",time_origin:"sdk_init"},performance.now())}));const S=((e,t)=>{const a=(0,i.zG)((()=>t),m.UI((e=>s.lo(!e))),V((()=>K(e()))),ne("eventsCache"),ie("eventsCacheService",(()=>(0,i.zG)((0,ae.N1)(Y((()=>Promise.resolve().then(r.bind(r,5952))))),Q((e=>e.eventCacheService)))))),c=a();return e=>{let{priorCachedEventsRequests:t,...r}=e;return e=>{let{previousState:a,stopped:l}=e;const d=n.a9(u.of(o.bM())),[f,p]=n.Ue({eventsToPublish:n.a9(u.of(o.bM())),priorCachedEventsResponses:d,state:n.a9(a)});return c.then(s.EQ((()=>p({eventsToPublish:r.eventsToPublish,priorCachedEventsResponses:d,state:n.a9(void 0)})),(e=>{let{eventsCache:n,eventsCacheService:i}=e;const{state:s,value:{newEvents:o}}=i({eventsCache:n,newEvents:r.eventsToPublish})({previousState:a,stopped:l});p({eventsToPublish:o,priorCachedEventsResponses:oe(n,t),state:s})}))),{state:(0,i.zG)(f,n.VS((e=>e.state))),value:(0,i.bc)((0,i.zG)(f,n.VS((e=>e.priorCachedEventsResponses))),{...r,eventsToPublish:(0,i.zG)(f,n.VS((e=>e.eventsToPublish)))})}}}})(t,k.then((e=>e.eventsCachedInWorker)));return(0,i.zG)((()=>v.read()),function(e,t){const r=e=>(0,i.zG)(e,l.Hd((e=>e in t)),(e=>{let{left:t,right:r}=e;return{buffers:r,nonBuffers:t}}));return a=>{const{buffers:s,nonBuffers:o}=r(e),[c,u]=n.Ue({...o,...(0,i.zG)(s,l.Su((e=>()=>{const r=s[e];return s[e]=t[e].empty,r})))});return(async()=>{for(;;){const e=(0,i.zG)(await a(),p.UI(r),p.ur({concat:(e,r)=>({nonBuffers:{...e.nonBuffers,...r.nonBuffers},buffers:(()=>{const n={...e.buffers};for(const e in r.buffers)n[e]=e in n?t[e].concat(n[e],r.buffers[e]):r.buffers[e];return n})()})})),n=(0,i.zG)(e.buffers,l.Su(((e,r)=>(s[e]=t[e].concat(s[e],r),()=>{const r=s[e];return s[e]=t[e].empty,r}))));u({...c.current,...e.nonBuffers,...n})}})(),(0,i.zG)(e,l.Su((e=>(0,i.zG)(c,n.UI((t=>t[e]))))))}}({activations:y.activations,cohorts:y.cohorts,context:{},eventsToPublish:o.cS,eventsToPublishOnPageUnload:o.cS,externalData:{},geoIP:s.YP,metrics:o.cS,priorCachedEventsRequests:o.cS,realtime:!1,state:y.workerState,transitionsSinceInit:{segmentsEntered:o.cS,segmentsExited:o.cS},workerStateFlushed:!1,stateMigratedThisInitialisation:!1,secureSignal:s.YP},{eventsToPublish:o.uZ(),metrics:o.uZ(),priorCachedEventsRequests:o.uZ()}),(e=>{let{metrics:t,...r}=e;return t.onChange((e=>e().forEach((e=>g.track(e))))),r}),(t=>{let{workerStateFlushed:r,stateMigratedThisInitialisation:a,activations:p,cohorts:m,state:h,secureSignal:b,..._}=t;const{value:[w,k],state:I}=S(_)({stopped:c,previousState:y.masterEventsCache});return function(e,t,r){const a=(0,i.zG)(n.vP(t),n.UI((0,i.ls)(l.UI((e=>"function"==typeof e?e:u.of(e))),(0,d.Yt)(u.G5))));let o=a.current();e(o),(0,i.zG)(a,n.YP((t=>{const n=t(),a=(0,i.zG)(n,l.z7(((e,t)=>{var n;return t!==o[e]&&(null===(n=r[e])||void 0===n||!n.isEmpty(t))})),s.DT((0,f.ff)(l.xb)));s.pC(a)&&(o={...o,...a.value},e(a.value))})))}(v.send,{consent:e.consent,contextualCohorts:e.contextualCohorts,enrichmentReplacementMap:e.enrichmentReplacementMap,eventSourceId:e.eventSourceId,identities:e.identities,userId:e.userId,userIdIsNewlyGenerated:e.userIdIsNewlyGenerated,newEvents:(0,i.zG)(e.newEvents,ce(g,"pageview_sent_to_worker")),sessionId:e.sessionId,viewId:e.viewId,webClient:e.webClient,pageviewState:e.pageviewState,priorCachedEventsResponses:w},{newEvents:{isEmpty:o.xb},priorCachedEventsResponses:{isEmpty:o.xb}}),g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_sent_worker_input",time_origin:"sdk_init"},performance.now()),{state:n.vP({activations:p,cohorts:m,masterEventsCache:I,workerState:h,stateMigrated:(0,i.zG)(n.vP(r,a),n.Rp(y.stateMigrated,((e,t)=>{let[r,n]=t;return e||r&&n})))}),value:{...k,stateMigratedThisInitialisation:a,activations:{dfp:n.UI((e=>e.dfp),p),xandr_ssp:n.UI((e=>e.xandr_ssp),p)},cohorts:{all:n.UI((e=>e.all),m),ql:n.UI((e=>e.ql),m),qlCustom:n.UI((e=>e.qlCustom),m),qlStandard:n.UI((e=>e.qlStandard),m)},secureSignal:b}}}))})))}const le=e=>ge(e)?{activations:de(e.activations),cohorts:pe(e.cohorts),masterEventsCache:e.masterEventsCache,workerState:e.workerState,stateMigrated:!!e.stateMigrated}:{activations:de(null),cohorts:pe(null),masterEventsCache:null,workerState:null,stateMigrated:!1},de=e=>ge(e)?{dfp:me(e.dfp),xandr_ssp:me(e.xandr_ssp)}:fe(),fe=()=>({dfp:o.cS,xandr_ssp:o.cS}),pe=e=>ge(e)?{all:me(e.all),ql:me(e.ql),qlCustom:me(e.qlCustom),qlStandard:me(e.qlStandard)}:he(),me=e=>Array.isArray(e)?e:o.cS,ge=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),he=()=>({all:o.cS,ql:o.cS,qlCustom:o.cS,qlStandard:o.cS})},1110:(e,t,r)=>{r.r(t),r.d(t,{runNextGenFeatures:()=>rt});var n=r(2275),i=r(2846),a=r(3593),s=r(9172),o=r(9727),c=r(704);function u(e){let{messages:t}=e;const[r,n]=i.Ue(new Set);return t.on("permutive:addon:preinit",(e=>n(new Set([...r.current,e])))),r}function l(){const e=()=>Math.floor(Date.now()/1e3),[t,r]=i.Ue(e());return(0,s.UM)((()=>r(e())),1e3),t}function d(){const[e,t]=i.Ue(!1);return(0,c.aT)((()=>t(!0)),navigator.userAgent),e}var f=r(1583),p=r(2865),m=r(1385),g=r(817),h=r(3940),b=r(7054),v=r(4219),_=r(1578),y=r(7145);const w="[Prebid Monitoring]",k=(e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},S=(e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})},I=function(e,t){const r=E(e);return a.K4((()=>(0,n.zG)(t,i.UI((0,n.ls)(o.DT((e=>e.consent)),o.UI((e=>e.prebidJS)))),i.D8(o.Eh((0,c.Or)())),i.bw((0,n.ls)(o.tS((e=>e.completedChecks?e.mainPair:o.YP)),o.UI((t=>k(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),i.UI(o.UI((e=>(0,n.zG)(e.mainPair,o.UI((t=>[t,...e.otherPairs])),o.fS((()=>e.otherPairs)))))),i.Rp(new Set,((t,i)=>(0,n.zG)(i,o.UI(f.hX((e=>!t.has(e.windowPropertyKey)))),o.hX(f.Od),(0,c.bw)(o.EQ((()=>e.logger.debug(w,"Nothing to report")),(t=>e.logger.debug(w,"Reporting",t)))),o.fS((()=>[])),f.UI((t=>(0,n.zG)((t=>(0,n.zG)(m.Y3((function(){var r;const{pbjs:i,windowPropertyKey:a}=t;e.logger.log(w,`Reporting on "${a}"`,t);const s=P(i);e.logger.debug(w,`Version ${i.version} parsed as`,s);const o=(0,y.zi)(i);e.logger.debug(w,"Read config",o);const c=(0,n.zG)((null===(r=o.realTimeData)||void 0===r?void 0:r.dataProviders)??[],f.Ew((e=>"permutive"===e.name)));return e.logger.debug(w,"Read data provider config",c),{pbjs:i,config:o,dataProviderConfig:c,installedModules:i.installedModules||[],version:s,windowPropertyKey:a}}),p.w),m.ak("bidders",(e=>r.acBidders(e))),m.ak("permutiveRTDProvider",(e=>r.permutiveRTDProvider(e))),m.ak("consent",(e=>r.consent(e))),m.ak("targeting",(e=>r.targeting(e)))))(t),m.Pd((r=>e.reportError(`${w} Failed to report pair "${t.windowPropertyKey}", ${r.message}`)),(()=>t.windowPropertyKey))))),f.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))};const E=e=>({acBidders:t=>m.Y3((()=>{const r=(0,_.Hn)("prebid")("data_provider_config",{ac_bidders:[]}),i=t.version.major>=7&&t.version.minor>=13?r.ac_bidders:[],a=(0,n.zG)(t.dataProviderConfig,o.UI((e=>{var t;return(null==e||null===(t=e.params)||void 0===t?void 0:t.acBidders)??[]})),o.fS((()=>[]))),s=[...new Set([...i,...a])];return e.logger.debug(w,"Determined acBidders as",{acBidders:s,dynamicBidders:i,staticBidders:a}),s.forEach((r=>{S(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:r})})),{acBidders:s,dynamicBidders:i,readBidders:a}}),p.w),consent:t=>m.Y3((()=>{var r,n,i,a,s,o;const c=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&k(e,{prebid_key:c,flag:"prebid_has_consent_management"});const u=t.installedModules.includes("gdprEnforcement");u&&k(e,{prebid_key:c,flag:"prebid_gdpr_enforcement_module"});const l=(null===(r=t.config)||void 0===r||null===(n=r.consentManagement)||void 0===n||null===(i=n.gdpr)||void 0===i||null===(a=i.rules)||void 0===a||null===(s=a.find((e=>"storage"===(null==e?void 0:e.purpose))))||void 0===s||null===(o=s.vendorExceptions)||void 0===o?void 0:o.includes("permutive"))||!1;return l&&k(e,{prebid_key:c,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:u,addedAsStorageException:l}}),p.w),permutiveRTDProvider:t=>m.Y3((()=>{const r=t.installedModules.includes("permutiveRtdProvider");return r&&k(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),r}),p.w),targeting:t=>{const r=(0,n.ls)(f.UI((e=>[e,null])),b.sq),i=(t,r)=>(0,n.zG)(t,(0,c.bw)((t=>e.logger.debug(w,`Processing ${t.length} bidder request(s)`,t))),f.hX((e=>r.hasOwnProperty(e.bidderCode)&&null===r[e.bidderCode])),g.vM((e=>e.bidderCode)),b.DZ(f.f2((0,c.lo)([[e=>(e=>{var t,r,n;const i=null==e||null===(t=e.user)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.find((e=>"permutive.com"===e.name));return!(null==i||null===(n=i.segment)||void 0===n||!n.length)})(e.ortb2),()=>o.G("ortb2")],[e=>{return t=e.params,["permutive","p_standard"].some((e=>{var r,n,i,a;return(null==t||null===(r=t.visitor)||void 0===r||null===(n=r[e])||void 0===n?void 0:n.length)||(null==t||null===(i=t.keywords)||void 0===i||null===(a=i[e])||void 0===a?void 0:a.length)}));var t},()=>o.G("params")],()=>o.YP]))),(0,c.bw)((t=>e.logger.debug(w,"Bidders targeting method's updated",t)))),a=a=>{e.logger.debug(w,"Bidders found with no targeting method",a);let s=r(a);const o=r=>(0,n.zG)(i([r],s),(0,c.bw)((e=>{s={...s,...e}})),(0,c.bw)(b.Su(((r,n)=>S(e,{flag:`prebid_${n}_targeting_success`,prebid_key:t.windowPropertyKey,prebid_bidder:r})))),(0,c.bw)((()=>{Object.values(s).includes(null)||(e.logger.debug(w,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",o))})));t.pbjs.onEvent("bidRequested",o)};return m.Y3((()=>{const s=(0,n.zG)(t.pbjs.getEvents(),f.DZ((0,n.ls)(o.DT((e=>"bidRequested"===e.eventType)),o.UI((0,c.vg)("args")))));return(0,n.zG)(t.bidders.acBidders,o.DT(f.Od),o.EQ((()=>e.logger.debug(w,"No bidders for targeting")),(0,n.ls)(r,(e=>({...e,...i(s,e)})),b.uK(h.ff((e=>null===e))),v.Pd((0,n.ls)(b.XP,o.DT(f.Od),o.UI(a)),b.Su(((r,n)=>S(e,{prebid_bidder:r,prebid_key:t.windowPropertyKey,flag:`prebid_${n}_targeting_success`})))))))}),p.w)}}),P=e=>{const[t,r,n]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:r,patch:n}},x=function(e,t){const r=(0,n.zG)(t.pbjs,i.VS((0,n.ls)(o.tS(o.KQ((e=>{var t;return null===(t=e.getUserIdsAsync)||void 0===t?void 0:t.call(e).then((()=>{var t;return(null===(t=e.getUserIdsAsEids)||void 0===t?void 0:t.call(e))??[]}))}))),o.UI(i.p4),o.fS((()=>i.a9(o.YP))))),i.UI(o.tS(o.Uo)),i.bw(o.mU((t=>(t.length>0?t.forEach((t=>{e.metrics.trackCounter({name:"sdk_prebid_alternative_identifiers_count_total",labels:{alternative_user_id_name:t.source},value:1})})):e.metrics.trackCounter({name:"sdk_prebid_alternative_identifiers_count_total",labels:{identifier:"NONE"},value:1}),o.YP))))),s=(0,n.zG)(t.pbjs,i.UI(o.tS(o.KQ((e=>{var t;return null===(t=e.getUserIdsAsEids)||void 0===t?void 0:t.call(e)})))));return a.K4((()=>(0,n.zG)(i.vP(r,s),i.UI((e=>{let[t,r]=e;return(0,n.zG)(t,o.wp((()=>r)))})),i.UI((0,n.ls)(o.UI(f.DZ((e=>{var t,r;return"string"==typeof(null===(t=e.uids)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.id)?o.G((0,n.bc)(e.source,{id:e.uids[0].id})):o.YP}))),o.tS(g.c2),o.UI(b.sq))),i.bw((t=>{o.pC(t)&&e.logger.debug("[Prebid Identifiers]","Found identifiers",t.value)})))))};const G=function(e){let{externalData:t}=e;return a.K4((()=>{t.removeExternalData(z)}))};const z="_pfws",U=new Set(["AdRequest","Reaction","PageviewEngagement","SegmentEntry","SegmentExit"]);class D{events;listeners;static highVolumeEvents=(()=>{const e=new Set([...U]);return e.delete("Reaction"),e})();constructor(){this.events=[],this.listeners=[]}newEvent(e,t){D.highVolumeEvents.has(e.name)||this.events.push([e,t]),[...this.listeners].forEach((r=>{this.handle(e,t,r)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,r){const n="string"==typeof r.name&&e.name===r.name,i=r.name.test&&r.name.test(e.name),a=n||i;if(a)try{r.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&r.once&&this.remove(r)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let r=0;r<this.events.length&&t;r++)this.handle(this.events[r][0],this.events[r][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var C=r(2444),q=r(2925);var T=r(1586),O=r(9246),M=r(1717);const A="[Event Upload]",B=(e,t,r,o)=>a.dQ((a=>{let{stopped:u,previousState:l}=a;Array.isArray(l)&&(0,n.zG)(l,$(e))();const d=new Set([...U]),[p,{appendUntrackedEvents:g,appendUploadResults:h}]=(0,n.zG)((()=>{const[e,t]=i.gS(f.uZ()),[r,a]=i.gS(f.uZ());return(0,n.bc)({uploadResults:e,untrackedEvents:r},{appendUploadResults:t,appendUntrackedEvents:a})})(),(0,T.pL)((0,n.ls)((function(e){const[t,r]=(0,n.zG)(e.uploadResults,N(f.bj));return{...e,uploadResults:t,erroredEventsAsJSON:r}}),(function(e){const[t,r]=(0,n.zG)(e.erroredEventsAsJSON,N(f.UI((0,T.H5)((0,c.rO)({event:(0,c.rO)({time:e=>new Date(e)})})))));return{...e,erroredEventsAsJSON:t,erroredEvents:r}}),(function(e){let{uploadResults:t,untrackedEvents:r,...a}=e;const s=(0,n.zG)(t,i.UI(C.UI((0,n.ls)(f.hp,f.UI((0,T.H5)((0,c.rO)({time:e=>new Date(e)}))))))),o=(0,n.zG)(i.vP(s,r),i.UI(C.RD),i.UI(C.UI((e=>{let[t,r]=e;return r.concat(t)}))));return{...a,successEvents:o}}),(function(e){const[t,r]=(0,n.zG)(e.successEvents,N(f.UI((0,T.H5)((0,c.rO)({time:e=>e.toISOString()})))));return{...e,successEvents:t,successEventsAsJSON:r}})))),[b,v]=i.Ue(0),[_,y]=i.Ue(0),w=(0,n.zG)(t,i.UI(C.UI((e=>(0,n.zG)(e,f.uK((e=>{let[,t]=e;return!d.has(t.event.name)})),(e=>{let{left:t,right:r}=e;return(0,n.zG)(t,f.UI((0,T.H5)((e=>e.event))),g),r}))))),i.UI(C.UI((e=>(e.length>0&&((0,s.HJ)((()=>v(b.current+e.length)),500),(0,s.HJ)((()=>y(_.current+e.length)),5e3)),e))))),k=e=>t=>(0,n.zG)(e,f.hX((e=>{let[r]=e;return!t.closeEventsProcessed.includes(r)})),f.zo(t.queue)),S=(0,n.zG)(i.vP(b,_,w,r,u,o),i.Rp({closeEventsProcessed:f.cS,noQueueItemsProcessed:0,queue:f.cS},((t,r)=>{let[i,a,s,o,u,l]=r;return u?t:(0,n.zG)(t,(0,c.rO)({queue:f.zo(s())}),(t=>l?(0,n.zG)(t,(t=>r=>(0,n.zG)(r,k(t),F(e),(0,c.rO)({right:(0,c.bw)((0,n.ls)(f.UI((0,n.ls)((0,T.H5)((0,c.rO)({time:e=>e.toISOString()})),m.F2)),h))}),(e=>{let{left:t,right:i}=e;return(0,n.zG)(r,(0,c.rO)({closeEventsProcessed:(0,n.zG)(i,f.UI(T.li),f.zo),queue:(0,n.zG)(t.map(T.li),(e=>new Set(e)),(e=>f.hX((t=>{let[r]=t;return e.has(r)})))),noQueueItemsProcessed:e=>e+r.queue.length}))})))(o)):a>t.noQueueItemsProcessed||i===t.noQueueItemsProcessed+t.queue.length?(t=>((0,n.zG)(t.queue,$(e),M.UI(h))(),{closeEventsProcessed:t.closeEventsProcessed,noQueueItemsProcessed:t.noQueueItemsProcessed+t.queue.length,queue:f.cS}))(t):t))}))),I=(0,n.zG)(r,i.UI(k),i.ap(S),i.D8(f.Eh({equals:(e,t)=>e[0]===t[0]})));return{state:I,value:p}})),R=(e,t)=>e.permutiveUrls.getEndpointUrl("/batch/events",o.G(e.config.apiVersion),[["enrich",JSON.stringify(t.requiresEnrichment)],["sdkp",JSON.stringify(t.sdkProcessed)]]),j=e=>(0,n.zG)(e.events,f.UI((0,n.ls)(T.Yg,(e=>e.event)))),L=(0,n.ls)(g.vM((e=>{let[t,r]=e;return`${r.requiresEnrichment}${r.sdkProcessed}`})),(e=>Object.values(e)),f.UI((e=>({requiresEnrichment:e[0][1].requiresEnrichment,events:e,sdkProcessed:e[0][1].sdkProcessed})))),F=e=>(0,n.ls)(L,f.YO("request"),f.Hr("success",(t=>{let{request:r}=t;return e.logger.debug(A,"Uploading via beacon",r),e.permutiveApi.reqWithBeacon({url:R(e,r),payload:j(r)})})),f.tS((e=>(0,n.zG)(e.request.events,f.UI((t=>{let[r,{event:i}]=t;return e.success?m.F2((0,n.bc)(r,i)):m.t$((0,n.bc)(r,i))}))))),f.UI((0,c.bw)(m.EQ((t=>{let[,r]=t;return e.metrics.trackCounter({name:"sdk_event_beacon_fail_count_total",labels:{event_name:r.name},value:1})}),(t=>{let[,r]=t;return e.metrics.trackCounter({name:"sdk_event_beacon_success_count_total",labels:{event_name:r.name},value:1})})))),f.oh),$=e=>t=>(0,n.zG)(L(t),M.uU((t=>(0,n.zG)(t,(e=>t=>(e.logger.debug(A,"Uploading",t),O.Y3((()=>e.permutiveApi.req({payload:j(t),url:R(e,t),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1})),(t=>(e.reportError(`Error sending events batch. Got ${m.KC(t)}`),t)))))(e),O.UI(f.UI((e=>e.body))),O.EQ((e=>(0,n.zG)(t.events,f.UI((()=>m.t$(e))))),f.UI(m.F2)),M.UI(f.$R(t.events))))),M.UI(f.tS(f.UI((t=>{let[r,[i,{event:a}]]=t;return(0,n.zG)(r,m.EQ((e=>m.t$((0,n.bc)(i,{event:{...a,time:a.time.toISOString()},error:e}))),(e=>"request_id"in e?m.t$((0,n.bc)(i,{event:{...a,time:a.time.toISOString()},error:e})):m.F2((0,n.bc)(i,{...a,id:e.id,time:e.time})))),(0,c.bw)(m.EQ((t=>{let[,{event:r}]=t;return e.metrics.trackCounter({name:"sdk_event_upload_fail_count_total",labels:{event_name:r.name},value:1})}),(t=>{let[,r]=t;return e.metrics.trackCounter({name:"sdk_event_upload_success_count_total",labels:{event_name:r.name},value:1})}))))}))))),N=e=>t=>(0,n.zG)(t,i.En(2,f.uZ()),(0,T.H5)(i.UI(C.UI(e)))),K=(e,t,r,s)=>(0,n.zG)(a.K4((()=>{const[e,t]=i.Ue(i.a9(C.of([])));return{eventsToPublishBufferRef:i.xH(e),publishEvents:r=>{(0,n.zG)(i.vP(e.current,r),i.UI(C.RD),i.UI(C.UI(f.xH)),t)}}})),a.ak("eventUpload",(t=>{let{eventsToPublishBufferRef:n}=t;return B(e,n,r,s)})),a.ak("eventHandler",(e=>{let{eventUpload:t}=e;return r=t.successEventsAsJSON,s=t.erroredEventsAsJSON,a.K4((()=>{const e=new D;return(0,n.zG)(r,i.UI((e=>e())),i.bw((t=>t.forEach((t=>{let[,r]=t;return e.newEvent(r,null)}))))),(0,n.zG)(s,i.UI((e=>e())),i.bw((t=>t.forEach((t=>{let[,{event:r,error:n}]=t;return e.newEvent(r,n)}))))),{eventHandlerAfterUpload:e}}));var r,s})),a.ak("eventResolver",(e=>{let{eventUpload:r}=e;return((e,t,r,s)=>a.K4((()=>{(0,n.zG)(i.vP({unresolvedEvents:t,erroredEvents:s,successEvents:r}),i.UI((0,q.Yt)(C.G5)),i.Rp({},((e,t)=>{const r=t();return(0,n.zG)(r.unresolvedEvents,o.DT(f.Od),o.UI((0,n.ls)(b.sq,(t=>({...e,...t})))),o.fS((()=>e)),(e=>(0,n.zG)(r.successEvents,f.u4(e,((e,t)=>{let[r,i]=t;return(0,n.zG)(b.P5(r,e),o.UI((t=>(t.succeed(i),b.EG(r)(e)))),o.fS((()=>e)))})))),(e=>(0,n.zG)(r.erroredEvents,f.u4(e,((e,t)=>{let[r,{event:i,error:a}]=t;return(0,n.zG)(b.P5(r,e),o.UI((t=>(t.fail(`Failed to track ${i.name}. ${"error"in a?a.error.message:a.message}`),b.EG(r)(e)))),o.fS((()=>e)))})))))})))})))(0,t,r.successEvents,r.erroredEvents)})),a.UI((e=>{let{publishEvents:t,eventHandler:r}=e;return{eventHandlerAfterUpload:r.eventHandlerAfterUpload,publishEvents:t}}))),Y="_pnativo",Q=function(e){let{externalData:t}=e;return a.K4((()=>{t.removeExternalData(Y)}))};var H,W,V,J,X,Z=-1,ee=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Z=t.timeStamp,e(t))}),!0)},te=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},re=function(){var e=te();return e&&e.activationStart||0},ne=function(e,t){var r=te(),n="navigate";return Z>=0?n="back-forward-cache":r&&(document.prerendering||re()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},ie=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},ae=function(e,t,r,n){var i,a;return function(s){t.value>=0&&(s||n)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},se=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},oe=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},ce=function(e){var t=!1;return function(){t||(e(),t=!0)}},ue=-1,le=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},de=function(e){"hidden"===document.visibilityState&&ue>-1&&(ue="visibilitychange"===e.type?e.timeStamp:0,pe())},fe=function(){addEventListener("visibilitychange",de,!0),addEventListener("prerenderingchange",de,!0)},pe=function(){removeEventListener("visibilitychange",de,!0),removeEventListener("prerenderingchange",de,!0)},me=function(){return ue<0&&(ue=le(),fe(),ee((function(){setTimeout((function(){ue=le(),fe()}),0)}))),{get firstHiddenTime(){return ue}}},ge=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},he=[1800,3e3],be=[.1,.25],ve=function(e,t){t=t||{},function(e,t){t=t||{},ge((function(){var r,n=me(),i=ne("FCP"),a=ie("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-re(),0),i.entries.push(e),r(!0)))}))}));a&&(r=ae(e,i,he,t.reportAllChanges),ee((function(n){i=ne("FCP"),r=ae(e,i,he,t.reportAllChanges),se((function(){i.value=performance.now()-n.timeStamp,r(!0)}))})))}))}(ce((function(){var r,n=ne("CLS",0),i=0,a=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>n.value&&(n.value=i,n.entries=a,r())},o=ie("layout-shift",s);o&&(r=ae(e,n,be,t.reportAllChanges),oe((function(){s(o.takeRecords()),r(!0)})),ee((function(){i=0,n=ne("CLS",0),r=ae(e,n,be,t.reportAllChanges),se((function(){return r()}))})),setTimeout(r,0))})))},_e=0,ye=1/0,we=0,ke=function(e){e.forEach((function(e){e.interactionId&&(ye=Math.min(ye,e.interactionId),we=Math.max(we,e.interactionId),_e=we?(we-ye)/7+1:0)}))},Se=function(){return H?_e:performance.interactionCount||0},Ie=function(){"interactionCount"in performance||H||(H=ie("event",ke,{type:"event",buffered:!0,durationThreshold:0}))},Ee=[],Pe=new Map,xe=0,Ge=[],ze=function(e){if(Ge.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Ee[Ee.length-1],r=Pe.get(e.interactionId);if(r||Ee.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};Pe.set(n.id,n),Ee.push(n)}Ee.sort((function(e,t){return t.latency-e.latency})),Ee.length>10&&Ee.splice(10).forEach((function(e){return Pe.delete(e.id)}))}}},Ue=function(e){var t=self.requestIdleCallback||self.setTimeout,r=-1;return e=ce(e),"hidden"===document.visibilityState?e():(r=t(e),oe(e)),r},De=[200,500],Ce=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},ge((function(){var r;Ie();var n,i=ne("INP"),a=function(e){Ue((function(){e.forEach(ze);var t=function(){var e=Math.min(Ee.length-1,Math.floor((Se()-xe)/50));return Ee[e]}();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,n())}))},s=ie("event",a,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=ae(e,i,De,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),oe((function(){a(s.takeRecords()),n(!0)})),ee((function(){xe=Se(),Ee.length=0,Pe.clear(),i=ne("INP"),n=ae(e,i,De,t.reportAllChanges)})))})))},qe=[2500,4e3],Te={},Oe={passive:!0,capture:!0},Me=new Date,Ae=function(e,t){W||(W=t,V=e,J=new Date,je(removeEventListener),Be())},Be=function(){if(V>=0&&V<J-Me){var e={entryType:"first-input",name:W.type,target:W.target,cancelable:W.cancelable,startTime:W.timeStamp,processingStart:W.timeStamp+V};X.forEach((function(t){t(e)})),X=[]}},Re=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Ae(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",r,Oe),removeEventListener("pointercancel",n,Oe)};addEventListener("pointerup",r,Oe),addEventListener("pointercancel",n,Oe)}(t,e):Ae(t,e)}},je=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Re,Oe)}))},Le=[100,300];const Fe=function(e){let t=0;const r=r=>{if(0===t)return;const n=$e(r);n&&e.metrics.track({name:`sdk_web_vitals_${n.suffix}`,labels:{},value:n.value})},s=(0,c.HP)((()=>{ve(r),function(e,t){t=t||{},ge((function(){var r,n=me(),i=ne("LCP"),a=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-re(),0),i.entries=[e],r())}))},s=ie("largest-contentful-paint",a);if(s){r=ae(e,i,qe,t.reportAllChanges);var o=ce((function(){Te[i.id]||(a(s.takeRecords()),s.disconnect(),Te[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return Ue(o)}),!0)})),oe(o),ee((function(n){i=ne("LCP"),r=ae(e,i,qe,t.reportAllChanges),se((function(){i.value=performance.now()-n.timeStamp,Te[i.id]=!0,r(!0)}))}))}}))}(r),function(e,t){t=t||{},ge((function(){var r,n=me(),i=ne("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},s=function(e){e.forEach(a)},o=ie("first-input",s);r=ae(e,i,Le,t.reportAllChanges),o&&(oe(ce((function(){s(o.takeRecords()),o.disconnect()}))),ee((function(){var n;i=ne("FID"),r=ae(e,i,Le,t.reportAllChanges),X=[],V=-1,W=null,je(addEventListener),n=a,X.push(n),Be()})))}))}(r),Ce(r)}));return a.K4((r=>{let{stopped:a}=r;t++,(0,n.zG)(a,i.YP((e=>{e&&t--}))),e.metrics.isEnabled()&&s()}))};const $e=e=>(e=>"CLS"===e.name)(e)?{value:e.value,suffix:`${e.name.toLowerCase()}_score`}:(e=>["INP","FID","LCP"].includes(e.name))(e)?{value:e.value/1e3,suffix:`${e.name.toLowerCase()}_seconds`}:void 0;var Ne=r(944);const Ke=(e,t)=>{const{activationManager:r,externalData:s,metrics:o,permutiveData:c}=e;return(0,n.zG)(a.of({}),a.ak("psegs",(()=>((e,t)=>a.K4((r=>{let{stopped:a}=r;const s="_psegs";(0,n.zG)(i.vP(t,a),i.YP((t=>{let[r,i]=t;i||(0,n.zG)(r,f.EQ((()=>e.removeExternalData(s)),(t=>e.setExternalJsonData(s,t))))})))})))(e.externalData,t.qlSegments))),a.ak("webVitals",(()=>Fe(e))),a.ak("nativo",(()=>Q({activationManager:r,externalData:s,metrics:o,queryLanguageCohorts:t.qlSegments,...t}))),a.ak("twitterPixel",(()=>(0,Ne.eJ)({activationManager:r,metrics:o,permutiveData:c,queryLanguageCohorts:t.qlSegments,...t}))),a.ak("prebidJS",(()=>(0,y.dN)(e))))};var Ye=r(1961);const Qe=()=>{const[e,t]=i.gS(f.uZ());return{trackEvent:e=>{let r,n,{event:i,useBeacon:a}=e;const s=new Promise(((e,t)=>{r=e,n=t}));return t([{localId:(0,c.k$)(),event:i,fail:n,succeed:r,useBeacon:a}]),s},trackedEvents:e}};r(1367);const He=function(e,t){return a.K4((()=>({addon:()=>({}),cohorts:i.a9(o.YP)})))};const We=(e,t)=>a.vP({contextual:He(e,t)}),Ve=function(e,t,r){return a.of({replacementMap:i.a9(o.of({$privacy_sandbox_topics_v2:[]}))})};var Je=r(3250),Xe=r(7124);i.a9(o.YP),i.a9([]),i.a9([]),i.a9([]),i.a9(Ye.b()),i.a9(o.YP),i.a9({segmentsEntered:[],segmentsExited:[]}),i.a9(!1),i.a9((e=>{let{event:t}=e;return Promise.resolve(t)})),new D,i.a9(o.YP),i.a9(!1);function Ze(e,t,r){const{addonsLoaded:u,consent:l,currentTimestampSecs:d,enabledAddons:p,identities:m,sdkVariant:g,sessionId:h,userId:b,userIdIsNewlyGenerated:v,viewId:_,pageviewState:y}=t,[w,k]=(0,n.zG)(i.Ue(i.a9(f.cS)),(e=>{let[t,r]=e;return[i.xH(t),r]})),S=o.ij(e.permutiveData.getData("event-source-id")),E=(0,n.zG)(b,i.Rp(-1,(e=>e+1)),i.UI((t=>(0,n.zG)(S,o.hX((()=>0===t)),o.fS((()=>{const t=(0,c.k$)();return e.permutiveData.setData("event-source-id",t),t}))))));return(0,n.zG)(a.vP({computeTimeMetrics:(P=e.metrics,a.K4((e=>{let{stopped:t}=e;const r=(0,s.HJ)((()=>{(0,n.zG)((0,s.iE)(),(0,c.bw)((()=>(0,s.ho)(!1))),f.UI((e=>{let[t,r]=e;return(r-t)/1e3})),(e=>{P.track({name:"sdk_ui_thread_compute_first10s_total_seconds",value:e.reduce(((e,t)=>e+t),0),labels:{}}),P.track({name:"sdk_ui_thread_compute_first10s_total_task_overrun_seconds",value:(0,n.zG)(e,f.hX((e=>e>.05)),f.UI((e=>e-.05)),f.u4(0,((e,t)=>e+t))),labels:{}}),P.track({name:"sdk_ui_thread_compute_first10s_longest_task_seconds",value:Math.max(0,...e),labels:{}})}))}),1e4);(0,n.zG)(t,i.YP((e=>e&&r())))}))),audiences:We(e,t),privacySandboxTopics:Ve(e,h,l)}),a.UI((e=>{const{reset:t,trackEvent:r,trackedEvents:a}=((e,t)=>{const[r,a]=i.Ue(0),s=(0,n.zG)(i.vP(r,t),i.UI((()=>[]))),o=(0,n.zG)(i.vP(s,e),i.D8(((e,t)=>{let[,r]=e,[,n]=t;return r===n})),i.UI((e=>{let[t]=e;const r=Qe();return t.forEach(r.trackEvent),r})));return{reset:()=>a(r.current+1),trackEvent:(0,n.zG)(i.vP(o,s),i.UI((e=>{let[t,r]=e;return e=>(r.push(e),t.trackEvent(e))}))),trackedEvents:(0,n.zG)(o,i.VS((e=>e.trackedEvents)))}})(b,_),[s,o,c]=(0,n.zG)(a,i.En(3,f.uZ()));return{...e,reset:t,trackEvent:r,unresolvedEvents:(0,n.zG)(s,i.UI(C.UI(f.UI((e=>(0,n.bc)(e.localId,{fail:e.fail,succeed:e.succeed})))))),eventsToProcessLocally:(0,n.zG)(o,i.UI(C.UI(f.hX((e=>!e.useBeacon))))),eventsToUploadViaBeacon:(0,n.zG)(c,i.UI(C.UI(f.hX((e=>e.useBeacon)))))}})),a.ak("eventPublication",(r=>{let{unresolvedEvents:n}=r;return K(e,n,w,t.sdkClosing)})),a.ak("core",(s=>{let{audiences:c,eventPublication:u,eventsToProcessLocally:p,privacySandboxTopics:g}=s;return(0,n.zG)(r({contextualCohorts:c.contextual.cohorts,consent:l,currentTimestampSecs:d,enrichmentReplacementMap:g.replacementMap,eventSourceId:E,identities:m,newEvents:(0,n.zG)(p,i.UI(C.UI(f.UI((e=>(0,n.bc)(e.localId,e.event)))))),sessionId:h,userId:b,userIdIsNewlyGenerated:v,viewId:_,webClient:t.webClient,pageviewState:y}),a.bw((e=>{let{eventsToPublish:t}=e;return(0,n.zG)(t,i.UI(C.UI(et)),u.publishEvents)})),a.bw((e=>{let{eventsToPublishOnPageUnload:t}=e;return(0,n.zG)(t,i.UI(et),k)})),a.bw((t=>{let{externalData:r}=t;return(0,n.zG)(r,i.UI((t=>(0,n.zG)(Object.entries(t),f.UI((t=>{let[r,i]=t;return(0,n.zG)(i,o.EQ((()=>e.externalData.removeExternalData(r)),(t=>e.externalData.setExternalJsonData(r,t))))}))))))})),a.bw((t=>{let{context:r}=t;return(0,n.zG)(r,i.UI((t=>{const r=Object.entries(t);e.clientContext.updateContext(...r)})))})))})),a.bw((e=>{let{core:r,eventPublication:a,eventsToUploadViaBeacon:s}=e;return(0,n.zG)(i.vP({cohorts:r.cohorts.all,eventsIO:s,segments:r.cohorts.ql,sessionId:h,userId:b,viewId:_,webClient:t.webClient}),i.UI((e=>{let{webClient:t,...r}=e;return(0,n.zG)(t,o.UI((e=>({...r,webClient:e}))))})),i.UI(o.EQ((()=>C.of(f.bM())),(e=>{let{cohorts:t,eventsIO:r,segments:i,sessionId:a,userId:s,viewId:o,webClient:c}=e;return(0,n.zG)(r,C.UI(f.UI((e=>{let{event:r,localId:u}=e;return(0,n.bc)(u,{requiresEnrichment:!0,sdkProcessed:!1,event:{user_id:s,name:r.name,segments:i,cohorts:t,properties:{...r.properties,client:{...c,...r.properties.client??{}}},session_id:a,time:new Date,view_id:o}})}))))}))),a.publishEvents)})),a.ak("metricContext",(e=>{let{core:r}=e;return(0,n.zG)(r.geoIP,i.UI(o.tS((e=>{var t;return o.ij(null===(t=e.geo_info)||void 0===t?void 0:t.continent)}))),(e=>Ye.X({continent:e,sampleRate:t.metricSampleRate,sdkVariant:g,sessionId:h,userId:b,viewId:_})))})),a.ak("sdkql",(t=>{let{core:r}=t;return Ke(e,{addonsLoaded:u,consent:l,initdAddons:p,qlSegments:r.cohorts.ql})})),a.ak("strategicPartnerships",(t=>{let{sdkql:r}=t;return((e,t)=>a.vP({prebid_identifiers:x(e,t)}))(e,{pbjs:(0,n.zG)(r.prebidJS,i.UI((e=>(0,n.zG)(e.mainPair,o.UI((e=>e.pbjs))))))})})),a.ak("mediaAndEntertainment",(t=>{let{core:r}=t;return((e,t)=>(0,n.zG)(a.vP({freewheel:G({activationManager:e.activationManager,externalData:e.externalData,...t})}),a.UI((0,n.a9)({}))))(e,{addonsLoaded:u,consent:l,initdAddons:p,queryLanguageCohorts:r.cohorts.ql})})),a.ak("advertisers",(t=>{let{sdkql:r}=t;return((e,t)=>(0,n.zG)(a.of(t),a.ak("prebidMonitoring",(t=>{let{consent:r,prebidJS:n}=t;return I(e,i.vP({consent:r,prebidJS:n}))})),a.UI(n.Q1)))(e,{consent:l,prebidJS:r.prebidJS})})),a.ak("identityManager",(t=>{let{core:r}=t;return(0,Je.u6)({...e,consent:l,tcfApiStatus:(0,Xe.SD)(window,e.logger).tcfApiStatusRef,currentTimestampSecs:d,geoIP:r.geoIP},m)})),a.UI((e=>{let{core:t,audiences:r,metricContext:n,sdkql:a,trackEvent:s,eventPublication:o,strategicPartnerships:c,identityManager:u,reset:l}=e;return{activations:t.activations,addons:{contextual:r.contextual.addon,identityManager:u,secureSignal:t.secureSignal},metricContext:n,pbjsPair:i.UI((e=>e.mainPair),a.prebidJS),queryLanguageCohorts:{all:t.cohorts.ql,custom:t.cohorts.qlCustom,standard:t.cohorts.qlStandard},segmentTransitionsSinceInit:t.transitionsSinceInit,trackEvent:s,realtime:t.realtime,eventHandlerAfterUpload:o.eventHandlerAfterUpload,prebidIdentifiers:c.prebid_identifiers,reset:l,stateMigratedThisInitialisation:t.stateMigratedThisInitialisation}})));var P}const et=f.UI((0,T.H5)((e=>({event:e,requiresEnrichment:!1,sdkProcessed:!0}))));function tt(e){return(0,n.ls)((0,c.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch{return{}}}}),e,(0,c.rO)({state:i.UI(JSON.stringify)}))}function rt(e){const t=function(e){const{activationManager:t,api:r,clientContext:n,config:i,externalData:a,logger:s,metrics:o,permutiveData:c,network:u,urls:l,namespace:d,trace:f}=e;return{activationManager:t,api:r,clientContext:n,config:i,externalData:a,logger:s,metrics:o,permutiveData:c,permutiveApi:u,permutiveUrls:l,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},namespace:d,trace:f}}(e),r=function(e){const t={addonsLoaded:e.addonsLoaded,consent:(r=e.consentTracking,(0,n.zG)(r,o.EQ((()=>i.a9(!0)),(e=>e.consentRef)))),currentTimestampSecs:l(),enabledAddons:u(e),identities:e.identities,sdkClosing:d(),metricSampleRate:e.config.metricsSamplingPercentage/100,sdkVariant:o.ij(e.sdkVariant),sessionId:i.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,userIdIsNewlyGenerated:e.userId.isNewlyGenerated,viewId:e.viewId.ref,pageviewState:e.pageviewState,webClient:e.webClient};var r;return t}(e);return function(e,t,r,o){const u=5e3;return(0,n.zG)(e,function(e,t){return r=>a=>{const{value:o,state:c}=r(a),[u,l]=i.Ue(c.current),d=(0,s.UM)((()=>l(c.current)),e),f=(0,n.zG)(i.vP(c,u),i.UI((e=>{let[t,r]=e;return t===r})));return(0,n.zG)(t,i.bw((e=>e&&d()))),{value:(0,n.bc)(f,o),state:(0,n.zG)(i.vP(t,c,u),i.UI((e=>{let[t,r,n]=e;return t?r:n})))}}}(u,o),tt,function(e){return t=>(0,n.ls)((0,c.rO)({previousState:t=>e.current?t:void 0}),t,(0,c.rO)({state:(0,n.ls)((t=>i.vP(e,t)),i.UI((e=>{let[t,r]=e;return t?r:void 0})))}))}(r),function(e){return t=>(0,n.ls)((0,c.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,c.rO)({state:(0,c.bw)(i.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t),a.UI((e=>{let[t,r]=e;return r})))({stopped:i.a9(!1)}).value}(Ze(t,r,e.core),e.namespace.getNamespacedStorageKey("permutive-app"),r.consent,r.sdkClosing)}},1287:(e,t,r)=>{r.d(t,{iq:()=>d,B9:()=>m,ti:()=>h});var n=r(2865),i=r(3939),a=r(1385),s=r(9727),o=r(2275),c=r(704);var u=r(6924);const l="__permutive.",d="__permutiveConfigQueryParams";const f={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",apiProtocol:"https",cdnBaseUrl:"cdn.permutive.com",cdnProtocol:"https",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataQueriesKey:"permutive-data-queries",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"23dc09d6-b664-425a-a76e-0eed6a6cc102.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:[],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0},secureSignalsApiHost:"secure-signals.permutive.app"},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},p=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},r={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((n,i)=>{if(t.hasOwnProperty(i)){const t="true"===e[i];return{...n,[i]:t}}if(r.hasOwnProperty(i)){const t=Number(e[i]);return isNaN(t)?n:{...n,[i]:t}}return{...n,[i]:e[i]}}),{})},m=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[r,n]=t;if(!(0===r.indexOf(l)))return e;const i=r.replace(l,"");return[...e,[i,n]]}),[]);return(0,o.zG)(a.Y3((()=>(0,o.zG)(e(),t,(e=>(0,c.m8)(...e)),p,(e=>g({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,n.w)(e).message}`)))},g=e=>{let{queryConfig:t}=e;const r=(0,o.zG)(s.Y3((()=>window.sessionStorage.getItem(d))),s.tS(s.ij),s.tS((0,o.ls)(i.A,s.ij)),s.fS((()=>({}))));return(0,c.PM)(r,t)},h=(e,t)=>{const r=(e.environment&&f[e.environment])??{};return(0,c.PM)(f.default,r,e,t)}},1367:(e,t,r)=>{r.d(t,{NY:()=>g,vk:()=>f,qA:()=>d});var n=r(2865),i=r(1385),a=r(2275),s=r(9246),o=r(9638),c=r(6513),u=r(2846);var l=r(8151);const d=()=>({opt_in:!0,token:c.L}),f=()=>({opt_in:!1,token:""}),p=e=>{return(0,a.ls)((t=e,e=>(0,a.zG)((0,l.J)(t.consentRequired,e),(e=>{let{consentData:r,isValid:n}=e;return t.consentDatabase.put(r,c.L),n}))),(e=>{let{logger:t,messages:r}=e;return e=>{const n=e?"given":"revoked";return t.log("Consent has been",n),r.emit(`permutive:consent:${n}`),e}})(e));var t},m=e=>(t,r)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",r)},g=async e=>{const{logger:t,namespace:r,consentRequired:d,messages:f}=e,g=new o.oP(window.localStorage,r),h=(0,l.J)(d,await g.get(c.L)),b=await(0,a.zG)(s.Y3((()=>g.put(h.consentData,c.L)),(e=>new Error(`LocalStorage access is required. ${(0,n.w)(e).message}`))),(e=>e()));if(i.nM(b))return b;const{consentRef:v,giveConsent:_,revokeConsent:y,isRevoked:w,isGiven:k}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,r]=u.Ue(e),n=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(r(!1),t.current),giveConsent:()=>(r(!0),t.current),isRevoked:()=>!n(),isGiven:n}}(h.isValid),S={consentRef:v,isGiven:k,isRevoked:w,listenForConsent:m(f)};S.listenForConsent(y,_);const I=p({consentDatabase:g,consentRequired:d,logger:t,messages:f});return i.F2({consentTracking:S,consentValidation:I,consentDatabase:g})}},6513:(e,t,r)=>{r.d(t,{L:()=>n});const n="permutive-consent"},2216:(e,t,r)=>{r.d(t,{v:()=>n});const n=(e,t,r)=>function(){const n=r()?t:e;return n(...arguments)}},8151:(e,t,r)=>{r.d(t,{J:()=>s});var n=r(2275),i=r(9727),a=r(1367);const s=(e,t)=>(0,n.zG)((0,i.ij)(t),(t=>!1===e&&(0,i.Wi)(t)?{isValid:!0,consentData:(0,a.qA)()}:(e=>(0,i.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,a.vk)()}))},5897:(e,t,r)=>{r.d(t,{S:()=>h});var n=r(2275),i=r(9727),a=r(366),s=r(2846),o=r(4393),c=r(7124),u=r(9172);var l=r(704);class d{wait_prev;block_next;task;started;complete;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var f=r(544);r(4223);class p{logger;api;activationManager;sessionManager;metrics;viewId;userId;network;clientContext;unprocessedEvents;taskQueue;identities;permutiveReset;messages;addons;trace;permutiveRealtime;state;customProperties;config;permutiveData;externalData;cookies;identitiesIngestor;global;nextGen;pageviewState;initialisedAddons=[];tcf;constructor(e,t,r,n,i,a,s,o,u,l,d,f,p,m,g,h,b,v,_,y,w,k,S,I,E,P,x){this.logger=e,this.api=t,this.activationManager=r,this.sessionManager=n,this.metrics=i,this.viewId=a,this.userId=s,this.network=o,this.clientContext=u,this.unprocessedEvents=l,this.taskQueue=d,this.identities=f,this.permutiveReset=p,this.messages=m,this.addons=g,this.trace=h,this.permutiveRealtime=b,this.state=v,this.customProperties=_,this.config=y,this.permutiveData=w,this.externalData=k,this.cookies=S,this.identitiesIngestor=I,this.global=E,this.nextGen=P,this.pageviewState=x,this.tcf=(0,c.SD)(window,this.logger)}identify(e){const t="[Identify]";this.logger.debug("<call> identify",e);const r=(0,l.b2)(),{left:s,right:c}=this.identities.parseCustomerDefinedIdentities(e);if(s.length>0)throw new Error(s.join(" "));const u={...this.identities.getIdentitiesMap(),...c.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return{...e,[r]:{id:n,...void 0!==i?{priority:i}:{},...void 0!==a?{expiry:a}:{}}}}),{})},p=(0,n.zG)(Object.values(u),a.DZ((e=>i.ij(e.id)))),m=this.identities.getPrioritizedIdentities(u);if("string"==typeof e&&(0,o.Bt)("23dc09d6-b664-425a-a76e-0eed6a6cc102","23dc09d6-b664-425a-a76e-0eed6a6cc102",p,window.location.hostname,this.userId.get()))return r.resolve(),r.promise;const g=async e=>{await(0,f.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,reset:this.permutiveReset,userId:this.userId},e.user_id)};return this.taskQueue.add(new d((async e=>{this.logger.debug("<task> identify",c);const n=async()=>{this.logger.log(t,"request identity");const e=await this.api.identify(this.metrics,this.userId,m);this.userId.isEqual(e.user_id)?this.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{identify_reason:"identify_call"}}):(this.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{identify_reason:"identify_call"}}),await g(e))};this.identities.setIdentities(c).identifyRequestRequired()?await n():this.logger.log(t,"skip request"),this.logger.debug("<done> identify",c),e(),r.resolve(),await this.identitiesIngestor.ingestIfEligible(c).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}),{wait_prev:!0,block_next:!0})),r.promise}on(e,t){return this.nextGen.eventHandlerAfterUpload.addListener({name:e,callback:t,once:!1})}once(e,t){return this.nextGen.eventHandlerAfterUpload.addListener({name:e,callback:t,once:!0})}pageviewTracked=!1;track(){const[e,t,r]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],n=this.trace.startSpan(`track("${e}")`);this.logger.log("<call> track",e);const i=(0,l.b2)();this.pageviewTracked||"Pageview"!==e||(this.pageviewTracked=!0,this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"pageview_tracked",time_origin:"sdk_init"})),this.metrics.trackCounter({name:"sdk_event_track_count_total",labels:{event_name:e},value:1}),i.promise.then((()=>{this.metrics.trackCounter({name:"sdk_event_track_success_count_total",labels:{event_name:e},value:1}),n.finish()}),(()=>{this.metrics.trackCounter({name:"sdk_event_track_fail_count_total",labels:{event_name:e},value:1}),n.finish()}));const a=r.unprocessedData??{},s=a.sessionId??this.sessionManager.getSessionId(),o=a.viewId??this.viewId.get(),c={success:r.success||(e=>{}),error:r.error||((e,t)=>{})};return this.taskQueue.add(new d((n=>{this.logger.log("<task> track",e);return(a.client?Promise.resolve(a.client):this.clientContext.getClient()).then((a=>{const u={name:e,properties:{...t,client:t.client?(0,l.PM)(a,t.client):a},session_id:s,view_id:o,time:new Date};return this.nextGen.trackEvent.current({event:u,useBeacon:r.useBeacon??!1}).then((e=>{this.logger.log("<done> track",u.name),c.success(e),i.resolve(u),n()})).catch((e=>{c.error(e),this.api.reportError(e,this.userId.get()),i.reject(e)}))}))}))),i.promise}trigger(e,t,r){const n=(0,l.b2)();this.logger.log("<call> trigger",e);const i=t=>(i,a)=>{if(i.properties.segment_number===e){const s={result:t};this.logger.debug("<fire> trigger",{event:i,error:a,segmentCode:e,payload:s}),r(s),n.resolve(s)}};return this.nextGen.eventHandlerAfterUpload.addListener({name:"SegmentEntry",callback:i(!0),once:!1}),this.nextGen.eventHandlerAfterUpload.addListener({name:"SegmentExit",callback:i(!1),once:!1}),this.logger.log("<done> trigger",e),n.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const r=(0,l.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new d((n=>{this.logger.log("<task> segment",e);const i=this.nextGen.queryLanguageCohorts.all.current.includes(e)||!1;t(i),r.resolve(),this.logger.log("<done> segment",e),n()}))),r.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const r=(0,l.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new d((n=>{this.logger.log("<task> segments ("+t+")");const i=i=>{e(i),r.resolve(i),this.logger.log("<done> segments ("+t+")"),n()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&i([...this.addons.dfp.segments.liveSegments])})):i([...this.nextGen.queryLanguageCohorts.all.current])}))),r.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.nextGen.reset(),this.userId.reset()]).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){this.logger.debug("[Addon]",`Called for ${e}`,t);const a={...t,permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen,identities:this.identities,pageviewState:this.pageviewState,tcf:this.tcf},o=(0,n.zG)(this.nextGen.pbjsPair,s.UI(i.UI((0,l.vg)("pbjs")))),c=e=>{this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e)};if(-1===this.initialisedAddons.indexOf(e))switch(c(e),e){case"web":Promise.resolve().then(r.bind(r,9331)).then((e=>this.addons.web=new e.WebAddon(a))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":case"overlays":case"scriptrunner":case"nativo":case"freewheel":case"tiktok_pixel":case"eyeota_pixel":case"rubicon":case"twitter_pixel":case"pinterest_pixel":case"local_storage":case"appnexus_adserver":case"classification_models":case"gam_log":case"smart":case"tradedesk":case"appnexus":case"pubmatic":0;break;case"dfp":Promise.resolve().then(r.bind(r,5864)).then((async e=>this.addons.dfp=await e.createAddon(a)));break;case"facebook_pixel_v2":Promise.resolve().then(r.bind(r,2991)).then((e=>this.addons.facebook_pixel_v2=new e.FacebookV2Pixel({...a,tcfStatus:{type:"missing"}})));break;case"rubicon_ssp":Promise.resolve().then(r.bind(r,695)).then((e=>this.addons.rubicon_ssp=new e.RubiconSspAddon(a)));break;case"tracking_pixel":Promise.resolve().then(r.bind(r,7661)).then((e=>this.addons.tracking_pixel=new e.PixelAddon(a)));break;case"prebid":Promise.resolve().then(r.bind(r,3854)).then((e=>this.addons.prebid=new e.PrebidAddon({...a,pbjs:o})));break;case"clean_room":Promise.resolve().then(r.bind(r,502)).then((e=>this.addons.clean_room=new e.CleanRoomAddon({...a,pbjs:o,prebidIdentifiers:this.nextGen.prebidIdentifiers})));break;case"ddp":case"dbm":Promise.resolve().then(r.bind(r,2954)).then((e=>this.tcf.registerVendorOnValidConsent("ddp",(t=>this.addons.ddp=new e.DDPPixel({...a,tcfStatus:t})))));break;case"ssp":Promise.resolve().then(r.bind(r,7205)).then((e=>this.addons.ssp=new e.SspAddon(a)))}else"web"===e&&!0!==t.auto_init&&((e,t,r,n)=>new Promise(((a,s)=>{const o=(0,i.Y3)(e);if((0,i.pC)(o))return a(o.value);r.once(t,(()=>(0,i.g_)((()=>s(new Error(`Error after waiting for event ${t}`))),a)((0,i.Y3)(e))));const c=(null==n?void 0:n.timeout)??1e4;(0,u.HJ)((()=>s(new Error(`Event ${t} was not received within the timeout period ${c}ms`))),c)})))((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())}))}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const r=(0,l.b2)(),n=()=>{e(),r.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?n():this.messages.on("permutive:ready",n);break;case"realtime":this.permutiveRealtime.isRealtime()?n():this.messages.once("permutive:realtime",n)}return r.promise}}var m=r(2216);const g=e=>{const{logger:t,consentTracking:r}=e,i=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),r.isRevoked()&&this.consentRevoked(),r.listenForConsent((()=>this.consentRevoked()),n.Q1)}async consentRevoked(){return await this.sessionManager.reset(),this.reset()}track=(0,m.v)(super.track.bind(this),i,r.isRevoked)}},h=(e,t,r,i,a,s,o,c,u,l,d,f,m,h,b,v,_,y,w,k,S,I,E,P,x,G,z,U)=>new((0,n.zG)(p,g({consentTracking:G,logger:e})))(e,t,r,i,a,s,o,c,u,l,d,f,m,h,b,v,_,y,w,k,S,I,E,P,x,z,U)},544:(e,t,r)=>{r.d(t,{Yj:()=>c,TZ:()=>o});var n=r(2865),i=r(704);var a=r(4393);const s=async e=>{await e.identities.thirdParty,await function(e,t){return(0,a.Bt)("23dc09d6-b664-425a-a76e-0eed6a6cc102","23dc09d6-b664-425a-a76e-0eed6a6cc102",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=await function(e){const t=e.trace.startSpan("identify");0;return(async e=>{const t="[Identify Init]",{logger:r,api:n,userId:a,identities:s,metrics:o,identitiesIngestor:c,messages:u,sessionManager:l}=e,d=await s.thirdParty,f=s.extractIdentifyFromQueue(e),p={...s.getIdentitiesMap(),...f.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return{...e,[r]:{id:n,...a?{expiry:a}:{},...void 0!==i?{priority:i}:{}}}}),{})},m=s.setIdentities(Object.entries(p).map((e=>{let[t,{id:r,priority:n,expiry:i}]=e;return{tag:t,id:r,...i?{expiry:i}:{},...void 0!==n?{priority:n}:{}}})));s.setReady();const g=s.getPrioritizedIdentities(p);r.log("Begin identification");const h=e.sessionCount>1&&l.sessionHasChanged()||d.identifyRequestRequired()||m.identifyRequestRequired()?await(r.debug(t,"request identity"),n.identify(o,a,g).then((e=>{const n=e.user_id;return a.isEqual(n)?{identityChanged:!1}:(r.debug(t,"fetch received new user id",n),{identityChanged:!0,userId:n})})).catch((e=>(n.reportError(`${t} Fetch failed. Got ${e}`,a.get()),{identityChanged:!1}))).then((0,i.bw)((t=>e.metrics.track({name:`sdk_identity_${t.identityChanged?"changed":"remained"}_total`,value:1,labels:{identify_reason:"sdk_init"}}))))):(r.debug(t,"skip request"),{identityChanged:!1});return c.ingestIfEligible(g).catch((e=>n.reportError(`Couldn't ingest identities, got ${e}`,h.identityChanged?h.userId:a.get()))),u.emit("permutive:user:ready"),r.debug(t,"result",h),h})(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,n.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?await c(e,t.userId):e.logger.log("Identity has not changed"),t},o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{};s(e).then(t),u(e.global,e.clientContext)};async function c(e,t){e.logger.log("Identity has changed"),await e.reset.reset(),e.userId.set(t),u(e.global,e.clientContext),e.identities.setIdentities([])}function u(e,t){return e.context=t.getContext()}},1988:(e,t,r)=>{function n(e,t,r,n){n.debug("set SDK as ready"),e.emit("permutive:api:ready"),e.emit("permutive:queries:initialised"),t.track({name:"sdk_local_storage_byte_total",value:r.getStateSizeInBytes(),labels:{}}),n.warn("sdk_query_states_byte_total metric needs re-implementing")}r.d(t,{R:()=>n})},228:(e,t,r)=>{r.d(t,{LA:()=>o});var n=r(366),i=r(5586),a=r(704);const s=(e,t,r)=>{let{api:n,state:i}=r;n.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,i.userId.get())};function o(e,t,r,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d;const u=c(e),l=a.startSpan("queued_methods"),f={api:i,state:t},p=e=>{if(e.functionName in r){r[e.functionName].apply(n,e.arguments)}else s(new Error("Does not exist."),e,f)},m=e=>!o.includes(e);u.forEach((e=>{try{m(e.functionName)&&p(e)}catch(t){const r=t instanceof Error?t:new Error("Unknown error.");s(r,e,f)}})),l.finish()}function c(e){const t=(0,n.uK)((e=>-1!==l.indexOf(e.functionName)))(e),r=t.right,s=t.left.filter((e=>"consent"!==e.functionName)),o=(0,i.Zt)(((e,t)=>u(e)&&u(t)?(0,a.lW)(f).compare(e.arguments[0],t.arguments[0]):(0,a.lW)(l).compare(e.functionName,t.functionName)));return(0,n.DY)(o)(r).concat(s)}const u=e=>"addon"===e.functionName,l=["identify","trigger","addon","track"],d=["identify"],f=["dfp","appnexus_adserver","web"]},2875:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{initialiseWebSDK:()=>initialiseWebSDK});var _permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(2865),fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(9727),fp_ts_Either__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(1385),fp_ts_function__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2275),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9246),_framework_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2846),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4672),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4393),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(7771),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(2099),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7149),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1578),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(5297),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3340),_sdkql_event_collection_events_cache_store_crypto_SHA256Digest__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6785),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1741),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2871),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8268),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(2226),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(5966),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(1248),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(6410),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(1849),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7124),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7865),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(8249),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9262),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(704),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4597),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(6924),_Config__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1287),_initialisation_identity__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(544),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(1988),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(228),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5897),_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9172),fp_ts_Task__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(1717),main_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6646),main_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(3503);const prefix="[Initialisation Web]",initialiseWebSDK=_ref=>{let{cookieStore,consentModule,core,externalData,localStorage,logger,messages,metrics,namespace,pageviewState,partialTagWithKey,permutiveData,sessionManager,tag,trace,configFromQueryParams,urls,userId}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((async()=>{const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(pageviewState.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI((e=>e.viewId)),(e=>new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_23__.W(e))),network=new main_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__.E(metrics),sessionStorage=(0,main_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_19__.u)(namespace,logger,consentModule.consentTracking.consentRef),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(consentTracking.consentRef,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_14__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_14__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_24__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_14__.iq)}))),window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_25__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_25__.bk)(document.referrer),view_id:viewId.get()}),createInternalsSpan=trace.startSpan("internals"),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_26__.z(context);(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(viewId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e])))),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(userId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["user_id",e]))));const api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_11__.F(urls,config,network,metrics,logger),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_27__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_28__.u(trace,metrics,messages),unprocessedArgs={consent:consentTracking.consentRef,logger,namespace},unprocessedEvents={PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_29__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_7__.X,permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_30__.a(config,localStorage,logger,permutiveData,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_13__.i(messages),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),webClient=(()=>{const[e,t]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(Date.now());return(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.UM)((()=>t(Date.now())),1e3),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(_framework_ref__WEBPACK_IMPORTED_MODULE_0__.vP(viewId.ref,e),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI((()=>(0,_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_26__.k)())),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.D8(((e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t))))})(),eventCacheStoreFactory=()=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.N1)((0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9625))),String),trace.traceTask("import-DBStore-main-thread"))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.UI)((e=>{let{DBStore:t}=e;return new t((0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_31__.E)(namespace,logger,consentTracking.consentRef))}))),eventsCacheFactory=()=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.SF)((0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4737))),String),trace.traceTask("import-events-cache"))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.tS)((e=>{let{EventsCache:t}=e;return(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(t.initialise(config,logger,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};api.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)}),trace,metrics,userId.ref,eventCacheStoreFactory),trace.traceTask("initialise-events-cache-main-thread"))}))),nextGen=await(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.SF)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,1110)))),trace.traceTask("import-next-gen"),fp_ts_Task__WEBPACK_IMPORTED_MODULE_32__.Qt("configureCore",core),fp_ts_Task__WEBPACK_IMPORTED_MODULE_32__.UI((e=>{let{runNextGenFeatures:t,configureCore:r}=e;return t({activationManager,addonsLoaded:addonsLoadedRef,api,clientContext,config,consentTracking:fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.G(consentTracking),core:r({eventsCacheFactory,migratedStateMaps:()=>({internal:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(permutiveData.getData("internal_query_states"),fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.DT(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.Kn)),external:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(permutiveData.getData("external_query_states"),fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.DT(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.Kn))})}),externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,sessionManager,urls,userId,viewId,pageviewState:pageviewState.ref,trace,webClient:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(webClient,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI(fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.of))})})))();(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__.p)({api,context:nextGen.metricContext,logger,messages,metrics});const state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_34__.u(permutiveData,permutiveReset,userId,viewId,logger),addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_17__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,clientContext,unprocessedEvents,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen,pageviewState);createInternalsSpan.finish(),[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_35__.Y3((()=>eval(s)),(e=>{api.reportError({...e,message:`Error running custom script ${s}`},userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_36__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised");const initialIdentifyResult=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.b2)();let globalIdentifyBound=!1;messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods),globalIdentifyBound=!0;const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0?initialIdentifyResult.resolve(permutiveGlobal.identify(e)):initialIdentifyResult.resolve()})),messages.on("permutive:blockers:empty",(()=>{if(!globalIdentifyBound){const e=permutiveGlobal.identify;permutiveGlobal.identify=t=>(e(t),initialIdentifyResult.promise)}permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_16__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_10__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_37__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,namespace,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish(),await(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_15__.TZ)({api,clientContext,externalData,global:permutiveGlobal,identities,identitiesIngestor,logger,messages,metrics,network,permutiveMethods,reset:permutiveReset,trace,userId,sessionManager,sessionCount:nextGen.metricContext.current.session_count}),(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_38__.R)(messages,metrics,state,logger),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(_framework_ref__WEBPACK_IMPORTED_MODULE_0__.vP(nextGen.realtime,nextGen.queryLanguageCohorts.all),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.D8(((e,t)=>e[0]===t[0])),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.bw((e=>{let[t,r]=e;t&&permutiveRealtime.setAsRealtime(r.length)})))}),(e=>`Exception during initialisation. Got ${e}`))}},871:(e,t,r)=>{r.r(t),r.d(t,{runSdk:()=>te});var n=r(1385),i=r(2275);var a=r(9246),s=r(1717),o=r(9727);var c=r(6809);class u{namespace;config;logger;constructor(e,t,r){this.namespace=e,this.config=t,this.logger=r}makeCookie(e,t,r){return[encodeURIComponent(this.namespace.getNamespacedStorageKey(e)),"=",t?encodeURIComponent(t):"","; expires=",r,"; domain=",this.config.cookieDomain,"; path=/; samesite=none; secure"].join("")}setCookie(e,t){if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:r,cookieDomain:n}=this.config??{};throw this.logger.warn(`Unable to set cookie. ${c.LP}`,{value:t,cookieName:e,cookieExpiry:r,cookieDomain:n}),new Error(c.LP)}const r=this.makeCookie(e,t,this.config.cookieExpiry);if(r.length>c.dG)throw this.logger.warn(`Unable to set cookie ${this.namespace.getNamespacedStorageKey(e)}. ${c.eP}`),new Error(c.eP);return this.logger.debug(`Setting cookie ${r}`),document.cookie=r,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),r=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==r?decodeURIComponent(r[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.makeCookie(e,void 0,"Thu, 01 Jan 1970 00:00:00 UTC");return this.logger.debug(`Deleting cookie ${t}`),document.cookie=t,!0}}var l=r(2216);const d=e=>{const{logger:t,consentTracking:r}=e,n=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{setCookie=(0,l.v)(super.setCookie.bind(this),n,r.isRevoked)}};var f=r(2865),p=r(3939);class m{namespace;constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,p.A)(t)}setExternalData(e,t){const r=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(r,t)}catch(e){}}setExternalJsonData(e,t){return(0,i.zG)((r=t,(0,n.Y3)((function(){var e=JSON.stringify(r);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),i.yR)),(0,n.UI)((t=>this.setExternalData(e,t))),(0,n.g_)((e=>{throw(0,f.w)(e)}),i.Q1));var r}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}const g=e=>{const{logger:t,consentTracking:r}=e,n=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},i=n,a=n;return e=>class extends e{setExternalData=(0,l.v)(super.setExternalData.bind(this),i,r.isRevoked);setExternalJsonData=(0,l.v)(super.setExternalJsonData.bind(this),a,r.isRevoked)}};var h=r(9172);class b{sdkInitTimestamp;prefix="[Permutive]"+(self.document?"[Main]":"[Worker]");debugStyle=["color: blue"].join(";");constructor(e){this.sdkInitTimestamp=e}get timeDeltaFromInit(){return`[${(new Date).getTime()-this.sdkInitTimestamp}ms]`}log(){return console.log.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}debug(){return console.debug.bind(self.console,"%s%c%s",this.timeDeltaFromInit,this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}error(){return console.error.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}}class v{log(){}debug(){}warn(){}error(){}}const _="[MESSAGES]";class y{logger;messageListenerMap={};replayQueue={};onceTracker={};defaultMessageOptions={withReplay:!1,once:!1};constructor(e){this.logger=e}on(e,t,r){const n=this.mergeMessageOptions(r);n.withReplay&&this.processReplayQueue(e,t);const i=w(e,this.messageListenerMap).push(t)-1;return n.once&&this.addToOnceTracker(e,i),i}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):w(e,this.messageListenerMap)[t]=i.Q1}emit(e,t,r){const n=this.mergeMessageOptions(r);w(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):n.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){w(e,this.replayQueue).push(t)}processReplayQueue(e,t){var r;null===(r=this.replayQueue[e])||void 0===r||r.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var r;null===(r=this.messageListenerMap[e])||void 0===r||r.forEach(((r,n)=>{r(t),this.removeListenerIfSetToFireOnlyOnce(e,n)}))}addToOnceTracker(e,t){w(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){var r;null!==(r=this.onceTracker[e])&&void 0!==r&&r.includes(t)&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...this.defaultMessageOptions,...e}}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(_,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(_,...t)}}const w=(e,t)=>t[e]??=[];var k=r(2925);class S{sdkInitTimestamp;timeOriginSdkInit;logger;prefix="[Metrics]";timeOriginForContext=P();pendingMetrics=[];pendingCounters={};pendingTimers={};noMetricsTracked=0;constructor(e,t,r){this.sdkInitTimestamp=e,this.timeOriginSdkInit=t,this.logger=r}isEnabled(){return!0}getNoMetricsTracked(){return this.noMetricsTracked}consume(){const e=this.pendingMetrics.concat(Object.values(this.pendingCounters).flat());return this.pendingMetrics=[],this.pendingCounters={},e}track(e){this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackCounter(e){if(this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),e.name in this.pendingCounters){const t=Object.keys(e.labels),r=this.pendingCounters[e.name].findIndex((r=>Object.keys(r.labels).length===t.length&&t.every((t=>r.labels[t]===e.labels[t]))));-1===r?this.pendingCounters[e.name].push(e):this.pendingCounters[e.name][r]=E(this.pendingCounters[e.name][r],e.value)}else this.pendingCounters[e.name]=[e]}synchroniseTimeBetweenContexts(e){return(0,i.zG)(k.gz(o.G5)(this.timeOriginForContext,this.timeOriginSdkInit),o.UI((t=>{let[r,n]=t;return e+r-n})))}trackTimeSinceInit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();(0,i.zG)(this.synchroniseTimeBetweenContexts(r),o.UI((e=>(e-this.sdkInitTimestamp)/1e3)),o.UI((r=>this.track({name:e,value:r,labels:t}))))}startTimer(e,t){const r=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:r,labels:t},n}stopTimer(e,t){const r=this.pendingTimers[t];if(r){const n=(performance.now()-r.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:r.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}}class I{isEnabled(){return!1}getNoMetricsTracked(){return 0}consume(){return[]}track(e){}trackCounter(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}const E=(e,t)=>({...e,value:e.value+t}),P=()=>(0,i.zG)(o.Y3((()=>performance.timeOrigin)),o.hX((e=>"number"==typeof e&&!Number.isNaN(e))));var x=r(704),G=r(109),z=r(944);class U{config;namespace;logger;prefix="[Data Store]";permutiveData={};permutiveDataSize=0;localStorageScheduler;localStorageQueue=new Set;debouncedStorageKeys;debouncedFlush;constructor(e,t,r){this.config=e,this.namespace=t,this.logger=r,this.localStorageScheduler=new G.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return{...this.getDataChunk("misc"),...this.getDataChunk("queries")}}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),r=window.localStorage.getItem(t),n=null===r?null:(0,p.A)(r);return r&&n?(this.permutiveDataSize+=2*r.length,n):{}}chunkKeyToStorageKey(e){switch(e){case"queries":return this.config.permutiveDataQueriesKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,r]=this.dataKeyToChunkInfo(e);return n.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(r))),(t=>{const r=(0,f.w)(t);return this.logError(`Failed to set ${e}. Got ${r}`),r}))}dataKeyToChunkInfo(e){const t=e=>(0,x.eu)(this.permutiveData,e);switch(e){case"internal_query_states":case"external_query_states":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(D)];case z.Kd:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:tiktok_pixel":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(C)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}const D=["internal_query_states","external_query_states","event-source-id"],C=[z.Kd,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:tiktok_pixel","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"],q=e=>{const{logger:t,consentTracking:r}=e,i=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),n.F2(void 0));return e=>class extends e{writeData=(0,l.v)(super.writeData.bind(this),i,r.isRevoked)}};class T{config;constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}var O=r(2846);class M{config;cookies;externalData;ref;isNewlyGenerated;setState;constructor(e,t,r,n){this.config=e,this.cookies=t,this.externalData=r;const[a,s]=O.Ue(this.getOrGenerateUserId());this.ref=(0,i.zG)(a,O.UI((e=>e.userId))),this.isNewlyGenerated=(0,i.zG)(a,O.UI((e=>e.isNewlyGenerated))),this.setState=s,(0,i.zG)(O.vP(this.ref,n),O.YP((e=>{let[t,r]=e;r?(this.cookies.setCookie(this.config.cookieName,t),this.externalData.setExternalData(this.config.cookieName,t)):(this.cookies.deleteCookie(this.config.cookieName),this.externalData.removeExternalData(this.config.cookieName))})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setState({userId:e,isNewlyGenerated:!1})}reset(){this.setState({userId:(0,x.k$)(),isNewlyGenerated:!0})}getOrGenerateUserId(){return(0,i.zG)(this.getUserIdFromCookie(),o.wp((()=>this.getUserIdFromLocalStorage())),o.UI((e=>({userId:e,isNewlyGenerated:!1}))),o.fS((()=>({userId:(0,x.k$)(),isNewlyGenerated:!0}))))}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=o.DT(x.Gz);return(0,i.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),o.ij,o.tS(t))}}class A{config;PATH_JOINER_Q="?";PATH_JOINER_A="&";constructor(e){this.config=e}getBaseUrl(){return`${this.config.apiProtocol}://${this.config.apiHost}`}getEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,r)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,r)}getClassificationModelsEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,r)}getAudienceMatchingEndpointUrl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${r}/audiences`;return this.getUrl("audience-matching",i,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,r,n){const i=this.getUrlPrefix(e),a=(0,o.g_)((()=>""),(e=>`/${e}`))(r),s=`${this.getBaseUrl()}${i}${a}${t}`;return this.makeUrlWithQueryParams(s,n.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const r=t.map((e=>{let[t,r]=e;return`${t}=${r}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${r}`}}const B=`permutive.${self.document?"main":"worker"}.`;class R{config;shouldUsePerformanceMark=!1;constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=((null===(t=self.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled)??!1}startSpan(e){const t=this.generateSpan(e);return t.start(),{spanId:t.spanId,finish:t.finish}}measureSinceInit(e){const t=this.generateSpan(`${e}_since_init`);return t.start({startTime:h.NC}),{spanId:t.spanId,finish:t.finish}}traceTask(e){return t=>async()=>{const r=this.startSpan(e),n=await t();return r.finish(),n}}measureBetween(e,t,r){const n=this.generateSpan(e);n.start({startTime:t}),n.finish({startTime:r})}generateSpan(e){if(!this.shouldUsePerformanceMark)return{spanId:null,start:()=>{},finish:()=>{}};const{spanName:t,startMarkerName:r,endMarkerName:n}=R.generateUniqueMarkerNames(e);return{spanId:r,start:e=>{var t;return null===(t=self.performance)||void 0===t?void 0:t.mark(r,e)},finish:e=>{var i,a,s;null===(i=self.performance)||void 0===i||i.mark(n,{startTime:(null==e?void 0:e.startTime)??performance.now()}),null===(a=self.performance)||void 0===a||null===(s=a.measure)||void 0===s||s.call(a,t,r,n)}}}static generateUniqueMarkerNames(e){const t=`${B}${e}`,r=`${t}${R.generateId()}`;return{spanName:t,startMarkerName:`${r}_start`,endMarkerName:`${r}_end`}}static generateId(){return"_"+Math.random().toString(36).substr(2,9)}}var j=r(1287),L=r(1367),F=r(366),$=r(2875),N=r(6513),K=r(8151);const Y=e=>{const{partialTagWithKey:t}=e,r=t.key;var a;window[r].consent=(a=e,(0,i.ls)(a.consentModule.consentValidation,o.DT(Boolean),o.UI((0,$.initialiseWebSDK)(a)),i.Q1));const c=(0,o.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,i.zG)((0,i.a9)(t.consentDatabase.get(N.L)),(0,s.UI)((e=>(0,K.J)(t.consentRequired,e).isValid)));var t}),s.of);return(0,i.zG)((0,i.zG)((e=>{let{consentModule:t,tag:r}=e;const n=(0,F.Ew)((function(e){return"consent"===e.functionName}))(r.q);return(0,o.UI)((e=>t.consentValidation(e.arguments[0])))(n)})(e),c),(0,s.UI)((e=>e?(0,n.F2)(!0):(0,n.t$)("No consent to run on the page"))))},Q=e=>(0,i.zG)((e=>"function"==typeof e.Map?(0,n.F2)(new e.Map([["a",1]])):(0,n.t$)("Maps not supported"))(e),n.tS((e=>1===e.size?(0,n.F2)(null):(0,n.t$)("Iterable Maps not supported")))),H=e=>(0,i.zG)((e=>"function"==typeof e.Set?(0,n.F2)(new e.Set([1,2])):(0,n.t$)("Sets not supported"))(e),n.tS((e=>2===e.size?(0,n.F2)(null):(0,n.t$)("Iterable Sets not supported")))),W=e=>(0,i.zG)((0,k.gz)(n.G5)(Q(e),H(e),(e=>e.Worker&&e.Blob?(0,n.F2)(null):(0,n.t$)("WebWorkers not supported"))(e)),(e=>(0,n.UI)(i.Q1)(e)));const V=()=>{const e=(0,r(691).Z)(),t=(e=>{const t=[],r=[],n=()=>{for(;t.length>0&&r.length>0;)r.shift()()},i=e=>new Promise((t=>{r.push((()=>t(e()))),(0,h.HJ)(n)}));return e.addEventListener("message",(0,h.GL)((e=>{null!==e.data&&(t.push(e.data),(0,h.HJ)(n))}))),{next:()=>i((()=>t.shift())),read:()=>i((()=>t.splice(0)))}})(e);return e.postMessage(null),n=>function(e){let{worker:t,trace:n,metrics:a,...c}=e;return t.send({...c,globals:self._____workerGlobals,initialTimestampSecs:(0,i.zG)(o.lo(!1),o.UI((()=>Math.floor(Date.now()/1e3)))),metricsEnabled:a.isEnabled(),timeOriginMainContext:P()}),(0,i.zG)((0,h.SF)((()=>Promise.resolve().then(r.bind(r,9168)))),n.traceTask("import-master-low-priority"),s.UI((e=>r=>e.startMaster({...r,metrics:a,trace:n,worker:t}))))}({...n,worker:{...t,send:t=>e.postMessage(t),stop:()=>e.terminate()}})};var J=r(1849);class X{db;options;constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?{...e,last_updated:new Date(e.last_updated)}:null}reset(){return this.db.delete(this.options.session_data_key)}async persistSessionData(e){const t=e.last_updated.toISOString();await this.db.put({...e,last_updated:t},this.options.session_data_key)}static generateNewSession(e){return{session_id:(0,x.k$)(),last_updated:e}}static hasExpired(e,t,r){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*r)}static async initialise(e,t,r){const n={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1,logger:r};e.deleteCookie(n.session_data_key);const a=new Date,s=await t.get(n.session_data_key).catch(i.gn),o=X.decodeSessionData(s),c=null===o||X.hasExpired(a,o.last_updated,n.timeout_seconds)?{...X.generateNewSession(a),hasChanged:!0}:{...o,last_updated:a,hasChanged:!1},u=new X(t,(0,x.PM)(n,c));return await u.persistSessionData(c),u}}var Z=r(5297);const ee=e=>(0,i.zG)(a.Do,(0,i.ls)(a.Qt("support",a.Uo(W(self))),a.Qt("partialTagWithKey",a.Uo((e=>{var t,r;const a="23dc09d6-b664-425a-a76e-0eed6a6cc102",s=void 0!==(null===(t=e[a])||void 0===t?void 0:t.q)&&void 0!==(null===(r=e[a])||void 0===r?void 0:r.config)?a:"permutive";return(0,i.zG)(e[s],(0,n.ij)("Can't find permutive tag on the page"),(0,n.UI)((e=>({tag:e,key:s}))))})(window))),a.UI((e=>{const t=e.partialTagWithKey.key;return window[t].sdkVersion="v20.23.4",e})),a.Qt("configFromQueryParams",a.Uo((0,j.B9)())),a.Hr("tag",(e=>((e,t)=>{let{tag:r,key:n}=e;return{...r,config:(0,j.ti)({...r.config,windowKey:n},t)}})(e.partialTagWithKey,e.configFromQueryParams))),a.UI((e=>{{const r=e.partialTagWithKey.key,n=window[r];t=n,window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{const e=googletag.pubads(),r=()=>{t.track("AdRequest",{ad_server_id:"dfp",cohorts:e.getTargeting("permutive")})},n=e.getSlots().filter((e=>e.getResponseInformation())).length;for(let e=0;e<n;e++)r();e.addEventListener("slotRequested",r)}))}var t;return e})),a.Hr("trace",(e=>{let{tag:t}=e;return new R(t.config)})),a.Hr("namespace",(e=>{let{tag:t}=e;return new T(t.config)})),a.Hr("logger",(e=>{let{tag:t}=e;return function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.RP;return e.loggingEnabled&&void 0!==(null===(t=self.console)||void 0===t?void 0:t.log)?new b(r):new v}(t.config)}))),a.Hr("urls",(e=>{let{tag:t}=e;return new A(t.config)})),a.Hr("messages",(e=>{let{logger:t}=e;return new y(t)})),a.Hr("worker",(()=>V())),a.ak("consentModule",(e=>(0,i.zG)((()=>(0,L.NY)({...e,consentRequired:e.tag.config.consentRequired})),a.Vn((e=>e.message))))),a.Hr("cookieStore",(e=>{let{consentModule:t,logger:r,namespace:n,tag:a}=e;return((e,t,r,n)=>new((0,i.zG)(u,d({consentTracking:n,logger:r})))(e,t,r))(n,a.config,r,t.consentTracking)})),a.Hr("externalData",(e=>{let{consentModule:t,logger:r,namespace:n}=e;return((e,t,r)=>new((0,i.zG)(m,g({consentTracking:r,logger:t})))(e))(n,r,t.consentTracking)})),a.Hr("userId",(e=>{let{cookieStore:t,consentModule:r,externalData:n,tag:i}=e;return new M(i.config,t,n,r.consentTracking.consentRef)})),a.Hr("permutiveData",(e=>{let{tag:t,namespace:r,logger:n,consentModule:a}=e;return((e,t,r,n)=>new((0,i.zG)(U,q({consentTracking:n,logger:r})))(e,t,r))(t.config,r,n,a.consentTracking)})),a.Hr("metrics",(t=>{let{tag:r,logger:n,permutiveData:i}=t;return function(e,t,r,n,i){const a=n.getData("metricsEnabled")??(()=>{const e=Math.random()<=r.metricsSamplingPercentage/100;return n.setData("metricsEnabled",e),e})()?new S(e,t,i):new I;return a.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}}),a}(e.contextsInitTimestampPerformance,P(),r.config,i,n)})),a.Hr("pageviewState",(e=>{let{tag:t}=e;return(e=>{const t={viewId:(0,i.zG)(e.viewId,o.DT((e=>"string"==typeof e&&(0,x.Gz)(e))),o.fS(x.k$)),watsonEnabled:e.watson.enabled};return(0,i.zG)(O.Ue(t),(e=>{let[r,n]=e;return{ref:r,setState:(0,i.ls)((e=>e(r.current,t)),n)}}))})(t.config)})),(0,i.ls)(a.Hr("localStorage",(e=>{let{logger:t,namespace:r,consentModule:n}=e;return(0,J.E)(r,t,n.consentTracking.consentRef)})),a.ak("sessionManager",(e=>{let{cookieStore:t,localStorage:r,logger:n}=e;return a.Y3((()=>X.initialise(t,r,n)),(e=>`Failed to initialise session manager: ${e.message}`))})),a.Hr("core",(t=>{let{consentModule:r,metrics:n,pageviewState:a,permutiveData:s,sessionManager:c,trace:u,tag:l,userId:d,worker:f}=t;const{eventSourceId:p,isFirstPageview:m}=(0,i.zG)(o.ij(s.getData("event-source-id")),o.hX(x.Gz),o.UI((e=>({eventSourceId:e,isFirstPageview:!1}))),o.fS((()=>({eventSourceId:(0,x.k$)(),isFirstPageview:!0})))),g=r.consentTracking.consentRef;if(m)if(g.current)s.setData("event-source-id",p);else{let e=!1;g.onChange((()=>{e||(e=!0,s.setData("event-source-id",p))}))}return f({consent:g.current,eventSourceId:p,isFirstPageview:m,isSecureContext:(h=l.config,"development"===h.environment?self.isSecureContext:"https:"===self.location.protocol),metrics:n,permutiveConfig:l.config,organizationId:"23dc09d6-b664-425a-a76e-0eed6a6cc102",pageviewState:a.ref.current,sdkInitTimestampPerformance:e.contextsInitTimestampPerformance,sdkInitTimestampDate:e.contextsInitTimestamp,sessionId:c.getSessionId(),trace:u,trackPageviewComplete:!0,userId:d.get(),userIdIsNewlyGenerated:d.isNewlyGenerated.current,webClient:(0,Z.k)()});var h})),a.ak("consent",(e=>Y(e))),a.tS((e=>(0,i.zG)((0,h.SF)((()=>Promise.resolve().then(r.bind(r,2875)))),e.trace.traceTask("permutive.main.import_permutiveWebLowPriority"),s.tS((t=>t.initialiseWebSDK(e)))))))),te=e=>(e=>{e().then((0,n.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),i.Q1))})(ee(e))},704:(e,t,r)=>{r.d(t,{Bf:()=>v,G6:()=>S,Gz:()=>y,HP:()=>U,Kn:()=>l,Or:()=>P,PM:()=>f,PQ:()=>I,Z_:()=>G,a4:()=>m,aT:()=>b,b2:()=>p,bw:()=>q,cO:()=>E,eu:()=>g,k$:()=>_,lW:()=>x,lo:()=>T,m8:()=>w,mQ:()=>D,qh:()=>d,rH:()=>M,rO:()=>C,vg:()=>z});var n=r(366),i=r(2275),a=r(9727),s=r(5586),o=r(8491),c=r(7029),u=r(9172);const l=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,d=e=>Object.entries(e);function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>({...e,...t})),{})}o.ff(c.xb);function p(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),reject:t,resolve:e}}function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:s,exponentialBackOff:o,maxAttempts:c}=f(n,r);let l=0;const d=r=>new Promise((n=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>n((0,a.G)(e)))):(0,i.zG)(l++,(e=>e<c?(0,u.HJ)((()=>n(d(r*(o?2:1)))),r):n(a.YP)))))));return d(s)}function g(e,t){const r=Object.create(null);for(const n of t)r[n]=e[n];return r}let h=[];function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(h.unshift(e),h.length>1)return;const r=["beforeunload","pagehide"],n=r.concat(["visibilitychange"]),i=e=>{if(!a&&e){a=!0;const e=h;h=[],e.forEach((e=>{try{e()}catch{}}))}};let a=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const r=("visibilitychange"!==e||document.hidden)&&k(t);i(r)}))})),r.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t={capture:!0,...t};const r=["visibilitychange","pagehide"];r.forEach((r=>window.addEventListener(r,(()=>a.Y3((()=>{"pagehide"!==r&&"hidden"!==document.visibilityState||e()}))),{capture:t.capture})))}function _(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function y(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function w(){const e={},t=arguments.length;for(let r=0;r<t;r++){const[t,n]=r<0||arguments.length<=r?void 0:arguments[r];e[t]=n}return e}function k(e){return/Mobi|Android/i.test(e)}function S(e){return/^((?!chrome|android).)*safari/i.test(e)}function I(e,t){return new Promise((r=>{(0,u.HJ)((()=>{Promise.resolve(e()).then(r)}),(null==t?void 0:t.timeout)??0)}))}function E(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}const P=()=>({equals:(e,t)=>Object.is(e,t)});function x(e){return(0,s.Zt)(((t,r)=>{const n=e.indexOf(t),i=e.indexOf(r);switch(!0){case-1===n&&-1===i:return 0;case-1!==n&&-1===i:return-1;case-1===n&&-1!==i:return 1;default:return n<=i?-1:1}}))}function G(e,t,r){return function(){try{return r(...arguments)}catch(r){e.reportError(r,t.get())}}}function z(e){return t=>null!=t&&e in t?t[e]:void 0}function U(e){let t=a.YP;const r=(0,a.fS)((()=>{const r=e();return t=(0,a.G)(r),r}));return()=>r(t)}const D=e=>{const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},C=e=>t=>{const r={...t};for(const i in e){var n;r[i]=null===(n=e[i])||void 0===n?void 0:n.call(e,t[i])}return r};function q(e){return t=>(e(t),t)}const T=e=>t=>{const r=e.slice(0,-1),s=e.slice(-1)[0];return(0,i.zG)(r,n.f2((e=>{let[r,n]=e;return(0,i.zG)(t,a.DT(r),a.UI(n))})),a.fS((()=>s(t))))},O=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}},M=O(parseInt);O(parseFloat)},109:(e,t,r)=>{r.d(t,{b:()=>a});var n=r(704),i=r(9172);class a{timeoutDurationInMilliseconds;maxTimeOutDurationInMilliseconds;constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,r)}scheduleAccumulated(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,r,n,t)}scheduleForPageUnload(e){return(0,n.aT)(e)}debounce(e,t,r,a){let s,o,c,u=[];return l=>{a&&(c=a.concat(c??a.empty,l));const d=(0,n.b2)();u.push(d);var f;return null===(f=s)||void 0===f||f(),s=(0,i.HJ)((()=>{var t;null===(t=o)||void 0===t||t(),o=void 0;const r=e(c||l);u.forEach((e=>e.resolve(r))),c=null==a?void 0:a.empty,u=[]}),t),o||(o=(0,i.HJ)((()=>{var t;null===(t=s)||void 0===t||t(),o=void 0;const r=e(c||l);u.forEach((e=>e.resolve(r))),c=null==a?void 0:a.empty,u=[]}),r)),d.promise}}}},4597:(e,t,r)=>{r.d(t,{i:()=>i});var n=r(9172);class i{messages;queue=[];nextNotify=null;constructor(e){this.messages=e,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,(0,n.HJ)(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,r=0;for(let n=0;n<this.queue.length;n++){const i=this.queue[n];if(i.complete)r+=1;else if(i.started)t=!0,e=e||i.blocks();else{if(i.waits()&&t)break;e||(t=!0,e=e||i.blocks(),i.execute((()=>{this.notify()})))}}this.queue.splice(0,r)}size(){return this.queue.length}}},6924:(e,t,r)=>{r.d(t,{_Y:()=>s,bk:()=>a,zM:()=>i});var n=r(2275);const i=()=>{var e,t;const r=null===(e=window.location.href.split("?")[1])||void 0===e||null===(t=e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===r?{}:r.reduce(((e,t)=>{const[r,n]=t.split("=");return{...e,[r]:n}}),{})},a=e=>{if(!e)return"";return(0,n.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function s(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),r=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),n=e.match(/localhost/);if(r&&r.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&(null==t?void 0:t.length)>0?t[0]:n&&(null==n?void 0:n.length)>0?"localhost":""}},4223:(e,t,r)=>{r(1578),r(704),r(9172)},7145:(e,t,r)=>{r.d(t,{$7:()=>h,Cg:()=>p,Qd:()=>g,cs:()=>m,dN:()=>d,zi:()=>f});var n=r(1385),i=r(2275),a=r(9727),s=r(1583),o=r(3593),c=r(2846),u=r(704);const l="[PrebidJS]";function d(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(l,"Found keys",t);return o.K4((()=>(0,i.zG)(t,s.UI((0,i.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let r;return{windowPropertyKey:e,pbjs:(0,u.a4)((()=>r),(()=>{const t=(0,i.zG)(window,(0,u.vg)(e));return!(null==t||!t.que||"function"!=typeof(null==t?void 0:t.getEvents)||(r=t,0))}),t)}})(e)),(t=>(0,i.zG)(c.p4(t.pbjs),c.UI((r=>{const s=n.pF((r=>(r.message=`Failed to resolve key "${t.windowPropertyKey}". ${r.message}`,e.reportError(`${l} ${r.toString()}`),a.YP)));return(0,i.zG)(r,(0,u.bw)(a.UI((r=>e.logger.debug(l,`Completed check for key "${t.windowPropertyKey}"`,{result:r})))),a.UI(s),a.UI(a.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>c.vP(...e)),c.UI((e=>({completedChecks:e.every(a.pC),pbjsKeyPairs:e.map(a.xH)}))),c.UI((e=>{let{pbjsKeyPairs:t,completedChecks:r}=e;const n=t.filter(a.pC),[o,...c]=n;return{completedChecks:r,mainPair:o??a.YP,otherPairs:(0,i.zG)(c,s.DZ(i.yR))}})))))}const f=e=>"function"==typeof e.readConfig?e.readConfig():e.getConfig();function p(e){var t;const r=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains;if("string"==typeof r)return[r];if(Array.isArray(r)){const e=r.filter((e=>"string"==typeof e));return e.length>0?e:void 0}}const m=e=>{var t;const r=e.appnexus&&"object"==typeof e.appnexus&&"buyerMemberId"in e.appnexus&&e.appnexus.buyerMemberId,n=e.rubicon&&"object"==typeof e.rubicon&&"networkId"in e.rubicon&&e.rubicon.networkId,i=r||n||(null==e||null===(t=e.meta)||void 0===t?void 0:t.networkId);return i?`${i}`:void 0},g=e=>{const t=e=>isNaN(e)?void 0:e;try{return"number"==typeof e.cpm?t(e.cpm):(0,i.zG)(e.cpm??"",parseFloat,t)}catch{return}},h=e=>e.dealId?`${e.dealId}`:void 0},2099:(e,t,r)=>{r.d(t,{X:()=>n});const n=e=>{let t=!0;const r=[];return{addBlocker:n=>{r.push(n),e.logger.log("<blockers> added blocker "+n),e.messages.on(n,(()=>{if(t){const i=r.indexOf(n);i>=0&&(r.splice(i,1),e.logger.log("<blockers> removed blocker "+n)),0===r.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},1741:(e,t,r)=>{r.d(t,{X:()=>i});var n=r(2846);class i{ref;setCustomProps;constructor(){const[e,t]=n.Ue({});this.ref=e,this.setCustomProps=t}getCustomProps(){return this.ref.current}}},4737:(e,t,r)=>{r.r(t),r.d(t,{EventsCache:()=>k,RESET_HISTORICAL:()=>_});var n=r(2865),i=r(2925),a=r(1583),s=r(1385),o=r(2275),c=r(9727),u=r(1717),l=r(9246);const d=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),f=e=>({id:e.id,name:e.name,time:(p(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),p=e=>isFinite(e)&&e instanceof Date;var m=r(704),g=r(109);class h extends Error{constructor(e){super(e),this.name="StoreClosingError"}}const b="permutive-events-cache",v="permutive-events-for-page",_="historical",y="[EVENTSCACHE]",w=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class k{config;logger;reportError;trace;metrics;userId;makeEventsStore;eventStore;eventsCache=this.makeEventsRepository(b);eventsForPage=this.makeEventsRepository(v);eventsTTLInMilliseconds;readiness;debouncedReportError=(()=>new g.b(5e3,5e3).schedule((e=>this.reportError(e.errorMessage,{userId:e.userId}))))();static initialise(e,t,r,n,i,a,s){return(0,o.zG)(s(),l.UI((o=>new k(e,t,r,n,i,a,s,o))))}constructor(e,t,r,n,i,a,s,l){this.config=e,this.logger=t,this.reportError=r,this.trace=n,this.metrics=i,this.userId=a,this.makeEventsStore=s,this.eventStore=l,this.eventsTTLInMilliseconds=(0,o.zG)((0,c.ij)(this.config.eventsTTLInDays),(0,c.tS)((e=>"number"==typeof e&&e>0?(0,c.G)(24*e*3600):c.YP))),this.eventsCache.events=(0,m.HP)((()=>(0,m.PQ)((0,o.zG)(u.tD((()=>this.trace.startSpan("load_event_cache"))),u.tS((e=>(0,o.zG)(this.loadFromDisk(),u.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents())),a.onChange((()=>this.reset()))}async migratePreviousPagesEvents(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,u.pE)((e=>(0,l.Y3)((()=>e.flush()),n.w)));return(0,o.zG)([this.eventsForPage,this.eventsCache],t,(0,u.UI)((t=>{const r=a.bj(t);return r.length>0&&this.reportError(`Migrate previous events failed. Got:\n${r.join("\n ")}`,{userId:this.userId.current}),e.finish()})),(e=>e()))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(a.xH)}async add(e,t){let{persistOnDisk:r}=t;return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,o.zG)(this.eventsForPage.events,u.UI((t=>[...t,e])),m.HP),r&&this.readiness.then((()=>this.eventsForPage.flush())),e}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(r<=0||t<=r)return this.logDebug(`Event size of ${t} less than limit of ${r}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:r});let n=1,i=[...e];for(;t>r;)i.splice(0,n),n*=2,t=2*JSON.stringify(i).length;return this.logDebug("Events after pruning",{count:i.length,sizeInBytes:t}),{events:i,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,o.zG)(this.eventsTTLInMilliseconds,c.EQ((()=>o.yR),(e=>a.hX((t=>e>Date.now()-t.time.getTime())))));return(0,o.zG)(u.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),u.YO("loadEventsCacheTask"),u.ak("eventsFromDisk",(()=>(0,o.zG)(a.nI([this.eventStore.get(b),this.eventStore.get(v)]),a.UI(l.LV((0,m.lo)([[e=>e instanceof h,(0,o.ls)(e,u.of)],t=>(0,o.zG)(u.tD((()=>this.reportError(`Error fetching data from store. Got ${t}`,{userId:this.userId.current}))),u.tS((()=>()=>this.reset("historical"))),u.UI(e))]),(0,o.ls)(c.fS(e),u.of))),a.vP(u.qA)))),u.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:r}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",r)}})),u.UI((0,o.ls)((0,m.vg)("eventsFromDisk"),a.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),a.UI(d),t)))}async reset(e){return(0,o.zG)(u.tD((()=>this.logDebug("Resetting Events Cache"))),u.tS((()=>this.eventStore.deleteStore())),l.tS((()=>this.makeEventsStore())),l.Zl((t=>(this.eventStore=t,e===_?i.gz(l.Ij)(this.eventsCache.reset,this.eventsForPage.flush):i.gz(l.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),l.wE((()=>()=>this.all())),l.fS((()=>u.of(S()))),(e=>e()))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(s.F2((0,o.Q1)()));return t=>e=e.then(t)})(),r=e=>(0,o.zG)(u.tD((()=>this.logDebug(`Writing ${e.length} events to ${b.key}`))),u.tS((()=>this.eventStore.put(e.map(f),b.key))),l.UI(o.Q1)),i=(0,o.zG)(u.tD((()=>this.logDebug(`Deleting events for ${b.key}`))),u.tS((()=>this.eventStore.delete(b.key))),l.Vn(n.w)),a=(0,o.ls)(u.of,u.At((e=>()=>this.logError(`Events cache failed to put ${b.key}. Got ${e}`))),u.tS((0,m.lo)([[e=>w(e)&&b.retryAttempts<9,()=>(0,o.zG)(u.tD((()=>{b.retryAttempts+=1,this.logDebug(`Attempt #${b.retryAttempts} to write ${b.key} to EventsStore`)})),u.tS((()=>h)),u.tS((()=>d)))],[e=>w(e),e=>(0,o.zG)(u.tD((()=>this.logDebug(`Attempted ${b.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),u.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${b.key}. Got ${e}`,userId:this.userId.current}))),u.tS((()=>l.t$(e))))],l.t$]))),c=e=>l.tD((()=>{this.logDebug(`Successfully wrote events for ${b.key} after ${b.retryAttempts} attempts`),b.retryAttempts=0,b.sizeInBytes=2*JSON.stringify(e).length,b.sizeInBytesLastSuccessfulWrite=b.sizeInBytes})),d=(0,o.zG)((()=>b.events()),u.tS((e=>(0,o.zG)(r(e),u.mU(s.EQ(a,(()=>c(e)))))))),p=(e,t)=>(0,o.zG)(e.events,u.UI((r=>{const n=2*JSON.stringify(r).length,i=this.pruneEventsToSizeLimit(r,n,t);return e.events=u.of(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes}))),g=(e,t)=>{let[r,...n]=e;return r&&0!==t?(0,o.zG)(p(r,t),u.tS((e=>(this.logDebug(`${e} left after pruning ${r.key}`),g(n,e))))):u.of((0,o.Q1)())},h=(0,o.zG)(l.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),l.fX(s.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),l.tS((e=>{const t=1.2*e,r=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,r),(0,o.zG)(g(r,t),l.fF)}))),b={key:e,events:u.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,o.zG)(u.tD((()=>this.trace.startSpan(`write_${b.key}`))),u.tS((e=>(0,o.zG)(d,u.At((()=>()=>e.finish()))))),t),reset:()=>(0,o.zG)(u.tD((()=>{b.events=u.of([]),b.sizeInBytes=0,b.sizeInBytesLastSuccessfulWrite=0})),u.tS((()=>i)),t)};return b}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(y,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.warn(y,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(y,...t)}logLog(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(y,...t)}}const S=()=>[]},9625:(e,t,r)=>{r.r(t),r.d(t,{DBStore:()=>s});var n=r(2865),i=r(9727),a=r(9246);class s{db;constructor(e){this.db=Promise.resolve(e)}put(e,t){return(0,a.Y3)((()=>this.db.then((r=>r.put(e,t)))),n.w)}get(e){return(0,a.Y3)((()=>this.db.then((t=>t.get(e))).then(i.ij)),n.w)}delete(e){return(0,a.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,a.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}},3340:(e,t,r)=>{r(704)},6785:(e,t,r)=>{r(9172)},3854:(e,t,r)=>{r.r(t),r.d(t,{PrebidAddon:()=>_,load:()=>v});var n=r(1578),i=r(366),a=r(1385),s=r(2275),o=r(9727),c=r(2846),u=r(704),l=r(7145);const d="prebidAddonLoadingtime",f="prebidAddonInitStart",p="prebidAddonInitEnd",m=(0,n.Hn)("prebid")("revenue_insights_enabled",!1);class g{logger;options;permutive;trackedBids=[];constructor(e){this.logger=e.logger,this.permutive=e.permutive,this.options=e,this.startRevenueInsights()}async startRevenueInsights(){if(this.logger.debug("[Revenue Insights]","revenue insights enabled",m),!1===m)return;performance.mark(f);const e={maxAttempts:200,waitTimeInMs:50};(0,s.zG)(this.options.pbjs,c.UI(o.UI((t=>(0,u.a4)((()=>this.runRevenueInsights(t)),(()=>{var e;return!(null===(e=window.googletag)||void 0===e||!e.pubads)}),e)))))}runRevenueInsights(e){this.trackMetrics();const t=()=>{e.getAllWinningBids().forEach((e=>r(e,!0))),e.onEvent("bidWon",(e=>r(e,!0)))},r=(e,t)=>(0,a.Y3)((()=>d(e,t)),(e=>{})),n=e=>{var t,r,n,i,a;const s=(null==e||null===(t=e.meta)||void 0===t?void 0:t.brandName)||(null==e||null===(r=e.meta)||void 0===r?void 0:r.clickUrl)||(null==e||null===(n=e.adomain)||void 0===n?void 0:n[0])||(null==e||null===(i=e.meta)||void 0===i?void 0:i.advertiserName)||((0,l.Cg)(e)??[])[0]||(null==e||null===(a=e.adserverTargeting)||void 0===a?void 0:a.hb_adomain);return s?`${s}`:void 0},s=e=>{var t,r,n;const i=e.rubicon&&"object"==typeof e.rubicon&&"advertiserId"in e.rubicon&&e.rubicon.advertiserId||(null==e||null===(t=e.meta)||void 0===t?void 0:t.brandId)||(null==e||null===(r=e.meta)||void 0===r?void 0:r.buyerId)||(null==e||null===(n=e.meta)||void 0===n?void 0:n.advertiserId);return i?`${i}`:void 0},o={equals:(e,t)=>e.ad_unit_code===t.ad_unit_code&&e.ad_id===t.ad_id&&e.auction_id===t.auction_id&&e.winning_bid===t.winning_bid},c=e=>!(0,i.t9)(o)(e,this.trackedBids),d=(t,r)=>{const i=(0,l.zi)(e),a=((e,t,r)=>({ad_id:e.adId??"",ad_unit_code:e.adUnitCode??"",bidder:e.bidder,bidder_timeout:r,deal_id:(0,l.$7)(e),cpm:(0,l.Qd)(e),hb_pb:e.adserverTargeting&&e.adserverTargeting.hb_pb,height:(0,u.rH)(e.height),width:(0,u.rH)(e.width),time_to_respond:e.timeToRespond,bid_available:"string"==typeof e.statusMessage&&e.statusMessage.indexOf("empty")<0,winning_bid:t,advertiser_id:s(e),advertiser_name:n(e),dsp_id:(0,l.cs)(e),auction_id:e.auctionId}))(t,r,(0,u.rH)(i.bidderTimeout));c(a)&&(a.cpm&&a.cpm>0&&r&&this.permutive.track("PrebidBid",a),this.updateTrackedBids(a))};e.que.push((()=>{window.googletag.cmd.push(t)}))}trackMetrics(){performance.mark(p),performance.measure(d,f,p);const e=performance.getEntriesByName(d)[0].duration;this.options.metrics.track({name:"sdk_addon_init_duration_seconds",value:e,labels:{addon:"prebid"}})}updateTrackedBids(e){const t=this.trackedBids.findIndex((t=>e.ad_id===t.ad_id&&e.winning_bid!==t.winning_bid));t>-1?this.trackedBids[t]={...this.trackedBids[t],...e}:this.trackedBids.push(e)}}const h="prebid",b=(0,n.Hn)("prebid")("data_provider_config",{ac_bidders:[]}),v=e=>{(0,n.Hn)(h)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[h,{}]})};class _ extends g{externalData;dataProviderParamsFromIntegrationConfig={};constructor(e){super(e),this.externalData=e.externalData,this.parsePrebidConfig()}getPermutiveRtdConfig(){return this.logDebug("RTD config retrieved",this.dataProviderParamsFromIntegrationConfig),this.dataProviderParamsFromIntegrationConfig}storeAndSetPermutiveRtdConfig(e){this.externalData.setExternalJsonData("permutive-prebid-rtd",e),this.dataProviderParamsFromIntegrationConfig=e}parsePrebidConfig(){this.logDebug("data provider config",b);const{ac_bidders:e}=b;this.storeAndSetPermutiveRtdConfig({acBidders:e})}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log("[prebid]",...t)}}},5952:(e,t,r)=>{r.r(t),r.d(t,{eventCacheService:()=>u,eventNameBlacklist:()=>l});var n=r(2846),i=r(3593),a=r(2444),s=r(2275),o=r(1583),c=r(704);const u=e=>i.K4((()=>({newEvents:(0,s.zG)(e.newEvents,n.UI(a.UI((0,c.bw)(o.UI((t=>{let[,r]=t;l.has(r.name)||e.eventsCache.add(r,{persistOnDisk:!0})})))))),priorEvents:()=>e.eventsCache.all()}))),l=new Set(["AdRequest","PageviewEngagement","PrebidAuctions","Reaction","SegmentEntry","SegmentExit","SlotRendered","ThirdPartySegments","VideoEngagement"])},944:(e,t,r)=>{r.d(t,{Kd:()=>i,eJ:()=>a});r(1578);var n=r(3593);r(2846),r(704);const i="addon:twitter_pixel",a=function(e){return n.K4((()=>{}))}},2925:(e,t,r)=>{r.d(t,{Qt:()=>s,Yt:()=>d,ap:()=>a,gz:()=>l});var n=r(2275),i=r(7963);function a(e,t){return function(r){return function(n){return e.ap(e.map(n,(function(e){return function(r){return t.ap(e,r)}})),r)}}}function s(e){return function(t,r){return function(n){return e.ap(e.map(n,(function(e){return function(r){var n;return Object.assign({},e,((n={})[t]=r,n))}})),r)}}}function o(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,0===t?e.apply(null,i):o(e,t-1,i)}}var c={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function u(e){return i.e$.call(c,e)||(c[e]=o(n.bc,e-1,[])),c[e]}function l(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=u(n),a=e.map(t[0],i),s=1;s<n;s++)a=e.ap(a,t[s]);return a}}function d(e){return function(t){for(var r=Object.keys(t),n=r.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var r;return(r={})[e[0]]=t,r};case 2:return function(t){return function(r){var n;return(n={})[e[0]]=t,n[e[1]]=r,n}};case 3:return function(t){return function(r){return function(n){var i;return(i={})[e[0]]=t,i[e[1]]=r,i[e[2]]=n,i}}};case 4:return function(t){return function(r){return function(n){return function(i){var a;return(a={})[e[0]]=t,a[e[1]]=r,a[e[2]]=n,a[e[3]]=i,a}}}};case 5:return function(t){return function(r){return function(n){return function(i){return function(a){var s;return(s={})[e[0]]=t,s[e[1]]=r,s[e[2]]=n,s[e[3]]=i,s[e[4]]=a,s}}}}};default:return o((function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i={},a=0;a<t;a++)i[e[a]]=r[a];return i}),t-1,[])}}(r),a=e.map(t[r[0]],i),s=1;s<n;s++)a=e.ap(a,t[r[s]]);return a}}},366:(e,t,r)=>{r.d(t,{oA:()=>y,t9:()=>p,DZ:()=>_,Ew:()=>u,f2:()=>l,xH:()=>b,jV:()=>m,uK:()=>w,tV:()=>S,u4:()=>E,DY:()=>f});var n=r(2275),i=(r(7560),r(7963)),a=r(817);i.r1;var s=function(e){return[e]};a.xP,a.Lx,a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh,i.F4,a.YM,a.Z$,a.VV,a.Fp,a.j0;a.ur;var o=r(1583),c=r(4219);r(6511);o.P5,o.YM,o.Z$;o.cx;function u(e){return o.Ew(e)}var l=o.f2;o.JO,o.qr;var d=function(e){return e.slice()},f=function(e){return function(t){return t.length<=1?d(t):t.slice().sort(e.compare)}};var p=o.t9;function m(e){var t=p(e);return function(r,n){if(void 0===n){var i=m(e);return function(e){return i(e,r)}}return r.filter((function(e){return t(e,n)}))}}o.kp,o.Eq;var g=s,h=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},b=h(n.yR),v=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var a=e(n,t[n]);i.pC(a)&&r.push(a.value)}return r}},_=function(e){return v((function(t,r){return e(r)}))},y=_(n.yR),w=function(e){return k((function(t,r){return e(r)}))},k=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,c.s4)(r,n)}},S=function(e){return I((function(t,r){return e(r)}))},I=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=e(i,t[i]);"Left"===a._tag?r.push(a.left):n.push(a.right)}return(0,c.s4)(r,n)}},E=(o.Lx,o.xP,o.u4);o.OE,o.nq,o.iw,o.ZN,o.Eh,o.pR,o.pJ,o.oR,o.yW,o.j0,i.F4},8543:(e,t,r)=>{function n(e){return function(t){return function(r){return e.chain(r,(function(r){return e.map(t(r),(function(){return r}))}))}}}function i(e){return function(t,r){return function(n){return e.chain(n,(function(n){return e.map(r(n),(function(e){var r;return Object.assign({},n,((r={})[t]=e,r))}))}))}}}r.d(t,{a:()=>i,m:()=>n})},1385:(e,t,r)=>{r.d(t,{G5:()=>b,dO:()=>m,Pd:()=>w,ak:()=>j,tS:()=>_,Y$:()=>q,g_:()=>U,ij:()=>M,Yo:()=>E,DT:()=>I,fS:()=>C,pF:()=>D,nM:()=>P,t$:()=>o,UI:()=>p,Vn:()=>k,EQ:()=>z,vx:()=>O,F2:()=>c,LF:()=>T,KC:()=>R,i$:()=>B,Y3:()=>A});var n=r(8543),i=r(5162),a=r(2275),s=(r(7560),r(7963)),o=s.t$,c=s.F2,u=function(e,t){return(0,a.zG)(e,p(t))},l=function(e,t){return(0,a.zG)(e,h(t))},d=function(e,t){return(0,a.zG)(e,_(t))},f="Either",p=function(e){return function(t){return P(t)?t:c(e(t.right))}},m={URI:f,map:u},g=c,h=function(e){return function(t){return P(t)?t:P(e)?e:c(t.right(e.right))}},b={URI:f,map:u,ap:l},v=function(e){return function(t){return P(t)?t:e(t.right)}},_=v,y={URI:f,map:u,ap:l,chain:d},w=function(e,t){return function(r){return P(r)?o(e(r.left)):c(t(r.right))}},k=function(e){return function(t){return P(t)?o(e(t.left)):t}},S={URI:f,fromEither:a.yR},I=(0,i.DT)(S),E=(0,i.Yo)(S),P=s.nM,x=(s.tO,function(e,t){return function(r){return P(r)?e(r.left):t(r.right)}}),G=x,z=x,U=z,D=function(e){return function(t){return P(t)?e(t.left):t.right}},C=D,q=(0,i.Y$)(S,y),T=function(e){return P(e)?c(e.left):o(e.right)},O=function(e){return function(t){return P(t)?e(t.left):t}},M=function(e){return function(t){return null==t?o(e):c(t)}},A=function(e,t){try{return c(e())}catch(e){return o(t(e))}},B=G(a.yR,a.yR);function R(e){return e instanceof Error?e:new Error(String(e))}s.F4;var j=(0,n.a)(y);s.Xl},1890:(e,t,r)=>{r.d(t,{EQ:()=>y,F2:()=>o,KQ:()=>f,LF:()=>P,LU:()=>E,LV:()=>w,NG:()=>p,Pd:()=>v,UI:()=>m,Vn:()=>_,ap:()=>g,dQ:()=>I,fS:()=>k,i$:()=>x,ij:()=>d,m8:()=>u,pk:()=>l,t$:()=>c,tS:()=>h,vx:()=>S,wp:()=>b});var n=r(2925),i=r(1385),a=r(2275),s=r(7560);function o(e){return(0,a.ls)(i.F2,e.of)}function c(e){return(0,a.ls)(i.t$,e.of)}function u(e){return function(t){return e.map(t,i.F2)}}function l(e){return function(t){return e.map(t,i.t$)}}function d(e){return function(t){return(0,a.ls)(i.ij(t),e.of)}}function f(e){var t=d(e);return function(e){var r=t(e);return function(e){return(0,a.ls)(e,r)}}}function p(e){var t=h(e),r=f(e);return function(e){var n=r(e);return function(e){return t(n(e))}}}function m(e){return(0,s.UI)(e,i.dO)}function g(e){return(0,n.ap)(e,i.G5)}function h(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?e.of(r):t(r.right)}))}}}function b(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t():e.of(r)}))}}}function v(e){return function(t,r){return function(n){return e.map(n,i.Pd(t,r))}}}function _(e){return function(t){return function(r){return e.map(r,i.Vn(t))}}}function y(e){return function(t,r){return function(n){return e.map(n,i.EQ(t,r))}}}function w(e){return function(t,r){return function(n){return e.chain(n,i.EQ(t,r))}}}function k(e){return function(t){return function(r){return e.chain(r,i.EQ(t,e.of))}}}function S(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t(r.left):e.of(r)}))}}}function I(e){var t=S(e);return function(r){return t((function(t){return e.map(r(t),(function(e){return i.nM(e)?e:i.t$(t)}))}))}}function E(e){return function(t){return function(r){return e.chain(r,i.EQ((function(r){return e.map(t(r),i.t$)}),(function(t){return e.of(i.F2(t))})))}}}function P(e){return function(t){return e.map(t,i.LF)}}function x(e){return function(t){return e.map(t,i.i$)}}},5191:(e,t,r)=>{r.d(t,{f7:()=>n,n_:()=>i,w4:()=>a});r(2275);var n=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},i=function(e){return n((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},a={equals:function(e,t){return e===t}};a.equals},5162:(e,t,r)=>{r.d(t,{DT:()=>s,Y$:()=>u,Yo:()=>a,fX:()=>c});var n=r(2275),i=r(7963);function a(e){return function(t){return function(r){return e.fromEither(i.Wi(r)?i.t$(t()):i.F2(r.value))}}}function s(e){return function(t,r){return function(n){return e.fromEither(t(n)?i.F2(n):i.t$(r(n)))}}}function o(e){return function(t){return(0,n.ls)(t,e.fromEither)}}function c(e,t){var r=o(e);return function(e){return function(n){return t.chain(n,r(e))}}}function u(e,t){return function(r,n){return function(a){return t.chain(a,(function(t){return e.fromEither(r(t)?i.F2(t):i.t$(n(t)))}))}}}},7560:(e,t,r)=>{function n(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.map(e,r)}))}}}function i(e){return function(t){return function(r){return e.map(r,(function(e){var r;return(r={})[t]=e,r}))}}}function a(e){return function(t,r){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))}))}}}r.d(t,{Hr:()=>a,UI:()=>n,YO:()=>i})},2444:(e,t,r)=>{r.d(t,{G5:()=>l,RD:()=>m,UI:()=>o,of:()=>c});var n=r(2275),i=(r(7560),r(7963)),a=function(e,t){return function(){return t(e())}},s=function(e,t){return function(){return e()(t())}},o=function(e){return function(t){return a(t,e)}},c=n.a9,u="IO",l={URI:u,map:a,ap:s},d=(n.yR,n.yR,i.F4,c(i.Xl)),f=function(e){var t=function(e){return function(t){return function(){for(var r=[e(0,i.YM(t))()],n=1;n<t.length;n++)r.push(e(n,t[n])());return r}}}(e);return function(e){return i.Od(e)?t(e):d}},p=function(e){return f((function(t,r){return e(r)}))},m=p(n.yR)},9727:(e,t,r)=>{r.d(t,{G5:()=>x,Ri:()=>M,xu:()=>L,dO:()=>I,wp:()=>U,tS:()=>G,mU:()=>V,hX:()=>A,DZ:()=>B,xH:()=>W,g_:()=>Q,Uo:()=>F,ij:()=>J,KQ:()=>Z,DT:()=>d,Eh:()=>k,IS:()=>f,fS:()=>H,EK:()=>p,lo:()=>C,Wi:()=>N,pC:()=>$,UI:()=>S,EQ:()=>Y,aD:()=>K,YP:()=>u,of:()=>E,RD:()=>ne,G:()=>l,FS:()=>ee,Y3:()=>X,bM:()=>D});var n=r(8543),i=r(2275),a=(r(7560),r(7963)),s=r(8491),o=r(4219);r(6511);function c(e,t){return function(r){return r?t.of(void 0):e.zero()}}var u=a.YP,l=a.G;function d(e){return function(t){return e(t)?l(t):u}}var f=function(e){return"Right"===e._tag?u:l(e.left)},p=function(e){return"Left"===e._tag?u:l(e.right)},m=function(e,t){return(0,i.zG)(e,S(t))},g=function(e,t){return(0,i.zG)(e,P(t))},h=function(e,t){return(0,i.zG)(e,G(t))},b=function(e,t){return(0,i.zG)(e,A(t))},v=function(e,t){return(0,i.zG)(e,B(t))},_=function(e,t){return(0,i.zG)(e,R(t))},y=function(e,t){return(0,i.zG)(e,j(t))},w="Option",k=function(e){return{equals:function(t,r){return t===r||(N(t)?N(r):!N(r)&&e.equals(t.value,r.value))}}},S=function(e){return function(t){return N(t)?u:l(e(t.value))}},I={URI:w,map:m},E=l,P=function(e){return function(t){return N(t)||N(e)?u:l(t.value(e.value))}},x={URI:w,map:m,ap:g},G=function(e){return function(t){return N(t)?u:e(t.value)}},z={URI:w,map:m,ap:g,chain:h},U=function(e){return function(t){return N(t)?e():t}},D=function(){return u},C=c({URI:w,zero:D},{URI:w,of:E}),q=G(i.yR),T=(0,o.s4)(u,u),O=function(e){return N(e)?T:(0,o.s4)(f(e.value),p(e.value))},M={URI:w,compact:q,separate:O},A=function(e){return function(t){return N(t)?u:e(t.value)?t:u}},B=function(e){return function(t){return N(t)?u:e(t.value)}},R=function(e){return function(t){return(0,o.s4)(b(t,(0,s.ff)(e)),b(t,e))}},j=function(e){return(0,i.ls)(S(e),O)},L={URI:w,map:m,compact:q,separate:O,filter:b,filterMap:v,partition:_,partitionMap:y},F=p,$=a.pC,N=function(e){return"None"===e._tag},K=function(e,t){return function(r){return N(r)?e():t(r.value)}},Y=K,Q=Y,H=function(e){return function(t){return N(t)?e():t.value}},W=q,V=(0,n.m)(z),J=function(e){return null==e?u:l(e)},X=function(e){try{return l(e())}catch(e){return u}},Z=function(e){return(0,i.ls)(e,J)},ee=Y(i.r5,i.yR);a.F4;var te=E(a.Xl),re=function(e){var t=function(e){return function(t){var r=e(0,a.YM(t));if(N(r))return u;for(var n=[r.value],i=1;i<t.length;i++){var s=e(i,t[i]);if(N(s))return u;n.push(s.value)}return l(n)}}(e);return function(e){return a.Od(e)?t(e):te}},ne=function(e){return re((function(t,r){return e(r)}))}(i.yR)},5586:(e,t,r)=>{r.d(t,{Fp:()=>c,VV:()=>o,Zt:()=>s,uZ:()=>u});var n=r(5191),i=r(2275),a=function(e){return function(t,r){return t===r||0===e(t,r)}},s=function(e){return{equals:a(e),compare:function(t,r){return t===r?0:e(t,r)}}},o=(i.W8,function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}}),c=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}},u=function(e){var t=o(e),r=c(e);return function(e,n){return function(i){return r(t(i,n),e)}}};n.w4.equals},8491:(e,t,r)=>{r.d(t,{ff:()=>n});r(2275);var n=function(e){return function(t){return!e(t)}}},1583:(e,t,r)=>{r.d(t,{$R:()=>x,DZ:()=>$,EQ:()=>g,Eh:()=>ne,Eq:()=>q,Ew:()=>w,G:()=>de,Hr:()=>me,JO:()=>S,Lx:()=>W,OE:()=>V,Od:()=>p,P5:()=>b,Su:()=>R,UI:()=>B,YM:()=>v,YO:()=>pe,Z$:()=>_,ZN:()=>te,bM:()=>O,bj:()=>P,cS:()=>ue,cx:()=>y,f2:()=>k,hX:()=>L,hp:()=>E,iw:()=>X,j0:()=>fe,kp:()=>C,nI:()=>ce,nq:()=>J,oA:()=>N,oR:()=>oe,of:()=>T,oh:()=>j,pJ:()=>se,pR:()=>ie,qr:()=>I,t9:()=>G,tS:()=>M,u4:()=>H,uK:()=>K,uZ:()=>re,vP:()=>Z,xH:()=>A,xP:()=>Q,xb:()=>f,yW:()=>le,zo:()=>z});var n=r(5191),i=r(2275),a=r(7560),s=r(7963),o=r(6627),c=r(5586),u=r(817),l=r(4219),d=(r(6511),function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}),f=function(e){return 0===e.length},p=u.Od,m=(u.Ce,u.ws,u.R3);u.Im;var g=function(e,t){return function(r){return p(r)?t(r):e()}},h=u.dC;function b(e,t){return void 0===t?function(t){return b(e,t)}:h(e,t)?s.YP:s.G(t[e])}var v=function(e){return p(e)?s.G(u.YM(e)):s.YP},_=function(e){return p(e)?s.G(u.Z$(e)):s.YP};var y=function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return s.G(r);return s.YP}};function w(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return s.G(t[r]);return s.YP}}var k=function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(s.pC(n))return n}return s.YP}};var S=function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(s.pC(n))return n}return s.YP}},I=function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return s.G(r);return s.YP}},E=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Right"===n._tag&&t.push(n.right)}return t},P=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Left"===n._tag&&t.push(n.left)}return t};function x(e,t){return void 0===t?function(t){return x(t,e)}:function(e,t,r){for(var n=[],i=Math.min(e.length,t.length),a=0;a<i;a++)n[a]=r(e[a],t[a]);return n}(e,t,(function(e,t){return[e,t]}))}function G(e){return function(t,r){if(void 0===r){var n=G(e);return function(e){return n(t,e)}}for(var i,a=0;a<r.length;a++)if(i=r[a],e.equals(i,t))return!0;return!1}}var z=function(e){return function(t){return f(t)?e:f(e)?t:t.concat(e)}};var U=function(e,t){return(0,i.zG)(e,B(t))},D=function(e,t,r){return(0,i.zG)(e,H(t,r))},C=function(e,t){return(0,i.zG)(e,se(t))},q=function(e,t){return(0,i.zG)(e,oe(t))},T=u.of,O=function(){return ue},M=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(f(t))return ue;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},A=M(i.yR),B=function(e){return function(t){return t.map((function(t){return e(t)}))}},R=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},j=function(e){for(var t=[],r=[],n=0,i=e;n<i.length;n++){var a=i[n];"Left"===a._tag?t.push(a.left):r.push(a.right)}return(0,l.s4)(t,r)},L=function(e){return function(t){return t.filter(e)}},F=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);s.pC(i)&&r.push(i.value)}return r}},$=function(e){return F((function(t,r){return e(r)}))},N=$(i.yR),K=function(e){return Y((function(t,r){return e(r)}))},Y=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,l.s4)(r,n)}},Q=function(e){return function(t){return function(r){return r.reduce((function(r,n,i){return e.concat(r,t(i,n))}),e.empty)}}},H=function(e,t){return V(e,(function(e,r,n){return t(r,n)}))},W=function(e){var t=Q(e);return function(e){return t((function(t,r){return e(r)}))}},V=function(e,t){return function(r){for(var n=r.length,i=e,a=0;a<n;a++)i=t(a,i,r[a]);return i}},J=function(e,t){return X(e,(function(e,r,n){return t(r,n)}))},X=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},Z=function(e){return function(t){return D(t,e.of(O()),(function(t,r){return e.ap(e.map(t,(function(e){return function(t){return(0,i.zG)(e,m(t))}})),r)}))}},ee="ReadonlyArray",te=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},re=function(){return{concat:function(e,t){return f(e)?t:f(t)?e:e.concat(t)},empty:ue}},ne=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},ie=function(e){return(0,c.Zt)((function(t,r){for(var n=t.length,i=r.length,a=Math.min(n,i),s=0;s<a;s++){var c=e.compare(t[s],r[s]);if(0!==c)return c}return o.Df.compare(n,i)}))},ae={URI:ee,map:U},se=function(e){return function(t){for(var r=d([],e(t),!0),n=[];r.length>0;){var i=r.shift();s.nM(i)?r.unshift.apply(r,e(i.left)):n.push(i.right)}return n}},oe=function(e){return function(t){var r=e(t),n=[],i=[];function a(t){s.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):i.push(t.right)}for(var o=0,c=r;o<c.length;o++){a(c[o])}for(;n.length>0;)a(n.shift());return i}},ce=(u.oo,function(e){return f(e)?ue:e.slice()}),ue=u.cS;function le(e){return function(t){return t.every(e)}}var de=function(e){return function(t){return t.some(e)}},fe=function(e){var t=u.j0(e);return function(r){return g((function(){return e.empty}),t(r))}},pe=(s.F4,(0,a.YO)(ae)),me=(0,a.Hr)(ae);u.w6,u.QI,u.Ss},817:(e,t,r)=>{r.d(t,{R3:()=>b,Im:()=>h,ur:()=>F,QI:()=>N,cS:()=>d,Lx:()=>z,xP:()=>C,c2:()=>_,Eh:()=>M,ZN:()=>O,vM:()=>S,YM:()=>A,j0:()=>$,Od:()=>f,dC:()=>p,Z$:()=>R,UI:()=>P,Fp:()=>L,VV:()=>j,of:()=>E,Ce:()=>g,ws:()=>m,w6:()=>w,u4:()=>G,nq:()=>U,iw:()=>q,OE:()=>D,Ss:()=>K,oo:()=>v});var n,i=r(5191),a=r(2275),s=(r(7560),r(7963)),o=r(5586),c=function(e){return{concat:o.VV(e)}},u=function(e){return{concat:o.Fp(e)}};n=void 0;var l=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},d=s.Xl,f=s.Od,p=function(e,t){return e<0||e>=t.length},m=function(e){return function(t){return l([e],t,!0)}},g=m,h=function(e){return function(t){return l(l([],t,!0),[e],!1)}},b=h,v=function(e,t,r){if(f(r)){var n=s.r1(r);return n.splice(e,0,t),n}return[t]},_=function(e){return f(e)?s.G(e):s.YP},y=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},w=function(e,t){return e<=t?y((function(t){return e+t}))(t-e+1):[e]};function k(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var S=function(e){return function(t){for(var r={},n=0,i=t;n<i.length;n++){var a=i[n],o=e(a);s.e$.call(r,o)?r[o].push(a):r[o]=[a]}return r}};var I=function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},E=s.ri,P=function(e){return x((function(t,r){return e(r)}))},x=function(e){return function(t){for(var r=[e(0,A(t))],n=1;n<t.length;n++)r.push(e(n,t[n]));return r}},G=function(e,t){return D(e,(function(e,r,n){return t(r,n)}))},z=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n){return e.concat(r,t(n))}),t(r[0]))}}},U=function(e,t){return q(e,(function(e,r,n){return t(r,n)}))},D=function(e,t){return function(r){return r.reduce((function(e,r,n){return t(n,e,r)}),e)}},C=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n,i){return e.concat(r,t(i+1,n))}),t(0,r[0]))}}},q=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},T=s.YM,O=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},M=function(e){return(0,i.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},A=(s.F4,T),B=s.Gb,R=function(e){return e[e.length-1]},j=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},L=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},F=function(e){return function(t){return t.reduce(e.concat)}},$=function(e){var t=F(e);return function(e){return(0,a.ls)(function(e){return function(t){var r=B(t);return f(r)?(0,a.zG)(r,I(e),g(A(t))):t}}(e),t)}};function N(e,t){return void 0===t?g(e):(0,a.zG)(t,g(e))}var K=function(e,t){return(0,a.zG)(e,k([t]))}},7054:(e,t,r)=>{r.d(t,{Bu:()=>g,CC:()=>M,DZ:()=>Z,EG:()=>m,EW:()=>$,Eh:()=>ce,G:()=>D,HA:()=>q,Hd:()=>P,I8:()=>B,P5:()=>h,RF:()=>A,RJ:()=>j,SW:()=>K,Su:()=>v,UI:()=>_,Ub:()=>Q,V_:()=>F,XP:()=>d,_Y:()=>L,_r:()=>E,dp:()=>c,dx:()=>f,e$:()=>p,hX:()=>X,jt:()=>x,kp:()=>O,mK:()=>V,mS:()=>R,nn:()=>T,nr:()=>le,nu:()=>N,oA:()=>ae,oh:()=>se,qS:()=>W,ri:()=>S,sq:()=>z,t9:()=>C,tV:()=>te,uK:()=>ee,uZ:()=>ue,vA:()=>H,vP:()=>I,xb:()=>u,yW:()=>U,z7:()=>G,zV:()=>Y});var n=r(5191),i=r(2275),a=r(7963),s=r(4219),o=r(7029),c=(r(6511),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},l=function(e){return function(t){return Object.keys(t).sort(e.compare)}},d=l(o.Df);var f=function(e,t){return function(r){if(a.e$.call(r,e)&&r[e]===t)return r;var n=Object.assign({},r);return n[e]=t,n}},p=function(e,t){return a.e$.call(t,e)};function m(e){return function(t){if(!a.e$.call(t,e))return t;var r=Object.assign({},t);return delete r[e],r}}function g(e){return function(t,r){if(void 0===r){var n=g(e);return function(e){return n(e,t)}}for(var i in t)if(!a.e$.call(r,i)||!e.equals(t[i],r[i]))return!1;return!0}}function h(e,t){return void 0===t?function(t){return h(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var b={};function v(e){return function(t){var r={};for(var n in t)a.e$.call(t,n)&&(r[n]=e(n,t[n]));return r}}function _(e){return v((function(t,r){return e(r)}))}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return y(o.Df).apply(void 0,e);var r=l(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),s=a.length,o=0;o<s;o++){var c=a[o];i=t(c,i,n[c])}return i}}}function w(e){if("compare"in e){var t=l(e);return function(e){return function(r){return function(n){for(var i=e.empty,a=t(n),s=a.length,o=0;o<s;o++){var c=a[o];i=e.concat(i,r(c,n[c]))}return i}}}}return w(o.Df)(e)}function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return k(o.Df).apply(void 0,e);var r=l(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),s=a.length-1;s>=0;s--){var o=a[s];i=t(o,n[o],i)}return i}}}var S=function(e,t){var r;return(r={})[e]=t,r};function I(e){return V(o.Df)(e)}function E(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var o=e(i,t[i]);switch(o._tag){case"Left":r[i]=o.left;break;case"Right":n[i]=o.right}}return(0,s.s4)(r,n)}}function P(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var o=t[i];e(i,o)?n[i]=o:r[i]=o}return(0,s.s4)(r,n)}}function x(e){return function(t){var r={};for(var n in t)if(a.e$.call(t,n)){var i=e(n,t[n]);a.pC(i)&&(r[n]=i.value)}return r}}function G(e){return function(t){var r={},n=!1;for(var i in t)if(a.e$.call(t,i)){var s=t[i];e(i,s)?r[i]=s:n=!0}return n?r:t}}var z=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i[0]]=i[1]}return t};function U(e){return function(t){for(var r in t)if(!e(t[r]))return!1;return!0}}function D(e){return function(t){for(var r in t)if(e(t[r]))return!0;return!1}}function C(e){return function(t,r){if(void 0===r){var n=C(e);return function(e){return n(t,e)}}for(var i in r)if(e.equals(r[i],t))return!0;return!1}}var q=function(e,t){return(0,i.zG)(e,_(t))},T=function(e,t){return(0,i.zG)(e,v(t))},O=function(e){var t=re(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},M=function(e){return function(t){var r=ne(e)(t);return function(e,t){return(0,i.zG)(e,r(t))}}},A=function(e){var t=ie(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},B=function(e,t){return(0,i.zG)(e,X(t))},R=function(e,t){return(0,i.zG)(e,Z(t))},j=function(e,t){return(0,i.zG)(e,ee(t))},L=function(e,t){return(0,i.zG)(e,te(t))},F=function(e){var t=y(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},$=function(e){var t=w(e);return function(e){var r=t(e);return function(e,t){return(0,i.zG)(e,r(t))}}},N=function(e){var t=k(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},K=function(e,t){return(0,i.zG)(e,E(t))},Y=function(e,t){return(0,i.zG)(e,P(t))},Q=function(e,t){return(0,i.zG)(e,x(t))},H=function(e,t){return(0,i.zG)(e,G(t))},W=function(e){var t=J(e);return function(e){var r=t(e);return function(e,t){return r(e,(0,i.ls)(i.SK,t))}}},V=function(e){var t=W(e);return function(e){var r=t(e);return function(e){return r(e,i.yR)}}},J=function(e){return function(t){var r=l(e);return function(e,n){var i=r(e);if(0===i.length)return t.of(b);for(var a=t.of({}),s=function(r){a=t.ap(t.map(a,(function(e){return function(t){var n;return Object.assign({},e,((n={})[r]=t,n))}})),n(r,e[r]))},o=0,c=i;o<c.length;o++){s(c[o])}return a}}},X=function(e){return G((function(t,r){return e(r)}))},Z=function(e){return x((function(t,r){return e(r)}))},ee=function(e){return P((function(t,r){return e(r)}))},te=function(e){return E((function(t,r){return e(r)}))};function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=y(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return re(o.Df).apply(void 0,e)}function ne(e){if("compare"in e){var t=w(e);return function(e){var r=t(e);return function(e){return r((function(t,r){return e(r)}))}}}return ne(o.Df)(e)}function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=k(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return ie(o.Df).apply(void 0,e)}var ae=function(e){var t={};for(var r in e)if(a.e$.call(e,r)){var n=e[r];a.pC(n)&&(t[r]=n.value)}return t},se=function(e){var t={},r={};for(var n in e)if(a.e$.call(e,n)){var i=e[n];a.nM(i)?t[n]=i.left:r[n]=i.right}return(0,s.s4)(t,r)},oe="ReadonlyRecord";function ce(e){var t=g(e);return(0,n.f7)((function(e,r){return t(e)(r)&&t(r)(e)}))}function ue(e){return{concat:function(t,r){if(u(t))return r;if(u(r))return t;var n=Object.assign({},t);for(var i in r)a.e$.call(r,i)&&(n[i]=a.e$.call(t,i)?e.concat(t[i],r[i]):r[i]);return n},empty:b}}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df;function le(e,t){return a.e$.call(void 0===t?this:t,e)}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df},1586:(e,t,r)=>{r.d(t,{H5:()=>o,Pd:()=>a,Yg:()=>i,li:()=>n,pL:()=>s});r(2275);function n(e){return e[0]}function i(e){return e[1]}var a=function(e,t){return function(r){return[t(n(r)),e(i(r))]}},s=function(e){return function(t){return[e(n(t)),i(t)]}},o=function(e){return function(t){return[n(t),e(i(t))]}}},3940:(e,t,r)=>{r.d(t,{ff:()=>n});var n=function(e){return function(t){return!e(t)}}},4219:(e,t,r)=>{r.d(t,{Pd:()=>i,s4:()=>n});r(2275);var n=function(e,t){return{left:e,right:t}},i=function(e,t){return function(r){return n(e(a(r)),t(s(r)))}},a=function(e){return e.left},s=function(e){return e.right}},1717:(e,t,r)=>{r.d(t,{qA:()=>w,Hi:()=>y,qo:()=>k,dO:()=>v,UA:()=>S,PM:()=>_,ap:()=>m,Qt:()=>z,ak:()=>G,YO:()=>x,tS:()=>h,mU:()=>I,At:()=>P,tD:()=>u,UI:()=>p,of:()=>g,uU:()=>q,pE:()=>T});var n=r(2925),i=r(8543),a=r(2275);function s(e,t){var r=(0,i.m)(t);return function(t){return r((0,a.ls)(t,e.fromIO))}}var o=r(7560),c=r(7963),u=function(e){return function(){return Promise.resolve().then(e)}};var l=function(e,t){return(0,a.zG)(e,p(t))},d=function(e,t){return(0,a.zG)(e,m(t))},f=function(e,t){return(0,a.zG)(e,h(t))},p=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},m=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},g=function(e){return function(){return Promise.resolve(e)}},h=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},b="Task";var v={URI:b,map:l},_={URI:b,of:g},y={URI:b,map:l,ap:d},w={URI:b,map:l,ap:d,of:g},k={URI:b,map:l,ap:d,chain:f},S={URI:b,map:l,of:g,ap:d,chain:f},I=(a.yR,(0,i.m)(k)),E={URI:b,fromIO:u},P=s(E,k),x=(c.F4,(0,o.YO)(v)),G=(0,i.a)(k),z=(0,n.Qt)(y),U=g(c.Xl),D=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,r){return Promise.resolve().then((function(){return e(r,t)()}))})))}}}(e);return function(e){return c.Od(e)?t(e):U}},C=function(e){var t=function(e){return function(t){return function(){return c.Gb(t).reduce((function(t,r,n){return t.then((function(t){return Promise.resolve().then(e(n+1,r)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,c.YM(t))).then(c.ri))}}}(e);return function(e){return c.Od(e)?t(e):U}},q=function(e){return D((function(t,r){return e(r)}))},T=function(e){return C((function(t,r){return e(r)}))}},9246:(e,t,r)=>{r.d(t,{Do:()=>J,Qt:()=>ee,ak:()=>Z,tS:()=>A,fX:()=>Q,wE:()=>V,Zl:()=>B,Y$:()=>H,Uo:()=>w,tD:()=>_,fF:()=>y,fS:()=>I,t$:()=>m,Hr:()=>X,UI:()=>q,Vn:()=>O,EQ:()=>k,LV:()=>S,of:()=>j,vx:()=>P,F2:()=>g,Ij:()=>te,Y3:()=>E});var n=r(2925),i=r(8543),a=r(1890),s=r(5162),o=r(2275);function c(e,t){return function(r){var n=(0,o.ls)(r,e.fromTask);return function(e){return t.chain(e,n)}}}var u=r(7560),l=r(7963),d=r(1717),f=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},p=function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},m=a.t$(d.PM),g=a.F2(d.PM),h=a.m8(d.dO),b=a.pk(d.dO),v=(0,o.ls)(d.tD,h),_=(d.tD,v),y=h,w=d.of,k=(d.tD,a.EQ(d.dO)),S=a.LV(d.UA),I=a.fS(d.UA),E=function(e,t){return function(){return f(void 0,void 0,void 0,(function(){var r;return p(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(l.F2)];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,l.t$(t(r))];case 3:return[2]}}))}))}},P=(d.dO,d.PM,d.PM,d.UA,a.vx(d.UA)),x=(d.UA,d.UA,d.dO,function(e,t){return(0,o.zG)(e,q(t))}),G=function(e,t){return(0,o.zG)(e,M(t))},z=function(e,t){return(0,o.zG)(e,A(t))},U=function(e,t,r){return(0,o.zG)(e,T(t,r))},D=function(e,t){return(0,o.zG)(e,O(t))},C=function(e,t){return(0,o.zG)(e,R(t))},q=a.UI(d.dO),T=a.Pd(d.dO),O=a.Vn(d.dO),M=a.ap(d.Hi),A=a.tS(d.UA),B=A,R=a.wp(d.UA),j=g,L=m,F="TaskEither";var $={URI:F,map:x},N={URI:F,map:x,ap:G},K={URI:F,map:x,ap:G,chain:z},Y={URI:F,fromEither:w},Q=(0,s.fX)(Y,K),H=(0,s.Y$)(Y,K),W={URI:F,fromIO:_,fromTask:y},V=c(W,K);var J=j(l.F4),X=(0,u.Hr)($),Z=(0,i.a)(K),ee=(0,n.Qt)(N),te=(l.Xl,{URI:F,bimap:U,mapLeft:D,map:x,of:j,ap:G,chain:z,alt:C,fromIO:_,fromTask:y,throwError:L})},6511:(e,t,r)=>{function n(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.separate)}}}function i(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.compact)}}}r.d(t,{BL:()=>i,Fj:()=>n})},2275:(e,t,r)=>{r.d(t,{MZ:()=>i,Q1:()=>u,SK:()=>p,W8:()=>s,a9:()=>a,bc:()=>d,gn:()=>o,ls:()=>l,r5:()=>c,yR:()=>n,zG:()=>f});function n(e){return e}var i=n;function a(e){return function(){return e}}var s=a(!0),o=a(null),c=a(void 0),u=c;function l(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(o(s(a(i(n(r(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function f(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return s(a(i(n(r(t(e))))));case 8:return o(s(a(i(n(r(t(e)))))));case 9:return c(o(s(a(i(n(r(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var p=function(e,t){return t}},7963:(e,t,r)=>{r.d(t,{F2:()=>d,F4:()=>b,G:()=>o,Gb:()=>g,Od:()=>p,Wi:()=>i,Xl:()=>h,YM:()=>m,YP:()=>s,e$:()=>v,nM:()=>c,pC:()=>a,r1:()=>_,ri:()=>f,t$:()=>l,tO:()=>u});var n=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=function(e){return"None"===e._tag},a=function(e){return"Some"===e._tag},s={_tag:"None"},o=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},f=function(e){return[e]},p=function(e){return e.length>0},m=function(e){return e[0]},g=function(e){return e.slice(1)},h=[],b={},v=Object.prototype.hasOwnProperty,_=function(e){return n([e[0]],e.slice(1),!0)}},6627:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};n.equals,i.compare},7029:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n,pn:()=>s,xb:()=>a});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return 0===e.length},s=function(e,t){return function(r){return r.endsWith(e,t)}}},691:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(1005),i=r.n(n);function a(){return i()('/*! @permutive/javascript-sdk v20.23.4 (web) (built 2024-12-02T21:35:32.003Z) */(()=>{"use strict";var __webpack_modules__={865:(e,t,r)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}r.d(t,{w:()=>n})},238:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>runtimeFactory});const runtimeFactory=deps=>{const{provideEnvironment,...lookups}=generateLookupMethods(deps.runtimeInput),env=generateRuntimeEnvironment({lookups,hash:deps.hash});return provideEnvironment(env),{env,locallyLiftedQueries:deps.runtimeInput.queries(env)||{},cloudLiftedQueries:"function"==typeof deps.runtimeInput.interpretOnlyQueries?deps.runtimeInput.interpretOnlyQueries(env):{},queriesByEvent:deps.runtimeInput.eventSegments(env)||{},createCloudLiftQueries:cloudLiftQueries=>{const createQueries=eval?.(`"use strict";${cloudLiftQueries}`);return createQueries(env)}}};function generateRuntimeEnvironment(e){const t=e=>()=>{throw new Error(`${e} lookup has not been provided`)};let r=t("events"),n=t("literals"),a=t("properties"),i=t("ahoCorasick"),s=t("subexpressions"),o=t("rootCompression");function c(e){return u(e)&&!l(e)}function u(e){return Boolean(e&&"object"==typeof e&&!Array.isArray(e))}function l(e){for(const t in e)return!1;return!0}function d(e){return(t,r)=>{const n=null!=t&&null!=r?e(t,r):t||r;return null==n||u(n)&&l(n)?null:n}}function f(e,t,r=m){const n=a(t).reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e);return null===n?null:r(n)}function p(e,t,r=m){return e.properties?f(e.properties,t,r):null}e.lookups.onReady((e=>{const{ahoCorasick:t,events:c,literals:u,properties:l,subexpressions:d,rootCompression:f}=e;r=e=>"number"==typeof e?c[e]:e,n=e=>"number"==typeof e?u[e]:e,a=e=>"number"==typeof e?l[e]:e,i=e=>t[e],s=e=>d[e],o=e=>f[e]}));let m=e=>e,g=e=>!0;function h(e,t){return function(r){for(let n=0;n<e.length;n++){if((e[n](r)||!1)===t)return t}return!t}}function b(e){return h(e,!0)}function v(e){return h(e,!1)}let y=e=>t=>!e(t),w=(e,t)=>r=>r>=e&&r<=t,_=e=>new Date(e).getTime(),k=e=>f(e,["time"],_),S=(e,t)=>f(t,e,_),I=(e,t,r,n,a,i)=>s=>{const o=f(s,e,(e=>e.filter(n).map((e=>f(e,t))).reduce(a,i)));return r(null===o?i:o)};function z(e,t,r,n){for(const a of e)if(r(a)&&t(a)===n)return n;return!n}let x=e=>t=>("string"==typeof e||"number"==typeof e)&&"string"==typeof t&&t.toLowerCase().indexOf(n(e).toLowerCase())>-1,q=e=>t=>null!=t&&Array.isArray(t)&&t.indexOf(e)>=0;const G=(e,t)=>({l:n=>f(n,["name"])===r(e)&&t(n)?["p",1]:null,a:(e,t)=>["p",e[1]+t[1]],i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:0,c:e=>Array.isArray(e)&&e[1]?e:null});function E(e,t,r,n,a){const i=f(e.getSegments(),[t,r])||!1;return a&&(n||i)&&e.setSegmentActivation(t,r,a),i}function U(e,t,r){return f(e.getSegments(),[t,r])||!1}function C(e,t,r=18e5){return n=>{function a(e,t,r){if(c(t)){if(c(r)){const n={...t,...r};for(const a in r)if(t[a]){const s=i(e,t[a],r[a]);null!=s&&(n[a]=s)}return n}return t}return r}function i(e,t,r){if(c(t)){if(c(r)){const a={...t,...r};for(const i in r)if(t[i]){const s=Array.isArray(t[i])?[e,...t[i]]:[e,t[i]],o=Array.isArray(r[i])?[e,...r[i]]:[e,r[i]],c=n.d.a(s,o);if(null!=c){const[e,...t]=c;a[i]=t}}return a}return t}return r}const s=e=>Array.isArray(e)&&"object"==typeof e[3];return{a:{m:(e,t)=>[t[0],n.a.m(null!=e[0]&&e[0][0]===t[0][0]?e[1]:n.a.z,t[1])],z:[[],n.a.z]},p:(r,a)=>[[e(r)],f(a,t)===e(r)?n.p(r,a):n.a.z],r:(t,r)=>n.r(t,0!==r[0].length&&r[0][0]===e(t)?r[1]:n.a.z),d:n.d.sq||{a:(e,t)=>{if(!s(e))return s(t)?t:null;if(!s(t))return s(e)?e:null;const[r,,,n]=e;return[r,"u",null,a(r,n,t[3])]},l:(a,i)=>{let s=f(a,t),o=e(i);if(s!==o)return null;let c=n.d.l(a,i);if(!(Array.isArray(c)&&c.length>1))return null;let[u,...l]=c,d=+(k(a)||i.getCurrentTime()),p=Math.floor(d/r),m={};return m[p]={},m[p][o]=1===l.length?l[0]:l,[u,"u",null,m]},i:(t,r)=>{if(!s(t))return[[],n.a.z];let a=e(r),i=t[3];return[[a],Object.keys(i).map((e=>i[e][a])).filter((e=>e)).map((e=>n.d.i([t[0]].concat(e)))).reduce(n.a.m,n.a.z)]},c:m}}}}let P=C((e=>e.getCurrentSession()),["session_id"],18e5),T=C((e=>e.getCurrentView()),["view_id"],3e5);function O(e,t,n,a=1){return{a:{m:(e,t)=>e.concat(t).slice(-n),z:[]},p:(n,a)=>f(a,["name"])===r(t)?[e.p(n,a)]:[],r:(t,r)=>e.r(t,r.reduce(((t,r)=>e.a.m(t,r)),e.a.z)),d:e.d.ftn||{a:(e,t)=>{const r=Object.entries({...e[3],...t[3]}).sort((([e],[t])=>Number(e)-Number(t))).slice(-n);return[e[0],e[1],null,Object.fromEntries(r)]},l:(t,r)=>{const i=e.d.l(t,r),s=f(t,["time"],_)*a;return i&&[i[0],"x"+n,null,{[s]:2==i.length?i[1]:i.slice(1)}]},i:(t,r)=>t?Object.keys(t[3]||{}).sort().reverse().map((e=>Array.isArray(e)?[t[0],...t[3][e]]:[t[0],t[3][e]])).map((t=>e.d.i(t,r))):[],c:m}}}let D=(e,t)=>null==e?null==t?null:{b:t}:null==t?{a:e}:{a:e,b:t};function A(e,t){return r=>{if(!r||null==r.a&&null==r.b)return null;const n=null==r.a?void 0:e.d.c(r.a)??void 0,a=null==r.b?void 0:t.d.c(r.b)??void 0;return n===r.a&&a===r.b?r:D(n,a)}}function M(e,t){return{a:(r,n)=>{const a=null!=r.a&&null!=n.a?e.d.a(r.a,n.a):r.a||n.a,i=null!=r.b&&null!=n.b?t.d.a(r.b,n.b):r.b||n.b;return D(a,i)},l:(r,n)=>D(e.d.l(r,n),t.d.l(r,n)),i:(r,n)=>r?[e.d.i(r.a||null,n),t.d.i(r.b||null,n)]:[e.a.z,t.a.z],c:A(e,t)}}function j(e,t,r,n){let a=e,i=t.map(r),s=(e,r)=>n(t[e])(r);for(let e=t.length-1;e>0&&a;e--)a.b&&(i[e]=s(e,a.b)),a.a&&1===e&&(i[0]=s(0,a.a)),a=a.a;return i}const B=e=>(t,r=e.length-1)=>{if(!t||null==t.a&&null==t.b)return null;const n=e[r];if(!n)return null;if(1===r)return A(e[0],n)(t);const a=null==t.a?void 0:B(e)(t.a,r-1)??void 0,i=null==t.b?void 0:n.d.c(t.b)??void 0;return a===t.a&&i===t.b?t:D(a,i)};let R=e=>t=>{function r(e){let t=e[0];for(let r=1;r<e.length;r++)t=[t,e[r]];return t}function n(e){let r=e,n=Array(t.length);for(let e=t.length-1;e>0;e--)n[e]=r[1],r=r[0];return n[0]=r,n}function a(e,r,n=t.length-1){if(0==n)throw new Error("subquery index out of bounds.");const i=(1==n?d(t[0].d.a)(e?.a,r?.a):a(e?.a,r?.a,n-1))||void 0,s=d(t[n].d.a)(e?.b,r?.b)||void 0;return D(i,s)}return{p:(e,n)=>r(t.map((t=>t.p(e,n)))),r:(r,a)=>{const i=n(a);return e(t.map(((e,t)=>()=>e.r(r,i[t]))))({})},a:{z:r(t.map((e=>e.a.z))),m:(e,a)=>{const i=n(e),s=n(a);return r(t.map(((e,t)=>function(e,t,r){return null===t?r:null===r?t:e.a.m(t,r)}(e,i[t],s[t]))))}},d:{a:(e,r)=>1==t.length?d(t[0].d.a)(e,r):a(e,r),l:(e,r)=>function(e){let t=e[0];for(let r=1;r<e.length;r++)t=D(t,e[r]);return t}(t.map((t=>t.d.l(e,r)))),i:(e,n)=>((e,n)=>r(j(e,t,(e=>e.a.z),(e=>t=>e.d.i(t,n)))))(e,n),c:B(t)}}},F=R(b),L=R(v);let N=e=>t=>({d:{i:(r,n)=>e(j(r,t,(e=>e.d.i(null,n)),(e=>t=>e.d.i(t,n))).map((e=>t=>e)))({}),c:B(t)}}),Y=N(v),Q=N(b);function $(e,t){let r=i(e);if(!t||!r)return!1;if(!r.length)return!0;let n=0,a=!1,s=(e=>{let t=[];for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);if(n>=55296&&n<=56319){let n=e.charCodeAt(r+1);if(n>=56320&&n<=57343){t.push(e.slice(r,r+2)),++r;continue}}t.push(e.charAt(r))}return t})(t.toLowerCase());for(let e=0;e<s.length;e++){let t=s[e];for(;n>0&&!r[n][t];)n=r[n].su?r[n].su:0;if(r[n][t]&&(n=r[n][t],a=!!r[n].te,a))break}return a}let H=(t,r)=>{let n,a,i=e.hash(t);if(0===r.length)return!1;if(r[0]===i)return!0;let s=0,o=r.length,c=!1;for(;(c=(n=r[a=s+(o-s>>1)])!==i)&&(n<i?s=a:o=a,!(s>=o-1)););return!c},V=(e,t)=>r=>H(f(r,e),t),K=(e,t)=>r=>H(p(r,e),t);return{q:function(e){return{lift:(t,r)=>e.d.l(t,r),append:d(e.d.a),interpret:(t,r)=>((t,r)=>({result:e.r(t,r)}))(r,e.d.i(t,r)),compact:e.d.c,migrate:m,m:e.a.m,z:e.a.z,p:e.p,r:e.r,i:e.d.i}},i_q:function(e){return{interpret:(t,r)=>({result:e.d.i(t,r)}),compact:e.d.c}},a:v,acq:function(e,t){return{p:(r,n)=>[e.p(r,n),t.p(r,n)],r:(r,n)=>e.r(r,n[0])&&t.r(r,n[1]),a:{z:[e.a.z,t.a.z],m:(r,n)=>[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]},d:M(e,t)}},acqs:L,acs:$,acs_:(e,t)=>r=>$(t,f(r,e)),af_i:(e,t,r=g)=>n=>f(n,e,(e=>z(e,t,r,!1)))&&!0,af_l:(e,t,r=g)=>n=>{const a=f(n,e,(e=>e.filter(r).length));return t(null===a?0:a)},af_m:(e,t,r,n=g)=>a=>{const i=f(a,e,(e=>e.filter(n)));return null===i||0===i.length?r(0):r(i.map((e=>f(e,t))).reduce(((e,t)=>e+t),0)/i.length)},af_n:(e,t,r,n=g)=>I(e,t,r,n,((e,t)=>Math.min(e,t)),Number.POSITIVE_INFINITY),af_p:(e,t,r,n=g)=>I(e,t,r,n,((e,t)=>e*t),1),af_s:(e,t,r,n=g)=>I(e,t,r,n,((e,t)=>e+t),0),af_u:(e,t,r=g)=>n=>f(n,e,(e=>z(e,t,r,!0)))||!1,af_x:(e,t,r,n=g)=>I(e,t,r,n,((e,t)=>Math.max(e,t)),Number.NEGATIVE_INFINITY),as:(e,t,r)=>n=>{const a=p(n,t),i=r.length;let s=!0;for(let t=0;t<i;t++){const n=r[t];if(s=e(n)(a),!s)break}return s},c:q,c_:(e,t)=>r=>q(t)(f(r,e)),cl_:(e,t)=>r=>q(n(t))(f(r,e)),cx:e=>t=>q(n(e))(t),cw:function(e,t,n=m){return{a:{m:(e,t)=>e+t,z:0},p:(n,a)=>f(a,["name"])===r(e)&&t(a)?1:0,r:(e,t)=>n(t),d:G(e,t)}},cb:function(e,t,n,a){return{a:{m:(e,t)=>Math.min(e+t,a),z:0},p:(n,a)=>f(a,["name"])===r(e)&&t(a)?1:0,r:(e,t)=>n(t),d:{l:n=>f(n,["name"])===r(e)&&t(n)?[`b${a}p`,1]:null,a:(e,t)=>[`b${a}p`,Math.min(e[1]+t[1],a)],i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:0,c:e=>Array.isArray(e)&&e[1]?e:null}}},e:e=>t=>t===e,e_:(e,t)=>r=>f(r,e)===t,fm:function(e,t){return{p:t.p,r:(r,n)=>e(t.r(r,n)),a:t.a,d:t.d}},frontDecode:function(e){const t=e.split("\\t");if(0===t.length)return[];var r=t[0],n=new Array(Math.ceil(t.length/2));n[0]=t[0];for(var a=1;a<t.length/2;a+=1){const e=t[2*a-1],i=t[2*a];if(""===e)r=i;else{const t=parseInt(e);r=r.slice(0,t)+i}n[a]=r}return n},ftn:function(e,t,n){return{a:{m:(e,t)=>e.concat(t.slice(0,n-e.length)),z:[]},p:(n,a)=>f(a,["name"])===r(t)?[e.p(n,a)]:[],r:(t,r)=>e.r(t,r.reduce(((t,r)=>e.a.m(t,r)),e.a.z)),d:O(e,t,n,-1).d}},g:e=>t=>t>e,g_:(e,t)=>r=>f(r,e)>t,ge:e=>t=>t>=e,ge_:(e,t)=>r=>f(r,e)>=t,bse:(t,r)=>n=>{let a=f(n,t);return e.hash(a)===r},bsne:(t,r)=>n=>{let a=f(n,t);return e.hash(a)!==r},bsc:V,bsnc:(e,t)=>y(V(e,t)),bsc_:K,bsnc_:(e,t)=>y(K(e,t)),i_:m,ifp:function(e){return{a:{m:(e,t)=>t,z:null},p:e=>null,r:(t,r)=>(t=>U(t,"1p",e))(t),d:{a:(e,t)=>null,l:(e,t)=>null,i:e=>null,c:e=>null}}},isp:function(e,t,r,n){return{a:{m:(e,t)=>t,z:!1},p:(r,n)=>U(r,e,t),r:(a,i)=>E(a,e,t,r,n),d:{a:(e,t)=>null,l:(e,t)=>null,i:e=>Array.isArray(e)&&(!!+e[2]||!1),c:m}}},itp:function(e,t,r,n){return{a:{m:(e,t)=>t,z:!1},p:(r,n)=>U(r,e,t),r:(a,i)=>E(a,e,t,r,n),d:{a:(e,t)=>null,l:(e,t)=>null,i:e=>Array.isArray(e)&&(!!+e[2]||!1),c:m}}},i_cw:function(e){return{d:{i:t=>{let r=t?Array.isArray(t)?t.slice(-1)[0]:t:0;return e(r)},c:e=>Array.isArray(e)&&e[1]?e:null}}},i_acqs:Y,i_ocqs:Q,i_tw:function(e,t,r){const n=r||100,a=Math.ceil(t/n);return{d:{i:(r,n)=>{const i=Array.isArray(r)?r:[],s=n.getCurrentTime(),o=(c=s.getTime()-t,Math.floor(c/a));var c;const u=Object.keys(i[3]||{}).reduce(((e,t)=>parseInt(t)>=o?i[3][t]+e:e),0);return e.d.i(["p",u],n)},c:m}}},i_ltn:function(e,t,r=1){return{d:{i:(t,r)=>{const n=Array.isArray(t)?t:[],a=Object.keys(n[3]||{}).reduce(((e,t)=>n[3][t]+e),0);return e.d.i(["p",a],r)},c:m}}},k:f,l:e=>t=>t<e,l_:(e,t)=>r=>{const n=f(r,e);return null!==n&&n<t},le:e=>t=>t<=e,le_:(e,t)=>r=>{const n=f(r,e);return null!==n&&n<=t},lm:function(e,t){let r=t=>function(e,t,r){if(void 0===t[r])return NaN;const n=e||{};if(0==(n["1p"]||[]).length)return NaN;const a=t[r]||{};let i=(a["1p"]||{}).const||0;return Object.keys(n).forEach((e=>{n[e].forEach((t=>{const r=(a[e]||{})[t]||0;i+=r}))})),s=i,1/(1+Math.pow(Math.E,-s));var s}(t.getSegmentsArray(),t.getLookalikeModels(),e);return{a:{m:(e,t)=>t,z:null},p:e=>null,r:(e,n)=>t(r(e)),d:{a:(e,t)=>null,l:(e,t)=>null,i:e=>null,c:e=>null}}},ltn:O,mnw:function(e,t,n,a=m){const i=Number.POSITIVE_INFINITY;return{a:{m:(e,t)=>e<t?e:t,z:i},p:(a,s)=>f(s,["name"])===r(e)&&t(s)?f(s,n):i,r:(e,t)=>a(t),d:{a:(e,t)=>e[1]<t[1]?e:t,l:a=>f(a,["name"])===r(e)&&t(a)?["n",f(a,n)]:null,i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:i,c:e=>Array.isArray(e)&&e[1]!==i?e:null}}},mxw:function(e,t,n,a=m){const i=Number.NEGATIVE_INFINITY;return{a:{m:(e,t)=>e>t?e:t,z:i},p:(a,s)=>f(s,["name"])===r(e)&&t(s)?f(s,n):i,r:(e,t)=>a(t),d:{l:a=>f(a,["name"])===r(e)&&t(a)?["v",f(a,n)]:null,a:(e,t)=>e[1]>t[1]?e:t,i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:i,c:e=>Array.isArray(e)&&e[1]!==i?e:null}}},n0:y(m),n:e=>t=>t!==e,nt:y,n_:(e,t)=>r=>f(r,e)!==t,o:b,ocq:function(e,t){return{p:(r,n)=>[e.p(r,n),t.p(r,n)],r:(r,n)=>e.r(r,n[0])||t.r(r,n[1]),a:{z:[e.a.z,t.a.z],m:(r,n)=>[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]},d:M(e,t)}},ocqs:F,oe:function(e){const t=Object.keys(e);let r=t.length,n=new Array(r);for(;r--;)n[r]=[t[r],e[t[r]]];return n},os:(e,t,r)=>n=>{const a=p(n,t),i=r.length;let s=!1;for(let t=0;t<i;t++){const n=r[t];if(s=e(n)(a),s)break}return s},pacs:(e,t)=>r=>$(t,p(r,e)),pb:(e,t,r)=>n=>w(t,r)(p(n,e)),pc:(e,t)=>r=>{const n=p(r,e);return null!=n&&Array.isArray(n)&&n.indexOf(t)>=0},pc_:(e,t)=>r=>{const a=p(r,e),i=n(t);return null!=a&&Array.isArray(a)&&a.indexOf(i)>=0},pe:(e,t)=>r=>p(r,e)===t,pg:(e,t)=>r=>p(r,e)>t,pge:(e,t)=>r=>p(r,e)>=t,pl:(e,t)=>r=>{let n=p(r,e);return null!==n&&n<t},ple:(e,t)=>r=>{let n=p(r,e);return null!==n&&n<=t},pn:(e,t)=>r=>p(r,e)!==t,ps:(e,t)=>r=>x(t)(p(r,e)),r:function(e,...t){return o(e)(...t)},ref:function(e){return t=>s(e)(t)},rle:function(e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];"number"==typeof n?(t+=n,r+=1):t+=1}let r=Array(t),n=0;for(let t=0;t<e.length;t++){let a=e[t];"number"==typeof a?(r.fill(e[t+1],n,n+a),t+=1,n+=a):(r[n]=a,n++)}return r},s:x,s_:(e,t)=>r=>x(t)(f(r,e)),scq:function(e,t,r=m){return{p:(r,n)=>[e.p(r,n),t.p(r,n)],r:(n,a)=>r(e.r(n,a[0])+t.r(n,a[1])),a:{z:[e.a.z,t.a.z],m:(r,n)=>[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]},d:M(e,t)}},sq:P,dscq:function(e,t,n,a){const i=`x${a}`,s=e=>e?2===e.length?["p",i,"",e[1]]:e:null,o=n=>{const a=(e=>f(e,["session_id"]))(n);return a&&f(n,["name"])===r(e)&&t(n)?["p",i,"",{[a]:1}]:null},c=(e,t)=>{const r=s(e),n=s(t);return r?n?["p",i,"",{...r[3],...n[3]}]:r:n};return{a:{m:c,z:null},p:(e,t)=>o(t),r:(e,t)=>{const r=t&&t[3]&&"object"==typeof t[3]?Object.keys(t[3]).length:0;return n(r)},d:{a:d(c),l:(e,t)=>o(e),i:(e,t)=>s(e),c:m}}},sw:function(e,t,n,a=m){return{a:{m:(e,t)=>e+t,z:0},p:(a,i)=>f(i,["name"])===r(e)&&t(i)?f(i,n):0,r:(e,t)=>a(t),d:{a:(e,t)=>{const r=new Array(Math.max(e.length,t.length));r[0]="p2";for(let n=1;n<r.length;n++)r[n]=(e[n]??0)+(t[n]??0);return r},l:a=>{return(n=>f(n,["name"])===r(e)&&t(n))(a)?(i=f(a,n))<0?["p2",null,-i]:["p2",i]:null;var i},i:e=>{return e?Array.isArray(e)?((t="p2"===e[0]?e.slice(1):e)[0]||0)-(t[1]||0):e:0;var t},c:e=>Array.isArray(e)&&(e[1]||e[2])?e:null}}},t:g,tb:(e,t)=>r=>w(e,t)(k(r)),te:e=>t=>k(t)===e,te_:(e,t)=>r=>S(e,r)===t,tg:e=>t=>k(t)>e,tg_:(e,t)=>r=>S(e,r)>t,tge:e=>t=>k(t)>=e,tge_:(e,t)=>r=>S(e,r)>=t,ti:_,tl:e=>t=>k(t)<e,tl_:(e,t)=>r=>S(e,r)<t,tle:e=>t=>k(t)<e,tle_:(e,t)=>r=>S(e,r)<t,tn:e=>t=>k(t)!==e,tn_:(e,t)=>r=>S(e,r)!==t,tw:function(e,t,r){const n=r||100,a=Math.ceil(t/n),i=e=>Math.floor(e/a),s=(e,r,n)=>[i(e.getTime()-t),{[i(r)]:n}],o=(t,r)=>{const n=Math.max(t[0],r[0]),a=Object.keys(t[1]).filter((e=>e>=n)).concat(Object.keys(r[1]).filter((e=>e>=n))).filter(((e,t,r)=>r.indexOf(e)===t)).reduce(((n,a)=>{const i=e.a.m(t[1][a]||e.a.z,r[1][a]||e.a.z);return i!==e.a.z&&(n[a]=i),n}),{});return[n,a]},c=[Number.NEGATIVE_INFINITY,{}],u=e=>{const t=t=>t.map((([t,r,n])=>s(e.t,n,t))).reduce(o,c);return o(t(e.in),t(e.out))};return{a:{m:(e,t)=>{const r=e.w?u(e):e;return o(r,t)},z:c},p:(t,r)=>s(t.getCurrentTime(),f(r,["time"],_),e.p(t,r)),r:(t,r)=>{const n=(r.w?u(r):r)[1];return e.r(t,Object.keys(n).reduce(((t,r)=>e.a.m(t,n[r])),e.a.z))},d:e.d.tw||{a:([e,,...t],[,,...r])=>[e,"w",...o(t,r)],l:(t,r)=>{const n=e.d.l(t,r),a=e.d.i(n,r);return n&&[n[0],"w",...s(r.getCurrentTime(),f(t,["time"],_),a)]},i:(e,r)=>{const n=Array.isArray(e)?e:[],a=r.getCurrentTime(),s=i(a.getTime()-t);return[n[2]||null,Object.keys(n[3]||{}).map((e=>({[e]:n[3][e]}))).reduce(((e,t)=>(Object.keys(t).filter((e=>parseInt(e)>=s)).forEach((r=>e[r]=t[r])),e)),{})]},c:m}}},vq:T,w:e=>t=>t===n(e),x:e=>t=>t!==n(e),y:(e,t)=>r=>p(r,e)===n(t),y_:(e,t)=>r=>f(r,e)===n(t),z:(e,t)=>r=>p(r,e)!==n(t),z_:(e,t)=>r=>f(r,e)!==n(t)}}function generateLookupMethods(e){let t,r=!1,n=[];return{onReady:e=>{r?e(t):n.push(e)},provideEnvironment:a=>{t={events:e.eventsLookup(a),literals:e.literalsLookup(a),properties:e.propertiesLookup(a),ahoCorasick:e.ahoCorasickLookup(a),subexpressions:e.subexpressionsLookup(a),rootCompression:e.rootCompressionLookup(a)},n.forEach((e=>e(t))),n=[],r=!0}}}},172:(e,t,r)=>{r.d(t,{GL:()=>o,HJ:()=>c,N1:()=>d,NC:()=>n,RP:()=>a,UM:()=>u,t_:()=>l});const n=performance.now(),a=(new Date).getTime();let i=[],s=!1;const o=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return c((()=>e(...r)))},c=(e,t)=>{if(!s){const r=self.setTimeout(e,t);return()=>self.clearTimeout(r)}let r;const n=()=>{void 0!==r&&s&&i.length<1e4&&i.push([r,performance.now()]),r=void 0},a=[self.setTimeout((()=>{r=performance.now(),self.requestAnimationFrame(n),e()}),t),self.setTimeout(n,t)];return()=>{void 0===r&&a.forEach((e=>self.clearTimeout(e)))}},u=(e,t)=>{if(!s){const r=self.setInterval(e,t);return()=>self.clearInterval(r)}let r=!1,n=()=>{};const a=self.setInterval((()=>{n=c((()=>{r||e()}))}),t);return()=>{r=!0,n(),self.clearInterval(a)}},l=e=>new Promise(((t,r)=>e.then(o(t),o(r)))),d=e=>()=>l(e())},846:(e,t,r)=>{r.d(t,{g1:()=>x,YO:()=>S,oQ:()=>A,a9:()=>y,Ue:()=>h,gS:()=>b,D8:()=>D,VS:()=>q,xH:()=>G,En:()=>v,p4:()=>O,fF:()=>T,Hr:()=>I,UI:()=>_,u4:()=>E,Rp:()=>U,vP:()=>C,bw:()=>M,YP:()=>w});var n=r(865),a=r(385),i=r(275),s=r(492),o=r(583),c=r(704);function u(e){let t=e,r=[],n=!1;return{addListener(e){if(n)return()=>{};let a=t;const i=()=>{Object.is(t,a)||(a=t,e(t))};r=[...r,i];return()=>{r=r.filter((e=>e!==i))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,r.forEach((e=>e())))},terminate(){n=!0,r=[]}}}function l(e,t){let r=0;return function(){try{if(r++>0)throw new Error(e);return t(...arguments)}finally{r--}}}function d(e,t){let r=[...new Set(e)].filter((e=>"final"!==e.state));if(0===r.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===r.length?"final":r.some((e=>"might_change"===e.state))?"might_change":"nominal",[a,i]=f(n(),(e=>"might_change"!==e&&t())),s=()=>i(n());return r.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":r=e.filter((e=>"final"!==e.state)),s();break;case"might_change":i("might_change");break;case"nominal":s();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),a}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:r,notify:n,addListener:a}=u(e),i={state:e,onStateChange:a},s=l("Disallowed recursion in Branch.",(e=>{if("final"===i.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),i.state=e,n(e)}finally{"final"===e&&r()}}));return[i,s]}var p=r(560),m=r(444);const g="Ref";function h(e){const[t,r,n]=function(){const[e,t]=f("nominal"),r=l("Disallowed recursion in Branch.",(r=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),r()}finally{t(n)}}));return[e,r,()=>t("final")]}(),[a,i]=j(t,e);return[a,e=>r((()=>i(e))),n]}function b(e){let t=e.empty;const r=()=>()=>{const r=t;return t=e.empty,r},[n,a,i]=h(r());return[n,n=>{t=e.concat(t,n),a(r())},i]}function v(e,t){return r=>{let n=new Array(e).fill(t.empty);return new Array(e).fill(null).map(((e,a)=>(0,i.zG)(r,_(m.UI((e=>{const r=t.concat(n[a],e);return n=n.map(((r,n)=>n===a?t.empty:t.concat(r,e))),r}))))))}}function y(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function w(e){return t=>{const r=t.onChange(e);return e(t.current),r}}function _(e,t){if(t){const[r,n]=j(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),r}return t=>_(e,t)}const k={URI:g,map:(e,t)=>_(t)(e)},S=p.YO(k),I=p.Hr(k),z=e=>q((t=>_(t)(e))),x={URI:g,of:y,map:k.map,ap:(e,t)=>z(t)(e)};function q(e,t){return t?G(_(e,t)):t=>G(_(e,t))}function G(e){if("final"===e.branch.state)return e.current;const[t,r]=function(e,t){let r=t;const n=[e.state,r.state].includes("might_change")?"might_change":"nominal",[a,i]=f(n),s=e=>t=>{switch(t){case"final":i(e().state);break;case"might_change":i("might_change");break;case"nominal":"might_change"===e().state?i("might_change"):i("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(s((()=>r)));const o=s((()=>e));let c=r.onStateChange(o);return[a,e=>{r=e,c(),c=e.onStateChange(o),o(r.state)}]}(e.branch,e.current.branch),[n,a]=j(t,e.current.current);let i=e.current.onChange(a);return e.onChange((e=>{i(),i=e.onChange(a),r(e.branch),a(e.current)})),n}function E(e){return t=>{if("final"===t.branch.state)return t;let r=s.YP;return _((t=>{if(s.Wi(r))return r=s.G(t),t;const n=e(r.value,t);return r=s.G(n),n}),t)}}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{if(2===t.length){let r=t[0];return _((e=>(r=t[1](r,e),r)),e)}let r=s.bM();return _((e=>{const n=t[0](r,e);return r=s.G(n),n}),e)}}function C(){if(0===arguments.length||B(arguments.length<=0?void 0:arguments[0]))return P(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,i.zG)(Object.values(e),(e=>P(...e)),_((0,i.ls)(o.Su(((e,r)=>[t[e],r])),Object.fromEntries)))}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return y([]);if(1===t.length)return _((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const a=t.map((0,c.vg)("branch")),i=()=>{n&&(n=!1,u(t.map((e=>e.current))))},s=d(a,i),[o,u]=j(s,t.map((e=>e.current)));return o}function T(e){const[t,r,n]=h(s.YP);return e().then((0,i.ls)(s.G,r,n)),t}function O(e){const[t,r,o]=h(s.YP);return e.then(a.F2).catch((0,i.ls)(n.w,a.t$)).then((0,i.ls)(s.G,r,o)),t}function D(e){const t=e.hasOwnProperty("equals")?e.equals:e;return E(((e,r)=>t(e,r)?e:r))}function A(e){return B(e)?e:y(e)}function M(e){return t=>(w(e)(t),t)}function j(e,t){if("final"===e.state)return[y(t),()=>{}];const r=u(t);e.onStateChange((e=>{"final"===e&&r.terminate()}));let n=t;return[{get current(){return n},onChange:r.addListener,branch:e},l("Disallowed recursion in Ref.",(e=>{n=e,r.notify(n)}))]}function B(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},593:(e,t,r)=>{r.d(t,{Hr:()=>h,K4:()=>c,KD:()=>y,UI:()=>d,VS:()=>p,YO:()=>b,ak:()=>g,bw:()=>f,dQ:()=>u,kR:()=>w,of:()=>l,vP:()=>m,yi:()=>v});var n=r(846),a=r(275),i=r(704),s=r(54),o=r(492);const c=e=>(0,a.ls)((t=>{let{previousState:r,...n}=t;return e(n)}),(e=>({value:e,state:n.a9(void 0)}))),u=a.yR,l=(0,a.ls)(a.a9,c),d=e=>t=>(0,a.ls)(t,(0,i.rO)({value:e})),f=e=>t=>(0,a.ls)(t,(0,i.rO)({value:(0,i.bw)(e)}));function p(e){return t=>r=>{let{previousState:a,...i}=r;const s=t({previousState:Array.isArray(a)?a[0]:void 0,...i}),o=e(s.value)({previousState:Array.isArray(a)?a[1]:void 0,...i});return{value:o.value,state:n.vP(s.state,o.state)}}}function m(e){return t=>{let{previousState:r,...i}=t;const o=S(r)?r:{},c=(0,a.zG)(e,s.Su(((e,t)=>t({previousState:o[e],...i}))));return{value:(0,a.zG)(c,s.UI((e=>e.value))),state:(0,a.zG)(c,s.UI((e=>e.state)),(e=>n.vP(e)))}}}function g(e,t){return r=>(0,a.ls)((0,i.rO)({previousState:k}),(i=>{const s=r(i),o=t(s.value)({...i,previousState:i.previousState[e]});return{value:(0,a.zG)([s.value,o.value],(t=>{let[r,n]=t;if(!S(r))throw new Error("Service.bind() was passed an upstream Service with a non-record value.");return{...r,[e]:n}})),state:(0,a.zG)(n.vP(s.state,o.state),n.UI((t=>{let[r,n]=t;if(void 0===r)return{[e]:n};if(!S(r))throw new Error("Service.bind() was passed an upstream Service with a non-record state.");return{...r,[e]:n}})))}}))}const h=(e,t)=>d((r=>({...r,[e]:t(r)})));function b(e){return t=>(0,a.ls)((0,i.rO)({previousState:(0,a.ls)(k,(t=>t[e]))}),t,(0,i.rO)({value:t=>({[e]:t}),state:n.UI((t=>({[e]:t})))}))}const v=(e,t)=>{const r=t||(t=>t===e);return t=>u((s=>{let{previousState:o,...c}=s;const u=Array.isArray(o)&&2===o.length&&r(o[0])?o[1]:void 0;return(0,a.zG)({previousState:u,...c},t,(0,i.rO)({state:n.UI((t=>[e,t]))}))}))},y=e=>{const t=e.slice(0,-1),r=e.slice(-1)[0],n=[...t.map((e=>{let[t,r]=e;return[t,(0,a.a9)(r)]})),(0,a.a9)(r)];return w((0,i.lo)(n))};function w(e){return(0,a.ls)(n.UI(e),_)}function _(e){const t=(0,a.zG)(e,n.Rp(0,(e=>e+1)));return r=>{let{previousState:i,stopped:s,...c}=r;return(0,a.zG)(n.vP(e,t),n.Rp(((e,r)=>{let[u,l]=r;return(0,a.zG)(e,o.UI((e=>e.state.current)),o.fS((()=>i)),(e=>u({previousState:e,stopped:(0,a.zG)(n.vP(s,t),n.UI((e=>{let[t,r]=e;return t||r!==l}))),...c})))})),(e=>({value:n.UI((e=>e.value),e),state:n.VS((e=>e.state),e)})))}}function k(e){return S(e)?e:{}}function S(e){return"object"==typeof e&&null!==e}},565:(e,t,r)=>{r.d(t,{d:()=>d,m:()=>l});var n=r(275),a=r(385),i=r(492),s=r(846),o=r(704),c=r(593),u=r(191);const l=e=>c.dQ((t=>{let{stopped:r,previousState:c}=t;const u=function(e){return h(e)?e:{validityKey:"",lastSuccess:i.YP}}(c),l=(0,n.zG)(u,(e=>({...e,inFlight:i.YP,lastSuccess:(0,n.zG)(e.lastSuccess,i.UI(a.F2))}))),d=(0,n.zG)(e,s.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),(e=>s.vP(e,r)),s.Rp(s.a9(l),((e,t)=>{let[r,c]=t;if(c)return e;const u=r.validity.key(),l=i.hX((e=>r.currentTimestampSecs-e.timestamp<=r.validity.maxAge)),d=(0,o.HP)(r.freshness.key),f=i.hX((e=>r.currentTimestampSecs-e.timestamp<=r.freshness.maxAge&&e.freshnessKey===d())),p=(0,n.zG)(e,s.UI((0,n.ls)(i.DT((e=>e.validityKey===u)),i.EQ((()=>({validityKey:u,inFlight:i.YP,lastSuccess:i.YP})),(0,o.rO)({inFlight:l,lastSuccess:i.tS(a.EQ((e=>i.G(a.t$(e))),(0,n.ls)(i.G,l,i.UI((e=>a.F2(e))))))})))),s.D8(m()));if((0,n.zG)(p.current,(e=>(0,n.zG)(e.inFlight,i.wp((()=>(0,n.zG)(e.lastSuccess,i.tS(i.Uo)))),f,i.pC))))return p;const g=()=>({timestamp:r.currentTimestampSecs,freshnessKey:d(),output:i.YP});return(0,n.zG)(r.refresh,i.EQ((()=>p),(0,n.ls)((0,n.nn)({previous:(0,n.zG)(p.current.lastSuccess,i.tS(i.Uo),i.tS((e=>e.output)))}),s.fF,s.UI(i.EQ((()=>(0,n.zG)(p,s.UI((0,o.rO)({inFlight:()=>i.G(g())})))),a.EQ((e=>(0,n.zG)(p,s.UI((0,o.rO)({inFlight:()=>i.YP,lastSuccess:(0,n.ls)(i.tS((0,n.ls)(i.Uo,i.hX((e=>i.pC(e.output))))),a.Yo((()=>e)),i.G)})))),(e=>s.a9({validityKey:u,inFlight:i.YP,lastSuccess:i.G(a.F2({...g(),output:i.G(e)}))}))))),s.xH)))})),s.xH,s.D8(m())),f=(0,n.zG)(d,s.UI((e=>({validityKey:e.validityKey,lastSuccess:(0,n.zG)(e.lastSuccess,i.tS(i.Uo))}))),s.D8(g())),p=(0,n.zG)(f,s.Rp(-1,(e=>e+1)));return{value:(0,n.zG)(d,s.UI((0,n.ls)((0,o.vg)("lastSuccess"),i.UI(a.UI((e=>e.output))),i.fS((()=>a.F2(i.YP)))))),state:(0,n.zG)(s.vP(f,p),s.UI((e=>{let[t,r]=e;return r>0?t:g().equals(t,u)?c:t})))}})),d=e=>t=>(0,n.ls)((0,o.rO)({previousState:(0,n.ls)(i.DT(h),i.YO("s1"),i.Hr("s2",(t=>{let{s1:r}=t;return(0,n.zG)(r,(0,o.rO)({lastSuccess:i.UI((0,o.rO)({output:i.tS(e)}))}))})),i.UI((e=>{let{s1:t,s2:r}=e;return g().equals(t,r)?t:r})),i.FS)}),t),f=()=>u.n_({freshnessKey:(0,o.Or)(),timestamp:(0,o.Or)(),output:i.Eh((0,o.Or)())});function p(e){return"object"==typeof e&&null!==e&&(!(!("freshnessKey"in e)||!b(e.freshnessKey))&&("timestamp"in e&&"number"==typeof e.timestamp&&!(!("output"in e)||!(0,o.El)(e.output))))}const m=()=>u.n_({validityKey:(0,o.Or)(),inFlight:i.Eh(f()),lastSuccess:i.Eh(a.Eh((0,o.Or)(),f()))}),g=()=>u.n_({validityKey:(0,o.Or)(),lastSuccess:i.Eh(f())});function h(e){return"object"==typeof e&&null!==e&&(!(!("validityKey"in e)||!b(e.validityKey))&&!!("lastSuccess"in e&&(0,o.El)(e.lastSuccess)&&(0,n.zG)(e.lastSuccess,i.EQ((()=>!0),p))))}function b(e){return null===e||"string"==typeof e||"number"==typeof e}},149:(e,t,r)=>{r.r(t),r.d(t,{PermutiveActivationManagerWeb:()=>s,optimisedActivationsConfig:()=>i});class n{logger;permutive;id;segmentCode;triggerType;config;workspaceLevelConfig;prefix="[Activation]";constructor(e,t,r,n,a,i,s){this.logger=e,this.permutive=t,this.id=r,this.segmentCode=n,this.triggerType=a,this.config=i,this.workspaceLevelConfig=s}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const r={reaction_id:this.id,type:e};this.permutive.track("Reaction",r,t),this.logger.log(this.prefix,r.type,r)}}var a=r(578);const i={dfp:{dfp:[105553,106086,106669,122231,116596,106683,127861,170773,106259,154473,106690,106246,106057,113096,135736,106979,106925,133541,106072,105833,106769,106444,106755,116594,145932,116417,136211,115269,135824,109232,109565,105825,106684,113092,106408,105550,106258,106449,110603,107063,124045,106754,106657,123556,106949,113089,105547,106791,107348,106940,106956,105982,109188,109290,107342,107041,105826,106069,103315,109543,105692,106757,106924,106887,106893,116612,113094,106074,106257,106075,103444,135497,107220,114815,114685,105690,107311,107329,121835,107198,147062,130926,105538,107316,114835,107221,106894,136907,106062,153570,136598,106785,147063,106055,105536,106245,116592,127860,106772,122111,114820,113290,106891,120908,123553,106787,121598,113095,106788,103316,105543,155876,106411,106652,107351,107328,103314,107330,154089,106923,109289,107184,106253,106685,107233,96400,116615,106753,149705,109229,107353,122065,106039,121599,115302,105541,105827,109057,107199,107317,107343,107312,116165,106759,114684,106691,113785,116414,110514,116162,175679,107320,105829,127864,113097,106792,103579,105542,106261,107352,117115,106056,114087,107346,109287,106365,106031,130317,123557,123552,117045,105689,115296,120698,106437,122234,141894,106950,107188,111797,105544,130318,117735,106660,106073,105620,107038,105688,106688,114817,120702,105539,107231,111793,107341,106664,155110,117065,114686,114825,106889,122208,107354,105835,106027,115476,106445,106255,105759,123551,107484,107359,107192,127862,116595,106790,106770,106948,106070,127249,135956,127865,126030,114824,122240,144200,106786,120700,106784,139887,109489,109566,106663,107189,107321,106843,107195,110515,106421,105549,114827,104503,130316,107043,107218,106423,123550,105758,167876,107187,106953,106890,106758,106966,114444,106939,111761,122229,109230,120699,116161,106771,141981,106677,106041,116608,127832,105537,114736,103329,106083,116593,116164,105755,106653,106256,106945,106689,144071,106093,106954,105693,105548,158599,107318,105540,162741,106418,107360,147061,106842,146539,101404,147415,128625,106686,113093,106844,127863,165787,105691,106088,106888,116419,111792,106789,111796,106087,106662,139866,133555,107350,136087,109493,122241,176015,176014,176245,176689,176695,179637,180069,138311,180313,180314,175332,180694,183159,178104,183389,177155,177154,177157,177156,177152,177151,177149,177150,183984,184137,184144,185537,185449,187748,187749,178017,188322,187642,188427,188906,188792,189628,189970,180312,185183,190299,190301,190302,190303,190304,190305,190306,191764,193102,183356,193365,193914,180315,193324,193323,193322,193321,193320,193319,193318,193317,193316,193315,193314,193312,193311,193306,193301,193296,193293,193292,193288,193265,193262,193261,193253,193236,193309,193307,193305,193302,193299,193295,193291,193266,193264,193263,193255,193250,193229,193308,193304,193303,193300,193297,193294,193290,193289,193268,193260,193256,193254,193252,193235,193232,193231,193298,193269,193267,193251,193237,193234,193233,187750,192300,164139,102267,100738,108995,190574,190463,190575,202799,203015,203017,202683,202680,202172,202173,202174,196414,192499,192498,192496,192495,192493,192490,192501,192504,192510,198302,198300,192487,192485,187985,187631,186850,184138,192486,185926,184145,203030,204784,206683,207771,207772,209485,208319,210231,210230,211541,211540,210686],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:376},appnexus:{},appnexus_adserver:[],nativo:[],rubicon_ssp:[106940,106771,106925,106923,106924,116165,106949,109493,114686,106365,109543,106784,120702,106652,128625,116595,114444,106683,106890,105691,105544,116596,105693,122065,105690,122234,106758,106246,105542,114736,106418,136087,106686,114827,122111,105755,106689,123557,105540,105759,105689,106889,105833,124045,106253,106966,106786,106408,113290,106772,106759,123551,114685,105549,105539,105620,105825,105541,130318,116594,106979,114835,106792,106844,106945,117115,107038,106790,106843,105827,106954,106893,116162,123552,105538,106887,116164,109489,105829,107043,106785,106754,106684,106891,106755,120908,130316,106258,114815,105536,114825,105826,105553,136211,114820,103329,106245,106411,106757,122229,106041,106027,105550,105547,116592,105688,123553,123556,106789,106691,116593,106956,115302,106075,105835,114824,127865,106685,105543,106256,106257,106690,106842,115269,109057,103579,106031,122208,106787,105982,106939,106255,106259,106444,114817,106770,105537,106791,122231,106039,106950,106948,117735,101404,126030,105758,105548,106888,106261,106788,116608,116615,130926,106769,116612,121598,105692,114684,116161,104503,107041,123550,106688,106953,106894],smart:[],freewheel:[]};class s{logger;permutive;clientContext;constructor(e,t,r){this.logger=e,this.permutive=t,this.clientContext=r}getSpecializedActivations(e){return i[e]}getActivations(e){return(0,a.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,r=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(r):n.criteria.some(r));var n}}},578:(e,t,r)=>{r.d(t,{Hn:()=>a});const n={standard_cohorts:{auto_init:!0,activationConfigs:[]},piano:{auto_init:!1,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"14648",activationConfigs:[]},clean_room:{auto_init:!0,pass_cohorts_to_prebid:!0,cohort_ssp_config:[["brrj",["6290526429"]],["brrv",["6298504545"]],["bsjf",["6355154340"]],["bsjr",["6361244531"]],["bvdp",["6355154341"]],["byfg",["6747335178"]],["byjx",["6763023755"]]],activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["google_pps"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},all_cohort_mapping:{1e7:["bgyz"],10000001:["bhgp"],10000002:["bhhc"],10000003:["bhhg"],10000004:["bhhk"],10000005:["bhhp"],10000006:["bhhv"],10000007:["bhhy"],10000008:["bhie"],10000010:["bhis"],10000011:["bhiz"],10000012:["bhji"],10000013:["bhjq"],10000014:["bhka"],10000015:["bhkl"],10000016:["bhkr"],10000017:["bhky"],10000018:["bhlg"],10000019:["bhli"],10000020:["bhlo"],10000021:["bhlp"],10000022:["bhnd"],10000023:["bhnl"],10000024:["bhnp"],10000025:["bhnw"],10000026:["bhoj"],10000035:["bgzb"],10000036:["bhgq"],10000037:["bhgs"],10000038:["bhgw"],10000039:["bhgy"],10000040:["bhgz"],10000041:["bhhe"],10000042:["bhhh"],10000043:["bhhw"],10000044:["bhhx"],10000045:["bhhz"],10000046:["bhia"],10000047:["bhif"],10000048:["bhig"],10000049:["bhii"],10000050:["bhij"],10000051:["bhik"],10000052:["bhim"],10000053:["bhip"],10000054:["bhit"],10000055:["bhiu"],10000056:["bhiv"],10000057:["bhiy"],10000058:["bhjm"],10000059:["bhjr"],10000060:["bhjs"],10000061:["bhjw"],10000062:["bhjx"],10000063:["bhkm"],10000064:["bhir"],10000065:["bhko"],10000066:["bhkp"],10000067:["bhkq"],10000068:["bhkz"],10000069:["bhla"],10000070:["bhlb"],10000071:["bhle"],10000072:["bhlf"],10000073:["bhlq"],10000074:["bhlt"],10000075:["bhlu"],10000076:["bhlw"],10000077:["bhlx"],10000078:["bhly"],10000079:["bhmb"],10000080:["bhmi"],10000081:["bhmj"],10000082:["bhml"],10000083:["bhmp"],10000084:["bhmr"],10000085:["bhmw"],10000086:["bhmz"],10000087:["bhne"],10000088:["bhnf"],10000089:["bhni"],10000090:["bhnn"],10000324:["bhhj"],10000325:["bhhi"],10000327:["bhku"],10000328:["bhkt"],10000329:["bhkw"],10000330:["bhkv"],10000687:["bgzc"],10000688:["bgza"],10000689:["bhha"],10000690:["bhgt"],10000691:["bhgx"],10000692:["bhgv"],10000693:["bhgr"],10000694:["bhgu"],10000695:["bhhb"],10000696:["bhhd"],10000697:["bhhf"],10000698:["bhhl"],10000699:["bhho"],10000700:["bhhm"],10000701:["bhhn"],10000702:["bhhq"],10000703:["bhht"],10000704:["bhhu"],10000705:["bhhs"],10000706:["bhhr"],10000707:["bhib"],10000708:["bhid"],10000709:["bhic"],10000710:["bhio"],10000711:["bhin"],10000712:["bhil"],10000713:["bhiq"],10000714:["bhih"],10000715:["bhiw"],10000716:["bhix"],10000717:["bhja"],10000718:["bhjc"],10000719:["bhjd"],10000720:["bhje"],10000721:["bhjf"],10000722:["bhjb"],10000723:["bhjg"],10000724:["bhjh"],10000725:["bhjo"],10000726:["bhjk"],10000727:["bhjn"],10000728:["bhjj"],10000729:["bhjl"],10000730:["bhjy"],10000731:["bhju"],10000732:["bhjv"],10000733:["bhjz"],10000734:["bhjt"],10000735:["bhkj"],10000736:["bhkk"],10000737:["bhki"],10000738:["bhkd"],10000739:["bhkc"],10000740:["bhkf"],10000741:["bhkh"],10000742:["bhkb"],10000743:["bhkg"],10000744:["bhke"],10000745:["bhjp"],10000746:["bhkn"],10000747:["bhkx"],10000748:["bhks"],10000749:["bhld"],10000750:["bhlc"],10000751:["bhlh"],10000752:["bhlk"],10000753:["bhlj"],10000754:["bhll"],10000755:["bhlm"],10000756:["bhlv"],10000757:["bhna"],10000758:["bhmv"],10000759:["bhmt"],10000760:["bhmy"],10000761:["bhmc"],10000762:["bhmo"],10000763:["bhls"],10000764:["bhmq"],10000765:["bhme"],10000766:["bhmh"],10000767:["bhlz"],10000768:["bhlr"],10000769:["bhnb"],10000770:["bhmk"],10000771:["bhmu"],10000772:["bhmx"],10000773:["bhmg"],10000774:["bhmd"],10000775:["bhmf"],10000776:["bhnc"],10000777:["bhmn"],10000778:["bhmm"],10000779:["bhma"],10000780:["bhms"],10000781:["bhng"],10000782:["bhnj"],10000783:["bhnh"],10000784:["bhnk"],10000785:["bhno"],10000786:["bhnm"],10000787:["bhnu"],10000788:["bhnv"],10000789:["bhns"],10000790:["bhnt"],10000791:["bhnq"],10000792:["bhnr"],10000793:["bhob"],10000794:["bhny"],10000795:["bhod"],10000796:["bhoh"],10000797:["bhog"],10000798:["bhnz"],10000799:["bhoa"],10000800:["bhoe"],10000801:["bhnx"],10000802:["bhoc"],10000803:["bhof"]},affinity_enabled:!1,activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"06c543a3-9619-454e-ba1a-5e4a81e9c48b",tt:"EveryTime",sc:103314,c:{},wc:{}},{id:"ec74d141-705e-4eeb-bca7-34a5f91b1cb9",tt:"EveryTime",sc:103316,c:{},wc:{}}]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:290940,product_type:"INVITE_PARTNER",activationConfigs:[]},prebid:{auto_init:!0,revenue_insights_enabled:!0,data_provider_config:{ac_bidders:[]},activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!1,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},google_pps__curation_platform:{auto_init:!0,activation_method:"prebid",ssp_code:"google_pps",type:"curation_platform",activationConfigs:[]},sailthru:{auto_init:!1,activationConfigs:[{id:"5beba47f-07e2-43d2-8e8b-5bad71adfa29",tt:"EveryTime",sc:103315,c:{},wc:{}},{id:"f4135e16-2484-445f-b279-1de09f3baf5e",tt:"EveryTime",sc:103314,c:{},wc:{}}]}},a=e=>{const t=n[e];return(e,r)=>(null==t?void 0:t[e])??r};a("web"),a("dfp"),a("facebook_pixel_v2")},346:(e,t,r)=>{r.d(t,{X:()=>a,k:()=>n});const n=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),a=e=>({id:e.id,name:e.name,time:(i(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),i=e=>isFinite(e)&&e instanceof Date},985:(e,t,r)=>{r.d(t,{F:()=>u,I:()=>c});var n=r(846),a=r(444),i=r(583),s=r(275),o=r(704);const c=(e,t)=>{let r=!1;return n.UI(a.UI((0,o.bw)((n=>{r||(r=(0,s.zG)(n,i.G((e=>{let[,t]=e;return"Pageview"===t.name}))),r&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:t,time_origin:"sdk_init"}))}))))},u=(e,t)=>{const r=c(e,t);return(0,s.ls)(n.En(2,i.uZ()),(e=>{let[t,a]=e;return(0,s.zG)(a,r,n.UI((e=>e()))),t}))}},271:(e,t,r)=>{r.r(t),r.d(t,{service:()=>Di});var n=r(275),a=r(593),i=r(846),s=r(492),o=r(495);const c=e=>{const t=e.current;return(0,n.zG)(e,i.UI((e=>e===t?{segmentsEntered:[],segmentsExited:[]}:{segmentsEntered:(0,n.zG)(e,l(t)),segmentsExited:(0,n.zG)(t,l(e))})))},u=e=>new Set(e),l=e=>t=>(0,n.zG)(t,d((t=>!e.has(t)))),d=e=>t=>{const r=[];return t.forEach((t=>e(t)&&r.push(t))),r};var f=r(444),p=r(172),m=r(704);const g=()=>({kind:"null",value:null}),h=e=>({kind:"string",value:e}),b=e=>({kind:"number",value:e}),v=e=>({kind:"array",value:e}),y=e=>({kind:"object",value:e}),w=e=>e,_=()=>({kind:"bottom"}),k=e=>({kind:"inner",a:e}),S=e=>({kind:"top",error:e}),I=e=>({kind:"unbounded",group:e}),z=(e,t)=>({kind:"windowed",key:t,group:e}),x=(e,t,r)=>({kind:"countLimit",n:r,limit:t,group:e}),q=(e,t,r)=>({kind:"uniqueLimit",n:r,limit:t,group:e}),G=e=>({kind:"numberGroup",group:e}),E=e=>({kind:"stringGroup",group:e}),U=e=>({kind:"tuple",tuple:e}),C=e=>({state:e}),P=(e,t)=>({commands:e,payload:t});var T=r(812),O=r(29);const D=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return k(t(e.a));case"top":return S(e.error)}},A=e=>(0,T.Zt)(((t,r)=>{if("bottom"===t.kind&&"bottom"===r.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===r.kind)return 1;if("top"===t.kind&&"top"===r.kind)return O.Df.compare(t.error,r.error);if("top"===t.kind)return 1;if("top"===r.kind)return-1;if("inner"===t.kind&&"inner"===r.kind)return e.compare(t.a,r.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var M=r(586),j=r(358),B=r(385),R=function(e){return-1===e?1:1===e?-1:0};function F(e,t){return(0,j.oA)(e.map(t))}function L(e,t,r,n){const a=(e,t)=>{if(0===e.length)return(0,j.oA)(t.map((e=>(0,s.G)({1:e[1],2:r(s.YP,(0,s.G)(e[2]))}))));if(0===t.length)return(0,j.oA)(e.map((e=>(0,s.G)({1:e[1],2:r((0,s.G)(e[2]),s.YP)}))));if(e.length>0&&t.length>0&&(0,T.lt)(n)(e[0][1],t[0][1])){const[n,...i]=e,o=n[1],c=n[2];return(0,j.Ce)({1:o,2:r((0,s.G)(c),s.YP)})(a(i,t))}if(e.length>0&&t.length>0&&(0,T.gt)(n)(e[0][1],t[0][1])){const[n,...i]=t,o=n[1],c=n[2];return(0,j.Ce)({1:o,2:r(s.YP,(0,s.G)(c))})(a(e,i))}if(e.length>0&&t.length>0){const[n,...i]=e,[o,...c]=t,u=n[1],l=n[2],d=o[2];return(0,j.Ce)({1:u,2:r((0,s.G)(l),(0,s.G)(d))})(a(i,c))}throw new Error("Non exhaustive match in mapOption2")},i=(0,T.Uz)((e=>e[1]))(n),o=(e=>{const t=F(e,(e=>(0,s.pC)(e[2])?(0,s.G)({1:e[1],2:e[2].value}):s.YP));return 0===t.length?s.YP:(0,s.G)(t)})(a((0,j.DY)(i)([...e].map((e=>({1:e[0],2:e[1]})))),(0,j.DY)(i)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,s.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(o)}function N(e,t,r,n){const a=(0,T.Uz)((e=>e[0]))(n),i=(0,j.DY)(a)([...t]).reduceRight(((e,t)=>{if((0,B.nM)(e)){const n=r(t[1],e.left);return(0,s.pC)(n)?(0,B.t$)(n.value):(0,B.F2)(t[0])}return e}),(0,B.t$)(e));return(0,s.Uo)(i)}function Y(e,t){return new Map([...e].map(t))}function Q(e,t){return new Map([...e].filter(t))}var $=r(191),H=r(627);function V(e){return JSON.stringify(K(e))}function K(e){switch(e.kind){case"null":return J.encode(e);case"string":return Z.encode(e);case"number":return ee.encode(e);case"array":return te.encode(e);case"object":return re.encode(e)}}function W(e){return null===e?J.decode(e):"number"==typeof e?ee.decode(e):"string"==typeof e?Z.decode(e):Array.isArray(e)?te.decode(e):re.decode(e)}const X=(e,t)=>(0,B.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),J={encode:e=>null,decode:e=>null===e?(0,B.F2)({kind:"null",value:null}):X(e,"SimpleNull")},Z={encode:e=>e.value,decode:e=>"string"==typeof e?(0,B.F2)(h(e)):X(e,"SimpleString")},ee={encode:e=>e.value,decode:e=>"number"==typeof e?(0,B.F2)(b(e)):X(e,"SimpleNumber")},te={encode:e=>e.value.map(K),decode:e=>{if(Array.isArray(e)){const t=(0,j.fw)(B.g1)(W)(e);return(0,B.UI)(v)(t)}return X(e,"SimpleArray")}},re={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:K(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=(0,j.fw)(B.g1)((([e,t])=>(0,n.zG)(W(t),(0,B.UI)((t=>(0,n.bc)(e,t))))))(Object.entries(e));return(0,B.UI)((e=>y(new Map([...e]))))(t)}return X(e,"SimpleObject")}};function ne(e){return(0,n.zG)(e,ie,(0,s.UI)(V),(0,s.fS)((()=>"<encode error>")))}function ae(e){return(0,s.UI)(de)(function(e){switch(e.state.kind){case"top":return(0,s.G)(h(e.state.error));case"bottom":return s.YP;case"inner":return ie(e.state.a)}}(e))}function ie(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return se(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,s.G)(v(function(e,t){const r=(0,s.UI)((e=>(0,j.Ce)(e)(t)))(e);return(0,s.fS)((()=>t))(r)}((0,s.UI)((e=>h(function(e){const t=e=>(0,s.EQ)((()=>""),(e=>"b"+JSON.stringify(e)))(e.bound),r=e=>{switch(e.operation){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>{const n=t(e[1])+r(e[1]);return 1===e[2]?n:n+JSON.stringify(e[2])};return e.map(n).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return h(e.error);case"inner":return b(e.a)}},r=e=>F([oe,ce,e=>(0,n.zG)(e,le,y,s.G)],(t=>t(e))),a=e=>F([oe,ue,e=>(0,n.zG)(e,le,(e=>Y(e,(([e,t])=>[JSON.stringify(e),t]))),y,s.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return r(e.group);case"numberGroup":return a(e.group)}}(e.payload)))):s.YP}function se(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,s.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,s.pC)(e.limit)}}function oe(e){switch(e.kind){case"unbounded":return s.YP;case"windowed":return(0,s.G)(h("w"));case"countLimit":return(0,s.G)(h(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,s.G)(h(1===e.n?"u":`u${e.n}`))}}function ce(e){switch(e.kind){case"unbounded":return s.YP;case"windowed":return(0,s.G)(h((0,s.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,s.G)(h((0,s.pC)(e.limit)?e.limit.value:""))}}function ue(e){switch(e.kind){case"unbounded":return s.YP;case"windowed":return(0,s.pC)(e.key)?(0,s.G)(b(e.key.value)):(0,s.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,s.pC)(e.limit)?(0,s.G)(b(e.limit.value)):(0,s.G)({kind:"null",value:null})}}function le(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function de(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?de(e.value[0]):v(e.value.map(de));case"object":return(0,n.zG)(Q(e.value,(([e,t])=>"null"!==t.kind)),(e=>Y(e,(e=>[e[0],de(e[1])]))),y);default:return e}}function fe(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return s.YP;const[t,r,n,a]=e;if("string"===t.kind&&"string"===r.kind&&"object"===a.kind){const e=(0,s.DT)((e=>pe(e[1].value)&&me(e[2].value)))({1:t,2:r});return(0,s.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:n,m:a.value})))(e)}return s.YP})(e);if((0,s.pC)(t)){const{prim:e,grp:r,cutoff:n,m:a}=t.value,i=ge(n,a,he(r));return"string"==typeof i?S(i):k(P(be(e),i))}const r=(e=>{if(3!==e.length)return s.YP;const[t,r,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,s.DT)((e=>me(e.value)))(t);return(0,s.UI)((e=>({grp:e.value,cutoff:r,m:n.value})))(e)}return s.YP})(e);if((0,s.pC)(r)){const{grp:e,cutoff:t,m:n}=r.value,a=ge(t,n,he(e));return"string"==typeof a?S(a):k(P(s.YP,a))}const n=(e=>{if(2!==e.length)return s.YP;const[t,r]=e;if("string"===t.kind&&"object"===r.kind){const e=(0,s.DT)((e=>pe(e.value)))(t);return(0,s.UI)((e=>({prim:e.value,m:r.value})))(e)}return s.YP})(e);if((0,s.pC)(n)){const{prim:e,m:t}=n.value;return k(P(be(e),E(I(t))))}const a=(e=>{if(1!==e.length)return s.YP;const[t]=e;return"object"===t.kind?(0,s.G)({m:t.value}):s.YP})(e);if((0,s.pC)(a)){const{m:e}=a.value;return k(P(s.YP,E(I(e))))}const i=(e=>{if(e.length<1)return s.YP;const[t,...r]=e;if("string"===t.kind){const e=(0,s.DT)((e=>pe(e.value)))(t);return(0,s.UI)((e=>({prim:e.value,rest:r})))(e)}return s.YP})(e);if((0,s.pC)(i)){const{prim:e,rest:t}=i.value;return k(P(be(e),ye(t)))}return k(P(s.YP,ye(e)))},r=e=>"array"===e.kind?(0,j.tS)(r)(e.value):[e];return"null"===e.kind?C({kind:"bottom"}):C(t(r(e)))}function pe(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...r]=t;return-1!=="bpmvn".indexOf(e)&&r.every((e=>-1!=="bpmvn0123456789.".indexOf(e)))}}function me(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...r]=t;return-1!=="ux".indexOf(e)&&-1===r.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function ge(e,t,r){switch(e.kind){case"string":return E(r({1:(0,s.G)(e.value),2:t}));case"number":case"null":return G(r({1:"null"===e.kind?s.YP:(0,s.G)(e.value),2:Q(Y(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function he(e){const t=e=>t=>q(t[2],t[1],e),r=e=>t=>x(t[2],t[1],e),n=e.split("");switch(!0){case"w"===n[0]&&void 0===n[1]:return e=>z(e[2],e[1]);case"u"===n[0]&&void 0===n[1]:return t(1);case"u"===n[0]&&void 0!==n[1]:return t(parseInt(n.slice(1).join("")));case"x"===n[0]&&void 0===n[1]:return r(1);case"x"===n[0]&&void 0!==n[1]:return r(parseInt(n.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function be(e){const t=e=>(0,s.Wi)(e.bound)||"add"===e.operation||"mul"===e.operation?(0,s.G)(e):s.YP,r=(e,r,a)=>{const i=((e,r)=>(0,n.zG)(e,(e=>{switch(e){case"p":return(0,s.G)("add");case"m":return(0,s.G)("mul");case"v":return(0,s.G)("max");case"n":return(0,s.G)("min");default:return s.YP}}),s.UI((e=>({operation:e,bound:r}))),s.tS(t)))(e,a);return(0,s.UI)((e=>{const{init:t,rest:n}=(0,j.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(r);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(i)};return(0,s.UI)(w)((0,M.nI)(ve(e,(e=>{const t=e.split("");if(0===t.length)return s.YP;const[a,...i]=t;if("b"===a){const{init:e,rest:t}=(0,n.zG)(i,(0,j.zT)((e=>-1!=="1234567890.".indexOf(e))));if(0===e.length||0===t.length)return s.YP;const a=parseFloat(e.join("")),[o,...c]=t;return r(o,c,(0,s.G)(a))}return r(a,i,s.YP)}))))}function ve(e,t){const r=t(e);return(0,s.fS)((()=>[]))((0,s.UI)((e=>[e[1]].concat(ve(e[2],t))))(r))}function ye(e){return U(e.map(we))}function we(e){switch(e.kind){case"number":return k(e.value);case"string":return S(e.value);case"null":return{kind:"bottom"};case"object":return S("{object}");case"array":return S("{array}")}}var _e=r(925);const ke={strategy:(e,t,r)=>n=>{if((0,s.Wi)(r))return t;if("delta"===e&&(0,s.Wi)(t))return s.YP;if((0,s.Wi)(t))return r;if((0,s.pC)(t)&&(0,s.pC)(r))return n(t.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,r,a,i,o)=>{const c=(0,j.pR)(A(o)),u=(0,n.zG)(t.bound,s.EQ((()=>n.yR),(e=>t=>(0,T.VV)(o)(i.fromNumber(e),t))));if("append"===e&&"add"===t.operation)return(0,j.yL)(r,a,Ee("append",(0,n.ls)(i.plus,u)));if("append"===e&&"mul"===t.operation)return(0,j.yL)(r,a,Ee("append",(0,n.ls)(i.times,u)));if("append"===e&&"max"===t.operation)return(0,T.Fp)(c)(r,a);if("join"===e&&"add"===t.operation)return(0,j.yL)(r,a,Ee("join",(0,T.Fp)(o)));if("join"===e&&"mul"===t.operation)return(0,j.yL)(r,a,Ee("join",(0,T.Fp)(o)));if("join"===e&&"max"===t.operation)return(0,T.Fp)(c)(r,a);if("min"===t.operation)return ke.operation(e,{operation:"max",bound:t.bound},r,a,i,function(e){return(0,T.Zt)(((t,r)=>R(e.compare(t,r))))}(o));if("delta"===e&&"max"===t.operation)return(0,T.gt)(c)(r,a)?r:a.map(_);if("delta"===e)return(0,j.yL)(r,a,((e,t)=>(0,T.gt)(A(o))(e,t)?D(e,u):{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,r,n)=>{if("delta"===e&&"top"===r.kind&&"top"===n.kind)return(0,T.gt)(O.Df)(r.error,n.error)?S(r.error):{kind:"bottom"};if("delta"===e&&"bottom"===n.kind)return r;if("delta"===e&&"bottom"===r.kind)return{kind:"bottom"};if("top"===r.kind&&"top"===n.kind)return S((0,T.Fp)(O.Df)(r.error,n.error));if("top"===r.kind)return r;if("top"===n.kind)return n;if("inner"===r.kind&&"inner"===n.kind)return t(r.a,n.a);if("bottom"===r.kind)return n;if("bottom"===n.kind)return r;throw new Error("Non exhaustive match in extend")}},Se={fromNumber:n.yR,plus:(e,t)=>e+t,times:(e,t)=>e*t};function Ie(e,t,r,n){if("unbounded"===e.kind&&"unbounded"===t.kind){const a=e.group,i=t.group;return(0,s.fS)(_)((0,s.UI)((e=>k(I(e))))(L(a,i,r,n)))}if("windowed"===e.kind&&"windowed"===t.kind){const a=e.key,i=e.group,o=t.key,c=t.group,u=(0,T.Fp)((0,s.pR)(n))(a,o);return(0,s.fS)(_)((0,s.UI)((e=>k(z(e,u))))(L(i,c,r,n)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const a=e.n,i=t.n;if(a===i){const i=e.limit,o=e.group,c=t.limit,u=t.group,l=(0,T.Fp)((0,s.pR)(n))(i,c);return(0,s.fS)(_)((0,s.UI)((e=>k(x(e,l,a))))(L(o,u,r,n)))}return S("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const a=e.n,i=t.n;if(a===i){const i=e.limit,o=e.group,c=t.limit,u=t.group,l=(0,T.Fp)((0,s.pR)(n))(i,c);return(0,s.fS)(_)((0,s.UI)((e=>k(q(e,l,a))))(L(o,u,r,n)))}return S("Non matching counts")}return S("Non matching group types")}function ze(e,t,r){return(0,s.fS)(g)(xe(e,s.YP)(t,r))}function xe(e,t){const r=t=>(r,n)=>ke.strategy(e,r,n)(xe(e,t)),a=(t,n,a)=>{if("stringGroup"===n.kind&&"stringGroup"===a.kind){const e=Ie(n.group,a.group,r(t),O.Df);return D(e,(e=>E(Ge(e,O.Df))))}if("numberGroup"===n.kind&&"numberGroup"===a.kind){const e=Ie(n.group,a.group,r(t),H.Df);return D(e,(e=>G(Ge(e,H.Df))))}if("tuple"===n.kind&&"tuple"===a.kind){const r=(0,s.pC)(t)?t.value:[];return k(U(function(e,t,r,n,a,i){const o=(e,t)=>({1:(0,j.ke)(e)(t).concat((0,j.KB)(Math.max(0,e-t.length),_)),2:(0,j.md)(e)(t)}),c=(t,r,n)=>{if(0===t.length)return ke.operation(e,{operation:"max",bound:s.YP},r,n,a,i);if(t.length>0){const[s,...u]=t,l=o(s[2],r),d=l[1],f=l[2],p=o(s[2],n),m=p[1],g=p[2];return ke.operation(e,s[1],d,m,a,i).concat(c(u,f,g))}throw new Error("Non exhaustive match in recurse")};return(0,j.GY)((0,j.Qp)((e=>"bottom"===e.kind))((0,j.GY)(c(t,r,n))))}(e,r,n.tuple,a.tuple,Se,H.Df)))}throw new Error(`Non matching payload. Got ${n.kind} and ${a.kind}`)},i=(e,r)=>{if((0,s.Eh)((0,M.Eh)((0,$.n_)({1:(0,$.n_)({operation:O.Eq,bound:(0,s.Eh)(H.Eq)}),2:H.Eq}))).equals(e.commands,r.commands)){const n=(0,s.Wi)(e.commands)?t:e.commands,i=a(n,e.payload,r.payload);return D(i,(t=>P(e.commands,t)))}if(i=e.commands,o=r.commands,(0,s.Eh)((0,M.Eh)((0,$.n_)({1:(0,$.n_)({operation:O.Eq}),2:H.Eq}))).equals(i,o)){const i=(0,n.zG)(((e,t)=>(0,n.zG)((0,_e.gz)(s.G5)(e,t),(0,s.UI)((([e,t])=>M.yL(e,t,((e,t)=>({1:{operation:e[1].operation,bound:(0,n.zG)((0,_e.gz)(s.G5)(e[1].bound,t[1].bound),s.UI((([e,t])=>Math.min(e,t))),s.wp((()=>e[1].bound)),s.wp((()=>t[1].bound)))},2:e[2]})))))))(e.commands,r.commands),s.wp((()=>t))),o=a(i,e.payload,r.payload);return D(o,(e=>P(i,e)))}throw new Error(`Non matching primitive strings. Got ${ne(e)} and ${ne(r)}`);var i,o};return(t,r)=>ae(C(ke.extend(e,i,fe(t).state,fe(r).state)))}function qe(e,t,r){const n=(0,s.UI)((t=>Q(e,(([e,n])=>(0,T.gf)(r)(e,t)))))(t);return(0,s.fS)((()=>e))(n)}function Ge(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,s.Wi)(e.key)?e:z(qe(e.group,e.key,t),e.key);case"countLimit":{const r=e.limit,n=e.n,a=e.group,i=N(n,a,((e,t)=>t<=1?s.YP:(0,s.G)(t-1)),t),o=(0,T.Fp)((0,s.pR)(t))(r,i);return x(qe(a,o,t),o,n)}case"uniqueLimit":{const r=e.limit,n=e.n,a=e.group,i=(e,t)=>{if("object"===e.kind){const r=[...e.value.keys(),...t.keys()],a=new Set(r);return a.size>=n?s.YP:(0,s.G)(a)}return s.YP},o=N(new Set,a,i,t),c=(0,T.Fp)((0,s.pR)(t))(r,o);return q(qe(a,c,t),c,n)}}}function Ee(e,t){return(r,n)=>ke.extend(e,((e,r)=>k(t(e,r))),r,n)}function Ue(e,t){return ze("append",e,t)}function Ce(e,t){return ze("join",e,t)}var Pe=r(54),Te=r(491),Oe=r(716),De=r(543),Ae=r(560),Me=r(219);function je(e,t){return function(r){return e.map(r,t.compact)}}function Be(e,t,r){var a=je(e,t),i=(0,Ae.UI)(e,r);return function(e){return Me.s4(a((0,n.zG)(e,i(s.IS))),a((0,n.zG)(e,i(s.EK))))}}function Re(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filter(e,r)}))}}}function Fe(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filterMap(e,r)}))}}}function Le(e,t){var r=Re(e,t);return function(e){var t=r((0,Te.ff)(e)),n=r(e);return function(e){return(0,Me.s4)(t(e),n(e))}}}function Ne(e,t){var r=Fe(e,t);return function(e){return function(t){return(0,Me.s4)((0,n.zG)(t,r((function(t){return(0,s.IS)(e(t))}))),(0,n.zG)(t,r((function(t){return(0,s.EK)(e(t))}))))}}}var Ye=r(395),Qe=r(272),$e=r(963);function He(e){return(0,n.ls)(s.G,e.of)}function Ve(e){return(0,n.a9)(e.of(s.YP))}function Ke(e){return function(t){return e.map(t,s.G)}}function We(e){return(0,n.ls)(s.ij,e.of)}function Xe(e){var t=We(e);return function(e){return(0,n.ls)(e,t)}}function Je(e){var t=ct(e),r=Xe(e);return function(e){return t(r(e))}}function Ze(e){return function(t){return(0,n.ls)(t,e.of)}}function et(e){var t=ct(e),r=Ze(e);return function(e){return t(r(e))}}function tt(e){return function(t){return function(r){return e.of(s.DT(t)(r))}}}function rt(e){return(0,n.ls)(s.Uo,e.of)}function nt(e){return function(t,r){return function(n){return e.map(n,s.EQ(t,r))}}}function at(e){return function(t,r){return function(n){return e.chain(n,s.EQ(t,r))}}}function it(e){return function(t){return function(r){return e.chain(r,s.EQ(t,e.of))}}}function st(e){return(0,Ae.UI)(e,s.dO)}function ot(e){return(0,_e.ap)(e,s.G5)}function ct(e){var t=Ve(e);return function(r){return function(n){return e.chain(n,s.EQ((function(){return t()}),r))}}}function ut(e){var t=He(e);return function(r){return function(n){return e.chain(n,s.EQ(r,t))}}}var lt=r(940),dt=He(lt.PM),ft=(lt.PM,lt.of),pt=(lt.PM,function(e){return mt(lt.tD(e))}),mt=Ke(lt.dO),gt=lt.UI(s.Uo),ht=(lt.dO,at(lt.qo)),bt=(lt.UA,lt.PM,lt.PM,lt.UA,lt.PM,et(lt.UA)),vt=st(lt.dO),yt=ot(lt.Hi),wt=dt,_t=ct(lt.UA),kt=(lt.UA,lt.PM,lt.dO,s.Ri,lt.dO,s.Ri,s.dO,Re(lt.dO,s.xu)),St=(lt.dO,s.xu,lt.dO,s.xu,lt.dO,s.xu,function(e,t){return(0,n.zG)(e,vt(t))}),It=function(e,t){return(0,n.zG)(e,yt(t))},zt=function(e,t){return(0,n.zG)(e,_t(t))},xt="TaskOption",qt={URI:xt,map:St},Gt={URI:xt,map:St,ap:It,chain:zt},Et={URI:xt,fromIO:pt},Ut=(0,Ye.At)(Et,Gt),Ct={URI:xt,fromIO:pt,fromTask:mt},Pt=(0,Qe.wt)(Ct),Tt=(0,Qe.oU)(Ct,Gt),Ot=($e.F4,(0,Ae.Hr)(qt)),Dt=(0,De.a)(Gt),At=($e.Xl,He(f.PM)),Mt=(f.PM,f.of,f.PM,f.dO,s.Uo,f.dO,f.qo,f.UA,f.UI(s.FS),f.UI(s.WG),f.PM,f.PM,f.UA,f.PM,f.UA,f.dO,f.G5,At),jt=(f.UA,ut(f.UA)),Bt=(f.PM,f.dO,s.Ri,f.dO,s.Ri,s.dO,f.dO,s.xu,f.dO,s.xu,f.dO,s.xu,f.dO,s.xu,$e.F4,$e.Xl,r(583));const Rt=new Set(["AdRequest","Reaction","PageviewEngagement","SegmentEntry","SegmentExit"]),Ft=e=>a.dQ((t=>{let{previousState:r}=t;const[a,o]=i.Ue(!1);const[c,u]=i.gS({empty:s.YP,concat:(e,t)=>(0,n.zG)(Bt.oA([e,t]),s.DT(Bt.Od),s.UI((e=>e.reduce(((e,t)=>({...e,...t}))))))}),l=(0,n.zG)((0,m.Kn)(r)?r:{},(0,m.rO)({stateOffset:(0,n.ls)(s.DT(m.BJ),s.fS((()=>0))),fetchUnseenKey:(0,n.ls)(s.DT(m.HD),s.fS((()=>"")))})),d=(0,n.zG)(i.gS(s.uZ({concat:function(e,t){return Object.assign({},e,t)}})),(t=>{let[r,a]=t;return(0,n.zG)(i.vP(e.lastProcessedEvents,e.internalStateDiff,e.queryLanguageProcessing),i.bw((e=>{let[t,r,n]=e;if(n)return;return t().filter((e=>!Rt.has(e.name))).length>0?a(r()):void 0}))),(0,n.zG)(i.vP({internalStateDiff:r,internalStateMap:e.internalStateMap}),i.D8(((e,t)=>e.internalStateDiff===t.internalStateDiff)))})),f=(0,n.zG)(i.vP(e.sessionId,d,a),i.Rp(i.a9({...l,inFlightRequest:!1,previousDecodedState:(0,n.zG)(e.internalStateMap.current,Nt,W,B.fS((()=>y(new Map)))),sendFullStateWithUnseen:!1}),((t,r)=>{let[a,{internalStateDiff:o,internalStateMap:c},l]=r;return(0,n.zG)(t,i.VS((t=>{if(t.inFlightRequest)return i.a9(t);const r=!l&&t.sendFullStateWithUnseen,d=r||!e.groupIdIsNewlyGenerated&&a!==t.fetchUnseenKey;return(0,n.zG)(r?Mt(c):o,jt((()=>()=>(0,n.zG)({},s.DT((()=>d))))),lt.tD,_t((0,n.ls)(Qt(t.previousDecodedState),Oe.Vn((0,m.bw)((t=>e.logger.error(t)))),gt)),ht((()=>lt.of({...t,inFlightRequest:!1})),(0,n.ls)(lt.of,lt.ak("processed",(r=>(0,n.zG)(e,Lt({delta:r.delta,stateOffset:t.stateOffset,fetchUnseen:d}),lt.UI((0,m.bw)((0,n.ls)(s.UI((0,m.vg)("stateDelta")),s.hX(Te.ff(Pe.xb)),u)))))),lt.UI((e=>({fetchUnseenKey:a,inFlightRequest:!1,sendFullStateWithUnseen:t.sendFullStateWithUnseen&&!r,previousDecodedState:e.decodedState,stateOffset:(0,n.zG)(e.processed,s.UI((e=>e.response.state_offset)),s.fS((()=>t.stateOffset)))}))))),i.fF,i.UI(s.fS((()=>({...t,inFlightRequest:!0})))))})))})),i.xH,i.UI((e=>({stateOffset:e.stateOffset,fetchUnseenKey:e.fetchUnseenKey}))),i.D8((0,$.MW)({stateOffset:H.Eq,fetchUnseenKey:O.Eq})));return{state:f,value:{externalStateDelta:c}}})),Lt=e=>t=>(0,n.zG)(e,s.DT((e=>e.fetchUnseen||Te.ff(Pe.xb)(e.delta))),ft,_t((e=>{return(0,n.zG)(t,(r={event_source_id:t.eventSourceId,fetch_unseen:e.fetchUnseen,group_id:t.groupId,last_seen_offset:e.stateOffset,state:e.delta},e=>Oe.Y3((()=>e.permutiveApi.req({url:e.permutiveUrls.getEndpointUrl("/state",s.G("v1.0"),[["fetch_unseen",JSON.stringify(r.fetch_unseen)]]),method:"POST",payload:{group_id:r.group_id,event_source_id:r.event_source_id,state:JSON.stringify(r.state),last_seen_offset:r.last_seen_offset},contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Error sending state delta. Got ${B.KC(e)}`))),Oe.Vn((0,m.bw)((e=>t.reportError(e)))),gt,kt((e=>!!e)),bt((0,n.ls)(B.of,B.YO("response"),B.ak("stateDelta",(e=>{return t=e.response.state,(0,B.Y3)((function(){return JSON.parse(t)}),n.yR);var t})),B.Vn((0,m.bw)((e=>t.reportError(`Failed to parse State API response, got ${e}`)))),s.Uo)));var r}))),Nt=e=>(0,m.b0)(e,((e,t)=>t.state?s.G({[t.checksum]:t.state}):s.YP)),Yt=e=>t=>{const r=(0,n.zG)(t,Nt,W,B.fS((()=>y(new Map))),(t=>ze("delta",t,e)));return{decodedState:Ce(r,e),delta:(0,n.zG)(r,K,s.ij,s.fS((()=>({}))))}},Qt=e=>t=>()=>new Promise((r=>(0,p.HJ)((()=>(0,n.zG)(t,B.it(Yt(e),(e=>`Failed to compute delta for state sync. Got ${e}`)),r)))));r(511),Pe.dp;var $t=Pe.xb,Ht=function(e){return function(t){return Object.keys(t).sort(e.compare)}};O.Df;Pe.dx,Pe.e$;Pe.Bu,Pe.P5,Pe.Su;var Vt=Pe.UI;Pe.ri;function Kt(e){return Pe.vP(e)}Pe._r;Pe.jt;Pe.yW,Pe.G,Pe.t9;var Wt=Pe.HA,Xt=(Pe.nn,Pe.kp),Jt=Pe.CC,Zt=Pe.RF,er=(Pe.I8,Pe.mS,Pe.RJ,Pe._Y,Pe.V_),tr=Pe.EW,rr=Pe.nu,nr=(Pe.SW,Pe.zV,Pe.Ub,Pe.vA,Pe.qS),ar=(Pe.mK,function(e){return function(t){var r=Ht(e);return function(e,n){var a=r(e);if(0===a.length)return t.of({});for(var i=t.of({}),s=function(r){i=t.ap(t.map(i,(function(e){return function(t){return e[r]=t,e}})),n(r,e[r]))},o=0,c=a;o<c.length;o++){s(c[o])}return i}}}),ir=Pe.hX;Pe.DZ,Pe.uK,Pe.tV;Pe.oA,Pe.oh;var sr="Record";var or=Pe.Eh,cr=(Pe.uZ,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,Pe.nr,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,O.Df,r(865)),ur=r(350),lr=function(e){return function(t){return[void 0,e(t)]}},dr=function(e){return function(t){return[e(t),t]}},fr=function(e,t){return(0,n.zG)(e,gr(t))},pr=function(e,t){return(0,n.zG)(e,hr(t))},mr=function(e,t){return(0,n.zG)(e,vr(t))},gr=function(e){return function(t){return function(r){var n=t(r),a=n[0],i=n[1];return[e(a),i]}}},hr=function(e){return function(t){return function(r){var n=t(r),a=n[0],i=n[1],s=e(i),o=s[0],c=s[1];return[a(o),c]}}},br=function(e){return function(t){return[e,t]}},vr=function(e){return function(t){return function(r){var n=t(r),a=n[0],i=n[1];return e(a)(i)}}},yr="State",wr={URI:yr,map:fr},_r={URI:yr,map:fr,ap:pr},kr=(0,_e.N)(_r),Sr=(0,_e.a1)(_r),Ir={URI:yr,map:fr,ap:pr,of:br},zr={URI:yr,map:fr,ap:pr,chain:mr},xr=(0,De.m)(zr),qr=(n.yR,(0,Ae.YO)(wr)),Gr=(0,De.a)(zr),Er=function(e){var t=function(e){return function(t){return function(r){for(var n=e(0,$e.YM(t))(r),a=[n[0]],i=n[1],s=1;s<t.length;s++){var o=e(s,t[s])(i),c=o[0],u=o[1];a.push(c),i=u}return[a,i]}}}(e);return function(e){return $e.Od(e)?t(e):br($e.Xl)}},Ur=function(e){return Er((function(t,r){return e(r)}))},Cr=Ur(n.yR);const Pr=e=>({aggregations:{PageviewEngagement:{engaged_time:0},SegmentEntry:new Set,SegmentExit:new Set,CohortEntry:new Set,CohortExit:new Set},customProperties:{},sessionId:e.sessionId,viewId:e.viewId}),Tr=e=>t=>{const r=new Set(t);return r.add(e),r},Or=e=>t=>{const r=new Set(t);return r.delete(e),r},Dr=e=>[...e];var Ar,Mr,jr=r(346);!function(e){e.init=function(e){return e&&"object"==typeof e&&"externalStateMap"in e&&"internalStateMap"in e?e:{externalStateMap:s.YP,internalStateMap:{},migrationVersion:gn}}}(Ar||(Ar={})),function(e){e.sequenceNonEmptyArray=e=>{if(1===e.length)return e[0];const t=(0,n.bc)([],{},[]);for(const r of e){t[0].push(...r[0]);for(const e in r[1])t[1][e]=r[1][e];t[2].push(...r[2])}return t},e.sequenceArray=t=>(0,n.zG)(t,s.DT(Bt.Od),s.UI(e.sequenceNonEmptyArray)),e.empty=[Bt.cS,Pe.cS,Bt.cS],e.ofOutputEvent=e=>[Bt.cS,Pe.cS,[e]]}(Mr||(Mr={}));const Br=e=>mn((t=>(0,n.zG)(Rr((e=>({...e,getCurrentSession:()=>t.environment.sessionId,getCurrentView:()=>t.environment.viewId}))),vr((()=>{return Cr([Fr(e),Qr(t.environment.thirdPartyData),(a=t.environment.lookalikeModels,(0,n.zG)((function(e){return[e,e]}),vr((e=>cn.equals(e.lal,a)?br(Bt.cS):(0,n.zG)(lr((0,m.rO)({lal:(0,n.a9)(a)})),kr(Rr(function(e){const t=(0,n.zG)(e,s.fS((()=>({}))));return e=>({...e,getLookalikeModels:()=>t})}(a))),vr((()=>(0,n.zG)(Bt.Yo(a),Ur((()=>Kr("updateLAL"))),gr(Bt.xH))))))))),(0,n.zG)(t.externalStateDelta,s.UI(Vr),s.fS((()=>br(Bt.bM())))),(r=t.cloudLiftedState,(0,n.zG)(r,Bt.tS((e=>Object.entries(e))),Ur((e=>{let[t,r]=e;return dr((e=>(0,n.bc)(t,e.queries.runtime.cloudLiftedQueries[t],r)))})),vr((e=>Jr(B.F2(e)))))),Wr(t.newEvents)]);var r,a})),gr((0,n.ls)(Bt.xH,s.DT(Bt.Od),s.tS(Mr.sequenceArray))),(e=>t=>{let[r,a]=e(t);if(s.pC(r)){let e=r.value,t=0;for(;e[2].length>t;)t=e[2].length,[e,a]=(0,n.zG)(a,(0,n.zG)(Wr(e[2]),gr((t=>Mr.sequenceNonEmptyArray([e,...t])))));r=s.G(e)}return(0,n.bc)(r,a)}),pn(e,"query_language_process_duration")))),Rr=e=>lr((0,m.rO)({effects:e}));function Fr(e){return(0,n.zG)((function(e){return[e,e]}),vr((t=>{let{bootstrapped:r,effects:a,eventsForReplay:i}=t;return r?br(Bt.cS):(0,n.zG)(lr((e=>({...e,bootstrapped:!0,eventsForReplay:[]}))),xr(Lr),vr((()=>(0,n.zG)(i,Bt.R3(fn(a)),Ur(Xr("bootstrap")),gr(Bt.xH)))),pn(e,"query_language_bootstrap_duration"))})))}const Lr=()=>lr((e=>(0,n.zG)(e.invalidatedQueries,Bt.EQ((()=>e),Nr(e))))),Nr=e=>t=>{const r=(0,n.zG)(t,Bt.UI((t=>(0,n.bc)(t,{checksum:e.queries.metadata[t]}))),(e=>Object.fromEntries(e)));return(0,n.zG)(e,(0,m.rO)({persistentState:(0,m.rO)({internalStateMap:e=>({...r,...e})})}))},Yr=(0,n.zG)(dr((e=>e.tpdQueries)),vr(s.EQ((()=>(0,n.zG)(dr((e=>new Set([...e.queries.runtime.queriesByEvent["!UpdateSecondPartyData"]||[],...e.queries.runtime.queriesByEvent["!UpdateThirdPartyData"]||[]]))),xr((e=>lr((0,m.rO)({tpdQueries:()=>s.G(e)})))))),br)));function Qr(e){const t=(0,n.zG)(e,s.UI(o.li));return(0,n.zG)((function(e){return[e,e]}),vr((r=>{if(s.Eh(H.Eq).equals(t,r.tpdHashInEffectsObject))return br(Bt.cS);const a=s.FS(t);return(0,n.zG)(lr((0,m.rO)({persistentState:(0,m.rO)({tpdHash:(0,n.a9)(a)}),tpdHashInEffectsObject:(0,n.a9)(t),tpdReady:(0,n.a9)(s.pC(e))})),gr((()=>(0,n.zG)(e,s.UI(o.Yg)))),xr((e=>Rr(function(e){const t=un((()=>(0,n.zG)(e,s.fS((()=>({"3p":{}}))))));return e=>{const r=un((()=>({...t(),...e.get1PSegments()})));return{...e,getSegments:r,getSegmentsArray:un((()=>dn(r()))),get3PSegments:t}}}(e)))),vr(s.fw(Ir)((()=>(0,n.zG)(r.tpdEventsToProcess,Bt.EQ((()=>a!==r.persistentState.tpdHash?Kr("updateTPD"):br(Bt.cS)),(0,n.ls)(Ur(Xr("updateTPD")),kr(lr((e=>({...e,tpdEventsToProcess:[]})))),gr(Bt.xH))))))),gr(s.fS((()=>Bt.bM()))))})))}const $r=e=>Pe.jt(((t,r)=>(0,n.zG)(Pe.P5(t,e.metadata),s.tS((e=>Pe.P5(e,r))),s.tS((r=>(0,n.zG)(Pe.P5(t,e.runtime.locallyLiftedQueries),s.wp((()=>Pe.P5(t,e.runtime.cloudLiftedQueries))),s.NG((e=>e.compact(r)))))),s.tS((0,n.ls)(W,s.Uo))))),Hr=(e,t)=>{if(Pe.xb(e))return t;if(Pe.xb(t))return e;const r={...e};for(const e in t)r[e]=(0,n.zG)(s.ij(r[e]),s.EQ((()=>t[e]),(r=>(0,n.zG)(s.Y3((()=>Ce(r,t[e]))),s.fS((()=>t[e]))))));return r};function Vr(e){return(0,n.zG)(dr((t=>(0,n.zG)(e,$r(t.queries),(e=>(0,n.zG)(t.persistentState.externalStateMap,s.UI(Pe.DZ((0,n.ls)(W,s.Uo))),s.EQ((()=>e),(t=>Hr(t,e))))),Pe.UI(K)))),vr((e=>lr((0,m.rO)({persistentState:(0,m.rO)({externalStateMap:(0,n.a9)(s.G(e))})})))),vr((()=>Kr("updateExternalState"))))}function Kr(e){return(0,n.zG)(dr((e=>fn(e.effects))),vr(Xr(e)))}function Wr(e){return(0,n.zG)(e,Bt.EQ((()=>br(Bt.bM())),(0,n.ls)(tn,vr(Ur((e=>{let[t,r]=e;return(0,n.zG)(r,Xr(t))}))),gr(Bt.xH))))}function Xr(e){return(0,n.ls)(br,xr((e=>"Pageview"!==e.name?br(void 0):lr((0,m.rO)({pageviewProperties:(0,n.a9)(e.properties)})))),"bootstrap"===e?n.yR:xr((e=>{return lr((0,m.rO)({unprocessedPageviewComplete:(t=e,e=>{switch(t.name){case"Pageview":return t.view_id!==e.viewId?e:{...e,customProperties:t.properties};case"SegmentEntry":{const r=t.properties.segment_number;return(0,n.zG)(e,(0,m.rO)({aggregations:e=>e.SegmentExit.has(r)?(0,n.zG)(e,(0,m.rO)({CohortExit:Or(String(r)),SegmentExit:Or(r)})):(0,n.zG)(e,(0,m.rO)({CohortEntry:Tr(String(r)),SegmentEntry:Tr(r)}))}))}case"SegmentExit":{const r=t.properties.segment_number;return(0,n.zG)(e,(0,m.rO)({aggregations:e=>e.SegmentEntry.has(r)?(0,n.zG)(e,(0,m.rO)({CohortEntry:Or(String(r)),SegmentEntry:Or(r)})):(0,n.zG)(e,(0,m.rO)({CohortExit:Tr(String(r)),SegmentExit:Tr(r)}))}))}case"PageviewEngagement":{if(t.view_id!==e.viewId)return e;const r=t.properties;return(0,n.zG)(e,(0,m.rO)({aggregations:(0,m.rO)({PageviewEngagement:()=>({engaged_time:r.total_engaged_time,completion:r.total_completion})})}))}default:return e}})}));var t})),xr((e=>{return an(e)?Rr((t=e.properties.segment_number,r="SegmentEntry"===e.name,e=>{return(0,n.zG)(e,(a={"1p":{...e.get1PSegments()["1p"],[t]:r}},e=>{const t=un((()=>({...a,...e.get3PSegments()})));return{...e,getSegments:t,getSegmentsArray:un((()=>dn(t()))),get1PSegments:()=>a}}));var a})):br(void 0);var t,r})),qr("event"),Gr("queriesToProcess",(t=>{let{event:r}=t;return function(e,t){return(0,n.zG)((function(e){return[e,e]}),qr("state"),Gr("tpdQueriesToReject",(e=>{let{state:{tpdReady:t}}=e;return t?br(s.bM()):(0,n.zG)(Yr,gr(s.DT((e=>e.size>0))))})),vr((r=>{let{state:a,tpdQueriesToReject:i}=r;const o=(0,n.zG)(i,s.UI((e=>Bt.hX((t=>!e.has(t))))),s.fS((()=>e=>e)));switch(e){case"bootstrap":return br((0,n.zG)(a.queriesForReplay,o));case"event":const e=a.tpdReady?br(void 0):lr((0,m.rO)({tpdEventsToProcess:Bt.R3(t)}));return(0,n.zG)(br(a.locallyLiftedQueriesByEvent[t.name]||[]),gr(o),kr(e));case"lookalikeTransition":return br(a.locallyLiftedQueriesByEvent[t.name]||[]);case"transition":const r=a.locallyLiftedQueriesByEvent[t.name]||[];if(s.pC(a.lal)){const e=a.locallyLiftedQueriesByEvent["!UpdateLookalikeModels"]||[];return br(r.concat(e))}return br(r);case"updateExternalState":return br((0,n.zG)(a.persistentState.externalStateMap,s.fS((()=>({}))),Pe.XP));case"updateLAL":return br(a.locallyLiftedQueriesByEvent["!UpdateLookalikeModels"]||[]);case"updateTPD":return br([...a.locallyLiftedQueriesByEvent["!UpdateSecondPartyData"]||[],...a.locallyLiftedQueriesByEvent["!UpdateThirdPartyData"]||[]]);default:return br([])}})))}(e,r)})),vr((t=>{let{event:r,queriesToProcess:a}=t;return(0,n.zG)(a,Bt.EQ((()=>br(Bt.bM())),(t=>(0,n.zG)(dr((t=>"bootstrap"!==e?t.effects:{...t.effects,getCurrentTime:()=>r.time,getCurrentView:()=>r.view_id,getCurrentSession:()=>r.session_id})),vr((e=>(0,n.zG)(dr((e=>(0,n.zG)(t,Bt.DZ((t=>(0,n.zG)(Pe.P5(t,e.queries.runtime.locallyLiftedQueries),s.wp((()=>Pe.P5(t,e.cloudLiftQueriesForReplay))),s.UI((e=>(0,n.bc)(t,e))))))))),vr((t=>Jr(B.t$((0,n.bc)(t,r)),e))))))))))})))}const Jr=(e,t)=>(0,n.zG)(e,B.EQ((e=>{let[r,a]=e;return(0,n.zG)(r,Ur((e=>{let[r,n]=e;return Zr(r,B.t$([n,a]),t)})))}),Ur((e=>{let[t,r,n]=e;return Zr(t,B.F2([r,n]))}))),gr(Mr.sequenceArray),xr(s.fw(Ir)((e=>{let[,t]=e;return lr((0,m.rO)({persistentState:(0,m.rO)({internalStateMap:e=>({...e,...t})})}))}))),gr(Bt.Yo)),Zr=(e,t,r)=>(0,n.zG)(dr(B.it((a=>{var i,c,u;const l=r??a.effects,d=(0,n.zG)(t,B.EQ(o.li,o.li)),[f,p]=(0,n.zG)(t,B.aD((e=>{let[t,r]=e;return(0,n.bc)(t.lift(r,l),on({null:null,encode:n.yR,decode:B.of,append:t.append}))}),(e=>{let[,t]=e;return(0,n.bc)(t,on(sn()))}))),m=(0,n.zG)(a.persistentState.externalStateMap,s.tS(Pe.P5(e))),g=a.persistentState.internalStateMap[e]||{checksum:a.queries.metadata[e]},h=p(e,l,d,g,m,f),b=Boolean(null===(i=h.result)||void 0===i?void 0:i.result)!==Boolean(null===(c=a.persistentState.internalStateMap[e])||void 0===c||null===(u=c.result)||void 0===u?void 0:u.result),v=(0,n.zG)(Bt.lo(b),Bt.UI((()=>{var t;return{name:null!==(t=h.result)&&void 0!==t&&t.result?"SegmentEntry":"SegmentExit",time:l.getCurrentTime(),view_id:l.getCurrentView(),session_id:l.getCurrentSession(),properties:{...a.pageviewProperties,segment_number:Number(e)}}})));return(0,n.bc)(h,v)}),(t=>`Failed to interpret query ${e}. Got ${t}`))),vr(B.EQ((e=>br([[e],Pe.cS,Bt.cS])),(t=>{let[r,a]=t;return(0,n.zG)(r.dropExternalState?en(e):br(void 0),gr((()=>[Bt.cS,{[e]:r},a])))})))),en=e=>lr((0,m.rO)({persistentState:(0,m.rO)({externalStateMap:s.UI(Pe.EG(e))})}));function tn(e){const t=e=>t=>(0,n.bc)(e,t);return dr((r=>(0,n.zG)(e,Bt.pO(ur.aL(((e,t)=>{const r=an(e);return(0,n.zG)(t,Bt.zT((e=>an(e)===r)),(e=>{let{init:t,rest:r}=e;return(0,n.bc)(t,r)}),(0,o.pL)(((e,t)=>r=>(0,n.bc)(e,(0,n.zG)(r,Bt.Ce(t))))(r,e)))}))),Bt.tS((e=>{let[a,i]=e;if(!a)return(0,n.zG)(i,Bt.UI(t("event")));const s=(0,n.zG)(i,Bt.yW((e=>r.lookalikeTransitionSegmentNumbers.has(e.properties.segment_number))),(e=>e?"lookalikeTransition":"transition"));return(0,n.zG)(i,ur.ut(((e,r)=>(0,n.zG)(e,Bt.UI(t("event")),Bt.R3((0,n.zG)(r,t(s)))))))})))))}const rn=(0,n.ls)(Pe.hX((e=>{var t;return Boolean(null===(t=e.result)||void 0===t?void 0:t.result)})),Pe.XP,Bt.UI(parseInt)),nn=(0,n.ls)(Vt((e=>e.activations??{})),ir((0,n.zG)(Boolean,(0,Te.xD)((0,Te.ff)($t)))));function an(e){var t;return("SegmentEntry"===e.name||"SegmentExit"===e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}const sn=()=>({null:{kind:"null",value:null},encode:K,decode:W,append:Ue}),on=e=>(t,r,a,i,o,c)=>{const u={...i.activations},l={...r,setSegmentActivation:(e,r,n)=>{if(n!=t)throw new Error(`QL called setSegmentActivation for query ${n} while interpreting query ${t}`);e in u?u[e].includes(r)||(u[e]=[...u[e],r]):u[e]=[r]}},d=s.ij(i.state),f=s.ij(c),p=(0,n.zG)((0,_e.gz)(s.G5)(d,f),s.UI((t=>{let[r,a]=t;const i=(0,n.zG)(e.decode(r),B.fS((()=>e.null))),s=(0,n.zG)(e.decode(a),B.fS((()=>e.null)));try{return B.F2(e.append(i,s))}catch(e){throw(0,cr.w)(`Failed to append lifted event ${JSON.stringify(a)} to internal state ${JSON.stringify(r)}. Got ${e}`)}})),s.Gk((()=>(0,n.zG)(d,s.wp((()=>f)),s.UI(B.t$))))),g=(0,n.zG)(p,s.UI(B.EQ(n.yR,e.encode)),s.tS(s.ij)),{overallState:h,dropExternalState:b}=(0,n.zG)((0,_e.gz)(s.G5)(p,o),s.UI((t=>{let[r,a]=t;return(0,n.zG)(s.Uo(e.decode(a)),s.tS((t=>(0,n.zG)(r,B.vx(e.decode),B.fS((()=>e.null)),s.it((r=>e.append(r,t)))))),s.EQ((()=>({overallState:g,dropExternalState:!0})),(t=>({overallState:s.ij(e.encode(t)),dropExternalState:!1}))))})),s.fS((()=>(0,n.zG)(g,s.Gk((()=>o)),(e=>({overallState:e,dropExternalState:!1}))))),(0,m.rO)({overallState:s.WG})),v=a.interpret(h,l);return{checksum:i.checksum,...(0,n.zG)(g,s.aD((()=>({})),(e=>({state:e})))),...!1===v.result?{}:{result:v},...$t(u)?{}:{activations:u},...!1===b?{}:{dropExternalState:b}}},cn=s.Eh({equals:(e,t)=>e===t});function un(e){let t,r=!1;return()=>(r||(t=e(),r=!0),t)}function ln(e){const t=un((()=>(0,n.zG)(e,Pe.hX((e=>{var t;return Boolean(null===(t=e.result)||void 0===t?void 0:t.result)})),Pe.UI((()=>!0)),(e=>({"1p":e}))))),r={"3p":{}},a=un((()=>({...t(),...r})));return{getSegments:a,getSegmentsArray:un((()=>dn(a()))),get1PSegments:t,get3PSegments:()=>r}}function dn(e){return Object.keys(e).reduce(((t,r)=>{const n=Object.keys(e[r]),a=[];return n.forEach((t=>{!0===e[r][t]&&a.push(t)})),t[r]=a,t}),{})}const fn=e=>({name:"",properties:{},session_id:e.getCurrentSession(),view_id:e.getCurrentView(),time:e.getCurrentTime()}),pn=(e,t)=>r=>n=>{const a=e.startSpan(t),i=r(n);return a.finish(),i},mn=e=>t=>(0,n.zG)(lr((0,m.rO)({unprocessedPageviewComplete:(0,n.ls)(s.DT((e=>e.viewId===t.environment.viewId)),s.fS((()=>Pr(t.environment))))})),Sr(dr((e=>(0,n.zG)(s.ij(e.persistentState.unprocessedPVC),s.hX((e=>e.view_id!==t.environment.viewId)),s.UI(jr.k))))),qr("flushedPvc"),Gr("processingResult",(r=>{let{flushedPvc:a}=r;return e({...t,newEvents:(0,n.zG)(a,s.EQ((()=>t.newEvents),(e=>[...t.newEvents,e])))})})),xr((()=>lr((e=>{return{...e,persistentState:{...e.persistentState,unprocessedPVC:(0,jr.X)((t=new Date,r=e.unprocessedPageviewComplete,{name:"PageviewComplete",time:t,session_id:r.sessionId,view_id:r.viewId,properties:{...r.customProperties,aggregations:(0,n.zG)(r.aggregations,(0,m.rO)({SegmentEntry:Dr,SegmentExit:Dr,CohortEntry:Dr,CohortExit:Dr}))}}))}};var t,r})))),gr((e=>{let{flushedPvc:t,processingResult:r}=e;const a=(0,n.zG)(t,s.UI(Mr.ofOutputEvent));return(0,n.zG)((0,_e.gz)(s.G5)(a,r),s.UI(Mr.sequenceNonEmptyArray),s.wp((()=>a)),s.wp((()=>r)))}))),gn=2,hn=e=>t=>{const r=t.migrationVersion??(t.stateIsCompact?1:0);return(0,n.zG)([bn,vn],Bt.md(r),Bt.EQ((()=>t),(0,n.ls)(Bt.OV(e),Bt.u4(t,((e,t)=>t(e))),(0,m.rO)({migrationVersion:()=>gn}))))},bn=e=>(0,m.rO)({externalStateMap:s.UI(Pe.jt(((t,r)=>(0,n.zG)(Pe.P5(t,e.locallyLiftedQueries),s.wp((()=>Pe.P5(t,e.cloudLiftedQueries))),s.NG((e=>e.compact(r))))))),internalStateMap:Pe.Su(((t,r)=>{if(null==(null==r?void 0:r.state))return r;const n=e.locallyLiftedQueries[t]||e.cloudLiftedQueries[t];return{...r,state:n.compact(r.state)}}))}),vn=e=>{const t=new Set(e.queriesByEvent.PageviewEngagement??[]),r=new Set(e.queriesByEvent.PageviewComplete??[]);return(0,m.rO)({internalStateMap:Pe.z7((0,Te.ff)((e=>t.has(e)&&r.has(e))))})},yn=(e,t)=>Pe.xb(t)?e:(0,n.zG)(e,Pe.z7((e=>!(e in t))));var wn=r(936),_n=r(985);const kn=()=>e=>((0,n.zG)(e,i.UI((e=>e()))),i.a9({newResults:f.of(Bt.cS),pendingEvents:Bt.cS})),Sn=()=>()=>Oe.of((()=>({}))),In=e=>[e,lt.of(e)],zn=o.li,xn=o.Yg,qn=e=>t=>(0,n.zG)(xn(t),(t=>()=>new Promise((r=>{const n=t();n.then(s.G).then(r);const a=(0,p.HJ)((()=>r(s.YP)),e);n.then(a)})))),Gn="RefEventual",En=i.UI(In),Un=e=>i.a9(In(e)),Cn=e=>t=>i.vP((0,n.zG)(t,i.UI(zn),i.UI(e)),(0,n.zG)(t,i.UI(xn),i.UI(lt.UI(e)))),Pn=e=>t=>i.vP((0,n.zG)(i.vP((0,n.zG)(e,i.UI(zn)),(0,n.zG)(t,i.UI(zn))),i.UI((e=>{let[t,r]=e;return r(t)}))),(0,n.zG)(i.vP((0,n.zG)(e,i.UI(xn)),(0,n.zG)(t,i.UI(xn))),i.UI((e=>{let[t,r]=e;return lt.ap(t)(r)})))),Tn=e=>t=>(0,n.zG)(t.current,qn(e),lt.UI(s.fS((()=>(e=>zn(e.current))(t))))),On=i.UI(zn),Dn=i.UI(xn),An={URI:Gn,map:(e,t)=>Cn(t)(e)},Mn={URI:Gn,map:An.map,ap:(e,t)=>Pn(t)(e)},jn=e=>a.dQ((t=>{let{previousState:r}=t;const[a,c]=(0,n.zG)(e.newEvents,i.En(2,Bt.uZ()),(0,wn.H5)(kn(e.permutiveApi,e.permutiveUrls,(u=e.customQueries.runtime,(0,n.zG)(Object.entries(u.queriesByEvent),Bt.hX((e=>{let[,t]=e;return(0,n.zG)(t,Bt.G((e=>e in u.cloudLiftedQueries)))})),Bt.UI(o.li))))));var u;const l=i.vP({lookalikeModels:e.lookalikeModels,sessionId:e.sessionId,thirdPartyData:(0,n.zG)(e.thirdPartyData,i.UI(s.UI((0,wn.H5)(Pe.UI((e=>{const t={};return e.forEach((e=>t[e]=!0)),t})))))),viewId:e.viewId}),d=(0,n.zG)(i.vP({cloudLiftedState:(0,n.zG)(c,i.UI((e=>e.newResults))),environment:l,externalStateDelta:e.externalStateDelta,newEvents:(0,n.zG)(a,(0,_n.I)(e.metrics,"query_language_began_processing_pageview"))}),i.UI((0,m.rO)({environment:e=>f.of(e)})),i.UI((0,_e.Yt)(f.G5))),p=Ar.init(r);const g=(0,n.zG)(r?lt.of({processedState:p,stateMigratedThisInitialisation:!1}):(e.metrics.track({name:"sdk_query_state_migrated_workerisation_count_total",labels:{},value:1}),(0,n.zG)(e.migratedStateMaps,lt.UI((e=>{let{internal:t,external:r}=e;return{stateMigratedThisInitialisation:!0,processedState:{externalStateMap:r,internalStateMap:(0,n.zG)(t,s.fS((()=>({}))))}}})))),lt.Hr("environment",(()=>l.current)),lt.ak("process",(t=>{let{environment:r,processedState:a}=t;return(0,n.zG)((i={downloadCloudLiftQueries:Sn(e.permutiveApi,e.permutiveUrls),environment:r,initialState:a,pastEvents:e.priorEvents,queries:e.customQueries},(0,n.zG)(lt.Do,lt.Hr("persistentState",(()=>(0,n.zG)(i.initialState,(0,m.rO)({internalStateMap:Pe.z7(((e,t)=>t.checksum===i.queries.metadata[e]))}),hn(i.queries.runtime)))),lt.Hr("invalidatedLocalQueries",(e=>{let{persistentState:{internalStateMap:t}}=e;return yn(i.queries.runtime.locallyLiftedQueries,t)})),lt.Hr("invalidatedCloudLiftQueries",(e=>{let{persistentState:{internalStateMap:t}}=e;return yn(i.queries.runtime.cloudLiftedQueries,t)})),lt.Hr("hasInvalidatedQueries",(e=>{let{invalidatedCloudLiftQueries:t,invalidatedLocalQueries:r}=e;return!(Pe.xb(t)&&Pe.xb(r))})),lt.ak("eventsForReplay",(e=>{let{hasInvalidatedQueries:t}=e;return t?i.pastEvents:lt.of(Bt.bM())})),lt.ak("cloudLiftQueriesForReplay",(0,n.ls)(s.DT((e=>e.eventsForReplay.length>0)),s.UI((e=>Object.keys(e.invalidatedCloudLiftQueries))),s.hX(Bt.Od),s.UI((0,n.ls)(i.downloadCloudLiftQueries,Oe.OV(i.queries.runtime),lt.UI(B.fS((()=>({})))))),s.fS((()=>lt.of({}))))),lt.Hr("queriesForReplay",(e=>{let{cloudLiftQueriesForReplay:t,invalidatedLocalQueries:r}=e;return[...Object.keys(r),...Object.keys(t)]})),lt.UI((e=>{let{cloudLiftQueriesForReplay:t,eventsForReplay:r,invalidatedCloudLiftQueries:a,invalidatedLocalQueries:o,queriesForReplay:c,persistentState:u}=e;return{bootstrapped:!1,cloudLiftQueriesForReplay:t,effects:{getCurrentTime:()=>new Date,getCurrentSession:()=>i.environment.sessionId,getCurrentView:()=>i.environment.viewId,getLookalikeModels:()=>({}),setSegmentActivation:(e,t,r)=>{throw new Error(`setSegmentActivation() called for segment ${r} without being overridden first.`)},...ln(u.internalStateMap)},eventsForReplay:r,invalidatedQueries:[...Object.keys(a),...Object.keys(o)],lal:s.YP,locallyLiftedQueriesByEvent:(0,n.zG)(i.queries.runtime.queriesByEvent,Pe.DZ(s.KQ(Bt.hX((e=>e in i.queries.runtime.locallyLiftedQueries))))),lookalikeTransitionSegmentNumbers:(0,n.zG)(i.queries.runtime.queriesByEvent["!UpdateLookalikeModels"]||Bt.cS,Bt.UI(parseInt),(e=>new Set(e))),pageviewProperties:{},numEventsForReplay:r.length,queries:i.queries,queriesForReplay:c,persistentState:u,tpdEventsToProcess:Bt.cS,tpdHashInEffectsObject:s.YP,tpdQueries:s.YP,tpdReady:!1,unprocessedPageviewComplete:Pr({sessionId:i.environment.sessionId,viewId:i.environment.viewId})}})))),e.trace.traceTask("query_language_initialisation_duration"),lt.UI((0,m.bw)((t=>{var r;e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"query_language_ready",time_origin:"sdk_init"},performance.now()),e.metrics.trackCounter({name:"sdk_queries_to_replay_count",value:(r=t,0===r.numEventsForReplay?0:r.queriesForReplay.length),labels:{}})}))),lt.UI((t=>{let r=t;const a=(0,n.zG)(e.validationService,s.OV(t.persistentState.externalStateMap));return t=>{const[i,o]=(0,n.zG)(t,Br(e.trace))(r);return(0,n.zG)(a,s.OV((0,n.bc)(t,o))),r=o,[i,o.persistentState]}})));var i})),i.fF),h=(0,n.zG)(g,i.UI(s.UI((e=>e.process)))),b=(0,n.zG)(g,i.UI(s.EQ((()=>!1),(e=>e.stateMigratedThisInitialisation))));let v=Bt.bM();const y=(0,n.zG)(i.vP({processInput:h,inputIO:(0,n.zG)(d,i.UI(s.G))}),i.UI((0,_e.Yt)(s.G5)),i.UI(s.UI((e=>{let{processInput:t,inputIO:r}=e;const a=r(),[i,c]=(0,n.zG)(a,(0,m.rO)({newEvents:Bt.UI(o.Yg),cloudLiftedState:Bt.UI((e=>e.state))}),(e=>t({...e}))),u=(0,n.zG)(i,s.EQ((()=>({errors:[],events:a.newEvents,internalStateDiff:s.YP})),(e=>{let[t,r,n]=e;return{errors:t,events:a.newEvents.concat(n.map((e=>[(0,m.k$)(),e]))),internalStateDiff:s.G(r)}})));return v=(0,n.zG)(v,Bt.R3(u)),{consumeDeltas:()=>{const e=v;return v=Bt.cS,e},modelState:c}})))),w=(0,n.zG)(y,i.UI(s.UI((e=>e.modelState)))),_=(0,n.zG)(y,i.UI(s.UI((e=>e.consumeDeltas))),i.UI(s.fS((()=>f.of(Bt.bM()))))),k=(0,n.zG)(i.vP(w,c),i.Rp(((e,t)=>{let[r,a]=t;const i=(0,n.zG)(e,s.UI((e=>{let[,t]=e;return(0,n.zG)(r,s.EQ((()=>t),(e=>(0,n.zG)(t,Bt.hX((t=>!t(e,a.pendingEvents)))))))})),s.fS((()=>Bt.bM())));if(s.pC(r)&&Bt.xb(a.pendingEvents))return[In(r.value),i];const o=(0,m.b2)(),c=(0,n.zG)(r,s.fS((()=>p)));var u;return[(0,n.zG)((()=>o.promise),(u=c,e=>[u,e])),(0,n.zG)(i,Bt.R3(((e,t)=>{const r=Bt.xb(t)||(0,n.zG)(a.pendingEvents,Bt.yW((e=>!t.includes(e))));return r&&o.resolve(e),r})))]})),i.UI(o.li)),S=(0,n.zG)(_,i.En(3,Bt.uZ()),(t=>{let[r,a,o]=t;return{errors:(0,n.zG)(r,i.UI(f.UI(Bt.tS((e=>e.errors))))),events:(0,n.zG)(a,i.UI(f.UI(Bt.tS((e=>e.events)))),(0,_n.F)(e.metrics,"query_language_processed_pageview")),internalStateDiff:(0,n.zG)(o,i.UI(f.UI((0,n.ls)(Bt.DZ((e=>e.internalStateDiff)),s.DT(Bt.Od),s.UI((e=>e.reduce(((e,t)=>({...e,...t})))))))))}})),I=(0,n.zG)(k,Cn((e=>e.internalStateMap))),z=On(I);return{state:On(k),value:{...S,stateMigratedThisInitialisation:b,internalStateMap:z,processing:(0,n.zG)(i.vP(y,c),i.UI((e=>{let[t,r]=e;return s.Wi(t)||Bt.Od(r.pendingEvents)}))),segments:(0,n.zG)(I,Cn(Bn)),tpdUsage:(0,n.zG)(i.vP(e.thirdPartyData,z),i.UI((e=>{let[t,r]=e;return(0,n.zG)(t,s.UI((()=>nn(r))))}))),unprocessedPageviewComplete:(0,n.zG)(w,i.UI(s.NG((e=>e.unprocessedPVC))),i.UI(s.UI(jr.k)))}}})),Bn=e=>(0,n.zG)(rn(e),(e=>(0,n.zG)(e,Bt.uK((e=>e<1e7)),(t=>{let{left:r,right:n}=t;return{all:e,custom:n,standard:r}}))));var Rn=r(890);const Fn=e=>In(B.F2(e)),Ln="RefEventualEither",Nn=e=>i.a9(Fn(e)),Yn=Ae.UI(An,B.dO),Qn=_e.ap(Mn,B.G5),$n=e=>(e=>t=>{const r=t();return(0,n.zG)(i.fF((()=>r)),i.UI(s.fS((()=>e))),i.UI((e=>(0,n.bc)(e,(()=>r)))))})(B.F2(e)),Hn=e=>Cn(B.F2)(e),Vn=e=>Cn(B.fS(e)),Kn={URI:Ln,map:(e,t)=>Yn(t)(e)},Wn={URI:Ln,map:Kn.map,ap:(e,t)=>Qn(t)(e)},Xn=e=>On(e.all),Jn=(e,t)=>r=>({all:(0,n.zG)(r,Yn(e)),byAdServer:(0,m.mQ)((0,n.ls)(t,s.UI((e=>(0,n.zG)(r,Yn(e))))))}),Zn=(e,t)=>(0,n.ls)(Cn(B.F2),Jn(e,t)),ea=e=>(0,n.zG)(e,Cn(B.F2),Jn(n.yR,(e=>s.G(e.filterCohorts)))),ta=e=>({all:(0,n.zG)(e.all,Vn((()=>Bt.bM()))),byAdServer:(0,m.mQ)((0,n.ls)(e.byAdServer,s.UI(Vn((()=>Bt.bM())))))}),ra=e=>(0,n.zG)(e,ta,Xn),na=new Set(["AdRequest","PageviewEngagement","PrebidAuctions","Reaction","SegmentEntry","SegmentExit","SlotRendered","ThirdPartySegments","VideoEngagement"]),aa=function(){return(0,n.bc)(...arguments)};var ia=r(199);new Map;var sa=function(e,t){for(var r,n=new Map,a=e.entries();!(r=a.next()).done;){var i=r.value,s=i[0],o=i[1];n.set(s,t(s,o))}return n};var oa=function(e,t){return sa(e,(function(e,r){return t(r)}))};const ca=e=>{let{queries:t,...r}=e;const[a,c]=i.Ue("pending");let u=s.G([]);const l=e=>{const t=Math.ceil(Math.random()*e.length);return(0,n.zG)(e,j.ke(t))};(0,n.zG)((()=>new Promise((e=>setTimeout(e,r.processingDelayMs)))),lt.UI((()=>performance.now())),lt.UI((e=>(0,n.zG)(u,s.UI(l),s.hX(j.Od),s.UI(M.ur(ia.n_({events:Bt.jG(),externalStateDeltas:Bt.jG(),lookalikeModels:ia.Z$(),modelState:ia.Z$(),thirdPartyData:ia.Z$()}))),(0,m.bw)((()=>{u=s.YP})),s.Hr("startTime",(()=>e))))),lt.UI((0,m.bw)(s.EQ((()=>c("skipped")),(()=>c("in_progress"))))),Dt("historicalEvents",(()=>mt(r.historicalEvents))),Dt("expectedSegmentMemberships",Pt((e=>fa({events:{historical:e.historicalEvents,new:e.events},externalState:{historical:r.externalState,deltas:e.externalStateDeltas},lookalikeModels:e.lookalikeModels,queries:t,thirdPartyData:e.thirdPartyData})))),Ot("report",(e=>{let{expectedSegmentMemberships:r,modelState:a}=e;return function(e){const t=new Set(e.expectedSegmentMemberships);return(0,n.zG)(function(e){const t=(0,n.zG)(Object.keys(e.runtime.queriesByEvent),Bt.Su(((e,t)=>[t,2**e]))),r={},a=Object.fromEntries(t);for(const t in e.runtime.queriesByEvent){const n=e.runtime.queriesByEvent[t];for(const e of n)r[e]?r[e]+=a[t]:r[e]=a[t]}const i={};for(const e in r){const t=r[e];i[t]?i[t].push(e):i[t]=[e]}return(0,n.zG)(Object.entries(i),Bt.UI((0,n.ls)((0,o.pL)((e=>Number(e))),(0,o.pL)((e=>(0,n.zG)(t,Bt.DZ((0,n.ls)(s.DT((t=>{let[,r]=t;return(e&r)>0})),s.UI(o.li)))))))),(e=>new Map(e)))}(e.queries),function(e){return function(t){return oa(t,e)}}((r=>({actualSegments:(0,n.zG)(r,Bt.hX((t=>{var r,n;return Boolean(null===(r=e.modelState.persistentState.internalStateMap[t])||void 0===r||null===(n=r.result)||void 0===n?void 0:n.result)}))),expectedSegments:(0,n.zG)(r,Bt.hX((e=>t.has(e))))}))))}({expectedSegmentMemberships:r,modelState:a,queries:t})})),Ut((e=>{let{startTime:t}=e;return()=>r.metrics.track({name:"sdk_segmentation_validation_duration_seconds",value:(performance.now()-t)/1e3,labels:{}})})),vt((e=>e.report)),vt(la(r.metrics)),vt((()=>c("finished"))))();return[a,e=>{let[t,r]=e;(0,n.zG)((0,_e.gz)(s.g1)(u,t.environment.lookalikeModels,(0,n.zG)(t.environment.thirdPartyData,s.UI(o.Yg))),s.UI((e=>{let[n,a,i]=e;n.push({externalStateDeltas:Bt.Yo(t.externalStateDelta),lookalikeModels:a,events:t.newEvents,modelState:r,thirdPartyData:i})})))}]};const ua=new Set(["SegmentEntry","SegmentExit","PageviewEngagement","PageviewComplete","Pageview","LinkClick","SlotViewable","SlotRendered","UpdateLookalikeModels","UpdateSecondPartyData","UpdateThirdPartyData"]),la=e=>t=>{for(const[r,{expectedSegments:a,actualSegments:i}]of t){if(0===a.length&&0===i.length)continue;const{correct:t,incorrect:s,missing:o}=da(a,i),c=(0,n.zG)(r,Bt.UI((e=>e.startsWith("!")?e.slice(1):e)),Bt.UI((e=>ua.has(e)?e:"misc")),(e=>[...new Set(e)]),Bt.UI((e=>(0,n.bc)(`trigger_${e}`,!0))),Bt.R3((0,n.bc)("is_cloud_lifted",!1)),(e=>Object.fromEntries(e))),u=(t,r)=>r.length>0&&e.trackCounter({name:t,value:r.length,labels:c});u("sdk_segmentation_validation_correct_count_total",t),u("sdk_segmentation_validation_incorrect_count_total",s),u("sdk_segmentation_validation_missing_count_total",o)}},da=(e,t)=>{if(0===t.length)return{correct:[],incorrect:[],missing:e};if(0===e.length)return{correct:[],incorrect:t,missing:[]};const r=new Set(t),a=new Set(e),{right:i,left:s}=(0,n.zG)(t,Bt.uK((e=>a.has(e))));return{correct:i,incorrect:s,missing:(0,n.zG)(e,Bt.hX((e=>!r.has(e))))}};const fa=e=>ga(50,(function*(){const t=(0,n.zG)(e.queries.runtime.queriesByEvent,Pe.DZ((0,n.ls)(s.ij,s.UI(Bt.DZ((0,n.ls)(s.DT((t=>t in e.queries.runtime.locallyLiftedQueries)),s.UI((t=>(0,n.bc)(t,e.queries.runtime.locallyLiftedQueries[t]))))))))),r=(0,n.zG)(e.externalState.historical,s.fS((()=>({}))),Pe.DZ(s.Dj(W)),(t=>(0,n.zG)(e.externalState.deltas,Bt.UI($r(e.queries)),Bt.u4(t,Hr))),Pe.UI(K)),a={},i=new ma(e.lookalikeModels,e.thirdPartyData),o=e=>(i.processEvent(e),(0,n.zG)(t[e.name]??[],Bt.DZ((t=>{let[r,o]=t;return(0,n.zG)(s.ij(o.lift(e,i.effects)),s.fX((e=>a[r]?(0,n.zG)(e,pa(o,a[r])):B.F2(e))),s.UI((e=>(a[r]=e,r))))})))),c=t=>(0,n.zG)((t=>(0,n.zG)(a[t]??null,(a=>t in r?(0,n.zG)(r[t],pa(e.queries.runtime.locallyLiftedQueries[t],a),B.fS((()=>a))):a),(r=>e.queries.runtime.locallyLiftedQueries[t].interpret(r,i.effects)),(e=>e.result)))(t),s.DT((e=>e!==i.getSegmentResult(t))),s.UI((e=>({name:e?"SegmentEntry":"SegmentExit",properties:{segment_number:Number(t)},time:i.effects.getCurrentTime(),session_id:i.effects.getCurrentSession(),view_id:i.effects.getCurrentView()})))),u=e=>{if(0==e.length)return;const t=(0,n.zG)(e,Bt.tS((0,n.ls)(c,s.UI(o),s.fS((()=>Bt.bM())))));u(t)};for(const t of e.events.historical)yield,o(t);(0,n.zG)(Object.keys(e.queries.runtime.locallyLiftedQueries),u);for(const t of e.events.new)switch(yield,t.name){case"SegmentEntry":case"SegmentExit":case"PageviewComplete":break;default:o(t)}return(0,n.zG)(Object.keys(e.queries.runtime.locallyLiftedQueries),u),i.effects.getSegmentsArray()["1p"]})),pa=(e,t)=>r=>B.Y3((()=>e.append(t,r)),(e=>`Failed to append lifted state: ${e}`));class ma{segments;segmentsArray=void 0;lastEvent=s.YP;effects;constructor(e,t){const r=(0,n.zG)(t,Pe.UI(Pe.hX((e=>!0===e))));this.segments={...r,"1p":{}};const a=(0,n.zG)(this.segments,Pe.UI(Object.keys));this.effects={get1PSegments:()=>({"1p":this.segments["1p"]}),get3PSegments:()=>r,getLookalikeModels:()=>e,getSegments:()=>this.segments,getSegmentsArray:()=>(this.segmentsArray||(this.segmentsArray={...a,"1p":Object.keys(this.segments["1p"])}),this.segmentsArray),setSegmentActivation:()=>{},getCurrentTime:()=>(0,n.zG)(this.lastEvent,s.EQ((()=>new Date),(e=>e.time))),getCurrentSession:()=>(0,n.zG)(this.lastEvent,s.EQ((()=>""),(e=>e.session_id))),getCurrentView:()=>(0,n.zG)(this.lastEvent,s.EQ((()=>""),(e=>e.view_id)))}}get1pSegments(){return this.effects.getSegmentsArray()["1p"]}getSegmentResult(e){return this.segments["1p"][e]??!1}processEvent(e){if("SegmentEntry"===e.name){const t=e.properties.segment_number;t&&this.processSegmentEntry([t])}else if("SegmentExit"===e.name){const t=e.properties.segment_number;t&&this.processSegmentExit([t])}else if("PageviewComplete"===e.name){const t=e.properties.aggregations;(null==t?void 0:t.SegmentEntry)&&this.processSegmentEntry(t.SegmentEntry),(null==t?void 0:t.SegmentExit)&&this.processSegmentExit(t.SegmentExit)}this.lastEvent=s.G(e)}processSegmentEntry(e){for(const t of e)t in this.segments["1p"]||(this.segments["1p"][t]=!0,this.segmentsArray=void 0)}processSegmentExit(e){for(const t of e)t in this.segments["1p"]&&(delete this.segments["1p"][t],this.segmentsArray=void 0)}}const ga=(e,t)=>async()=>{let r=performance.now();const n=t();for(;;){performance.now()-r>e&&(await new Promise((e=>setTimeout(e))),r=performance.now());const t=n.next();if(t.done)return t.value}},ha=e=>a.dQ((e=>{let{previousState:t}=e;return{value:s.YP,state:i.a9(t)}})),ba=e=>a.dQ((t=>{let{previousState:r}=t;const a=(0,n.zG)(r,s.DT(m.El),s.xH,s.hX(O.HD)),o=(0,n.zG)(a,s.EQ((()=>!1),(t=>t===e.sessionId)));if(!e.metrics.isEnabled()||Math.random()>.1||o)return{value:s.YP,state:i.a9(r)};const[c,u]=i.Ue(i.a9("pending"));return{value:s.G((t=>{const[r,n]=ca({externalState:t,historicalEvents:e.priorEvents,metrics:e.metrics,processingDelayMs:6e4,queries:e.customQueries});return u(r),n})),state:(0,n.zG)(i.xH(c),i.UI((0,n.ls)(s.DT((e=>"in_progress"===e||"finished"===e)),s.UI((()=>e.sessionId)),s.wp((()=>a)))))}})),va=e=>(0,n.zG)(a.K4((t=>{let{stopped:r}=t;const[a,o]=i.Ue(i.a9(f.of(s.YP)));let c;const u=new Promise((e=>{c=e}));return{priorEvents:()=>u.then((e=>e())),externalStateDelta:i.xH(a),newEvents:(0,n.zG)(i.vP(e.newEvents,r),i.UI((e=>{let[t,r]=e;return r?()=>[]:t}))),setCachedPriorEvents:c,setExternalStateDelta:o}})),a.ak("segmentationValidation",(t=>{let{priorEvents:r}=t;return(0,n.zG)(e.eventsCache,B.EQ((()=>ha),(()=>ba)),(t=>t({...e,sessionId:e.sessionId.current,priorEvents:r})))})),a.ak("segmentationService",(t=>{let{newEvents:r,priorEvents:s,externalStateDelta:o,segmentationValidation:c}=t;return(0,n.zG)(jn({...e,externalStateDelta:o,newEvents:r,priorEvents:s,validationService:c}),a.bw((t=>(0,n.zG)(t.errors,i.UI((t=>(0,n.zG)(t(),Bt.UI((t=>e.reportError(`Query Language: ${t}`,{userId:e.groupId}))))))))))})),a.UI((t=>(0,n.zG)(t.segmentationService.events,i.En(4,Bt.uZ()),(r=>{let[a,c,u,l]=r;return{...t,newEvents:a,realtime:(0,n.zG)(c,i.Rp(!1,((e,t)=>{const r=t();return e||r.some((e=>{let[,t]=e;return"Pageview"===t.name}))})),(e=>i.vP(e,t.segmentationService.processing)),i.UI((e=>{let[t,r]=e;return t&&!r})),i.u4(((e,t)=>e||t))),currentPageviewSegments:(d={processedEvents:(0,n.zG)(u,i.UI(f.UI(Bt.UI(o.Yg)))),segments:t.segmentationService.segments,viewId:e.viewId},(0,n.zG)(i.vP(d.processedEvents,d.viewId,d.segments),i.Rp({pageviewProcessed:!1,resolvePageviewSegments:e=>{},segments:In({all:[],custom:[],standard:[]}),viewId:""},((e,t)=>{let[r,a,i]=t;const o=r();return(0,n.zG)(e,s.DT((e=>e.viewId===a)),s.EQ((()=>{if((0,n.zG)(o,Bt.G((e=>"Pageview"===e.name&&e.view_id===a))))return{pageviewProcessed:!0,resolvePageviewSegments:()=>{},segments:i,viewId:a};{const e=(0,m.b2)();return{pageviewProcessed:!1,resolvePageviewSegments:t=>e.resolve(xn(t)()),segments:aa(zn(i),(()=>e.promise)),viewId:a}}}),(e=>e.pageviewProcessed?{...e,segments:i}:(0,n.zG)(o,Bt.G((e=>"Pageview"===e.name&&e.view_id===a)))?(e.resolvePageviewSegments(i),{pageviewProcessed:!0,resolvePageviewSegments:()=>{},segments:i,viewId:a}):{...e,segments:i})))})),i.UI((e=>e.segments)))),lastProcessedEvents:(0,n.zG)(l,i.UI(f.UI(Bt.UI(o.Yg))))};var d})))),a.Hr("cohorts",(t=>{let{segmentationService:r}=t;return(0,n.zG)(i.fF(e.nonQlCohorts),i.UI(s.UI((e=>(0,n.zG)(r.segments,Cn((e=>e.all)),Cn(Bt.UI(String)),ea,(t=>({query_language:t,...e})))))))})),a.ak("stateSync",(t=>{let{segmentationService:r,lastProcessedEvents:n}=t;return Ft({eventSourceId:e.eventSourceId,groupId:e.groupId,groupIdIsNewlyGenerated:e.groupIdIsNewlyGenerated,internalStateDiff:r.internalStateDiff,internalStateMap:r.internalStateMap,lastProcessedEvents:n,logger:e.logger,permutiveApi:e.permutiveApi,permutiveUrls:e.permutiveUrls,queryLanguageProcessing:r.processing,reportError:e.reportError,sessionId:e.sessionId,viewId:e.viewId})})),a.bw((e=>{let{stateSync:t,setExternalStateDelta:r}=e;return r(t.externalStateDelta)})),a.ak("segmentTransitions",(t=>{let{segmentationService:r}=t;return(e=>(0,n.zG)(a.vP({currentSegmentsSet:a.K4((()=>(0,n.zG)(e.segments,i.UI(u))))}),a.ak("transitionsSinceInit",(e=>{let{currentSegmentsSet:t}=e;return a.of(c(t))})),a.UI((e=>{let{currentSegmentsSet:t,...r}=e;return r}))))({segments:(0,n.zG)(On(r.segments),i.UI((e=>e.all))),viewId:e.viewId})})),a.Hr("cohortsRef",(e=>{let{cohorts:t}=e;return(0,n.zG)(t,i.VS(s.EQ((()=>i.a9(Bt.bM())),(0,n.ls)((e=>Object.values(e)),Bt.UI((0,n.ls)(ta,(e=>e.all),On,i.D8(Bt.Eh(O.Eq)))),Bt.vP(i.g1),i.UI(Bt.xH)))))})),a.Hr("createTrackRequest",(t=>{let{cohortsRef:r,segmentationService:a}=t;return(0,n.zG)(i.vP({cohorts:(0,n.zG)(r,i.UI(s.G)),qlSegments:(0,n.zG)(On(a.segments),i.UI(s.G)),webClient:e.webClient}),i.UI((0,_e.Yt)(s.G5)),i.UI(s.UI((t=>{let{cohorts:r,qlSegments:n,webClient:a}=t;return t=>({...t,segments:n.all,user_id:e.groupId,cohorts:r,properties:{...t.properties,client:{...a,...t.properties.client??{}}}})}))))})),a.Hr("eventsToPublishOnPageUnload",(t=>e.trackPageviewComplete?(0,n.zG)(t.segmentationService.unprocessedPageviewComplete,i.UI(Bt.pc(s.UI((e=>(0,n.bc)(`PageviewComplete-${e.view_id}`,e))))),(e=>i.vP(t.createTrackRequest,e)),i.UI((e=>{let[t,r]=e;return(0,n.zG)(t,s.EQ((()=>Bt.cS),(e=>(0,n.zG)(r,Bt.UI((0,o.H5)(e))))))}))):i.a9(Bt.cS))),a.ak("eventCache",(t=>{let{newEvents:r,setCachedPriorEvents:s}=t;return(0,n.zG)(e.eventsCache,B.EQ((e=>(s(e),a.of({newEvents:r}))),(e=>(0,n.zG)((e=>a.K4((()=>({newEvents:(0,n.zG)(e.newEvents,i.UI(f.UI((0,m.bw)(Bt.UI((t=>{let[,r]=t;na.has(r.name)||e.eventsCache.add(r,{persistOnDisk:!0})})))))),priorEvents:()=>e.eventsCache.all()}))))({eventsCache:e,newEvents:r}),a.UI((e=>{let{newEvents:t,priorEvents:r}=e;return s(r),{newEvents:t}}))))))})),a.UI((e=>({...e,newEvents:e.eventCache.newEvents}))),a.Hr("eventsToPublish",(t=>{let{cohorts:r,newEvents:a,segmentationService:c}=t;return(0,n.zG)(i.vP(a,e.webClient,c.segments,(0,n.zG)(r,i.UI(s.UI((0,n.ls)((e=>Object.values(e)),Bt.UI(ta),Bt.UI((e=>e.all)))))),(0,n.zG)(e.viewId,i.Rp(new Set,((e,t)=>new Set([...e,t]))))),i.UI((t=>{let[r,a,i,c,u]=t;return(0,n.zG)(s.Do,s.Qt("webClient",a),s.Qt("cohorts",c),s.ak("events",(()=>(0,n.zG)(r(),Bt.hX((e=>{let[,t]=e;return"PageviewComplete"!==t.name||u.has(t.view_id)})),s.DT(Bt.Od)))),ft,Dt("segments",(()=>(0,n.zG)(xn(i),mt))),Tt((e=>(0,n.zG)(e.cohorts,lt.uU(Tn(1e3)),lt.UI(Bt.xH),lt.UI((t=>({...e,cohorts:t})))))),vt((t=>{let{cohorts:r,events:a,segments:i,webClient:s}=t;return(0,n.zG)(a,Bt.UI((0,o.H5)((t=>({...t,segments:i.all,user_id:e.groupId,cohorts:r,properties:{...t.properties,client:{...s,...t.properties.client??{}}}})))))})),lt.UI(s.fS((()=>Bt.bM()))))})),(e=>{const[t,r]=i.gS(Bt.uZ());return(0,n.zG)(e,i.UI((e=>e().then(r)))),t}))})));var ya=r(307);function wa(e){return t=>(0,n.zG)(i.oQ(e),i.UI((0,m.rO)({backoffAfterErrorMs:e=>e??0,backoffAfterSuccessMs:e=>e??0})),(e=>a.dQ((r=>{let{previousState:a}=r;const[o,c]=i.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(a)),u=(0,n.zG)(i.vP(o,e),i.UI((e=>{let[t,r]=e;return Math.max(t.lastError+r.backoffAfterErrorMs,t.lastSuccess+r.backoffAfterSuccessMs)})));return{state:o,value:(0,n.ls)(s.DT((()=>Date.now()>=u.current)),s.UI(t),s.UI((0,m.bw)((e=>e.then((()=>c({...o.current,lastSuccess:Date.now()})),(()=>c({...o.current,lastError:Date.now()})))))))}}))))}const _a=function(e,t){return a.of(s.YP)};var ka=r(565);const Sa=["pug"],Ia=function(e,t){return(0,n.zG)(za(e),wa({backoffAfterErrorMs:6e5}),a.VS((e=>ka.m((0,n.zG)(t,i.UI((0,m.rO)({tpdUsage:s.UI((0,n.ls)(Pe.UI(Pe.z7((e=>!Sa.includes(e)))),Pe.hX((0,Te.ff)(Pe.xb))))})),i.UI((t=>{let{tpdUsage:r,userId:a}=t;return{validityKey:()=>a,freshnessKey:(0,n.ls)((()=>r),s.EQ((()=>0),(0,n.ls)(JSON.stringify,m.vp))),refresh:(0,n.zG)(r,s.hX((e=>Object.keys(e).length>0)),s.UI((t=>()=>Oe.Y3((()=>(0,n.zG)(e({user_id:a,time:new Date,tpd_segments:t}),s.fS((()=>Promise.reject("Blocked by backoff."))))),(e=>`Failed to report TPD usage. Got ${e}`)))))}})))))),a.UI(n.Q1))};const za=e=>t=>{const{config:r,metrics:n,permutiveApi:a,permutiveUrls:i}=e,o=n.startTimer("sdk_http_tpd_usage_seconds",{});return a.req({url:i.getEndpointUrl("/tpd/usage",s.G(r.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_tpd_usage_seconds",o),e)))};var xa=function(e){return function(t){return function(r){return e(t(r))}}},qa=n.a9;$e.F4,$e.Xl;function Ga(e){return function(t){return function(){return e.of(t)}}}function Ea(e){return function(t){return function(r){return function(n){return e.map(r(n),t)}}}}function Ua(e){return function(t){return function(r){return function(n){return e.ap(r(n),t(n))}}}}function Ca(e){return function(t){return function(r){return function(n){return e.chain(r(n),(function(e){return t(e)(n)}))}}}}function Pa(e){return function(t){return(0,n.ls)(t,e.of)}}lt.PM;var Ta=qa,Oa=(lt.tD,xa(lt.tD),function(e,t){return(0,n.zG)(e,Da(t))}),Da=Ea(lt.dO),Aa=(lt.Hi,Ga(lt.PM)),Ma=(lt.UA,"ReaderTask"),ja={URI:Ma,map:Oa},Ba={URI:Ma,of:Aa};$e.F4,$e.Xl;var Ra=qa,Fa=Rn.F2(Ba),La=(Oe.QM,Oe.lk,Oe.dk,Oe.Op,Oe.fj,Rn.UI(ja)),Na=Fa;$e.F4,$e.Xl;function Ya(e,t){const r=["amp","gigya","pxid","sailthru"],o=(0,n.zG)(t.identities,i.UI(s.UI(Pe.z7((e=>!r.includes(e)))))),c=e=>(0,m.vp)(JSON.stringify(e)),u=e=>[c(e),e];return(0,n.zG)(a.vP({fetchFromNewEndpoint:(0,n.zG)(Qa(e),wa({backoffAfterErrorMs:6e5})),fetchFromLegacyEndpoint:(0,n.zG)($a(e),wa({backoffAfterErrorMs:6e5}))}),a.VS((r=>{let{fetchFromNewEndpoint:c,fetchFromLegacyEndpoint:l}=r;return(0,n.zG)(ka.m((0,n.zG)(i.vP(t.userId,t.sessionId,o),i.UI((t=>{let[r,a,i]=t;return{validityKey:()=>r,freshnessKey:()=>`${Ha(i)},${a}`,refresh:(0,n.zG)(i,s.UI((t=>()=>Pe.xb(t)?Oe.of({}):Oe.Y3((()=>(0,n.zG)((t=>(0,n.zG)(c(t),s.UI((e=>e.catch((()=>(0,n.zG)(l(t.identities),s.fS((()=>e))))))),s.wp((()=>l(t.identities))),s.UI((0,m.bw)((t=>{const r=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(n.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",r)}))})))))({userId:r,identities:t}),s.fS((()=>Promise.reject("Blocked by persistent backoff"))))),(e=>`Error fetching TPD. Got ${e}`)))),s.UI(La(u)))}})))),ka.d((e=>s.G((e=>Array.isArray(e)?e:u(e))(e)))),a.UI(i.UI(B.fS((t=>(e.logger.warn("[TPD]",`Failed to retrieve usable value, using zero value. ${t}`),s.G(u({}))))))),a.bw((0,n.ls)(i.UI(s.pC),i.UI((t=>{t&&e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"audience_matching_ready",time_origin:"sdk_init"})})))))})))}const Qa=e=>async t=>{const r=e.metrics.startTimer("sdk_http_audience_matching_seconds",{}),a=await e.permutiveApi.req({url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",s.G("v1"),t.userId),payload:{identities:(0,n.zG)(t.identities,Pe.Yz,Bt.UI((e=>{let[t,r]=e;return{tag:t,id:r}})))},method:"POST",withCredentials:!1,dataType:"json"});return e.metrics.stopTimer("sdk_http_audience_matching_seconds",r),a.items},$a=e=>async t=>{const r=e.metrics.startTimer("sdk_http_tpd_seconds",{}),n=await e.permutiveApi.req({url:e.permutiveUrls.getEndpointUrl("/tpd",s.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1});return e.metrics.stopTimer("sdk_http_tpd_seconds",r),n},Ha=(0,n.ls)(JSON.stringify,m.vp);const Va=(e,t)=>(0,n.zG)(a.vP({data:Ya(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:Ia(e,i.vP({tpdUsage:t.tpdUsage,userId:t.userId}))}),a.ak("analytics",(e=>{let{data:r}=e;return function(e){return a.dQ((t=>{let{previousState:r}=t;const[a,o]=i.gS(Bt.uZ());var c;return{state:(0,n.zG)(i.vP(e.userId,e.providerSegments,e.sessionId,e.viewId),i.D8(((e,t)=>{let[r,n]=e,[a,i]=t;return r===a&&n===i})),i.Rp(null!==(c=r)&&"object"==typeof c?c:{userId:"",providerHashes:{}},((e,t)=>{let[r,a,i,c]=t;const u=(0,n.zG)(a,s.fS((()=>({})))),l=(0,n.zG)(u,Pe.UI((0,m.SL)(m.vp))),d=(0,n.zG)(e,s.DT((e=>e.userId===r)),s.UI((e=>e.providerHashes)),s.fS((()=>({}))));return(0,n.zG)(u,Pe.z7((e=>l[e]!==(d[e]||0))),(e=>Object.entries(e)),Bt.UI((e=>{let[t,r]=e;return(0,n.bc)((0,m.k$)(),{name:"ThirdPartySegments",properties:{data_provider:t,segments:[...r]},session_id:i,time:new Date,view_id:c})})),o),{userId:r,providerHashes:l}}))),value:a}}))}({providerSegments:(0,n.zG)(r,i.UI(s.UI(wn.Yg))),sessionId:t.sessionId,userId:t.userId,viewId:t.viewId})})),a.UI((e=>{let{data:t,analytics:r}=e;return{data:t,analyticsEvents:r}}))),Ka=function(e){const t={include_geo:!0,include_isp:!0,include_ip_hash:!0,include_ip:!1},r=e.trace.startSpan("geoip_data_retrieval");return(0,n.zG)(ka.m((0,n.zG)(e.sessionId,i.UI((r=>({validityKey:()=>(0,m.vp)(JSON.stringify(t)),freshnessKey:()=>r,refresh:s.G((()=>Oe.Y3((()=>Wa(e.permutiveApi,e.metrics,e.config,t,e.permutiveUrls)),(e=>`Error fetching geoip. Got ${e}`))))}))))),a.UI(i.UI(B.fS((t=>(e.logger.warn("[geoip]",`Failed to retrieve usable value, using zero value. ${t}`),s.G({})))))),a.bw((0,n.ls)(i.UI(s.pC),i.UI((t=>{t&&(e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"geoip_data_ready",time_origin:"sdk_init"},performance.now()),r.finish())})))))};const Wa=(e,t,r,n,a)=>{const i=[];n.include_geo&&i.push(["include","geo"]),n.include_isp&&i.push(["include","isp"]),n.include_ip&&i.push(["include","ip"]),n.include_ip_hash&&i.push(["include","ip_hash"]);const o=t.startTimer("sdk_http_geoip_seconds",{});return e.req({url:a.getEndpointUrl("/geoip",s.G(r.apiVersion),i),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(t.stopTimer("sdk_http_geoip_seconds",o),e)))},Xa=e=>t=>{const r=n=>{const a={...n};for(let i in n){const s=n[i];t.hasOwnProperty(s)?null!=e&&e.dropUnenriched&&void 0===t[s]?delete a[i]:a[i]=t[s]:null!==s&&"object"==typeof s&&s.constructor===Object&&(a[i]=r(s))}return a};return r};var Ja=r(233),Za=r(578);const ei=function(e,t,r,o,c){const u=(0,Za.Hn)(ri),l=u("ssps",Bt.cS),d=u("all_cohort_mapping",{}),f=l.includes("google_pps"),p=u("affinity_enabled",!1);return(0,n.zG)(c.consent,a.KD([[e=>!e,a.of(Nn(s.YP))],a.K4((a=>{let{stopped:u}=a;o.debug("[ssp] Addon started, affinity enabled: ",p);const l=(0,n.zG)(c.cohorts,Yn((0,n.ls)(Bt.hX((e=>e in d)),Bt.tS((e=>d[e]))))),f=(0,n.zG)(i.vP(c.url,u),i.UI((e=>{let[t,r]=e;return(0,n.zG)(t,s.hX((()=>p&&!r)))})),i.UI(s.UI((r=>Oe.Y3((()=>e.req({method:"GET",url:t.getEndpointUrl("/standard-audiences/v1/affinity",s.YP,[["url",r]]),withCredentials:!1,dataType:"json"})),String)))),i.UI(s.UI(Oe.Vn((0,m.bw)((e=>r(`Failed to fetch affinity cohorts: ${e}`)))))),i.UI(s.UI(Oe.UI((e=>e.affinity_values)))),i.UI(s.fS((()=>Oe.of(Bt.bM())))),i.VS($n(Bt.bM())));return(0,n.zG)((0,_e.gz)(Wn)(l,f),Yn(Bt.xH),Yn((e=>[...new Set(e)])),Yn(s.G))}))]),a.UI(i.xH),a.UI((e=>({cohorts:(0,n.zG)(e,Yn(s.fS((()=>Bt.bM()))),Jn((e=>e),(e=>"dfp"===e.id&&f?s.G(ti):s.YP)),s.G),externalData:{[ni]:(0,n.zG)(On(e),i.UI(s.Uo),i.UI(s.xH),i.UI(s.UI(ti)),i.D8(s.Eh(Bt.Eh(O.Eq))),i.UI(s.UI((e=>({ssps:l,cohorts:e})))))}}))))};const ti=e=>[...new Set(e.map((e=>e.replace(/-ac$/,"").replace(/-aw$/,"").replace(/-c$/,""))))],ri="ssp";const ni="_pssps",ai=e=>{const t=(0,n.zG)((null==e?void 0:e.dfp)??[],Bt.UI(String),(e=>new Set(e)));return{id:"dfp",filterCohorts:Bt.hX((e=>t.has(e)))}};const ii=e=>{if(!e.metrics.isEnabled())return()=>{};const t=(0,n.zG)(e.adServers,Bt.UI((e=>(0,n.bc)(e.id,e))),Pe.sq,Pe.UI((t=>{const r=(0,n.zG)(e.cohorts,Pe.DZ((e=>e.byAdServer(t))),(e=>i.vP(e)),i.UI(Pe.UI((a=5e3,o="Timeout",e=>(0,n.zG)(e,qn(a),lt.UI(s.pF((()=>B.t$(o)))))))),i.UI((0,_e.Yt)(lt.Hi)),i.UI(lt.UI((0,n.ls)(Pe.oh,Me.Vn(Pe.Su(((t,r)=>{e.logger.warn("[Targeting Metrics]",`[${t}]`,r)}))),Me.F2))),(e=>()=>e.current));var a,o;return(0,n.ls)(Bt.of,Bt.UI((e=>e.cohorts)),oi,Bt.UI((e=>{let[t,r]=e;return{allCohorts:new Set(t),cohortCountByType:si(t),requestCount:r}})),(a=>(0,n.zG)(r(),lt.UI(Pe.Su(((t,r)=>(a,i)=>{(0,n.zG)(r,Bt.Hr("actualCohortCount",(e=>{let{cohortCountByType:t}=e;return(0,n.zG)(t,Pe.P5(a))})),Bt.UI((r=>{const o={cohort_type:a,target:t},c=i.reduce(((e,t)=>r.allCohorts.has(t)?e+1:e),0),u=i.length-c;e.metrics.track({name:"sdk_ad_request_missed_cohorts",labels:o,value:r.requestCount*u}),e.metrics.track({name:"sdk_ad_request_successful_cohorts",labels:o,value:r.requestCount*c}),(0,n.zG)(r.actualCohortCount,s.UI((t=>{const n=t-c;e.metrics.track({name:"sdk_ad_request_superfluous_cohorts",labels:o,value:r.requestCount*n})})))})))})(t.id,a))))),(e=>e()))})));return e=>{if("AdRequest"===e.name)(r=e.properties).ad_server_id in t&&t[r.ad_server_id](r);var r}},si=e=>({ql:(0,n.zG)(e,Bt.u4(0,((e,t)=>isNaN(parseInt(t))?e:e+1)))}),oi=e=>(0,n.zG)(e,Bt.pO((e=>{const{init:t,rest:r}=(0,n.zG)(e,Bt.zT((t=>t===e[0])));return[t,r]})),Bt.UI((e=>[e[0],e.length]))),ci=e=>s.YP;const ui=$.n_({cohorts:Bt.Eh((0,m.Or)()),ctx:(0,m.Or)()}),li=Bt.cS;Promise.resolve(B.F2(li)),$.n_({userId:(0,m.Or)(),lastSuccess:{equals:(e,t)=>e&&t&&ui.equals(e,t)||e===t}});function di(e,t){return Object.keys(t).reduce(((r,n)=>void 0!==e[n]?{...r,[n]:t[n]+e[n]}:{...r,[n]:t[n]}),e)}function fi(e,t){return(0,n.zG)(hi(e),((e,t)=>r=>(0,n.zG)((e=>r(e)().then((e=>B.nM(e)?Promise.reject(e.left):e.right))),wa(e),a.UI((e=>r=>()=>(0,n.zG)(r,e,s.EQ((()=>Promise.resolve(B.t$(t))),(e=>e.then(B.F2,B.t$))))))))({backoffAfterErrorMs:6e5},"Advertiser segmentation request blocked by rate limiting."),a.VS((r=>a.dQ((a=>{let{previousState:o}=a;return e.logger.debug("[advertiser] previous state:",o),(0,n.zG)(t,i.Rp(i.a9(mi(e)(o)),gi(e)(r)),i.xH,i.bw((t=>e.logger.debug("[advertiser] updated state:",t))),(e=>({state:(0,n.zG)(e,i.UI((e=>{let{userId:t,lastSuccess:r}=e;return{userId:t,lastSuccess:s.FS(r)}})),i.D8(zi)),value:(0,n.zG)(e,i.UI((e=>{let{eventual:t}=e;return t})))})))})))))}const pi=e=>t=>(0,n.zG)(t,Cn(function(e){return t=>(0,n.zG)(t.cohorts,j.hX((r=>(0,n.zG)(r.groups,j.yW((a=>(0,n.zG)(s.ij(t.groups[a]),B.Yo((()=>`cohort [${r.code}] is missing group [${a}]`)),B.Vn((t=>e.error(`[advertiser] ${t}`))),B.UI((e=>e>0)),B.fS((()=>!0)))))))),j.UI((e=>{let{code:t}=e;return t})))}(e)),Zn((e=>e),(e=>"dfp"===e.id?s.G((e=>e)):s.YP)),s.G),mi=e=>t=>(0,n.zG)(t,s.DT(xi),s.fS((()=>qi())),(e=>B.Y3((()=>({userId:e.userId,inFlight:!1,lastSuccess:s.ij(e.lastSuccess),view:Si(),ctx:(0,n.zG)(s.ij(e.lastSuccess),s.UI((e=>{let[t]=e;return t}))),eventual:Gi()})),(e=>`failed to parse existing persistent state: ${e}`))),B.fS((t=>(e.logger.error("[advertiser]",t),ki(""))))),gi=e=>t=>(r,a)=>(0,n.zG)(r,i.VS((0,n.ls)(s.DT((e=>{let{userId:t}=e;return t===a.userId})),s.fS((()=>ki(a.userId))),(r=>{if(Ii(r)===a.viewId)return e.logger.debug("[advertiser] view id is the same as previous, returning existing state",r),i.a9(r);if(r.inFlight)return e.logger.debug("[advertiser] in flight request",r),i.a9(r);{let o;e.logger.debug("[advertiser] fetching cohorts for view",r);const c=new Promise((e=>{o=e})),u=()=>c;return(0,n.zG)((0,_e.gz)(lt.Hi)(a.customCohorts,a.standardCohorts),lt.tS((e=>{let[n,i]=e;return t([a.userId,s.FS(r.ctx),n,i])})),Oe.YO("response"),Oe.ak("cohorts",(t=>{let{response:r}=t;return(0,n.zG)(r.c,yi,(0,m.bw)(B.EQ((t=>{e.logger.error(`[advertiser] failed to decode data from response. ${t}`)}),(t=>{e.logger.debug("[advertiser] decoded data from response",t)}))),lt.of)})),Oe.Hr("view",(e=>{let{response:t,cohorts:r}=e;return(0,n.bc)(t.ctx,r)})),i.fF,i.UI((0,n.ls)(s.EQ((function(){return{...r,inFlight:!0,eventual:(0,n.bc)((0,n.zG)(r.lastSuccess,s.UI((e=>{let[t,r]=e;return r})),s.fS((()=>_i()))),u)}}),B.EQ((function(t){e.logger.error(`[advertiser] ${t}`);const i=(0,n.zG)(r.lastSuccess,s.UI((e=>{let[t,r]=e;return r})),s.fS((()=>_i())));return o(i),{userId:a.userId,lastSuccess:r.lastSuccess,ctx:r.ctx,view:(0,n.bc)(a.viewId,s.YP),inFlight:!1,eventual:[i,u]}}),(function(e){let{response:t,view:r}=e;const[,i]=r;return o(i),(0,n.zG)({userId:a.userId,lastSuccess:s.G(r),view:(0,n.bc)(a.viewId,s.G(i)),ctx:s.G(t.ctx),inFlight:!1,eventual:(0,n.bc)(i,u)})}))))))}})))),hi=e=>Oe.it((t=>e.permutiveApi.req({url:e.permutiveUrls.getAdvertiserEndpointUrl("/segment",s.G("v4")),method:"POST",payload:bi(t),contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Failed to fetch advertiser cohorts: ${e}`)),bi=e=>JSON.stringify(e),vi=e=>{const t=(0,n.zG)(e,j.YM,B.Yo((()=>"Expected a value, found empty array")),B.tS((e=>"string"==typeof e?B.F2(e):B.t$("Expected a cohort code, found "+typeof e)))),r=(0,n.zG)(e,j.Gb,s.fS((()=>[])),B.DT(Array.isArray,(()=>"Expected an array of groups [integer], found "+typeof e[1])));return(0,n.zG)(t,B.tS((e=>(0,n.zG)(r,B.UI((t=>({code:e,groups:t})))))))};function yi(e){const[t,r]=e;return(0,n.zG)(t,j.fw(B.g1)(vi),B.UI((e=>({cohorts:e,groups:r}))))}const wi=$.n_({cohorts:j.Eh($.n_({code:O.Eq,groups:j.Eh(H.Eq)})),groups:j.Eh(H.Eq)}),_i=()=>({cohorts:[],groups:[]}),ki=e=>({inFlight:!1,userId:e,lastSuccess:s.YP,view:Si(),ctx:s.YP,eventual:Gi()}),Si=()=>["",s.YP],Ii=e=>e.view[0],zi=$.n_({userId:(0,m.Or)(),lastSuccess:{equals:(e,t)=>e===t||!!e&&!!t&&$.bc(O.Eq,wi).equals(e,t)}}),xi=e=>"object"==typeof e&&null!==e&&"userId"in e&&"lastSuccess"in e&&(void 0===e.lastSuccess||Array.isArray(e.lastSuccess)&&2===e.lastSuccess.length&&"string"==typeof e.lastSuccess[0]&&null!==e.lastSuccess[1]&&"object"==typeof e.lastSuccess[1]),qi=()=>({userId:""}),Gi=()=>(0,n.bc)(_i(),(()=>Promise.resolve(_i()))),Ei=(e,t)=>{const r=(0,n.zG)(t,s.UI((e=>e.all)),s.fS((()=>Nn(Bt.cS))),On,i.UI(s.Uo));return{_pcrdbs:i.a9(s.YP),_pcrprs:r}},Ui=function(e,t){return(0,n.zG)(t,a.KD([[e=>!e.consent,a.K4((()=>Un(_i())))],fi(e,t)]),a.UI((0,n.ls)(i.xH,(r=>(0,_e.gz)(Mn)(r,En((0,n.zG)(t,i.UI((e=>{let{events:t}=e;return t})),(t=>{return(r=e.logger,e=>t=>(0,n.zG)(t,i.UI((t=>(0,n.zG)(B.Y3((()=>{const a=t().filter((t=>{let[,r]=t;return"SlotViewable"===r.name&&(0,n.zG)(s.ij(r.properties.line_item_id),s.UI((e=>e.toString())),s.UI((t=>e.has(t))),s.fS((()=>!1)))})).map((e=>{let[t,r]=e;return r.properties.line_item_id.toString()}));return a.forEach((e=>t=>e.debug("[advertiser] impression event for deal_id:",t))(r)),(e=>e.reduce(((e,t)=>({...e,[t]:1})),{}))(a)}),(e=>`Caught error when processing deal id impressions on events. Got ${e}`)),B.fS((e=>(r.error("[advertiser]",e),{})))))),i.Rp({},di),i.D8(((e,t)=>$t(t))),i.D8(or(H.Eq)),i.bw((e=>r.debug("[advertiser] impressions:",e)))))(new Set(["6290526429","6298504545","6355154340","6361244531","6355154341","6747335178","6763023755"]))(t);var r}))))),Cn((e=>{let[t,r]=e;return function(e,t,r){const a=(0,n.zG)(t.groups,j.Su(((a,i)=>{const o=(0,n.zG)((0,n.zG)(t.cohorts,j.hX((e=>{let{groups:t}=e;return t.includes(a)})),j.Lx(H.Pc)((t=>(0,n.zG)(s.ij(e[t.code]),s.fS((()=>[])),j.Lx(H.Pc)((e=>(0,n.zG)(s.ij(r[e]),s.fS((()=>0))))))))));return Math.max(0,i-o)})));return{cohorts:t.cohorts,groups:a}}({brrj:["6290526429"],brrv:["6298504545"],bsjf:["6355154340"],bsjr:["6361244531"],bvdp:["6355154341"],byfg:["6747335178"],byjx:["6763023755"]},t,r)})),pi(e.logger))),a.bw((t=>{(0,n.zG)(t,s.UI(ra),s.fS((()=>i.a9([]))),(t=>(0,n.zG)(t,i.UI((t=>e.logger.debug("[advertiser] cohorts available for targeting:",t))))))})))};const Ci=(0,n.zG)(Ui,(e=>(t,r)=>(0,n.zG)(e(t,r),a.UI((e=>({cohorts:e,externalData:Ei(t.logger,e)}))))));const Pi=a.K4((()=>{}));const Ti=e=>t=>(0,n.zG)(e,Pe.UI((e=>t.reduce(((t,r)=>t+Number(e.has(r))),0))));const Oi=function(e,t){return a.K4((()=>({signalRef:i.a9(s.YP)})))};const Di=e=>t=>{const{consent:r,currentTimestampSecs:c,identities:u,sessionId:l,userId:d,viewId:g,pageviewState:h}=t;return(0,n.zG)(a.K4((()=>{let r;const n=new Promise((e=>{r=e})),[a,o]=i.Ue(i.a9(s.YP));return{...t,adServers:[ai(e.optimisedActivationsConfig.dfp)],nonQlCohortsT:()=>n,setNonQlCohorts:r,setTpdUsage:o,tpdUsage:i.xH(a)}})),a.ak("geoip",(()=>(e=>(0,n.zG)(e,Ka,a.YO("data"),a.Hr("replacementMap",(e=>{let{data:t}=e;return(0,n.zG)(t,i.UI(s.UI((e=>{var t;return{$ip_geo_info:e.geo_info,$ip_geo_info_continent:null===(t=e.geo_info)||void 0===t?void 0:t.continent,$ip_isp_info:e.isp_info,$ip_address:e.ip,$ip_address_hash:e.ip_hash}}))))})),a.Hr("permutiveContext",(e=>{let{data:t}=e;return(0,n.zG)(t,i.UI(s.EQ((()=>({})),(e=>{var t,r,n,a,i,s,o,c,u;return{isp:null===(t=e.isp_info)||void 0===t?void 0:t.isp,organization:null===(r=e.isp_info)||void 0===r?void 0:r.organization,autonomous_system_number:null===(n=e.isp_info)||void 0===n?void 0:n.autonomous_system_number,autonomous_system_organization:null===(a=e.isp_info)||void 0===a?void 0:a.autonomous_system_organization,continent:null===(i=e.geo_info)||void 0===i?void 0:i.continent,country:null===(s=e.geo_info)||void 0===s?void 0:s.country,city:null===(o=e.geo_info)||void 0===o?void 0:o.city,province:null===(c=e.geo_info)||void 0===c?void 0:c.province,postal_code:null===(u=e.geo_info)||void 0===u?void 0:u.postal_code}}))))}))))({...e,sessionId:l}))),a.Hr("watson",(t=>{let{webClient:r}=t;return(0,n.zG)(e.watson,s.fS((()=>(0,n.zG)(r,i.UI(s.UI((e=>e.url))),i.D8(s.Eh(O.Eq)),(t=>(0,Ja.watson)({...e,pageUrl:t,watsonEnabled:(0,n.zG)(h,i.UI((e=>e.watsonEnabled)))}))))))})),a.ak("audienceMatching",(t=>{let{tpdUsage:r}=t;return Va(e,{identities:u,sessionId:l,tpdUsage:r,userId:d,viewId:g})})),a.UI((e=>{let{audienceMatching:{analyticsEvents:t,...r},newEvents:a,...s}=e;return{...s,audienceMatching:r,newEvents:(0,n.zG)(i.vP(a,t),i.UI(f.RD),i.UI(f.UI(Bt.xH)))}})),a.UI((e=>{const[t,r,a]=i.Ue(s.bM()),[o,c]=(0,n.zG)(e.newEvents,i.En(2,Bt.uZ())),u=(0,n.zG)(i.vP(o,t),i.UI((e=>{let[t,r]=e;return(0,n.zG)(r,s.UI((e=>(0,n.zG)(t,f.UI(Bt.UI((0,m.bw)((t=>{let[,r]=t;return e(r)}))))))),s.fS((()=>f.of(Bt.bM()))))})));return{...e,newEvents:u,newEventsForAdvertiserSegmentation:c,collectTargetingSuccessMetrics:e=>{r(s.G(e)),a()}}})),a.ak("enrichedEvents",(t=>{let{enrichmentReplacementMap:r,geoip:c,newEvents:u,watson:l}=t;return(0,n.zG)(i.vP({misc:r,geoip:c.replacementMap,watson:l.replacementMap}),i.UI((0,_e.Yt)(s.G5)),i.UI(s.UI((e=>{let{misc:t,geoip:r,watson:n}=e;return{...t,...r,...n}}))),(t=>a.K4((()=>((e,t,r,a)=>((0,n.zG)(t,i.UI(s.pC),i.YP((t=>{t&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"event_enrichment_ready",time_origin:"sdk_init"})}))),(0,n.zG)(r,i.VS((()=>(0,n.zG)(i.vP((0,n.zG)(t,i.UI(s.UI(Xa({dropUnenriched:!0})))),a),i.UI((0,n.ls)((e=>{let[t,r]=e;return()=>(0,n.zG)(t,s.EQ((()=>[]),(e=>(0,n.zG)(r(),Bt.UI((0,o.H5)((0,m.rO)({properties:e})))))))})))))))))(e.metrics,t,d,u)))))})),a.UI((0,m.rO)({enrichedEvents:(0,_n.F)(e.metrics,"pageview_enriched")})),a.ak("lookalikeModels",(()=>(0,n.zG)(e.lookalikeModels,s.EQ((()=>(0,ya.lookalikeModelsService)({...e,consent:r,currentTimestampSecs:c})),a.of)))),a.ak("queryLanguage",(r=>{let{audienceMatching:s,nonQlCohortsT:o,enrichedEvents:c,lookalikeModels:u,setTpdUsage:l,userIdIsNewlyGenerated:f}=r;return(0,n.zG)((p={...e,...t,newEvents:c,thirdPartyData:s.data,groupId:d,groupIdIsNewlyGenerated:f,nonQlCohorts:o,lookalikeModels:u,migratedStateMaps:e.migratedStateMaps},(0,n.zG)(i.vP(p.eventSourceId,p.groupId,p.groupIdIsNewlyGenerated),i.D8((0,n.zG)(O.Eq,$.Uz((e=>{let[t]=e;return t})))),a.kR((e=>{let[t,r,i]=e;return(0,n.zG)(va({...p,eventSourceId:t,groupId:r,groupIdIsNewlyGenerated:i,migratedStateMaps:p.migratedStateMaps}),a.yi(t))})),a.UI((e=>({stateMigratedThisInitialisation:(0,n.zG)(e,i.VS((e=>e.segmentationService.stateMigratedThisInitialisation))),cohorts:(0,n.zG)(e,i.VS((e=>e.cohortsRef))),currentPageviewSegments:{all:(0,n.zG)(e,i.VS((e=>e.currentPageviewSegments)),Cn((e=>e.all))),custom:(0,n.zG)(e,i.VS((e=>e.currentPageviewSegments)),Cn((e=>e.custom))),standard:(0,n.zG)(e,i.VS((e=>e.currentPageviewSegments)),Cn((e=>e.standard)))},eventsToPublish:(0,n.zG)(e,i.VS((e=>e.eventsToPublish))),eventsToPublishOnPageUnload:(0,n.zG)(e,i.VS((e=>e.eventsToPublishOnPageUnload))),realtime:(0,n.zG)(e,i.VS((e=>e.realtime)),i.Rp(!1,((e,t)=>e||t)),i.bw((e=>{e&&p.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_realtime",time_origin:"sdk_init"},performance.now())}))),segments:{all:(0,n.zG)(e,i.VS((e=>On(e.segmentationService.segments))),i.UI((e=>e.all))),custom:(0,n.zG)(e,i.VS((e=>On(e.segmentationService.segments))),i.UI((e=>e.custom))),standard:(0,n.zG)(e,i.VS((e=>On(e.segmentationService.segments))),i.UI((e=>e.standard)))},thirdPartyDataUsage:(0,n.zG)(e,i.VS((e=>e.segmentationService.tpdUsage))),transitionsSinceInit:(0,n.zG)(e,i.VS((e=>e.segmentTransitions.transitionsSinceInit)))}))))),a.bw((e=>{let{thirdPartyDataUsage:t}=e;return l(t)})));var p})),a.ak("classificationModels",(t=>{let{queryLanguage:n}=t;return _a(e,i.vP({consent:r,currentTimestampSecs:c,queryLanguageCohorts:Dn(n.currentPageviewSegments.all),realtime:n.realtime,userId:d}))})),a.ak("demandPartners",(r=>{let{queryLanguage:o}=r;return((e,t)=>(0,n.zG)(ei(e.permutiveApi,e.permutiveUrls,e.reportError,e.logger,t),a.UI((e=>{let{cohorts:t,externalData:r}=e;return{ssp:t,externalData:r}}))))(e,{cohorts:Hn(o.currentPageviewSegments.all),consent:t.consent,url:(0,n.zG)(t.webClient,i.UI(s.UI((e=>e.url))))})})),a.ak("advertiserSegmentation",(t=>{let{queryLanguage:n,newEventsForAdvertiserSegmentation:a}=t;return Ci(e,i.vP({consent:r,customCohorts:Dn(n.currentPageviewSegments.custom),realtime:n.realtime,sessionId:l,standardCohorts:Dn(n.currentPageviewSegments.standard),userId:d,viewId:g,events:a}))})),a.ak("ipIdentifier",(e=>{let{userId:t,geoip:r}=e;return(0,n.zG)(r.data,i.UI(s.tS(s.KQ((e=>e.ip))))),Pi})),a.ak("secureSignal",(t=>{let{advertiserSegmentation:r,demandPartners:s}=t;return(0,n.zG)(Oi(e,(0,n.zG)(d,i.UI((e=>({userId:e,advertiserCohorts:r.cohorts,stdAudienceCohorts:s.ssp}))))),a.UI((e=>{let{signalRef:t}=e;return t})))})),a.ak("nonQlCohorts",(e=>{let{advertiserSegmentation:t,classificationModels:r,contextualCohorts:i,setNonQlCohorts:s,demandPartners:o,viewId:c}=e;return(0,n.zG)(a.of(Pe.oA({advertiser:t.cohorts,classificationModel:r,contextual:ci({contextualCohorts:i,viewId:c}),ssp:o.ssp})),a.bw(s))})),a.Hr("qlCohorts",(e=>{let{queryLanguage:t}=e;return(0,n.zG)(t.segments.all,i.UI(Bt.UI(String)))})),a.bw((t=>{return t.collectTargetingSuccessMetrics(ii({adServers:t.adServers,cohorts:{...t.nonQlCohorts,query_language:(r=t.qlCohorts,(0,n.zG)(r,En,ea))},logger:e.logger,metrics:e.metrics}));var r})),a.Hr("eventsToPublish",(t=>{let{qlCohorts:r,queryLanguage:a,nonQlCohorts:s}=t;const o=(e=>{if(!e.metrics.isEnabled())return e=>{};const t=(0,n.zG)(e.cohortsByType,Pe.UI(i.Rp(new Set,((e,t)=>new Set([...e,...t])))),(e=>i.vP(e)));return r=>{"Pageview"===r.name&&(0,p.HJ)((()=>(0,n.zG)(r.cohorts,Ti(t.current),Pe.Su(((t,r)=>e.metrics.track({name:"sdk_pageview_cohort_count",labels:{cohort_type:t},value:r}))))))}})({cohortsByType:(0,n.zG)(s,Pe.UI(ra),Pe.dx("query_language",r)),metrics:e.metrics});return(0,n.zG)(a.eventsToPublish,i.UI(f.UI(Bt.UI((0,m.bw)((e=>{let[,t]=e;return o(t)}))))))})),a.UI((e=>{let{adServers:t,advertiserSegmentation:r,demandPartners:a,eventsToPublish:s,geoip:o,queryLanguage:c,nonQlCohorts:u,watson:l,secureSignal:d}=e;return{activations:(0,n.zG)(t,Bt.UI((e=>(0,n.zG)(Object.values(u),Bt.UI(ta),Bt.DZ((t=>t.byAdServer(e))),Bt.UI(On),Bt.UI(i.D8(Bt.Eh(O.Eq))),(e=>i.vP(...e)),i.UI(Bt.xH),(t=>(0,n.bc)(e.id,t))))),Pe.sq),cohorts:{all:c.cohorts,ql:c.segments.all,qlCustom:c.segments.custom,qlStandard:c.segments.standard},context:(0,n.zG)(i.vP(l.permutiveContext,o.permutiveContext),i.UI((e=>{let[t,r]=e;return{...t,...r}}))),eventsToPublish:s,eventsToPublishOnPageUnload:c.eventsToPublishOnPageUnload,externalData:i.vP({...r.externalData,...a.externalData}),geoIP:o.data,realtime:c.realtime,stateMigratedThisInitialisation:c.stateMigratedThisInitialisation,transitionsSinceInit:c.transitionsSinceInit,secureSignal:d}})))}},704:(e,t,r)=>{r.d(t,{BJ:()=>d,El:()=>U,G6:()=>w,HD:()=>l,HP:()=>I,Kn:()=>u,Or:()=>k,PQ:()=>_,SL:()=>p,aT:()=>h,b0:()=>v,b2:()=>m,bw:()=>q,k$:()=>b,lo:()=>G,mQ:()=>z,rO:()=>x,vg:()=>S,vp:()=>f});var n=r(358),a=r(275),i=r(492),s=r(491),o=r(29),c=r(172);const u=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,l=e=>"string"==typeof e,d=e=>"number"==typeof e&&!Number.isNaN(e);function f(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function p(e){return t=>{let r=0;for(let n of t){r=r+e(n)|0}return r}}s.ff(o.xb);function m(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),reject:t,resolve:e}}let g=[];function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(g.unshift(e),g.length>1)return;const r=["beforeunload","pagehide"],n=r.concat(["visibilitychange"]),a=e=>{if(!i&&e){i=!0;const e=g;g=[],e.forEach((e=>{try{e()}catch{}}))}};let i=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const r=("visibilitychange"!==e||document.hidden)&&y(t);a(r)}))})),r.forEach((e=>{window.addEventListener(e,(()=>a(!0)))}))}function b(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function v(e,t){const r=Object.keys(e),n=r.length,a={};for(let s=0;s<n;s++){const n=r[s],o=t(n,e[n]);(0,i.pC)(o)&&(a[n]=o.value)}return a}function y(e){return/Mobi|Android/i.test(e)}function w(e){return/^((?!chrome|android).)*safari/i.test(e)}function _(e,t){return new Promise((r=>{(0,c.HJ)((()=>{Promise.resolve(e()).then(r)}),(null==t?void 0:t.timeout)??0)}))}const k=()=>({equals:(e,t)=>Object.is(e,t)});function S(e){return t=>null!=t&&e in t?t[e]:void 0}function I(e){let t=i.YP;const r=(0,i.fS)((()=>{const r=e();return t=(0,i.G)(r),r}));return()=>r(t)}const z=e=>{const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},x=e=>t=>{const r={...t};for(const a in e){var n;r[a]=null===(n=e[a])||void 0===n?void 0:n.call(e,t[a])}return r};function q(e){return t=>(e(t),t)}const G=e=>t=>{const r=e.slice(0,-1),s=e.slice(-1)[0];return(0,a.zG)(r,n.f2((e=>{let[r,n]=e;return(0,a.zG)(t,i.DT(r),i.UI(n))})),i.fS((()=>s(t))))},E=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}};E(parseInt),E(parseFloat);function U(e){return"object"==typeof e&&null!==e&&"_tag"in e&&["None","Some"].includes(e._tag)}},307:(e,t,r)=>{r.r(t),r.d(t,{lookalikeModelsService:()=>w,realService:()=>k,stubService:()=>_});var n=r(275),a=r(492);const i=(e,t,r,n)=>t+(r-t)*n/(Math.pow(2,e)-1),s=(e,t)=>{const r=(e,t)=>{const r=e.toString(16);return("0".repeat(t)+r).slice(Math.min(-t,-r.length))};return`${r(e.getUint32(t),8)}-${r(e.getUint16(t+4),4)}-${r(e.getUint16(t+6),4)}-${r(e.getUint16(t+8),4)}-${r(e.getUint32(t+10),8)}${r(e.getUint16(t+14),4)}`},o=e=>{const t=[1,2],r=e.getInt8(0);if(1===r)return c(e);if(2===r)return u(e);{const n=(0,a.Y3)((()=>s(e,1))),i=(0,a.g_)((()=>"Couldn\'t decode model id"),(e=>`Model id was ${e}`))(n);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${r}; ${i}`)}},c=e=>l(e,1),u=e=>l(e,2),l=(e,t)=>{const r=s(e,1),n=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),a=e.getInt8(18),i=e.getFloat32(19),o=e.getFloat32(23),[c,u]=((e,t,r,n,a,i)=>{const s={};let o=0;do{let r;1===i?(o=e.getUint16(t),r=e.getUint16(t+2),t+=4):(o=e.getUint32(t),r=e.getUint16(t+4),t+=6),s[0===o?"const":o]=r.toString(36)}while(0!==o);return[s,t]})(e,27,0,0,0,t);return[{version:t,id:r,data_preference:n,weights:c,precision:a,min:i,max:o},u]};var d=r(716),f=r(940),p=r(172),m=r(593),g=r(846),h=r(385),b=r(565),v=r(704);const y=()=>a.G({}),w=k;function _(e){return m.K4((()=>g.a9(y())))}function k(e){e.logger.warn("add cleanup of legacy LAL cache");const t=e.trace.startSpan("lookalike_models_data_retrieval_duration");return(0,n.zG)(b.m((0,n.zG)(g.vP(e.consent,e.currentTimestampSecs),g.UI((t=>{let[r,s]=t;return{currentTimestampSecs:s,validity:{maxAge:604800,key:()=>null},freshness:{maxAge:86400,key:()=>null},refresh:(0,n.zG)(r,a.DT(Boolean),a.UI((()=>()=>d.fF(function(e){const t="Failed fetching binary models, reverting to JSON.\\nError: ",r="Failed fetching json models.\\nError: ";return(0,n.zG)(d.Y3((()=>I(e)),(e=>e.message)),p.N1,d.oU((e=>()=>function(e){const t=[];let r=0;for(;r<e.byteLength;){const[n,a]=o(new DataView(e,r));t.push(n),r+=a}return t}(e))),p.N1,d.UI(S((e=>{let{precision:t,max:r,min:n}=e;return{"1p":{},precision:t,min:n,max:r}}))),d.Vn((r=>(e.logger.log(t+r),e.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),r))),d.wp((()=>(0,n.zG)(d.Y3((()=>z(e)),(e=>e.message)),d.UI((e=>e.models)),d.UI(S((()=>({"1p":{}}))))))),d.UI((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},r=Object.keys(e),n=e=>{const t={"1p":{}},{precision:r,min:n,max:a}=e,s=e["1p"],o=Object.keys(s);for(let e=0;e<o.length;e++){const c=o[e],u=parseInt(s[c],36);t["1p"][c]=i(r,n,a,u)}return t};for(let a=0;a<r.length;a++){const i=r[a],s=e[i];t[i]=n(s)}return t})(e):e)),d.fS((t=>(e.reportError(r+t),f.of({})))))}(e)))))}})))),m.UI(g.UI((0,n.ls)(h.fS((t=>(e.logger.warn("[LAL]",`Failed to refresh, using zero value. ${t}`),y()))),(0,v.bw)(a.UI((()=>{t.finish(),e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"lookalike_models_ready",time_origin:"sdk_init"})})))))))}function S(e){return t=>{const r={};for(let n=0;n<t.length;n++){const a=t[n],{id:i,weights:s}=a;if(void 0===i||void 0===s)continue;const o=e(a);Object.keys(s).forEach((e=>{o["1p"][e]=s[e]})),r[i]=o}return r}}const I=e=>{const{permutiveApi:t,config:r,metrics:n}=e,a=n.startTimer("sdk_http_models_seconds",{});return t.req({url:x(r.cdnProtocol,r.cdnBaseUrl,"binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_models_seconds",a),e)))},z=e=>{const{permutiveApi:t,config:r,metrics:n}=e,a=n.startTimer("sdk_http_models_seconds",{});return t.req({url:x(r.cdnProtocol,r.cdnBaseUrl,"json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_models_seconds",a),e)))};function x(e,t,r){const n=`${e}://${t}`;switch(r){case"binary":return`${n}/models/v2/23dc09d6-b664-425a-a76e-0eed6a6cc102-models.bin`;case"json":return`${n}/models/23dc09d6-b664-425a-a76e-0eed6a6cc102-models.json`}}},447:(e,t,r)=>{r.d(t,{K:()=>G,O:()=>x});let n,a;const i=new WeakMap,s=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||o.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return p(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(m(this),t),p(i.get(this))}:function(...t){return p(e.apply(m(this),t))}:function(t,...r){const n=e.call(m(this),t,...r);return o.set(n,t.sort?t.sort():[t]),p(n)}}function f(e){return"function"==typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));s.set(e,t)}(e),t=e,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,l):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(p(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&i.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e);const g=["get","getKey","getAll","getAllKeys","count"],h=["put","add","delete","clear"],b=new Map;function v(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(b.get(t))return b.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=h.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!g.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,a?"readwrite":"readonly");let s=i.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),a&&i.done]))[0]};return b.set(t,i),i}l=(e=>({...e,get:(t,r,n)=>v(t,r)||e.get(t,r,n),has:(t,r)=>!!v(t,r)||e.has(t,r)}))(l);var y=r(865),w=r(385),_=r(275),k=r(940),S=r(716),I=r(704),z=r(172);const x="[IDB]",q=(e,t,r,n,a,i)=>(0,_.zG)((0,k.of)(e.getNamespacedStorageKey(a)),(0,k.tS)((e=>(0,S.Y3)((async()=>r.put(n,i,e)),y.w))),(0,k.UI)((0,w.g_)((e=>{throw t.error(x,`Failed to store crypto key to ${n} due to unexpected error,\\n`,e),e}),(()=>i))),(e=>e()));class G{namespace;logger;cryptoAlg;idb;mainObjectStore;keyObjectStore;keyObjectKey;cryptoKey;MAX_CONSECUTIVE_PUTS=30;puts=1;hasForcedCompaction=!1;constructor(e,t,r,n,a,i,s,o){this.namespace=e,this.logger=t,this.cryptoAlg=r,this.idb=n,this.mainObjectStore=a,this.keyObjectStore=i,this.keyObjectKey=s,this.cryptoKey=o,this.logDebug("Created",this.idb)}static initialise(e,t,r,n,a,i,s,o,c,u){const l=(0,I.G6)(navigator.userAgent)&&!1,d=[u,n.isAvailable(),!l].every((e=>!0===e)),f=async(t,a,i)=>(0,_.zG)(await t.get(i,e.getNamespacedStorageKey(a)),(async e=>e??n.generateKey(!1)),(async n=>q(e,r,t,s,o,await n))).catch((e=>{const t=(0,y.w)(e);throw r.error(x,"Get crypto key failed. Got\\n",t),t})),p=(e,t,r)=>t.includes(r)?(0,_.Q1)():e.createObjectStore(r),m=()=>E(a,c,{upgrade:e=>{const t=[...e.objectStoreNames];p(e,t,i),p(e,t,s)}}).then((e=>{const t=[...e.objectStoreNames];return t.includes(i)&&t.includes(s)?e:Promise.reject(new Error("Object store(s) missing."))})),g=d?(0,w.Y3)((()=>function(e){if(!(0,I.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t=()=>{},r=0;return new Promise((e=>{const n=()=>(r++,indexedDB.databases().finally((0,z.GL)(e)));t=(0,z.UM)(n,100),n()})).finally((()=>{t(),e.track({name:"sdk_idb_conn_attempt_safari_count",value:r,labels:{}})}))}(t).then((()=>m())).catch((e=>(r.error(`Re-creating IDB database ${a} due to error`,e),U(a).then((()=>m())))))),String):(0,w.t$)("Connection not attempted. Default to localStorage");return(0,w.g_)((e=>(0,S.t$)(e)),(t=>(0,_.zG)((0,S.Y3)((()=>t.then((async e=>({db:e,cryptoKey:await f(e,o,s)})))),String),(0,S.UI)((t=>{let{db:a,cryptoKey:c}=t;return new G(e,r,n,a,i,s,o,c)})))))(g)}async put(e,t){return(0,_.zG)((async()=>(0,_.bc)(JSON.stringify(e),this.cryptoKey)),(0,k.tS)((e=>{let[t,r]=e;return(0,k.of)(this.cryptoAlg.encrypt(r,t))})),(0,k.tS)((e=>async()=>(await this.recreateIfNecessary(this.puts++),e))),(0,k.tS)((e=>(0,S.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),y.w))),(0,k.UI)((0,w.g_)((r=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \\n",r),"QuotaExceededError"===r.name&&this.forceCompaction(),r}),(()=>t))),(e=>e()))}get(e){return(0,_.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((async e=>e?JSON.parse(await this.cryptoAlg.decrypt(this.cryptoKey,e)):null)).catch((t=>{const r=(0,y.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,r),r}))))}delete(e){return(0,_.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),U(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return E(e).then((t=>(t.close(),U(e))))}recreateIfNecessary(e){return(0,I.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.recreate():Promise.resolve()}async recreate(){const e=this.idb.name,t=this.idb.version,r=await this.idb.getAllKeys(this.mainObjectStore),n=[];for(const e of r)n.push([e,await this.idb.get(this.mainObjectStore,e)]);await this.deleteStore(),this.idb=await E(e,t,{upgrade:e=>{e.createObjectStore(this.mainObjectStore),e.createObjectStore(this.keyObjectStore)}}),await Promise.all(n.map((e=>{let[t,r]=e;return this.idb.put(this.mainObjectStore,r,t)}))),await q(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(x,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(x,...t)}}const E=(0,_.ls)((function(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=p(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(p(s.result),e.oldVersion,e.newVersion,p(s.transaction))})),r&&s.addEventListener("blocked",(()=>r())),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(()=>a()))})).catch((()=>{})),o}),z.t_,(e=>e.then((e=>({close:e.close.bind(e),createObjectStore:(0,_.ls)(e.createObjectStore.bind(e),_.Q1),delete:(0,_.ls)(e.delete.bind(e),z.t_),get:(0,_.ls)(e.get.bind(e),z.t_),getAllKeys:(0,_.ls)(e.getAllKeys.bind(e),z.t_),get name(){return e.name},get objectStoreNames(){return e.objectStoreNames},put:(0,_.ls)(e.put.bind(e),z.t_),get version(){return e.version}}))))),U=(0,_.ls)((function(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(()=>t())),p(r).then((()=>{}))}),z.t_)},450:(e,t,r)=>{r.r(t),r.d(t,{make:()=>s});var n=r(275),a=r(447);const i=e=>{const{logger:t,consent:r,prefix:n}=e,a=(e,r)=>(t.debug(`${n} Failed to write ${String(r)} as consent is revoked`),Promise.resolve(r));return e=>class extends e{put=((e,t,r)=>function(){return(r()?t:e)(...arguments)})(super.put.bind(this),a,(()=>!r.current))}},s=(e,t,r,s,o,c,u,l,d,f,p)=>(0,n.zG)(a.K,i({logger:d,consent:f,prefix:a.O})).initialise(e,t,d,r,s,o,c,u,l,p)},233:(e,t,r)=>{r.r(t),r.d(t,{watson:()=>l});var n=r(846),a=r(275),i=r(492),s=r(385),o=r(583),c=r(29),u=r(936);const l=e=>(0,a.zG)(f(e),n.YO("data"),n.Hr("replacementMap",(e=>{let{data:t}=e;return(0,a.zG)(t,i.YO("data"),i.Hr("taxonomyLabels",(e=>{let{data:t}=e;return function(e){const t=e=>{const t=e.split("/").filter((e=>e));return t.map(((e,r)=>"/"+t.slice(0,r+1).join("/")))},r=o.xH(e.filter(Boolean).map((e=>t(e.label))));return o.jj(c.Eq)(r)}(t.taxonomy??[])})),i.UI((e=>{var t,r,n;let{data:i,taxonomyLabels:s}=e;return{$alchemy_concepts:i.concepts??[],$alchemy_document_emotion:(null===(t=i.emotion)||void 0===t||null===(r=t.document)||void 0===r?void 0:r.emotion)??null,$alchemy_document_sentiment:(null===(n=i.sentiment)||void 0===n?void 0:n.document)??null,$alchemy_entities:i.entities??[],$alchemy_entity_names:(0,a.zG)(i.entities??[],o.UI((e=>e.text))),$alchemy_keywords:i.keywords??[],$alchemy_taxonomy:i.taxonomy??[],$alchemy_taxonomy_labels:s,$taxonomy_labels:s}})))})),n.Hr("permutiveContext",(e=>{let{data:t}=e;return(0,a.zG)(t,i.EQ((()=>({})),(e=>({watson:e}))))})),(e=>({permutiveContext:(0,a.zG)(e,n.UI((e=>e.permutiveContext))),replacementMap:(0,a.zG)(e,n.UI((e=>e.replacementMap)))}))),d=()=>n.a9(i.G({})),f=e=>(0,a.zG)(n.vP(e.watsonEnabled,e.pageUrl),n.UI((0,a.ls)(i.DT(u.li),i.tS(u.Yg))),n.UI(i.UI((0,a.ls)(p(e.permutiveApi,e.metrics,e.config,e.permutiveUrls,e.trace),n.p4,n.UI(i.UI(s.fS((()=>({})))))))),n.VS(i.fS(d))),p=(e,t,r,n,a)=>s=>{const o=t.startTimer("sdk_http_watson_seconds",{}),c=a.startSpan("watson_data_retrieval");return e.req({url:n.getEndpointUrl("/watson",i.G(r.apiVersion)),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1,payload:{url:s,classify:!0}}).then((e=>(t.stopTimer("sdk_http_watson_seconds",o),t.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"watson_data_ready",time_origin:"sdk_init"},performance.now()),c.finish(),e)))}},925:(e,t,r)=>{r.d(t,{N:()=>s,Qt:()=>c,Yt:()=>p,a1:()=>o,ap:()=>i,gz:()=>f});var n=r(275),a=r(963);function i(e,t){return function(r){return function(n){return e.ap(e.map(n,(function(e){return function(r){return t.ap(e,r)}})),r)}}}function s(e){return function(t){return function(r){return e.ap(e.map(r,(function(e){return function(){return e}})),t)}}}function o(e){return function(t){return function(r){return e.ap(e.map(r,(function(){return function(e){return e}})),t)}}}function c(e){return function(t,r){return function(n){return e.ap(e.map(n,(function(e){return function(r){var n;return Object.assign({},e,((n={})[t]=r,n))}})),r)}}}function u(e,t,r){return function(n){for(var a=Array(r.length+1),i=0;i<r.length;i++)a[i]=r[i];return a[r.length]=n,0===t?e.apply(null,a):u(e,t-1,a)}}var l={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(a){return[e,t,r,n,a]}}}}}};function d(e){return a.e$.call(l,e)||(l[e]=u(n.bc,e-1,[])),l[e]}function f(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,a=d(n),i=e.map(t[0],a),s=1;s<n;s++)i=e.ap(i,t[s]);return i}}function p(e){return function(t){for(var r=Object.keys(t),n=r.length,a=function(e){var t=e.length;switch(t){case 1:return function(t){var r;return(r={})[e[0]]=t,r};case 2:return function(t){return function(r){var n;return(n={})[e[0]]=t,n[e[1]]=r,n}};case 3:return function(t){return function(r){return function(n){var a;return(a={})[e[0]]=t,a[e[1]]=r,a[e[2]]=n,a}}};case 4:return function(t){return function(r){return function(n){return function(a){var i;return(i={})[e[0]]=t,i[e[1]]=r,i[e[2]]=n,i[e[3]]=a,i}}}};case 5:return function(t){return function(r){return function(n){return function(a){return function(i){var s;return(s={})[e[0]]=t,s[e[1]]=r,s[e[2]]=n,s[e[3]]=a,s[e[4]]=i,s}}}}};default:return u((function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var a={},i=0;i<t;i++)a[e[i]]=r[i];return a}),t-1,[])}}(r),i=e.map(t[r[0]],a),s=1;s<n;s++)i=e.ap(i,t[r[s]]);return i}}},358:(e,t,r)=>{r.d(t,{Ce:()=>u,DY:()=>S,Eh:()=>j,GY:()=>k,Gb:()=>m,KB:()=>d,Lx:()=>O,Od:()=>c,Qp:()=>y,Su:()=>E,UI:()=>q,YM:()=>p,f2:()=>w,fw:()=>A,hX:()=>T,ke:()=>g,md:()=>v,oA:()=>P,pR:()=>B,tS:()=>G,yL:()=>I,yW:()=>R,zT:()=>b});var n=r(275),a=(r(560),r(963)),i=r(586),s=r(583),o=(r(219),r(511),function(e){return 0===e.length}),c=i.Od,u=i.Ce,l=(i.ws,i.R3),d=(i.Im,function(e,t){return e<=0?[]:i.KB(t)(e)});var f=i.dC,p=(s.P5,s.YM),m=(s.Z$,function(e){return c(e)?a.G(i.Gb(e)):a.YP}),g=function(e){return function(t){return f(e,t)?_(t):t.slice(0,e)}};var h=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function b(e){return function(t){var r=z(h(t,e))(t);return{init:r[0],rest:r[1]}}}var v=function(e){return function(t){return e<=0||o(t)?_(t):e>=t.length?[]:t.slice(e,t.length)}};function y(e){return function(t){return t.slice(h(t,e))}}s.cx;var w=s.f2;s.JO,s.qr;var _=function(e){return e.slice()},k=function(e){return o(e)?[]:e.slice().reverse()},S=function(e){return function(t){return t.length<=1?_(t):t.slice().sort(e.compare)}},I=function(e,t,r){for(var n=[],a=Math.min(e.length,t.length),i=0;i<a;i++)n[i]=r(e[i],t[i]);return n};s.t9;var z=function(e){return function(t){return e>=1&&c(t)?i.lx(e)(t):o(t)?[_(t),[]]:[[],_(t)]}};s.kp,s.Eq;var x=i.of,q=function(e){return function(t){return t.map((function(t){return e(t)}))}},G=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},E=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},U=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);a.pC(i)&&r.push(i.value)}return r}},C=function(e){return U((function(t,r){return e(r)}))},P=C(n.yR),T=function(e){return function(t){return t.filter(e)}},O=s.Lx,D=(s.xP,s.u4,s.OE),A=(s.nq,s.iw,function(e){var t=M(e);return function(e){return t((function(t,r){return e(r)}))}}),M=function(e){return function(t){return D(e.of([]),(function(r,a,i){return e.ap(e.map(a,(function(e){return function(t){return(0,n.zG)(e,l(t))}})),t(r,i))}))}},j=(s.ZN,s.Eh),B=s.pR,R=(s.pJ,s.oR,i.oo,s.yW);s.j0,a.F4,i.w6,i.QI,i.Ss},543:(e,t,r)=>{function n(e){return function(t){return function(r){return e.chain(r,(function(r){return e.map(t(r),(function(){return r}))}))}}}function a(e){return function(t,r){return function(n){return e.chain(n,(function(n){return e.map(r(n),(function(e){var r;return Object.assign({},n,((r={})[t]=e,r))}))}))}}}r.d(t,{a:()=>a,m:()=>n})},385:(e,t,r)=>{r.d(t,{g1:()=>w,G5:()=>y,dO:()=>h,Pd:()=>I,ak:()=>N,YO:()=>L,tS:()=>k,g_:()=>T,ij:()=>M,Yo:()=>G,DT:()=>q,Eh:()=>m,fS:()=>O,nM:()=>E,t$:()=>c,UI:()=>g,Vn:()=>z,EQ:()=>P,aD:()=>C,of:()=>b,vx:()=>A,F2:()=>u,LF:()=>D,KC:()=>F,i$:()=>R,Y3:()=>j,it:()=>B});var n=r(543),a=r(162),i=r(275),s=r(560),o=r(963),c=o.t$,u=o.F2,l=function(e,t){return(0,i.zG)(e,g(t))},d=function(e,t){return(0,i.zG)(e,v(t))},f=function(e,t){return(0,i.zG)(e,k(t))},p="Either",m=function(e,t){return{equals:function(r,n){return r===n||(E(r)?E(n)&&e.equals(r.left,n.left):U(n)&&t.equals(r.right,n.right))}}},g=function(e){return function(t){return E(t)?t:u(e(t.right))}},h={URI:p,map:l},b=u,v=function(e){return function(t){return E(t)?t:E(e)?e:u(t.right(e.right))}},y={URI:p,map:l,ap:d},w={URI:p,map:l,ap:d,of:b},_=function(e){return function(t){return E(t)?t:e(t.right)}},k=_,S={URI:p,map:l,ap:d,chain:f},I=function(e,t){return function(r){return E(r)?c(e(r.left)):u(t(r.right))}},z=function(e){return function(t){return E(t)?c(e(t.left)):t}},x={URI:p,fromEither:i.yR},q=(0,a.DT)(x),G=(0,a.Yo)(x),E=o.nM,U=o.tO,C=function(e,t){return function(r){return E(r)?e(r.left):t(r.right)}},P=C,T=P,O=function(e){return function(t){return E(t)?e(t.left):t.right}},D=function(e){return E(e)?u(e.left):c(e.right)},A=function(e){return function(t){return E(t)?e(t.left):t}},M=function(e){return function(t){return null==t?c(e):u(t)}},j=function(e,t){try{return u(e())}catch(e){return c(t(e))}},B=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return j((function(){return e.apply(void 0,r)}),t)}},R=C(i.yR,i.yR);function F(e){return e instanceof Error?e:new Error(String(e))}o.F4;var L=(0,s.YO)(h),N=(0,n.a)(S);o.Xl},890:(e,t,r)=>{r.d(t,{EQ:()=>w,F2:()=>o,KQ:()=>f,LF:()=>x,LU:()=>z,LV:()=>_,NG:()=>p,Pd:()=>v,UI:()=>m,Vn:()=>y,ap:()=>g,dQ:()=>I,fS:()=>k,i$:()=>q,ij:()=>d,m8:()=>u,pk:()=>l,t$:()=>c,tS:()=>h,vx:()=>S,wp:()=>b});var n=r(925),a=r(385),i=r(275),s=r(560);function o(e){return(0,i.ls)(a.F2,e.of)}function c(e){return(0,i.ls)(a.t$,e.of)}function u(e){return function(t){return e.map(t,a.F2)}}function l(e){return function(t){return e.map(t,a.t$)}}function d(e){return function(t){return(0,i.ls)(a.ij(t),e.of)}}function f(e){var t=d(e);return function(e){var r=t(e);return function(e){return(0,i.ls)(e,r)}}}function p(e){var t=h(e),r=f(e);return function(e){var n=r(e);return function(e){return t(n(e))}}}function m(e){return(0,s.UI)(e,a.dO)}function g(e){return(0,n.ap)(e,a.G5)}function h(e){return function(t){return function(r){return e.chain(r,(function(r){return a.nM(r)?e.of(r):t(r.right)}))}}}function b(e){return function(t){return function(r){return e.chain(r,(function(r){return a.nM(r)?t():e.of(r)}))}}}function v(e){return function(t,r){return function(n){return e.map(n,a.Pd(t,r))}}}function y(e){return function(t){return function(r){return e.map(r,a.Vn(t))}}}function w(e){return function(t,r){return function(n){return e.map(n,a.EQ(t,r))}}}function _(e){return function(t,r){return function(n){return e.chain(n,a.EQ(t,r))}}}function k(e){return function(t){return function(r){return e.chain(r,a.EQ(t,e.of))}}}function S(e){return function(t){return function(r){return e.chain(r,(function(r){return a.nM(r)?t(r.left):e.of(r)}))}}}function I(e){var t=S(e);return function(r){return t((function(t){return e.map(r(t),(function(e){return a.nM(e)?e:a.t$(t)}))}))}}function z(e){return function(t){return function(r){return e.chain(r,a.EQ((function(r){return e.map(t(r),a.t$)}),(function(t){return e.of(a.F2(t))})))}}}function x(e){return function(t){return e.map(t,a.LF)}}function q(e){return function(t){return e.map(t,a.i$)}}},191:(e,t,r)=>{r.d(t,{MW:()=>c,Uz:()=>s,bc:()=>i,f7:()=>n,n_:()=>a,w4:()=>o});r(275);var n=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},a=function(e){return n((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n((function(t,r){return e.every((function(e,n){return e.equals(t[n],r[n])}))}))},s=function(e){return function(t){return n((function(r,n){return t.equals(e(r),e(n))}))}},o={equals:function(e,t){return e===t}},c=a;o.equals},162:(e,t,r)=>{r.d(t,{DT:()=>s,Dj:()=>o,Yo:()=>i,fX:()=>c});var n=r(275),a=r(963);function i(e){return function(t){return function(r){return e.fromEither(a.Wi(r)?a.t$(t()):a.F2(r.value))}}}function s(e){return function(t,r){return function(n){return e.fromEither(t(n)?a.F2(n):a.t$(r(n)))}}}function o(e){return function(t){return(0,n.ls)(t,e.fromEither)}}function c(e,t){var r=o(e);return function(e){return function(n){return t.chain(n,r(e))}}}},395:(e,t,r)=>{r.d(t,{At:()=>s,oU:()=>i});var n=r(543),a=r(275);function i(e,t){return function(r){var n=(0,a.ls)(r,e.fromIO);return function(e){return t.chain(e,n)}}}function s(e,t){var r=(0,n.m)(t);return function(t){return r((0,a.ls)(t,e.fromIO))}}},272:(e,t,r)=>{r.d(t,{oU:()=>i,wt:()=>a});var n=r(275);function a(e){return function(t){return(0,n.ls)(t,e.fromTask)}}function i(e,t){return function(r){var a=(0,n.ls)(r,e.fromTask);return function(e){return t.chain(e,a)}}}},560:(e,t,r)=>{function n(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.map(e,r)}))}}}function a(e){return function(t){return function(r){return e.map(r,(function(e){return e(t)}))}}}function i(e){return function(t){return function(r){return e.map(r,(function(e){var r;return(r={})[t]=e,r}))}}}function s(e){return function(t,r){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))}))}}}r.d(t,{Hr:()=>s,OV:()=>a,UI:()=>n,YO:()=>i})},444:(e,t,r)=>{r.d(t,{G5:()=>p,PM:()=>f,RD:()=>y,UA:()=>g,UI:()=>c,dO:()=>d,of:()=>u,qo:()=>m});var n=r(275),a=(r(560),r(963)),i=function(e,t){return function(){return t(e())}},s=function(e,t){return function(){return e()(t())}},o=function(e,t){return function(){return t(e())()}},c=function(e){return function(t){return i(t,e)}},u=n.a9,l="IO",d={URI:l,map:i},f={URI:l,of:u},p={URI:l,map:i,ap:s},m={URI:l,map:i,ap:s,chain:o},g={URI:l,map:i,ap:s,of:u,chain:o},h=(n.yR,n.yR,a.F4,u(a.Xl)),b=function(e){var t=function(e){return function(t){return function(){for(var r=[e(0,a.YM(t))()],n=1;n<t.length;n++)r.push(e(n,t[n])());return r}}}(e);return function(e){return a.Od(e)?t(e):h}},v=function(e){return b((function(t,r){return e(r)}))},y=v(n.yR)},586:(e,t,r)=>{r.d(t,{Ce:()=>l,Eh:()=>k,Gb:()=>I,Im:()=>d,KB:()=>h,Od:()=>o,QI:()=>x,R3:()=>f,Ss:()=>q,dC:()=>c,lx:()=>_,nI:()=>g,of:()=>y,oo:()=>p,ur:()=>z,w6:()=>b,ws:()=>u,yL:()=>w});var n=r(275),a=(r(560),r(963)),i=r(350),s=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return s([e],t,!0)}},l=u,d=function(e){return function(t){return s(s([],t,!0),[e],!1)}},f=d,p=function(e,t,r){if(o(r)){var n=m(r);return n.splice(e,0,t),n}return[t]},m=a.r1,g=function(e){return o(e)?a.G(e):a.YP},h=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],a=1;a<r;a++)n.push(e(a));return n}},b=function(e,t){return e<=t?h((function(t){return e+t}))(t-e+1):[e]};var v=m,y=function(e){return[e]},w=function(e,t,r){for(var n=[r(e[0],t[0])],a=Math.min(e.length,t.length),i=1;i<a;i++)n[i]=r(e[i],t[i]);return n};i.xP,i.Lx;var _=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[v(t),[]]:[(0,n.zG)(t.slice(1,r),l(S(t))),t.slice(r)]}},k=(i.u4,i.OE,i.nq,i.iw,i.YM,i.ZN,i.Eh),S=(a.F4,i.YM),I=function(e){return e.slice(1)},z=(i.Z$,i.VV,i.Fp,function(e){return function(t){return t.reduce(e.concat)}});i.j0;function x(e,t){return void 0===t?l(e):(0,n.zG)(t,l(e))}var q=function(e,t){return(0,n.zG)(e,f(t))};i.ur},492:(e,t,r)=>{r.d(t,{DT:()=>m,Dj:()=>ue,Do:()=>ve,EK:()=>h,EQ:()=>ne,Eh:()=>z,FS:()=>be,G:()=>p,G5:()=>T,Gk:()=>M,Hr:()=>we,IS:()=>g,KQ:()=>me,NG:()=>ge,OV:()=>oe,Qt:()=>ke,Ri:()=>Q,UI:()=>G,Uo:()=>J,WG:()=>he,Wi:()=>te,Y3:()=>fe,YO:()=>ye,YP:()=>f,aD:()=>re,ak:()=>_e,bM:()=>B,dO:()=>E,fS:()=>se,fX:()=>le,fw:()=>X,g1:()=>O,g_:()=>ae,hX:()=>$,ij:()=>de,it:()=>pe,lo:()=>F,pC:()=>ee,pF:()=>ie,pR:()=>x,tS:()=>D,uZ:()=>q,wp:()=>j,xH:()=>ce,xu:()=>W});var n=r(925),a=r(543),i=r(162),s=r(275),o=r(560),c=r(963),u=r(491),l=r(219),d=(r(511),r(957)),f=c.YP,p=c.G;function m(e){return function(t){return e(t)?p(t):f}}var g=function(e){return"Right"===e._tag?f:p(e.left)},h=function(e){return"Left"===e._tag?f:p(e.right)},b=function(e,t){return(0,s.zG)(e,G(t))},v=function(e,t){return(0,s.zG)(e,P(t))},y=function(e,t){return(0,s.zG)(e,D(t))},w=function(e,t){return(0,s.zG)(e,$(t))},_=function(e,t){return(0,s.zG)(e,H(t))},k=function(e,t){return(0,s.zG)(e,V(t))},S=function(e,t){return(0,s.zG)(e,K(t))},I="Option",z=function(e){return{equals:function(t,r){return t===r||(te(t)?te(r):!te(r)&&e.equals(t.value,r.value))}}},x=function(e){return{equals:z(e).equals,compare:function(t,r){return t===r?0:ee(t)?ee(r)?e.compare(t.value,r.value):1:-1}}},q=function(e){return{concat:function(t,r){return te(t)?r:te(r)?t:p(e.concat(t.value,r.value))},empty:f}},G=function(e){return function(t){return te(t)?f:p(e(t.value))}},E={URI:I,map:b},U=p,C={URI:I,of:U},P=function(e){return function(t){return te(t)||te(e)?f:p(t.value(e.value))}},T={URI:I,map:b,ap:v},O={URI:I,map:b,ap:v,of:U},D=function(e){return function(t){return te(t)?f:e(t.value)}},A={URI:I,map:b,ap:v,chain:y},M=function(e){return function(t){return te(t)?e():t}},j=M,B=function(){return f},R={URI:I,zero:B},F=(0,d.l)(R,C),L=D(s.yR),N=(0,l.s4)(f,f),Y=function(e){return te(e)?N:(0,l.s4)(g(e.value),h(e.value))},Q={URI:I,compact:L,separate:Y},$=function(e){return function(t){return te(t)?f:e(t.value)?t:f}},H=function(e){return function(t){return te(t)?f:e(t.value)}},V=function(e){return function(t){return(0,l.s4)(w(t,(0,u.ff)(e)),w(t,e))}},K=function(e){return(0,s.ls)(G(e),Y)},W={URI:I,map:b,compact:L,separate:Y,filter:w,filterMap:_,partition:k,partitionMap:S},X=function(e){return function(t){return function(r){return te(r)?e.of(f):e.map(t(r.value),p)}}},J=h,Z={URI:I,fromEither:J},ee=c.pC,te=function(e){return"None"===e._tag},re=function(e,t){return function(r){return te(r)?e():t(r.value)}},ne=re,ae=ne,ie=function(e){return function(t){return te(t)?e():t.value}},se=ie,oe=(0,o.OV)(E),ce=L,ue=(0,i.Dj)(Z),le=(0,i.fX)(Z,A),de=function(e){return null==e?f:p(e)},fe=function(e){try{return p(e())}catch(e){return f}},pe=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fe((function(){return e.apply(void 0,t)}))}},me=function(e){return(0,s.ls)(e,de)},ge=function(e){return function(t){return te(t)?f:de(e(t.value))}},he=ne(s.gn,s.yR),be=ne(s.r5,s.yR);var ve=U(c.F4),ye=(0,o.YO)(E),we=(0,o.Hr)(E),_e=(0,a.a)(A),ke=(0,n.Qt)(T);c.Xl},812:(e,t,r)=>{r.d(t,{Fp:()=>f,Uz:()=>o,VV:()=>d,Zt:()=>s,gf:()=>l,gt:()=>u,lt:()=>c});var n=r(191),a=r(275),i=function(e){return function(t,r){return t===r||0===e(t,r)}},s=function(e){return{equals:i(e),compare:function(t,r){return t===r?0:e(t,r)}}},o=function(e){return function(t){return s((function(r,n){return t.compare(e(r),e(n))}))}},c=(a.W8,function(e){return function(t,r){return-1===e.compare(t,r)}}),u=function(e){return function(t,r){return 1===e.compare(t,r)}},l=function(e){return function(t,r){return-1!==e.compare(t,r)}},d=function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}},f=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}};n.w4.equals},491:(e,t,r)=>{r.d(t,{ff:()=>n,xD:()=>a});r(275);var n=function(e){return function(t){return!e(t)}},a=function(e){return function(t){return function(r){return t(r)&&e(r)}}}},583:(e,t,r)=>{r.d(t,{Ce:()=>g,DZ:()=>W,EQ:()=>v,Eh:()=>de,Eq:()=>F,Ew:()=>q,G:()=>Se,Hr:()=>ze,JO:()=>E,Lx:()=>re,N7:()=>P,OE:()=>ne,OV:()=>me,Od:()=>m,P5:()=>w,R3:()=>h,Su:()=>H,UI:()=>$,YM:()=>_,Yo:()=>b,Z$:()=>k,ZN:()=>ce,bM:()=>N,bj:()=>C,cS:()=>_e,cx:()=>x,f2:()=>G,hX:()=>V,iw:()=>ie,j0:()=>Ie,jG:()=>ue,jj:()=>O,kp:()=>R,lo:()=>be,md:()=>z,nI:()=>we,nq:()=>ae,oA:()=>X,oR:()=>ye,of:()=>L,pJ:()=>ve,pO:()=>D,pR:()=>fe,pc:()=>M,qr:()=>U,t9:()=>T,tS:()=>Y,u4:()=>te,uK:()=>J,uZ:()=>le,vP:()=>se,xH:()=>Q,xP:()=>ee,xb:()=>p,yW:()=>ke,zT:()=>I});var n=r(191),a=r(275),i=r(560),s=r(963),o=r(627),c=r(812),u=r(350),l=r(219),d=(r(511),r(957)),f=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},p=function(e){return 0===e.length},m=u.Od,g=u.Ce,h=(u.ws,u.R3);u.Im;var b=function(e){return s.Wi(e)?_e:[e.value]},v=function(e,t){return function(r){return m(r)?t(r):e()}},y=u.dC;function w(e,t){return void 0===t?function(t){return w(e,t)}:y(e,t)?s.YP:s.G(t[e])}var _=function(e){return m(e)?s.G(u.YM(e)):s.YP},k=function(e){return m(e)?s.G(u.Z$(e)):s.YP};var S=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function I(e){return function(t){var r=A(S(t,e))(t);return{init:r[0],rest:r[1]}}}var z=function(e){return function(t){return e<=0||p(t)?t:e>=t.length?_e:t.slice(e,t.length)}};var x=function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return s.G(r);return s.YP}};function q(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return s.G(t[r]);return s.YP}}var G=function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(s.pC(n))return n}return s.YP}};var E=function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(s.pC(n))return n}return s.YP}},U=function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return s.G(r);return s.YP}},C=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Left"===n._tag&&t.push(n.left)}return t};var P=function(e){for(var t=[],r=[],n=0;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]};function T(e){return function(t,r){if(void 0===r){var n=T(e);return function(e){return n(t,e)}}for(var a,i=0;i<r.length;i++)if(a=r[i],e.equals(a,t))return!0;return!1}}var O=function(e){var t=u.jj(e);return function(e){return m(e)?t(e):e}},D=function(e){var t=u.pO(e);return function(e){return m(e)?t(e):_e}},A=function(e){return function(t){return e>=1&&m(t)?u.lx(e)(t):p(t)?[t,_e]:[_e,t]}},M=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return b(e.apply(void 0,t))}};var j=function(e,t){return(0,a.zG)(e,$(t))},B=function(e,t,r){return(0,a.zG)(e,te(t,r))},R=function(e,t){return(0,a.zG)(e,ve(t))},F=function(e,t){return(0,a.zG)(e,ye(t))},L=u.of,N=function(){return _e},Y=function(e){return function(t){return(0,a.zG)(t,function(e){return function(t){if(p(t))return _e;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},Q=Y(a.yR),$=function(e){return function(t){return t.map((function(t){return e(t)}))}},H=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},V=function(e){return function(t){return t.filter(e)}},K=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var a=e(n,t[n]);s.pC(a)&&r.push(a.value)}return r}},W=function(e){return K((function(t,r){return e(r)}))},X=W(a.yR),J=function(e){return Z((function(t,r){return e(r)}))},Z=function(e){return function(t){for(var r=[],n=[],a=0;a<t.length;a++){var i=t[a];e(a,i)?n.push(i):r.push(i)}return(0,l.s4)(r,n)}},ee=function(e){return function(t){return function(r){return r.reduce((function(r,n,a){return e.concat(r,t(a,n))}),e.empty)}}},te=function(e,t){return ne(e,(function(e,r,n){return t(r,n)}))},re=function(e){var t=ee(e);return function(e){return t((function(t,r){return e(r)}))}},ne=function(e,t){return function(r){for(var n=r.length,a=e,i=0;i<n;i++)a=t(i,a,r[i]);return a}},ae=function(e,t){return ie(e,(function(e,r,n){return t(r,n)}))},ie=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},se=function(e){return function(t){return B(t,e.of(N()),(function(t,r){return e.ap(e.map(t,(function(e){return function(t){return(0,a.zG)(e,h(t))}})),r)}))}},oe="ReadonlyArray",ce=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},ue=function(){return{concat:function(e,t){return p(e)?t:p(t)?e:e.concat(t)}}},le=function(){return{concat:ue().concat,empty:_e}},de=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},fe=function(e){return(0,c.Zt)((function(t,r){for(var n=t.length,a=r.length,i=Math.min(n,a),s=0;s<i;s++){var c=e.compare(t[s],r[s]);if(0!==c)return c}return o.Df.compare(n,a)}))},pe={URI:oe,map:j},me=(0,i.OV)(pe),ge={URI:oe,of:L},he={URI:oe,zero:N},be=(0,d.l)(he,ge),ve=function(e){return function(t){for(var r=f([],e(t),!0),n=[];r.length>0;){var a=r.shift();s.nM(a)?r.unshift.apply(r,e(a.left)):n.push(a.right)}return n}},ye=function(e){return function(t){var r=e(t),n=[],a=[];function i(t){s.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):a.push(t.right)}for(var o=0,c=r;o<c.length;o++){i(c[o])}for(;n.length>0;)i(n.shift());return a}},we=(u.oo,function(e){return p(e)?_e:e.slice()}),_e=u.cS;function ke(e){return function(t){return t.every(e)}}var Se=function(e){return function(t){return t.some(e)}},Ie=function(e){var t=u.j0(e);return function(r){return v((function(){return e.empty}),t(r))}},ze=(s.F4,(0,i.Hr)(pe));u.w6,u.QI,u.Ss},350:(e,t,r)=>{r.d(t,{Ce:()=>f,Eh:()=>D,Fp:()=>F,Im:()=>p,Lx:()=>G,OE:()=>U,Od:()=>u,QI:()=>$,R3:()=>m,Ss:()=>H,UI:()=>z,VV:()=>R,YM:()=>A,Z$:()=>j,ZN:()=>O,aL:()=>N,c2:()=>b,cS:()=>c,dC:()=>l,iw:()=>P,j0:()=>Q,jj:()=>h,lx:()=>S,nq:()=>E,of:()=>I,oo:()=>g,pO:()=>k,u4:()=>q,ur:()=>L,ut:()=>Y,w6:()=>y,ws:()=>d,xP:()=>C});var n=r(191),a=r(275),i=(r(560),r(963)),s=r(199),o=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},c=i.Xl,u=i.Od,l=function(e,t){return e<0||e>=t.length},d=function(e){return function(t){return o([e],t,!0)}},f=d,p=function(e){return function(t){return o(o([],t,!0),[e],!1)}},m=p,g=function(e,t,r){if(u(r)){var n=i.r1(r);return n.splice(e,0,t),n}return[t]},h=function(e){return function(t){if(1===t.length)return t;for(var r=[A(t)],n=function(t){r.every((function(r){return!e.equals(r,t)}))&&r.push(t)},a=0,i=M(t);a<i.length;a++){n(i[a])}return r}},b=function(e){return u(e)?i.G(e):i.YP},v=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],a=1;a<r;a++)n.push(e(a));return n}},y=function(e,t){return e<=t?v((function(t){return e+t}))(t-e+1):[e]};function w(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var _=function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},k=function(e){return function(t){for(var r=e(t),n=[r[0]],a=r[1];u(a);){var i=e(a),s=i[0],o=i[1];n.push(s),a=o}return n}},S=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[t,c]:[(0,a.zG)(t.slice(1,r),f(A(t))),t.slice(r)]}},I=i.ri,z=function(e){return x((function(t,r){return e(r)}))},x=function(e){return function(t){for(var r=[e(0,A(t))],n=1;n<t.length;n++)r.push(e(n,t[n]));return r}},q=function(e,t){return U(e,(function(e,r,n){return t(r,n)}))},G=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n){return e.concat(r,t(n))}),t(r[0]))}}},E=function(e,t){return P(e,(function(e,r,n){return t(r,n)}))},U=function(e,t){return function(r){return r.reduce((function(e,r,n){return t(n,e,r)}),e)}},C=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n,a){return e.concat(r,t(a+1,n))}),t(0,r[0]))}}},P=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},T=i.YM,O=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},D=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},A=(i.F4,T),M=i.Gb,j=function(e){return e[e.length-1]},B=function(e){return e.slice(0,-1)},R=function(e){var t=s.VV(e);return function(e){return e.reduce(t.concat)}},F=function(e){var t=s.Fp(e);return function(e){return e.reduce(t.concat)}},L=function(e){return function(t){return t.reduce(e.concat)}},N=function(e){return function(t){return e(A(t),M(t))}},Y=function(e){return function(t){return e(B(t),j(t))}},Q=function(e){var t=L(e);return function(e){return(0,a.ls)(function(e){return function(t){var r=M(t);return u(r)?(0,a.zG)(r,_(e),f(A(t))):t}}(e),t)}};function $(e,t){return void 0===t?f(e):(0,a.zG)(t,f(e))}var H=function(e,t){return(0,a.zG)(e,w([t]))}},54:(e,t,r)=>{r.d(t,{Bu:()=>b,CC:()=>B,DZ:()=>re,EG:()=>h,EW:()=>$,Eh:()=>de,G:()=>O,HA:()=>A,Hd:()=>G,I8:()=>F,P5:()=>v,RF:()=>R,RJ:()=>N,SW:()=>V,Su:()=>w,UI:()=>_,Ub:()=>W,V_:()=>Q,XP:()=>d,Yz:()=>C,_Y:()=>Y,_r:()=>q,cS:()=>y,dp:()=>c,dx:()=>m,e$:()=>g,hX:()=>te,jt:()=>E,kp:()=>j,mK:()=>Z,mS:()=>L,nn:()=>M,nr:()=>pe,nu:()=>H,oA:()=>ce,oh:()=>ue,qS:()=>J,ri:()=>z,sq:()=>P,t9:()=>D,tV:()=>ae,uK:()=>ne,uZ:()=>fe,vA:()=>X,vP:()=>x,xb:()=>u,yW:()=>T,z7:()=>U,zV:()=>K});var n=r(191),a=r(275),i=r(963),s=r(219),o=r(29),c=(r(511),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(i.e$.call(e,t))return!1;return!0},l=function(e){return function(t){return Object.keys(t).sort(e.compare)}},d=l(o.Df);function f(e){if("function"==typeof e)return f(o.Df)(e);var t=l(e);return function(e){return function(r){for(var n=[],a=0,i=t(r);a<i.length;a++){var s=i[a];n.push(e(s,r[s]))}return n}}}var p=f(o.Df)((function(e,t){return[e,t]}));var m=function(e,t){return function(r){if(i.e$.call(r,e)&&r[e]===t)return r;var n=Object.assign({},r);return n[e]=t,n}},g=function(e,t){return i.e$.call(t,e)};function h(e){return function(t){if(!i.e$.call(t,e))return t;var r=Object.assign({},t);return delete r[e],r}}function b(e){return function(t,r){if(void 0===r){var n=b(e);return function(e){return n(e,t)}}for(var a in t)if(!i.e$.call(r,a)||!e.equals(t[a],r[a]))return!1;return!0}}function v(e,t){return void 0===t?function(t){return v(e,t)}:i.e$.call(t,e)?i.G(t[e]):i.YP}var y={};function w(e){return function(t){var r={};for(var n in t)i.e$.call(t,n)&&(r[n]=e(n,t[n]));return r}}function _(e){return w((function(t,r){return e(r)}))}function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return k(o.Df).apply(void 0,e);var r=l(e[0]);return function(e,t){return function(n){for(var a=e,i=r(n),s=i.length,o=0;o<s;o++){var c=i[o];a=t(c,a,n[c])}return a}}}function S(e){if("compare"in e){var t=l(e);return function(e){return function(r){return function(n){for(var a=e.empty,i=t(n),s=i.length,o=0;o<s;o++){var c=i[o];a=e.concat(a,r(c,n[c]))}return a}}}}return S(o.Df)(e)}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return I(o.Df).apply(void 0,e);var r=l(e[0]);return function(e,t){return function(n){for(var a=e,i=r(n),s=i.length-1;s>=0;s--){var o=i[s];a=t(o,n[o],a)}return a}}}var z=function(e,t){var r;return(r={})[e]=t,r};function x(e){return Z(o.Df)(e)}function q(e){return function(t){var r={},n={};for(var a in t)if(i.e$.call(t,a)){var o=e(a,t[a]);switch(o._tag){case"Left":r[a]=o.left;break;case"Right":n[a]=o.right}}return(0,s.s4)(r,n)}}function G(e){return function(t){var r={},n={};for(var a in t)if(i.e$.call(t,a)){var o=t[a];e(a,o)?n[a]=o:r[a]=o}return(0,s.s4)(r,n)}}function E(e){return function(t){var r={};for(var n in t)if(i.e$.call(t,n)){var a=e(n,t[n]);i.pC(a)&&(r[n]=a.value)}return r}}function U(e){return function(t){var r={},n=!1;for(var a in t)if(i.e$.call(t,a)){var s=t[a];e(a,s)?r[a]=s:n=!0}return n?r:t}}var C=p,P=function(e){for(var t={},r=0,n=e;r<n.length;r++){var a=n[r];t[a[0]]=a[1]}return t};function T(e){return function(t){for(var r in t)if(!e(t[r]))return!1;return!0}}function O(e){return function(t){for(var r in t)if(e(t[r]))return!0;return!1}}function D(e){return function(t,r){if(void 0===r){var n=D(e);return function(e){return n(t,e)}}for(var a in r)if(e.equals(r[a],t))return!0;return!1}}var A=function(e,t){return(0,a.zG)(e,_(t))},M=function(e,t){return(0,a.zG)(e,w(t))},j=function(e){var t=ie(e);return function(e,r,n){return(0,a.zG)(e,t(r,n))}},B=function(e){return function(t){var r=se(e)(t);return function(e,t){return(0,a.zG)(e,r(t))}}},R=function(e){var t=oe(e);return function(e,r,n){return(0,a.zG)(e,t(r,n))}},F=function(e,t){return(0,a.zG)(e,te(t))},L=function(e,t){return(0,a.zG)(e,re(t))},N=function(e,t){return(0,a.zG)(e,ne(t))},Y=function(e,t){return(0,a.zG)(e,ae(t))},Q=function(e){var t=k(e);return function(e,r,n){return(0,a.zG)(e,t(r,n))}},$=function(e){var t=S(e);return function(e){var r=t(e);return function(e,t){return(0,a.zG)(e,r(t))}}},H=function(e){var t=I(e);return function(e,r,n){return(0,a.zG)(e,t(r,n))}},V=function(e,t){return(0,a.zG)(e,q(t))},K=function(e,t){return(0,a.zG)(e,G(t))},W=function(e,t){return(0,a.zG)(e,E(t))},X=function(e,t){return(0,a.zG)(e,U(t))},J=function(e){var t=ee(e);return function(e){var r=t(e);return function(e,t){return r(e,(0,a.ls)(a.SK,t))}}},Z=function(e){var t=J(e);return function(e){var r=t(e);return function(e){return r(e,a.yR)}}},ee=function(e){return function(t){var r=l(e);return function(e,n){var a=r(e);if(0===a.length)return t.of(y);for(var i=t.of({}),s=function(r){i=t.ap(t.map(i,(function(e){return function(t){var n;return Object.assign({},e,((n={})[r]=t,n))}})),n(r,e[r]))},o=0,c=a;o<c.length;o++){s(c[o])}return i}}},te=function(e){return U((function(t,r){return e(r)}))},re=function(e){return E((function(t,r){return e(r)}))},ne=function(e){return G((function(t,r){return e(r)}))},ae=function(e){return q((function(t,r){return e(r)}))};function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=k(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return ie(o.Df).apply(void 0,e)}function se(e){if("compare"in e){var t=S(e);return function(e){var r=t(e);return function(e){return r((function(t,r){return e(r)}))}}}return se(o.Df)(e)}function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=I(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return oe(o.Df).apply(void 0,e)}var ce=function(e){var t={};for(var r in e)if(i.e$.call(e,r)){var n=e[r];i.pC(n)&&(t[r]=n.value)}return t},ue=function(e){var t={},r={};for(var n in e)if(i.e$.call(e,n)){var a=e[n];i.nM(a)?t[n]=a.left:r[n]=a.right}return(0,s.s4)(t,r)},le="ReadonlyRecord";function de(e){var t=b(e);return(0,n.f7)((function(e,r){return t(e)(r)&&t(r)(e)}))}function fe(e){return{concat:function(t,r){if(u(t))return r;if(u(r))return t;var n=Object.assign({},t);for(var a in r)i.e$.call(r,a)&&(n[a]=i.e$.call(t,a)?e.concat(t[a],r[a]):r[a]);return n},empty:y}}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df;function pe(e,t){return i.e$.call(void 0===t?this:t,e)}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df},495:(e,t,r)=>{r.d(t,{H5:()=>o,Kl:()=>c,Lx:()=>l,Pd:()=>i,Yg:()=>a,li:()=>n,nq:()=>d,pL:()=>s,u4:()=>u});r(275);function n(e){return e[0]}function a(e){return e[1]}var i=function(e,t){return function(r){return[t(n(r)),e(a(r))]}},s=function(e){return function(t){return[e(n(t)),a(t)]}},o=function(e){return function(t){return[n(t),e(a(t))]}},c=n,u=function(e,t){return function(r){return t(e,n(r))}},l=function(){return function(e){return function(t){return e(n(t))}}},d=function(e,t){return function(r){return t(n(r),e)}}},199:(e,t,r)=>{r.d(t,{Z$:()=>u,Fp:()=>o,VV:()=>s,n_:()=>c});var n,a=r(963),i=r(812),s=function(e){return{concat:i.VV(e)}},o=function(e){return{concat:i.Fp(e)}},c=function(e){return{concat:function(t,r){var n={};for(var i in e)a.e$.call(e,i)&&(n[i]=e[i].concat(t[i],r[i]));return n}}},u=function(){return{concat:function(e,t){return t}}};n=void 0},219:(e,t,r)=>{r.d(t,{F2:()=>s,Vn:()=>a,s4:()=>n});r(275);var n=function(e,t){return{left:e,right:t}},a=function(e){return function(t){return n(e(i(t)),s(t))}},i=function(e){return e.left},s=function(e){return e.right}},940:(e,t,r)=>{r.d(t,{At:()=>z,Do:()=>x,Hi:()=>y,Hr:()=>G,PM:()=>v,UA:()=>k,UI:()=>f,YO:()=>q,ak:()=>E,ap:()=>p,dO:()=>b,mU:()=>S,of:()=>m,pE:()=>O,qA:()=>w,qo:()=>_,tD:()=>c,tS:()=>g,uU:()=>T});var n=r(543),a=r(395),i=r(275),s=r(560),o=r(963),c=function(e){return function(){return Promise.resolve().then(e)}};var u=function(e,t){return(0,i.zG)(e,f(t))},l=function(e,t){return(0,i.zG)(e,p(t))},d=function(e,t){return(0,i.zG)(e,g(t))},f=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},p=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},m=function(e){return function(){return Promise.resolve(e)}},g=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},h="Task";var b={URI:h,map:u},v={URI:h,of:m},y={URI:h,map:u,ap:l},w={URI:h,map:u,ap:l,of:m},_={URI:h,map:u,ap:l,chain:d},k={URI:h,map:u,of:m,ap:l,chain:d},S=(i.yR,(0,n.m)(_)),I={URI:h,fromIO:c},z=(0,a.At)(I,_),x=m(o.F4),q=(0,s.YO)(b),G=(0,s.Hr)(b),E=(0,n.a)(_),U=m(o.Xl),C=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,r){return Promise.resolve().then((function(){return e(r,t)()}))})))}}}(e);return function(e){return o.Od(e)?t(e):U}},P=function(e){var t=function(e){return function(t){return function(){return o.Gb(t).reduce((function(t,r,n){return t.then((function(t){return Promise.resolve().then(e(n+1,r)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,o.YM(t))).then(o.ri))}}}(e);return function(e){return o.Od(e)?t(e):U}},T=function(e){return C((function(t,r){return e(r)}))},O=function(e){return P((function(t,r){return e(r)}))}},716:(e,t,r)=>{r.d(t,{At:()=>te,DT:()=>J,EQ:()=>z,F2:()=>h,Hi:()=>V,Hr:()=>ie,Ij:()=>ce,LV:()=>x,OV:()=>H,Op:()=>w,QM:()=>b,Qt:()=>oe,UI:()=>A,Vn:()=>j,Y3:()=>G,YO:()=>ae,Zl:()=>F,ak:()=>se,dk:()=>y,fF:()=>k,fS:()=>q,fX:()=>X,fj:()=>I,it:()=>E,lk:()=>v,oU:()=>ee,of:()=>N,t$:()=>g,tD:()=>_,tS:()=>R,wE:()=>ne,wp:()=>L});var n=r(925),a=r(543),i=r(890),s=r(162),o=r(395),c=r(272),u=r(275),l=r(560),d=r(963),f=r(940),p=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},m=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},g=i.t$(f.PM),h=i.F2(f.PM),b=i.m8(f.dO),v=i.pk(f.dO),y=(0,u.ls)(f.tD,b),w=(0,u.ls)(f.tD,v),_=y,k=b,S=f.of,I=f.tD,z=i.EQ(f.dO),x=i.LV(f.UA),q=i.fS(f.UA),G=function(e,t){return function(){return p(void 0,void 0,void 0,(function(){var r;return m(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(d.F2)];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,d.t$(t(r))];case 3:return[2]}}))}))}},E=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G((function(){return e.apply(void 0,r)}),t)}},U=(f.dO,f.PM,f.PM,f.UA,f.UA,f.UA,f.UA,f.dO,function(e,t){return(0,u.zG)(e,A(t))}),C=function(e,t){return(0,u.zG)(e,B(t))},P=function(e,t){return(0,u.zG)(e,R(t))},T=function(e,t,r){return(0,u.zG)(e,M(t,r))},O=function(e,t){return(0,u.zG)(e,j(t))},D=function(e,t){return(0,u.zG)(e,L(t))},A=i.UI(f.dO),M=i.Pd(f.dO),j=i.Vn(f.dO),B=i.ap(f.Hi),R=i.tS(f.UA),F=R,L=i.wp(f.UA),N=h,Y=g,Q="TaskEither";var $={URI:Q,map:U},H=(0,l.OV)($),V={URI:Q,map:U,ap:C},K={URI:Q,map:U,ap:C,chain:P},W={URI:Q,fromEither:S},X=(0,s.fX)(W,K),J=(0,s.DT)(W),Z={URI:Q,fromIO:_},ee=(0,o.oU)(Z,K),te=(0,o.At)(Z,K),re={URI:Q,fromIO:_,fromTask:k},ne=(0,c.oU)(re,K);d.F4;var ae=(0,l.YO)($),ie=(0,l.Hr)($),se=(0,a.a)(K),oe=(0,n.Qt)(V),ce=(d.Xl,{URI:Q,bimap:T,mapLeft:O,map:U,of:N,ap:C,chain:P,alt:D,fromIO:_,fromTask:k,throwError:Y})},936:(e,t,r)=>{r.d(t,{H5:()=>s,Yg:()=>i,li:()=>a});var n=r(495),a=(r(275),n.li),i=n.Yg;var s=function(e){return function(t){return[a(t),e(i(t))]}};n.Kl,n.Lx,n.u4,n.nq},511:(e,t,r)=>{function n(e,t){return function(r){var n=e.traverse(r);return function(e,a){return r.map(n(e,a),t.separate)}}}function a(e,t){return function(r){var n=e.traverse(r);return function(e,a){return r.map(n(e,a),t.compact)}}}r.d(t,{BL:()=>a,Fj:()=>n})},957:(e,t,r)=>{function n(e,t){return function(r){return r?t.of(void 0):e.zero()}}r.d(t,{l:()=>n})},275:(e,t,r)=>{r.d(t,{MZ:()=>i,Q1:()=>l,SK:()=>m,W8:()=>o,a9:()=>s,bc:()=>f,gn:()=>c,ls:()=>d,nn:()=>n,r5:()=>u,yR:()=>a,zG:()=>p});var n=function(e){return function(t){return t(e)}};function a(e){return e}var i=a;function s(e){return function(){return e}}var o=s(!0),c=s(null),u=s(void 0),l=u;function d(e,t,r,n,a,i,s,o,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return a(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(i(a(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(i(a(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(o(s(i(a(n(r(t(e.apply(this,arguments)))))))))}}}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function p(e,t,r,n,a,i,s,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return a(n(r(t(e))));case 6:return i(a(n(r(t(e)))));case 7:return s(i(a(n(r(t(e))))));case 8:return o(s(i(a(n(r(t(e)))))));case 9:return c(o(s(i(a(n(r(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var m=function(e,t){return t}},963:(e,t,r)=>{r.d(t,{F2:()=>d,F4:()=>b,G:()=>o,Gb:()=>g,Od:()=>p,Wi:()=>a,Xl:()=>h,YM:()=>m,YP:()=>s,e$:()=>v,nM:()=>c,pC:()=>i,r1:()=>y,ri:()=>f,t$:()=>l,tO:()=>u});var n=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},a=function(e){return"None"===e._tag},i=function(e){return"Some"===e._tag},s={_tag:"None"},o=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},f=function(e){return[e]},p=function(e){return e.length>0},m=function(e){return e[0]},g=function(e){return e.slice(1)},h=[],b={},v=Object.prototype.hasOwnProperty,y=function(e){return n([e[0]],e.slice(1),!0)}},627:(e,t,r)=>{r.d(t,{Df:()=>a,Eq:()=>n,Pc:()=>s});var n={equals:function(e,t){return e===t}},a={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},i=(n.equals,a.compare,{concat:function(e,t){return e+t}}),s={concat:i.concat,empty:0}},29:(e,t,r)=>{r.d(t,{Df:()=>a,Eq:()=>n,HD:()=>i,xb:()=>s});var n={equals:function(e,t){return e===t}},a={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},i=function(e){return"string"==typeof e},s=function(e){return 0===e.length}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(172),t=__webpack_require__(846),r=__webpack_require__(275),n=__webpack_require__(593),a=__webpack_require__(492),i=__webpack_require__(583),s=__webpack_require__(704),o=__webpack_require__(716);function c(e,n){return(0,r.zG)(o.Y3((()=>e.get(n)),(e=>`Failed to read previous state from IndexedDB: ${e}.`)),o.UI((e=>e??void 0)),o.UI((a=>i=>(0,r.ls)((0,s.rO)({previousState:()=>a}),i,(i=>{let{value:o,state:c}=i;const[u,l]=t.Ue(!1),d=(0,r.zG)(c,t.Rp(-1,(e=>e+1)));return{value:(0,r.bc)(u,o),state:(0,r.zG)(t.vP(c,d),(0,s.bw)(t.YP((t=>{let[r,i]=t;if(0!==i||r!==a)switch(l(!1),typeof r){case"undefined":e.delete(n).then((()=>l(!0)));break;case"object":null===r?e.delete(n).then((()=>l(!0))):e.put(r,n).then((()=>l(!0)));break;default:e.put(r,n).then((()=>l(!0)))}}))))}})))))}function u(e){return n=>(0,r.ls)((0,s.rO)({previousState:t=>e.current?t:void 0}),n,(0,s.rO)({state:(0,r.ls)((r=>t.vP(e,r)),t.UI((e=>{let[t,r]=e;return t?r:void 0})))}))}var l=__webpack_require__(385);class d extends Error{static errorName="NetworkRequestFailedError";name=d.errorName;constructor(){super(d.defaultMessage)}static get defaultMessage(){return"Network request failed"}}class f extends Error{static errorName="NetworkRequestTimeoutError";name=f.errorName;constructor(){super(f.defaultMessage)}static get defaultMessage(){return"Network request timed out"}}var p=__webpack_require__(963),m=function(e){return"Left"===e._tag},g=function(e){return"Right"===e._tag};function h(e){return{_tag:"Left",left:e}}function b(e){return{_tag:"Right",right:e}}function v(e,t){return{_tag:"Both",left:e,right:t}}var y=function(e,t,r){return function(n){switch(n._tag){case"Left":return e(n.left);case"Right":return t(n.right);case"Both":return r(n.left,n.right)}}},w=y;w(b,h,(function(e,t){return v(t,e)}));var _=b,k="These";r.yR,r.yR,p.Xl;class S{metrics;constructor(e){this.metrics=e}req(e){return this.reqImpl(e).then((e=>(0,r.MZ)(e)))}reqWithBeacon(e){var t,r;let{url:n,payload:a}=e;const i=JSON.stringify(a),s=(null===(t=navigator)||void 0===t||null===(r=t.sendBeacon)||void 0===r?void 0:r.call(t,n,JSON.stringify(a)))??!1;return this.trackRequestMetrics({is_beacon:!0,is_error:!s,request:{method:"POST",url:n,content_length:i.length}}),s}reqImpl(t){const n="arraybuffer",{url:i,dataType:o,contentType:c,method:u,withCredentials:m,timeout:g}=t;return new Promise(((h,y)=>{const w=new XMLHttpRequest,_="POST"===t.method?"string"==typeof(k=t.payload)?k:JSON.stringify(k):null;var k;const S=e=>this.trackRequestMetrics({is_beacon:!1,request:{method:u,url:i,content_length:(null==_?void 0:_.length)??0},response:e});w.onload=(0,e.GL)((()=>{var e,t;return(0,r.zG)(w.status,l.DT((e=>e<400),(()=>{const e="text"===w.responseType||""===w.responseType?w.responseText:"Couldn\'t access response text";return`Failed ajax request. Status code was ${w.status}. ${e}`})),l.tS((()=>"json"===o?w.responseText?l.Y3((()=>JSON.parse(w.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(w.responseText)}. Got ${e}`)):l.F2(null):"text"===o?l.F2(w.responseText):l.F2(w.response))),(0,s.bw)((0,r.ls)(a.IS,(t={content_length:"text"===w.responseType||""===w.responseType?(null===(e=w.responseText)||void 0===e?void 0:e.length)??0:w.responseType===n?w.response.byteLength:0,response_time_ms:self.performance.now()-I,status_code:w.status},function(e){return p.Wi(e)?b(t):v(e.value,t)}),S)),l.EQ(y,h))})),w.onerror=(0,e.GL)((()=>{S(l.t$("network error")),y(new d)})),w.ontimeout=(0,e.GL)((()=>{S(l.t$("timeout")),y(new f)})),w.open(u,i,!0),c&&w.setRequestHeader("content-type",c),w.timeout=g||w.timeout,w.withCredentials=m||w.withCredentials,w.responseType="binary"===o?n:w.responseType;const I=self.performance.now();w.send(_)}))}trackRequestMetrics(e){var t;if(null===(t=this.metrics)||void 0===t||!t.isEnabled())return;const n=new URL(e.request.url).pathname;if(n.includes("metrics"))return;const i=t=>this.metrics.track({name:"sdk_http_request_count_total",value:1,labels:{request_method:e.request.method,request_path:n,request_content_length:e.request.content_length,...t}});var s;!0===e.is_beacon?i({is_beacon:!0,is_error:e.is_error}):(0,r.zG)((s=e.response,m(s)?p.YP:(g(s),p.G(s.right))),a.aD((()=>({})),(e=>({response_content_length:e.content_length,response_status:e.status_code,response_time_ms:e.response_time_ms}))),(t=>({is_beacon:!1,is_error:!g(e.response),...t})),i)}}class I{config;PATH_JOINER_Q="?";PATH_JOINER_A="&";constructor(e){this.config=e}getBaseUrl(){return`${this.config.apiProtocol}://${this.config.apiHost}`}getEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,r)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,r)}getClassificationModelsEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,r)}getAudienceMatchingEndpointUrl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const a=`${e}/${r}/audiences`;return this.getUrl("audience-matching",a,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,r,n){const i=this.getUrlPrefix(e),s=(0,a.g_)((()=>""),(e=>`/${e}`))(r),o=`${this.getBaseUrl()}${i}${s}${t}`;return this.makeUrlWithQueryParams(o,n.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const r=t.map((e=>{let[t,r]=e;return`${t}=${r}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${r}`}}var z=__webpack_require__(447),x=__webpack_require__(925);class q{sdkInitTimestamp;timeOriginSdkInit;logger;prefix="[Metrics]";timeOriginForContext=U();pendingMetrics=[];pendingCounters={};pendingTimers={};noMetricsTracked=0;constructor(e,t,r){this.sdkInitTimestamp=e,this.timeOriginSdkInit=t,this.logger=r}isEnabled(){return!0}getNoMetricsTracked(){return this.noMetricsTracked}consume(){const e=this.pendingMetrics.concat(Object.values(this.pendingCounters).flat());return this.pendingMetrics=[],this.pendingCounters={},e}track(e){this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackCounter(e){if(this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),e.name in this.pendingCounters){const t=Object.keys(e.labels),r=this.pendingCounters[e.name].findIndex((r=>Object.keys(r.labels).length===t.length&&t.every((t=>r.labels[t]===e.labels[t]))));-1===r?this.pendingCounters[e.name].push(e):this.pendingCounters[e.name][r]=E(this.pendingCounters[e.name][r],e.value)}else this.pendingCounters[e.name]=[e]}synchroniseTimeBetweenContexts(e){return(0,r.zG)(x.gz(a.G5)(this.timeOriginForContext,this.timeOriginSdkInit),a.UI((t=>{let[r,n]=t;return e+r-n})))}trackTimeSinceInit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();(0,r.zG)(this.synchroniseTimeBetweenContexts(n),a.UI((e=>(e-this.sdkInitTimestamp)/1e3)),a.UI((r=>this.track({name:e,value:r,labels:t}))))}startTimer(e,t){const r=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:r,labels:t},n}stopTimer(e,t){const r=this.pendingTimers[t];if(r){const n=(performance.now()-r.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:r.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}}class G{isEnabled(){return!1}getNoMetricsTracked(){return 0}consume(){return[]}track(e){}trackCounter(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}const E=(e,t)=>({...e,value:e.value+t}),U=()=>(0,r.zG)(a.Y3((()=>performance.timeOrigin)),a.hX((e=>"number"==typeof e&&!Number.isNaN(e))));class C{sdkInitTimestamp;prefix="[Permutive]"+(self.document?"[Main]":"[Worker]");debugStyle=["color: blue"].join(";");constructor(e){this.sdkInitTimestamp=e}get timeDeltaFromInit(){return`[${(new Date).getTime()-this.sdkInitTimestamp}ms]`}log(){return console.log.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}debug(){return console.debug.bind(self.console,"%s%c%s",this.timeDeltaFromInit,this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}error(){return console.error.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}}class P{log(){}debug(){}warn(){}error(){}}class T{crypto=self.crypto||self.msCrypto;ALG_NAME="AES-GCM";isAvailable(){var e;return!(null===(e=this.crypto)||void 0===e||!e.subtle)}generateKey(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,e.t_)(this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},t,["encrypt","decrypt"]))}encrypt(e,t){const[r,n]=this._encrypt(e,this.str2bytes(t));return r.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(n,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const r=new Uint8Array(t,0,12),n=new Uint32Array(t,12,1)[0],a=t.slice(16,16+n);return this._decrypt(e,r,a).then(this.bytes2str)}_encrypt(t,r){const n=this.crypto.getRandomValues(new Uint8Array(12));return[(0,e.t_)(this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:n},t,r)),n]}_decrypt(t,r,n){return(0,e.t_)(this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:r},t,n))}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}class O{config;constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}var D=__webpack_require__(940),A=__webpack_require__(444),M=__webpack_require__(54),j=__webpack_require__(491),B=__webpack_require__(350);var R=__webpack_require__(865),F=__webpack_require__(346);class L{timeoutDurationInMilliseconds;maxTimeOutDurationInMilliseconds;constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,r)}scheduleAccumulated(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,r,n,t)}scheduleForPageUnload(e){return(0,s.aT)(e)}debounce(t,r,n,a){let i,o,c,u=[];return l=>{a&&(c=a.concat(c??a.empty,l));const d=(0,s.b2)();u.push(d);var f;return null===(f=i)||void 0===f||f(),i=(0,e.HJ)((()=>{var e;null===(e=o)||void 0===e||e(),o=void 0;const r=t(c||l);u.forEach((e=>e.resolve(r))),c=null==a?void 0:a.empty,u=[]}),r),o||(o=(0,e.HJ)((()=>{var e;null===(e=i)||void 0===e||e(),o=void 0;const r=t(c||l);u.forEach((e=>e.resolve(r))),c=null==a?void 0:a.empty,u=[]}),n)),d.promise}}}class N extends Error{constructor(e){super(e),this.name="StoreClosingError"}}const Y="permutive-events-cache",Q="permutive-events-for-page",$="[EVENTSCACHE]",H=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class V{config;logger;reportError;trace;metrics;userId;makeEventsStore;eventStore;eventsCache=this.makeEventsRepository(Y);eventsForPage=this.makeEventsRepository(Q);eventsTTLInMilliseconds;readiness;debouncedReportError=(()=>new L(5e3,5e3).schedule((e=>this.reportError(e.errorMessage,{userId:e.userId}))))();static initialise(e,t,n,a,i,s,c){return(0,r.zG)(c(),o.UI((r=>new V(e,t,n,a,i,s,c,r))))}constructor(e,t,n,i,o,c,u,l){this.config=e,this.logger=t,this.reportError=n,this.trace=i,this.metrics=o,this.userId=c,this.makeEventsStore=u,this.eventStore=l,this.eventsTTLInMilliseconds=(0,r.zG)((0,a.ij)(this.config.eventsTTLInDays),(0,a.tS)((e=>"number"==typeof e&&e>0?(0,a.G)(24*e*3600):a.YP))),this.eventsCache.events=(0,s.HP)((()=>(0,s.PQ)((0,r.zG)(D.tD((()=>this.trace.startSpan("load_event_cache"))),D.tS((e=>(0,r.zG)(this.loadFromDisk(),D.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents())),c.onChange((()=>this.reset()))}async migratePreviousPagesEvents(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,D.pE)((e=>(0,o.Y3)((()=>e.flush()),R.w)));return(0,r.zG)([this.eventsForPage,this.eventsCache],t,(0,D.UI)((t=>{const r=i.bj(t);return r.length>0&&this.reportError(`Migrate previous events failed. Got:\\n${r.join("\\n ")}`,{userId:this.userId.current}),e.finish()})),(e=>e()))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(i.xH)}async add(e,t){let{persistOnDisk:n}=t;return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,r.zG)(this.eventsForPage.events,D.UI((t=>[...t,e])),s.HP),n&&this.readiness.then((()=>this.eventsForPage.flush())),e}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(r<=0||t<=r)return this.logDebug(`Event size of ${t} less than limit of ${r}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:r});let n=1,a=[...e];for(;t>r;)a.splice(0,n),n*=2,t=2*JSON.stringify(a).length;return this.logDebug("Events after pruning",{count:a.length,sizeInBytes:t}),{events:a,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,r.zG)(this.eventsTTLInMilliseconds,a.EQ((()=>r.yR),(e=>i.hX((t=>e>Date.now()-t.time.getTime())))));return(0,r.zG)(D.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),D.YO("loadEventsCacheTask"),D.ak("eventsFromDisk",(()=>(0,r.zG)(i.nI([this.eventStore.get(Y),this.eventStore.get(Q)]),i.UI(o.LV((0,s.lo)([[e=>e instanceof N,(0,r.ls)(e,D.of)],t=>(0,r.zG)(D.tD((()=>this.reportError(`Error fetching data from store. Got ${t}`,{userId:this.userId.current}))),D.tS((()=>()=>this.reset("historical"))),D.UI(e))]),(0,r.ls)(a.fS(e),D.of))),i.vP(D.qA)))),D.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:r}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",r)}})),D.UI((0,r.ls)((0,s.vg)("eventsFromDisk"),i.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),i.UI(F.k),t)))}async reset(e){return(0,r.zG)(D.tD((()=>this.logDebug("Resetting Events Cache"))),D.tS((()=>this.eventStore.deleteStore())),o.tS((()=>this.makeEventsStore())),o.Zl((t=>(this.eventStore=t,"historical"===e?x.gz(o.Ij)(this.eventsCache.reset,this.eventsForPage.flush):x.gz(o.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),o.wE((()=>()=>this.all())),o.fS((()=>D.of(K()))),(e=>e()))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(l.F2((0,r.Q1)()));return t=>e=e.then(t)})(),n=e=>(0,r.zG)(D.tD((()=>this.logDebug(`Writing ${e.length} events to ${m.key}`))),D.tS((()=>this.eventStore.put(e.map(F.X),m.key))),o.UI(r.Q1)),a=(0,r.zG)(D.tD((()=>this.logDebug(`Deleting events for ${m.key}`))),D.tS((()=>this.eventStore.delete(m.key))),o.Vn(R.w)),i=(0,r.ls)(D.of,D.At((e=>()=>this.logError(`Events cache failed to put ${m.key}. Got ${e}`))),D.tS((0,s.lo)([[e=>H(e)&&m.retryAttempts<9,()=>(0,r.zG)(D.tD((()=>{m.retryAttempts+=1,this.logDebug(`Attempt #${m.retryAttempts} to write ${m.key} to EventsStore`)})),D.tS((()=>p)),D.tS((()=>u)))],[e=>H(e),e=>(0,r.zG)(D.tD((()=>this.logDebug(`Attempted ${m.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),D.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${m.key}. Got ${e}`,userId:this.userId.current}))),D.tS((()=>o.t$(e))))],o.t$]))),c=e=>o.tD((()=>{this.logDebug(`Successfully wrote events for ${m.key} after ${m.retryAttempts} attempts`),m.retryAttempts=0,m.sizeInBytes=2*JSON.stringify(e).length,m.sizeInBytesLastSuccessfulWrite=m.sizeInBytes})),u=(0,r.zG)((()=>m.events()),D.tS((e=>(0,r.zG)(n(e),D.mU(l.EQ(i,(()=>c(e)))))))),d=(e,t)=>(0,r.zG)(e.events,D.UI((r=>{const n=2*JSON.stringify(r).length,a=this.pruneEventsToSizeLimit(r,n,t);return e.events=D.of(a.events),e.sizeInBytes=a.sizeInBytes,t-e.sizeInBytes}))),f=(e,t)=>{let[n,...a]=e;return n&&0!==t?(0,r.zG)(d(n,t),D.tS((e=>(this.logDebug(`${e} left after pruning ${n.key}`),f(a,e))))):D.of((0,r.Q1)())},p=(0,r.zG)(o.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),o.fX(l.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),o.tS((e=>{const t=1.2*e,n=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,n),(0,r.zG)(f(n,t),o.fF)}))),m={key:e,events:D.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,r.zG)(D.tD((()=>this.trace.startSpan(`write_${m.key}`))),D.tS((e=>(0,r.zG)(u,D.At((()=>()=>e.finish()))))),t),reset:()=>(0,r.zG)(D.tD((()=>{m.events=D.of([]),m.sizeInBytes=0,m.sizeInBytesLastSuccessfulWrite=0})),D.tS((()=>a)),t)};return m}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug($,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.warn($,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error($,...t)}logLog(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log($,...t)}}const K=()=>[],W=`permutive.${self.document?"main":"worker"}.`;class X{config;shouldUsePerformanceMark=!1;constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=((null===(t=self.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled)??!1}startSpan(e){const t=this.generateSpan(e);return t.start(),{spanId:t.spanId,finish:t.finish}}measureSinceInit(t){const r=this.generateSpan(`${t}_since_init`);return r.start({startTime:e.NC}),{spanId:r.spanId,finish:r.finish}}traceTask(e){return t=>async()=>{const r=this.startSpan(e),n=await t();return r.finish(),n}}measureBetween(e,t,r){const n=this.generateSpan(e);n.start({startTime:t}),n.finish({startTime:r})}generateSpan(e){if(!this.shouldUsePerformanceMark)return{spanId:null,start:()=>{},finish:()=>{}};const{spanName:t,startMarkerName:r,endMarkerName:n}=X.generateUniqueMarkerNames(e);return{spanId:r,start:e=>{var t;return null===(t=self.performance)||void 0===t?void 0:t.mark(r,e)},finish:e=>{var a,i,s;null===(a=self.performance)||void 0===a||a.mark(n,{startTime:(null==e?void 0:e.startTime)??performance.now()}),null===(i=self.performance)||void 0===i||null===(s=i.measure)||void 0===s||s.call(i,t,r,n)}}}static generateUniqueMarkerNames(e){const t=`${W}${e}`,r=`${t}${X.generateId()}`;return{spanName:t,startMarkerName:`${r}_start`,endMarkerName:`${r}_end`}}static generateId(){return"_"+Math.random().toString(36).substr(2,9)}}class J{db;static version=3;static connect(t,n,a,i,s,c,u,l,d,f){return(0,r.zG)(o.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,450))),String),e.N1,o.tS((e=>e.make(t,n,a,i,s,c,u,J.version,l,d,f))),o.UI((e=>new J(Promise.resolve(e)))))}constructor(e){this.db=e}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new N(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,o.Y3)((()=>this.db.then((r=>r.put(e,t)))),(e=>{const t=(0,R.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,o.Y3)((()=>this.db.then((t=>t.get(e))).then(a.ij)),(e=>{const t=(0,R.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,o.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,o.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}const Z=e=>{if(!e)return"";return(0,r.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};class ee{urls;config;network;metricsCollector;logger;webClient;prefix="[API]";constructor(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>a.YP;this.urls=e,this.config=t,this.network=r,this.metricsCollector=n,this.logger=i,this.webClient=s}async reportError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const s=(0,R.w)(e);if(this.logError("Reporting error:\\n",s),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const o=(0,r.zG)(this.webClient,A.UI(a.fS((()=>{var e,t,r,n;return{domain:(null===(e=self.location)||void 0===e?void 0:e.hostname)??"",referrer:"document"in self?null===(t=self.document)||void 0===t?void 0:t.referrer:"",url:(null===(r=self.location)||void 0===r?void 0:r.href)??"",user_agent:(null===(n=navigator)||void 0===n?void 0:n.userAgent)??""}}))),A.UI((e=>{var r,a;const i={error_message:(null==s||null===(r=s.message)||void 0===r?void 0:r.toString())??"",stack_trace:null==s||null===(a=s.stack)||void 0===a?void 0:a.split("\\n")},o=t?{user_id:t}:{};return{platform:"web",sdk_version:"v20.23.4",ql_runtime_version:"v13.1.0",timestamp:n,domain:e.domain,url:Z(e.url),referrer:Z(e.referrer),user_agent:e.user_agent,error_message:i.error_message??String(s),stack_trace:i.stack_trace,...o}}))),c=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",a.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),u=e=>{this.metricsCollector.trackCounter({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};await(0,r.zG)([d,f],i.Ew((e=>s.name===e.errorName||s.message.indexOf(e.errorName)>=0||s.message.indexOf(e.defaultMessage)>=0)),a.g_((()=>{const e=o();return c(e).catch((0,r.ls)(R.w,(e=>this.logError(e))))}),(async e=>u(e.errorName))))}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}var te=__webpack_require__(238);const re=e=>{const t=ne(e.javaScriptInput),{env:r,...n}=(0,te.N)({hash:e.hash,runtimeInput:t});return n},ne=e=>{if(e&&"object"==typeof e)return e;throw new Error("Invalid runtime input specified.")},ae=("undefined"!=typeof globalThis?globalThis:void 0)?.crypto||("undefined"!=typeof global?global:void 0)?.crypto||("undefined"!=typeof window?window:void 0)?.crypto||("undefined"!=typeof self?self:void 0)?.crypto||("undefined"!=typeof frames?frames:void 0)?.[0]?.crypto;let ie;ie=ae?e=>{const t=[];for(let r=0;r<e;r+=4)t.push(ae.getRandomValues(new Uint32Array(1))[0]);return new oe(t,e)}:e=>{const t=[],r=e=>{let t=e,r=987654321;const n=4294967295;return()=>{r=36969*(65535&r)+(r>>16)&n,t=18e3*(65535&t)+(t>>16)&n;let e=(r<<16)+t&n;return e/=4294967296,e+=.5,e*(Math.random()>.5?1:-1)}};for(let n,a=0;a<e;a+=4){const e=r(4294967296*(n||Math.random()));n=987654071*e(),t.push(4294967296*e()|0)}return new oe(t,e)};class se{static create(...e){return new this(...e)}mixIn(e){return Object.assign(this,e)}clone(){const e=new this.constructor;return Object.assign(e,this),e}}class oe extends se{constructor(e=[],t=4*e.length){super();let r=e;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){const e=r.byteLength,t=[];for(let n=0;n<e;n+=1)t[n>>>2]|=r[n]<<24-n%4*8;this.words=t,this.sigBytes=e}else this.words=e,this.sigBytes=t}static random=ie;toString(e=ce){return e.stringify(this)}concat(e){const t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(let e=0;e<a;e+=1){const a=r[e>>>2]>>>24-e%4*8&255;t[n+e>>>2]|=a<<24-(n+e)%4*8}else for(let e=0;e<a;e+=4)t[n+e>>>2]=r[e>>>2];return this.sigBytes+=a,this}clamp(){const{words:e,sigBytes:t}=this;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)}clone(){const e=super.clone.call(this);return e.words=this.words.slice(0),e}}const ce={stringify(e){const{words:t,sigBytes:r}=e,n=[];for(let e=0;e<r;e+=1){const r=t[e>>>2]>>>24-e%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse(e){const t=e.length,r=[];for(let n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new oe(r,t/2)}},ue={stringify(e){const{words:t,sigBytes:r}=e,n=[];for(let e=0;e<r;e+=1){const r=t[e>>>2]>>>24-e%4*8&255;n.push(String.fromCharCode(r))}return n.join("")},parse(e){const t=e.length,r=[];for(let n=0;n<t;n+=1)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new oe(r,t)}},le={stringify(e){try{return decodeURIComponent(escape(ue.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:e=>ue.parse(unescape(encodeURIComponent(e)))};class de extends se{constructor(){super(),this._minBufferSize=0}reset(){this._data=new oe,this._nDataBytes=0}_append(e){let t=e;"string"==typeof t&&(t=le.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(e){let t;const{_data:r,blockSize:n}=this,a=r.words,i=r.sigBytes;let s=i/(4*n);s=e?Math.ceil(s):Math.max((0|s)-this._minBufferSize,0);const o=s*n,c=Math.min(4*o,i);if(o){for(let e=0;e<o;e+=n)this._doProcessBlock(a,e);t=a.splice(0,o),r.sigBytes-=c}return new oe(t,c)}clone(){const e=super.clone.call(this);return e._data=this._data.clone(),e}}class fe extends de{constructor(e){super(),this.blockSize=16,this.cfg=Object.assign(new se,e),this.reset()}static _createHelper(e){return(t,r)=>new e(r).finalize(t)}static _createHmacHelper(e){return(t,r)=>new pe(e,r).finalize(t)}reset(){super.reset.call(this),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e);return this._doFinalize()}}class pe extends se{constructor(e,t){super();const r=new e;this._hasher=r;let n=t;"string"==typeof n&&(n=le.parse(n));const a=r.blockSize,i=4*a;n.sigBytes>i&&(n=r.finalize(t)),n.clamp();const s=n.clone();this._oKey=s;const o=n.clone();this._iKey=o;const c=s.words,u=o.words;for(let e=0;e<a;e+=1)c[e]^=1549556828,u[e]^=909522486;s.sigBytes=i,o.sigBytes=i,this.reset()}reset(){const e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){const t=this._hasher,r=t.finalize(e);t.reset();return t.finalize(this._oKey.clone().concat(r))}}const me=[];class ge extends fe{_doReset(){this._hash=new oe([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(e,t){const r=this._hash.words;let n=r[0],a=r[1],i=r[2],s=r[3],o=r[4];for(let r=0;r<80;r+=1){if(r<16)me[r]=0|e[t+r];else{const e=me[r-3]^me[r-8]^me[r-14]^me[r-16];me[r]=e<<1|e>>>31}let c=(n<<5|n>>>27)+o+me[r];c+=r<20?1518500249+(a&i|~a&s):r<40?1859775393+(a^i^s):r<60?(a&i|a&s|i&s)-1894007588:(a^i^s)-899497514,o=s,s=i,i=a<<30|a>>>2,a=n,n=c}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+o|0}_doFinalize(){const e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const he=fe._createHelper(ge),be=(fe._createHmacHelper(ge),{stringify(e){const{words:t,sigBytes:r}=e,n=this._map;e.clamp();const a=[];for(let e=0;e<r;e+=3){const i=(t[e>>>2]>>>24-e%4*8&255)<<16|(t[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|t[e+2>>>2]>>>24-(e+2)%4*8&255;for(let t=0;t<4&&e+.75*t<r;t+=1)a.push(n.charAt(i>>>6*(3-t)&63))}const i=n.charAt(64);if(i)for(;a.length%4;)a.push(i);return a.join("")},parse(e){let t=e.length;const r=this._map;let n=this._reverseMap;if(!n){this._reverseMap=[],n=this._reverseMap;for(let e=0;e<r.length;e+=1)n[r.charCodeAt(e)]=e}const a=r.charAt(64);if(a){const r=e.indexOf(a);-1!==r&&(t=r)}return((e,t,r)=>{const n=[];let a=0;for(let i=0;i<t;i+=1)if(i%4){const t=r[e.charCodeAt(i-1)]<<i%4*2|r[e.charCodeAt(i)]>>>6-i%4*2;n[a>>>2]|=t<<24-a%4*8,a+=1}return oe.create(n,a)})(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="});const ve=function(e){let t=a.YP;const r=a.fS((()=>{const r=e();return t=a.G(r),r}));return()=>r(t)}((()=>({metadata:{96400:"0c8b70cdb7",100738:"61daf18980",101404:"4f76b41f30",102266:"7ef8370b16",102267:"a4b3c04d4c",102268:"a8e28ef413",102803:"e87a985c74",103010:"06662fcfc8",103011:"5501641d08",103012:"6110efb853",103314:"d962f2cc02",103315:"c8e798f627",103316:"ae205ca242",103329:"e192c84146",103444:"f7bede1207",103579:"5d990c4998",104503:"09a8547973",104665:"54037999af",105536:"e585a3bbf3",105537:"0c7f39741a",105538:"0dd575a535",105539:"fb0164cd1c",105540:"9e85f83c5e",105541:"3f0c78cf0b",105542:"5acb86f557",105543:"f172633e01",105544:"4d99c24a1e",105547:"96e405bbcf",105548:"64e584dddc",105549:"ab6144dcac",105550:"0501880e2b",105553:"cb4b87d0bb",105620:"dc88579955",105688:"068ca2c4ad",105689:"eb0db863d6",105690:"53a58408c0",105691:"f00324a421",105692:"e4683387ca",105693:"6fb5995bb3",105755:"3f7a580e06",105758:"2603b50e55",105759:"bc896d3e13",105825:"18cc1e4e43",105826:"19a1c4df22",105827:"dc7ee27f9d",105829:"d9c4ff4887",105833:"3ceda6700f",105835:"64b98846cd",105982:"91baf4443d",106027:"b4f52300f2",106031:"2dacaa1a9d",106039:"14382e11f6",106041:"a533f6f50b",106055:"4704ba1f86",106056:"6c91bc4feb",106057:"e26669c136",106062:"61c6752ab5",106069:"3ae1d2deda",106070:"428fac19d3",106072:"f5ad4a5277",106073:"deb2f127d0",106074:"cfc3920974",106075:"8175e44679",106083:"a056dab9fe",106086:"3bf18235d4",106087:"045e1f0079",106088:"0177eb6417",106093:"ebefc86f40",106245:"7ed51b2e85",106246:"6557720e51",106253:"4a8b61fb8d",106255:"b746f9fb6f",106256:"1fbcd4d0b1",106257:"649c13f478",106258:"de18a0fa87",106259:"4d6fd0a70c",106261:"e794e162c9",106365:"151e0ab945",106408:"56ff04396e",106411:"ac65488138",106418:"a38f05c80e",106421:"ced2d3e003",106423:"dfe96f1a5a",106437:"29a2db386b",106444:"f51cebc85d",106445:"12571a939b",106449:"7af7e04c86",106652:"d5ae8b2e83",106653:"ef32966c16",106657:"b15ecf8f75",106660:"7ed102111e",106662:"f63b81cd22",106663:"16ccc94a7c",106664:"814f78267b",106669:"dbb12f4d94",106677:"075a499de4",106683:"8db6f94048",106684:"b3b140792a",106685:"05ea4d5951",106686:"8cec232990",106688:"e829d7b1bd",106689:"2ea17037d3",106690:"3795af891f",106691:"5644dfa570",106753:"affc39ff90",106754:"b1de30618d",106755:"1bdd31da82",106757:"0d8a9665fb",106758:"dc9f0563ac",106759:"a71a1be054",106769:"58fa2593dd",106770:"eea80ff204",106771:"219a6d3f70",106772:"8a7b72a01c",106784:"694b3ad4e2",106785:"39a2c7ae81",106786:"1200941f5b",106787:"192e3e184c",106788:"2a2c7c52e6",106789:"9ec1b21f5f",106790:"266a863d20",106791:"511963232c",106792:"026c8878b3",106842:"b573e040e2",106843:"b48aaa3e42",106844:"25fa592f72",106887:"a348fb2866",106888:"f342776386",106889:"4159f75262",106890:"b3af29d14f",106891:"528f02001f",106893:"be6cdbde4b",106894:"8ec3e3aa97",106923:"44d54c6226",106924:"d5cc43c384",106925:"b44448ab77",106939:"4a8c2b3218",106940:"a685422442",106945:"9bd61c678d",106948:"e6f1d92abf",106949:"223c9451b8",106950:"42799d84df",106953:"4d7e3981d8",106954:"f4e364d357",106956:"90e15b4ac1",106966:"85e766e0ad",106979:"7d1ebdf382",107038:"eb11a6fc9f",107041:"c1c8c205b1",107043:"5ea3e48090",107063:"98789d6072",107184:"b86abaed24",107187:"ae6752d999",107188:"f41c941c40",107189:"85388a4f92",107192:"52b7b090be",107195:"0db49daee2",107198:"ab9816b702",107199:"04f0cc23ec",107218:"f3e2780148",107220:"f686e4a224",107221:"f89fafeab8",107231:"e65f8d5707",107233:"092aba3717",107311:"188ff957a5",107312:"a20c2ee54f",107316:"70a5ccd8da",107317:"3ca5ce3abf",107318:"fb239d54b5",107320:"b11b3dd305",107321:"61d88ca5bb",107328:"1cef07f38c",107329:"8bbf4898c4",107330:"1f0fc263a2",107341:"ce6aaffa32",107342:"329571833a",107343:"e674560d94",107346:"ad6177a5f7",107348:"eac0dacf10",107350:"4d2308509d",107351:"bb580d9a51",107352:"310308d61b",107353:"d3be113c6f",107354:"3794dd444e",107359:"1b0b80e96a",107360:"47fe94f4a4",107484:"b8a858f7e1",108994:"730d35b007",108995:"12f5765450",109057:"8b77ec9409",109188:"3bc6646093",109229:"8edf9584ed",109230:"cf865a6fa1",109232:"7cf8aa3c45",109287:"7615e6dcbe",109289:"1502c44737",109290:"5b12a19063",109489:"e18c56d579",109493:"bc553dad2f",109543:"dc22210b6f",109565:"4e9287b82a",109566:"d516d9bd78",110510:"e7a4278d5b",110514:"d62474ecee",110515:"bf8a6a1ae7",110603:"5237d8432c",111761:"8b4d8a6f1c",111792:"974160c160",111793:"6bb45be952",111796:"1fbb579299",111797:"9f2b5918eb",113089:"7baea80075",113092:"ea5ef26cc7",113093:"0d8939b32f",113094:"16638ddd1c",113095:"7f5976945e",113096:"6407908d98",113097:"dc637abbb9",113290:"238e04c87c",113785:"c5f87db4b7",114087:"65a00b75c0",114444:"d31448018f",114684:"76f92611d4",114685:"6eb7c7b72b",114686:"5a3ec4c724",114736:"2576d675ee",114815:"179668afb3",114817:"fb95773066",114820:"174dddd743",114824:"449e8bdbd9",114825:"f0487ec4f1",114827:"1719ff0f7b",114835:"131ffcd4db",115269:"363826b025",115296:"3acbed6a67",115302:"fbe2251a7f",115476:"74721fe50d",116161:"8ab29ee7b9",116162:"af148aec4d",116164:"e546a10450",116165:"4297b98196",116414:"f7d858740b",116417:"77816c0a6d",116419:"ca8209ed4b",116592:"77712fa916",116593:"77f6d85bab",116594:"e2dcda616a",116595:"4aeaa7d047",116596:"223a28d338",116608:"68fe7e6ffb",116612:"f894bbc4b9",116613:"ce66e91019",116615:"d6dfe27589",117045:"b1f6298d44",117065:"00538bbcd9",117115:"9fd922a8f5",117735:"eec56513ff",120698:"4d45448053",120699:"5b68a49157",120700:"dc34d7d08d",120702:"16b82bd85c",120908:"205d8781cf",121178:"0c8379b28b",121179:"7cb29b65a2",121180:"6b7177c45a",121181:"f89e5b7fba",121598:"fc78b4f79d",121599:"22a41a4b9b",121835:"ce6944a590",122065:"083f9bfbf3",122111:"ab8bf5f2ac",122208:"df49e9cba5",122229:"2503cf6679",122231:"a8a4d4bb16",122234:"6420d35548",122240:"b2a1f6db6c",122241:"3892650c79",122242:"66b10efbe9",123550:"e72aad4d70",123551:"9de4195fcc",123552:"a95745ddb4",123553:"5bd5f273fd",123556:"7497c38b32",123557:"5f39ec1426",124045:"a272e810c9",125796:"67d3f29add",125797:"d8dd1d2f39",126030:"2ed280ee56",126195:"617e66c2d3",127249:"e9c1e16c23",127638:"e6ed9958c8",127639:"fcaf3f6611",127640:"da50cf8e7c",127644:"537da4971a",127646:"ec6fe25352",127649:"3d5ff5ae34",127832:"90b6749119",127860:"a4ccbc3280",127861:"539c741989",127862:"25c240280d",127863:"6e319972f5",127864:"fc8fe21d38",127865:"2fee9d86f3",128429:"8691d4358e",128625:"b7436b74bc",130316:"a642c3b891",130317:"c9b965c50a",130318:"5f8be2980a",130926:"2cfae2311d",131317:"d877e559d4",131656:"eb91013451",131674:"304c50ba5c",132036:"702f43c97e",132128:"5c5b798057",132129:"22c1b8e271",133214:"ff5fec442a",133503:"1fac248040",133541:"994dde73e2",133555:"bfe3b81454",133568:"cb70ea4adc",133574:"ae6e1d43ed",134157:"c781e80ea2",135497:"3dff3edff1",135736:"d70dbc76b2",135824:"22dc987fa9",135956:"f960df33f5",136087:"c6921b0022",136211:"158b505485",136598:"c0c5a35719",136665:"0c8c585647",136907:"e33d76db1a",137047:"6916f73b62",138311:"a60e3c509e",139866:"3a7efb2428",139887:"d69c4d2040",141894:"e07e53d660",141981:"96d0373e47",143256:"0cbcaa10a9",144071:"611277b963",144200:"cf4401e7b5",145932:"ba9ae6f5aa",146539:"566e2bd8ce",147061:"4ee74e9c30",147062:"8e69bd56f3",147063:"fd95c23a00",147415:"db8b190598",148013:"fe8b7d072f",148289:"f27f6d483e",148290:"cd4a4d8b51",148291:"fef12e0fef",148331:"8801bcdbcb",148333:"67a54a8c4e",149705:"876dd96ef4",153570:"66d6cc26d2",154089:"e62686f8a8",154473:"bd57f00cbf",155110:"f21890cbc7",155388:"7997d0cc11",155392:"508a82e559",155876:"58a7dd27c9",156062:"fe407c5536",156080:"86876bfcfa",156322:"907091c35f",156455:"dcc8b4c7ed",158599:"b6f0711872",162549:"d94ce7fe6d",162741:"a16687d041",164139:"fd50e152e1",165786:"2fc0fb42a0",165787:"90976400fb",167658:"b0b15c077d",167876:"1e7b29add7",170773:"19000a3e7f",175332:"c31b0fcd7b",175494:"d7e01cdfd3",175536:"9e91dd4061",175670:"360ceadce2",175671:"52e2a5a635",175672:"20fda627da",175673:"2b03e72ba2",175674:"d3c61850e6",175679:"32fc62c555",175708:"edec714265",176014:"47bfe6d36e",176015:"6d4cbf006f",176150:"1339793453",176151:"cca8dea8f1",176245:"13a051292d",176689:"24c0b32ee4",176695:"d2e8b9f182",177149:"967c5e06c6",177150:"864c305db0",177151:"ecd8adc5c9",177152:"df7e733ef4",177154:"85dc206719",177155:"40d17c1621",177156:"56a00a68ad",177157:"1487f8f5de",178017:"61b229bb2a",178104:"d3ddb0caf1",178516:"3f533db3d1",178891:"23fcfa91f8",179540:"e97eb4dd6a",179541:"f0403d8cb2",179637:"6c995b97fb",179980:"65ad48264f",180069:"85721d582a",180312:"8d75cc4f41",180313:"249b9511a7",180314:"193ee4ff3b",180315:"4842b4dd5d",180430:"9713e3e6b4",180694:"4cb730d868",182714:"74c78bc9a3",183159:"b1332f3037",183356:"57678121d3",183389:"3bf09939df",183968:"4f53a6cb9f",183969:"e6b233dd49",183970:"c0e52179da",183971:"9b4a75dd8f",183972:"b68444202d",183984:"310b8ec03b",183987:"72b429fee8",184047:"a7b8160f27",184051:"fdaff55c1a",184068:"e1f2f06eb8",184070:"1b767676b7",184071:"e764e7349d",184072:"fe4de84ad8",184073:"cc9c4c48fc",184074:"b0894cf7d4",184137:"f6b88ef9dd",184138:"6fe923fd64",184144:"6fb706ea53",184145:"3b952c93cf",184534:"cdbd1a6087",184535:"1c373eb304",185183:"798ab14d7e",185449:"9ea747edc5",185523:"1f55ca2dbe",185537:"1bbcd07c8e",185631:"10a58c5701",185849:"c5a94ec23b",185926:"f9fa3ee765",186260:"84720740bc",186261:"91479b2888",186270:"4796595ed1",186271:"ff6f0a644b",186448:"960fda3088",186449:"d17d9341cd",186450:"9c8fd832ed",186451:"49da75536a",186850:"daa570f7df",187095:"b99e401544",187259:"20d9138fae",187352:"d536492598",187372:"5cb896c7d9",187375:"1e3ac94904",187631:"253ed4b54b",187642:"8bcc6ee583",187748:"bb51760234",187749:"32ff154994",187750:"4a46786aca",187901:"ed6a2af31f",187985:"fb0d17351f",188322:"bb5fee94d9",188427:"05173a359e",188792:"0aac52d34f",188906:"3dad76eba2",189628:"512caff360",189970:"89d8f487a0",190017:"8df8d71e4d",190020:"c62a5061bd",190021:"1b15cf3b8b",190022:"fb9982a5b7",190023:"9e93820812",190024:"a0dbff9dec",190025:"84cdac62b8",190026:"ff3bf7aa9d",190299:"04b898f24e",190301:"9788e32a07",190302:"a6dbadc7db",190303:"f389c47ae8",190304:"d53310967a",190305:"fa483236ee",190306:"c21933ec66",190446:"828e940eb0",190448:"73ed42ca1e",190451:"aa79864544",190453:"6ebd082c0e",190463:"eb1db0f207",190574:"903001bbdb",190575:"e99771d229",191764:"64dd1da5b6",192300:"fb430e5ca8",192485:"c6ad879fc2",192486:"e87be3ae15",192487:"21d1cbe260",192490:"b72a6b37de",192493:"c0a3f853ed",192495:"db0ab64717",192496:"65aedc80fb",192498:"2ad7190acd",192499:"01590e31e9",192501:"a65fd0bf0b",192504:"900fd26bf3",192510:"e9bf4c4999",193102:"57aa666b4b",193229:"67e53780b3",193231:"e749a38568",193232:"f8c2141d26",193233:"fa87290474",193234:"d7c931b03a",193235:"2a194da48c",193236:"78bbc1a438",193237:"0759284284",193250:"09af3d94fa",193251:"eb8a2f9e6f",193252:"b5a0061d57",193253:"0f515aa65b",193254:"b51c4a29d0",193255:"3a8119de94",193256:"3c6214f1b7",193260:"c2c9e5df5f",193261:"37796c03c1",193262:"07fd11f58d",193263:"4a4d7ef2eb",193264:"79c45162a2",193265:"24fa3de2be",193266:"81032ce611",193267:"06a545e261",193268:"bbca0d9936",193269:"d085fc0f9e",193288:"eae5a029a7",193289:"27d32253e4",193290:"9354b7654a",193291:"dddb0ef6ca",193292:"68ce5f23c8",193293:"7f55f6f3a8",193294:"9df20e33ab",193295:"e4966b8ca7",193296:"c8169831d7",193297:"6d7ee01e09",193298:"2e32f52302",193299:"2cae72888c",193300:"47cb91e0ec",193301:"ee564b46bd",193302:"6baa4939c2",193303:"1222f357c5",193304:"2b1036d52a",193305:"be65c08e7f",193306:"ae18fab181",193307:"81e122d845",193308:"f52aa4afc8",193309:"183990b27a",193311:"563039c555",193312:"4af7ca9ab1",193314:"72d622b84f",193315:"97dc84e3d5",193316:"2fb1fe940c",193317:"4a04a6e41e",193318:"8d40af0841",193319:"ae1ee74439",193320:"18c1d29179",193321:"a66bdbaffb",193322:"34d30937ff",193323:"8e8e481a70",193324:"8956e50bf4",193365:"eb475dbb92",193914:"f2baefdd9f",196414:"cd9af36e4e",198296:"15c4b1f425",198297:"b153c9276b",198300:"00b6004e1f",198301:"8dd44f65bb",198302:"d26e719023",198909:"fc60b12f43",200660:"d9e9cbc04b",201088:"1608562ffc",201118:"04af152c6f",201821:"c551ba28e3",201822:"f4abdac4a7",202172:"a0c5ceb6be",202173:"5e1832386a",202174:"15fc9c7865",202342:"75fbe081f2",202643:"ef79290693",202680:"be04c7db5b",202683:"7e2753f687",202799:"f480b93491",203010:"77a587b6a5",203011:"35ce054da2",203012:"981292df1e",203013:"70c0b0d97b",203015:"d464250794",203017:"f3cdaac695",203018:"f7acec4c89",203030:"083307f37a",203405:"0fe8851a79",203406:"dff3a883b2",204784:"c175e128d1",206392:"c784c76f7e",206394:"3c4ecb9326",206577:"214034726c",206586:"426f287d3d",206588:"97114132f0",206589:"c77f9484cc",206590:"0f791dea49",206591:"e7b64d11b0",206683:"0a38188796",207771:"c91f19754c",207772:"2ffde8984f",207780:"a44f303c43",207781:"60998699a9",207978:"f241a603a6",207980:"bdcb2bf798",207982:"dff6631e72",207983:"ac5c6f6bb2",208319:"16503134d1",208457:"76d69d8641",208458:"26431b3bfe",208459:"244bc5f77a",208557:"8721dff0be",208558:"c99e990c00",208561:"1666519a78",208562:"6c14b68915",208563:"a4ab38b6d6",208564:"181a01e869",208565:"0bb4c77861",208566:"a6324458c2",209485:"13d0e2a721",210230:"b0dbe19f11",210231:"225b802f58",210686:"a652872086",210929:"225290c8bd",210930:"1311a032e2",211021:"4a3cfc174d",211031:"757365a0e0",211540:"902d81a00f",211541:"9832c07b6e",212009:"7bcc6a944a",212062:"5ab3bb2090",212227:"e05dd847c5",212489:"940d717e9a",1e7:"14dcdbd1b8",10000001:"85e2135ebf",10000002:"6f0530b847",10000003:"9aebeaabdc",10000004:"ec30be261c",10000005:"42e269ebcb",10000006:"fe46ec1a7c",10000007:"c7c5b41643",10000008:"e017e3296e",10000010:"c8a4da1342",10000011:"d0033013c8",10000012:"c920a1872b",10000013:"5cb1560e95",10000014:"945d12984c",10000015:"3f0af1c616",10000016:"e9cff35b9e",10000017:"809a140d15",10000018:"a3f294e223",10000019:"26c5369243",10000020:"2895ae0549",10000021:"7e463b1f7b",10000022:"3ac8066b24",10000023:"05688314fe",10000024:"2b9b203f0f",10000025:"d8c2189403",10000026:"abaa9c1f9a",10000035:"a41083a929",10000036:"8e74dd4bab",10000037:"cafae725da",10000038:"a121dfa9da",10000039:"ff48cf981d",10000040:"254b287491",10000041:"95cf182700",10000042:"7c449193e6",10000043:"7cf4199d2c",10000044:"7d70b943e5",10000045:"d6ebb8fae4",10000046:"6ec2e4a903",10000047:"6b9d9c6b43",10000048:"c697613553",10000049:"154b668a0c",10000050:"06c11d3a67",10000051:"79b306f4fb",10000052:"4ddf4d4f00",10000053:"d4f3f248fb",10000054:"5f1da0f4d3",10000055:"a258c98d13",10000056:"46ae6a0b78",10000057:"484950e70c",10000058:"b0f2c06862",10000059:"81c7d9a013",10000060:"b2774f9b84",10000061:"8d357982ec",10000062:"f17475be77",10000063:"2e17bf9dba",10000064:"5ab5b328ac",10000065:"746301201f",10000066:"74a3fa3235",10000067:"445aec4c58",10000068:"166c8e0df7",10000069:"3c1d1ce2d1",10000070:"41b1a04aca",10000071:"8f48e4fe18",10000072:"ce3f903a4a",10000073:"facdeec66b",10000074:"5bdce48fc9",10000075:"4263c32baa",10000076:"da12137035",10000077:"befae0dd8d",10000078:"3789f175c4",10000079:"8f0ede6d58",10000080:"2c8374dc79",10000081:"939ab96a5d",10000082:"65edb8587b",10000083:"5d51ce9468",10000084:"31758176d8",10000085:"3f06c3645c",10000086:"570293b21e",10000087:"c8ca3f3a91",10000088:"3f8c611719",10000089:"ec5bacbf42",10000090:"b1a46cb9ba",10000324:"7b7e80f204",10000325:"dbc6c5bd69",10000327:"ac86d06eda",10000328:"29283373d0",10000329:"e1abc69b32",10000330:"c319f17ac6",10000687:"559415b345",10000688:"59bcb90348",10000689:"3d5058c75a",10000690:"02beff69b3",10000691:"ef2d717c50",10000692:"ed824f7075",10000693:"855e7d694d",10000694:"3d35d48a1e",10000695:"76f5459105",10000696:"836eb3c3a8",10000697:"f6898d79aa",10000698:"034cb96ed7",10000699:"2ab0be4b8e",10000700:"f9ff676abf",10000701:"b1198dc297",10000702:"9aa495d2d0",10000703:"94466aef62",10000704:"bbe993efa8",10000705:"08e87b19e5",10000706:"30af89e371",10000707:"c615bda81b",10000708:"3439a7f2c6",10000709:"fe2a0450ee",10000710:"d3b1c6970b",10000711:"e8e7936872",10000712:"62ade9a5d9",10000713:"cd2d7202ce",10000714:"f5f5c0c726",10000715:"c8940defa7",10000716:"d4c3511f1c",10000717:"c0b33b2707",10000718:"b7898a96a4",10000719:"0afe21c711",10000720:"15bc4cd75c",10000721:"236acfc33e",10000722:"4252e4f621",10000723:"5532721500",10000724:"cf7ee7c557",10000725:"8e10bb4c62",10000726:"8f9461820c",10000727:"ab5e6c0d6e",10000728:"b0f2c06862",10000729:"a6aa48da2f",10000730:"81fed62109",10000731:"60450684ad",10000732:"91ada79e5f",10000733:"d7bc2d75d2",10000734:"96023b30a9",10000735:"d1f5fdd3ee",10000736:"d1f5fdd3ee",10000737:"4626475287",10000738:"9140be25d5",10000739:"6d7e163aeb",10000740:"9c25789148",10000741:"b9c34da79c",10000742:"4051b7098a",10000743:"b1b7157e01",10000744:"a09ed2c549",10000745:"a058ff2a49",10000746:"a0c8d3019b",10000747:"ac3fdffff0",10000748:"3dd97e8055",10000749:"b754ebaa69",10000750:"51d3b9564c",10000751:"96023b30a9",10000752:"96a9c2bea3",10000753:"0a09c2d0cf",10000754:"38685c8612",10000755:"f8e27f95ef",10000756:"c3e7efdce7",10000757:"b5a29565a3",10000758:"45d836f255",10000759:"1a2a833310",10000760:"c1b09c8fc2",10000761:"5c53c1c7b6",10000762:"76f62be96f",10000763:"34f8564abc",10000764:"d1cf01d5ca",10000765:"dd3bd8d139",10000766:"153a809ae6",10000767:"937f54123d",10000768:"428ccdd665",10000769:"6cd7b24a28",10000770:"f29ba8726d",10000771:"919f452aa2",10000772:"fe2b83f925",10000773:"e1451f31f3",10000774:"7cc13def5b",10000775:"838dd6be01",10000776:"5f08966e98",10000777:"77eae04846",10000778:"84a83ac33b",10000779:"4c0a1b312e",10000780:"36cb533b06",10000781:"eda27d241c",10000782:"bf47ef634c",10000783:"0e5b38bf4e",10000784:"575b94fc50",10000785:"b2bf9497c0",10000786:"3b9d152ebb",10000787:"2573f87eeb",10000788:"6a97ae4ea8",10000789:"50a9a213be",10000790:"b184d9ab96",10000791:"e7684adb8a",10000792:"ebf99bd12f",10000793:"3f7d61c4a9",10000794:"0f02072bd7",10000795:"11e00f9535",10000796:"dcfaea9c78",10000797:"63427e14ff",10000798:"0045fe2ae5",10000799:"e2d6b5bc78",10000800:"96257b0908",10000801:"4b1efa07d3",10000802:"f7c7d3a0ac",10000803:"bb1889cd06"},runtime:re({hash:function(e){return he(e).toString(be).slice(0,8)},javaScriptInput:{ahoCorasickLookup:e=>[],eventSegments:e=>({"!UpdateLookalikeModels":["109188","109229","109230","109232","109287","109289","109290","110510","110514","110515","110603","111761","111792","111793","111796","111797","116417","116419","122240","122241","122242","127832","127860","127861","127862","127863","127864","135736","135956","136598","136907","145932","146539","147061","147062","147063","149705","154089","155876","176014","176015","177149","177150","177151","177152","177154","177155","177156","177157","179637","183389","185537","186260","186261","186270","186271","186448","186449","186450","186451","187748","187749","187750","188427","193229","193231","193232","193233","193234","193235","193236","193237","193250","193251","193252","193253","193254","193255","193256","193260","193261","193262","193263","193264","193265","193266","193267","193268","193269","193288","193289","193290","193291","193292","193293","193294","193295","193296","193297","193298","193299","193300","193301","193302","193303","193304","193305","193306","193307","193308","193309","193311","193312","193314","193315","193316","193317","193318","193319","193320","193321","193322","193323","193324","210230","210231","210686","211540","211541"],"!UpdateThirdPartyData":["106055","106056","106057","106062","106069","106070","106072","106073","106074","106083","106086","106087","106088","106093","106437","107063","107184","107187","107188","107189","107192","107195","107198","107199","107218","107220","107221","107231","107233","107311","107312","107316","107317","107318","107320","107321","107328","107329","107330","107341","107342","107343","107346","107348","107350","107351","107352","107353","107354","107359","107360","107484","109565","109566","113089","113092","113093","113094","113095","113096","113097","121835","164139","175494","184137","185449","191764","201821","201822","202680","202683","203015","203017","203018"],LinkClick:["117045","121178","121179","121180","121181","125796","125797","126195","127638","127639","127640","127644","127646","127649","138311","180430"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","100738","101404","102266","102267","102268","102803","103010","103011","103012","103315","103316","103329","103444","103579","104503","104665","105536","105537","105538","105539","105540","105541","105542","105543","105544","105547","105548","105549","105550","105553","105620","105688","105689","105690","105691","105692","105693","105755","105758","105759","105825","105826","105827","105829","105833","105835","105982","106027","106031","106039","106041","106075","106245","106246","106253","106255","106256","106257","106258","106259","106261","106365","106408","106411","106418","106421","106423","106444","106445","106449","106652","106653","106657","106660","106662","106663","106664","106669","106677","106683","106684","106685","106686","106688","106689","106690","106691","106753","106754","106755","106757","106758","106759","106769","106770","106771","106772","106784","106785","106786","106787","106788","106789","106790","106791","106792","106842","106843","106844","106887","106888","106889","106890","106891","106893","106894","106923","106924","106925","106939","106940","106945","106948","106949","106950","106953","106954","106956","106966","106979","107038","107041","107043","108994","108995","109057","109489","109493","109543","113290","113785","114087","114444","114684","114685","114686","114736","114815","114817","114820","114824","114825","114827","114835","115269","115296","115302","115476","116161","116162","116164","116165","116414","116592","116593","116594","116595","116596","116608","116612","116613","116615","117045","117065","117115","117735","120698","120699","120700","120702","120908","121598","121599","122065","122111","122208","122229","122231","122234","123550","123551","123552","123553","123556","123557","124045","126030","126195","127249","127638","127639","127640","127644","127646","127649","127865","128625","130316","130317","130318","130926","131317","133503","133541","133555","133568","133574","134157","135497","135824","136087","136211","136665","137047","138311","139866","139887","141894","141981","143256","144071","147415","148290","148331","148333","153570","154473","155110","155388","155392","156062","158599","162549","165786","165787","167658","167876","170773","175332","175536","175670","175671","175672","175673","175674","175679","175708","176150","176151","176245","176689","176695","178017","178104","178891","179980","180069","180312","180313","180314","180315","180430","182714","183159","183356","183968","183969","183970","183971","183972","183984","183987","184047","184051","184068","184070","184071","184072","184073","184074","184138","184144","184145","184534","184535","185183","185523","185631","185849","185926","186850","187095","187259","187352","187372","187375","187631","187642","187985","188322","188792","188906","189628","189970","190021","190022","190025","190026","190299","190301","190302","190303","190304","190305","190306","190446","190448","190451","190453","190463","190574","190575","192485","192486","192487","192490","192493","192495","192496","192498","192499","192501","192504","192510","193102","193365","193914","196414","198296","198297","198300","198301","198302","198909","200660","201821","201822","202172","202173","202174","202342","202643","202680","202683","202799","203010","203011","203012","203013","203015","203017","203018","203030","203405","203406","206392","206394","206577","206586","206588","206589","206590","206591","206683","207771","207772","207780","207781","207978","207980","207982","207983","208319","208457","208458","208459","208557","208558","208561","208562","208563","208564","208565","208566","210929","210930","211021","211031","212009","212227","212489","96400"],PageviewComplete:["105758","117045","175679","180069","183968","183969","183970","183971","183972","183984","183987","184047","184051","184068","184070","184071","184072","184073","184074","184534","184535","185849","187095","187901","190299","190301","190302","190303","190304","190305","190306","202643","207978"],PageviewEngagement:["105542","117045","175679","180069","183968","183969","183970","183971","183972","183984","183987","184047","184051","184068","184070","184071","184072","184073","184074","184534","184535","185849","187095"],PianoCheckoutClose:["156062","156080","156322"],PianoCheckoutStart:["156080","156322"],PianoMeterExpired:["156455"],PianoShowOffer:["180694","190023","190024"],PianoShowTemplate:["103314","190017","190020"],PrebidBid:["192300","200660","201088","201118","204784","209485"],SegmentEntry:["105758","187901","190299","190301","190302","190303","190304","190305","190306","202643","207978"],SegmentExit:[],SlotClicked:["128429","131656","131674","132036","132128","132129","133214","148013","148289","148290","148291","178516","179540","212009","212062"],SlotViewable:["144200","162741","178516","179541"],modal_view:["103315","180694","190021","190022","190023","190024"],subscription:["103315","190021","190022"],video:["141894"]}),eventsLookup:e=>["Pageview","PageviewComplete","SegmentEntry","LinkClick","PageviewEngagement","SlotClicked","modal_view","PrebidBid","SlotViewable","PianoCheckoutClose","PianoShowOffer","PianoShowTemplate","subscription","PianoCheckoutStart"],interpretOnlyQueries:e=>({}),literalsLookup:e=>e.frontDecode("$100,000-$124,999\\t2\\t25,000-$149,999\\t2\\t50,000-$199,999\\t1\\t200,000-$249,999\\t2\\t50,000-$499,999\\t1\\t500,000+\\t1\\t60,000-$74,999\\t1\\t75,000-$99,999\\t\\t/art and entertainment/books and literature\\t43\\t/poetry\\t23\\tcomics and animation\\t23\\tdance\\t23\\tmovies and tv\\t36\\t/animated\\t37\\tchildren\'s\\t38\\tomedies\\t37\\tdocumentaries\\t37\\treality\\t38\\tomantic comedies\\t37\\ttelevision\\t24\\tusic/music genres/classical music\\t42\\topera\\t42\\tpop music\\t42\\tsoundtracks\\t23\\tshows and events/classical concert\\t23\\ttheatre\\t2\\tutomotive and vehicles/cars/luxury\\t25\\tmotorcycles\\t1\\tbusiness and industrial\\t24\\t/fashion industry\\t1\\teducation/adult education\\t11\\tlanguage learning\\t1\\tfamily and parenting\\t2\\tinance/accounting and auditing/tax preparation and planning\\t9\\tfinancial news\\t2\\tood and drink/dining out\\t16\\tfood/fruits and vegetables\\t21\\tsalads\\t16\\thealthy eating\\t16\\tvegan\\t19\\tetarian\\t1\\thealth and fitness\\t2\\tobbies and interests/arts and crafts/photography\\t23\\tbirdwatching\\t3\\tme and garden/gardening and landscaping\\t17\\thome improvement and repair\\t1\\tpets/birds\\t6\\tlarge animals\\t1\\tsociety/crime\\t9\\tdating\\t2\\tports/diving\\t8\\thorse racing\\t13\\ts\\t8\\tolympics/paralympic games\\t8\\tskiing\\t8\\tvolleyball/beach volleyball\\t2\\ttyle and fashion/beauty/cosmetics\\t1\\ttechnology and computing/consumer electronics/tv and video equipment\\t\\t20-29\\t\\t30-39\\t\\t40-49\\t\\t50-59\\t\\tALS\\t1\\tddiction\\t9\\t Centre\\t10\\tRecovery\\t9\\ts Treatment\\t1\\tlberta\\t2\\tcohol Abuse\\t8\\tRehab Centre\\t2\\tlergies\\t\\tBreast Cancer\\t2\\titish Columbia\\t1\\tusiness\\t\\tCOVID\\t1\\tanada\\t6\\t\'s cost of living crisis\\t3\\tcer\\t3\\tnabis\\t1\\tompanies,airline,Air Canada\\t10\\tcar company,Tesla\\t\\tDNA-testing\\t1\\tRE\\t1\\tiabetes\\t\\tEntertainment\\t1\\tpilepsy\\t6\\ttic\\t9\\t seizures\\t1\\tvents,time,Christmas\\t\\tFinancial Post\\t\\tHealthing\\t2\\tmophilia\\t1\\tpv\\t1\\typerthyroidism\\t\\tInflammatory Bowel Disease\\t2\\tpatient\\t\\tLeukemia\\t\\tMECP2\\t1\\tPN\\t1\\tanitoba\\t1\\tedical Detox\\t1\\tontreal Gazette\\t\\tN\\t1\\tational Post\\t1\\teurofibromatosis\\t2\\tw Brunswick\\t\\tObesity\\t1\\tntario\\t1\\tutpatient\\t1\\tvaries\\t\\tPPMS\\t1\\tSA\\t2\\tMA\\t1\\teople,person,Finance\\t21\\t & CFO Phone\\t1\\tharmacy\\t1\\tolitics\\t1\\trostate Cancer\\t\\tQuebec\\t\\tRRMS\\t1\\tebab\\t\\tSMA\\t1\\tailthru\\t2\\tskatchewan\\t1\\tcale/unit,digital currency,Bitcoin\\t35\\ts\\t1\\tkin Cancer\\t1\\tpinal Muscular Atrophy\\t2\\torts\\t1\\tubstance Abuse\\t\\tTelegraph-Journal\\t1\\the Growth Op\\t1\\type 2 Diabetes\\t\\tVaccines\\t\\tWillebrand disease\\t\\tY\\t\\tacne\\t2\\tquired-immune-deficiency-syndrome-hiv-aids\\t2\\tura\\t1\\tffordable-travel\\t11\\tvehicles\\t1\\tging\\t5\\t-changes-in-the-lungs\\t2\\toda\\t2\\triculture\\t1\\tids\\t2\\tr travel\\t3\\t-travel\\t3\\tline\\t7\\ts\\t1\\tlfa-romeo\\t2\\tl inclusive resort\\t3\\tergies\\t2\\tternative-medicine\\t2\\tzheimers\\t10\\t-disease\\t1\\tmateur-sports\\t3\\tzon-prime-day\\t6\\t.ca\\t2\\tyotrophic lateral sclerosis\\t11\\t-lateral-sclerosis\\t1\\tnxiety\\t1\\trmy\\t2\\trivecan\\t2\\tthritis\\t3\\ts\\t4\\t-2\\t5\\tentertainment\\t18\\t-and-media\\t1\\ttopic dermatitis\\t1\\tudi\\t2\\trora-borealis\\t2\\ttism\\t6\\t-spectrum-disorders\\t3\\to-insurance\\t5\\tshow\\t9\\ts\\t5\\ttech\\t\\tback-to-school\\t3\\tterial infection\\t2\\tld-men\\t2\\tnking\\t2\\tsal cell\\t3\\teball\\t3\\tketball\\t1\\tc-lions\\t1\\teauty\\t2\\tt99\\t3\\tting\\t7\\t-essentials\\t1\\ticycling\\t2\\tking\\t2\\trd hunting\\t3\\tth-control\\t2\\ttcoin\\t1\\tlack-friday\\t5\\theadpimples\\t3\\tdder-cancer\\t2\\tister\\t2\\tood clots\\t5\\t-cancer\\t6\\tpressure\\t2\\tue nile\\t4\\tnile.com\\t1\\tmw\\t1\\toating\\t2\\tdy-weight\\t2\\tnds\\t2\\tok-reviews\\t4\\ting.com\\t4\\ts\\t2\\trrowing-money\\t2\\twel\\t1\\train health\\t5\\t-cancer\\t6\\thealth\\t2\\teast cancer\\t6\\t-cancer\\t7\\timplants\\t1\\tus\\t3\\tes\\t3\\tiness\\t8\\t-2\\t9\\tblog\\t9\\tessentials\\t9\\towner\\t9\\tsponsored\\t9\\ttravel\\t\\tcabriolet\\t2\\tdillac\\t2\\tlgary-stampede\\t16\\trs\\t2\\tmpground\\t4\\ting\\t2\\tnada arthritis society\\t6\\t-mortgage-and-housing-corp\\t7\\ttravel\\t6\\t.com\\t5\\tian-football-league\\t9\\tmilitary\\t9\\tpolitics\\t9\\treal-estate\\t9\\ttravel\\t3\\tcer\\t6\\t-drugs\\t7\\ttreatment\\t3\\tnabis\\t8\\t-and-sleep\\t9\\tbeverages\\t9\\thealth\\t9\\tinvesting\\t2\\tr-culture\\t4\\tinsurance\\t3\\tbon tax\\t6\\t-tax\\t3\\tdiorespiratory-fitness\\t3\\tegiver\\t9\\ts\\t2\\tsino\\t2\\tvities\\t5\\ty\\t1\\telebrities\\t11\\t-and-health\\t8\\ty\\t9\\t-2\\t10\\tcouples\\t10\\tnews\\t5\\ts\\t2\\trvical cancer\\t8\\t-cancer\\t1\\tfl\\t1\\thancroid\\t2\\tevrolet\\t2\\tild-care\\t5\\tren\\t8\\ts-health\\t2\\tlamydia\\t2\\tristmas\\t3\\tysler\\t1\\tlassic-cars\\t2\\totting\\t3\\tudy-eyes\\t7\\tvision\\t1\\tochlear\\t8\\t implant\\t2\\tld & flu\\t3\\tlector-cars\\t11\\tlassics\\t3\\ton\\t4\\trectal-cancer\\t3\\tumnist\\t9\\ts\\t2\\tmmercial-real-estate\\t4\\todities\\t8\\ty-markets\\t5\\tn cold\\t4\\tuter\\t8\\ts\\t2\\tndos\\t3\\tstipation\\t4\\tumer-credit-and-debt\\t3\\ttests\\t3\\tvertible-new-car-preview\\t4\\tulsion\\t2\\tok\\t2\\tronavirus\\t2\\tst of living\\t4\\t-of-living\\t2\\tvid-19-vaccine\\t16\\ts\\t6\\tvaccines\\t2\\tyote hunting\\t1\\tramps\\t2\\tedit-cards\\t2\\ticket\\t7\\t field\\t3\\tme\\t2\\toss-country-running\\t2\\tuise\\t6\\ts\\t2\\typtocurrencies\\t13\\ty\\t1\\tulture\\t7\\t-and-lifestyle\\t2\\trling\\t1\\tyber-monday\\t6\\tsecurity\\t5\\tsecurity\\t2\\tcling\\t\\tdance\\t1\\teaf\\t4\\tness\\t2\\tbt\\t4\\t-2\\t2\\ter hunting\\t2\\tmentia\\t3\\tyelinating\\t2\\tntist\\t7\\try\\t2\\tpression\\t2\\trmatitis\\t6\\tologist\\t10\\ty\\t1\\tiabetes\\t3\\tmond\\t7\\ts\\t3\\trrhea\\t2\\tet-and-nutrition\\t5\\tfitness\\t2\\tgestion\\t7\\tve-health\\t3\\tital rectal exam\\t2\\tseases-and-conditions\\t1\\triving.ca\\t2\\tug-brief\\t5\\tdetails\\t2\\ty scalp\\t1\\tystonia\\t\\teconomy\\t2\\tzema\\t1\\td\\t2\\tmonton-elks\\t1\\tlectric-cars\\t9\\tpickups\\t9\\tsuv\\t9\\tvehicle\\t16\\ts\\t1\\tmbryo-transfer\\t2\\tployment\\t1\\tncephalomyelitis disseminata\\t3\\tore-lifestyles\\t2\\tdocrinologist\\t12\\ty\\t2\\tergy\\t2\\ttertainment\\t13\\t-2\\t14\\thobbies\\t14\\tpmn\\t14\\tsponsored\\t3\\trepreneur\\t2\\tvironment-pmn\\t11\\tal-issues-and-protection\\t1\\tpilepsy\\t8\\t ontario\\t1\\trectile-dysfunction\\t1\\tsophageal-cancer\\t2\\ttate-planning\\t1\\tv-batteries\\t3\\tpickup\\t1\\txecutive\\t9\\t-women\\t3\\trcise\\t8\\t-and-fitness\\t2\\tpedia\\t1\\tye-health\\t10\\t-research\\t11\\ttreatments\\t3\\tsight-and-eye-health\\t\\tfacebook\\t2\\tmily\\t6\\t day\\t7\\tescapes\\t7\\tfun\\t7\\tlife\\t7\\tvacation\\t6\\t-and-parenting\\t7\\tbusiness\\t7\\tevents\\t13\\t-in-vancouver\\t7\\tfinance\\t7\\ttravel\\t7\\tvehicles\\t2\\trm-business\\t5\\tnews\\t4\\ters\\t4\\ting\\t2\\tshion\\t7\\t-beauty\\t2\\tve.co\\t1\\teatured-homes\\t2\\tmale-orgasm\\t2\\trtility\\t1\\tinance\\t7\\t-taxes\\t9\\tips\\t7\\ts\\t6\\tial\\t9\\t-advice\\t10\\teducation\\t10\\tliteracy\\t10\\tmarkets\\t10\\tplanning\\t11\\tost\\t14\\t-magazine\\t10\\tservices-sector\\t11\\ttability\\t10\\ttechnology\\t11\\times\\t9\\tpost.com\\t3\\td-compare\\t2\\trst-time-homebuyers\\t2\\tsher-investments\\t4\\ting\\t2\\ttness\\t1\\tlu\\t3\\t season\\t3\\t-symptoms\\t4\\tvaccine\\t1\\tood\\t4\\t-allergies\\t6\\tnd-cooking\\t5\\tdrink-sponsored\\t3\\ttball\\t2\\trd\\t1\\tp-finance\\t3\\tstartups\\t1\\tree-travel\\t2\\tom-the-industry\\t1\\tundamentals\\t\\tgamble\\t5\\ting\\t3\\tes\\t3\\ting\\t6\\t-technology\\t2\\tstric-cancer\\t5\\tointestinal\\t16\\t-tract\\t1\\tems\\t2\\tneralized epilepsy\\t4\\ts\\t4\\ttic disease\\t8\\ttesting\\t7\\t-disorders\\t7\\ts\\t3\\tital-infection\\t7\\tia\\t3\\tome-testing\\t1\\tift-guide\\t1\\tlobal-investor\\t1\\tmc\\t1\\to-transit\\t2\\tlf\\t4\\t-betting\\t2\\tnorreha\\t1\\treen-energy\\t6\\tline\\t1\\tum-disease\\t2\\tt\\t1\\tyms\\t\\thair-loss\\t2\\tlloween\\t2\\ttchback\\t1\\tealth\\t6\\t insurance\\t6\\t-and-fitness\\t11\\twellness\\t7\\tfitness\\t7\\tinsurance\\t6\\ting.ca\\t3\\tring\\t7\\t aid\\t8\\timpaired\\t8\\tloss\\t4\\tt health\\t5\\t-disease\\t6\\thealth\\t12\\t-research\\t13\\ttreatments\\t2\\tmophilia\\t2\\trpes\\t1\\tigh cost of living\\t4\\t-blood-pressure\\t2\\tkes\\t3\\ting\\t2\\tv\\t1\\tockey\\t2\\tliday-events\\t8\\tgift-guides\\t12\\ting\\t9\\tuide\\t8\\trecipes\\t8\\tseason\\t2\\tme-living\\t4\\topathic-medicine\\t4\\ts\\t5\\t-sponsored\\t2\\tnda\\t2\\trmones\\t3\\tse-racing\\t2\\tusing-bubble\\t8\\tprices\\t1\\tpv\\t1\\tttps://calgaryherald.com/\\t26\\tsponsored/news-sponsored/cashback-credit-cards-benefits-neo-financial-calgary\\t15\\tsun.com/\\t10\\tnoe.com/\\t8\\tdriving.ca\\t18\\t/\\t8\\tedmontonjournal.com/\\t28\\tsponsored/news-sponsored/cashback-credit-cards-benefits-edmonton-neo-financial\\t16\\tsun.com/\\t8\\tfinancialpost.com\\t25\\t/\\t26\\t?utm_source=twitter&utm_medium=paid&utm_campaign=fp-off-net&utm_content=bull\\t98\\tstock\\t26\\tcategory/commodities/energy/?utm_source=off-net&utm_medium=programmatic&utm_campaign=fp-off-net&utm_content=energy\\t35\\topinion/?utm_source=off-net&utm_medium=programmatic&utm_campaign=fp-off-net&utm_content=opinion\\t35\\treal-estate/?utm_source=off-net&utm_medium=programmatic&utm_campaign=fp-off-net&utm_content=real-estate\\t27\\tommodities\\t26\\tnewsletters\\t26\\topinion/columnists/varcoe-investment-rises-calgary-tech-firms-growing-sector-matures/\\t26\\tsponsored/news-sponsored/benefits-cashback-credit-cards-neo-financial\\t8\\tleaderpost.com/\\t9\\tfpress.com/\\t20\\tsponsored/news-sponsored/cashback-credit-cards-benefits-london-neo-financial\\t8\\tmontrealgazette.com/\\t8\\tnationalpost.com/\\t25\\t?utm_source=off-net&utm_medium=programmatic&utm_campaign=np-off-net&utm_content=national-news\\t37\\ttwitter&utm_medium=paid&utm_campaign=np-off-net&utm_content=boundaries\\t97\\texpand\\t25\\tcategory/news/politics/?utm_source=off-net&utm_medium=programmatic&utm_campaign=np-off-net&utm_content=politics\\t39\\tworld/?utm_source=off-net&utm_medium=programmatic&utm_campaign=np-off-net&utm_content=world-news\\t34\\topinion/?utm_source=off-net&utm_medium=programmatic&utm_campaign=np-off-net&utm_content=opinion\\t25\\tnewsletters\\t9\\tews.google.com\\t8\\tottawacitizen.com/\\t14\\tsun.com/\\t8\\ttheprovince.com/\\t9\\torontosun.com/\\t8\\tvancouversun.com/\\t8\\twindsorstar.com/\\t11\\tnipegsun.com/\\t9\\tww.brantfordexpositor.ca/\\t12\\tchathamdailynews.ca/\\t12\\tnugget.ca/\\t12\\tsimcoereformer.ca/\\t12\\ttheobserver.ca/\\t15\\tsudburystar.com/\\t15\\twhig.com/\\t1\\tuman-papillomavirus-hpv\\t2\\tnting\\t1\\tybrid-minivan\\t7\\tpickup\\t7\\tsuv\\t7\\tvehicles\\t2\\tpertension\\t2\\tundai\\t\\tibd\\t1\\tmmigrants\\t7\\ttion\\t1\\tncome-tax\\t2\\tdex\\t2\\tfiniti\\t3\\tlation\\t4\\tuenza\\t9\\t-flu\\t2\\tnovation\\t2\\tsomnia\\t3\\ttagram\\t3\\turance\\t2\\tternational\\t13\\t-travel\\t2\\tvesting\\t9\\t-pro\\t10\\tsponsored\\t6\\tment\\t1\\tvf\\t\\tjeep\\t2\\twelry\\t1\\tunior-hockey\\t\\tkayaking\\t1\\teratosis\\t1\\tia\\t2\\ttchen-dining\\t\\tland rover\\t2\\tyoffs-and-downsizing\\t1\\teukemia\\t2\\txus\\t1\\tgbt-issues\\t4\\tq\\t1\\tife-essentials\\t5\\tinsurance\\t5\\tsponsored\\t2\\tght rail\\t2\\tving with arthritis\\t6\\t-with-eye-health\\t12\\theart-health\\t12\\tobesity\\t1\\tocal-business\\t6\\tfood-reviews\\t6\\tnews\\t6\\tsports\\t6\\ttravel\\t2\\ttteries\\t6\\ty\\t4\\to\\t5\\t-649\\t6\\tmax\\t5\\tmax\\t1\\trt\\t1\\tung-cancer\\t5\\tdamage\\t6\\tisease\\t12\\t-resources\\t5\\thealth\\t2\\txury\\t6\\t car\\t7\\tresort\\t7\\tsuv\\t6\\t-and-exotic-cars\\t7\\tcars\\t8\\trossovers\\t7\\thotel\\t7\\tliving\\t7\\tsuv\\t10\\ts\\t7\\ttravel\\t1\\tymphoma\\t\\tmaintenance\\t2\\tmmogram\\t2\\trathon\\t2\\tstectomy\\t2\\tzda\\t1\\telanoma\\t2\\tmory loss\\t2\\tn\\t3\\tingitis\\t6\\tococcal\\t3\\ts-health\\t3\\ttal health in school\\t6\\t-health\\t2\\trcedes\\t8\\t-benz\\t2\\ttro vancouver\\t5\\tlinx\\t1\\tichael hill international\\t7\\thill.ca\\t2\\tlitary\\t2\\tni\\t2\\ttsubishi\\t1\\tlb\\t3\\t-betting\\t2\\ts\\t1\\tma\\t1\\toderna-vaccine\\t2\\tney\\t5\\twise-pro\\t3\\ttreal-alouettes\\t2\\trtgage-rates\\t8\\ts\\t9\\t-real-estate\\t2\\tvember\\t3\\tie\\t5\\t-reviews\\t5\\ts\\t6\\t-entertainment-pmn\\t1\\tpn\\t1\\tultiple sclerosis\\t8\\t-sclerosis\\t2\\tsic\\t5\\t-2\\t6\\tentertainment-pmn\\t5\\tal\\t1\\tyelin\\t4\\toma\\t\\tnasdaq\\t2\\ttional-bank\\t9\\tfootball-league\\t8\\tpost.com\\t3\\turopathy\\t1\\tba\\t1\\teighbourhoods-homes\\t2\\ttflix\\t7\\t-inc\\t2\\turodegenerative-disorder\\t5\\tlogical disease\\t9\\tst\\t8\\ty\\t2\\tw-homes\\t9\\t-and-condos\\t10\\tcondos\\t3\\ts\\t4\\tletter\\t1\\tfl\\t3\\t-betting\\t4\\tfootball-sports-pmn\\t1\\thl\\t3\\t-betting\\t1\\ticotine\\t2\\tssan\\t1\\tutrition\\t\\tobesity\\t7\\t-research\\t8\\ttreatments\\t1\\tff-net\\t3\\ter\\t1\\til-and-gas\\t4\\tgas\\t4\\tprices\\t6\\toduction-and-refining\\t3\\tsands\\t1\\tlg\\t2\\tympics\\t8\\t-sports-pmn\\t1\\tn-the-rocks\\t2\\ttario-lottery-and-gaming-corporation\\t1\\tpinion\\t1\\tsteoarthritis\\t1\\tther-sports\\t2\\ttawa-redblacks\\t1\\tutdoor-adventure\\t8\\trecreation\\t1\\tvarian-cancer\\t\\tpancreatic-cancer\\t3\\tdemic\\t4\\tora jewelry\\t7\\t.net\\t3\\tic\\t5\\t attack\\t2\\trenting\\t2\\tssenger rail\\t1\\tenis\\t2\\toplesjewellers.com\\t2\\trformance-vehicles\\t3\\tsonal-care\\t9\\tfinance\\t16\\t-business-pmn\\t9\\ttech\\t1\\tfizer-vaccine\\t1\\tharma\\t6\\tcies\\t1\\tickup-trucks\\t1\\tlaystation\\t2\\tug-in-hybrid\\t14\\ts\\t4\\tged-in-podcast\\t1\\tmn-travel\\t1\\tolestar\\t3\\titics\\t2\\trter airlines\\t2\\twerball\\t1\\tregnancy\\t3\\tscription-drugs\\t2\\timary progressive multiple sclerosis\\t2\\to-line\\t3\\tstate\\t8\\t specific antigen\\t8\\t-cancer\\t3\\tvincial\\t10\\t park\\t1\\tsoriasis\\t1\\tublic transportation\\t2\\tlmonary\\t2\\tzzle\\t6\\ts\\t4\\tmo\\t1\\twhl\\t\\tq50\\t1\\t60\\t1\\tuebec\\t1\\tx50\\t3\\t5\\t2\\t80\\t\\tram\\t2\\tre-diseases\\t2\\tsh\\t1\\teader-review\\t3\\tl-estate\\t11\\t-2\\t13\\t0\\t12\\tagents-and-brokers\\t12\\tbusiness\\t20\\t-pmn\\t12\\thomes\\t12\\tinvesting\\t12\\tleasing\\t12\\tnews\\t12\\tsales\\t13\\tector\\t4\\testate-sponsored\\t2\\tcipe\\t6\\ts\\t2\\tgistered\\t2\\tlapse remitting multiple sclerosis\\t2\\tproduction\\t10\\tve\\t12\\t health\\t12\\t-health\\t2\\tsort\\t6\\t vacation\\t2\\ttirement\\t2\\tviews\\t1\\tibn\\t2\\tngworm\\t1\\toad-test\\t6\\trip\\t2\\tcky-mountains\\t1\\trsp\\t1\\tunning\\t\\tsafety\\t2\\tilthru\\t2\\tskatchewan-roughriders\\t1\\tcratch tickets\\t1\\te-amazon\\t2\\tasonal-allergies\\t2\\tborrheic dermatitis\\t2\\tdan\\t2\\tizure\\t7\\ts\\t2\\tx\\t3\\tual\\t6\\t health\\t6\\t-and-reproductive-health\\t7\\thealth\\t6\\tly transmitted infection\\t8\\t-transmitted-diseases\\t1\\thopping\\t8\\t-advice\\t9\\tessentails\\t15\\tial\\t18\\ts\\t1\\tki\\t3\\ting\\t3\\tn-cancer\\t5\\thealth\\t1\\tleep\\t5\\t-apnea\\t2\\tots\\t1\\toccer\\t1\\tponsored-eat-play-stay-winnipeg\\t11\\tncore-lifestyles\\t12\\ttertainment\\t10\\tlung-cancer\\t3\\trts\\t6\\t-2\\t7\\tbetting\\t7\\tgambling\\t7\\tpmn\\t7\\tsponsored\\t1\\tquamous cell\\t1\\ttart_checkout\\t2\\td\\t2\\ti\\t2\\tock-market\\t12\\ts\\t3\\tmach\\t7\\t-cancer\\t2\\treaming\\t9\\t-service\\t17\\ts\\t3\\toke\\t2\\tudent transportation\\t2\\tyle-beauty\\t1\\tubaru\\t3\\tscribed\\t3\\tway\\t2\\ticide\\t2\\tnburn\\t3\\twing\\t2\\tpercars\\t2\\tstainability\\t2\\tv\\t1\\typhilis\\t\\ttax-evasion-and-fraud\\t3\\tes\\t1\\tech\\t4\\t-biz\\t5\\tessentials\\t5\\tnews\\t5\\tyou\\t4\\tnology\\t10\\t-news\\t2\\ten anxiety\\t5\\tdepression\\t5\\tmental health\\t5\\tstress\\t6\\tuicide\\t4\\t-mental-health\\t2\\tlevision\\t10\\t-entertainment-pmn\\t2\\tnnis\\t2\\tsla\\t1\\tfsa\\t4\\ts\\t1\\the-last-tourist\\t3\\tater\\t5\\tre\\t7\\t-2\\t8\\tnetwork\\t8\\treview\\t14\\ts\\t7\\ts\\t3\\trapy\\t1\\tiguan\\t1\\toronto-argonauts\\t8\\tblue-jays\\t8\\traptors\\t8\\tstock-exchange\\t2\\tur\\t4\\tism\\t2\\tyota\\t6\\t-hybrids\\t1\\track-and-field\\t3\\tin\\t3\\tnsit\\t5\\tlink\\t3\\tvel\\t6\\t-2\\t7\\tand-tourism\\t18\\t-sector\\t7\\tban\\t7\\tcanada\\t8\\tommunity-blog\\t7\\tdestinations\\t7\\tessentials\\t7\\tguide\\t7\\tideas\\t7\\tpmn\\t7\\tsponsored\\t7\\ttips\\t7\\tusa\\t6\\tlers\\t2\\tiathlon\\t3\\tpadvisor\\t2\\tophy hunting\\t1\\tsx\\t1\\ttc\\t1\\tumour\\t1\\tv\\t1\\twitter\\t1\\type-1-diabetes\\t5\\t2-diabetes\\t\\tunemployment\\t12\\t-rate\\t1\\trlology\\t2\\tologist\\t1\\tsa\\t2\\ted-cars\\t5\\tvehicle-guide\\t12\\ts\\t\\tvacation\\t3\\tcination\\t11\\ts\\t6\\te\\t7\\ts\\t2\\tgina\\t1\\tintage-collectible\\t2\\tsion\\t6\\t-loss\\t1\\tolkswagen\\t3\\tvo\\t1\\trbo\\t1\\tw\\t\\twagon\\t1\\tealth\\t3\\tther\\t2\\tight-loss-drugs\\t2\\tllness\\t2\\tstjet\\t1\\tomen\\t5\\ts-health\\t2\\trds-and-music\\t3\\tld\\t\\txbox\\t\\tyouth mental health\\t5\\t-exercise"),propertiesLookup:e=>[["classifications_watson","taxonomy_labels"],["main_category"],["article_tags"],["secondary_categories"],["brand"],["nlp_topic"],["segment_number"],["nlp_entity"],["client","url"],["geo_info","province"],["page_type"],["geo_info","country"],["car_make"],["article_title"],["client","domain"],["referral_details"],["aggregations","PageviewEngagement","engaged_time"],["user_status"],["modal_name"],["advertiser_id"],["dest_url"],["nlp_category"],["fc_age_range"],["client","referrer"],["fc_income_estimate"],["campaign_id"],["car_model"],["client","title"],["advertiser_name"],["fc_presence_of_children"],["sponsor_name"],["fc_owner_or_renter"],["article_authors"],["car_bodystyle"],["geo_info","city"],["action"],["car_classification"],["fc_gender"],["fc_net_worth_range"],["fc_number_of_children"],["fc_presence_of_children_under_6"],["view_type"]],queries:e=>({1e7:e.r(131,"/education/graduate school","/science"),10000001:e.r(184,0,"/automotive and vehicles"),10000002:e.r(138,10),10000003:e.r(131,28,"/finance"),10000004:e.r(131,"/careers",30),10000005:e.r(184,0,"/education"),10000006:e.r(132,32,49,"/society/social institution/marriage"),10000007:e.r(137,9,11,20,21,24,25,"/art and entertainment/visual art and design/art museums and galleries","/art and entertainment/visual art and design/arts education","/art and entertainment/visual art and design/performance art","/art and entertainment/visual art and design/restoration","/art and entertainment/visual art and design/sculpture","/education/art history",42),10000008:e.r(132,"/business and industrial/food industry","/food and drink","/food and drink/food and grocery retailers"),10000010:e.r(131,38,41),10000011:e.r(184,0,"/hobbies and interests"),10000012:e.r(184,0,"/home and garden"),10000013:e.r(131,"/art and entertainment/movies",12),10000014:e.r(184,0,"/art and entertainment/music"),10000015:e.r(135,"/business and industrial/business news",34,"/law, govt and politics","/news",48,"/sports/sports news","/technology and computing/tech news"),10000016:e.r(132,"/finance/bank",34,"/finance/personal finance"),10000017:e.r(184,0,"/pets"),10000018:e.r(133,"/art and entertainment/celebrity fan and gossip",17,19,22),10000019:e.r(184,0,"/real estate"),10000020:e.r(184,0,"/shopping"),10000021:e.r(131,41,"/sports"),10000022:e.r(131,29,"/style and fashion"),10000023:e.r(132,"/business and industrial/automation","/science/computer science","/technology and computing"),10000024:e.r(133,"/art and entertainment/movies and tv/movies/reviews",19,"/art and entertainment/tv",57),10000025:e.r(184,0,"/travel"),10000026:e.r(131,"/hobbies and interests/games/video and computer games","/technology and computing/consumer electronics/game systems and consoles"),10000035:e.r(131,"/science/engineering","/science/physics"),10000036:e.r(184,0,"/automotive and vehicles/buying and selling cars"),10000037:e.r(184,0,"/automotive and vehicles/motor shows"),10000038:e.r(131,"/automotive and vehicles/cars/hybrid","/automotive and vehicles/electric vehicles"),10000039:e.r(184,0,27),10000040:e.r(184,0,"/automotive and vehicles/cars/performance vehicles"),10000041:e.r(131,10,"/art and entertainment/comics and animation/comics"),10000042:e.r(184,0,"/business and industrial/business operations"),10000043:e.r(184,0,49),10000044:e.r(184,0,32),10000045:e.r(184,0,11),10000046:e.r(184,0,"/art and entertainment/visual art and design"),10000047:e.r(184,0,"/food and drink/beverages/alcoholic beverages"),10000048:e.r(184,0,"/food and drink/barbecues and grilling"),10000049:e.r(131,"/food and drink/desserts and baking","/food and drink/food and grocery retailers/bakeries"),10000050:e.r(131,35,"/food and drink/food/fast food"),10000051:e.r(184,0,"/food and drink/food allergies"),10000052:e.r(133,36,37,"/food and drink/health and lowfat cooking",38),10000053:e.r(184,0,40),10000054:e.r(131,"/health and fitness/exercise","/health and fitness/sports medicine"),10000055:e.r(184,0,"/health and fitness/men\'s health"),10000056:e.r(184,0,"/health and fitness/nutrition"),10000057:e.r(184,0,"/health and fitness/women\'s health"),10000058:e.r(186),10000059:e.r(184,0,"/art and entertainment/movies and tv/action"),10000060:e.r(184,0,13),10000061:e.r(184,0,14),10000062:e.r(184,0,"/art and entertainment/movies and tv/horror"),10000063:e.r(184,0,48),10000064:e.r(131,"/law, govt and politics/law enforcement","/law, govt and politics/legal issues"),10000065:e.r(184,0,"/news/national news"),10000066:e.r(131,"/law, govt and politics/government","/law, govt and politics/politics"),10000067:e.r(184,0,"/science/weather"),10000068:e.r(184,0,46),10000069:e.r(184,0,"/pets/cats"),10000070:e.r(184,0,"/pets/dogs"),10000071:e.r(184,0,47),10000072:e.r(184,0,"/pets/reptiles"),10000073:e.r(184,0,"/sports/football"),10000074:e.r(184,0,"/sports/baseball"),10000075:e.r(184,0,"/sports/basketball"),10000076:e.r(184,0,"/sports/bodybuilding"),10000077:e.r(184,0,"/sports/bowling"),10000078:e.r(184,0,"/sports/boxing"),10000079:e.r(184,0,"/sports/bicycling"),10000080:e.r(184,0,"/sports/fishing"),10000081:e.r(184,0,"/sports/golf"),10000082:e.r(184,0,"/sports/hunting and shooting"),10000083:e.r(184,0,"/sports/rugby"),10000084:e.r(184,0,54),10000085:e.r(184,0,"/sports/tennis"),10000086:e.r(184,0,"/sports/walking"),10000087:e.r(133,"/business and industrial/tanning","/style and fashion/beauty",56,"/style and fashion/beauty/cosmetology and beauty professionals"),10000088:e.r(131,"/style and fashion/beauty/tattoos","/style and fashion/body art"),10000089:e.r(184,0,"/style and fashion/men \'s fashion"),10000090:e.r(184,0,"/technology and computing/consumer electronics"),10000324:e.r(184,0,28),10000325:e.r(134,"/business and industrial/company/annual report","/business and industrial/company/bankruptcy","/business and industrial/company/earnings","/business and industrial/company/joint venture","/business and industrial/company/merger and acquisition"),10000327:e.r(184,0,"/finance/personal finance/debt management"),10000328:e.r(184,0,"/finance/personal finance/insurance"),10000329:e.r(132,"/finance/accounting and auditing/billing and invoicing","/finance/accounting and auditing/bookkeeping",33),10000330:e.r(184,0,"/finance/investing"),10000687:e.r(184,0,"/science/social science"),10000688:e.r(184,0,31),10000689:e.r(131,27,"/automotive and vehicles/scooters and mopeds"),10000690:e.r(136,"/automotive and vehicles/vehicle brands/fiat","/automotive and vehicles/vehicle brands/ford","/automotive and vehicles/vehicle brands/honda","/automotive and vehicles/vehicle brands/hyundai","/automotive and vehicles/vehicle brands/nissan","/automotive and vehicles/vehicle brands/peugeot","/automotive and vehicles/vehicle brands/subaru","/automotive and vehicles/vehicle brands/suzuki"),10000691:e.r(137,26,"/automotive and vehicles/vehicle brands/audi","/automotive and vehicles/vehicle brands/bentley","/automotive and vehicles/vehicle brands/ferrari","/automotive and vehicles/vehicle brands/lamborghini","/automotive and vehicles/vehicle brands/land rover","/automotive and vehicles/vehicle brands/maserati","/automotive and vehicles/vehicle brands/mercedes-benz","/automotive and vehicles/vehicle brands/porsche","/automotive and vehicles/vehicle brands/rolls-royce","/automotive and vehicles/vehicle brands/toyota","/automotive and vehicles/vehicle brands/volkswagen","/automotive and vehicles/vehicle brands/volvo"),10000692:e.r(184,0,"/automotive and vehicles/cars/coupe"),10000693:e.r(131,"/automotive and vehicles/auto parts","/automotive and vehicles/auto repair"),10000694:e.r(184,0,"/automotive and vehicles/cars"),10000695:e.r(184,0,"/automotive and vehicles/cars/sedan"),10000696:e.r(184,0,"/art and entertainment/books and literature/children\'s books"),10000697:e.r(184,0,9),10000698:e.r(131,"/careers/career advice","/careers/resume writing and advice"),10000699:e.r(184,0,"/careers/telecommuting"),10000700:e.r(184,0,"/careers/career planning"),10000701:e.r(131,"/careers/job fairs","/careers/job search"),10000702:e.r(184,0,30),10000703:e.r(184,0,"/education/distance learning"),10000704:e.r(184,0,"/education/special education"),10000705:e.r(138,31),10000706:e.r(132,"/education/homework and study tips","/education/teaching and classroom resources/lesson plans","/education/teaching and classroom resources/school supplies"),10000707:e.r(184,0,42),10000708:e.r(184,0,25),10000709:e.r(184,0,21),10000710:e.r(133,38,39,40,"/pets/animal welfare"),10000711:e.r(184,0,"/food and drink/beverages/non alcoholic beverages"),10000712:e.r(132,"/food and drink/kosher food",39,40),10000713:e.r(184,0,"/food and drink/cuisines"),10000714:e.r(136,"/food and drink/food/condiments and dressings","/food and drink/food/frozen food",36,"/food and drink/food/grains and pasta","/food and drink/food/herbs and spices",37,"/food and drink/food/snack foods","/food and drink/gastronomy/slow food"),10000715:e.r(184,0,"/health and fitness/aging"),10000716:e.r(184,0,"/health and fitness/weight loss"),10000717:e.r(184,0,"/hobbies and interests/arts and crafts"),10000718:e.r(131,"/hobbies and interests/collecting","/hobbies and interests/collecting/stamps and coins"),10000719:e.r(184,0,"/hobbies and interests/games/board games and puzzles"),10000720:e.r(184,0,"/hobbies and interests/magic and illusion"),10000721:e.r(184,0,"/art and entertainment/music/musical instruments"),10000722:e.r(131,43,46),10000723:e.r(131,"/art and entertainment/radio","/technology and computing/consumer electronics/radios"),10000724:e.r(131,"/art and entertainment/books and literature/fan fiction","/art and entertainment/books and literature/science fiction"),10000725:e.r(184,0,"/home and garden/appliances"),10000726:e.r(184,0,45),10000727:e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,"/art and entertainment/visual art and design/design/interior design"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/art and entertainment/visual art and design/drawing"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/art and entertainment/visual art and design/painting"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/hobbies and interests/arts and crafts/woodworking"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,45),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/home and garden/remodeling and construction"),e.ge(1),1),2592e6)])),10000728:e.r(186),10000729:e.r(134,"/home and garden/bed and bath/bathroom","/home and garden/bed and bath/bedroom","/home and garden/home furnishings","/home and garden/home furnishings/lamps and lighting","/home and garden/interior decorating"),10000730:e.r(184,0,"/art and entertainment/movies and tv/independent"),10000731:e.r(184,0,16),10000732:e.r(184,0,"/art and entertainment/movies and tv/dramas"),10000733:e.r(184,0,18),10000734:e.r(139,18),10000735:e.r(185),10000736:e.r(185),10000737:e.r(184,0,"/art and entertainment/music/music genres/jazz"),10000738:e.r(184,0,20),10000739:e.r(184,0,"/art and entertainment/music/music genres/blues"),10000740:e.r(184,0,"/art and entertainment/music/music genres/country music"),10000741:e.r(184,0,"/art and entertainment/music/music genres/hip hop"),10000742:e.r(184,0,22),10000743:e.r(131,"/art and entertainment/music/music genres/electronic music",22),10000744:e.r(132,20,21,24),10000745:e.r(184,0,"/news/local news"),10000746:e.r(184,0,"/news/international news"),10000747:e.r(184,0,"/finance/personal finance/financial planning/retirement and pension"),10000748:e.r(131,33,"/finance/personal finance/financial planning"),10000749:e.r(131,51,52),10000750:e.r(184,0,"/pets/aquariums"),10000751:e.r(139,18),10000752:e.r(184,0,"/real estate/architects"),10000753:e.r(184,0,"/real estate/apartments"),10000754:e.r(133,"/business and industrial/agriculture and forestry","/business and industrial/agriculture and forestry/organic farming",43,47),10000755:e.r(184,0,"/real estate/buying and selling homes"),10000756:e.r(184,0,55),10000757:e.r(184,0,"/sports/water polo"),10000758:e.r(184,0,"/sports/table tennis and ping-pong"),10000759:e.r(184,0,"/sports/softball"),10000760:e.r(131,"/sports/volleyball",55),10000761:e.r(184,0,53),10000762:e.r(184,0,"/sports/rowing"),10000763:e.r(184,0,"/sports/badminton"),10000764:e.r(184,0,"/sports/sailing"),10000765:e.r(132,51,52,"/sports/polo"),10000766:e.r(184,0,"/sports/skating/figure skating"),10000767:e.r(184,0,"/sports/cheerleading"),10000768:e.r(184,0,"/sports/auto racing"),10000769:e.r(184,0,"/sports/weightlifting"),10000770:e.r(184,0,"/sports/gymnastics"),10000771:e.r(184,0,"/sports/swimming"),10000772:e.r(184,0,"/sports/running and jogging"),10000773:e.r(131,"/sports/hockey","/sports/hockey/field hockey"),10000774:e.r(184,0,50),10000775:e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,"/sports/bicycling/mountain biking"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/canoeing and kayaking"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/climbing"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,50),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/go kart"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/parachuting"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/scuba diving"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/skating"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,54),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/skiing/waterskiing"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/snowboarding"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,"/sports/surfing and bodyboarding"),e.ge(1),1),2592e6)])),10000776:e.r(184,0,"/sports/wrestling"),10000777:e.r(131,"/sports/olympics",53),10000778:e.r(184,0,"/sports/martial arts"),10000779:e.r(184,0,"/sports/cricket"),10000780:e.r(184,0,"/sports/soccer"),10000781:e.r(135,"/art and entertainment/shows and events",26,29,35,"/home and garden/luxury homes","/style and fashion/fashion designers","/style and fashion/luxury goods"),10000782:e.r(184,0,"/style and fashion/beauty/hair care"),10000783:e.r(132,"/style and fashion/accessories",56,"/style and fashion/jewelry"),10000784:e.r(184,0,"/style and fashion/clothing"),10000785:e.r(184,0,"/business and industrial/automation/robotics"),10000786:e.r(184,0,"/science/computer science/artificial intelligence"),10000787:e.r(131,16,57),10000788:e.r(131,17,57),10000789:e.r(139,57),10000790:e.r(131,12,57),10000791:e.r(131,13,57),10000792:e.r(131,14,57),10000793:e.r(184,0,"/travel/tourist destinations/seaside resort"),10000794:e.r(184,0,"/travel/tourist destinations/africa"),10000795:e.r(184,0,"/travel/tourist facilities/camping"),10000796:e.r(184,0,"/travel/tourist destinations/south america"),10000797:e.r(184,0,"/travel/transports/road travel/road accident"),10000798:e.r(184,0,"/travel/tourist destinations/japan"),10000799:e.r(184,0,"/travel/tourist destinations/australia and new zealand"),10000800:e.r(134,"/travel/tourist destinations/eastern europe","/travel/tourist destinations/europe","/travel/tourist destinations/france","/travel/tourist destinations/greece","/travel/tourist destinations/italy"),10000801:e.r(184,0,"/travel/specialty travel/adventure travel"),10000802:e.r(184,0,"/travel/business travel"),10000803:e.r(184,0,"/travel/traveling with kids"),100738:e.r(187,89),101404:e.r(129,857,e.os(e.s,1,["comparison",439,806,831,978]),e.s,10,["comparison-results",439,"vehicle-dual-comparison"]),102266:e.r(187,131),102267:e.r(145,25056e5,e.y(4,103),1,1),102268:e.r(188,4,"Ottawa Citizen"),102803:e.r(187,353),103010:e.r(188,4,"Toronto Sun"),103011:e.r(188,4,"Vancouver Sun"),103012:e.r(188,4,"Canoe"),103314:e.q(e.tw(e.cb(11,e.t,e.ge(1),1),2592e6)),103315:e.q(e.acqs([e.tw(e.cb(6,e.y(18,880),e.ge(1),1),2592e6),e.ocqs([e.cb(12,e.t,e.e(0),1),e.tw(e.cb(6,e.y(18,880),e.ge(1),1),2592e6)]),e.cb(0,e.ref(37),e.ge(1),1)])),103316:e.r(28,0,17,894),103329:e.r(170,["the-beauty-bar","beauty-and-hair-care",186,"spring-fashion","fashion-and-beauty-blog","fashion-and-style",416],3,[186,892,417],["style",186,892,"fashion-show","fashion-trends",416,417]),103444:e.r(60,0,e.y(15,122),e.ge(1),1,0,e.os(e.s,23,["https://calgaryherald.com/?utm_source=sailthru&utm_medium=email&utm_campaign=ch%20noon%20roundup%20newsletter%202022-05-25&utm_term=ch_noon_newsletter","https://driving.ca/?utm_source=sailthru&utm_medium=email&utm_campaign=driving%20newsletter%202022-05-25&utm_term=driving_headlinenews","https://driving.ca/newsletters","https://edmontonjournal.com/newsletters",549,"https://montrealgazette.com/?utm_source=sailthru&utm_medium=email&utm_campaign=mg%20covid%20newsletter%20%202022-05-25&utm_term=mg_covid19_newsletter","https://montrealgazette.com/newsletters","https://montrealgazette.com/tag/bill-96/?utm_source=sailthru&utm_medium=email&utm_campaign=mg%20covid%20newsletter%20%202022-05-25&utm_term=mg_covid19_newsletter",563,"https://ottawacitizen.com/?utm_source=sailthru&utm_medium=email&utm_campaign=oc%20health%20newsletter%202022-05-24&utm_term=oc_covid19_newsletter","https://ottawacitizen.com/?utm_source=sailthru&utm_medium=email&utm_campaign=oc%20health%20newsletter%202022-05-25&utm_term=oc_covid19_newsletter","https://ottawacitizen.com/newsletters","https://theprovince.com/newsletters","https://torontosun.com/?utm_source=sailthru&utm_medium=email&utm_campaign=torsun%20covid19%20newsletter%202022-05-24&utm_term=torsun_covid19","https://torontosun.com/newsletters","https://www.thewhig.com/newsletters"]),e.ge(1),1,0,e.ps(8,722),e.ge(1),1),103579:e.r(150,e.os(e.cx,2,[225,223,222,221]),e.ref(19),21,73),104503:e.q(e.ocqs([e.tw(e.cb(0,e.o([e.os(e.cx,2,[187,"sports-betting-angle",876,875]),e.os(e.cx,3,["sports-betting-101","soccer-betting",875,482,681,727,724,"betting-news",189]),e.os(e.s,8,[187,"closing_lines_newsletter","sportsinteraction"]),e.os(e.s,1,[189,482,528,681,"nba-betting","ncaa-betting",727,875,876])]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.a([e.pc_(3,875),e.af_u(["properties","article_authors"],e.bsc([],["nnrRfBwX","psRKkDN6"]))]),e.ge(1),1),2592e6)])),104665:e.r(188,41,"AMP"),105536:e.r(51,2,[239,"defence-spending","national-defence","defence"],[239,"defence-watch"]),105537:e.r(174,[316],21,"Law Enforcement"),105538:e.r(144,e.bsc_(1,["CIxD8tZX","TF/YTont","gaK4JhgB","q2XYuWEf","ulbGc/qH"])),105539:e.r(188,1,"national"),105540:e.r(179,2,["vancouver-weather-forecast","calgary-weather","ottawa-weather","london-weather","cold-weather-alert","extreme-weather","winter-weather","weather-warning",995],995),105541:e.r(129,240,e.y(1,778),e.cx,2,["municipal-politics","politics-2","british-columbia-politics","saskatchewan-politics","government-and-politics","provincial-politics","edmonton-politics","montreal-politics",240,"federal-politics","ontario-politics","alberta-politics","canada-politics","local-politics","quebec-politics",778]),105542:e.q(e.ocqs([e.tw(e.cb(0,e.y(14,498),e.ge(3),3),2592e6),e.tw(e.cb(0,e.o([e.os(e.w,1,["sponsored-health","public-health","health-sponsored","health-blogs","health-pmn",492]),e.os(e.cx,2,["world-health","news-health","health-care-funding","health-care-policy","health-care-reform","health-care-system","health-care-issues","health-care","healthcare","health-2",492]),e.pc_(21,"Health")]),e.ge(1),1),2592e6),e.vq(e.mxw(4,e.a([e.y(4,90),e.y(1,721)]),["properties","completion"],e.g(.5)))])),105543:e.r(147,7),105544:e.r(151,e.w,1,[620,997],2,[153,347,730,495,997],[153,347,730,495,997],8,997,997),105547:e.r(130,e.os(e.cx,3,[274,275]),e.ps(8,274),e.ps(8,274),[274,275],[273,275],[274,275],14,498),105548:e.r(168,[764,"breast-lump-removal",853,999],[494,781,420,218,217,1e3],[764,494,781,420,218,217,1e3],[764,217,827,999]),105549:e.r(168,[853,665],[496,443,392,787,489,180,668],[496,392,787,489,180,668],[827,665]),105550:e.r(169,[896,161,339,"mental-health-in-the-workplace",670],[896,"social-anxiety","panic-attacks",161,"psycology & mental health","canadian-mental-health-association","mental-health-and-wellness","mental-health-treatments","mental-illness",670],[172,"ADHD","psychiatrist","psychiatry","psychologist","psychology",758,"PTSD","substance dependency","substance abuse","bulimia","anorexia","eating disorder","bipolar",339,161,"schizophrenia","mood disorder","mental health"],670),105553:e.r(170,["skimlinks",843,"online-shopping",858,"shopping-essenials",860,856,859],3,[857,860,856],[955,477,522,376,764,613,892,856,860]),105620:e.r(160,["professional-hockey","playoff-hockey","minor-hockey","iihf-under-18-mens-world-championship","world-juniors","whl","chl-on-tsn","ohl","national-hockey-league","pro-ice-hockey",609,"hockey-2",726,515],["Teams,hockey team,Minnesota Wild","Teams,hockey team,Anaheim Ducks","Teams,hockey team,Boston Bruins","Teams,hockey team,Calgary Flames","Teams,hockey team,Blue Jackets","Teams,hockey team,Dallas Stars","Teams,hockey team,Hurricanes","Teams,hockey team,Islanders","Teams,hockey team,Predators","Teams,hockey team,Red Wings","Teams,hockey team,Avalanche","Teams,hockey team,Coyotes","Teams,hockey team,Canucks","Companies,company,OHL","Tournaments,Hockey League,NHL","Teams,hockey team,Rangers","Teams,hockey team,Maple Leafs","Teams,hockey team,OILERS","Teams,hockey team,Sabres","Teams,hockey team,FLAMES","Teams,hockey team,Bruins","Teams,hockey team,Oilers","Teams,hockey team,Flyers","Teams,hockey team,Flames","Teams,hockey team,Kings","Teams,hockey team,Caps","Teams,hockey team,Habs"],[515,726,"vancouver-canucks"],[726,"hockey-inside-out","cult-of-hockey",609,515]),105688:e.r(166,3,[724,723,270,725,"football-sports-pmn",452],1,[270,452,723],["canadian-professional-football","professional-football","high-school-football","university-football","football-2",270,723,238,707,"football-3",452]),105689:e.r(160,["nba-playoffs",710,"national-basketball-association",184],["Teams,basketball team,Golden State Warriors","Teams,basketball team,San Antonio Spurs","Teams,basketball team,Sacramento Kings","Teams,basketball team,Memphis Grizzlies","Teams,basketball team,Toronto Raptors","Teams,basketball team,Atlanta Hawks","Teams,basketball team,Los Angeles Lakers","Teams,basketball team,Warriors","Teams,basketball team,Thunder","Teams,basketball team,Nuggets","Teams,basketball team,Boston Celtics","Teams,basketball team,Phoenix Suns","Teams,basketball team,Chicago Bulls","Teams,basketball team,Notre Dame","Teams,basketball team,Rockets","Teams,basketball team,Hornets","Teams,basketball team,Raptors","Teams,basketball team,Lakers","Teams,basketball team,Hawks","Teams,basketball team,Magic","Teams,basketball team,Nets","Teams,basketball team,AHS","Organizations,group,National Basketball League","Tournaments,Basketball League,National Basketball Association","Tournaments,Basketball League,NBA"],[184,710,936],[936,"ncaa",710,"ncaa-basketball-sports-pmn","nba-basketball-sports-pmn",184]),105690:e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,["wimbledon",920]),e.os(e.cx,3,["tennis-sports-pmn",920]),e.ps(1,920)]),e.ge(1),1),2592e6)),105691:e.r(165,1,["fighting",683],["ultimate-fighting-championship","mixed-martial-arts","ufc",683]),105692:e.r(166,3,[482,481],1,[481],["ottawa-hunt-and-golf-club","pga-tour","pga","golf-2",481]),105693:e.r(147,21),105755:e.q(e.tw(e.cb(0,e.o([e.pc_(21,"Technology"),e.os(e.cx,3,[767,"tech-gear",907,908,909,906,905,"personal-tech-technology-pmn","technology-community",463,911,"technology-pmn","technology-2",910]),e.os(e.s,1,[767,906,907,908,909,910])]),e.ge(1),1),2592e6)),105758:e.q(e.ocqs([e.tw(e.cb(0,e.o([e.ref(0),e.os(e.cx,7,[79,"Companies,airline,Air Transat"]),e.os(e.cx,5,["holiday period","holiday hookup","holiday shopping","airport","vacation romance nightmares",404,980,946,"Sudden travel opportunities","Best travel",146,"Travel plans",961]),e.ref(18),e.os(e.s,1,[319,946,976])]),e.ge(1),1),2592e6),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],109489)),e.cw(2,e.pe(6,109489)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180312)),e.cw(2,e.pe(6,180312)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180315)),e.cw(2,e.pe(6,180315)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180314)),e.cw(2,e.pe(6,180314)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],141981)),e.cw(2,e.pe(6,141981)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106253)),e.cw(2,e.pe(6,106253)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180313)),e.cw(2,e.pe(6,180313)),e.ge(1))])),105759:e.q(e.tw(e.cb(0,e.o([e.ref(11),e.ref(32),e.ref(25)]),e.ge(1),1),2592e6)),105825:e.r(155,["aging-and-the-elderly","aging-population",141],5,["healthy aging","aging-associated disease","aging brain",141],3,141,8,"https://nationalpost.com/news/canada/royal-longevity-the-science-behind-why-the-queen-and-prince-philip-seem-to-live-forever",1,[141]),105826:e.r(170,[782,354],5,["drug-and-treatments",355,782,354],[355,"drugs-alphabetical-search"]),105827:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,["aging-changes-in-sleep",865,597]),e.os(e.cx,2,[597,247,866,865]),e.os(e.cx,5,[597,247,866,865]),e.pc_(3,865)]),e.ge(1),1),5184e6)),105829:e.r(170,["red-wine","bc-wine","wine","whisky",347,730,820,821,"drinks","eats-and-drinks","food-reviews","food-network","food-blog",448],3,[629,451,448],[620,448,"dessert-recipes","best-recipes-ever",821,820,613,304,629,451,450,"food-life-pmn"]),105833:e.r(170,["salad-recipes","fruits-and-vegetables","vegetarian-food-and-cooking","veganism","healthy-eating",347,730],3,[495,348],[450,347,304]),105835:e.q(e.ocqs([e.tw(e.cb(0,e.a([e.y(14,498),e.y(1,352)]),e.ge(1),1),2592e6),e.cb(0,e.o([e.pc_(5,352),e.pc_(3,352)]),e.ge(1),1)])),105982:e.r(150,e.os(e.cx,2,["arts-videos","arts-and-life","arts-culture","art","art-exhibit","art-gallery","artwork","artist",165,322]),e.os(e.s,1,[165,323]),3,"local-arts"),106027:e.r(166,3,[208,210],1,[208,210,"e-reading","new-book-releases"],["reading","books-and-literature",208,"book-launch","books-blog","bookfest","books-2","book",210]),106031:e.r(166,3,[1001,701,699],1,[699],["concerts-and-events","concerts-and-tours","concerts","concert","blues-music","country-music","dance-music","local-music","rock-music","live-music","rap-music","pop-music","new-music","music-entertainment-blog","music-festivals","music-reviews","music-videos","music-junkie","music-stars","music-blog",700,699]),106039:e.r(157,["movie-stars","christmas-movies","marvel","disney","oscars","academy-awards","film-industry","film-reviews","film-review","filmmaking","film","movie-cars","historical-movies","horror-movies",692,"marvel-movies","comedy-movies","action-movies","drama-movies","movie-theatres",693,"movies-2",694],["toronto-international-film-festival",695,694],["cannes-film-festival","films",693,694],"/movies/"),106041:e.r(166,3,[262,261,263,267],1,[263,267],["wannabe-celebrity","celebrity-endorsements","celebrity-designers","celebrity-weddings","celebrity-scandals",265,"celebrity-splits","celebrity-chefs",266,261,264,263]),106055:e.r(122,"301","106055","106055"),106056:e.r(122,"35487","106056","106056"),106057:e.r(118,"291","106057","eyeota","35437","106057","225","106057"),106062:e.r(120,"35430","106062","35430","106062","6675","106062","294","106062","229","106062"),106069:e.r(121,"35455","106069","230","106069","35431","106069","6676","106069","295","106069","35443","106069"),106070:e.r(119,"35456","106070","231","106070","296","106070","35444","106070"),106072:e.r(119,"35458","106072","233","106072","11210","106072","35446","106072"),106073:e.r(120,"35459","106073","298","106073","35433","106073","6678","106073","234","106073"),106074:e.r(121,"35460","106074","6679","106074","299","106074","235","106074","35434","106074","35448","106074"),106075:e.q(e.cb(0,e.o([e.y(4,131),e.os(e.s,14,["thegrowthop.com"])]),e.ge(1),1)),106083:e.r(141,"35503","106083"),106086:e.r(115,"eyeota","35501","106086","eyeota","6683",!1,"106086"),106087:e.r(115,"eyeota","6684","106087","eyeota","35502",!1,"106087"),106088:e.r(115,"eyeota","6685","106088","eyeota","35504",!1,"106088"),106093:e.r(141,"35590","106093"),106245:e.r(49,[653,994],[994,"wealth-management"],7,["Companies,company,Columbia Pacific Wealth Management","Companies,company,Doyle Wealth Management","Companies,company,IG Wealth Management"],"managing-wealth"),106246:e.r(179,3,[518,517,477],477),106253:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,[954,955]),e.pc_(3,955)]),e.ge(1),1),2592e6)),106255:e.r(146,e.pc_(3,522),1,860),106256:e.r(181,3,376,376),106257:e.r(181,3,764,764),106258:e.r(181,3,613,613),106259:e.q(e.ocqs([e.tw(e.cb(0,e.a([e.y(1,417),e.pc_(3,892)]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.y(1,892),e.ge(1),1),2592e6)])),106261:e.r(175,1,653,[649,654,"luxury-ev",651,"luxury-brands","luxury-hybrid","luxury-sedan",650,"luxury-car","hotel-luxury-condo","luxury-real-estate",656,652,"luxury-homes",645],5,["expensive vehicles",648,"luxury brands",646,645],3,[653,645]),106365:e.r(174,[628,"support-and-buy-local-auction"],3,628),106408:e.r(166,3,["executive-summary",389],1,[389],["executive-changes","executive-compensation","executive-management"]),106411:e.r(167,4,["Today\'s Farmer","Ontario Farmer"],["agriculture-and-agri-food-canada","agriculture-sector",144,414,415],5,[414,"complex agricultural societies",144,415],e.s,1,[144,"dairy-farmers-of-ontario","dairy-farming",412,413],3,[412,413,144]),106418:e.r(145,108e6,e.o([e.os(e.cx,2,["business-real-estate",241,815,810,814,818,817,809,808,807]),e.os(e.cx,3,[813,812,811,816,807]),e.os(e.s,1,[807,819])]),1,1),106421:e.r(170,["national-spending",706,"economies","economics","economist",358],3,["economy-pmn",358],["canadian-economy","economy-next",358]),106423:e.r(156,["central-bank-digital-currency","ethereum","bitcoin-mining",194,320,321,"crypto"],5,[320,321,"dogecoin","dodgecoin","Bitcoin"],[194,321],321),106437:e.r(124,"1005238089","106437","1005390229","106437","60","106437"),106444:e.r(160,["capp","trans-alaska-pipeline-system","trans-mountain-pipeline","energy-east-pipeline","keystone-xl-pipeline","pembina-pipeline-corp","pembina-pipeline","pipeline-transportation","pipelines","coastal-gaslink-pipeline","natural-gas-prices","coastal-gaslink","natural-gas","imperial-oil-ltd","canadian-oil","alberta-oil-and-gas","alberta-oilsands","the-oilsands-project-history","oil-and-gas-exploration-and-drilling",739,"oil-and-gas-field-services","oil-pipelines",736,738,"oil-sands",740,"oil","gas-tax","gas"],["Companies,oil and gas company,shell","Companies,oil and gas company,Gazprom","Companies,oil and gas company,Enbridge","Companies,oil and gas company,Suncor","Companies,oil and gas company,Exxon Mobil","Companies,oil and gas company,Suncor Energy","Companies,oil and gas company,Enbridge Inc.","Companies,oil and gas company,Kinder Morgan","Companies,oil and gas company,Devon","Companies,oil and gas company,CNOOC","Companies,oil and gas company,Smith","Companies,oil and gas company,Noble","Companies,oil and gas company,Shell","Companies,oil and gas company,Total","Companies,oil and gas company,Oxy","Companies,oil and gas company,OMV","Companies,oil and gas company,BP","Companies,oil and gas company,Eni"],["enbridge",373,"inter-pipeline-ltd",736,737,738,739,740,"union-gas"],["energy-business-pmn",373,737]),106445:e.r(166,3,[766,765,181],1,[181,765],["cibc","bank-of-montreal","bmo","withdrawal-facility","savings","money-saving","canadian-banks",706,"royal-bank-of-canada","scotiabank","td-bank","bank-of-america-corporation","bank-of-america-corp","bank-of-nova-scotia","bank-of-canada",181,"banking-basics","open-banking","banks"]),106449:e.r(152,e.os(e.cx,3,[441,604,"market-moves",250,478,"investment-strategies",603,602]),e.w,1,[441,"value-investing",458,"funds","mutual-funds","bond-prices",207,937,884,"stock-prices",883,250,"small-cap-investing",478,604,603,602],2,["investing-advice","investments","investing-2",605,"markets",705,"sp-500",965,937,"bond-market",294,430,"bond-markets","u-s-stocks","tech-stocks","energy-stocks",884,883,602],5,["Toronto Stock Exchange","stock market returns","treasuries",207,"sp500","s&p500",965,705,"market rate","stocks","stock market",602,605],8,"https://financialpost.com/markets"),106652:e.r(158,["controller-freak","final-fantasy","game-reviews","nintendo-co-ltd","nintendo-switch","microsoft-xbox-360","xbox-360-reviews",1003,"sony-playstation3","playstation-4-reviews",772,"video-game-addiction","video-games"],["nintendo",1003,772,"video game retailer\'s value","video games"],462,[463,462]),106653:e.r(153,e.ps(14,548),e.ps(8,548),e.w,1,[144,"agriculture-commodities-business-pmn",293],2,["sp-global-commodity-insights",294,"commodity-prices",293],["global commodities",293,"Canada\'s core commodities inflation"],["mining-commodities-business-pmn",293]),106657:e.r(172,28,5,["money market funds",685,425,422],3,[211,"future-money","your-money","smart-money","young-money","money-news",685,429,437,766,765,409,423,454,432],8,541,1,[422,428,429,430,432,437,"fp-answers","fp-comment","fp-work",685]),106660:e.r(157,["canada-pension-plan","pensions",923,922,"rrsp-video","rrsps",837,"ontario-municipal-employees-retirement-system","registered-retirement-savings-plan","retirement-planning","retirement-advice","retirement-2","retirement-saving",830],[922,837,830],["pension",830,837,922],"https://financialpost.com/personal-finance/retirement/"),106662:e.r(154,e.pc_(3,922),e.ps(8,"https://financialpost.com/personal-finance/tfsa"),e.os(e.s,1,[922]),e.cx,2,[923,922]),106663:e.r(166,3,[423,922,"tax-season",904],1,[590,"tax-credit",903,904],["cra","canadian-taxpayers-federation","vacancy-tax","income-taxes","wealth-tax",590,"sc-taxes","fp-taxes",903,"tax-instalments","tax_strategies","tax-planning","tax-strategy","tax-software","tax-returns","tax-policy","tax-fraud","taxation","tax-law",904,"tax"]),106664:e.r(158,["workplace-safety-and-insurance-board","comprehensive-insurance","pay-as-you-go-insurance","employment-insurance","collision-insurance","no-fault-insurance",621,174,"gap-insurance","insurance-corporation-of-british-columbia","insurance-institute-for-highway-safety","insurance-bureau-of-canada",252,"insurance-industry",599],["car insurance","dental insurance","home insurance",493,"insurance companies","insurance company","insurance rates",599],599,[621,599]),106669:e.r(39,e.os(e.cx,2,[814,"shared-equity-mortgages","canada-mortgage-and-housing-corporation",235,"mortgage-stress-test",688,689,"mortgage"]),e.os(e.cx,3,[690,"mortgage-solutions",689]),5,["mortgage payments","adjustable rate mortgages","Canadian mortgage market","Canada Mortgage","rate mortgages","mortgage shoppers","mortgage brokers","mortgage lender","mortgage market","mortgage rates",689],8,"https://financialpost.com/real-estate/mortgages",1,[688,689]),106677:e.r(170,["affinity-credit-union","home-equity-line-of-credit","credit-counselling-society","credit",313,300,"mnp-consumer-debt-index","consumer-debt",333,332,"variable-rate-loans","student-loans","loans"],3,[211,332],[211,332]),106683:e.r(178,302,[228,"convertible","convertibles"],[228,"convertible car"],302),106684:e.r(161,"coupe-new-car-preview",["coupes","coupe"]),106685:e.r(176,["hatchbacks",491],3,140,1,491),106686:e.r(161,411,["van","vanlife",581,"minivans","minivan"]),106688:e.r(154,e.y(1,846),e.os(e.cx,2,["sedans",846]),e.pc_(3,846),e.w,13,["Honda pulls the plug on its Clarity plug-in hybrid sedan","First Drive: 2015 Hyundai Genesis Sedan","Shopping for a used sports sedan? These 5 should be on your list","5 Best sport sedans that don\'t break the bank"]),106689:e.r(176,["station-wagon","wagons",993],3,993,33,993),106690:e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,["comparos-small-suvs","body-on-frame-suv","best-selling-suv","performance-suv","subcompact-suvs","affordable-suv",364,"three-row-suv","comparo-suvs","classic-suv","lincoln-suv","premium-suv","midsive-suv","suvs-and-crossovers","suv-comparison","suv-crossover","suv-review","suv-coupe","full-size-suv","cheapest-suv","crossover-suv","compact-suv",655,583,654,"small-suvs","lexus-suv","small-suv",901]),e.os(e.cx,5,["sport-utility-vehicle","today\'s most affordable SUVs","grey Hyundai Tucson SUV","wheel drive SUVs","subcompact SUV","three row SUV","Cayenne SUV","larger SUVs","grey SUV","SUVs","SUV"]),e.pc_(3,901),e.ps(33,901),e.os(e.s,36,["cuv-crossover","full-size,luxury","subcompact"]),e.ps(1,901)]),e.ge(1),1),2592e6)),106691:e.r(153,e.os(e.s,36,["electric"]),e.os(e.s,1,[362,365,387,775]),e.cx,2,["ev-production",387,"ev-road-trip","ev-charging","ev-mandate","ev-battery",388,"ev-tariff","ev-rebate","ev-owners","ev-range","ev-sales","ev5","evs","ev","plug-in-hybrid-vehicles",774,773,775,"edmonton-electric-vehicle-charging-station-network","electric-vehicle-battery-plant","electric-vehicle-batteries","electric-vehicle-metals","electric-sedan","electric-buses",364,"electric-motorcycle","electric-race-car",363,366,365,"electric-trucks",362,"electric-car"],7,["Brands,car brand,Hyundai Kona Electric","Companies,company,BYD","Companies,company,Kona Electric",80],["EV battery plant","EV transition","EV conversion","EV company","EV subsidy","EV mandate","EV drivers","EV vehicle","EV sector","EV owners","EV sales","EV hype","EVs","EV","cheaper electric vehicle","single electric vehicle","latest electric car","older electric cars","new electric car purchase","electric car owners","electric vehicles"],["electric-cars-driving-unplugged",366]),106753:e.r(168,[406,409],[424,405,406],["food inflation","household income","household economics accounts","household disposable income","household budget","Family Finance story"],[621,409]),106754:e.r(176,[774,773,941,584,581,582,583,"hybrids","hybrid"],3,584,1,584),106755:e.r(166,3,[379,455],1,[379,455,"startup-canada"],["youth-entrepreneurs","entrepreneurs",379,"startups"]),106757:e.r(145,18e5,e.o([e.os(e.cx,2,[529,"work-trends"]),e.os(e.s,1,["business-insider","business-trends","business-wire"])]),1,1),106758:e.r(151,e.cx,2,[649,651,655,650,654],7,["Brands,car brand,Land Rover","Companies,car company,Mercedes"],["bentley car",614,"range rover",170,671,204,"luxury car brand",648,"luxury vehicle",646],1,645,645),106759:e.r(156,["performing-arts",702,"jason-kenney-hot-boy-summer-the-musical","musicals","broadway-across-canada","vancouver-theatre","saskatoon-theatre","arts-club-theatre","lunchbox-theatre","the-roxy-theatre","varscona-theatre","ottawa-theatre","montreal-theatre","citadel-theatre","shadow-theatre","grand-theatre","live-theatre","new-theatre","sage-theatre","theatre-tillsonburg","theatre-calgary","theatrical-plays",927,929,"theatre-sarnia",925,926],7,["Artifacts,location,Broadway","Artifacts,Theatre,Queen Elizabeth Theatre","Artifacts,Theatre,Maclab Theatre","Artifacts,Theatre,Globe Theatre","Artifacts,Theatre,York Theatre","Artifacts,Theatre,Park Theatre","Artifacts,Theatre,Grand Theatre","Artifacts,Theatre,Sage Theatre"],["theater-reviews",926],926),106769:e.r(180,["sports-car","sports-cars",763,"performance-cars"],["speed-performance",763],763),106770:e.r(180,[582,388,363,771,"pickups","pickup"],[771,"pickup-truck"],771),106771:e.r(176,[899,"supercar"],3,899,1,899),106772:e.r(176,[411,"family-vehicle"],3,411,1,411),106784:e.r(182,140,140,140),106785:e.r(171,[287,"classic-and-antique-cars","classic-car-restoration",279],3,279,[287,279]),106786:e.r(128,[e.os(e.w,1,[978,979,977]),e.os(e.cx,2,[978,"how-to-buy-used-car","buying-used",979,"used-guide",977]),e.os(e.cx,3,[978,979,977])],e.os(e.s,8,["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"]),4,353),106787:e.r(170,["road-safety",839,"automotive-repair-and-maintenance",658],3,[839,658],[839,658]),106788:e.r(176,[174,252,599],3,599,1,599),106789:e.r(181,3,857,857),106790:e.r(170,[806,834,"car-review","review"],3,[834,831],[806,"first-drive",834,831]),106791:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,["how-it-works",177,596,911]),e.os(e.cx,2,[596,"automotive-technology"]),e.pc_(7,"Companies,company,EV Technology Group ltd."),e.os(e.cx,3,[177,596,911])]),e.ge(1),1),2592e6)),106792:e.r(167,1,["column",176,177,986,287,251],[175,287,286,251],7,["Show,communication,Montreal International Auto Show","Show,communication,New York Auto Show","Organizations,group,International Auto Show mid-February"],e.cx,3,[176,177,986,251],5,[177,175,287,286,251]),106842:e.r(128,[e.os(e.cx,2,["ford-motor-co","ford-fiesta","ford-festiva","ford-model-t","ford-mustang","ford-ranger","ford-shelby","ford-taurus","ford-bronco","ford-fusion","ford-escape","ford-f-450","ford-f-350","ford-c-max","ford-f-250","ford-focus","ford-f-150","ford-sync","ford-edge","ford-gt","ford-mykey",453]),e.os(e.cx,7,["Brands,car brand,Ford Ranger Raptor","Brands,car brand,Ford Expedition","Brands,car brand,Ford Super Duty","Brands,car brand,Ford Explorers","Brands,car brand,Ford Explorer","Brands,car brand,Ford Edge","Brands,car brand,Ford Mustang","Brands,car brand,Ford Ranger","Brands,car brand,Ford Escape","Brands,car brand,Ford F-150","Brands,car brand,Ford F150","Brands,car brand,Ford GT","Brands,car brand,Ford","Companies,car company,Ford Motor","Companies,car company,Ford"]),e.os(e.cx,5,["ford trucks","ford ranger","ford focus","ford explorer","Ford Mustang 2015-2023 interior","Ford Mustang efficiency","Ford\'s Mustang","Ford Motor Co.","Ford Escape","Ford F-150","Ford Edge","Ford"]),e.os(e.s,12,[453]),e.ps(1,453)],e.ps(12,453),10,439),106843:e.r(152,e.ps(12,940),e.cx,2,["toyota-crown-signia","toyota-land-cruiser","toyota-fj-cruiser","toyota-4runner","toyota-canada-inc","toyota-mirai","toyota-u-s-a","toyota-fj40","toyota-prius-prime","toyota-prius","toyota-rav4","toyota-bz4x",941,"toyota-corolla","toyota-avalon","toyota-matrix","toyota-sienna","toyota-tacoma","toyota-tundra","toyota-supra","toyota-yaris","toyota-camry",940],7,["Brands,car brand,Toyota Highlander","Companies,company,Toyota Venza limited","Companies,car company,Toyota Motor","Companies,car company,Toyota","Brands,car brand,Toyota Celica","Brands,car brand,Toyota 4Runner","Brands,car brand,Toyota Avalon","Brands,car brand,Toyota Tacoma","Brands,car brand,Toyota Corolla","Brands,car brand,Toyota Tacomas","Brands,car brand,Toyota Sequoia","Brands,car brand,Toyota Sienna","Brands,car brand,Toyota Yaris","Brands,car brand,Toyota Supra","Brands,car brand,Toyota Camry","Brands,car brand,Toyota Tundra","Brands,car brand,Toyota Venza","Brands,car brand,Toyota Rav4","Brands,car brand,Toyota Prius","Brands,car brand,Toyota C-HR","Brands,car brand,Toyota RAV4","Brands,car brand,Toyota MR2"],5,["2021 Toyota Highlander","Toyota Highlander","Toyota 4Runner","Toyota Corolla","Toyota Siennas","Toyota Sienna","Toyota Tundra","Toyota Crown","Toyota Prius","Toyota RAV4","Toyota"],1,940),106844:e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,["bmw-m-series","bmw-7-series","bmw-x-series","bmw-6-series","bmw-5-series","bmw-3-series","bmw-i3","bmw-x5m","bmw-canada","bmw-x3","bmw-m3","bmw-x5","bmw-m5","bmw-x1","bmw-ix","bmw-ag","bmw-m",204]),e.os(e.cx,7,["Companies,car company,BMW Group","Brands,car brand,BMW 2 Series Coupe","Companies,car company,BMW","Companies,car company,BMWs","Brands,car brand,BMW 5 Series","Brands,car brand,BMW X3"]),e.pc_(5,204),e.ps(12,204)]),e.ge(1),1),2592e6)),106887:e.r(173,["gmc-sierra","gmc-canyon","gmc-yukon",479],["Companies,vehicle company,General Motors","Brands,car brand,GMC Yukon Denali","Brands,car brand,GMC Terrain","Brands,car brand,GMC Canyon","Brands,car brand,GMC Yukon","Companies,car company,GMC"]),106888:e.r(183,729,["nissan-rogue","nissan-micra","nissan-juke","nissan-gt-r","nissan-leaf",729],["Brands,car brand,Nissan Pathfinder","Brands,car brand,Nissan Frontier","Brands,car brand,Nissan Qashqai","Brands,car brand,Nissan Sentra","Brands,car brand,Nissan Versa","Brands,car brand,Nissan Murano","Brands,car brand,Nissan Titan","Brands,car brand,Nissan Rogue","Brands,car brand,Nissan Kicks","Brands,car brand,Nissan Altima","Brands,car brand,Nissan GT-R","Brands,car brand,Nissan Leaf","Companies,car company,Nissan Motor","Companies,car company,Nissan"]),106889:e.r(173,["tesla-inc",921],["Companies,car company,Tesla Motors",80]),106890:e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,["honda-element","honda-odyssey","honda-s2000","honda-pilot","honda-civic","honda-cr-z","honda-cr-x","honda-hr-v","honda-cr-v","honda-fit",526]),e.os(e.cx,7,["Companies,car company,Honda Canada","Companies,vehicle company,Honda"]),e.os(e.cx,5,["regular Civic sedan","Ontario Honda","brand-new Honda Odyssey","2025 Honda Odyssey starts","2019 Honda Civic","Honda\'s 2025 Civic Si","Honda Ridgeline","Honda Odyssey","Honda\'s plant","Honda\'s suite","Honda Sensing","Honda CR-Vs","Honda Civic","Honda CR-V","Honda"]),e.ps(12,526),e.os(e.s,26,["accord","civic","cr-v","odyssey","pilot"])]),e.ge(1),1),2592e6)),106891:e.r(183,990,["sustainable-design-volvo","volvo-c40-recharge","volvo-xc70","volvo-xc90","volvo-s60",990],["Companies,car company,Volvo","Companies,car company,Volvo Cars","Companies,car company,Volvos"]),106893:e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,["volkswagen-golf-gti","volkswagen-jetta-gli","volkswagen-group-canada-inc","2025-volkswagen-id-buzz","volkswagen-touareg","volkswagen-golf-r","volkswagen-passat","volkswagen-beetle","volkswagen-atlas","volkswagen-id-4","volkswagen-tiguan","volkswagen-ag","volkswagen-jetta","volkswagen-golf","volkswagen-xl1","volkswagen-bus","volkswagen-gti",989]),e.os(e.cx,7,["Brands,car brand,Volkswagen Beetle","Brands,car brand,Volkswagen Rabbit","Brands,car brand,Volkswagen Jetta","Brands,car brand,Volkswagen Tiguan","Brands,car brand,Volkswagen Passat","Brands,car brand,Volkswagen Golf","Companies,car company,Volkswagen Group","Companies,car company,Volkswagens","Companies,car company,Volkswagen"]),e.os(e.cx,5,["volkswagen passat","volkswagen taos","volkswagen tiguan","volkswagen atlas","volkswagen golf","id-4","id4",933,"Volkswagen Beetle","Volkswagen ag","Volkswagen"]),e.os(e.s,12,[989,992]),e.os(e.s,26,["arteon","atlas",481,"jetta","passat","taos",933])]),e.ge(1),1),2592e6)),106894:e.r(172,22,2,["mazda-cx-9","mazda-cx-7","mazda-rx-7","mazda-5","mazda-2","mazda-6","mazda-3",662],7,["Brands,car brand,Mazda CX-5","Brands,car brand,Mazda MX-5","Companies,car company,Mazdas","Companies,car company,Mazda"],12,662,26,["cx-3","cx-5","cx-7","cx-9","mazda2","mazda3","mazda5","mazda6"]),106923:e.r(143,e.ref(21),2,2),106924:e.r(148,[e.ref(11),e.os(e.cx,5,["evening entertainment",374]),e.ref(32),e.ref(25)]),106925:e.r(145,12096e5,e.o([e.ref(28),e.os(e.cx,5,[425,"Finance",422]),e.os(e.cx,3,[454,432]),e.ps(8,541),e.os(e.s,1,[422,428,429,430,432,437])]),2,2),106939:e.r(183,612,["kia-sportage","kia-motors-corporation","kia-sorento","kia-seltos","kia-optima","kia-rondo","kia-forte","kia-soul","kia-rio",612],["Companies,company,Kia Niro Electric","Brands,car brand,Kia Telluride","Brands,car brand,Kia Sportage","Brands,car brand,Kia Sorento","Brands,car brand,Kia Soul","Brands,car brand,Kia Forte","Companies,car company,Kia"]),106940:e.r(173,["2022-jeep-grand-cherokee-4xe","jeep-grand-cherokee-4xe","jeep-grand-cherokee","jeep-gladiator","jeep-renegade","jeep-wagoneer","jeep-wrangler","jeep-cherokee","jeep-compass",607],["Brands,car brand,Jeep Grand Cherokee","Brands,car brand,Jeep Renegade","Brands,car brand,Jeep Cherokee","Brands,car brand,Jeep Gladiator","Brands,car brand,Jeep Wrangler","Brands,car brand,Jeep Compass","Companies,car company,Jeep"]),106945:e.r(183,586,["hyundai-motor-company","hyundai-entourage","hyundai-veloster","hyundai-palisade","hyundai-santa-fe","hyundai-elantra","hyundai-genesis","hyundai-canada","hyundai-tucson","hyundai-accent","hyundai-sonata","hyundai-venue","hyundai-pony","hyundai-kona",586],["Brands,car brand,Hyundai Santa Fe","Brands,car brand,Hyundai Tucson","Brands,car brand,Hyundai Kona","Brands,car brand,Hyundai Ioniq","Companies,car company,Hyundais","Companies,car company,Hyundai Motor","Companies,car company,Hyundai","Brands,car brand,Hyundai"]),106948:e.r(173,["dodge-challenger","dodge-stealth","dodge-daytona","dodge-durango","dodge-journey","dodge-caravan","dodge-charger","dodge-magnum","dodge-dakota","dodge-colts","dodge-viper","dodge-dart","dodge-ram","dodge"],["Brands,car brand,Dodge Grand Caravan","Brands,car brand,Dodge Challenger","Brands,car brand,Dodge Journey","Brands,car brand,Dodge Charger","Brands,car brand,Dodge Durango","Brands,car brand,Dodge Rams","Brands,car brand,Dodge Ram","Companies,car company,Dodge"]),106949:e.r(148,[e.pc_(21,116),e.os(e.s,1,[721,778])]),106950:e.r(173,["chrysler-pt-cruiser","chrysler-group-llc","chrysler-pacifica","chrysler-sebring","chrysler-200","chrysler-300","chrysler-llc",278],["Brands,car brand,Chrysler Pacifica","Companies,car company,Chrysler","Companies,car company,Fiat Chrysler Automobiles","Companies,company,Fiat Chrysler Automobiles nv","Companies,car company,Fiat Chrysler"]),106953:e.r(155,["audi-rsq8","audi-rs7","audi-rs5","audi-rs3","audi-q6-e-tron","audi-q4","audi-quattro","audi-s4","audi-s5","audi-a6","audi-canada","audi-e-tron","audi-a5","audi-q7","audi-a8","audi-tt","audi-q5","audi-r8","audi-a4","audi-a3","audi-ag",170],7,["Brands,car brand,Audi Q7","Brands,car brand,Audi Q5","Brands,car brand,Audi A4","Brands,car brand,Audi A6","Brands,car brand,Audi R8","Brands,car brand,Audi e-tron","Companies,car company,Audi"],5,170,12,170,26,["a3","a4","a5","a6","a7","a8","e-tron","q3","q5","q7","q8","r8","rs-3","rs-6-avant","rs6","s3","s4","s5","s7","s8","tt-rs"]),106954:e.r(173,["cadillac-escalade","cadillac-fairview","cadillac-lyriq","cadillac-cts",229],["Companies,car company,Cadillacs","Companies,car company,Cadillac","Brands,car brand,Cadillac Escalade","Brands,car brand,Cadillac CTS-V","Brands,car brand,Cadillac XT4","Brands,car brand,Cadillac XT5","Brands,car brand,Cadillac CTS"]),106956:e.r(183,272,["chevrolet-corvette-stingray","chevrolet-monte-carlo","chevrolet-k5-blazer","chevrolet-silverado","chevrolet-chevelle","chevrolet-colorado","chevrolet-suburban","chevrolet-traverse","chevrolet-corvette","chevrolet-equinox","chevrolet-sprint","chevrolet-blazer","chevrolet-malibu","chevrolet-impala","chevrolet-camaro","chevrolet-tahoe","chevrolet-spark","chevrolet-cruze","chevrolet-trax","chevrolet-volt",272],["Companies,car company,Chevrolets","Companies,car company,Chevrolet"]),106966:e.q(e.tw(e.cb(0,e.o([e.y(12,150),e.y(1,439),e.y(10,439),e.pc_(2,150)]),e.ge(1),1),2592e6)),106979:e.r(162,e.pc_(21,73),e.ref(19),["local-businesses","ottawa-businesses","edmonton-business",406,"montreal-business","jasper-businesses-wildfires","calgary-business","ivey-business-school","ottawa-business","london-business",222,"local-business-2","small-business-2",628,"new-business","business-management",224,"business-activity",225,"business-videos","business-family","business-3",223,221]),107038:e.r(149,e.pe(12,"bentley"),e.y(1,439),e.y(10,439),e.pc_(2,"bentley-continental"),e.pc_(7,"Brands,car brand,Bentley")),107041:e.r(173,["ferrari-458-italia","ferrari-laferrari","ferrari-330","ferrari-348","ferrari-250","ferrari-412","ferrari-spa","ferrari"],["Companies,car company,Ferrari","Teams,racing team,Ferrari","Brands,car brand,Ferrari"]),107043:e.r(173,["jaguar-cars-ltd","jaguar-x-type","jaguar-xj","jaguar-xk","jaguar"],["Companies,car company,Jaguar","Brands,car brand,Jaguar F-Type"]),107063:e.r(118,"1415","107063","liveramp_ShareThis","1005134319","107063","34667","107063"),107184:e.r(115,"eyeota","1417","107184","liveramp_ShareThis","1005134309",!1,"107184"),107187:e.r(118,"12711","107187","liveramp_Experian","1004577979","107187","12711","107187"),107188:e.r(116,"liveramp_Experian","1004577909","107188","liveramp_Epsilon","1003004676",!1,"107188","liveramp_Experian","1004577909",!1,"107188","eyeota","34665",!1,"107188","liveramp_Acxiom","300454099",!1,"107188"),107189:e.r(117,"liveramp_Experian","1004577929","107189","liveramp_Acxiom","300441499","107189","liveramp_Epsilon","1003004706","107189","liveramp_Acxiom","300455399","107189"),107192:e.r(117,"liveramp_IPSOS","1004367389","107192","liveramp_ShareThis","1001011799","107192","liveramp_Acxiom","300456599","107192","liveramp_Acxiom","300456499","107192"),107195:e.r(116,"liveramp_Experian","1004577969","107195","liveramp_Acxiom","300454799",!1,"107195","liveramp_Acxiom","300453699",!1,"107195","liveramp_Epsilon","1003004736",!1,"107195","liveramp_Epsilon","1003004746",!1,"107195"),107198:e.r(116,"eyeota","12689","107198","liveramp_Zeotap","1004349159",!1,"107198","liveramp_ShareThis","1004559179",!1,"107198","eyeota","12689",!1,"107198","liveramp_killi","1006832981",!1,"107198"),107199:e.r(117,"liveramp_ShareThis","1005134039","107199","liveramp_ShareThis","1005134049","107199","liveramp_Alliant","1002759436","107199","liveramp_Epsilon","1000997459","107199"),107218:e.r(142,"1005134659","107218"),107220:e.q(e.ocqs([e.itp("liveramp_Stirista","1004818369",!1,"107220"),e.itp("liveramp_Stirista","1004818349",!1,"107220"),e.itp("liveramp_ShareThis","1005134289",!1,"107220")])),107221:e.r(142,"1005134669","107221"),107231:e.r(115,"eyeota","34814","107231","liveramp_Bombora","1002686876",!1,"107231"),107233:e.q(e.ocqs([e.itp("liveramp_Bombora","1005238139",!1,"107233"),e.itp("liveramp_Bombora","1000096174",!1,"107233"),e.itp("liveramp_Bombora","1005390299",!1,"107233"),e.itp("liveramp_ShareThis","1005134949",!1,"107233")])),107311:e.r(116,"liveramp_Bombora","1000094144","107311","liveramp_Bombora","1005237909",!1,"107311","liveramp_Bombora","1000094134",!1,"107311","liveramp_ShareThis","1005135179",!1,"107311","liveramp_ShareThis","1005652231",!1,"107311"),107312:e.q(e.ocqs([e.itp("liveramp_Bombora","1000095414",!1,"107312"),e.itp("liveramp_Bombora","1000095854",!1,"107312"),e.itp("eyeota","34843",!1,"107312"),e.itp("eyeota","35022",!1,"107312"),e.itp("liveramp_Bombora","1000094974",!1,"107312"),e.itp("liveramp_Bombora","1000095854",!1,"107312")])),107316:e.q(e.ocqs([e.itp("liveramp_Bombora","1000095124",!1,"107316"),e.itp("liveramp_Bombora","1000095134",!1,"107316"),e.itp("eyeota","6631",!1,"107316"),e.itp("liveramp_Bombora","1000095114",!1,"107316")])),107317:e.r(115,"liveramp_Bombora","1000096114","107317","liveramp_Bombora","1005238099",!1,"107317"),107318:e.r(124,"1000096154","107318","1005238119","107318","6634","107318"),107320:e.r(115,"liveramp_Bombora","1000095234","107320","liveramp_Bombora","1005237869",!1,"107320"),107321:e.r(115,"liveramp_Bombora","1002686926","107321","eyeota","35055",!1,"107321"),107328:e.r(123,"1005238109","107328","21","107328","267","107328"),107329:e.r(141,"59","107329"),107330:e.r(126,"1000093874","107330","1005237919","107330","1000093834","107330","35056","107330"),107341:e.q(e.ocqs([e.itp("liveramp_Bombora","1000095324",!1,"107341"),e.itp("eyeota","41",!1,"107341"),e.itp("eyeota","34976",!1,"107341"),e.itp("liveramp_Bombora","1000095334",!1,"107341"),e.itp("eyeota","18",!1,"107341"),e.itp("liveramp_Bombora","1000095344",!1,"107341")])),107342:e.r(115,"eyeota","35189","107342","liveramp_Bombora","1000096034",!1,"107342"),107343:e.r(126,"1000095954","107343","1000095984","107343","1000095964","107343","31","107343"),107346:e.r(123,"1000096124","107346","3","107346","6524","107346"),107348:e.r(115,"liveramp_Bombora","1005237739","107348","liveramp_Bombora","1000093744",!1,"107348"),107350:e.r(115,"liveramp_Bombora","1000093714","107350","eyeota","35223",!1,"107350"),107351:e.r(115,"liveramp_Bombora","1005237719","107351","liveramp_Bombora","1000093724",!1,"107351"),107352:e.r(125,"1005237729","107352","1000093734","107352","1005387009","107352"),107353:e.r(125,"1005237749","107353","1000093754","107353","1005387029","107353"),107354:e.r(125,"1000093764","107354","1005387039","107354","1005237759","107354"),107359:e.r(115,"liveramp_Bombora","1005387049","107359","liveramp_Bombora","1000093774",!1,"107359"),107360:e.r(115,"liveramp_Bombora","1005387059","107360","liveramp_Bombora","1000093784",!1,"107360"),107484:e.r(115,"liveramp_Bombora","1000096214","107484","liveramp_Bombora","1005390099",!1,"107484"),108994:e.r(18,["5+k2tXrr","JhkjMdg/","JsNbnbPU","ZUPmu7x7","b6wHrKUZ","lQy+mSz3","u0exSE+3","uGnvO0J7","xH2UBqV7"]),108995:e.r(18,["90K1aGf9","K6v/1Y9T","KKSv2wFd","Or1KKvA1","cE5TSbMP","eh06GVBn","ptqsHgHa","r6E7PJ9R"]),109057:e.r(169,["heart-conditions",505],[506,626,507,504,505],[506,626,507,504,505],505),109188:e.r(94,.6818817),109229:e.r(110,.8007966),109230:e.r(91,.82351637),109232:e.r(79,.85709286),109287:e.r(79,.67404175),109289:e.r(111,.74077094),109290:e.r(94,.84151953),109489:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,["westjet-airlines-ltd",149,"air-canada",148]),e.os(e.cx,2,["fare-with-flair","flair-airlines-ltd","american-airlines","westjet-airlines","united-airlines","delta-airlines","porter-airlines-inc",149,148]),e.os(e.cx,7,["Companies,airline,WestJet Airlines","Companies,airline,WestJet","Companies,airline,Flair Airlines Ltd.","Companies,airline,Flair Airlines","Companies,airline,Delta Air Lines","Companies,airline,Delta Airlines","Companies,airline,United Airlines","Companies,airline,Porter Airlines",79]),e.os(e.cx,5,["american airlines","delta airlines","flair airlines",998,779,148,146]),e.pc_(3,149)]),e.ge(1),1),2592e6)),109493:e.r(182,528,528,528),109543:e.q(e.tw(e.cb(0,e.o([e.ref(22),e.os(e.cx,2,["buick-centurion","buick-regal","buick"]),e.pc_(7,"Brands,car brand,Buick Encore")]),e.ge(1),1),2592e6)),109565:e.r(115,"eyeota","6700","109565","eyeota","248",!1,"109565"),109566:e.r(115,"eyeota","6701","109566","eyeota","35466",!1,"109566"),110510:e.r(111,.5306858),110514:e.r(76,.5597014),110515:e.r(76,.86188173),110603:e.r(110,.5272438),111761:e.r(91,.4414066),111792:e.r(80,.812829),111793:e.r(80,.46960264),111796:e.r(106,.9706073),111797:e.r(106,.57908475),113089:e.r(115,"liveramp_Bombora","1000093644","113089","liveramp_Bombora","1005237649",!1,"113089"),113092:e.r(115,"liveramp_Bombora","1000093654","113092","liveramp_Bombora","1005237659",!1,"113092"),113093:e.r(115,"liveramp_Bombora","1000093664","113093","liveramp_Bombora","1005237669",!1,"113093"),113094:e.r(115,"liveramp_Bombora","1000093674","113094","liveramp_Bombora","1005237679",!1,"113094"),113095:e.r(115,"liveramp_Bombora","1000093684","113095","liveramp_Bombora","1005237689",!1,"113095"),113096:e.r(115,"liveramp_Bombora","1000093694","113096","liveramp_Bombora","1005237699",!1,"113096"),113097:e.r(115,"liveramp_Bombora","1000093704","113097","liveramp_Bombora","1005237709",!1,"113097"),113290:e.r(42,1,[997],2,[997,523,709],5,[997,523,709]),113785:e.r(65,549,89,89,722),114087:e.r(65,563,103,103,722),114444:e.r(166,7,["Companies,car company,Subarus","Companies,car company,Subaru"],12,[893],["subaru-corporation","subaru-solterra","subaru-forester","subaru-impreza","subaru-outback","subaru-legacy","subaru-baja","subaru-awd","subaru-wrx","subaru-xt",893]),114684:e.r(55,152,[449,"allergy",844,152,70],[449,844,152],70),114685:e.r(164,e.pc_(3,"Alzheimers-disease"),e.ps(1,155),[664,335,155,154],5,["alzheimer",664,335,"Alzheimer\'s disease"],[154,335,664]),114686:e.r(45,[173,172],5,["autistic",173,172],3,172,1,172),114736:e.r(44,[98,704,214,269,752,197,289,753,117,787,71,217,126,863,640,245,244,77,243,657,616,96,200],5,[98,704,214,269,752,197,289,753,117,787,71,217,126,863,640,245,244,77,243,657,616,96,200],[98,"Myeloma",214,269,197,289,753,787,863,217,640,77,"Lymphoma",96,200],[243,616,657,696,704,"skin-cancr"]),114815:e.q(e.tw(e.cb(0,e.o([e.y(1,343),e.os(e.cx,2,[132,970,971,343,83]),e.os(e.cx,5,["glucose monitor","insulin pump","insulin",371,372,"CGM","hyperglycemia","hypoglycemia","blood sugar","blood glucose","melitus","diabetic","T1D",132,970,971,343,83]),e.pc_(3,343),e.ps(13,343),e.ps(8,343)]),e.ge(1),1),2592e6)),114817:e.r(37,e.pc_(2,497),e.os(e.cx,5,[497,"Health Insurance"]),13,493),114820:e.r(46,[511,585,201],[511,585,201],585,[201,585]),114824:e.r(49,["obesity-and-overweight","obesity-canada",731],[996,732,627,733,206,106,731],5,[996,732,627,733,206,106,731],106),114825:e.r(45,[395,396,625,987,282,988,281,397,394],5,[395,396,625,987,282,988,281,397,394],3,"Eye-health",1,394),114827:e.q(e.acqs([e.cb(0,e.o([e.os(e.cx,2,[248,249,78,246]),e.os(e.cx,5,[248,249,78,246]),e.pc_(3,246)]),e.ge(1),1),e.cb(0,e.o([e.os(e.w,4,[90,131]),e.ps(1,246)]),e.e(0),1)])),114835:e.r(46,[982,981,309,308,684,768,310,447,133,983,984],[982,981,309,308,983,684,768,310,447,133,984],133,["vaccine-for-coronavirus",984]),115269:e.r(169,["renewables",484,900],["sustainable living","green-energy-partners","solar-energy","clean-energy","wind-energy",484,"waste-and-recycling","battery-recycling","recycling",900],["sustainable solutions",900],900),115296:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,[686,"moneywise"]),e.pc_(32,"MoneyWise"),e.pc_(3,686)]),e.ge(1),1),2592e6)),115302:e.r(171,["greem-economy",484,"environment-and-climate-change-canada",381,"environment-canada","news-environment","environmental-policy"],3,380,[381,380,"environment"]),115476:e.r(187,101),116161:e.r(36,e.pc_(2,440),e.os(e.cx,5,["new homes","new rental homes","new home","first time home buyer","first home"]),e.pc_(3,440),e.ps(1,440)),116162:e.r(48,[298],[720,298]),116164:e.r(48,[524],[711,813,419,718,525,524]),116165:e.r(48,[718],[719,720,718]),116414:e.r(47,["mastercard","visa","credit cards","credit card payments"],["visa-inc","credit-card-debt",313]),116417:e.r(81,.49997675),116419:e.r(81,.8537988),116592:e.r(36,e.ref(22),e.os(e.cx,2,["mercedes-benz-international-inc","mercedes-benz-cls-class","mercedes-benz-slk-class","mercedes-benz-clk-class","mercedes-benz-gl-class","mercedes-benz-sl-class","mercedes-benz-m-class","mercedes-benz-s-class","mercedes-benz-c-class","mercedes-benz-e-class","mercedes-benz-eqs",672,671]),e.os(e.cx,7,["People,person name,Mercedes EQ EQS","Companies,company,Mercedes-Benz Group ag","Brands,car brand,Mercedes-Benz GLC","Brands,car brand,Mercedes C-Class"]),e.ps(12,672)),116593:e.r(43,12,679,2,["mitsubishi-lancer-evolution","mitsubishi-outlander-phev","mitsubishi-corporation","mitsubishi-outlander","mitsubishi-lancer","mitsubishi-i-miev","mitsubishi-mirage",679],7,"Companies,car company,Mitsubishi"),116594:e.q(e.cb(0,e.o([e.os(e.cx,2,["fiat-spa","fiat-heritage-hub","fiat-500"]),e.pc_(7,"Companies,car company,Fiat"),e.ps(12,"fiat"),e.os(e.s,26,["500","countryman"])]),e.ge(1),1)),116595:e.r(45,["2024-lexus-rx","2024-lexus-nx","2023-lexus-rx","2023-lexus-rz-450e","lexus-rx-500h-f-sport-performance","lexus-nx-350h","lexus-gx-550","lexus-ux300h","lexus-tx","lexus-ux","lexus-motor-company","lexus-ct-200h","lexus-ux250h","lexus-es","lexus-ls","lexus-is","lexus-gs","lexus-rx",617],7,["Companies,car company,Lexus","Brands,car brand,Lexus LC","Brands,car brand,Lexus UX"],5,617,12,617),116596:e.q(e.cb(0,e.o([e.os(e.cx,2,["acura-integra","acura-motors","acura-nsx","acura-mdx","acura-tl",138]),e.os(e.cx,7,["Companies,car company,Acura","Brands,car brand,Acura TLX","Brands,car brand,Acura MDX","Brands,car brand,Acura RDX"]),e.ps(12,138),e.os(e.s,26,["integra","mdx","nsx","rdx","tl"])]),e.ge(1),1)),116608:e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,["food-inflation","inflation-rate",593]),e.os(e.cx,5,[76,510,"Biden Harris inflation","domestic inflation","headline inflation","rate of inflation","Today\'s inflation","2 % inflation target","inflation six months",593]),e.os(e.s,13,[306,593]),e.ps(1,593)]),e.ge(1),1),2592e6)),116612:e.r(159,["fuel-prices",530,"house-prices","home-prices","food-prices","energy-prices","gasoline-prices","gas-prices",307],["housing crises","housing crisis","housing prices","housing costs",76,510],307,306),116613:e.r(165,13,[163,"travel restrictions"],["travel-restrictions","covid-restrictions",163,"arrivecan-app",601,147,"vaccine-mandates","vaccine-mandate"]),116615:e.r(159,["federal-carbon-tax","carbon-tax-rebate","carbon-emissions-reductions","carbon-emissions","carbon-taxes",254],["GO Justin Trudeau\'s yearly carbon tax","Trudeau\'s Carbon Tax","consumer carbon tax","punitive carbon tax","federal carbon tax","Carbon tax revenues",253],254,253),117045:e.q(e.acqs([e.vq(e.mxw(4,e.t,["properties","completion"],e.g(.4))),e.tw(e.cb(0,e.t,e.ge(20),20),6048e5),e.tw(e.cb(3,e.t,e.ge(7),7),6048e5),e.scq(e.sw(1,e.t,["properties","aggregations","PageviewEngagement","engaged_time"]),e.vq(e.sw(4,e.t,["properties","engaged_time"])),e.g(3600))])),117065:e.q(e.tw(e.cb(0,e.a([e.os(e.cx,32,["Warren Kinsella","John Ivison","Joe Warmington","National Post Staff","Rex Murphy","Tristin Hopper","Conrad Black","Brian Lilley"]),e.os(e.s,15,[398,598,969])]),e.ge(1),1),2592e6)),117115:e.r(162,e.os(e.cx,3,["bc-real-estate",690,812,811,816,807,522,"buying-selling-westcoast-homes-and-design",711,813,419,"vacation-homes","calgary-homes-design",719,720,718,525,524]),e.os(e.s,1,[524,807]),[235,"housing-affordability","housing","housing-hub",530,"housing-awards","housing-crisis",529,"housing-market",241,"edmonton-real-estate","montreal-real-estate","alberta-real-estate-association","calgary-real-estate-board","calgary-real-estate","chatham-real-estate","toronto-real-estate","ottawa-real-estate-board","riocan-real-estate-investment-trust","quebec-real-estate","u-s-real-estate","london-real-estate","ottawa-real-estate","canada-real-estate","real-estate-board-of-greater-vancouver",810,"real-estate-declines",815,"real-estate-trends",818,817,809,808,807]),117735:e.r(54,976,976),120698:e.r(165,1,["work"],["jobs","jobs-and-labor",368,"labour-arbitration","labour-shortages","labour-shortage","labour-dispute","labour-market","labour",973,972]),120699:e.r(144,e.af_u(["properties","article_tags"],e.bsc([],["/5ItcqUB","6RyBkKv5","Cskn5MkW","QRzTRe2P","VnVn7zEt","mi+rWGrj","sirec06f"]))),120700:e.r(34,["MYy1RDMs","RLLiIL9j","bptcX+Xg","cALW4Fua","eT05kDVT","hoxaQbbV","j2u4byFd"]),120702:e.r(40,e.os(e.cx,2,[615,"layoffs",368,973,972]),1,615),120908:e.r(56,e.os(e.cx,2,[178,"back-to-school-safety","student","dorm-room"]),178,178),121178:e.q(e.cb(3,e.o([e.os(e.s,8,[158,418,832]),e.os(e.s,20,[158,418,832])]),e.ge(1),1)),121179:e.r(28,3,20,158),121180:e.r(28,3,20,418),121181:e.r(28,3,20,832),121598:e.r(33,["properties","article_authors"],["HEkM8wjV","UoleWo8x"]),121599:e.r(12,e.cb(0,e.os(e.s,15,[398,"fb","flipboard",598,"reddit","threads","tiktok",969]),e.ge(1),1),0,e.ref(7)),121835:e.r(115,"liveramp_Bombora","1000094774","121835","eyeota","6626",!1,"121835"),122065:e.r(130,e.pc_(3,"Lung-cancer"),e.os(e.s,8,[640,641,642,644,728,792]),e.af_u(["properties","article_tags"],e.bsc([],["/cSSfIJ0","Aqq9fwZW","Fx6HPe9u","j+J2710+","tXBteld5"])),[643,642,142,872,640],[728,642,"quitting-smoking",640],["lung condition",728,792,644,641,643,642,142,872,640],4,90),122111:e.r(44,[190,191,328,488,942,962,660,317,838,391,1005,255,392,494,496,443],5,[190,191,328,488,942,962,660,317,838,391,1005,255,392,494,496,443],[348,443],[443]),122208:e.r(181,2,918,918),122229:e.r(42,1,[868],2,["english-premier-league","fifa-world-cup","world-cup",682,"major-league-soccer","canada-soccer","soccer-2",868],3,[682,"international-soccer",868]),122231:e.r(44,["baseball rules","baseball field","intercounty-baseball","ottawa-valley-baseball-league","american-league-mlb","mlb-playoffs",680,"blue-jays","softball","vintage-baseball","intercounty-baseball-league","professional-baseball","major-league-baseball",183],7,["Teams,baseball team,San Diego Padres","Teams,baseball team,Seattle Mariners","Teams,baseball team,Chicago White Sox","Teams,baseball team,Houston Astros","Teams,baseball team,Oakland Athletics","Teams,baseball team,Detroit Tigers","Teams,baseball team,New York Yankees","Teams,baseball team,Toronto Blue Jays","Teams,baseball team,Tampa Bay Rays","Teams,baseball team,New York Mets","Teams,baseball team,New York Giants","Teams,baseball team,Wolverines","Teams,baseball team,Boston Red Sox","Teams,baseball team,Montreal Expos","Teams,baseball team,Red Sox","Teams,baseball team,Yankees","Teams,baseball team,Cowboys","Teams,baseball team,Chicago Cubs","Teams,baseball team,Blue Jays","Teams,baseball team,Canadians","Teams,baseball team,Knights","Teams,baseball team,Tigers","Teams,baseball team,Royals","Teams,baseball team,Angels","Teams,baseball team,Expos","Teams,baseball team,Giants"],[935,681,680,"mlb-baseball-sports-pmn",183],[183,680,935]),122234:e.r(34,["3/4JxxKT","NCnEGNml"]),122240:e.r(103,.9225926),122241:e.r(101,.90999585),122242:e.r(101,.6763794),123550:e.r(176,["costumes",490],7,"Events,time,Halloween",1,490),123551:e.r(149,e.pc_(2,195),e.pc_(7,"Events,event,Black Friday"),e.os(e.cx,3,[325,195]),e.ps(8,325),e.os(e.s,1,[195,325])),123552:e.r(22,0,e.pc_(2,843)),123553:e.r(171,[521,516,520,"weed-christmas","christmas-season","christmas-market",277],7,88,["christmas-fund","christine-tell","christmas-fair",277]),123556:e.r(176,["mother\'s day","father\'s day","mothers-day","fathers-day","child-welfare",273,"childrens-books","parent-traps",274,"parents",405,"parenting-blog",759],3,759,1,759),123557:e.r(48,[301],["national-contests","closed-contests",301]),124045:e.r(42,8,["https://financialpost.com/sponsored/business-sponsored/kesselrun-banking-on-gold-mining-comeback-in-northern-ontario?fbclid=iwar3irlea8og7bf-bgnx52mf_1n95k27pm2clzn5ocembaztwjghuqzrvu88","https://financialpost.com/sponsored/business-sponsored/noble-mineral-exploration-prepares-to-drill-for-rare-earth-elements-in-ontario-quebec","https://financialpost.com/sponsored/business-sponsored/tocvan-ventures-readies-to-strike-gold-and-silver-in-mexicos-sonora-state?fbclid=iwar3jdhnwfvlgtdbnarclakbnjv7po5qn33b17ovsfmtsj43eknlbs_kus0c","https://financialpost.com/sponsored/business-sponsored/tristar-gold-eyes-permits-to-mine-1-4-million-oz-deposit-in-brazil","https://financialpost.com/sponsored/investing-sponsored/giga-metals-looks-to-ethical-low-carbon-mining-for-decarbonization-revolution","https://financialpost.com/sponsored/investing-sponsored/pasofino-gold-ready-to-develop-its-4moz-deposit-in-west-africa"],2,["goldminers","precious-metals-mining-and-processing","metals-and-mining-sector","trevali-mining-corp","lundin-mining-corp","nickel-mining","gold-mining","coal-mining","mining-companies","mining-2","mining"],5,["copper","uranium","lithium","First Quantum Minerals ltd","mineral exploration company","miners","mining supply services","Canadian mining companies","mining sector"]),125796:e.r(24,3,20,[186,"lotion","makeup","sephora","skincare","sunscreen"]),125797:e.r(28,3,20,"bags"),126030:e.r(177,e.pc_(32,"Shantaé Campbell"),e.pc_(2,292),e.pc_(3,292),e.ps(13,"commercial real estate"),1,292),126195:e.r(5,522,522),127249:e.q(e.ocqs([e.cb(0,e.o([e.os(e.cx,2,[258,"single-even-sports-betting",875,460,"calgary-lottery","ontario-lottery-and-gaming-commission","lottery-and-gaming-corporation",638,"lotto-6-49",636,637,780,842,784,"proline",633,745,"western-canada-lottery-corporation","new-lottery","lottery-winners","lottery-winner",634]),e.os(e.cx,5,[258,636,637,638,780,842,"scratch-tickets",875,"sports betting",784,633,745,741,"ontario-lottery-gaming","lottery-ticket","lottery ticket",634,460]),e.pc_(3,741)]),e.ge(1),1),e.cb(0,e.o([e.os(e.cx,2,[188,459,635,634]),e.os(e.cx,5,[867,459,635,634]),e.os(e.s,13,[188,459,634,635,867]),e.os(e.s,27,[188,459,634,635,867]),e.ps(1,634)]),e.ge(1),1)])),127638:e.r(5,892,892),127639:e.r(5,613,613),127640:e.r(5,764,764),127644:e.r(5,376,376),127646:e.r(5,477,477),127649:e.r(0,e.cb(0,e.o([e.os(e.cx,3,[519,517,518]),e.os(e.s,1,[517,519])]),e.ge(1),1),e.cb(3,e.t,e.ge(1),1),3,e.os(e.s,20,[532,534,535,537,538,540,542,552,553,555,556,565,566,567,568,569,570,571,572,573,"https://www.healthing.ca/",574,575,"https://www.thegrowthop.com/",576,577,578]),e.e(0),1),127832:e.r(69,"37a9ce9b-6a99-4d5d-8b35-bcaa2ecbb265","127646",.8915975),127860:e.r(69,"6f090f86-4d69-4cde-8a83-6cc0eec1d912","127640",.8943222),127861:e.r(69,"5f61d0cb-1154-4330-ad27-ba632ec6b106","127639",.8977511),127862:e.r(69,"f8e799e9-3d50-4f97-9407-3e1e0cee25ff","127644",.9285962),127863:e.r(69,"8ef3f9d5-18dd-44f4-a48e-9a9cbbac2e42","127638",.92913926),127864:e.r(69,"fc765374-cd40-449c-8c98-b0003ce53981","126195",.92828625),127865:e.r(166,7,["Events,time,Christmas Eve","Events,time,Christmastime","Events,time,Christmas Day",88],1,[517,519,"holiday-planning"],[521,520,"holiday-market",516]),128429:e.r(62,5,5,[3080445723,2994233471,2994232025,2973400011,2973398589,2973397644,2973397380,2973395460,2973395238,2973372180,2973370230,2972765203,2972764984,2972764471,2972761180,2972760931,2972745101,2972744813,2972742935,2972738846,2972736433,2972732120,3013385259,3012446608,3012368825,3011805837],25,[3337936247,3337853893,3337853978,3130195599,3128841797,3128841311,3128718661,3136711907,3136642744,3136645171,3138130773,3138124686,3136639417,3136638952,3138128049,3136642051,3138134115,3136716236,3136710896,3136639831,3136639333,3138127347,3136715222,3138132927,3138130485,3138124494,3138126636,3136637239,3138122055,3136635772,3136636006,3136708793,3138097635,3136710860,3136632385,3136634356,3136710695,3136636717,3136709450,3136707818,3138123318,3136708445,3136599994,3136634797,3138123585,3136709180,3136707572,3138122523,3136632853]),128625:e.r(181,3,224,224),130316:e.r(34,["/TZQEuFC","0Nz5rIgN","29YOabR5","2amvE0Hh","2nXLKmE/","5WqBDHvg","9pGItLfZ","AYvJPM+u","EZa5Uyiq","FYdqEZip","HXOpdHYz","OnBQLKHt","V6BYGhZ6","WgP4DP6Y","cBzORfOp","cCRiABKJ","gQok75hg","kr7u4YxM","lldGtLYg","mrbElmVS","rC2/OAXT","uSgJLKCZ","vMtF0R+o"]),130317:e.r(34,["0tXH9b2Z","3VJTxy7S","Ghxosc4a","Mvc7MJjB","eMg6SxgJ","jwdtgjoR","st0Onjzr"]),130318:e.r(61,0,e.af_u(["properties","article_tags"],e.bsc([],["3VJTxy7S","AYvJPM+u","CHjF74mT","EH5AxjwJ","dstIwugI","gQok75hg","pjtg7qRm","rGQIElA6","yQYXy0tO"])),0,e.os(e.s,13,["canadian-bipoc","dei","korean-canadian curler"])),130926:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,[870,370,"retirement-homes"]),e.pe(30,"Westman Village"),e.os(e.cx,2,["encore-homes","long-term-care-homes","vpencorelifestyles","senior-living"]),e.os(e.cx,3,[870,370]),e.ps(13,"senior living")]),e.ge(1),1),2592e6)),131317:e.r(19,e.cb(0,e.bsc_(4,["d+7KxWz5"]),e.e(0),1),[e.y(1,386),e.os(e.cx,2,["estate-planning-2","leave-money-to-kids","money-milestones","ultra-high-net-worth",406,"succession","wills-and-estates",386])]),131656:e.r(23,5,19,[5222043839,5214467266,4810269724,4813133953,4919659808,4892655536,4858343003,5166985909,4816215795,4918026226,4812133835,4922997310,5117724124,5128798021,5124543273,4814095570,5014217233,5168991817]),131674:e.r(23,5,19,[5066454875,5219087909,5092702936,5098619430,4841677651]),132036:e.r(23,5,19,[3595868818,4819328345,5288272984,5368813907,5231109838,5091524302,4749337615,5010613391,14786581,4887692073,5224975815,4712466887,14075581,5060126333,5204783422,4910002279,5134492247,5147837510,25799221,5233247936,5120729006,5195746766,5070262796,5219897918,4908029886,4796141973,4767417833,5032770366,4768612684]),132128:e.r(23,5,19,[5612968521,4802790453,4732234521,5051975214,4772604466,4797862228,4627620477,4953217805,5095947496,4682215664,4769281397,5027219934,5206034296,5007231062,4582693644,5228791882,5212235724,4771986950,4636478816,4728484991,4723263814,4881318668,77222821,5209648686,4768600940]),132129:e.r(23,5,19,[4693621133,13123141,13033141,5236548147,4728485252,4933675665,5226598929,4719671168,4797246679,4720630289,4714837376,4781011652,5231415748,23114221,4893341022,5158829959,4988993224,5076153098,4713937868,4716715094,4876516523,4939868290,4797197692]),133214:e.r(23,5,19,[4710580312,5425539273,5616703879,5623568145,5566015807,14243701,5263251542,14140141,5232596342,5252713613,4692329427,5067338601,4806867564,5190757900,5204974708,4751597402,5074853905,14848141,5165125346,4611080538,4612858076,4806872592,15526981,12978061,5013654411]),133503:e.r(68,[e.os(e.cx,3,[339,161]),e.ps(8,"https://www.healthing.ca/diseases-and-conditions/depression"),e.os(e.s,1,[161,339])],[758,757,"mood-disorders","stress",896,339,"Depression",161,"Anxiety"],[758,757,161,339]),133541:e.r(19,e.tw(e.cb(0,e.o([e.y(4,90),e.ps(14,498)]),e.ge(1),1),5184e6),[e.os(e.w,1,[827,853]),e.os(e.cx,2,[276,902,271,367,193,475,985,761,474,483,855,509,384,360,531,881,882,421,606,825,852,850,849]),e.os(e.cx,5,[276,902,271,367,193,475,985,761,474,483,855,509,384,360,531,881,882,421,606,825,852,850,849]),e.os(e.cx,3,[827,853]),e.ps(13,"fertility awareness")]),133555:e.r(127,0,e.af_u(["properties","article_tags"],e.ref(20)),0,e.a([e.os(e.w,1,[142,642,"cold-upper-respiratory-infection",644]),e.os(e.cx,3,["chronic-obstructive-pulmonary-disease","Asthma","Lung-health"]),e.af_u(["properties","nlp_topic"],e.ref(20))])),133568:e.r(55,864,[833,356,509,340,198,196,136,805,790,897,342,663,864],[879,611,182,"Skin cancer",833,356,509,340,198,196,136,805,790,897,342,663,864],864),133574:e.q(e.ocqs([e.tw(e.cb(0,e.a([e.y(4,90),e.pc_(3,350)]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.o([e.os(e.cx,2,[385,464,886,466,587,487,288,312,346,299,885,465,94,349,212]),e.os(e.cx,5,[385,464,886,466,587,487,288,312,"diarrheac",299,885,465,94,349,212])]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.a([e.y(4,90),e.y(1,350)]),e.ge(1),1),2592e6)])),134157:e.r(63,e.a([e.ps(8,722),e.ref(16)]),e.ge(1),1,0,e.a([e.ps(23,"closing lines"),e.ref(16)]),e.ge(1),1,[e.y(15,122),e.ref(16)],1),135497:e.r(146,e.ps(1,908),4,89),135736:e.r(69,"a1c456da-f49d-40ed-aa0f-743aaa065853","132128",.8504645),135824:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,[618,619,"lgbt"]),e.os(e.cx,2,["lgbtq2s","lgbtq-issues",618,619])]),e.ge(1),1),2592e6)),135956:e.r(69,"326f773e-740c-4597-9e39-22b576db7c1b","135497",.8971924),136087:e.r(48,["celebrating-women","e-suite-women",390,"women-business-leaders","womens-day"],[390,999,"international-womens-day-2022","international-womens-day"]),136211:e.r(45,[300,"canadian-debt",333,332],5,["loan performance","loan financing","loan payments","interest costs","interest payment","debt students","Student debt","private debt"],3,332,1,332),136598:e.r(69,"aa798db1-9450-417e-8f11-75c786990d88","128429",.804593),136665:e.r(28,0,8,"Closing_Lines_Newsletters"),136907:e.r(69,"1e3952aa-c128-4c56-88f1-c89e03fa6345","131656",.851686),137047:e.r(34,["7/g1C0XQ","OqyK99fk","Pv88xvIt","wws1YIo5","xIvivVSO"]),138311:e.r(0,e.tw(e.cb(0,e.o([e.y(4,237),e.ref(0),e.os(e.cx,7,[79,148]),e.ref(18),e.ref(17)]),e.ge(1),1),2592e6),e.ocqs([e.cb(3,e.nt(e.os(e.s,8,["canoe.com","https://calgaryherald.com","https://calgarysun.com",536,"https://edmontonjournal.com","https://edmontonsun.com","https://leaderpost.com","https://montrealgazette.com","https://nationalpost.com","https://o.canada.com","https://ottawacitizen.com","https://ottawasun.com","https://theprovince.com","https://thestarphoenix.com","https://vancouversun.com","https://windsorstar.com","https://winnipegsun.com","https://www.brantfordexpositor.ca","https://www.chathamdailynews.ca","https://www.chathamthisweek.com","https://www.clintonnewsrecord.com","https://www.cochranetimes.com","https://www.communitypress.ca","https://www.countyweeklynews.ca","https://www.elliotlakestandard.ca","https://www.fortsaskatchewanrecord.com","https://www.gananoquereporter.com","https://www.goderichsignalstar.com","https://www.greybrucethisweek.ca","https://www.intelligencer.ca","https://www.kincardinenews.com","https://www.kingstonthisweek.com","https://www.lakeshoreadvance.com","https://www.lucknowsentinel.com","https://www.melfortjournal.com","https://www.midnorthmonitor.com","https://www.mitchelladvocate.com","https://www.napaneeguide.com","https://www.norfolkandtillsonburgnews.com","https://www.northernnews.ca","https://www.nugget.ca","https://www.ontariofarmer.com","https://www.owensoundsuntimes.com","https://www.parisstaronline.com","https://www.pembrokeobserver.com","https://www.princegeorgepost.com","https://www.recorder.ca","https://www.sarniathisweek.com","https://www.saultstar.com","https://www.saultthisweek.com","https://www.seaforthhuronexpositor.com","https://www.shorelinebeacon.com","https://www.simcoereformer.ca","https://www.standard-freeholder.com","https://www.stratfordbeaconherald.com","https://www.strathroyagedispatch.com","https://www.stthomastimesjournal.com","https://www.thechronicle-online.com","https://www.thegraphicleader.com","https://www.thegrowthop.com","https://www.thelondoner.ca","https://www.theobserver.ca","https://www.thepost.on.ca","https://www.thesudburystar.com","https://www.thewhig.com","https://www.timminspress.com","https://www.timminstimes.com","https://www.trentonian.ca","https://www.wallaceburgcourierpress.com","https://www.wiartonecho.com","https://www.woodstocksentinelreview.com","lfpress.com","www.financialpost.com","www.torontosun.com"])),e.ge(1),1),e.tw(e.cb(3,e.t,e.ge(1),1),2592e6)]),0,e.o([e.os(e.w,1,[946,319,600,976,951,960,954,955]),e.pc_(3,955)]),e.ge(1),1),139866:e.r(39,e.pc_(2,777),e.ps(13,777),7,["polestar 1","Brands,car brand,Polestar 2 Long Range Dual Motor","Brands,car brand,Polestar 2"],12,777,26,["1","2"]),139887:e.r(29,e.os(e.cx,2,["chinese","china"]),e.af_u(["properties","article_tags"],e.bsc([],["++JyLbil","+VMcvNxi","/jKK7Va+","01G9Ch+i","PVEe98mh","Szu1aaPr","Xje0eVux","eFo1tNsd","gQxGN9Lo","go5k4T4/","h1i1Hinf","h2DnfU0i","niNBSy+U","qbdyaIeJ","skRCaoNU","vARFCJ1S"]))),141894:e.r(66,"video",[e.os(e.cx,2,["online-safety","hacking","hackers","cyber-attacks","cyber-attack","cyberattack","cyber-crime","cybercrime",326,327]),e.os(e.s,1,[326,327])],e.pe(35,"Video Start"),e.bsc_(14,["Q2y+kvVE"])),141981:e.r(67,e.os(e.cx,2,["winter camping","national-parks","swimming","rock-climbing","hunting-and-fishing",442,580,233,751,750]),e.pc_(3,"new-us-adventures-await"),e.os(e.s,1,[750,751]),e.os(e.cx,3,[835,862]),[580,205,442,835,171,232,512,836,610,233,861,862,513],[580,"campgrounds",205,442,789,232,512,"Banff National Park",233,861,862,513],[205,232,233,442,512,513,580,610,789,835,861],[171,205,232,233,442,512,513,580,610,789,835,836,861],[171,205,233,442,580,835,836]),143256:e.r(63,e.os(e.s,23,["healthingca_newsletter&utm_content","https://www.healthing.ca/newsletter"]),e.ge(1),1,0,e.a([e.y(4,90),e.ps(8,840)]),e.ge(1),1,[e.y(4,90),e.y(15,122)],1),144071:e.r(27,0,e.os(e.cx,2,["charity-statistics","giving-back","philanthropy","charitable cause","charitable donations","charitable-giving","charity","charities"]),e.pc_(7,"Organizations,group,CMDA Charitable Foundation")),144200:e.r(62,8,8,[3150039768,3150039261,3075041262,3109876976,3111036642,3110526930],19,[5231109838,5091524302]),145932:e.r(75,.90822387),146539:e.r(75,.79952127),147061:e.r(69,"94e108c1-0688-4b66-a1eb-c7c579cc1acc","133214",.84996974),147062:e.r(69,"5099e2b3-63c7-4e9d-8432-32a756e3a3b9","132036",.7982292),147063:e.r(69,"160c18e3-6098-40eb-9da3-8c3637b8643b","131674",.81054723),147415:e.r(42,26,[803],2,["ram-1500-limited-elite-edition","ram-2500","ram-3500","ram-1500"],7,["Brands,car brand,Ram 3500","Brands,car brand,Ram 1500"]),148013:e.r(23,5,19,[3287106415,4917269706,3190406579,5199873060,5076699831,5127853608,4814095570,5076757887,5067360414,5001881665,5068190540]),148289:e.r(23,5,19,[4643579882,5263244843,5233666683,14193181,13480741,5242878168,5285853480,4835124194,5247408947,5279842015,4974827164,5124196982,5256348429,4709572718,4652527607,5123295974,14984221,4811565279,5271109653,5239549119,4723737082,4618026167,12666421]),148290:e.r(60,5,e.os(e.e,19,[5534936870,4769712872,5156395589,5624388141,5623364126,5447691753,5041788390,5368256636,4813176187,4804161838,5278207199,5256791703,4845295333,5256440590]),e.ge(1),1,0,e.bsc_(8,["VN9XKiwU"]),e.ge(1),1,5,e.pe(25,3211346613),e.ge(1),1),148291:e.r(27,5,e.os(e.e,19,[5242326405,4754453918,5244162433,5242829232,4827440767]),e.pe(25,3207975290)),148331:e.r(28,0,1,994),148333:e.r(24,0,1,[406,458]),149705:e.r(69,"05220221-3cf5-4117-8389-41a7103fa022","148013",.8901245),153570:e.r(52,[400,401,402,403]),154089:e.r(69,"12e79ee5-d265-4891-8817-e62394fea099","148291",.8139538),154473:e.q(e.ocqs([e.cb(0,e.a([e.y(4,353),e.af_u(["properties","article_tags"],e.bsc([],["Jzxm0oZl","hPmFxkwz","jHxQHt/W","tCowKazB","yVMFdFwX"]))]),e.ge(1),1),e.cb(0,e.o([e.os(e.w,12,["mini,honda,mazda,ford,hyundai,subaru,jeep,nissan,toyota,volkswagen","mini,fiat,hyundai,volkswagen,chevrolet,ford,honda,smart,kia,nissan,toyota","mini,subaru,mazda,ford,honda,scion,nissan,toyota","mini,chevrolet,honda,volkswagen,kia,mazda","mini,volkswagen","mini,porsche","audi,bmw,lexus,mercedes-benz,mini,porsche,smart","bmw,mini,mitsubishi","bmw,mini","mini,bmw,kia,mazda,volkswagen",678]),e.os(e.cx,7,[678,"cooper se convertible","Cooper S EV"])]),e.ge(1),1),e.cb(0,e.a([e.y(4,353),e.os(e.s,13,[678])]),e.ge(1),1),e.cb(0,e.ps(15,"mini-cooper"),e.ge(1),1)])),155110:e.r(52,[400,401,"family event",402,403]),155388:e.q(e.ocqs([e.tw(e.cb(0,e.a([e.pe(8,"https://nationalpost.com/register"),e.z(17,822)]),e.ge(1),1),6048e5),e.tw(e.cb(0,e.a([e.pe(10,"register"),e.z(17,822)]),e.ge(1),1),6048e5)])),155392:e.r(143,e.a([e.pe(8,"https://nationalpost.com/subscribe"),e.z(17,894)]),1,1),155876:e.r(69,"af51eaa4-d86d-48e0-8318-1fc0eefbd532","148290",.81535035),156062:e.q(e.acqs([e.tw(e.cb(9,e.y(14,708),e.ge(1),1),6048e5),e.cb(0,e.ref(37),e.ge(1),1)])),156080:e.r(12,e.cb(13,e.bsc_(14,["7E2KTdUJ"]),e.ge(1),1),9,e.y(14,708)),156322:e.r(12,e.tw(e.cb(13,e.t,e.ge(1),1),2592e6),9,e.t),156455:e.q(e.tw(e.cb("PianoMeterExpired",e.y(14,708),e.ge(1),1),864e5)),158599:e.q(e.cb(0,e.o([e.os(e.cx,2,["amazon-prime",157]),e.os(e.cx,5,["Amazon Shopping app","Amazon Prime Big Deal Days","Best early October Prime Day","fall Prime Day sale","Amazon\'s second Prime Day sale","best Prime Day deals","Fall Prime Day","Prime Day 2024 Lightning Deals","Prime member","Prime Day"]),e.os(e.cx,3,["deals",157])]),e.ge(1),1)),162549:e.r(55,137,[145,514],[137,145,514],137),162741:e.r(23,8,25,[3234005472,3234005433,3234002607]),164139:e.r(124,"1000095684","164139","1000095674","164139","12965","164139"),165786:e.r(49,[747,164],[234,624,747,164],5,[234,624,747,164],164),165787:e.q(e.acqs([e.cb(0,e.o([e.os(e.w,1,[594,595]),e.os(e.cx,2,[295,445,285,444,446,594]),e.os(e.cx,5,[295,445,285,444,446,594]),e.pc_(3,595)]),e.ge(1),1),e.cb(0,e.as(e.x,1,["news-pmn",721]),e.ge(1),1)])),167658:e.r(187,90),167876:e.r(31,["spotify",887,"crave-tv",712]),170773:e.q(e.cb(0,e.o([e.y(1,324),e.os(e.cx,2,["shorty-jenkins-curling-classic","mens-world-curling","cornwall-curling-centre","curling-worlds","curling-canada","curling-2",324]),e.pc_(3,324),e.ps(23,744),e.ps(15,744)]),e.ge(1),1)),175332:e.r(56,e.pc_(2,796),796,796),175494:e.q(e.itp("liveramp_Bombora","1000095344",!1,"175494")),175536:e.r(65,536,353,353,840),175670:e.r(53,["sponsored-travel",958],958),175671:e.q(e.cb(0,e.o([e.os(e.cx,3,[819,525]),e.os(e.s,1,[525,"sponsored-homes","sponsored-real-estate"]),e.os(e.s,30,["century 21","grayly realty"])]),e.ge(1),1)),175672:e.r(54,604,604),175673:e.r(53,[226,"sponsored-business"],226),175674:e.r(53,["sponsored-sports",878],878),175679:e.r(11,101,58,101,58),175708:e.r(64,e.y(4,353),e.os(e.s,1,["sponsored"]),e.y(4,353),e.af_u(["properties","secondary_categories"],e.bsc([],["XPaTGPxR","j8QezpBi","v3QF+yZu"]))),176014:e.r(88,.89088166),176015:e.r(88,.757688),176150:e.r(53,[622,"sponsored-life"],622),176151:e.r(51,3,["sponsored-eat-play-stay-saskatchewan",869,"sponsored-eat",451],[869,451]),176245:e.r(177,e.os(e.cx,2,[303,847,383,468,848,87,382,86,85]),e.pc_(7,382),e.os(e.cx,5,[303,847,383,468,848,87,382,86,85]),e.pc_(3,382),1,382),176689:e.r(42,1,[270],2,["cfl-picks","hamilton-tiger-cats","grey-cup",238,"edmonton-eskimos",361,"b-c-lions",185,231,"winnipeg-blue-bombers",749,841,687,934,270],3,[841,"winnipeg-bluebombers",687,749,361,231,934,185,270]),176695:e.r(42,1,[723],2,["nfl-picks","miami-dolphins","green-bay-packers","buffalo-bills","dallas-cowboys",707,723],3,[725,724,723]),177149:e.r(69,"1ca5d03a-47a0-4148-92f1-efa2b4872a17","175674",.8319531),177150:e.r(69,"ce64b6e7-f364-4649-bdc6-535ba65cfd8d","175708",.83809507),177151:e.r(69,"254d79ba-8a0a-450d-9741-f1e71dd11392","175672",.8880854),177152:e.r(69,"6a2878e0-b30d-4eaa-8fab-b4752077432e","175670",.8430351),177154:e.r(69,"2eaf4625-ee4e-4c6a-8bc7-037c001359b8","176151",.8041748),177155:e.r(69,"929320c3-d8fb-4d18-9848-0dd8e613b81a","175671",.85776967),177156:e.r(69,"0a15c471-906f-43ce-8fbb-16caeb0ca04e","175673",.8117723),177157:e.r(69,"d0fc49e9-7222-48a3-8a08-3dab4512f0e5","176150",.84229267),178017:e.q(e.cb(0,e.o([e.y(1,804),e.pc_(2,804),e.os(e.cx,5,["rare disease medicines","rare-disease","rare disease"]),e.pc_(3,804)]),e.ge(1),1)),178104:e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,["crossword-puzzles",794]),e.os(e.cx,2,[793,795,"crosswords",794]),e.os(e.cx,21,[793,461]),e.os(e.cx,5,["crossword",461,794,795]),e.ps(13,795),e.os(e.s,10,["nyt-puzzle",794]),e.ps(15,"https://entertainment.service.amuniversal.com")]),e.ge(1),1),2592e6)),178516:e.r(61,5,e.ref(23),8,e.ref(23)),178891:e.r(184,2,"subscriber"),179540:e.r(25,5,2),179541:e.r(25,8,2),179637:e.r(69,"79f547fa-94c4-4b31-816c-a706f02177d9","178516",.9780761),179980:e.r(26,0,17,["YkgIa6Mx","fYfVMwXo"]),180069:e.r(11,103,58,103,58),180312:e.r(38,e.y(1,951),2,["banff-travel","travel-ottawa","travel-vancouver",951]),180313:e.r(66,0,[e.os(e.cx,2,[960,"usa-travel"]),e.os(e.cx,5,["visit usa","usa flights","usa vacation","travel usa"]),e.os(e.cx,3,[976,"visit-the-usa"]),e.os(e.s,1,[976])],e.y(4,237),e.pc_(2,976)),180314:e.r(42,1,[600],5,["international flight","global vaction","international trip","global travel","international vacation","international travel"],3,["travel-international",600,601]),180315:e.r(67,e.y(1,319),e.os(e.cx,2,[318,"cruise-ships","cruise-ship",319]),e.pc_(3,319),e.pc_(3,319),[318,319],[318,319],[318],[318],[318]),180430:e.q(e.acqs([e.cb(0,e.o([e.os(e.w,1,[319,600,976,951,954,955]),e.pc_(3,955)]),e.ge(1),1),e.tw(e.cb(3,e.t,e.ge(1),1),2592e6)])),180694:e.r(127,6,e.y(18,735),10,e.t),182714:e.q(e.tw(e.cb(0,e.o([e.pe(34,"Ottawa"),e.y(9,118)]),e.ge(1),1),2592e6)),183159:e.q(e.ocqs([e.cb(0,e.os(e.s,8,["https://nationalpost.com/news/canada/canada-undefended-our-military-isnt-prepared-for-the-new-era","https://nationalpost.com/news/canada/defence-procurement-no-match-for-modern-warfare","https://nationalpost.com/news/politics/canada-could-find-itself-in-unexpected-hot-war","https://nationalpost.com/news/politics/were-entering-the-age-of-permanent-crisis-we-arent-equipped-for-canada-undefended","https://nationalpost.com/opinion/canada-undefended-our-military-readiness-is-dangerously-insufficient-heres-how-to-fix-it"]),e.ge(1),1),e.cb(0,e.o([e.os(e.cx,2,[162,677]),e.os(e.cx,5,[162,677]),e.os(e.s,13,[162,677]),e.os(e.s,27,[162,677]),e.ps(1,677)]),e.ge(1),1)])),183356:e.r(28,0,8,"https://financialpost.com/real-estate/mortgages/mortgage-rates/lowest-mortgage-rates-canada"),183389:e.r(69,"66cbdaba-68ec-4927-9614-cef71970c2f3","180430",.91514146),183968:e.q(e.acqs([e.tw(e.cb(0,e.a([e.y(11,75),e.z(9,67),e.ref(24)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(6),e.ref(31)])),2592e6),e.vq(e.sw(4,e.a([e.ref(6),e.ref(31)]),["properties","engaged_time"],e.g(5))),e.ge(2))])),183969:e.q(e.acqs([e.tw(e.cb(0,e.a([e.z(11,75),e.z(9,67),e.ref(24)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(29),e.ref(31)])),2592e6),e.vq(e.sw(4,e.a([e.ref(29),e.ref(31)]),["properties","engaged_time"],e.g(5))),e.ge(2))])),183970:e.r(16,10,10,107,34),183971:e.r(17,107,34,10,10),183972:e.r(16,8,8,72,14),183984:e.r(11,89,30,89,30),183987:e.r(17,72,14,8,8),184047:e.r(16,30,30,99,4),184051:e.r(17,99,4,30,30),184068:e.r(13,130,9,9,105),184070:e.r(14,130,9,9,105),184071:e.r(16,12,12,123,15),184072:e.r(17,123,15,12,12),184073:e.r(13,101,27,27,118),184074:e.r(14,101,27,27,118),184137:e.r(124,"1000095194","184137","1005387489","184137","62","184137"),184138:e.r(164,e.os(e.cx,3,[280,199,134,91]),e.os(e.s,1,[199,280,508]),[280,199,134,91],7,[134,91],[199,280,508,"willebrand disease"]),184144:e.r(163,e.os(e.cx,7,[331,330,502,499]),e.os(e.cx,3,["hearing- health",331,330,502,499]),[283,330,284,501,500,331,502],["middle-hear",284,283,501,500,331,330,502],[331,499],"hearing-health"),184145:e.r(163,e.pc_(7,697),e.pc_(3,698),[703,336,369,823,783,119,110,"ms",697],["primary progressive",110,119,703,336,369,823,783,697],[369,697,703],698),184534:e.r(16,6,6,67,24),184535:e.r(17,67,24,29,29),185183:e.r(42,1,[442,580],2,[964,192,334,311,580,442],5,["hunting sport","sport hunting",964,311,334,192,580,442]),185449:e.q(e.ocqs([e.itp("liveramp_Bombora","1000094934",!1,"185449"),e.itp("liveramp_Bombora","1005387229",!1,"185449"),e.itp("liveramp_Bombora","1005387199",!1,"185449"),e.itp("eyeota","12959",!1,"185449"),e.itp("liveramp_Bombora","1005387229",!1,"185449"),e.itp("liveramp_Bombora","1000094934",!1,"185449"),e.itp("eyeota","35018",!1,"185449")])),185523:e.r(57,67),185537:e.r(69,"7b7a0e3c-1179-41dd-bfdc-af0f4be81b8f","132129",.78616494),185631:e.r(57,107),185849:e.r(15,6,6,67,24),185926:e.r(50,[121,127],[121,127],[121,127]),186260:e.r(69,"874a4b63-5ca8-4a85-98f5-d22914c946e6","183972",.8183006),186261:e.r(69,"781ba69b-d95b-45a5-af9b-cfa56bf8fea2","183987",.87208134),186270:e.r(69,"75c1d310-87c8-434f-9dcd-25291f64b865","184073",.7333182),186271:e.r(69,"482156bf-7eeb-4c7c-b53e-a930107a5f03","184074",.83723825),186448:e.r(69,"a9514a50-6bc3-496f-95fd-64b71dd71eac","184534",.7315009),186449:e.r(69,"66fb55c8-2945-4c3b-bc19-7bd8c96bb0fc","184535",.913025),186450:e.r(69,"c404a85f-e889-40e7-9d59-af5808225f8d","183970",.7043321),186451:e.r(69,"1cdc4e59-819c-4051-9c0f-07f23da96ec3","183971",.87170005),186850:e.r(178,217,[661,659,216],[659,661,216],217),187095:e.r(15,10,10,107,34),187259:e.r(4,[560,562,561,557,558,559],[560,562,561,557,558,559]),187352:e.r(4,[545,546,547,544,543],[545,546,547,544,543]),187372:e.r(26,0,8,["FRCv6JmD"]),187375:e.r(26,0,8,["9Hn0th1U"]),187631:e.r(68,[e.pc_(2,314),e.pc_(5,314),e.ps(13,314),e.ps(27,314)],[315,314],[315,"rohit sharma","major league cricket",314]),187642:e.r(47,["exchange rate","Canadian currency","Canadian dollar"],["currency","canadian-dollar"]),187748:e.r(73,.9018522),187749:e.r(93,.9175633),187750:e.r(107,.8976699),187901:e.r(1,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],103329)),e.cw(2,e.pe(6,103329)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],105829)),e.cw(2,e.pe(6,105829)),e.ge(1)),105542,105542,105758,105758),187985:e.r(45,[179,667,666],5,[179,667,666],3,666,1,666),188322:e.r(50,["global athletic competition","Olympic Charter","Olympic torch","Canadian Olympic officials","Olympic legend","Olympic spirit","modern Olympics","modern Olympic movement","Olympic era","Olympic festival","Paris 2024 Olympic Games","Beijing 2022 Games","Modern Olympics","Olympic Games"],["2016-rio-de-janeiro-olympics","1976-summer-olympics","olympic-stadium-montreal","olympics-pmn",742],["special-olympics","2024-summer-olympics","summer-olympics","olympics-2","olympic-stadium","olympic-games",742,"paris-olympics-2024"]),188427:e.r(69,"886903d4-12e9-4378-b98c-c233bdff19a9","187901",.95981526),188792:e.r(2,89),188906:e.r(2,103),189628:e.r(55,787,[112,975,974,786,691,351,82,111,787,785],[112,975,974,786,691,351,82,111,787,785],787),189970:e.r(45,[68,129,108,95,65,69,100,66,120,64,63],5,[68,129,108,95,65,69,100,66,120,64,63],3,670,1,"addiction"),190017:e.r(189,708),190020:e.r(189,438),190021:e.r(21,708),190022:e.r(21,438),190023:e.r(140,708),190024:e.r(140,438),190025:e.r(20,103),190026:e.r(20,89),190299:e.r(6,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],105829)),e.cw(2,e.pe(6,105829)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],177154)),e.cw(2,e.pe(6,177154)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],154089)),e.cw(2,e.pe(6,154089)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],103329)),e.cw(2,e.pe(6,103329)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],127863)),e.cw(2,e.pe(6,127863)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106259)),e.cw(2,e.pe(6,106259)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],125797)),e.cw(2,e.pe(6,125797)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],127860)),e.cw(2,e.pe(6,127860)),e.ge(1))]),190301:e.r(6,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],127864)),e.cw(2,e.pe(6,127864)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106255)),e.cw(2,e.pe(6,106255)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],127861)),e.cw(2,e.pe(6,127861)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106258)),e.cw(2,e.pe(6,106258)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],121179)),e.cw(2,e.pe(6,121179)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],158599)),e.cw(2,e.pe(6,158599)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106256)),e.cw(2,e.pe(6,106256)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],185537)),e.cw(2,e.pe(6,185537)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],135736)),e.cw(2,e.pe(6,135736)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],155110)),e.cw(2,e.pe(6,155110)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],177157)),e.cw(2,e.pe(6,177157)),e.ge(1))]),190302:e.r(6,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],105758)),e.cw(2,e.pe(6,105758)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],138311)),e.cw(2,e.pe(6,138311)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],147062)),e.cw(2,e.pe(6,147062)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],177152)),e.cw(2,e.pe(6,177152)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],109489)),e.cw(2,e.pe(6,109489)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180314)),e.cw(2,e.pe(6,180314)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180315)),e.cw(2,e.pe(6,180315)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106253)),e.cw(2,e.pe(6,106253)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],180313)),e.cw(2,e.pe(6,180313)),e.ge(1))]),190303:e.r(6,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],101404)),e.cw(2,e.pe(6,101404)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106789)),e.cw(2,e.pe(6,106789)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],136598)),e.cw(2,e.pe(6,136598)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106790)),e.cw(2,e.pe(6,106790)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],177150)),e.cw(2,e.pe(6,177150)),e.ge(1))]),190304:e.r(8,106057,106057,106062,106062),190305:e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106069)),e.cw(2,e.pe(6,106069)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106070)),e.cw(2,e.pe(6,106070)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106072)),e.cw(2,e.pe(6,106072)),e.ge(1))])])),190306:e.r(8,106073,106073,106074,106074),190446:e.r(26,0,4,["lQy+mSz3"]),190448:e.r(26,0,4,["QD48PUxf"]),190451:e.r(26,0,4,["b6wHrKUZ"]),190453:e.r(26,0,4,["ZUPmu7x7"]),190463:e.r(30,e.af_u(["properties","article_tags"],e.bsc([],["+q8XeUW6","ZYaDWq8p","eNJNxt6O","nBr2Tuba"])),"outdoor-living"),190574:e.r(33,["properties","secondary_categories"],["1ONbIr/P","S1185VOG","wlOfxDEv"]),190575:e.r(30,e.ps(1,860),905),191764:e.r(141,"35585","191764"),192300:e.r(59,["aaa","airbus","alfa windsor","ami","amsoil",170,"autoguide","autopair","autotrader","avis","bfgoodrich","bisson expert",204,"bobcat","boost","brompton","brp","burgess yachts","caasco",229,"carfax","cargurus",272,278,"citroen","cloverleaf","craftsman collision","driver support","driving","esso","evinrude","exoticca","fca",453,"fountain tire","general motors","genesis","getmaintainx",479,"green tractors","hagerty","harley-davidson","hc forklift","hertz","hiboy",526,586,"international trucks",607,"john deere","kal tire",612,"kioti","kubota",614,"lebeau",617,"lincoln",662,"michelin","mitsubishi motors",729,"north shore auto mall",777,"porsche","pure cars",803,"range","rb auction","reliant","rove concepts","safelite","skoda","speedy glass","stealth cam",893,921,"tire pirates","torgeon",940,"vauxhall",990,992,"yamaha","zipcar"]),192485:e.r(47,[371,372,"levothyroxine","hashimoto","hypothyroid","hyperthyroid",527,93],[527,93]),192486:e.r(45,[503,213,890],5,["warfarin",716,717,"spasticity","vascular neurologist","hemorrhagic","ischemic",503,213,890],3,890,1,890),192487:e.r(45,[714,62],5,["tofersen","pb-turso","edaravone","riluzole",716,717,"lou gherig",159,714,62],3,160,1,160),192490:e.r(43,1,457,5,["viatris","bayer","gilead","takeda","boehringer ingelheim","amgen","novo nordisk","eli lilly","glaxo smith kline","gsk","bms","brisol myers squibb","novartis","astra zeneca","sanofi","abbvie","pfizer","merck","roche","janssen","johnson & johnson","big pharma","pharma industry","pharmaceutical industry"],3,457),192493:e.r(45,["pharmaceuticals",770,115],5,["pharmacy technician","RX","otc",932,"medication","prescribed","dispensary","chemist","prescription","pharmacist","pharmaceutical",770,115],3,769,1,769),192495:e.r(55,790,["autoimmune-disease","skin-condition"],[341,342,"psoriatic",169,359,790],790),192496:e.r(45,[826,824,109],5,["gynecological oncology","gynecological oncologist","CA-125","BRCA2","BRCA1",826,824,109],3,752,1,752),192498:e.r(47,["biomedical science","molecular biology","biomedical technology","molecular genetics","microbiology","biomedical engineering","genealogical","genealogy","23 and me",471,476,473,472,81],[471,476,473,472,81]),192499:e.r(45,[256,"Caregiver stories"],5,["palliative","home care",256],3,257,1,257),192501:e.r(47,["oncologist",716,"neurosurgeon","plexiform neurofibromas","NF1 PN","NF1",967,473,470,469,104],[967,473,470,469,104]),192504:e.r(45,[305,754,74],5,["PCR","Comirnaty","mRNA","Nuvaxovid","Spikevax","Omicron","COVID-19","SARS-CoV-2",305,754,74],3,305,1,305),192510:e.r(45,[268,851,854,92],5,["vaginal cancer","vulvar cancer","throat cancer","oropharyngeal cancer","penile cancer","anal cancer","genital warts","STD","STI",268,851,854,92],3,579,1,579),193102:e.r(175,12,592,[801,800,798,797,802,592],7,["Companies,car company,Infiniti","Brands,car brand,Infiniti QX80"],5,[798,797,800,801,"qx60",802,"2025 Infiniti QX80 measures","2025 Infiniti QX80","Infiniti"]),193229:e.r(114,.91675866),193231:e.r(114,.8371099),193232:e.r(92,.96567845),193233:e.r(92,.8902911),193234:e.r(72,.9468634),193235:e.r(72,.8493354),193236:e.r(95,.96049815),193237:e.r(95,.8726436),193250:e.r(112,.9463596),193251:e.r(112,.8706634),193252:e.r(107,.8224016),193253:e.r(97,.953479),193254:e.r(97,.8208989),193255:e.r(85,.9610018),193256:e.r(85,.88564193),193260:e.r(70,.9497969),193261:e.r(70,.8602615),193262:e.r(86,.92924136),193263:e.r(86,.829637),193264:e.r(82,.94026315),193265:e.r(82,.87321347),193266:e.r(84,.9512869),193267:e.r(84,.8700158),193268:e.r(108,.951721),193269:e.r(108,.83980185),193288:e.r(73,.8574067),193289:e.r(78,.92296684),193290:e.r(78,.85747725),193291:e.r(71,.91038084),193292:e.r(71,.8276644),193293:e.r(74,.96428996),193294:e.r(74,.897018),193295:e.r(99,.9170696),193296:e.r(99,.85436136),193297:e.r(103,.8291538),193298:e.r(105,.9231817),193299:e.r(105,.8698156),193300:e.r(98,.94294596),193301:e.r(98,.84749746),193302:e.r(87,.95936966),193303:e.r(87,.8504477),193304:e.r(100,.950148),193305:e.r(100,.84253013),193306:e.r(83,.94886607),193307:e.r(83,.8904075),193308:e.r(96,.9502844),193309:e.r(96,.8174642),193311:e.r(109,.95290023),193312:e.r(109,.86353695),193314:e.r(104,.9584672),193315:e.r(104,.86174405),193316:e.r(93,.85849893),193317:e.r(90,.95139986),193318:e.r(90,.85333085),193319:e.r(89,.9317186),193320:e.r(89,.87200356),193321:e.r(77,.95135874),193322:e.r(77,.8353454),193323:e.r(113,.95213807),193324:e.r(113,.8433444),193365:e.q(e.cb(0,e.o([e.pc_(2,230),e.pc_(7,230),e.pc_(5,"Calgary Stampede")]),e.ge(1),1)),193914:e.r(47,["oral health","tooth implants","orthodontics","dental care","invisaline","orthodonty","orthodontist","tooth","dental",337,338,"mouthwash","braces","tooth brush",259,260,"teeth whitening","tooth whitening","dental hygiene","dental-hygiene","gum disease",486,"teeth-health","teeth","gum-health","gum health","gums"],[486,260,259,"oral-health",338,337,"dental-care"]),196414:e.r(47,["temporary foreign students","overall foreign student numbers","foreign student applications","Temporary Foreign Worker Program","temporary foreign workers","Newcomer Picnic","newcomers",589,"500,000 new immigrants","many immigrants","federal government\'s current Immigration Levels Plan","new immigrants","government immigration policy","Trudeau\'s immigration policy","Canada\'s immigration policies","Canada\'s immigration crisis","temporary immigration","Canada\'s immigration sector","wonder immigration consultancy","Canada immigration system","Canadian immigration","high immigration quotas","high immigration","Immigration minister Marc Miller","immigration consultants","immigration experience","immigration department","immigration numbers","immigration system","immigration debate",588],["temporary-foreign-workers","foreign-ownership","foreign-students","foreign-workers","migrants",588,"new-immigrants","immigrant","citizenship-and-immigration-canada","sarnia-lambton-immigration-task-force","canada-immigration","immigration-refugees-and-citizenship-canada","immigration-and-refugee-board-of-canada","immigration-and-refugee-board","immigration-policy",589]),198296:e.r(42,1,[200,616,657,696,704],5,[704,616,"blood cancer",657,"hemotology","hemotologist","amyloidosis","plasmacytoma","cutaneous t-cell","b-cell","follicular","waldenstrom","hodgkin","myelogenous","myeloid","lymphoblastic"],3,[696,704,657,616,200]),198297:e.r(35,["+n0RCe/Y","/lOX4bsp","/zifeZPR","4fbdoSQh","4mZDea5X","D1fFnKzq","DNzg91t6","I/FFiu/l","IEP70wGY","Kgbn6bxZ","OAZ3WQnv","TCxxO1vK","W9Sp/VTv","YqPD9ldn","emFzw1aG","yNK+9cll"]),198300:e.r(41,e.os(e.cx,3,[663,863]),1,863,e.cx,5,[342,341,"melanocytes",879,611,182]),198301:e.r(35,["5nbiuvMK","6G65ME2G","Ay1zHAyx","MNddadFY","RrlUNi13","aswBGr8q","cip/Z9NX","d7u4mhiK","gP5qi3rp","pbcQfwKz"]),198302:e.r(55,215,[715,717],[715,357,"encephalitis","parkinson\'s","muscular dystrophy",697,666,"hydrocephalus","migraine","guillain barre",382,"bell\'s palsy",159,62,335,"alzheimer\'s",716,717],215),198909:e.r(58,15,"manual"),200660:e.r(7,e.cb(0,e.o([e.os(e.cx,2,[467,345,344,608]),e.os(e.cx,5,[467,345,344,608]),e.os(e.s,13,[344,467,608]),e.os(e.s,27,[344,467,608]),e.os(e.s,1,[344,608])]),e.ge(1),1),e.cb(7,e.os(e.s,28,[202,203,675,676,755,756,762]),e.ge(1),1)),201088:e.r(59,["birks group","maisonbirks.com"]),201118:e.r(59,["alexander fine jewelers",202,203,"bobswatches.com","diamondslabcreated.com","effyjewelry.com","fymjewelrydesign.com","globalwatches10.com","hyde park jewelers","hydeparkjewelers.com","messika",675,676,"michaelhill.com","oliverjewellery.ca",755,756,762,"reeds jewelers","reedsjewelers.com","signet jewelers brands","signet jewelers limited","sterling jewelers","swatch group","watchfinder.com","windmillparkjewelers.com"]),201821:e.r(9,"eyeota","6682","201821","eyeota","35500","201821","liveramp_Alliant","1000846216","201821","liveramp_CoreLogic","1000868836","201821"),201822:e.r(9,"liveramp_Acxiom","1701","201822","liveramp_ShareThis","1006581981","201822","eyeota","6698","201822","liveramp_Alliant","1000847596","201822"),202172:e.r(47,["luxury vacation","luxury hotel",647],["luxury-vacation",656,652,"luxury-resort"]),202173:e.q(e.ocqs([e.cb(0,e.a([e.os(e.cx,2,["se-shopping",858,860,859,"shopping-se",856]),e.ref(17)]),e.ge(1),1),e.cb(0,e.o([e.os(e.cx,2,[963,143,991,898,393,"travel-sites","book-vacations","book-vacation","book-flights"]),e.os(e.cx,5,[963,143,991,"travel sites","best travel",898,209,393,"booking sites","holiday booking","flight booking","vacation booking","book flights"])]),e.ge(1),1)])),202174:e.r(68,[e.os(e.cx,2,[828,980]),e.os(e.cx,5,["Sunwing",828,404,980]),e.os(e.s,13,[828,980]),e.os(e.s,27,[828,980]),e.ps(1,980)],[829,828,"all-inclusive-resort","inclusive-resort",151],[829,151,"all-inclusive resort","caribbean resort","carribean resort","mexican resort",828,"Silvertip Resort","Stone Creek Resorts",647,"all inclusive vacation","all-inclusive","vacation packages","vacationing RV trailer","Parksville vacation property"]),202342:e.r(54,630,630),202643:e.r(1,e.cb(0,e.t,e.ge(1),1),e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106062)),e.cw(2,e.pe(6,106062)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106057)),e.cw(2,e.pe(6,106057)),e.ge(1))]),106055,106055,201822,201822),202680:e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs([e.itp("eyeota","35482",!1,"202680"),e.itp("eyeota","13250",!1,"202680"),e.itp("liveramp_killi","1006832911",!1,"202680")])])),202683:e.r(6,[e.itp("eyeota","6689",!1,"202683"),e.itp("liveramp_Acxiom","1636",!1,"202683"),e.itp("liveramp_Stirista","1000306236",!1,"202683"),e.itp("liveramp_Epsilon","1000462416",!1,"202683"),e.itp("liveramp_Epsilon","1000462376",!1,"202683"),e.itp("liveramp_Epsilon","1001181259",!1,"202683"),e.itp("liveramp_Epsilon","1000462396",!1,"202683")]),202799:e.q(e.cb(0,e.o([e.os(e.cx,2,["toronto-transit-commission","via-train",480,674,485,"trillium-line","ottawa-lrt",296,943,"calgary-transit",895,639,297,945,966,220,219,"public-transit",944]),e.os(e.cx,5,[966,"toronto transit","gotransit","gotrain","mass transit",480,"go-train",674,"Calgary\'s Green Line",891,"train station","city bus","transit services",296,943,"electric buses",760,895,"transit commission",297,"transit safety","transit routes","Calgary Transit",791,220,"regional transit",219,"transit fares",623,"transit service","transit system","public transit",944]),e.os(e.s,13,[219,296,623,639,673,760,791,891,895,943,944,945,966]),e.os(e.s,27,[219,296,485,623,639,673,760,791,891,895,943,944,945,966]),e.os(e.s,1,[220,297,485,639,943,944,945,966]),e.os(e.s,30,[673,895])]),e.ge(1),1)),203010:e.r(28,0,37,"Male"),203011:e.r(28,0,37,"Female"),203012:e.r(34,["4iXfLhKX","5RqeH26v","5S6pBweQ","J/B/pgrk","TWyCGtEv","TyAVSffY","WR4nKYDy","XAJnLvn8","XPLFWRTG","jKTNtFVZ","xGEakWdE"]),203013:e.r(31,["stool",212,"hermmorhoids",299,"colorectal",288,346,"gerd","GI","Gastrointestinal",885,"Gut"]),203015:e.r(10,"1000095394","203015","12961","203015","35121","203015"),203017:e.r(10,"1000095994","203017","34964","203017","35147","203017"),203018:e.r(7,e.itp("liveramp_Bombora","1000095664",!1,"203018"),e.itp("eyeota","6639",!1,"203018")),203030:e.r(28,0,4,"Calgary Herald"),203405:e.r(47,["Neurodevelopmental-disorder","Hypoventilation","Hypotonia","X-linked genetic disorder","Seizures","Gait-issues","Non-verbal","Apraxia","Hyperventilation","Scoliosis","Hand-wringing","Regression",97],["neurodevelopmental","mutation",932,357,"hypoventilation",382,"intellectual","hypotonia","neurological","genetic","X-linked",848,"gait","non-verbal","apraxia","hyperventilation","scoliosis","hand-wringing","regression",97,"Rett syndrome"]),203406:e.r(38,e.pc_(2,"cervical dystonia"),5,["Electromyography","EMG","Neurotoxin-therapy","Anticholinergic-treatment","Cervical-misalignment","Muscle-spasm","Muscle-stiffness","Torticollis","Neck-tremor","Spasmodic-dystonia","Botulinum"]),204784:e.r(59,["aa","accor","air canada","air europa","air france","alberta airb","alpine park","am resorts","aspen snowmass","atlas ocean voyages","avianca","bahia principe","banff and lake louise","bc ferries","best western","blue mountain",209,"branson","brooks region tourism","california","cathay pacific","cayman islands","charlevoix","charlottetown","chateau bromont","cheap caribbean","cheapoair","choice hotels","club intrawest","coho ferry","collette","couples resort","curacao","daytona beach","delta air lines","discover halifax ns","discover sphere","edmonton","elite island resorts","emerald cruises","entourage resort","epic hotel","esky","etihad airways","evenements attractions","excellence resorts",393,"explore","extended stay america","fairmont","finest resorts","fitzd\'ar√®s","flight centre","flighthub","forum hotel charlottesville","four seasons","g adventures","gateway casinos","getyourguide","great wolf lodge","guest reservations","harbour air","hard rock","helijet","hilton","hong kong","hotel indigo","hotel marlowe","hotels.com","hyatt","icelandair","ihg","indus","infowander","ita airways","italia by solterra","itravel2000","jacada","jamaica","jet2holidays","kayak","kentucky tourism","klm","laurentides","lopesan costa bavaro","los angeles","lujo hotel","mag airports","maine","marriott","melia","mgm resorts","miles and more","ncl","new jersey","new zealand","nomatic","novajet","oceania cruises","outrigger","palace resorts","palladium hotel group","parc safari","park royal","parq vancouver","peninsula","phoenix","points","polynesia",779,"preferred hotels","priceline","princess cruises",799,"radisson hotels","rcd hotels","regency resorts","ritz-carlton yacht collection","royal resorts","royalton resorts","sas","seaworld","selectum blu cruises","senecan niagara casino","skyscanner","southwest airlines","spirit airlines","sudbury","surfcomber","sweet getaways","sylvan lake","tap air portugal","the brando","the dorian hotel","the mirage","the scotsman hotel","tofino","tokyo skytree","tourism golden","tourism kelowna","tourism nova scotia","tourism victoria","tourradar","travel manitoba","travelguard","travelzoo","tremblant","tren maya",963,"trivago","tui","united airlines","universal orlando","vail","valle√© saint sauveur","viator","viking cruises","viking river cruises","visit greater palm springs","visit palm springs","visit richmond bc","visit richmond va","visit the usa","vivaia",991,"waterloo","west virginia",998,"whistler","wilmington and beaches","wingbuddy","wingtalks","wyndham hotels","wynn las vegas"]),206392:e.r(26,0,11,["doaFylgq"]),206394:e.r(26,0,34,["LNUlpaK2","PTHWjb9l","eINax7NW","ldqIjol3"]),206577:e.r(28,0,22,58),206586:e.r(28,0,22,59),206588:e.r(28,0,22,60),206589:e.r(28,0,22,61),206590:e.r(28,0,22,"60-69"),206591:e.r(28,0,24,2),206683:e.r(29,e.y(4,353),e.os(e.s,8,["2024","2025"])),207771:e.r(47,[340,845,169,359],[340,845,169,359]),207772:e.r(55,917,[669,1004,915,912,916,913,914],[669,1004,915,912,916,913,914],917),207780:e.r(41,e.ps(29,135),40,135,e.s,39,["3-5","6+","less than 3"]),207781:e.r(37,e.ps(39,"No Children"),e.ps(29,102),40,102),207978:e.r(6,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],105759)),e.cw(2,e.pe(6,105759)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106027)),e.cw(2,e.pe(6,106027)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106041)),e.cw(2,e.pe(6,106041)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],123557)),e.cw(2,e.pe(6,123557)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],105982)),e.cw(2,e.pe(6,105982)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],127249)),e.cw(2,e.pe(6,127249)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106039)),e.cw(2,e.pe(6,106039)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106031)),e.cw(2,e.pe(6,106031)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],178104)),e.cw(2,e.pe(6,178104)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],167876)),e.cw(2,e.pe(6,167876)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],122208)),e.cw(2,e.pe(6,122208)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106759)),e.cw(2,e.pe(6,106759)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],106924)),e.cw(2,e.pe(6,106924)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],135736)),e.cw(2,e.pe(6,135736)),e.ge(1))]),207980:e.r(64,e.os(e.s,22,[58,59]),e.ref(36),e.os(e.e,["fc_age"],[39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24]),e.ref(36)),207982:e.r(3,[59,61,60],[5,4,3,1,0,2],e.s,["$1,000,000 +","$250,000-$374,999","$375,000-$499,999","$500,000-$749,999","$750,000-$999,999"]),207983:e.r(3,[60,59],["$50,000-$59,999","$40,000-$49,999","$30,000-$39,999","$20,000-$29,999","Less than $20,000"],e.w,["$25,000-$49,999","$5,000-$24,999","$1-$4,999"]),208319:e.r(24,0,30,["mogo"]),208457:e.r(58,31,"O"),208458:e.r(58,31,"R"),208459:e.r(24,0,["fc_language"],["amharic","arabic","chinese (mandarin, cantonese and other dialects)","danish","farsi","german","greek","hebrew","hindi","hungarian","italian","japanese","korean","polish","portuguese","romanian","russian","slovakian","slovenian","spanish","swedish","urdu","vietnamese"]),208557:e.r(58,22,"70-79"),208558:e.r(58,22,"80-89"),208561:e.r(26,0,24,["40HKnrJu","gUqn6H4l","vh8FREDA"]),208562:e.r(26,0,24,["4QlwrIvj","M1trZBWw"]),208563:e.r(28,0,24,6),208564:e.r(26,0,24,["i8vsPGrG"]),208565:e.r(32,[0,1]),208566:e.r(32,[3,4,5]),209485:e.r(26,7,28,["2wesFlrg","5b4ESlqr","MpnLjXLj","PAuVnPTq","PkbTFzGF","R/yGlatz","RtOAYNQk","V9/lCbtG","XZ3fvnfN","esAHlVGn","sYrWZIor"]),210230:e.r(102,.96781754),210231:e.r(102,.8572576),210686:e.r(69,"e565c1ee-e051-4722-be08-7ca15aaf6674","207980",.9416619),210929:e.r(40,e.ps(23,564),15,564),210930:e.r(24,0,23,["https://apple.news","https://stocks.apple.com"]),211021:e.r(28,0,4,237),211031:e.r(25,0,3),211540:e.r(69,"6c518375-adc2-4240-b49f-646918bccad0","207983",.9532408),211541:e.r(69,"8778724c-1cc6-4ced-afd3-2455455e508e","207982",.9522838),212009:e.q(e.acqs([e.cb(0,e.ref(3),e.ge(1),1),e.cb(5,e.t,e.ge(1),1)])),212062:e.r(61,5,e.pe(25,3652216491),5,e.pe(19,3652216491)),212227:e.r(54,994,994),212489:e.r(24,0,["client","type"],["android","ios"]),96400:e.r(22,0,e.t)}),rootCompressionLookup:e=>[(t,r,n,a,i,s)=>e.q(e.acqs([t,r,e.cb(n,a,i,s)])),(t,r,n,a,i,s)=>e.q(e.acqs([t,r,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],n)),e.cw(2,e.pe(6,a)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],i)),e.cw(2,e.pe(6,s)),e.ge(1))])),t=>e.q(e.acqs([e.cb(0,e.a([e.y(4,t),e.y(1,746)]),e.ge(1),1),e.tw(e.dscq("Pageview",e.t,e.g(5),6),2592e6),e.cb(0,e.ref(33),e.ge(1),1)])),(t,r,n,a)=>e.q(e.acqs([e.cb(0,e.a([e.y(29,135),e.os(e.w,22,t)]),e.ge(1),1),e.cb(0,e.o([e.os(e.w,24,r),e.os(n,38,a)]),e.ge(1),1)])),(t,r)=>e.q(e.acqs([e.cb(0,e.o([e.os(e.w,23,t),e.os(e.w,8,r)]),e.ge(1),1),e.cb(0,e.ref(26),e.ge(1),1)])),(t,r)=>e.q(e.acqs([e.cb(0,e.o([e.pc_(3,t),e.ps(1,r)]),e.ge(1),1),e.cb(3,e.t,e.ge(1),1),e.cb(3,e.ref(5),e.e(0),1)])),t=>e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs(t)])),(t,r)=>e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs([t,r])])),(t,r,n,a)=>e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(6,r)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],n)),e.cw(2,e.pe(6,a)),e.ge(1))])])),(t,r,n,a,i,s,o,c,u,l,d,f)=>e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs([e.itp(t,r,!1,n),e.itp(a,i,!1,s),e.itp(o,c,!1,u),e.itp(l,d,!1,f)])])),(t,r,n,a,i,s)=>e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp("eyeota",n,!1,a),e.itp("eyeota",i,!1,s)])])),(t,r,n,a)=>e.q(e.acqs([e.scq(e.tw(e.cw(1,e.a([e.y(4,n),e.pge(16,a)])),2592e6),e.vq(e.sw(4,e.y(4,t),["properties","engaged_time"],e.ge(r))),e.ge(5)),e.cb(0,e.ref(37),e.ge(1),1)])),(t,r,n)=>e.q(e.acqs([e.tw(e.cb(r,n,e.ge(1),1),2592e6),t])),(t,r,n,a)=>e.q(e.acqs([e.tw(e.cb(0,e.a([e.y(4,t),e.y(11,75),e.z(9,a)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(n)])),2592e6),e.vq(e.sw(4,e.ref(r),["properties","engaged_time"],e.g(5))),e.ge(2))])),(t,r,n,a)=>e.q(e.acqs([e.tw(e.cb(0,e.a([e.y(4,t),e.z(11,75),e.z(9,a)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(n)])),2592e6),e.vq(e.sw(4,e.ref(r),["properties","engaged_time"],e.g(5))),e.ge(2))])),(t,r,n,a)=>e.q(e.acqs([e.tw(e.cb(0,e.a([e.y(11,75),e.y(9,n),e.ref(a)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(r)])),2592e6),e.vq(e.sw(4,e.ref(t),["properties","engaged_time"],e.g(5))),e.ge(2))])),(t,r,n,a)=>e.q(e.acqs([e.tw(e.cb(0,e.a([e.y(11,75),e.z(9,n),e.ref(a)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(r)])),2592e6),e.vq(e.sw(4,e.ref(t),["properties","engaged_time"],e.g(5))),e.ge(2))])),(t,r,n,a)=>e.q(e.acqs([e.tw(e.cb(0,e.a([e.z(11,75),e.z(9,t),e.ref(r)]),e.ge(1),1),2592e6),e.scq(e.tw(e.cw(1,e.a([e.pg(16,5),e.ref(a)])),2592e6),e.vq(e.sw(4,e.ref(n),["properties","engaged_time"],e.g(5))),e.ge(2))])),t=>e.q(e.acqs([e.tw(e.cb(0,e.bsc_(4,t),e.ge(1),1),864e5),e.cb(0,e.ref(37),e.ge(1),1)])),(t,r)=>e.q(e.acqs([e.tw(e.cb(0,e.o(r),e.ge(1),1),2592e6),t])),t=>e.q(e.acqs([e.tw(e.cb(0,e.y(4,t),e.ge(1),1),864e5),e.cb(0,e.ref(37),e.ge(1),1)])),t=>e.q(e.acqs([e.tw(e.cb(6,e.y(18,880),e.ge(1),1),2592e6),e.ocqs([e.cb(12,e.t,e.e(0),1),e.tw(e.cb(6,e.a([e.y(18,880),e.ps(14,t)]),e.ge(1),1),2592e6)]),e.cb(0,e.ref(37),e.ge(1),1)])),(t,r)=>e.q(e.cb(t,r,e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.os(e.e,r,n),e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.os(e.s,r,n),e.ge(1),1)),(t,r)=>e.q(e.cb(t,e.ref(r),e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.bsc_(r,n),e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.o([r,n]),e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.ps(r,n),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.a([t,r]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.a([e.pc_(3,r),t]),e.ge(1),1)),t=>e.q(e.cb(0,e.os(e.cx,2,t),e.ge(1),1)),t=>e.q(e.cb(0,e.os(e.s,24,t),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.af_u(t,e.bsc([],r)),e.ge(1),1)),t=>e.q(e.cb(0,e.af_u(["properties","article_tags"],e.bsc([],t)),e.ge(1),1)),t=>e.q(e.cb(0,e.af_u(["properties","nlp_topic"],e.bsc([],t)),e.ge(1),1)),(t,r,n,a)=>e.q(e.cb(0,e.o([t,r,n,a]),e.ge(1),1)),(t,r,n,a)=>e.q(e.cb(0,e.o([t,r,e.ps(n,a)]),e.ge(1),1)),(t,r,n)=>e.q(e.cb(0,e.o([t,e.os(e.cx,r,n)]),e.ge(1),1)),(t,r,n,a,i,s,o,c)=>e.q(e.cb(0,e.o([t,e.os(e.cx,n,a),r,e.ps(i,s),e.os(e.s,o,c)]),e.ge(1),1)),(t,r,n)=>e.q(e.cb(0,e.o([t,e.ps(r,n)]),e.ge(1),1)),(t,r,n,a,i,s)=>e.q(e.cb(0,e.o([e.os(a,i,s),t,e.ps(r,n)]),e.ge(1),1)),(t,r,n,a,i,s)=>e.q(e.cb(0,e.o([e.os(e.cx,n,a),e.os(e.cx,i,s),e.os(e.s,t,r)]),e.ge(1),1)),(t,r,n,a,i,s)=>e.q(e.cb(0,e.o([e.os(e.cx,n,a),e.pc_(i,s),e.ps(t,r)]),e.ge(1),1)),(t,r,n,a,i)=>e.q(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,r,n),e.os(e.cx,3,a),e.os(e.s,1,i)]),e.ge(1),1)),(t,r,n,a,i,s,o)=>e.q(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,r,n),e.pc_(a,i),e.ps(s,o)]),e.ge(1),1)),(t,r,n,a)=>e.q(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,5,r),e.pc_(3,n),e.os(e.s,1,a)]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.o([e.os(e.cx,2,r),e.os(e.cx,5,t)]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.o([e.os(e.cx,3,r),e.os(e.s,1,t)]),e.ge(1),1)),(t,r,n,a,i)=>e.q(e.cb(0,e.o([e.os(e.w,1,t),e.os(e.cx,2,r),e.os(e.cx,n,a),e.pc_(3,i)]),e.ge(1),1)),(t,r,n)=>e.q(e.cb(0,e.o([e.os(e.w,1,r),e.os(e.cx,2,n),e.os(e.cx,5,t)]),e.ge(1),1)),(t,r,n)=>e.q(e.cb(0,e.o([e.os(e.w,1,n),e.os(e.cx,t,r)]),e.ge(1),1)),t=>e.q(e.cb(0,e.o([e.ref(35),e.os(e.s,13,t)]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.o([e.pc_(3,r),e.os(e.s,1,t)]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.o([e.pc_(3,r),e.ps(1,t)]),e.ge(1),1)),(t,r,n,a)=>e.q(e.cb(0,e.o([e.y(1,t),e.os(e.cx,2,r),e.os(e.cx,5,n),e.pc_(3,a)]),e.ge(1),1)),(t,r,n)=>e.q(e.cb(0,e.o([e.y(1,n),t,e.ps(13,r)]),e.ge(1),1)),t=>e.q(e.cb(0,e.y(9,t),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.pe(t,r),e.ge(1),1)),t=>e.q(e.cb(7,e.os(e.s,28,t),e.ge(1),1)),(t,r,n,a,i,s,o,c,u,l,d,f)=>e.q(e.ocqs([e.cb(t,r,n,a),e.cb(i,s,o,c),e.cb(u,l,d,f)])),(t,r,n,a)=>e.q(e.ocqs([e.cb(t,r,e.ge(1),1),e.cb(n,a,e.ge(1),1)])),(t,r,n,a,i)=>e.q(e.ocqs([e.cb(t,e.os(e.e,25,n),e.ge(1),1),e.cb(r,e.os(e.e,a,i),e.ge(1),1)])),(t,r,n,a,i,s,o,c,u)=>e.q(e.ocqs([e.cb(0,e.a(c),e.ge(u),1),e.cb(0,t,r,n),e.cb(a,i,s,o)])),(t,r,n,a)=>e.q(e.ocqs([e.cb(0,e.a([t,r]),e.ge(1),1),e.cb(0,e.a([n,a]),e.ge(1),1)])),(t,r,n,a)=>e.q(e.ocqs([e.cb(0,e.a([e.y(4,r),e.y(15,122)]),e.ge(1),1),e.cb(0,e.ps(23,t),e.ge(1),1),e.cb(0,e.a([e.y(4,n),e.ps(8,a)]),e.ge(1),1)])),(t,r,n,a)=>e.q(e.ocqs([e.cb(0,e.o(r),e.ge(1),1),e.cb(t,e.a([n,a]),e.ge(1),1)])),(t,r,n,a,i,s,o,c,u)=>e.q(e.ocqs([e.cb(0,e.o([t,r,n]),e.ge(1),1),e.cb(0,e.o([e.os(e.cx,2,i),e.os(e.cx,5,s),a,e.os(e.s,13,o),e.os(e.s,27,c),e.os(e.s,1,u)]),e.ge(1),1)])),(t,r,n)=>e.q(e.ocqs([e.cb(0,e.o([e.os(e.cx,2,r),e.os(e.cx,5,n)]),e.ge(1),1),e.cb(0,e.o(t),e.ge(1),1)])),(t,r,n)=>e.q(e.ocqs([e.lm(t,e.ge(n)),e.ifp(r)])),t=>e.q(e.ocqs([e.lm("05467cb7-a0d5-4115-b732-a9114df064c7",e.ge(t)),e.ifp("114825")])),t=>e.q(e.ocqs([e.lm("0bf8adb6-c580-4b5f-a6e6-c7447aa7aea2",e.ge(t)),e.ifp("192490")])),t=>e.q(e.ocqs([e.lm("11efeee6-0fdc-4e1d-b6cf-f22af1320680",e.ge(t)),e.ifp("187985")])),t=>e.q(e.ocqs([e.lm("12b1c6f9-d64f-4381-bc50-981c120cfa3a",e.ge(t)),e.ifp("178017")])),t=>e.q(e.ocqs([e.lm("15fd43e6-721e-4caa-a7c9-5d069d811f94",e.ge(t)),e.ifp("192493")])),t=>e.q(e.ocqs([e.lm("28b969c7-a527-4f05-9fac-ca50f7a7ffeb",e.ge(t)),e.ifp("106691")])),t=>e.q(e.ocqs([e.lm("299941fb-4904-418a-b7cb-0a178c3ad893",e.ge(t)),e.ifp("105758")])),t=>e.q(e.ocqs([e.lm("30e3d40b-53c9-49ca-8a57-74d22fec4641",e.ge(t)),e.ifp("105549")])),t=>e.q(e.ocqs([e.lm("31912a69-8283-47df-b503-01020f7b8130",e.ge(t)),e.ifp("192487")])),t=>e.q(e.ocqs([e.lm("3365bf72-a863-421c-98eb-29545603410c",e.ge(t)),e.ifp("104503")])),t=>e.q(e.ocqs([e.lm("44723703-45d5-42d1-9fa2-c93a816742cc",e.ge(t)),e.ifp("103316")])),t=>e.q(e.ocqs([e.lm("4eab6a75-59de-40d1-98d7-d66184fffd54",e.ge(t)),e.ifp("116161")])),t=>e.q(e.ocqs([e.lm("520ce823-5734-43f4-8819-f4ec0f02cfc8",e.ge(t)),e.ifp("192485")])),t=>e.q(e.ocqs([e.lm("5b5d2fb8-5466-45dc-8cd8-18e19d14fc86",e.ge(t)),e.ifp("192499")])),t=>e.q(e.ocqs([e.lm("5fed5de1-93e2-4436-9665-34147b2cdea7",e.ge(t)),e.ifp("192486")])),t=>e.q(e.ocqs([e.lm("65f4467e-1d37-4259-9972-b8fafbd32a2d",e.ge(t)),e.ifp("114736")])),t=>e.q(e.ocqs([e.lm("67d2675f-7a4d-425b-96a1-fafe273c0bce",e.ge(t)),e.ifp("186850")])),t=>e.q(e.ocqs([e.lm("6ccf4934-003d-4f85-b951-6e15ec9546ef",e.ge(t)),e.ifp("192496")])),t=>e.q(e.ocqs([e.lm("6d192fff-8df1-4b42-8915-8875fed57032",e.ge(t)),e.ifp("106790")])),t=>e.q(e.ocqs([e.lm("7a12082c-9c04-4697-bfe5-bfa89f826029",e.ge(t)),e.ifp("114817")])),t=>e.q(e.ocqs([e.lm("7a522bb4-a621-441c-a4eb-b96b875f4caa",e.ge(t)),e.ifp("114685")])),t=>e.q(e.ocqs([e.lm("7f82505c-a703-40e2-90ff-a2ce1f34edf7",e.ge(t)),e.ifp("106253")])),t=>e.q(e.ocqs([e.lm("81d2845c-af6b-48f5-8834-c22069965d92",e.ge(t)),e.ifp("114835")])),t=>e.q(e.ocqs([e.lm("856941b5-de2e-45b2-ad0f-dae3836e6d24",e.ge(t)),e.ifp("114824")])),t=>e.q(e.ocqs([e.lm("8efbdb50-403c-427f-8f19-96a8ad3dcb90",e.ge(t)),e.ifp("106792")])),t=>e.q(e.ocqs([e.lm("91e763d1-7358-45df-ab0d-81befe262118",e.ge(t)),e.ifp("165787")])),t=>e.q(e.ocqs([e.lm("95a39329-846c-4cef-9b42-744a15515495",e.ge(t)),e.ifp("192501")])),t=>e.q(e.ocqs([e.lm("99636b93-bcd2-4c91-a0a6-98c31b85af9e",e.ge(t)),e.ifp("189628")])),t=>e.q(e.ocqs([e.lm("9b5e2cfc-a745-4bd3-a89c-22189e38c832",e.ge(t)),e.ifp("114820")])),t=>e.q(e.ocqs([e.lm("9dd99d3e-e44c-439d-9c7a-e7e56fe48b97",e.ge(t)),e.ifp("192495")])),t=>e.q(e.ocqs([e.lm("a0e65a99-6988-47a5-923e-76748d310a15",e.ge(t)),e.ifp("192498")])),t=>e.q(e.ocqs([e.lm("a6040e4f-ee31-415b-9dda-a3bcefa6cd8f",e.ge(t)),e.ifp("114815")])),t=>e.q(e.ocqs([e.lm("ae70e907-befc-40ea-b535-f1df3c1dd440",e.ge(t)),e.ifp("207772")])),t=>e.q(e.ocqs([e.lm("aef715d5-c1a9-467b-87b7-227a5302ad6c",e.ge(t)),e.ifp("122065")])),t=>e.q(e.ocqs([e.lm("ba854cf3-42bd-4864-ad55-f34d6d0b35cb",e.ge(t)),e.ifp("192510")])),t=>e.q(e.ocqs([e.lm("c1177a99-09ac-42ae-a133-eba5b3e3150e",e.ge(t)),e.ifp("162549")])),t=>e.q(e.ocqs([e.lm("cb1e5db2-7414-4010-a529-f017ac5a8913",e.ge(t)),e.ifp("103444")])),t=>e.q(e.ocqs([e.lm("cb6d4eda-1a03-4e15-ac38-8987da4ac437",e.ge(t)),e.ifp("109057")])),t=>e.q(e.ocqs([e.lm("ce96c23f-79be-403b-98a5-09b0ab1e4dd6",e.ge(t)),e.ifp("105550")])),t=>e.q(e.ocqs([e.lm("d3820f64-3301-4d03-a3f9-e9412871cf46",e.ge(t)),e.ifp("184138")])),t=>e.q(e.ocqs([e.lm("dbe4bb8a-ca1f-4fdf-a514-39aa18f35446",e.ge(t)),e.ifp("101404")])),t=>e.q(e.ocqs([e.lm("e02823d2-0570-41c9-ad46-c4d606299225",e.ge(t)),e.ifp("106245")])),t=>e.q(e.ocqs([e.lm("e0d29cbc-3d1c-436d-a4af-53e7285f9777",e.ge(t)),e.ifp("184144")])),t=>e.q(e.ocqs([e.lm("e2b2a53b-37f6-4457-894e-ceab70a50d9b",e.ge(t)),e.ifp("105548")])),t=>e.q(e.ocqs([e.lm("f4df28b5-c949-413d-8164-cdc3d4e2c0ee",e.ge(t)),e.ifp("165786")])),(t,r,n,a,i,s,o)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(a,i,s,o)])),(t,r,n,a,i,s,o,c,u,l,d,f,p,m,g,h,b,v,y)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(a,i,s,o),e.itp(c,u,l,d),e.itp(f,p,m,g),e.itp(h,b,v,y)])),(t,r,n,a,i,s,o,c,u,l,d,f)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(a,i,!1,s),e.itp(o,c,!1,u),e.itp(l,d,!1,f)])),(t,r,n,a,i,s,o)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp(n,a,!1,i),e.itp("eyeota",s,!1,o)])),(t,r,n,a,i,s,o,c)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp("eyeota",n,!1,a),e.itp("eyeota",i,!1,s),e.itp("eyeota",o,!1,c)])),(t,r,n,a,i,s,o,c,u,l)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp("eyeota",n,!1,a),e.itp("eyeota",i,!1,s),e.itp("eyeota",o,!1,c),e.itp("eyeota",u,!1,l)])),(t,r,n,a,i,s,o,c,u,l,d,f)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp("eyeota",n,!1,a),e.itp("eyeota",i,!1,s),e.itp("eyeota",o,!1,c),e.itp("eyeota",u,!1,l),e.itp("eyeota",d,!1,f)])),(t,r,n)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp("eyeota","6680",!1,n)])),(t,r,n,a,i,s)=>e.q(e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp("eyeota",n,!1,a),e.itp("eyeota",i,!1,s)])),(t,r,n,a,i,s)=>e.q(e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp("liveramp_Bombora",n,!1,a),e.itp("eyeota",i,!1,s)])),(t,r,n,a,i,s)=>e.q(e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp("liveramp_Bombora",n,!1,a),e.itp("liveramp_Bombora",i,!1,s)])),(t,r,n,a,i,s,o,c)=>e.q(e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp("liveramp_Bombora",n,!1,a),e.itp("liveramp_Bombora",i,!1,s),e.itp("eyeota",o,!1,c)])),(t,r,n,a)=>e.q(e.ocqs([e.tw(e.cb(t,r,e.ge(1),1),2592e6),e.tw(e.cb(n,a,e.ge(1),1),2592e6)])),(t,r,n,a)=>e.q(e.ocqs([e.tw(e.cb(0,e.o(t),e.ge(1),1),2592e6),e.cb(0,e.a([e.y(n,a),r]),e.ge(1),1)])),(t,r,n,a,i)=>e.q(e.ocqs([e.tw(e.cb(0,e.o([r,e.os(n,a,i)]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(3,t),e.ge(1),1),2592e6)])),(t,r,n,a,i,s,o,c)=>e.q(e.ocqs([e.tw(e.cb(0,e.o([e.os(e.w,1,a),e.os(e.cx,2,i),e.os(e.cx,5,s),t,r]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.a([e.y(o,c),n]),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6)])),(t,r,n)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,n),e.ge(1),1),2592e6)])),(t,r,n,a)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,a),e.ge(1),1),2592e6)])),(t,r,n,a,i)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,i),e.ge(1),1),2592e6)])),(t,r,n,a,i,s,o)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,s),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,o),e.ge(1),1),2592e6)])),(t,r,n,a,i,s,o,c)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,s),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,o),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,c),e.ge(1),1),2592e6)])),(t,r,n,a,i,s,o,c,u,l,d,f,p)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,s),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,o),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,c),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,u),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,l),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,d),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,f),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,p),e.ge(1),1),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,8),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(0,15),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(0,t),e.ge(1),1),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cb(6,e.a([e.y(14,t),e.y(18,735)]),e.ge(1),1),2592e6),e.tw(e.cb(10,e.t,e.ge(1),1),2592e6)])),(t,r)=>e.q(e.itp("eyeota",t,!1,r)),(t,r)=>e.q(e.itp("liveramp_ShareThis",t,!1,r)),(t,r,n)=>e.q(e.tw(e.cb(0,t,e.ge(n),r),6048e5)),t=>e.q(e.tw(e.cb(0,t,e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,r,e.ge(a),n),t)),(t,r,n)=>e.q(e.tw(e.cb(0,e.a([e.y(r,n),t]),e.ge(1),1),2592e6)),t=>e.q(e.tw(e.cb(0,e.ref(t),e.ge(1),1),2592e6)),t=>e.q(e.tw(e.cb(0,e.o(t),e.ge(2),2),6048e5)),(t,r,n,a,i)=>e.q(e.tw(e.cb(0,e.o([t,r,n,a,i]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([t,e.pc_(n,a),r]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o,c,u)=>e.q(e.tw(e.cb(0,e.o([e.os(t,r,n),e.os(e.cx,a,i),e.os(e.cx,5,s),e.pc_(3,u),e.ps(o,c)]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o,c,u,l)=>e.q(e.tw(e.cb(0,e.o([e.os(r,n,a),e.os(e.cx,i,s),e.os(e.cx,o,c),t,e.ps(u,l)]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o,c,u)=>e.q(e.tw(e.cb(0,e.o([e.os(n,a,i),e.os(e.cx,s,o),e.os(e.cx,5,c),e.os(e.cx,3,u),t,r]),e.ge(1),1),2592e6)),(t,r,n,a,i,s)=>e.q(e.tw(e.cb(0,e.o([e.os(a,i,s),t,r,n]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o,c,u)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,r,n),e.pc_(a,i),e.ps(s,o),e.os(e.s,c,u)]),e.ge(1),1),2592e6)),(t,r,n,a,i)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,r,n),e.pc_(3,i),e.os(e.s,1,a)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,3,r),e.ps(8,a),e.os(e.s,1,n)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,5,r),e.os(e.cx,3,a),e.ps(1,n)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,5,r),e.ps(13,a),e.ps(1,n)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,t),e.os(e.cx,7,r),e.os(e.cx,3,a),e.os(e.s,1,n)]),e.ge(1),1),2592e6)),(t,r)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,r),e.pc_(3,t)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,n),t,r]),e.ge(2),2),6048e5)),(t,r,n,a,i,s)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,n),t,e.os(e.cx,5,a),r,e.os(e.s,13,i),e.ps(1,s)]),e.ge(1),1),5184e6)),(t,r,n,a,i,s)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,n),e.os(e.cx,a,i),t,e.os(e.s,13,s),r]),e.ge(1),1),5184e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,n),e.os(e.s,t,r)]),e.ge(1),1),2592e6)),(t,r,n,a,i)=>e.q(e.tw(e.cb(0,e.o([e.os(e.cx,2,i),e.os(e.cx,t,r),e.os(e.s,n,a)]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o,c,u,l)=>e.q(e.tw(e.cb(0,e.o([e.os(e.w,t,r),e.os(e.cx,2,n),e.os(e.cx,a,i),e.os(e.cx,u,l),e.os(s,o,c)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,t),e.os(e.cx,2,r),e.os(e.cx,5,n),e.os(e.cx,3,a)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,t),e.os(e.cx,2,r),e.os(e.cx,5,n),e.pc_(3,a)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,a),e.os(e.cx,2,t),e.os(e.cx,r,n)]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.os(e.w,1,a),e.os(e.cx,2,t),e.pc_(r,n)]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o,c,u)=>e.q(e.tw(e.cb(0,e.o([e.ref(t),e.os(e.cx,r,n),e.os(e.cx,a,i),e.ps(s,o),e.os(e.s,c,u)]),e.ge(1),1),2592e6)),(t,r)=>e.q(e.tw(e.cb(0,e.o([e.ref(22),e.os(e.cx,2,t),e.os(e.cx,7,r)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.pc_(r,n),e.os(e.s,1,t)]),e.ge(1),1),2592e6)),(t,r,n,a,i,s,o)=>e.q(e.tw(e.cb(0,e.o([e.y(t,r),e.os(e.cx,2,n),e.os(e.cx,a,i),e.os(e.cx,s,o)]),e.ge(1),1),2592e6)),(t,r,n,a,i)=>e.q(e.tw(e.cb(0,e.o([e.y(a,i),e.os(e.cx,2,t),e.pc_(r,n)]),e.ge(1),1),2592e6)),(t,r,n,a,i,s)=>e.q(e.tw(e.cb(0,e.o([e.y(i,s),t,r,n,a]),e.ge(1),1),2592e6)),(t,r,n,a)=>e.q(e.tw(e.cb(0,e.o([e.y(1,t),e.os(e.cx,2,r),e.os(e.cx,5,n),e.pc_(3,a)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.y(1,n),e.os(e.cx,t,r)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.y(1,n),e.os(e.cx,2,t),e.os(e.cx,3,r)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.y(1,n),e.pc_(t,r)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.y(1,n),e.pc_(2,t),e.pc_(3,r)]),e.ge(1),1),2592e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.o([e.y(12,t),e.y(1,439),e.y(10,439),e.os(e.cx,2,r),e.os(e.cx,7,n)]),e.ge(1),1),2592e6)),(t,r)=>e.q(e.tw(e.cb(0,e.pc_(t,r),e.ge(1),1),2592e6)),()=>e.q(e.tw(e.cb(0,e.pc_(0,23),e.ge(1),1),2592e6)),()=>e.q(e.tw(e.cb(0,e.pc_(0,44),e.ge(1),1),2592e6)),t=>e.q(e.tw(e.cb(0,e.y(4,t),e.ge(1),1),2592e6)),(t,r)=>e.q(e.tw(e.cb(0,e.pe(t,r),e.ge(1),1),2592e6)),t=>e.q(e.tw(e.cb(11,e.ps(14,t),e.ge(1),1),2592e6))],stateSyncReplays:e=>[],subexpressionsLookup:e=>[e.os(e.cx,2,[139,242,410,227,456,938,924,939,949,236,147,961,952,953,948,956,959,950,947,946]),e.bsc([],["/a3XO7zb","VjQ3GjBf"]),e.os(e.e,19,[5361995004,5363334362]),e.os(e.s,8,[533,539,550,551,554]),e.bsc_(4,["JhkjMdg/","cea0NTK/"]),e.os(e.s,20,[532,534,535,537,538,540,542,552,553,555,556,565,566,567,568,569,570,571,572,573,574,575,576,577,578]),e.os(e.w,1,[721,290,591,316,630]),e.o([e.pc_(21,116),e.os(e.s,1,[721])]),e.bsc_(1,["5UDN0TKL","PGvc3clP","dw2iexM4","vDWJAas6","zd4ybwC0"]),e.bsc_(1,["/3uJ+8wh","k1jWUhrN","rEq1mB7g"]),e.os(e.w,1,[1002,291,721,591,630]),e.o([e.os(e.cx,2,[322,713,712,889,888,887,265,266,261,264,263,329,930,928,929,927,931,925,926,702,700,699,168,167,166,165,375,374]),e.pc_(21,84)]),e.bsc_(1,["5UDN0TKL","90G2/vjw","dKjhgOCp","vDWJAas6","zd4ybwC0"]),e.bsc([],["8wl6HR9v","ArELYzxe","BlEA3WY8","D7JRUMXx","IWbkUzGJ","M6MHTPEs","MrtsDdqJ","XMWbElbB","bHnYaiT7","i95c3SRD"]),e.bsc_(4,["ApKWIQaV","QD48PUxf","xH2UBqV7"]),e.bsc_(4,["7JpV/yp9","KKSv2wFd","ptqsHgHa","rm79Sr6p"]),e.af_u(["properties","secondary_categories"],e.ref(1)),e.os(e.s,1,[946]),e.os(e.cx,3,[601,632,776,958,951,955,957,946]),e.os(e.s,1,[221]),e.bsc([],["5Cb55grP","9mqfQLTl","G5vL7Q0m","IRhOW5yQ","LdXkOsEg","LkWMG5xr","QAUv2Oqt","iUpG7mVj","j+J2710+","kWOanBoP","kxBTYkmb","mV6quucW","tXBteld5","wc93lDJq"]),e.o([e.os(e.cx,2,[874,873]),e.pc_(21,128),e.pc_(7,873),e.os(e.cx,3,[743,156,631,748,878,877,873]),e.os(e.s,1,[873])]),e.o([e.y(1,439),e.y(10,439)]),e.os(e.e,25,[2967165562,2992062889,3060254601,3235931269]),e.bsc_(4,["/UZ/BqNG","/k1FU30j","29+Gz+pE","2Aj2YxGt","2AmPg6+L","37lRSMp+","5+k2tXrr","BBp9behw","EiPPeB3j","FGx8KQs0","ITiMy3Gf","ViaspWGu","VyINqW9N","WbofbW3g","WudLvrnT","XcBBpL54","YVDGUr/P","ZUPmu7x7","b6wHrKUZ","eRrws7KI","em9hBo0Z","i3bq3WtT","mI8VJnze","nsG9WHYU","oWjnsIZx","p0i6TQNi","pjp9IYID","r6E7PJ9R","sWhbtNAy","u0exSE+3","wlTLOTqr","z8rYRcBB"]),e.os(e.s,1,[165,323,374,692,699,918,926,968]),e.os(e.w,15,[969,734]),e.os(e.w,1,[721,291,799,591,630]),e.o([e.os(e.cx,2,[765,433,434,436,431,437,427,435,429,430,424,426,432,425]),e.os(e.cx,7,[125,124,114,113])]),e.os(e.w,1,[316,290,721,591,630]),e.os(e.w,1,[873,788,630,591,316]),e.af_u(["properties","article_authors"],e.ref(13)),e.os(e.cx,3,[262,263,267,926,918,208,210,699,1001,919,871,695,701,378,376,377,374]),e.bsnc_(17,["YkgIa6Mx","fYfVMwXo"]),e.bsc_(4,["//xa8Hnv","/xZFmvuV","0EMdgBZz","0VMEKkwg","4zwrqwy3","59/pyFAF","7QM8lzuc","7qpc7i8t","90K1aGf9","9oad602o","9vVTkRmC","A6Qa1gUh","AAqff03N","C3PQxGnR","CRbDLKrx","D6QCkWiE","FFL/dLfl","GNFMY+Qs","JsNbnbPU","MU7bT0BL","N7Fnyn+g","NZrlWLbT","NhroJlpj","Nw522hN8","OIlfS6m2","Or1KKvA1","PWiI7Z4c","Xwlhn2z9","ZBomf1Jr","Zo5kv5dW","cEQPlYsU","d97+kDTq","du+vIXuX","enxJvlSO","g8Mfl5mZ","gLzu7li2","iBPfjoHA","iR6nVeCx","l/K1fz5r","l2X0YJpa","l6A5NxDg","lQy+mSz3","mJArwAfe","moJ1XMDz","noSsEO4g","oeozH9Ov","r67zEhU7","tZ9lZmXU","u4jRVWEq","uGnvO0J7","uXW4mIWX","ut5HOrIT","vgkoh1Yf","w0vuDQl/","wb3RQrGz","z3J3s3Ey"]),e.os(e.cx,2,[407,408,410,399]),e.os(e.s,24,[0,1,2,3,4,5,6,7]),e.bsnc_(17,["fYfVMwXo"])]}})})));var ye=__webpack_require__(985),we=__webpack_require__(29);async function _e(d){let{contextsInitTimestampPerformance:f,master:p}=d;const m=await p.next(),g=performance.now();Object.entries(m.globals??{}).forEach((e=>{let[t,r]=e;Object.defineProperty(self,t,{value:r})}));const h=new X(m.permutiveConfig);h.measureBetween("waiting_worker_high_priority_config",f,g);const b=function(t){var r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.RP;return t.loggingEnabled&&void 0!==(null===(r=self.console)||void 0===r?void 0:r.log)?new C(n):new P}(m.permutiveConfig,m.sdkInitTimestampDate),v=m.metricsEnabled?new q(m.sdkInitTimestampPerformance,m.timeOriginMainContext,b):new G;v.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_evaluated",time_origin:"sdk_init"},f),v.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_received_high_priority_config",time_origin:"sdk_init"},g);const y=(0,r.zG)(p.next,h.traceTask("waiting_worker_low_priority_config"))();y.then((()=>v.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_received_low_priority_config",time_origin:"sdk_init"})));const w=(0,r.zG)((()=>p.read()),function(e,n){const a=e=>(0,r.zG)(e,M.Hd((e=>e in n)),(e=>{let{left:t,right:r}=e;return{buffers:r,nonBuffers:t}}));return i=>{const{buffers:s,nonBuffers:o}=a(e),[c,u]=t.Ue({...o,...(0,r.zG)(s,M.Su((e=>()=>{const t=s[e];return s[e]=n[e].empty,t})))});return(async()=>{for(;;){const e=(0,r.zG)(await i(),B.UI(a),B.ur({concat:(e,t)=>({nonBuffers:{...e.nonBuffers,...t.nonBuffers},buffers:(()=>{const r={...e.buffers};for(const e in t.buffers)r[e]=e in r?n[e].concat(r[e],t.buffers[e]):t.buffers[e];return r})()})})),t=(0,r.zG)(e.buffers,M.Su(((e,t)=>(s[e]=n[e].concat(s[e],t),()=>{const t=s[e];return s[e]=n[e].empty,t}))));u({...c.current,...e.nonBuffers,...t})}})(),(0,r.zG)(e,M.Su((e=>(0,r.zG)(c,t.UI((t=>t[e]))))))}}({contextualCohorts:a.YP,consent:m.consent,enrichmentReplacementMap:a.YP,eventSourceId:m.eventSourceId,identities:a.YP,newEvents:i.cS,pageviewState:m.pageviewState,priorCachedEventsResponses:i.cS,sessionId:m.sessionId,userId:m.userId,userIdIsNewlyGenerated:m.userIdIsNewlyGenerated,viewId:m.pageviewState.viewId,webClient:a.G(m.webClient)},{newEvents:i.uZ(),priorCachedEventsResponses:i.uZ()}),(0,s.rO)({newEvents:(0,ye.F)(v,"pageview_received_by_worker")}),(e=>({...e,currentTimestampSecs:ke((0,r.zG)(m.initialTimestampSecs,a.EQ((()=>0),(e=>e-Date.now()/1e3))))}))),{eventsCachedInWorker:_,coreService:k}=await function(s,d,f,p,m,g){p.debug("SDK core started",s);const h=500,b=new S(g),v=new I(s.permutiveConfig),y=new ee(v,s.permutiveConfig,b,g,p,(()=>f.webClient.current)),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},_=(0,r.zG)(o.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,233)).then((e=>e.watson))),(()=>"Failed to import watson.")),o.UI((e=>(0,r.zG)(f.webClient,t.UI(a.UI((e=>e.url))),t.D8(a.Eh(we.Eq)),(n=>e({config:s.permutiveConfig,metrics:g,permutiveApi:b,permutiveUrls:v,pageUrl:n,trace:m,watsonEnabled:(0,r.zG)(f.pageviewState,t.UI((e=>e.watsonEnabled)))})))))),k=(0,r.zG)(V.initialise(s.permutiveConfig,p,w,m,g,f.userId,(()=>(0,r.zG)(J.connect(new O(s.permutiveConfig),g,new T,s.organizationId,`events_${f.userId.current}`,`keys_${f.userId.current}`,"events",p,f.consent,s.isSecureContext),m.traceTask("connect_idb_events_cache")))),m.traceTask("initialise_events_cache"),o.At((()=>()=>g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"events_cache_initialised",time_origin:"sdk_init"},performance.now()))),o.EQ((e=>{p.error(`Worker failed to initialise IndexedDB event cache: ${e}`);const n={},[a,s]=t.gS(i.uZ()),o=()=>new Promise((e=>{const t=String(Math.random());n[t]=r=>{delete n[t],e(r)},s([[t,void 0]])}));return(0,r.zG)(f.priorCachedEventsResponses,t.UI((e=>(0,r.zG)(e(),i.UI((e=>{var t;let[r,a]=e;return null===(t=n[r])||void 0===t?void 0:t.call(n,a)})))))),{eventsCachedInWorker:!1,coreOutput:{priorCachedEventsRequests:a},coreConfig:{eventsCache:l.t$(o)}}}),(e=>({eventsCachedInWorker:!0,coreOutput:{priorCachedEventsRequests:t.a9(A.of(i.bM()))},coreConfig:{eventsCache:l.F2(e)}})))),q=(0,r.zG)(!0,o.DT(r.yR,(()=>"IndexedDB disabled.")),o.tS((()=>(0,r.zG)(z.K.initialise(new O(s.permutiveConfig),g,p,new T,`worker_${s.organizationId}`,"core_service_state","keys","core_service_state",4,s.isSecureContext),m.traceTask("initialise-core-idb")))),o.tS((e=>(0,x.Yt)(o.Hi)({persistCoreState:c(e,"core"),persistLalState:c(e,"lal")})))),G=()=>new Promise((e=>(0,r.zG)(f.consent,t.YP((t=>{t&&e()}))))),E=i=>(0,r.zG)(o.fF(q),o.YO("servicePersistence"),o.Qt("eventsCache",o.fF((()=>i))),o.Qt("coreService",(0,r.zG)(o.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,271)).then((e=>e.service))),(e=>`Failed to import core service: ${e}`)),m.traceTask("import-core-service"))),o.Qt("lookalikeModelsService",o.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,307)).then((e=>e.lookalikeModelsService))),(()=>"Failed to import lookalike models."))),o.Qt("optimisedActivationsConfig",o.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,149)).then((e=>e.optimisedActivationsConfig))),(()=>"Failed to import lookalike models."))),o.Qt("watson",_),D.mU((()=>G)),o.UI((i=>{let{coreService:o,eventsCache:c,lookalikeModelsService:y,optimisedActivationsConfig:_,servicePersistence:k,watson:S}=i;const I={config:s.permutiveConfig,customQueries:ve(),logger:p,metrics:g,optimisedActivationsConfig:_,permutiveApi:b,permutiveUrls:v,reportError:w,trackPageviewComplete:s.trackPageviewComplete,migratedStateMaps:(0,r.zG)(a.lo(!s.isFirstPageview),a.EQ((()=>D.of({external:a.bM(),internal:a.bM()})),(()=>A.of(d.then((e=>e.migratedStateMaps)))))),trace:m,watson:a.G(S)};return(0,r.zG)(k,l.UI((i=>{let{persistCoreState:s,persistLalState:l}=i;return(0,r.zG)(y({...I,...f}),l,n.VS((i=>{let[l,d]=i;return(0,r.zG)(f,o({...I,...c.coreConfig,lookalikeModels:a.G(d)}),(p=h,m=t.a9(!1),n=>a=>{const{value:i,state:s}=n(a),[o,c]=t.Ue(s.current),u=(0,e.UM)((()=>c(s.current)),p),l=(0,r.zG)(t.vP(s,o),t.UI((e=>{let[t,r]=e;return t===r})));return(0,r.zG)(m,t.bw((e=>e&&u()))),{value:(0,r.bc)(l,i),state:(0,r.zG)(t.vP(m,s,o),t.UI((e=>{let[t,r,n]=e;return t?r:n})))}}),u(f.consent),s,n.UI((e=>{let[n,[a,i]]=e;return{...i,stateFlushed:(0,r.zG)(t.vP(l,n,a),t.UI((e=>{let[t,r,n]=e;return t&&r&&n})))}})));var p,m})),(e=>{const{value:r}=e({stopped:t.a9(!1),previousState:{}});return e=>({value:r,state:t.a9(void 0)})}))})),l.fS((e=>(p.warn("Worker running in non-persistent mode.",e),(0,r.zG)(f,o({...I,...c.coreConfig,lookalikeModels:a.YP}),n.Hr("stateFlushed",(()=>t.a9(!0))),u(f.consent))))),n.UI((e=>({...e,...c.coreOutput}))))})));return async()=>{const e=k(),t=E(e)(),{eventsCachedInWorker:r}=await e;return{eventsCachedInWorker:r,coreService:t}}}(m,y,w,b,h,v)();p.send({eventsCachedInWorker:_});const E=await k;var U,R;if(l.nM(E))return b.error(`Failed to start worker: ${E.left}`),void(null===(U=(R=self).close)||void 0===U||U.call(R));const F=E.right,L=await y,N=(await F)({stopped:t.a9(!1),previousState:L.previousState}),[Y,Q]=t.Ue(v.getNoMetricsTracked());(0,e.UM)((()=>Q(v.getNoMetricsTracked())),100),function(e,n,i){const s=(0,r.zG)(t.vP(n),t.UI((0,r.ls)(M.UI((e=>"function"==typeof e?e:A.of(e))),(0,x.Yt)(A.G5))));let o=s.current();e(o),(0,r.zG)(s,t.YP((t=>{const n=t(),s=(0,r.zG)(n,M.z7(((e,t)=>{var r;return t!==o[e]&&(null===(r=i[e])||void 0===r||!r.isEmpty(t))})),a.DT((0,j.ff)(M.xb)));a.pC(s)&&(o={...o,...s.value},e(s.value))})))}(p.send,{activations:t.vP(N.value.activations),cohorts:t.vP(N.value.cohorts),context:N.value.context,eventsToPublish:N.value.eventsToPublish,eventsToPublishOnPageUnload:N.value.eventsToPublishOnPageUnload,externalData:N.value.externalData,geoIP:N.value.geoIP,metrics:(0,r.zG)(Y,t.UI((()=>()=>v.consume()))),priorCachedEventsRequests:N.value.priorCachedEventsRequests,realtime:N.value.realtime,state:N.state,transitionsSinceInit:N.value.transitionsSinceInit,workerStateFlushed:N.value.stateFlushed,stateMigratedThisInitialisation:N.value.stateMigratedThisInitialisation,secureSignal:N.value.secureSignal},{eventsToPublish:{isEmpty:i.xb},metrics:{isEmpty:i.xb}})}function ke(r){const n=()=>Math.floor(Date.now()/1e3)+r,[a,i]=t.Ue(n());return(0,e.UM)((()=>i(n())),1e3),a}const Se=t=>{const r=[],n=[],a=()=>{for(;r.length>0&&n.length>0;)n.shift()()},i=t=>new Promise((r=>{n.push((()=>r(t()))),(0,e.HJ)(a)}));return t.addEventListener("message",(0,e.GL)((t=>{null!==t.data&&(r.push(t.data),(0,e.HJ)(a))}))),{next:()=>i((()=>r.shift())),read:()=>i((()=>r.splice(0)))}};!async function(){const t=self;_e({contextsInitTimestampPerformance:e.NC,master:{...Se(t),send:e=>t.postMessage(e)}})}()})()})();',"Worker",void 0,void 0)}},1005:e=>{e.exports=function(e,t,r,n){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var s=i.URL||i.webkitURL,o=s.createObjectURL(a),c=new i[t](o,r);return s.revokeObjectURL(o),c}catch(n){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new i[t](n,r)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={},_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__;_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9172),(()=>{var e,t;(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.ho)(!0);const r="permutive.main.import_runWebSdk",n=`${r}_start`;null===(e=performance)||void 0===e||null===(t=e.mark)||void 0===t||t.call(e,n),(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.SF)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,871))))().then((e=>{var t,i;null===(t=performance)||void 0===t||null===(i=t.measure)||void 0===i||i.call(t,r,n),e.runSdk({contextsInitTimestampPerformance:_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.NC,contextsInitTimestamp:_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.RP})})).catch(console.error)})()})();
</script>

</body>
</html>

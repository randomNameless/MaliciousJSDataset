!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2e49a2ba-7d33-47c3-b21f-83aa97b9387d",e._sentryDebugIdIdentifier="sentry-dbid-2e49a2ba-7d33-47c3-b21f-83aa97b9387d")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30916],{59933:function(e,t,n){var o=n(80732),i=n(55073);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==o(e)}},55218:function(e,t,n){"use strict";n.d(t,{G:function(){return c},o:function(){return useConnectionsPrompt}});var o=n(19278),i=n(50959),r=n(92618),s=n(14010),a=n(46089),l=n(6798),d=n(98833);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let c="connectionsPromptDismissedEventId",useConnectionsPrompt=e=>{var t,n,o,u,v,f;let{data:m}=(0,s.BJ)({context:{uri:r.M}}),b=null===(t=(0,d.RL)(null==m?void 0:null===(n=m.self)||void 0===n?void 0:null===(o=n.recentEvents)||void 0===o?void 0:o.edges))||void 0===t?void 0:t.map(e=>{var t;let{node:n}=e;return _objectSpread(_objectSpread({},null==n?void 0:n.event),{},{timeRemaining:(0,a.EE)(null==n?void 0:null===(t=n.event)||void 0===t?void 0:t.memberConnectionSelectionWindow)})}),g=(0,l.$V)()?null===(u=localStorage)||void 0===u?void 0:u.getItem(c):"",p=null==b?void 0:b[0];(0,i.useEffect)(()=>{if(e&&g){var t;null===(t=localStorage)||void 0===t||t.removeItem(c)}},[e,g]);let h=(0,a.EE)(null==p?void 0:p.memberConnectionSelectionWindow),k=g===(null==p?void 0:p.id)||!(null!=p&&null!==(v=p.rsvps)&&void 0!==v&&null!==(f=v.edges)&&void 0!==f&&f.length)||(null==p?void 0:p.memberConnectionSelectionWindow)===d.SB;return{eventForFeedback:k?null:p,timeRemaining:k?null:h}}},46089:function(e,t,n){"use strict";n.d(t,{A_:function(){return navigateToCheckoutPage},EE:function(){return getTimeRemaining},Ro:function(){return durationToSeconds},Up:function(){return isTimeLeftHidden},X_:function(){return secondsToTimeRemaining},iP:function(){return getRemainingSelectionCount},vJ:function(){return getSelfSelectionCount}});var o=n(4267),i=n(50542);let getSelfSelectionCount=(e,t)=>{var n;let i=null==e?void 0:null===(n=e.edges)||void 0===n?void 0:n.map(e=>null==e?void 0:e.node),r=null==i?void 0:i.filter(e=>{var n,i;return(null==e?void 0:null===(n=e.inviter)||void 0===n?void 0:n.id)===t||(null==e?void 0:null===(i=e.invitee)||void 0===i?void 0:i.id)===t&&(null==e?void 0:e.status)===o.UN.Active});return(null==r?void 0:r.length)||0},getRemainingSelectionCount=(e,t,n)=>{if(!n)return null;let o=getSelfSelectionCount(e,t);return n-o},isTimeLeftHidden=e=>{let{hours:t,minutes:n,seconds:o}=e;return!t&&!o&&1===n},durationToSeconds=e=>{let{hours:t,minutes:n,seconds:o}=e;return 3600*t+60*n+o},secondsToTimeRemaining=e=>new Date(1e3*e).toISOString().slice(11,19),r=/PT(-?\d+H)?(-?\d+M)?(-?\d+S)?$/,getTimeRemaining=e=>{let[,t,n,o]=(null==e?void 0:e.match(r))||[];return{hours:Number((null==t?void 0:t.replace("H",""))||""),minutes:Number((null==n?void 0:n.replace("M",""))||""),seconds:Number((null==o?void 0:o.replace("S",""))||"")}},navigateToCheckoutPage=(e,t,n,r,s,a)=>{var l;let d=n===o.UN.Pending,c=(null==r?void 0:r.status)===o.UN.Pending&&(null==r?void 0:null===(l=r.inviter)||void 0===l?void 0:l.id)===s,u=!t&&(e<1||d||c)?`${(0,i.E8U)()}${a?`/?upsellHeader=${a}`:""}`:null;return u}},33520:function(e,t,n){"use strict";n.d(t,{Z:function(){return EventFeedback_LastEventFeedbackModal}});var o=n(19278),i=n(50959),r=n(36122),s=n(11298),a=n(92618),l=n(76185),d=n(74596);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let c={},u=d.Ps`
  query getRecentEventForFeedback($filter: RsvpFilter) {
    homePrompt {
      ... on PostEventFeedbackPrompt {
        recentEventForFeedback {
          event {
            id
            title
            dateTime
            eventUrl
            eventHosts {
              memberId
            }
            featuredEventPhoto {
              id
              source: highResUrl
              baseUrl
            }
            group {
              id
              urlname
              name
              keyGroupPhoto {
                id
                source: highResUrl
                baseUrl
              }
            }
            memberConnectionSelectionWindow
            fundraising {
              enabled
            }
            rsvps(filter: $filter, first: 6, sort: { sortOrder: DESC }) {
              totalPotentialConnectionsCount
              edges {
                node {
                  member {
                    id
                    name
                    isOrganizer
                    isMemberPlusSubscriber
                    memberPhoto {
                      id
                      baseUrl
                      highResUrl
                    }
                  }
                  venue {
                    venueType
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`;var v=n(6798);let f="dismissedFeedbackEventId",m="startOfLastEventWithFeedback",getDismissedFeedbackEventId=()=>{var e;return(0,v.$V)()?null===(e=localStorage)||void 0===e?void 0:e.getItem(f):""},getStartOfLastEventWithFeedback=()=>{var e;return(0,v.$V)()?Number(null===(e=localStorage)||void 0===e?void 0:e.getItem(m)):0},shouldSkipEvent=e=>{if(!e)return!0;let t=getStartOfLastEventWithFeedback(),n=new Date(e.dateTime).getTime()??new Date().getTime();return n<t||(null==e?void 0:e.id)===getDismissedFeedbackEventId()},useEventForFeedback=function(e){var t,n,o;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"network-only",{data:s}=function(e){let t=_objectSpread(_objectSpread({},c),e);return l.a(u,t)}({fetchPolicy:r,skip:e,context:{uri:a.M}}),d=null==s?void 0:null===(t=s.homePrompt)||void 0===t?void 0:null===(n=t.recentEventForFeedback)||void 0===n?void 0:n.event;if((0,i.useEffect)(()=>{if(e&&getDismissedFeedbackEventId()){var t,n;null===(t=localStorage)||void 0===t||t.removeItem(f),null===(n=localStorage)||void 0===n||n.removeItem(m)}},[e]),shouldSkipEvent(d))return{eventForFeedback:null};let b=new Date(null==d?void 0:d.dateTime).getTime();return b&&(0,v.$V)()&&(null===(o=localStorage)||void 0===o||o.setItem(m,String(b))),{eventForFeedback:d}};var b=n(49516),g=n(43114),p=n(76598),h=n(9905),k=n(33355),y=n(80417),j=n(91798),O=n(52374),w=n(20963),S=n(7399),x=n(10975),E=n(73193);let P=(0,E.vU)({modalTitle:{id:"eventAttendanceTracking.modalTitle",defaultMessage:"Did you attend this event?"},whyAreWeAskingTooltip:{id:"eventAttendanceTracking.whyAskingTooltip",defaultMessage:"Why are we asking?"},whyAreWeAsking:{id:"eventAttendanceTracking.whyAsking",defaultMessage:"Knowing whether you actually went to an event helps you get better recommendations!"},yesButton:{id:"eventAttendanceTracking.yesButton",defaultMessage:"Yes"},noButton:{id:"eventAttendanceTracking.noButton",defaultMessage:"No"}});var D=n(11527);function AttendanceTrackingModal_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function AttendanceTrackingModal_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AttendanceTrackingModal_ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AttendanceTrackingModal_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var AttendanceTracking_AttendanceTrackingModal=e=>{let{dismissable:t,eventId:n,eventName:o,eventPhoto:r,eventTitle:a,isOpen:l,onClose:d,onNoClicked:c,onYesClicked:u}=e,{0:v,1:f}=(0,i.useState)(!1),m=(0,i.useRef)(null),b=(0,s.S)(),manageTooltip=e=>{null==b||b.trackUserAction({kind:k.E.ATTENDANCE_WHY_DO_WE_ASK_SEEN,info:{event:{id:n},attendanceTracking:{tooltipState:e?"open":"closed"}}}),f(e)};return(0,D.jsxs)(w.default,{isClosable:t,isOpen:l,onClose:d,hideCloseButton:!t,children:[(0,D.jsx)("h2",{className:"ds-font-title-2 mb-4 hidden sm:block",children:(0,D.jsx)(y.Z,AttendanceTrackingModal_objectSpread({},P.modalTitle))}),(0,D.jsx)("h3",{className:"ds-font-title-3 mb-2 block sm:hidden",children:(0,D.jsx)(y.Z,AttendanceTrackingModal_objectSpread({},P.modalTitle))}),(0,D.jsxs)("div",{className:"m-6 flex items-center rounded-2xl bg-ds-neutral50 py-3 px-4",children:[(0,D.jsx)(S.Z,{photo:r,imageClassName:"rounded-xl h-full object-cover object-center",title:a||"",imageSize:{maxWidth:48,maxHeight:48}}),(0,D.jsxs)("div",{className:"ds-font-small ml-2 flex-1",children:[o,": ",a]})]}),(0,D.jsx)(x.Z,{isOpen:v,parentRef:null==m?void 0:m.current,className:"m-auto my-5 mb-1 flex w-1/2 items-center justify-center bg-black",children:(0,D.jsx)("span",{className:"ds-font-tiny ml-1",children:(0,D.jsx)(y.Z,AttendanceTrackingModal_objectSpread({},P.whyAreWeAsking))})}),(0,D.jsxs)("div",{ref:m,onMouseEnter:()=>manageTooltip(!0),onMouseLeave:()=>manageTooltip(!1),className:"m-auto my-5 flex w-1/2 cursor-pointer items-center justify-center",children:[(0,D.jsx)(O.ZP,{icon:"infoOutline",size:16}),(0,D.jsx)("span",{className:"ds-font-tiny ml-1",children:(0,D.jsx)(y.Z,AttendanceTrackingModal_objectSpread({},P.whyAreWeAskingTooltip))})]}),(0,D.jsxs)("div",{className:"flex items-center justify-center",children:[(0,D.jsxs)(j.zx,{onClick:c,className:"mx-2 flex w-[100px] items-center justify-center",children:[(0,D.jsx)(O.ZP,{icon:"close",outline:!0,size:18}),(0,D.jsx)("span",{className:"ml-1",children:(0,D.jsx)(y.Z,AttendanceTrackingModal_objectSpread({},P.noButton))})]}),(0,D.jsxs)(j.zx,{onClick:u,className:"mx-2 flex w-[100px] items-center justify-center",children:[(0,D.jsx)(O.ZP,{icon:"check",outline:!0,size:18}),(0,D.jsx)("span",{className:"ml-1",children:(0,D.jsx)(y.Z,AttendanceTrackingModal_objectSpread({},P.yesButton))})]})]})]})},M=n(84229),T=n(95895),N=n(13413),C=n(47468),_=n(57723);function StarRatingModal_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var EventFeedback_StarRatingModal=e=>{let{isOpen:t,isClosable:n,onRatingSelected:i,rating:r,onClose:s}=e;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(w.default,{isClosable:n??!0,isOpen:t,onClose:s,children:[(0,D.jsx)("h2",{className:"ds-font-title-3 mb-2 text-center sm:text-2xl",children:(0,D.jsx)(y.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?StarRatingModal_ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):StarRatingModal_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},C.k.feedbackStarRatingTitle))}),(0,D.jsx)(_.Z,{rating:r,onSelectRating:i})]})})};function LastEventFeedbackModal_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let F="hideEventFeedbackUntil",A="lastEventForFeedback",isDismissable=e=>{var t;return(null==e?void 0:null===(t=e.settings)||void 0===t?void 0:t.attendance_tracking_modal_dismissable)??!0},shouldHideNonDismissableModal=e=>{var t,n;if(!(0,v.$V)())return!1;let o=null===(t=localStorage)||void 0===t?void 0:t.getItem(A),i=null===(n=sessionStorage)||void 0===n?void 0:n.getItem(A);return o===e&&i!==e},shouldHideModal=()=>{var e;if(!(0,v.$V)())return!1;let t=new Date().getTime(),n=Number(null===(e=sessionStorage)||void 0===e?void 0:e.getItem(F))??0;return n>t},updateDismissedFeedbackTimestamp=()=>{if((0,v.$V)()){var e;null===(e=sessionStorage)||void 0===e||e.setItem(F,String(new Date().getTime()+18e5))}};var EventFeedback_LastEventFeedbackModal=e=>{var t;let{forceLoggedOut:n}=e,{0:l,1:d}=(0,i.useState)(!0),{0:c,1:u}=(0,i.useState)(!1),{0:v,1:m}=(0,i.useState)(!1),{0:y,1:j}=(0,i.useState)(!1),{0:O,1:w}=(0,i.useState)(!1),{0:S,1:x}=(0,i.useState)(0),[E]=(0,p.I)(),[P]=(0,N.o)({context:{uri:a.M}}),{sendNotification:_}=(0,b.ZP)(),{formatMessage:F}=(0,r.Z)(),R=(0,s.S)(),{settings:I}=(0,h.N)(),Z=(0,g.Z)("cache-first"),{eventForFeedback:U}=useEventForFeedback(n),{0:W,1:G}=(0,i.useState)(!1),{0:Y,1:K}=(0,i.useState)(null);(0,i.useEffect)(()=>{U&&K(U)},[U]);let{id:H,featuredEventPhoto:B,group:z,title:L}=Y||{},{keyGroupPhoto:V,name:$}=z||{},setNextOpenModal=e=>{switch(e){case"attendanceTracking":w(!1),m(!0),j(!1);break;case"starRating":w(!0),m(!1),j(!1);break;case"detailedFeedback":w(!1),m(!1),j(!0);break;case"none":w(!1),m(!1),j(!1)}};(0,i.useEffect)(()=>{var e,t,n,o,i,r;if(void 0===H)return;let s=(null===(e=I.settings)||void 0===e?void 0:e.attendance_tracking_enabled)??!1,a=!!(null!=Z&&null!==(t=Z.user)&&void 0!==t&&t.isOrganizer)||!!(null!=Z&&null!==(n=Z.user)&&void 0!==n&&n.isProOrganizer)||!!(null!=Z&&null!==(o=Z.user)&&void 0!==o&&o.isProPrimaryOrganizer)||shouldHideModal()||!s||shouldHideNonDismissableModal(H)&&!isDismissable(I);d(a),a||(null===(i=localStorage)||void 0===i||i.setItem(A,H),null===(r=sessionStorage)||void 0===r||r.setItem(A,H))},[H,I.settings,d,I,null==Z?void 0:Z.user]),(0,i.useEffect)(()=>{c||l||v||void 0===Y||(setNextOpenModal("attendanceTracking"),u(!0),null==R||R.trackUserAction({kind:k.E.FEEDBACK_MODAL_OPENED,info:{event:{id:null==Y?void 0:Y.id}}}))},[v,Y,l,c,R]);let sendFeedback=async(e,t)=>{try{var n,i,r,s;if(W)return;if(!H)throw Error("Event ID is not defined");G(!0);let o=await P({variables:{input:{eventId:H,surveyId:e,responses:t}}});if(null!=o&&null!==(n=o.data)&&void 0!==n&&null!==(i=n.submitFeedback)&&void 0!==i&&i.errors)throw Error(JSON.stringify(null==o?void 0:null===(r=o.data)||void 0===r?void 0:null===(s=r.submitFeedback)||void 0===s?void 0:s.errors));return null==R||R.trackUserAction({kind:k.E.FEEDBACK_SUBMITTED,info:{event:{id:H},feedback:{surveyId:e,responses:t}}}),!0}catch(n){return _(F(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LastEventFeedbackModal_ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LastEventFeedbackModal_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},C.k.feedbackError)),{type:b.Dy.ERROR,autoClose:!0}),null==R||R.trackUserAction({kind:k.E.FEEDBACK_SUBMISSION_ERROR,info:{event:{id:H},feedback:{surveyId:e,responses:t},error:{message:String(n)}}}),updateDismissedFeedbackTimestamp(),!1}finally{G(!1),K(null)}},handleUserDidNotGo=async()=>{null==R||R.trackUserAction({kind:k.E.ATTENDANCE_NO_CLICKED,info:{event:{id:H}}});let e=[{answerValue:M.RW,questionValue:M.R}];await sendFeedback(M.MQ,e),setNextOpenModal("none")},handleUserDidGo=async()=>{null==R||R.trackUserAction({kind:k.E.ATTENDANCE_YES_CLICKED,info:{event:{id:H}}}),setNextOpenModal("starRating"),await E({variables:{input:{eventId:H,suppress:!0}}})},handleFeedbackDismiss=async()=>{var e;null==R||R.trackUserAction({kind:k.E.ATTENDANCE_TRACKING_DISMISSED,info:{event:{id:H}}}),setNextOpenModal("none"),null===(e=localStorage)||void 0===e||e.setItem(f,H),await E({variables:{input:{eventId:H,suppress:!0}}})};return l?null:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(AttendanceTracking_AttendanceTrackingModal,{dismissable:isDismissable(I),onClose:handleFeedbackDismiss,isOpen:v,eventId:H,eventName:$,eventPhoto:B||V,eventTitle:L,onNoClicked:handleUserDidNotGo,onYesClicked:handleUserDidGo}),(0,D.jsx)(EventFeedback_StarRatingModal,{isOpen:O,rating:S,onRatingSelected:e=>{x(e),setNextOpenModal("detailedFeedback")},onClose:()=>{setNextOpenModal("none")}}),(0,D.jsx)(T.Z,{eventId:H,suppressFeedbackOnDismiss:!0,hideRating:!0,isOpen:y&&!!H,onClose:()=>j(!1),onOpen:()=>j(!0),rating:S,groupName:null==z?void 0:z.name,urlname:null==z?void 0:z.urlname,userName:null==Z?void 0:null===(t=Z.user)||void 0===t?void 0:t.username,onSendFeedback:(e,t)=>sendFeedback(e,t),onSelectRating:e=>{x(e)}})]})}},47468:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var o=n(73193);let i=(0,o.vU)({feedbackHelpShapeFutureEvents:{id:"event-home.feedbackHelpShapeFutureEvents",defaultMessage:"Help shape future events."},feedbackResponseHepfulForGroupOrganizers:{id:"event-home.feedbackResponseHepfulForGroupOrganizers",defaultMessage:"{VALUE} Your rating and review is helpful for group organizers."},feedbackHowWasEvent:{id:"event-home.feedbackHowWasEvent",defaultMessage:"How was this event?"},feedbackDidNotGo:{id:"event-home.feedbackDidNotGo",defaultMessage:"I didn't go"},feedbackReport:{id:"event-home.feedbackReportThisEvent",defaultMessage:"Report this event"},feedbackModalTitle:{id:"event-home.feedbackModalTitle",defaultMessage:"That's great! What made it worthwhile"},feedbackYesHeadline:{id:"event-home.feedbackYesHeadline",defaultMessage:"That’s great! What made it worthwhile?"},feedbackYesWelcome:{id:"event-home.feedbackYesWelcome",defaultMessage:"Feeling welcome"},feedbackYesPeople:{id:"event-home.feedbackYesPeople",defaultMessage:"Meeting people"},feedbackYesDoing:{id:"event-home.feedbackYesDoing",defaultMessage:"Doing things together"},feedbackYesLearning:{id:"event-home.feedbackYesLearning",defaultMessage:"Learning something new"},feedbackYesPurpose:{id:"event-home.feedbackYesPurpose",defaultMessage:"Sharing a purpose"},feedbackYesEnergized:{id:"event-home.feedbackYesEnergized",defaultMessage:"Being energized/supported"},feedbackYesGrowth:{id:"event-home.feedbackYesGrowth",defaultMessage:"Experiencing growth"},feedbackYesPossibilities:{id:"event-home.feedbackYesPossibilities",defaultMessage:"Seeing new possibilities"},feedbackConfirmationTitle:{id:"event-home.feedbackConfirmationTitle",defaultMessage:"Thanks for being awesome."},feedbackConfirmationDescription:{id:"event-home.feedbackConfirmationDescription",defaultMessage:"A little feedback from you helps make Meetup events better for everyone. And now, on to the next!"},feedbackConfirmationDidntGoTitle:{id:"event-home.feedbackConfirmationDidntGoTitle",defaultMessage:"Thanks for sharing."},feedbackConfirmationDidntGoDescription:{id:"event-home.feedbackConfirmationDidntGoDescription",defaultMessage:"You honest feedback helps make the Meetup experience better for everyone."},feedbackPlaceholder:{id:"event-home.feedbackPlaceholder",defaultMessage:"You shared feedback on {DATE}. Your feedback helps make the Meetup experience better for everyone."},feedbackButtonSelect:{id:"event-home.feedbackButtonSelect",defaultMessage:"Select at least one"},feedbackButtonDone:{id:"event-home.feedbackButtonDone",defaultMessage:"Done"},feedbackError:{id:"postEventFeedback.feedbackError",defaultMessage:"Something went wrong. Your feedback did not go through."},feedbackStarRatingTitle:{id:"postEventFeedback.howWasTheEventStarRating",defaultMessage:"How was the event?"},didNotGoConfirmationDialogTitle:{id:"event-home.didNotGoConfirmationDialogTitle",defaultMessage:"Your answer has been submitted"},didNotGoConfirmationDialogBody:{id:"event-home.didNotGoConfirmationDialogBody",defaultMessage:"Your input helps us give you better recommendations!"},didNotGoError:{id:"event-home.didNotGoError",defaultMessage:"Something went wrong."},feedbackButtonDismiss:{id:"event-home.feedbackButtonDismiss",defaultMessage:"Dismiss"}})},14010:function(e,t,n){"use strict";n.d(t,{BJ:function(){return useGetConnectionsNotificationsQuery}});var o=n(19278),i=n(76185),r=n(74596);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let s={},a=r.Ps`
  query getConnectionsNotifications($first: Int) {
    self {
      id
      recentEvents: rsvps(
        first: 5
        filter: { eventStatus: PAST, rsvpStatus: [YES, ATTENDED] }
        sort: { sortField: DATETIME, sortOrder: DESC }
      ) {
        edges {
          node {
            event {
              id
              featuredEventPhoto {
                source: highResUrl
              }
              title
              group {
                id
                keyGroupPhoto {
                  source: highResUrl
                }
                name
                urlname
              }
              memberConnectionSelectionWindow
              rsvps(filter: { potentialMemberConnections: true }, first: $first) {
                edges {
                  node {
                    id
                    member {
                      name
                      memberPhoto {
                        id
                        highResUrl
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`;function useGetConnectionsNotificationsQuery(e){let t=_objectSpread(_objectSpread({},s),e);return i.a(a,t)}},27644:function(e,t,n){"use strict";var o=n(73193),i=n(4814),r=n(45334),s=n(11527);t.Z=e=>{let{count:t,members:n,isShowAdditionalCount:a}=e;return(0,s.jsx)("ul",{className:(0,i.Z)("relative flex h-[56px] w-[112px]","u9erjvc"),children:null==n?void 0:n.map((e,l)=>{let{name:d,photo:c}=e,u=l===n.length-1;return(0,s.jsxs)("li",{className:"absolute h-full w-[56px] rounded-full border border-2 border-white bg-gray4",style:{left:32*l},children:[(0,s.jsx)(r.mq,{width:52,height:52,name:d,memberPhotoUrl:null!=c&&c.id?(0,r.J1)(null==c?void 0:c.id,r.Dy.HIGHRES):null}),u&&!!t&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"d12osj2x"}),(0,s.jsxs)("div",{className:(0,i.Z)("ds-font-small-medium absolute left-[50%] top-[50%] text-white","dvx0s4g"),children:["+",(0,s.jsx)(o.BK,{value:t,notation:"compact"})]})]})]},l)})})},n(441)},25253:function(e,t,n){"use strict";let o;n.d(t,{Z:function(){return ConnectionsPrompt_ConnectionsPrompt}});var i,r=n(19278),s=n(50959),a=n(36122),l=n(80417),d=n(52374),c=n(92618),u=n(55218),v=n(62605),f=n(49516),m=n(43114),b=n(84229),g=n(13413),p=n(46089),h=n(9905),k=n(2931),y=n(4814),j=n(50542),O=n(47971),w=n(7496),S=n(7399),x=n(27644);(i=o||(o={})).View="view-connection-modal",i.ConnectNow="connect-now";var E=n(73193);let P=(0,E.vU)({expiresIn:{id:"connectionsPrompt.expiresIn",defaultMessage:"Expires in {HOURS, plural, one {# hour} other {# hours}}"},expiresSoon:{id:"connectionsPrompt.expiresSoon",defaultMessage:"Expires soon"},connectWith:{id:"connectionsPrompt.connectWith",defaultMessage:"Connect with someone you met..."},connectNow:{id:"connectionsPrompt.connectNow",defaultMessage:"Connect now"},didntGo:{id:"connectionsPrompt.didntGo",defaultMessage:"I didn’t go"},smthWentWrong:{id:"connectionsPrompt.smthWentWrong",defaultMessage:"Something went wrong. Please try again."},timeRunningOut:{id:"connectionsPrompt.timeRunningOut",defaultMessage:"Time is running out!"}});var D=n(11527);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ConnectionsPrompt_ConnectionsPrompt=e=>{var t,n;let{forceLoggedOut:i}=e,{0:r,1:E}=(0,s.useState)(!1),{0:M,1:T}=(0,s.useState)(!1),{formatMessage:N}=(0,a.Z)(),C=(0,v.ZP)(),[_]=(0,g.o)({context:{uri:c.M}}),{sendNotification:F}=(0,f.ZP)(),{settings:A}=(0,h.N)(),R=(0,m.Z)("cache-first"),{eventForFeedback:I,timeRemaining:Z}=(0,u.o)(i),U=(null==I?void 0:null===(t=I.rsvps)||void 0===t?void 0:null===(n=t.edges)||void 0===n?void 0:n.length)>0&&!C,{featuredEventPhoto:W,group:G,title:Y,rsvps:K,id:H}=I||{},{keyGroupPhoto:B,name:z}=G||{},{hours:L}=Z||{},V=!(0,p.Up)(Z||{}),onClose=async()=>{var e;null===(e=localStorage)||void 0===e||e.setItem(u.G,H),E(!0)},onDidntGo=async()=>{try{var e,t;let n=await _({variables:{input:{eventId:H,surveyId:b.MQ,responses:[{answerValue:b.RW,questionValue:b.R}]}}});if(null!=n&&null!==(e=n.data)&&void 0!==e&&null!==(t=e.submitFeedback)&&void 0!==t&&t.errors)throw Error("error");onClose()}catch(e){F(N(P.smthWentWrong),{type:f.Dy.ERROR,autoClose:!0})}},$=null==K?void 0:K.edges.map(e=>{var t,n,o,i,r,s;let{node:a}=e;return{id:null==a?void 0:null===(t=a.member)||void 0===t?void 0:t.id,name:null==a?void 0:null===(n=a.member)||void 0===n?void 0:n.name,photo:{id:null==a?void 0:null===(o=a.member)||void 0===o?void 0:null===(i=o.memberPhoto)||void 0===i?void 0:i.id,source:null==a?void 0:null===(r=a.member)||void 0===r?void 0:null===(s=r.memberPhoto)||void 0===s?void 0:s.highResUrl}}});return((0,s.useEffect)(()=>{!r&&U&&setTimeout(()=>{(0,O.ZP)({event:"gaEvent",eventCategory:o.View,eventAction:"view",eventLabel:o.View})},2500)},[r,U]),(0,s.useEffect)(()=>{var e,t,n,o;let i=(null===(e=A.settings)||void 0===e?void 0:e.attendance_tracking_enabled)??!0,r=!!(null!=R&&null!==(t=R.user)&&void 0!==t&&t.isOrganizer)||!!(null!=R&&null!==(n=R.user)&&void 0!==n&&n.isProOrganizer)||!!(null!=R&&null!==(o=R.user)&&void 0!==o&&o.isProPrimaryOrganizer);T(!i||r)},[A.settings,null==R?void 0:R.user]),r||!U)?null:(0,D.jsxs)("div",{"data-event-category":o.View,children:[(0,D.jsx)("div",{className:"absolute inset-0 z-50 block bg-gray7 bg-opacity-80 sm:hidden",onClick:onClose}),(0,D.jsxs)("div",{className:(0,y.Z)("fixed bottom-0 right-0 z-modal w-full rounded-t-2xl bg-white px-4 pt-[55px] pb-[15px] sm:right-6 sm:w-[393px]","d1skqyhi"),"data-testId":"connections-prompt",children:[(0,D.jsx)("button",{className:"absolute top-4 right-4 p-1",onClick:onClose,"data-testid":"close-connections-prompt",children:(0,D.jsx)(d.ZP,{icon:"close",outline:!0})}),(0,D.jsx)("div",{className:"ds-font-tiny-medium mb-2 max-w-[fit-content] rounded-lg bg-marigold py-1 px-2 text-ds-mustard900",children:V?(0,D.jsx)(l.Z,_objectSpread(_objectSpread({},L<1?P.expiresSoon:P.expiresIn),{},{values:{HOURS:L}})):(0,D.jsx)(l.Z,_objectSpread({},P.timeRunningOut))}),(0,D.jsxs)("div",{className:"mb-6 flex items-center rounded-2xl bg-ds-neutral50 py-3 px-4",children:[(0,D.jsx)(S.Z,{photo:W||B,imageClassName:"rounded-xl h-full object-cover object-center",title:Y||"",imageSize:{maxWidth:48,maxHeight:48}}),(0,D.jsxs)("div",{className:"ds-font-small ml-2 flex-1",children:[z,": ",Y]})]}),(0,D.jsxs)("div",{className:"mb-6",children:[(0,D.jsx)("h3",{className:"ds-font-title-3 mb-2",children:(0,D.jsx)(l.Z,_objectSpread({},P.connectWith))}),(0,D.jsx)(x.Z,{members:$.slice(0,10),count:$.length-10,isShowAdditionalCount:$.length>=10})]}),(0,D.jsx)(w.Z,{variant:k.c7.PRIMARY,className:"mx-auto mb-4 block w-full max-w-[345px] text-center font-medium",href:(0,j.r6c)(null==G?void 0:G.urlname,H,window.location.href),"data-event-label":o.ConnectNow,children:(0,D.jsx)(l.Z,_objectSpread({},P.connectNow))}),M&&(0,D.jsx)(k.ZP,{variant:k.c7.SIMPLE,className:"ds-font-small-medium mx-auto block underline",onClick:onDidntGo,children:(0,D.jsx)(l.Z,_objectSpread({},P.didntGo))})]})]})};n(75483)},441:function(e){e.exports={u9erjvc:"u9erjvc",d12osj2x:"d12osj2x",dvx0s4g:"dvx0s4g"}},75483:function(e){e.exports={d1skqyhi:"d1skqyhi"}}}]);